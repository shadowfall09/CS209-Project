{"items":[{"tags":["java","jquery","spring","datatables"],"comments":[{"owner":{"account_id":7384360,"reputation":1070,"user_id":5619827,"accept_rate":80,"display_name":"Horsing"},"score":0,"creation_date":1462769828,"post_id":37107570,"comment_id":61757960,"body_markdown":"It seems what you post is not the real part of your question. The exception is obvious from your service and it could be triggered by your click but obviously you do not post the request part. You should check the real request to your web server not behavior after the request done. If you are not sure, you can publish  you project on github and post the repository here to let us know, it could be helpful.","body":"It seems what you post is not the real part of your question. The exception is obvious from your service and it could be triggered by your click but obviously you do not post the request part. You should check the real request to your web server not behavior after the request done. If you are not sure, you can publish  you project on github and post the repository here to let us know, it could be helpful."}],"answers":[{"tags":[],"owner":{"account_id":7291923,"reputation":1651,"user_id":5558042,"accept_rate":89,"display_name":"FreezY"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1602565941,"creation_date":1463641678,"answer_id":37316201,"question_id":37107570,"body_markdown":"From the exception, your problem likely occurs because the `@RequestMapping` doesn&#39;t find the parameter being sent from previous the page.\r\n\r\nIn this case, it is likely like this:\r\n\r\n    @RequestMapping(value = &quot;/check&quot;)\r\n    public String getID(@RequestParam(value = &quot;params&quot;) String params){\r\n    //your logic code here\r\n    }\r\n\r\nFrom here, the exception occurs when the `@RequestMapping` doesn&#39;t find `&quot;params&quot;`:\r\n\r\n    @RequestParam(value = &quot;params&quot;) String params\r\n\r\nThis happens because, by default, `@RequestParam` tries to get the value. It then returns an exception when the value is not found.\r\n\r\nSo you have two ways to resolve this, \r\n\r\n1) You can supply the URL `/check` with a `params` variable or,\r\n\r\n2) You can change the `@RequestParam` requirement to false like this:\r\n\r\n    @RequestParam(value = &quot;params&quot;, required = false) String params\r\n\r\nTake note that this is an example to reflect your scenario and problem. Gud luk.","title":"Exception: org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter &#39;params&#39; is not present","body":"<p>From the exception, your problem likely occurs because the <code>@RequestMapping</code> doesn't find the parameter being sent from previous the page.</p>\n<p>In this case, it is likely like this:</p>\n<pre><code>@RequestMapping(value = &quot;/check&quot;)\npublic String getID(@RequestParam(value = &quot;params&quot;) String params){\n//your logic code here\n}\n</code></pre>\n<p>From here, the exception occurs when the <code>@RequestMapping</code> doesn't find <code>&quot;params&quot;</code>:</p>\n<pre><code>@RequestParam(value = &quot;params&quot;) String params\n</code></pre>\n<p>This happens because, by default, <code>@RequestParam</code> tries to get the value. It then returns an exception when the value is not found.</p>\n<p>So you have two ways to resolve this,</p>\n<ol>\n<li><p>You can supply the URL <code>/check</code> with a <code>params</code> variable or,</p>\n</li>\n<li><p>You can change the <code>@RequestParam</code> requirement to false like this:</p>\n<p>@RequestParam(value = &quot;params&quot;, required = false) String params</p>\n</li>\n</ol>\n<p>Take note that this is an example to reflect your scenario and problem. Gud luk.</p>\n"},{"tags":[],"owner":{"account_id":6532574,"reputation":2212,"user_id":5053266,"accept_rate":67,"display_name":"RotS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573662599,"creation_date":1573662599,"answer_id":58841493,"question_id":37107570,"body_markdown":"I had the same error message. My mistake was that I wrote on Javascript side:\r\n\r\n    MyService.getStatus(vm.id);\r\n\r\ninstead of:\r\n\r\n    MyService.getStatus({id : vm.id});\r\n\r\nso the parameter was not named as expected on Java side:\r\n\r\n    @GetMapping(&quot;/myservice/getStatus&quot;)\r\n    @Timed\r\n    public ResponseEntity&lt;String&gt; getStatus(@RequestParam(&quot;id&quot;) Long id) {","title":"Exception: org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter &#39;params&#39; is not present","body":"<p>I had the same error message. My mistake was that I wrote on Javascript side:</p>\n\n<pre><code>MyService.getStatus(vm.id);\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>MyService.getStatus({id : vm.id});\n</code></pre>\n\n<p>so the parameter was not named as expected on Java side:</p>\n\n<pre><code>@GetMapping(\"/myservice/getStatus\")\n@Timed\npublic ResponseEntity&lt;String&gt; getStatus(@RequestParam(\"id\") Long id) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20952855,"reputation":435,"user_id":15394108,"display_name":"cng.buff"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650918798,"creation_date":1650613889,"answer_id":71965248,"question_id":37107570,"body_markdown":"It was fixed by adding `required = false` like this:\r\n\r\n\r\n\r\nBefore adding:\r\n\r\n    public String saveOrUpdate(\r\n\t\t@RequestParam(&quot;studentId&quot;) String studentId,\r\n\t\t@RequestParam(&quot;name&quot;) String name) {\r\n\r\nAfter adding:\r\n\r\n    public String saveOrUpdate(\r\n    \t\t@RequestParam(value = &quot;studentId&quot;, required = false) String studentId,\r\n    \t\t@RequestParam(&quot;name&quot;) String name) {\r\n\r\n","title":"Exception: org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter &#39;params&#39; is not present","body":"<p>It was fixed by adding <code>required = false</code> like this:</p>\n<p>Before adding:</p>\n<pre><code>public String saveOrUpdate(\n    @RequestParam(&quot;studentId&quot;) String studentId,\n    @RequestParam(&quot;name&quot;) String name) {\n</code></pre>\n<p>After adding:</p>\n<pre><code>public String saveOrUpdate(\n        @RequestParam(value = &quot;studentId&quot;, required = false) String studentId,\n        @RequestParam(&quot;name&quot;) String name) {\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1684397521,"post_id":76278026,"comment_id":134512907,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76278026/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16137588,"reputation":1,"user_id":11649649,"display_name":"dflopez"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684388347,"creation_date":1684388347,"answer_id":76278026,"question_id":37107570,"body_markdown":"Try replacing `@RequestParam(value = &quot;params&quot;) String params` with `@PathVariable String id`","title":"Exception: org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter &#39;params&#39; is not present","body":"<p>Try replacing <code>@RequestParam(value = &quot;params&quot;) String params</code> with <code>@PathVariable String id</code></p>\n"}],"owner":{"account_id":7410719,"reputation":107,"user_id":5638110,"display_name":"Vanan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97840,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":37316201,"answer_count":4,"score":7,"last_activity_date":1689271393,"creation_date":1462766590,"question_id":37107570,"body_markdown":"When i clicked the edit button the values from dataTable should display in form. But somehow it doesn&#39;t work. Below are my codes for reference.\r\n\r\nCall DataTable:\r\n\r\n    $(&quot;#tranTable&quot;).on(&quot;click&quot;, &quot;#edit&quot;, function(){\r\n \t\tvar row = $(this).closest(&quot;tr&quot;);\r\n\t\t\r\n\t\t$(&quot;#Own-Account&quot;).removeClass(&quot;hidden&quot;);\r\n\t\t$(&quot;fieldset#addToListMethod&quot;).addClass(&quot;hidden&quot;);\r\n\t\t$(&quot;fieldset#Own-Account #templateTrxId&quot;).val( row.find(&quot;[name$=templateTrxId]&quot;).val() )\r\n\t\t$(&quot;fieldset#Own-Account #templateId&quot;)\t.val( row.find(&quot;[name$=templateId]&quot;).val() )\r\n\t\t$(&quot;fieldset#newFT #fromAccNo&quot;)\t\t\t.val( row.find(&quot;[name$=fromAccNo]&quot;).val() ), \r\n\t\t$(&quot;fieldset#newFT #methodOfTransfer&quot;)\t.val( row.find(&quot;[name$=methodOfTransfer]&quot;).val() ), \r\n\t\t$(&quot;fieldset#Own-Account #toAccNo&quot;)\t\t.val( row.find(&quot;[name$=toAccNo]&quot;).val() ), \r\n\t\t$(&quot;fieldset#Own-Account #paymentRef&quot;)\t.val( row.find(&quot;[name$=paymentRef]&quot;).val() ),\r\n\t\t$(&quot;fieldset#Own-Account #amount&quot;)\t\t.val( row.find(&quot;[name$=amount]&quot;).val() ),\r\n\t\t            \r\n\t\t//hidden\r\n\t\t$(&quot;fieldset#Own-Account #otherPaymentDetail&quot;).val( row.find(&quot;[name$=otherPaymentDetail]&quot;).val() ),\r\n\t\t$(&quot;fieldset#Own-Account #email1&quot;).val( row.find(&quot;[name$=email1]&quot;).val() ),\t\t\t\r\n\t\t$(&quot;fieldset#Own-Account #email2&quot;).val( row.find(&quot;[name$=email2]&quot;).val() ),\r\n\t\t$(&quot;fieldset#Own-Account #sms1&quot;).val( row.find(&quot;[name$=sms1]&quot;).val() ),\r\n\t\t$(&quot;fieldset#Own-Account #sms2&quot;).val( row.find(&quot;[name$=sms2]&quot;).val() ),\r\n\t\t$(&quot;fieldset#Own-Account #purpose&quot;).val( row.find(&quot;[name$=purpose]&quot;).val() )\r\n\t\t$(&quot;fieldset#Own-Account #isEdit&quot;).val(1);\r\n\t\t$(&quot;fieldset#Own-Account #dataTableRowId&quot;).val(row.data(&quot;row-id&quot;));\r\n\t\t\r\n\t\t\r\n\t});","title":"Exception: org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter &#39;params&#39; is not present","body":"<p>When i clicked the edit button the values from dataTable should display in form. But somehow it doesn't work. Below are my codes for reference.</p>\n\n<p>Call DataTable:</p>\n\n<pre><code>$(\"#tranTable\").on(\"click\", \"#edit\", function(){\n    var row = $(this).closest(\"tr\");\n\n    $(\"#Own-Account\").removeClass(\"hidden\");\n    $(\"fieldset#addToListMethod\").addClass(\"hidden\");\n    $(\"fieldset#Own-Account #templateTrxId\").val( row.find(\"[name$=templateTrxId]\").val() )\n    $(\"fieldset#Own-Account #templateId\")   .val( row.find(\"[name$=templateId]\").val() )\n    $(\"fieldset#newFT #fromAccNo\")          .val( row.find(\"[name$=fromAccNo]\").val() ), \n    $(\"fieldset#newFT #methodOfTransfer\")   .val( row.find(\"[name$=methodOfTransfer]\").val() ), \n    $(\"fieldset#Own-Account #toAccNo\")      .val( row.find(\"[name$=toAccNo]\").val() ), \n    $(\"fieldset#Own-Account #paymentRef\")   .val( row.find(\"[name$=paymentRef]\").val() ),\n    $(\"fieldset#Own-Account #amount\")       .val( row.find(\"[name$=amount]\").val() ),\n\n    //hidden\n    $(\"fieldset#Own-Account #otherPaymentDetail\").val( row.find(\"[name$=otherPaymentDetail]\").val() ),\n    $(\"fieldset#Own-Account #email1\").val( row.find(\"[name$=email1]\").val() ),          \n    $(\"fieldset#Own-Account #email2\").val( row.find(\"[name$=email2]\").val() ),\n    $(\"fieldset#Own-Account #sms1\").val( row.find(\"[name$=sms1]\").val() ),\n    $(\"fieldset#Own-Account #sms2\").val( row.find(\"[name$=sms2]\").val() ),\n    $(\"fieldset#Own-Account #purpose\").val( row.find(\"[name$=purpose]\").val() )\n    $(\"fieldset#Own-Account #isEdit\").val(1);\n    $(\"fieldset#Own-Account #dataTableRowId\").val(row.data(\"row-id\"));\n\n\n});\n</code></pre>\n"},{"tags":["java","freemarker"],"answers":[{"comments":[{"owner":{"account_id":19463827,"reputation":305,"user_id":14237523,"display_name":"The_new_coder"},"score":0,"creation_date":1689340169,"post_id":76682125,"comment_id":135203431,"body_markdown":"Thank you, @ddekany, for pointing that out. I totally missed it! You&#39;re right—I should have set the Environment.setLocale(locale) property within my Java code itself. The good news is that once I made that change, everything started working smoothly. I didn&#39;t need to touch the FTL templates at all. The problem was actually in our Java code, where we were neglecting user language preferences and passing the default locale instead. Silly mistake! But now I&#39;ve updated the code to include the user-selected language in the environment settings, Problem solved. Lesson learned!  Thank you again!","body":"Thank you, @ddekany, for pointing that out. I totally missed it! You&#39;re right—I should have set the Environment.setLocale(locale) property within my Java code itself. The good news is that once I made that change, everything started working smoothly. I didn&#39;t need to touch the FTL templates at all. The problem was actually in our Java code, where we were neglecting user language preferences and passing the default locale instead. Silly mistake! But now I&#39;ve updated the code to include the user-selected language in the environment settings, Problem solved. Lesson learned!  Thank you again!"}],"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689271358,"creation_date":1689271358,"answer_id":76682125,"question_id":76674279,"body_markdown":"Ideally, the Java code that calls FreeMarker sets the `locale` setting to the desired locale (via the FreeMarker settings API, like `Environment.setLocale(locale)` for single template processing), and you have to do nothing in the template itself. Numbers by default are formatted for human audience, which is already locale sensitive.\r\n\r\nIf, for whatever reason, you can&#39;t achieve that (like you aren&#39;t developing the Java code, and those who do can&#39;t be reasoned with), then you can set the `locale` in the template too with the `#setting` directive. For example:\r\n\r\n    &lt;#setting locale=&quot;en_US&quot;&gt;\r\n    ${3.14}\r\n    &lt;#setting locale=&quot;fi_FI&quot;&gt;\r\n    ${3.14}\r\n\r\nwill print:\r\n\r\n    3.14\r\n    3,14\r\n","title":"How to use Locale in freemarker template","body":"<p>Ideally, the Java code that calls FreeMarker sets the <code>locale</code> setting to the desired locale (via the FreeMarker settings API, like <code>Environment.setLocale(locale)</code> for single template processing), and you have to do nothing in the template itself. Numbers by default are formatted for human audience, which is already locale sensitive.</p>\n<p>If, for whatever reason, you can't achieve that (like you aren't developing the Java code, and those who do can't be reasoned with), then you can set the <code>locale</code> in the template too with the <code>#setting</code> directive. For example:</p>\n<pre><code>&lt;#setting locale=&quot;en_US&quot;&gt;\n${3.14}\n&lt;#setting locale=&quot;fi_FI&quot;&gt;\n${3.14}\n</code></pre>\n<p>will print:</p>\n<pre><code>3.14\n3,14\n</code></pre>\n"}],"owner":{"account_id":19463827,"reputation":305,"user_id":14237523,"display_name":"The_new_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76682125,"answer_count":1,"score":0,"last_activity_date":1689271358,"creation_date":1689194150,"question_id":76674279,"body_markdown":"I am very new to free marker , I having an issue , I want to create a PDF using ftl , there I need to show the data as per locale ,data I want to format as per locale is (double)amount.\r\ne.g \r\n\r\n \r\n\r\n       DataDto{\r\n          double amount;\r\n       }\r\n    \r\nNow I want to show this data in pdf as per locale e.g. for fi_FI 1.00 -&gt; 1,00 and for us_US 1.00 -&gt; 1.00.\r\nI checked [this][1] and [this][2] and [this][3] too, but did not get any solid answer..\r\nI tried to make method in dto which will return the formatted number as string but when tried to call this method in ftl got the error like InvalidReferenceException.\r\nI am not getting any way to get it done , Is there any way we can achieve this like can we using something is setting directives if I define locale in dto class and get it in ftl.\r\nor can call the method in ftl.\r\n\r\n${data.amount?string(&quot;${data.locale}&quot;)} gives current locale-&gt; en \r\nI dont know how to do it right \r\n\r\nAny lead would be appreciated:)\r\nThank you !  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19765706/get-locale-in-freemarker-template\r\n  [2]: https://stackoverflow.com/questions/2522248/how-to-get-locale-from-its-string-representation-in-java\r\n  [3]: https://freemarker.apache.org/docs/dgui_misc_computer_vs_human_format.html","title":"How to use Locale in freemarker template","body":"<p>I am very new to free marker , I having an issue , I want to create a PDF using ftl , there I need to show the data as per locale ,data I want to format as per locale is (double)amount.\ne.g</p>\n<pre><code>   DataDto{\n      double amount;\n   }\n</code></pre>\n<p>Now I want to show this data in pdf as per locale e.g. for fi_FI 1.00 -&gt; 1,00 and for us_US 1.00 -&gt; 1.00.\nI checked <a href=\"https://stackoverflow.com/questions/19765706/get-locale-in-freemarker-template\">this</a> and <a href=\"https://stackoverflow.com/questions/2522248/how-to-get-locale-from-its-string-representation-in-java\">this</a> and <a href=\"https://freemarker.apache.org/docs/dgui_misc_computer_vs_human_format.html\" rel=\"nofollow noreferrer\">this</a> too, but did not get any solid answer..\nI tried to make method in dto which will return the formatted number as string but when tried to call this method in ftl got the error like InvalidReferenceException.\nI am not getting any way to get it done , Is there any way we can achieve this like can we using something is setting directives if I define locale in dto class and get it in ftl.\nor can call the method in ftl.</p>\n<p>${data.amount?string(&quot;${data.locale}&quot;)} gives current locale-&gt; en\nI dont know how to do it right</p>\n<p>Any lead would be appreciated:)\nThank you !</p>\n"},{"tags":["java","solr","solr-query-syntax"],"comments":[{"owner":{"account_id":2979716,"reputation":12923,"user_id":2529954,"display_name":"EricLavault"},"score":1,"creation_date":1661787148,"post_id":73530239,"comment_id":129848825,"body_markdown":"Note that a _phrase_ query must be surrounded by quotes, the string should be set as `&#39;&quot;hello darkness my old friend&quot;&#39;` so that Solr can parse `&quot;hello darkness my old friend&quot;`.","body":"Note that a <i>phrase</i> query must be surrounded by quotes, the string should be set as <code>&#39;&quot;hello darkness my old friend&quot;&#39;</code> so that Solr can parse <code>&quot;hello darkness my old friend&quot;</code>."},{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":0,"creation_date":1661787369,"post_id":73530239,"comment_id":129848900,"body_markdown":"yes, you are absolutely right","body":"yes, you are absolutely right"}],"answers":[{"tags":[],"owner":{"account_id":29012274,"reputation":26,"user_id":22223523,"display_name":"akanarsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689271240,"creation_date":1689271240,"answer_id":76682113,"question_id":73530239,"body_markdown":"If you&#39;re using the unified highlighter in Solr 7 and newer, you can set the `hl.weightMatches` parameter to `true` to get the phrase highlighting exactly how you want. In Solr 8 this option is enabled by default.","title":"Highlighting only the entire phrase in custom Solr Query builder in Java","body":"<p>If you're using the unified highlighter in Solr 7 and newer, you can set the <code>hl.weightMatches</code> parameter to <code>true</code> to get the phrase highlighting exactly how you want. In Solr 8 this option is enabled by default.</p>\n"}],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76682113,"answer_count":1,"score":0,"last_activity_date":1689271240,"creation_date":1661782705,"question_id":73530239,"body_markdown":"I&#39;m trying to let Solr highlight only the entire phrase and not every word of the query. Supposing stopwords aren&#39;t a problem, my query phrase is: ```&quot;hello darkness my old friend&quot;``` and the highlighted result will be: ```&quot;&lt;em&gt;hello&lt;/em&gt; &lt;em&gt;darkness&lt;/em&gt; &lt;em&gt;my&lt;/em&gt; &lt;em&gt;old&lt;/em&gt; &lt;em&gt;friend&lt;/em&gt;. &lt;em&gt;hello&lt;/em&gt; there.&quot;```. What is the Java code to have this result? ```&quot;&lt;em&gt;hello darkness my old friend&lt;/em&gt;. hello there.&quot;```?\r\n\r\nHere is your minimum replicable example:\r\n\r\n    import org.apache.solr.client.solrj.SolrQuery;\r\n    \r\n    String query = &quot;hello darkness my old friend&quot;;\r\n    SolrQuery q = new SolrQuery(query);\r\n    q.setHighlightSimplePre(&quot;&lt;em&gt;&quot;);\r\n\tq.setHighlightSimplePost(&quot;&lt;/em&gt;&quot;);\r\n    String[] queryArray = query.split(&quot; &quot;);\r\n    \r\nI have already tried with:\r\n\r\n    q.setHighlightFragsize(query.length());\r\n    q.set(&quot;hl.usePhraseHighlighter&quot;, true);\r\n    q.set(&quot;hl.useFastVectorHighlighter&quot;, true);\r\n    q.setTermsMinCount(queryArray.length);\r\n    q.set(&quot;hl.multiTermQuery&quot;, true);\r\n\r\nbut with no luck.\r\n\r\nNote: for bool values eg. `usePhraseHighlighter` i even tried putting `true` as string. Nothing changed\r\n\r\nThank you everybody in advance","title":"Highlighting only the entire phrase in custom Solr Query builder in Java","body":"<p>I'm trying to let Solr highlight only the entire phrase and not every word of the query. Supposing stopwords aren't a problem, my query phrase is: <code>&quot;hello darkness my old friend&quot;</code> and the highlighted result will be: <code>&quot;&lt;em&gt;hello&lt;/em&gt; &lt;em&gt;darkness&lt;/em&gt; &lt;em&gt;my&lt;/em&gt; &lt;em&gt;old&lt;/em&gt; &lt;em&gt;friend&lt;/em&gt;. &lt;em&gt;hello&lt;/em&gt; there.&quot;</code>. What is the Java code to have this result? <code>&quot;&lt;em&gt;hello darkness my old friend&lt;/em&gt;. hello there.&quot;</code>?</p>\n<p>Here is your minimum replicable example:</p>\n<pre><code>import org.apache.solr.client.solrj.SolrQuery;\n\nString query = &quot;hello darkness my old friend&quot;;\nSolrQuery q = new SolrQuery(query);\nq.setHighlightSimplePre(&quot;&lt;em&gt;&quot;);\nq.setHighlightSimplePost(&quot;&lt;/em&gt;&quot;);\nString[] queryArray = query.split(&quot; &quot;);\n</code></pre>\n<p>I have already tried with:</p>\n<pre><code>q.setHighlightFragsize(query.length());\nq.set(&quot;hl.usePhraseHighlighter&quot;, true);\nq.set(&quot;hl.useFastVectorHighlighter&quot;, true);\nq.setTermsMinCount(queryArray.length);\nq.set(&quot;hl.multiTermQuery&quot;, true);\n</code></pre>\n<p>but with no luck.</p>\n<p>Note: for bool values eg. <code>usePhraseHighlighter</code> i even tried putting <code>true</code> as string. Nothing changed</p>\n<p>Thank you everybody in advance</p>\n"},{"tags":["java","spring","spring-boot","openapi","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":16471480,"reputation":1,"user_id":11900409,"display_name":"Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689270069,"creation_date":1689270069,"answer_id":76682001,"question_id":76680242,"body_markdown":"Found the solution. This creates a header param in the @RequestParam annotation enabling versioning.\r\n\r\n     \r\n     - in: header\r\n        name: X-API-VERSION\r\n        required: true\r\n        schema:\r\n          default: 2\r\n          type: integer\r\n          x-version-param: true\r\n        x-version-param: true","title":"How to add custom request headers that have pre-defined values for versioning purposes using the openapi spring server codegenerator","body":"<p>Found the solution. This creates a header param in the @RequestParam annotation enabling versioning.</p>\n<pre><code> - in: header\n    name: X-API-VERSION\n    required: true\n    schema:\n      default: 2\n      type: integer\n      x-version-param: true\n    x-version-param: true\n</code></pre>\n"}],"owner":{"account_id":16471480,"reputation":1,"user_id":11900409,"display_name":"Patrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689270069,"creation_date":1689256884,"question_id":76680242,"body_markdown":"I have one endpoint that is mapped to one springboot application.\r\n\r\nThat endpoint is GET `/places` that returns a list of places.\r\n\r\nI want to use a custom header called ``x-api-version`` that specifies which controller in my code should be used.\r\n\r\nSimple example. If I send a request to GET /places and this header is supplied with a corresponding value `x-api-version=2` then that request should be directed to `PlacesControllerV2#getPlacesV2()` and `x-api-version=3` should be directed to `PlacesControllerV3#getPlacesV3()`\r\n\r\nIn normal spring code this usually works like this without any bean mapping issues:\r\n\r\n```\r\n@RequestMapping(\r\n            method = RequestMethod.GET,\r\n            value = &quot;/places&quot;,\r\n            produces = {&quot;application/json&quot;, &quot;application/problem+json&quot;},\r\n            headers = {&quot;X-API-VERSION=2&quot;}\r\n    )\r\npublic ResponseEntity&lt;PlaceResponseV2&gt; getPlacesV2()\r\n{}\r\n```\r\n\r\nHowever when trying to do it using then openapi codegenerator I only get the header as a parameter `getPlacesV2(Integer xAPIVERSION){}` but that is already too late since I need to make the switch between controllers before I get to a controller. This also causes a bean mapping error since spring can&#39;t differentiate between the mapped path in the two controllers PlacesControllerV2 and PlacesControllerV3.\r\n\r\nThis is my build.gradle file:\r\n\r\n```\r\n    generatorName = &quot;spring&quot;\r\n    inputSpec = &quot;$rootDir/src/main/resources/openapi/OSDM-online-api-v2.0.5-rc.yml&quot;\r\n    outputDir = &quot;$buildDir/generated-osdm-oas&quot;\r\n    apiPackage = &quot;com.bene_system.osdm.facade.v2&quot;\r\n    modelPackage = &quot;com.bene_system.osdm&quot;\r\n    library = &quot;spring-boot&quot;\r\n    generateApiTests = false\r\n    generateApiDocumentation = false\r\n    configOptions = [\r\n            interfaceOnly: &quot;true&quot;,\r\n            dateLibrary: &quot;java8&quot;\r\n    ]\r\n    groupId = &#39;com.bene_system.osdm_facade&#39;\r\n    id = &#39;osdm-facade&#39;\r\n    skipValidateSpec = true\r\n    logToStderr = true\r\n    generateAliasAsModel = false\r\n    enablePostProcessFile = false\r\n    modelNameSuffix = &#39;V2&#39;\r\n    apiNameSuffix = &#39;V2&#39;\r\n```\r\n\r\nAnd this my yaml file:\r\n\r\n```paths:\r\n  /places:\r\n    get:\r\n      summary: Returns all places.\r\n      operationId: getPlacesV2\r\n      parameters:\r\n      - name: Requestor\r\n        in: header\r\n        description: &quot;The requestor header contains detailed information about who is calling the API. It can include information such as channel, organization, sales unit or workstation id and be used to configure e.g. the fare range provided to the caller. The content of the string is part of a bilateral contract by the two parties and not standardized by OSDM. It is recommend to encrypt the information transferred.&quot;\r\n        required: true\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          type: string\r\n      - name: Accept-Language\r\n        in: header\r\n        description: Describes the set of natural languages that are preferred for localized text in the response to the request (see RFC2616-sec14.4). Supporting English (en) is a must.\r\n        required: false\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          type: string\r\n      - name: traceparent\r\n        in: header\r\n        description: &quot;The traceparent header describes the position of the incoming request in its trace graph in a portable, fixed-length format. Its design focuses on fast parsing. Every tracing tool MUST properly set traceparent even when it only relies on vendor-specific information in tracestate (see W3C Trace Context).&quot;\r\n        required: false\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          type: string\r\n      - name: tracestate\r\n        in: header\r\n        description: The tracestate extends traceparent with vendor-specific data represented by a set of name/value pairs. Storing information in tracestate is optional (see W3C Trace Context).\r\n        required: false\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          type: string\r\n      - name: page\r\n        in: query\r\n        description: can be used for pagination\r\n        required: false\r\n        style: form\r\n        explode: true\r\n        schema:\r\n          type: string\r\n      - name: x-API-VERSION\r\n        in: header\r\n        description: Is used for versioning\r\n        required: true\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          type: integer\r\n          format: int32\r\n      responses:\r\n        &quot;200&quot;:\r\n          description: the requested places\r\n          headers:\r\n            Cache-Control:\r\n              style: simple\r\n              explode: false\r\n              schema:\r\n                type: string\r\n                description: Resource is fairly persistent and has a medium time to live to allow short-term caching.\r\n                default: &quot;public, max-age=10000&quot;\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/PlaceResponse&#39;\r\n```\r\n\r\nI tried setting an empty requestBody with content defined as `&quot;application/json;X-API-Version=2&quot;` like so:\r\n\r\n```\r\nrequestBody:\r\ncontent:\r\n&quot;application/json;X-API-Version=2&quot;:\r\nschema:\r\n```","title":"How to add custom request headers that have pre-defined values for versioning purposes using the openapi spring server codegenerator","body":"<p>I have one endpoint that is mapped to one springboot application.</p>\n<p>That endpoint is GET <code>/places</code> that returns a list of places.</p>\n<p>I want to use a custom header called <code>x-api-version</code> that specifies which controller in my code should be used.</p>\n<p>Simple example. If I send a request to GET /places and this header is supplied with a corresponding value <code>x-api-version=2</code> then that request should be directed to <code>PlacesControllerV2#getPlacesV2()</code> and <code>x-api-version=3</code> should be directed to <code>PlacesControllerV3#getPlacesV3()</code></p>\n<p>In normal spring code this usually works like this without any bean mapping issues:</p>\n<pre><code>@RequestMapping(\n            method = RequestMethod.GET,\n            value = &quot;/places&quot;,\n            produces = {&quot;application/json&quot;, &quot;application/problem+json&quot;},\n            headers = {&quot;X-API-VERSION=2&quot;}\n    )\npublic ResponseEntity&lt;PlaceResponseV2&gt; getPlacesV2()\n{}\n</code></pre>\n<p>However when trying to do it using then openapi codegenerator I only get the header as a parameter <code>getPlacesV2(Integer xAPIVERSION){}</code> but that is already too late since I need to make the switch between controllers before I get to a controller. This also causes a bean mapping error since spring can't differentiate between the mapped path in the two controllers PlacesControllerV2 and PlacesControllerV3.</p>\n<p>This is my build.gradle file:</p>\n<pre><code>    generatorName = &quot;spring&quot;\n    inputSpec = &quot;$rootDir/src/main/resources/openapi/OSDM-online-api-v2.0.5-rc.yml&quot;\n    outputDir = &quot;$buildDir/generated-osdm-oas&quot;\n    apiPackage = &quot;com.bene_system.osdm.facade.v2&quot;\n    modelPackage = &quot;com.bene_system.osdm&quot;\n    library = &quot;spring-boot&quot;\n    generateApiTests = false\n    generateApiDocumentation = false\n    configOptions = [\n            interfaceOnly: &quot;true&quot;,\n            dateLibrary: &quot;java8&quot;\n    ]\n    groupId = 'com.bene_system.osdm_facade'\n    id = 'osdm-facade'\n    skipValidateSpec = true\n    logToStderr = true\n    generateAliasAsModel = false\n    enablePostProcessFile = false\n    modelNameSuffix = 'V2'\n    apiNameSuffix = 'V2'\n</code></pre>\n<p>And this my yaml file:</p>\n<pre><code>  /places:\n    get:\n      summary: Returns all places.\n      operationId: getPlacesV2\n      parameters:\n      - name: Requestor\n        in: header\n        description: &quot;The requestor header contains detailed information about who is calling the API. It can include information such as channel, organization, sales unit or workstation id and be used to configure e.g. the fare range provided to the caller. The content of the string is part of a bilateral contract by the two parties and not standardized by OSDM. It is recommend to encrypt the information transferred.&quot;\n        required: true\n        style: simple\n        explode: false\n        schema:\n          type: string\n      - name: Accept-Language\n        in: header\n        description: Describes the set of natural languages that are preferred for localized text in the response to the request (see RFC2616-sec14.4). Supporting English (en) is a must.\n        required: false\n        style: simple\n        explode: false\n        schema:\n          type: string\n      - name: traceparent\n        in: header\n        description: &quot;The traceparent header describes the position of the incoming request in its trace graph in a portable, fixed-length format. Its design focuses on fast parsing. Every tracing tool MUST properly set traceparent even when it only relies on vendor-specific information in tracestate (see W3C Trace Context).&quot;\n        required: false\n        style: simple\n        explode: false\n        schema:\n          type: string\n      - name: tracestate\n        in: header\n        description: The tracestate extends traceparent with vendor-specific data represented by a set of name/value pairs. Storing information in tracestate is optional (see W3C Trace Context).\n        required: false\n        style: simple\n        explode: false\n        schema:\n          type: string\n      - name: page\n        in: query\n        description: can be used for pagination\n        required: false\n        style: form\n        explode: true\n        schema:\n          type: string\n      - name: x-API-VERSION\n        in: header\n        description: Is used for versioning\n        required: true\n        style: simple\n        explode: false\n        schema:\n          type: integer\n          format: int32\n      responses:\n        &quot;200&quot;:\n          description: the requested places\n          headers:\n            Cache-Control:\n              style: simple\n              explode: false\n              schema:\n                type: string\n                description: Resource is fairly persistent and has a medium time to live to allow short-term caching.\n                default: &quot;public, max-age=10000&quot;\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/PlaceResponse'\n</code></pre>\n<p>I tried setting an empty requestBody with content defined as <code>&quot;application/json;X-API-Version=2&quot;</code> like so:</p>\n<pre><code>requestBody:\ncontent:\n&quot;application/json;X-API-Version=2&quot;:\nschema:\n</code></pre>\n"},{"tags":["java","android","arcore","sceneform"],"answers":[{"comments":[{"owner":{"account_id":15957725,"reputation":186,"user_id":11515554,"display_name":"Bilz"},"score":0,"creation_date":1561391953,"post_id":56435157,"comment_id":100039257,"body_markdown":"i have not find it useful even if i use this mat file still no texture has been added on model..","body":"i have not find it useful even if i use this mat file still no texture has been added on model.."},{"owner":{"account_id":15957725,"reputation":186,"user_id":11515554,"display_name":"Bilz"},"score":0,"creation_date":1561970340,"post_id":56435157,"comment_id":100216817,"body_markdown":"i am still unable to add texture thorough this technique also i am facing problem in model conversion to .sfb is there any work around for this or what i am doing wrong. Any help in this regard appreciated.","body":"i am still unable to add texture thorough this technique also i am facing problem in model conversion to .sfb is there any work around for this or what i am doing wrong. Any help in this regard appreciated."}],"tags":[],"owner":{"account_id":9339124,"reputation":136,"user_id":6932487,"display_name":"Bobek Bobekos"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559599993,"creation_date":1559599993,"answer_id":56435157,"question_id":56185866,"body_markdown":"Not all models have a predefined texture sampler. So if you try to set a texture to a model wich doesn&#39;t have any texture channel you must first set a custom material to it.\r\n\r\nWhen you convert you model to sfb via android studio you can specify a custom material file. Here a simple example of a material where you can set a custom texture:\r\n\r\n```\r\nmaterial {\r\n    name : &quot;Textured material&quot;,\r\n    parameters : [\r\n        {\r\n           type : sampler2d,\r\n           name : texture\r\n        }\r\n    ],\r\n    requires : [\r\n        uv0\r\n    ],\r\n    shadingModel : lit,\r\n    blending : opaque\r\n}\r\n\r\nfragment {\r\n    void material(inout MaterialInputs material) {\r\n        prepareMaterial(material);\r\n        material.baseColor = texture(materialParams_texture, getUV0());\r\n    }\r\n}\r\n```\r\n\r\nJust save this as a .mat file, create the sfb with this material and then you code from above should work. If you want to apply the material at runtime it is not possible at moment without a small workaround. Just create a simple 3d model (for example a triangle) and convert it with this material to sfb. Then load the material at runtime and copy the material from it. Now when you load you model which you want to show you can simply override the original material with you custom one. ","title":"Applying Dynamic texture in arcore 3D model","body":"<p>Not all models have a predefined texture sampler. So if you try to set a texture to a model wich doesn't have any texture channel you must first set a custom material to it.</p>\n\n<p>When you convert you model to sfb via android studio you can specify a custom material file. Here a simple example of a material where you can set a custom texture:</p>\n\n<pre><code>material {\n    name : \"Textured material\",\n    parameters : [\n        {\n           type : sampler2d,\n           name : texture\n        }\n    ],\n    requires : [\n        uv0\n    ],\n    shadingModel : lit,\n    blending : opaque\n}\n\nfragment {\n    void material(inout MaterialInputs material) {\n        prepareMaterial(material);\n        material.baseColor = texture(materialParams_texture, getUV0());\n    }\n}\n</code></pre>\n\n<p>Just save this as a .mat file, create the sfb with this material and then you code from above should work. If you want to apply the material at runtime it is not possible at moment without a small workaround. Just create a simple 3d model (for example a triangle) and convert it with this material to sfb. Then load the material at runtime and copy the material from it. Now when you load you model which you want to show you can simply override the original material with you custom one. </p>\n"},{"tags":[],"owner":{"account_id":16059704,"reputation":243,"user_id":14576798,"display_name":"Rohit gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689269965,"creation_date":1689269965,"answer_id":76681995,"question_id":56185866,"body_markdown":"This is how I built a texture completableFuture\r\n\r\n    val texture = Texture.builder()\r\n                            .setSource(\r\n                                requireContext(),\r\n                                Uri.parse(filePath.absolutePath) //&quot;assets.png&quot;\r\n                            )\r\n                            .setUsage(Texture.Usage.DATA)\r\n                            .setSampler(\r\n                                Texture.Sampler.builder()\r\n                                    .setMagFilter(Texture.Sampler.MagFilter.LINEAR)\r\n                                    .setMinFilter(Texture.Sampler.MinFilter.LINEAR_MIPMAP_LINEAR)\r\n                                    .build()\r\n                            ).build()\r\n\r\n//inside achor, I tried initiating the model further \r\n\r\n    val anchor = hitResult.createAnchor()\r\n            model?.thenAccept { modelRenderable -&gt;\r\n                addModelToScene(arFragment, anchor, modelRenderable)\r\n                viewModel.modelRenderable = modelRenderable\r\n            }\r\n    enter code here\r\n\r\nInside the addModelToScene I tried applying the texture to the loaded model. \r\n\r\n     private fun addModelToScene(\r\n            arFragment: ARFragment,\r\n            anchor: Anchor?,\r\n            modelRenderable: ModelRenderable?,\r\n        ) {\r\n            val anchorNode = anchor?.let { AnchorNode(it) }\r\n    \r\n    \r\n    arFragment.transformationSystem.selectionVisualizer =\r\n                ARSupportHelper.Companion.HideCircleOnSelectionVisualiser()\r\n    \r\n            \r\n    \r\n    \r\n    val transformableNode =\r\n                TransformableNode(arFragment.transformationSystem)\r\n    \r\n    texture?.thenAccept { texture -&gt;\r\n    \r\n                MaterialFactory.makeOpaqueWithTexture(requireContext(), texture)\r\n                    .thenAccept { material: Material? -&gt;\r\n                        // Apply the material to the model\r\n    \r\n                        // Set the texture as a diffuse map\r\n                        material?.setFloat3(\r\n                            MaterialFactory.MATERIAL_COLOR,\r\n                            com.google.ar.sceneform.rendering.Color(0.219f, 0.172f, 0.52f)\r\n                        )\r\n                        material?.setTexture(MaterialFactory.MATERIAL_TEXTURE, texture)\r\n                        transformableNode.renderable?.material = material\r\n                    }\r\n                    .exceptionally { throwable: Throwable -&gt;\r\n                        val builder = AlertDialog.Builder(requireContext())\r\n                        builder.setTitle(&quot;Material Load Err!&quot;)\r\n                        builder.setMessage(throwable.message).show()\r\n                        return@exceptionally null\r\n                    }\r\n            }\r\n\r\nThere are multiple options like `makeOpaqueWithTexture`, `makeOpaqueWithColor`, `makeTransparentWithTexture`, `makeTransparentWithColor`\r\n\r\n","title":"Applying Dynamic texture in arcore 3D model","body":"<p>This is how I built a texture completableFuture</p>\n<pre><code>val texture = Texture.builder()\n                        .setSource(\n                            requireContext(),\n                            Uri.parse(filePath.absolutePath) //&quot;assets.png&quot;\n                        )\n                        .setUsage(Texture.Usage.DATA)\n                        .setSampler(\n                            Texture.Sampler.builder()\n                                .setMagFilter(Texture.Sampler.MagFilter.LINEAR)\n                                .setMinFilter(Texture.Sampler.MinFilter.LINEAR_MIPMAP_LINEAR)\n                                .build()\n                        ).build()\n</code></pre>\n<p>//inside achor, I tried initiating the model further</p>\n<pre><code>val anchor = hitResult.createAnchor()\n        model?.thenAccept { modelRenderable -&gt;\n            addModelToScene(arFragment, anchor, modelRenderable)\n            viewModel.modelRenderable = modelRenderable\n        }\nenter code here\n</code></pre>\n<p>Inside the addModelToScene I tried applying the texture to the loaded model.</p>\n<pre><code> private fun addModelToScene(\n        arFragment: ARFragment,\n        anchor: Anchor?,\n        modelRenderable: ModelRenderable?,\n    ) {\n        val anchorNode = anchor?.let { AnchorNode(it) }\n\n\narFragment.transformationSystem.selectionVisualizer =\n            ARSupportHelper.Companion.HideCircleOnSelectionVisualiser()\n\n        \n\n\nval transformableNode =\n            TransformableNode(arFragment.transformationSystem)\n\ntexture?.thenAccept { texture -&gt;\n\n            MaterialFactory.makeOpaqueWithTexture(requireContext(), texture)\n                .thenAccept { material: Material? -&gt;\n                    // Apply the material to the model\n\n                    // Set the texture as a diffuse map\n                    material?.setFloat3(\n                        MaterialFactory.MATERIAL_COLOR,\n                        com.google.ar.sceneform.rendering.Color(0.219f, 0.172f, 0.52f)\n                    )\n                    material?.setTexture(MaterialFactory.MATERIAL_TEXTURE, texture)\n                    transformableNode.renderable?.material = material\n                }\n                .exceptionally { throwable: Throwable -&gt;\n                    val builder = AlertDialog.Builder(requireContext())\n                    builder.setTitle(&quot;Material Load Err!&quot;)\n                    builder.setMessage(throwable.message).show()\n                    return@exceptionally null\n                }\n        }\n</code></pre>\n<p>There are multiple options like <code>makeOpaqueWithTexture</code>, <code>makeOpaqueWithColor</code>, <code>makeTransparentWithTexture</code>, <code>makeTransparentWithColor</code></p>\n"}],"owner":{"account_id":15957725,"reputation":186,"user_id":11515554,"display_name":"Bilz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689269965,"creation_date":1558093953,"question_id":56185866,"body_markdown":"i am unable to apply texture on 3d model which is convert from google scene form plugin. \r\ni only able to add texture on &quot;andy&quot; model,\r\nall custom models are not taking any texture. \r\n\r\ni have tried to apply texture technique which i found on github here is the link where i found \r\nhttps://github.com/google-ar/sceneform-android-sdk/issues/41\r\n\r\n        CompletableFuture&lt;Texture&gt; futuretexture= Texture.builder().setSource(this, R.drawable.texture).build();\r\n        ModelRenderable.builder()\r\n                .setSource(this, R.raw.model)\r\n                .build()\r\n                .thenAcceptBoth(futuretexture, (renderable, texture) -&gt; {\r\n                    andyRenderable = renderable;\r\n                    andyRenderable.getMaterial().setTexture(MaterialFactory.MATERIAL_TEXTURE, texture);\r\n                })\r\n                .exceptionally(\r\n                        throwable -&gt; {\r\n                            Toast toast =\r\n                                    Toast.makeText(this, &quot;Unable to load model_node renderable&quot;, Toast.LENGTH_LONG);\r\n                            toast.setGravity(Gravity.CENTER, 0, 0);\r\n                            toast.show();\r\n                            return null;\r\n                        });\r\n\r\n\r\ni expected to have texture which we selected on button click is applied on projected 3d model in ar core android","title":"Applying Dynamic texture in arcore 3D model","body":"<p>i am unable to apply texture on 3d model which is convert from google scene form plugin. \ni only able to add texture on \"andy\" model,\nall custom models are not taking any texture. </p>\n\n<p>i have tried to apply texture technique which i found on github here is the link where i found \n<a href=\"https://github.com/google-ar/sceneform-android-sdk/issues/41\" rel=\"nofollow noreferrer\">https://github.com/google-ar/sceneform-android-sdk/issues/41</a></p>\n\n<pre><code>    CompletableFuture&lt;Texture&gt; futuretexture= Texture.builder().setSource(this, R.drawable.texture).build();\n    ModelRenderable.builder()\n            .setSource(this, R.raw.model)\n            .build()\n            .thenAcceptBoth(futuretexture, (renderable, texture) -&gt; {\n                andyRenderable = renderable;\n                andyRenderable.getMaterial().setTexture(MaterialFactory.MATERIAL_TEXTURE, texture);\n            })\n            .exceptionally(\n                    throwable -&gt; {\n                        Toast toast =\n                                Toast.makeText(this, \"Unable to load model_node renderable\", Toast.LENGTH_LONG);\n                        toast.setGravity(Gravity.CENTER, 0, 0);\n                        toast.show();\n                        return null;\n                    });\n</code></pre>\n\n<p>i expected to have texture which we selected on button click is applied on projected 3d model in ar core android</p>\n"},{"tags":["java","prolog","jpl"],"answers":[{"tags":[],"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350878152,"creation_date":1350878152,"answer_id":13004788,"question_id":13003661,"body_markdown":"There should be a jpl dll or so, depending on your platform. You should either make it accessible somewhere in %PATH% or specify its location with `-Djava.library.path=&lt;path to jpl.dll&gt;` java property.\r\n\r\nRead more about [JPL installation][1]\r\n\r\n\r\n  [1]: http://www.swi-prolog.org/packages/jpl/installation.html","title":"Connect between java and swi prolog","body":"<p>There should be a jpl dll or so, depending on your platform. You should either make it accessible somewhere in %PATH% or specify its location with <code>-Djava.library.path=&lt;path to jpl.dll&gt;</code> java property.</p>\n\n<p>Read more about <a href=\"http://www.swi-prolog.org/packages/jpl/installation.html\" rel=\"nofollow\">JPL installation</a></p>\n"},{"tags":[],"owner":{"account_id":1890207,"reputation":383,"user_id":1708509,"display_name":"Felix Dobslaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360602973,"creation_date":1360602973,"answer_id":14817262,"question_id":13003661,"body_markdown":"I had the same problem. This helped me on Ubuntu:\r\n\r\n1) Point the native library location of the jpl jar to the folder where you hold your &quot;libswipl.so&quot; (I do that via the &quot;Java Build Path&quot; settings of the project). For me that is:\r\n\r\n/usr/lib/swipl-6.2.6/lib/x86_64-linux\r\n\r\n2) Add the folder where you hold your &quot;libjava.so&quot; to your LD_LIBRARY_PATH variable (I do that in my run configuration under the Environment tab). For me that is:\r\n\r\n/usr/lib/jvm/java-6-openjdk/jre/lib/amd64","title":"Connect between java and swi prolog","body":"<p>I had the same problem. This helped me on Ubuntu:</p>\n\n<p>1) Point the native library location of the jpl jar to the folder where you hold your \"libswipl.so\" (I do that via the \"Java Build Path\" settings of the project). For me that is:</p>\n\n<p>/usr/lib/swipl-6.2.6/lib/x86_64-linux</p>\n\n<p>2) Add the folder where you hold your \"libjava.so\" to your LD_LIBRARY_PATH variable (I do that in my run configuration under the Environment tab). For me that is:</p>\n\n<p>/usr/lib/jvm/java-6-openjdk/jre/lib/amd64</p>\n"},{"tags":[],"owner":{"account_id":4881680,"reputation":6433,"user_id":3935325,"accept_rate":86,"display_name":"villasv"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414101522,"creation_date":1414101522,"answer_id":26538186,"question_id":13003661,"body_markdown":"I had this problem today on Debian, and my solution was similar to Felix Dobslaw&#39;s. Because I couldn&#39;t find it elsewhere, I&#39;ll post how I solved it today.\n\nMy SWI-Prolog and JPL were installed via apt-get. Change the path folders accordinly to your environment.\n\n* Copy **libswipl.so** from `/usr/lib` to `usr/lib/swi-prolog/lib/amd64`\n\n  (`sudo cp &lt;probably-user-lib&gt;/libswipl.so &lt;installation-folder-swi&gt;/lib/&lt;architeture&gt;`)\n\n* Add `-Djava.library.path=&quot;/usr/lib/swi-prolog/lib/amd64&quot;` as VM Option\n\n  (Project Properties -&gt; Run -&gt; VM Options)","title":"Connect between java and swi prolog","body":"<p>I had this problem today on Debian, and my solution was similar to Felix Dobslaw's. Because I couldn't find it elsewhere, I'll post how I solved it today.</p>\n<p>My SWI-Prolog and JPL were installed via apt-get. Change the path folders accordinly to your environment.</p>\n<ul>\n<li><p>Copy <strong>libswipl.so</strong> from <code>/usr/lib</code> to <code>usr/lib/swi-prolog/lib/amd64</code></p>\n<p>(<code>sudo cp &lt;probably-user-lib&gt;/libswipl.so &lt;installation-folder-swi&gt;/lib/&lt;architeture&gt;</code>)</p>\n</li>\n<li><p>Add <code>-Djava.library.path=&quot;/usr/lib/swi-prolog/lib/amd64&quot;</code> as VM Option</p>\n<p>(Project Properties -&gt; Run -&gt; VM Options)</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":210819,"reputation":2485,"user_id":462642,"accept_rate":63,"display_name":"d135-1r43"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497959201,"creation_date":1497959201,"answer_id":44652212,"question_id":13003661,"body_markdown":"Solution for Eclipse Neon and homebrew:\r\n\r\n    brew update\r\n    brew install swi-prolog --with-jpl\r\n\r\nIn your Eclipse Run/Debug-Configuration set as VM-Arg:\r\n\r\n    -Djava.library.path=/usr/local/Cellar/swi-prolog/7.4.2/libexec/lib/swipl-7.4.2/lib/x86_64-darwin16.6.0\r\n\r\nActual path may vary. ","title":"Connect between java and swi prolog","body":"<p>Solution for Eclipse Neon and homebrew:</p>\n\n<pre><code>brew update\nbrew install swi-prolog --with-jpl\n</code></pre>\n\n<p>In your Eclipse Run/Debug-Configuration set as VM-Arg:</p>\n\n<pre><code>-Djava.library.path=/usr/local/Cellar/swi-prolog/7.4.2/libexec/lib/swipl-7.4.2/lib/x86_64-darwin16.6.0\n</code></pre>\n\n<p>Actual path may vary. </p>\n"}],"owner":{"account_id":259307,"reputation":165,"user_id":542094,"display_name":"Noray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4514,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1689269816,"creation_date":1350866339,"question_id":13003661,"body_markdown":"I am trying to run swi prolog from java.\r\n\r\nI am using eclipse and I have inserted jpl.jar into the project (properties-&gt;libraries-&gt;add external jar) and when I try to run a program (it is a sample of jpl so it should work..) I get an error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jpl in java.library.path\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1758)\r\n    \tat java.lang.Runtime.loadLibrary0(Runtime.java:823)\r\n    \tat java.lang.System.loadLibrary(System.java:1045)\r\n    \tat jpl.JPL.loadNativeLibrary(JPL.java:100)\r\n    \tat jpl.fli.Prolog.&lt;clinit&gt;(Prolog.java:85)\r\n    \tat jpl.Query.open(Query.java:286)\r\n    \tat jpl.Util.textToTerm(Util.java:162)\r\n    \tat jpl.Query.&lt;init&gt;(Query.java:198)\r\n    \tat faf.Main.main(Main.java:10) &lt;br&gt;\r\n\r\nWhat am I missing?\r\n","title":"Connect between java and swi prolog","body":"<p>I am trying to run swi prolog from java.</p>\n<p>I am using eclipse and I have inserted jpl.jar into the project (properties-&gt;libraries-&gt;add external jar) and when I try to run a program (it is a sample of jpl so it should work..) I get an error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jpl in java.library.path\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1758)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:823)\n    at java.lang.System.loadLibrary(System.java:1045)\n    at jpl.JPL.loadNativeLibrary(JPL.java:100)\n    at jpl.fli.Prolog.&lt;clinit&gt;(Prolog.java:85)\n    at jpl.Query.open(Query.java:286)\n    at jpl.Util.textToTerm(Util.java:162)\n    at jpl.Query.&lt;init&gt;(Query.java:198)\n    at faf.Main.main(Main.java:10) &lt;br&gt;\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","aws-lambda"],"answers":[{"comments":[{"owner":{"account_id":3414356,"reputation":352,"user_id":2863659,"display_name":"Tremelune"},"score":4,"creation_date":1524691493,"post_id":46494684,"comment_id":87079220,"body_markdown":"Can anyone confirm that this works in SAM Local? No matter what I do with dependencies and shade, I keep getting &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&quot;","body":"Can anyone confirm that this works in SAM Local? No matter what I do with dependencies and shade, I keep getting &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&quot;"},{"owner":{"account_id":8763938,"reputation":924,"user_id":6553048,"accept_rate":100,"display_name":"Manthan Jamdagni"},"score":2,"creation_date":1530779041,"post_id":46494684,"comment_id":89354969,"body_markdown":"Hi, what does %-5p %c{1}:%m%n signify here?","body":"Hi, what does %-5p %c{1}:%m%n signify here?"},{"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"score":1,"creation_date":1582103266,"post_id":46494684,"comment_id":106657509,"body_markdown":"@ManthanJamdagni it just specifies the format of the log message:\n`%-5p` — 5 characters for log priority,\n`%c{1}` — category of the event,\n`%m` — log message,\n`%n` — new line character (line separator).\n\nSee https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html for details.","body":"@ManthanJamdagni it just specifies the format of the log message: <code>%-5p</code> — 5 characters for log priority, <code>%c{1}</code> — category of the event, <code>%m</code> — log message, <code>%n</code> — new line character (line separator).  See <a href=\"https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/&hellip;</a> for details."},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1698239562,"post_id":46494684,"comment_id":136379802,"body_markdown":"How do I use it in tests? I am mocking context so I override method `public LambdaLogger getLogger()`","body":"How do I use it in tests? I am mocking context so I override method <code>public LambdaLogger getLogger()</code>"}],"tags":[],"owner":{"account_id":101503,"reputation":703,"user_id":273043,"display_name":"foal"},"comment_count":4,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1582045187,"creation_date":1506708622,"answer_id":46494684,"question_id":46080448,"body_markdown":"Yes, you can. Just add the following dependencies to your project:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.25&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.25&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-lambda-java-log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nand create correct `log4j.properties` in `/src/main/resources/` of your project, e.g.\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    log = .\r\n    log4j.rootLogger = DEBUG, LAMBDA\r\n    \r\n    # Define the LAMBDA appender\r\n    log4j.appender.LAMBDA=com.amazonaws.services.lambda.runtime.log4j.LambdaAppender\r\n    log4j.appender.LAMBDA.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.LAMBDA.layout.conversionPattern=%d{yyyy-MM-dd HH:mm:ss} &lt;%X{AWSRequestId}&gt; %-5p %c{1}:%m%n","title":"Logging in AWS Lambda with slf4j","body":"<p>Yes, you can. Just add the following dependencies to your project:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n        &lt;version&gt;1.7.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-lambda-java-log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>and create correct <code>log4j.properties</code> in <code>/src/main/resources/</code> of your project, e.g.</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>log = .\nlog4j.rootLogger = DEBUG, LAMBDA\n\n# Define the LAMBDA appender\nlog4j.appender.LAMBDA=com.amazonaws.services.lambda.runtime.log4j.LambdaAppender\nlog4j.appender.LAMBDA.layout=org.apache.log4j.PatternLayout\nlog4j.appender.LAMBDA.layout.conversionPattern=%d{yyyy-MM-dd HH:mm:ss} &lt;%X{AWSRequestId}&gt; %-5p %c{1}:%m%n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"score":0,"creation_date":1667552934,"post_id":48725259,"comment_id":131197861,"body_markdown":"dependancy seems outdated :-/","body":"dependancy seems outdated :-/"}],"tags":[],"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1579466212,"creation_date":1518294558,"answer_id":48725259,"question_id":46080448,"body_markdown":"Just include following dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.symphonia&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lambda-logging&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSource of lambda-logging code available at &lt;https://github.com/symphoniacloud/lambda-monitoring/tree/master/lambda-logging&gt;.\r\n\r\nBackground information available at: https://blog.symphonia.io/a-love-letter-to-lambda-logging-974b0eb49273\r\n\r\n","title":"Logging in AWS Lambda with slf4j","body":"<p>Just include following dependency:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.symphonia&lt;/groupId&gt;\n    &lt;artifactId&gt;lambda-logging&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Source of lambda-logging code available at <a href=\"https://github.com/symphoniacloud/lambda-monitoring/tree/master/lambda-logging\" rel=\"nofollow noreferrer\">https://github.com/symphoniacloud/lambda-monitoring/tree/master/lambda-logging</a>.</p>\n\n<p>Background information available at: <a href=\"https://blog.symphonia.io/a-love-letter-to-lambda-logging-974b0eb49273\" rel=\"nofollow noreferrer\">https://blog.symphonia.io/a-love-letter-to-lambda-logging-974b0eb49273</a></p>\n"},{"comments":[{"owner":{"account_id":1802401,"reputation":703,"user_id":1640389,"display_name":"privatejava"},"score":3,"creation_date":1535615285,"post_id":51432338,"comment_id":91133308,"body_markdown":"Thanks for the help. Though your solution did not solve my issue but it actually help me to figure out my issue and fix :)","body":"Thanks for the help. Though your solution did not solve my issue but it actually help me to figure out my issue and fix :)"},{"owner":{"account_id":4014197,"reputation":131,"user_id":5348370,"display_name":"Ghilteras"},"score":0,"creation_date":1549478083,"post_id":51432338,"comment_id":95919885,"body_markdown":"I noticed this only works in the class of your Lambda handler, any external class/package in the same project (so with the same logback.xml) will NOT print to cloudwatch with this. Did anybody manage to work around this?","body":"I noticed this only works in the class of your Lambda handler, any external class/package in the same project (so with the same logback.xml) will NOT print to cloudwatch with this. Did anybody manage to work around this?"},{"owner":{"account_id":3021655,"reputation":2368,"user_id":2562544,"display_name":"Igor Akkerman"},"score":0,"creation_date":1549478430,"post_id":51432338,"comment_id":95920064,"body_markdown":"@Ghilteras Could you please open an issue on GitHub and provide an example? I&#39;d be very interested to understand and fix any potential issue.","body":"@Ghilteras Could you please open an issue on GitHub and provide an example? I&#39;d be very interested to understand and fix any potential issue."},{"owner":{"account_id":4014197,"reputation":131,"user_id":5348370,"display_name":"Ghilteras"},"score":0,"creation_date":1550786226,"post_id":51432338,"comment_id":96409941,"body_markdown":"@IgorAkkerman I fixed it by defining the logger as static in my main Lambda class and then importing it in my external classes that are part of my Lambda","body":"@IgorAkkerman I fixed it by defining the logger as static in my main Lambda class and then importing it in my external classes that are part of my Lambda"},{"owner":{"account_id":3021655,"reputation":2368,"user_id":2562544,"display_name":"Igor Akkerman"},"score":0,"creation_date":1550786674,"post_id":51432338,"comment_id":96410136,"body_markdown":"@Ghilteras Thanks for your feedback. It would be very helpful if you could provide a skeletal code example to reproduce the original issue? We should fix the cause, even if a workaround is possible.","body":"@Ghilteras Thanks for your feedback. It would be very helpful if you could provide a skeletal code example to reproduce the original issue? We should fix the cause, even if a workaround is possible."},{"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"score":1,"creation_date":1582047417,"post_id":51432338,"comment_id":106639099,"body_markdown":"This provider would be great to work. Unfortunately, I tried the given configuration, and I got\n`SLF4J: No SLF4J providers were found.`\n`SLF4J: Defaulting to no-operation (NOP) logger implementation`\n`SLF4J: See http://www.slf4j.org/codes.html#noProviders for further details.`\nin log of the lambda function. `System.out` and `LambdaLogger` logs are working.\nProbably I have to add `slf-log4j logger` to dependencies as well?","body":"This provider would be great to work. Unfortunately, I tried the given configuration, and I got <code>SLF4J: No SLF4J providers were found.</code> <code>SLF4J: Defaulting to no-operation (NOP) logger implementation</code> <code>SLF4J: See http:&#47;&#47;www.slf4j.org&#47;codes.html#noProviders for further details.</code> in log of the lambda function. <code>System.out</code> and <code>LambdaLogger</code> logs are working. Probably I have to add <code>slf-log4j logger</code> to dependencies as well?"},{"owner":{"account_id":3021655,"reputation":2368,"user_id":2562544,"display_name":"Igor Akkerman"},"score":0,"creation_date":1586124218,"post_id":51432338,"comment_id":108005265,"body_markdown":"@DmitriyPopov which Java version are you using?","body":"@DmitriyPopov which Java version are you using?"},{"owner":{"account_id":3021655,"reputation":2368,"user_id":2562544,"display_name":"Igor Akkerman"},"score":0,"creation_date":1586469985,"post_id":51432338,"comment_id":108147828,"body_markdown":"@DmitriyPopov I was not able to reproduce the behavior. Would you please provide your configuration details on GitHub? https://github.com/jlib-framework/jlib-awslambda-logback/issues/2","body":"@DmitriyPopov I was not able to reproduce the behavior. Would you please provide your configuration details on GitHub? <a href=\"https://github.com/jlib-framework/jlib-awslambda-logback/issues/2\" rel=\"nofollow noreferrer\">github.com/jlib-framework/jlib-awslambda-logback/issues/2</a>"}],"tags":[],"owner":{"account_id":3021655,"reputation":2368,"user_id":2562544,"display_name":"Igor Akkerman"},"comment_count":8,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1551994443,"creation_date":1532037771,"answer_id":51432338,"question_id":46080448,"body_markdown":"The [jlib AWS Lambda Logback Appender](https://github.com/jlib-framework/jlib-awslambda-logback) allows you to use [SLF4J](https://www.slf4j.org/) with [Logback](https://logback.qos.ch/) from your AWS Lambda functions. \r\n\r\nSimply add these dependencies:\r\n\r\n**Gradle (_build.gradle_)**\r\n\r\n    dependencies {\r\n        implementation &#39;org.slf4j:slf4j-api:1.8.0-beta2&#39;\r\n        runtimeOnly &#39;org.jlib:jlib-awslambda-logback:1.0.0&#39;\r\n    }\r\n\r\n**Maven (_pom.xml_)**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.8.0-beta2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jlib&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jlib-awslambda-logback&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen use the `AwsLambdaAppender` in your logging configuration:\r\n\r\n**Example XML configuration (_src/main/resources/logback.xml_)**\r\n\r\n    &lt;configuration&gt;\r\n    \r\n        &lt;appender name=&quot;awslambda&quot; class=&quot;org.jlib.cloud.aws.lambda.logback.AwsLambdaAppender&quot;&gt;\r\n            &lt;encoder type=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n                &lt;pattern&gt;[%d{yyyy-MM-dd HH:mm:ss.SSS}] &amp;lt;%-36X{AWSRequestId:-request-id-not-set-by-lambda-runtime}&amp;gt;\r\n    %-5level %logger{10} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;awslambda&quot; /&gt;\r\n        &lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\nUnlike other solutions, this Logback Appender correctly handles _multi-line_ log messages, especially _stack traces_, and produces only _a single_ CloudWatch Logs event per message.\r\n\r\nThe library also allows you to include the AWSRequestId, provided by the AWS Lambda runtime, in every single log message for better tracing.\r\n\r\nWhile log4j2 requires additional handling in the build when you create an uber-jar, this solution works out of the box.\r\n\r\n_Disclaimer:_ I&#39;m the developer of _jlib_","title":"Logging in AWS Lambda with slf4j","body":"<p>The <a href=\"https://github.com/jlib-framework/jlib-awslambda-logback\" rel=\"noreferrer\">jlib AWS Lambda Logback Appender</a> allows you to use <a href=\"https://www.slf4j.org/\" rel=\"noreferrer\">SLF4J</a> with <a href=\"https://logback.qos.ch/\" rel=\"noreferrer\">Logback</a> from your AWS Lambda functions. </p>\n\n<p>Simply add these dependencies:</p>\n\n<p><strong>Gradle (<em>build.gradle</em>)</strong></p>\n\n<pre><code>dependencies {\n    implementation 'org.slf4j:slf4j-api:1.8.0-beta2'\n    runtimeOnly 'org.jlib:jlib-awslambda-logback:1.0.0'\n}\n</code></pre>\n\n<p><strong>Maven (<em>pom.xml</em>)</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.8.0-beta2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jlib&lt;/groupId&gt;\n    &lt;artifactId&gt;jlib-awslambda-logback&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then use the <code>AwsLambdaAppender</code> in your logging configuration:</p>\n\n<p><strong>Example XML configuration (<em>src/main/resources/logback.xml</em>)</strong></p>\n\n<pre><code>&lt;configuration&gt;\n\n    &lt;appender name=\"awslambda\" class=\"org.jlib.cloud.aws.lambda.logback.AwsLambdaAppender\"&gt;\n        &lt;encoder type=\"ch.qos.logback.classic.encoder.PatternLayoutEncoder\"&gt;\n            &lt;pattern&gt;[%d{yyyy-MM-dd HH:mm:ss.SSS}] &amp;lt;%-36X{AWSRequestId:-request-id-not-set-by-lambda-runtime}&amp;gt;\n%-5level %logger{10} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=\"INFO\"&gt;\n        &lt;appender-ref ref=\"awslambda\" /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Unlike other solutions, this Logback Appender correctly handles <em>multi-line</em> log messages, especially <em>stack traces</em>, and produces only <em>a single</em> CloudWatch Logs event per message.</p>\n\n<p>The library also allows you to include the AWSRequestId, provided by the AWS Lambda runtime, in every single log message for better tracing.</p>\n\n<p>While log4j2 requires additional handling in the build when you create an uber-jar, this solution works out of the box.</p>\n\n<p><em>Disclaimer:</em> I'm the developer of <em>jlib</em></p>\n"},{"comments":[{"owner":{"account_id":285018,"reputation":1609,"user_id":583446,"display_name":"Chris Wolf"},"score":0,"creation_date":1622386991,"post_id":64762806,"comment_id":119773366,"body_markdown":"This may have worked 10 years ago, but now this config/dependencies gives:\n    java.lang.NoSuchMethodError: \n    com.amazonaws.services.lambda.runtime.LambdaLogger.log([B)V\n\tat \ncom.amazonaws.services.lambda.runtime.log4j2.LambdaAppender.append(LambdaAppender.java:74)\n\tat org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:156)","body":"This may have worked 10 years ago, but now this config/dependencies gives:     java.lang.NoSuchMethodError:      com.amazonaws.services.lambda.runtime.LambdaLogger.log([B)V \tat  com.amazonaws.services.lambda.runtime.log4j2.LambdaAppender.&zwnj;&#8203;append(LambdaAppende&zwnj;&#8203;r.java:74) \tat org.apache.logging.log4j.core.config.AppenderControl.tryCall&zwnj;&#8203;Appender(AppenderCon&zwnj;&#8203;trol.java:156)"},{"owner":{"account_id":455917,"reputation":6566,"user_id":854386,"accept_rate":86,"display_name":"Andrey"},"score":1,"creation_date":1622461076,"post_id":64762806,"comment_id":119791705,"body_markdown":"@ChrisWolf works like a charm today as well on all latest versions of the libs. Most likely you have old version of aws-lambda-java-core lib somewhere. Make sure it is 1.2.1, as mandated by aws-lambda-java-log4j2.","body":"@ChrisWolf works like a charm today as well on all latest versions of the libs. Most likely you have old version of aws-lambda-java-core lib somewhere. Make sure it is 1.2.1, as mandated by aws-lambda-java-log4j2."},{"owner":{"account_id":285018,"reputation":1609,"user_id":583446,"display_name":"Chris Wolf"},"score":0,"creation_date":1624549116,"post_id":64762806,"comment_id":120395001,"body_markdown":"it&#39;s not my code and their version of aws-lambda-java-core is 1.1.0, but I got it working by downgrading aws-lambda-java-log4j2 to 1.0.0.  I will work with the maintainer to upgrade both.","body":"it&#39;s not my code and their version of aws-lambda-java-core is 1.1.0, but I got it working by downgrading aws-lambda-java-log4j2 to 1.0.0.  I will work with the maintainer to upgrade both."},{"owner":{"account_id":4915498,"reputation":958,"user_id":3959535,"display_name":"Chris"},"score":0,"creation_date":1672345776,"post_id":64762806,"comment_id":132273519,"body_markdown":"https://logging.apache.org/log4j/2.x/log4j-slf4j-impl/\n&quot;As of release 2.19.0 the log4j-slf4j18-impl module targetting the unreleased SLF4J 1.8.x series has been removed.&quot;\n\nUsed log4j-slf4j2-impl instead with added bonus: &quot;Applications that take advantage of the Java Module System should use SLF4J 2.0.x and log4j-slf4j2-impl.&quot;","body":"<a href=\"https://logging.apache.org/log4j/2.x/log4j-slf4j-impl/\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/log4j-slf4j-impl</a> &quot;As of release 2.19.0 the log4j-slf4j18-impl module targetting the unreleased SLF4J 1.8.x series has been removed.&quot;  Used log4j-slf4j2-impl instead with added bonus: &quot;Applications that take advantage of the Java Module System should use SLF4J 2.0.x and log4j-slf4j2-impl.&quot;"},{"owner":{"account_id":455917,"reputation":6566,"user_id":854386,"accept_rate":86,"display_name":"Andrey"},"score":0,"creation_date":1672719119,"post_id":64762806,"comment_id":132333448,"body_markdown":"Thanks @Chris, updated the answer for the latest versions of slf4j and log4j.","body":"Thanks @Chris, updated the answer for the latest versions of slf4j and log4j."}],"tags":[],"owner":{"account_id":455917,"reputation":6566,"user_id":854386,"accept_rate":86,"display_name":"Andrey"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1672719095,"creation_date":1604981750,"answer_id":64762806,"question_id":46080448,"body_markdown":"Ever since [the AWS guide][1] has been updated with details on Log4j 2 and SLF4J integration. The code snippets below are based on the guide with slf4j and log4j versions updated to the more recent ones.\r\n\r\n\r\n`pom.xml`:\r\n```\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.1&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-slf4j2-impl&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nAnd `src/main/resources/log4j2.xml`:\r\n```\r\n&lt;Configuration status=&quot;WARN&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Lambda name=&quot;Lambda&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1} - %m%n&lt;/pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n        &lt;/Lambda&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Lambda&quot;/&gt;\r\n        &lt;/Root&gt;\r\n        &lt;Logger name=&quot;software.amazon.awssdk&quot; level=&quot;WARN&quot;/&gt;\r\n        &lt;Logger name=&quot;software.amazon.awssdk.request&quot; level=&quot;DEBUG&quot;/&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/java-logging.html#java-logging-log4j2","title":"Logging in AWS Lambda with slf4j","body":"<p>Ever since <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-logging.html#java-logging-log4j2\" rel=\"nofollow noreferrer\">the AWS guide</a> has been updated with details on Log4j 2 and SLF4J integration. The code snippets below are based on the guide with slf4j and log4j versions updated to the more recent ones.</p>\n<p><code>pom.xml</code>:</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-bom&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-slf4j2-impl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>And <code>src/main/resources/log4j2.xml</code>:</p>\n<pre><code>&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Lambda name=&quot;Lambda&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1} - %m%n&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/Lambda&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;INFO&quot;&gt;\n            &lt;AppenderRef ref=&quot;Lambda&quot;/&gt;\n        &lt;/Root&gt;\n        &lt;Logger name=&quot;software.amazon.awssdk&quot; level=&quot;WARN&quot;/&gt;\n        &lt;Logger name=&quot;software.amazon.awssdk.request&quot; level=&quot;DEBUG&quot;/&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":6455986,"reputation":3964,"user_id":5001360,"accept_rate":42,"display_name":"chrisrhyno2003"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37952,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":46494684,"answer_count":4,"score":29,"last_activity_date":1689269228,"creation_date":1504716127,"question_id":46080448,"body_markdown":"I am using a lambda function and writing it in Java. I was looking up logging for Lambda functions when I read the docs and they support log4j - http://docs.aws.amazon.com/lambda/latest/dg/java-logging.html#java-wt-logging-using-log4j. \r\n\r\nI was wondering if we could use logging using the Slf4j annotation as well since Slf4j is only a binding annotation. Has anybody tried using Slf4j before with lambda? \r\n","title":"Logging in AWS Lambda with slf4j","body":"<p>I am using a lambda function and writing it in Java. I was looking up logging for Lambda functions when I read the docs and they support log4j - <a href=\"http://docs.aws.amazon.com/lambda/latest/dg/java-logging.html#java-wt-logging-using-log4j\" rel=\"noreferrer\">http://docs.aws.amazon.com/lambda/latest/dg/java-logging.html#java-wt-logging-using-log4j</a>. </p>\n\n<p>I was wondering if we could use logging using the Slf4j annotation as well since Slf4j is only a binding annotation. Has anybody tried using Slf4j before with lambda? </p>\n"},{"tags":["java","r","rjava"],"comments":[{"owner":{"account_id":4273426,"reputation":1033,"user_id":3494714,"display_name":"BigFinger"},"score":0,"creation_date":1688910800,"post_id":76631341,"comment_id":135134919,"body_markdown":"First let&#39;s check the Java version(s) you have installed. Could you please post the output of the following command?   /usr/libexec/java_home -V","body":"First let&#39;s check the Java version(s) you have installed. Could you please post the output of the following command?   /usr/libexec/java_home -V"},{"owner":{"account_id":4273426,"reputation":1033,"user_id":3494714,"display_name":"BigFinger"},"score":0,"creation_date":1688912324,"post_id":76631341,"comment_id":135135071,"body_markdown":"Also, you showed the error message, but what produced it? What is the particular command or action that reproduces the error?","body":"Also, you showed the error message, but what produced it? What is the particular command or action that reproduces the error?"},{"owner":{"account_id":8713117,"reputation":441,"user_id":6518696,"display_name":"Gabriella"},"score":0,"creation_date":1689268736,"post_id":76631341,"comment_id":135193108,"body_markdown":"Apologies, I ended up downloading Azul https://www.azul.com/core-post-download/?endpoint=zulu&amp;uuid=cf6e06ec-c897-4b5a-9859-e1c547ff5864, which rectified the issue","body":"Apologies, I ended up downloading Azul <a href=\"https://www.azul.com/core-post-download/?endpoint=zulu&amp;uuid=cf6e06ec-c897-4b5a-9859-e1c547ff5864\" rel=\"nofollow noreferrer\">azul.com/core-post-download/&hellip;</a>, which rectified the issue"}],"answers":[{"tags":[],"owner":{"account_id":8713117,"reputation":441,"user_id":6518696,"display_name":"Gabriella"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689268750,"creation_date":1689268750,"answer_id":76681872,"question_id":76631341,"body_markdown":"This was rectified by downloading Azul https://www.azul.com/core-post-download/?endpoint=zulu&amp;uuid=cf6e06ec-c897-4b5a-9859-e1c547ff5864","title":"Struggling with rJava and dependent packages in Rstudio Mac M1. Error: package or namespace load failed for ‘rJava’:","body":"<p>This was rectified by downloading Azul <a href=\"https://www.azul.com/core-post-download/?endpoint=zulu&amp;uuid=cf6e06ec-c897-4b5a-9859-e1c547ff5864\" rel=\"nofollow noreferrer\">https://www.azul.com/core-post-download/?endpoint=zulu&amp;uuid=cf6e06ec-c897-4b5a-9859-e1c547ff5864</a></p>\n"}],"owner":{"account_id":8713117,"reputation":441,"user_id":6518696,"display_name":"Gabriella"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76681872,"answer_count":1,"score":-1,"last_activity_date":1689268750,"creation_date":1688665453,"question_id":76631341,"body_markdown":"I&#39;m really struggling with rJava. I have a new machine (Mac M1) and am running r code from an older project on an old intel Mac, and it isn&#39;t working at all. I am not especially familiar or confident with this, or using the terminal so please bare this in mind when answering :)\r\n\r\nThe error message I am getting is:\r\n\r\n```Error: package or namespace load failed for ‘rJava’:\r\n .onLoad failed in loadNamespace() for &#39;rJava&#39;, details:\r\n  call: dyn.load(jli, FALSE)\r\n  error: unable to load shared object &#39;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib&#39;:\r\n  dlopen(/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib, 0x000A): tried: &#39;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib&#39; (mach-o file, but is an incompatible architecture (have &#39;x86_64&#39;, need &#39;arm64&#39;)), &#39;/System/Volumes/Preboot/Cryptexes/OS/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib&#39; (no such file), &#39;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib&#39; (mach-o file, but is an incompatible architecture (have &#39;x86_64&#39;, need &#39;arm64&#39;))\r\nI think one issue is that if I run\r\n$/usr/libexec/java_home /usr/libexec/java_home /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home \r\n```\r\nIt thinks java is not in the right place?\r\n\r\nI tried to rectify this by doing:\r\n```JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-1.8.jdk/Contents/Home ```\r\nbut it doesn&#39;t seem to make a difference.\r\n\r\nGrateful for any advice","title":"Struggling with rJava and dependent packages in Rstudio Mac M1. Error: package or namespace load failed for ‘rJava’:","body":"<p>I'm really struggling with rJava. I have a new machine (Mac M1) and am running r code from an older project on an old intel Mac, and it isn't working at all. I am not especially familiar or confident with this, or using the terminal so please bare this in mind when answering :)</p>\n<p>The error message I am getting is:</p>\n<pre><code> .onLoad failed in loadNamespace() for 'rJava', details:\n  call: dyn.load(jli, FALSE)\n  error: unable to load shared object '/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib':\n  dlopen(/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib, 0x000A): tried: '/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib' (mach-o file, but is an incompatible architecture (have 'x86_64', need 'arm64')), '/System/Volumes/Preboot/Cryptexes/OS/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib' (no such file), '/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib' (mach-o file, but is an incompatible architecture (have 'x86_64', need 'arm64'))\nI think one issue is that if I run\n$/usr/libexec/java_home /usr/libexec/java_home /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home \n</code></pre>\n<p>It thinks java is not in the right place?</p>\n<p>I tried to rectify this by doing:\n<code>JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-1.8.jdk/Contents/Home </code>\nbut it doesn't seem to make a difference.</p>\n<p>Grateful for any advice</p>\n"},{"tags":["java","maven","log4j2"],"answers":[{"comments":[{"owner":{"account_id":5555543,"reputation":79,"user_id":4407043,"accept_rate":33,"display_name":"Vaibhav Dhore"},"score":0,"creation_date":1679959774,"post_id":75853861,"comment_id":133811357,"body_markdown":"Removing just the execution tag does not log any messages at all.","body":"Removing just the execution tag does not log any messages at all."},{"owner":{"account_id":5555543,"reputation":79,"user_id":4407043,"accept_rate":33,"display_name":"Vaibhav Dhore"},"score":0,"creation_date":1679961752,"post_id":75853861,"comment_id":133811625,"body_markdown":"Thanks @Piotr, do you mean to say, drop the entire plugin or drop just the execution tags from that plugin. Dropping the entire plugin starts giving error as below: Error loading class com/amazonaws/serverless/exceptions/ContainerInitializationException: java.lang.NoClassDefFoundError java.lang.NoClassDefFoundError: com/amazonaws/serverless/exceptions/ContainerInitializationException at java.base/java.lang.Class.forName0(Native Method) at java.base/java.lang.Class.forName(Unknown Source) Caused by: java.lang.ClassNotFoundException","body":"Thanks @Piotr, do you mean to say, drop the entire plugin or drop just the execution tags from that plugin. Dropping the entire plugin starts giving error as below: Error loading class com/amazonaws/serverless/exceptions/ContainerInitializationE&zwnj;&#8203;xception: java.lang.NoClassDefFoundError java.lang.NoClassDefFoundError: com/amazonaws/serverless/exceptions/ContainerInitializationE&zwnj;&#8203;xception at java.base/java.lang.Class.forName0(Native Method) at java.base/java.lang.Class.forName(Unknown Source) Caused by: java.lang.ClassNotFoundException"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1679983562,"post_id":75853861,"comment_id":133814102,"body_markdown":"@VaibhavDhore: sorry, I didn&#39;t notice that the `spring-boot-maven-plugin` was not added by default to the build. I edited the solution accordingly.","body":"@VaibhavDhore: sorry, I didn&#39;t notice that the <code>spring-boot-maven-plugin</code> was not added by default to the build. I edited the solution accordingly."}],"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679983455,"creation_date":1679907650,"answer_id":75853861,"question_id":75838785,"body_markdown":"Your problem is a variation of the recurrent &quot;Maven Shade Plugin breaks Log4j2&quot; problem (cf. [this SO question](https://stackoverflow.com/q/67230924/11748454) or [this Github question](https://github.com/apache/logging-log4j2/issues/1386)).\r\n\r\nThis is caused by this configuration snippet:\r\n\r\n```lang-xml\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                ...\r\n                &lt;configuration&gt;\r\n                    &lt;filters&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                    &lt;/filters&gt;\r\n                &lt;/configuration&gt;\r\n                ...\r\n            &lt;/plugin&gt;\r\n```\r\nAlthough this &quot;solution&quot; often appears in SO answers, it **breaks** the main (and fastest) plugin detection mechanism used by Log4j 2.x. This causes Log4j 2.x to _fall back_ onto a (much slower) package scanning mechanism that detects **only** the plugins in `log4j-core`. That is why `JsonTemplateLayout` is not detected.\r\n\r\n**Solution (edited):** Since you are using `spring-boot-starter-parent` as project&#39;s parent, just **drop** the `maven-shade-plugin`  and add the `spring-boot-maven-plugin` to the build:\r\n\r\n```lang-xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThe [`spring-boot-maven-plugin`](https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/) configuration you inherit from the parent POM performs the same job as the `maven-shade-plugin` but **does** not break apart dependency JARs (cf. [executable JAR format](https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#appendix.executable-jar.nested-jars.jar-structure)).","title":"Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot; even after adding dependency","body":"<p>Your problem is a variation of the recurrent &quot;Maven Shade Plugin breaks Log4j2&quot; problem (cf. <a href=\"https://stackoverflow.com/q/67230924/11748454\">this SO question</a> or <a href=\"https://github.com/apache/logging-log4j2/issues/1386\" rel=\"nofollow noreferrer\">this Github question</a>).</p>\n<p>This is caused by this configuration snippet:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                ...\n                &lt;configuration&gt;\n                    &lt;filters&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                &lt;/configuration&gt;\n                ...\n            &lt;/plugin&gt;\n</code></pre>\n<p>Although this &quot;solution&quot; often appears in SO answers, it <strong>breaks</strong> the main (and fastest) plugin detection mechanism used by Log4j 2.x. This causes Log4j 2.x to <em>fall back</em> onto a (much slower) package scanning mechanism that detects <strong>only</strong> the plugins in <code>log4j-core</code>. That is why <code>JsonTemplateLayout</code> is not detected.</p>\n<p><strong>Solution (edited):</strong> Since you are using <code>spring-boot-starter-parent</code> as project's parent, just <strong>drop</strong> the <code>maven-shade-plugin</code>  and add the <code>spring-boot-maven-plugin</code> to the build:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\"><code>spring-boot-maven-plugin</code></a> configuration you inherit from the parent POM performs the same job as the <code>maven-shade-plugin</code> but <strong>does</strong> not break apart dependency JARs (cf. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#appendix.executable-jar.nested-jars.jar-structure\" rel=\"nofollow noreferrer\">executable JAR format</a>).</p>\n"},{"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1689269442,"post_id":76681723,"comment_id":135193236,"body_markdown":"The &quot;exclude&quot; solution is not a solution, because it removes all plugin caches. Your solutions are the correct way to shade Log4j2 in Gradle/Maven: they merge the plugin caches. Remark that edwgiz donated its plugin to Log4j: here are [the new coordinates](https://github.com/apache/logging-log4j-transform/blob/main/log4j-transform-maven-shade-plugin-extensions/README.adoc)","body":"The &quot;exclude&quot; solution is not a solution, because it removes all plugin caches. Your solutions are the correct way to shade Log4j2 in Gradle/Maven: they merge the plugin caches. Remark that edwgiz donated its plugin to Log4j: here are <a href=\"https://github.com/apache/logging-log4j-transform/blob/main/log4j-transform-maven-shade-plugin-extensions/README.adoc\" rel=\"nofollow noreferrer\">the new coordinates</a>"},{"owner":{"account_id":6442492,"reputation":335,"user_id":4992072,"display_name":"Rhineb"},"score":0,"creation_date":1689368830,"post_id":76681723,"comment_id":135209202,"body_markdown":"Thanks for following up :D","body":"Thanks for following up :D"}],"tags":[],"owner":{"account_id":6442492,"reputation":335,"user_id":4992072,"display_name":"Rhineb"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689268453,"creation_date":1689267295,"answer_id":76681723,"question_id":75838785,"body_markdown":"So the answer by Piotr P. Karwasz is not necessarily wrong but I would say is incomplete as far as what needs to be corrected. It is more a statement of what is wrong or highly specific to Spring than what is necessary to fix the issue. He is correct in saying that using shadowJar and log4j2 does not work correctly and falls back to a much simpler version of logging and while adding in the `&lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;` does change the operation is not sufficient to correct the issue.\r\n\r\n**Fixing the issue in Gradle**\r\n\r\nIf you are using a gradle build in the main `build.gradle` add the following import\r\n```\r\nimport com.github.jengelman.gradle.plugins.shadow.transformers.Log4j2PluginsCacheFileTransformer\r\n```\r\nand update your shadowJar block as follows\r\n```\r\nshadowJar {\r\n    transform(Log4j2PluginsCacheFileTransformer)\r\n}\r\n```\r\nMy understanding is this is more or less performing the same task as the previously discussed `exclude` but with some additional corrective action.\r\n\r\nThe original post that helped me understand this is [here][1].\r\n\r\n***Note: It is important that the `shadowJar` block is in the &quot;main&quot; `build.gradle` file. For some reason if you try to place this in a sub `*.gradle` file and apply it to the main build the import does not work correctly and the transform will not be applied***\r\n\r\n**Fixing the issue in Maven**\r\n\r\nI have not personally tested this way but you can find discussion on how to do the same in maven [here][2] (this also discusses the above solution). In this case add the following imports\r\n```\r\n&lt;dependencies&gt;\r\n  ...\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\r\n    &lt;version&gt;1.5.1&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.17.1&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.17.1&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  ....\r\n&lt;/dependencies&gt;\r\n```\r\nand add the following transformation\r\n```\r\n&lt;plugins&gt;\r\n  ...\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;phase&gt;package&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;shade&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n          &lt;transformers&gt;\r\n            &lt;transformer\r\n                    implementation=&quot;com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer&quot;&gt;\r\n            &lt;/transformer&gt;\r\n          &lt;/transformers&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.1&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/plugin&gt;\r\n  ...\r\n&lt;/plugins&gt;\r\n```\r\n\r\nOther related posts\r\n- https://stackoverflow.com/questions/49973441/logging-using-log4j2-on-aws-lambda-class-not-found/76681833#76681833\r\n\r\n  [1]: https://stackoverflow.com/questions/71458136/log4j-jsontemplatelayout-doesnt-work-when-jar-file-built-by-shadowjar\r\n  [2]: https://github.com/aws/aws-lambda-java-libs/blob/main/aws-lambda-java-log4j2/README.md","title":"Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot; even after adding dependency","body":"<p>So the answer by Piotr P. Karwasz is not necessarily wrong but I would say is incomplete as far as what needs to be corrected. It is more a statement of what is wrong or highly specific to Spring than what is necessary to fix the issue. He is correct in saying that using shadowJar and log4j2 does not work correctly and falls back to a much simpler version of logging and while adding in the <code>&lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;</code> does change the operation is not sufficient to correct the issue.</p>\n<p><strong>Fixing the issue in Gradle</strong></p>\n<p>If you are using a gradle build in the main <code>build.gradle</code> add the following import</p>\n<pre><code>import com.github.jengelman.gradle.plugins.shadow.transformers.Log4j2PluginsCacheFileTransformer\n</code></pre>\n<p>and update your shadowJar block as follows</p>\n<pre><code>shadowJar {\n    transform(Log4j2PluginsCacheFileTransformer)\n}\n</code></pre>\n<p>My understanding is this is more or less performing the same task as the previously discussed <code>exclude</code> but with some additional corrective action.</p>\n<p>The original post that helped me understand this is <a href=\"https://stackoverflow.com/questions/71458136/log4j-jsontemplatelayout-doesnt-work-when-jar-file-built-by-shadowjar\">here</a>.</p>\n<p><em><strong>Note: It is important that the <code>shadowJar</code> block is in the &quot;main&quot; <code>build.gradle</code> file. For some reason if you try to place this in a sub <code>*.gradle</code> file and apply it to the main build the import does not work correctly and the transform will not be applied</strong></em></p>\n<p><strong>Fixing the issue in Maven</strong></p>\n<p>I have not personally tested this way but you can find discussion on how to do the same in maven <a href=\"https://github.com/aws/aws-lambda-java-libs/blob/main/aws-lambda-java-log4j2/README.md\" rel=\"nofollow noreferrer\">here</a> (this also discusses the above solution). In this case add the following imports</p>\n<pre><code>&lt;dependencies&gt;\n  ...\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\n    &lt;version&gt;1.5.1&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.17.1&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.17.1&lt;/version&gt;\n  &lt;/dependency&gt;\n  ....\n&lt;/dependencies&gt;\n</code></pre>\n<p>and add the following transformation</p>\n<pre><code>&lt;plugins&gt;\n  ...\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4.3&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;shade&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;transformers&gt;\n            &lt;transformer\n                    implementation=&quot;com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer&quot;&gt;\n            &lt;/transformer&gt;\n          &lt;/transformers&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\n        &lt;version&gt;2.8.1&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n  ...\n&lt;/plugins&gt;\n</code></pre>\n<p>Other related posts</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/49973441/logging-using-log4j2-on-aws-lambda-class-not-found/76681833#76681833\">Logging using Log4J2 on aws lambda - Class not found</a></li>\n</ul>\n"}],"owner":{"account_id":5555543,"reputation":79,"user_id":4407043,"accept_rate":33,"display_name":"Vaibhav Dhore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689268453,"creation_date":1679699889,"question_id":75838785,"body_markdown":"Below is my log4j.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;JsonAppender&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:LambdaJsonLayout.json&quot; /&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;JsonLogger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;JsonAppender&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;JsonAppender&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\nand below is my pom.xml. I have added the log4j-layout-template-json dependency and tried the different versions. It works fine locally, however when deployed to lambda, the cloudwatch error shows **Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot;**. Appreciate any help.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.7&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;version&gt;1.0.3&lt;/version&gt;\r\n    &lt;name&gt;ServiceLambda&lt;/name&gt;\r\n    &lt;description&gt;Service Lambda&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;log4j.version&gt;2.19.0&lt;/log4j.version&gt;\r\n        &lt;aws.powertools.version&gt;1.12.2&lt;/aws.powertools.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Exclude Spring Boot&#39;s Default Logging --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Add Log4j2 Dependency --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powertools-logging&lt;/artifactId&gt;\r\n            &lt;version&gt;${aws.powertools.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powertools-sqs&lt;/artifactId&gt;\r\n            &lt;version&gt;${aws.powertools.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.crac&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org-crac&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws.serverless&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-serverless-java-container-springboot2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.292&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;netty-nio-client&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;apache-client&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-crt-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.282-PREVIEW&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-layout-template-json&lt;/artifactId&gt;\r\n            &lt;version&gt;2.18.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- OpenAPI docs --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Test dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                    &lt;filters&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                    &lt;/filters&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;artifactSet&gt;\r\n                                &lt;excludes&gt;\r\n                                    &lt;exclude&gt;org.apache.tomcat.embed:*&lt;/exclude&gt;\r\n                                &lt;/excludes&gt;\r\n                            &lt;/artifactSet&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.14.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;complianceLevel&gt;1.8&lt;/complianceLevel&gt;\r\n                    &lt;aspectLibraries&gt;\r\n                        &lt;aspectLibrary&gt;\r\n                            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;powertools-logging&lt;/artifactId&gt;\r\n                        &lt;/aspectLibrary&gt;\r\n                        &lt;aspectLibrary&gt;\r\n                            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;powertools-sqs&lt;/artifactId&gt;\r\n                        &lt;/aspectLibrary&gt;\r\n                    &lt;/aspectLibraries&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3WiGp.png","title":"Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot; even after adding dependency","body":"<p>Below is my log4j.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;JsonAppender&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:LambdaJsonLayout.json&quot; /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;JsonLogger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;JsonAppender&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;JsonAppender&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>and below is my pom.xml. I have added the log4j-layout-template-json dependency and tried the different versions. It works fine locally, however when deployed to lambda, the cloudwatch error shows <strong>Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot;</strong>. Appreciate any help.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;version&gt;1.0.3&lt;/version&gt;\n    &lt;name&gt;ServiceLambda&lt;/name&gt;\n    &lt;description&gt;Service Lambda&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;log4j.version&gt;2.19.0&lt;/log4j.version&gt;\n        &lt;aws.powertools.version&gt;1.12.2&lt;/aws.powertools.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Exclude Spring Boot's Default Logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Add Log4j2 Dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n            &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\n            &lt;artifactId&gt;powertools-logging&lt;/artifactId&gt;\n            &lt;version&gt;${aws.powertools.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\n            &lt;artifactId&gt;powertools-sqs&lt;/artifactId&gt;\n            &lt;version&gt;${aws.powertools.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.crac&lt;/groupId&gt;\n            &lt;artifactId&gt;org-crac&lt;/artifactId&gt;\n            &lt;version&gt;0.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws.serverless&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-serverless-java-container-springboot2&lt;/artifactId&gt;\n            &lt;version&gt;1.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\n            &lt;version&gt;2.17.292&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                    &lt;artifactId&gt;netty-nio-client&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                    &lt;artifactId&gt;apache-client&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-crt-client&lt;/artifactId&gt;\n            &lt;version&gt;2.17.282-PREVIEW&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-layout-template-json&lt;/artifactId&gt;\n            &lt;version&gt;2.18.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- OpenAPI docs --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.14&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Test dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                    &lt;filters&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactSet&gt;\n                                &lt;excludes&gt;\n                                    &lt;exclude&gt;org.apache.tomcat.embed:*&lt;/exclude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/artifactSet&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.14.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;complianceLevel&gt;1.8&lt;/complianceLevel&gt;\n                    &lt;aspectLibraries&gt;\n                        &lt;aspectLibrary&gt;\n                            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\n                            &lt;artifactId&gt;powertools-logging&lt;/artifactId&gt;\n                        &lt;/aspectLibrary&gt;\n                        &lt;aspectLibrary&gt;\n                            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\n                            &lt;artifactId&gt;powertools-sqs&lt;/artifactId&gt;\n                        &lt;/aspectLibrary&gt;\n                    &lt;/aspectLibraries&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3WiGp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3WiGp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","amazon-web-services","aws-lambda","log4j2"],"answers":[{"comments":[{"owner":{"account_id":1849503,"reputation":1361,"user_id":1808048,"display_name":"dvanrensburg"},"score":0,"creation_date":1524458325,"post_id":49973486,"comment_id":86962835,"body_markdown":"Thanks I&#39;ll give this a go!","body":"Thanks I&#39;ll give this a go!"},{"owner":{"account_id":1034833,"reputation":333,"user_id":1042411,"accept_rate":75,"display_name":"HKalsi"},"score":0,"creation_date":1527539135,"post_id":49973486,"comment_id":88155664,"body_markdown":"Wasted 3 hours on this :(","body":"Wasted 3 hours on this :("},{"owner":{"account_id":2345911,"reputation":1174,"user_id":2056182,"accept_rate":88,"display_name":"Karl"},"score":0,"creation_date":1538084856,"post_id":49973486,"comment_id":92031032,"body_markdown":"yeah. was very annoying, and the fix to doco is still not merged in upstream!","body":"yeah. was very annoying, and the fix to doco is still not merged in upstream!"},{"owner":{"account_id":2345911,"reputation":1174,"user_id":2056182,"accept_rate":88,"display_name":"Karl"},"score":1,"creation_date":1575509257,"post_id":49973486,"comment_id":104593941,"body_markdown":"update, it now looks like the official doco at https://docs.aws.amazon.com/lambda/latest/dg/java-logging.html has now beenupdated and is correct :-)","body":"update, it now looks like the official doco at <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-logging.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/lambda/latest/dg/java-logging.html</a> has now beenupdated and is correct :-)"},{"owner":{"account_id":4452241,"reputation":76,"user_id":3623739,"display_name":"SidK"},"score":12,"creation_date":1627419724,"post_id":49973486,"comment_id":121151002,"body_markdown":"the official documentation as of today [https://docs.aws.amazon.com/lambda/latest/dg/java-logging.html](https://docs.aws.amazon.com/lambda/latest/dg/java-logging.html) does not have the `packages` attribute in the `Configuration` tag. It worked for me only after I added the `packages` attribute. Thanks to the OP would never have figured it out myself otherwise.","body":"the official documentation as of today <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-logging.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/java-logging.ht&zwnj;&#8203;ml</a> does not have the <code>packages</code> attribute in the <code>Configuration</code> tag. It worked for me only after I added the <code>packages</code> attribute. Thanks to the OP would never have figured it out myself otherwise."},{"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"score":0,"creation_date":1667524234,"post_id":49973486,"comment_id":131192721,"body_markdown":"I also had the same error despite correct log4j and dependency configuration. You also have to make sure that the log4j related artifacts (log4j*, aws-lambda*) do not get classes excluded by maven-shade-plugin. The logging related stuff is particularly prone to this because the path to their usage might be through xml config files and not a compile time analysis of java code.","body":"I also had the same error despite correct log4j and dependency configuration. You also have to make sure that the log4j related artifacts (log4j*, aws-lambda*) do not get classes excluded by maven-shade-plugin. The logging related stuff is particularly prone to this because the path to their usage might be through xml config files and not a compile time analysis of java code."}],"tags":[],"owner":{"account_id":2345911,"reputation":1174,"user_id":2056182,"accept_rate":88,"display_name":"Karl"},"comment_count":6,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1664837046,"creation_date":1524458259,"answer_id":49973486,"question_id":49973441,"body_markdown":"I also had this problem. It turns out that there is a typo bug in the AWS example documentation.\r\n\r\nThe `packages` in the `&lt;Configuration ..` tag is wrong.\r\n\r\nAccording to the log4j [plugin configuration docs][1] the `packages` parameter is a package not a class.\r\n\r\nSo modify your log4j2.xml configuration to be...\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration packages=&quot;com.amazonaws.services.lambda.runtime.log4j2&quot;&gt;\r\n      &lt;Appenders&gt;\r\n        &lt;Lambda name=&quot;Lambda&quot;&gt;\r\n          &lt;PatternLayout&gt;\r\n              &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\r\n          &lt;/PatternLayout&gt;\r\n        &lt;/Lambda&gt;\r\n      &lt;/Appenders&gt;\r\n      &lt;Loggers&gt;\r\n        &lt;Root level=&quot;debug&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Lambda&quot; /&gt;\r\n        &lt;/Root&gt;\r\n      &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/log4j-2.1/manual/configuration.html#ConfigurationSyntax","title":"Logging using Log4J2 on aws lambda - Class not found","body":"<p>I also had this problem. It turns out that there is a typo bug in the AWS example documentation.</p>\n<p>The <code>packages</code> in the <code>&lt;Configuration ..</code> tag is wrong.</p>\n<p>According to the log4j <a href=\"https://logging.apache.org/log4j/log4j-2.1/manual/configuration.html#ConfigurationSyntax\" rel=\"nofollow noreferrer\">plugin configuration docs</a> the <code>packages</code> parameter is a package not a class.</p>\n<p>So modify your log4j2.xml configuration to be...</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration packages=&quot;com.amazonaws.services.lambda.runtime.log4j2&quot;&gt;\n  &lt;Appenders&gt;\n    &lt;Lambda name=&quot;Lambda&quot;&gt;\n      &lt;PatternLayout&gt;\n          &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\n      &lt;/PatternLayout&gt;\n    &lt;/Lambda&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;debug&quot;&gt;\n      &lt;AppenderRef ref=&quot;Lambda&quot; /&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4935211,"reputation":851,"user_id":10477323,"display_name":"TheCoolDrop"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676358968,"creation_date":1676358968,"answer_id":75444501,"question_id":49973441,"body_markdown":"Despite there already being an accepted answer there is a different solution. If you are using AWS Lambda logging with Log4j and have following dependency\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n``` \r\n\r\nand are using Maven shade plugin, then you must configure the Maven shade plugin as follows:\r\n\r\n```xml\r\n&lt;plugins&gt;\r\n  ...\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;phase&gt;package&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;shade&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n          &lt;transformers&gt;\r\n            &lt;transformer\r\n                    implementation=&quot;com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer&quot;&gt;\r\n            &lt;/transformer&gt;\r\n          &lt;/transformers&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.1&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/plugin&gt;\r\n  ...\r\n&lt;/plugins&gt;\r\n```\r\n\r\nThe reason for that is that there are open issues in Log4j2, which prevents loading of Log4j plugins when using Maven shading.\r\n\r\nMore details in following sites:\r\n\r\n - https://github.com/aws/aws-lambda-java-libs/tree/main/aws-lambda-java-log4j2\r\n - https://github.com/edwgiz/maven-shaded-log4j-transformer\r\n - https://issues.apache.org/jira/browse/LOG4J2-673\r\n - https://issues.apache.org/jira/browse/LOG4J2-954\r\n","title":"Logging using Log4J2 on aws lambda - Class not found","body":"<p>Despite there already being an accepted answer there is a different solution. If you are using AWS Lambda logging with Log4j and have following dependency</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and are using Maven shade plugin, then you must configure the Maven shade plugin as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n  ...\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4.3&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;shade&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;transformers&gt;\n            &lt;transformer\n                    implementation=&quot;com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer&quot;&gt;\n            &lt;/transformer&gt;\n          &lt;/transformers&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\n        &lt;version&gt;2.8.1&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n  ...\n&lt;/plugins&gt;\n</code></pre>\n<p>The reason for that is that there are open issues in Log4j2, which prevents loading of Log4j plugins when using Maven shading.</p>\n<p>More details in following sites:</p>\n<ul>\n<li><a href=\"https://github.com/aws/aws-lambda-java-libs/tree/main/aws-lambda-java-log4j2\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-lambda-java-libs/tree/main/aws-lambda-java-log4j2</a></li>\n<li><a href=\"https://github.com/edwgiz/maven-shaded-log4j-transformer\" rel=\"nofollow noreferrer\">https://github.com/edwgiz/maven-shaded-log4j-transformer</a></li>\n<li><a href=\"https://issues.apache.org/jira/browse/LOG4J2-673\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/LOG4J2-673</a></li>\n<li><a href=\"https://issues.apache.org/jira/browse/LOG4J2-954\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/LOG4J2-954</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6442492,"reputation":335,"user_id":4992072,"display_name":"Rhineb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689268387,"creation_date":1689268387,"answer_id":76681833,"question_id":49973441,"body_markdown":"To try to tie all of these posts together and require less digging @TheCoolDrop has the real answer here. I tried the accepted answer fix of the package name being wrong and saw some folks complaining the doc was never updated but I don&#39;t think that fix works and I think the doc is correct and the package declaration is not necessary.\r\n\r\nThis question is for lambda which requires using shadowJar (or a shaded jar) which does not play nice with log4j2. It is a known (albeit somewhat hard to find / determine) issue. One of the reasons it is so hard to understand is that your logging config just doesn&#39;t work, no errors, and you still get logs ... just not what you are expecting. \r\n\r\nAgain @TheCoolDrop I believe has the real solution above but you can also see the following.\r\n- https://stackoverflow.com/questions/75838785/console-contains-an-invalid-element-or-attribute-jsontemplatelayout-even-after/76681723#76681723\r\n     - Has a full answer of how to do the transform for both maven and gradle\r\n- https://stackoverflow.com/questions/71458136/log4j-jsontemplatelayout-doesnt-work-when-jar-file-built-by-shadowjar\r\n     - Original post that finally clued me in\r\n- https://stackoverflow.com/questions/74739764/how-correctly-log-aws-lambda-event-with-lambda-powertools/76681756#76681756\r\n     - If your using powertools which uses log4j2\r\n- https://github.com/aws/aws-lambda-java-libs/blob/main/aws-lambda-java-log4j2/README.md\r\n","title":"Logging using Log4J2 on aws lambda - Class not found","body":"<p>To try to tie all of these posts together and require less digging @TheCoolDrop has the real answer here. I tried the accepted answer fix of the package name being wrong and saw some folks complaining the doc was never updated but I don't think that fix works and I think the doc is correct and the package declaration is not necessary.</p>\n<p>This question is for lambda which requires using shadowJar (or a shaded jar) which does not play nice with log4j2. It is a known (albeit somewhat hard to find / determine) issue. One of the reasons it is so hard to understand is that your logging config just doesn't work, no errors, and you still get logs ... just not what you are expecting.</p>\n<p>Again @TheCoolDrop I believe has the real solution above but you can also see the following.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/75838785/console-contains-an-invalid-element-or-attribute-jsontemplatelayout-even-after/76681723#76681723\">Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot; even after adding dependency</a>\n<ul>\n<li>Has a full answer of how to do the transform for both maven and gradle</li>\n</ul>\n</li>\n<li><a href=\"https://stackoverflow.com/questions/71458136/log4j-jsontemplatelayout-doesnt-work-when-jar-file-built-by-shadowjar\">log4j JsonTemplateLayout doesn&#39;t work when jar file built by shadowJar</a>\n<ul>\n<li>Original post that finally clued me in</li>\n</ul>\n</li>\n<li><a href=\"https://stackoverflow.com/questions/74739764/how-correctly-log-aws-lambda-event-with-lambda-powertools/76681756#76681756\">How correctly log AWS Lambda event with lambda powertools</a>\n<ul>\n<li>If your using powertools which uses log4j2</li>\n</ul>\n</li>\n<li><a href=\"https://github.com/aws/aws-lambda-java-libs/blob/main/aws-lambda-java-log4j2/README.md\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-lambda-java-libs/blob/main/aws-lambda-java-log4j2/README.md</a></li>\n</ul>\n"}],"owner":{"account_id":1849503,"reputation":1361,"user_id":1808048,"display_name":"dvanrensburg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16360,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":49973486,"answer_count":3,"score":20,"last_activity_date":1689268387,"creation_date":1524457838,"question_id":49973441,"body_markdown":"I am trying to use Log4J2 logging as described here in the AWS docs:\r\n\r\nhttps://docs.aws.amazon.com/lambda/latest/dg/java-logging.html#java-wt-logging-using-log4j2.8\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration packages=&quot;com.amazonaws.services.lambda.runtime.log4j2.LambdaAppender&quot;&gt;\r\n      &lt;Appenders&gt;\r\n        &lt;Lambda name=&quot;Lambda&quot;&gt;\r\n          &lt;PatternLayout&gt;\r\n              &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\r\n          &lt;/PatternLayout&gt;\r\n        &lt;/Lambda&gt;\r\n      &lt;/Appenders&gt;\r\n      &lt;Loggers&gt;\r\n        &lt;Root level=&quot;debug&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Lambda&quot; /&gt;\r\n        &lt;/Root&gt;\r\n      &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n**Error**\r\nHowever I am getting the following error when running the lambda: (I removed timestamps below to improve readability)\r\n\r\n    ERROR Error processing element Lambda ([Appenders: null]): CLASS_NOT_FOUND\r\n    ERROR Unable to locate appender &quot;Lambda&quot; for logger config &quot;root&quot;\r\n\r\n\r\n**Tried**\r\nI made sure that the log4J libs and `log4j-core`, `log4j-api`, `aws-lambda-java-log4j2` and `aws-lamda-java-core` are all in the package.","title":"Logging using Log4J2 on aws lambda - Class not found","body":"<p>I am trying to use Log4J2 logging as described here in the AWS docs:</p>\n\n<p><a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-logging.html#java-wt-logging-using-log4j2.8\" rel=\"noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/java-logging.html#java-wt-logging-using-log4j2.8</a></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration packages=\"com.amazonaws.services.lambda.runtime.log4j2.LambdaAppender\"&gt;\n  &lt;Appenders&gt;\n    &lt;Lambda name=\"Lambda\"&gt;\n      &lt;PatternLayout&gt;\n          &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\n      &lt;/PatternLayout&gt;\n    &lt;/Lambda&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=\"debug\"&gt;\n      &lt;AppenderRef ref=\"Lambda\" /&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p><strong>Error</strong>\nHowever I am getting the following error when running the lambda: (I removed timestamps below to improve readability)</p>\n\n<pre><code>ERROR Error processing element Lambda ([Appenders: null]): CLASS_NOT_FOUND\nERROR Unable to locate appender \"Lambda\" for logger config \"root\"\n</code></pre>\n\n<p><strong>Tried</strong>\nI made sure that the log4J libs and <code>log4j-core</code>, <code>log4j-api</code>, <code>aws-lambda-java-log4j2</code> and <code>aws-lamda-java-core</code> are all in the package.</p>\n"},{"tags":["javascript","java","jquery","ajax","oracle11g"],"comments":[{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":0,"creation_date":1689274727,"post_id":76681831,"comment_id":135194283,"body_markdown":"You&#39;ll need to find the log from the server that details exactly what the &quot;500&quot; error is. It could be many, many things and we cannot diagnose your problem based on what you&#39;ve provided.","body":"You&#39;ll need to find the log from the server that details exactly what the &quot;500&quot; error is. It could be many, many things and we cannot diagnose your problem based on what you&#39;ve provided."}],"owner":{"account_id":24082092,"reputation":47,"user_id":18056626,"display_name":"Shinxx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689268363,"creation_date":1689268363,"question_id":76681831,"body_markdown":"      public Integer getRecordCount(ErdbcrBean erdbcrBean/*String empid, String tocod*/)\r\n      {\r\n        SqlSession session = getSqlSessionFactory().openSession();\r\n        try\r\n        {\r\n          return (Integer)session.selectOne(&quot;getRecordCount&quot;, erdbcrBean);\r\n        }catch (Exception e){\r\n          this.logger.error(&quot;getRecordCount &quot; + erdbcrBean, e);\r\n          return 1;\r\n        }finally{\r\n          session.close();\r\n        }\r\n      }\r\nthis the DAOImpl java code I am using to see the result if the data in the database was duplicated or not. \r\n\r\n   \r\n     public String getRecordCount() throws Exception {\r\n          logName = (String) request.getSession().getAttribute(&quot;userName&quot;);\r\n          \r\n          if (logName == null)\r\n              return &quot;notLogin&quot;;\r\n          else {\r\n              /*Gson gson = new Gson();\r\n              Type collectionType = new TypeToken&lt;ErdbcrBean&gt;() {\r\n              }.getType();\r\n              erdbcrBean = (ErdbcrBean)gson.fromJson(data, collectionType);*/\r\n              Gson gson = new Gson();\r\n              ErdbcrBean erdbcrBean = gson.fromJson(data, ErdbcrBean.class);\r\n              amsBillingFacade.getBillingFacade().getR3BillHeaderDAO().execPREnable(ROLE_DESC);\r\n              recordCount = amsBillingFacade.getBillingFacade().getR3BillHeaderDAO().getRecordCount(erdbcrBean);\r\n              \r\n              return SUCCESS;\r\n          }\r\n      }\r\n\r\nThis code is for the java controller to call in the DAOImpl.\r\n\r\n    $.getJSON(&#39;getrecordcount.html&#39;, {\r\n                    data: JSON.stringify(entries)\r\n              }, function (record) {\r\n                  if (record &gt; 0) {\r\n                      $(&#39;#errorDialog&#39;).data(&#39;msg&#39;, &#39;Data already exist.&#39;).dialog(&#39;open&#39;);\r\n    }\r\n    }\r\n\r\nthis is the code that calls all the server-side to display in the front-end.\r\n\r\n\r\nI am having difficulties with the codes above with error message:\r\n http://10.0.2.58:7101/erdbcr/getrecordcount.html?data=%5B%7B%22usernm%22%3A%22MOERW03%22%2C%22memon%22%3A%22111111%22%2C%22itmno%22%3A%22%22%2C%22eridn%22%3A%220617439970%22%2C%22tocod%22%3A%2239%22%2C%22ssamt%22%3A%22480.00%22%2C%22mcamt%22%3A%220.00%22%2C%22ecamt%22%3A%220.00%22%2C%22orgcd%22%3A%221%22%2C%22pytyp%22%3A%221%22%2C%22prnum%22%3A%22%22%2C%22valda%22%3A%22190828%22%2C%22tsnum%22%3A%22190828%22%2C%22fapld%22%3A%221907%22%2C%22tapld%22%3A%221%22%2C%22sbpda%22%3A%22190828%22%7D%5D (500: Internal Server Error)","title":"500: Internal Server Error with java and javascript using Oracle11g","body":"<pre><code>  public Integer getRecordCount(ErdbcrBean erdbcrBean/*String empid, String tocod*/)\n  {\n    SqlSession session = getSqlSessionFactory().openSession();\n    try\n    {\n      return (Integer)session.selectOne(&quot;getRecordCount&quot;, erdbcrBean);\n    }catch (Exception e){\n      this.logger.error(&quot;getRecordCount &quot; + erdbcrBean, e);\n      return 1;\n    }finally{\n      session.close();\n    }\n  }\n</code></pre>\n<p>this the DAOImpl java code I am using to see the result if the data in the database was duplicated or not.</p>\n<pre><code> public String getRecordCount() throws Exception {\n      logName = (String) request.getSession().getAttribute(&quot;userName&quot;);\n      \n      if (logName == null)\n          return &quot;notLogin&quot;;\n      else {\n          /*Gson gson = new Gson();\n          Type collectionType = new TypeToken&lt;ErdbcrBean&gt;() {\n          }.getType();\n          erdbcrBean = (ErdbcrBean)gson.fromJson(data, collectionType);*/\n          Gson gson = new Gson();\n          ErdbcrBean erdbcrBean = gson.fromJson(data, ErdbcrBean.class);\n          amsBillingFacade.getBillingFacade().getR3BillHeaderDAO().execPREnable(ROLE_DESC);\n          recordCount = amsBillingFacade.getBillingFacade().getR3BillHeaderDAO().getRecordCount(erdbcrBean);\n          \n          return SUCCESS;\n      }\n  }\n</code></pre>\n<p>This code is for the java controller to call in the DAOImpl.</p>\n<pre><code>$.getJSON('getrecordcount.html', {\n                data: JSON.stringify(entries)\n          }, function (record) {\n              if (record &gt; 0) {\n                  $('#errorDialog').data('msg', 'Data already exist.').dialog('open');\n}\n}\n</code></pre>\n<p>this is the code that calls all the server-side to display in the front-end.</p>\n<p>I am having difficulties with the codes above with error message:\n<a href=\"http://10.0.2.58:7101/erdbcr/getrecordcount.html?data=%5B%7B%22usernm%22%3A%22MOERW03%22%2C%22memon%22%3A%22111111%22%2C%22itmno%22%3A%22%22%2C%22eridn%22%3A%220617439970%22%2C%22tocod%22%3A%2239%22%2C%22ssamt%22%3A%22480.00%22%2C%22mcamt%22%3A%220.00%22%2C%22ecamt%22%3A%220.00%22%2C%22orgcd%22%3A%221%22%2C%22pytyp%22%3A%221%22%2C%22prnum%22%3A%22%22%2C%22valda%22%3A%22190828%22%2C%22tsnum%22%3A%22190828%22%2C%22fapld%22%3A%221907%22%2C%22tapld%22%3A%221%22%2C%22sbpda%22%3A%22190828%22%7D%5D\" rel=\"nofollow noreferrer\">http://10.0.2.58:7101/erdbcr/getrecordcount.html?data=%5B%7B%22usernm%22%3A%22MOERW03%22%2C%22memon%22%3A%22111111%22%2C%22itmno%22%3A%22%22%2C%22eridn%22%3A%220617439970%22%2C%22tocod%22%3A%2239%22%2C%22ssamt%22%3A%22480.00%22%2C%22mcamt%22%3A%220.00%22%2C%22ecamt%22%3A%220.00%22%2C%22orgcd%22%3A%221%22%2C%22pytyp%22%3A%221%22%2C%22prnum%22%3A%22%22%2C%22valda%22%3A%22190828%22%2C%22tsnum%22%3A%22190828%22%2C%22fapld%22%3A%221907%22%2C%22tapld%22%3A%221%22%2C%22sbpda%22%3A%22190828%22%7D%5D</a> (500: Internal Server Error)</p>\n"},{"tags":["java","android","android-imagebutton"],"owner":{"account_id":25846168,"reputation":133,"user_id":19580991,"display_name":"eliasciur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689267293,"creation_date":1689267293,"question_id":76681722,"body_markdown":"I have this weird issue I can not find any information about online. I am trying to make a stackmat timer app to use when speedcubing. There are two buttons on the left and right side of the screen that are used as &quot;pads&quot; to start and stop the timer. [![app image](https://i.stack.imgur.com/nFtv0.png)](https://i.stack.imgur.com/nFtv0.png) \r\n\r\nThe buttons reach the end of the screen which gives me this weird issue whenever I press the button with one of my fingers on the black space between my phone screen and frame.[![image for context](https://i.stack.imgur.com/Fx9Ic.png)](https://i.stack.imgur.com/Fx9Ic.png) \r\n\r\nWhenever I release the button android doesn&#39;t register the event. I have put text above each pad to help me debug why this was happening but I still don&#39;t know why it happens. I have used another phone to see if it was a problem with my phone but the same thing happened. I have been trying to solve this problem for days without any luck. If anyone can help I would greatly appreciate it.\r\n\r\n\r\n```\r\n    @Override\r\n    public boolean onTouch(View view, MotionEvent motionEvent) {\r\n\r\n        if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {\r\n\r\n            this.isPressed = true;\r\n            this.onPressListener.onPressEvent(new OnPressEvent(this));\r\n\r\n        }\r\n\r\n        else if (motionEvent.getAction() == MotionEvent.ACTION_UP) {\r\n\r\n            this.isPressed = false;\r\n            this.onReleaseListener.onReleaseEvent(new OnReleaseEvent(this));\r\n\r\n        }\r\n\r\n        return true;\r\n\r\n    }\r\n```\r\n","title":"Android doesn&#39;t register MotionEvent.ACTION_UP if I press the black space around my phone","body":"<p>I have this weird issue I can not find any information about online. I am trying to make a stackmat timer app to use when speedcubing. There are two buttons on the left and right side of the screen that are used as &quot;pads&quot; to start and stop the timer. <a href=\"https://i.stack.imgur.com/nFtv0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nFtv0.png\" alt=\"app image\" /></a></p>\n<p>The buttons reach the end of the screen which gives me this weird issue whenever I press the button with one of my fingers on the black space between my phone screen and frame.<a href=\"https://i.stack.imgur.com/Fx9Ic.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fx9Ic.png\" alt=\"image for context\" /></a></p>\n<p>Whenever I release the button android doesn't register the event. I have put text above each pad to help me debug why this was happening but I still don't know why it happens. I have used another phone to see if it was a problem with my phone but the same thing happened. I have been trying to solve this problem for days without any luck. If anyone can help I would greatly appreciate it.</p>\n<pre><code>    @Override\n    public boolean onTouch(View view, MotionEvent motionEvent) {\n\n        if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {\n\n            this.isPressed = true;\n            this.onPressListener.onPressEvent(new OnPressEvent(this));\n\n        }\n\n        else if (motionEvent.getAction() == MotionEvent.ACTION_UP) {\n\n            this.isPressed = false;\n            this.onReleaseListener.onReleaseEvent(new OnReleaseEvent(this));\n\n        }\n\n        return true;\n\n    }\n</code></pre>\n"},{"tags":["java","maven","junit","github-actions","cicd"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1689268693,"post_id":76681702,"comment_id":135193103,"body_markdown":"Do you have a link to your project? Why have you defined the platform runner as a dependency? Which Maven version do you use ? Have you defined the maven-surefire-plugin version? I doubt you have? please check (https://www.youtube.com/@khmarbaise) also https://github.com/khmarbaise/youtube-videos/blob/main/episode-2/pom.xml","body":"Do you have a link to your project? Why have you defined the platform runner as a dependency? Which Maven version do you use ? Have you defined the maven-surefire-plugin version? I doubt you have? please check (<a href=\"https://www.youtube.com/@khmarbaise\" rel=\"nofollow noreferrer\">youtube.com/@khmarbaise</a>) also <a href=\"https://github.com/khmarbaise/youtube-videos/blob/main/episode-2/pom.xml\" rel=\"nofollow noreferrer\">github.com/khmarbaise/youtube-videos/blob/main/episode-2/&hellip;</a>"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1689271252,"post_id":76681702,"comment_id":135193559,"body_markdown":"Junit4 and junit5 works differently. You need to be certain you invoke it the same way as you do locally.","body":"Junit4 and junit5 works differently. You need to be certain you invoke it the same way as you do locally."},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1689310093,"post_id":76681702,"comment_id":135198077,"body_markdown":"Please include your workflow along with the run logs in your question.","body":"Please include your workflow along with the run logs in your question."}],"owner":{"account_id":20996700,"reputation":9,"user_id":15428378,"display_name":"Br0grammer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689267066,"creation_date":1689267066,"question_id":76681702,"body_markdown":"I have been trying to create a github workflow to run my junit test cases when there is a push to my repository but when I try doing it the &quot;actions&quot; tab says it was successful but if I look into the logger it says it ran zero tests. can someone help me with the yml file that goes into .github -&gt; .workflows -&gt; XXXXX.yml \r\n\r\nBelow are my Java files \r\n\r\n**RobotMotion.Java**\r\n\r\n    package com.github.DaBrogrammer;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    public class RobotMotion {\r\n        private static int[][] floor;\r\n        private static int posX;\r\n        private static int posY;\r\n        private static boolean penDown;\r\n        private static Direction direction;\r\n    \r\n        public static Object[] getFloor() {\r\n            return floor;\r\n        }\r\n    \r\n        public static int getPosX() {\r\n            return posX;\r\n        }\r\n    \r\n        public static int getPosY() {\r\n            return posY;\r\n        }\r\n    \r\n        public static boolean isPenDown() {\r\n            return penDown;\r\n        }\r\n        \r\n        public static void setPen(boolean setting) {\r\n        \tpenDown = setting;\r\n        }\r\n    \r\n        public static Direction getDirection() {\r\n            return direction;\r\n        }\r\n    \r\n        enum Direction {\r\n            NORTH, EAST, SOUTH, WEST\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            boolean running = true;\r\n    \r\n            while (running) {\r\n                System.out.print(&quot;Enter command: &quot;);\r\n                String command = scanner.nextLine();\r\n    \r\n                if (command.length() &gt; 0) {\r\n                    char commandChar = Character.toLowerCase(command.charAt(0));\r\n                    String commandArgs = command.length() &gt; 1 ? command.substring(2) : &quot;&quot;;\r\n    \r\n                    switch (commandChar) {\r\n                        case &#39;i&#39; -&gt; {\r\n                            int n = Integer.parseInt(commandArgs);\r\n                            initializeSystem(n);\r\n                        }\r\n                        case &#39;c&#39; -&gt; printCurrentPosition();\r\n                        case &#39;d&#39; -&gt; setPen(true);\r\n                        case &#39;u&#39; -&gt; setPen(false);\r\n                        case &#39;r&#39; -&gt; turnRight();\r\n                        case &#39;l&#39; -&gt; turnLeft();\r\n                        case &#39;m&#39; -&gt; {\r\n                            int spaces = Integer.parseInt(commandArgs);\r\n                            move(spaces);\r\n                        }\r\n                        case &#39;p&#39; -&gt; printFloor();\r\n                        case &#39;q&#39; -&gt; running = false;\r\n                        default -&gt; System.out.println(&quot;Invalid command!&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        static void initializeSystem(int n) {\r\n            floor = new int[n][n];\r\n            for (int[] row : floor) {\r\n                Arrays.fill(row, 0);\r\n            }\r\n            posX = 0;\r\n            posY = 0;\r\n            penDown = false;\r\n            direction = Direction.NORTH;\r\n        }\r\n    \r\n        static void printCurrentPosition() {\r\n            System.out.printf(&quot;Position: %d, %d - Pen: %s - Facing: %s\\n&quot;,\r\n                    posX, posY, penDown ? &quot;down&quot; : &quot;up&quot;, direction.toString().toLowerCase());\r\n        }\r\n    \r\n        static void turnRight() {\r\n            switch (direction) {\r\n                case NORTH -&gt; direction = Direction.EAST;\r\n                case EAST -&gt; direction = Direction.SOUTH;\r\n                case SOUTH -&gt; direction = Direction.WEST;\r\n                case WEST -&gt; direction = Direction.NORTH;\r\n            }\r\n        }\r\n    \r\n        static void turnLeft() {\r\n            switch (direction) {\r\n                case NORTH -&gt; direction = Direction.WEST;\r\n                case EAST -&gt; direction = Direction.NORTH;\r\n                case SOUTH -&gt; direction = Direction.EAST;\r\n                case WEST -&gt; direction = Direction.SOUTH;\r\n            }\r\n        }\r\n    \r\n        static void move(int spaces) {\r\n    \r\n            if (penDown) {\r\n                floor[posX][posY] = 1; // Mark the initial position with &quot;*&quot; if pen is down\r\n            }\r\n    \r\n            switch (direction) {\r\n                case NORTH -&gt; {\r\n                    for (int i = 0; i &lt; spaces; i++) {\r\n                        if (posY &lt; floor.length - 1) {\r\n                            posY++;\r\n                            if (penDown) {\r\n                                floor[posX][posY] = 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                case EAST -&gt; {\r\n                    for (int i = 0; i &lt; spaces; i++) {\r\n                        if (posX &lt; floor.length - 1) {\r\n                            posX++;\r\n                            if (penDown) {\r\n                                floor[posX][posY] = 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                case SOUTH -&gt; {\r\n                    for (int i = 0; i &lt; spaces; i++) {\r\n                        if (posY &gt; 0) {\r\n                            posY--;\r\n                            if (penDown) {\r\n                                floor[posX][posY] = 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                case WEST -&gt; {\r\n                    for (int i = 0; i &lt; spaces; i++) {\r\n                        if (posX &gt; 0) {\r\n                            posX--;\r\n                            if (penDown) {\r\n                                floor[posX][posY] = 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        static void printFloor() {\r\n            int size = floor.length;\r\n    \r\n            // Print the top border\r\n            System.out.print(&quot;  +&quot;);\r\n            for (int i = 0; i &lt; size; i++) {\r\n                System.out.print(&quot;--&quot;);\r\n            }\r\n            System.out.println(&quot;+&quot;);\r\n    \r\n            // Print the rows\r\n            for (int j = size - 1; j &gt;= 0; j--) {\r\n                System.out.print(j + &quot; |&quot;); // Print the row number\r\n    \r\n                for (int i = 0; i &lt; size; i++) {\r\n                    if (i == posX &amp;&amp; j == posY) {\r\n                        System.out.print(penDown ? &quot;* &quot; : &quot;  &quot;); // Check pen state before printing\r\n                    } else {\r\n                        System.out.print(floor[i][j] == 1 ? &quot;* &quot; : &quot;  &quot;);\r\n                    }\r\n                }\r\n                System.out.println(&quot;|&quot;);\r\n            }\r\n    \r\n            // Print the bottom border\r\n            System.out.print(&quot;  +&quot;);\r\n            for (int i = 0; i &lt; size; i++) {\r\n                System.out.print(&quot;--&quot;);\r\n            }\r\n            System.out.println(&quot;+&quot;);\r\n    \r\n            // Print the column numbers\r\n            System.out.print(&quot;   &quot;);\r\n            for (int i = 0; i &lt; size; i++) {\r\n                System.out.print(i + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**RobotMotionTest.java**\r\n\r\n    package com.github.DaBrogrammer;\r\n    \r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.PrintStream;\r\n    \r\n    public class RobotMotionTest {\r\n        private final ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    \r\n        @BeforeEach\r\n        public void setUp() {\r\n            System.setOut(new PrintStream(outputStream));\r\n        }\r\n    \r\n        @Test\r\n        public void testInitializeSystem() {\r\n            RobotMotion.initializeSystem(3);\r\n    \r\n            int[][] expectedFloor = {{0, 0, 0}, {0, 0, 0}, {0, 0, 0}};\r\n            Assertions.assertArrayEquals(expectedFloor, RobotMotion.getFloor());\r\n    \r\n            Assertions.assertEquals(0, RobotMotion.getPosX());\r\n            Assertions.assertEquals(0, RobotMotion.getPosY());\r\n    \r\n            Assertions.assertFalse(RobotMotion.isPenDown());\r\n    \r\n            Assertions.assertEquals(RobotMotion.Direction.NORTH, RobotMotion.getDirection());\r\n        }\r\n    \r\n        @Test\r\n        public void testTurnRight() {\r\n            RobotMotion.initializeSystem(3);\r\n    \r\n            RobotMotion.turnRight();\r\n            Assertions.assertEquals(RobotMotion.Direction.EAST, RobotMotion.getDirection());\r\n    \r\n            RobotMotion.turnRight();\r\n            Assertions.assertEquals(RobotMotion.Direction.SOUTH, RobotMotion.getDirection());\r\n    \r\n            RobotMotion.turnRight();\r\n            Assertions.assertEquals(RobotMotion.Direction.WEST, RobotMotion.getDirection());\r\n    \r\n            RobotMotion.turnRight();\r\n            Assertions.assertEquals(RobotMotion.Direction.NORTH, RobotMotion.getDirection());\r\n        }\r\n    \r\n        @Test\r\n        public void testTurnLeft() {\r\n            RobotMotion.initializeSystem(3);\r\n    \r\n            RobotMotion.turnLeft();\r\n            Assertions.assertEquals(RobotMotion.Direction.WEST, RobotMotion.getDirection());\r\n    \r\n            RobotMotion.turnLeft();\r\n            Assertions.assertEquals(RobotMotion.Direction.SOUTH, RobotMotion.getDirection());\r\n    \r\n            RobotMotion.turnLeft();\r\n            Assertions.assertEquals(RobotMotion.Direction.EAST, RobotMotion.getDirection());\r\n    \r\n            RobotMotion.turnLeft();\r\n            Assertions.assertEquals(RobotMotion.Direction.NORTH, RobotMotion.getDirection());\r\n        }\r\n        \r\n        @Test\r\n        public void testSetPenDown() {\r\n        \tRobotMotion.initializeSystem(3);\r\n        \tRobotMotion.setPen(true);\r\n        \tAssertions.assertTrue(RobotMotion.isPenDown());\r\n        }\r\n        \r\n        @Test\r\n        public void testSetPenUp() {\r\n        \tRobotMotion.initializeSystem(3);\r\n        \tAssertions.assertFalse(RobotMotion.isPenDown());\r\n        \tRobotMotion.setPen(false);\r\n        \tAssertions.assertFalse(RobotMotion.isPenDown());\r\n        }\r\n    \r\n        @Test\r\n        public void testMove() {\r\n            RobotMotion.initializeSystem(3);\r\n            \r\n            RobotMotion.setPen(true); // must set pen down in order to draw\r\n            RobotMotion.move(2);\r\n            Assertions.assertEquals(0, RobotMotion.getPosX());\r\n            Assertions.assertEquals(2, RobotMotion.getPosY());\r\n            //Assertions.assertFalse(RobotMotion.isPenDown());\r\n    \r\n            RobotMotion.turnRight();\r\n            RobotMotion.move(1);\r\n            Assertions.assertEquals(1, RobotMotion.getPosX());\r\n            Assertions.assertEquals(2, RobotMotion.getPosY());\r\n            //Assertions.assertFalse(RobotMotion.isPenDown());\r\n        }\r\n    \r\n        @Test\r\n        public void testPrintCurrentPosition() {\r\n            RobotMotion.initializeSystem(3);\r\n    \r\n            RobotMotion.printCurrentPosition();\r\n            Assertions.assertEquals(&quot;Position: 0, 0 - Pen: up - Facing: north\\n&quot;, outputStream.toString());\r\n            \r\n            outputStream.reset();\r\n            RobotMotion.setPen(true); // must set pen down in order to draw\r\n            RobotMotion.turnRight();\r\n            RobotMotion.move(2);\r\n            RobotMotion.printCurrentPosition();\r\n            Assertions.assertEquals(&quot;Position: 2, 0 - Pen: down - Facing: east\\n&quot;, outputStream.toString());\r\n            \r\n            outputStream.reset();\r\n            RobotMotion.turnLeft();\r\n            RobotMotion.move(1);\r\n            RobotMotion.printCurrentPosition();\r\n            Assertions.assertEquals(&quot;Position: 2, 1 - Pen: down - Facing: north\\n&quot;, outputStream.toString());\r\n        }\r\n    \r\n        @Test\r\n        public void testPrintFloor() {\r\n            RobotMotion.initializeSystem(3);\r\n    \r\n            RobotMotion.move(2);\r\n            RobotMotion.turnRight();\r\n            RobotMotion.move(1);\r\n    \r\n            outputStream.reset();\r\n            RobotMotion.printFloor();\r\n    \r\n            String expectedOutput = &quot;  +------+&quot; + System.lineSeparator() +\r\n                    &quot;2 |      |&quot; + System.lineSeparator() +\r\n                    &quot;1 |      |&quot; + System.lineSeparator() +\r\n                    &quot;0 |      |&quot; + System.lineSeparator() +\r\n                    &quot;  +------+&quot; + System.lineSeparator() +\r\n                    &quot;   0 1 2 &quot; + System.lineSeparator();\r\n    \r\n            Assertions.assertEquals(expectedOutput, outputStream.toString());\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.github.DaBrogrammer&lt;/groupId&gt;\r\n        &lt;artifactId&gt;RobotMotion&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;!-- junit 5, unit test --&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;5.9.3&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-runner --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.3&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nHere is a screenshot of my directory:\r\n\r\n[My code directory structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5p07N.png","title":"How do I create a yml file to run CI/CD on github for java maven project","body":"<p>I have been trying to create a github workflow to run my junit test cases when there is a push to my repository but when I try doing it the &quot;actions&quot; tab says it was successful but if I look into the logger it says it ran zero tests. can someone help me with the yml file that goes into .github -&gt; .workflows -&gt; XXXXX.yml</p>\n<p>Below are my Java files</p>\n<p><strong>RobotMotion.Java</strong></p>\n<pre><code>package com.github.DaBrogrammer;\n\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class RobotMotion {\n    private static int[][] floor;\n    private static int posX;\n    private static int posY;\n    private static boolean penDown;\n    private static Direction direction;\n\n    public static Object[] getFloor() {\n        return floor;\n    }\n\n    public static int getPosX() {\n        return posX;\n    }\n\n    public static int getPosY() {\n        return posY;\n    }\n\n    public static boolean isPenDown() {\n        return penDown;\n    }\n    \n    public static void setPen(boolean setting) {\n        penDown = setting;\n    }\n\n    public static Direction getDirection() {\n        return direction;\n    }\n\n    enum Direction {\n        NORTH, EAST, SOUTH, WEST\n    }\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        boolean running = true;\n\n        while (running) {\n            System.out.print(&quot;Enter command: &quot;);\n            String command = scanner.nextLine();\n\n            if (command.length() &gt; 0) {\n                char commandChar = Character.toLowerCase(command.charAt(0));\n                String commandArgs = command.length() &gt; 1 ? command.substring(2) : &quot;&quot;;\n\n                switch (commandChar) {\n                    case 'i' -&gt; {\n                        int n = Integer.parseInt(commandArgs);\n                        initializeSystem(n);\n                    }\n                    case 'c' -&gt; printCurrentPosition();\n                    case 'd' -&gt; setPen(true);\n                    case 'u' -&gt; setPen(false);\n                    case 'r' -&gt; turnRight();\n                    case 'l' -&gt; turnLeft();\n                    case 'm' -&gt; {\n                        int spaces = Integer.parseInt(commandArgs);\n                        move(spaces);\n                    }\n                    case 'p' -&gt; printFloor();\n                    case 'q' -&gt; running = false;\n                    default -&gt; System.out.println(&quot;Invalid command!&quot;);\n                }\n            }\n        }\n    }\n\n    static void initializeSystem(int n) {\n        floor = new int[n][n];\n        for (int[] row : floor) {\n            Arrays.fill(row, 0);\n        }\n        posX = 0;\n        posY = 0;\n        penDown = false;\n        direction = Direction.NORTH;\n    }\n\n    static void printCurrentPosition() {\n        System.out.printf(&quot;Position: %d, %d - Pen: %s - Facing: %s\\n&quot;,\n                posX, posY, penDown ? &quot;down&quot; : &quot;up&quot;, direction.toString().toLowerCase());\n    }\n\n    static void turnRight() {\n        switch (direction) {\n            case NORTH -&gt; direction = Direction.EAST;\n            case EAST -&gt; direction = Direction.SOUTH;\n            case SOUTH -&gt; direction = Direction.WEST;\n            case WEST -&gt; direction = Direction.NORTH;\n        }\n    }\n\n    static void turnLeft() {\n        switch (direction) {\n            case NORTH -&gt; direction = Direction.WEST;\n            case EAST -&gt; direction = Direction.NORTH;\n            case SOUTH -&gt; direction = Direction.EAST;\n            case WEST -&gt; direction = Direction.SOUTH;\n        }\n    }\n\n    static void move(int spaces) {\n\n        if (penDown) {\n            floor[posX][posY] = 1; // Mark the initial position with &quot;*&quot; if pen is down\n        }\n\n        switch (direction) {\n            case NORTH -&gt; {\n                for (int i = 0; i &lt; spaces; i++) {\n                    if (posY &lt; floor.length - 1) {\n                        posY++;\n                        if (penDown) {\n                            floor[posX][posY] = 1;\n                        }\n                    }\n                }\n            }\n            case EAST -&gt; {\n                for (int i = 0; i &lt; spaces; i++) {\n                    if (posX &lt; floor.length - 1) {\n                        posX++;\n                        if (penDown) {\n                            floor[posX][posY] = 1;\n                        }\n                    }\n                }\n            }\n            case SOUTH -&gt; {\n                for (int i = 0; i &lt; spaces; i++) {\n                    if (posY &gt; 0) {\n                        posY--;\n                        if (penDown) {\n                            floor[posX][posY] = 1;\n                        }\n                    }\n                }\n            }\n            case WEST -&gt; {\n                for (int i = 0; i &lt; spaces; i++) {\n                    if (posX &gt; 0) {\n                        posX--;\n                        if (penDown) {\n                            floor[posX][posY] = 1;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    static void printFloor() {\n        int size = floor.length;\n\n        // Print the top border\n        System.out.print(&quot;  +&quot;);\n        for (int i = 0; i &lt; size; i++) {\n            System.out.print(&quot;--&quot;);\n        }\n        System.out.println(&quot;+&quot;);\n\n        // Print the rows\n        for (int j = size - 1; j &gt;= 0; j--) {\n            System.out.print(j + &quot; |&quot;); // Print the row number\n\n            for (int i = 0; i &lt; size; i++) {\n                if (i == posX &amp;&amp; j == posY) {\n                    System.out.print(penDown ? &quot;* &quot; : &quot;  &quot;); // Check pen state before printing\n                } else {\n                    System.out.print(floor[i][j] == 1 ? &quot;* &quot; : &quot;  &quot;);\n                }\n            }\n            System.out.println(&quot;|&quot;);\n        }\n\n        // Print the bottom border\n        System.out.print(&quot;  +&quot;);\n        for (int i = 0; i &lt; size; i++) {\n            System.out.print(&quot;--&quot;);\n        }\n        System.out.println(&quot;+&quot;);\n\n        // Print the column numbers\n        System.out.print(&quot;   &quot;);\n        for (int i = 0; i &lt; size; i++) {\n            System.out.print(i + &quot; &quot;);\n        }\n        System.out.println();\n    }\n\n}\n</code></pre>\n<p><strong>RobotMotionTest.java</strong></p>\n<pre><code>package com.github.DaBrogrammer;\n\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.PrintStream;\n\npublic class RobotMotionTest {\n    private final ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n\n    @BeforeEach\n    public void setUp() {\n        System.setOut(new PrintStream(outputStream));\n    }\n\n    @Test\n    public void testInitializeSystem() {\n        RobotMotion.initializeSystem(3);\n\n        int[][] expectedFloor = {{0, 0, 0}, {0, 0, 0}, {0, 0, 0}};\n        Assertions.assertArrayEquals(expectedFloor, RobotMotion.getFloor());\n\n        Assertions.assertEquals(0, RobotMotion.getPosX());\n        Assertions.assertEquals(0, RobotMotion.getPosY());\n\n        Assertions.assertFalse(RobotMotion.isPenDown());\n\n        Assertions.assertEquals(RobotMotion.Direction.NORTH, RobotMotion.getDirection());\n    }\n\n    @Test\n    public void testTurnRight() {\n        RobotMotion.initializeSystem(3);\n\n        RobotMotion.turnRight();\n        Assertions.assertEquals(RobotMotion.Direction.EAST, RobotMotion.getDirection());\n\n        RobotMotion.turnRight();\n        Assertions.assertEquals(RobotMotion.Direction.SOUTH, RobotMotion.getDirection());\n\n        RobotMotion.turnRight();\n        Assertions.assertEquals(RobotMotion.Direction.WEST, RobotMotion.getDirection());\n\n        RobotMotion.turnRight();\n        Assertions.assertEquals(RobotMotion.Direction.NORTH, RobotMotion.getDirection());\n    }\n\n    @Test\n    public void testTurnLeft() {\n        RobotMotion.initializeSystem(3);\n\n        RobotMotion.turnLeft();\n        Assertions.assertEquals(RobotMotion.Direction.WEST, RobotMotion.getDirection());\n\n        RobotMotion.turnLeft();\n        Assertions.assertEquals(RobotMotion.Direction.SOUTH, RobotMotion.getDirection());\n\n        RobotMotion.turnLeft();\n        Assertions.assertEquals(RobotMotion.Direction.EAST, RobotMotion.getDirection());\n\n        RobotMotion.turnLeft();\n        Assertions.assertEquals(RobotMotion.Direction.NORTH, RobotMotion.getDirection());\n    }\n    \n    @Test\n    public void testSetPenDown() {\n        RobotMotion.initializeSystem(3);\n        RobotMotion.setPen(true);\n        Assertions.assertTrue(RobotMotion.isPenDown());\n    }\n    \n    @Test\n    public void testSetPenUp() {\n        RobotMotion.initializeSystem(3);\n        Assertions.assertFalse(RobotMotion.isPenDown());\n        RobotMotion.setPen(false);\n        Assertions.assertFalse(RobotMotion.isPenDown());\n    }\n\n    @Test\n    public void testMove() {\n        RobotMotion.initializeSystem(3);\n        \n        RobotMotion.setPen(true); // must set pen down in order to draw\n        RobotMotion.move(2);\n        Assertions.assertEquals(0, RobotMotion.getPosX());\n        Assertions.assertEquals(2, RobotMotion.getPosY());\n        //Assertions.assertFalse(RobotMotion.isPenDown());\n\n        RobotMotion.turnRight();\n        RobotMotion.move(1);\n        Assertions.assertEquals(1, RobotMotion.getPosX());\n        Assertions.assertEquals(2, RobotMotion.getPosY());\n        //Assertions.assertFalse(RobotMotion.isPenDown());\n    }\n\n    @Test\n    public void testPrintCurrentPosition() {\n        RobotMotion.initializeSystem(3);\n\n        RobotMotion.printCurrentPosition();\n        Assertions.assertEquals(&quot;Position: 0, 0 - Pen: up - Facing: north\\n&quot;, outputStream.toString());\n        \n        outputStream.reset();\n        RobotMotion.setPen(true); // must set pen down in order to draw\n        RobotMotion.turnRight();\n        RobotMotion.move(2);\n        RobotMotion.printCurrentPosition();\n        Assertions.assertEquals(&quot;Position: 2, 0 - Pen: down - Facing: east\\n&quot;, outputStream.toString());\n        \n        outputStream.reset();\n        RobotMotion.turnLeft();\n        RobotMotion.move(1);\n        RobotMotion.printCurrentPosition();\n        Assertions.assertEquals(&quot;Position: 2, 1 - Pen: down - Facing: north\\n&quot;, outputStream.toString());\n    }\n\n    @Test\n    public void testPrintFloor() {\n        RobotMotion.initializeSystem(3);\n\n        RobotMotion.move(2);\n        RobotMotion.turnRight();\n        RobotMotion.move(1);\n\n        outputStream.reset();\n        RobotMotion.printFloor();\n\n        String expectedOutput = &quot;  +------+&quot; + System.lineSeparator() +\n                &quot;2 |      |&quot; + System.lineSeparator() +\n                &quot;1 |      |&quot; + System.lineSeparator() +\n                &quot;0 |      |&quot; + System.lineSeparator() +\n                &quot;  +------+&quot; + System.lineSeparator() +\n                &quot;   0 1 2 &quot; + System.lineSeparator();\n\n        Assertions.assertEquals(expectedOutput, outputStream.toString());\n    }\n\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.github.DaBrogrammer&lt;/groupId&gt;\n    &lt;artifactId&gt;RobotMotion&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- junit 5, unit test --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.9.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-runner --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n            &lt;version&gt;1.9.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here is a screenshot of my directory:</p>\n<p><a href=\"https://i.stack.imgur.com/5p07N.png\" rel=\"nofollow noreferrer\">My code directory structure</a></p>\n"},{"tags":["java","spring","oracle"],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689267007,"creation_date":1689259195,"question_id":76680634,"body_markdown":"We have upgraded some old Spring code to Spring boot 2.7.x. There was the following statement that is not compilable anymore:\r\n\r\n    jdbcTemplate.setNativeJdbcExtractor(new org.springframework.jdbc.support.nativejdbc.OracleJdbc4NativeJdbcExtractor());\r\n    map = (new SimpleJdbcCall(jdbcTemplate)).withSchemaName(schemaName).withCatalogName(packageName)\r\n    .withProcedureName(procedureName).execute(sqlParameterSource);\r\n\r\nWhen I run the app without the first line (`setNativeJdbcExtractor`), it fails on:\r\n\r\n    java.lang.ClassCastException: class com.zaxxer.hikari.pool.HikariProxyConnection cannot be cast to class oracle.jdbc.OracleConnection (com.zaxxer.hikari.pool.HikariProxyConnection and oracle.jdbc.OracleConnection are in unnamed module of loader &#39;app&#39;)\r\n            at oracle.sql.TypeDescriptor.setPhysicalConnectionOf(TypeDescriptor.java:805) ~[ojdbc8-19.6.0.0.jar:19.6.0.0.0]\r\n            at oracle.sql.TypeDescriptor.&lt;init&gt;(TypeDescriptor.java:587) ~[ojdbc8-19.6.0.0.jar:19.6.0.0.0]\r\n            at oracle.sql.ArrayDescriptor.&lt;init&gt;(ArrayDescriptor.java:273) ~[ojdbc8-19.6.0.0.jar:19.6.0.0.0]\r\n            at org.springframework.data.jdbc.support.oracle.SqlArrayValue.createTypeValue(SqlArrayValue.java:90) ~[spring-data-oracle-1.2.1.RELEASE.jar:na]\r\n            at org.springframework.jdbc.core.support.AbstractSqlTypeValue.setTypeValue(AbstractSqlTypeValue.java:60) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.StatementCreatorUtils.setValue(StatementCreatorUtils.java:298) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValueInternal(StatementCreatorUtils.java:237) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValue(StatementCreatorUtils.java:152) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.CallableStatementCreatorFactory$CallableStatementCreatorImpl.createCallableStatement(CallableStatementCreatorFactory.java:209) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1188) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1245) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.simple.AbstractJdbcCall.executeCallInternal(AbstractJdbcCall.java:412) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.simple.AbstractJdbcCall.doExecute(AbstractJdbcCall.java:395) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.simple.SimpleJdbcCall.execute(SimpleJdbcCall.java:193) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n\r\nI found some questions about a removal of org.springframework.jdbc.support.nativejdbc package in Spring 5. This question looks similar \r\n\r\nhttps://stackoverflow.com/questions/50295340/what-is-the-spring-5-jdbc-approach-when-nativejdbcextractor-is-needed\r\n\r\nI use jdbcTemplate, so I cannot unwrap the native Connection. And the overloaded method `AbstractSqlTypeValue.setTypeValue()` - where does it belong? How can I provide my implementation?","title":"ClassCastException after removal of setNativeJdbcExtractor in Spring","body":"<p>We have upgraded some old Spring code to Spring boot 2.7.x. There was the following statement that is not compilable anymore:</p>\n<pre><code>jdbcTemplate.setNativeJdbcExtractor(new org.springframework.jdbc.support.nativejdbc.OracleJdbc4NativeJdbcExtractor());\nmap = (new SimpleJdbcCall(jdbcTemplate)).withSchemaName(schemaName).withCatalogName(packageName)\n.withProcedureName(procedureName).execute(sqlParameterSource);\n</code></pre>\n<p>When I run the app without the first line (<code>setNativeJdbcExtractor</code>), it fails on:</p>\n<pre><code>java.lang.ClassCastException: class com.zaxxer.hikari.pool.HikariProxyConnection cannot be cast to class oracle.jdbc.OracleConnection (com.zaxxer.hikari.pool.HikariProxyConnection and oracle.jdbc.OracleConnection are in unnamed module of loader 'app')\n        at oracle.sql.TypeDescriptor.setPhysicalConnectionOf(TypeDescriptor.java:805) ~[ojdbc8-19.6.0.0.jar:19.6.0.0.0]\n        at oracle.sql.TypeDescriptor.&lt;init&gt;(TypeDescriptor.java:587) ~[ojdbc8-19.6.0.0.jar:19.6.0.0.0]\n        at oracle.sql.ArrayDescriptor.&lt;init&gt;(ArrayDescriptor.java:273) ~[ojdbc8-19.6.0.0.jar:19.6.0.0.0]\n        at org.springframework.data.jdbc.support.oracle.SqlArrayValue.createTypeValue(SqlArrayValue.java:90) ~[spring-data-oracle-1.2.1.RELEASE.jar:na]\n        at org.springframework.jdbc.core.support.AbstractSqlTypeValue.setTypeValue(AbstractSqlTypeValue.java:60) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.StatementCreatorUtils.setValue(StatementCreatorUtils.java:298) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValueInternal(StatementCreatorUtils.java:237) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValue(StatementCreatorUtils.java:152) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.CallableStatementCreatorFactory$CallableStatementCreatorImpl.createCallableStatement(CallableStatementCreatorFactory.java:209) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1188) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1245) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.simple.AbstractJdbcCall.executeCallInternal(AbstractJdbcCall.java:412) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.simple.AbstractJdbcCall.doExecute(AbstractJdbcCall.java:395) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.simple.SimpleJdbcCall.execute(SimpleJdbcCall.java:193) ~[spring-jdbc-5.3.26.jar:5.3.26]\n</code></pre>\n<p>I found some questions about a removal of org.springframework.jdbc.support.nativejdbc package in Spring 5. This question looks similar</p>\n<p><a href=\"https://stackoverflow.com/questions/50295340/what-is-the-spring-5-jdbc-approach-when-nativejdbcextractor-is-needed\">What is the Spring 5 JDBC approach when nativeJdbcExtractor is needed?</a></p>\n<p>I use jdbcTemplate, so I cannot unwrap the native Connection. And the overloaded method <code>AbstractSqlTypeValue.setTypeValue()</code> - where does it belong? How can I provide my implementation?</p>\n"},{"tags":["java","configuration-management","netflix","apache-commons-config","netflix-archaius"],"comments":[{"owner":{"account_id":1422699,"reputation":4139,"user_id":1346996,"display_name":"Ant&#243;nio Ribeiro"},"score":0,"creation_date":1455662782,"post_id":35444426,"comment_id":58587113,"body_markdown":"Please provide us with a specific question.","body":"Please provide us with a specific question."},{"owner":{"account_id":6175511,"reputation":311,"user_id":5937486,"accept_rate":0,"display_name":"Bharat"},"score":0,"creation_date":1455662964,"post_id":35444426,"comment_id":58587189,"body_markdown":"When this program runs it prints the value of property named &quot;Fields&quot; from testproperty.properties file. Now while this program is running I am updating the value of &quot;Fields&quot; property, so archaius should fetch change value dynamically. But it is still printing older value.","body":"When this program runs it prints the value of property named &quot;Fields&quot; from testproperty.properties file. Now while this program is running I am updating the value of &quot;Fields&quot; property, so archaius should fetch change value dynamically. But it is still printing older value."},{"owner":{"account_id":1422699,"reputation":4139,"user_id":1346996,"display_name":"Ant&#243;nio Ribeiro"},"score":0,"creation_date":1455663203,"post_id":35444426,"comment_id":58587292,"body_markdown":"Ok, I understand you&#39;ve a problem. But you&#39;re still not asking anything. Do you mind update your post with your doubts?","body":"Ok, I understand you&#39;ve a problem. But you&#39;re still not asking anything. Do you mind update your post with your doubts?"},{"owner":{"account_id":6175511,"reputation":311,"user_id":5937486,"accept_rate":0,"display_name":"Bharat"},"score":1,"creation_date":1455663444,"post_id":35444426,"comment_id":58587387,"body_markdown":"Updated ..Please check and let me know if its OK","body":"Updated ..Please check and let me know if its OK"},{"owner":{"account_id":1422699,"reputation":4139,"user_id":1346996,"display_name":"Ant&#243;nio Ribeiro"},"score":0,"creation_date":1455664437,"post_id":35444426,"comment_id":58587804,"body_markdown":"Have you tried to use `DynamicPropertyFactor.getInstance()..getBackingConfigurationSource() ` (doc in [here](http://netflix.github.io/archaius/archaius-core-javadoc/com/netflix/config/DynamicPropertyFactory.html#getBackingConfigurationSource())) in order to retrieve the `Configuration` and then [adding](http://netflix.github.io/archaius/archaius-core-javadoc/com/netflix/config/ConcurrentCompositeConfiguration.htm) the property you want?","body":"Have you tried to use <code>DynamicPropertyFactor.getInstance()..getBackingConfiguration&zwnj;&#8203;Source() </code> (doc in <a href=\"http://netflix.github.io/archaius/archaius-core-javadoc/com/netflix/config/DynamicPropertyFactory.html#getBackingConfigurationSource()\" rel=\"nofollow noreferrer\">here</a>) in order to retrieve the <code>Configuration</code> and then <a href=\"http://netflix.github.io/archaius/archaius-core-javadoc/com/netflix/config/ConcurrentCompositeConfiguration.htm\" rel=\"nofollow noreferrer\">adding</a> the property you want?"},{"owner":{"account_id":1015647,"reputation":229,"user_id":1027257,"display_name":"abhishekmahawar"},"score":1,"creation_date":1483967605,"post_id":35444426,"comment_id":70302495,"body_markdown":"I&#39;m also facing similar issue. Overriding the proerty via backing configuration works but the default poller is not updating the property. I also made sure that the poller properties are updated so that polling is done at a faster pace i.e. these two commands were also executed : System.setProperty(&quot;archaius.fixedDelayPollingScheduler.initialDelayMills&quot;, &quot;1&quot;);\n        System.setProperty(&quot;archaius.fixedDelayPollingScheduler.delayMills&quot;, &quot;100&quot;);","body":"I&#39;m also facing similar issue. Overriding the proerty via backing configuration works but the default poller is not updating the property. I also made sure that the poller properties are updated so that polling is done at a faster pace i.e. these two commands were also executed : System.setProperty(&quot;archaius.fixedDelayPollingScheduler.init&zwnj;&#8203;ialDelayMills&quot;, &quot;1&quot;);         System.setProperty(&quot;archaius.fixedDelayPollingScheduler.dela&zwnj;&#8203;yMills&quot;, &quot;100&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":5259405,"reputation":328,"user_id":4204142,"display_name":"linkcrux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653322423,"creation_date":1515869413,"answer_id":48243194,"question_id":35444426,"body_markdown":"The idea is to implement a custom PolledConfigurationSource, so Archaius can poll the source and update the property for consumption. I have also included a callback that the smart way to consume the property without your App polling it again (remember Archaius is doing the polling part for you).\r\n\r\nImportant note on the sample code : The program exits after the first callback. If you want to test more callbacks, increase the counter at class variable &#39;latch&#39;\r\n\r\n    package com.test.config;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.concurrent.CountDownLatch;\r\n    \r\n    import org.apache.commons.configuration.PropertiesConfiguration;\r\n    import org.junit.Test;\r\n    \r\n    import com.netflix.config.AbstractPollingScheduler;\r\n    import com.netflix.config.ConcurrentMapConfiguration;\r\n    import com.netflix.config.ConfigurationManager;\r\n    import com.netflix.config.DynamicConfiguration;\r\n    import com.netflix.config.DynamicPropertyFactory;\r\n    import com.netflix.config.DynamicStringProperty;\r\n    import com.netflix.config.FixedDelayPollingScheduler;\r\n    import com.netflix.config.PollResult;\r\n    import com.netflix.config.PolledConfigurationSource;\r\n    \r\n    public class TestArchaius {\r\n        CountDownLatch latch = new CountDownLatch(1);\r\n    \r\n        @Test\r\n        public void tes() throws Exception {\r\n            AbstractPollingScheduler scheduler = new FixedDelayPollingScheduler(0, 1000, false);\r\n            DynamicConfiguration dynamicConfiguration = new DynamicConfiguration(new MyPolledConfigurationSource(), scheduler);\r\n    \r\n            ConfigurationManager.install(dynamicConfiguration);\r\n    \r\n            DynamicStringProperty fieldsProperty = DynamicPropertyFactory.getInstance().getStringProperty(&quot;fields&quot;, &quot;&quot;);\r\n            fieldsProperty.addCallback(() -&gt; {\r\n                System.out.println(fieldsProperty.get());\r\n                latch.countDown();\r\n            });\r\n    \r\n            latch.await();\r\n        }\r\n    \r\n        class MyPolledConfigurationSource implements PolledConfigurationSource {\r\n    \r\n            @Override\r\n            public PollResult poll(boolean initial, Object checkPoint) throws Exception {\r\n                ConcurrentMapConfiguration configFromPropertiesFile = new ConcurrentMapConfiguration(\r\n                        new PropertiesConfiguration(&quot;TestProperty.properties&quot;));\r\n                Map&lt;String, Object&gt; fullProperties = new HashMap&lt;String, Object&gt;();\r\n                configFromPropertiesFile.getProperties().forEach((k, v) -&gt; fullProperties.put((String) k, v));\r\n                return PollResult.createFull(fullProperties);\r\n            }\r\n    \r\n        }\r\n    }","title":"Netflix archaius cannot read updated property file value","body":"<p>The idea is to implement a custom PolledConfigurationSource, so Archaius can poll the source and update the property for consumption. I have also included a callback that the smart way to consume the property without your App polling it again (remember Archaius is doing the polling part for you).</p>\n<p>Important note on the sample code : The program exits after the first callback. If you want to test more callbacks, increase the counter at class variable 'latch'</p>\n<pre><code>package com.test.config;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.CountDownLatch;\n\nimport org.apache.commons.configuration.PropertiesConfiguration;\nimport org.junit.Test;\n\nimport com.netflix.config.AbstractPollingScheduler;\nimport com.netflix.config.ConcurrentMapConfiguration;\nimport com.netflix.config.ConfigurationManager;\nimport com.netflix.config.DynamicConfiguration;\nimport com.netflix.config.DynamicPropertyFactory;\nimport com.netflix.config.DynamicStringProperty;\nimport com.netflix.config.FixedDelayPollingScheduler;\nimport com.netflix.config.PollResult;\nimport com.netflix.config.PolledConfigurationSource;\n\npublic class TestArchaius {\n    CountDownLatch latch = new CountDownLatch(1);\n\n    @Test\n    public void tes() throws Exception {\n        AbstractPollingScheduler scheduler = new FixedDelayPollingScheduler(0, 1000, false);\n        DynamicConfiguration dynamicConfiguration = new DynamicConfiguration(new MyPolledConfigurationSource(), scheduler);\n\n        ConfigurationManager.install(dynamicConfiguration);\n\n        DynamicStringProperty fieldsProperty = DynamicPropertyFactory.getInstance().getStringProperty(&quot;fields&quot;, &quot;&quot;);\n        fieldsProperty.addCallback(() -&gt; {\n            System.out.println(fieldsProperty.get());\n            latch.countDown();\n        });\n\n        latch.await();\n    }\n\n    class MyPolledConfigurationSource implements PolledConfigurationSource {\n\n        @Override\n        public PollResult poll(boolean initial, Object checkPoint) throws Exception {\n            ConcurrentMapConfiguration configFromPropertiesFile = new ConcurrentMapConfiguration(\n                    new PropertiesConfiguration(&quot;TestProperty.properties&quot;));\n            Map&lt;String, Object&gt; fullProperties = new HashMap&lt;String, Object&gt;();\n            configFromPropertiesFile.getProperties().forEach((k, v) -&gt; fullProperties.put((String) k, v));\n            return PollResult.createFull(fullProperties);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23771513,"reputation":330,"user_id":17785521,"display_name":"Mahadev K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659086000,"creation_date":1659086000,"answer_id":73164275,"question_id":35444426,"body_markdown":"I ran into this issue recently. I wanted to implement a use case such as the DynamicPropertyFactory&#39;s prop should be updated via a REST API request. I had googled a lot on how to do that since the property was not getting updated after using the \r\n```.setProperty(String prop, String value)``` method. But I found that if a property is not defined before then the property gets added with the help of this method.\r\nSo the problem comes down like its not possible to override a property.\r\nAlso I found that it is using ```ConcurrentCompositeConfiguration``` for the Config instance and not the ```ConcurrentMapConfiguration```. As I googled further found tabnine posts and found there is a method called\r\n```\r\nsetOverrideProperty(java.lang.String key, java.lang.Object finalValue)\r\n          Override the same property in any other configurations in the list.\r\n```\r\nSo casting to this class setting the override property resolved the issue. Property got updated successfully.\r\n\r\n#Reference to ConcurrentCompositeConfiguration - http://netflix.github.io/archaius/archaius-core-javadoc/com/netflix/config/ConcurrentCompositeConfiguration.html","title":"Netflix archaius cannot read updated property file value","body":"<p>I ran into this issue recently. I wanted to implement a use case such as the DynamicPropertyFactory's prop should be updated via a REST API request. I had googled a lot on how to do that since the property was not getting updated after using the\n<code>.setProperty(String prop, String value)</code> method. But I found that if a property is not defined before then the property gets added with the help of this method.\nSo the problem comes down like its not possible to override a property.\nAlso I found that it is using <code>ConcurrentCompositeConfiguration</code> for the Config instance and not the <code>ConcurrentMapConfiguration</code>. As I googled further found tabnine posts and found there is a method called</p>\n<pre><code>setOverrideProperty(java.lang.String key, java.lang.Object finalValue)\n          Override the same property in any other configurations in the list.\n</code></pre>\n<p>So casting to this class setting the override property resolved the issue. Property got updated successfully.</p>\n<p>#Reference to ConcurrentCompositeConfiguration - <a href=\"http://netflix.github.io/archaius/archaius-core-javadoc/com/netflix/config/ConcurrentCompositeConfiguration.html\" rel=\"nofollow noreferrer\">http://netflix.github.io/archaius/archaius-core-javadoc/com/netflix/config/ConcurrentCompositeConfiguration.html</a></p>\n"},{"tags":[],"owner":{"account_id":14987410,"reputation":21,"user_id":10819591,"display_name":"Aithosa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689265642,"creation_date":1689066815,"answer_id":76660380,"question_id":35444426,"body_markdown":"The probable reason for its failure is that you used the IDE to modify config file, you don&#39;t know when ide really write change to file and save(of couese you can change ide settint). try to open config file with other software as windows notebook or notepad, change the config value and save the file, you may see the code print the latest config value after setting time.","title":"Netflix archaius cannot read updated property file value","body":"<p>The probable reason for its failure is that you used the IDE to modify config file, you don't know when ide really write change to file and save(of couese you can change ide settint). try to open config file with other software as windows notebook or notepad, change the config value and save the file, you may see the code print the latest config value after setting time.</p>\n"}],"owner":{"account_id":6175511,"reputation":311,"user_id":5937486,"accept_rate":0,"display_name":"Bharat"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2432,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1689265642,"creation_date":1455662446,"question_id":35444426,"body_markdown":"I am a very much new to Netflix archaius. I have a code snippet which reads Java property file and prints property value. \r\n\r\nWhen this program runs it prints the value of property named &quot;Fields&quot; from testproperty.properties file. Now while this program is running I am updating the value of &quot;Fields&quot; property, so archaius should fetch change value dynamically. But it is still printing older value.\r\n\r\nWhat is the correct way to use archaius with this Java Program? Or to update properties in a program without restarting it ? If someone can point out correction in this code snippet it would be helpful.\r\n\r\nI want to run a demo with Netflix archaius, so I have imported archaius through maven in my project.\r\n\r\nNow I am updating my properties file. But still it prints the old property value. (P.S.: I have kept the continuous while loop in driver program to see if archaius picks the update property value runtime. I guess that&#39;s what archaius suppose to do. Fetching the updated property without restarting application. Correct me if I am wrong.)\r\n\r\nBelow is my code snippet :\r\n\r\n    import com.netflix.config.DynamicPropertyFactory;\r\n    import com.netflix.config.DynamicStringProperty;\r\n\r\n    public class PropertyChangetest {\r\n    \r\n        public static void main(String args[]) {\r\n\r\n            DynamicPropertyFactory sampleProp = DynamicPropertyFactory.getInstance();\r\n            System.setProperty(&quot;archaius.configurationSource.defaultFileName&quot;, &quot;TestProperty.properties&quot;);\r\n            System.setProperty(&quot;archaius.fixedDelayPollingScheduler.delayMills&quot;, &quot;500&quot;);\r\n\r\n            while(true) {\r\n                DynamicStringProperty sampleProp1 = sampleProp.getStringProperty(&quot;fields&quot;,&quot;&quot;);\r\n                System.out.println(sampleProp1.get());\r\n            }\r\n        }\r\n    }\r\n\r\nMy &quot;TestProperty.properties&quot; file only have one property called fields. After running the program, I am updating my property file but it still prints older value.","title":"Netflix archaius cannot read updated property file value","body":"<p>I am a very much new to Netflix archaius. I have a code snippet which reads Java property file and prints property value. </p>\n\n<p>When this program runs it prints the value of property named \"Fields\" from testproperty.properties file. Now while this program is running I am updating the value of \"Fields\" property, so archaius should fetch change value dynamically. But it is still printing older value.</p>\n\n<p>What is the correct way to use archaius with this Java Program? Or to update properties in a program without restarting it ? If someone can point out correction in this code snippet it would be helpful.</p>\n\n<p>I want to run a demo with Netflix archaius, so I have imported archaius through maven in my project.</p>\n\n<p>Now I am updating my properties file. But still it prints the old property value. (P.S.: I have kept the continuous while loop in driver program to see if archaius picks the update property value runtime. I guess that's what archaius suppose to do. Fetching the updated property without restarting application. Correct me if I am wrong.)</p>\n\n<p>Below is my code snippet :</p>\n\n<pre><code>import com.netflix.config.DynamicPropertyFactory;\nimport com.netflix.config.DynamicStringProperty;\n\npublic class PropertyChangetest {\n\n    public static void main(String args[]) {\n\n        DynamicPropertyFactory sampleProp = DynamicPropertyFactory.getInstance();\n        System.setProperty(\"archaius.configurationSource.defaultFileName\", \"TestProperty.properties\");\n        System.setProperty(\"archaius.fixedDelayPollingScheduler.delayMills\", \"500\");\n\n        while(true) {\n            DynamicStringProperty sampleProp1 = sampleProp.getStringProperty(\"fields\",\"\");\n            System.out.println(sampleProp1.get());\n        }\n    }\n}\n</code></pre>\n\n<p>My \"TestProperty.properties\" file only have one property called fields. After running the program, I am updating my property file but it still prints older value.</p>\n"},{"tags":["java","thymeleaf","nested-loops"],"answers":[{"tags":[],"owner":{"account_id":14626064,"reputation":67,"user_id":10563376,"display_name":"Roland T&#246;m&#246;sk&#246;zi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689079329,"creation_date":1689078222,"answer_id":76661950,"question_id":76660429,"body_markdown":"I simplified the 2 blocks to one. After that you just have to copy the line and so you have 2 blocks next to each other.\r\n\r\nBackend:\r\n```\r\nprivate Map&lt;String, Object&gt; createAdditionalContext() {\r\n   Map&lt;String, Object&gt; additionalContext = new HashMap&lt;&gt;();\r\n\r\n   int[][] array = new int[5][5];\r\n   int number = 1;\r\n\r\n   for (int i = 0; i &lt; array.length; i++) {\r\n       for (int j = 0; j &lt; array[i].length; j++) {\r\n           array[i][j] = number;\r\n           number++;\r\n       }\r\n   }\r\n\r\n   additionalContext.put(&quot;array&quot;, array);\r\n\r\n   return additionalContext;\r\n}\r\n```\r\n\r\nFrontend:\r\n```\r\n&lt;table&gt;\r\n   &lt;tbody&gt;\r\n      &lt;tr th:each=&quot;row : ${array}&quot;&gt;\r\n        &lt;td th:each=&quot;element : ${row}&quot; th:text=&quot;${element}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:each=&quot;element : ${row}&quot; th:text=&quot;${element}&quot;&gt;&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n   &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n```","title":"How to display a table dynamically in Thymleaf with Java?","body":"<p>I simplified the 2 blocks to one. After that you just have to copy the line and so you have 2 blocks next to each other.</p>\n<p>Backend:</p>\n<pre><code>private Map&lt;String, Object&gt; createAdditionalContext() {\n   Map&lt;String, Object&gt; additionalContext = new HashMap&lt;&gt;();\n\n   int[][] array = new int[5][5];\n   int number = 1;\n\n   for (int i = 0; i &lt; array.length; i++) {\n       for (int j = 0; j &lt; array[i].length; j++) {\n           array[i][j] = number;\n           number++;\n       }\n   }\n\n   additionalContext.put(&quot;array&quot;, array);\n\n   return additionalContext;\n}\n</code></pre>\n<p>Frontend:</p>\n<pre><code>&lt;table&gt;\n   &lt;tbody&gt;\n      &lt;tr th:each=&quot;row : ${array}&quot;&gt;\n        &lt;td th:each=&quot;element : ${row}&quot; th:text=&quot;${element}&quot;&gt;&lt;/td&gt;\n        &lt;td th:each=&quot;element : ${row}&quot; th:text=&quot;${element}&quot;&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n   &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n"}],"owner":{"account_id":14626064,"reputation":67,"user_id":10563376,"display_name":"Roland T&#246;m&#246;sk&#246;zi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76661950,"answer_count":1,"score":1,"last_activity_date":1689265631,"creation_date":1689067159,"question_id":76660429,"body_markdown":"How can I display a table in HTML code using Thymleaf and Java?\r\n\r\nBackend: (I created a HTML Template with TemplateEngine)\r\n```\r\nprivate Map&lt;String, Object&gt; createAdditionalContext() {\r\n\r\n  Map&lt;String, Object&gt; additionalContext = new HashMap&lt;&gt;();\r\n\r\n  ArrayList&lt;Integer&gt; rows = new ArrayList&lt;&gt;();\r\n  ArrayList&lt;Integer&gt; columns = new ArrayList&lt;&gt;();\r\n\r\n  // Number of columns and rows in the table\r\n  int numColumns = 10;\r\n  int numRows = 1;\r\n\r\n\r\n for (int i = 0; i &lt;= 0; i++) {\r\n     rows.add(i);\r\n\r\n     for (int j = 1; j &lt;= 25; j++) {\r\n         columns.add(j);\r\n\r\n         // FIXME\r\n         if (j % 5 == 0) {\r\n             rows.add(i);\r\n             break;\r\n         }\r\n     }\r\n }\r\n\r\n additionalContext.put(&quot;rows&quot;, rows);\r\n additionalContext.put(&quot;columns&quot;, columns);\r\n\r\n return additionalContext;\r\n}\r\n```\r\n\r\nFrontend:\r\n```\r\n&lt;table&gt;\r\n   &lt;tbody&gt;\r\n      &lt;tr th:each=&quot;row: ${rows}&quot;&gt;\r\n         &lt;td th:each=&quot;col: ${columns}&quot; th:text=&quot;${col}&quot;&gt;&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n   &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n```\r\nOutput now:\r\n\r\n|  |  |  |  |  |\r\n|--|--|--|--|--|\r\n| 1 | 2 | 3 | 4 | 5 |\r\n| 1 | 2 | 3 | 4 | 5 |\r\n\r\n&lt;br&gt;\r\nOutput should be:\r\n\r\n|  |  |  |  |  |  |  |  |  |  |\r\n|--|--|--|--|--|--|--|--|--|--|\r\n| 1 | 2 | 3 | 4 | 5 | 1 | 2 | 3 | 4 | 5 |\r\n| 6 | 7 | 8 | 9 | 10 | 6 | 7 | 8 | 9 | 10 |\r\n| 11 | 12 | 13 | 14 | 15 | 11 | 12 | 13 | 14 | 15 |\r\n| 16 | 17 | 18 | 19 | 20 | 16 | 17 | 18 | 19 | 20 |\r\n| 21| 22 | 23 | 24 | 25 | 21 | 22 | 23 | 24 | 25 |\r\n\r\n\r\n\r\n","title":"How to display a table dynamically in Thymleaf with Java?","body":"<p>How can I display a table in HTML code using Thymleaf and Java?</p>\n<p>Backend: (I created a HTML Template with TemplateEngine)</p>\n<pre><code>private Map&lt;String, Object&gt; createAdditionalContext() {\n\n  Map&lt;String, Object&gt; additionalContext = new HashMap&lt;&gt;();\n\n  ArrayList&lt;Integer&gt; rows = new ArrayList&lt;&gt;();\n  ArrayList&lt;Integer&gt; columns = new ArrayList&lt;&gt;();\n\n  // Number of columns and rows in the table\n  int numColumns = 10;\n  int numRows = 1;\n\n\n for (int i = 0; i &lt;= 0; i++) {\n     rows.add(i);\n\n     for (int j = 1; j &lt;= 25; j++) {\n         columns.add(j);\n\n         // FIXME\n         if (j % 5 == 0) {\n             rows.add(i);\n             break;\n         }\n     }\n }\n\n additionalContext.put(&quot;rows&quot;, rows);\n additionalContext.put(&quot;columns&quot;, columns);\n\n return additionalContext;\n}\n</code></pre>\n<p>Frontend:</p>\n<pre><code>&lt;table&gt;\n   &lt;tbody&gt;\n      &lt;tr th:each=&quot;row: ${rows}&quot;&gt;\n         &lt;td th:each=&quot;col: ${columns}&quot; th:text=&quot;${col}&quot;&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n   &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n<p>Output now:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>2</td>\n<td>3</td>\n<td>4</td>\n<td>5</td>\n</tr>\n<tr>\n<td>1</td>\n<td>2</td>\n<td>3</td>\n<td>4</td>\n<td>5</td>\n</tr>\n</tbody>\n</table>\n</div><br>\nOutput should be:\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>2</td>\n<td>3</td>\n<td>4</td>\n<td>5</td>\n<td>1</td>\n<td>2</td>\n<td>3</td>\n<td>4</td>\n<td>5</td>\n</tr>\n<tr>\n<td>6</td>\n<td>7</td>\n<td>8</td>\n<td>9</td>\n<td>10</td>\n<td>6</td>\n<td>7</td>\n<td>8</td>\n<td>9</td>\n<td>10</td>\n</tr>\n<tr>\n<td>11</td>\n<td>12</td>\n<td>13</td>\n<td>14</td>\n<td>15</td>\n<td>11</td>\n<td>12</td>\n<td>13</td>\n<td>14</td>\n<td>15</td>\n</tr>\n<tr>\n<td>16</td>\n<td>17</td>\n<td>18</td>\n<td>19</td>\n<td>20</td>\n<td>16</td>\n<td>17</td>\n<td>18</td>\n<td>19</td>\n<td>20</td>\n</tr>\n<tr>\n<td>21</td>\n<td>22</td>\n<td>23</td>\n<td>24</td>\n<td>25</td>\n<td>21</td>\n<td>22</td>\n<td>23</td>\n<td>24</td>\n<td>25</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","stanford-nlp","sentiment-analysis"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689271094,"post_id":76673794,"comment_id":135193530,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29004942,"reputation":1,"user_id":22217717,"display_name":"jessicaaamango"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689265436,"creation_date":1689189225,"question_id":76673794,"body_markdown":"I am trying to retrain the Sentiment Analysis Annotator. I am struggling with trying to change my file to a binarized tree with the following call:\r\n\r\n`$ java -mx5g edu.stanford.nlp.sentiment.BuildBinarizedDataset -input sample.txt`\r\n\r\n**Here are the errors I keep running into:**\r\n\r\n    BuildBinarizedDataset.java:7: error: package edu.stanford.nlp.io does not exist\r\n    import edu.stanford.nlp.io.IOUtils;\r\n                              ^\r\n    BuildBinarizedDataset.java:8: error: package edu.stanford.nlp.ling does not exist\r\n    import edu.stanford.nlp.ling.CoreAnnotations;\r\n                                ^\r\n    BuildBinarizedDataset.java:9: error: package edu.stanford.nlp.ling does not exist\r\n    import edu.stanford.nlp.ling.CoreLabel;\r\n                                ^\r\n    BuildBinarizedDataset.java:10: error: package edu.stanford.nlp.ling does not exist\r\n    import edu.stanford.nlp.ling.HasWord;\r\n                                ^\r\n    BuildBinarizedDataset.java:11: error: package edu.stanford.nlp.neural.rnn does not exist\r\n    import edu.stanford.nlp.neural.rnn.RNNCoreAnnotations;\r\n                                      ^\r\n    BuildBinarizedDataset.java:12: error: package edu.stanford.nlp.parser.lexparser does not exist\r\n    import edu.stanford.nlp.parser.lexparser.LexicalizedParser;\r\n                                            ^\r\n    BuildBinarizedDataset.java:13: error: package edu.stanford.nlp.parser.lexparser does not exist\r\n    import edu.stanford.nlp.parser.lexparser.TreeBinarizer;\r\n                                            ^\r\n    BuildBinarizedDataset.java:14: error: package edu.stanford.nlp.process does not exist\r\n    import edu.stanford.nlp.process.DocumentPreprocessor;\r\n                                   ^\r\n    BuildBinarizedDataset.java:15: error: package edu.stanford.nlp.trees does not exist\r\n    import edu.stanford.nlp.trees.Tree;\r\n                                 ^\r\n    BuildBinarizedDataset.java:16: error: package edu.stanford.nlp.trees does not exist\r\n    import edu.stanford.nlp.trees.Trees;\r\n                                 ^\r\n    BuildBinarizedDataset.java:17: error: package edu.stanford.nlp.util does not exist\r\n    import edu.stanford.nlp.util.Generics;\r\n                                ^\r\n    BuildBinarizedDataset.java:18: error: package edu.stanford.nlp.util does not exist\r\n    import edu.stanford.nlp.util.Pair;\r\n                                ^\r\n    BuildBinarizedDataset.java:19: error: package edu.stanford.nlp.util.logging does not exist\r\n    import edu.stanford.nlp.util.logging.Redwood;\r\n                                        ^\r\n    BuildBinarizedDataset.java:28: error: package Redwood does not exist\r\n      private static final Redwood.RedwoodChannels log = Redwood.channels(BuildBinarizedDataset.class);\r\n                                  ^\r\n    BuildBinarizedDataset.java:35: error: cannot find symbol\r\n      public static void setUnknownLabels(Tree tree, Integer defaultLabel) {\r\n                                          ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:47: error: cannot find symbol\r\n      public static void setPredictedLabels(Tree tree) {\r\n                                            ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:59: error: cannot find symbol\r\n      public static void extractLabels(Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; spanToLabels, List&lt;HasWord&gt; tokens, String line) {\r\n                                           ^\r\n      symbol:   class Pair\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:59: error: cannot find symbol\r\n      public static void extractLabels(Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; spanToLabels, List&lt;HasWord&gt; tokens, String line) {\r\n                                                                                              ^\r\n      symbol:   class HasWord\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:84: error: cannot find symbol\r\n      public static boolean setSpanLabel(Tree tree, Pair&lt;Integer, Integer&gt; span, String value) {\r\n                                         ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:84: error: cannot find symbol\r\n      public static boolean setSpanLabel(Tree tree, Pair&lt;Integer, Integer&gt; span, String value) {\r\n                                                    ^\r\n      symbol:   class Pair\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:28: error: cannot find symbol\r\n      private static final Redwood.RedwoodChannels log = Redwood.channels(BuildBinarizedDataset.class);\r\n                                                         ^\r\n      symbol:   variable Redwood\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:40: error: cannot find symbol\r\n        for (Tree child : tree.children()) {\r\n             ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:52: error: cannot find symbol\r\n        for (Tree child : tree.children()) {\r\n             ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:56: error: cannot find symbol\r\n        tree.label().setValue(Integer.toString(RNNCoreAnnotations.getPredictedClass(tree)));\r\n                                               ^\r\n      symbol:   variable RNNCoreAnnotations\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:79: error: cannot find symbol\r\n            spanToLabels.put(new Pair&lt;&gt;(i, i + pieces.length - 1), pieces[0]);\r\n                                 ^\r\n      symbol:   class Pair\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:85: error: cannot find symbol\r\n        if (!(tree.label() instanceof CoreLabel)) {\r\n                                      ^\r\n      symbol:   class CoreLabel\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:88: error: cannot find symbol\r\n        CoreLabel label = (CoreLabel) tree.label();\r\n        ^\r\n      symbol:   class CoreLabel\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:88: error: cannot find symbol\r\n        CoreLabel label = (CoreLabel) tree.label();\r\n                           ^\r\n      symbol:   class CoreLabel\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:89: error: package CoreAnnotations does not exist\r\n        if (label.get(CoreAnnotations.BeginIndexAnnotation.class).equals(span.first) &amp;&amp;\r\n                                     ^\r\n    BuildBinarizedDataset.java:90: error: package CoreAnnotations does not exist\r\n            label.get(CoreAnnotations.EndIndexAnnotation.class).equals(span.second)) {\r\n                                     ^\r\n    BuildBinarizedDataset.java:94: error: package CoreAnnotations does not exist\r\n        if (label.get(CoreAnnotations.BeginIndexAnnotation.class) &gt; span.first &amp;&amp;\r\n                                     ^\r\n    BuildBinarizedDataset.java:95: error: package CoreAnnotations does not exist\r\n            label.get(CoreAnnotations.EndIndexAnnotation.class) &lt; span.second) {\r\n                                     ^\r\n    BuildBinarizedDataset.java:98: error: cannot find symbol\r\n        for (Tree child : tree.children()) {\r\n             ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:160: error: cannot find symbol\r\n        CollapseUnaryTransformer transformer = new CollapseUnaryTransformer();\r\n        ^\r\n      symbol:   class CollapseUnaryTransformer\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:160: error: cannot find symbol\r\n        CollapseUnaryTransformer transformer = new CollapseUnaryTransformer();\r\n                                                   ^\r\n      symbol:   class CollapseUnaryTransformer\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:167: error: cannot find symbol\r\n        SentimentModel sentimentModel = null;\r\n        ^\r\n      symbol:   class SentimentModel\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:189: error: cannot find symbol\r\n        LexicalizedParser parser = LexicalizedParser.loadModel(parserModel);\r\n        ^\r\n      symbol:   class LexicalizedParser\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:189: error: cannot find symbol\r\n        LexicalizedParser parser = LexicalizedParser.loadModel(parserModel);\r\n                                   ^\r\n      symbol:   variable LexicalizedParser\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:190: error: cannot find symbol\r\n        TreeBinarizer binarizer = TreeBinarizer.simpleTreeBinarizer(parser.getTLPParams().headFinder(), parser.treebankLanguagePack());\r\n        ^\r\n      symbol:   class TreeBinarizer\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:190: error: cannot find symbol\r\n        TreeBinarizer binarizer = TreeBinarizer.simpleTreeBinarizer(parser.getTLPParams().headFinder(), parser.treebankLanguagePack());\r\n                                  ^\r\n      symbol:   variable TreeBinarizer\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:193: error: cannot find symbol\r\n          sentimentModel = SentimentModel.loadSerialized(sentimentModelPath);\r\n                           ^\r\n      symbol:   variable SentimentModel\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:196: error: cannot find symbol\r\n        String text = IOUtils.slurpFileNoExceptions(inputPath);\r\n                      ^\r\n      symbol:   variable IOUtils\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:211: error: cannot find symbol\r\n          DocumentPreprocessor document = new DocumentPreprocessor(sin);\r\n          ^\r\n      symbol:   class DocumentPreprocessor\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:211: error: cannot find symbol\r\n          DocumentPreprocessor document = new DocumentPreprocessor(sin);\r\n                                              ^\r\n      symbol:   class DocumentPreprocessor\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:213: error: cannot find symbol\r\n          List&lt;HasWord&gt; tokens = document.iterator().next();\r\n               ^\r\n      symbol:   class HasWord\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:219: error: cannot find symbol\r\n          Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; spanToLabels = Generics.newHashMap();\r\n              ^\r\n      symbol:   class Pair\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:219: error: cannot find symbol\r\n          Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; spanToLabels = Generics.newHashMap();\r\n                                                             ^\r\n      symbol:   variable Generics\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:226: error: cannot find symbol\r\n          Tree tree = parser.apply(tokens);\r\n          ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:227: error: cannot find symbol\r\n          Tree binarized = binarizer.transformTree(tree);\r\n          ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:228: error: cannot find symbol\r\n          Tree collapsedUnary = transformer.transformTree(binarized);\r\n          ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:233: error: cannot find symbol\r\n            Trees.convertToCoreLabels(collapsedUnary);\r\n            ^\r\n      symbol:   variable Trees\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:234: error: cannot find symbol\r\n            SentimentCostAndGradient scorer = new SentimentCostAndGradient(sentimentModel, null);\r\n            ^\r\n      symbol:   class SentimentCostAndGradient\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:234: error: cannot find symbol\r\n            SentimentCostAndGradient scorer = new SentimentCostAndGradient(sentimentModel, null);\r\n                                                  ^\r\n      symbol:   class SentimentCostAndGradient\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:241: error: cannot find symbol\r\n          Trees.convertToCoreLabels(collapsedUnary);\r\n          ^\r\n      symbol:   variable Trees\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:244: error: cannot find symbol\r\n          for (Map.Entry&lt;Pair&lt;Integer, Integer&gt;, String&gt; pairStringEntry : spanToLabels.entrySet()) {\r\n                         ^\r\n      symbol:   class Pair\r\n      location: class BuildBinarizedDataset\r\n    55 errors\r\n    error: compilation failed\r\n\r\n**Can someone help me figure out how to fix this please? I have already tried adding the CoreNLP repository to eclipse and adding the jar files, however, it&#39;s still not working. What do I do?**","title":"Retraining Sentiment Analysis Annotator: Changing File to a Binarized Tree Issues","body":"<p>I am trying to retrain the Sentiment Analysis Annotator. I am struggling with trying to change my file to a binarized tree with the following call:</p>\n<p><code>$ java -mx5g edu.stanford.nlp.sentiment.BuildBinarizedDataset -input sample.txt</code></p>\n<p><strong>Here are the errors I keep running into:</strong></p>\n<pre><code>BuildBinarizedDataset.java:7: error: package edu.stanford.nlp.io does not exist\nimport edu.stanford.nlp.io.IOUtils;\n                          ^\nBuildBinarizedDataset.java:8: error: package edu.stanford.nlp.ling does not exist\nimport edu.stanford.nlp.ling.CoreAnnotations;\n                            ^\nBuildBinarizedDataset.java:9: error: package edu.stanford.nlp.ling does not exist\nimport edu.stanford.nlp.ling.CoreLabel;\n                            ^\nBuildBinarizedDataset.java:10: error: package edu.stanford.nlp.ling does not exist\nimport edu.stanford.nlp.ling.HasWord;\n                            ^\nBuildBinarizedDataset.java:11: error: package edu.stanford.nlp.neural.rnn does not exist\nimport edu.stanford.nlp.neural.rnn.RNNCoreAnnotations;\n                                  ^\nBuildBinarizedDataset.java:12: error: package edu.stanford.nlp.parser.lexparser does not exist\nimport edu.stanford.nlp.parser.lexparser.LexicalizedParser;\n                                        ^\nBuildBinarizedDataset.java:13: error: package edu.stanford.nlp.parser.lexparser does not exist\nimport edu.stanford.nlp.parser.lexparser.TreeBinarizer;\n                                        ^\nBuildBinarizedDataset.java:14: error: package edu.stanford.nlp.process does not exist\nimport edu.stanford.nlp.process.DocumentPreprocessor;\n                               ^\nBuildBinarizedDataset.java:15: error: package edu.stanford.nlp.trees does not exist\nimport edu.stanford.nlp.trees.Tree;\n                             ^\nBuildBinarizedDataset.java:16: error: package edu.stanford.nlp.trees does not exist\nimport edu.stanford.nlp.trees.Trees;\n                             ^\nBuildBinarizedDataset.java:17: error: package edu.stanford.nlp.util does not exist\nimport edu.stanford.nlp.util.Generics;\n                            ^\nBuildBinarizedDataset.java:18: error: package edu.stanford.nlp.util does not exist\nimport edu.stanford.nlp.util.Pair;\n                            ^\nBuildBinarizedDataset.java:19: error: package edu.stanford.nlp.util.logging does not exist\nimport edu.stanford.nlp.util.logging.Redwood;\n                                    ^\nBuildBinarizedDataset.java:28: error: package Redwood does not exist\n  private static final Redwood.RedwoodChannels log = Redwood.channels(BuildBinarizedDataset.class);\n                              ^\nBuildBinarizedDataset.java:35: error: cannot find symbol\n  public static void setUnknownLabels(Tree tree, Integer defaultLabel) {\n                                      ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:47: error: cannot find symbol\n  public static void setPredictedLabels(Tree tree) {\n                                        ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:59: error: cannot find symbol\n  public static void extractLabels(Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; spanToLabels, List&lt;HasWord&gt; tokens, String line) {\n                                       ^\n  symbol:   class Pair\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:59: error: cannot find symbol\n  public static void extractLabels(Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; spanToLabels, List&lt;HasWord&gt; tokens, String line) {\n                                                                                          ^\n  symbol:   class HasWord\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:84: error: cannot find symbol\n  public static boolean setSpanLabel(Tree tree, Pair&lt;Integer, Integer&gt; span, String value) {\n                                     ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:84: error: cannot find symbol\n  public static boolean setSpanLabel(Tree tree, Pair&lt;Integer, Integer&gt; span, String value) {\n                                                ^\n  symbol:   class Pair\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:28: error: cannot find symbol\n  private static final Redwood.RedwoodChannels log = Redwood.channels(BuildBinarizedDataset.class);\n                                                     ^\n  symbol:   variable Redwood\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:40: error: cannot find symbol\n    for (Tree child : tree.children()) {\n         ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:52: error: cannot find symbol\n    for (Tree child : tree.children()) {\n         ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:56: error: cannot find symbol\n    tree.label().setValue(Integer.toString(RNNCoreAnnotations.getPredictedClass(tree)));\n                                           ^\n  symbol:   variable RNNCoreAnnotations\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:79: error: cannot find symbol\n        spanToLabels.put(new Pair&lt;&gt;(i, i + pieces.length - 1), pieces[0]);\n                             ^\n  symbol:   class Pair\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:85: error: cannot find symbol\n    if (!(tree.label() instanceof CoreLabel)) {\n                                  ^\n  symbol:   class CoreLabel\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:88: error: cannot find symbol\n    CoreLabel label = (CoreLabel) tree.label();\n    ^\n  symbol:   class CoreLabel\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:88: error: cannot find symbol\n    CoreLabel label = (CoreLabel) tree.label();\n                       ^\n  symbol:   class CoreLabel\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:89: error: package CoreAnnotations does not exist\n    if (label.get(CoreAnnotations.BeginIndexAnnotation.class).equals(span.first) &amp;&amp;\n                                 ^\nBuildBinarizedDataset.java:90: error: package CoreAnnotations does not exist\n        label.get(CoreAnnotations.EndIndexAnnotation.class).equals(span.second)) {\n                                 ^\nBuildBinarizedDataset.java:94: error: package CoreAnnotations does not exist\n    if (label.get(CoreAnnotations.BeginIndexAnnotation.class) &gt; span.first &amp;&amp;\n                                 ^\nBuildBinarizedDataset.java:95: error: package CoreAnnotations does not exist\n        label.get(CoreAnnotations.EndIndexAnnotation.class) &lt; span.second) {\n                                 ^\nBuildBinarizedDataset.java:98: error: cannot find symbol\n    for (Tree child : tree.children()) {\n         ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:160: error: cannot find symbol\n    CollapseUnaryTransformer transformer = new CollapseUnaryTransformer();\n    ^\n  symbol:   class CollapseUnaryTransformer\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:160: error: cannot find symbol\n    CollapseUnaryTransformer transformer = new CollapseUnaryTransformer();\n                                               ^\n  symbol:   class CollapseUnaryTransformer\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:167: error: cannot find symbol\n    SentimentModel sentimentModel = null;\n    ^\n  symbol:   class SentimentModel\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:189: error: cannot find symbol\n    LexicalizedParser parser = LexicalizedParser.loadModel(parserModel);\n    ^\n  symbol:   class LexicalizedParser\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:189: error: cannot find symbol\n    LexicalizedParser parser = LexicalizedParser.loadModel(parserModel);\n                               ^\n  symbol:   variable LexicalizedParser\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:190: error: cannot find symbol\n    TreeBinarizer binarizer = TreeBinarizer.simpleTreeBinarizer(parser.getTLPParams().headFinder(), parser.treebankLanguagePack());\n    ^\n  symbol:   class TreeBinarizer\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:190: error: cannot find symbol\n    TreeBinarizer binarizer = TreeBinarizer.simpleTreeBinarizer(parser.getTLPParams().headFinder(), parser.treebankLanguagePack());\n                              ^\n  symbol:   variable TreeBinarizer\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:193: error: cannot find symbol\n      sentimentModel = SentimentModel.loadSerialized(sentimentModelPath);\n                       ^\n  symbol:   variable SentimentModel\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:196: error: cannot find symbol\n    String text = IOUtils.slurpFileNoExceptions(inputPath);\n                  ^\n  symbol:   variable IOUtils\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:211: error: cannot find symbol\n      DocumentPreprocessor document = new DocumentPreprocessor(sin);\n      ^\n  symbol:   class DocumentPreprocessor\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:211: error: cannot find symbol\n      DocumentPreprocessor document = new DocumentPreprocessor(sin);\n                                          ^\n  symbol:   class DocumentPreprocessor\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:213: error: cannot find symbol\n      List&lt;HasWord&gt; tokens = document.iterator().next();\n           ^\n  symbol:   class HasWord\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:219: error: cannot find symbol\n      Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; spanToLabels = Generics.newHashMap();\n          ^\n  symbol:   class Pair\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:219: error: cannot find symbol\n      Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; spanToLabels = Generics.newHashMap();\n                                                         ^\n  symbol:   variable Generics\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:226: error: cannot find symbol\n      Tree tree = parser.apply(tokens);\n      ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:227: error: cannot find symbol\n      Tree binarized = binarizer.transformTree(tree);\n      ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:228: error: cannot find symbol\n      Tree collapsedUnary = transformer.transformTree(binarized);\n      ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:233: error: cannot find symbol\n        Trees.convertToCoreLabels(collapsedUnary);\n        ^\n  symbol:   variable Trees\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:234: error: cannot find symbol\n        SentimentCostAndGradient scorer = new SentimentCostAndGradient(sentimentModel, null);\n        ^\n  symbol:   class SentimentCostAndGradient\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:234: error: cannot find symbol\n        SentimentCostAndGradient scorer = new SentimentCostAndGradient(sentimentModel, null);\n                                              ^\n  symbol:   class SentimentCostAndGradient\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:241: error: cannot find symbol\n      Trees.convertToCoreLabels(collapsedUnary);\n      ^\n  symbol:   variable Trees\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:244: error: cannot find symbol\n      for (Map.Entry&lt;Pair&lt;Integer, Integer&gt;, String&gt; pairStringEntry : spanToLabels.entrySet()) {\n                     ^\n  symbol:   class Pair\n  location: class BuildBinarizedDataset\n55 errors\nerror: compilation failed\n</code></pre>\n<p><strong>Can someone help me figure out how to fix this please? I have already tried adding the CoreNLP repository to eclipse and adding the jar files, however, it's still not working. What do I do?</strong></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":2,"creation_date":1689265849,"post_id":76681471,"comment_id":135192582,"body_markdown":"Your `updatePositions` uses `body.isFixed()` which you haven&#39;t shown - and seems to contradict what is stated about `isImmovable`.","body":"Your <code>updatePositions</code> uses <code>body.isFixed()</code> which you haven&#39;t shown - and seems to contradict what is stated about <code>isImmovable</code>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1689266142,"post_id":76681471,"comment_id":135192646,"body_markdown":"it is *very hard* to debug a program without having its source - usually better to include a [mre] in the question","body":"it is <i>very hard</i> to debug a program without having its source - usually better to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the question"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1689272398,"post_id":76681471,"comment_id":135193780,"body_markdown":"I&#39;d _expect_ the Sun to orbit the [barycenter](https://en.wikipedia.org/wiki/Barycenter) of the bodies in a simulation.","body":"I&#39;d <i>expect</i> the Sun to orbit the <a href=\"https://en.wikipedia.org/wiki/Barycenter\" rel=\"nofollow noreferrer\">barycenter</a> of the bodies in a simulation."}],"owner":{"account_id":28920934,"reputation":19,"user_id":22151901,"display_name":"gocdev78"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689265053,"creation_date":1689265053,"question_id":76681471,"body_markdown":"I am working on a simulation of a solar system using JavaFX. I have a class CelestialBody representing each celestial body, and an additional boolean field isImmovable which is supposed to control whether a celestial body is affected by gravitational forces or not. The idea was to make the Sun immovable, while planets orbit around it.\r\n\r\nMy problem is that despite setting the Sun as immovable (isImmovable = true), it still moves around in the simulation as if it is being influenced by the gravity of other celestial bodies.\r\n\r\nHere is the constructor for the CelestialBody class:\r\n```\r\npublic CelestialBody(String name, double mass, double radius, Vector3D position, Vector3D velocity, String textureFilename, double orbitalSpeed, boolean isImmovable) {\r\n    this.name = name;\r\n    this.mass = mass;\r\n    this.radius = radius;\r\n    this.position = position;\r\n    this.velocity = velocity;\r\n    this.textureFilename = textureFilename;\r\n    this.rotationAngle = 0.0;\r\n    this.orbitalSpeed = orbitalSpeed;\r\n    this.isImmovable = isImmovable;\r\n}\r\n```\r\nAnd here is how I initialize the Sun: \r\n```\r\nCelestialBody sunBody = new CelestialBody(&quot;Sun&quot;, 1.989 * Math.pow(10, 30), 15.0 * earthRadius, new Vector3D(0, 0, 0), zeroVelocity, &quot;sun.jpg&quot;, 0.0, true);\r\n```\r\nIn the part of the code that calculates the new position for each celestial body, I have the following:\r\n```\r\nif (!body.isImmovable()) {\r\n    // Here I calculate and update the new position for the celestial body\r\n}\r\n```\r\nThis should skip the position update for the Sun, however, it still moves. Does anyone have any idea why this might be the case and how I could fix this? Any help would be much appreciated.\r\n[![enter image description here](https://i.stack.imgur.com/lUPUf.png)](https://i.stack.imgur.com/lUPUf.png)\r\n\r\nMainApp:\r\n```\r\npublic class MainApp extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        SolarSystem solarSystem = initSolarSystem();\r\n        SolarSystemSimulation simulation = new SolarSystemSimulation(solarSystem);\r\n\r\n        // Stworzenie AnchorPane i dodanie do niego symulacji\r\n        AnchorPane root = new AnchorPane();\r\n        root.getChildren().add(simulation);\r\n        AnchorPane.setTopAnchor(simulation, 0.0);\r\n        AnchorPane.setBottomAnchor(simulation, 0.0);\r\n        AnchorPane.setLeftAnchor(simulation, 0.0);\r\n        AnchorPane.setRightAnchor(simulation, 0.0);\r\n\r\n        // Wczytanie obrazu tła i ustawienie go jako tła dla sceny\r\n        Image spaceBackground = new Image(getClass().getResource(&quot;/space_background.jpg&quot;).toExternalForm());\r\n        root.setBackground(new Background(new BackgroundFill(new ImagePattern(spaceBackground), CornerRadii.EMPTY, Insets.EMPTY)));\r\n\r\n        Scene scene = new Scene(root, 1200, 900);\r\n\r\n        PerspectiveCamera camera = new PerspectiveCamera();\r\n        camera.setNearClip(0.0001);\r\n        camera.setFarClip(900.0);\r\n        camera.setTranslateZ(-30);\r\n        camera.setRotate(0); // Dodaj obroty\r\n        camera.setTranslateY(0); // Dodaj przesunięcie\r\n        camera.setTranslateX(0); // Dodaj przesunięcie\r\n        scene.setCamera(camera);\r\n\r\n        // Przesuwanie symulacji, aby środek symulacji pokrywał się ze środkiem ekranu\r\n        simulation.setTranslateX(scene.getWidth() / 2);\r\n        simulation.setTranslateY(scene.getHeight() / 2);\r\n\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n        simulation.start();\r\n\r\n        // Ustawienie większego promienia dla słońca\r\n        DisplayedCelestialBody sun = solarSystem.getBodies().get(0);\r\n        sun.getCelestialBody().setRadius(1000);\r\n\r\n        // Dodanie obsługi zdarzenia scroll na scenie\r\n        scene.setOnScroll(event -&gt; {\r\n            double delta = event.getDeltaY();\r\n            camera.setTranslateZ(camera.getTranslateZ() + delta);\r\n        });\r\n    }\r\n\r\n    private SolarSystem initSolarSystem() {\r\n        SolarSystem solarSystem = new SolarSystem();\r\n\r\n        double earthRadius = 1.0;\r\n        double oneAU = 50.0;\r\n        double earthOrbitalPeriod = 365.25;  // Okres orbitalny Ziemi\r\n\r\n        Vector3D zeroVelocity = new Vector3D(0, 0, 0);\r\n\r\n        CelestialBody sunBody = new CelestialBody(&quot;Sun&quot;, 1.989 * Math.pow(10, 30), 15.0 * earthRadius, new Vector3D(0, 0, 0), zeroVelocity, &quot;sun.jpg&quot;, 0.0,true);;\r\n        Sphere sunSphere = new Sphere(sunBody.getRadius());\r\n        DisplayedCelestialBody sun = new DisplayedCelestialBody(sunBody, sunSphere);\r\n        solarSystem.addBody(sun);\r\n\r\n        // Dodajemy resztę ciał niebieskich\r\n        String[] planetNames = {&quot;Mercury&quot;, &quot;Venus&quot;, &quot;Earth&quot;, &quot;Mars&quot;, &quot;Jupiter&quot;, &quot;Saturn&quot;, &quot;Uranus&quot;, &quot;Neptune&quot;};\r\n        double[] planetSizes = {0.383, 0.949, 1.0, 0.532, 11.21, 9.45, 4.01, 3.88};\r\n        double[] distancesFromSun = {0.39, 0.723, 1.0, 1.52, 5.20, 9.58, 19.18, 30.07};\r\n        double[] orbitalPeriods = {88.0, 225.0, 365.25, 1.88, 11.86, 29.46, 84.02, 164.8};\r\n\r\n        for (int i = 0; i &lt; planetNames.length; i++) {\r\n            CelestialBody body = new CelestialBody(planetNames[i], 1.0, planetSizes[i]*earthRadius, new Vector3D(0, 0, distancesFromSun[i]*oneAU), zeroVelocity, planetNames[i].toLowerCase() + &quot;.jpg&quot;, orbitalPeriods[i] / earthOrbitalPeriod, false);\r\n\r\n            Sphere sphere = new Sphere(body.getRadius());\r\n            DisplayedCelestialBody displayedBody = new DisplayedCelestialBody(body, sphere);\r\n            solarSystem.addBody(displayedBody);\r\n        }\r\n\r\n        return solarSystem;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\nSolarSystemSimulation:\r\n```\r\n    public class SolarSystemSimulation extends Group {\r\n    private SolarSystem solarSystem;\r\n    private double anchorX, anchorY;\r\n    private double anchorAngleX = 0;\r\n    private double anchorAngleY = 0;\r\n\r\n    public SolarSystemSimulation(SolarSystem solarSystem) {\r\n        this.solarSystem = solarSystem;\r\n\r\n        for (DisplayedCelestialBody displayedBody : solarSystem.getBodies()) {\r\n            CelestialBody body = displayedBody.getCelestialBody();\r\n            Sphere sphere = displayedBody.getDisplayObject();\r\n            PhongMaterial material = new PhongMaterial();\r\n            Image texture = loadImage(body.getTextureFilename());\r\n            if (texture != null) {\r\n                material.setDiffuseMap(texture);\r\n            }\r\n            sphere.setMaterial(material);\r\n            getChildren().add(sphere);\r\n        }\r\n\r\n        // Wypisanie promieni sfer\r\n        for (DisplayedCelestialBody displayedBody : solarSystem.getBodies()) {\r\n            CelestialBody body = displayedBody.getCelestialBody();\r\n            Sphere sphere = displayedBody.getDisplayObject();\r\n            System.out.println(&quot;Promień &quot; + body.getName() + &quot;: &quot; + sphere.getRadius());\r\n        }\r\n    }\r\n\r\n    public void setRadius(DisplayedCelestialBody displayedBody, double radius) {\r\n        Sphere sphere = displayedBody.getDisplayObject();\r\n        sphere.setRadius(radius);\r\n    }\r\n\r\n    private Image loadImage(String filename) {\r\n        InputStream inputStream = getClass().getResourceAsStream(&quot;/&quot; + filename);\r\n        return new Image(inputStream);\r\n    }\r\n\r\n    public void updatePositions(double deltaTime) {\r\n        List&lt;DisplayedCelestialBody&gt; bodies = solarSystem.getBodies();\r\n        for (int i = 1; i &lt; bodies.size(); i++) {\r\n            DisplayedCelestialBody displayedBody = bodies.get(i);\r\n            CelestialBody body = displayedBody.getCelestialBody();\r\n\r\n            // Prędkość kątowa każdego ciała niebieskiego\r\n            double angularSpeed = 2 * Math.PI / (body.getOrbitalSpeed() * 60);\r\n\r\n            // Pomijamy aktualizacje pozycji dla &quot;fixed&quot; obiekt&#243;w\r\n            if (body.isFixed()) {\r\n                continue;\r\n            }\r\n\r\n            // Obliczenie nowej pozycji ciała niebieskiego\r\n            Vector3D currentPosition = body.getPosition();\r\n            double angle = angularSpeed * deltaTime;\r\n            double newX = currentPosition.getX() * Math.cos(angle) - currentPosition.getZ() * Math.sin(angle);\r\n            double newZ = currentPosition.getX() * Math.sin(angle) + currentPosition.getZ() * Math.cos(angle);\r\n            Vector3D newPosition = new Vector3D(newX, currentPosition.getY(), newZ);\r\n\r\n            body.setPosition(newPosition);\r\n            }\r\n        }\r\n\r\n    public void start() {\r\n        setOnMousePressed(event -&gt; {\r\n            anchorX = event.getSceneX();\r\n            anchorY = event.getSceneY();\r\n            anchorAngleX = getRotate();\r\n            anchorAngleY = getRotate();\r\n\r\n        });\r\n\r\n        setOnMouseDragged(event -&gt; {\r\n            getTransforms().clear();\r\n            Rotate rotateX = new Rotate(anchorAngleX + (event.getSceneY() - anchorY), Rotate.X_AXIS);\r\n            Rotate rotateY = new Rotate(anchorAngleY - (event.getSceneX() - anchorX), Rotate.Y_AXIS);\r\n            getTransforms().addAll(rotateX, rotateY);\r\n\r\n        });\r\n\r\n        new AnimationTimer() {\r\n            @Override\r\n            public void handle(long now) {\r\n                // Obliczamy r&#243;żnicę czasu w sekundach\r\n                double deltaTime = 1.0 / 60.0;\r\n\r\n                updatePositions(deltaTime);\r\n\r\n                List&lt;DisplayedCelestialBody&gt; sortedDisplayedBodies = new ArrayList&lt;&gt;(solarSystem.getBodies());\r\n                sortedDisplayedBodies.sort((body1, body2) -&gt; {\r\n                    CelestialBody celestialBody1 = body1.getCelestialBody();\r\n                    CelestialBody celestialBody2 = body2.getCelestialBody();\r\n                    if (celestialBody1.getName().equals(&quot;Sun&quot;)) return 1;\r\n                    else if (celestialBody2.getName().equals(&quot;Sun&quot;)) return -1;\r\n                    else {\r\n                        Sphere sphere1 = body1.getDisplayObject();\r\n                        Sphere sphere2 = body2.getDisplayObject();\r\n                        double distance1 = calculateDistanceToCamera(sphere1);\r\n                        double distance2 = calculateDistanceToCamera(sphere2);\r\n                        return Double.compare(distance2, distance1);\r\n                    }\r\n                });\r\n\r\n                getChildren().clear();\r\n\r\n                for (DisplayedCelestialBody displayedBody : sortedDisplayedBodies) {\r\n                    CelestialBody body = displayedBody.getCelestialBody();\r\n                    Sphere sphere = displayedBody.getDisplayObject();\r\n                    sphere.setTranslateX(body.getPosition().getX());\r\n                    sphere.setTranslateY(body.getPosition().getY());\r\n                    sphere.setTranslateZ(body.getPosition().getZ());\r\n\r\n                    body.updateRotation(deltaTime);\r\n\r\n                    if (!body.getName().equals(&quot;Sun&quot;)) {\r\n                        sphere.getTransforms().clear();\r\n                        Rotate rotate = new Rotate(body.getRotationAngle(), Rotate.Y_AXIS);\r\n                        sphere.getTransforms().add(rotate);\r\n                    }\r\n\r\n                    getChildren().add(sphere);\r\n                }\r\n            }\r\n        }.start();\r\n    }\r\n\r\n\r\n    private double calculateDistanceToCamera(Sphere sphere) {\r\n        double cameraX = 0;  // Podstawowe wartości, jeśli kamera jest na pozycji (0,0,0)\r\n        double cameraY = 0;\r\n        double cameraZ = 0;\r\n        return Math.sqrt(Math.pow(sphere.getTranslateX() - cameraX, 2) +\r\n                Math.pow(sphere.getTranslateY() - cameraY, 2) +\r\n                Math.pow(sphere.getTranslateZ() - cameraZ, 2));\r\n    }\r\n}\r\n```\r\n","title":"JavaFX solar system simulation - Sun moving despite being set as immovable","body":"<p>I am working on a simulation of a solar system using JavaFX. I have a class CelestialBody representing each celestial body, and an additional boolean field isImmovable which is supposed to control whether a celestial body is affected by gravitational forces or not. The idea was to make the Sun immovable, while planets orbit around it.</p>\n<p>My problem is that despite setting the Sun as immovable (isImmovable = true), it still moves around in the simulation as if it is being influenced by the gravity of other celestial bodies.</p>\n<p>Here is the constructor for the CelestialBody class:</p>\n<pre><code>public CelestialBody(String name, double mass, double radius, Vector3D position, Vector3D velocity, String textureFilename, double orbitalSpeed, boolean isImmovable) {\n    this.name = name;\n    this.mass = mass;\n    this.radius = radius;\n    this.position = position;\n    this.velocity = velocity;\n    this.textureFilename = textureFilename;\n    this.rotationAngle = 0.0;\n    this.orbitalSpeed = orbitalSpeed;\n    this.isImmovable = isImmovable;\n}\n</code></pre>\n<p>And here is how I initialize the Sun:</p>\n<pre><code>CelestialBody sunBody = new CelestialBody(&quot;Sun&quot;, 1.989 * Math.pow(10, 30), 15.0 * earthRadius, new Vector3D(0, 0, 0), zeroVelocity, &quot;sun.jpg&quot;, 0.0, true);\n</code></pre>\n<p>In the part of the code that calculates the new position for each celestial body, I have the following:</p>\n<pre><code>if (!body.isImmovable()) {\n    // Here I calculate and update the new position for the celestial body\n}\n</code></pre>\n<p>This should skip the position update for the Sun, however, it still moves. Does anyone have any idea why this might be the case and how I could fix this? Any help would be much appreciated.\n<a href=\"https://i.stack.imgur.com/lUPUf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lUPUf.png\" alt=\"enter image description here\" /></a></p>\n<p>MainApp:</p>\n<pre><code>public class MainApp extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        SolarSystem solarSystem = initSolarSystem();\n        SolarSystemSimulation simulation = new SolarSystemSimulation(solarSystem);\n\n        // Stworzenie AnchorPane i dodanie do niego symulacji\n        AnchorPane root = new AnchorPane();\n        root.getChildren().add(simulation);\n        AnchorPane.setTopAnchor(simulation, 0.0);\n        AnchorPane.setBottomAnchor(simulation, 0.0);\n        AnchorPane.setLeftAnchor(simulation, 0.0);\n        AnchorPane.setRightAnchor(simulation, 0.0);\n\n        // Wczytanie obrazu tła i ustawienie go jako tła dla sceny\n        Image spaceBackground = new Image(getClass().getResource(&quot;/space_background.jpg&quot;).toExternalForm());\n        root.setBackground(new Background(new BackgroundFill(new ImagePattern(spaceBackground), CornerRadii.EMPTY, Insets.EMPTY)));\n\n        Scene scene = new Scene(root, 1200, 900);\n\n        PerspectiveCamera camera = new PerspectiveCamera();\n        camera.setNearClip(0.0001);\n        camera.setFarClip(900.0);\n        camera.setTranslateZ(-30);\n        camera.setRotate(0); // Dodaj obroty\n        camera.setTranslateY(0); // Dodaj przesunięcie\n        camera.setTranslateX(0); // Dodaj przesunięcie\n        scene.setCamera(camera);\n\n        // Przesuwanie symulacji, aby środek symulacji pokrywał się ze środkiem ekranu\n        simulation.setTranslateX(scene.getWidth() / 2);\n        simulation.setTranslateY(scene.getHeight() / 2);\n\n        stage.setScene(scene);\n        stage.show();\n\n        simulation.start();\n\n        // Ustawienie większego promienia dla słońca\n        DisplayedCelestialBody sun = solarSystem.getBodies().get(0);\n        sun.getCelestialBody().setRadius(1000);\n\n        // Dodanie obsługi zdarzenia scroll na scenie\n        scene.setOnScroll(event -&gt; {\n            double delta = event.getDeltaY();\n            camera.setTranslateZ(camera.getTranslateZ() + delta);\n        });\n    }\n\n    private SolarSystem initSolarSystem() {\n        SolarSystem solarSystem = new SolarSystem();\n\n        double earthRadius = 1.0;\n        double oneAU = 50.0;\n        double earthOrbitalPeriod = 365.25;  // Okres orbitalny Ziemi\n\n        Vector3D zeroVelocity = new Vector3D(0, 0, 0);\n\n        CelestialBody sunBody = new CelestialBody(&quot;Sun&quot;, 1.989 * Math.pow(10, 30), 15.0 * earthRadius, new Vector3D(0, 0, 0), zeroVelocity, &quot;sun.jpg&quot;, 0.0,true);;\n        Sphere sunSphere = new Sphere(sunBody.getRadius());\n        DisplayedCelestialBody sun = new DisplayedCelestialBody(sunBody, sunSphere);\n        solarSystem.addBody(sun);\n\n        // Dodajemy resztę ciał niebieskich\n        String[] planetNames = {&quot;Mercury&quot;, &quot;Venus&quot;, &quot;Earth&quot;, &quot;Mars&quot;, &quot;Jupiter&quot;, &quot;Saturn&quot;, &quot;Uranus&quot;, &quot;Neptune&quot;};\n        double[] planetSizes = {0.383, 0.949, 1.0, 0.532, 11.21, 9.45, 4.01, 3.88};\n        double[] distancesFromSun = {0.39, 0.723, 1.0, 1.52, 5.20, 9.58, 19.18, 30.07};\n        double[] orbitalPeriods = {88.0, 225.0, 365.25, 1.88, 11.86, 29.46, 84.02, 164.8};\n\n        for (int i = 0; i &lt; planetNames.length; i++) {\n            CelestialBody body = new CelestialBody(planetNames[i], 1.0, planetSizes[i]*earthRadius, new Vector3D(0, 0, distancesFromSun[i]*oneAU), zeroVelocity, planetNames[i].toLowerCase() + &quot;.jpg&quot;, orbitalPeriods[i] / earthOrbitalPeriod, false);\n\n            Sphere sphere = new Sphere(body.getRadius());\n            DisplayedCelestialBody displayedBody = new DisplayedCelestialBody(body, sphere);\n            solarSystem.addBody(displayedBody);\n        }\n\n        return solarSystem;\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>SolarSystemSimulation:</p>\n<pre><code>    public class SolarSystemSimulation extends Group {\n    private SolarSystem solarSystem;\n    private double anchorX, anchorY;\n    private double anchorAngleX = 0;\n    private double anchorAngleY = 0;\n\n    public SolarSystemSimulation(SolarSystem solarSystem) {\n        this.solarSystem = solarSystem;\n\n        for (DisplayedCelestialBody displayedBody : solarSystem.getBodies()) {\n            CelestialBody body = displayedBody.getCelestialBody();\n            Sphere sphere = displayedBody.getDisplayObject();\n            PhongMaterial material = new PhongMaterial();\n            Image texture = loadImage(body.getTextureFilename());\n            if (texture != null) {\n                material.setDiffuseMap(texture);\n            }\n            sphere.setMaterial(material);\n            getChildren().add(sphere);\n        }\n\n        // Wypisanie promieni sfer\n        for (DisplayedCelestialBody displayedBody : solarSystem.getBodies()) {\n            CelestialBody body = displayedBody.getCelestialBody();\n            Sphere sphere = displayedBody.getDisplayObject();\n            System.out.println(&quot;Promień &quot; + body.getName() + &quot;: &quot; + sphere.getRadius());\n        }\n    }\n\n    public void setRadius(DisplayedCelestialBody displayedBody, double radius) {\n        Sphere sphere = displayedBody.getDisplayObject();\n        sphere.setRadius(radius);\n    }\n\n    private Image loadImage(String filename) {\n        InputStream inputStream = getClass().getResourceAsStream(&quot;/&quot; + filename);\n        return new Image(inputStream);\n    }\n\n    public void updatePositions(double deltaTime) {\n        List&lt;DisplayedCelestialBody&gt; bodies = solarSystem.getBodies();\n        for (int i = 1; i &lt; bodies.size(); i++) {\n            DisplayedCelestialBody displayedBody = bodies.get(i);\n            CelestialBody body = displayedBody.getCelestialBody();\n\n            // Prędkość kątowa każdego ciała niebieskiego\n            double angularSpeed = 2 * Math.PI / (body.getOrbitalSpeed() * 60);\n\n            // Pomijamy aktualizacje pozycji dla &quot;fixed&quot; obiektów\n            if (body.isFixed()) {\n                continue;\n            }\n\n            // Obliczenie nowej pozycji ciała niebieskiego\n            Vector3D currentPosition = body.getPosition();\n            double angle = angularSpeed * deltaTime;\n            double newX = currentPosition.getX() * Math.cos(angle) - currentPosition.getZ() * Math.sin(angle);\n            double newZ = currentPosition.getX() * Math.sin(angle) + currentPosition.getZ() * Math.cos(angle);\n            Vector3D newPosition = new Vector3D(newX, currentPosition.getY(), newZ);\n\n            body.setPosition(newPosition);\n            }\n        }\n\n    public void start() {\n        setOnMousePressed(event -&gt; {\n            anchorX = event.getSceneX();\n            anchorY = event.getSceneY();\n            anchorAngleX = getRotate();\n            anchorAngleY = getRotate();\n\n        });\n\n        setOnMouseDragged(event -&gt; {\n            getTransforms().clear();\n            Rotate rotateX = new Rotate(anchorAngleX + (event.getSceneY() - anchorY), Rotate.X_AXIS);\n            Rotate rotateY = new Rotate(anchorAngleY - (event.getSceneX() - anchorX), Rotate.Y_AXIS);\n            getTransforms().addAll(rotateX, rotateY);\n\n        });\n\n        new AnimationTimer() {\n            @Override\n            public void handle(long now) {\n                // Obliczamy różnicę czasu w sekundach\n                double deltaTime = 1.0 / 60.0;\n\n                updatePositions(deltaTime);\n\n                List&lt;DisplayedCelestialBody&gt; sortedDisplayedBodies = new ArrayList&lt;&gt;(solarSystem.getBodies());\n                sortedDisplayedBodies.sort((body1, body2) -&gt; {\n                    CelestialBody celestialBody1 = body1.getCelestialBody();\n                    CelestialBody celestialBody2 = body2.getCelestialBody();\n                    if (celestialBody1.getName().equals(&quot;Sun&quot;)) return 1;\n                    else if (celestialBody2.getName().equals(&quot;Sun&quot;)) return -1;\n                    else {\n                        Sphere sphere1 = body1.getDisplayObject();\n                        Sphere sphere2 = body2.getDisplayObject();\n                        double distance1 = calculateDistanceToCamera(sphere1);\n                        double distance2 = calculateDistanceToCamera(sphere2);\n                        return Double.compare(distance2, distance1);\n                    }\n                });\n\n                getChildren().clear();\n\n                for (DisplayedCelestialBody displayedBody : sortedDisplayedBodies) {\n                    CelestialBody body = displayedBody.getCelestialBody();\n                    Sphere sphere = displayedBody.getDisplayObject();\n                    sphere.setTranslateX(body.getPosition().getX());\n                    sphere.setTranslateY(body.getPosition().getY());\n                    sphere.setTranslateZ(body.getPosition().getZ());\n\n                    body.updateRotation(deltaTime);\n\n                    if (!body.getName().equals(&quot;Sun&quot;)) {\n                        sphere.getTransforms().clear();\n                        Rotate rotate = new Rotate(body.getRotationAngle(), Rotate.Y_AXIS);\n                        sphere.getTransforms().add(rotate);\n                    }\n\n                    getChildren().add(sphere);\n                }\n            }\n        }.start();\n    }\n\n\n    private double calculateDistanceToCamera(Sphere sphere) {\n        double cameraX = 0;  // Podstawowe wartości, jeśli kamera jest na pozycji (0,0,0)\n        double cameraY = 0;\n        double cameraZ = 0;\n        return Math.sqrt(Math.pow(sphere.getTranslateX() - cameraX, 2) +\n                Math.pow(sphere.getTranslateY() - cameraY, 2) +\n                Math.pow(sphere.getTranslateZ() - cameraZ, 2));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","authentication","smsmanager"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689263618,"post_id":76681211,"comment_id":135192011,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":28994592,"reputation":3,"user_id":22209533,"display_name":"Kaviyarasan M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689264796,"creation_date":1689262990,"question_id":76681211,"body_markdown":"I need to send sms to my number without notification using SmsManager for the authentication purpose. Please suggest me how to solve this.\r\n\r\nI&#39;m using broadcast receiver to read the SMS, so need to send the SMS in silent mode\r\n\r\nUsing the below logic to send SMS\r\n\r\n  `SmsManager.getSmsManagerForSubscriptionId(subscriptionId).sendTextMessage(phoneNumber, null, randomNumber, null, null);`  \r\n","title":"Android send sms without notification","body":"<p>I need to send sms to my number without notification using SmsManager for the authentication purpose. Please suggest me how to solve this.</p>\n<p>I'm using broadcast receiver to read the SMS, so need to send the SMS in silent mode</p>\n<p>Using the below logic to send SMS</p>\n<p><code>SmsManager.getSmsManagerForSubscriptionId(subscriptionId).sendTextMessage(phoneNumber, null, randomNumber, null, null);</code></p>\n"},{"tags":["java","spring","amazon-web-services","amazon-s3","storage"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1689261465,"post_id":76680861,"comment_id":135191479,"body_markdown":"Creating a pre-signed URL does not actually require a network API request. All AWS SDKs implement this locally.","body":"Creating a pre-signed URL does not actually require a network API request. All AWS SDKs implement this locally."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689262751,"post_id":76680861,"comment_id":135191812,"body_markdown":"https://drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/view?usp=drivesdk","body":"<a href=\"https://drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/view?usp=drivesdk\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":29008459,"reputation":66,"user_id":22220433,"display_name":"Emil J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689264649,"creation_date":1689264649,"answer_id":76681431,"question_id":76680861,"body_markdown":"# Cache Friendly Pre-Signed URL:s\r\n\r\nCreating a pre-signed url is a purely client-side operation and has neither a cost or limit associated to it. Hence, I would not be concerned about the actual creation of url:s.\r\n\r\nHowever, signing new urls for every load will make browsers unable to cache your images because the url will always change.\r\n\r\nTo get around that you can make sure to sign all url:s during a set time-span with the same expiration time. That way the image url:s will be identical between requests for a set amount of time. For example you could always set the expiration to be the next following quarter hour, like this: \r\n\r\n````\r\nprivate String generateCacheFriendlyUrl(String fileName, HttpMethod httpMethod) {\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTime(new Date());\r\n\r\n    // Add 5 minutes to make sure we don&#39;t get an immediately expiring url \r\n    calendar.add(Calendar.MINUTE, 5); \r\n    \r\n    // Round time up to next quarter hour\r\n    int unroundedMinutes = calendar.get(Calendar.MINUTE);\r\n    int mod = unroundedMinutes % 15;\r\n    calendar.add(Calendar.MINUTE, 15-mod);\r\n\r\n    return amazonS3.generatePresignedUrl(s3BucketName, fileName, calendar.getTime(), httpMethod).toString();\r\n}\r\n````\r\n\r\nThat way images can be cached by browsers during the time-span where url:s have the same expiration time.\r\n","title":"Storing Images on File System vs S3 and accessing them easily","body":"<h1>Cache Friendly Pre-Signed URL:s</h1>\n<p>Creating a pre-signed url is a purely client-side operation and has neither a cost or limit associated to it. Hence, I would not be concerned about the actual creation of url:s.</p>\n<p>However, signing new urls for every load will make browsers unable to cache your images because the url will always change.</p>\n<p>To get around that you can make sure to sign all url:s during a set time-span with the same expiration time. That way the image url:s will be identical between requests for a set amount of time. For example you could always set the expiration to be the next following quarter hour, like this:</p>\n<pre><code>private String generateCacheFriendlyUrl(String fileName, HttpMethod httpMethod) {\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTime(new Date());\n\n    // Add 5 minutes to make sure we don't get an immediately expiring url \n    calendar.add(Calendar.MINUTE, 5); \n    \n    // Round time up to next quarter hour\n    int unroundedMinutes = calendar.get(Calendar.MINUTE);\n    int mod = unroundedMinutes % 15;\n    calendar.add(Calendar.MINUTE, 15-mod);\n\n    return amazonS3.generatePresignedUrl(s3BucketName, fileName, calendar.getTime(), httpMethod).toString();\n}\n</code></pre>\n<p>That way images can be cached by browsers during the time-span where url:s have the same expiration time.</p>\n"}],"owner":{"account_id":15695822,"reputation":37,"user_id":11325421,"display_name":"Ariya nazari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76681431,"answer_count":1,"score":-1,"last_activity_date":1689264649,"creation_date":1689260536,"question_id":76680861,"body_markdown":"Im building a marketplace application and want to store user uploaded images. The images are going to be viewable by any non-authentcated/authenticated user. It seems like S3 is the only solution I could find. But having pre-signed urls for all the images on the page, would presumably be a lot of get request. Specially as a user goes back and forth between categories. So im not sure how realistic it would be or if I need a cache system. I really do not want to overcomplicate it so if there is a better solution im open to it. ","title":"Storing Images on File System vs S3 and accessing them easily","body":"<p>Im building a marketplace application and want to store user uploaded images. The images are going to be viewable by any non-authentcated/authenticated user. It seems like S3 is the only solution I could find. But having pre-signed urls for all the images on the page, would presumably be a lot of get request. Specially as a user goes back and forth between categories. So im not sure how realistic it would be or if I need a cache system. I really do not want to overcomplicate it so if there is a better solution im open to it.</p>\n"},{"tags":["java","snakeyaml"],"comments":[{"owner":{"account_id":19327960,"reputation":33,"user_id":14130190,"display_name":"Eric"},"score":0,"creation_date":1689274799,"post_id":76681400,"comment_id":135194293,"body_markdown":"replace with lYaml.loadAs(inputStream, InterimTopologyData.class) will resolve the issue.","body":"replace with lYaml.loadAs(inputStream, InterimTopologyData.class) will resolve the issue."}],"owner":{"account_id":19327960,"reputation":33,"user_id":14130190,"display_name":"Eric"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689264412,"creation_date":1689264412,"question_id":76681400,"body_markdown":"the application worked in snakeyaml 1.23. but after upgrade to snakeyaml 2.0.\r\nwe got the exception:\r\n\r\njava.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class mytest.InterimYAMLLoader$InterimTopologyData (java.util.LinkedHashMap is in module java.base of loader &#39;bootstrap&#39;; mytest.InterimYAMLLoader$InterimTopologyData is in unnamed module of loader &#39;app&#39;) \r\n\tat mytest.YamlTest.main(YamlTest.java:29)\r\nI tried to change the InterimTopologyData config (and all the private members) into public, still doesn&#39;t work.\r\nif I \r\n```\r\n\tpublic static void main(String args[])\r\n\t{\r\n\t\t// Create a yaml document object based on InterimTopologyData\r\n        Yaml lYaml = new Yaml(new CustomClassLoaderConstructor(\r\n                                    InterimTopologyData.class.getClassLoader(),\r\n                                    new LoaderOptions()));\r\n        try\r\n        {\r\n        \t File initialFile = new File(&quot;C:\\\\test\\\\Configuration.yaml&quot;);\r\n             InputStream lInputStream = new FileInputStream(initialFile);\r\n          \r\n         // Parse the yaml file and load it into the custom object\r\n line 29           InterimTopologyData lInterimTopologyData = lYaml.load(lInputStream); \r\n      \r\n         // then I changed the custom class object into a normal Object, it will print string like &quot;{config={topology={spspartition=[{id=1, ..&quot;\r\n        \tObject data = lYaml.load(lInputStream); \r\n        \tSystem.out.println(data);\r\n        }\r\n        catch (Exception e)\r\n        {\r\n        \te.printStackTrace();\r\n        }\r\n\r\n\t}\r\n```\r\n```\r\npublic class InterimYAMLLoader\r\n{\r\n    private InterimYAMLLoader()\r\n    {\r\n    }\r\n\r\n    @Data\r\n    public static class InterimTopologyData\r\n    {\r\n        public InterimConfig config;\r\n    }\r\n\r\n    @Data\r\n    public static class InterimConfig\r\n    {\r\n        private InterimTopology topology;\r\n    }\r\n\r\n```","title":"snakeyaml 2.0 java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to a user defined class","body":"<p>the application worked in snakeyaml 1.23. but after upgrade to snakeyaml 2.0.\nwe got the exception:</p>\n<p>java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class mytest.InterimYAMLLoader$InterimTopologyData (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; mytest.InterimYAMLLoader$InterimTopologyData is in unnamed module of loader 'app')\nat mytest.YamlTest.main(YamlTest.java:29)\nI tried to change the InterimTopologyData config (and all the private members) into public, still doesn't work.\nif I</p>\n<pre><code>    public static void main(String args[])\n    {\n        // Create a yaml document object based on InterimTopologyData\n        Yaml lYaml = new Yaml(new CustomClassLoaderConstructor(\n                                    InterimTopologyData.class.getClassLoader(),\n                                    new LoaderOptions()));\n        try\n        {\n             File initialFile = new File(&quot;C:\\\\test\\\\Configuration.yaml&quot;);\n             InputStream lInputStream = new FileInputStream(initialFile);\n          \n         // Parse the yaml file and load it into the custom object\n line 29           InterimTopologyData lInterimTopologyData = lYaml.load(lInputStream); \n      \n         // then I changed the custom class object into a normal Object, it will print string like &quot;{config={topology={spspartition=[{id=1, ..&quot;\n            Object data = lYaml.load(lInputStream); \n            System.out.println(data);\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n<pre><code>public class InterimYAMLLoader\n{\n    private InterimYAMLLoader()\n    {\n    }\n\n    @Data\n    public static class InterimTopologyData\n    {\n        public InterimConfig config;\n    }\n\n    @Data\n    public static class InterimConfig\n    {\n        private InterimTopology topology;\n    }\n\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1646653067,"post_id":71380469,"comment_id":126168579,"body_markdown":"Show us the relevant code, in your question.","body":"Show us the relevant code, in your question."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1646653433,"post_id":71380469,"comment_id":126168695,"body_markdown":"`apache poi 5.2.1` cannot be used together with `poi-ooxml-schemas-4.1.2.jar`. It needs to be used with `poi-ooxml-lite-5.2.1.jar`.","body":"<code>apache poi 5.2.1</code> cannot be used together with <code>poi-ooxml-schemas-4.1.2.jar</code>. It needs to be used with <code>poi-ooxml-lite-5.2.1.jar</code>."}],"answers":[{"comments":[{"owner":{"account_id":12062848,"reputation":23,"user_id":8821204,"display_name":"Busuioc Razvan"},"score":0,"creation_date":1646656882,"post_id":71380678,"comment_id":126169922,"body_markdown":"Thank you , I did as you said and now the program had no more exceptions.","body":"Thank you , I did as you said and now the program had no more exceptions."},{"owner":{"account_id":3086395,"reputation":327,"user_id":2613428,"display_name":"Harisha K P"},"score":0,"creation_date":1649801779,"post_id":71380678,"comment_id":126967158,"body_markdown":"Thanks a lot for this answer. That saved lot of time for me. I appreciate your help.","body":"Thanks a lot for this answer. That saved lot of time for me. I appreciate your help."}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1646655091,"creation_date":1646654012,"answer_id":71380678,"question_id":71380469,"body_markdown":"While using `apache poi` **never** mix jars from different versions. See [faq-N10204](https://poi.apache.org/help/faq.html#faq-N10204).\r\n\r\nSo when used `apache poi` version `5.2.1` **all** `apache poi` jars needs to be from that version. So in your case `apache poi 5.2.1` cannot be used together with `poi-ooxml-schemas-4.1.2.jar`. It needs to be used with either `poi-ooxml-lite-5.2.1.jar` or `poi-ooxml-full-5.2.1.jar`.\r\n\r\nTo avoid conflicts, furthermore all jars from not matching versions should be excluded from class path while running `apache poi` code. \r\n\r\nSo in your case using `apache poi 5.2.1` there should not be any `poi-ooxml-schemas-4.1.2.jar` in class path additional to either `poi-ooxml-lite-5.2.1.jar` or `poi-ooxml-full-5.2.1.jar`. Also `ooxml-schemas-1.4.jar` should not be in class path while using `apache poi 5`.  The `ooxml-schemas-1.4.jar` was the former version of `poi-ooxml-full-5.*.jar` and also cannot be used together with `apache poi 5`.\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: Factory question","body":"<p>While using <code>apache poi</code> <strong>never</strong> mix jars from different versions. See <a href=\"https://poi.apache.org/help/faq.html#faq-N10204\" rel=\"nofollow noreferrer\">faq-N10204</a>.</p>\n<p>So when used <code>apache poi</code> version <code>5.2.1</code> <strong>all</strong> <code>apache poi</code> jars needs to be from that version. So in your case <code>apache poi 5.2.1</code> cannot be used together with <code>poi-ooxml-schemas-4.1.2.jar</code>. It needs to be used with either <code>poi-ooxml-lite-5.2.1.jar</code> or <code>poi-ooxml-full-5.2.1.jar</code>.</p>\n<p>To avoid conflicts, furthermore all jars from not matching versions should be excluded from class path while running <code>apache poi</code> code.</p>\n<p>So in your case using <code>apache poi 5.2.1</code> there should not be any <code>poi-ooxml-schemas-4.1.2.jar</code> in class path additional to either <code>poi-ooxml-lite-5.2.1.jar</code> or <code>poi-ooxml-full-5.2.1.jar</code>. Also <code>ooxml-schemas-1.4.jar</code> should not be in class path while using <code>apache poi 5</code>.  The <code>ooxml-schemas-1.4.jar</code> was the former version of <code>poi-ooxml-full-5.*.jar</code> and also cannot be used together with <code>apache poi 5</code>.</p>\n"}],"owner":{"account_id":12062848,"reputation":23,"user_id":8821204,"display_name":"Busuioc Razvan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4583,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71380678,"answer_count":1,"score":2,"last_activity_date":1689263602,"creation_date":1646652957,"question_id":71380469,"body_markdown":"I&#39;m trying to test a xml to excel converter in Java and I have the following exception\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: Factory\r\n    \tat org.apache.poi.xssf.usermodel.XSSFWorkbook.onWorkbookCreate(XSSFWorkbook.java:475)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:232)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:226)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:214)\r\n    \tat xmlToExcel.Converter.initXls(Converter.java:135)\r\n    \tat xmlToExcel.Converter.getAndReadXml(Converter.java:60)\r\n    \tat xmlToExcel.Converter.main(Converter.java:36)\r\n\r\n\r\nThe exception refers to the this line:\r\n\r\n      workbook = new XSSFWorkbook();\r\n\r\nAnd here are my current jars\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow can I solve this? Are there any conflicts in the jars?\r\n\r\nEDIT 1: Here is the code for the method which initialises the POI workbook and writes the header row\r\n\r\n\r\n        workbook = new XSSFWorkbook();\r\n\r\n        CellStyle style = workbook.createCellStyle();\r\n        Font boldFont = workbook.createFont();\r\n        boldFont.setBold(true);\r\n        style.setFont(boldFont);\r\n        style.setAlignment(HorizontalAlignment.CENTER);\r\n\r\n        Sheet sheet = workbook.createSheet();\r\n        rowNum = 0;\r\n        Row row = sheet.createRow(rowNum++);\r\n        Cell cell = row.createCell(SUBSTANCE_NAME_COLUMN);\r\n        cell.setCellValue(&quot;Substance name&quot;);\r\n        cell.setCellStyle(style);\r\n\r\nThe exception references the first line, the creation of the workbook.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hUGm8.png","title":"Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: Factory question","body":"<p>I'm trying to test a xml to excel converter in Java and I have the following exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: Factory\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.onWorkbookCreate(XSSFWorkbook.java:475)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:232)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:226)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:214)\n    at xmlToExcel.Converter.initXls(Converter.java:135)\n    at xmlToExcel.Converter.getAndReadXml(Converter.java:60)\n    at xmlToExcel.Converter.main(Converter.java:36)\n</code></pre>\n<p>The exception refers to the this line:</p>\n<pre><code>  workbook = new XSSFWorkbook();\n</code></pre>\n<p>And here are my current jars</p>\n<p><a href=\"https://i.stack.imgur.com/hUGm8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hUGm8.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I solve this? Are there any conflicts in the jars?</p>\n<p>EDIT 1: Here is the code for the method which initialises the POI workbook and writes the header row</p>\n<pre><code>    workbook = new XSSFWorkbook();\n\n    CellStyle style = workbook.createCellStyle();\n    Font boldFont = workbook.createFont();\n    boldFont.setBold(true);\n    style.setFont(boldFont);\n    style.setAlignment(HorizontalAlignment.CENTER);\n\n    Sheet sheet = workbook.createSheet();\n    rowNum = 0;\n    Row row = sheet.createRow(rowNum++);\n    Cell cell = row.createCell(SUBSTANCE_NAME_COLUMN);\n    cell.setCellValue(&quot;Substance name&quot;);\n    cell.setCellStyle(style);\n</code></pre>\n<p>The exception references the first line, the creation of the workbook.</p>\n"},{"tags":["java","spring","spring-boot","gradle","h2"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1689264430,"post_id":76681270,"comment_id":135192240,"body_markdown":"Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.application.service.usermanagement.repository.UserLoginOTPRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}","body":"Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionExcept&zwnj;&#8203;ion: No qualifying bean of type &#39;com.application.service.usermanagement.repository.UserLogin&zwnj;&#8203;OTPRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(req&zwnj;&#8203;uired=true)}"},{"owner":{"account_id":28304674,"reputation":3,"user_id":21642865,"display_name":"Ashish kulkarni"},"score":0,"creation_date":1689267759,"post_id":76681270,"comment_id":135192940,"body_markdown":"This exception is coming only for the application-user-management fat jar. Also the application starts successfully with gradle bootrun. If there is exception it should also come during bootrun also","body":"This exception is coming only for the application-user-management fat jar. Also the application starts successfully with gradle bootrun. If there is exception it should also come during bootrun also"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1689272295,"post_id":76681270,"comment_id":135193757,"body_markdown":"Your bean wiring is wrong, regardless of how you run it.  Fix that.","body":"Your bean wiring is wrong, regardless of how you run it.  Fix that."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1689272880,"post_id":76681270,"comment_id":135193894,"body_markdown":"Sounds like &quot;it runs on my machine.&quot;  Not buying it.  Fix the problem where it lives and move on to the next one until everything is working.","body":"Sounds like &quot;it runs on my machine.&quot;  Not buying it.  Fix the problem where it lives and move on to the next one until everything is working."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689321715,"post_id":76681270,"comment_id":135199783,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":28304674,"reputation":3,"user_id":21642865,"display_name":"Ashish kulkarni"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689263528,"creation_date":1689263419,"question_id":76681270,"body_markdown":"I have a multi project application where the project structure is like\r\n```\r\nroot\r\n|\r\n├───applicatiom-api-gateway\r\n│   └───src\r\n│       ├───main\r\n│       │   ├───java\r\n... mainclass\r\n... resource\r\n├───application-commons-lib\r\n│   └───src\r\n│       └───main\r\n│           └───java\r\n... NoMainClass\r\n...\r\n├───application-service\r\n│   └───src\r\n│       ├───main\r\n│       │   ├───java\r\n│       │   │   └───com\r\n... mainClass\r\n... resource\r\n├───application-service-discovery\r\n│   └───src\r\n│       ├───main\r\n│       │   ├───java\r\n.. mainClass\r\n├───application-user-management-client-lib\r\n│   └───src\r\n│       └───main\r\n│           └───java\r\n.. mainClass\r\n.. resource\r\n\r\n├───application-web\r\n│   └───src\r\n│       ├───main\r\n│       │   ├───java\r\n│       │   │   └───com\r\n.. mainclass\r\n.. resource\r\nbuild.gradle\r\ngradle.properties\r\n\r\n```\r\n\r\nThe whole build.gradle file is \r\n```\r\nbuildscript {\r\n    ext {\r\n        springBootVersion = &#39;3.1.0&#39;\r\n    }\r\n    ext {\r\n        springCloudVersion = &#39;2022.0.3&#39;\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n\r\n    }\r\n}\r\n\r\nsubprojects {\r\n    apply plugin: &#39;java-library&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n\r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    configurations {\r\n        testArtifacts\r\n        developmentOnly\r\n        runtimeClasspath {\r\n            extendsFrom developmentOnly\r\n        }\r\n    }\r\n\r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.boot:spring-boot-dependencies:${springBootVersion}&quot;\r\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n//        implementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n        implementation(&#39;org.mapstruct:mapstruct:1.5.5.Final&#39;)\r\n//        implementation(&#39;io.springfox:springfox-boot-starter:3.0.0&#39;)\r\n        annotationProcessor(&#39;org.mapstruct:mapstruct-processor:1.5.5.Final&#39;)\r\n        developmentOnly(&#39;org.springframework.boot:spring-boot-devtools&#39;)\r\n        testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n    }\r\n\r\n    sourceCompatibility = &#39;17&#39;\r\n\r\n    ext {\r\n        projectName = &quot;$rootProjectName-$project.name&quot;\r\n    }\r\n\r\n    bootJar {\r\n        enabled = false\r\n    }\r\n\r\n    jar {\r\n        enabled = true\r\n    }\r\n\r\n    task testJar(type: Jar, dependsOn: testClasses) {\r\n        from sourceSets.test.output\r\n        classifier &#39;tests&#39;\r\n    }\r\n\r\n    artifacts {\r\n        testArtifacts testJar\r\n    }\r\n}\r\n\r\nproject(&#39;:application-commons-lib&#39;) {\r\n    jar {\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n        exclude &#39;META-INF/*.RSA&#39;\r\n        exclude &#39;META-INF/*.SF&#39;\r\n        exclude &#39;META-INF/*.DSA&#39;\r\n    }\r\n    dependencies {\r\n    }\r\n}\r\n\r\nproject(&#39;:application-web&#39;) {\r\n    bootRun {\r\n        environment SPRING_PROFILES_ACTIVE: environment.SPRING_PROFILES_ACTIVE ?: &#39;local&#39;\r\n    }\r\n\r\n    jar {\r\n        manifest {\r\n            attributes &quot;Main-Class&quot;: &quot;com.application.application.web.WebApplicationService&quot;\r\n        }\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        implementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n    }\r\n}\r\n\r\nproject(&#39;:application-service-discovery&#39;) {\r\n\r\n    jar {\r\n        manifest {\r\n            attributes &quot;Main-Class&quot;: &quot;com.application.service.discovery.ServiceDiscoveryApplication&quot;\r\n        }\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n        exclude &#39;META-INF/*.RSA&#39;\r\n        exclude &#39;META-INF/*.SF&#39;\r\n        exclude &#39;META-INF/*.DSA&#39;\r\n    }\r\n\r\n    dependencies {\r\n        api(&#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-server&#39;)\r\n    }\r\n}\r\n\r\n\r\nproject(&#39;:application-user-management-client-lib&#39;) {\r\n    jar {\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n        exclude &#39;META-INF/*.RSA&#39;\r\n        exclude &#39;META-INF/*.SF&#39;\r\n        exclude &#39;META-INF/*.DSA&#39;\r\n    }\r\n    dependencies {\r\n        api(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n    }\r\n}\r\n\r\nproject(&#39;:application-user-management&#39;) {\r\n\r\n    jar {\r\n        manifest {\r\n            attributes &quot;Main-Class&quot;: &quot;com.application.service.usermanagement.UserManagementService&quot;\r\n        }\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n        exclude &#39;META-INF/*.RSA&#39;\r\n        exclude &#39;META-INF/*.SF&#39;\r\n        exclude &#39;META-INF/*.DSA&#39;\r\n    }\r\n\r\n    dependencies {\r\n        api project(&#39;:application-commons-lib&#39;)\r\n        api project(&#39;:application-user-management-client-lib&#39;)\r\n\r\n        implementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n        api(&#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client&#39;)\r\n        api(&#39;org.springframework.cloud:spring-cloud-starter-openfeign&#39;)\r\n        api(&#39;org.springdoc:springdoc-openapi-ui:1.7.0&#39;)\r\n        api(&#39;com.h2database:h2:2.1.214&#39;)\r\n        api(&#39;org.springframework.boot:spring-boot-starter-security&#39;)\r\n        api(&#39;com.auth0:java-jwt:4.4.0&#39;)\r\n    }\r\n}\r\n\r\nproject(&#39;:application-api-gateway&#39;) {\r\n    jar {\r\n        manifest {\r\n            attributes &quot;Main-Class&quot;: &quot;com.application.service.gateway.ApiGatewayService&quot;\r\n        }\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n        exclude &#39;META-INF/*.RSA&#39;\r\n        exclude &#39;META-INF/*.SF&#39;\r\n        exclude &#39;META-INF/*.DSA&#39;\r\n    }\r\n\r\n    dependencies {\r\n\r\n        api(&#39;org.springframework.boot:spring-boot-starter-actuator&#39;)\r\n        api(&#39;org.springframework.cloud:spring-cloud-starter-gateway&#39;)\r\n        api(&#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client&#39;)\r\n        api(&#39;org.springframework.cloud:spring-cloud-starter-openfeign&#39;)\r\n        api(&#39;com.auth0:java-jwt:4.4.0&#39;)\r\n\r\n    }\r\n}\r\n\r\nproject(&#39;:application-ledger&#39;) {\r\n    jar {\r\n        manifest {\r\n            attributes &quot;Main-Class&quot;: &quot;com.application.service.ledger.LedgerApplication&quot;\r\n        }\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n        exclude &#39;META-INF/*.RSA&#39;\r\n        exclude &#39;META-INF/*.SF&#39;\r\n        exclude &#39;META-INF/*.DSA&#39;\r\n    }\r\n\r\n    dependencies {\r\n        api project(&#39;:application-user-management-client-lib&#39;)\r\n\r\n        implementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n        implementation(&#39;org.springframework.boot:spring-boot-starter-validation&#39;)\r\n        api(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n        api(&#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client&#39;)\r\n        api(&#39;org.springframework.cloud:spring-cloud-starter-openfeign&#39;)\r\n        api(&#39;com.h2database:h2:2.1.214&#39;)\r\n\r\n        testImplementation(&#39;org.junit.vintage:junit-vintage-engine:5.9.3&#39;)\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nAs I have five different sub projects or projects which will be deployed as independent fat jar. But when I run the jar task it creates the jar and when I start the start it displays that application started successfully but after that it closes the application. I mean application is not always listening to the port in fact it starts and closes the application\r\n\r\n```\r\n21:15:53.725 [main] INFO com.application.service.discovery.ServiceDiscoveryApplication -- No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n21:15:54.312 [main] INFO com.application.service.discovery.ServiceDiscoveryApplication -- Started ServiceDiscoveryApplication in 0.896 seconds (process running for 1.355)\r\n\r\nProcess finished with exit code 0\r\n```\r\nWhere as for other project of UserManagement it gives error for repository \r\n```\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.application.service.usermanagement.repository.UserLoginOTPRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1824)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1383)\r\n```\r\n\r\nbut when I start the application from Intellij then it runs without any issues. \r\n\r\nMay I know why this is happening ? I highly appreciate help.\r\n\r\nI tried with multiple spring configuration changes for error but nothing is working.","title":"Unable to start the fatjar","body":"<p>I have a multi project application where the project structure is like</p>\n<pre><code>root\n|\n├───applicatiom-api-gateway\n│   └───src\n│       ├───main\n│       │   ├───java\n... mainclass\n... resource\n├───application-commons-lib\n│   └───src\n│       └───main\n│           └───java\n... NoMainClass\n...\n├───application-service\n│   └───src\n│       ├───main\n│       │   ├───java\n│       │   │   └───com\n... mainClass\n... resource\n├───application-service-discovery\n│   └───src\n│       ├───main\n│       │   ├───java\n.. mainClass\n├───application-user-management-client-lib\n│   └───src\n│       └───main\n│           └───java\n.. mainClass\n.. resource\n\n├───application-web\n│   └───src\n│       ├───main\n│       │   ├───java\n│       │   │   └───com\n.. mainclass\n.. resource\nbuild.gradle\ngradle.properties\n\n</code></pre>\n<p>The whole build.gradle file is</p>\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '3.1.0'\n    }\n    ext {\n        springCloudVersion = '2022.0.3'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\n\n    }\n}\n\nsubprojects {\n    apply plugin: 'java-library'\n    apply plugin: 'io.spring.dependency-management'\n    apply plugin: 'org.springframework.boot'\n\n    tasks.named('test') {\n        useJUnitPlatform()\n    }\n\n    repositories {\n        mavenCentral()\n    }\n\n    configurations {\n        testArtifacts\n        developmentOnly\n        runtimeClasspath {\n            extendsFrom developmentOnly\n        }\n    }\n\n    dependencyManagement {\n        imports {\n            mavenBom &quot;org.springframework.boot:spring-boot-dependencies:${springBootVersion}&quot;\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n        }\n    }\n\n    dependencies {\n//        implementation('org.springframework.boot:spring-boot-starter-web')\n        implementation('org.mapstruct:mapstruct:1.5.5.Final')\n//        implementation('io.springfox:springfox-boot-starter:3.0.0')\n        annotationProcessor('org.mapstruct:mapstruct-processor:1.5.5.Final')\n        developmentOnly('org.springframework.boot:spring-boot-devtools')\n        testImplementation('org.springframework.boot:spring-boot-starter-test')\n    }\n\n    sourceCompatibility = '17'\n\n    ext {\n        projectName = &quot;$rootProjectName-$project.name&quot;\n    }\n\n    bootJar {\n        enabled = false\n    }\n\n    jar {\n        enabled = true\n    }\n\n    task testJar(type: Jar, dependsOn: testClasses) {\n        from sourceSets.test.output\n        classifier 'tests'\n    }\n\n    artifacts {\n        testArtifacts testJar\n    }\n}\n\nproject(':application-commons-lib') {\n    jar {\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n        from {\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n        }\n        exclude 'META-INF/*.RSA'\n        exclude 'META-INF/*.SF'\n        exclude 'META-INF/*.DSA'\n    }\n    dependencies {\n    }\n}\n\nproject(':application-web') {\n    bootRun {\n        environment SPRING_PROFILES_ACTIVE: environment.SPRING_PROFILES_ACTIVE ?: 'local'\n    }\n\n    jar {\n        manifest {\n            attributes &quot;Main-Class&quot;: &quot;com.application.application.web.WebApplicationService&quot;\n        }\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n        from {\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n        }\n    }\n\n    dependencies {\n        implementation('org.springframework.boot:spring-boot-starter-web')\n    }\n}\n\nproject(':application-service-discovery') {\n\n    jar {\n        manifest {\n            attributes &quot;Main-Class&quot;: &quot;com.application.service.discovery.ServiceDiscoveryApplication&quot;\n        }\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n        from {\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n        }\n        exclude 'META-INF/*.RSA'\n        exclude 'META-INF/*.SF'\n        exclude 'META-INF/*.DSA'\n    }\n\n    dependencies {\n        api('org.springframework.cloud:spring-cloud-starter-netflix-eureka-server')\n    }\n}\n\n\nproject(':application-user-management-client-lib') {\n    jar {\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n        from {\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n        }\n        exclude 'META-INF/*.RSA'\n        exclude 'META-INF/*.SF'\n        exclude 'META-INF/*.DSA'\n    }\n    dependencies {\n        api('org.springframework.boot:spring-boot-starter-data-jpa')\n    }\n}\n\nproject(':application-user-management') {\n\n    jar {\n        manifest {\n            attributes &quot;Main-Class&quot;: &quot;com.application.service.usermanagement.UserManagementService&quot;\n        }\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n        from {\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n        }\n        exclude 'META-INF/*.RSA'\n        exclude 'META-INF/*.SF'\n        exclude 'META-INF/*.DSA'\n    }\n\n    dependencies {\n        api project(':application-commons-lib')\n        api project(':application-user-management-client-lib')\n\n        implementation('org.springframework.boot:spring-boot-starter-web')\n        api('org.springframework.cloud:spring-cloud-starter-netflix-eureka-client')\n        api('org.springframework.cloud:spring-cloud-starter-openfeign')\n        api('org.springdoc:springdoc-openapi-ui:1.7.0')\n        api('com.h2database:h2:2.1.214')\n        api('org.springframework.boot:spring-boot-starter-security')\n        api('com.auth0:java-jwt:4.4.0')\n    }\n}\n\nproject(':application-api-gateway') {\n    jar {\n        manifest {\n            attributes &quot;Main-Class&quot;: &quot;com.application.service.gateway.ApiGatewayService&quot;\n        }\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n        from {\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n        }\n        exclude 'META-INF/*.RSA'\n        exclude 'META-INF/*.SF'\n        exclude 'META-INF/*.DSA'\n    }\n\n    dependencies {\n\n        api('org.springframework.boot:spring-boot-starter-actuator')\n        api('org.springframework.cloud:spring-cloud-starter-gateway')\n        api('org.springframework.cloud:spring-cloud-starter-netflix-eureka-client')\n        api('org.springframework.cloud:spring-cloud-starter-openfeign')\n        api('com.auth0:java-jwt:4.4.0')\n\n    }\n}\n\nproject(':application-ledger') {\n    jar {\n        manifest {\n            attributes &quot;Main-Class&quot;: &quot;com.application.service.ledger.LedgerApplication&quot;\n        }\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n        from {\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n        }\n        exclude 'META-INF/*.RSA'\n        exclude 'META-INF/*.SF'\n        exclude 'META-INF/*.DSA'\n    }\n\n    dependencies {\n        api project(':application-user-management-client-lib')\n\n        implementation('org.springframework.boot:spring-boot-starter-web')\n        implementation('org.springframework.boot:spring-boot-starter-validation')\n        api('org.springframework.boot:spring-boot-starter-data-jpa')\n        api('org.springframework.cloud:spring-cloud-starter-netflix-eureka-client')\n        api('org.springframework.cloud:spring-cloud-starter-openfeign')\n        api('com.h2database:h2:2.1.214')\n\n        testImplementation('org.junit.vintage:junit-vintage-engine:5.9.3')\n\n    }\n}\n\n</code></pre>\n<p>As I have five different sub projects or projects which will be deployed as independent fat jar. But when I run the jar task it creates the jar and when I start the start it displays that application started successfully but after that it closes the application. I mean application is not always listening to the port in fact it starts and closes the application</p>\n<pre><code>21:15:53.725 [main] INFO com.application.service.discovery.ServiceDiscoveryApplication -- No active profile set, falling back to 1 default profile: &quot;default&quot;\n21:15:54.312 [main] INFO com.application.service.discovery.ServiceDiscoveryApplication -- Started ServiceDiscoveryApplication in 0.896 seconds (process running for 1.355)\n\nProcess finished with exit code 0\n</code></pre>\n<p>Where as for other project of UserManagement it gives error for repository</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.application.service.usermanagement.repository.UserLoginOTPRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1824)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1383)\n</code></pre>\n<p>but when I start the application from Intellij then it runs without any issues.</p>\n<p>May I know why this is happening ? I highly appreciate help.</p>\n<p>I tried with multiple spring configuration changes for error but nothing is working.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19580981,"reputation":106,"user_id":14330061,"display_name":"dauthDaert06"},"score":0,"creation_date":1689317539,"post_id":76681253,"comment_id":135199053,"body_markdown":"Custom exception should work. You can create a @RestControllerAdvice and catch that exception there, return whatever Http code and body you want. You can refer to [this](https://www.baeldung.com/exception-handling-for-rest-with-spring)","body":"Custom exception should work. You can create a @RestControllerAdvice and catch that exception there, return whatever Http code and body you want. You can refer to <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":5808495,"reputation":219,"user_id":4580401,"accept_rate":57,"display_name":"JSB"},"score":0,"creation_date":1689753135,"post_id":76681253,"comment_id":135256139,"body_markdown":"Ah i guess i couldn&#39;t just throw an error of type response but your solution was indeed a better one. the intercept just worked Thx!","body":"Ah i guess i couldn&#39;t just throw an error of type response but your solution was indeed a better one. the intercept just worked Thx!"}],"owner":{"account_id":5808495,"reputation":219,"user_id":4580401,"accept_rate":57,"display_name":"JSB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689263290,"creation_date":1689263290,"question_id":76681253,"body_markdown":"Hi i am building a springboot application which has lots of rest calls to a third party.\r\nall these rest calls have mappers that map to my models.\r\n\r\nIf one of these rest calls returns a no-content or created i want to to skip the whole return chain.\r\n\r\nIf i already know its an empty body is there a way to &quot;throw&quot; a response entity?\r\nOr am i doomed to check in all the mappers and other checks for an empty body?\r\n\r\nI feel like i can create a custom exception and throw this with a http 2xx code.\r\n\r\nexample:\r\n ```\r\n    if (response.getStatusCode().is2xxSuccessful() &amp;&amp; !response.hasBody()) {\r\n      // but this one also has an error object body in the response\r\n      throw new ResponseStatusException(response.getStatusCode());\r\n    }\r\n    if (HttpStatus.NOT_FOUND.equals(response.getStatusCode())) {\r\n      throw new ResponseStatusException.builder(response.getStatusCode())\r\n ```\r\n\r\nAny ideas are welcome","title":"Is there a way to bypass the return flow and throw a response.no_content?","body":"<p>Hi i am building a springboot application which has lots of rest calls to a third party.\nall these rest calls have mappers that map to my models.</p>\n<p>If one of these rest calls returns a no-content or created i want to to skip the whole return chain.</p>\n<p>If i already know its an empty body is there a way to &quot;throw&quot; a response entity?\nOr am i doomed to check in all the mappers and other checks for an empty body?</p>\n<p>I feel like i can create a custom exception and throw this with a http 2xx code.</p>\n<p>example:</p>\n<pre><code>   if (response.getStatusCode().is2xxSuccessful() &amp;&amp; !response.hasBody()) {\n     // but this one also has an error object body in the response\n     throw new ResponseStatusException(response.getStatusCode());\n   }\n   if (HttpStatus.NOT_FOUND.equals(response.getStatusCode())) {\n     throw new ResponseStatusException.builder(response.getStatusCode())\n</code></pre>\n<p>Any ideas are welcome</p>\n"},{"tags":["java","swing","notifications","awt","java-11"],"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689263210,"creation_date":1689254941,"question_id":76679916,"body_markdown":"I am using ch.swingfx.twinkle NotificationBuilder in my application.\r\n\r\n\r\n```\r\n\r\n\r\nNotificationBuilder builder = new NotificationBuilder().withMessage(message).withTitle(title).withStyle(notificationStyle).withFadeInAnimation(true).withFadeOutAnimation(true);\r\n\r\nbuilder.showNotification()\r\n\r\n```\r\n\r\nI want the notification to appear on the monitor screen my application is present. How to achieve the same ?\r\n\r\nI tried using withPosition but it did not work.\r\n\r\n```\r\nNotificationBuilder builder = new NotificationBuilder().withMessage(message).withTitle(title).withStyle(notificationStyle).withFadeInAnimation(true).withFadeOutAnimation(true).withPosition(\r\n            new ch.swingfx.twinkle.window.IPosition() {\r\n                @Override\r\n                public java.awt.Point getPosition(java.awt.Dimension dimension, java.awt.Insets insets,\r\n                                                  javax.swing.JWindow jWindow,\r\n                                                  ch.swingfx.twinkle.style.INotificationStyle iNotificationStyle) {\r\n                    JWindow window = new javax.swing.JWindow(this.getGraphicsConfiguration());\r\n                    int x = dimension.width / 2 - window.getWidth() / 2;\r\n                    int y = dimension.height / 2 - window.getHeight() / 2 - iNotificationStyle.getWindowInsets().bottom / 2 + iNotificationStyle.getWindowInsets().top / 2;\r\n                    return new Point(x, y);\r\n                }\r\n            });\r\n```\r\n\r\n\r\n\r\n","title":"Notification to show on the same screen as the application","body":"<p>I am using ch.swingfx.twinkle NotificationBuilder in my application.</p>\n<pre><code>\n\nNotificationBuilder builder = new NotificationBuilder().withMessage(message).withTitle(title).withStyle(notificationStyle).withFadeInAnimation(true).withFadeOutAnimation(true);\n\nbuilder.showNotification()\n\n</code></pre>\n<p>I want the notification to appear on the monitor screen my application is present. How to achieve the same ?</p>\n<p>I tried using withPosition but it did not work.</p>\n<pre><code>NotificationBuilder builder = new NotificationBuilder().withMessage(message).withTitle(title).withStyle(notificationStyle).withFadeInAnimation(true).withFadeOutAnimation(true).withPosition(\n            new ch.swingfx.twinkle.window.IPosition() {\n                @Override\n                public java.awt.Point getPosition(java.awt.Dimension dimension, java.awt.Insets insets,\n                                                  javax.swing.JWindow jWindow,\n                                                  ch.swingfx.twinkle.style.INotificationStyle iNotificationStyle) {\n                    JWindow window = new javax.swing.JWindow(this.getGraphicsConfiguration());\n                    int x = dimension.width / 2 - window.getWidth() / 2;\n                    int y = dimension.height / 2 - window.getHeight() / 2 - iNotificationStyle.getWindowInsets().bottom / 2 + iNotificationStyle.getWindowInsets().top / 2;\n                    return new Point(x, y);\n                }\n            });\n</code></pre>\n"},{"tags":["java","spell-checking","languagetool"],"answers":[{"comments":[{"owner":{"account_id":1816744,"reputation":4912,"user_id":1651689,"accept_rate":72,"display_name":"Ram G Athreya"},"score":0,"creation_date":1501568730,"post_id":29842510,"comment_id":77821664,"body_markdown":"Could you please provide more details on how to integrate this which would be very helpful. Thanks","body":"Could you please provide more details on how to integrate this which would be very helpful. Thanks"},{"owner":{"account_id":45396,"reputation":13926,"user_id":133776,"display_name":"Thomas J Bradley"},"score":1,"creation_date":1501639316,"post_id":29842510,"comment_id":77861673,"body_markdown":"Yes, I&#39;d like to know how to use `ignore.txt`. Where do I put it? Can it be used with the command-line version?","body":"Yes, I&#39;d like to know how to use <code>ignore.txt</code>. Where do I put it? Can it be used with the command-line version?"}],"tags":[],"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488896926,"creation_date":1429864555,"answer_id":29842510,"question_id":26003377,"body_markdown":"An `ignore.txt` file is supported since version 2.9. see the [CHANGES.txt](https://github.com/languagetool-org/languagetool/blob/master/languagetool-standalone/CHANGES.md) at bullet `-Spelling`.\r\n\r\nTwo word phrases are not supported. see the check in method `loadWordsToBeIgnored` in [SpellingCheckRule.java](https://github.com/languagetool-org/languagetool/blob/master/languagetool-core/src/main/java/org/languagetool/rules/spelling/SpellingCheckRule.java#L258). (if you would do so the check will fail with a &quot;RuntimeException: No space expected in ...&quot;)","title":"How to add two-word patterns to be ignored by LanguageTool?","body":"<p>An <code>ignore.txt</code> file is supported since version 2.9. see the <a href=\"https://github.com/languagetool-org/languagetool/blob/master/languagetool-standalone/CHANGES.md\" rel=\"nofollow noreferrer\">CHANGES.txt</a> at bullet <code>-Spelling</code>.</p>\n\n<p>Two word phrases are not supported. see the check in method <code>loadWordsToBeIgnored</code> in <a href=\"https://github.com/languagetool-org/languagetool/blob/master/languagetool-core/src/main/java/org/languagetool/rules/spelling/SpellingCheckRule.java#L258\" rel=\"nofollow noreferrer\">SpellingCheckRule.java</a>. (if you would do so the check will fail with a \"RuntimeException: No space expected in ...\")</p>\n"},{"tags":[],"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689262482,"creation_date":1689262482,"answer_id":76681141,"question_id":26003377,"body_markdown":"One approach might be to extend the existing SpellingCheckRule and override the method which generates potential spelling corrections. In the new method, we add logic that considers two words together as a single token. This might look something like the following:\r\n\r\n\r\n```python\r\nclass MultiWordSpellingCheckRule extends SpellingCheckRule {\r\n    private Set&lt;String&gt; ignoredTokens;\r\n\r\n    MultiWordSpellingCheckRule (ResourceBundle messages, Language language, UserConfig userConfig, List&lt;Language&gt; altLanguages, IgnoreWordsSupplier ignoreWordsSupplier) {\r\n        super(messages, language, userConfig, altLanguages, ignoreWordsSupplier);\r\n        ignoredTokens = new HashSet&lt;&gt;();\r\n    }\r\n\r\n    @Override\r\n    public RuleMatch[] match(AnalyzedSentence sentence) throws IOException {\r\n        String[] tokens = sentence.getText().split(&quot;\\\\s+&quot;);\r\n        for (int i = 0; i &lt; tokens.length - 1; i++) {\r\n            String twoWordToken = tokens[i] + &quot; &quot; + tokens[i+1];\r\n            if (ignoredTokens.contains(twoWordToken)) {\r\n                // Skip checking this two-word token.\r\n                i++;\r\n                continue;\r\n            }\r\n        }\r\n        return super.match(sentence);\r\n    }\r\n\r\n    public void addIgnoreTokens(List&lt;String&gt; tokens) {\r\n        ignoredTokens.addAll(tokens);\r\n    }\r\n}\r\n```\r\n\r\nYou can now add multi-word tokens to the list like so:\r\n\r\n```java\r\nString [] words = {&quot;word1&quot;, &quot;word2&quot;, &quot;Guest bathroom&quot;, &quot;French word&quot;, &quot;test application&quot;};\r\n```\r\n\r\nAlso, please note, you would need to deal with punctuation and other aspects of tokenization in a real-world scenario. The given code assumes only space-separated words.","title":"How to add two-word patterns to be ignored by LanguageTool?","body":"<p>One approach might be to extend the existing SpellingCheckRule and override the method which generates potential spelling corrections. In the new method, we add logic that considers two words together as a single token. This might look something like the following:</p>\n<pre class=\"lang-py prettyprint-override\"><code>class MultiWordSpellingCheckRule extends SpellingCheckRule {\n    private Set&lt;String&gt; ignoredTokens;\n\n    MultiWordSpellingCheckRule (ResourceBundle messages, Language language, UserConfig userConfig, List&lt;Language&gt; altLanguages, IgnoreWordsSupplier ignoreWordsSupplier) {\n        super(messages, language, userConfig, altLanguages, ignoreWordsSupplier);\n        ignoredTokens = new HashSet&lt;&gt;();\n    }\n\n    @Override\n    public RuleMatch[] match(AnalyzedSentence sentence) throws IOException {\n        String[] tokens = sentence.getText().split(&quot;\\\\s+&quot;);\n        for (int i = 0; i &lt; tokens.length - 1; i++) {\n            String twoWordToken = tokens[i] + &quot; &quot; + tokens[i+1];\n            if (ignoredTokens.contains(twoWordToken)) {\n                // Skip checking this two-word token.\n                i++;\n                continue;\n            }\n        }\n        return super.match(sentence);\n    }\n\n    public void addIgnoreTokens(List&lt;String&gt; tokens) {\n        ignoredTokens.addAll(tokens);\n    }\n}\n</code></pre>\n<p>You can now add multi-word tokens to the list like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String [] words = {&quot;word1&quot;, &quot;word2&quot;, &quot;Guest bathroom&quot;, &quot;French word&quot;, &quot;test application&quot;};\n</code></pre>\n<p>Also, please note, you would need to deal with punctuation and other aspects of tokenization in a real-world scenario. The given code assumes only space-separated words.</p>\n"}],"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1269,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":2,"score":22,"last_activity_date":1689262482,"creation_date":1411501132,"question_id":26003377,"body_markdown":"**Situation:**\r\n\r\nAs a workaround for the [not yet implemented feature to add a user dictionary of words to Languagetool][1], I came up with this code snippet:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    JLanguageTool langTool = new JLanguageTool(lang);\r\n\tlangTool.activateDefaultPatternRules();\r\n\tList&lt;Rule&gt; rules = langTool.getAllActiveRules();\r\n\tfor (Rule rule:rules) {\r\n\t\t// System.out.println(rule.getId());\r\n\t\tif (rule.getId().equals(&quot;GERMAN_SPELLER_RULE&quot;)) {\r\n\t\t\tif (rule instanceof SpellingCheckRule) {\r\n\t\t\t\tSpellingCheckRule srule=(SpellingCheckRule) rule;\r\n\t\t\t\tString [] words={&quot;word1&quot;, &quot;word2&quot;};\r\n\t\t\t\tList&lt;String&gt; tokens=new ArrayList&lt;String&gt;();\r\n\t\t\t\tfor (String word:words) {\r\n\t\t\t\t\ttokens.add(word);\r\n\t\t\t\t}\r\n\t\t\t\tsrule.addIgnoreTokens(tokens);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nwhich will nicely add the list of words specified by\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String [] words={&quot;word1&quot;, &quot;word2&quot;};\r\n\r\nto the list of ignored words. But how about word combinations/two word patterns\r\nlike &quot;Guest bathroom&quot;, &quot;French word&quot; &quot;test application&quot; - how could I get these ignored without modifying the orginal grammar file? I assume creating some user defined rule could do the trick and might also be a more elegant solution for the above code snippet. \r\n\r\n**Question:**\r\n\r\nWhat would be a working approach to get a user-dictionary work-around going that ignores single and two-word phrases?\r\n\r\n[1]: https://github.com/languagetool-org/languagetool/issues/65","title":"How to add two-word patterns to be ignored by LanguageTool?","body":"<p><strong>Situation:</strong></p>\n\n<p>As a workaround for the <a href=\"https://github.com/languagetool-org/languagetool/issues/65\" rel=\"noreferrer\">not yet implemented feature to add a user dictionary of words to Languagetool</a>, I came up with this code snippet:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>JLanguageTool langTool = new JLanguageTool(lang);\nlangTool.activateDefaultPatternRules();\nList&lt;Rule&gt; rules = langTool.getAllActiveRules();\nfor (Rule rule:rules) {\n    // System.out.println(rule.getId());\n    if (rule.getId().equals(\"GERMAN_SPELLER_RULE\")) {\n        if (rule instanceof SpellingCheckRule) {\n            SpellingCheckRule srule=(SpellingCheckRule) rule;\n            String [] words={\"word1\", \"word2\"};\n            List&lt;String&gt; tokens=new ArrayList&lt;String&gt;();\n            for (String word:words) {\n                tokens.add(word);\n            }\n            srule.addIgnoreTokens(tokens);\n        }\n    }\n}\n</code></pre>\n\n<p>which will nicely add the list of words specified by</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String [] words={\"word1\", \"word2\"};\n</code></pre>\n\n<p>to the list of ignored words. But how about word combinations/two word patterns\nlike \"Guest bathroom\", \"French word\" \"test application\" - how could I get these ignored without modifying the orginal grammar file? I assume creating some user defined rule could do the trick and might also be a more elegant solution for the above code snippet. </p>\n\n<p><strong>Question:</strong></p>\n\n<p>What would be a working approach to get a user-dictionary work-around going that ignores single and two-word phrases?</p>\n"},{"tags":["java","android","webview","anychart"],"comments":[{"owner":{"account_id":14770391,"reputation":113,"user_id":10667045,"display_name":"Buratino Apps"},"score":0,"creation_date":1681233745,"post_id":75988346,"comment_id":134022431,"body_markdown":"`minSdkVersion=29`","body":"<code>minSdkVersion=29</code>"},{"owner":{"account_id":17216852,"reputation":23,"user_id":12464661,"display_name":"fiefie"},"score":0,"creation_date":1682516479,"post_id":75988346,"comment_id":134228428,"body_markdown":"I have contacted Anychart via their support. They were looking into the issue, but gave not received an update for some time now.","body":"I have contacted Anychart via their support. They were looking into the issue, but gave not received an update for some time now."},{"owner":{"account_id":17216852,"reputation":23,"user_id":12464661,"display_name":"fiefie"},"score":0,"creation_date":1682516631,"post_id":75988346,"comment_id":134228466,"body_markdown":"Today I installed the latest Android Studio and updated all components. (my system was up to date before the new Android Studio release installation). Now the Heatmap chart is functioning correctly.","body":"Today I installed the latest Android Studio and updated all components. (my system was up to date before the new Android Studio release installation). Now the Heatmap chart is functioning correctly."}],"answers":[{"tags":[],"owner":{"account_id":17216852,"reputation":23,"user_id":12464661,"display_name":"fiefie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689262421,"creation_date":1682516821,"answer_id":76111541,"question_id":75988346,"body_markdown":"To correct this issue:\r\n\r\nMy code was correct, however at the end it wasn&#39;t drawing the view.\r\n\r\nadded after:\r\n```\r\nriskMap.data(data);\r\n        \r\nanyChartView.setChart(riskMap);\r\n```\r\n\r\nThis line to resolve the issue.\r\n```\r\nriskMap.draw(true);\r\n```\r\n\r\nIn other Anychart charts using Cartesian, such as bar, line, and combination graphs of bars and lines, etc....use:\r\n\r\nafter this:\r\n```\r\nanyChartView.setChart(cartesian);\r\n```\r\n\r\nAdd this line to draw the view:\r\n```\r\ncartesian.draw(true);\r\n```\r\n\r\neither way at the end a &quot;.draw()&quot; must be included.","title":"I am getting errors implementing a HeatMap Chart using Anychart via Android Studio","body":"<p>To correct this issue:</p>\n<p>My code was correct, however at the end it wasn't drawing the view.</p>\n<p>added after:</p>\n<pre><code>riskMap.data(data);\n        \nanyChartView.setChart(riskMap);\n</code></pre>\n<p>This line to resolve the issue.</p>\n<pre><code>riskMap.draw(true);\n</code></pre>\n<p>In other Anychart charts using Cartesian, such as bar, line, and combination graphs of bars and lines, etc....use:</p>\n<p>after this:</p>\n<pre><code>anyChartView.setChart(cartesian);\n</code></pre>\n<p>Add this line to draw the view:</p>\n<pre><code>cartesian.draw(true);\n</code></pre>\n<p>either way at the end a &quot;.draw()&quot; must be included.</p>\n"}],"owner":{"account_id":17216852,"reputation":23,"user_id":12464661,"display_name":"fiefie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76111541,"answer_count":1,"score":0,"last_activity_date":1689262421,"creation_date":1681231732,"question_id":75988346,"body_markdown":"I am trying to add an AnyChart HeatMap Chart to my ANdroid Studio Java app.\r\nTo learn about implementing it I am starting by using the AnyChart HeatMap exmaple code.\r\nUpon running my app and opening the activity window that displays the chart it shows the following error in the run tab at the bottom of Android Studio. Also, the app when the activity window opens for the HeatMap Chart is comes up and a white blank window.\r\n\r\n[app upon opening activity ][1]\r\n\r\nI get this in my error in the &quot;run&quot; tab in Android studio:\r\n\r\nD/EGL_emulation: app_time_stats: avg=867.14ms min=16.75ms max=6646.87ms count=8\r\nI/WebViewFactory: Loading com.google.android.webview version 95.0.4638.74 (code 463807437)\r\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;isTagEnabled(J)Z (unsupported, reflection, allowed)\r\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;traceBegin(JLjava/lang/String;)V (unsupported, reflection, allowed)\r\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;traceEnd(J)V (unsupported, reflection, allowed)\r\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;asyncTraceBegin(JLjava/lang/String;I)V (unsupported, reflection, allowed)\r\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;asyncTraceEnd(JLjava/lang/String;I)V (unsupported, reflection, allowed)\r\nI/cr_WVCFactoryProvider: Loaded version=95.0.4638.74 minSdkVersion=29 isBundle=false multiprocess=true packageId=2\r\nI/cr_VariationsUtils: Failed reading seed file &quot;/data/user/0/com.example.hortus/app_webview/variations_seed_new&quot;\r\nI/cr_VariationsUtils: Failed reading seed file &quot;/data/user/0/com.example.hortus/app_webview/variations_seed&quot;\r\nI/cr_LibraryLoader: Successfully loaded native library\r\nI/cr_CachingUmaRecorder: Flushed 8 samples from 8 histograms.\r\nW/chromium: [WARNING:dns_config_service_android.cc(153)] Failed to read DnsConfig.\r\nE/chromium: [ERROR:network_service_instance_impl.cc(179)] Failed to grant sandbox access to network context data for /data/user/0/com.example.hortus/app_webview/Default with result 7: No such file or directory (2)\r\nD/CompatibilityChangeReporter: Compat change id reported: 171228096; UID 10148; state: ENABLED\r\nW/.example.hortu: Accessing hidden method Landroid/media/AudioManager;-&gt;getOutputLatency(I)I (unsupported, reflection, allowed)\r\nD/HostConnection: createUnique: call\r\nD/HostConnection: HostConnection::get() New Host Connection established 0x7c704dc1e590, tid 16265\r\nW/cr_media: Requires BLUETOOTH permission\r\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_vulkan_async_qsri ANDROID_EMU_read_color_buffer_dma ANDROID_EMU_hwc_multi_configs GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \r\nE/chromium: [ERROR:gl_surface_egl.cc(584)] eglChooseConfig failed with error EGL_SUCCESS\r\nD/EGL_emulation: eglCreateContext: 0x7c704dc1d8d0: maj 2 min 0 rcv 2\r\nD/EGL_emulation: eglMakeCurrent: 0x7c704dc1d8d0: ver 2 0 (tinfo 0x7c7272a2a100) (first time)\r\nE/chromium: [ERROR:gl_surface_egl.cc(584)] eglChooseConfig failed with error EGL_SUCCESS\r\nD/EGL_emulation: eglCreateContext: 0x7c704dc20c90: maj 2 min 0 rcv 2\r\nD/EGL_emulation: app_time_stats: avg=8.06ms min=3.42ms max=31.32ms count=33\r\nI/Choreographer: Skipped 53 frames!  The application may be doing too much work on its main thread.\r\nD/EGL_emulation: eglCreateContext: 0x7c704dc1d8d0: maj 2 min 0 rcv 2\r\nI/OpenGLRenderer: Davey! duration=1000ms; Flags=1, FrameTimelineVsyncId=19783, IntendedVsync=5347614875222, Vsync=5348498208520, InputEventId=0, HandleInputStart=5348507529000, AnimationStart=5348507578000, PerformTraversalsStart=5348510589100, DrawStart=5348585297400, FrameDeadline=5347631541888, FrameInterval=5348506764600, FrameStartTime=16666666, SyncQueued=5348588150600, SyncStart=5348609703100, IssueDrawCommandsStart=5348610035600, SwapBuffers=5348619661900, FrameCompleted=5348636693000, DequeueBufferDuration=36800, QueueBufferDuration=15211600, GpuCompleted=5348636405500, SwapBuffersCompleted=5348636693000, DisplayPresentTime=0, \r\nD/EGL_emulation: app_time_stats: avg=249.81ms min=34.80ms max=1027.62ms count=6\r\n\r\n\r\nmy java code is:\r\n\r\n```\r\npackage com.example.hortus;\r\n\r\n\r\n\r\nimport android.os.Bundle;\r\n\r\nimport android.webkit.WebView;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.anychart.AnyChart;\r\nimport com.anychart.AnyChartView;\r\nimport com.anychart.chart.common.dataentry.DataEntry;\r\nimport com.anychart.chart.common.dataentry.HeatDataEntry;\r\nimport com.anychart.charts.HeatMap;\r\nimport com.anychart.enums.SelectionMode;\r\nimport com.anychart.graphics.vector.SolidFill;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class VPDChartActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.activity_vpd_chart);\r\n\r\n        AnyChartView anyChartView = findViewById(R.id.any_chart_view);\r\n       anyChartView.webview.getSettings().setDomStorageEnabled(true);\r\n        anyChartView.setProgressBar(findViewById(R.id.progress_bar));\r\n\r\n\r\n\r\n        HeatMap riskMap = AnyChart.heatMap();\r\n\r\n        riskMap.stroke(&quot;1 #fff&quot;);\r\n        riskMap.hovered()\r\n                .stroke(&quot;6 #fff&quot;)\r\n                .fill(new SolidFill(&quot;#545f69&quot;, 1d))\r\n                .labels(&quot;{ fontColor: &#39;#fff&#39; }&quot;);\r\n\r\n        riskMap.interactivity().selectionMode(SelectionMode.NONE);\r\n\r\n        riskMap.title().enabled(true);\r\n        riskMap.title()\r\n                .text(&quot;Risk Matrix in Project Server&quot;)\r\n                .padding(0d, 0d, 20d, 0d);\r\n\r\n        riskMap.labels().enabled(true);\r\n        riskMap.labels()\r\n                .minFontSize(14d)\r\n                .format(&quot;function() {\\n&quot; +\r\n                        &quot;      var namesList = [\\&quot;Low\\&quot;, \\&quot;Medium\\&quot;, \\&quot;High\\&quot;, \\&quot;Extreme\\&quot;];\\n&quot; +\r\n                        &quot;      return namesList[this.heat];\\n&quot; +\r\n                        &quot;    }&quot;);\r\n\r\n        riskMap.yAxis(0).stroke(null);\r\n        riskMap.yAxis(0).labels().padding(0d, 15d, 0d, 0d);\r\n        riskMap.yAxis(0).ticks(false);\r\n        riskMap.xAxis(0).stroke(null);\r\n        riskMap.xAxis(0).ticks(false);\r\n\r\n        riskMap.tooltip().title().useHtml(true);\r\n        riskMap.tooltip()\r\n                .useHtml(true)\r\n                .titleFormat(&quot;function() {\\n&quot; +\r\n                        &quot;      var namesList = [\\&quot;Low\\&quot;, \\&quot;Medium\\&quot;, \\&quot;High\\&quot;, \\&quot;Extreme\\&quot;];\\n&quot; +\r\n                        &quot;      return &#39;&lt;b&gt;&#39; + namesList[this.heat] + &#39;&lt;/b&gt; Residual Risk&#39;;\\n&quot; +\r\n                        &quot;    }&quot;)\r\n                .format(&quot;function () {\\n&quot; +\r\n                        &quot;       return &#39;&lt;span style=\\&quot;color: #CECECE\\&quot;&gt;Likelihood: &lt;/span&gt;&#39; + this.x + &#39;&lt;br/&gt;&#39; +\\n&quot; +\r\n                        &quot;           &#39;&lt;span style=\\&quot;color: #CECECE\\&quot;&gt;Consequence: &lt;/span&gt;&#39; + this.y;\\n&quot; +\r\n                        &quot;   }&quot;);\r\n\r\n        List&lt;DataEntry&gt; data = new ArrayList&lt;&gt;();\r\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Minor&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Moderate&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Major&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Extreme&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Minor&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Moderate&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Major&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Extreme&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Minor&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Moderate&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Major&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Extreme&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Minor&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Moderate&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Major&quot;, 2, &quot;#ef6c00&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Extreme&quot;, 2, &quot;#ef6c00&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Minor&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Moderate&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Major&quot;, 2, &quot;#ef6c00&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Extreme&quot;, 3, &quot;#d84315&quot;));\r\n\r\n        riskMap.data(data);\r\n\r\n\r\n        anyChartView.setChart(riskMap);\r\n    }\r\n\r\n    private static class CustomHeatDataEntry extends HeatDataEntry {\r\n        CustomHeatDataEntry(String x, String y, Integer heat, String fill) {\r\n            super(x, y, heat);\r\n            setValue(&quot;fill&quot;, fill);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nmy xml code is:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.VPDChartActivity&quot;&gt;\r\n\r\n    &lt;!-- Page Title --&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/text_view_vpd_title&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/title_activity_vpd_hm_chart&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/progress_bar&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/progress_bar&quot; /&gt;\r\n\r\n\r\n    &lt;com.anychart.AnyChartView\r\n        android:id=&quot;@+id/any_chart_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n    &lt;ProgressBar\r\n        android:id=&quot;@+id/progress_bar&quot;\r\n        style=&quot;?android:attr/progressBarStyleHorizontal&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/any_chart_view&quot; /&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\nI have searched the internet to no avail....\r\n\r\nI have found that setting:\r\n`anyChartView.webview.getSettings().setDomStorageEnabled(true);`\r\n\r\nshould fix the issue but when I try to use it the import of &quot;import android.webkit.WebView;&quot; stays grey and shows it isn&#39;t used.\r\nas well as the &quot;webview&quot; of `anyChartView.webview.getSettings().setDomStorageEnabled(true);` show red and states &quot;cannot resolve symbol.\r\n\r\nI understand what &quot;cannot resolve symbol means and thought the import would solve that.\r\n\r\nI am just stuck and after three weeks on this I am finally coming here for help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IWt3Y.png","title":"I am getting errors implementing a HeatMap Chart using Anychart via Android Studio","body":"<p>I am trying to add an AnyChart HeatMap Chart to my ANdroid Studio Java app.\nTo learn about implementing it I am starting by using the AnyChart HeatMap exmaple code.\nUpon running my app and opening the activity window that displays the chart it shows the following error in the run tab at the bottom of Android Studio. Also, the app when the activity window opens for the HeatMap Chart is comes up and a white blank window.</p>\n<p><a href=\"https://i.stack.imgur.com/IWt3Y.png\" rel=\"nofollow noreferrer\">app upon opening activity </a></p>\n<p>I get this in my error in the &quot;run&quot; tab in Android studio:</p>\n<p>D/EGL_emulation: app_time_stats: avg=867.14ms min=16.75ms max=6646.87ms count=8\nI/WebViewFactory: Loading com.google.android.webview version 95.0.4638.74 (code 463807437)\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;isTagEnabled(J)Z (unsupported, reflection, allowed)\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;traceBegin(JLjava/lang/String;)V (unsupported, reflection, allowed)\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;traceEnd(J)V (unsupported, reflection, allowed)\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;asyncTraceBegin(JLjava/lang/String;I)V (unsupported, reflection, allowed)\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;asyncTraceEnd(JLjava/lang/String;I)V (unsupported, reflection, allowed)\nI/cr_WVCFactoryProvider: Loaded version=95.0.4638.74 minSdkVersion=29 isBundle=false multiprocess=true packageId=2\nI/cr_VariationsUtils: Failed reading seed file &quot;/data/user/0/com.example.hortus/app_webview/variations_seed_new&quot;\nI/cr_VariationsUtils: Failed reading seed file &quot;/data/user/0/com.example.hortus/app_webview/variations_seed&quot;\nI/cr_LibraryLoader: Successfully loaded native library\nI/cr_CachingUmaRecorder: Flushed 8 samples from 8 histograms.\nW/chromium: [WARNING:dns_config_service_android.cc(153)] Failed to read DnsConfig.\nE/chromium: [ERROR:network_service_instance_impl.cc(179)] Failed to grant sandbox access to network context data for /data/user/0/com.example.hortus/app_webview/Default with result 7: No such file or directory (2)\nD/CompatibilityChangeReporter: Compat change id reported: 171228096; UID 10148; state: ENABLED\nW/.example.hortu: Accessing hidden method Landroid/media/AudioManager;-&gt;getOutputLatency(I)I (unsupported, reflection, allowed)\nD/HostConnection: createUnique: call\nD/HostConnection: HostConnection::get() New Host Connection established 0x7c704dc1e590, tid 16265\nW/cr_media: Requires BLUETOOTH permission\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_vulkan_async_qsri ANDROID_EMU_read_color_buffer_dma ANDROID_EMU_hwc_multi_configs GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2\nE/chromium: [ERROR:gl_surface_egl.cc(584)] eglChooseConfig failed with error EGL_SUCCESS\nD/EGL_emulation: eglCreateContext: 0x7c704dc1d8d0: maj 2 min 0 rcv 2\nD/EGL_emulation: eglMakeCurrent: 0x7c704dc1d8d0: ver 2 0 (tinfo 0x7c7272a2a100) (first time)\nE/chromium: [ERROR:gl_surface_egl.cc(584)] eglChooseConfig failed with error EGL_SUCCESS\nD/EGL_emulation: eglCreateContext: 0x7c704dc20c90: maj 2 min 0 rcv 2\nD/EGL_emulation: app_time_stats: avg=8.06ms min=3.42ms max=31.32ms count=33\nI/Choreographer: Skipped 53 frames!  The application may be doing too much work on its main thread.\nD/EGL_emulation: eglCreateContext: 0x7c704dc1d8d0: maj 2 min 0 rcv 2\nI/OpenGLRenderer: Davey! duration=1000ms; Flags=1, FrameTimelineVsyncId=19783, IntendedVsync=5347614875222, Vsync=5348498208520, InputEventId=0, HandleInputStart=5348507529000, AnimationStart=5348507578000, PerformTraversalsStart=5348510589100, DrawStart=5348585297400, FrameDeadline=5347631541888, FrameInterval=5348506764600, FrameStartTime=16666666, SyncQueued=5348588150600, SyncStart=5348609703100, IssueDrawCommandsStart=5348610035600, SwapBuffers=5348619661900, FrameCompleted=5348636693000, DequeueBufferDuration=36800, QueueBufferDuration=15211600, GpuCompleted=5348636405500, SwapBuffersCompleted=5348636693000, DisplayPresentTime=0,\nD/EGL_emulation: app_time_stats: avg=249.81ms min=34.80ms max=1027.62ms count=6</p>\n<p>my java code is:</p>\n<pre><code>package com.example.hortus;\n\n\n\nimport android.os.Bundle;\n\nimport android.webkit.WebView;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.anychart.AnyChart;\nimport com.anychart.AnyChartView;\nimport com.anychart.chart.common.dataentry.DataEntry;\nimport com.anychart.chart.common.dataentry.HeatDataEntry;\nimport com.anychart.charts.HeatMap;\nimport com.anychart.enums.SelectionMode;\nimport com.anychart.graphics.vector.SolidFill;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class VPDChartActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_vpd_chart);\n\n        AnyChartView anyChartView = findViewById(R.id.any_chart_view);\n       anyChartView.webview.getSettings().setDomStorageEnabled(true);\n        anyChartView.setProgressBar(findViewById(R.id.progress_bar));\n\n\n\n        HeatMap riskMap = AnyChart.heatMap();\n\n        riskMap.stroke(&quot;1 #fff&quot;);\n        riskMap.hovered()\n                .stroke(&quot;6 #fff&quot;)\n                .fill(new SolidFill(&quot;#545f69&quot;, 1d))\n                .labels(&quot;{ fontColor: '#fff' }&quot;);\n\n        riskMap.interactivity().selectionMode(SelectionMode.NONE);\n\n        riskMap.title().enabled(true);\n        riskMap.title()\n                .text(&quot;Risk Matrix in Project Server&quot;)\n                .padding(0d, 0d, 20d, 0d);\n\n        riskMap.labels().enabled(true);\n        riskMap.labels()\n                .minFontSize(14d)\n                .format(&quot;function() {\\n&quot; +\n                        &quot;      var namesList = [\\&quot;Low\\&quot;, \\&quot;Medium\\&quot;, \\&quot;High\\&quot;, \\&quot;Extreme\\&quot;];\\n&quot; +\n                        &quot;      return namesList[this.heat];\\n&quot; +\n                        &quot;    }&quot;);\n\n        riskMap.yAxis(0).stroke(null);\n        riskMap.yAxis(0).labels().padding(0d, 15d, 0d, 0d);\n        riskMap.yAxis(0).ticks(false);\n        riskMap.xAxis(0).stroke(null);\n        riskMap.xAxis(0).ticks(false);\n\n        riskMap.tooltip().title().useHtml(true);\n        riskMap.tooltip()\n                .useHtml(true)\n                .titleFormat(&quot;function() {\\n&quot; +\n                        &quot;      var namesList = [\\&quot;Low\\&quot;, \\&quot;Medium\\&quot;, \\&quot;High\\&quot;, \\&quot;Extreme\\&quot;];\\n&quot; +\n                        &quot;      return '&lt;b&gt;' + namesList[this.heat] + '&lt;/b&gt; Residual Risk';\\n&quot; +\n                        &quot;    }&quot;)\n                .format(&quot;function () {\\n&quot; +\n                        &quot;       return '&lt;span style=\\&quot;color: #CECECE\\&quot;&gt;Likelihood: &lt;/span&gt;' + this.x + '&lt;br/&gt;' +\\n&quot; +\n                        &quot;           '&lt;span style=\\&quot;color: #CECECE\\&quot;&gt;Consequence: &lt;/span&gt;' + this.y;\\n&quot; +\n                        &quot;   }&quot;);\n\n        List&lt;DataEntry&gt; data = new ArrayList&lt;&gt;();\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Minor&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Moderate&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Major&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Extreme&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Minor&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Moderate&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Major&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Extreme&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Minor&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Moderate&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Major&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Extreme&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Minor&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Moderate&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Major&quot;, 2, &quot;#ef6c00&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Extreme&quot;, 2, &quot;#ef6c00&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Minor&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Moderate&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Major&quot;, 2, &quot;#ef6c00&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Extreme&quot;, 3, &quot;#d84315&quot;));\n\n        riskMap.data(data);\n\n\n        anyChartView.setChart(riskMap);\n    }\n\n    private static class CustomHeatDataEntry extends HeatDataEntry {\n        CustomHeatDataEntry(String x, String y, Integer heat, String fill) {\n            super(x, y, heat);\n            setValue(&quot;fill&quot;, fill);\n        }\n\n    }\n}\n</code></pre>\n<p>my xml code is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.VPDChartActivity&quot;&gt;\n\n    &lt;!-- Page Title --&gt;\n    &lt;TextView\n        android:id=&quot;@+id/text_view_vpd_title&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/title_activity_vpd_hm_chart&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;24sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:visibility=&quot;visible&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/progress_bar&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/progress_bar&quot; /&gt;\n\n\n    &lt;com.anychart.AnyChartView\n        android:id=&quot;@+id/any_chart_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:visibility=&quot;visible&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/progress_bar&quot;\n        style=&quot;?android:attr/progressBarStyleHorizontal&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:visibility=&quot;visible&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/any_chart_view&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I have searched the internet to no avail....</p>\n<p>I have found that setting:\n<code>anyChartView.webview.getSettings().setDomStorageEnabled(true);</code></p>\n<p>should fix the issue but when I try to use it the import of &quot;import android.webkit.WebView;&quot; stays grey and shows it isn't used.\nas well as the &quot;webview&quot; of <code>anyChartView.webview.getSettings().setDomStorageEnabled(true);</code> show red and states &quot;cannot resolve symbol.</p>\n<p>I understand what &quot;cannot resolve symbol means and thought the import would solve that.</p>\n<p>I am just stuck and after three weeks on this I am finally coming here for help.</p>\n"},{"tags":["java","sonarqube","sonar-runner","sonarqube5.1","sonarqube-scan"],"comments":[{"owner":{"account_id":3148809,"reputation":22476,"user_id":2662707,"display_name":"G. Ann - SonarSource Team"},"score":0,"creation_date":1473156294,"post_id":39290983,"comment_id":66022072,"body_markdown":"try appending `-DsonarRunner.dumpToFile=out.txt` to the command line &amp; examining the paths","body":"try appending <code>-DsonarRunner.dumpToFile=out.txt</code> to the command line &amp; examining the paths"},{"owner":{"account_id":3108503,"reputation":413,"user_id":2630810,"display_name":"Mark"},"score":0,"creation_date":1473321844,"post_id":39290983,"comment_id":66098166,"body_markdown":"Thanks for the reply, but this gave me no knew information. I&#39;ve updated my post with the new information. Could you take a further look please?","body":"Thanks for the reply, but this gave me no knew information. I&#39;ve updated my post with the new information. Could you take a further look please?"},{"owner":{"account_id":3148809,"reputation":22476,"user_id":2662707,"display_name":"G. Ann - SonarSource Team"},"score":0,"creation_date":1473326324,"post_id":39290983,"comment_id":66100736,"body_markdown":"I find the mix of \\\\ and / in your resolved paths odd. Can you try with all the slashes pointing in the same direction?","body":"I find the mix of \\\\ and / in your resolved paths odd. Can you try with all the slashes pointing in the same direction?"},{"owner":{"account_id":3108503,"reputation":413,"user_id":2630810,"display_name":"Mark"},"score":0,"creation_date":1474011613,"post_id":39290983,"comment_id":66367386,"body_markdown":"Did another analysis with only back slashes, but still no result.","body":"Did another analysis with only back slashes, but still no result."},{"owner":{"account_id":3148809,"reputation":22476,"user_id":2662707,"display_name":"G. Ann - SonarSource Team"},"score":0,"creation_date":1474631918,"post_id":39290983,"comment_id":66622108,"body_markdown":"I did try reproducing this, but I&#39;m on Linux &amp; I can&#39;t rule that out as a factor. I&#39;d try: 1) removing property interpolation from your paths (just to make sure) 2) upgrading. :-/","body":"I did try reproducing this, but I&#39;m on Linux &amp; I can&#39;t rule that out as a factor. I&#39;d try: 1) removing property interpolation from your paths (just to make sure) 2) upgrading. :-/"},{"owner":{"account_id":3108503,"reputation":413,"user_id":2630810,"display_name":"Mark"},"score":0,"creation_date":1478685450,"post_id":39290983,"comment_id":68251119,"body_markdown":"I haven&#39;t forgetting this issue, it is still on my to do list. I just haven&#39;t had time to properly do this (full sprint backlog). I will comment when I did an analyze with full paths. Upgrading is on the back log, I doubt that I can do that soonish. I will be upgrading to 5.6.3 LTS.","body":"I haven&#39;t forgetting this issue, it is still on my to do list. I just haven&#39;t had time to properly do this (full sprint backlog). I will comment when I did an analyze with full paths. Upgrading is on the back log, I doubt that I can do that soonish. I will be upgrading to 5.6.3 LTS."},{"owner":{"account_id":3108503,"reputation":413,"user_id":2630810,"display_name":"Mark"},"score":0,"creation_date":1485521043,"post_id":39290983,"comment_id":70970375,"body_markdown":"I upgraded to SonarQube 5.6.5 LTS. It seems as if the problem has gone away. I can&#39;t see the same error in the log anymore. How can I see if this problem really has gone away, i.e., what functionality did I gain?","body":"I upgraded to SonarQube 5.6.5 LTS. It seems as if the problem has gone away. I can&#39;t see the same error in the log anymore. How can I see if this problem really has gone away, i.e., what functionality did I gain?"},{"owner":{"account_id":3108503,"reputation":413,"user_id":2630810,"display_name":"Mark"},"score":0,"creation_date":1485758549,"post_id":39290983,"comment_id":71040803,"body_markdown":"Is this perhaps related to the dropped DSM features? http://blog.hello2morrow.com/2017/01/use-sonarqube-sonargraph-plugin-to-detect-cyclic-dependencies/","body":"Is this perhaps related to the dropped DSM features? <a href=\"http://blog.hello2morrow.com/2017/01/use-sonarqube-sonargraph-plugin-to-detect-cyclic-dependencies/\" rel=\"nofollow noreferrer\">blog.hello2morrow.com/2017/01/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3108503,"reputation":413,"user_id":2630810,"display_name":"Mark"},"score":9,"creation_date":1518769459,"post_id":47308511,"comment_id":84648739,"body_markdown":"I think you are confused about the properties. Per documentation is the property you mentioned &quot;sonar.java.libraries&quot;, not &quot;sonar.java.binaries&quot;. https://docs.sonarqube.org/display/PLUG/Java+Plugin+and+Bytecode","body":"I think you are confused about the properties. Per documentation is the property you mentioned &quot;sonar.java.libraries&quot;, not &quot;sonar.java.binaries&quot;. <a href=\"https://docs.sonarqube.org/display/PLUG/Java+Plugin+and+Bytecode\" rel=\"nofollow noreferrer\">docs.sonarqube.org/display/PLUG/Java+Plugin+and+Bytecode</a>"},{"owner":{"account_id":11847624,"reputation":941,"user_id":8669765,"display_name":"Shashank Bodkhe"},"score":1,"creation_date":1623934017,"post_id":47308511,"comment_id":120222500,"body_markdown":"as per doc ---\n\nsonar.java.binaries  = Comma-separated paths to directories containing the compiled bytecode files corresponding to your source files.\n\n AND \nsonar.java.libraries\t=Comma-separated paths to files with third-party libraries (JAR or Zip files) used by your project. Wildcards can be used: sonar.java.libraries=path/to/Library.jar,directory/**/*.jar\n\n\n\n-Dsonar.java.binaries=.build\\libs\\ ....so here we should have libraries and not binaries","body":"as per doc ---  sonar.java.binaries  = Comma-separated paths to directories containing the compiled bytecode files corresponding to your source files.   AND  sonar.java.libraries\t=Comma-separated paths to files with third-party libraries (JAR or Zip files) used by your project. Wildcards can be used: sonar.java.libraries=path/to/Library.jar,directory/**/*.jar    -Dsonar.java.binaries=.build\\libs\\ ....so here we should have libraries and not binaries"}],"tags":[],"owner":{"account_id":4125740,"reputation":1190,"user_id":3384941,"accept_rate":67,"display_name":"David Hunsicker"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1554388925,"creation_date":1510752111,"answer_id":47308511,"question_id":39290983,"body_markdown":"This is what I use, and it works.\r\n\r\n    sonar-scanner -Dsonar.projectKey=projectName\r\n    -Dsonar.gitlab.commit_sha=$CI_BUILD_REF\r\n    -Dsonar.gitlab.ref_name=$CI_BUILD_REF_NAME -Dsonar.sources=directory\\src\\\r\n    -Dsonar.java.binaries=.build\\libs\\\r\n\r\nYou need to point sonar.java.binaries to a directory that contains jars. I would&#39;t try to get fancy with wildcards and file extensions, that&#39;s not the same thing. You need a directory as an argument, not a regular expression for files.\r\n\r\nI don&#39;t know everything about sonar scanner, but my configuration works.\r\n\r\nTake my example into context, I use it in a gitlab runner pipeline. Your double backslashes should be fine, but you can always substitute them for forwards slashes in your config files.\r\n\r\n","title":"How to correctly configure the property &quot;sonar.java.binaries&quot;?","body":"<p>This is what I use, and it works.</p>\n\n<pre><code>sonar-scanner -Dsonar.projectKey=projectName\n-Dsonar.gitlab.commit_sha=$CI_BUILD_REF\n-Dsonar.gitlab.ref_name=$CI_BUILD_REF_NAME -Dsonar.sources=directory\\src\\\n-Dsonar.java.binaries=.build\\libs\\\n</code></pre>\n\n<p>You need to point sonar.java.binaries to a directory that contains jars. I would't try to get fancy with wildcards and file extensions, that's not the same thing. You need a directory as an argument, not a regular expression for files.</p>\n\n<p>I don't know everything about sonar scanner, but my configuration works.</p>\n\n<p>Take my example into context, I use it in a gitlab runner pipeline. Your double backslashes should be fine, but you can always substitute them for forwards slashes in your config files.</p>\n"},{"comments":[{"owner":{"account_id":1042196,"reputation":316,"user_id":1047996,"display_name":"felix at housecat"},"score":3,"creation_date":1583421585,"post_id":56021328,"comment_id":107118255,"body_markdown":"I think it was binaries and not libraries, doesn&#39;t it? :-)","body":"I think it was binaries and not libraries, doesn&#39;t it? :-)"}],"tags":[],"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1557227568,"creation_date":1557227568,"answer_id":56021328,"question_id":39290983,"body_markdown":"you have to provide the parameter `sonar.java.libraries`.\r\n\r\nif you use [maven][1] you can add these inside the `pom.xml` as a property\r\n\r\n\r\n    &lt;project&gt;\r\n        ...\r\n        &lt;properties&gt;\r\n            ...\r\n            &lt;sonar.java.libraries&gt;target&lt;/sonar.java.libraries&gt;\r\n\r\n        &lt;/properties&gt;\r\n\r\n    &lt;/project&gt;   \r\n\r\nor as run parameter `-Dsonar.java.libraries=target`\r\n\r\n\r\n  [1]: https://maven.apache.org/","title":"How to correctly configure the property &quot;sonar.java.binaries&quot;?","body":"<p>you have to provide the parameter <code>sonar.java.libraries</code>.</p>\n\n<p>if you use <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">maven</a> you can add these inside the <code>pom.xml</code> as a property</p>\n\n<pre><code>&lt;project&gt;\n    ...\n    &lt;properties&gt;\n        ...\n        &lt;sonar.java.libraries&gt;target&lt;/sonar.java.libraries&gt;\n\n    &lt;/properties&gt;\n\n&lt;/project&gt;   \n</code></pre>\n\n<p>or as run parameter <code>-Dsonar.java.libraries=target</code></p>\n"},{"tags":[],"owner":{"account_id":4574567,"reputation":189,"user_id":3713353,"display_name":"elem103"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1566085277,"creation_date":1566085277,"answer_id":57540668,"question_id":39290983,"body_markdown":"Based on the documentation at https://docs.sonarqube.org/latest/analysis/languages/java/\r\n\r\nThe purpose of `sonar.java.binaries` path is:\r\n\r\n&gt; Comma-separated paths to directories containing the compiled bytecode files corresponding to your source files.\r\n\r\nFor Gradle, the default path is at `build/classes`, so I would set:\r\n```\r\nsonar.java.binaries=build/classes\r\n```","title":"How to correctly configure the property &quot;sonar.java.binaries&quot;?","body":"<p>Based on the documentation at <a href=\"https://docs.sonarqube.org/latest/analysis/languages/java/\" rel=\"nofollow noreferrer\">https://docs.sonarqube.org/latest/analysis/languages/java/</a></p>\n\n<p>The purpose of <code>sonar.java.binaries</code> path is:</p>\n\n<blockquote>\n  <p>Comma-separated paths to directories containing the compiled bytecode files corresponding to your source files.</p>\n</blockquote>\n\n<p>For Gradle, the default path is at <code>build/classes</code>, so I would set:</p>\n\n<pre><code>sonar.java.binaries=build/classes\n</code></pre>\n"},{"comments":[{"owner":{"account_id":483064,"reputation":2479,"user_id":897889,"accept_rate":80,"display_name":"wukong"},"score":0,"creation_date":1625800528,"post_id":63745086,"comment_id":120729616,"body_markdown":"This is quite useful, Thank you for sharing it","body":"This is quite useful, Thank you for sharing it"}],"tags":[],"owner":{"account_id":1925323,"reputation":1521,"user_id":1735931,"accept_rate":43,"display_name":"Akom"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1599237845,"creation_date":1599237845,"answer_id":63745086,"question_id":39290983,"body_markdown":"Here are some **options** for a Gradle multi-project.  I&#39;m running in CI (Jenkins) but the principles apply.\r\n\r\n**Options:**\r\n\r\n1. Hand-maintain a hardcoded `sonar.java.binaries` entry, eg: \r\n    ```sonar.java.binaries=subproject1/build/classes,subproject2/build/classes,``` (etc)\r\n\r\n1. Set it to the top-level directory of the project:\r\n    \r\n    ```sonar.java.binaries=.```\r\n1. Use a script to generate your own props file at runtime, for example:\r\n\r\n    \r\n    ```bash\r\n    cat &gt; sonar-project.properties &lt;&lt;EOF\r\n    sonar.projectKey=XXXX\r\n    sonar.projectVersion=YYYY\r\n    sonar.sources=$(find . -path &#39;*/src/main&#39; | xargs | tr &#39; &#39; &#39;,&#39;)\r\n    sonar.java.binaries=$(find . -path &#39;*/build/classes/java&#39; | xargs | tr &#39; &#39; &#39;,&#39;)\r\n    EOF\r\n    ```\r\n\r\n\r\nNote that the above also applies to `sonar.sources`, and it is likely going to need to be in sync with `sonar.java.binaries`.  Having binaries be a superset of source seems to be OK.   Obviously, if your sources value is too broad (ie includes tests, etc), you&#39;ll get more noise.  The advantage of using a script is that you can customize these heuristics to your taste.","title":"How to correctly configure the property &quot;sonar.java.binaries&quot;?","body":"<p>Here are some <strong>options</strong> for a Gradle multi-project.  I'm running in CI (Jenkins) but the principles apply.</p>\n<p><strong>Options:</strong></p>\n<ol>\n<li><p>Hand-maintain a hardcoded <code>sonar.java.binaries</code> entry, eg:\n<code>sonar.java.binaries=subproject1/build/classes,subproject2/build/classes,</code> (etc)</p>\n</li>\n<li><p>Set it to the top-level directory of the project:</p>\n<p><code>sonar.java.binaries=.</code></p>\n</li>\n<li><p>Use a script to generate your own props file at runtime, for example:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>cat &gt; sonar-project.properties &lt;&lt;EOF\nsonar.projectKey=XXXX\nsonar.projectVersion=YYYY\nsonar.sources=$(find . -path '*/src/main' | xargs | tr ' ' ',')\nsonar.java.binaries=$(find . -path '*/build/classes/java' | xargs | tr ' ' ',')\nEOF\n</code></pre>\n</li>\n</ol>\n<p>Note that the above also applies to <code>sonar.sources</code>, and it is likely going to need to be in sync with <code>sonar.java.binaries</code>.  Having binaries be a superset of source seems to be OK.   Obviously, if your sources value is too broad (ie includes tests, etc), you'll get more noise.  The advantage of using a script is that you can customize these heuristics to your taste.</p>\n"},{"comments":[{"owner":{"account_id":2047499,"reputation":1845,"user_id":1827276,"accept_rate":56,"display_name":"boly38"},"score":0,"creation_date":1689858427,"post_id":74265927,"comment_id":135274869,"body_markdown":"I can confirm that no script is needed as wildcard is working for me too ; for example if you have a maven multi-modules project with parent pom under `dev/java` and your binaries under multiple `target/classes` sub-directories, then using this is OK (notice that I&#39;m reusing here a gitlab var))\n`-Dsonar.java.binaries=${CI_PROJECT_DIR}/dev/java/**/target/classes`","body":"I can confirm that no script is needed as wildcard is working for me too ; for example if you have a maven multi-modules project with parent pom under <code>dev&#47;java</code> and your binaries under multiple <code>target&#47;classes</code> sub-directories, then using this is OK (notice that I&#39;m reusing here a gitlab var)) <code>-Dsonar.java.binaries=${CI_PROJECT_DIR}&#47;dev&#47;java&#47;**&#47;target&#47;c&zwnj;&#8203;lasses</code>"}],"tags":[],"owner":{"account_id":24022456,"reputation":346,"user_id":18004537,"display_name":"Muhammet"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667231742,"creation_date":1667231742,"answer_id":74265927,"question_id":39290983,"body_markdown":"IDK but adding this `sonar.java.binaries= **/*.bin` to sonar-project.properties helped me","title":"How to correctly configure the property &quot;sonar.java.binaries&quot;?","body":"<p>IDK but adding this <code>sonar.java.binaries= **/*.bin</code> to sonar-project.properties helped me</p>\n"},{"comments":[{"owner":{"account_id":3108503,"reputation":413,"user_id":2630810,"display_name":"Mark"},"score":0,"creation_date":1691418581,"post_id":76681093,"comment_id":135485213,"body_markdown":"This answer has nothing to do with the question I originally asked. I used Ant, no the UI.","body":"This answer has nothing to do with the question I originally asked. I used Ant, no the UI."}],"tags":[],"owner":{"account_id":23166632,"reputation":1,"user_id":17266459,"display_name":"otite Akpofure"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689262207,"creation_date":1689262207,"answer_id":76681093,"question_id":39290983,"body_markdown":"Solving this issue is relatively simple, if you are using Sonarcube manually then do the following. go to this webpage (https://docs.sonarsource.com/sonarqube/latest/analyzing-source-code/languages/java/)\r\n\r\nThen on your own sonarcube localhost at port 9000, in the taskbar you will see the tab called administration then follow this path \r\n\r\nAdministration &gt; General Settings &gt; Languages &gt; Java.\r\n\r\nThen in the input tag associated with java fill in the form with sonar.java.binaries and rescan your code in your cli and it would work ","title":"How to correctly configure the property &quot;sonar.java.binaries&quot;?","body":"<p>Solving this issue is relatively simple, if you are using Sonarcube manually then do the following. go to this webpage (<a href=\"https://docs.sonarsource.com/sonarqube/latest/analyzing-source-code/languages/java/\" rel=\"nofollow noreferrer\">https://docs.sonarsource.com/sonarqube/latest/analyzing-source-code/languages/java/</a>)</p>\n<p>Then on your own sonarcube localhost at port 9000, in the taskbar you will see the tab called administration then follow this path</p>\n<p>Administration &gt; General Settings &gt; Languages &gt; Java.</p>\n<p>Then in the input tag associated with java fill in the form with sonar.java.binaries and rescan your code in your cli and it would work</p>\n"}],"owner":{"account_id":3108503,"reputation":413,"user_id":2630810,"display_name":"Mark"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120593,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":6,"score":23,"last_activity_date":1689262207,"creation_date":1472814738,"question_id":39290983,"body_markdown":"We are using SonarQube 5.1.2 using Ant runner 2.2 and Java pluging 3.12 for the analysis. I can succesfully analyse my project. I just keep getting this error:\r\n\r\n    Java bytecode has not been made available to the analyzer. The org.sonar.java.bytecode.visitor.DependenciesVisitor@d678716, org.sonar.java.checks.unused.UnusedPrivateMethodCheck@58e28efd, CycleBetweenPackages rule are disabled.\r\n\r\nSo I need to configure my sonar.java.binaries and sonar.java.test.binaries properties (following http://docs.sonarqube.org/display/PLUG/Java+Plugin+and+Bytecode). \r\n\r\nWhich I think I have done correctly:\r\n\r\n    &lt;property name=&quot;project.dir&quot; value=&quot;${basedir}/xalg.prj/h3_service_fo&quot; /&gt;\t\r\n    &lt;property name=&quot;sonar.java.binaries&quot; location=&quot;${project.build.dir}/classes/main&quot; /&gt;\r\n    &lt;property name=&quot;sonar.java.test.binaries&quot; value=&quot;${project.build.dir}/classes/test&quot; /&gt;\r\n\r\nWhich resolve to the following valid directories for the above properties:\r\n\r\n    basedir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\r\n    project.dir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo\r\n    sonar.java.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\xalg.prj\\\\h3_service_fo\\\\build\\\\classes\\\\main\r\n    sonar.java.test.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build/classes/test\r\n    \r\nBut I keep getting:\r\n\r\n    Java bytecode has not been made available to the analyzer. The org.sonar.java.bytecode.visitor.DependenciesVisitor@d678716, org.sonar.java.checks.unused.UnusedPrivateMethodCheck@58e28efd, CycleBetweenPackages rule are disabled.\r\n    \r\nAnd for the life of me, I can not figure out what values I need to give the sonar.java.binaries and sonar.java.test.binaries properties. I even tried using sonar.binaries, which gave me the following output:\r\n\r\n    Binary dirs: xalg.prj/h3_service_fo/build/classes\r\n    \r\nWhich I did not get using either sonar.java.binaries or sonar.java.test.binaries. I also got:\r\n\r\n    JavaClasspath initialization...\r\n    sonar.binaries and sonar.libraries are deprecated since version 2.5 of sonar-java-plugin, please use sonar.java.binaries and sonar.java.libraries instead\r\n    \r\nWhich is to be expected for a deprecated property. But using the sonar.java.binaries property I did not get the &quot;Binary dirs&quot; line in my log.\r\n\r\nUsing sonar.java.binaries:\r\n\r\n    Language is forced to java\r\n    Load rules\r\n    Load rules (done) | time=761ms\r\n    Code colorizer, supported languages: cs,plsql\r\n    Initializers : \r\n    Base dir: D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\r\n    Working dir: D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\.sonar\r\n    Source paths: xalg.prj/h3_service_fo/src/main/java\r\n    Test paths: xalg.prj/h3_service_fo/src/test/java\r\n    Source encoding: windows-1252, default locale: en_US\r\n    Index files\r\n    \r\nVersus using sonar.binaries:\r\n\r\n    Language is forced to java\r\n    Load rules\r\n    Load rules (done) | time=736ms\r\n    Code colorizer, supported languages: cs,plsql\r\n    Initializers : \r\n    Base dir: D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\r\n    Working dir: D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\.sonar\r\n    Source paths: xalg.prj/h3_service_fo/src/main/java\r\n    Test paths: xalg.prj/h3_service_fo/src/test/java\r\n    Binary dirs: xalg.prj/h3_service_fo/build/classes\r\n    Source encoding: windows-1252, default locale: en_US\r\n    Index files\r\n    \r\nI also looked into the source code of SonarQube, SonarQube Java Plugin and the SonarQube Scanner for instances of either &quot;Java bytecode has not been made available to the analyzer.&quot; or sonar.java.binaries. I found plenty on sonar.java.binaries, but nothing on &quot;Java bytecode has not been made available to the analyzer.&quot; So I have no clue what conditions exactly trigger that error.\r\n\r\nI also tried the following permutations on sonar.java.binaries:\r\n\r\n    &lt;property name=&quot;sonar.java.binaries&quot; location=&quot;${project.build.dir}/classes&quot; /&gt;\r\n    &lt;property name=&quot;sonar.java.binaries&quot; location=&quot;${project.build.dir}/classes/main/nl&quot; /&gt;\r\n\r\nBut that did nothing either.\r\n\r\nWhat is weird is that Squid seems to resolve the classpath just fine:\r\n\r\n    ----- Classpath analyzed by Squid:\r\n    D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\xalg.prj\\h3_service_fo\\build\\classes\\main\r\n   \r\nSo, what am I missing? What am I doing wrong? Thanks in advance.\r\n\r\n**Update 2016-09-08**:  \r\nRemoved the entire log, the post become to long.\r\n\r\nA subset with the (I think) relevant paths:\r\n\r\n    project.build.dir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build\r\n    project.dir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo\r\n    project.src.dir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/src\r\n    \r\n    sonar.dir=D\\:/appl/sonarqube-5.1.2\r\n    sonar.working.directory=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\.sonar\r\n    sonar.projectBaseDir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\r\n    \r\n    sonar.jacoco.reportPath=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build/jacoco/test.exec\r\n    sonar.junit.reportsPath=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build/test-results\r\n    \r\n    sonar.sources=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/src/main/java\r\n    sonar.java.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\xalg.prj\\\\h3_service_fo\\\\build\\\\classes\\\\main\r\n    \r\n    sonar.java.libraries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_deploy/*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_repos/lib/*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_repos/provided/*.jar\r\n    \r\n    sonar.tests=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/src/test/java\r\n    sonar.java.test.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build/classes/test\r\n    sonar.java.test.libraries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_deploy/*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_repos/lib/*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_repos/provided/*.jar\r\n\r\nThe paths have exactly the same format as in my post. Could it be that the Sonar Ant runner can&#39;t figure out a path with both backslashes and slashes?\r\n\r\n**Update 2016-09-16**:  \r\nRemoved the entire log, the post become to long.\r\n    \r\nA subset with the (I think) relevant paths:\r\n\r\n    project.build.dir=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\build\r\n    project.dir=xalg.prj\\\\\\\\h3_service_fo\r\n    project.src.dir=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\src\r\n    \r\n    sonar.dir=D\\:\\\\\\\\appl\\\\\\\\sonarqube-5.1.2\r\n    sonar.working.directory=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\.sonar\r\n    sonar.projectBaseDir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\r\n    \r\n    sonar.jacoco.reportPath=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\build\\\\\\\\jacoco/test.exec\r\n    sonar.junit.reportsPath=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\build\\\\\\\\test-results\r\n    \r\n    sonar.sources=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\src\\\\\\\\main\\\\\\\\java\r\n    sonar.java.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\xalg.prj\\\\h3_service_fo\\\\build\\\\classes\\\\main\r\n    sonar.java.libraries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_deploy\\\\\\\\*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_repos\\\\\\\\lib\\\\\\\\*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_repos\\\\\\\\provided\\\\\\\\*.jar\r\n    \r\n    sonar.tests=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\src\\\\\\\\test\\\\\\\\java\r\n    sonar.java.test.binaries=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\build\\\\\\\\classes\\\\\\\\test\r\n    sonar.java.test.libraries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_deploy\\\\\\\\*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_repos\\\\\\\\lib\\\\\\\\*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_repos\\\\\\\\provided\\\\\\\\*.jar\r\n    \r\nSome paths have become relative, but I think that is because TeamCity changed the Ant file to the file in SVN.\r\nThe sonar.java.binaries is absolute and it **definitely** points to the correct directory. \r\n\r\nBut I still get this error:\r\n\r\n    09:17:52.299 INFO  - Java Main Files AST scan done: 1579 ms\r\n    09:17:52.301 INFO  - 2/2 source files have been analyzed\r\n    09:17:52.305 WARN  - Java bytecode has not been made available to the analyzer. The org.sonar.java.bytecode.visitor.DependenciesVisitor@757a48f9, org.sonar.java.checks.unused.UnusedPrivateMethodCheck@1adf492b, CycleBetweenPackages rule are disabled.\r\n\r\nThe classpath is still interpreted just fine:\r\n\r\n    [sonar:sonar] 09:17:51.971 DEBUG - ----- Classpath analyzed by Squid:\r\n    [sonar:sonar] 09:17:51.972 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\xalg.prj\\h3_service_fo\\build\\classes\\main\r\n    [sonar:sonar] 09:17:51.973 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\batch.daemon.jar\r\n    [sonar:sonar] 09:17:51.974 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\buildinfo.jar\r\n    [sonar:sonar] 09:17:51.975 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h2_shared.jar\r\n    [sonar:sonar] 09:17:51.975 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_generator.jar\r\n    [sonar:sonar] 09:17:51.976 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_loadtest.jar\r\n    [sonar:sonar] 09:17:51.977 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_common.jar\r\n    [sonar:sonar] 09:17:51.977 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xalg.jar\r\n    [sonar:sonar] 09:17:51.978 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xalg_dao.jar\r\n    [sonar:sonar] 09:17:51.979 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xalg_mappers.jar\r\n    [sonar:sonar] 09:17:51.979 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xalg_procedures.jar\r\n    [sonar:sonar] 09:17:51.980 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xcare.jar\r\n    [sonar:sonar] 09:17:51.981 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xcare_dao.jar\r\n    [sonar:sonar] 09:17:51.982 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xcare_mappers.jar\r\n    [sonar:sonar] 09:17:51.982 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xcare_procedures.jar\r\n\r\nCould the Sonar Ant runner have a problem with the escaped back slashes?","title":"How to correctly configure the property &quot;sonar.java.binaries&quot;?","body":"<p>We are using SonarQube 5.1.2 using Ant runner 2.2 and Java pluging 3.12 for the analysis. I can succesfully analyse my project. I just keep getting this error:</p>\n\n<pre><code>Java bytecode has not been made available to the analyzer. The org.sonar.java.bytecode.visitor.DependenciesVisitor@d678716, org.sonar.java.checks.unused.UnusedPrivateMethodCheck@58e28efd, CycleBetweenPackages rule are disabled.\n</code></pre>\n\n<p>So I need to configure my sonar.java.binaries and sonar.java.test.binaries properties (following <a href=\"http://docs.sonarqube.org/display/PLUG/Java+Plugin+and+Bytecode\" rel=\"noreferrer\">http://docs.sonarqube.org/display/PLUG/Java+Plugin+and+Bytecode</a>). </p>\n\n<p>Which I think I have done correctly:</p>\n\n<pre><code>&lt;property name=\"project.dir\" value=\"${basedir}/xalg.prj/h3_service_fo\" /&gt;   \n&lt;property name=\"sonar.java.binaries\" location=\"${project.build.dir}/classes/main\" /&gt;\n&lt;property name=\"sonar.java.test.binaries\" value=\"${project.build.dir}/classes/test\" /&gt;\n</code></pre>\n\n<p>Which resolve to the following valid directories for the above properties:</p>\n\n<pre><code>basedir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\nproject.dir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo\nsonar.java.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\xalg.prj\\\\h3_service_fo\\\\build\\\\classes\\\\main\nsonar.java.test.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build/classes/test\n</code></pre>\n\n<p>But I keep getting:</p>\n\n<pre><code>Java bytecode has not been made available to the analyzer. The org.sonar.java.bytecode.visitor.DependenciesVisitor@d678716, org.sonar.java.checks.unused.UnusedPrivateMethodCheck@58e28efd, CycleBetweenPackages rule are disabled.\n</code></pre>\n\n<p>And for the life of me, I can not figure out what values I need to give the sonar.java.binaries and sonar.java.test.binaries properties. I even tried using sonar.binaries, which gave me the following output:</p>\n\n<pre><code>Binary dirs: xalg.prj/h3_service_fo/build/classes\n</code></pre>\n\n<p>Which I did not get using either sonar.java.binaries or sonar.java.test.binaries. I also got:</p>\n\n<pre><code>JavaClasspath initialization...\nsonar.binaries and sonar.libraries are deprecated since version 2.5 of sonar-java-plugin, please use sonar.java.binaries and sonar.java.libraries instead\n</code></pre>\n\n<p>Which is to be expected for a deprecated property. But using the sonar.java.binaries property I did not get the \"Binary dirs\" line in my log.</p>\n\n<p>Using sonar.java.binaries:</p>\n\n<pre><code>Language is forced to java\nLoad rules\nLoad rules (done) | time=761ms\nCode colorizer, supported languages: cs,plsql\nInitializers : \nBase dir: D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\nWorking dir: D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\.sonar\nSource paths: xalg.prj/h3_service_fo/src/main/java\nTest paths: xalg.prj/h3_service_fo/src/test/java\nSource encoding: windows-1252, default locale: en_US\nIndex files\n</code></pre>\n\n<p>Versus using sonar.binaries:</p>\n\n<pre><code>Language is forced to java\nLoad rules\nLoad rules (done) | time=736ms\nCode colorizer, supported languages: cs,plsql\nInitializers : \nBase dir: D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\nWorking dir: D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\.sonar\nSource paths: xalg.prj/h3_service_fo/src/main/java\nTest paths: xalg.prj/h3_service_fo/src/test/java\nBinary dirs: xalg.prj/h3_service_fo/build/classes\nSource encoding: windows-1252, default locale: en_US\nIndex files\n</code></pre>\n\n<p>I also looked into the source code of SonarQube, SonarQube Java Plugin and the SonarQube Scanner for instances of either \"Java bytecode has not been made available to the analyzer.\" or sonar.java.binaries. I found plenty on sonar.java.binaries, but nothing on \"Java bytecode has not been made available to the analyzer.\" So I have no clue what conditions exactly trigger that error.</p>\n\n<p>I also tried the following permutations on sonar.java.binaries:</p>\n\n<pre><code>&lt;property name=\"sonar.java.binaries\" location=\"${project.build.dir}/classes\" /&gt;\n&lt;property name=\"sonar.java.binaries\" location=\"${project.build.dir}/classes/main/nl\" /&gt;\n</code></pre>\n\n<p>But that did nothing either.</p>\n\n<p>What is weird is that Squid seems to resolve the classpath just fine:</p>\n\n<pre><code>----- Classpath analyzed by Squid:\nD:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\xalg.prj\\h3_service_fo\\build\\classes\\main\n</code></pre>\n\n<p>So, what am I missing? What am I doing wrong? Thanks in advance.</p>\n\n<p><strong>Update 2016-09-08</strong>:<br>\nRemoved the entire log, the post become to long.</p>\n\n<p>A subset with the (I think) relevant paths:</p>\n\n<pre><code>project.build.dir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build\nproject.dir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo\nproject.src.dir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/src\n\nsonar.dir=D\\:/appl/sonarqube-5.1.2\nsonar.working.directory=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\.sonar\nsonar.projectBaseDir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\n\nsonar.jacoco.reportPath=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build/jacoco/test.exec\nsonar.junit.reportsPath=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build/test-results\n\nsonar.sources=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/src/main/java\nsonar.java.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\xalg.prj\\\\h3_service_fo\\\\build\\\\classes\\\\main\n\nsonar.java.libraries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_deploy/*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_repos/lib/*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_repos/provided/*.jar\n\nsonar.tests=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/src/test/java\nsonar.java.test.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build/classes/test\nsonar.java.test.libraries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_deploy/*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_repos/lib/*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_repos/provided/*.jar\n</code></pre>\n\n<p>The paths have exactly the same format as in my post. Could it be that the Sonar Ant runner can't figure out a path with both backslashes and slashes?</p>\n\n<p><strong>Update 2016-09-16</strong>:<br>\nRemoved the entire log, the post become to long.</p>\n\n<p>A subset with the (I think) relevant paths:</p>\n\n<pre><code>project.build.dir=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\build\nproject.dir=xalg.prj\\\\\\\\h3_service_fo\nproject.src.dir=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\src\n\nsonar.dir=D\\:\\\\\\\\appl\\\\\\\\sonarqube-5.1.2\nsonar.working.directory=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\.sonar\nsonar.projectBaseDir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\n\nsonar.jacoco.reportPath=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\build\\\\\\\\jacoco/test.exec\nsonar.junit.reportsPath=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\build\\\\\\\\test-results\n\nsonar.sources=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\src\\\\\\\\main\\\\\\\\java\nsonar.java.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\xalg.prj\\\\h3_service_fo\\\\build\\\\classes\\\\main\nsonar.java.libraries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_deploy\\\\\\\\*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_repos\\\\\\\\lib\\\\\\\\*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_repos\\\\\\\\provided\\\\\\\\*.jar\n\nsonar.tests=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\src\\\\\\\\test\\\\\\\\java\nsonar.java.test.binaries=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\build\\\\\\\\classes\\\\\\\\test\nsonar.java.test.libraries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_deploy\\\\\\\\*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_repos\\\\\\\\lib\\\\\\\\*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_repos\\\\\\\\provided\\\\\\\\*.jar\n</code></pre>\n\n<p>Some paths have become relative, but I think that is because TeamCity changed the Ant file to the file in SVN.\nThe sonar.java.binaries is absolute and it <strong>definitely</strong> points to the correct directory. </p>\n\n<p>But I still get this error:</p>\n\n<pre><code>09:17:52.299 INFO  - Java Main Files AST scan done: 1579 ms\n09:17:52.301 INFO  - 2/2 source files have been analyzed\n09:17:52.305 WARN  - Java bytecode has not been made available to the analyzer. The org.sonar.java.bytecode.visitor.DependenciesVisitor@757a48f9, org.sonar.java.checks.unused.UnusedPrivateMethodCheck@1adf492b, CycleBetweenPackages rule are disabled.\n</code></pre>\n\n<p>The classpath is still interpreted just fine:</p>\n\n<pre><code>[sonar:sonar] 09:17:51.971 DEBUG - ----- Classpath analyzed by Squid:\n[sonar:sonar] 09:17:51.972 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\xalg.prj\\h3_service_fo\\build\\classes\\main\n[sonar:sonar] 09:17:51.973 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\batch.daemon.jar\n[sonar:sonar] 09:17:51.974 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\buildinfo.jar\n[sonar:sonar] 09:17:51.975 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h2_shared.jar\n[sonar:sonar] 09:17:51.975 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_generator.jar\n[sonar:sonar] 09:17:51.976 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_loadtest.jar\n[sonar:sonar] 09:17:51.977 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_common.jar\n[sonar:sonar] 09:17:51.977 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xalg.jar\n[sonar:sonar] 09:17:51.978 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xalg_dao.jar\n[sonar:sonar] 09:17:51.979 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xalg_mappers.jar\n[sonar:sonar] 09:17:51.979 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xalg_procedures.jar\n[sonar:sonar] 09:17:51.980 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xcare.jar\n[sonar:sonar] 09:17:51.981 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xcare_dao.jar\n[sonar:sonar] 09:17:51.982 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xcare_mappers.jar\n[sonar:sonar] 09:17:51.982 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xcare_procedures.jar\n</code></pre>\n\n<p>Could the Sonar Ant runner have a problem with the escaped back slashes?</p>\n"},{"tags":["java","threadpool","executorservice","thread-synchronization"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1689261921,"post_id":76680932,"comment_id":135191601,"body_markdown":"Poor `ForkJoinPool` was left to the wind I suppose. A single-threaded `ExecutorService` is very different from `synchronized` and its usages, what do you mean by &quot;Synchronized operations&quot;? Note that the single thread in that `ExecutorService` is _not_ the current thread, so you&#39;re submitting tasks for that other thread to consume. You&#39;d want this if the tasks you&#39;re submitting might take a long time / block the current thread, or if that service is responsible for some single area (e.g. a gui rendering thread)","body":"Poor <code>ForkJoinPool</code> was left to the wind I suppose. A single-threaded <code>ExecutorService</code> is very different from <code>synchronized</code> and its usages, what do you mean by &quot;Synchronized operations&quot;? Note that the single thread in that <code>ExecutorService</code> is <i>not</i> the current thread, so you&#39;re submitting tasks for that other thread to consume. You&#39;d want this if the tasks you&#39;re submitting might take a long time / block the current thread, or if that service is responsible for some single area (e.g. a gui rendering thread)"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1689264776,"post_id":76680932,"comment_id":135192345,"body_markdown":"Thread pool and synchronization are not related. A single thread executor just ensures a sequential order of some tasks, it does not stop another thread accessing the same set of underlying objects in use by those tasks.","body":"Thread pool and synchronization are not related. A single thread executor just ensures a sequential order of some tasks, it does not stop another thread accessing the same set of underlying objects in use by those tasks."}],"answers":[{"comments":[{"owner":{"account_id":20185812,"reputation":249,"user_id":14805169,"display_name":"Santrupta Dash"},"score":0,"creation_date":1689261704,"post_id":76681004,"comment_id":135191548,"body_markdown":"yes! My question was why can not we do it in main thread or single Runnable or Callable ? Why we need ExecutorService ? Can we not do it in a synchroized way.","body":"yes! My question was why can not we do it in main thread or single Runnable or Callable ? Why we need ExecutorService ? Can we not do it in a synchroized way."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1689262060,"post_id":76681004,"comment_id":135191639,"body_markdown":"@OP That would be a good thing to include in the original question.","body":"@OP That would be a good thing to include in the original question."}],"tags":[],"owner":{"account_id":4280753,"reputation":164,"user_id":3500197,"display_name":"shailb"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689261504,"creation_date":1689261504,"answer_id":76681004,"question_id":76680932,"body_markdown":"SingleThreadExecutor makes sure all requests gets executed by a single thread. Imagine a physical kiosk taking orders from customers in queue.","title":"What is benefit of SingleThreadPool over synchronization?","body":"<p>SingleThreadExecutor makes sure all requests gets executed by a single thread. Imagine a physical kiosk taking orders from customers in queue.</p>\n"},{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689261702,"creation_date":1689261702,"answer_id":76681025,"question_id":76680932,"body_markdown":"You can implement analog of single thread executor with a Thread and some synchronized code, however it would take lots of effort. For example, some things you have to implement manually:\r\n\r\n 1. A queue of tasks. Task submission (not execution) to an executor would be performed immediately, task would be stored for later execution. Every call to synchronized block would wait, so you have to store task manually in order to archive similar behaviour.\r\n2. Order of task execution.\r\n3. Task submission to an executor returns a Future\r\n\r\nSo look at a executors API and think how could you implement it manually and you see a lot of work to do.","title":"What is benefit of SingleThreadPool over synchronization?","body":"<p>You can implement analog of single thread executor with a Thread and some synchronized code, however it would take lots of effort. For example, some things you have to implement manually:</p>\n<ol>\n<li>A queue of tasks. Task submission (not execution) to an executor would be performed immediately, task would be stored for later execution. Every call to synchronized block would wait, so you have to store task manually in order to archive similar behaviour.</li>\n<li>Order of task execution.</li>\n<li>Task submission to an executor returns a Future</li>\n</ol>\n<p>So look at a executors API and think how could you implement it manually and you see a lot of work to do.</p>\n"}],"owner":{"account_id":20185812,"reputation":249,"user_id":14805169,"display_name":"Santrupta Dash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1689261702,"creation_date":1689260973,"question_id":76680932,"body_markdown":"I was studing about ExecutorService. \r\nI found that there are 4 types of Thread pools. &lt;br/&gt;\r\n        1. FixedThreadPool &lt;br/&gt;\r\n         \r\n\r\n         \r\n\r\n    int coreCount = Runtime.getRuntime().availableProcessors();  \r\n    ExecutorService service = Executors.newFixedThreadPool(coreCount);\r\n\r\n\r\n   2. CachedThreadPool&lt;br/&gt;\r\n   \r\n\r\n    ExecutorService service = Executors.newCachedThreadPool();\r\n\r\n   here threads are automatically created if no created thread is free and deleted when a thread is idle by JVM.\r\n   Threads are stored in queue. \r\n\r\n   3. ScheduledThreadPool&lt;br/&gt;\r\n      Threads are stored in a delay queue\r\n      this queue can sort the element based on their scheduled occurrence. &lt;br/&gt;\r\n  \r\n\r\n   Service.schedule&lt;br&gt;\r\n   Service.scheduleAtFixedRate&lt;br&gt;\r\n   Service.scheduleAtFixedDelay&lt;br&gt;\r\n\r\nSchedule the tasks to run based on time delay (and retrigger for fixedRate / fixedDelay)&lt;br/&gt;\r\nLife Cycle: More threads are created if required.\r\n \r\n\r\n    ScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool ( 10);\r\n    // task to run after 10 second delay\r\n    scheduledExecutorService.schedule(new Task(),  10, TimeUnit.SECONDS);\r\n    \r\n    // task to run repeatedly every 10 seconds\r\n    scheduledExecutorService.scheduleAtFixedRate(new Task(),  15,  10, TimeUnit.SECONDS);\r\n\r\n    // task to run repeatedly 10 seconds after previous task completes\r\n    scheduledExecutorService.scheduleWithFixedDelay(new Task(),  15,  10, TimeUnit.SECONDS);\r\n\r\n  4. SingleThreadedExecutor&lt;br/&gt;\r\n    when you require to run thread in a sequential order you should use SingleThreadPoolService.&lt;br/&gt;\r\n\r\n    ExecutorService service = Executors.newSingleThreadExecutor(); \r\n\r\n**So my question is the single Thread Executor looks very similar to Synchronized operations. Can anyone please describe any difference between those two. any benefit over synchronization. What was the motivation for a Single Thread executor ? means why thread at all ?** ","title":"What is benefit of SingleThreadPool over synchronization?","body":"<p>I was studing about ExecutorService.\nI found that there are 4 types of Thread pools. <br/>\n1. FixedThreadPool <br/></p>\n<pre><code>int coreCount = Runtime.getRuntime().availableProcessors();  \nExecutorService service = Executors.newFixedThreadPool(coreCount);\n</code></pre>\n<ol start=\"2\">\n<li>CachedThreadPool<br/></li>\n</ol>\n<pre><code>ExecutorService service = Executors.newCachedThreadPool();\n</code></pre>\n<p>here threads are automatically created if no created thread is free and deleted when a thread is idle by JVM.\nThreads are stored in queue.</p>\n<ol start=\"3\">\n<li>ScheduledThreadPool<br/>\nThreads are stored in a delay queue\nthis queue can sort the element based on their scheduled occurrence. <br/></li>\n</ol>\n<p>Service.schedule<br>\nService.scheduleAtFixedRate<br>\nService.scheduleAtFixedDelay<br></p>\n<p>Schedule the tasks to run based on time delay (and retrigger for fixedRate / fixedDelay)<br/>\nLife Cycle: More threads are created if required.</p>\n<pre><code>ScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool ( 10);\n// task to run after 10 second delay\nscheduledExecutorService.schedule(new Task(),  10, TimeUnit.SECONDS);\n\n// task to run repeatedly every 10 seconds\nscheduledExecutorService.scheduleAtFixedRate(new Task(),  15,  10, TimeUnit.SECONDS);\n\n// task to run repeatedly 10 seconds after previous task completes\nscheduledExecutorService.scheduleWithFixedDelay(new Task(),  15,  10, TimeUnit.SECONDS);\n</code></pre>\n<ol start=\"4\">\n<li>SingleThreadedExecutor<br/>\nwhen you require to run thread in a sequential order you should use SingleThreadPoolService.<br/></li>\n</ol>\n<pre><code>ExecutorService service = Executors.newSingleThreadExecutor(); \n</code></pre>\n<p><strong>So my question is the single Thread Executor looks very similar to Synchronized operations. Can anyone please describe any difference between those two. any benefit over synchronization. What was the motivation for a Single Thread executor ? means why thread at all ?</strong></p>\n"},{"tags":["java","swing","powerpoint"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689048719,"post_id":76658525,"comment_id":135154232,"body_markdown":"`setLayout(null);` and `setPreferredSize(new Dimension(200, 0));` are not good starting points","body":"<code>setLayout(null);</code> and <code>setPreferredSize(new Dimension(200, 0));</code> are not good starting points"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689048775,"post_id":76658525,"comment_id":135154241,"body_markdown":"`slide.paint(g);` should probably be `slide.printAll(g)`, but you will need to size the panel to a reasonable size, otherwise nothing gets painted","body":"<code>slide.paint(g);</code> should probably be <code>slide.printAll(g)</code>, but you will need to size the panel to a reasonable size, otherwise nothing gets painted"},{"owner":{"account_id":28991204,"reputation":9,"user_id":22206888,"display_name":"Robot"},"score":0,"creation_date":1689139581,"post_id":76658525,"comment_id":135169004,"body_markdown":"Thanks for answering, the problem has been solved, really appreciated","body":"Thanks for answering, the problem has been solved, really appreciated"}],"owner":{"account_id":28991204,"reputation":9,"user_id":22206888,"display_name":"Robot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689261604,"creation_date":1689045716,"question_id":76658525,"body_markdown":"```\r\npublic class SlideThumbnailPanel extends JPanel {\r\n\t\r\n\tprivate List&lt;SlidePanel&gt; slides;\r\n\tprivate int currentSlideIndex;\r\n\t\r\n\tpublic SlideThumbnailPanel() {\r\n\t\tslides = new ArrayList&lt;&gt;();\r\n\t\tcurrentSlideIndex = -1;\r\n\t\t//setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n\t\tsetLayout(null);\r\n\t\tsetPreferredSize(new Dimension(200, 0));\r\n\t\tsetBackground(Color.LIGHT_GRAY);\r\n\t}\r\n\r\n\tpublic void addSlide() {\r\n\t\tSlidePanel newSlide = new SlidePanel();\r\n\t\tslides.add(newSlide);\r\n\t\tcurrentSlideIndex = slides.size() - 1;\r\n\t\tImageIcon thumbnail = createThumbnail(newSlide);\r\n\t\tJLabel thumbnailLabel = new JLabel(thumbnail);\r\n\t        thumbnailLabel.setPreferredSize(new Dimension(200, 112));\r\n\t        add(thumbnailLabel);\r\n\t\trevalidate();\r\n\t\trepaint();\r\n\t}\r\n\r\n\tpublic void removeSlide() {\r\n\t\tif (currentSlideIndex &gt;= 0 &amp;&amp; currentSlideIndex &lt; slides.size()) {\r\n\t\t\tslides.remove(currentSlideIndex);\r\n\t\t\tremove(currentSlideIndex);\r\n\t\t\tif (slides.size() &gt; 0) {\r\n\t\t\t\tcurrentSlideIndex = Math.max(0, currentSlideIndex - 1);\r\n\t\t\t} else {\r\n\t\t\t\tcurrentSlideIndex = -1;\r\n\t\t\t}\r\n\t\t\trevalidate();\r\n\t\t\trepaint();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate ImageIcon createThumbnail(SlidePanel slide) {\r\n\t\tBufferedImage thumbnailImage = new BufferedImage(200, 112, BufferedImage.TYPE_INT_ARGB);\r\n\t\tGraphics2D g = thumbnailImage.createGraphics();\r\n\t\tslide.paint(g);\r\n\t\tg.dispose();\r\n\t\treturn new ImageIcon(thumbnailImage);\r\n\t}\r\n}\r\n```\r\n\r\nUnable to display expected results. When adding a slide, nothing changes the thumbnail and the method `addSlide(`) can be called normally.\r\n\r\n","title":"Generating Thumbnails for .ppt and .pptx in swing","body":"<pre><code>public class SlideThumbnailPanel extends JPanel {\n    \n    private List&lt;SlidePanel&gt; slides;\n    private int currentSlideIndex;\n    \n    public SlideThumbnailPanel() {\n        slides = new ArrayList&lt;&gt;();\n        currentSlideIndex = -1;\n        //setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n        setLayout(null);\n        setPreferredSize(new Dimension(200, 0));\n        setBackground(Color.LIGHT_GRAY);\n    }\n\n    public void addSlide() {\n        SlidePanel newSlide = new SlidePanel();\n        slides.add(newSlide);\n        currentSlideIndex = slides.size() - 1;\n        ImageIcon thumbnail = createThumbnail(newSlide);\n        JLabel thumbnailLabel = new JLabel(thumbnail);\n            thumbnailLabel.setPreferredSize(new Dimension(200, 112));\n            add(thumbnailLabel);\n        revalidate();\n        repaint();\n    }\n\n    public void removeSlide() {\n        if (currentSlideIndex &gt;= 0 &amp;&amp; currentSlideIndex &lt; slides.size()) {\n            slides.remove(currentSlideIndex);\n            remove(currentSlideIndex);\n            if (slides.size() &gt; 0) {\n                currentSlideIndex = Math.max(0, currentSlideIndex - 1);\n            } else {\n                currentSlideIndex = -1;\n            }\n            revalidate();\n            repaint();\n        }\n    }\n\n    private ImageIcon createThumbnail(SlidePanel slide) {\n        BufferedImage thumbnailImage = new BufferedImage(200, 112, BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g = thumbnailImage.createGraphics();\n        slide.paint(g);\n        g.dispose();\n        return new ImageIcon(thumbnailImage);\n    }\n}\n</code></pre>\n<p>Unable to display expected results. When adding a slide, nothing changes the thumbnail and the method <code>addSlide(</code>) can be called normally.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":1,"creation_date":1554234813,"post_id":55481362,"comment_id":97674888,"body_markdown":"can you add application.properties file content in question.","body":"can you add application.properties file content in question."}],"answers":[{"comments":[{"owner":{"account_id":11078123,"reputation":3977,"user_id":8134164,"display_name":"INDRAJITH EKANAYAKE"},"score":0,"creation_date":1554232149,"post_id":55481846,"comment_id":97673754,"body_markdown":"The reason for the error is MySQL dependency which is selected by me when I creating project","body":"The reason for the error is MySQL dependency which is selected by me when I creating project"},{"owner":{"account_id":11078123,"reputation":3977,"user_id":8134164,"display_name":"INDRAJITH EKANAYAKE"},"score":0,"creation_date":1554232196,"post_id":55481846,"comment_id":97673778,"body_markdown":"If I don&#39;t select it the project is working properly But the problem is I need to use MySQL","body":"If I don&#39;t select it the project is working properly But the problem is I need to use MySQL"},{"owner":{"account_id":13949734,"reputation":33,"user_id":10076221,"display_name":"Eder Rodrigues"},"score":0,"creation_date":1554237420,"post_id":55481846,"comment_id":97676015,"body_markdown":"Probably you have a conflict between dependencies, try remove the tomcat-embed-jasper dependencie, you don&#39;t need that for use tomcat, spring-boot-starter-tomcat is enough.\nIf the problem persist, share your files application-spring-boot.java and application.properties","body":"Probably you have a conflict between dependencies, try remove the tomcat-embed-jasper dependencie, you don&#39;t need that for use tomcat, spring-boot-starter-tomcat is enough. If the problem persist, share your files application-spring-boot.java and application.properties"},{"owner":{"account_id":13949734,"reputation":33,"user_id":10076221,"display_name":"Eder Rodrigues"},"score":0,"creation_date":1554302780,"post_id":55481846,"comment_id":97702882,"body_markdown":"Check my response above again, I did an edit with spring.datasources properties you need to add in your application.properties.","body":"Check my response above again, I did an edit with spring.datasources properties you need to add in your application.properties."}],"tags":[],"owner":{"account_id":13949734,"reputation":33,"user_id":10076221,"display_name":"Eder Rodrigues"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1554302541,"creation_date":1554231711,"answer_id":55481846,"question_id":55481362,"body_markdown":"There are a few possibilities for this, but the first time there are three things you need to do.\r\n\r\n1 - Specific compatibles versions of your dependencies on your pom.xml\r\n\r\n2 - You need add database driverConnector on pom.xml\r\n\r\n3 - Create an application.properties on &#39;src/main/resources/application.properties&#39; directory and put your db configuration there.\r\n\r\napplication.properties (NOTE: Change de values with your database configuration)\r\n\r\n    spring.jpa.hibernate.ddl-auto=create\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/db_example\r\n\r\n    spring.datasource.username=user\r\n\r\n    spring.datasource.password=ThePassword\r\n\r\nyou can check a template here:\r\nhttps://spring.io/guides/gs/accessing-data-mysql/","title":"Spring Boot: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>There are a few possibilities for this, but the first time there are three things you need to do.</p>\n\n<p>1 - Specific compatibles versions of your dependencies on your pom.xml</p>\n\n<p>2 - You need add database driverConnector on pom.xml</p>\n\n<p>3 - Create an application.properties on 'src/main/resources/application.properties' directory and put your db configuration there.</p>\n\n<p>application.properties (NOTE: Change de values with your database configuration)</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=create\n\nspring.datasource.url=jdbc:mysql://localhost:3306/db_example\n\nspring.datasource.username=user\n\nspring.datasource.password=ThePassword\n</code></pre>\n\n<p>you can check a template here:\n<a href=\"https://spring.io/guides/gs/accessing-data-mysql/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/accessing-data-mysql/</a></p>\n"},{"tags":[],"owner":{"account_id":13046436,"reputation":2207,"user_id":9428155,"display_name":"Francesc Recio"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1557394065,"creation_date":1557394065,"answer_id":56056330,"question_id":55481362,"body_markdown":"If you read your trace of error:\r\n\r\n    Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n\r\nYou will notice that he is trying to use hikari datasource to configure the connection to bd. What&#39;s going on? \r\n\r\nYou use spring boot 2. And by this version of spring boot has changed the default configuration.\r\n\r\nAs you can see at this address:\r\n\r\nhttps://www.baeldung.com/spring-boot-hikari#spring-boot-2\r\n\r\n&gt; In Spring Boot 2, Hikari is the default DataSource implementation.\r\n\r\n&gt; This is what’s changed from Spring Boot 1.x:\r\n\r\n&gt; &#183; the dependency to Hikari is now automatically included in spring-boot-starter-data-jpa\r\n\r\n&gt; &#183; the discovery algorithm that automatically determines a DataSource implementation now prefers Hikari over TomcatJDBC (see the reference manual).\r\n\r\n&gt; Thus, we have nothing to do if we want to use Hikari in an application based on Spring Boot 2.x.\r\n\r\nAnd the configuration of Hikari is diferent.\r\n\r\nThen, I imagine that you want use tomcat conection pool. You can to do:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;9.0.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&gt; This will exclude Hikari by default from your spring jpa configuration and then you will need tomcat-jdbc. The you can configure de datasource:\r\n\r\n&gt; This simple approach allows us to get Spring Boot using a Tomcat connection pool without having to write a @Configuration class and programmatically define a DataSource bean.\r\n\r\n&gt; It’s also worth noting that in this case, we’re using the H2 in-memory database. Spring Boot will autoconfigure H2 for us, without having to specify a database URL, user, and password.\r\n\r\n&gt; We just need to include the corresponding dependency in the “pom.xml” file and Spring Boot will do the rest for us.\r\n\r\n&gt; Alternatively, it’s possible to skip the connection pool scanning algorithm that Spring Boot uses and explicitly specify a connection pooling datasource in the “application.properties” file, using the “spring.datasource.type” property:\r\n\r\n    spring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\r\n    // other spring datasource properties\r\n    spring.datasource.url=...\r\n    spring.datasource.username=...\r\n    spring.datasource.password=...\r\n    ...\r\n\r\nHere you have the complete reference to disable Hikari, and configure tomcat:\r\n\r\nhttps://www.baeldung.com/spring-boot-tomcat-connection-pool\r\n\r\nIf you want use Hikari the configuration is diferent:\r\n\r\nhttps://www.baeldung.com/spring-boot-hikari\r\n\r\nBut one of these two options will fix your problem.","title":"Spring Boot: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>If you read your trace of error:</p>\n\n<pre><code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n</code></pre>\n\n<p>You will notice that he is trying to use hikari datasource to configure the connection to bd. What's going on? </p>\n\n<p>You use spring boot 2. And by this version of spring boot has changed the default configuration.</p>\n\n<p>As you can see at this address:</p>\n\n<p><a href=\"https://www.baeldung.com/spring-boot-hikari#spring-boot-2\" rel=\"noreferrer\">https://www.baeldung.com/spring-boot-hikari#spring-boot-2</a></p>\n\n<blockquote>\n  <p>In Spring Boot 2, Hikari is the default DataSource implementation.</p>\n  \n  <p>This is what’s changed from Spring Boot 1.x:</p>\n  \n  <p>· the dependency to Hikari is now automatically included in spring-boot-starter-data-jpa</p>\n  \n  <p>· the discovery algorithm that automatically determines a DataSource implementation now prefers Hikari over TomcatJDBC (see the reference manual).</p>\n  \n  <p>Thus, we have nothing to do if we want to use Hikari in an application based on Spring Boot 2.x.</p>\n</blockquote>\n\n<p>And the configuration of Hikari is diferent.</p>\n\n<p>Then, I imagine that you want use tomcat conection pool. You can to do:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;9.0.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<blockquote>\n  <p>This will exclude Hikari by default from your spring jpa configuration and then you will need tomcat-jdbc. The you can configure de datasource:</p>\n  \n  <p>This simple approach allows us to get Spring Boot using a Tomcat connection pool without having to write a @Configuration class and programmatically define a DataSource bean.</p>\n  \n  <p>It’s also worth noting that in this case, we’re using the H2 in-memory database. Spring Boot will autoconfigure H2 for us, without having to specify a database URL, user, and password.</p>\n  \n  <p>We just need to include the corresponding dependency in the “pom.xml” file and Spring Boot will do the rest for us.</p>\n  \n  <p>Alternatively, it’s possible to skip the connection pool scanning algorithm that Spring Boot uses and explicitly specify a connection pooling datasource in the “application.properties” file, using the “spring.datasource.type” property:</p>\n</blockquote>\n\n<pre><code>spring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\n// other spring datasource properties\nspring.datasource.url=...\nspring.datasource.username=...\nspring.datasource.password=...\n...\n</code></pre>\n\n<p>Here you have the complete reference to disable Hikari, and configure tomcat:</p>\n\n<p><a href=\"https://www.baeldung.com/spring-boot-tomcat-connection-pool\" rel=\"noreferrer\">https://www.baeldung.com/spring-boot-tomcat-connection-pool</a></p>\n\n<p>If you want use Hikari the configuration is diferent:</p>\n\n<p><a href=\"https://www.baeldung.com/spring-boot-hikari\" rel=\"noreferrer\">https://www.baeldung.com/spring-boot-hikari</a></p>\n\n<p>But one of these two options will fix your problem.</p>\n"},{"tags":[],"owner":{"account_id":2497935,"reputation":3239,"user_id":2173890,"accept_rate":30,"display_name":"sifr_dot_in"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648533727,"creation_date":1648533727,"answer_id":71657163,"question_id":55481362,"body_markdown":"**if anyone has faced this issue after creating &quot;project.jar&quot; file&lt;br&gt;**\r\nwhile\r\nevery thing is fine when the project is run in IDE / STS (spring tool suit).&lt;br&gt;\r\nhere is what to do:\r\n\r\nunnecessary spaces &quot; &quot; in the &quot;application.yml&quot; file can cause this.\r\n```\r\nserver:\r\n  port: 8085\r\n\r\n\r\nspring:\r\n datasource:\r\n  url: jdbc:mysql://localhost:3306/studentdb\r\n  username: root\r\n  password: root\r\n  driver-class-name: com.mysql.cj.jdbc.Driver\r\n jpa:\r\n   hibernate:\r\n    ddl-auto: update\r\n   show-sql: true\r\n   database-platform: org.hibernate.dialect.MySQL5InnoDBDialect\r\n application:\r\n  name: STUDENT-SERVICE\r\n```\r\n\r\ninstead of tweaking my &quot;application.yml&quot; file&lt;br&gt;\r\ni simply moved all my statements in &quot;application.yml&quot; file to&lt;br&gt;\r\n&quot;application.properties&quot; file and formatted the statements like required in &quot;.properties&quot;.\r\n```\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://localhost:3306/studentdb\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.jpa.hibernate.ddl-auto = update\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format.sql=true\r\n\r\nspring.application.name=student-service\r\n\r\nserver.port=8085\r\n```\r\n**and voil&#224;**\r\n\r\n\r\n*(you can add params at the end of url)*&lt;br&gt;\r\n*(spring.datasource.url=jdbc:mysql://localhost:3306/studentdb?allowPublicKeyRetrieval=true&amp;useSSL=false)*\r\n\r\n","title":"Spring Boot: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p><strong>if anyone has faced this issue after creating &quot;project.jar&quot; file<br></strong>\nwhile\nevery thing is fine when the project is run in IDE / STS (spring tool suit).<br>\nhere is what to do:</p>\n<p>unnecessary spaces &quot; &quot; in the &quot;application.yml&quot; file can cause this.</p>\n<pre><code>server:\n  port: 8085\n\n\nspring:\n datasource:\n  url: jdbc:mysql://localhost:3306/studentdb\n  username: root\n  password: root\n  driver-class-name: com.mysql.cj.jdbc.Driver\n jpa:\n   hibernate:\n    ddl-auto: update\n   show-sql: true\n   database-platform: org.hibernate.dialect.MySQL5InnoDBDialect\n application:\n  name: STUDENT-SERVICE\n</code></pre>\n<p>instead of tweaking my &quot;application.yml&quot; file<br>\ni simply moved all my statements in &quot;application.yml&quot; file to<br>\n&quot;application.properties&quot; file and formatted the statements like required in &quot;.properties&quot;.</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/studentdb\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\n\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format.sql=true\n\nspring.application.name=student-service\n\nserver.port=8085\n</code></pre>\n<p><strong>and voilà</strong></p>\n<p><em>(you can add params at the end of url)</em><br>\n<em>(spring.datasource.url=jdbc:mysql://localhost:3306/studentdb?allowPublicKeyRetrieval=true&amp;useSSL=false)</em></p>\n"},{"tags":[],"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662624993,"creation_date":1662624993,"answer_id":73645778,"question_id":55481362,"body_markdown":"Sometimes things can be funny.\r\n\r\nI&#39;ve checked alot of solution, including the [baeldung][1]\r\nand [Stackoverflow][2]\r\n\r\nMy mistake was, **wrong package**, I kept my Configuration Class outside the main component scan package, I placed it correctly and it worked like a charm.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-failed-to-configure-data-source\r\n  [2]: https://stackoverflow.com/questions/51221777/failed-to-configure-a-datasource-url-attribute-is-not-specified-and-no-embedd","title":"Spring Boot: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>Sometimes things can be funny.</p>\n<p>I've checked alot of solution, including the <a href=\"https://www.baeldung.com/spring-boot-failed-to-configure-data-source\" rel=\"nofollow noreferrer\">baeldung</a>\nand <a href=\"https://stackoverflow.com/questions/51221777/failed-to-configure-a-datasource-url-attribute-is-not-specified-and-no-embedd\">Stackoverflow</a></p>\n<p>My mistake was, <strong>wrong package</strong>, I kept my Configuration Class outside the main component scan package, I placed it correctly and it worked like a charm.</p>\n"},{"tags":[],"owner":{"account_id":29011109,"reputation":9,"user_id":22222603,"display_name":"akshay silgari"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1689260071,"creation_date":1689260071,"answer_id":76680802,"question_id":55481362,"body_markdown":"Select project - rus as - run configuration - classpath- user entries - select your resources folders . This error because your support was not able to read your resources.propertiesfile.","title":"Spring Boot: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>Select project - rus as - run configuration - classpath- user entries - select your resources folders . This error because your support was not able to read your resources.propertiesfile.</p>\n"}],"owner":{"account_id":11078123,"reputation":3977,"user_id":8134164,"display_name":"INDRAJITH EKANAYAKE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64661,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":56056330,"answer_count":5,"score":4,"last_activity_date":1689260071,"creation_date":1554229697,"question_id":55481362,"body_markdown":"Following error is thrown when I running my web app.\r\n\r\n    Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n\r\nThe description for the thrown error as follows,\r\n\r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n    \r\n    \r\n        Action:\r\n        \r\n        Consider the following:&lt;br&gt;\r\n        \tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n    &lt;br&gt;  \tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n\r\nAfter referring [this answer][1], I know I have to do some changes with my `pom.xml` file. But I don&#39;t know what to change and even similar type questions on StackOverflow couldn&#39;t help me to sort this out.\r\n\r\nMy `pom.xml` as follows(when I creating project I have added &quot;Web&quot;, &quot;JPA&quot;, &quot;MySQL&quot; dependencies),\r\n\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \t&lt;parent&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\r\n        \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        \t&lt;/parent&gt;\r\n        \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;SL2INDUSTRY&lt;/artifactId&gt;\r\n        \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        \t&lt;name&gt;SL2INDUSTRY&lt;/name&gt;\r\n        \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        \r\n        \t&lt;properties&gt;\r\n        \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        \t&lt;/properties&gt;\r\n        \r\n        \t&lt;dependencies&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-tomcat --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-xml --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.9.8&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t&lt;/dependencies&gt;\r\n        \r\n        \t&lt;build&gt;\r\n        \t\t&lt;plugins&gt;\r\n        \t\t\t&lt;plugin&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        \t\t\t&lt;/plugin&gt;\r\n        \t\t&lt;/plugins&gt;\r\n        \t&lt;/build&gt;\r\n        \r\n        &lt;/project&gt;\r\n     \r\n&gt;Plese note that I don&#39;t need to deal with H2 databases in this situation so H2 is not a solution for me.\r\n\r\nEdits:\r\n`application.properties` file\r\n\r\n    spring.mvc.view.suffix=.jsp\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24074749/spring-boot-cannot-determine-embedded-database-driver-class-for-database-type\r\n\r\n","title":"Spring Boot: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>Following error is thrown when I running my web app.</p>\n\n<pre><code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n</code></pre>\n\n<p>The description for the thrown error as follows,</p>\n\n<pre><code>Description:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\n    Action:\n\n    Consider the following:&lt;br&gt;\n        If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n&lt;br&gt;    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n</code></pre>\n\n<p>After referring <a href=\"https://stackoverflow.com/questions/24074749/spring-boot-cannot-determine-embedded-database-driver-class-for-database-type\">this answer</a>, I know I have to do some changes with my <code>pom.xml</code> file. But I don't know what to change and even similar type questions on StackOverflow couldn't help me to sort this out.</p>\n\n<p>My <code>pom.xml</code> as follows(when I creating project I have added \"Web\", \"JPA\", \"MySQL\" dependencies),</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;SL2INDUSTRY&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;SL2INDUSTRY&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n        &lt;properties&gt;\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;/properties&gt;\n\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-tomcat --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-xml --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n                &lt;version&gt;2.9.8&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n\n    &lt;/project&gt;\n</code></pre>\n\n<blockquote>\n  <p>Plese note that I don't need to deal with H2 databases in this situation so H2 is not a solution for me.</p>\n</blockquote>\n\n<p>Edits:\n<code>application.properties</code> file</p>\n\n<pre><code>spring.mvc.view.suffix=.jsp\n</code></pre>\n"},{"tags":["java","binary-tree","heapsort","min-heap","max-heap"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1395438649,"post_id":22570126,"comment_id":34355593,"body_markdown":"I expect that would depend on the implementation.  Do you have have one in mind?","body":"I expect that would depend on the implementation.  Do you have have one in mind?"}],"answers":[{"comments":[{"owner":{"account_id":4019228,"reputation":1891,"user_id":3310212,"accept_rate":80,"display_name":"Vimzy"},"score":0,"creation_date":1395439033,"post_id":22570225,"comment_id":34355753,"body_markdown":"Thanks! On a side note, Binary Search trees cannot have duplicate values, correct?","body":"Thanks! On a side note, Binary Search trees cannot have duplicate values, correct?"},{"owner":{"account_id":3856284,"reputation":7406,"user_id":3195128,"display_name":"ucsunil"},"score":3,"creation_date":1395439222,"post_id":22570225,"comment_id":34355830,"body_markdown":"They can have as well. You just have to implement your traversal algorithm properly. On BSTs, wikipedia says that they cannot have duplicate values but the book that I just mentioned allows for it - just modifies the traversal algorithms a bit. Bottom line - BSTs can have them too.","body":"They can have as well. You just have to implement your traversal algorithm properly. On BSTs, wikipedia says that they cannot have duplicate values but the book that I just mentioned allows for it - just modifies the traversal algorithms a bit. Bottom line - BSTs can have them too."},{"owner":{"account_id":2772818,"reputation":3381,"user_id":2387054,"accept_rate":46,"display_name":"zgc7009"},"score":0,"creation_date":1395439309,"post_id":22570225,"comment_id":34355879,"body_markdown":"I&#39;m 99% sure most basic trees can, it depends moreso on your search algorithm","body":"I&#39;m 99% sure most basic trees can, it depends moreso on your search algorithm"}],"tags":[],"owner":{"account_id":3856284,"reputation":7406,"user_id":3195128,"display_name":"ucsunil"},"comment_count":3,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1395438933,"creation_date":1395438933,"answer_id":22570225,"question_id":22570126,"body_markdown":"Yes, they can. You can read about this in &#39;Introduction to Algorithms&#39; (by Charles E. Leiserson, Clifford Stein, Thomas H. Cormen, and Ronald Rivest). According to the definition of binary heaps in Wikipedia:\r\n\r\n    \r\n\r\n&gt; All nodes are either [greater than or equal to](**max heaps**) or\r\n&gt; [less than or equal to](**min heaps**) each of its children, according\r\n&gt; to a comparison predicate defined for the heap.","title":"Can max/min heap trees contain duplicate values?","body":"<p>Yes, they can. You can read about this in 'Introduction to Algorithms' (by Charles E. Leiserson, Clifford Stein, Thomas H. Cormen, and Ronald Rivest). According to the definition of binary heaps in Wikipedia:</p>\n\n<blockquote>\n  <p>All nodes are either [greater than or equal to](<strong>max heaps</strong>) or\n  [less than or equal to](<strong>min heaps</strong>) each of its children, according\n  to a comparison predicate defined for the heap.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":2052347,"reputation":5878,"user_id":1831054,"accept_rate":61,"display_name":"Suamere"},"score":4,"creation_date":1452115678,"post_id":22570234,"comment_id":57032111,"body_markdown":"I&#39;d like to see proof of this.  Not because of &quot;Oh yeah!? PROOVE IT!&quot; But more like... It sounds legitimate and common-sensical, so you should write a full-length article with mathmatical proofs.  It would probably get a lot of traffic and attention, and would be a beneficial bit of information.  Focus on the point of &quot;It loses its purpose&quot;","body":"I&#39;d like to see proof of this.  Not because of &quot;Oh yeah!? PROOVE IT!&quot; But more like... It sounds legitimate and common-sensical, so you should write a full-length article with mathmatical proofs.  It would probably get a lot of traffic and attention, and would be a beneficial bit of information.  Focus on the point of &quot;It loses its purpose&quot;"},{"owner":{"account_id":9312147,"reputation":345,"user_id":6913546,"display_name":"Fluffy the Togekiss"},"score":0,"creation_date":1653435482,"post_id":22570234,"comment_id":127851019,"body_markdown":"I&#39;m stupid late to the party, but I think the idea is that the advantage of heaps is that you get O(log(n)) insertions and pops. If you only use those operations it&#39;s all good regardless of whether you add duplicates, but if you want to add, say, an (expected) O(log(n)) search, you can&#39;t use a hash set anymore (at least not in a straightforward manner--you could track copies as OP suggests) because you have duplicates.","body":"I&#39;m stupid late to the party, but I think the idea is that the advantage of heaps is that you get O(log(n)) insertions and pops. If you only use those operations it&#39;s all good regardless of whether you add duplicates, but if you want to add, say, an (expected) O(log(n)) search, you can&#39;t use a hash set anymore (at least not in a straightforward manner--you could track copies as OP suggests) because you have duplicates."},{"owner":{"account_id":9312147,"reputation":345,"user_id":6913546,"display_name":"Fluffy the Togekiss"},"score":0,"creation_date":1653435533,"post_id":22570234,"comment_id":127851035,"body_markdown":"Granted, I would argue that since the insert/pop operations are the &quot;point&quot; of a heap IMHO, duplicates are entirely fine. But it depends on the application, of course.","body":"Granted, I would argue that since the insert/pop operations are the &quot;point&quot; of a heap IMHO, duplicates are entirely fine. But it depends on the application, of course."}],"tags":[],"owner":{"account_id":2772818,"reputation":3381,"user_id":2387054,"accept_rate":46,"display_name":"zgc7009"},"comment_count":3,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1395438987,"creation_date":1395438987,"answer_id":22570234,"question_id":22570126,"body_markdown":"Yes, but I would say no. For efficiency they shouldn&#39;t have different nodes with duplicate values or it loses it&#39;s purpose a bit (you would have to search child nodes and such). However, you could design each node to contain a variable that declares how many copies of that value you have in your data.\r\n\r\nAgain this is my opinion. If this is a bad way of doing it I would love if someone could explain why. I might just have to do some efficiency testing. If you are storing simple data types like ints then I would see it being less efficient but for larger object nodes that have ids it&#39;s been nice, it seems.","title":"Can max/min heap trees contain duplicate values?","body":"<p>Yes, but I would say no. For efficiency they shouldn't have different nodes with duplicate values or it loses it's purpose a bit (you would have to search child nodes and such). However, you could design each node to contain a variable that declares how many copies of that value you have in your data.</p>\n\n<p>Again this is my opinion. If this is a bad way of doing it I would love if someone could explain why. I might just have to do some efficiency testing. If you are storing simple data types like ints then I would see it being less efficient but for larger object nodes that have ids it's been nice, it seems.</p>\n"},{"tags":[],"owner":{"account_id":65624,"reputation":2384,"user_id":193004,"display_name":"Raul Guiu"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1395439495,"creation_date":1395439006,"answer_id":22570238,"question_id":22570126,"body_markdown":"**Yes they can have duplicates.** From [wikipedia][1] definition of Heap: \r\n\r\n&gt; Either the keys of parent nodes are always **greater than or equal**\r\n&gt; to those of the children and the highest key is in the root node (this\r\n&gt; kind of heap is called max heap) or the keys of parent nodes are\r\n&gt; **less than or equal** to those of the children and the lowest key is in the root node (min heap)\r\n\r\nSo if they have children nodes that are equal means that they can have duplicated.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Heap_%28data_structure%29","title":"Can max/min heap trees contain duplicate values?","body":"<p><strong>Yes they can have duplicates.</strong> From <a href=\"http://en.wikipedia.org/wiki/Heap_%28data_structure%29\" rel=\"noreferrer\">wikipedia</a> definition of Heap: </p>\n\n<blockquote>\n  <p>Either the keys of parent nodes are always <strong>greater than or equal</strong>\n  to those of the children and the highest key is in the root node (this\n  kind of heap is called max heap) or the keys of parent nodes are\n  <strong>less than or equal</strong> to those of the children and the lowest key is in the root node (min heap)</p>\n</blockquote>\n\n<p>So if they have children nodes that are equal means that they can have duplicated.</p>\n"},{"tags":[],"owner":{"account_id":9208381,"reputation":11,"user_id":6842713,"display_name":"Efren Lopes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689259749,"creation_date":1689259269,"answer_id":76680650,"question_id":22570126,"body_markdown":"My short answer is that heaps can have duplicate **keys** but no duplicate **elements**. What does that mean?\r\n\r\nIn heaps, we have two different entities: (i) the **element** (which Cormen calls an object); and (ii) the **key**. Each element has a key associated with it. The element is an application object stored in the heap, and the key is a comparable value used in heap organization.\r\n\r\nIn Cormen&#39;s book, in the section about Heaps, he uses integers as keys in his examples. In this case, the elements are implicit, so we can have duplicate values because these values are keys.\r\n\r\nOn the other hand, in the section about Priority Queues, he explains:\r\n&gt; &quot;When you use a heap to implement a priority queue within a given\r\n&gt; application, elements of the priority queue correspond to objects in\r\n&gt; the application. Each object contains a key&quot;.\r\n\r\nOne example of this is the Prim algorithm. In this algorithm, the heap (priority queue) stores vertices as elements, and each vertex has a key value (the weight of a light edge connecting this vertex to the tree). In other words, the vertices are elements, and the keys are numbers associated with these vertices. Different vertices can have the same key value.\r\n\r\nOk! But why can&#39;t we have duplicate elements?&#160;Cormen explains:\r\n&gt; &quot;If the priority queue is implemented by a heap, you need to determine\r\n&gt; which application object corresponds to a given heap element, and vice\r\n&gt; versa. Because the heap elements are stored in an array, you need a\r\n&gt; way to map application objects to and from array indices. One way to\r\n&gt; map between application objects and heap elements uses handles... As\r\n&gt; an alternative to incorporating handles in application objects, you\r\n&gt; can store within the priority queue a mapping from application objects\r\n&gt; to array indices in the heap… One option for the mapping is a hash\r\n&gt; table.&quot;\r\n\r\nIn other words, given an element, the heap must find its heap index in constant time. We can do this using a hash table. How can we have the same element in two different places on the heap if the hash function will generate the same index for it!? The answer is that we cannot. Using handles, we have the same limitation.","title":"Can max/min heap trees contain duplicate values?","body":"<p>My short answer is that heaps can have duplicate <strong>keys</strong> but no duplicate <strong>elements</strong>. What does that mean?</p>\n<p>In heaps, we have two different entities: (i) the <strong>element</strong> (which Cormen calls an object); and (ii) the <strong>key</strong>. Each element has a key associated with it. The element is an application object stored in the heap, and the key is a comparable value used in heap organization.</p>\n<p>In Cormen's book, in the section about Heaps, he uses integers as keys in his examples. In this case, the elements are implicit, so we can have duplicate values because these values are keys.</p>\n<p>On the other hand, in the section about Priority Queues, he explains:</p>\n<blockquote>\n<p>&quot;When you use a heap to implement a priority queue within a given\napplication, elements of the priority queue correspond to objects in\nthe application. Each object contains a key&quot;.</p>\n</blockquote>\n<p>One example of this is the Prim algorithm. In this algorithm, the heap (priority queue) stores vertices as elements, and each vertex has a key value (the weight of a light edge connecting this vertex to the tree). In other words, the vertices are elements, and the keys are numbers associated with these vertices. Different vertices can have the same key value.</p>\n<p>Ok! But why can't we have duplicate elements? Cormen explains:</p>\n<blockquote>\n<p>&quot;If the priority queue is implemented by a heap, you need to determine\nwhich application object corresponds to a given heap element, and vice\nversa. Because the heap elements are stored in an array, you need a\nway to map application objects to and from array indices. One way to\nmap between application objects and heap elements uses handles... As\nan alternative to incorporating handles in application objects, you\ncan store within the priority queue a mapping from application objects\nto array indices in the heap… One option for the mapping is a hash\ntable.&quot;</p>\n</blockquote>\n<p>In other words, given an element, the heap must find its heap index in constant time. We can do this using a hash table. How can we have the same element in two different places on the heap if the hash function will generate the same index for it!? The answer is that we cannot. Using handles, we have the same limitation.</p>\n"}],"owner":{"account_id":4019228,"reputation":1891,"user_id":3310212,"accept_rate":80,"display_name":"Vimzy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50486,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":22570225,"answer_count":4,"score":37,"last_activity_date":1689259749,"creation_date":1395438470,"question_id":22570126,"body_markdown":"I&#39;m wondering if a max or min heap tree is allowed to have duplicate values? I&#39;ve been unsuccessful in trying to find information regarding this with online resources alone.\r\n\r\n","title":"Can max/min heap trees contain duplicate values?","body":"<p>I'm wondering if a max or min heap tree is allowed to have duplicate values? I've been unsuccessful in trying to find information regarding this with online resources alone.</p>\n"},{"tags":["java","android","rx-android","reactivex"],"comments":[{"owner":{"account_id":7139664,"reputation":50276,"user_id":5457853,"accept_rate":75,"display_name":"Thracian"},"score":0,"creation_date":1601538024,"post_id":64142690,"comment_id":113440397,"body_markdown":"You can catch the error in `onResumeNext` and call the method you wish based on instance of that `Exception`. Since the error itself also will end up in `onError` callback of `subscribe` you can set it do nothing, or simply ignore that kind of error there.","body":"You can catch the error in <code>onResumeNext</code> and call the method you wish based on instance of that <code>Exception</code>. Since the error itself also will end up in <code>onError</code> callback of <code>subscribe</code> you can set it do nothing, or simply ignore that kind of error there."}],"answers":[{"comments":[{"owner":{"account_id":233907,"reputation":10571,"user_id":499721,"accept_rate":83,"display_name":"bavaza"},"score":0,"creation_date":1601537568,"post_id":64142776,"comment_id":113440225,"body_markdown":"It has the same effect as throwing from `subscribe()`, which is not what I&#39;m after. I&#39;m looking for a way to pass control to the surrounding method.","body":"It has the same effect as throwing from <code>subscribe()</code>, which is not what I&#39;m after. I&#39;m looking for a way to pass control to the surrounding method."}],"tags":[],"owner":{"account_id":15528157,"reputation":485,"user_id":11202401,"display_name":"nt95"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601486819,"creation_date":1601486819,"answer_id":64142776,"question_id":64142690,"body_markdown":"Have you tried catching the error like so\r\n\r\n    \r\n        Observable.range(0, 5)\r\n            .subscribeOn(Schedulers.newThread())\r\n            .doOnError {\r\n                //your error caught here\r\n            }         \r\n            .observeOn(AndroidSchedulers.mainThread())\r\n            .map({ i -&gt; throw RuntimeException() })\r\n            .subscribe()","title":"Is it possible to re-throw an error in the calling method in RxAndroid?","body":"<p>Have you tried catching the error like so</p>\n<pre><code>    Observable.range(0, 5)\n        .subscribeOn(Schedulers.newThread())\n        .doOnError {\n            //your error caught here\n        }         \n        .observeOn(AndroidSchedulers.mainThread())\n        .map({ i -&gt; throw RuntimeException() })\n        .subscribe()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":233907,"reputation":10571,"user_id":499721,"accept_rate":83,"display_name":"bavaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689259113,"creation_date":1601559667,"answer_id":64156640,"question_id":64142690,"body_markdown":"Here&#39;s what I ended up doing. As far as I can tell, this is the only way to leave the ReactiveX pipe, and let the surrounding code handle the error. Would be happy if someone has a more elegant way:\r\n\r\n    public void testRxJava() {\r\n        try {\r\n            // will be null if no error, will hold a Throwable on error\r\n            AtomicReference&lt;Throwable&gt; opError = new AtomicReference&lt;&gt;(null);\r\n    \r\n            Observable.range(0, 5)\r\n                .subscribeOn(Schedulers.newThread())\r\n                .observeOn(AndroidSchedulers.mainThread())\r\n                .map(i -&gt; { throw new RuntimeException(); }) // throws\r\n                .blockingSubscribe(\r\n                    result -&gt; Log.i(TAG, &quot;will never happen&quot;),\r\n                    error -&gt; { opError.set(error); } // sets reference to the error without crashing the app\r\n                );\r\n    \r\n            // re-throw\r\n            if(opError.get() != null) {\r\n                throw new Exception(opError.get());\r\n            }\r\n\r\n        } catch (Exception ex) {\r\n            Log.e(&quot;Test&quot;, &quot;exception&quot;, ex);\r\n        }\r\n    }","title":"Is it possible to re-throw an error in the calling method in RxAndroid?","body":"<p>Here's what I ended up doing. As far as I can tell, this is the only way to leave the ReactiveX pipe, and let the surrounding code handle the error. Would be happy if someone has a more elegant way:</p>\n<pre><code>public void testRxJava() {\n    try {\n        // will be null if no error, will hold a Throwable on error\n        AtomicReference&lt;Throwable&gt; opError = new AtomicReference&lt;&gt;(null);\n\n        Observable.range(0, 5)\n            .subscribeOn(Schedulers.newThread())\n            .observeOn(AndroidSchedulers.mainThread())\n            .map(i -&gt; { throw new RuntimeException(); }) // throws\n            .blockingSubscribe(\n                result -&gt; Log.i(TAG, &quot;will never happen&quot;),\n                error -&gt; { opError.set(error); } // sets reference to the error without crashing the app\n            );\n\n        // re-throw\n        if(opError.get() != null) {\n            throw new Exception(opError.get());\n        }\n\n    } catch (Exception ex) {\n        Log.e(&quot;Test&quot;, &quot;exception&quot;, ex);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":233907,"reputation":10571,"user_id":499721,"accept_rate":83,"display_name":"bavaza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64156640,"answer_count":2,"score":1,"last_activity_date":1689259113,"creation_date":1601486445,"question_id":64142690,"body_markdown":"Inspired by [.Net TPL][1], I&#39;m trying to find a way to handle an error outside the RX pipe. Specifically, on error, I wish the Observer pipe to stop, and pass control back to the surrounding method. Something like:\r\n\r\n    public void testRxJava() {\r\n        try {\r\n            Observable.range(0, 5)\r\n                .subscribeOn(Schedulers.newThread())\r\n                .observeOn(AndroidSchedulers.mainThread())\r\n                .map(i -&gt; { throw new RuntimeException(); })\r\n                .subscribe();\r\n        } catch (Exception ex) {\r\n            // I was hoping to get here on the main thread, but crashed instead\r\n            Log.i(&quot;Test&quot;, &quot;Will never get here&quot;);\r\n        }\r\n    }\r\n\r\nThis will cause the application to crash with an `io.reactivex.rxjava3.exceptions.OnErrorNotImplementedException`, which will not be caught in the `catch` clause, and will instead invoke the main thread&#39;s `uncaughtException()` handler.\r\n\r\nTrying to throw from the error handler in `subscribe()` does not work either, again falling back to the `uncaughtException()` handler.\r\n\r\nIs there a way to re-throw or otherwise pass the error information to the calling method?\r\n\r\nA similar question for C# is found [here][2].\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/standard/parallel-programming/task-parallel-library-tpl\r\n  [2]: https://stackoverflow.com/questions/48581889/rx-rethrow-an-error-in-containing-method","title":"Is it possible to re-throw an error in the calling method in RxAndroid?","body":"<p>Inspired by <a href=\"https://learn.microsoft.com/en-us/dotnet/standard/parallel-programming/task-parallel-library-tpl\" rel=\"nofollow noreferrer\">.Net TPL</a>, I'm trying to find a way to handle an error outside the RX pipe. Specifically, on error, I wish the Observer pipe to stop, and pass control back to the surrounding method. Something like:</p>\n<pre><code>public void testRxJava() {\n    try {\n        Observable.range(0, 5)\n            .subscribeOn(Schedulers.newThread())\n            .observeOn(AndroidSchedulers.mainThread())\n            .map(i -&gt; { throw new RuntimeException(); })\n            .subscribe();\n    } catch (Exception ex) {\n        // I was hoping to get here on the main thread, but crashed instead\n        Log.i(&quot;Test&quot;, &quot;Will never get here&quot;);\n    }\n}\n</code></pre>\n<p>This will cause the application to crash with an <code>io.reactivex.rxjava3.exceptions.OnErrorNotImplementedException</code>, which will not be caught in the <code>catch</code> clause, and will instead invoke the main thread's <code>uncaughtException()</code> handler.</p>\n<p>Trying to throw from the error handler in <code>subscribe()</code> does not work either, again falling back to the <code>uncaughtException()</code> handler.</p>\n<p>Is there a way to re-throw or otherwise pass the error information to the calling method?</p>\n<p>A similar question for C# is found <a href=\"https://stackoverflow.com/questions/48581889/rx-rethrow-an-error-in-containing-method\">here</a>.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":10643203,"reputation":541,"user_id":7837530,"display_name":"Geeth"},"score":0,"creation_date":1627318375,"post_id":68533222,"comment_id":121118949,"body_markdown":"url should be  localhost:9090/adminserver.  please try this.","body":"url should be  localhost:9090/adminserver.  please try this."},{"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1627319111,"post_id":68533222,"comment_id":121119249,"body_markdown":"Does localhost:9090 work?","body":"Does localhost:9090 work?"}],"answers":[{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1627369546,"creation_date":1627369546,"answer_id":68540358,"question_id":68533222,"body_markdown":"The admin URL will be **http://localhost:9090** not localhost:9090/admin","title":"Getting 404 when access spring admin","body":"<p>The admin URL will be <strong>http://localhost:9090</strong> not localhost:9090/admin</p>\n"},{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689689195,"post_id":76680586,"comment_id":135247186,"body_markdown":"Are you sure? Order of annotations shouldn&#39;t matter.","body":"Are you sure? Order of annotations shouldn&#39;t matter."}],"tags":[],"owner":{"account_id":20233195,"reputation":1,"user_id":14839172,"display_name":"Kartik Pandey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689258937,"creation_date":1689258937,"answer_id":76680586,"question_id":68533222,"body_markdown":"For me I have used @EnableAdminServer before @SpringBootApplication\r\nthis was causing the issue I have changed the order and it worked","title":"Getting 404 when access spring admin","body":"<p>For me I have used @EnableAdminServer before @SpringBootApplication\nthis was causing the issue I have changed the order and it worked</p>\n"}],"owner":{"account_id":19364249,"reputation":111,"user_id":14158918,"display_name":"bootlover123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68540358,"answer_count":2,"score":2,"last_activity_date":1689258937,"creation_date":1627316005,"question_id":68533222,"body_markdown":"I have a very simple app:\r\n\r\nThis is my main class:\r\n\r\n    \r\n    @EnableAdminServer\r\n    @Configuration\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nAnd this is my pom.xml which is showing the dependency and parent tags:\r\n\r\n    \t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.9&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-boot-admin.version&gt;2.3.1&lt;/spring-boot-admin.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-admin-starter-server&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nAnd my properties file:\r\n\r\n    management.endpoints.web.exposure.include=*\r\n    management.endpoint.health.show-details=always\r\n    server.port = 9090\r\n    spring.application.name = adminserver\r\n\r\n\r\nAnd now all the tutorials i&#39;ve come across, they say simply adding the @EnableAdminServer should be enough set up the server. But when i go onto localhost:9090/admin, it results in a 404. I can go to the /actuator endpoint and see ?","title":"Getting 404 when access spring admin","body":"<p>I have a very simple app:</p>\n<p>This is my main class:</p>\n<pre><code>@EnableAdminServer\n@Configuration\n@SpringBootApplication\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<p>And this is my pom.xml which is showing the dependency and parent tags:</p>\n<pre><code>    &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.4.9&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;demo&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;demo&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;spring-boot-admin.version&gt;2.3.1&lt;/spring-boot-admin.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-admin-starter-server&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>And my properties file:</p>\n<pre><code>management.endpoints.web.exposure.include=*\nmanagement.endpoint.health.show-details=always\nserver.port = 9090\nspring.application.name = adminserver\n</code></pre>\n<p>And now all the tutorials i've come across, they say simply adding the @EnableAdminServer should be enough set up the server. But when i go onto localhost:9090/admin, it results in a 404. I can go to the /actuator endpoint and see ?</p>\n"},{"tags":["java","json","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1688565895,"post_id":76620990,"comment_id":135090712,"body_markdown":"There already is a solution in one of the questions you link, which you should use/prefer. If you really want to hack it like this use the spring created objectmapper not your own and write to a byte[] and count that length. This will however double the execution of your controller as you are serializing the payload twice (hence the recommendation for the other solution).","body":"There already is a solution in one of the questions you link, which you should use/prefer. If you really want to hack it like this use the spring created objectmapper not your own and write to a byte[] and count that length. This will however double the execution of your controller as you are serializing the payload twice (hence the recommendation for the other solution)."},{"owner":{"account_id":14924783,"reputation":161,"user_id":10776001,"display_name":"Heyyou"},"score":0,"creation_date":1689258557,"post_id":76620990,"comment_id":135190685,"body_markdown":"@M.Deinum Thanks for the comment. I have achieved it by modifying my code slightly.","body":"@M.Deinum Thanks for the comment. I have achieved it by modifying my code slightly."}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689272549,"post_id":76680509,"comment_id":135193814,"body_markdown":"Don&#39;t create a new `ObjectMapper` inject the one configured by Spring Boot as that is eventually also the one that is going to be used to write the map and that can be configured differently then the one you create here.","body":"Don&#39;t create a new <code>ObjectMapper</code> inject the one configured by Spring Boot as that is eventually also the one that is going to be used to write the map and that can be configured differently then the one you create here."},{"owner":{"account_id":14924783,"reputation":161,"user_id":10776001,"display_name":"Heyyou"},"score":0,"creation_date":1689320676,"post_id":76680509,"comment_id":135199603,"body_markdown":"Kindly, can you please post an answer or edit my answer as per your suggestion. I will try to implement it. Thanks.","body":"Kindly, can you please post an answer or edit my answer as per your suggestion. I will try to implement it. Thanks."}],"tags":[],"owner":{"account_id":14924783,"reputation":161,"user_id":10776001,"display_name":"Heyyou"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689258393,"creation_date":1689258393,"answer_id":76680509,"question_id":76620990,"body_markdown":"I have done some modifications to the answer in one of the questions linked above. Below code gives me correct value for content-length header and my response json is served fully.\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/rest&quot;)\r\n    public class EmployeeController {\r\n        @GetMapping(value = /employees, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;Map&lt;String, List&lt;Object&gt;&gt;&gt; getEmployeeDetails(@RequestParam(value = &quot;organization_id&quot;, required = false) Integer orgId) throws IOException {\r\n            Map&lt;String, List&lt;Object&gt;&gt; responseMap = //some method returns the data\r\n            ObjectMapper objMapper = new ObjectMapper();\r\n            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n            //getFactory() and createJsonGenerator() methods are deprecated\r\n            JsonGenerator jsonGenerator = objMapper.getFactory().createGenerator(byteArrayOutputStream);\r\n            objMapper.writeValue(jsonGenerator, responseMap);\r\n            HttpHeaders httpHeaders = new HttpHeaders();\r\n            httpHeaders.add(HttpHeaders.CONTENT_LENGTH,String.valueOf(byteArrayOutputStream.size()));\r\n            return ResponseEntity.ok().headers(httpHeaders).body(responseMap);\r\n        }\r\n    }","title":"Set Content-Length header in Response Entity (Spring Boot) using Java","body":"<p>I have done some modifications to the answer in one of the questions linked above. Below code gives me correct value for content-length header and my response json is served fully.</p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n@RestController\n@RequestMapping(&quot;/rest&quot;)\npublic class EmployeeController {\n    @GetMapping(value = /employees, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;Map&lt;String, List&lt;Object&gt;&gt;&gt; getEmployeeDetails(@RequestParam(value = &quot;organization_id&quot;, required = false) Integer orgId) throws IOException {\n        Map&lt;String, List&lt;Object&gt;&gt; responseMap = //some method returns the data\n        ObjectMapper objMapper = new ObjectMapper();\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n        //getFactory() and createJsonGenerator() methods are deprecated\n        JsonGenerator jsonGenerator = objMapper.getFactory().createGenerator(byteArrayOutputStream);\n        objMapper.writeValue(jsonGenerator, responseMap);\n        HttpHeaders httpHeaders = new HttpHeaders();\n        httpHeaders.add(HttpHeaders.CONTENT_LENGTH,String.valueOf(byteArrayOutputStream.size()));\n        return ResponseEntity.ok().headers(httpHeaders).body(responseMap);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14924783,"reputation":161,"user_id":10776001,"display_name":"Heyyou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1643,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76680509,"answer_count":1,"score":0,"last_activity_date":1689258673,"creation_date":1688564775,"question_id":76620990,"body_markdown":"I would like to set the content-length response header to one of my controllers as it is needed. After referring these two questions ([First][1], [Second][2]), I can able to understand that setting response header would be critical. But, I need this for sure. My code snippet is as follows,\r\n\r\n    @GetMapping(value = /employees, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Map&lt;String, List&lt;Object&gt;&gt;&gt; getEmployeeDetails(@RequestParam(value = &quot;organization_id&quot;, required = false) Integer orgId) {\r\n    \r\n          Map&lt;String, List&lt;Object&gt;&gt; responseMap = //some method returns the data\r\n          ObjectMapper objMapper = new ObjectMapper();\r\n          String responseString = objMapper.writeValueAsString(responseMap);\r\n          HttpHeaders httpHeaders = new HttpHeaders();\r\n          httpHeaders.add(HttpHeaders.CONTENT_LENGTH, String.valueOf(responseString.length()));\r\n          return ResponseEntity.ok().headers(httpHeaders).body(responseMap);\r\n    }\r\n    \r\nIn the above case, Content-Length is not calculated correctly and the response json is shrinked. (i.e if the map contains 50 objects, response is shrinked somewhere inbetween)\r\n\r\nPlease help how to achieve the expected outcome. Thanks in advance.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26840190/set-content-length-using-mappingjacksonhttpmessageconverter\r\n  [2]: https://stackoverflow.com/questions/12380404/how-to-have-mappingjacksonhttpmessageconverter-set-the-content-length","title":"Set Content-Length header in Response Entity (Spring Boot) using Java","body":"<p>I would like to set the content-length response header to one of my controllers as it is needed. After referring these two questions (<a href=\"https://stackoverflow.com/questions/26840190/set-content-length-using-mappingjacksonhttpmessageconverter\">First</a>, <a href=\"https://stackoverflow.com/questions/12380404/how-to-have-mappingjacksonhttpmessageconverter-set-the-content-length\">Second</a>), I can able to understand that setting response header would be critical. But, I need this for sure. My code snippet is as follows,</p>\n<pre><code>@GetMapping(value = /employees, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Map&lt;String, List&lt;Object&gt;&gt;&gt; getEmployeeDetails(@RequestParam(value = &quot;organization_id&quot;, required = false) Integer orgId) {\n\n      Map&lt;String, List&lt;Object&gt;&gt; responseMap = //some method returns the data\n      ObjectMapper objMapper = new ObjectMapper();\n      String responseString = objMapper.writeValueAsString(responseMap);\n      HttpHeaders httpHeaders = new HttpHeaders();\n      httpHeaders.add(HttpHeaders.CONTENT_LENGTH, String.valueOf(responseString.length()));\n      return ResponseEntity.ok().headers(httpHeaders).body(responseMap);\n}\n</code></pre>\n<p>In the above case, Content-Length is not calculated correctly and the response json is shrinked. (i.e if the map contains 50 objects, response is shrinked somewhere inbetween)</p>\n<p>Please help how to achieve the expected outcome. Thanks in advance.</p>\n"},{"tags":["java","spring-boot","udp","spring-integration","spring-integration-dsl"],"answers":[{"comments":[{"owner":{"account_id":28633305,"reputation":1,"user_id":21923878,"display_name":"Andrea P."},"score":0,"creation_date":1689260869,"post_id":76680479,"comment_id":135191320,"body_markdown":"Thanks for the response Artem.\nIt doesn&#39;t seems a simple work to do, also because we need to generate N UDP channels, one for each PLC machine that we will configure on our application\nWe will think if it is better to develop a new connection, as you mentioned, or continuing to use the old one","body":"Thanks for the response Artem. It doesn&#39;t seems a simple work to do, also because we need to generate N UDP channels, one for each PLC machine that we will configure on our application We will think if it is better to develop a new connection, as you mentioned, or continuing to use the old one"}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689258200,"creation_date":1689258200,"answer_id":76680479,"question_id":76677487,"body_markdown":"There is no Outbound Gateway implementation for UDP: https://github.com/spring-projects/spring-integration/issues/5796.\r\n\r\nYou can use two channel adapters combination and specify a `UnicastSendingMessageHandler.socketExpression` for `UnicastReceivingChannelAdapter.getSocket()`.\r\n\r\nThen you can use a `BarrierMessageHandler` to correlate request and reply. The server side must ensure to transfer a correlation data back to the reply.\r\n\r\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#udp-adapters\r\n\r\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#barrier\r\n\r\nI understand that it is much involved, but there is no way right now to easy implement a gateway solution in Spring Integration.","title":"How to convert UDP DatagramSocket to Spring Integration","body":"<p>There is no Outbound Gateway implementation for UDP: <a href=\"https://github.com/spring-projects/spring-integration/issues/5796\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-integration/issues/5796</a>.</p>\n<p>You can use two channel adapters combination and specify a <code>UnicastSendingMessageHandler.socketExpression</code> for <code>UnicastReceivingChannelAdapter.getSocket()</code>.</p>\n<p>Then you can use a <code>BarrierMessageHandler</code> to correlate request and reply. The server side must ensure to transfer a correlation data back to the reply.</p>\n<p><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#udp-adapters\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#udp-adapters</a></p>\n<p><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#barrier\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#barrier</a></p>\n<p>I understand that it is much involved, but there is no way right now to easy implement a gateway solution in Spring Integration.</p>\n"}],"owner":{"account_id":28633305,"reputation":1,"user_id":21923878,"display_name":"Andrea P."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689258200,"creation_date":1689237862,"question_id":76677487,"body_markdown":"I&#39;m new about Spring Integration, and I&#39;m a little confusing about how to implements a request-response UDP using Spring Integration.\r\n\r\nI&#39;m usigin java17 and spring-boot 3.1.\r\n\r\nI need to send one UDP message to a external System (in specific a PLC) and wait a response from it.\r\nI would like to convert this code \r\n\r\n```\r\nbyte[] receiveData = new byte[1000]; // Max numeber of byte when I read a PLC Omron\r\n\t\tDatagramPacket receivePacket = new DatagramPacket(receiveData, receiveData.length);\r\n\t\ttry (DatagramSocket clientSocket = new DatagramSocket()) {\r\n//cmd - byte[] cmd\r\n\t\t\tDatagramPacket sendPacket = new DatagramPacket(cmd, cmd.length, getIpAddress(), getPort());\r\n\t\t\tclientSocket.send(sendPacket);\r\n\r\n\t\t\tclientSocket.setSoTimeout(1000);\r\n\t\t\t// wait response\r\n\t\t\tclientSocket.receive(receivePacket);// blocking with timeout\r\n\t\t\t\r\n\t\t} \r\n```\r\n\r\ninto Spring Integration approach ( if it is possible )\r\n\r\n\r\n\r\nI have tried to use  \r\n\r\n```\r\nUnicastSendingMessageHandler adapter = new UnicastSendingMessageHandler(getHost(), getPort());\r\nunicastSendingMessageHandler.handleMessage(MessageBuilder.withPayload(messageToSend).build());\r\n```\r\ngetHost, getPort and messageToSend can be changing. They depend on how many different system I need to contact.\r\n\r\nIn this way I send the message to the system but, I don&#39;t know what I need to do to wait the response.\r\n\r\nAnyone can help me?\r\nThanks a lot!\r\n","title":"How to convert UDP DatagramSocket to Spring Integration","body":"<p>I'm new about Spring Integration, and I'm a little confusing about how to implements a request-response UDP using Spring Integration.</p>\n<p>I'm usigin java17 and spring-boot 3.1.</p>\n<p>I need to send one UDP message to a external System (in specific a PLC) and wait a response from it.\nI would like to convert this code</p>\n<pre><code>byte[] receiveData = new byte[1000]; // Max numeber of byte when I read a PLC Omron\n        DatagramPacket receivePacket = new DatagramPacket(receiveData, receiveData.length);\n        try (DatagramSocket clientSocket = new DatagramSocket()) {\n//cmd - byte[] cmd\n            DatagramPacket sendPacket = new DatagramPacket(cmd, cmd.length, getIpAddress(), getPort());\n            clientSocket.send(sendPacket);\n\n            clientSocket.setSoTimeout(1000);\n            // wait response\n            clientSocket.receive(receivePacket);// blocking with timeout\n            \n        } \n</code></pre>\n<p>into Spring Integration approach ( if it is possible )</p>\n<p>I have tried to use</p>\n<pre><code>UnicastSendingMessageHandler adapter = new UnicastSendingMessageHandler(getHost(), getPort());\nunicastSendingMessageHandler.handleMessage(MessageBuilder.withPayload(messageToSend).build());\n</code></pre>\n<p>getHost, getPort and messageToSend can be changing. They depend on how many different system I need to contact.</p>\n<p>In this way I send the message to the system but, I don't know what I need to do to wait the response.</p>\n<p>Anyone can help me?\nThanks a lot!</p>\n"},{"tags":["java","kotlin","gradle","dependencies"],"comments":[{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1689258788,"post_id":76680419,"comment_id":135190754,"body_markdown":"If you are using Gradle: Gradle does not load transitive dependencies by default, but it does, if you are using the dependency not with &quot;implementation ABC&quot; but with &quot;api ABC&quot;. Maybe this will help you.","body":"If you are using Gradle: Gradle does not load transitive dependencies by default, but it does, if you are using the dependency not with &quot;implementation ABC&quot; but with &quot;api ABC&quot;. Maybe this will help you."},{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1689262210,"post_id":76680419,"comment_id":135191669,"body_markdown":"AFAIK, no native support exists for it...  But, several workarounds come to mind... you could wrap one of the versions (perhaps the older one), and take the time to fat jar all the deps into that, and then import the fat jar into your outer fat jar..  You could fork either of the versions and work out the differences in upgrading it (prob what I&#39;d do).  You could open an issue w/ `a` or `b` (or both) and ask them to upgrade to latest....  That&#39;s just what comes to mind.","body":"AFAIK, no native support exists for it...  But, several workarounds come to mind... you could wrap one of the versions (perhaps the older one), and take the time to fat jar all the deps into that, and then import the fat jar into your outer fat jar..  You could fork either of the versions and work out the differences in upgrading it (prob what I&#39;d do).  You could open an issue w/ <code>a</code> or <code>b</code> (or both) and ask them to upgrade to latest....  That&#39;s just what comes to mind."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1689263828,"post_id":76680419,"comment_id":135192064,"body_markdown":"There is no easy solution. The most versatile one is probably the &quot;module framework&quot; approach that is used by frameworks like OSGi: Do *not* bundle your dependencies into the same jar as your main application. Do *not* specify those dependencies on the application classpath. Do load each dependency and its transitive dependencies explicitly through a new [URLClassLoader](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLClassLoader.html) instance. (I.e. you need a separate class loader instance for each dependency.) Lots of work, tough to get right.","body":"There is no easy solution. The most versatile one is probably the &quot;module framework&quot; approach that is used by frameworks like OSGi: Do <i>not</i> bundle your dependencies into the same jar as your main application. Do <i>not</i> specify those dependencies on the application classpath. Do load each dependency and its transitive dependencies explicitly through a new <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLClassLoader.html\" rel=\"nofollow noreferrer\">URLClassLoader</a> instance. (I.e. you need a separate class loader instance for each dependency.) Lots of work, tough to get right."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1689281480,"post_id":76680419,"comment_id":135195478,"body_markdown":"I think shadow relocate is indeed a way to go, but it seems to me you use it incorrectly. You should create lib A and lib B, each of them having a different dependency C and in both of them (or at least B) you should relocate C to another package. You should not relocate A or B as you do. Then in your final application you should use fat jars of A and B (not their regular jars) without any further relocations.","body":"I think shadow relocate is indeed a way to go, but it seems to me you use it incorrectly. You should create lib A and lib B, each of them having a different dependency C and in both of them (or at least B) you should relocate C to another package. You should not relocate A or B as you do. Then in your final application you should use fat jars of A and B (not their regular jars) without any further relocations."}],"owner":{"account_id":29010572,"reputation":1,"user_id":22222175,"display_name":"TomMo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689257950,"creation_date":1689257950,"question_id":76680419,"body_markdown":"Currently I am using 2 packages in my project, let&#39;s name them `com.example.a` and `com.example.b`.\r\n\r\nThe problem is that these two packages depend on the same other lib, let&#39;s name it `com.example.c`, but not the same version. Unfortunately when I run my fat jar that includes those libs, I have exceptions indicating there is a conflict because `com.example.b` needs a different version of `com.example.c` that the one included into the jar.\r\n\r\n\r\nTo solve this I tried to relocate the `com.example.a` package using the `shadow` plugin in order to make each lib have its own version of `com.example.c`. Using gradle:\r\n\r\n```\r\ntasks.getByName&lt;ShadowJar&gt;(&quot;shadowJar&quot;) {\r\n    relocate(&quot;com.example.a&quot;, &quot;com.example.relocated.a&quot;)\r\n}\r\n```\r\n\r\nBut since the `relocate` method is not recursive, only the lib `com.example.a` itself has been relocated but not its dependencies so the problem was not solved.\r\n\r\nIs there a way to recurcively relocate a package and all its dependencies in order to it to use its own version of `com.example.c`? Or at least is there a way to build a jar containing the two versions of the same dependency?\r\n","title":"Java two libraries depend on the same lib but different versions?","body":"<p>Currently I am using 2 packages in my project, let's name them <code>com.example.a</code> and <code>com.example.b</code>.</p>\n<p>The problem is that these two packages depend on the same other lib, let's name it <code>com.example.c</code>, but not the same version. Unfortunately when I run my fat jar that includes those libs, I have exceptions indicating there is a conflict because <code>com.example.b</code> needs a different version of <code>com.example.c</code> that the one included into the jar.</p>\n<p>To solve this I tried to relocate the <code>com.example.a</code> package using the <code>shadow</code> plugin in order to make each lib have its own version of <code>com.example.c</code>. Using gradle:</p>\n<pre><code>tasks.getByName&lt;ShadowJar&gt;(&quot;shadowJar&quot;) {\n    relocate(&quot;com.example.a&quot;, &quot;com.example.relocated.a&quot;)\n}\n</code></pre>\n<p>But since the <code>relocate</code> method is not recursive, only the lib <code>com.example.a</code> itself has been relocated but not its dependencies so the problem was not solved.</p>\n<p>Is there a way to recurcively relocate a package and all its dependencies in order to it to use its own version of <code>com.example.c</code>? Or at least is there a way to build a jar containing the two versions of the same dependency?</p>\n"},{"tags":["java","maven","intellij-idea","pom.xml"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1689258236,"post_id":76680211,"comment_id":135190595,"body_markdown":"[Re-import](https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start) the project and make sure it downloads all the dependencies, try running from the command line Maven via `mvn spring-boot:run`.","body":"<a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start\" rel=\"nofollow noreferrer\">Re-import</a> the project and make sure it downloads all the dependencies, try running from the command line Maven via <code>mvn spring-boot:run</code>."},{"owner":{"account_id":21830834,"reputation":15,"user_id":19027356,"display_name":"John"},"score":0,"creation_date":1689259415,"post_id":76680211,"comment_id":135190914,"body_markdown":"@CrazyCoder Hi, I reimported the project and tried to run the command but I get this error: &quot;Some problems were encountered while building the effective settings\n[WARNING] expected START_TAG or END_TAG not TEXT (position: TEXT seen ... /home/myfolder/.m2/settings.xml, line 15, column 4&quot;.","body":"@CrazyCoder Hi, I reimported the project and tried to run the command but I get this error: &quot;Some problems were encountered while building the effective settings [WARNING] expected START_TAG or END_TAG not TEXT (position: TEXT seen ... /home/myfolder/.m2/settings.xml, line 15, column 4&quot;."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1689259969,"post_id":76680211,"comment_id":135191070,"body_markdown":"Try deleting settings.xml file.","body":"Try deleting settings.xml file."},{"owner":{"account_id":21830834,"reputation":15,"user_id":19027356,"display_name":"John"},"score":0,"creation_date":1689262997,"post_id":76680211,"comment_id":135191871,"body_markdown":"@CrazyCoder ok I deleted the settings.xml file and now? Re-run the command?","body":"@CrazyCoder ok I deleted the settings.xml file and now? Re-run the command?"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1689263131,"post_id":76680211,"comment_id":135191900,"body_markdown":"Yes, I would do that.","body":"Yes, I would do that."},{"owner":{"account_id":21830834,"reputation":15,"user_id":19027356,"display_name":"John"},"score":0,"creation_date":1689263736,"post_id":76680211,"comment_id":135192044,"body_markdown":"@CrazyCoder I get this error : &quot;Could not create local repository at /home/myfolder/.m2/repository -&gt; [Help 1]&quot;","body":"@CrazyCoder I get this error : &quot;Could not create local repository at /home/myfolder/.m2/repository -&gt; [Help 1]&quot;"},{"owner":{"account_id":21830834,"reputation":15,"user_id":19027356,"display_name":"John"},"score":0,"creation_date":1689264712,"post_id":76680211,"comment_id":135192326,"body_markdown":"I also deleted the .m2 folder and re-run the command but the build failed: &quot;Could not find goal &#39;ru&#39; in plugin org.springframework.boot:spring-boot-maven-plugin:3.1.1 among available goals build-image, build-image-no-fork, build-info, help, process-aot, process-test-aot, repackage, run, start, stop, test-run -&gt; [Help 1]&quot;","body":"I also deleted the .m2 folder and re-run the command but the build failed: &quot;Could not find goal &#39;ru&#39; in plugin org.springframework.boot:spring-boot-maven-plugin:3.1.1 among available goals build-image, build-image-no-fork, build-info, help, process-aot, process-test-aot, repackage, run, start, stop, test-run -&gt; [Help 1]&quot;"},{"owner":{"account_id":21830834,"reputation":15,"user_id":19027356,"display_name":"John"},"score":0,"creation_date":1689265154,"post_id":76680211,"comment_id":135192443,"body_markdown":"@CrazyCoder I fix it, I did maven clean and reload all maven project via intellij and the errors go away and the application run successfully!. Thanks you so much.","body":"@CrazyCoder I fix it, I did maven clean and reload all maven project via intellij and the errors go away and the application run successfully!. Thanks you so much."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1689268026,"post_id":76680211,"comment_id":135192986,"body_markdown":"Close the project in intellij. Close intelliJ ... delete the `.idea` directory and start IDEA new an reimport the project...That is not related to Maven... It&#39;s an IntelliJ issue...","body":"Close the project in intellij. Close intelliJ ... delete the <code>.idea</code> directory and start IDEA new an reimport the project...That is not related to Maven... It&#39;s an IntelliJ issue..."}],"owner":{"account_id":21830834,"reputation":15,"user_id":19027356,"display_name":"John"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689257730,"creation_date":1689256634,"question_id":76680211,"body_markdown":"in images below I show you my SpringBoot project configuration by start.spring.io/. I choose (for now) two dependency (spring dev tools and spring web), now I run the application but I got this error. What is the error?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nMaven version installe 3.9.3\r\nJava openjdk 17\r\nintellij 2023.1.4 community edition\r\n\r\nThanks guys\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/maaEL.jpg\r\n  [2]: https://i.stack.imgur.com/fXgeu.png","title":"SpringBootApp issue with package","body":"<p>in images below I show you my SpringBoot project configuration by start.spring.io/. I choose (for now) two dependency (spring dev tools and spring web), now I run the application but I got this error. What is the error?</p>\n<p><a href=\"https://i.stack.imgur.com/maaEL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/maaEL.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/fXgeu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fXgeu.png\" alt=\"enter image description here\" /></a></p>\n<p>Maven version installe 3.9.3\nJava openjdk 17\nintellij 2023.1.4 community edition</p>\n<p>Thanks guys</p>\n"},{"tags":["java","spring","spring-boot","constructor","javabeans"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689256388,"post_id":76680086,"comment_id":135190109,"body_markdown":"Make sure they are in packages that are scanned by Spring Boot.","body":"Make sure they are in packages that are scanned by Spring Boot."},{"owner":{"account_id":17641665,"reputation":626,"user_id":12803834,"display_name":"Praveen RL"},"score":0,"creation_date":1689256455,"post_id":76680086,"comment_id":135190128,"body_markdown":"@M.Deinum yes it is in package","body":"@M.Deinum yes it is in package"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689256522,"post_id":76680086,"comment_id":135190150,"body_markdown":"Please include the package statements you have and add your Spring Boot appliation. I doubt they are else the error wouldn&#39;t occur.","body":"Please include the package statements you have and add your Spring Boot appliation. I doubt they are else the error wouldn&#39;t occur."}],"owner":{"account_id":17641665,"reputation":626,"user_id":12803834,"display_name":"Praveen RL"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689257439,"creation_date":1689255843,"question_id":76680086,"body_markdown":"If I don&#39;t use @Component for the class the application is running, but I need to use @Component for the class.\r\n\r\nI need to use a @Service class interface i.e IRestClient\r\n\r\nService class\r\n\r\n    @Service\r\n    public class RestClient implements IRestClient {\r\n    }\r\n\r\nComponent class\r\n\r\n    package one.business;\r\n    \r\n    import two.client.IRestClient;\r\n    \r\n    @Component\r\n        public class Validation implements IRun&lt;RunModel&gt; {\r\n            private IRestClient restClient;\r\n        \r\n           public Validation(final IRestClient restClient) {\r\n                this.restClient= restClient;\r\n            }\r\n        }\r\n\r\nIf I run the application I&#39;m getting below error.\r\n\r\n&gt; Parameter 0 of constructor in one.business.Validation required a bean\r\n&gt; of type two.client.IRestClient&#39; that could not be found.\r\n\r\nI tried by adding @Autowired also, but not working.","title":"Parameter 0 of constructor in one.business.Validation required a bean of type two.client.IRestClient&#39; that could not be found","body":"<p>If I don't use @Component for the class the application is running, but I need to use @Component for the class.</p>\n<p>I need to use a @Service class interface i.e IRestClient</p>\n<p>Service class</p>\n<pre><code>@Service\npublic class RestClient implements IRestClient {\n}\n</code></pre>\n<p>Component class</p>\n<pre><code>package one.business;\n\nimport two.client.IRestClient;\n\n@Component\n    public class Validation implements IRun&lt;RunModel&gt; {\n        private IRestClient restClient;\n    \n       public Validation(final IRestClient restClient) {\n            this.restClient= restClient;\n        }\n    }\n</code></pre>\n<p>If I run the application I'm getting below error.</p>\n<blockquote>\n<p>Parameter 0 of constructor in one.business.Validation required a bean\nof type two.client.IRestClient' that could not be found.</p>\n</blockquote>\n<p>I tried by adding @Autowired also, but not working.</p>\n"},{"tags":["java","mongodb","spring-boot","aggregation-framework"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1689269636,"post_id":76680335,"comment_id":135193268,"body_markdown":"At a glance I think what you want is `$unionWith`. May need to add some sort key to documents in each group for use at the end of the pipeline but that really depends on your specific business logic","body":"At a glance I think what you want is <code>$unionWith</code>. May need to add some sort key to documents in each group for use at the end of the pipeline but that really depends on your specific business logic"}],"owner":{"account_id":19303462,"reputation":203,"user_id":14110832,"display_name":"Ritesh Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689257414,"creation_date":1689257414,"question_id":76680335,"body_markdown":"I am querying MongoDB to retrieve feeds based on specific criteria. The initial requirement is to fetch all the feeds belonging to the logged-in user and the users they are following. These results should be sorted based on the creation date and score. Subsequently, I need to retrieve the remaining feeds from the database, sort them as well, and apply a limit of 20 on the combined results.\r\n\r\nThe problem I am facing is that when using the aggregation pipeline, the result from the previous stage is always used as input for the subsequent stage. However, I am seeking a solution to achieve a different behavior at the database layer using the aggregation framework, rather than handling it in Java. Could someone please provide guidance on the necessary changes required to meet this requirement?\r\n\r\nTo illustrate, let&#39;s consider an example where there are a total of four feeds in the database:\r\n\r\nFeed 1 belongs to the logged-in user.\r\nFeeds 2 and 4 belong to other users.\r\nFeed 3 belongs to a user that the logged-in user is following.\r\nIn this scenario, the desired output would be: 1, 3, 2, 4.\r\n\r\n\r\n```\r\n    @Override\r\n    public List&lt;StoryDoc&gt; getInfiniteFeedsNew(String userId, Integer skip, Integer limit){\r\n\r\n        //get all the users which logged-in user is following\r\n        List&lt;String&gt; followings = userDbAdapter.getLoggedInUserFollowings(userId);\r\n\r\n        List&lt;AggregationOperation&gt; pipeline = new ArrayList&lt;&gt;();\r\n\r\n        // Match stage to include the logged-in user and their followings\r\n        MatchOperation matchIncludeUserAndFollowings = Aggregation.match(new Criteria().orOperator(\r\n                Criteria.where(DocumentFields.OWNER_ID).in(followings),\r\n                Criteria.where(DocumentFields.OWNER_ID).is(userId)\r\n        ));\r\n        pipeline.add(matchIncludeUserAndFollowings);\r\n\r\n\r\n        pipeline.add(Aggregation.sort(Sort.Direction.DESC, DocumentFields.SCORE, DocumentFields.CREATED_ON));\r\n        \r\n\r\n        // Match stage to include all other feeds\r\n        MatchOperation matchIncludeAllFeeds = Aggregation.match(new Criteria().andOperator(\r\n                Criteria.where(DocumentFields.OWNER_ID).ne(userId),\r\n                Criteria.where(DocumentFields.OWNER_ID).nin(followings)\r\n        ));\r\n        pipeline.add(matchIncludeAllFeeds);\r\n\r\n        pipeline.add(Aggregation.sort(Sort.Direction.DESC, DocumentFields.SCORE, DocumentFields.CREATED_ON));\r\n\r\n        // Skip stage to skip the requested number of stories\r\n        pipeline.add(Aggregation.skip(skip));\r\n\r\n\r\n        // Limit stage to limit the number of stories returned\r\n        pipeline.add(Aggregation.limit(limit));\r\n        \r\n        \r\n\r\n        Aggregation aggregation = Aggregation.newAggregation(pipeline);\r\n        AggregationResults&lt;StoryDoc&gt; aggregationResults = mongoTemplate.aggregate(aggregation, CollectionNames.STORY, StoryDoc.class);\r\n        return new ArrayList();\r\n}\r\n```\r\n\r\n\r\nI have tried the above code but it is not working as per the requirement above.","title":"How to Properly Sort and Combine Feeds in MongoDB&#39;s Aggregation Pipeline?","body":"<p>I am querying MongoDB to retrieve feeds based on specific criteria. The initial requirement is to fetch all the feeds belonging to the logged-in user and the users they are following. These results should be sorted based on the creation date and score. Subsequently, I need to retrieve the remaining feeds from the database, sort them as well, and apply a limit of 20 on the combined results.</p>\n<p>The problem I am facing is that when using the aggregation pipeline, the result from the previous stage is always used as input for the subsequent stage. However, I am seeking a solution to achieve a different behavior at the database layer using the aggregation framework, rather than handling it in Java. Could someone please provide guidance on the necessary changes required to meet this requirement?</p>\n<p>To illustrate, let's consider an example where there are a total of four feeds in the database:</p>\n<p>Feed 1 belongs to the logged-in user.\nFeeds 2 and 4 belong to other users.\nFeed 3 belongs to a user that the logged-in user is following.\nIn this scenario, the desired output would be: 1, 3, 2, 4.</p>\n<pre><code>    @Override\n    public List&lt;StoryDoc&gt; getInfiniteFeedsNew(String userId, Integer skip, Integer limit){\n\n        //get all the users which logged-in user is following\n        List&lt;String&gt; followings = userDbAdapter.getLoggedInUserFollowings(userId);\n\n        List&lt;AggregationOperation&gt; pipeline = new ArrayList&lt;&gt;();\n\n        // Match stage to include the logged-in user and their followings\n        MatchOperation matchIncludeUserAndFollowings = Aggregation.match(new Criteria().orOperator(\n                Criteria.where(DocumentFields.OWNER_ID).in(followings),\n                Criteria.where(DocumentFields.OWNER_ID).is(userId)\n        ));\n        pipeline.add(matchIncludeUserAndFollowings);\n\n\n        pipeline.add(Aggregation.sort(Sort.Direction.DESC, DocumentFields.SCORE, DocumentFields.CREATED_ON));\n        \n\n        // Match stage to include all other feeds\n        MatchOperation matchIncludeAllFeeds = Aggregation.match(new Criteria().andOperator(\n                Criteria.where(DocumentFields.OWNER_ID).ne(userId),\n                Criteria.where(DocumentFields.OWNER_ID).nin(followings)\n        ));\n        pipeline.add(matchIncludeAllFeeds);\n\n        pipeline.add(Aggregation.sort(Sort.Direction.DESC, DocumentFields.SCORE, DocumentFields.CREATED_ON));\n\n        // Skip stage to skip the requested number of stories\n        pipeline.add(Aggregation.skip(skip));\n\n\n        // Limit stage to limit the number of stories returned\n        pipeline.add(Aggregation.limit(limit));\n        \n        \n\n        Aggregation aggregation = Aggregation.newAggregation(pipeline);\n        AggregationResults&lt;StoryDoc&gt; aggregationResults = mongoTemplate.aggregate(aggregation, CollectionNames.STORY, StoryDoc.class);\n        return new ArrayList();\n}\n</code></pre>\n<p>I have tried the above code but it is not working as per the requirement above.</p>\n"},{"tags":["java","windows","jpackage","java-18"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1674148891,"post_id":75173536,"comment_id":132658178,"body_markdown":"Perhaps check JDK bug db. I see same as you - Task manager lists a duplicated exe via JDK20-jpackage, no duplicated exe on JDK14-jpackage for exact same packaged code. Following `ProcessHandle.current().parent() ...` shows extra value, a parent with same command  &quot;someapp.exe&quot; but which isn&#39;t visible to `jps` or `jstack` so isn&#39;t a JVM.","body":"Perhaps check JDK bug db. I see same as you - Task manager lists a duplicated exe via JDK20-jpackage, no duplicated exe on JDK14-jpackage for exact same packaged code. Following <code>ProcessHandle.current().parent() ...</code> shows extra value, a parent with same command  &quot;someapp.exe&quot; but which isn&#39;t visible to <code>jps</code> or <code>jstack</code> so isn&#39;t a JVM."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1674196624,"post_id":75173536,"comment_id":132666281,"body_markdown":"I use Eclipse Adoptium JDK 17 + JPackage to package it into a .msi file. After the installation is complete, a startup shortcut will be generated on the desktop. No matter whether you click the startup shortcut or directly click the app exe, there will not be multiple exe executions. My program UI is using Eclipse SWT, not SWING package.","body":"I use Eclipse Adoptium JDK 17 + JPackage to package it into a .msi file. After the installation is complete, a startup shortcut will be generated on the desktop. No matter whether you click the startup shortcut or directly click the app exe, there will not be multiple exe executions. My program UI is using Eclipse SWT, not SWING package."},{"owner":{"account_id":27573115,"reputation":41,"user_id":21043917,"display_name":"aauclair"},"score":0,"creation_date":1674218975,"post_id":75173536,"comment_id":132672672,"body_markdown":"I&#39;ve been unable to find anything on the JDK bug db for this issue. Tried to look for quite a while before writing this question. I just removed Swing entirely and just added a large sleep. The app still creates multiple exe&#39;s. Unfortunately I can&#39;t use jpackage to build an installer. We use app-image to generate executables that we then add to our own installer because we have multiple Java Swing UIs together in a single installer (plus tons of C++ apps).","body":"I&#39;ve been unable to find anything on the JDK bug db for this issue. Tried to look for quite a while before writing this question. I just removed Swing entirely and just added a large sleep. The app still creates multiple exe&#39;s. Unfortunately I can&#39;t use jpackage to build an installer. We use app-image to generate executables that we then add to our own installer because we have multiple Java Swing UIs together in a single installer (plus tons of C++ apps)."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1674233710,"post_id":75173536,"comment_id":132678080,"body_markdown":"Yes it&#39;s not related to Swing: I made my check using my own app deployment, not your example above.","body":"Yes it&#39;s not related to Swing: I made my check using my own app deployment, not your example above."}],"answers":[{"comments":[{"owner":{"account_id":27573115,"reputation":41,"user_id":21043917,"display_name":"aauclair"},"score":0,"creation_date":1690203797,"post_id":76680332,"comment_id":135316529,"body_markdown":"I don&#39;t think it&#39;s a big enough issue to do that. From your comments on the bug report, it sounds like we have the same issue with it. If the parent process exits, we get popups about the child process exiting.","body":"I don&#39;t think it&#39;s a big enough issue to do that. From your comments on the bug report, it sounds like we have the same issue with it. If the parent process exits, we get popups about the child process exiting."}],"tags":[],"owner":{"account_id":5676673,"reputation":191,"user_id":4489577,"display_name":"Dean Wookey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689257375,"creation_date":1689257375,"answer_id":76680332,"question_id":75173536,"body_markdown":"I see you created an issue for this: https://bugs.openjdk.org/browse/JDK-8301247\r\n\r\nAs a possible workaround, since you&#39;re building an image, and then building an installer from that, you could swap out the executable with one that&#39;s made with a previous version of jpackage before you build the installer. In fact, you can use any older one. Just rename it appropriately and it should work.\r\n","title":"JPackage app-image exe launches multiple exe&#39;s in JDK 17+","body":"<p>I see you created an issue for this: <a href=\"https://bugs.openjdk.org/browse/JDK-8301247\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8301247</a></p>\n<p>As a possible workaround, since you're building an image, and then building an installer from that, you could swap out the executable with one that's made with a previous version of jpackage before you build the installer. In fact, you can use any older one. Just rename it appropriately and it should work.</p>\n"}],"owner":{"account_id":27573115,"reputation":41,"user_id":21043917,"display_name":"aauclair"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1689257375,"creation_date":1674137347,"question_id":75173536,"body_markdown":"The following small Java program and `jpackage` command create an app-image which when launched on Windows 10 launches multiple exe&#39;s. This does not happen before JDK 17. The same code and command using the JDK 16 jpackage results in only a single instance of Main.exe running in the Task Manager Details tab. Issue appears to still happen in JDK 18 and 19.\r\n\r\n```java\r\nimport javax.swing.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        JDialog dialog = new JDialog();\r\n\r\n        dialog.setVisible(true);\r\n    }\r\n}\r\n\r\n```\r\n\r\n`jpackage --type app-image --input jpackage_test_jar --dest install/tmp --main-jar jpackage_test.jar --main-class Main`\r\n\r\n[Result (Main.exe twice in Task Manager Details)](https://i.stack.imgur.com/BWf0a.png)\r\n\r\nTested the same code and jpackage command on JDKs 15, 16, 17, 18 and 19. Multiple exe&#39;s are launched on Windows 10 in JDKs 17, 18 and 19, but not in 15 or 16. JDK 15 was from AdoptOpenJDK, the rest were Eclipse Temurin from Eclipse Adoptium.","title":"JPackage app-image exe launches multiple exe&#39;s in JDK 17+","body":"<p>The following small Java program and <code>jpackage</code> command create an app-image which when launched on Windows 10 launches multiple exe's. This does not happen before JDK 17. The same code and command using the JDK 16 jpackage results in only a single instance of Main.exe running in the Task Manager Details tab. Issue appears to still happen in JDK 18 and 19.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        JDialog dialog = new JDialog();\n\n        dialog.setVisible(true);\n    }\n}\n\n</code></pre>\n<p><code>jpackage --type app-image --input jpackage_test_jar --dest install/tmp --main-jar jpackage_test.jar --main-class Main</code></p>\n<p><a href=\"https://i.stack.imgur.com/BWf0a.png\" rel=\"nofollow noreferrer\">Result (Main.exe twice in Task Manager Details)</a></p>\n<p>Tested the same code and jpackage command on JDKs 15, 16, 17, 18 and 19. Multiple exe's are launched on Windows 10 in JDKs 17, 18 and 19, but not in 15 or 16. JDK 15 was from AdoptOpenJDK, the rest were Eclipse Temurin from Eclipse Adoptium.</p>\n"},{"tags":["java","rhapsody"],"comments":[{"owner":{"account_id":3823236,"reputation":141,"user_id":3170782,"accept_rate":56,"display_name":"bjenkins001"},"score":0,"creation_date":1689338852,"post_id":76680267,"comment_id":135203151,"body_markdown":"Appropriate package statement??","body":"Appropriate package statement??"}],"owner":{"account_id":28987435,"reputation":1,"user_id":22203991,"display_name":"PHo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689257011,"creation_date":1689257011,"question_id":76680267,"body_markdown":"I am fairly new to writing Java Plugins for Rhapsody and I have a problem implementing my Plugins into Rhapsody. I tested implementing plugins from former colleagues which worked so I tried building my code and .hep up like they did which always ended in the same exception. I ended up trying to just write a base program which simply puts out that it initialized when i start rhapsody. \r\n\r\n\r\n    package com.abcd.rhapsody.plugins;\r\n\r\n    import com.telelogic.rhapsody.core.IRPApplication;\r\n    import com.telelogic.rhapsody.core.IRPProject;\r\n    import com.telelogic.rhapsody.core.RPUserPlugin;\r\n\r\n    public class TestPlugin extends RPUserPlugin {\r\n    \tprotected IRPApplication m_rhpApplication = null;\r\n\tprotected IRPProject m_rhpProject = null;\r\n\t\r\n\t@Override\r\n\tpublic void RhpPluginInit(IRPApplication rpyApplication) {\r\n\t\tm_rhpApplication = rpyApplication;\r\n\t\tm_rhpProject = m_rhpApplication.activeProject();\r\n\t\tm_rhpApplication.writeToOutputWindow(&quot;Log&quot;, &quot;Testplugin fully loaded. \\n&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void RhpPluginInvokeItem() {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void OnMenuItemSelect(String menuItem) {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void OnTrigger(String trigger) {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean RhpPluginCleanup() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void RhpPluginFinalCleanup() {\r\n\t}\r\n\r\n    }\r\n\r\n\r\nI try implementing it with the following .hep:\r\n\r\n\r\n    [Helpers]\r\n    numberOfElements=2\r\n\r\n    name1=TestPlugin\r\n    JavaMainClass1=com.abcd.rhapsody.plugins.TestPlugin\r\n    JavaClassPath1=Helper\\TestPlugin6.jar\r\n    isPlugin1=1\r\n    isVisible1=1\r\n\r\n    name2=Test\\PluginTest\r\n    isPluginCommand2=1\r\n    command2=TestPlugin\r\n    applicableTo2=Project,Package,Basic,Intermediate,Application\r\n    isVisible2=1\r\n\r\n\r\nI tried everything i could find so far with changes in the .hep, jre versions and so on. \r\n\r\nI always end up with the following Message in the log:\r\n\r\n    PLUGIN MESSAGE: Exception while loading Plugin com.abcd.rhapsody.plugins.TestPlugin\r\n    java.lang.ClassNotFoundException: com.abcd.rhapsody.plugins.TestPlugin\r\n\r\n\tat java.lang.Class.forNameImpl(Native Method)\r\n\r\n\tat java.lang.Class.forName(Class.java:407)\r\n\r\n\tat com.telelogic.rhapsody.core.JavaPluginsManager.loadPlugin(Unknown Source)\r\n\r\n\r\n     2  plugin classpaths: \r\n    Helper\\TestPlugin6.jar\r\n    Helper\\TestPlugin6.jar\r\n\r\n\r\nI dont really know why the log shows 2 plugin classpaths since for my understanding I only set one classpath even though the 2 classpaths are the same path.\r\n\r\nI&#39;m open to try whatever solution could work so thanks in advance for any advice.","title":"Loading Plugin into Rhapsody ends in ClassNotFoundException","body":"<p>I am fairly new to writing Java Plugins for Rhapsody and I have a problem implementing my Plugins into Rhapsody. I tested implementing plugins from former colleagues which worked so I tried building my code and .hep up like they did which always ended in the same exception. I ended up trying to just write a base program which simply puts out that it initialized when i start rhapsody.</p>\n<pre><code>package com.abcd.rhapsody.plugins;\n\nimport com.telelogic.rhapsody.core.IRPApplication;\nimport com.telelogic.rhapsody.core.IRPProject;\nimport com.telelogic.rhapsody.core.RPUserPlugin;\n\npublic class TestPlugin extends RPUserPlugin {\n    protected IRPApplication m_rhpApplication = null;\nprotected IRPProject m_rhpProject = null;\n\n@Override\npublic void RhpPluginInit(IRPApplication rpyApplication) {\n    m_rhpApplication = rpyApplication;\n    m_rhpProject = m_rhpApplication.activeProject();\n    m_rhpApplication.writeToOutputWindow(&quot;Log&quot;, &quot;Testplugin fully loaded. \\n&quot;);\n}\n\n@Override\npublic void RhpPluginInvokeItem() {\n}\n\n@Override\npublic void OnMenuItemSelect(String menuItem) {\n}\n\n@Override\npublic void OnTrigger(String trigger) {\n}\n\n@Override\npublic boolean RhpPluginCleanup() {\n    return true;\n}\n\n@Override\npublic void RhpPluginFinalCleanup() {\n}\n\n}\n</code></pre>\n<p>I try implementing it with the following .hep:</p>\n<pre><code>[Helpers]\nnumberOfElements=2\n\nname1=TestPlugin\nJavaMainClass1=com.abcd.rhapsody.plugins.TestPlugin\nJavaClassPath1=Helper\\TestPlugin6.jar\nisPlugin1=1\nisVisible1=1\n\nname2=Test\\PluginTest\nisPluginCommand2=1\ncommand2=TestPlugin\napplicableTo2=Project,Package,Basic,Intermediate,Application\nisVisible2=1\n</code></pre>\n<p>I tried everything i could find so far with changes in the .hep, jre versions and so on.</p>\n<p>I always end up with the following Message in the log:</p>\n<pre><code>PLUGIN MESSAGE: Exception while loading Plugin com.abcd.rhapsody.plugins.TestPlugin\njava.lang.ClassNotFoundException: com.abcd.rhapsody.plugins.TestPlugin\n\nat java.lang.Class.forNameImpl(Native Method)\n\nat java.lang.Class.forName(Class.java:407)\n\nat com.telelogic.rhapsody.core.JavaPluginsManager.loadPlugin(Unknown Source)\n\n\n 2  plugin classpaths: \nHelper\\TestPlugin6.jar\nHelper\\TestPlugin6.jar\n</code></pre>\n<p>I dont really know why the log shows 2 plugin classpaths since for my understanding I only set one classpath even though the 2 classpaths are the same path.</p>\n<p>I'm open to try whatever solution could work so thanks in advance for any advice.</p>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":24528098,"reputation":26,"user_id":18440308,"display_name":"Hamza Brinsi"},"score":0,"creation_date":1689256952,"post_id":76680203,"comment_id":135190256,"body_markdown":"To achieve non-blocking behavior and store the IDs to the database without causing delays in the main thread, you can make use of the CompletableFuture class along with the @Async annotation in Spring.","body":"To achieve non-blocking behavior and store the IDs to the database without causing delays in the main thread, you can make use of the CompletableFuture class along with the @Async annotation in Spring."},{"owner":{"account_id":28107709,"reputation":111,"user_id":21476047,"display_name":"user21476047"},"score":0,"creation_date":1689265692,"post_id":76680203,"comment_id":135192547,"body_markdown":"Thank you thenAcceptAsync is what i was looking for","body":"Thank you thenAcceptAsync is what i was looking for"}],"tags":[],"owner":{"account_id":24528098,"reputation":26,"user_id":18440308,"display_name":"Hamza Brinsi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689256851,"creation_date":1689256586,"answer_id":76680203,"question_id":76680173,"body_markdown":"   ```````` public class SecondAPICallService {\r\n\r\n    @Async\r\n    public CompletableFuture&lt;String&gt; makeSecondApiCall(String firstAPICallId) {\r\n        // Make the second API call\r\n        CompletableFuture&lt;String&gt; future = new CompletableFuture&lt;&gt;();\r\n        // Perform the second API call asynchronously\r\n        // Once you obtain the second API call ID, complete the CompletableFuture\r\n        // with the second API call ID value\r\n        // For example:\r\n        String secondId = // Obtain the second API call ID\r\n        future.complete(secondId);\r\n        return future;\r\n    }\r\n}\r\n\r\n\r\n\r\npublic class FirstAPICallService {\r\n\r\n    @Autowired\r\n    SecondAPICallService secondAPICallService;\r\n\r\n    @Autowired\r\n    DatabaseService dbService;  \r\n\r\n    public Response makeApiCall(String firstAPICallId) {\r\n        Response response = webClient.post(..);\r\n        String id = response.getId();\r\n        \r\n        // Perform the second API call asynchronously\r\n        CompletableFuture&lt;String&gt; secondAPICallId = secondAPICallService.makeSecondApiCall(id);\r\n        \r\n        // Register a callback function to be executed when the second API call completes\r\n        secondAPICallId.thenAcceptAsync(secondId -&gt; {\r\n            // Save the IDs to the database\r\n            dbService.save(id, secondId);\r\n        });\r\n        \r\n        return response;\r\n    }\r\n}\r\n`````````","title":"Make an Asynch call that needs to store ids to database without blocking","body":"<pre><code>\n @Async\n public CompletableFuture&lt;String&gt; makeSecondApiCall(String firstAPICallId) {\n     // Make the second API call\n     CompletableFuture&lt;String&gt; future = new CompletableFuture&lt;&gt;();\n     // Perform the second API call asynchronously\n     // Once you obtain the second API call ID, complete the CompletableFuture\n     // with the second API call ID value\n     // For example:\n     String secondId = // Obtain the second API call ID\n     future.complete(secondId);\n     return future;\n }\n}\n\n\n\npublic class FirstAPICallService {\n\n @Autowired\n SecondAPICallService secondAPICallService;\n\n @Autowired\n DatabaseService dbService;  \n\n public Response makeApiCall(String firstAPICallId) {\n     Response response = webClient.post(..);\n     String id = response.getId();\n     \n     // Perform the second API call asynchronously\n     CompletableFuture&lt;String&gt; secondAPICallId = secondAPICallService.makeSecondApiCall(id);\n     \n     // Register a callback function to be executed when the second API call completes\n     secondAPICallId.thenAcceptAsync(secondId -&gt; {\n         // Save the IDs to the database\n         dbService.save(id, secondId);\n     });\n     \n     return response;\n }\n}\n</code></pre>\n"}],"owner":{"account_id":28107709,"reputation":111,"user_id":21476047,"display_name":"user21476047"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76680203,"answer_count":1,"score":0,"last_activity_date":1689256851,"creation_date":1689256410,"question_id":76680173,"body_markdown":"I am using Spring `@Asynch`. I have a scenrio where I have to make two API calls. One API call opens a new thread via @Async since the caller doesn&#39;t care about this API call and only cares about the first API call. However, both these API calls return back ids that I want to store into the database. How will I go about accomplishing this? Since the storing of the database depends on both the ids it will block my intent of opening a new thread.\r\n\r\n    public class SecondAPICallService {\r\n\r\n\t    @Asynch\r\n\t    public CompletableFuture&lt;String&gt; makeSecondApiCall(String firstAPICallId) {\r\n\t\t   var secondAPICallId = webClient.post(firstAPICallId, ...);\r\n\t\t   return  CompletableFuture.completedFuture(secondAPICallId);\r\n\t    }\r\n    }\r\n\r\n    public class FirstAPICallService {\r\n\r\n\t    @Autowire\r\n\t    SecondAPICallService secondAPICallService;\r\n\t\r\n\t    @Autowire\r\n\t    DatabaseService dbService;\t\r\n\t\r\n\t    public Response makeApiCall(String firstAPICallId) {\r\n\t\t   Response response = webClient.post(..);\r\n\t\t   String id = response.getId();\r\n\t\t   CompletableFuture&lt;String&gt; secondAPICallId = secondAPICallService.makeSecondApiCall(id);\r\n\t\t   // This here blocks my thread with .get but not sure what to do since I need to store in db\r\n           String secondId = secondAPICallId.get();\r\n\t\t   dbService.save(id, secondId);\t\t\r\n\t\t   return response;\r\n\t   }\r\n    }\r\n\r\n---\r\n\r\n    @Configuration\r\n    @EnableAsync\r\n    public class AsyncConfiguration {\r\n    \r\n        @Bean(name = &quot;asyncExecutor&quot;)\r\n        public Executor asyncExecutor() {\r\n            ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n            executor.setCorePoolSize(3);\r\n            executor.setMaxPoolSize(3);\r\n            executor.setQueueCapacity(100);\r\n            executor.setThreadNamePrefix(&quot;AsynchThread-&quot;);\r\n            executor.initialize();\r\n            return executor;\r\n        }\r\n    }\r\n\r\n","title":"Make an Asynch call that needs to store ids to database without blocking","body":"<p>I am using Spring <code>@Asynch</code>. I have a scenrio where I have to make two API calls. One API call opens a new thread via @Async since the caller doesn't care about this API call and only cares about the first API call. However, both these API calls return back ids that I want to store into the database. How will I go about accomplishing this? Since the storing of the database depends on both the ids it will block my intent of opening a new thread.</p>\n<pre><code>public class SecondAPICallService {\n\n    @Asynch\n    public CompletableFuture&lt;String&gt; makeSecondApiCall(String firstAPICallId) {\n       var secondAPICallId = webClient.post(firstAPICallId, ...);\n       return  CompletableFuture.completedFuture(secondAPICallId);\n    }\n}\n\npublic class FirstAPICallService {\n\n    @Autowire\n    SecondAPICallService secondAPICallService;\n\n    @Autowire\n    DatabaseService dbService;  \n\n    public Response makeApiCall(String firstAPICallId) {\n       Response response = webClient.post(..);\n       String id = response.getId();\n       CompletableFuture&lt;String&gt; secondAPICallId = secondAPICallService.makeSecondApiCall(id);\n       // This here blocks my thread with .get but not sure what to do since I need to store in db\n       String secondId = secondAPICallId.get();\n       dbService.save(id, secondId);        \n       return response;\n   }\n}\n</code></pre>\n<hr />\n<pre><code>@Configuration\n@EnableAsync\npublic class AsyncConfiguration {\n\n    @Bean(name = &quot;asyncExecutor&quot;)\n    public Executor asyncExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(3);\n        executor.setMaxPoolSize(3);\n        executor.setQueueCapacity(100);\n        executor.setThreadNamePrefix(&quot;AsynchThread-&quot;);\n        executor.initialize();\n        return executor;\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","debezium"],"comments":[{"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"score":0,"creation_date":1689253122,"post_id":76679245,"comment_id":135189197,"body_markdown":"Could you share your configuration of PostgreSQL and Debezium? UPDATE is logged as UPDATE when using logical replication.","body":"Could you share your configuration of PostgreSQL and Debezium? UPDATE is logged as UPDATE when using logical replication."},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689253710,"post_id":76679245,"comment_id":135189361,"body_markdown":"Great question, I think it happens due to HOT optimizations: https://www.postgresql.org/docs/current/storage-hot.html. Not sure exactly what&#39;s the fix there, but you may look at `tombstones delete` properties","body":"Great question, I think it happens due to HOT optimizations: <a href=\"https://www.postgresql.org/docs/current/storage-hot.html\" rel=\"nofollow noreferrer\">postgresql.org/docs/current/storage-hot.html</a>. Not sure exactly what&#39;s the fix there, but you may look at <code>tombstones delete</code> properties"},{"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"score":0,"creation_date":1689254267,"post_id":76679245,"comment_id":135189480,"body_markdown":"@yahorbarkouski Why would HOT change an UPDATE statement into an DELETE and INSERT? That would definitely hit the indexes while the purpose of HOT is to avoid any write on the indexes.","body":"@yahorbarkouski Why would HOT change an UPDATE statement into an DELETE and INSERT? That would definitely hit the indexes while the purpose of HOT is to avoid any write on the indexes."},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":1,"creation_date":1689255230,"post_id":76679245,"comment_id":135189761,"body_markdown":"My bad, I meant to say &quot;due to missing&quot;, not &quot;due to&quot;. My initial assumption is that if an update operation changes a column that is part of the index, it results in a delete operation for the old indexed value and an insert for the new one, but if it is appliable for hot, debezium may consider it as a single update instead. Please correct me if I&#39;m wrong","body":"My bad, I meant to say &quot;due to missing&quot;, not &quot;due to&quot;. My initial assumption is that if an update operation changes a column that is part of the index, it results in a delete operation for the old indexed value and an insert for the new one, but if it is appliable for hot, debezium may consider it as a single update instead. Please correct me if I&#39;m wrong"},{"owner":{"account_id":2554674,"reputation":596,"user_id":6585764,"accept_rate":40,"display_name":"Fran&#231;ois-David Lessard"},"score":0,"creation_date":1689258560,"post_id":76679245,"comment_id":135190688,"body_markdown":"Interesting note: I use Spring Boot JPA Repository with a native query for this .... and initially I did not understand why this update  query was always failing  IF I did not add the &quot;@Transactional annotation&quot;.  Without the &quot;@Transactional&quot; annotation it would  Spring Boot(or postgres) would give me the following error message &quot;Executing an update/delete query&quot;","body":"Interesting note: I use Spring Boot JPA Repository with a native query for this .... and initially I did not understand why this update  query was always failing  IF I did not add the &quot;@Transactional annotation&quot;.  Without the &quot;@Transactional&quot; annotation it would  Spring Boot(or postgres) would give me the following error message &quot;Executing an update/delete query&quot;"}],"owner":{"account_id":2554674,"reputation":596,"user_id":6585764,"accept_rate":40,"display_name":"Fran&#231;ois-David Lessard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1689256744,"creation_date":1689250351,"question_id":76679245,"body_markdown":"I&#39;ve noticed that some SQL Update queries in Postgres are logged as 2 DML queries (a delete query and a second insert query). \r\n\r\n - Does anyone knows why Postgres is doing this (transforming an UPDATE to 2 DML statements DELETE+INSERT) ? \r\n - Is there a way to force Postgres (or Debezium) to log this as an update statement ?\r\n\r\nCould it be related to the fact that the query updates a field that is part of a foreign key and a constraint unique index ?\r\n\r\nRegards\r\n\r\n\r\n**More Info:**\r\n\r\nThe query is updating a table field that is part of a foreign key and another unique constraint\r\n\r\n\r\n**Query:**\r\n```\r\n  UDDATE Table1 \r\n  SET table2_id = :destinationTable2Id \r\n  WHERE \r\n  Table3_id IN (:table3Ids) AND \r\n  Table2_id = :sourceTable2Id AND \r\n  deleted_date is null\r\n```\r\n\r\n**Table:** \r\n\r\nTable1(id, table2_id, table3_id, deleted_date, ...) \r\n\r\n - with foreign keys constraints on table2_id, table3_id  \r\n - and unique constraints that include table2_id and table3_id and others\r\n\r\n**Relationships:**\r\n\r\nTable2 one-to-many --&gt; Table1 &lt;-- one-to-many Table3\r\n","title":"Debezium Postgres some Update sql DML queries are logged as Delete + Insert Queries","body":"<p>I've noticed that some SQL Update queries in Postgres are logged as 2 DML queries (a delete query and a second insert query).</p>\n<ul>\n<li>Does anyone knows why Postgres is doing this (transforming an UPDATE to 2 DML statements DELETE+INSERT) ?</li>\n<li>Is there a way to force Postgres (or Debezium) to log this as an update statement ?</li>\n</ul>\n<p>Could it be related to the fact that the query updates a field that is part of a foreign key and a constraint unique index ?</p>\n<p>Regards</p>\n<p><strong>More Info:</strong></p>\n<p>The query is updating a table field that is part of a foreign key and another unique constraint</p>\n<p><strong>Query:</strong></p>\n<pre><code>  UDDATE Table1 \n  SET table2_id = :destinationTable2Id \n  WHERE \n  Table3_id IN (:table3Ids) AND \n  Table2_id = :sourceTable2Id AND \n  deleted_date is null\n</code></pre>\n<p><strong>Table:</strong></p>\n<p>Table1(id, table2_id, table3_id, deleted_date, ...)</p>\n<ul>\n<li>with foreign keys constraints on table2_id, table3_id</li>\n<li>and unique constraints that include table2_id and table3_id and others</li>\n</ul>\n<p><strong>Relationships:</strong></p>\n<p>Table2 one-to-many --&gt; Table1 &lt;-- one-to-many Table3</p>\n"},{"tags":["java","json","spring-boot","post","json-schema-validator"],"answers":[{"comments":[{"owner":{"account_id":18887719,"reputation":5,"user_id":13778743,"display_name":"catCoder69"},"score":0,"creation_date":1592792124,"post_id":62493650,"comment_id":110541609,"body_markdown":"Thanks for your response @jumping_monkey. Also, if I have a json like: {&quot;hype&quot;: {&quot;key1&quot;:&quot;value1&quot;} }… then how can I access value1 in hype.key1?","body":"Thanks for your response @jumping_monkey. Also, if I have a json like: {&quot;hype&quot;: {&quot;key1&quot;:&quot;value1&quot;} }… then how can I access value1 in hype.key1?"},{"owner":{"account_id":18887719,"reputation":5,"user_id":13778743,"display_name":"catCoder69"},"score":0,"creation_date":1594851041,"post_id":62493650,"comment_id":111275715,"body_markdown":"Hi @jumping_monkey , any suggestions for https://stackoverflow.com/questions/62921359/not-able-to-integrate-liquibase-with-my-spring-boot-project-getting-error-with ?","body":"Hi @jumping_monkey , any suggestions for <a href=\"https://stackoverflow.com/questions/62921359/not-able-to-integrate-liquibase-with-my-spring-boot-project-getting-error-with\" title=\"not able to integrate liquibase with my spring boot project getting error with\">stackoverflow.com/questions/62921359/&hellip;</a> ?"}],"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1592794502,"creation_date":1592704746,"answer_id":62493650,"question_id":62493160,"body_markdown":"&gt; How to validate a JSON input by user during a POST request using a\r\n&gt; specified schema (we have to validate the JSON data each time it is\r\n&gt; received through the POST request)?\r\n\r\nAdd the annotation `@Valid`(from `javax.validation.valid`), like so:\r\n\r\n    public Animal createConfig(@Valid @RequestBody Animal ani) {\r\n\r\nOn your Animal **DTO**, add annotations on the field(s) that you want to be validated, example:\r\n\r\n    public class Animal implements Serializable {\r\n        ...\r\n    \r\n        @Size(max = 10)\r\n        @NotBlank\r\n        private String name;\r\n    \r\n        ... \r\n    }\r\n\r\nWhen Spring Boot finds an argument annotated with @Valid, it bootstraps Hibernate Validator(JSR 380 implementation) and ask it to perform bean validation.\r\n\r\nWhen the validation fails, Spring Boot throws a `MethodArgumentNotValidException`.&lt;br&gt;&lt;br&gt;\r\n\r\n&gt; Also, how to actually extract data entered by the user form a post\r\n&gt; request?\r\n\r\nUse the getter method on your Animal POJO. Example:\r\n\r\n    String name = ani.getName();\r\n\r\n&lt;br&gt;&lt;br&gt;\r\n**UPDATE:**\r\n\r\n&gt; Also, if I have a json like: {&quot;hype&quot;: {&quot;key1&quot;:&quot;value1&quot;} }… then how\r\n&gt; can I access value1 in hype.key1?\r\n\r\n    @RestController\r\n    public class Main {\r\n    \t@PostMapping(&quot;/all-configs&quot;)\r\n    \tpublic void createConfig(@Valid @RequestBody Animal ani) {\r\n    \t\tMap&lt;String, String&gt; hype = ani.getHype();\r\n    \t\tSystem.out.println(hype.get(&quot;key1&quot;));\r\n    \t}\r\n    }\r\n    \r\n    public class Animal implements Serializable {\r\n    \tprivate Map&lt;String, String&gt; hype;\r\n    \r\n    \tpublic Map&lt;String, String&gt; getHype() {\r\n    \t\treturn hype;\r\n    \t}\r\n    \r\n    \tpublic void setHype(Map&lt;String, String&gt; hype) {\r\n    \t\tthis.hype = hype;\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n&gt; value1","title":"JSON schema validation while executing POST request and reading POST data entered by user using spring boot rest api","body":"<blockquote>\n<p>How to validate a JSON input by user during a POST request using a\nspecified schema (we have to validate the JSON data each time it is\nreceived through the POST request)?</p>\n</blockquote>\n<p>Add the annotation <code>@Valid</code>(from <code>javax.validation.valid</code>), like so:</p>\n<pre><code>public Animal createConfig(@Valid @RequestBody Animal ani) {\n</code></pre>\n<p>On your Animal <strong>DTO</strong>, add annotations on the field(s) that you want to be validated, example:</p>\n<pre><code>public class Animal implements Serializable {\n    ...\n\n    @Size(max = 10)\n    @NotBlank\n    private String name;\n\n    ... \n}\n</code></pre>\n<p>When Spring Boot finds an argument annotated with @Valid, it bootstraps Hibernate Validator(JSR 380 implementation) and ask it to perform bean validation.</p>\n<p>When the validation fails, Spring Boot throws a <code>MethodArgumentNotValidException</code>.<br><br></p>\n<blockquote>\n<p>Also, how to actually extract data entered by the user form a post\nrequest?</p>\n</blockquote>\n<p>Use the getter method on your Animal POJO. Example:</p>\n<pre><code>String name = ani.getName();\n</code></pre>\n<p><br><br>\n<strong>UPDATE:</strong></p>\n<blockquote>\n<p>Also, if I have a json like: {&quot;hype&quot;: {&quot;key1&quot;:&quot;value1&quot;} }… then how\ncan I access value1 in hype.key1?</p>\n</blockquote>\n<pre><code>@RestController\npublic class Main {\n    @PostMapping(&quot;/all-configs&quot;)\n    public void createConfig(@Valid @RequestBody Animal ani) {\n        Map&lt;String, String&gt; hype = ani.getHype();\n        System.out.println(hype.get(&quot;key1&quot;));\n    }\n}\n\npublic class Animal implements Serializable {\n    private Map&lt;String, String&gt; hype;\n\n    public Map&lt;String, String&gt; getHype() {\n        return hype;\n    }\n\n    public void setHype(Map&lt;String, String&gt; hype) {\n        this.hype = hype;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>value1</p>\n</blockquote>\n"}],"owner":{"account_id":18887719,"reputation":5,"user_id":13778743,"display_name":"catCoder69"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2906,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62493650,"answer_count":1,"score":0,"last_activity_date":1689256505,"creation_date":1592698809,"question_id":62493160,"body_markdown":"How to validate (using a specified schema) a **JSON input** by the user during a **POST request using a specified schema** (we have to validate the JSON data each time it is received through the POST request)? Also, how to actually extract data entered by the user from a post request? I did the following to **extract data entered by the user**:\r\n\r\n    @PostMapping(&quot;/all-configs&quot;)\r\n    public Animal createConfig( @RequestBody Animal ani) {\r\n    try {\r\n        System.out.println(ani);//output: net.company.sprinboot.model.Animal@110e19d9\r\n        System.out.println(ani.toString());//output: net.company.sprinboot.model.Animal@110e19d9\r\n        String str = ani.toString();\r\n        System.out.println(str);//output: net.company.sprinboot.model.Animal@110e19d9\r\n    }\r\n\r\nHow can I actually read the JSON data entered by the user in the post request?","title":"JSON schema validation while executing POST request and reading POST data entered by user using spring boot rest api","body":"<p>How to validate (using a specified schema) a <strong>JSON input</strong> by the user during a <strong>POST request using a specified schema</strong> (we have to validate the JSON data each time it is received through the POST request)? Also, how to actually extract data entered by the user from a post request? I did the following to <strong>extract data entered by the user</strong>:</p>\n<pre><code>@PostMapping(&quot;/all-configs&quot;)\npublic Animal createConfig( @RequestBody Animal ani) {\ntry {\n    System.out.println(ani);//output: net.company.sprinboot.model.Animal@110e19d9\n    System.out.println(ani.toString());//output: net.company.sprinboot.model.Animal@110e19d9\n    String str = ani.toString();\n    System.out.println(str);//output: net.company.sprinboot.model.Animal@110e19d9\n}\n</code></pre>\n<p>How can I actually read the JSON data entered by the user in the post request?</p>\n"},{"tags":["java","url"],"comments":[{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":1,"creation_date":1412334805,"post_id":26177749,"comment_id":41043565,"body_markdown":"Related: [A good library to do URL Query String manipulation in Java](http://stackoverflow.com/q/218608)","body":"Related: <a href=\"http://stackoverflow.com/q/218608\">A good library to do URL Query String manipulation in Java</a>"},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":0,"creation_date":1412597479,"post_id":26177749,"comment_id":41113555,"body_markdown":"@Mridang Agarwalla Does my answer solve your problem? Let me know if you require any more information.","body":"@Mridang Agarwalla Does my answer solve your problem? Let me know if you require any more information."},{"owner":{"account_id":410277,"reputation":24594,"user_id":782034,"accept_rate":72,"display_name":"Nick Grealy"},"score":0,"creation_date":1492059336,"post_id":26177749,"comment_id":73829302,"body_markdown":"Possible duplicate of [What is the idiomatic way to compose a URL or URI in Java?](http://stackoverflow.com/questions/883136/what-is-the-idiomatic-way-to-compose-a-url-or-uri-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/883136/what-is-the-idiomatic-way-to-compose-a-url-or-uri-in-java\">What is the idiomatic way to compose a URL or URI in Java?</a>"}],"answers":[{"comments":[{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":0,"creation_date":1591124277,"post_id":26177982,"comment_id":109935332,"body_markdown":"@Charlie Correct a ternary would reduce line count, but may also reduce readability","body":"@Charlie Correct a ternary would reduce line count, but may also reduce readability"},{"owner":{"account_id":49071,"reputation":8690,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":0,"creation_date":1591126796,"post_id":26177982,"comment_id":109936588,"body_markdown":"It eliminates some variables too which means less complexity.","body":"It eliminates some variables too which means less complexity."},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":1,"creation_date":1591127555,"post_id":26177982,"comment_id":109936985,"body_markdown":"@Charlie I&#39;ve added alternative to my answer with ternary.","body":"@Charlie I&#39;ve added alternative to my answer with ternary."},{"owner":{"account_id":49071,"reputation":8690,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":0,"creation_date":1591139281,"post_id":26177982,"comment_id":109941194,"body_markdown":"Even simpler, don&#39;t bother pulling out the bits, you really just need to know if you should use a ? or a &amp;, which the ternary would do: return uri + new URI(uri).getQuery() == null ? &quot;?&quot; : &quot;&amp;&quot; + appendQuery;","body":"Even simpler, don&#39;t bother pulling out the bits, you really just need to know if you should use a ? or a &amp;, which the ternary would do: return uri + new URI(uri).getQuery() == null ? &quot;?&quot; : &quot;&amp;&quot; + appendQuery;"},{"owner":{"account_id":139855,"reputation":14111,"user_id":345716,"accept_rate":60,"display_name":"Peter V. M&#248;rch"},"score":2,"creation_date":1597792627,"post_id":26177982,"comment_id":112248382,"body_markdown":"Here it is assumed that `appendQuery` is escaped properly and not called like: `uri = appendUri(uri, &quot;foo=&quot; + bar)`.  I&#39;d strongly prefer an API with distinct `name` and `value` parameters and then have the escaping done *inside* `appendQuery`","body":"Here it is assumed that <code>appendQuery</code> is escaped properly and not called like: <code>uri = appendUri(uri, &quot;foo=&quot; + bar)</code>.  I&#39;d strongly prefer an API with distinct <code>name</code> and <code>value</code> parameters and then have the escaping done <i>inside</i> <code>appendQuery</code>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1623243035,"post_id":26177982,"comment_id":120022892,"body_markdown":"Downvote because it is insecure. String concatenation is vulnerable to parameter injection as the added value is not encoded.","body":"Downvote because it is insecure. String concatenation is vulnerable to parameter injection as the added value is not encoded."},{"owner":{"account_id":12905416,"reputation":2922,"user_id":9332875,"display_name":"Sumit Wadhwa"},"score":0,"creation_date":1695047573,"post_id":26177982,"comment_id":135968350,"body_markdown":"If the URL already has the query param, it just appends a new one with the same name. Not very helpful.","body":"If the URL already has the query param, it just appends a new one with the same name. Not very helpful."}],"tags":[],"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"comment_count":7,"down_vote_count":9,"up_vote_count":80,"is_accepted":true,"score":71,"last_activity_date":1591127414,"creation_date":1412334913,"answer_id":26177982,"question_id":26177749,"body_markdown":"This can be done by using the [java.net.URI][1] class to construct a new instance using the parts from an existing one, this should ensure it conforms to URI syntax.\r\n\r\nThe query part will either be null or an existing string, so you can decide to append another parameter with &amp; or start a new query.\r\n\r\n    public class StackOverflow26177749 {\r\n    \r\n    \tpublic static URI appendUri(String uri, String appendQuery) throws URISyntaxException {\r\n    \t\tURI oldUri = new URI(uri);\r\n    \t\t\r\n    \t\tString newQuery = oldUri.getQuery();\r\n    \t\tif (newQuery == null) {\r\n    \t\t\tnewQuery = appendQuery;\r\n    \t\t} else {\r\n    \t\t\tnewQuery += &quot;&amp;&quot; + appendQuery;\t\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn new URI(oldUri.getScheme(), oldUri.getAuthority(),\r\n    \t\t\t\toldUri.getPath(), newQuery, oldUri.getFragment());\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tSystem.out.println(appendUri(&quot;http://example.com&quot;, &quot;name=John&quot;));\r\n    \t\tSystem.out.println(appendUri(&quot;http://example.com#fragment&quot;, &quot;name=John&quot;));\r\n    \t\tSystem.out.println(appendUri(&quot;http://example.com?email=john.doe@email.com&quot;, &quot;name=John&quot;));\r\n    \t\tSystem.out.println(appendUri(&quot;http://example.com?email=john.doe@email.com#fragment&quot;, &quot;name=John&quot;));\r\n    \t}\r\n    }\r\n\r\nShorter alternative\r\n\r\n    public static URI appendUri(String uri, String appendQuery) throws URISyntaxException {\r\n        URI oldUri = new URI(uri);\r\n        return new URI(oldUri.getScheme(), oldUri.getAuthority(), oldUri.getPath(),\r\n                oldUri.getQuery() == null ? appendQuery : oldUri.getQuery() + &quot;&amp;&quot; + appendQuery, oldUri.getFragment());\r\n    }\r\n\r\nOutput\r\n\r\n    http://example.com?name=John\r\n    http://example.com?name=John#fragment\r\n    http://example.com?email=john.doe@email.com&amp;name=John\r\n    http://example.com?email=john.doe@email.com&amp;name=John#fragment\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/net/URI.html","title":"How can I append a query parameter to an existing URL?","body":"<p>This can be done by using the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/net/URI.html\" rel=\"noreferrer\">java.net.URI</a> class to construct a new instance using the parts from an existing one, this should ensure it conforms to URI syntax.</p>\n\n<p>The query part will either be null or an existing string, so you can decide to append another parameter with &amp; or start a new query.</p>\n\n<pre><code>public class StackOverflow26177749 {\n\n    public static URI appendUri(String uri, String appendQuery) throws URISyntaxException {\n        URI oldUri = new URI(uri);\n\n        String newQuery = oldUri.getQuery();\n        if (newQuery == null) {\n            newQuery = appendQuery;\n        } else {\n            newQuery += \"&amp;\" + appendQuery;  \n        }\n\n        return new URI(oldUri.getScheme(), oldUri.getAuthority(),\n                oldUri.getPath(), newQuery, oldUri.getFragment());\n    }\n\n    public static void main(String[] args) throws Exception {\n        System.out.println(appendUri(\"http://example.com\", \"name=John\"));\n        System.out.println(appendUri(\"http://example.com#fragment\", \"name=John\"));\n        System.out.println(appendUri(\"http://example.com?email=john.doe@email.com\", \"name=John\"));\n        System.out.println(appendUri(\"http://example.com?email=john.doe@email.com#fragment\", \"name=John\"));\n    }\n}\n</code></pre>\n\n<p>Shorter alternative</p>\n\n<pre><code>public static URI appendUri(String uri, String appendQuery) throws URISyntaxException {\n    URI oldUri = new URI(uri);\n    return new URI(oldUri.getScheme(), oldUri.getAuthority(), oldUri.getPath(),\n            oldUri.getQuery() == null ? appendQuery : oldUri.getQuery() + \"&amp;\" + appendQuery, oldUri.getFragment());\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>http://example.com?name=John\nhttp://example.com?name=John#fragment\nhttp://example.com?email=john.doe@email.com&amp;name=John\nhttp://example.com?email=john.doe@email.com&amp;name=John#fragment\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1886487,"reputation":396597,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1412334997,"creation_date":1412334997,"answer_id":26178003,"question_id":26177749,"body_markdown":"Use the [`URI`][1] class.\r\n\r\nCreate a new `URI` with your existing `String` to &quot;break it up&quot; to parts, and instantiate another one to assemble the modified url:\r\n\r\n    URI u = new URI(&quot;http://example.com?email=john@email.com&amp;name=John#fragment&quot;);\r\n    \r\n    // Modify the query: append your new parameter\r\n    StringBuilder sb = new StringBuilder(u.getQuery() == null ? &quot;&quot; : u.getQuery());\r\n    if (sb.length() &gt; 0)\r\n        sb.append(&#39;&amp;&#39;);\r\n    sb.append(URLEncoder.encode(&quot;paramName&quot;, &quot;UTF-8&quot;));\r\n    sb.append(&#39;=&#39;);\r\n    sb.append(URLEncoder.encode(&quot;paramValue&quot;, &quot;UTF-8&quot;));\r\n\r\n    // Build the new url with the modified query:\r\n    URI u2 = new URI(u.getScheme(), u.getAuthority(), u.getPath(),\r\n        sb.toString(), u.getFragment());\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/net/URI.html","title":"How can I append a query parameter to an existing URL?","body":"<p>Use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/net/URI.html\" rel=\"noreferrer\"><code>URI</code></a> class.</p>\n\n<p>Create a new <code>URI</code> with your existing <code>String</code> to \"break it up\" to parts, and instantiate another one to assemble the modified url:</p>\n\n<pre><code>URI u = new URI(\"http://example.com?email=john@email.com&amp;name=John#fragment\");\n\n// Modify the query: append your new parameter\nStringBuilder sb = new StringBuilder(u.getQuery() == null ? \"\" : u.getQuery());\nif (sb.length() &gt; 0)\n    sb.append('&amp;');\nsb.append(URLEncoder.encode(\"paramName\", \"UTF-8\"));\nsb.append('=');\nsb.append(URLEncoder.encode(\"paramValue\", \"UTF-8\"));\n\n// Build the new url with the modified query:\nURI u2 = new URI(u.getScheme(), u.getAuthority(), u.getPath(),\n    sb.toString(), u.getFragment());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":410277,"reputation":24594,"user_id":782034,"accept_rate":72,"display_name":"Nick Grealy"},"comment_count":0,"down_vote_count":0,"up_vote_count":238,"is_accepted":false,"score":238,"last_activity_date":1492059201,"creation_date":1462498007,"answer_id":37062788,"question_id":26177749,"body_markdown":"There are plenty of libraries that can help you with URI building (don&#39;t reinvent the wheel). Here are three to get you started:\r\n\r\n----------\r\n### [Java EE 7][1]\r\n\r\n&lt;!-- lang: lang-java --&gt;\r\n\r\n    import javax.ws.rs.core.UriBuilder;\r\n    ...\r\n    return UriBuilder.fromUri(url).queryParam(key, value).build();\r\n\r\n\r\n----------\r\n### [org.apache.httpcomponents:httpclient:4.5.2][2]\r\n\r\n&lt;!-- lang: lang-java --&gt;\r\n\r\n    import org.apache.http.client.utils.URIBuilder;\r\n    ...\r\n    return new URIBuilder(url).addParameter(key, value).build();\r\n\r\n\r\n----------\r\n\r\n\r\n### [org.springframework:spring-web:4.2.5.RELEASE][3]\r\n\r\n&lt;!-- lang: lang-java --&gt;\r\n\r\n    import org.springframework.web.util.UriComponentsBuilder;\r\n    ...\r\n    return UriComponentsBuilder.fromUriString(url).queryParam(key, value).build().toUri();\r\n\r\n\r\n----------\r\n**See also:** [GIST &gt; URI Builder Tests][4]\r\n\r\n\r\n  [1]: http://search.maven.org/#artifactdetails%7Cjavax%7Cjavaee-api%7C7.0%7Cjar\r\n  [2]: http://search.maven.org/#artifactdetails%7Corg.apache.httpcomponents%7Chttpclient%7C4.5.2%7Cjar\r\n  [3]: http://search.maven.org/#artifactdetails%7Corg.springframework%7Cspring-web%7C4.2.5.RELEASE%7Cjar\r\n  [4]: https://gist.github.com/nickgrealy/b4f35bf5e5e5a444aff20c4616b51513","title":"How can I append a query parameter to an existing URL?","body":"<p>There are plenty of libraries that can help you with URI building (don't reinvent the wheel). Here are three to get you started:</p>\n\n<hr>\n\n<h3><a href=\"http://search.maven.org/#artifactdetails%7Cjavax%7Cjavaee-api%7C7.0%7Cjar\" rel=\"noreferrer\">Java EE 7</a></h3>\n\n\n\n<pre><code>import javax.ws.rs.core.UriBuilder;\n...\nreturn UriBuilder.fromUri(url).queryParam(key, value).build();\n</code></pre>\n\n<hr>\n\n<h3><a href=\"http://search.maven.org/#artifactdetails%7Corg.apache.httpcomponents%7Chttpclient%7C4.5.2%7Cjar\" rel=\"noreferrer\">org.apache.httpcomponents:httpclient:4.5.2</a></h3>\n\n\n\n<pre><code>import org.apache.http.client.utils.URIBuilder;\n...\nreturn new URIBuilder(url).addParameter(key, value).build();\n</code></pre>\n\n<hr>\n\n<h3><a href=\"http://search.maven.org/#artifactdetails%7Corg.springframework%7Cspring-web%7C4.2.5.RELEASE%7Cjar\" rel=\"noreferrer\">org.springframework:spring-web:4.2.5.RELEASE</a></h3>\n\n\n\n<pre><code>import org.springframework.web.util.UriComponentsBuilder;\n...\nreturn UriComponentsBuilder.fromUriString(url).queryParam(key, value).build().toUri();\n</code></pre>\n\n<hr>\n\n<p><strong>See also:</strong> <a href=\"https://gist.github.com/nickgrealy/b4f35bf5e5e5a444aff20c4616b51513\" rel=\"noreferrer\">GIST > URI Builder Tests</a></p>\n"},{"comments":[{"owner":{"account_id":139855,"reputation":14111,"user_id":345716,"accept_rate":60,"display_name":"Peter V. M&#248;rch"},"score":3,"creation_date":1597792355,"post_id":53225089,"comment_id":112248332,"body_markdown":"WARNING: Escape all components of `parameters` properly. Imagine I came with a value like `foo&amp;bar=45`...","body":"WARNING: Escape all components of <code>parameters</code> properly. Imagine I came with a value like <code>foo&amp;bar=45</code>..."}],"tags":[],"owner":{"account_id":1710488,"reputation":1120,"user_id":1568663,"accept_rate":60,"display_name":"tryp"},"comment_count":1,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1541763660,"creation_date":1541763660,"answer_id":53225089,"question_id":26177749,"body_markdown":"I suggest an improvement of the Adam&#39;s answer accepting HashMap as parameter\r\n\r\n    /**\r\n     * Append parameters to given url\r\n     * @param url\r\n     * @param parameters\r\n     * @return new String url with given parameters\r\n     * @throws URISyntaxException\r\n     */\r\n    public static String appendToUrl(String url, HashMap&lt;String, String&gt; parameters) throws URISyntaxException\r\n    {\r\n        URI uri = new URI(url);\r\n        String query = uri.getQuery();\r\n\r\n        StringBuilder builder = new StringBuilder();\r\n\r\n        if (query != null)\r\n        \tbuilder.append(query);\r\n\r\n        for (Map.Entry&lt;String, String&gt; entry: parameters.entrySet())\r\n        {\r\n            String keyValueParam = entry.getKey() + &quot;=&quot; + entry.getValue();\r\n            if (!builder.toString().isEmpty())\r\n                builder.append(&quot;&amp;&quot;);\r\n\r\n            builder.append(keyValueParam);\r\n        }\r\n        \r\n        URI newUri = new URI(uri.getScheme(), uri.getAuthority(), uri.getPath(), builder.toString(), uri.getFragment());\r\n        return newUri.toString();\r\n    }","title":"How can I append a query parameter to an existing URL?","body":"<p>I suggest an improvement of the Adam's answer accepting HashMap as parameter</p>\n\n<pre><code>/**\n * Append parameters to given url\n * @param url\n * @param parameters\n * @return new String url with given parameters\n * @throws URISyntaxException\n */\npublic static String appendToUrl(String url, HashMap&lt;String, String&gt; parameters) throws URISyntaxException\n{\n    URI uri = new URI(url);\n    String query = uri.getQuery();\n\n    StringBuilder builder = new StringBuilder();\n\n    if (query != null)\n        builder.append(query);\n\n    for (Map.Entry&lt;String, String&gt; entry: parameters.entrySet())\n    {\n        String keyValueParam = entry.getKey() + \"=\" + entry.getValue();\n        if (!builder.toString().isEmpty())\n            builder.append(\"&amp;\");\n\n        builder.append(keyValueParam);\n    }\n\n    URI newUri = new URI(uri.getScheme(), uri.getAuthority(), uri.getPath(), builder.toString(), uri.getFragment());\n    return newUri.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":305838,"reputation":6571,"user_id":616225,"accept_rate":86,"display_name":"Sergi Juanola"},"score":0,"creation_date":1584629936,"post_id":54520002,"comment_id":107500412,"body_markdown":"A little bit late, but anyway. Try not to encode the equals symbol. Otherwise it may be problematic by clients to understand the keys and the values","body":"A little bit late, but anyway. Try not to encode the equals symbol. Otherwise it may be problematic by clients to understand the keys and the values"},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1606748473,"post_id":54520002,"comment_id":115047677,"body_markdown":"Why should we encode params? It will throw: &#39;java.io.UnsupportedEncodingException: UTF_8&#39;.","body":"Why should we encode params? It will throw: &#39;java.io.UnsupportedEncodingException: UTF_8&#39;."},{"owner":{"account_id":10890665,"reputation":147,"user_id":8006558,"display_name":"cobexer"},"score":0,"creation_date":1668966159,"post_id":54520002,"comment_id":131528947,"body_markdown":"`queryParams` end up being encoded improperly","body":"<code>queryParams</code> end up being encoded improperly"}],"tags":[],"owner":{"account_id":2050082,"reputation":4451,"user_id":1829281,"display_name":"Andrii Kovalchuk"},"comment_count":3,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1549296494,"creation_date":1549296494,"answer_id":54520002,"question_id":26177749,"body_markdown":"Kotlin &amp; clean, so you don&#39;t have to refactor before code review:\r\n\r\n\r\n\r\n    private fun addQueryParameters(url: String?): String? {\r\n            val uri = URI(url)\r\n    \r\n            val queryParams = StringBuilder(uri.query.orEmpty())\r\n            if (queryParams.isNotEmpty())\r\n                queryParams.append(&#39;&amp;&#39;)\r\n    \r\n            queryParams.append(URLEncoder.encode(&quot;$QUERY_PARAM=$param&quot;, Xml.Encoding.UTF_8.name))\r\n            return URI(uri.scheme, uri.authority, uri.path, queryParams.toString(), uri.fragment).toString()\r\n        }","title":"How can I append a query parameter to an existing URL?","body":"<p>Kotlin &amp; clean, so you don't have to refactor before code review:</p>\n\n<pre><code>private fun addQueryParameters(url: String?): String? {\n        val uri = URI(url)\n\n        val queryParams = StringBuilder(uri.query.orEmpty())\n        if (queryParams.isNotEmpty())\n            queryParams.append('&amp;')\n\n        queryParams.append(URLEncoder.encode(\"$QUERY_PARAM=$param\", Xml.Encoding.UTF_8.name))\n        return URI(uri.scheme, uri.authority, uri.path, queryParams.toString(), uri.fragment).toString()\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6095021,"reputation":9,"user_id":4756111,"display_name":"Ananth George"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1579225220,"creation_date":1579225220,"answer_id":59780141,"question_id":26177749,"body_markdown":"An update to Adam&#39;s answer considering tryp&#39;s answer too. Don&#39;t have to instantiate a String in the loop.\r\n\r\n    public static URI appendUri(String uri, Map&lt;String, String&gt; parameters) throws URISyntaxException {\r\n        URI oldUri = new URI(uri);\r\n        StringBuilder queries = new StringBuilder();\r\n\r\n        for(Map.Entry&lt;String, String&gt; query: parameters.entrySet()) {\r\n    \t\tqueries.append( &quot;&amp;&quot; + query.getKey()+&quot;=&quot;+query.getValue());\r\n    \t}\r\n\r\n        String newQuery = oldUri.getQuery();\r\n        if (newQuery == null) {\r\n            newQuery = queries.substring(1);\r\n        } else {\r\n        \tnewQuery += queries.toString();\r\n        }\r\n\r\n        URI newUri = new URI(oldUri.getScheme(), oldUri.getAuthority(),\r\n                oldUri.getPath(), newQuery, oldUri.getFragment());\r\n\r\n        return newUri;\r\n    }","title":"How can I append a query parameter to an existing URL?","body":"<p>An update to Adam's answer considering tryp's answer too. Don't have to instantiate a String in the loop.</p>\n\n<pre><code>public static URI appendUri(String uri, Map&lt;String, String&gt; parameters) throws URISyntaxException {\n    URI oldUri = new URI(uri);\n    StringBuilder queries = new StringBuilder();\n\n    for(Map.Entry&lt;String, String&gt; query: parameters.entrySet()) {\n        queries.append( \"&amp;\" + query.getKey()+\"=\"+query.getValue());\n    }\n\n    String newQuery = oldUri.getQuery();\n    if (newQuery == null) {\n        newQuery = queries.substring(1);\n    } else {\n        newQuery += queries.toString();\n    }\n\n    URI newUri = new URI(oldUri.getScheme(), oldUri.getAuthority(),\n            oldUri.getPath(), newQuery, oldUri.getFragment());\n\n    return newUri;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1447451,"reputation":1192,"user_id":1365440,"accept_rate":50,"display_name":"jbc25"},"score":0,"creation_date":1621438876,"post_id":63723801,"comment_id":119497411,"body_markdown":"This is exactly the solution I was especting, thanks","body":"This is exactly the solution I was especting, thanks"}],"tags":[],"owner":{"account_id":3381873,"reputation":79,"user_id":2838754,"display_name":"satyendra"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1599136453,"creation_date":1599136453,"answer_id":63723801,"question_id":26177749,"body_markdown":"For android, Use:\r\nhttps://developer.android.com/reference/android/net/Uri#buildUpon()\r\n\r\n   \r\n\r\n    URI oldUri = new URI(uri);\r\n    Uri.Builder builder = oldUri.buildUpon();\r\n     builder.appendQueryParameter(&quot;newParameter&quot;, &quot;dummyvalue&quot;);\r\n     Uri newUri =  builder.build();\r\n\r\n","title":"How can I append a query parameter to an existing URL?","body":"<p>For android, Use:\n<a href=\"https://developer.android.com/reference/android/net/Uri#buildUpon()\" rel=\"noreferrer\">https://developer.android.com/reference/android/net/Uri#buildUpon()</a></p>\n<pre><code>URI oldUri = new URI(uri);\nUri.Builder builder = oldUri.buildUpon();\n builder.appendQueryParameter(&quot;newParameter&quot;, &quot;dummyvalue&quot;);\n Uri newUri =  builder.build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13443062,"reputation":1312,"user_id":9699754,"display_name":"Divyanshu Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688623117,"creation_date":1672312373,"answer_id":74950389,"question_id":26177749,"body_markdown":"For Android, use this function to append a new parameter to your existing URI.\r\n\r\n**Java** \r\n\r\n```java\r\nprivate Uri appendUriParameter(Uri uri, String key, String newValue) {\r\n  final Set&lt;String&gt; params = uri.getQueryParameterNames();\r\n  final Uri.Builder newUri = uri.buildUpon().clearQuery();\r\n  for (String param : params) {\r\n    newUri.appendQueryParameter(param, uri.getQueryParameter(param));\r\n  }\r\n  newUri.appendQueryParameter(key, newValue);\r\n\r\n  return newUri.build();\r\n}\r\n```\r\n\r\n**Kotlin**\r\n\r\n    private fun appendUriParameter(uri: Uri, key: String, newValue: String) {\r\n        val params = uri.queryParameterNames()\r\n        val newUri = uri.buildUpon().clearQuery()\r\n        for (param in params) {\r\n            newUri.appendQueryParameter(param, uri.queryParameter(param))\r\n        }\r\n        return newUri.appendQueryParameter(key, newValue)\r\n    }","title":"How can I append a query parameter to an existing URL?","body":"<p>For Android, use this function to append a new parameter to your existing URI.</p>\n<p><strong>Java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>private Uri appendUriParameter(Uri uri, String key, String newValue) {\n  final Set&lt;String&gt; params = uri.getQueryParameterNames();\n  final Uri.Builder newUri = uri.buildUpon().clearQuery();\n  for (String param : params) {\n    newUri.appendQueryParameter(param, uri.getQueryParameter(param));\n  }\n  newUri.appendQueryParameter(key, newValue);\n\n  return newUri.build();\n}\n</code></pre>\n<p><strong>Kotlin</strong></p>\n<pre><code>private fun appendUriParameter(uri: Uri, key: String, newValue: String) {\n    val params = uri.queryParameterNames()\n    val newUri = uri.buildUpon().clearQuery()\n    for (param in params) {\n        newUri.appendQueryParameter(param, uri.queryParameter(param))\n    }\n    return newUri.appendQueryParameter(key, newValue)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6525396,"reputation":1941,"user_id":5695585,"display_name":"Enrico Bianchi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684445167,"creation_date":1684328861,"answer_id":76272460,"question_id":26177749,"body_markdown":"Using lambda and [StringJoiner][1], code can be more concise:\r\n\r\n```\r\npublic static URI appendUri(String url, Map&lt;String, String&gt; parameters) throws URISyntaxException {\r\n    final var uri = new URI(url);\r\n    final var sj = new StringJoiner(&quot;&amp;&quot;);\r\n\r\n    parameters.forEach((name, value) -&gt; sj.add(name + &quot;=&quot; + value));\r\n    final var query = uri.getQuery() == null ? sj.toString() : sj.length() &gt; 0 ? uri.getQuery() + &quot;&amp;&quot; + sj : uri.getQuery();\r\n\r\n    return new URI(uri.getScheme(), uri.getUserInfo(), uri.getHost(), uri.getPort(), uri.getPath(), query, uri.getFragment());\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html","title":"How can I append a query parameter to an existing URL?","body":"<p>Using lambda and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\" rel=\"nofollow noreferrer\">StringJoiner</a>, code can be more concise:</p>\n<pre><code>public static URI appendUri(String url, Map&lt;String, String&gt; parameters) throws URISyntaxException {\n    final var uri = new URI(url);\n    final var sj = new StringJoiner(&quot;&amp;&quot;);\n\n    parameters.forEach((name, value) -&gt; sj.add(name + &quot;=&quot; + value));\n    final var query = uri.getQuery() == null ? sj.toString() : sj.length() &gt; 0 ? uri.getQuery() + &quot;&amp;&quot; + sj : uri.getQuery();\n\n    return new URI(uri.getScheme(), uri.getUserInfo(), uri.getHost(), uri.getPort(), uri.getPath(), query, uri.getFragment());\n}\n</code></pre>\n"}],"owner":{"account_id":115919,"reputation":43549,"user_id":304151,"accept_rate":81,"display_name":"Mridang Agarwalla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215872,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":26177982,"answer_count":9,"score":93,"last_activity_date":1689255552,"creation_date":1412333945,"question_id":26177749,"body_markdown":"I&#39;d like to append key-value pair as a query parameter to an existing URL. While I could do this by checking for the existence of whether the URL has a query part or a fragment part and doing the append by jumping though a bunch of if-clauses but I was wondering if there was clean way if doing this through the Apache Commons libraries or something equivalent.\r\n\r\n`http://example.com` would be `http://example.com?name=John`\r\n\r\n`http://example.com#fragment` would be `http://example.com?name=John#fragment`\r\n\r\n`http://example.com?email=john.doe@email.com` would be `http://example.com?email=john.doe@email.com&amp;name=John`\r\n\r\n`http://example.com?email=john.doe@email.com#fragment` would be `http://example.com?email=john.doe@email.com&amp;name=John#fragment`\r\n\r\nI&#39;ve run this scenario many times before and I&#39;d like to do this without breaking the URL in any way.","title":"How can I append a query parameter to an existing URL?","body":"<p>I'd like to append key-value pair as a query parameter to an existing URL. While I could do this by checking for the existence of whether the URL has a query part or a fragment part and doing the append by jumping though a bunch of if-clauses but I was wondering if there was clean way if doing this through the Apache Commons libraries or something equivalent.</p>\n\n<p><code>http://example.com</code> would be <code>http://example.com?name=John</code></p>\n\n<p><code>http://example.com#fragment</code> would be <code>http://example.com?name=John#fragment</code></p>\n\n<p><code>http://example.com?email=john.doe@email.com</code> would be <code>http://example.com?email=john.doe@email.com&amp;name=John</code></p>\n\n<p><code>http://example.com?email=john.doe@email.com#fragment</code> would be <code>http://example.com?email=john.doe@email.com&amp;name=John#fragment</code></p>\n\n<p>I've run this scenario many times before and I'd like to do this without breaking the URL in any way.</p>\n"},{"tags":["java","annotations","java-bytecode-asm"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1689359105,"post_id":76679708,"comment_id":135207629,"body_markdown":"The concept that “`@NotNull` is present … on the field … via another annotation” does not exist in Java. Tools processing annotations may implement such a logic but since you’re the one implementing the tool, it’s on you to check whether `MyAnnotation`  has been annotated with `@NotNull` which is what actually has been done on the language level and bytecode level. There is no way around reading and parsing the class file of `MyAnnotation` to find out whether the `@NotNull` annotation is present.","body":"The concept that “<code>@NotNull</code> is present … on the field … via another annotation” does not exist in Java. Tools processing annotations may implement such a logic but since you’re the one implementing the tool, it’s on you to check whether <code>MyAnnotation</code>  has been annotated with <code>@NotNull</code> which is what actually has been done on the language level and bytecode level. There is no way around reading and parsing the class file of <code>MyAnnotation</code> to find out whether the <code>@NotNull</code> annotation is present."}],"answers":[{"comments":[{"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"score":0,"creation_date":1689254675,"post_id":76679787,"comment_id":135189586,"body_markdown":"Hmm I tried adding the `return` block but it never gets executed. Could you provide a more detailed answer, as to what code and where should your snippet be placed inside the script I provided?","body":"Hmm I tried adding the <code>return</code> block but it never gets executed. Could you provide a more detailed answer, as to what code and where should your snippet be placed inside the script I provided?"},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689255630,"post_id":76679787,"comment_id":135189870,"body_markdown":"sorry, the example is a bit tricky to reproduce, but I tried by best to update the original answer, hope it helps","body":"sorry, the example is a bit tricky to reproduce, but I tried by best to update the original answer, hope it helps"},{"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"score":0,"creation_date":1689258876,"post_id":76679787,"comment_id":135190771,"body_markdown":"This answer is basically the same as the code in the question. You visit a field, then visit all annotations on the field .. this answer does not check meta-annotations","body":"This answer is basically the same as the code in the question. You visit a field, then visit all annotations on the field .. this answer does not check meta-annotations"}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689255512,"creation_date":1689254123,"answer_id":76679787,"question_id":76679708,"body_markdown":"Your example basically doesn&#39;t work because you&#39;re only checking if the @NotNull annotation is directly present on the field, but not handling the real case, where @NotNull is a meta-annotation. You might try to use the explicit custom `AnnotationVisitor` instead:\r\n```kotlin\r\noverride fun visitField(\r\n    access: Int,\r\n    name: String,\r\n    descriptor: String,\r\n    signature: String?,\r\n    value: Any?\r\n): FieldVisitor {\r\n    val fieldVisitor = super.visitField(access, name, descriptor, signature, value)\r\n\r\n    return object : FieldVisitor(Opcodes.ASM9, fieldVisitor) {\r\n        var hasNotNullAnnotation = false\r\n\r\n        override fun visitAnnotation(descriptor: String, visible: Boolean): AnnotationVisitor {\r\n            val av = super.visitAnnotation(descriptor, visible)\r\n\r\n            return object : AnnotationVisitor(ASM9, av) {\r\n                override fun visitAnnotation(name: String, descriptor: String): AnnotationVisitor {\r\n                    if (descriptor.contains(notNullAnnotation.descriptor)) {\r\n                        hasNotNullAnnotation = true\r\n                    }\r\n                    return this\r\n                }\r\n            }\r\n        }\r\n\r\n        override fun visitEnd() {\r\n            System.out.println(&quot;hasNotNullAnnotation: &quot; + hasNotNullAnnotation); \r\n            super.visitEnd()\r\n        }\r\n    }\r\n}\r\n```","title":"Using Java ASM library to manipulate bytecode at build time, how can I check if an annotation on a field contains other specific annotations?","body":"<p>Your example basically doesn't work because you're only checking if the @NotNull annotation is directly present on the field, but not handling the real case, where @NotNull is a meta-annotation. You might try to use the explicit custom <code>AnnotationVisitor</code> instead:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun visitField(\n    access: Int,\n    name: String,\n    descriptor: String,\n    signature: String?,\n    value: Any?\n): FieldVisitor {\n    val fieldVisitor = super.visitField(access, name, descriptor, signature, value)\n\n    return object : FieldVisitor(Opcodes.ASM9, fieldVisitor) {\n        var hasNotNullAnnotation = false\n\n        override fun visitAnnotation(descriptor: String, visible: Boolean): AnnotationVisitor {\n            val av = super.visitAnnotation(descriptor, visible)\n\n            return object : AnnotationVisitor(ASM9, av) {\n                override fun visitAnnotation(name: String, descriptor: String): AnnotationVisitor {\n                    if (descriptor.contains(notNullAnnotation.descriptor)) {\n                        hasNotNullAnnotation = true\n                    }\n                    return this\n                }\n            }\n        }\n\n        override fun visitEnd() {\n            System.out.println(&quot;hasNotNullAnnotation: &quot; + hasNotNullAnnotation); \n            super.visitEnd()\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689255512,"creation_date":1689253549,"question_id":76679708,"body_markdown":"`SampleClass` has a field, that is annotated with `MyAnnotation`.\r\n\r\nI can detect that `MyAnnotation` is present on the field `name` using `ASM` visitor pattern, but unsure how to check if `@NotNull` is part of `MyAnnotation`.\r\n\r\nHow can I detect if `@NotNull` is present either directly on the field or via another annotation?\r\n\r\n```\r\nimport jakarta.validation.constraints.NotNull;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\npublic class SampleClass {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @MyAnnotation(&quot;John&quot;)\r\n    public String name;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n}\r\n```\r\n\r\n`MyAnnotation.java`:\r\n\r\n```\r\nimport jakarta.validation.constraints.NotNull;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@NotNull\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.METHOD})\r\npublic @interface MyAnnotation {\r\n    String value() default &quot;&quot;;\r\n}\r\n```\r\n\r\nGradle build script:\r\n\r\n```\r\nimport org.objectweb.asm.*\r\nimport org.objectweb.asm.Opcodes.ASM9\r\nimport java.util.*\r\n\r\n\r\nplugins {\r\n    java\r\n}\r\n\r\ngroup &quot;org.example&quot;\r\nversion &quot;1.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;org.ow2.asm:asm:9.5&quot;)\r\n    implementation(&quot;jakarta.persistence:jakarta.persistence-api:2.2.3&quot;)\r\n    implementation(&quot;jakarta.validation:jakarta.validation-api:3.0.0&quot;)\r\n}\r\n\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath(&quot;org.ow2.asm:asm:9.5&quot;)\r\n        classpath(&quot;jakarta.persistence:jakarta.persistence-api:2.2.3&quot;)\r\n        classpath(&quot;jakarta.validation:jakarta.validation-api:3.0.0&quot;)\r\n    }\r\n}\r\n\r\ntasks.compileJava {\r\n    doLast {\r\n\r\n        val notNullAnnotation = Type.getType(&quot;Ljakarta/validation/constraints/NotNull&quot;)\r\n\r\n        val classReader = ClassReader(file(&quot;build/classes/java/main/org/example/SampleClass.class&quot;).readBytes())\r\n        val classWriter = ClassWriter(classReader, ClassWriter.COMPUTE_MAXS)\r\n\r\n        classReader.accept(object : ClassVisitor(ASM9, classWriter) {\r\n            var isEntity = false\r\n\r\n            override fun visit(\r\n                version: Int,\r\n                access: Int,\r\n                name: String,\r\n                signature: String?,\r\n                superName: String?,\r\n                interfaces: Array&lt;out String&gt;?\r\n            ) {\r\n                super.visit(version, access, name, signature, superName, interfaces)\r\n            }\r\n\r\n            override fun visitField(\r\n                access: Int,\r\n                name: String,\r\n                descriptor: String,\r\n                signature: String?,\r\n                value: Any?\r\n            ): FieldVisitor {\r\n                val fieldVisitor = super.visitField(access, name, descriptor, signature, value)\r\n\r\n                return object : FieldVisitor(Opcodes.ASM9, fieldVisitor) {\r\n                    var hasNotNullAnnotation = false\r\n\r\n                    override fun visitAnnotation(descriptor: String, visible: Boolean): AnnotationVisitor {\r\n\r\n                        val av = super.visitAnnotation(descriptor, visible)\r\n\r\n                        if (descriptor.contains(notNullAnnotation.descriptor)) {\r\n                            hasNotNullAnnotation = true\r\n                        }\r\n                    }\r\n\r\n                    override fun visitEnd() {\r\n\r\n                        System.out.println(&quot;hasNotNullAnnotation: &quot; + hasNotNullAnnotation); // always false\r\n\r\n                        super.visitEnd()\r\n                    }\r\n                }\r\n            }\r\n        }, 0)\r\n\r\n        file(&quot;build/classes/java/main/org/example/SampleClass.class&quot;).writeBytes(classWriter.toByteArray())\r\n    }\r\n}\r\n\r\nval asmConfiguration = project.configurations.getByName(&quot;implementation&quot;)\r\ntasks.compileJava {\r\n\r\n    doLast {\r\n        asmConfiguration\r\n    }\r\n}\r\n```","title":"Using Java ASM library to manipulate bytecode at build time, how can I check if an annotation on a field contains other specific annotations?","body":"<p><code>SampleClass</code> has a field, that is annotated with <code>MyAnnotation</code>.</p>\n<p>I can detect that <code>MyAnnotation</code> is present on the field <code>name</code> using <code>ASM</code> visitor pattern, but unsure how to check if <code>@NotNull</code> is part of <code>MyAnnotation</code>.</p>\n<p>How can I detect if <code>@NotNull</code> is present either directly on the field or via another annotation?</p>\n<pre><code>import jakarta.validation.constraints.NotNull;\n\nimport javax.persistence.*;\n\n@Entity\npublic class SampleClass {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @MyAnnotation(&quot;John&quot;)\n    public String name;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p><code>MyAnnotation.java</code>:</p>\n<pre><code>import jakarta.validation.constraints.NotNull;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@NotNull\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.METHOD})\npublic @interface MyAnnotation {\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<p>Gradle build script:</p>\n<pre><code>import org.objectweb.asm.*\nimport org.objectweb.asm.Opcodes.ASM9\nimport java.util.*\n\n\nplugins {\n    java\n}\n\ngroup &quot;org.example&quot;\nversion &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.ow2.asm:asm:9.5&quot;)\n    implementation(&quot;jakarta.persistence:jakarta.persistence-api:2.2.3&quot;)\n    implementation(&quot;jakarta.validation:jakarta.validation-api:3.0.0&quot;)\n}\n\nbuildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(&quot;org.ow2.asm:asm:9.5&quot;)\n        classpath(&quot;jakarta.persistence:jakarta.persistence-api:2.2.3&quot;)\n        classpath(&quot;jakarta.validation:jakarta.validation-api:3.0.0&quot;)\n    }\n}\n\ntasks.compileJava {\n    doLast {\n\n        val notNullAnnotation = Type.getType(&quot;Ljakarta/validation/constraints/NotNull&quot;)\n\n        val classReader = ClassReader(file(&quot;build/classes/java/main/org/example/SampleClass.class&quot;).readBytes())\n        val classWriter = ClassWriter(classReader, ClassWriter.COMPUTE_MAXS)\n\n        classReader.accept(object : ClassVisitor(ASM9, classWriter) {\n            var isEntity = false\n\n            override fun visit(\n                version: Int,\n                access: Int,\n                name: String,\n                signature: String?,\n                superName: String?,\n                interfaces: Array&lt;out String&gt;?\n            ) {\n                super.visit(version, access, name, signature, superName, interfaces)\n            }\n\n            override fun visitField(\n                access: Int,\n                name: String,\n                descriptor: String,\n                signature: String?,\n                value: Any?\n            ): FieldVisitor {\n                val fieldVisitor = super.visitField(access, name, descriptor, signature, value)\n\n                return object : FieldVisitor(Opcodes.ASM9, fieldVisitor) {\n                    var hasNotNullAnnotation = false\n\n                    override fun visitAnnotation(descriptor: String, visible: Boolean): AnnotationVisitor {\n\n                        val av = super.visitAnnotation(descriptor, visible)\n\n                        if (descriptor.contains(notNullAnnotation.descriptor)) {\n                            hasNotNullAnnotation = true\n                        }\n                    }\n\n                    override fun visitEnd() {\n\n                        System.out.println(&quot;hasNotNullAnnotation: &quot; + hasNotNullAnnotation); // always false\n\n                        super.visitEnd()\n                    }\n                }\n            }\n        }, 0)\n\n        file(&quot;build/classes/java/main/org/example/SampleClass.class&quot;).writeBytes(classWriter.toByteArray())\n    }\n}\n\nval asmConfiguration = project.configurations.getByName(&quot;implementation&quot;)\ntasks.compileJava {\n\n    doLast {\n        asmConfiguration\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-mediacodec","audiotrack","mediaextractor"],"answers":[{"tags":[],"owner":{"account_id":5376192,"reputation":9447,"user_id":4283005,"display_name":"dev.bmax"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689255154,"creation_date":1689255154,"answer_id":76679944,"question_id":76677416,"body_markdown":"The audio is compressed using the Advanced Audio Coding (AAC) compression. You can see it from this line: \r\n`mime: audio/mp4a-latm`. \r\n\r\nBut you are not decoding it. The `MediaExtractor` reads compressed samples while the `AudioTrack` expects decoded data (`AudioFormat.ENCODING_PCM_16BIT` in your case).\r\n\r\nYou can use the [MediaCodec API][1] to decode the audio buffers that `MediaExtractor` reads. \r\n\r\nBy the way, you will not need to copy the decoded buffers into an array, just pass them to the `AudioTrack` as is.\r\n\r\nAlternatively, you could detect the correct encoding and specify it when you set the `AudioTrack` up. See [here][2] and [here][3]. \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/media/MediaCodec\r\n  [2]: https://developer.android.com/reference/android/media/AudioFormat.Builder#setEncoding(int)\r\n  [3]: https://developer.android.com/reference/android/media/AudioTrack.Builder","title":"Audio sample not playing as expected on android11","body":"<p>The audio is compressed using the Advanced Audio Coding (AAC) compression. You can see it from this line:\n<code>mime: audio/mp4a-latm</code>.</p>\n<p>But you are not decoding it. The <code>MediaExtractor</code> reads compressed samples while the <code>AudioTrack</code> expects decoded data (<code>AudioFormat.ENCODING_PCM_16BIT</code> in your case).</p>\n<p>You can use the <a href=\"https://developer.android.com/reference/android/media/MediaCodec\" rel=\"nofollow noreferrer\">MediaCodec API</a> to decode the audio buffers that <code>MediaExtractor</code> reads.</p>\n<p>By the way, you will not need to copy the decoded buffers into an array, just pass them to the <code>AudioTrack</code> as is.</p>\n<p>Alternatively, you could detect the correct encoding and specify it when you set the <code>AudioTrack</code> up. See <a href=\"https://developer.android.com/reference/android/media/AudioFormat.Builder#setEncoding(int)\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://developer.android.com/reference/android/media/AudioTrack.Builder\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":14859796,"reputation":93,"user_id":10731025,"display_name":"EinStyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76679944,"answer_count":1,"score":2,"last_activity_date":1689255154,"creation_date":1689237319,"question_id":76677416,"body_markdown":"I am trying to extract and play audio samples from a video file in Android 11. However, I have followed some tutorials from the official documentation, but it still doesn&#39;t work. All I get is noise for a shorter duration of the audio. Please check the code I am using to achieve this:\r\n\r\n```\r\n\r\n// This is how I get the audio samples\r\npublic ArrayList&lt;byte[]&gt; getAudio() {\r\n    int index = 0;\r\n    ArrayList&lt;byte[]&gt; audio = new ArrayList&lt;&gt;();\r\n    ByteBuffer buffer = ByteBuffer.allocateDirect(format.getInteger(MediaFormat.KEY_MAX_INPUT_SIZE));\r\n\r\n    for (;;) {\r\n        int size = extractor.readSampleData(buffer, 0);\r\n        total_size += size;\r\n        if (size &lt; 0) { // no more data to read\r\n            break;\r\n        }\r\n\r\n        for (int i = 0; i &lt; size / 2; i++) {\r\n            byte[] sample = new byte[2];\r\n            for (int j = 0; j &lt; sample.length; j++) {\r\n                sample[j] = buffer.get();\r\n            }\r\n            audio.add(sample);\r\n        }\r\n        extractor.advance();\r\n    }\r\n    return audio;\r\n}\r\n\r\nLog.d(&quot;AudioTest&quot;, &quot;total audio data size in bytes: &quot; + total_size);\r\n\r\n// This is how I play the audio\r\nint SIZE = AudioTrack.getMinBufferSize(48000, AudioFormat.CHANNEL_OUT_MONO, AudioFormat.ENCODING_PCM_16BIT);\r\nAudioTrack track = new AudioTrack(AudioManager.STREAM_MUSIC, 48000, AudioFormat.CHANNEL_OUT_MONO, AudioFormat.ENCODING_PCM_16BIT, SIZE, AudioTrack.MODE_STREAM);\r\nArrayList&lt;byte[]&gt; audio = getAudio();\r\nlong start = System.currentTimeMillis();\r\n\r\ntrack.play();\r\nbyte[] data = new byte[audio.size() * 2];\r\nfor (int i = 0, k = 0; i &lt; audio.size(); i++) {\r\n    byte[] sample = audio.get(i);\r\n    for (int j = 0; j &lt; sample.length; j++, k++) {\r\n        data[k] = sample[j];\r\n    }\r\n}\r\ntrack.write(data, 0, data.length);\r\n\r\nlong duration = System.currentTimeMillis() - start;\r\nLog.d(&quot;AudioTest&quot;, &quot;that took: &quot; + (duration / 1000) + &quot;s&quot;);\r\n\r\n\r\n```\r\n\r\nI am facing an issue where my audio plays random noise for only 5 seconds. The `getAudio()` method retrieves only 487,831 bytes from the 15-second video file. Here are the details of the video file:\r\n\r\nFrames: \r\n- has-sdtp: 1\r\n- track-id: 1\r\n- level: 2048\r\n- mime: video/avc\r\n- frame-count: 461\r\n- profile: 8\r\n- language: und\r\n- color-standard: 1\r\n- display-width: 1920\r\n- track-fourcc: 828601953\r\n- csd-1: java.nio.HeapByteBuffer[pos=0 lim=9 cap=9]\r\n- color-transfer: 3\r\n- durationUs: 15,382,033\r\n- display-height: 1080\r\n- width: 1920\r\n- color-range: 2\r\n- max-input-size: 3,145,748\r\n- frame-rate: 30\r\n- height: 1080\r\n- csd-0: java.nio.HeapByteBuffer[pos=0 lim=33 cap=33]\r\n\r\nSamples:\r\n- max-bitrate: 262,664\r\n- isDMCMMExtractor: 1\r\n- sample-rate: 48,000\r\n- track-id: 2\r\n- mime: audio/mp4a-latm\r\n- profile: 2\r\n- language: und\r\n- aac-profile: 2\r\n- track-fourcc: -1\r\n- encoder-delay: 0\r\n- durationUs: 15,402,666\r\n- channel-count: 2\r\n- bits-per-sample: 16\r\n- encoder-padding: 48\r\n- max-input-size: 524,308\r\n- csd-0: java.nio.HeapByteBuffer[pos=0 lim=2 cap=2]\r\n\r\nAny help would be highly appreciated.\r\n\r\nThank you.\r\n\r\n\r\n","title":"Audio sample not playing as expected on android11","body":"<p>I am trying to extract and play audio samples from a video file in Android 11. However, I have followed some tutorials from the official documentation, but it still doesn't work. All I get is noise for a shorter duration of the audio. Please check the code I am using to achieve this:</p>\n<pre><code>\n// This is how I get the audio samples\npublic ArrayList&lt;byte[]&gt; getAudio() {\n    int index = 0;\n    ArrayList&lt;byte[]&gt; audio = new ArrayList&lt;&gt;();\n    ByteBuffer buffer = ByteBuffer.allocateDirect(format.getInteger(MediaFormat.KEY_MAX_INPUT_SIZE));\n\n    for (;;) {\n        int size = extractor.readSampleData(buffer, 0);\n        total_size += size;\n        if (size &lt; 0) { // no more data to read\n            break;\n        }\n\n        for (int i = 0; i &lt; size / 2; i++) {\n            byte[] sample = new byte[2];\n            for (int j = 0; j &lt; sample.length; j++) {\n                sample[j] = buffer.get();\n            }\n            audio.add(sample);\n        }\n        extractor.advance();\n    }\n    return audio;\n}\n\nLog.d(&quot;AudioTest&quot;, &quot;total audio data size in bytes: &quot; + total_size);\n\n// This is how I play the audio\nint SIZE = AudioTrack.getMinBufferSize(48000, AudioFormat.CHANNEL_OUT_MONO, AudioFormat.ENCODING_PCM_16BIT);\nAudioTrack track = new AudioTrack(AudioManager.STREAM_MUSIC, 48000, AudioFormat.CHANNEL_OUT_MONO, AudioFormat.ENCODING_PCM_16BIT, SIZE, AudioTrack.MODE_STREAM);\nArrayList&lt;byte[]&gt; audio = getAudio();\nlong start = System.currentTimeMillis();\n\ntrack.play();\nbyte[] data = new byte[audio.size() * 2];\nfor (int i = 0, k = 0; i &lt; audio.size(); i++) {\n    byte[] sample = audio.get(i);\n    for (int j = 0; j &lt; sample.length; j++, k++) {\n        data[k] = sample[j];\n    }\n}\ntrack.write(data, 0, data.length);\n\nlong duration = System.currentTimeMillis() - start;\nLog.d(&quot;AudioTest&quot;, &quot;that took: &quot; + (duration / 1000) + &quot;s&quot;);\n\n\n</code></pre>\n<p>I am facing an issue where my audio plays random noise for only 5 seconds. The <code>getAudio()</code> method retrieves only 487,831 bytes from the 15-second video file. Here are the details of the video file:</p>\n<p>Frames:</p>\n<ul>\n<li>has-sdtp: 1</li>\n<li>track-id: 1</li>\n<li>level: 2048</li>\n<li>mime: video/avc</li>\n<li>frame-count: 461</li>\n<li>profile: 8</li>\n<li>language: und</li>\n<li>color-standard: 1</li>\n<li>display-width: 1920</li>\n<li>track-fourcc: 828601953</li>\n<li>csd-1: java.nio.HeapByteBuffer[pos=0 lim=9 cap=9]</li>\n<li>color-transfer: 3</li>\n<li>durationUs: 15,382,033</li>\n<li>display-height: 1080</li>\n<li>width: 1920</li>\n<li>color-range: 2</li>\n<li>max-input-size: 3,145,748</li>\n<li>frame-rate: 30</li>\n<li>height: 1080</li>\n<li>csd-0: java.nio.HeapByteBuffer[pos=0 lim=33 cap=33]</li>\n</ul>\n<p>Samples:</p>\n<ul>\n<li>max-bitrate: 262,664</li>\n<li>isDMCMMExtractor: 1</li>\n<li>sample-rate: 48,000</li>\n<li>track-id: 2</li>\n<li>mime: audio/mp4a-latm</li>\n<li>profile: 2</li>\n<li>language: und</li>\n<li>aac-profile: 2</li>\n<li>track-fourcc: -1</li>\n<li>encoder-delay: 0</li>\n<li>durationUs: 15,402,666</li>\n<li>channel-count: 2</li>\n<li>bits-per-sample: 16</li>\n<li>encoder-padding: 48</li>\n<li>max-input-size: 524,308</li>\n<li>csd-0: java.nio.HeapByteBuffer[pos=0 lim=2 cap=2]</li>\n</ul>\n<p>Any help would be highly appreciated.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","jpastreamer"],"answers":[{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1689197869,"post_id":76674473,"comment_id":135181172,"body_markdown":"I wanted to share the repo with you. I already defined JPAstreamer dependency in pom.xml with its plugin but I cannot create class under `annotations`. Where is the problem?","body":"I wanted to share the repo with you. I already defined JPAstreamer dependency in pom.xml with its plugin but I cannot create class under <code>annotations</code>. Where is the problem?"},{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1689255127,"post_id":76674473,"comment_id":135189728,"body_markdown":"I am not an user of jpastreamer. But `User$` seems like generated code to me, pretty much like `User_` with Hibernate JPA Annotation processor, hence my reply.","body":"I am not an user of jpastreamer. But <code>User$</code> seems like generated code to me, pretty much like <code>User_</code> with Hibernate JPA Annotation processor, hence my reply."},{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1689255160,"post_id":76674473,"comment_id":135189740,"body_markdown":"There: I fixed the version issue.","body":"There: I fixed the version issue."}],"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689255137,"creation_date":1689196387,"answer_id":76674473,"question_id":76674061,"body_markdown":"Reading their documentation, and the gradle integration, I think you are simply lacking the annotation processor: \r\n\r\n    dependencies {\r\n        compile &quot;com.speedment.jpastreamer:jpastreamer-core:version&quot;\r\n        annotationProcessor &quot;com.speedment.jpastreamer:fieldgenerator-standard:version&quot;\r\n    }\r\n\r\nTo fix your problem, you probably just need to add an annotation processor: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html\r\n\r\n    &lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;annotationProcessorPaths&gt;\r\n          &lt;path&gt;\r\n            &lt;groupId&gt;com.speedment.jpastreamer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fieldgenerator-standard&lt;/artifactId&gt;\r\n            &lt;version&gt;${jpastream.version}&lt;/version&gt;\r\n          &lt;/path&gt;\r\n        &lt;/annotationProcessorPaths&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nYou may also, if it works, create a [pull request][1] to fix the README.\r\n\r\n\r\n  [1]: https://github.com/speedment/jpa-streamer#maven","title":"Spring Boot with the usage of jpaStreamer $ issue - Cannot resolve symbol &#39;User$&#39;","body":"<p>Reading their documentation, and the gradle integration, I think you are simply lacking the annotation processor:</p>\n<pre><code>dependencies {\n    compile &quot;com.speedment.jpastreamer:jpastreamer-core:version&quot;\n    annotationProcessor &quot;com.speedment.jpastreamer:fieldgenerator-standard:version&quot;\n}\n</code></pre>\n<p>To fix your problem, you probably just need to add an annotation processor: <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html</a></p>\n<pre><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;annotationProcessorPaths&gt;\n      &lt;path&gt;\n        &lt;groupId&gt;com.speedment.jpastreamer&lt;/groupId&gt;\n        &lt;artifactId&gt;fieldgenerator-standard&lt;/artifactId&gt;\n        &lt;version&gt;${jpastream.version}&lt;/version&gt;\n      &lt;/path&gt;\n    &lt;/annotationProcessorPaths&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>You may also, if it works, create a <a href=\"https://github.com/speedment/jpa-streamer#maven\" rel=\"nofollow noreferrer\">pull request</a> to fix the README.</p>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689247721,"creation_date":1689247721,"answer_id":76678872,"question_id":76674061,"body_markdown":"I fixed the issue. It caused by the version of `jpastream.version`. After I defined it as `3.0.3` in pom.xml, the problem disappeared.\r\n\r\n\r\n\r\n    &lt;jpastream.version&gt;3.0.3&lt;/jpastream.version&gt;","title":"Spring Boot with the usage of jpaStreamer $ issue - Cannot resolve symbol &#39;User$&#39;","body":"<p>I fixed the issue. It caused by the version of <code>jpastream.version</code>. After I defined it as <code>3.0.3</code> in pom.xml, the problem disappeared.</p>\n<pre><code>&lt;jpastream.version&gt;3.0.3&lt;/jpastream.version&gt;\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76678872,"answer_count":2,"score":0,"last_activity_date":1689255137,"creation_date":1689191776,"question_id":76674061,"body_markdown":"I tried to implement an example of Spring Boot with the usage of `jpaStreamer`. I use `Intellij Idea` to handle with it. I have a problem in `jpaStreamer.stream`.\r\n\r\n\r\nHere are the dependencies shown below\r\n\r\n    &lt;jpastream.version&gt;1.1.4&lt;/jpastream.version&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.speedment.jpastreamer&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jpastreamer-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${jpastream.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.speedment.jpastreamer.integration.spring&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-jpastreamer-autoconfigure&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${jpastream.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nHere is the sample method of UserService shown below\r\n\r\n    public List&lt;User&gt; findAllForJpaStreamer() {\r\n       return jpaStreamer.stream(User.class).\r\n              sorted(User$.id).\r\n              collect(Collectors.toList());\r\n    }\r\n\r\nI get this error message shown below\r\n\r\n    Cannot resolve symbol &#39;User$&#39;\r\n\r\nHere is the screenshot shown below\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow can I fix it?\r\n\r\n\r\nHere is the repo : [Link][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LTYWL.png\r\n  [2]: https://i.stack.imgur.com/mlxXI.png\r\n  [3]: https://github.com/Rapter1990/jpastreamer","title":"Spring Boot with the usage of jpaStreamer $ issue - Cannot resolve symbol &#39;User$&#39;","body":"<p>I tried to implement an example of Spring Boot with the usage of <code>jpaStreamer</code>. I use <code>Intellij Idea</code> to handle with it. I have a problem in <code>jpaStreamer.stream</code>.</p>\n<p>Here are the dependencies shown below</p>\n<pre><code>&lt;jpastream.version&gt;1.1.4&lt;/jpastream.version&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.speedment.jpastreamer&lt;/groupId&gt;\n    &lt;artifactId&gt;jpastreamer-core&lt;/artifactId&gt;\n    &lt;version&gt;${jpastream.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.speedment.jpastreamer.integration.spring&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-jpastreamer-autoconfigure&lt;/artifactId&gt;\n    &lt;version&gt;${jpastream.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is the sample method of UserService shown below</p>\n<pre><code>public List&lt;User&gt; findAllForJpaStreamer() {\n   return jpaStreamer.stream(User.class).\n          sorted(User$.id).\n          collect(Collectors.toList());\n}\n</code></pre>\n<p>I get this error message shown below</p>\n<pre><code>Cannot resolve symbol 'User$'\n</code></pre>\n<p>Here is the screenshot shown below</p>\n<p><a href=\"https://i.stack.imgur.com/LTYWL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LTYWL.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/mlxXI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mlxXI.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I fix it?</p>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/jpastreamer\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","datetime","clojure"],"answers":[{"comments":[{"owner":{"account_id":226674,"reputation":18875,"user_id":487855,"accept_rate":90,"display_name":"Ali"},"score":1,"creation_date":1294521965,"post_id":4635747,"comment_id":5101580,"body_markdown":"Thanks, but I rather keep my dependencies as low as possible.","body":"Thanks, but I rather keep my dependencies as low as possible."},{"owner":{"account_id":57917,"reputation":9341,"user_id":173497,"accept_rate":58,"display_name":"Kenny Evitt"},"score":7,"creation_date":1364699674,"post_id":4635747,"comment_id":22340575,"body_markdown":"@Ali - a sane date-time library is a dependency you should seriously consider; unfortunately the standard libraries (for a lot of languages) aren&#39;t always sufficiently precise.","body":"@Ali - a sane date-time library is a dependency you should seriously consider; unfortunately the standard libraries (for a lot of languages) aren&#39;t always sufficiently precise."}],"tags":[],"owner":{"account_id":83469,"reputation":9224,"user_id":234009,"display_name":"robert_x44"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1461801783,"creation_date":1294515516,"answer_id":4635747,"question_id":4635680,"body_markdown":"There is a [Clojure-wrapper library for Joda-Time][1].  Or you&#39;ll have to use java interop with the standard Java API.\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/clj-time/clj-time","title":"What is the best way to get date and time in Clojure?","body":"<p>There is a <a href=\"https://github.com/clj-time/clj-time\" rel=\"nofollow noreferrer\">Clojure-wrapper library for Joda-Time</a>.  Or you'll have to use java interop with the standard Java API.</p>\n"},{"comments":[{"owner":{"account_id":226674,"reputation":18875,"user_id":487855,"accept_rate":90,"display_name":"Ali"},"score":0,"creation_date":1294522084,"post_id":4635979,"comment_id":5101592,"body_markdown":"Great, I think I&#39;d go with (print (.getTime (now))) to preserve reasonable precision in my log files. Thanks.","body":"Great, I think I&#39;d go with (print (.getTime (now))) to preserve reasonable precision in my log files. Thanks."},{"owner":{"account_id":11309,"reputation":31801,"user_id":21734,"accept_rate":98,"display_name":"Rayne"},"score":45,"creation_date":1294649504,"post_id":4635979,"comment_id":5113601,"body_markdown":"`(defn now [] (java.util.Date.))` is the canonical version.","body":"<code>(defn now [] (java.util.Date.))</code> is the canonical version."}],"tags":[],"owner":{"account_id":238081,"reputation":9438,"user_id":506721,"accept_rate":89,"display_name":"Goran Jovic"},"comment_count":2,"down_vote_count":1,"up_vote_count":58,"is_accepted":true,"score":57,"last_activity_date":1294518698,"creation_date":1294518698,"answer_id":4635979,"question_id":4635680,"body_markdown":"If all you need is to get the current time and date for your logger, then this function is OK:\r\n\r\n     (defn now [] (new java.util.Date))\r\n\r\nNow that you mentioned this, it would be useful to have support for immutable Date objects.","title":"What is the best way to get date and time in Clojure?","body":"<p>If all you need is to get the current time and date for your logger, then this function is OK:</p>\n\n<pre><code> (defn now [] (new java.util.Date))\n</code></pre>\n\n<p>Now that you mentioned this, it would be useful to have support for immutable Date objects.</p>\n"},{"comments":[{"owner":{"account_id":9411131,"reputation":87,"user_id":6995046,"display_name":"Agata"},"score":2,"creation_date":1654682964,"post_id":15726071,"comment_id":128147507,"body_markdown":"this library is now deprecated","body":"this library is now deprecated"},{"owner":{"account_id":57917,"reputation":9341,"user_id":173497,"accept_rate":58,"display_name":"Kenny Evitt"},"score":1,"creation_date":1654700094,"post_id":15726071,"comment_id":128154602,"body_markdown":"@Agata I&#39;m not using Clojure (or Java) currently, and haven&#39;t for a few years now, but I _think_ that&#39;s because Joda Time is deprecated too, and because its features were finally incorporated into Java itself (IIRC).","body":"@Agata I&#39;m not using Clojure (or Java) currently, and haven&#39;t for a few years now, but I <i>think</i> that&#39;s because Joda Time is deprecated too, and because its features were finally incorporated into Java itself (IIRC)."}],"tags":[],"owner":{"account_id":57917,"reputation":9341,"user_id":173497,"accept_rate":58,"display_name":"Kenny Evitt"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1461801418,"creation_date":1364700962,"answer_id":15726071,"question_id":4635680,"body_markdown":"With [clj-time](https://github.com/clj-time/clj-time), the Clojure library that wraps the Java Joda Time library, you could use code like the following:\r\n\r\n    (require &#39;[clj-time.core :as time])\r\n    (require &#39;[clj-time.format :as time-format])\r\n\r\n    (time/now) =&gt; #&lt;DateTime 2013-03-31T03:23:47.328Z&gt;\r\n\r\n    (def time-formatter (time-format/formatters :basic-date-time))  ;; ISO 8601 UTC format\r\n    (time-format/unparse custom-formatter (date-time 2010 10 3)) =&gt; &quot;20101003T000000.000Z&quot;\r\n\r\nOne benefit of Joda Time (and hence clj-time) is that new releases support new changes to time zones.","title":"What is the best way to get date and time in Clojure?","body":"<p>With <a href=\"https://github.com/clj-time/clj-time\" rel=\"noreferrer\">clj-time</a>, the Clojure library that wraps the Java Joda Time library, you could use code like the following:</p>\n\n<pre><code>(require '[clj-time.core :as time])\n(require '[clj-time.format :as time-format])\n\n(time/now) =&gt; #&lt;DateTime 2013-03-31T03:23:47.328Z&gt;\n\n(def time-formatter (time-format/formatters :basic-date-time))  ;; ISO 8601 UTC format\n(time-format/unparse custom-formatter (date-time 2010 10 3)) =&gt; \"20101003T000000.000Z\"\n</code></pre>\n\n<p>One benefit of Joda Time (and hence clj-time) is that new releases support new changes to time zones.</p>\n"},{"tags":[],"owner":{"account_id":189383,"reputation":4209,"user_id":428691,"accept_rate":40,"display_name":"&#201;dipo F&#233;derle"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1451137447,"creation_date":1451137447,"answer_id":34471898,"question_id":4635680,"body_markdown":"If you dont need nothing more advanced, just use Java classes.\r\n\r\n```(.format (java.text.SimpleDateFormat. &quot;MM/dd/yyyy&quot;) (new java.util.Date))```","title":"What is the best way to get date and time in Clojure?","body":"<p>If you dont need nothing more advanced, just use Java classes.</p>\n\n<p><code>(.format (java.text.SimpleDateFormat. \"MM/dd/yyyy\") (new java.util.Date))</code></p>\n"},{"comments":[{"owner":{"account_id":9251970,"reputation":1778,"user_id":6872188,"display_name":"Laurence Chen"},"score":3,"creation_date":1616487830,"post_id":36043033,"comment_id":118010442,"body_markdown":"=&gt; (.toString (java.time.LocalDateTime/now))\n;; =&gt;   &quot;2021-03-23T16:23:14.679916&quot;\n\nThis is something I felt useful","body":"=&gt; (.toString (java.time.LocalDateTime/now)) ;; =&gt;   &quot;2021-03-23T16:23:14.679916&quot;  This is something I felt useful"}],"tags":[],"owner":{"account_id":187340,"reputation":19497,"user_id":425313,"accept_rate":88,"display_name":"Brad Koch"},"comment_count":1,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1540317407,"creation_date":1458149958,"answer_id":36043033,"question_id":4635680,"body_markdown":"Java 1.8 added the [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) package to the core JDK to clean up many of the [frustrations](http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html) with the state of date &amp; time in Java.  Since java.time is now a widely available part of core Java with a much improved API, I would encourage you to give it the first look when writing new date &amp; time code.\r\n\r\nHere&#39;s how you can retrieve the current date and time:\r\n\r\n    (java.time.LocalDateTime/now)","title":"What is the best way to get date and time in Clojure?","body":"<p>Java 1.8 added the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> package to the core JDK to clean up many of the <a href=\"http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html\" rel=\"noreferrer\">frustrations</a> with the state of date &amp; time in Java.  Since java.time is now a widely available part of core Java with a much improved API, I would encourage you to give it the first look when writing new date &amp; time code.</p>\n\n<p>Here's how you can retrieve the current date and time:</p>\n\n<pre><code>(java.time.LocalDateTime/now)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":514472,"reputation":1855,"user_id":1762872,"display_name":"practicalli-john"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689254810,"creation_date":1689253127,"answer_id":76679641,"question_id":4635680,"body_markdown":"`java.time` is available in Java 8 onward and is a relatively straight forward approach to creating a time stamp for logs\r\n\r\n`java.time` namespace is included in Clojure by default, so available without the need for a `require expression.\r\n\r\n```clojure\r\n(java.time.LocalDate/now)\r\n```\r\n\r\nEvaluating this expression returns a Java Time object which should work with most log frameworks\r\n\r\n```\r\n#object[java.time.LocalDate 0x5814b4fb &quot;2023-07-13&quot;]\r\n```\r\n\r\nFor example, in [mulog](https://github.com/BrunoBonacci/mulog) the following event log includes a date-time stamp\r\n\r\n```clojure\r\n(ns practicalli.gameboard.system\r\n  &quot;Service component lifecycle management&quot;\r\n  (:gen-class)\r\n  (:require\r\n   [com.brunobonacci.mulog :as mulog]))\r\n\r\n(mulog/log \r\n  ::log-publish-component\r\n  :local-time (java.time.LocalDateTime/now))\r\n```\r\n\r\n&gt; NOTE: change the namespace to match the file name or add a suitable require to your namespace and copy the mulog/log expression","title":"What is the best way to get date and time in Clojure?","body":"<p><code>java.time</code> is available in Java 8 onward and is a relatively straight forward approach to creating a time stamp for logs</p>\n<p><code>java.time</code> namespace is included in Clojure by default, so available without the need for a `require expression.</p>\n<pre class=\"lang-clj prettyprint-override\"><code>(java.time.LocalDate/now)\n</code></pre>\n<p>Evaluating this expression returns a Java Time object which should work with most log frameworks</p>\n<pre><code>#object[java.time.LocalDate 0x5814b4fb &quot;2023-07-13&quot;]\n</code></pre>\n<p>For example, in <a href=\"https://github.com/BrunoBonacci/mulog\" rel=\"nofollow noreferrer\">mulog</a> the following event log includes a date-time stamp</p>\n<pre class=\"lang-clj prettyprint-override\"><code>(ns practicalli.gameboard.system\n  &quot;Service component lifecycle management&quot;\n  (:gen-class)\n  (:require\n   [com.brunobonacci.mulog :as mulog]))\n\n(mulog/log \n  ::log-publish-component\n  :local-time (java.time.LocalDateTime/now))\n</code></pre>\n<blockquote>\n<p>NOTE: change the namespace to match the file name or add a suitable require to your namespace and copy the mulog/log expression</p>\n</blockquote>\n"}],"owner":{"account_id":226674,"reputation":18875,"user_id":487855,"accept_rate":90,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44468,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":4635979,"answer_count":6,"score":50,"last_activity_date":1689254810,"creation_date":1294514629,"question_id":4635680,"body_markdown":"I need to log some events on a Clojure Client-Server scenario, but it seems to me that Clojure does not provide a date/time function. Can any one confirm this or I am missing something here?! If I am correct then I need to use java interop, right?","title":"What is the best way to get date and time in Clojure?","body":"<p>I need to log some events on a Clojure Client-Server scenario, but it seems to me that Clojure does not provide a date/time function. Can any one confirm this or I am missing something here?! If I am correct then I need to use java interop, right?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1689254427,"post_id":76679789,"comment_id":135189524,"body_markdown":"Maybe set the return type to `Supplier&lt;Integer&gt;` or something instead of `int`? See: [Package java.util.function](https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html) for more types of interfaces.","body":"Maybe set the return type to <code>Supplier&lt;Integer&gt;</code> or something instead of <code>int</code>? See: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\">Package java.util.function</a> for more types of interfaces."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689254828,"post_id":76679789,"comment_id":135189628,"body_markdown":"In other words, you&#39;re assigning the number variable to a function here, so the return statement isn&#39;t being ran at all, therefore the type cannot be int","body":"In other words, you&#39;re assigning the number variable to a function here, so the return statement isn&#39;t being ran at all, therefore the type cannot be int"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689254331,"creation_date":1689254331,"answer_id":76679817,"question_id":76679789,"body_markdown":"The lambda needs an explicit type in this context. You could cast it to [`IntSupplier`](https://docs.oracle.com/javase/8/docs/api/java/util/function/IntSupplier.html) and call its `getAsInt` method to get the return value.\r\n\r\n```java\r\nint number = ((IntSupplier) () -&gt; 1).getAsInt();\r\n```","title":"Set value of variable to return value of expression","body":"<p>The lambda needs an explicit type in this context. You could cast it to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/IntSupplier.html\" rel=\"nofollow noreferrer\"><code>IntSupplier</code></a> and call its <code>getAsInt</code> method to get the return value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int number = ((IntSupplier) () -&gt; 1).getAsInt();\n</code></pre>\n"}],"owner":{"account_id":28637956,"reputation":1,"user_id":21927723,"display_name":"Tamion"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1689255111,"answer_count":1,"score":-2,"last_activity_date":1689254516,"creation_date":1689254136,"question_id":76679789,"body_markdown":"So i am trying to set the value of a variable to the return value of an expression like lambda, Runnable or Callable. Is there any way of doing this in java?\r\n\r\ni tried doing something like this:\r\n```\r\nint number = () -&gt; {\r\n   return 1;\r\n};\r\n```\r\nbut it just shows me a syntax error in Intellij","title":"Set value of variable to return value of expression","body":"<p>So i am trying to set the value of a variable to the return value of an expression like lambda, Runnable or Callable. Is there any way of doing this in java?</p>\n<p>i tried doing something like this:</p>\n<pre><code>int number = () -&gt; {\n   return 1;\n};\n</code></pre>\n<p>but it just shows me a syntax error in Intellij</p>\n"},{"tags":["java","spring-boot","azure","microsoft-graph-api"],"comments":[{"owner":{"account_id":19892464,"reputation":11446,"user_id":14574199,"display_name":"Tiny Wang"},"score":0,"creation_date":1649049863,"post_id":71732015,"comment_id":126768586,"body_markdown":"You may try to follow [this sample](https://github.com/Azure-Samples/ms-identity-java-spring-tutorial/tree/main/1-Authentication/sign-in)","body":"You may try to follow <a href=\"https://github.com/Azure-Samples/ms-identity-java-spring-tutorial/tree/main/1-Authentication/sign-in\" rel=\"nofollow noreferrer\">this sample</a>"},{"owner":{"account_id":16295817,"reputation":11,"user_id":11768090,"display_name":"fewqfeqfewfqwf"},"score":1,"creation_date":1649639284,"post_id":71732015,"comment_id":126919354,"body_markdown":"After studying its code, it works for me, thanks","body":"After studying its code, it works for me, thanks"}],"answers":[{"tags":[],"owner":{"account_id":23997029,"reputation":589,"user_id":17982436,"display_name":"Mehtab Siddique"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689254323,"creation_date":1649334035,"answer_id":71782095,"question_id":71732015,"body_markdown":"This might not answer your question exactly, but as mentioned in the DOCs you can Redeem a code for an access token with the two ways mentioned in the DOC, that is the\r\n\r\n1)Request an access token with a client_secret-\r\n\r\n[https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-access-token-with-a-client_secret][1]\r\n\r\n2)Request an access token with a certificate credential-\r\n\r\n[https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-access-token-with-a-certificate-credential][2]\r\ncan you try this , hope this helps.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-access-token-with-a-client_secret\r\n  [2]: https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-access-token-with-a-certificate-credential","title":"Failed to acquire token with authorization code using Microsoft graph API with Java Spring","body":"<p>This might not answer your question exactly, but as mentioned in the DOCs you can Redeem a code for an access token with the two ways mentioned in the DOC, that is the</p>\n<p>1)Request an access token with a client_secret-</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-access-token-with-a-client_secret\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-access-token-with-a-client_secret</a></p>\n<p>2)Request an access token with a certificate credential-</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-access-token-with-a-certificate-credential\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-access-token-with-a-certificate-credential</a>\ncan you try this , hope this helps.</p>\n"}],"owner":{"account_id":16295817,"reputation":11,"user_id":11768090,"display_name":"fewqfeqfewfqwf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1865,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689254323,"creation_date":1649046327,"question_id":71732015,"body_markdown":"I have followed the guide in microsoft docs and successfully acquire the authorization code when I directly put the URL in the browser. But if I start the Spring application and do the same action, it will say: [invalid_request]. So I have done the following: I get the authorization code before start the Spring application and then run the Spring application with the following code:\r\n\r\n    final AuthorizationCodeCredential authCodeCredential = new AuthorizationCodeCredentialBuilder()\r\n                .clientId(&quot;1234&quot;)\r\n                .clientSecret(&quot;4567&quot;) //required for web apps, do not set for native apps\r\n                .authorizationCode(&quot;abcd12345&quot;)\r\n                .redirectUrl(&quot;http://localhost:8080/login/oauth2/code/azure&quot;)\r\n                .build();\r\n\r\n    //        List&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/mail.read&quot;.split(&quot;,&quot;));\r\n            List&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;.split(&quot;,&quot;));\r\n\r\n        final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, authCodeCredential);\r\n\r\n        final GraphServiceClient graphClient =\r\n                GraphServiceClient\r\n                        .builder()\r\n                        .authenticationProvider(tokenCredentialAuthProvider)\r\n                        .buildClient();\r\n\r\n\r\n        Message message = new Message();\r\n        message.subject = &quot;Meet for lunch?&quot;;\r\n        ItemBody body = new ItemBody();\r\n        body.contentType = BodyType.TEXT;\r\n        body.content = &quot;The new cafeteria is open.&quot;;\r\n        message.body = body;\r\n        LinkedList&lt;Recipient&gt; toRecipientsList = new LinkedList&lt;Recipient&gt;();\r\n        Recipient toRecipients = new Recipient();\r\n        EmailAddress emailAddress = new EmailAddress();\r\n        emailAddress.address = &quot;opoiuiotqq@gmail.com&quot;;\r\n        toRecipients.emailAddress = emailAddress;\r\n        toRecipientsList.add(toRecipients);\r\n        message.toRecipients = toRecipientsList;\r\n\r\n        boolean saveToSentItems = false;\r\n\r\n        graphClient.me()\r\n                .sendMail(UserSendMailParameterSet\r\n                        .newBuilder()\r\n                        .withMessage(message)\r\n                        .withSaveToSentItems(saveToSentItems)\r\n                        .build())\r\n                .buildRequest()\r\n                .post();\r\n\r\nIt just pops an error message: ERROR com.azure.identity.AuthorizationCodeCredential - Azure Identity =&gt; ERROR in getToken() call for scopes [https://graph.microsoft.com/.default]: Failed to acquire token with authorization code. \r\n\r\nSo I think is it related to the problem that I mentioned at the begining. Here is the guide:\r\nhttps://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-authorization-code","title":"Failed to acquire token with authorization code using Microsoft graph API with Java Spring","body":"<p>I have followed the guide in microsoft docs and successfully acquire the authorization code when I directly put the URL in the browser. But if I start the Spring application and do the same action, it will say: [invalid_request]. So I have done the following: I get the authorization code before start the Spring application and then run the Spring application with the following code:</p>\n<pre><code>final AuthorizationCodeCredential authCodeCredential = new AuthorizationCodeCredentialBuilder()\n            .clientId(&quot;1234&quot;)\n            .clientSecret(&quot;4567&quot;) //required for web apps, do not set for native apps\n            .authorizationCode(&quot;abcd12345&quot;)\n            .redirectUrl(&quot;http://localhost:8080/login/oauth2/code/azure&quot;)\n            .build();\n\n//        List&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/mail.read&quot;.split(&quot;,&quot;));\n        List&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;.split(&quot;,&quot;));\n\n    final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, authCodeCredential);\n\n    final GraphServiceClient graphClient =\n            GraphServiceClient\n                    .builder()\n                    .authenticationProvider(tokenCredentialAuthProvider)\n                    .buildClient();\n\n\n    Message message = new Message();\n    message.subject = &quot;Meet for lunch?&quot;;\n    ItemBody body = new ItemBody();\n    body.contentType = BodyType.TEXT;\n    body.content = &quot;The new cafeteria is open.&quot;;\n    message.body = body;\n    LinkedList&lt;Recipient&gt; toRecipientsList = new LinkedList&lt;Recipient&gt;();\n    Recipient toRecipients = new Recipient();\n    EmailAddress emailAddress = new EmailAddress();\n    emailAddress.address = &quot;opoiuiotqq@gmail.com&quot;;\n    toRecipients.emailAddress = emailAddress;\n    toRecipientsList.add(toRecipients);\n    message.toRecipients = toRecipientsList;\n\n    boolean saveToSentItems = false;\n\n    graphClient.me()\n            .sendMail(UserSendMailParameterSet\n                    .newBuilder()\n                    .withMessage(message)\n                    .withSaveToSentItems(saveToSentItems)\n                    .build())\n            .buildRequest()\n            .post();\n</code></pre>\n<p>It just pops an error message: ERROR com.azure.identity.AuthorizationCodeCredential - Azure Identity =&gt; ERROR in getToken() call for scopes [https://graph.microsoft.com/.default]: Failed to acquire token with authorization code.</p>\n<p>So I think is it related to the problem that I mentioned at the begining. Here is the guide:\n<a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-authorization-code\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-authorization-code</a></p>\n"},{"tags":["java","android","azure","android-studio","azure-mobile-services"],"answers":[{"comments":[{"owner":{"account_id":6919785,"reputation":203,"user_id":5312823,"accept_rate":45,"display_name":"semiColon"},"score":0,"creation_date":1442500136,"post_id":32622336,"comment_id":53114639,"body_markdown":"Thank you for your answer @Peter but I have already completed these steps. The &quot;gson-2.2.2.jar&quot; file is already included but it doesn&#39;t seem to be getting recognized at compile time. Any ideas?\n\nThis is the .jar I have included compile &#39;com.google.code.gson:gson:2.2.2&#39;","body":"Thank you for your answer @Peter but I have already completed these steps. The &quot;gson-2.2.2.jar&quot; file is already included but it doesn&#39;t seem to be getting recognized at compile time. Any ideas?  This is the .jar I have included compile &#39;com.google.code.gson:gson:2.2.2&#39;"},{"owner":{"account_id":6439164,"reputation":23644,"user_id":4989676,"display_name":"Peter Pan"},"score":0,"creation_date":1442551421,"post_id":32622336,"comment_id":53135970,"body_markdown":"@semiColon The IDEA offical help manual can help you resolve it https://www.jetbrains.com/idea/help/configuring-module-dependencies-and-libraries.html#d1552849e216","body":"@semiColon The IDEA offical help manual can help you resolve it <a href=\"https://www.jetbrains.com/idea/help/configuring-module-dependencies-and-libraries.html#d1552849e216\" rel=\"nofollow noreferrer\">jetbrains.com/idea/help/&hellip;</a>"}],"tags":[],"owner":{"account_id":6439164,"reputation":23644,"user_id":4989676,"display_name":"Peter Pan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442462154,"creation_date":1442462154,"answer_id":32622336,"question_id":32619066,"body_markdown":"Per my experience, the exception &quot;NoClassDefFoundError&quot; means your project missing a dependency library jar file. At here, your project miss gson.jar file.\r\n\r\nYou can download a zip file &quot;azuresdk-android-2.0.3.zip&quot; from the section &quot;Mobile&quot; -&gt; &quot;Android install&quot; of the page https://azure.microsoft.com/en-us/downloads/. After decompress the zip file to a directory, you can find the &quot;gson-2.2.2.jar&quot; file and other dependency jar files in the directory &quot;azuresdk-android-2.0.3/mobileservices&quot;.\r\n\r\nThen you can import these jar library files into directory &quot;libs&quot; of your project to resolve the issue. Please refer to the SO thread https://stackoverflow.com/questions/16779959/android-studio-importing-external-library-jar to learn how to import external library/jar.\r\n\r\nBest Regards. ","title":"Connecting Azure to Android Studios","body":"<p>Per my experience, the exception \"NoClassDefFoundError\" means your project missing a dependency library jar file. At here, your project miss gson.jar file.</p>\n\n<p>You can download a zip file \"azuresdk-android-2.0.3.zip\" from the section \"Mobile\" -> \"Android install\" of the page <a href=\"https://azure.microsoft.com/en-us/downloads/\" rel=\"nofollow noreferrer\">https://azure.microsoft.com/en-us/downloads/</a>. After decompress the zip file to a directory, you can find the \"gson-2.2.2.jar\" file and other dependency jar files in the directory \"azuresdk-android-2.0.3/mobileservices\".</p>\n\n<p>Then you can import these jar library files into directory \"libs\" of your project to resolve the issue. Please refer to the SO thread <a href=\"https://stackoverflow.com/questions/16779959/android-studio-importing-external-library-jar\">Android Studio - Importing external Library/Jar</a> to learn how to import external library/jar.</p>\n\n<p>Best Regards. </p>\n"},{"tags":[],"owner":{"account_id":6919785,"reputation":203,"user_id":5312823,"accept_rate":45,"display_name":"semiColon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1442565542,"creation_date":1442565542,"answer_id":32647533,"question_id":32619066,"body_markdown":"I have solved the problem by updating the .jar file. Although the Microsoft documentation told me to get:\r\n\r\n    &#39;gson:2.2.2&#39;\r\n\r\nThis version does not work. Instead I downloaded a newer version:\r\n\r\n    &#39;gson:2.3.1&#39;\r\n\r\nThis .jar file solves the issue","title":"Connecting Azure to Android Studios","body":"<p>I have solved the problem by updating the .jar file. Although the Microsoft documentation told me to get:</p>\n\n<pre><code>'gson:2.2.2'\n</code></pre>\n\n<p>This version does not work. Instead I downloaded a newer version:</p>\n\n<pre><code>'gson:2.3.1'\n</code></pre>\n\n<p>This .jar file solves the issue</p>\n"}],"owner":{"account_id":6919785,"reputation":203,"user_id":5312823,"accept_rate":45,"display_name":"semiColon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2566,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32647533,"answer_count":2,"score":0,"last_activity_date":1689254277,"creation_date":1442438922,"question_id":32619066,"body_markdown":"I am trying to connect Azure to Android Studios. I have followed the tutorial on Azure and created a mobile service. It then gave me some code to add to my app so that they are connected. However, the code is throwing an exception which I cannot figure out. I have searched the internet from head to toe and cannot find an answer. I think it has something to do with the dependencies or the way the library was imported (which was by pasting a jar file into the libs folder and adding a dependency).\r\n\r\nThe code throwing causing the exception (provided by Azure):\r\n\r\n    try {\r\n            mClient = new MobileServiceClient(\r\n                    &quot;https://atm.azure-mobile.net/&quot;,\r\n                    &quot;JWjetFMUVaAXzHmqDVqhkkRhTGGjeW70&quot;,\r\n                    this\r\n            );\r\n            Item item = new Item();\r\n            item.Text = &quot;Awesome item&quot;;\r\n            mClient.getTable(Item.class).insert(item, new TableOperationCallback&lt;Item&gt;() {\r\n                public void onCompleted(Item entity, Exception exception, ServiceFilterResponse response) {\r\n                    if (exception == null) {\r\n                        // Insert succeeded\r\n                        Toast.makeText(context, &quot;WOOHOO&quot;, Toast.LENGTH_LONG).show();\r\n                    } else {\r\n                        // Insert failed\r\n                        Toast.makeText(context, &quot;FAILED&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        catch(MalformedURLException d) {\r\n        }\r\n\r\n\r\nThe exception:\r\n\r\n    java.lang.NoClassDefFoundError: com.google.gson.GsonBuilder\r\n            at com.microsoft.windowsazure.mobileservices.MobileServiceClient.createMobileServiceGsonBuilder(MobileServiceClient.java:192)\r\n            at com.microsoft.windowsazure.mobileservices.MobileServiceClient.&lt;init&gt;(MobileServiceClient.java:179)\r\n            at com.microsoft.windowsazure.mobileservices.MobileServiceClient.&lt;init&gt;(MobileServiceClient.java:158)\r\n            at com.atmlocator.hooper.kenneth.atmlocator.HomeActivity.onCreate(HomeActivity.java:218)\r\n            at android.app.Activity.performCreate(Activity.java:5047)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2051)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2112)\r\n            at android.app.ActivityThread.access$700(ActivityThread.java:139)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1223)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:137)\r\n            at android.app.ActivityThread.main(ActivityThread.java:4917)\r\n            at java.lang.reflect.Method.invokeNative(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:511)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:997)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:764)\r\n            at dalvik.system.NativeStart.main(Native Method)\r\n    \r\n\r\n","title":"Connecting Azure to Android Studios","body":"<p>I am trying to connect Azure to Android Studios. I have followed the tutorial on Azure and created a mobile service. It then gave me some code to add to my app so that they are connected. However, the code is throwing an exception which I cannot figure out. I have searched the internet from head to toe and cannot find an answer. I think it has something to do with the dependencies or the way the library was imported (which was by pasting a jar file into the libs folder and adding a dependency).</p>\n\n<p>The code throwing causing the exception (provided by Azure):</p>\n\n<pre><code>try {\n        mClient = new MobileServiceClient(\n                \"https://atm.azure-mobile.net/\",\n                \"JWjetFMUVaAXzHmqDVqhkkRhTGGjeW70\",\n                this\n        );\n        Item item = new Item();\n        item.Text = \"Awesome item\";\n        mClient.getTable(Item.class).insert(item, new TableOperationCallback&lt;Item&gt;() {\n            public void onCompleted(Item entity, Exception exception, ServiceFilterResponse response) {\n                if (exception == null) {\n                    // Insert succeeded\n                    Toast.makeText(context, \"WOOHOO\", Toast.LENGTH_LONG).show();\n                } else {\n                    // Insert failed\n                    Toast.makeText(context, \"FAILED\", Toast.LENGTH_LONG).show();\n                }\n            }\n        });\n    }\n    catch(MalformedURLException d) {\n    }\n</code></pre>\n\n<p>The exception:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: com.google.gson.GsonBuilder\n        at com.microsoft.windowsazure.mobileservices.MobileServiceClient.createMobileServiceGsonBuilder(MobileServiceClient.java:192)\n        at com.microsoft.windowsazure.mobileservices.MobileServiceClient.&lt;init&gt;(MobileServiceClient.java:179)\n        at com.microsoft.windowsazure.mobileservices.MobileServiceClient.&lt;init&gt;(MobileServiceClient.java:158)\n        at com.atmlocator.hooper.kenneth.atmlocator.HomeActivity.onCreate(HomeActivity.java:218)\n        at android.app.Activity.performCreate(Activity.java:5047)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2051)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2112)\n        at android.app.ActivityThread.access$700(ActivityThread.java:139)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1223)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:137)\n        at android.app.ActivityThread.main(ActivityThread.java:4917)\n        at java.lang.reflect.Method.invokeNative(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:511)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:997)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:764)\n        at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1689237409,"post_id":76677315,"comment_id":135185774,"body_markdown":"You shouldn&#39;t care.  `paintComponent` could be called any number of times for any number of reasons.  It&#39;s up to the `RepaintManager` to make the decision of when and what should be repainted.  You just need to respond to it (via the `paintComponent` method).  It&#39;s unlikely that you component is been painted when it&#39;s constructed, as it won&#39;t have been attached to a native peer (or realised on the screen).  It&#39;s more likely that it&#39;s been repainted because it&#39;s been added to a container and/or the container is been laid out (ie the components bounds have changed)","body":"You shouldn&#39;t care.  <code>paintComponent</code> could be called any number of times for any number of reasons.  It&#39;s up to the <code>RepaintManager</code> to make the decision of when and what should be repainted.  You just need to respond to it (via the <code>paintComponent</code> method).  It&#39;s unlikely that you component is been painted when it&#39;s constructed, as it won&#39;t have been attached to a native peer (or realised on the screen).  It&#39;s more likely that it&#39;s been repainted because it&#39;s been added to a container and/or the container is been laid out (ie the components bounds have changed)"},{"owner":{"account_id":25112514,"reputation":47,"user_id":18961975,"display_name":"Alexandru Lolea"},"score":0,"creation_date":1689329961,"post_id":76677315,"comment_id":135201370,"body_markdown":"I understand that it&#39;s not my job to know when paintComponent is called, I was just wondering how is the apple not on (0,0) and if there is any method inside startGame() that triggers it. Thank you for the response!","body":"I understand that it&#39;s not my job to know when paintComponent is called, I was just wondering how is the apple not on (0,0) and if there is any method inside startGame() that triggers it. Thank you for the response!"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689330141,"post_id":76677315,"comment_id":135201403,"body_markdown":"*&quot;I was just wondering how is the apple not on (0,0)&quot;* - Because `newApple` randomise the position, which is called by `startGame` which is called by (I assume) the constructor - remember there is a disconnect between creating a component and adding it to a container and the time the component gets painted - but I&#39;m making a lot of guesses as you&#39;ve provided an out-of-context code snippet which I&#39;m assuming is all related","body":"<i>&quot;I was just wondering how is the apple not on (0,0)&quot;</i> - Because <code>newApple</code> randomise the position, which is called by <code>startGame</code> which is called by (I assume) the constructor - remember there is a disconnect between creating a component and adding it to a container and the time the component gets painted - but I&#39;m making a lot of guesses as you&#39;ve provided an out-of-context code snippet which I&#39;m assuming is all related"}],"owner":{"account_id":25112514,"reputation":47,"user_id":18961975,"display_name":"Alexandru Lolea"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689254021,"creation_date":1689236408,"question_id":76677315,"body_markdown":"I am currently working on a Snake game, programmed in Java. For some reason, the `paintComponent` method is called twice and I don&#39;t understand why that is the case.\r\n\r\n    GamePanelMultiplayer() {\r\n        random = new Random();\r\n        this.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\r\n        this.setBackground(Color.black);\r\n        this.setFocusable(true);\r\n        this.addKeyListener(new MyKeyAdapter());\r\n        startGame();\r\n    }\r\n\r\n    public void startGame(){\r\n        newApple();\r\n        running = true;\r\n        timer = new Timer(DELAY, this);\r\n        timer.start();\r\n    }\r\n\r\n    // sets the coordinates for the new apple.\r\n    public void newApple(){\r\n        appleX = random.nextInt(SCREEN_WIDTH/UNIT_SIZE)*UNIT_SIZE;\r\n        appleY = random.nextInt(SCREEN_HEIGHT/UNIT_SIZE)*UNIT_SIZE;\r\n    }\r\n\r\n    public void paintComponent(Graphics g){\r\n        super.paintComponent(g);\r\n        g.setColor(Color.darkGray);\r\n        draw(g);\r\n    }\r\n\r\n    public void draw(Graphics g){\r\n        System.out.println(&quot;Draw has been called&quot;);\r\n        if(running) {\r\n            //  drawing the matrix to help visualize the game area\r\n            for(int i=0; i&lt;=SCREEN_HEIGHT/UNIT_SIZE; i++) {\r\n                g.drawLine(i*UNIT_SIZE, 0, i*UNIT_SIZE, SCREEN_HEIGHT);\r\n                g.drawLine(0, i*UNIT_SIZE, SCREEN_WIDTH, i*UNIT_SIZE);\r\n            }\r\n\r\n            //  drawing the apple\r\n            g.setColor(Color.red);\r\n            g.fillOval(appleX, appleY, UNIT_SIZE, UNIT_SIZE);\r\n        }\r\n    }\r\n\r\nI know that the first call to `paintComponent` is triggered by the background change in the constructor function. The second call is made somewhere inside `startGame()`, since after running the program, the apple coordinates are updated, meaning that `paintComponent` is called sometime after `newApple()`.\r\n\r\nThank you for taking some time to help a fellow programmer out ^^!\r\n","title":"&#39;paintComponent()&#39; method is triggered twice","body":"<p>I am currently working on a Snake game, programmed in Java. For some reason, the <code>paintComponent</code> method is called twice and I don't understand why that is the case.</p>\n<pre><code>GamePanelMultiplayer() {\n    random = new Random();\n    this.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\n    this.setBackground(Color.black);\n    this.setFocusable(true);\n    this.addKeyListener(new MyKeyAdapter());\n    startGame();\n}\n\npublic void startGame(){\n    newApple();\n    running = true;\n    timer = new Timer(DELAY, this);\n    timer.start();\n}\n\n// sets the coordinates for the new apple.\npublic void newApple(){\n    appleX = random.nextInt(SCREEN_WIDTH/UNIT_SIZE)*UNIT_SIZE;\n    appleY = random.nextInt(SCREEN_HEIGHT/UNIT_SIZE)*UNIT_SIZE;\n}\n\npublic void paintComponent(Graphics g){\n    super.paintComponent(g);\n    g.setColor(Color.darkGray);\n    draw(g);\n}\n\npublic void draw(Graphics g){\n    System.out.println(&quot;Draw has been called&quot;);\n    if(running) {\n        //  drawing the matrix to help visualize the game area\n        for(int i=0; i&lt;=SCREEN_HEIGHT/UNIT_SIZE; i++) {\n            g.drawLine(i*UNIT_SIZE, 0, i*UNIT_SIZE, SCREEN_HEIGHT);\n            g.drawLine(0, i*UNIT_SIZE, SCREEN_WIDTH, i*UNIT_SIZE);\n        }\n\n        //  drawing the apple\n        g.setColor(Color.red);\n        g.fillOval(appleX, appleY, UNIT_SIZE, UNIT_SIZE);\n    }\n}\n</code></pre>\n<p>I know that the first call to <code>paintComponent</code> is triggered by the background change in the constructor function. The second call is made somewhere inside <code>startGame()</code>, since after running the program, the apple coordinates are updated, meaning that <code>paintComponent</code> is called sometime after <code>newApple()</code>.</p>\n<p>Thank you for taking some time to help a fellow programmer out ^^!</p>\n"},{"tags":["java","rest","spring-mvc","spring-boot","json-schema-validator"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1453132279,"post_id":34858709,"comment_id":57456840,"body_markdown":"AFAIK the only thing that can do a json schema validation is the project: https://github.com/fge/json-schema-validator which is now looking for a new maintainer. Take a look at it.","body":"AFAIK the only thing that can do a json schema validation is the project: <a href=\"https://github.com/fge/json-schema-validator\" rel=\"nofollow noreferrer\">github.com/fge/json-schema-validator</a> which is now looking for a new maintainer. Take a look at it."},{"owner":{"account_id":92159,"reputation":116,"user_id":252690,"display_name":"user252690"},"score":0,"creation_date":1459435462,"post_id":34858709,"comment_id":60295155,"body_markdown":"see also http://bolerio.github.io/mjson/","body":"see also <a href=\"http://bolerio.github.io/mjson/\" rel=\"nofollow noreferrer\">bolerio.github.io/mjson</a>"}],"answers":[{"comments":[{"owner":{"account_id":3604927,"reputation":217,"user_id":3007325,"accept_rate":75,"display_name":"Alec"},"score":0,"creation_date":1453214449,"post_id":34863335,"comment_id":57497070,"body_markdown":"thanks for your answer @luboskrnac I tried https://github.com/fge/json-schema-validator and is looking good,  when testing it I realized that jackson is generating JSON schema v3 and validator is exepcting v4-draft, I&#39;m considering to change Jackson for other library , do you have any suggestion?","body":"thanks for your answer @luboskrnac I tried <a href=\"https://github.com/fge/json-schema-validator\" rel=\"nofollow noreferrer\">github.com/fge/json-schema-validator</a> and is looking good,  when testing it I realized that jackson is generating JSON schema v3 and validator is exepcting v4-draft, I&#39;m considering to change Jackson for other library , do you have any suggestion?"},{"owner":{"account_id":92159,"reputation":116,"user_id":252690,"display_name":"user252690"},"score":2,"creation_date":1459435436,"post_id":34863335,"comment_id":60295129,"body_markdown":"mJson also fully supports schema validation and it&#39;s much simpler to use than the above: http://bolerio.github.io/mjson/","body":"mJson also fully supports schema validation and it&#39;s much simpler to use than the above: <a href=\"http://bolerio.github.io/mjson/\" rel=\"nofollow noreferrer\">bolerio.github.io/mjson</a>"},{"owner":{"account_id":2418361,"reputation":62,"user_id":2111944,"display_name":"sinner"},"score":1,"creation_date":1545122139,"post_id":34863335,"comment_id":94506553,"body_markdown":"Please note that now is only one library is recommended: http://json-schema.org/implementations.html#validators","body":"Please note that now is only one library is recommended: <a href=\"http://json-schema.org/implementations.html#validators\" rel=\"nofollow noreferrer\">json-schema.org/implementations.html#validators</a>"}],"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1646678328,"creation_date":1453148247,"answer_id":34863335,"question_id":34858709,"body_markdown":"If you take a look at [JSON schema site][1], there are only two libraries for validation in Java.\r\n\r\n1. The one that Jorge Campos suggested is mature, but looking for new maintainer: https://github.com/fge/json-schema-validator\r\n2. Second one is relatively new: http://github.com/everit-org/json-schema\r\n\r\nI was recently in situation where I had to choose one or the other and I picked first option. It is being used also by [Rest Assured][2] library under the hood.\r\n\r\n\r\n  [1]: http://json-schema.org/implementations.html\r\n  [2]: https://github.com/jayway/rest-assured","title":"Json schema validation in Spring REST APIs","body":"<p>If you take a look at <a href=\"http://json-schema.org/implementations.html\" rel=\"nofollow noreferrer\">JSON schema site</a>, there are only two libraries for validation in Java.</p>\n<ol>\n<li>The one that Jorge Campos suggested is mature, but looking for new maintainer: <a href=\"https://github.com/fge/json-schema-validator\" rel=\"nofollow noreferrer\">https://github.com/fge/json-schema-validator</a></li>\n<li>Second one is relatively new: <a href=\"http://github.com/everit-org/json-schema\" rel=\"nofollow noreferrer\">http://github.com/everit-org/json-schema</a></li>\n</ol>\n<p>I was recently in situation where I had to choose one or the other and I picked first option. It is being used also by <a href=\"https://github.com/jayway/rest-assured\" rel=\"nofollow noreferrer\">Rest Assured</a> library under the hood.</p>\n"},{"comments":[{"owner":{"account_id":15879722,"reputation":794,"user_id":11457806,"display_name":"Israel dela Cruz"},"score":0,"creation_date":1562636916,"post_id":56944146,"comment_id":100428579,"body_markdown":"Please give some explanation to the content of a link answer.","body":"Please give some explanation to the content of a link answer."},{"owner":{"account_id":5545729,"reputation":39,"user_id":4400538,"display_name":"Ankush Puri"},"score":0,"creation_date":1579644358,"post_id":56944146,"comment_id":105833302,"body_markdown":"@IsraeldelaCruz The idea here is to define json schema in your classpath and then validate the response against this schema using json validator.\n \nsomething like this \nassertThat().body(matchesJsonSchemaInClasspath(&quot;event_0.json&quot;))\n\nYou can go through the example on the link and let me know if you still have any questions.","body":"@IsraeldelaCruz The idea here is to define json schema in your classpath and then validate the response against this schema using json validator.   something like this  assertThat().body(matchesJsonSchemaInClasspath(&quot;event_0.json&zwnj;&#8203;&quot;))  You can go through the example on the link and let me know if you still have any questions."}],"tags":[],"owner":{"account_id":5545729,"reputation":39,"user_id":4400538,"display_name":"Ankush Puri"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562634158,"creation_date":1562634158,"answer_id":56944146,"question_id":34858709,"body_markdown":"You can also look at Rest Assured Json Schema validator\r\n\r\nhttps://www.baeldung.com/rest-assured-json-schema","title":"Json schema validation in Spring REST APIs","body":"<p>You can also look at Rest Assured Json Schema validator</p>\n\n<p><a href=\"https://www.baeldung.com/rest-assured-json-schema\" rel=\"nofollow noreferrer\">https://www.baeldung.com/rest-assured-json-schema</a></p>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689253943,"creation_date":1689253943,"answer_id":76679760,"question_id":34858709,"body_markdown":"As of 2023, the following JSON schema validator library seems to be a good fit:\r\nhttps://github.com/networknt/json-schema-validator\r\n\r\n&gt; This is a Java implementation of the JSON Schema Core Draft v4, v6,\r\n&gt; v7, v2019-09 and v2020-12(partial) specification for JSON schema\r\n&gt; validation. In addition, it also works for OpenAPI 3.0\r\n&gt; request/response validation with some configuration flags.\r\n\r\nAnd there is one more validator library which looks promising but YMMV:\r\nhttps://github.com/openapi-processor/openapi-parser","title":"Json schema validation in Spring REST APIs","body":"<p>As of 2023, the following JSON schema validator library seems to be a good fit:\n<a href=\"https://github.com/networknt/json-schema-validator\" rel=\"nofollow noreferrer\">https://github.com/networknt/json-schema-validator</a></p>\n<blockquote>\n<p>This is a Java implementation of the JSON Schema Core Draft v4, v6,\nv7, v2019-09 and v2020-12(partial) specification for JSON schema\nvalidation. In addition, it also works for OpenAPI 3.0\nrequest/response validation with some configuration flags.</p>\n</blockquote>\n<p>And there is one more validator library which looks promising but YMMV:\n<a href=\"https://github.com/openapi-processor/openapi-parser\" rel=\"nofollow noreferrer\">https://github.com/openapi-processor/openapi-parser</a></p>\n"}],"owner":{"account_id":3604927,"reputation":217,"user_id":3007325,"accept_rate":75,"display_name":"Alec"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35215,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":34863335,"answer_count":3,"score":15,"last_activity_date":1689253943,"creation_date":1453131995,"question_id":34858709,"body_markdown":"I’m building a REST API using Spring Boot and  [jackson-module-jsonSchema] (https://github.com/FasterXML/jackson-module-jsonSchema) for JSON schema generation.\r\nI’m looking the best  way to validate  the request JSON payload arriving to my APIs endpoints (Spring controllers)  against the defined JSON schema defined for the exposed resource, validation includes check required fields , format , min and max values, etc.. everything we can validate against the schema.\r\n\r\nSeems jackson json schema module is useful for schema generation but not for validation, am I right? \r\nAny suggestion on how to achieve what I’m trying to do? \r\n","title":"Json schema validation in Spring REST APIs","body":"<p>I’m building a REST API using Spring Boot and  [jackson-module-jsonSchema] (<a href=\"https://github.com/FasterXML/jackson-module-jsonSchema\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-module-jsonSchema</a>) for JSON schema generation.\nI’m looking the best  way to validate  the request JSON payload arriving to my APIs endpoints (Spring controllers)  against the defined JSON schema defined for the exposed resource, validation includes check required fields , format , min and max values, etc.. everything we can validate against the schema.</p>\n\n<p>Seems jackson json schema module is useful for schema generation but not for validation, am I right? \nAny suggestion on how to achieve what I’m trying to do? </p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1549455402,"post_id":54553196,"comment_id":95906629,"body_markdown":"Why do you put an absolute path on -Dfile, but not on -DpomFile?","body":"Why do you put an absolute path on -Dfile, but not on -DpomFile?"},{"owner":{"account_id":1574741,"reputation":1753,"user_id":1461517,"accept_rate":47,"display_name":"Steerpike"},"score":0,"creation_date":1549459013,"post_id":54553196,"comment_id":95908840,"body_markdown":"thank you - just a typo - now corrected","body":"thank you - just a typo - now corrected"},{"owner":{"account_id":1076737,"reputation":622,"user_id":1074714,"display_name":"nsawaya"},"score":0,"creation_date":1549459563,"post_id":54553196,"comment_id":95909156,"body_markdown":"isn&#39;t a backslash missing after resources?","body":"isn&#39;t a backslash missing after resources?"},{"owner":{"account_id":1574741,"reputation":1753,"user_id":1461517,"accept_rate":47,"display_name":"Steerpike"},"score":0,"creation_date":1549459630,"post_id":54553196,"comment_id":95909204,"body_markdown":"added - thank you - again, a typo but the issue persists","body":"added - thank you - again, a typo but the issue persists"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1549459795,"post_id":54553196,"comment_id":95909294,"body_markdown":"Are you sure the pom file has an `.xml` extension?","body":"Are you sure the pom file has an <code>.xml</code> extension?"},{"owner":{"account_id":1574741,"reputation":1753,"user_id":1461517,"accept_rate":47,"display_name":"Steerpike"},"score":0,"creation_date":1549461132,"post_id":54553196,"comment_id":95910100,"body_markdown":"@Henry good spot! but sadly, still no joy","body":"@Henry good spot! but sadly, still no joy"}],"answers":[{"tags":[],"owner":{"account_id":11424364,"reputation":539,"user_id":8374909,"display_name":"Clover"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549456049,"creation_date":1549456049,"answer_id":54553657,"question_id":54553196,"body_markdown":"Try removing double quotes and as @Meier said, add absolute path\r\n\r\nSample:\r\n\r\n    mvn install:install-file -Dfile=C:/webApp/web-core-app/resources/web-core-3.1.17-SNAPSHOT.jar -DpomFile=path/to/your/xml/web-core-3.1.17-SNAPSHOT.pom.xml","title":"Manually install a jar in my local Maven repo","body":"<p>Try removing double quotes and as @Meier said, add absolute path</p>\n\n<p>Sample:</p>\n\n<pre><code>mvn install:install-file -Dfile=C:/webApp/web-core-app/resources/web-core-3.1.17-SNAPSHOT.jar -DpomFile=path/to/your/xml/web-core-3.1.17-SNAPSHOT.pom.xml\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1574741,"reputation":1753,"user_id":1461517,"accept_rate":47,"display_name":"Steerpike"},"score":0,"creation_date":1549461482,"post_id":54554761,"comment_id":95910298,"body_markdown":"legend! thank you. This worked - but the question now is...why?","body":"legend! thank you. This worked - but the question now is...why?"},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1549461604,"post_id":54554761,"comment_id":95910385,"body_markdown":"I suspect the problem was typeos in the paths.  I&#39;m not sure though.","body":"I suspect the problem was typeos in the paths.  I&#39;m not sure though."},{"owner":{"account_id":1574741,"reputation":1753,"user_id":1461517,"accept_rate":47,"display_name":"Steerpike"},"score":0,"creation_date":1549536380,"post_id":54554761,"comment_id":95940769,"body_markdown":"thanks.  I&#39;m something of a beginner.  Now I have the dependency brought into my local .m2 repo, it still shows decompiled .jar files when I unpack it.  i.e. it has .class extensions instead of .java.  What would be the best way of rectifying this?","body":"thanks.  I&#39;m something of a beginner.  Now I have the dependency brought into my local .m2 repo, it still shows decompiled .jar files when I unpack it.  i.e. it has .class extensions instead of .java.  What would be the best way of rectifying this?"},{"owner":{"account_id":1574741,"reputation":1753,"user_id":1461517,"accept_rate":47,"display_name":"Steerpike"},"score":0,"creation_date":1549537207,"post_id":54554761,"comment_id":95941258,"body_markdown":"I will ask the above as a separate question as my goal here has been achieved","body":"I will ask the above as a separate question as my goal here has been achieved"}],"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1689253794,"creation_date":1549459622,"answer_id":54554761,"question_id":54553196,"body_markdown":"It seems likely that you are not able to consistently enter the long path to the files in question,\r\nsince you appear to have done it wrong twice already in the text of your question.\r\n\r\nTry this:\r\n\r\n  1. make a temporary directory somewhere on your local disk.  Lets call it c:\\tmp\r\n  1. Copy the jar file and the pom file to the c:\\tmp directory.\r\n  1. Run the command to load it into Maven from the c:\\tmp directory.\r\n\r\nHere are some example commands (long commands wrapped to make reading easier):\r\n\r\n    c:\r\n    cd \\tmp\r\n    mvn install:install-file -Dfile=web-core-3.1.17-SNAPSHOT.jar\r\n    -DpomFile=web-core-3.1.17-SNAPSHOT.pom.xml\r\n\r\nHere is a [Link To Some Helpful Maven Info][1]\r\n\r\nHere is a nutty suggestion:\r\nIf the web-core*.jar file was built by you using maven,\r\nthen in the web-core*.jar project directory,\r\nrun the following command to have Maven install it in the local repo:\r\n\r\n    mvn install\r\n\r\n[1]:https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html","title":"Manually install a jar in my local Maven repo","body":"<p>It seems likely that you are not able to consistently enter the long path to the files in question,\nsince you appear to have done it wrong twice already in the text of your question.</p>\n<p>Try this:</p>\n<ol>\n<li>make a temporary directory somewhere on your local disk.  Lets call it c:\\tmp</li>\n<li>Copy the jar file and the pom file to the c:\\tmp directory.</li>\n<li>Run the command to load it into Maven from the c:\\tmp directory.</li>\n</ol>\n<p>Here are some example commands (long commands wrapped to make reading easier):</p>\n<pre><code>c:\ncd \\tmp\nmvn install:install-file -Dfile=web-core-3.1.17-SNAPSHOT.jar\n-DpomFile=web-core-3.1.17-SNAPSHOT.pom.xml\n</code></pre>\n<p>Here is a <a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">Link To Some Helpful Maven Info</a></p>\n<p>Here is a nutty suggestion:\nIf the web-core*.jar file was built by you using maven,\nthen in the web-core*.jar project directory,\nrun the following command to have Maven install it in the local repo:</p>\n<pre><code>mvn install\n</code></pre>\n"}],"owner":{"account_id":1574741,"reputation":1753,"user_id":1461517,"accept_rate":47,"display_name":"Steerpike"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54554761,"answer_count":2,"score":1,"last_activity_date":1689253794,"creation_date":1549454485,"question_id":54553196,"body_markdown":"I have a project which has a dependency on a locally stored .jar file.\r\nThis .jar file contains core dependencies for the module I need to work on.\r\nThe jar has it&#39;s own pom file. \r\n\r\nI&#39;m using Windows and IntelliJ. \r\n\r\nI&#39;m trying to import the jar into my local .m2 repo as follows:\r\n\r\n    mvn install:install-file\r\n    &quot;-Dfile=C:/webApp/web-core-app/resources/web-core-3.1.17-SNAPSHOT.jar&quot;\r\n    &quot;-DpomFile=C:/webApp/web-core-app/resources/web-core-3.1.17-SNAPSHOT.pom&quot;\r\n\r\nI keep getting the following error:\r\n\r\n&gt; &quot;The system cannot find the file specified&quot;\r\n\r\nThis is probably an obvious one but I&#39;ve tried all sorts of options.\r\nCan anyone give me a nudge?","title":"Manually install a jar in my local Maven repo","body":"<p>I have a project which has a dependency on a locally stored .jar file.\nThis .jar file contains core dependencies for the module I need to work on.\nThe jar has it's own pom file. </p>\n\n<p>I'm using Windows and IntelliJ. </p>\n\n<p>I'm trying to import the jar into my local .m2 repo as follows:</p>\n\n<pre><code>mvn install:install-file\n\"-Dfile=C:/webApp/web-core-app/resources/web-core-3.1.17-SNAPSHOT.jar\"\n\"-DpomFile=C:/webApp/web-core-app/resources/web-core-3.1.17-SNAPSHOT.pom\"\n</code></pre>\n\n<p>I keep getting the following error:</p>\n\n<blockquote>\n  <p>\"The system cannot find the file specified\"</p>\n</blockquote>\n\n<p>This is probably an obvious one but I've tried all sorts of options.\nCan anyone give me a nudge?</p>\n"},{"tags":["java","selenium-webdriver","xpath","css-selectors","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689197889,"creation_date":1689197356,"answer_id":76674567,"question_id":76674539,"body_markdown":"To click on the element &lt;kbd&gt;Accept All Cookies&lt;/kbd&gt; you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  driver.get(&quot;https://www.sugarcrm.com/au/request-demo/&quot;);\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button#CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAll&quot;))).click();\r\n           \t\r\n- Using _xpath_:\r\n\r\n\t  driver.get(&quot;https://www.sugarcrm.com/au/request-demo/&quot;);\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@id=&#39;CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAll&#39;]&quot;))).click();\r\n\r\n- Browser snapshot:\r\n\r\n![sugarcrm.com](https://i.stack.imgur.com/0xF78.png)","title":"Popup consent obstructing my selenium script from completing the test","body":"<p>To click on the element <kbd>Accept All Cookies</kbd> you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>driver.get(&quot;https://www.sugarcrm.com/au/request-demo/&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button#CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAll&quot;))).click();\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>driver.get(&quot;https://www.sugarcrm.com/au/request-demo/&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@id='CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAll']&quot;))).click();\n</code></pre>\n</li>\n<li><p>Browser snapshot:</p>\n</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/0xF78.png\" alt=\"sugarcrm.com\" /></p>\n"}],"owner":{"account_id":20871669,"reputation":57,"user_id":15331462,"display_name":"taerese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76674567,"answer_count":1,"score":3,"last_activity_date":1689253789,"creation_date":1689197006,"question_id":76674539,"body_markdown":"I am a newbie to selenium automation and I am trying to run this test script. Unfortunately, a cookie consent kept popping up which I believe is obstructing my script from completing. How do I perse the condition to accept the cookie in my script.\r\n\r\n```\r\nFirefoxDriverManager.getInstance().setup();\r\nFirefoxDriver driver = new FirefoxDriver();\r\ndriver.get(&quot;https://www.sugarcrm.com/au/request-demo/&quot;);\r\ndriver.manage().window().maximize();\r\nWebElement ddown = driver.findElement(By.name(&quot;firstname&quot;));\r\nSelect select = new Select(ddown); \r\nselect.selectByValue(&quot;level1&quot;);\r\nselect.selectByVisibleText(&quot;101 - 250 employees&quot;);\r\nselect.selectByIndex(5);\r\n```\r\nI do not know how to instruct the script to accept or deny the cookie consent.","title":"Popup consent obstructing my selenium script from completing the test","body":"<p>I am a newbie to selenium automation and I am trying to run this test script. Unfortunately, a cookie consent kept popping up which I believe is obstructing my script from completing. How do I perse the condition to accept the cookie in my script.</p>\n<pre><code>FirefoxDriverManager.getInstance().setup();\nFirefoxDriver driver = new FirefoxDriver();\ndriver.get(&quot;https://www.sugarcrm.com/au/request-demo/&quot;);\ndriver.manage().window().maximize();\nWebElement ddown = driver.findElement(By.name(&quot;firstname&quot;));\nSelect select = new Select(ddown); \nselect.selectByValue(&quot;level1&quot;);\nselect.selectByVisibleText(&quot;101 - 250 employees&quot;);\nselect.selectByIndex(5);\n</code></pre>\n<p>I do not know how to instruct the script to accept or deny the cookie consent.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":0,"creation_date":1689318941,"post_id":76679726,"comment_id":135199288,"body_markdown":"In your case the type is always mandatory in the Json, otherwise a serialize - deserialize will not work even with the concrete sub classes. If you want to avoid the type prop, you could assign it to the interface or abstract class. Otherwise you could use a custom Deserializer. If you need help on that, let me know","body":"In your case the type is always mandatory in the Json, otherwise a serialize - deserialize will not work even with the concrete sub classes. If you want to avoid the type prop, you could assign it to the interface or abstract class. Otherwise you could use a custom Deserializer. If you need help on that, let me know"}],"owner":{"account_id":27980139,"reputation":23,"user_id":21368032,"display_name":"Ymrik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689253656,"creation_date":1689253656,"question_id":76679726,"body_markdown":"I ran into a problem with JSON Inheritance. I have an interface and several implementations. I wanted to implement a mechanism in which Jackson would determine which class to deserialize JSON to, based on the field that I pass in this JSON file. For these purposes, I used @JsonTypeInfo and @JsonSubTypes. \r\n\r\nHowever, having implemented this mechanism, I found that now when trying to deserialize any child class, the ObjectMapper requires specifying the field &quot;type&quot; in JSON file, even when a child class is specified.\r\n\r\nIt turns out that using Json inheritance breaks the usual mechanism of deserialization of JSON files, because now I can&#39;t deserialize proper JSON in the usual way. And I wouldn&#39;t want that at all.\r\n\r\nI would like the field &quot;type&quot; to be required only when I try to deserialize to the interface.\r\n\r\nMaybe you know any additional configuration that can help me solve this problem? \r\n\r\nHope this example will be useful.\r\n\r\n```\r\n@JsonTypeInfo( use = JsonTypeInfo.Id.NAME,  include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\r\n@JsonSubTypes({@JsonSubTypes.Type(value = Dog.class, name = &quot;dog&quot;), @JsonSubTypes.Type(value = Cat.class, name = &quot;cat&quot;)})\r\npublic abstract class Animal {\r\n    private String sound;\r\n\r\n    public String getSound() {\r\n        return sound;\r\n    }\r\n\r\n    public void setSound(String sound) {\r\n        this.sound = sound;\r\n    }\r\n}\r\n\r\npublic class Dog extends Animal {\r\n}\r\n\r\npublic class Cat extends Animal {\r\n}\r\n\r\npublic static void main(String[] args) throws IOException {\r\n        Animal animal = new ObjectMapper().readValue(&quot;{ \\&quot;type\\&quot;: \\&quot;cat\\&quot;, \\&quot;sound\\&quot;: \\&quot;mew\\&quot; }&quot;, Animal.class); // everything ok\r\n        System.out.println(animal.getSound());\r\n\r\n        Cat cat = new ObjectMapper().readValue(&quot;{ \\&quot;sound\\&quot;: \\&quot;mew\\&quot; }&quot;, Cat.class); // exception\r\n        System.out.println(cat.getSound()); \r\n    }\r\n}\r\n```\r\n\r\n\r\nI found that you can set objectMapper.configure(USE_BASE_TYPE_AS_DEFAULT_SIMPLE, true). With this setting, ObjectMapper tries to use a standard deserializer if the type field is not specified. But I would like to know if there is a solution that does not require additional configuration of ObjectMapper?","title":"Perform standard deserialization when a child class is specified. JSON Inheritance","body":"<p>I ran into a problem with JSON Inheritance. I have an interface and several implementations. I wanted to implement a mechanism in which Jackson would determine which class to deserialize JSON to, based on the field that I pass in this JSON file. For these purposes, I used @JsonTypeInfo and @JsonSubTypes.</p>\n<p>However, having implemented this mechanism, I found that now when trying to deserialize any child class, the ObjectMapper requires specifying the field &quot;type&quot; in JSON file, even when a child class is specified.</p>\n<p>It turns out that using Json inheritance breaks the usual mechanism of deserialization of JSON files, because now I can't deserialize proper JSON in the usual way. And I wouldn't want that at all.</p>\n<p>I would like the field &quot;type&quot; to be required only when I try to deserialize to the interface.</p>\n<p>Maybe you know any additional configuration that can help me solve this problem?</p>\n<p>Hope this example will be useful.</p>\n<pre><code>@JsonTypeInfo( use = JsonTypeInfo.Id.NAME,  include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\n@JsonSubTypes({@JsonSubTypes.Type(value = Dog.class, name = &quot;dog&quot;), @JsonSubTypes.Type(value = Cat.class, name = &quot;cat&quot;)})\npublic abstract class Animal {\n    private String sound;\n\n    public String getSound() {\n        return sound;\n    }\n\n    public void setSound(String sound) {\n        this.sound = sound;\n    }\n}\n\npublic class Dog extends Animal {\n}\n\npublic class Cat extends Animal {\n}\n\npublic static void main(String[] args) throws IOException {\n        Animal animal = new ObjectMapper().readValue(&quot;{ \\&quot;type\\&quot;: \\&quot;cat\\&quot;, \\&quot;sound\\&quot;: \\&quot;mew\\&quot; }&quot;, Animal.class); // everything ok\n        System.out.println(animal.getSound());\n\n        Cat cat = new ObjectMapper().readValue(&quot;{ \\&quot;sound\\&quot;: \\&quot;mew\\&quot; }&quot;, Cat.class); // exception\n        System.out.println(cat.getSound()); \n    }\n}\n</code></pre>\n<p>I found that you can set objectMapper.configure(USE_BASE_TYPE_AS_DEFAULT_SIMPLE, true). With this setting, ObjectMapper tries to use a standard deserializer if the type field is not specified. But I would like to know if there is a solution that does not require additional configuration of ObjectMapper?</p>\n"},{"tags":["java","sharepoint","sharepoint-online","sharepoint-rest-api"],"comments":[{"owner":{"account_id":12183213,"reputation":599,"user_id":8894067,"display_name":"jimas13"},"score":0,"creation_date":1673034730,"post_id":75031632,"comment_id":132414649,"body_markdown":"How much far down the tree of subsites from the root site of a SharePoint site collection are you trying to create a subsite? How many leaf levels are there ?","body":"How much far down the tree of subsites from the root site of a SharePoint site collection are you trying to create a subsite? How many leaf levels are there ?"},{"owner":{"account_id":23196169,"reputation":13,"user_id":17291771,"display_name":"Feri"},"score":0,"creation_date":1673173526,"post_id":75031632,"comment_id":132434836,"body_markdown":"All sub-sitee are on the top. There are 13000 sub-site now, and we need about 50000 sub-sites.\nhttps://x.sharepoint.com/sites/ROOT/SS-000001,\nhttps://x.sharepoint.com/sites/ROOT/SS-000002,\n...\nhttps://x.sharepoint.com/sites/ROOT/SS-013000, etc","body":"All sub-sitee are on the top. There are 13000 sub-site now, and we need about 50000 sub-sites. <a href=\"https://x.sharepoint.com/sites/ROOT/SS-000001\" rel=\"nofollow noreferrer\">x.sharepoint.com/sites/ROOT/SS-000001</a>, <a href=\"https://x.sharepoint.com/sites/ROOT/SS-000002\" rel=\"nofollow noreferrer\">x.sharepoint.com/sites/ROOT/SS-000002</a>, ... <a href=\"https://x.sharepoint.com/sites/ROOT/SS-013000\" rel=\"nofollow noreferrer\">x.sharepoint.com/sites/ROOT/SS-013000</a>, etc"}],"answers":[{"tags":[],"owner":{"account_id":12183213,"reputation":599,"user_id":8894067,"display_name":"jimas13"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673184759,"creation_date":1673184759,"answer_id":75048147,"question_id":75031632,"body_markdown":"Well, according to the general guidelines that Microsoft has released in terms of SharePoint Architecture, [it is stated pretty clearly in the Service Limits that the Sub-Sites of a Site Collection should not exceed 2000 in amount, and that metric is per Site Collection][1].\r\n\r\nNow given the fact that you have created 13.000 Sub-Sites and wish to have, around 50.000 under one Site Collection at the end, as you mentioned in the comments, your problems of long-waiting REST calls are explained by the reasoning that you might have stretched the Content Database to a point where writing any new lines to it might take a really long time.\r\n\r\nSince the problem is located at the SharePoint level and, in addition, since you do not have access to view the logs, the only next step that you can take is open a ticket from your tenant and have the support take a look at your issues. \r\n\r\nAlthough, there is a good possibility that their reply will be the same, that you have exceed the suggested amount of subsites and should thin it a bit by either splitting the Sub-Sites among different Site Collections or using a different architecture.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/office365/servicedescriptions/sharepoint-online-service-description/sharepoint-online-limits#subsites","title":"Sub-Site creation delays via REST API method","body":"<p>Well, according to the general guidelines that Microsoft has released in terms of SharePoint Architecture, <a href=\"https://learn.microsoft.com/en-us/office365/servicedescriptions/sharepoint-online-service-description/sharepoint-online-limits#subsites\" rel=\"nofollow noreferrer\">it is stated pretty clearly in the Service Limits that the Sub-Sites of a Site Collection should not exceed 2000 in amount, and that metric is per Site Collection</a>.</p>\n<p>Now given the fact that you have created 13.000 Sub-Sites and wish to have, around 50.000 under one Site Collection at the end, as you mentioned in the comments, your problems of long-waiting REST calls are explained by the reasoning that you might have stretched the Content Database to a point where writing any new lines to it might take a really long time.</p>\n<p>Since the problem is located at the SharePoint level and, in addition, since you do not have access to view the logs, the only next step that you can take is open a ticket from your tenant and have the support take a look at your issues.</p>\n<p>Although, there is a good possibility that their reply will be the same, that you have exceed the suggested amount of subsites and should thin it a bit by either splitting the Sub-Sites among different Site Collections or using a different architecture.</p>\n"}],"owner":{"account_id":23196169,"reputation":13,"user_id":17291771,"display_name":"Feri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75048147,"answer_count":1,"score":1,"last_activity_date":1689253290,"creation_date":1673012115,"question_id":75031632,"body_markdown":"I need to create SharePoint Sub-Sites under a Site Collection from a Java application. \r\n\r\nThe first set of Sub-Sites were created in a few seconds per Sub-Site(parent Site). As more and more subpages are being created, the process gets slower and slower. \r\n\r\nNow a sub-site is created in 150 seconds and I cannot figure out why.\r\n\r\n    String json = \r\n    {\r\n      &quot;parameters&quot;: {\r\n        &quot;__metadata&quot;:{\r\n          &quot;type&quot;:&quot;SP.WebInfoCreationInformation&quot;\r\n        }, \r\n        &quot;Title&quot;:&quot;TITLE&quot;,\r\n    \t&quot;Url&quot;:&quot;URL&quot;,\r\n    \t&quot;Description&quot;:&quot;DESCRIPTION&quot;, \r\n    \t&quot;WebTemplate&quot;:&quot;STS&quot;,\r\n    \t&quot;Language&quot;:&quot;1038&quot;,\r\n    \t&quot;UseUniquePermissions&quot;:&quot;false&quot;\r\n        }\r\n    }\r\n    HttpPost post = new HttpPost(&quot;http://x.sharepoint.com/sites/x/_api/web/webinfos/add&quot;);\r\n    post.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n    post.setHeader(&quot;Accept&quot;, &quot;application/json;odata=verbose&quot;);\r\n    post.setHeader(&quot;Content-Type&quot;, &quot;application/json;odata=verbose&quot;);\r\n    post.setEntity(new StringEntity(json, &quot;UTF-8&quot;));\r\n    httpclient.execute(post);\r\n\r\nThe last row is processed for a duration of 150 seconds. \r\n\r\nThanks in advance if anyone can help me with what is causing the slowdown.\r\n\r\n","title":"Sub-Site creation delays via REST API method","body":"<p>I need to create SharePoint Sub-Sites under a Site Collection from a Java application.</p>\n<p>The first set of Sub-Sites were created in a few seconds per Sub-Site(parent Site). As more and more subpages are being created, the process gets slower and slower.</p>\n<p>Now a sub-site is created in 150 seconds and I cannot figure out why.</p>\n<pre><code>String json = \n{\n  &quot;parameters&quot;: {\n    &quot;__metadata&quot;:{\n      &quot;type&quot;:&quot;SP.WebInfoCreationInformation&quot;\n    }, \n    &quot;Title&quot;:&quot;TITLE&quot;,\n    &quot;Url&quot;:&quot;URL&quot;,\n    &quot;Description&quot;:&quot;DESCRIPTION&quot;, \n    &quot;WebTemplate&quot;:&quot;STS&quot;,\n    &quot;Language&quot;:&quot;1038&quot;,\n    &quot;UseUniquePermissions&quot;:&quot;false&quot;\n    }\n}\nHttpPost post = new HttpPost(&quot;http://x.sharepoint.com/sites/x/_api/web/webinfos/add&quot;);\npost.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\npost.setHeader(&quot;Accept&quot;, &quot;application/json;odata=verbose&quot;);\npost.setHeader(&quot;Content-Type&quot;, &quot;application/json;odata=verbose&quot;);\npost.setEntity(new StringEntity(json, &quot;UTF-8&quot;));\nhttpclient.execute(post);\n</code></pre>\n<p>The last row is processed for a duration of 150 seconds.</p>\n<p>Thanks in advance if anyone can help me with what is causing the slowdown.</p>\n"},{"tags":["java","mysql","spring-boot","jpa","liquibase"],"answers":[{"comments":[{"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1548725708,"post_id":54411756,"comment_id":95636024,"body_markdown":"Thanks @Zgurskyi but a few things. For one, application.yml does not *have* to be in src/main/resources. I have externalized it successfully many times in the past, which is important for many reasons. It just requires you to pass Spring `-Dspring.config=.` at startup and it will find the externalized YAML file without any problems. Second, neither of these problems you mention explain why Liquibase isn&#39;t executing. Liquibase should have executed by the time JPA validation kicks in, and its not. Since the exception is coming from failed validation, it means something is blocking Liquibase.","body":"Thanks @Zgurskyi but a few things. For one, application.yml does not <i>have</i> to be in src/main/resources. I have externalized it successfully many times in the past, which is important for many reasons. It just requires you to pass Spring <code>-Dspring.config=.</code> at startup and it will find the externalized YAML file without any problems. Second, neither of these problems you mention explain why Liquibase isn&#39;t executing. Liquibase should have executed by the time JPA validation kicks in, and its not. Since the exception is coming from failed validation, it means something is blocking Liquibase."},{"owner":{"account_id":3345492,"reputation":4077,"user_id":2810730,"display_name":"Oleksii Zghurskyi"},"score":1,"creation_date":1548763179,"post_id":54411756,"comment_id":95650780,"body_markdown":"Hi! You are right about application.yml. The reason Liquibase is not executing: in DisableSpringBootDatasourceAutoConfig there is exclude for DataSourceAutoConfiguration, that has enables datasource properties (through @EnableConfigurationProperties(DataSourceProperties.class)). \nBecause of this datasource is not properly configured and Liquibase is not starting. (More precisely LiquibaseAutoConfiguration has condition on datasource bean, but it&#39;s not created).\nBut after enabling DataSourceAutoConfiguration, I encountered inconsistency in migration script. But that&#39;s another problem :)","body":"Hi! You are right about application.yml. The reason Liquibase is not executing: in DisableSpringBootDatasourceAutoConfig there is exclude for DataSourceAutoConfiguration, that has enables datasource properties (through @EnableConfigurationProperties(DataSourceProperties.class)).  Because of this datasource is not properly configured and Liquibase is not starting. (More precisely LiquibaseAutoConfiguration has condition on datasource bean, but it&#39;s not created). But after enabling DataSourceAutoConfiguration, I encountered inconsistency in migration script. But that&#39;s another problem :)"},{"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1548787629,"post_id":54411756,"comment_id":95665526,"body_markdown":"Thanks again @Zgurskyi (+1) however even when I comment out `DataSourceAutoConfiguration.class` from inside the `exclude` parameter of my `DisableSpringBootDatasourceAutoConfig` the same exact error persists. Would you mind pushing your code and creating a PR so I can see what changes you were able to make to get around my issue? Or at the very least post your changes in a code snippet up above? Thanks again!","body":"Thanks again @Zgurskyi (+1) however even when I comment out <code>DataSourceAutoConfiguration.class</code> from inside the <code>exclude</code> parameter of my <code>DisableSpringBootDatasourceAutoConfig</code> the same exact error persists. Would you mind pushing your code and creating a PR so I can see what changes you were able to make to get around my issue? Or at the very least post your changes in a code snippet up above? Thanks again!"},{"owner":{"account_id":3345492,"reputation":4077,"user_id":2810730,"display_name":"Oleksii Zghurskyi"},"score":0,"creation_date":1548799058,"post_id":54411756,"comment_id":95670487,"body_markdown":"I published solution to the repo https://github.com/zghurskyi/spring-boot-troubleshooting.\nAlso, added exaplanation and final workaround in\nhttps://github.com/zghurskyi/spring-boot-troubleshooting#explanation","body":"I published solution to the repo <a href=\"https://github.com/zghurskyi/spring-boot-troubleshooting\" rel=\"nofollow noreferrer\">github.com/zghurskyi/spring-boot-troubleshooting</a>. Also, added exaplanation and final workaround in <a href=\"https://github.com/zghurskyi/spring-boot-troubleshooting#explanation\" rel=\"nofollow noreferrer\">github.com/zghurskyi/spring-boot-troubleshooting#explanation</a>"}],"tags":[],"owner":{"account_id":3345492,"reputation":4077,"user_id":2810730,"display_name":"Oleksii Zghurskyi"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1548717961,"creation_date":1548717961,"answer_id":54411756,"question_id":54407376,"body_markdown":"There are 2 different problems [in the repo][1]:\r\n\r\n 1. Wrong location of application.yml. Move it from root to\r\n    src/main/resources \r\n 2. Nested property in TroubleshootingConfig.Machine\r\n    has null value, because of this bean &quot;authInfo&quot; is not created and context initialization fails. Here is the reference on how [Spring Boot Configuration Binding][2] works.\r\n\r\n\r\n  [1]: https://github.com/bitbythecron/spring-boot-troubleshooting\r\n  [2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Configuration-Binding","title":"Liquibase not executing for Spring Boot/MySQL app","body":"<p>There are 2 different problems <a href=\"https://github.com/bitbythecron/spring-boot-troubleshooting\" rel=\"nofollow noreferrer\">in the repo</a>:</p>\n\n<ol>\n<li>Wrong location of application.yml. Move it from root to\nsrc/main/resources </li>\n<li>Nested property in TroubleshootingConfig.Machine\nhas null value, because of this bean \"authInfo\" is not created and context initialization fails. Here is the reference on how <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Configuration-Binding\" rel=\"nofollow noreferrer\">Spring Boot Configuration Binding</a> works.</li>\n</ol>\n"}],"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54411756,"answer_count":1,"score":1,"last_activity_date":1689252885,"creation_date":1548696831,"question_id":54407376,"body_markdown":"Spring Boot 1.5.8 and Java 8 here. I&#39;ve followed all the Spring Boot &amp; Liquibase guides and I can&#39;t seem to get Liquibase to work.\r\n\r\nHere is a link to a [GitHub repo](https://github.com/bitbythecron/spring-boot-troubleshooting/tree/feature/liquibase-issue) for reproducing the issue exactly, but here&#39;s the scoop:\r\n\r\nI have the following MySQL v8 database that gets created like so ahead of time (before the app runs):\r\n\r\n    CREATE DATABASE IF NOT EXISTS troubleshooting_db CHARACTER SET utf8 COLLATE utf8_general_ci;\r\n\r\nI have the following `src/main/resources/db/changelog` files:\r\n\r\n    db.changelog-master.yaml:\r\n    ===\r\n    databaseChangeLog:\r\n    - include:\r\n      file: db/changelog/1-setup.sql\r\n\r\n    1-setup.sql:\r\n    ===\r\n    --liquibase formatted sql\r\n\r\n    --changeset troubleshooting:1 dbms:mysql\r\n    -- LOOKUPS\r\n    CREATE TABLE IF NOT EXISTS metric_range_categories (\r\n        metric_range_category_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,\r\n        metric_range_category_ref_id VARCHAR(36) NOT NULL,\r\n        metric_range_category_name VARCHAR(250) NOT NULL,\r\n        metric_range_category_label VARCHAR(250) NOT NULL,\r\n        metric_range_category_description VARCHAR(500) NOT NULL,\r\n\r\n        CONSTRAINT pk_metric_range_categories PRIMARY KEY (metric_range_category_id),\r\n\r\n        INDEX idx_metric_range_categories_metric_range_category_ref_id (metric_range_category_ref_id),\r\n        INDEX idx_metric_range_categories_metric_range_category_label (metric_range_category_label),\r\n\r\n        CONSTRAINT uc_metric_range_categories_metric_range_category_ref_id UNIQUE (metric_range_category_ref_id),\r\n        CONSTRAINT uc_metric_range_categories_metric_range_category_name UNIQUE (metric_range_category_name),\r\n        CONSTRAINT uc_metric_range_categories_metric_range_category_label UNIQUE (metric_range_category_label)\r\n    );\r\n\r\n    -- Lots of other CREATE TABLE statements down here...\r\n\r\nAnd the following JPA-annotated entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;metric_range_categories&quot;)\r\n    @AttributeOverrides({\r\n            @AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;metric_range_category_id&quot;)),\r\n            @AttributeOverride(name = &quot;refId&quot;, column = @Column(name = &quot;metric_range_category_ref_id&quot;)),\r\n            @AttributeOverride(name = &quot;name&quot;, column = @Column(name = &quot;metric_range_category_name&quot;)),\r\n            @AttributeOverride(name = &quot;label&quot;, column = @Column(name = &quot;metric_range_category_label&quot;)),\r\n            @AttributeOverride(name = &quot;description&quot;, column = @Column(name = &quot;metric_range_category_description&quot;))\r\n    })\r\n    public class MetricRangeCategory extends BaseLookup {\r\n        public MetricRangeCategory() {\r\n        }\r\n\r\n        public MetricRangeCategory(Long id, String refId, String name, String label, String description) {\r\n            super(id, refId, name, label, description);\r\n        }\r\n    }\r\n\r\nAt runtime I get the following exception:\r\n\r\n    Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [metric_range_categories]\r\n    \tat org.hibernate.tool.schema.internal.SchemaValidatorImpl.validateTable(SchemaValidatorImpl.java:67)\r\n    \tat org.hibernate.tool.schema.internal.SchemaValidatorImpl.doValidation(SchemaValidatorImpl.java:50)\r\n    \tat org.hibernate.tool.hbm2ddl.SchemaValidator.validate(SchemaValidator.java:91)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:475)\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:879)\r\n    \t... 29 common frames omitted\r\n\r\n\r\nSo when it starts up, Liquibase **does not excute/engage** and so Hibernate JPA validation fails because its looking for a table that doesn&#39;t exist (because Liquibase never kicked in and did its job!). Any ideas as to where I&#39;m going awry? Why isn&#39;t Liquibase kicking in?","title":"Liquibase not executing for Spring Boot/MySQL app","body":"<p>Spring Boot 1.5.8 and Java 8 here. I've followed all the Spring Boot &amp; Liquibase guides and I can't seem to get Liquibase to work.</p>\n\n<p>Here is a link to a <a href=\"https://github.com/bitbythecron/spring-boot-troubleshooting/tree/feature/liquibase-issue\" rel=\"nofollow noreferrer\">GitHub repo</a> for reproducing the issue exactly, but here's the scoop:</p>\n\n<p>I have the following MySQL v8 database that gets created like so ahead of time (before the app runs):</p>\n\n<pre><code>CREATE DATABASE IF NOT EXISTS troubleshooting_db CHARACTER SET utf8 COLLATE utf8_general_ci;\n</code></pre>\n\n<p>I have the following <code>src/main/resources/db/changelog</code> files:</p>\n\n<pre><code>db.changelog-master.yaml:\n===\ndatabaseChangeLog:\n- include:\n  file: db/changelog/1-setup.sql\n\n1-setup.sql:\n===\n--liquibase formatted sql\n\n--changeset troubleshooting:1 dbms:mysql\n-- LOOKUPS\nCREATE TABLE IF NOT EXISTS metric_range_categories (\n    metric_range_category_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,\n    metric_range_category_ref_id VARCHAR(36) NOT NULL,\n    metric_range_category_name VARCHAR(250) NOT NULL,\n    metric_range_category_label VARCHAR(250) NOT NULL,\n    metric_range_category_description VARCHAR(500) NOT NULL,\n\n    CONSTRAINT pk_metric_range_categories PRIMARY KEY (metric_range_category_id),\n\n    INDEX idx_metric_range_categories_metric_range_category_ref_id (metric_range_category_ref_id),\n    INDEX idx_metric_range_categories_metric_range_category_label (metric_range_category_label),\n\n    CONSTRAINT uc_metric_range_categories_metric_range_category_ref_id UNIQUE (metric_range_category_ref_id),\n    CONSTRAINT uc_metric_range_categories_metric_range_category_name UNIQUE (metric_range_category_name),\n    CONSTRAINT uc_metric_range_categories_metric_range_category_label UNIQUE (metric_range_category_label)\n);\n\n-- Lots of other CREATE TABLE statements down here...\n</code></pre>\n\n<p>And the following JPA-annotated entity:</p>\n\n<pre><code>@Entity\n@Table(name = \"metric_range_categories\")\n@AttributeOverrides({\n        @AttributeOverride(name = \"id\", column = @Column(name = \"metric_range_category_id\")),\n        @AttributeOverride(name = \"refId\", column = @Column(name = \"metric_range_category_ref_id\")),\n        @AttributeOverride(name = \"name\", column = @Column(name = \"metric_range_category_name\")),\n        @AttributeOverride(name = \"label\", column = @Column(name = \"metric_range_category_label\")),\n        @AttributeOverride(name = \"description\", column = @Column(name = \"metric_range_category_description\"))\n})\npublic class MetricRangeCategory extends BaseLookup {\n    public MetricRangeCategory() {\n    }\n\n    public MetricRangeCategory(Long id, String refId, String name, String label, String description) {\n        super(id, refId, name, label, description);\n    }\n}\n</code></pre>\n\n<p>At runtime I get the following exception:</p>\n\n<pre><code>Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [metric_range_categories]\n    at org.hibernate.tool.schema.internal.SchemaValidatorImpl.validateTable(SchemaValidatorImpl.java:67)\n    at org.hibernate.tool.schema.internal.SchemaValidatorImpl.doValidation(SchemaValidatorImpl.java:50)\n    at org.hibernate.tool.hbm2ddl.SchemaValidator.validate(SchemaValidator.java:91)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:475)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:879)\n    ... 29 common frames omitted\n</code></pre>\n\n<p>So when it starts up, Liquibase <strong>does not excute/engage</strong> and so Hibernate JPA validation fails because its looking for a table that doesn't exist (because Liquibase never kicked in and did its job!). Any ideas as to where I'm going awry? Why isn't Liquibase kicking in?</p>\n"},{"tags":["java","json","serialization"],"answers":[{"tags":[],"owner":{"account_id":208094,"reputation":6180,"user_id":458368,"accept_rate":64,"display_name":"JOTN"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1290558160,"creation_date":1290558160,"answer_id":4262410,"question_id":4262390,"body_markdown":"Use the .toString() method of JSONObject to get the text.","title":"How to serialize JSON object in java","body":"<p>Use the .toString() method of JSONObject to get the text.</p>\n"},{"tags":[],"owner":{"account_id":93911,"reputation":5846,"user_id":256717,"accept_rate":80,"display_name":"Fakrudeen"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1305182068,"creation_date":1305182068,"answer_id":5974199,"question_id":4262390,"body_markdown":"Have a look at [Gson][1] library. It does nice JSON to object mapping and serialization.\r\n\r\n\r\n  [1]: http://code.google.com/p/google-gson","title":"How to serialize JSON object in java","body":"<p>Have a look at <a href=\"http://code.google.com/p/google-gson\">Gson</a> library. It does nice JSON to object mapping and serialization.</p>\n"},{"tags":[],"owner":{"account_id":965148,"reputation":1823,"user_id":988704,"accept_rate":50,"display_name":"Roberto Andrade"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363734573,"creation_date":1363734573,"answer_id":15512256,"question_id":4262390,"body_markdown":"In the case you&#39;d still want Java built-in serialization without having to resort to marshal your JSON object into string notation, one thing you could do is extend JSONObject and JSONArray from org.json and just implement Serializable.\r\n\r\nThen you can use your own versions of JSONObject and JSONArray across the board instead of the originals.\r\n\r\nMake sure you define all constructors on your subclasses and call their super() counterparts as well as implement specific methods that return the parent types such as getJSONObject() and getJSONArray() from properties.","title":"How to serialize JSON object in java","body":"<p>In the case you'd still want Java built-in serialization without having to resort to marshal your JSON object into string notation, one thing you could do is extend JSONObject and JSONArray from org.json and just implement Serializable.</p>\n\n<p>Then you can use your own versions of JSONObject and JSONArray across the board instead of the originals.</p>\n\n<p>Make sure you define all constructors on your subclasses and call their super() counterparts as well as implement specific methods that return the parent types such as getJSONObject() and getJSONArray() from properties.</p>\n"},{"comments":[{"owner":{"account_id":1350456,"reputation":2278,"user_id":2870834,"accept_rate":71,"display_name":"Evren Yurtesen"},"score":0,"creation_date":1523561775,"post_id":25326211,"comment_id":86623773,"body_markdown":"This is quite nice, but why do you use `writeChars()` and not `writeUTF()` ? Is that a mistake?\nAlso you may need to check that the JSONObject is NOT null if it there is a chance that it was not initialized at all.","body":"This is quite nice, but why do you use <code>writeChars()</code> and not <code>writeUTF()</code> ? Is that a mistake? Also you may need to check that the JSONObject is NOT null if it there is a chance that it was not initialized at all."},{"owner":{"account_id":83041,"reputation":6021,"user_id":233076,"accept_rate":97,"display_name":"Carlos"},"score":0,"creation_date":1523651503,"post_id":25326211,"comment_id":86665254,"body_markdown":"You&#39;re probably right. Been ages since I did this though.","body":"You&#39;re probably right. Been ages since I did this though."}],"tags":[],"owner":{"account_id":83041,"reputation":6021,"user_id":233076,"accept_rate":97,"display_name":"Carlos"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1408104856,"creation_date":1408104856,"answer_id":25326211,"question_id":4262390,"body_markdown":"Late answer, but I was searching for this myself and I have found a solution. Just to clarify, my problem was that my class contained a org.json.JSONobject, and it couldn&#39;t be serialized, which is a necessary step to pass objects in Android Bundle objects.\r\n\r\n 1. Add the keyword **transient** to the field.\r\n 2. Provide the functions writeObject and readObject for the serializer to call. This looks like an override function, but actually isn&#39;t decorated with @Override.\r\n\r\nLike this:\r\n\r\n    private void writeObject(ObjectOutputStream oos) throws IOException{\r\n    \toos.defaultWriteObject();\r\n    \toos.writeChars(_jsonObject.toString());\r\n    }\r\n    \r\n    private void readObject(ObjectInputStream ois) throws ClassNotFoundException, IOException {\r\n        ois.defaultReadObject();\r\n        loadJSON(ois.readUTF());\r\n    }\r\n 3. In the loadJSON function, you call the JSONObject constructor that takes a string, and assign it to the transient field.\r\n\r\nI found this to be far easier than replacing the library.","title":"How to serialize JSON object in java","body":"<p>Late answer, but I was searching for this myself and I have found a solution. Just to clarify, my problem was that my class contained a org.json.JSONobject, and it couldn't be serialized, which is a necessary step to pass objects in Android Bundle objects.</p>\n\n<ol>\n<li>Add the keyword <strong>transient</strong> to the field.</li>\n<li>Provide the functions writeObject and readObject for the serializer to call. This looks like an override function, but actually isn't decorated with @Override.</li>\n</ol>\n\n<p>Like this:</p>\n\n<pre><code>private void writeObject(ObjectOutputStream oos) throws IOException{\n    oos.defaultWriteObject();\n    oos.writeChars(_jsonObject.toString());\n}\n\nprivate void readObject(ObjectInputStream ois) throws ClassNotFoundException, IOException {\n    ois.defaultReadObject();\n    loadJSON(ois.readUTF());\n}\n</code></pre>\n\n<p>3. In the loadJSON function, you call the JSONObject constructor that takes a string, and assign it to the transient field.</p>\n\n<p>I found this to be far easier than replacing the library.</p>\n"}],"owner":{"account_id":799309,"reputation":91,"user_id":503795,"accept_rate":0,"display_name":"XXX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56725,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1689252784,"creation_date":1290557938,"question_id":4262390,"body_markdown":"Hi I am using Voldemort to store my data. My key is a word and values are number of occurrence of the word and the URL. For example:\r\n\r\n    key :question\r\n    value: 10, www.stackoverflow.com\r\n\r\nI am using Json object to put my values. \r\nMy code looks like this\r\n\r\n```lang-java\r\nimport org.json.JSONObject;\r\nimport com.metaparadigm.jsonrpc.JSONSerializer;\r\nimport voldemort.client.ClientConfig;\r\nimport voldemort.client.SocketStoreClientFactory;\r\nimport voldemort.client.StoreClient;\r\nimport voldemort.client.StoreClientFactory;\r\n\r\npublic class ClientExample { \r\n  public static void main (String [] args) { \r\n\tString bootstrapUrl = &quot;tcp://localhost:6666&quot;;\r\n\r\n\tClientConfig cc = new ClientConfig (); \r\n\tcc.setBootstrapUrls (bootstrapUrl); \r\n\tString[] valuePair = new String[2];\r\n\tint val = 1;\r\n\tStoreClientFactory factory = new SocketStoreClientFactory (cc); \r\n\tStoreClient client = factory.getStoreClient(&quot;test&quot;); \r\n\tJSONObject json = new JSONObject(); \r\n\tjson.put(&quot;occurence&quot;,val); \r\n\tjson.put(&quot;url&quot;, &quot;www.cnn.com&quot;); \r\n\tclient.put(&quot;foo&quot;, json); \r\n  } \r\n} \r\n```\r\n\r\nAnd my store.xml looks like this\r\n\r\n```xml\r\n&lt;stores&gt; \r\n  &lt;store&gt; \r\n\t&lt;name&gt;test&lt;/name&gt; \r\n\t&lt;persistence&gt;bdb&lt;/persistence&gt; \r\n\t&lt;routing&gt;client&lt;/routing&gt; \r\n\t&lt;replication-factor&gt;1&lt;/replication-factor&gt; \r\n\t&lt;required-reads&gt;1&lt;/required-reads&gt; \r\n\t&lt;required-writes&gt;1&lt;/required-writes&gt; \r\n\t&lt;key-serializer&gt; \r\n\t  &lt;type&gt;string&lt;/type&gt; \r\n\t&lt;/key-serializer&gt; \r\n\t&lt;value-serializer&gt; \r\n\t  &lt;type&gt;java-serialization&lt;/type&gt; \r\n\t &lt;schema-info&gt;&quot;Compount Types&quot;&lt;/schema-info&gt; \r\n\t&lt;/value-serializer&gt; \r\n  &lt;/store&gt; \r\n&lt;/stores&gt; \r\n```\r\n\r\nWhile i was trying to run the code i am getting following exception:\r\n**\r\n\r\n&gt;Exception in thread &quot;main&quot;\r\n&gt; **voldemort.serialization.SerializationException:\r\n&gt; java.io.NotSerializableException:**\r\n&gt; org.json.JSONObject  at\r\n&gt; voldemort.serialization.ObjectSerializer.toBytes(ObjectSerializer.java:47)\r\n&gt;  at\r\n&gt; voldemort.store.serialized.SerializingStore.put(SerializingStore.java:109)\r\n&gt;  at\r\n&gt; voldemort.store.DelegatingStore.put(DelegatingStore.java:68)\r\n&gt;  at\r\n&gt; voldemort.client.DefaultStoreClient.put(DefaultStoreClient.java:208)\r\n&gt;  at\r\n&gt; voldemort.client.DefaultStoreClient.put(DefaultStoreClient.java:193)\r\n&gt;  at\r\n&gt; ClientExample.main(ClientExample.java:27)\r\n&gt; Caused by:\r\n&gt; java.io.NotSerializableException:\r\n&gt; org.json.JSONObject  at\r\n&gt; java.io.ObjectOutputStream.writeObject0(Unknown\r\n&gt; Source)  at\r\n&gt; java.io.ObjectOutputStream.writeObject(Unknown\r\n&gt; Source)  at\r\n&gt; voldemort.serialization.ObjectSerializer.toBytes(ObjectSerializer.java:44)\r\n\r\n**\r\n\r\nCould you please tell me how to serialize JSON object.Thanks in advance. ","title":"How to serialize JSON object in java","body":"<p>Hi I am using Voldemort to store my data. My key is a word and values are number of occurrence of the word and the URL. For example:</p>\n<pre><code>key :question\nvalue: 10, www.stackoverflow.com\n</code></pre>\n<p>I am using Json object to put my values.\nMy code looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.json.JSONObject;\nimport com.metaparadigm.jsonrpc.JSONSerializer;\nimport voldemort.client.ClientConfig;\nimport voldemort.client.SocketStoreClientFactory;\nimport voldemort.client.StoreClient;\nimport voldemort.client.StoreClientFactory;\n\npublic class ClientExample { \n  public static void main (String [] args) { \n    String bootstrapUrl = &quot;tcp://localhost:6666&quot;;\n\n    ClientConfig cc = new ClientConfig (); \n    cc.setBootstrapUrls (bootstrapUrl); \n    String[] valuePair = new String[2];\n    int val = 1;\n    StoreClientFactory factory = new SocketStoreClientFactory (cc); \n    StoreClient client = factory.getStoreClient(&quot;test&quot;); \n    JSONObject json = new JSONObject(); \n    json.put(&quot;occurence&quot;,val); \n    json.put(&quot;url&quot;, &quot;www.cnn.com&quot;); \n    client.put(&quot;foo&quot;, json); \n  } \n} \n</code></pre>\n<p>And my store.xml looks like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;stores&gt; \n  &lt;store&gt; \n    &lt;name&gt;test&lt;/name&gt; \n    &lt;persistence&gt;bdb&lt;/persistence&gt; \n    &lt;routing&gt;client&lt;/routing&gt; \n    &lt;replication-factor&gt;1&lt;/replication-factor&gt; \n    &lt;required-reads&gt;1&lt;/required-reads&gt; \n    &lt;required-writes&gt;1&lt;/required-writes&gt; \n    &lt;key-serializer&gt; \n      &lt;type&gt;string&lt;/type&gt; \n    &lt;/key-serializer&gt; \n    &lt;value-serializer&gt; \n      &lt;type&gt;java-serialization&lt;/type&gt; \n     &lt;schema-info&gt;&quot;Compount Types&quot;&lt;/schema-info&gt; \n    &lt;/value-serializer&gt; \n  &lt;/store&gt; \n&lt;/stores&gt; \n</code></pre>\n<p>While i was trying to run the code i am getting following exception:\n**</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot;\n<strong>voldemort.serialization.SerializationException:\njava.io.NotSerializableException:</strong>\norg.json.JSONObject  at\nvoldemort.serialization.ObjectSerializer.toBytes(ObjectSerializer.java:47)\nat\nvoldemort.store.serialized.SerializingStore.put(SerializingStore.java:109)\nat\nvoldemort.store.DelegatingStore.put(DelegatingStore.java:68)\nat\nvoldemort.client.DefaultStoreClient.put(DefaultStoreClient.java:208)\nat\nvoldemort.client.DefaultStoreClient.put(DefaultStoreClient.java:193)\nat\nClientExample.main(ClientExample.java:27)\nCaused by:\njava.io.NotSerializableException:\norg.json.JSONObject  at\njava.io.ObjectOutputStream.writeObject0(Unknown\nSource)  at\njava.io.ObjectOutputStream.writeObject(Unknown\nSource)  at\nvoldemort.serialization.ObjectSerializer.toBytes(ObjectSerializer.java:44)</p>\n</blockquote>\n<p>**</p>\n<p>Could you please tell me how to serialize JSON object.Thanks in advance.</p>\n"},{"tags":["java","azure","azureservicebus"],"answers":[{"tags":[],"owner":{"account_id":28158497,"reputation":695,"user_id":21518858,"display_name":"Balaji"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689252248,"creation_date":1689252248,"answer_id":76679528,"question_id":76677763,"body_markdown":"- `ServiceBusClientBuilder` is used to create a `ServiceBusSenderClient` instance. The `buildClient()` method is invoked to build the client. The resulting `sender` variable is of type `ServiceBusSenderClient`, which provides a **synchronous** programming model for sending messages to the Service Bus queue specified by the `queue`.\r\n- When you use `ServiceBusSenderClient` to send a message, the calling thread will be blocked until the message is sent and a response is received from the Service Bus service.\r\n\r\nIf you use maven dependency please check as given below.\r\n\r\n**Dependencies:**\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;!-- Azure Messaging Service Bus --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-messaging-servicebus&lt;/artifactId&gt;\r\n        &lt;version&gt;7.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Azure Identity --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure.identity&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Azure Core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.17.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- Azure Logging Dependencies (optional) --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-core-logger-slf4j&lt;/artifactId&gt;\r\n        &lt;version&gt;1.17.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.32&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nHere you can explore more content for your requirement.\r\n**[ServiceBusSenderClient](https://learn.microsoft.com/en-us/dotnet/api/azure.messaging.servicebus.servicebusclient?view=azure-dotnet)**\r\n\r\n**Here is the asynchronous approach:** \r\n\r\n- `ServiceBusSenderAsyncClient` is an asynchronous client that provides non-blocking methods for sending messages to a Service Bus entity.\r\n\r\n- In Java,  `ServiceBusSenderAsyncClient` class extends the `java.lang.Object` class, which is the root of the class hierarchy. That means `ServiceBusSenderAsyncClient`  will inherits the basic functionalities provided by the `java.lang.Object` class, such as the `toString()`, `hashCode()`, and `equals()` methods.\r\n\r\nI tried a sample application use the `ServiceBusSenderAsyncClient` class to send a message to a Service Bus entity asynchronously. For the dependencies check above.\r\n\r\n```java\r\nimport com.azure.messaging.servicebus.ServiceBusSenderAsyncClient;\r\nimport com.azure.messaging.servicebus.ServiceBusMessage;\r\n\r\npublic class ServiceBusSenderExample {\r\n    public static void main(String[] args) {\r\n        // Create an instance of the ServiceBusSenderAsyncClient\r\n        ServiceBusSenderAsyncClient senderClient = new ServiceBusSenderAsyncClient(&quot;&lt;connectionString&gt;&quot;, &quot;&lt;queueOrTopicName&gt;&quot;);\r\n\r\n        // Create a message\r\n        ServiceBusMessage message = new ServiceBusMessage(&quot;Hello, Service Bus!&quot;);\r\n\r\n        // Send the message asynchronously\r\n        senderClient.sendMessage(message).subscribe(\r\n            messageId -&gt; {\r\n                System.out.println(&quot;Message sent successfully. MessageId: &quot; + messageId);\r\n            },\r\n            error -&gt; {\r\n                System.err.println(&quot;Error occurred while sending the message: &quot; + error);\r\n            },\r\n            () -&gt; {\r\n                System.out.println(&quot;Message sending complete.&quot;);\r\n            }\r\n        );\r\n    }\r\n}\r\n```\r\n- Non-blocking behavior and want to leverage the benefits of asynchronous programming, you can use [`ServiceBusSenderAsyncClient`](https://learn.microsoft.com/en-us/java/api/com.azure.messaging.servicebus.servicebussenderasyncclient?view=azure-java-stable) check on the link for more information.\r\n\r\n","title":"What is the difference between ServiceBusSenderClient and ServiceBusSenderAsyncClient in Azure Service Bus?","body":"<ul>\n<li><code>ServiceBusClientBuilder</code> is used to create a <code>ServiceBusSenderClient</code> instance. The <code>buildClient()</code> method is invoked to build the client. The resulting <code>sender</code> variable is of type <code>ServiceBusSenderClient</code>, which provides a <strong>synchronous</strong> programming model for sending messages to the Service Bus queue specified by the <code>queue</code>.</li>\n<li>When you use <code>ServiceBusSenderClient</code> to send a message, the calling thread will be blocked until the message is sent and a response is received from the Service Bus service.</li>\n</ul>\n<p>If you use maven dependency please check as given below.</p>\n<p><strong>Dependencies:</strong></p>\n<pre><code>&lt;dependencies&gt;\n    &lt;!-- Azure Messaging Service Bus --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-messaging-servicebus&lt;/artifactId&gt;\n        &lt;version&gt;7.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Azure Identity --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure.identity&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n        &lt;version&gt;1.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Azure Core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\n        &lt;version&gt;1.17.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- Azure Logging Dependencies (optional) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-core-logger-slf4j&lt;/artifactId&gt;\n        &lt;version&gt;1.17.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.7.32&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Here you can explore more content for your requirement.\n<strong><a href=\"https://learn.microsoft.com/en-us/dotnet/api/azure.messaging.servicebus.servicebusclient?view=azure-dotnet\" rel=\"nofollow noreferrer\">ServiceBusSenderClient</a></strong></p>\n<p><strong>Here is the asynchronous approach:</strong></p>\n<ul>\n<li><p><code>ServiceBusSenderAsyncClient</code> is an asynchronous client that provides non-blocking methods for sending messages to a Service Bus entity.</p>\n</li>\n<li><p>In Java,  <code>ServiceBusSenderAsyncClient</code> class extends the <code>java.lang.Object</code> class, which is the root of the class hierarchy. That means <code>ServiceBusSenderAsyncClient</code>  will inherits the basic functionalities provided by the <code>java.lang.Object</code> class, such as the <code>toString()</code>, <code>hashCode()</code>, and <code>equals()</code> methods.</p>\n</li>\n</ul>\n<p>I tried a sample application use the <code>ServiceBusSenderAsyncClient</code> class to send a message to a Service Bus entity asynchronously. For the dependencies check above.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.azure.messaging.servicebus.ServiceBusSenderAsyncClient;\nimport com.azure.messaging.servicebus.ServiceBusMessage;\n\npublic class ServiceBusSenderExample {\n    public static void main(String[] args) {\n        // Create an instance of the ServiceBusSenderAsyncClient\n        ServiceBusSenderAsyncClient senderClient = new ServiceBusSenderAsyncClient(&quot;&lt;connectionString&gt;&quot;, &quot;&lt;queueOrTopicName&gt;&quot;);\n\n        // Create a message\n        ServiceBusMessage message = new ServiceBusMessage(&quot;Hello, Service Bus!&quot;);\n\n        // Send the message asynchronously\n        senderClient.sendMessage(message).subscribe(\n            messageId -&gt; {\n                System.out.println(&quot;Message sent successfully. MessageId: &quot; + messageId);\n            },\n            error -&gt; {\n                System.err.println(&quot;Error occurred while sending the message: &quot; + error);\n            },\n            () -&gt; {\n                System.out.println(&quot;Message sending complete.&quot;);\n            }\n        );\n    }\n}\n</code></pre>\n<ul>\n<li>Non-blocking behavior and want to leverage the benefits of asynchronous programming, you can use <a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.messaging.servicebus.servicebussenderasyncclient?view=azure-java-stable\" rel=\"nofollow noreferrer\"><code>ServiceBusSenderAsyncClient</code></a> check on the link for more information.</li>\n</ul>\n"}],"owner":{"account_id":14610742,"reputation":45,"user_id":10552302,"display_name":"SrigandanS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76679528,"answer_count":1,"score":0,"last_activity_date":1689252248,"creation_date":1689239727,"question_id":76677763,"body_markdown":"I want to know the difference between SenderClient and AsynSenderClient in Azure Service Bus. What is the difference in the below 2 code snippets?\r\n\r\n*Snippet 1:*\r\n```\r\nServiceBusSenderClient sender = new ServiceBusClientBuilder()\r\n    .connectionString(&quot;&lt;&lt; CONNECTION STRING FOR THE SERVICE BUS NAMESPACE &gt;&gt;&quot;)\r\n    .sender()\r\n    .queueName(&quot;&lt;&lt; QUEUE NAME &gt;&gt;&quot;)\r\n    .buildClient();\r\n```\r\n\r\n*Snippet 2:*\r\n```\r\nServiceBusSenderAsyncClient sender = new ServiceBusClientBuilder()\r\n    .connectionString(&quot;&lt;&lt; CONNECTION STRING FOR THE SERVICE BUS NAMESPACE &gt;&gt;&quot;)\r\n    .sender()\r\n    .queueName(&quot;&lt;&lt; QUEUE NAME &gt;&gt;&quot;)\r\n    .buildAsyncClient();\r\n```","title":"What is the difference between ServiceBusSenderClient and ServiceBusSenderAsyncClient in Azure Service Bus?","body":"<p>I want to know the difference between SenderClient and AsynSenderClient in Azure Service Bus. What is the difference in the below 2 code snippets?</p>\n<p><em>Snippet 1:</em></p>\n<pre><code>ServiceBusSenderClient sender = new ServiceBusClientBuilder()\n    .connectionString(&quot;&lt;&lt; CONNECTION STRING FOR THE SERVICE BUS NAMESPACE &gt;&gt;&quot;)\n    .sender()\n    .queueName(&quot;&lt;&lt; QUEUE NAME &gt;&gt;&quot;)\n    .buildClient();\n</code></pre>\n<p><em>Snippet 2:</em></p>\n<pre><code>ServiceBusSenderAsyncClient sender = new ServiceBusClientBuilder()\n    .connectionString(&quot;&lt;&lt; CONNECTION STRING FOR THE SERVICE BUS NAMESPACE &gt;&gt;&quot;)\n    .sender()\n    .queueName(&quot;&lt;&lt; QUEUE NAME &gt;&gt;&quot;)\n    .buildAsyncClient();\n</code></pre>\n"},{"tags":["java","nested","static","inner-classes"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689252320,"post_id":76679517,"comment_id":135188947,"body_markdown":"`x++` returns the value of `x` before the increment. You probably want `++x` and `++y`.","body":"<code>x++</code> returns the value of <code>x</code> before the increment. You probably want <code>++x</code> and <code>++y</code>."}],"owner":{"account_id":28963202,"reputation":1,"user_id":22185276,"display_name":"Aled"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689252392,"answer_count":0,"score":0,"last_activity_date":1689252154,"creation_date":1689252154,"question_id":76679517,"body_markdown":"I have the following problem from nested classes category and I do not understand why the printed values for the 3 variables is the same 3131 and not 3131, 3132, 3133?\r\n\r\n\r\n    class X\r\n    {\r\n    static int x = 3131;\r\n     \r\n    static class Y\r\n    {\r\n        static int y = x++;\r\n         \r\n        static class Z\r\n        {\r\n            static int z = y++;\r\n        }\r\n        }\r\n      }\r\n \r\n     public class MainClass\r\n      {\r\n     public static void main(String[] args)\r\n     {\r\n        System.out.println(X.x);\r\n         \r\n        System.out.println(X.Y.y);\r\n         \r\n        System.out.println(X.Y.Z.z);\r\n         }\r\n      }","title":"Assigning values to static members","body":"<p>I have the following problem from nested classes category and I do not understand why the printed values for the 3 variables is the same 3131 and not 3131, 3132, 3133?</p>\n<pre><code>class X\n{\nstatic int x = 3131;\n \nstatic class Y\n{\n    static int y = x++;\n     \n    static class Z\n    {\n        static int z = y++;\n    }\n    }\n  }\n\n public class MainClass\n  {\n public static void main(String[] args)\n {\n    System.out.println(X.x);\n     \n    System.out.println(X.Y.y);\n     \n    System.out.println(X.Y.Z.z);\n     }\n  }\n</code></pre>\n"},{"tags":["java","android","android-audiomanager","android-12"],"comments":[{"owner":{"account_id":276236,"reputation":18430,"user_id":569558,"accept_rate":93,"display_name":"sdabet"},"score":0,"creation_date":1689252202,"post_id":75630773,"comment_id":135188921,"body_markdown":"Have you found a solution ?","body":"Have you found a solution ?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689322020,"post_id":75630773,"comment_id":135199834,"body_markdown":"@sdabet Imagine you download an app that uses audio, and plug in your headphones so that you know you won&#39;t disturb anyone around you. Then that app suddenly starts using the speaker anyway. Does that sound like something Android should allow?","body":"@sdabet Imagine you download an app that uses audio, and plug in your headphones so that you know you won&#39;t disturb anyone around you. Then that app suddenly starts using the speaker anyway. Does that sound like something Android should allow?"},{"owner":{"account_id":276236,"reputation":18430,"user_id":569558,"accept_rate":93,"display_name":"sdabet"},"score":0,"creation_date":1689407734,"post_id":75630773,"comment_id":135211721,"body_markdown":"@Jorn If a permission is requested for that, why not.","body":"@Jorn If a permission is requested for that, why not."},{"owner":{"account_id":10120648,"reputation":317,"user_id":7477675,"display_name":"anshajkhare"},"score":0,"creation_date":1689843611,"post_id":75630773,"comment_id":135271750,"body_markdown":"Have you seen this answer yet?\nhttps://stackoverflow.com/a/71062507/7477675","body":"Have you seen this answer yet? <a href=\"https://stackoverflow.com/a/71062507/7477675\">stackoverflow.com/a/71062507/7477675</a>"}],"owner":{"account_id":21097527,"reputation":41,"user_id":15508161,"display_name":"paertopeer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1689252139,"creation_date":1677868957,"question_id":75630773,"body_markdown":"I have to keep the Audio Speaker even if my headset is plugged into my device using AudioManager, but when wrote this code the AudioManager automatically switched to normal mode after 6 sec.\r\nThere is another way to do this on android 12?\r\n\r\n```\r\npublic void onCreate() {\r\n     m_amAudioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\r\n     m_amAudioManager.setMode(AudioManager.MODE_IN_COMMUNICATION);\r\n     if (android.os.Build.VERSION.SDK_INT \\&gt;= android.os.Build.VERSION_CODES.S) {\r\n         setCommunicationDevice(AudioDeviceInfo.TYPE_WIRED_HEADSET);\r\n     } else {\r\n         m_amAudioManager.setSpeakerphoneOn(true);\r\n     }\r\n}\r\n```\r\n\r\n```\r\n@RequiresApi(api = Build.VERSION_CODES.S)\r\npublic void setCommunicationDevice(Integer targetDeviceType) {\r\n    List&lt;AudioDeviceInfo&gt; devices = m_amAudioManager.getAvailableCommunicationDevices();\r\n    for (AudioDeviceInfo device: devices) {\r\n        if (device.getType() == targetDeviceType) {\r\n            boolean result = m_amAudioManager.setCommunicationDevice(device);\r\n        }\r\n    }\r\n}\r\n```","title":"How to switch to speaker when my headphone is plugged on Android","body":"<p>I have to keep the Audio Speaker even if my headset is plugged into my device using AudioManager, but when wrote this code the AudioManager automatically switched to normal mode after 6 sec.\nThere is another way to do this on android 12?</p>\n<pre><code>public void onCreate() {\n     m_amAudioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\n     m_amAudioManager.setMode(AudioManager.MODE_IN_COMMUNICATION);\n     if (android.os.Build.VERSION.SDK_INT \\&gt;= android.os.Build.VERSION_CODES.S) {\n         setCommunicationDevice(AudioDeviceInfo.TYPE_WIRED_HEADSET);\n     } else {\n         m_amAudioManager.setSpeakerphoneOn(true);\n     }\n}\n</code></pre>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.S)\npublic void setCommunicationDevice(Integer targetDeviceType) {\n    List&lt;AudioDeviceInfo&gt; devices = m_amAudioManager.getAvailableCommunicationDevices();\n    for (AudioDeviceInfo device: devices) {\n        if (device.getType() == targetDeviceType) {\n            boolean result = m_amAudioManager.setCommunicationDevice(device);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","networking","udp","port"],"answers":[{"comments":[{"owner":{"account_id":1478219,"reputation":14007,"user_id":1388116,"accept_rate":85,"display_name":"dumazy"},"score":0,"creation_date":1353540530,"post_id":13503629,"comment_id":18482179,"body_markdown":"Yes, I&#39;m already doing this now. The only thing I&#39;m &#39;worried&#39; about is the fact that I have about 7 or 8 ports that are continuesly being read. Is it better to use less sockets (and ports) or should this not be a problem? I think it could be a problem if there are other programs running that coincidentally use the same port.","body":"Yes, I&#39;m already doing this now. The only thing I&#39;m &#39;worried&#39; about is the fact that I have about 7 or 8 ports that are continuesly being read. Is it better to use less sockets (and ports) or should this not be a problem? I think it could be a problem if there are other programs running that coincidentally use the same port."},{"owner":{"account_id":1535535,"reputation":582,"user_id":1431696,"display_name":"wardd"},"score":2,"creation_date":1353540687,"post_id":13503629,"comment_id":18482225,"body_markdown":"No what I&#39;m saying is, the server has one socket, which is bound to a port. All clients are sending data to that same port (and the same socket). So the server has one socket that is reading in everything. Thats 1 port being used, not 7 or 8. And if you are worried about the port being taken, make the server bind its socket to port 0, at which point it will randomly select an available port (which you must then communicate to your clients somehow).","body":"No what I&#39;m saying is, the server has one socket, which is bound to a port. All clients are sending data to that same port (and the same socket). So the server has one socket that is reading in everything. Thats 1 port being used, not 7 or 8. And if you are worried about the port being taken, make the server bind its socket to port 0, at which point it will randomly select an available port (which you must then communicate to your clients somehow)."}],"tags":[],"owner":{"account_id":1535535,"reputation":582,"user_id":1431696,"display_name":"wardd"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1353539862,"creation_date":1353539862,"answer_id":13503629,"question_id":13503604,"body_markdown":"With multiple clients and one server, you could have all clients send data to the same port on the server. The server would read all information from one socket (which is reading data on that port). Each client that sends data can send metadata along with each payload identifying the user, so the server can discern which received packet belongs to who. I actually think that you can already see the address that a packet comes from using built in functionality however. You could use these addresses to identify different clients, however down the road you might need a more robust solution to make your implementation more secure.","title":"Java - Using multiple datagramSockets and ports","body":"<p>With multiple clients and one server, you could have all clients send data to the same port on the server. The server would read all information from one socket (which is reading data on that port). Each client that sends data can send metadata along with each payload identifying the user, so the server can discern which received packet belongs to who. I actually think that you can already see the address that a packet comes from using built in functionality however. You could use these addresses to identify different clients, however down the road you might need a more robust solution to make your implementation more secure.</p>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689252095,"creation_date":1689252095,"answer_id":76679507,"question_id":13503604,"body_markdown":"As suggested in wardd&#39;s comments, there might be a session protocol.\r\n\r\nEasy version:\r\n 1. The client sends a connect message to the server socket \r\n 2. The server instantiates a new socket for the session with random port (bound to port 0)\r\n 3. The server sends an accept message on the new socket\r\n 4. The client receives the new port / socket with the accept message\r\n 5. the session continues with the session private sockets\r\n\r\nFor more security, there might be a unique session id for the handshake (used in step 4.), the handshake messages might be authenticated or even asymmetrically encrypted, as it is done in TLS.\r\n","title":"Java - Using multiple datagramSockets and ports","body":"<p>As suggested in wardd's comments, there might be a session protocol.</p>\n<p>Easy version:</p>\n<ol>\n<li>The client sends a connect message to the server socket</li>\n<li>The server instantiates a new socket for the session with random port (bound to port 0)</li>\n<li>The server sends an accept message on the new socket</li>\n<li>The client receives the new port / socket with the accept message</li>\n<li>the session continues with the session private sockets</li>\n</ol>\n<p>For more security, there might be a unique session id for the handshake (used in step 4.), the handshake messages might be authenticated or even asymmetrically encrypted, as it is done in TLS.</p>\n"}],"owner":{"account_id":1478219,"reputation":14007,"user_id":1388116,"accept_rate":85,"display_name":"dumazy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":848,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13503629,"answer_count":2,"score":2,"last_activity_date":1689252095,"creation_date":1353539702,"question_id":13503604,"body_markdown":"I&#39;m working on a multi-client/single-server application that uses UDP to communicate.\r\nThe reason for this is that I&#39;m using multicasts and I&#39;m streaming audio.\r\n\r\nI haven&#39;t got a lot of experience in UDP/TCP and I&#39;m not really sure if it&#39;s okay that I&#39;m using several `DatagramSockets` with several different ports.\r\nI have a couple of different objects that I need to send from one device to another, therefor I&#39;m using one port for each type of object.\r\n\r\nIs this okay? I already am using about 7 different ports now.\r\nHow can I use as minimum ports as possible?","title":"Java - Using multiple datagramSockets and ports","body":"<p>I'm working on a multi-client/single-server application that uses UDP to communicate.\nThe reason for this is that I'm using multicasts and I'm streaming audio.</p>\n\n<p>I haven't got a lot of experience in UDP/TCP and I'm not really sure if it's okay that I'm using several <code>DatagramSockets</code> with several different ports.\nI have a couple of different objects that I need to send from one device to another, therefor I'm using one port for each type of object.</p>\n\n<p>Is this okay? I already am using about 7 different ports now.\nHow can I use as minimum ports as possible?</p>\n"},{"tags":["java","exception","jmeter","performance-testing","loadrunner"],"answers":[{"comments":[{"owner":{"account_id":17678570,"reputation":130,"user_id":12833058,"display_name":"vaibhavnayan"},"score":0,"creation_date":1689557781,"post_id":76679486,"comment_id":135225647,"body_markdown":"2nd option worked! Thanks @dmitri","body":"2nd option worked! Thanks @dmitri"}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689251978,"creation_date":1689251978,"answer_id":76679486,"question_id":76679272,"body_markdown":"I guess you&#39;re trying to run JMeter on Windows. If this is the case consider the following steps:\r\n\r\n1. Increase [ephemeral ports range][1]\r\n2. Decrease the [maximum time the connection spends in TIME_WAIT state][2]\r\n3. Increase the [maximum number of network connections if it&#39;s below 200](3)\r\n\r\nIf you cannot do any of these due to lack of administrative permissions - the only option would be get more machines and run your JMeter test in [distributed mode][3]\r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/filenet-p8-platform/5.2.1?topic=listener-windows\r\n  [2]: https://www.ibm.com/docs/en/filenet-p8-platform/5.5.x?topic=system-recycling-tcp-connections-microsoft-windows-operating\r\n  [3]: https://www.blazemeter.com/blog/distributed-testing-in-jmeter","title":"Non HTTP response code: java.net.BindException Response message during load test in JMeter","body":"<p>I guess you're trying to run JMeter on Windows. If this is the case consider the following steps:</p>\n<ol>\n<li>Increase <a href=\"https://www.ibm.com/docs/en/filenet-p8-platform/5.2.1?topic=listener-windows\" rel=\"nofollow noreferrer\">ephemeral ports range</a></li>\n<li>Decrease the <a href=\"https://www.ibm.com/docs/en/filenet-p8-platform/5.5.x?topic=system-recycling-tcp-connections-microsoft-windows-operating\" rel=\"nofollow noreferrer\">maximum time the connection spends in TIME_WAIT state</a></li>\n<li>Increase the maximum number of network connections if it's below 200</li>\n</ol>\n<p>If you cannot do any of these due to lack of administrative permissions - the only option would be get more machines and run your JMeter test in <a href=\"https://www.blazemeter.com/blog/distributed-testing-in-jmeter\" rel=\"nofollow noreferrer\">distributed mode</a></p>\n"}],"owner":{"account_id":17678570,"reputation":130,"user_id":12833058,"display_name":"vaibhavnayan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76679486,"answer_count":1,"score":0,"last_activity_date":1689251978,"creation_date":1689250522,"question_id":76679272,"body_markdown":"I want to do a load test with **1500VU** in **JMeter** but I am **NOT** able to ramp up more than **1000VU**.\r\n\r\nI did some R&amp;D and used two LGs (LG1 with 2 cores CPU and LG2 with 4 cores CPU) and I observed using LG1, I am able to ramp up upto 1000VU with 100% CPU usage(no exceptions), but LG2 starts throwing &quot;**Non HTTP response code: java.net.BindException&quot;** even after 600VU.\r\n\r\nEven though the config is high for LG2 than LG1, LG1 is performing better.\r\n\r\nCan anyone help to answer below two issues:\r\n1) Why LG2 is throwing BindException and what&#39;s the solution for that? \r\n2) Why LG2 with 4core is not able to ramp up more than LG1 with 2core?","title":"Non HTTP response code: java.net.BindException Response message during load test in JMeter","body":"<p>I want to do a load test with <strong>1500VU</strong> in <strong>JMeter</strong> but I am <strong>NOT</strong> able to ramp up more than <strong>1000VU</strong>.</p>\n<p>I did some R&amp;D and used two LGs (LG1 with 2 cores CPU and LG2 with 4 cores CPU) and I observed using LG1, I am able to ramp up upto 1000VU with 100% CPU usage(no exceptions), but LG2 starts throwing &quot;<strong>Non HTTP response code: java.net.BindException&quot;</strong> even after 600VU.</p>\n<p>Even though the config is high for LG2 than LG1, LG1 is performing better.</p>\n<p>Can anyone help to answer below two issues:</p>\n<ol>\n<li>Why LG2 is throwing BindException and what's the solution for that?</li>\n<li>Why LG2 with 4core is not able to ramp up more than LG1 with 2core?</li>\n</ol>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1514412547,"post_id":7271186,"comment_id":82966881,"body_markdown":"Which Tomcat version?","body":"Which Tomcat version?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1517041376,"post_id":7271186,"comment_id":83941480,"body_markdown":"And how do you know it is not working?","body":"And how do you know it is not working?"},{"owner":{"account_id":302899,"reputation":1158,"user_id":611526,"display_name":"Bruno Bossola"},"score":0,"creation_date":1517139401,"post_id":7271186,"comment_id":83964403,"body_markdown":"&quot;Which Tomcat version?&quot;\nAs you can see from the date, this happened in 2011. It&#39;s difficult for me, as of today, 7 years back. to recall the tomcat version, but as you can see from my answer down there, the buffer size was carved into the code, and there was no way to set it up trough configuration.","body":"&quot;Which Tomcat version?&quot; As you can see from the date, this happened in 2011. It&#39;s difficult for me, as of today, 7 years back. to recall the tomcat version, but as you can see from my answer down there, the buffer size was carved into the code, and there was no way to set it up trough configuration."},{"owner":{"account_id":302899,"reputation":1158,"user_id":611526,"display_name":"Bruno Bossola"},"score":0,"creation_date":1517139485,"post_id":7271186,"comment_id":83964434,"body_markdown":"&quot;how do you know it&#39;s not working?&quot; Well, as you probably know, you will get a chunked response as the server is unable to compute the length in advance without buffering it.","body":"&quot;how do you know it&#39;s not working?&quot; Well, as you probably know, you will get a chunked response as the server is unable to compute the length in advance without buffering it."}],"answers":[{"comments":[{"owner":{"account_id":302899,"reputation":1158,"user_id":611526,"display_name":"Bruno Bossola"},"score":1,"creation_date":1517139577,"post_id":7388514,"comment_id":83964463,"body_markdown":"The reason why this has been downvoted is beyond me. I answered myself, provided the reason why this was not possible at the time, and provided a solution as well. Next time, please comment so that I can improve the answer, if needed.","body":"The reason why this has been downvoted is beyond me. I answered myself, provided the reason why this was not possible at the time, and provided a solution as well. Next time, please comment so that I can improve the answer, if needed."}],"tags":[],"owner":{"account_id":302899,"reputation":1158,"user_id":611526,"display_name":"Bruno Bossola"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1315833569,"creation_date":1315833569,"answer_id":7388514,"question_id":7271186,"body_markdown":"So no way to fix this apparently. Took a look at the code, but apparently the buffer is contructed with a default size carved into the code.\r\n\r\nSo, the only way to solve this, is to use Response::setBufferSize() from your code.","title":"How do I set Tomcat response buffer size through configuration?","body":"<p>So no way to fix this apparently. Took a look at the code, but apparently the buffer is contructed with a default size carved into the code.</p>\n\n<p>So, the only way to solve this, is to use Response::setBufferSize() from your code.</p>\n"},{"comments":[{"owner":{"account_id":2771702,"reputation":2815,"user_id":2386185,"display_name":"mech"},"score":4,"creation_date":1456345242,"post_id":35611759,"comment_id":58908476,"body_markdown":"While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value.","body":"While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value."}],"tags":[],"owner":{"account_id":7913310,"reputation":21,"user_id":5976638,"display_name":"Steve"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1456346875,"creation_date":1456343628,"answer_id":35611759,"question_id":7271186,"body_markdown":"Try the following setting in connector: `socketBuffer=&quot;64000&quot;`\r\n","title":"How do I set Tomcat response buffer size through configuration?","body":"<p>Try the following setting in connector: <code>socketBuffer=\"64000\"</code></p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1514412509,"post_id":46903367,"comment_id":82966865,"body_markdown":"Neither of these attributes is the response buffer size.","body":"Neither of these attributes is the response buffer size."}],"tags":[],"owner":{"account_id":6715798,"reputation":79,"user_id":5177674,"display_name":"Awadhesh Verma"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1508825622,"creation_date":1508825622,"answer_id":46903367,"question_id":7271186,"body_markdown":"To use &quot;socket.appWriteBufSize&quot; and &quot;socket.appReadBufSize&quot; attribute, your connector must be NIO connector. Change the value of &quot;protocol&quot; attribute from &quot;HTTP/1.1&quot; to &quot;org.apache.coyote.http11.Http11NioProtocol&quot;.  ","title":"How do I set Tomcat response buffer size through configuration?","body":"<p>To use \"socket.appWriteBufSize\" and \"socket.appReadBufSize\" attribute, your connector must be NIO connector. Change the value of \"protocol\" attribute from \"HTTP/1.1\" to \"org.apache.coyote.http11.Http11NioProtocol\".  </p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689667293,"post_id":76679444,"comment_id":135242260,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76679444/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":11114244,"reputation":1,"user_id":8158999,"display_name":"Marek W"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689251690,"creation_date":1689251657,"answer_id":76679444,"question_id":7271186,"body_markdown":"Here is solution, set in application.properties:\r\n\r\nserver.tomcat.max-http-response-header-size=16KB # or your value","title":"How do I set Tomcat response buffer size through configuration?","body":"<p>Here is solution, set in application.properties:</p>\n<p>server.tomcat.max-http-response-header-size=16KB # or your value</p>\n"}],"owner":{"account_id":302899,"reputation":1158,"user_id":611526,"display_name":"Bruno Bossola"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18083,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":4,"score":4,"last_activity_date":1689251690,"creation_date":1314884494,"question_id":7271186,"body_markdown":"I want to change through configuration (afaik server.xml) the default response buffer size. The documentation states that this is possible using the &quot;bufferSize&quot; attribute inside the &quot;Connector&quot; element but this is not working. I also tried to change &quot;socket.appWriteBufSize&quot; and &quot;socket.appReadBufSize&quot; but no luck:\r\n\r\n    &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; \r\n               \tconnectionTimeout=&quot;20000&quot;\r\n\t\tbufferSize=&quot;64000&quot; \r\n\t\tmaxHttpHeaderSize=&quot;64000&quot;\r\n\t\tsocket.appWriteBufSize=&quot;64000&quot;\r\n\t\tsocket.appReadBufSize=&quot;64000&quot;\r\n\t\tredirectPort=&quot;8443&quot; /&gt;\r\n\r\nNote that if I change the response size from my java code (httpResponse.setBufferSize(64000)) it will work, but for good reason I want to use the standard tomcat configuration mechanism.\r\n\r\nAll tests were done using a freshly downloaded Tomcat.\r\n","title":"How do I set Tomcat response buffer size through configuration?","body":"<p>I want to change through configuration (afaik server.xml) the default response buffer size. The documentation states that this is possible using the \"bufferSize\" attribute inside the \"Connector\" element but this is not working. I also tried to change \"socket.appWriteBufSize\" and \"socket.appReadBufSize\" but no luck:</p>\n\n<pre><code>&lt;Connector port=\"8080\" protocol=\"HTTP/1.1\" \n            connectionTimeout=\"20000\"\n    bufferSize=\"64000\" \n    maxHttpHeaderSize=\"64000\"\n    socket.appWriteBufSize=\"64000\"\n    socket.appReadBufSize=\"64000\"\n    redirectPort=\"8443\" /&gt;\n</code></pre>\n\n<p>Note that if I change the response size from my java code (httpResponse.setBufferSize(64000)) it will work, but for good reason I want to use the standard tomcat configuration mechanism.</p>\n\n<p>All tests were done using a freshly downloaded Tomcat.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1689252397,"post_id":76679443,"comment_id":135188969,"body_markdown":"What is that function meant to do?","body":"What is that function meant to do?"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1689260054,"post_id":76679443,"comment_id":135191094,"body_markdown":"Disclaimer: This is my view only :: From the above it seems to me that the above could be better done with method overloading. If the &#39;function&#39; has three variant which handles input of different types, the design would be cleaner. Inheritance is useful to process parts of the class hierarchy which can be commonly handled.","body":"Disclaimer: This is my view only :: From the above it seems to me that the above could be better done with method overloading. If the &#39;function&#39; has three variant which handles input of different types, the design would be cleaner. Inheritance is useful to process parts of the class hierarchy which can be commonly handled."}],"owner":{"account_id":13132920,"reputation":101,"user_id":9486920,"display_name":"Amit_dash_234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689251651,"creation_date":1689251651,"question_id":76679443,"body_markdown":"I have a function like this \r\n\r\n    public void function(operand left, operand right){}\r\n\r\nThe operand is an interface and different classes can inherit from it, the interface has a method called \r\n \r\n    int getIdentity()\r\n\r\nIt returns an int, right now there are three classes that inherit it real, imaginary and complex. And they return the following ints from the `getIdentity()` method REAL = 1, IMAG = 2, COMPLEX = 3.\r\n\r\nIn the method `function` I handle it like this :\r\n\r\n    switch(left.getIdentity()){\r\n        case REAL -&gt; {\r\n            switch(right.getIdentity()){\r\n                case REAL -&gt; {\r\n                    //unique case handle\r\n                }\r\n                case IMAG -&gt; {\r\n                    //unique case handle\r\n                }\r\n                case COMPLEX -&gt; {\r\n                    //unique case handle\r\n                }\r\n            }\r\n        }\r\n        case IMAG -&gt; {\r\n            switch(right.getIdentity()){\r\n                case REAL -&gt; {\r\n                    //unique case handle\r\n                }\r\n                case IMAG -&gt; {\r\n                    //unique case handle\r\n                }\r\n                case COMPLEX -&gt; {\r\n                    //unique case handle\r\n                }\r\n            }\r\n        }\r\n        case COMPLEX -&gt; {\r\n            switch(right.getIdentity()){\r\n                case REAL -&gt; {\r\n                    //unique case handle\r\n                }\r\n                case IMAG -&gt; {\r\n                    //unique case handle\r\n                }\r\n                case COMPLEX -&gt; {\r\n                    //unique case handle\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAs its clear, it&#39;s very tiresome to check for all possible unique combinations, as more classes will inherit from this interface, testing the unique combinations will become even more tiresome. So I was wondering if there&#39;s a more efficient way to handle this type of situations.","title":"How to handle multiple states of objects efficiently","body":"<p>I have a function like this</p>\n<pre><code>public void function(operand left, operand right){}\n</code></pre>\n<p>The operand is an interface and different classes can inherit from it, the interface has a method called</p>\n<pre><code>int getIdentity()\n</code></pre>\n<p>It returns an int, right now there are three classes that inherit it real, imaginary and complex. And they return the following ints from the <code>getIdentity()</code> method REAL = 1, IMAG = 2, COMPLEX = 3.</p>\n<p>In the method <code>function</code> I handle it like this :</p>\n<pre><code>switch(left.getIdentity()){\n    case REAL -&gt; {\n        switch(right.getIdentity()){\n            case REAL -&gt; {\n                //unique case handle\n            }\n            case IMAG -&gt; {\n                //unique case handle\n            }\n            case COMPLEX -&gt; {\n                //unique case handle\n            }\n        }\n    }\n    case IMAG -&gt; {\n        switch(right.getIdentity()){\n            case REAL -&gt; {\n                //unique case handle\n            }\n            case IMAG -&gt; {\n                //unique case handle\n            }\n            case COMPLEX -&gt; {\n                //unique case handle\n            }\n        }\n    }\n    case COMPLEX -&gt; {\n        switch(right.getIdentity()){\n            case REAL -&gt; {\n                //unique case handle\n            }\n            case IMAG -&gt; {\n                //unique case handle\n            }\n            case COMPLEX -&gt; {\n                //unique case handle\n            }\n        }\n    }\n}\n</code></pre>\n<p>As its clear, it's very tiresome to check for all possible unique combinations, as more classes will inherit from this interface, testing the unique combinations will become even more tiresome. So I was wondering if there's a more efficient way to handle this type of situations.</p>\n"},{"tags":["java","android-asynctask"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1689251769,"post_id":76679399,"comment_id":135188817,"body_markdown":"Note that your `AsyncTaskExecutorService.getHandler()` method is not thread safe.","body":"Note that your <code>AsyncTaskExecutorService.getHandler()</code> method is not thread safe."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1689252712,"post_id":76679399,"comment_id":135189057,"body_markdown":"It does not make sense to declare a parameter of type `Void`, because this class cannot be instantiated or subclassed. The only argument that matches it is `null`.  In particular, `Void` is not a superclass of `Params`, so you cannot override a method that accepts a `Params` parameter with one that accepts a `Void`.  Nor anyway can you pass an argument of type `String` to a parameter of type `Void` (or type `Params`).  If you&#39;re looking for a parameter type compatible with arguments of all reference types then that is `Object`.","body":"It does not make sense to declare a parameter of type <code>Void</code>, because this class cannot be instantiated or subclassed. The only argument that matches it is <code>null</code>.  In particular, <code>Void</code> is not a superclass of <code>Params</code>, so you cannot override a method that accepts a <code>Params</code> parameter with one that accepts a <code>Void</code>.  Nor anyway can you pass an argument of type <code>String</code> to a parameter of type <code>Void</code> (or type <code>Params</code>).  If you&#39;re looking for a parameter type compatible with arguments of all reference types then that is <code>Object</code>."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1689252718,"post_id":76679399,"comment_id":135189058,"body_markdown":"Maybe shall I just have to simplify that abstract class just calling directly the ‵execute()‵ without using ‵handler‵ , neither ‵preExecute‵ or ‵ProgressUpdate‵ or ‵publishProgress‵ since i just need to elaborate a origin string I pass?...","body":"Maybe shall I just have to simplify that abstract class just calling directly the ‵execute()‵ without using ‵handler‵ , neither ‵preExecute‵ or ‵ProgressUpdate‵ or ‵publishProgress‵ since i just need to elaborate a origin string I pass?..."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1689253158,"post_id":76679399,"comment_id":135189205,"body_markdown":"I think you would probably be best off writing something specific to your intended use, instead of trying to mimic `AsyncTask` in its full generality.","body":"I think you would probably be best off writing something specific to your intended use, instead of trying to mimic <code>AsyncTask</code> in its full generality."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1689331802,"post_id":76679399,"comment_id":135201661,"body_markdown":"Hello @JohnBollinger , thank you for your suggest, I simplified the abstract class and moved it in separate .java file so also the class that extends the abstract class is moved in a separate .java file and it works like a charm without any notices of deprecation... thanks again!!!","body":"Hello @JohnBollinger , thank you for your suggest, I simplified the abstract class and moved it in separate .java file so also the class that extends the abstract class is moved in a separate .java file and it works like a charm without any notices of deprecation... thanks again!!!"}],"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689251399,"creation_date":1689251399,"question_id":76679399,"body_markdown":"Since Android 11 `AsyncTask` is deprecated so I implemented in a separate .java file this `AsyncExecutorService` abstract class:\r\n\r\n    public abstract class AsyncTaskExecutorService&lt;Params, Progress, Result&gt; {\r\n        private ExecutorService executor;\r\n        private android.os.Handler handler;\r\n    \r\n        protected AsyncTaskExecutorService() {\r\n            executor = Executors.newSingleThreadExecutor(r -&gt; {\r\n                Thread t = new Thread(r);\r\n                t.setDaemon(true);\r\n                return t;\r\n            });\r\n        }\r\n    \r\n        public ExecutorService getExecutor() {  return executor;  }\r\n    \r\n        public Handler getHandler() {\r\n            if (handler == null) {\r\n                synchronized (AsyncTaskExecutorService.class) {\r\n                    handler = new Handler(Looper.getMainLooper()) {\r\n                    };\r\n                }\r\n            }\r\n            return handler;\r\n        }\r\n    \r\n        protected void onPreExecute() { }\r\n    \r\n        protected abstract String doInBackground(Params params);\r\n    \r\n        protected abstract void onPostExecute(String result);\r\n    \r\n        protected void onProgressUpdate(@NotNull Progress value) { }\r\n    \r\n        public void publishProgress(@NotNull Progress value) {  getHandler().post(() -&gt; onProgressUpdate(value));  }\r\n    \r\n        public void execute() { execute(null); }\r\n    \r\n        public void execute(Params params) {\r\n            getHandler().post(() -&gt; {\r\n                onPreExecute();\r\n                executor.execute(() -&gt; {\r\n                    String result = doInBackground(params);\r\n                    getHandler().post(() -&gt; onPostExecute(result));\r\n                });\r\n            });\r\n        }\r\n    \r\n        public void shutDown() {\r\n            if (executor != null) {\r\n                executor.shutdownNow();\r\n            }\r\n        }\r\n    \r\n        public boolean isCancelled() { return executor == null || executor.isTerminated() || executor.isShutdown(); }\r\n    }\r\n\r\nso I modified my ex-AsyncTask class into:\r\n\r\n    public class retrieveMyString extends AsyncTaskExecutorService &lt;Object, Void, String&gt; {   **&lt;--- ERROR: Class &#39;retrieveMyString&#39; must either be declared abstract or implement abstract method &#39;doInBackground(Params)&#39; in &#39;AsyncTaskExecutorService&#39;**\r\n    \r\n    \r\n    \tprivate String myString;\r\n        private String data;\r\n        private String hostName;\t\r\n    \r\n        public retrieveMyString(String passedData, Context passedContext) {\r\n            data = passedData;\r\n            mContext = passedContext;\r\n        }\r\n    \r\n        @Override **&lt;---- ERROR: Method does not override method from its superclass**\r\n        protected String doInBackground(Void params) {\r\n    \t\t[...]\r\n    \t\t\r\n    \t\treturn myString;\r\n    \t}\r\n    \r\n        @Override\r\n        protected void onPostExecute(String returnedmyString) {\r\n            //super.onPostExecute(returnedmyString);\r\n        }\r\n    \t\r\n    }\r\n\r\nand with this class I try just to obtain a string in the moment of its declaration:\r\n\r\n    retrieveMyString retrieveOwnString = new retrieveMyString(StringToResolve, getContext());\r\n\r\nshall I have just to change all Params params to String in the abstract class or shall I have to threat that params as String to work to obtain a string? Thanks to all in advance!! Cheers! ","title":"Passing or declaring variable of AsyncExecutorService in right way","body":"<p>Since Android 11 <code>AsyncTask</code> is deprecated so I implemented in a separate .java file this <code>AsyncExecutorService</code> abstract class:</p>\n<pre><code>public abstract class AsyncTaskExecutorService&lt;Params, Progress, Result&gt; {\n    private ExecutorService executor;\n    private android.os.Handler handler;\n\n    protected AsyncTaskExecutorService() {\n        executor = Executors.newSingleThreadExecutor(r -&gt; {\n            Thread t = new Thread(r);\n            t.setDaemon(true);\n            return t;\n        });\n    }\n\n    public ExecutorService getExecutor() {  return executor;  }\n\n    public Handler getHandler() {\n        if (handler == null) {\n            synchronized (AsyncTaskExecutorService.class) {\n                handler = new Handler(Looper.getMainLooper()) {\n                };\n            }\n        }\n        return handler;\n    }\n\n    protected void onPreExecute() { }\n\n    protected abstract String doInBackground(Params params);\n\n    protected abstract void onPostExecute(String result);\n\n    protected void onProgressUpdate(@NotNull Progress value) { }\n\n    public void publishProgress(@NotNull Progress value) {  getHandler().post(() -&gt; onProgressUpdate(value));  }\n\n    public void execute() { execute(null); }\n\n    public void execute(Params params) {\n        getHandler().post(() -&gt; {\n            onPreExecute();\n            executor.execute(() -&gt; {\n                String result = doInBackground(params);\n                getHandler().post(() -&gt; onPostExecute(result));\n            });\n        });\n    }\n\n    public void shutDown() {\n        if (executor != null) {\n            executor.shutdownNow();\n        }\n    }\n\n    public boolean isCancelled() { return executor == null || executor.isTerminated() || executor.isShutdown(); }\n}\n</code></pre>\n<p>so I modified my ex-AsyncTask class into:</p>\n<pre><code>public class retrieveMyString extends AsyncTaskExecutorService &lt;Object, Void, String&gt; {   **&lt;--- ERROR: Class 'retrieveMyString' must either be declared abstract or implement abstract method 'doInBackground(Params)' in 'AsyncTaskExecutorService'**\n\n\n    private String myString;\n    private String data;\n    private String hostName;    \n\n    public retrieveMyString(String passedData, Context passedContext) {\n        data = passedData;\n        mContext = passedContext;\n    }\n\n    @Override **&lt;---- ERROR: Method does not override method from its superclass**\n    protected String doInBackground(Void params) {\n        [...]\n        \n        return myString;\n    }\n\n    @Override\n    protected void onPostExecute(String returnedmyString) {\n        //super.onPostExecute(returnedmyString);\n    }\n    \n}\n</code></pre>\n<p>and with this class I try just to obtain a string in the moment of its declaration:</p>\n<pre><code>retrieveMyString retrieveOwnString = new retrieveMyString(StringToResolve, getContext());\n</code></pre>\n<p>shall I have just to change all Params params to String in the abstract class or shall I have to threat that params as String to work to obtain a string? Thanks to all in advance!! Cheers!</p>\n"},{"tags":["java","latitude-longitude","geotools"],"answers":[{"comments":[{"owner":{"account_id":194080,"reputation":998,"user_id":436183,"accept_rate":75,"display_name":"Jeryl Cook"},"score":0,"creation_date":1496156110,"post_id":44256659,"comment_id":75539299,"body_markdown":"Thanks @iant,   .. is &#39;distance&#39;  you used to get your output in meters?......in the OP. what would be the point of that method implemented if this is needed?","body":"Thanks @iant,   .. is &#39;distance&#39;  you used to get your output in meters?......in the OP. what would be the point of that method implemented if this is needed?"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1496156193,"post_id":44256659,"comment_id":75539345,"body_markdown":"a JTS Point @ (-73.87,40.84), CRS is CRS.decode(&quot;epsg:4326&quot;);","body":"a JTS Point @ (-73.87,40.84), CRS is CRS.decode(&quot;epsg:4326&quot;);"},{"owner":{"account_id":194080,"reputation":998,"user_id":436183,"accept_rate":75,"display_name":"Jeryl Cook"},"score":0,"creation_date":1496156339,"post_id":44256659,"comment_id":75539457,"body_markdown":"and for &quot;Measure&quot;?, could you cut and paste the line of code for the &#39;call&#39;  to this method :)","body":"and for &quot;Measure&quot;?, could you cut and paste the line of code for the &#39;call&#39;  to this method :)"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1496156441,"post_id":44256659,"comment_id":75539541,"body_markdown":"Measure&lt;Double, Length&gt; dist = Measure.valueOf(1.0, NonSI.MILE);","body":"Measure&lt;Double, Length&gt; dist = Measure.valueOf(1.0, NonSI.MILE);"},{"owner":{"account_id":194080,"reputation":998,"user_id":436183,"accept_rate":75,"display_name":"Jeryl Cook"},"score":0,"creation_date":1496327965,"post_id":44256659,"comment_id":75626460,"body_markdown":"what version of geotools do you use ?","body":"what version of geotools do you use ?"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":1,"creation_date":1496328955,"post_id":44256659,"comment_id":75627294,"body_markdown":"version 18-SNAPSHOT but should work with all recent versions","body":"version 18-SNAPSHOT but should work with all recent versions"},{"owner":{"account_id":4321939,"reputation":1282,"user_id":3529850,"accept_rate":67,"display_name":"user3529850"},"score":0,"creation_date":1516405055,"post_id":44256659,"comment_id":83688740,"body_markdown":"Mr. @IanTurton, are you sure that, there is no bug in the code ? &#39;cause for `40.748754,-73.985460` (Empire State Building), and `Measure.valueOf(10.0, SI.KILOMETER)` I am getting weird &quot;vertical ellipse` ? (https://pasteboard.co/H3InzKC.jpg)","body":"Mr. @IanTurton, are you sure that, there is no bug in the code ? &#39;cause for <code>40.748754,-73.985460</code> (Empire State Building), and <code>Measure.valueOf(10.0, SI.KILOMETER)</code> I am getting weird &quot;vertical ellipse` ? (<a href=\"https://pasteboard.co/H3InzKC.jpg\" rel=\"nofollow noreferrer\">pasteboard.co/H3InzKC.jpg</a>)"}],"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1496156581,"creation_date":1496131096,"answer_id":44256659,"question_id":44249945,"body_markdown":"Your output circle is valid, it just happens to exceed the diameter of the Earth&#39;s surface so your GIS may have issues drawing it! The problem is that you are mixing degrees and meters indiscriminately and GeoTools has no clue what you want it to do.\r\n\r\nYou need to add some information about the coordinate reference system of the point to the program, and if that projection is geographic (i.e. in degrees), transform the problem to a projection that is in meters. \r\n\r\n    public Geometry bufferPoint(Measure&lt;Double, Length&gt; distance, CoordinateReferenceSystem origCRS, Geometry geom) {\r\n        Geometry pGeom = geom;\r\n        MathTransform toTransform, fromTransform = null;\r\n        // reproject the geometry to a local projection\r\n        Unit&lt;Length&gt; unit = distance.getUnit();\r\n        if (!(origCRS instanceof ProjectedCRS)) {\r\n    \r\n          double x = geom.getCoordinate().x;\r\n          double y = geom.getCoordinate().y;\r\n    \r\n          String code = &quot;AUTO:42001,&quot; + x + &quot;,&quot; + y;\r\n          // System.out.println(code);\r\n          CoordinateReferenceSystem auto;\r\n          try {\r\n            auto = CRS.decode(code);\r\n            toTransform = CRS.findMathTransform(DefaultGeographicCRS.WGS84, auto);\r\n            fromTransform = CRS.findMathTransform(auto, DefaultGeographicCRS.WGS84);\r\n            pGeom = JTS.transform(geom, toTransform);\r\n            unit = SI.METER;\r\n          } catch (MismatchedDimensionException | TransformException | FactoryException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n          }\r\n    \r\n        } else {\r\n          unit = (Unit&lt;Length&gt;) origCRS.getCoordinateSystem().getAxis(0).getUnit();\r\n          \r\n        }\r\n        \r\n        \r\n        // buffer\r\n        Geometry out = pGeom.buffer(distance.doubleValue(unit));\r\n        Geometry retGeom = out;\r\n        // reproject the geometry to the original projection\r\n        if (!(origCRS instanceof ProjectedCRS)) {\r\n          try {\r\n            retGeom = JTS.transform(out, fromTransform);\r\n    \r\n          } catch (MismatchedDimensionException | TransformException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n          }\r\n        }\r\n        return retGeom;\r\n      }\r\n\r\n \r\n\r\n`AUTO:42001,x,y` is a special projection centred on the point `x,y` in meters that allows us to use the JTS [`buffer`][1] method which is easier than the circle operation you are using.\r\n\r\nFor your inputs this gives me an ellipse over New York, note this is expected and is due to the distorting effects of using unprojected Lat/Lon coordinates on a curved Earth.\r\n\r\nYou can call it using:\r\n\r\n    //Measure&lt;Double, Length&gt; dist = Measure.valueOf(50.0, SI.KILOMETER);\r\n    Measure&lt;Double, Length&gt; dist = Measure.valueOf(1.0, NonSI.MILE);\r\n    GeometryFactory gf = new GeometryFactory();\r\n    Point p = gf.createPoint(new Coordinate(-73.87,40.84));\r\n    buf.bufferPoint(dist, DefaultGeographicCRS.WGS84, p);\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://locationtech.github.io/jts/javadoc/index.html?org/locationtech/jts/operation/buffer/BufferOp.html\r\n  [2]: https://i.stack.imgur.com/cveQl.png","title":"How to use GeometricShapeFactory in geoTools to create a Circle on map","body":"<p>Your output circle is valid, it just happens to exceed the diameter of the Earth's surface so your GIS may have issues drawing it! The problem is that you are mixing degrees and meters indiscriminately and GeoTools has no clue what you want it to do.</p>\n\n<p>You need to add some information about the coordinate reference system of the point to the program, and if that projection is geographic (i.e. in degrees), transform the problem to a projection that is in meters. </p>\n\n<pre><code>public Geometry bufferPoint(Measure&lt;Double, Length&gt; distance, CoordinateReferenceSystem origCRS, Geometry geom) {\n    Geometry pGeom = geom;\n    MathTransform toTransform, fromTransform = null;\n    // reproject the geometry to a local projection\n    Unit&lt;Length&gt; unit = distance.getUnit();\n    if (!(origCRS instanceof ProjectedCRS)) {\n\n      double x = geom.getCoordinate().x;\n      double y = geom.getCoordinate().y;\n\n      String code = \"AUTO:42001,\" + x + \",\" + y;\n      // System.out.println(code);\n      CoordinateReferenceSystem auto;\n      try {\n        auto = CRS.decode(code);\n        toTransform = CRS.findMathTransform(DefaultGeographicCRS.WGS84, auto);\n        fromTransform = CRS.findMathTransform(auto, DefaultGeographicCRS.WGS84);\n        pGeom = JTS.transform(geom, toTransform);\n        unit = SI.METER;\n      } catch (MismatchedDimensionException | TransformException | FactoryException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n      }\n\n    } else {\n      unit = (Unit&lt;Length&gt;) origCRS.getCoordinateSystem().getAxis(0).getUnit();\n\n    }\n\n\n    // buffer\n    Geometry out = pGeom.buffer(distance.doubleValue(unit));\n    Geometry retGeom = out;\n    // reproject the geometry to the original projection\n    if (!(origCRS instanceof ProjectedCRS)) {\n      try {\n        retGeom = JTS.transform(out, fromTransform);\n\n      } catch (MismatchedDimensionException | TransformException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n      }\n    }\n    return retGeom;\n  }\n</code></pre>\n\n<p><code>AUTO:42001,x,y</code> is a special projection centred on the point <code>x,y</code> in meters that allows us to use the JTS <a href=\"https://locationtech.github.io/jts/javadoc/index.html?org/locationtech/jts/operation/buffer/BufferOp.html\" rel=\"nofollow noreferrer\"><code>buffer</code></a> method which is easier than the circle operation you are using.</p>\n\n<p>For your inputs this gives me an ellipse over New York, note this is expected and is due to the distorting effects of using unprojected Lat/Lon coordinates on a curved Earth.</p>\n\n<p>You can call it using:</p>\n\n<pre><code>//Measure&lt;Double, Length&gt; dist = Measure.valueOf(50.0, SI.KILOMETER);\nMeasure&lt;Double, Length&gt; dist = Measure.valueOf(1.0, NonSI.MILE);\nGeometryFactory gf = new GeometryFactory();\nPoint p = gf.createPoint(new Coordinate(-73.87,40.84));\nbuf.bufferPoint(dist, DefaultGeographicCRS.WGS84, p);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/cveQl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cveQl.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":1711732,"reputation":66,"user_id":1569659,"display_name":"heyhey2k"},"score":1,"creation_date":1594861208,"post_id":52857147,"comment_id":111278095,"body_markdown":"Just note that if you are using the Coordinate class from JTS (`com.vividsolutions.jts.geom` or `org.locationtech.jts.geom`), then X corresponds to longitude and Y corresponds to latitude. In the post above then, you would need to swap the parameters like so:  `new Coordinate(longitude, latitude)`","body":"Just note that if you are using the Coordinate class from JTS (<code>com.vividsolutions.jts.geom</code> or <code>org.locationtech.jts.geom</code>), then X corresponds to longitude and Y corresponds to latitude. In the post above then, you would need to swap the parameters like so:  <code>new Coordinate(longitude, latitude)</code>"},{"owner":{"account_id":3066131,"reputation":1764,"user_id":2597775,"accept_rate":58,"display_name":"sebasira"},"score":0,"creation_date":1614259434,"post_id":52857147,"comment_id":117335077,"body_markdown":"This saved my life!","body":"This saved my life!"}],"tags":[],"owner":{"account_id":11179471,"reputation":621,"user_id":8203923,"display_name":"Jared"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1539786261,"creation_date":1539785953,"answer_id":52857147,"question_id":44249945,"body_markdown":"  \r\n        double latitude = 40.689234d;\r\n        double longitude = -74.044598d;\r\n        double diameterInMeters = 2000d; //2km\r\n\r\n        GeometricShapeFactory shapeFactory = new GeometricShapeFactory();\r\n        shapeFactory.setNumPoints(64); // adjustable\r\n        shapeFactory.setCentre(new Coordinate(latitude, longitude));\r\n        // Length in meters of 1&#176; of latitude = always 111.32 km\r\n        shapeFactory.setWidth(diameterInMeters/111320d);\r\n        // Length in meters of 1&#176; of longitude = 40075 km * cos( latitude ) / 360\r\n        shapeFactory.setHeight(diameterInMeters / (40075000 * Math.cos(Math.toRadians(latitude)) / 360));\r\n\r\n        Polygon circle = shapeFactory.createEllipse();\r\n\r\n![result](https://i.stack.imgur.com/lfzyC.png)","title":"How to use GeometricShapeFactory in geoTools to create a Circle on map","body":"<pre><code>    double latitude = 40.689234d;\n    double longitude = -74.044598d;\n    double diameterInMeters = 2000d; //2km\n\n    GeometricShapeFactory shapeFactory = new GeometricShapeFactory();\n    shapeFactory.setNumPoints(64); // adjustable\n    shapeFactory.setCentre(new Coordinate(latitude, longitude));\n    // Length in meters of 1° of latitude = always 111.32 km\n    shapeFactory.setWidth(diameterInMeters/111320d);\n    // Length in meters of 1° of longitude = 40075 km * cos( latitude ) / 360\n    shapeFactory.setHeight(diameterInMeters / (40075000 * Math.cos(Math.toRadians(latitude)) / 360));\n\n    Polygon circle = shapeFactory.createEllipse();\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/lfzyC.png\" alt=\"result\"></p>\n"},{"tags":[],"owner":{"account_id":1886834,"reputation":528,"user_id":1705880,"accept_rate":50,"display_name":"Sparm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689250743,"creation_date":1689250743,"answer_id":76679311,"question_id":44249945,"body_markdown":"If you just want a pretty circle on a flat map, this worked for me:\r\n\r\n    \r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.geotools.geojson.geom.GeometryJSON;\r\n    import org.locationtech.jts.geom.Coordinate;\r\n    import org.locationtech.jts.geom.Geometry;\r\n    import org.locationtech.jts.geom.GeometryFactory;\r\n    import org.locationtech.jts.geom.Point;\r\n    import org.locationtech.jts.geom.PrecisionModel;\r\n    \r\n    \r\n    public class GeoUtils {\r\n    \r\n        public class GeoCoordDTO {\r\n            float lat;\r\n    \r\n            public float getLat() {\r\n                return lat;\r\n            }\r\n    \r\n            float lon;\r\n    \r\n            public float getLon() {\r\n                return lon;\r\n            }\r\n        }\r\n    \r\n        public static String createGeoJsonCircle(\r\n            GeoCoordDTO g1,\r\n            double radiusInKm\r\n        ) throws IOException {\r\n            Geometry shape = new GeometryFactory().createMultiPoint(createCircle(64, g1, radiusInKm).toArray(new Point[] {}));\r\n            GeometryJSON g = new GeometryJSON(17);\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            g.write(shape, baos);\r\n            return baos.toString();\r\n        }\r\n    \r\n        private static double toRadians(float angleInDegrees) {\r\n            return (angleInDegrees * Math.PI) / 180;\r\n        }\r\n    \r\n        private static double toDegrees(double angleInRadians) {\r\n            return (angleInRadians * 180) / Math.PI;\r\n        }\r\n    \r\n    \r\n        private static Point createPoint(\r\n            GeoCoordDTO c1,\r\n            double distance,\r\n            double bearing\r\n        ) {\r\n            int earthRadius = 6378137;\r\n            double lat1 = toRadians(c1.getLat());\r\n            double lon1 = toRadians(c1.getLon());\r\n            double dByR = distance / earthRadius;\r\n            double lat = Math.asin(Math.sin(lat1) * Math.cos(dByR) + Math.cos(lat1) * Math.sin(dByR) * Math.cos(bearing));\r\n            double lon = lon1 + Math.atan2(Math.sin(bearing) * Math.sin(dByR) * Math.cos(lat1), Math.cos(dByR) - Math.sin(lat1) * Math.sin(lat));\r\n            return new Point(new Coordinate(toDegrees(lon), toDegrees(lat)), new PrecisionModel(PrecisionModel.FLOATING), 0);\r\n        }\r\n    \r\n        private static List&lt;Point&gt; createCircle(\r\n            int noOfPoints,\r\n            GeoCoordDTO g1,\r\n            double radiusInKm\r\n        ) {\r\n            List&lt;Point&gt; coordinates = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; noOfPoints; ++i) {\r\n                coordinates.add(createPoint(g1, radiusInKm * 1000, (2 * Math.PI * -i) / noOfPoints));\r\n            }\r\n            coordinates.add(coordinates.get(0));\r\n            return coordinates;\r\n        }\r\n    }\r\n","title":"How to use GeometricShapeFactory in geoTools to create a Circle on map","body":"<p>If you just want a pretty circle on a flat map, this worked for me:</p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.geotools.geojson.geom.GeometryJSON;\nimport org.locationtech.jts.geom.Coordinate;\nimport org.locationtech.jts.geom.Geometry;\nimport org.locationtech.jts.geom.GeometryFactory;\nimport org.locationtech.jts.geom.Point;\nimport org.locationtech.jts.geom.PrecisionModel;\n\n\npublic class GeoUtils {\n\n    public class GeoCoordDTO {\n        float lat;\n\n        public float getLat() {\n            return lat;\n        }\n\n        float lon;\n\n        public float getLon() {\n            return lon;\n        }\n    }\n\n    public static String createGeoJsonCircle(\n        GeoCoordDTO g1,\n        double radiusInKm\n    ) throws IOException {\n        Geometry shape = new GeometryFactory().createMultiPoint(createCircle(64, g1, radiusInKm).toArray(new Point[] {}));\n        GeometryJSON g = new GeometryJSON(17);\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        g.write(shape, baos);\n        return baos.toString();\n    }\n\n    private static double toRadians(float angleInDegrees) {\n        return (angleInDegrees * Math.PI) / 180;\n    }\n\n    private static double toDegrees(double angleInRadians) {\n        return (angleInRadians * 180) / Math.PI;\n    }\n\n\n    private static Point createPoint(\n        GeoCoordDTO c1,\n        double distance,\n        double bearing\n    ) {\n        int earthRadius = 6378137;\n        double lat1 = toRadians(c1.getLat());\n        double lon1 = toRadians(c1.getLon());\n        double dByR = distance / earthRadius;\n        double lat = Math.asin(Math.sin(lat1) * Math.cos(dByR) + Math.cos(lat1) * Math.sin(dByR) * Math.cos(bearing));\n        double lon = lon1 + Math.atan2(Math.sin(bearing) * Math.sin(dByR) * Math.cos(lat1), Math.cos(dByR) - Math.sin(lat1) * Math.sin(lat));\n        return new Point(new Coordinate(toDegrees(lon), toDegrees(lat)), new PrecisionModel(PrecisionModel.FLOATING), 0);\n    }\n\n    private static List&lt;Point&gt; createCircle(\n        int noOfPoints,\n        GeoCoordDTO g1,\n        double radiusInKm\n    ) {\n        List&lt;Point&gt; coordinates = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; noOfPoints; ++i) {\n            coordinates.add(createPoint(g1, radiusInKm * 1000, (2 * Math.PI * -i) / noOfPoints));\n        }\n        coordinates.add(coordinates.get(0));\n        return coordinates;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":194080,"reputation":998,"user_id":436183,"accept_rate":75,"display_name":"Jeryl Cook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7821,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44256659,"answer_count":3,"score":1,"last_activity_date":1689250743,"creation_date":1496089823,"question_id":44249945,"body_markdown":"I am currently using the below code to create a GeoJson Polygon. this gives me a bad circle which is not valid...\r\n\r\n\r\nin this case `RADIUS = 1609.34`  , which is 1 mile in meters.\r\n\r\n\t\t\tpublic \tGeoJsonPolygon createRadiusPolygon(  Point point,double RADIUS) {\t\t\r\n\t \r\n\t\t\t\t  GeometricShapeFactory shapeFactory = new GeometricShapeFactory();\r\n\t\t\t\t  shapeFactory.setNumPoints(32);\r\n\t\t\t\t  shapeFactory.setCentre(new com.vividsolutions.jts.geom.Coordinate(point.getX(), point.getY()));\r\n\t\t\t\t  shapeFactory.setSize(RADIUS * 2);\r\n\t\t\t\t  com.vividsolutions.jts.geom.Geometry circle = shapeFactory.createCircle();\r\n\t\t\t\t  List&lt;Point&gt; points = new ArrayList&lt;Point&gt;();\r\n\t\t\t\t\tfor (com.vividsolutions.jts.geom.Coordinate coordinate : circle.getCoordinates()) {\r\n\t\t\t\t\t\tPoint lngLatAtl = new Point(coordinate.x, coordinate.y);\r\n\t\t\t\t\t\tpoints.add(lngLatAtl);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tCollections.reverse(points);\r\n\t\t\t\t\treturn new GeoJsonPolygon(points);\r\n\t\t\t\t}\r\n\r\n\r\nreferenced:\r\nhttp://docs.geotools.org/stable/userguide/library/jts/geometry.html\r\n\r\n\r\ncurrently if i use Point(-73.87,40.84)  RADIUS = 1609.34, i get the below link.\r\nhttps://gist.githubusercontent.com/VanitySoft/56c4ce0f5c1c7e7fe0461ed46fd5ed11/raw/94544750a140d81780ebe9206395a21ab88bb1f7/circle\r\n\r\n===SOLVED== from @Ian answer:\r\nUsing method in his answer. RADIUS is in miles, to get the Circle used to create the GeoJson.\r\n\r\n    ...\r\n      com.vividsolutions.jts.geom.Point jtsPoint =  new GeometryFactory().createPoint(new com.vividsolutions.jts.geom.Coordinate(point.getY(), point.getX()));\r\n    \t\t\t      javax.measure.Measure measure = Measure.valueOf(RADIUS, NonSI.MILE);\r\n    \t\t\t\t  com.vividsolutions.jts.geom.Geometry circle = createCircleRadis(measure,CRS.decode(&quot;epsg:4326&quot;),jtsPoint );\r\n    ...\r\n\r\n...\r\n\t\t\t\t ","title":"How to use GeometricShapeFactory in geoTools to create a Circle on map","body":"<p>I am currently using the below code to create a GeoJson Polygon. this gives me a bad circle which is not valid...</p>\n\n<p>in this case <code>RADIUS = 1609.34</code>  , which is 1 mile in meters.</p>\n\n<pre><code>        public  GeoJsonPolygon createRadiusPolygon(  Point point,double RADIUS) {       \n\n              GeometricShapeFactory shapeFactory = new GeometricShapeFactory();\n              shapeFactory.setNumPoints(32);\n              shapeFactory.setCentre(new com.vividsolutions.jts.geom.Coordinate(point.getX(), point.getY()));\n              shapeFactory.setSize(RADIUS * 2);\n              com.vividsolutions.jts.geom.Geometry circle = shapeFactory.createCircle();\n              List&lt;Point&gt; points = new ArrayList&lt;Point&gt;();\n                for (com.vividsolutions.jts.geom.Coordinate coordinate : circle.getCoordinates()) {\n                    Point lngLatAtl = new Point(coordinate.x, coordinate.y);\n                    points.add(lngLatAtl);\n                }\n                Collections.reverse(points);\n                return new GeoJsonPolygon(points);\n            }\n</code></pre>\n\n<p>referenced:\n<a href=\"http://docs.geotools.org/stable/userguide/library/jts/geometry.html\" rel=\"nofollow noreferrer\">http://docs.geotools.org/stable/userguide/library/jts/geometry.html</a></p>\n\n<p>currently if i use Point(-73.87,40.84)  RADIUS = 1609.34, i get the below link.\n<a href=\"https://gist.githubusercontent.com/VanitySoft/56c4ce0f5c1c7e7fe0461ed46fd5ed11/raw/94544750a140d81780ebe9206395a21ab88bb1f7/circle\" rel=\"nofollow noreferrer\">https://gist.githubusercontent.com/VanitySoft/56c4ce0f5c1c7e7fe0461ed46fd5ed11/raw/94544750a140d81780ebe9206395a21ab88bb1f7/circle</a></p>\n\n<p>===SOLVED== from @Ian answer:\nUsing method in his answer. RADIUS is in miles, to get the Circle used to create the GeoJson.</p>\n\n<pre><code>...\n  com.vividsolutions.jts.geom.Point jtsPoint =  new GeometryFactory().createPoint(new com.vividsolutions.jts.geom.Coordinate(point.getY(), point.getX()));\n                  javax.measure.Measure measure = Measure.valueOf(RADIUS, NonSI.MILE);\n                  com.vividsolutions.jts.geom.Geometry circle = createCircleRadis(measure,CRS.decode(\"epsg:4326\"),jtsPoint );\n...\n</code></pre>\n\n<p>...</p>\n"},{"tags":["java","state","dapr"],"answers":[{"tags":[],"owner":{"account_id":2070337,"reputation":63,"user_id":1844976,"display_name":"J.S."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689248493,"creation_date":1689248493,"answer_id":76678989,"question_id":76479833,"body_markdown":"According to https://github.com/dapr/java-sdk/issues/627:\r\n\r\nIt is not possible to set the TTL via the Java SDK. The default approach is to set it via the component configuration though. In any way, being able to utilize TTL depends on the state store you are using. See the TTL column here: https://docs.dapr.io/reference/components-reference/supported-state-stores/","title":"Cannot set TTl in a dapr state via Java SDK","body":"<p>According to <a href=\"https://github.com/dapr/java-sdk/issues/627\" rel=\"nofollow noreferrer\">https://github.com/dapr/java-sdk/issues/627</a>:</p>\n<p>It is not possible to set the TTL via the Java SDK. The default approach is to set it via the component configuration though. In any way, being able to utilize TTL depends on the state store you are using. See the TTL column here: <a href=\"https://docs.dapr.io/reference/components-reference/supported-state-stores/\" rel=\"nofollow noreferrer\">https://docs.dapr.io/reference/components-reference/supported-state-stores/</a></p>\n"},{"comments":[{"owner":{"account_id":2070337,"reputation":63,"user_id":1844976,"display_name":"J.S."},"score":0,"creation_date":1689321433,"post_id":76679270,"comment_id":135199736,"body_markdown":"This is a cool approach. But can you please state that you **aren&#39;t using the SDK** as the question asks?","body":"This is a cool approach. But can you please state that you <b>aren&#39;t using the SDK</b> as the question asks?"}],"tags":[],"owner":{"account_id":21739251,"reputation":179,"user_id":16046846,"display_name":"Konstantinos K."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689250513,"creation_date":1689250513,"answer_id":76679270,"question_id":76479833,"body_markdown":"You need to try something like the above:\r\n\r\n    import java.net.URI;\r\n    import java.net.http.HttpClient;\r\n    import java.net.http.HttpRequest;\r\n    import java.net.http.HttpResponse;\r\n    \r\n    public class DaprStateTTLExample {\r\n        private static final String DAPR_SIDECAR_HTTP_PORT = &quot;3500&quot;;\r\n        private static final String STATE_STORE_NAME = &quot;your-state-store-name&quot;;\r\n        private static final String KEY = &quot;your-state-key&quot;;\r\n        private static final String BASE_URL = &quot;http://localhost:&quot; + DAPR_SIDECAR_HTTP_PORT + &quot;/v1.0/state/&quot;;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            // Set the TTL to 60 seconds (adjust as needed)\r\n            int ttlInSeconds = 60;\r\n    \r\n            // Create the state object\r\n            YourStateObject state = new YourStateObject();\r\n            state.setSomeProperty(&quot;some value&quot;);\r\n    \r\n            // Convert the state object to JSON\r\n            String stateJson = YourJsonSerializer.serialize(state);\r\n    \r\n            // Create the HTTP client\r\n            HttpClient httpClient = HttpClient.newHttpClient();\r\n    \r\n            // Build the request\r\n            String url = BASE_URL + STATE_STORE_NAME;\r\n            String payload = String.format(&quot;[{\\&quot;key\\&quot;: \\&quot;%s\\&quot;, \\&quot;value\\&quot;: %s, \\&quot;options\\&quot;: {\\&quot;ttlInSeconds\\&quot;: %d}}]&quot;, KEY, stateJson, ttlInSeconds);\r\n            HttpRequest request = HttpRequest.newBuilder()\r\n                    .uri(URI.create(url))\r\n                    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                    .POST(HttpRequest.BodyPublishers.ofString(payload))\r\n                    .build();\r\n    \r\n            // Send the request\r\n            HttpResponse&lt;String&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\r\n    \r\n            // Check the response\r\n            if (response.statusCode() == 200) {\r\n                System.out.println(&quot;State saved successfully with TTL&quot;);\r\n            } else {\r\n                System.out.println(&quot;Failed to save state with TTL. Error: &quot; + response.body());\r\n            }\r\n        }\r\n    \r\n        // YourStateObject represents the structure of your state\r\n        static class YourStateObject {\r\n            private String someProperty;\r\n    \r\n            public String getSomeProperty() {\r\n                return someProperty;\r\n            }\r\n    \r\n            public void setSomeProperty(String someProperty) {\r\n                this.someProperty = someProperty;\r\n            }\r\n        }\r\n    \r\n        // YourJsonSerializer represents your JSON serialization logic\r\n        static class YourJsonSerializer {\r\n            public static String serialize(Object obj) {\r\n                // Implement your JSON serialization logic here\r\n                return &quot;&quot;;\r\n            }\r\n        }\r\n    }","title":"Cannot set TTl in a dapr state via Java SDK","body":"<p>You need to try something like the above:</p>\n<pre><code>import java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\n\npublic class DaprStateTTLExample {\n    private static final String DAPR_SIDECAR_HTTP_PORT = &quot;3500&quot;;\n    private static final String STATE_STORE_NAME = &quot;your-state-store-name&quot;;\n    private static final String KEY = &quot;your-state-key&quot;;\n    private static final String BASE_URL = &quot;http://localhost:&quot; + DAPR_SIDECAR_HTTP_PORT + &quot;/v1.0/state/&quot;;\n\n    public static void main(String[] args) throws Exception {\n        // Set the TTL to 60 seconds (adjust as needed)\n        int ttlInSeconds = 60;\n\n        // Create the state object\n        YourStateObject state = new YourStateObject();\n        state.setSomeProperty(&quot;some value&quot;);\n\n        // Convert the state object to JSON\n        String stateJson = YourJsonSerializer.serialize(state);\n\n        // Create the HTTP client\n        HttpClient httpClient = HttpClient.newHttpClient();\n\n        // Build the request\n        String url = BASE_URL + STATE_STORE_NAME;\n        String payload = String.format(&quot;[{\\&quot;key\\&quot;: \\&quot;%s\\&quot;, \\&quot;value\\&quot;: %s, \\&quot;options\\&quot;: {\\&quot;ttlInSeconds\\&quot;: %d}}]&quot;, KEY, stateJson, ttlInSeconds);\n        HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(url))\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .POST(HttpRequest.BodyPublishers.ofString(payload))\n                .build();\n\n        // Send the request\n        HttpResponse&lt;String&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\n\n        // Check the response\n        if (response.statusCode() == 200) {\n            System.out.println(&quot;State saved successfully with TTL&quot;);\n        } else {\n            System.out.println(&quot;Failed to save state with TTL. Error: &quot; + response.body());\n        }\n    }\n\n    // YourStateObject represents the structure of your state\n    static class YourStateObject {\n        private String someProperty;\n\n        public String getSomeProperty() {\n            return someProperty;\n        }\n\n        public void setSomeProperty(String someProperty) {\n            this.someProperty = someProperty;\n        }\n    }\n\n    // YourJsonSerializer represents your JSON serialization logic\n    static class YourJsonSerializer {\n        public static String serialize(Object obj) {\n            // Implement your JSON serialization logic here\n            return &quot;&quot;;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13330056,"reputation":105,"user_id":10281042,"display_name":"lone wolf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689250513,"creation_date":1686811823,"question_id":76479833,"body_markdown":"Is there any way to set the ttl for a state in dapr for Java SDK? \r\n\r\nThe `DaprClient.save()` method does not accept a state object. I could not even find a way to set the TTl through `StateOptions` class.\r\n\r\nCan anyone help me with this?","title":"Cannot set TTl in a dapr state via Java SDK","body":"<p>Is there any way to set the ttl for a state in dapr for Java SDK?</p>\n<p>The <code>DaprClient.save()</code> method does not accept a state object. I could not even find a way to set the TTl through <code>StateOptions</code> class.</p>\n<p>Can anyone help me with this?</p>\n"},{"tags":["java","if-statement","conditional-statements","talend"],"answers":[{"tags":[],"owner":{"account_id":25273694,"reputation":35,"user_id":19102680,"display_name":"Onyx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689250336,"creation_date":1689250336,"answer_id":76679242,"question_id":76678922,"body_markdown":"Never mind, for the moment i will do something else... I can do what i want by doing an other if statement after it, for example : \r\n\r\n```\r\nif (&quot;D45&quot;.equals(input_row.Code_direction)) {\r\n    output_row.Saisie_manuelle_O_pour_Oui_sinon_rien = &quot;O&quot;;\r\n}\r\n\r\nif (&quot;CHEF DE SERVICE&quot;.equals(input_row.Fonction_libelle) || &quot;CHEF DE SERVICE ADJOINT&quot;.equals(input_row.Fonction_libelle)) {\r\n    output_row.Saisie_manuelle_O_pour_Oui_sinon_rien = &quot;&quot;;\r\n}\r\n```\r\n\r\nThis is not very clean but it&#39;s working ! I&#39;ll continue like this for the moment.","title":"Talend, If Statement with subconditions","body":"<p>Never mind, for the moment i will do something else... I can do what i want by doing an other if statement after it, for example :</p>\n<pre><code>if (&quot;D45&quot;.equals(input_row.Code_direction)) {\n    output_row.Saisie_manuelle_O_pour_Oui_sinon_rien = &quot;O&quot;;\n}\n\nif (&quot;CHEF DE SERVICE&quot;.equals(input_row.Fonction_libelle) || &quot;CHEF DE SERVICE ADJOINT&quot;.equals(input_row.Fonction_libelle)) {\n    output_row.Saisie_manuelle_O_pour_Oui_sinon_rien = &quot;&quot;;\n}\n</code></pre>\n<p>This is not very clean but it's working ! I'll continue like this for the moment.</p>\n"}],"owner":{"account_id":25273694,"reputation":35,"user_id":19102680,"display_name":"Onyx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76679242,"answer_count":1,"score":0,"last_activity_date":1689250336,"creation_date":1689248077,"question_id":76678922,"body_markdown":"I&#39;m working on a Talend job where i need to insert informations in a column depending of informations to another column. For example, the target here is to insert &quot;O&quot; into &quot;Saisie_manuelle_O_pour_Oui_sinon_rien&quot; if &quot;Code_direction&quot; equals &quot;D45&quot; and &quot;Fonction_libelle&quot; not equals CHEF DE SERVICE or &quot;Fonction_Libelle&quot; not equals CHEF DE SERVICE ADJOINT. \r\n\r\nFor the moment i tried this : \r\n\r\n```\r\nif (&quot;D45&quot;.equals(input_row.Code_direction) &amp;&amp; (!(&quot;CHEF DE SERVICE&quot;.equals(input_row.Fonction_libelle) &amp;&amp; !&quot;CHEF DE SERVICE ADJOINT&quot;.equals(input_row.Fonction_libelle))) {\r\n    output_row.Saisie_manuelle_O_pour_Oui_sinon_rien = &quot;O&quot;;}\r\n```\r\n\r\nIt work but not 100%. It put &quot;O&quot; everywhere where &quot;Code_direction&quot; = &quot;D45&quot; even if Fonction_libelle not equal CHEF DE SERVICE OR CHEF DE SERVICE ADJOINT...\r\n\r\nI think i did something wrong but i&#39;m not able to see what...\r\n\r\nAny help will be very appreciated ! \r\n","title":"Talend, If Statement with subconditions","body":"<p>I'm working on a Talend job where i need to insert informations in a column depending of informations to another column. For example, the target here is to insert &quot;O&quot; into &quot;Saisie_manuelle_O_pour_Oui_sinon_rien&quot; if &quot;Code_direction&quot; equals &quot;D45&quot; and &quot;Fonction_libelle&quot; not equals CHEF DE SERVICE or &quot;Fonction_Libelle&quot; not equals CHEF DE SERVICE ADJOINT.</p>\n<p>For the moment i tried this :</p>\n<pre><code>if (&quot;D45&quot;.equals(input_row.Code_direction) &amp;&amp; (!(&quot;CHEF DE SERVICE&quot;.equals(input_row.Fonction_libelle) &amp;&amp; !&quot;CHEF DE SERVICE ADJOINT&quot;.equals(input_row.Fonction_libelle))) {\n    output_row.Saisie_manuelle_O_pour_Oui_sinon_rien = &quot;O&quot;;}\n</code></pre>\n<p>It work but not 100%. It put &quot;O&quot; everywhere where &quot;Code_direction&quot; = &quot;D45&quot; even if Fonction_libelle not equal CHEF DE SERVICE OR CHEF DE SERVICE ADJOINT...</p>\n<p>I think i did something wrong but i'm not able to see what...</p>\n<p>Any help will be very appreciated !</p>\n"},{"tags":["java","android","android-intent","capacitor","google-pay"],"comments":[{"owner":{"account_id":5107195,"reputation":602,"user_id":4094935,"accept_rate":50,"display_name":"Richard Shergold"},"score":0,"creation_date":1689251209,"post_id":76679204,"comment_id":135188691,"body_markdown":"I got it working - I had to change the code to PaymentData paymentData = PaymentData.getFromIntent(data);\n                String token = paymentData.toJson();\n                    JSObject result = new JSObject();\n                    result.put(&quot;paymentToken&quot;, token);","body":"I got it working - I had to change the code to PaymentData paymentData = PaymentData.getFromIntent(data);                 String token = paymentData.toJson();                     JSObject result = new JSObject();                     result.put(&quot;paymentToken&quot;, token);"}],"owner":{"account_id":5107195,"reputation":602,"user_id":4094935,"accept_rate":50,"display_name":"Richard Shergold"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689250070,"creation_date":1689250070,"question_id":76679204,"body_markdown":"I&#39;m writing my first custom Capacitor plugin for my Ionic app - the plugin needs to present the user with a GooglePay screen where they will select their payment card, the plugin needs to then return to the Ionic app with the payment data.  I have almost got this working but I&#39;m struggling with the final part - extracting the payment data from the intent.\r\n\r\nMy code is shown below.  When the handlePaymentActivityResult method runs I return the paymentData to my Ionic app as a JSObject with a key of &quot;paymentToken&quot; but what I see when I then display it is:\r\n\r\n    {&quot;paymentToken&quot;;&quot;com.google.android.gms.wallet.PaymentData@1e64707&quot;}\r\n\r\nthis is obviously not correct - I would be expecting an encrypted paymentToken amongst other things.  What am I doing wrong?  (I&#39;m not a Java or native Android developer - that might be obvious!)\r\n\r\n    @PluginMethod\r\n        public void requestPayment(PluginCall call) {\r\n            currentCall = call;\r\n    \r\n            if (activity == null) {\r\n                call.reject(&quot;Activity is null&quot;);\r\n                return;\r\n            }\r\n    \r\n            String paymentDataRequestJsonString = &quot;&quot;&quot;\r\n                    {\r\n                        &quot;apiVersion&quot;: 2,\r\n                        &quot;apiVersionMinor&quot;: 0,\r\n                        &quot;allowedPaymentMethods&quot;: [\r\n                        {\r\n                            &quot;type&quot;: &quot;CARD&quot;,\r\n                            &quot;parameters&quot;: {\r\n                                &quot;allowedAuthMethods&quot;: [&quot;PAN_ONLY&quot;, &quot;CRYPTOGRAM_3DS&quot;],\r\n                                &quot;allowedCardNetworks&quot;: [&quot;VISA&quot;, &quot;MASTERCARD&quot;],\r\n                                &quot;billingAddressRequired&quot;: true,\r\n                                &quot;billingAddressParameters&quot;: {\r\n                                    &quot;format&quot;: &quot;FULL&quot;,\r\n                                    &quot;phoneNumberRequired&quot;: true\r\n                            }\r\n                    },\r\n                        &quot;tokenizationSpecification&quot;: {\r\n                            &quot;type&quot;: &quot;PAYMENT_GATEWAY&quot;,\r\n                                &quot;parameters&quot;: {\r\n                                    &quot;gateway&quot;: &quot;barclayssmartpayadvance&quot;,\r\n                                    &quot;gatewayMerchantId&quot;: &quot;xxxxxxxxxxxx&quot;\r\n                                }\r\n                            }\r\n                        }\r\n                    ],\r\n                    &quot;transactionInfo&quot;: {\r\n                    &quot;totalPrice&quot;: &quot;10.00&quot;,\r\n                    &quot;totalPriceStatus&quot;: &quot;FINAL&quot;,\r\n                     &quot;currencyCode&quot;: &quot;USD&quot;\r\n                },\r\n                &quot;merchantInfo&quot;: {\r\n                    &quot;merchantId&quot;: &quot;&quot;,\r\n                    &quot;merchantName&quot;: &quot;Example Merchant&quot;\r\n                }\r\n            }&quot;&quot;&quot;;\r\n    \r\n            try {\r\n                JSONObject paymentDataRequestJson = new JSONObject(paymentDataRequestJsonString);\r\n                PaymentDataRequest paymentDataRequest = PaymentDataRequest.fromJson(paymentDataRequestJson.toString());\r\n                AutoResolveHelper.resolveTask(\r\n                    paymentsClient.loadPaymentData(paymentDataRequest),\r\n                    activity,\r\n                    LOAD_PAYMENT_DATA_REQUEST_CODE\r\n            );\r\n                // Use the paymentDataRequest object as needed\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n                // Handle the JSON parsing error\r\n            }\r\n        }\r\n    \r\n        private PaymentsClient createPaymentsClient(Activity activity) {\r\n            Wallet.WalletOptions walletOptions = new Wallet.WalletOptions.Builder()\r\n                    .setEnvironment(WalletConstants.ENVIRONMENT_TEST)\r\n                    .build();\r\n    \r\n            return Wallet.getPaymentsClient(activity, walletOptions);\r\n        }\r\n    \r\n        public void handlePaymentActivityResult(int requestCode, int resultCode, Intent data) {\r\n    \r\n            if (requestCode == LOAD_PAYMENT_DATA_REQUEST_CODE) {\r\n                if (resultCode == Activity.RESULT_OK) {\r\n                    Log.d(&quot;handlePaymentActivity&quot;, &quot;PAYMENT&quot;);\r\n                    PaymentData paymentData = PaymentData.getFromIntent(data);\r\n    \r\n                        JSObject result = new JSObject();\r\n                        result.put(&quot;paymentToken&quot;, paymentData);\r\n    \r\n                        // Resolve the stored plugin call with the payment token\r\n                        if (currentCall != null) {\r\n                            currentCall.resolve(result);\r\n                            currentCall = null; // Reset the stored call\r\n                        }\r\n    \r\n                } else if (resultCode == Activity.RESULT_CANCELED) {\r\n                    Log.d(&quot;handlePaymentActivity&quot;, &quot;CANCELLED&quot;);\r\n                    // Reject the stored plugin call\r\n                    if (currentCall != null) {\r\n                        currentCall.reject(&quot;Payment canceled&quot;);\r\n                        currentCall = null; // Reset the stored call\r\n                    }\r\n                } else if (resultCode == AutoResolveHelper.RESULT_ERROR) {\r\n                    Log.d(&quot;handlePaymentActivity&quot;, &quot;ERROR&quot;);\r\n                    // An error occurred during the payment process\r\n                    Status status = AutoResolveHelper.getStatusFromIntent(data);\r\n                    String errorMessage = status != null ? status.getStatusMessage() : &quot;Unknown error occurred&quot;;\r\n    \r\n                    // Reject the stored plugin call with the error message\r\n                    if (currentCall != null) {\r\n                        currentCall.reject(&quot;Payment error: &quot; + errorMessage);\r\n                        currentCall = null; // Reset the stored call\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n","title":"Getting GooglePay Payment Data from intent","body":"<p>I'm writing my first custom Capacitor plugin for my Ionic app - the plugin needs to present the user with a GooglePay screen where they will select their payment card, the plugin needs to then return to the Ionic app with the payment data.  I have almost got this working but I'm struggling with the final part - extracting the payment data from the intent.</p>\n<p>My code is shown below.  When the handlePaymentActivityResult method runs I return the paymentData to my Ionic app as a JSObject with a key of &quot;paymentToken&quot; but what I see when I then display it is:</p>\n<pre><code>{&quot;paymentToken&quot;;&quot;com.google.android.gms.wallet.PaymentData@1e64707&quot;}\n</code></pre>\n<p>this is obviously not correct - I would be expecting an encrypted paymentToken amongst other things.  What am I doing wrong?  (I'm not a Java or native Android developer - that might be obvious!)</p>\n<pre><code>@PluginMethod\n    public void requestPayment(PluginCall call) {\n        currentCall = call;\n\n        if (activity == null) {\n            call.reject(&quot;Activity is null&quot;);\n            return;\n        }\n\n        String paymentDataRequestJsonString = &quot;&quot;&quot;\n                {\n                    &quot;apiVersion&quot;: 2,\n                    &quot;apiVersionMinor&quot;: 0,\n                    &quot;allowedPaymentMethods&quot;: [\n                    {\n                        &quot;type&quot;: &quot;CARD&quot;,\n                        &quot;parameters&quot;: {\n                            &quot;allowedAuthMethods&quot;: [&quot;PAN_ONLY&quot;, &quot;CRYPTOGRAM_3DS&quot;],\n                            &quot;allowedCardNetworks&quot;: [&quot;VISA&quot;, &quot;MASTERCARD&quot;],\n                            &quot;billingAddressRequired&quot;: true,\n                            &quot;billingAddressParameters&quot;: {\n                                &quot;format&quot;: &quot;FULL&quot;,\n                                &quot;phoneNumberRequired&quot;: true\n                        }\n                },\n                    &quot;tokenizationSpecification&quot;: {\n                        &quot;type&quot;: &quot;PAYMENT_GATEWAY&quot;,\n                            &quot;parameters&quot;: {\n                                &quot;gateway&quot;: &quot;barclayssmartpayadvance&quot;,\n                                &quot;gatewayMerchantId&quot;: &quot;xxxxxxxxxxxx&quot;\n                            }\n                        }\n                    }\n                ],\n                &quot;transactionInfo&quot;: {\n                &quot;totalPrice&quot;: &quot;10.00&quot;,\n                &quot;totalPriceStatus&quot;: &quot;FINAL&quot;,\n                 &quot;currencyCode&quot;: &quot;USD&quot;\n            },\n            &quot;merchantInfo&quot;: {\n                &quot;merchantId&quot;: &quot;&quot;,\n                &quot;merchantName&quot;: &quot;Example Merchant&quot;\n            }\n        }&quot;&quot;&quot;;\n\n        try {\n            JSONObject paymentDataRequestJson = new JSONObject(paymentDataRequestJsonString);\n            PaymentDataRequest paymentDataRequest = PaymentDataRequest.fromJson(paymentDataRequestJson.toString());\n            AutoResolveHelper.resolveTask(\n                paymentsClient.loadPaymentData(paymentDataRequest),\n                activity,\n                LOAD_PAYMENT_DATA_REQUEST_CODE\n        );\n            // Use the paymentDataRequest object as needed\n        } catch (JSONException e) {\n            e.printStackTrace();\n            // Handle the JSON parsing error\n        }\n    }\n\n    private PaymentsClient createPaymentsClient(Activity activity) {\n        Wallet.WalletOptions walletOptions = new Wallet.WalletOptions.Builder()\n                .setEnvironment(WalletConstants.ENVIRONMENT_TEST)\n                .build();\n\n        return Wallet.getPaymentsClient(activity, walletOptions);\n    }\n\n    public void handlePaymentActivityResult(int requestCode, int resultCode, Intent data) {\n\n        if (requestCode == LOAD_PAYMENT_DATA_REQUEST_CODE) {\n            if (resultCode == Activity.RESULT_OK) {\n                Log.d(&quot;handlePaymentActivity&quot;, &quot;PAYMENT&quot;);\n                PaymentData paymentData = PaymentData.getFromIntent(data);\n\n                    JSObject result = new JSObject();\n                    result.put(&quot;paymentToken&quot;, paymentData);\n\n                    // Resolve the stored plugin call with the payment token\n                    if (currentCall != null) {\n                        currentCall.resolve(result);\n                        currentCall = null; // Reset the stored call\n                    }\n\n            } else if (resultCode == Activity.RESULT_CANCELED) {\n                Log.d(&quot;handlePaymentActivity&quot;, &quot;CANCELLED&quot;);\n                // Reject the stored plugin call\n                if (currentCall != null) {\n                    currentCall.reject(&quot;Payment canceled&quot;);\n                    currentCall = null; // Reset the stored call\n                }\n            } else if (resultCode == AutoResolveHelper.RESULT_ERROR) {\n                Log.d(&quot;handlePaymentActivity&quot;, &quot;ERROR&quot;);\n                // An error occurred during the payment process\n                Status status = AutoResolveHelper.getStatusFromIntent(data);\n                String errorMessage = status != null ? status.getStatusMessage() : &quot;Unknown error occurred&quot;;\n\n                // Reject the stored plugin call with the error message\n                if (currentCall != null) {\n                    currentCall.reject(&quot;Payment error: &quot; + errorMessage);\n                    currentCall = null; // Reset the stored call\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","amazon-sqs","quarkus"],"owner":{"account_id":17363929,"reputation":51,"user_id":19168643,"display_name":"Зарицкий Алексей"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689249953,"creation_date":1689249953,"question_id":76679190,"body_markdown":"For Quarkus there is an extension for AMAZON SQS: https://quarkus.io/extensions/io.quarkiverse.amazonservices/quarkus-amazon-sqs. I followed documentation guide to configure producer and consumer of messages (https://docs.quarkiverse.io/quarkus-amazon-services/dev/amazon-sqs.html). But in that example, consumption of message is triggered by GET method:\r\n\r\n```\r\n@GET\r\n    public List&lt;Quark&gt; receive() {\r\n        List&lt;Message&gt; messages = sqs.receiveMessage(m -&gt; m.maxNumberOfMessages(10).queueUrl(queueUrl)).messages();\r\n\r\n        return messages.stream()\r\n                .map(Message::body)\r\n                .map(this::toQuark)\r\n                .collect(Collectors.toList());\r\n    }\r\n```\r\n\r\nIs there any way to make this extension to trigger message read as soon as it comes to the consumer (like in other message brokers e.g. RabbitMQ)? Spring has annotation @SqsListener, but quarkus unfortunately lacks it. I understand that I can use loop to check, but it is very bad for performance. \r\nThank you in advance for any suggestions\r\n\r\n\r\nAlso I know that there is a library for AMAZON SQS on pure java (https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/getting-started.html) which seems to have such capability, but it is too low-level and I&#39;d prefer to avoid using it. ","title":"Quarkus Amazon SQS client with message listener","body":"<p>For Quarkus there is an extension for AMAZON SQS: <a href=\"https://quarkus.io/extensions/io.quarkiverse.amazonservices/quarkus-amazon-sqs\" rel=\"nofollow noreferrer\">https://quarkus.io/extensions/io.quarkiverse.amazonservices/quarkus-amazon-sqs</a>. I followed documentation guide to configure producer and consumer of messages (<a href=\"https://docs.quarkiverse.io/quarkus-amazon-services/dev/amazon-sqs.html\" rel=\"nofollow noreferrer\">https://docs.quarkiverse.io/quarkus-amazon-services/dev/amazon-sqs.html</a>). But in that example, consumption of message is triggered by GET method:</p>\n<pre><code>@GET\n    public List&lt;Quark&gt; receive() {\n        List&lt;Message&gt; messages = sqs.receiveMessage(m -&gt; m.maxNumberOfMessages(10).queueUrl(queueUrl)).messages();\n\n        return messages.stream()\n                .map(Message::body)\n                .map(this::toQuark)\n                .collect(Collectors.toList());\n    }\n</code></pre>\n<p>Is there any way to make this extension to trigger message read as soon as it comes to the consumer (like in other message brokers e.g. RabbitMQ)? Spring has annotation @SqsListener, but quarkus unfortunately lacks it. I understand that I can use loop to check, but it is very bad for performance.\nThank you in advance for any suggestions</p>\n<p>Also I know that there is a library for AMAZON SQS on pure java (<a href=\"https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/getting-started.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/getting-started.html</a>) which seems to have such capability, but it is too low-level and I'd prefer to avoid using it.</p>\n"},{"tags":["java","csv","txt","export-to-text"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":7,"creation_date":1689249388,"post_id":76679076,"comment_id":135188353,"body_markdown":"so many possibilities.... maybe you should include a [mre] in the question - otherwise expect only more or less wild guesses (e.g. forgetting to close or/and flush the file)","body":"so many possibilities.... maybe you should include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the question - otherwise expect only more or less wild guesses (e.g. forgetting to close or/and flush the file)"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":4,"creation_date":1689249708,"post_id":76679076,"comment_id":135188412,"body_markdown":"We need to see the code, otherwise we could just guess what the problem is…","body":"We need to see the code, otherwise we could just guess what the problem is…"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1689257686,"post_id":76679076,"comment_id":135190433,"body_markdown":"Just a guess: If the program suddenly stops running before it is supposed to, there should be some sort of error message. There is mistake I often see in code posted on Stack Overflow: The programmer has code to `catch` an exception, but the interior of the catch block has no code. In other words, the exception is ignored. If you have catch blocks that ignore the exception, try changing them to do something with the exception. Doing this might be a good lesson in debugging.","body":"Just a guess: If the program suddenly stops running before it is supposed to, there should be some sort of error message. There is mistake I often see in code posted on Stack Overflow: The programmer has code to <code>catch</code> an exception, but the interior of the catch block has no code. In other words, the exception is ignored. If you have catch blocks that ignore the exception, try changing them to do something with the exception. Doing this might be a good lesson in debugging."}],"answers":[{"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1689355129,"post_id":76679148,"comment_id":135206898,"body_markdown":"Even though the O/P accepted this answer, in my opinion, this answer falls short. It does not this explain why the O/P&#39;s code processes 90% of the input, and stops abruptly. As they currently stand, both the question and this answer deserve down votes.","body":"Even though the O/P accepted this answer, in my opinion, this answer falls short. It does not this explain why the O/P&#39;s code processes 90% of the input, and stops abruptly. As they currently stand, both the question and this answer deserve down votes."}],"tags":[],"owner":{"account_id":6466355,"reputation":488,"user_id":5008145,"display_name":"NorthernSky"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1689249700,"creation_date":1689249700,"answer_id":76679148,"question_id":76679076,"body_markdown":"One possible reason is that you are not closing your FileWriter after use.\r\nInstead of this structure:\r\n\r\n        var fileWriter = new FileWriter(&quot;filename.txt&quot;);\r\n        // use fileWriter here\r\n\r\nTry doing it like this:\r\n\r\n        try (var fileWriter = new FileWriter(&quot;filename.txt&quot;)) {\r\n            // use fileWriter here\r\n        }\r\n\r\nThe try-with-resources statement will then automatically close your writer.","title":"Java program is not printing to the end","body":"<p>One possible reason is that you are not closing your FileWriter after use.\nInstead of this structure:</p>\n<pre><code>    var fileWriter = new FileWriter(&quot;filename.txt&quot;);\n    // use fileWriter here\n</code></pre>\n<p>Try doing it like this:</p>\n<pre><code>    try (var fileWriter = new FileWriter(&quot;filename.txt&quot;)) {\n        // use fileWriter here\n    }\n</code></pre>\n<p>The try-with-resources statement will then automatically close your writer.</p>\n"}],"owner":{"account_id":29009765,"reputation":11,"user_id":22221491,"display_name":"Paweł Piotrowski"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1689249702,"accepted_answer_id":76679148,"answer_count":1,"score":-1,"last_activity_date":1689249700,"creation_date":1689249155,"question_id":76679076,"body_markdown":"Hi I have an issue with my simple app. It is printing from csv file some text to the txt file it is working well, but not to the end, It stops at like 90% and ends. It doesn&#39;t matter how many rows are in the csv file it stops like in half of model and ends\r\n\r\nI was increasing and decrasing number of rows, tried to print models in console and it worked, i am using Filewrtitter ","title":"Java program is not printing to the end","body":"<p>Hi I have an issue with my simple app. It is printing from csv file some text to the txt file it is working well, but not to the end, It stops at like 90% and ends. It doesn't matter how many rows are in the csv file it stops like in half of model and ends</p>\n<p>I was increasing and decrasing number of rows, tried to print models in console and it worked, i am using Filewrtitter</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"score":3,"creation_date":1411934452,"post_id":26089026,"comment_id":40880870,"body_markdown":"What&#39;s the point of `out.close();` ?","body":"What&#39;s the point of <code>out.close();</code> ?"},{"owner":{"account_id":322000,"reputation":4993,"user_id":641159,"display_name":"C&#233;dric Couralet"},"score":0,"creation_date":1411934515,"post_id":26089026,"comment_id":40880893,"body_markdown":"what link did you use to the html page with the form? Did you try a direct link to your servlet?","body":"what link did you use to the html page with the form? Did you try a direct link to your servlet?"},{"owner":{"account_id":4702721,"reputation":13,"user_id":3805878,"display_name":"user3805878"},"score":0,"creation_date":1411937413,"post_id":26089026,"comment_id":40881812,"body_markdown":"Well I thought i did link to the servlet with form &#39;action=&quot;week01_03servlet&quot;&#39;","body":"Well I thought i did link to the servlet with form &#39;action=&quot;week01_03servlet&quot;&#39;"},{"owner":{"account_id":3148532,"reputation":8619,"user_id":2662489,"accept_rate":88,"display_name":"developerwjk"},"score":0,"creation_date":1412032644,"post_id":26089026,"comment_id":40919575,"body_markdown":"You have a try with no catch...you need to catch the error and print to a log or something so you&#39;ll know what&#39;s going on....in fact, does a try with no catch even actually compile?","body":"You have a try with no catch...you need to catch the error and print to a log or something so you&#39;ll know what&#39;s going on....in fact, does a try with no catch even actually compile?"}],"answers":[{"tags":[],"owner":{"account_id":5011623,"reputation":145,"user_id":4824857,"accept_rate":50,"display_name":"Philippe G."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486491852,"creation_date":1486491852,"answer_id":42097211,"question_id":26089026,"body_markdown":"The reason why this servlet does not works is because of the `out.close()` instruction that is at the begining of the `processRequest()` method. \r\n\r\n    System.out.println(&quot;Hello&quot;);\r\n    response.setContentType(&quot;text/html;charset=UTF-8&quot;);\r\n    PrintWriter out = response.getWriter();\r\n    String userString = request.getParameter(&quot;userString&quot;);\r\n    **out.close();**\r\n\r\nit prematurely closes the PrintWriter that is used to send a response to the client. So the client get only a reponse with a HTTP `header content-type: &quot;text/html;charset=UTF-8&quot;` but with a empty body.\r\n\r\n","title":"Java Servlet Blank Page After Button Submit","body":"<p>The reason why this servlet does not works is because of the <code>out.close()</code> instruction that is at the begining of the <code>processRequest()</code> method. </p>\n\n<pre><code>System.out.println(\"Hello\");\nresponse.setContentType(\"text/html;charset=UTF-8\");\nPrintWriter out = response.getWriter();\nString userString = request.getParameter(\"userString\");\n**out.close();**\n</code></pre>\n\n<p>it prematurely closes the PrintWriter that is used to send a response to the client. So the client get only a reponse with a HTTP <code>header content-type: \"text/html;charset=UTF-8\"</code> but with a empty body.</p>\n"},{"tags":[],"owner":{"account_id":8168334,"reputation":352,"user_id":6149791,"display_name":"Chunko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486492720,"creation_date":1486492720,"answer_id":42097445,"question_id":26089026,"body_markdown":"I agree with Philippe G, the issue is likely the premature out.close()\r\n\r\nYou&#39;ve printed a message to the console prior to that but may not ever see it. The output may not be gong where you expect due to logging configuration, and also System.out may be buffered and not be written out till some time later.\r\n\r\nYou should generally switch this kind of system.out.println to use System.err.println instead, and make sure the output is not going off somewhere to either a log file, or being discarded completely by the container","title":"Java Servlet Blank Page After Button Submit","body":"<p>I agree with Philippe G, the issue is likely the premature out.close()</p>\n\n<p>You've printed a message to the console prior to that but may not ever see it. The output may not be gong where you expect due to logging configuration, and also System.out may be buffered and not be written out till some time later.</p>\n\n<p>You should generally switch this kind of system.out.println to use System.err.println instead, and make sure the output is not going off somewhere to either a log file, or being discarded completely by the container</p>\n"},{"tags":[],"owner":{"account_id":15746518,"reputation":31,"user_id":11362260,"display_name":"B&#225;lint &#193;ts"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566061981,"creation_date":1566061981,"answer_id":57538374,"question_id":26089026,"body_markdown":"Use redirect in the end of the doPost.\r\n\r\n    response.sendRedirect(&quot;/yourpage&quot;);","title":"Java Servlet Blank Page After Button Submit","body":"<p>Use redirect in the end of the doPost.</p>\n\n<pre><code>response.sendRedirect(\"/yourpage\");\n</code></pre>\n"}],"owner":{"account_id":4702721,"reputation":13,"user_id":3805878,"display_name":"user3805878"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1959,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1689249341,"creation_date":1411934138,"question_id":26089026,"body_markdown":"I&#39;ve come to a brain lock with this basically, after the user clicks Submit it goes to a blank page it doesn&#39;t even get to the servlet. I put a `System.out.println` to test if it reaches the servlet but it doesn&#39;t.\r\nHere is the web.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;servlet03&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;servlets.Week01_03&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;servlet03&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/week01_03servlet&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n        &lt;session-config&gt;\r\n            &lt;session-timeout&gt;\r\n                30\r\n            &lt;/session-timeout&gt;\r\n        &lt;/session-config&gt;\r\n        &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n        &lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt;\r\n\r\nHere is the servlet\r\n\r\n    package servlets;\r\n    \r\n    import java.io.*;\r\n    import javax.servlet.*;\r\n    import javax.servlet.http.*;\r\n    \r\n    public class Week01_03 extends HttpServlet\r\n    {\r\n        protected void processRequest(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException\r\n        {\r\n            System.out.println(&quot;Hello&quot;);\r\n            response.setContentType(&quot;text/html;charset=UTF-8&quot;);\r\n            PrintWriter out = response.getWriter();\r\n            String userString = request.getParameter(&quot;userString&quot;);\r\n            out.close();\r\n    \r\n            char[] vowel = {&#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39;};\r\n            int[] count = {0, 0, 0, 0, 0};\r\n    \r\n            for (int i = 0; i &lt; userString.length(); i++)\r\n            {\r\n                switch (userString.charAt(i))\r\n                {\r\n                    case &#39;a&#39;:\r\n                    case &#39;A&#39;:\r\n                        count[0]++;\r\n                        break;\r\n                    case &#39;e&#39;:\r\n                    case &#39;E&#39;:\r\n                        count[1]++;\r\n                        break;\r\n                    case &#39;i&#39;:\r\n                    case &#39;I&#39;:\r\n                        count[2]++;\r\n                        break;\r\n                    case &#39;o&#39;:\r\n                    case &#39;O&#39;:\r\n                        count[3]++;\r\n                        break;\r\n                    case &#39;u&#39;:\r\n                    case &#39;U&#39;:\r\n                        count[4]++;\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n    \r\n            try\r\n            {\r\n                out.println(&quot;&lt;html&gt;&quot;);\r\n                out.println(&quot;&lt;head&gt;&quot;);\r\n                out.println(&quot;&lt;title&gt;Servlet Week01_03&lt;/title&gt;&quot;);\r\n                out.println(&quot;&lt;link rel=\\&quot;stylesheet\\&quot; type=\\&quot;text/css\\&quot; href=\\&quot;Week01_02.css\\&quot;&gt;&quot;);\r\n                out.println(&quot;&lt;/head&gt;&quot;);\r\n                out.println(&quot;&lt;body&gt;&quot;);\r\n                out.println(&quot;&lt;h1&gt;Servlet Week 01, Exercise 03&lt;/h1&gt;&quot;);\r\n                out.println(&quot;&lt;p class=\\&quot;inline\\&quot;&gt;You typed: &#39;&lt;pre class=\\&quot;inline\\&quot;&gt;&quot; +\r\n                            userString + &quot;&lt;/pre&gt;&#39;&lt;/p&gt;&quot;);\r\n                out.println(&quot;&lt;h3&gt;Vowel usage:&lt;/h3&gt;&quot;);\r\n                out.println(&quot;&lt;table&gt;&quot;);\r\n                for (int i = 0; i &lt; vowel.length; i++)\r\n                {\r\n                    out.println(&quot;&lt;tr&quot; + (i%2==0 ? &quot; class=\\&quot;shaded\\&quot;&quot; : &quot;&quot;) + &quot;&gt;&quot; +\r\n                                &quot;&lt;td&gt;&#39;&quot; + vowel[i] +\r\n                                &quot;&#39;&lt;/td&gt;&lt;td&gt;&quot; + count[i] +\r\n                                &quot;&lt;/td&gt;&lt;/tr&gt;&quot;);\r\n                }\r\n    \r\n                out.println(&quot;&lt;/table&gt;&quot;);\r\n                out.println(&quot;&lt;/body&gt;&quot;);\r\n                out.println(&quot;&lt;/html&gt;&quot;);\r\n            }\r\n            finally\r\n            {\r\n                out.close();\r\n            }\r\n        }\r\n    \r\n        // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;HttpServlet methods. Click on the + sign on the left to edit the code.&quot;&gt;\r\n        /** \r\n         * Handles the HTTP &lt;code&gt;GET&lt;/code&gt; method.\r\n         * @param request servlet request\r\n         * @param response servlet response\r\n         * @throws javax.servlet.ServletException\r\n         * @throws java.io.IOException\r\n         */\r\n        @Override\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException\r\n        {\r\n            processRequest(request, response);\r\n        }\r\n    \r\n        /** \r\n         * Handles the HTTP &lt;code&gt;POST&lt;/code&gt; method.\r\n         * @param request servlet request\r\n         * @param response servlet response\r\n         * @throws javax.servlet.ServletException\r\n         * @throws java.io.IOException\r\n         */\r\n        @Override\r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException\r\n        {\r\n            processRequest(request, response);\r\n        }\r\n    \r\n        /** \r\n         * Returns a short description of the servlet.\r\n         */\r\n        public String getServletInfo()\r\n        {\r\n            return &quot;Short description&quot;;\r\n        }// &lt;/editor-fold&gt;\r\n    }\r\n\r\nHere is the html\r\n\r\n    &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;Week 01, Exercise 03&lt;/title&gt;\r\n            &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;Week01_03.css&quot;&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;h1&gt;Week 01, Exercise 03&lt;/h1&gt;\r\n            &lt;form action=&quot;week01_03servlet&quot; method=&quot;post&quot;&gt;\r\n                &lt;p&gt;Type some text in the box:\r\n                &lt;input type=&quot;text&quot; name=&quot;userString&quot;&gt;&lt;/p&gt;\r\n                \r\n                &lt;p&gt;and then click the button, \r\n                    and I&#39;ll tell you the frequency of vowel usage:\r\n                &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;&lt;/p&gt;\r\n            &lt;/form&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n","title":"Java Servlet Blank Page After Button Submit","body":"<p>I've come to a brain lock with this basically, after the user clicks Submit it goes to a blank page it doesn't even get to the servlet. I put a <code>System.out.println</code> to test if it reaches the servlet but it doesn't.\nHere is the web.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;servlet03&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;servlets.Week01_03&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;servlet03&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/week01_03servlet&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;\n            30\n        &lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Here is the servlet</p>\n\n<pre><code>package servlets;\n\nimport java.io.*;\nimport javax.servlet.*;\nimport javax.servlet.http.*;\n\npublic class Week01_03 extends HttpServlet\n{\n    protected void processRequest(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException\n    {\n        System.out.println(\"Hello\");\n        response.setContentType(\"text/html;charset=UTF-8\");\n        PrintWriter out = response.getWriter();\n        String userString = request.getParameter(\"userString\");\n        out.close();\n\n        char[] vowel = {'a', 'e', 'i', 'o', 'u'};\n        int[] count = {0, 0, 0, 0, 0};\n\n        for (int i = 0; i &lt; userString.length(); i++)\n        {\n            switch (userString.charAt(i))\n            {\n                case 'a':\n                case 'A':\n                    count[0]++;\n                    break;\n                case 'e':\n                case 'E':\n                    count[1]++;\n                    break;\n                case 'i':\n                case 'I':\n                    count[2]++;\n                    break;\n                case 'o':\n                case 'O':\n                    count[3]++;\n                    break;\n                case 'u':\n                case 'U':\n                    count[4]++;\n                    break;\n                default:\n                    break;\n            }\n        }\n\n        try\n        {\n            out.println(\"&lt;html&gt;\");\n            out.println(\"&lt;head&gt;\");\n            out.println(\"&lt;title&gt;Servlet Week01_03&lt;/title&gt;\");\n            out.println(\"&lt;link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"Week01_02.css\\\"&gt;\");\n            out.println(\"&lt;/head&gt;\");\n            out.println(\"&lt;body&gt;\");\n            out.println(\"&lt;h1&gt;Servlet Week 01, Exercise 03&lt;/h1&gt;\");\n            out.println(\"&lt;p class=\\\"inline\\\"&gt;You typed: '&lt;pre class=\\\"inline\\\"&gt;\" +\n                        userString + \"&lt;/pre&gt;'&lt;/p&gt;\");\n            out.println(\"&lt;h3&gt;Vowel usage:&lt;/h3&gt;\");\n            out.println(\"&lt;table&gt;\");\n            for (int i = 0; i &lt; vowel.length; i++)\n            {\n                out.println(\"&lt;tr\" + (i%2==0 ? \" class=\\\"shaded\\\"\" : \"\") + \"&gt;\" +\n                            \"&lt;td&gt;'\" + vowel[i] +\n                            \"'&lt;/td&gt;&lt;td&gt;\" + count[i] +\n                            \"&lt;/td&gt;&lt;/tr&gt;\");\n            }\n\n            out.println(\"&lt;/table&gt;\");\n            out.println(\"&lt;/body&gt;\");\n            out.println(\"&lt;/html&gt;\");\n        }\n        finally\n        {\n            out.close();\n        }\n    }\n\n    // &lt;editor-fold defaultstate=\"collapsed\" desc=\"HttpServlet methods. Click on the + sign on the left to edit the code.\"&gt;\n    /** \n     * Handles the HTTP &lt;code&gt;GET&lt;/code&gt; method.\n     * @param request servlet request\n     * @param response servlet response\n     * @throws javax.servlet.ServletException\n     * @throws java.io.IOException\n     */\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException\n    {\n        processRequest(request, response);\n    }\n\n    /** \n     * Handles the HTTP &lt;code&gt;POST&lt;/code&gt; method.\n     * @param request servlet request\n     * @param response servlet response\n     * @throws javax.servlet.ServletException\n     * @throws java.io.IOException\n     */\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException\n    {\n        processRequest(request, response);\n    }\n\n    /** \n     * Returns a short description of the servlet.\n     */\n    public String getServletInfo()\n    {\n        return \"Short description\";\n    }// &lt;/editor-fold&gt;\n}\n</code></pre>\n\n<p>Here is the html</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Week 01, Exercise 03&lt;/title&gt;\n        &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"Week01_03.css\"&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Week 01, Exercise 03&lt;/h1&gt;\n        &lt;form action=\"week01_03servlet\" method=\"post\"&gt;\n            &lt;p&gt;Type some text in the box:\n            &lt;input type=\"text\" name=\"userString\"&gt;&lt;/p&gt;\n\n            &lt;p&gt;and then click the button, \n                and I'll tell you the frequency of vowel usage:\n            &lt;input type=\"submit\" value=\"Submit\"&gt;&lt;/p&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","hibernate-spatial"],"answers":[{"comments":[{"owner":{"account_id":4711004,"reputation":343,"user_id":3811504,"accept_rate":56,"display_name":"Cerebres"},"score":0,"creation_date":1488458315,"post_id":41639081,"comment_id":72245747,"body_markdown":"Thank you for your answer. Unfortunatly this does not help. I think that the problem lies within org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor. I do not see an attribute for any geometry type within my generated models. Did I forget something in my plugin definition? I am using maven.","body":"Thank you for your answer. Unfortunatly this does not help. I think that the problem lies within org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor. I do not see an attribute for any geometry type within my generated models. Did I forget something in my plugin definition? I am using maven."},{"owner":{"account_id":4711004,"reputation":343,"user_id":3811504,"accept_rate":56,"display_name":"Cerebres"},"score":0,"creation_date":1488459363,"post_id":41639081,"comment_id":72246473,"body_markdown":"When I change my definition from Point to Geometry, it gets added to the metamodel, but the value stays null.","body":"When I change my definition from Point to Geometry, it gets added to the metamodel, but the value stays null."},{"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"score":0,"creation_date":1488460386,"post_id":41639081,"comment_id":72247127,"body_markdown":"@Cerebres BTW which version of spring-boot and hibernate you are using. I tested with spring-boot 2.0.0 snapshot and hibernate 5.2.5","body":"@Cerebres BTW which version of spring-boot and hibernate you are using. I tested with spring-boot 2.0.0 snapshot and hibernate 5.2.5"},{"owner":{"account_id":4711004,"reputation":343,"user_id":3811504,"accept_rate":56,"display_name":"Cerebres"},"score":0,"creation_date":1488461655,"post_id":41639081,"comment_id":72248023,"body_markdown":"I am using:\nSpring boot 1.4.0.RELEASE\nHibernate-spatial 5.2.2.Final","body":"I am using: Spring boot 1.4.0.RELEASE Hibernate-spatial 5.2.2.Final"},{"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"score":0,"creation_date":1488475515,"post_id":41639081,"comment_id":72258017,"body_markdown":"Ok, can you post the Dialect you are using?","body":"Ok, can you post the Dialect you are using?"},{"owner":{"account_id":4711004,"reputation":343,"user_id":3811504,"accept_rate":56,"display_name":"Cerebres"},"score":0,"creation_date":1488529502,"post_id":41639081,"comment_id":72280944,"body_markdown":"I&#39;m using spring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL5InnoDBSpatialDialect","body":"I&#39;m using spring.jpa.properties.hibernate.dialect=org.hibernate.spatia&zwnj;&#8203;l.dialect.mysql.MySQ&zwnj;&#8203;L5InnoDBSpatialDiale&zwnj;&#8203;ct"},{"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"score":1,"creation_date":1488536761,"post_id":41639081,"comment_id":72285618,"body_markdown":"Please use org.hibernate.spatial.dialect.mysql.MySQLSpatialDialect. it is the mostly the culprit. I previously used org.hibernate.spatia‌​l.dialect.mysql.MySQ‌​L56InnoDBSpatialDiale‌​ct, it was giving me error.","body":"Please use org.hibernate.spatial.dialect.mysql.MySQLSpatialDialect. it is the mostly the culprit. I previously used org.hibernate.spatia‌​l.dialect.mysql.MySQ‌​L56InnoDBSpatial&zwnj;&#8203;Diale‌​ct, it was giving me error."},{"owner":{"account_id":4711004,"reputation":343,"user_id":3811504,"accept_rate":56,"display_name":"Cerebres"},"score":0,"creation_date":1488541983,"post_id":41639081,"comment_id":72288898,"body_markdown":"Thank you for your assistance. Unfortunately changing the dialect is not really an option for me.","body":"Thank you for your assistance. Unfortunately changing the dialect is not really an option for me."},{"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"score":0,"creation_date":1488542758,"post_id":41639081,"comment_id":72289390,"body_markdown":"Hmm......... In that case you can use Point from org.geolatte.geom.Point as an alternative.","body":"Hmm......... In that case you can use Point from org.geolatte.geom.Point as an alternative."}],"tags":[],"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484324512,"creation_date":1484324512,"answer_id":41639081,"question_id":41424990,"body_markdown":"I tested same with Mysql Spatial and retrieving the data by applying query using Specifications. I could retrieve the spatial data. \r\n\r\nHere are the few Pointers you can try with.\r\n\r\n 1. Make sure you&#39;ve set the dialect which supports Spatial Query and types.\r\n\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL56InnoDBSpatialDialect\r\n\r\n 2. No need to define Column definition.\r\n   \r\n&lt;span/&gt;\r\n  Remove `columnDefinition=&quot;geometry(Point,4326)`\r\n\r\n\r\n","title":"Spring Java JPA: Using specification with hibernate spatial","body":"<p>I tested same with Mysql Spatial and retrieving the data by applying query using Specifications. I could retrieve the spatial data. </p>\n\n<p>Here are the few Pointers you can try with.</p>\n\n<ol>\n<li><p>Make sure you've set the dialect which supports Spatial Query and types.</p>\n\n<p>spring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL56InnoDBSpatialDialect</p></li>\n<li><p>No need to define Column definition.</p></li>\n</ol>\n\n<p>\n  Remove <code>columnDefinition=\"geometry(Point,4326)</code></p>\n"}],"owner":{"account_id":4711004,"reputation":343,"user_id":3811504,"accept_rate":56,"display_name":"Cerebres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1655,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689249320,"creation_date":1483352716,"question_id":41424990,"body_markdown":"I am using Spring Boot for a project I&#39;m working on using spatial data. For the spatial data I&#39;m using Hibernate Spatial. This is the configuration for my entity:\r\n\r\n    @Column(name=&quot;LOCATION&quot;,columnDefinition=&quot;geometry(Point,4326)&quot;)\r\n\tprivate Point location;\r\n\r\nWhere `Point` is of the class `com.vividsolutions.jts.geom.Point`. This also includes a getter and setter.\r\n\r\nWhen retrieving this entity with a normal `repository.findOne(&quot;id&quot;)` this also includes the location in my result, mapped to a Point. However, I need to have some dynamic query system later on in the system. So therefore I also query data with a class that inherits from `org.springframework.data.jpa.domain.Specification`. When using this specification, the location is always `null`. The SQL debug information shows me that the location is retrieved from the database, but for some reason, this is not mapped to my entity object.\r\n\r\nMy spring-boot version is 1.4.0.RELEASE. The data is coming from a mysql database.\r\n\r\nAny help to retrieve geometry data with the use of a `Specification` will be greatly appreciated.","title":"Spring Java JPA: Using specification with hibernate spatial","body":"<p>I am using Spring Boot for a project I'm working on using spatial data. For the spatial data I'm using Hibernate Spatial. This is the configuration for my entity:</p>\n\n<pre><code>@Column(name=\"LOCATION\",columnDefinition=\"geometry(Point,4326)\")\nprivate Point location;\n</code></pre>\n\n<p>Where <code>Point</code> is of the class <code>com.vividsolutions.jts.geom.Point</code>. This also includes a getter and setter.</p>\n\n<p>When retrieving this entity with a normal <code>repository.findOne(\"id\")</code> this also includes the location in my result, mapped to a Point. However, I need to have some dynamic query system later on in the system. So therefore I also query data with a class that inherits from <code>org.springframework.data.jpa.domain.Specification</code>. When using this specification, the location is always <code>null</code>. The SQL debug information shows me that the location is retrieved from the database, but for some reason, this is not mapped to my entity object.</p>\n\n<p>My spring-boot version is 1.4.0.RELEASE. The data is coming from a mysql database.</p>\n\n<p>Any help to retrieve geometry data with the use of a <code>Specification</code> will be greatly appreciated.</p>\n"},{"tags":["java","android","react-native","gradle"],"comments":[{"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"score":0,"creation_date":1689137426,"post_id":76663263,"comment_id":135168827,"body_markdown":"It would help a lot if your share your whole Gradle file in your question.","body":"It would help a lot if your share your whole Gradle file in your question."}],"answers":[{"tags":[],"owner":{"account_id":20706345,"reputation":169,"user_id":15204127,"display_name":"Manish Singh Chouhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689249292,"creation_date":1689249292,"answer_id":76679094,"question_id":76663263,"body_markdown":"You can achieve this by first navigating to : **&#39;android\\app\\src\\main** folder in your app and there create a folder named assets , so hence while bundling react native will create the index.android.bundle in **android\\app\\src\\main\\assets** folder.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OvRbO.png\r\n\r\nSometimes the folder is also present so you can **delete** this and can just create with the new folder name **assets**. \r\n\r\nHope this will help. ","title":"Got an error when build APK in android studio (Cannot invoke &quot;java.io.File.equals(Object)&quot; because &quot;current&quot; is null)","body":"<p>You can achieve this by first navigating to : <strong>'android\\app\\src\\main</strong> folder in your app and there create a folder named assets , so hence while bundling react native will create the index.android.bundle in <strong>android\\app\\src\\main\\assets</strong> folder.</p>\n<p><a href=\"https://i.stack.imgur.com/OvRbO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OvRbO.png\" alt=\"enter image description here\" /></a></p>\n<p>Sometimes the folder is also present so you can <strong>delete</strong> this and can just create with the new folder name <strong>assets</strong>.</p>\n<p>Hope this will help.</p>\n"}],"owner":{"account_id":17541756,"reputation":111,"user_id":12723803,"display_name":"HendyCrcs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689249292,"creation_date":1689087184,"question_id":76663263,"body_markdown":"When build APK through an Android Studio, i got an error said\r\n\r\n```\r\n&gt; Task :app:mergeReleaseAssets FAILED\r\nExecution failed for task &#39;:app:mergeReleaseAssets&#39;.\r\n&gt; Cannot invoke &quot;java.io.File.equals(Object)&quot; because &quot;current&quot; is null\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n&gt; Get more help at https://help.gradle.org.\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\nFor more on this, please refer to https://docs.gradle.org/8.2.1/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\r\nBUILD FAILED in 48s\r\n76 actionable tasks: 65 executed, 11 up-to-date\r\n\r\n```\r\n\r\n[![error build android][1]][1]\r\n\r\nmy project structure\r\n\r\n[![gradle][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1weAN.png\r\n  [2]: https://i.stack.imgur.com/BbPKR.png\r\n\r\nis there any wrong with my configuration, I&#39;m using React Native ver: \r\n```\r\n&quot;dependencies&quot;: {\r\n    &quot;react&quot;: &quot;18.2.0&quot;,\r\n    &quot;react-native&quot;: &quot;0.72.1&quot;,\r\n    &quot;react-native-webview&quot;: &quot;^11.23.0&quot;\r\n  },\r\n```","title":"Got an error when build APK in android studio (Cannot invoke &quot;java.io.File.equals(Object)&quot; because &quot;current&quot; is null)","body":"<p>When build APK through an Android Studio, i got an error said</p>\n<pre><code>&gt; Task :app:mergeReleaseAssets FAILED\nExecution failed for task ':app:mergeReleaseAssets'.\n&gt; Cannot invoke &quot;java.io.File.equals(Object)&quot; because &quot;current&quot; is null\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\nFor more on this, please refer to https://docs.gradle.org/8.2.1/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\nBUILD FAILED in 48s\n76 actionable tasks: 65 executed, 11 up-to-date\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1weAN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1weAN.png\" alt=\"error build android\" /></a></p>\n<p>my project structure</p>\n<p><a href=\"https://i.stack.imgur.com/BbPKR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BbPKR.png\" alt=\"gradle\" /></a></p>\n<p>is there any wrong with my configuration, I'm using React Native ver:</p>\n<pre><code>&quot;dependencies&quot;: {\n    &quot;react&quot;: &quot;18.2.0&quot;,\n    &quot;react-native&quot;: &quot;0.72.1&quot;,\n    &quot;react-native-webview&quot;: &quot;^11.23.0&quot;\n  },\n</code></pre>\n"},{"tags":["java","android","kotlin","mobile","retrofit2"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1689252064,"post_id":76679082,"comment_id":135188887,"body_markdown":"You [do not need to create a copy of the content to upload it](https://stackoverflow.com/questions/56308559/create-a-file-from-a-photo-uri-on-android?r=Saves_AllUserSaves).","body":"You <a href=\"https://stackoverflow.com/questions/56308559/create-a-file-from-a-photo-uri-on-android?r=Saves_AllUserSaves\">do not need to create a copy of the content to upload it</a>."}],"owner":{"account_id":29009818,"reputation":1,"user_id":22221540,"display_name":"Suhail Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689249182,"creation_date":1689249182,"question_id":76679082,"body_markdown":"I am making a project which involves getting images from camera/gallery and uploading them through retrofit.\r\n\r\nHere is the code for the AdCreateActivity\r\n\r\n\r\n```\r\npackage com.example.campusolx.activites\r\n\r\nimport AdapterImagePicked\r\nimport android.Manifest\r\nimport android.app.Activity\r\nimport android.app.ProgressDialog\r\nimport android.content.ContentValues\r\nimport android.content.Context\r\nimport android.content.Intent\r\nimport android.net.Uri\r\nimport android.os.Build\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.os.Environment\r\nimport android.provider.MediaStore\r\nimport android.util.Log\r\nimport android.view.Menu\r\nimport android.view.WindowManager\r\nimport android.widget.ImageView\r\nimport android.widget.PopupMenu\r\nimport android.widget.Toast\r\nimport androidx.activity.result.contract.ActivityResultContracts\r\nimport com.example.campusolx.RetrofitInstance\r\nimport com.example.campusolx.databinding.ActivityAdCreateBinding\r\nimport com.example.campusolx.dataclass.CreateProductRequest\r\nimport com.example.campusolx.dataclass.CreateProductResponse\r\nimport com.example.campusolx.dataclass.Image\r\nimport com.example.campusolx.dataclass.Product\r\nimport com.example.campusolx.dataclass.UploadProductImageResponse\r\nimport com.example.campusolx.interfaces.ProductApi\r\nimport com.example.campusolx.models.ModelImagePicked\r\nimport com.example.campusolx.utils.Utils\r\nimport retrofit2.Callback\r\nimport okhttp3.MediaType.Companion.toMediaTypeOrNull\r\nimport okhttp3.MultipartBody\r\nimport okhttp3.RequestBody\r\nimport okhttp3.RequestBody.Companion.asRequestBody\r\nimport okhttp3.RequestBody.Companion.toRequestBody\r\nimport retrofit2.Call\r\nimport retrofit2.Response\r\nimport java.io.Console\r\nimport java.io.File\r\nimport java.io.FileOutputStream\r\nimport java.io.IOException\r\nimport java.io.InputStream\r\n\r\nclass AdCreateActivity : AppCompatActivity() {\r\n\r\n    private lateinit var binding: ActivityAdCreateBinding\r\n    private lateinit var progressDialog: ProgressDialog\r\n    private lateinit var productApi: ProductApi\r\n    private var imageUri: Uri? = null\r\n    private lateinit var imagePickedArrayList: ArrayList&lt;ModelImagePicked&gt;\r\n    private lateinit var adapterImagePicked: AdapterImagePicked\r\n    private lateinit var accessToken: String\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityAdCreateBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        supportActionBar?.hide()\r\n\r\n        window.setFlags(\r\n            WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n            WindowManager.LayoutParams.FLAG_FULLSCREEN\r\n        )\r\n\r\n        binding.toolBarBackBtn.setOnClickListener {\r\n            onBackPressed()\r\n        }\r\n\r\n        progressDialog = ProgressDialog(this)\r\n        progressDialog.setTitle(&quot;Please Wait&quot;)\r\n        progressDialog.setCanceledOnTouchOutside(false)\r\n\r\n        val retrofit = RetrofitInstance.getRetrofitInstance()\r\n        productApi = retrofit.create(ProductApi::class.java)\r\n\r\n        val sharedPreference = getSharedPreferences(&quot;Account_Details&quot;, Context.MODE_PRIVATE)\r\n        accessToken = &quot;Bearer &quot; + sharedPreference.getString(&quot;accessToken&quot;, &quot;&quot;) ?: &quot;&quot;\r\n\r\n        binding.toolBarBackBtn.setOnClickListener {\r\n            onBackPressed()\r\n        }\r\n\r\n        imagePickedArrayList = ArrayList()\r\n        loadImages()\r\n\r\n        binding.addImage.setOnClickListener {\r\n            showImagePickOptions()\r\n        }\r\n\r\n        binding.postAdBtn.setOnClickListener {\r\n            uploadImages()\r\n        }\r\n    }\r\n\r\n    private fun loadImages() {\r\n        adapterImagePicked = AdapterImagePicked(this, imagePickedArrayList)\r\n\r\n        adapterImagePicked.setOnImageLoadedListener(object :\r\n            AdapterImagePicked.OnImageLoadedListener {\r\n            override fun onImageLoaded(imageUri: Uri, imageView: ImageView) {\r\n                // Handle the image loaded event here\r\n                // You can perform any necessary actions on the loaded image\r\n            }\r\n        })\r\n\r\n        binding.imagesRv.adapter = adapterImagePicked\r\n    }\r\n\r\n    private fun showImagePickOptions() {\r\n        val popupMenu = PopupMenu(this, binding.addImage)\r\n        popupMenu.menu.add(Menu.NONE, 1, 1, &quot;Camera&quot;)\r\n        popupMenu.menu.add(Menu.NONE, 2, 2, &quot;Gallery&quot;)\r\n        popupMenu.show()\r\n\r\n        popupMenu.setOnMenuItemClickListener { item -&gt;\r\n            when (item.itemId) {\r\n                1 -&gt; {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\r\n                        val cameraPermissions = arrayOf(Manifest.permission.CAMERA)\r\n                        requestCameraPermission.launch(cameraPermissions)\r\n                    } else {\r\n                        val cameraPermissions = arrayOf(\r\n                            Manifest.permission.CAMERA,\r\n                            Manifest.permission.WRITE_EXTERNAL_STORAGE\r\n                        )\r\n                        requestCameraPermission.launch(cameraPermissions)\r\n                    }\r\n                }\r\n                2 -&gt; {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\r\n                        pickImageGallery()\r\n                    } else {\r\n                        val storagePermission = Manifest.permission.WRITE_EXTERNAL_STORAGE\r\n                        requestStoragePermission.launch(storagePermission)\r\n                    }\r\n                }\r\n            }\r\n            true\r\n        }\r\n    }\r\n\r\n    private val requestStoragePermission =\r\n        registerForActivityResult(ActivityResultContracts.RequestPermission()) { isGranted -&gt;\r\n            if (isGranted) {\r\n                pickImageGallery()\r\n            } else {\r\n                Utils.toast(this, &quot;Storage Permission Denied&quot;)\r\n            }\r\n        }\r\n\r\n    private val requestCameraPermission =\r\n        registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) { result -&gt;\r\n            var areAllGranted = true\r\n            for (isGranted in result.values) {\r\n                areAllGranted = areAllGranted &amp;&amp; isGranted\r\n            }\r\n            if (areAllGranted) {\r\n                pickImageCamera()\r\n            } else {\r\n                Utils.toast(this, &quot;Camera or Storage Permissions Both Denied&quot;)\r\n            }\r\n        }\r\n\r\n    private fun pickImageGallery() {\r\n        val intent = Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI)\r\n        galleryActivityResultLauncher.launch(intent)\r\n    }\r\n\r\n    private fun pickImageCamera() {\r\n        val contentValues = ContentValues()\r\n        contentValues.put(MediaStore.Images.Media.TITLE, &quot;TEMP_IMAGE_TITLE&quot;)\r\n        contentValues.put(MediaStore.Images.Media.DESCRIPTION, &quot;TEMP_IMAGE_DESCRIPTION&quot;)\r\n        imageUri =\r\n            contentResolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues)\r\n        val intent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\r\n        intent.putExtra(MediaStore.EXTRA_OUTPUT, imageUri)\r\n        cameraActivityResultLauncher.launch(intent)\r\n    }\r\n\r\n    private val galleryActivityResultLauncher =\r\n        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result -&gt;\r\n            if (result.resultCode == Activity.RESULT_OK) {\r\n                val data = result.data\r\n                imageUri = data?.data\r\n                Log.d(&quot;AdCreateActivity&quot;, &quot;Gallery Image URI: $imageUri&quot;) // Log the gallery image URI\r\n                val timestamp = &quot;${Utils.getTimestamp()}&quot;\r\n                val modelImagePicked = ModelImagePicked(timestamp, imageUri, null, false)\r\n                imagePickedArrayList.add(modelImagePicked)\r\n                adapterImagePicked.notifyDataSetChanged()\r\n            } else {\r\n                Utils.toast(this, &quot;Cancelled..!&quot;)\r\n            }\r\n        }\r\n\r\n    private val cameraActivityResultLauncher =\r\n        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result -&gt;\r\n            if (result.resultCode == Activity.RESULT_OK) {\r\n                Log.d(&quot;AdCreateActivity&quot;, &quot;Camera Image URI: $imageUri&quot;) // Log the camera image URI\r\n                val timestamp = &quot;${Utils.getTimestamp()}&quot;\r\n                val modelImagePicked = ModelImagePicked(timestamp, imageUri, null, false)\r\n                imagePickedArrayList.add(modelImagePicked)\r\n                adapterImagePicked.notifyDataSetChanged()\r\n            } else {\r\n                Utils.toast(this, &quot;Cancelled!&quot;)\r\n            }\r\n        }\r\n\r\n\r\n\r\n    private fun validateData() {\r\n        val brand = binding.brandEt.text.toString().trim()\r\n        val category = binding.categoryAct.text.toString().trim()\r\n        val price = binding.priceEt.text.toString().trim()\r\n        val title = binding.titleEt.text.toString().trim()\r\n        val description = binding.descEt.text.toString().trim()\r\n\r\n        if (category.isEmpty()) {\r\n            binding.categoryAct.error = &quot;Choose Category&quot;\r\n            binding.categoryAct.requestFocus()\r\n        } else if (title.isEmpty()) {\r\n            binding.titleEt.error = &quot;Enter Title&quot;\r\n            binding.titleEt.requestFocus()\r\n        } else if (description.isEmpty()) {\r\n            binding.descEt.error = &quot;Enter Description&quot;\r\n            binding.descEt.requestFocus()\r\n        } else {\r\n            // Handle the validation logic here\r\n        }\r\n    }\r\n\r\n    private fun uploadImages() {\r\n        val imageParts = mutableListOf&lt;MultipartBody.Part&gt;()\r\n\r\n        for (modelImagePicked in imagePickedArrayList) {\r\n            val imageUri = modelImagePicked.imageUri\r\n            if (imageUri != null) {\r\n                contentResolver.openInputStream(imageUri)?.use { inputStream -&gt;\r\n                    val tempFile = createTempFile(this, &quot;temp_image&quot;, &quot;jpg&quot;)\r\n                    copyStreamToFile(inputStream, tempFile)\r\n\r\n                    val requestFile: RequestBody = tempFile.asRequestBody(&quot;image/*&quot;.toMediaTypeOrNull())\r\n                    val imagePart = MultipartBody.Part.createFormData(\r\n                        &quot;image&quot;,\r\n                        tempFile.name,\r\n                        requestFile\r\n                    )\r\n                    imageParts.add(imagePart)\r\n\r\n                    // Log image details\r\n                    Log.d(&quot;UploadImages&quot;, &quot;Image URI: $imageUri&quot;)\r\n                    Log.d(&quot;UploadImages&quot;, &quot;Image File Type: image/*&quot;)\r\n                    Log.d(&quot;UploadImages&quot;, &quot;Image File Size: ${tempFile.length() / 1024} KB&quot;)\r\n\r\n                    // Delete the temporary file\r\n                    tempFile.delete()\r\n                } ?: Log.e(&quot;UploadImages&quot;, &quot;Failed to open image input stream&quot;)\r\n            }\r\n        }\r\n\r\n        if (imageParts.isNotEmpty()) {\r\n            productApi.uploadProductImage(accessToken, imageParts)\r\n                .enqueue(object : Callback&lt;UploadProductImageResponse&gt; {\r\n                    override fun onResponse(\r\n                        call: Call&lt;UploadProductImageResponse&gt;,\r\n                        response: Response&lt;UploadProductImageResponse&gt;\r\n                    ) {\r\n                        if (response.isSuccessful) {\r\n                            val responseBody = response.body()\r\n                            if (responseBody != null) {\r\n                                val imageResponses = responseBody.images\r\n                                val uploadedImages = imageResponses.map { imageResponse -&gt;\r\n                                    Image(imageResponse.publicId, imageResponse.url)\r\n                                }\r\n                                if (uploadedImages.isNotEmpty()) {\r\n                                    // Handle the case of successful image upload\r\n                                    // You can perform further actions with the uploaded images\r\n                                    Log.d(&quot;W&quot;, &quot;Successful&quot;)\r\n\r\n                                } else {\r\n                                    Log.e(&quot;UploadImages&quot;, &quot;Failed to upload images&quot;)\r\n                                }\r\n                            } else {\r\n                                Log.e(&quot;UploadImages&quot;, &quot;Failed to parse response body&quot;)\r\n                            }\r\n                        } else {\r\n                            Log.e(\r\n                                &quot;UploadImages&quot;,\r\n                                &quot;Failed to upload images. Response code: ${response.code()}&quot;\r\n                            )\r\n                        }\r\n                    }\r\n\r\n                    override fun onFailure(call: Call&lt;UploadProductImageResponse&gt;, t: Throwable) {\r\n                        Log.e(&quot;UploadImages&quot;, &quot;Failed to upload images: ${t.message}&quot;)\r\n                    }\r\n                })\r\n        } else {\r\n            // Handle the case where no images were selected\r\n            Log.e(&quot;UploadImages&quot;, &quot;No images selected for upload&quot;)\r\n        }\r\n    }\r\n\r\n    @Throws(IOException::class)\r\n    private fun createTempFile(context: Context, fileName: String, extension: String): File {\r\n        val cacheDir = context.cacheDir\r\n        return File.createTempFile(fileName, &quot;.$extension&quot;, cacheDir)\r\n    }\r\n\r\n\r\n    private fun copyStreamToFile(inputStream: InputStream, outputFile: File) {\r\n        inputStream.use { input -&gt;\r\n            val outputStream = FileOutputStream(outputFile)\r\n            outputStream.use { output -&gt;\r\n                val buffer = ByteArray(4 * 1024) // buffer size\r\n                while (true) {\r\n                    val byteCount = input.read(buffer)\r\n                    if (byteCount &lt; 0) break\r\n                    output.write(buffer, 0, byteCount)\r\n                }\r\n                output.flush()\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n//    private fun postAd() {\r\n//        progressDialog.setMessage(&quot;Publishing Ad&quot;)\r\n//        progressDialog.show()\r\n//\r\n//        val adData = CreateProductRequest(\r\n//            name = title,\r\n//            description = description,\r\n//            category = category,\r\n//            prices = price.toInt(),\r\n//            images = emptyList()\r\n//        )\r\n//\r\n//        productApi.createProduct(accessToken = accessToken, request = adData).enqueue(object :\r\n//            Callback&lt;Product&gt; {\r\n//            override fun onResponse(call: Call&lt;Product&gt;, response: Response&lt;Product&gt;) {\r\n//                Utils.toast(this@AdCreateActivity, &quot;${accessToken}&quot;)\r\n//                progressDialog.dismiss()\r\n//                if (response.isSuccessful) {\r\n//                    // API request successful, process the response\r\n//                    val adId = response.body()?._id\r\n//                    if (adId != null) {\r\n//                        uploadImages(adId)\r\n//                    } else {\r\n//                        Utils.toast(this@AdCreateActivity, &quot;Failed to get Ad ID&quot;)\r\n//                    }\r\n//                } else {\r\n//                    // API request failed, handle the error\r\n//                    val errorBody = response.errorBody()?.string()\r\n//                    val errorMessage = if (errorBody.isNullOrEmpty()) {\r\n//                        response.message()\r\n//                    } else {\r\n//                        // Parse the error body to extract the specific error message\r\n//                        // Use appropriate JSON parsing library like Gson or Moshi\r\n//                        // Example: val errorResponse = Gson().fromJson(errorBody, ErrorResponse::class.java)\r\n//                        //         val errorMessage = errorResponse.message\r\n//                        // Replace ErrorResponse with your actual error response data class\r\n//                        &quot;Failed to post ad: $errorBody&quot;\r\n//                    }\r\n//                    Utils.toast(this@AdCreateActivity, errorMessage)\r\n//                }\r\n//            }\r\n//\r\n//            override fun onFailure(call: Call&lt;Product&gt;, t: Throwable) {\r\n//                progressDialog.dismiss()\r\n//                Utils.toast(this@AdCreateActivity, &quot;Failed to post ad: ${t.message}&quot;)\r\n//            }\r\n//        })\r\n//    }\r\n//\r\n//\r\n//\r\n//\r\n//    private fun uploadImages(adId: String) {\r\n//        val uploadedImages = mutableListOf&lt;String&gt;()\r\n//\r\n//        for (modelImagePicked in imagePickedArrayList) {\r\n//            val imageUri = modelImagePicked.imageUri\r\n//            if (imageUri != null) {\r\n//                val imageFile = File(imageUri.path)\r\n//                val requestBody = RequestBody.create(&quot;image/*&quot;.toMediaTypeOrNull(), imageFile)\r\n//                val imagePart =\r\n//                    MultipartBody.Part.createFormData(&quot;image&quot;, imageFile.name, requestBody)\r\n//\r\n//                // Log the upload image request\r\n//                Utils.toast(this@AdCreateActivity,&quot;Upload Image Request: adId=$adId, imageFile=${imageFile.name}&quot;)\r\n//\r\n//                productApi.uploadProductImage(accessToken, imagePart)\r\n//                    .enqueue(object : Callback&lt;UploadProductImageResponse&gt; {\r\n//                        override fun onResponse(\r\n//                            call: Call&lt;UploadProductImageResponse&gt;,\r\n//                            response: Response&lt;UploadProductImageResponse&gt;\r\n//                        ) {\r\n//                            if (response.isSuccessful) {\r\n//                                val uploadedImage = response.body()?.images?.get(0)\r\n//                                if (uploadedImage != null) {\r\n//                                    uploadedImages.add(uploadedImage.url)\r\n//\r\n//                                    if (uploadedImages.size == imagePickedArrayList.size) {\r\n//                                        val adData = CreateProductRequest(\r\n//                                            name = title,\r\n//                                            description = description,\r\n//                                            category = category,\r\n//                                            prices = price.toInt(),\r\n//                                            images = uploadedImages.map { url -&gt;\r\n//                                                Image(publicId = uploadedImage.publicId, url = url)\r\n//                                            }\r\n//                                        )\r\n//                                        updateAdWithImages(adId, adData)\r\n//                                    }\r\n//                                } else {\r\n//                                    Utils.toast(this@AdCreateActivity, &quot;Failed to upload images&quot;)\r\n//                                }\r\n//                            } else {\r\n//                                Utils.toast(this@AdCreateActivity, &quot;Failed to upload images&quot;)\r\n//                            }\r\n//                        }\r\n//\r\n//                        override fun onFailure(\r\n//                            call: Call&lt;UploadProductImageResponse&gt;,\r\n//                            t: Throwable\r\n//                        ) {\r\n//                            Utils.toast(\r\n//                                this@AdCreateActivity,\r\n//                                &quot;Failed to upload images: ${t.message}&quot;\r\n//                            )\r\n//                        }\r\n//                    })\r\n//            }\r\n//        }\r\n//    }\r\n\r\n\r\n//    private fun updateAdWithImages(adId: String, adData: CreateProductRequest) {\r\n//        productApi.updateProduct(accessToken = accessToken, id = adId, request = adData).enqueue(object : Callback&lt;Product&gt; {\r\n//            override fun onResponse(call: Call&lt;Product&gt;, response: Response&lt;Product&gt;) {\r\n//                progressDialog.dismiss()\r\n//                if (response.isSuccessful) {\r\n//                    Utils.toast(this@AdCreateActivity, &quot;Ad posted successfully&quot;)\r\n//                    onBackPressed()\r\n//                } else {\r\n//                    Utils.toast(this@AdCreateActivity, &quot;Failed to update ad with images&quot;)\r\n//                }\r\n//            }\r\n//\r\n//            override fun onFailure(call: Call&lt;Product&gt;, t: Throwable) {\r\n//                progressDialog.dismiss()\r\n//                Utils.toast(this@AdCreateActivity, &quot;Failed to update ad with images: ${t.message}&quot;)\r\n//            }\r\n//        })\r\n//}\r\n//    }\r\n\r\n\r\n\r\n  \r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\nThe error occurs when attempting to upload the images selected by the user. It seems that the file path or directory is not being found correctly. I have tried to debug the code, and the log messages show the correct image URI and file type. However, when creating a temporary file and copying the image data, the error is encountered.\r\n\r\nI would appreciate any insights or suggestions on how to resolve this issue. Thank you in advance!","title":"Error &quot;File path/directory not found&quot; when trying to upload images using Retrofit in my android application","body":"<p>I am making a project which involves getting images from camera/gallery and uploading them through retrofit.</p>\n<p>Here is the code for the AdCreateActivity</p>\n<pre><code>package com.example.campusolx.activites\n\nimport AdapterImagePicked\nimport android.Manifest\nimport android.app.Activity\nimport android.app.ProgressDialog\nimport android.content.ContentValues\nimport android.content.Context\nimport android.content.Intent\nimport android.net.Uri\nimport android.os.Build\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.os.Environment\nimport android.provider.MediaStore\nimport android.util.Log\nimport android.view.Menu\nimport android.view.WindowManager\nimport android.widget.ImageView\nimport android.widget.PopupMenu\nimport android.widget.Toast\nimport androidx.activity.result.contract.ActivityResultContracts\nimport com.example.campusolx.RetrofitInstance\nimport com.example.campusolx.databinding.ActivityAdCreateBinding\nimport com.example.campusolx.dataclass.CreateProductRequest\nimport com.example.campusolx.dataclass.CreateProductResponse\nimport com.example.campusolx.dataclass.Image\nimport com.example.campusolx.dataclass.Product\nimport com.example.campusolx.dataclass.UploadProductImageResponse\nimport com.example.campusolx.interfaces.ProductApi\nimport com.example.campusolx.models.ModelImagePicked\nimport com.example.campusolx.utils.Utils\nimport retrofit2.Callback\nimport okhttp3.MediaType.Companion.toMediaTypeOrNull\nimport okhttp3.MultipartBody\nimport okhttp3.RequestBody\nimport okhttp3.RequestBody.Companion.asRequestBody\nimport okhttp3.RequestBody.Companion.toRequestBody\nimport retrofit2.Call\nimport retrofit2.Response\nimport java.io.Console\nimport java.io.File\nimport java.io.FileOutputStream\nimport java.io.IOException\nimport java.io.InputStream\n\nclass AdCreateActivity : AppCompatActivity() {\n\n    private lateinit var binding: ActivityAdCreateBinding\n    private lateinit var progressDialog: ProgressDialog\n    private lateinit var productApi: ProductApi\n    private var imageUri: Uri? = null\n    private lateinit var imagePickedArrayList: ArrayList&lt;ModelImagePicked&gt;\n    private lateinit var adapterImagePicked: AdapterImagePicked\n    private lateinit var accessToken: String\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityAdCreateBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        supportActionBar?.hide()\n\n        window.setFlags(\n            WindowManager.LayoutParams.FLAG_FULLSCREEN,\n            WindowManager.LayoutParams.FLAG_FULLSCREEN\n        )\n\n        binding.toolBarBackBtn.setOnClickListener {\n            onBackPressed()\n        }\n\n        progressDialog = ProgressDialog(this)\n        progressDialog.setTitle(&quot;Please Wait&quot;)\n        progressDialog.setCanceledOnTouchOutside(false)\n\n        val retrofit = RetrofitInstance.getRetrofitInstance()\n        productApi = retrofit.create(ProductApi::class.java)\n\n        val sharedPreference = getSharedPreferences(&quot;Account_Details&quot;, Context.MODE_PRIVATE)\n        accessToken = &quot;Bearer &quot; + sharedPreference.getString(&quot;accessToken&quot;, &quot;&quot;) ?: &quot;&quot;\n\n        binding.toolBarBackBtn.setOnClickListener {\n            onBackPressed()\n        }\n\n        imagePickedArrayList = ArrayList()\n        loadImages()\n\n        binding.addImage.setOnClickListener {\n            showImagePickOptions()\n        }\n\n        binding.postAdBtn.setOnClickListener {\n            uploadImages()\n        }\n    }\n\n    private fun loadImages() {\n        adapterImagePicked = AdapterImagePicked(this, imagePickedArrayList)\n\n        adapterImagePicked.setOnImageLoadedListener(object :\n            AdapterImagePicked.OnImageLoadedListener {\n            override fun onImageLoaded(imageUri: Uri, imageView: ImageView) {\n                // Handle the image loaded event here\n                // You can perform any necessary actions on the loaded image\n            }\n        })\n\n        binding.imagesRv.adapter = adapterImagePicked\n    }\n\n    private fun showImagePickOptions() {\n        val popupMenu = PopupMenu(this, binding.addImage)\n        popupMenu.menu.add(Menu.NONE, 1, 1, &quot;Camera&quot;)\n        popupMenu.menu.add(Menu.NONE, 2, 2, &quot;Gallery&quot;)\n        popupMenu.show()\n\n        popupMenu.setOnMenuItemClickListener { item -&gt;\n            when (item.itemId) {\n                1 -&gt; {\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n                        val cameraPermissions = arrayOf(Manifest.permission.CAMERA)\n                        requestCameraPermission.launch(cameraPermissions)\n                    } else {\n                        val cameraPermissions = arrayOf(\n                            Manifest.permission.CAMERA,\n                            Manifest.permission.WRITE_EXTERNAL_STORAGE\n                        )\n                        requestCameraPermission.launch(cameraPermissions)\n                    }\n                }\n                2 -&gt; {\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n                        pickImageGallery()\n                    } else {\n                        val storagePermission = Manifest.permission.WRITE_EXTERNAL_STORAGE\n                        requestStoragePermission.launch(storagePermission)\n                    }\n                }\n            }\n            true\n        }\n    }\n\n    private val requestStoragePermission =\n        registerForActivityResult(ActivityResultContracts.RequestPermission()) { isGranted -&gt;\n            if (isGranted) {\n                pickImageGallery()\n            } else {\n                Utils.toast(this, &quot;Storage Permission Denied&quot;)\n            }\n        }\n\n    private val requestCameraPermission =\n        registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) { result -&gt;\n            var areAllGranted = true\n            for (isGranted in result.values) {\n                areAllGranted = areAllGranted &amp;&amp; isGranted\n            }\n            if (areAllGranted) {\n                pickImageCamera()\n            } else {\n                Utils.toast(this, &quot;Camera or Storage Permissions Both Denied&quot;)\n            }\n        }\n\n    private fun pickImageGallery() {\n        val intent = Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI)\n        galleryActivityResultLauncher.launch(intent)\n    }\n\n    private fun pickImageCamera() {\n        val contentValues = ContentValues()\n        contentValues.put(MediaStore.Images.Media.TITLE, &quot;TEMP_IMAGE_TITLE&quot;)\n        contentValues.put(MediaStore.Images.Media.DESCRIPTION, &quot;TEMP_IMAGE_DESCRIPTION&quot;)\n        imageUri =\n            contentResolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues)\n        val intent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n        intent.putExtra(MediaStore.EXTRA_OUTPUT, imageUri)\n        cameraActivityResultLauncher.launch(intent)\n    }\n\n    private val galleryActivityResultLauncher =\n        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result -&gt;\n            if (result.resultCode == Activity.RESULT_OK) {\n                val data = result.data\n                imageUri = data?.data\n                Log.d(&quot;AdCreateActivity&quot;, &quot;Gallery Image URI: $imageUri&quot;) // Log the gallery image URI\n                val timestamp = &quot;${Utils.getTimestamp()}&quot;\n                val modelImagePicked = ModelImagePicked(timestamp, imageUri, null, false)\n                imagePickedArrayList.add(modelImagePicked)\n                adapterImagePicked.notifyDataSetChanged()\n            } else {\n                Utils.toast(this, &quot;Cancelled..!&quot;)\n            }\n        }\n\n    private val cameraActivityResultLauncher =\n        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result -&gt;\n            if (result.resultCode == Activity.RESULT_OK) {\n                Log.d(&quot;AdCreateActivity&quot;, &quot;Camera Image URI: $imageUri&quot;) // Log the camera image URI\n                val timestamp = &quot;${Utils.getTimestamp()}&quot;\n                val modelImagePicked = ModelImagePicked(timestamp, imageUri, null, false)\n                imagePickedArrayList.add(modelImagePicked)\n                adapterImagePicked.notifyDataSetChanged()\n            } else {\n                Utils.toast(this, &quot;Cancelled!&quot;)\n            }\n        }\n\n\n\n    private fun validateData() {\n        val brand = binding.brandEt.text.toString().trim()\n        val category = binding.categoryAct.text.toString().trim()\n        val price = binding.priceEt.text.toString().trim()\n        val title = binding.titleEt.text.toString().trim()\n        val description = binding.descEt.text.toString().trim()\n\n        if (category.isEmpty()) {\n            binding.categoryAct.error = &quot;Choose Category&quot;\n            binding.categoryAct.requestFocus()\n        } else if (title.isEmpty()) {\n            binding.titleEt.error = &quot;Enter Title&quot;\n            binding.titleEt.requestFocus()\n        } else if (description.isEmpty()) {\n            binding.descEt.error = &quot;Enter Description&quot;\n            binding.descEt.requestFocus()\n        } else {\n            // Handle the validation logic here\n        }\n    }\n\n    private fun uploadImages() {\n        val imageParts = mutableListOf&lt;MultipartBody.Part&gt;()\n\n        for (modelImagePicked in imagePickedArrayList) {\n            val imageUri = modelImagePicked.imageUri\n            if (imageUri != null) {\n                contentResolver.openInputStream(imageUri)?.use { inputStream -&gt;\n                    val tempFile = createTempFile(this, &quot;temp_image&quot;, &quot;jpg&quot;)\n                    copyStreamToFile(inputStream, tempFile)\n\n                    val requestFile: RequestBody = tempFile.asRequestBody(&quot;image/*&quot;.toMediaTypeOrNull())\n                    val imagePart = MultipartBody.Part.createFormData(\n                        &quot;image&quot;,\n                        tempFile.name,\n                        requestFile\n                    )\n                    imageParts.add(imagePart)\n\n                    // Log image details\n                    Log.d(&quot;UploadImages&quot;, &quot;Image URI: $imageUri&quot;)\n                    Log.d(&quot;UploadImages&quot;, &quot;Image File Type: image/*&quot;)\n                    Log.d(&quot;UploadImages&quot;, &quot;Image File Size: ${tempFile.length() / 1024} KB&quot;)\n\n                    // Delete the temporary file\n                    tempFile.delete()\n                } ?: Log.e(&quot;UploadImages&quot;, &quot;Failed to open image input stream&quot;)\n            }\n        }\n\n        if (imageParts.isNotEmpty()) {\n            productApi.uploadProductImage(accessToken, imageParts)\n                .enqueue(object : Callback&lt;UploadProductImageResponse&gt; {\n                    override fun onResponse(\n                        call: Call&lt;UploadProductImageResponse&gt;,\n                        response: Response&lt;UploadProductImageResponse&gt;\n                    ) {\n                        if (response.isSuccessful) {\n                            val responseBody = response.body()\n                            if (responseBody != null) {\n                                val imageResponses = responseBody.images\n                                val uploadedImages = imageResponses.map { imageResponse -&gt;\n                                    Image(imageResponse.publicId, imageResponse.url)\n                                }\n                                if (uploadedImages.isNotEmpty()) {\n                                    // Handle the case of successful image upload\n                                    // You can perform further actions with the uploaded images\n                                    Log.d(&quot;W&quot;, &quot;Successful&quot;)\n\n                                } else {\n                                    Log.e(&quot;UploadImages&quot;, &quot;Failed to upload images&quot;)\n                                }\n                            } else {\n                                Log.e(&quot;UploadImages&quot;, &quot;Failed to parse response body&quot;)\n                            }\n                        } else {\n                            Log.e(\n                                &quot;UploadImages&quot;,\n                                &quot;Failed to upload images. Response code: ${response.code()}&quot;\n                            )\n                        }\n                    }\n\n                    override fun onFailure(call: Call&lt;UploadProductImageResponse&gt;, t: Throwable) {\n                        Log.e(&quot;UploadImages&quot;, &quot;Failed to upload images: ${t.message}&quot;)\n                    }\n                })\n        } else {\n            // Handle the case where no images were selected\n            Log.e(&quot;UploadImages&quot;, &quot;No images selected for upload&quot;)\n        }\n    }\n\n    @Throws(IOException::class)\n    private fun createTempFile(context: Context, fileName: String, extension: String): File {\n        val cacheDir = context.cacheDir\n        return File.createTempFile(fileName, &quot;.$extension&quot;, cacheDir)\n    }\n\n\n    private fun copyStreamToFile(inputStream: InputStream, outputFile: File) {\n        inputStream.use { input -&gt;\n            val outputStream = FileOutputStream(outputFile)\n            outputStream.use { output -&gt;\n                val buffer = ByteArray(4 * 1024) // buffer size\n                while (true) {\n                    val byteCount = input.read(buffer)\n                    if (byteCount &lt; 0) break\n                    output.write(buffer, 0, byteCount)\n                }\n                output.flush()\n            }\n        }\n    }\n\n}\n\n//    private fun postAd() {\n//        progressDialog.setMessage(&quot;Publishing Ad&quot;)\n//        progressDialog.show()\n//\n//        val adData = CreateProductRequest(\n//            name = title,\n//            description = description,\n//            category = category,\n//            prices = price.toInt(),\n//            images = emptyList()\n//        )\n//\n//        productApi.createProduct(accessToken = accessToken, request = adData).enqueue(object :\n//            Callback&lt;Product&gt; {\n//            override fun onResponse(call: Call&lt;Product&gt;, response: Response&lt;Product&gt;) {\n//                Utils.toast(this@AdCreateActivity, &quot;${accessToken}&quot;)\n//                progressDialog.dismiss()\n//                if (response.isSuccessful) {\n//                    // API request successful, process the response\n//                    val adId = response.body()?._id\n//                    if (adId != null) {\n//                        uploadImages(adId)\n//                    } else {\n//                        Utils.toast(this@AdCreateActivity, &quot;Failed to get Ad ID&quot;)\n//                    }\n//                } else {\n//                    // API request failed, handle the error\n//                    val errorBody = response.errorBody()?.string()\n//                    val errorMessage = if (errorBody.isNullOrEmpty()) {\n//                        response.message()\n//                    } else {\n//                        // Parse the error body to extract the specific error message\n//                        // Use appropriate JSON parsing library like Gson or Moshi\n//                        // Example: val errorResponse = Gson().fromJson(errorBody, ErrorResponse::class.java)\n//                        //         val errorMessage = errorResponse.message\n//                        // Replace ErrorResponse with your actual error response data class\n//                        &quot;Failed to post ad: $errorBody&quot;\n//                    }\n//                    Utils.toast(this@AdCreateActivity, errorMessage)\n//                }\n//            }\n//\n//            override fun onFailure(call: Call&lt;Product&gt;, t: Throwable) {\n//                progressDialog.dismiss()\n//                Utils.toast(this@AdCreateActivity, &quot;Failed to post ad: ${t.message}&quot;)\n//            }\n//        })\n//    }\n//\n//\n//\n//\n//    private fun uploadImages(adId: String) {\n//        val uploadedImages = mutableListOf&lt;String&gt;()\n//\n//        for (modelImagePicked in imagePickedArrayList) {\n//            val imageUri = modelImagePicked.imageUri\n//            if (imageUri != null) {\n//                val imageFile = File(imageUri.path)\n//                val requestBody = RequestBody.create(&quot;image/*&quot;.toMediaTypeOrNull(), imageFile)\n//                val imagePart =\n//                    MultipartBody.Part.createFormData(&quot;image&quot;, imageFile.name, requestBody)\n//\n//                // Log the upload image request\n//                Utils.toast(this@AdCreateActivity,&quot;Upload Image Request: adId=$adId, imageFile=${imageFile.name}&quot;)\n//\n//                productApi.uploadProductImage(accessToken, imagePart)\n//                    .enqueue(object : Callback&lt;UploadProductImageResponse&gt; {\n//                        override fun onResponse(\n//                            call: Call&lt;UploadProductImageResponse&gt;,\n//                            response: Response&lt;UploadProductImageResponse&gt;\n//                        ) {\n//                            if (response.isSuccessful) {\n//                                val uploadedImage = response.body()?.images?.get(0)\n//                                if (uploadedImage != null) {\n//                                    uploadedImages.add(uploadedImage.url)\n//\n//                                    if (uploadedImages.size == imagePickedArrayList.size) {\n//                                        val adData = CreateProductRequest(\n//                                            name = title,\n//                                            description = description,\n//                                            category = category,\n//                                            prices = price.toInt(),\n//                                            images = uploadedImages.map { url -&gt;\n//                                                Image(publicId = uploadedImage.publicId, url = url)\n//                                            }\n//                                        )\n//                                        updateAdWithImages(adId, adData)\n//                                    }\n//                                } else {\n//                                    Utils.toast(this@AdCreateActivity, &quot;Failed to upload images&quot;)\n//                                }\n//                            } else {\n//                                Utils.toast(this@AdCreateActivity, &quot;Failed to upload images&quot;)\n//                            }\n//                        }\n//\n//                        override fun onFailure(\n//                            call: Call&lt;UploadProductImageResponse&gt;,\n//                            t: Throwable\n//                        ) {\n//                            Utils.toast(\n//                                this@AdCreateActivity,\n//                                &quot;Failed to upload images: ${t.message}&quot;\n//                            )\n//                        }\n//                    })\n//            }\n//        }\n//    }\n\n\n//    private fun updateAdWithImages(adId: String, adData: CreateProductRequest) {\n//        productApi.updateProduct(accessToken = accessToken, id = adId, request = adData).enqueue(object : Callback&lt;Product&gt; {\n//            override fun onResponse(call: Call&lt;Product&gt;, response: Response&lt;Product&gt;) {\n//                progressDialog.dismiss()\n//                if (response.isSuccessful) {\n//                    Utils.toast(this@AdCreateActivity, &quot;Ad posted successfully&quot;)\n//                    onBackPressed()\n//                } else {\n//                    Utils.toast(this@AdCreateActivity, &quot;Failed to update ad with images&quot;)\n//                }\n//            }\n//\n//            override fun onFailure(call: Call&lt;Product&gt;, t: Throwable) {\n//                progressDialog.dismiss()\n//                Utils.toast(this@AdCreateActivity, &quot;Failed to update ad with images: ${t.message}&quot;)\n//            }\n//        })\n//}\n//    }\n\n\n\n  \n\n\n\n</code></pre>\n<p>The error occurs when attempting to upload the images selected by the user. It seems that the file path or directory is not being found correctly. I have tried to debug the code, and the log messages show the correct image URI and file type. However, when creating a temporary file and copying the image data, the error is encountered.</p>\n<p>I would appreciate any insights or suggestions on how to resolve this issue. Thank you in advance!</p>\n"},{"tags":["java","android","carousel","swipe"],"owner":{"account_id":29009746,"reputation":1,"user_id":22221476,"display_name":"benjamin demartin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689249055,"creation_date":1689249055,"question_id":76679062,"body_markdown":"I am trying to use a Carousel to show different picture. the carousel is in a MotionLayout and the animation are working fine (swipe right and left to navigate and swipe up to remove the item) but when removing the item on a swipe up from the list given to the Carousel.Adapter, the carousel is not updated. When doing a carousel.refresh() it is updated but laggy and some picture are invisible until I scroll again.\r\n\r\nlayout :\r\n\r\n```\r\n\r\n&lt;androidx.constraintlayout.motion.widget.MotionLayout\r\n    android:id=&quot;@+id/motionLayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;450dp&quot;\r\n    android:layout_marginBottom=&quot;40dp&quot;\r\n    app:layoutDescription=&quot;@xml/fragment_background_scene&quot;\r\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView00&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;320dp&quot;\r\n        app:cardCornerRadius=&quot;8dp&quot;\r\n        android:elevation=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView00&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/black&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            /&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView0&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;320dp&quot;\r\n        app:cardCornerRadius=&quot;8dp&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:elevation=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageView0&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:background=&quot;@color/black&quot;\r\n                    android:scaleType=&quot;centerCrop&quot;\r\n                    /&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView1&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;320dp&quot;\r\n        app:cardCornerRadius=&quot;8dp&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:elevation=&quot;10dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/blue&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            /&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView2&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;320dp&quot;\r\n        app:cardCornerRadius=&quot;8dp&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:elevation=&quot;10dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/yellow&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            /&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView3&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;320dp&quot;\r\n        app:cardCornerRadius=&quot;8dp&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:elevation=&quot;10dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView3&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/light_blue&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            /&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView4&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;320dp&quot;\r\n        app:cardCornerRadius=&quot;8dp&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:elevation=&quot;10dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView4&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/pink&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            /&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView5&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;320dp&quot;\r\n        app:cardCornerRadius=&quot;8dp&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:elevation=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView5&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/black&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n\r\n            /&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;androidx.constraintlayout.helper.widget.Carousel\r\n        android:id=&quot;@+id/carousel&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:carousel_backwardTransition=&quot;@+id/backward&quot;\r\n        app:carousel_firstView=&quot;@+id/cardView2&quot;\r\n        app:carousel_forwardTransition=&quot;@+id/forward&quot;\r\n        app:carousel_nextState=&quot;@+id/next&quot;\r\n        app:carousel_previousState=&quot;@+id/previous&quot;\r\n        app:constraint_referenced_ids=&quot;cardView00, cardView0,cardView1,cardView2, cardView3, cardView4, cardView5&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.motion.widget.MotionLayout&gt;\r\n```\r\n\r\nTransition :\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;MotionScene\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:motion=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;Transition\r\n        motion:constraintSetStart=&quot;@id/start&quot;\r\n        motion:constraintSetEnd=&quot;@+id/next&quot;\r\n        motion:duration=&quot;1000&quot;\r\n        android:id=&quot;@+id/forward&quot;&gt;\r\n\r\n        &lt;OnSwipe\r\n            motion:dragDirection=&quot;dragLeft&quot;\r\n            motion:touchAnchorSide=&quot;left&quot; /&gt;\r\n    &lt;/Transition&gt;\r\n\r\n    &lt;Transition\r\n        motion:constraintSetStart=&quot;@+id/start&quot;\r\n        motion:constraintSetEnd=&quot;@+id/previous&quot;\r\n        android:id=&quot;@+id/backward&quot;&gt;\r\n\r\n        &lt;OnSwipe\r\n            motion:dragDirection=&quot;dragRight&quot;\r\n            motion:touchAnchorSide=&quot;right&quot; /&gt;\r\n\r\n    &lt;/Transition&gt;\r\n\r\n    &lt;Transition\r\n        motion:constraintSetStart=&quot;@+id/start&quot;\r\n        motion:constraintSetEnd=&quot;@+id/after&quot;\r\n        motion:duration=&quot;10000&quot;&gt;\r\n        &lt;OnSwipe\r\n            motion:touchAnchorId=&quot;@id/cardView2&quot;\r\n            motion:dragDirection=&quot;dragUp&quot;\r\n            motion:touchAnchorSide=&quot;bottom&quot;/&gt;\r\n    &lt;/Transition&gt;\r\n\r\n\r\n    &lt;ConstraintSet android:id=&quot;@+id/previous&quot;&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView00&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-150dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            android:alpha=&quot;1&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView0&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-80dp&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView1&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:elevation=&quot;2dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView2&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView3&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;150dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView4&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;200dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView5&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;200dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            /&gt;\r\n    &lt;/ConstraintSet&gt;\r\n\r\n    &lt;ConstraintSet android:id=&quot;@+id/start&quot;&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView00&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-200dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/imageView0&quot;&gt;\r\n            &lt;CustomAttribute\r\n                motion:attributeName=&quot;Saturation&quot;\r\n                motion:customFloatValue=&quot;0&quot; /&gt;\r\n        &lt;/Constraint&gt;\r\n\r\n\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView0&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-150dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView1&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-80dp&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView2&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:elevation=&quot;2dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView3&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView4&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;150dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView5&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;200dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            /&gt;\r\n    &lt;/ConstraintSet&gt;\r\n\r\n    &lt;ConstraintSet android:id=&quot;@+id/next&quot;&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView00&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-200dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView0&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:alpha=&quot;0&quot;\r\n            android:layout_marginStart=&quot;-200dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView1&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-150dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView2&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-80dp&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView3&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:elevation=&quot;2dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView4&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView5&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;150dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            android:alpha=&quot;1&quot;\r\n            /&gt;\r\n    &lt;/ConstraintSet&gt;\r\n\r\n    &lt;ConstraintSet android:id=&quot;@+id/after&quot;&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView00&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-200dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView0&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-150dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView1&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;-80dp&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView2&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginBottom=&quot;200dp&quot;\r\n            android:elevation=&quot;3dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView3&quot;\r\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:elevation=&quot;2dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView4&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            /&gt;\r\n        &lt;Constraint\r\n            android:id=&quot;@+id/cardView5&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;320dp&quot;\r\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginStart=&quot;150dp&quot;\r\n            android:elevation=&quot;0dp&quot;\r\n            android:alpha=&quot;1&quot;\r\n            /&gt;\r\n    &lt;/ConstraintSet&gt;\r\n\r\n\r\n&lt;/MotionScene&gt;\r\n```\r\n\r\nMaijn.java\r\n\r\n```\r\npackage com.example.wordpaper.ui.background;\r\n\r\nimport static android.app.Activity.RESULT_OK;\r\n\r\nimport android.content.ClipData;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.HorizontalScrollView;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.constraintlayout.helper.widget.Carousel;\r\nimport androidx.constraintlayout.motion.widget.MotionLayout;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.example.wordpaper.R;\r\nimport com.example.wordpaper.database.AppDatabase;\r\nimport com.example.wordpaper.database.Background;\r\nimport com.example.wordpaper.databinding.FragmentBackgroundBinding;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\npublic class BackgroundFragment extends Fragment {\r\n\r\n    private FragmentBackgroundBinding binding;\r\n\r\n    private AppDatabase appDatabase;\r\n\r\n    private FloatingActionButton hamburger;\r\n    private Button button;\r\n\r\n    private Carousel carousel;\r\n    private MotionLayout motionLayout;\r\n    private HorizontalScrollView backgroundScrollView;\r\n    private LinearLayout scrollLinearLayout;\r\n\r\n\r\n    int images[] = {\r\n            R.drawable.square,\r\n            R.drawable.oval,\r\n            R.drawable.pencil,\r\n            R.drawable.sunset\r\n    };\r\n    int numImages = images.length;\r\n\r\n    int pastels[] = {\r\n            R.drawable.pastel_blue,\r\n            R.drawable.pastel_green,\r\n            R.drawable.pastel_orange,\r\n            R.drawable.pastel_pink,\r\n            R.drawable.pastel_purple,\r\n            R.drawable.pastel_red\r\n    };\r\n    int numPastel = pastels.length;\r\n\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        binding = FragmentBackgroundBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        button = binding.buttonImage;\r\n\r\n        carousel = binding.carousel;\r\n        motionLayout = binding.motionLayout;\r\n\r\n\r\n        setupCarousel();\r\n\r\n        images[] = {\r\n            R.drawable.square,\r\n            R.drawable.oval,\r\n            R.drawable.pencil\r\n            };\r\n            numImages = images.length;\r\n\r\n            carousel.refresh()\r\n\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n\r\n    private void setupCarousel(){\r\n        if(carousel == null){\r\n            return;\r\n        }\r\n\r\n        carousel.setAdapter(new Carousel.Adapter() {\r\n            @Override\r\n            public int count() {\r\n                return numImages;\r\n            }\r\n\r\n            @Override\r\n            public void populate(View view, int index) {\r\n                if (view instanceof CardView){\r\n                    CardView cardView = (CardView) view;\r\n                    ImageView imageView = (ImageView) cardView.getChildAt(0);\r\n                    imageView.setImageResource(images[index]);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onNewItem(int index) {\r\n\r\n                if (button != null) {\r\n                    if (index == carousel.getCount() - 1) {\r\n                        button.setText(&quot;&quot; + index);\r\n                    }\r\n                    if (index == 0) {\r\n                        button.setText(&quot;&quot; + index);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nI tried to use recylcer.Adapter but didnt work, I tried modifying the transition and the layout but didn&#39;t work either","title":"How to modify the dataset in a androidx Carousel in android studio (java)?","body":"<p>I am trying to use a Carousel to show different picture. the carousel is in a MotionLayout and the animation are working fine (swipe right and left to navigate and swipe up to remove the item) but when removing the item on a swipe up from the list given to the Carousel.Adapter, the carousel is not updated. When doing a carousel.refresh() it is updated but laggy and some picture are invisible until I scroll again.</p>\n<p>layout :</p>\n<pre><code>\n&lt;androidx.constraintlayout.motion.widget.MotionLayout\n    android:id=&quot;@+id/motionLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;450dp&quot;\n    android:layout_marginBottom=&quot;40dp&quot;\n    app:layoutDescription=&quot;@xml/fragment_background_scene&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView00&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;320dp&quot;\n        app:cardCornerRadius=&quot;8dp&quot;\n        android:elevation=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView00&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/black&quot;\n            android:scaleType=&quot;centerCrop&quot;\n            /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView0&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;320dp&quot;\n        app:cardCornerRadius=&quot;8dp&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:elevation=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/imageView0&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:background=&quot;@color/black&quot;\n                    android:scaleType=&quot;centerCrop&quot;\n                    /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView1&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;320dp&quot;\n        app:cardCornerRadius=&quot;8dp&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:elevation=&quot;10dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView1&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/blue&quot;\n            android:scaleType=&quot;centerCrop&quot;\n            /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView2&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;320dp&quot;\n        app:cardCornerRadius=&quot;8dp&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:elevation=&quot;10dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView2&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/yellow&quot;\n            android:scaleType=&quot;centerCrop&quot;\n            /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView3&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;320dp&quot;\n        app:cardCornerRadius=&quot;8dp&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:elevation=&quot;10dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView3&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/light_blue&quot;\n            android:scaleType=&quot;centerCrop&quot;\n            /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView4&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;320dp&quot;\n        app:cardCornerRadius=&quot;8dp&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:elevation=&quot;10dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView4&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/pink&quot;\n            android:scaleType=&quot;centerCrop&quot;\n            /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView5&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;320dp&quot;\n        app:cardCornerRadius=&quot;8dp&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:elevation=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView5&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/black&quot;\n            android:scaleType=&quot;centerCrop&quot;\n\n            /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.constraintlayout.helper.widget.Carousel\n        android:id=&quot;@+id/carousel&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:carousel_backwardTransition=&quot;@+id/backward&quot;\n        app:carousel_firstView=&quot;@+id/cardView2&quot;\n        app:carousel_forwardTransition=&quot;@+id/forward&quot;\n        app:carousel_nextState=&quot;@+id/next&quot;\n        app:carousel_previousState=&quot;@+id/previous&quot;\n        app:constraint_referenced_ids=&quot;cardView00, cardView0,cardView1,cardView2, cardView3, cardView4, cardView5&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.motion.widget.MotionLayout&gt;\n</code></pre>\n<p>Transition :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;MotionScene\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:motion=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;Transition\n        motion:constraintSetStart=&quot;@id/start&quot;\n        motion:constraintSetEnd=&quot;@+id/next&quot;\n        motion:duration=&quot;1000&quot;\n        android:id=&quot;@+id/forward&quot;&gt;\n\n        &lt;OnSwipe\n            motion:dragDirection=&quot;dragLeft&quot;\n            motion:touchAnchorSide=&quot;left&quot; /&gt;\n    &lt;/Transition&gt;\n\n    &lt;Transition\n        motion:constraintSetStart=&quot;@+id/start&quot;\n        motion:constraintSetEnd=&quot;@+id/previous&quot;\n        android:id=&quot;@+id/backward&quot;&gt;\n\n        &lt;OnSwipe\n            motion:dragDirection=&quot;dragRight&quot;\n            motion:touchAnchorSide=&quot;right&quot; /&gt;\n\n    &lt;/Transition&gt;\n\n    &lt;Transition\n        motion:constraintSetStart=&quot;@+id/start&quot;\n        motion:constraintSetEnd=&quot;@+id/after&quot;\n        motion:duration=&quot;10000&quot;&gt;\n        &lt;OnSwipe\n            motion:touchAnchorId=&quot;@id/cardView2&quot;\n            motion:dragDirection=&quot;dragUp&quot;\n            motion:touchAnchorSide=&quot;bottom&quot;/&gt;\n    &lt;/Transition&gt;\n\n\n    &lt;ConstraintSet android:id=&quot;@+id/previous&quot;&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView00&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-150dp&quot;\n            android:elevation=&quot;0dp&quot;\n            android:alpha=&quot;1&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView0&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-80dp&quot;\n            android:elevation=&quot;1dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView1&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;0dp&quot;\n            android:elevation=&quot;2dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView2&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:elevation=&quot;1dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView3&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;150dp&quot;\n            android:elevation=&quot;0dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView4&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;200dp&quot;\n            android:alpha=&quot;0&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView5&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;200dp&quot;\n            android:elevation=&quot;0dp&quot;\n            android:alpha=&quot;0&quot;\n            /&gt;\n    &lt;/ConstraintSet&gt;\n\n    &lt;ConstraintSet android:id=&quot;@+id/start&quot;&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView00&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-200dp&quot;\n            android:elevation=&quot;0dp&quot;\n            android:alpha=&quot;0&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/imageView0&quot;&gt;\n            &lt;CustomAttribute\n                motion:attributeName=&quot;Saturation&quot;\n                motion:customFloatValue=&quot;0&quot; /&gt;\n        &lt;/Constraint&gt;\n\n\n        &lt;Constraint\n            android:id=&quot;@+id/cardView0&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-150dp&quot;\n            android:elevation=&quot;0dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView1&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-80dp&quot;\n            android:elevation=&quot;1dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView2&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:elevation=&quot;2dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView3&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:elevation=&quot;1dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView4&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;150dp&quot;\n            android:elevation=&quot;0dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView5&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;200dp&quot;\n            android:elevation=&quot;0dp&quot;\n            android:alpha=&quot;0&quot;\n            /&gt;\n    &lt;/ConstraintSet&gt;\n\n    &lt;ConstraintSet android:id=&quot;@+id/next&quot;&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView00&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-200dp&quot;\n            android:elevation=&quot;0dp&quot;\n            android:alpha=&quot;0&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView0&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:alpha=&quot;0&quot;\n            android:layout_marginStart=&quot;-200dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView1&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-150dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView2&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-80dp&quot;\n            android:elevation=&quot;1dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView3&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;0dp&quot;\n            android:elevation=&quot;2dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView4&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:elevation=&quot;1dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView5&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;150dp&quot;\n            android:elevation=&quot;0dp&quot;\n            android:alpha=&quot;1&quot;\n            /&gt;\n    &lt;/ConstraintSet&gt;\n\n    &lt;ConstraintSet android:id=&quot;@+id/after&quot;&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView00&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-200dp&quot;\n            android:elevation=&quot;0dp&quot;\n            android:alpha=&quot;0&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView0&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-150dp&quot;\n            android:elevation=&quot;0dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView1&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;-80dp&quot;\n            android:elevation=&quot;1dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView2&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginBottom=&quot;200dp&quot;\n            android:elevation=&quot;3dp&quot;\n            android:alpha=&quot;0&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView3&quot;\n            motion:layout_constraintStart_toEndOf=&quot;parent&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;0dp&quot;\n            android:elevation=&quot;2dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView4&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:elevation=&quot;1dp&quot;\n            /&gt;\n        &lt;Constraint\n            android:id=&quot;@+id/cardView5&quot;\n            android:layout_width=&quot;180dp&quot;\n            android:layout_height=&quot;320dp&quot;\n            motion:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            motion:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            motion:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;150dp&quot;\n            android:elevation=&quot;0dp&quot;\n            android:alpha=&quot;1&quot;\n            /&gt;\n    &lt;/ConstraintSet&gt;\n\n\n&lt;/MotionScene&gt;\n</code></pre>\n<p>Maijn.java</p>\n<pre><code>package com.example.wordpaper.ui.background;\n\nimport static android.app.Activity.RESULT_OK;\n\nimport android.content.ClipData;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.HorizontalScrollView;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.cardview.widget.CardView;\nimport androidx.constraintlayout.helper.widget.Carousel;\nimport androidx.constraintlayout.motion.widget.MotionLayout;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.fragment.app.Fragment;\n\nimport com.example.wordpaper.R;\nimport com.example.wordpaper.database.AppDatabase;\nimport com.example.wordpaper.database.Background;\nimport com.example.wordpaper.databinding.FragmentBackgroundBinding;\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\n\npublic class BackgroundFragment extends Fragment {\n\n    private FragmentBackgroundBinding binding;\n\n    private AppDatabase appDatabase;\n\n    private FloatingActionButton hamburger;\n    private Button button;\n\n    private Carousel carousel;\n    private MotionLayout motionLayout;\n    private HorizontalScrollView backgroundScrollView;\n    private LinearLayout scrollLinearLayout;\n\n\n    int images[] = {\n            R.drawable.square,\n            R.drawable.oval,\n            R.drawable.pencil,\n            R.drawable.sunset\n    };\n    int numImages = images.length;\n\n    int pastels[] = {\n            R.drawable.pastel_blue,\n            R.drawable.pastel_green,\n            R.drawable.pastel_orange,\n            R.drawable.pastel_pink,\n            R.drawable.pastel_purple,\n            R.drawable.pastel_red\n    };\n    int numPastel = pastels.length;\n\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n\n        binding = FragmentBackgroundBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        button = binding.buttonImage;\n\n        carousel = binding.carousel;\n        motionLayout = binding.motionLayout;\n\n\n        setupCarousel();\n\n        images[] = {\n            R.drawable.square,\n            R.drawable.oval,\n            R.drawable.pencil\n            };\n            numImages = images.length;\n\n            carousel.refresh()\n\n        return root;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n\n    private void setupCarousel(){\n        if(carousel == null){\n            return;\n        }\n\n        carousel.setAdapter(new Carousel.Adapter() {\n            @Override\n            public int count() {\n                return numImages;\n            }\n\n            @Override\n            public void populate(View view, int index) {\n                if (view instanceof CardView){\n                    CardView cardView = (CardView) view;\n                    ImageView imageView = (ImageView) cardView.getChildAt(0);\n                    imageView.setImageResource(images[index]);\n                }\n            }\n\n            @Override\n            public void onNewItem(int index) {\n\n                if (button != null) {\n                    if (index == carousel.getCount() - 1) {\n                        button.setText(&quot;&quot; + index);\n                    }\n                    if (index == 0) {\n                        button.setText(&quot;&quot; + index);\n                    }\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>I tried to use recylcer.Adapter but didnt work, I tried modifying the transition and the layout but didn't work either</p>\n"},{"tags":["java","spring","http-headers","interceptor"],"comments":[{"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"score":0,"creation_date":1476298241,"post_id":40005435,"comment_id":67290362,"body_markdown":"you should be able to modify request at preHandle() in HandlerInterceptorAdapter","body":"you should be able to modify request at preHandle() in HandlerInterceptorAdapter"},{"owner":{"account_id":4447819,"reputation":1717,"user_id":3620642,"accept_rate":71,"display_name":"tallkid24"},"score":2,"creation_date":1476300147,"post_id":40005435,"comment_id":67291449,"body_markdown":"@kuhajeyan I don&#39;t see a way that you can actually modify the request in the interceptor since it doesn&#39;t actually return the request object. Maybe I&#39;m missing something?","body":"@kuhajeyan I don&#39;t see a way that you can actually modify the request in the interceptor since it doesn&#39;t actually return the request object. Maybe I&#39;m missing something?"}],"answers":[{"comments":[{"owner":{"account_id":432981,"reputation":1230,"user_id":818060,"display_name":"Sal"},"score":5,"creation_date":1508925896,"post_id":40036905,"comment_id":80805824,"body_markdown":"`HttpServletRequest` doesn&#39;t have a Method called `addHeader`.","body":"<code>HttpServletRequest</code> doesn&#39;t have a Method called <code>addHeader</code>."},{"owner":{"account_id":256360,"reputation":33466,"user_id":537031,"accept_rate":97,"display_name":"Igor"},"score":0,"creation_date":1521572833,"post_id":40036905,"comment_id":85786197,"body_markdown":"Also, updating the `response` in `postHandle` will do nothing because it has already been committed at that point.","body":"Also, updating the <code>response</code> in <code>postHandle</code> will do nothing because it has already been committed at that point."}],"tags":[],"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"comment_count":2,"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1476428517,"creation_date":1476428517,"answer_id":40036905,"question_id":40005435,"body_markdown":"\r\n    public class YourInterceptor extends HandlerInterceptorAdapter {\t\r\n    \r\n    \t@Override\r\n    \tpublic boolean preHandle(HttpServletRequest request,\r\n    \t\t\tHttpServletResponse response, Object handler) throws Exception {\r\n    \t\tSomeModel model = new SomeModel();\r\n    \t\trequest.setAttribute(&quot;someValue&quot;, model );\r\n            request.addHeader(&quot;xxx&quot;,&quot;asecret&quot;);\r\n    \t\t\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n        @Override\r\n    \tpublic void postHandle(HttpServletRequest request,\r\n    \t\t\tHttpServletResponse response, Object handler,\r\n    \t\t\tModelAndView modelAndView) throws Exception {\r\n    \t\t//...\r\n             response.addHeader(&quot;dummy-header, &quot;dummy-value&quot;);\r\n    \t}\r\n    \r\n        @Override\r\n    \tpublic void afterCompletion(HttpServletRequest request,\r\n    \t\t\tHttpServletResponse response, Object handler, Exception ex)\r\n    \t\t\tthrows Exception {\r\n    \t\tSomeModel model = (Long) request.getAttribute(&quot;someValue&quot;);\r\n    \t\t\r\n    \t}\r\n    \r\n    }","title":"How to add HttpServletRequest headers in HandlerInterceptorAdapter?","body":"<pre><code>public class YourInterceptor extends HandlerInterceptorAdapter {    \n\n    @Override\n    public boolean preHandle(HttpServletRequest request,\n            HttpServletResponse response, Object handler) throws Exception {\n        SomeModel model = new SomeModel();\n        request.setAttribute(\"someValue\", model );\n        request.addHeader(\"xxx\",\"asecret\");\n\n        return true;\n    }\n\n    @Override\n    public void postHandle(HttpServletRequest request,\n            HttpServletResponse response, Object handler,\n            ModelAndView modelAndView) throws Exception {\n        //...\n         response.addHeader(\"dummy-header, \"dummy-value\");\n    }\n\n    @Override\n    public void afterCompletion(HttpServletRequest request,\n            HttpServletResponse response, Object handler, Exception ex)\n            throws Exception {\n        SomeModel model = (Long) request.getAttribute(\"someValue\");\n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1626196944,"post_id":59257350,"comment_id":120827081,"body_markdown":"Original solution here: http://wilddiary.com/adding-custom-headers-java-httpservletrequest/","body":"Original solution here: <a href=\"http://wilddiary.com/adding-custom-headers-java-httpservletrequest/\" rel=\"nofollow noreferrer\">wilddiary.com/adding-custom-headers-java-httpservletrequest</a>"}],"tags":[],"owner":{"account_id":5711291,"reputation":1437,"user_id":4513218,"display_name":"Walterwhites"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1575929086,"creation_date":1575929086,"answer_id":59257350,"question_id":40005435,"body_markdown":"HttpServletRequest type objects are read only, to do that you should:\r\n\r\n-&gt; create a class which extends HttpServletRequestWrapper (to add some behaviours, decorator pattern) \r\n\r\n    final public class MutableHttpServletRequest extends HttpServletRequestWrapper {\r\n    \r\n        private final Map&lt;String, String&gt; customHeaders;\r\n    \r\n        public MutableHttpServletRequest(HttpServletRequest request){\r\n            super(request);\r\n            this.customHeaders = new HashMap&lt;String, String&gt;();\r\n        }\r\n    \r\n        public void putHeader(String name, String value){\r\n            this.customHeaders.put(name, value);\r\n        }\r\n    \r\n        public String getHeader(String name) {\r\n            String headerValue = customHeaders.get(name);\r\n    \r\n            if (headerValue != null){\r\n                return headerValue;\r\n            }\r\n            return ((HttpServletRequest) getRequest()).getHeader(name);\r\n        }\r\n    \r\n        public Enumeration&lt;String&gt; getHeaderNames() {\r\n            Set&lt;String&gt; set = new HashSet&lt;String&gt;(customHeaders.keySet());\r\n    \r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            Enumeration&lt;String&gt; e = ((HttpServletRequest) getRequest()).getHeaderNames();\r\n            while (e.hasMoreElements()) {\r\n                String n = e.nextElement();\r\n                set.add(n);\r\n            }\r\n            return Collections.enumeration(set);\r\n        }\r\n    }\r\n\r\n-&gt; create your filter class\r\n\r\n    public class CustomGatewayFilter implements Filter {\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response,\r\n                             FilterChain chain) throws IOException, ServletException {\r\n            HttpServletRequest req = (HttpServletRequest) request;\r\n            MutableHttpServletRequest mutableRequest = new MutableHttpServletRequest(req);\r\n            mutableRequest.putHeader(&quot;referer&quot;, &quot;custom value&quot;);\r\n            chain.doFilter(mutableRequest, response);\r\n        }\r\n    }\r\n\r\n\r\n-&gt; and in your config class add\r\n\r\n     .and().addFilterAfter(new CustomGatewayFilter(), ConcurrentSessionFilter.class)\r\n\r\n","title":"How to add HttpServletRequest headers in HandlerInterceptorAdapter?","body":"<p>HttpServletRequest type objects are read only, to do that you should:</p>\n\n<p>-> create a class which extends HttpServletRequestWrapper (to add some behaviours, decorator pattern) </p>\n\n<pre><code>final public class MutableHttpServletRequest extends HttpServletRequestWrapper {\n\n    private final Map&lt;String, String&gt; customHeaders;\n\n    public MutableHttpServletRequest(HttpServletRequest request){\n        super(request);\n        this.customHeaders = new HashMap&lt;String, String&gt;();\n    }\n\n    public void putHeader(String name, String value){\n        this.customHeaders.put(name, value);\n    }\n\n    public String getHeader(String name) {\n        String headerValue = customHeaders.get(name);\n\n        if (headerValue != null){\n            return headerValue;\n        }\n        return ((HttpServletRequest) getRequest()).getHeader(name);\n    }\n\n    public Enumeration&lt;String&gt; getHeaderNames() {\n        Set&lt;String&gt; set = new HashSet&lt;String&gt;(customHeaders.keySet());\n\n        @SuppressWarnings(\"unchecked\")\n        Enumeration&lt;String&gt; e = ((HttpServletRequest) getRequest()).getHeaderNames();\n        while (e.hasMoreElements()) {\n            String n = e.nextElement();\n            set.add(n);\n        }\n        return Collections.enumeration(set);\n    }\n}\n</code></pre>\n\n<p>-> create your filter class</p>\n\n<pre><code>public class CustomGatewayFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response,\n                         FilterChain chain) throws IOException, ServletException {\n        HttpServletRequest req = (HttpServletRequest) request;\n        MutableHttpServletRequest mutableRequest = new MutableHttpServletRequest(req);\n        mutableRequest.putHeader(\"referer\", \"custom value\");\n        chain.doFilter(mutableRequest, response);\n    }\n}\n</code></pre>\n\n<p>-> and in your config class add</p>\n\n<pre><code> .and().addFilterAfter(new CustomGatewayFilter(), ConcurrentSessionFilter.class)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1689620844,"post_id":76678997,"comment_id":135236740,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/34684604)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/34684604\">From Review</a>"}],"tags":[],"owner":{"account_id":8740804,"reputation":19,"user_id":6537945,"display_name":"Timothy Ward"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689248524,"creation_date":1689248524,"answer_id":76678997,"question_id":40005435,"body_markdown":"The example from http://wilddiary.com/adding-custom-headers-java-httpservletrequest/ doesn&#39;t seem to work for me with Tomcat 9.  I know it gets into the filter because I send the values I want to stdout and I know if I comment chain.doFilter line, then the page is blank because I&#39;m not writing out any headers.","title":"How to add HttpServletRequest headers in HandlerInterceptorAdapter?","body":"<p>The example from <a href=\"http://wilddiary.com/adding-custom-headers-java-httpservletrequest/\" rel=\"nofollow noreferrer\">http://wilddiary.com/adding-custom-headers-java-httpservletrequest/</a> doesn't seem to work for me with Tomcat 9.  I know it gets into the filter because I send the values I want to stdout and I know if I comment chain.doFilter line, then the page is blank because I'm not writing out any headers.</p>\n"}],"owner":{"account_id":4447819,"reputation":1717,"user_id":3620642,"accept_rate":71,"display_name":"tallkid24"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14511,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1689248524,"creation_date":1476295475,"question_id":40005435,"body_markdown":"I&#39;m trying to add a Authorization header to my request as a temporary workaround while we are switching environments. I&#39;m trying to handle it in a interceptor that extends HandlerInterceptorAdapter.\r\n\r\nI used the MutableHttpServletRequest class made [here](http://wilddiary.com/adding-custom-headers-java-httpservletrequest/) in order to be able to add the header to the request, but it doesn&#39;t seem like there is any way you can actually modify the returned request in the interceptor. Any ideas?\r\n\r\nEDIT: Or would I have to do this in a filter?","title":"How to add HttpServletRequest headers in HandlerInterceptorAdapter?","body":"<p>I'm trying to add a Authorization header to my request as a temporary workaround while we are switching environments. I'm trying to handle it in a interceptor that extends HandlerInterceptorAdapter.</p>\n\n<p>I used the MutableHttpServletRequest class made <a href=\"http://wilddiary.com/adding-custom-headers-java-httpservletrequest/\" rel=\"noreferrer\">here</a> in order to be able to add the header to the request, but it doesn't seem like there is any way you can actually modify the returned request in the interceptor. Any ideas?</p>\n\n<p>EDIT: Or would I have to do this in a filter?</p>\n"},{"tags":["java","android","android-studio","android-fragments","documentation"],"answers":[{"comments":[{"owner":{"account_id":13904202,"reputation":121,"user_id":10184022,"display_name":"DrMontorsi"},"score":0,"creation_date":1623931349,"post_id":68018423,"comment_id":120221277,"body_markdown":"You need to **compile** with 28 or higher, I compile with 30, that is `compileSdkVersion 30`. I was referring to `minSdkVersion 24`","body":"You need to <b>compile</b> with 28 or higher, I compile with 30, that is <code>compileSdkVersion 30</code>. I was referring to <code>minSdkVersion 24</code>"}],"tags":[],"owner":{"account_id":21965714,"reputation":1,"user_id":16242997,"display_name":"Ark"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1623929324,"creation_date":1623929324,"answer_id":68018423,"question_id":68018322,"body_markdown":"I think you might be right about the minimum api.\r\nAccording to the docs to use the androidx package you need to be api 28 or higher\r\n\r\nhttps://developer.android.com/jetpack/androidx\r\n","title":"Can&#39;t find method getFragment() in my FragmentContainerView object","body":"<p>I think you might be right about the minimum api.\nAccording to the docs to use the androidx package you need to be api 28 or higher</p>\n<p><a href=\"https://developer.android.com/jetpack/androidx\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx</a></p>\n"},{"tags":[],"owner":{"account_id":4423551,"reputation":83,"user_id":3602683,"display_name":"Sam Pengilly"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1624232437,"creation_date":1624232437,"answer_id":68060889,"question_id":68018322,"body_markdown":"It has been added from 1.4.0-alpha01 (https://developer.android.com/jetpack/androidx/releases/fragment#1.4.0-alpha01)\r\n\r\nIf you are on a lower version it won&#39;t be there.","title":"Can&#39;t find method getFragment() in my FragmentContainerView object","body":"<p>It has been added from 1.4.0-alpha01 (<a href=\"https://developer.android.com/jetpack/androidx/releases/fragment#1.4.0-alpha01\" rel=\"noreferrer\">https://developer.android.com/jetpack/androidx/releases/fragment#1.4.0-alpha01</a>)</p>\n<p>If you are on a lower version it won't be there.</p>\n"},{"comments":[{"owner":{"account_id":111674,"reputation":20654,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"score":0,"creation_date":1656167341,"post_id":70609511,"comment_id":128508008,"body_markdown":"Gabriel, just TBC, `FragmentManager.findFragmentById` ALSO does not exist until 28, I believe?  (I used your method using getSupportFragmentManager - thanks!)","body":"Gabriel, just TBC, <code>FragmentManager.findFragmentById</code> ALSO does not exist until 28, I believe?  (I used your method using getSupportFragmentManager - thanks!)"}],"tags":[],"owner":{"account_id":5292766,"reputation":576,"user_id":4224811,"accept_rate":100,"display_name":"Gabriel Vasconcelos"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641483074,"creation_date":1641483074,"answer_id":70609511,"question_id":68018322,"body_markdown":"As stated by Sam, the method `getFragment()` wasn&#39;t added to `FragmentContainerView` until 1.4.0 alpha versions.\r\n\r\nHowever, as per [documentation][1]:\r\n&gt;This method grabs the `Fragment` whose view was most recently added to the container. This may used as an alternative to calling `FragmentManager.findFragmentById` and passing in the `FragmentContainerView`&#39;s id.\r\n\r\nTherefore, the alternative here is to simply do it as you would with the `&lt;fragment /&gt;` tag:\r\n\r\n```java\r\nSupportMapFragment smf = (SupportMapFragment) getSupportFragmentManager()\r\n        .findFragmentById(R.id.identifications_map_view);\r\n```\r\n\r\nAnd things would work just as well.\r\n\r\n  [1]: https://developer.android.com/reference/androidx/fragment/app/FragmentContainerView#getFragment()","title":"Can&#39;t find method getFragment() in my FragmentContainerView object","body":"<p>As stated by Sam, the method <code>getFragment()</code> wasn't added to <code>FragmentContainerView</code> until 1.4.0 alpha versions.</p>\n<p>However, as per <a href=\"https://developer.android.com/reference/androidx/fragment/app/FragmentContainerView#getFragment()\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>This method grabs the <code>Fragment</code> whose view was most recently added to the container. This may used as an alternative to calling <code>FragmentManager.findFragmentById</code> and passing in the <code>FragmentContainerView</code>'s id.</p>\n</blockquote>\n<p>Therefore, the alternative here is to simply do it as you would with the <code>&lt;fragment /&gt;</code> tag:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SupportMapFragment smf = (SupportMapFragment) getSupportFragmentManager()\n        .findFragmentById(R.id.identifications_map_view);\n</code></pre>\n<p>And things would work just as well.</p>\n"},{"tags":[],"owner":{"account_id":3344114,"reputation":1188,"user_id":2809617,"accept_rate":67,"display_name":"Alexmelyon"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1682084431,"creation_date":1657017125,"answer_id":72867930,"question_id":68018322,"body_markdown":"When you use `androidx.fragment.app.Fragment` try this:\r\n```\r\n&lt;androidx.fragment.app.FragmentContainerView\r\n    android:id=&quot;@+id/fragment_container&quot;\r\n    android:name=&quot;com.example.YourFragment&quot;\r\n    android:tag=&quot;custom_tag&quot;\r\n    tools:layout=&quot;@layout/your_fragment_layout&quot; /&gt;\r\n```\r\nAnd get this fragment instance by:\r\n```\r\nchildFragmentManager.findFragmentByTag(&quot;custom_tag&quot;)\r\n```\r\nUPD: In some cases it doesn&#39;t work. I don&#39;t know why. Try this:\r\n```\r\nbinding.fragmentContainer.getFragment&lt;YourFragment&gt;()\r\n```","title":"Can&#39;t find method getFragment() in my FragmentContainerView object","body":"<p>When you use <code>androidx.fragment.app.Fragment</code> try this:</p>\n<pre><code>&lt;androidx.fragment.app.FragmentContainerView\n    android:id=&quot;@+id/fragment_container&quot;\n    android:name=&quot;com.example.YourFragment&quot;\n    android:tag=&quot;custom_tag&quot;\n    tools:layout=&quot;@layout/your_fragment_layout&quot; /&gt;\n</code></pre>\n<p>And get this fragment instance by:</p>\n<pre><code>childFragmentManager.findFragmentByTag(&quot;custom_tag&quot;)\n</code></pre>\n<p>UPD: In some cases it doesn't work. I don't know why. Try this:</p>\n<pre><code>binding.fragmentContainer.getFragment&lt;YourFragment&gt;()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10118305,"reputation":21,"user_id":7476209,"display_name":"Oleg Dontsov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689248461,"creation_date":1689248461,"answer_id":76678984,"question_id":68018322,"body_markdown":"For kotlin use: \r\n\r\n    val smf = supportFragmentManager.findFragmentById(R.id.identifications_map_view) as SupportMapFragment","title":"Can&#39;t find method getFragment() in my FragmentContainerView object","body":"<p>For kotlin use:</p>\n<pre><code>val smf = supportFragmentManager.findFragmentById(R.id.identifications_map_view) as SupportMapFragment\n</code></pre>\n"}],"owner":{"account_id":13904202,"reputation":121,"user_id":10184022,"display_name":"DrMontorsi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5649,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":5,"score":12,"last_activity_date":1689248461,"creation_date":1623928954,"question_id":68018322,"body_markdown":"In the XML I have\r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/identifications_map_view&quot;\r\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\nI would like to get the Fragment from the View. The [documentation](https://developer.android.com/reference/androidx/fragment/app/FragmentContainerView#getFragment()) suggests to use\r\n\r\n```\r\nFragmentContainerView fcv = findViewById(R.id.identifications_map_view);\r\nSupportMapFragment smf = fcv.getFragment()\r\n```\r\n\r\nBut Android Studio cannot resolve symbol, and if I CTRL+Click the &quot;FragmentContainerView&quot; it doesn&#39;t show getFragment() when i search with CTRL+F.\r\n\r\nI know there is another way to get the Fragment but I was wondering why I can&#39;t do it this way. I guess there is some problem with the version, because I seem to have an older version of the class than the documentation&#39;s, for example there is also an extra constructor that uses the FragmentManager, nowhere to be found in the documentation. \r\nCould it even be minimum API problem? I have 24.\r\n\r\nThanks.","title":"Can&#39;t find method getFragment() in my FragmentContainerView object","body":"<p>In the XML I have</p>\n<pre><code>&lt;androidx.fragment.app.FragmentContainerView\n    android:id=&quot;@+id/identifications_map_view&quot;\n    android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\n    android:visibility=&quot;gone&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; /&gt;\n</code></pre>\n<p>I would like to get the Fragment from the View. The <a href=\"https://developer.android.com/reference/androidx/fragment/app/FragmentContainerView#getFragment()\" rel=\"noreferrer\">documentation</a> suggests to use</p>\n<pre><code>FragmentContainerView fcv = findViewById(R.id.identifications_map_view);\nSupportMapFragment smf = fcv.getFragment()\n</code></pre>\n<p>But Android Studio cannot resolve symbol, and if I CTRL+Click the &quot;FragmentContainerView&quot; it doesn't show getFragment() when i search with CTRL+F.</p>\n<p>I know there is another way to get the Fragment but I was wondering why I can't do it this way. I guess there is some problem with the version, because I seem to have an older version of the class than the documentation's, for example there is also an extra constructor that uses the FragmentManager, nowhere to be found in the documentation.\nCould it even be minimum API problem? I have 24.</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","hibernate"],"owner":{"account_id":24580148,"reputation":27,"user_id":18485406,"display_name":"maxime Lassort"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689248381,"creation_date":1689248381,"question_id":76678973,"body_markdown":"I have a native query who take multi criteria and sort. \r\nIt work well for the profile but when i do the same for company my query return duplicates items cause theire are multiple line for one user in my company table \r\nmy code : \r\n```` \r\nStringBuilder sql = new StringBuilder(\r\n                &quot;SELECT DISTINCT u.id, u.nom, u.prenom, u.email, u.id_profil, p.code, c.name FROM exploitation.utilisateur u&quot;);\r\n        sql.append(&quot; inner join exploitation.profil p on p.id = u.id_profil&quot;);\r\n        sql.append(&quot; left join exploitation.company c on c.id_utilisateur = u.id&quot;);\r\n        sql.append(&quot; WHERE 1=1&quot;);\r\n\r\nswitch (utilisateurRequest.getTris().colonne()) {\r\n            case &quot;nom&quot;, &quot;prenom&quot;, &quot;email&quot;:\r\n                sql.append(String.format(&quot; ORDER BY u.%s %s &quot;,\r\n                                         utilisateurRequest.getTris().colonne(),\r\n                                         utilisateurRequest.getTris().ordre().toLowerCase()));\r\n                break;\r\n            case &quot;profils&quot;:\r\n                sql.append(String.format(&quot; ORDER BY p.code %s&quot;, utilisateurRequest.getTris().ordre().toLowerCase()));\r\n                break;\r\n            case &quot;gestionnaire&quot;:\r\n                sql.append(String.format(&quot; ORDER BY c.name %s&quot;, utilisateurRequest.getTris().ordre().toLowerCase()));\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n````\r\n\r\nmy user table contain a foreign key to profil, but does not contain any reference to the company table.\r\n````\r\n+--------------------+\r\n| User               |\r\n+--------------------+\r\n| id                 |\r\n| name               |\r\n| id_profil          |\r\n| ...                |\r\n+--------------------+\r\n\r\n+--------------------+\r\n| Company            |\r\n+--------------------+\r\n| id                 |\r\n| id_user            |\r\n| name               |\r\n+--------------------+\r\n\r\n/// user \r\n  @OneToMany(mappedBy = &quot;utilisateurEntity&quot;, cascade = CascadeType.ALL)\r\n  private List&lt;UtilisateurGestionnaireEntity&gt; utilisateurGestionnaire;\r\n/// company \r\n @ManyToOne\r\n    @JoinColumn(name = &quot;id_utilisateur&quot;, referencedColumnName = &quot;id&quot;)\r\n    private UtilisateurEntity utilisateurEntity;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n```` \r\nI can&#39;t transform my list to a set because i need the list size for pagination\r\n\r\n```` \r\nquery.setFirstResult((pageNumber - 1) * pageSize);\r\nquery.setMaxResults(pageSize);\r\nList&lt;UtilisateurEntity&gt; list = query.getResultList();````","title":"Query return duplicate items JPA nativeQuerry","body":"<p>I have a native query who take multi criteria and sort.\nIt work well for the profile but when i do the same for company my query return duplicates items cause theire are multiple line for one user in my company table\nmy code :</p>\n<pre><code>StringBuilder sql = new StringBuilder(\n                &quot;SELECT DISTINCT u.id, u.nom, u.prenom, u.email, u.id_profil, p.code, c.name FROM exploitation.utilisateur u&quot;);\n        sql.append(&quot; inner join exploitation.profil p on p.id = u.id_profil&quot;);\n        sql.append(&quot; left join exploitation.company c on c.id_utilisateur = u.id&quot;);\n        sql.append(&quot; WHERE 1=1&quot;);\n\nswitch (utilisateurRequest.getTris().colonne()) {\n            case &quot;nom&quot;, &quot;prenom&quot;, &quot;email&quot;:\n                sql.append(String.format(&quot; ORDER BY u.%s %s &quot;,\n                                         utilisateurRequest.getTris().colonne(),\n                                         utilisateurRequest.getTris().ordre().toLowerCase()));\n                break;\n            case &quot;profils&quot;:\n                sql.append(String.format(&quot; ORDER BY p.code %s&quot;, utilisateurRequest.getTris().ordre().toLowerCase()));\n                break;\n            case &quot;gestionnaire&quot;:\n                sql.append(String.format(&quot; ORDER BY c.name %s&quot;, utilisateurRequest.getTris().ordre().toLowerCase()));\n                break;\n            default:\n                break;\n        }\n</code></pre>\n<p>my user table contain a foreign key to profil, but does not contain any reference to the company table.</p>\n<pre><code>+--------------------+\n| User               |\n+--------------------+\n| id                 |\n| name               |\n| id_profil          |\n| ...                |\n+--------------------+\n\n+--------------------+\n| Company            |\n+--------------------+\n| id                 |\n| id_user            |\n| name               |\n+--------------------+\n\n/// user \n  @OneToMany(mappedBy = &quot;utilisateurEntity&quot;, cascade = CascadeType.ALL)\n  private List&lt;UtilisateurGestionnaireEntity&gt; utilisateurGestionnaire;\n/// company \n @ManyToOne\n    @JoinColumn(name = &quot;id_utilisateur&quot;, referencedColumnName = &quot;id&quot;)\n    private UtilisateurEntity utilisateurEntity;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n</code></pre>\n<p>I can't transform my list to a set because i need the list size for pagination</p>\n<pre><code>query.setFirstResult((pageNumber - 1) * pageSize);\nquery.setMaxResults(pageSize);\nList&lt;UtilisateurEntity&gt; list = query.getResultList();````\n</code></pre>\n"},{"tags":["java","vaadin"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1688731725,"post_id":76636685,"comment_id":135116800,"body_markdown":"Did you do a production build?\nhttps://vaadin.com/docs/latest/production/production-build Had the build\nany errors?","body":"Did you do a production build? <a href=\"https://vaadin.com/docs/latest/production/production-build\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/production/production-build</a> Had the build any errors?"},{"owner":{"account_id":28916647,"reputation":51,"user_id":22148475,"display_name":"jruizj74"},"score":0,"creation_date":1688732215,"post_id":76636685,"comment_id":135116915,"body_markdown":"Yes, I did a production build and prepare-frontend and build-frontend had not any errors.","body":"Yes, I did a production build and prepare-frontend and build-frontend had not any errors."},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1689053920,"post_id":76636685,"comment_id":135154723,"body_markdown":"And others vaadin component one would consdier &quot;core&quot;, let&#39;s say Button, are just fine?","body":"And others vaadin component one would consdier &quot;core&quot;, let&#39;s say Button, are just fine?"},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1689053962,"post_id":76636685,"comment_id":135154728,"body_markdown":"Do you have anything odd in the dev-console in your browser once the\nbroken site loads?","body":"Do you have anything odd in the dev-console in your browser once the broken site loads?"},{"owner":{"account_id":28916647,"reputation":51,"user_id":22148475,"display_name":"jruizj74"},"score":0,"creation_date":1689067831,"post_id":76636685,"comment_id":135157295,"body_markdown":"We  have realised that adding @Uses annotation to the view the components are displayed.","body":"We  have realised that adding @Uses annotation to the view the components are displayed."}],"answers":[{"tags":[],"owner":{"account_id":28916647,"reputation":51,"user_id":22148475,"display_name":"jruizj74"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1689248279,"creation_date":1689068662,"answer_id":76660660,"question_id":76636685,"body_markdown":"We register the routes dynamically using a code like the following:\r\n`RouteConfiguration.forSessionScope().setRoute(&quot;home&quot;, HomeView.class, MainLayout.class);`\r\n\r\n\r\nwhere `MainLayout.class` extends the `AppLayout`\r\n\r\nThe problem is that the components used in `HomeView.class` and not used in `MainLayout.class` are not displayed. \r\n\r\nWe had to add the annotation `@Uses` to `MainLayout.class` with the components, for example:\r\n\r\n   `@Uses(ComboBox.class)`\r\n\r\nand now all components are displayed properly.\r\n\r\nOther solution is to use the property `&lt;optimizeBundle&gt;false&lt;/optimizeBundle&gt;` in the `build-frontend` goal of the pom.xml\r\n\r\nThis behaviour is very odd beacause in Vaadin 22 the application worked fine without the `@Uses` annotation.\r\n\r\n","title":"Some Vaadin components not rendered after upgrading from v22 to v24","body":"<p>We register the routes dynamically using a code like the following:\n<code>RouteConfiguration.forSessionScope().setRoute(&quot;home&quot;, HomeView.class, MainLayout.class);</code></p>\n<p>where <code>MainLayout.class</code> extends the <code>AppLayout</code></p>\n<p>The problem is that the components used in <code>HomeView.class</code> and not used in <code>MainLayout.class</code> are not displayed.</p>\n<p>We had to add the annotation <code>@Uses</code> to <code>MainLayout.class</code> with the components, for example:</p>\n<p><code>@Uses(ComboBox.class)</code></p>\n<p>and now all components are displayed properly.</p>\n<p>Other solution is to use the property <code>&lt;optimizeBundle&gt;false&lt;/optimizeBundle&gt;</code> in the <code>build-frontend</code> goal of the pom.xml</p>\n<p>This behaviour is very odd beacause in Vaadin 22 the application worked fine without the <code>@Uses</code> annotation.</p>\n"}],"owner":{"account_id":28916647,"reputation":51,"user_id":22148475,"display_name":"jruizj74"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76660660,"answer_count":1,"score":2,"last_activity_date":1689248279,"creation_date":1688730114,"question_id":76636685,"body_markdown":"After upgrading from Vaadin 22 to 24 some built-in components like combo-box o grid are not displaying in an application that worked properly with Vaadin 22.\r\nWe are using:\r\n\r\n- Vaadin 24.1.1 with npn, Vite and production mode.\r\n- Spring Boot 3.1.1\r\n\r\n  The logs of the application shows this messages:\r\n\r\n```\r\n2023-07-07T10:58:56.045+02:00 ERROR 3404 --- [http-nio-9012-exec-9] c.v.flow.component.internal.UIInternals  : The component class com.vaadin.flow.component.combobox.ComboBox includes &#39;@vaadin/combo-box/src/vaadin-combo-box.js&#39; but this file was not included when creating the production bundle. The component will not work properly. Check that you have a reference to the component and that you are not using it only through reflection. If needed add a @Uses(ComboBox.class) where it is used.\r\n2023-07-07T12:55:41.395+02:00 ERROR 19744 --- [http-nio-9012-exec-2] c.v.flow.component.internal.UIInternals  : The component class com.vaadin.flow.component.details.Details includes &#39;@vaadin/details/src/vaadin-details.js&#39; but this file was not included when creating the production bundle. The component will not work properly. Check that you have a reference to the component and that you are not using it only through reflection. If needed add a @Uses(Details.class) where it is used.\r\n```\r\n\r\nAnd the source code of the generated page has a empty label of vaadin-combo-box:\r\n\r\n```\r\n&lt;vaadin-combo-box&gt;&lt;/vaadin-combo-box&gt;\r\n```\r\n\r\nWe have deleted node_modules and fronted directories generated by Vaadin several times but nothing changes. Can anyboy help us?","title":"Some Vaadin components not rendered after upgrading from v22 to v24","body":"<p>After upgrading from Vaadin 22 to 24 some built-in components like combo-box o grid are not displaying in an application that worked properly with Vaadin 22.\nWe are using:</p>\n<ul>\n<li><p>Vaadin 24.1.1 with npn, Vite and production mode.</p>\n</li>\n<li><p>Spring Boot 3.1.1</p>\n<p>The logs of the application shows this messages:</p>\n</li>\n</ul>\n<pre><code>2023-07-07T10:58:56.045+02:00 ERROR 3404 --- [http-nio-9012-exec-9] c.v.flow.component.internal.UIInternals  : The component class com.vaadin.flow.component.combobox.ComboBox includes '@vaadin/combo-box/src/vaadin-combo-box.js' but this file was not included when creating the production bundle. The component will not work properly. Check that you have a reference to the component and that you are not using it only through reflection. If needed add a @Uses(ComboBox.class) where it is used.\n2023-07-07T12:55:41.395+02:00 ERROR 19744 --- [http-nio-9012-exec-2] c.v.flow.component.internal.UIInternals  : The component class com.vaadin.flow.component.details.Details includes '@vaadin/details/src/vaadin-details.js' but this file was not included when creating the production bundle. The component will not work properly. Check that you have a reference to the component and that you are not using it only through reflection. If needed add a @Uses(Details.class) where it is used.\n</code></pre>\n<p>And the source code of the generated page has a empty label of vaadin-combo-box:</p>\n<pre><code>&lt;vaadin-combo-box&gt;&lt;/vaadin-combo-box&gt;\n</code></pre>\n<p>We have deleted node_modules and fronted directories generated by Vaadin several times but nothing changes. Can anyboy help us?</p>\n"},{"tags":["java","wildfly","server-sent-events","undertow"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1689265335,"post_id":76678909,"comment_id":135192482,"body_markdown":"It sounds like you should be using the `SseBroadcaster` instead of trying to hold onto `SseEventSinks`. You may find this example helpful https://github.com/resteasy/resteasy-examples/tree/main/contacts.","body":"It sounds like you should be using the <code>SseBroadcaster</code> instead of trying to hold onto <code>SseEventSinks</code>. You may find this example helpful <a href=\"https://github.com/resteasy/resteasy-examples/tree/main/contacts\" rel=\"nofollow noreferrer\">github.com/resteasy/resteasy-examples/tree/main/contacts</a>."}],"owner":{"account_id":24910343,"reputation":1,"user_id":18779957,"display_name":"Johan Steenkamp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689247996,"creation_date":1689247996,"question_id":76678909,"body_markdown":"I am currently playing around with Server-Sent Events in Wildfly and sending such events to a browser via EventSource. Everything works fine, but if an SSE connection is left idle for two minutes then Wildfly closes the connection when I try to send stuff over the connection, with the following exception:\r\n\r\n\r\n```\r\n2023-07-11 15:22:00,282 ERROR [io.undertow.request.io] (default I/O-12) UT005088: Failed to execute ServletOutputStream.closeAsync() on IO thread: java.nio.channels.ClosedChannelException\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.doWrite(ChunkedStreamSinkConduit.java:134)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:128)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:220)\r\n\tat org.jboss.xnio@3.8.9.Final//org.xnio.conduits.Conduits.writeFinalBasic(Conduits.java:149)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.writeFinal(ChunkedStreamSinkConduit.java:228)\r\n\tat org.jboss.xnio@3.8.9.Final//org.xnio.conduits.ConduitStreamSinkChannel.writeFinal(ConduitStreamSinkChannel.java:114)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.channels.DetachableStreamSinkChannel.writeFinal(DetachableStreamSinkChannel.java:211)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.server.HttpServerExchange$WriteDispatchChannel.writeFinal(HttpServerExchange.java:2198)\r\n\tat io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl.flushBufferAsync(ServletOutputStreamImpl.java:422)\r\n\tat io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl.closeAsync(ServletOutputStreamImpl.java:689)\r\n\tat io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl$1.run(ServletOutputStreamImpl.java:662)\r\n\tat org.jboss.xnio.nio@3.8.9.Final//org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)\r\n\tat org.jboss.xnio.nio@3.8.9.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:479)\r\n\r\n2023-07-11 15:22:00,283 ERROR [za.co.ejb.session.esa.EsaSseService] (EJB default - 2) java.nio.channels.ClosedChannelException: java.util.concurrent.CompletionException: java.nio.channels.ClosedChannelException\r\n\tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:994)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniExceptionallyStage(CompletableFuture.java:1008)\r\n\tat java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:2396)\r\n\tat java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:144)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.providers.sse.SseEventOutputImpl.internalWriteEvent(SseEventOutputImpl.java:278)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.providers.sse.SseEventOutputImpl.send(SseEventOutputImpl.java:207)\r\n\tat deployment.Test.war//za.co.ejb.session.misc.SseClientRegistry.send(SseClientRegistry.java:58)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\r\n\tat org.jboss.as.weld.ejb@28.0.1.Final//org.jboss.as.weld.ejb.DelegatingInterceptorInvocationContext.proceed(DelegatingInterceptorInvocationContext.java:92)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.interceptorChainCompleted(WeldInvocationContextImpl.java:107)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.proceed(WeldInvocationContextImpl.java:126)\r\n\tat org.hibernate.validator.cdi@8.0.0.Final//org.hibernate.validator.cdi.internal.interceptor.ValidationInterceptor.validateMethodInvocation(ValidationInterceptor.java:79)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.invokeNext(WeldInvocationContextImpl.java:92)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.proceed(WeldInvocationContextImpl.java:124)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.InterceptorImpl.intercept(InterceptorImpl.java:105)\r\n\tat org.jboss.as.weld.ejb@28.0.1.Final//org.jboss.as.weld.ejb.DelegatingInterceptorInvocationContext.proceed(DelegatingInterceptorInvocationContext.java:82)\r\n\tat org.jboss.as.weld.ejb@28.0.1.Final//org.jboss.as.weld.interceptors.EjbComponentInterceptorSupport.delegateInterception(EjbComponentInterceptorSupport.java:60)\r\n\tat org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:77)\r\n\tat org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)\r\n\tat org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponentInstanceAssociationInterceptor.processInvocation(SingletonComponentInstanceAssociationInterceptor.java:53)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:56)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:201)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:392)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:160)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)\r\n\tat org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.IdentityOutflowInterceptor.processInvocation(IdentityOutflowInterceptor.java:73)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.SecurityDomainInterceptor.processInvocation(SecurityDomainInterceptor.java:44)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.singleton.ContainerManagedConcurrencyInterceptor.processInvocation(ContainerManagedConcurrencyInterceptor.java:106)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)\r\n\tat org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:633)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:191)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.IdentityInterceptor.lambda$processInvocation$0(IdentityInterceptor.java:47)\r\n\tat org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:421)\r\n\tat org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\r\n\tat org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAsSupplierEx(Scoped.java:229)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.IdentityInterceptor.processInvocation(IdentityInterceptor.java:47)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:81)\r\n\tat deployment.Test.war//za.co.ejb.session.misc.SseClientRegistry$$$view69.send(Unknown Source)\r\n\tat deployment.Test.war//za.co.ejb.session.esa.EsaSseService.send(EsaSseService.java:36)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\r\n\tat org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)\r\n\tat org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)\r\n\tat org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponentInstanceAssociationInterceptor.processInvocation(SingletonComponentInstanceAssociationInterceptor.java:53)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:56)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:254)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.requiresNew(CMTTxInterceptor.java:416)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:158)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)\r\n\tat org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.IdentityOutflowInterceptor.processInvocation(IdentityOutflowInterceptor.java:73)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.SecurityDomainInterceptor.processInvocation(SecurityDomainInterceptor.java:44)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)\r\n\tat org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:633)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)\r\n\tat org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:191)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.LogDiagnosticContextRecoveryInterceptor.processInvocation(LogDiagnosticContextRecoveryInterceptor.java:82)\r\n\tat org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AsyncFutureInterceptorFactory$1.lambda$processInvocation$0(AsyncFutureInterceptorFactory.java:83)\r\n\tat org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:421)\r\n\tat org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\r\n\tat org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AsyncFutureInterceptorFactory$1$1.runInvocation(AsyncFutureInterceptorFactory.java:92)\r\n\tat org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AsyncInvocationTask.run(AsyncInvocationTask.java:81)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\nCaused by: java.nio.channels.ClosedChannelException\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.conduits.WriteTimeoutStreamSinkConduit.handleWriteTimeout(WriteTimeoutStreamSinkConduit.java:102)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.conduits.WriteTimeoutStreamSinkConduit.write(WriteTimeoutStreamSinkConduit.java:117)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:652)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.doWrite(ChunkedStreamSinkConduit.java:166)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:128)\r\n\tat org.jboss.xnio@3.8.9.Final//org.xnio.conduits.ConduitStreamSinkChannel.write(ConduitStreamSinkChannel.java:150)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.channels.DetachableStreamSinkChannel.write(DetachableStreamSinkChannel.java:240)\r\n\tat io.undertow.core@2.3.6.Final//io.undertow.server.HttpServerExchange$WriteDispatchChannel.write(HttpServerExchange.java:2205)\r\n\tat io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl.flushInternal(ServletOutputStreamImpl.java:523)\r\n\tat io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl.flush(ServletOutputStreamImpl.java:479)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$WrappedServletOutputStream.flush(HttpServletResponseWrapper.java:626)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$DeferredOutputStream.flush(HttpServletResponseWrapper.java:263)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$FlushOperation.doWork(HttpServletResponseWrapper.java:160)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$AsyncOperation.work(HttpServletResponseWrapper.java:58)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$DeferredOutputStream.flushQueue(HttpServletResponseWrapper.java:331)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$DeferredOutputStream.queue(HttpServletResponseWrapper.java:313)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$DeferredOutputStream.asyncFlush(HttpServletResponseWrapper.java:274)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.providers.sse.SseEventOutputImpl.lambda$internalWriteEvent$5(SseEventOutputImpl.java:277)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)\r\n\tat java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)\r\n\tat java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:144)\r\n\tat org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.providers.sse.SseEventOutputImpl.internalWriteEvent(SseEventOutputImpl.java:277)\r\n\t... 155 more\r\n```\r\nFrom the looks of it, it seems that this caused by some timeout setting in Undertow which I believe is around a minute.\r\n\r\nDoes anyone know specifically how to increase the timeout for SSE connections? The default timeout in undertow is probably perfect for normal REST calls. However, for SSE connections, especially if you are going to have a 100 open them open at a time, or more, the constant dropping and reconnection every minute or doesn&#39;t sound very effective.\r\n\r\nHere is my defined endpoint:\r\n\r\n```\r\n    @GET\r\n    @Path(&quot;publish/{token}&quot;)\r\n    @Produces(SERVER_SENT_EVENTS)\r\n    public void sseProcessed(@PathParam(&quot;token&quot;) final String token,\r\n                             @Context final SseEventSink sink) {\r\n        sseClientRegistry.add(Integer.parseInt(token), sink);\r\n    }\r\n```\r\n\r\n\r\nsseClientRegistry is also from my code, where we keep a list of current SSE connections. If parts of the system trigger evenets, sseClientRegistry handles that and send the message to the appropriate connection.\r\n\r\nThis mechanism works ok, apart from the premature connection close due to a timeout","title":"Increasing timeout for Server-Sent Events (SSE) connections in Wildfly","body":"<p>I am currently playing around with Server-Sent Events in Wildfly and sending such events to a browser via EventSource. Everything works fine, but if an SSE connection is left idle for two minutes then Wildfly closes the connection when I try to send stuff over the connection, with the following exception:</p>\n<pre><code>2023-07-11 15:22:00,282 ERROR [io.undertow.request.io] (default I/O-12) UT005088: Failed to execute ServletOutputStream.closeAsync() on IO thread: java.nio.channels.ClosedChannelException\n    at io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.doWrite(ChunkedStreamSinkConduit.java:134)\n    at io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:128)\n    at io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:220)\n    at org.jboss.xnio@3.8.9.Final//org.xnio.conduits.Conduits.writeFinalBasic(Conduits.java:149)\n    at io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.writeFinal(ChunkedStreamSinkConduit.java:228)\n    at org.jboss.xnio@3.8.9.Final//org.xnio.conduits.ConduitStreamSinkChannel.writeFinal(ConduitStreamSinkChannel.java:114)\n    at io.undertow.core@2.3.6.Final//io.undertow.channels.DetachableStreamSinkChannel.writeFinal(DetachableStreamSinkChannel.java:211)\n    at io.undertow.core@2.3.6.Final//io.undertow.server.HttpServerExchange$WriteDispatchChannel.writeFinal(HttpServerExchange.java:2198)\n    at io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl.flushBufferAsync(ServletOutputStreamImpl.java:422)\n    at io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl.closeAsync(ServletOutputStreamImpl.java:689)\n    at io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl$1.run(ServletOutputStreamImpl.java:662)\n    at org.jboss.xnio.nio@3.8.9.Final//org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)\n    at org.jboss.xnio.nio@3.8.9.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:479)\n\n2023-07-11 15:22:00,283 ERROR [za.co.ejb.session.esa.EsaSseService] (EJB default - 2) java.nio.channels.ClosedChannelException: java.util.concurrent.CompletionException: java.nio.channels.ClosedChannelException\n    at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)\n    at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:994)\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionallyStage(CompletableFuture.java:1008)\n    at java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:2396)\n    at java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:144)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.providers.sse.SseEventOutputImpl.internalWriteEvent(SseEventOutputImpl.java:278)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.providers.sse.SseEventOutputImpl.send(SseEventOutputImpl.java:207)\n    at deployment.Test.war//za.co.ejb.session.misc.SseClientRegistry.send(SseClientRegistry.java:58)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\n    at org.jboss.as.weld.ejb@28.0.1.Final//org.jboss.as.weld.ejb.DelegatingInterceptorInvocationContext.proceed(DelegatingInterceptorInvocationContext.java:92)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.interceptorChainCompleted(WeldInvocationContextImpl.java:107)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.proceed(WeldInvocationContextImpl.java:126)\n    at org.hibernate.validator.cdi@8.0.0.Final//org.hibernate.validator.cdi.internal.interceptor.ValidationInterceptor.validateMethodInvocation(ValidationInterceptor.java:79)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.invokeNext(WeldInvocationContextImpl.java:92)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.proceed(WeldInvocationContextImpl.java:124)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.bean.InterceptorImpl.intercept(InterceptorImpl.java:105)\n    at org.jboss.as.weld.ejb@28.0.1.Final//org.jboss.as.weld.ejb.DelegatingInterceptorInvocationContext.proceed(DelegatingInterceptorInvocationContext.java:82)\n    at org.jboss.as.weld.ejb@28.0.1.Final//org.jboss.as.weld.interceptors.EjbComponentInterceptorSupport.delegateInterception(EjbComponentInterceptorSupport.java:60)\n    at org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:77)\n    at org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)\n    at org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponentInstanceAssociationInterceptor.processInvocation(SingletonComponentInstanceAssociationInterceptor.java:53)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:56)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:201)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:392)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:160)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)\n    at org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.IdentityOutflowInterceptor.processInvocation(IdentityOutflowInterceptor.java:73)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.SecurityDomainInterceptor.processInvocation(SecurityDomainInterceptor.java:44)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.singleton.ContainerManagedConcurrencyInterceptor.processInvocation(ContainerManagedConcurrencyInterceptor.java:106)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)\n    at org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:633)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:191)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.IdentityInterceptor.lambda$processInvocation$0(IdentityInterceptor.java:47)\n    at org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:421)\n    at org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\n    at org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAsSupplierEx(Scoped.java:229)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.IdentityInterceptor.processInvocation(IdentityInterceptor.java:47)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:81)\n    at deployment.Test.war//za.co.ejb.session.misc.SseClientRegistry$$$view69.send(Unknown Source)\n    at deployment.Test.war//za.co.ejb.session.esa.EsaSseService.send(EsaSseService.java:36)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\n    at org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)\n    at org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)\n    at org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponentInstanceAssociationInterceptor.processInvocation(SingletonComponentInstanceAssociationInterceptor.java:53)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:56)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:254)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.requiresNew(CMTTxInterceptor.java:416)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:158)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)\n    at org.jboss.as.weld.common@28.0.1.Final//org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.IdentityOutflowInterceptor.processInvocation(IdentityOutflowInterceptor.java:73)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.security.SecurityDomainInterceptor.processInvocation(SecurityDomainInterceptor.java:44)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)\n    at org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:633)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)\n    at org.jboss.as.ee@28.0.1.Final//org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:191)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.LogDiagnosticContextRecoveryInterceptor.processInvocation(LogDiagnosticContextRecoveryInterceptor.java:82)\n    at org.jboss.invocation@2.0.0.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AsyncFutureInterceptorFactory$1.lambda$processInvocation$0(AsyncFutureInterceptorFactory.java:83)\n    at org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:421)\n    at org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\n    at org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AsyncFutureInterceptorFactory$1$1.runInvocation(AsyncFutureInterceptorFactory.java:92)\n    at org.jboss.as.ejb3@28.0.1.Final//org.jboss.as.ejb3.component.interceptors.AsyncInvocationTask.run(AsyncInvocationTask.java:81)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at java.base/java.lang.Thread.run(Thread.java:1623)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: java.nio.channels.ClosedChannelException\n    at io.undertow.core@2.3.6.Final//io.undertow.conduits.WriteTimeoutStreamSinkConduit.handleWriteTimeout(WriteTimeoutStreamSinkConduit.java:102)\n    at io.undertow.core@2.3.6.Final//io.undertow.conduits.WriteTimeoutStreamSinkConduit.write(WriteTimeoutStreamSinkConduit.java:117)\n    at io.undertow.core@2.3.6.Final//io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:652)\n    at io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.doWrite(ChunkedStreamSinkConduit.java:166)\n    at io.undertow.core@2.3.6.Final//io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:128)\n    at org.jboss.xnio@3.8.9.Final//org.xnio.conduits.ConduitStreamSinkChannel.write(ConduitStreamSinkChannel.java:150)\n    at io.undertow.core@2.3.6.Final//io.undertow.channels.DetachableStreamSinkChannel.write(DetachableStreamSinkChannel.java:240)\n    at io.undertow.core@2.3.6.Final//io.undertow.server.HttpServerExchange$WriteDispatchChannel.write(HttpServerExchange.java:2205)\n    at io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl.flushInternal(ServletOutputStreamImpl.java:523)\n    at io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.ServletOutputStreamImpl.flush(ServletOutputStreamImpl.java:479)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$WrappedServletOutputStream.flush(HttpServletResponseWrapper.java:626)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$DeferredOutputStream.flush(HttpServletResponseWrapper.java:263)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$FlushOperation.doWork(HttpServletResponseWrapper.java:160)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$AsyncOperation.work(HttpServletResponseWrapper.java:58)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$DeferredOutputStream.flushQueue(HttpServletResponseWrapper.java:331)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$DeferredOutputStream.queue(HttpServletResponseWrapper.java:313)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletResponseWrapper$DeferredOutputStream.asyncFlush(HttpServletResponseWrapper.java:274)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.providers.sse.SseEventOutputImpl.lambda$internalWriteEvent$5(SseEventOutputImpl.java:277)\n    at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187)\n    at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2341)\n    at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:144)\n    at org.jboss.resteasy.resteasy-core@6.2.4.Final//org.jboss.resteasy.plugins.providers.sse.SseEventOutputImpl.internalWriteEvent(SseEventOutputImpl.java:277)\n    ... 155 more\n</code></pre>\n<p>From the looks of it, it seems that this caused by some timeout setting in Undertow which I believe is around a minute.</p>\n<p>Does anyone know specifically how to increase the timeout for SSE connections? The default timeout in undertow is probably perfect for normal REST calls. However, for SSE connections, especially if you are going to have a 100 open them open at a time, or more, the constant dropping and reconnection every minute or doesn't sound very effective.</p>\n<p>Here is my defined endpoint:</p>\n<pre><code>    @GET\n    @Path(&quot;publish/{token}&quot;)\n    @Produces(SERVER_SENT_EVENTS)\n    public void sseProcessed(@PathParam(&quot;token&quot;) final String token,\n                             @Context final SseEventSink sink) {\n        sseClientRegistry.add(Integer.parseInt(token), sink);\n    }\n</code></pre>\n<p>sseClientRegistry is also from my code, where we keep a list of current SSE connections. If parts of the system trigger evenets, sseClientRegistry handles that and send the message to the appropriate connection.</p>\n<p>This mechanism works ok, apart from the premature connection close due to a timeout</p>\n"},{"tags":["python","java","csv","opencsv"],"answers":[{"tags":[],"owner":{"account_id":17167076,"reputation":80,"user_id":12425131,"display_name":"ambrustorok"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689247882,"creation_date":1689247882,"answer_id":76678893,"question_id":76678781,"body_markdown":"If they will always have exactly 1 shared column and you want to merge the records (lines) that have the same value in that column, then the following code might help you: \r\n\r\n```python\r\nimport pandas as pd\r\n\r\ndef merge_csv_files(first_file_path, second_file_path, output_file_path):\r\n    first_df = pd.read_csv(first_file_path)\r\n    second_df = pd.read_csv(second_file_path)\r\n\r\n    shared_column = set(first_df.columns) &amp; set(second_df.columns)\r\n    # look for exactly 1 shared column\r\n    if len(shared_column) != 1:\r\n        raise ValueError(&quot;The CSV files do not have exactly one shared column.&quot;)\r\n    shared_column = shared_column.pop()\r\n\r\n    merged_df = pd.merge(first_df, second_df, on=shared_column, how=&#39;inner&#39;)\r\n\r\n    merged_df.to_csv(output_file_path, index=False)\r\n\r\nfirst_file_path = &#39;first.csv&#39;\r\nsecond_file_path = &#39;second.csv&#39;\r\noutput_file_path = &#39;third.csv&#39;\r\n\r\nmerge_csv_files(first_file_path, second_file_path, output_file_path)\r\n```","title":"Merge 2 csv files by common column","body":"<p>If they will always have exactly 1 shared column and you want to merge the records (lines) that have the same value in that column, then the following code might help you:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\n\ndef merge_csv_files(first_file_path, second_file_path, output_file_path):\n    first_df = pd.read_csv(first_file_path)\n    second_df = pd.read_csv(second_file_path)\n\n    shared_column = set(first_df.columns) &amp; set(second_df.columns)\n    # look for exactly 1 shared column\n    if len(shared_column) != 1:\n        raise ValueError(&quot;The CSV files do not have exactly one shared column.&quot;)\n    shared_column = shared_column.pop()\n\n    merged_df = pd.merge(first_df, second_df, on=shared_column, how='inner')\n\n    merged_df.to_csv(output_file_path, index=False)\n\nfirst_file_path = 'first.csv'\nsecond_file_path = 'second.csv'\noutput_file_path = 'third.csv'\n\nmerge_csv_files(first_file_path, second_file_path, output_file_path)\n</code></pre>\n"}],"owner":{"account_id":26892682,"reputation":3,"user_id":20471188,"display_name":"Razvan Aga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76678893,"answer_count":1,"score":-2,"last_activity_date":1689247882,"creation_date":1689247178,"question_id":76678781,"body_markdown":"I have 2 csv files first.csv and second.csv. They both have a shared column.\r\n\r\nExample:\r\nfirst : a b c d\r\nsecond: x y a z\r\n\r\nI have to create a third csv file that looks like this:\r\nthird : a b c d x y z\r\n\r\nThe files do not have the same number of entries, I must only merge the lines that share the same column.\r\nAlso the paths of the 3 csv files must be sent as parameters.\r\n\r\nI was trying to do this in Java but Python would also work!\r\n\r\nI don&#39;t really know what I should do :(","title":"Merge 2 csv files by common column","body":"<p>I have 2 csv files first.csv and second.csv. They both have a shared column.</p>\n<p>Example:\nfirst : a b c d\nsecond: x y a z</p>\n<p>I have to create a third csv file that looks like this:\nthird : a b c d x y z</p>\n<p>The files do not have the same number of entries, I must only merge the lines that share the same column.\nAlso the paths of the 3 csv files must be sent as parameters.</p>\n<p>I was trying to do this in Java but Python would also work!</p>\n<p>I don't really know what I should do :(</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"score":0,"creation_date":1383666257,"post_id":19713479,"comment_id":134567477,"body_markdown":"I was looking for an HTML to PDF renderer. We were using iText. I was looking to do same with Apache PDFBox. But, it looks like it cannot be done. I can either use [Apache FOP](http://xmlgraphics.apache.org/fop/) or continue using iText. Here is the iText solution if anyone is interested:\nhttps://stackoverflow.com/questions/14359810/java-render-xml-document-as-pdf/19792259#19792259 If you are looking for a solution for merging using PDF box, here it is [Merge pdf files using Apache pdf box](http://www.skill-guru.com/blog/2013/11/05/merging-pdf-using-apache-pdfbox/)","body":"I was looking for an HTML to PDF renderer. We were using iText. I was looking to do same with Apache PDFBox. But, it looks like it cannot be done. I can either use <a href=\"http://xmlgraphics.apache.org/fop/\" rel=\"nofollow noreferrer\">Apache FOP</a> or continue using iText. Here is the iText solution if anyone is interested: <a href=\"https://stackoverflow.com/questions/14359810/java-render-xml-document-as-pdf/19792259#19792259\" title=\"java render xml document as pdf\">stackoverflow.com/questions/14359810/&hellip;</a> If you are looking for a solution for merging using PDF box, here it is <a href=\"http://www.skill-guru.com/blog/2013/11/05/merging-pdf-using-apache-pdfbox/\" rel=\"nofollow noreferrer\">Merge pdf files using Apache pdf box</a>"}],"answers":[{"tags":[],"owner":{"account_id":455917,"reputation":6566,"user_id":854386,"accept_rate":86,"display_name":"Andrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1605046076,"creation_date":1605046076,"answer_id":64777489,"question_id":19713479,"body_markdown":"[Open HTML to PDF library][1] uses PDFBox under the hood and hides all the conversion complexity.\r\n\r\n\r\nUsage is quite simple:\r\n```\r\ntry (OutputStream os = new FileOutputStream(&quot;/Users/me/output.pdf&quot;)) {\r\n    PdfRendererBuilder builder = new PdfRendererBuilder();\r\n    builder.withUri(&quot;file:////Users/me/input.html&quot;);\r\n    builder.toStream(os);\r\n    builder.run();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/danfickle/openhtmltopdf","title":"How to create a PDF file from HTML using PDFBox?","body":"<p><a href=\"https://github.com/danfickle/openhtmltopdf\" rel=\"noreferrer\">Open HTML to PDF library</a> uses PDFBox under the hood and hides all the conversion complexity.</p>\n<p>Usage is quite simple:</p>\n<pre><code>try (OutputStream os = new FileOutputStream(&quot;/Users/me/output.pdf&quot;)) {\n    PdfRendererBuilder builder = new PdfRendererBuilder();\n    builder.withUri(&quot;file:////Users/me/input.html&quot;);\n    builder.toStream(os);\n    builder.run();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4007848,"reputation":101,"user_id":3302084,"display_name":"thmarx"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625053627,"creation_date":1625053627,"answer_id":68194148,"question_id":19713479,"body_markdown":"maybe a little late, but if the itext license is an issue for you, maybe LibrePdf is an option for you:\r\nhttps://github.com/LibrePDF/OpenPDF\r\n\r\nIt&#39;s based on the iText LGPL Code.","title":"How to create a PDF file from HTML using PDFBox?","body":"<p>maybe a little late, but if the itext license is an issue for you, maybe LibrePdf is an option for you:\n<a href=\"https://github.com/LibrePDF/OpenPDF\" rel=\"nofollow noreferrer\">https://github.com/LibrePDF/OpenPDF</a></p>\n<p>It's based on the iText LGPL Code.</p>\n"},{"comments":[{"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"score":0,"creation_date":1683733354,"post_id":76015793,"comment_id":134412939,"body_markdown":"I tried ApachePDFBox and liked it but did not solve all our issues. I am not sure if PDFBox has support for Google Noto fonts","body":"I tried ApachePDFBox and liked it but did not solve all our issues. I am not sure if PDFBox has support for Google Noto fonts"}],"tags":[],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681480074,"creation_date":1681480074,"answer_id":76015793,"question_id":19713479,"body_markdown":"As of 2023, it is strange that nothing can be quickly googled with \r\n&quot;PDFBox html to pdf Java example&quot;, and [PDFBox examples are just empty][1], so I guess most developers don&#39;t use [Apache PDFBox][2] directly.\r\n\r\nInstead there are [examples][3] to use\r\n\r\n[openhtml][4] API to use PDFBox\r\n\r\nor \r\n\r\nalternative [flyingsaucer][5] API to use [OpenPDF][6] (e.g. [1][7], [2][8]),  \r\nwhere OpenPDF is fully open iText continuation.\r\n\r\n\r\n  [1]: https://pdfbox.apache.org/2.0/examples.html\r\n  [2]: https://pdfbox.apache.org/\r\n  [3]: https://www.baeldung.com/java-html-to-pdf\r\n  [4]: https://github.com/danfickle/openhtmltopdf\r\n  [5]: https://github.com/flyingsaucerproject/flyingsaucer\r\n  [6]: https://github.com/LibrePDF/OpenPDF\r\n  [7]: https://programmersnotes.com/2020/02/how-to-convert-html-to-pdf-in-java/\r\n  [8]: https://medium.com/javarevisited/html-to-pdf-in-java-using-flying-saucer-f73b70d9014d","title":"How to create a PDF file from HTML using PDFBox?","body":"<p>As of 2023, it is strange that nothing can be quickly googled with\n&quot;PDFBox html to pdf Java example&quot;, and <a href=\"https://pdfbox.apache.org/2.0/examples.html\" rel=\"nofollow noreferrer\">PDFBox examples are just empty</a>, so I guess most developers don't use <a href=\"https://pdfbox.apache.org/\" rel=\"nofollow noreferrer\">Apache PDFBox</a> directly.</p>\n<p>Instead there are <a href=\"https://www.baeldung.com/java-html-to-pdf\" rel=\"nofollow noreferrer\">examples</a> to use</p>\n<p><a href=\"https://github.com/danfickle/openhtmltopdf\" rel=\"nofollow noreferrer\">openhtml</a> API to use PDFBox</p>\n<p>or</p>\n<p>alternative <a href=\"https://github.com/flyingsaucerproject/flyingsaucer\" rel=\"nofollow noreferrer\">flyingsaucer</a> API to use <a href=\"https://github.com/LibrePDF/OpenPDF\" rel=\"nofollow noreferrer\">OpenPDF</a> (e.g. <a href=\"https://programmersnotes.com/2020/02/how-to-convert-html-to-pdf-in-java/\" rel=\"nofollow noreferrer\">1</a>, <a href=\"https://medium.com/javarevisited/html-to-pdf-in-java-using-flying-saucer-f73b70d9014d\" rel=\"nofollow noreferrer\">2</a>),<br />\nwhere OpenPDF is fully open iText continuation.</p>\n"},{"tags":[],"owner":{"account_id":21686615,"reputation":21,"user_id":16001968,"display_name":"Hannah"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689247608,"creation_date":1689247608,"answer_id":76678849,"question_id":19713479,"body_markdown":"Just wanted to add / warn for anyone else finding this in 2023 that openhtmltopdf currently has the mantainer uncontactable, though some seem like they may be mantaining a fork (see [this issue](https://github.com/danfickle/openhtmltopdf/issues/921)!), while flying saucer isn&#39;t mantained either (see [this discussion](https://groups.google.com/g/flying-saucer-users/c/LJQOzkaHC7Y)! and [this one](https://groups.google.com/g/flying-saucer-users/c/ySI8HrLI70A)! on the google group).","title":"How to create a PDF file from HTML using PDFBox?","body":"<p>Just wanted to add / warn for anyone else finding this in 2023 that openhtmltopdf currently has the mantainer uncontactable, though some seem like they may be mantaining a fork (see <a href=\"https://github.com/danfickle/openhtmltopdf/issues/921\" rel=\"nofollow noreferrer\">this issue</a>!), while flying saucer isn't mantained either (see <a href=\"https://groups.google.com/g/flying-saucer-users/c/LJQOzkaHC7Y\" rel=\"nofollow noreferrer\">this discussion</a>! and <a href=\"https://groups.google.com/g/flying-saucer-users/c/ySI8HrLI70A\" rel=\"nofollow noreferrer\">this one</a>! on the google group).</p>\n"}],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81806,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":4,"score":20,"last_activity_date":1689247608,"creation_date":1383242068,"question_id":19713479,"body_markdown":"I am trying to create a PDF from HTML content. \r\n\r\n\r\n\tpublic byte[] generatePdf(final XhtmlPDFGenerationRequest request) {\r\n\r\n\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\tPDDocument document = new PDDocument();\r\n\t\tInputStream stream = new ByteArrayInputStream(request.getContent()\r\n\t\t\t\t.getBytes());\r\n\r\n\t\tPDStream pdstream = new PDStream(document, stream);\r\n\t\tdocument.save(baos);\r\n\t\tdocument.close();\r\n\t\treturn this.toByteArray(baos);\r\n\t\t\t\r\n\t}\r\n\r\n\r\nWhen I take this `byte[]` and save to a file, the file is blank. I am using `PDStream` to embed the input stream into the document\r\n\r\nFrom the http://pdfbox.apache.org/apidocs/\r\n\r\n    public PDStream(PDDocument doc,\r\n                    InputStream str)\r\n             throws IOException\r\n\r\nReads all data from the input stream and embeds it into the document, this will close the `InputStream`.","title":"How to create a PDF file from HTML using PDFBox?","body":"<p>I am trying to create a PDF from HTML content. </p>\n\n<pre><code>public byte[] generatePdf(final XhtmlPDFGenerationRequest request) {\n\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    PDDocument document = new PDDocument();\n    InputStream stream = new ByteArrayInputStream(request.getContent()\n            .getBytes());\n\n    PDStream pdstream = new PDStream(document, stream);\n    document.save(baos);\n    document.close();\n    return this.toByteArray(baos);\n\n}\n</code></pre>\n\n<p>When I take this <code>byte[]</code> and save to a file, the file is blank. I am using <code>PDStream</code> to embed the input stream into the document</p>\n\n<p>From the <a href=\"http://pdfbox.apache.org/apidocs/\" rel=\"noreferrer\">http://pdfbox.apache.org/apidocs/</a></p>\n\n<pre><code>public PDStream(PDDocument doc,\n                InputStream str)\n         throws IOException\n</code></pre>\n\n<p>Reads all data from the input stream and embeds it into the document, this will close the <code>InputStream</code>.</p>\n"},{"tags":["java","mongodb","reactive","mongotemplate"],"answers":[{"tags":[],"owner":{"account_id":25295091,"reputation":124,"user_id":19120390,"display_name":"Ajaj Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688664489,"creation_date":1688664489,"answer_id":76631244,"question_id":76630376,"body_markdown":"From your question i just understood that you want to update status of those 2 objects \r\n`persons`, `animals` by criteria of `or`.\r\n\r\n ```JAVA\r\nQuery query = Query.query(new Criteria().orOperator(\r\n                Criteria.where(&quot;items.persons.city&quot;).is(&quot;your value&quot;),\r\n                        Criteria.where(&quot;items.persons.color&quot;).is(&quot;your value&quot;),\r\n                        Criteria.where(&quot;items.animals.city&quot;).is(&quot;your value&quot;),\r\n                        Criteria.where(&quot;items.animals.color&quot;).is(&quot;your value&quot;)\r\n        ));\r\n        Update update = new Update().set(&quot;items.$.status&quot;, &quot;9&quot;);\r\n mongoTemplate.updateFirst(query, update, &quot;Your class name&quot;);\r\n```","title":"Monogodb: update element of array of objects with criterias","body":"<p>From your question i just understood that you want to update status of those 2 objects\n<code>persons</code>, <code>animals</code> by criteria of <code>or</code>.</p>\n<pre><code>Query query = Query.query(new Criteria().orOperator(\n               Criteria.where(&quot;items.persons.city&quot;).is(&quot;your value&quot;),\n                       Criteria.where(&quot;items.persons.color&quot;).is(&quot;your value&quot;),\n                       Criteria.where(&quot;items.animals.city&quot;).is(&quot;your value&quot;),\n                       Criteria.where(&quot;items.animals.color&quot;).is(&quot;your value&quot;)\n       ));\n       Update update = new Update().set(&quot;items.$.status&quot;, &quot;9&quot;);\nmongoTemplate.updateFirst(query, update, &quot;Your class name&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23392712,"reputation":201,"user_id":17457184,"display_name":"Rajesh Senapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689247527,"creation_date":1689247048,"answer_id":76678756,"question_id":76630376,"body_markdown":"I hope it will help you\r\n\r\n    {\r\n    $or: [\r\n    {\r\n      &quot;items.persons.color&quot;: &quot;red&quot;\r\n    },\r\n    {\r\n      &quot;items.animals.color&quot;: &quot;red&quot;\r\n    }\r\n    ]\r\n    },\r\n    {\r\n    $set: {\r\n    &quot;items.persons.$[elem].status&quot;: &quot;7&quot;,\r\n    &quot;items.animals.$[elem].status&quot;: &quot;7&quot;\r\n    }\r\n    },\r\n    {\r\n     arrayFilters: [\r\n    {\r\n      &quot;elem.color&quot;: &quot;red&quot;\r\n    }\r\n    ]\r\n    })\r\nfor only color\r\nex- https://mongoplayground.net/p/UTLAVWQ884V\r\n\r\nfor both color and city \r\nex- https://mongoplayground.net/p/qRdi2c1VDQg","title":"Monogodb: update element of array of objects with criterias","body":"<p>I hope it will help you</p>\n<pre><code>{\n$or: [\n{\n  &quot;items.persons.color&quot;: &quot;red&quot;\n},\n{\n  &quot;items.animals.color&quot;: &quot;red&quot;\n}\n]\n},\n{\n$set: {\n&quot;items.persons.$[elem].status&quot;: &quot;7&quot;,\n&quot;items.animals.$[elem].status&quot;: &quot;7&quot;\n}\n},\n{\n arrayFilters: [\n{\n  &quot;elem.color&quot;: &quot;red&quot;\n}\n]\n})\n</code></pre>\n<p>for only color\nex- <a href=\"https://mongoplayground.net/p/UTLAVWQ884V\" rel=\"nofollow noreferrer\">https://mongoplayground.net/p/UTLAVWQ884V</a></p>\n<p>for both color and city\nex- <a href=\"https://mongoplayground.net/p/qRdi2c1VDQg\" rel=\"nofollow noreferrer\">https://mongoplayground.net/p/qRdi2c1VDQg</a></p>\n"}],"owner":{"account_id":14783499,"reputation":178,"user_id":10676421,"display_name":"Marius Danciu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689247527,"creation_date":1688656990,"question_id":76630376,"body_markdown":"I have this document:\r\n\r\n    {\r\n      &quot;id&quot; : &quot;001&quot;,\r\n      &quot;items&quot; : {\r\n        &quot;persons&quot; : [ \r\n            {\r\n                &quot;city&quot; : &quot;London&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;1&quot;\r\n            }, \r\n            {\r\n                &quot;city&quot; : &quot;Paris&quot;,\r\n                &quot;color&quot; : &quot;blue&quot;,\r\n                &quot;status&quot; : &quot;0&quot;\r\n            }\r\n         ],\r\n        &quot;animals&quot; : [ \r\n            {\r\n                &quot;city&quot; : &quot;Luton&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;1&quot;\r\n            }, \r\n            {\r\n                &quot;city&quot; : &quot;London&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;0&quot;\r\n            }\r\n         ]\r\n    }\r\n\r\nIn java, or at least direcly in mongo, I need to update the status of persons and animals to a new value for each item in those arrays who meets the criteria of city and/or color from input.\r\n*Status is obligatory, city and color are not obligatory.*\r\n\r\nEx: \r\n\r\ninput **city=London**, **color=red** and **status=9** will result in:\r\n\r\n    {\r\n      &quot;id&quot; : &quot;001&quot;,\r\n      &quot;items&quot; : {\r\n        &quot;persons&quot; : [ \r\n            {\r\n                &quot;city&quot; : &quot;London&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;9&quot;\r\n            }, \r\n            {\r\n                &quot;city&quot; : &quot;Paris&quot;,\r\n                &quot;color&quot; : &quot;blue&quot;,\r\n                &quot;status&quot; : &quot;0&quot;\r\n            }\r\n         ],\r\n        &quot;animals&quot; : [ \r\n            {\r\n                &quot;city&quot; : &quot;Luton&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;1&quot;\r\n            }, \r\n            {\r\n                &quot;city&quot; : &quot;London&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;9&quot;\r\n            }\r\n         ]\r\n    }\r\n\r\ninput **color=red** and **status=7** will result in:\r\n\r\n    {\r\n      &quot;id&quot; : &quot;001&quot;,\r\n      &quot;items&quot; : {\r\n        &quot;persons&quot; : [ \r\n            {\r\n                &quot;city&quot; : &quot;London&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;7&quot;\r\n            }, \r\n            {\r\n                &quot;city&quot; : &quot;Paris&quot;,\r\n                &quot;color&quot; : &quot;blue&quot;,\r\n                &quot;status&quot; : &quot;0&quot;\r\n            }\r\n         ],\r\n        &quot;animals&quot; : [ \r\n            {\r\n                &quot;city&quot; : &quot;Luton&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;7&quot;\r\n            }, \r\n            {\r\n                &quot;city&quot; : &quot;London&quot;,\r\n                &quot;color&quot; : &quot;red&quot;,\r\n                &quot;status&quot; : &quot;7&quot;\r\n            }\r\n         ]\r\n    }\r\n\r\nI tried a lot of things, but nothing works. If somebody can came with a solution is great, but I will be satisfied with a piece of advice to guide me to solve this matter.","title":"Monogodb: update element of array of objects with criterias","body":"<p>I have this document:</p>\n<pre><code>{\n  &quot;id&quot; : &quot;001&quot;,\n  &quot;items&quot; : {\n    &quot;persons&quot; : [ \n        {\n            &quot;city&quot; : &quot;London&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;1&quot;\n        }, \n        {\n            &quot;city&quot; : &quot;Paris&quot;,\n            &quot;color&quot; : &quot;blue&quot;,\n            &quot;status&quot; : &quot;0&quot;\n        }\n     ],\n    &quot;animals&quot; : [ \n        {\n            &quot;city&quot; : &quot;Luton&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;1&quot;\n        }, \n        {\n            &quot;city&quot; : &quot;London&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;0&quot;\n        }\n     ]\n}\n</code></pre>\n<p>In java, or at least direcly in mongo, I need to update the status of persons and animals to a new value for each item in those arrays who meets the criteria of city and/or color from input.\n<em>Status is obligatory, city and color are not obligatory.</em></p>\n<p>Ex:</p>\n<p>input <strong>city=London</strong>, <strong>color=red</strong> and <strong>status=9</strong> will result in:</p>\n<pre><code>{\n  &quot;id&quot; : &quot;001&quot;,\n  &quot;items&quot; : {\n    &quot;persons&quot; : [ \n        {\n            &quot;city&quot; : &quot;London&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;9&quot;\n        }, \n        {\n            &quot;city&quot; : &quot;Paris&quot;,\n            &quot;color&quot; : &quot;blue&quot;,\n            &quot;status&quot; : &quot;0&quot;\n        }\n     ],\n    &quot;animals&quot; : [ \n        {\n            &quot;city&quot; : &quot;Luton&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;1&quot;\n        }, \n        {\n            &quot;city&quot; : &quot;London&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;9&quot;\n        }\n     ]\n}\n</code></pre>\n<p>input <strong>color=red</strong> and <strong>status=7</strong> will result in:</p>\n<pre><code>{\n  &quot;id&quot; : &quot;001&quot;,\n  &quot;items&quot; : {\n    &quot;persons&quot; : [ \n        {\n            &quot;city&quot; : &quot;London&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;7&quot;\n        }, \n        {\n            &quot;city&quot; : &quot;Paris&quot;,\n            &quot;color&quot; : &quot;blue&quot;,\n            &quot;status&quot; : &quot;0&quot;\n        }\n     ],\n    &quot;animals&quot; : [ \n        {\n            &quot;city&quot; : &quot;Luton&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;7&quot;\n        }, \n        {\n            &quot;city&quot; : &quot;London&quot;,\n            &quot;color&quot; : &quot;red&quot;,\n            &quot;status&quot; : &quot;7&quot;\n        }\n     ]\n}\n</code></pre>\n<p>I tried a lot of things, but nothing works. If somebody can came with a solution is great, but I will be satisfied with a piece of advice to guide me to solve this matter.</p>\n"},{"tags":["java","web-services","tomcat","web-applications","intellij-idea"],"comments":[{"owner":{"account_id":7411429,"reputation":78038,"user_id":5638630,"accept_rate":88,"display_name":"Krunal"},"score":3,"creation_date":1592218636,"post_id":19068977,"comment_id":110336614,"body_markdown":"None of these answers, work for me. Did you find exact solution.","body":"None of these answers, work for me. Did you find exact solution."}],"answers":[{"comments":[{"owner":{"account_id":138995,"reputation":408,"user_id":344290,"display_name":"lia ant"},"score":22,"creation_date":1436881624,"post_id":20983480,"comment_id":50790404,"body_markdown":"Just to mention - that in my case it actually was a typo in JVM argument that was causing this","body":"Just to mention - that in my case it actually was a typo in JVM argument that was causing this"},{"owner":{"account_id":7685749,"reputation":1783,"user_id":5823618,"accept_rate":57,"display_name":"Alex Wilson"},"score":0,"creation_date":1482175868,"post_id":20983480,"comment_id":69658505,"body_markdown":"Note: use sudo when opening the /etc/hosts file as it is READ-ONLY","body":"Note: use sudo when opening the /etc/hosts file as it is READ-ONLY"},{"owner":{"account_id":1473557,"reputation":487,"user_id":1384523,"display_name":"E3G"},"score":0,"creation_date":1494525231,"post_id":20983480,"comment_id":74878090,"body_markdown":"I had this same error when trying to run a Spring Boot application from STS &quot;Run As&quot; -&gt; &quot;Spring Boot App&quot;. After adding my Mac&#39;s hostname pointing to localhost in the hosts file, it worked. Thanks bond!","body":"I had this same error when trying to run a Spring Boot application from STS &quot;Run As&quot; -&gt; &quot;Spring Boot App&quot;. After adding my Mac&#39;s hostname pointing to localhost in the hosts file, it worked. Thanks bond!"},{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":4,"creation_date":1563985952,"post_id":20983480,"comment_id":100885119,"body_markdown":"If your going to give an OS specific answer mention that first.","body":"If your going to give an OS specific answer mention that first."}],"tags":[],"owner":{"account_id":365711,"reputation":11266,"user_id":710802,"accept_rate":37,"display_name":"bond"},"comment_count":4,"down_vote_count":3,"up_vote_count":75,"is_accepted":false,"score":72,"last_activity_date":1389134396,"creation_date":1389134396,"answer_id":20983480,"question_id":19068977,"body_markdown":"To fix this you need add your machine name in the /etc/hosts file to point to localhost(127.0.0.1).\r\n\r\nYou can find your machine name by running the following command:\r\n\r\n    $ hostname\r\n    macbook-pro\r\n\r\nFrom the output above you know your hostname is &quot;macbook-pro&quot;. \r\nEdit &quot;/etc/hosts&quot; file and add that name at the end of line that lists 127.0.0.1\r\n\r\n    127.0.0.1 localhost macbook-pro\r\n\r\nSave the file.\r\n\r\nNow you IntelliJ should be able to start your server.\r\n","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>To fix this you need add your machine name in the /etc/hosts file to point to localhost(127.0.0.1).</p>\n\n<p>You can find your machine name by running the following command:</p>\n\n<pre><code>$ hostname\nmacbook-pro\n</code></pre>\n\n<p>From the output above you know your hostname is \"macbook-pro\". \nEdit \"/etc/hosts\" file and add that name at the end of line that lists 127.0.0.1</p>\n\n<pre><code>127.0.0.1 localhost macbook-pro\n</code></pre>\n\n<p>Save the file.</p>\n\n<p>Now you IntelliJ should be able to start your server.</p>\n"},{"tags":[],"owner":{"account_id":4280608,"reputation":31,"user_id":3500103,"display_name":"Beth"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1396658717,"creation_date":1396658717,"answer_id":22875224,"question_id":19068977,"body_markdown":"This appears to be a problem with the way mac is handling reading the /etc/hosts file.   See for example http://youtrack.jetbrains.com/issue/IDEA-96865\r\n\r\nAdding the hostname to the hosts file as bond described should not be required, but it does solve the problem.   ","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>This appears to be a problem with the way mac is handling reading the /etc/hosts file.   See for example <a href=\"http://youtrack.jetbrains.com/issue/IDEA-96865\" rel=\"nofollow\">http://youtrack.jetbrains.com/issue/IDEA-96865</a></p>\n\n<p>Adding the hostname to the hosts file as bond described should not be required, but it does solve the problem.   </p>\n"},{"tags":[],"owner":{"account_id":4910019,"reputation":49,"user_id":3955556,"accept_rate":75,"display_name":"cagigas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416407244,"creation_date":1416407244,"answer_id":27019353,"question_id":19068977,"body_markdown":"I solve this problem adding the environment variables JAVA_HOME(C:\\Program Files\\Java\\jdkx.x.x_xx) and JRE_HOME.\r\n","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I solve this problem adding the environment variables JAVA_HOME(C:\\Program Files\\Java\\jdkx.x.x_xx) and JRE_HOME.</p>\n"},{"tags":[],"owner":{"account_id":1986063,"reputation":391,"user_id":1781257,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1419355754,"creation_date":1419355754,"answer_id":27625218,"question_id":19068977,"body_markdown":"This error came to me when I configured (wrong) 3 Gb memory where there was none. IntelliJ does shows the real error message (Could not reserve enough space for object heap) in the Output frame. \r\nI was confused, and attracted by the message in the Event Log, which is to be ignored in this case.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>This error came to me when I configured (wrong) 3 Gb memory where there was none. IntelliJ does shows the real error message (Could not reserve enough space for object heap) in the Output frame. \nI was confused, and attracted by the message in the Event Log, which is to be ignored in this case.</p>\n"},{"comments":[{"owner":{"account_id":176507,"reputation":5460,"user_id":407249,"accept_rate":86,"display_name":"ehsanullahjan"},"score":1,"creation_date":1432224621,"post_id":28730256,"comment_id":48847409,"body_markdown":"This doesn&#39;t solve the problem. For me `sudo scutil --get HostName` returns the correct hostname but IntelliJ still has the issue OP asked about.  Adding hostname to `/etc/hosts`, as @bond suggested, fixed the issue.","body":"This doesn&#39;t solve the problem. For me <code>sudo scutil --get HostName</code> returns the correct hostname but IntelliJ still has the issue OP asked about.  Adding hostname to <code>&#47;etc&#47;hosts</code>, as @bond suggested, fixed the issue."},{"owner":{"account_id":4114728,"reputation":511,"user_id":3376635,"accept_rate":75,"display_name":"Bancarel Valentin"},"score":0,"creation_date":1515618567,"post_id":28730256,"comment_id":83373231,"body_markdown":"This solved my problem ! My hostname contained a dot. I set it as simple as possible; set it in the hosts file as explained above and it works.","body":"This solved my problem ! My hostname contained a dot. I set it as simple as possible; set it in the hosts file as explained above and it works."}],"tags":[],"owner":{"account_id":1593041,"reputation":179,"user_id":1475944,"display_name":"Trideep Gogoi"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1424900686,"creation_date":1424900686,"answer_id":28730256,"question_id":19068977,"body_markdown":"FYI Under certain network conditions your hostname may change or be incorrect. If you are on a mac the following will let you set your hostname fairly permanently:\r\n\r\n    sudo scutil --set HostName correct-name","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>FYI Under certain network conditions your hostname may change or be incorrect. If you are on a mac the following will let you set your hostname fairly permanently:</p>\n\n<pre><code>sudo scutil --set HostName correct-name\n</code></pre>\n"},{"tags":[],"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431023505,"creation_date":1431023505,"answer_id":30109016,"question_id":19068977,"body_markdown":"On top pointing my hostname to 127.0.0.1 in hosts (just run `hostname` in cmd to get it) as well as doing what David GC mentioned, for me the error cleared and debugging worked when I went into the tomcat configuration and changed the debugging startup script from `startup.bat` (which was just my monkeying around) back to the `catalina.bat start` default.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>On top pointing my hostname to 127.0.0.1 in hosts (just run <code>hostname</code> in cmd to get it) as well as doing what David GC mentioned, for me the error cleared and debugging worked when I went into the tomcat configuration and changed the debugging startup script from <code>startup.bat</code> (which was just my monkeying around) back to the <code>catalina.bat start</code> default.</p>\n"},{"comments":[{"owner":{"account_id":264190,"reputation":1095,"user_id":550283,"accept_rate":78,"display_name":"Derek"},"score":1,"creation_date":1453751944,"post_id":31951216,"comment_id":57730448,"body_markdown":"This needs to be higher. I&#39;m seeing the same problem in my IntelliJ, not sure where the value comes from.","body":"This needs to be higher. I&#39;m seeing the same problem in my IntelliJ, not sure where the value comes from."},{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":0,"creation_date":1563986905,"post_id":31951216,"comment_id":100885634,"body_markdown":"There no need to set Catalina_home inside intellij","body":"There no need to set Catalina_home inside intellij"}],"tags":[],"owner":{"account_id":5113689,"reputation":145,"user_id":4099563,"accept_rate":30,"display_name":"vasil todorov"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1439324358,"creation_date":1439324358,"answer_id":31951216,"question_id":19068977,"body_markdown":"I added my hostname to /etc/hosts on localhost.\r\nAdded JAVA_HOME\r\nbut still it showed the same error. In the console, there was output:\r\n\r\n    Unable to start as CATALINA_BASE contains a colon (:) character\r\n\r\nI solved the problem by going to Edit configurations -&gt; Startup/Connection -&gt; changing CATALINA_BASE value to the tomcat installation folder. Before that, it was\r\n\r\n    CATALINA_BASE:   C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\r\n\r\nwhich can&#39;t be correct on a linux machine ;)","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I added my hostname to /etc/hosts on localhost.\nAdded JAVA_HOME\nbut still it showed the same error. In the console, there was output:</p>\n\n<pre><code>Unable to start as CATALINA_BASE contains a colon (:) character\n</code></pre>\n\n<p>I solved the problem by going to Edit configurations -> Startup/Connection -> changing CATALINA_BASE value to the tomcat installation folder. Before that, it was</p>\n\n<pre><code>CATALINA_BASE:   C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\n</code></pre>\n\n<p>which can't be correct on a linux machine ;)</p>\n"},{"tags":[],"owner":{"account_id":1232244,"reputation":3690,"user_id":1196562,"accept_rate":79,"display_name":"Johannes Staehlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1440362936,"creation_date":1440362936,"answer_id":32171393,"question_id":19068977,"body_markdown":"None of the answers above worked for me. In the end I figured out it was an configuration error (I used the android SDK and not Java SDK for compilation).\r\n\r\nGot to \r\n[Right Click on Project] --&gt; Open Module Settings --&gt; Module --&gt; [Dependendecies] and make sure you have configured and selected the Java SDK (not the android java sdk)","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>None of the answers above worked for me. In the end I figured out it was an configuration error (I used the android SDK and not Java SDK for compilation).</p>\n\n<p>Got to \n[Right Click on Project] --> Open Module Settings --> Module --> [Dependendecies] and make sure you have configured and selected the Java SDK (not the android java sdk)</p>\n"},{"comments":[{"owner":{"account_id":1373876,"reputation":3348,"user_id":1308287,"display_name":"Beyamor"},"score":3,"creation_date":1454707308,"post_id":33845466,"comment_id":58182206,"body_markdown":"More generally, Tomcat X might be incompatible with Java Y. Check [here](http://tomcat.apache.org/whichversion.html) for version compatibilities.","body":"More generally, Tomcat X might be incompatible with Java Y. Check <a href=\"http://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">here</a> for version compatibilities."}],"tags":[],"owner":{"account_id":1548520,"reputation":65,"user_id":1441442,"display_name":"fxlex"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1448121475,"creation_date":1448121475,"answer_id":33845466,"question_id":19068977,"body_markdown":"My problem was that tomcat 8 and higher are not compatible with java 6. Changing to java 7 solved it.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>My problem was that tomcat 8 and higher are not compatible with java 6. Changing to java 7 solved it.</p>\n"},{"tags":[],"owner":{"account_id":6590599,"reputation":123,"user_id":5091911,"display_name":"user5091911"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1450856191,"creation_date":1450856191,"answer_id":34430818,"question_id":19068977,"body_markdown":"I meet this question when i use intellij 15.0,then i update to 15.02 version. after that, I edit configurations and reset the Default JRE to my own JRE.It works well for me; ","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I meet this question when i use intellij 15.0,then i update to 15.02 version. after that, I edit configurations and reset the Default JRE to my own JRE.It works well for me; </p>\n"},{"comments":[{"owner":{"account_id":2367173,"reputation":97,"user_id":2072661,"display_name":"Shardayyy"},"score":1,"creation_date":1487946462,"post_id":37308138,"comment_id":72025964,"body_markdown":"This was the issue for me. I changed to JDK 1.8 from JDK 1.7. In the Run/Debug configurations --&gt; Edit Artifacts. changed the SDK version and Project SDK","body":"This was the issue for me. I changed to JDK 1.8 from JDK 1.7. In the Run/Debug configurations --&gt; Edit Artifacts. changed the SDK version and Project SDK"}],"tags":[],"owner":{"account_id":224004,"reputation":4938,"user_id":483588,"accept_rate":71,"display_name":"Ujjwal Singh"},"comment_count":1,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1463598313,"creation_date":1463598313,"answer_id":37308138,"question_id":19068977,"body_markdown":"See that the tomcat you are using is compatible with the Java version. For me the issue was Tomcat-9 required Java-8. If you have a older version of Java, you could use Tomcat-7 to test.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>See that the tomcat you are using is compatible with the Java version. For me the issue was Tomcat-9 required Java-8. If you have a older version of Java, you could use Tomcat-7 to test.</p>\n"},{"tags":[],"owner":{"account_id":9695682,"reputation":21,"user_id":7192193,"display_name":"Ronald Manrique"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479781186,"creation_date":1479781186,"answer_id":40732802,"question_id":19068977,"body_markdown":"I added the following VM Options and it worked for me:\r\n\r\n    -Dcom.sun.management.jmxremote= \r\n    -Dcom.sun.management.jmxremote.port=1099 \r\n    -Dcom.sun.management.jmxremote.authenticate=false \r\n    -Dcom.sun.management.jmxremote.ssl=false","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I added the following VM Options and it worked for me:</p>\n\n<pre><code>-Dcom.sun.management.jmxremote= \n-Dcom.sun.management.jmxremote.port=1099 \n-Dcom.sun.management.jmxremote.authenticate=false \n-Dcom.sun.management.jmxremote.ssl=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492394151,"creation_date":1492394151,"answer_id":43444139,"question_id":19068977,"body_markdown":"I had the same problem of &quot;Unable to ping server at localhost:1099&quot; while I was using intellij 2016 version. \r\n\r\nHowever, as soon as I upgraded it to 2017 version(Ultimate 2017.1) which is installed using &quot;ideaIU-2017.1.exe&quot; the problem disappeared.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I had the same problem of \"Unable to ping server at localhost:1099\" while I was using intellij 2016 version. </p>\n\n<p>However, as soon as I upgraded it to 2017 version(Ultimate 2017.1) which is installed using \"ideaIU-2017.1.exe\" the problem disappeared.</p>\n"},{"tags":[],"owner":{"account_id":9187605,"reputation":543,"user_id":6829195,"display_name":"Yushan ZHANG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522057782,"creation_date":1496164636,"answer_id":44268247,"question_id":19068977,"body_markdown":"I had this issue when running `Tomcat 6.0.53` on `Mac OS Sierra` with `Intellij IDEA` to deploy `Spring` projects.\r\nThis problem was solved after **changing the Tomcat version to the &#39;tar.gz&#39;** one from official site. It seems the &#39;zip&#39; one is for windows.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I had this issue when running <code>Tomcat 6.0.53</code> on <code>Mac OS Sierra</code> with <code>Intellij IDEA</code> to deploy <code>Spring</code> projects.\nThis problem was solved after <strong>changing the Tomcat version to the 'tar.gz'</strong> one from official site. It seems the 'zip' one is for windows.</p>\n"},{"comments":[{"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"score":0,"creation_date":1539176595,"post_id":44796664,"comment_id":92406478,"body_markdown":"Yes, port numbers are a 16 bit integer so only 0-65535 are available (and 0 is reserved, and 1-1023 can only be used by root/admin users).","body":"Yes, port numbers are a 16 bit integer so only 0-65535 are available (and 0 is reserved, and 1-1023 can only be used by root/admin users)."}],"tags":[],"owner":{"account_id":4002732,"reputation":1960,"user_id":3298327,"accept_rate":81,"display_name":"Alex"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498636432,"creation_date":1498636432,"answer_id":44796664,"question_id":19068977,"body_markdown":"I had similar issue when I entered very big port here:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut when I corrected it to something smaller which is in offset range:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Dt6j.png\r\n  [2]: https://i.stack.imgur.com/gXFxU.png\r\n\r\n\r\nIssue was resolved.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I had similar issue when I entered very big port here:\n<a href=\"https://i.stack.imgur.com/7Dt6j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Dt6j.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when I corrected it to something smaller which is in offset range:\n<a href=\"https://i.stack.imgur.com/gXFxU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gXFxU.png\" alt=\"enter image description here\"></a></p>\n\n<p>Issue was resolved.</p>\n"},{"tags":[],"owner":{"account_id":10358720,"reputation":1,"user_id":7639820,"display_name":"Nagarohith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507712572,"creation_date":1507712572,"answer_id":46684101,"question_id":19068977,"body_markdown":"I had same issue and my mistake was, I was trying to start tomcat server with incompatible version of JDK and installed Apache tomcat server. In my case I had installed JDK 7 with Apache tomcat 9. For Apache 9 JDK should be &gt;= 8.\r\n\r\nFor compatibility check this https://tomcat.apache.org/whichversion.html ","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I had same issue and my mistake was, I was trying to start tomcat server with incompatible version of JDK and installed Apache tomcat server. In my case I had installed JDK 7 with Apache tomcat 9. For Apache 9 JDK should be >= 8.</p>\n\n<p>For compatibility check this <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/whichversion.html</a> </p>\n"},{"comments":[{"owner":{"account_id":2977114,"reputation":3234,"user_id":2527942,"accept_rate":78,"display_name":"Erdinc Ay"},"score":1,"creation_date":1569926497,"post_id":50684071,"comment_id":102745927,"body_markdown":"Tomcat 8.5 is buggy as hell, switch to 9.0","body":"Tomcat 8.5 is buggy as hell, switch to 9.0"}],"tags":[],"owner":{"account_id":11786666,"reputation":321,"user_id":8624114,"display_name":"ArsTV"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528126211,"creation_date":1528126211,"answer_id":50684071,"question_id":19068977,"body_markdown":"I had same problem. In &quot;Edit Configurations..&quot; -&gt; &quot;Tomcat Server&quot; I changed JRE from &quot;Default&quot; to my current version with SDK directory address (like C:\\Program Files\\Java\\jdk1.8.0_121\\jre)\r\n\r\nMy Tomcat version is 8.5.31 ","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I had same problem. In \"Edit Configurations..\" -> \"Tomcat Server\" I changed JRE from \"Default\" to my current version with SDK directory address (like C:\\Program Files\\Java\\jdk1.8.0_121\\jre)</p>\n\n<p>My Tomcat version is 8.5.31 </p>\n"},{"tags":[],"owner":{"account_id":3130595,"reputation":615,"user_id":2648478,"accept_rate":67,"display_name":"Pavlo Zvarych"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554792304,"creation_date":1554792304,"answer_id":55586624,"question_id":19068977,"body_markdown":"Setting project&#39;s SDK in IntelliJ (File &gt; Project Structure &gt; Project:Project SDK) worked for me","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>Setting project's SDK in IntelliJ (File > Project Structure > Project:Project SDK) worked for me</p>\n"},{"tags":[],"owner":{"account_id":13145379,"reputation":403,"user_id":9495573,"display_name":"pvma"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1567572583,"creation_date":1567572583,"answer_id":57781668,"question_id":19068977,"body_markdown":"For those who encounter this when you just recently updated IntelliJ (In my case 2019.2).\r\n\r\nI am using JBoss server so i tried to run standalone.bat in the command line and I saw the real issue on the console.\r\n\r\nIt can be different to yours, but in my case I saw:\r\n```\r\nfailure description: &quot;WFLYSRV0137: No deployment content with\r\n```\r\n\r\nAnd on that error I was able to fix this by removing the items (war or ear) inside the ```&lt;deployments/&gt;``` node in my standalone.xml\r\n\r\nHope this helps for those using JBoss+IntelliJ","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>For those who encounter this when you just recently updated IntelliJ (In my case 2019.2).</p>\n\n<p>I am using JBoss server so i tried to run standalone.bat in the command line and I saw the real issue on the console.</p>\n\n<p>It can be different to yours, but in my case I saw:</p>\n\n<pre><code>failure description: \"WFLYSRV0137: No deployment content with\n</code></pre>\n\n<p>And on that error I was able to fix this by removing the items (war or ear) inside the <code>&lt;deployments/&gt;</code> node in my standalone.xml</p>\n\n<p>Hope this helps for those using JBoss+IntelliJ</p>\n"},{"tags":[],"owner":{"account_id":959042,"reputation":1491,"user_id":983803,"accept_rate":65,"display_name":"3xCh1_23"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578434859,"creation_date":1578434859,"answer_id":59636748,"question_id":19068977,"body_markdown":"For me, it was a much different solution since it was running on a virtualbox, so I had to edit the hosts file and add the virtualbox as a localhost\r\n\r\n    127.0.0.1 VirtualBox-blahblah","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>For me, it was a much different solution since it was running on a virtualbox, so I had to edit the hosts file and add the virtualbox as a localhost</p>\n\n<pre><code>127.0.0.1 VirtualBox-blahblah\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1313096,"reputation":1762,"user_id":1260651,"accept_rate":0,"display_name":"Miklos Krivan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606698853,"creation_date":1606698853,"answer_id":65066946,"question_id":19068977,"body_markdown":"In windows environment just check the PATH environment variable if Oracle JRE runtime refreshed the path and put himself at the very beginning of the path. In this case even if the JAVA_HOME AND JRE_HOME points to the correct JDK, the JRE will have precedence. And this case IntelliJ will not start Tomcat instance with the mentioned error message.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>In windows environment just check the PATH environment variable if Oracle JRE runtime refreshed the path and put himself at the very beginning of the path. In this case even if the JAVA_HOME AND JRE_HOME points to the correct JDK, the JRE will have precedence. And this case IntelliJ will not start Tomcat instance with the mentioned error message.</p>\n"},{"tags":[],"owner":{"account_id":14663522,"reputation":475,"user_id":10590001,"display_name":"Tal Hakmon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609844689,"creation_date":1609844689,"answer_id":65577657,"question_id":19068977,"body_markdown":"If you are using java 7 then make sure you have Tomcat 7\r\n\r\nbrew install tomcat@7\r\n\r\nand update run configuration to Tomcat 7 \r\n\r\nTomcat 9 is working with java 8","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>If you are using java 7 then make sure you have Tomcat 7</p>\n<p>brew install tomcat@7</p>\n<p>and update run configuration to Tomcat 7</p>\n<p>Tomcat 9 is working with java 8</p>\n"},{"tags":[],"owner":{"account_id":13249082,"reputation":33,"user_id":9567156,"display_name":"Minchul Joh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617328427,"creation_date":1617328427,"answer_id":66913566,"question_id":19068977,"body_markdown":"I&#39;m leaving an answer for the jboss user.\r\n\r\nIf any of the people experiencing this error are using jboss, make sure the JBOSS_HOME location is correct.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I'm leaving an answer for the jboss user.</p>\n<p>If any of the people experiencing this error are using jboss, make sure the JBOSS_HOME location is correct.</p>\n"},{"tags":[],"owner":{"account_id":120805,"reputation":2012,"user_id":313447,"accept_rate":67,"display_name":"yggdraa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623169169,"creation_date":1623165891,"answer_id":67890005,"question_id":19068977,"body_markdown":"If your tomcat contains file setenv.sh ([YOUR_CATALINA_HOME]/bin/setenv.sh) it may redefine the JAVA_OPTS variable that JIdea uses to set up JMX, so you have to add them there:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: bash --&gt;\r\n\r\n    export JAVA_OPTS =&quot;$JAVA_OPTS &lt;whatever was in setenv.sh&gt;&quot;\r\n    echo $JAVA_OPTS\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>If your tomcat contains file setenv.sh ([YOUR_CATALINA_HOME]/bin/setenv.sh) it may redefine the JAVA_OPTS variable that JIdea uses to set up JMX, so you have to add them there:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>export JAVA_OPTS =&quot;$JAVA_OPTS &lt;whatever was in setenv.sh&gt;&quot;\necho $JAVA_OPTS\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7916122,"reputation":81,"user_id":5978490,"display_name":"Shobana T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630041206,"creation_date":1630041206,"answer_id":68948313,"question_id":19068977,"body_markdown":"If we have the installed the compatible tomcat version for the application JAVA jdk version, we can resolve this issue easily.\r\n\r\nIn my case, when I am using Tomcat 10.1.0.M4 with JAVA JDK 1.8 I faced this issue. When I downgrade my tomcat version to 9.0.41, the issue resolved for me.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nYou can find the compatible tomcat version for the JAVA JDK here..\r\nhttp://tomcat.apache.org/whichversion.html\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UryvM.png\r\n  [2]: https://i.stack.imgur.com/BaAND.png","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>If we have the installed the compatible tomcat version for the application JAVA jdk version, we can resolve this issue easily.</p>\n<p>In my case, when I am using Tomcat 10.1.0.M4 with JAVA JDK 1.8 I faced this issue. When I downgrade my tomcat version to 9.0.41, the issue resolved for me.</p>\n<p><a href=\"https://i.stack.imgur.com/UryvM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UryvM.png\" alt=\"enter image description here\" /></a></p>\n<p>You can find the compatible tomcat version for the JAVA JDK here..\n<a href=\"http://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">http://tomcat.apache.org/whichversion.html</a></p>\n<p><a href=\"https://i.stack.imgur.com/BaAND.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BaAND.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11847624,"reputation":941,"user_id":8669765,"display_name":"Shashank Bodkhe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648699792,"creation_date":1648699792,"answer_id":71686796,"question_id":19068977,"body_markdown":"Below is the error I observed :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OTEdg.png\r\n\r\nto resolve, in my case, I exit intelliJ and renamed folder &quot;.idea&quot; to &quot;.idea_old&quot; (so that I don&#39;t loose old config) and restarted intelliJ, It created a new &quot;.idea&quot; folder and I provided new tomcat configuration. On running tomcat this issue was removed. ","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>Below is the error I observed :</p>\n<p><a href=\"https://i.stack.imgur.com/OTEdg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OTEdg.png\" alt=\"enter image description here\" /></a></p>\n<p>to resolve, in my case, I exit intelliJ and renamed folder &quot;.idea&quot; to &quot;.idea_old&quot; (so that I don't loose old config) and restarted intelliJ, It created a new &quot;.idea&quot; folder and I provided new tomcat configuration. On running tomcat this issue was removed.</p>\n"},{"tags":[],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679646812,"creation_date":1679646812,"answer_id":75831470,"question_id":19068977,"body_markdown":"It&#39;s already in comment mentioned by @lia ant but I think it should be an answer. \r\n\r\n    Application Server was not connected before run configuration stop, reason:\r\n               Unable to ping server at localhost:1099\r\n\r\nthis can happen because of typo in `VM options` in `Edit Configurations...`\r\n\r\n[![screenshot with field which can cause error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fv9gN.png","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>It's already in comment mentioned by @lia ant but I think it should be an answer.</p>\n<pre><code>Application Server was not connected before run configuration stop, reason:\n           Unable to ping server at localhost:1099\n</code></pre>\n<p>this can happen because of typo in <code>VM options</code> in <code>Edit Configurations...</code></p>\n<p><a href=\"https://i.stack.imgur.com/Fv9gN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fv9gN.png\" alt=\"screenshot with field which can cause error\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2907036,"reputation":11,"user_id":2492066,"display_name":"user2492066"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686311762,"creation_date":1686311762,"answer_id":76439983,"question_id":19068977,"body_markdown":"In my case it was due java version issues[changed 1.8 version only with compatible with tomcat 9] just changing the version and pointing to correct one solved the issues.","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>In my case it was due java version issues[changed 1.8 version only with compatible with tomcat 9] just changing the version and pointing to correct one solved the issues.</p>\n"},{"tags":[],"owner":{"account_id":14398481,"reputation":11,"user_id":10400992,"display_name":"MrG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689247516,"creation_date":1689247516,"answer_id":76678837,"question_id":19068977,"body_markdown":"just you need to check ,is it your tomcat version support your java or not\r\nfor example jdk 1.8 didn&#39;t support tomcat 10.1. you should downgrade your tomcat version to 9","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>just you need to check ,is it your tomcat version support your java or not\nfor example jdk 1.8 didn't support tomcat 10.1. you should downgrade your tomcat version to 9</p>\n"}],"owner":{"account_id":1089354,"reputation":5218,"user_id":1084353,"accept_rate":52,"display_name":"Popcorn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129391,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"answer_count":29,"score":77,"last_activity_date":1689247516,"creation_date":1380385092,"question_id":19068977,"body_markdown":"I&#39;m trying to make a simple web app in IntelliJ by following this tutorial:\r\nhttp://wiki.jetbrains.net/intellij/Creating_a_simple_Web_application_for_Tomcat_in_IntelliJ_IDEA_12\r\n\r\nI believe my Tomcat is installed correctly since I see the tomcat pictures when I go to \r\n`http://localhost:8080/`\r\n\r\nI&#39;ve followed all the steps up until the part it tells me to run `index.jsp`, at which point I get the error:\r\n\r\n    Error: Exception thrown by the agent : java.net.MalformedURLException: Local host name unknown: java.net.UnknownHostException: nodename nor servname provided, or not known\r\n\r\nI see this in the log:\r\n\r\n    Application Server was not connected before run configuration stop, reason:\r\n               Unable to ping server at localhost:1099\r\n\r\nThis 1099 comes from the JMX port in Run -&gt; Edit Configurations.\r\n\r\nHow do I fix this?","title":"IntelliJ, can&#39;t start simple web application: Unable to ping server at localhost:1099","body":"<p>I'm trying to make a simple web app in IntelliJ by following this tutorial:\n<a href=\"http://wiki.jetbrains.net/intellij/Creating_a_simple_Web_application_for_Tomcat_in_IntelliJ_IDEA_12\" rel=\"noreferrer\">http://wiki.jetbrains.net/intellij/Creating_a_simple_Web_application_for_Tomcat_in_IntelliJ_IDEA_12</a></p>\n\n<p>I believe my Tomcat is installed correctly since I see the tomcat pictures when I go to \n<code>http://localhost:8080/</code></p>\n\n<p>I've followed all the steps up until the part it tells me to run <code>index.jsp</code>, at which point I get the error:</p>\n\n<pre><code>Error: Exception thrown by the agent : java.net.MalformedURLException: Local host name unknown: java.net.UnknownHostException: nodename nor servname provided, or not known\n</code></pre>\n\n<p>I see this in the log:</p>\n\n<pre><code>Application Server was not connected before run configuration stop, reason:\n           Unable to ping server at localhost:1099\n</code></pre>\n\n<p>This 1099 comes from the JMX port in Run -> Edit Configurations.</p>\n\n<p>How do I fix this?</p>\n"},{"tags":["java","android","android-studio","kotlin","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689091879,"creation_date":1689091879,"answer_id":76663916,"question_id":76663685,"body_markdown":"Android handles files differently from a desktop JVM app. You must package the files in either your resources (`\\app\\src\\main\\res\\raw`) or assets (`\\app\\src\\main\\assets`), and then retrieve them either through `resources.openRawResource()` or `assets.open()` respectively. You will not be using direct file paths. Your local directories are not part of the packaged app installed on the device or emulator. You can only get InputStreams.\r\n\r\nDocumentation: [Resources](https://developer.android.com/guide/topics/resources/providing-resources) and [Assets](https://developer.android.com/reference/android/content/res/AssetManager)","title":"Why java function does not work in android studio but can work in intellij idea using kotlin language and gradle script","body":"<p>Android handles files differently from a desktop JVM app. You must package the files in either your resources (<code>\\app\\src\\main\\res\\raw</code>) or assets (<code>\\app\\src\\main\\assets</code>), and then retrieve them either through <code>resources.openRawResource()</code> or <code>assets.open()</code> respectively. You will not be using direct file paths. Your local directories are not part of the packaged app installed on the device or emulator. You can only get InputStreams.</p>\n<p>Documentation: <a href=\"https://developer.android.com/guide/topics/resources/providing-resources\" rel=\"nofollow noreferrer\">Resources</a> and <a href=\"https://developer.android.com/reference/android/content/res/AssetManager\" rel=\"nofollow noreferrer\">Assets</a></p>\n"},{"tags":[],"owner":{"account_id":20131348,"reputation":37,"user_id":14763592,"display_name":"beginner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689247455,"creation_date":1689247455,"answer_id":76678828,"question_id":76663685,"body_markdown":"    import android.content.Context\r\n\r\n    class Program(val context: Context, val id:Int){\r\n        val fileContent=getContent()\r\n\r\n        private fun getContent(): String {\r\n            try {\r\n                val input = context.resources.openRawResource(id)\r\n                val size=input.available()\r\n                val buffer=ByteArray(size)\r\n                input.read(buffer)\r\n                input.close()\r\n                return String(buffer,Charsets.UTF_8)\r\n            }\r\n            catch(e:Exception){\r\n                e.printStackTrace()\r\n                return &quot;&quot;\r\n            } \r\n        }\r\n    }\r\n\r\nThanks to this https://www.geeksforgeeks.org/how-to-read-a-text-file-in-android/ it taught me how to use `InputStream` to read a file.\r\n\r\nI thought I will need to cast `InputStream` to `FileInputStream` because it is abstract class. In C++, we never can use abstract class unless we inherit from that abstact class an overriding the appropriate function.\r\n\r\nBut this time in java/kotlin, we can do it straight away.","title":"Why java function does not work in android studio but can work in intellij idea using kotlin language and gradle script","body":"<pre><code>import android.content.Context\n\nclass Program(val context: Context, val id:Int){\n    val fileContent=getContent()\n\n    private fun getContent(): String {\n        try {\n            val input = context.resources.openRawResource(id)\n            val size=input.available()\n            val buffer=ByteArray(size)\n            input.read(buffer)\n            input.close()\n            return String(buffer,Charsets.UTF_8)\n        }\n        catch(e:Exception){\n            e.printStackTrace()\n            return &quot;&quot;\n        } \n    }\n}\n</code></pre>\n<p>Thanks to this <a href=\"https://www.geeksforgeeks.org/how-to-read-a-text-file-in-android/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-read-a-text-file-in-android/</a> it taught me how to use <code>InputStream</code> to read a file.</p>\n<p>I thought I will need to cast <code>InputStream</code> to <code>FileInputStream</code> because it is abstract class. In C++, we never can use abstract class unless we inherit from that abstact class an overriding the appropriate function.</p>\n<p>But this time in java/kotlin, we can do it straight away.</p>\n"}],"owner":{"account_id":20131348,"reputation":37,"user_id":14763592,"display_name":"beginner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76663916,"answer_count":2,"score":0,"last_activity_date":1689247455,"creation_date":1689090156,"question_id":76663685,"body_markdown":"I am using Microsoft operating system. Below are my code.\r\nThis one is written in android studio. Here I use `${project_name}\\app\\src\\main\\res` as the \r\n`resources root` directory. I use the same package for the two classes declared below.\r\n\r\n    import java.nio.charset.Charset\r\n    import java.nio.file.Files\r\n    import java.nio.file.Paths\r\n\r\n    class Parser(fileName:String){\r\n         val fileName=fileName\r\n         val fileContent=getContent()\r\n    \r\n    fun getContent():String{\r\n        val encoded= Files.readAllBytes(Paths.get(&quot;.&quot;,fileName))\r\n        //here relative path is the `res` folder in android studio \r\n        return String(encoded, Charset.defaultCharset())\r\n        }\r\n    }\r\n\r\n    import androidx.appcompat.app.AppCompatActivity\r\n    import android.os.Bundle\r\n    import android.widget.TextView\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        val parser=Parser(&quot;default.vert&quot;)\r\n        findViewById&lt;TextView&gt;(R.id.tv_test).also {\r\n            it.text=parser.fileContent\r\n            }\r\n        }\r\n    }\r\n\r\nit says:\r\n\r\n`java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.test/com.example.test.MainActivity}: java.nio.file.NoSuchFileException: ./default.vert`\r\n\r\nBut in intellij idea community edition:\r\n\r\nBasically the same code is used but with slightly different file path, because I mark one of \r\nthe folders to become the default `resources root` directory:\r\n\r\n    import java.nio.charset.Charset\r\n    import java.nio.file.Files\r\n    import java.nio.file.Paths\r\n\r\n    class Parser(fileName:String){\r\n        val fileName=fileName\r\n        val fileContent=getContent()\r\n        fun getContent():String{\r\n            val encoded= \r\n            Files.readAllBytes(Paths.get(&quot;.&quot;,&quot;src&quot;,&quot;main&quot;,&quot;resources&quot;,fileName))\r\n            //here I used the most top level directory (maybe the scientific term is `root` \r\n            //but I am not sure)in the project which was named `Test`.\r\n            return String(encoded, Charset.defaultCharset())\r\n            }\r\n        }\r\n\r\n    fun main(){\r\n        val parser=Parser(&quot;test.vert&quot;)\r\n        print(parser.fileContent)\r\n    }\r\n\r\nand it prints the content:\r\n\r\n    layout (location=0) in vec4 vPosition;\r\n\r\n    void main(){\r\n\t    gl_Position=vPosition;\r\n    }\r\n\r\n**How can I make the code run in Android studio too ? using kotlin**\r\n\r\nI have tried absolute path as well such as:\r\n`c:\\\\users\\\\${user_name}\\\\..until_the_file\\\\default.vert` \r\nbut still got `exception` fileNotFoundException from android studio.","title":"Why java function does not work in android studio but can work in intellij idea using kotlin language and gradle script","body":"<p>I am using Microsoft operating system. Below are my code.\nThis one is written in android studio. Here I use <code>${project_name}\\app\\src\\main\\res</code> as the\n<code>resources root</code> directory. I use the same package for the two classes declared below.</p>\n<pre><code>import java.nio.charset.Charset\nimport java.nio.file.Files\nimport java.nio.file.Paths\n\nclass Parser(fileName:String){\n     val fileName=fileName\n     val fileContent=getContent()\n\nfun getContent():String{\n    val encoded= Files.readAllBytes(Paths.get(&quot;.&quot;,fileName))\n    //here relative path is the `res` folder in android studio \n    return String(encoded, Charset.defaultCharset())\n    }\n}\n\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.TextView\n\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val parser=Parser(&quot;default.vert&quot;)\n    findViewById&lt;TextView&gt;(R.id.tv_test).also {\n        it.text=parser.fileContent\n        }\n    }\n}\n</code></pre>\n<p>it says:</p>\n<p><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.test/com.example.test.MainActivity}: java.nio.file.NoSuchFileException: ./default.vert</code></p>\n<p>But in intellij idea community edition:</p>\n<p>Basically the same code is used but with slightly different file path, because I mark one of\nthe folders to become the default <code>resources root</code> directory:</p>\n<pre><code>import java.nio.charset.Charset\nimport java.nio.file.Files\nimport java.nio.file.Paths\n\nclass Parser(fileName:String){\n    val fileName=fileName\n    val fileContent=getContent()\n    fun getContent():String{\n        val encoded= \n        Files.readAllBytes(Paths.get(&quot;.&quot;,&quot;src&quot;,&quot;main&quot;,&quot;resources&quot;,fileName))\n        //here I used the most top level directory (maybe the scientific term is `root` \n        //but I am not sure)in the project which was named `Test`.\n        return String(encoded, Charset.defaultCharset())\n        }\n    }\n\nfun main(){\n    val parser=Parser(&quot;test.vert&quot;)\n    print(parser.fileContent)\n}\n</code></pre>\n<p>and it prints the content:</p>\n<pre><code>layout (location=0) in vec4 vPosition;\n\nvoid main(){\n    gl_Position=vPosition;\n}\n</code></pre>\n<p><strong>How can I make the code run in Android studio too ? using kotlin</strong></p>\n<p>I have tried absolute path as well such as:\n<code>c:\\\\users\\\\${user_name}\\\\..until_the_file\\\\default.vert</code>\nbut still got <code>exception</code> fileNotFoundException from android studio.</p>\n"},{"tags":["java","image","javafx","byte","javafx-8"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689196495,"post_id":76673774,"comment_id":135180973,"body_markdown":"For context, this is a follow-up question to [JavaFX exception on setImage in a loop problem](https://stackoverflow.com/questions/76629736/javafx-exception-on-setimage-in-a-loop-problem).","body":"For context, this is a follow-up question to <a href=\"https://stackoverflow.com/questions/76629736/javafx-exception-on-setimage-in-a-loop-problem\">JavaFX exception on setImage in a loop problem</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689197279,"post_id":76673774,"comment_id":135181094,"body_markdown":"*&quot;after a few seconds, the program starts crashing&quot;* -&gt; I couldn&#39;t replicate this.  I tried running the example code with OpenJDK 20.0.1 and JavaFX 20.0.1 on OS X 13.4.1 on a 2019 MacBook Pro.  The application was still running fine, with no exception, after ten minutes.  It could be that the issue may be resolved for you by upgrading to a modern version of the JRE and JavaFX.  The optimizations mentioned in [DuncG&#39;s answer](https://stackoverflow.com/users/4712734/duncg), and perhaps some others, are probably good ideas to implement as well.","body":"<i>&quot;after a few seconds, the program starts crashing&quot;</i> -&gt; I couldn&#39;t replicate this.  I tried running the example code with OpenJDK 20.0.1 and JavaFX 20.0.1 on OS X 13.4.1 on a 2019 MacBook Pro.  The application was still running fine, with no exception, after ten minutes.  It could be that the issue may be resolved for you by upgrading to a modern version of the JRE and JavaFX.  The optimizations mentioned in <a href=\"https://stackoverflow.com/users/4712734/duncg\">DuncG&#39;s answer</a>, and perhaps some others, are probably good ideas to implement as well."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689212396,"post_id":76673774,"comment_id":135182573,"body_markdown":"*&quot;by enabling `-Dprism.verbose=true`, I can get more information about the problem. I discovered that the console keeps outputting: `Growing pool D3D Vram Pool target to 524,167,168`&quot;* -&gt; With that setting, I do not receive such console log messages on my setup (there are no logs in my console related to the &quot;D3D Vram Pool&quot;), which makes sense because OS X doesn&#39;t use D3D. It is possible that your issue is Windows system related, though I currently don&#39;t have a test system available to try that.","body":"<i>&quot;by enabling <code>-Dprism.verbose=true</code>, I can get more information about the problem. I discovered that the console keeps outputting: <code>Growing pool D3D Vram Pool target to 524,167,168</code>&quot;</i> -&gt; With that setting, I do not receive such console log messages on my setup (there are no logs in my console related to the &quot;D3D Vram Pool&quot;), which makes sense because OS X doesn&#39;t use D3D. It is possible that your issue is Windows system related, though I currently don&#39;t have a test system available to try that."},{"owner":{"account_id":22184938,"reputation":11,"user_id":16428000,"display_name":"Finn"},"score":0,"creation_date":1689230943,"post_id":76673774,"comment_id":135184504,"body_markdown":"That&#39;s very interesting, yes as I said when I enabled the &quot;-Dprism.order=sw&quot; option, and thus also use a different (rendering?), I also had no problems with it, very strange, I also changed the computer in the meantime to test, but even if it should be a windows problem, why does the System.gc(); call then fix the whole thing","body":"That&#39;s very interesting, yes as I said when I enabled the &quot;-Dprism.order=sw&quot; option, and thus also use a different (rendering?), I also had no problems with it, very strange, I also changed the computer in the meantime to test, but even if it should be a windows problem, why does the System.gc(); call then fix the whole thing"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689232902,"post_id":76673774,"comment_id":135184864,"body_markdown":"`-Dprism.order=sw` is software rendering.  It uses the CPU, not the GPU and the Direct3D system.  So there is no hardware rendering and there is no texture memory limit on a graphics card involved, only a limit on the actual main memory available to the system (which can be paged to disk).  But software rendering on a modern system, is not optimal, it is slower and numerous rendering features such as effects and 3D are disabled in that mode, which is why it is not the standard option.","body":"<code>-Dprism.order=sw</code> is software rendering.  It uses the CPU, not the GPU and the Direct3D system.  So there is no hardware rendering and there is no texture memory limit on a graphics card involved, only a limit on the actual main memory available to the system (which can be paged to disk).  But software rendering on a modern system, is not optimal, it is slower and numerous rendering features such as effects and 3D are disabled in that mode, which is why it is not the standard option."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689247130,"post_id":76673774,"comment_id":135187876,"body_markdown":"*&quot;even if it should be a windows problem, why does the System.gc(); call then fix the whole thing&quot;* -&gt; Could be an issue with the obsolete version of JavaFX you are using which may be fixed in later versions.  Could be an issue specific to Direct3D resource management in JavaFX.  Could be an issue with your graphics card driver.  Could be numerous things.  You would need to debug it on a platform that exhibits the issue to determine the root cause.  Better to use modern software and write code that avoids the issue IMO.","body":"<i>&quot;even if it should be a windows problem, why does the System.gc(); call then fix the whole thing&quot;</i> -&gt; Could be an issue with the obsolete version of JavaFX you are using which may be fixed in later versions.  Could be an issue specific to Direct3D resource management in JavaFX.  Could be an issue with your graphics card driver.  Could be numerous things.  You would need to debug it on a platform that exhibits the issue to determine the root cause.  Better to use modern software and write code that avoids the issue IMO."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689402244,"post_id":76673774,"comment_id":135211319,"body_markdown":"I can&#39;t replicate your exception.  I found an older Windows Laptop, which uses `Intel(R) UHD Graphics 620`, which is low-end integrated graphics on the CPU.  I downloaded an old Oracle JDK 8 edition `1.8.0_371-b11`.  I enabled prism debug.  I added benchmarking to each runlater call.  The awt robot and ImageIO you use is quite slow, taking about half a second per frame.  So the limiter with the CountDownLatch recommended by DuncG is absolutely necessary or you will flood the JavaFX runLater queue and the AWT robot and eventually kill the app.","body":"I can&#39;t replicate your exception.  I found an older Windows Laptop, which uses <code>Intel(R) UHD Graphics 620</code>, which is low-end integrated graphics on the CPU.  I downloaded an old Oracle JDK 8 edition <code>1.8.0_371-b11</code>.  I enabled prism debug.  I added benchmarking to each runlater call.  The awt robot and ImageIO you use is quite slow, taking about half a second per frame.  So the limiter with the CountDownLatch recommended by DuncG is absolutely necessary or you will flood the JavaFX runLater queue and the AWT robot and eventually kill the app."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689402410,"post_id":76673774,"comment_id":135211328,"body_markdown":"But even still, with or without DuncG&#39;s fix, it won&#39;t crash quickly (within a few minutes, I didn&#39;t try longer) for me.  Without the latch limiter it will update very slowly as it is starts trying to take lots of simultaneous screenshots, but it doesn&#39;t die.  With the latch limiter, it will update each half second, the prism debug will output that it grows the Vram (which as I noted before, I believe is a normal thing for it to do), eventually the Vram on my system gets up to about 535K, then stops growing, and the app continues running.  For clean shutdown I made the thread a daemon thread.","body":"But even still, with or without DuncG&#39;s fix, it won&#39;t crash quickly (within a few minutes, I didn&#39;t try longer) for me.  Without the latch limiter it will update very slowly as it is starts trying to take lots of simultaneous screenshots, but it doesn&#39;t die.  With the latch limiter, it will update each half second, the prism debug will output that it grows the Vram (which as I noted before, I believe is a normal thing for it to do), eventually the Vram on my system gets up to about 535K, then stops growing, and the app continues running.  For clean shutdown I made the thread a daemon thread."}],"answers":[{"comments":[{"owner":{"account_id":22184938,"reputation":11,"user_id":16428000,"display_name":"Finn"},"score":0,"creation_date":1689230753,"post_id":76674266,"comment_id":135184467,"body_markdown":"Yes, the code was also only meant as an example, I personally would not use it like that either","body":"Yes, the code was also only meant as an example, I personally would not use it like that either"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689246782,"post_id":76674266,"comment_id":135187794,"body_markdown":"@Finn but did the suggestions here resolve your issue or not?","body":"@Finn but did the suggestions here resolve your issue or not?"},{"owner":{"account_id":22184938,"reputation":11,"user_id":16428000,"display_name":"Finn"},"score":0,"creation_date":1689270217,"post_id":76674266,"comment_id":135193356,"body_markdown":"unfortunately not","body":"unfortunately not"}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689247131,"creation_date":1689194024,"answer_id":76674266,"question_id":76673774,"body_markdown":"It&#39;s not possible for me to test this, but the code you have is flawed because this line puts a task into the `Platform` JavaFXUI thread every 100ms, but you have no idea whether the `Platform` task finished before you queue up another task:\r\n\r\n    Platform.runLater(() -&gt; { ... });\r\n    Thread.sleep(100);\r\n\r\nIf the action takes over 100ms you will start to get a lot of backed up tasks in the UI thread, and then JavaFX will not have a chance to repaint the image properly after each new `setImage` making the use of more calls to `Platform.runLater` pointless because you never see the newer image on screen before your code tries to replace it. The app will become jerky / unresponsive when this starts to occur, and you will get memory issues with a large backlog.\r\n\r\nA simple way to fix this is to change the while loop to wait for each item in the `runLater` call, one way would be with `CountDownLatch`:\r\n\r\n    while (true) {\r\n        CountDownLatch done = new CountDownLatch(1);\r\n        Platform.runLater(() -&gt; {\r\n            try {\r\n                imageView.setImage(new Image(new ByteArrayInputStream(robotScreenshot(&quot;jpg&quot;))));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                System.exit(-1);\r\n            }\r\n            done.countDown();\r\n        });\r\n\r\n        try {\r\n            done.await();\r\n            Thread.sleep(100);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n            System.exit(-1);\r\n        }\r\n    }\r\n\r\nIn addition, it is better to have as much processing outside of the JavaFX UI thread so try moving the screen grab out of the `Platform.runLater` call and diff byte[] with previous and only submit new task for `setImage` when the new image is changed.\r\n","title":"JavaFX bug with fast setImage call","body":"<p>It's not possible for me to test this, but the code you have is flawed because this line puts a task into the <code>Platform</code> JavaFXUI thread every 100ms, but you have no idea whether the <code>Platform</code> task finished before you queue up another task:</p>\n<pre><code>Platform.runLater(() -&gt; { ... });\nThread.sleep(100);\n</code></pre>\n<p>If the action takes over 100ms you will start to get a lot of backed up tasks in the UI thread, and then JavaFX will not have a chance to repaint the image properly after each new <code>setImage</code> making the use of more calls to <code>Platform.runLater</code> pointless because you never see the newer image on screen before your code tries to replace it. The app will become jerky / unresponsive when this starts to occur, and you will get memory issues with a large backlog.</p>\n<p>A simple way to fix this is to change the while loop to wait for each item in the <code>runLater</code> call, one way would be with <code>CountDownLatch</code>:</p>\n<pre><code>while (true) {\n    CountDownLatch done = new CountDownLatch(1);\n    Platform.runLater(() -&gt; {\n        try {\n            imageView.setImage(new Image(new ByteArrayInputStream(robotScreenshot(&quot;jpg&quot;))));\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.exit(-1);\n        }\n        done.countDown();\n    });\n\n    try {\n        done.await();\n        Thread.sleep(100);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n        System.exit(-1);\n    }\n}\n</code></pre>\n<p>In addition, it is better to have as much processing outside of the JavaFX UI thread so try moving the screen grab out of the <code>Platform.runLater</code> call and diff byte[] with previous and only submit new task for <code>setImage</code> when the new image is changed.</p>\n"}],"owner":{"account_id":22184938,"reputation":11,"user_id":16428000,"display_name":"Finn"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689247131,"creation_date":1689189048,"question_id":76673774,"body_markdown":"I&#39;m using Java 8 with JavaFX from Oracle, and I want to create a desktop remote app where the client continuously sends images as byte[] over sockets to the server. The server receives these images and displays them as an image in an ImageView. However, after a few seconds, the program starts crashing, and I get this exception: \r\n`java.lang.NullPointerException at com.sun.prism.d3d.D3DTexture.getContext(D3DTexture.java:84) \r\nat com.sun.prism.d3d.D3DTexture.update(D3DTexture.java:207) \r\nat com.sun.prism.d3d.D3DTexture.update(D3DTexture.java:151)...`\r\n\r\nAfter a lot of googling, I found out that by enabling &quot;-Dprism.verbose=true,&quot; I can get more information about the problem. I discovered that the console keeps outputting:\r\n`Growing pool D3D Vram Pool target to 524,167,168 \r\nGrowing pool D3D Vram Pool target to 524,167,168 \r\nGrowing pool D3D Vram Pool target to 535,226,368...`\r\n\r\nalways with a larger number. This output becomes even faster if, for example, I resize the window in which the ImageView is located, even if the ImageView itself doesn&#39;t change in size, which doesn&#39;t make sense to me.\r\n\r\nAfter some testing, I added a &quot;System.gc();&quot; call after each &quot;setImage();&quot; method call of the ImageView, and suddenly it works without any issues. There is no more &quot;growing pool&quot; log, and the program no longer crashes with the aforementioned NullPointerException. However, continuously calling &quot;System.gc();&quot; is not a solution for me as it severely impacts the performance of the program, and it&#39;s generally recommended to avoid it. Besides, Java should handle this automatically.\r\n\r\nAnother thing that worked was setting &quot;-Dprism.order=sw -Xmx1024m&quot; in the VM options. However, this caused the entire UI to be relatively buggy, so it&#39;s not a solution for me either.\r\n\r\nTo trigger the garbage collector, I also tried calling &quot;setImage(null);&quot; every time, hoping that the garbage collector would &quot;clean up.&quot; Unfortunately, this didn&#39;t help at all.\r\n\r\nI have created a code example that indirectly reproduces the same issue.\r\n\r\nCode-Example: \r\n\r\n```\r\npackage example;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.*;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\n\r\npublic class Main extends Application {\r\n\r\n    private ImageView imageView;\r\n    private Button button;\r\n\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        primaryStage.setTitle(&quot;ImageView Example&quot;);\r\n\r\n        button = new Button(&quot;Start&quot;);\r\n        button.setOnAction(e -&gt; start());\r\n\r\n        imageView = new ImageView();\r\n        imageView.setFitWidth(720);\r\n        imageView.setFitHeight(480);\r\n\r\n        VBox root = new VBox();\r\n        root.setAlignment(Pos.CENTER);\r\n        root.getChildren().addAll(imageView, button);\r\n\r\n        Scene scene = new Scene(root, 720, 510);\r\n\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    private void start() {\r\n        button.setDisable(true);\r\n        new Thread(() -&gt; {\r\n            while (true) {\r\n                Platform.runLater(() -&gt; {\r\n                    try {\r\n                        imageView.setImage(new Image(new ByteArrayInputStream(robotScreenshot(&quot;jpg&quot;))));\r\n//System.gc(); &lt;- would fix the &quot;bug&quot; but is not a option for me\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                        System.exit(-1);\r\n                    }\r\n                });\r\n\r\n                try {\r\n                    Thread.sleep(100);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                    System.exit(-1);\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n\r\n    private static final GraphicsDevice graphicDevice = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0];\r\n\r\n    public static byte[] robotScreenshot(String format) throws Exception {\r\n        Rectangle rectangle = graphicDevice.getDefaultConfiguration().getBounds();\r\n        BufferedImage bufferedImage = new Robot().createScreenCapture(rectangle);\r\n\r\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n        ImageIO.write(bufferedImage, format.toLowerCase(), byteArrayOutputStream);\r\n        return byteArrayOutputStream.toByteArray();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nI tried various approaches to resolve the issue with the growing D3D VRAM pool in JavaFX. Initially, I enabled the &quot;-Dprism.verbose=true&quot; option to gather more information about the problem. My expectation was to identify the cause of the crash and find a solution. However, I discovered that the console continuously displayed messages indicating the growth of the VRAM pool with increasingly larger numbers.\r\n\r\nTo address the issue, I experimented with using &quot;System.gc();&quot; after each &quot;setImage();&quot; method call in the ImageView. Surprisingly, this temporarily resolved the problem. However, I realized that constantly triggering the garbage collector negatively impacted the program&#39;s performance, which was not a viable long-term solution.\r\n\r\nI also attempted setting the VM options to &quot;-Dprism.order=sw -Xmx1024m,&quot; but this led to UI bugs, making it unsuitable as a resolution.\r\n\r\nAdditionally, I tried calling &quot;setImage(null);&quot; instead of &quot;System.gc();&quot; to trigger the garbage collector, but it had no effect on the issue.\r\n\r\nIn summary, despite my attempts to mitigate the growing VRAM pool problem, I have yet to find a satisfactory solution that maintains the program&#39;s performance while avoiding the NullPointerException and excessive memory usage.","title":"JavaFX bug with fast setImage call","body":"<p>I'm using Java 8 with JavaFX from Oracle, and I want to create a desktop remote app where the client continuously sends images as byte[] over sockets to the server. The server receives these images and displays them as an image in an ImageView. However, after a few seconds, the program starts crashing, and I get this exception:\n<code>java.lang.NullPointerException at com.sun.prism.d3d.D3DTexture.getContext(D3DTexture.java:84)  at com.sun.prism.d3d.D3DTexture.update(D3DTexture.java:207)  at com.sun.prism.d3d.D3DTexture.update(D3DTexture.java:151)...</code></p>\n<p>After a lot of googling, I found out that by enabling &quot;-Dprism.verbose=true,&quot; I can get more information about the problem. I discovered that the console keeps outputting:\n<code>Growing pool D3D Vram Pool target to 524,167,168  Growing pool D3D Vram Pool target to 524,167,168  Growing pool D3D Vram Pool target to 535,226,368...</code></p>\n<p>always with a larger number. This output becomes even faster if, for example, I resize the window in which the ImageView is located, even if the ImageView itself doesn't change in size, which doesn't make sense to me.</p>\n<p>After some testing, I added a &quot;System.gc();&quot; call after each &quot;setImage();&quot; method call of the ImageView, and suddenly it works without any issues. There is no more &quot;growing pool&quot; log, and the program no longer crashes with the aforementioned NullPointerException. However, continuously calling &quot;System.gc();&quot; is not a solution for me as it severely impacts the performance of the program, and it's generally recommended to avoid it. Besides, Java should handle this automatically.</p>\n<p>Another thing that worked was setting &quot;-Dprism.order=sw -Xmx1024m&quot; in the VM options. However, this caused the entire UI to be relatively buggy, so it's not a solution for me either.</p>\n<p>To trigger the garbage collector, I also tried calling &quot;setImage(null);&quot; every time, hoping that the garbage collector would &quot;clean up.&quot; Unfortunately, this didn't help at all.</p>\n<p>I have created a code example that indirectly reproduces the same issue.</p>\n<p>Code-Example:</p>\n<pre><code>package example;\n\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport javax.imageio.ImageIO;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\n\npublic class Main extends Application {\n\n    private ImageView imageView;\n    private Button button;\n\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        primaryStage.setTitle(&quot;ImageView Example&quot;);\n\n        button = new Button(&quot;Start&quot;);\n        button.setOnAction(e -&gt; start());\n\n        imageView = new ImageView();\n        imageView.setFitWidth(720);\n        imageView.setFitHeight(480);\n\n        VBox root = new VBox();\n        root.setAlignment(Pos.CENTER);\n        root.getChildren().addAll(imageView, button);\n\n        Scene scene = new Scene(root, 720, 510);\n\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    private void start() {\n        button.setDisable(true);\n        new Thread(() -&gt; {\n            while (true) {\n                Platform.runLater(() -&gt; {\n                    try {\n                        imageView.setImage(new Image(new ByteArrayInputStream(robotScreenshot(&quot;jpg&quot;))));\n//System.gc(); &lt;- would fix the &quot;bug&quot; but is not a option for me\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                        System.exit(-1);\n                    }\n                });\n\n                try {\n                    Thread.sleep(100);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                    System.exit(-1);\n                }\n            }\n        }).start();\n    }\n\n    private static final GraphicsDevice graphicDevice = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0];\n\n    public static byte[] robotScreenshot(String format) throws Exception {\n        Rectangle rectangle = graphicDevice.getDefaultConfiguration().getBounds();\n        BufferedImage bufferedImage = new Robot().createScreenCapture(rectangle);\n\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n        ImageIO.write(bufferedImage, format.toLowerCase(), byteArrayOutputStream);\n        return byteArrayOutputStream.toByteArray();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>I tried various approaches to resolve the issue with the growing D3D VRAM pool in JavaFX. Initially, I enabled the &quot;-Dprism.verbose=true&quot; option to gather more information about the problem. My expectation was to identify the cause of the crash and find a solution. However, I discovered that the console continuously displayed messages indicating the growth of the VRAM pool with increasingly larger numbers.</p>\n<p>To address the issue, I experimented with using &quot;System.gc();&quot; after each &quot;setImage();&quot; method call in the ImageView. Surprisingly, this temporarily resolved the problem. However, I realized that constantly triggering the garbage collector negatively impacted the program's performance, which was not a viable long-term solution.</p>\n<p>I also attempted setting the VM options to &quot;-Dprism.order=sw -Xmx1024m,&quot; but this led to UI bugs, making it unsuitable as a resolution.</p>\n<p>Additionally, I tried calling &quot;setImage(null);&quot; instead of &quot;System.gc();&quot; to trigger the garbage collector, but it had no effect on the issue.</p>\n<p>In summary, despite my attempts to mitigate the growing VRAM pool problem, I have yet to find a satisfactory solution that maintains the program's performance while avoiding the NullPointerException and excessive memory usage.</p>\n"},{"tags":["java","spring","spring-boot","resttemplate","objectmapper"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1689191316,"post_id":76672871,"comment_id":135180171,"body_markdown":"How does the output indicate anything about the type? It&#39;s just the `toString()` of the list, and of whatever type V the list contains.","body":"How does the output indicate anything about the type? It&#39;s just the <code>toString()</code> of the list, and of whatever type V the list contains."},{"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"score":0,"creation_date":1689242288,"post_id":76672871,"comment_id":135186856,"body_markdown":"it should log like this. if there is a typed list\n[partyMapResponseDTO(id=12345, value=null, settlement_group_id=82, code=test)]","body":"it should log like this. if there is a typed list [partyMapResponseDTO(id=12345, value=null, settlement_group_id=82, code=test)]"},{"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"score":0,"creation_date":1689242323,"post_id":76672871,"comment_id":135186866,"body_markdown":"Don&#39;t see the reason, why this been marked down???????????????","body":"Don&#39;t see the reason, why this been marked down???????????????"}],"answers":[{"tags":[],"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689247070,"creation_date":1689247070,"answer_id":76678760,"question_id":76672871,"body_markdown":"Solved this:\r\n\r\n     private &lt;T&gt; List&lt;T&gt; getObjectList(final String json, final Class&lt;T&gt; cls) throws JsonProcessingException {\r\n        ObjectMapper objectMapper=new ObjectMapper();\r\n        return objectMapper\r\n                .readValue(json, objectMapper.getTypeFactory()\r\n                        .constructCollectionType(ArrayList.class, cls));\r\n      }\r\n\r\n    List&lt;V&gt; objectList = getObjectList(response.getBody(), type);\r\n    log.info(&quot;returned object new method {}&quot;, objectList);\r\n\r\n**Log:**\r\n\r\n     returned object new method [PartyMapResponseDTO(id=31193, value=80954, settlement_group_id=72, code=GOL)]","title":"Generic List object mapper","body":"<p>Solved this:</p>\n<pre><code> private &lt;T&gt; List&lt;T&gt; getObjectList(final String json, final Class&lt;T&gt; cls) throws JsonProcessingException {\n    ObjectMapper objectMapper=new ObjectMapper();\n    return objectMapper\n            .readValue(json, objectMapper.getTypeFactory()\n                    .constructCollectionType(ArrayList.class, cls));\n  }\n\nList&lt;V&gt; objectList = getObjectList(response.getBody(), type);\nlog.info(&quot;returned object new method {}&quot;, objectList);\n</code></pre>\n<p><strong>Log:</strong></p>\n<pre><code> returned object new method [PartyMapResponseDTO(id=31193, value=80954, settlement_group_id=72, code=GOL)]\n</code></pre>\n"}],"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76678760,"answer_count":1,"score":-2,"last_activity_date":1689247070,"creation_date":1689180784,"question_id":76672871,"body_markdown":"I am trying to get a generic list from object mapper but it not retunning a type specific list.\r\n\r\n        public &lt;T,V&gt; List&lt;V&gt; invokeService(T request, String url,Class&lt;V&gt; type) {\r\n    \r\n        HttpEntity requestEntity = new HttpEntity&lt;&gt;(sdsRequest, headers);\r\n          ResponseEntity&lt;String&gt;  response= restTemplate.exchange(returnURI,HttpMethod.POST,requestEntity,String.class);\r\n\r\n      ObjectMapper objectMapper=new ObjectMapper();\r\n      ObjectReader objectReader = objectMapper.reader().forType(new TypeReference&lt;List&lt;V&gt;&gt;(){});\r\n      try {\r\n        List&lt;V&gt; list = objectReader.readValue(response.getBody());\r\n        log.info(&quot;returned value {}&quot;,list );\r\n        return list;\r\n      } catch (JsonProcessingException e) {\r\n        throw new RuntimeException(e);\r\n      }\r\n    }\r\n\r\n**Outout** \r\n\r\n    returned value [{settlement_group_id=72, id=3142193, value=812954, code=GO}]\r\n\r\nAs we can see in the output. It is getting converted to List but not of a particular type.\r\n\r\n\r\n**Exception:**\r\n\r\n    java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.service.dtos.PartyMapResponseDTO (java.util.LinkedHashMap is in module java.base of loader &#39;bootstrap&#39;; com.service.dtos.PartyMapResponseDTO is in unnamed module of loader &#39;app&#39;)","title":"Generic List object mapper","body":"<p>I am trying to get a generic list from object mapper but it not retunning a type specific list.</p>\n<pre><code>    public &lt;T,V&gt; List&lt;V&gt; invokeService(T request, String url,Class&lt;V&gt; type) {\n\n    HttpEntity requestEntity = new HttpEntity&lt;&gt;(sdsRequest, headers);\n      ResponseEntity&lt;String&gt;  response= restTemplate.exchange(returnURI,HttpMethod.POST,requestEntity,String.class);\n\n  ObjectMapper objectMapper=new ObjectMapper();\n  ObjectReader objectReader = objectMapper.reader().forType(new TypeReference&lt;List&lt;V&gt;&gt;(){});\n  try {\n    List&lt;V&gt; list = objectReader.readValue(response.getBody());\n    log.info(&quot;returned value {}&quot;,list );\n    return list;\n  } catch (JsonProcessingException e) {\n    throw new RuntimeException(e);\n  }\n}\n</code></pre>\n<p><strong>Outout</strong></p>\n<pre><code>returned value [{settlement_group_id=72, id=3142193, value=812954, code=GO}]\n</code></pre>\n<p>As we can see in the output. It is getting converted to List but not of a particular type.</p>\n<p><strong>Exception:</strong></p>\n<pre><code>java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.service.dtos.PartyMapResponseDTO (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.service.dtos.PartyMapResponseDTO is in unnamed module of loader 'app')\n</code></pre>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":1471892,"reputation":9718,"user_id":1383240,"accept_rate":38,"display_name":"NiVeR"},"score":0,"creation_date":1539800944,"post_id":52861277,"comment_id":92637264,"body_markdown":"http://interactivepython.org/runestone/static/pythonds/BasicDS/InfixPrefixandPostfixExpressions.html","body":"<a href=\"http://interactivepython.org/runestone/static/pythonds/BasicDS/InfixPrefixandPostfixExpressions.html\" rel=\"nofollow noreferrer\">interactivepython.org/runestone/static/pythonds/BasicDS/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":14565177,"reputation":11,"user_id":10520145,"display_name":"user10520145"},"score":0,"creation_date":1540227617,"post_id":52866588,"comment_id":92777800,"body_markdown":"Thanks for the help. What would the syntax for this look like? I&#39;ve been using powershell lately and my Java is real rusty.","body":"Thanks for the help. What would the syntax for this look like? I&#39;ve been using powershell lately and my Java is real rusty."},{"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":1,"creation_date":1540229773,"post_id":52866588,"comment_id":92778832,"body_markdown":"@user10520145 And my Java is almost non-existent. If you want code, either write it yourself or do a search. A search for [java postfix evaluation] reveals lots of implementations. You said in your question that you don&#39;t want the answer, but rather a place to begin. I gave you the place to start.","body":"@user10520145 And my Java is almost non-existent. If you want code, either write it yourself or do a search. A search for [java postfix evaluation] reveals lots of implementations. You said in your question that you don&#39;t want the answer, but rather a place to begin. I gave you the place to start."},{"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1540230299,"post_id":52866588,"comment_id":92779083,"body_markdown":"For example, https://stackoverflow.com/questions/7450815/postfix-evaluation-using-stacks","body":"For example, <a href=\"https://stackoverflow.com/questions/7450815/postfix-evaluation-using-stacks\" title=\"postfix evaluation using stacks\">stackoverflow.com/questions/7450815/&hellip;</a>"}],"tags":[],"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539833330,"creation_date":1539833330,"answer_id":52866588,"question_id":52861277,"body_markdown":"The algorithm to evaluate a postfix expression is pretty simple. The idea is that you push operands onto the stack until you encounter an operator. Then you pop two operands off the stack, apply the operand, and push the result back onto the stack. When you&#39;re done, the final result is on the stack.\r\n\r\nFor example, given the postfix expression `4 5 + 3 *`:\r\n\r\n 1. Read &#39;4&#39;. It&#39;s an operand, so push it onto the stack. Stack contains `[4]`.\r\n 2. Read &#39;5&#39;. It&#39;s an operand, so push it onto the stack. Stack contains `[5,4]`.\r\n 3. Read &#39;+&#39;. It&#39;s an operator. Pop 5 and 4 from the stack. Stack contains `[]`.\r\n 4. Add 5 and 4, giving 9. Push it onto the stack. Stack contains `[9]`.\r\n 5. Read &#39;3&#39;. It&#39;s an operand, so push it onto the stack. Stack contains `[3,9]`.\r\n 6. Read &#39;*&#39;. It&#39;s an operator. Pop 3 and 9 from the stack. Stack contains `[]`.\r\n 7. Multiply 9 and 3, giving 27. Push it onto the stack. Stack contains `[27]`.\r\n 8. You&#39;ve reached the end of input. Pop result from stack.\r\n\r\nIf at any time there aren&#39;t enough operands on the stack, then there&#39;s an error. If at the end of input, you have more than one value on the stack, then there&#39;s an error.\r\n","title":"Write a Java program to evaluate an expression in postfix notation - Data Structures and Algorithms class","body":"<p>The algorithm to evaluate a postfix expression is pretty simple. The idea is that you push operands onto the stack until you encounter an operator. Then you pop two operands off the stack, apply the operand, and push the result back onto the stack. When you're done, the final result is on the stack.</p>\n\n<p>For example, given the postfix expression <code>4 5 + 3 *</code>:</p>\n\n<ol>\n<li>Read '4'. It's an operand, so push it onto the stack. Stack contains <code>[4]</code>.</li>\n<li>Read '5'. It's an operand, so push it onto the stack. Stack contains <code>[5,4]</code>.</li>\n<li>Read '+'. It's an operator. Pop 5 and 4 from the stack. Stack contains <code>[]</code>.</li>\n<li>Add 5 and 4, giving 9. Push it onto the stack. Stack contains <code>[9]</code>.</li>\n<li>Read '3'. It's an operand, so push it onto the stack. Stack contains <code>[3,9]</code>.</li>\n<li>Read '*'. It's an operator. Pop 3 and 9 from the stack. Stack contains <code>[]</code>.</li>\n<li>Multiply 9 and 3, giving 27. Push it onto the stack. Stack contains <code>[27]</code>.</li>\n<li>You've reached the end of input. Pop result from stack.</li>\n</ol>\n\n<p>If at any time there aren't enough operands on the stack, then there's an error. If at the end of input, you have more than one value on the stack, then there's an error.</p>\n"},{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689688894,"post_id":76678752,"comment_id":135247100,"body_markdown":"Please don&#39;t post images of text.","body":"Please don&#39;t post images of text."}],"tags":[],"owner":{"account_id":28033874,"reputation":1,"user_id":21412618,"display_name":"Sujal R. Rabadiya"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689247023,"creation_date":1689247023,"answer_id":76678752,"question_id":52861277,"body_markdown":"[Program for evaluation of post-fix Expression using Stack.\r\n  [1]: https://i.stack.imgur.com/rEhaF.png\r\n  [2]: https://i.stack.imgur.com/xN8dt.png","title":"Write a Java program to evaluate an expression in postfix notation - Data Structures and Algorithms class","body":"<p>[Program for evaluation of post-fix Expression using Stack.\n[1]: https://i.stack.imgur.com/rEhaF.png\n[2]: https://i.stack.imgur.com/xN8dt.png</p>\n"}],"owner":{"account_id":14565177,"reputation":11,"user_id":10520145,"display_name":"user10520145"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4519,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689247023,"creation_date":1539800354,"question_id":52861277,"body_markdown":"This is a Data Structures and Algorithms class assignment. I don&#39;t want the answer, I just need some help on where to even begin. The teacher recites from the book, which is some help, but not much. There is base code below with a space that I am meant to fill in. Thank you for any help you can give me. \r\n\r\n\r\nStacks are used by compilers to evaluate expressions and generate machine-language code. Humans generally write expressions like 3 + 4 and 7 / 9, in which the operator (+ or / here) is written between its operands. This is called inﬁx notation. To evaluate a complex inﬁx expression, a compiler would ﬁrst convert the expression to postﬁx notation, in which the operator is written to the right of its two operands. The preceding inﬁx expressions would appear in postﬁx notation as 3 4 + and 7 9 /, respectively. You are required to write a Java program to evaluate an expression in postﬁx notation and display the result. Assume that an expression ONLY contains parentheses, single-digit integers (as operands) and the following operators: “+”, “-”, “*”, “/”, “%”. The expressions in inﬁx notation are given in the ﬁle InﬁxExpressions.txt. The corresponding expressions in postﬁx notation are given in the ﬁle PostﬁxExpressions.txt. Your program should read the expressions from the ﬁle PostﬁxExpressions.txt, evaluate each postﬁx expression, and display the result in a tabular report. The partial Java program is given in the ﬁle PostﬁxEvaluator.java. Fill in the missing code in PostﬁxEvaluator.java to make the program complete and work properly. The test driver is given in the ﬁle TestDriver.java. You are required to create a package named labs.lab3 to include all the classes. The sample output of the program is given in the ﬁle SampleOutput.txt.\r\n\r\nInfix expressions:\r\n\r\n    1 + 2 - 3 + 4 - 5\r\n    1 * 2 * 3 / 2 / 3\r\n    1 + 2 * 3 - 4 / 2\r\n    1 * 2 + 3 - 4 / 5\r\n    1 + 2 * 4 % 3 + 4\r\n    ( 1 + 2 ) * 3 - 4 / 2\r\n    5 * ( 4 + 3 ) - 2 / 1\r\n    ( ( 1 + 2 ) * 3 - 4 ) / 2\r\n    ( 5 + 4 % 3 - 2 ) / 2\r\n    1 + 2 * 4 / ( 2 + 2 )\r\n\r\nPostfix expressions:\r\n\r\n    1 2 + 3 - 4 + 5 -\r\n    1 2 * 3 * 2 / 3 /\r\n    1 2 3 * + 4 2 / -\r\n    1 2 * 3 + 4 5 / -\r\n    1 2 4 * 3 % + 4 +\r\n    1 2 + 3 * 4 2 / -\r\n    5 4 3 + * 2 1 / -\r\n    1 2 + 3 * 4 - 2 /\r\n    5 4 3 % + 2 - 2 /\r\n    1 2 4 * 2 2 + / +\r\n\r\nSample Output:\r\n\r\n    Postfix Expression            Evaluation Result             \r\n    1 2 + 3 - 4 + 5 -             -1                            \r\n    1 2 * 3 * 2 / 3 /             1                             \r\n    1 2 3 * + 4 2 / -             5                             \r\n    1 2 * 3 + 4 5 / -             5                             \r\n    1 2 4 * 3 % + 4 +             7                             \r\n    1 2 + 3 * 4 2 / -             7                             \r\n    5 4 3 + * 2 1 / -             33                            \r\n    1 2 + 3 * 4 - 2 /             2                             \r\n    5 4 3 % + 2 - 2 /             2                             \r\n    1 2 4 * 2 2 + / +             3                    \r\n\r\nPartial Code:\r\n\r\n    package labs.lab3;\r\n    \r\n    import java.util.Stack;\r\n    import java.util.EmptyStackException;\r\n    \r\n    public class PostfixEvaluator\r\n    {\r\n    \tprivate Stack&lt;Integer&gt; stack;\r\n    \tprivate String expression;\r\n    \r\n    \tpublic PostfixEvaluator(String e)\r\n    \t{\r\n    \t\tstack = new Stack&lt;Integer&gt;();\r\n    \t\texpression = e;\r\n    \t}\r\n    \r\n            // Evaluate the postfix expression and return the evaluation result\r\n    \tpublic int Evaluate()\r\n    \t{\r\n    \t  /* Missing code start here */\r\n    \r\n    \r\n    \r\n              /* Missing code end here */\r\n    \t}\r\n    \r\n    \t// Perform an operation on the two operands\r\n    \tpublic int Calculate(int operand1, int operand2, char operation)\r\n    \t{\r\n    \t\tint result = 0;\r\n    \r\n    \t\tswitch (operation)\r\n    \t\t{\r\n    \t\tcase &#39;+&#39;:\r\n    \t\t\tresult = operand1 + operand2;\r\n    \t\t\tbreak;\r\n    \t\tcase &#39;-&#39;:\r\n    \t\t\tresult = operand1 - operand2;\r\n    \t\t\tbreak;\r\n    \t\tcase &#39;/&#39;:\r\n    \t\t\tresult = operand1 / operand2;\r\n    \t\t\tbreak;\r\n    \t\tcase &#39;*&#39;:\r\n    \t\t\tresult = operand1 * operand2;\r\n    \t\t\tbreak;\r\n    \t\tcase &#39;%&#39;:\r\n    \t\t\tresult = operand1 % operand2;\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Write a Java program to evaluate an expression in postfix notation - Data Structures and Algorithms class","body":"<p>This is a Data Structures and Algorithms class assignment. I don't want the answer, I just need some help on where to even begin. The teacher recites from the book, which is some help, but not much. There is base code below with a space that I am meant to fill in. Thank you for any help you can give me. </p>\n\n<p>Stacks are used by compilers to evaluate expressions and generate machine-language code. Humans generally write expressions like 3 + 4 and 7 / 9, in which the operator (+ or / here) is written between its operands. This is called inﬁx notation. To evaluate a complex inﬁx expression, a compiler would ﬁrst convert the expression to postﬁx notation, in which the operator is written to the right of its two operands. The preceding inﬁx expressions would appear in postﬁx notation as 3 4 + and 7 9 /, respectively. You are required to write a Java program to evaluate an expression in postﬁx notation and display the result. Assume that an expression ONLY contains parentheses, single-digit integers (as operands) and the following operators: “+”, “-”, “*”, “/”, “%”. The expressions in inﬁx notation are given in the ﬁle InﬁxExpressions.txt. The corresponding expressions in postﬁx notation are given in the ﬁle PostﬁxExpressions.txt. Your program should read the expressions from the ﬁle PostﬁxExpressions.txt, evaluate each postﬁx expression, and display the result in a tabular report. The partial Java program is given in the ﬁle PostﬁxEvaluator.java. Fill in the missing code in PostﬁxEvaluator.java to make the program complete and work properly. The test driver is given in the ﬁle TestDriver.java. You are required to create a package named labs.lab3 to include all the classes. The sample output of the program is given in the ﬁle SampleOutput.txt.</p>\n\n<p>Infix expressions:</p>\n\n<pre><code>1 + 2 - 3 + 4 - 5\n1 * 2 * 3 / 2 / 3\n1 + 2 * 3 - 4 / 2\n1 * 2 + 3 - 4 / 5\n1 + 2 * 4 % 3 + 4\n( 1 + 2 ) * 3 - 4 / 2\n5 * ( 4 + 3 ) - 2 / 1\n( ( 1 + 2 ) * 3 - 4 ) / 2\n( 5 + 4 % 3 - 2 ) / 2\n1 + 2 * 4 / ( 2 + 2 )\n</code></pre>\n\n<p>Postfix expressions:</p>\n\n<pre><code>1 2 + 3 - 4 + 5 -\n1 2 * 3 * 2 / 3 /\n1 2 3 * + 4 2 / -\n1 2 * 3 + 4 5 / -\n1 2 4 * 3 % + 4 +\n1 2 + 3 * 4 2 / -\n5 4 3 + * 2 1 / -\n1 2 + 3 * 4 - 2 /\n5 4 3 % + 2 - 2 /\n1 2 4 * 2 2 + / +\n</code></pre>\n\n<p>Sample Output:</p>\n\n<pre><code>Postfix Expression            Evaluation Result             \n1 2 + 3 - 4 + 5 -             -1                            \n1 2 * 3 * 2 / 3 /             1                             \n1 2 3 * + 4 2 / -             5                             \n1 2 * 3 + 4 5 / -             5                             \n1 2 4 * 3 % + 4 +             7                             \n1 2 + 3 * 4 2 / -             7                             \n5 4 3 + * 2 1 / -             33                            \n1 2 + 3 * 4 - 2 /             2                             \n5 4 3 % + 2 - 2 /             2                             \n1 2 4 * 2 2 + / +             3                    \n</code></pre>\n\n<p>Partial Code:</p>\n\n<pre><code>package labs.lab3;\n\nimport java.util.Stack;\nimport java.util.EmptyStackException;\n\npublic class PostfixEvaluator\n{\n    private Stack&lt;Integer&gt; stack;\n    private String expression;\n\n    public PostfixEvaluator(String e)\n    {\n        stack = new Stack&lt;Integer&gt;();\n        expression = e;\n    }\n\n        // Evaluate the postfix expression and return the evaluation result\n    public int Evaluate()\n    {\n      /* Missing code start here */\n\n\n\n          /* Missing code end here */\n    }\n\n    // Perform an operation on the two operands\n    public int Calculate(int operand1, int operand2, char operation)\n    {\n        int result = 0;\n\n        switch (operation)\n        {\n        case '+':\n            result = operand1 + operand2;\n            break;\n        case '-':\n            result = operand1 - operand2;\n            break;\n        case '/':\n            result = operand1 / operand2;\n            break;\n        case '*':\n            result = operand1 * operand2;\n            break;\n        case '%':\n            result = operand1 % operand2;\n            break;\n        }\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":["java","oop","selenium-webdriver","automation","build-automation"],"comments":[{"owner":{"account_id":14522278,"reputation":433,"user_id":10489626,"display_name":"Success Shrestha"},"score":0,"creation_date":1689239712,"post_id":76676178,"comment_id":135186255,"body_markdown":"So you have one remove button that delete the rows? Or does each row have the remove button?","body":"So you have one remove button that delete the rows? Or does each row have the remove button?"},{"owner":{"account_id":17367766,"reputation":3,"user_id":12582507,"display_name":"sarath k"},"score":0,"creation_date":1689251008,"post_id":76676178,"comment_id":135188651,"body_markdown":"yes i have multiple rows with remove btn and current code is working with delete the only one remove button .my question is to delete the all the rows remote button until the table size equal to zero","body":"yes i have multiple rows with remove btn and current code is working with delete the only one remove button .my question is to delete the all the rows remote button until the table size equal to zero"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689263629,"post_id":76676178,"comment_id":135192016,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"comments":[{"owner":{"account_id":17367766,"reputation":3,"user_id":12582507,"display_name":"sarath k"},"score":0,"creation_date":1689254422,"post_id":76678679,"comment_id":135189523,"body_markdown":"Yes i used these code but still its deleting the first row remove button and how can i implement to delete the multiple rows with remove button ?","body":"Yes i used these code but still its deleting the first row remove button and how can i implement to delete the multiple rows with remove button ?"},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1689258199,"post_id":76678679,"comment_id":135190579,"body_markdown":"Can you share your DOM?","body":"Can you share your DOM?"},{"owner":{"account_id":17367766,"reputation":3,"user_id":12582507,"display_name":"sarath k"},"score":0,"creation_date":1689322420,"post_id":76678679,"comment_id":135199913,"body_markdown":"Hi Im not sure i can share DOM here","body":"Hi Im not sure i can share DOM here"},{"owner":{"account_id":17367766,"reputation":3,"user_id":12582507,"display_name":"sarath k"},"score":0,"creation_date":1689330835,"post_id":76678679,"comment_id":135201496,"body_markdown":"yes its started working now just modified table xpath ..thanks","body":"yes its started working now just modified table xpath ..thanks"}],"tags":[],"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689246470,"creation_date":1689246470,"answer_id":76678679,"question_id":76676178,"body_markdown":"Probably you should search from root element from each row. \r\nIt looks like you are trying to click on the same element in your loop each time.\r\n\r\nTry this\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n     List&lt;WebElement&gt; rows = driver.findElements(rowsXpath);\r\n            // For loop follows\r\n     for (WebElement element: rows) {\r\n                // Access individual elements this way:\r\n                WebElement deleteButton = element.findElement(deleteButtonXpath);\r\n                deleteButton.click();\r\n                // there I suggest to add some wait for rows amount to be decreased\r\n    }`\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Unable to delete all the records from table but its deleting only one record using selenium java","body":"<p>Probably you should search from root element from each row.\nIt looks like you are trying to click on the same element in your loop each time.</p>\n<p>Try this</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> List&lt;WebElement&gt; rows = driver.findElements(rowsXpath);\n        // For loop follows\n for (WebElement element: rows) {\n            // Access individual elements this way:\n            WebElement deleteButton = element.findElement(deleteButtonXpath);\n            deleteButton.click();\n            // there I suggest to add some wait for rows amount to be decreased\n}`</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":17367766,"reputation":3,"user_id":12582507,"display_name":"sarath k"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76678679,"answer_count":1,"score":0,"last_activity_date":1689246470,"creation_date":1689226053,"question_id":76676178,"body_markdown":"Trying to delete remove button after adding the products\r\nused for loop to delete the records one by one before signout the testcase \r\n\r\nBut its deleting only one record ,i would like to delete the records until its reach to table count zero \r\n\r\n\r\n       ` List&lt;WebElement&gt; rows = driver.findElements(xpath);\r\n            // For loop follows\r\n            for (int i = 0; i &lt; rows.size(); i++) {\r\n                // Access individual elements this way:\r\n                WebElement deleteButton = driver.findElement(xpath);\r\n                deleteButton.click();\r\n            }`","title":"Unable to delete all the records from table but its deleting only one record using selenium java","body":"<p>Trying to delete remove button after adding the products\nused for loop to delete the records one by one before signout the testcase</p>\n<p>But its deleting only one record ,i would like to delete the records until its reach to table count zero</p>\n<pre><code>   ` List&lt;WebElement&gt; rows = driver.findElements(xpath);\n        // For loop follows\n        for (int i = 0; i &lt; rows.size(); i++) {\n            // Access individual elements this way:\n            WebElement deleteButton = driver.findElement(xpath);\n            deleteButton.click();\n        }`\n</code></pre>\n"},{"tags":["java","generics","reflection","methodhandle","lambda-metafactory"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1689212248,"post_id":76675352,"comment_id":135182565,"body_markdown":"What is &quot;the following error&quot;? You seem to have forgot to include that.","body":"What is &quot;the following error&quot;? You seem to have forgot to include that."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1689245787,"post_id":76675474,"comment_id":135187556,"body_markdown":"The last argument is not the implementing method&#39;s type but the interface method’s type after applying type arguments (which happens to be the same here). The implementing method’s type is implied by the method handle and doesn’t need to be specified.","body":"The last argument is not the implementing method&#39;s type but the interface method’s type after applying type arguments (which happens to be the same here). The implementing method’s type is implied by the method handle and doesn’t need to be specified."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1689246399,"post_id":76675474,"comment_id":135187698,"body_markdown":"@Holger Oh that’s a very subtle difference! I didn’t think much about it.","body":"@Holger Oh that’s a very subtle difference! I didn’t think much about it."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1689247173,"post_id":76675474,"comment_id":135187883,"body_markdown":"It’s important for conversions, first interface method arguments get cast (for reference types) according to the type specified as last arg, then (un)boxing conversions may occur to adapt to the target method handle types. For the return value, it’s the opposite order. First (un)boxing (or dropping), then reference type conversion. For example, when binding `StringBuilder.append(int)` to `BiConsumer&lt;StringBuilder, Integer&gt;` you have `(Object,Object)-&gt; void` as 3rd argument, `(StringBuilder, Integer)-&gt; void` as last argument and `(StringBuilder,int)-&gt; StringBuilder` implied by the method handle","body":"It’s important for conversions, first interface method arguments get cast (for reference types) according to the type specified as last arg, then (un)boxing conversions may occur to adapt to the target method handle types. For the return value, it’s the opposite order. First (un)boxing (or dropping), then reference type conversion. For example, when binding <code>StringBuilder.append(int)</code> to <code>BiConsumer&lt;StringBuilder, Integer&gt;</code> you have <code>(Object,Object)-&gt; void</code> as 3rd argument, <code>(StringBuilder, Integer)-&gt; void</code> as last argument and <code>(StringBuilder,int)-&gt; StringBuilder</code> implied by the method handle"}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689246334,"creation_date":1689214194,"answer_id":76675474,"question_id":76675352,"body_markdown":"What you are doing is inherently not type safe. How do you ensure that `interfaces.get(0)` can process a `ChildOne`? What if it takes a `ChildTwo` instead?\r\n\r\nThis is why you are not allowed to pass `childOne` to `interfaces.get(0).process`. `interfaces.get(0)` is a `ProcessInterface&lt;Something&gt;`, but you don&#39;t know what `Something` is. It could be `ChildOne`, or `ChildTwo`. This is what the type `ProcessInterface&lt;? extends AbstractParent&gt;` *means*. See also [PECS](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super).\r\n\r\nIf `Something` were actually `ChildTwo`, then passing a `ChildOne` will not work at all. The implementing method does not know how to deal with that. In fact, you can only safely pass `null` to `process`.\r\n\r\nSo let&#39;s suppose the user&#39;s of your library are responsible for ensuring that type safety, and that you are sure that this is always safe.\r\n\r\nIn that case, cast `generate`&#39;s return value to `List&lt;ProcessorInterface&lt;AbstractParent&gt;&gt;`:\r\n\r\n    List&lt;ProcessInterface&lt;AbstractParent&gt;&gt; interfaces = \r\n        (List&lt;ProcessInterface&lt;AbstractParent&gt;&gt;)(Object)generate(GeneralProcessor.class);\r\n\r\n(You can change the return type of `generate` to this type, if you really want.)\r\n\r\n`ProcessInterface&lt;AbstractParent&gt;` is a type that you can pass all kinds of `AbstractParent`s to its `process` method. In fact, since type safety is gone at this point, it doesn&#39;t matter which exact type you cast to, as long as it can take any `AbstractParent`.\r\n\r\nNow if you happen to pass the wrong type of instance to `process`, a `ClassCastException` will be thrown.\r\n\r\nAs for your `LambdaMetafactory`, you should pass the method type of the *interface method* for the fourth argument of `metafactory`, not the implementing method&#39;s method type.\r\n\r\n```\r\nCallSite callSite = LambdaMetafactory.metafactory(lookup,\r\n        &quot;process&quot;,\r\n        MethodType.methodType(ProcessInterface.class),\r\n        // this should be the interface method&#39;s type\r\n        MethodType.methodType(String.class, AbstractParent.class, String.class),\r\n        handle,\r\n        handle.type());\r\n```\r\n\r\n","title":"LambdaMetaFactory with Generic Static Methods?","body":"<p>What you are doing is inherently not type safe. How do you ensure that <code>interfaces.get(0)</code> can process a <code>ChildOne</code>? What if it takes a <code>ChildTwo</code> instead?</p>\n<p>This is why you are not allowed to pass <code>childOne</code> to <code>interfaces.get(0).process</code>. <code>interfaces.get(0)</code> is a <code>ProcessInterface&lt;Something&gt;</code>, but you don't know what <code>Something</code> is. It could be <code>ChildOne</code>, or <code>ChildTwo</code>. This is what the type <code>ProcessInterface&lt;? extends AbstractParent&gt;</code> <em>means</em>. See also <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS</a>.</p>\n<p>If <code>Something</code> were actually <code>ChildTwo</code>, then passing a <code>ChildOne</code> will not work at all. The implementing method does not know how to deal with that. In fact, you can only safely pass <code>null</code> to <code>process</code>.</p>\n<p>So let's suppose the user's of your library are responsible for ensuring that type safety, and that you are sure that this is always safe.</p>\n<p>In that case, cast <code>generate</code>'s return value to <code>List&lt;ProcessorInterface&lt;AbstractParent&gt;&gt;</code>:</p>\n<pre><code>List&lt;ProcessInterface&lt;AbstractParent&gt;&gt; interfaces = \n    (List&lt;ProcessInterface&lt;AbstractParent&gt;&gt;)(Object)generate(GeneralProcessor.class);\n</code></pre>\n<p>(You can change the return type of <code>generate</code> to this type, if you really want.)</p>\n<p><code>ProcessInterface&lt;AbstractParent&gt;</code> is a type that you can pass all kinds of <code>AbstractParent</code>s to its <code>process</code> method. In fact, since type safety is gone at this point, it doesn't matter which exact type you cast to, as long as it can take any <code>AbstractParent</code>.</p>\n<p>Now if you happen to pass the wrong type of instance to <code>process</code>, a <code>ClassCastException</code> will be thrown.</p>\n<p>As for your <code>LambdaMetafactory</code>, you should pass the method type of the <em>interface method</em> for the fourth argument of <code>metafactory</code>, not the implementing method's method type.</p>\n<pre><code>CallSite callSite = LambdaMetafactory.metafactory(lookup,\n        &quot;process&quot;,\n        MethodType.methodType(ProcessInterface.class),\n        // this should be the interface method's type\n        MethodType.methodType(String.class, AbstractParent.class, String.class),\n        handle,\n        handle.type());\n</code></pre>\n"}],"owner":{"account_id":25945482,"reputation":25,"user_id":22080814,"display_name":"TypeMonkey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76675474,"answer_count":1,"score":1,"last_activity_date":1689246334,"creation_date":1689211810,"question_id":76675352,"body_markdown":"So I&#39;m creating a library that allows users to pass a `Class&lt;?&gt;` and collect all static methods with a specific annotation (and other criteria, such as a certain parameter count and types) and convert them into lambda `FunctionalInterfaces` that my library will use internally for processing.\r\n\r\nFor example:\r\n\r\nSay I have the following class tree:\r\n\r\n\r\n```\r\npublic abstract class AbstractParent {\r\n  \r\n  public String sayHi() {\r\n    return getClass().getName() + &quot; instance says hi!&quot;;\r\n  }\r\n\r\n}\r\n```\r\n\r\nwith subclasses:\r\n\r\n\r\n```\r\npublic class ChildOne extends AbstractParent {\r\n\r\n  public int childOneSpecialMethod() {\r\n    return 2558445;\r\n  }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class ChildTwo extends AbstractParent {\r\n\r\n  public int childTwoSpecialMethod() {\r\n    return 484848;\r\n  }\r\n  \r\n}\r\n```\r\n\r\nMy library allows for users to annotate a class&#39;s static methods with the following annotation:\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.METHOD)\r\npublic @interface ProcessAnnotation {}\r\n```\r\n\r\nwith the following rules: the static method first parameter be an instance of `AbstractParent`, and its second parameter must be a `String`, and must return a `String`. So, something like this:\r\n\r\n```\r\npublic class GeneralProcessor {\r\n  \r\n  @ProcessAnnotation\r\n  public static String easyProcessing(ChildOne one, String otherArg) {\r\n    //Some code\r\n    System.out.println(&quot; === In processing for ChildOne types&quot;);\r\n    return otherArg + one.toString();\r\n  }\r\n\r\n  @ProcessAnnotation\r\n  public static String easyProcessing(ChildTwo two, String otherArg) {\r\n    //Some code\r\n    System.out.println(&quot; === In processing for ChildTwo types&quot;);\r\n    return otherArg + two.toString();\r\n  }\r\n}\r\n```\r\n\r\nOn the library-side of things, I want to collect all these methods so that I can use them for some processing while doing it in a relatively fast manner and I found that `MethodHandles` and `LambdaMetaFactory` is the best way to do this.\r\n\r\nSpecifically, I want to invoke these collected methods using my own `FunctionalInterface` :\r\n\r\n\r\n```\r\n@FunctionalInterface\r\npublic interface ProcessInterface&lt;T extends AbstractParent&gt; {\r\n  \r\n  public String process(T obj, String extraArg);\r\n}\r\n```\r\n\r\n\r\n\r\nSo far, what I&#39;ve tried is something like this:\r\n\r\n\r\n```\r\npublic static List&lt;ProcessInterface&lt;? extends AbstractParent&gt;&gt; generate(Class&lt;?&gt; targetClass) throws Throwable {\r\n    ArrayList&lt;ProcessInterface&lt;? extends AbstractParent&gt;&gt; processors = new ArrayList&lt;&gt;();\r\n\r\n    for (Method method : targetClass.getDeclaredMethods()) {\r\n      if (method.isAnnotationPresent(ProcessAnnotation.class) &amp;&amp;\r\n          method.getParameterCount() == 2 &amp;&amp; \r\n          AbstractParent.class.isAssignableFrom(method.getParameterTypes()[0]) &amp;&amp;\r\n          method.getParameterTypes()[1] == String.class) {\r\n        \r\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n        MethodHandle handle = lookup.unreflect(method);\r\n        CallSite callSite = LambdaMetafactory.metafactory(lookup, \r\n                                                          &quot;process&quot;, \r\n                                                          MethodType.methodType(ProcessInterface.class), \r\n                                                          MethodType.methodType(String.class, \r\n                                                                                method.getParameterTypes()[0],\r\n                                                                                String.class), \r\n                                                          handle, \r\n                                                          handle.type());\r\n\r\n        ProcessInterface&lt;? extends AbstractParent&gt; func = (ProcessInterface&lt;? extends AbstractParent&gt;) callSite.getTarget().invoke();\r\n        processors.add(func);\r\n      }\r\n    }\r\n\r\n    return processors;\r\n  }\r\n```\r\n\r\nHowever, I get the following error when I actually invoke the lambda. For example:\r\n\r\n\r\n```\r\nList&lt;ProcessInterface&lt;? extends AbstractParent&gt;&gt; interfaces = generate(GeneralProcessor.class);\r\n\r\nChildOne childOne = new ChildOne();\r\ninterfaces.get(0).process(childOne, &quot;&quot;);\r\n```\r\n\r\nIs there a fix to do this? Or maybe even a better way to achieve this?\r\n","title":"LambdaMetaFactory with Generic Static Methods?","body":"<p>So I'm creating a library that allows users to pass a <code>Class&lt;?&gt;</code> and collect all static methods with a specific annotation (and other criteria, such as a certain parameter count and types) and convert them into lambda <code>FunctionalInterfaces</code> that my library will use internally for processing.</p>\n<p>For example:</p>\n<p>Say I have the following class tree:</p>\n<pre><code>public abstract class AbstractParent {\n  \n  public String sayHi() {\n    return getClass().getName() + &quot; instance says hi!&quot;;\n  }\n\n}\n</code></pre>\n<p>with subclasses:</p>\n<pre><code>public class ChildOne extends AbstractParent {\n\n  public int childOneSpecialMethod() {\n    return 2558445;\n  }\n}\n</code></pre>\n<pre><code>public class ChildTwo extends AbstractParent {\n\n  public int childTwoSpecialMethod() {\n    return 484848;\n  }\n  \n}\n</code></pre>\n<p>My library allows for users to annotate a class's static methods with the following annotation:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface ProcessAnnotation {}\n</code></pre>\n<p>with the following rules: the static method first parameter be an instance of <code>AbstractParent</code>, and its second parameter must be a <code>String</code>, and must return a <code>String</code>. So, something like this:</p>\n<pre><code>public class GeneralProcessor {\n  \n  @ProcessAnnotation\n  public static String easyProcessing(ChildOne one, String otherArg) {\n    //Some code\n    System.out.println(&quot; === In processing for ChildOne types&quot;);\n    return otherArg + one.toString();\n  }\n\n  @ProcessAnnotation\n  public static String easyProcessing(ChildTwo two, String otherArg) {\n    //Some code\n    System.out.println(&quot; === In processing for ChildTwo types&quot;);\n    return otherArg + two.toString();\n  }\n}\n</code></pre>\n<p>On the library-side of things, I want to collect all these methods so that I can use them for some processing while doing it in a relatively fast manner and I found that <code>MethodHandles</code> and <code>LambdaMetaFactory</code> is the best way to do this.</p>\n<p>Specifically, I want to invoke these collected methods using my own <code>FunctionalInterface</code> :</p>\n<pre><code>@FunctionalInterface\npublic interface ProcessInterface&lt;T extends AbstractParent&gt; {\n  \n  public String process(T obj, String extraArg);\n}\n</code></pre>\n<p>So far, what I've tried is something like this:</p>\n<pre><code>public static List&lt;ProcessInterface&lt;? extends AbstractParent&gt;&gt; generate(Class&lt;?&gt; targetClass) throws Throwable {\n    ArrayList&lt;ProcessInterface&lt;? extends AbstractParent&gt;&gt; processors = new ArrayList&lt;&gt;();\n\n    for (Method method : targetClass.getDeclaredMethods()) {\n      if (method.isAnnotationPresent(ProcessAnnotation.class) &amp;&amp;\n          method.getParameterCount() == 2 &amp;&amp; \n          AbstractParent.class.isAssignableFrom(method.getParameterTypes()[0]) &amp;&amp;\n          method.getParameterTypes()[1] == String.class) {\n        \n        MethodHandles.Lookup lookup = MethodHandles.lookup();\n        MethodHandle handle = lookup.unreflect(method);\n        CallSite callSite = LambdaMetafactory.metafactory(lookup, \n                                                          &quot;process&quot;, \n                                                          MethodType.methodType(ProcessInterface.class), \n                                                          MethodType.methodType(String.class, \n                                                                                method.getParameterTypes()[0],\n                                                                                String.class), \n                                                          handle, \n                                                          handle.type());\n\n        ProcessInterface&lt;? extends AbstractParent&gt; func = (ProcessInterface&lt;? extends AbstractParent&gt;) callSite.getTarget().invoke();\n        processors.add(func);\n      }\n    }\n\n    return processors;\n  }\n</code></pre>\n<p>However, I get the following error when I actually invoke the lambda. For example:</p>\n<pre><code>List&lt;ProcessInterface&lt;? extends AbstractParent&gt;&gt; interfaces = generate(GeneralProcessor.class);\n\nChildOne childOne = new ChildOne();\ninterfaces.get(0).process(childOne, &quot;&quot;);\n</code></pre>\n<p>Is there a fix to do this? Or maybe even a better way to achieve this?</p>\n"},{"tags":["java","android"],"owner":{"account_id":19996675,"reputation":43,"user_id":14656577,"display_name":"matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689246312,"creation_date":1689246312,"question_id":76678659,"body_markdown":"I am trying to change the locale of the app at runtime, using [the official android guide](https://developer.android.com/guide/topics/resources/app-languages#androidx-impl), while handling the locale configuration changes manually to avoid the main activity recreation. But there is a compound view that has a custom `labelText` attribute, which I need to update with a new localized string on every configuration change:\r\n\r\n```java\r\npublic class SomeScreen extends Fragment {\r\n    private TextInputCustom phoneField; // custom compound view\r\n    private Button buttonEn;\r\n    private Button buttonDe;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        // ...  (inflate view, etc...)\r\n        \r\n        buttonEn = view.findViewById(R.id.buttonEn);\r\n        buttonEn.setOnClickListener(view1 -&gt; {\r\n            LocaleListCompat appLocale = LocaleListCompat.forLanguageTags(&quot;en&quot;);\r\n            AppCompatDelegate.setApplicationLocales(appLocale);\r\n        });\r\n\r\n        buttonDe = view.findViewById(R.id.buttonDe);\r\n        buttonDe.setOnClickListener(view1 -&gt; {\r\n            LocaleListCompat appLocale = LocaleListCompat.forLanguageTags(&quot;de&quot;);\r\n            AppCompatDelegate.setApplicationLocales(appLocale);\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onConfigurationChanged(Configuration newConfig) {\r\n        super.onConfigurationChanged(newConfig);\r\n        phoneField.onConfigurationChanged(newConfig);\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\n\r\n```java\r\npublic class TextInputCustom extends ConstraintLayout {\r\n    private TextView label;\r\n    private @Nullable AttributeSet attributeSet;\r\n\r\n    public TextInputCustom(Context context, @Nullable AttributeSet attrs) {\r\n        super(context, attrs);\r\n        this.attributeSet = attrs;\r\n        init(context);\r\n    }\r\n\r\n    @Override\r\n    public void onConfigurationChanged(Configuration newConfig) {\r\n        super.onConfigurationChanged(newConfig);\r\n\r\n        TypedArray typedArray = getContext().obtainStyledAttributes(attributeSet, R.styleable.TextInputCustom);\r\n        String labelText = typedArray.getString(R.styleable.TextInputCustom_labelText);\r\n        //     ^^^\r\n        label.setText(labelText);\r\n        typedArray.recycle();\r\n    }\r\n    \r\n    // ...\r\n}\r\n```\r\n\r\nThe problem is that `labelText` obtained from `typedArray` always returns `null` in the `onConfigurationChanged` method. Debugger shows that `getContext().obtainStyledAttributes(...)` returns wrong or zero values. \r\nIs there a way to get attribute values from xml layout of a component during configuration change? So that I could specify string in the layout like so:\r\n```xml\r\n    &lt;TextInputCustom\r\n        app:labelText=&quot;@string/password&quot;\r\n        ...\r\n    /&gt;\r\n```\r\n\r\nversions:\r\n- targetSdk: 33\r\n- minSdk: 16\r\n- `androidx.appcompat:appcompat:1.6.1`\r\n- `com.google.android.material:material:1.6.0`","title":"How can I get styled attributes in onConfigurationChanged()?","body":"<p>I am trying to change the locale of the app at runtime, using <a href=\"https://developer.android.com/guide/topics/resources/app-languages#androidx-impl\" rel=\"nofollow noreferrer\">the official android guide</a>, while handling the locale configuration changes manually to avoid the main activity recreation. But there is a compound view that has a custom <code>labelText</code> attribute, which I need to update with a new localized string on every configuration change:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeScreen extends Fragment {\n    private TextInputCustom phoneField; // custom compound view\n    private Button buttonEn;\n    private Button buttonDe;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        // ...  (inflate view, etc...)\n        \n        buttonEn = view.findViewById(R.id.buttonEn);\n        buttonEn.setOnClickListener(view1 -&gt; {\n            LocaleListCompat appLocale = LocaleListCompat.forLanguageTags(&quot;en&quot;);\n            AppCompatDelegate.setApplicationLocales(appLocale);\n        });\n\n        buttonDe = view.findViewById(R.id.buttonDe);\n        buttonDe.setOnClickListener(view1 -&gt; {\n            LocaleListCompat appLocale = LocaleListCompat.forLanguageTags(&quot;de&quot;);\n            AppCompatDelegate.setApplicationLocales(appLocale);\n        });\n\n        return view;\n    }\n\n    @Override\n    public void onConfigurationChanged(Configuration newConfig) {\n        super.onConfigurationChanged(newConfig);\n        phoneField.onConfigurationChanged(newConfig);\n    }\n\n    // ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class TextInputCustom extends ConstraintLayout {\n    private TextView label;\n    private @Nullable AttributeSet attributeSet;\n\n    public TextInputCustom(Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n        this.attributeSet = attrs;\n        init(context);\n    }\n\n    @Override\n    public void onConfigurationChanged(Configuration newConfig) {\n        super.onConfigurationChanged(newConfig);\n\n        TypedArray typedArray = getContext().obtainStyledAttributes(attributeSet, R.styleable.TextInputCustom);\n        String labelText = typedArray.getString(R.styleable.TextInputCustom_labelText);\n        //     ^^^\n        label.setText(labelText);\n        typedArray.recycle();\n    }\n    \n    // ...\n}\n</code></pre>\n<p>The problem is that <code>labelText</code> obtained from <code>typedArray</code> always returns <code>null</code> in the <code>onConfigurationChanged</code> method. Debugger shows that <code>getContext().obtainStyledAttributes(...)</code> returns wrong or zero values.\nIs there a way to get attribute values from xml layout of a component during configuration change? So that I could specify string in the layout like so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;TextInputCustom\n        app:labelText=&quot;@string/password&quot;\n        ...\n    /&gt;\n</code></pre>\n<p>versions:</p>\n<ul>\n<li>targetSdk: 33</li>\n<li>minSdk: 16</li>\n<li><code>androidx.appcompat:appcompat:1.6.1</code></li>\n<li><code>com.google.android.material:material:1.6.0</code></li>\n</ul>\n"},{"tags":["java","android","kotlin","bluetooth"],"comments":[{"owner":{"account_id":15318806,"reputation":774,"user_id":11051950,"display_name":"bautista"},"score":0,"creation_date":1559737031,"post_id":56458582,"comment_id":99511987,"body_markdown":"Are you looking for code samples or a general approach?","body":"Are you looking for code samples or a general approach?"},{"owner":{"account_id":15941481,"reputation":301,"user_id":11503193,"display_name":"MarkWang"},"score":0,"creation_date":1559812680,"post_id":56458582,"comment_id":99539345,"body_markdown":"@bautista I want to find the code samples.\n\nAnd I found the using A2dp disconnect and reconnect can switch the activity of audio, I hope to find the smarter code samples.","body":"@bautista I want to find the code samples.  And I found the using A2dp disconnect and reconnect can switch the activity of audio, I hope to find the smarter code samples."}],"answers":[{"comments":[{"owner":{"account_id":15941481,"reputation":301,"user_id":11503193,"display_name":"MarkWang"},"score":0,"creation_date":1566977352,"post_id":57679349,"comment_id":101819270,"body_markdown":"Thanks your reply, so BluetoothSockets can control Bluetooth earbuds? I think bluetoothSockets only use between two android phone when we want to control.","body":"Thanks your reply, so BluetoothSockets can control Bluetooth earbuds? I think bluetoothSockets only use between two android phone when we want to control."},{"owner":{"account_id":9987648,"reputation":21,"user_id":7388221,"display_name":"Krešimir Turkalj"},"score":0,"creation_date":1567081926,"post_id":57679349,"comment_id":101862576,"body_markdown":"Unfortunately, I wouldn&#39;t know correct way to set it. That was closest I could get so far (dealing with similar issue). \nOther closest thing to finding an answer was this thread, but I have hard time figuring out which part actually sets current device playing sound.\n\nhttps://stackoverflow.com/questions/22226552/programmatically-connect-to-paired-bluetooth-speaker-and-play-audio/22390540#22390540","body":"Unfortunately, I wouldn&#39;t know correct way to set it. That was closest I could get so far (dealing with similar issue).  Other closest thing to finding an answer was this thread, but I have hard time figuring out which part actually sets current device playing sound.  <a href=\"https://stackoverflow.com/questions/22226552/programmatically-connect-to-paired-bluetooth-speaker-and-play-audio/22390540#22390540\" title=\"programmatically connect to paired bluetooth speaker and play audio\">stackoverflow.com/questions/22226552/&hellip;</a>"},{"owner":{"account_id":9987648,"reputation":21,"user_id":7388221,"display_name":"Krešimir Turkalj"},"score":0,"creation_date":1570888185,"post_id":57679349,"comment_id":103062990,"body_markdown":"Hopefully new addition helps you more!","body":"Hopefully new addition helps you more!"}],"tags":[],"owner":{"account_id":9987648,"reputation":21,"user_id":7388221,"display_name":"Krešimir Turkalj"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689245858,"creation_date":1566925572,"answer_id":57679349,"question_id":56458582,"body_markdown":"[Documentation][1] says it can only be connected to a single A2DP device at a time, so you should be able to switch between devices by connecting to device you want to use.\r\nYou can connect to device by using [BluetoothSockets][2]. \r\n\r\n\r\nEDIT:\r\nI found other solutions, one which I find reliable. Both of them rely on method reflections.\r\n\r\nFirst one is from this [post][3].\r\n\r\n 1. Get BluetoothA2dp proxy from serviceListener\r\n\r\n  ```\r\n    bluetoothManager.adapter.getProfileProxy(this, serviceListener, BluetoothProfile.A2DP)\r\n\r\n    private val serviceListener = object : BluetoothProfile.ServiceListener {\r\n        override fun onServiceDisconnected(profile: Int) {\r\n            if (profile == BluetoothProfile.A2DP) {\r\n                bluetoothA2dp = null\r\n            }\r\n        }\r\n\r\n        override fun onServiceConnected(profile: Int, proxy: BluetoothProfile?) {\r\n            if (profile == BluetoothProfile.A2DP) {\r\n                handler.post(btSearchRunnable)\r\n                bluetoothA2dp = proxy as BluetoothA2dp\r\n            }\r\n        }\r\n    }\r\n```\r\n 2. Get &quot;connect&quot; method from reflection.\r\n```\r\nprivate val connect = BluetoothA2dp::class.java.getDeclaredMethod(&quot;connect&quot;,BluetoothDevice::class.java)\r\n```\r\n 3. Invoke method with proxy as first argument and device as second.\r\n\r\n ``` \r\n connect.invoke(bluetoothA2dp,device)\r\n ```\r\n\r\nOther method used reflection to get `createRfcommSocket` to circumvent issue with one parameter which you can&#39;t normally access. I can post a link to it, but a problem I had with it is that always lagged main thread, always threw me an error and connected unpredictably.\r\n\r\n  [1]: https://developer.android.com/reference/android/bluetooth/BluetoothA2dp.html\r\n  [2]: https://developer.android.com/guide/topics/connectivity/bluetooth#ConnectDevices\r\n  [3]: https://stackoverflow.com/a/18397935/7388221","title":"How to switching audio between Bluetooth audio devices on android using programmatically","body":"<p><a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothA2dp.html\" rel=\"nofollow noreferrer\">Documentation</a> says it can only be connected to a single A2DP device at a time, so you should be able to switch between devices by connecting to device you want to use.\nYou can connect to device by using <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth#ConnectDevices\" rel=\"nofollow noreferrer\">BluetoothSockets</a>.</p>\n<p>EDIT:\nI found other solutions, one which I find reliable. Both of them rely on method reflections.</p>\n<p>First one is from this <a href=\"https://stackoverflow.com/a/18397935/7388221\">post</a>.</p>\n<ol>\n<li>Get BluetoothA2dp proxy from serviceListener</li>\n</ol>\n<pre><code>  bluetoothManager.adapter.getProfileProxy(this, serviceListener, BluetoothProfile.A2DP)\n\n  private val serviceListener = object : BluetoothProfile.ServiceListener {\n      override fun onServiceDisconnected(profile: Int) {\n          if (profile == BluetoothProfile.A2DP) {\n              bluetoothA2dp = null\n          }\n      }\n\n      override fun onServiceConnected(profile: Int, proxy: BluetoothProfile?) {\n          if (profile == BluetoothProfile.A2DP) {\n              handler.post(btSearchRunnable)\n              bluetoothA2dp = proxy as BluetoothA2dp\n          }\n      }\n  }\n</code></pre>\n<ol start=\"2\">\n<li>Get &quot;connect&quot; method from reflection.</li>\n</ol>\n<pre><code>private val connect = BluetoothA2dp::class.java.getDeclaredMethod(&quot;connect&quot;,BluetoothDevice::class.java)\n</code></pre>\n<ol start=\"3\">\n<li>Invoke method with proxy as first argument and device as second.</li>\n</ol>\n<pre><code>connect.invoke(bluetoothA2dp,device)\n</code></pre>\n<p>Other method used reflection to get <code>createRfcommSocket</code> to circumvent issue with one parameter which you can't normally access. I can post a link to it, but a problem I had with it is that always lagged main thread, always threw me an error and connected unpredictably.</p>\n"}],"owner":{"account_id":15941481,"reputation":301,"user_id":11503193,"display_name":"MarkWang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689245858,"creation_date":1559729971,"question_id":56458582,"body_markdown":"It&#39;s let me confused for a long time.\r\n\r\nI have two bt audio devices connected on android phone, and I want to switch specific bt audio device using programmatically.\r\n\r\nI search keyword about a2dp, media router and audioManager than seems can&#39;t do this thing... \r\n\r\nI only way found the function is:\r\n\r\nBT devices=&gt; A and B connected on an Android phone.\r\nAnd right now the media play to A and I want to switch to B\r\n\r\nStep1: A, B unpair on Android phone.\r\n\r\nStep2: A pair on Android phone.\r\n\r\nStep3: B pair on Android phone.\r\n\r\nThe media play output is B,\r\n\r\nseems lastest pair Bluetooth device is media play output.\r\n\r\n\r\nCan anyone give me some advice or direction? \r\nThanks, guys","title":"How to switching audio between Bluetooth audio devices on android using programmatically","body":"<p>It's let me confused for a long time.</p>\n\n<p>I have two bt audio devices connected on android phone, and I want to switch specific bt audio device using programmatically.</p>\n\n<p>I search keyword about a2dp, media router and audioManager than seems can't do this thing... </p>\n\n<p>I only way found the function is:</p>\n\n<p>BT devices=> A and B connected on an Android phone.\nAnd right now the media play to A and I want to switch to B</p>\n\n<p>Step1: A, B unpair on Android phone.</p>\n\n<p>Step2: A pair on Android phone.</p>\n\n<p>Step3: B pair on Android phone.</p>\n\n<p>The media play output is B,</p>\n\n<p>seems lastest pair Bluetooth device is media play output.</p>\n\n<p>Can anyone give me some advice or direction? \nThanks, guys</p>\n"},{"tags":["java","spring-boot","microservices","keycloak","spring-resttemplate"],"answers":[{"tags":[],"owner":{"account_id":25295091,"reputation":124,"user_id":19120390,"display_name":"Ajaj Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689245528,"creation_date":1689244981,"answer_id":76678470,"question_id":76678357,"body_markdown":"If your `restTemplate` is null,you can simply inject `RestTemplate` through constructor or `@Autowired` annotation.\r\n\r\n```JAVA\r\n@Autowired\r\nprivate RestTemplate restTemplate;\r\n```\r\n\r\nor\r\n\r\n```JAVA\r\npublic class YourClass{\r\n\r\nprivate final RestTemplate restTemplate;\r\n\r\npublic YourClass(RestTemplate restTemplate){\r\nthis.restTemplate=restTemplate;\r\n}\r\n\r\n}\r\n```\r\n\r\n","title":"Cannot invoke&quot;org.springframework.web.client.RestTemplate.getForEntity(String, java.lang.Class, Object[])&quot;&quot;this.restTemplate&quot;null","body":"<p>If your <code>restTemplate</code> is null,you can simply inject <code>RestTemplate</code> through constructor or <code>@Autowired</code> annotation.</p>\n<pre><code>@Autowired\nprivate RestTemplate restTemplate;\n</code></pre>\n<p>or</p>\n<pre><code>public class YourClass{\n\nprivate final RestTemplate restTemplate;\n\npublic YourClass(RestTemplate restTemplate){\nthis.restTemplate=restTemplate;\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":24800295,"reputation":5,"user_id":18682737,"display_name":"Nouhaila Khaouti"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":798,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1689255233,"accepted_answer_id":76678470,"answer_count":1,"score":-1,"last_activity_date":1689245528,"creation_date":1689244089,"question_id":76678357,"body_markdown":"i&#39;m working on an tokenValidationInterceptor , where a request for token validation is send to an other micro-service which communicate with keycloak and send an ok status or unautorazed status , then i add some logic to the prehandle function and that&#39;s all , when i try to test it, i get this error :\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.client.RestTemplate.getForEntity(String, java.lang.Class, Object[])&quot; because &quot;this.restTemplate&quot; is null\r\n``` \r\nTokenValidationInterceptor prehandle method\r\n```\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        String token = request.getHeader(HttpHeaders.AUTHORIZATION);\r\n        String verificationUrl = &quot;http://localhost:8090/user/info?token=&quot; + token;\r\n        ResponseEntity&lt;Boolean&gt; verificationResponse = restTemplate.getForEntity(verificationUrl, Boolean.class);\r\n        if (verificationResponse.getStatusCode() == HttpStatus.OK &amp;&amp; verificationResponse.getBody() != null &amp;&amp; verificationResponse.getBody()) {\r\n            return true;\r\n        } else {\r\n            response.setStatus(HttpStatus.UNAUTHORIZED.value());\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\nAppconfig \r\n\r\n```\r\n@Configuration\r\npublic class AppConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor( new TokenValidationInterceptor());\r\n    }\r\n\r\n    @Bean\r\n    public RestTemplate restTemplate() {\r\n        return new RestTemplate();\r\n    }\r\n\r\n}\r\n```\r\nand for the tokenValidation in the other micro-service\r\n\r\n```\r\npublic ResponseEntity&lt;?&gt; verifyToken(String token) {\r\n            String keycloakUrl = &quot;http://localhost:8080/auth/realms/lbv-realm/protocol/openid-connect/userinfo&quot;;\r\n            if (token != null) {\r\n                HttpHeaders headers = new HttpHeaders();\r\n                headers.setBearerAuth(token);\r\n                HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\r\n                RestTemplate restTemplate = new RestTemplate();\r\n                try {\r\n                    ResponseEntity&lt;String&gt; response = restTemplate.exchange(keycloakUrl, HttpMethod.GET, requestEntity, String.class);\r\n                    HttpStatusCode statusCode = response.getStatusCode();\r\n                    if (statusCode.is2xxSuccessful()) {\r\n                        return ResponseEntity.status(HttpStatus.OK).body(true);\r\n                    } else {\r\n                        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\r\n                    }\r\n                } catch (Exception ex) {\r\n                    return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\r\n                }\r\n            } else {\r\n                return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\r\n            }\r\n    }\r\n```","title":"Cannot invoke&quot;org.springframework.web.client.RestTemplate.getForEntity(String, java.lang.Class, Object[])&quot;&quot;this.restTemplate&quot;null","body":"<p>i'm working on an tokenValidationInterceptor , where a request for token validation is send to an other micro-service which communicate with keycloak and send an ok status or unautorazed status , then i add some logic to the prehandle function and that's all , when i try to test it, i get this error :</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.client.RestTemplate.getForEntity(String, java.lang.Class, Object[])&quot; because &quot;this.restTemplate&quot; is null\n</code></pre>\n<p>TokenValidationInterceptor prehandle method</p>\n<pre><code>    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        String token = request.getHeader(HttpHeaders.AUTHORIZATION);\n        String verificationUrl = &quot;http://localhost:8090/user/info?token=&quot; + token;\n        ResponseEntity&lt;Boolean&gt; verificationResponse = restTemplate.getForEntity(verificationUrl, Boolean.class);\n        if (verificationResponse.getStatusCode() == HttpStatus.OK &amp;&amp; verificationResponse.getBody() != null &amp;&amp; verificationResponse.getBody()) {\n            return true;\n        } else {\n            response.setStatus(HttpStatus.UNAUTHORIZED.value());\n            return false;\n        }\n    }\n</code></pre>\n<p>Appconfig</p>\n<pre><code>@Configuration\npublic class AppConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor( new TokenValidationInterceptor());\n    }\n\n    @Bean\n    public RestTemplate restTemplate() {\n        return new RestTemplate();\n    }\n\n}\n</code></pre>\n<p>and for the tokenValidation in the other micro-service</p>\n<pre><code>public ResponseEntity&lt;?&gt; verifyToken(String token) {\n            String keycloakUrl = &quot;http://localhost:8080/auth/realms/lbv-realm/protocol/openid-connect/userinfo&quot;;\n            if (token != null) {\n                HttpHeaders headers = new HttpHeaders();\n                headers.setBearerAuth(token);\n                HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\n                RestTemplate restTemplate = new RestTemplate();\n                try {\n                    ResponseEntity&lt;String&gt; response = restTemplate.exchange(keycloakUrl, HttpMethod.GET, requestEntity, String.class);\n                    HttpStatusCode statusCode = response.getStatusCode();\n                    if (statusCode.is2xxSuccessful()) {\n                        return ResponseEntity.status(HttpStatus.OK).body(true);\n                    } else {\n                        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\n                    }\n                } catch (Exception ex) {\n                    return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\n                }\n            } else {\n                return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\n            }\n    }\n</code></pre>\n"},{"tags":["java","rabbitmq"],"answers":[{"comments":[{"owner":{"account_id":2682683,"reputation":291,"user_id":2317698,"accept_rate":86,"display_name":"Code Geass"},"score":0,"creation_date":1374013755,"post_id":17686861,"comment_id":25771070,"body_markdown":"Thanks. Just wanted to confirm if there is any API to support these since I couldn&#39;t find it documented anywhere.","body":"Thanks. Just wanted to confirm if there is any API to support these since I couldn&#39;t find it documented anywhere."},{"owner":{"account_id":3107194,"reputation":500,"user_id":2629741,"accept_rate":80,"display_name":"Frank Olschewski"},"score":1,"creation_date":1406210689,"post_id":17686861,"comment_id":38749691,"body_markdown":"A small correction to what zaq178miami wrote: 10k messages per second for 2 weeks is a total of 1,463,132,160,000 messages. An unsigned int 64 bit is 2^64 = 18,446,744,073,709,551,615 far more than that.","body":"A small correction to what zaq178miami wrote: 10k messages per second for 2 weeks is a total of 1,463,132,160,000 messages. An unsigned int 64 bit is 2^64 = 18,446,744,073,709,551,615 far more than that."},{"owner":{"account_id":147226,"reputation":1347,"user_id":358197,"accept_rate":50,"display_name":"Myobis"},"score":1,"creation_date":1488968328,"post_id":17686861,"comment_id":72461868,"body_markdown":"Note If you google for &quot;RabbitMQ Management HTTP Stats&quot;, you&#39;ll see that there is a &quot;publish&quot; counter that is the queue&#39;s total nb of enqueued messages (since the broker was started as far as I could notice). Also note that setting msg_rates_age and msg_rates_incr querystring parameters will provide historized values of such counter.","body":"Note If you google for &quot;RabbitMQ Management HTTP Stats&quot;, you&#39;ll see that there is a &quot;publish&quot; counter that is the queue&#39;s total nb of enqueued messages (since the broker was started as far as I could notice). Also note that setting msg_rates_age and msg_rates_incr querystring parameters will provide historized values of such counter."}],"tags":[],"owner":{"account_id":1575381,"reputation":12553,"user_id":1461984,"display_name":"pinepain"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1447860447,"creation_date":1374008335,"answer_id":17686861,"question_id":17684848,"body_markdown":"With AMQP protocol (including RabbitMQ implementation) you can&#39;t get such info with 100% guarantee.\r\n\r\nThe closest number to messages count is messages count returned with `queue.declare-ok` ([`AMQP.Queue.DeclareOk`](https://www.rabbitmq.com/releases/rabbitmq-java-client/v3.5.6/rabbitmq-java-client-javadoc-3.5.6/com/rabbitmq/client/AMQP.Queue.DeclareOk.html) in java AMQP client library).\r\n\r\nWhilst messages count you receive with `queue.declare-ok` may match exact messages number enqueues, you can&#39;t rely on it as it doesn&#39;t count messages which waiting acknowledges or published to queue during transaction but not committed yet.\r\n\r\nIt really depends what kind of precission do you need.\r\n\r\nAs to enqueued messages body, you may want to manually extract all messages in queue, view their body and put them back to queue. This is the only way to do what you want.\r\n\r\nYou can get some information about messages count with [Management Plugin](http://www.rabbitmq.com/management.html), [RabbitMQ Management HTTP API](http://hg.rabbitmq.com/rabbitmq-management/raw-file/3646dee55e02/priv/www-api/help.html) and [rabbitmqctl](http://www.rabbitmq.com/man/rabbitmqctl.1.man.html) util (see list_queues, list_channels).\r\n\r\nYou can&#39;t get total published messages count since queue was created and I think nobody implement such stats while it useless (FYI, with messages flow in average 10k per second you will not even reach uint64 in a few thousand years).","title":"RabbitMQ - Get total count of messages enqueued","body":"<p>With AMQP protocol (including RabbitMQ implementation) you can't get such info with 100% guarantee.</p>\n\n<p>The closest number to messages count is messages count returned with <code>queue.declare-ok</code> (<a href=\"https://www.rabbitmq.com/releases/rabbitmq-java-client/v3.5.6/rabbitmq-java-client-javadoc-3.5.6/com/rabbitmq/client/AMQP.Queue.DeclareOk.html\" rel=\"noreferrer\"><code>AMQP.Queue.DeclareOk</code></a> in java AMQP client library).</p>\n\n<p>Whilst messages count you receive with <code>queue.declare-ok</code> may match exact messages number enqueues, you can't rely on it as it doesn't count messages which waiting acknowledges or published to queue during transaction but not committed yet.</p>\n\n<p>It really depends what kind of precission do you need.</p>\n\n<p>As to enqueued messages body, you may want to manually extract all messages in queue, view their body and put them back to queue. This is the only way to do what you want.</p>\n\n<p>You can get some information about messages count with <a href=\"http://www.rabbitmq.com/management.html\" rel=\"noreferrer\">Management Plugin</a>, <a href=\"http://hg.rabbitmq.com/rabbitmq-management/raw-file/3646dee55e02/priv/www-api/help.html\" rel=\"noreferrer\">RabbitMQ Management HTTP API</a> and <a href=\"http://www.rabbitmq.com/man/rabbitmqctl.1.man.html\" rel=\"noreferrer\">rabbitmqctl</a> util (see list_queues, list_channels).</p>\n\n<p>You can't get total published messages count since queue was created and I think nobody implement such stats while it useless (FYI, with messages flow in average 10k per second you will not even reach uint64 in a few thousand years).</p>\n"},{"comments":[{"owner":{"account_id":4485063,"reputation":297,"user_id":5076464,"accept_rate":14,"display_name":"Shashank"},"score":0,"creation_date":1437732494,"post_id":23760454,"comment_id":51165428,"body_markdown":"is there any such code to get all the names of the queues currently in the broker???","body":"is there any such code to get all the names of the queues currently in the broker???"},{"owner":{"account_id":1806041,"reputation":3307,"user_id":1643115,"accept_rate":100,"display_name":"Kirill Gamazkov"},"score":2,"creation_date":1447145170,"post_id":23760454,"comment_id":55025607,"body_markdown":"You&#39;ll get an error if queue declaration args are different from those queue was created with. Use queueDeclarePassive instead","body":"You&#39;ll get an error if queue declaration args are different from those queue was created with. Use queueDeclarePassive instead"}],"tags":[],"owner":{"account_id":4155696,"reputation":151,"user_id":3407051,"display_name":"Giumbix"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1400591712,"creation_date":1400590473,"answer_id":23760454,"question_id":17684848,"body_markdown":"    AMQP.Queue.DeclareOk dok = channel.queueDeclare(QUEUE_NAME, true, false, false, queueArgs);\r\n    dok.getMessageCount();","title":"RabbitMQ - Get total count of messages enqueued","body":"<pre><code>AMQP.Queue.DeclareOk dok = channel.queueDeclare(QUEUE_NAME, true, false, false, queueArgs);\ndok.getMessageCount();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":975547,"reputation":511,"user_id":9550551,"display_name":"Didier Breedt"},"score":4,"creation_date":1557899099,"post_id":44180635,"comment_id":98914819,"body_markdown":"It should be noted that this solution depends on the Management Plugin. https://www.rabbitmq.com/management.html#http-api-endpoints","body":"It should be noted that this solution depends on the Management Plugin. <a href=\"https://www.rabbitmq.com/management.html#http-api-endpoints\" rel=\"nofollow noreferrer\">rabbitmq.com/management.html#http-api-endpoints</a>"},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1688166999,"post_id":44180635,"comment_id":135042537,"body_markdown":"I must be the only one on earth who wonders why the `%2f` is there.","body":"I must be the only one on earth who wonders why the <code>%2f</code> is there."},{"owner":{"account_id":2338750,"reputation":2396,"user_id":2050511,"display_name":"Hemant Thorat"},"score":0,"creation_date":1689245485,"post_id":44180635,"comment_id":135187491,"body_markdown":"Added (%2f URL encoding of / character) to answer.  You can check here, https://www.urlencoder.org","body":"Added (%2f URL encoding of / character) to answer.  You can check here, <a href=\"https://www.urlencoder.org\" rel=\"nofollow noreferrer\">urlencoder.org</a>"}],"tags":[],"owner":{"account_id":2338750,"reputation":2396,"user_id":2050511,"display_name":"Hemant Thorat"},"comment_count":3,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1689245439,"creation_date":1495715438,"answer_id":44180635,"question_id":17684848,"body_markdown":"To access queue details via http api,\r\n\r\n`http://public-domain-name:15672/api/queues/%2f/queue_name`\r\n\r\nTo access queue details via command from localhost cli promt,\r\n\r\n`curl -i -u guest_uname:guest_password http://localhost:15672/api/queues/%2f/queue_name`\r\n\r\nWhere, \r\n&#39;%2f&#39; is default vhost `/`. (%2f URL encoding of `/` character)\r\n\r\n[NOTE - As mentioned in comment, management plugin needs to be enabled.]","title":"RabbitMQ - Get total count of messages enqueued","body":"<p>To access queue details via http api,</p>\n<p><code>http://public-domain-name:15672/api/queues/%2f/queue_name</code></p>\n<p>To access queue details via command from localhost cli promt,</p>\n<p><code>curl -i -u guest_uname:guest_password http://localhost:15672/api/queues/%2f/queue_name</code></p>\n<p>Where,\n'%2f' is default vhost <code>/</code>. (%2f URL encoding of <code>/</code> character)</p>\n<p>[NOTE - As mentioned in comment, management plugin needs to be enabled.]</p>\n"}],"owner":{"account_id":2682683,"reputation":291,"user_id":2317698,"accept_rate":86,"display_name":"Code Geass"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53696,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":17686861,"answer_count":3,"score":16,"last_activity_date":1689245439,"creation_date":1374001185,"question_id":17684848,"body_markdown":"I have a Java client which monitors RabbitMQ queue. I am able to get the count of messages currently in queue with this code\r\n\r\n    @Resource\r\n\tRabbitAdmin rabbitAdmin;\r\n    ..........\r\n\r\n    DeclareOk declareOk = rabbitAdmin.getRabbitTemplate().execute(new ChannelCallback&lt;DeclareOk&gt;() {\r\n\t        public DeclareOk doInRabbit(Channel channel) throws Exception {\r\n\t            return channel.queueDeclarePassive(&quot;test.pending&quot;);\r\n\t        }\r\n\t    });\r\n\t     return declareOk.getMessageCount();\r\n\r\nI want to get some more additional details like  - \r\n\r\n 1. Message body of currently enqueued items.\r\n 2. Total number of messages that was enqueued in the queue since the queue was created.\r\n\r\nIs there any way to retrieve these data in Java client? \r\n\r\n\r\n\r\n ","title":"RabbitMQ - Get total count of messages enqueued","body":"<p>I have a Java client which monitors RabbitMQ queue. I am able to get the count of messages currently in queue with this code</p>\n\n<pre><code>@Resource\nRabbitAdmin rabbitAdmin;\n..........\n\nDeclareOk declareOk = rabbitAdmin.getRabbitTemplate().execute(new ChannelCallback&lt;DeclareOk&gt;() {\n        public DeclareOk doInRabbit(Channel channel) throws Exception {\n            return channel.queueDeclarePassive(\"test.pending\");\n        }\n    });\n     return declareOk.getMessageCount();\n</code></pre>\n\n<p>I want to get some more additional details like  - </p>\n\n<ol>\n<li>Message body of currently enqueued items.</li>\n<li>Total number of messages that was enqueued in the queue since the queue was created.</li>\n</ol>\n\n<p>Is there any way to retrieve these data in Java client? </p>\n"},{"tags":["java","eclipse","selenium","drag-and-drop","testng-eclipse"],"answers":[{"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1661864920,"post_id":73491792,"comment_id":129869075,"body_markdown":"You can accept your own answer if it solved your problem.","body":"You can accept your own answer if it solved your problem."}],"tags":[],"owner":{"account_id":26052796,"reputation":1,"user_id":19755674,"display_name":"talvi8942"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661874718,"creation_date":1661449747,"answer_id":73491792,"question_id":73476047,"body_markdown":"To anyone who needs a solution, you can use: \r\n\r\n    action.moveToElement(element);\r\n    \r\n    action.keyDown(Keys.LEFT_CONTROL).click().build().perform();\r\n\r\nThis worked for me.\r\n","title":"Selenium chrome driver hangs while using action.dragAndDrop ( waiting for physical mouse movment )","body":"<p>To anyone who needs a solution, you can use:</p>\n<pre><code>action.moveToElement(element);\n\naction.keyDown(Keys.LEFT_CONTROL).click().build().perform();\n</code></pre>\n<p>This worked for me.</p>\n"}],"owner":{"account_id":26052796,"reputation":1,"user_id":19755674,"display_name":"talvi8942"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689244709,"creation_date":1661355626,"question_id":73476047,"body_markdown":"I am trying to use drag and drop action on this site https://app.involve.me/ \r\n\r\nThe steps I am doing are :\r\n1. login to the site \r\n2. creating a new project from scratch \r\n3. Try to drag and drop an item from the list on the right side( no matter what item).\r\nevery time I drag item selenium will hang until I move my physical mouse and only then \r\nselenium will continue the test \r\n\r\nI use TestNG with selenium 4.3.0\r\n \r\n[selenium hangs][1]\r\n\r\n**my code:** \r\n\r\npublic void dragAndDropCleanPage(String imageName) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tWebElement to = driver.findElement(By.cssSelector(&quot;[class=&#39;e-target-dropzone vcentered bgfixed center-center&#39;]&quot;));\r\n\t\t\tList&lt;WebElement&gt; listOfImages = imageList;\r\n\t\t\tfor(WebElement el : listOfImages ) {\r\n\t\t\t\tWebElement text = el.findElement(By.cssSelector(&quot;[class=&#39;v-title&#39;] p&quot;));\r\n\t\t\t\tif(getText(text).equalsIgnoreCase(imageName)){\r\n\t\t\t\t\tWebElement drag = el;\r\n\t\t\t\t\tActions act = new Actions(driver);\r\n\t\t\t\t\tact.clickAndHold(drag)\r\n\t\t\t\t\t.pause(Duration.ofSeconds(1))\r\n\t\t\t\t\t.moveToElement(to)\r\n\t\t\t\t\t.pause(Duration.ofSeconds(1))\r\n\t\t\t\t\t.moveByOffset(0,1)\r\n\t\t\t\t\t.pause(Duration.ofSeconds(1))\r\n\t\t\t\t\t.release(to)\r\n\t\t\t\t\t.pause(Duration.ofSeconds(1))\r\n\t\t\t\t\t.build().perform();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Did not find the requested item&quot;);\r\n\t\t}\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bNeIP.png\r\n\r\nthis is the loop I use to pick the right item by name ( I use pageFactory for finding elements )\r\n\r\nI tried all solutions - action drag and drop javascript executer, etc...\r\n\r\nif someone will be able to solve my problem it will be great \r\nthanks. ","title":"Selenium chrome driver hangs while using action.dragAndDrop ( waiting for physical mouse movment )","body":"<p>I am trying to use drag and drop action on this site <a href=\"https://app.involve.me/\" rel=\"nofollow noreferrer\">https://app.involve.me/</a></p>\n<p>The steps I am doing are :</p>\n<ol>\n<li>login to the site</li>\n<li>creating a new project from scratch</li>\n<li>Try to drag and drop an item from the list on the right side( no matter what item).\nevery time I drag item selenium will hang until I move my physical mouse and only then\nselenium will continue the test</li>\n</ol>\n<p>I use TestNG with selenium 4.3.0</p>\n<p><a href=\"https://i.stack.imgur.com/bNeIP.png\" rel=\"nofollow noreferrer\">selenium hangs</a></p>\n<p><strong>my code:</strong></p>\n<p>public void dragAndDropCleanPage(String imageName) {</p>\n<pre><code>    try {\n        WebElement to = driver.findElement(By.cssSelector(&quot;[class='e-target-dropzone vcentered bgfixed center-center']&quot;));\n        List&lt;WebElement&gt; listOfImages = imageList;\n        for(WebElement el : listOfImages ) {\n            WebElement text = el.findElement(By.cssSelector(&quot;[class='v-title'] p&quot;));\n            if(getText(text).equalsIgnoreCase(imageName)){\n                WebElement drag = el;\n                Actions act = new Actions(driver);\n                act.clickAndHold(drag)\n                .pause(Duration.ofSeconds(1))\n                .moveToElement(to)\n                .pause(Duration.ofSeconds(1))\n                .moveByOffset(0,1)\n                .pause(Duration.ofSeconds(1))\n                .release(to)\n                .pause(Duration.ofSeconds(1))\n                .build().perform();\n                break;\n            }\n        }\n    }catch (Exception e) {\n        System.out.println(&quot;Did not find the requested item&quot;);\n    }\n</code></pre>\n<p>this is the loop I use to pick the right item by name ( I use pageFactory for finding elements )</p>\n<p>I tried all solutions - action drag and drop javascript executer, etc...</p>\n<p>if someone will be able to solve my problem it will be great\nthanks.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7856,"page":312,"page_size":100}
