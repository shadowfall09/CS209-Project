{"items":[{"tags":["java","spring-boot","reactive-programming","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1645570381,"post_id":71229257,"comment_id":125906047,"body_markdown":"My recommendation would be &quot;don&#39;t&quot;. Mainly: there is no guarantee the async operation will finish within the context of the HTTP request timeout. Have the HTTP response be a 201:Accepted, and have the client make new requests that query the database for current state. If they get partial data back, then they need to keep making the request until they get what they want, or you can make the API do that logic and return 404 until the database has the expected data.","body":"My recommendation would be &quot;don&#39;t&quot;. Mainly: there is no guarantee the async operation will finish within the context of the HTTP request timeout. Have the HTTP response be a 201:Accepted, and have the client make new requests that query the database for current state. If they get partial data back, then they need to keep making the request until they get what they want, or you can make the API do that logic and return 404 until the database has the expected data."},{"owner":{"account_id":14771770,"reputation":37,"user_id":10668012,"display_name":"theq72"},"score":0,"creation_date":1645571107,"post_id":71229257,"comment_id":125906216,"body_markdown":"I’m implementing this for a performance boost, so the timeout shouldn’t be a concern here.  It currently runs synchronously and returns to our UI","body":"I’m implementing this for a performance boost, so the timeout shouldn’t be a concern here.  It currently runs synchronously and returns to our UI"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1645571211,"post_id":71229257,"comment_id":125906236,"body_markdown":"Sure, but let&#39;s say there is some exception within the `Flux` flow. How do you plan on capturing this without blocking at some level?","body":"Sure, but let&#39;s say there is some exception within the <code>Flux</code> flow. How do you plan on capturing this without blocking at some level?"},{"owner":{"account_id":14771770,"reputation":37,"user_id":10668012,"display_name":"theq72"},"score":0,"creation_date":1645571383,"post_id":71229257,"comment_id":125906271,"body_markdown":"I would need to look into how to handle errors more as I go. But to start was hoping to just make some calls and stitch some data using this technique to get going","body":"I would need to look into how to handle errors more as I go. But to start was hoping to just make some calls and stitch some data using this technique to get going"},{"owner":{"account_id":14771770,"reputation":37,"user_id":10668012,"display_name":"theq72"},"score":0,"creation_date":1645571504,"post_id":71229257,"comment_id":125906295,"body_markdown":"I would think the main point of using WebClient would be to make microservice calls async right? Essentially that’s all I want to do","body":"I would think the main point of using WebClient would be to make microservice calls async right? Essentially that’s all I want to do"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1645571606,"post_id":71229257,"comment_id":125906317,"body_markdown":"WebClient can be synchronous, too, so no, that has nothing to do with the problem at hand. There is a [zip method](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#zip-java.util.function.Function-int-org.reactivestreams.Publisher...-), but you also need to think about exception handling with it, and it will return a Flux, not a Mono. You need to use collect methods to get a Mono","body":"WebClient can be synchronous, too, so no, that has nothing to do with the problem at hand. There is a <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#zip-java.util.function.Function-int-org.reactivestreams.Publisher...-\" rel=\"nofollow noreferrer\">zip method</a>, but you also need to think about exception handling with it, and it will return a Flux, not a Mono. You need to use collect methods to get a Mono"}],"owner":{"account_id":14771770,"reputation":37,"user_id":10668012,"display_name":"theq72"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670756956,"creation_date":1645569899,"question_id":71229257,"body_markdown":"I’m fairly new to reactive programming in Spring. In my application I need to make a DB call and then make 3 micro service calls to enrich the original data. \r\n\r\nOnce the DB call is complete, I can make all three requests in parallel. Each call works individually, but I’m confused on how to run the 3 API calls in parallel and stitch it all back to a Response Object. \r\n\r\n    OriginalData mainData = someDao.getAppData();\r\n    Mono&lt;ReferenceData1&gt; data1 = SomeClient.getData1(mainData);\r\n    Flux&lt;ReferenceData2&gt; data2 = SomeClient.getData2(mainData);\r\n    Flux&lt;ReferenceData3&gt; data3 = SomeClient.getData3(mainData);\r\n    // do some processing of the data\r\n    // zip all 4 objects together in a response object\r\n\r\nI’ve been able to zip 2 fluxes back in a Flux object, but my goal here would be to return a Mono Response object that is made up of these 4 objects. \r\n\r\nAny ideas on how to make this work, or any better suggestions are appreciated!","title":"How to asynchronously make micro service calls and map back to response object in Spring WebClient?","body":"<p>I’m fairly new to reactive programming in Spring. In my application I need to make a DB call and then make 3 micro service calls to enrich the original data.</p>\n<p>Once the DB call is complete, I can make all three requests in parallel. Each call works individually, but I’m confused on how to run the 3 API calls in parallel and stitch it all back to a Response Object.</p>\n<pre><code>OriginalData mainData = someDao.getAppData();\nMono&lt;ReferenceData1&gt; data1 = SomeClient.getData1(mainData);\nFlux&lt;ReferenceData2&gt; data2 = SomeClient.getData2(mainData);\nFlux&lt;ReferenceData3&gt; data3 = SomeClient.getData3(mainData);\n// do some processing of the data\n// zip all 4 objects together in a response object\n</code></pre>\n<p>I’ve been able to zip 2 fluxes back in a Flux object, but my goal here would be to return a Mono Response object that is made up of these 4 objects.</p>\n<p>Any ideas on how to make this work, or any better suggestions are appreciated!</p>\n"},{"tags":["java","linux","eclipse","ubuntu"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1670877843,"post_id":74760219,"comment_id":131970795,"body_markdown":"I use [snap for eclipse](https://snapcraft.io/eclipse) installation, it may help.","body":"I use <a href=\"https://snapcraft.io/eclipse\" rel=\"nofollow noreferrer\">snap for eclipse</a> installation, it may help."}],"owner":{"account_id":23189814,"reputation":101,"user_id":20747746,"display_name":"Kotoba Trily Ngian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670756359,"creation_date":1670756359,"question_id":74760219,"body_markdown":"I installed Eclipse 4.26.0 (from [this link](https://www.eclipse.org/downloads/)) to my Ubuntu virtual machine on VirtualBox. But when I click &quot;Open File&quot; or any other operations that would open a file explorer, error &quot;Unhandled event loop exception: No more handles&quot; is shown, and then another window with &quot;An SWT error has occurred&quot;.\r\n\r\nThe full Exception Stack Trace is as below:\r\n\r\n\r\n```\r\norg.eclipse.swt.SWTError: No more handles\r\n\tat org.eclipse.swt.SWT.error(SWT.java:4944)\r\n\tat org.eclipse.swt.SWT.error(SWT.java:4833)\r\n\tat org.eclipse.swt.SWT.error(SWT.java:4804)\r\n\tat org.eclipse.swt.widgets.Dialog.error(Dialog.java:202)\r\n\tat org.eclipse.swt.widgets.FileDialog.openNativeChooserDialog(FileDialog.java:351)\r\n\tat org.eclipse.swt.widgets.FileDialog.open(FileDialog.java:335)\r\n\tat org.eclipse.jdt.ui.wizards.BuildPathDialogAccess.chooseExternalJAREntries(BuildPathDialogAccess.java:493)\r\n\tat org.eclipse.jdt.internal.ui.wizards.buildpaths.LibrariesWorkbookPage.openExtJarFileDialog(LibrariesWorkbookPage.java:1219)\r\n\tat org.eclipse.jdt.internal.ui.wizards.buildpaths.LibrariesWorkbookPage.libaryPageCustomButtonPressed(LibrariesWorkbookPage.java:453)\r\n\tat org.eclipse.jdt.internal.ui.wizards.buildpaths.LibrariesWorkbookPage$LibrariesAdapter.customButtonPressed(LibrariesWorkbookPage.java:403)\r\n\tat org.eclipse.jdt.internal.ui.wizards.dialogfields.TreeListDialogField.buttonPressed(TreeListDialogField.java:177)\r\n\tat org.eclipse.jdt.internal.ui.wizards.dialogfields.TreeListDialogField.doButtonSelected(TreeListDialogField.java:412)\r\n\tat org.eclipse.jdt.internal.ui.wizards.dialogfields.TreeListDialogField$2.widgetSelected(TreeListDialogField.java:373)\r\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:5855)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1529)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:5065)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:4517)\r\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\r\n\tat org.eclipse.jface.window.Window.open(Window.java:799)\r\n\tat org.eclipse.ui.internal.actions.NewWizardShortcutAction.run(NewWizardShortcutAction.java:130)\r\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:474)\r\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\r\n\tat org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:5855)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1529)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:5065)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:4517)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n\tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1440)\r\n```\r\n\r\nand Session Data:\r\n\r\n```\r\neclipse.buildId=4.26.0.20221201-1200\r\njava.version=17.0.5\r\njava.vendor=Eclipse Adoptium\r\nBootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=zh_CN\r\nFramework arguments:  -product org.eclipse.epp.package.java.product\r\nCommand-line arguments:  -os linux -ws gtk -arch x86_64 -product org.eclipse.epp.package.java.product\r\n```\r\n\r\n\r\nI am not familiar with Linux system and I have tried several methods I found but none of them worked.\r\n\r\nI have installed SWT Designer and changed the default file association of `.java` file to WindowBuilder Editor.\r\n\r\nI have re-installed Eclipse and recreated the workspace.\r\n\r\nI want to get a solution for it.","title":"About &quot;Unhandled event loop exception&quot; in Eclipse run on Ubuntu","body":"<p>I installed Eclipse 4.26.0 (from <a href=\"https://www.eclipse.org/downloads/\" rel=\"nofollow noreferrer\">this link</a>) to my Ubuntu virtual machine on VirtualBox. But when I click &quot;Open File&quot; or any other operations that would open a file explorer, error &quot;Unhandled event loop exception: No more handles&quot; is shown, and then another window with &quot;An SWT error has occurred&quot;.</p>\n<p>The full Exception Stack Trace is as below:</p>\n<pre><code>org.eclipse.swt.SWTError: No more handles\n    at org.eclipse.swt.SWT.error(SWT.java:4944)\n    at org.eclipse.swt.SWT.error(SWT.java:4833)\n    at org.eclipse.swt.SWT.error(SWT.java:4804)\n    at org.eclipse.swt.widgets.Dialog.error(Dialog.java:202)\n    at org.eclipse.swt.widgets.FileDialog.openNativeChooserDialog(FileDialog.java:351)\n    at org.eclipse.swt.widgets.FileDialog.open(FileDialog.java:335)\n    at org.eclipse.jdt.ui.wizards.BuildPathDialogAccess.chooseExternalJAREntries(BuildPathDialogAccess.java:493)\n    at org.eclipse.jdt.internal.ui.wizards.buildpaths.LibrariesWorkbookPage.openExtJarFileDialog(LibrariesWorkbookPage.java:1219)\n    at org.eclipse.jdt.internal.ui.wizards.buildpaths.LibrariesWorkbookPage.libaryPageCustomButtonPressed(LibrariesWorkbookPage.java:453)\n    at org.eclipse.jdt.internal.ui.wizards.buildpaths.LibrariesWorkbookPage$LibrariesAdapter.customButtonPressed(LibrariesWorkbookPage.java:403)\n    at org.eclipse.jdt.internal.ui.wizards.dialogfields.TreeListDialogField.buttonPressed(TreeListDialogField.java:177)\n    at org.eclipse.jdt.internal.ui.wizards.dialogfields.TreeListDialogField.doButtonSelected(TreeListDialogField.java:412)\n    at org.eclipse.jdt.internal.ui.wizards.dialogfields.TreeListDialogField$2.widgetSelected(TreeListDialogField.java:373)\n    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:5855)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1529)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:5065)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:4517)\n    at org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\n    at org.eclipse.jface.window.Window.open(Window.java:799)\n    at org.eclipse.ui.internal.actions.NewWizardShortcutAction.run(NewWizardShortcutAction.java:130)\n    at org.eclipse.jface.action.Action.runWithEvent(Action.java:474)\n    at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\n    at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:5855)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1529)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:5065)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:4517)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1440)\n</code></pre>\n<p>and Session Data:</p>\n<pre><code>eclipse.buildId=4.26.0.20221201-1200\njava.version=17.0.5\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=zh_CN\nFramework arguments:  -product org.eclipse.epp.package.java.product\nCommand-line arguments:  -os linux -ws gtk -arch x86_64 -product org.eclipse.epp.package.java.product\n</code></pre>\n<p>I am not familiar with Linux system and I have tried several methods I found but none of them worked.</p>\n<p>I have installed SWT Designer and changed the default file association of <code>.java</code> file to WindowBuilder Editor.</p>\n<p>I have re-installed Eclipse and recreated the workspace.</p>\n<p>I want to get a solution for it.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1670749204,"post_id":74759464,"comment_id":131941560,"body_markdown":"Possible duplicate: [How to pass ArrayList of Objects from one to another activity using Intent in android?](//stackoverflow.com/q/13601883)","body":"Possible duplicate: <a href=\"//stackoverflow.com/q/13601883\">How to pass ArrayList of Objects from one to another activity using Intent in android?</a>"},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1670755785,"post_id":74759464,"comment_id":131942565,"body_markdown":"The solution you&#39;re looking for : https://stackoverflow.com/a/46168121/7954210","body":"The solution you&#39;re looking for : <a href=\"https://stackoverflow.com/a/46168121/7954210\">stackoverflow.com/a/46168121/7954210</a>"}],"answers":[{"comments":[{"owner":{"account_id":19939990,"reputation":31,"user_id":14611913,"display_name":"Georges GRESSIEN"},"score":0,"creation_date":1670766183,"post_id":74760176,"comment_id":131944376,"body_markdown":"I tried the solution with Json, now it’s ok. I find my ArrayList in the other activity. Thank you very much","body":"I tried the solution with Json, now it’s ok. I find my ArrayList in the other activity. Thank you very much"}],"tags":[],"owner":{"account_id":17869116,"reputation":21,"user_id":12980812,"display_name":"Mahdi Noori"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670755983,"creation_date":1670755983,"answer_id":74760176,"question_id":74759464,"body_markdown":"you can use the [Gson][1] library to transfer data between Activities. You can convert a list of data to JSON and pass it. These links Can help you.\r\n\r\nhttps://stackoverflow.com/a/19700319/12980812\r\n\r\nhttps://medium.com/@theblackcat102/passing-object-between-activity-using-gson-7dfa11d74e06\r\n\r\n\r\n  [1]: https://code.google.com/p/google-gson/","title":"getIntent and ArrayList","body":"<p>you can use the <a href=\"https://code.google.com/p/google-gson/\" rel=\"nofollow noreferrer\">Gson</a> library to transfer data between Activities. You can convert a list of data to JSON and pass it. These links Can help you.</p>\n<p><a href=\"https://stackoverflow.com/a/19700319/12980812\">https://stackoverflow.com/a/19700319/12980812</a></p>\n<p><a href=\"https://medium.com/@theblackcat102/passing-object-between-activity-using-gson-7dfa11d74e06\" rel=\"nofollow noreferrer\">https://medium.com/@theblackcat102/passing-object-between-activity-using-gson-7dfa11d74e06</a></p>\n"}],"owner":{"account_id":19939990,"reputation":31,"user_id":14611913,"display_name":"Georges GRESSIEN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670766898,"answer_count":1,"score":0,"last_activity_date":1670755983,"creation_date":1670748888,"question_id":74759464,"body_markdown":"I have an `ArrayList` in a first activity `ArrayList&lt;ListeJoueurs&gt; la = new ArrayList&lt;&gt;();`, defined as follows.\r\nI would like to put this `ArrayList` into another activity.\r\nI didn’t find a simple solution with `getIntent()`\r\nWhat can I do, thank you so much for your help.\r\n\r\n        public class ListeJoueurs {\r\n        String  Nom;\r\n        String  Prenom;\r\n        Long  Licence;\r\n        String  Cat;\r\n        String Select;\r\n        String dteN;\r\n        int imageClick;\r\n        // Constructor\r\n        public ListeJoueurs(String Nom, String Prenom, Long Licence, String Cat, String Select, String dteN, int imageClick)\r\n        {\r\n            this.Nom = Nom;\r\n            this.Prenom = Prenom;\r\n            this.Licence = Licence;\r\n            this.Cat = Cat;\r\n            this.Select = Select;\r\n            this.dteN = dteN;\r\n            this.imageClick = imageClick;\r\n        }\r\n    \r\n        // Used to print student details in main()\r\n        public String toString()\r\n        {\r\n            return  this.Nom  + &quot; &quot; + this.Prenom + &quot; &quot; + this.Licence + &quot; &quot; + this.Cat + &quot; &quot; + this.Select + &quot; &quot; + this.dteN  + &quot; &quot; + this.imageClick;\r\n        }\r\n    }\r\n\r\n  ","title":"getIntent and ArrayList","body":"<p>I have an <code>ArrayList</code> in a first activity <code>ArrayList&lt;ListeJoueurs&gt; la = new ArrayList&lt;&gt;();</code>, defined as follows.\nI would like to put this <code>ArrayList</code> into another activity.\nI didn’t find a simple solution with <code>getIntent()</code>\nWhat can I do, thank you so much for your help.</p>\n<pre><code>    public class ListeJoueurs {\n    String  Nom;\n    String  Prenom;\n    Long  Licence;\n    String  Cat;\n    String Select;\n    String dteN;\n    int imageClick;\n    // Constructor\n    public ListeJoueurs(String Nom, String Prenom, Long Licence, String Cat, String Select, String dteN, int imageClick)\n    {\n        this.Nom = Nom;\n        this.Prenom = Prenom;\n        this.Licence = Licence;\n        this.Cat = Cat;\n        this.Select = Select;\n        this.dteN = dteN;\n        this.imageClick = imageClick;\n    }\n\n    // Used to print student details in main()\n    public String toString()\n    {\n        return  this.Nom  + &quot; &quot; + this.Prenom + &quot; &quot; + this.Licence + &quot; &quot; + this.Cat + &quot; &quot; + this.Select + &quot; &quot; + this.dteN  + &quot; &quot; + this.imageClick;\n    }\n}\n</code></pre>\n"},{"tags":["java","powershell"],"comments":[{"owner":{"account_id":26783149,"reputation":1,"user_id":20377712,"display_name":"ui uk"},"score":0,"creation_date":1670756657,"post_id":74760138,"comment_id":131942707,"body_markdown":"I just want to make sure that I have the same output so what can I do to check that?","body":"I just want to make sure that I have the same output so what can I do to check that?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1670756964,"post_id":74760138,"comment_id":131942767,"body_markdown":"That reads to me like simple Base64 encoding, but without newlines. You can try your code and then [compare the output of both methods](https://serverfault.com/questions/5598/how-do-i-diff-two-text-files-in-windows-powershell).","body":"That reads to me like simple Base64 encoding, but without newlines. You can try your code and then <a href=\"https://serverfault.com/questions/5598/how-do-i-diff-two-text-files-in-windows-powershell\">compare the output of both methods</a>."},{"owner":{"account_id":366852,"reputation":161795,"user_id":712649,"accept_rate":100,"display_name":"Mathias R. Jessen"},"score":0,"creation_date":1670837334,"post_id":74760138,"comment_id":131957344,"body_markdown":"@uiuk very easily: test your new java program by running both it, and the powershell script, against the same input and observe if you get the same output","body":"@uiuk very easily: test your new java program by running both it, and the powershell script, against the same input and observe if you get the same output"}],"owner":{"account_id":26783149,"reputation":1,"user_id":20377712,"display_name":"ui uk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670755897,"creation_date":1670755635,"question_id":74760138,"body_markdown":"How can I convert this command to java code?\r\n\r\n`powershell -command &quot;$bytes = [System.IO.File]::ReadAllBytes(&#39;%2&#39;); [Convert]::ToBase64String($bytes) | Out-File -append -FilePath &#39;%2.base64&#39; -Encoding ASCII -NoNewline&quot;`\r\n\r\nI am afraid if I convert to base64 will not be the same output.","title":"Convert PowerShell to Java","body":"<p>How can I convert this command to java code?</p>\n<p><code>powershell -command &quot;$bytes = [System.IO.File]::ReadAllBytes('%2'); [Convert]::ToBase64String($bytes) | Out-File -append -FilePath '%2.base64' -Encoding ASCII -NoNewline&quot;</code></p>\n<p>I am afraid if I convert to base64 will not be the same output.</p>\n"},{"tags":["java","apache-kafka","apache-flink","flink-streaming"],"answers":[{"comments":[{"owner":{"account_id":13410254,"reputation":43,"user_id":10152753,"display_name":"4 3 2"},"score":0,"creation_date":1670793028,"post_id":74760086,"comment_id":131950141,"body_markdown":"didnt work. I noticed that every event is executing the getKey method inside the join operator twice and i dont know why","body":"didnt work. I noticed that every event is executing the getKey method inside the join operator twice and i dont know why"},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1670831983,"post_id":74760086,"comment_id":131955877,"body_markdown":"How much data are you testing with? Both streams will have to advance past the end of the window in order to trigger the join.","body":"How much data are you testing with? Both streams will have to advance past the end of the window in order to trigger the join."},{"owner":{"account_id":13410254,"reputation":43,"user_id":10152753,"display_name":"4 3 2"},"score":0,"creation_date":1670848673,"post_id":74760086,"comment_id":131960867,"body_markdown":"Currently I&#39;m manually sending two or three records (using the default kafka producer) on each stream to test with no luck","body":"Currently I&#39;m manually sending two or three records (using the default kafka producer) on each stream to test with no luck"},{"owner":{"account_id":13410254,"reputation":43,"user_id":10152753,"display_name":"4 3 2"},"score":0,"creation_date":1670849321,"post_id":74760086,"comment_id":131961064,"body_markdown":"Then, i tried waiting for more than 5 minutes and nothing happens","body":"Then, i tried waiting for more than 5 minutes and nothing happens"},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1670910984,"post_id":74760086,"comment_id":131976503,"body_markdown":"That won’t work. You must have events from both streams in one window and the next window.","body":"That won’t work. You must have events from both streams in one window and the next window."},{"owner":{"account_id":13410254,"reputation":43,"user_id":10152753,"display_name":"4 3 2"},"score":0,"creation_date":1670955277,"post_id":74760086,"comment_id":131991176,"body_markdown":"You mean a continuous flow of data?","body":"You mean a continuous flow of data?"},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1671039949,"post_id":74760086,"comment_id":132013558,"body_markdown":"Not necessarily. But you do need to process at least one event from each stream in the same window, so that the join can produce a result, and at least one event from each stream with timestamps beyond that window, so that the window becomes complete and will be triggered.","body":"Not necessarily. But you do need to process at least one event from each stream in the same window, so that the join can produce a result, and at least one event from each stream with timestamps beyond that window, so that the window becomes complete and will be triggered."},{"owner":{"account_id":13410254,"reputation":43,"user_id":10152753,"display_name":"4 3 2"},"score":0,"creation_date":1671041177,"post_id":74760086,"comment_id":132013934,"body_markdown":"Can you give me an example? I&#39;m sorry:(","body":"Can you give me an example? I&#39;m sorry:("},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1671065492,"post_id":74760086,"comment_id":132019920,"body_markdown":"If your test data includes events for a window for the interval from 12:00:00 to 12:00:05 (exclusive), that window might not produce results unless the test data also includes at least one event at or after 12:00:05 for each of the two streams. (Whether or not this is necessary depends on how the testing is being done.)","body":"If your test data includes events for a window for the interval from 12:00:00 to 12:00:05 (exclusive), that window might not produce results unless the test data also includes at least one event at or after 12:00:05 for each of the two streams. (Whether or not this is necessary depends on how the testing is being done.)"},{"owner":{"account_id":13410254,"reputation":43,"user_id":10152753,"display_name":"4 3 2"},"score":0,"creation_date":1673138552,"post_id":74760086,"comment_id":132431291,"body_markdown":"Hello David and thank you for your patience!\nI think I meet the requirements you mention, so I think the problem is something else.","body":"Hello David and thank you for your patience! I think I meet the requirements you mention, so I think the problem is something else."}],"tags":[],"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670755221,"creation_date":1670755221,"answer_id":74760086,"question_id":74757958,"body_markdown":"Try attaching a sink to the job. E.g.,\r\n\r\n```java\r\nDataStream&lt;String&gt; joined_stream= mapped_iotA.join(mapped_iotB)\r\n  ...\r\n\r\njoined_stream.print();\r\nenv.execute();\r\n```\r\n","title":"Flink join operator not showing any output","body":"<p>Try attaching a sink to the job. E.g.,</p>\n<pre class=\"lang-java prettyprint-override\"><code>DataStream&lt;String&gt; joined_stream= mapped_iotA.join(mapped_iotB)\n  ...\n\njoined_stream.print();\nenv.execute();\n</code></pre>\n"}],"owner":{"account_id":13410254,"reputation":43,"user_id":10152753,"display_name":"4 3 2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670755221,"creation_date":1670725331,"question_id":74757958,"body_markdown":"Im new to Flink. I got two DataStreams and i want to apply a keyed join in a tumbling Window. All the code works fine but the join never gives any result. I even apply `assignTimestampsAndWatermarks` on the joined Datastreams and on `fromSource`\r\n```\r\nKafkaSource&lt;ConsumerRecord&gt; iotA = KafkaSource.&lt;ConsumerRecord&gt;builder()\r\n                .setBootstrapServers(IP)\r\n                .setTopics(&quot;iotA&quot;)\r\n                .setStartingOffsets(OffsetsInitializer.latest())\r\n                .setDeserializer(KafkaRecordDeserializationSchema.of(new KafkaDeserializationSchema&lt;ConsumerRecord&gt;() {\r\n                    @Override\r\n                    public boolean isEndOfStream(ConsumerRecord record) {\r\n                        return false;\r\n                    }\r\n\r\n                    @Override\r\n                    public ConsumerRecord deserialize(ConsumerRecord&lt;byte[], byte[]&gt; record) throws Exception {\r\n                        String key = new String(record.key(), StandardCharsets.UTF_8);\r\n                        String value = new String(record.value(), StandardCharsets.UTF_8);\r\n                        return new ConsumerRecord(\r\n                                record.topic(),\r\n                                record.partition(),\r\n                                record.offset(),\r\n                                record.timestamp(),\r\n                                record.timestampType(),\r\n                                record.checksum(),\r\n                                record.serializedKeySize(),\r\n                                record.serializedValueSize(),\r\n                                key,\r\n                                value\r\n                        );\r\n                    }\r\n\r\n                    @Override\r\n                    public TypeInformation&lt;ConsumerRecord&gt; getProducedType() {\r\n                        TypeInformation&lt;ConsumerRecord&gt; typeInfo = TypeInformation.of(ConsumerRecord.class);\r\n                        return typeInfo;\r\n                    }\r\n                }))\r\n                .build();\r\n        KafkaSource&lt;ConsumerRecord&gt; iotB = //same as iotA\r\n   \r\n        DataStream&lt;ConsumerRecord&gt; iotA_datastream = env.fromSource(iotA,\r\n                WatermarkStrategy.&lt;ConsumerRecord&gt;forMonotonousTimestamps()\r\n                .withTimestampAssigner((record, timestamp) -&gt; record.timestamp()), &quot;Kafka Source&quot;);\r\n    \r\n        DataStream&lt;ConsumerRecord&gt; iotB_datastream = //same as iotA_datastream\r\n\r\n        DataStream&lt;ConsumerRecord&gt; mapped_iotA = iotA_datastream.map(new MapFunction&lt;ConsumerRecord, ConsumerRecord&gt;() {\r\n            @Override\r\n            public ConsumerRecord map(ConsumerRecord record) throws Exception {\r\n                String new_value = splitValue((String) record.value(), 0);\r\n                return new ConsumerRecord(record.topic(), record.partition(), record.offset(), record.timestamp(), record.timestampType(),\r\n                        record.checksum(), record.serializedKeySize(), record.serializedValueSize(), record.key(), new_value);\r\n            }\r\n        }).assignTimestampsAndWatermarks(WatermarkStrategy.&lt;ConsumerRecord&gt;forMonotonousTimestamps()\r\n                .withTimestampAssigner((record, timestamp) -&gt; record.timestamp()));\r\n\r\n        DataStream&lt;ConsumerRecord&gt; mapped_iotB = //same as mapped_iotA\r\n\r\n        DataStream&lt;String&gt; joined_stream= mapped_iotA.join(mapped_iotB)\r\n                .where(new KeySelector&lt;ConsumerRecord, String&gt;() {\r\n                    @Override\r\n                    public String getKey(ConsumerRecord record) throws Exception {\r\n                        System.out.println((String) record.key()+record.value());\r\n                        return (String) record.key();\r\n                    }\r\n                })\r\n                .equalTo(new KeySelector&lt;ConsumerRecord, String&gt;() {\r\n                    @Override\r\n                    public String getKey(ConsumerRecord record) throws Exception {\r\n                        System.out.println((String) record.key()+record.value());\r\n                        return (String) record.key();\r\n                    }\r\n                })\r\n                .window(TumblingEventTimeWindows.of(Time.seconds(5)))\r\n                .apply(new JoinFunction&lt;ConsumerRecord, ConsumerRecord, String&gt; (){\r\n                    @Override\r\n                    public String join(ConsumerRecord record1, ConsumerRecord record2) throws Exception {//doesnt show anything\r\n                        System.out.println(&quot;value1&quot; + record1.value() + &quot;value2&quot; + record2.value());\r\n                        return &quot;null&quot;;\r\n                    }\r\n                        });\r\n\r\n        env.execute();\r\n```\r\nI also tried with other Watermark Strategies like `forBoundedOutOfOrderness` and wider windows time with the same result","title":"Flink join operator not showing any output","body":"<p>Im new to Flink. I got two DataStreams and i want to apply a keyed join in a tumbling Window. All the code works fine but the join never gives any result. I even apply <code>assignTimestampsAndWatermarks</code> on the joined Datastreams and on <code>fromSource</code></p>\n<pre><code>KafkaSource&lt;ConsumerRecord&gt; iotA = KafkaSource.&lt;ConsumerRecord&gt;builder()\n                .setBootstrapServers(IP)\n                .setTopics(&quot;iotA&quot;)\n                .setStartingOffsets(OffsetsInitializer.latest())\n                .setDeserializer(KafkaRecordDeserializationSchema.of(new KafkaDeserializationSchema&lt;ConsumerRecord&gt;() {\n                    @Override\n                    public boolean isEndOfStream(ConsumerRecord record) {\n                        return false;\n                    }\n\n                    @Override\n                    public ConsumerRecord deserialize(ConsumerRecord&lt;byte[], byte[]&gt; record) throws Exception {\n                        String key = new String(record.key(), StandardCharsets.UTF_8);\n                        String value = new String(record.value(), StandardCharsets.UTF_8);\n                        return new ConsumerRecord(\n                                record.topic(),\n                                record.partition(),\n                                record.offset(),\n                                record.timestamp(),\n                                record.timestampType(),\n                                record.checksum(),\n                                record.serializedKeySize(),\n                                record.serializedValueSize(),\n                                key,\n                                value\n                        );\n                    }\n\n                    @Override\n                    public TypeInformation&lt;ConsumerRecord&gt; getProducedType() {\n                        TypeInformation&lt;ConsumerRecord&gt; typeInfo = TypeInformation.of(ConsumerRecord.class);\n                        return typeInfo;\n                    }\n                }))\n                .build();\n        KafkaSource&lt;ConsumerRecord&gt; iotB = //same as iotA\n   \n        DataStream&lt;ConsumerRecord&gt; iotA_datastream = env.fromSource(iotA,\n                WatermarkStrategy.&lt;ConsumerRecord&gt;forMonotonousTimestamps()\n                .withTimestampAssigner((record, timestamp) -&gt; record.timestamp()), &quot;Kafka Source&quot;);\n    \n        DataStream&lt;ConsumerRecord&gt; iotB_datastream = //same as iotA_datastream\n\n        DataStream&lt;ConsumerRecord&gt; mapped_iotA = iotA_datastream.map(new MapFunction&lt;ConsumerRecord, ConsumerRecord&gt;() {\n            @Override\n            public ConsumerRecord map(ConsumerRecord record) throws Exception {\n                String new_value = splitValue((String) record.value(), 0);\n                return new ConsumerRecord(record.topic(), record.partition(), record.offset(), record.timestamp(), record.timestampType(),\n                        record.checksum(), record.serializedKeySize(), record.serializedValueSize(), record.key(), new_value);\n            }\n        }).assignTimestampsAndWatermarks(WatermarkStrategy.&lt;ConsumerRecord&gt;forMonotonousTimestamps()\n                .withTimestampAssigner((record, timestamp) -&gt; record.timestamp()));\n\n        DataStream&lt;ConsumerRecord&gt; mapped_iotB = //same as mapped_iotA\n\n        DataStream&lt;String&gt; joined_stream= mapped_iotA.join(mapped_iotB)\n                .where(new KeySelector&lt;ConsumerRecord, String&gt;() {\n                    @Override\n                    public String getKey(ConsumerRecord record) throws Exception {\n                        System.out.println((String) record.key()+record.value());\n                        return (String) record.key();\n                    }\n                })\n                .equalTo(new KeySelector&lt;ConsumerRecord, String&gt;() {\n                    @Override\n                    public String getKey(ConsumerRecord record) throws Exception {\n                        System.out.println((String) record.key()+record.value());\n                        return (String) record.key();\n                    }\n                })\n                .window(TumblingEventTimeWindows.of(Time.seconds(5)))\n                .apply(new JoinFunction&lt;ConsumerRecord, ConsumerRecord, String&gt; (){\n                    @Override\n                    public String join(ConsumerRecord record1, ConsumerRecord record2) throws Exception {//doesnt show anything\n                        System.out.println(&quot;value1&quot; + record1.value() + &quot;value2&quot; + record2.value());\n                        return &quot;null&quot;;\n                    }\n                        });\n\n        env.execute();\n</code></pre>\n<p>I also tried with other Watermark Strategies like <code>forBoundedOutOfOrderness</code> and wider windows time with the same result</p>\n"},{"tags":["java","android","arraylist","hashmap"],"comments":[{"owner":{"account_id":1281728,"reputation":73144,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"score":0,"creation_date":1670751904,"post_id":74759622,"comment_id":131941954,"body_markdown":"Your `listmap`  seems to be a list of hashmaps, not a single hash map\nso to put anyting to Hashmap you need to first get the one you want to put your data into.","body":"Your <code>listmap</code>  seems to be a list of hashmaps, not a single hash map so to put anyting to Hashmap you need to first get the one you want to put your data into."},{"owner":{"account_id":20971207,"reputation":1,"user_id":15408335,"display_name":"Harleythetech"},"score":0,"creation_date":1670753789,"post_id":74759622,"comment_id":131942247,"body_markdown":"@MarcinOrlowski i&#39;m trying to put all of them tho, Since i want the question to be stored next to it&#39;s answer.","body":"@MarcinOrlowski i&#39;m trying to put all of them tho, Since i want the question to be stored next to it&#39;s answer."}],"answers":[{"comments":[{"owner":{"account_id":20971207,"reputation":1,"user_id":15408335,"display_name":"Harleythetech"},"score":0,"creation_date":1670757616,"post_id":74759994,"comment_id":131942873,"body_markdown":"this works but it presented a new issue which is that the data is not being stored at jshared, I opened up the sharedprefs and checked the xml only to see it have this: \n`&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39; standalone=&#39;yes&#39; ?&gt;\n&lt;map&gt;\n    &lt;string name=&quot;data&quot;&gt;[]&lt;/string&gt;\n&lt;/map&gt;`","body":"this works but it presented a new issue which is that the data is not being stored at jshared, I opened up the sharedprefs and checked the xml only to see it have this:  <code>&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39; standalone=&#39;yes&#39; ?&gt; &lt;map&gt;     &lt;string name=&quot;data&quot;&gt;[]&lt;&#47;string&gt; &lt;&#47;map&gt;</code>"},{"owner":{"account_id":22674598,"reputation":38,"user_id":16845870,"display_name":"okmyan"},"score":0,"creation_date":1670765533,"post_id":74759994,"comment_id":131944235,"body_markdown":"This is because you are storing an empty listmap into sharedprefs. Your listmap is empty","body":"This is because you are storing an empty listmap into sharedprefs. Your listmap is empty"},{"owner":{"account_id":20971207,"reputation":1,"user_id":15408335,"display_name":"Harleythetech"},"score":0,"creation_date":1670769458,"post_id":74759994,"comment_id":131944993,"body_markdown":"isn&#39;t map supposed to put the data to local map then local map will be transferred to listmap to get the data stored to jshared","body":"isn&#39;t map supposed to put the data to local map then local map will be transferred to listmap to get the data stored to jshared"}],"tags":[],"owner":{"account_id":22674598,"reputation":38,"user_id":16845870,"display_name":"okmyan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670754513,"creation_date":1670754487,"answer_id":74759994,"question_id":74759622,"body_markdown":"Function putAll in HashMap expects another Map, but you are trying to put a list of maps.\r\n\r\nSo, you need to write something like this:\r\n\r\n    listmap.forEach(localMap -&gt; {\r\n        map.putAll(localMap);\r\n    });","title":"putAll in &#39;java.util.hashmap&#39; cannot be applied to &#39;java.util.arrayList&#39;","body":"<p>Function putAll in HashMap expects another Map, but you are trying to put a list of maps.</p>\n<p>So, you need to write something like this:</p>\n<pre><code>listmap.forEach(localMap -&gt; {\n    map.putAll(localMap);\n});\n</code></pre>\n"}],"owner":{"account_id":20971207,"reputation":1,"user_id":15408335,"display_name":"Harleythetech"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670754513,"creation_date":1670750836,"question_id":74759622,"body_markdown":"I&#39;m trying to put multiple data on my Jshared using Hashmap and Arraylist but android studio keeps returning this error: \r\n\r\n\r\n    putAll(java.util.Map&lt;? extends java.lang.String,?&gt;) in java.util.HashMap \r\n    cannot be applied to (java.util.ArrayList&lt;java.util.HashMap&lt;java.lang.String,java.lang.Object&gt;&gt;)\r\n\r\n\r\nI can&#39;t figure out how to fix it, I&#39;m new to using hashmap so i don&#39;t really know what the issue may be.\r\n\r\nHere is the Code:\r\n```\r\npackage com.prgr.quizards.canary;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.widget.AppCompatButton;\r\n\r\nimport com.google.android.material.textfield.TextInputEditText;\r\nimport com.google.gson.Gson;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Objects;\r\n\r\n\r\npublic class question extends Activity {\r\n\r\n    private AppCompatButton btn;\r\n    private SharedPreferences jshared2;\r\n    private int val;\r\n    private SharedPreferences jshared;\r\n    private ArrayList&lt;HashMap&lt;String, Object&gt;&gt; listmap = new ArrayList&lt;&gt;();\r\n    private HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    @Override\r\n    protected void onCreate(Bundle _savedInstanceState) {\r\n        super.onCreate(_savedInstanceState);\r\n        setContentView(R.layout.activity_question);\r\n        initializedata();\r\n        AppCompatButton btn2 = findViewById(R.id.button3);\r\n        btn = findViewById(R.id.button);\r\n        btn2.setOnClickListener(v -&gt; gotoback());\r\n        btn.setOnClickListener(view -&gt; logicg());\r\n        val = 0;\r\n\r\n    }\r\n    public void gotoback(){\r\n        Intent intent = new Intent(question.this, activity_home_screen.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void initializedata(){\r\n        jshared = getSharedPreferences(&quot;j&quot;, Activity.MODE_PRIVATE);\r\n        jshared2 = getSharedPreferences(&quot;j2&quot;, Activity.MODE_PRIVATE);\r\n\r\n    }\r\n    @SuppressLint(&quot;ApplySharedPref&quot;)\r\n    private void logicg() {\r\n        btn = findViewById(R.id.button);\r\n        EditText inop = findViewById(R.id.inop);\r\n        TextInputEditText ans = findViewById(R.id.ans);\r\n        TextView text = findViewById(R.id.text3);\r\n\r\n        String mount = jshared.getString(&quot;amount&quot;, &quot;&quot;);\r\n        int amounts = Integer.parseInt(mount);\r\n\r\n        boolean b = val == amounts;\r\n        Toast.makeText(getApplicationContext(), &quot;Start&quot;, Toast.LENGTH_SHORT).show();\r\n        if(b){\r\n            jshared2.edit().putString(&quot;data&quot;, new Gson().toJson(listmap)).commit();\r\n            Intent intent = new Intent(question.this, answerscrn.class);\r\n            startActivity(intent);\r\n            Toast.makeText(getApplicationContext(), &quot;if&quot;, Toast.LENGTH_SHORT).show();\r\n        }else{\r\n            map.put(&quot;answer&quot;, Objects.requireNonNull(ans.getText()).toString());\r\n            map.put(&quot;question&quot;, inop.getText().toString());\r\n            map.putAll(listmap);\r\n            map.clear();\r\n            ans.setText(null);\r\n            inop.setText(null);\r\n            val++;\r\n            String f = Integer.toString(val);\r\n            String amt = f + &quot; / &quot; + mount;\r\n            text.setText(amt);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nI tried Casting \r\n``` \r\nmap.putAll((Map&lt;? extends String, ?&gt;) listmap);\r\n```\r\nbut that also fails and crashes the app during runtime i expect that this code will store multiple data that is given by the map which stores the user&#39;s inputted data.","title":"putAll in &#39;java.util.hashmap&#39; cannot be applied to &#39;java.util.arrayList&#39;","body":"<p>I'm trying to put multiple data on my Jshared using Hashmap and Arraylist but android studio keeps returning this error:</p>\n<pre><code>putAll(java.util.Map&lt;? extends java.lang.String,?&gt;) in java.util.HashMap \ncannot be applied to (java.util.ArrayList&lt;java.util.HashMap&lt;java.lang.String,java.lang.Object&gt;&gt;)\n</code></pre>\n<p>I can't figure out how to fix it, I'm new to using hashmap so i don't really know what the issue may be.</p>\n<p>Here is the Code:</p>\n<pre><code>package com.prgr.quizards.canary;\n\nimport android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.widget.AppCompatButton;\n\nimport com.google.android.material.textfield.TextInputEditText;\nimport com.google.gson.Gson;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Objects;\n\n\npublic class question extends Activity {\n\n    private AppCompatButton btn;\n    private SharedPreferences jshared2;\n    private int val;\n    private SharedPreferences jshared;\n    private ArrayList&lt;HashMap&lt;String, Object&gt;&gt; listmap = new ArrayList&lt;&gt;();\n    private HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n    @Override\n    protected void onCreate(Bundle _savedInstanceState) {\n        super.onCreate(_savedInstanceState);\n        setContentView(R.layout.activity_question);\n        initializedata();\n        AppCompatButton btn2 = findViewById(R.id.button3);\n        btn = findViewById(R.id.button);\n        btn2.setOnClickListener(v -&gt; gotoback());\n        btn.setOnClickListener(view -&gt; logicg());\n        val = 0;\n\n    }\n    public void gotoback(){\n        Intent intent = new Intent(question.this, activity_home_screen.class);\n        startActivity(intent);\n    }\n\n    private void initializedata(){\n        jshared = getSharedPreferences(&quot;j&quot;, Activity.MODE_PRIVATE);\n        jshared2 = getSharedPreferences(&quot;j2&quot;, Activity.MODE_PRIVATE);\n\n    }\n    @SuppressLint(&quot;ApplySharedPref&quot;)\n    private void logicg() {\n        btn = findViewById(R.id.button);\n        EditText inop = findViewById(R.id.inop);\n        TextInputEditText ans = findViewById(R.id.ans);\n        TextView text = findViewById(R.id.text3);\n\n        String mount = jshared.getString(&quot;amount&quot;, &quot;&quot;);\n        int amounts = Integer.parseInt(mount);\n\n        boolean b = val == amounts;\n        Toast.makeText(getApplicationContext(), &quot;Start&quot;, Toast.LENGTH_SHORT).show();\n        if(b){\n            jshared2.edit().putString(&quot;data&quot;, new Gson().toJson(listmap)).commit();\n            Intent intent = new Intent(question.this, answerscrn.class);\n            startActivity(intent);\n            Toast.makeText(getApplicationContext(), &quot;if&quot;, Toast.LENGTH_SHORT).show();\n        }else{\n            map.put(&quot;answer&quot;, Objects.requireNonNull(ans.getText()).toString());\n            map.put(&quot;question&quot;, inop.getText().toString());\n            map.putAll(listmap);\n            map.clear();\n            ans.setText(null);\n            inop.setText(null);\n            val++;\n            String f = Integer.toString(val);\n            String amt = f + &quot; / &quot; + mount;\n            text.setText(amt);\n        }\n\n    }\n\n}\n\n\n</code></pre>\n<p>I tried Casting</p>\n<pre><code>map.putAll((Map&lt;? extends String, ?&gt;) listmap);\n</code></pre>\n<p>but that also fails and crashes the app during runtime i expect that this code will store multiple data that is given by the map which stores the user's inputted data.</p>\n"},{"tags":["java","android","api","http","spotify"],"answers":[{"tags":[],"owner":{"account_id":9444963,"reputation":547,"user_id":7024066,"display_name":"tomaculum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555422497,"creation_date":1555422497,"answer_id":55709776,"question_id":55692881,"body_markdown":"The mentioned API endpoint does work for me on the web console as well as curl request on my desktop. If this does not work for you, please check if your authorization token does include the scope `user-modify-playback-state`.\r\n\r\nRegarding tips: The Spotify libraries for [authorization][1] and [playback control][2] are pretty easy to integrate.\r\n\r\nI do not know exactly if the playback control part is only for the playback on your device (mobile phone) or does include your use case to control the playback on your desktop. If not, you could implement this as a simple [OkHttp][3] request:\r\n\r\n``` java\r\nOkHttpClient client = new OkHttpClient();\r\n\r\nRequest request = new Request.Builder()\r\n  .url(&quot;https://api.spotify.com/v1/me/player/pause&quot;)\r\n  .put(null)\r\n  .addHeader(&quot;Authorization&quot;, &quot;Bearer xxxx-xxxx-xxxx…&quot;)\r\n  .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n  .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\r\n  .build();\r\n\r\nResponse response = client.newCall(request).execute();\r\n```\r\n\r\nIf this does not help, it would be good to know some more details from your attempts of calling this api, like the actual call in Java or responses/ errors.\r\n\r\n\r\n  [1]: https://github.com/spotify/android-auth\r\n  [2]: https://github.com/spotify/android-sdk\r\n  [3]: https://github.com/square/okhttp","title":"How to pause my Spotify via Android App with PUT command by Spotify Web API","body":"<p>The mentioned API endpoint does work for me on the web console as well as curl request on my desktop. If this does not work for you, please check if your authorization token does include the scope <code>user-modify-playback-state</code>.</p>\n\n<p>Regarding tips: The Spotify libraries for <a href=\"https://github.com/spotify/android-auth\" rel=\"nofollow noreferrer\">authorization</a> and <a href=\"https://github.com/spotify/android-sdk\" rel=\"nofollow noreferrer\">playback control</a> are pretty easy to integrate.</p>\n\n<p>I do not know exactly if the playback control part is only for the playback on your device (mobile phone) or does include your use case to control the playback on your desktop. If not, you could implement this as a simple <a href=\"https://github.com/square/okhttp\" rel=\"nofollow noreferrer\">OkHttp</a> request:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>OkHttpClient client = new OkHttpClient();\n\nRequest request = new Request.Builder()\n  .url(\"https://api.spotify.com/v1/me/player/pause\")\n  .put(null)\n  .addHeader(\"Authorization\", \"Bearer xxxx-xxxx-xxxx…\")\n  .addHeader(\"Content-Type\", \"application/json\")\n  .addHeader(\"Accept\", \"application/json\")\n  .build();\n\nResponse response = client.newCall(request).execute();\n</code></pre>\n\n<p>If this does not help, it would be good to know some more details from your attempts of calling this api, like the actual call in Java or responses/ errors.</p>\n"},{"tags":[],"owner":{"account_id":15704967,"reputation":1,"user_id":11331950,"display_name":"iamrrg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670753152,"creation_date":1670753152,"answer_id":74759864,"question_id":55692881,"body_markdown":"Please be aware that player pause/play in spotify API is a premium feature. \r\n\r\n    {\r\n      &quot;error&quot; : {\r\n        &quot;status&quot; : 403,\r\n        &quot;message&quot; : &quot;Player command failed: Premium required&quot;,\r\n        &quot;reason&quot; : &quot;PREMIUM_REQUIRED&quot;\r\n      }\r\n    }","title":"How to pause my Spotify via Android App with PUT command by Spotify Web API","body":"<p>Please be aware that player pause/play in spotify API is a premium feature.</p>\n<pre><code>{\n  &quot;error&quot; : {\n    &quot;status&quot; : 403,\n    &quot;message&quot; : &quot;Player command failed: Premium required&quot;,\n    &quot;reason&quot; : &quot;PREMIUM_REQUIRED&quot;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":9762846,"reputation":25,"user_id":7237389,"display_name":"c1dolec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670753152,"creation_date":1555343262,"question_id":55692881,"body_markdown":"I have an android app, which should execute some specific commands on an other computer where spotify is running as desktop app.\r\n\r\nThe current state is, that i have a blank activity with a button. If the button is pressed, my mobile phone with the android app should execute this command from spotify web api:\r\n\r\nhttps://developer.spotify.com/console/put-pause/\r\n\r\nthe command is like:\r\ncurl -X &quot;PUT&quot; &quot;https://api.spotify.com/v1/me/player/pause&quot; -H &quot;Accept: application/json&quot; -H &quot;Content-Type: application/json&quot; -H &quot;Authorization: Bearer XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;\r\n\r\nI&#39;m trying out different things and ways to solve that now for the whole day and nothing works.\r\nHas anyone a similar problem or some tips how to do it?\r\n\r\nThank you!","title":"How to pause my Spotify via Android App with PUT command by Spotify Web API","body":"<p>I have an android app, which should execute some specific commands on an other computer where spotify is running as desktop app.</p>\n\n<p>The current state is, that i have a blank activity with a button. If the button is pressed, my mobile phone with the android app should execute this command from spotify web api:</p>\n\n<p><a href=\"https://developer.spotify.com/console/put-pause/\" rel=\"nofollow noreferrer\">https://developer.spotify.com/console/put-pause/</a></p>\n\n<p>the command is like:\ncurl -X \"PUT\" \"<a href=\"https://api.spotify.com/v1/me/player/pause\" rel=\"nofollow noreferrer\">https://api.spotify.com/v1/me/player/pause</a>\" -H \"Accept: application/json\" -H \"Content-Type: application/json\" -H \"Authorization: Bearer XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"</p>\n\n<p>I'm trying out different things and ways to solve that now for the whole day and nothing works.\nHas anyone a similar problem or some tips how to do it?</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","optaplanner","optaweb-employee-rostering","optaweb-vehicle-routing"],"answers":[{"comments":[{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1670685824,"post_id":74752161,"comment_id":131932722,"body_markdown":"Does that mean there is no way I can reject a solution if a negative score is encountered?","body":"Does that mean there is no way I can reject a solution if a negative score is encountered?"},{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"score":2,"creation_date":1670687544,"post_id":74752161,"comment_id":131933109,"body_markdown":"There is no way how you get to reject any kind of score, that&#39;s the solver&#39;s job. The job of the developer is to give the solver a scoring function that accurately describes solution quality. Your way of telling the solver what is right and what is wrong is to make sure that the wrong things have a worse score than the right things.","body":"There is no way how you get to reject any kind of score, that&#39;s the solver&#39;s job. The job of the developer is to give the solver a scoring function that accurately describes solution quality. Your way of telling the solver what is right and what is wrong is to make sure that the wrong things have a worse score than the right things."},{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1670697447,"post_id":74752161,"comment_id":131935179,"body_markdown":"I have multiple constraints and I am using HardMediumSoftScore. I think whatever scoring function I provide, it may choose a solution that will not be feasible for my use case(most of the time). \nBecuase I cannot afford to break any constraint and I prefer to leave the appointment unassigned then assigning an incorrect sales rep","body":"I have multiple constraints and I am using HardMediumSoftScore. I think whatever scoring function I provide, it may choose a solution that will not be feasible for my use case(most of the time).  Becuase I cannot afford to break any constraint and I prefer to leave the appointment unassigned then assigning an incorrect sales rep"},{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1670697604,"post_id":74752161,"comment_id":131935224,"body_markdown":"If I can just tweak the OP library to ignore all negative scores and only choose the best score among the positive ones then I can rebuild the OP library and use it for my use case correctly","body":"If I can just tweak the OP library to ignore all negative scores and only choose the best score among the positive ones then I can rebuild the OP library and use it for my use case correctly"},{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1670697737,"post_id":74752161,"comment_id":131935253,"body_markdown":"Are you aware where in the library(Optaplanner) are we choosing the best score, so that I can apply my tweak in the code?","body":"Are you aware where in the library(Optaplanner) are we choosing the best score, so that I can apply my tweak in the code?"},{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"score":1,"creation_date":1670698128,"post_id":74752161,"comment_id":131935329,"body_markdown":"I am sorry, but you are on the wrong path. I strongly suggest you abandon this idea.","body":"I am sorry, but you are on the wrong path. I strongly suggest you abandon this idea."}],"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670669404,"creation_date":1670668644,"answer_id":74752161,"question_id":74747553,"body_markdown":"Scores in OptaPlanner are compared based on their level, from left to right, hardest to softest. If a score level has a higher numeric value, it is considered better. If the numeric values for that level are equal, a softer level is considered.\r\n\r\nIn your example, the following is true:\r\n\r\n    (6hard/-1medium/0soft) &gt; (5hard/3medium/2soft) &gt; (1hard/0medium/0soft)\r\n\r\nHard score 6 is *better* than hard score 5, and hard score 5 is better than hard score 1. If the solution represented by the first score is not in fact better than the second score, then you need to redefine your constraint weights to tell OptaPlanner that.\r\n\r\nThe score is a measure of solution quality. Better score means better solution. There is no working around that fact, it is something you have to accept.","title":"Optaplanner should consider only positive scores","body":"<p>Scores in OptaPlanner are compared based on their level, from left to right, hardest to softest. If a score level has a higher numeric value, it is considered better. If the numeric values for that level are equal, a softer level is considered.</p>\n<p>In your example, the following is true:</p>\n<pre><code>(6hard/-1medium/0soft) &gt; (5hard/3medium/2soft) &gt; (1hard/0medium/0soft)\n</code></pre>\n<p>Hard score 6 is <em>better</em> than hard score 5, and hard score 5 is better than hard score 1. If the solution represented by the first score is not in fact better than the second score, then you need to redefine your constraint weights to tell OptaPlanner that.</p>\n<p>The score is a measure of solution quality. Better score means better solution. There is no working around that fact, it is something you have to accept.</p>\n"},{"comments":[{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1670756499,"post_id":74759838,"comment_id":131942688,"body_markdown":"I have implemented overconstrained planning where if there are no feasible solutions (no hard constraint are broken) then don&#39;t assign any sales rep to any appointment i.e. there is no way we can assign anybody to any appointment","body":"I have implemented overconstrained planning where if there are no feasible solutions (no hard constraint are broken) then don&#39;t assign any sales rep to any appointment i.e. there is no way we can assign anybody to any appointment"},{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1670756551,"post_id":74759838,"comment_id":131942695,"body_markdown":"But the algorithm should never assign a sales rep if even a single hard constraint is broken that makes the entire solution unusable","body":"But the algorithm should never assign a sales rep if even a single hard constraint is broken that makes the entire solution unusable"},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1670760166,"post_id":74759838,"comment_id":131943290,"body_markdown":"It will do that if your &quot;assign all sales reps&quot; is a medium constraint (so any hard constraint overrules it).","body":"It will do that if your &quot;assign all sales reps&quot; is a medium constraint (so any hard constraint overrules it)."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1670760227,"post_id":74759838,"comment_id":131943312,"body_markdown":"And of course, no sales rep is assigned with `@PlaningPin pinned=true` that breaks hard constraints (regardless if the unfluence of the unpinned sales rep assignments).","body":"And of course, no sales rep is assigned with <code>@PlaningPin pinned=true</code> that breaks hard constraints (regardless if the unfluence of the unpinned sales rep assignments)."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1670760534,"post_id":74759838,"comment_id":131943363,"body_markdown":"Check your constraints. Run ScoreManager.explainScore() on a best solution. Understand that seeing 100hard is impossible if you only have negative hard constraints.","body":"Check your constraints. Run ScoreManager.explainScore() on a best solution. Understand that seeing 100hard is impossible if you only have negative hard constraints."},{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1670763960,"post_id":74759838,"comment_id":131943901,"body_markdown":"100hard is just a hypothetical example I have given in the post. I meant that even if my score is even 100hard/0medium/-1soft , I wanted to reject that solution because it has -1soft(a constraint is broken)","body":"100hard is just a hypothetical example I have given in the post. I meant that even if my score is even 100hard/0medium/-1soft , I wanted to reject that solution because it has -1soft(a constraint is broken)"},{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1670764123,"post_id":74759838,"comment_id":131943943,"body_markdown":"Currently, I have implemented two constraints\n\n1. Sales rep work hours check\n2. Only one appointment per sales rep at any given time.\n\nFor each of these constraint, I have a penalized method  and a reward method","body":"Currently, I have implemented two constraints  1. Sales rep work hours check 2. Only one appointment per sales rep at any given time.  For each of these constraint, I have a penalized method  and a reward method"},{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1670764443,"post_id":74759838,"comment_id":131944015,"body_markdown":"The reason why I have two methods for each constraint is because when I had only penalized method with overconstrainted planning enabled then 0hard/0medium/0soft(initial solution with no sales rep assigned) was always coming as the best solution","body":"The reason why I have two methods for each constraint is because when I had only penalized method with overconstrainted planning enabled then 0hard/0medium/0soft(initial solution with no sales rep assigned) was always coming as the best solution"},{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1670764508,"post_id":74759838,"comment_id":131944036,"body_markdown":"Hence, in order to improve the best score. I implement a reward method for improving the best score.","body":"Hence, in order to improve the best score. I implement a reward method for improving the best score."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1670834869,"post_id":74759838,"comment_id":131956633,"body_markdown":"If -1hard+101hard is worse than 0hard, use BendableScore to get 4 score levels and make it -1veryHard/101hard so it prefers 0veryHard/0hard.","body":"If -1hard+101hard is worse than 0hard, use BendableScore to get 4 score levels and make it -1veryHard/101hard so it prefers 0veryHard/0hard."}],"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670752908,"creation_date":1670752908,"answer_id":74759838,"question_id":74747553,"body_markdown":"&gt; Reject: 100hard/0medium/-1soft\r\n\r\n**That `100hard` should probably be `-100hard`.**\r\n\r\nOptaPlanner will always output the solution with the highest score - that is the best solution. So solution A with score `100hard` is better than solution B with score `0hard`, which is better than solution C with score `-100hard`.\r\n\r\nI suspect you might have implemented a hard constraint that rewards instead of penalizes, unintentionally.\r\n\r\n&gt; can I reject a solution if a negative score is encountered?\r\n\r\nPractically yes (even if the answer is no internally). By default, OptaPlanner will assign all variables and output the best solution (= solution with the highest score) encountered during it&#39;s run. **If it has encountered *any* solution with no hard constraints broken, the best solution it outputs will have no hard constraints broken.** \r\n\r\nBut what if it didn&#39;t encounter any solution with no hard constriants broken?\r\n\r\n- Either keep searching: Use a **feasibleScore termination**. See docs. This might run forever if a dataset is overconstrained.\r\n- Or don&#39;t assign all variables. This is called **overconstrained planning**. See docs.","title":"Optaplanner should consider only positive scores","body":"<blockquote>\n<p>Reject: 100hard/0medium/-1soft</p>\n</blockquote>\n<p><strong>That <code>100hard</code> should probably be <code>-100hard</code>.</strong></p>\n<p>OptaPlanner will always output the solution with the highest score - that is the best solution. So solution A with score <code>100hard</code> is better than solution B with score <code>0hard</code>, which is better than solution C with score <code>-100hard</code>.</p>\n<p>I suspect you might have implemented a hard constraint that rewards instead of penalizes, unintentionally.</p>\n<blockquote>\n<p>can I reject a solution if a negative score is encountered?</p>\n</blockquote>\n<p>Practically yes (even if the answer is no internally). By default, OptaPlanner will assign all variables and output the best solution (= solution with the highest score) encountered during it's run. <strong>If it has encountered <em>any</em> solution with no hard constraints broken, the best solution it outputs will have no hard constraints broken.</strong></p>\n<p>But what if it didn't encounter any solution with no hard constriants broken?</p>\n<ul>\n<li>Either keep searching: Use a <strong>feasibleScore termination</strong>. See docs. This might run forever if a dataset is overconstrained.</li>\n<li>Or don't assign all variables. This is called <strong>overconstrained planning</strong>. See docs.</li>\n</ul>\n"}],"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1670752908,"creation_date":1670614390,"question_id":74747553,"body_markdown":"I have a use case where I want to assign a salesperson to a list of appointments. Now, these salespeople have to travel from one point to another to reach the appointment location. I am using Optaplanner to schedule a list of salespersons for a bunch of appointments.\r\n\r\n```\r\nI have multiple constraints. Currently, I have implemented two constraints.\r\n1. Sales rep work timing constraint.\r\n2. A sales rep can accommodate at most one appointment at the same time.\r\n```\r\n\r\nCurrently, when I ran these constraints individually it works fine and assigns correctly. \r\nHowever, when I add all the constraints and run the program, it is assigning some sales rep incorrectly. \r\nEven though some constraints are penalized but still OP selects the incorrect ones maybe it finds the best score among the penalized values. \r\n\r\nIs there a way to completely reject a solution if we find any constraint(among multiples) violated?\r\n\r\n```\r\nFor example, always choose a positive score and reject if a score has at least one negative value.\r\n(5hard/3medium/2soft) &gt; (1hard/0medium/0soft) but reject (6hard/-1medium/0soft)\r\n\r\nReject: 100hard/0medium/-1soft\r\nEven if anyone score is negative then reject and only accept a score if it has all positive values. \r\n\r\n```\r\n\r\n","title":"Optaplanner should consider only positive scores","body":"<p>I have a use case where I want to assign a salesperson to a list of appointments. Now, these salespeople have to travel from one point to another to reach the appointment location. I am using Optaplanner to schedule a list of salespersons for a bunch of appointments.</p>\n<pre><code>I have multiple constraints. Currently, I have implemented two constraints.\n1. Sales rep work timing constraint.\n2. A sales rep can accommodate at most one appointment at the same time.\n</code></pre>\n<p>Currently, when I ran these constraints individually it works fine and assigns correctly.\nHowever, when I add all the constraints and run the program, it is assigning some sales rep incorrectly.\nEven though some constraints are penalized but still OP selects the incorrect ones maybe it finds the best score among the penalized values.</p>\n<p>Is there a way to completely reject a solution if we find any constraint(among multiples) violated?</p>\n<pre><code>For example, always choose a positive score and reject if a score has at least one negative value.\n(5hard/3medium/2soft) &gt; (1hard/0medium/0soft) but reject (6hard/-1medium/0soft)\n\nReject: 100hard/0medium/-1soft\nEven if anyone score is negative then reject and only accept a score if it has all positive values. \n\n</code></pre>\n"},{"tags":["java","jvm","bytecode","jvm-bytecode"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1669575890,"post_id":74592935,"comment_id":131667521,"body_markdown":"Reread the comments on the &quot;interesting&quot; question you linked.  Look at the OpenJDK code, and remember that Java may not use all the JVM opcodes.  I&#39;m tempted to mark this as a dup of the question you linked...","body":"Reread the comments on the &quot;interesting&quot; question you linked.  Look at the OpenJDK code, and remember that Java may not use all the JVM opcodes.  I&#39;m tempted to mark this as a dup of the question you linked..."},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1669576249,"post_id":74592935,"comment_id":131667609,"body_markdown":"I&#39;m sorry, I&#39;ve just re-read the comments from that answer again, and the answer is not there. If you were able to infer the answer from that other answer, I believe it needs a bit of explanation.","body":"I&#39;m sorry, I&#39;ve just re-read the comments from that answer again, and the answer is not there. If you were able to infer the answer from that other answer, I believe it needs a bit of explanation."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1669576358,"post_id":74592935,"comment_id":131667639,"body_markdown":"I don&#39;t believe there is an &quot;answer&quot;.  The comments were pretty explicit:  If you want to find out what opcodes are generated, read the OpenJDK source code, remembering that the JVM is designed for more than just Java.  There may be opcodes that Java does not use but are used by other languages.","body":"I don&#39;t believe there is an &quot;answer&quot;.  The comments were pretty explicit:  If you want to find out what opcodes are generated, read the OpenJDK source code, remembering that the JVM is designed for more than just Java.  There may be opcodes that Java does not use but are used by other languages."},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1669584792,"post_id":74592935,"comment_id":131669358,"body_markdown":"There may be opcodes that Java does not use but are used by other languages?","body":"There may be opcodes that Java does not use but are used by other languages?"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1669615255,"post_id":74592935,"comment_id":131673565,"body_markdown":"`invokedynamic` was added specifically to support other languages.","body":"<code>invokedynamic</code> was added specifically to support other languages."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1669623797,"post_id":74592935,"comment_id":131675651,"body_markdown":"@Boann that was the case for Java&#160;7, but since Java&#160;8, `invokedynamic` is used by Java (for lambda expressions and method references) and since Java&#160;9, it’s even more widely used, for string concatenation (at least, when compiling with javac).","body":"@Boann that was the case for Java 7, but since Java 8, <code>invokedynamic</code> is used by Java (for lambda expressions and method references) and since Java 9, it’s even more widely used, for string concatenation (at least, when compiling with javac)."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1669623549,"post_id":74595360,"comment_id":131675587,"body_markdown":"See also [Use cases of jvm dup instruction](https://stackoverflow.com/q/54781284/2711488), [What Java code will force javac 1.6 to use the &#39;swap&#39; and &#39;nop&#39; opcodes?](https://stackoverflow.com/q/9722421/2711488)","body":"See also <a href=\"https://stackoverflow.com/q/54781284/2711488\">Use cases of jvm dup instruction</a>, <a href=\"https://stackoverflow.com/q/9722421/2711488\">What Java code will force javac 1.6 to use the &#39;swap&#39; and &#39;nop&#39; opcodes?</a>"},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1669753695,"post_id":74595360,"comment_id":131713656,"body_markdown":"https://stackoverflow.com/a/25746587/8315843 &quot;javac indeed never uses swap even where appropriate.&quot;","body":"<a href=\"https://stackoverflow.com/a/25746587/8315843\">stackoverflow.com/a/25746587/8315843</a> &quot;javac indeed never uses swap even where appropriate.&quot;"}],"tags":[],"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669603238,"creation_date":1669602182,"answer_id":74595360,"question_id":74592935,"body_markdown":"dup2: \r\n\r\n      public static long example(long a) {\r\n          return a = a + 1;\r\n      }\r\n\r\nI doubt that javac ever emits SWAP considering that there&#39;s missing variants like SWAP1_2, SWAP2_1, and SWAP2_2. As for DUP2_X1, I&#39;m stumped.","title":"What piece of code in Java will generate the JVM instructions DUP2, DUP2_X1, SWAP?","body":"<p>dup2:</p>\n<pre><code>  public static long example(long a) {\n      return a = a + 1;\n  }\n</code></pre>\n<p>I doubt that javac ever emits SWAP considering that there's missing variants like SWAP1_2, SWAP2_1, and SWAP2_2. As for DUP2_X1, I'm stumped.</p>\n"},{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1670764721,"post_id":74599924,"comment_id":131944081,"body_markdown":"For swap, a simple `return String.class` is enough to produce that instruction with ecj.","body":"For swap, a simple <code>return String.class</code> is enough to produce that instruction with ecj."}],"tags":[],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670752230,"creation_date":1669635003,"answer_id":74599924,"question_id":74592935,"body_markdown":" 1. An example for `DUP2_X1`\r\n\r\n```java\r\n\tlong l1;\r\n    long l2;\r\n    \r\n\tvoid test(String[] s) {\r\n        s[0] += &quot;s&quot;; // Form 1 \r\n\t\tl2 = l1 = 1; // Form 2 \r\n\t}\r\n```\r\n\r\nand `javap` output when compiled in `JDK8` :\r\n\r\n```javap\r\n  void test(java.lang.String[]);\r\n    Code:\r\n       0: new           #2                  // class java/lang/StringBuilder\r\n       3: dup\r\n       4: invokespecial #3                  // Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n       7: aload_1\r\n       8: iconst_0\r\n       9: dup2_x1\r\n      10: aaload\r\n      11: invokevirtual #4                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n      14: ldc           #5                  // String s\r\n      16: invokevirtual #4                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n      19: invokevirtual #6                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n      22: aastore\r\n      23: aload_0\r\n      24: aload_0\r\n      25: lconst_1\r\n      26: dup2_x1\r\n      27: putfield      #7                  // Field l1:J\r\n      30: putfield      #8                  // Field l2:J\r\n      33: return\r\n}\r\n```\r\n\r\nWhen compiled with `JDK9+`, the pattern of `makeConcatWithConstants` is activated so no `DUP2_X1` for `Form 1` :\r\n\r\n```javap\r\n  void test(java.lang.String[]);\r\n    Code:\r\n       0: aload_1\r\n       1: iconst_0\r\n       2: dup2\r\n       3: aaload\r\n       4: invokedynamic #3,  0              // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;\r\n       9: aastore\r\n      10: aload_0\r\n      11: aload_0\r\n      12: lconst_1\r\n      13: dup2_x1\r\n      14: putfield      #4                  // Field l1:J\r\n      17: putfield      #5                  // Field l2:J\r\n      20: return\r\n```\r\n\r\n\r\n 2. An example for `SWAP` with [ecj][1] :\r\n\r\n```java\r\nimport java.lang.reflect.*;\r\n\r\npublic class TestSWAP {\r\n    public static Constructor getTestConstructor(Class theClass) throws NoSuchMethodException {\r\n        Class[] args = { String.class };\r\n        try {\r\n            return theClass.getConstructor(args);\r\n        } catch (NoSuchMethodException e) {}\r\n        return theClass.getConstructor(new Class[0]);\r\n    }\r\n}\r\n```\r\n\r\nCompiling with [ecj][2] with source/target 1.4 :\r\n\r\n    java -jar ecj-3.32.0.jar -g -source 1.4 -target 1.4 TestSWAP.java\r\n\r\nChecking output of `javap` with command `javap -p -c TestSWAP` :\r\n\r\n```javap\r\nCompiled from &quot;TestSWAP.java&quot;\r\npublic class TestSWAP {\r\n  static java.lang.Class class$0;\r\n\r\n  public TestSWAP();\r\n    Code:\r\n       0: aload_0\r\n       1: invokespecial #11                 // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       4: return\r\n\r\n  public static java.lang.reflect.Constructor getTestConstructor(java.lang.Class) throws java.lang.NoSuchMethodException;\r\n    Code:\r\n       0: iconst_1\r\n       1: anewarray     #22                 // class java/lang/Class\r\n       4: dup\r\n       5: iconst_0\r\n       6: getstatic     #24                 // Field class$0:Ljava/lang/Class;\r\n       9: dup\r\n      10: ifnonnull     38\r\n      13: pop\r\n      14: ldc           #26                 // String java.lang.String\r\n      16: invokestatic  #28                 // Method java/lang/Class.forName:(Ljava/lang/String;)Ljava/lang/Class;\r\n      19: dup\r\n      20: putstatic     #24                 // Field class$0:Ljava/lang/Class;\r\n      23: goto          38\r\n      26: new           #32                 // class java/lang/NoClassDefFoundError\r\n      29: dup_x1\r\n      30: swap\r\n      31: invokevirtual #34                 // Method java/lang/Throwable.getMessage:()Ljava/lang/String;\r\n      34: invokespecial #40                 // Method java/lang/NoClassDefFoundError.&quot;&lt;init&gt;&quot;:(Ljava/lang/String;)V\r\n      37: athrow\r\n      38: aastore\r\n      39: astore_1\r\n      40: aload_0\r\n      41: aload_1\r\n      42: invokevirtual #43                 // Method java/lang/Class.getConstructor:([Ljava/lang/Class;)Ljava/lang/reflect/Constructor;\r\n      45: areturn\r\n      46: pop\r\n      47: aload_0\r\n      48: iconst_0\r\n      49: anewarray     #22                 // class java/lang/Class\r\n      52: invokevirtual #43                 // Method java/lang/Class.getConstructor:([Ljava/lang/Class;)Ljava/lang/reflect/Constructor;\r\n      55: areturn\r\n    Exception table:\r\n       from    to  target type\r\n          14    19    26   Class java/lang/ClassNotFoundException\r\n          40    45    46   Class java/lang/NoSuchMethodException\r\n}\r\n```\r\n\r\n\r\n  [1]: https://search.maven.org/artifact/org.eclipse.jdt/ecj\r\n  [2]: https://search.maven.org/remotecontent?filepath=org/eclipse/jdt/ecj/3.32.0/ecj-3.32.0.jar","title":"What piece of code in Java will generate the JVM instructions DUP2, DUP2_X1, SWAP?","body":"<ol>\n<li>An example for <code>DUP2_X1</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    long l1;\n    long l2;\n    \n    void test(String[] s) {\n        s[0] += &quot;s&quot;; // Form 1 \n        l2 = l1 = 1; // Form 2 \n    }\n</code></pre>\n<p>and <code>javap</code> output when compiled in <code>JDK8</code> :</p>\n<pre><code>  void test(java.lang.String[]);\n    Code:\n       0: new           #2                  // class java/lang/StringBuilder\n       3: dup\n       4: invokespecial #3                  // Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\n       7: aload_1\n       8: iconst_0\n       9: dup2_x1\n      10: aaload\n      11: invokevirtual #4                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n      14: ldc           #5                  // String s\n      16: invokevirtual #4                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n      19: invokevirtual #6                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n      22: aastore\n      23: aload_0\n      24: aload_0\n      25: lconst_1\n      26: dup2_x1\n      27: putfield      #7                  // Field l1:J\n      30: putfield      #8                  // Field l2:J\n      33: return\n}\n</code></pre>\n<p>When compiled with <code>JDK9+</code>, the pattern of <code>makeConcatWithConstants</code> is activated so no <code>DUP2_X1</code> for <code>Form 1</code> :</p>\n<pre><code>  void test(java.lang.String[]);\n    Code:\n       0: aload_1\n       1: iconst_0\n       2: dup2\n       3: aaload\n       4: invokedynamic #3,  0              // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;\n       9: aastore\n      10: aload_0\n      11: aload_0\n      12: lconst_1\n      13: dup2_x1\n      14: putfield      #4                  // Field l1:J\n      17: putfield      #5                  // Field l2:J\n      20: return\n</code></pre>\n<ol start=\"2\">\n<li>An example for <code>SWAP</code> with <a href=\"https://search.maven.org/artifact/org.eclipse.jdt/ecj\" rel=\"nofollow noreferrer\">ecj</a> :</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.*;\n\npublic class TestSWAP {\n    public static Constructor getTestConstructor(Class theClass) throws NoSuchMethodException {\n        Class[] args = { String.class };\n        try {\n            return theClass.getConstructor(args);\n        } catch (NoSuchMethodException e) {}\n        return theClass.getConstructor(new Class[0]);\n    }\n}\n</code></pre>\n<p>Compiling with <a href=\"https://search.maven.org/remotecontent?filepath=org/eclipse/jdt/ecj/3.32.0/ecj-3.32.0.jar\" rel=\"nofollow noreferrer\">ecj</a> with source/target 1.4 :</p>\n<pre><code>java -jar ecj-3.32.0.jar -g -source 1.4 -target 1.4 TestSWAP.java\n</code></pre>\n<p>Checking output of <code>javap</code> with command <code>javap -p -c TestSWAP</code> :</p>\n<pre><code>Compiled from &quot;TestSWAP.java&quot;\npublic class TestSWAP {\n  static java.lang.Class class$0;\n\n  public TestSWAP();\n    Code:\n       0: aload_0\n       1: invokespecial #11                 // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n       4: return\n\n  public static java.lang.reflect.Constructor getTestConstructor(java.lang.Class) throws java.lang.NoSuchMethodException;\n    Code:\n       0: iconst_1\n       1: anewarray     #22                 // class java/lang/Class\n       4: dup\n       5: iconst_0\n       6: getstatic     #24                 // Field class$0:Ljava/lang/Class;\n       9: dup\n      10: ifnonnull     38\n      13: pop\n      14: ldc           #26                 // String java.lang.String\n      16: invokestatic  #28                 // Method java/lang/Class.forName:(Ljava/lang/String;)Ljava/lang/Class;\n      19: dup\n      20: putstatic     #24                 // Field class$0:Ljava/lang/Class;\n      23: goto          38\n      26: new           #32                 // class java/lang/NoClassDefFoundError\n      29: dup_x1\n      30: swap\n      31: invokevirtual #34                 // Method java/lang/Throwable.getMessage:()Ljava/lang/String;\n      34: invokespecial #40                 // Method java/lang/NoClassDefFoundError.&quot;&lt;init&gt;&quot;:(Ljava/lang/String;)V\n      37: athrow\n      38: aastore\n      39: astore_1\n      40: aload_0\n      41: aload_1\n      42: invokevirtual #43                 // Method java/lang/Class.getConstructor:([Ljava/lang/Class;)Ljava/lang/reflect/Constructor;\n      45: areturn\n      46: pop\n      47: aload_0\n      48: iconst_0\n      49: anewarray     #22                 // class java/lang/Class\n      52: invokevirtual #43                 // Method java/lang/Class.getConstructor:([Ljava/lang/Class;)Ljava/lang/reflect/Constructor;\n      55: areturn\n    Exception table:\n       from    to  target type\n          14    19    26   Class java/lang/ClassNotFoundException\n          40    45    46   Class java/lang/NoSuchMethodException\n}\n</code></pre>\n"}],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74599924,"answer_count":2,"score":0,"last_activity_date":1670752230,"creation_date":1669575569,"question_id":74592935,"body_markdown":"I&#39;m building a class that gathers some of the possible JVM opcodes.\r\nI found out how to generate DUP2_X2 and DUP_X2 but not DUP2, DUP2_X1, SWAP.\r\n\r\nBelow the code sample in which I starting gathering some of the jvm opcodes :\r\n\r\n```java\r\npublic class JvmOpCodes {\r\n\r\n\tlong dup2x2(long[] array, int i, long l) {\r\n\t\treturn array[i] = l;\r\n\t}\r\n\r\n\tint dupx2(int[] array, int i, int l) {\r\n\t\treturn array[i] = l;\r\n\t}\r\n\t\r\n\tlong lneg(long a) {\r\n\t\treturn -a;\r\n\t}\r\n\r\n\tlong lor(long a, long b) {\r\n\t\treturn a | b;\r\n\t}\r\n\r\n\tlong land(long a, long b) {\r\n\t\treturn a &amp; b;\r\n\t}\r\n\r\n\tlong lushr(long a, long b) {\r\n\t\treturn a &gt;&gt;&gt; b;\r\n\t}\r\n\r\n\tint iushr(int a, int b) {\r\n\t\treturn a &gt;&gt;&gt; b;\r\n\t}\r\n\r\n\tlong lshl(long a, long b) {\r\n\t\treturn a &lt;&lt; b;\r\n\t}\r\n\r\n\tfloat fsub(float a, float b) {\r\n\t\treturn a - b;\r\n\t}\r\n\r\n\tfloat fadd(float a, float b) {\r\n\t\treturn a + b;\r\n\t}\r\n\r\n\tfloat frem(float a, float b) {\r\n\t\treturn a % b;\r\n\t}\r\n\r\n\tfloat fneg(float a) {\r\n\t\treturn -a;\r\n\t}\r\n\r\n\tdouble drem(double a, double b) {\r\n\t\treturn a % b;\r\n\t}\r\n\t\r\n\tdouble dneg(double a) {\r\n\t\treturn -a;\r\n\t}\r\n\t\r\n\tvoid pop() {\r\n\t\tMath.round(0.5f);\r\n\t}\r\n\t\r\n\tvoid pop2() {\r\n\t\tMath.round(0.5d);\r\n\t}\r\n}\r\n```\r\n\r\nAfter compiling with `javac` command and running `javap -p -c`, I&#39;m able to identify the produced JVM opcodes inside the output :\r\n\r\n```javap\r\nCompiled from &quot;JvmOpCodes.java&quot;\r\npublic class org.apache.bcel.verifier.tests.JvmOpCodes {\r\n  public org.apache.bcel.verifier.tests.JvmOpCodes();\r\n    Code:\r\n       0: aload_0\r\n       1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       4: return\r\n\r\n  long dup2x2(long[], int, long);\r\n    Code:\r\n       0: aload_1\r\n       1: iload_2\r\n       2: lload_3\r\n       3: dup2_x2\r\n       4: lastore\r\n       5: lreturn\r\n\r\n  int dupx2(int[], int, int);\r\n    Code:\r\n       0: aload_1\r\n       1: iload_2\r\n       2: iload_3\r\n       3: dup_x2\r\n       4: iastore\r\n       5: ireturn\r\n\r\n  long lneg(long);\r\n    Code:\r\n       0: lload_1\r\n       1: lneg\r\n       2: lreturn\r\n\r\n  long lor(long, long);\r\n    Code:\r\n       0: lload_1\r\n       1: lload_3\r\n       2: lor\r\n       3: lreturn\r\n\r\n  long land(long, long);\r\n    Code:\r\n       0: lload_1\r\n       1: lload_3\r\n       2: land\r\n       3: lreturn\r\n\r\n  long lushr(long, long);\r\n    Code:\r\n       0: lload_1\r\n       1: lload_3\r\n       2: l2i\r\n       3: lushr\r\n       4: lreturn\r\n\r\n  int iushr(int, int);\r\n    Code:\r\n       0: iload_1\r\n       1: iload_2\r\n       2: iushr\r\n       3: ireturn\r\n\r\n  long lshl(long, long);\r\n    Code:\r\n       0: lload_1\r\n       1: lload_3\r\n       2: l2i\r\n       3: lshl\r\n       4: lreturn\r\n\r\n  float fsub(float, float);\r\n    Code:\r\n       0: fload_1\r\n       1: fload_2\r\n       2: fsub\r\n       3: freturn\r\n\r\n  float fadd(float, float);\r\n    Code:\r\n       0: fload_1\r\n       1: fload_2\r\n       2: fadd\r\n       3: freturn\r\n\r\n  float frem(float, float);\r\n    Code:\r\n       0: fload_1\r\n       1: fload_2\r\n       2: frem\r\n       3: freturn\r\n\r\n  float fneg(float);\r\n    Code:\r\n       0: fload_1\r\n       1: fneg\r\n       2: freturn\r\n\r\n  double drem(double, double);\r\n    Code:\r\n       0: dload_1\r\n       1: dload_3\r\n       2: drem\r\n       3: dreturn\r\n\r\n  double dneg(double);\r\n    Code:\r\n       0: dload_1\r\n       1: dneg\r\n       2: dreturn\r\n\r\n  void pop();\r\n    Code:\r\n       0: ldc           #7                  // float 0.5f\r\n       2: invokestatic  #8                  // Method java/lang/Math.round:(F)I\r\n       5: pop\r\n       6: return\r\n\r\n  void pop2();\r\n    Code:\r\n       0: ldc2_w        #14                 // double 0.5d\r\n       3: invokestatic  #16                 // Method java/lang/Math.round:(D)J\r\n       6: pop2\r\n       7: return\r\n}\r\n```\r\n\r\nHowever, what piece of code in Java will generate the JVM instructions DUP2, DUP2_X1, SWAP ?\r\n\r\nAlso, an interesting related answer with demo here : https://stackoverflow.com/a/72131218/8315843","title":"What piece of code in Java will generate the JVM instructions DUP2, DUP2_X1, SWAP?","body":"<p>I'm building a class that gathers some of the possible JVM opcodes.\nI found out how to generate DUP2_X2 and DUP_X2 but not DUP2, DUP2_X1, SWAP.</p>\n<p>Below the code sample in which I starting gathering some of the jvm opcodes :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JvmOpCodes {\n\n    long dup2x2(long[] array, int i, long l) {\n        return array[i] = l;\n    }\n\n    int dupx2(int[] array, int i, int l) {\n        return array[i] = l;\n    }\n    \n    long lneg(long a) {\n        return -a;\n    }\n\n    long lor(long a, long b) {\n        return a | b;\n    }\n\n    long land(long a, long b) {\n        return a &amp; b;\n    }\n\n    long lushr(long a, long b) {\n        return a &gt;&gt;&gt; b;\n    }\n\n    int iushr(int a, int b) {\n        return a &gt;&gt;&gt; b;\n    }\n\n    long lshl(long a, long b) {\n        return a &lt;&lt; b;\n    }\n\n    float fsub(float a, float b) {\n        return a - b;\n    }\n\n    float fadd(float a, float b) {\n        return a + b;\n    }\n\n    float frem(float a, float b) {\n        return a % b;\n    }\n\n    float fneg(float a) {\n        return -a;\n    }\n\n    double drem(double a, double b) {\n        return a % b;\n    }\n    \n    double dneg(double a) {\n        return -a;\n    }\n    \n    void pop() {\n        Math.round(0.5f);\n    }\n    \n    void pop2() {\n        Math.round(0.5d);\n    }\n}\n</code></pre>\n<p>After compiling with <code>javac</code> command and running <code>javap -p -c</code>, I'm able to identify the produced JVM opcodes inside the output :</p>\n<pre><code>Compiled from &quot;JvmOpCodes.java&quot;\npublic class org.apache.bcel.verifier.tests.JvmOpCodes {\n  public org.apache.bcel.verifier.tests.JvmOpCodes();\n    Code:\n       0: aload_0\n       1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n       4: return\n\n  long dup2x2(long[], int, long);\n    Code:\n       0: aload_1\n       1: iload_2\n       2: lload_3\n       3: dup2_x2\n       4: lastore\n       5: lreturn\n\n  int dupx2(int[], int, int);\n    Code:\n       0: aload_1\n       1: iload_2\n       2: iload_3\n       3: dup_x2\n       4: iastore\n       5: ireturn\n\n  long lneg(long);\n    Code:\n       0: lload_1\n       1: lneg\n       2: lreturn\n\n  long lor(long, long);\n    Code:\n       0: lload_1\n       1: lload_3\n       2: lor\n       3: lreturn\n\n  long land(long, long);\n    Code:\n       0: lload_1\n       1: lload_3\n       2: land\n       3: lreturn\n\n  long lushr(long, long);\n    Code:\n       0: lload_1\n       1: lload_3\n       2: l2i\n       3: lushr\n       4: lreturn\n\n  int iushr(int, int);\n    Code:\n       0: iload_1\n       1: iload_2\n       2: iushr\n       3: ireturn\n\n  long lshl(long, long);\n    Code:\n       0: lload_1\n       1: lload_3\n       2: l2i\n       3: lshl\n       4: lreturn\n\n  float fsub(float, float);\n    Code:\n       0: fload_1\n       1: fload_2\n       2: fsub\n       3: freturn\n\n  float fadd(float, float);\n    Code:\n       0: fload_1\n       1: fload_2\n       2: fadd\n       3: freturn\n\n  float frem(float, float);\n    Code:\n       0: fload_1\n       1: fload_2\n       2: frem\n       3: freturn\n\n  float fneg(float);\n    Code:\n       0: fload_1\n       1: fneg\n       2: freturn\n\n  double drem(double, double);\n    Code:\n       0: dload_1\n       1: dload_3\n       2: drem\n       3: dreturn\n\n  double dneg(double);\n    Code:\n       0: dload_1\n       1: dneg\n       2: dreturn\n\n  void pop();\n    Code:\n       0: ldc           #7                  // float 0.5f\n       2: invokestatic  #8                  // Method java/lang/Math.round:(F)I\n       5: pop\n       6: return\n\n  void pop2();\n    Code:\n       0: ldc2_w        #14                 // double 0.5d\n       3: invokestatic  #16                 // Method java/lang/Math.round:(D)J\n       6: pop2\n       7: return\n}\n</code></pre>\n<p>However, what piece of code in Java will generate the JVM instructions DUP2, DUP2_X1, SWAP ?</p>\n<p>Also, an interesting related answer with demo here : <a href=\"https://stackoverflow.com/a/72131218/8315843\">https://stackoverflow.com/a/72131218/8315843</a></p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1670673112,"post_id":74752631,"comment_id":131930246,"body_markdown":"Can you try `@Query(&quot;UPDATE User a SET a.userRole = UserRole.ADMIN where a.email = :email&quot;)`","body":"Can you try <code>@Query(&quot;UPDATE User a SET a.userRole = UserRole.ADMIN where a.email = :email&quot;)</code>"},{"owner":{"account_id":12914166,"reputation":21,"user_id":9338988,"display_name":"T. Razvan"},"score":0,"creation_date":1670675480,"post_id":74752631,"comment_id":131930660,"body_markdown":"I have tried that beforehand, it says that `Cannot resolve symbol &#39;UserRole&#39;`.","body":"I have tried that beforehand, it says that <code>Cannot resolve symbol &#39;UserRole&#39;</code>."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1670682612,"post_id":74752631,"comment_id":131932094,"body_markdown":"@T.Razvan, have you tried setting the nativeQuery attribute to true in the Qeury annotation? This way, you&#39;re executing the query directly on the database so the conversion shouldn&#39;t happen.","body":"@T.Razvan, have you tried setting the nativeQuery attribute to true in the Qeury annotation? This way, you&#39;re executing the query directly on the database so the conversion shouldn&#39;t happen."},{"owner":{"account_id":12914166,"reputation":21,"user_id":9338988,"display_name":"T. Razvan"},"score":0,"creation_date":1670752081,"post_id":74752631,"comment_id":131941982,"body_markdown":"This fixes the issue, but now my tests fail, but that&#39;s because another reason. Thank you for your help.","body":"This fixes the issue, but now my tests fail, but that&#39;s because another reason. Thank you for your help."},{"owner":{"account_id":9852838,"reputation":81,"user_id":7298349,"display_name":"exody"},"score":0,"creation_date":1679411227,"post_id":74752631,"comment_id":133715030,"body_markdown":"native query works, but that shouldn&#39;t be the accepted answer. Spring boot 3 and Hibernate 6 tends to reduce native queries.","body":"native query works, but that shouldn&#39;t be the accepted answer. Spring boot 3 and Hibernate 6 tends to reduce native queries."}],"owner":{"account_id":12914166,"reputation":21,"user_id":9338988,"display_name":"T. Razvan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670752224,"creation_date":1670672869,"question_id":74752631,"body_markdown":"The code below worked for an older version of SpringBoot (2.6.7). Now that I&#39;ve upgraded to a newer version (3.0.0) this piece of code is not working anymore.\r\n\r\nBasically I have an enumeration that states the role of an user and I want to have a method to promote the user.\r\n\r\nUser.java\r\n```java\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class User implements UserDetails {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String email;\r\n    private String password;\r\n    @Enumerated(EnumType.STRING)\r\n    private UserRole userRole; // This is where the problem is\r\n    private Boolean locked = false;\r\n    private Boolean enabled = false;\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;user&quot;)\r\n    private List&lt;Token&gt; tokenList;\r\n\r\n\r\n    public User(String firstName, String lastName, String email, String password, UserRole userRole) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.userRole = userRole;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        SimpleGrantedAuthority authority = new SimpleGrantedAuthority(userRole.name());\r\n        return Collections.singletonList(authority);\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return email;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return !locked;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return enabled;\r\n    }\r\n\r\n    public boolean isAdmin() {\r\n        return userRole.equals(UserRole.ADMIN);\r\n    }\r\n}\r\n```\r\n\r\nUserRole.java\r\n```java\r\npublic enum UserRole {\r\n    USER, ADMIN\r\n}\r\n```\r\n\r\nUserRepository.java\r\n```java\r\n\r\nimport com.freshair.models.User;\r\nimport jakarta.transaction.Transactional;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Modifying;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.query.Param;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.Optional;\r\n\r\n@Repository\r\npublic interface AppUserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\r\n    Optional&lt;User&gt; findByEmail(String email);\r\n\r\n    @Transactional\r\n    @Modifying(clearAutomatically = true)\r\n    @Query(&quot;UPDATE User a &quot; +\r\n           &quot;SET a.enabled = FALSE where a.email = ?1&quot;)\r\n    int disableAppUser(String email);\r\n\r\n    @Transactional\r\n    @Modifying(clearAutomatically = true)\r\n    @Query(&quot;UPDATE User a &quot; +\r\n           &quot;SET a.userRole = &#39;ADMIN&#39; where a.email = :email&quot;)\r\n    int promoteUserToAdmin(@Param(&quot;email&quot;) String email);\r\n\r\n    // Other methods ...\r\n}\r\n\r\n```\r\n\r\nError:\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webSecurityConfig&#39; defined in file [D:\\[Coding]\\Java\\FreshAir\\api\\target\\classes\\com\\freshair\\config\\security\\WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;userService&#39; defined in file [D:\\[Coding]\\Java\\FreshAir\\api\\target\\classes\\com\\freshair\\services\\UserService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;appUserRepository&#39; defined in com.freshair.repositories.AppUserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String); Reason: Validation failed for query for method public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:793)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150)\r\n\tat com.freshair.App.main(App.java:20)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userService&#39; defined in file [D:\\[Coding]\\Java\\FreshAir\\api\\target\\classes\\com\\freshair\\services\\UserService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;appUserRepository&#39; defined in com.freshair.repositories.AppUserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String); Reason: Validation failed for query for method public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:793)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784)\r\n\t... 18 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;appUserRepository&#39; defined in com.freshair.repositories.AppUserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String); Reason: Validation failed for query for method public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784)\r\n\t... 32 common frames omitted\r\nCaused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String); Reason: Validation failed for query for method public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String)\r\n\tat org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88)\r\n\tat java.base/java.util.Optional.map(Optional.java:260)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:88)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:229)\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:113)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\r\n\t... 43 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String)\r\n\tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:100)\r\n\tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:70)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:55)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:170)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)\r\n\t... 55 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: org.hibernate.query.SemanticException: The assignment expression type [java.lang.String] did not match the assignment path type [com.freshair.models.UserRole] for the path [a.userRole] [UPDATE User a SET a.userRole = &#39;ADMIN&#39; where a.email = :email]\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:182)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:761)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:663)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:127)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy118.createQuery(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:94)\r\n\t... 61 common frames omitted\r\nCaused by: org.hibernate.query.SemanticException: The assignment expression type [java.lang.String] did not match the assignment path type [com.freshair.models.UserRole] for the path [a.userRole] [UPDATE User a SET a.userRole = &#39;ADMIN&#39; where a.email = :email]\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.verifyUpdateTypesMatch(QuerySqmImpl.java:361)\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.validateStatement(QuerySqmImpl.java:310)\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.&lt;init&gt;(QuerySqmImpl.java:210)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:745)\r\n\t... 70 common frames omitted\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;!-- artifact, group, name, version and description are specified here --&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;swagger.version&gt;3.0.0&lt;/swagger.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- Swagger --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${swagger.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${swagger.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring Boot --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring Boot - Testing --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- JavaX Validation --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- Other Libraries --&gt;\r\n\r\n\t\t&lt;!-- Jackson-datatype --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t\t\t&lt;version&gt;2.14.0&lt;/version&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- MySQL Connector --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Lombok --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Mockito --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Commons-IO --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n&gt; What I understand from that error is that it cannot set a **string** to an object of type **UserRole**, but that is why is annotated with `@Enumerated(EnumType.STRING)`. This code worked fine before I updated the version, maybe now I have to add something more to treat it as a string instead of an object","title":"JPA Modifying Object attribute in database with custom Query","body":"<p>The code below worked for an older version of SpringBoot (2.6.7). Now that I've upgraded to a newer version (3.0.0) this piece of code is not working anymore.</p>\n<p>Basically I have an enumeration that states the role of an user and I want to have a method to promote the user.</p>\n<p>User.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Getter\n@Setter\npublic class User implements UserDetails {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private String email;\n    private String password;\n    @Enumerated(EnumType.STRING)\n    private UserRole userRole; // This is where the problem is\n    private Boolean locked = false;\n    private Boolean enabled = false;\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;user&quot;)\n    private List&lt;Token&gt; tokenList;\n\n\n    public User(String firstName, String lastName, String email, String password, UserRole userRole) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.email = email;\n        this.password = password;\n        this.userRole = userRole;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        SimpleGrantedAuthority authority = new SimpleGrantedAuthority(userRole.name());\n        return Collections.singletonList(authority);\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return email;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return !locked;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return enabled;\n    }\n\n    public boolean isAdmin() {\n        return userRole.equals(UserRole.ADMIN);\n    }\n}\n</code></pre>\n<p>UserRole.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum UserRole {\n    USER, ADMIN\n}\n</code></pre>\n<p>UserRepository.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport com.freshair.models.User;\nimport jakarta.transaction.Transactional;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Modifying;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.Optional;\n\n@Repository\npublic interface AppUserRepository extends JpaRepository&lt;User, Long&gt; {\n\n    Optional&lt;User&gt; findByEmail(String email);\n\n    @Transactional\n    @Modifying(clearAutomatically = true)\n    @Query(&quot;UPDATE User a &quot; +\n           &quot;SET a.enabled = FALSE where a.email = ?1&quot;)\n    int disableAppUser(String email);\n\n    @Transactional\n    @Modifying(clearAutomatically = true)\n    @Query(&quot;UPDATE User a &quot; +\n           &quot;SET a.userRole = 'ADMIN' where a.email = :email&quot;)\n    int promoteUserToAdmin(@Param(&quot;email&quot;) String email);\n\n    // Other methods ...\n}\n\n</code></pre>\n<p>Error:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [D:\\[Coding]\\Java\\FreshAir\\api\\target\\classes\\com\\freshair\\config\\security\\WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userService' defined in file [D:\\[Coding]\\Java\\FreshAir\\api\\target\\classes\\com\\freshair\\services\\UserService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'appUserRepository' defined in com.freshair.repositories.AppUserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String); Reason: Validation failed for query for method public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:793)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150)\n    at com.freshair.App.main(App.java:20)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userService' defined in file [D:\\[Coding]\\Java\\FreshAir\\api\\target\\classes\\com\\freshair\\services\\UserService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'appUserRepository' defined in com.freshair.repositories.AppUserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String); Reason: Validation failed for query for method public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:793)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784)\n    ... 18 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'appUserRepository' defined in com.freshair.repositories.AppUserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String); Reason: Validation failed for query for method public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784)\n    ... 32 common frames omitted\nCaused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String); Reason: Validation failed for query for method public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String)\n    at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88)\n    at java.base/java.util.Optional.map(Optional.java:260)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:88)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:229)\n    at org.springframework.data.util.Lazy.get(Lazy.java:113)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\n    ... 43 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract int com.freshair.repositories.AppUserRepository.promoteUserToAdmin(java.lang.String)\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:100)\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:70)\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:55)\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:170)\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252)\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)\n    ... 55 common frames omitted\nCaused by: java.lang.IllegalArgumentException: org.hibernate.query.SemanticException: The assignment expression type [java.lang.String] did not match the assignment path type [com.freshair.models.UserRole] for the path [a.userRole] [UPDATE User a SET a.userRole = 'ADMIN' where a.email = :email]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:182)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:761)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:663)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:127)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360)\n    at jdk.proxy2/jdk.proxy2.$Proxy118.createQuery(Unknown Source)\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:94)\n    ... 61 common frames omitted\nCaused by: org.hibernate.query.SemanticException: The assignment expression type [java.lang.String] did not match the assignment path type [com.freshair.models.UserRole] for the path [a.userRole] [UPDATE User a SET a.userRole = 'ADMIN' where a.email = :email]\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.verifyUpdateTypesMatch(QuerySqmImpl.java:361)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.validateStatement(QuerySqmImpl.java:310)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.&lt;init&gt;(QuerySqmImpl.java:210)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:745)\n    ... 70 common frames omitted\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;!-- artifact, group, name, version and description are specified here --&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;swagger.version&gt;3.0.0&lt;/swagger.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Swagger --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Boot --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Boot - Testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JavaX Validation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n            &lt;version&gt;1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Other Libraries --&gt;\n\n        &lt;!-- Jackson-datatype --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;version&gt;2.14.0&lt;/version&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- MySQL Connector --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Lombok --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Mockito --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;4.8.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Commons-IO --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n\n</code></pre>\n<blockquote>\n<p>What I understand from that error is that it cannot set a <strong>string</strong> to an object of type <strong>UserRole</strong>, but that is why is annotated with <code>@Enumerated(EnumType.STRING)</code>. This code worked fine before I updated the version, maybe now I have to add something more to treat it as a string instead of an object</p>\n</blockquote>\n"},{"tags":["java","windows","java-7","hardlink"],"comments":[{"owner":{"display_name":"user166390"},"score":0,"creation_date":1358574398,"post_id":14411456,"comment_id":20055692,"body_markdown":"symlink != hardlink; try to avoid inaccurate tags","body":"symlink != hardlink; try to avoid inaccurate tags"},{"owner":{"display_name":"user166390"},"score":0,"creation_date":1358574429,"post_id":14411456,"comment_id":20055695,"body_markdown":"http://stackoverflow.com/questions/11045321/get-hard-link-count-in-java","body":"<a href=\"http://stackoverflow.com/questions/11045321/get-hard-link-count-in-java\" title=\"get hard link count in java\">stackoverflow.com/questions/11045321/&hellip;</a>"},{"owner":{"account_id":2866071,"reputation":6012,"user_id":2460378,"accept_rate":81,"display_name":"Thomas S."},"score":0,"creation_date":1670694290,"post_id":14411456,"comment_id":131934508,"body_markdown":"Why was this question closed? The &quot;possible duplicate&quot;, which asks for Unix, does not answer the question for Windows.","body":"Why was this question closed? The &quot;possible duplicate&quot;, which asks for Unix, does not answer the question for Windows."}],"answers":[{"comments":[{"owner":{"account_id":1417843,"reputation":33,"user_id":1343074,"display_name":"Fz3"},"score":1,"creation_date":1358576340,"post_id":14411511,"comment_id":20055990,"body_markdown":"How about for a windows platform?  And perhaps you have a link to the different attribute String arguments?","body":"How about for a windows platform?  And perhaps you have a link to the different attribute String arguments?"},{"owner":{"account_id":2262178,"reputation":472,"user_id":1991950,"display_name":"marwils"},"score":0,"creation_date":1358578735,"post_id":14411511,"comment_id":20056305,"body_markdown":"Thank&#39;s for reminding me of the right arguments. I&#39;m not sure if there&#39;s any windows corresponding attribute, but I can&#39;t realize your problem. The folowing code works in that way as it should - throwing exceptions and start again: while ( true ) { \n\t\t\ttry {\n\t\t\t\tSystem.out.println(java.nio.file.Files.getAttribute( Paths.get( &quot;ABC&quot;, &quot;xzf&quot; ), &quot;isDirectory&quot; ).toString());\n\t\t\t} catch ( IOException except ) {\n\t\t\t\tSystem.out.println(except.getStackTrace()[0]);\n\t\t\t}\n\t\t}","body":"Thank&#39;s for reminding me of the right arguments. I&#39;m not sure if there&#39;s any windows corresponding attribute, but I can&#39;t realize your problem. The folowing code works in that way as it should - throwing exceptions and start again: while ( true ) {  \t\t\ttry { \t\t\t\tSystem.out.println(java.nio.file.Files.getAttribute( Paths.get( &quot;ABC&quot;, &quot;xzf&quot; ), &quot;isDirectory&quot; ).toString()); \t\t\t} catch ( IOException except ) { \t\t\t\tSystem.out.println(except.getStackTrace()[0]); \t\t\t} \t\t}"},{"owner":{"account_id":1417843,"reputation":33,"user_id":1343074,"display_name":"Fz3"},"score":0,"creation_date":1358579280,"post_id":14411511,"comment_id":20056365,"body_markdown":"I&#39;m wishing Java could do something it can&#39;t apparently.","body":"I&#39;m wishing Java could do something it can&#39;t apparently."}],"tags":[],"owner":{"account_id":2262178,"reputation":472,"user_id":1991950,"display_name":"marwils"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1498653944,"creation_date":1358574219,"answer_id":14411511,"question_id":14411456,"body_markdown":"In Java 7 there is a simple solution:\r\n\r\n    java.nio.file.Files.getAttribute( Paths.get( &quot;/&quot;, &quot;path&quot; ), &quot;unix:nlink&quot; );","title":"Is there an easy way to determine if a file is a hard link using Java in Windows?","body":"<p>In Java 7 there is a simple solution:</p>\n\n<pre><code>java.nio.file.Files.getAttribute( Paths.get( \"/\", \"path\" ), \"unix:nlink\" );\n</code></pre>\n"}],"owner":{"account_id":1417843,"reputation":33,"user_id":1343074,"display_name":"Fz3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670752141,"creation_date":1358573613,"question_id":14411456,"body_markdown":"I noticed that Java 7 has added a lot of new useful file operations with the new Paths and Files etc. classes in NIO.  However, it seems that Java 7 has only added file operations to handle soft links or created hard links.\r\n\r\nIs there a way to identify (not just create) hard links using standard Java without bringing in any third party libraries?\r\n\r\nI&#39;ve seen the &quot;unix:nlink&quot; question and have updated to be more specific. This view does not work in a Windows environment.\r\n\r\nI suppose the heart of the issue lies in whether or not Java can get inode information from the OS and even with the new libraries I believe the answer to be No, unless someone knows otherwise.","title":"Is there an easy way to determine if a file is a hard link using Java in Windows?","body":"<p>I noticed that Java 7 has added a lot of new useful file operations with the new Paths and Files etc. classes in NIO.  However, it seems that Java 7 has only added file operations to handle soft links or created hard links.</p>\n<p>Is there a way to identify (not just create) hard links using standard Java without bringing in any third party libraries?</p>\n<p>I've seen the &quot;unix:nlink&quot; question and have updated to be more specific. This view does not work in a Windows environment.</p>\n<p>I suppose the heart of the issue lies in whether or not Java can get inode information from the OS and even with the new libraries I believe the answer to be No, unless someone knows otherwise.</p>\n"},{"tags":["java","bytecode","byte-buddy"],"answers":[{"comments":[{"owner":{"account_id":1914991,"reputation":95,"user_id":1727736,"display_name":"Avinash Vundyala"},"score":0,"creation_date":1670825934,"post_id":74759741,"comment_id":131954624,"body_markdown":"Thanks for the quick reply.\n\nSo you mean to say there is no way to ignore an instance of ExecutorService based on which class it is initialized?\n\nWhat I am trying to achieve is to narrow the scope of ElementMatcher to a specific instance that is created inside my application a not in some dependent library like spring or drop wizard. The constructor approach appears to be tedious.","body":"Thanks for the quick reply.  So you mean to say there is no way to ignore an instance of ExecutorService based on which class it is initialized?  What I am trying to achieve is to narrow the scope of ElementMatcher to a specific instance that is created inside my application a not in some dependent library like spring or drop wizard. The constructor approach appears to be tedious."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670835887,"post_id":74759741,"comment_id":131956929,"body_markdown":"@AvinashVundyala a matcher for code patterns can only match code patterns. However, you can inject code containing a runtime check into all occurrences. The injected code would have to check the caller, e.g. via `StackWalker`, and branch to the original code if the caller is not supposed to be altered.","body":"@AvinashVundyala a matcher for code patterns can only match code patterns. However, you can inject code containing a runtime check into all occurrences. The injected code would have to check the caller, e.g. via <code>StackWalker</code>, and branch to the original code if the caller is not supposed to be altered."}],"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670752043,"creation_date":1670752043,"answer_id":74759741,"question_id":74758417,"body_markdown":"No, Byte Buddy can only alter byte code. If you could not implement it in Java, Byte Buddy is unlikely able to help.\r\n\r\nWhat you can do is to alter all constructors creating a different target object. In this object, override the relevant methods. \r\n\r\nTo change constructors, have a look at MemberSubstitution.","title":"Is it possible to intercept methods of a Executor Service that is initialised in a specific java class using bytebuddy","body":"<p>No, Byte Buddy can only alter byte code. If you could not implement it in Java, Byte Buddy is unlikely able to help.</p>\n<p>What you can do is to alter all constructors creating a different target object. In this object, override the relevant methods.</p>\n<p>To change constructors, have a look at MemberSubstitution.</p>\n"}],"owner":{"account_id":1914991,"reputation":95,"user_id":1727736,"display_name":"Avinash Vundyala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74759741,"answer_count":1,"score":1,"last_activity_date":1670752043,"creation_date":1670733836,"question_id":74758417,"body_markdown":"Using byte buddy, I am trying to intercept the method of executor service that is initialised in a known class. The following is a sample code.\r\n\r\n\r\n```\r\n\r\npublic class TestClient {\r\n\r\n    ExecutorService executorService = Executors.newFixedThreadPool(1);\r\n\r\n    public Response get() {\r\n        Future&lt;Response&gt; future = executorService.submit(this::call2);\r\n        return future.get();\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe following intercepts all usage of ExecutoreService, including those in dependencies as well, which I want to avoid.\r\n\r\n```\r\nreturn ElementMatchers.isSubTypeOf(ExecutorService.class);\r\n```\r\n\r\nIs there a way to intercept the method of executor service initialised in any class of a specific package or class?\r\n","title":"Is it possible to intercept methods of a Executor Service that is initialised in a specific java class using bytebuddy","body":"<p>Using byte buddy, I am trying to intercept the method of executor service that is initialised in a known class. The following is a sample code.</p>\n<pre><code>\npublic class TestClient {\n\n    ExecutorService executorService = Executors.newFixedThreadPool(1);\n\n    public Response get() {\n        Future&lt;Response&gt; future = executorService.submit(this::call2);\n        return future.get();\n    }\n}\n\n</code></pre>\n<p>The following intercepts all usage of ExecutoreService, including those in dependencies as well, which I want to avoid.</p>\n<pre><code>return ElementMatchers.isSubTypeOf(ExecutorService.class);\n</code></pre>\n<p>Is there a way to intercept the method of executor service initialised in any class of a specific package or class?</p>\n"},{"tags":["java","multidimensional-array","error-handling","user-input"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1669501949,"post_id":74586058,"comment_id":131656093,"body_markdown":"If you want to do something only if `rowSeat` or `colmnSeat` are different to `arr1[rowSeat][colmnSeat]` the proper condition is `(rowSeat != arr1[rowSeat][colmnSeat] || colmnSeat != arr1[rowSeat][colmnSeat])`.","body":"If you want to do something only if <code>rowSeat</code> or <code>colmnSeat</code> are different to <code>arr1[rowSeat][colmnSeat]</code> the proper condition is <code>(rowSeat != arr1[rowSeat][colmnSeat] || colmnSeat != arr1[rowSeat][colmnSeat])</code>."}],"answers":[{"tags":[],"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670751704,"creation_date":1669505758,"answer_id":74586410,"question_id":74586058,"body_markdown":"### TLDR;\r\n\r\nTwo possible solutions (there can be more). \r\n\r\n1. Manual index check\r\n```\r\nif (rowSeat &lt; 0 || rowSeat &gt;= arr1.length\r\n    || colmnSeat &lt; 0 || colmnSeat &gt;= arr1[0].length) {\r\n    throw new ArrayInputMismatchException(&quot;Something ....&quot;);\r\n}\r\n```\r\n\r\n2. Catching the thrown exception:\r\n```\r\n...\r\n} \r\ncatch (InputMismatchException e) {\r\n  System.out.println(&quot;\\nAn error occured: You cannot enter any character or symbol other than a valid number for the row and column of the chosen seat for booking. &quot; + e); \r\n} //...\r\ncatch (ArrayIndexOutOfBoundsException e) {\r\n  System.out.println(&quot;your other error message&quot;);\r\n  // or....\r\n  throw new ArrayInputMismatchException(&quot;your message&quot;);\r\n}\r\n...\r\n```\r\n### Further explanation\r\n\r\nThe if-statement you wrote won&#39;t compile. The combination you did there is not possible in java. You could have something like \r\n\r\n    if (rowSeat != arr1[rowSeat][colmnSeat]\r\n        ||&#160;colmnSeat != arr1[rowSeat][colmnSeat]) {\r\n      ...\r\n    }\r\n\r\nbut that wouldn&#39;t help you. This statement would check if the value in your array is not equal to the users selected row or the column.\r\n\r\n**Solutions:**\r\n\r\nYou have two options:\r\n\r\n 1. you do a manual index check or\r\n 2. you let handle java the index check.\r\n\r\n\r\n**1. The manual index check:**\r\n\r\nFirst, you need to check the user input **before** you assign the value for `arr1`. So your if-statement needs to happen right after `colmnSeat = userNum.nextInt();`.\r\n\r\nYou need to do the following:\r\n\r\n    if (rowSeat &lt; 0 ||&#160;rowSeat &gt;= arr1.length\r\n        || colmnSeat &lt; 0 || colmnSeat &gt;= arr1[0].length) {\r\n        throw new ArrayInputMismatchException(&quot;Something ....&quot;);\r\n    }\r\n\r\n\r\n**Further explanation**\r\n\r\nFirst of all, arrays start at 0. So, given an array of 4, the first element has the index 0 and the last element has the index 3 (not 4!). If you would try to access arr[4], you would get an error (ArrayIndexOutOfBoundsException) and your program stops.\r\n\r\nThat&#39;s why we need to check for negative input. Secondly we need to check, if the values are greater or equal to the size of the array.\r\n\r\n\r\nFirst it checks if the values are negative and then it checks, if the values are out of bound. The 2D-array is actually an array of arrays of this structure:\r\n\r\n    arr1 = [[row1-col1, row1-col2]]\r\n           [[row2-col1, row2-col2]]\r\n           [[row3-col1, row3-col2]]\r\n\r\nwherein row1-col1 is the value of `arr1[0,0]`. In this structure, the outer array holds the arrays with the values. So when only calling the outer array, you get the array for one row:\r\n\r\n    arr1[0] == [row1-col1, row1-col2]\r\n\r\nThat&#39;s how these values come about:\r\n\r\n    arr1.length    == 3\r\n    arr1[0].length == 2\r\n\r\n\r\n\r\n**2. Letting java handle the check:**\r\n\r\nWhenever you try to access a value from an array with an index that doesn&#39;t exist for the array (either too big or to low), java throws the `ArrayIndexOutOfBoundsException`. We can take leverage of this fact and catch this error in a second catch block, which can be appended to your code in the following manner:\r\n\r\n    ...\r\n    } \r\n    catch (InputMismatchException e) {\r\n      System.out.println(&quot;\\nAn error occured: You cannot enter any character or symbol other than a valid number for the row and column of the chosen seat for booking. &quot; + e); \r\n    } //...\r\n    catch (ArrayIndexOutOfBoundsException e) {\r\n      System.out.println(&quot;your other error message&quot;);\r\n      // or....\r\n      throw new ArrayInputMismatchException(&quot;your message&quot;);\r\n    }\r\n    ...\r\n\r\n\r\n","title":"How to verify if User Input is equivalent to my element in 2D array","body":"<h3>TLDR;</h3>\n<p>Two possible solutions (there can be more).</p>\n<ol>\n<li>Manual index check</li>\n</ol>\n<pre><code>if (rowSeat &lt; 0 || rowSeat &gt;= arr1.length\n    || colmnSeat &lt; 0 || colmnSeat &gt;= arr1[0].length) {\n    throw new ArrayInputMismatchException(&quot;Something ....&quot;);\n}\n</code></pre>\n<ol start=\"2\">\n<li>Catching the thrown exception:</li>\n</ol>\n<pre><code>...\n} \ncatch (InputMismatchException e) {\n  System.out.println(&quot;\\nAn error occured: You cannot enter any character or symbol other than a valid number for the row and column of the chosen seat for booking. &quot; + e); \n} //...\ncatch (ArrayIndexOutOfBoundsException e) {\n  System.out.println(&quot;your other error message&quot;);\n  // or....\n  throw new ArrayInputMismatchException(&quot;your message&quot;);\n}\n...\n</code></pre>\n<h3>Further explanation</h3>\n<p>The if-statement you wrote won't compile. The combination you did there is not possible in java. You could have something like</p>\n<pre><code>if (rowSeat != arr1[rowSeat][colmnSeat]\n    || colmnSeat != arr1[rowSeat][colmnSeat]) {\n  ...\n}\n</code></pre>\n<p>but that wouldn't help you. This statement would check if the value in your array is not equal to the users selected row or the column.</p>\n<p><strong>Solutions:</strong></p>\n<p>You have two options:</p>\n<ol>\n<li>you do a manual index check or</li>\n<li>you let handle java the index check.</li>\n</ol>\n<p><strong>1. The manual index check:</strong></p>\n<p>First, you need to check the user input <strong>before</strong> you assign the value for <code>arr1</code>. So your if-statement needs to happen right after <code>colmnSeat = userNum.nextInt();</code>.</p>\n<p>You need to do the following:</p>\n<pre><code>if (rowSeat &lt; 0 || rowSeat &gt;= arr1.length\n    || colmnSeat &lt; 0 || colmnSeat &gt;= arr1[0].length) {\n    throw new ArrayInputMismatchException(&quot;Something ....&quot;);\n}\n</code></pre>\n<p><strong>Further explanation</strong></p>\n<p>First of all, arrays start at 0. So, given an array of 4, the first element has the index 0 and the last element has the index 3 (not 4!). If you would try to access arr[4], you would get an error (ArrayIndexOutOfBoundsException) and your program stops.</p>\n<p>That's why we need to check for negative input. Secondly we need to check, if the values are greater or equal to the size of the array.</p>\n<p>First it checks if the values are negative and then it checks, if the values are out of bound. The 2D-array is actually an array of arrays of this structure:</p>\n<pre><code>arr1 = [[row1-col1, row1-col2]]\n       [[row2-col1, row2-col2]]\n       [[row3-col1, row3-col2]]\n</code></pre>\n<p>wherein row1-col1 is the value of <code>arr1[0,0]</code>. In this structure, the outer array holds the arrays with the values. So when only calling the outer array, you get the array for one row:</p>\n<pre><code>arr1[0] == [row1-col1, row1-col2]\n</code></pre>\n<p>That's how these values come about:</p>\n<pre><code>arr1.length    == 3\narr1[0].length == 2\n</code></pre>\n<p><strong>2. Letting java handle the check:</strong></p>\n<p>Whenever you try to access a value from an array with an index that doesn't exist for the array (either too big or to low), java throws the <code>ArrayIndexOutOfBoundsException</code>. We can take leverage of this fact and catch this error in a second catch block, which can be appended to your code in the following manner:</p>\n<pre><code>...\n} \ncatch (InputMismatchException e) {\n  System.out.println(&quot;\\nAn error occured: You cannot enter any character or symbol other than a valid number for the row and column of the chosen seat for booking. &quot; + e); \n} //...\ncatch (ArrayIndexOutOfBoundsException e) {\n  System.out.println(&quot;your other error message&quot;);\n  // or....\n  throw new ArrayInputMismatchException(&quot;your message&quot;);\n}\n...\n</code></pre>\n"}],"owner":{"account_id":26636760,"reputation":29,"user_id":20296389,"display_name":"sirrene"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1670751704,"creation_date":1669501730,"question_id":74586058,"body_markdown":"I&#39;m a beginner and I&#39;m trying out error handling in my program. The aim for my program is to &#39;book&#39; a concert and I created a method to book the seats. However, there are several ways the user can input the wrong number, so I tried to create my own exception and throw it when the user inputs a row or column number that isn&#39;t in the seating arrangment. \r\n\r\nThe problem I&#39;m finding is that I have to use a if statement that checks if the number that the user inputs (which is the index number for the 2d array) is actually in the array elements and what I wrote for this code is not working out. \r\n\r\nI want to throw an error that tells the user the inputted an incorrect row and column and then continues on to the rest of the code. This is my code so far.. \r\n\r\nThis is my code for the exception I created. \r\n```\r\npublic class ArrayInputMismatchException extends Exception {\r\n  public ArrayInputMismatchException() {} \r\n\r\n  public ArrayInputMismatchException(String message) {\r\n    super(message); \r\n  }\r\n  \r\n}\r\n```\r\n\r\nThis is my code for my error handling and user input validation. \r\n`\r\n```\r\n    int rowSeat = 0; \r\n    int colmnSeat = 0; \r\n    \r\n    try {  \r\n      System.out.println(&quot;What is the row number that your seat is in?&quot;);  \r\n      rowSeat = userNum.nextInt(); \r\n      System.out.println(&quot;\\nWhat is the column number that your seat is in?&quot;); \r\n      colmnSeat = userNum.nextInt(); \r\n      arr1[rowSeat - 1][colmnSeat - 1] = 1; //this is to change the element in the array that symbolizes a seat to &#39;1&#39; to show its now booked, before it was 0 to show its available and since they chose this seat, it&#39;s now 1... \r\n\r\n\r\n      if ((rowSeat || colmnSeat) != arr1[rowSeat][colmnSeat]) { //I put my conditional like this for now, but I&#39;m not sure what else to replace it with to check the user input is equilvalent to the array index\r\n        ArrayInputMismatchException e = new ArrayInputMismatchException(&quot;Something went wrong: You cannot enter a number that is not a valid row or column.&quot;); \r\n        throw e;\r\n      } //this is my error message that I want to happen, for example if the seating arrangment in up to a 4x3 and the user inputs row 13, then the error should appear, same with if they enter column 10 then an error message should appear  \r\n      \r\n    } \r\n\r\n    catch (InputMismatchException e) {\r\n      System.out.println(&quot;\\nAn error occured: You cannot enter any character or symbol other than a valid number for the row and column of the chosen seat for booking. &quot; + e); \r\n    } //this is an exception that appears when they input a string instead of a number, like &#39;k&#39; or &#39;?&#39; instead of a valid number present in the rows and columns, it already works so i&#39;m not that worried about it \r\n```\r\n`\r\n\r\nThank you in advance to all the help! \r\n","title":"How to verify if User Input is equivalent to my element in 2D array","body":"<p>I'm a beginner and I'm trying out error handling in my program. The aim for my program is to 'book' a concert and I created a method to book the seats. However, there are several ways the user can input the wrong number, so I tried to create my own exception and throw it when the user inputs a row or column number that isn't in the seating arrangment.</p>\n<p>The problem I'm finding is that I have to use a if statement that checks if the number that the user inputs (which is the index number for the 2d array) is actually in the array elements and what I wrote for this code is not working out.</p>\n<p>I want to throw an error that tells the user the inputted an incorrect row and column and then continues on to the rest of the code. This is my code so far..</p>\n<p>This is my code for the exception I created.</p>\n<pre><code>public class ArrayInputMismatchException extends Exception {\n  public ArrayInputMismatchException() {} \n\n  public ArrayInputMismatchException(String message) {\n    super(message); \n  }\n  \n}\n</code></pre>\n<p>This is my code for my error handling and user input validation.\n`</p>\n<pre><code>    int rowSeat = 0; \n    int colmnSeat = 0; \n    \n    try {  \n      System.out.println(&quot;What is the row number that your seat is in?&quot;);  \n      rowSeat = userNum.nextInt(); \n      System.out.println(&quot;\\nWhat is the column number that your seat is in?&quot;); \n      colmnSeat = userNum.nextInt(); \n      arr1[rowSeat - 1][colmnSeat - 1] = 1; //this is to change the element in the array that symbolizes a seat to '1' to show its now booked, before it was 0 to show its available and since they chose this seat, it's now 1... \n\n\n      if ((rowSeat || colmnSeat) != arr1[rowSeat][colmnSeat]) { //I put my conditional like this for now, but I'm not sure what else to replace it with to check the user input is equilvalent to the array index\n        ArrayInputMismatchException e = new ArrayInputMismatchException(&quot;Something went wrong: You cannot enter a number that is not a valid row or column.&quot;); \n        throw e;\n      } //this is my error message that I want to happen, for example if the seating arrangment in up to a 4x3 and the user inputs row 13, then the error should appear, same with if they enter column 10 then an error message should appear  \n      \n    } \n\n    catch (InputMismatchException e) {\n      System.out.println(&quot;\\nAn error occured: You cannot enter any character or symbol other than a valid number for the row and column of the chosen seat for booking. &quot; + e); \n    } //this is an exception that appears when they input a string instead of a number, like 'k' or '?' instead of a valid number present in the rows and columns, it already works so i'm not that worried about it \n</code></pre>\n<p>`</p>\n<p>Thank you in advance to all the help!</p>\n"},{"tags":["java","algorithm","time-complexity","space-complexity","recursive-backtracking"],"owner":{"account_id":5342088,"reputation":33,"user_id":4258796,"display_name":"Aditya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670750955,"creation_date":1670749352,"question_id":74759504,"body_markdown":"I was practicing backtracking problems and started off with the Combination Sum problem in Leetcode [39](https://leetcode.com/problems/combination-sum/description/). I worked on my own solution after watching a few YouTube videos to understand the problem better since my solution was failing even though I felt that the logic was right. (Basically I wasn&#39;t handling the case to remove redundant solutions, i.e. I had a solution that would get the **Permutation of the solution but not the Combination!!**\r\n\r\nI wrote my code in java, I honestly didn&#39;t find many java solutions to this. Python solutions seemed pretty simple though. Maybe it&#39;s not the best space and time. I&#39;ll try to optimize it and post the update here. \r\n\r\nI&#39;m struggling to calculate the time and space complexity for this problem. I&#39;m pretty weak at calculating the time and space usually and with this problem particularly, it&#39;s really confusing considering each element can be used multiple times and hence will be part of multiple solutions with multiple counts. I&#39;m trying to calculate space since I use recursion and I&#39;m using the tree method to check the stack size. But if anyone has a good approach to calculate time and space to such problems will be really helpful. \r\n\r\nMy code below. Any inputs to optimize it will be helpful!\r\n\r\n```java\r\nclass Solution {\r\n\r\n    public List&lt;List&lt;Integer&gt;&gt; combinationSum(int[] candidates, int target) {\r\n        List&lt;List&lt;Integer&gt;&gt; mainList = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; currList = new ArrayList&lt;&gt;();\r\n        compute(0, currList, target, candidates, 0, mainList);\r\n        return mainList;\r\n    }\r\n\r\n    void compute(int currSum, List&lt;Integer&gt; currList, int target, int[] candidates, int pos, List&lt;List&lt;Integer&gt;&gt; mainList){\r\n        if(currSum &gt; target || pos&gt;(candidates.length-1)){\r\n            return;\r\n        }\r\n        if(currSum == target){\r\n            mainList.add(new ArrayList&lt;&gt;(currList));\r\n            return;\r\n        }\r\n        currList.add(candidates[pos]);\r\n        currSum = currSum+candidates[pos];\r\n        compute(currSum, currList, target, candidates, pos, mainList);\r\n        currSum = currSum-(currList.get(currList.size()-1));\r\n        currList.remove(currList.size()-1);\r\n        compute(currSum, currList, target, candidates, pos+1, mainList);\r\n    }\r\n}\r\n```\r\nI think one way is to sort the candidates array and if `sum&gt;target` for position `i` we need not call the function for position `i + 1`.","title":"Time and Space Complexity for Leet Code Problem 39: Combination Sum","body":"<p>I was practicing backtracking problems and started off with the Combination Sum problem in Leetcode <a href=\"https://leetcode.com/problems/combination-sum/description/\" rel=\"nofollow noreferrer\">39</a>. I worked on my own solution after watching a few YouTube videos to understand the problem better since my solution was failing even though I felt that the logic was right. (Basically I wasn't handling the case to remove redundant solutions, i.e. I had a solution that would get the <strong>Permutation of the solution but not the Combination!!</strong></p>\n<p>I wrote my code in java, I honestly didn't find many java solutions to this. Python solutions seemed pretty simple though. Maybe it's not the best space and time. I'll try to optimize it and post the update here.</p>\n<p>I'm struggling to calculate the time and space complexity for this problem. I'm pretty weak at calculating the time and space usually and with this problem particularly, it's really confusing considering each element can be used multiple times and hence will be part of multiple solutions with multiple counts. I'm trying to calculate space since I use recursion and I'm using the tree method to check the stack size. But if anyone has a good approach to calculate time and space to such problems will be really helpful.</p>\n<p>My code below. Any inputs to optimize it will be helpful!</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n\n    public List&lt;List&lt;Integer&gt;&gt; combinationSum(int[] candidates, int target) {\n        List&lt;List&lt;Integer&gt;&gt; mainList = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; currList = new ArrayList&lt;&gt;();\n        compute(0, currList, target, candidates, 0, mainList);\n        return mainList;\n    }\n\n    void compute(int currSum, List&lt;Integer&gt; currList, int target, int[] candidates, int pos, List&lt;List&lt;Integer&gt;&gt; mainList){\n        if(currSum &gt; target || pos&gt;(candidates.length-1)){\n            return;\n        }\n        if(currSum == target){\n            mainList.add(new ArrayList&lt;&gt;(currList));\n            return;\n        }\n        currList.add(candidates[pos]);\n        currSum = currSum+candidates[pos];\n        compute(currSum, currList, target, candidates, pos, mainList);\n        currSum = currSum-(currList.get(currList.size()-1));\n        currList.remove(currList.size()-1);\n        compute(currSum, currList, target, candidates, pos+1, mainList);\n    }\n}\n</code></pre>\n<p>I think one way is to sort the candidates array and if <code>sum&gt;target</code> for position <code>i</code> we need not call the function for position <code>i + 1</code>.</p>\n"},{"tags":["java","html","alert"],"comments":[{"owner":{"account_id":14612279,"reputation":522,"user_id":10553411,"display_name":"Ganesh Thorat"},"score":0,"creation_date":1670749514,"post_id":74759472,"comment_id":131941588,"body_markdown":"This might help you https://stackoverflow.com/q/9361977/10553411 and actually it looks similar.","body":"This might help you <a href=\"https://stackoverflow.com/q/9361977/10553411\">stackoverflow.com/q/9361977/10553411</a> and actually it looks similar."}],"owner":{"account_id":26805199,"reputation":5,"user_id":20396603,"display_name":"Tom C."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670748995,"creation_date":1670748939,"question_id":74759472,"body_markdown":"i have a problem using alert in html.\r\n\r\nI have a controller in Java that sends \r\n\r\n    model.addAttribute(&quot;borrowedAlready&quot;,1);\r\n\r\nand I need to take it from html.\r\n\r\nhere&#39;s code i have but doesn&#39;t seem to work.\r\n\r\n    &lt;div&gt;\r\n        &lt;script type=&quot;text/javascript&quot;&gt;\r\n            var borrowed = &#39;${borrowedAlready}&#39;;\r\n            if(borrowed== 1){\r\n                alert(&quot;Borrwed Already.&quot;);\r\n            }\r\n        &lt;/script&gt;\r\n    &lt;/div&gt;\r\n\r\nNeed help","title":"java controller to html if alert","body":"<p>i have a problem using alert in html.</p>\n<p>I have a controller in Java that sends</p>\n<pre><code>model.addAttribute(&quot;borrowedAlready&quot;,1);\n</code></pre>\n<p>and I need to take it from html.</p>\n<p>here's code i have but doesn't seem to work.</p>\n<pre><code>&lt;div&gt;\n    &lt;script type=&quot;text/javascript&quot;&gt;\n        var borrowed = '${borrowedAlready}';\n        if(borrowed== 1){\n            alert(&quot;Borrwed Already.&quot;);\n        }\n    &lt;/script&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Need help</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1670755055,"post_id":74759433,"comment_id":131942453,"body_markdown":"*&quot;I want to have static fields used in all instances&quot;* - `static` fields **belong to the class**, i.e. they shared among all the instances (as opposed to instance fields). Therefore, the presented problem makes no sense. For the purpose of modifying static fields, you can expose static methods in your class.","body":"<i>&quot;I want to have static fields used in all instances&quot;</i> - <code>static</code> fields <b>belong to the class</b>, i.e. they shared among all the instances (as opposed to instance fields). Therefore, the presented problem makes no sense. For the purpose of modifying static fields, you can expose static methods in your class."},{"owner":{"account_id":25393570,"reputation":9,"user_id":19204154,"display_name":"ditku"},"score":0,"creation_date":1670761788,"post_id":74759433,"comment_id":131943560,"body_markdown":"Hey Alexander! Thanks for the reply.\n\nDo I put the static fields in the Url class or in a different class and then modify them with a method in the Url class? Or do I put the methods in the other class, where the static fields are?","body":"Hey Alexander! Thanks for the reply.  Do I put the static fields in the Url class or in a different class and then modify them with a method in the Url class? Or do I put the methods in the other class, where the static fields are?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670765479,"post_id":74759433,"comment_id":131944227,"body_markdown":"*&quot;Do I put the static fields in the Url class or in a different class&quot;* - you need to declare both static fields and methods for modifying them in the **same class**. To determine to which class exactly it should be, think to about the role of these fields and place them where they fit best. As an analogy, in the real life you would want the fridge located in the kitchen and bathtub in the bathroom, because that&#39;s where they are most suitable.","body":"<i>&quot;Do I put the static fields in the Url class or in a different class&quot;</i> - you need to declare both static fields and methods for modifying them in the <b>same class</b>. To determine to which class exactly it should be, think to about the role of these fields and place them where they fit best. As an analogy, in the real life you would want the fridge located in the kitchen and bathtub in the bathroom, because that&#39;s where they are most suitable."}],"owner":{"account_id":25393570,"reputation":9,"user_id":19204154,"display_name":"ditku"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670748523,"creation_date":1670748523,"question_id":74759433,"body_markdown":"Using a builder pattern I want to have static fields used in all instances. Do I put them in the Url class or in the UrlBuilder class as static fields or do I extract them into a new class to only hold the static fields?\r\n\r\nThe expected result is the ability to create a Url instance by using the Builder class and a switch case logic in the UrlBuilder constructor.\r\n\r\nHere is a code example:\r\n\r\n\r\n```\r\npublic class Url {\r\n\r\n  //required parameters\r\n  private String homePage;\r\n  private String boardSuffix;\r\n\r\n  public String getHomePage() {\r\n    return homePage;\r\n  }\r\n\r\n  public String getBoardSuffix() {\r\n    return boardSuffix;\r\n  }\r\n\r\n  private Url(UrlBuilder builder) {\r\n    this.homePage = builder.homePage;\r\n    this.boardSuffix = builder.boardSuffix;\r\n  }\r\n\r\n  //Builder class\r\n  public static class UrlBuilder {\r\n\r\n    //required parameters\r\n    private String homePage;\r\n    private String boardSuffix;\r\n\r\n    public UrlBuilder(String homePage, String boardSuffix) {\r\n      this.homePage = homePage;\r\n      this.boardSuffix = boardSuffix;\r\n    }\r\n\r\n    public Url build() {\r\n      return new Url(this);\r\n    }\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried placing the static fields in a &quot;Constants&quot; enum, but got lost in the reflection of enums, while trying to prepare tests.","title":"Where to put static fields used in builder pattern?","body":"<p>Using a builder pattern I want to have static fields used in all instances. Do I put them in the Url class or in the UrlBuilder class as static fields or do I extract them into a new class to only hold the static fields?</p>\n<p>The expected result is the ability to create a Url instance by using the Builder class and a switch case logic in the UrlBuilder constructor.</p>\n<p>Here is a code example:</p>\n<pre><code>public class Url {\n\n  //required parameters\n  private String homePage;\n  private String boardSuffix;\n\n  public String getHomePage() {\n    return homePage;\n  }\n\n  public String getBoardSuffix() {\n    return boardSuffix;\n  }\n\n  private Url(UrlBuilder builder) {\n    this.homePage = builder.homePage;\n    this.boardSuffix = builder.boardSuffix;\n  }\n\n  //Builder class\n  public static class UrlBuilder {\n\n    //required parameters\n    private String homePage;\n    private String boardSuffix;\n\n    public UrlBuilder(String homePage, String boardSuffix) {\n      this.homePage = homePage;\n      this.boardSuffix = boardSuffix;\n    }\n\n    public Url build() {\n      return new Url(this);\n    }\n\n  }\n\n}\n</code></pre>\n<p>I've tried placing the static fields in a &quot;Constants&quot; enum, but got lost in the reflection of enums, while trying to prepare tests.</p>\n"},{"tags":["java","swing","jtextfield","jcreator"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1360550595,"post_id":14805124,"comment_id":20736396,"body_markdown":"The question that needs to asked is...&quot;why?&quot;.  It&#39;s typically better to let the layout managers decide the best size to use.  You can provide hints back to the layout manager through the `Font` and `columns` methods of the text field.  This way, it will have a better chance of working on difference OS&#39;s","body":"The question that needs to asked is...&quot;why?&quot;.  It&#39;s typically better to let the layout managers decide the best size to use.  You can provide hints back to the layout manager through the <code>Font</code> and <code>columns</code> methods of the text field.  This way, it will have a better chance of working on difference OS&#39;s"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1670758682,"post_id":14805124,"comment_id":131943032,"body_markdown":"a suboptimal question drawing suboptimal answeres even a decade after being asked ;) as @MadProgrammer already commented: the _why_ is important, and requires an _detailed_ answer - without context, this is not answerable, all attempts can only be approximations.","body":"a suboptimal question drawing suboptimal answeres even a decade after being asked ;) as @MadProgrammer already commented: the <i>why</i> is important, and requires an <i>detailed</i> answer - without context, this is not answerable, all attempts can only be approximations."},{"owner":{"account_id":147441,"reputation":2640,"user_id":358562,"display_name":"Angel O&#39;Sphere"},"score":0,"creation_date":1687755581,"post_id":14805124,"comment_id":134975448,"body_markdown":"@kleopatra and MadProgrammer no idea why people give such stupid answers to genuine questions. He does not know how to make the size to fit his needs. Telling him &quot;oh the magical layout manage will do it&quot; is just mocking him. Why do you not give an answer below instead and tell him how to tell the layout manager to properly size the item? Hu? Because: you don&#39;t know how to help him. You do not know yourself how to size the component to his needs. So: why making confusing comments that help no one?","body":"@kleopatra and MadProgrammer no idea why people give such stupid answers to genuine questions. He does not know how to make the size to fit his needs. Telling him &quot;oh the magical layout manage will do it&quot; is just mocking him. Why do you not give an answer below instead and tell him how to tell the layout manager to properly size the item? Hu? Because: you don&#39;t know how to help him. You do not know yourself how to size the component to his needs. So: why making confusing comments that help no one?"}],"answers":[{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1360550473,"post_id":14805158,"comment_id":20736373,"body_markdown":"With respect, that&#39;s a comment - IMHO","body":"With respect, that&#39;s a comment - IMHO"}],"tags":[],"owner":{"account_id":2257919,"reputation":31825,"user_id":1988693,"accept_rate":76,"display_name":"drew moore"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360550428,"creation_date":1360550428,"answer_id":14805158,"question_id":14805124,"body_markdown":"What type of LayoutManager are you using for the panel you&#39;re adding the JTextField to? \r\n\r\nDifferent layout managers approach sizing elements on them in different ways, some respect SetPreferredSize(), while others will scale the compoenents to fit their container. \r\n\r\nSee: http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\r\n\r\n\r\nps. this has nothing to do with eclipse, its java. ","title":"How to set the height and the width of a textfield in Java?","body":"<p>What type of LayoutManager are you using for the panel you're adding the JTextField to? </p>\n\n<p>Different layout managers approach sizing elements on them in different ways, some respect SetPreferredSize(), while others will scale the compoenents to fit their container. </p>\n\n<p>See: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html</a></p>\n\n<p>ps. this has nothing to do with eclipse, its java. </p>\n"},{"comments":[{"owner":{"account_id":300331,"reputation":50777,"user_id":607407,"accept_rate":71,"display_name":"Tom&#225;š Zato"},"score":2,"creation_date":1398555664,"post_id":14805160,"comment_id":35700896,"body_markdown":"I need to keep floating width but fix height. How do I do that?","body":"I need to keep floating width but fix height. How do I do that?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1670765671,"post_id":14805160,"comment_id":131944272,"body_markdown":"@Tom&#225;šZato the answer for all layout problem always is a suitable LayoutManager - if those in Swing itself aren&#39;t good enough, consider using 3rd party libs, like f.i. MigLayout (free and occasionally updated) or JGoodies Formlayout (the free version is not maintained though still good, paid version is, though). Whatever we use, our main mental switch is to put the __complete__ responsibility of a layout into the manager (components themselves are only helpers: their responsibility is to _calculate/adjust_ their own sizing hints depending on their own state)","body":"@Tom&#225;šZato the answer for all layout problem always is a suitable LayoutManager - if those in Swing itself aren&#39;t good enough, consider using 3rd party libs, like f.i. MigLayout (free and occasionally updated) or JGoodies Formlayout (the free version is not maintained though still good, paid version is, though). Whatever we use, our main mental switch is to put the <b>complete</b> responsibility of a layout into the manager (components themselves are only helpers: their responsibility is to <i>calculate/adjust</i> their own sizing hints depending on their own state)"}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":2,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1360550454,"creation_date":1360550454,"answer_id":14805160,"question_id":14805124,"body_markdown":"You should not play with the height. Let the text field determine the height based on the font used. \r\n\r\nIf you want to control the width of the text field then you can use\r\n\r\n    textField.setColumns(...);\r\n\r\nto let the text field determine the preferred width.\r\n\r\nOr if you want the width to be the entire width of the parent panel then you need to use an appropriate layout. Maybe the NORTH of a BorderLayout. \r\n\r\nSee the Swing tutorial on [Layout Managers][1] for more information.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html","title":"How to set the height and the width of a textfield in Java?","body":"<p>You should not play with the height. Let the text field determine the height based on the font used. </p>\n\n<p>If you want to control the width of the text field then you can use</p>\n\n<pre><code>textField.setColumns(...);\n</code></pre>\n\n<p>to let the text field determine the preferred width.</p>\n\n<p>Or if you want the width to be the entire width of the parent panel then you need to use an appropriate layout. Maybe the NORTH of a BorderLayout. </p>\n\n<p>See the Swing tutorial on <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\">Layout Managers</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1360574092,"creation_date":1360559044,"answer_id":14806175,"question_id":14805124,"body_markdown":"&gt; set the height to 200 \r\n\r\nSet the `Font` to a large variant (150+ px).  As already mentioned, control the width using columns, and use a layout manager (or constraint) that will respect the preferred width &amp; height.\r\n\r\n![Big Text Fields][1]\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.border.EmptyBorder;\r\n    \r\n    public class BigTextField {\r\n    \r\n        public static void main(String[] args) {\r\n            Runnable r = new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    // the GUI as seen by the user (without frame)\r\n                    JPanel gui = new JPanel(new FlowLayout(5));\r\n                    gui.setBorder(new EmptyBorder(2, 3, 2, 3));\r\n    \r\n                    // Create big text fields &amp; add them to the GUI\r\n                    String s = &quot;Hello!&quot;;\r\n                    JTextField tf1 = new JTextField(s, 1);\r\n                    Font bigFont = tf1.getFont().deriveFont(Font.PLAIN, 150f);\r\n                    tf1.setFont(bigFont);\r\n                    gui.add(tf1);\r\n    \r\n                    JTextField tf2 = new JTextField(s, 2);\r\n                    tf2.setFont(bigFont);\r\n                    gui.add(tf2);\r\n    \r\n                    JTextField tf3 = new JTextField(s, 3);\r\n                    tf3.setFont(bigFont);\r\n                    gui.add(tf3);\r\n    \r\n                    gui.setBackground(Color.WHITE);\r\n    \r\n                    JFrame f = new JFrame(&quot;Big Text Fields&quot;);\r\n                    f.add(gui);\r\n                    // Ensures JVM closes after frame(s) closed and\r\n                    // all non-daemon threads are finished\r\n                    f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n                    // See http://stackoverflow.com/a/7143398/418556 for demo.\r\n                    f.setLocationByPlatform(true);\r\n    \r\n                    // ensures the frame is the minimum size it needs to be\r\n                    // in order display the components within it\r\n                    f.pack();\r\n                    // should be done last, to avoid flickering, moving,\r\n                    // resizing artifacts.\r\n                    f.setVisible(true);\r\n                }\r\n            };\r\n            // Swing GUIs should be created and updated on the EDT\r\n            // http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\r\n            SwingUtilities.invokeLater(r);\r\n        }\r\n    }\r\n\r\n  [1]: http://i.stack.imgur.com/tR1WF.png","title":"How to set the height and the width of a textfield in Java?","body":"<blockquote>\n  <p>set the height to 200 </p>\n</blockquote>\n\n<p>Set the <code>Font</code> to a large variant (150+ px).  As already mentioned, control the width using columns, and use a layout manager (or constraint) that will respect the preferred width &amp; height.</p>\n\n<p><img src=\"https://i.stack.imgur.com/tR1WF.png\" alt=\"Big Text Fields\"></p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.border.EmptyBorder;\n\npublic class BigTextField {\n\n    public static void main(String[] args) {\n        Runnable r = new Runnable() {\n\n            @Override\n            public void run() {\n                // the GUI as seen by the user (without frame)\n                JPanel gui = new JPanel(new FlowLayout(5));\n                gui.setBorder(new EmptyBorder(2, 3, 2, 3));\n\n                // Create big text fields &amp; add them to the GUI\n                String s = \"Hello!\";\n                JTextField tf1 = new JTextField(s, 1);\n                Font bigFont = tf1.getFont().deriveFont(Font.PLAIN, 150f);\n                tf1.setFont(bigFont);\n                gui.add(tf1);\n\n                JTextField tf2 = new JTextField(s, 2);\n                tf2.setFont(bigFont);\n                gui.add(tf2);\n\n                JTextField tf3 = new JTextField(s, 3);\n                tf3.setFont(bigFont);\n                gui.add(tf3);\n\n                gui.setBackground(Color.WHITE);\n\n                JFrame f = new JFrame(\"Big Text Fields\");\n                f.add(gui);\n                // Ensures JVM closes after frame(s) closed and\n                // all non-daemon threads are finished\n                f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n                // See http://stackoverflow.com/a/7143398/418556 for demo.\n                f.setLocationByPlatform(true);\n\n                // ensures the frame is the minimum size it needs to be\n                // in order display the components within it\n                f.pack();\n                // should be done last, to avoid flickering, moving,\n                // resizing artifacts.\n                f.setVisible(true);\n            }\n        };\n        // Swing GUIs should be created and updated on the EDT\n        // http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\n        SwingUtilities.invokeLater(r);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1360573832,"post_id":14806779,"comment_id":20742443,"body_markdown":"See [`setLayout(null)` is never necessary. Ever!](https://forums.oracle.com/forums/thread.jspa?threadID=1351374) for why I down voted advice that started with that recommendation and lead into layout managers starting with &#39;But..&#39;.  Using size hints and a layout manager is the sensible strategy for this.","body":"See <a href=\"https://forums.oracle.com/forums/thread.jspa?threadID=1351374\" rel=\"nofollow noreferrer\"><code>setLayout(null)</code> is never necessary. Ever!</a> for why I down voted advice that started with that recommendation and lead into layout managers starting with &#39;But..&#39;.  Using size hints and a layout manager is the sensible strategy for this."},{"owner":{"account_id":1039047,"reputation":623,"user_id":1045512,"accept_rate":55,"display_name":"Abhishek Bhandari"},"score":0,"creation_date":1360576118,"post_id":14806779,"comment_id":20743388,"body_markdown":"What do you Think the Default layout of the JFrame is ? @AndrewThompson","body":"What do you Think the Default layout of the JFrame is ? @AndrewThompson"},{"owner":{"account_id":1039047,"reputation":623,"user_id":1045512,"accept_rate":55,"display_name":"Abhishek Bhandari"},"score":0,"creation_date":1360576237,"post_id":14806779,"comment_id":20743447,"body_markdown":"@AndrewThompson Try adding a JTextField in a simple Class which extends JFrame , give some size to JTextField. call the constructor from the main method. you will see there the use of setLayout(null), and you can contribute the the above discussion too :)","body":"@AndrewThompson Try adding a JTextField in a simple Class which extends JFrame , give some size to JTextField. call the constructor from the main method. you will see there the use of setLayout(null), and you can contribute the the above discussion too :)"},{"owner":{"account_id":1039047,"reputation":623,"user_id":1045512,"accept_rate":55,"display_name":"Abhishek Bhandari"},"score":0,"creation_date":1360576885,"post_id":14806779,"comment_id":20743742,"body_markdown":"&quot;The default content pane will have a BorderLayout manager set on it.&quot; So I believe other container may also having some or the other . To get things clear . setLayout(null) is cool if you don&#39;t want to use any layout .","body":"&quot;The default content pane will have a BorderLayout manager set on it.&quot; So I believe other container may also having some or the other . To get things clear . setLayout(null) is cool if you don&#39;t want to use any layout ."},{"owner":{"account_id":1039047,"reputation":623,"user_id":1045512,"accept_rate":55,"display_name":"Abhishek Bhandari"},"score":0,"creation_date":1360577047,"post_id":14806779,"comment_id":20743822,"body_markdown":"@AndrewThompson &quot;Class which extends JFrame&quot;  was an example . I have a habit learning with examples .","body":"@AndrewThompson &quot;Class which extends JFrame&quot;  was an example . I have a habit learning with examples ."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1360577406,"post_id":14806779,"comment_id":20743973,"body_markdown":"*&quot;I have a habit learning with examples&quot;* Hopefully you can learn from [BigTextField](http://stackoverflow.com/a/14806175/418556) then. :)","body":"<i>&quot;I have a habit learning with examples&quot;</i> Hopefully you can learn from <a href=\"http://stackoverflow.com/a/14806175/418556\">BigTextField</a> then. :)"},{"owner":{"account_id":1039047,"reputation":623,"user_id":1045512,"accept_rate":55,"display_name":"Abhishek Bhandari"},"score":0,"creation_date":1360577814,"post_id":14806779,"comment_id":20744160,"body_markdown":"&quot; setLayout(null) is never necessary. Ever! &quot; is not true for everything . Thats all I am here for .And thats the centre.;)","body":"&quot; setLayout(null) is never necessary. Ever! &quot; is not true for everything . Thats all I am here for .And thats the centre.;)"}],"tags":[],"owner":{"account_id":1039047,"reputation":623,"user_id":1045512,"accept_rate":55,"display_name":"Abhishek Bhandari"},"comment_count":7,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1360563208,"creation_date":1360562881,"answer_id":14806779,"question_id":14805124,"body_markdown":"    \r\n\r\n\r\n\r\n         f.setLayout(null);\r\nadd the above lines ( **f** is a     **JFrame**     or a **Container** where you have added the     **JTestField** )\r\n\r\n\r\n\r\n\r\nBut try to learn &#39;LayoutManager&#39; in java ; refer to other answers for the links of the tutorials .Or try This http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\r\n\r\n","title":"How to set the height and the width of a textfield in Java?","body":"<pre><code>     f.setLayout(null);\n</code></pre>\n\n<p>add the above lines ( <strong>f</strong> is a     <strong>JFrame</strong>     or a <strong>Container</strong> where you have added the     <strong>JTestField</strong> )</p>\n\n<p>But try to learn 'LayoutManager' in java ; refer to other answers for the links of the tutorials .Or try This <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html</a></p>\n"},{"tags":[],"owner":{"display_name":"user1918908"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1389803978,"creation_date":1389803549,"answer_id":21142958,"question_id":14805124,"body_markdown":"There&#39;s a way which maybe not perfect, but can meet your requirement. The main point here is use a special dimension to restrict the height. But at the same time, width actually is free, as the max width is big enough.\r\n\r\n    package test;\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public final class TestFrame extends Frame{\r\n    \tpublic TestFrame(){\r\n    \t\tJPanel p = new JPanel();\r\n    \t\tp.setLayout(new BoxLayout(p, BoxLayout.X_AXIS));\r\n    \t\tp.setPreferredSize(new Dimension(500, 200));\r\n    \t\tp.setMaximumSize(new Dimension(10000, 200));\r\n    \t\tp.add(new JLabel(&quot;TEST: &quot;));\r\n    \t\t\r\n    \t\tJPanel p1 = new JPanel();\r\n    \t\tp1.setLayout(new BoxLayout(p1, BoxLayout.X_AXIS));\r\n    \t\tp1.setMaximumSize(new Dimension(10000, 200));\r\n    \t\tp1.add(new JTextField(50));\r\n    \t\t\r\n    \t\tp.add(p1);\r\n    \t\t\r\n    \t\tthis.setLayout(new BorderLayout());\r\n    \t\tthis.add(p, BorderLayout.CENTER);\r\n    \t}\r\n    \t//TODO: GUI CREATE\r\n    }","title":"How to set the height and the width of a textfield in Java?","body":"<p>There's a way which maybe not perfect, but can meet your requirement. The main point here is use a special dimension to restrict the height. But at the same time, width actually is free, as the max width is big enough.</p>\n\n<pre><code>package test;\nimport java.awt.*;\nimport javax.swing.*;\n\npublic final class TestFrame extends Frame{\n    public TestFrame(){\n        JPanel p = new JPanel();\n        p.setLayout(new BoxLayout(p, BoxLayout.X_AXIS));\n        p.setPreferredSize(new Dimension(500, 200));\n        p.setMaximumSize(new Dimension(10000, 200));\n        p.add(new JLabel(\"TEST: \"));\n\n        JPanel p1 = new JPanel();\n        p1.setLayout(new BoxLayout(p1, BoxLayout.X_AXIS));\n        p1.setMaximumSize(new Dimension(10000, 200));\n        p1.add(new JTextField(50));\n\n        p.add(p1);\n\n        this.setLayout(new BorderLayout());\n        this.add(p, BorderLayout.CENTER);\n    }\n    //TODO: GUI CREATE\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":316802,"reputation":10754,"user_id":633150,"display_name":"Brent Worden"},"score":1,"creation_date":1467168932,"post_id":38084107,"comment_id":63614982,"body_markdown":"I am sure the original poster would appreciate a little explanation of the code.","body":"I am sure the original poster would appreciate a little explanation of the code."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1670758005,"post_id":38084107,"comment_id":131942929,"body_markdown":"null layout is __wrong__ always!","body":"null layout is <b>wrong</b> always!"}],"tags":[],"owner":{"account_id":8722257,"reputation":1,"user_id":6525022,"display_name":"Nyx.Tanzania"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1467141774,"creation_date":1467139915,"answer_id":38084107,"question_id":14805124,"body_markdown":"\r\n\r\n    package myguo;\r\n    import javax.swing.*;\r\n    \r\n    public class MyGuo {\r\n    \r\n        JFrame f;\r\n        JButton bt1 , bt2 ;\r\n        JTextField t1,t2;\r\n        JLabel l1,l2;\r\n        \r\n        MyGuo(){\r\n            \r\n            f=new JFrame(&quot;LOG IN FORM&quot;);\r\n            f.setLocation(500,300);\r\n            f.setSize(600,500);\r\n            f.setLayout(null);\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            \r\n            l1=new JLabel(&quot;NAME&quot;);\r\n            l1.setBounds(50,70,80,30);\r\n            \r\n            l2=new JLabel(&quot;PASSWORD&quot;);\r\n            l2.setBounds(50,100,80,30);\r\n            \r\n            t1=new JTextField();\r\n            t1.setBounds(140, 70, 200,30);\r\n            \r\n             t2=new JTextField();\r\n            t2.setBounds(140, 110, 200,30);\r\n           \r\n            bt1 =new JButton(&quot;LOG IN&quot;);\r\n            bt1.setBounds(150,150,80,30);\r\n            \r\n            bt2 =new JButton(&quot;CLEAR&quot;);\r\n            bt2.setBounds(235,150,80,30);\r\n            \r\n             f.add(l1);\r\n            f.add(l2);\r\n             f.add(t1);\r\n             f.add(t2);\r\n             f.add(bt1);\r\n             f.add(bt2);\r\n     \r\n        f.setVisible(true);\r\n    \r\n        }\r\n        public static void main(String[] args) {\r\n            MyGuo myGuo = new MyGuo();\r\n    }\r\n    }","title":"How to set the height and the width of a textfield in Java?","body":"<pre><code>package myguo;\nimport javax.swing.*;\n\npublic class MyGuo {\n\n    JFrame f;\n    JButton bt1 , bt2 ;\n    JTextField t1,t2;\n    JLabel l1,l2;\n\n    MyGuo(){\n\n        f=new JFrame(\"LOG IN FORM\");\n        f.setLocation(500,300);\n        f.setSize(600,500);\n        f.setLayout(null);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        l1=new JLabel(\"NAME\");\n        l1.setBounds(50,70,80,30);\n\n        l2=new JLabel(\"PASSWORD\");\n        l2.setBounds(50,100,80,30);\n\n        t1=new JTextField();\n        t1.setBounds(140, 70, 200,30);\n\n         t2=new JTextField();\n        t2.setBounds(140, 110, 200,30);\n\n        bt1 =new JButton(\"LOG IN\");\n        bt1.setBounds(150,150,80,30);\n\n        bt2 =new JButton(\"CLEAR\");\n        bt2.setBounds(235,150,80,30);\n\n         f.add(l1);\n        f.add(l2);\n         f.add(t1);\n         f.add(t2);\n         f.add(bt1);\n         f.add(bt2);\n\n    f.setVisible(true);\n\n    }\n    public static void main(String[] args) {\n        MyGuo myGuo = new MyGuo();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9175985,"reputation":2426,"user_id":6821598,"display_name":"Muhammad Aamir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556695374,"creation_date":1556694063,"answer_id":55932667,"question_id":14805124,"body_markdown":"xyz.setColumns() method is control the width of TextField.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n\r\n\r\n\r\n    class miniproj extends JFrame {\r\n\r\n      public static void main(String[] args)\r\n      {\r\n        JFrame frame=new JFrame();\r\n        JPanel panel=new JPanel();\r\n        frame.setSize(400,400);\r\n        frame.setTitle(&quot;Registration&quot;);\r\n\r\n        \r\n        JLabel lablename=new JLabel(&quot;Enter your name&quot;);\r\n        TextField tname=new TextField(30);\r\n        tname.setColumns(45);\r\n\r\n        JLabel lableemail=new JLabel(&quot;Enter your Email&quot;);\r\n        TextField email=new TextField(30);\r\n        email.setColumns(45);\r\n        JLabel lableaddress=new JLabel(&quot;Enter your address&quot;);\r\n        TextField address=new TextField(30);\r\n        address.setColumns(45);\r\n        address.setFont(Font.getFont(Font.SERIF));\r\n        JLabel lablepass=new JLabel(&quot;Enter your password&quot;);\r\n        TextField pass=new TextField(30);\r\n        pass.setColumns(45);\r\n\r\n        JButton login=new JButton();\r\n        JButton create=new JButton();\r\n        login.setPreferredSize(new Dimension(90,30));\r\n        login.setText(&quot;Login&quot;);\r\n        create.setPreferredSize(new Dimension(90,30));\r\n        create.setText(&quot;Create&quot;);\r\n\r\n\r\n\r\n        panel.add(lablename);\r\n        panel.add(tname);\r\n        panel.add(lableemail);\r\n        panel.add(email);\r\n        panel.add(lableaddress);\r\n        panel.add(address);\r\n        panel.add(lablepass);\r\n        panel.add(pass);\r\n        panel.add(create);\r\n        panel.add(login);\r\n\r\n\r\n\r\n        frame.add(panel);\r\n        frame.setVisible(true);\r\n      }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pXVNN.png","title":"How to set the height and the width of a textfield in Java?","body":"<p>xyz.setColumns() method is control the width of TextField.</p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\n\n\nclass miniproj extends JFrame {\n\n  public static void main(String[] args)\n  {\n    JFrame frame=new JFrame();\n    JPanel panel=new JPanel();\n    frame.setSize(400,400);\n    frame.setTitle(\"Registration\");\n\n\n    JLabel lablename=new JLabel(\"Enter your name\");\n    TextField tname=new TextField(30);\n    tname.setColumns(45);\n\n    JLabel lableemail=new JLabel(\"Enter your Email\");\n    TextField email=new TextField(30);\n    email.setColumns(45);\n    JLabel lableaddress=new JLabel(\"Enter your address\");\n    TextField address=new TextField(30);\n    address.setColumns(45);\n    address.setFont(Font.getFont(Font.SERIF));\n    JLabel lablepass=new JLabel(\"Enter your password\");\n    TextField pass=new TextField(30);\n    pass.setColumns(45);\n\n    JButton login=new JButton();\n    JButton create=new JButton();\n    login.setPreferredSize(new Dimension(90,30));\n    login.setText(\"Login\");\n    create.setPreferredSize(new Dimension(90,30));\n    create.setText(\"Create\");\n\n\n\n    panel.add(lablename);\n    panel.add(tname);\n    panel.add(lableemail);\n    panel.add(email);\n    panel.add(lableaddress);\n    panel.add(address);\n    panel.add(lablepass);\n    panel.add(pass);\n    panel.add(create);\n    panel.add(login);\n\n\n\n    frame.add(panel);\n    frame.setVisible(true);\n  }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/pXVNN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pXVNN.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":22231992,"reputation":13,"user_id":16467990,"display_name":"Syed Talal Jilani"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1626800411,"creation_date":1626800411,"answer_id":68458744,"question_id":14805124,"body_markdown":"setBounds is working only in BorderLayout use BorderLayout for frame or container or panel and use setBounds to set the width and height of text field.\r\nsee this code simple code\r\n\r\n     import java.awt.*;\r\n     import javax.swing.*;\r\n\r\n       class uni1\r\n       {\r\n         public static void main(String[] args)\r\n    {\r\n        JFrame frm = new JFrame();\r\n        TextField txt = new TextField();\r\n        txt.setBounds(0, 0, 1200, 400);\r\n        frm.add(txt,BorderLayout.NORTH);\r\n        frm.setLayout(new BorderLayout());\r\n        frm.setVisible(true);\r\n        frm.setDefaultCloseOperation(frm.EXIT_ON_CLOSE);\r\n    }\r\n}\r\n ","title":"How to set the height and the width of a textfield in Java?","body":"<p>setBounds is working only in BorderLayout use BorderLayout for frame or container or panel and use setBounds to set the width and height of text field.\nsee this code simple code</p>\n<pre><code> import java.awt.*;\n import javax.swing.*;\n\n   class uni1\n   {\n     public static void main(String[] args)\n{\n    JFrame frm = new JFrame();\n    TextField txt = new TextField();\n    txt.setBounds(0, 0, 1200, 400);\n    frm.add(txt,BorderLayout.NORTH);\n    frm.setLayout(new BorderLayout());\n    frm.setVisible(true);\n    frm.setDefaultCloseOperation(frm.EXIT_ON_CLOSE);\n}\n</code></pre>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1670757633,"post_id":74759285,"comment_id":131942875,"body_markdown":"note: hard-coding sizing hints - even via overrides of the getters - is wrong!","body":"note: hard-coding sizing hints - even via overrides of the getters - is wrong!"}],"tags":[],"owner":{"account_id":27217104,"reputation":1,"user_id":20746979,"display_name":"Baragatti"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670748349,"creation_date":1670746787,"answer_id":74759285,"question_id":14805124,"body_markdown":"maybe applying an **EmptyBorder** to your JTextField would be the simplest solution to simulate a height, and for the width use the **setColumns()** method\r\n\r\n    JTextField input=new JTextField();\r\n    input.setColumns(10);\r\n    input.setBorder(new EmptyBorder(15,0,15,0);\r\n\r\nthe 4 arguments of the EmptyBorder constructor are: top, left, bottom and right respectively.\r\n\r\n\r\nOr if you want something more technical you can override the getPreferredSize, getMinimumSize and getMaximumSize methods so that it returns the values ​​you want to apply as width and height.\r\n\r\n    JTexField input=new JTextField(){\r\n        @Override\r\n        public Dimension getPreferredSize(){\r\n            return new Dimension(200,40);\r\n        };\r\n        public Dimension getMinimumSize(){\r\n            return new Dimension(200,40);\r\n        };\r\n        public Dimension getMaximumSize(){\r\n            return new Dimension(200,40);\r\n        };\r\n    };","title":"How to set the height and the width of a textfield in Java?","body":"<p>maybe applying an <strong>EmptyBorder</strong> to your JTextField would be the simplest solution to simulate a height, and for the width use the <strong>setColumns()</strong> method</p>\n<pre><code>JTextField input=new JTextField();\ninput.setColumns(10);\ninput.setBorder(new EmptyBorder(15,0,15,0);\n</code></pre>\n<p>the 4 arguments of the EmptyBorder constructor are: top, left, bottom and right respectively.</p>\n<p>Or if you want something more technical you can override the getPreferredSize, getMinimumSize and getMaximumSize methods so that it returns the values ​​you want to apply as width and height.</p>\n<pre><code>JTexField input=new JTextField(){\n    @Override\n    public Dimension getPreferredSize(){\n        return new Dimension(200,40);\n    };\n    public Dimension getMinimumSize(){\n        return new Dimension(200,40);\n    };\n    public Dimension getMaximumSize(){\n        return new Dimension(200,40);\n    };\n};\n</code></pre>\n"}],"owner":{"account_id":2203398,"reputation":1083,"user_id":1947208,"accept_rate":47,"display_name":"Ms. B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188492,"favorite_count":0,"down_vote_count":2,"up_vote_count":14,"answer_count":9,"score":12,"last_activity_date":1670748349,"creation_date":1360550024,"question_id":14805124,"body_markdown":"I was trying to make my JTextField fill the width and set a height for it but still failed. I tried adding the code `setPreferredSize(new Dimension(320,200));` but still failed. Is there any way I can make my JTextField fill the width and set the height to 200 or something?","title":"How to set the height and the width of a textfield in Java?","body":"<p>I was trying to make my JTextField fill the width and set a height for it but still failed. I tried adding the code <code>setPreferredSize(new Dimension(320,200));</code> but still failed. Is there any way I can make my JTextField fill the width and set the height to 200 or something?</p>\n"},{"tags":["java","jsp","servlets","web-applications"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1670700974,"post_id":74750681,"comment_id":131935871,"body_markdown":"What Servlet container are you using? Tomcat? Where did you place the file IndexServlet.class?","body":"What Servlet container are you using? Tomcat? Where did you place the file IndexServlet.class?"},{"owner":{"account_id":26899471,"reputation":9,"user_id":20476857,"display_name":"Danica Mora"},"score":0,"creation_date":1670819620,"post_id":74750681,"comment_id":131953746,"body_markdown":"yes I am using tomcat","body":"yes I am using tomcat"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1670861207,"post_id":74750681,"comment_id":131965575,"body_markdown":"https://stackoverflow.com/questions/74771386/getting-classnotfoundexception-or-http-status-404-not-found-when-running-j","body":"<a href=\"https://stackoverflow.com/questions/74771386/getting-classnotfoundexception-or-http-status-404-not-found-when-running-j\" title=\"getting classnotfoundexception or http status 404 not found when running j\">stackoverflow.com/questions/74771386/&hellip;</a>"}],"owner":{"account_id":26899471,"reputation":9,"user_id":20476857,"display_name":"Danica Mora"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1670748471,"answer_count":0,"score":0,"last_activity_date":1670748033,"creation_date":1670651155,"question_id":74750681,"body_markdown":"// Servlet File\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\n\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\n@WebServlet(&quot;/Index&quot;)\r\npublic class IndexServlet extends HttpServlet{\r\n\r\n\t@Override\r\n\tprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n\t\t\t\r\n\t\t\r\n\t\tString s = req.getParameter(&quot;username&quot;);\r\n\t\t\r\n\t\tPrintWriter out = resp.getWriter();\r\n\t\tout.println(&quot;Hi &quot; + s);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n\r\n//home.jsp file\r\n\r\n\r\n```\r\n\r\n\t&lt;form action=&quot;Index&quot;&gt;\r\n\t\t&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt; &lt;br&gt; \r\n\t\t&lt;input type=&quot;text&quot; name=&quot;password&quot;&gt; &lt;br&gt; \r\n\t\t&lt;input type=&quot;submit&quot;&gt;\r\n\r\n```\r\n\r\nI want to print (Hi + username) which is coded on servlet\r\nI am requesting the username from the JSP file but when hit submit I am getting the error","title":"HTTP Status 404 – Not Found when calling servlet","body":"<p>// Servlet File</p>\n<pre><code>import java.io.IOException;\nimport java.io.PrintWriter;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/Index&quot;)\npublic class IndexServlet extends HttpServlet{\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n            \n        \n        String s = req.getParameter(&quot;username&quot;);\n        \n        PrintWriter out = resp.getWriter();\n        out.println(&quot;Hi &quot; + s);\n        \n    }\n}\n</code></pre>\n<p>//home.jsp file</p>\n<pre><code>\n    &lt;form action=&quot;Index&quot;&gt;\n        &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt; &lt;br&gt; \n        &lt;input type=&quot;text&quot; name=&quot;password&quot;&gt; &lt;br&gt; \n        &lt;input type=&quot;submit&quot;&gt;\n\n</code></pre>\n<p>I want to print (Hi + username) which is coded on servlet\nI am requesting the username from the JSP file but when hit submit I am getting the error</p>\n"},{"tags":["java","linux","spring-boot","jenkins","amazon-ec2"],"owner":{"account_id":26715350,"reputation":1,"user_id":20320023,"display_name":"dobbyisfree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670747699,"creation_date":1670747699,"question_id":74759368,"body_markdown":"I using `java`, `springboot`, `maven`\r\nand Jenkins on AWS EC2 Linux2\r\n\r\nFor Build.\r\nAt &#39;Build Step&#39;,\r\nusing `invoke top-level Maven targets`,\r\nI typed `clean package -D maven.test.skip=true`.\r\n\r\nAnd then I added `Post Build Task`\r\n&#39;BUILD SUCCESS&#39; in &#39;Log text&#39;\r\nthen I typed\r\n```\r\n#!/bin/bash\r\nfuser -n tcp -k 8080\r\nBUILD_ID=dontKillMe java -jar target/back-0.0.1-SNAPSHOT.jar &amp;\r\n```\r\nin &#39;script&#39;\r\n\r\nAnd then I click a &#39;Build now&#39;\r\n\r\nthey run, but they end up with this log\r\n\r\n```\r\n2022-12-10 17:28:05.701  INFO 13132 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\nProcess leaked file descriptors. See https://www.jenkins.io/redirect/troubleshooting/process-leaked-file-descriptors for more information\r\nPOST BUILD TASK : SUCCESS\r\nEND OF POST BUILD TASK : 0\r\nFinished: SUCCESS\r\n```\r\n\r\nBut I am not using the &quot;pipeline&quot;. Just &quot;Freestyle&quot;.\r\nSo I think &quot;BUILD_ID&quot; is correct.\r\n\r\nBut I think it didn&#39;t work.\r\n\r\nWhat should I do.\r\nWhat am I missing?\r\n\r\n\r\n---\r\n\r\n&gt; I had typed &#39;BUILD_ID&#39; at `Execute Shell`.\r\nand I had used &#39;String Parameter&#39;\r\nand I had put `-Dhudson.util.ProcessTree.disable=true` between scripts.","title":"On Jenkins, How can I make &#39;BUILD_ID=dontKillMe&#39; work","body":"<p>I using <code>java</code>, <code>springboot</code>, <code>maven</code>\nand Jenkins on AWS EC2 Linux2</p>\n<p>For Build.\nAt 'Build Step',\nusing <code>invoke top-level Maven targets</code>,\nI typed <code>clean package -D maven.test.skip=true</code>.</p>\n<p>And then I added <code>Post Build Task</code>\n'BUILD SUCCESS' in 'Log text'\nthen I typed</p>\n<pre><code>#!/bin/bash\nfuser -n tcp -k 8080\nBUILD_ID=dontKillMe java -jar target/back-0.0.1-SNAPSHOT.jar &amp;\n</code></pre>\n<p>in 'script'</p>\n<p>And then I click a 'Build now'</p>\n<p>they run, but they end up with this log</p>\n<pre><code>2022-12-10 17:28:05.701  INFO 13132 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\nProcess leaked file descriptors. See https://www.jenkins.io/redirect/troubleshooting/process-leaked-file-descriptors for more information\nPOST BUILD TASK : SUCCESS\nEND OF POST BUILD TASK : 0\nFinished: SUCCESS\n</code></pre>\n<p>But I am not using the &quot;pipeline&quot;. Just &quot;Freestyle&quot;.\nSo I think &quot;BUILD_ID&quot; is correct.</p>\n<p>But I think it didn't work.</p>\n<p>What should I do.\nWhat am I missing?</p>\n<hr />\n<blockquote>\n<p>I had typed 'BUILD_ID' at <code>Execute Shell</code>.\nand I had used 'String Parameter'\nand I had put <code>-Dhudson.util.ProcessTree.disable=true</code> between scripts.</p>\n</blockquote>\n"},{"tags":["java","spring-boot","rest","resttemplate"],"comments":[{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":0,"creation_date":1670675145,"post_id":74752490,"comment_id":131930597,"body_markdown":"Not sure that it will work but try to put &#39;@JsonProperty(&quot;payload&quot;)&#39; on the getter and setter methods instead of the field itself","body":"Not sure that it will work but try to put &#39;@JsonProperty(&quot;payload&quot;)&#39; on the getter and setter methods instead of the field itself"}],"answers":[{"tags":[],"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670686689,"creation_date":1670686689,"answer_id":74754309,"question_id":74752490,"body_markdown":"I have test your code , some error , like message filed. others is ok,here is my test code.\r\n\r\n```java\r\npublic class Test {\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        String jj = &quot;{\\n&quot; +\r\n                &quot;    \\&quot;status\\&quot;: \\&quot;OK\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;payload\\&quot;: {\\n&quot; +\r\n                &quot;        \\&quot;Chances\\&quot;: \\&quot;verified\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;PlainOutput\\&quot;: \\&quot;allOk\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;Email\\&quot;: \\&quot;abc@test.com\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;Display\\&quot;: \\&quot;OK\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;FromSystem\\&quot;: \\&quot;N\\&quot;\\n&quot; +\r\n                &quot;    }\\n&quot; +\r\n                &quot;}&quot;;\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        final ServiceResponse serviceResponse = objectMapper.readValue(jj, ServiceResponse.class);\r\n        System.out.println(1);\r\n        System.out.println(objectMapper.writeValueAsString(serviceResponse));\r\n    }\r\n}\r\n```\r\n\r\nso if your return value is corrent , Debug `HttpMessageConverterExtractor#extractData` might help you. if data is ok. i guess problem at jackson&#39;s deserialization. maybe jackson not work. it&#39;s depend on debug result.","title":"Getting null values as response in restTemplate call","body":"<p>I have test your code , some error , like message filed. others is ok,here is my test code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    public static void main(String[] args) throws JsonProcessingException {\n        String jj = &quot;{\\n&quot; +\n                &quot;    \\&quot;status\\&quot;: \\&quot;OK\\&quot;,\\n&quot; +\n                &quot;    \\&quot;payload\\&quot;: {\\n&quot; +\n                &quot;        \\&quot;Chances\\&quot;: \\&quot;verified\\&quot;,\\n&quot; +\n                &quot;        \\&quot;PlainOutput\\&quot;: \\&quot;allOk\\&quot;,\\n&quot; +\n                &quot;        \\&quot;Email\\&quot;: \\&quot;abc@test.com\\&quot;,\\n&quot; +\n                &quot;        \\&quot;Display\\&quot;: \\&quot;OK\\&quot;,\\n&quot; +\n                &quot;        \\&quot;FromSystem\\&quot;: \\&quot;N\\&quot;\\n&quot; +\n                &quot;    }\\n&quot; +\n                &quot;}&quot;;\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        final ServiceResponse serviceResponse = objectMapper.readValue(jj, ServiceResponse.class);\n        System.out.println(1);\n        System.out.println(objectMapper.writeValueAsString(serviceResponse));\n    }\n}\n</code></pre>\n<p>so if your return value is corrent , Debug <code>HttpMessageConverterExtractor#extractData</code> might help you. if data is ok. i guess problem at jackson's deserialization. maybe jackson not work. it's depend on debug result.</p>\n"},{"comments":[{"owner":{"account_id":7115449,"reputation":55,"user_id":5441925,"display_name":"beskar"},"score":1,"creation_date":1670773335,"post_id":74759239,"comment_id":131945857,"body_markdown":"Thanks, I compared your Github code with mine . I was using incorrect dependency :\nWas using  ```import org.codehaus.jackson.annotate.JsonProperty;``` . Changed to this and is now working\n```import com.fasterxml.jackson.annotation.JsonProperty;```","body":"Thanks, I compared your Github code with mine . I was using incorrect dependency : Was using  <code>import org.codehaus.jackson.annotate.JsonProperty;</code> . Changed to this and is now working <code>import com.fasterxml.jackson.annotation.JsonProperty;</code>"}],"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670746149,"creation_date":1670746149,"answer_id":74759239,"question_id":74752490,"body_markdown":"I have tested the code for `RestTemplate#exchange(URI, HttpMethod, HttpEntity, Class)` with the classes you are expecting and it seems to be working fine with default configurations from Spring. Maybe there are specific configurations that are changing the default behaviour of the jackson mappings?\r\n\r\n\t@GetMapping(&quot;/call-endpoint&quot;)\r\n\tpublic ServiceResponse callEndpoint(){\r\n\t\tResponseEntity&lt;ServiceResponse&gt; response = restTemplate.exchange(\r\n\t\t\t\t&quot;http://localhost:8080/get-payload&quot;,\r\n\t\t\t\tHttpMethod.GET,\r\n\t\t\t\tnull,\r\n\t\t\t\tServiceResponse.class\r\n\t\t);\r\n\r\n\t\tif(response.getBody() != null &amp;&amp; response.getBody().getPayload() != null) {\r\n\t\t\tlog.info(&quot;Email from request: {}&quot;, response.getBody().getPayload().getEmail());\r\n\t\t} else {\r\n\t\t\tlog.error(&quot;Payload is null&quot;);\r\n\t\t}\r\n\r\n\t\treturn response.getBody();\r\n\t}\r\n\r\nLink to [GitHub][1] for the above code.\r\n\r\n\r\n  [1]: https://github.com/atishsungum/stackoverflow/blob/b0f66b9735c5fd2eded4e29503a6ca1479b98ee6/q47245185/src/main/java/com/stackoverflow/q47245185/RestTemplateDemo.java#L39-L55","title":"Getting null values as response in restTemplate call","body":"<p>I have tested the code for <code>RestTemplate#exchange(URI, HttpMethod, HttpEntity, Class)</code> with the classes you are expecting and it seems to be working fine with default configurations from Spring. Maybe there are specific configurations that are changing the default behaviour of the jackson mappings?</p>\n<pre><code>@GetMapping(&quot;/call-endpoint&quot;)\npublic ServiceResponse callEndpoint(){\n    ResponseEntity&lt;ServiceResponse&gt; response = restTemplate.exchange(\n            &quot;http://localhost:8080/get-payload&quot;,\n            HttpMethod.GET,\n            null,\n            ServiceResponse.class\n    );\n\n    if(response.getBody() != null &amp;&amp; response.getBody().getPayload() != null) {\n        log.info(&quot;Email from request: {}&quot;, response.getBody().getPayload().getEmail());\n    } else {\n        log.error(&quot;Payload is null&quot;);\n    }\n\n    return response.getBody();\n}\n</code></pre>\n<p>Link to <a href=\"https://github.com/atishsungum/stackoverflow/blob/b0f66b9735c5fd2eded4e29503a6ca1479b98ee6/q47245185/src/main/java/com/stackoverflow/q47245185/RestTemplateDemo.java#L39-L55\" rel=\"nofollow noreferrer\">GitHub</a> for the above code.</p>\n"}],"owner":{"account_id":7115449,"reputation":55,"user_id":5441925,"display_name":"beskar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74759239,"answer_count":2,"score":0,"last_activity_date":1670746149,"creation_date":1670671627,"question_id":74752490,"body_markdown":"I am making a resttemplate call in springboot application .\r\n*Getting data in response only in &#39;status&#39; field . The parsed object &#39;payload&#39; is having all value as null*\r\n```\r\n{ \r\n   &quot;status&quot;: &quot;OK&quot;,\r\n    &quot;payload&quot;: {\r\n        &quot;Chances&quot;: null,\r\n        &quot;PlainOutput&quot;: null,\r\n        &quot;Email&quot;: null,\r\n        &quot;Display&quot;: null,\r\n        &quot;FromSystem&quot;: null\r\n    }\r\n}\r\n```\r\n\r\nBelow is the response from Postman. It is having all the data. I tried the same in browser and getting similar response. It is an http call.\r\n```\r\n{\r\n    &quot;status&quot;: &quot;OK&quot;,\r\n    &quot;payload&quot;: {\r\n        &quot;Chances&quot;: &quot;verified&quot;,\r\n        &quot;PlainOutput&quot;: &quot;allOk&quot;,\r\n        &quot;Email&quot;: &quot;abc@test.com&quot;,\r\n        &quot;Display&quot;: &quot;OK&quot;,\r\n        &quot;FromSystem&quot;: &quot;N&quot;\r\n    }\r\n}\r\n```\r\nBelow is the restTemplate call:\r\n```\r\nResponseEntity&lt;ServiceResponse&gt; responseEntity = restTemplate.exchange(uriComponents.toUriString(),\r\n                httpMethod,  requestEntity, ServiceResponse.class);\r\n```\r\nThe POJO is as below :\r\n```\r\npublic class ServiceResponse implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    public ServiceResponse(String status, ServicePayload payload) {\r\n        this.status = status;\r\n        this.payload = payload;\r\n    }\r\n\r\n    public ServiceResponse(){\r\n\r\n    }\r\n\r\n    private String status;\r\n\r\n    @JsonProperty(&quot;payload&quot;)\r\n    private ServicePayload payload;\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n\r\n    public ServicePayload getPayload() {\r\n        return payload;\r\n    }\r\n\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public void setPayload(ServicePayload payload) {\r\n        this.payload = payload;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ServicePayload{&quot; +\r\n                &quot;status=&#39;&quot; + status + &#39;\\&#39;&#39; +\r\n                &quot;, payload=&quot; + payload +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonRootName(value = &quot;payload&quot;)\r\npublic class ServicePayload implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    public ServicePayload(){\r\n\r\n    }\r\n    public ServicePayload(String chances, String plainOutput, String email, String display, String fromLocal) {\r\n        this.certainty = certainty;\r\n        this.plainOutput = plainOutput;\r\n        this.email = email;\r\n        this.display = display;\r\n        this.fromLocal = fromLocal;\r\n    }\r\n\r\n    @JsonProperty(&quot;Chances&quot;)\r\n    private String chances;\r\n\r\n    @JsonProperty(&quot;PlainOutput&quot;)\r\n    private String plainOutput;\r\n\r\n    @JsonProperty(&quot;Email&quot;)\r\n    private String email;\r\n\r\n    @JsonProperty(&quot;Display&quot;)\r\n    private String display;\r\n\r\n    @JsonProperty(&quot;FromSystem&quot;)\r\n    private String fromSystem;\r\n\r\n    public void setChances(String chances) {\r\n        this.chances = chances;\r\n    }\r\n\r\n    public void setPlainOutput(String plainOutput) {\r\n        this.plainOutput = plainOutput;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public void setMessage(String display) {\r\n        this.display = display;\r\n    }\r\n\r\n    public void setFromSystem(String fromSystem) {\r\n        this.fromSystem = fromSystem;\r\n    }\r\n\r\n    public String getChances() {\r\n        return chances;\r\n    }\r\n\r\n    public String getVerboseOutput() {\r\n        return plainOutput;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public String getFromSystem() {\r\n        return fromSystem;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ServicePayload{&quot; +\r\n                &quot;chances=&#39;&quot; + chances + &#39;\\&#39;&#39; +\r\n                &quot;, plainOutput=&#39;&quot; + plainOutput + &#39;\\&#39;&#39; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, display=&#39;&quot; + display + &#39;\\&#39;&#39; +\r\n                &quot;, fromSystem=&#39;&quot; + fromSystem + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\nCan you please help what I am doing wrong here.","title":"Getting null values as response in restTemplate call","body":"<p>I am making a resttemplate call in springboot application .\n<em>Getting data in response only in 'status' field . The parsed object 'payload' is having all value as null</em></p>\n<pre><code>{ \n   &quot;status&quot;: &quot;OK&quot;,\n    &quot;payload&quot;: {\n        &quot;Chances&quot;: null,\n        &quot;PlainOutput&quot;: null,\n        &quot;Email&quot;: null,\n        &quot;Display&quot;: null,\n        &quot;FromSystem&quot;: null\n    }\n}\n</code></pre>\n<p>Below is the response from Postman. It is having all the data. I tried the same in browser and getting similar response. It is an http call.</p>\n<pre><code>{\n    &quot;status&quot;: &quot;OK&quot;,\n    &quot;payload&quot;: {\n        &quot;Chances&quot;: &quot;verified&quot;,\n        &quot;PlainOutput&quot;: &quot;allOk&quot;,\n        &quot;Email&quot;: &quot;abc@test.com&quot;,\n        &quot;Display&quot;: &quot;OK&quot;,\n        &quot;FromSystem&quot;: &quot;N&quot;\n    }\n}\n</code></pre>\n<p>Below is the restTemplate call:</p>\n<pre><code>ResponseEntity&lt;ServiceResponse&gt; responseEntity = restTemplate.exchange(uriComponents.toUriString(),\n                httpMethod,  requestEntity, ServiceResponse.class);\n</code></pre>\n<p>The POJO is as below :</p>\n<pre><code>public class ServiceResponse implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    public ServiceResponse(String status, ServicePayload payload) {\n        this.status = status;\n        this.payload = payload;\n    }\n\n    public ServiceResponse(){\n\n    }\n\n    private String status;\n\n    @JsonProperty(&quot;payload&quot;)\n    private ServicePayload payload;\n\n    public String getStatus() {\n        return status;\n    }\n\n\n    public ServicePayload getPayload() {\n        return payload;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public void setPayload(ServicePayload payload) {\n        this.payload = payload;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ServicePayload{&quot; +\n                &quot;status='&quot; + status + '\\'' +\n                &quot;, payload=&quot; + payload +\n                '}';\n    }\n}\n\n</code></pre>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonRootName(value = &quot;payload&quot;)\npublic class ServicePayload implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    public ServicePayload(){\n\n    }\n    public ServicePayload(String chances, String plainOutput, String email, String display, String fromLocal) {\n        this.certainty = certainty;\n        this.plainOutput = plainOutput;\n        this.email = email;\n        this.display = display;\n        this.fromLocal = fromLocal;\n    }\n\n    @JsonProperty(&quot;Chances&quot;)\n    private String chances;\n\n    @JsonProperty(&quot;PlainOutput&quot;)\n    private String plainOutput;\n\n    @JsonProperty(&quot;Email&quot;)\n    private String email;\n\n    @JsonProperty(&quot;Display&quot;)\n    private String display;\n\n    @JsonProperty(&quot;FromSystem&quot;)\n    private String fromSystem;\n\n    public void setChances(String chances) {\n        this.chances = chances;\n    }\n\n    public void setPlainOutput(String plainOutput) {\n        this.plainOutput = plainOutput;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public void setMessage(String display) {\n        this.display = display;\n    }\n\n    public void setFromSystem(String fromSystem) {\n        this.fromSystem = fromSystem;\n    }\n\n    public String getChances() {\n        return chances;\n    }\n\n    public String getVerboseOutput() {\n        return plainOutput;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public String getFromSystem() {\n        return fromSystem;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ServicePayload{&quot; +\n                &quot;chances='&quot; + chances + '\\'' +\n                &quot;, plainOutput='&quot; + plainOutput + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, display='&quot; + display + '\\'' +\n                &quot;, fromSystem='&quot; + fromSystem + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>Can you please help what I am doing wrong here.</p>\n"},{"tags":["java"],"owner":{"account_id":27209329,"reputation":1,"user_id":20740376,"display_name":"Harshit Saraswat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670746414,"answer_count":0,"score":0,"last_activity_date":1670746048,"creation_date":1670746048,"question_id":74759233,"body_markdown":"```\r\npublic class MyFile {\r\n\r\n\tpublic static void main(String[] arga) { \r\n\t       Outer out = new Outer();\r\n\t       System.out.println(out.a.n);\r\n\t} \r\n}\r\n\r\n\r\nclass Outer{\r\n\tObject a =  new Object(){\r\n\t\tpublic int n = 42;\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;hi + &quot; + n;\r\n\t\t}\r\n\t};\r\n\t{\r\n\t\tSystem.out.println(a.n);\r\n\t}\r\n}\r\n```\r\n\r\nIn this code why is n not accessible anywhere? \r\n\r\nI tried to access n as a normal member variable but i cant seem to resolve it anywhere.","title":"I cannot understand how Anonymous Inner Class Fields work","body":"<pre><code>public class MyFile {\n\n    public static void main(String[] arga) { \n           Outer out = new Outer();\n           System.out.println(out.a.n);\n    } \n}\n\n\nclass Outer{\n    Object a =  new Object(){\n        public int n = 42;\n        public String toString() {\n            return &quot;hi + &quot; + n;\n        }\n    };\n    {\n        System.out.println(a.n);\n    }\n}\n</code></pre>\n<p>In this code why is n not accessible anywhere?</p>\n<p>I tried to access n as a normal member variable but i cant seem to resolve it anywhere.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670745697,"post_id":74759049,"comment_id":131941132,"body_markdown":"Given that your tags are never nested a simple `String.split(&quot;\\\\$&quot;)` should get you going, assuming that the values never contain`$`.","body":"Given that your tags are never nested a simple <code>String.split(&quot;\\\\$&quot;)</code> should get you going, assuming that the values never contain<code>$</code>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670755198,"post_id":74759049,"comment_id":131942466,"body_markdown":"Please, share your **attempt** and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) and [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please, share your <b>attempt</b> and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":21760501,"reputation":81,"user_id":16065136,"display_name":"ZRnQ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670745771,"creation_date":1670745771,"answer_id":74759211,"question_id":74759049,"body_markdown":"You can use regex with Positive Lookbehind and Positive Lookahead to implement the extraction of the substring:\r\n\r\n```java\r\npublic String getContent(String input, String start, String end) {\r\n    // Compile a regex pattern for the given start substring and end substring\r\n    Pattern pattern = Pattern.compile(&quot;(?&lt;=&quot; + start + &quot;).*?(?=&quot; + end + &quot;)&quot;);\r\n    // Use the pattern to match input string\r\n    Matcher matcher = pattern.matcher(input);\r\n    if(matcher.find())\r\n        // Matcher.group() returns the matched substring\r\n        return matcher.group();\r\n    return null;\r\n}\r\n```\r\nSample usage (note that we need to escape `$`, since it&#39;s a special symbol in regex):\r\n```java\r\nString input = &quot;-$ErrorCode$-123123-$ErrorCodeEnd$--$Errortext$-Success-$ErrorTextEnd$--$val1$-test160-$val1End$--$LIST1$--$val2$--test1160--$val2End--$List2End$-&quot;;\r\nSystem.out.println(getContent(input, &quot;-\\\\$ErrorCode\\\\$-&quot;, &quot;-\\\\$ErrorCodeEnd\\\\$-&quot;));\r\nSystem.out.println(getContent(input, &quot;-\\\\$Errortext\\\\$-&quot;, &quot;-\\\\$ErrorTextEnd\\\\$-&quot;));\r\nSystem.out.println(getContent(input, &quot;-\\\\$LIST1\\\\$-&quot;, &quot;-\\\\$List2End\\\\$-&quot;));\r\n```\r\nOutput:\r\n```text\r\n123123\r\nSuccess\r\n-$val2$--test1160--$val2End-\r\n```","title":"How to extract Specific part of a string whose starting substring and endsubstring is known but internal string length varies","body":"<p>You can use regex with Positive Lookbehind and Positive Lookahead to implement the extraction of the substring:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getContent(String input, String start, String end) {\n    // Compile a regex pattern for the given start substring and end substring\n    Pattern pattern = Pattern.compile(&quot;(?&lt;=&quot; + start + &quot;).*?(?=&quot; + end + &quot;)&quot;);\n    // Use the pattern to match input string\n    Matcher matcher = pattern.matcher(input);\n    if(matcher.find())\n        // Matcher.group() returns the matched substring\n        return matcher.group();\n    return null;\n}\n</code></pre>\n<p>Sample usage (note that we need to escape <code>$</code>, since it's a special symbol in regex):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;-$ErrorCode$-123123-$ErrorCodeEnd$--$Errortext$-Success-$ErrorTextEnd$--$val1$-test160-$val1End$--$LIST1$--$val2$--test1160--$val2End--$List2End$-&quot;;\nSystem.out.println(getContent(input, &quot;-\\\\$ErrorCode\\\\$-&quot;, &quot;-\\\\$ErrorCodeEnd\\\\$-&quot;));\nSystem.out.println(getContent(input, &quot;-\\\\$Errortext\\\\$-&quot;, &quot;-\\\\$ErrorTextEnd\\\\$-&quot;));\nSystem.out.println(getContent(input, &quot;-\\\\$LIST1\\\\$-&quot;, &quot;-\\\\$List2End\\\\$-&quot;));\n</code></pre>\n<p>Output:</p>\n<pre><code>123123\nSuccess\n-$val2$--test1160--$val2End-\n</code></pre>\n"}],"owner":{"account_id":27216656,"reputation":3,"user_id":20746586,"display_name":"Rahul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1670757013,"accepted_answer_id":74759211,"answer_count":1,"score":-1,"last_activity_date":1670745771,"creation_date":1670743557,"question_id":74759049,"body_markdown":"I have string coming from db whose structure looks like this\r\n\r\n&quot;-$ErrorCode$-0-$ErrorCodeEnd$--$Errortext$-Success-$ErrorTextEnd$--$val1$-test160-$val1End$--$LIST1$--$val2$--test1160--$val2End--$List2End$-&quot;;\r\n\r\nstring  between substring -$tagName$- and -$tagNameEnd$- its length varies and I have to extract that substring and have to store in another string \r\n\r\nEg string between tag -$ErrorCode$- and -$ErrorCodeEnd$- is &quot;0&quot; and i have to store that in string named Error;\r\n\r\nIs there any method to do that in java1.8 code \r\n\r\nNote: string that i have to extract its length varies\r\neg:  ErrorCode which is shown 0 here can be 100000 or 3234324343242 or any thing.\r\neg2: Errortext which is shown success here can be anything like &quot;notFound&quot; or &quot;notExists&quot; or anything\r\n\r\n\r\nI am unable to find any solution right now. do provide the java_code if someone finds the solution of this problem","title":"How to extract Specific part of a string whose starting substring and endsubstring is known but internal string length varies","body":"<p>I have string coming from db whose structure looks like this</p>\n<p>&quot;-$ErrorCode$-0-$ErrorCodeEnd$--$Errortext$-Success-$ErrorTextEnd$--$val1$-test160-$val1End$--$LIST1$--$val2$--test1160--$val2End--$List2End$-&quot;;</p>\n<p>string  between substring -$tagName$- and -$tagNameEnd$- its length varies and I have to extract that substring and have to store in another string</p>\n<p>Eg string between tag -$ErrorCode$- and -$ErrorCodeEnd$- is &quot;0&quot; and i have to store that in string named Error;</p>\n<p>Is there any method to do that in java1.8 code</p>\n<p>Note: string that i have to extract its length varies\neg:  ErrorCode which is shown 0 here can be 100000 or 3234324343242 or any thing.\neg2: Errortext which is shown success here can be anything like &quot;notFound&quot; or &quot;notExists&quot; or anything</p>\n<p>I am unable to find any solution right now. do provide the java_code if someone finds the solution of this problem</p>\n"},{"tags":["java","eclipse","oracle"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1445915573,"post_id":33359333,"comment_id":54514182,"body_markdown":"Is oracle installed and running on your machine?","body":"Is oracle installed and running on your machine?"},{"owner":{"account_id":1963969,"reputation":2728,"user_id":1764693,"accept_rate":100,"display_name":"slipperyseal"},"score":0,"creation_date":1445915825,"post_id":33359333,"comment_id":54514245,"body_markdown":"Also, is the Oracle TNS listener configured and running? your JDBC URL points to localhost so we assume you have all this running on your local machine.","body":"Also, is the Oracle TNS listener configured and running? your JDBC URL points to localhost so we assume you have all this running on your local machine."},{"owner":{"account_id":3748586,"reputation":89,"user_id":3116672,"accept_rate":18,"display_name":"Naseer Ahammed"},"score":0,"creation_date":1445916447,"post_id":33359333,"comment_id":54514405,"body_markdown":"Yeah all these are running my machine I am not able to understand why these errors are @SlipperySeal.","body":"Yeah all these are running my machine I am not able to understand why these errors are @SlipperySeal."},{"owner":{"account_id":1963969,"reputation":2728,"user_id":1764693,"accept_rate":100,"display_name":"slipperyseal"},"score":0,"creation_date":1445917294,"post_id":33359333,"comment_id":54514618,"body_markdown":"The exception is saying that this port is not open on localhost. Can you connect using a JDBC based database tool?  Like DBVisualizer etc.","body":"The exception is saying that this port is not open on localhost. Can you connect using a JDBC based database tool?  Like DBVisualizer etc."},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1445917806,"post_id":33359333,"comment_id":54514768,"body_markdown":"is  telnet localhost 1521 command working?","body":"is  telnet localhost 1521 command working?"},{"owner":{"account_id":3748586,"reputation":89,"user_id":3116672,"accept_rate":18,"display_name":"Naseer Ahammed"},"score":0,"creation_date":1445919252,"post_id":33359333,"comment_id":54515149,"body_markdown":"telnet is not recognized error showing on command prompt @ravindra","body":"telnet is not recognized error showing on command prompt @ravindra"},{"owner":{"account_id":3748586,"reputation":89,"user_id":3116672,"accept_rate":18,"display_name":"Naseer Ahammed"},"score":0,"creation_date":1445919337,"post_id":33359333,"comment_id":54515177,"body_markdown":"I am sorry to say @SlipperySeal that I am first timer I don&#39;t have idea how to use DBVisualizer tool. If you don&#39;t mind share some information on this please.","body":"I am sorry to say @SlipperySeal that I am first timer I don&#39;t have idea how to use DBVisualizer tool. If you don&#39;t mind share some information on this please."},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1445920447,"post_id":33359333,"comment_id":54515457,"body_markdown":"If you are using windows7, this command from commapnd prompt installs telnet : pkgmgr /iu:&quot;TelnetClient&quot;  . (https://technet.microsoft.com/en-us/library/cc771275(v=ws.10).aspx)","body":"If you are using windows7, this command from commapnd prompt installs telnet : pkgmgr /iu:&quot;TelnetClient&quot;  . (<a href=\"https://technet.microsoft.com/en-us/library/cc771275(v=ws.10).aspx\" rel=\"nofollow noreferrer\">technet.microsoft.com/en-us/library/cc771275(v=ws.10).aspx</a>)"},{"owner":{"account_id":3748586,"reputation":89,"user_id":3116672,"accept_rate":18,"display_name":"Naseer Ahammed"},"score":0,"creation_date":1445920725,"post_id":33359333,"comment_id":54515534,"body_markdown":"Should I have grant permissions to connect jdbc","body":"Should I have grant permissions to connect jdbc"},{"owner":{"account_id":3748586,"reputation":89,"user_id":3116672,"accept_rate":18,"display_name":"Naseer Ahammed"},"score":0,"creation_date":1445921438,"post_id":33359333,"comment_id":54515756,"body_markdown":"yeah I installed telnet client on my system","body":"yeah I installed telnet client on my system"},{"owner":{"account_id":3748586,"reputation":89,"user_id":3116672,"accept_rate":18,"display_name":"Naseer Ahammed"},"score":0,"creation_date":1445921859,"post_id":33359333,"comment_id":54515928,"body_markdown":"its working @ravindra","body":"its working @ravindra"},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1445924074,"post_id":33359333,"comment_id":54516723,"body_markdown":"Can you connect with SQL client from your machine with same jdbc url and user name and password?","body":"Can you connect with SQL client from your machine with same jdbc url and user name and password?"},{"owner":{"account_id":3748586,"reputation":89,"user_id":3116672,"accept_rate":18,"display_name":"Naseer Ahammed"},"score":0,"creation_date":1445925208,"post_id":33359333,"comment_id":54517058,"body_markdown":"how to connect to jdbc. I tried from telnet its not connecting. It shows connection failed","body":"how to connect to jdbc. I tried from telnet its not connecting. It shows connection failed"},{"owner":{"account_id":3748586,"reputation":89,"user_id":3116672,"accept_rate":18,"display_name":"Naseer Ahammed"},"score":0,"creation_date":1445925920,"post_id":33359333,"comment_id":54517294,"body_markdown":"@ravindra I can access the sql database from telnet . I did troubleshoot its working normally.","body":"@ravindra I can access the sql database from telnet . I did troubleshoot its working normally."},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1445932584,"post_id":33359333,"comment_id":54520145,"body_markdown":"Try this command from command prompt: sqlplus scott/tiger@localhost:1521/xe","body":"Try this command from command prompt: sqlplus scott/tiger@localhost:1521/xe"},{"owner":{"account_id":3748586,"reputation":89,"user_id":3116672,"accept_rate":18,"display_name":"Naseer Ahammed"},"score":0,"creation_date":1445932706,"post_id":33359333,"comment_id":54520208,"body_markdown":"yes I am connected to database now. I can access sql now. Then what is the problem with java","body":"yes I am connected to database now. I can access sql now. Then what is the problem with java"}],"answers":[{"comments":[{"owner":{"account_id":3748586,"reputation":89,"user_id":3116672,"accept_rate":18,"display_name":"Naseer Ahammed"},"score":0,"creation_date":1445954820,"post_id":33365568,"comment_id":54534815,"body_markdown":"Its showing  java.sql.SQLException: invalid arguments in call error","body":"Its showing  java.sql.SQLException: invalid arguments in call error"},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1445954991,"post_id":33365568,"comment_id":54534952,"body_markdown":"Can you post code snippet and line number? Is it the same line?","body":"Can you post code snippet and line number? Is it the same line?"},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1445955458,"post_id":33365568,"comment_id":54535263,"body_markdown":"https://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html for sample reference. is xe is SID of your database?","body":"<a href=\"https://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/&hellip;</a> for sample reference. is xe is SID of your database?"},{"owner":{"account_id":3748586,"reputation":89,"user_id":3116672,"accept_rate":18,"display_name":"Naseer Ahammed"},"score":0,"creation_date":1445955495,"post_id":33365568,"comment_id":54535298,"body_markdown":"I have already above same code no changes in the code. errors are as follows  \njava.sql.SQLException: invalid arguments in call\nFailed to connect to DB\n\tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\nat JDBCExample.main(JDBCExample.java:22)","body":"I have already above same code no changes in the code. errors are as follows   java.sql.SQLException: invalid arguments in call Failed to connect to DB \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseE&zwnj;&#8203;rror.java:112) at JDBCExample.main(JDBCExample.java:22)"},{"owner":{"account_id":3748586,"reputation":89,"user_id":3116672,"accept_rate":18,"display_name":"Naseer Ahammed"},"score":0,"creation_date":1445960757,"post_id":33365568,"comment_id":54539241,"body_markdown":"Thanks @ravindra I got it. Program executed successfully. Thank you for your help.","body":"Thanks @ravindra I got it. Program executed successfully. Thank you for your help."}],"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1445955435,"creation_date":1445942003,"answer_id":33365568,"question_id":33359333,"body_markdown":"From our conversation, you are able to telnet &amp; connect to database from command prompt. After going through jdbcurl, I have found the error.\r\n\r\n**localhost:1521/xe** should be **localhost:1521:xe** if xe is SID for your database.\r\n\r\nChange this code from \r\n\r\n    conn = DriverManager.getConnection(\r\n                    &quot;jdbc:oracle:thin:@localhost:1521/xe&quot;, &quot;scott&quot;, &quot;tiger&quot;);\r\n\r\nTo\r\n\r\n    conn = DriverManager.getConnection(\r\n                    &quot;jdbc:oracle:thin:@localhost:1521:xe&quot;, &quot;scott&quot;, &quot;tiger&quot;);\r\n\r\nHave a look at this [article][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html","title":"java.sql.SQLException: IO Exception : The Network adapter could not establish the connection?","body":"<p>From our conversation, you are able to telnet &amp; connect to database from command prompt. After going through jdbcurl, I have found the error.</p>\n\n<p><strong>localhost:1521/xe</strong> should be <strong>localhost:1521:xe</strong> if xe is SID for your database.</p>\n\n<p>Change this code from </p>\n\n<pre><code>conn = DriverManager.getConnection(\n                \"jdbc:oracle:thin:@localhost:1521/xe\", \"scott\", \"tiger\");\n</code></pre>\n\n<p>To</p>\n\n<pre><code>conn = DriverManager.getConnection(\n                \"jdbc:oracle:thin:@localhost:1521:xe\", \"scott\", \"tiger\");\n</code></pre>\n\n<p>Have a look at this <a href=\"https://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html\" rel=\"nofollow\">article</a></p>\n"},{"comments":[{"owner":{"account_id":1796955,"reputation":2964,"user_id":1636173,"accept_rate":100,"display_name":"Giulio Caccin"},"score":1,"creation_date":1564918199,"post_id":57346042,"comment_id":101180229,"body_markdown":"on the stack trace it&#39;s clear that `oracle.jdbc.driver.OracleDriver` is there and it&#39;s used.","body":"on the stack trace it&#39;s clear that <code>oracle.jdbc.driver.OracleDriver</code> is there and it&#39;s used."}],"tags":[],"owner":{"account_id":16445431,"reputation":1,"user_id":11880364,"display_name":"nihal"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1564918243,"creation_date":1564916869,"answer_id":57346042,"question_id":33359333,"body_markdown":"You are missing import oracle.jdbc.driver.OracleDriver ","title":"java.sql.SQLException: IO Exception : The Network adapter could not establish the connection?","body":"<p>You are missing import oracle.jdbc.driver.OracleDriver </p>\n"},{"tags":[],"owner":{"account_id":24260590,"reputation":1,"user_id":18210200,"display_name":"Jason"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644906204,"creation_date":1644906204,"answer_id":71121897,"question_id":33359333,"body_markdown":"Start the oracle listener service from services.msc","title":"java.sql.SQLException: IO Exception : The Network adapter could not establish the connection?","body":"<p>Start the oracle listener service from services.msc</p>\n"}],"owner":{"account_id":3748586,"reputation":89,"user_id":3116672,"accept_rate":18,"display_name":"Naseer Ahammed"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33365568,"answer_count":3,"score":0,"last_activity_date":1670745248,"creation_date":1445915505,"question_id":33359333,"body_markdown":"Hi I am trying to connect with Oracle 11g database using ojdbc14 jar on eclipse kepler with java 8 on windows 7 os. But when I am running the code I am getting the following error. Here is my and the errors accordingly.\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    import java.util.Scanner;\r\n\r\n        public class JDBCExample {\r\n\t      public static void main(String[] args) {\r\n\t\t   Scanner sc = new Scanner(System.in);\r\n\t\t   System.out.println(&quot;enter your databse details&quot;);\r\n\t\t   System.out.println(&quot;user name&quot;);\r\n\t\t   String uName = sc.next();\r\n\t\t   System.out.println(&quot;password&quot;);\r\n\t\t   String pWord = sc.next();\r\n\t\t   try {\r\n\t\t\t  Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\t\t   } catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t   }\r\n\t\t   Connection conn = null;\r\n\t\t   try {\r\n\t\t\tconn = DriverManager.getConnection(\r\n\t\t\t\t\t&quot;jdbc:oracle:thin:@localhost:1521:orcl&quot;, &quot;scott&quot;, &quot;tiger&quot;);\r\n\t\t\t// jdbc:oracle:thin:@server:1521:xe\r\n\t\t   } catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t   }\r\n\t\t   if (conn != null) {\r\n\t\t\tSystem.out.println(&quot;Successfully connected to DB&quot;);\r\n\t\t    } else {\r\n\t\t\tSystem.out.println(&quot;Failed to connect to DB&quot;);\r\n\t\t   }\r\n\t   }\r\n    }\r\n\r\n\r\nAnd the Errors are as follows.\r\n`java.sql.SQLException: Io exception: The Network Adapter could not establish the connection\r\n\tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\r\n\tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\r\n\tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)\r\n\tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:387)\r\n\tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:414)\r\n\tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\r\n\tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\r\n\tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\r\n\tat java.sql.DriverManager.getConnection(Unknown Source)\r\n\tat java.sql.DriverManager.getConnection(Unknown Source)\r\n\tat JDBCExample.main(JDBCExample.java:23)`","title":"java.sql.SQLException: IO Exception : The Network adapter could not establish the connection?","body":"<p>Hi I am trying to connect with Oracle 11g database using ojdbc14 jar on eclipse kepler with java 8 on windows 7 os. But when I am running the code I am getting the following error. Here is my and the errors accordingly.</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.Scanner;\n\n    public class JDBCExample {\n      public static void main(String[] args) {\n       Scanner sc = new Scanner(System.in);\n       System.out.println(\"enter your databse details\");\n       System.out.println(\"user name\");\n       String uName = sc.next();\n       System.out.println(\"password\");\n       String pWord = sc.next();\n       try {\n          Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n       } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n       }\n       Connection conn = null;\n       try {\n        conn = DriverManager.getConnection(\n                \"jdbc:oracle:thin:@localhost:1521:orcl\", \"scott\", \"tiger\");\n        // jdbc:oracle:thin:@server:1521:xe\n       } catch (SQLException e) {\n        e.printStackTrace();\n       }\n       if (conn != null) {\n        System.out.println(\"Successfully connected to DB\");\n        } else {\n        System.out.println(\"Failed to connect to DB\");\n       }\n   }\n}\n</code></pre>\n\n<p>And the Errors are as follows.\n<code>java.sql.SQLException: Io exception: The Network Adapter could not establish the connection\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:387)\n    at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:414)\n    at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at JDBCExample.main(JDBCExample.java:23)</code></p>\n"},{"tags":["java","lambda","java-stream"],"comments":[{"owner":{"account_id":7242133,"reputation":1472,"user_id":5525384,"accept_rate":33,"display_name":"Paul"},"score":0,"creation_date":1563200363,"post_id":57041503,"comment_id":100611071,"body_markdown":"Possible duplicate of [Java 8 Lambda function that throws exception?](https://stackoverflow.com/questions/57041503/use-of-lamda-expression-in-java-8#57041503)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/57041503/use-of-lamda-expression-in-java-8#57041503\">Java 8 Lambda function that throws exception?</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1563200569,"post_id":57041503,"comment_id":100611206,"body_markdown":"@Paul - it is an unchecked exception, so there are no problems throwing it.","body":"@Paul - it is an unchecked exception, so there are no problems throwing it."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1563200646,"post_id":57041503,"comment_id":100611252,"body_markdown":"By the way, you can&#39;t compare `BigInteger` using `&lt;`","body":"By the way, you can&#39;t compare <code>BigInteger</code> using <code>&lt;</code>"},{"owner":{"account_id":7242133,"reputation":1472,"user_id":5525384,"accept_rate":33,"display_name":"Paul"},"score":0,"creation_date":1563200745,"post_id":57041503,"comment_id":100611306,"body_markdown":"Okay, so `customers.getCUSTOMER().stream().filter(c -&gt; c.getINCOME().getGROSSMONTH1().toBigInteger().compareTo(c.getINCOME().getNETTSALMONTH1().toBigInteger()) == -1).findAny().ifPresent(c -&gt; { throw new RuntimeException(); });` should be enough.","body":"Okay, so <code>customers.getCUSTOMER().stream().filter(c -&gt; c.getINCOME().getGROSSMONTH1().toBigInteger().compareTo(c.ge&zwnj;&#8203;tINCOME().getNETTSAL&zwnj;&#8203;MONTH1().toBigIntege&zwnj;&#8203;r()) == -1).findAny().ifPresent(c -&gt; { throw new RuntimeException(); });</code> should be enough."},{"owner":{"account_id":9856354,"reputation":17,"user_id":7300717,"display_name":"mrobi"},"score":0,"creation_date":1563200818,"post_id":57041503,"comment_id":100611356,"body_markdown":"@StephenC i first convert them to integer then use &lt;, What is the nice way to check if greater than using BigInteger","body":"@StephenC i first convert them to integer then use &lt;, What is the nice way to check if greater than using BigInteger"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1563201649,"post_id":57041503,"comment_id":100611868,"body_markdown":"Use the compareTo method.   But do you really need to use `BigInteger` at all?   Are you really expecting to support incomes &gt; `9.223372e+18` cents?","body":"Use the compareTo method.   But do you really need to use <code>BigInteger</code> at all?   Are you really expecting to support incomes &gt; <code>9.223372e+18</code> cents?"}],"answers":[{"tags":[],"owner":{"account_id":13426653,"reputation":643,"user_id":9687785,"display_name":"omoshiroiii"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563200378,"creation_date":1563200378,"answer_id":57041751,"question_id":57041503,"body_markdown":"    customers.getCUSTOMER().stream().forEach(customer -&gt; {\r\n        if(customer.getINCOME().getGROSSMONTH1().toBigInteger() &lt; customer.getINCOME().getNETTSALMONTH1().toBigInteger()){\r\n          log.error(&quot;&quot;);\r\n          throw new RuntimeException();\r\n        }\r\n    });\r\n\r\nYou should also try renaming your methods using camelcase, e.g getIncome() to make it easier to read and conform to normal Java writing standards. ","title":"Use of lambda expression in java 8","body":"<pre><code>customers.getCUSTOMER().stream().forEach(customer -&gt; {\n    if(customer.getINCOME().getGROSSMONTH1().toBigInteger() &lt; customer.getINCOME().getNETTSALMONTH1().toBigInteger()){\n      log.error(\"\");\n      throw new RuntimeException();\n    }\n});\n</code></pre>\n\n<p>You should also try renaming your methods using camelcase, e.g getIncome() to make it easier to read and conform to normal Java writing standards. </p>\n"},{"tags":[],"owner":{"account_id":5656139,"reputation":13,"user_id":11786959,"display_name":"tony2011"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563200806,"creation_date":1563200401,"answer_id":57041760,"question_id":57041503,"body_markdown":"    customers.getCUSTOMER().forEach(customer -&gt; {\r\n            if (customer.getINCOME().getGROSSMONTH1().toBigInteger() &lt; \r\n                 customer.getINCOME().getNETTSALMONTH1().toBigInteger()) {\r\n                log.error(&quot;&quot;)\r\n                throw new RuntimeException();\r\n            }\r\n     });\r\n\r\nA simple way\r\n\r\nAnother way using stream and Optional:\r\n\r\n      customers.stream().filter(customer -&gt;    \r\n                customer.getINCOME().getGROSSMONTH1().toBigInteger() &lt; \r\n                 customer.getINCOME().getNETTSALMONTH1().toBigInteger())\r\n           .findAny().ifPresent(c -&gt; {\r\n               log.error(&quot;&quot;)\r\n               throw new RuntimeException();\r\n\t\t});;\r\n\r\n \r\n\r\n\r\n\r\n     ","title":"Use of lambda expression in java 8","body":"<pre><code>customers.getCUSTOMER().forEach(customer -&gt; {\n        if (customer.getINCOME().getGROSSMONTH1().toBigInteger() &lt; \n             customer.getINCOME().getNETTSALMONTH1().toBigInteger()) {\n            log.error(\"\")\n            throw new RuntimeException();\n        }\n });\n</code></pre>\n\n<p>A simple way</p>\n\n<p>Another way using stream and Optional:</p>\n\n<pre><code>  customers.stream().filter(customer -&gt;    \n            customer.getINCOME().getGROSSMONTH1().toBigInteger() &lt; \n             customer.getINCOME().getNETTSALMONTH1().toBigInteger())\n       .findAny().ifPresent(c -&gt; {\n           log.error(\"\")\n           throw new RuntimeException();\n    });;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1563202064,"creation_date":1563200744,"answer_id":57041862,"question_id":57041503,"body_markdown":"You are iterating over the elements of `customers.getCUSTOMER()`, which appears to be a `List` (and I assume for the purposes of this answer that it is one).  Presumably, then, you&#39;re going to process that list&#39;s stream:\r\n\r\n    customers.getCUSTOMER().stream()\r\n\r\nyou&#39;re using the `getINCOME()` of each element twice, and not any other aspect of it at all, so perhaps you want to map elements via that method.  Supposing that the elements of the customer list are of type `Customer`, that might be\r\n\r\n            .map(Customer::getINCOME)\r\n\r\nThere are various ways to go from there, but since you&#39;re throwing an exception when a condition is satisfied, I&#39;d personally go with `Stream.anyMatch()`:\r\n\r\n            .anyMatch(x -&gt; x.getGROSSMONTH1().toBigInteger().compareTo(\r\n                    x.getNETTSALMONTH1().toBigInteger()) &lt; 0)\r\n\r\nThat produces a boolean result that tells you whether any element satisfies the condition, and it stops looking as soon as it finds one that does (and the predicate for the `anyMatch()` is a lambda).  You would use it in an `if` expression similar to the one you have now:\r\n\r\n    if (customers.getCUSTOMER().stream()\r\n            .map(Customer::getINCOME)\r\n            .anyMatch(x -&gt; x.getGROSSMONTH1().toBigInteger().compareTo(\r\n                    x.getNETTSALMONTH1().toBigInteger()) &lt; 0) {\r\n        log.error(&quot;&quot;)\r\n        throw new RuntimeException();\r\n    }\r\n\r\nSince you&#39;re throwing a `RuntimeException`, it would also be possible to do that with a lambda, inside the stream, but that&#39;s *not* generally possible if you&#39;re throwing a checked exception.  In the checked-exception case, something along the lines presented here is usually needful.\r\n\r\nOn the other hand, if you want to log information about the element that failed then you would need to do that inside the stream.  Additionally, in that case you might want to skip the `map()`.  You could instead `filter()` based on the predicate, and `findFirst()` among the elements, if any, remaining (or `findAny()` if you don&#39;t care whether it&#39;s the first that you report on). The result is an `Optional`, which you can process, if present, with another lambda:\r\n\r\n    customers.getCUSTOMER().stream()\r\n            .filter(x -&gt; x.getINCOME().getGROSSMONTH1().toBigInteger().compareTo(\r\n                    x.getINCOME().getNETTSALMONTH1().toBigInteger()) &lt; 0)\r\n            .findFirst()\r\n            .ifPresent(x -&gt; {\r\n                log.error(x.getName() + &quot; invalid: net salary is larger than gross&quot;)\r\n                throw new RuntimeException();\r\n            });\r\n\r\nNote that this does not solve the checked-exception problem.  You cannot throw a checked exception from inside the `ifPresent` lambda.","title":"Use of lambda expression in java 8","body":"<p>You are iterating over the elements of <code>customers.getCUSTOMER()</code>, which appears to be a <code>List</code> (and I assume for the purposes of this answer that it is one).  Presumably, then, you're going to process that list's stream:</p>\n\n<pre><code>customers.getCUSTOMER().stream()\n</code></pre>\n\n<p>you're using the <code>getINCOME()</code> of each element twice, and not any other aspect of it at all, so perhaps you want to map elements via that method.  Supposing that the elements of the customer list are of type <code>Customer</code>, that might be</p>\n\n<pre><code>        .map(Customer::getINCOME)\n</code></pre>\n\n<p>There are various ways to go from there, but since you're throwing an exception when a condition is satisfied, I'd personally go with <code>Stream.anyMatch()</code>:</p>\n\n<pre><code>        .anyMatch(x -&gt; x.getGROSSMONTH1().toBigInteger().compareTo(\n                x.getNETTSALMONTH1().toBigInteger()) &lt; 0)\n</code></pre>\n\n<p>That produces a boolean result that tells you whether any element satisfies the condition, and it stops looking as soon as it finds one that does (and the predicate for the <code>anyMatch()</code> is a lambda).  You would use it in an <code>if</code> expression similar to the one you have now:</p>\n\n<pre><code>if (customers.getCUSTOMER().stream()\n        .map(Customer::getINCOME)\n        .anyMatch(x -&gt; x.getGROSSMONTH1().toBigInteger().compareTo(\n                x.getNETTSALMONTH1().toBigInteger()) &lt; 0) {\n    log.error(\"\")\n    throw new RuntimeException();\n}\n</code></pre>\n\n<p>Since you're throwing a <code>RuntimeException</code>, it would also be possible to do that with a lambda, inside the stream, but that's <em>not</em> generally possible if you're throwing a checked exception.  In the checked-exception case, something along the lines presented here is usually needful.</p>\n\n<p>On the other hand, if you want to log information about the element that failed then you would need to do that inside the stream.  Additionally, in that case you might want to skip the <code>map()</code>.  You could instead <code>filter()</code> based on the predicate, and <code>findFirst()</code> among the elements, if any, remaining (or <code>findAny()</code> if you don't care whether it's the first that you report on). The result is an <code>Optional</code>, which you can process, if present, with another lambda:</p>\n\n<pre><code>customers.getCUSTOMER().stream()\n        .filter(x -&gt; x.getINCOME().getGROSSMONTH1().toBigInteger().compareTo(\n                x.getINCOME().getNETTSALMONTH1().toBigInteger()) &lt; 0)\n        .findFirst()\n        .ifPresent(x -&gt; {\n            log.error(x.getName() + \" invalid: net salary is larger than gross\")\n            throw new RuntimeException();\n        });\n</code></pre>\n\n<p>Note that this does not solve the checked-exception problem.  You cannot throw a checked exception from inside the <code>ifPresent</code> lambda.</p>\n"},{"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563201101,"creation_date":1563201101,"answer_id":57041963,"question_id":57041503,"body_markdown":"By using java-8 streams, use `filter` for condition and `findFirst` to terminate after one match\r\n\r\n    customers.getCUSTOMER().stream()\r\n\t\t                   .filter(c-&gt;c.getINCOME().getGROSSMONTH1().toBigInteger() &lt; c.getINCOME().getNETTSALMONTH1().toBigInteger())\r\n\t\t                   .findFirst()\r\n\t\t                   .ifPresent(cu-&gt;{\r\n\t\t                    \t   log.error(&quot;&quot;)\r\n     \t\t       \t\t\t       throw new RuntimeException();\r\n\t\t                       });","title":"Use of lambda expression in java 8","body":"<p>By using java-8 streams, use <code>filter</code> for condition and <code>findFirst</code> to terminate after one match</p>\n\n<pre><code>customers.getCUSTOMER().stream()\n                       .filter(c-&gt;c.getINCOME().getGROSSMONTH1().toBigInteger() &lt; c.getINCOME().getNETTSALMONTH1().toBigInteger())\n                       .findFirst()\n                       .ifPresent(cu-&gt;{\n                               log.error(\"\")\n                               throw new RuntimeException();\n                           });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563224057,"creation_date":1563224057,"answer_id":57047073,"question_id":57041503,"body_markdown":"What you need in this case is a `BiPredicate&lt;TypeOfMonths&gt;` which will look like this\r\n\r\n    BiPredicate&lt;TypeOfMonths&gt; biPredicate = (tom1, tom2) -&gt; tom1.toBigInteger() &lt; tom2.toBigInteger();\r\n    \r\nThen use it like this\r\n\r\n    boolean shouldThrowException = customers.getCUSTOMER()\r\n                                            .stream()\r\n                                            .anyMatch(cust -&gt; {\r\n                                                TypeOfMonth tom1 = getINCOME().getGROSSMONTH1();\r\n                                                TypeOfMonth tom2 = getINCOME()..getNETTSALMONTH1();\r\n                                                return biPredicate.test(tom1, tom2);\r\n                                            });\r\n\r\n    if (shouldThrowException) {\r\n        log.error(&quot;&quot;);\r\n        throw new RuntimeException();\r\n    }\r\n\r\n    ","title":"Use of lambda expression in java 8","body":"<p>What you need in this case is a <code>BiPredicate&lt;TypeOfMonths&gt;</code> which will look like this</p>\n\n<pre><code>BiPredicate&lt;TypeOfMonths&gt; biPredicate = (tom1, tom2) -&gt; tom1.toBigInteger() &lt; tom2.toBigInteger();\n</code></pre>\n\n<p>Then use it like this</p>\n\n<pre><code>boolean shouldThrowException = customers.getCUSTOMER()\n                                        .stream()\n                                        .anyMatch(cust -&gt; {\n                                            TypeOfMonth tom1 = getINCOME().getGROSSMONTH1();\n                                            TypeOfMonth tom2 = getINCOME()..getNETTSALMONTH1();\n                                            return biPredicate.test(tom1, tom2);\n                                        });\n\nif (shouldThrowException) {\n    log.error(\"\");\n    throw new RuntimeException();\n}\n</code></pre>\n"}],"owner":{"account_id":9856354,"reputation":17,"user_id":7300717,"display_name":"mrobi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":57041862,"answer_count":5,"score":-2,"last_activity_date":1670745012,"creation_date":1563199615,"question_id":57041503,"body_markdown":"I want to refactor this code to use lambda expression java 8\r\n```java\r\nfor(int i = 0; i &lt; customers.getCUSTOMER().size(); i++){\r\n   if (customers.getCUSTOMER().get(i).getINCOME().getGROSSMONTH1().toBigInteger()\r\n     &lt; customers.getCUSTOMER().get(i).getINCOME().getNETTSALMONTH1().toBigInteger()){\r\n    \r\n        log.error(&quot;&quot;)\r\n        throw new RuntimeException();\r\n   }\r\n}\r\n```","title":"Use of lambda expression in java 8","body":"<p>I want to refactor this code to use lambda expression java 8</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>for(int i = 0; i &lt; customers.getCUSTOMER().size(); i++){\n   if (customers.getCUSTOMER().get(i).getINCOME().getGROSSMONTH1().toBigInteger()\n     &lt; customers.getCUSTOMER().get(i).getINCOME().getNETTSALMONTH1().toBigInteger()){\n\n        log.error(\"\")\n        throw new RuntimeException();\n   }\n}\n</code></pre>\n"},{"tags":["java","android-studio","kotlin"],"owner":{"account_id":20891675,"reputation":1,"user_id":15346902,"display_name":"mrp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1670744858,"creation_date":1670744858,"question_id":74759140,"body_markdown":"I want to run the Android Studio project, but the following error is given :\r\n\r\n\r\n\r\n\r\nerror :\r\n`Caused by:org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n\r\n\r\nNo cached version of androidx.exifinterface:exifinterface:1.3.3 available for offline mode.\r\nDisable Gradle &#39;offline mode&#39; and sync project`","title":"error No cached version of androidx.exifinterface:exifinterface:1.3.3 android studio","body":"<p>I want to run the Android Studio project, but the following error is given :</p>\n<p>error :\n`Caused by:org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':app:debugRuntimeClasspath'.</p>\n<p>No cached version of androidx.exifinterface:exifinterface:1.3.3 available for offline mode.\nDisable Gradle 'offline mode' and sync project`</p>\n"},{"tags":["java","jpa","spring-data"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1670795821,"post_id":74759104,"comment_id":131950633,"body_markdown":"No. JPA providers (some anyway) can batch insert objects into a single statement, but if you want to control the SQL, you&#39;ll have to write your own prepared statements yourself.","body":"No. JPA providers (some anyway) can batch insert objects into a single statement, but if you want to control the SQL, you&#39;ll have to write your own prepared statements yourself."},{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":0,"creation_date":1671344181,"post_id":74759104,"comment_id":132077065,"body_markdown":"i think its better to create a list of your entity and then save that list","body":"i think its better to create a list of your entity and then save that list"}],"owner":{"account_id":15948987,"reputation":429,"user_id":11508787,"display_name":"Taras"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670744359,"creation_date":1670744359,"question_id":74759104,"body_markdown":"I have a `List&lt;Integer&gt; ids` and a `Integer singleId`. Is there a way to make `INSERT INTO TABLE VALUES()` for a lot of values using spring data JPA `@Query()`?\r\nI need something like:\r\n\r\n    INSERT INTO TABLE \r\n        VALUES(ids[0], singleId),\r\n        VALUES(ids[1], singleId),\r\n        VALUES(ids[2], singleId),\r\n        ...\r\n","title":"Spring Data JPA Query: Insert List Of Values","body":"<p>I have a <code>List&lt;Integer&gt; ids</code> and a <code>Integer singleId</code>. Is there a way to make <code>INSERT INTO TABLE VALUES()</code> for a lot of values using spring data JPA <code>@Query()</code>?\nI need something like:</p>\n<pre><code>INSERT INTO TABLE \n    VALUES(ids[0], singleId),\n    VALUES(ids[1], singleId),\n    VALUES(ids[2], singleId),\n    ...\n</code></pre>\n"},{"tags":["java","confluence"],"answers":[{"tags":[],"owner":{"account_id":1692805,"reputation":131,"user_id":1554854,"display_name":"grzegorz.kosciolek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474990946,"creation_date":1474990946,"answer_id":39728946,"question_id":38448506,"body_markdown":"[Atlassian documentation][1] lists the following causes of this problem:\r\n\r\n 1. The user running Confluence does not have write permissions to the home folder defined in `&lt;install&gt;/confluence/WEB-INF/classes/confluence-init.properties` or the install directory.\r\n 2. You are running Confluence as the `root` user or if you have an application firewall enabled (SeLinux or AppArmor).\r\n 3. The database driver is not located in the `&lt;install&gt;/confluence/WEB-INF/lib` folder or you are using a database version that is incompatible with the bundled driver. \r\n 4. The hostname of the server can not be resolved.\r\n\r\nIn my case I was running it as root user inside docker container. \r\n\r\n\r\n  [1]: https://confluence.atlassian.com/confkb/confluence-does-not-start-due-to-spring-application-context-has-not-been-set-218278311.html","title":"Confluence configuration Spring Application context has not been set","body":"<p><a href=\"https://confluence.atlassian.com/confkb/confluence-does-not-start-due-to-spring-application-context-has-not-been-set-218278311.html\" rel=\"nofollow\">Atlassian documentation</a> lists the following causes of this problem:</p>\n\n<ol>\n<li>The user running Confluence does not have write permissions to the home folder defined in <code>&lt;install&gt;/confluence/WEB-INF/classes/confluence-init.properties</code> or the install directory.</li>\n<li>You are running Confluence as the <code>root</code> user or if you have an application firewall enabled (SeLinux or AppArmor).</li>\n<li>The database driver is not located in the <code>&lt;install&gt;/confluence/WEB-INF/lib</code> folder or you are using a database version that is incompatible with the bundled driver. </li>\n<li>The hostname of the server can not be resolved.</li>\n</ol>\n\n<p>In my case I was running it as root user inside docker container. </p>\n"},{"comments":[{"owner":{"account_id":2186700,"reputation":684,"user_id":1934959,"display_name":"helder.tavares.silva"},"score":0,"creation_date":1506705763,"post_id":40332623,"comment_id":79942286,"body_markdown":"10 years. It&#39;s still a bug.","body":"10 years. It&#39;s still a bug."}],"tags":[],"owner":{"account_id":360077,"reputation":7679,"user_id":701869,"accept_rate":70,"display_name":"Pavel Kovalev"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670744008,"creation_date":1477854771,"answer_id":40332623,"question_id":38448506,"body_markdown":"In my case the issue was corrupted **confluence.cfg.xml** file (contains DB connection stings and other settings). The file size was 0 bytes.\r\n\r\nI would suggest to use a VM to create a new installation and borrow confluence.cfg.xml from that installation.\r\n\r\nIt&#39;s embarrassing that this behavior has been allowed to exist for nearly 7 years in a commercial product. This is a basic stuff...\r\n\r\nI wish that was on instructions somewhere:\r\n[Make single backup copy of confluence.cfg.xml immediately before any writes to it by the application. Application should be able to restore from backed up copy if it gets corrupted.][1]\r\n\r\n\r\n  [1]: https://jira.atlassian.com/browse/CONF-8898","title":"Confluence configuration Spring Application context has not been set","body":"<p>In my case the issue was corrupted <strong>confluence.cfg.xml</strong> file (contains DB connection stings and other settings). The file size was 0 bytes.</p>\n<p>I would suggest to use a VM to create a new installation and borrow confluence.cfg.xml from that installation.</p>\n<p>It's embarrassing that this behavior has been allowed to exist for nearly 7 years in a commercial product. This is a basic stuff...</p>\n<p>I wish that was on instructions somewhere:\n<a href=\"https://jira.atlassian.com/browse/CONF-8898\" rel=\"nofollow noreferrer\">Make single backup copy of confluence.cfg.xml immediately before any writes to it by the application. Application should be able to restore from backed up copy if it gets corrupted.</a></p>\n"}],"owner":{"account_id":2925865,"reputation":175,"user_id":2507194,"accept_rate":24,"display_name":"user2507194"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7951,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1670744008,"creation_date":1468894164,"question_id":38448506,"body_markdown":"I tried to install confluence on my own ubuntu server, but always failed. The error is:\r\n\r\n    com.atlassian.util.concurrent.LazyReference$InitializationException: java.lang.IllegalStateException: Spring Application context has not been set\r\n    at com.atlassian.util.concurrent.LazyReference.getInterruptibly(LazyReference.java:149)\r\n\r\n    caused by: java.lang.IllegalStateException: Spring Application context has not been set\r\n    at com.atlassian.spring.container.SpringContainerContext.getComponent(SpringContainerContext.java:48)\r\n\r\nI saw some solutions in the jira confluence forum saying try to fix the permission of installed directory and home directory. I tried but failed again. How can I fix the problem.\r\n","title":"Confluence configuration Spring Application context has not been set","body":"<p>I tried to install confluence on my own ubuntu server, but always failed. The error is:</p>\n\n<pre><code>com.atlassian.util.concurrent.LazyReference$InitializationException: java.lang.IllegalStateException: Spring Application context has not been set\nat com.atlassian.util.concurrent.LazyReference.getInterruptibly(LazyReference.java:149)\n\ncaused by: java.lang.IllegalStateException: Spring Application context has not been set\nat com.atlassian.spring.container.SpringContainerContext.getComponent(SpringContainerContext.java:48)\n</code></pre>\n\n<p>I saw some solutions in the jira confluence forum saying try to fix the permission of installed directory and home directory. I tried but failed again. How can I fix the problem.</p>\n"},{"tags":["java","binary-search-tree","linear-search"],"comments":[{"owner":{"account_id":26896439,"reputation":151,"user_id":20474278,"display_name":"m3ow"},"score":1,"creation_date":1670660582,"post_id":74751372,"comment_id":131928441,"body_markdown":"You first need to format your code properly; with proper indentation, you have an excess `}` on the class `MainTester`. Maybe in that way, the problem would be much clearer to you.","body":"You first need to format your code properly; with proper indentation, you have an excess <code>}</code> on the class <code>MainTester</code>. Maybe in that way, the problem would be much clearer to you."},{"owner":{"account_id":26896439,"reputation":151,"user_id":20474278,"display_name":"m3ow"},"score":0,"creation_date":1670660923,"post_id":74751372,"comment_id":131928492,"body_markdown":"Your class `Search` method `binarySearch` throws a java.lang.ArrayIndexOutOfBoundsException error.","body":"Your class <code>Search</code> method <code>binarySearch</code> throws a java.lang.ArrayIndexOutOfBoundsException error."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1670661079,"post_id":74751372,"comment_id":131928505,"body_markdown":"The formatting is for your understanding, not for the compiler. What errors do you get? What actually is the problem?","body":"The formatting is for your understanding, not for the compiler. What errors do you get? What actually is the problem?"},{"owner":{"account_id":23507327,"reputation":41,"user_id":17556390,"display_name":"Calvin"},"score":0,"creation_date":1670664076,"post_id":74751372,"comment_id":131928866,"body_markdown":"I have updated a picture to show the errors I am getting when I run the main, my linear search was successful, but the binary search is not and when I add the test for the binary and run those are the errors I get.","body":"I have updated a picture to show the errors I am getting when I run the main, my linear search was successful, but the binary search is not and when I add the test for the binary and run those are the errors I get."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1670664127,"post_id":74751372,"comment_id":131928875,"body_markdown":"That is a badly designed assignment. It is counter-intuitive to be *&quot;creating an object from the Search class&quot;*, when those methods really use no state from that class.","body":"That is a badly designed assignment. It is counter-intuitive to be <i>&quot;creating an object from the Search class&quot;</i>, when those methods really use no state from that class."},{"owner":{"account_id":23507327,"reputation":41,"user_id":17556390,"display_name":"Calvin"},"score":0,"creation_date":1670664552,"post_id":74751372,"comment_id":131928940,"body_markdown":"@trincot if I take out the object Search from the main I get errors on one of my line &quot;int result = binary.binarySearch(arr3, 0, n-1, x);&quot;","body":"@trincot if I take out the object Search from the main I get errors on one of my line &quot;int result = binary.binarySearch(arr3, 0, n-1, x);&quot;"},{"owner":{"account_id":23507327,"reputation":41,"user_id":17556390,"display_name":"Calvin"},"score":0,"creation_date":1670664871,"post_id":74751372,"comment_id":131928989,"body_markdown":"I figured out where my problem was, creating the object was causing my errors, I had to delete the object and create a private static method for the binary Search and it was able to print out with no errors, thank you.","body":"I figured out where my problem was, creating the object was causing my errors, I had to delete the object and create a private static method for the binary Search and it was able to print out with no errors, thank you."},{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":0,"creation_date":1670672558,"post_id":74751372,"comment_id":131930155,"body_markdown":"There is still an error. Binary search can be used on a sorted array but arr3 isn&#39;t sorted. Try to call your binary search method to find 4 instead of 10 and it will tell you that 4 can&#39;t be found (because the array isn&#39;t sorted).","body":"There is still an error. Binary search can be used on a sorted array but arr3 isn&#39;t sorted. Try to call your binary search method to find 4 instead of 10 and it will tell you that 4 can&#39;t be found (because the array isn&#39;t sorted)."},{"owner":{"account_id":23507327,"reputation":41,"user_id":17556390,"display_name":"Calvin"},"score":0,"creation_date":1670689316,"post_id":74751372,"comment_id":131933485,"body_markdown":"@PhilippeFery I have updated my code, how can I edit this to have it print out the result","body":"@PhilippeFery I have updated my code, how can I edit this to have it print out the result"},{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":0,"creation_date":1670743346,"post_id":74751372,"comment_id":131940907,"body_markdown":"See my answer below","body":"See my answer below"}],"answers":[{"comments":[{"owner":{"account_id":23507327,"reputation":41,"user_id":17556390,"display_name":"Calvin"},"score":0,"creation_date":1670812322,"post_id":74759035,"comment_id":131952879,"body_markdown":"Appreciate your help, this definitely helps!","body":"Appreciate your help, this definitely helps!"}],"tags":[],"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670743320,"creation_date":1670743320,"answer_id":74759035,"question_id":74751372,"body_markdown":"Here is a working version of your code.\r\n\r\nThere was still some mistakes. See comments in code below.\r\n\r\n**Class &#39;Search&#39;**\r\n\r\n   \r\n\r\n    //Don&#39;t mix static and non static method\r\n    public class Search {\r\n    \t\r\n    \t//linearsearch replaced by linearSearch: use camel case in your class and method names\r\n    \t//Try to use variable names that will help to understand your code.\r\n    \t//Here &#39;x&#39; has been replaced by &#39;numberToFind&#39;\r\n\r\n    \tpublic int linearSearch(int arr[], int numberToFind) {\r\n    \t\tint n = arr.length;//N replaced by n: use Java coding convention\r\n    \t\tfor (int i = 0; i &lt; n; i++) {\r\n    \t\t\tif (arr[i] == numberToFind)\r\n    \t\t\t\treturn i;\r\n    \t\t}\r\n    \t\treturn -1;\r\n    \t}\r\n    \r\n    \tpublic int binarySearch(int arr[], int l, int r, int numberToFind) {\r\n    \t\tif (r &gt;= l) {\r\n    \t\t\t// There was an error at line below when calculating the &#39;mid&#39; number\r\n    \t\t\t// int mid = l + (r - 1) / 2; \r\n    \t\t\tint mid = (l + r) / 2;\r\n    \r\n    \t\t\tif (arr[mid] == numberToFind)\r\n    \t\t\t\treturn mid;\r\n    \r\n    \t\t\tif (arr[mid] &gt; numberToFind)\r\n    \t\t\t\treturn binarySearch(arr, l, mid - 1, numberToFind);\r\n    \r\n    \t\t\treturn binarySearch(arr, mid + 1, r, numberToFind);\r\n    \t\t}\r\n    \t\treturn -1;\r\n    \t}\r\n    }\r\n\r\n**Class &#39;MainTester&#39;**\r\n\r\nTry to avoid repetitive code.\r\nIf you have some, extract it to another method and call that method.\r\n\r\n    public class MainTester {\r\n    \tprivate Search search;\r\n    \r\n    \tpublic MainTester() {\r\n    \t\tsuper();\r\n    \t\tsearch = new Search();\r\n    \t}\r\n    \r\n    \tpublic void testLinearSearch(int[] numberArray, int numberToFind) {\r\n    \t\tint result = search.linearSearch(numberArray, numberToFind);\r\n    \t\tprintResult(&quot;Linear search: &quot;, numberToFind, result);\r\n    \t}\r\n    \r\n    \tpublic void testBinarySearch(int[] arr, int numberToFind) {\r\n    \t\tint result = search.binarySearch(arr, 0, arr.length - 1, numberToFind);\r\n    \t\tprintResult(&quot;Binary search: &quot;, numberToFind, result);\r\n    \t}\r\n    \r\n    \tprivate void printResult(String searchType, int searchNumber, int arrayIndex) {\r\n    \t\tif (arrayIndex == -1)\r\n    \t\t\tSystem.out.println(searchType + &quot;Element &quot; + searchNumber + &quot; is not present in array.&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(searchType + &quot;Element &quot; + searchNumber + &quot; is present at index &quot; + arrayIndex);\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tMainTester tester = new MainTester();\r\n    \r\n    \t\t// Try to find a number using linear search\r\n    \t\tint numbertoFind = 10;\r\n    \t\tint[] arr2 = { 2, 3, 4, 10, 30 };\r\n    \t\ttester.testLinearSearch(arr2, 10);\r\n    \r\n    \t\t// Try to find a number using binary search with an unsorted array: will not\r\n    \t\t// work\r\n    \t\tnumbertoFind = 4;\r\n    \t\tint[] unsortedArray = { 2, 3, 5, 4, 30 };\r\n    \t\ttester.testBinarySearch(unsortedArray, numbertoFind);\r\n    \r\n    \t\t// Try to find a number using binary search with an sorted array: works\r\n    \t\tint sortedArray[] = { 2, 3, 4, 5, 30 };\r\n    \t\ttester.testBinarySearch(sortedArray, numbertoFind);\r\n    \t}\r\n    }\r\n\r\n\r\nHope it helps.","title":"Linear and binary search, printing out the results","body":"<p>Here is a working version of your code.</p>\n<p>There was still some mistakes. See comments in code below.</p>\n<p><strong>Class 'Search'</strong></p>\n<pre><code>//Don't mix static and non static method\npublic class Search {\n    \n    //linearsearch replaced by linearSearch: use camel case in your class and method names\n    //Try to use variable names that will help to understand your code.\n    //Here 'x' has been replaced by 'numberToFind'\n\n    public int linearSearch(int arr[], int numberToFind) {\n        int n = arr.length;//N replaced by n: use Java coding convention\n        for (int i = 0; i &lt; n; i++) {\n            if (arr[i] == numberToFind)\n                return i;\n        }\n        return -1;\n    }\n\n    public int binarySearch(int arr[], int l, int r, int numberToFind) {\n        if (r &gt;= l) {\n            // There was an error at line below when calculating the 'mid' number\n            // int mid = l + (r - 1) / 2; \n            int mid = (l + r) / 2;\n\n            if (arr[mid] == numberToFind)\n                return mid;\n\n            if (arr[mid] &gt; numberToFind)\n                return binarySearch(arr, l, mid - 1, numberToFind);\n\n            return binarySearch(arr, mid + 1, r, numberToFind);\n        }\n        return -1;\n    }\n}\n</code></pre>\n<p><strong>Class 'MainTester'</strong></p>\n<p>Try to avoid repetitive code.\nIf you have some, extract it to another method and call that method.</p>\n<pre><code>public class MainTester {\n    private Search search;\n\n    public MainTester() {\n        super();\n        search = new Search();\n    }\n\n    public void testLinearSearch(int[] numberArray, int numberToFind) {\n        int result = search.linearSearch(numberArray, numberToFind);\n        printResult(&quot;Linear search: &quot;, numberToFind, result);\n    }\n\n    public void testBinarySearch(int[] arr, int numberToFind) {\n        int result = search.binarySearch(arr, 0, arr.length - 1, numberToFind);\n        printResult(&quot;Binary search: &quot;, numberToFind, result);\n    }\n\n    private void printResult(String searchType, int searchNumber, int arrayIndex) {\n        if (arrayIndex == -1)\n            System.out.println(searchType + &quot;Element &quot; + searchNumber + &quot; is not present in array.&quot;);\n        else\n            System.out.println(searchType + &quot;Element &quot; + searchNumber + &quot; is present at index &quot; + arrayIndex);\n    }\n\n    public static void main(String args[]) {\n        MainTester tester = new MainTester();\n\n        // Try to find a number using linear search\n        int numbertoFind = 10;\n        int[] arr2 = { 2, 3, 4, 10, 30 };\n        tester.testLinearSearch(arr2, 10);\n\n        // Try to find a number using binary search with an unsorted array: will not\n        // work\n        numbertoFind = 4;\n        int[] unsortedArray = { 2, 3, 5, 4, 30 };\n        tester.testBinarySearch(unsortedArray, numbertoFind);\n\n        // Try to find a number using binary search with an sorted array: works\n        int sortedArray[] = { 2, 3, 4, 5, 30 };\n        tester.testBinarySearch(sortedArray, numbertoFind);\n    }\n}\n</code></pre>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":23507327,"reputation":41,"user_id":17556390,"display_name":"Calvin"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74759035,"answer_count":1,"score":0,"last_activity_date":1670743320,"creation_date":1670660211,"question_id":74751372,"body_markdown":"The goal of this project is to create a class search. I will need methods of binary search and linear search. For each method you are going to ask the user for a key, then search for this key in an array of numbers (you can assume the numbers in the array). If you found the key return its location, otherwise returns -1. Test these methods by creating an object from the Search class (in the main method) and calling the linear and the binary methods. \r\n\r\nBelow I have created the code and I am trying to create my main so I can test the linear and binary methods but it is not working. It could be because I&#39;m testing like three different classes in the same main, but I am not sure I formatted them in the right way and that&#39;s the reason why I am getting errors. I need help, please.\r\n\r\nMy Search class.\r\n\r\n`\r\n```\r\npublic class Search {\r\n\tpublic static int linearsearch(int arr2[], int x2) {\r\n\t\tint N = arr2.length;\r\n\t\tfor (int i = 0; i &lt; N; i++) {\r\n\t\t\tif (arr2[i] == x2)\r\n\t\t\t\treturn i;\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\t\r\n\tpublic int binarySearch(int arr3[], int l, int r, int x) {\r\n\t\tif (r &gt;= l) {\r\n\t\t\tint mid = l + (r-1)/2;\r\n\t\t\t\r\n\t\t\tif (arr3[mid] ==x)\r\n\t\t\t\treturn mid;\r\n\t\t\t\r\n\t\t\tif(arr3[mid] &gt; x)\r\n\t\t\t\treturn binarySearch(arr3, l, mid -1, x);\r\n\t\t\t\r\n\t\t\treturn binarySearch(arr3, mid + 1, r, x);\r\n\t\t}\r\n\t\t\r\n\t\treturn -1;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n`\r\nMy Main class\r\n`\r\n```\r\npublic class MainTester {\r\n\tpublic static void main(String args[]) {\r\n\t//sorting tester\r\n\tSorting obj = new Sorting();\r\n\tint arr[] = {9,5,4,1,6,10,3,2,7,8};\r\n\tobj.bubbleSort(arr);\r\n\tSystem.out.println(&quot;Sorted array:&quot;);\r\n\tobj.printArray(arr);\r\n\t\r\n\t//binary search tester\r\n\tint arr3[] = {2,3,5,4,30};\r\n\tint n = arr3.length;\r\n\tint x = 10;\r\n\tint result = binarySearch(arr3, 0, n-1, x);\r\n\tif (result == -1)\r\n\t\tSystem.out.println(&quot;Element not present&quot;);\r\n\telse System.out.println(&quot;Element found &quot; + result);\r\n\t\r\n\t//linear search tester\r\n\tint arr2[] = {2,3,4,10,30};\r\n\tint x2 = 10;\r\n\t\r\n\tint result2 = linearsearch(arr2, x2);\r\n\tif (result2 == -1)\r\n\t\tSystem.out.print(&quot;Element is not present in array.&quot;);\r\n\telse\r\n\t\tSystem.out.print(&quot;Element is present &quot; +result2);\r\n\t\r\n}\r\n\r\n\tprivate static int binarySearch(int[] arr3, int l, int r, int x) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn -1;\r\n\t}\r\n\r\n\tprivate static int linearsearch(int[] arr2, int x) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn -1;\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nI was expecting this code to test all my methods in the main so I can print the result of my binary and linear search\r\n\r\n","title":"Linear and binary search, printing out the results","body":"<p>The goal of this project is to create a class search. I will need methods of binary search and linear search. For each method you are going to ask the user for a key, then search for this key in an array of numbers (you can assume the numbers in the array). If you found the key return its location, otherwise returns -1. Test these methods by creating an object from the Search class (in the main method) and calling the linear and the binary methods.</p>\n<p>Below I have created the code and I am trying to create my main so I can test the linear and binary methods but it is not working. It could be because I'm testing like three different classes in the same main, but I am not sure I formatted them in the right way and that's the reason why I am getting errors. I need help, please.</p>\n<p>My Search class.</p>\n<p>`</p>\n<pre><code>public class Search {\n    public static int linearsearch(int arr2[], int x2) {\n        int N = arr2.length;\n        for (int i = 0; i &lt; N; i++) {\n            if (arr2[i] == x2)\n                return i;\n        }\n        return -1;\n    }\n    \n    public int binarySearch(int arr3[], int l, int r, int x) {\n        if (r &gt;= l) {\n            int mid = l + (r-1)/2;\n            \n            if (arr3[mid] ==x)\n                return mid;\n            \n            if(arr3[mid] &gt; x)\n                return binarySearch(arr3, l, mid -1, x);\n            \n            return binarySearch(arr3, mid + 1, r, x);\n        }\n        \n        return -1;\n    }\n\n}\n\n</code></pre>\n<p><code>My Main class</code></p>\n<pre><code>public class MainTester {\n    public static void main(String args[]) {\n    //sorting tester\n    Sorting obj = new Sorting();\n    int arr[] = {9,5,4,1,6,10,3,2,7,8};\n    obj.bubbleSort(arr);\n    System.out.println(&quot;Sorted array:&quot;);\n    obj.printArray(arr);\n    \n    //binary search tester\n    int arr3[] = {2,3,5,4,30};\n    int n = arr3.length;\n    int x = 10;\n    int result = binarySearch(arr3, 0, n-1, x);\n    if (result == -1)\n        System.out.println(&quot;Element not present&quot;);\n    else System.out.println(&quot;Element found &quot; + result);\n    \n    //linear search tester\n    int arr2[] = {2,3,4,10,30};\n    int x2 = 10;\n    \n    int result2 = linearsearch(arr2, x2);\n    if (result2 == -1)\n        System.out.print(&quot;Element is not present in array.&quot;);\n    else\n        System.out.print(&quot;Element is present &quot; +result2);\n    \n}\n\n    private static int binarySearch(int[] arr3, int l, int r, int x) {\n        // TODO Auto-generated method stub\n        return -1;\n    }\n\n    private static int linearsearch(int[] arr2, int x) {\n        // TODO Auto-generated method stub\n        return -1;\n\n    }\n\n}\n</code></pre>\n<p>I was expecting this code to test all my methods in the main so I can print the result of my binary and linear search</p>\n"},{"tags":["java","docker","docker-multi-stage-build"],"comments":[{"owner":{"account_id":27210142,"reputation":1,"user_id":20741084,"display_name":"Dima Sovkov"},"score":0,"creation_date":1670671217,"post_id":74752439,"comment_id":131929968,"body_markdown":"https://github.com/DimaPushka/taskone-release-v01","body":"<a href=\"https://github.com/DimaPushka/taskone-release-v01\" rel=\"nofollow noreferrer\">github.com/DimaPushka/taskone-release-v01</a>"},{"owner":{"account_id":27210142,"reputation":1,"user_id":20741084,"display_name":"Dima Sovkov"},"score":0,"creation_date":1670672052,"post_id":74752439,"comment_id":131930090,"body_markdown":"Error: Invalid or corrupt jarfile /app/app.jar","body":"Error: Invalid or corrupt jarfile /app/app.jar"}],"owner":{"account_id":27210142,"reputation":1,"user_id":20741084,"display_name":"Dima Sovkov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670742142,"creation_date":1670671150,"question_id":74752439,"body_markdown":"I have aproblem when creating multi assembly in Docker. I get this error error invalid or corrupt jarfile\r\n\r\n```\r\nFROM openjdk:18-jdk-alpine AS build\r\nARG JAR_FILE\r\nCOPY ${JAR_FILE} /app/app.jar\r\nCOPY . /app/source\r\nWORKDIR /app/source\r\nEXPOSE 8001\r\n\r\nFROM openjdk:18-jdk-alpine AS runtime\r\nCOPY --from=build /app/source/ /app/app.jar\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot;]\r\n```\r\n","title":"Docker multi-stage, Java simple class","body":"<p>I have aproblem when creating multi assembly in Docker. I get this error error invalid or corrupt jarfile</p>\n<pre><code>FROM openjdk:18-jdk-alpine AS build\nARG JAR_FILE\nCOPY ${JAR_FILE} /app/app.jar\nCOPY . /app/source\nWORKDIR /app/source\nEXPOSE 8001\n\nFROM openjdk:18-jdk-alpine AS runtime\nCOPY --from=build /app/source/ /app/app.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot;]\n</code></pre>\n"},{"tags":["java","sorting","binary","radix-sort","counting-sort"],"comments":[{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":1,"creation_date":1670739674,"post_id":74758751,"comment_id":131940527,"body_markdown":"I ran your code and got a different result in the first case (with &quot;ababababababa&quot;), it wasn&#39;t sorted either, but it&#39;s odd that it was different","body":"I ran your code and got a different result in the first case (with &quot;ababababababa&quot;), it wasn&#39;t sorted either, but it&#39;s odd that it was different"},{"owner":{"account_id":14636009,"reputation":71,"user_id":10570130,"display_name":"Flamenco"},"score":0,"creation_date":1670739992,"post_id":74758751,"comment_id":131940579,"body_markdown":"@harold yeah same, I&#39;ve had a case where there the result had a single two a&#39;s next to each other. As I said I use the same code for sorting array of strings except I substract `temp-&#39;a&#39;` instead of `temp-&#39;0&#39;`, have a different count array size and here I don&#39;t convert strings to lowercase. That&#39;s the whole difference","body":"@harold yeah same, I&#39;ve had a case where there the result had a single two a&#39;s next to each other. As I said I use the same code for sorting array of strings except I substract <code>temp-&#39;a&#39;</code> instead of <code>temp-&#39;0&#39;</code>, have a different count array size and here I don&#39;t convert strings to lowercase. That&#39;s the whole difference"}],"answers":[{"tags":[],"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670740332,"creation_date":1670740332,"answer_id":74758824,"question_id":74758751,"body_markdown":"The bug is here:\r\n\r\n    //iterate over each character position (starting from the least significant)\r\n    for (int i = stringLength-1; i &gt;= 0; --i) {\r\n        array = countSort(array, i);\r\n    }\r\n\r\nThat code does not do what the comment says it does. Actually this iterates over each character position starting from the most significant character. There is such as thing as MSB-radix sort, but that&#39;s different.\r\n\r\nReversing that loop made it work correctly for me.\r\n\r\nBy the way you should probably ensure that all binary strings have the same length, padded with leading zeroes if necessary. Working directly on the bits of the integer representations of characters would not require that as an explicit step.","title":"Radix sort with counting sort incorrectly sorts letters converted to binary","body":"<p>The bug is here:</p>\n<pre><code>//iterate over each character position (starting from the least significant)\nfor (int i = stringLength-1; i &gt;= 0; --i) {\n    array = countSort(array, i);\n}\n</code></pre>\n<p>That code does not do what the comment says it does. Actually this iterates over each character position starting from the most significant character. There is such as thing as MSB-radix sort, but that's different.</p>\n<p>Reversing that loop made it work correctly for me.</p>\n<p>By the way you should probably ensure that all binary strings have the same length, padded with leading zeroes if necessary. Working directly on the bits of the integer representations of characters would not require that as an explicit step.</p>\n"}],"owner":{"account_id":14636009,"reputation":71,"user_id":10570130,"display_name":"Flamenco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74758824,"answer_count":1,"score":0,"last_activity_date":1670740332,"creation_date":1670739248,"question_id":74758751,"body_markdown":"I&#39;m having trouble understanding why my code for radix sort with counting sort doesn&#39;t correctly sort the input when I convert it to binary. I&#39;m basically using the same code for letters represented as decimal and they work just fine but here it isn&#39;t even close.\r\n\r\nBelow is the code that takes part in binary radix sort:\r\n\r\n```\r\n    static String[] countSort(String[] input, int position)\r\n    {\r\n        int[] count = new int[2];\r\n        int n = input.length;\r\n\r\n        char temp;\r\n        for (String value : input) {\r\n            temp = value.charAt(value.length()-1 - position);\r\n\r\n            count[temp-&#39;0&#39;]++;\r\n        }\r\n\r\n        for (int i = 1; i &lt; 2; i++) {\r\n            count[i] = count[i] + count[i - 1];\r\n        }\r\n\r\n        String[] output = new String[n];\r\n        for (int i = n - 1; i &gt;= 0; i--) {\r\n            temp = input[i].charAt(input[i].length()-1 - position);\r\n\r\n            output[count[temp-&#39;0&#39;]-1] = input[i];\r\n            count[temp-&#39;0&#39;]--;\r\n        }\r\n\r\n        return output;\r\n    }\r\n\r\n    public static String[] radixSortBinary(String str, int stringLength) {\r\n\r\n        //convert letters to binary\r\n        char[] charArr = str.toCharArray();\r\n        String[] array = new String[charArr.length];\r\n        for (int i=0; i&lt;charArr.length; i++)\r\n            array[i] = Integer.toBinaryString(charArr[i]);\r\n\r\n        System.out.println(&quot;Binary input:&quot; + Arrays.toString(array));\r\n\r\n        //iterate over each character position (starting from the least significant)\r\n        for (int i = stringLength-1; i &gt;= 0; --i) {\r\n            array = countSort(array, i);\r\n        }\r\n\r\n\r\n        System.out.println(&quot;Binary output:&quot; + Arrays.toString(array));\r\n\r\n        //convert back to letters\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i=0; i&lt;array.length; i++) {\r\n            Arrays.stream(array[i].split(&quot;(?&lt;=\\\\G.{7})&quot;)).forEach(s -&gt; sb.append((char) Integer.parseInt(s, 2)));\r\n            array[i] = sb.toString();\r\n            sb.setLength(0);\r\n        }\r\n\r\n        return array;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n    Scanner scan = new Scanner(System.in);\r\n    String input2 = scan.next();\r\n\r\n    String[] result = radixSortBinary(input2, 7);\r\n    System.out.println(&quot;Output:&quot; + Arrays.toString(result));\r\n}\r\n```\r\nconsole:\r\n```\r\ninput: \r\nababababababa\r\nBinary input:[1100001, 1100010, 1100001, 1100010, 1100001, 1100010, 1100001, 1100010, 1100001, 1100010, 1100001, 1100010, 1100001]\r\nBinary output:[1100001, 1100010, 1100001, 1100010, 1100001, 1100010, 1100001, 1100010, 1100001, 1100010, 1100001, 1100010, 1100001]\r\nOutput:[a, b, a, b, a, b, a, b, a, b, a, b, a]\r\n```\r\nanother case:\r\n```\r\ninput: \r\nabcdefgdftglkgfdj\r\nBinary input:[1100001, 1100010, 1100011, 1100100, 1100101, 1100110, 1100111, 1100100, 1100110, 1110100, 1100111, 1101100, 1101011, 1100111, 1100110, 1100100, 1101010]\r\nBinary output:[1100100, 1100100, 1100100, 1110100, 1101100, 1100010, 1101010, 1100110, 1100110, 1100110, 1100001, 1100101, 1100011, 1101011, 1100111, 1100111, 1100111]\r\nOutput:[d, d, d, t, l, b, j, f, f, f, a, e, c, k, g, g, g]\r\n```\r\nAny help would be greatly appreciated!","title":"Radix sort with counting sort incorrectly sorts letters converted to binary","body":"<p>I'm having trouble understanding why my code for radix sort with counting sort doesn't correctly sort the input when I convert it to binary. I'm basically using the same code for letters represented as decimal and they work just fine but here it isn't even close.</p>\n<p>Below is the code that takes part in binary radix sort:</p>\n<pre><code>    static String[] countSort(String[] input, int position)\n    {\n        int[] count = new int[2];\n        int n = input.length;\n\n        char temp;\n        for (String value : input) {\n            temp = value.charAt(value.length()-1 - position);\n\n            count[temp-'0']++;\n        }\n\n        for (int i = 1; i &lt; 2; i++) {\n            count[i] = count[i] + count[i - 1];\n        }\n\n        String[] output = new String[n];\n        for (int i = n - 1; i &gt;= 0; i--) {\n            temp = input[i].charAt(input[i].length()-1 - position);\n\n            output[count[temp-'0']-1] = input[i];\n            count[temp-'0']--;\n        }\n\n        return output;\n    }\n\n    public static String[] radixSortBinary(String str, int stringLength) {\n\n        //convert letters to binary\n        char[] charArr = str.toCharArray();\n        String[] array = new String[charArr.length];\n        for (int i=0; i&lt;charArr.length; i++)\n            array[i] = Integer.toBinaryString(charArr[i]);\n\n        System.out.println(&quot;Binary input:&quot; + Arrays.toString(array));\n\n        //iterate over each character position (starting from the least significant)\n        for (int i = stringLength-1; i &gt;= 0; --i) {\n            array = countSort(array, i);\n        }\n\n\n        System.out.println(&quot;Binary output:&quot; + Arrays.toString(array));\n\n        //convert back to letters\n        StringBuilder sb = new StringBuilder();\n        for (int i=0; i&lt;array.length; i++) {\n            Arrays.stream(array[i].split(&quot;(?&lt;=\\\\G.{7})&quot;)).forEach(s -&gt; sb.append((char) Integer.parseInt(s, 2)));\n            array[i] = sb.toString();\n            sb.setLength(0);\n        }\n\n        return array;\n    }\n\n    public static void main(String[] args) {\n\n    Scanner scan = new Scanner(System.in);\n    String input2 = scan.next();\n\n    String[] result = radixSortBinary(input2, 7);\n    System.out.println(&quot;Output:&quot; + Arrays.toString(result));\n}\n</code></pre>\n<p>console:</p>\n<pre><code>input: \nababababababa\nBinary input:[1100001, 1100010, 1100001, 1100010, 1100001, 1100010, 1100001, 1100010, 1100001, 1100010, 1100001, 1100010, 1100001]\nBinary output:[1100001, 1100010, 1100001, 1100010, 1100001, 1100010, 1100001, 1100010, 1100001, 1100010, 1100001, 1100010, 1100001]\nOutput:[a, b, a, b, a, b, a, b, a, b, a, b, a]\n</code></pre>\n<p>another case:</p>\n<pre><code>input: \nabcdefgdftglkgfdj\nBinary input:[1100001, 1100010, 1100011, 1100100, 1100101, 1100110, 1100111, 1100100, 1100110, 1110100, 1100111, 1101100, 1101011, 1100111, 1100110, 1100100, 1101010]\nBinary output:[1100100, 1100100, 1100100, 1110100, 1101100, 1100010, 1101010, 1100110, 1100110, 1100110, 1100001, 1100101, 1100011, 1101011, 1100111, 1100111, 1100111]\nOutput:[d, d, d, t, l, b, j, f, f, f, a, e, c, k, g, g, g]\n</code></pre>\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670776124,"post_id":74758816,"comment_id":131946532,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27216394,"reputation":1,"user_id":20746357,"display_name":"Kamran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670740148,"creation_date":1670740148,"question_id":74758816,"body_markdown":"Render problem to reaolve @color/purple_500\r\n\r\nI want to change the color primary and color accent","title":"How can i resolve ,render problem that below it writed couldnt resolve resource @color/purple_500","body":"<p>Render problem to reaolve @color/purple_500</p>\n<p>I want to change the color primary and color accent</p>\n"},{"tags":["java","android","android-studio","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1670763622,"post_id":74758695,"comment_id":131943840,"body_markdown":"You cannot simply use it anywhere, because the Firebase API is asynchronous. So most likely this [answer](https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774) will help. Or if you understand Kotlin, this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5) will also help.","body":"You cannot simply use it anywhere, because the Firebase API is asynchronous. So most likely this <a href=\"https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\">answer</a> will help. Or if you understand Kotlin, this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a> will also help."}],"owner":{"account_id":21881400,"reputation":198,"user_id":16169605,"display_name":"LoNE WoLvES"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670738442,"creation_date":1670738442,"question_id":74758695,"body_markdown":"here is the samplae code what I want to do is, get json object or string out of this data `databaseReference.addValueEventListener(new ValueEventListener()` thing and use it anywhere I want not only inside this database thing\r\n\r\n```\r\n\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\n\r\n\r\nimport android.util.Log;\r\nimport android.widget.Button;\r\n\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.gson.Gson;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.Objects;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    FirebaseDatabase firebaseDatabase;\r\n    DatabaseReference databaseReference;\r\n\r\n    Button photo;\r\n    public String da;\r\n    public String fx;\r\n    Object databaseValues;\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        photo = findViewById(R.id.light);\r\n        firebaseDatabase = FirebaseDatabase.getInstance();\r\n        databaseReference = firebaseDatabase.getReference();\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.S)\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                databaseValues = snapshot.getValue(Object.class);\r\n                String value = new Gson().toJson(databaseValues);\r\n                JSONObject jsonObj;\r\n\r\n                try {\r\n                    jsonObj = new JSONObject(value);\r\n                    da = jsonObj.getString(&quot;test&quot;);\r\n                    Log.i(&quot;databaseValue inside: &quot;, da);\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(MainActivity.this, &quot;Fail to get data.&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        try {\r\n            String value = new Gson().toJson(databaseValues);\r\n            JSONObject jsonObj;\r\n            jsonObj = new JSONObject(value);\r\n            fx = jsonObj.getString(&quot;test&quot;);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n        if (Objects.equals(da, &quot;found&quot;)) {\r\n            photo.setBackgroundColor(getResources().getColor(R.color.white));\r\n        }\r\n        if (da == null){\r\n            Log.i(&quot;databaseValue: &quot;, &quot;null&quot;);\r\n        } else {\r\n            Log.i(&quot;databaseValue: &quot;, da);\r\n        }\r\n        if (fx == null){\r\n            Log.i(&quot;fx: &quot;, &quot;null&quot;);\r\n        } else {\r\n            Log.i(&quot;fx: &quot;, fx);\r\n        }\r\n    }\r\n}\r\n```\r\nI&#39;m getting databaseValue null and fx null but databaseVale inside is found, i want this data to be outside.","title":"Get object data out of this databaseReference.addValueEventListener in java android","body":"<p>here is the samplae code what I want to do is, get json object or string out of this data <code>databaseReference.addValueEventListener(new ValueEventListener()</code> thing and use it anywhere I want not only inside this database thing</p>\n<pre><code>\nimport android.os.Build;\nimport android.os.Bundle;\n\n\nimport android.util.Log;\nimport android.widget.Button;\n\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\n\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\nimport com.google.gson.Gson;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.Objects;\n\npublic class MainActivity extends AppCompatActivity {\n    FirebaseDatabase firebaseDatabase;\n    DatabaseReference databaseReference;\n\n    Button photo;\n    public String da;\n    public String fx;\n    Object databaseValues;\n\n    @RequiresApi(api = Build.VERSION_CODES.M)\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        photo = findViewById(R.id.light);\n        firebaseDatabase = FirebaseDatabase.getInstance();\n        databaseReference = firebaseDatabase.getReference();\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @RequiresApi(api = Build.VERSION_CODES.S)\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                databaseValues = snapshot.getValue(Object.class);\n                String value = new Gson().toJson(databaseValues);\n                JSONObject jsonObj;\n\n                try {\n                    jsonObj = new JSONObject(value);\n                    da = jsonObj.getString(&quot;test&quot;);\n                    Log.i(&quot;databaseValue inside: &quot;, da);\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Toast.makeText(MainActivity.this, &quot;Fail to get data.&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        try {\n            String value = new Gson().toJson(databaseValues);\n            JSONObject jsonObj;\n            jsonObj = new JSONObject(value);\n            fx = jsonObj.getString(&quot;test&quot;);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n        if (Objects.equals(da, &quot;found&quot;)) {\n            photo.setBackgroundColor(getResources().getColor(R.color.white));\n        }\n        if (da == null){\n            Log.i(&quot;databaseValue: &quot;, &quot;null&quot;);\n        } else {\n            Log.i(&quot;databaseValue: &quot;, da);\n        }\n        if (fx == null){\n            Log.i(&quot;fx: &quot;, &quot;null&quot;);\n        } else {\n            Log.i(&quot;fx: &quot;, fx);\n        }\n    }\n}\n</code></pre>\n<p>I'm getting databaseValue null and fx null but databaseVale inside is found, i want this data to be outside.</p>\n"},{"tags":["java","mime","multipart","jakarta-mail"],"comments":[{"owner":{"account_id":1194548,"reputation":4590,"user_id":1166537,"accept_rate":100,"display_name":"Raghav"},"score":0,"creation_date":1340871249,"post_id":11240368,"comment_id":14769158,"body_markdown":"What kind of output are you getting??? can&#39;t you make use of `msg.getContentType()` for identifying type and process mail based on type??","body":"What kind of output are you getting??? can&#39;t you make use of <code>msg.getContentType()</code> for identifying type and process mail based on type??"},{"owner":{"account_id":902632,"reputation":13021,"user_id":938350,"accept_rate":80,"display_name":"Jayyrus"},"score":0,"creation_date":1340871405,"post_id":11240368,"comment_id":14769204,"body_markdown":"i don&#39;t need to know what kind of type is the content, i need only to know text inside it","body":"i don&#39;t need to know what kind of type is the content, i need only to know text inside it"},{"owner":{"account_id":1194548,"reputation":4590,"user_id":1166537,"accept_rate":100,"display_name":"Raghav"},"score":0,"creation_date":1340871821,"post_id":11240368,"comment_id":14769363,"body_markdown":"Each mail with different MIME type needs to be handled in a different way in-order to get Text. so you need to switch using `getContentType`","body":"Each mail with different MIME type needs to be handled in a different way in-order to get Text. so you need to switch using <code>getContentType</code>"},{"owner":{"account_id":109557,"reputation":14553,"user_id":290213,"accept_rate":43,"display_name":"dkarp"},"score":0,"creation_date":1343798319,"post_id":11240368,"comment_id":15602373,"body_markdown":"There&#39;s a really oddball mix of POP3 and IMAP stuff in here.","body":"There&#39;s a really oddball mix of POP3 and IMAP stuff in here."},{"owner":{"account_id":1507235,"reputation":6056,"user_id":1410342,"accept_rate":95,"display_name":"NoNaMe"},"score":0,"creation_date":1412172184,"post_id":11240368,"comment_id":40979223,"body_markdown":"See this as well http://stackoverflow.com/questions/5628395/javamail-parsing-email-content-cant-seem-to-get-it-to-work-message-getcont/26142591#26142591","body":"See this as well <a href=\"http://stackoverflow.com/questions/5628395/javamail-parsing-email-content-cant-seem-to-get-it-to-work-message-getcont/26142591#26142591\" title=\"javamail parsing email content cant seem to get it to work message getcont\">stackoverflow.com/questions/5628395/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":121881,"reputation":20677,"user_id":315306,"accept_rate":90,"display_name":"Raffaele"},"score":2,"creation_date":1340957671,"post_id":11240647,"comment_id":14798282,"body_markdown":"[`javax.mail.Message`](http://javamail.kenai.com/nonav/javadocs/index.html?javax/mail/Message.html) implements the `javax.mail.Part` interface","body":"<a href=\"http://javamail.kenai.com/nonav/javadocs/index.html?javax/mail/Message.html\" rel=\"nofollow noreferrer\"><code>javax.mail.Message</code></a> implements the <code>javax.mail.Part</code> interface"}],"tags":[],"owner":{"account_id":121881,"reputation":20677,"user_id":315306,"accept_rate":90,"display_name":"Raffaele"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1340871541,"creation_date":1340871541,"answer_id":11240647,"question_id":11240368,"body_markdown":"I don&#39;t think so, otherwise what would happen if a `Part`&#39;s mime type is `image/jpeg`? The API returns an `Object` because internally it tries to give you something useful, provided you know what is expected to be. For general purpose software, it&#39;s intended to be used like this:\r\n\r\n    if (part.isMimeType(&quot;text/plain&quot;)) {\r\n       ...\r\n    } else if (part.isMimeType(&quot;multipart/*&quot;)) {\r\n       ...\r\n    } else if (part.isMimeType(&quot;message/rfc822&quot;)) {\r\n       ...\r\n    } else {\r\n       ...\r\n    }\r\n\r\nYou also have the raw (actually not so *raw*, see the Javadoc) [`Part.getInputStream()`][1], but I think it&#39;s unsafe to assume that each and every message you receive is a text-based one - unless you are writing a very specific application and you have control over the input source.\r\n\r\n\r\n  [1]: http://javamail.kenai.com/nonav/javadocs/javax/mail/Part.html#getInputStream%28%29","title":"How to read text inside body of mail using javax.mail","body":"<p>I don't think so, otherwise what would happen if a <code>Part</code>'s mime type is <code>image/jpeg</code>? The API returns an <code>Object</code> because internally it tries to give you something useful, provided you know what is expected to be. For general purpose software, it's intended to be used like this:</p>\n\n<pre><code>if (part.isMimeType(\"text/plain\")) {\n   ...\n} else if (part.isMimeType(\"multipart/*\")) {\n   ...\n} else if (part.isMimeType(\"message/rfc822\")) {\n   ...\n} else {\n   ...\n}\n</code></pre>\n\n<p>You also have the raw (actually not so <em>raw</em>, see the Javadoc) <a href=\"http://javamail.kenai.com/nonav/javadocs/javax/mail/Part.html#getInputStream%28%29\" rel=\"noreferrer\"><code>Part.getInputStream()</code></a>, but I think it's unsafe to assume that each and every message you receive is a text-based one - unless you are writing a very specific application and you have control over the input source.</p>\n"},{"comments":[{"owner":{"account_id":902632,"reputation":13021,"user_id":938350,"accept_rate":80,"display_name":"Jayyrus"},"score":0,"creation_date":1340956262,"post_id":11241358,"comment_id":14797860,"body_markdown":"in this way i jump mail true?","body":"in this way i jump mail true?"},{"owner":{"account_id":425670,"reputation":2681,"user_id":806407,"accept_rate":78,"display_name":"lakshman"},"score":2,"creation_date":1400939457,"post_id":11241358,"comment_id":36695108,"body_markdown":"`instanceOf` just an operator not a method in java and this just returns subject not the message body","body":"<code>instanceOf</code> just an operator not a method in java and this just returns subject not the message body"}],"tags":[],"owner":{"account_id":1604942,"reputation":2704,"user_id":1485216,"accept_rate":82,"display_name":"JAVAGeek"},"comment_count":2,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1429854690,"creation_date":1340874465,"answer_id":11241358,"question_id":11240368,"body_markdown":"If you want to get text always then you can skip other types like &#39;multipart&#39; etc...\r\n\r\n \r\n\r\n      Object body = message.getContent(); \r\n        if(body instanceof String){\r\n        // hey it&#39;s a text\r\n        }","title":"How to read text inside body of mail using javax.mail","body":"<p>If you want to get text always then you can skip other types like 'multipart' etc...</p>\n\n<pre><code>  Object body = message.getContent(); \n    if(body instanceof String){\n    // hey it's a text\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1752310,"reputation":2977,"user_id":1601122,"accept_rate":50,"display_name":"hendalst"},"score":0,"creation_date":1461911754,"post_id":31877854,"comment_id":61422257,"body_markdown":"`//without break same text appears twice in my tests` - This is because you are not differentiating between `multipart/alternative` and `multipart/mixed`. `multipart/alternative` means that the parts contain the same information, but in different representations. In this case, the user agent is expected to choose only one. See [here](https://tools.ietf.org/html/rfc2046)","body":"<code>&#47;&#47;without break same text appears twice in my tests</code> - This is because you are not differentiating between <code>multipart&#47;alternative</code> and <code>multipart&#47;mixed</code>. <code>multipart&#47;alternative</code> means that the parts contain the same information, but in different representations. In this case, the user agent is expected to choose only one. See <a href=\"https://tools.ietf.org/html/rfc2046\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"score":0,"creation_date":1461934208,"post_id":31877854,"comment_id":61436603,"body_markdown":"@hendlast Thank you.","body":"@hendlast Thank you."},{"owner":{"account_id":1752310,"reputation":2977,"user_id":1601122,"accept_rate":50,"display_name":"hendalst"},"score":0,"creation_date":1461946555,"post_id":31877854,"comment_id":61444956,"body_markdown":"Welcome. See below for an example of how to deal with this. In general (per the RFC) you should take the last element, although in this case plain text is preferred so looping through the body parts to find a plan text version is probably ideal.","body":"Welcome. See below for an example of how to deal with this. In general (per the RFC) you should take the last element, although in this case plain text is preferred so looping through the body parts to find a plan text version is probably ideal."}],"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1452274609,"creation_date":1438950926,"answer_id":31877854,"question_id":11240368,"body_markdown":"   Below is method that will takes text from message in case bodyParts are text and html. \r\n\r\n\r\n\r\n      import javax.mail.BodyPart;\r\n      import javax.mail.Message;\r\n      import javax.mail.internet.MimeMultipart;\r\n      import org.jsoup.Jsoup;\r\n\r\n      ....    \r\n      private String getTextFromMessage(Message message) throws Exception {\r\n        if (message.isMimeType(&quot;text/plain&quot;)){\r\n            return message.getContent().toString();\r\n        }else if (message.isMimeType(&quot;multipart/*&quot;)) {\r\n            String result = &quot;&quot;;\r\n            MimeMultipart mimeMultipart = (MimeMultipart)message.getContent();\r\n            int count = mimeMultipart.getCount();\r\n            for (int i = 0; i &lt; count; i ++){\r\n                BodyPart bodyPart = mimeMultipart.getBodyPart(i);\r\n                if (bodyPart.isMimeType(&quot;text/plain&quot;)){\r\n                    result = result + &quot;\\n&quot; + bodyPart.getContent();\r\n                    break;  //without break same text appears twice in my tests\r\n                } else if (bodyPart.isMimeType(&quot;text/html&quot;)){\r\n                    String html = (String) bodyPart.getContent();\r\n                    result = result + &quot;\\n&quot; + Jsoup.parse(html).text();\r\n                    \r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n\r\n **Update**.  There is a case, that bodyPart itself can be of type multipart. (I met such email after have written this answer.) In this case you will need rewrite above method with recursion.  ","title":"How to read text inside body of mail using javax.mail","body":"<p>Below is method that will takes text from message in case bodyParts are text and html. </p>\n\n<pre><code>  import javax.mail.BodyPart;\n  import javax.mail.Message;\n  import javax.mail.internet.MimeMultipart;\n  import org.jsoup.Jsoup;\n\n  ....    \n  private String getTextFromMessage(Message message) throws Exception {\n    if (message.isMimeType(\"text/plain\")){\n        return message.getContent().toString();\n    }else if (message.isMimeType(\"multipart/*\")) {\n        String result = \"\";\n        MimeMultipart mimeMultipart = (MimeMultipart)message.getContent();\n        int count = mimeMultipart.getCount();\n        for (int i = 0; i &lt; count; i ++){\n            BodyPart bodyPart = mimeMultipart.getBodyPart(i);\n            if (bodyPart.isMimeType(\"text/plain\")){\n                result = result + \"\\n\" + bodyPart.getContent();\n                break;  //without break same text appears twice in my tests\n            } else if (bodyPart.isMimeType(\"text/html\")){\n                String html = (String) bodyPart.getContent();\n                result = result + \"\\n\" + Jsoup.parse(html).text();\n\n            }\n        }\n        return result;\n    }\n    return \"\";\n}\n</code></pre>\n\n<p><strong>Update</strong>.  There is a case, that bodyPart itself can be of type multipart. (I met such email after have written this answer.) In this case you will need rewrite above method with recursion.  </p>\n"},{"comments":[{"owner":{"account_id":385186,"reputation":6475,"user_id":742173,"accept_rate":67,"display_name":"Abhishek Gupta"},"score":1,"creation_date":1490448530,"post_id":34689614,"comment_id":73122163,"body_markdown":"JFYI:\n In the Orcale&#39;s JavaMail FAQ, theu have handled `multipart/alternative` differently: http://www.oracle.com/technetwork/java/javamail/faq/index.html#mainbody.\n\nNot sure why they are doing it, as I am not familiar with `multipart`.","body":"JFYI:  In the Orcale&#39;s JavaMail FAQ, theu have handled <code>multipart&#47;alternative</code> differently: <a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#mainbody\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/javamail/faq/index.html#mainbody</a>&zwnj;&#8203;.  Not sure why they are doing it, as I am not familiar with <code>multipart</code>."},{"owner":{"account_id":1752310,"reputation":2977,"user_id":1601122,"accept_rate":50,"display_name":"hendalst"},"score":1,"creation_date":1541058831,"post_id":34689614,"comment_id":93090337,"body_markdown":"@AbhishekGupta The difference is that for `multipart/alternative`, the user agent is only supposed to choose one part, not concatenate. The FAQ code does this whereas the above code does not. See my answer below for more detail.","body":"@AbhishekGupta The difference is that for <code>multipart&#47;alternative</code>, the user agent is only supposed to choose one part, not concatenate. The FAQ code does this whereas the above code does not. See my answer below for more detail."}],"tags":[],"owner":{"account_id":4688412,"reputation":8118,"user_id":3795219,"accept_rate":70,"display_name":"Austin"},"comment_count":2,"down_vote_count":0,"up_vote_count":102,"is_accepted":true,"score":102,"last_activity_date":1670738111,"creation_date":1452313160,"answer_id":34689614,"question_id":11240368,"body_markdown":"This answer extends [yurin&#39;s answer][2]. The issue he brought up was that the content of a `MimeMultipart` may itself be another `MimeMultipart`. The `getTextFromMimeMultipart()` method below recurses in such cases on the content until the message body has been fully parsed. \r\n\r\n\tprivate String getTextFromMessage(Message message) throws MessagingException, IOException {\r\n\t\tif (message.isMimeType(&quot;text/plain&quot;)) {\r\n\t\t\treturn message.getContent().toString();\r\n\t\t} \r\n        if (message.isMimeType(&quot;multipart/*&quot;)) {\r\n\t\t\tMimeMultipart mimeMultipart = (MimeMultipart) message.getContent();\r\n\t\t\treturn getTextFromMimeMultipart(mimeMultipart);\r\n\t\t}\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n\r\n    private String getTextFromMimeMultipart(\r\n\t\t\tMimeMultipart mimeMultipart)  throws MessagingException, IOException{\r\n    \tString result = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; mimeMultipart.getCount(); i++) {\r\n\t\t\tBodyPart bodyPart = mimeMultipart.getBodyPart(i);\r\n\t\t\tif (bodyPart.isMimeType(&quot;text/plain&quot;)) {\r\n\t\t\t\treturn result + &quot;\\n&quot; + bodyPart.getContent(); // without return, same text appears twice in my tests\r\n\t\t\t} \r\n\t\t\tresult += this.parseBodyPart(bodyPart);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n    private String parseBodyPart(BodyPart bodyPart) throws MessagingException, IOException { \r\n        if (bodyPart.isMimeType(&quot;text/html&quot;)) {\r\n\t\t\treturn &quot;\\n&quot; + org.jsoup.Jsoup\r\n\t\t\t\t.parse(bodyPart.getContent().toString())\r\n\t\t\t\t.text();\r\n\t\t} \r\n\t\tif (bodyPart.getContent() instanceof MimeMultipart){\r\n\t\t\treturn getTextFromMimeMultipart((MimeMultipart)bodyPart.getContent());\r\n\t\t}\r\n\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13474705/reading-body-part-of-a-mime-multipart/13489086#13489086 &quot;PCWizard&#39;s Answer&quot;\r\n  [2]: https://stackoverflow.com/questions/11240368/how-to-read-text-inside-body-of-mail-using-javax-mail/31877854#31877854 &quot;yurin&#39;s answer&quot;\r\n  [3]: https://stackoverflow.com/questions/11240368/how-to-read-text-inside-body-of-mail-using-javax-mail &quot;related question&quot;","title":"How to read text inside body of mail using javax.mail","body":"<p>This answer extends <a href=\"https://stackoverflow.com/questions/11240368/how-to-read-text-inside-body-of-mail-using-javax-mail/31877854#31877854\" title=\"yurin's answer\">yurin's answer</a>. The issue he brought up was that the content of a <code>MimeMultipart</code> may itself be another <code>MimeMultipart</code>. The <code>getTextFromMimeMultipart()</code> method below recurses in such cases on the content until the message body has been fully parsed.</p>\n<pre><code>private String getTextFromMessage(Message message) throws MessagingException, IOException {\n    if (message.isMimeType(&quot;text/plain&quot;)) {\n        return message.getContent().toString();\n    } \n    if (message.isMimeType(&quot;multipart/*&quot;)) {\n        MimeMultipart mimeMultipart = (MimeMultipart) message.getContent();\n        return getTextFromMimeMultipart(mimeMultipart);\n    }\n    return &quot;&quot;;\n}\n\nprivate String getTextFromMimeMultipart(\n        MimeMultipart mimeMultipart)  throws MessagingException, IOException{\n    String result = &quot;&quot;;\n    for (int i = 0; i &lt; mimeMultipart.getCount(); i++) {\n        BodyPart bodyPart = mimeMultipart.getBodyPart(i);\n        if (bodyPart.isMimeType(&quot;text/plain&quot;)) {\n            return result + &quot;\\n&quot; + bodyPart.getContent(); // without return, same text appears twice in my tests\n        } \n        result += this.parseBodyPart(bodyPart);\n    }\n    return result;\n}\n\nprivate String parseBodyPart(BodyPart bodyPart) throws MessagingException, IOException { \n    if (bodyPart.isMimeType(&quot;text/html&quot;)) {\n        return &quot;\\n&quot; + org.jsoup.Jsoup\n            .parse(bodyPart.getContent().toString())\n            .text();\n    } \n    if (bodyPart.getContent() instanceof MimeMultipart){\n        return getTextFromMimeMultipart((MimeMultipart)bodyPart.getContent());\n    }\n\n    return &quot;&quot;;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4665571,"reputation":987,"user_id":3778710,"accept_rate":67,"display_name":"Jerry"},"score":0,"creation_date":1496140141,"post_id":36932127,"comment_id":75527391,"body_markdown":"java.lang.ClassCastException: javax.mail.util.SharedByteArrayInputStream cannot be cast to javax.mail.internet.MimeMultipart I am getting this error","body":"java.lang.ClassCastException: javax.mail.util.SharedByteArrayInputStream cannot be cast to javax.mail.internet.MimeMultipart I am getting this error"},{"owner":{"account_id":35471,"reputation":268,"user_id":100465,"accept_rate":100,"display_name":"Zach Alberico"},"score":3,"creation_date":1508361259,"post_id":36932127,"comment_id":80586046,"body_markdown":"This is a really great example - the best currently on the internet, thanks.","body":"This is a really great example - the best currently on the internet, thanks."},{"owner":{"account_id":337978,"reputation":1148,"user_id":666556,"accept_rate":82,"display_name":"Paresh"},"score":0,"creation_date":1526684034,"post_id":36932127,"comment_id":87855750,"body_markdown":"For gmail, this doesn&#39;t return mail body.. it is always returning null pointer @ `String html = (String) bodyPart.getContent();` What could be the issue?","body":"For gmail, this doesn&#39;t return mail body.. it is always returning null pointer @ <code>String html = (String) bodyPart.getContent();</code> What could be the issue?"},{"owner":{"account_id":2534969,"reputation":565,"user_id":3632455,"accept_rate":30,"display_name":"hariprasad"},"score":0,"creation_date":1558700791,"post_id":36932127,"comment_id":99197627,"body_markdown":"This example works exactly as I supposed. Mail .eml messages can have complicated hierarchy and looks like, that this class is able to include all cases. Additionaly I must say, that libray `javax.mail` is quick and reliable. Good choice.","body":"This example works exactly as I supposed. Mail .eml messages can have complicated hierarchy and looks like, that this class is able to include all cases. Additionaly I must say, that libray <code>javax.mail</code> is quick and reliable. Good choice."},{"owner":{"account_id":3840401,"reputation":491,"user_id":4859846,"display_name":"Dylan Smith"},"score":0,"creation_date":1560438056,"post_id":36932127,"comment_id":99744780,"body_markdown":"@OverrockSTAR you may need to add an additional condition to getTextFromMessage at line 5:\n`} else if (bodyPart.isMimeType(&quot;text/html&quot;)) {\n        result = org.jsoup.Jsoup.parse(message.getContent().toString()).text();`","body":"@OverrockSTAR you may need to add an additional condition to getTextFromMessage at line 5: <code>} else if (bodyPart.isMimeType(&quot;text&#47;html&quot;)) {         result = org.jsoup.Jsoup.parse(message.getContent().toString()).text(&zwnj;&#8203;);</code>"},{"owner":{"account_id":216960,"reputation":121,"user_id":472509,"display_name":"romulusnr"},"score":1,"creation_date":1586492816,"post_id":36932127,"comment_id":108152796,"body_markdown":"I don&#39;t understand why they didn&#39;t provide `.getParts()` that we could iterate over and then determine which one we want. We could even do a filter. Instead we have to do 0, 1, 2, 3....","body":"I don&#39;t understand why they didn&#39;t provide <code>.getParts()</code> that we could iterate over and then determine which one we want. We could even do a filter. Instead we have to do 0, 1, 2, 3...."}],"tags":[],"owner":{"account_id":1752310,"reputation":2977,"user_id":1601122,"accept_rate":50,"display_name":"hendalst"},"comment_count":6,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1461916214,"creation_date":1461914702,"answer_id":36932127,"question_id":11240368,"body_markdown":"This answer extends [Austin&#39;s answer](https://stackoverflow.com/a/34689614/1601122) to correct the orginal issue with treatment of `multipart/alternative` (`// without break same text appears twice in my tests`).\n\nThe text appears twice because for `multipart/alternative`, the user agent is expected to choose only **one** part.\n\nFrom [RFC2046](https://www.rfc-editor.org/rfc/rfc2046):\n\n&gt;The &quot;multipart/alternative&quot; type is syntactically identical to &quot;multipart/mixed&quot;, but the semantics are different.  In particular, each of the body parts is an &quot;alternative&quot; version of the same information.\n&gt;\n&gt;Systems should recognize that the content of the various parts are interchangeable.  Systems should choose the &quot;best&quot; type based on the local environment and references, in some cases even through user interaction.  As with &quot;multipart/mixed&quot;, the order of body parts is significant.  In this case, the alternatives appear in an order of increasing faithfulness to the original content.  In general, the best choice is the LAST part of a type supported by the recipient system&#39;s local environment.\n\n**Same example with treatment for alternatives:**\n\n    private String getTextFromMessage(Message message) throws IOException, MessagingException {\n        String result = &quot;&quot;;\n        if (message.isMimeType(&quot;text/plain&quot;)) {\n            result = message.getContent().toString();\n        } else if (message.isMimeType(&quot;multipart/*&quot;)) {\n            MimeMultipart mimeMultipart = (MimeMultipart) message.getContent();\n            result = getTextFromMimeMultipart(mimeMultipart);\n        }\n        return result;\n    }\n\n    private String getTextFromMimeMultipart(\n            MimeMultipart mimeMultipart) throws IOException, MessagingException {\n\n        int count = mimeMultipart.getCount();\n        if (count == 0)\n            throw new MessagingException(&quot;Multipart with no body parts not supported.&quot;);\n        boolean multipartAlt = new ContentType(mimeMultipart.getContentType()).match(&quot;multipart/alternative&quot;);\n        if (multipartAlt)\n            // alternatives appear in an order of increasing \n            // faithfulness to the original content. Customize as req&#39;d.\n            return getTextFromBodyPart(mimeMultipart.getBodyPart(count - 1));\n        String result = &quot;&quot;;\n        for (int i = 0; i &lt; count; i++) {\n            BodyPart bodyPart = mimeMultipart.getBodyPart(i);\n            result += getTextFromBodyPart(bodyPart);\n        }\n        return result;\n    }\n    \n    private String getTextFromBodyPart(\n            BodyPart bodyPart) throws IOException, MessagingException {\n        \n        String result = &quot;&quot;;\n        if (bodyPart.isMimeType(&quot;text/plain&quot;)) {\n            result = (String) bodyPart.getContent();\n        } else if (bodyPart.isMimeType(&quot;text/html&quot;)) {\n            String html = (String) bodyPart.getContent();\n            result = org.jsoup.Jsoup.parse(html).text();\n        } else if (bodyPart.getContent() instanceof MimeMultipart){\n            result = getTextFromMimeMultipart((MimeMultipart)bodyPart.getContent());\n        }\n        return result;\n    }\n\nNote that this is a very simple example. It misses many cases and should not be used in production in it&#39;s current format.","title":"How to read text inside body of mail using javax.mail","body":"<p>This answer extends <a href=\"https://stackoverflow.com/a/34689614/1601122\">Austin's answer</a> to correct the orginal issue with treatment of <code>multipart/alternative</code> (<code>// without break same text appears twice in my tests</code>).</p>\n<p>The text appears twice because for <code>multipart/alternative</code>, the user agent is expected to choose only <strong>one</strong> part.</p>\n<p>From <a href=\"https://www.rfc-editor.org/rfc/rfc2046\" rel=\"nofollow noreferrer\">RFC2046</a>:</p>\n<blockquote>\n<p>The &quot;multipart/alternative&quot; type is syntactically identical to &quot;multipart/mixed&quot;, but the semantics are different.  In particular, each of the body parts is an &quot;alternative&quot; version of the same information.</p>\n<p>Systems should recognize that the content of the various parts are interchangeable.  Systems should choose the &quot;best&quot; type based on the local environment and references, in some cases even through user interaction.  As with &quot;multipart/mixed&quot;, the order of body parts is significant.  In this case, the alternatives appear in an order of increasing faithfulness to the original content.  In general, the best choice is the LAST part of a type supported by the recipient system's local environment.</p>\n</blockquote>\n<p><strong>Same example with treatment for alternatives:</strong></p>\n<pre><code>private String getTextFromMessage(Message message) throws IOException, MessagingException {\n    String result = &quot;&quot;;\n    if (message.isMimeType(&quot;text/plain&quot;)) {\n        result = message.getContent().toString();\n    } else if (message.isMimeType(&quot;multipart/*&quot;)) {\n        MimeMultipart mimeMultipart = (MimeMultipart) message.getContent();\n        result = getTextFromMimeMultipart(mimeMultipart);\n    }\n    return result;\n}\n\nprivate String getTextFromMimeMultipart(\n        MimeMultipart mimeMultipart) throws IOException, MessagingException {\n\n    int count = mimeMultipart.getCount();\n    if (count == 0)\n        throw new MessagingException(&quot;Multipart with no body parts not supported.&quot;);\n    boolean multipartAlt = new ContentType(mimeMultipart.getContentType()).match(&quot;multipart/alternative&quot;);\n    if (multipartAlt)\n        // alternatives appear in an order of increasing \n        // faithfulness to the original content. Customize as req'd.\n        return getTextFromBodyPart(mimeMultipart.getBodyPart(count - 1));\n    String result = &quot;&quot;;\n    for (int i = 0; i &lt; count; i++) {\n        BodyPart bodyPart = mimeMultipart.getBodyPart(i);\n        result += getTextFromBodyPart(bodyPart);\n    }\n    return result;\n}\n\nprivate String getTextFromBodyPart(\n        BodyPart bodyPart) throws IOException, MessagingException {\n    \n    String result = &quot;&quot;;\n    if (bodyPart.isMimeType(&quot;text/plain&quot;)) {\n        result = (String) bodyPart.getContent();\n    } else if (bodyPart.isMimeType(&quot;text/html&quot;)) {\n        String html = (String) bodyPart.getContent();\n        result = org.jsoup.Jsoup.parse(html).text();\n    } else if (bodyPart.getContent() instanceof MimeMultipart){\n        result = getTextFromMimeMultipart((MimeMultipart)bodyPart.getContent());\n    }\n    return result;\n}\n</code></pre>\n<p>Note that this is a very simple example. It misses many cases and should not be used in production in it's current format.</p>\n"},{"comments":[{"owner":{"account_id":1917020,"reputation":767,"user_id":1729416,"accept_rate":83,"display_name":"Sammy"},"score":2,"creation_date":1554996982,"post_id":55328918,"comment_id":97963768,"body_markdown":"This is just brilliant! The java part does the trick perfectly and it&#39;s just simple and clean","body":"This is just brilliant! The java part does the trick perfectly and it&#39;s just simple and clean"},{"owner":{"account_id":5568337,"reputation":614,"user_id":4414667,"display_name":"Ahmet Eroğlu"},"score":1,"creation_date":1592390544,"post_id":55328918,"comment_id":110406331,"body_markdown":"Give this man an award ! I&#39;ve tried to implement what this library basically does for three days in vain. Thanks man! u re life saver :)","body":"Give this man an award ! I&#39;ve tried to implement what this library basically does for three days in vain. Thanks man! u re life saver :)"},{"owner":{"account_id":183659,"reputation":1449,"user_id":419156,"accept_rate":33,"display_name":"dukethrash"},"score":0,"creation_date":1661495231,"post_id":55328918,"comment_id":129790132,"body_markdown":"Be careful as the parse() method will load attachments in to memory. If you&#39;re only looking for messages that have attachments, or want to get attachment file names this will end up having to load all of the attachments in to memory to do so!","body":"Be careful as the parse() method will load attachments in to memory. If you&#39;re only looking for messages that have attachments, or want to get attachment file names this will end up having to load all of the attachments in to memory to do so!"}],"tags":[],"owner":{"account_id":13961143,"reputation":1270,"user_id":10082337,"display_name":"grolegor"},"comment_count":3,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1553464220,"creation_date":1553464220,"answer_id":55328918,"question_id":11240368,"body_markdown":"Don&#39;t reinvent the wheel! You can simply use Apache Commons Email (see [here][1])\r\n\r\nKotlin example:\r\n\r\n    fun readHtmlContent(message: MimeMessage) = \r\n            MimeMessageParser(message).parse().htmlContent\r\n\r\nIf email does not have html content, but it has plain content (you can check that by [hasPlainContent][2] and [hasHtmlContent][3] methods) then you should use this code:\r\n\r\n    fun readPlainContent(message: MimeMessage) = \r\n            MimeMessageParser(message).parse().plainContent\r\n\r\nJava example:\r\n\r\n    String readHtmlContent(MimeMessage message) throws Exception {\r\n        return new MimeMessageParser(message).parse().getHtmlContent();\r\n    }\r\n    \r\n    String readPlainContent(MimeMessage message) throws Exception {\r\n        return new MimeMessageParser(message).parse().getPlainContent();\r\n    }\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-email/\r\n  [2]: http://commons.apache.org/proper/commons-email/javadocs/api-release/org/apache/commons/mail/util/MimeMessageParser.html#hasPlainContent--\r\n  [3]: http://commons.apache.org/proper/commons-email/javadocs/api-release/org/apache/commons/mail/util/MimeMessageParser.html#hasHtmlContent--","title":"How to read text inside body of mail using javax.mail","body":"<p>Don't reinvent the wheel! You can simply use Apache Commons Email (see <a href=\"http://commons.apache.org/proper/commons-email/\" rel=\"noreferrer\">here</a>)</p>\n\n<p>Kotlin example:</p>\n\n<pre><code>fun readHtmlContent(message: MimeMessage) = \n        MimeMessageParser(message).parse().htmlContent\n</code></pre>\n\n<p>If email does not have html content, but it has plain content (you can check that by <a href=\"http://commons.apache.org/proper/commons-email/javadocs/api-release/org/apache/commons/mail/util/MimeMessageParser.html#hasPlainContent--\" rel=\"noreferrer\">hasPlainContent</a> and <a href=\"http://commons.apache.org/proper/commons-email/javadocs/api-release/org/apache/commons/mail/util/MimeMessageParser.html#hasHtmlContent--\" rel=\"noreferrer\">hasHtmlContent</a> methods) then you should use this code:</p>\n\n<pre><code>fun readPlainContent(message: MimeMessage) = \n        MimeMessageParser(message).parse().plainContent\n</code></pre>\n\n<p>Java example:</p>\n\n<pre><code>String readHtmlContent(MimeMessage message) throws Exception {\n    return new MimeMessageParser(message).parse().getHtmlContent();\n}\n\nString readPlainContent(MimeMessage message) throws Exception {\n    return new MimeMessageParser(message).parse().getPlainContent();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5145448,"reputation":574,"user_id":4121585,"accept_rate":20,"display_name":"Vishal Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569845011,"creation_date":1569845011,"answer_id":58167557,"question_id":11240368,"body_markdown":"My answer is extendeded version of [Austin Answer][1] but with one condition in the first method( getTextFromMessage() ). \r\n\r\nChange: we should also check whether the  MimeType is &quot;text/html&quot;. \r\n\r\n**check lines ending with &#39;//**&#39;** \r\n\r\n\r\n    private String getTextFromMessage(Message message) throws MessagingException, IOException {\r\n        String result = &quot;&quot;;\r\n        if (message.isMimeType(&quot;text/plain&quot;)) {\r\n            result = message.getContent().toString();\r\n        } \r\n\r\n        else if (message.isMimeType(&quot;text/html&quot;)) { // **\r\n            result = message.getContent().toString(); // **\r\n        }\r\n     \r\n        else if (message.isMimeType(&quot;multipart/*&quot;)) {\r\n            MimeMultipart mimeMultipart = (MimeMultipart) message.getContent();\r\n            result = getTextFromMimeMultipart(mimeMultipart);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    private String getTextFromMimeMultipart(\r\n            MimeMultipart mimeMultipart)  throws MessagingException, IOException{\r\n        String result = &quot;&quot;;\r\n        int count = mimeMultipart.getCount();\r\n        for (int i = 0; i &lt; count; i++) {\r\n            BodyPart bodyPart = mimeMultipart.getBodyPart(i);\r\n            if (bodyPart.isMimeType(&quot;text/plain&quot;)) {\r\n                result = result + &quot;\\n&quot; + bodyPart.getContent();\r\n                break; // without break same text appears twice in my tests\r\n            } else if (bodyPart.isMimeType(&quot;text/html&quot;)) {\r\n                String html = (String) bodyPart.getContent();\r\n                result = result + &quot;\\n&quot; + org.jsoup.Jsoup.parse(html).text();\r\n            } else if (bodyPart.getContent() instanceof MimeMultipart){\r\n                result = result + getTextFromMimeMultipart((MimeMultipart)bodyPart.getContent());\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/34689614/1601122","title":"How to read text inside body of mail using javax.mail","body":"<p>My answer is extendeded version of <a href=\"https://stackoverflow.com/a/34689614/1601122\">Austin Answer</a> but with one condition in the first method( getTextFromMessage() ). </p>\n\n<p>Change: we should also check whether the  MimeType is \"text/html\". </p>\n\n<p><strong>check lines ending with '//</strong>'** </p>\n\n<pre><code>private String getTextFromMessage(Message message) throws MessagingException, IOException {\n    String result = \"\";\n    if (message.isMimeType(\"text/plain\")) {\n        result = message.getContent().toString();\n    } \n\n    else if (message.isMimeType(\"text/html\")) { // **\n        result = message.getContent().toString(); // **\n    }\n\n    else if (message.isMimeType(\"multipart/*\")) {\n        MimeMultipart mimeMultipart = (MimeMultipart) message.getContent();\n        result = getTextFromMimeMultipart(mimeMultipart);\n    }\n    return result;\n}\n\nprivate String getTextFromMimeMultipart(\n        MimeMultipart mimeMultipart)  throws MessagingException, IOException{\n    String result = \"\";\n    int count = mimeMultipart.getCount();\n    for (int i = 0; i &lt; count; i++) {\n        BodyPart bodyPart = mimeMultipart.getBodyPart(i);\n        if (bodyPart.isMimeType(\"text/plain\")) {\n            result = result + \"\\n\" + bodyPart.getContent();\n            break; // without break same text appears twice in my tests\n        } else if (bodyPart.isMimeType(\"text/html\")) {\n            String html = (String) bodyPart.getContent();\n            result = result + \"\\n\" + org.jsoup.Jsoup.parse(html).text();\n        } else if (bodyPart.getContent() instanceof MimeMultipart){\n            result = result + getTextFromMimeMultipart((MimeMultipart)bodyPart.getContent());\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7784060,"reputation":477,"user_id":5994555,"display_name":"Sabina Orazem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582214622,"creation_date":1582214622,"answer_id":60324062,"question_id":11240368,"body_markdown":"You could use [org.apache.commons.mail.util.MimeMessageParser][1]\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.commons/commons-email\r\n\r\nJava:\r\n \r\n    String htmlContent = new MimeMessageParser(message).parse().getHtmlContent();\r\n\r\nKotlin:\r\n\r\n    val htmlContent: String = MimeMessageParser(message).parse().htmlContent\r\n\r\n","title":"How to read text inside body of mail using javax.mail","body":"<p>You could use <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-email\" rel=\"nofollow noreferrer\">org.apache.commons.mail.util.MimeMessageParser</a></p>\n\n<p>Java:</p>\n\n<pre><code>String htmlContent = new MimeMessageParser(message).parse().getHtmlContent();\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>val htmlContent: String = MimeMessageParser(message).parse().htmlContent\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8686439,"reputation":524,"user_id":6500730,"display_name":"nykon"},"score":1,"creation_date":1619345083,"post_id":63271188,"comment_id":118872172,"body_markdown":"Bless your soul - tried several of the answers here, this one just works.","body":"Bless your soul - tried several of the answers here, this one just works."}],"tags":[],"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1614807339,"creation_date":1596651225,"answer_id":63271188,"question_id":11240368,"body_markdown":"In my case I wanted the HTML to be exist also and I also searched for some already made utlity so I fixed mine using following code\r\n\r\n```\r\nimport javax.mail.Message;\r\nimport org.apache.commons.io.IOUtils;\r\nimport javax.mail.internet.MimeUtility;\r\n.....\r\nString body = IOUtils.toString(\r\n                 MimeUtility.decode(message.getInputStream(), &quot;quoted-printable&quot;),\r\n                 &quot;UTF-8&quot;\r\n              );\r\n```","title":"How to read text inside body of mail using javax.mail","body":"<p>In my case I wanted the HTML to be exist also and I also searched for some already made utlity so I fixed mine using following code</p>\n<pre><code>import javax.mail.Message;\nimport org.apache.commons.io.IOUtils;\nimport javax.mail.internet.MimeUtility;\n.....\nString body = IOUtils.toString(\n                 MimeUtility.decode(message.getInputStream(), &quot;quoted-printable&quot;),\n                 &quot;UTF-8&quot;\n              );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16396066,"reputation":40,"user_id":11843557,"display_name":"andermirik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606869430,"creation_date":1606856138,"answer_id":65098383,"question_id":11240368,"body_markdown":"Here is my code, I use in my IMAP android application. Its working.\r\n\r\nGetTextFromMessage returns plain text or html string\r\n\r\nKotlin\r\n```\r\n    @Throws(IOException::class, MessagingException::class)\r\n    private fun getTextFromMessage(message: Message): String {\r\n        var result: String = &quot;&quot;\r\n        if (message.isMimeType(&quot;text/plain&quot;)) {\r\n            result = message.content.toString()\r\n        }\r\n        else if (message.isMimeType(&quot;multipart/*&quot;)) {\r\n            val mimeMultipart =\r\n                message.content as MimeMultipart\r\n            result = getTextFromMimeMultipart(mimeMultipart)\r\n        }\r\n        else if(message.isMimeType(&quot;text/html&quot;)){\r\n            result = message.content.toString()\r\n        }\r\n        return result\r\n    }\r\n\r\n    @Throws(IOException::class, MessagingException::class)\r\n    private fun getTextFromMimeMultipart(\r\n        mimeMultipart: MimeMultipart\r\n    ): String {\r\n        val count = mimeMultipart.count\r\n        if (count == 0) throw MessagingException(&quot;Multipart with no body parts not supported.&quot;)\r\n\r\n        val multipartRelated = ContentType(mimeMultipart.contentType).match(&quot;multipart/related&quot;)\r\n\r\n\r\n        if(multipartRelated){\r\n            val part = mimeMultipart.getBodyPart(0)\r\n            val multipartAlt = ContentType(part.contentType).match(&quot;multipart/alternative&quot;)\r\n            if(multipartAlt) {\r\n                return getTextFromMimeMultipart(part.content as MimeMultipart)\r\n            }\r\n        }else{\r\n            val multipartAlt = ContentType(mimeMultipart.contentType).match(&quot;multipart/alternative&quot;)\r\n            if (multipartAlt) {\r\n                for (i in 0 until count) {\r\n                    val part = mimeMultipart.getBodyPart(i)\r\n                    if (part.isMimeType(&quot;text/html&quot;)) {\r\n                        return getTextFromBodyPart(part)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        var result: String = &quot;&quot;\r\n        for (i in 0 until count) {\r\n            val bodyPart = mimeMultipart.getBodyPart(i)\r\n            result += getTextFromBodyPart(bodyPart)\r\n        }\r\n        return result\r\n    }\r\n\r\n    @Throws(IOException::class, MessagingException::class)\r\n    private fun getTextFromBodyPart(\r\n        bodyPart: BodyPart\r\n    ): String {\r\n        var result: String = &quot;&quot;\r\n        if (bodyPart.isMimeType(&quot;text/plain&quot;)) {\r\n            result = bodyPart.content as String\r\n        } else if (bodyPart.isMimeType(&quot;text/html&quot;)) {\r\n            val html = bodyPart.content as String\r\n            result = html\r\n        } else if (bodyPart.content is MimeMultipart) {\r\n            result =\r\n                getTextFromMimeMultipart(bodyPart.content as MimeMultipart)\r\n        }\r\n        return result\r\n    }\r\n```","title":"How to read text inside body of mail using javax.mail","body":"<p>Here is my code, I use in my IMAP android application. Its working.</p>\n<p>GetTextFromMessage returns plain text or html string</p>\n<p>Kotlin</p>\n<pre><code>    @Throws(IOException::class, MessagingException::class)\n    private fun getTextFromMessage(message: Message): String {\n        var result: String = &quot;&quot;\n        if (message.isMimeType(&quot;text/plain&quot;)) {\n            result = message.content.toString()\n        }\n        else if (message.isMimeType(&quot;multipart/*&quot;)) {\n            val mimeMultipart =\n                message.content as MimeMultipart\n            result = getTextFromMimeMultipart(mimeMultipart)\n        }\n        else if(message.isMimeType(&quot;text/html&quot;)){\n            result = message.content.toString()\n        }\n        return result\n    }\n\n    @Throws(IOException::class, MessagingException::class)\n    private fun getTextFromMimeMultipart(\n        mimeMultipart: MimeMultipart\n    ): String {\n        val count = mimeMultipart.count\n        if (count == 0) throw MessagingException(&quot;Multipart with no body parts not supported.&quot;)\n\n        val multipartRelated = ContentType(mimeMultipart.contentType).match(&quot;multipart/related&quot;)\n\n\n        if(multipartRelated){\n            val part = mimeMultipart.getBodyPart(0)\n            val multipartAlt = ContentType(part.contentType).match(&quot;multipart/alternative&quot;)\n            if(multipartAlt) {\n                return getTextFromMimeMultipart(part.content as MimeMultipart)\n            }\n        }else{\n            val multipartAlt = ContentType(mimeMultipart.contentType).match(&quot;multipart/alternative&quot;)\n            if (multipartAlt) {\n                for (i in 0 until count) {\n                    val part = mimeMultipart.getBodyPart(i)\n                    if (part.isMimeType(&quot;text/html&quot;)) {\n                        return getTextFromBodyPart(part)\n                    }\n                }\n            }\n        }\n\n\n        var result: String = &quot;&quot;\n        for (i in 0 until count) {\n            val bodyPart = mimeMultipart.getBodyPart(i)\n            result += getTextFromBodyPart(bodyPart)\n        }\n        return result\n    }\n\n    @Throws(IOException::class, MessagingException::class)\n    private fun getTextFromBodyPart(\n        bodyPart: BodyPart\n    ): String {\n        var result: String = &quot;&quot;\n        if (bodyPart.isMimeType(&quot;text/plain&quot;)) {\n            result = bodyPart.content as String\n        } else if (bodyPart.isMimeType(&quot;text/html&quot;)) {\n            val html = bodyPart.content as String\n            result = html\n        } else if (bodyPart.content is MimeMultipart) {\n            result =\n                getTextFromMimeMultipart(bodyPart.content as MimeMultipart)\n        }\n        return result\n    }\n</code></pre>\n"}],"owner":{"account_id":902632,"reputation":13021,"user_id":938350,"accept_rate":80,"display_name":"Jayyrus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120413,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":34689614,"answer_count":10,"score":70,"last_activity_date":1670738111,"creation_date":1340870324,"question_id":11240368,"body_markdown":"i&#39;m developing a client mail using javax.mail to read mail inside mail box:\r\n\r\n    Properties properties = System.getProperties();  \r\n    properties.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);  \r\n    try {  \r\n        Session session = Session.getDefaultInstance(properties, null);\r\n        Store store = session.getStore(&quot;pop3&quot;);//create store instance  \r\n        store.connect(&quot;pop3.domain.it&quot;, &quot;mail.it&quot;, &quot;*****&quot;);  \r\n        Folder inbox = store.getFolder(&quot;inbox&quot;);  \r\n        FlagTerm ft = new FlagTerm(new Flags(Flags.Flag.SEEN), false);\r\n        inbox.open(Folder.READ_ONLY);//set access type of Inbox  \r\n        Message messages[] = inbox.search(ft);\r\n        String mail,sub,bodyText=&quot;&quot;;\r\n        Object body;\r\n        for(Message message:messages) {\r\n            mail = message.getFrom()[0].toString();\r\n            sub = message.getSubject();\r\n            body = message.getContent();\r\n            //bodyText = body.....\r\n        }\r\n    } catch (Exception e) {  \r\n        System.out.println(e);    \r\n    }\r\n\r\n I know that the method `getContent()` returns an object cause the content could be a `String`, a `MimeMultiPart`, a `SharedByteArrayInputstream` and other ( i think )... Is there a way to get always the text inside body of message? Thanks!! ","title":"How to read text inside body of mail using javax.mail","body":"<p>i'm developing a client mail using javax.mail to read mail inside mail box:</p>\n\n<pre><code>Properties properties = System.getProperties();  \nproperties.setProperty(\"mail.store.protocol\", \"imap\");  \ntry {  \n    Session session = Session.getDefaultInstance(properties, null);\n    Store store = session.getStore(\"pop3\");//create store instance  \n    store.connect(\"pop3.domain.it\", \"mail.it\", \"*****\");  \n    Folder inbox = store.getFolder(\"inbox\");  \n    FlagTerm ft = new FlagTerm(new Flags(Flags.Flag.SEEN), false);\n    inbox.open(Folder.READ_ONLY);//set access type of Inbox  \n    Message messages[] = inbox.search(ft);\n    String mail,sub,bodyText=\"\";\n    Object body;\n    for(Message message:messages) {\n        mail = message.getFrom()[0].toString();\n        sub = message.getSubject();\n        body = message.getContent();\n        //bodyText = body.....\n    }\n} catch (Exception e) {  \n    System.out.println(e);    \n}\n</code></pre>\n\n<p>I know that the method <code>getContent()</code> returns an object cause the content could be a <code>String</code>, a <code>MimeMultiPart</code>, a <code>SharedByteArrayInputstream</code> and other ( i think )... Is there a way to get always the text inside body of message? Thanks!! </p>\n"},{"tags":["java","android","firebase-realtime-database","android-recyclerview","android-mediaplayer"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670763245,"post_id":74758625,"comment_id":131943780,"body_markdown":"Can you please explain to us how is this question related to Firebase?","body":"Can you please explain to us how is this question related to Firebase?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670777181,"post_id":74758625,"comment_id":131946790,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":24551226,"reputation":17,"user_id":18460355,"display_name":"Srijan Khadka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670737295,"creation_date":1670737295,"question_id":74758625,"body_markdown":"I have a List of Voice Recordings. Everything works well until, when one MediaPlayer is running and i clicked on another MediaPlayer without pausing the current one, seekbar of the current MediaPlayer also runs with the new MediaPlayer.\r\n\r\nI tried everything possible i could from setting certain conditions to it but nothing is really working.\r\nPlease anyone there to Help me!","title":"How to Reset the seekBar and disable it when another mediplayer is Running?","body":"<p>I have a List of Voice Recordings. Everything works well until, when one MediaPlayer is running and i clicked on another MediaPlayer without pausing the current one, seekbar of the current MediaPlayer also runs with the new MediaPlayer.</p>\n<p>I tried everything possible i could from setting certain conditions to it but nothing is really working.\nPlease anyone there to Help me!</p>\n"},{"tags":["java","methods","proxy","rmi"],"owner":{"account_id":19647813,"reputation":159,"user_id":14382403,"display_name":"Lucky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670736701,"creation_date":1670733148,"question_id":74758371,"body_markdown":"I am using IntelliJ as my IDE and the code below runs alright if they are in the same src folder. However, **what I want is to call the `sayHello()` method in another project.** Is that possible? I thought this is possible since this is what RMI enables, but am I wrong?\r\n\r\nI tried to create another project that contains a `Main` java class and has the same code as the **Client Test Drive** below, hoping to call the `sayHello()` method by utilizing `Naming.lookup()` but it doesn&#39;t work! If I try to run it, I was given a `java.rmi.UnmarshalException: error unmarshalling return;` exception. What am I missing? \r\n\r\nHow can I call the `sayHello()` method &quot;remotely&quot;?\r\n\r\n**Remote Interface:**\r\n\r\n    package Remote;\r\n    \r\n    import java.rmi.*;\r\n    \r\n    public interface HelloRemote extends Remote {\r\n        String sayHello() throws RemoteException;\r\n    }\r\n\r\n**Remote Implementation**\r\n\r\n    package Remote;\r\n    \r\n    import java.rmi.*;\r\n    import java.rmi.registry.*;\r\n    import java.rmi.server.*;\r\n    \r\n\r\n    \r\n    public class HelloRemoteImpl extends UnicastRemoteObject implements HelloRemote{\r\n        public HelloRemoteImpl() throws RemoteException {}; \r\n    \r\n        @Override\r\n        public String sayHello() throws RemoteException {\r\n            return &quot;Server says, \\&quot;Hello!\\&quot;&quot;;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                // 2.3 register the service\r\n                HelloRemote service = new HelloRemoteImpl();\r\n                final int PORT = 1888;\r\n                Registry registry = LocateRegistry.createRegistry(PORT);\r\n                registry.rebind(&quot;hello&quot;, service);\r\n                System.out.println(&quot;Service running on PORT: &quot; + PORT);\r\n    \r\n            } catch(Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n**Client Test Drive**\r\n\r\n    package Remote;\r\n    \r\n    import java.rmi.Naming;\r\n    \r\n    public class SayHelloTest {\r\n        public static void main(String[] args) {\r\n            try {\r\n                HelloRemote service = (HelloRemote) Naming.lookup(&quot;rmi://127.0.0.1:1888/hello&quot;);\r\n                String helloStr = service.sayHello();\r\n    \r\n                System.out.println(helloStr);\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How can I call a method from another project in Java using Remote Method Invocation (RMI)?","body":"<p>I am using IntelliJ as my IDE and the code below runs alright if they are in the same src folder. However, <strong>what I want is to call the <code>sayHello()</code> method in another project.</strong> Is that possible? I thought this is possible since this is what RMI enables, but am I wrong?</p>\n<p>I tried to create another project that contains a <code>Main</code> java class and has the same code as the <strong>Client Test Drive</strong> below, hoping to call the <code>sayHello()</code> method by utilizing <code>Naming.lookup()</code> but it doesn't work! If I try to run it, I was given a <code>java.rmi.UnmarshalException: error unmarshalling return;</code> exception. What am I missing?</p>\n<p>How can I call the <code>sayHello()</code> method &quot;remotely&quot;?</p>\n<p><strong>Remote Interface:</strong></p>\n<pre><code>package Remote;\n\nimport java.rmi.*;\n\npublic interface HelloRemote extends Remote {\n    String sayHello() throws RemoteException;\n}\n</code></pre>\n<p><strong>Remote Implementation</strong></p>\n<pre><code>package Remote;\n\nimport java.rmi.*;\nimport java.rmi.registry.*;\nimport java.rmi.server.*;\n\n\n\npublic class HelloRemoteImpl extends UnicastRemoteObject implements HelloRemote{\n    public HelloRemoteImpl() throws RemoteException {}; \n\n    @Override\n    public String sayHello() throws RemoteException {\n        return &quot;Server says, \\&quot;Hello!\\&quot;&quot;;\n    }\n\n    public static void main(String[] args) {\n        try {\n            // 2.3 register the service\n            HelloRemote service = new HelloRemoteImpl();\n            final int PORT = 1888;\n            Registry registry = LocateRegistry.createRegistry(PORT);\n            registry.rebind(&quot;hello&quot;, service);\n            System.out.println(&quot;Service running on PORT: &quot; + PORT);\n\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><strong>Client Test Drive</strong></p>\n<pre><code>package Remote;\n\nimport java.rmi.Naming;\n\npublic class SayHelloTest {\n    public static void main(String[] args) {\n        try {\n            HelloRemote service = (HelloRemote) Naming.lookup(&quot;rmi://127.0.0.1:1888/hello&quot;);\n            String helloStr = service.sayHello();\n\n            System.out.println(helloStr);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hierarchy"],"comments":[{"owner":{"account_id":4235012,"reputation":3147,"user_id":3466415,"display_name":"David K"},"score":0,"creation_date":1450737496,"post_id":34405497,"comment_id":56552835,"body_markdown":"Why do you think you have to work from the bottom of the hierarchy up?","body":"Why do you think you have to work from the bottom of the hierarchy up?"},{"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"score":0,"creation_date":1450737645,"post_id":34405497,"comment_id":56552905,"body_markdown":"Sure why not. What&#39;s the problem?","body":"Sure why not. What&#39;s the problem?"},{"owner":{"account_id":3978158,"reputation":381,"user_id":3280836,"accept_rate":31,"display_name":"G Boggs"},"score":0,"creation_date":1450738183,"post_id":34405497,"comment_id":56553125,"body_markdown":"@DavidK the problem I ran into was that, the property that determines the next level in the hierarchy is determined in the constructor of the class itself. Therefore, as it is now, I dont know how to move down the hierarchy once the next path is determined. I&#39;ll update the question","body":"@DavidK the problem I ran into was that, the property that determines the next level in the hierarchy is determined in the constructor of the class itself. Therefore, as it is now, I dont know how to move down the hierarchy once the next path is determined. I&#39;ll update the question"},{"owner":{"account_id":4235012,"reputation":3147,"user_id":3466415,"display_name":"David K"},"score":0,"creation_date":1450801196,"post_id":34405497,"comment_id":56581570,"body_markdown":"The code that chooses the random subclass can execute prior to calling the constructor of the object you&#39;re going to create. When you have randomly chosen a class, then you construct it. At least two of the answers are based on this.","body":"The code that chooses the random subclass can execute prior to calling the constructor of the object you&#39;re going to create. When you have randomly chosen a class, then you construct it. At least two of the answers are based on this."}],"answers":[{"comments":[{"owner":{"account_id":3978158,"reputation":381,"user_id":3280836,"accept_rate":31,"display_name":"G Boggs"},"score":0,"creation_date":1450740609,"post_id":34405832,"comment_id":56554042,"body_markdown":"I see how this can be useful, but can you elaborate on how I would use this in my case?","body":"I see how this can be useful, but can you elaborate on how I would use this in my case?"},{"owner":{"account_id":6583624,"reputation":2702,"user_id":5087125,"display_name":"pvg"},"score":0,"creation_date":1450744132,"post_id":34405832,"comment_id":56555098,"body_markdown":"@GBoggs The call gives you your entire hierarchy in hierarchy order. So, find your item in the list. Want to move up? move up the list from that index. Want to move down? Pick something further in the list. That way you get hierarchy-preserving randomization.","body":"@GBoggs The call gives you your entire hierarchy in hierarchy order. So, find your item in the list. Want to move up? move up the list from that index. Want to move down? Pick something further in the list. That way you get hierarchy-preserving randomization."}],"tags":[],"owner":{"account_id":6583624,"reputation":2702,"user_id":5087125,"display_name":"pvg"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450738894,"creation_date":1450738894,"answer_id":34405832,"question_id":34405497,"body_markdown":"You can get a list of all your enums from the enum class - the order is the order in which they are declared so if you declare them in hierarchy order, you can traverse the list however you want. The relevant oracle doc is here: \r\n\r\nhttps://docs.oracle.com/javase/tutorial/reflect/special/enumMembers.html","title":"Randomly moving down a class hierarchy","body":"<p>You can get a list of all your enums from the enum class - the order is the order in which they are declared so if you declare them in hierarchy order, you can traverse the list however you want. The relevant oracle doc is here: </p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/reflect/special/enumMembers.html\" rel=\"nofollow\">https://docs.oracle.com/javase/tutorial/reflect/special/enumMembers.html</a></p>\n"},{"tags":[],"owner":{"account_id":5174460,"reputation":1070,"user_id":4142084,"display_name":"Raul Santelices"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450739349,"creation_date":1450739349,"answer_id":34405918,"question_id":34405497,"body_markdown":"If you want to work your way from the top down, especially if the subclass selection depends on the choices made when constructing the superclass, then it&#39;s probably much better to favor composition over inheritance. So, if for `Item` you have `Type` specific information, you could make `Type` contain all the properties you could possibly want, including references to subsequent objects down this (conceptual) hierarchy.\n\nAt any point, of course, you can in addition make a small class hierarchy out of `Item`,  `Type`, and so on as long as you know before creating the object the specific subclass it should be. Otherwise, composition would be the only way to create your item in the fashion you describe.","title":"Randomly moving down a class hierarchy","body":"<p>If you want to work your way from the top down, especially if the subclass selection depends on the choices made when constructing the superclass, then it's probably much better to favor composition over inheritance. So, if for <code>Item</code> you have <code>Type</code> specific information, you could make <code>Type</code> contain all the properties you could possibly want, including references to subsequent objects down this (conceptual) hierarchy.</p>\n\n<p>At any point, of course, you can in addition make a small class hierarchy out of <code>Item</code>,  <code>Type</code>, and so on as long as you know before creating the object the specific subclass it should be. Otherwise, composition would be the only way to create your item in the fashion you describe.</p>\n"},{"tags":[],"owner":{"account_id":3332716,"reputation":2082,"user_id":2801237,"display_name":"mawalker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450739368,"creation_date":1450739368,"answer_id":34405924,"question_id":34405497,"body_markdown":"You could have a static method in each class that determines the &#39;next transition&#39;(thinking of the package of &#39;items&#39; as a tree. \r\n\r\nSo \r\n \r\n\r\n    // untested code\r\n    \r\n    String nextClass = &quot;Item&quot;;\r\n    \r\n    // define a helper method\r\n    \r\n    Class x = getClass(nextClass);\r\n    \r\n    while( x.hasMore() == true )\r\n    {\r\n        nextClass = x.getNextClass();\r\n        x = getClass(nextClass);\r\n    \r\n    } \r\n    // reflection here on Class &#39;x&#39; (whatever that is...)\r\n\r\nThen you can use reflection to instantiate the last class. \r\n\r\nThis probably is a bad idea. But it would &#39;walk&#39; a tree of well formed classes \r\n","title":"Randomly moving down a class hierarchy","body":"<p>You could have a static method in each class that determines the 'next transition'(thinking of the package of 'items' as a tree. </p>\n\n<p>So </p>\n\n<pre><code>// untested code\n\nString nextClass = \"Item\";\n\n// define a helper method\n\nClass x = getClass(nextClass);\n\nwhile( x.hasMore() == true )\n{\n    nextClass = x.getNextClass();\n    x = getClass(nextClass);\n\n} \n// reflection here on Class 'x' (whatever that is...)\n</code></pre>\n\n<p>Then you can use reflection to instantiate the last class. </p>\n\n<p>This probably is a bad idea. But it would 'walk' a tree of well formed classes </p>\n"},{"comments":[{"owner":{"account_id":3978158,"reputation":381,"user_id":3280836,"accept_rate":31,"display_name":"G Boggs"},"score":0,"creation_date":1450740773,"post_id":34406089,"comment_id":56554102,"body_markdown":"So are you just implying that I just have a method that will randomly select the first property (Type), then have a switch statement that will accordingly move down the hierarchy and randomly select the next one, so on and so forth until I reach one of the bottom nodes? Then at that point I simply create that object? Is this an efficient way, or the only way?","body":"So are you just implying that I just have a method that will randomly select the first property (Type), then have a switch statement that will accordingly move down the hierarchy and randomly select the next one, so on and so forth until I reach one of the bottom nodes? Then at that point I simply create that object? Is this an efficient way, or the only way?"},{"owner":{"account_id":7032371,"reputation":3061,"user_id":5387592,"accept_rate":29,"display_name":"guillaume girod-vitouchkina"},"score":1,"creation_date":1450741211,"post_id":34406089,"comment_id":56554244,"body_markdown":"It is not surely the most efficient way, because of the reflection (but your program can do it once, and cache the information), and it is not the only way. The principal benefit is independence between classes: The day you create a dagger or a knife below weapon, that&#39;s done ! You dont have to maintain two parallel structures (one day, it wont be coherent).","body":"It is not surely the most efficient way, because of the reflection (but your program can do it once, and cache the information), and it is not the only way. The principal benefit is independence between classes: The day you create a dagger or a knife below weapon, that&#39;s done ! You dont have to maintain two parallel structures (one day, it wont be coherent)."},{"owner":{"account_id":3978158,"reputation":381,"user_id":3280836,"accept_rate":31,"display_name":"G Boggs"},"score":0,"creation_date":1450741422,"post_id":34406089,"comment_id":56554322,"body_markdown":"Two things. 1)What do you mean by independence between classes? 2)What do you mean by create a dagger or knife below?","body":"Two things. 1)What do you mean by independence between classes? 2)What do you mean by create a dagger or knife below?"},{"owner":{"account_id":7032371,"reputation":3061,"user_id":5387592,"accept_rate":29,"display_name":"guillaume girod-vitouchkina"},"score":0,"creation_date":1450741652,"post_id":34406089,"comment_id":56554399,"body_markdown":"suppose your app uses weapon. next month you want to refine this with a new subclasses: knife. Then only subclass: nothing to do more to choose it randomly. Next month: other subclass of weapon: dagger: idem.","body":"suppose your app uses weapon. next month you want to refine this with a new subclasses: knife. Then only subclass: nothing to do more to choose it randomly. Next month: other subclass of weapon: dagger: idem."}],"tags":[],"owner":{"account_id":7032371,"reputation":3061,"user_id":5387592,"accept_rate":29,"display_name":"guillaume girod-vitouchkina"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450740429,"creation_date":1450740429,"answer_id":34406089,"question_id":34405497,"body_markdown":"If I understand your goal, and try to reformulate:\r\n\r\n- you have a top type: Item\r\n\r\n- you have (or create now, or further perhaps ?) subclasses of Item, by adding some property: Equipable, then Weapon, etc.\r\n\r\n- from top (Item), you want to random select a subclass (Equipable ? yes/no ? if yes =&gt; equip Type, etc.\r\n\r\nWhat I suggest:\r\n\r\n- dont break notion of subclass: a parent doesnt need to know by advance his children\r\n\r\n- then take a class (1st: item, and so on), search subclasses by reflection\r\n\r\n- select between children: at this point you must define how you categorize between children: any new variable, or any variable begining by a prefix. For example, you can define \tfinal static int category_weapon=1; (or true, false, ...)\r\n\r\n- then to iterate, you go from top, get children, get these static variables and value, and choose at random between these children, and do it again\r\n\r\nAnother way to caracterize: use Interfaces (weapon, equipable, ...): the benefit is you can then apply predefined method (for weapon, ...)\r\n\r\nCheaper : dont use any variable, just use the name of the children class to choose the next. \r\n\r\nA good way to choose: define precisely what you&#39;ll do with these objects.\r\n\r\nHope it helps.","title":"Randomly moving down a class hierarchy","body":"<p>If I understand your goal, and try to reformulate:</p>\n\n<ul>\n<li><p>you have a top type: Item</p></li>\n<li><p>you have (or create now, or further perhaps ?) subclasses of Item, by adding some property: Equipable, then Weapon, etc.</p></li>\n<li><p>from top (Item), you want to random select a subclass (Equipable ? yes/no ? if yes => equip Type, etc.</p></li>\n</ul>\n\n<p>What I suggest:</p>\n\n<ul>\n<li><p>dont break notion of subclass: a parent doesnt need to know by advance his children</p></li>\n<li><p>then take a class (1st: item, and so on), search subclasses by reflection</p></li>\n<li><p>select between children: at this point you must define how you categorize between children: any new variable, or any variable begining by a prefix. For example, you can define   final static int category_weapon=1; (or true, false, ...)</p></li>\n<li><p>then to iterate, you go from top, get children, get these static variables and value, and choose at random between these children, and do it again</p></li>\n</ul>\n\n<p>Another way to caracterize: use Interfaces (weapon, equipable, ...): the benefit is you can then apply predefined method (for weapon, ...)</p>\n\n<p>Cheaper : dont use any variable, just use the name of the children class to choose the next. </p>\n\n<p>A good way to choose: define precisely what you'll do with these objects.</p>\n\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":3978158,"reputation":381,"user_id":3280836,"accept_rate":31,"display_name":"G Boggs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1670735371,"creation_date":1450737339,"question_id":34405497,"body_markdown":"I&#39;m currently working on an &quot;item drop&quot; system, where items (and their properties) are randomly generated upon slaying an enemy. The current system I have is a hierarchy of classes, with **Item** being the root super class. Each class has specific properties common to all subclasses.\r\n\r\nIdeally upon dropping an item, program will randomly select one property of the item and move down the hierarchy tree accordingly. For example, the process is as follows:\r\n\r\n*Class* | *Randomly Selected Property determining path in tree:*\r\n\r\n**Item | ItemType** -&gt; **Equipable | EquipType** -&gt; **Weapon | WeaponType** -&gt; etc.\r\n\r\nExample code:\r\n\r\n    abstract class Item \r\n    {\t\r\n    \tprivate Type itemType;\r\n    \tprivate String itemName;\r\n    \tprivate int itemLevel;\r\n    \tprivate Rarity itemRarity;\r\n    \tprivate boolean questItem;\r\n    \tprivate int itemPrice;\r\n\r\n    \tpublic Item(String name)\r\n    \t{\r\n    \t\titemType = Type.randomize();\r\n    \t\titemName = name;\r\n    \t\titemLevel = randomizeLevel(pLvl, eLvl);\r\n    \t\titemRarity = Rarity.randomize(bonus, pLvl, eLvl, iLvl);\r\n    \t\tquestItem = false;\r\n    \t\titemPrice = determinePrice();\r\n    \t}\r\n    }\r\n\r\n**Type** is an enum deciding the next level in the hierarchy. With this system, I dont know how to let the program determine the next level, and then proceed to it.\r\n\r\nThe problem I&#39;ve run into is that I&#39;ve realized in order for this to work, I have to work from the bottom of the hierarchy, up. Is there a way for me to work from the top-down, meaning I can start with a basic **Item** class and procedurally work my way down (using the methods I created to randomly select the properties). \r\n\r\nIf not, is there a specific way I should implement this system?","title":"Randomly moving down a class hierarchy","body":"<p>I'm currently working on an \"item drop\" system, where items (and their properties) are randomly generated upon slaying an enemy. The current system I have is a hierarchy of classes, with <strong>Item</strong> being the root super class. Each class has specific properties common to all subclasses.</p>\n\n<p>Ideally upon dropping an item, program will randomly select one property of the item and move down the hierarchy tree accordingly. For example, the process is as follows:</p>\n\n<p><em>Class</em> | <em>Randomly Selected Property determining path in tree:</em></p>\n\n<p><strong>Item | ItemType</strong> -> <strong>Equipable | EquipType</strong> -> <strong>Weapon | WeaponType</strong> -> etc.</p>\n\n<p>Example code:</p>\n\n<pre><code>abstract class Item \n{   \n    private Type itemType;\n    private String itemName;\n    private int itemLevel;\n    private Rarity itemRarity;\n    private boolean questItem;\n    private int itemPrice;\n\n    public Item(String name)\n    {\n        itemType = Type.randomize();\n        itemName = name;\n        itemLevel = randomizeLevel(pLvl, eLvl);\n        itemRarity = Rarity.randomize(bonus, pLvl, eLvl, iLvl);\n        questItem = false;\n        itemPrice = determinePrice();\n    }\n}\n</code></pre>\n\n<p><strong>Type</strong> is an enum deciding the next level in the hierarchy. With this system, I dont know how to let the program determine the next level, and then proceed to it.</p>\n\n<p>The problem I've run into is that I've realized in order for this to work, I have to work from the bottom of the hierarchy, up. Is there a way for me to work from the top-down, meaning I can start with a basic <strong>Item</strong> class and procedurally work my way down (using the methods I created to randomly select the properties). </p>\n\n<p>If not, is there a specific way I should implement this system?</p>\n"},{"tags":["java","android","device"],"comments":[{"owner":{"account_id":2085689,"reputation":5357,"user_id":1856738,"accept_rate":82,"display_name":"class stacker"},"score":0,"creation_date":1361455542,"post_id":15004133,"comment_id":21076590,"body_markdown":"And did you compare the completely different display to the Android ID instead of the Build.SERIAL?","body":"And did you compare the completely different display to the Android ID instead of the Build.SERIAL?"},{"owner":{"account_id":2111091,"reputation":1371,"user_id":1876359,"accept_rate":78,"display_name":"ocramot"},"score":0,"creation_date":1361459678,"post_id":15004133,"comment_id":21079200,"body_markdown":"Of course I did. Android ID and Android serial are two different 16-digits alphanumeric lowercase codes.","body":"Of course I did. Android ID and Android serial are two different 16-digits alphanumeric lowercase codes."},{"owner":{"account_id":2085689,"reputation":5357,"user_id":1856738,"accept_rate":82,"display_name":"class stacker"},"score":1,"creation_date":1361461041,"post_id":15004133,"comment_id":21080022,"body_markdown":"I hope you don&#39;t rely on this 16 char observation too much because I have seen different ones. ;) But anyways, I presume you need this for support requests, and the general recommendation in this regard is to generate an own installation UUID and use that, because neither Build.SERIAL nor ANDROID_ID are reliable enough. Your app could show the installation ID to the user. But of course, that&#39;s also a solution for your current calamity; if you decide to live with SERIAL&#39;s lack of reliability, that is.","body":"I hope you don&#39;t rely on this 16 char observation too much because I have seen different ones. ;) But anyways, I presume you need this for support requests, and the general recommendation in this regard is to generate an own installation UUID and use that, because neither Build.SERIAL nor ANDROID_ID are reliable enough. Your app could show the installation ID to the user. But of course, that&#39;s also a solution for your current calamity; if you decide to live with SERIAL&#39;s lack of reliability, that is."},{"owner":{"account_id":1546820,"reputation":361,"user_id":1440187,"display_name":"Carsten"},"score":0,"creation_date":1361463858,"post_id":15004133,"comment_id":21081931,"body_markdown":"I think my answer in this Question (http://stackoverflow.com/questions/13248481/settings-secure-android-id-always-the-same-on-each-device/13248925#13248925) helps you.","body":"I think my answer in this Question (<a href=\"http://stackoverflow.com/questions/13248481/settings-secure-android-id-always-the-same-on-each-device/13248925#13248925\" title=\"settings secure android id always the same on each device\">stackoverflow.com/questions/13248481/&hellip;</a>) helps you."},{"owner":{"account_id":2111091,"reputation":1371,"user_id":1876359,"accept_rate":78,"display_name":"ocramot"},"score":0,"creation_date":1361482698,"post_id":15004133,"comment_id":21091799,"body_markdown":"Class Stacker: I know, I&#39;ve seen different kinds of serials myself ;) they seem to behave differently on each device family. Unfortunately I need to know an ID, and I need to know it before installing my app.\nBandits: thanks, I had already seen your answer googling around! ;) I was going to use the ANDROID_ID in fact, but I have to explain my user where to find it, and I haven&#39;t seen this code anywhere in the phone settings","body":"Class Stacker: I know, I&#39;ve seen different kinds of serials myself ;) they seem to behave differently on each device family. Unfortunately I need to know an ID, and I need to know it before installing my app. Bandits: thanks, I had already seen your answer googling around! ;) I was going to use the ANDROID_ID in fact, but I have to explain my user where to find it, and I haven&#39;t seen this code anywhere in the phone settings"}],"answers":[{"tags":[],"owner":{"account_id":1471493,"reputation":284,"user_id":4047078,"display_name":"Peter Bauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411112225,"creation_date":1411112225,"answer_id":25928744,"question_id":15004133,"body_markdown":"The app &quot;Android id&quot; on google play(free) shows different ID&#39;s like:\r\n \r\n - android_ID\r\n - android.os.build.serial\r\n - telephonyManager deviceID\r\n - wifi mac","title":"How to get Android Serial or Android ID from Setting menu (or somewhere else in the UI)","body":"<p>The app \"Android id\" on google play(free) shows different ID's like:</p>\n\n<ul>\n<li>android_ID</li>\n<li>android.os.build.serial</li>\n<li>telephonyManager deviceID</li>\n<li>wifi mac</li>\n</ul>\n"}],"owner":{"account_id":2111091,"reputation":1371,"user_id":1876359,"accept_rate":78,"display_name":"ocramot"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7848,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1670735130,"creation_date":1361455176,"question_id":15004133,"body_markdown":"I obtained the Android serial number by code using\r\n\r\n    android.os.Build.SERIAL\r\n\r\nI then compare it to the serial number found in the Settings menu (Settings-&gt; About device-&gt; Status-&gt; Serial number).\r\n\r\nI&#39;ve tested it, and it seems that on some devices (e.g. Nexus) the two codes are the same, while on others (e.g. Galaxy Note) the two codes are completely different: The Java code returns me a 16-digit alphanumeric (lowercase) code, while on screen I can see an 11-digit alphanumeric (uppercase) code.\r\n\r\n- How is it possible? Are these two codes the same, or something completely different?\r\n\r\n- If they are the same, is there a way to convert from one of the two to the other?\r\n\r\n- Is there a better way to identify the device? I know that I can use&#160;\r\n\r\n  1. the phone device ID (IMEI, MEID,...), which can be obtained  \r\n\r\n     ```java\r\n     TelephonyManager tManager = (TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE);\r\n     tManager.getDeviceId();\r\n     ```\r\n\r\n     but not all devices are phones, and not all of them have this code;\r\n \r\n  2. The Android ID, retrievable by  \r\n\r\n     ```java\r\n     Secure.getString(context.getContentResolver(),Secure.ANDROID_ID);\r\n     ```\r\n\r\n     But I cannot find it anywhere in the Settings menu, and I need my user to tell me its code by reading it from the user interface.","title":"How to get Android Serial or Android ID from Setting menu (or somewhere else in the UI)","body":"<p>I obtained the Android serial number by code using</p>\n<pre><code>android.os.Build.SERIAL\n</code></pre>\n<p>I then compare it to the serial number found in the Settings menu (Settings-&gt; About device-&gt; Status-&gt; Serial number).</p>\n<p>I've tested it, and it seems that on some devices (e.g. Nexus) the two codes are the same, while on others (e.g. Galaxy Note) the two codes are completely different: The Java code returns me a 16-digit alphanumeric (lowercase) code, while on screen I can see an 11-digit alphanumeric (uppercase) code.</p>\n<ul>\n<li><p>How is it possible? Are these two codes the same, or something completely different?</p>\n</li>\n<li><p>If they are the same, is there a way to convert from one of the two to the other?</p>\n</li>\n<li><p>Is there a better way to identify the device? I know that I can use </p>\n<ol>\n<li><p>the phone device ID (IMEI, MEID,...), which can be obtained</p>\n<pre class=\"lang-java prettyprint-override\"><code>TelephonyManager tManager = (TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE);\ntManager.getDeviceId();\n</code></pre>\n<p>but not all devices are phones, and not all of them have this code;</p>\n</li>\n<li><p>The Android ID, retrievable by</p>\n<pre class=\"lang-java prettyprint-override\"><code>Secure.getString(context.getContentResolver(),Secure.ANDROID_ID);\n</code></pre>\n<p>But I cannot find it anywhere in the Settings menu, and I need my user to tell me its code by reading it from the user interface.</p>\n</li>\n</ol>\n</li>\n</ul>\n"},{"tags":["java","android","kotlin","android-room","kotlin-coroutines"],"answers":[{"comments":[{"owner":{"account_id":25447242,"reputation":89,"user_id":19249278,"display_name":"chrisChris"},"score":0,"creation_date":1670820231,"post_id":74758313,"comment_id":131953808,"body_markdown":"It was problem with json, not exact data... my mistake didn&#39;t check it after refactoring from realm. GlobalScope.launch gives crash, because I call this method from java file where coroutines don&#39;t work. workaround is to use &#39;CompletableFuture&#39;. Now finally works!","body":"It was problem with json, not exact data... my mistake didn&#39;t check it after refactoring from realm. GlobalScope.launch gives crash, because I call this method from java file where coroutines don&#39;t work. workaround is to use &#39;CompletableFuture&#39;. Now finally works!"}],"tags":[],"owner":{"account_id":1498636,"reputation":3817,"user_id":1403997,"accept_rate":70,"display_name":"4gus71n"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670732256,"creation_date":1670732256,"answer_id":74758313,"question_id":74757666,"body_markdown":"Try removing the `abstract` and the `open`, your DAO is an `interface`, right? If not, that might be the issue, but I don&#39;t see any problem with your `@Transaction` there. Check this [example][1].\r\n\r\nAlso, what&#39;s the context behind the usage of `GlobalScope.future`? I think you should be using `GlobalScope.launch`, but even so, if you are doing this in a `ViewModel` I would recommend that you use the _actual_ correct way that is `viewModelScope.launch {...` \r\n\r\n  [1]: https://github.com/android/trackr/blob/9b7c22d6e7b2782959389ed115730efcfcddc790/shared/src/main/java/com/example/android/trackr/db/dao/TaskDao.kt#L185","title":"How to save data in room with coroutines in java?","body":"<p>Try removing the <code>abstract</code> and the <code>open</code>, your DAO is an <code>interface</code>, right? If not, that might be the issue, but I don't see any problem with your <code>@Transaction</code> there. Check this <a href=\"https://github.com/android/trackr/blob/9b7c22d6e7b2782959389ed115730efcfcddc790/shared/src/main/java/com/example/android/trackr/db/dao/TaskDao.kt#L185\" rel=\"nofollow noreferrer\">example</a>.</p>\n<p>Also, what's the context behind the usage of <code>GlobalScope.future</code>? I think you should be using <code>GlobalScope.launch</code>, but even so, if you are doing this in a <code>ViewModel</code> I would recommend that you use the <em>actual</em> correct way that is <code>viewModelScope.launch {...</code></p>\n"}],"owner":{"account_id":25447242,"reputation":89,"user_id":19249278,"display_name":"chrisChris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670732256,"creation_date":1670720512,"question_id":74757666,"body_markdown":"I have response from backend in java file:\r\n\r\nthis is kotlin file\r\n```\r\nclass ResponseData {\r\n    val data: List&lt;DataRoom&gt;? = null\r\n    }\r\n\r\n```\r\n\r\nthis is my code in java, saving response\r\n```\r\n                repo.getValue().saveDataToRoom(response.body().getData());\r\n```\r\n\r\nsaveDataToRoom\r\n```\r\n            GlobalScope.future {\r\ninsertAllDataUseCase.build(data)\r\n}\r\n```\r\n\r\n```\r\nclass InsertAllDataUseCase (private val dataDao: DataDao):\r\nBaseUseCase&lt;List&lt;DataRoom&gt;, Unit&gt;() {\r\n    override suspend fun create(params: List&lt;DataRoom&gt;) {\r\n        dataDao.setNewDataListWithDelete(params)\r\n    }\r\n}\r\n```\r\n\r\ndao\r\n```\r\n    @Transaction\r\n    open suspend fun setNewDataListWithDelete(datas: List&lt;DataRoom&gt;) {\r\n        deleteAllData()\r\n        insertAllData(data)\r\n    }\r\n\r\n    @Query(&quot;DELETE FROM data&quot;)\r\n    abstract suspend fun deleteAllData()\r\n\r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n    abstract suspend fun insertAllData(dataItems:List&lt;DataRoom&gt;)\r\n```\r\n\r\nIt doesn&#39;t work, it doesn&#39;t save there. I check with getting the data, checking App Inspection, it is just empty. As well I can log response from backend, it works. Why it does not work?","title":"How to save data in room with coroutines in java?","body":"<p>I have response from backend in java file:</p>\n<p>this is kotlin file</p>\n<pre><code>class ResponseData {\n    val data: List&lt;DataRoom&gt;? = null\n    }\n\n</code></pre>\n<p>this is my code in java, saving response</p>\n<pre><code>                repo.getValue().saveDataToRoom(response.body().getData());\n</code></pre>\n<p>saveDataToRoom</p>\n<pre><code>            GlobalScope.future {\ninsertAllDataUseCase.build(data)\n}\n</code></pre>\n<pre><code>class InsertAllDataUseCase (private val dataDao: DataDao):\nBaseUseCase&lt;List&lt;DataRoom&gt;, Unit&gt;() {\n    override suspend fun create(params: List&lt;DataRoom&gt;) {\n        dataDao.setNewDataListWithDelete(params)\n    }\n}\n</code></pre>\n<p>dao</p>\n<pre><code>    @Transaction\n    open suspend fun setNewDataListWithDelete(datas: List&lt;DataRoom&gt;) {\n        deleteAllData()\n        insertAllData(data)\n    }\n\n    @Query(&quot;DELETE FROM data&quot;)\n    abstract suspend fun deleteAllData()\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    abstract suspend fun insertAllData(dataItems:List&lt;DataRoom&gt;)\n</code></pre>\n<p>It doesn't work, it doesn't save there. I check with getting the data, checking App Inspection, it is just empty. As well I can log response from backend, it works. Why it does not work?</p>\n"},{"tags":["java","compilation","package"],"comments":[{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1432303393,"post_id":30398646,"comment_id":48885205,"body_markdown":"Are the different filesystems compatible enough so that package names can be reliably inferred from them across any platform?","body":"Are the different filesystems compatible enough so that package names can be reliably inferred from them across any platform?"}],"answers":[{"comments":[{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1432303677,"post_id":30398812,"comment_id":48885432,"body_markdown":"It&#39;s not just ease of finding them, how would you deal with duplicate simple names in different packages if they were all dumped in the same directory?","body":"It&#39;s not just ease of finding them, how would you deal with duplicate simple names in different packages if they were all dumped in the same directory?"},{"owner":{"account_id":2764445,"reputation":3146,"user_id":2380618,"display_name":"Phil Anderson"},"score":0,"creation_date":1432303965,"post_id":30398812,"comment_id":48885625,"body_markdown":"@bizclop: Good call! I missed that.","body":"@bizclop: Good call! I missed that."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":2,"creation_date":1432304288,"post_id":30398812,"comment_id":48885864,"body_markdown":"I don&#39;t think this answers the question. By turning the issue around you explain why the folder structure should match the package declaration but you don&#39;t explain why the package declaration is needed.","body":"I don&#39;t think this answers the question. By turning the issue around you explain why the folder structure should match the package declaration but you don&#39;t explain why the package declaration is needed."},{"owner":{"account_id":2764445,"reputation":3146,"user_id":2380618,"display_name":"Phil Anderson"},"score":0,"creation_date":1432313317,"post_id":30398812,"comment_id":48891604,"body_markdown":"The package declaration is needed to establish the namespace of the class. Stephen C&#39;s accepted answer provides an excellent explanation of why it&#39;s needed.","body":"The package declaration is needed to establish the namespace of the class. Stephen C&#39;s accepted answer provides an excellent explanation of why it&#39;s needed."}],"tags":[],"owner":{"account_id":2764445,"reputation":3146,"user_id":2380618,"display_name":"Phil Anderson"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1432303912,"creation_date":1432303419,"answer_id":30398812,"question_id":30398646,"body_markdown":"Turn the question on its head:\r\n\r\nAssume that the package statement is the important thing - It represents the namespace of the class and belongs in the class file.\r\n\r\nSo now the question is - Why do classes have to be in folders that match their package? \r\n\r\nThe answer is that it makes finding them much easier - it is just a good way to organize them.\r\n\r\nDoes that help?","title":"Why do java source files require package declarations?","body":"<p>Turn the question on its head:</p>\n\n<p>Assume that the package statement is the important thing - It represents the namespace of the class and belongs in the class file.</p>\n\n<p>So now the question is - Why do classes have to be in folders that match their package? </p>\n\n<p>The answer is that it makes finding them much easier - it is just a good way to organize them.</p>\n\n<p>Does that help?</p>\n"},{"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1432304390,"post_id":30398930,"comment_id":48885941,"body_markdown":"Essentially you&#39;re saying that you don&#39;t have to store your classes on a file system.","body":"Essentially you&#39;re saying that you don&#39;t have to store your classes on a file system."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1432304424,"post_id":30398930,"comment_id":48885962,"body_markdown":"That is correct.  Furthermore, a hypothetical java compiler could be implemented that ignored the source file pathnames, or that allowed you to put an entire (multi-class / multi-package) program into a single file.","body":"That is correct.  Furthermore, a hypothetical java compiler could be implemented that ignored the source file pathnames, or that allowed you to put an entire (multi-class / multi-package) program into a single file."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":1,"creation_date":1432304575,"post_id":30398930,"comment_id":48886062,"body_markdown":"@mpkorstanje Or even if you do, there is no obligation for the directory structure to map one-to-one onto package names.","body":"@mpkorstanje Or even if you do, there is no obligation for the directory structure to map one-to-one onto package names."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1670731670,"creation_date":1432303760,"answer_id":30398930,"question_id":30398646,"body_markdown":"As you (implicitly) acknowledged, you are not *required* to declare the name of a package in the case of the default package.  Let us put that quibble aside ... \r\n\r\nThe reason for this seeming redundancy is that without a `package` declaration, the meaning of Java&lt;sup&gt;1&lt;/sup&gt; source code would be ambiguous.  For example, a source file whose pathname was &quot;/home/steve/project/src/com/example/Main.java&quot; could have 7 different fully qualified names, depending on how you compiled the code.  Most likely, only one of those will be the &quot;correct&quot; one.  But you wouldn&#39;t be able to tell which FQN is correct by looking at (just) the one source file.\r\n\r\n--------------\r\n\r\nIt should also be noted that the Java language specification does not *require* you to organize the source code tree according to the packages.  That is a requirement of a (large) family of Java compilers, but a conformant compiler could be written that did not require this.  For example:\r\n\r\n  - The source code could be held in a database.\r\n  - The source code could be held in a file tree with random file names&lt;sup&gt;2&lt;/sup&gt;.\r\n\r\nIn such eventualities, the `package` declaration would not be duplicative of file pathnames, or (necessarily) of anything.  However, unless there was some redundancy, finding the correct source &quot;file&quot; for a class would be expensive for the compiler ... and problematic for the programmer.\r\n\r\nConsiderations like the above are the practical reason that most Java tool chains rely on file tree structure to locate source and compiled classes. \r\n\r\n----------------\r\n\r\n&lt;sup&gt;1 - By this, I mean hypothetical dialect of Java which didn&#39;t require `package` declarations.&lt;br&gt;\r\n2 - The compiler would need to scan the file tree to find all Java files, and parse them to work out which file defined which class.  Possible, but not very practical.&lt;/sup&gt;","title":"Why do java source files require package declarations?","body":"<p>As you (implicitly) acknowledged, you are not <em>required</em> to declare the name of a package in the case of the default package.  Let us put that quibble aside ...</p>\n<p>The reason for this seeming redundancy is that without a <code>package</code> declaration, the meaning of Java<sup>1</sup> source code would be ambiguous.  For example, a source file whose pathname was &quot;/home/steve/project/src/com/example/Main.java&quot; could have 7 different fully qualified names, depending on how you compiled the code.  Most likely, only one of those will be the &quot;correct&quot; one.  But you wouldn't be able to tell which FQN is correct by looking at (just) the one source file.</p>\n<hr />\n<p>It should also be noted that the Java language specification does not <em>require</em> you to organize the source code tree according to the packages.  That is a requirement of a (large) family of Java compilers, but a conformant compiler could be written that did not require this.  For example:</p>\n<ul>\n<li>The source code could be held in a database.</li>\n<li>The source code could be held in a file tree with random file names<sup>2</sup>.</li>\n</ul>\n<p>In such eventualities, the <code>package</code> declaration would not be duplicative of file pathnames, or (necessarily) of anything.  However, unless there was some redundancy, finding the correct source &quot;file&quot; for a class would be expensive for the compiler ... and problematic for the programmer.</p>\n<p>Considerations like the above are the practical reason that most Java tool chains rely on file tree structure to locate source and compiled classes.</p>\n<hr />\n<p><sup>1 - By this, I mean hypothetical dialect of Java which didn't require <code>package</code> declarations.<br>\n2 - The compiler would need to scan the file tree to find all Java files, and parse them to work out which file defined which class.  Possible, but not very practical.</sup></p>\n"},{"tags":[],"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1432304358,"creation_date":1432303913,"answer_id":30398988,"question_id":30398646,"body_markdown":"You have to keep in mind that packages do not just indicate the folder structure. The folder structure is the convention Java adopted to match the package names, just like the convention that the class name must match the filename. \r\n\r\nA package is required to disambiguate a class from other classes with the same name. For instance `java.util.Date` is different from `java.sql.Date`.\r\nThe package also gives access to methods or members which are `package-private`, to other classes in the same package.\r\n\r\nYou have to see it the other way round. The class has all the information about itself, the class name and the package name. Then when the program needs it, and the class is not loaded yet, the JVM knows where to look for it by looking at the folder structure that matches the package name and the class with the filename matching its class name. \r\n\r\n\r\n","title":"Why do java source files require package declarations?","body":"<p>You have to keep in mind that packages do not just indicate the folder structure. The folder structure is the convention Java adopted to match the package names, just like the convention that the class name must match the filename. </p>\n\n<p>A package is required to disambiguate a class from other classes with the same name. For instance <code>java.util.Date</code> is different from <code>java.sql.Date</code>.\nThe package also gives access to methods or members which are <code>package-private</code>, to other classes in the same package.</p>\n\n<p>You have to see it the other way round. The class has all the information about itself, the class name and the package name. Then when the program needs it, and the class is not loaded yet, the JVM knows where to look for it by looking at the folder structure that matches the package name and the class with the filename matching its class name. </p>\n"},{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432305405,"creation_date":1432304884,"answer_id":30399344,"question_id":30398646,"body_markdown":"In fact there&#39;s no such obligation at all.\r\n\r\nOracle JDKs `javac` (and I believe most other implementations too) will happily compile your `HelloWorld` class, no matter what directory it is in and what package you declare in the source file.\r\n\r\nWhere the directory structure comes into the picture is when you compile **multiple source files** that refer to each other. At this point the compiler must be able to look them up somehow. But all it has in the source code is the fully qualified name of the referred class (which may not even have been compiled yet). \r\n\r\nAt runtime the story is similar: when a class needs to be loaded, its fully qualified name is the starting point. Now the class loader&#39;s job is to find a `.class` file (or an entry in a ZIP file, or any other imaginable source) based on the FQN alone, and again the simplest thing in a hierarchical file system is to translate the package name into a directory structure.\r\n\r\nThe only difference is that at runtime your &quot;standalone&quot; class too has to be loaded by the VM, therefore it needs to be looked up, therefore it should be in the correct folder structure (because that&#39;s how the bootstrap class loader works).","title":"Why do java source files require package declarations?","body":"<p>In fact there's no such obligation at all.</p>\n\n<p>Oracle JDKs <code>javac</code> (and I believe most other implementations too) will happily compile your <code>HelloWorld</code> class, no matter what directory it is in and what package you declare in the source file.</p>\n\n<p>Where the directory structure comes into the picture is when you compile <strong>multiple source files</strong> that refer to each other. At this point the compiler must be able to look them up somehow. But all it has in the source code is the fully qualified name of the referred class (which may not even have been compiled yet). </p>\n\n<p>At runtime the story is similar: when a class needs to be loaded, its fully qualified name is the starting point. Now the class loader's job is to find a <code>.class</code> file (or an entry in a ZIP file, or any other imaginable source) based on the FQN alone, and again the simplest thing in a hierarchical file system is to translate the package name into a directory structure.</p>\n\n<p>The only difference is that at runtime your \"standalone\" class too has to be loaded by the VM, therefore it needs to be looked up, therefore it should be in the correct folder structure (because that's how the bootstrap class loader works).</p>\n"}],"owner":{"account_id":875894,"reputation":3530,"user_id":925549,"accept_rate":73,"display_name":"yas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4271,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":30398930,"answer_count":4,"score":20,"last_activity_date":1670731670,"creation_date":1432303027,"question_id":30398646,"body_markdown":"I think I am failing to understand java package structure, it seemed redundant to me that java files have a package declaration within, and then are also required to be present in a directory that matches the package name.  For example, if I have a `MyClass.java` file:\r\n\r\n    package com.example;\r\n\r\n    public class MyClass {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello, World&quot;);\r\n        }\r\n    }\r\n\r\nThen I would be required to have this file located in `com/example`, relative to the base directory, and I would execute `java com.example.MyClass` from the base directory to run it.\r\n\r\nWhy wouldn&#39;t the compiler be able to infer the package name by looking at the directory structure?  For example, if I compiled the file from the base directory `javac com\\example\\MyClass.java`, I am not understanding why the MyClass.java wouldn&#39;t implicity belong to the `com.example` package.\r\n\r\nI understand there is a default package, but it still seems that the package declaration in the source file is redundant information?\r\n\r\n","title":"Why do java source files require package declarations?","body":"<p>I think I am failing to understand java package structure, it seemed redundant to me that java files have a package declaration within, and then are also required to be present in a directory that matches the package name.  For example, if I have a <code>MyClass.java</code> file:</p>\n\n<pre><code>package com.example;\n\npublic class MyClass {\n    public static void main(String[] args) {\n        System.out.println(\"Hello, World\");\n    }\n}\n</code></pre>\n\n<p>Then I would be required to have this file located in <code>com/example</code>, relative to the base directory, and I would execute <code>java com.example.MyClass</code> from the base directory to run it.</p>\n\n<p>Why wouldn't the compiler be able to infer the package name by looking at the directory structure?  For example, if I compiled the file from the base directory <code>javac com\\example\\MyClass.java</code>, I am not understanding why the MyClass.java wouldn't implicity belong to the <code>com.example</code> package.</p>\n\n<p>I understand there is a default package, but it still seems that the package declaration in the source file is redundant information?</p>\n"},{"tags":["java","multithreading","object","serialization","threadpool"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670726286,"creation_date":1670717192,"answer_id":74757458,"question_id":74757376,"body_markdown":"Spawn three threads and let them do the work, taking tasks from a queue. There will be no more threads than the number that you spawn to work on the tasks.\r\n\r\nBut a simpler way to do this is to use the  Java standard class [ThreadPoolExecutor][1] that takes care of the thread spawning and pool management for you.\r\n\r\nThere is also a nice tutorial on executors at https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html","title":"Is there a way to limit number of Threads running at the same time","body":"<p>Spawn three threads and let them do the work, taking tasks from a queue. There will be no more threads than the number that you spawn to work on the tasks.</p>\n<p>But a simpler way to do this is to use the  Java standard class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ThreadPoolExecutor</a> that takes care of the thread spawning and pool management for you.</p>\n<p>There is also a nice tutorial on executors at <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html</a></p>\n"},{"comments":[{"owner":{"account_id":21737372,"reputation":25,"user_id":16045179,"display_name":"Peter Sarateanu"},"score":0,"creation_date":1670724407,"post_id":74757742,"comment_id":131939189,"body_markdown":"This helps a little to understand the functioning of Threads but has nothing to do with my code, in no way can I get a template from this. Thank you for your answer","body":"This helps a little to understand the functioning of Threads but has nothing to do with my code, in no way can I get a template from this. Thank you for your answer"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1670739045,"post_id":74757742,"comment_id":131940463,"body_markdown":"@PeterSarateanu Just plug your work-to-be-done code in the `run` method. Pass each `EventuelleDestination` input to the constructor of your `Runnable`, just as I passed an `Integer` object named `id` to the constructor of my `Reporter` class. Loop your `List&lt;EventuelleDestination&gt;` elements, passing each to the constructor of your equivalent of my `Reporter` class. Seems kind of obvious to me. If you comment on your point of confusion, perhaps I can respond.","body":"@PeterSarateanu Just plug your work-to-be-done code in the <code>run</code> method. Pass each <code>EventuelleDestination</code> input to the constructor of your <code>Runnable</code>, just as I passed an <code>Integer</code> object named <code>id</code> to the constructor of my <code>Reporter</code> class. Loop your <code>List&lt;EventuelleDestination&gt;</code> elements, passing each to the constructor of your equivalent of my <code>Reporter</code> class. Seems kind of obvious to me. If you comment on your point of confusion, perhaps I can respond."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1670739074,"post_id":74757742,"comment_id":131940466,"body_markdown":"@PeterSarateanu  If you need to track the success or failure of each submitted task, capture the `Future` object returned when you submit a task. My code ignores the returned `Future` objects. Again, all this has been covered many times already on Stack Overflow. Search to learn more.","body":"@PeterSarateanu  If you need to track the success or failure of each submitted task, capture the <code>Future</code> object returned when you submit a task. My code ignores the returned <code>Future</code> objects. Again, all this has been covered many times already on Stack Overflow. Search to learn more."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670722605,"creation_date":1670721786,"answer_id":74757742,"question_id":74757376,"body_markdown":"# Executors framework\r\n\r\nJava 5 brought the Executors framework to greatly simplify threaded work. See the links in [Answer by Chaudhuri][1]. \r\n\r\n## `Runnable`\r\n\r\nDefine your task as a [`Runnable`][2] or [`Callable`][3].\r\n\r\n```java\r\npackage work.basil.example.threading;\r\n\r\nimport java.time.Instant;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class Reporter implements Runnable\r\n{\r\n    private Integer reportId;\r\n\r\n    public Reporter ( final Integer reportId )\r\n    {\r\n        this.reportId = reportId;\r\n    }\r\n\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        // Simulate doing hard work by sleeping this thread a random number of milliseconds.\r\n        try { Thread.sleep( ThreadLocalRandom.current().nextInt( 5 , 100 ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n        String message = Thread.currentThread().getName() + &quot; reporting id: &quot; + this.reportId + &quot; at &quot; + Instant.now();\r\n        System.out.println( message );\r\n    }\r\n}\r\n```\r\n\r\n## `ExecutorService`\r\n\r\nInstantiate a bunch of those tasks. Instantiate an [executor service][4], **backed by your specified three threads**. Wait for tasks to complete, and shutdown the executor service.\r\n\r\n```java\r\npackage work.basil.example.threading;\r\n\r\nimport java.time.Instant;\r\nimport java.util.List;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.stream.IntStream;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        List &lt; Reporter &gt; tasks =\r\n                IntStream\r\n                        .range( 100 , 200 )           // Generate a range of numbers from 100 through 199. \r\n                        .mapToObj( Reporter :: new )  // Method reference for the constructor of our `Reporter` class.\r\n                        .toList();                    // Collect all the newly instantiated `Reporter` objects into a `List`. \r\n        ExecutorService executorService = Executors.newFixedThreadPool( 3 ); // Hard-code to three, per the Stack Overflow Question&#39;s requirements.\r\n        tasks.stream().forEach( executorService :: submit );  // Submit to our executor service each of the collected tasks in our list.\r\n        this.shutdownAndAwaitTermination( executorService );\r\n    }\r\n\r\n    // Slightly modified version of boilerplate taken from Javadoc:\r\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n    void shutdownAndAwaitTermination ( ExecutorService executorService )\r\n    {\r\n        executorService.shutdown(); // Disable new tasks from being submitted\r\n        try\r\n        {\r\n            // Wait a while for existing tasks to terminate\r\n            if ( ! executorService.awaitTermination( 120 , TimeUnit.SECONDS ) )\r\n            {\r\n                executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled\r\n                if ( ! executorService.awaitTermination( 120 , TimeUnit.SECONDS ) )\r\n                { System.err.println( &quot;Executor service did not terminate. &quot; + Instant.now() ); }\r\n            }\r\n        }\r\n        catch ( InterruptedException ex )\r\n        {\r\n            // (Re-)Cancel if current thread also interrupted\r\n            executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\npool-1-thread-2 reporting id: 101 at 2022-12-11T01:20:49.336052Z\r\npool-1-thread-1 reporting id: 100 at 2022-12-11T01:20:49.342575Z\r\npool-1-thread-3 reporting id: 102 at 2022-12-11T01:20:49.350614Z\r\npool-1-thread-2 reporting id: 103 at 2022-12-11T01:20:49.371866Z\r\npool-1-thread-1 reporting id: 104 at 2022-12-11T01:20:49.392103Z\r\npool-1-thread-2 reporting id: 106 at 2022-12-11T01:20:49.430291Z\r\npool-1-thread-3 reporting id: 105 at 2022-12-11T01:20:49.437875Z\r\npool-1-thread-3 reporting id: 109 at 2022-12-11T01:20:49.450208Z\r\npool-1-thread-3 reporting id: 110 at 2022-12-11T01:20:49.478506Z\r\npool-1-thread-1 reporting id: 107 at 2022-12-11T01:20:49.488794Z\r\npool-1-thread-1 reporting id: 112 at 2022-12-11T01:20:49.501638Z\r\npool-1-thread-2 reporting id: 108 at 2022-12-11T01:20:49.512510Z\r\npool-1-thread-3 reporting id: 111 at 2022-12-11T01:20:49.516905Z\r\npool-1-thread-1 reporting id: 113 at 2022-12-11T01:20:49.602825Z\r\npool-1-thread-2 reporting id: 114 at 2022-12-11T01:20:49.614678Z\r\npool-1-thread-3 reporting id: 115 at 2022-12-11T01:20:49.621172Z\r\npool-1-thread-1 reporting id: 116 at 2022-12-11T01:20:49.659485Z\r\npool-1-thread-2 reporting id: 117 at 2022-12-11T01:20:49.668028Z\r\npool-1-thread-3 reporting id: 118 at 2022-12-11T01:20:49.715350Z\r\npool-1-thread-2 reporting id: 120 at 2022-12-11T01:20:49.740292Z\r\npool-1-thread-1 reporting id: 119 at 2022-12-11T01:20:49.740722Z\r\npool-1-thread-2 reporting id: 122 at 2022-12-11T01:20:49.765576Z\r\npool-1-thread-3 reporting id: 121 at 2022-12-11T01:20:49.779553Z\r\npool-1-thread-2 reporting id: 124 at 2022-12-11T01:20:49.801574Z\r\npool-1-thread-1 reporting id: 123 at 2022-12-11T01:20:49.833277Z\r\npool-1-thread-3 reporting id: 125 at 2022-12-11T01:20:49.838785Z\r\npool-1-thread-2 reporting id: 126 at 2022-12-11T01:20:49.861583Z\r\npool-1-thread-1 reporting id: 127 at 2022-12-11T01:20:49.884080Z\r\npool-1-thread-2 reporting id: 129 at 2022-12-11T01:20:49.895801Z\r\npool-1-thread-3 reporting id: 128 at 2022-12-11T01:20:49.922937Z\r\npool-1-thread-1 reporting id: 130 at 2022-12-11T01:20:49.922936Z\r\npool-1-thread-2 reporting id: 131 at 2022-12-11T01:20:49.927722Z\r\npool-1-thread-1 reporting id: 133 at 2022-12-11T01:20:49.978305Z\r\npool-1-thread-3 reporting id: 132 at 2022-12-11T01:20:50.000371Z\r\npool-1-thread-2 reporting id: 134 at 2022-12-11T01:20:50.025637Z\r\npool-1-thread-1 reporting id: 135 at 2022-12-11T01:20:50.025969Z\r\npool-1-thread-1 reporting id: 138 at 2022-12-11T01:20:50.078081Z\r\npool-1-thread-3 reporting id: 136 at 2022-12-11T01:20:50.089295Z\r\npool-1-thread-2 reporting id: 137 at 2022-12-11T01:20:50.116680Z\r\npool-1-thread-3 reporting id: 140 at 2022-12-11T01:20:50.142114Z\r\npool-1-thread-2 reporting id: 141 at 2022-12-11T01:20:50.144543Z\r\npool-1-thread-2 reporting id: 143 at 2022-12-11T01:20:50.173864Z\r\npool-1-thread-1 reporting id: 139 at 2022-12-11T01:20:50.177693Z\r\npool-1-thread-1 reporting id: 145 at 2022-12-11T01:20:50.193305Z\r\npool-1-thread-3 reporting id: 142 at 2022-12-11T01:20:50.213100Z\r\npool-1-thread-2 reporting id: 144 at 2022-12-11T01:20:50.258059Z\r\npool-1-thread-1 reporting id: 146 at 2022-12-11T01:20:50.281883Z\r\npool-1-thread-3 reporting id: 147 at 2022-12-11T01:20:50.295357Z\r\npool-1-thread-2 reporting id: 148 at 2022-12-11T01:20:50.297879Z\r\npool-1-thread-3 reporting id: 150 at 2022-12-11T01:20:50.310537Z\r\npool-1-thread-2 reporting id: 151 at 2022-12-11T01:20:50.334702Z\r\npool-1-thread-1 reporting id: 149 at 2022-12-11T01:20:50.366817Z\r\npool-1-thread-2 reporting id: 153 at 2022-12-11T01:20:50.388458Z\r\npool-1-thread-1 reporting id: 154 at 2022-12-11T01:20:50.410089Z\r\npool-1-thread-3 reporting id: 152 at 2022-12-11T01:20:50.410866Z\r\npool-1-thread-2 reporting id: 155 at 2022-12-11T01:20:50.438706Z\r\npool-1-thread-2 reporting id: 158 at 2022-12-11T01:20:50.457866Z\r\npool-1-thread-3 reporting id: 157 at 2022-12-11T01:20:50.483979Z\r\npool-1-thread-1 reporting id: 156 at 2022-12-11T01:20:50.509379Z\r\npool-1-thread-2 reporting id: 159 at 2022-12-11T01:20:50.528403Z\r\npool-1-thread-1 reporting id: 161 at 2022-12-11T01:20:50.528355Z\r\npool-1-thread-3 reporting id: 160 at 2022-12-11T01:20:50.540466Z\r\npool-1-thread-3 reporting id: 164 at 2022-12-11T01:20:50.553258Z\r\npool-1-thread-3 reporting id: 165 at 2022-12-11T01:20:50.563534Z\r\npool-1-thread-1 reporting id: 163 at 2022-12-11T01:20:50.573721Z\r\npool-1-thread-3 reporting id: 166 at 2022-12-11T01:20:50.611714Z\r\npool-1-thread-2 reporting id: 162 at 2022-12-11T01:20:50.630698Z\r\npool-1-thread-1 reporting id: 167 at 2022-12-11T01:20:50.647767Z\r\npool-1-thread-3 reporting id: 168 at 2022-12-11T01:20:50.704881Z\r\npool-1-thread-2 reporting id: 169 at 2022-12-11T01:20:50.706819Z\r\npool-1-thread-1 reporting id: 170 at 2022-12-11T01:20:50.738498Z\r\npool-1-thread-2 reporting id: 172 at 2022-12-11T01:20:50.761919Z\r\npool-1-thread-1 reporting id: 173 at 2022-12-11T01:20:50.789843Z\r\npool-1-thread-2 reporting id: 174 at 2022-12-11T01:20:50.800720Z\r\npool-1-thread-3 reporting id: 171 at 2022-12-11T01:20:50.800720Z\r\npool-1-thread-3 reporting id: 177 at 2022-12-11T01:20:50.812244Z\r\npool-1-thread-1 reporting id: 175 at 2022-12-11T01:20:50.819188Z\r\npool-1-thread-2 reporting id: 176 at 2022-12-11T01:20:50.856135Z\r\npool-1-thread-1 reporting id: 179 at 2022-12-11T01:20:50.865442Z\r\npool-1-thread-1 reporting id: 181 at 2022-12-11T01:20:50.875508Z\r\npool-1-thread-3 reporting id: 178 at 2022-12-11T01:20:50.908384Z\r\npool-1-thread-2 reporting id: 180 at 2022-12-11T01:20:50.911297Z\r\npool-1-thread-3 reporting id: 183 at 2022-12-11T01:20:50.922288Z\r\npool-1-thread-2 reporting id: 184 at 2022-12-11T01:20:50.934034Z\r\npool-1-thread-1 reporting id: 182 at 2022-12-11T01:20:50.947619Z\r\npool-1-thread-3 reporting id: 185 at 2022-12-11T01:20:50.955411Z\r\npool-1-thread-1 reporting id: 187 at 2022-12-11T01:20:50.973815Z\r\npool-1-thread-3 reporting id: 188 at 2022-12-11T01:20:50.980241Z\r\npool-1-thread-1 reporting id: 189 at 2022-12-11T01:20:50.989099Z\r\npool-1-thread-2 reporting id: 186 at 2022-12-11T01:20:51.037188Z\r\npool-1-thread-3 reporting id: 190 at 2022-12-11T01:20:51.067505Z\r\npool-1-thread-2 reporting id: 192 at 2022-12-11T01:20:51.083379Z\r\npool-1-thread-1 reporting id: 191 at 2022-12-11T01:20:51.092831Z\r\npool-1-thread-1 reporting id: 195 at 2022-12-11T01:20:51.099644Z\r\npool-1-thread-2 reporting id: 194 at 2022-12-11T01:20:51.110563Z\r\npool-1-thread-3 reporting id: 193 at 2022-12-11T01:20:51.110563Z\r\npool-1-thread-2 reporting id: 197 at 2022-12-11T01:20:51.153739Z\r\npool-1-thread-3 reporting id: 198 at 2022-12-11T01:20:51.194933Z\r\npool-1-thread-1 reporting id: 196 at 2022-12-11T01:20:51.201879Z\r\npool-1-thread-2 reporting id: 199 at 2022-12-11T01:20:51.205119Z\r\n```\r\n\r\nBe aware that output to `System.out` does *not* necessarily appear on the console chronologically. If you care, always include a timestamp such as `Instant.now`. \r\n\r\nAll this has been covered before on Stack Overflow. Search to learn more.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74757458/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html","title":"Is there a way to limit number of Threads running at the same time","body":"<h1>Executors framework</h1>\n<p>Java 5 brought the Executors framework to greatly simplify threaded work. See the links in <a href=\"https://stackoverflow.com/a/74757458/642706\">Answer by Chaudhuri</a>.</p>\n<h2><code>Runnable</code></h2>\n<p>Define your task as a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\"><code>Callable</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.threading;\n\nimport java.time.Instant;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class Reporter implements Runnable\n{\n    private Integer reportId;\n\n    public Reporter ( final Integer reportId )\n    {\n        this.reportId = reportId;\n    }\n\n    @Override\n    public void run ( )\n    {\n        // Simulate doing hard work by sleeping this thread a random number of milliseconds.\n        try { Thread.sleep( ThreadLocalRandom.current().nextInt( 5 , 100 ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n        String message = Thread.currentThread().getName() + &quot; reporting id: &quot; + this.reportId + &quot; at &quot; + Instant.now();\n        System.out.println( message );\n    }\n}\n</code></pre>\n<h2><code>ExecutorService</code></h2>\n<p>Instantiate a bunch of those tasks. Instantiate an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">executor service</a>, <strong>backed by your specified three threads</strong>. Wait for tasks to complete, and shutdown the executor service.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.threading;\n\nimport java.time.Instant;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\nimport java.util.stream.IntStream;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        List &lt; Reporter &gt; tasks =\n                IntStream\n                        .range( 100 , 200 )           // Generate a range of numbers from 100 through 199. \n                        .mapToObj( Reporter :: new )  // Method reference for the constructor of our `Reporter` class.\n                        .toList();                    // Collect all the newly instantiated `Reporter` objects into a `List`. \n        ExecutorService executorService = Executors.newFixedThreadPool( 3 ); // Hard-code to three, per the Stack Overflow Question's requirements.\n        tasks.stream().forEach( executorService :: submit );  // Submit to our executor service each of the collected tasks in our list.\n        this.shutdownAndAwaitTermination( executorService );\n    }\n\n    // Slightly modified version of boilerplate taken from Javadoc:\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\n    void shutdownAndAwaitTermination ( ExecutorService executorService )\n    {\n        executorService.shutdown(); // Disable new tasks from being submitted\n        try\n        {\n            // Wait a while for existing tasks to terminate\n            if ( ! executorService.awaitTermination( 120 , TimeUnit.SECONDS ) )\n            {\n                executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled\n                if ( ! executorService.awaitTermination( 120 , TimeUnit.SECONDS ) )\n                { System.err.println( &quot;Executor service did not terminate. &quot; + Instant.now() ); }\n            }\n        }\n        catch ( InterruptedException ex )\n        {\n            // (Re-)Cancel if current thread also interrupted\n            executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>pool-1-thread-2 reporting id: 101 at 2022-12-11T01:20:49.336052Z\npool-1-thread-1 reporting id: 100 at 2022-12-11T01:20:49.342575Z\npool-1-thread-3 reporting id: 102 at 2022-12-11T01:20:49.350614Z\npool-1-thread-2 reporting id: 103 at 2022-12-11T01:20:49.371866Z\npool-1-thread-1 reporting id: 104 at 2022-12-11T01:20:49.392103Z\npool-1-thread-2 reporting id: 106 at 2022-12-11T01:20:49.430291Z\npool-1-thread-3 reporting id: 105 at 2022-12-11T01:20:49.437875Z\npool-1-thread-3 reporting id: 109 at 2022-12-11T01:20:49.450208Z\npool-1-thread-3 reporting id: 110 at 2022-12-11T01:20:49.478506Z\npool-1-thread-1 reporting id: 107 at 2022-12-11T01:20:49.488794Z\npool-1-thread-1 reporting id: 112 at 2022-12-11T01:20:49.501638Z\npool-1-thread-2 reporting id: 108 at 2022-12-11T01:20:49.512510Z\npool-1-thread-3 reporting id: 111 at 2022-12-11T01:20:49.516905Z\npool-1-thread-1 reporting id: 113 at 2022-12-11T01:20:49.602825Z\npool-1-thread-2 reporting id: 114 at 2022-12-11T01:20:49.614678Z\npool-1-thread-3 reporting id: 115 at 2022-12-11T01:20:49.621172Z\npool-1-thread-1 reporting id: 116 at 2022-12-11T01:20:49.659485Z\npool-1-thread-2 reporting id: 117 at 2022-12-11T01:20:49.668028Z\npool-1-thread-3 reporting id: 118 at 2022-12-11T01:20:49.715350Z\npool-1-thread-2 reporting id: 120 at 2022-12-11T01:20:49.740292Z\npool-1-thread-1 reporting id: 119 at 2022-12-11T01:20:49.740722Z\npool-1-thread-2 reporting id: 122 at 2022-12-11T01:20:49.765576Z\npool-1-thread-3 reporting id: 121 at 2022-12-11T01:20:49.779553Z\npool-1-thread-2 reporting id: 124 at 2022-12-11T01:20:49.801574Z\npool-1-thread-1 reporting id: 123 at 2022-12-11T01:20:49.833277Z\npool-1-thread-3 reporting id: 125 at 2022-12-11T01:20:49.838785Z\npool-1-thread-2 reporting id: 126 at 2022-12-11T01:20:49.861583Z\npool-1-thread-1 reporting id: 127 at 2022-12-11T01:20:49.884080Z\npool-1-thread-2 reporting id: 129 at 2022-12-11T01:20:49.895801Z\npool-1-thread-3 reporting id: 128 at 2022-12-11T01:20:49.922937Z\npool-1-thread-1 reporting id: 130 at 2022-12-11T01:20:49.922936Z\npool-1-thread-2 reporting id: 131 at 2022-12-11T01:20:49.927722Z\npool-1-thread-1 reporting id: 133 at 2022-12-11T01:20:49.978305Z\npool-1-thread-3 reporting id: 132 at 2022-12-11T01:20:50.000371Z\npool-1-thread-2 reporting id: 134 at 2022-12-11T01:20:50.025637Z\npool-1-thread-1 reporting id: 135 at 2022-12-11T01:20:50.025969Z\npool-1-thread-1 reporting id: 138 at 2022-12-11T01:20:50.078081Z\npool-1-thread-3 reporting id: 136 at 2022-12-11T01:20:50.089295Z\npool-1-thread-2 reporting id: 137 at 2022-12-11T01:20:50.116680Z\npool-1-thread-3 reporting id: 140 at 2022-12-11T01:20:50.142114Z\npool-1-thread-2 reporting id: 141 at 2022-12-11T01:20:50.144543Z\npool-1-thread-2 reporting id: 143 at 2022-12-11T01:20:50.173864Z\npool-1-thread-1 reporting id: 139 at 2022-12-11T01:20:50.177693Z\npool-1-thread-1 reporting id: 145 at 2022-12-11T01:20:50.193305Z\npool-1-thread-3 reporting id: 142 at 2022-12-11T01:20:50.213100Z\npool-1-thread-2 reporting id: 144 at 2022-12-11T01:20:50.258059Z\npool-1-thread-1 reporting id: 146 at 2022-12-11T01:20:50.281883Z\npool-1-thread-3 reporting id: 147 at 2022-12-11T01:20:50.295357Z\npool-1-thread-2 reporting id: 148 at 2022-12-11T01:20:50.297879Z\npool-1-thread-3 reporting id: 150 at 2022-12-11T01:20:50.310537Z\npool-1-thread-2 reporting id: 151 at 2022-12-11T01:20:50.334702Z\npool-1-thread-1 reporting id: 149 at 2022-12-11T01:20:50.366817Z\npool-1-thread-2 reporting id: 153 at 2022-12-11T01:20:50.388458Z\npool-1-thread-1 reporting id: 154 at 2022-12-11T01:20:50.410089Z\npool-1-thread-3 reporting id: 152 at 2022-12-11T01:20:50.410866Z\npool-1-thread-2 reporting id: 155 at 2022-12-11T01:20:50.438706Z\npool-1-thread-2 reporting id: 158 at 2022-12-11T01:20:50.457866Z\npool-1-thread-3 reporting id: 157 at 2022-12-11T01:20:50.483979Z\npool-1-thread-1 reporting id: 156 at 2022-12-11T01:20:50.509379Z\npool-1-thread-2 reporting id: 159 at 2022-12-11T01:20:50.528403Z\npool-1-thread-1 reporting id: 161 at 2022-12-11T01:20:50.528355Z\npool-1-thread-3 reporting id: 160 at 2022-12-11T01:20:50.540466Z\npool-1-thread-3 reporting id: 164 at 2022-12-11T01:20:50.553258Z\npool-1-thread-3 reporting id: 165 at 2022-12-11T01:20:50.563534Z\npool-1-thread-1 reporting id: 163 at 2022-12-11T01:20:50.573721Z\npool-1-thread-3 reporting id: 166 at 2022-12-11T01:20:50.611714Z\npool-1-thread-2 reporting id: 162 at 2022-12-11T01:20:50.630698Z\npool-1-thread-1 reporting id: 167 at 2022-12-11T01:20:50.647767Z\npool-1-thread-3 reporting id: 168 at 2022-12-11T01:20:50.704881Z\npool-1-thread-2 reporting id: 169 at 2022-12-11T01:20:50.706819Z\npool-1-thread-1 reporting id: 170 at 2022-12-11T01:20:50.738498Z\npool-1-thread-2 reporting id: 172 at 2022-12-11T01:20:50.761919Z\npool-1-thread-1 reporting id: 173 at 2022-12-11T01:20:50.789843Z\npool-1-thread-2 reporting id: 174 at 2022-12-11T01:20:50.800720Z\npool-1-thread-3 reporting id: 171 at 2022-12-11T01:20:50.800720Z\npool-1-thread-3 reporting id: 177 at 2022-12-11T01:20:50.812244Z\npool-1-thread-1 reporting id: 175 at 2022-12-11T01:20:50.819188Z\npool-1-thread-2 reporting id: 176 at 2022-12-11T01:20:50.856135Z\npool-1-thread-1 reporting id: 179 at 2022-12-11T01:20:50.865442Z\npool-1-thread-1 reporting id: 181 at 2022-12-11T01:20:50.875508Z\npool-1-thread-3 reporting id: 178 at 2022-12-11T01:20:50.908384Z\npool-1-thread-2 reporting id: 180 at 2022-12-11T01:20:50.911297Z\npool-1-thread-3 reporting id: 183 at 2022-12-11T01:20:50.922288Z\npool-1-thread-2 reporting id: 184 at 2022-12-11T01:20:50.934034Z\npool-1-thread-1 reporting id: 182 at 2022-12-11T01:20:50.947619Z\npool-1-thread-3 reporting id: 185 at 2022-12-11T01:20:50.955411Z\npool-1-thread-1 reporting id: 187 at 2022-12-11T01:20:50.973815Z\npool-1-thread-3 reporting id: 188 at 2022-12-11T01:20:50.980241Z\npool-1-thread-1 reporting id: 189 at 2022-12-11T01:20:50.989099Z\npool-1-thread-2 reporting id: 186 at 2022-12-11T01:20:51.037188Z\npool-1-thread-3 reporting id: 190 at 2022-12-11T01:20:51.067505Z\npool-1-thread-2 reporting id: 192 at 2022-12-11T01:20:51.083379Z\npool-1-thread-1 reporting id: 191 at 2022-12-11T01:20:51.092831Z\npool-1-thread-1 reporting id: 195 at 2022-12-11T01:20:51.099644Z\npool-1-thread-2 reporting id: 194 at 2022-12-11T01:20:51.110563Z\npool-1-thread-3 reporting id: 193 at 2022-12-11T01:20:51.110563Z\npool-1-thread-2 reporting id: 197 at 2022-12-11T01:20:51.153739Z\npool-1-thread-3 reporting id: 198 at 2022-12-11T01:20:51.194933Z\npool-1-thread-1 reporting id: 196 at 2022-12-11T01:20:51.201879Z\npool-1-thread-2 reporting id: 199 at 2022-12-11T01:20:51.205119Z\n</code></pre>\n<p>Be aware that output to <code>System.out</code> does <em>not</em> necessarily appear on the console chronologically. If you care, always include a timestamp such as <code>Instant.now</code>.</p>\n<p>All this has been covered before on Stack Overflow. Search to learn more.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670728134,"creation_date":1670727827,"answer_id":74758086,"question_id":74757376,"body_markdown":"&gt; Is there a way to limit number of Threads running at the same time.\r\n\r\nNot directly, no.  There are no thread scheduler hooks for doing this kind of thing.\r\n\r\nYour realistic options are to create a pool of 3 threads:\r\n\r\n  - *by hand*, \r\n  - using an `ExecutorService` with a bounded thread pool, or\r\n  - using a 3rd-party thread pool library.\r\n\r\nThen you arrange to have the tasks handed out to the threads in the pool via a queue.\r\n\r\nFWIW: the `ExecutorService` approach is the simplest because it taks care of both the thread pool management and the task queuing.  See the other answers for details. \r\n\r\n---------------\r\n\r\nIf you didn&#39;t have a hard requirement of 3 threads, another potential option would be to use a `Stream` with a `parallel` step.  This would use the JVM&#39;s  common fork-join pool&lt;sup&gt;1&lt;/sup&gt; to do the tasks in parallel.  The problem is that you don&#39;t get to directly control that pool&#39;s size, and other tasks may be queued for that pool.  Also, doing potentially blocking I/O in a fork-join pool can be problematic for parts of your application that are using the common pool; see the [ForkJoinPool](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html) javadoc.\r\n\r\nIn theory, you *could* create a thread for each task and write the tasks to use (say) a shared `Semaphore` to limit the number of threads that are running the tasks at any given time.  But creating threads is expensive, and they use a substantial amount of memory (even when they are blocked) so this is not a practical solution.\r\n\r\n---------------\r\n\r\n&lt;sup&gt;1 - This is how the current implementation does it.  AFAIK, this is not stated in the javadoc ...&lt;/sup&gt;","title":"Is there a way to limit number of Threads running at the same time","body":"<blockquote>\n<p>Is there a way to limit number of Threads running at the same time.</p>\n</blockquote>\n<p>Not directly, no.  There are no thread scheduler hooks for doing this kind of thing.</p>\n<p>Your realistic options are to create a pool of 3 threads:</p>\n<ul>\n<li><em>by hand</em>,</li>\n<li>using an <code>ExecutorService</code> with a bounded thread pool, or</li>\n<li>using a 3rd-party thread pool library.</li>\n</ul>\n<p>Then you arrange to have the tasks handed out to the threads in the pool via a queue.</p>\n<p>FWIW: the <code>ExecutorService</code> approach is the simplest because it taks care of both the thread pool management and the task queuing.  See the other answers for details.</p>\n<hr />\n<p>If you didn't have a hard requirement of 3 threads, another potential option would be to use a <code>Stream</code> with a <code>parallel</code> step.  This would use the JVM's  common fork-join pool<sup>1</sup> to do the tasks in parallel.  The problem is that you don't get to directly control that pool's size, and other tasks may be queued for that pool.  Also, doing potentially blocking I/O in a fork-join pool can be problematic for parts of your application that are using the common pool; see the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html\" rel=\"nofollow noreferrer\">ForkJoinPool</a> javadoc.</p>\n<p>In theory, you <em>could</em> create a thread for each task and write the tasks to use (say) a shared <code>Semaphore</code> to limit the number of threads that are running the tasks at any given time.  But creating threads is expensive, and they use a substantial amount of memory (even when they are blocked) so this is not a practical solution.</p>\n<hr />\n<p><sup>1 - This is how the current implementation does it.  AFAIK, this is not stated in the javadoc ...</sup></p>\n"}],"owner":{"account_id":21737372,"reputation":25,"user_id":16045179,"display_name":"Peter Sarateanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74757742,"answer_count":3,"score":0,"last_activity_date":1670728134,"creation_date":1670716052,"question_id":74757376,"body_markdown":"I have a list of objects `List&lt;EventuelleDestination&gt; ev` and I need to create a thread that will serialize the data for each element of the list. However, only 3 threads are allowed to run at the same time. I have done a fair share of research on ThreadPools and other classes, but I still have no idea how to implement these this limit in my method.\r\n\r\nIf it can be of any help, here is the task each thread must accomplish until the List is iterated through. \r\n\r\n        public void serializeDestinationEmploye(EventuelleDestination e) {\r\n        Gson gson = new Gson();\r\n        String filename = &quot;/&quot; + employeDao.getEmploye().getId() + &quot;_&quot; + entrepriseDao.retrouveEmplacementIdParDepartementId(e.getEventuelAcceuillant().getId()) + &quot;_&quot; + e.getEventuelAcceuillant().getId() + &quot;.json&quot;;\r\n\r\n        try {\r\n            Writer writer = new FileWriter(dossierSoumissions.toString() + filename);\r\n\r\n            new Gson().toJson(e, writer);\r\n            writer.close();\r\n\r\n            System.out.println(e + &quot; has been serialized...&quot;);\r\n        } catch (IOException fileNotFoundException) {\r\n            fileNotFoundException.printStackTrace();\r\n        }\r\n    }","title":"Is there a way to limit number of Threads running at the same time","body":"<p>I have a list of objects <code>List&lt;EventuelleDestination&gt; ev</code> and I need to create a thread that will serialize the data for each element of the list. However, only 3 threads are allowed to run at the same time. I have done a fair share of research on ThreadPools and other classes, but I still have no idea how to implement these this limit in my method.</p>\n<p>If it can be of any help, here is the task each thread must accomplish until the List is iterated through.</p>\n<pre><code>    public void serializeDestinationEmploye(EventuelleDestination e) {\n    Gson gson = new Gson();\n    String filename = &quot;/&quot; + employeDao.getEmploye().getId() + &quot;_&quot; + entrepriseDao.retrouveEmplacementIdParDepartementId(e.getEventuelAcceuillant().getId()) + &quot;_&quot; + e.getEventuelAcceuillant().getId() + &quot;.json&quot;;\n\n    try {\n        Writer writer = new FileWriter(dossierSoumissions.toString() + filename);\n\n        new Gson().toJson(e, writer);\n        writer.close();\n\n        System.out.println(e + &quot; has been serialized...&quot;);\n    } catch (IOException fileNotFoundException) {\n        fileNotFoundException.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":9349119,"reputation":38,"user_id":6939423,"display_name":"Shubham Choudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1605425066,"creation_date":1605425066,"answer_id":64842077,"question_id":64841599,"body_markdown":"**@RestControllerAdvice** is kind of interceptor of exceptions thrown by class annotated with @RestController, that&#39;s why exception handler method is not being invoked for your test schenario.\r\n\r\nTo test that, you should write a test for your the controller, Use the mockMvc and register your exceptionHandler class with it like below. hope, it helps.\r\n\r\n    this.mockMvc = MockMvcBuilders.standaloneSetup(new YourController()).setControllerAdvice(ExceptionHandler.class)\r\n                    .build();","title":"How to call @RestControllerAdvice class from a unit test in the Service layer of a REST web service in java?","body":"<p><strong>@RestControllerAdvice</strong> is kind of interceptor of exceptions thrown by class annotated with @RestController, that's why exception handler method is not being invoked for your test schenario.</p>\n<p>To test that, you should write a test for your the controller, Use the mockMvc and register your exceptionHandler class with it like below. hope, it helps.</p>\n<pre><code>this.mockMvc = MockMvcBuilders.standaloneSetup(new YourController()).setControllerAdvice(ExceptionHandler.class)\n                .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670726968,"creation_date":1670726968,"answer_id":74758044,"question_id":64841599,"body_markdown":"[Very late answer] You don&#39;t need to explicitly call your `@RestControllerAdvice` as it will be called as soon as an exception is rised in your code. You should try to handle your exception this way:\r\n\r\n    @GetMapping(&quot;/personality&quot;)\r\n    public ResponseEntity&lt;Response&gt; computePersonality(@Valid @RequestBody Dto dto) throws BadRequestException {\r\n        try {\r\n                // any other mapping or code\r\n                var response = yourService.yourMethod(dto);\r\n                // any other mapping or code\r\n                return ResponseEntity.status(HttpStatus.OK).body(response);\r\n        } catch (NumerologyValidationException exception) {\r\n            throw new BadRequestException(&quot;An error occurs...&quot;, exception);\r\n        }\r\n    }\r\n\r\nHere, your controller only understand HTTP Code response and all your exception should be redirect to the `@RestControllerAdvice`.\r\nCheck this [link][1] for more details about **4XX** and **5XX** error code management.\r\n\r\n\r\n  [1]: https://mathieu.fenniak.net/the-api-checklist/","title":"How to call @RestControllerAdvice class from a unit test in the Service layer of a REST web service in java?","body":"<p>[Very late answer] You don't need to explicitly call your <code>@RestControllerAdvice</code> as it will be called as soon as an exception is rised in your code. You should try to handle your exception this way:</p>\n<pre><code>@GetMapping(&quot;/personality&quot;)\npublic ResponseEntity&lt;Response&gt; computePersonality(@Valid @RequestBody Dto dto) throws BadRequestException {\n    try {\n            // any other mapping or code\n            var response = yourService.yourMethod(dto);\n            // any other mapping or code\n            return ResponseEntity.status(HttpStatus.OK).body(response);\n    } catch (NumerologyValidationException exception) {\n        throw new BadRequestException(&quot;An error occurs...&quot;, exception);\n    }\n}\n</code></pre>\n<p>Here, your controller only understand HTTP Code response and all your exception should be redirect to the <code>@RestControllerAdvice</code>.\nCheck this <a href=\"https://mathieu.fenniak.net/the-api-checklist/\" rel=\"nofollow noreferrer\">link</a> for more details about <strong>4XX</strong> and <strong>5XX</strong> error code management.</p>\n"}],"owner":{"account_id":5788820,"reputation":193,"user_id":4567083,"accept_rate":60,"display_name":"Nahid Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3891,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64842077,"answer_count":2,"score":1,"last_activity_date":1670726968,"creation_date":1605419714,"question_id":64841599,"body_markdown":"I have a REST webservice application. I am handling exceptions by exception handler using the annotation  @ExceptionHandler and @RestControllerAdvice. My exceptions are thrown in the Service layer. Now I am writing unit tests for the service layer. I am checking the exceptions using Assert.assertThrows. The exception is thrown, and the test passes. However, the exception handler method is not called when an exception is thrown. I need the exception handler method to be called during the unit test. Test class and the ExceptionHandler class are like the following.\r\n\r\n    @RunWith(SpringRunner.class)\r\n    public class ServiceTest {\r\n    \r\n      @InjectMocks\r\n      private Service testService = new ServiceImpl();\r\n    \r\n      @Mock\r\n      private Repository repository; \r\n     \r\n    \r\n      @Test\r\n      public void testException() {\r\n        assertThrows(\r\n            Exception.class, ()-&gt;{\r\n              // Code that throws exception.\r\n            });\r\n      }\r\n    }\r\n\r\n    @RestControllerAdvice\r\n    public class ExceptionHandler {\r\n    \r\n      @ExceptionHandler(Exception.class)\r\n      public ResponseEntity&lt;Object&gt; handleUnknownException(Exception ex) {\r\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\r\n                   .body(&quot;Body Here&quot;);\r\n      }\r\n    \r\n    }","title":"How to call @RestControllerAdvice class from a unit test in the Service layer of a REST web service in java?","body":"<p>I have a REST webservice application. I am handling exceptions by exception handler using the annotation  @ExceptionHandler and @RestControllerAdvice. My exceptions are thrown in the Service layer. Now I am writing unit tests for the service layer. I am checking the exceptions using Assert.assertThrows. The exception is thrown, and the test passes. However, the exception handler method is not called when an exception is thrown. I need the exception handler method to be called during the unit test. Test class and the ExceptionHandler class are like the following.</p>\n<pre><code>@RunWith(SpringRunner.class)\npublic class ServiceTest {\n\n  @InjectMocks\n  private Service testService = new ServiceImpl();\n\n  @Mock\n  private Repository repository; \n \n\n  @Test\n  public void testException() {\n    assertThrows(\n        Exception.class, ()-&gt;{\n          // Code that throws exception.\n        });\n  }\n}\n\n@RestControllerAdvice\npublic class ExceptionHandler {\n\n  @ExceptionHandler(Exception.class)\n  public ResponseEntity&lt;Object&gt; handleUnknownException(Exception ex) {\n    return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\n               .body(&quot;Body Here&quot;);\n  }\n\n}\n</code></pre>\n"},{"tags":["java","multithreading","exit","producer-consumer"],"answers":[{"comments":[{"owner":{"account_id":27206884,"reputation":1,"user_id":20738297,"display_name":"HM Try"},"score":0,"creation_date":1670680555,"post_id":74750284,"comment_id":131931732,"body_markdown":"Thank you for your solution it&#39;s really working .... I modified a little thing in your code...wants=producer.production.size","body":"Thank you for your solution it&#39;s really working .... I modified a little thing in your code...wants=producer.production.size"}],"tags":[],"owner":{"account_id":7811986,"reputation":71,"user_id":5907914,"display_name":"Neo Jou"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670645020,"creation_date":1670645020,"answer_id":74750284,"question_id":74749745,"body_markdown":"It&#39;s because the consumer&#39;s desire is unlimited.\r\nThat&#39;s the main problem in the world. ^^\r\n\r\nIn the class Producer, there is the limitation for the production. \r\n\r\n    static int productionSize=5; //Total no of items to be produced by each producer\r\n\r\nand the loop is finite.\r\n\r\n    for (int i = 1; i &lt;= productionSize; i++) { //produce products. \r\n\r\nBut in the class Consumer, there is no such kind of limitation.\r\n\r\nAnd the loop is infinite, so the program cannot be finished.  \r\n\r\n    while (true)\r\n\r\nMaybe we can add variables, wants and gets, in the Consumer class\r\n\r\nto limit the run loop as below.\r\n\r\n    static int wants = 5;\r\n    int gets = 0;\r\n\r\n    @Override\r\n    public void run() {\r\n        gets = 0;\r\n        while (gets &lt; wants) {\r\n            try {\r\n                consume();\r\n                gets++;\r\n                Thread.sleep(100);\r\n\r\n            } catch (InterruptedException e) {  e.printStackTrace(); }\r\n        }\r\n    }\r\n\r\n","title":"I need help I want to exit the program","body":"<p>It's because the consumer's desire is unlimited.\nThat's the main problem in the world. ^^</p>\n<p>In the class Producer, there is the limitation for the production.</p>\n<pre><code>static int productionSize=5; //Total no of items to be produced by each producer\n</code></pre>\n<p>and the loop is finite.</p>\n<pre><code>for (int i = 1; i &lt;= productionSize; i++) { //produce products. \n</code></pre>\n<p>But in the class Consumer, there is no such kind of limitation.</p>\n<p>And the loop is infinite, so the program cannot be finished.</p>\n<pre><code>while (true)\n</code></pre>\n<p>Maybe we can add variables, wants and gets, in the Consumer class</p>\n<p>to limit the run loop as below.</p>\n<pre><code>static int wants = 5;\nint gets = 0;\n\n@Override\npublic void run() {\n    gets = 0;\n    while (gets &lt; wants) {\n        try {\n            consume();\n            gets++;\n            Thread.sleep(100);\n\n        } catch (InterruptedException e) {  e.printStackTrace(); }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670649526,"creation_date":1670648356,"answer_id":74750491,"question_id":74749745,"body_markdown":"There are a number of approaches to solving this problem ... in general.\r\n\r\nUsing Counters\r\n--------------\r\n\r\nIf you know beforehand how many items will need to be consumed then the consumers can maintain a (shared) counter and stop themselves when the counter hits the limit.  The problems with this are:\r\n\r\n  - If may be hard or impossible to predict the number of items that will be produced.\r\n\r\n  - Given the following (hypothetical) consumer implementation:\r\n\r\n        while (atomicCounter.get() &lt; limit) {\r\n            product = queue.take();   // this blocks until something \r\n                                      // is available to be consumed.\r\n            atomicCounter.increment();\r\n            process(product);\r\n        }\r\n\r\n    ... there is a the problem of getting *all* of the consumers to *notice* that the limit has been reached.  So you need to use `poll` and a retry mechanism ... which means busy waiting; e.g.\r\n\r\n\r\n        while (atomicCounter.get() &lt; limit) {\r\n            product = queue.poll(timeout, unit);\r\n            if (product != null) {\r\n                atomicCounter.increment();\r\n                process(product);\r\n            }\r\n        }\r\n\r\n    The astute reader will notice that consumers don&#39;t terminate immediately.  They need to wait for the `poll` timeout to expire before they will notice that the limit has been reached.\r\n\r\nUsing a Poison Pill.\r\n--------------------\r\n\r\nIf the producers (or something else) knows when they have produced the last &quot;product&quot; and added it to the queue, they add a [poison pill][1] to object to the queue.  When a consumer gets this poison pill, it &quot;consumes&quot; it and dies.  In practice it might look like this:\r\n\r\n        while (true) {\r\n            product = queue.take();\r\n            if (product == POISON_PILL) {\r\n                break;\r\n            }\r\n            process(product);\r\n        }\r\n\r\nIt is slightly more complicated when there are multiple consumers:\r\n\r\n  - You could provide one pill for each consumer, or enqueue the same pill multiple times.\r\n  - You could have the consumer re-enqueue the poison pill as its last action before dying.\r\n\r\nOther approaches\r\n----------------\r\n\r\nThere should be a way to do this using `Thread.interrupt` but it will be complicated.  There needs to be something &quot;in charge&quot; that can figure out when to interrupt the consumer threads ... and they need to respond correctly.\r\n\r\nIt *might* be possible to do this using daemon thread semantics.  However, if you simply mark the consumer threads as daemon, the JVM will shut down as soon as the producers terminate.  That is too soon.\r\n\r\n------------------\r\n\r\nIn your example, I would use the poison pill approach.  But there are other things that you should fix first.  For example, use a `Queue` class (e.g. `BlockingArrayQueue`) rather than an a bare `List` as your queue.  And avoid doing low-level `wait` and `notify` if possible.\r\n\r\n\r\n  [1]: https://java-design-patterns.com/patterns/poison-pill/","title":"I need help I want to exit the program","body":"<p>There are a number of approaches to solving this problem ... in general.</p>\n<h2>Using Counters</h2>\n<p>If you know beforehand how many items will need to be consumed then the consumers can maintain a (shared) counter and stop themselves when the counter hits the limit.  The problems with this are:</p>\n<ul>\n<li><p>If may be hard or impossible to predict the number of items that will be produced.</p>\n</li>\n<li><p>Given the following (hypothetical) consumer implementation:</p>\n<pre><code>while (atomicCounter.get() &lt; limit) {\n    product = queue.take();   // this blocks until something \n                              // is available to be consumed.\n    atomicCounter.increment();\n    process(product);\n}\n</code></pre>\n<p>... there is a the problem of getting <em>all</em> of the consumers to <em>notice</em> that the limit has been reached.  So you need to use <code>poll</code> and a retry mechanism ... which means busy waiting; e.g.</p>\n<pre><code>while (atomicCounter.get() &lt; limit) {\n    product = queue.poll(timeout, unit);\n    if (product != null) {\n        atomicCounter.increment();\n        process(product);\n    }\n}\n</code></pre>\n<p>The astute reader will notice that consumers don't terminate immediately.  They need to wait for the <code>poll</code> timeout to expire before they will notice that the limit has been reached.</p>\n</li>\n</ul>\n<h2>Using a Poison Pill.</h2>\n<p>If the producers (or something else) knows when they have produced the last &quot;product&quot; and added it to the queue, they add a <a href=\"https://java-design-patterns.com/patterns/poison-pill/\" rel=\"nofollow noreferrer\">poison pill</a> to object to the queue.  When a consumer gets this poison pill, it &quot;consumes&quot; it and dies.  In practice it might look like this:</p>\n<pre><code>    while (true) {\n        product = queue.take();\n        if (product == POISON_PILL) {\n            break;\n        }\n        process(product);\n    }\n</code></pre>\n<p>It is slightly more complicated when there are multiple consumers:</p>\n<ul>\n<li>You could provide one pill for each consumer, or enqueue the same pill multiple times.</li>\n<li>You could have the consumer re-enqueue the poison pill as its last action before dying.</li>\n</ul>\n<h2>Other approaches</h2>\n<p>There should be a way to do this using <code>Thread.interrupt</code> but it will be complicated.  There needs to be something &quot;in charge&quot; that can figure out when to interrupt the consumer threads ... and they need to respond correctly.</p>\n<p>It <em>might</em> be possible to do this using daemon thread semantics.  However, if you simply mark the consumer threads as daemon, the JVM will shut down as soon as the producers terminate.  That is too soon.</p>\n<hr />\n<p>In your example, I would use the poison pill approach.  But there are other things that you should fix first.  For example, use a <code>Queue</code> class (e.g. <code>BlockingArrayQueue</code>) rather than an a bare <code>List</code> as your queue.  And avoid doing low-level <code>wait</code> and <code>notify</code> if possible.</p>\n"},{"tags":[],"owner":{"account_id":9226883,"reputation":4936,"user_id":6854407,"display_name":"Jim Rogers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670725627,"creation_date":1670725627,"answer_id":74757972,"question_id":74749745,"body_markdown":"One of the problems with coordinating multiple producers and multiple consumers is the problem that the consumers may execute faster than the producers. Thus, detecting an empty buffer cannot always be an indication that the producers have ended production. \r\n\r\nAs long as a producer is producing this problem needs the consumers to continue consuming, while at the same time finding a way to terminate all the consumers once the producers are terminated and all the data is read from the buffer.\r\n\r\nThe following solution is provided using the Ada programming language. \r\nThe solution is spread across three files.\r\n\r\nFile: prod_con_shut_down.ads\r\n&lt;!-- language: lang-ada --&gt;\r\n\r\n    package prod_con_shut_down is\r\n       task type Producer;\r\n       task type Consumer;\r\n    end prod_con_shut_down;\r\n\r\nThe Ada package specification above exposes only two items, the Producer task type and the Consumer task type.\r\n\r\nThe implementation of the prod_con_shut_down package is in the second file:\r\nFile: prod_con_shut_down.adb\r\n&lt;!-- language: lang-ada --&gt;\r\n\r\n    with Ada.Numerics.Discrete_Random;\r\n    with Ada.Text_IO; use Ada.Text_IO;\r\n    \r\n    package body prod_con_shut_down is\r\n    \r\n       type Buf_Idx is mod 4;\r\n       type Buf_arr is array (Buf_Idx) of Integer;\r\n    \r\n       ------------\r\n       -- buffer --\r\n       ------------\r\n    \r\n       protected buffer is\r\n          entry Write (Item : in Integer);\r\n          entry Read (Item : out Integer);\r\n          entry Register_Consumer;\r\n          procedure Register_Producer;\r\n          procedure Producer_Done;\r\n          function Producers_Done return Boolean;\r\n          function Is_Empty return Boolean;\r\n       private\r\n          Buf            : Buf_arr;\r\n          Write_Idx      : Buf_Idx := 0;\r\n          Read_Idx       : Buf_Idx := 0;\r\n          Count          : Natural := 0;\r\n          Producer_Count : Natural := 0;\r\n       end buffer;\r\n    \r\n       protected body buffer is\r\n          -----------\r\n          -- Write --\r\n          -----------\r\n    \r\n          entry Write (Item : in Integer) when Count &lt; Buf&#39;Length is\r\n          begin\r\n             Buf (Write_Idx) := Item;\r\n             Write_Idx       := Write_Idx + 1;\r\n             Count           := Count + 1;\r\n          end Write;\r\n    \r\n          ----------\r\n          -- Read --\r\n          ----------\r\n    \r\n          entry Read (Item : out Integer) when Count &gt; 0 is\r\n          begin\r\n             Item     := Buf (Read_Idx);\r\n             Read_Idx := Read_Idx + 1;\r\n             Count    := Count - 1;\r\n          end Read;\r\n    \r\n          -----------------------\r\n          -- Register_Consumer --\r\n          -----------------------\r\n    \r\n          entry Register_Consumer when Producer_Count &gt; 0 is\r\n          begin\r\n             null;\r\n          end Register_Consumer;\r\n    \r\n          -----------------------\r\n          -- Register_Producer --\r\n          -----------------------\r\n    \r\n          procedure Register_Producer is\r\n          begin\r\n             Producer_Count := Producer_Count + 1;\r\n          end Register_Producer;\r\n    \r\n          -------------------\r\n          -- Producer_Done --\r\n          -------------------\r\n    \r\n          procedure Producer_Done is\r\n          begin\r\n             Producer_Count := Producer_Count - 1;\r\n          end Producer_Done;\r\n    \r\n          --------------------\r\n          -- Producers_Done --\r\n          --------------------\r\n    \r\n          function Producers_Done return Boolean is\r\n          begin\r\n             return Producer_Count = 0;\r\n          end Producers_Done;\r\n    \r\n          --------------\r\n          -- Is_Empty --\r\n          --------------\r\n    \r\n          function Is_Empty return Boolean is\r\n          begin\r\n             return Count = 0;\r\n          end Is_Empty;\r\n    \r\n       end buffer;\r\n    \r\n       --------------\r\n       -- Producer --\r\n       --------------\r\n    \r\n       task body Producer is\r\n          subtype Nums is Integer range 1 .. 1_000;\r\n          package Rand_Nums is new Ada.Numerics.Discrete_Random (Nums);\r\n          use Rand_Nums;\r\n          Seed : Generator;\r\n          Num  : Nums;\r\n       begin\r\n          Reset (Seed);\r\n          buffer.Register_Producer;\r\n          for I in 1 .. 5 loop\r\n             Num := Random (Seed);\r\n             buffer.Write (Num);\r\n             Put_Line (&quot;Producer produced&quot; &amp; Num&#39;Image);\r\n          end loop;\r\n          buffer.Producer_Done;\r\n       end Producer;\r\n    \r\n       --------------\r\n       -- Consumer --\r\n       --------------\r\n    \r\n       task body Consumer is\r\n          Num : Integer;\r\n       begin\r\n          buffer.Register_Consumer;\r\n          loop\r\n             select\r\n                buffer.Read (Num);\r\n                Put_Line (&quot;Consumed&quot; &amp; Num&#39;Image);\r\n                delay 0.1;\r\n             or\r\n                delay 0.001;\r\n             end select;\r\n             exit when buffer.Producers_Done and buffer.Is_Empty;\r\n          end loop;\r\n    \r\n       end Consumer;\r\n    \r\n    end prod_con_shut_down;\r\n\r\n\r\nThe Register_Producer procedure increments the Producer_Count member of the Buffer protected object. The Register_Consumer entry simply forces the Consumers to wait for a producer to register before doing anything else. The Producers_Done function returns True when all producers have called Producer_Done.\r\nThe loop within the Consumer exits when Producers_Done is true and Is_Empty is true.\r\n\r\nThe third file is the program entry point. Ada allows the program entry point to have any name the programmer chooses. In this example I chose &quot;main&quot;.\r\n\r\nFile: main.adb\r\n&lt;!-- language: lang-ada --&gt;\r\n\r\n    with prod_con_shut_down; use Prod_con_shut_down;\r\n    \r\n    procedure Main is\r\n      \r\n       P : array (1..2) of Producer;\r\n       C : array (1..2) of Consumer;\r\n    \r\n    begin\r\n       null;\r\n    end Main;\r\n\r\nThe main procedure creates an array of Producers containing two producers, then it creates an array of Consumers containing two Consumers. After that the main procedure simply suspends until all the producer and consumer tasks complete.\r\n\r\nA sample execution of this program, with the producers running much slower than the consumers is:\r\n\r\n    Producer produced 157\r\n    Consumed 157\r\n    Producer produced 924\r\n    Producer produced 544\r\n    Producer produced 365\r\n    Producer produced 653\r\n    Consumed 653\r\n    Producer produced 940\r\n    Consumed 924\r\n    Producer produced 523\r\n    Producer produced 660\r\n    Consumed 544\r\n    Consumed 940\r\n    Consumed 365\r\n    Producer produced 431\r\n    Producer produced 733\r\n    Consumed 523\r\n    Consumed 660\r\n    Consumed 431\r\n    Consumed 733","title":"I need help I want to exit the program","body":"<p>One of the problems with coordinating multiple producers and multiple consumers is the problem that the consumers may execute faster than the producers. Thus, detecting an empty buffer cannot always be an indication that the producers have ended production.</p>\n<p>As long as a producer is producing this problem needs the consumers to continue consuming, while at the same time finding a way to terminate all the consumers once the producers are terminated and all the data is read from the buffer.</p>\n<p>The following solution is provided using the Ada programming language.\nThe solution is spread across three files.</p>\n<p>File: prod_con_shut_down.ads</p>\n<pre class=\"lang-ada prettyprint-override\"><code>package prod_con_shut_down is\n   task type Producer;\n   task type Consumer;\nend prod_con_shut_down;\n</code></pre>\n<p>The Ada package specification above exposes only two items, the Producer task type and the Consumer task type.</p>\n<p>The implementation of the prod_con_shut_down package is in the second file:\nFile: prod_con_shut_down.adb</p>\n<pre class=\"lang-ada prettyprint-override\"><code>with Ada.Numerics.Discrete_Random;\nwith Ada.Text_IO; use Ada.Text_IO;\n\npackage body prod_con_shut_down is\n\n   type Buf_Idx is mod 4;\n   type Buf_arr is array (Buf_Idx) of Integer;\n\n   ------------\n   -- buffer --\n   ------------\n\n   protected buffer is\n      entry Write (Item : in Integer);\n      entry Read (Item : out Integer);\n      entry Register_Consumer;\n      procedure Register_Producer;\n      procedure Producer_Done;\n      function Producers_Done return Boolean;\n      function Is_Empty return Boolean;\n   private\n      Buf            : Buf_arr;\n      Write_Idx      : Buf_Idx := 0;\n      Read_Idx       : Buf_Idx := 0;\n      Count          : Natural := 0;\n      Producer_Count : Natural := 0;\n   end buffer;\n\n   protected body buffer is\n      -----------\n      -- Write --\n      -----------\n\n      entry Write (Item : in Integer) when Count &lt; Buf'Length is\n      begin\n         Buf (Write_Idx) := Item;\n         Write_Idx       := Write_Idx + 1;\n         Count           := Count + 1;\n      end Write;\n\n      ----------\n      -- Read --\n      ----------\n\n      entry Read (Item : out Integer) when Count &gt; 0 is\n      begin\n         Item     := Buf (Read_Idx);\n         Read_Idx := Read_Idx + 1;\n         Count    := Count - 1;\n      end Read;\n\n      -----------------------\n      -- Register_Consumer --\n      -----------------------\n\n      entry Register_Consumer when Producer_Count &gt; 0 is\n      begin\n         null;\n      end Register_Consumer;\n\n      -----------------------\n      -- Register_Producer --\n      -----------------------\n\n      procedure Register_Producer is\n      begin\n         Producer_Count := Producer_Count + 1;\n      end Register_Producer;\n\n      -------------------\n      -- Producer_Done --\n      -------------------\n\n      procedure Producer_Done is\n      begin\n         Producer_Count := Producer_Count - 1;\n      end Producer_Done;\n\n      --------------------\n      -- Producers_Done --\n      --------------------\n\n      function Producers_Done return Boolean is\n      begin\n         return Producer_Count = 0;\n      end Producers_Done;\n\n      --------------\n      -- Is_Empty --\n      --------------\n\n      function Is_Empty return Boolean is\n      begin\n         return Count = 0;\n      end Is_Empty;\n\n   end buffer;\n\n   --------------\n   -- Producer --\n   --------------\n\n   task body Producer is\n      subtype Nums is Integer range 1 .. 1_000;\n      package Rand_Nums is new Ada.Numerics.Discrete_Random (Nums);\n      use Rand_Nums;\n      Seed : Generator;\n      Num  : Nums;\n   begin\n      Reset (Seed);\n      buffer.Register_Producer;\n      for I in 1 .. 5 loop\n         Num := Random (Seed);\n         buffer.Write (Num);\n         Put_Line (&quot;Producer produced&quot; &amp; Num'Image);\n      end loop;\n      buffer.Producer_Done;\n   end Producer;\n\n   --------------\n   -- Consumer --\n   --------------\n\n   task body Consumer is\n      Num : Integer;\n   begin\n      buffer.Register_Consumer;\n      loop\n         select\n            buffer.Read (Num);\n            Put_Line (&quot;Consumed&quot; &amp; Num'Image);\n            delay 0.1;\n         or\n            delay 0.001;\n         end select;\n         exit when buffer.Producers_Done and buffer.Is_Empty;\n      end loop;\n\n   end Consumer;\n\nend prod_con_shut_down;\n</code></pre>\n<p>The Register_Producer procedure increments the Producer_Count member of the Buffer protected object. The Register_Consumer entry simply forces the Consumers to wait for a producer to register before doing anything else. The Producers_Done function returns True when all producers have called Producer_Done.\nThe loop within the Consumer exits when Producers_Done is true and Is_Empty is true.</p>\n<p>The third file is the program entry point. Ada allows the program entry point to have any name the programmer chooses. In this example I chose &quot;main&quot;.</p>\n<p>File: main.adb</p>\n<pre class=\"lang-ada prettyprint-override\"><code>with prod_con_shut_down; use Prod_con_shut_down;\n\nprocedure Main is\n  \n   P : array (1..2) of Producer;\n   C : array (1..2) of Consumer;\n\nbegin\n   null;\nend Main;\n</code></pre>\n<p>The main procedure creates an array of Producers containing two producers, then it creates an array of Consumers containing two Consumers. After that the main procedure simply suspends until all the producer and consumer tasks complete.</p>\n<p>A sample execution of this program, with the producers running much slower than the consumers is:</p>\n<pre><code>Producer produced 157\nConsumed 157\nProducer produced 924\nProducer produced 544\nProducer produced 365\nProducer produced 653\nConsumed 653\nProducer produced 940\nConsumed 924\nProducer produced 523\nProducer produced 660\nConsumed 544\nConsumed 940\nConsumed 365\nProducer produced 431\nProducer produced 733\nConsumed 523\nConsumed 660\nConsumed 431\nConsumed 733\n</code></pre>\n"}],"owner":{"account_id":27206884,"reputation":1,"user_id":20738297,"display_name":"HM Try"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1670725627,"creation_date":1670636230,"question_id":74749745,"body_markdown":"**I need help in this code its simple code about bounded buffer problem using multiple producers and consumers\r\nits working and there are no issues with it .... but when the producers finished the consumers still waiting and the program running forever so how can I solve this **```\r\n\r\n```\r\n\r\n\r\n//main class\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\npublic class MULTIPLE_ProducerConsumerWaitNotify {\r\n\r\n public static void main(String args[]) {\r\n  List&lt;Integer&gt; sharedQueue = new LinkedList&lt;Integer&gt;(); //Creating shared object\r\n   \r\n  Producer producer0=new Producer(sharedQueue, 0);\r\n  Consumer consumer0=new Consumer(sharedQueue);\r\n\r\n     Thread producerThread0 = new Thread(producer0, &quot;ProducerThread0&quot;);\r\n     Thread consumerThread0 = new Thread(consumer0, &quot;ConsumerThread0&quot;);\r\n     producerThread0.start();\r\n     consumerThread0.start();\r\n     \r\n     \r\n  Producer producer1=new Producer(sharedQueue, 1);\r\n  Consumer consumer1=new Consumer(sharedQueue);\r\n\r\n     Thread producerThread1 = new Thread(producer1, &quot;ProducerThread1&quot;);\r\n     Thread consumerThread1 = new Thread(consumer1, &quot;ConsumerThread1&quot;);\r\n     producerThread1.start();\r\n     consumerThread1.start();\r\n } \r\n    \r\n}\r\n\r\n//producer class\r\n\r\n\r\nclass Producer implements Runnable {\r\n private List&lt;Integer&gt; sharedQueue;\r\n private int maxSize=4; //maximum number of products which sharedQueue can hold at a time.\r\n  static int productionSize=5; //Total no of items to be produced by each producer\r\n int producerNo;\r\n public Producer(List&lt;Integer&gt; sharedQueue, int producerNo) {\r\n     this.sharedQueue = sharedQueue;\r\n     this.producerNo = producerNo;\r\n }\r\n\r\n @Override\r\n public void run() {\r\n     for (int i = 1; i &lt;= productionSize; i++) { //produce products.\r\n         try {\r\n             produce(i);\r\n\r\n         } catch (InterruptedException e) {  e.printStackTrace(); }\r\n     }\r\n     \r\n}\r\n\r\n private void produce(int i) throws InterruptedException {\r\n  \r\n    synchronized (sharedQueue) {            \r\n\r\n       //if sharedQuey is full wait until consumer consumes.\r\n       while (sharedQueue.size() == maxSize) {\r\n             System.out.println(Thread.currentThread().getName()+&quot;, Queue is full, producerThread is waiting for &quot;\r\n                    + &quot;consumerThread to consume, sharedQueue&#39;s size= &quot;+maxSize);\r\n             sharedQueue.wait();\r\n\r\n         }\r\n\r\n       //Bcz each producer must produce unique product\r\n             //Ex= producer0 will produce 1-5  and producer1 will produce 6-10 in random order\r\n       int producedItem = (productionSize*producerNo)+ i;  \r\n       \r\n       System.out.println(Thread.currentThread().getName() +&quot; Produced : &quot; + producedItem);\r\n       sharedQueue.add(producedItem);\r\n         Thread.sleep((long)(Math.random() * 1000));\r\n         sharedQueue.notify();\r\n     }\r\n }\r\n\r\n    \r\n}\r\n\r\n\r\n//consumer class\r\n\r\n\r\nclass Consumer implements Runnable {\r\n    private List&lt;Integer&gt; sharedQueue;\r\n public Consumer(List&lt;Integer&gt; sharedQueue) {\r\n     this.sharedQueue = sharedQueue;\r\n }\r\n \r\n    @Override\r\n public void run() {\r\n     while (true) {\r\n         try {\r\n             consume();\r\n    \r\n             Thread.sleep(100);\r\n             \r\n         } catch (InterruptedException e) {  e.printStackTrace(); }\r\n     }\r\n }\r\n\r\n private void consume() throws InterruptedException {\r\n                \r\n\r\n    synchronized (sharedQueue) {\r\n       //if sharedQuey is empty wait until producer produces.\r\n       while (sharedQueue.size() == 0) {\r\n           System.out.println(Thread.currentThread().getName()+&quot;, Queue is empty, consumerThread is waiting for &quot;\r\n                           + &quot;producerThread to produce, sharedQueue&#39;s size= 0&quot;);  \r\n           sharedQueue.wait();\r\n            \r\n         }\r\n\r\n       Thread.sleep((long)(Math.random() * 2000));\r\n         System.out.println(Thread.currentThread().getName()+&quot;, CONSUMED : &quot;+ sharedQueue.remove(0));\r\n         sharedQueue.notify();\r\n     }\r\n    \r\n }\r\n \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\ni tried to make a shared counter when it&#39;s done the code exit ()","title":"I need help I want to exit the program","body":"<p>**I need help in this code its simple code about bounded buffer problem using multiple producers and consumers\nits working and there are no issues with it .... but when the producers finished the consumers still waiting and the program running forever so how can I solve this **```</p>\n<pre><code>\n\n//main class\nimport java.util.LinkedList;\nimport java.util.List;\npublic class MULTIPLE_ProducerConsumerWaitNotify {\n\n public static void main(String args[]) {\n  List&lt;Integer&gt; sharedQueue = new LinkedList&lt;Integer&gt;(); //Creating shared object\n   \n  Producer producer0=new Producer(sharedQueue, 0);\n  Consumer consumer0=new Consumer(sharedQueue);\n\n     Thread producerThread0 = new Thread(producer0, &quot;ProducerThread0&quot;);\n     Thread consumerThread0 = new Thread(consumer0, &quot;ConsumerThread0&quot;);\n     producerThread0.start();\n     consumerThread0.start();\n     \n     \n  Producer producer1=new Producer(sharedQueue, 1);\n  Consumer consumer1=new Consumer(sharedQueue);\n\n     Thread producerThread1 = new Thread(producer1, &quot;ProducerThread1&quot;);\n     Thread consumerThread1 = new Thread(consumer1, &quot;ConsumerThread1&quot;);\n     producerThread1.start();\n     consumerThread1.start();\n } \n    \n}\n\n//producer class\n\n\nclass Producer implements Runnable {\n private List&lt;Integer&gt; sharedQueue;\n private int maxSize=4; //maximum number of products which sharedQueue can hold at a time.\n  static int productionSize=5; //Total no of items to be produced by each producer\n int producerNo;\n public Producer(List&lt;Integer&gt; sharedQueue, int producerNo) {\n     this.sharedQueue = sharedQueue;\n     this.producerNo = producerNo;\n }\n\n @Override\n public void run() {\n     for (int i = 1; i &lt;= productionSize; i++) { //produce products.\n         try {\n             produce(i);\n\n         } catch (InterruptedException e) {  e.printStackTrace(); }\n     }\n     \n}\n\n private void produce(int i) throws InterruptedException {\n  \n    synchronized (sharedQueue) {            \n\n       //if sharedQuey is full wait until consumer consumes.\n       while (sharedQueue.size() == maxSize) {\n             System.out.println(Thread.currentThread().getName()+&quot;, Queue is full, producerThread is waiting for &quot;\n                    + &quot;consumerThread to consume, sharedQueue's size= &quot;+maxSize);\n             sharedQueue.wait();\n\n         }\n\n       //Bcz each producer must produce unique product\n             //Ex= producer0 will produce 1-5  and producer1 will produce 6-10 in random order\n       int producedItem = (productionSize*producerNo)+ i;  \n       \n       System.out.println(Thread.currentThread().getName() +&quot; Produced : &quot; + producedItem);\n       sharedQueue.add(producedItem);\n         Thread.sleep((long)(Math.random() * 1000));\n         sharedQueue.notify();\n     }\n }\n\n    \n}\n\n\n//consumer class\n\n\nclass Consumer implements Runnable {\n    private List&lt;Integer&gt; sharedQueue;\n public Consumer(List&lt;Integer&gt; sharedQueue) {\n     this.sharedQueue = sharedQueue;\n }\n \n    @Override\n public void run() {\n     while (true) {\n         try {\n             consume();\n    \n             Thread.sleep(100);\n             \n         } catch (InterruptedException e) {  e.printStackTrace(); }\n     }\n }\n\n private void consume() throws InterruptedException {\n                \n\n    synchronized (sharedQueue) {\n       //if sharedQuey is empty wait until producer produces.\n       while (sharedQueue.size() == 0) {\n           System.out.println(Thread.currentThread().getName()+&quot;, Queue is empty, consumerThread is waiting for &quot;\n                           + &quot;producerThread to produce, sharedQueue's size= 0&quot;);  \n           sharedQueue.wait();\n            \n         }\n\n       Thread.sleep((long)(Math.random() * 2000));\n         System.out.println(Thread.currentThread().getName()+&quot;, CONSUMED : &quot;+ sharedQueue.remove(0));\n         sharedQueue.notify();\n     }\n    \n }\n \n}\n\n\n\n\n\n\n\n</code></pre>\n<p>i tried to make a shared counter when it's done the code exit ()</p>\n"},{"tags":["java","powershell"],"comments":[{"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"score":0,"creation_date":1670592457,"post_id":74743245,"comment_id":131915475,"body_markdown":"I tried that as well. But same response.","body":"I tried that as well. But same response."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670593771,"post_id":74743245,"comment_id":131915917,"body_markdown":"*I tried that as well. But same response* Please edit your question to show that code you tried. Also call `inheritIO` on the builder","body":"<i>I tried that as well. But same response</i> Please edit your question to show that code you tried. Also call <code>inheritIO</code> on the builder"}],"answers":[{"comments":[{"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"score":0,"creation_date":1670592473,"post_id":74743458,"comment_id":131915482,"body_markdown":"Hi Mathias, Thanks for quick reply. I tried as you suggested with encoding request but got the same &#39;no response&#39; output. Also, index didn&#39;t disable Its same as before.","body":"Hi Mathias, Thanks for quick reply. I tried as you suggested with encoding request but got the same &#39;no response&#39; output. Also, index didn&#39;t disable Its same as before."}],"tags":[],"owner":{"account_id":366852,"reputation":161795,"user_id":712649,"accept_rate":100,"display_name":"Mathias R. Jessen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670590529,"creation_date":1670590529,"answer_id":74743458,"question_id":74743245,"body_markdown":"The problem here is likely that `|` is interpreted by the default shell (eg. cmd.exe) before being passed to `powershell.exe`.\r\n\r\nTo work around this, use the `-EncodedCommand` command line switch to safely pass the command to `powershell.exe`:\r\n\r\n    public String disableIndexing(String driveLetter) {\r\n        String driveLetter = &quot;D&quot;;\r\n        String powerShellCommand = &quot;Get-WmiObject -Class Win32_Volume -Filter \\&quot;DriveLetter=&#39;&quot; + driveLetter + &quot;:&#39;\\&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False}&quot;;\r\n\r\n        // Base64-encode the UTF16LE representation of the command\r\n        byte[] powerShellBytes = powerShellCommand.getBytes(StandardCharsets.UTF_16LE);\r\n        String encodedCmd = new String(Base64.getEncoder().encode(powerShellBytes));\r\n\r\n        String command = &quot;powershell.exe -EncodedCommand &quot; + encodedCmd;\r\n\r\n        try {\r\n            // proceed the same as before ...\r\n        }\r\n        catch (Exception e) {\r\n            // ...\r\n        }\r\n\r\n        return returnVal;\r\n    }","title":"PowerShell command not getting executed using java Process class. While all other commands are working fine","body":"<p>The problem here is likely that <code>|</code> is interpreted by the default shell (eg. cmd.exe) before being passed to <code>powershell.exe</code>.</p>\n<p>To work around this, use the <code>-EncodedCommand</code> command line switch to safely pass the command to <code>powershell.exe</code>:</p>\n<pre><code>public String disableIndexing(String driveLetter) {\n    String driveLetter = &quot;D&quot;;\n    String powerShellCommand = &quot;Get-WmiObject -Class Win32_Volume -Filter \\&quot;DriveLetter='&quot; + driveLetter + &quot;:'\\&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False}&quot;;\n\n    // Base64-encode the UTF16LE representation of the command\n    byte[] powerShellBytes = powerShellCommand.getBytes(StandardCharsets.UTF_16LE);\n    String encodedCmd = new String(Base64.getEncoder().encode(powerShellBytes));\n\n    String command = &quot;powershell.exe -EncodedCommand &quot; + encodedCmd;\n\n    try {\n        // proceed the same as before ...\n    }\n    catch (Exception e) {\n        // ...\n    }\n\n    return returnVal;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670766864,"post_id":74757944,"comment_id":131944517,"body_markdown":"You&#39;d have probably saved yourself a lot of time had you used an array as more than one person suggested","body":"You&#39;d have probably saved yourself a lot of time had you used an array as more than one person suggested"},{"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"score":0,"creation_date":1670948964,"post_id":74757944,"comment_id":131988928,"body_markdown":"no @g00se i haven&#39;t tried array but will try and update the group.","body":"no @g00se i haven&#39;t tried array but will try and update the group."}],"tags":[],"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670725192,"creation_date":1670725192,"answer_id":74757944,"question_id":74743245,"body_markdown":"hey guys I got the solution. But even I didn&#39;t understand how this worked. So, what I did is while coping my command from one method to another method I accidently left the 2 extra slashes on my String command and executed it. And it worked.\r\nActual Command : `String command = &quot;powershell.exe Get-WmiObject -Class Win32_Volume -Filter \\&quot;DriveLetter=&#39;H:&#39;\\&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False}`&quot; It was not working.\r\n\r\nCommand which worked : `String command = &quot;powershell.exe Get-WmiObject -Class Win32_Volume -Filter \\\\\\&quot;DriveLetter=&#39;H:&#39;\\\\\\&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False}`&quot; \r\nI still not able to understand how it worked. because in actual PowerShell command it shouldn&#39;t have that back slash before and after DriveLetter.","title":"PowerShell command not getting executed using java Process class. While all other commands are working fine","body":"<p>hey guys I got the solution. But even I didn't understand how this worked. So, what I did is while coping my command from one method to another method I accidently left the 2 extra slashes on my String command and executed it. And it worked.\nActual Command : <code>String command = &quot;powershell.exe Get-WmiObject -Class Win32_Volume -Filter \\&quot;DriveLetter='H:'\\&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False}</code>&quot; It was not working.</p>\n<p>Command which worked : <code>String command = &quot;powershell.exe Get-WmiObject -Class Win32_Volume -Filter \\\\\\&quot;DriveLetter='H:'\\\\\\&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False}</code>&quot;\nI still not able to understand how it worked. because in actual PowerShell command it shouldn't have that back slash before and after DriveLetter.</p>\n"}],"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670725192,"creation_date":1670589354,"question_id":74743245,"body_markdown":"I am trying to execute below command using java Process class but it&#39;s not giving me any response or neither its effecting which it should do.\r\n\r\nBut when I am executing the command directly on PowerShell its working fine only it&#39;s not working using java code. I have tried other PowerShell commands, and all are working fine accept this one.\r\n\r\nIt&#39;s a command to disable indexing of a drive.\r\n\r\nOutput its only printing the command and in response of isAlive() method call it replies with false.\r\n\r\nCommand: `powershell.exe Get-WmiObject -Class Win32_Volume -Filter &quot;DriveLetter=&#39;I:&#39;&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False}`\r\n\r\n&gt; isAlive : false\r\n\r\nThere is nothing more in the code I am just calling this method from my main class that&#39;s it like `classObject.disableIndexing(&quot;D&quot;)`\r\n\r\nNote I am executing the same using admin rights only.\r\nPlease help.\r\n\r\n```\r\npublic String disableIndexing(String driveLetter) {\r\n\t\t\r\n\tString returnVal=&quot;&quot;;\r\n\tString command = &quot;powershell.exe Get-WmiObject -Class Win32_Volume -Filter \\&quot;DriveLetter=&#39;&quot;+driveLetter+&quot;:&#39;\\&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False} &quot;;\r\n\ttry {\t\r\n\t\tSystem.out.println(command);\r\n\t\tProcess p = Runtime.getRuntime().exec(command);\r\n\t\tp.waitFor();\r\n\t\tString line1=&quot;&quot;;\r\n\t\tString line=&quot;&quot;;\r\n\t\tBufferedReader br=new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\t\twhile ((line1 = br.readLine()) != null) {\r\n    \t\t        System.out.println(line1);\r\n\t\t\tif(!line1.isEmpty())\r\n\t\t\tSystem.err.println(line1);\r\n\t\t}\r\n\t\tSystem.out.println(p.isAlive());\r\n\t\tif(p.exitValue()==0) {\r\n\t\t\treturnVal=&quot;Indexing changed Successfully&quot;;\r\n    \t        }else {\r\n\t\t\treturnVal=&quot;Your Drive is Not Responding Try After Some Time&quot;;\r\n\t        }\r\n\t}catch(Exception e) {\r\n\t\te.printStackTrace();\r\n\t\t\t\r\n\t}\r\n\treturn returnVal;\r\n\t\t\r\n}\r\n```","title":"PowerShell command not getting executed using java Process class. While all other commands are working fine","body":"<p>I am trying to execute below command using java Process class but it's not giving me any response or neither its effecting which it should do.</p>\n<p>But when I am executing the command directly on PowerShell its working fine only it's not working using java code. I have tried other PowerShell commands, and all are working fine accept this one.</p>\n<p>It's a command to disable indexing of a drive.</p>\n<p>Output its only printing the command and in response of isAlive() method call it replies with false.</p>\n<p>Command: <code>powershell.exe Get-WmiObject -Class Win32_Volume -Filter &quot;DriveLetter='I:'&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False}</code></p>\n<blockquote>\n<p>isAlive : false</p>\n</blockquote>\n<p>There is nothing more in the code I am just calling this method from my main class that's it like <code>classObject.disableIndexing(&quot;D&quot;)</code></p>\n<p>Note I am executing the same using admin rights only.\nPlease help.</p>\n<pre><code>public String disableIndexing(String driveLetter) {\n        \n    String returnVal=&quot;&quot;;\n    String command = &quot;powershell.exe Get-WmiObject -Class Win32_Volume -Filter \\&quot;DriveLetter='&quot;+driveLetter+&quot;:'\\&quot; | Set-WmiInstance -Arguments @{IndexingEnabled=$False} &quot;;\n    try {   \n        System.out.println(command);\n        Process p = Runtime.getRuntime().exec(command);\n        p.waitFor();\n        String line1=&quot;&quot;;\n        String line=&quot;&quot;;\n        BufferedReader br=new BufferedReader(new InputStreamReader(p.getInputStream()));\n        while ((line1 = br.readLine()) != null) {\n                    System.out.println(line1);\n            if(!line1.isEmpty())\n            System.err.println(line1);\n        }\n        System.out.println(p.isAlive());\n        if(p.exitValue()==0) {\n            returnVal=&quot;Indexing changed Successfully&quot;;\n                }else {\n            returnVal=&quot;Your Drive is Not Responding Try After Some Time&quot;;\n            }\n    }catch(Exception e) {\n        e.printStackTrace();\n            \n    }\n    return returnVal;\n        \n}\n</code></pre>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670722604,"creation_date":1670722604,"answer_id":74757779,"question_id":74757734,"body_markdown":"This code will take the parameter into account:\r\n```java\r\npublic Fruta[] generarCombinacion(int cantidadCasillas) {\r\n    Random random = new Random();\r\n    Fruta[] combinacion = new Fruta[cantidadCasillas];\r\n    for (int i = 0; i &lt; cantidadCasillas; i++) {\r\n        combinacion[i] = Fruta.values()[random.nextInt(cantidadCasillas)];\r\n    }\r\n    return combinacion;\r\n}\r\n```\r\n\r\nThere are multiple ways in java to create an array. In your code you chose the way to directly instantiate the array with values, there you had no chance of making its size depend on the parameter.\r\n\r\n`new Fruta[cantidadCasillas]` creates an array of the length of variable `cantidadCasillas` and the for-loop sets the values one-by-one.","title":"Java - Generate random array with length given by input","body":"<p>This code will take the parameter into account:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Fruta[] generarCombinacion(int cantidadCasillas) {\n    Random random = new Random();\n    Fruta[] combinacion = new Fruta[cantidadCasillas];\n    for (int i = 0; i &lt; cantidadCasillas; i++) {\n        combinacion[i] = Fruta.values()[random.nextInt(cantidadCasillas)];\n    }\n    return combinacion;\n}\n</code></pre>\n<p>There are multiple ways in java to create an array. In your code you chose the way to directly instantiate the array with values, there you had no chance of making its size depend on the parameter.</p>\n<p><code>new Fruta[cantidadCasillas]</code> creates an array of the length of variable <code>cantidadCasillas</code> and the for-loop sets the values one-by-one.</p>\n"}],"owner":{"account_id":22889814,"reputation":9,"user_id":17030107,"display_name":"webussy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1670722604,"creation_date":1670721681,"question_id":74757734,"body_markdown":"I&#39;m working on a school project of a Casino Java App using OOP and Swing for GUI. &lt;br/&gt;\r\nI have to build a slot machine which receives a number of boxes by user input and when user hits the &quot;play&quot; button, It needs to retrieve a random combination of fruits with the length of the input. &lt;br/&gt;\r\nFor example, if user wants the slot machine to have 3 boxes, there should be a random combination of 3 fruits out of all the fruits I have in my array. &lt;br/&gt;Lets say I have 20 fruits available, I need to use only as many fruits as boxes. If user wants 5 boxes in the slot machine, I need to retrieve 5 fruit combination. \r\nI hope i explained myself\r\n\r\n\r\nFor this project I created a Fruit enum class, and I mapped the name of the fruit with a picture of it to show it in the slot machine. \r\n\r\n\r\n```\r\npublic enum Fruta {\r\n\r\n    PERA(&quot;pera.png&quot;, &quot;pera&quot;),\r\n    BANANA(&quot;banana.png&quot;, &quot;banana&quot;),\r\n    FRUTILLA(&quot;frutilla.png&quot;, &quot;frutilla&quot;);\r\n\r\n    private String archivo;\r\n    private String descripcion;\r\n\r\n    Fruta(String archivo, String descripcion) {\r\n        this.archivo = archivo;\r\n        this.descripcion = descripcion;\r\n    }\r\n\r\n    public String getArchivo() {\r\n        return archivo;\r\n    }\r\n\r\n    public static Fruta obtenerPorValor(String text){\r\n        for (Fruta f : Fruta.values()) {\r\n            if (f.descripcion.equalsIgnoreCase(text)) {\r\n                return f;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n```\r\n\r\nIn my controller class, &#39;Casino&#39;, I built the &#39;play&#39; method:\r\n\r\n\r\n```\r\npublic Fruta[] jugar(TicketView ticket,MaquinaTragamonedasView maquinaView) {\r\n    MaquinaTragamonedas maquina = buscarMaquina(maquinaView.getIdMaquina());\r\n    if(ticket.getCredito() &gt;= maquina.getCosteJugada() &amp;&amp; ticket != null) {\r\n        Fruta[] combinacion = maquina.jugar();\r\n        return combinacion;\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nPlay method inside my MaquinaTragamonedas (slot machine) class:\r\n\r\n\r\n```\r\npublic Fruta[] jugar () {\r\n\r\n    if(verificarRecaudacionMinima()){\r\n        mostrarMensaje();\r\n    };\r\n    return generarCombinacion(cantidadCasillas);\r\n\r\n}\r\n```\r\n\r\nThis is how i generate the random combination of fruits inside the Slot machine class: \r\n\r\n\r\n```\r\npublic Fruta[] generarCombinacion(int cantidadCasillas) {\r\n    Random random = new Random();\r\n    Fruta[] combinacion = {Fruta.values()[random.nextInt(Fruta.values().length)], Fruta.values()[random.nextInt(Fruta.values().length)], Fruta.values()[random.nextInt(Fruta.values().length)]};\r\n    return combinacion;\r\n}\r\n```\r\n\r\nAs you can see I need the numer of boxes (cantidadCasillas) to retrieve the combination, but cant get my head to achieve this. \r\n\r\n\r\n\r\n","title":"Java - Generate random array with length given by input","body":"<p>I'm working on a school project of a Casino Java App using OOP and Swing for GUI. <br/>\nI have to build a slot machine which receives a number of boxes by user input and when user hits the &quot;play&quot; button, It needs to retrieve a random combination of fruits with the length of the input. <br/>\nFor example, if user wants the slot machine to have 3 boxes, there should be a random combination of 3 fruits out of all the fruits I have in my array. <br/>Lets say I have 20 fruits available, I need to use only as many fruits as boxes. If user wants 5 boxes in the slot machine, I need to retrieve 5 fruit combination.\nI hope i explained myself</p>\n<p>For this project I created a Fruit enum class, and I mapped the name of the fruit with a picture of it to show it in the slot machine.</p>\n<pre><code>public enum Fruta {\n\n    PERA(&quot;pera.png&quot;, &quot;pera&quot;),\n    BANANA(&quot;banana.png&quot;, &quot;banana&quot;),\n    FRUTILLA(&quot;frutilla.png&quot;, &quot;frutilla&quot;);\n\n    private String archivo;\n    private String descripcion;\n\n    Fruta(String archivo, String descripcion) {\n        this.archivo = archivo;\n        this.descripcion = descripcion;\n    }\n\n    public String getArchivo() {\n        return archivo;\n    }\n\n    public static Fruta obtenerPorValor(String text){\n        for (Fruta f : Fruta.values()) {\n            if (f.descripcion.equalsIgnoreCase(text)) {\n                return f;\n            }\n        }\n        return null;\n    }\n}\n\n</code></pre>\n<p>In my controller class, 'Casino', I built the 'play' method:</p>\n<pre><code>public Fruta[] jugar(TicketView ticket,MaquinaTragamonedasView maquinaView) {\n    MaquinaTragamonedas maquina = buscarMaquina(maquinaView.getIdMaquina());\n    if(ticket.getCredito() &gt;= maquina.getCosteJugada() &amp;&amp; ticket != null) {\n        Fruta[] combinacion = maquina.jugar();\n        return combinacion;\n    }\n    return null;\n}\n</code></pre>\n<p>Play method inside my MaquinaTragamonedas (slot machine) class:</p>\n<pre><code>public Fruta[] jugar () {\n\n    if(verificarRecaudacionMinima()){\n        mostrarMensaje();\n    };\n    return generarCombinacion(cantidadCasillas);\n\n}\n</code></pre>\n<p>This is how i generate the random combination of fruits inside the Slot machine class:</p>\n<pre><code>public Fruta[] generarCombinacion(int cantidadCasillas) {\n    Random random = new Random();\n    Fruta[] combinacion = {Fruta.values()[random.nextInt(Fruta.values().length)], Fruta.values()[random.nextInt(Fruta.values().length)], Fruta.values()[random.nextInt(Fruta.values().length)]};\n    return combinacion;\n}\n</code></pre>\n<p>As you can see I need the numer of boxes (cantidadCasillas) to retrieve the combination, but cant get my head to achieve this.</p>\n"},{"tags":["java","quartz-scheduler","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1670764838,"post_id":74757695,"comment_id":131944102,"body_markdown":"Try updating to the latest version (5.0.0-beta.2)","body":"Try updating to the latest version (5.0.0-beta.2)"},{"owner":{"account_id":27214875,"reputation":1,"user_id":20745057,"display_name":"123period"},"score":0,"creation_date":1670768096,"post_id":74757695,"comment_id":131944736,"body_markdown":"@Minn updated it and it was resolved. Thank you!","body":"@Minn updated it and it was resolved. Thank you!"}],"owner":{"account_id":27214875,"reputation":1,"user_id":20745057,"display_name":"123period"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670720994,"creation_date":1670720994,"question_id":74757695,"body_markdown":"I send an image file to a specific discord channel every minute with Quartz Scheduler.\r\nHowever, when image file is sent, my bot&#39;s console outputs the log below.\r\n\r\n\r\n```\r\n[Finalizer] WARN RestAction - Found unclosed resources in MessageAction instance, closing on finalization step!\r\n```\r\n\r\n\r\n\r\n\r\nIs it possible to disable log? Or did I do something wrong?\r\n\r\nFiles are sent well, but this log is very annoying because it prints out every time a file is sent to the console.\r\n\r\n\r\n\r\nHere is my code (If you need):\r\n\r\n\r\nImageSendingJob.java\r\n```\r\npublic class ImageSendingJob implements Job {\r\n    @Override\r\n    public void execute(JobExecutionContext context) {\r\n        TextChannel textChannel = JDA.guild.getTextChannelById(&quot;ID&quot;);\r\n        InputStream image = // Image\r\n        textChannel\r\n                .sendFile(image, String.format(&quot;%s.png&quot;, context.getFireTime()))\r\n                .complete();\r\n    }\r\n}\r\n```\r\n\r\nSchedulerManager.java\r\n```\r\nprivate void startScheduler() {\r\n    SchedulerFactory schedulerFactory = new StdSchedulerFactory();\r\n    try {\r\n        Scheduler scheduler = schedulerFactory.getScheduler();\r\n\r\n        JobDetail job = newJob(ImageSendingJob.class)\r\n                .withIdentity(&quot;Job&quot;, Scheduler.DEFAULT_GROUP)\r\n                .build();\r\n        Trigger trigger = TriggerBuilder.newTrigger()\r\n                .withIdentity(&quot;JobTrigger&quot;, Scheduler.DEFAULT_GROUP)\r\n                .withSchedule(SimpleScheduleBuilder.simpleSchedule()\r\n                        .withIntervalInSeconds(60)\r\n                        .repeatForever())\r\n                .build();\r\n        scheduler.scheduleJob(job, trigger);\r\n        scheduler.start();\r\n    } catch (SchedulerException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\n","title":"Discord JDA keeps printing [Finalizer] WARN RestAction - Found unclosed resources in MessageAction instance","body":"<p>I send an image file to a specific discord channel every minute with Quartz Scheduler.\nHowever, when image file is sent, my bot's console outputs the log below.</p>\n<pre><code>[Finalizer] WARN RestAction - Found unclosed resources in MessageAction instance, closing on finalization step!\n</code></pre>\n<p>Is it possible to disable log? Or did I do something wrong?</p>\n<p>Files are sent well, but this log is very annoying because it prints out every time a file is sent to the console.</p>\n<p>Here is my code (If you need):</p>\n<p>ImageSendingJob.java</p>\n<pre><code>public class ImageSendingJob implements Job {\n    @Override\n    public void execute(JobExecutionContext context) {\n        TextChannel textChannel = JDA.guild.getTextChannelById(&quot;ID&quot;);\n        InputStream image = // Image\n        textChannel\n                .sendFile(image, String.format(&quot;%s.png&quot;, context.getFireTime()))\n                .complete();\n    }\n}\n</code></pre>\n<p>SchedulerManager.java</p>\n<pre><code>private void startScheduler() {\n    SchedulerFactory schedulerFactory = new StdSchedulerFactory();\n    try {\n        Scheduler scheduler = schedulerFactory.getScheduler();\n\n        JobDetail job = newJob(ImageSendingJob.class)\n                .withIdentity(&quot;Job&quot;, Scheduler.DEFAULT_GROUP)\n                .build();\n        Trigger trigger = TriggerBuilder.newTrigger()\n                .withIdentity(&quot;JobTrigger&quot;, Scheduler.DEFAULT_GROUP)\n                .withSchedule(SimpleScheduleBuilder.simpleSchedule()\n                        .withIntervalInSeconds(60)\n                        .repeatForever())\n                .build();\n        scheduler.scheduleJob(job, trigger);\n        scheduler.start();\n    } catch (SchedulerException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":["naming-conventions","java"],"comments":[{"owner":{"account_id":12090,"reputation":10348,"user_id":23637,"accept_rate":83,"display_name":"Alvin"},"score":1,"creation_date":1333523980,"post_id":10006293,"comment_id":12792266,"body_markdown":"Where is Joshua Bloch? Maybe it used to be Sun&#39;s coding standard.","body":"Where is Joshua Bloch? Maybe it used to be Sun&#39;s coding standard."}],"answers":[{"comments":[{"owner":{"account_id":46475,"reputation":20349,"user_id":137369,"accept_rate":78,"display_name":"Thirler"},"score":2,"creation_date":1333525978,"post_id":10006488,"comment_id":12792838,"body_markdown":"The source (jre6) shows that the `store` and `load` functions call the `load0` and `store0` after wrapping the parameters.","body":"The source (jre6) shows that the <code>store</code> and <code>load</code> functions call the <code>load0</code> and <code>store0</code> after wrapping the parameters."}],"tags":[],"owner":{"account_id":1036572,"reputation":8785,"user_id":1043683,"accept_rate":78,"display_name":"Mayank"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1333523541,"creation_date":1333523541,"answer_id":10006488,"question_id":10006293,"body_markdown":"I believe they are named like that because equivalent functions with same names exist in the code and just to distinguish between native helper functions and public functions they decided to suffix them with 0.\r\n\r\nin `java.util.Properties` both `load`, `store` and `load0`, `store0` exist.","title":"Why some java methods in core libraries end with numbers?","body":"<p>I believe they are named like that because equivalent functions with same names exist in the code and just to distinguish between native helper functions and public functions they decided to suffix them with 0.</p>\n\n<p>in <code>java.util.Properties</code> both <code>load</code>, <code>store</code> and <code>load0</code>, <code>store0</code> exist.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1670720118,"creation_date":1333525682,"answer_id":10006932,"question_id":10006293,"body_markdown":"The use of zero suffixes on method names is just a convention to deal with cases where you have a public API method and a corresponding private method.  In the Java SE libraries, this is commonly used for  the `native` methods that provide the underlying functionality implemented by the classes.  (You can see what is going on by looking at the OpenJDK source code.)\r\n\r\nBut your questions are:\r\n\r\n&gt; Why some java methods in core libraries end with numbers?\r\n\r\nBecause someone thought it would be a good idea.  It is not strictly necessary since they *typically* could have overloaded the public methods instead.  And since the zero suffix matters are private, the naming of methods should not be relevant beyond the class and its native implementation.\r\n\r\n&gt; I&#39;m just curious if anybody know if there is any history behind that.\r\n\r\nThere is no mention of this convention in the original Java Style Guide.  In fact, I think it predates Java.  I vaguely recall seeing it in C libraries in 4.x BSD Unix.  That was the mid 1980&#39;s.  And I wouldn&#39;t be surprised if they adopted it from somewhere else.","title":"Why some java methods in core libraries end with numbers?","body":"<p>The use of zero suffixes on method names is just a convention to deal with cases where you have a public API method and a corresponding private method.  In the Java SE libraries, this is commonly used for  the <code>native</code> methods that provide the underlying functionality implemented by the classes.  (You can see what is going on by looking at the OpenJDK source code.)</p>\n<p>But your questions are:</p>\n<blockquote>\n<p>Why some java methods in core libraries end with numbers?</p>\n</blockquote>\n<p>Because someone thought it would be a good idea.  It is not strictly necessary since they <em>typically</em> could have overloaded the public methods instead.  And since the zero suffix matters are private, the naming of methods should not be relevant beyond the class and its native implementation.</p>\n<blockquote>\n<p>I'm just curious if anybody know if there is any history behind that.</p>\n</blockquote>\n<p>There is no mention of this convention in the original Java Style Guide.  In fact, I think it predates Java.  I vaguely recall seeing it in C libraries in 4.x BSD Unix.  That was the mid 1980's.  And I wouldn't be surprised if they adopted it from somewhere else.</p>\n"},{"tags":[],"owner":{"account_id":539735,"reputation":9286,"user_id":907687,"accept_rate":91,"display_name":"vikiiii"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1333528368,"creation_date":1333526171,"answer_id":10007027,"question_id":10006293,"body_markdown":"The 0 after the method name is done so to distinguish between **public** and **private** methods having same name .\r\n\r\n`Start` function will call the `start0` function.\r\nThose functions which ends with 0 is private method. \r\nAnd those which are not ending with number is public.\r\nYou can check in any of the library.","title":"Why some java methods in core libraries end with numbers?","body":"<p>The 0 after the method name is done so to distinguish between <strong>public</strong> and <strong>private</strong> methods having same name .</p>\n\n<p><code>Start</code> function will call the <code>start0</code> function.\nThose functions which ends with 0 is private method. \nAnd those which are not ending with number is public.\nYou can check in any of the library.</p>\n"}],"owner":{"account_id":245807,"reputation":6998,"user_id":519539,"accept_rate":91,"display_name":"Petro Semeniuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2125,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":10006932,"answer_count":3,"score":29,"last_activity_date":1670720118,"creation_date":1333522641,"question_id":10006293,"body_markdown":"It&#39;s common in a lot of classes in JDK, just a few examples:\r\n\r\n 1. [java.util.Properties][1]\r\n    - load0\r\n    - store0\r\n 2. [java.lang.Thread][2]\r\n    - start0\r\n    - stop0\r\n    - setPriority0\r\n\r\nUsually they are private native methods (like in Thread class), but sometimes they are just private (Properties class) \r\n\r\nI&#39;m just curious if anybody know if there is any history behind that.\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Properties.java\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Thread.java","title":"Why some java methods in core libraries end with numbers?","body":"<p>It's common in a lot of classes in JDK, just a few examples:</p>\n\n<ol>\n<li><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Properties.java\" rel=\"noreferrer\">java.util.Properties</a>\n\n<ul>\n<li>load0</li>\n<li>store0</li>\n</ul></li>\n<li><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Thread.java\" rel=\"noreferrer\">java.lang.Thread</a>\n\n<ul>\n<li>start0</li>\n<li>stop0</li>\n<li>setPriority0</li>\n</ul></li>\n</ol>\n\n<p>Usually they are private native methods (like in Thread class), but sometimes they are just private (Properties class) </p>\n\n<p>I'm just curious if anybody know if there is any history behind that.</p>\n"},{"tags":["java","algorithm","breadth-first-search"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1670614485,"post_id":74746860,"comment_id":131922203,"body_markdown":"Can you add the code that defines some input, then calls the function, making it run for too long?","body":"Can you add the code that defines some input, then calls the function, making it run for too long?"},{"owner":{"account_id":27203608,"reputation":1,"user_id":20735518,"display_name":"Roy"},"score":0,"creation_date":1670615436,"post_id":74746860,"comment_id":131922409,"body_markdown":"I am confused... do you want the code that initializes the files?","body":"I am confused... do you want the code that initializes the files?"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1670615498,"post_id":74746860,"comment_id":131922421,"body_markdown":"The code that we can run and see that indeed it takes too long. You&#39;ve only provided a swap function. That is hardly enough for us to reproduce your performance problem.","body":"The code that we can run and see that indeed it takes too long. You&#39;ve only provided a swap function. That is hardly enough for us to reproduce your performance problem."},{"owner":{"account_id":27203608,"reputation":1,"user_id":20735518,"display_name":"Roy"},"score":0,"creation_date":1670615870,"post_id":74746860,"comment_id":131922513,"body_markdown":"I see, I will add it","body":"I see, I will add it"},{"owner":{"account_id":59464,"reputation":11815,"user_id":177931,"accept_rate":83,"display_name":"ldog"},"score":0,"creation_date":1670869246,"post_id":74746860,"comment_id":131968339,"body_markdown":"Please don&#39;t link to a third-party for your complete code + example. Take the time to create a minimum reproducible example and post it in as simple a format (i.e. text) in your question. The easier you make it for others to understand and run your code the more likely you are to receive a high-quality answer. Please see https://stackoverflow.com/help/minimal-reproducible-example","body":"Please don&#39;t link to a third-party for your complete code + example. Take the time to create a minimum reproducible example and post it in as simple a format (i.e. text) in your question. The easier you make it for others to understand and run your code the more likely you are to receive a high-quality answer. Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"owner":{"account_id":27203608,"reputation":1,"user_id":20735518,"display_name":"Roy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670720065,"creation_date":1670609565,"question_id":74746860,"body_markdown":"There are 6 different tile colors that are arranged on a 2D rectangular grid. What is the minimum number of adjacent swaps (horizontal and vertical, not diagonal) that will result in no same colored tiles being adjacent? **The program must support grid sizes up to 15 x 15 and must return &quot;no solution&quot; if none exists**\r\n\r\nMy solution appears to work, but for no more than 16 - 20 tiles in the file. Otherwise it runs out of memory and/or takes too long.\r\n\r\nMy program looks for every tile that has another same colored one adjacent to it, and attempts to swap in all four directions (up, down, left, right). Those newly swapped grids are sent to a queue, which the program iterates through (as per the breadth-first-search method) and then applies the four way swap to each. The number of moves simultaneously are being tracked in another array. ArrayLists representing the grid are one dimensional and use integer values rather than Strings (to conserve memory) and the program uses math to determine adjacencies. It also tracks any before seen grids to terminate some unnecessary processing. This program does not account for a possibility of no solution occurring.\r\n\r\nBelow is the four way swap method (repeatedly called with iteration):\r\n\r\n```\r\npublic static boolean minSwaps(ArrayList&lt;Integer&gt; tiles, int moves) {\r\n    boolean solved = true;\r\n    for (int i = 0; i &lt; tiles.size(); i++) {\r\n      if (hasAdjacent(tiles, i)) {\r\n        solved = false;\r\n        try {\r\n          ArrayList&lt;Integer&gt; tilesNew = (ArrayList&lt;Integer&gt;)tiles.clone();\r\n          Collections.swap(tilesNew, i, i - length);\r\n          queue.add(tilesNew);\r\n          Main.moves.add(moves + 1);\r\n        }\r\n        catch(Exception e) {}\r\n        try {\r\n          ArrayList&lt;Integer&gt; tilesNew = (ArrayList&lt;Integer&gt;)tiles.clone();\r\n          Collections.swap(tilesNew, i, i + length);\r\n          queue.add(tilesNew);\r\n          Main.moves.add(moves + 1);\r\n        }\r\n        catch(Exception e) {}\r\n        try {\r\n          if (i + 1 % length != 0) {\r\n            ArrayList&lt;Integer&gt; tilesNew = (ArrayList&lt;Integer&gt;)tiles.clone();\r\n            Collections.swap(tilesNew, i, i + 1);\r\n            queue.add(tilesNew);\r\n            Main.moves.add(moves + 1);\r\n          }\r\n        }\r\n        catch(Exception e) {}\r\n        try {\r\n          if (i % length != 0) {\r\n            ArrayList&lt;Integer&gt; tilesNew = (ArrayList&lt;Integer&gt;)tiles.clone();\r\n            Collections.swap(tilesNew, i, i - 1);\r\n            queue.add(tilesNew);\r\n            Main.moves.add(moves + 1);\r\n          }\r\n        }\r\n        catch(Exception e) {}\r\n      }\r\n    }\r\n    return solved;\r\n  }\r\n```\r\n\r\n\r\nAdditionally, here is a link to the program in its entirety with the file (replit.com) \r\nhttps://replit.com/join/quivtthrqo-roya3\r\n\r\n","title":"How can I make a minimum moves algorithm more efficient?","body":"<p>There are 6 different tile colors that are arranged on a 2D rectangular grid. What is the minimum number of adjacent swaps (horizontal and vertical, not diagonal) that will result in no same colored tiles being adjacent? <strong>The program must support grid sizes up to 15 x 15 and must return &quot;no solution&quot; if none exists</strong></p>\n<p>My solution appears to work, but for no more than 16 - 20 tiles in the file. Otherwise it runs out of memory and/or takes too long.</p>\n<p>My program looks for every tile that has another same colored one adjacent to it, and attempts to swap in all four directions (up, down, left, right). Those newly swapped grids are sent to a queue, which the program iterates through (as per the breadth-first-search method) and then applies the four way swap to each. The number of moves simultaneously are being tracked in another array. ArrayLists representing the grid are one dimensional and use integer values rather than Strings (to conserve memory) and the program uses math to determine adjacencies. It also tracks any before seen grids to terminate some unnecessary processing. This program does not account for a possibility of no solution occurring.</p>\n<p>Below is the four way swap method (repeatedly called with iteration):</p>\n<pre><code>public static boolean minSwaps(ArrayList&lt;Integer&gt; tiles, int moves) {\n    boolean solved = true;\n    for (int i = 0; i &lt; tiles.size(); i++) {\n      if (hasAdjacent(tiles, i)) {\n        solved = false;\n        try {\n          ArrayList&lt;Integer&gt; tilesNew = (ArrayList&lt;Integer&gt;)tiles.clone();\n          Collections.swap(tilesNew, i, i - length);\n          queue.add(tilesNew);\n          Main.moves.add(moves + 1);\n        }\n        catch(Exception e) {}\n        try {\n          ArrayList&lt;Integer&gt; tilesNew = (ArrayList&lt;Integer&gt;)tiles.clone();\n          Collections.swap(tilesNew, i, i + length);\n          queue.add(tilesNew);\n          Main.moves.add(moves + 1);\n        }\n        catch(Exception e) {}\n        try {\n          if (i + 1 % length != 0) {\n            ArrayList&lt;Integer&gt; tilesNew = (ArrayList&lt;Integer&gt;)tiles.clone();\n            Collections.swap(tilesNew, i, i + 1);\n            queue.add(tilesNew);\n            Main.moves.add(moves + 1);\n          }\n        }\n        catch(Exception e) {}\n        try {\n          if (i % length != 0) {\n            ArrayList&lt;Integer&gt; tilesNew = (ArrayList&lt;Integer&gt;)tiles.clone();\n            Collections.swap(tilesNew, i, i - 1);\n            queue.add(tilesNew);\n            Main.moves.add(moves + 1);\n          }\n        }\n        catch(Exception e) {}\n      }\n    }\n    return solved;\n  }\n</code></pre>\n<p>Additionally, here is a link to the program in its entirety with the file (replit.com)\n<a href=\"https://replit.com/join/quivtthrqo-roya3\" rel=\"nofollow noreferrer\">https://replit.com/join/quivtthrqo-roya3</a></p>\n"},{"tags":["java","hash"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670716175,"post_id":74757366,"comment_id":131938318,"body_markdown":"&quot;*Why does super.hashCode() give different results for el1 and el2?*&quot; Because the default hash is based on object identity.","body":"&quot;<i>Why does super.hashCode() give different results for el1 and el2?</i>&quot; Because the default hash is based on object identity."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":3,"creation_date":1670716390,"post_id":74757366,"comment_id":131938353,"body_markdown":"You overrode `equals`. You *must* override `hashCode` with corresponding behavior. Simply overriding it to call `super.hashCode` is superfluous and does nothing","body":"You overrode <code>equals</code>. You <i>must</i> override <code>hashCode</code> with corresponding behavior. Simply overriding it to call <code>super.hashCode</code> is superfluous and does nothing"},{"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"score":0,"creation_date":1670716430,"post_id":74757366,"comment_id":131938358,"body_markdown":"@Michael I see, so `super.hashCode()` is only to be used when extending a class other than `Object`?","body":"@Michael I see, so <code>super.hashCode()</code> is only to be used when extending a class other than <code>Object</code>?"}],"answers":[{"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1670732811,"post_id":74757570,"comment_id":131939942,"body_markdown":"For almost a decade (beginning with java 8) HashMap (and thus HashSet) buckets with more than few entries use a balanced tree instead of a linked list, and thus have logarithmic not linear cost.","body":"For almost a decade (beginning with java 8) HashMap (and thus HashSet) buckets with more than few entries use a balanced tree instead of a linked list, and thus have logarithmic not linear cost."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1670756763,"post_id":74757570,"comment_id":131942721,"body_markdown":"@dave_thompson_085 Not if the hashcodes are identical.","body":"@dave_thompson_085 Not if the hashcodes are identical."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670718640,"creation_date":1670718640,"answer_id":74757570,"question_id":74757366,"body_markdown":"1. Because the default implementations of the `equals` and `hashCode` methods (which go hand in hand - you always override both or neither) treat any 2 different instances as not equal to each other. If you want different behaviour, you override equals and hashCode, and __do not__ invoke `super.equals` / `super.hashCode`, or there&#39;d be no point.\r\n\r\n2. HashSets work as follows: They use `.hashCode()` to know which &#39;bucket&#39; to put the object into, and if 2 objects end up in the same bucket, `equals` is used only on those very few objects to double check.\r\n\r\nIn other words, these are the rules:\r\n\r\n1. If `a.equals(b)`, then `b.equals(a)` must be true.\r\n2. `a.equals(a)` must always be true.\r\n3. If `a.equals(b)` and `b.equals(c)`, `a.equals(c)` must be true.\r\n4. If `a.equals(b)`, `a.hashCode() == b.hashCode()` must be true.\r\n5. The reverse of 4 __does not__ hold: If `a.hashCode() == b.hashCode()`, that doesn&#39;t mean `a.equals(b)`, and hashset does not require it.\r\n6. Therefore, `return 1;` is a legal implementation of hashCode.\r\n7. If a class has really bad hashcode spread (such as the idiotic but legal option listed in bullet 6), then the performance of hashset will be very bad. e.g. `set.containsKey(k)` which ordinarily takes constant time, will take linear time instead if your objects are all not-equal _but_ have the same hashCode. Hence, do try to ensure hashcodes are as different as they can be.\r\n8. HashSet and HashMap require stable objects, meaning, their behaviour when calling hashCode and equals cannot change over time.\r\n9. From the above it naturally follows that overriding equals and not hashCode or vice versa is necessarily broken.\r\n\r\nBreaking any of the above rules does not, generally, result in a compiler error. It often doesn&#39;t even result in an exception. But instead it results in bizarre behaviour with hashsets and hashmaps: You put an k/v pair in the map, and then _immediately_ ask for the value back and you get `null` back instead of what you put in, or something completely different. Just an example.\r\n\r\n---\r\n\r\nNB: One weird effect of all this is that you __cannot add equality-affecting state to subclasses__, unless you apply a caveat that most classes including all classes in the core libraries don&#39;t apply.\r\n\r\nImagine as an example that we invent the notion of a &#39;coloured&#39; arraylist. You could have a red &#39;[&quot;Hello&quot;, &quot;World&quot;]&#39; list, and a blue one:\r\n\r\n```\r\nclass ColoredArrayList extends ArrayList {\r\n  Color color;\r\n\r\n  public ColoredArrayList(Color c) {\r\n    this.color = color;\r\n  }\r\n}\r\n```\r\n\r\nYou&#39;d probably want an empty red list to _not_ equal an empty blue one. However, __that is impossible__ if you intend to follow the rules. That&#39;s because the equals/hashCode impl of `ArrayList` itself considers any other list equal to itself if it has the same items in the same order. Therefore:\r\n\r\n```\r\nList&lt;String&gt; a = new ArrayList&lt;String&gt;();\r\nColoredList&lt;String&gt; b = new ColoredList&lt;String&gt;(Color.RED);\r\n\r\na.equals(b); // this is true, and you can&#39;t change that!\r\n```\r\n\r\nTherefore, `b.equals(a)` must also be true (your impl of `equals` has to say that an empty red list is equal to an empty plain arraylist), and given that an empty arraylist is also equal to an empty blue one, given that `a.equals(b)` and `b.equals(c)` implies that `a.equals(c)`, a red empty list __has to__ be equal to a blue empty list.\r\n\r\nThere is an easy solution for this that brings in new problems, and a hard solution that is objectively better.\r\n\r\nThe easy solution is to define that you can&#39;t be equal to anything except _exact_ instances of yourself, as in, any subclass is insta-disqualified. Imagine `ArrayList`&#39;s equals method returns false if you call it with an instance of a subclass of ArrayList. Then you could make your colored list just fine. But, this isn&#39;t necessarily great, for example, you probably want an empty `LinkedList` and an empty `ArrayList` to be equal.\r\n\r\nThe harder solution is to introduce a second method, `canEqual`, and call it. You override `canEqual` to return &#39;if other is `instanceof` the nearest class in my hierarchy that introduces equality-relevant state&#39;. Thus, your ColoredList should have `@Override public boolean canEqual(Object other) { return other instanceof ColoredList; }`.\r\n\r\nThe problem is, all classes need to have that and use it, or it&#39;s not going to work, and `ArrayList` does not have it. And you can&#39;t change that.\r\n\r\n[Project Lombok](https://projectlombok.org/features/EqualsAndHashCode) can generate this for you if you prefer. It&#39;s not particularly common; I&#39;d only use it if you really know you need it.","title":"Why does super.hashCode give different results on objects from the same Class?","body":"<ol>\n<li><p>Because the default implementations of the <code>equals</code> and <code>hashCode</code> methods (which go hand in hand - you always override both or neither) treat any 2 different instances as not equal to each other. If you want different behaviour, you override equals and hashCode, and <strong>do not</strong> invoke <code>super.equals</code> / <code>super.hashCode</code>, or there'd be no point.</p>\n</li>\n<li><p>HashSets work as follows: They use <code>.hashCode()</code> to know which 'bucket' to put the object into, and if 2 objects end up in the same bucket, <code>equals</code> is used only on those very few objects to double check.</p>\n</li>\n</ol>\n<p>In other words, these are the rules:</p>\n<ol>\n<li>If <code>a.equals(b)</code>, then <code>b.equals(a)</code> must be true.</li>\n<li><code>a.equals(a)</code> must always be true.</li>\n<li>If <code>a.equals(b)</code> and <code>b.equals(c)</code>, <code>a.equals(c)</code> must be true.</li>\n<li>If <code>a.equals(b)</code>, <code>a.hashCode() == b.hashCode()</code> must be true.</li>\n<li>The reverse of 4 <strong>does not</strong> hold: If <code>a.hashCode() == b.hashCode()</code>, that doesn't mean <code>a.equals(b)</code>, and hashset does not require it.</li>\n<li>Therefore, <code>return 1;</code> is a legal implementation of hashCode.</li>\n<li>If a class has really bad hashcode spread (such as the idiotic but legal option listed in bullet 6), then the performance of hashset will be very bad. e.g. <code>set.containsKey(k)</code> which ordinarily takes constant time, will take linear time instead if your objects are all not-equal <em>but</em> have the same hashCode. Hence, do try to ensure hashcodes are as different as they can be.</li>\n<li>HashSet and HashMap require stable objects, meaning, their behaviour when calling hashCode and equals cannot change over time.</li>\n<li>From the above it naturally follows that overriding equals and not hashCode or vice versa is necessarily broken.</li>\n</ol>\n<p>Breaking any of the above rules does not, generally, result in a compiler error. It often doesn't even result in an exception. But instead it results in bizarre behaviour with hashsets and hashmaps: You put an k/v pair in the map, and then <em>immediately</em> ask for the value back and you get <code>null</code> back instead of what you put in, or something completely different. Just an example.</p>\n<hr />\n<p>NB: One weird effect of all this is that you <strong>cannot add equality-affecting state to subclasses</strong>, unless you apply a caveat that most classes including all classes in the core libraries don't apply.</p>\n<p>Imagine as an example that we invent the notion of a 'coloured' arraylist. You could have a red '[&quot;Hello&quot;, &quot;World&quot;]' list, and a blue one:</p>\n<pre><code>class ColoredArrayList extends ArrayList {\n  Color color;\n\n  public ColoredArrayList(Color c) {\n    this.color = color;\n  }\n}\n</code></pre>\n<p>You'd probably want an empty red list to <em>not</em> equal an empty blue one. However, <strong>that is impossible</strong> if you intend to follow the rules. That's because the equals/hashCode impl of <code>ArrayList</code> itself considers any other list equal to itself if it has the same items in the same order. Therefore:</p>\n<pre><code>List&lt;String&gt; a = new ArrayList&lt;String&gt;();\nColoredList&lt;String&gt; b = new ColoredList&lt;String&gt;(Color.RED);\n\na.equals(b); // this is true, and you can't change that!\n</code></pre>\n<p>Therefore, <code>b.equals(a)</code> must also be true (your impl of <code>equals</code> has to say that an empty red list is equal to an empty plain arraylist), and given that an empty arraylist is also equal to an empty blue one, given that <code>a.equals(b)</code> and <code>b.equals(c)</code> implies that <code>a.equals(c)</code>, a red empty list <strong>has to</strong> be equal to a blue empty list.</p>\n<p>There is an easy solution for this that brings in new problems, and a hard solution that is objectively better.</p>\n<p>The easy solution is to define that you can't be equal to anything except <em>exact</em> instances of yourself, as in, any subclass is insta-disqualified. Imagine <code>ArrayList</code>'s equals method returns false if you call it with an instance of a subclass of ArrayList. Then you could make your colored list just fine. But, this isn't necessarily great, for example, you probably want an empty <code>LinkedList</code> and an empty <code>ArrayList</code> to be equal.</p>\n<p>The harder solution is to introduce a second method, <code>canEqual</code>, and call it. You override <code>canEqual</code> to return 'if other is <code>instanceof</code> the nearest class in my hierarchy that introduces equality-relevant state'. Thus, your ColoredList should have <code>@Override public boolean canEqual(Object other) { return other instanceof ColoredList; }</code>.</p>\n<p>The problem is, all classes need to have that and use it, or it's not going to work, and <code>ArrayList</code> does not have it. And you can't change that.</p>\n<p><a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"nofollow noreferrer\">Project Lombok</a> can generate this for you if you prefer. It's not particularly common; I'd only use it if you really know you need it.</p>\n"}],"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74757570,"answer_count":1,"score":-1,"last_activity_date":1670718640,"creation_date":1670715941,"question_id":74757366,"body_markdown":"I have a class `DebugTo` where if I have two equal instances `el1`, `el2` a HashSet of `el1` will not regard `el2` as contained.\r\n\r\n```\r\nimport java.util.Objects;\r\n\r\npublic class DebugTo {\r\n\r\n  public String foo;\r\n\r\n  public DebugTo(String foo) {\r\n    this.foo = foo;\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    System.out.println(super.hashCode());\r\n    return Objects.hash(super.hashCode(), foo);\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n\r\n    if (this == o) {\r\n      return true;\r\n    }\r\n    if (o == null || getClass() != o.getClass()) {\r\n      return false;\r\n    }\r\n    DebugTo that = (DebugTo) o;\r\n    return Objects.equals(foo, that.foo);\r\n  }\r\n\r\n}\r\n```\r\n\r\n```\r\nvar el1 = new DebugTo(&quot;a&quot;);\r\nvar el2 = new DebugTo(&quot;a&quot;);\r\nSystem.out.println(&quot;Objects.equals(el1, el2): &quot; + Objects.equals(el1, el2));\r\nSystem.out.println(&quot;Objects.equals(el2, el1): &quot; + Objects.equals(el2, el1));\r\nSystem.out.println(&quot;el1.hashCode(): &quot; + el1.hashCode());\r\nSystem.out.println(&quot;el2.hashCode(): &quot; + el2.hashCode());\r\n```\r\n\r\n```\r\nObjects.equals(el1, el2): true\r\nObjects.equals(el2, el1): true\r\n1205483858\r\nel1.hashCode(): -1284705008\r\n1373949107\r\nel2.hashCode(): -357249585\r\n```\r\nFrom my analysis I have gathered that:\r\n - `HashSet::contains` calls `hashCode` not `equals` (relying on the `Objects.equals(a, b)` =&gt; `a.hashSet() == b.hashSet()`)\r\n - `super.hashCode()` gives a different value both times.\r\n\r\nWhy does `super.hashCode()` give different results for `el1` and `el2`? since they are of the same class, they have the same super class and so I expect `super.hashCode()` to give the same result for both.\r\n\r\nThe hashCode method was probably autogenerated by eclipse. If not answered above, why is super.hashCode used wrong here?","title":"Why does super.hashCode give different results on objects from the same Class?","body":"<p>I have a class <code>DebugTo</code> where if I have two equal instances <code>el1</code>, <code>el2</code> a HashSet of <code>el1</code> will not regard <code>el2</code> as contained.</p>\n<pre><code>import java.util.Objects;\n\npublic class DebugTo {\n\n  public String foo;\n\n  public DebugTo(String foo) {\n    this.foo = foo;\n  }\n\n  @Override\n  public int hashCode() {\n    System.out.println(super.hashCode());\n    return Objects.hash(super.hashCode(), foo);\n  }\n\n  @Override\n  public boolean equals(Object o) {\n\n    if (this == o) {\n      return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n      return false;\n    }\n    DebugTo that = (DebugTo) o;\n    return Objects.equals(foo, that.foo);\n  }\n\n}\n</code></pre>\n<pre><code>var el1 = new DebugTo(&quot;a&quot;);\nvar el2 = new DebugTo(&quot;a&quot;);\nSystem.out.println(&quot;Objects.equals(el1, el2): &quot; + Objects.equals(el1, el2));\nSystem.out.println(&quot;Objects.equals(el2, el1): &quot; + Objects.equals(el2, el1));\nSystem.out.println(&quot;el1.hashCode(): &quot; + el1.hashCode());\nSystem.out.println(&quot;el2.hashCode(): &quot; + el2.hashCode());\n</code></pre>\n<pre><code>Objects.equals(el1, el2): true\nObjects.equals(el2, el1): true\n1205483858\nel1.hashCode(): -1284705008\n1373949107\nel2.hashCode(): -357249585\n</code></pre>\n<p>From my analysis I have gathered that:</p>\n<ul>\n<li><code>HashSet::contains</code> calls <code>hashCode</code> not <code>equals</code> (relying on the <code>Objects.equals(a, b)</code> =&gt; <code>a.hashSet() == b.hashSet()</code>)</li>\n<li><code>super.hashCode()</code> gives a different value both times.</li>\n</ul>\n<p>Why does <code>super.hashCode()</code> give different results for <code>el1</code> and <code>el2</code>? since they are of the same class, they have the same super class and so I expect <code>super.hashCode()</code> to give the same result for both.</p>\n<p>The hashCode method was probably autogenerated by eclipse. If not answered above, why is super.hashCode used wrong here?</p>\n"},{"tags":["java","spring-boot","intellij-idea","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1670752379,"post_id":74757380,"comment_id":131942020,"body_markdown":"do you have public getters/setters for the Students class ? Also, you haven&#39;t shown us the code for the students/save endpoint and that&#39;s where the problem seems to be.","body":"do you have public getters/setters for the Students class ? Also, you haven&#39;t shown us the code for the students/save endpoint and that&#39;s where the problem seems to be."},{"owner":{"account_id":11106613,"reputation":3,"user_id":8153608,"display_name":"Kevin"},"score":0,"creation_date":1670779472,"post_id":74757380,"comment_id":131947343,"body_markdown":"I think I forgot to include getters/setters in my model class. I just added that and that seem to have resolved the issue. Can&#39;t believe I spent an entire night on this. Thanks alot!!","body":"I think I forgot to include getters/setters in my model class. I just added that and that seem to have resolved the issue. Can&#39;t believe I spent an entire night on this. Thanks alot!!"}],"owner":{"account_id":11106613,"reputation":3,"user_id":8153608,"display_name":"Kevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670716095,"creation_date":1670716095,"question_id":74757380,"body_markdown":"So I am working on a small project (I&#39;m a newbie) and I have been unable to access my fields declared in my model class from my view in Thymeleaf. I checked the documentation and I am certain I am doing everything as it should be but for some reason, IntelliJ gives me a &quot;cannot resolve field&quot; error. I checked here and there online and saw that It used to be an issue with IntelliJ which was supposedly fixed in their 2017.X version but I still get a similar error(I am using IntelliJ 2022.2.4). Can anyone please help?\r\n\r\nThis is my view page and I get an error at the level of **th:field=&quot;*{loginDate}&quot;**\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; &gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;ADD NEW RECORD&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href = &quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot;/&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div class=&quot;container-fluid text-center&quot;&gt;\r\n    &lt;div&gt;&lt;h2&gt;ADD NEW RECORD&lt;/h2&gt;&lt;/div&gt;\r\n\r\n    &lt;form th:action=&quot;@{students/save}&quot; th:object=&quot;${newStudent}&quot; method=&quot;post&quot; &gt;\r\n        &lt;div class =&quot;border&quot;&gt;\r\n            &lt;div class=&quot;form-group row&quot;&gt;\r\n                &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt;Date&lt;/label&gt;\r\n                &lt;div class=&quot;col-sm-8&quot;&gt;\r\n                    &lt;input type=&quot;date&quot; **th:field=&quot;*{loginDate}&quot;** class=&quot;form-control&quot;&gt;\r\n\r\n\r\n                &lt;/div&gt;\r\n\r\n\r\n            &lt;/div&gt;\r\n\r\n        &lt;/div&gt;\r\n\r\n\r\n    &lt;/form&gt;\r\n\r\n\r\n\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nHere is my controller:\r\n\r\n```\r\npackage com.sfsb.studentsSFSB.students.controller;\r\n\r\nimport com.sfsb.studentsSFSB.students.model.Students;\r\nimport com.sfsb.studentsSFSB.students.service.StudentsServiceImpl;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\nimport java.util.List;\r\n\r\n@Controller\r\npublic class StudentController {\r\n    private StudentsServiceImpl service;\r\n\r\n    public StudentController(StudentsServiceImpl service) {\r\n        this.service = service;\r\n    }\r\n\r\n    @GetMapping(&quot;&quot;)\r\n    public String showHomePage(){\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/students/new&quot;)\r\n    public String showForm(Model model){\r\n        model.addAttribute(&quot;newStudent&quot;, new Students());\r\n        return &quot;student_form&quot;;\r\n\r\n    }\r\n\r\n    @GetMapping(&quot;/students&quot;)\r\n    public String showStudentsList(Model model){\r\n        List&lt;Students&gt; listStudents =  service.findAll();\r\n        model.addAttribute(&quot;listStudents&quot;, listStudents);\r\n\r\n        return &quot;students&quot;;\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n```\r\nAnd here is my model class\r\n\r\n```\r\npackage com.sfsb.studentsSFSB.students.model;\r\n\r\nimport jakarta.persistence.*;\r\nimport org.springframework.format.annotation.DateTimeFormat;\r\n\r\nimport java.time.Duration;\r\nimport java.time.LocalDate;\r\nimport java.time.LocalTime;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\n@Entity\r\n@Table(name = &quot;students&quot;)\r\npublic class Students {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;FirstName&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;LastName&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;Date&quot;)\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private LocalDate loginDate;\r\n\r\n    @Column(name = &quot;LoginTime&quot;)\r\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\r\n    private LocalTime loginTime;\r\n\r\n    @Column(name = &quot;BreakPeriod&quot;)\r\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\r\n    private LocalTime breakPeriod;\r\n\r\n    @Column(name = &quot;LogoutTime&quot;)\r\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\r\n    private LocalTime logoutTime;\r\n\r\n    @Column(name = &quot;HoursWorkedPerDay&quot;)\r\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\r\n    private LocalTime workHoursPerDay;\r\n\r\n    @Column(name = &quot;Task&quot;)\r\n    private String task;\r\n\r\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\r\n    private LocalTime workHoursPerWeek;\r\n\r\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\r\n    private LocalTime totalHoursForCurrentContract;\r\n\r\n    //@DateTimeFormat(iso = DateTimeFormat.ISO.TIME) if above does not work\r\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\r\n    private LocalTime hoursLeftOnCurrentContract;\r\n\r\n\r\n    //Method to calculate work hours per day based on login,break and logout values\r\n    public LocalTime calculateWorkHoursPerDay(){\r\n        //DateTimeFormatter Formatter = DateTimeFormatter.ofPattern(&quot;H:mm&quot;);\r\n        Duration breakDuration = Duration.between(LocalTime.MIDNIGHT, breakPeriod);\r\n        Duration workDuration = Duration.between(loginTime,logoutTime).minus(breakDuration);\r\n        String workHoursInString = LocalTime.MIDNIGHT.plus(workDuration).toString();\r\n        workHoursPerDay = LocalTime.parse(workHoursInString);\r\n        return workHoursPerDay;\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"Cannot resolve fields declared in my Model in my view. Using thymleaf+Springboot+IntelliJ","body":"<p>So I am working on a small project (I'm a newbie) and I have been unable to access my fields declared in my model class from my view in Thymeleaf. I checked the documentation and I am certain I am doing everything as it should be but for some reason, IntelliJ gives me a &quot;cannot resolve field&quot; error. I checked here and there online and saw that It used to be an issue with IntelliJ which was supposedly fixed in their 2017.X version but I still get a similar error(I am using IntelliJ 2022.2.4). Can anyone please help?</p>\n<p>This is my view page and I get an error at the level of <strong>th:field=&quot;*{loginDate}&quot;</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; &gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;ADD NEW RECORD&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href = &quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot;/&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container-fluid text-center&quot;&gt;\n    &lt;div&gt;&lt;h2&gt;ADD NEW RECORD&lt;/h2&gt;&lt;/div&gt;\n\n    &lt;form th:action=&quot;@{students/save}&quot; th:object=&quot;${newStudent}&quot; method=&quot;post&quot; &gt;\n        &lt;div class =&quot;border&quot;&gt;\n            &lt;div class=&quot;form-group row&quot;&gt;\n                &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt;Date&lt;/label&gt;\n                &lt;div class=&quot;col-sm-8&quot;&gt;\n                    &lt;input type=&quot;date&quot; **th:field=&quot;*{loginDate}&quot;** class=&quot;form-control&quot;&gt;\n\n\n                &lt;/div&gt;\n\n\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n\n\n    &lt;/form&gt;\n\n\n\n\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Here is my controller:</p>\n<pre><code>package com.sfsb.studentsSFSB.students.controller;\n\nimport com.sfsb.studentsSFSB.students.model.Students;\nimport com.sfsb.studentsSFSB.students.service.StudentsServiceImpl;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\n\nimport java.util.List;\n\n@Controller\npublic class StudentController {\n    private StudentsServiceImpl service;\n\n    public StudentController(StudentsServiceImpl service) {\n        this.service = service;\n    }\n\n    @GetMapping(&quot;&quot;)\n    public String showHomePage(){\n        return &quot;index&quot;;\n    }\n\n    @GetMapping(&quot;/students/new&quot;)\n    public String showForm(Model model){\n        model.addAttribute(&quot;newStudent&quot;, new Students());\n        return &quot;student_form&quot;;\n\n    }\n\n    @GetMapping(&quot;/students&quot;)\n    public String showStudentsList(Model model){\n        List&lt;Students&gt; listStudents =  service.findAll();\n        model.addAttribute(&quot;listStudents&quot;, listStudents);\n\n        return &quot;students&quot;;\n    }\n\n\n\n\n}\n\n</code></pre>\n<p>And here is my model class</p>\n<pre><code>package com.sfsb.studentsSFSB.students.model;\n\nimport jakarta.persistence.*;\nimport org.springframework.format.annotation.DateTimeFormat;\n\nimport java.time.Duration;\nimport java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\n\n@Entity\n@Table(name = &quot;students&quot;)\npublic class Students {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;FirstName&quot;)\n    private String firstName;\n\n    @Column(name = &quot;LastName&quot;)\n    private String lastName;\n\n    @Column(name = &quot;Date&quot;)\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate loginDate;\n\n    @Column(name = &quot;LoginTime&quot;)\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\n    private LocalTime loginTime;\n\n    @Column(name = &quot;BreakPeriod&quot;)\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\n    private LocalTime breakPeriod;\n\n    @Column(name = &quot;LogoutTime&quot;)\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\n    private LocalTime logoutTime;\n\n    @Column(name = &quot;HoursWorkedPerDay&quot;)\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\n    private LocalTime workHoursPerDay;\n\n    @Column(name = &quot;Task&quot;)\n    private String task;\n\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\n    private LocalTime workHoursPerWeek;\n\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\n    private LocalTime totalHoursForCurrentContract;\n\n    //@DateTimeFormat(iso = DateTimeFormat.ISO.TIME) if above does not work\n    @DateTimeFormat(pattern = &quot;HH:mm&quot;)\n    private LocalTime hoursLeftOnCurrentContract;\n\n\n    //Method to calculate work hours per day based on login,break and logout values\n    public LocalTime calculateWorkHoursPerDay(){\n        //DateTimeFormatter Formatter = DateTimeFormatter.ofPattern(&quot;H:mm&quot;);\n        Duration breakDuration = Duration.between(LocalTime.MIDNIGHT, breakPeriod);\n        Duration workDuration = Duration.between(loginTime,logoutTime).minus(breakDuration);\n        String workHoursInString = LocalTime.MIDNIGHT.plus(workDuration).toString();\n        workHoursPerDay = LocalTime.parse(workHoursInString);\n        return workHoursPerDay;\n\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":27214592,"reputation":11,"user_id":20744827,"display_name":"CodersLife2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670715624,"creation_date":1670715624,"question_id":74757343,"body_markdown":"I have a file named &quot;EE.txt&quot; that contains the string: &quot;E R R O R&quot;. As you can see in the compiler notes I have posted, I&#39;m trying to call Huffman Tree and pass EE.txt along with it, for the filename. Anyone have any suggestions?\r\n\r\nHuffmanNode.java\r\n\r\n\r\n```\r\npublic class HuffmanNode implements Comparable\r\n{\r\n    public String letter;\r\n    public Double frequency;\r\n    public HuffmanNode left, right;\r\n\r\n    // - add constructors to initialize letter and frequency, etc.\r\n    public HuffmanNode(String letter, Double frequency)\r\n    {\r\n        this.letter = letter;\r\n        this.frequency = frequency;\r\n    }\r\n\r\n    public HuffmanNode(String letter, Double frequency)\r\n    {\r\n        Double freq = Double.parseDouble( frequency );\r\n        this.letter = letter;\r\n        this.frequency = freq;\r\n    }\r\n\r\n    public HuffmanNode(HuffmanNode left, HuffmanNode right)\r\n    {\r\n        this.left = left;\r\n        this.right = right;\r\n        this.letter = left.letter + right.letter;\r\n        this.frequency = left.frequency + right.frequency;\r\n    }\r\n\r\n    public String toString()\r\n    {\r\n        return &quot;&lt;&quot; + this.letter + &quot;, &quot; + this.frequency + &quot;&gt;&quot;;\r\n    }\r\n\r\n    public int compareTo(Object o)\r\n    {\r\n        HuffmanNode huff = (HuffmanNode) o;\r\n        return this.frequency.compareTo( huff.frequency );\r\n    }\r\n}\r\n```\r\n\r\nHuffmanTree\r\n\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\n\r\npublic class HuffmanTree {\r\n\r\n    HuffmanNode root;\r\n\r\n    // - add a constructor to init the Tree from a HuffmanNode\r\n    public HuffmanTree(HuffmanNode huff)\r\n    {\r\n        this.root = huff;\r\n    }\r\n\r\n    // print legend\r\n    public void printLegend()\r\n    {\r\n        this.printLegend(this.root, &quot;&quot;);\r\n    }\r\n\r\n    private void printLegend(HuffmanNode t, String s)\r\n    {\r\n        if( t.letter.length() &gt; 1 )\r\n        {\r\n            this.printLegend( t.left, s + &quot;0&quot;);\r\n            this.printLegend( t.right, s + &quot;1&quot; );\r\n        }\r\n        else\r\n        {\r\n            System.out.print( t.letter + &quot;=&quot; + s );\r\n        }\r\n    }\r\n\r\n    // takes a String for the file name containing our input (letter &amp; frequency data).\r\n    // The letters and frequencies are all in the first line of the file, with spaces as separators.\r\n    // (You may assume each separator is a single space).\r\n    public static BinaryHeap fileToHeap(String filename)\r\n    {\r\n        try {\r\n            BufferedReader br = new BufferedReader(new FileReader( filename ));\r\n\r\n            String line = br.readLine();\r\n            br.close();\r\n\r\n            String[] key = line.split(&quot; &quot;);\r\n            HuffmanNode[] huffs = new HuffmanNode[ key.length / 2];\r\n            int i = 0;\r\n            int j = 0;\r\n            while( i &lt; key.length )\r\n            {\r\n                huffs[ j ] = new HuffmanNode( key[i], key[i + 1]);\r\n//          System.out.println( key[i] + &quot; &quot; + key[i + 1 ] );\r\n\r\n                i = i + 2;\r\n                j++;\r\n            }\r\n\r\n            BinaryHeap heap = new BinaryHeap( huffs );\r\n            return heap;\r\n\r\n        } catch (FileNotFoundException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static HuffmanTree createFromHeap(BinaryHeap b)\r\n    {\r\n        try {\r\n            while( b.getSize() &gt; 1 )\r\n            {\r\n                HuffmanNode huff1 = (HuffmanNode) b.deleteMin();\r\n                HuffmanNode huff2 = (HuffmanNode) b.deleteMin();\r\n                HuffmanNode huff = new HuffmanNode( huff1, huff2 );\r\n                b.insert( huff );\r\n            }\r\n            HuffmanTree tree = new HuffmanTree( (HuffmanNode) b.deleteMin() );\r\n            return tree;\r\n        } catch (Underflow e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // - the main method will go here, as well as code to take\r\n    //   a command-line argument for the input file name\r\n    /**\r\n     * @param args\r\n     */\r\n    public static void main(String[] args) {\r\n        **// TODO Auto-generated method stub\r\n        BinaryHeap bheap = HuffmanTree.fileToHeap( &quot;EE.txt&quot;);\r\n\r\n        bheap.printHeap();\r\n        HuffmanTree htree = HuffmanTree.createFromHeap( bheap );\r\n        htree.printLegend();\r\n    }**\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI believe it is the main method that is causing all of the problems. I just am not quite sure how to edit it.\r\n\r\n\r\nCompiler:\r\n\r\n\r\n```\r\nHuffmanEncoder % java HuffmanTree EE.txt\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;R&quot;\r\n\tat java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2054)\r\n\tat java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\r\n\tat java.base/java.lang.Double.parseDouble(Double.java:735)\r\n\tat HuffmanNode.&lt;init&gt;(HuffmanNode.java:16)\r\n\tat HuffmanTree.fileToHeap(HuffmanTree.java:53)\r\n\tat HuffmanTree.main(HuffmanTree.java:99)\r\n \r\n\r\n```\r\n","title":"Huffman Encoder, trying to pass a string from a txt file with no luck. &lt;3 lines needed","body":"<p>I have a file named &quot;EE.txt&quot; that contains the string: &quot;E R R O R&quot;. As you can see in the compiler notes I have posted, I'm trying to call Huffman Tree and pass EE.txt along with it, for the filename. Anyone have any suggestions?</p>\n<p>HuffmanNode.java</p>\n<pre><code>public class HuffmanNode implements Comparable\n{\n    public String letter;\n    public Double frequency;\n    public HuffmanNode left, right;\n\n    // - add constructors to initialize letter and frequency, etc.\n    public HuffmanNode(String letter, Double frequency)\n    {\n        this.letter = letter;\n        this.frequency = frequency;\n    }\n\n    public HuffmanNode(String letter, Double frequency)\n    {\n        Double freq = Double.parseDouble( frequency );\n        this.letter = letter;\n        this.frequency = freq;\n    }\n\n    public HuffmanNode(HuffmanNode left, HuffmanNode right)\n    {\n        this.left = left;\n        this.right = right;\n        this.letter = left.letter + right.letter;\n        this.frequency = left.frequency + right.frequency;\n    }\n\n    public String toString()\n    {\n        return &quot;&lt;&quot; + this.letter + &quot;, &quot; + this.frequency + &quot;&gt;&quot;;\n    }\n\n    public int compareTo(Object o)\n    {\n        HuffmanNode huff = (HuffmanNode) o;\n        return this.frequency.compareTo( huff.frequency );\n    }\n}\n</code></pre>\n<p>HuffmanTree</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class HuffmanTree {\n\n    HuffmanNode root;\n\n    // - add a constructor to init the Tree from a HuffmanNode\n    public HuffmanTree(HuffmanNode huff)\n    {\n        this.root = huff;\n    }\n\n    // print legend\n    public void printLegend()\n    {\n        this.printLegend(this.root, &quot;&quot;);\n    }\n\n    private void printLegend(HuffmanNode t, String s)\n    {\n        if( t.letter.length() &gt; 1 )\n        {\n            this.printLegend( t.left, s + &quot;0&quot;);\n            this.printLegend( t.right, s + &quot;1&quot; );\n        }\n        else\n        {\n            System.out.print( t.letter + &quot;=&quot; + s );\n        }\n    }\n\n    // takes a String for the file name containing our input (letter &amp; frequency data).\n    // The letters and frequencies are all in the first line of the file, with spaces as separators.\n    // (You may assume each separator is a single space).\n    public static BinaryHeap fileToHeap(String filename)\n    {\n        try {\n            BufferedReader br = new BufferedReader(new FileReader( filename ));\n\n            String line = br.readLine();\n            br.close();\n\n            String[] key = line.split(&quot; &quot;);\n            HuffmanNode[] huffs = new HuffmanNode[ key.length / 2];\n            int i = 0;\n            int j = 0;\n            while( i &lt; key.length )\n            {\n                huffs[ j ] = new HuffmanNode( key[i], key[i + 1]);\n//          System.out.println( key[i] + &quot; &quot; + key[i + 1 ] );\n\n                i = i + 2;\n                j++;\n            }\n\n            BinaryHeap heap = new BinaryHeap( huffs );\n            return heap;\n\n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    public static HuffmanTree createFromHeap(BinaryHeap b)\n    {\n        try {\n            while( b.getSize() &gt; 1 )\n            {\n                HuffmanNode huff1 = (HuffmanNode) b.deleteMin();\n                HuffmanNode huff2 = (HuffmanNode) b.deleteMin();\n                HuffmanNode huff = new HuffmanNode( huff1, huff2 );\n                b.insert( huff );\n            }\n            HuffmanTree tree = new HuffmanTree( (HuffmanNode) b.deleteMin() );\n            return tree;\n        } catch (Underflow e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    // - the main method will go here, as well as code to take\n    //   a command-line argument for the input file name\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        **// TODO Auto-generated method stub\n        BinaryHeap bheap = HuffmanTree.fileToHeap( &quot;EE.txt&quot;);\n\n        bheap.printHeap();\n        HuffmanTree htree = HuffmanTree.createFromHeap( bheap );\n        htree.printLegend();\n    }**\n\n}\n</code></pre>\n<p>I believe it is the main method that is causing all of the problems. I just am not quite sure how to edit it.</p>\n<p>Compiler:</p>\n<pre><code>HuffmanEncoder % java HuffmanTree EE.txt\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;R&quot;\n    at java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2054)\n    at java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\n    at java.base/java.lang.Double.parseDouble(Double.java:735)\n    at HuffmanNode.&lt;init&gt;(HuffmanNode.java:16)\n    at HuffmanTree.fileToHeap(HuffmanTree.java:53)\n    at HuffmanTree.main(HuffmanTree.java:99)\n \n\n</code></pre>\n"},{"tags":["java","html","json"],"answers":[{"tags":[],"owner":{"account_id":20167003,"reputation":344,"user_id":14790684,"display_name":"Al-Anazi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670541233,"creation_date":1670541233,"answer_id":74737340,"question_id":74728253,"body_markdown":"Use `request.getParameterMap().get(&quot;fruit&quot;)` in your `POST` method, it will return a string array with all values.","title":"Retrieve Multiple values from same Input tag using Java","body":"<p>Use <code>request.getParameterMap().get(&quot;fruit&quot;)</code> in your <code>POST</code> method, it will return a string array with all values.</p>\n"}],"owner":{"account_id":27187956,"reputation":1,"user_id":20722171,"display_name":"cruzzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670715332,"creation_date":1670492592,"question_id":74728253,"body_markdown":"I&#39;m having problem retrieving multiple values from the input tag. Im retrieving the value from a JSONArray file.\r\n\r\nUnder my post method, how am I able to retrieve more than 1 values from the input tag and store inside a JSONArray variable?\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;table id=&quot;myTable&quot; class=&quot;table table-bordered&quot; style=&quot;width: 100%; max-width: none;&quot;&gt;\r\n      &lt;!-- values are the data inside the JSON Array --&gt;\r\n      &lt;c:forEach items=&quot;${values}&quot; var=&quot;val&quot; varStatus=&quot;count&quot;&gt;\r\n        &lt;tbody&gt;\r\n          &lt;tr&gt;\r\n            &lt;td&gt;\r\n              &lt;div class=&quot; form-group&quot; style=&quot;margin-bottom: 0px;&quot;&gt;\r\n                &lt;!-- //for example, the for loop generate 2 input tag --&gt;\r\n                &lt;input type=&quot;text&quot; name=&quot;fruit&quot; id=&quot;fruit&quot; value=&quot;${val.fruit}&quot;&gt;\r\n              &lt;/div&gt;\r\n            &lt;/td&gt;\r\n          &lt;/tr&gt;\r\n        &lt;/tbody&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI&#39;m only able to retrieve just one of the values by doing this,\r\n``` java\r\nString apple = request.getParameter(&quot;fruit&quot;);\r\n\r\nJSONObject newOutput = new JSONObject();\r\nnewOutput.put(&quot;fruit&quot;, apple);\r\nJSONArray arr_Output = new JSONArray();\r\narr_Output.add(newOutput);\r\n```\r\nI expect to read more than 1 input.\r\n","title":"Retrieve Multiple values from same Input tag using Java","body":"<p>I'm having problem retrieving multiple values from the input tag. Im retrieving the value from a JSONArray file.</p>\n<p>Under my post method, how am I able to retrieve more than 1 values from the input tag and store inside a JSONArray variable?</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table id=\"myTable\" class=\"table table-bordered\" style=\"width: 100%; max-width: none;\"&gt;\n  &lt;!-- values are the data inside the JSON Array --&gt;\n  &lt;c:forEach items=\"${values}\" var=\"val\" varStatus=\"count\"&gt;\n    &lt;tbody&gt;\n      &lt;tr&gt;\n        &lt;td&gt;\n          &lt;div class=\" form-group\" style=\"margin-bottom: 0px;\"&gt;\n            &lt;!-- //for example, the for loop generate 2 input tag --&gt;\n            &lt;input type=\"text\" name=\"fruit\" id=\"fruit\" value=\"${val.fruit}\"&gt;\n          &lt;/div&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/tbody&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I'm only able to retrieve just one of the values by doing this,</p>\n<pre class=\"lang-java prettyprint-override\"><code>String apple = request.getParameter(&quot;fruit&quot;);\n\nJSONObject newOutput = new JSONObject();\nnewOutput.put(&quot;fruit&quot;, apple);\nJSONArray arr_Output = new JSONArray();\narr_Output.add(newOutput);\n</code></pre>\n<p>I expect to read more than 1 input.</p>\n"},{"tags":["java","spring","design-patterns","architecture","rabbitmq"],"answers":[{"comments":[{"owner":{"account_id":9182254,"reputation":21,"user_id":6825693,"display_name":"Krishna Yadav"},"score":0,"creation_date":1670714118,"post_id":74757105,"comment_id":131938050,"body_markdown":"Thanks Wahid for suggestion. App A has a DB where we are tracking status and updating . Challenge is the Communication between two application is one-way. App B -&gt; App A. As of now App B perform some script for file processing and send details through rest-api. App B doesnt store this info anywhere.  trying to figure out solution available to solve such problem and build system to make it more resilient.","body":"Thanks Wahid for suggestion. App A has a DB where we are tracking status and updating . Challenge is the Communication between two application is one-way. App B -&gt; App A. As of now App B perform some script for file processing and send details through rest-api. App B doesnt store this info anywhere.  trying to figure out solution available to solve such problem and build system to make it more resilient."},{"owner":{"account_id":213898,"reputation":908,"user_id":467545,"display_name":"Wahid Sadik"},"score":0,"creation_date":1670715189,"post_id":74757105,"comment_id":131938191,"body_markdown":"I think I got App A and App B mixed up. Anyway, the solution I outlined would require B to have a DB. I&#39;ll update the post.","body":"I think I got App A and App B mixed up. Anyway, the solution I outlined would require B to have a DB. I&#39;ll update the post."}],"tags":[],"owner":{"account_id":213898,"reputation":908,"user_id":467545,"display_name":"Wahid Sadik"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670715277,"creation_date":1670712680,"answer_id":74757105,"question_id":74756817,"body_markdown":"Assuming a DB exists in `App B`, you can simulate the queuing behavior.\r\n\r\nHere is a naive implementation idea. Let&#39;s say you have a table like the following in `App B` to track all the calls to be made to `App A`.\r\n\r\n|task_id|call_status|last_retry_ts|\r\n|-------|-----------|-------------|\r\n|001|NOT_CALLED|null|\r\n|002|WIP|2022-12-10T10:00:01|\r\n|003|COMPLETE|2022-12-10T10:00:01|\r\n\r\nYou can have a thread that will take all tasks that do not have a `COMPLETE` status and retry. Once a call is successful, the thread marks them in the DB. You may want to introduce some delay in between the delays.\r\n\r\nNote: You may have to build some more bells and whistles to make it robust.\r\n\r\nHope this will give you some inspiration.\r\n","title":"how to handle server downtime for webhook requests in java","body":"<p>Assuming a DB exists in <code>App B</code>, you can simulate the queuing behavior.</p>\n<p>Here is a naive implementation idea. Let's say you have a table like the following in <code>App B</code> to track all the calls to be made to <code>App A</code>.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>task_id</th>\n<th>call_status</th>\n<th>last_retry_ts</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>001</td>\n<td>NOT_CALLED</td>\n<td>null</td>\n</tr>\n<tr>\n<td>002</td>\n<td>WIP</td>\n<td>2022-12-10T10:00:01</td>\n</tr>\n<tr>\n<td>003</td>\n<td>COMPLETE</td>\n<td>2022-12-10T10:00:01</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>You can have a thread that will take all tasks that do not have a <code>COMPLETE</code> status and retry. Once a call is successful, the thread marks them in the DB. You may want to introduce some delay in between the delays.</p>\n<p>Note: You may have to build some more bells and whistles to make it robust.</p>\n<p>Hope this will give you some inspiration.</p>\n"}],"owner":{"account_id":9182254,"reputation":21,"user_id":6825693,"display_name":"Krishna Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1670715277,"creation_date":1670709464,"question_id":74756817,"body_markdown":"My application(A) gets file processing details from another java application(B) through rest api.\r\nApp B  sends the status with real-time processing details (Inprogess, Generated, Transfered).\r\nApplication reads this info and displays it to the user. when the status is Transfered.. App A performs some task.\r\n\r\nApp A is completely dependent on App B for performing future task.\r\n\r\nThe Communication between two application is one-way. App B -&gt; App A.\r\nAs of now App B perform some script for file processing and send details through rest-api. App B doesnt store this info anywhere.  \r\n\r\nLooking for best practise to handle the request from App B during my app A downtime. \r\n\r\nI found that message queue is best solution for this usecase. Unfortunately we cant have any new infrastructure for message queue. \r\n\r\nIs there any other solution that we can implement in java without having any infra level changes. I appreciate your time for going through this query. Thankyou","title":"how to handle server downtime for webhook requests in java","body":"<p>My application(A) gets file processing details from another java application(B) through rest api.\nApp B  sends the status with real-time processing details (Inprogess, Generated, Transfered).\nApplication reads this info and displays it to the user. when the status is Transfered.. App A performs some task.</p>\n<p>App A is completely dependent on App B for performing future task.</p>\n<p>The Communication between two application is one-way. App B -&gt; App A.\nAs of now App B perform some script for file processing and send details through rest-api. App B doesnt store this info anywhere.</p>\n<p>Looking for best practise to handle the request from App B during my app A downtime.</p>\n<p>I found that message queue is best solution for this usecase. Unfortunately we cant have any new infrastructure for message queue.</p>\n<p>Is there any other solution that we can implement in java without having any infra level changes. I appreciate your time for going through this query. Thankyou</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1670714073,"post_id":74755960,"comment_id":131938045,"body_markdown":"For [example](https://stackoverflow.com/questions/14225518/tinting-image-in-java-improvement/14225857#14225857); [a bit more brute force](https://stackoverflow.com/questions/71304272/changing-icon-color-in-java/71305300#71305300)","body":"For <a href=\"https://stackoverflow.com/questions/14225518/tinting-image-in-java-improvement/14225857#14225857\">example</a>; <a href=\"https://stackoverflow.com/questions/71304272/changing-icon-color-in-java/71305300#71305300\">a bit more brute force</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670714876,"creation_date":1670714876,"answer_id":74757293,"question_id":74755960,"body_markdown":"No, Swing does not contain a native &quot;tint&quot; feature, but you can create one (with a bit of effort).\r\n\r\nSo, based on https://stackoverflow.com/questions/14225518/tinting-image-in-java-improvement/14225857#14225857, you can do something like this...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis example makes use of a `MouseListener` and will display the tinted image for 1 second, but you get the idea\r\n\r\n\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GraphicsConfiguration;\r\n    import java.awt.GraphicsEnvironment;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.Transparency;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private BufferedImage masterImage;\r\n            private BufferedImage paintImage;\r\n            private BufferedImage tintedImage;\r\n\r\n            public TestPane() throws IOException {\r\n                masterImage = ImageIO.read(getClass().getResource(&quot;/images/DVDLogo.png&quot;));\r\n                paintImage = masterImage;\r\n                tintedImage = ImageUtils.generateMask(masterImage, Color.YELLOW, 1f);\r\n\r\n                addMouseListener(new MouseAdapter() {\r\n                    private Timer timer = new Timer(1000, new ActionListener() {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) {\r\n                            paintImage = masterImage;\r\n                            repaint();\r\n                        }\r\n                    });\r\n\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        if (timer != null) {\r\n                            timer.stop();\r\n                        }\r\n                        paintImage = tintedImage;\r\n                        repaint();\r\n                        timer.start();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(paintImage.getWidth() + 100, paintImage.getHeight() + 100);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                int x = (getWidth() - paintImage.getWidth()) / 2;\r\n                int y = (getHeight() - paintImage.getHeight()) / 2;\r\n                g2d.drawImage(paintImage, x, y, this);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n\r\n        public class ImageUtils {\r\n            public static BufferedImage generateMask(BufferedImage imgSource, Color color, float alpha) {\r\n                int imgWidth = imgSource.getWidth();\r\n                int imgHeight = imgSource.getHeight();\r\n\r\n                BufferedImage imgMask = createCompatibleImage(imgWidth, imgHeight, Transparency.TRANSLUCENT);\r\n                Graphics2D g2 = imgMask.createGraphics();\r\n                applyQualityRenderingHints(g2);\r\n\r\n                g2.drawImage(imgSource, 0, 0, null);\r\n                g2.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_IN, alpha));\r\n                g2.setColor(color);\r\n\r\n                g2.fillRect(0, 0, imgSource.getWidth(), imgSource.getHeight());\r\n                g2.dispose();\r\n\r\n                return imgMask;\r\n            }\r\n\r\n            public static GraphicsConfiguration getGraphicsConfiguration() {\r\n                return GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDefaultConfiguration();\r\n            }\r\n\r\n            public static BufferedImage createCompatibleImage(int width, int height, int transparency) {\r\n                BufferedImage image = getGraphicsConfiguration().createCompatibleImage(width, height, transparency);\r\n                image.coerceData(true);\r\n                return image;\r\n            }\r\n\r\n            public static void applyQualityRenderingHints(Graphics2D g2d) {\r\n                g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\r\n                g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n                g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\r\n            }\r\n\r\n            public BufferedImage tint(BufferedImage master, BufferedImage tint) {\r\n                int imgWidth = master.getWidth();\r\n                int imgHeight = master.getHeight();\r\n\r\n                BufferedImage tinted = createCompatibleImage(imgWidth, imgHeight, Transparency.TRANSLUCENT);\r\n                Graphics2D g2 = tinted.createGraphics();\r\n                applyQualityRenderingHints(g2);\r\n                g2.drawImage(master, 0, 0, null);\r\n                g2.drawImage(tint, 0, 0, null);\r\n                g2.dispose();\r\n\r\n                return tinted;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qP20X.gif","title":"Bouncing DVD logo","body":"<p>No, Swing does not contain a native &quot;tint&quot; feature, but you can create one (with a bit of effort).</p>\n<p>So, based on <a href=\"https://stackoverflow.com/questions/14225518/tinting-image-in-java-improvement/14225857#14225857\">Tinting Image in Java improvement</a>, you can do something like this...</p>\n<p><a href=\"https://i.stack.imgur.com/qP20X.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qP20X.gif\" alt=\"enter image description here\" /></a></p>\n<p>This example makes use of a <code>MouseListener</code> and will display the tinted image for 1 second, but you get the idea</p>\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GraphicsConfiguration;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.RenderingHints;\nimport java.awt.Transparency;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private BufferedImage masterImage;\n        private BufferedImage paintImage;\n        private BufferedImage tintedImage;\n\n        public TestPane() throws IOException {\n            masterImage = ImageIO.read(getClass().getResource(&quot;/images/DVDLogo.png&quot;));\n            paintImage = masterImage;\n            tintedImage = ImageUtils.generateMask(masterImage, Color.YELLOW, 1f);\n\n            addMouseListener(new MouseAdapter() {\n                private Timer timer = new Timer(1000, new ActionListener() {\n                    @Override\n                    public void actionPerformed(ActionEvent e) {\n                        paintImage = masterImage;\n                        repaint();\n                    }\n                });\n\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    if (timer != null) {\n                        timer.stop();\n                    }\n                    paintImage = tintedImage;\n                    repaint();\n                    timer.start();\n                }\n            });\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(paintImage.getWidth() + 100, paintImage.getHeight() + 100);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            int x = (getWidth() - paintImage.getWidth()) / 2;\n            int y = (getHeight() - paintImage.getHeight()) / 2;\n            g2d.drawImage(paintImage, x, y, this);\n            g2d.dispose();\n        }\n\n    }\n\n    public class ImageUtils {\n        public static BufferedImage generateMask(BufferedImage imgSource, Color color, float alpha) {\n            int imgWidth = imgSource.getWidth();\n            int imgHeight = imgSource.getHeight();\n\n            BufferedImage imgMask = createCompatibleImage(imgWidth, imgHeight, Transparency.TRANSLUCENT);\n            Graphics2D g2 = imgMask.createGraphics();\n            applyQualityRenderingHints(g2);\n\n            g2.drawImage(imgSource, 0, 0, null);\n            g2.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_IN, alpha));\n            g2.setColor(color);\n\n            g2.fillRect(0, 0, imgSource.getWidth(), imgSource.getHeight());\n            g2.dispose();\n\n            return imgMask;\n        }\n\n        public static GraphicsConfiguration getGraphicsConfiguration() {\n            return GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDefaultConfiguration();\n        }\n\n        public static BufferedImage createCompatibleImage(int width, int height, int transparency) {\n            BufferedImage image = getGraphicsConfiguration().createCompatibleImage(width, height, transparency);\n            image.coerceData(true);\n            return image;\n        }\n\n        public static void applyQualityRenderingHints(Graphics2D g2d) {\n            g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\n            g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\n        }\n\n        public BufferedImage tint(BufferedImage master, BufferedImage tint) {\n            int imgWidth = master.getWidth();\n            int imgHeight = master.getHeight();\n\n            BufferedImage tinted = createCompatibleImage(imgWidth, imgHeight, Transparency.TRANSLUCENT);\n            Graphics2D g2 = tinted.createGraphics();\n            applyQualityRenderingHints(g2);\n            g2.drawImage(master, 0, 0, null);\n            g2.drawImage(tint, 0, 0, null);\n            g2.dispose();\n\n            return tinted;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27213331,"reputation":11,"user_id":20743779,"display_name":"gloomyside3"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1670758232,"answer_count":1,"score":1,"last_activity_date":1670714876,"creation_date":1670700674,"question_id":74755960,"body_markdown":"I am writing a program with a bouncing DVD logo but I have one issue: I want this logo to change color but it is not working. The logo is supposed to change color when it hits an edge. I know that `tint()` exists for JavaScript. \r\n\r\nIs there something similar for Java? \r\n\r\n\r\n    import javax.swing.*;\r\n    import java.awt.event.*;\r\n    import java.awt.*;\r\n    \r\n    public class MyPanel extends JPanel implements ActionListener{\r\n    \r\n        final int PANEL_WIDTH = 500;\r\n        final int PANEL_HEIGHT = 500;\r\n        Image dvd;\r\n        Timer timer;\r\n        int xVelocity = 1;\r\n        int yVelocity = 1;\r\n        int x = 0;\r\n        int y = 0;\r\n    \r\n        int r = (int)(Math.random() * 255);\r\n        int g = (int)(Math.random() * 255);\r\n        int b = (int)(Math.random() * 255);\r\n    \r\n        MyPanel(){\r\n            this.setPreferredSize(new Dimension(PANEL_WIDTH, PANEL_HEIGHT));\r\n            this.setBackground(Color.BLACK);\r\n            dvd = new ImageIcon(&quot;dvdlogo-01.png&quot;).getImage();\r\n            timer = new Timer(10, this);\r\n            timer.start();\r\n    \r\n        }\r\n    \r\n        public void paint(Graphics g){\r\n            super.paint(g); // paint background\r\n            Graphics2D gr = (Graphics2D) g;\r\n            gr.drawImage(dvd, x, y,null );\r\n    \r\n            \r\n        }\r\n    \r\n    \r\n        public void actionPerformed(ActionEvent e){\r\n    \r\n            if(x &gt;= PANEL_WIDTH - dvd.getWidth(null) || x &lt; 0){\r\n                xVelocity = xVelocity * -1;\r\n            }\r\n            x = x + xVelocity;\r\n    \r\n            if(y &gt;= PANEL_HEIGHT - dvd.getHeight(null) || y &lt; 0){\r\n                yVelocity = yVelocity * -1;\r\n            }\r\n            y = y + yVelocity;\r\n            repaint();\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n![enter image description here](https://i.stack.imgur.com/HSJ4I.png)\r\n\r\n\r\n\r\n\r\n","title":"Bouncing DVD logo","body":"<p>I am writing a program with a bouncing DVD logo but I have one issue: I want this logo to change color but it is not working. The logo is supposed to change color when it hits an edge. I know that <code>tint()</code> exists for JavaScript.</p>\n<p>Is there something similar for Java?</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.*;\nimport java.awt.*;\n\npublic class MyPanel extends JPanel implements ActionListener{\n\n    final int PANEL_WIDTH = 500;\n    final int PANEL_HEIGHT = 500;\n    Image dvd;\n    Timer timer;\n    int xVelocity = 1;\n    int yVelocity = 1;\n    int x = 0;\n    int y = 0;\n\n    int r = (int)(Math.random() * 255);\n    int g = (int)(Math.random() * 255);\n    int b = (int)(Math.random() * 255);\n\n    MyPanel(){\n        this.setPreferredSize(new Dimension(PANEL_WIDTH, PANEL_HEIGHT));\n        this.setBackground(Color.BLACK);\n        dvd = new ImageIcon(&quot;dvdlogo-01.png&quot;).getImage();\n        timer = new Timer(10, this);\n        timer.start();\n\n    }\n\n    public void paint(Graphics g){\n        super.paint(g); // paint background\n        Graphics2D gr = (Graphics2D) g;\n        gr.drawImage(dvd, x, y,null );\n\n        \n    }\n\n\n    public void actionPerformed(ActionEvent e){\n\n        if(x &gt;= PANEL_WIDTH - dvd.getWidth(null) || x &lt; 0){\n            xVelocity = xVelocity * -1;\n        }\n        x = x + xVelocity;\n\n        if(y &gt;= PANEL_HEIGHT - dvd.getHeight(null) || y &lt; 0){\n            yVelocity = yVelocity * -1;\n        }\n        y = y + yVelocity;\n        repaint();\n\n    }\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/HSJ4I.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","spring-boot","http-status-code-403","spring-cloud-gateway"],"comments":[{"owner":{"account_id":22226004,"reputation":13342,"user_id":16462950,"display_name":"Heiko Thei&#223;en"},"score":0,"creation_date":1670595110,"post_id":74743749,"comment_id":131916387,"body_markdown":"The CORS error is probably only a consequence of the 403 error. If the POST request is authenticated with a session cookie, this might be blocked as a third-party cookie if your frontend and backend have different top-level domains (`myfrontendsite.com` vs. `mybackendsite.com`). This would explain the behavior.","body":"The CORS error is probably only a consequence of the 403 error. If the POST request is authenticated with a session cookie, this might be blocked as a third-party cookie if your frontend and backend have different top-level domains (<code>myfrontendsite.com</code> vs. <code>mybackendsite.com</code>). This would explain the behavior."},{"owner":{"account_id":22031446,"reputation":1,"user_id":16298639,"display_name":"Noor Ahmad"},"score":0,"creation_date":1670742596,"post_id":74743749,"comment_id":131940839,"body_markdown":"Yes the POST request is authenticated via a session cookie but I don’t think that cookie is being blocked because the same endpoint works when sending a different xml file","body":"Yes the POST request is authenticated via a session cookie but I don’t think that cookie is being blocked because the same endpoint works when sending a different xml file"}],"owner":{"account_id":22031446,"reputation":1,"user_id":16298639,"display_name":"Noor Ahmad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670713936,"creation_date":1670592216,"question_id":74743749,"body_markdown":"I have a frontend which is sending a POST request to an endpoint using XMLHttpRequest. It has some data and xml file sent in form data. My backend has a spring cloud gateway which has CORS enabled.\r\n\r\n```\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      globalcors:\r\n        corsConfigurations:\r\n          &#39;[/**]&#39;:\r\n            allowedOrigins: &quot;https://myFrontEndSite.com&quot;\r\n            allowedMethods: &quot;*&quot;\r\n            allowedHeaders: &quot;*&quot;\r\n            allowCredentials: true\r\n```\r\n\r\nthe weird problem one of my user is facing is that when sending a specific file in the post request, they get a CORS error in console and 403 error when checking the call in the network tab of inspector. i can&#39;t seem to see if it is a red herring. I am able to import the file which the user cannot to that endpoint. the user is able to import other files to that endpoint.\r\n\r\nI have checked the network tab in the inspector. the preflight succeeds but the actual request fails with 403 error. i opened the request but it&#39;s response says nothing to preview","title":"CORS Preflight Request succeeded but the request fails","body":"<p>I have a frontend which is sending a POST request to an endpoint using XMLHttpRequest. It has some data and xml file sent in form data. My backend has a spring cloud gateway which has CORS enabled.</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      globalcors:\n        corsConfigurations:\n          '[/**]':\n            allowedOrigins: &quot;https://myFrontEndSite.com&quot;\n            allowedMethods: &quot;*&quot;\n            allowedHeaders: &quot;*&quot;\n            allowCredentials: true\n</code></pre>\n<p>the weird problem one of my user is facing is that when sending a specific file in the post request, they get a CORS error in console and 403 error when checking the call in the network tab of inspector. i can't seem to see if it is a red herring. I am able to import the file which the user cannot to that endpoint. the user is able to import other files to that endpoint.</p>\n<p>I have checked the network tab in the inspector. the preflight succeeds but the actual request fails with 403 error. i opened the request but it's response says nothing to preview</p>\n"},{"tags":["java","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1670755536,"post_id":74748760,"comment_id":131942519,"body_markdown":"why dont you just flatMap after the switchIfEmpty and do your database insert then?","body":"why dont you just flatMap after the switchIfEmpty and do your database insert then?"}],"owner":{"account_id":3624367,"reputation":376,"user_id":3022395,"display_name":"md_rasler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670713743,"creation_date":1670624041,"question_id":74748760,"body_markdown":"I have a spring r2dbc repository like:\r\n\r\n    Mono&lt;Foo&gt; findFooByString(String string);\r\n    Mono&lt;Foo&gt; save(Foo foo);\r\n\r\n\r\nI have a service class that currently does:\r\n\r\n    public Mono&lt;Foo&gt; createFoo(Foo foo) {\r\n      repository.save(foo);\r\n    }\r\n\r\nThis works fine, though I have a unique constraint on the foo table string column, such that I would like to proactively check that the string column uniqueness is not violated before calling save.  I have an exception: DataIntegrityViolationException that I would like to return in this case.  Currently, the db layer returns more information that I would like to return to the user in the exception (sql that violates the integrity constraint).  This is trivial in tradition java + jpa:\r\n\r\n    Optional&lt;Foo&gt; fooOpt = repository.findFooByString(foo.getString());\r\n    if (fooOpt.isPresent()) {\r\n      //do not add another with string otherwise db exception will occur\r\n      throw new DataIntegrityViolationException(&quot;Don&#39;t do this!&quot;);\r\n    }\r\n\r\nBut given my lack of experience in webflux/reactive/non-blocking programming, I don&#39;t understand how to &quot;chain&quot; these two actions together appropriately.  \r\n\r\nThis makes sense to me for the first part:\r\n\r\n    repository.findFooByString(foo.getString())\r\n                    .switchIfEmpty(Mono.error(new DataIntegrityViolationException(&quot;Don&#39;t do this!&quot;)))\r\n\r\nBut not sure how to then do the &quot;else&quot; condition for normal cases and return the repository.save(foo);\r\n\r\nAny help would be appreciated.\r\n\r\nEdit 1:\r\nSo this seems to get me closer, though the return of Mono&lt;Foo&gt; to the caller isn&#39;t the same (no data on response through controller, but http status code correct), previously with just repository.save(foo) the Foo was returned to the caller correctly:\r\n\r\n    return repository.findFooByString(foo.getString())\r\n            .flatMap(foo1 -&gt; repository.save(foo))\r\n            .onErrorResume(e -&gt; Mono.error(new DataIntegrityViolationException(&quot;Don&#39;t Do this!&quot;)));\r\n\r\n","title":"Webflux + R2DBC return exception if element exists/breaks integrity constraint and return element otherwise","body":"<p>I have a spring r2dbc repository like:</p>\n<pre><code>Mono&lt;Foo&gt; findFooByString(String string);\nMono&lt;Foo&gt; save(Foo foo);\n</code></pre>\n<p>I have a service class that currently does:</p>\n<pre><code>public Mono&lt;Foo&gt; createFoo(Foo foo) {\n  repository.save(foo);\n}\n</code></pre>\n<p>This works fine, though I have a unique constraint on the foo table string column, such that I would like to proactively check that the string column uniqueness is not violated before calling save.  I have an exception: DataIntegrityViolationException that I would like to return in this case.  Currently, the db layer returns more information that I would like to return to the user in the exception (sql that violates the integrity constraint).  This is trivial in tradition java + jpa:</p>\n<pre><code>Optional&lt;Foo&gt; fooOpt = repository.findFooByString(foo.getString());\nif (fooOpt.isPresent()) {\n  //do not add another with string otherwise db exception will occur\n  throw new DataIntegrityViolationException(&quot;Don't do this!&quot;);\n}\n</code></pre>\n<p>But given my lack of experience in webflux/reactive/non-blocking programming, I don't understand how to &quot;chain&quot; these two actions together appropriately.</p>\n<p>This makes sense to me for the first part:</p>\n<pre><code>repository.findFooByString(foo.getString())\n                .switchIfEmpty(Mono.error(new DataIntegrityViolationException(&quot;Don't do this!&quot;)))\n</code></pre>\n<p>But not sure how to then do the &quot;else&quot; condition for normal cases and return the repository.save(foo);</p>\n<p>Any help would be appreciated.</p>\n<p>Edit 1:\nSo this seems to get me closer, though the return of Mono to the caller isn't the same (no data on response through controller, but http status code correct), previously with just repository.save(foo) the Foo was returned to the caller correctly:</p>\n<pre><code>return repository.findFooByString(foo.getString())\n        .flatMap(foo1 -&gt; repository.save(foo))\n        .onErrorResume(e -&gt; Mono.error(new DataIntegrityViolationException(&quot;Don't Do this!&quot;)));\n</code></pre>\n"},{"tags":["java","bitwise-operators"],"answers":[{"comments":[{"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":0,"creation_date":1483917364,"post_id":41538917,"comment_id":70283160,"body_markdown":"Isn&#39;t there a precedence problem with your example?","body":"Isn&#39;t there a precedence problem with your example?"},{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1483917382,"post_id":41538917,"comment_id":70283162,"body_markdown":"Thank you!  I almost understand I think.  The `FLAG_1 == FLAG_1` thing is still confusing.  Thinking about it...     Maybe ill try to write some code with your sample.","body":"Thank you!  I almost understand I think.  The <code>FLAG_1 == FLAG_1</code> thing is still confusing.  Thinking about it...     Maybe ill try to write some code with your sample."},{"owner":{"account_id":457475,"reputation":1759,"user_id":856823,"display_name":"Johnny C"},"score":1,"creation_date":1483917613,"post_id":41538917,"comment_id":70283230,"body_markdown":"@djangofan I updated it, thanks to Eric&#39;s suggestion, I think you&#39;ll find it much more clear now.","body":"@djangofan I updated it, thanks to Eric&#39;s suggestion, I think you&#39;ll find it much more clear now."},{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1483917641,"post_id":41538917,"comment_id":70283236,"body_markdown":"Ahh,  now I understand.  Thank you sooooo much!","body":"Ahh,  now I understand.  Thank you sooooo much!"},{"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":0,"creation_date":1483917686,"post_id":41538917,"comment_id":70283250,"body_markdown":"Also `1 &lt;&lt; 2` should be `00000100`. ;)","body":"Also <code>1 &lt;&lt; 2</code> should be <code>00000100</code>. ;)"},{"owner":{"account_id":457475,"reputation":1759,"user_id":856823,"display_name":"Johnny C"},"score":2,"creation_date":1483917826,"post_id":41538917,"comment_id":70283302,"body_markdown":"When I was typing that out I knew there was no way I&#39;d get it right the first time.","body":"When I was typing that out I knew there was no way I&#39;d get it right the first time."},{"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":0,"creation_date":1483917861,"post_id":41538917,"comment_id":70283310,"body_markdown":"Still, it&#39;s a very nice example. Thanks.","body":"Still, it&#39;s a very nice example. Thanks."}],"tags":[],"owner":{"account_id":457475,"reputation":1759,"user_id":856823,"display_name":"Johnny C"},"comment_count":7,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1483979493,"creation_date":1483917108,"answer_id":41538917,"question_id":41538838,"body_markdown":"These kinds of operators are used for lots of things, but these days in higher level languages they are most commonly used with flags. It&#39;s a holdover from lower level languages like C, in which memory allocation and deallocation is not always trivial, and which was developed at a time where hardware resources were scarce.\r\n\r\nLet&#39;s say there are 3 possible flags for some operation, and they can be provided in any given combination.  A quick, easy, and efficient way to supply a flag is to assign each flag to a bit in an integer. \r\n\r\n    public static final int FLAG_1 = 1;       // 00000001\r\n    public static final int FLAG_2 = 1 &lt;&lt; 1;  // 00000010\r\n    public static final int FLAG_3 = 1 &lt;&lt; 2;  // 00000100\r\n\r\nThen to send multiple flags, I can use the bitwise or &quot;|&quot; operator.  \r\n\r\n    someFunc(FLAG_1 | FLAG_3).\r\n\r\nTo read the flags that are passed, I can use the bitwise &amp; operator.\r\n\r\n    public void someFunc(int flags) {\r\n        if ((flags &amp; FLAG_1) == FLAG_1 /*Or (flags &amp; FLAG_1) != 0 */) { \r\n          // Passed in flag 1.\r\n        }\r\n    }\r\n\r\nThere are other ways that this can be done, but this is very efficient, easy to read, and results in zero object allocations on the heap. If you think of other ways you&#39;d accomplish this in Java, let&#39;s say with an array or collection of enums/ints, or with each flag being a separate method parameter, it&#39;s clear why this pattern is used instead.","title":"Why would we use bitwise operators between 2 numbers?","body":"<p>These kinds of operators are used for lots of things, but these days in higher level languages they are most commonly used with flags. It's a holdover from lower level languages like C, in which memory allocation and deallocation is not always trivial, and which was developed at a time where hardware resources were scarce.</p>\n\n<p>Let's say there are 3 possible flags for some operation, and they can be provided in any given combination.  A quick, easy, and efficient way to supply a flag is to assign each flag to a bit in an integer. </p>\n\n<pre><code>public static final int FLAG_1 = 1;       // 00000001\npublic static final int FLAG_2 = 1 &lt;&lt; 1;  // 00000010\npublic static final int FLAG_3 = 1 &lt;&lt; 2;  // 00000100\n</code></pre>\n\n<p>Then to send multiple flags, I can use the bitwise or \"|\" operator.  </p>\n\n<pre><code>someFunc(FLAG_1 | FLAG_3).\n</code></pre>\n\n<p>To read the flags that are passed, I can use the bitwise &amp; operator.</p>\n\n<pre><code>public void someFunc(int flags) {\n    if ((flags &amp; FLAG_1) == FLAG_1 /*Or (flags &amp; FLAG_1) != 0 */) { \n      // Passed in flag 1.\n    }\n}\n</code></pre>\n\n<p>There are other ways that this can be done, but this is very efficient, easy to read, and results in zero object allocations on the heap. If you think of other ways you'd accomplish this in Java, let's say with an array or collection of enums/ints, or with each flag being a separate method parameter, it's clear why this pattern is used instead.</p>\n"},{"tags":[],"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483918290,"creation_date":1483918290,"answer_id":41539081,"question_id":41538838,"body_markdown":"For a very basic example in an if-statement :\r\n\r\n    if ( (65280 &amp; 1) == 0 ){\r\n      // 65280 is even!\r\n    }\r\n\r\n  - `x &amp; 1` is `0` if `x` is even\r\n  - `x &amp; 1` is `1` if `x` is odd","title":"Why would we use bitwise operators between 2 numbers?","body":"<p>For a very basic example in an if-statement :</p>\n\n<pre><code>if ( (65280 &amp; 1) == 0 ){\n  // 65280 is even!\n}\n</code></pre>\n\n<ul>\n<li><code>x &amp; 1</code> is <code>0</code> if <code>x</code> is even</li>\n<li><code>x &amp; 1</code> is <code>1</code> if <code>x</code> is odd</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483920504,"creation_date":1483920067,"answer_id":41539267,"question_id":41538838,"body_markdown":"I think that if you need to implement a small array of `boolean`, it could be a good idea to represent it as an `int` or `long`, with each bit representing one array element:\r\n\r\n - if there is a huge number of those arrays, so that memory usage is a concern; or\r\n - if you are doing a huge number of calculations.\r\n\r\nIn that case, you&#39;d use the shift operators and `&amp;`, `|`, `&amp;=`, `|=`, or `^=` to test, clear, set, or flip elements of the array.  (Note also that this can be used on multiple elements of array in parallel.)\r\n\r\nIt&#39;s rare that this case comes up.  For readability, it&#39;s much better to use a regular `array` or `ArrayList`.  However, I&#39;ve had both use cases come up at least once.  One was writing a Sudoku solver using a brute-force backtracking algorithm; I don&#39;t remember the details, but I think I used 9 bits of an `int` to represent whether the cells in a row, column, or square were occupied.  If I recall correctly, some of my code tested multiple cells simultaneously, which I could do with one `&amp;` operator.  Since solving by backtracking can involve a huge number of combinations, I believe that using this mechanism made a noticeable difference in the running time.  The other case involved a table of items that kept information on whether items had certain properties.  The number of properties was relatively small (between 10 and 20), but the number of items could run into the tens of millions.  A `Set` would have been the natural choice for representing the set of properties, but with the huge number of `HashSet`s I&#39;d need to keep, memory was a concern.\r\n\r\nI wouldn&#39;t recommend this unless there is a big difference in memory or time.  It smacks of &quot;trickiness&quot;, and I prefer straightforward code that expresses what you&#39;re trying to accomplish. ","title":"Why would we use bitwise operators between 2 numbers?","body":"<p>I think that if you need to implement a small array of <code>boolean</code>, it could be a good idea to represent it as an <code>int</code> or <code>long</code>, with each bit representing one array element:</p>\n\n<ul>\n<li>if there is a huge number of those arrays, so that memory usage is a concern; or</li>\n<li>if you are doing a huge number of calculations.</li>\n</ul>\n\n<p>In that case, you'd use the shift operators and <code>&amp;</code>, <code>|</code>, <code>&amp;=</code>, <code>|=</code>, or <code>^=</code> to test, clear, set, or flip elements of the array.  (Note also that this can be used on multiple elements of array in parallel.)</p>\n\n<p>It's rare that this case comes up.  For readability, it's much better to use a regular <code>array</code> or <code>ArrayList</code>.  However, I've had both use cases come up at least once.  One was writing a Sudoku solver using a brute-force backtracking algorithm; I don't remember the details, but I think I used 9 bits of an <code>int</code> to represent whether the cells in a row, column, or square were occupied.  If I recall correctly, some of my code tested multiple cells simultaneously, which I could do with one <code>&amp;</code> operator.  Since solving by backtracking can involve a huge number of combinations, I believe that using this mechanism made a noticeable difference in the running time.  The other case involved a table of items that kept information on whether items had certain properties.  The number of properties was relatively small (between 10 and 20), but the number of items could run into the tens of millions.  A <code>Set</code> would have been the natural choice for representing the set of properties, but with the huge number of <code>HashSet</code>s I'd need to keep, memory was a concern.</p>\n\n<p>I wouldn't recommend this unless there is a big difference in memory or time.  It smacks of \"trickiness\", and I prefer straightforward code that expresses what you're trying to accomplish. </p>\n"},{"tags":[],"owner":{"account_id":227148,"reputation":625,"user_id":488635,"display_name":"Vitaly Sazanovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670713032,"creation_date":1670713032,"answer_id":74757136,"question_id":41538838,"body_markdown":"I&#39;m looking at some source code written in Java (it was originally ported from C):\r\n\r\n    int dest = y * width + (x &amp; 0xfffc);\r\n\r\nTook me a while to realize what it means:\r\n \r\n0xfffc is 65532 or 1111111111111100\r\n\r\ndest is the offset in an array of size 65536.\r\n\r\nSo what does the expression above actually say?\r\n\r\nI think it says:\r\n\r\n    int dest = y * width + (x&lt;=65532?x:65532);\r\n","title":"Why would we use bitwise operators between 2 numbers?","body":"<p>I'm looking at some source code written in Java (it was originally ported from C):</p>\n<pre><code>int dest = y * width + (x &amp; 0xfffc);\n</code></pre>\n<p>Took me a while to realize what it means:</p>\n<p>0xfffc is 65532 or 1111111111111100</p>\n<p>dest is the offset in an array of size 65536.</p>\n<p>So what does the expression above actually say?</p>\n<p>I think it says:</p>\n<pre><code>int dest = y * width + (x&lt;=65532?x:65532);\n</code></pre>\n"}],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":41538917,"answer_count":4,"score":0,"last_activity_date":1670713032,"creation_date":1483916511,"question_id":41538838,"body_markdown":"I don&#39;t understand, given the information below, why you would ever want to evaluate, for example, 2 hex integers with the `&amp;` operator. I understand the inversion pattern explained below, and I can calculate it myself, but it&#39;s hard to deduce *why* (from posts I see on the internet). What is the real world scenario that might give me insight here?\r\n\r\n      0xff00 &amp; 0xf0f0 is 0xf000\r\n      0xff00 ^ 0xf0f0 is 0x0ff0\r\n      0xff00 | 0xf0f0 is 0xfff0\r\n    For &amp;, the result value is the bitwise AND of the operand values.\r\n    For ^, the result value is the bitwise exclusive OR of the operand values.\r\n    For |, the result value is the bitwise inclusive OR of the operand values.\r\n\r\nIn my own head, I currently think of it like this:\r\n\r\n    if ( 65280 &amp; 61680 )  // evaluates to 61440, not boolean?","title":"Why would we use bitwise operators between 2 numbers?","body":"<p>I don't understand, given the information below, why you would ever want to evaluate, for example, 2 hex integers with the <code>&amp;</code> operator. I understand the inversion pattern explained below, and I can calculate it myself, but it's hard to deduce <em>why</em> (from posts I see on the internet). What is the real world scenario that might give me insight here?</p>\n\n<pre><code>  0xff00 &amp; 0xf0f0 is 0xf000\n  0xff00 ^ 0xf0f0 is 0x0ff0\n  0xff00 | 0xf0f0 is 0xfff0\nFor &amp;, the result value is the bitwise AND of the operand values.\nFor ^, the result value is the bitwise exclusive OR of the operand values.\nFor |, the result value is the bitwise inclusive OR of the operand values.\n</code></pre>\n\n<p>In my own head, I currently think of it like this:</p>\n\n<pre><code>if ( 65280 &amp; 61680 )  // evaluates to 61440, not boolean?\n</code></pre>\n"},{"tags":["java","gradle","groovy","build.gradle","gradle-plugin"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":1,"creation_date":1670761171,"post_id":74757065,"comment_id":131943459,"body_markdown":"`Could not find method implementation() for arguments [project &#39;:common&#39;]` → you need to apply either the [Application](https://docs.gradle.org/current/userguide/application_plugin.html), [Java Library](https://docs.gradle.org/current/userguide/java_library_plugin.html), or [Java](https://docs.gradle.org/current/userguide/java_plugin.html) plugin to the `:common` project. (Probably the Java Library plugin.)","body":"<code>Could not find method implementation() for arguments [project &#39;:common&#39;]</code> → you need to apply either the <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"nofollow noreferrer\">Application</a>, <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html\" rel=\"nofollow noreferrer\">Java Library</a>, or <a href=\"https://docs.gradle.org/current/userguide/java_plugin.html\" rel=\"nofollow noreferrer\">Java</a> plugin to the <code>:common</code> project. (Probably the Java Library plugin.)"}],"owner":{"account_id":17933035,"reputation":255,"user_id":13029949,"display_name":"Saimuga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670712244,"creation_date":1670712244,"question_id":74757065,"body_markdown":"I am working on a multi-module gradle java project where it has three project modules \r\n1.webapp \r\n2.common\r\n3.data-client\r\n\r\nI have four build.gradle files. Three inside these projects and one file in the root folder. \r\n\r\nI am trying to add a dependency between webapp and common project inside the build.gradle of root project. Below is my build.gradle file but when I run gradle build. I am getting an error mentioned below. I know I can add the dependency directly in the sub-project but I want to know why this is not working. **My gradle version is 7.6**\r\n             \r\n    org.gradle.api.GradleScriptException: A problem occurred evaluating root project &#39;web-app-gradle-local&#39;.\r\n    \tat org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method implementation() for arguments [project &#39;:common&#39;] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n    \tat org.gradle.internal.metaobject.AbstractDynamicObject$CustomMissingMethodExecutionFailed.&lt;init&gt;(AbstractDynamicObject.java:190)\r\n    \tat org.gradle.internal.metaobject.AbstractDynamicObject.methodMissingException(AbstractDynamicObject.java:184)\r\n    \tat org.gradle.internal.metaobject.ConfigureDelegate.invokeMethod(ConfigureDelegate.java:93)\r\n\r\n**Build.gradle**\r\n\r\n    plugins {\r\n        id &#39;application&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security:3.0.0&#39;\r\n        implementation &#39;com.google.guava:guava:31.1-jre&#39;\r\n    }\r\n    \r\n    \r\n    project(&#39;:web-app&#39;) {\r\n        dependencies {\r\n            implementation project (&#39;:common&#39;)\r\n        }\r\n    }\r\n\r\n\r\n","title":"Gradle How to add dependencies between subprojects in root project&#39;s build.gradle","body":"<p>I am working on a multi-module gradle java project where it has three project modules\n1.webapp\n2.common\n3.data-client</p>\n<p>I have four build.gradle files. Three inside these projects and one file in the root folder.</p>\n<p>I am trying to add a dependency between webapp and common project inside the build.gradle of root project. Below is my build.gradle file but when I run gradle build. I am getting an error mentioned below. I know I can add the dependency directly in the sub-project but I want to know why this is not working. <strong>My gradle version is 7.6</strong></p>\n<pre><code>org.gradle.api.GradleScriptException: A problem occurred evaluating root project 'web-app-gradle-local'.\n    at org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method implementation() for arguments [project ':common'] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n    at org.gradle.internal.metaobject.AbstractDynamicObject$CustomMissingMethodExecutionFailed.&lt;init&gt;(AbstractDynamicObject.java:190)\n    at org.gradle.internal.metaobject.AbstractDynamicObject.methodMissingException(AbstractDynamicObject.java:184)\n    at org.gradle.internal.metaobject.ConfigureDelegate.invokeMethod(ConfigureDelegate.java:93)\n</code></pre>\n<p><strong>Build.gradle</strong></p>\n<pre><code>plugins {\n    id 'application'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'junit:junit:4.13.2'\n    implementation 'org.springframework.boot:spring-boot-starter-security:3.0.0'\n    implementation 'com.google.guava:guava:31.1-jre'\n}\n\n\nproject(':web-app') {\n    dependencies {\n        implementation project (':common')\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670712244,"creation_date":1670712244,"answer_id":74757067,"question_id":74749740,"body_markdown":"SOLVED\r\n\r\nI solved the error I use in the document an interface follows the updated classes:\r\n\r\nclass AuditMetadata.java:\r\n\r\n    @Setter\r\n    @Getter\r\n    public class AuditMetadata {\r\n    \r\n        @CreatedDate\r\n        private LocalDateTime createdDate;\r\n    \r\n        @LastModifiedDate\r\n        private LocalDateTime lastModifiedDate;\r\n    \r\n        @Version \r\n        private Long version;\r\n    \r\n        protected boolean persisted;\r\n    \r\n        // @CreatedBy\r\n        // private String createdByUser;\r\n    \r\n        // @LastModifiedBy\r\n        // private String modifiedByUser;\r\n      \r\n      //...getters and setters omitted\r\n    }\r\n\r\nclass Document CategoryMongo.java:\r\n\r\n    @Getter \r\n    @Setter \r\n    @NoArgsConstructor\r\n    @Document(collection = &quot;category&quot;)\r\n    public class CategoryMongo extends AuditMetadata implements Persistable&lt;String&gt;{\r\n        @Id\r\n        @JsonProperty(&quot;category_id&quot;)\r\n        private String category_id;\r\n        \r\n        @JsonProperty(&quot;id_colletion&quot;)\r\n        private String emberId;\r\n    \r\n        public String getEmberId() {\r\n            return category_id;\r\n        }\r\n    \r\n        @JsonProperty(&quot;category_name&quot;)\r\n        private String name;\r\n    \r\n     \r\n        @JsonProperty(&quot;category_active&quot;)\r\n        private ProductEnum active = ProductEnum.ativo;\r\n    \r\n        @JsonProperty(&quot;category_slug&quot;)\r\n        private String slug;\r\n    \r\n        @Override\r\n        @Nullable\r\n        public String getId() {\r\n            return category_id;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isNew() {\r\n             return !persisted;\r\n        }\r\n     \r\n        // @JsonProperty(&quot;category_updateAt&quot;)\r\n        // @LastModifiedDate\r\n        // private Date updateAt;\r\n    \r\n        // @JsonProperty(&quot;category_createdAt&quot;)\r\n        // @CreatedDate\r\n        // private Date createdAt;\r\n    \r\n    }\r\n\r\nsave method:\r\n\r\n\r\n        CategoryMongo catm = new CategoryMongo();\r\n        catm.setName(category.getName());\r\n        catm.setSlug(category.getSlug());\r\n        catm.setActive(category.getActive());\r\n        catm.setCategory_id(category.getCategory_id().toString());\r\n        catm.setPersisted(true);\r\n        categoryRepositoryMongo.save(catm);\r\n\r\nBut something happens that I didn&#39;t want to happen: the @CreatedDate field disappears when I update it and only @LastModifiedDate appears in the result. if anyone knows how to solve this post here","title":"spring boot mongodb audit gives duplicate collection error","body":"<p>SOLVED</p>\n<p>I solved the error I use in the document an interface follows the updated classes:</p>\n<p>class AuditMetadata.java:</p>\n<pre><code>@Setter\n@Getter\npublic class AuditMetadata {\n\n    @CreatedDate\n    private LocalDateTime createdDate;\n\n    @LastModifiedDate\n    private LocalDateTime lastModifiedDate;\n\n    @Version \n    private Long version;\n\n    protected boolean persisted;\n\n    // @CreatedBy\n    // private String createdByUser;\n\n    // @LastModifiedBy\n    // private String modifiedByUser;\n  \n  //...getters and setters omitted\n}\n</code></pre>\n<p>class Document CategoryMongo.java:</p>\n<pre><code>@Getter \n@Setter \n@NoArgsConstructor\n@Document(collection = &quot;category&quot;)\npublic class CategoryMongo extends AuditMetadata implements Persistable&lt;String&gt;{\n    @Id\n    @JsonProperty(&quot;category_id&quot;)\n    private String category_id;\n    \n    @JsonProperty(&quot;id_colletion&quot;)\n    private String emberId;\n\n    public String getEmberId() {\n        return category_id;\n    }\n\n    @JsonProperty(&quot;category_name&quot;)\n    private String name;\n\n \n    @JsonProperty(&quot;category_active&quot;)\n    private ProductEnum active = ProductEnum.ativo;\n\n    @JsonProperty(&quot;category_slug&quot;)\n    private String slug;\n\n    @Override\n    @Nullable\n    public String getId() {\n        return category_id;\n    }\n\n    @Override\n    public boolean isNew() {\n         return !persisted;\n    }\n \n    // @JsonProperty(&quot;category_updateAt&quot;)\n    // @LastModifiedDate\n    // private Date updateAt;\n\n    // @JsonProperty(&quot;category_createdAt&quot;)\n    // @CreatedDate\n    // private Date createdAt;\n\n}\n</code></pre>\n<p>save method:</p>\n<pre><code>    CategoryMongo catm = new CategoryMongo();\n    catm.setName(category.getName());\n    catm.setSlug(category.getSlug());\n    catm.setActive(category.getActive());\n    catm.setCategory_id(category.getCategory_id().toString());\n    catm.setPersisted(true);\n    categoryRepositoryMongo.save(catm);\n</code></pre>\n<p>But something happens that I didn't want to happen: the @CreatedDate field disappears when I update it and only @LastModifiedDate appears in the result. if anyone knows how to solve this post here</p>\n"}],"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670712244,"creation_date":1670636157,"question_id":74749740,"body_markdown":"spring boot mongodb audit gives duplicate collection error. I&#39;m trying to create dateCreate and dateUpdate fields when I insert and update a collection but when updated it gives the error:\r\n\r\n&gt; org.springframework.dao.DuplicateKeyException: Write operation error\r\n&gt; on server user.domain.com:27017. Write error: WriteError{code=11000,\r\n&gt; message=&#39;E11000 duplicate key error collection: springboot.category\r\n&gt; index: _id_ dup key: { _id: &quot;21&quot; }&#39;, details={}}.\r\n\r\nthe execution is duplicating the key, below is my structure\r\n\r\nMy class AuditingConfig.java:\r\n\r\n    Configuration\r\n    @EnableMongoAuditing\r\n    public class AuditingConfig {\r\n    \r\n        @Bean\r\n        public AuditorAware&lt;String&gt; myAuditorProvider() {\r\n            return new AuditorAwareImpl();\r\n        }\r\n    }\r\n\r\nMy class AuditMetadata.java:\r\n\r\n    @Setter\r\n    @Getter\r\n    public class AuditMetadata {\r\n    \r\n        @CreatedDate\r\n        private LocalDateTime createdDate;\r\n    \r\n        @LastModifiedDate\r\n        private LocalDateTime lastModifiedDate;\r\n    \r\n        @Version \r\n        private Long version;\r\n    \r\n        // @CreatedBy\r\n        // private String createdByUser;\r\n    \r\n        // @LastModifiedBy\r\n        // private String modifiedByUser;\r\n      \r\n      //...getters and setters omitted\r\n    }\r\n\r\nMy class AuditorAwareImpl.java:\r\n\r\n    public class AuditorAwareImpl implements AuditorAware&lt;String&gt; {\r\n        @Override\r\n        public Optional&lt;String&gt; getCurrentAuditor() {\r\n            return Optional.of(&quot;Admin&quot;);\r\n        }\r\n    }\r\n\r\nMy class entity CategoryMongo.java:\r\n\r\n    Getter \r\n    @Setter \r\n    @NoArgsConstructor\r\n    @Document(collection = &quot;category&quot;)\r\n    public class CategoryMongo extends AuditMetadata{\r\n        @Id\r\n        @JsonProperty(&quot;category_id&quot;)\r\n        private String category_id;\r\n        \r\n        @JsonProperty(&quot;id_colletion&quot;)\r\n        private String emberId;\r\n    \r\n        public String getEmberId() {\r\n            return category_id;\r\n        }\r\n    \r\n        @JsonProperty(&quot;category_name&quot;)\r\n        private String name;\r\n    \r\n     \r\n        @JsonProperty(&quot;category_active&quot;)\r\n        private ProductEnum active = ProductEnum.ativo;\r\n    \r\n        @JsonProperty(&quot;category_slug&quot;)\r\n        private String slug;\r\n     \r\n        // @JsonProperty(&quot;category_updateAt&quot;)\r\n        // @LastModifiedDate\r\n        // private Date updateAt;\r\n    \r\n        // @JsonProperty(&quot;category_createdAt&quot;)\r\n        // @CreatedDate\r\n        // private Date createdAt;\r\n    \r\n    }\r\n\r\n\r\nMy method save:\r\n\r\n       \r\n\r\n         CategoryMongo catm = new CategoryMongo();\r\n                catm.setName(category.getName());\r\n                catm.setSlug(category.getSlug());\r\n                catm.setActive(category.getActive());\r\n                catm.setCategory_id(category.getCategory_id().toString());\r\n                catm.setEmberId(category.getCategory_id().toString());\r\n    categoryRepositoryMongo.save(catm);","title":"spring boot mongodb audit gives duplicate collection error","body":"<p>spring boot mongodb audit gives duplicate collection error. I'm trying to create dateCreate and dateUpdate fields when I insert and update a collection but when updated it gives the error:</p>\n<blockquote>\n<p>org.springframework.dao.DuplicateKeyException: Write operation error\non server user.domain.com:27017. Write error: WriteError{code=11000,\nmessage='E11000 duplicate key error collection: springboot.category\nindex: <em>id</em> dup key: { _id: &quot;21&quot; }', details={}}.</p>\n</blockquote>\n<p>the execution is duplicating the key, below is my structure</p>\n<p>My class AuditingConfig.java:</p>\n<pre><code>Configuration\n@EnableMongoAuditing\npublic class AuditingConfig {\n\n    @Bean\n    public AuditorAware&lt;String&gt; myAuditorProvider() {\n        return new AuditorAwareImpl();\n    }\n}\n</code></pre>\n<p>My class AuditMetadata.java:</p>\n<pre><code>@Setter\n@Getter\npublic class AuditMetadata {\n\n    @CreatedDate\n    private LocalDateTime createdDate;\n\n    @LastModifiedDate\n    private LocalDateTime lastModifiedDate;\n\n    @Version \n    private Long version;\n\n    // @CreatedBy\n    // private String createdByUser;\n\n    // @LastModifiedBy\n    // private String modifiedByUser;\n  \n  //...getters and setters omitted\n}\n</code></pre>\n<p>My class AuditorAwareImpl.java:</p>\n<pre><code>public class AuditorAwareImpl implements AuditorAware&lt;String&gt; {\n    @Override\n    public Optional&lt;String&gt; getCurrentAuditor() {\n        return Optional.of(&quot;Admin&quot;);\n    }\n}\n</code></pre>\n<p>My class entity CategoryMongo.java:</p>\n<pre><code>Getter \n@Setter \n@NoArgsConstructor\n@Document(collection = &quot;category&quot;)\npublic class CategoryMongo extends AuditMetadata{\n    @Id\n    @JsonProperty(&quot;category_id&quot;)\n    private String category_id;\n    \n    @JsonProperty(&quot;id_colletion&quot;)\n    private String emberId;\n\n    public String getEmberId() {\n        return category_id;\n    }\n\n    @JsonProperty(&quot;category_name&quot;)\n    private String name;\n\n \n    @JsonProperty(&quot;category_active&quot;)\n    private ProductEnum active = ProductEnum.ativo;\n\n    @JsonProperty(&quot;category_slug&quot;)\n    private String slug;\n \n    // @JsonProperty(&quot;category_updateAt&quot;)\n    // @LastModifiedDate\n    // private Date updateAt;\n\n    // @JsonProperty(&quot;category_createdAt&quot;)\n    // @CreatedDate\n    // private Date createdAt;\n\n}\n</code></pre>\n<p>My method save:</p>\n<pre><code>     CategoryMongo catm = new CategoryMongo();\n            catm.setName(category.getName());\n            catm.setSlug(category.getSlug());\n            catm.setActive(category.getActive());\n            catm.setCategory_id(category.getCategory_id().toString());\n            catm.setEmberId(category.getCategory_id().toString());\ncategoryRepositoryMongo.save(catm);\n</code></pre>\n"},{"tags":["java","parameterized"],"comments":[{"owner":{"account_id":999849,"reputation":40077,"user_id":1014979,"accept_rate":78,"display_name":"dnc253"},"score":0,"creation_date":1334680439,"post_id":10194855,"comment_id":13088894,"body_markdown":"With what I&#39;m doing, it isn&#39;t critical that I ensure this. I was just wanting to know if it was possible. It&#39;s good to know all this for future reference though.","body":"With what I&#39;m doing, it isn&#39;t critical that I ensure this. I was just wanting to know if it was possible. It&#39;s good to know all this for future reference though."}],"answers":[{"comments":[{"owner":{"account_id":2686,"reputation":13566,"user_id":3767,"accept_rate":93,"display_name":"Eric Levine"},"score":0,"creation_date":1334679200,"post_id":10194891,"comment_id":13088369,"body_markdown":"Given this, maybe a simplistic solution is to extend HashMap and override the put method to enforce that the value is from the same class as the key.","body":"Given this, maybe a simplistic solution is to extend HashMap and override the put method to enforce that the value is from the same class as the key."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1334679333,"post_id":10194891,"comment_id":13088416,"body_markdown":"I have to admit I mostly don&#39;t like that solution because you&#39;ll still have to do casts and everything, and you don&#39;t get the benefits of type safety at compile time.","body":"I have to admit I mostly don&#39;t like that solution because you&#39;ll still have to do casts and everything, and you don&#39;t get the benefits of type safety at compile time."},{"owner":{"account_id":390363,"reputation":7217,"user_id":750378,"accept_rate":69,"display_name":"DaveFar"},"score":0,"creation_date":1334680383,"post_id":10194891,"comment_id":13088868,"body_markdown":"+1 for &quot;or wrap the Map in some other API that enforces the type safety&quot; (and for contributing to Guava :) But can&#39;t you do this with a simple Class.cast() (see my answer below)?","body":"+1 for &quot;or wrap the Map in some other API that enforces the type safety&quot; (and for contributing to Guava :) But can&#39;t you do this with a simple Class.cast() (see my answer below)?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1334680610,"post_id":10194891,"comment_id":13088967,"body_markdown":"That&#39;s essentially what you&#39;d be doing, yes, and that&#39;s basically what `ClassToInstanceMap` does internally.","body":"That&#39;s essentially what you&#39;d be doing, yes, and that&#39;s basically what <code>ClassToInstanceMap</code> does internally."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":4,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1467929051,"creation_date":1334678852,"answer_id":10194891,"question_id":10194855,"body_markdown":"Java&#39;s type system is simply not strong enough to enforce the type constraint you&#39;re describing directly, and you&#39;ll need to do some unsafe casts to make this work -- or wrap the `Map` in some other API that enforces the type safety.  [Guava&#39;s][1] [`ClassToInstanceMap`][2] does just that for exactly this use case, providing an externally safe API that imposes additional restrictions on the `Map` interface to make it work.  (Disclosure: I contribute to Guava.)\r\n\r\nThe only time this can cause a memory leak is if there&#39;s some classes you&#39;re using here that would not be retained for the life of the application.  This isn&#39;t a concern for many users, especially if you&#39;re writing a &quot;server side&quot; application that isn&#39;t as concerned about unloading unused classes.\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com\r\n  [2]: https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ClassToInstanceMap.java","title":"Java map, key = class, value = instance of that class","body":"<p>Java's type system is simply not strong enough to enforce the type constraint you're describing directly, and you'll need to do some unsafe casts to make this work -- or wrap the <code>Map</code> in some other API that enforces the type safety.  <a href=\"http://guava-libraries.googlecode.com\" rel=\"noreferrer\">Guava's</a> <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ClassToInstanceMap.java\" rel=\"noreferrer\"><code>ClassToInstanceMap</code></a> does just that for exactly this use case, providing an externally safe API that imposes additional restrictions on the <code>Map</code> interface to make it work.  (Disclosure: I contribute to Guava.)</p>\n\n<p>The only time this can cause a memory leak is if there's some classes you're using here that would not be retained for the life of the application.  This isn't a concern for many users, especially if you're writing a \"server side\" application that isn't as concerned about unloading unused classes.</p>\n"},{"tags":[],"owner":{"display_name":"user130076"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334678965,"creation_date":1334678965,"answer_id":10194917,"question_id":10194855,"body_markdown":"This isn&#39;t possible due to type erasure. \r\n\r\nHowever, you could subclass `HashMap` and write some logic into the `put` method which will do this for you:\r\n\r\n    public void put(K key, V value) {\r\n\r\n        if  ( // value is an instance of key using .getClass()) { \r\n            super.put(key, value)\r\n        }\r\n        throw new Exception();\r\n    }\r\n\r\n(Code for illustrative purposes only)","title":"Java map, key = class, value = instance of that class","body":"<p>This isn't possible due to type erasure. </p>\n\n<p>However, you could subclass <code>HashMap</code> and write some logic into the <code>put</code> method which will do this for you:</p>\n\n<pre><code>public void put(K key, V value) {\n\n    if  ( // value is an instance of key using .getClass()) { \n        super.put(key, value)\n    }\n    throw new Exception();\n}\n</code></pre>\n\n<p>(Code for illustrative purposes only)</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1334679200,"creation_date":1334679200,"answer_id":10194981,"question_id":10194855,"body_markdown":"You can hide the collection and only allow it to be accessed via accessor methods.\r\n\r\n    private final Map&lt;Class, Object&gt; myMap = new HashMap&lt;Class, Object&gt;();\r\n\r\n    public &lt;T&gt; void putMap(Class&lt;T&gt; tClass, T t) {\r\n         myMap.put(tClass, t);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public &lt;T&gt; T getMap(Class&lt;T&gt; tClass) {\r\n        return (T) myMap.get(tClass);\r\n    }\r\n\r\nThe warning can be ignored as you know the cast in the last method is safe even if the compiler does not.\r\n","title":"Java map, key = class, value = instance of that class","body":"<p>You can hide the collection and only allow it to be accessed via accessor methods.</p>\n\n<pre><code>private final Map&lt;Class, Object&gt; myMap = new HashMap&lt;Class, Object&gt;();\n\npublic &lt;T&gt; void putMap(Class&lt;T&gt; tClass, T t) {\n     myMap.put(tClass, t);\n}\n\n@SuppressWarnings(\"unchecked\")\npublic &lt;T&gt; T getMap(Class&lt;T&gt; tClass) {\n    return (T) myMap.get(tClass);\n}\n</code></pre>\n\n<p>The warning can be ignored as you know the cast in the last method is safe even if the compiler does not.</p>\n"},{"comments":[{"owner":{"account_id":2729396,"reputation":103,"user_id":2353506,"accept_rate":0,"display_name":"thiagogcm"},"score":1,"creation_date":1561569988,"post_id":10195163,"comment_id":100111506,"body_markdown":"This is actually what I was looking for. No need to rely on 3rd party libs. Cheers","body":"This is actually what I was looking for. No need to rely on 3rd party libs. Cheers"}],"tags":[],"owner":{"account_id":390363,"reputation":7217,"user_id":750378,"accept_rate":69,"display_name":"DaveFar"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1334680594,"creation_date":1334679893,"answer_id":10195163,"question_id":10194855,"body_markdown":"What you are using is a **[heterogeneous container](https://stackoverflow.com/questions/6139325/heterogeneous-container-to-store-genericly-typed-objects-in-java)**. These **can** be made typesafe by using type tokens (as you already do) and `Class.cast()` with the correct application logic: So there is an unchecked suppressWarning within `Class.cast()`, but the application logic guarantees correctness. \r\n\r\nI advise you read Josh Bloch&#39;s Effective Java Item 29: Consider typesafe heterogeneous containers. His example is:\r\n\r\n    // Typesafe heterogeneous container pattern - implementation\r\n    public class Favorites {\r\n      private Map&lt;Class&lt;?&gt;, Object&gt; favorites =\r\n        new HashMap&lt;Class&lt;?&gt;, Object&gt;();\r\n  \r\n      public &lt;T&gt; void putFavorite(Class&lt;T&gt; type, T instance) {\r\n        if (type == null)\r\n          throw new NullPointerException(&quot;Type is null&quot;);\r\n        favorites.put(type, instance);\r\n      }\r\n \r\n      public &lt;T&gt; T getFavorite(Class&lt;T&gt; type) {\r\n        return type.cast(favorites.get(type));\r\n      }\r\n    }\r\n\r\n----------------\r\n\r\nI only see a possibility for **memory leakage** if you hold arbitrarily many different types you actually no longer need.\r\n\r\n\r\n\r\n\r\n","title":"Java map, key = class, value = instance of that class","body":"<p>What you are using is a <strong><a href=\"https://stackoverflow.com/questions/6139325/heterogeneous-container-to-store-genericly-typed-objects-in-java\">heterogeneous container</a></strong>. These <strong>can</strong> be made typesafe by using type tokens (as you already do) and <code>Class.cast()</code> with the correct application logic: So there is an unchecked suppressWarning within <code>Class.cast()</code>, but the application logic guarantees correctness. </p>\n\n<p>I advise you read Josh Bloch's Effective Java Item 29: Consider typesafe heterogeneous containers. His example is:</p>\n\n<pre><code>// Typesafe heterogeneous container pattern - implementation\npublic class Favorites {\n  private Map&lt;Class&lt;?&gt;, Object&gt; favorites =\n    new HashMap&lt;Class&lt;?&gt;, Object&gt;();\n\n  public &lt;T&gt; void putFavorite(Class&lt;T&gt; type, T instance) {\n    if (type == null)\n      throw new NullPointerException(\"Type is null\");\n    favorites.put(type, instance);\n  }\n\n  public &lt;T&gt; T getFavorite(Class&lt;T&gt; type) {\n    return type.cast(favorites.get(type));\n  }\n}\n</code></pre>\n\n<hr>\n\n<p>I only see a possibility for <strong>memory leakage</strong> if you hold arbitrarily many different types you actually no longer need.</p>\n"},{"tags":[],"owner":{"account_id":13182025,"reputation":470,"user_id":9521107,"display_name":"truekiller"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530020934,"creation_date":1530020934,"answer_id":51044526,"question_id":10194855,"body_markdown":"I had the same requirement. I solved it using the below code : \r\n\r\n    interface Service { }\r\n\r\n    class ServiceCache {\r\n\tprivate HashMap&lt;Class&lt;? extends Service&gt;, Service&gt; services;\r\n\r\n\tpublic ServiceCache() {\r\n\t\tservices = new HashMap&lt;&gt;();\r\n\t}\r\n\r\n\tpublic &lt;T extends Service&gt; T getService(Class&lt;T&gt; service) {\r\n\t\tif (services.containsKey(service))\r\n\t\t\treturn (T) services.get(service);\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic &lt;T extends Service&gt; void addService(T service, Class&lt;? extends Service&gt; serviceInterface) {\r\n\t\tservices.put(serviceInterface, service);\r\n\t }\r\n    }","title":"Java map, key = class, value = instance of that class","body":"<p>I had the same requirement. I solved it using the below code : </p>\n\n<pre><code>interface Service { }\n\nclass ServiceCache {\nprivate HashMap&lt;Class&lt;? extends Service&gt;, Service&gt; services;\n\npublic ServiceCache() {\n    services = new HashMap&lt;&gt;();\n}\n\npublic &lt;T extends Service&gt; T getService(Class&lt;T&gt; service) {\n    if (services.containsKey(service))\n        return (T) services.get(service);\n    return null;\n}\n\npublic &lt;T extends Service&gt; void addService(T service, Class&lt;? extends Service&gt; serviceInterface) {\n    services.put(serviceInterface, service);\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9682830,"reputation":101,"user_id":7183818,"display_name":"celikz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670712025,"creation_date":1670712025,"answer_id":74757046,"question_id":10194855,"body_markdown":"`clazz.isInstance(TypeClass.class)` can be used to compare types.\r\nAccording to the documentation `public native boolean isInstance(Object obj)` method\r\n\r\n&gt; Determines if the specified Object is assignment-compatible with the object represented by this Class. This method is the dynamic equivalent of the Java language **instanceof** operator. The method returns true if the specified Object argument is non-null and can be cast to the reference type represented by this Class object without raising a ClassCastException. It returns false otherwise.\r\n\r\n`clazz.isAssignableFrom(TypeClass.class)` can be used to compare both super and sub types.\r\nAccording to the documentation `public native boolean isAssignableFrom(Class&lt;?&gt; cls)` method\r\n\r\n&gt; Determines if the class or interface represented by this Class object is either the same as, or is a superclass or superinterface of, the class or interface represented by the specified Class parameter. It returns true if so; otherwise it returns false. If this Class object represents a primitive type, this method returns true if the specified Class parameter is exactly this Class object; otherwise it returns false.\r\n\r\n","title":"Java map, key = class, value = instance of that class","body":"<p><code>clazz.isInstance(TypeClass.class)</code> can be used to compare types.\nAccording to the documentation <code>public native boolean isInstance(Object obj)</code> method</p>\n<blockquote>\n<p>Determines if the specified Object is assignment-compatible with the object represented by this Class. This method is the dynamic equivalent of the Java language <strong>instanceof</strong> operator. The method returns true if the specified Object argument is non-null and can be cast to the reference type represented by this Class object without raising a ClassCastException. It returns false otherwise.</p>\n</blockquote>\n<p><code>clazz.isAssignableFrom(TypeClass.class)</code> can be used to compare both super and sub types.\nAccording to the documentation <code>public native boolean isAssignableFrom(Class&lt;?&gt; cls)</code> method</p>\n<blockquote>\n<p>Determines if the class or interface represented by this Class object is either the same as, or is a superclass or superinterface of, the class or interface represented by the specified Class parameter. It returns true if so; otherwise it returns false. If this Class object represents a primitive type, this method returns true if the specified Class parameter is exactly this Class object; otherwise it returns false.</p>\n</blockquote>\n"}],"owner":{"account_id":999849,"reputation":40077,"user_id":1014979,"accept_rate":78,"display_name":"dnc253"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32088,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":10194891,"answer_count":6,"score":28,"last_activity_date":1670712025,"creation_date":1334678712,"question_id":10194855,"body_markdown":"I&#39;m not sure what I want to do is possible, but if it is, I want to find out how. Basically, I want to create a Map where the key is a class (`java.lang.Class`), and value for that entry is an instance of that class. Currently I have\r\n\r\n    private Map&lt;Class&lt;?&gt;, Object&gt; myMap = new HashMap&lt;Class&lt;?&gt;, Object&gt;();\r\n\r\nHowever, this means any Object can be placed in the Map. If it is possible, I want to make it, so only an instance of the class in the key can be placed in the map. Is there any way to use the ? parametrization on the Class&lt;?&gt; to ensure this?\r\n\r\nAlso, I found there could be a [possible memory leak][1] when doing something like this. I&#39;m not sure I fully understand how this happens. I will only be sticking singleton objects into the map, so would there still be concern for a memory leak? If so, how do I prevent it?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2625546/is-using-the-class-instance-as-a-map-key-a-best-practice","title":"Java map, key = class, value = instance of that class","body":"<p>I'm not sure what I want to do is possible, but if it is, I want to find out how. Basically, I want to create a Map where the key is a class (<code>java.lang.Class</code>), and value for that entry is an instance of that class. Currently I have</p>\n\n<pre><code>private Map&lt;Class&lt;?&gt;, Object&gt; myMap = new HashMap&lt;Class&lt;?&gt;, Object&gt;();\n</code></pre>\n\n<p>However, this means any Object can be placed in the Map. If it is possible, I want to make it, so only an instance of the class in the key can be placed in the map. Is there any way to use the ? parametrization on the Class to ensure this?</p>\n\n<p>Also, I found there could be a <a href=\"https://stackoverflow.com/questions/2625546/is-using-the-class-instance-as-a-map-key-a-best-practice\">possible memory leak</a> when doing something like this. I'm not sure I fully understand how this happens. I will only be sticking singleton objects into the map, so would there still be concern for a memory leak? If so, how do I prevent it?</p>\n"},{"tags":["java","string","variables","methods","return"],"comments":[{"owner":{"display_name":"user20716279"},"score":1,"creation_date":1670710773,"post_id":74756911,"comment_id":131937480,"body_markdown":"you compare string with equals method https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#equals(java.lang.Object) and your method need a return statement after the for loop","body":"you compare string with equals method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a> and your method need a return statement after the for loop"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1670711560,"post_id":74756911,"comment_id":131937638,"body_markdown":"Declare the variable before the if block","body":"Declare the variable before the if block"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1670711832,"post_id":74756911,"comment_id":131937691,"body_markdown":"The central problem here is that not all paths lead to a return statement. Incidentally, yes, the string compare is _also_ wrong. Point is, reopen - that&#39;s not the pertinent problem here. Admittedly, OP, you really should include the compiler error message in your SO questions.","body":"The central problem here is that not all paths lead to a return statement. Incidentally, yes, the string compare is <i>also</i> wrong. Point is, reopen - that&#39;s not the pertinent problem here. Admittedly, OP, you really should include the compiler error message in your SO questions."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1670712042,"post_id":74756911,"comment_id":131937722,"body_markdown":"close -&gt; missing debugging information, like, well, what the actual error is...","body":"close -&gt; missing debugging information, like, well, what the actual error is..."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670711948,"creation_date":1670711948,"answer_id":74757040,"question_id":74756911,"body_markdown":"_All_ paths through the code _must_ lead to a `return` statement. Some analysis of this code indicates that it should always do so, but this requires knowing that `for (int i = 0; i &lt; 1; i++)` will loop at least once.\r\n\r\nThe compiler isn&#39;t going to go that far. Hence, this won&#39;t compile. Just reorder a few things and it will. Separately, you _also_ have a second issue - `==` checks reference identity, it doesn&#39;t do value comparison. Unless the left and right hand side are primitives (i.e. _not_ references, and thus &#39;reference identity&#39; wouldnt apply in the first place). You use equals instead, or in this case, more idiomatic, `.isEmpty()`. Fixing both issues:\r\n\r\n```java\r\npublic static String agregarMain() {\r\n    Scanner in = new Scanner(System.in);\r\n    String mainSeleccion = &quot;&quot;;\r\n    for (int i = 0; i &lt; 1; i++) {\r\n        System.out.println(&quot;Ingresar nombre del software/topico&quot;);\r\n        mainSeleccion = in.nextLine();\r\n        if (mainSeleccion.isEmpty()) {\r\n            System.out.println(&quot;Invalid Selection, please try again&quot;);\r\n            i--;\r\n        }\r\n    }\r\n    return mainSeleccion;\r\n}\r\n```\r\n\r\nNB: When asking question on stack overflow, include all pertinent errors. You didnt which led to some confusion in the comments and got your question closed.","title":"Why the String input variable won&#39;t be saved using return?","body":"<p><em>All</em> paths through the code <em>must</em> lead to a <code>return</code> statement. Some analysis of this code indicates that it should always do so, but this requires knowing that <code>for (int i = 0; i &lt; 1; i++)</code> will loop at least once.</p>\n<p>The compiler isn't going to go that far. Hence, this won't compile. Just reorder a few things and it will. Separately, you <em>also</em> have a second issue - <code>==</code> checks reference identity, it doesn't do value comparison. Unless the left and right hand side are primitives (i.e. <em>not</em> references, and thus 'reference identity' wouldnt apply in the first place). You use equals instead, or in this case, more idiomatic, <code>.isEmpty()</code>. Fixing both issues:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String agregarMain() {\n    Scanner in = new Scanner(System.in);\n    String mainSeleccion = &quot;&quot;;\n    for (int i = 0; i &lt; 1; i++) {\n        System.out.println(&quot;Ingresar nombre del software/topico&quot;);\n        mainSeleccion = in.nextLine();\n        if (mainSeleccion.isEmpty()) {\n            System.out.println(&quot;Invalid Selection, please try again&quot;);\n            i--;\n        }\n    }\n    return mainSeleccion;\n}\n</code></pre>\n<p>NB: When asking question on stack overflow, include all pertinent errors. You didnt which led to some confusion in the comments and got your question closed.</p>\n"}],"owner":{"account_id":26969799,"reputation":1,"user_id":20535984,"display_name":"Floatingunknown"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1670759040,"answer_count":1,"score":-3,"last_activity_date":1670711948,"creation_date":1670710665,"question_id":74756911,"body_markdown":"The method won&#39;t take the variable that I assigned in return.\r\n\r\n\r\n```\r\npublic static String agregarMain() {\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tfor (int i = 0; i &lt; 1; i++) {\r\n\t\t\tSystem.out.println(&quot;Ingresar nombre del software/topico&quot;);\r\n\t\t\tString mainSeleccion = in.nextLine();\r\n\t\tif (mainSeleccion == &quot;&quot;) {\r\n\t\t\tSystem.out.println(&quot;Invalid Selection, please try again&quot;);\r\n\t\t\ti--;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\treturn mainSeleccion;\r\n\t\t}\r\n\t}\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;m expecting to save the input response in mainSeleccion variable.","title":"Why the String input variable won&#39;t be saved using return?","body":"<p>The method won't take the variable that I assigned in return.</p>\n<pre><code>public static String agregarMain() {\n        Scanner in = new Scanner(System.in);\n        for (int i = 0; i &lt; 1; i++) {\n            System.out.println(&quot;Ingresar nombre del software/topico&quot;);\n            String mainSeleccion = in.nextLine();\n        if (mainSeleccion == &quot;&quot;) {\n            System.out.println(&quot;Invalid Selection, please try again&quot;);\n            i--;\n            continue;\n        }\n        return mainSeleccion;\n        }\n    }\n</code></pre>\n<p>I'm expecting to save the input response in mainSeleccion variable.</p>\n"},{"tags":["java","android","checkbox","sharedpreferences","submenu"],"answers":[{"tags":[],"owner":{"account_id":1765886,"reputation":2876,"user_id":1611779,"accept_rate":92,"display_name":"iOSAndroidWindowsMobileAppsDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670711932,"creation_date":1462260764,"answer_id":36998250,"question_id":36939380,"body_markdown":"One way is to call the `.clear()` method before `.commit()`.\r\n\r\nAnother is to retrieve the last stored value in shared preferences. However, to do this, one has to understand the lifecycle of an activity\r\n\r\nAfter storing the checked state of user preferences, as below:\r\nDeclare variables\r\n\r\n    /**Checkable Login Persist Shared Prefs Declarations Start*/\r\n    private static final String PREFS_NAME = &quot;IsCheckedState&quot;;\r\n    String string;\r\n    SharedPreferences.Editor editor;\r\n    /**Checkable Login Persist Shared Prefs Declarations End*/\r\n\r\nAfter setting the layout, assign the string (boolean or int in whatever your case may be) variable to shared preferences.\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n         super.onCreate(savedInstanceState);\r\n         setContentView(R.layout.activity_main);\r\n         /**\r\n          Persistent Checkable Menu Start\r\n          **/\r\n         SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\r\n         string = settings.getString(&quot;preference&quot;, string);\r\n         //Log.e(&quot;User Subscription&quot;, string);\r\n         /**\r\n          Persistent Checkable Menu End\r\n          **/}\r\n\t@Override\r\n    public boolean onPrepareOptionsMenu(Menu menu) {\r\n        super.onPrepareOptionsMenu(menu);\r\n        SharedPreferences settings = this.getSharedPreferences(PREFS_NAME, 0);\r\n        string = settings.getString(&quot;preference&quot;, string);\r\n        if (string.equals(&quot;Vibrate&quot;)) {\r\n            menu.findItem(R.id.start_action).setChecked(true);\r\n            Log.e(&quot;Vibrate&quot;, string);\r\n        }\r\n        else if (string.equals(&quot;Disable&quot;)){\r\n            menu.findItem(R.id.my_cancel_action).setChecked(true);\r\n            Log.e(&quot;Disable&quot;, string);\r\n        }\r\n        return true;\r\n    }\r\n    // Menu options to set and cancel the alarm.\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        /*persistent checkable item logic start*/\r\n        SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\r\n        editor = settings.edit();\r\n        string = settings.getString(&quot;preference&quot;, string);\r\n         /*persistent checkable item logic end*/\r\n        int id = item.getItemId();\r\n        // Handle action bar item clicks here. The action bar will\r\n        // automatically handle clicks on the Home/Up button, so long\r\n        // as you specify a parent activity in AndroidManifest.xml.\r\n        switch (id) {\r\n\r\n            // When the user clicks START ALARM, set the alarm.\r\n            case R.id.start_action:\r\n                alarm.setAlarm();\r\n                item.setChecked(true);\r\n                string= &quot;Vibrate&quot;;\r\n                editor.putString(&quot;preference&quot;, string);\r\n                editor.commit();\r\n                // invalidateOptionsMenu();\r\n                return true;\r\n            // When the user clicks CANCEL ALARM, cancel the alarm.\r\n            case R.id.my_cancel_action:\r\n                alarm.cancelAlarm(this, 1);\r\n                item.setChecked(true);\r\n                string=&quot;Disable&quot;;\r\n                editor.putString(&quot;preference&quot;, &quot;Disable&quot;);\r\n                editor.commit();\r\n                //invalidateOptionsMenu();\r\n                return true;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\nYou have to retrieve the previously stored string from shared preferences, when the app is paused, stopped, resumed visible (started). So, in addition to the code above, you will need to add the following:\r\n\r\n\t}\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\r\n        string = settings.getString(&quot;preference&quot;, string);\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\r\n        string = settings.getString(&quot;preference&quot;, string);\r\n    }\r\n\r\n    @Override\r\n    protected void onRestart() {\r\n        super.onRestart();\r\n        SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\r\n        string = settings.getString(&quot;preference&quot;, string);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\r\n        string = settings.getString(&quot;preference&quot;, string);\r\n    }\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\r\n        string = settings.getString(&quot;preference&quot;, string);\r\n    }\r\n\r\nThat is, if you really want to have the checked option stored at all times.","title":"Android Persistent Checkable Menu in Custom Widget After Reboot Android","body":"<p>One way is to call the <code>.clear()</code> method before <code>.commit()</code>.</p>\n<p>Another is to retrieve the last stored value in shared preferences. However, to do this, one has to understand the lifecycle of an activity</p>\n<p>After storing the checked state of user preferences, as below:\nDeclare variables</p>\n<pre><code>/**Checkable Login Persist Shared Prefs Declarations Start*/\nprivate static final String PREFS_NAME = &quot;IsCheckedState&quot;;\nString string;\nSharedPreferences.Editor editor;\n/**Checkable Login Persist Shared Prefs Declarations End*/\n</code></pre>\n<p>After setting the layout, assign the string (boolean or int in whatever your case may be) variable to shared preferences.</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n     super.onCreate(savedInstanceState);\n     setContentView(R.layout.activity_main);\n     /**\n      Persistent Checkable Menu Start\n      **/\n     SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\n     string = settings.getString(&quot;preference&quot;, string);\n     //Log.e(&quot;User Subscription&quot;, string);\n     /**\n      Persistent Checkable Menu End\n      **/}\n@Override\npublic boolean onPrepareOptionsMenu(Menu menu) {\n    super.onPrepareOptionsMenu(menu);\n    SharedPreferences settings = this.getSharedPreferences(PREFS_NAME, 0);\n    string = settings.getString(&quot;preference&quot;, string);\n    if (string.equals(&quot;Vibrate&quot;)) {\n        menu.findItem(R.id.start_action).setChecked(true);\n        Log.e(&quot;Vibrate&quot;, string);\n    }\n    else if (string.equals(&quot;Disable&quot;)){\n        menu.findItem(R.id.my_cancel_action).setChecked(true);\n        Log.e(&quot;Disable&quot;, string);\n    }\n    return true;\n}\n// Menu options to set and cancel the alarm.\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    /*persistent checkable item logic start*/\n    SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\n    editor = settings.edit();\n    string = settings.getString(&quot;preference&quot;, string);\n     /*persistent checkable item logic end*/\n    int id = item.getItemId();\n    // Handle action bar item clicks here. The action bar will\n    // automatically handle clicks on the Home/Up button, so long\n    // as you specify a parent activity in AndroidManifest.xml.\n    switch (id) {\n\n        // When the user clicks START ALARM, set the alarm.\n        case R.id.start_action:\n            alarm.setAlarm();\n            item.setChecked(true);\n            string= &quot;Vibrate&quot;;\n            editor.putString(&quot;preference&quot;, string);\n            editor.commit();\n            // invalidateOptionsMenu();\n            return true;\n        // When the user clicks CANCEL ALARM, cancel the alarm.\n        case R.id.my_cancel_action:\n            alarm.cancelAlarm(this, 1);\n            item.setChecked(true);\n            string=&quot;Disable&quot;;\n            editor.putString(&quot;preference&quot;, &quot;Disable&quot;);\n            editor.commit();\n            //invalidateOptionsMenu();\n            return true;\n    }\n    return super.onOptionsItemSelected(item);\n}\n</code></pre>\n<p>You have to retrieve the previously stored string from shared preferences, when the app is paused, stopped, resumed visible (started). So, in addition to the code above, you will need to add the following:</p>\n<pre><code>}\n@Override\npublic void onResume() {\n    super.onResume();\n    SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\n    string = settings.getString(&quot;preference&quot;, string);\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\n    string = settings.getString(&quot;preference&quot;, string);\n}\n\n@Override\nprotected void onRestart() {\n    super.onRestart();\n    SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\n    string = settings.getString(&quot;preference&quot;, string);\n}\n\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\n    string = settings.getString(&quot;preference&quot;, string);\n}\n@Override\nprotected void onStop() {\n    super.onStop();\n    SharedPreferences settings = PreferenceManager.getDefaultSharedPreferences(this);\n    string = settings.getString(&quot;preference&quot;, string);\n}\n</code></pre>\n<p>That is, if you really want to have the checked option stored at all times.</p>\n"}],"owner":{"account_id":1765886,"reputation":2876,"user_id":1611779,"accept_rate":92,"display_name":"iOSAndroidWindowsMobileAppsDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2623,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36998250,"answer_count":1,"score":1,"last_activity_date":1670711932,"creation_date":1461935765,"question_id":36939380,"body_markdown":"Hi I designed a custom toolbar to replace the action bar with a popup menu, using the hints from \r\n\r\nhttps://stackoverflow.com/questions/21972930/how-to-save-menuitem-visibility-state-through-sharedpreferences\r\n\r\nand\r\n\r\nhttps://stackoverflow.com/questions/29122447/checkbox-item-state-on-menu-android\r\n\r\nand\r\n\r\nhttp://developer.android.com/guide/topics/ui/menus.html#checkable\r\n\r\nThe most effective way is to store the state in shared preferences as in the stackoverflow answers. \r\n\r\nMy question is: How do I keep the checked option selected even after restarting my android?","title":"Android Persistent Checkable Menu in Custom Widget After Reboot Android","body":"<p>Hi I designed a custom toolbar to replace the action bar with a popup menu, using the hints from </p>\n\n<p><a href=\"https://stackoverflow.com/questions/21972930/how-to-save-menuitem-visibility-state-through-sharedpreferences\">how to save menuitem visibility state through sharedpreferences?</a></p>\n\n<p>and</p>\n\n<p><a href=\"https://stackoverflow.com/questions/29122447/checkbox-item-state-on-menu-android\">Checkbox item state on menu android</a></p>\n\n<p>and</p>\n\n<p><a href=\"http://developer.android.com/guide/topics/ui/menus.html#checkable\" rel=\"nofollow noreferrer\">http://developer.android.com/guide/topics/ui/menus.html#checkable</a></p>\n\n<p>The most effective way is to store the state in shared preferences as in the stackoverflow answers. </p>\n\n<p>My question is: How do I keep the checked option selected even after restarting my android?</p>\n"},{"tags":["java","maven","intellij-idea","javafx","executable-jar"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1670632599,"post_id":74749246,"comment_id":131925493,"body_markdown":"What happens if you specify the `--module-path` etc., for [example](https://stackoverflow.com/a/71288497/230513).","body":"What happens if you specify the <code>--module-path</code> etc., for <a href=\"https://stackoverflow.com/a/71288497/230513\">example</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670636619,"post_id":74749246,"comment_id":131925996,"body_markdown":"Your options: jlink it (recommended) using the maven-javafx-plugin (it is modular, so that may work), if it doesn&#39;t work then jpackage it.  If you really want to just deploy a jar (not recommended), then use the [unsupported shade config](https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing) for a single jar, or, better provide an unshaded jar for your app and place the dependent libraries in a lib directory, run with module settings like trashgod&#39;s sample but for all your modules, not just javafx modules, and zip everything up for distribution.","body":"Your options: jlink it (recommended) using the maven-javafx-plugin (it is modular, so that may work), if it doesn&#39;t work then jpackage it.  If you really want to just deploy a jar (not recommended), then use the <a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">unsupported shade config</a> for a single jar, or, better provide an unshaded jar for your app and place the dependent libraries in a lib directory, run with module settings like trashgod&#39;s sample but for all your modules, not just javafx modules, and zip everything up for distribution."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670636768,"post_id":74749246,"comment_id":131926010,"body_markdown":"Also note that an executable [modular jar](https://jenkov.com/tutorials/java/modules.html#setting-the-jar-main-class) does not use the class path and main class settings in the manifest which might be used for an executable non-modular jar.","body":"Also note that an executable <a href=\"https://jenkov.com/tutorials/java/modules.html#setting-the-jar-main-class\" rel=\"nofollow noreferrer\">modular jar</a> does not use the class path and main class settings in the manifest which might be used for an executable non-modular jar."},{"owner":{"account_id":27206243,"reputation":31,"user_id":20737740,"display_name":"java-user2000"},"score":0,"creation_date":1670686303,"post_id":74749246,"comment_id":131932831,"body_markdown":"I added in VM options in &#39;Run &gt; configuration &gt; Jar Application &gt; MyAppliaction.jar&#39;\n\n&#39;--module-path &quot;mypath\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib&quot; --add-modules javafx.controls,javafx.fxml&#39;\n\nand the error message is gone when I run the jar file in IntelliJ !\n\nHowever, I still have it when I try to open it from the Terminal with the &#39;java -jar&#39; and the &#39;java -cp&#39;\n\nSo it solved the issue only in the IDE.","body":"I added in VM options in &#39;Run &gt; configuration &gt; Jar Application &gt; MyAppliaction.jar&#39;  &#39;--module-path &quot;mypath\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib&quot; --add-modules javafx.controls,javafx.fxml&#39;  and the error message is gone when I run the jar file in IntelliJ !  However, I still have it when I try to open it from the Terminal with the &#39;java -jar&#39; and the &#39;java -cp&#39;  So it solved the issue only in the IDE."}],"answers":[{"comments":[{"owner":{"account_id":8900417,"reputation":111,"user_id":15040334,"display_name":"MohMehdi"},"score":0,"creation_date":1696943315,"post_id":74756889,"comment_id":136215004,"body_markdown":"it works thanks","body":"it works thanks"}],"tags":[],"owner":{"account_id":27206243,"reputation":31,"user_id":20737740,"display_name":"java-user2000"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670710466,"creation_date":1670710466,"answer_id":74756889,"question_id":74749246,"body_markdown":"I found the solution !\r\n\r\nSo if you are using IntelliJ with a Maven Project, you have to add :\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;mypackage.myproject.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nand run the exe jar in the terminal with the cmd :\r\n\r\n    java --module-path &quot;mypath\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib&quot; --add-modules javafx.controls,javafx.fxml -jar myproject-SNAPSHOT-jar-with-dependencies.jar\r\n\r\nIt worked for me ! \r\n\r\nHope it helps :)","title":"Error: Could not find or load main class ... Caused by: java.lang.NoClassDefFoundError: javafx/application/Application","body":"<p>I found the solution !</p>\n<p>So if you are using IntelliJ with a Maven Project, you have to add :</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.4.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;mypackage.myproject.Main&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                    &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>and run the exe jar in the terminal with the cmd :</p>\n<pre><code>java --module-path &quot;mypath\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib&quot; --add-modules javafx.controls,javafx.fxml -jar myproject-SNAPSHOT-jar-with-dependencies.jar\n</code></pre>\n<p>It worked for me !</p>\n<p>Hope it helps :)</p>\n"}],"owner":{"account_id":27206243,"reputation":31,"user_id":20737740,"display_name":"java-user2000"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":917,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670710466,"creation_date":1670629238,"question_id":74749246,"body_markdown":"Can&#39;t open an executable jar from Maven project in IntelliJ\r\n\r\n\r\nHello everyone\r\n\r\nSo I am currently working on a Maven project using JavaFX interface on the IDE IntelliJ. Everything works fine except when I try to export the project in an executable jar file.\r\n\r\nEverytime I try the &quot;java -jar myproject-1.0-SNAPSHOT.jar&quot; command in the terminal it shows this error\r\n\r\n`Error: Could not find or load main class mypackage.myproject.Main Caused by: java.lang.NoClassDefFoundError: javafx/application/Application`\r\n\r\nI also tried to generate a .jar with artifact in project structure but when I try to open it, I get another error which is :\r\n\r\n```\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.SecurityException: Invalid signature file digest for Manifest main attributes\r\n\tat java.base/sun.security.util.SignatureFileVerifier.processImpl(SignatureFileVerifier.java:340)\r\n\tat java.base/sun.security.util.SignatureFileVerifier.process(SignatureFileVerifier.java:282)\r\n\tat java.base/java.util.jar.JarVerifier.processEntry(JarVerifier.java:327)\r\n\tat java.base/java.util.jar.JarVerifier.update(JarVerifier.java:239)\r\n\tat java.base/java.util.jar.JarFile.initializeVerifier(JarFile.java:760)\r\n\tat java.base/java.util.jar.JarFile.ensureInitialization(JarFile.java:1058)\r\n\tat java.base/java.util.jar.JavaUtilJarAccessImpl.ensureInitialization(JavaUtilJarAccessImpl.java:72)\r\n\tat java.base/jdk.internal.loader.URLClassPath$JarLoader$2.getManifest(URLClassPath.java:883)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:848)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:495)\r\n\tat java.base/java.lang.Class.forName(Class.java:474)\r\n\tat java.base/sun.launcher.LauncherHelper.loadMainClass(LauncherHelper.java:790)\r\n\tat java.base/sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:685)\r\n```\r\n\r\n\r\nMy JDK is version 19.\r\nIn the MANIFEST FILE, the Main-Class is specified. \r\n\r\nHere is my pom.xml file :\r\n\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;mypackage&lt;/groupId&gt;\r\n    &lt;artifactId&gt;PearCar&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;PearCar&lt;/name&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;AsposeJavaAPI&lt;/id&gt;\r\n            &lt;name&gt;Aspose Java API&lt;/name&gt;\r\n            &lt;url&gt;https://repository.aspose.com/repo/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.9.0&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;19-ea+7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;19-ea+7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.27&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfbox-tools&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.27&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.30&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kernel&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;io&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;layout&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;forms&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfa&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdftest&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.cssbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdf2dom&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aspose&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspose-pdf&lt;/artifactId&gt;\r\n            &lt;version&gt;21.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20220924&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;mypackage.myproject.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;19&lt;/source&gt;\r\n                    &lt;target&gt;19&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;mypackage.myproject/mypackage.myproject.Main&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nhere is my module-info.java file :\r\n\r\n\r\n```\r\nmodule mypackage.myproject {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n\r\n    requires org.kordamp.bootstrapfx.core;\r\n    requires java.sql;\r\n    requires org.apache.pdfbox;\r\n    requires java.desktop;\r\n    requires layout;\r\n    requires kernel;\r\n    requires io;\r\n    //requires aspose.pdf;\r\n    requires net.sf.cssbox.pdf2dom;\r\n    requires aspose.pdf;\r\n    requires forms;\r\n    requires commons.lang3;\r\n\r\n\r\n    opens mypackage.myproject to javafx.fxml;\r\n    exports mypackage.myproject;\r\n    exports Controller;\r\n    opens Controller to javafx.fxml;\r\n}\r\n```\r\n\r\nThank you !\r\n\r\n\r\n","title":"Error: Could not find or load main class ... Caused by: java.lang.NoClassDefFoundError: javafx/application/Application","body":"<p>Can't open an executable jar from Maven project in IntelliJ</p>\n<p>Hello everyone</p>\n<p>So I am currently working on a Maven project using JavaFX interface on the IDE IntelliJ. Everything works fine except when I try to export the project in an executable jar file.</p>\n<p>Everytime I try the &quot;java -jar myproject-1.0-SNAPSHOT.jar&quot; command in the terminal it shows this error</p>\n<p><code>Error: Could not find or load main class mypackage.myproject.Main Caused by: java.lang.NoClassDefFoundError: javafx/application/Application</code></p>\n<p>I also tried to generate a .jar with artifact in project structure but when I try to open it, I get another error which is :</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.SecurityException: Invalid signature file digest for Manifest main attributes\n    at java.base/sun.security.util.SignatureFileVerifier.processImpl(SignatureFileVerifier.java:340)\n    at java.base/sun.security.util.SignatureFileVerifier.process(SignatureFileVerifier.java:282)\n    at java.base/java.util.jar.JarVerifier.processEntry(JarVerifier.java:327)\n    at java.base/java.util.jar.JarVerifier.update(JarVerifier.java:239)\n    at java.base/java.util.jar.JarFile.initializeVerifier(JarFile.java:760)\n    at java.base/java.util.jar.JarFile.ensureInitialization(JarFile.java:1058)\n    at java.base/java.util.jar.JavaUtilJarAccessImpl.ensureInitialization(JavaUtilJarAccessImpl.java:72)\n    at java.base/jdk.internal.loader.URLClassPath$JarLoader$2.getManifest(URLClassPath.java:883)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:848)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:495)\n    at java.base/java.lang.Class.forName(Class.java:474)\n    at java.base/sun.launcher.LauncherHelper.loadMainClass(LauncherHelper.java:790)\n    at java.base/sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:685)\n</code></pre>\n<p>My JDK is version 19.\nIn the MANIFEST FILE, the Main-Class is specified.</p>\n<p>Here is my pom.xml file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;mypackage&lt;/groupId&gt;\n    &lt;artifactId&gt;PearCar&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;PearCar&lt;/name&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;AsposeJavaAPI&lt;/id&gt;\n            &lt;name&gt;Aspose Java API&lt;/name&gt;\n            &lt;url&gt;https://repository.aspose.com/repo/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.9.0&lt;/junit.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;19-ea+7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;19-ea+7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\n            &lt;version&gt;0.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.27&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox-tools&lt;/artifactId&gt;\n            &lt;version&gt;2.0.27&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;kernel&lt;/artifactId&gt;\n            &lt;version&gt;7.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;io&lt;/artifactId&gt;\n            &lt;version&gt;7.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;layout&lt;/artifactId&gt;\n            &lt;version&gt;7.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;forms&lt;/artifactId&gt;\n            &lt;version&gt;7.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfa&lt;/artifactId&gt;\n            &lt;version&gt;7.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;pdftest&lt;/artifactId&gt;\n            &lt;version&gt;7.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.cssbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdf2dom&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aspose&lt;/groupId&gt;\n            &lt;artifactId&gt;aspose-pdf&lt;/artifactId&gt;\n            &lt;version&gt;21.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20220924&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;mypackage.myproject.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;19&lt;/source&gt;\n                    &lt;target&gt;19&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;mypackage.myproject/mypackage.myproject.Main&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>here is my module-info.java file :</p>\n<pre><code>module mypackage.myproject {\n    requires javafx.controls;\n    requires javafx.fxml;\n\n    requires org.kordamp.bootstrapfx.core;\n    requires java.sql;\n    requires org.apache.pdfbox;\n    requires java.desktop;\n    requires layout;\n    requires kernel;\n    requires io;\n    //requires aspose.pdf;\n    requires net.sf.cssbox.pdf2dom;\n    requires aspose.pdf;\n    requires forms;\n    requires commons.lang3;\n\n\n    opens mypackage.myproject to javafx.fxml;\n    exports mypackage.myproject;\n    exports Controller;\n    opens Controller to javafx.fxml;\n}\n</code></pre>\n<p>Thank you !</p>\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1669449252,"post_id":74580337,"comment_id":131646897,"body_markdown":"Targeting android versions 10+ needs additional permissions for reading files. Did you try giving permission from the App Settings?","body":"Targeting android versions 10+ needs additional permissions for reading files. Did you try giving permission from the App Settings?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1669449443,"post_id":74580337,"comment_id":131646919,"body_markdown":"Use File.exists() and File.canRead() before you try to upload a file.","body":"Use File.exists() and File.canRead() before you try to upload a file."},{"owner":{"account_id":17443340,"reputation":641,"user_id":12645199,"display_name":"Anirudhdhsinh Jadeja"},"score":0,"creation_date":1669471988,"post_id":74580337,"comment_id":131650354,"body_markdown":"@SambhavKhandelwal could you please guide me to the additional permission check ?","body":"@SambhavKhandelwal could you please guide me to the additional permission check ?"},{"owner":{"account_id":17443340,"reputation":641,"user_id":12645199,"display_name":"Anirudhdhsinh Jadeja"},"score":0,"creation_date":1669472070,"post_id":74580337,"comment_id":131650367,"body_markdown":"@blackapps i did try File.canRead() and surprisingly it returns true. However the same file could not be uploaded to firebase","body":"@blackapps i did try File.canRead() and surprisingly it returns true. However the same file could not be uploaded to firebase"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1669526862,"post_id":74580337,"comment_id":131658678,"body_markdown":"@AnirudhdhsinhJadeja im not really sure about it for I havent been in using files based applications. But, you may look at [this](https://developer.android.com/training/data-storage/shared/photopicker) documentation. This will work on Android 10+(API 30). For older devices, your existing code will work due to less limitations.","body":"@AnirudhdhsinhJadeja im not really sure about it for I havent been in using files based applications. But, you may look at <a href=\"https://developer.android.com/training/data-storage/shared/photopicker\" rel=\"nofollow noreferrer\">this</a> documentation. This will work on Android 10+(API 30). For older devices, your existing code will work due to less limitations."}],"answers":[{"tags":[],"owner":{"account_id":17443340,"reputation":641,"user_id":12645199,"display_name":"Anirudhdhsinh Jadeja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670710338,"creation_date":1670710338,"answer_id":74756885,"question_id":74580337,"body_markdown":"This was bit tricky to understand why file was not getting uploaded. But as @SambhavKhandelwal suggested to have an additional permission check, It made sense that there is a permission issue.\r\n\r\nSo, I did not find the exact solution but, I then saved the file into application specific media directory and it started working\r\n","title":"Java | Could not upload file to firebase storage","body":"<p>This was bit tricky to understand why file was not getting uploaded. But as @SambhavKhandelwal suggested to have an additional permission check, It made sense that there is a permission issue.</p>\n<p>So, I did not find the exact solution but, I then saved the file into application specific media directory and it started working</p>\n"}],"owner":{"account_id":17443340,"reputation":641,"user_id":12645199,"display_name":"Anirudhdhsinh Jadeja"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74756885,"answer_count":1,"score":0,"last_activity_date":1670710338,"creation_date":1669446028,"question_id":74580337,"body_markdown":"I am trying to upload a pdf file to firebase storage. I have referred official documentation (*[click here][1]*) and modified code for my needs.\r\n\r\n***What I am trying to achieve here***\r\n1. A file named &quot;mypdf.pdf&quot; is located at &quot;/storage/emulated/0/downloads&quot; (Basically Public Downloads directory)\r\n2. Uploading that exact file to the storage.\r\n\r\n***I tried***\r\n\r\nI tried to access that file using `Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).getPath() + &quot;/mypdf.pdf&quot;` and then converting it to Uri and feeding it to the firebase `putFile()` function. But, It is giving me an exception of `PERMISSION DENIED` even though I have mentioned the permissions in manifest and asked for permission at the runtime. And application is also given permission by the user.\r\n\r\n**Called inside `onCreate()`**\r\n```\r\nif (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\r\n\r\n            File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).getPath() + &quot;/mypdf.pdf&quot;);\r\n            if (file.exists()) {\r\n                uploadFileFromFirebaseTut();\r\n                Log.d(&quot;FileLog&quot;, &quot;onCreate: found the file&quot;);\r\n            } else Log.d(&quot;MainActivity.this&quot;, &quot;onCreate: could not find file&quot;);\r\n\r\n        } else\r\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 81);\r\n```\r\n**A function to upload the file**\r\n\r\n```\r\nprivate void uploadFileFromFirebaseTut() {\r\n\r\n        StorageReference storageRef = storage.getReference();\r\n        UploadTask uploadTask;\r\n\r\n        Uri file = Uri.fromFile(new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString() + &quot;/mypdf.pdf&quot;));\r\n        StorageReference riversRef = storageRef.child(&quot;uploads/mypdf.pdf&quot;);\r\n        uploadTask = riversRef.putFile(file);\r\n\r\n        // Register observers to listen for when the download is done or if it fails\r\n        uploadTask.addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception exception) {\r\n                Log.d(&quot;File Upload failed&quot;, &quot;onFailure: &quot;+exception);\r\n                Toast.makeText(MainActivity.this, &quot;File Upload Failed...&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                // taskSnapshot.getMetadata() contains file metadata such as size, content-type, etc.\r\n                // ...\r\n                Toast.makeText(MainActivity.this, &quot;File Uploaded..&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n    }\r\n```\r\n**Logs**\r\n```\r\nAn unknown error occurred, please check the HTTP result code and inner exception for server response.\r\n                             Code: -13000 HttpResult: 0\r\nStorageException         E  /storage/emulated/0/Download/mypdf.pdf: open failed: EACCES (Permission denied)\r\n                            java.io.FileNotFoundException: /storage/emulated/0/Download/mypdf.pdf: open failed: EACCES (Permission denied)\r\n                            \tat libcore.io.IoBridge.open(IoBridge.java:492)\r\n                            \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)\r\n                            \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:115)\r\n                            \tat android.content.ContentResolver.openInputStream(ContentResolver.java:1484)\r\n                            \tat com.google.firebase.storage.UploadTask.&lt;init&gt;(UploadTask.java:152)\r\n                            \tat com.google.firebase.storage.StorageReference.putFile(StorageReference.java:241)\r\n                            \tat com.example.firebaseupload.MainActivity.uploadFileFromFirebaseTut(MainActivity.java:84)\r\n                            \tat com.example.firebaseupload.MainActivity.onCreate(MainActivity.java:55)\r\n                            \tat android.app.Activity.performCreate(Activity.java:8153)\r\n                            \tat android.app.Activity.performCreate(Activity.java:8137)\r\n                            \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1310)\r\n                            \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3698)\r\n                            \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3896)\r\n                            \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n                            \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:140)\r\n                            \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:100)\r\n                            \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2326)\r\n                            \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                            \tat android.os.Looper.loop(Looper.java:263)\r\n                            \tat android.app.ActivityThread.main(ActivityThread.java:8296)\r\n                            \tat java.lang.reflect.Method.invoke(Native Method)\r\n                            \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\r\n                            \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)\r\n                            Caused by: android.system.ErrnoException: open failed: EACCES (Permission denied)\r\n                            \tat libcore.io.Linux.open(Native Method)\r\n                            \tat libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\n                            \tat libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\r\n                            \tat libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\n                            \tat android.app.ActivityThread$AndroidOs.open(ActivityThread.java:8178)\r\n                            \tat libcore.io.IoBridge.open(IoBridge.java:478)\r\n                            \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)&#160;\r\n                            \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:115)&#160;\r\n                            \tat android.content.ContentResolver.openInputStream(ContentResolver.java:1484)&#160;\r\n                            \tat com.google.firebase.storage.UploadTask.&lt;init&gt;(UploadTask.java:152)&#160;\r\n                            \tat com.google.firebase.storage.StorageReference.putFile(StorageReference.java:241)&#160;\r\n                            \tat com.example.firebaseupload.MainActivity.uploadFileFromFirebaseTut(MainActivity.java:84)&#160;\r\n                            \tat com.example.firebaseupload.MainActivity.onCreate(MainActivity.java:55)&#160;\r\n                            \tat android.app.Activity.performCreate(Activity.java:8153)&#160;\r\n                            \tat android.app.Activity.performCreate(Activity.java:8137)&#160;\r\n                            \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1310)&#160;\r\n                            \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3698)&#160;\r\n                            \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3896)&#160;\r\n                            \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n                            \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:140)&#160;\r\n                            \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:100)&#160;\r\n                            \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2326)&#160;\r\n                            \tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n                            \tat android.os.Looper.loop(Looper.java:263)&#160;\r\n                            \tat android.app.ActivityThread.main(ActivityThread.java:8296)&#160;\r\n                            \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                            \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)&#160;\r\n                            \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)&#160;\r\nStorageException         E  StorageException has occurred.\r\n\r\n```\r\n**Manifest have these mentions**\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\n```\r\n  [1]: https://firebase.google.com/docs/storage/android/upload-files","title":"Java | Could not upload file to firebase storage","body":"<p>I am trying to upload a pdf file to firebase storage. I have referred official documentation (<em><a href=\"https://firebase.google.com/docs/storage/android/upload-files\" rel=\"nofollow noreferrer\">click here</a></em>) and modified code for my needs.</p>\n<p><em><strong>What I am trying to achieve here</strong></em></p>\n<ol>\n<li>A file named &quot;mypdf.pdf&quot; is located at &quot;/storage/emulated/0/downloads&quot; (Basically Public Downloads directory)</li>\n<li>Uploading that exact file to the storage.</li>\n</ol>\n<p><em><strong>I tried</strong></em></p>\n<p>I tried to access that file using <code>Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).getPath() + &quot;/mypdf.pdf&quot;</code> and then converting it to Uri and feeding it to the firebase <code>putFile()</code> function. But, It is giving me an exception of <code>PERMISSION DENIED</code> even though I have mentioned the permissions in manifest and asked for permission at the runtime. And application is also given permission by the user.</p>\n<p><strong>Called inside <code>onCreate()</code></strong></p>\n<pre><code>if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n\n            File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).getPath() + &quot;/mypdf.pdf&quot;);\n            if (file.exists()) {\n                uploadFileFromFirebaseTut();\n                Log.d(&quot;FileLog&quot;, &quot;onCreate: found the file&quot;);\n            } else Log.d(&quot;MainActivity.this&quot;, &quot;onCreate: could not find file&quot;);\n\n        } else\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 81);\n</code></pre>\n<p><strong>A function to upload the file</strong></p>\n<pre><code>private void uploadFileFromFirebaseTut() {\n\n        StorageReference storageRef = storage.getReference();\n        UploadTask uploadTask;\n\n        Uri file = Uri.fromFile(new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString() + &quot;/mypdf.pdf&quot;));\n        StorageReference riversRef = storageRef.child(&quot;uploads/mypdf.pdf&quot;);\n        uploadTask = riversRef.putFile(file);\n\n        // Register observers to listen for when the download is done or if it fails\n        uploadTask.addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception exception) {\n                Log.d(&quot;File Upload failed&quot;, &quot;onFailure: &quot;+exception);\n                Toast.makeText(MainActivity.this, &quot;File Upload Failed...&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                // taskSnapshot.getMetadata() contains file metadata such as size, content-type, etc.\n                // ...\n                Toast.makeText(MainActivity.this, &quot;File Uploaded..&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n    }\n</code></pre>\n<p><strong>Logs</strong></p>\n<pre><code>An unknown error occurred, please check the HTTP result code and inner exception for server response.\n                             Code: -13000 HttpResult: 0\nStorageException         E  /storage/emulated/0/Download/mypdf.pdf: open failed: EACCES (Permission denied)\n                            java.io.FileNotFoundException: /storage/emulated/0/Download/mypdf.pdf: open failed: EACCES (Permission denied)\n                                at libcore.io.IoBridge.open(IoBridge.java:492)\n                                at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)\n                                at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:115)\n                                at android.content.ContentResolver.openInputStream(ContentResolver.java:1484)\n                                at com.google.firebase.storage.UploadTask.&lt;init&gt;(UploadTask.java:152)\n                                at com.google.firebase.storage.StorageReference.putFile(StorageReference.java:241)\n                                at com.example.firebaseupload.MainActivity.uploadFileFromFirebaseTut(MainActivity.java:84)\n                                at com.example.firebaseupload.MainActivity.onCreate(MainActivity.java:55)\n                                at android.app.Activity.performCreate(Activity.java:8153)\n                                at android.app.Activity.performCreate(Activity.java:8137)\n                                at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1310)\n                                at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3698)\n                                at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3896)\n                                at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n                                at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:140)\n                                at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:100)\n                                at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2326)\n                                at android.os.Handler.dispatchMessage(Handler.java:106)\n                                at android.os.Looper.loop(Looper.java:263)\n                                at android.app.ActivityThread.main(ActivityThread.java:8296)\n                                at java.lang.reflect.Method.invoke(Native Method)\n                                at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\n                                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)\n                            Caused by: android.system.ErrnoException: open failed: EACCES (Permission denied)\n                                at libcore.io.Linux.open(Native Method)\n                                at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\n                                at libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\n                                at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\n                                at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:8178)\n                                at libcore.io.IoBridge.open(IoBridge.java:478)\n                                at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160) \n                                at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:115) \n                                at android.content.ContentResolver.openInputStream(ContentResolver.java:1484) \n                                at com.google.firebase.storage.UploadTask.&lt;init&gt;(UploadTask.java:152) \n                                at com.google.firebase.storage.StorageReference.putFile(StorageReference.java:241) \n                                at com.example.firebaseupload.MainActivity.uploadFileFromFirebaseTut(MainActivity.java:84) \n                                at com.example.firebaseupload.MainActivity.onCreate(MainActivity.java:55) \n                                at android.app.Activity.performCreate(Activity.java:8153) \n                                at android.app.Activity.performCreate(Activity.java:8137) \n                                at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1310) \n                                at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3698) \n                                at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3896) \n                                at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) \n                                at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:140) \n                                at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:100) \n                                at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2326) \n                                at android.os.Handler.dispatchMessage(Handler.java:106) \n                                at android.os.Looper.loop(Looper.java:263) \n                                at android.app.ActivityThread.main(ActivityThread.java:8296) \n                                at java.lang.reflect.Method.invoke(Native Method) \n                                at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612) \n                                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006) \nStorageException         E  StorageException has occurred.\n\n</code></pre>\n<p><strong>Manifest have these mentions</strong></p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n\n</code></pre>\n"},{"tags":["java","macos","activemq"],"answers":[{"comments":[{"owner":{"account_id":28010,"reputation":32017,"user_id":74389,"accept_rate":71,"display_name":"brad"},"score":0,"creation_date":1246299118,"post_id":1059203,"comment_id":871518,"body_markdown":"ya i can see that it doesn&#39;t recognize log4j.  I don&#39;t understand that though because log4j is within the lib/optional directory in the activemq dir.  And activemq is setting it&#39;s own ACTIVEMQ_CLASSPATH variable.  What&#39;s the point of including it in the download if it doesn&#39;t load it?  Or, could there be some conflict on my machine?  I don&#39;t know how I even check to see what jar it&#39;s getting. or if it&#39;s getting one at all","body":"ya i can see that it doesn&#39;t recognize log4j.  I don&#39;t understand that though because log4j is within the lib/optional directory in the activemq dir.  And activemq is setting it&#39;s own ACTIVEMQ_CLASSPATH variable.  What&#39;s the point of including it in the download if it doesn&#39;t load it?  Or, could there be some conflict on my machine?  I don&#39;t know how I even check to see what jar it&#39;s getting. or if it&#39;s getting one at all"}],"tags":[],"owner":{"account_id":27671,"reputation":15568,"user_id":73274,"accept_rate":100,"display_name":"Paul Morie"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1246299444,"creation_date":1246292562,"answer_id":1059203,"question_id":1059180,"body_markdown":"This looks like the exception is being caused by a `NoClassDefFoundError` for `org.apache.log4j.Category`.  You should make sure that the `log4j` jar is on the classpath.\r\n\r\n**Edit:** Is there any way that you can inspect the value of the `ACTIVEMQ_CLASSPATH` variable?  If you&#39;re invoking this through a script that is setting the variable, you might need to dig into the script to make sure it&#39;s adding all the directories you think it is to the classpath.  ","title":"ActiveMQ: No suitable Log constructor","body":"<p>This looks like the exception is being caused by a <code>NoClassDefFoundError</code> for <code>org.apache.log4j.Category</code>.  You should make sure that the <code>log4j</code> jar is on the classpath.</p>\n\n<p><strong>Edit:</strong> Is there any way that you can inspect the value of the <code>ACTIVEMQ_CLASSPATH</code> variable?  If you're invoking this through a script that is setting the variable, you might need to dig into the script to make sure it's adding all the directories you think it is to the classpath.  </p>\n"},{"comments":[{"owner":{"account_id":2798671,"reputation":1041,"user_id":2407369,"accept_rate":83,"display_name":"Victor"},"score":0,"creation_date":1566216186,"post_id":1059717,"comment_id":101574339,"body_markdown":"Is there a clear way of finding out if it is a conflict or a missing jar case?","body":"Is there a clear way of finding out if it is a conflict or a missing jar case?"}],"tags":[],"owner":{"account_id":28010,"reputation":32017,"user_id":74389,"accept_rate":71,"display_name":"brad"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1246299792,"creation_date":1246299792,"answer_id":1059717,"question_id":1059180,"body_markdown":"So, it was definitely a conflict with another log4j jar file.  I think it&#39;s probably my eclipse plugin log4j that was conflicting.  When i delete the log4j from activemq lib/optional it works.","title":"ActiveMQ: No suitable Log constructor","body":"<p>So, it was definitely a conflict with another log4j jar file.  I think it's probably my eclipse plugin log4j that was conflicting.  When i delete the log4j from activemq lib/optional it works.</p>\n"}],"owner":{"account_id":28010,"reputation":32017,"user_id":74389,"accept_rate":71,"display_name":"brad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6793,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":1059717,"answer_count":2,"score":1,"last_activity_date":1670708027,"creation_date":1246292265,"question_id":1059180,"body_markdown":"I&#39;m trying to run ActiveMQ on Mac OSX 10.5.7. I have Java version 1.5.0_19 and ActiveMQ 5.2.0. Below is the exception I get when running `bin/activemq`. It seems to be unable to find Log4j which is odd considering it comes with ActiveMQ and is definitely in the `lib/optional` directory. The only thing I can think of is that I have a conflict somewhere, but I can&#39;t imagine how this is possible. If anyone has any tips whatsoever I&#39;m all ears. Googling produced almost no results with the same error, and the one person who has the exact error doesn&#39;t have a solution.\r\n```\r\nbrad-robertsons-macbook-pro:apache-activemq-5.2.0\r\nbradrobertson$ ./bin/activemq\r\nACTIVEMQ_HOME: /Users/bradrobertson/Java/apache-activemq-5.2.0\r\nACTIVEMQ_BASE: /Users/bradrobertson/Java/apache-activemq-5.2.0\r\nLoading message broker from: xbean:activemq.xml\r\nERROR: java.lang.RuntimeException: Failed to execute start task. Reason: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError java.lang.RuntimeException: Failed to execute start task. Reason: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError\r\n  at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:98)\r\n  at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\r\n  at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:129)\r\n  at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\r\n  at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:79)\r\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n  at java.lang.reflect.Method.invoke(Method.java:585)\r\n  at org.apache.activemq.console.Main.runTaskClass(Main.java:225)\r\n  at org.apache.activemq.console.Main.main(Main.java:106)\r\nCaused by: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError\r\n  at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:27)\r\n  at org.apache.activemq.broker.BrokerFactory.createBrokerFactoryHandler(BrokerFactory.java:43)\r\n  at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:70)\r\n  at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)\r\n  at org.apache.activemq.console.command.StartCommand.startBroker(StartCommand.java:115)\r\n  at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:74)\r\n  ... 10 more\r\nCaused by: java.lang.ExceptionInInitializerError\r\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n  at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n  at java.lang.reflect.Constructor.newInstance(Constructor.java:494)\r\n  at java.lang.Class.newInstance0(Class.java:350)\r\n  at java.lang.Class.newInstance(Class.java:303)\r\n  at org.apache.activemq.util.FactoryFinder.newInstance(FactoryFinder.java:55)\r\n  at org.apache.activemq.util.FactoryFinder.newInstance(FactoryFinder.java:42)\r\n  at org.apache.activemq.broker.BrokerFactory.createBrokerFactoryHandler(BrokerFactory.java:41)\r\n  ... 14 more\r\nCaused by: org.apache.commons.logging.LogConfigurationException: org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError:org/apache/log4j/Category) (Caused by org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category))\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:543)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:235)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:209)\r\n  at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:351)\r\n  at org.apache.activemq.xbean.XBeanBrokerFactory.&lt;clinit(XBeanBrokerFactory.java:43)\r\n  ... 23 more\r\nCaused by: org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:413)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:529)\r\n  ... 27 more\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/log4j/Category\r\n  at java.lang.Class.getDeclaredConstructors0(Native Method)\r\n  at java.lang.Class.privateGetDeclaredConstructors(Class.java:2357)\r\n  at java.lang.Class.getConstructor0(Class.java:2671)\r\n  at java.lang.Class.getConstructor(Class.java:1629)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:410)\r\n  ... 28 more\r\nERROR: java.lang.Exception: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError java.lang.Exception: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError\r\n  at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:99)\r\n  at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\r\n  at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:129)\r\n  at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\r\n  at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:79)\r\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n  at java.lang.reflect.Method.invoke(Method.java:585)\r\n  at org.apache.activemq.console.Main.runTaskClass(Main.java:225)\r\n  at org.apache.activemq.console.Main.main(Main.java:106)\r\nCaused by: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError\r\n  at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:27)\r\n  at org.apache.activemq.broker.BrokerFactory.createBrokerFactoryHandler(BrokerFactory.java:43)\r\n  at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:70)\r\n  at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)\r\n  at org.apache.activemq.console.command.StartCommand.startBroker(StartCommand.java:115)\r\n  at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:74)\r\n  ... 10 more\r\nCaused by: java.lang.ExceptionInInitializerError\r\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n  at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n  at java.lang.reflect.Constructor.newInstance(Constructor.java:494)\r\n  at java.lang.Class.newInstance0(Class.java:350)\r\n  at java.lang.Class.newInstance(Class.java:303)\r\n  at org.apache.activemq.util.FactoryFinder.newInstance(FactoryFinder.java:55)\r\n  at org.apache.activemq.util.FactoryFinder.newInstance(FactoryFinder.java:42)\r\n  at org.apache.activemq.broker.BrokerFactory.createBrokerFactoryHandler(BrokerFactory.java:41)\r\n  ... 14 more\r\nCaused by: org.apache.commons.logging.LogConfigurationException: org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category) (Caused by org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category))\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:543)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:235)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:209)\r\n  at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:351)\r\n  at org.apache.activemq.xbean.XBeanBrokerFactory.&lt;clinit(XBeanBrokerFactory.java:43)\r\n  ... 23 more\r\nCaused by: org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:413)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:529)\r\n  ... 27 more\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/log4j/Category\r\n  at java.lang.Class.getDeclaredConstructors0(Native Method)\r\n  at java.lang.Class.privateGetDeclaredConstructors(Class.java:2357)\r\n  at java.lang.Class.getConstructor0(Class.java:2671)\r\n  at java.lang.Class.getConstructor(Class.java:1629)\r\n  at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:410)\r\n  ... 28 more\r\n```","title":"ActiveMQ: No suitable Log constructor","body":"<p>I'm trying to run ActiveMQ on Mac OSX 10.5.7. I have Java version 1.5.0_19 and ActiveMQ 5.2.0. Below is the exception I get when running <code>bin/activemq</code>. It seems to be unable to find Log4j which is odd considering it comes with ActiveMQ and is definitely in the <code>lib/optional</code> directory. The only thing I can think of is that I have a conflict somewhere, but I can't imagine how this is possible. If anyone has any tips whatsoever I'm all ears. Googling produced almost no results with the same error, and the one person who has the exact error doesn't have a solution.</p>\n<pre><code>brad-robertsons-macbook-pro:apache-activemq-5.2.0\nbradrobertson$ ./bin/activemq\nACTIVEMQ_HOME: /Users/bradrobertson/Java/apache-activemq-5.2.0\nACTIVEMQ_BASE: /Users/bradrobertson/Java/apache-activemq-5.2.0\nLoading message broker from: xbean:activemq.xml\nERROR: java.lang.RuntimeException: Failed to execute start task. Reason: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError java.lang.RuntimeException: Failed to execute start task. Reason: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError\n  at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:98)\n  at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n  at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:129)\n  at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n  at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:79)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n  at java.lang.reflect.Method.invoke(Method.java:585)\n  at org.apache.activemq.console.Main.runTaskClass(Main.java:225)\n  at org.apache.activemq.console.Main.main(Main.java:106)\nCaused by: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError\n  at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:27)\n  at org.apache.activemq.broker.BrokerFactory.createBrokerFactoryHandler(BrokerFactory.java:43)\n  at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:70)\n  at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)\n  at org.apache.activemq.console.command.StartCommand.startBroker(StartCommand.java:115)\n  at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:74)\n  ... 10 more\nCaused by: java.lang.ExceptionInInitializerError\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n  at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n  at java.lang.reflect.Constructor.newInstance(Constructor.java:494)\n  at java.lang.Class.newInstance0(Class.java:350)\n  at java.lang.Class.newInstance(Class.java:303)\n  at org.apache.activemq.util.FactoryFinder.newInstance(FactoryFinder.java:55)\n  at org.apache.activemq.util.FactoryFinder.newInstance(FactoryFinder.java:42)\n  at org.apache.activemq.broker.BrokerFactory.createBrokerFactoryHandler(BrokerFactory.java:41)\n  ... 14 more\nCaused by: org.apache.commons.logging.LogConfigurationException: org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError:org/apache/log4j/Category) (Caused by org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category))\n  at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:543)\n  at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:235)\n  at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:209)\n  at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:351)\n  at org.apache.activemq.xbean.XBeanBrokerFactory.&lt;clinit(XBeanBrokerFactory.java:43)\n  ... 23 more\nCaused by: org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category)\n  at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:413)\n  at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:529)\n  ... 27 more\nCaused by: java.lang.NoClassDefFoundError: org/apache/log4j/Category\n  at java.lang.Class.getDeclaredConstructors0(Native Method)\n  at java.lang.Class.privateGetDeclaredConstructors(Class.java:2357)\n  at java.lang.Class.getConstructor0(Class.java:2671)\n  at java.lang.Class.getConstructor(Class.java:1629)\n  at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:410)\n  ... 28 more\nERROR: java.lang.Exception: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError java.lang.Exception: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError\n  at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:99)\n  at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n  at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:129)\n  at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)\n  at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:79)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n  at java.lang.reflect.Method.invoke(Method.java:585)\n  at org.apache.activemq.console.Main.runTaskClass(Main.java:225)\n  at org.apache.activemq.console.Main.main(Main.java:106)\nCaused by: java.io.IOException: Could not load xbean factory:java.lang.ExceptionInInitializerError\n  at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:27)\n  at org.apache.activemq.broker.BrokerFactory.createBrokerFactoryHandler(BrokerFactory.java:43)\n  at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:70)\n  at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)\n  at org.apache.activemq.console.command.StartCommand.startBroker(StartCommand.java:115)\n  at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:74)\n  ... 10 more\nCaused by: java.lang.ExceptionInInitializerError\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n  at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n  at java.lang.reflect.Constructor.newInstance(Constructor.java:494)\n  at java.lang.Class.newInstance0(Class.java:350)\n  at java.lang.Class.newInstance(Class.java:303)\n  at org.apache.activemq.util.FactoryFinder.newInstance(FactoryFinder.java:55)\n  at org.apache.activemq.util.FactoryFinder.newInstance(FactoryFinder.java:42)\n  at org.apache.activemq.broker.BrokerFactory.createBrokerFactoryHandler(BrokerFactory.java:41)\n  ... 14 more\nCaused by: org.apache.commons.logging.LogConfigurationException: org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category) (Caused by org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category))\n  at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:543)\n  at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:235)\n  at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:209)\n  at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:351)\n  at org.apache.activemq.xbean.XBeanBrokerFactory.&lt;clinit(XBeanBrokerFactory.java:43)\n  ... 23 more\nCaused by: org.apache.commons.logging.LogConfigurationException: No suitable Log constructor [Ljava.lang.Class;@abcc03 for org.apache.commons.logging.impl.Log4JLogger (Caused by java.lang.NoClassDefFoundError: org/apache/log4j/Category)\n  at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:413)\n  at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:529)\n  ... 27 more\nCaused by: java.lang.NoClassDefFoundError: org/apache/log4j/Category\n  at java.lang.Class.getDeclaredConstructors0(Native Method)\n  at java.lang.Class.privateGetDeclaredConstructors(Class.java:2357)\n  at java.lang.Class.getConstructor0(Class.java:2671)\n  at java.lang.Class.getConstructor(Class.java:1629)\n  at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:410)\n  ... 28 more\n</code></pre>\n"},{"tags":["java","prometheus","grafana","metrics","prometheus-java"],"comments":[{"owner":{"account_id":11159178,"reputation":1652,"user_id":8189903,"display_name":"star67"},"score":0,"creation_date":1670314528,"post_id":74699087,"comment_id":131841687,"body_markdown":"did you check the recording rues?https://prometheus.io/docs/prometheus/latest/configuration/recording_rules/#recording-rules","body":"did you check the recording rues?<a href=\"https://prometheus.io/docs/prometheus/latest/configuration/recording_rules/#recording-rules\" rel=\"nofollow noreferrer\">prometheus.io/docs/prometheus/latest/configuration/&hellip;</a>"},{"owner":{"account_id":23087624,"reputation":25,"user_id":17198927,"display_name":"userdr725"},"score":0,"creation_date":1670327628,"post_id":74699087,"comment_id":131846113,"body_markdown":"@star67, According to recording rules, it seems like its some sort of a cache for frequently used computations on queries , but how will those results will be further sent to Grafana after computation? Are the picked up from the rules files or what ?","body":"@star67, According to recording rules, it seems like its some sort of a cache for frequently used computations on queries , but how will those results will be further sent to Grafana after computation? Are the picked up from the rules files or what ?"},{"owner":{"account_id":11159178,"reputation":1652,"user_id":8189903,"display_name":"star67"},"score":0,"creation_date":1670328068,"post_id":74699087,"comment_id":131846251,"body_markdown":"they would be stored in Prometheus as regular metrics, and Grafana would pick then up the same way as any other metrics. Pls check &amp; upvote (if it&#39;s useful) this answer\nhttps://stackoverflow.com/questions/74605310/gcp-recommendations-for-reducing-time-series-samples-gmp/74641661#74641661.\n\nThere&#39;re some Google-Managed-Prometheus&#39; specifics but still general enough","body":"they would be stored in Prometheus as regular metrics, and Grafana would pick then up the same way as any other metrics. Pls check &amp; upvote (if it&#39;s useful) this answer <a href=\"https://stackoverflow.com/questions/74605310/gcp-recommendations-for-reducing-time-series-samples-gmp/74641661#74641661\" title=\"gcp recommendations for reducing time series samples gmp\">stackoverflow.com/questions/74605310/&hellip;</a>.  There&#39;re some Google-Managed-Prometheus&#39; specifics but still general enough"}],"owner":{"account_id":23087624,"reputation":25,"user_id":17198927,"display_name":"userdr725"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670707056,"creation_date":1670313598,"question_id":74699087,"body_markdown":"I am working with creating metrics using Pushgateway+Prometheus. Question is that prometheus received metrics along with labels, In Prometheus query language we make use of many operators or inbuilt functions such as increase(), rate(), sort() . These are used in querying the data incoming . Now, i apply these functions and query my incoming data (metrics), can the results of my queries be stored somewhere and further sent to GRAFANA(or any where for that matter). Or these functions can just be used for querying and viewing results in prometheus interface only. Does prometheus have any kind of inbuilt support for my requirement?\r\n\r\nAlso, I suppose We can use Prometheus functions directly in Grafana and create queries in Grafana to meet the above requirement? Please correct me and provide insights.","title":"Can Prometheus Queries be stored and the results be sent further to Grafana?","body":"<p>I am working with creating metrics using Pushgateway+Prometheus. Question is that prometheus received metrics along with labels, In Prometheus query language we make use of many operators or inbuilt functions such as increase(), rate(), sort() . These are used in querying the data incoming . Now, i apply these functions and query my incoming data (metrics), can the results of my queries be stored somewhere and further sent to GRAFANA(or any where for that matter). Or these functions can just be used for querying and viewing results in prometheus interface only. Does prometheus have any kind of inbuilt support for my requirement?</p>\n<p>Also, I suppose We can use Prometheus functions directly in Grafana and create queries in Grafana to meet the above requirement? Please correct me and provide insights.</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":169062,"reputation":8025,"user_id":394933,"accept_rate":86,"display_name":"Brian"},"score":0,"creation_date":1313828331,"post_id":7130619,"comment_id":8547476,"body_markdown":"Can you be a bit more specific in terms of what you&#39;re trying to achieve overall?","body":"Can you be a bit more specific in terms of what you&#39;re trying to achieve overall?"}],"answers":[{"comments":[{"owner":{"account_id":80485,"reputation":17838,"user_id":227578,"display_name":"dule"},"score":22,"creation_date":1333135998,"post_id":7130661,"comment_id":12704652,"body_markdown":"Also, depending how you use your resource string, you may need to put the bold/italic tags in a CDATA block so they don&#39;t get parsed until it&#39;s used by `Html.fromHtml()`: ... `&lt;![CDATA[&lt;b&gt;&lt;i&gt;so&lt;/i&gt;&lt;/b&gt;]]&gt;` ...","body":"Also, depending how you use your resource string, you may need to put the bold/italic tags in a CDATA block so they don&#39;t get parsed until it&#39;s used by <code>Html.fromHtml()</code>: ... <code>&lt;![CDATA[&lt;b&gt;&lt;i&gt;so&lt;&#47;i&gt;&lt;&#47;b&gt;]]&gt;</code> ..."},{"owner":{"account_id":3098,"reputation":6938,"user_id":4397,"accept_rate":89,"display_name":"andygeers"},"score":176,"creation_date":1433852103,"post_id":7130661,"comment_id":49519519,"body_markdown":"For anybody else who found the official Android documentation a bit too vague on this: if you use tags like &lt;b&gt; in your string resource, make sure you retrieve it using `getText(R.string.whatever)` rather than `getString(R.string.whatever)`","body":"For anybody else who found the official Android documentation a bit too vague on this: if you use tags like &lt;b&gt; in your string resource, make sure you retrieve it using <code>getText(R.string.whatever)</code> rather than <code>getString(R.string.whatever)</code>"},{"owner":{"account_id":1709149,"reputation":5779,"user_id":1567541,"accept_rate":83,"display_name":"Hendra Anggrian"},"score":1,"creation_date":1456262643,"post_id":7130661,"comment_id":58863246,"body_markdown":"isn&#39;t it supposed to be `name` instead of `id`?","body":"isn&#39;t it supposed to be <code>name</code> instead of <code>id</code>?"},{"owner":{"account_id":3627323,"reputation":3688,"user_id":3024565,"accept_rate":80,"display_name":"Ishaan"},"score":0,"creation_date":1472218111,"post_id":7130661,"comment_id":65677235,"body_markdown":"No Hendra, it should be name not id.","body":"No Hendra, it should be name not id."},{"owner":{"account_id":484608,"reputation":5021,"user_id":900394,"accept_rate":63,"display_name":"Alaa M."},"score":9,"creation_date":1480537034,"post_id":7130661,"comment_id":69008506,"body_markdown":"So no need for `Html.fromHtml` or `Spannable`. Just use `getText(R.string.whatever)` like @andygeers mentioned.","body":"So no need for <code>Html.fromHtml</code> or <code>Spannable</code>. Just use <code>getText(R.string.whatever)</code> like @andygeers mentioned."},{"owner":{"account_id":4341785,"reputation":12857,"user_id":3544839,"accept_rate":62,"display_name":"Moinkhan"},"score":1,"creation_date":1556191318,"post_id":7130661,"comment_id":98358140,"body_markdown":"@andygeers `getText ` from Java file. How to do it If we are using it in layout xml?","body":"@andygeers <code>getText </code> from Java file. How to do it If we are using it in layout xml?"},{"owner":{"account_id":4310939,"reputation":547,"user_id":3522005,"accept_rate":73,"display_name":"Taylor"},"score":6,"creation_date":1579724482,"post_id":7130661,"comment_id":105866199,"body_markdown":"@andygeers What can we do for a string like &quot;My name is &lt;b&gt;%s&lt;/b&gt;&quot; which cannot use getText as it only accepts a single parameter?","body":"@andygeers What can we do for a string like &quot;My name is &lt;b&gt;%s&lt;/b&gt;&quot; which cannot use getText as it only accepts a single parameter?"},{"owner":{"account_id":106654,"reputation":4139,"user_id":3941732,"accept_rate":80,"display_name":"NguyenDat"},"score":0,"creation_date":1585210896,"post_id":7130661,"comment_id":107683170,"body_markdown":"Taylor, you can refer answer of Saga chorage, It worked with place holder text","body":"Taylor, you can refer answer of Saga chorage, It worked with place holder text"},{"owner":{"account_id":12980394,"reputation":1079,"user_id":11456044,"display_name":"Ariel"},"score":0,"creation_date":1610396326,"post_id":7130661,"comment_id":116115025,"body_markdown":"In this answer, &lt;b&gt;&lt;/b&gt; tag stands for Bold, and &lt;i&gt;&lt;/i&gt; for Italic, so if someone just want bold words only needs to use the first tag","body":"In this answer, &lt;b&gt;&lt;/b&gt; tag stands for Bold, and &lt;i&gt;&lt;/i&gt; for Italic, so if someone just want bold words only needs to use the first tag"},{"owner":{"account_id":9335977,"reputation":350,"user_id":9543418,"display_name":"Muhammed Haris"},"score":3,"creation_date":1613638044,"post_id":7130661,"comment_id":117138049,"body_markdown":"still, I&#39;m facing an issue,\nusing %1$s between string inside the String.xml file. getString(v1, v2) can&#39;t replace with getText(v1, v2)","body":"still, I&#39;m facing an issue, using %1$s between string inside the String.xml file. getString(v1, v2) can&#39;t replace with getText(v1, v2)"},{"owner":{"account_id":9335977,"reputation":350,"user_id":9543418,"display_name":"Muhammed Haris"},"score":1,"creation_date":1613645206,"post_id":7130661,"comment_id":117141475,"body_markdown":"@Taylor we have a solution:\n &lt;string name=&quot;styled_welcome_message&quot;&gt;&lt;![CDATA[We are &lt;b&gt; %1$s &lt;/b&gt;  glad to see you.]]&gt;&lt;/string&gt;\n\ninside class:\ntextView?.setText(HtmlCompat.fromHtml(getString(R.string.styled_welcome_message, &quot;sample&quot;), HtmlCompat.FROM_HTML_MODE_LEGACY), TextView.BufferType.SPANNABLE)","body":"@Taylor we have a solution:  &lt;string name=&quot;styled_welcome_message&quot;&gt;&lt;![CDATA[We are &lt;b&gt; %1$s &lt;/b&gt;  glad to see you.]]&gt;&lt;/string&gt;  inside class: textView?.setText(HtmlCompat.fromHtml(getString(R.string.sty&zwnj;&#8203;led_welcome_message, &quot;sample&quot;), HtmlCompat.FROM_HTML_MODE_LEGACY), TextView.BufferType.SPANNABLE)"}],"tags":[],"owner":{"account_id":437303,"reputation":8115,"user_id":824914,"display_name":"David Olsson"},"comment_count":11,"down_vote_count":6,"up_vote_count":263,"is_accepted":true,"score":257,"last_activity_date":1465299983,"creation_date":1313828693,"answer_id":7130661,"question_id":7130619,"body_markdown":"\r\n  [1]: http://developer.android.com/resources/faq/commontasks.html#selectingtext\r\n\r\nYou could basically use html tags in your string resource like: \r\n\r\n    &lt;resource&gt;\r\n        &lt;string name=&quot;styled_welcome_message&quot;&gt;We are &lt;b&gt;&lt;i&gt;so&lt;/i&gt;&lt;/b&gt; glad to see you.&lt;/string&gt;\r\n    &lt;/resources&gt;\r\nAnd use Html.fromHtml or use spannable, check the link I posted. \r\n\r\nOld similar question: https://stackoverflow.com/questions/1529068/is-it-possible-to-have-multiple-styles-inside-a-textview","title":"Bold words in a string of strings.xml in Android","body":"<p>You could basically use html tags in your string resource like: </p>\n\n<pre><code>&lt;resource&gt;\n    &lt;string name=\"styled_welcome_message\"&gt;We are &lt;b&gt;&lt;i&gt;so&lt;/i&gt;&lt;/b&gt; glad to see you.&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>And use Html.fromHtml or use spannable, check the link I posted. </p>\n\n<p>Old similar question: <a href=\"https://stackoverflow.com/questions/1529068/is-it-possible-to-have-multiple-styles-inside-a-textview\">Is it possible to have multiple styles inside a TextView?</a></p>\n"},{"comments":[{"owner":{"account_id":11543144,"reputation":277,"user_id":8458132,"display_name":"Sup.Ia"},"score":0,"creation_date":1557915075,"post_id":46154445,"comment_id":98923123,"body_markdown":"it is the best answer and it totally works for the people that use @BindingAdapter . Thank you, brother.","body":"it is the best answer and it totally works for the people that use @BindingAdapter . Thank you, brother."},{"owner":{"account_id":5816596,"reputation":1528,"user_id":4586030,"accept_rate":100,"display_name":"abd3lraouf"},"score":0,"creation_date":1638097652,"post_id":46154445,"comment_id":123992058,"body_markdown":"it also solves containing styles around params to the string itself +1","body":"it also solves containing styles around params to the string itself +1"}],"tags":[],"owner":{"account_id":9486451,"reputation":1470,"user_id":7052710,"display_name":"Sagar Chorage"},"comment_count":2,"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1505128690,"creation_date":1505128690,"answer_id":46154445,"question_id":7130619,"body_markdown":"Use html tag inside string resources :- \r\n\r\n    &lt;resources&gt;\r\n    &lt;string name=&quot;string_resource_name&quot;&gt;&lt;![CDATA[&lt;b&gt; Your text &lt;/b&gt;]]&gt; &lt;/string&gt;\r\n    &lt;/resources&gt;\r\n\r\nAnd get bold text from string resources like :-\r\n\r\n    private Spanned getSpannedText(String text) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                return Html.fromHtml(text, Html.FROM_HTML_MODE_COMPACT);\r\n            } else {\r\n                return Html.fromHtml(text);\r\n            }\r\n        }\r\n\r\n\r\n     String s = format(context.getResources().getString(R.string.string_resource_name));\r\n     textView.setText(getSpannedText(s));\r\n","title":"Bold words in a string of strings.xml in Android","body":"<p>Use html tag inside string resources :- </p>\n\n<pre><code>&lt;resources&gt;\n&lt;string name=\"string_resource_name\"&gt;&lt;![CDATA[&lt;b&gt; Your text &lt;/b&gt;]]&gt; &lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>And get bold text from string resources like :-</p>\n\n<pre><code>private Spanned getSpannedText(String text) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            return Html.fromHtml(text, Html.FROM_HTML_MODE_COMPACT);\n        } else {\n            return Html.fromHtml(text);\n        }\n    }\n\n\n String s = format(context.getResources().getString(R.string.string_resource_name));\n textView.setText(getSpannedText(s));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5770153,"reputation":1987,"user_id":4553806,"display_name":"Tigran Babajanyan"},"score":1,"creation_date":1540973644,"post_id":47432876,"comment_id":93055181,"body_markdown":"getText returns CharSequence not a Spannable","body":"getText returns CharSequence not a Spannable"},{"owner":{"account_id":4310939,"reputation":547,"user_id":3522005,"accept_rate":73,"display_name":"Taylor"},"score":1,"creation_date":1579724701,"post_id":47432876,"comment_id":105866292,"body_markdown":"What if your string is a quantity that you need to add a number to?","body":"What if your string is a quantity that you need to add a number to?"},{"owner":{"account_id":3759600,"reputation":2348,"user_id":3125020,"accept_rate":53,"display_name":"Vincent Paing"},"score":1,"creation_date":1591346146,"post_id":47432876,"comment_id":110026123,"body_markdown":"getText doesn&#39;t allow you to use placeholders","body":"getText doesn&#39;t allow you to use placeholders"}],"tags":[],"owner":{"account_id":3098,"reputation":6938,"user_id":4397,"accept_rate":89,"display_name":"andygeers"},"comment_count":3,"down_vote_count":1,"up_vote_count":52,"is_accepted":false,"score":51,"last_activity_date":1541005868,"creation_date":1511348036,"answer_id":47432876,"question_id":7130619,"body_markdown":"As David Olsson has said, you can use HTML in your string resources:\r\n\r\n    &lt;resource&gt;\r\n        &lt;string name=&quot;my_string&quot;&gt;A string with &lt;i&gt;actual&lt;/i&gt; &lt;b&gt;formatting&lt;/b&gt;!&lt;/string&gt;\r\n    &lt;/resources&gt;\r\n\r\nThen if you use `getText(R.string.my_string)` rather than `getString(R.string.my_string)` you get back a `CharSequence` rather than a `String` that contains the formatting embedded.","title":"Bold words in a string of strings.xml in Android","body":"<p>As David Olsson has said, you can use HTML in your string resources:</p>\n\n<pre><code>&lt;resource&gt;\n    &lt;string name=\"my_string\"&gt;A string with &lt;i&gt;actual&lt;/i&gt; &lt;b&gt;formatting&lt;/b&gt;!&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>Then if you use <code>getText(R.string.my_string)</code> rather than <code>getString(R.string.my_string)</code> you get back a <code>CharSequence</code> rather than a <code>String</code> that contains the formatting embedded.</p>\n"},{"tags":[],"owner":{"account_id":3730291,"reputation":1633,"user_id":3102913,"accept_rate":33,"display_name":"pavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543210739,"creation_date":1543210739,"answer_id":53475276,"question_id":7130619,"body_markdown":"You can do it from string \r\n\r\n     &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n     &lt;string name=&quot;total_review&quot;&gt;&lt;b&gt;Total Review: &lt;/b&gt; &lt;/string&gt;\r\n\r\n     &lt;/resources&gt;\r\nand can access it from the java code like \r\n\r\n    proDuctReviewNumber.setText(getResources().getString(R.string.total_review)+productDetailsSuccess.getProductTotalReview());\r\n\r\n","title":"Bold words in a string of strings.xml in Android","body":"<p>You can do it from string </p>\n\n<pre><code> &lt;resources xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n &lt;string name=\"total_review\"&gt;&lt;b&gt;Total Review: &lt;/b&gt; &lt;/string&gt;\n\n &lt;/resources&gt;\n</code></pre>\n\n<p>and can access it from the java code like </p>\n\n<pre><code>proDuctReviewNumber.setText(getResources().getString(R.string.total_review)+productDetailsSuccess.getProductTotalReview());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6246406,"reputation":3972,"user_id":4858147,"accept_rate":70,"display_name":"svkaka"},"score":0,"creation_date":1580074791,"post_id":56904208,"comment_id":105969168,"body_markdown":"@Himanshu Mori some snippet would help. Are you using it in kotlin class?","body":"@Himanshu Mori some snippet would help. Are you using it in kotlin class?"},{"owner":{"account_id":7705986,"reputation":3100,"user_id":5836953,"accept_rate":58,"display_name":"Farshad"},"score":3,"creation_date":1580820570,"post_id":56904208,"comment_id":106216779,"body_markdown":"Activity extensions are not necessary, Activity is Context itself","body":"Activity extensions are not necessary, Activity is Context itself"}],"tags":[],"owner":{"account_id":6246406,"reputation":3972,"user_id":4858147,"accept_rate":70,"display_name":"svkaka"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1562334020,"creation_date":1562334020,"answer_id":56904208,"question_id":7130619,"body_markdown":"In kotlin, you can create extensions functions on resources (activities|fragments |context) that will convert your string to an html span\r\n\r\ne.g.\r\n\r\n\r\n    fun Resources.getHtmlSpannedString(@StringRes id: Int): Spanned = getString(id).toHtmlSpan()\r\n    \r\n    fun Resources.getHtmlSpannedString(@StringRes id: Int, vararg formatArgs: Any): Spanned = getString(id, *formatArgs).toHtmlSpan()\r\n    \r\n    fun Resources.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int): Spanned = getQuantityString(id, quantity).toHtmlSpan()\r\n\r\n    fun Resources.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int, vararg formatArgs: Any): Spanned = getQuantityString(id, quantity, *formatArgs).toHtmlSpan()\r\n    \r\n    fun String.toHtmlSpan(): Spanned = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n        Html.fromHtml(this, Html.FROM_HTML_MODE_LEGACY)\r\n    } else {\r\n        Html.fromHtml(this)\r\n    }\r\n\r\n**Usage**\r\n\r\n    //your strings.xml\r\n    &lt;string name=&quot;greeting&quot;&gt;&lt;![CDATA[&lt;b&gt;Hello %s!&lt;/b&gt;&lt;br&gt;]]&gt;This is newline&lt;/string&gt;\r\n\r\n    //in your fragment or activity\r\n    resources.getHtmlSpannedString(R.string.greeting, &quot;World&quot;)\r\n\r\n**EDIT even more extensions**\r\n\r\n    fun Context.getHtmlSpannedString(@StringRes id: Int): Spanned = getString(id).toHtmlSpan()\r\n    \r\n    fun Context.getHtmlSpannedString(@StringRes id: Int, vararg formatArgs: Any): Spanned = getString(id, *formatArgs).toHtmlSpan()\r\n    \r\n    fun Context.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int): Spanned = resources.getQuantityString(id, quantity).toHtmlSpan()\r\n    \r\n    fun Context.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int, vararg formatArgs: Any): Spanned = resources.getQuantityString(id, quantity, *formatArgs).toHtmlSpan()\r\n    \r\n    \r\n    fun Activity.getHtmlSpannedString(@StringRes id: Int): Spanned = getString(id).toHtmlSpan()\r\n    \r\n    fun Activity.getHtmlSpannedString(@StringRes id: Int, vararg formatArgs: Any): Spanned = getString(id, *formatArgs).toHtmlSpan()\r\n    \r\n    fun Activity.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int): Spanned = resources.getQuantityString(id, quantity).toHtmlSpan()\r\n    \r\n    fun Activity.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int, vararg formatArgs: Any): Spanned = resources.getQuantityString(id, quantity, *formatArgs).toHtmlSpan()\r\n    \r\n    \r\n    fun Fragment.getHtmlSpannedString(@StringRes id: Int): Spanned = getString(id).toHtmlSpan()\r\n    \r\n    fun Fragment.getHtmlSpannedString(@StringRes id: Int, vararg formatArgs: Any): Spanned = getString(id, *formatArgs).toHtmlSpan()\r\n    \r\n    fun Fragment.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int): Spanned = resources.getQuantityString(id, quantity).toHtmlSpan()\r\n    \r\n    fun Fragment.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int, vararg formatArgs: Any): Spanned = resources.getQuantityString(id, quantity, *formatArgs).toHtmlSpan()\r\n\r\n\r\n","title":"Bold words in a string of strings.xml in Android","body":"<p>In kotlin, you can create extensions functions on resources (activities|fragments |context) that will convert your string to an html span</p>\n\n<p>e.g.</p>\n\n<pre><code>fun Resources.getHtmlSpannedString(@StringRes id: Int): Spanned = getString(id).toHtmlSpan()\n\nfun Resources.getHtmlSpannedString(@StringRes id: Int, vararg formatArgs: Any): Spanned = getString(id, *formatArgs).toHtmlSpan()\n\nfun Resources.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int): Spanned = getQuantityString(id, quantity).toHtmlSpan()\n\nfun Resources.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int, vararg formatArgs: Any): Spanned = getQuantityString(id, quantity, *formatArgs).toHtmlSpan()\n\nfun String.toHtmlSpan(): Spanned = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n    Html.fromHtml(this, Html.FROM_HTML_MODE_LEGACY)\n} else {\n    Html.fromHtml(this)\n}\n</code></pre>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>//your strings.xml\n&lt;string name=\"greeting\"&gt;&lt;![CDATA[&lt;b&gt;Hello %s!&lt;/b&gt;&lt;br&gt;]]&gt;This is newline&lt;/string&gt;\n\n//in your fragment or activity\nresources.getHtmlSpannedString(R.string.greeting, \"World\")\n</code></pre>\n\n<p><strong>EDIT even more extensions</strong></p>\n\n<pre><code>fun Context.getHtmlSpannedString(@StringRes id: Int): Spanned = getString(id).toHtmlSpan()\n\nfun Context.getHtmlSpannedString(@StringRes id: Int, vararg formatArgs: Any): Spanned = getString(id, *formatArgs).toHtmlSpan()\n\nfun Context.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int): Spanned = resources.getQuantityString(id, quantity).toHtmlSpan()\n\nfun Context.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int, vararg formatArgs: Any): Spanned = resources.getQuantityString(id, quantity, *formatArgs).toHtmlSpan()\n\n\nfun Activity.getHtmlSpannedString(@StringRes id: Int): Spanned = getString(id).toHtmlSpan()\n\nfun Activity.getHtmlSpannedString(@StringRes id: Int, vararg formatArgs: Any): Spanned = getString(id, *formatArgs).toHtmlSpan()\n\nfun Activity.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int): Spanned = resources.getQuantityString(id, quantity).toHtmlSpan()\n\nfun Activity.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int, vararg formatArgs: Any): Spanned = resources.getQuantityString(id, quantity, *formatArgs).toHtmlSpan()\n\n\nfun Fragment.getHtmlSpannedString(@StringRes id: Int): Spanned = getString(id).toHtmlSpan()\n\nfun Fragment.getHtmlSpannedString(@StringRes id: Int, vararg formatArgs: Any): Spanned = getString(id, *formatArgs).toHtmlSpan()\n\nfun Fragment.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int): Spanned = resources.getQuantityString(id, quantity).toHtmlSpan()\n\nfun Fragment.getQuantityHtmlSpannedString(@PluralsRes id: Int, quantity: Int, vararg formatArgs: Any): Spanned = resources.getQuantityString(id, quantity, *formatArgs).toHtmlSpan()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8021052,"reputation":479,"user_id":6049708,"display_name":"Adrian Grygutis"},"score":1,"creation_date":1585724960,"post_id":59281328,"comment_id":107859202,"body_markdown":"You should use native functionality for passing parameters. Just place &quot;%1$s&quot; instead of &quot;{1}&quot;, and call getString(R.string.message, &quot;5.21&quot;) without replace()","body":"You should use native functionality for passing parameters. Just place &quot;%1$s&quot; instead of &quot;{1}&quot;, and call getString(R.string.message, &quot;5.21&quot;) without replace()"},{"owner":{"account_id":3138243,"reputation":371,"user_id":3383941,"display_name":"ProjectDelta"},"score":2,"creation_date":1592390787,"post_id":59281328,"comment_id":110406470,"body_markdown":"The docs support this answer: https://developer.android.com/guide/topics/resources/string-resource#StylingWithHTML\nThough it does need to be passed through an HTML parser","body":"The docs support this answer: <a href=\"https://developer.android.com/guide/topics/resources/string-resource#StylingWithHTML\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/resources/&hellip;</a> Though it does need to be passed through an HTML parser"},{"owner":{"account_id":1170060,"reputation":1032,"user_id":1147447,"display_name":"Alex Busuioc"},"score":3,"creation_date":1614188713,"post_id":59281328,"comment_id":117311897,"body_markdown":"This answer is not correct. (or at least the last edit). The method getText(int) takes only one parameter - the string resource id. @Jemshit Iskenderov please check your edit","body":"This answer is not correct. (or at least the last edit). The method getText(int) takes only one parameter - the string resource id. @Jemshit Iskenderov please check your edit"},{"owner":{"account_id":4608033,"reputation":9671,"user_id":3736955,"accept_rate":71,"display_name":"Jemshit"},"score":2,"creation_date":1614189271,"post_id":59281328,"comment_id":117312129,"body_markdown":"@AlexBusuioc ik, either way its incorrect, i downvoted. If u use getString, bold format is gone. If you use getText, argument is gone","body":"@AlexBusuioc ik, either way its incorrect, i downvoted. If u use getString, bold format is gone. If you use getText, argument is gone"},{"owner":{"account_id":10976817,"reputation":1451,"user_id":8065249,"display_name":"Hamza Khan"},"score":0,"creation_date":1617271824,"post_id":59281328,"comment_id":118260616,"body_markdown":"getText doesn&#39;t support additional values","body":"getText doesn&#39;t support additional values"}],"tags":[],"owner":{"account_id":9014084,"reputation":3170,"user_id":6717610,"display_name":"Samet &#214;ZTOPRAK"},"comment_count":5,"down_vote_count":6,"up_vote_count":6,"is_accepted":false,"score":0,"last_activity_date":1606313037,"creation_date":1576051846,"answer_id":59281328,"question_id":7130619,"body_markdown":"strings.xml\r\n\r\n    &lt;string name=&quot;sentence&quot;&gt;This price is &lt;b&gt;%1$s&lt;/b&gt; USD&lt;/string&gt;\r\n    \r\npage.java\r\n\r\n    String successMessage = getText(R.string.message,&quot;5.21&quot;);\r\n\r\n\r\nThis price **5.21** USD\r\n\r\n\r\n\r\n","title":"Bold words in a string of strings.xml in Android","body":"<p>strings.xml</p>\n<pre><code>&lt;string name=&quot;sentence&quot;&gt;This price is &lt;b&gt;%1$s&lt;/b&gt; USD&lt;/string&gt;\n</code></pre>\n<p>page.java</p>\n<pre><code>String successMessage = getText(R.string.message,&quot;5.21&quot;);\n</code></pre>\n<p>This price <strong>5.21</strong> USD</p>\n"},{"comments":[{"owner":{"account_id":13106442,"reputation":533,"user_id":9469090,"display_name":"PeterPazmandi"},"score":0,"creation_date":1606622600,"post_id":61016091,"comment_id":115014846,"body_markdown":"Html.fromHtml is deprecated","body":"Html.fromHtml is deprecated"}],"tags":[],"owner":{"account_id":12595953,"reputation":875,"user_id":9160591,"display_name":"kunal khedkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1598361561,"creation_date":1585930502,"answer_id":61016091,"question_id":7130619,"body_markdown":"Strings.xml\r\n\r\n    &lt;string name=&quot;my_text&quot;&gt;&lt;Data&gt;&lt;![CDATA[&lt;b&gt;Your text&lt;/b&gt;]]&gt;&lt;/Data&gt;&lt;/string&gt;\r\n\r\nTo set\r\n\r\n    textView.setText(Html.fromHtml(getString(R.string.activity_completed_text)));","title":"Bold words in a string of strings.xml in Android","body":"<p>Strings.xml</p>\n<pre><code>&lt;string name=&quot;my_text&quot;&gt;&lt;Data&gt;&lt;![CDATA[&lt;b&gt;Your text&lt;/b&gt;]]&gt;&lt;/Data&gt;&lt;/string&gt;\n</code></pre>\n<p>To set</p>\n<pre><code>textView.setText(Html.fromHtml(getString(R.string.activity_completed_text)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10755660,"reputation":80,"user_id":7913696,"display_name":"Adriel Iclodean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601324240,"creation_date":1601324240,"answer_id":64109058,"question_id":7130619,"body_markdown":"I was having a text something like:\r\n\r\nForgot Password? &lt;b&gt;Reset here.&lt;b&gt;\r\n\r\nTo implement this the easy way I used the existing android:textStyle=&quot;bold&quot;\r\n\r\n    &lt;LinearLayout\r\n            android:id=&quot;@+id/forgotPassword&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:gravity=&quot;center&quot;\r\n            &gt;\r\n\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:autoLink=&quot;all&quot;\r\n                android:linksClickable=&quot;false&quot;\r\n                android:selectAllOnFocus=&quot;false&quot;\r\n\r\n                android:text=&quot;Forgot password? &quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textColor=&quot;@android:color/white&quot;\r\n                /&gt;\r\n\r\n            &lt;TextView\r\n\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:autoLink=&quot;all&quot;\r\n                android:linksClickable=&quot;false&quot;\r\n                android:selectAllOnFocus=&quot;false&quot;\r\n\r\n                android:text=&quot;Reset here&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textColor=&quot;@android:color/white&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\nMaybe it helps someone","title":"Bold words in a string of strings.xml in Android","body":"<p>I was having a text something like:</p>\n<p>Forgot Password? Reset here.</p>\n<p>To implement this the easy way I used the existing android:textStyle=&quot;bold&quot;</p>\n<pre><code>&lt;LinearLayout\n        android:id=&quot;@+id/forgotPassword&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:gravity=&quot;center&quot;\n        &gt;\n\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:autoLink=&quot;all&quot;\n            android:linksClickable=&quot;false&quot;\n            android:selectAllOnFocus=&quot;false&quot;\n\n            android:text=&quot;Forgot password? &quot;\n            android:textAlignment=&quot;center&quot;\n            android:textColor=&quot;@android:color/white&quot;\n            /&gt;\n\n        &lt;TextView\n\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:autoLink=&quot;all&quot;\n            android:linksClickable=&quot;false&quot;\n            android:selectAllOnFocus=&quot;false&quot;\n\n            android:text=&quot;Reset here&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textColor=&quot;@android:color/white&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n    &lt;/LinearLayout&gt;\n</code></pre>\n<p>Maybe it helps someone</p>\n"},{"tags":[],"owner":{"account_id":13106442,"reputation":533,"user_id":9469090,"display_name":"PeterPazmandi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606624639,"creation_date":1606624639,"answer_id":65057055,"question_id":7130619,"body_markdown":"In Kotlin I have created an extension function for the Context. It takes a **@StringRes** and optionally you can provide parameters as well.\r\n\r\n\r\n    fun Context.fromHtmlWithParams(@StringRes stringRes: Int, parameter : String? = null) : Spanned {\r\n\r\n        val stringText = if (parameter.isNullOrEmpty()) {\r\n                        this.getString(stringRes)\r\n                    } else {\r\n                        this.getString(stringRes, parameter)\r\n                    }\r\n\r\n        return Html.fromHtml(stringText, Html.FROM_HTML_MODE_LEGACY)\r\n\r\n    }\r\n\r\n**Usage**\r\n\r\n    tv_directors.text = context?.fromHtmlWithParams(R.string.directors, movie.Director)","title":"Bold words in a string of strings.xml in Android","body":"<p>In Kotlin I have created an extension function for the Context. It takes a <strong>@StringRes</strong> and optionally you can provide parameters as well.</p>\n<pre><code>fun Context.fromHtmlWithParams(@StringRes stringRes: Int, parameter : String? = null) : Spanned {\n\n    val stringText = if (parameter.isNullOrEmpty()) {\n                    this.getString(stringRes)\n                } else {\n                    this.getString(stringRes, parameter)\n                }\n\n    return Html.fromHtml(stringText, Html.FROM_HTML_MODE_LEGACY)\n\n}\n</code></pre>\n<p><strong>Usage</strong></p>\n<pre><code>tv_directors.text = context?.fromHtmlWithParams(R.string.directors, movie.Director)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6906340,"reputation":1061,"user_id":5304075,"display_name":"Arul"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612432406,"creation_date":1612432406,"answer_id":66043218,"question_id":7130619,"body_markdown":"If you want to store formatted as a string variable and reuse it to text view isn&#39;t possible\r\n\r\n\r\n&gt; If you aren&#39;t applying formatting, you can set TextView text directly\r\n&gt; by calling setText(java.lang.CharSequence). In some cases, however,\r\n&gt; **you may want to create a styled text resource that is also used as a format string**. Normally, this doesn&#39;t work because the\r\n&gt; format(String, Object...) and getString(int, Object...) methods\r\n&gt; **strip** all the style information from the string. The work-around to this is to write the HTML tags with escaped entities, which are\r\n&gt; then recovered with fromHtml(String), after the formatting takes\r\n&gt; place.\r\n\r\nby from docs so alternatively store the string id and everyttime bind get string from using Htlm.fromHtml().. method.\r\n\r\nex:\r\n\r\nKotlin extention\r\n   \r\n    fun Context.getStringFromResource(stringId: Int): Spanned {\r\n        return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n            Html.fromHtml(java.lang.String.format(resources.getString(stringId)), \r\n     Html.FROM_HTML_MODE_COMPACT)\r\n        } else {\r\n            Html.fromHtml(java.lang.String.format(resources.getString(stringId)))\r\n        }\r\n    }\r\n\r\n\r\nIn code:\r\n\r\n    getStringFromResource(id)\r\n\r\n","title":"Bold words in a string of strings.xml in Android","body":"<p>If you want to store formatted as a string variable and reuse it to text view isn't possible</p>\n<blockquote>\n<p>If you aren't applying formatting, you can set TextView text directly\nby calling setText(java.lang.CharSequence). In some cases, however,\n<strong>you may want to create a styled text resource that is also used as a format string</strong>. Normally, this doesn't work because the\nformat(String, Object...) and getString(int, Object...) methods\n<strong>strip</strong> all the style information from the string. The work-around to this is to write the HTML tags with escaped entities, which are\nthen recovered with fromHtml(String), after the formatting takes\nplace.</p>\n</blockquote>\n<p>by from docs so alternatively store the string id and everyttime bind get string from using Htlm.fromHtml().. method.</p>\n<p>ex:</p>\n<p>Kotlin extention</p>\n<pre><code>fun Context.getStringFromResource(stringId: Int): Spanned {\n    return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n        Html.fromHtml(java.lang.String.format(resources.getString(stringId)), \n Html.FROM_HTML_MODE_COMPACT)\n    } else {\n        Html.fromHtml(java.lang.String.format(resources.getString(stringId)))\n    }\n}\n</code></pre>\n<p>In code:</p>\n<pre><code>getStringFromResource(id)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9335977,"reputation":350,"user_id":9543418,"display_name":"Muhammed Haris"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1624880532,"creation_date":1613645331,"answer_id":66258433,"question_id":7130619,"body_markdown":"here it&#39;s the solution for if there have any assigned values inside the string.xml file.\r\n\r\n     &lt;string name=&quot;styled_welcome_message&quot;&gt;&lt;![CDATA[We are &lt;b&gt; %1$s &lt;/b&gt;  glad to see you.]]&gt;&lt;/string&gt;\r\n\r\nset in to TextView:\r\n\r\n    textView?.setText(HtmlCompat.fromHtml(getString(R.string.styled_welcome_message, &quot;sample&quot;), HtmlCompat.FROM_HTML_MODE_LEGACY), TextView.BufferType.SPANNABLE)\r\n\r\n**PS: don&#39;t forget to wrap your text (in String Resources) within:**\r\n```\r\n&lt;![CDATA[ YOUR TEXT HERE ]]&gt;\r\n```","title":"Bold words in a string of strings.xml in Android","body":"<p>here it's the solution for if there have any assigned values inside the string.xml file.</p>\n<pre><code> &lt;string name=&quot;styled_welcome_message&quot;&gt;&lt;![CDATA[We are &lt;b&gt; %1$s &lt;/b&gt;  glad to see you.]]&gt;&lt;/string&gt;\n</code></pre>\n<p>set in to TextView:</p>\n<pre><code>textView?.setText(HtmlCompat.fromHtml(getString(R.string.styled_welcome_message, &quot;sample&quot;), HtmlCompat.FROM_HTML_MODE_LEGACY), TextView.BufferType.SPANNABLE)\n</code></pre>\n<p><strong>PS: don't forget to wrap your text (in String Resources) within:</strong></p>\n<pre><code>&lt;![CDATA[ YOUR TEXT HERE ]]&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20710892,"reputation":1,"user_id":15207542,"display_name":"user15207542"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630043928,"creation_date":1630043928,"answer_id":68948651,"question_id":7130619,"body_markdown":"If you want to use basic HTML tags in a string resource, it is necessary to escape the tags, otherwise they are ignored.\r\nSimply, replace &#39;&lt;&#39; with \\&amp;lt; and &#39;&gt;&#39; with &#39;\\&amp;gt;&#39;\r\ne.g:\r\n\r\n    &lt;string name=&quot;bold_statement&quot;&gt;This is a &amp;lt;bold&amp;gt; statement&lt;/string&gt;\r\nWill produce: This is a **bold** statement.\r\nWhen loading the String resource, make sure to use \r\n\r\n    HtmlCompat.fromHtml(stringFromResource, HtmlCompat.FROM_HTML_MODE_COMPACT)","title":"Bold words in a string of strings.xml in Android","body":"<p>If you want to use basic HTML tags in a string resource, it is necessary to escape the tags, otherwise they are ignored.\nSimply, replace '&lt;' with &amp;lt; and '&gt;' with '&amp;gt;'\ne.g:</p>\n<pre><code>&lt;string name=&quot;bold_statement&quot;&gt;This is a &amp;lt;bold&amp;gt; statement&lt;/string&gt;\n</code></pre>\n<p>Will produce: This is a <strong>bold</strong> statement.\nWhen loading the String resource, make sure to use</p>\n<pre><code>HtmlCompat.fromHtml(stringFromResource, HtmlCompat.FROM_HTML_MODE_COMPACT)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1136791,"reputation":2184,"user_id":1121707,"accept_rate":60,"display_name":"Xenione"},"score":0,"creation_date":1673349071,"post_id":73360544,"comment_id":132473654,"body_markdown":"this should now be the correct answer, only note that there is HtmlCompat class and no need anymore extended-function &#39;fromHtml&#39;","body":"this should now be the correct answer, only note that there is HtmlCompat class and no need anymore extended-function &#39;fromHtml&#39;"}],"tags":[],"owner":{"account_id":10585373,"reputation":1217,"user_id":7797911,"display_name":"Mahmoud Ayman"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1660563808,"creation_date":1660563808,"answer_id":73360544,"question_id":7130619,"body_markdown":"**Simple and Latest answer** from the official Android site: [source][1]\r\n\r\nFirst, you will add the string in your `strings.xml` like this:\r\n\r\n    &lt;string name=&quot;welcome&quot;&gt;Welcome to &lt;b&gt;Android&lt;/b&gt;!&lt;/string&gt;\r\n\r\nHere you will replace the `&lt;` before the b with `&amp;lt;`\r\n\r\nTo be like this:\r\n\r\n    &lt;string name=&quot;welcome&quot;&gt;Welcome to &amp;lt;b&gt;Android&amp;lt;/b&gt;!&lt;/string&gt;\r\n\r\n\r\nIn kotlin code you will make an extension to parse strings from html:\r\n\r\n    fun String.fromHtml(): Spanned {\r\n    return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n        // FROM_HTML_MODE_LEGACY is the behaviour that was used for versions below android N\r\n        // we are using this flag to give a consistent behaviour\r\n        Html.fromHtml(this, Html.FROM_HTML_MODE_LEGACY)\r\n    } else {\r\n        Html.fromHtml(this)\r\n     }\r\n    }\r\n\r\nThen use it like this:\r\n\r\n    getString(R.string.welcome).fromHtml()\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/resources/string-resource#StylingWithHTML","title":"Bold words in a string of strings.xml in Android","body":"<p><strong>Simple and Latest answer</strong> from the official Android site: <a href=\"https://developer.android.com/guide/topics/resources/string-resource#StylingWithHTML\" rel=\"noreferrer\">source</a></p>\n<p>First, you will add the string in your <code>strings.xml</code> like this:</p>\n<pre><code>&lt;string name=&quot;welcome&quot;&gt;Welcome to &lt;b&gt;Android&lt;/b&gt;!&lt;/string&gt;\n</code></pre>\n<p>Here you will replace the <code>&lt;</code> before the b with <code>&amp;lt;</code></p>\n<p>To be like this:</p>\n<pre><code>&lt;string name=&quot;welcome&quot;&gt;Welcome to &amp;lt;b&gt;Android&amp;lt;/b&gt;!&lt;/string&gt;\n</code></pre>\n<p>In kotlin code you will make an extension to parse strings from html:</p>\n<pre><code>fun String.fromHtml(): Spanned {\nreturn if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n    // FROM_HTML_MODE_LEGACY is the behaviour that was used for versions below android N\n    // we are using this flag to give a consistent behaviour\n    Html.fromHtml(this, Html.FROM_HTML_MODE_LEGACY)\n} else {\n    Html.fromHtml(this)\n }\n}\n</code></pre>\n<p>Then use it like this:</p>\n<pre><code>getString(R.string.welcome).fromHtml()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669239590,"creation_date":1669239217,"answer_id":74553228,"question_id":7130619,"body_markdown":"Imagine you want nicely formatted string like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5iYgw.png\r\n\r\nI do this:\r\n\r\n        &lt;string name=&quot;dialog_upgrade_item_fx_output_text&quot;&gt;\r\n     &quot;[B]Unlimited support for up to 5 audio effects per audio track[/B]\\n\r\n     - Multiple high quality effects available Reverb, Delay, Distortion, Compressor, Equalizer\\n\r\n     - Each comes with various presets or create your own&quot;\r\n        &lt;/string&gt;\r\n\r\n    fun Context.formatted(resId: Int): Spanned =\r\n        Html.fromHtml(getString(resId).replace(&quot;\\n&quot;, &quot;&lt;br&gt;&quot;)\r\n            .replace(&quot;[B]&quot;, &quot;&lt;b&gt;&quot;).replace(&quot;[/B]&quot;, &quot;&lt;/b&gt;&quot;), 0)\r\n\r\n    textView(R.id.dialog_upgrade_item_text)\r\n                .text(formatted(R.string.dialog_upgrade_item_fx_output_text))","title":"Bold words in a string of strings.xml in Android","body":"<p>Imagine you want nicely formatted string like this:</p>\n<p><a href=\"https://i.stack.imgur.com/5iYgw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5iYgw.png\" alt=\"enter image description here\" /></a></p>\n<p>I do this:</p>\n<pre><code>    &lt;string name=&quot;dialog_upgrade_item_fx_output_text&quot;&gt;\n &quot;[B]Unlimited support for up to 5 audio effects per audio track[/B]\\n\n - Multiple high quality effects available Reverb, Delay, Distortion, Compressor, Equalizer\\n\n - Each comes with various presets or create your own&quot;\n    &lt;/string&gt;\n\nfun Context.formatted(resId: Int): Spanned =\n    Html.fromHtml(getString(resId).replace(&quot;\\n&quot;, &quot;&lt;br&gt;&quot;)\n        .replace(&quot;[B]&quot;, &quot;&lt;b&gt;&quot;).replace(&quot;[/B]&quot;, &quot;&lt;/b&gt;&quot;), 0)\n\ntextView(R.id.dialog_upgrade_item_text)\n            .text(formatted(R.string.dialog_upgrade_item_fx_output_text))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6495279,"reputation":1061,"user_id":5028085,"display_name":"AndroidEngineX"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670706426,"creation_date":1670705085,"answer_id":74756418,"question_id":7130619,"body_markdown":"There is also native support for the same, where we don&#39;t have to hardcode any string or index and it plays way better in internalisation of the strings\r\n\r\nYou can define the strings like below in strings.xml as that will help in the translation of the string in other languages as well\r\n```xml\r\n&lt;string name=&quot;styled_hello_world&quot;&gt;&lt;annotation type=&quot;bold&quot;&gt;bold text&lt;/annotation&gt; Hello World&lt;/string&gt;\r\n```\r\nYou can apply string id in your `TextView` in your UI XML.\r\n\r\nAnd in the code, you can write something like below\r\n```kotlin\r\nval spannedText = textView.text as SpannedString\r\n// get all the annotation spans from the text\r\nval annotations = spannedText.getSpans(0, spannedText.length, android.text.Annotation::class.java)\r\nval spannableString = SpannableString(spannedText)\r\nannotations.forEach { annotation -&gt;\r\n    if (annotation.key == &quot;type&quot;) {\r\n        val styleValue = annotation.value\r\n        if (styleValue == &quot;bold&quot;) {\r\n            spannableString.setSpan(\r\n                StyleSpan(android.graphics.Typeface.BOLD),\r\n                spannedText.getSpanStart(annotation),\r\n                spannedText.getSpanEnd(annotation),\r\n                Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\r\n            )\r\n        }\r\n    }\r\n}\r\ntextView.text = spannableString\r\n```\r\n\r\nYou can find more details in the [blog post][1]\r\n\r\n\r\n  [1]: https://medium.com/androiddevelopers/styling-internationalized-text-in-android-f99759fb7b8f","title":"Bold words in a string of strings.xml in Android","body":"<p>There is also native support for the same, where we don't have to hardcode any string or index and it plays way better in internalisation of the strings</p>\n<p>You can define the strings like below in strings.xml as that will help in the translation of the string in other languages as well</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;string name=&quot;styled_hello_world&quot;&gt;&lt;annotation type=&quot;bold&quot;&gt;bold text&lt;/annotation&gt; Hello World&lt;/string&gt;\n</code></pre>\n<p>You can apply string id in your <code>TextView</code> in your UI XML.</p>\n<p>And in the code, you can write something like below</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val spannedText = textView.text as SpannedString\n// get all the annotation spans from the text\nval annotations = spannedText.getSpans(0, spannedText.length, android.text.Annotation::class.java)\nval spannableString = SpannableString(spannedText)\nannotations.forEach { annotation -&gt;\n    if (annotation.key == &quot;type&quot;) {\n        val styleValue = annotation.value\n        if (styleValue == &quot;bold&quot;) {\n            spannableString.setSpan(\n                StyleSpan(android.graphics.Typeface.BOLD),\n                spannedText.getSpanStart(annotation),\n                spannedText.getSpanEnd(annotation),\n                Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\n            )\n        }\n    }\n}\ntextView.text = spannableString\n</code></pre>\n<p>You can find more details in the <a href=\"https://medium.com/androiddevelopers/styling-internationalized-text-in-android-f99759fb7b8f\" rel=\"nofollow noreferrer\">blog post</a></p>\n"}],"owner":{"account_id":478594,"reputation":3823,"user_id":890775,"accept_rate":38,"display_name":"Caroline"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180025,"favorite_count":0,"down_vote_count":0,"up_vote_count":168,"accepted_answer_id":7130661,"answer_count":15,"score":168,"last_activity_date":1670706426,"creation_date":1313828152,"question_id":7130619,"body_markdown":"I have a long text in one of the strings at strings.xml. I want to make bold and change the color of some words in that text.\r\n\r\nHow can I do it?\r\n","title":"Bold words in a string of strings.xml in Android","body":"<p>I have a long text in one of the strings at strings.xml. I want to make bold and change the color of some words in that text.</p>\n\n<p>How can I do it?</p>\n"},{"tags":["java","locking","java.util.concurrent","reentrantreadwritelock"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1675850629,"post_id":74743019,"comment_id":133015041,"body_markdown":"Short answer: `clear()` modifies the map, so of course, you need a write lock. Long answer: just think of it, the read lock allows concurrent executions of `drainCache(…)` with one thread being in the middle of `destination.putAll(agreements)` when the other is executing `agreements.clear()`. That’s, by the way, the only problematic race condition in your code. Since the other methods use the lock only to guard a single `put` or `get`, they would also work with a `ConcurrentHashMap` alone, without locking.","body":"Short answer: <code>clear()</code> modifies the map, so of course, you need a write lock. Long answer: just think of it, the read lock allows concurrent executions of <code>drainCache(…)</code> with one thread being in the middle of <code>destination.putAll(agreements)</code> when the other is executing <code>agreements.clear()</code>. That’s, by the way, the only problematic race condition in your code. Since the other methods use the lock only to guard a single <code>put</code> or <code>get</code>, they would also work with a <code>ConcurrentHashMap</code> alone, without locking."}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670706093,"creation_date":1670588163,"question_id":74743019,"body_markdown":"In my code I&#39;m using `ReentrantReadWriteLock` to guard some paired read/write operations:\r\n```java\r\npublic class AgreementCache {\r\n\t\r\n\tprivate final ConcurrentMap&lt;String, Agreement&gt; agreements = new ConcurrentHashMap&lt;&gt;();\r\n\r\n\tprivate final ReadWriteLock readWriteLock = new ReentrantReadWriteLock();\r\n\r\n\r\n\tpublic Agreement putIntoCache(String key, Function&lt;String, Agreement&gt; valueSupplyingFunction) {\r\n\t\tLock lock = readWriteLock.writeLock();\r\n\t\ttry {\r\n\t\t\tlock.lock();\r\n\t\t\treturn agreements.put(key, valueSupplyingFunction.apply(key));\r\n\t\t} finally {\r\n\t\t\tlock.unlock();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void drainCache(Map&lt;String, Agreement&gt; destination) {\r\n\t\tLock lock = readWriteLock.readLock(); // &lt;--- !!!\r\n\t\ttry {\r\n\t\t\tlock.lock();\r\n\t\t\tdestination.putAll(agreements);\r\n\t\t\tagreements.clear(); // &lt;--- !!!\r\n\t\t} finally {\r\n\t\t\tlock.unlock();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Agreement getFromCache(String key) {\r\n\t\tLock lock = readWriteLock.readLock();\r\n\t\ttry {\r\n\t\t\tlock.lock();\r\n\t\t\treturn agreements.get(key);\r\n\t\t} finally {\r\n\t\t\tlock.unlock();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nHere in `put()` method I need to ensure that mapping function is executed atomically along with putting the computed value into the map. At the same time I need to enforce raceless `drain()` operation, i.e. I need to make sure that no data will be put into the map while draining its contents. Currently I use `writeLock` in `put()` method and `readLock()` in `drain()` method, but I suspect this is wrong, because after `map.putAll()` I clear the map which is a modifying operation.\r\n\r\nSo my question is whether I need to use `writeLock` in `drain()` method or I can still rely on `readLock()`?","title":"Should I guard Map.clear() with readLock or writeLock of j.u.c.l.ReentrantReadWriteLock","body":"<p>In my code I'm using <code>ReentrantReadWriteLock</code> to guard some paired read/write operations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AgreementCache {\n    \n    private final ConcurrentMap&lt;String, Agreement&gt; agreements = new ConcurrentHashMap&lt;&gt;();\n\n    private final ReadWriteLock readWriteLock = new ReentrantReadWriteLock();\n\n\n    public Agreement putIntoCache(String key, Function&lt;String, Agreement&gt; valueSupplyingFunction) {\n        Lock lock = readWriteLock.writeLock();\n        try {\n            lock.lock();\n            return agreements.put(key, valueSupplyingFunction.apply(key));\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public void drainCache(Map&lt;String, Agreement&gt; destination) {\n        Lock lock = readWriteLock.readLock(); // &lt;--- !!!\n        try {\n            lock.lock();\n            destination.putAll(agreements);\n            agreements.clear(); // &lt;--- !!!\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public Agreement getFromCache(String key) {\n        Lock lock = readWriteLock.readLock();\n        try {\n            lock.lock();\n            return agreements.get(key);\n        } finally {\n            lock.unlock();\n        }\n    }\n}\n</code></pre>\n<p>Here in <code>put()</code> method I need to ensure that mapping function is executed atomically along with putting the computed value into the map. At the same time I need to enforce raceless <code>drain()</code> operation, i.e. I need to make sure that no data will be put into the map while draining its contents. Currently I use <code>writeLock</code> in <code>put()</code> method and <code>readLock()</code> in <code>drain()</code> method, but I suspect this is wrong, because after <code>map.putAll()</code> I clear the map which is a modifying operation.</p>\n<p>So my question is whether I need to use <code>writeLock</code> in <code>drain()</code> method or I can still rely on <code>readLock()</code>?</p>\n"},{"tags":["java","yaml","openshift"],"comments":[{"owner":{"account_id":5631321,"reputation":125,"user_id":4458204,"display_name":"Vladimir Glinskikh"},"score":0,"creation_date":1670677038,"post_id":74752973,"comment_id":131930974,"body_markdown":"Try exchange file name from `Deployment.yaml` to `deployment.yml`","body":"Try exchange file name from <code>Deployment.yaml</code> to <code>deployment.yml</code>"},{"owner":{"account_id":25691035,"reputation":11,"user_id":19452452,"display_name":"SEBDA"},"score":0,"creation_date":1670705382,"post_id":74752973,"comment_id":131936606,"body_markdown":"@VladimirGlinskikh explain why please?","body":"@VladimirGlinskikh explain why please?"}],"answers":[{"comments":[{"owner":{"account_id":25691035,"reputation":11,"user_id":19452452,"display_name":"SEBDA"},"score":0,"creation_date":1670699153,"post_id":74755342,"comment_id":131935541,"body_markdown":"Thank you for pointing them out. Regarding the `configMapRef` i was looking at here: https://releasehub.com/blog/kubernetes-environment-variables\nSo does this mean therte is still no way of using configMap inside `- name: USERS\n              value: &gt;-....` ?","body":"Thank you for pointing them out. Regarding the <code>configMapRef</code> i was looking at here: <a href=\"https://releasehub.com/blog/kubernetes-environment-variables\" rel=\"nofollow noreferrer\">releasehub.com/blog/kubernetes-environment-variables</a> So does this mean therte is still no way of using configMap inside <code>- name: USERS               value: &gt;-....</code> ?"}],"tags":[],"owner":{"account_id":5238010,"reputation":2834,"user_id":4185994,"accept_rate":56,"display_name":"titou10"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670695706,"creation_date":1670695104,"answer_id":74755342,"question_id":74752973,"body_markdown":"Your ConfigMap is not valid\r\n\r\nCheck the [k8s ConfigMap doc][1]\r\n\r\nA valid ConfigMap would be (with the`&quot;data&quot;`stanza):\r\n\r\n    kind: ConfigMap\r\n    apiVersion: v1\r\n    metadata:\r\n      name: my-service\r\n      namespace: my-namespace\r\n      .....\r\n      labels:\r\n        app: my-service\r\n    data:\r\n      SPECIAL_NAME: Tom\r\n      .....\r\n\r\nYour deployment is not valid either. it should be:\r\n\r\n    - name: Users.specialone\r\n      valueFrom:\r\n        configMapKeyRef:\r\n              name: my-service\r\n              key: SPECIAL_NAME\r\n\r\nAlso, depending on where you run k8s,`&quot;Users.specialone&quot;`could not be a valid environment variable name (because of the dot &#39;.&#39;)\r\n\r\nCheck https://github.com/kubernetes/kubernetes/blob/f2ddd60eb9e7e9e29f7a105a9a8fa020042e8e52/pkg/api/v1/types.go#L923-L924 \r\n\r\nand https://github.com/kubernetes/kubernetes/blob/f2ddd60eb9e7e9e29f7a105a9a8fa020042e8e52/pkg/api/v1/types.go#L42-L46\r\n\r\n  [1]: https://kubernetes.io/docs/concepts/configuration/configmap/","title":"Openshift - How do I append ConfigMap value inside my YAML block chomping indicator","body":"<p>Your ConfigMap is not valid</p>\n<p>Check the <a href=\"https://kubernetes.io/docs/concepts/configuration/configmap/\" rel=\"nofollow noreferrer\">k8s ConfigMap doc</a></p>\n<p>A valid ConfigMap would be (with the<code>&quot;data&quot;</code>stanza):</p>\n<pre><code>kind: ConfigMap\napiVersion: v1\nmetadata:\n  name: my-service\n  namespace: my-namespace\n  .....\n  labels:\n    app: my-service\ndata:\n  SPECIAL_NAME: Tom\n  .....\n</code></pre>\n<p>Your deployment is not valid either. it should be:</p>\n<pre><code>- name: Users.specialone\n  valueFrom:\n    configMapKeyRef:\n          name: my-service\n          key: SPECIAL_NAME\n</code></pre>\n<p>Also, depending on where you run k8s,<code>&quot;Users.specialone&quot;</code>could not be a valid environment variable name (because of the dot '.')</p>\n<p>Check <a href=\"https://github.com/kubernetes/kubernetes/blob/f2ddd60eb9e7e9e29f7a105a9a8fa020042e8e52/pkg/api/v1/types.go#L923-L924\" rel=\"nofollow noreferrer\">https://github.com/kubernetes/kubernetes/blob/f2ddd60eb9e7e9e29f7a105a9a8fa020042e8e52/pkg/api/v1/types.go#L923-L924</a></p>\n<p>and <a href=\"https://github.com/kubernetes/kubernetes/blob/f2ddd60eb9e7e9e29f7a105a9a8fa020042e8e52/pkg/api/v1/types.go#L42-L46\" rel=\"nofollow noreferrer\">https://github.com/kubernetes/kubernetes/blob/f2ddd60eb9e7e9e29f7a105a9a8fa020042e8e52/pkg/api/v1/types.go#L42-L46</a></p>\n"}],"owner":{"account_id":25691035,"reputation":11,"user_id":19452452,"display_name":"SEBDA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670705346,"creation_date":1670675845,"question_id":74752973,"body_markdown":"I have a ConfigMap like this:\r\n\r\n```\r\nkind: ConfigMap\r\napiVersion: v1\r\nmetadata:\r\n  name: my-service\r\n  namespace: my-namespace\r\n  .....\r\n  labels:\r\n    app: my-service\r\ndata:\r\n  SPECIAL_NAME: Tom\r\n  .....\r\n```\r\n\r\nI am trying to use the value of `SPECIAL_NAME` in my Deployment.yaml container which holds a block chomping indicator string like below but not able to do it successfully:\r\n\r\n```\r\nkind: Deployment\r\napiVersion: apps/v1\r\nmetadata:\r\n  namespace: my-namespace\r\n  labels:\r\n    app: my-service\r\nspec:\r\n  selector:\r\n    matchLabels:\r\n      ...\r\n  template:\r\n    metadata:\r\n      ...\r\n    spec:\r\n      containers:\r\n        - name: my-service\r\n          image: &#39;myservice.myrepo.com/my-service:latest&#39;\r\n          env:\r\n            - name: USERS\r\n              value: &gt;-\r\n                -javaagent:/opt/project/javaagent.jar\r\n                -Users.exist=true\r\n                -Users.first=John\r\n                -Users.specialone=SPECIAL_NAME\r\n                ...\r\n```\r\n\r\n\r\n\r\nI tried like this but it doesn&#39;t work and I believe it shouldn&#39;t either.\r\n\r\n```\r\nkind: Deployment\r\napiVersion: apps/v1\r\nmetadata:\r\n  namespace: my-namespace\r\n  labels:\r\n    app: my-service\r\nspec:\r\n  selector:\r\n    matchLabels:\r\n      ...\r\n  template:\r\n    metadata:\r\n      ...\r\n    spec:\r\n      containers:\r\n        - name: my-service\r\n          image: &#39;myservice.myrepo.com/my-service:latest&#39;\r\n          env:\r\n            - name: USERS\r\n              value: &gt;-\r\n                -javaagent:/opt/project/javaagent.jar\r\n                -Users.exist=true\r\n                -Users.first=John\r\n                ...\r\n            - name: Users.specialone\r\n              valueFrom:\r\n                configMapKeyRef:\r\n                  name: my-service\r\n                  key: SPECIAL_NAME\r\n\r\n```\r\n","title":"Openshift - How do I append ConfigMap value inside my YAML block chomping indicator","body":"<p>I have a ConfigMap like this:</p>\n<pre><code>kind: ConfigMap\napiVersion: v1\nmetadata:\n  name: my-service\n  namespace: my-namespace\n  .....\n  labels:\n    app: my-service\ndata:\n  SPECIAL_NAME: Tom\n  .....\n</code></pre>\n<p>I am trying to use the value of <code>SPECIAL_NAME</code> in my Deployment.yaml container which holds a block chomping indicator string like below but not able to do it successfully:</p>\n<pre><code>kind: Deployment\napiVersion: apps/v1\nmetadata:\n  namespace: my-namespace\n  labels:\n    app: my-service\nspec:\n  selector:\n    matchLabels:\n      ...\n  template:\n    metadata:\n      ...\n    spec:\n      containers:\n        - name: my-service\n          image: 'myservice.myrepo.com/my-service:latest'\n          env:\n            - name: USERS\n              value: &gt;-\n                -javaagent:/opt/project/javaagent.jar\n                -Users.exist=true\n                -Users.first=John\n                -Users.specialone=SPECIAL_NAME\n                ...\n</code></pre>\n<p>I tried like this but it doesn't work and I believe it shouldn't either.</p>\n<pre><code>kind: Deployment\napiVersion: apps/v1\nmetadata:\n  namespace: my-namespace\n  labels:\n    app: my-service\nspec:\n  selector:\n    matchLabels:\n      ...\n  template:\n    metadata:\n      ...\n    spec:\n      containers:\n        - name: my-service\n          image: 'myservice.myrepo.com/my-service:latest'\n          env:\n            - name: USERS\n              value: &gt;-\n                -javaagent:/opt/project/javaagent.jar\n                -Users.exist=true\n                -Users.first=John\n                ...\n            - name: Users.specialone\n              valueFrom:\n                configMapKeyRef:\n                  name: my-service\n                  key: SPECIAL_NAME\n\n</code></pre>\n"},{"tags":["java","swing","recursion","jpanel"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1670705075,"post_id":74756403,"comment_id":131936571,"body_markdown":"I might be missing something: `while (w &gt; CUTOFF || h &gt; CUTOFF)` where are w and h modified so this loop will end?","body":"I might be missing something: <code>while (w &gt; CUTOFF || h &gt; CUTOFF)</code> where are w and h modified so this loop will end?"}],"owner":{"account_id":26061935,"reputation":29,"user_id":19763110,"display_name":"Snowbird2001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1670705257,"creation_date":1670704929,"question_id":74756403,"body_markdown":"I am trying to create a Mondrian Generator in which a rectangle is recursively subdivided until its size meets a certain threshold. Within this program, I am trying to call a recursive method with defined values\r\n\r\n```\r\npublic class Mondrian extends JPanel {\r\n    private static final int CUTOFF = 40;\r\n    private Random rng = new Random();\r\n    static private Image mondrian;\r\n\r\n    public Mondrian(int w, int h) {\r\n        mondrian = new BufferedImage(w, h, TYPE_INT_RGB);\r\n        Graphics2D g2 = (Graphics2D) mondrian.getGraphics();\r\n        subdivide(0, 0, 800, 1000, g2);\r\n    }\r\n```\r\n\r\nwhich is subsequently calling on this method\r\n\r\n```\r\nprivate void subdivide(int tx, int ty, int w, int h, Graphics2D g2) {\r\n    g2.setColor(Color.white);\r\n    g2.fillRect(0,0, mondrian.getHeight(null), mondrian.getWidth(null));\r\n    while (w &gt; CUTOFF || h &gt; CUTOFF) {\r\n        System.out.println(w);\r\n        Random randomSize = new Random();\r\n        double size = randomSize.nextDouble();\r\n        if (size &lt; 0.6){\r\n                int rndColour = rng.nextInt(COLORS.length);\r\n                Color colour = COLORS[rndColour];\r\n                g2.setColor(colour);\r\n                subdivide(tx, ty, (w * (int) size), (h * (int) size), g2);\r\n                g2.fillRect(tx, ty, tx-w, ty-h);\r\n                g2.setColor(colour);\r\n                subdivide(tx, ty, (w * (int) (1 - size)), (h * (int) (1 - size)), g2);\r\n                g2.fillRect(tx, ty, tx-w, ty-h);\r\n            g2.drawLine((w * (int) size), (h * (int) size), (w * (int) (1 - size)), (h * (int) (1 - size)));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHowever, this function runs forever, as even though the values of w and h are set in the original method call, they are set to zero for some reason.\r\n\r\nThis is the main method, however I don&#39;t think there is anything wrong with it, I think its mostly to do with the class\r\n\r\n```\r\npublic static void main(String[] args){\r\n    JFrame frame = new JFrame();\r\n    Mondrian mondrian = new Mondrian(800, 1000);\r\n    frame.add(mondrian);\r\n    frame.setSize(800, 1000);\r\n    frame.setVisible(true);\r\n}\r\n```\r\n\r\nFor what I have tried, I have tried to set the values of w and h within the recursive function itself, but it never shrinks. I have also tried setting explicit vlaues of w and h within the initial call, but the values are still set to 0. I don&#39;t know where else to go with this as something has to fundamentally be wrong with my code.","title":"Trying to call recursive method with parameters, but parameters not holding","body":"<p>I am trying to create a Mondrian Generator in which a rectangle is recursively subdivided until its size meets a certain threshold. Within this program, I am trying to call a recursive method with defined values</p>\n<pre><code>public class Mondrian extends JPanel {\n    private static final int CUTOFF = 40;\n    private Random rng = new Random();\n    static private Image mondrian;\n\n    public Mondrian(int w, int h) {\n        mondrian = new BufferedImage(w, h, TYPE_INT_RGB);\n        Graphics2D g2 = (Graphics2D) mondrian.getGraphics();\n        subdivide(0, 0, 800, 1000, g2);\n    }\n</code></pre>\n<p>which is subsequently calling on this method</p>\n<pre><code>private void subdivide(int tx, int ty, int w, int h, Graphics2D g2) {\n    g2.setColor(Color.white);\n    g2.fillRect(0,0, mondrian.getHeight(null), mondrian.getWidth(null));\n    while (w &gt; CUTOFF || h &gt; CUTOFF) {\n        System.out.println(w);\n        Random randomSize = new Random();\n        double size = randomSize.nextDouble();\n        if (size &lt; 0.6){\n                int rndColour = rng.nextInt(COLORS.length);\n                Color colour = COLORS[rndColour];\n                g2.setColor(colour);\n                subdivide(tx, ty, (w * (int) size), (h * (int) size), g2);\n                g2.fillRect(tx, ty, tx-w, ty-h);\n                g2.setColor(colour);\n                subdivide(tx, ty, (w * (int) (1 - size)), (h * (int) (1 - size)), g2);\n                g2.fillRect(tx, ty, tx-w, ty-h);\n            g2.drawLine((w * (int) size), (h * (int) size), (w * (int) (1 - size)), (h * (int) (1 - size)));\n        }\n    }\n}\n</code></pre>\n<p>However, this function runs forever, as even though the values of w and h are set in the original method call, they are set to zero for some reason.</p>\n<p>This is the main method, however I don't think there is anything wrong with it, I think its mostly to do with the class</p>\n<pre><code>public static void main(String[] args){\n    JFrame frame = new JFrame();\n    Mondrian mondrian = new Mondrian(800, 1000);\n    frame.add(mondrian);\n    frame.setSize(800, 1000);\n    frame.setVisible(true);\n}\n</code></pre>\n<p>For what I have tried, I have tried to set the values of w and h within the recursive function itself, but it never shrinks. I have also tried setting explicit vlaues of w and h within the initial call, but the values are still set to 0. I don't know where else to go with this as something has to fundamentally be wrong with my code.</p>\n"},{"tags":["java","inverse","apache-commons-math","beta-distribution"],"answers":[{"tags":[],"owner":{"account_id":316802,"reputation":10754,"user_id":633150,"display_name":"Brent Worden"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501593800,"creation_date":1501593800,"answer_id":45439115,"question_id":42657889,"body_markdown":"The inverse CDF for the Beta Distribution has a range of [0, 1].  Since both R and Apache Commons Math are returning negative values there are obviously some numerical errors in computing the inverse CDF for such small probabilities.\r\n\r\nThere likely is no numerical solution to your problem.  Instead, it should be sufficient to treat all negative output from the inverse CDF as zero.","title":"Inverse cumulative beta distribution function in Java with smaller Double value","body":"<p>The inverse CDF for the Beta Distribution has a range of [0, 1].  Since both R and Apache Commons Math are returning negative values there are obviously some numerical errors in computing the inverse CDF for such small probabilities.</p>\n\n<p>There likely is no numerical solution to your problem.  Instead, it should be sufficient to treat all negative output from the inverse CDF as zero.</p>\n"}],"owner":{"account_id":4869367,"reputation":143,"user_id":3926445,"accept_rate":89,"display_name":"K.Liaqat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670704721,"creation_date":1488919175,"question_id":42657889,"body_markdown":"I am using apache-commons-math for Inverse cumulative beta distribution function but it gives incorrect results for values smaller than 2E-15. Up to values 2E-15, results are correct and are also verified from R.\r\n\r\n    Value 2E-15\r\n    Result in R = -7.854929\r\n    Result in Java  = -7.8529\r\n    \r\n    Value 2E-16\r\n    Result in R = -8.1385\r\n    Result in Java  = -35355339.059\r\n\r\nCan anyone please suggest me any solution","title":"Inverse cumulative beta distribution function in Java with smaller Double value","body":"<p>I am using apache-commons-math for Inverse cumulative beta distribution function but it gives incorrect results for values smaller than 2E-15. Up to values 2E-15, results are correct and are also verified from R.</p>\n\n<pre><code>Value 2E-15\nResult in R = -7.854929\nResult in Java  = -7.8529\n\nValue 2E-16\nResult in R = -8.1385\nResult in Java  = -35355339.059\n</code></pre>\n\n<p>Can anyone please suggest me any solution</p>\n"},{"tags":["java","azure-aks","java-threads","azure-sdk-for-java"],"owner":{"account_id":8486613,"reputation":31,"user_id":6364487,"display_name":"Anish Nagaraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670704385,"creation_date":1670704385,"question_id":74756337,"body_markdown":"I am writing test cases for an IaaC project. The use case is like the following:\r\n\r\n\r\n```\r\nGiven I do not have a AKS cluster\r\nAnd I call an api to create a cluster\r\nThen I have a cluster up and running\r\n```\r\n\r\nIn the above scenario for 3rd step, I would like to implement two things, which are as follows:\r\n1. First wait for the AKS resource to be created and\r\n2. Once the resource is created, wait for the its provisioning state to be success  \r\n\r\nI searched the Azure documentation to see if there are any out of the box Watchers that azure provides as a part of it&#39;s azure-sdk-for-java. But did not find any. Could somebody share your knowledge or experience is solving such a problem statement?","title":"Azure-aks: programatically watch AKS creation status using Java","body":"<p>I am writing test cases for an IaaC project. The use case is like the following:</p>\n<pre><code>Given I do not have a AKS cluster\nAnd I call an api to create a cluster\nThen I have a cluster up and running\n</code></pre>\n<p>In the above scenario for 3rd step, I would like to implement two things, which are as follows:</p>\n<ol>\n<li>First wait for the AKS resource to be created and</li>\n<li>Once the resource is created, wait for the its provisioning state to be success</li>\n</ol>\n<p>I searched the Azure documentation to see if there are any out of the box Watchers that azure provides as a part of it's azure-sdk-for-java. But did not find any. Could somebody share your knowledge or experience is solving such a problem statement?</p>\n"},{"tags":["java","spring-data-mongodb"],"comments":[{"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"score":0,"creation_date":1569929994,"post_id":58174921,"comment_id":102747640,"body_markdown":"We can use same argument for many fields, it is supported and it works fine.\nYou have some other error with the query you are writing examine it correctly.\nOr you post the complete query here.","body":"We can use same argument for many fields, it is supported and it works fine. You have some other error with the query you are writing examine it correctly. Or you post the complete query here."},{"owner":{"account_id":11039250,"reputation":500,"user_id":8107849,"display_name":"Guilherme Bernardi"},"score":0,"creation_date":1569937906,"post_id":58174921,"comment_id":102752230,"body_markdown":"@Lucia I updated the question, take a look on the second condition in the OR operator the ?5 turns in &quot;value with a 5 in the end&quot;. That&#39;s the error. I&#39;m using Spring-Data 1.10.0.","body":"@Lucia I updated the question, take a look on the second condition in the OR operator the ?5 turns in &quot;value with a 5 in the end&quot;. That&#39;s the error. I&#39;m using Spring-Data 1.10.0."}],"answers":[{"tags":[],"owner":{"account_id":11039250,"reputation":500,"user_id":8107849,"display_name":"Guilherme Bernardi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1569949443,"creation_date":1569949443,"answer_id":58189374,"question_id":58174921,"body_markdown":"I found the solution after debugging the binding process.\r\n\r\nI just need to add single quotes in the parameter that I need to repeat, like this:\r\n\r\n```\r\n&quot;$or: [{ $or: [{ $or: [{ $or: [{ requestPayload.sponsorGovernmentId: ?5 }, &quot; +\r\n            &quot;{requestPayload.buyerGovernmentId: &#39;?5&#39;}] }, {requestPayload.supplierGovernmentId: &#39;?5&#39;}] }, &quot; +\r\n            &quot;{requestPayload.invoiceNumber: ?6}]}, {requestPayload.externalId: ?7}]\r\n```\r\n\r\nSo the parameter number five could be use more than once.","title":"How to use the same parameter for multiple conditions","body":"<p>I found the solution after debugging the binding process.</p>\n\n<p>I just need to add single quotes in the parameter that I need to repeat, like this:</p>\n\n<pre><code>\"$or: [{ $or: [{ $or: [{ $or: [{ requestPayload.sponsorGovernmentId: ?5 }, \" +\n            \"{requestPayload.buyerGovernmentId: '?5'}] }, {requestPayload.supplierGovernmentId: '?5'}] }, \" +\n            \"{requestPayload.invoiceNumber: ?6}]}, {requestPayload.externalId: ?7}]\n</code></pre>\n\n<p>So the parameter number five could be use more than once.</p>\n"},{"tags":[],"owner":{"account_id":24291827,"reputation":1,"user_id":18236713,"display_name":"Vinay Gajra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670704197,"creation_date":1670703287,"answer_id":74756231,"question_id":58174921,"body_markdown":"As suggested by Guilherme, that solution can only work for string parameters as using &#39;?0&#39; will convert parameter of any type to string and will give incorrect results.\r\nPassing an extra parameter in the method will same value did the work for me.","title":"How to use the same parameter for multiple conditions","body":"<p>As suggested by Guilherme, that solution can only work for string parameters as using '?0' will convert parameter of any type to string and will give incorrect results.\nPassing an extra parameter in the method will same value did the work for me.</p>\n"}],"owner":{"account_id":11039250,"reputation":500,"user_id":8107849,"display_name":"Guilherme Bernardi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58189374,"answer_count":2,"score":1,"last_activity_date":1670704197,"creation_date":1569875424,"question_id":58174921,"body_markdown":"I&#39;m trying to compare a value with multiples fields with Spring-Data-MongoDB 1.10.0, I&#39;m using @Query because the nested document is an Object with dynamic fields.\r\n\r\nBut if I use the same identifier like ?5 in all the conditions, I got an error:\r\n\r\n```\r\nexception=&quot;com.mongodb.util.JSONParseException: \r\n{ companyType: &quot;SPONSOR&quot;, companyId: 6710890, delivered: false, createdAt: { $gt: { &quot;$date&quot; : &quot;2019-09-01T03:00:00.000Z&quot;}, $lt: { &quot;$date&quot; : &quot;2019-09-26T02:59:59.999Z&quot;} }, $or:[ {requestPayload.sponsorGovernmentId: &quot;73068519000185&quot;}, {requestPayload.buyerGovernmentId: &quot;73068519000185&quot;5} ] }\r\n```\r\n\r\n\r\nI&#39;m trying like this:\r\n\r\n```\r\n@Query(value = &quot;{ companyType: ?0, companyId: ?1, delivered: ?2, &quot; +\r\n            &quot;createdAt: { $gt: ?3, $lt: ?4 }, $or:[ {requestPayload.sponsorGovernmentId: ?5}, {requestPayload.buyerGovernmentId: ?5} ] }&quot;)\r\n    Page&lt;WebHookDelivery&gt; findByCompanyTypeAndCompanyIdAndDeliveredAndCreatedAtIsBetweenAndAnyKey(String companyType,\r\n                                                                                                  Integer companyId,\r\n                                                                                                  Boolean delivered,\r\n                                                                                                  Date createdAtStart,\r\n                                                                                                  Date createdAtEnd,\r\n                                                                                                  String governmentId,                  \r\n                                                                                                  Pageable pageable);\r\n```\r\n\r\nI&#39;ve tried with only ? and [5].\r\n\r\nIs it possible and could anyone explain how to do this?","title":"How to use the same parameter for multiple conditions","body":"<p>I'm trying to compare a value with multiples fields with Spring-Data-MongoDB 1.10.0, I'm using @Query because the nested document is an Object with dynamic fields.</p>\n\n<p>But if I use the same identifier like ?5 in all the conditions, I got an error:</p>\n\n<pre><code>exception=\"com.mongodb.util.JSONParseException: \n{ companyType: \"SPONSOR\", companyId: 6710890, delivered: false, createdAt: { $gt: { \"$date\" : \"2019-09-01T03:00:00.000Z\"}, $lt: { \"$date\" : \"2019-09-26T02:59:59.999Z\"} }, $or:[ {requestPayload.sponsorGovernmentId: \"73068519000185\"}, {requestPayload.buyerGovernmentId: \"73068519000185\"5} ] }\n</code></pre>\n\n<p>I'm trying like this:</p>\n\n<pre><code>@Query(value = \"{ companyType: ?0, companyId: ?1, delivered: ?2, \" +\n            \"createdAt: { $gt: ?3, $lt: ?4 }, $or:[ {requestPayload.sponsorGovernmentId: ?5}, {requestPayload.buyerGovernmentId: ?5} ] }\")\n    Page&lt;WebHookDelivery&gt; findByCompanyTypeAndCompanyIdAndDeliveredAndCreatedAtIsBetweenAndAnyKey(String companyType,\n                                                                                                  Integer companyId,\n                                                                                                  Boolean delivered,\n                                                                                                  Date createdAtStart,\n                                                                                                  Date createdAtEnd,\n                                                                                                  String governmentId,                  \n                                                                                                  Pageable pageable);\n</code></pre>\n\n<p>I've tried with only ? and [5].</p>\n\n<p>Is it possible and could anyone explain how to do this?</p>\n"},{"tags":["java","swing","event-dispatch-thread"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1466157974,"post_id":37877195,"comment_id":63212493,"body_markdown":"Possible duplicate of [this](http://stackoverflow.com/q/37841987/230513). Synchronize multiple `SwingWorker` instances like [this](http://stackoverflow.com/a/11372932/230513).","body":"Possible duplicate of <a href=\"http://stackoverflow.com/q/37841987/230513\">this</a>. Synchronize multiple <code>SwingWorker</code> instances like <a href=\"http://stackoverflow.com/a/11372932/230513\">this</a>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1466173751,"post_id":37877195,"comment_id":63222916,"body_markdown":"If the events block the EDT then don&#39;t execute them on the EDT. You still have not provided a concrete example of what you are attempting to do. I have never used it but did you try invokeAndWait(...)?","body":"If the events block the EDT then don&#39;t execute them on the EDT. You still have not provided a concrete example of what you are attempting to do. I have never used it but did you try invokeAndWait(...)?"},{"owner":{"account_id":147796,"reputation":2101,"user_id":359170,"accept_rate":62,"display_name":"Hamed"},"score":0,"creation_date":1466180691,"post_id":37877195,"comment_id":63227064,"body_markdown":"Yes, I had done it. `InvokeLater` and `InvokeAndWait` is used for the new event respect to the thread it was called.","body":"Yes, I had done it. <code>InvokeLater</code> and <code>InvokeAndWait</code> is used for the new event respect to the thread it was called."},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1466192192,"post_id":37877195,"comment_id":63232768,"body_markdown":"EDT is designated to paint, repaint, refresh value, set value, apply changes, just for methods implemented in Swing API, all those events are dome in then same time, in one moment, all events thats contains queue in EDT, everything else is wrong idea, as aside invokeAndWait required false from EDT,","body":"EDT is designated to paint, repaint, refresh value, set value, apply changes, just for methods implemented in Swing API, all those events are dome in then same time, in one moment, all events thats contains queue in EDT, everything else is wrong idea, as aside invokeAndWait required false from EDT,"},{"owner":{"account_id":3696638,"reputation":1927,"user_id":3077801,"accept_rate":91,"display_name":"Junbang Huang"},"score":0,"creation_date":1466356310,"post_id":37877195,"comment_id":63271582,"body_markdown":"I never use it before,  but I think solution to the problem is simple. You can simply put short tasks in a queue that feed tasks to the EDT. But I guess you have no control of it due to mechanism of Swing.","body":"I never use it before,  but I think solution to the problem is simple. You can simply put short tasks in a queue that feed tasks to the EDT. But I guess you have no control of it due to mechanism of Swing."},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1696359808,"post_id":37877195,"comment_id":136142069,"body_markdown":"Bad idea. Part of the purpose of having the EventQueue is to order things for concurrency control. Inserting something at the beginning of the queue is asking for concurrency problems. If you can give a good _reason_ to do this, I may rescind my judgement. The EDT should essentially always be available and ready to execute code because all the things going on to it are short tasks. Therefore, whatever you want to put at the front could just as well go at the end and execute essentially at the same time... but in a known good order. Be sure only the correct things are going on the EDT.","body":"Bad idea. Part of the purpose of having the EventQueue is to order things for concurrency control. Inserting something at the beginning of the queue is asking for concurrency problems. If you can give a good <i>reason</i> to do this, I may rescind my judgement. The EDT should essentially always be available and ready to execute code because all the things going on to it are short tasks. Therefore, whatever you want to put at the front could just as well go at the end and execute essentially at the same time... but in a known good order. Be sure only the correct things are going on the EDT."}],"answers":[{"comments":[{"owner":{"account_id":3771489,"reputation":5627,"user_id":3133545,"accept_rate":75,"display_name":"Onur"},"score":0,"creation_date":1466376558,"post_id":37909938,"comment_id":63277059,"body_markdown":"That code is not setting the Runnable&#39;s/Task&#39;s priory. It&#39;s setting Event Dispatch Thread&#39;s priority to the maximum. Which will not only effect current task but also effect every other task on the queue.","body":"That code is not setting the Runnable&#39;s/Task&#39;s priory. It&#39;s setting Event Dispatch Thread&#39;s priority to the maximum. Which will not only effect current task but also effect every other task on the queue."},{"owner":{"account_id":7308564,"reputation":1533,"user_id":6257469,"display_name":"Beniton Fernando"},"score":0,"creation_date":1466397312,"post_id":37909938,"comment_id":63280733,"body_markdown":"@Onur  I did notice just after your comments. Thank you for helping me learn.","body":"@Onur  I did notice just after your comments. Thank you for helping me learn."},{"owner":{"account_id":3771489,"reputation":5627,"user_id":3133545,"accept_rate":75,"display_name":"Onur"},"score":0,"creation_date":1466400493,"post_id":37909938,"comment_id":63281585,"body_markdown":"you are welcome but the thing is Java&#39;s inner API never uses **ULTIMATE_PRIORITY**. You can see that here: [Usages of sun.awt.PeerEvent](http://grepcode.com/search/usages?id=repository.grepcode.com$java$root@jdk$openjdk@6-b27@sun$awt@PeerEvent&amp;type=type&amp;k=u) `PeerEvent` always gets created with **`PeerEvent.PRIORITY_EVENT`**","body":"you are welcome but the thing is Java&#39;s inner API never uses <b>ULTIMATE_PRIORITY</b>. You can see that here: <a href=\"http://grepcode.com/search/usages?id=repository.grepcode.com%24java%24root@jdk%24openjdk@6-b27@sun%24awt@PeerEvent&amp;type=type&amp;k=u\" rel=\"nofollow noreferrer\">Usages of sun.awt.PeerEvent</a> <code>PeerEvent</code> always gets created with <b><code>PeerEvent.PRIORITY_EVENT</code></b>"}],"tags":[],"owner":{"account_id":7308564,"reputation":1533,"user_id":6257469,"display_name":"Beniton Fernando"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466394995,"creation_date":1466357427,"answer_id":37909938,"question_id":37877195,"body_markdown":"**My initial thought was**\r\n\r\nI do not think we can control the tasks which needs to be picked up by Event Dispatch Thread, but in certain ways we can try to set the priority like below\r\n\r\n    SwingUtilities.invokeAndWait(new Runnable() {\r\n      public void run() {\r\n         Thread.currentThread().setPriority(Thread.MAX_PRIORITY);\r\n         // The task which need immediate attention.\r\n    }});\r\n\r\nAgain there is no guarantee that this would be picked up for immediate execution by EDT.\r\n\r\nBut the above code is wrong. By the time run gets called it is already executing the tasks. Thanks for the comments Onur.\r\n\r\nSo the code below should help.\r\n\r\n       EventQueue queue = Toolkit.getDefaultToolkit().getSystemEventQueue();\r\n       Runnable runnable = new Runnable() {\r\n        \r\n             @Override\r\n             public void run() {\r\n                //My high priority task\r\n             }\r\n       };\r\n       PeerEvent event = new PeerEvent(this, runnable, PeerEvent.ULTIMATE_PRIORITY_EVENT);\r\n       queue.postEvent(event);\r\n\r\nBut there is one point we need to notice.\r\n\r\n        private static final int NUM_PRIORITIES = ULTIMATE_PRIORITY + 1;\r\n    \r\n        /*\r\n         * We maintain one Queue for each priority that the EventQueue supports.\r\n         * That is, the EventQueue object is actually implemented as\r\n         * NUM_PRIORITIES queues and all Events on a particular internal Queue\r\n         * have identical priority. Events are pulled off the EventQueue starting\r\n         * with the Queue of highest priority. We progress in decreasing order\r\n         * across all Queues.\r\n         */\r\n        private Queue[] queues = new Queue[NUM_PRIORITIES];\r\n    \r\n        public EventQueue() {\r\n            for (int i = 0; i &lt; NUM_PRIORITIES; i++) {\r\n                queues[i] = new Queue();\r\n            }\r\n        ....\r\n        }\r\n\r\nSo if we are setting too many **ULTIMATE_PRIORITY** tasks, there is no guarantee that the latest task would be executed immediately.","title":"How to insert an event to the beginning of Event Dispatch Thread queue in java?","body":"<p><strong>My initial thought was</strong></p>\n\n<p>I do not think we can control the tasks which needs to be picked up by Event Dispatch Thread, but in certain ways we can try to set the priority like below</p>\n\n<pre><code>SwingUtilities.invokeAndWait(new Runnable() {\n  public void run() {\n     Thread.currentThread().setPriority(Thread.MAX_PRIORITY);\n     // The task which need immediate attention.\n}});\n</code></pre>\n\n<p>Again there is no guarantee that this would be picked up for immediate execution by EDT.</p>\n\n<p>But the above code is wrong. By the time run gets called it is already executing the tasks. Thanks for the comments Onur.</p>\n\n<p>So the code below should help.</p>\n\n<pre><code>   EventQueue queue = Toolkit.getDefaultToolkit().getSystemEventQueue();\n   Runnable runnable = new Runnable() {\n\n         @Override\n         public void run() {\n            //My high priority task\n         }\n   };\n   PeerEvent event = new PeerEvent(this, runnable, PeerEvent.ULTIMATE_PRIORITY_EVENT);\n   queue.postEvent(event);\n</code></pre>\n\n<p>But there is one point we need to notice.</p>\n\n<pre><code>    private static final int NUM_PRIORITIES = ULTIMATE_PRIORITY + 1;\n\n    /*\n     * We maintain one Queue for each priority that the EventQueue supports.\n     * That is, the EventQueue object is actually implemented as\n     * NUM_PRIORITIES queues and all Events on a particular internal Queue\n     * have identical priority. Events are pulled off the EventQueue starting\n     * with the Queue of highest priority. We progress in decreasing order\n     * across all Queues.\n     */\n    private Queue[] queues = new Queue[NUM_PRIORITIES];\n\n    public EventQueue() {\n        for (int i = 0; i &lt; NUM_PRIORITIES; i++) {\n            queues[i] = new Queue();\n        }\n    ....\n    }\n</code></pre>\n\n<p>So if we are setting too many <strong>ULTIMATE_PRIORITY</strong> tasks, there is no guarantee that the latest task would be executed immediately.</p>\n"},{"tags":[],"owner":{"account_id":4673462,"reputation":6110,"user_id":3784643,"display_name":"T. Neidhart"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466365465,"creation_date":1466365465,"answer_id":37911162,"question_id":37877195,"body_markdown":"You can create and use your own Event Queue that inserts new events in the way you want it. See the code snippet below how to setup a custom Event Queue:\r\n\r\n    public class QueueTest {\r\n        public static void main(String[] args) throws InterruptedException, InvocationTargetException {\r\n            EventQueue eventQueue = Toolkit.getDefaultToolkit().getSystemEventQueue();\r\n            eventQueue.push(new MyEventQueue());\r\n    \r\n            EventQueue.invokeAndWait(new Runnable() {\r\n                public void run() {\r\n                    System.out.println(&quot;Run&quot;);\r\n                }\r\n            });\r\n        }\r\n    \r\n        private static class MyEventQueue extends EventQueue {\r\n            public void postEvent(AWTEvent theEvent) {\r\n                System.out.println(&quot;Event Posted&quot;);\r\n                super.postEvent(theEvent);\r\n            }\r\n        }\r\n    }\r\n\r\nYour custom Event Queue could then post specific events that you want to be prepended to the queue with the highest priority. This might not ensure that it is the next event to be processed, but would probably fit best into the existing design.","title":"How to insert an event to the beginning of Event Dispatch Thread queue in java?","body":"<p>You can create and use your own Event Queue that inserts new events in the way you want it. See the code snippet below how to setup a custom Event Queue:</p>\n\n<pre><code>public class QueueTest {\n    public static void main(String[] args) throws InterruptedException, InvocationTargetException {\n        EventQueue eventQueue = Toolkit.getDefaultToolkit().getSystemEventQueue();\n        eventQueue.push(new MyEventQueue());\n\n        EventQueue.invokeAndWait(new Runnable() {\n            public void run() {\n                System.out.println(\"Run\");\n            }\n        });\n    }\n\n    private static class MyEventQueue extends EventQueue {\n        public void postEvent(AWTEvent theEvent) {\n            System.out.println(\"Event Posted\");\n            super.postEvent(theEvent);\n        }\n    }\n}\n</code></pre>\n\n<p>Your custom Event Queue could then post specific events that you want to be prepended to the queue with the highest priority. This might not ensure that it is the next event to be processed, but would probably fit best into the existing design.</p>\n"},{"comments":[{"owner":{"account_id":147796,"reputation":2101,"user_id":359170,"accept_rate":62,"display_name":"Hamed"},"score":0,"creation_date":1466629119,"post_id":37912986,"comment_id":63402268,"body_markdown":"This is exactly what I was looking. Thanks @Onur","body":"This is exactly what I was looking. Thanks @Onur"}],"tags":[],"owner":{"account_id":3771489,"reputation":5627,"user_id":3133545,"accept_rate":75,"display_name":"Onur"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1670704107,"creation_date":1466380038,"answer_id":37912986,"question_id":37877195,"body_markdown":"Although replacing the `EventQueue` is a right approach, it&#39;s not really necessary since built-in `EventQueue` already supports prioritizing. Only thing is it only supports it for inner API use so we only need to understand how that works;\r\n\r\n    //from EventQueue.java...\r\n\r\n    private static final int LOW_PRIORITY = 0;\r\n    private static final int NORM_PRIORITY = 1;\r\n    private static final int HIGH_PRIORITY = 2;\r\n    private static final int ULTIMATE_PRIORITY = 3;\r\n\r\n    private static final int NUM_PRIORITIES = ULTIMATE_PRIORITY + 1;\r\n\r\n    /*\r\n     * We maintain one Queue for each priority that the EventQueue supports.\r\n     * That is, the EventQueue object is actually implemented as\r\n     * NUM_PRIORITIES queues and all Events on a particular internal Queue\r\n     * have identical priority. Events are pulled off the EventQueue starting\r\n     * with the Queue of highest priority. We progress in decreasing order\r\n     * across all Queues.\r\n     */\r\n    private Queue[] queues = new Queue[NUM_PRIORITIES];\r\n\r\n    //...skipped some parts...\r\n\r\n    /**\r\n     * Causes &lt;code&gt;runnable&lt;/code&gt; to have its &lt;code&gt;run&lt;/code&gt;\r\n     * method called in the {@link #isDispatchThread dispatch thread} of\r\n     * {@link Toolkit#getSystemEventQueue the system EventQueue}.\r\n     * This will happen after all pending events are processed.\r\n     *\r\n     * @param runnable  the &lt;code&gt;Runnable&lt;/code&gt; whose &lt;code&gt;run&lt;/code&gt;\r\n     *                  method should be executed\r\n     *                  asynchronously in the\r\n     *                  {@link #isDispatchThread event dispatch thread}\r\n     *                  of {@link Toolkit#getSystemEventQueue the system EventQueue}\r\n     * @see             #invokeAndWait\r\n     * @see             Toolkit#getSystemEventQueue\r\n     * @see             #isDispatchThread\r\n     * @since           1.2\r\n     */\r\n    public static void invokeLater(Runnable runnable) {\r\n        Toolkit.getEventQueue().postEvent(\r\n            new InvocationEvent(Toolkit.getDefaultToolkit(), runnable));\r\n    }\r\n\r\n    /**\r\n     * Posts a 1.1-style event to the &lt;code&gt;EventQueue&lt;/code&gt;.\r\n     * If there is an existing event on the queue with the same ID\r\n     * and event source, the source &lt;code&gt;Component&lt;/code&gt;&#39;s\r\n     * &lt;code&gt;coalesceEvents&lt;/code&gt; method will be called.\r\n     *\r\n     * @param theEvent an instance of &lt;code&gt;java.awt.AWTEvent&lt;/code&gt;,\r\n     *          or a subclass of it\r\n     * @throws NullPointerException if &lt;code&gt;theEvent&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;\r\n     */\r\n    public void postEvent(AWTEvent theEvent) {\r\n        SunToolkit.flushPendingEvents(appContext);\r\n        postEventPrivate(theEvent);\r\n    }\r\n\r\n    /**\r\n     * Posts a 1.1-style event to the &lt;code&gt;EventQueue&lt;/code&gt;.\r\n     * If there is an existing event on the queue with the same ID\r\n     * and event source, the source &lt;code&gt;Component&lt;/code&gt;&#39;s\r\n     * &lt;code&gt;coalesceEvents&lt;/code&gt; method will be called.\r\n     *\r\n     * @param theEvent an instance of &lt;code&gt;java.awt.AWTEvent&lt;/code&gt;,\r\n     *          or a subclass of it\r\n     */\r\n    private final void postEventPrivate(AWTEvent theEvent) {\r\n        theEvent.isPosted = true;\r\n        pushPopLock.lock();\r\n        try {\r\n            if (nextQueue != null) {\r\n                // Forward the event to the top of EventQueue stack\r\n                nextQueue.postEventPrivate(theEvent);\r\n                return;\r\n            }\r\n            if (dispatchThread == null) {\r\n                if (theEvent.getSource() == AWTAutoShutdown.getInstance()) {\r\n                    return;\r\n                } else {\r\n                    initDispatchThread();\r\n                }\r\n            }\r\n            postEvent(theEvent, getPriority(theEvent));\r\n        } finally {\r\n            pushPopLock.unlock();\r\n        }\r\n    }\r\n\r\n    private static int getPriority(AWTEvent theEvent) {\r\n        if (theEvent instanceof PeerEvent) {\r\n            PeerEvent peerEvent = (PeerEvent)theEvent;\r\n            if ((peerEvent.getFlags() &amp; PeerEvent.ULTIMATE_PRIORITY_EVENT) != 0) {\r\n                return ULTIMATE_PRIORITY;\r\n            }\r\n            if ((peerEvent.getFlags() &amp; PeerEvent.PRIORITY_EVENT) != 0) {\r\n                return HIGH_PRIORITY;\r\n            }\r\n            if ((peerEvent.getFlags() &amp; PeerEvent.LOW_PRIORITY_EVENT) != 0) {\r\n                return LOW_PRIORITY;\r\n            }\r\n        }\r\n        int id = theEvent.getID();\r\n        if ((id &gt;= PaintEvent.PAINT_FIRST) &amp;&amp; (id &lt;= PaintEvent.PAINT_LAST)) {\r\n            return LOW_PRIORITY;\r\n        }\r\n        return NORM_PRIORITY;\r\n    }\r\n\r\n    /**\r\n     * Posts the event to the internal Queue of specified priority,\r\n     * coalescing as appropriate.\r\n     *\r\n     * @param theEvent an instance of &lt;code&gt;java.awt.AWTEvent&lt;/code&gt;,\r\n     *          or a subclass of it\r\n     * @param priority  the desired priority of the event\r\n     */\r\n    private void postEvent(AWTEvent theEvent, int priority) {\r\n        if (coalesceEvent(theEvent, priority)) {\r\n            return;\r\n        }\r\n\r\n        EventQueueItem newItem = new EventQueueItem(theEvent);\r\n\r\n        cacheEQItem(newItem);\r\n\r\n        boolean notifyID = (theEvent.getID() == this.waitForID);\r\n\r\n        if (queues[priority].head == null) {\r\n            boolean shouldNotify = noEvents();\r\n            queues[priority].head = queues[priority].tail = newItem;\r\n\r\n            if (shouldNotify) {\r\n                if (theEvent.getSource() != AWTAutoShutdown.getInstance()) {\r\n                    AWTAutoShutdown.getInstance().notifyThreadBusy(dispatchThread);\r\n                }\r\n                pushPopCond.signalAll();\r\n            } else if (notifyID) {\r\n                pushPopCond.signalAll();\r\n            }\r\n        } else {\r\n            // The event was not coalesced or has non-Component source.\r\n            // Insert it at the end of the appropriate Queue.\r\n            queues[priority].tail.next = newItem;\r\n            queues[priority].tail = newItem;\r\n            if (notifyID) {\r\n                pushPopCond.signalAll();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAs you can see `EventQueue` have 4 different queues as `LOW`, `NORM`, `HIGH` and `ULTIMATE`, `SwingUtilities.invokeLater(Runnable)` or `EventQueue.invokeLater(Runnable)` wraps your `Runnable` into an `InvocationEvent` and calls `postEvent(AWTEvent)` method. This method does some syncronizing between threads and calls `postEvent(AWTEvent, int)` like this `postEvent(theEvent, getPriority(theEvent));` Now the interesting part is how `getPriority(AWTEvent)` works, basicly it gives normal priority to the every event except some `PaintEvent`s and `PeerEvent`s.\r\n\r\nSo what you need to do is wrap your `Runnable` into a `PeerEvent` with `ULTIMATE_PRIORTY` instead of a `InvocationEvent` like this;\r\n\r\n    Toolkit.getDefaultToolkit().getSystemEventQueue()\r\n       .postEvent(new PeerEvent(Toolkit.getDefaultToolkit(), () -&gt; {\r\n\r\n\r\n    \t//execute your high priority task here!\r\n    \tSystem.out.println(&quot;I&#39;m ultimate prioritized in EventQueue!&quot;);\r\n\r\n\r\n    }, PeerEvent.ULTIMATE_PRIORITY_EVENT));\r\n\r\n\r\nYou can check the full source code of [EventQueue][1] and [PeerEvent][2] .\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/java/awt/EventQueue.java\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/sun/awt/PeerEvent.java","title":"How to insert an event to the beginning of Event Dispatch Thread queue in java?","body":"<p>Although replacing the <code>EventQueue</code> is a right approach, it's not really necessary since built-in <code>EventQueue</code> already supports prioritizing. Only thing is it only supports it for inner API use so we only need to understand how that works;</p>\n<pre><code>//from EventQueue.java...\n\nprivate static final int LOW_PRIORITY = 0;\nprivate static final int NORM_PRIORITY = 1;\nprivate static final int HIGH_PRIORITY = 2;\nprivate static final int ULTIMATE_PRIORITY = 3;\n\nprivate static final int NUM_PRIORITIES = ULTIMATE_PRIORITY + 1;\n\n/*\n * We maintain one Queue for each priority that the EventQueue supports.\n * That is, the EventQueue object is actually implemented as\n * NUM_PRIORITIES queues and all Events on a particular internal Queue\n * have identical priority. Events are pulled off the EventQueue starting\n * with the Queue of highest priority. We progress in decreasing order\n * across all Queues.\n */\nprivate Queue[] queues = new Queue[NUM_PRIORITIES];\n\n//...skipped some parts...\n\n/**\n * Causes &lt;code&gt;runnable&lt;/code&gt; to have its &lt;code&gt;run&lt;/code&gt;\n * method called in the {@link #isDispatchThread dispatch thread} of\n * {@link Toolkit#getSystemEventQueue the system EventQueue}.\n * This will happen after all pending events are processed.\n *\n * @param runnable  the &lt;code&gt;Runnable&lt;/code&gt; whose &lt;code&gt;run&lt;/code&gt;\n *                  method should be executed\n *                  asynchronously in the\n *                  {@link #isDispatchThread event dispatch thread}\n *                  of {@link Toolkit#getSystemEventQueue the system EventQueue}\n * @see             #invokeAndWait\n * @see             Toolkit#getSystemEventQueue\n * @see             #isDispatchThread\n * @since           1.2\n */\npublic static void invokeLater(Runnable runnable) {\n    Toolkit.getEventQueue().postEvent(\n        new InvocationEvent(Toolkit.getDefaultToolkit(), runnable));\n}\n\n/**\n * Posts a 1.1-style event to the &lt;code&gt;EventQueue&lt;/code&gt;.\n * If there is an existing event on the queue with the same ID\n * and event source, the source &lt;code&gt;Component&lt;/code&gt;'s\n * &lt;code&gt;coalesceEvents&lt;/code&gt; method will be called.\n *\n * @param theEvent an instance of &lt;code&gt;java.awt.AWTEvent&lt;/code&gt;,\n *          or a subclass of it\n * @throws NullPointerException if &lt;code&gt;theEvent&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;\n */\npublic void postEvent(AWTEvent theEvent) {\n    SunToolkit.flushPendingEvents(appContext);\n    postEventPrivate(theEvent);\n}\n\n/**\n * Posts a 1.1-style event to the &lt;code&gt;EventQueue&lt;/code&gt;.\n * If there is an existing event on the queue with the same ID\n * and event source, the source &lt;code&gt;Component&lt;/code&gt;'s\n * &lt;code&gt;coalesceEvents&lt;/code&gt; method will be called.\n *\n * @param theEvent an instance of &lt;code&gt;java.awt.AWTEvent&lt;/code&gt;,\n *          or a subclass of it\n */\nprivate final void postEventPrivate(AWTEvent theEvent) {\n    theEvent.isPosted = true;\n    pushPopLock.lock();\n    try {\n        if (nextQueue != null) {\n            // Forward the event to the top of EventQueue stack\n            nextQueue.postEventPrivate(theEvent);\n            return;\n        }\n        if (dispatchThread == null) {\n            if (theEvent.getSource() == AWTAutoShutdown.getInstance()) {\n                return;\n            } else {\n                initDispatchThread();\n            }\n        }\n        postEvent(theEvent, getPriority(theEvent));\n    } finally {\n        pushPopLock.unlock();\n    }\n}\n\nprivate static int getPriority(AWTEvent theEvent) {\n    if (theEvent instanceof PeerEvent) {\n        PeerEvent peerEvent = (PeerEvent)theEvent;\n        if ((peerEvent.getFlags() &amp; PeerEvent.ULTIMATE_PRIORITY_EVENT) != 0) {\n            return ULTIMATE_PRIORITY;\n        }\n        if ((peerEvent.getFlags() &amp; PeerEvent.PRIORITY_EVENT) != 0) {\n            return HIGH_PRIORITY;\n        }\n        if ((peerEvent.getFlags() &amp; PeerEvent.LOW_PRIORITY_EVENT) != 0) {\n            return LOW_PRIORITY;\n        }\n    }\n    int id = theEvent.getID();\n    if ((id &gt;= PaintEvent.PAINT_FIRST) &amp;&amp; (id &lt;= PaintEvent.PAINT_LAST)) {\n        return LOW_PRIORITY;\n    }\n    return NORM_PRIORITY;\n}\n\n/**\n * Posts the event to the internal Queue of specified priority,\n * coalescing as appropriate.\n *\n * @param theEvent an instance of &lt;code&gt;java.awt.AWTEvent&lt;/code&gt;,\n *          or a subclass of it\n * @param priority  the desired priority of the event\n */\nprivate void postEvent(AWTEvent theEvent, int priority) {\n    if (coalesceEvent(theEvent, priority)) {\n        return;\n    }\n\n    EventQueueItem newItem = new EventQueueItem(theEvent);\n\n    cacheEQItem(newItem);\n\n    boolean notifyID = (theEvent.getID() == this.waitForID);\n\n    if (queues[priority].head == null) {\n        boolean shouldNotify = noEvents();\n        queues[priority].head = queues[priority].tail = newItem;\n\n        if (shouldNotify) {\n            if (theEvent.getSource() != AWTAutoShutdown.getInstance()) {\n                AWTAutoShutdown.getInstance().notifyThreadBusy(dispatchThread);\n            }\n            pushPopCond.signalAll();\n        } else if (notifyID) {\n            pushPopCond.signalAll();\n        }\n    } else {\n        // The event was not coalesced or has non-Component source.\n        // Insert it at the end of the appropriate Queue.\n        queues[priority].tail.next = newItem;\n        queues[priority].tail = newItem;\n        if (notifyID) {\n            pushPopCond.signalAll();\n        }\n    }\n}\n</code></pre>\n<p>As you can see <code>EventQueue</code> have 4 different queues as <code>LOW</code>, <code>NORM</code>, <code>HIGH</code> and <code>ULTIMATE</code>, <code>SwingUtilities.invokeLater(Runnable)</code> or <code>EventQueue.invokeLater(Runnable)</code> wraps your <code>Runnable</code> into an <code>InvocationEvent</code> and calls <code>postEvent(AWTEvent)</code> method. This method does some syncronizing between threads and calls <code>postEvent(AWTEvent, int)</code> like this <code>postEvent(theEvent, getPriority(theEvent));</code> Now the interesting part is how <code>getPriority(AWTEvent)</code> works, basicly it gives normal priority to the every event except some <code>PaintEvent</code>s and <code>PeerEvent</code>s.</p>\n<p>So what you need to do is wrap your <code>Runnable</code> into a <code>PeerEvent</code> with <code>ULTIMATE_PRIORTY</code> instead of a <code>InvocationEvent</code> like this;</p>\n<pre><code>Toolkit.getDefaultToolkit().getSystemEventQueue()\n   .postEvent(new PeerEvent(Toolkit.getDefaultToolkit(), () -&gt; {\n\n\n    //execute your high priority task here!\n    System.out.println(&quot;I'm ultimate prioritized in EventQueue!&quot;);\n\n\n}, PeerEvent.ULTIMATE_PRIORITY_EVENT));\n</code></pre>\n<p>You can check the full source code of <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/java/awt/EventQueue.java\" rel=\"nofollow noreferrer\">EventQueue</a> and <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/sun/awt/PeerEvent.java\" rel=\"nofollow noreferrer\">PeerEvent</a> .</p>\n"}],"owner":{"account_id":147796,"reputation":2101,"user_id":359170,"accept_rate":62,"display_name":"Hamed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2532,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":37912986,"answer_count":3,"score":12,"last_activity_date":1670704107,"creation_date":1466153741,"question_id":37877195,"body_markdown":"I already know how [Event Dispatch thread][1] works. If there be short and long events in Event Dispatch thread like below, the application can&#39;t be responsive.     \r\n\r\n[![enter image description here][2]][2]\r\n\r\nFor the Sake of responsiveness in Swing, Event Dispatch thread should only be used for short events. while long events should be executed on SwingWorkers.    \r\n\r\n[![enter image description here][3]][3]\r\n\r\nImagine that there is a lot of short events.     \r\n\r\n[![enter image description here][4]][4]\r\nThe events should be executed in Event Dispatch thread and you have a special event which you want to be executed before other events existing in Event Dispatch Thread queue. But, events will be enqueued to the end of the queue by default and even `InvokeLater` do the same.     \r\n\r\n**So, is there any solution to enqueue an event to the beginning of the Event Dispatch Thread?**\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\r\n  [2]: http://i.stack.imgur.com/9j3mR.png\r\n  [3]: http://i.stack.imgur.com/z737P.png\r\n  [4]: http://i.stack.imgur.com/5ctPi.png","title":"How to insert an event to the beginning of Event Dispatch Thread queue in java?","body":"<p>I already know how <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"noreferrer\">Event Dispatch thread</a> works. If there be short and long events in Event Dispatch thread like below, the application can't be responsive.     </p>\n\n<p><a href=\"https://i.stack.imgur.com/9j3mR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9j3mR.png\" alt=\"enter image description here\"></a></p>\n\n<p>For the Sake of responsiveness in Swing, Event Dispatch thread should only be used for short events. while long events should be executed on SwingWorkers.    </p>\n\n<p><a href=\"https://i.stack.imgur.com/z737P.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/z737P.png\" alt=\"enter image description here\"></a></p>\n\n<p>Imagine that there is a lot of short events.     </p>\n\n<p><a href=\"https://i.stack.imgur.com/5ctPi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5ctPi.png\" alt=\"enter image description here\"></a>\nThe events should be executed in Event Dispatch thread and you have a special event which you want to be executed before other events existing in Event Dispatch Thread queue. But, events will be enqueued to the end of the queue by default and even <code>InvokeLater</code> do the same.     </p>\n\n<p><strong>So, is there any solution to enqueue an event to the beginning of the Event Dispatch Thread?</strong></p>\n"},{"tags":["java","comments","assert"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1670700616,"post_id":74755901,"comment_id":131935811,"body_markdown":"Depends on what you want to have happen.  If the assert triggers (i.e. the condition evaluates to `false`), an `AssertionError` (unchecked exception) is thrown and unless you handle it somewhere up the stack chain, the thread terminates.  IOW, `assert` is for checking conditions that should NEVER be violated, and where violation is cause to take drastic action.  It is NOT for conditions that may occur during normal execution.","body":"Depends on what you want to have happen.  If the assert triggers (i.e. the condition evaluates to <code>false</code>), an <code>AssertionError</code> (unchecked exception) is thrown and unless you handle it somewhere up the stack chain, the thread terminates.  IOW, <code>assert</code> is for checking conditions that should NEVER be violated, and where violation is cause to take drastic action.  It is NOT for conditions that may occur during normal execution."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1670712531,"post_id":74755901,"comment_id":131937796,"body_markdown":"`assert` is useful for checking your own code, to make sure you yourself didn’t make a mistake.  The method in your question is `private`, so assert is probably appropriate, since only your own code can call it.  For public methods that might be called by other code that you don’t control, assert should not be used;  in that case code should check the argument and throw IllegalArgumentException if there’s a problem (or NullPointerException if the argument was null but the method does not allow it to be null).","body":"<code>assert</code> is useful for checking your own code, to make sure you yourself didn’t make a mistake.  The method in your question is <code>private</code>, so assert is probably appropriate, since only your own code can call it.  For public methods that might be called by other code that you don’t control, assert should not be used;  in that case code should check the argument and throw IllegalArgumentException if there’s a problem (or NullPointerException if the argument was null but the method does not allow it to be null)."}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1670702108,"post_id":74755988,"comment_id":131936051,"body_markdown":"&quot;compiler flag&quot; is correct, but for enabling - from the [documentation](https://docs.oracle.com/en/java/javase/19/docs/specs/man/java.html#standard-options-for-java): &quot;*By default, assertions are disabled in all packages and classes.*&quot;","body":"&quot;compiler flag&quot; is correct, but for enabling - from the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/java.html#standard-options-for-java\" rel=\"nofollow noreferrer\">documentation</a>: &quot;<i>By default, assertions are disabled in all packages and classes.</i>&quot;"},{"owner":{"account_id":20363989,"reputation":5,"user_id":14937743,"display_name":"Giopav"},"score":0,"creation_date":1670711651,"post_id":74755988,"comment_id":131937660,"body_markdown":"So to draw up conclusions: Use them only where the result of the program would not change if they were or were not there (ex. help programmers with the logic). Am I right?","body":"So to draw up conclusions: Use them only where the result of the program would not change if they were or were not there (ex. help programmers with the logic). Am I right?"}],"tags":[],"owner":{"account_id":22581504,"reputation":100,"user_id":16766083,"display_name":"LarsJaeger"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670703462,"creation_date":1670701080,"answer_id":74755988,"question_id":74755901,"body_markdown":"Short answer:\r\n\r\nAssert should not be used for other purposes than debugging, especially not in production code. The reason for this is that these assert checks can be disabled. They are disabled by default and need to be enabled by using the `-ae` compiler flag (thanks @user16320675 for pointing this out).\r\n\r\nFor long answer and further information, see here: https://stackoverflow.com/questions/2758224/what-does-the-java-assert-keyword-do-and-when-should-it-be-used","title":"Where should I use the assert keyword in Java?","body":"<p>Short answer:</p>\n<p>Assert should not be used for other purposes than debugging, especially not in production code. The reason for this is that these assert checks can be disabled. They are disabled by default and need to be enabled by using the <code>-ae</code> compiler flag (thanks @user16320675 for pointing this out).</p>\n<p>For long answer and further information, see here: <a href=\"https://stackoverflow.com/questions/2758224/what-does-the-java-assert-keyword-do-and-when-should-it-be-used\">What does the Java assert keyword do, and when should it be used?</a></p>\n"},{"tags":[],"owner":{"account_id":27208444,"reputation":1,"user_id":20739642,"display_name":"Gagan Narang"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670701211,"creation_date":1670701211,"answer_id":74756008,"question_id":74755901,"body_markdown":"The assert keyword is used when debugging code. The assert keyword lets you test if a condition in your code returns True, if not, the program will raise an AssertionError. ","title":"Where should I use the assert keyword in Java?","body":"<p>The assert keyword is used when debugging code. The assert keyword lets you test if a condition in your code returns True, if not, the program will raise an AssertionError.</p>\n"}],"owner":{"account_id":20363989,"reputation":5,"user_id":14937743,"display_name":"Giopav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74755988,"answer_count":2,"score":0,"last_activity_date":1670703462,"creation_date":1670700012,"question_id":74755901,"body_markdown":"I know that the assert keyword should be used when we want to make a bug come out, but is it ok to use it in situations like the one that follows? The redirectAdd method only receives args whose length is more than 3, I added it for anyone who will read the method in the future to give some logical context, is it ok or it&#39;s better if I remove it and add a comment instead?\r\n\r\nThe code I&#39;m referring to:\r\n```\r\nprivate static boolean redirectAdd(Player player, String[] args, ItemStack mainHandItem) {\r\n    assert args.length &gt; 3;\r\n    if (args.length == 4) {\r\n        //more actions &amp; another return\r\n    } else if (args.length == 5) {\r\n        //more actions &amp; another return\r\n    } else if (args.length == 6) {\r\n        //more actions &amp; another return\r\n    } else {\r\n        player.sendMessage(ChatColor.RED + &quot;There are too many arguments! The last should be &quot; + args[5] + &quot;&quot;);\r\n        return false;\r\n    }\r\n}\r\n```","title":"Where should I use the assert keyword in Java?","body":"<p>I know that the assert keyword should be used when we want to make a bug come out, but is it ok to use it in situations like the one that follows? The redirectAdd method only receives args whose length is more than 3, I added it for anyone who will read the method in the future to give some logical context, is it ok or it's better if I remove it and add a comment instead?</p>\n<p>The code I'm referring to:</p>\n<pre><code>private static boolean redirectAdd(Player player, String[] args, ItemStack mainHandItem) {\n    assert args.length &gt; 3;\n    if (args.length == 4) {\n        //more actions &amp; another return\n    } else if (args.length == 5) {\n        //more actions &amp; another return\n    } else if (args.length == 6) {\n        //more actions &amp; another return\n    } else {\n        player.sendMessage(ChatColor.RED + &quot;There are too many arguments! The last should be &quot; + args[5] + &quot;&quot;);\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","input","menu","keyboard","jnativehook"],"owner":{"account_id":27213496,"reputation":1,"user_id":20743915,"display_name":"Ifini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670702934,"creation_date":1670702726,"question_id":74756176,"body_markdown":"I want to be able to navigate through my menu with the arrows and I don&#39;t know how to apply it on my program.\r\n\r\nI have a simple menu\r\n\r\n```\r\nprivate static String[] options = {&quot;1- Plus 1&quot;,\r\n            &quot;2- Minus 1&quot;,\r\n            &quot;3- Exit&quot;,\r\n    };\r\n\t\t\r\n\t    public void printMenu(){\r\n\t        for (String option : options){\r\n\t            System.out.println(option);\r\n\t        }\r\n\t        System.out.print(&quot;Choose an option : &quot;);\r\n\t    }\r\n\t    \r\n\t    public void main(String[] args) {\r\n\t        \r\n\t    \tint option = 1;\r\n\t        int a = 0;\r\n\t        Scanner scan = new Scanner(System.in);\r\n\t       \r\n\t        while (option != options.length=){\r\n\t            printMenu();\r\n\t            try {\r\n\t                option = scan.nextInt();\r\n\t                switch (option){\r\n\t                    case 1: a++; break;\r\n\t                    case 2: a--; break;\r\n\t                    case 3: exit(0);\r\n\t                }\r\n\t            }\r\n\t            catch (Exception ex){\r\n\t                System.out.println(&quot;Input a number between 1 and  &quot; + options.length);\r\n\t                scan.next();\r\n\t            }\r\n\t        }\r\n\t    }\r\n```\r\n\r\nand have a Class for the JNativeHook with the keys i want to use (UP, DOWN and ENTER) and I want to be able to move through the options up and down and use the Enter to select the one I want. The problem is that I don&#39;t have any idea how to do it, is there any way to do it?\r\nPS: Here is my JNativeHook class:\r\n\r\n```\r\n\r\npublic class GlobalKeyListenerExample implements NativeKeyListener {\r\n\t\r\n\tpublic void nativeKeyPressed(NativeKeyEvent e) {\r\n\t\tSystem.out.println(&quot;Key Pressed: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\r\n\t\t\r\n\t\tswitch(e.getKeyCode()) {\r\n\t\tcase NativeKeyEvent.VC_UP:\r\n\t\t\ttry {\r\n\t\t\t\tGlobalScreen.registerNativeHook();\r\n\t\t\t}\r\n\t\t\tcatch (NativeHookException ex) {\r\n\t\t\t\tSystem.err.println(&quot;There was a problem registering the native hook.&quot;);\r\n\t\t\t\tSystem.err.println(ex.getMessage());\r\n\t\t\t\r\n\t\t\t\tSystem.exit(1);\r\n\t\t\t}\r\n\t\tcase NativeKeyEvent.VC_DOWN:\r\n\t\t\ttry {\r\n\t\t\t\tGlobalScreen.registerNativeHook();\r\n\t\t\t}\r\n\t\t\tcatch (NativeHookException ex) {\r\n\t\t\t\tSystem.err.println(&quot;There was a problem registering the native hook.&quot;);\r\n\t\t\t\tSystem.err.println(ex.getMessage());\r\n\t\t\t\r\n\t\t\t\tSystem.exit(1);\r\n\t\t\t}\r\n\t\tcase NativeKeyEvent.VC_ENTER:\r\n\t\t\ttry {\r\n\t\t\t\tGlobalScreen.registerNativeHook();\r\n\t\t\t}\r\n\t\t\tcatch (NativeHookException ex) {\r\n\t\t\t\tSystem.err.println(&quot;There was a problem registering the native hook.&quot;);\r\n\t\t\t\tSystem.err.println(ex.getMessage());\r\n\t\t\t\r\n\t\t\t\tSystem.exit(1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void nativeKeyReleased(NativeKeyEvent e) {\r\n\t\tSystem.out.println(&quot;Key Released: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\r\n\t}\r\n\r\n\tpublic void nativeKeyTyped(NativeKeyEvent e) {\r\n\t\tSystem.out.println(&quot;Key Typed: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\r\n\t}\r\n\r\n}\r\n```","title":"How can I use the keyboard arrows to navigate in my menu with JNativeHook?","body":"<p>I want to be able to navigate through my menu with the arrows and I don't know how to apply it on my program.</p>\n<p>I have a simple menu</p>\n<pre><code>private static String[] options = {&quot;1- Plus 1&quot;,\n            &quot;2- Minus 1&quot;,\n            &quot;3- Exit&quot;,\n    };\n        \n        public void printMenu(){\n            for (String option : options){\n                System.out.println(option);\n            }\n            System.out.print(&quot;Choose an option : &quot;);\n        }\n        \n        public void main(String[] args) {\n            \n            int option = 1;\n            int a = 0;\n            Scanner scan = new Scanner(System.in);\n           \n            while (option != options.length=){\n                printMenu();\n                try {\n                    option = scan.nextInt();\n                    switch (option){\n                        case 1: a++; break;\n                        case 2: a--; break;\n                        case 3: exit(0);\n                    }\n                }\n                catch (Exception ex){\n                    System.out.println(&quot;Input a number between 1 and  &quot; + options.length);\n                    scan.next();\n                }\n            }\n        }\n</code></pre>\n<p>and have a Class for the JNativeHook with the keys i want to use (UP, DOWN and ENTER) and I want to be able to move through the options up and down and use the Enter to select the one I want. The problem is that I don't have any idea how to do it, is there any way to do it?\nPS: Here is my JNativeHook class:</p>\n<pre><code>\npublic class GlobalKeyListenerExample implements NativeKeyListener {\n    \n    public void nativeKeyPressed(NativeKeyEvent e) {\n        System.out.println(&quot;Key Pressed: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\n        \n        switch(e.getKeyCode()) {\n        case NativeKeyEvent.VC_UP:\n            try {\n                GlobalScreen.registerNativeHook();\n            }\n            catch (NativeHookException ex) {\n                System.err.println(&quot;There was a problem registering the native hook.&quot;);\n                System.err.println(ex.getMessage());\n            \n                System.exit(1);\n            }\n        case NativeKeyEvent.VC_DOWN:\n            try {\n                GlobalScreen.registerNativeHook();\n            }\n            catch (NativeHookException ex) {\n                System.err.println(&quot;There was a problem registering the native hook.&quot;);\n                System.err.println(ex.getMessage());\n            \n                System.exit(1);\n            }\n        case NativeKeyEvent.VC_ENTER:\n            try {\n                GlobalScreen.registerNativeHook();\n            }\n            catch (NativeHookException ex) {\n                System.err.println(&quot;There was a problem registering the native hook.&quot;);\n                System.err.println(ex.getMessage());\n            \n                System.exit(1);\n            }\n        }\n    }\n\n    public void nativeKeyReleased(NativeKeyEvent e) {\n        System.out.println(&quot;Key Released: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\n    }\n\n    public void nativeKeyTyped(NativeKeyEvent e) {\n        System.out.println(&quot;Key Typed: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1489223519,"post_id":42733366,"comment_id":72585234,"body_markdown":"Just google for &quot;Java enum tutorial&quot;, click on the first link, and read.","body":"Just google for &quot;Java enum tutorial&quot;, click on the first link, and read."},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1489223573,"post_id":42733366,"comment_id":72585252,"body_markdown":"enums can have a constructor and its own fields.... consider that too please","body":"enums can have a constructor and its own fields.... consider that too please"},{"owner":{"display_name":"user6446529"},"score":0,"creation_date":1489223617,"post_id":42733366,"comment_id":72585260,"body_markdown":"I would like to do this without a constructor","body":"I would like to do this without a constructor"},{"owner":{"account_id":10332275,"reputation":10473,"user_id":7621674,"accept_rate":100,"display_name":"m7913d"},"score":0,"creation_date":1489223625,"post_id":42733366,"comment_id":72585262,"body_markdown":"Possible duplicate of [Can I add a function to enums in Java?](http://stackoverflow.com/questions/2457076/can-i-add-a-function-to-enums-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2457076/can-i-add-a-function-to-enums-in-java\">Can I add a function to enums in Java?</a>"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1489223946,"post_id":42733366,"comment_id":72585332,"body_markdown":"@RubenOktay you can do it with an abstract method overridden in each enum, or your get() method could use a switch statement to test the value of `this`, but a field and a constructor is way simpler. Why wouldn&#39;t you use that?","body":"@RubenOktay you can do it with an abstract method overridden in each enum, or your get() method could use a switch statement to test the value of <code>this</code>, but a field and a constructor is way simpler. Why wouldn&#39;t you use that?"},{"owner":{"display_name":"user6446529"},"score":0,"creation_date":1489224213,"post_id":42733366,"comment_id":72585392,"body_markdown":"Well, i cannot use a constructor as the string will be updated often..","body":"Well, i cannot use a constructor as the string will be updated often.."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1489224332,"post_id":42733366,"comment_id":72585427,"body_markdown":"That&#39;s probably a bad idea, but anyway, I don&#39;t see how that prevents you from using a constructor. To the contrary. If the string s updated, you *need* a field to contain the new value, and you thus need a constructor to initialize the field.","body":"That&#39;s probably a bad idea, but anyway, I don&#39;t see how that prevents you from using a constructor. To the contrary. If the string s updated, you <i>need</i> a field to contain the new value, and you thus need a constructor to initialize the field."}],"answers":[{"tags":[],"owner":{"account_id":10202826,"reputation":499,"user_id":7532453,"accept_rate":25,"display_name":"Jayanand Raghuwanshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489223619,"creation_date":1489223619,"answer_id":42733411,"question_id":42733366,"body_markdown":"    enum Auth{\r\n    private enum Auth{\r\n    String value;\r\n    KEY(&quot;mykey&quot;), PASSWORD(&quot;mypassword&quot;),    MAIL(mymail&quot;);    \r\n\r\n    Auth(String value){\r\n    thia.value=value;\r\n    }\r\n    public String get(){\r\n        return value;\r\n    }\r\n    }","title":"Executing action depending on enum value","body":"<pre><code>enum Auth{\nprivate enum Auth{\nString value;\nKEY(\"mykey\"), PASSWORD(\"mypassword\"),    MAIL(mymail\");    \n\nAuth(String value){\nthia.value=value;\n}\npublic String get(){\n    return value;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2211023,"reputation":2409,"user_id":1952879,"display_name":"hmatar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489223623,"creation_date":1489223623,"answer_id":42733413,"question_id":42733366,"body_markdown":"You need to have a string which holds the name of of enum and a constructor which sets it. Then get method returns the name as below.\r\n\r\n     private enum Auth{\r\n    \r\n        KEY, PASSWORD, MAIL;    \r\n        string name;\r\n        public Auth(string nm) {\r\n          name = nm;\r\n        }\r\n        public String get(){\r\n            return name;\r\n        }\r\n     }","title":"Executing action depending on enum value","body":"<p>You need to have a string which holds the name of of enum and a constructor which sets it. Then get method returns the name as below.</p>\n\n<pre><code> private enum Auth{\n\n    KEY, PASSWORD, MAIL;    \n    string name;\n    public Auth(string nm) {\n      name = nm;\n    }\n    public String get(){\n        return name;\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1033857,"reputation":17546,"user_id":1041641,"accept_rate":67,"display_name":"TmTron"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489312898,"creation_date":1489223625,"answer_id":42733414,"question_id":42733366,"body_markdown":"Just add a field and constructor, as explained in the [java-docs][1]\r\n\r\nExample code:\r\n\r\n    enum Auth {\r\n    \r\n        KEY(&quot;myKey&quot;), PASSWORD(&quot;myPass&quot;), MAIL(&quot;myMail&quot;);    \r\n    \r\n        private final String identifier;\r\n    \r\n        Auth(String identifier) {\r\n            this.identifier = identifier;\r\n        }\r\n    \r\n        public String get(){\r\n            return identifier;\r\n        }\r\n    }\r\n\r\nAlso note, that there is [name()][2] and [toString()][3] which may be useful: see also [java-enum-why-use-tostring-instead-of-name][4]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#name()\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#toString()\r\n  [4]: https://stackoverflow.com/questions/13291076/java-enum-why-use-tostring-instead-of-name","title":"Executing action depending on enum value","body":"<p>Just add a field and constructor, as explained in the <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">java-docs</a></p>\n\n<p>Example code:</p>\n\n<pre><code>enum Auth {\n\n    KEY(\"myKey\"), PASSWORD(\"myPass\"), MAIL(\"myMail\");    \n\n    private final String identifier;\n\n    Auth(String identifier) {\n        this.identifier = identifier;\n    }\n\n    public String get(){\n        return identifier;\n    }\n}\n</code></pre>\n\n<p>Also note, that there is <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#name()\" rel=\"nofollow noreferrer\">name()</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#toString()\" rel=\"nofollow noreferrer\">toString()</a> which may be useful: see also <a href=\"https://stackoverflow.com/questions/13291076/java-enum-why-use-tostring-instead-of-name\">java-enum-why-use-tostring-instead-of-name</a></p>\n"},{"tags":[],"owner":{"account_id":10259245,"reputation":1507,"user_id":7571148,"display_name":"Markus Benko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1489261349,"creation_date":1489261349,"answer_id":42739762,"question_id":42733366,"body_markdown":"Although I strongly advise not to use the following mechanism for getting something simple like a hardcoded `String` from an enum value and rather use it for associating particular behavior like in `java.util.concurrent.TimeUnit`, this is how it can be achieved:\r\n\r\n    private enum Auth {\r\n        \r\n        KEY {\r\n            public String get() {\r\n                return &quot;mykey&quot;;\r\n            } \r\n        },\r\n        \r\n        PASSWORD {\r\n            public String get() {\r\n                return &quot;mypassword&quot;;\r\n            } \r\n        },\r\n        \r\n        MAIL {\r\n            public String get() {\r\n                return &quot;mymail&quot;;\r\n            } \r\n        };\r\n        \r\n        public abstract String get();\r\n        \r\n    }\r\n","title":"Executing action depending on enum value","body":"<p>Although I strongly advise not to use the following mechanism for getting something simple like a hardcoded <code>String</code> from an enum value and rather use it for associating particular behavior like in <code>java.util.concurrent.TimeUnit</code>, this is how it can be achieved:</p>\n\n<pre><code>private enum Auth {\n\n    KEY {\n        public String get() {\n            return \"mykey\";\n        } \n    },\n\n    PASSWORD {\n        public String get() {\n            return \"mypassword\";\n        } \n    },\n\n    MAIL {\n        public String get() {\n            return \"mymail\";\n        } \n    };\n\n    public abstract String get();\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user6446529"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1290,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":42739762,"answer_count":4,"score":0,"last_activity_date":1670701896,"creation_date":1489223225,"question_id":42733366,"body_markdown":"I&#39;m trying to retrieving a value depending on the enum value.\r\nBasically, let&#39;s say I have the following enum:\r\n\r\n    \tprivate enum Auth{\r\n\r\n\t\tKEY, PASSWORD, MAIL;\t\r\n\r\n\t\tpublic String get(){\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t}\r\nBy doing Auth.KEY.get() it would return &quot;mykey&quot;, while Auth.MAIL.get() would return &quot;mymail&quot;\r\nI googled a bit but I couldn&#39;t find an answer, I didn&#39;t try anything before because I totally hadn&#39;t an idea on how I could start.","title":"Executing action depending on enum value","body":"<p>I'm trying to retrieving a value depending on the enum value.\nBasically, let's say I have the following enum:</p>\n<pre><code>    private enum Auth{\n\n    KEY, PASSWORD, MAIL;    \n\n    public String get(){\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>By doing Auth.KEY.get() it would return &quot;mykey&quot;, while Auth.MAIL.get() would return &quot;mymail&quot;\nI googled a bit but I couldn't find an answer, I didn't try anything before because I totally hadn't an idea on how I could start.</p>\n"},{"tags":["java","kotlin","jvm","bytecode","byte-buddy"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1670694432,"post_id":74755182,"comment_id":131934530,"body_markdown":"How are you measuring this?  It&#39;d be perfectly normal for classes loaded later to be eligible for JIT later.","body":"How are you measuring this?  It&#39;d be perfectly normal for classes loaded later to be eligible for JIT later."},{"owner":{"account_id":19000857,"reputation":36,"user_id":13868280,"display_name":"Ossian Winter"},"score":0,"creation_date":1670694791,"post_id":74755182,"comment_id":131934612,"body_markdown":"Hey @LouisWasserman I&#39;m using KotlinX benchmark (JMH under the hood if unfamiliar), you can find the benchmarks [here](https://github.com/seppukudevelopment/seppuku2/tree/ecs-optimize/seppuku-sdk/ecs-codegen/src/test/kotlin/pw/seppuku/ecs/codegen)","body":"Hey @LouisWasserman I&#39;m using KotlinX benchmark (JMH under the hood if unfamiliar), you can find the benchmarks <a href=\"https://github.com/seppukudevelopment/seppuku2/tree/ecs-optimize/seppuku-sdk/ecs-codegen/src/test/kotlin/pw/seppuku/ecs/codegen\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1670710372,"post_id":74755182,"comment_id":131937424,"body_markdown":"I do not think that there is any particular reason. Are you running the latest JVM?","body":"I do not think that there is any particular reason. Are you running the latest JVM?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1670835580,"post_id":74755182,"comment_id":131956849,"body_markdown":"Questions about benchmark results without showing the benchmark are pointless. Besides that, both variants look convoluted to me. `Class` instances can be compared by reference (i.e. you can compare and branch with a single [`if_acmp` instruction](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.if_acmp_cond), instead of calling another method like `Intrinsics.areEqual(…)`, followed by `ifeq`). Also, there is no point in casting a reference to `java.lang.Object`. So you can shorten the entire method to 15 bytes. Though this might not have an effect on the performance…","body":"Questions about benchmark results without showing the benchmark are pointless. Besides that, both variants look convoluted to me. <code>Class</code> instances can be compared by reference (i.e. you can compare and branch with a single <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.if_acmp_cond\" rel=\"nofollow noreferrer\"><code>if_acmp</code> instruction</a>, instead of calling another method like <code>Intrinsics.areEqual(…)</code>, followed by <code>ifeq</code>). Also, there is no point in casting a reference to <code>java.lang.Object</code>. So you can shorten the entire method to 15 bytes. Though this might not have an effect on the performance…"},{"owner":{"account_id":19000857,"reputation":36,"user_id":13868280,"display_name":"Ossian Winter"},"score":0,"creation_date":1670924967,"post_id":74755182,"comment_id":131980203,"body_markdown":"@Holger using `if_acmpne` had close to no performance impact, I think it was how `JvmClassMappingKt#getJavaClass` works (maybe?) since I don&#39;t use it and am getting similar speeds to expected now","body":"@Holger using <code>if_acmpne</code> had close to no performance impact, I think it was how <code>JvmClassMappingKt#getJavaClass</code> works (maybe?) since I don&#39;t use it and am getting similar speeds to expected now"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670925943,"post_id":74755182,"comment_id":131980550,"body_markdown":"Well, I already said that I don’t expect an effect on performance (loading and verification time is outside the benchmark and still tiny for a single method). The two javap outputs you’ve posted both contain a `JvmClassMappingKt.getJavaClass` call, so that’s not explaining a difference in the outcome.","body":"Well, I already said that I don’t expect an effect on performance (loading and verification time is outside the benchmark and still tiny for a single method). The two javap outputs you’ve posted both contain a <code>JvmClassMappingKt.getJavaClass</code> call, so that’s not explaining a difference in the outcome."},{"owner":{"account_id":19000857,"reputation":36,"user_id":13868280,"display_name":"Ossian Winter"},"score":0,"creation_date":1670930558,"post_id":74755182,"comment_id":131982112,"body_markdown":"Hey @Holger [here](https://gist.github.com/wine/66a14672330f28ce55a54951a1fce7bf) is the javap output of the current generated code","body":"Hey @Holger <a href=\"https://gist.github.com/wine/66a14672330f28ce55a54951a1fce7bf\" rel=\"nofollow noreferrer\">here</a> is the javap output of the current generated code"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1671043682,"post_id":74755182,"comment_id":132014696,"body_markdown":"Well, yes, the new code not containing a `JvmClassMappingKt.getJavaClass` call is faster than the previous version containing it. But that doesn’t explain why the manual implementation also containing the `JvmClassMappingKt.getJavaClass` call is faster.","body":"Well, yes, the new code not containing a <code>JvmClassMappingKt.getJavaClass</code> call is faster than the previous version containing it. But that doesn’t explain why the manual implementation also containing the <code>JvmClassMappingKt.getJavaClass</code> call is faster."}],"owner":{"account_id":19000857,"reputation":36,"user_id":13868280,"display_name":"Ossian Winter"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670701219,"creation_date":1670693819,"question_id":74755182,"body_markdown":"I&#39;m using ByteBuddy to implement `hasComponent(KClass): Boolean` and `&lt;T&gt; findComponentOrNull(KClass): T?` for child classes of an `Entity` interface.\r\n\r\nI&#39;ve got it working, but it&#39;s around half the speed compared to a manual implementation.\r\nHere&#39;s some simple benchmark results (codegen benchmark doesn&#39;t include the time it takes to generate the bytecode)\r\n\r\n```\r\nBenchmark                                                     Mode  Cnt          Score        Error  Units\r\nCodegenBranchEntityBenchmark.findComponentOrNullBenchmark    thrpt    5   93353925.859 &#177; 626597.466  ops/s\r\nManualBranchEntityBenchmark.findComponentOrNullBenchmark     thrpt    5  213006529.660 &#177; 638025.482  ops/s\r\nMapLookupEntityBenchmark.findComponentOrNullBenchmark        thrpt    5  168355957.091 &#177; 633810.959  ops/s\r\n```\r\n\r\nI&#39;ve compared the bytecode of the generated implementation and the manual implementation and they&#39;re *almost* identical. I&#39;m guessing the generated class isn&#39;t being processed by the JIT at all for some reason?\r\n\r\n[`javap -c` output of manual implementation](https://gist.github.com/wine/48bc96641a19243d62e3f7c13821a8b9)\r\n\r\n[`javap -c` output of generated implementation](https://gist.github.com/wine/29c14a67692bf326d9f275d8b7a0042b)\r\n\r\nThe only significant difference from what I can tell is that the Kotlin compiler creates a `PropertyReference1Impl` which shouldn&#39;t affect performance this much?\r\n\r\nEDIT:\r\nI changed `findComponentOrNull` to take in a regular Java `Class` (can skip invoking `JvmClassMappingKt#getJavaClass`) and it&#39;s now running at the same speed. Seems like the JIT doesn&#39;t optimize `KClass` on dynamically loaded types? I have no clue why, but works as expected now.","title":"ByteBuddy loaded class is slower than expected","body":"<p>I'm using ByteBuddy to implement <code>hasComponent(KClass): Boolean</code> and <code>&lt;T&gt; findComponentOrNull(KClass): T?</code> for child classes of an <code>Entity</code> interface.</p>\n<p>I've got it working, but it's around half the speed compared to a manual implementation.\nHere's some simple benchmark results (codegen benchmark doesn't include the time it takes to generate the bytecode)</p>\n<pre><code>Benchmark                                                     Mode  Cnt          Score        Error  Units\nCodegenBranchEntityBenchmark.findComponentOrNullBenchmark    thrpt    5   93353925.859 ± 626597.466  ops/s\nManualBranchEntityBenchmark.findComponentOrNullBenchmark     thrpt    5  213006529.660 ± 638025.482  ops/s\nMapLookupEntityBenchmark.findComponentOrNullBenchmark        thrpt    5  168355957.091 ± 633810.959  ops/s\n</code></pre>\n<p>I've compared the bytecode of the generated implementation and the manual implementation and they're <em>almost</em> identical. I'm guessing the generated class isn't being processed by the JIT at all for some reason?</p>\n<p><a href=\"https://gist.github.com/wine/48bc96641a19243d62e3f7c13821a8b9\" rel=\"nofollow noreferrer\"><code>javap -c</code> output of manual implementation</a></p>\n<p><a href=\"https://gist.github.com/wine/29c14a67692bf326d9f275d8b7a0042b\" rel=\"nofollow noreferrer\"><code>javap -c</code> output of generated implementation</a></p>\n<p>The only significant difference from what I can tell is that the Kotlin compiler creates a <code>PropertyReference1Impl</code> which shouldn't affect performance this much?</p>\n<p>EDIT:\nI changed <code>findComponentOrNull</code> to take in a regular Java <code>Class</code> (can skip invoking <code>JvmClassMappingKt#getJavaClass</code>) and it's now running at the same speed. Seems like the JIT doesn't optimize <code>KClass</code> on dynamically loaded types? I have no clue why, but works as expected now.</p>\n"},{"tags":["java","eclipse","vlcj","module-info"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1670669183,"post_id":74751852,"comment_id":131929644,"body_markdown":"Did  you also move things from the Classpath to the Modulepath in build path settings? They will need to be in the Classpath now.","body":"Did  you also move things from the Classpath to the Modulepath in build path settings? They will need to be in the Classpath now."},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1670671650,"post_id":74751852,"comment_id":131930034,"body_markdown":"I see that all my ressources/external libraries are listed below the Modulepath. The Classpath has nothing in it. I am not sure how this looked before tbh., but moving the vlcj libraries to the Classpath solved the issue for me. Thank you!","body":"I see that all my ressources/external libraries are listed below the Modulepath. The Classpath has nothing in it. I am not sure how this looked before tbh., but moving the vlcj libraries to the Classpath solved the issue for me. Thank you!"},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1670671922,"post_id":74751852,"comment_id":131930073,"body_markdown":"Btw., I found out that the problem can also be solved by exposing the missing internal vlcj packages in the &quot;Module Dependencies&quot; tab! With this, it is okay for the libraries to remain in the Module Path. It seems this could be an alternate solution. Thanks again for your help.","body":"Btw., I found out that the problem can also be solved by exposing the missing internal vlcj packages in the &quot;Module Dependencies&quot; tab! With this, it is okay for the libraries to remain in the Module Path. It seems this could be an alternate solution. Thanks again for your help."},{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1670679727,"post_id":74751852,"comment_id":131931566,"body_markdown":"vlcj&#39;s adoption of modules is quite recent, it&#39;s possible there are issues, posting at the GitHub project page with specific examples might be helpful.","body":"vlcj&#39;s adoption of modules is quite recent, it&#39;s possible there are issues, posting at the GitHub project page with specific examples might be helpful."}],"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670699998,"creation_date":1670665569,"question_id":74751852,"body_markdown":"I have recently migrated my project from Java8 to Java17. I wanted to try out the module system and added a `module-info.java` to my existing Eclipse project. As it caused several issues, I decided to revert back the change and to proceed without declaring modules. I deleted the file, but now I am getting compile errors. It is stated that `LibX11` and `libvlc_instance_t` cannot be resolved to be a type and that they are not accessible. Why is that? It was working fine before. It seems that adding and removing the `module-info.java` has somehow messed up my configuration.&lt;br&gt;&lt;br&gt;\r\nI need to access `libvlc_instance_t` because I need to subclass `MediaPlayer`, which requires a reference to `libvlc_instance_t` in the constructor. If `libvlc_instance_t` is really not meant to be used, how can I solve this? Thank you!","title":"vlcj: libvlc_instance_t not accessible after module creation","body":"<p>I have recently migrated my project from Java8 to Java17. I wanted to try out the module system and added a <code>module-info.java</code> to my existing Eclipse project. As it caused several issues, I decided to revert back the change and to proceed without declaring modules. I deleted the file, but now I am getting compile errors. It is stated that <code>LibX11</code> and <code>libvlc_instance_t</code> cannot be resolved to be a type and that they are not accessible. Why is that? It was working fine before. It seems that adding and removing the <code>module-info.java</code> has somehow messed up my configuration.<br><br>\nI need to access <code>libvlc_instance_t</code> because I need to subclass <code>MediaPlayer</code>, which requires a reference to <code>libvlc_instance_t</code> in the constructor. If <code>libvlc_instance_t</code> is really not meant to be used, how can I solve this? Thank you!</p>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1670699618,"post_id":74755785,"comment_id":131935637,"body_markdown":"do you mean the &quot;Step Over (F8)&quot; function? Or more like the &quot;Do not step into the classes&quot; settings?","body":"do you mean the &quot;Step Over (F8)&quot; function? Or more like the &quot;Do not step into the classes&quot; settings?"},{"owner":{"account_id":25167589,"reputation":340,"user_id":19010882,"display_name":"Prectron"},"score":0,"creation_date":1670796844,"post_id":74755785,"comment_id":131950818,"body_markdown":"I guess you have a breakpoint in your function, and the debugger stops there every time this code is executed, which means in every recursive call, even if you select the &quot;Step Over&quot; option. If you want to control when to go into a call, disable/remove the breakpoint and use the &quot;Step Into&quot; and &quot;Step Over&quot; options.","body":"I guess you have a breakpoint in your function, and the debugger stops there every time this code is executed, which means in every recursive call, even if you select the &quot;Step Over&quot; option. If you want to control when to go into a call, disable/remove the breakpoint and use the &quot;Step Into&quot; and &quot;Step Over&quot; options."}],"owner":{"account_id":7104841,"reputation":19,"user_id":5434848,"display_name":"Aris Emery"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670698793,"creation_date":1670698793,"question_id":74755785,"body_markdown":"I am trying to debug recursive functions and it automatically steps into every recursive call. Why would it ever do that when it has a step into button and it doesn&#39;t do that with other function calls? I know you can see the call stack and manually revert back, but that is very time consuming and easy to mess up. Is there a way to make it just not decide to automatically step into recursive calls that I haven&#39;t told it to step into?","title":"Is there a way to make intellij debugger not step into every recursive call?","body":"<p>I am trying to debug recursive functions and it automatically steps into every recursive call. Why would it ever do that when it has a step into button and it doesn't do that with other function calls? I know you can see the call stack and manually revert back, but that is very time consuming and easy to mess up. Is there a way to make it just not decide to automatically step into recursive calls that I haven't told it to step into?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1670698970,"post_id":74755749,"comment_id":131935501,"body_markdown":"Save merges what you pass in into the managed instance if there is one, so that all references are kept intact. As long as you are part of the same entityManager context, it maintains the cache of the entity. It will return the &#39;existing&#39; value, but if you think something has changed out from under your entity since the find call - you can flush and try to refresh the entity using em.refresh.","body":"Save merges what you pass in into the managed instance if there is one, so that all references are kept intact. As long as you are part of the same entityManager context, it maintains the cache of the entity. It will return the &#39;existing&#39; value, but if you think something has changed out from under your entity since the find call - you can flush and try to refresh the entity using em.refresh."}],"owner":{"account_id":10146758,"reputation":15,"user_id":7968394,"display_name":"Paramsmit Sanghani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670698420,"creation_date":1670698420,"question_id":74755749,"body_markdown":"I ve a method to first get the instance (here Organization) of the hibernate entity and then update it with some value.\r\n\r\n```\r\n    public Organization update(Organization organization) throws RecordNotFoundException {\r\n\r\n      // verify organization exist or not\r\n\r\n      Organization currentOrganization = getById(organization.getId());\r\n      // getById internally calls findById of CrudRepository of JPA\r\n\r\n      Organization updatedOrg = getRepository().save(organization);\r\n      // this calls internally save method of CrudRepository of JPA\r\n\r\n      return updatedOrg;\r\n\r\n    }\r\n```\r\n\r\nMy query is why currentOrganization and updateOrg references points to the same object in the memory? i checked it by printing hashcodes of both the references.   \r\n\r\n\r\n\r\n\r\nI ve an createdAt field in organization object. It will automatically populated when first time organization is stored in db. But when i update it using the save() method i want to return the existing value rather than whatever is set the request object. \r\n\r\n\r\n```\r\n public Organization update(Organization organization) throws RecordNotFoundException {\r\n\r\n      // verify organization exist or not\r\n\r\n      Organization currentOrganization = getById(organization.getId());\r\n      Organization updatedOrg = getRepository().save(organization);\r\n      updatedOrg.setCreatedAt(currentOrganization.getCreatedAt());\r\n      return updatedOrg;\r\n\r\n    }\r\n```\r\n\r\nbut this is not working. After creating updatedOrg object, currentOrganzation is also some how points to the same object which updatedOrg is referencing. ","title":"references return by findById() and save() method calls of spring JPA points to same object","body":"<p>I ve a method to first get the instance (here Organization) of the hibernate entity and then update it with some value.</p>\n<pre><code>    public Organization update(Organization organization) throws RecordNotFoundException {\n\n      // verify organization exist or not\n\n      Organization currentOrganization = getById(organization.getId());\n      // getById internally calls findById of CrudRepository of JPA\n\n      Organization updatedOrg = getRepository().save(organization);\n      // this calls internally save method of CrudRepository of JPA\n\n      return updatedOrg;\n\n    }\n</code></pre>\n<p>My query is why currentOrganization and updateOrg references points to the same object in the memory? i checked it by printing hashcodes of both the references.</p>\n<p>I ve an createdAt field in organization object. It will automatically populated when first time organization is stored in db. But when i update it using the save() method i want to return the existing value rather than whatever is set the request object.</p>\n<pre><code> public Organization update(Organization organization) throws RecordNotFoundException {\n\n      // verify organization exist or not\n\n      Organization currentOrganization = getById(organization.getId());\n      Organization updatedOrg = getRepository().save(organization);\n      updatedOrg.setCreatedAt(currentOrganization.getCreatedAt());\n      return updatedOrg;\n\n    }\n</code></pre>\n<p>but this is not working. After creating updatedOrg object, currentOrganzation is also some how points to the same object which updatedOrg is referencing.</p>\n"},{"tags":["java","spring-boot","maven","spring-security"],"comments":[{"owner":{"account_id":314604,"reputation":4123,"user_id":629868,"accept_rate":58,"display_name":"Neets"},"score":0,"creation_date":1692272813,"post_id":63011695,"comment_id":135602301,"body_markdown":"Did you ever figure out how to migrate TokenStore, TokenServices etc to the new Spring Security version?","body":"Did you ever figure out how to migrate TokenStore, TokenServices etc to the new Spring Security version?"}],"answers":[{"comments":[{"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"score":1,"creation_date":1607088573,"post_id":65140801,"comment_id":115169375,"body_markdown":"Thank you very much, sir. I appreciate your time to write here down the facts. I read about this current state in the spring documentation, but I forgot to close this issue with some explanation. :)","body":"Thank you very much, sir. I appreciate your time to write here down the facts. I read about this current state in the spring documentation, but I forgot to close this issue with some explanation. :)"},{"owner":{"account_id":1988712,"reputation":655,"user_id":1783283,"display_name":"Jonathan"},"score":0,"creation_date":1619101252,"post_id":65140801,"comment_id":118807501,"body_markdown":"Being the spring-authorization-server still experimental and currently on version 0.1.0, I would keep using the previous &quot;Deprecated&quot; version till it becomes more stable rather than switching to KeyClock now to switch back later in future.","body":"Being the spring-authorization-server still experimental and currently on version 0.1.0, I would keep using the previous &quot;Deprecated&quot; version till it becomes more stable rather than switching to KeyClock now to switch back later in future."},{"owner":{"account_id":155944,"reputation":1010,"user_id":1467744,"display_name":"Mohamad Eghlima"},"score":0,"creation_date":1670131894,"post_id":65140801,"comment_id":131800161,"body_markdown":"Hi, do you know a best tutorial to migrate the same situation at this date? do you know if the authorization server is available in the spring security now?","body":"Hi, do you know a best tutorial to migrate the same situation at this date? do you know if the authorization server is available in the spring security now?"},{"owner":{"account_id":16125832,"reputation":498,"user_id":11640603,"display_name":"Amit Mishra"},"score":0,"creation_date":1670223923,"post_id":65140801,"comment_id":131817467,"body_markdown":"You mean migration from old spring security oauth2 to latest one ?","body":"You mean migration from old spring security oauth2 to latest one ?"}],"tags":[],"owner":{"account_id":16125832,"reputation":498,"user_id":11640603,"display_name":"Amit Mishra"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1607073242,"creation_date":1607073242,"answer_id":65140801,"question_id":63011695,"body_markdown":"In spring security&#39;s current release they have not given support of authorization server. They are working on authorization server support but the project is under experimental mode. Besides spring security team already integrated resource server as well as Oauth2 client support in spring security 5 as single spring security project. Until, they don&#39;t release the support of latest spring&#39;s authorization server you can use your old authorization server but you won&#39;t be able to keep your resource server auth server because latest resource server and client configuration comes in different dependency and the configurations will conflict with old oauth2 support .\r\n\r\nI would recommend you to use any other authorization server meanwhile they release spring&#39;s latest auth server. I would suggest you to use keyclock auth server that I am personally using.\r\n\r\nSee [this](https://github.com/spring-projects-experimental/spring-authorization-server)","title":"Migration guide for Spring security 5","body":"<p>In spring security's current release they have not given support of authorization server. They are working on authorization server support but the project is under experimental mode. Besides spring security team already integrated resource server as well as Oauth2 client support in spring security 5 as single spring security project. Until, they don't release the support of latest spring's authorization server you can use your old authorization server but you won't be able to keep your resource server auth server because latest resource server and client configuration comes in different dependency and the configurations will conflict with old oauth2 support .</p>\n<p>I would recommend you to use any other authorization server meanwhile they release spring's latest auth server. I would suggest you to use keyclock auth server that I am personally using.</p>\n<p>See <a href=\"https://github.com/spring-projects-experimental/spring-authorization-server\" rel=\"noreferrer\">this</a></p>\n"},{"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1670698576,"post_id":74755704,"comment_id":131935421,"body_markdown":"Before rushing to it, one should be aware that it is still far behind other &quot;well known&quot; OIDC authorization-servers in terms of features: multi factor authentication, user registration forms, clients and user management screens (including roles), social login,  connection to LDAP, etc. I really don&#39;t get the point to re-implement all that when I can just start a Keycloak instance or subscribe to an Auth0 free account...","body":"Before rushing to it, one should be aware that it is still far behind other &quot;well known&quot; OIDC authorization-servers in terms of features: multi factor authentication, user registration forms, clients and user management screens (including roles), social login,  connection to LDAP, etc. I really don&#39;t get the point to re-implement all that when I can just start a Keycloak instance or subscribe to an Auth0 free account..."},{"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"score":0,"creation_date":1670698881,"post_id":74755704,"comment_id":131935476,"body_markdown":"Yes, I agree with using Keycloak potentially.","body":"Yes, I agree with using Keycloak potentially."}],"tags":[],"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670698015,"creation_date":1670698015,"answer_id":74755704,"question_id":63011695,"body_markdown":"For everyone, who wants to use the newest solution the Spring already released [the authorization server][1].\r\n\r\n  [1]: https://docs.spring.io/spring-authorization-server/docs/current/reference/html/getting-started.html\r\n\r\nMaven dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Migration guide for Spring security 5","body":"<p>For everyone, who wants to use the newest solution the Spring already released <a href=\"https://docs.spring.io/spring-authorization-server/docs/current/reference/html/getting-started.html\" rel=\"nofollow noreferrer\">the authorization server</a>.</p>\n<p>Maven dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11040,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":74755704,"answer_count":2,"score":9,"last_activity_date":1670698015,"creation_date":1595324578,"question_id":63011695,"body_markdown":"I have multi-module maven project Spring boot 2.3.1.RELEASE, there I use spring security over OAuth 2.0. One of my modules contains configuration for security:\r\n\r\nAuthorization server config\r\n``` java\r\n@Configuration\r\n@EnableAuthorizationServer //deprecated\r\npublic class AuthorizationServerOAuth2Config extends AuthorizationServerConfigurerAdapter { //deprecated\r\n\r\n    private static final String SINGING_KEY = &quot;&quot;;\r\n    private static final String CLIENT_ID = &quot;&quot;;\r\n    private static final String CLIENT_SECRET = &quot;&quot;;\r\n    private static final String[] AUTHORIZED_GRANT_TYPES = {&quot;password&quot;, &quot;refresh_token&quot;};\r\n    private static final String[] SCOPES = {&quot;read&quot;, &quot;write&quot;};\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;authenticationManagerBean&quot;)\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    public void configure(AuthorizationServerSecurityConfigurer security) { //deprecated\r\n        security\r\n                .tokenKeyAccess(&quot;permitAll()&quot;)\r\n                .checkTokenAccess(&quot;isAuthenticated()&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception { //deprecated\r\n\r\n        clients.inMemory()\r\n                .withClient(CLIENT_ID)\r\n                .secret(passwordEncoder.encode(CLIENT_SECRET))\r\n                .authorizedGrantTypes(AUTHORIZED_GRANT_TYPES)\r\n                .scopes(SCOPES)\r\n                .accessTokenValiditySeconds(1800)\r\n                .refreshTokenValiditySeconds(9600);\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) { //deprecated\r\n\r\n        endpoints\r\n                .tokenStore(tokenStore())\r\n                .authenticationManager(authenticationManager)\r\n                .accessTokenConverter(accessTokenConverter());\r\n    }\r\n\r\n    @Bean\r\n    public JwtAccessTokenConverter accessTokenConverter() { //deprecated\r\n        JwtAccessTokenConverter converter = new JwtAccessTokenConverter();\r\n        converter.setSigningKey(SINGING_KEY);\r\n        return converter;\r\n    }\r\n\r\n    @Bean\r\n    public TokenStore tokenStore() { //deprecated\r\n        return new JwtTokenStore(accessTokenConverter());\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public DefaultTokenServices tokenServices() { //deprecated\r\n        DefaultTokenServices defaultTokenServices = new DefaultTokenServices();\r\n        defaultTokenServices.setTokenStore(tokenStore());\r\n        defaultTokenServices.setSupportRefreshToken(true);\r\n        return defaultTokenServices;\r\n    }\r\n}\r\n\r\n```\r\nResource server config\r\n``` java\r\n@Configuration\r\n@EnableResourceServer //deprecated\r\npublic class ResourceServerOAuth2Config extends ResourceServerConfigurerAdapter { //deprecated\r\n}\r\n```\r\n\r\npom.xml\r\n``` xml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.skill.improvement&lt;/groupId&gt;\r\n        &lt;artifactId&gt;app&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;security&lt;/artifactId&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;!-- 2.3.1.RELEASE --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;!-- 2.3.1.RELEASE --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMain security config \r\n``` java\r\n\r\n@Order(1)\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private static final String ADMIN_PASSWORD = &quot;&quot;;\r\n    private static final String USER_PASSWORD = &quot;&quot;;\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .httpBasic().disable()\r\n                .csrf().disable()\r\n                .anonymous().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/v1/**&quot;).authenticated()\r\n                .and().exceptionHandling().authenticationEntryPoint(new JwtAuthenticationEntryPoint())\r\n                .and().exceptionHandling().accessDeniedHandler(new OAuth2AccessDeniedHandler()) //deprecated\r\n                .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) {\r\n        web.ignoring()\r\n                .antMatchers(\r\n                &quot;/v2/api-docs&quot;,\r\n                &quot;/configuration/ui&quot;,\r\n                &quot;/swagger-resources/**&quot;,\r\n                &quot;/configuration/security&quot;,\r\n                &quot;/swagger-ui.html&quot;,\r\n                &quot;/webjars/**&quot;)\r\n        .antMatchers(HttpMethod.GET, &quot;/v1/**&quot;)\r\n        .antMatchers(HttpMethod.PATCH, &quot;/v1/**&quot;);\r\n    }\r\n\r\n    @Autowired\r\n    public void globalUserDetails(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(inMemoryUserDetailsManager());\r\n    }\r\n\r\n    @Override\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Bean\r\n    public InMemoryUserDetailsManager inMemoryUserDetailsManager() {\r\n\r\n        return new InMemoryUserDetailsManager(getDefaultUsers());\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public OncePerRequestFilter jwtAuthenticationFilter() {\r\n        return new JwtAuthenticationFilter();\r\n    }\r\n\r\n    private List&lt;UserDetails&gt; getDefaultUsers() {\r\n\r\n        List&lt;UserDetails&gt; userDetailsList = new ArrayList&lt;&gt;();\r\n        userDetailsList.add(User.withUsername(&quot;admin&quot;).password(passwordEncoder().encode(ADMIN_PASSWORD))\r\n                .roles(&quot;ADMIN&quot;).build());\r\n        userDetailsList.add(User.withUsername(&quot;user&quot;).password(passwordEncoder().encode(USER_PASSWORD))\r\n                .roles(&quot;USER&quot;).build());\r\n        return userDetailsList;\r\n    }\r\n}\r\n\r\n```\r\nEverything works fine, but almost everything is deprecated since Spring Security 5.2.x. I read [this guide][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Migration-Guide\r\n\r\nbut I am not sure how to successfully finish the migration. Is there any understandable guide on how to do it?","title":"Migration guide for Spring security 5","body":"<p>I have multi-module maven project Spring boot 2.3.1.RELEASE, there I use spring security over OAuth 2.0. One of my modules contains configuration for security:</p>\n<p>Authorization server config</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableAuthorizationServer //deprecated\npublic class AuthorizationServerOAuth2Config extends AuthorizationServerConfigurerAdapter { //deprecated\n\n    private static final String SINGING_KEY = &quot;&quot;;\n    private static final String CLIENT_ID = &quot;&quot;;\n    private static final String CLIENT_SECRET = &quot;&quot;;\n    private static final String[] AUTHORIZED_GRANT_TYPES = {&quot;password&quot;, &quot;refresh_token&quot;};\n    private static final String[] SCOPES = {&quot;read&quot;, &quot;write&quot;};\n\n    @Autowired\n    @Qualifier(&quot;authenticationManagerBean&quot;)\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer security) { //deprecated\n        security\n                .tokenKeyAccess(&quot;permitAll()&quot;)\n                .checkTokenAccess(&quot;isAuthenticated()&quot;);\n    }\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception { //deprecated\n\n        clients.inMemory()\n                .withClient(CLIENT_ID)\n                .secret(passwordEncoder.encode(CLIENT_SECRET))\n                .authorizedGrantTypes(AUTHORIZED_GRANT_TYPES)\n                .scopes(SCOPES)\n                .accessTokenValiditySeconds(1800)\n                .refreshTokenValiditySeconds(9600);\n    }\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) { //deprecated\n\n        endpoints\n                .tokenStore(tokenStore())\n                .authenticationManager(authenticationManager)\n                .accessTokenConverter(accessTokenConverter());\n    }\n\n    @Bean\n    public JwtAccessTokenConverter accessTokenConverter() { //deprecated\n        JwtAccessTokenConverter converter = new JwtAccessTokenConverter();\n        converter.setSigningKey(SINGING_KEY);\n        return converter;\n    }\n\n    @Bean\n    public TokenStore tokenStore() { //deprecated\n        return new JwtTokenStore(accessTokenConverter());\n    }\n\n    @Bean\n    @Primary\n    public DefaultTokenServices tokenServices() { //deprecated\n        DefaultTokenServices defaultTokenServices = new DefaultTokenServices();\n        defaultTokenServices.setTokenStore(tokenStore());\n        defaultTokenServices.setSupportRefreshToken(true);\n        return defaultTokenServices;\n    }\n}\n\n</code></pre>\n<p>Resource server config</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableResourceServer //deprecated\npublic class ResourceServerOAuth2Config extends ResourceServerConfigurerAdapter { //deprecated\n}\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.skill.improvement&lt;/groupId&gt;\n        &lt;artifactId&gt;app&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;security&lt;/artifactId&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;!-- 2.3.1.RELEASE --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;!-- 2.3.1.RELEASE --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Main security config</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Order(1)\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private static final String ADMIN_PASSWORD = &quot;&quot;;\n    private static final String USER_PASSWORD = &quot;&quot;;\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http\n                .httpBasic().disable()\n                .csrf().disable()\n                .anonymous().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/v1/**&quot;).authenticated()\n                .and().exceptionHandling().authenticationEntryPoint(new JwtAuthenticationEntryPoint())\n                .and().exceptionHandling().accessDeniedHandler(new OAuth2AccessDeniedHandler()) //deprecated\n                .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Override\n    public void configure(WebSecurity web) {\n        web.ignoring()\n                .antMatchers(\n                &quot;/v2/api-docs&quot;,\n                &quot;/configuration/ui&quot;,\n                &quot;/swagger-resources/**&quot;,\n                &quot;/configuration/security&quot;,\n                &quot;/swagger-ui.html&quot;,\n                &quot;/webjars/**&quot;)\n        .antMatchers(HttpMethod.GET, &quot;/v1/**&quot;)\n        .antMatchers(HttpMethod.PATCH, &quot;/v1/**&quot;);\n    }\n\n    @Autowired\n    public void globalUserDetails(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(inMemoryUserDetailsManager());\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public InMemoryUserDetailsManager inMemoryUserDetailsManager() {\n\n        return new InMemoryUserDetailsManager(getDefaultUsers());\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public OncePerRequestFilter jwtAuthenticationFilter() {\n        return new JwtAuthenticationFilter();\n    }\n\n    private List&lt;UserDetails&gt; getDefaultUsers() {\n\n        List&lt;UserDetails&gt; userDetailsList = new ArrayList&lt;&gt;();\n        userDetailsList.add(User.withUsername(&quot;admin&quot;).password(passwordEncoder().encode(ADMIN_PASSWORD))\n                .roles(&quot;ADMIN&quot;).build());\n        userDetailsList.add(User.withUsername(&quot;user&quot;).password(passwordEncoder().encode(USER_PASSWORD))\n                .roles(&quot;USER&quot;).build());\n        return userDetailsList;\n    }\n}\n\n</code></pre>\n<p>Everything works fine, but almost everything is deprecated since Spring Security 5.2.x. I read <a href=\"https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Migration-Guide\" rel=\"noreferrer\">this guide</a></p>\n<p>but I am not sure how to successfully finish the migration. Is there any understandable guide on how to do it?</p>\n"},{"tags":["java","spring-boot","maven","spring-boot-starter"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1669204671,"post_id":74546399,"comment_id":131590458,"body_markdown":"Please show your pom file of both project of the consuming project as well as of the magic-lib-1 project...","body":"Please show your pom file of both project of the consuming project as well as of the magic-lib-1 project..."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1669208434,"post_id":74546399,"comment_id":131591732,"body_markdown":"You could check the scope of the maven dependency in the starter component.","body":"You could check the scope of the maven dependency in the starter component."},{"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"score":0,"creation_date":1669214222,"post_id":74546399,"comment_id":131594060,"body_markdown":"@Mena, it is default (compile)","body":"@Mena, it is default (compile)"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1669215100,"post_id":74546399,"comment_id":131594432,"body_markdown":"@VeryNiceArgumentException nevermind then. As hinted by others, you probably want to produce an MVCE at this point.","body":"@VeryNiceArgumentException nevermind then. As hinted by others, you probably want to produce an MVCE at this point."},{"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"score":0,"creation_date":1669220441,"post_id":74546399,"comment_id":131596526,"body_markdown":"I&#39;ll provide it soon","body":"I&#39;ll provide it soon"},{"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"score":0,"creation_date":1670077590,"post_id":74546399,"comment_id":131791466,"body_markdown":"done. please let me know if you need something else","body":"done. please let me know if you need something else"},{"owner":{"account_id":4670447,"reputation":331,"user_id":3782348,"accept_rate":60,"display_name":"Amol Bais"},"score":0,"creation_date":1670245127,"post_id":74546399,"comment_id":131824214,"body_markdown":"have you tried `mvn dependency:tree`","body":"have you tried <code>mvn dependency:tree</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1670245358,"post_id":74546399,"comment_id":131824291,"body_markdown":"compile time dependencies will be downloaded automatically, whereas `runtime` and `provided` aren&#39;t. So your reasoning doesn&#39;t make sense. Something makes it either `optional` or changes the scope to `provided`.","body":"compile time dependencies will be downloaded automatically, whereas <code>runtime</code> and <code>provided</code> aren&#39;t. So your reasoning doesn&#39;t make sense. Something makes it either <code>optional</code> or changes the scope to <code>provided</code>."},{"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"score":0,"creation_date":1670246154,"post_id":74546399,"comment_id":131824605,"body_markdown":"you right @M.Deinum. I removed my last update","body":"you right @M.Deinum. I removed my last update"}],"answers":[{"tags":[],"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670696584,"creation_date":1670696584,"answer_id":74755523,"question_id":74546399,"body_markdown":"It turned out to be a Nexus publishing issue. The starter component was being published with a generated pom.xml file without any dependency (without Kafka)\r\n\r\nThe issue was fixed when I published a new version pointing to a complete pom.xml file.\r\n\r\nhttps://maven.apache.org/plugins/maven-deploy-plugin/examples/deploying-with-customized-pom.html","title":"Maven - transient dependency not being resolved","body":"<p>It turned out to be a Nexus publishing issue. The starter component was being published with a generated pom.xml file without any dependency (without Kafka)</p>\n<p>The issue was fixed when I published a new version pointing to a complete pom.xml file.</p>\n<p><a href=\"https://maven.apache.org/plugins/maven-deploy-plugin/examples/deploying-with-customized-pom.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-deploy-plugin/examples/deploying-with-customized-pom.html</a></p>\n"},{"comments":[{"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"score":0,"creation_date":1670699080,"post_id":74755675,"comment_id":131935526,"body_markdown":"Could you explain why this pom.xml is relevant to the topic, please?","body":"Could you explain why this pom.xml is relevant to the topic, please?"}],"tags":[],"owner":{"account_id":26548160,"reputation":1,"user_id":20177936,"display_name":"Abhishek Kumar Nayak"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670697791,"creation_date":1670697791,"answer_id":74755675,"question_id":74546399,"body_markdown":"&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.starter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;component-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.3-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;component-starter&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;","title":"Maven - transient dependency not being resolved","body":"<p>\n\norg.springframework.boot\nspring-boot-starter-parent\n2.7.0\n \n</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.starter&lt;/groupId&gt;\n&lt;artifactId&gt;component-starter&lt;/artifactId&gt;\n&lt;version&gt;1.0.3-SNAPSHOT&lt;/version&gt;\n\n&lt;name&gt;component-starter&lt;/name&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.20&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n"}],"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74755523,"answer_count":2,"score":0,"last_activity_date":1670697791,"creation_date":1669204503,"question_id":74546399,"body_markdown":"I created a `Spring Boot Starter Component` that depends on Kafka. \r\n\r\nWhen I use the `Starter Component` as one of the dependencies in other project it fails to start due a missing class from Kafka library:\r\n\r\n`Caused by: java.lang.ClassNotFoundException: org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory`\r\n\r\nIf I explicitly put Kafka as a dependency in the other project it works, but I would expect it not being necessary since Kafka is a dependency from the `Starter Component` and it should be resolved transiently \r\n\r\n\r\n**EXCEPTION**\r\n```\r\n2022-12-03T14:05:42,321 DEBUG [main] o.s.b.StartupInfoLogger: Running with Spring Boot v2.7.0, Spring v5.3.20\r\n2022-12-03T14:05:42,323 INFO  [main] o.s.b.SpringApplication: The following 1 profile is active: &quot;docker&quot;\r\n2022-12-03T14:05:43,161 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-12-03T14:05:43,228 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 56 ms. Found 3 JPA repository interfaces.\r\n2022-12-03T14:05:43,500 ERROR [main] o.s.b.SpringApplication: Application run failed\r\njava.lang.IllegalStateException: Error processing condition on org.starter.autoconfigure.AppConfiguration.kafkaListenerContainerFactory\r\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\r\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193)\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153)\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n        at com.foo.bar.Application.main(Application.java:11)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: java.lang.IllegalStateException: @ConditionalOnMissingBean did not specify a bean using type, name or annotation and the attempt to deduce the bean&#39;s type failed\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.validate(OnBeanCondition.java:494)\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.&lt;init&gt;(OnBeanCondition.java:443)\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:154)\r\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\r\n        ... 25 more\r\nCaused by: org.springframework.boot.autoconfigure.condition.OnBeanCondition$BeanTypeDeductionException: Failed to deduce bean type for org.starter.autoconfigure.AppConfiguration.kafkaLi\r\nstenerContainerFactory\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.deducedBeanTypeForBeanMethod(OnBeanCondition.java:524)\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.deducedBeanType(OnBeanCondition.java:513)\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.&lt;init&gt;(OnBeanCondition.java:436)\r\n        ... 27 more\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Class.java:348)\r\n        at org.springframework.boot.autoconfigure.condition.FilteringSpringBootCondition.resolve(FilteringSpringBootCondition.java:108)\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.getReturnType(OnBeanCondition.java:532)\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.deducedBeanTypeForBeanMethod(OnBeanCondition.java:520)\r\n        ... 29 more\r\n\r\n```\r\n\r\n\r\n\r\n**STARTER COMPONENT**\r\n\r\n```\r\npackage org.starter.autoconfigure;\r\n\r\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\r\nimport org.springframework.boot.autoconfigure.kafka.ConcurrentKafkaListenerContainerFactoryConfigurer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.annotation.EnableKafka;\r\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\nimport org.springframework.kafka.core.ConsumerFactory;\r\nimport org.springframework.kafka.listener.ContainerProperties;\r\nimport org.springframework.kafka.listener.KafkaMessageListenerContainer;\r\nimport org.starter.message.MyListener;\r\n\r\n@Configuration\r\n@EnableKafka\r\npublic class AppConfiguration\r\n{\r\n    @Bean\r\n    @ConditionalOnMissingBean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\r\n        ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\r\n        ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory)\r\n    {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        configurer.configure(factory, kafkaConsumerFactory);\r\n\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean\r\n    public KafkaMessageListenerContainer&lt;String, String&gt; messageListenerContainer(\r\n        ConsumerFactory&lt;String, String&gt; cf)\r\n    {\r\n        ContainerProperties containerProps = new ContainerProperties(&quot;my-topic&quot;);\r\n\r\n        containerProps.setMessageListener(new MyListener());\r\n\r\n        return new KafkaMessageListenerContainer&lt;&gt;(cf, containerProps);\r\n    }\r\n}\r\n```\r\n\r\npom.xml\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.starter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;component-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.3-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;component-starter&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**OTHER PROJECT**\r\n\r\npom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;main-app&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;main-app&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.starter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;component-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```","title":"Maven - transient dependency not being resolved","body":"<p>I created a <code>Spring Boot Starter Component</code> that depends on Kafka.</p>\n<p>When I use the <code>Starter Component</code> as one of the dependencies in other project it fails to start due a missing class from Kafka library:</p>\n<p><code>Caused by: java.lang.ClassNotFoundException: org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory</code></p>\n<p>If I explicitly put Kafka as a dependency in the other project it works, but I would expect it not being necessary since Kafka is a dependency from the <code>Starter Component</code> and it should be resolved transiently</p>\n<p><strong>EXCEPTION</strong></p>\n<pre><code>2022-12-03T14:05:42,321 DEBUG [main] o.s.b.StartupInfoLogger: Running with Spring Boot v2.7.0, Spring v5.3.20\n2022-12-03T14:05:42,323 INFO  [main] o.s.b.SpringApplication: The following 1 profile is active: &quot;docker&quot;\n2022-12-03T14:05:43,161 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-12-03T14:05:43,228 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 56 ms. Found 3 JPA repository interfaces.\n2022-12-03T14:05:43,500 ERROR [main] o.s.b.SpringApplication: Application run failed\njava.lang.IllegalStateException: Error processing condition on org.starter.autoconfigure.AppConfiguration.kafkaListenerContainerFactory\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193)\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153)\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n        at com.foo.bar.Application.main(Application.java:11)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: java.lang.IllegalStateException: @ConditionalOnMissingBean did not specify a bean using type, name or annotation and the attempt to deduce the bean's type failed\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.validate(OnBeanCondition.java:494)\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.&lt;init&gt;(OnBeanCondition.java:443)\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:154)\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\n        ... 25 more\nCaused by: org.springframework.boot.autoconfigure.condition.OnBeanCondition$BeanTypeDeductionException: Failed to deduce bean type for org.starter.autoconfigure.AppConfiguration.kafkaLi\nstenerContainerFactory\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.deducedBeanTypeForBeanMethod(OnBeanCondition.java:524)\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.deducedBeanType(OnBeanCondition.java:513)\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.&lt;init&gt;(OnBeanCondition.java:436)\n        ... 27 more\nCaused by: java.lang.ClassNotFoundException: org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at org.springframework.boot.autoconfigure.condition.FilteringSpringBootCondition.resolve(FilteringSpringBootCondition.java:108)\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.getReturnType(OnBeanCondition.java:532)\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.deducedBeanTypeForBeanMethod(OnBeanCondition.java:520)\n        ... 29 more\n\n</code></pre>\n<p><strong>STARTER COMPONENT</strong></p>\n<pre><code>package org.starter.autoconfigure;\n\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\nimport org.springframework.boot.autoconfigure.kafka.ConcurrentKafkaListenerContainerFactoryConfigurer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.listener.ContainerProperties;\nimport org.springframework.kafka.listener.KafkaMessageListenerContainer;\nimport org.starter.message.MyListener;\n\n@Configuration\n@EnableKafka\npublic class AppConfiguration\n{\n    @Bean\n    @ConditionalOnMissingBean\n    public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\n        ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\n        ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory)\n    {\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        configurer.configure(factory, kafkaConsumerFactory);\n\n        return factory;\n    }\n\n    @Bean\n    @ConditionalOnMissingBean\n    public KafkaMessageListenerContainer&lt;String, String&gt; messageListenerContainer(\n        ConsumerFactory&lt;String, String&gt; cf)\n    {\n        ContainerProperties containerProps = new ContainerProperties(&quot;my-topic&quot;);\n\n        containerProps.setMessageListener(new MyListener());\n\n        return new KafkaMessageListenerContainer&lt;&gt;(cf, containerProps);\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.starter&lt;/groupId&gt;\n    &lt;artifactId&gt;component-starter&lt;/artifactId&gt;\n    &lt;version&gt;1.0.3-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;component-starter&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.20&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>OTHER PROJECT</strong></p>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;main-app&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;main-app&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.starter&lt;/groupId&gt;\n            &lt;artifactId&gt;component-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1670696857,"post_id":74755517,"comment_id":131935047,"body_markdown":"Do you expect `[1, 3, 4, 5]` ?","body":"Do you expect <code>[1, 3, 4, 5]</code> ?"},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1670696919,"post_id":74755517,"comment_id":131935059,"body_markdown":"What the does `sum` comes to do here ?","body":"What the does <code>sum</code> comes to do here ?"},{"owner":{"account_id":27212831,"reputation":3,"user_id":20743363,"display_name":"PDLIF"},"score":0,"creation_date":1670697286,"post_id":74755517,"comment_id":131935140,"body_markdown":"1. Right. That&#39;s what I expect.\n\n2. The &quot;sum&quot; stands for, I&#39;d say, the difference of indexes of the elements of the initial and new arrays","body":"1. Right. That&#39;s what I expect.  2. The &quot;sum&quot; stands for, I&#39;d say, the difference of indexes of the elements of the initial and new arrays"},{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1670703115,"post_id":74755517,"comment_id":131936267,"body_markdown":"Does this answer your question? [Remove duplicates from integer array](https://stackoverflow.com/questions/13912004/remove-duplicates-from-integer-array)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13912004/remove-duplicates-from-integer-array\">Remove duplicates from integer array</a>"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1670704589,"post_id":74755517,"comment_id":131936498,"body_markdown":"Another option is to do a two pass system. In the first pass, you just count the number of items to be deleted (or not deleted), so you know how big to make your new array. Then do a second pass and copy the items that won&#39;t be deleted to the new array.","body":"Another option is to do a two pass system. In the first pass, you just count the number of items to be deleted (or not deleted), so you know how big to make your new array. Then do a second pass and copy the items that won&#39;t be deleted to the new array."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1670704720,"post_id":74755517,"comment_id":131936526,"body_markdown":"Being able to use a debugger will help you now and in the long run. A debugger allows you follow the code execution step-by-step, and watch how the variables change.","body":"Being able to use a debugger will help you now and in the long run. A debugger allows you follow the code execution step-by-step, and watch how the variables change."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670697035,"creation_date":1670697035,"answer_id":74755578,"question_id":74755517,"body_markdown":"You need a position int for the new array, so you go further only when you set a new value\r\n\r\n    int[] original = {1, 2, 3, 4, 5};\r\n    int dNumber = 2;\r\n\r\n    int[] newArr = new int[original.length];\r\n    int j = 0;\r\n    for (int val : original) {\r\n        if (val != dNumber) {\r\n            newArr[j] = val;\r\n            j++;\r\n        }\r\n    }\r\n    newArr = Arrays.copyOf(newArr, j); // truncate\r\n    System.out.println(Arrays.toString(newArr));\r\n    // [1, 3, 4, 5]\r\n\r\n\r\n","title":"Program that deletes one integer (or more if there&#39;s duplicates) from an array by it&#39;s value","body":"<p>You need a position int for the new array, so you go further only when you set a new value</p>\n<pre><code>int[] original = {1, 2, 3, 4, 5};\nint dNumber = 2;\n\nint[] newArr = new int[original.length];\nint j = 0;\nfor (int val : original) {\n    if (val != dNumber) {\n        newArr[j] = val;\n        j++;\n    }\n}\nnewArr = Arrays.copyOf(newArr, j); // truncate\nSystem.out.println(Arrays.toString(newArr));\n// [1, 3, 4, 5]\n</code></pre>\n"}],"owner":{"account_id":27212831,"reputation":3,"user_id":20743363,"display_name":"PDLIF"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74755578,"answer_count":1,"score":-1,"last_activity_date":1670697575,"creation_date":1670696535,"question_id":74755517,"body_markdown":"I need to write a program, which deletes a number of elements from an int array that are equal to some int value. Eventually I should get an array that isn&#39;t bigger than the initial one.\r\n\r\nI mustn&#39;t use lists or any methods that do the deletion directly.\r\n\r\n\r\nI tried to do this this way and I can&#39;t trace the flaw. I suppose, it should be in the last &quot;for&quot; construction but I&#39;m not sure.\r\n\r\n```\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class App {\r\npublic static void main(String\\[\\] args) {\r\nScanner scan = new Scanner(System.in);\r\nSystem.out.print(&quot;Array size: &quot;);\r\nint sizeInput = scan.nextInt();\r\n\r\n        int[] original = new int[sizeInput];\r\n    \r\n        System.out.print(&quot;Array itself: &quot;);\r\n        for (int i = 0; i &lt; sizeInput; i++) {\r\n            original[i] = scan.nextInt();\r\n        }\r\n    \r\n        System.out.println(&quot;Number to be deleted: &quot;);\r\n        int dNumber = scan.nextInt();\r\n    \r\n        int[] newArr = new int[original.length];\r\n    \r\n        for (int i = 0; i &lt; original.length - 1; i++) {\r\n            int sum = 0;\r\n            if (original[i] == dNumber) {\r\n                newArr[i] = original[i + 1];\r\n                sum = sum + 1;\r\n            } else if (original[i] != dNumber) {\r\n                newArr[i] = original[i + sum];\r\n            } \r\n        }\r\n        System.out.println(Arrays.toString(newArr));\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nand here&#39;s what I got in my console eventually:\r\n\r\n    Array size: 5\r\n    Array itself: 1 2 3 4 5\r\n    Number to be deleted: 2\r\n    \\[1, 3, 3, 4, 0\\]\r\n\r\nYou see? In the output I get the second &quot;3&quot; for some reason and I also don&#39;t get why there&#39;s no last element of the initial array.\r\n\r\nPlease, explain what wrote wrong so that my code doesn&#39;t solve the problem. And please explain ho can I solve It. Thanks!\r\n","title":"Program that deletes one integer (or more if there&#39;s duplicates) from an array by it&#39;s value","body":"<p>I need to write a program, which deletes a number of elements from an int array that are equal to some int value. Eventually I should get an array that isn't bigger than the initial one.</p>\n<p>I mustn't use lists or any methods that do the deletion directly.</p>\n<p>I tried to do this this way and I can't trace the flaw. I suppose, it should be in the last &quot;for&quot; construction but I'm not sure.</p>\n<pre><code>\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class App {\npublic static void main(String\\[\\] args) {\nScanner scan = new Scanner(System.in);\nSystem.out.print(&quot;Array size: &quot;);\nint sizeInput = scan.nextInt();\n\n        int[] original = new int[sizeInput];\n    \n        System.out.print(&quot;Array itself: &quot;);\n        for (int i = 0; i &lt; sizeInput; i++) {\n            original[i] = scan.nextInt();\n        }\n    \n        System.out.println(&quot;Number to be deleted: &quot;);\n        int dNumber = scan.nextInt();\n    \n        int[] newArr = new int[original.length];\n    \n        for (int i = 0; i &lt; original.length - 1; i++) {\n            int sum = 0;\n            if (original[i] == dNumber) {\n                newArr[i] = original[i + 1];\n                sum = sum + 1;\n            } else if (original[i] != dNumber) {\n                newArr[i] = original[i + sum];\n            } \n        }\n        System.out.println(Arrays.toString(newArr));\n    }\n\n}\n\n</code></pre>\n<p>and here's what I got in my console eventually:</p>\n<pre><code>Array size: 5\nArray itself: 1 2 3 4 5\nNumber to be deleted: 2\n\\[1, 3, 3, 4, 0\\]\n</code></pre>\n<p>You see? In the output I get the second &quot;3&quot; for some reason and I also don't get why there's no last element of the initial array.</p>\n<p>Please, explain what wrote wrong so that my code doesn't solve the problem. And please explain ho can I solve It. Thanks!</p>\n"},{"tags":["java","permutation"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670696901,"post_id":74754510,"comment_id":131935055,"body_markdown":"It not clear should all the resulting permutations include a substring `CE`, or those that contain `EC` also required. Please add the desired output, as well as the output your code produces.","body":"It not clear should all the resulting permutations include a substring <code>CE</code>, or those that contain <code>EC</code> also required. Please add the desired output, as well as the output your code produces."}],"owner":{"account_id":27212033,"reputation":1,"user_id":20742693,"display_name":"Suhayb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670697237,"creation_date":1670688413,"question_id":74754510,"body_markdown":"I am trying to find a way to get all permutations of ABCDEF but C and E should be side by side of each other how can I do so using Java?\r\n\r\nI tried using this method but I am not getting the desired op\r\n\r\n    public class PUJ {\r\n    \r\n    \t\r\n    \t{\r\n    \r\n    \t\t// If string is empty\r\n    \t\tif (str.length() == 0) {\r\n    \t\t\tSystem.out.print(ans + &quot; &quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n    \r\n    \t\t\t// ith character of str\r\n    \t\t\tchar ch = str.charAt(i);\r\n    \r\n    \t\t\t// Rest of the string after excluding\r\n    \t\t\t// the ith character\r\n    \t\t\t\r\n    \t\t\tString ros = str.substring(0, i) +\r\n    \t\t\t\t\t\tstr.substring(i + 1);\r\n    \r\n    \t\t\t// Recursive call\r\n    \t\t\tprintPermutn(ros, ans + ch);\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t// Driver code\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tString s = &quot;ABCDEF&quot;;\r\n    \t\tif(s.charAt(i)==C &amp;&amp; s.charAt(i+1)==E){\r\n    \t\tprintPermutn(s, &quot;&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Permutations in Java with Conditions","body":"<p>I am trying to find a way to get all permutations of ABCDEF but C and E should be side by side of each other how can I do so using Java?</p>\n<p>I tried using this method but I am not getting the desired op</p>\n<pre><code>public class PUJ {\n\n    \n    {\n\n        // If string is empty\n        if (str.length() == 0) {\n            System.out.print(ans + &quot; &quot;);\n            return;\n        }\n\n        for (int i = 0; i &lt; str.length(); i++) {\n\n            // ith character of str\n            char ch = str.charAt(i);\n\n            // Rest of the string after excluding\n            // the ith character\n            \n            String ros = str.substring(0, i) +\n                        str.substring(i + 1);\n\n            // Recursive call\n            printPermutn(ros, ans + ch);\n            \n        }\n    }\n\n    // Driver code\n    public static void main(String[] args)\n    {\n        String s = &quot;ABCDEF&quot;;\n        if(s.charAt(i)==C &amp;&amp; s.charAt(i+1)==E){\n        printPermutn(s, &quot;&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":2,"creation_date":1670797283,"post_id":74755503,"comment_id":131950885,"body_markdown":"I think wiremock is the thing you&#39;re looking for. https://wiremock.org/","body":"I think wiremock is the thing you&#39;re looking for. <a href=\"https://wiremock.org/\" rel=\"nofollow noreferrer\">wiremock.org</a>"},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1670840119,"post_id":74755503,"comment_id":131958152,"body_markdown":"As Lucas mentioned, you need some sort of mocking framework to return predifined response in this case. Wiremock or Mockito are both fine for this case.","body":"As Lucas mentioned, you need some sort of mocking framework to return predifined response in this case. Wiremock or Mockito are both fine for this case."}],"owner":{"account_id":13546114,"reputation":73,"user_id":10944459,"display_name":"Jonathan Ferreira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670696448,"creation_date":1670696448,"question_id":74755503,"body_markdown":"I&#39;m using rest assured to develop test integrations, inside these there are calls to other microservices.\r\nThere are test scenarios where I really wouldn&#39;t want to call these microservices and for those cases I would like to simulate the return in a file with the expected json.\r\nIs there any way to do this?","title":"Rest assured - Create Json file with expected return from an API called internally in test","body":"<p>I'm using rest assured to develop test integrations, inside these there are calls to other microservices.\nThere are test scenarios where I really wouldn't want to call these microservices and for those cases I would like to simulate the return in a file with the expected json.\nIs there any way to do this?</p>\n"},{"tags":["java","selenium","interface"],"answers":[{"tags":[],"owner":{"account_id":14083432,"reputation":566,"user_id":10173800,"display_name":"Ethan Malloy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670696258,"creation_date":1670696258,"answer_id":74755487,"question_id":74754516,"body_markdown":"I found the solution. There were two IReporter classes. I simply had to cast the procedures to the correct IReporter, like so:\r\n```\r\n((automation.IReporter)Browser.getReporter().reportDone(String.format(...\r\n```","title":"Cannot resolve method in calling class, but method exists (and compiles) in both the interface and implementation classes","body":"<p>I found the solution. There were two IReporter classes. I simply had to cast the procedures to the correct IReporter, like so:</p>\n<pre><code>((automation.IReporter)Browser.getReporter().reportDone(String.format(...\n</code></pre>\n"}],"owner":{"account_id":14083432,"reputation":566,"user_id":10173800,"display_name":"Ethan Malloy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670696258,"creation_date":1670688433,"question_id":74754516,"body_markdown":"I&#39;m writing a suite of Selenium tests in Java. Part of the program relies on a class called ```ResponseInterceptor.java```, which uses methods from both my ```IReporter.java``` interface and ```Reporter.java``` implementation class. I am getting a ```Cannot resolve method &quot;reportDone&quot; in &quot;IReporter&quot;``` error. The problem is that ```reportDone()``` exists, and compiles, in both the interface and the implementation class. I have made sure the given paramenters match the method signature. I have also tried importing ```IReporter``` and ```Reporter```, but this did not work either. In addition, I created a new method in the interface, implemented it, and called it from ```ResponseInterceptor```, and the new method works just fine. This made me think that if I just copied the method and gave it a new name, implementing and calling it the same way as ```reportDone()```, that would work. It did not. The files are all in the same directory, if that matters.\r\n\r\nHere is the method call in ```ResponseInterceptor```:\r\n```\r\nBrowser.getReporter().reportDone(String.format(&quot;Response: %s&quot;, responseCode),\r\n    String.format(&quot;StatusCode= %s :: URL= %s :: Header= %s :: Body= %s&quot;, statusCode, url, headers, responseBody));\r\n```\r\n\r\nHere is its definition in ```IReporter```:\r\n```\r\nvoid reportDone(String stepName, String stepDescription);\r\n```\r\n\r\nHere is its implementation in ```Reporter```:\r\n```\r\npublic void reportDone(String stepName, String stepDescription) {\r\n    report.updateTestLog(stepName, stepDescription, Status.DONE);\r\n}\r\n```","title":"Cannot resolve method in calling class, but method exists (and compiles) in both the interface and implementation classes","body":"<p>I'm writing a suite of Selenium tests in Java. Part of the program relies on a class called <code>ResponseInterceptor.java</code>, which uses methods from both my <code>IReporter.java</code> interface and <code>Reporter.java</code> implementation class. I am getting a <code>Cannot resolve method &quot;reportDone&quot; in &quot;IReporter&quot;</code> error. The problem is that <code>reportDone()</code> exists, and compiles, in both the interface and the implementation class. I have made sure the given paramenters match the method signature. I have also tried importing <code>IReporter</code> and <code>Reporter</code>, but this did not work either. In addition, I created a new method in the interface, implemented it, and called it from <code>ResponseInterceptor</code>, and the new method works just fine. This made me think that if I just copied the method and gave it a new name, implementing and calling it the same way as <code>reportDone()</code>, that would work. It did not. The files are all in the same directory, if that matters.</p>\n<p>Here is the method call in <code>ResponseInterceptor</code>:</p>\n<pre><code>Browser.getReporter().reportDone(String.format(&quot;Response: %s&quot;, responseCode),\n    String.format(&quot;StatusCode= %s :: URL= %s :: Header= %s :: Body= %s&quot;, statusCode, url, headers, responseBody));\n</code></pre>\n<p>Here is its definition in <code>IReporter</code>:</p>\n<pre><code>void reportDone(String stepName, String stepDescription);\n</code></pre>\n<p>Here is its implementation in <code>Reporter</code>:</p>\n<pre><code>public void reportDone(String stepName, String stepDescription) {\n    report.updateTestLog(stepName, stepDescription, Status.DONE);\n}\n</code></pre>\n"},{"tags":["java","spring","authentication"],"owner":{"account_id":25879453,"reputation":21,"user_id":19608811,"display_name":"Petar Petrov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670696226,"creation_date":1670696226,"question_id":74755485,"body_markdown":"I&#39;m building a website with Spring Security and when I click on the login button on my custom login page, a new tab ALWAYS opens where the user is redirected to Homepage.\r\n\r\n\r\n\r\n\r\nI want the login button to redirect to the home page in the same tab.\r\n\r\nWhat I&#39;ve tried:\r\n\r\n1. Checking if I have set target=&#39;_blank&#39; on the form or the button. - No, nowhere!\r\n2. Manually setting target=_self\r\n3. Opening from 3 different browsers\r\n\r\nIt started out of the blue without me seemingly changing any configs or the login page itself.\r\n\r\nI guess it could be something non code-related but I can&#39;t figure it out.","title":"Clicking the login button always loads the page in new tab - Spring Security","body":"<p>I'm building a website with Spring Security and when I click on the login button on my custom login page, a new tab ALWAYS opens where the user is redirected to Homepage.</p>\n<p>I want the login button to redirect to the home page in the same tab.</p>\n<p>What I've tried:</p>\n<ol>\n<li>Checking if I have set target='_blank' on the form or the button. - No, nowhere!</li>\n<li>Manually setting target=_self</li>\n<li>Opening from 3 different browsers</li>\n</ol>\n<p>It started out of the blue without me seemingly changing any configs or the login page itself.</p>\n<p>I guess it could be something non code-related but I can't figure it out.</p>\n"},{"tags":["java","dictionary","nlp","lexical","pluralize"],"comments":[{"owner":{"display_name":"user557219"},"score":1,"creation_date":1304661117,"post_id":5907296,"comment_id":6799984,"body_markdown":"For which natural languages, and which programming languages?","body":"For which natural languages, and which programming languages?"},{"owner":{"display_name":"user557219"},"score":3,"creation_date":1304661407,"post_id":5907296,"comment_id":6800032,"body_markdown":"Also, the plural forms of cactus are cacti (single i) and cactuses according to the New Oxford American Dictionary.","body":"Also, the plural forms of cactus are cacti (single i) and cactuses according to the New Oxford American Dictionary."},{"owner":{"account_id":46092,"reputation":14701,"user_id":136088,"accept_rate":76,"display_name":"Joe"},"score":0,"creation_date":1304661556,"post_id":5907296,"comment_id":6800067,"body_markdown":"We are looking at words in the English language and our programming environment is based on Java","body":"We are looking at words in the English language and our programming environment is based on Java"},{"owner":{"display_name":"user557219"},"score":1,"creation_date":1304661966,"post_id":5907296,"comment_id":6800132,"body_markdown":"I’m not sure whether there is a library for Java. In case there isn’t, a good starting point is the Lingua::EN::Inflect Perl module, available [here](http://search.cpan.org/~dconway/Lingua-EN-Inflect-1.893/lib/Lingua/EN/Inflect.pm). Hopefully someone’s ported Inflect to Java.","body":"I’m not sure whether there is a library for Java. In case there isn’t, a good starting point is the Lingua::EN::Inflect Perl module, available <a href=\"http://search.cpan.org/~dconway/Lingua-EN-Inflect-1.893/lib/Lingua/EN/Inflect.pm\" rel=\"nofollow noreferrer\">here</a>. Hopefully someone’s ported Inflect to Java."}],"answers":[{"tags":[],"owner":{"account_id":380333,"reputation":758,"user_id":734276,"display_name":"Nirmit Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304664988,"creation_date":1304664988,"answer_id":5907858,"question_id":5907296,"body_markdown":"Its hard to find this kind of API. rather you need to find out some websservice which can serve your purpose. Check [this][1]. I am not sure if this can help you..\r\n(I tried to put word cacti and got cactus somewhere in the response).\r\n\r\n\r\n  [1]: http://services.aonaware.com/DictService/","title":"Java API for plural forms of English words","body":"<p>Its hard to find this kind of API. rather you need to find out some websservice which can serve your purpose. Check <a href=\"http://services.aonaware.com/DictService/\" rel=\"nofollow\">this</a>. I am not sure if this can help you..\n(I tried to put word cacti and got cactus somewhere in the response).</p>\n"},{"comments":[{"owner":{"account_id":59890,"reputation":27574,"user_id":179081,"accept_rate":87,"display_name":"Frames Catherine White"},"score":7,"creation_date":1329053263,"post_id":6288368,"comment_id":11653313,"body_markdown":"This is not a API. is there Even a public API for wolframAlpha? I would have thought they would try and avoid that","body":"This is not a API. is there Even a public API for wolframAlpha? I would have thought they would try and avoid that"}],"tags":[],"owner":{"account_id":300494,"reputation":13934,"user_id":607655,"accept_rate":81,"display_name":"Meng Lu"},"comment_count":1,"down_vote_count":6,"up_vote_count":6,"is_accepted":true,"score":0,"last_activity_date":1424899278,"creation_date":1307596452,"answer_id":6288368,"question_id":5907296,"body_markdown":"Wolfram|Alpha return a list of inflection forms for a given word.\r\n\r\nSee this as an example:\r\n\r\n   http://www.wolframalpha.com/input/?i=word+cactus+inflected+forms\r\n\r\nAnd here is their API:\r\n\r\n   http://products.wolframalpha.com/api/","title":"Java API for plural forms of English words","body":"<p>Wolfram|Alpha return a list of inflection forms for a given word.</p>\n\n<p>See this as an example:</p>\n\n<p><a href=\"http://www.wolframalpha.com/input/?i=word+cactus+inflected+forms\" rel=\"nofollow\">http://www.wolframalpha.com/input/?i=word+cactus+inflected+forms</a></p>\n\n<p>And here is their API:</p>\n\n<p><a href=\"http://products.wolframalpha.com/api/\" rel=\"nofollow\">http://products.wolframalpha.com/api/</a></p>\n"},{"comments":[{"owner":{"account_id":90664,"reputation":18330,"user_id":249460,"accept_rate":97,"display_name":"Gabriel Ščerb&#225;k"},"score":0,"creation_date":1309018601,"post_id":6477502,"comment_id":7615030,"body_markdown":"Maybe, if you are going to do something yourself, you can find some information here: http://english.stackexchange.com/","body":"Maybe, if you are going to do something yourself, you can find some information here: <a href=\"http://english.stackexchange.com/\">english.stackexchange.com</a>"}],"tags":[],"owner":{"account_id":90664,"reputation":18330,"user_id":249460,"accept_rate":97,"display_name":"Gabriel Ščerb&#225;k"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309002194,"creation_date":1309002194,"answer_id":6477502,"question_id":5907296,"body_markdown":"I know there is simple pluralize() function in Ruby on Rails, maybe you could get that through JRuby. The problem really isn&#39;t easy, I saw pages of rules on how to pluralize and it wasn&#39;t even complete. Some rules are not algorithmic - they depend on stem origin etc. which isn&#39;t easily obtained. So you have to decide how perfect you want to be.","title":"Java API for plural forms of English words","body":"<p>I know there is simple pluralize() function in Ruby on Rails, maybe you could get that through JRuby. The problem really isn't easy, I saw pages of rules on how to pluralize and it wasn't even complete. Some rules are not algorithmic - they depend on stem origin etc. which isn't easily obtained. So you have to decide how perfect you want to be.</p>\n"},{"comments":[{"owner":{"account_id":2149740,"reputation":5736,"user_id":1906491,"accept_rate":59,"display_name":"Sean Connolly"},"score":0,"creation_date":1358618195,"post_id":8799906,"comment_id":20065195,"body_markdown":"Fantastic, I was about to begun hacking together an algorithm based on that paper myself. Thanks @Slawek for pointing this out.","body":"Fantastic, I was about to begun hacking together an algorithm based on that paper myself. Thanks @Slawek for pointing this out."},{"owner":{"account_id":1468119,"reputation":15037,"user_id":1380406,"accept_rate":38,"display_name":"cosbor11"},"score":0,"creation_date":1455182737,"post_id":8799906,"comment_id":58378209,"body_markdown":"The amount of English words it supports seems limited based on the source on github","body":"The amount of English words it supports seems limited based on the source on github"},{"owner":{"account_id":919997,"reputation":397,"user_id":951836,"accept_rate":20,"display_name":"diguage"},"score":1,"creation_date":1520041271,"post_id":8799906,"comment_id":85165475,"body_markdown":"The library can not provide singular form of English word.","body":"The library can not provide singular form of English word."}],"tags":[],"owner":{"account_id":1129788,"reputation":1470,"user_id":1116153,"display_name":"Sławek"},"comment_count":3,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1527061418,"creation_date":1326180610,"answer_id":8799906,"question_id":5907296,"body_markdown":"Check [Evo Inflector][1] which implements English pluralization algorithm based on Damian Conway paper &quot;[An Algorithmic Approach to English Pluralization][2]&quot;.\r\nThe library is tested against data from Wiktionary and reports 100% success rate for 1000 most used English words and 70% success rate for all the words listed in Wiktionary.\r\n\r\nIf you want even more accuracy you can take Wiktionary dump and parse it to create the database of singular to plural mappings. Take into account that due to the open nature of Wiktionary some data there might by incorrect.\r\n\r\n## Example Usage:\r\n\r\n    English.plural(&quot;Facility&quot;, 1)); // == &quot;Facility&quot;\r\n    English.plural(&quot;Facility&quot;, 2)); // == &quot;Facilities&quot;\r\n\r\n\r\n  [1]: https://github.com/atteo/evo-inflector &quot;Evo Inflector&quot;\r\n  [2]: http://users.monash.edu/~damian/papers/HTML/Plurals.html\r\n ","title":"Java API for plural forms of English words","body":"<p>Check <a href=\"https://github.com/atteo/evo-inflector\" rel=\"noreferrer\" title=\"Evo Inflector\">Evo Inflector</a> which implements English pluralization algorithm based on Damian Conway paper \"<a href=\"http://users.monash.edu/~damian/papers/HTML/Plurals.html\" rel=\"noreferrer\">An Algorithmic Approach to English Pluralization</a>\".\nThe library is tested against data from Wiktionary and reports 100% success rate for 1000 most used English words and 70% success rate for all the words listed in Wiktionary.</p>\n\n<p>If you want even more accuracy you can take Wiktionary dump and parse it to create the database of singular to plural mappings. Take into account that due to the open nature of Wiktionary some data there might by incorrect.</p>\n\n<h2>Example Usage:</h2>\n\n<pre><code>English.plural(\"Facility\", 1)); // == \"Facility\"\nEnglish.plural(\"Facility\", 2)); // == \"Facilities\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":919997,"reputation":397,"user_id":951836,"accept_rate":20,"display_name":"diguage"},"score":0,"creation_date":1520040361,"post_id":8805079,"comment_id":85165342,"body_markdown":"I compare the library to jibx-tools. The library is better. In some words, for example `leaves`, jibx-tools is better.","body":"I compare the library to jibx-tools. The library is better. In some words, for example <code>leaves</code>, jibx-tools is better."}],"tags":[],"owner":{"account_id":541424,"reputation":443,"user_id":909962,"accept_rate":100,"display_name":"Sebastian Schmitt"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1326206589,"creation_date":1326206589,"answer_id":8805079,"question_id":5907296,"body_markdown":"considering java, have a look at [modeshapes][1] Inflector-Class as member of the package *org.modeshape.common.text*. Or google for &quot;inflector&quot; and &quot;randall hauch&quot;.\r\n \r\n\r\n\r\n[1]: http://www.jboss.org/modeshape","title":"Java API for plural forms of English words","body":"<p>considering java, have a look at <a href=\"http://www.jboss.org/modeshape\" rel=\"nofollow\">modeshapes</a> Inflector-Class as member of the package <em>org.modeshape.common.text</em>. Or google for \"inflector\" and \"randall hauch\".</p>\n"},{"comments":[{"owner":{"account_id":3101748,"reputation":4719,"user_id":2625691,"accept_rate":35,"display_name":"idmitriev"},"score":0,"creation_date":1536215999,"post_id":20807898,"comment_id":91345032,"body_markdown":"do not recommend that, it does not even work for `mouse`, it converts the word to `mouses`, which is incorrect","body":"do not recommend that, it does not even work for <code>mouse</code>, it converts the word to <code>mouses</code>, which is incorrect"}],"tags":[],"owner":{"account_id":240022,"reputation":27037,"user_id":510017,"accept_rate":88,"display_name":"Jonathan Schneider"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1388178771,"creation_date":1388178771,"answer_id":20807898,"question_id":5907296,"body_markdown":"[jibx-tools][1] provides a convenient pluralizer/depluralizer.\r\n\r\n**Groovy test:**\r\n\r\n    NameConverter nameTools = new DefaultNameConverter();\r\n    assert nameTools.depluralize(&quot;apples&quot;) == &quot;apple&quot;\r\n    nameTools.pluralize(&quot;apple&quot;) == &quot;apples&quot;\r\n\r\n\r\n  [1]: http://mvnrepository.com/artifact/org.jibx/jibx-tools","title":"Java API for plural forms of English words","body":"<p><a href=\"http://mvnrepository.com/artifact/org.jibx/jibx-tools\" rel=\"noreferrer\">jibx-tools</a> provides a convenient pluralizer/depluralizer.</p>\n\n<p><strong>Groovy test:</strong></p>\n\n<pre><code>NameConverter nameTools = new DefaultNameConverter();\nassert nameTools.depluralize(\"apples\") == \"apple\"\nnameTools.pluralize(\"apple\") == \"apples\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20698352,"reputation":492,"user_id":15198069,"display_name":"Stanislav Koncebovski"},"score":0,"creation_date":1664195038,"post_id":46045995,"comment_id":130408404,"body_markdown":"Thanks Ronnie. I need a pluralizer for C#, and your seems to be the most easily understandable of all I have seen otherwise, to convert. Decent work!","body":"Thanks Ronnie. I need a pluralizer for C#, and your seems to be the most easily understandable of all I have seen otherwise, to convert. Decent work!"}],"tags":[],"owner":{"account_id":5863967,"reputation":17171,"user_id":4797603,"accept_rate":62,"display_name":"Ronnie Royston"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1504576745,"creation_date":1504576745,"answer_id":46045995,"question_id":5907296,"body_markdown":"If you can harness javascript, I created a lightweight (7.19 KB) javascript for this. Or you could port my script over to Java. Very easy to use:\r\n\r\n    pluralizer.run(&#39;goose&#39;) --&gt; &#39;geese&#39;\r\n    pluralizer.run(&#39;deer&#39;) --&gt; &#39;deer&#39;\r\n    pluralizer.run(&#39;can&#39;) --&gt; &#39;cans&#39;\r\n\r\nhttps://github.com/rhroyston/pluralizer-js\r\n\r\nBTW: It looks like cacti to cactus is a super special conversion (most ppl are going to say &#39;1 cactus&#39; anyway). Easy to add that if you want to. The source code is easy to read / update.","title":"Java API for plural forms of English words","body":"<p>If you can harness javascript, I created a lightweight (7.19 KB) javascript for this. Or you could port my script over to Java. Very easy to use:</p>\n\n<pre><code>pluralizer.run('goose') --&gt; 'geese'\npluralizer.run('deer') --&gt; 'deer'\npluralizer.run('can') --&gt; 'cans'\n</code></pre>\n\n<p><a href=\"https://github.com/rhroyston/pluralizer-js\" rel=\"nofollow noreferrer\">https://github.com/rhroyston/pluralizer-js</a></p>\n\n<p>BTW: It looks like cacti to cactus is a super special conversion (most ppl are going to say '1 cactus' anyway). Easy to add that if you want to. The source code is easy to read / update.</p>\n"}],"owner":{"account_id":46092,"reputation":14701,"user_id":136088,"accept_rate":76,"display_name":"Joe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21924,"favorite_count":0,"down_vote_count":3,"up_vote_count":36,"accepted_answer_id":6288368,"answer_count":7,"score":33,"last_activity_date":1670694908,"creation_date":1304660989,"question_id":5907296,"body_markdown":"Are there any Java API(s) which will provide plural form of English words (e.g. `cacti` for `cactus`)?","title":"Java API for plural forms of English words","body":"<p>Are there any Java API(s) which will provide plural form of English words (e.g. <code>cacti</code> for <code>cactus</code>)?</p>\n"},{"tags":["java","spring","sftp","spring-integration-sftp"],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670694550,"creation_date":1670694550,"question_id":74755272,"body_markdown":"I have a ResourceFileDownloader for sftpAdapter in Spring and i want to past different filename to get different file. \r\n\r\n```\r\n@Configuration\r\n@EnableIntegration\r\npublic class ResourceFileDownloader\r\n{\r\n   private final String host;\r\n   private final int port;\r\n   private final String username;\r\n   private final String password;\r\n   private final String fileDirectory;\r\n\r\n   public ResourceFileDownloader(@Value(&quot;${resourceprovider.host}&quot;) String host,\r\n                                 @Value(&quot;${resourceprovider.port}&quot;) String port,\r\n                                 @Value(&quot;${resourceprovider.user}&quot;) String username,\r\n                                 @Value(&quot;${resourceprovider.password}&quot;) String password,\r\n                                 @Value(&quot;${resourceprovider.directory}&quot;) String fileDirectory)\r\n   {\r\n      this.host = host;\r\n      this.port = Integer.parseInt(port);\r\n      this.username = username;\r\n      this.password = password;\r\n      this.fileDirectory = fileDirectory;\r\n   }\r\n\r\n   @Bean\r\n   public SessionFactory&lt;ChannelSftp.LsEntry&gt; sftpSessionFactory()\r\n   {\r\n      DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\r\n      factory.setHost(this.host);\r\n      factory.setPort(this.port);\r\n      factory.setUser(this.username);\r\n      factory.setPassword(this.password);\r\n      factory.setAllowUnknownKeys(true);\r\n      return new CachingSessionFactory&lt;&gt;(factory);\r\n   }\r\n\r\n   @Bean\r\n   public SftpRemoteFileTemplate template()\r\n   {\r\n      return new SftpRemoteFileTemplate(sftpSessionFactory());\r\n   }\r\n\r\n   @Bean\r\n   @InboundChannelAdapter(channel = &quot;sftpChannel&quot;, poller = @Poller(fixedDelay = &quot;30000&quot;))\r\n   public MessageSource&lt;InputStream&gt; sftpMessageSource()\r\n   {\r\n      SftpStreamingMessageSource source = new SftpStreamingMessageSource(template());\r\n      source.setRemoteDirectory(this.fileDirectory);\r\n      source.setFilter(new SftpSimplePatternFileListFilter(&quot;/FileName_%s.csv&quot;));\r\n      source.setMaxFetchSize(1);\r\n      return source;\r\n   }\r\n\r\n   @Bean(name = &quot;sftpChannel&quot;)\r\n   public MessageChannel fromSftpChannel()\r\n   {\r\n      return new PublishSubscribeChannel();\r\n   }\r\n```\r\n\r\nHow to configure sftpAdapter to past different fileName into `source.setFilter(new SftpSimplePatternFileListFilter(&quot;/FileName_%s.csv&quot;));`\r\n\r\ni use: `implementation &quot;org.springframework.integration:spring-integration-sftp:5.5.15&quot;`","title":"sftpAdapter past different filename","body":"<p>I have a ResourceFileDownloader for sftpAdapter in Spring and i want to past different filename to get different file.</p>\n<pre><code>@Configuration\n@EnableIntegration\npublic class ResourceFileDownloader\n{\n   private final String host;\n   private final int port;\n   private final String username;\n   private final String password;\n   private final String fileDirectory;\n\n   public ResourceFileDownloader(@Value(&quot;${resourceprovider.host}&quot;) String host,\n                                 @Value(&quot;${resourceprovider.port}&quot;) String port,\n                                 @Value(&quot;${resourceprovider.user}&quot;) String username,\n                                 @Value(&quot;${resourceprovider.password}&quot;) String password,\n                                 @Value(&quot;${resourceprovider.directory}&quot;) String fileDirectory)\n   {\n      this.host = host;\n      this.port = Integer.parseInt(port);\n      this.username = username;\n      this.password = password;\n      this.fileDirectory = fileDirectory;\n   }\n\n   @Bean\n   public SessionFactory&lt;ChannelSftp.LsEntry&gt; sftpSessionFactory()\n   {\n      DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\n      factory.setHost(this.host);\n      factory.setPort(this.port);\n      factory.setUser(this.username);\n      factory.setPassword(this.password);\n      factory.setAllowUnknownKeys(true);\n      return new CachingSessionFactory&lt;&gt;(factory);\n   }\n\n   @Bean\n   public SftpRemoteFileTemplate template()\n   {\n      return new SftpRemoteFileTemplate(sftpSessionFactory());\n   }\n\n   @Bean\n   @InboundChannelAdapter(channel = &quot;sftpChannel&quot;, poller = @Poller(fixedDelay = &quot;30000&quot;))\n   public MessageSource&lt;InputStream&gt; sftpMessageSource()\n   {\n      SftpStreamingMessageSource source = new SftpStreamingMessageSource(template());\n      source.setRemoteDirectory(this.fileDirectory);\n      source.setFilter(new SftpSimplePatternFileListFilter(&quot;/FileName_%s.csv&quot;));\n      source.setMaxFetchSize(1);\n      return source;\n   }\n\n   @Bean(name = &quot;sftpChannel&quot;)\n   public MessageChannel fromSftpChannel()\n   {\n      return new PublishSubscribeChannel();\n   }\n</code></pre>\n<p>How to configure sftpAdapter to past different fileName into <code>source.setFilter(new SftpSimplePatternFileListFilter(&quot;/FileName_%s.csv&quot;));</code></p>\n<p>i use: <code>implementation &quot;org.springframework.integration:spring-integration-sftp:5.5.15&quot;</code></p>\n"},{"tags":["java","mysql","database","export"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670695809,"post_id":74755080,"comment_id":131934827,"body_markdown":"Export to csv, spreadsheet are quite different from export to sql. In the first case, you&#39;re getting the data. In the second case, if you use something like mysqldump, you are getting the data *and* the metadata, such that the table/database can be recreated in such a way that it can be reused","body":"Export to csv, spreadsheet are quite different from export to sql. In the first case, you&#39;re getting the data. In the second case, if you use something like mysqldump, you are getting the data <i>and</i> the metadata, such that the table/database can be recreated in such a way that it can be reused"}],"answers":[{"tags":[],"owner":{"account_id":17123397,"reputation":137,"user_id":12391137,"display_name":"Rashmi Shehana"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670693669,"creation_date":1670693669,"answer_id":74755172,"question_id":74755080,"body_markdown":"You can run your .sql file with [ScriptRunner][1].\r\n\r\n\r\n  [1]: https://ibatis.apache.org/docs/java/dev/com/ibatis/common/jdbc/ScriptRunner.html\r\n\r\nHere is the way you can use it.\r\n\r\n    Connection conn=getConnection();//some method to get a Connection\r\n    ScriptRunner runner=new ScriptRunner(conn, false, false);\r\n    InputStreamReader reader = new InputStreamReader(new \r\n    FileInputStream(&quot;foo.sql&quot;));\r\n    runner.runScript(reader);\r\n    reader.close();\r\n    conn.close();","title":"Is their a way to export a MYSQL Table directly in java","body":"<p>You can run your .sql file with <a href=\"https://ibatis.apache.org/docs/java/dev/com/ibatis/common/jdbc/ScriptRunner.html\" rel=\"nofollow noreferrer\">ScriptRunner</a>.</p>\n<p>Here is the way you can use it.</p>\n<pre><code>Connection conn=getConnection();//some method to get a Connection\nScriptRunner runner=new ScriptRunner(conn, false, false);\nInputStreamReader reader = new InputStreamReader(new \nFileInputStream(&quot;foo.sql&quot;));\nrunner.runScript(reader);\nreader.close();\nconn.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26737356,"reputation":26,"user_id":20338708,"display_name":"Akhil suryam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670693961,"creation_date":1670693961,"answer_id":74755202,"question_id":74755080,"body_markdown":"you can use mysqldump command this can be used via Runtime.getRuntime().exec()\r\n\r\n    String command = &quot;mysqldump -u username -p password database_name table_name&quot;;\r\n    \r\n    Process p = Runtime.getRuntime().exec(command);\r\n\r\n    $command = &quot;mysqldump -u username -p password database_name table_name&quot;;\r\n    \r\n    system($command);\r\n\r\nor else u can go for mysqli approach\r\n\r\n    // Connect to the database\r\n    $mysqli = new mysqli(&quot;localhost&quot;, &quot;username&quot;, &quot;password&quot;, &quot;database_name&quot;);\r\n    \r\n    // Check for errors\r\n    if ($mysqli-&gt;connect_error) {\r\n        die(&quot;Connection failed: &quot; . $mysqli-&gt;connect_error);\r\n    }\r\n    \r\n    // Get the data from the table\r\n    $result = $mysqli-&gt;query(&quot;SELECT * FROM table_name&quot;);\r\n    \r\n    // Loop through the data and write it to a file or format it as desired\r\n    while ($row = $result-&gt;fetch_assoc()) {\r\n        // Write the data to a file or format it as desired\r\n    }\r\n    \r\n    // Close the connection\r\n    $mysqli-&gt;close();\r\n\r\n","title":"Is their a way to export a MYSQL Table directly in java","body":"<p>you can use mysqldump command this can be used via Runtime.getRuntime().exec()</p>\n<pre><code>String command = &quot;mysqldump -u username -p password database_name table_name&quot;;\n\nProcess p = Runtime.getRuntime().exec(command);\n\n$command = &quot;mysqldump -u username -p password database_name table_name&quot;;\n\nsystem($command);\n</code></pre>\n<p>or else u can go for mysqli approach</p>\n<pre><code>// Connect to the database\n$mysqli = new mysqli(&quot;localhost&quot;, &quot;username&quot;, &quot;password&quot;, &quot;database_name&quot;);\n\n// Check for errors\nif ($mysqli-&gt;connect_error) {\n    die(&quot;Connection failed: &quot; . $mysqli-&gt;connect_error);\n}\n\n// Get the data from the table\n$result = $mysqli-&gt;query(&quot;SELECT * FROM table_name&quot;);\n\n// Loop through the data and write it to a file or format it as desired\nwhile ($row = $result-&gt;fetch_assoc()) {\n    // Write the data to a file or format it as desired\n}\n\n// Close the connection\n$mysqli-&gt;close();\n</code></pre>\n"}],"owner":{"account_id":23554378,"reputation":36,"user_id":17596593,"display_name":"Kaput"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74755202,"answer_count":2,"score":0,"last_activity_date":1670693961,"creation_date":1670692961,"question_id":74755080,"body_markdown":"Before anything, thanks you, english isn&#39;t my native language and i&#39;m sorry for any mitsake i would make. If my question is stupid, i&#39;m sorry too.\r\n\r\nI&#39;m making an application, that allow to export some tables in different format csv: no problem, xls: same, however SQL require more than putting some &quot;,&quot;, Using PHPMyAdmin i noticed i can export the db directly in SQL, is their a way to directly get this sql code? I said in java as the app is in java, but ofc it might required something else and that&#39;s not an issue.\r\n\r\nAnyways, thanks for going through my messy explanation, have a nice day.\r\n","title":"Is their a way to export a MYSQL Table directly in java","body":"<p>Before anything, thanks you, english isn't my native language and i'm sorry for any mitsake i would make. If my question is stupid, i'm sorry too.</p>\n<p>I'm making an application, that allow to export some tables in different format csv: no problem, xls: same, however SQL require more than putting some &quot;,&quot;, Using PHPMyAdmin i noticed i can export the db directly in SQL, is their a way to directly get this sql code? I said in java as the app is in java, but ofc it might required something else and that's not an issue.</p>\n<p>Anyways, thanks for going through my messy explanation, have a nice day.</p>\n"},{"tags":["javascript","java","html","calculation"],"comments":[{"owner":{"account_id":280047,"reputation":118293,"user_id":575527,"accept_rate":86,"display_name":"Joseph"},"score":1,"creation_date":1670692210,"post_id":74754959,"comment_id":131934080,"body_markdown":"Need more information on what you mean by &quot;without decimals&quot;. Do you intend to Round up? Round down? Round off?","body":"Need more information on what you mean by &quot;without decimals&quot;. Do you intend to Round up? Round down? Round off?"},{"owner":{"account_id":22068492,"reputation":1,"user_id":16329919,"display_name":"Rafael Fu"},"score":0,"creation_date":1670692444,"post_id":74754959,"comment_id":131934117,"body_markdown":"Check out this answer: https://stackoverflow.com/questions/7641818/how-can-i-remove-the-decimal-part-from-javascript-number","body":"Check out this answer: <a href=\"https://stackoverflow.com/questions/7641818/how-can-i-remove-the-decimal-part-from-javascript-number\" title=\"how can i remove the decimal part from javascript number\">stackoverflow.com/questions/7641818/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27209150,"reputation":1,"user_id":20740229,"display_name":"Julien Poirier WebDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670693219,"creation_date":1670693070,"answer_id":74755094,"question_id":74754959,"body_markdown":"In Javascript, you could remove decimals with severals solutions !\r\n\r\nThe parseInt() function is the slower (!).\r\n\r\n```js\r\nlet myNumber = 5.0214;\r\nlet myOtherNumber = 5.9;\r\n\r\n// With Math.floor() method \r\nlet myNymberWithoutDecimals = Math.floor(myNumber) // 5\r\nlet myOtherWithoutDecimals = Math.floor(myOtherNumber)  // 5\r\n\r\n// With Math.round() method\r\nlet myNymberWithoutDecimals = Math.round(myNumber) // 5\r\nlet myOtherWithoutDecimals = Math.round(myOtherNumber)  // 6\r\n\r\n// with parseInt()\r\nlet myNymberWithoutDecimals = parseInt(myNumber) // 5\r\nlet myOtherWithoutDecimals = parseInt(myOtherNumber)  // 5\r\n\r\n// with toFixed(number)\r\nmyNumber.toFixed(2) // 5.02\r\nmyNumber.toFixed(1) // 5.0\r\nmyNumber.toFixed() // 5\r\n\r\n\r\n```\r\n\r\nWith your example : \r\n\r\n```js\r\n function do_on_range_change_pages() {\r\n\r\n      $(&#39;.betrag&#39;).text(pages);\r\n\r\n  $(&#39;.name1&#39;).text((pages * 0.001).toFixed());\r\n  $(&#39;.name2&#39;).text((pages * 0.03).toFixed());\r\n  $(&#39;.name3&#39;).text((pages / 22).toFixed());\r\n\r\n  }\r\n\r\n```\r\n\r\nBetter advice : new to JS ? Try to use google. \r\n\r\nMy research : https://www.jsdiaries.com/how-to-remove-decimal-places-in-javascript/\r\n\r\nTry https://beta.sayhello.so/, this search engine could find snippets :) !\r\n\r\nHave a nice day :)\r\n","title":"How can i make the calculation not display decimals?","body":"<p>In Javascript, you could remove decimals with severals solutions !</p>\n<p>The parseInt() function is the slower (!).</p>\n<pre class=\"lang-js prettyprint-override\"><code>let myNumber = 5.0214;\nlet myOtherNumber = 5.9;\n\n// With Math.floor() method \nlet myNymberWithoutDecimals = Math.floor(myNumber) // 5\nlet myOtherWithoutDecimals = Math.floor(myOtherNumber)  // 5\n\n// With Math.round() method\nlet myNymberWithoutDecimals = Math.round(myNumber) // 5\nlet myOtherWithoutDecimals = Math.round(myOtherNumber)  // 6\n\n// with parseInt()\nlet myNymberWithoutDecimals = parseInt(myNumber) // 5\nlet myOtherWithoutDecimals = parseInt(myOtherNumber)  // 5\n\n// with toFixed(number)\nmyNumber.toFixed(2) // 5.02\nmyNumber.toFixed(1) // 5.0\nmyNumber.toFixed() // 5\n\n\n</code></pre>\n<p>With your example :</p>\n<pre class=\"lang-js prettyprint-override\"><code> function do_on_range_change_pages() {\n\n      $('.betrag').text(pages);\n\n  $('.name1').text((pages * 0.001).toFixed());\n  $('.name2').text((pages * 0.03).toFixed());\n  $('.name3').text((pages / 22).toFixed());\n\n  }\n\n</code></pre>\n<p>Better advice : new to JS ? Try to use google.</p>\n<p>My research : <a href=\"https://www.jsdiaries.com/how-to-remove-decimal-places-in-javascript/\" rel=\"nofollow noreferrer\">https://www.jsdiaries.com/how-to-remove-decimal-places-in-javascript/</a></p>\n<p>Try <a href=\"https://beta.sayhello.so/\" rel=\"nofollow noreferrer\">https://beta.sayhello.so/</a>, this search engine could find snippets :) !</p>\n<p>Have a nice day :)</p>\n"}],"owner":{"account_id":27212171,"reputation":1,"user_id":20742810,"display_name":"dadagaga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1670711150,"answer_count":1,"score":-1,"last_activity_date":1670693219,"creation_date":1670692016,"question_id":74754959,"body_markdown":"How can i make the result of the calculation to display no decimals - for all the results ? \r\n\r\nnow the number is variable on a slider that gives a number from : 5000 - 100000 \r\nand is then divided or multiplied with : X \r\n\r\nthe problem if X is somthing like : * 0.0001097 the number i is a mile long \r\n\r\ni just want the result to be wihtout decimals\r\n\r\ni am a real amateur in this field.. have mercy with me hahah\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\n  function do_on_range_change_pages() {\r\n\r\n      $(&#39;.betrag&#39;).text(pages);\r\n\r\n  $(&#39;.name1&#39;).text((pages * 0.001));\r\n  $(&#39;.name2&#39;).text((pages * 0.03));\r\n  $(&#39;.name3&#39;).text((pages / 22));\r\n\r\n  }\r\n\r\n*how can i make the result of this display no decimals ?*\r\n\r\n  $(&#39;.name3&#39;).text((pages / 22 **?????**));\r\n\r\n```\r\n","title":"How can i make the calculation not display decimals?","body":"<p>How can i make the result of the calculation to display no decimals - for all the results ?</p>\n<p>now the number is variable on a slider that gives a number from : 5000 - 100000\nand is then divided or multiplied with : X</p>\n<p>the problem if X is somthing like : * 0.0001097 the number i is a mile long</p>\n<p>i just want the result to be wihtout decimals</p>\n<p>i am a real amateur in this field.. have mercy with me hahah</p>\n<pre><code>\n  function do_on_range_change_pages() {\n\n      $('.betrag').text(pages);\n\n  $('.name1').text((pages * 0.001));\n  $('.name2').text((pages * 0.03));\n  $('.name3').text((pages / 22));\n\n  }\n\n*how can i make the result of this display no decimals ?*\n\n  $('.name3').text((pages / 22 **?????**));\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"answers":[{"comments":[{"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"score":0,"creation_date":1670694699,"post_id":74755100,"comment_id":131934590,"body_markdown":"Yeah thanks, this suprisingly worked. I think I overcomplicated the problem, because I really only needed that bean and 2 lines of code and now it works, so thank you. It&#39;s just hard finding anything now because it is so new but your little manual helped me ^^","body":"Yeah thanks, this suprisingly worked. I think I overcomplicated the problem, because I really only needed that bean and 2 lines of code and now it works, so thank you. It&#39;s just hard finding anything now because it is so new but your little manual helped me ^^"},{"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"score":0,"creation_date":1670702985,"post_id":74755100,"comment_id":131936232,"body_markdown":"Sorry to disturb you, but now I wanted to ask how to do this for multiple UserDetailsServices (multiple Users). I tried it with multiple beans of which every bean is implementing UserDetailsService but that doesn&#39;t work, it gives me the error ```No AuthenticationProvider found for org.springframework.security.authentication.UsernamePasswordAuthenticationToken```. But if I only have one bean implementing the UserDetailsService (doesn&#39;t matter which one) it works.","body":"Sorry to disturb you, but now I wanted to ask how to do this for multiple UserDetailsServices (multiple Users). I tried it with multiple beans of which every bean is implementing UserDetailsService but that doesn&#39;t work, it gives me the error <code>No AuthenticationProvider found for org.springframework.security.authentication.UsernamePassword&zwnj;&#8203;AuthenticationToken</code>. But if I only have one bean implementing the UserDetailsService (doesn&#39;t matter which one) it works."},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1670703954,"post_id":74755100,"comment_id":131936394,"body_markdown":"Yes the error is misleading: you get &quot;no provider found&quot; when in fact they are too many. But I don&#39;t follow your &quot;(multiple Users)&quot;: a UserDetailsService don&#39;t care about the number of users in the repository. Or do you mean you need  several DB sources, cascading from one to the following until the user is found or all sources have been queried?","body":"Yes the error is misleading: you get &quot;no provider found&quot; when in fact they are too many. But I don&#39;t follow your &quot;(multiple Users)&quot;: a UserDetailsService don&#39;t care about the number of users in the repository. Or do you mean you need  several DB sources, cascading from one to the following until the user is found or all sources have been queried?"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1670704596,"post_id":74755100,"comment_id":131936500,"body_markdown":"If the latest is your idea, then you have to create a &quot;CascadingUserDetailsService&quot; that should be the only UserDetailsService scanned as a bean but with knowledge of the other ones which of course should not be but in a Spring-scanned package... (you can use META-INF/services to declare them and discover them with ServiceLoader if you don&#39;t want to hardcode them in your application...)","body":"If the latest is your idea, then you have to create a &quot;CascadingUserDetailsService&quot; that should be the only UserDetailsService scanned as a bean but with knowledge of the other ones which of course should not be but in a Spring-scanned package... (you can use META-INF/services to declare them and discover them with ServiceLoader if you don&#39;t want to hardcode them in your application...)"},{"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"score":0,"creation_date":1670704605,"post_id":74755100,"comment_id":131936502,"body_markdown":"I meant I have multiple different entities so I also need a different repository for each entity. And because I have multiple entities I need different UserDetails, which is why I also need different UserDetailsServices. And I now tried to create 3 different beans for the 3 different userdetailsservices I need for my 3 different userdetails which I need for my 3 different entities","body":"I meant I have multiple different entities so I also need a different repository for each entity. And because I have multiple entities I need different UserDetails, which is why I also need different UserDetailsServices. And I now tried to create 3 different beans for the 3 different userdetailsservices I need for my 3 different userdetails which I need for my 3 different entities"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1670704997,"post_id":74755100,"comment_id":131936557,"body_markdown":"I don&#39;t see the relation between &quot;different entities&quot; and the need of different UserDetails. You may need different UserDetails only if you have different datasources for your users, with maybe different access or availability rules. E.g. a LDAP for physical users and a DB for technical (processes, ...) users.","body":"I don&#39;t see the relation between &quot;different entities&quot; and the need of different UserDetails. You may need different UserDetails only if you have different datasources for your users, with maybe different access or availability rules. E.g. a LDAP for physical users and a DB for technical (processes, ...) users."},{"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"score":0,"creation_date":1670705190,"post_id":74755100,"comment_id":131936584,"body_markdown":"Really? I don&#39;t really get how to then. If I have 3 entities, schueler, lehrer and verwaltung how do I for example return the password. One UserDetailsImplementation can for example ```return lehrer.getPassword``` but what about schueler and verwaltung? How should I return their credentials? As of my understanding ONE UserDetails Implementation is for ONE Entity","body":"Really? I don&#39;t really get how to then. If I have 3 entities, schueler, lehrer and verwaltung how do I for example return the password. One UserDetailsImplementation can for example <code>return lehrer.getPassword</code> but what about schueler and verwaltung? How should I return their credentials? As of my understanding ONE UserDetails Implementation is for ONE Entity"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1670705441,"post_id":74755100,"comment_id":131936615,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250317/discussion-between-p3consulting-and-gabriel).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250317/discussion-between-p3consulting-and-gabriel\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670693102,"creation_date":1670693102,"answer_id":74755100,"question_id":74754865,"body_markdown":"A bean implementing UserDetailsService in which you inject a DAO (Repository, ... as you like) that connects to the external DB configured by specific properties (login, password, url, ...) will do the job. You don&#39;t anything complex to retrieve user information, a basic JdbcTemplate in the DAO will do the job.","title":"How do you log in with a external database in Spring Security 6?","body":"<p>A bean implementing UserDetailsService in which you inject a DAO (Repository, ... as you like) that connects to the external DB configured by specific properties (login, password, url, ...) will do the job. You don't anything complex to retrieve user information, a basic JdbcTemplate in the DAO will do the job.</p>\n"}],"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74755100,"answer_count":1,"score":0,"last_activity_date":1670693102,"creation_date":1670691246,"question_id":74754865,"body_markdown":"after researching a few hours I couldn&#39;t find anything on how to log in when you are using a external database that contains the credentials in Spring Security 6. \r\n```java\r\npackage de.gabriel.vertretungsplan.security;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .requestMatchers(&quot;/vertretungsplan&quot;).hasAnyRole(&quot;SCHUELER&quot;, &quot;LEHRER&quot;, &quot;VERWALTUNG&quot;)\r\n                        .requestMatchers(&quot;/account&quot;).hasAnyRole(&quot;LEHRER&quot;, &quot;VERWALTUNG&quot;)\r\n                        .requestMatchers(&quot;/administration&quot;).hasRole(&quot;VERWALTUNG&quot;)\r\n                        .requestMatchers(&quot;/&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .formLogin();\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```\r\nThis currently is my SecurityConfiguration but I can&#39;t figure out how to retrieve user information and compare it with the username and password. In my [last project](https://github.com/github-gabriel/spring-security-applications/tree/main/JPA%20Authentication) I used a UserDetailsService like this\r\n```java\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    UserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n         auth.userDetailsService(userDetailsService);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .antMatchers(&quot;/user&quot;).hasAnyRole(&quot;ADMIN&quot;,&quot;USER&quot;)\r\n                .antMatchers(&quot;/&quot;).permitAll()\r\n                .and().formLogin();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder getPasswordEncoder(){\r\n        return NoOpPasswordEncoder.getInstance();\r\n    }\r\n\r\n}\r\n```\r\nbut the ```WebSecurityConfigurerAdapter``` is outdated so I want to use the new method, which I guess, also uses a UserDetailsService in some way, but I just can&#39;t find anything on the internet. I [read](https://www.baeldung.com/spring-security-authentication-provider) [some](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter) [articles](https://docs.spring.io/spring-security/reference/migration/index.html) and watched [some](https://www.youtube.com/watch?v=EfaQp3OS5yI) [videos](https://www.youtube.com/watch?v=b9O9NI-RJ3o), but I can&#39;t find anything, which is why I wanted to ask here if someone knows how to use the external db for login (and yes, the entity that I am using has no relationships inside the db, if that matters)","title":"How do you log in with a external database in Spring Security 6?","body":"<p>after researching a few hours I couldn't find anything on how to log in when you are using a external database that contains the credentials in Spring Security 6.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.gabriel.vertretungsplan.security;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .requestMatchers(&quot;/vertretungsplan&quot;).hasAnyRole(&quot;SCHUELER&quot;, &quot;LEHRER&quot;, &quot;VERWALTUNG&quot;)\n                        .requestMatchers(&quot;/account&quot;).hasAnyRole(&quot;LEHRER&quot;, &quot;VERWALTUNG&quot;)\n                        .requestMatchers(&quot;/administration&quot;).hasRole(&quot;VERWALTUNG&quot;)\n                        .requestMatchers(&quot;/&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .formLogin();\n        return http.build();\n    }\n\n}\n</code></pre>\n<p>This currently is my SecurityConfiguration but I can't figure out how to retrieve user information and compare it with the username and password. In my <a href=\"https://github.com/github-gabriel/spring-security-applications/tree/main/JPA%20Authentication\" rel=\"nofollow noreferrer\">last project</a> I used a UserDetailsService like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    UserDetailsService userDetailsService;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n         auth.userDetailsService(userDetailsService);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .antMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\n                .antMatchers(&quot;/user&quot;).hasAnyRole(&quot;ADMIN&quot;,&quot;USER&quot;)\n                .antMatchers(&quot;/&quot;).permitAll()\n                .and().formLogin();\n    }\n\n    @Bean\n    public PasswordEncoder getPasswordEncoder(){\n        return NoOpPasswordEncoder.getInstance();\n    }\n\n}\n</code></pre>\n<p>but the <code>WebSecurityConfigurerAdapter</code> is outdated so I want to use the new method, which I guess, also uses a UserDetailsService in some way, but I just can't find anything on the internet. I <a href=\"https://www.baeldung.com/spring-security-authentication-provider\" rel=\"nofollow noreferrer\">read</a> <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">some</a> <a href=\"https://docs.spring.io/spring-security/reference/migration/index.html\" rel=\"nofollow noreferrer\">articles</a> and watched <a href=\"https://www.youtube.com/watch?v=EfaQp3OS5yI\" rel=\"nofollow noreferrer\">some</a> <a href=\"https://www.youtube.com/watch?v=b9O9NI-RJ3o\" rel=\"nofollow noreferrer\">videos</a>, but I can't find anything, which is why I wanted to ask here if someone knows how to use the external db for login (and yes, the entity that I am using has no relationships inside the db, if that matters)</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","spring-orm"],"owner":{"account_id":21145103,"reputation":51,"user_id":15546614,"display_name":"Prathamesh Tamte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670692674,"creation_date":1670692674,"question_id":74755042,"body_markdown":"I&#39;m using hibernate 5.3.20 version, using hibernateTemplate I&#39;m querying the result\r\n\r\n    getHibernateTemplate().bulkUpdate(&quot;UPDATE MessagingLog ml SET ml.retryAttempts = 1, ml.status = ? WHERE ml.retryAttempts &gt; 0&quot;) \r\n\r\nbut with above query I&#39;m getting a below error\r\n\r\n    org.hibernate.QueryException: Legacy-style query parameters (`?`) are no longer supported; use JPA-style ordinal parameters (e.g., `?1`)\r\n\r\nIf I change the &quot;?&quot; with ?1 then it is throwing error as &quot;ordinal paramter [0] not found&quot;\r\n\r\nas hibernate internally mapping the bulkUpdate setParameter starting from index 0\r\n\r\nas shown in the below snippet\r\n\r\n    public int bulkUpdate(String queryString, @Nullable Object... values) throws DataAccessException {\r\n        Integer result = (Integer)this.executeWithNativeSession((session) -&gt; {\r\n            Query queryObject = queryObject(ReflectionUtils.invokeMethod(createQueryMethod, session, new Object[]{queryString}));\r\n            this.prepareQuery(queryObject);\r\n            if (values != null) {\r\n                for(int i = 0; i &lt; values.length; ++i) {\r\n                    queryObject.setParameter(i, values[i]);\r\n                }\r\n            }\r\n\r\n            return queryObject.executeUpdate();\r\n        });\r\n        Assert.state(result != null, &quot;No update count&quot;);\r\n        return result;\r\n    }\r\n\r\nis there a way I can use setNamed parameters or any other way I achieve the bulkUpate starting from index 0 ??\r\n \r\n","title":"Hibernate 5 getHibernateTemplate().bulkUpdate() with named parameters","body":"<p>I'm using hibernate 5.3.20 version, using hibernateTemplate I'm querying the result</p>\n<pre><code>getHibernateTemplate().bulkUpdate(&quot;UPDATE MessagingLog ml SET ml.retryAttempts = 1, ml.status = ? WHERE ml.retryAttempts &gt; 0&quot;) \n</code></pre>\n<p>but with above query I'm getting a below error</p>\n<pre><code>org.hibernate.QueryException: Legacy-style query parameters (`?`) are no longer supported; use JPA-style ordinal parameters (e.g., `?1`)\n</code></pre>\n<p>If I change the &quot;?&quot; with ?1 then it is throwing error as &quot;ordinal paramter [0] not found&quot;</p>\n<p>as hibernate internally mapping the bulkUpdate setParameter starting from index 0</p>\n<p>as shown in the below snippet</p>\n<pre><code>public int bulkUpdate(String queryString, @Nullable Object... values) throws DataAccessException {\n    Integer result = (Integer)this.executeWithNativeSession((session) -&gt; {\n        Query queryObject = queryObject(ReflectionUtils.invokeMethod(createQueryMethod, session, new Object[]{queryString}));\n        this.prepareQuery(queryObject);\n        if (values != null) {\n            for(int i = 0; i &lt; values.length; ++i) {\n                queryObject.setParameter(i, values[i]);\n            }\n        }\n\n        return queryObject.executeUpdate();\n    });\n    Assert.state(result != null, &quot;No update count&quot;);\n    return result;\n}\n</code></pre>\n<p>is there a way I can use setNamed parameters or any other way I achieve the bulkUpate starting from index 0 ??</p>\n"},{"tags":["java","testing","flakyness"],"comments":[{"owner":{"account_id":1257024,"reputation":909,"user_id":1216281,"accept_rate":67,"display_name":"Big_Boulard"},"score":0,"creation_date":1670698236,"post_id":74754987,"comment_id":131935351,"body_markdown":"Could you please explicit the error you get","body":"Could you please explicit the error you get"}],"owner":{"account_id":18446826,"reputation":11,"user_id":13437904,"display_name":"TheGreatRandall"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670692227,"creation_date":1670692227,"question_id":74754987,"body_markdown":"I am solving the fixing flaky test, the test looks like this:\r\n\r\n```\r\n    @Test\r\n    public void testButtonSignatureWithJSONObject() throws Exception {\r\n        System.out.println(&quot;1&quot;);\r\n        // final String payload1 = &quot;{\\&quot;storeId\\&quot;:\\&quot;amzn1.application-oa2-client.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\\&quot;,\\&quot;webCheckoutDetails\\&quot;:{\\&quot;checkoutReviewReturnUrl\\&quot;:\\&quot;https://localhost/test/CheckoutReview.php\\&quot;,\\&quot;checkoutResultReturnUrl\\&quot;:\\&quot;https://localhost/test/CheckoutResult.php\\&quot;}}&quot;;\r\n        // final String signatureString1 = client.generateButtonSignature(payload);\r\n        final JSONObject payload = new JSONObject();\r\n        payload.put(&quot;storeId&quot;, &quot;amzn1.application-oa2-client.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;);\r\n        final JSONObject webCheckoutDetails = new JSONObject();\r\n        webCheckoutDetails.put(&quot;checkoutReviewReturnUrl&quot;, &quot;https://localhost/test/CheckoutReview.php&quot;);\r\n        webCheckoutDetails.put(&quot;checkoutResultReturnUrl&quot;, &quot;https://localhost/test/CheckoutResult.php&quot;);\r\n        payload.put(&quot;webCheckoutDetails&quot;, webCheckoutDetails);\r\n\r\n\r\n        //String temp = payload.toString();\r\n        final String signatureString = client.generateButtonSignature(payload);\r\n        signature.update(PLAIN_TEXT.getBytes());\r\n        Assert.assertTrue(signature.verify(Base64.decode(signatureString)));\r\n    }\r\n```\r\nIt gives the assertion error. According to some research, I assume it is because when the objects are put into JSONObject, the order is non-deterministic. I am kinda get stuck about how to fix it. I would very appreciate your advice. Thank you!\r\n\r\nSince it&#39;s about fixing some test open sourced. It&#39;s really nothing I can do more here. I tried to switch payload to String but it won&#39;t work. Thank you!","title":"How to output the JSONObject ordered","body":"<p>I am solving the fixing flaky test, the test looks like this:</p>\n<pre><code>    @Test\n    public void testButtonSignatureWithJSONObject() throws Exception {\n        System.out.println(&quot;1&quot;);\n        // final String payload1 = &quot;{\\&quot;storeId\\&quot;:\\&quot;amzn1.application-oa2-client.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\\&quot;,\\&quot;webCheckoutDetails\\&quot;:{\\&quot;checkoutReviewReturnUrl\\&quot;:\\&quot;https://localhost/test/CheckoutReview.php\\&quot;,\\&quot;checkoutResultReturnUrl\\&quot;:\\&quot;https://localhost/test/CheckoutResult.php\\&quot;}}&quot;;\n        // final String signatureString1 = client.generateButtonSignature(payload);\n        final JSONObject payload = new JSONObject();\n        payload.put(&quot;storeId&quot;, &quot;amzn1.application-oa2-client.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;);\n        final JSONObject webCheckoutDetails = new JSONObject();\n        webCheckoutDetails.put(&quot;checkoutReviewReturnUrl&quot;, &quot;https://localhost/test/CheckoutReview.php&quot;);\n        webCheckoutDetails.put(&quot;checkoutResultReturnUrl&quot;, &quot;https://localhost/test/CheckoutResult.php&quot;);\n        payload.put(&quot;webCheckoutDetails&quot;, webCheckoutDetails);\n\n\n        //String temp = payload.toString();\n        final String signatureString = client.generateButtonSignature(payload);\n        signature.update(PLAIN_TEXT.getBytes());\n        Assert.assertTrue(signature.verify(Base64.decode(signatureString)));\n    }\n</code></pre>\n<p>It gives the assertion error. According to some research, I assume it is because when the objects are put into JSONObject, the order is non-deterministic. I am kinda get stuck about how to fix it. I would very appreciate your advice. Thank you!</p>\n<p>Since it's about fixing some test open sourced. It's really nothing I can do more here. I tried to switch payload to String but it won't work. Thank you!</p>\n"},{"tags":["java","arraylist","domparser"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1670691869,"post_id":74754905,"comment_id":131934001,"body_markdown":"Just a quick observation: in the Song class, you should copy the array that you pass in, because this could be a source of the sort of error you are seeing.  `genre = g;` change to `genre = new ArrayList&lt;&gt;( g );`","body":"Just a quick observation: in the Song class, you should copy the array that you pass in, because this could be a source of the sort of error you are seeing.  <code>genre = g;</code> change to <code>genre = new ArrayList&lt;&gt;( g );</code>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1670691997,"post_id":74754905,"comment_id":131934033,"body_markdown":"Your code creates one `ArrayList&lt;String&gt; auxArray` and shares that between all songs. Either create a new `ArrayList&lt;String&gt; auxArray` for each new `Song` or do as @markspace suggested and copy the list of genres in the `Song` constructor.","body":"Your code creates one <code>ArrayList&lt;String&gt; auxArray</code> and shares that between all songs. Either create a new <code>ArrayList&lt;String&gt; auxArray</code> for each new <code>Song</code> or do as @markspace suggested and copy the list of genres in the <code>Song</code> constructor."},{"owner":{"account_id":27211435,"reputation":11,"user_id":20742196,"display_name":"Monstruo"},"score":0,"creation_date":1670692403,"post_id":74754905,"comment_id":131934114,"body_markdown":"Yes, you are both right that was the problem. It&#180;s working fine now. Thank you very much. You just saved my ass.","body":"Yes, you are both right that was the problem. It&#180;s working fine now. Thank you very much. You just saved my ass."}],"owner":{"account_id":27211435,"reputation":11,"user_id":20742196,"display_name":"Monstruo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670692163,"creation_date":1670691632,"question_id":74754905,"body_markdown":"First of all English is not my first language, so sorry in advance for the mistakes.\r\n\r\nThe thing is I need some help understanding why I&#180;m overwriting some values inside my array list. \r\n\r\nI know this question has been asked before but all solutions I found about this issue are related to variables declared static when they shouldn&#180;t be, which I think is not my case.\r\n\r\nThe code is searching in two different .xml documents for pop songs contained in a especific album, and returning the array with the title and genres of each song.\r\n\r\nFirst I have a Song defined as:\r\n\r\n```\r\npublic class Song {\r\n    private String title;\r\n    private ArrayList&lt;String&gt; genre;\r\n    public Song (String t, ArrayList&lt;String&gt; g) {\r\n        title = t;\r\n        genre = g;\r\n    }\r\n    public String getTitle () { return title; }\r\n    public ArrayList&lt;String&gt; getGenre () { return genre; }\r\n}\r\n```\r\nThen I&#180;m searching trough the .xml documents for the required album and country. \r\nIt correctly finds the songs and the genres, but I&#180;m having trouble adding them into an array.\r\nThe code is the following:\r\nIn this example the required album is called &quot;titulo5&quot; and thecountry is &quot;england&quot;. \r\n\r\n```\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\nimport org.w3c.dom.NodeList;\r\nimport org.xml.sax.SAXException;\r\n\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.parsers.ParserConfigurationException;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\n\r\npublic class Main {\r\n    private static ArrayList&lt;Song&gt; Songs = new ArrayList&lt;Song&gt;();\r\n    static DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n    static DocumentBuilder db;\r\n    static {\r\n        try {\r\n            db = dbf.newDocumentBuilder();\r\n        } catch (ParserConfigurationException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws ParserConfigurationException, IOException, SAXException {\r\n\r\n        String nextURL = run(&quot;tmvl_01.xml&quot;,&quot;england&quot;,&quot;titulo5&quot;);\r\n        nextURL = run(nextURL,&quot;england&quot;,&quot;titulo5&quot;);\r\n\r\n    }\r\n    private static String run(String filename, String country, String album)throws ParserConfigurationException, IOException, SAXException\r\n    {\r\n        String nextURL = null;\r\n        ArrayList&lt;String&gt; auxArray = new ArrayList&lt;String&gt;();\r\n        try\r\n        {\r\n            Document doc = db.parse(new File(filename));\r\n            Boolean test = false;\r\n\r\n            NodeList nl = doc.getElementsByTagName(&quot;Album&quot;);\r\n            Element elem;\r\n\r\n            for (int x=0; x &lt; nl.getLength(); x++)\r\n            {\r\n                elem = (Element)nl.item(x);\r\n                NodeList nlTitles = elem.getElementsByTagName(&quot;Titulo&quot;);\r\n                NodeList nlSongs = elem.getElementsByTagName(&quot;Song&quot;);\r\n                Element elemAlbumTitle = (Element)nlTitles.item(0);\r\n                String albumName = elemAlbumTitle.getTextContent().trim();\r\n                if (albumName.equals(album)){\r\n                    for(int i= 0; i &lt; nlSongs.getLength();i++)\r\n                    {\r\n                        Element elemSongs = (Element)nlSongs.item(i);\r\n                        NodeList nlSongTitle = elem.getElementsByTagName(&quot;Title&quot;);\r\n                        Element elemSongTItle = (Element) nlSongTitle.item(i);\r\n                        String songTItle = elemSongTItle.getTextContent().trim();\r\n                        NodeList nlGenre = elemSongs.getElementsByTagName(&quot;Genre&quot;);\r\n                        auxArray.clear();\r\n                        for (int e = 0; e&lt; nlGenre.getLength(); e++)\r\n                        {\r\n                            Element elemGenre = (Element) nlGenre.item(e);\r\n                            String genreName = elemGenre.getTextContent().trim();\r\n\r\n                            auxArray.add(genreName);\r\n                            if(genreName.equals(&quot;pop&quot;))\r\n                            {\r\n                                test = true;\r\n                            }\r\n                        }\r\n\r\n                        if(test == true)\r\n                        {\r\n                            System.out.println(&quot;Array: &quot; + auxArray);\r\n                            System.out.println(&quot;Titulo: &quot; +songTItle);\r\n\r\n                            Song check = new Song(songTItle,auxArray);\r\n\r\n                            System.out.println(&quot;Check SOng: &quot; + check.getGenre());\r\n                            Songs.add(check); //Here is the issue\r\n                            System.out.println(&quot;ArraySize: &quot; + Songs.size());\r\n\r\n                            for(int z = 0; z&lt;Songs.size();z++) {\r\n                                String songTitle = Songs.get(z).getTitle();\r\n                                System.out.println(&quot;ArrayTitulo: &quot; + songTitle);\r\n                                String songGenres;\r\n                                for (int p = 0  ; p &lt; Songs.get(z).getGenre().size();p++)\r\n                                {\r\n                                    songGenres = Songs.get(z).getGenre().get(p);\r\n                                    System.out.println(&quot;ArrayGenreP: &quot;+p + &quot;  ArrayGenreZ: &quot; + z +  &quot;  Item: &quot;+songGenres);\r\n\r\n                                }\r\n                            }\r\n                            System.out.println(&quot;Genres: &quot; + Songs.get(0).getGenre());\r\n                            if(Songs.size()&gt;1){\r\n                                System.out.println(&quot;Genres: &quot; + Songs.get(1).getGenre());\r\n\r\n                            }\r\n                            auxArray.clear();\r\n                            test = false;\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n            NodeList nl_TVMLs = doc.getElementsByTagName(&quot;TVML&quot;);\r\n            Element elemnt;\r\n\r\n            for (int x=0; x &lt; nl_TVMLs.getLength(); x++)\r\n            {\r\n                elemnt = (Element)nl_TVMLs.item(x);\r\n                nextURL = elemnt.getTextContent().trim();\r\n                System.out.println(&quot;Siguiente URL: &quot; + nextURL);\r\n            }\r\n        }\r\n        catch(SAXException e)\r\n        {\r\n            System.out.println(&quot;Excepction no well formed&quot;);\r\n        }\r\n        return nextURL;\r\n    }\r\n\r\n}\r\n```\r\nThis, I think, it should add in the Songs array two songs, with two titles and, two genres the first one and three genres the second one, resulting in something like this: \r\n\r\nSong Title: 8 Genres:[metal,pop,balad]\r\n\r\nSong Title: 11 Genres:[funk,pop]\r\n\r\nBut the output I&#180;m getting is:\r\n\r\nSong Title: 8 Genres: [funk,pop]\r\n\r\nSong Title: 11 Genres:[funk,pop]\r\n\r\nTitles are correct, but genres are beeing overwrited by the last search in the loop.\r\n\r\nMy System.out.println() results are:\r\n```\r\nArray: [metal, pop, ballad]                 --&gt; *First genre extracted array*\r\n\r\nTitle: 8\r\nCheck SOng: [metal, pop, ballad]            --&gt; *Genres inside the Song object*\r\n\r\nArraySize: 1\r\n\r\nArrayTitulo: 8 --&gt; Title is OK\r\n\r\nArrayGenreP: 0  ArrayGenreZ: 0  Item: metal  --&gt; *P = genres index and Z = title index*\r\n\r\nArrayGenreP: 1  ArrayGenreZ: 0  Item: pop\r\n\r\nArrayGenreP: 2  ArrayGenreZ: 0  Item: ballad\r\n\r\nGenres: [metal, pop, ballad]                 *--&gt; Here is OK: Title 8 should have this 3 genres*\r\n\r\nArray: [funk, pop]                           *--&gt; This is the second array which is correct*\r\n\r\nTitle: 11                                    *--&gt; This is the second title which is also ok*\r\n\r\nCheck SOng: [funk, pop]                      *--&gt; This is the array stored in the new song object*\r\n\r\nArraySize: 2                                 *--&gt; The new updated array size*\r\n\r\nArrayTitle: 8                                *--&gt; The first title is correct*\r\n\r\nArrayGenreP: 0  ArrayGenreZ: 0  Item: funk   *--&gt; Here is the problem, it overwrites the previous genres*\r\n\r\nArrayGenreP: 1  ArrayGenreZ: 0  Item: pop    * --&gt; (but not the previous title)*\r\n\r\nArrayTitle: 11                                 --&gt; Second title is also correct\r\n\r\nArrayGenreP: 0  ArrayGenreZ: 1  Item: funk  *--&gt;These are the correct genres for song with title 11*\r\n\r\nArrayGenreP: 1  ArrayGenreZ: 1  Item: pop\r\nGenres: [funk, pop]                         *--&gt; Here should be [metal, pop, ballad] *\r\n\r\nGenres: [funk, pop]                         *--&gt; Here is OK*\r\n\r\n```\r\n\r\nAnd I&#180;m completely stuck, I don&#180;t know what else I can try, so some help would be very appreciated. \r\n\r\nMaybe is something that has already beeing answered, if is the case I&#180;m sorry, not my intention to waste anyones time.\r\n\r\nJust in case I&#180;m showing next the 2 .xml documents I created. The first one is:\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;Music&gt;\r\n   &lt;Year&gt;2001&lt;/Year&gt;\r\n   &lt;Album&gt;\r\n      &lt;Name&gt;uno&lt;/Name&gt;\r\n      &lt;Country&gt;spain&lt;/Country&gt;\r\n      &lt;Titulo&gt;titulo1&lt;/Titulo&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;1&lt;/Title&gt;\r\n         &lt;Genre&gt;pop&lt;/Genre&gt;\r\n         &lt;Genre&gt;rock&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;2&lt;/Title&gt;\r\n         &lt;Genre&gt;metal&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n   &lt;/Album&gt;\r\n   &lt;Album&gt;\r\n      &lt;Name&gt;dos&lt;/Name&gt;\r\n      &lt;Country&gt;england&lt;/Country&gt;\r\n      &lt;Titulo&gt;titulo2&lt;/Titulo&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;3&lt;/Title&gt;\r\n         &lt;Genre&gt;pop&lt;/Genre&gt;\r\n         &lt;Genre&gt;metal&lt;/Genre&gt;\r\n         &lt;Genre&gt;soul&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n   &lt;/Album&gt;\r\n   &lt;TVML&gt;tmvl_02.xml&lt;/TVML&gt;\r\n&lt;/Music&gt;\r\n```\r\nAnd the second one:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;Music&gt;\r\n   &lt;Year&gt;2003&lt;/Year&gt;\r\n   &lt;Album&gt;\r\n      &lt;Name&gt;tres&lt;/Name&gt;\r\n      &lt;Country&gt;morocco&lt;/Country&gt;\r\n      &lt;Titulo&gt;titulo3&lt;/Titulo&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;4&lt;/Title&gt;\r\n         &lt;Genre&gt;pop&lt;/Genre&gt;\r\n         &lt;Genre&gt;soul&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;5&lt;/Title&gt;\r\n         &lt;Genre&gt;reggae&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;6&lt;/Title&gt;\r\n         &lt;Genre&gt;rock&lt;/Genre&gt;\r\n         &lt;Genre&gt;pop&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n   &lt;/Album&gt;\r\n   &lt;Album&gt;\r\n      &lt;Name&gt;cuatro&lt;/Name&gt;\r\n      &lt;Country&gt;france&lt;/Country&gt;\r\n      &lt;Titulo&gt;titulo4&lt;/Titulo&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;7&lt;/Title&gt;\r\n         &lt;Genre&gt;inide&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n   &lt;/Album&gt;\r\n   &lt;Album&gt;\r\n      &lt;Name&gt;cinco&lt;/Name&gt;\r\n      &lt;Country&gt;england&lt;/Country&gt;\r\n      &lt;Titulo&gt;titulo5&lt;/Titulo&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;10&lt;/Title&gt;\r\n         &lt;Genre&gt;rock&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;8&lt;/Title&gt;\r\n         &lt;Genre&gt;metal&lt;/Genre&gt;\r\n         &lt;Genre&gt;pop&lt;/Genre&gt;\r\n         &lt;Genre&gt;ballad&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;9&lt;/Title&gt;\r\n         &lt;Genre&gt;rock&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n      &lt;Song&gt;\r\n         &lt;Title&gt;11&lt;/Title&gt;\r\n         &lt;Genre&gt;funk&lt;/Genre&gt;\r\n         &lt;Genre&gt;pop&lt;/Genre&gt;\r\n      &lt;/Song&gt;\r\n   &lt;/Album&gt;\r\n&lt;/Music&gt;   \r\n```\r\nThx in advance for your help and merry christmas.","title":"ArrayList partially overwrites stored values (but not all of them) when adding new object to the list (object variables aren&#180;t static)","body":"<p>First of all English is not my first language, so sorry in advance for the mistakes.</p>\n<p>The thing is I need some help understanding why I´m overwriting some values inside my array list.</p>\n<p>I know this question has been asked before but all solutions I found about this issue are related to variables declared static when they shouldn´t be, which I think is not my case.</p>\n<p>The code is searching in two different .xml documents for pop songs contained in a especific album, and returning the array with the title and genres of each song.</p>\n<p>First I have a Song defined as:</p>\n<pre><code>public class Song {\n    private String title;\n    private ArrayList&lt;String&gt; genre;\n    public Song (String t, ArrayList&lt;String&gt; g) {\n        title = t;\n        genre = g;\n    }\n    public String getTitle () { return title; }\n    public ArrayList&lt;String&gt; getGenre () { return genre; }\n}\n</code></pre>\n<p>Then I´m searching trough the .xml documents for the required album and country.\nIt correctly finds the songs and the genres, but I´m having trouble adding them into an array.\nThe code is the following:\nIn this example the required album is called &quot;titulo5&quot; and thecountry is &quot;england&quot;.</p>\n<pre><code>import org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.NodeList;\nimport org.xml.sax.SAXException;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\n\npublic class Main {\n    private static ArrayList&lt;Song&gt; Songs = new ArrayList&lt;Song&gt;();\n    static DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n    static DocumentBuilder db;\n    static {\n        try {\n            db = dbf.newDocumentBuilder();\n        } catch (ParserConfigurationException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static void main(String[] args) throws ParserConfigurationException, IOException, SAXException {\n\n        String nextURL = run(&quot;tmvl_01.xml&quot;,&quot;england&quot;,&quot;titulo5&quot;);\n        nextURL = run(nextURL,&quot;england&quot;,&quot;titulo5&quot;);\n\n    }\n    private static String run(String filename, String country, String album)throws ParserConfigurationException, IOException, SAXException\n    {\n        String nextURL = null;\n        ArrayList&lt;String&gt; auxArray = new ArrayList&lt;String&gt;();\n        try\n        {\n            Document doc = db.parse(new File(filename));\n            Boolean test = false;\n\n            NodeList nl = doc.getElementsByTagName(&quot;Album&quot;);\n            Element elem;\n\n            for (int x=0; x &lt; nl.getLength(); x++)\n            {\n                elem = (Element)nl.item(x);\n                NodeList nlTitles = elem.getElementsByTagName(&quot;Titulo&quot;);\n                NodeList nlSongs = elem.getElementsByTagName(&quot;Song&quot;);\n                Element elemAlbumTitle = (Element)nlTitles.item(0);\n                String albumName = elemAlbumTitle.getTextContent().trim();\n                if (albumName.equals(album)){\n                    for(int i= 0; i &lt; nlSongs.getLength();i++)\n                    {\n                        Element elemSongs = (Element)nlSongs.item(i);\n                        NodeList nlSongTitle = elem.getElementsByTagName(&quot;Title&quot;);\n                        Element elemSongTItle = (Element) nlSongTitle.item(i);\n                        String songTItle = elemSongTItle.getTextContent().trim();\n                        NodeList nlGenre = elemSongs.getElementsByTagName(&quot;Genre&quot;);\n                        auxArray.clear();\n                        for (int e = 0; e&lt; nlGenre.getLength(); e++)\n                        {\n                            Element elemGenre = (Element) nlGenre.item(e);\n                            String genreName = elemGenre.getTextContent().trim();\n\n                            auxArray.add(genreName);\n                            if(genreName.equals(&quot;pop&quot;))\n                            {\n                                test = true;\n                            }\n                        }\n\n                        if(test == true)\n                        {\n                            System.out.println(&quot;Array: &quot; + auxArray);\n                            System.out.println(&quot;Titulo: &quot; +songTItle);\n\n                            Song check = new Song(songTItle,auxArray);\n\n                            System.out.println(&quot;Check SOng: &quot; + check.getGenre());\n                            Songs.add(check); //Here is the issue\n                            System.out.println(&quot;ArraySize: &quot; + Songs.size());\n\n                            for(int z = 0; z&lt;Songs.size();z++) {\n                                String songTitle = Songs.get(z).getTitle();\n                                System.out.println(&quot;ArrayTitulo: &quot; + songTitle);\n                                String songGenres;\n                                for (int p = 0  ; p &lt; Songs.get(z).getGenre().size();p++)\n                                {\n                                    songGenres = Songs.get(z).getGenre().get(p);\n                                    System.out.println(&quot;ArrayGenreP: &quot;+p + &quot;  ArrayGenreZ: &quot; + z +  &quot;  Item: &quot;+songGenres);\n\n                                }\n                            }\n                            System.out.println(&quot;Genres: &quot; + Songs.get(0).getGenre());\n                            if(Songs.size()&gt;1){\n                                System.out.println(&quot;Genres: &quot; + Songs.get(1).getGenre());\n\n                            }\n                            auxArray.clear();\n                            test = false;\n                        }\n\n                    }\n                }\n            }\n            NodeList nl_TVMLs = doc.getElementsByTagName(&quot;TVML&quot;);\n            Element elemnt;\n\n            for (int x=0; x &lt; nl_TVMLs.getLength(); x++)\n            {\n                elemnt = (Element)nl_TVMLs.item(x);\n                nextURL = elemnt.getTextContent().trim();\n                System.out.println(&quot;Siguiente URL: &quot; + nextURL);\n            }\n        }\n        catch(SAXException e)\n        {\n            System.out.println(&quot;Excepction no well formed&quot;);\n        }\n        return nextURL;\n    }\n\n}\n</code></pre>\n<p>This, I think, it should add in the Songs array two songs, with two titles and, two genres the first one and three genres the second one, resulting in something like this:</p>\n<p>Song Title: 8 Genres:[metal,pop,balad]</p>\n<p>Song Title: 11 Genres:[funk,pop]</p>\n<p>But the output I´m getting is:</p>\n<p>Song Title: 8 Genres: [funk,pop]</p>\n<p>Song Title: 11 Genres:[funk,pop]</p>\n<p>Titles are correct, but genres are beeing overwrited by the last search in the loop.</p>\n<p>My System.out.println() results are:</p>\n<pre><code>Array: [metal, pop, ballad]                 --&gt; *First genre extracted array*\n\nTitle: 8\nCheck SOng: [metal, pop, ballad]            --&gt; *Genres inside the Song object*\n\nArraySize: 1\n\nArrayTitulo: 8 --&gt; Title is OK\n\nArrayGenreP: 0  ArrayGenreZ: 0  Item: metal  --&gt; *P = genres index and Z = title index*\n\nArrayGenreP: 1  ArrayGenreZ: 0  Item: pop\n\nArrayGenreP: 2  ArrayGenreZ: 0  Item: ballad\n\nGenres: [metal, pop, ballad]                 *--&gt; Here is OK: Title 8 should have this 3 genres*\n\nArray: [funk, pop]                           *--&gt; This is the second array which is correct*\n\nTitle: 11                                    *--&gt; This is the second title which is also ok*\n\nCheck SOng: [funk, pop]                      *--&gt; This is the array stored in the new song object*\n\nArraySize: 2                                 *--&gt; The new updated array size*\n\nArrayTitle: 8                                *--&gt; The first title is correct*\n\nArrayGenreP: 0  ArrayGenreZ: 0  Item: funk   *--&gt; Here is the problem, it overwrites the previous genres*\n\nArrayGenreP: 1  ArrayGenreZ: 0  Item: pop    * --&gt; (but not the previous title)*\n\nArrayTitle: 11                                 --&gt; Second title is also correct\n\nArrayGenreP: 0  ArrayGenreZ: 1  Item: funk  *--&gt;These are the correct genres for song with title 11*\n\nArrayGenreP: 1  ArrayGenreZ: 1  Item: pop\nGenres: [funk, pop]                         *--&gt; Here should be [metal, pop, ballad] *\n\nGenres: [funk, pop]                         *--&gt; Here is OK*\n\n</code></pre>\n<p>And I´m completely stuck, I don´t know what else I can try, so some help would be very appreciated.</p>\n<p>Maybe is something that has already beeing answered, if is the case I´m sorry, not my intention to waste anyones time.</p>\n<p>Just in case I´m showing next the 2 .xml documents I created. The first one is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;Music&gt;\n   &lt;Year&gt;2001&lt;/Year&gt;\n   &lt;Album&gt;\n      &lt;Name&gt;uno&lt;/Name&gt;\n      &lt;Country&gt;spain&lt;/Country&gt;\n      &lt;Titulo&gt;titulo1&lt;/Titulo&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;1&lt;/Title&gt;\n         &lt;Genre&gt;pop&lt;/Genre&gt;\n         &lt;Genre&gt;rock&lt;/Genre&gt;\n      &lt;/Song&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;2&lt;/Title&gt;\n         &lt;Genre&gt;metal&lt;/Genre&gt;\n      &lt;/Song&gt;\n   &lt;/Album&gt;\n   &lt;Album&gt;\n      &lt;Name&gt;dos&lt;/Name&gt;\n      &lt;Country&gt;england&lt;/Country&gt;\n      &lt;Titulo&gt;titulo2&lt;/Titulo&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;3&lt;/Title&gt;\n         &lt;Genre&gt;pop&lt;/Genre&gt;\n         &lt;Genre&gt;metal&lt;/Genre&gt;\n         &lt;Genre&gt;soul&lt;/Genre&gt;\n      &lt;/Song&gt;\n   &lt;/Album&gt;\n   &lt;TVML&gt;tmvl_02.xml&lt;/TVML&gt;\n&lt;/Music&gt;\n</code></pre>\n<p>And the second one:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;Music&gt;\n   &lt;Year&gt;2003&lt;/Year&gt;\n   &lt;Album&gt;\n      &lt;Name&gt;tres&lt;/Name&gt;\n      &lt;Country&gt;morocco&lt;/Country&gt;\n      &lt;Titulo&gt;titulo3&lt;/Titulo&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;4&lt;/Title&gt;\n         &lt;Genre&gt;pop&lt;/Genre&gt;\n         &lt;Genre&gt;soul&lt;/Genre&gt;\n      &lt;/Song&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;5&lt;/Title&gt;\n         &lt;Genre&gt;reggae&lt;/Genre&gt;\n      &lt;/Song&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;6&lt;/Title&gt;\n         &lt;Genre&gt;rock&lt;/Genre&gt;\n         &lt;Genre&gt;pop&lt;/Genre&gt;\n      &lt;/Song&gt;\n   &lt;/Album&gt;\n   &lt;Album&gt;\n      &lt;Name&gt;cuatro&lt;/Name&gt;\n      &lt;Country&gt;france&lt;/Country&gt;\n      &lt;Titulo&gt;titulo4&lt;/Titulo&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;7&lt;/Title&gt;\n         &lt;Genre&gt;inide&lt;/Genre&gt;\n      &lt;/Song&gt;\n   &lt;/Album&gt;\n   &lt;Album&gt;\n      &lt;Name&gt;cinco&lt;/Name&gt;\n      &lt;Country&gt;england&lt;/Country&gt;\n      &lt;Titulo&gt;titulo5&lt;/Titulo&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;10&lt;/Title&gt;\n         &lt;Genre&gt;rock&lt;/Genre&gt;\n      &lt;/Song&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;8&lt;/Title&gt;\n         &lt;Genre&gt;metal&lt;/Genre&gt;\n         &lt;Genre&gt;pop&lt;/Genre&gt;\n         &lt;Genre&gt;ballad&lt;/Genre&gt;\n      &lt;/Song&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;9&lt;/Title&gt;\n         &lt;Genre&gt;rock&lt;/Genre&gt;\n      &lt;/Song&gt;\n      &lt;Song&gt;\n         &lt;Title&gt;11&lt;/Title&gt;\n         &lt;Genre&gt;funk&lt;/Genre&gt;\n         &lt;Genre&gt;pop&lt;/Genre&gt;\n      &lt;/Song&gt;\n   &lt;/Album&gt;\n&lt;/Music&gt;   \n</code></pre>\n<p>Thx in advance for your help and merry christmas.</p>\n"},{"tags":["java","inheritance","constructor","extends"],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1670691903,"post_id":74754933,"comment_id":131934013,"body_markdown":"This doesn&#39;t make sense - it would let you make a square instance that isn&#39;t a square, i.e. - an &#39;object with invalid state&#39;: What if I call new Square(t, n, c, 10, 20);?","body":"This doesn&#39;t make sense - it would let you make a square instance that isn&#39;t a square, i.e. - an &#39;object with invalid state&#39;: What if I call new Square(t, n, c, 10, 20);?"},{"owner":{"account_id":22831679,"reputation":13,"user_id":16980020,"display_name":"Marcus"},"score":0,"creation_date":1670692638,"post_id":74754933,"comment_id":131934149,"body_markdown":"You&#39;re correct. The constructor isn&#39;t finished yet I still need to modify it to ensure the width and height are the same","body":"You&#39;re correct. The constructor isn&#39;t finished yet I still need to modify it to ensure the width and height are the same"}],"tags":[],"owner":{"account_id":22831679,"reputation":13,"user_id":16980020,"display_name":"Marcus"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670691832,"creation_date":1670691832,"answer_id":74754933,"question_id":74754864,"body_markdown":"The problem was solved with the help of this question. [Similar content][1]\r\n\r\nI create another constructor with super(), this resolved the error.\r\n\r\n    public Square (String t,String n, String c, double w, double h ){\r\n                super(t,n,c,w,h);\r\n        };\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2319817/how-to-inherit-constructor-from-super-class-to-sub-class#:~:text=Constructors%20are%20not%20inherited%2C%20you,matching%20constructor%20in%20the%20superclass.","title":"constructor x in class x cannot be applied to given types. Between superclass and subclass","body":"<p>The problem was solved with the help of this question. <a href=\"https://stackoverflow.com/questions/2319817/how-to-inherit-constructor-from-super-class-to-sub-class#:%7E:text=Constructors%20are%20not%20inherited%2C%20you,matching%20constructor%20in%20the%20superclass.\">Similar content</a></p>\n<p>I create another constructor with super(), this resolved the error.</p>\n<pre><code>public Square (String t,String n, String c, double w, double h ){\n            super(t,n,c,w,h);\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670691866,"creation_date":1670691866,"answer_id":74754940,"question_id":74754864,"body_markdown":"1. All classes __must__ contain at least one constructor. They cannot be compiled without having one.\r\n2. All constructors __must__ begin with a `super()` call of some sort (invoking a constructor in the parent class), unless they start with a `this()` call (redirect to another constructor).\r\n3. ... However, if you fail to add a `super()` call, the compiler will simply assume you meant to and acts as if you wrote `super();` at the top of it.\r\n4. ... However, if you fail to add a constructor, the compiler will simply assume you meant to write one, and acts as if you wrote: `public MyClassName() { super(); }`.\r\n\r\nWith these facts in mind, `super()` is not going to work in your case, because `Rectangle` does not have a no-args constructor.\r\n\r\nAll you need:\r\n\r\n```\r\npublic class Square extends Rectangle {\r\n  public Square(String t, String n, String c, double w) {\r\n    super(t, n, c, w, w);\r\n  }\r\n}\r\n```\r\n\r\nThis means Square has 1 constructor, taking &#39;t&#39;, &#39;n&#39;, and &#39;c&#39;, whatever those are, as well as a single double indicating the length of any edge. (NB: This is __bad code style__, parameters should have clear names, _especially_ if the type of the parameter isn&#39;t particularly enlightening. &#39;String c&#39; means nothing. `Color c` - you can get away with that)\r\n\r\nIt then calls the Rectangle constructor, passing that &#39;edge length&#39; value for _both_ the width and height dimensions.\r\n","title":"constructor x in class x cannot be applied to given types. Between superclass and subclass","body":"<ol>\n<li>All classes <strong>must</strong> contain at least one constructor. They cannot be compiled without having one.</li>\n<li>All constructors <strong>must</strong> begin with a <code>super()</code> call of some sort (invoking a constructor in the parent class), unless they start with a <code>this()</code> call (redirect to another constructor).</li>\n<li>... However, if you fail to add a <code>super()</code> call, the compiler will simply assume you meant to and acts as if you wrote <code>super();</code> at the top of it.</li>\n<li>... However, if you fail to add a constructor, the compiler will simply assume you meant to write one, and acts as if you wrote: <code>public MyClassName() { super(); }</code>.</li>\n</ol>\n<p>With these facts in mind, <code>super()</code> is not going to work in your case, because <code>Rectangle</code> does not have a no-args constructor.</p>\n<p>All you need:</p>\n<pre><code>public class Square extends Rectangle {\n  public Square(String t, String n, String c, double w) {\n    super(t, n, c, w, w);\n  }\n}\n</code></pre>\n<p>This means Square has 1 constructor, taking 't', 'n', and 'c', whatever those are, as well as a single double indicating the length of any edge. (NB: This is <strong>bad code style</strong>, parameters should have clear names, <em>especially</em> if the type of the parameter isn't particularly enlightening. 'String c' means nothing. <code>Color c</code> - you can get away with that)</p>\n<p>It then calls the Rectangle constructor, passing that 'edge length' value for <em>both</em> the width and height dimensions.</p>\n"}],"owner":{"account_id":22831679,"reputation":13,"user_id":16980020,"display_name":"Marcus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74754940,"answer_count":2,"score":1,"last_activity_date":1670691866,"creation_date":1670691243,"question_id":74754864,"body_markdown":"The other questions I have seen are about intentionally referencing a superclass constructor method and failing. I am not referencing a constructor yet; just trying to extend a class.\r\n\r\nI am creating the class Square.java, which extends Rectangle.java.\r\n\r\nSquare.java is the subclass of Rectangle.java.\r\n\r\nInterface.java\r\n\r\n\\-Abstract.java - abstract class Abstract implements Interface.java\r\n\r\n\\--Rectangle.java - public class Rectangle extends Abstract\r\n\r\n\\---Square.java - public class Square extends Rectangle.\r\n\r\nWhen compiling Square.java, I received the error message.\r\n\r\n```\r\nSquare.java:3: error: constructor Rectangle in class Rectangle cannot be applied to given types;\r\npublic class Square extends Rectangle {\r\n       ^\r\n  required: String,String,String,double,double\r\n  found:    no arguments\r\n  reason: actual and formal argument lists differ in length\r\n1 error\r\n```\r\n\r\nThe content of Square.java is\r\n\r\n```\r\npublic class Square extends Rectangle {\r\n       //no code is in the body\r\n\r\n        }\r\n```\r\n\r\nThe constructor method of rectangle is:\r\n\r\n```\r\npublic Rectangle (String t,String n, String c, double w, double h ){\r\nwidth = w;\r\nheight = h;\r\ncolor = c;\r\nname = n;\r\ntype = t;\r\n    };\r\n```\r\n\r\nI want to create Square.java. Within this file, I would like to modify the Rectangle constructor method. But for right now, I just want the file to compile.\r\n\r\nI have tried\r\n\r\n- Copying the Rectangle constructor method into Square.java. That resulted in the same error message.\r\n- Copying in the Rectangle constructor method and changing the name of the constructor method to Square. This resulted in the same error message.\r\n- Commenting out the Rectangle constructor method within Rectangle.java. Square.java compiled without a problem. But... I need the Rectangle constructor in Rectangle.java.\r\n- Creating a new Square constructor method and ran into more errors. Eventually, I want the Square constructor method to be a modified Rectangle constructor method.\r\n\r\nFrom my understanding, constructor methods are not passed on to subclasses. I have not written code to intentionally reference the Rectangle constructor.\r\n\r\nI am getting the feeling that the compiler is interpreting &quot;... extends Rectangle { &quot; as an attempt to reference the constructor instead of the class. I have run out of ideas on how to resolve this.\r\n\r\nThank you for any help.","title":"constructor x in class x cannot be applied to given types. Between superclass and subclass","body":"<p>The other questions I have seen are about intentionally referencing a superclass constructor method and failing. I am not referencing a constructor yet; just trying to extend a class.</p>\n<p>I am creating the class Square.java, which extends Rectangle.java.</p>\n<p>Square.java is the subclass of Rectangle.java.</p>\n<p>Interface.java</p>\n<p>-Abstract.java - abstract class Abstract implements Interface.java</p>\n<p>--Rectangle.java - public class Rectangle extends Abstract</p>\n<p>---Square.java - public class Square extends Rectangle.</p>\n<p>When compiling Square.java, I received the error message.</p>\n<pre><code>Square.java:3: error: constructor Rectangle in class Rectangle cannot be applied to given types;\npublic class Square extends Rectangle {\n       ^\n  required: String,String,String,double,double\n  found:    no arguments\n  reason: actual and formal argument lists differ in length\n1 error\n</code></pre>\n<p>The content of Square.java is</p>\n<pre><code>public class Square extends Rectangle {\n       //no code is in the body\n\n        }\n</code></pre>\n<p>The constructor method of rectangle is:</p>\n<pre><code>public Rectangle (String t,String n, String c, double w, double h ){\nwidth = w;\nheight = h;\ncolor = c;\nname = n;\ntype = t;\n    };\n</code></pre>\n<p>I want to create Square.java. Within this file, I would like to modify the Rectangle constructor method. But for right now, I just want the file to compile.</p>\n<p>I have tried</p>\n<ul>\n<li>Copying the Rectangle constructor method into Square.java. That resulted in the same error message.</li>\n<li>Copying in the Rectangle constructor method and changing the name of the constructor method to Square. This resulted in the same error message.</li>\n<li>Commenting out the Rectangle constructor method within Rectangle.java. Square.java compiled without a problem. But... I need the Rectangle constructor in Rectangle.java.</li>\n<li>Creating a new Square constructor method and ran into more errors. Eventually, I want the Square constructor method to be a modified Rectangle constructor method.</li>\n</ul>\n<p>From my understanding, constructor methods are not passed on to subclasses. I have not written code to intentionally reference the Rectangle constructor.</p>\n<p>I am getting the feeling that the compiler is interpreting &quot;... extends Rectangle { &quot; as an attempt to reference the constructor instead of the class. I have run out of ideas on how to resolve this.</p>\n<p>Thank you for any help.</p>\n"},{"tags":["java","javac","java-module","java-17","patch-module"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1670534462,"post_id":74736383,"comment_id":131903142,"body_markdown":"“The algorithm used by the class has some specific behavior that other base 64 decoders do not reproduce.”  Are you sure?  [java.util.Base64](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Base64.html) has three decoder factory methods.  What other base64 variations are there?","body":"“The algorithm used by the class has some specific behavior that other base 64 decoders do not reproduce.”  Are you sure?  <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Base64.html\" rel=\"nofollow noreferrer\">java.util.Base64</a> has three decoder factory methods.  What other base64 variations are there?"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1670535616,"post_id":74736383,"comment_id":131903424,"body_markdown":"&quot;It seems like since java.base exports to jdk.unsupported, it&#39;s not possible to patch the jdk.unsupported module&quot;. I think the issue here is split packages. i.e. 2 modules can not both define a package with the same name.","body":"&quot;It seems like since java.base exports to jdk.unsupported, it&#39;s not possible to patch the jdk.unsupported module&quot;. I think the issue here is split packages. i.e. 2 modules can not both define a package with the same name."},{"owner":{"account_id":6385423,"reputation":99,"user_id":5078095,"display_name":"gbear605"},"score":0,"creation_date":1670535902,"post_id":74736383,"comment_id":131903497,"body_markdown":"@VGR The java.util.Base64 MIME decoder is the one most similar, but the sun.misc.BASE64Decoder class has some idiosyncracies that make some strings work for it but fail to parse with the java.util.Base64 MIME decoder. For one example, &quot;AAAAAAAAAAAAAAAAAAAAKxhT:Dqw41vO7TqahhN/epcK7Sk=&quot; successfully parses with the Sun implementation, but errors with &quot;Input byte array has wrong 4-byte ending unit&quot; in the java.util implementation.","body":"@VGR The java.util.Base64 MIME decoder is the one most similar, but the sun.misc.BASE64Decoder class has some idiosyncracies that make some strings work for it but fail to parse with the java.util.Base64 MIME decoder. For one example, &quot;AAAAAAAAAAAAAAAAAAAAKxhT:Dqw41vO7TqahhN/epcK7Sk=&quot; successfully parses with the Sun implementation, but errors with &quot;Input byte array has wrong 4-byte ending unit&quot; in the java.util implementation."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1670536352,"post_id":74736383,"comment_id":131903607,"body_markdown":"Why is there a `:` in your base 64 string?","body":"Why is there a <code>:</code> in your base 64 string?"},{"owner":{"account_id":6385423,"reputation":99,"user_id":5078095,"display_name":"gbear605"},"score":0,"creation_date":1670542097,"post_id":74736383,"comment_id":131904852,"body_markdown":"Because sun.misc.BASE64Encoder put it there! I’m not sure why it produced invalid base 64, but unfortunately I need to parse it.","body":"Because sun.misc.BASE64Encoder put it there! I’m not sure why it produced invalid base 64, but unfortunately I need to parse it."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1670589360,"post_id":74736383,"comment_id":131914507,"body_markdown":"“*Because sun.misc.BASE64Encoder put it there*” So, in other words, you “need” to use the sun.misc decoder, because you are using the sun.misc encoder…","body":"“<i>Because sun.misc.BASE64Encoder put it there</i>” So, in other words, you “need” to use the sun.misc decoder, because you are using the sun.misc encoder…"},{"owner":{"account_id":6385423,"reputation":99,"user_id":5078095,"display_name":"gbear605"},"score":1,"creation_date":1670591562,"post_id":74736383,"comment_id":131915218,"body_markdown":"@Holger Dealing with maintaining legacy data. :) I&#39;m only using the Decoder now, not the Encoder, but I still have the old data that I have to deal with.","body":"@Holger Dealing with maintaining legacy data. :) I&#39;m only using the Decoder now, not the Encoder, but I still have the old data that I have to deal with."}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1670691838,"creation_date":1670539098,"answer_id":74737089,"question_id":74736383,"body_markdown":"As mentioned in the comments, the problem is split packages. i.e. you can&#39;t have 2 modules that define the same package (java.time.zone in this case).\r\n\r\nIf you want to go the `--patch-module` route, you can not use the whole `rt.jar`. You will have to create a jar file with just the classes in `sun.misc` that you need.\r\n\r\nFor the base 64 encoder/decoder, it seems that at least `BASE64Decoder`, `BASE64Encoder`, `CharacterDecoder`, `CharacterEncoder`, and `CSStreamExhausted` are needed, all in the `sun.misc` package. If I create a jar with just those classes, and use that jar as an argument to `--patch-module`, I&#39;m able to decode the string from your comment. (but, more classes might be needed for a more complex use case. I didn&#39;t test that far).\r\n\r\n---\r\n\r\nBut, I&#39;ll also note that, as tgdavies pointed out, your string is not a valid base 64 string, according to the alphabet table in the spec: https://www.rfc-editor.org/rfc/rfc2045#page-25 (the same spec followed by the MIME encoder/decoder). The `:` is illegal, and it is ignored by the decoder, which means the trailing `=` used for padding is causing issue (you can also remove the `=` at the end to get the string to decode).\r\n\r\nI&#39;d recommend trying to sanitize your base 64 string and using the public base 64 API. That will probably be less of a hassle to keep working in the long term.","title":"Patch jdk.unsupported module in Java 17","body":"<p>As mentioned in the comments, the problem is split packages. i.e. you can't have 2 modules that define the same package (java.time.zone in this case).</p>\n<p>If you want to go the <code>--patch-module</code> route, you can not use the whole <code>rt.jar</code>. You will have to create a jar file with just the classes in <code>sun.misc</code> that you need.</p>\n<p>For the base 64 encoder/decoder, it seems that at least <code>BASE64Decoder</code>, <code>BASE64Encoder</code>, <code>CharacterDecoder</code>, <code>CharacterEncoder</code>, and <code>CSStreamExhausted</code> are needed, all in the <code>sun.misc</code> package. If I create a jar with just those classes, and use that jar as an argument to <code>--patch-module</code>, I'm able to decode the string from your comment. (but, more classes might be needed for a more complex use case. I didn't test that far).</p>\n<hr />\n<p>But, I'll also note that, as tgdavies pointed out, your string is not a valid base 64 string, according to the alphabet table in the spec: <a href=\"https://www.rfc-editor.org/rfc/rfc2045#page-25\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc2045#page-25</a> (the same spec followed by the MIME encoder/decoder). The <code>:</code> is illegal, and it is ignored by the decoder, which means the trailing <code>=</code> used for padding is causing issue (you can also remove the <code>=</code> at the end to get the string to decode).</p>\n<p>I'd recommend trying to sanitize your base 64 string and using the public base 64 API. That will probably be less of a hassle to keep working in the long term.</p>\n"}],"owner":{"account_id":6385423,"reputation":99,"user_id":5078095,"display_name":"gbear605"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74737089,"answer_count":1,"score":0,"last_activity_date":1670691838,"creation_date":1670533952,"question_id":74736383,"body_markdown":"For various reasons, I need to continue to use some `sun.misc` classes in Java 17, specifically the BASE64Decoder class. (The algorithm used by the class has some specific behavior that other base 64 decoders do not reproduce.) I&#39;m planning to use the rt.jar file, provided in OpenJDK 8, as the source for these classes, and I&#39;m patching the `jdk.unsupported` module.\r\n\r\nWith the following example class, I&#39;m able to compile it using `javac --patch-module=jdk.unsupported=/path/to/rt.jar TestDecoder.java`\r\n\r\n```java\r\nimport sun.misc.BASE64Encoder;\r\n\r\npublic class TestDecoder {\r\n\r\n  public static void main(String[] args) {\r\n      System.out.println(new BASE64Encoder().encode(new byte[0]));\r\n  }\r\n}\r\n```\r\n\r\nIt [seems that][1] in versions of Java prior to Java 17, it was possible to then run it with patch-module:\r\n\r\n```\r\njava --patch-module=jdk.unsupported=/path/to/rt.jar \\ \r\n     -cp /path/to/rt.jar \\\r\n     TestDecoder.class\r\n```\r\n\r\nHowever, in Java 17, this fails with `java.lang.module.ResolutionException: Module jdk.unsupported contains package java.time.zone, module java.base exports package java.time.zone to jdk.unsupported`. It seems like since java.base exports to jdk.unsupported, it&#39;s not possible to patch the jdk.unsupported module. Is there any way to work around this?\r\n\r\nVersions:\r\n```\r\n$ java --version\r\nopenjdk 17.0.2 2022-01-18\r\nOpenJDK Runtime Environment (build 17.0.2+8-86)\r\nOpenJDK 64-Bit Server VM (build 17.0.2+8-86, mixed mode, sharing)\r\n$ javac --version\r\njavac 17.0.2\r\n```\r\n\r\n(The Java 11 version of this question is https://stackoverflow.com/questions/56385547/why-is-the-java-11-runtime-ignoring-my-jar-containing-sun-misc-classes, this is *not* a duplicate of that question.)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/56385547/why-is-the-java-11-runtime-ignoring-my-jar-containing-sun-misc-classes/56409662#56409662","title":"Patch jdk.unsupported module in Java 17","body":"<p>For various reasons, I need to continue to use some <code>sun.misc</code> classes in Java 17, specifically the BASE64Decoder class. (The algorithm used by the class has some specific behavior that other base 64 decoders do not reproduce.) I'm planning to use the rt.jar file, provided in OpenJDK 8, as the source for these classes, and I'm patching the <code>jdk.unsupported</code> module.</p>\n<p>With the following example class, I'm able to compile it using <code>javac --patch-module=jdk.unsupported=/path/to/rt.jar TestDecoder.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import sun.misc.BASE64Encoder;\n\npublic class TestDecoder {\n\n  public static void main(String[] args) {\n      System.out.println(new BASE64Encoder().encode(new byte[0]));\n  }\n}\n</code></pre>\n<p>It <a href=\"https://stackoverflow.com/questions/56385547/why-is-the-java-11-runtime-ignoring-my-jar-containing-sun-misc-classes/56409662#56409662\">seems that</a> in versions of Java prior to Java 17, it was possible to then run it with patch-module:</p>\n<pre><code>java --patch-module=jdk.unsupported=/path/to/rt.jar \\ \n     -cp /path/to/rt.jar \\\n     TestDecoder.class\n</code></pre>\n<p>However, in Java 17, this fails with <code>java.lang.module.ResolutionException: Module jdk.unsupported contains package java.time.zone, module java.base exports package java.time.zone to jdk.unsupported</code>. It seems like since java.base exports to jdk.unsupported, it's not possible to patch the jdk.unsupported module. Is there any way to work around this?</p>\n<p>Versions:</p>\n<pre><code>$ java --version\nopenjdk 17.0.2 2022-01-18\nOpenJDK Runtime Environment (build 17.0.2+8-86)\nOpenJDK 64-Bit Server VM (build 17.0.2+8-86, mixed mode, sharing)\n$ javac --version\njavac 17.0.2\n</code></pre>\n<p>(The Java 11 version of this question is <a href=\"https://stackoverflow.com/questions/56385547/why-is-the-java-11-runtime-ignoring-my-jar-containing-sun-misc-classes\">Why is the Java 11 runtime ignoring my jar containing sun.misc classes?</a>, this is <em>not</em> a duplicate of that question.)</p>\n"},{"tags":["java","interface"],"owner":{"account_id":27212421,"reputation":1,"user_id":20743011,"display_name":"0xKnR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670694877,"answer_count":0,"score":0,"last_activity_date":1670691730,"creation_date":1670691730,"question_id":74754915,"body_markdown":"I have an assignment to create a game in Java, so right now I&#39;m making the stub implementations for classes. I want to make them as rigorously as possible, so that&#39;s why I&#39;m asking: \r\n\r\n\r\nWhat is the difference between an Interface declared in a class and an Interface declared as a file? Let&#39;s say, I have the following 2 pieces of code:\r\n\r\n\r\n```\r\npublic class Test {\r\n\r\nprivate int firstNumber;\r\nprivate int secondNumber;\r\n\r\npublic void testMethod() {}\r\n\r\n**public interface Interface1{\r\n// some methods\r\n}**\r\n```\r\n\r\nand \r\n\r\n```\r\npublic Interface Interface2 {\r\n// some methods \r\n}\r\n```\r\n\r\nCan I do something more ( i.e. access ) with Interface1 that I cannot do with Interface2 or vice versa?\r\n\r\nP.S.: Started OOP a couple of weeks ago, take me easy :-)! \r\n\r\nI made a class  in which I declared an interface and an interface as a file and they seem to have the same functionalities, but maybe I&#39;m missing something important here.","title":"Difference between Interface declared in Class and Interface declared as a file","body":"<p>I have an assignment to create a game in Java, so right now I'm making the stub implementations for classes. I want to make them as rigorously as possible, so that's why I'm asking:</p>\n<p>What is the difference between an Interface declared in a class and an Interface declared as a file? Let's say, I have the following 2 pieces of code:</p>\n<pre><code>public class Test {\n\nprivate int firstNumber;\nprivate int secondNumber;\n\npublic void testMethod() {}\n\n**public interface Interface1{\n// some methods\n}**\n</code></pre>\n<p>and</p>\n<pre><code>public Interface Interface2 {\n// some methods \n}\n</code></pre>\n<p>Can I do something more ( i.e. access ) with Interface1 that I cannot do with Interface2 or vice versa?</p>\n<p>P.S.: Started OOP a couple of weeks ago, take me easy :-)!</p>\n<p>I made a class  in which I declared an interface and an interface as a file and they seem to have the same functionalities, but maybe I'm missing something important here.</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2517927,"reputation":1079,"user_id":2188893,"accept_rate":75,"display_name":"PragmaticProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670546353,"creation_date":1670546353,"answer_id":74737804,"question_id":74731267,"body_markdown":"This is a consumer level config which means you would need a brand new consumer instance with a different config and subscribe to only that topic (assuming you want more time to process a set of messages from a specific topic but not the rest you subscribe to).","title":"Configure max.poll.interval.ms for a specified topic","body":"<p>This is a consumer level config which means you would need a brand new consumer instance with a different config and subscribe to only that topic (assuming you want more time to process a set of messages from a specific topic but not the rest you subscribe to).</p>\n"}],"owner":{"account_id":11593348,"reputation":401,"user_id":8492856,"display_name":"ktcl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670691546,"creation_date":1670507332,"question_id":74731267,"body_markdown":"As I can see in this document &lt;https://kafka.apache.org/documentation/#consumerconfigs_max.poll.interval.ms&gt; there is a parameter in kafka which controls the maximum time between poll invocations before the consumer will proactively leave the group.\r\n\r\nIs there anyway to configure this parameter to apply to only a specific topic ?","title":"Configure max.poll.interval.ms for a specified topic","body":"<p>As I can see in this document <a href=\"https://kafka.apache.org/documentation/#consumerconfigs_max.poll.interval.ms\" rel=\"nofollow noreferrer\">https://kafka.apache.org/documentation/#consumerconfigs_max.poll.interval.ms</a> there is a parameter in kafka which controls the maximum time between poll invocations before the consumer will proactively leave the group.</p>\n<p>Is there anyway to configure this parameter to apply to only a specific topic ?</p>\n"},{"tags":["java","spring-boot","maven","maven-shade-plugin"],"comments":[{"owner":{"account_id":951604,"reputation":3220,"user_id":977649,"display_name":"schtever"},"score":0,"creation_date":1670691811,"post_id":74754888,"comment_id":131933987,"body_markdown":"Try removing `src/main/java/` from the start of the excluded class.","body":"Try removing <code>src&#47;main&#47;java&#47;</code> from the start of the excluded class."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1670691984,"post_id":74754888,"comment_id":131934030,"body_markdown":"Can you please share your requirement why you want to do this?","body":"Can you please share your requirement why you want to do this?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1670692861,"post_id":74754888,"comment_id":131934192,"body_markdown":"Based on your configuration this is a class which you have added to your project.. If you don&#39;t like to have it there.. just simply remove it... furthermore based on the given spring-boot-maven-plugin it does not makes sense to use maven-shade-plugin use the spring-boot-maven-plugin instead...","body":"Based on your configuration this is a class which you have added to your project.. If you don&#39;t like to have it there.. just simply remove it... furthermore based on the given spring-boot-maven-plugin it does not makes sense to use maven-shade-plugin use the spring-boot-maven-plugin instead..."}],"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":817,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670691430,"creation_date":1670691430,"question_id":74754888,"body_markdown":"I am working with a Spring Boot application, where I have added one dependency in pom.xml, but I would like to remove one specific class from one of the dependencies as follows:\r\n\r\n**pom.xml**\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.myapp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;myapp&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.anotherapp&lt;/groupId&gt;\r\n                &lt;artifactId&gt;java-commons&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.10-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;pluginManagement&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;11&lt;/source&gt;\r\n                        &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;jar&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;additionalOptions&gt;\r\n                            &lt;additionalOption&gt;-Xdoclint:none&lt;/additionalOption&gt;\r\n                        &lt;/additionalOptions&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.14.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;includes&gt;\r\n                            &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                        &lt;/includes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.4.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;filters&gt;\r\n                            &lt;filter&gt;\r\n                                &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                &lt;excludes&gt;\r\n                                    &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                    &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                    &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                &lt;/excludes&gt;\r\n                            &lt;/filter&gt;\r\n                            &lt;filter&gt;\r\n                                &lt;artifact&gt;com.anotherapp:java-commons&lt;/artifact&gt;\r\n                                &lt;excludes&gt;\r\n                                    &lt;exclude&gt;src/main/java/com/anotherapp/exception/TcInternalExceptionAspect.*&lt;/exclude&gt;\r\n                                &lt;/excludes&gt;\r\n                            &lt;/filter&gt;\r\n                        &lt;/filters&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;transformers&gt;\r\n                                    &lt;transformer\r\n                                            implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                                    &lt;transformer\r\n                                            implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                        &lt;mainClass&gt;\r\n                                            com.myapp.MainClass\r\n                                        &lt;/mainClass&gt;\r\n                                    &lt;/transformer&gt;\r\n                                &lt;/transformers&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;prod&lt;/id&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;filesets&gt;\r\n                                    &lt;fileset&gt;\r\n                                        &lt;directory&gt;target/classes/static/&lt;/directory&gt;\r\n                                    &lt;/fileset&gt;\r\n                                &lt;/filesets&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;build-info&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plug&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\nHere, in this project, as you can see in the above pom, I would like to exclude the class: `TcInternalExceptionAspect` from the dependency `java-commons`. As recommended in a few posts here, I included the `shade` plugin.\r\n\r\nBut, after the build is complete, I am still able to see the `TcInternalExceptionAspect` class in the final jar file. I am not able to understand, what I am missing here.\r\n\r\nIn this context, I have gone through this: https://stackoverflow.com/questions/59537306/how-to-exclude-specific-class-from-a-maven-dependency-jar-dependency-at-runti, but it did not help.\r\n\r\nCould anyone please help here? Thanks.","title":"Exclude a specific class from Maven dependency at runtime","body":"<p>I am working with a Spring Boot application, where I have added one dependency in pom.xml, but I would like to remove one specific class from one of the dependencies as follows:</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.myapp&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.anotherapp&lt;/groupId&gt;\n            &lt;artifactId&gt;java-commons&lt;/artifactId&gt;\n            &lt;version&gt;0.0.10-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;additionalOptions&gt;\n                        &lt;additionalOption&gt;-Xdoclint:none&lt;/additionalOption&gt;\n                    &lt;/additionalOptions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.14.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;filters&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;com.anotherapp:java-commons&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;src/main/java/com/anotherapp/exception/TcInternalExceptionAspect.*&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n                                &lt;transformer\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;\n                                        com.myapp.MainClass\n                                    &lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;prod&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                        &lt;configuration&gt;\n                            &lt;filesets&gt;\n                                &lt;fileset&gt;\n                                    &lt;directory&gt;target/classes/static/&lt;/directory&gt;\n                                &lt;/fileset&gt;\n                            &lt;/filesets&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build-info&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plug&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here, in this project, as you can see in the above pom, I would like to exclude the class: <code>TcInternalExceptionAspect</code> from the dependency <code>java-commons</code>. As recommended in a few posts here, I included the <code>shade</code> plugin.</p>\n<p>But, after the build is complete, I am still able to see the <code>TcInternalExceptionAspect</code> class in the final jar file. I am not able to understand, what I am missing here.</p>\n<p>In this context, I have gone through this: <a href=\"https://stackoverflow.com/questions/59537306/how-to-exclude-specific-class-from-a-maven-dependency-jar-dependency-at-runti\">How to exclude specific class from a Maven dependency ( Jar dependency) at runtime</a>, but it did not help.</p>\n<p>Could anyone please help here? Thanks.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9404,"page":819,"page_size":100}
