{"items":[{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1667289295,"post_id":74272904,"comment_id":131127749,"body_markdown":"Don&#39;t do `jdbctemplate.getDataSource().getConnection()`... That code is wrong, if you are doing thingsl ike that, get your hands of the keyboard, take 3 steps back and rethink your design decisions. If you want to call a stored procedure either use a `SimpleJdbcCall` (also from Spring) or at least use the `execute` method that takes a `ConnectionCallback` or the `CallableStatementCreator`/`CallableStatementCallback` to create and set the parameters. But don&#39;t mess around with the connection yourself, that will eventually lead to issues.","body":"Don&#39;t do <code>jdbctemplate.getDataSource().getConnection()</code>... That code is wrong, if you are doing thingsl ike that, get your hands of the keyboard, take 3 steps back and rethink your design decisions. If you want to call a stored procedure either use a <code>SimpleJdbcCall</code> (also from Spring) or at least use the <code>execute</code> method that takes a <code>ConnectionCallback</code> or the <code>CallableStatementCreator</code>/<code>CallableStatementCallback</code> to create and set the parameters. But don&#39;t mess around with the connection yourself, that will eventually lead to issues."}],"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667299323,"creation_date":1667288898,"question_id":74272904,"body_markdown":"After some research and looking to similar errors posted in Stack Overflow I figured out this error is due to connection leak issue, usually happens when the connection is not closed and putting the connection obj **inside try block as in my code** resolves connection leak issue. I am wondering how this primary key violation caused the issue. Is there any extra code I should add to handle such exceptions?\r\n\r\nI am getting the below error , this exception is continuously thrown \r\n\r\n    java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30000ms.\r\n    \tat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:676) ~[HikariCP-3.2.0.jar!/:?]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:190) ~[HikariCP-3.2.0.jar!/:?]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:155) ~[HikariCP-3.2.0.jar!/:?]\r\n    \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128) ~[HikariCP-3.2.0.jar!/:?]\r\n\r\nMy code which throws the error\r\n\r\n       public void insertEvent(EventRequest event) throws Exception {\r\n        \t\ttry (Connection connection = this.fenxjdbcTemplate.getDataSource().getConnection();\r\n        \t\t\t\tCallableStatement call = connection.prepareCall(&quot;{call dbo.SPBIF_Insert(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)}&quot;)) {\r\n        \r\n        \t\t\tcall.setString(1, event.getXX());\r\n        \t\t\tcall.setString(2, event.getXXXX());\r\n    //some more call.setString code\r\n                    call.execute();\r\n        \t\t} catch (Exception e) {\r\n        \t\t\tthrow e;\r\n        \t\t}\r\n\r\nThe code was working fine till I got three continues primary key violations error.\r\n\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: Violation of PRIMARY KEY constraint &#39;PK_T_EVENTS&#39;. Cannot insert duplicate key in object &#39;dbo.T_EVENTS&#39;. The duplicate key value is (8b4450fc-de74-5e91-b59e-fefe3b909667).\r\n\r\nCongiuration:\r\n\r\n     datasource:\r\n               driverClassName: com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n               jdbc-url: jdbc:sqlserver://url\r\n               username: db_username\r\n               password: db_password\r\n               hikari:\r\n                  max-lifetime: 86400000\r\n                  minimum-idle: 10 \r\n                  maximum-pool-size: 50 \r\n                  idle-timeout: 10800000 \r\n                  connection-timeout: 10000\r\n\r\n\r\n","title":"Spring boot Hikari connection pool issue after throwing exception","body":"<p>After some research and looking to similar errors posted in Stack Overflow I figured out this error is due to connection leak issue, usually happens when the connection is not closed and putting the connection obj <strong>inside try block as in my code</strong> resolves connection leak issue. I am wondering how this primary key violation caused the issue. Is there any extra code I should add to handle such exceptions?</p>\n<p>I am getting the below error , this exception is continuously thrown</p>\n<pre><code>java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30000ms.\n    at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:676) ~[HikariCP-3.2.0.jar!/:?]\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:190) ~[HikariCP-3.2.0.jar!/:?]\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:155) ~[HikariCP-3.2.0.jar!/:?]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128) ~[HikariCP-3.2.0.jar!/:?]\n</code></pre>\n<p>My code which throws the error</p>\n<pre><code>   public void insertEvent(EventRequest event) throws Exception {\n            try (Connection connection = this.fenxjdbcTemplate.getDataSource().getConnection();\n                    CallableStatement call = connection.prepareCall(&quot;{call dbo.SPBIF_Insert(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)}&quot;)) {\n    \n                call.setString(1, event.getXX());\n                call.setString(2, event.getXXXX());\n//some more call.setString code\n                call.execute();\n            } catch (Exception e) {\n                throw e;\n            }\n</code></pre>\n<p>The code was working fine till I got three continues primary key violations error.</p>\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: Violation of PRIMARY KEY constraint 'PK_T_EVENTS'. Cannot insert duplicate key in object 'dbo.T_EVENTS'. The duplicate key value is (8b4450fc-de74-5e91-b59e-fefe3b909667).\n</code></pre>\n<p>Congiuration:</p>\n<pre><code> datasource:\n           driverClassName: com.microsoft.sqlserver.jdbc.SQLServerDriver\n           jdbc-url: jdbc:sqlserver://url\n           username: db_username\n           password: db_password\n           hikari:\n              max-lifetime: 86400000\n              minimum-idle: 10 \n              maximum-pool-size: 50 \n              idle-timeout: 10800000 \n              connection-timeout: 10000\n</code></pre>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":544543,"reputation":1693,"user_id":914032,"display_name":"SurfMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1667298060,"creation_date":1667298060,"answer_id":74274443,"question_id":74274406,"body_markdown":"You should check the date before inserting it into the cell:\r\n````\r\nfor(Student student : listOfStudent) {\r\n        Row studentRow = accountSheet.createRow(studentCount);\r\n        studentRow.createCell(0).setCellValue(student.getId());\r\n        studentRow.createCell(1).setCellValue(student.getName());\r\n        if( student.getAdmissionDate() != null) ) {\r\n           studentRow.createCell(2).setCellValue(student.getAdmissionDate());\r\n        }\r\n        studentCount++;     \r\n    }    \r\n````","title":"How to insert a null value in Excel from Java code using ApachePOI","body":"<p>You should check the date before inserting it into the cell:</p>\n<pre><code>for(Student student : listOfStudent) {\n        Row studentRow = accountSheet.createRow(studentCount);\n        studentRow.createCell(0).setCellValue(student.getId());\n        studentRow.createCell(1).setCellValue(student.getName());\n        if( student.getAdmissionDate() != null) ) {\n           studentRow.createCell(2).setCellValue(student.getAdmissionDate());\n        }\n        studentCount++;     \n    }    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667299260,"creation_date":1667299260,"answer_id":74274661,"question_id":74274406,"body_markdown":"You can set blank once you create cell something like below:\r\n\r\n\r\n\r\n    for(Student student : listOfStudent) {\r\n            Row studentRow = accountSheet.createRow(studentCount);\r\n            studentRow.createCell(0).setCellValue(student.getId());\r\n            studentRow.createCell(1).setCellValue(student.getName());\r\n        (student.getAdmissionDate() != null ? \r\n        studentRow.createCell(2).setCellValue(student.getAdmissionDate()) : \r\n        studentRow.createCell(2).setBlank());\r\n    studentCount++;  ","title":"How to insert a null value in Excel from Java code using ApachePOI","body":"<p>You can set blank once you create cell something like below:</p>\n<pre><code>for(Student student : listOfStudent) {\n        Row studentRow = accountSheet.createRow(studentCount);\n        studentRow.createCell(0).setCellValue(student.getId());\n        studentRow.createCell(1).setCellValue(student.getName());\n    (student.getAdmissionDate() != null ? \n    studentRow.createCell(2).setCellValue(student.getAdmissionDate()) : \n    studentRow.createCell(2).setBlank());\nstudentCount++;  \n</code></pre>\n"}],"owner":{"account_id":26430151,"reputation":37,"user_id":20076454,"display_name":"Developer007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74274443,"answer_count":2,"score":1,"last_activity_date":1667299260,"creation_date":1667297793,"question_id":74274406,"body_markdown":"I have a one field with admissionDate in Student object, which is suppose should be null anytime\r\nWhen am inserting that value into the excel using apache poi i am getting NullPointerException. \r\nData type of admissionDate is Date\r\n \r\nBelow is my code\r\n```\t\r\n\tRow studentRow = studentSheet.createRow(0);\r\n\tstudentRow.createCell(0).setCellValue(&quot;Id&quot;);\r\n\tstudentRow.createCell(1).setCellValue(&quot;Name&quot;);\r\n\tstudentRow.createCell(2).setCellValue(&quot;Admission_Date&quot;);\r\n\t\r\n\tint studentCount = 1;\r\n\t\r\n\tfor(Student student : listOfStudent) {\r\n\t\tRow studentRow = accountSheet.createRow(studentCount);\r\n\t\tstudentRow.createCell(0).setCellValue(student.getId());\r\n\t\tstudentRow.createCell(1).setCellValue(student.getName());\r\n\t\tstudentRow.createCell(2).setCellValue(student.getAdmissionDate());\r\n\t\tstudentCount++;\t\t\r\n\t}\t\t\t\r\n```\r\nBut when admission date is null then i have getting below exception\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat java.util.Calendar.setTime(Calendar.java:1770)\r\n\tat org.apache.poi.ss.usermodel.DateUtil.getExcelDate(DateUtil.java:86)\r\n\tat org.apache.poi.xssf.usermodel.XSSFCell.setCellValue(XSSFCell.java:600)\r\n\tat com.wd.classes.CreateExcelFile.generateExcelFile(CreateExcelFile.java:269)\r\n```\r\n\r\nHow can i insert a NULL cell if admissiondate is not available","title":"How to insert a null value in Excel from Java code using ApachePOI","body":"<p>I have a one field with admissionDate in Student object, which is suppose should be null anytime\nWhen am inserting that value into the excel using apache poi i am getting NullPointerException.\nData type of admissionDate is Date</p>\n<p>Below is my code</p>\n<pre><code>    Row studentRow = studentSheet.createRow(0);\n    studentRow.createCell(0).setCellValue(&quot;Id&quot;);\n    studentRow.createCell(1).setCellValue(&quot;Name&quot;);\n    studentRow.createCell(2).setCellValue(&quot;Admission_Date&quot;);\n    \n    int studentCount = 1;\n    \n    for(Student student : listOfStudent) {\n        Row studentRow = accountSheet.createRow(studentCount);\n        studentRow.createCell(0).setCellValue(student.getId());\n        studentRow.createCell(1).setCellValue(student.getName());\n        studentRow.createCell(2).setCellValue(student.getAdmissionDate());\n        studentCount++;     \n    }           \n</code></pre>\n<p>But when admission date is null then i have getting below exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at java.util.Calendar.setTime(Calendar.java:1770)\n    at org.apache.poi.ss.usermodel.DateUtil.getExcelDate(DateUtil.java:86)\n    at org.apache.poi.xssf.usermodel.XSSFCell.setCellValue(XSSFCell.java:600)\n    at com.wd.classes.CreateExcelFile.generateExcelFile(CreateExcelFile.java:269)\n</code></pre>\n<p>How can i insert a NULL cell if admissiondate is not available</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667229204,"post_id":74265259,"comment_id":131115026,"body_markdown":"So you&#39;re just throwing away the *keys* of the initial map , and flattening the inner maps. What about **uniqueness** of the keys (are you ok with overriding values)?","body":"So you&#39;re just throwing away the <i>keys</i> of the initial map , and flattening the inner maps. What about <b>uniqueness</b> of the keys (are you ok with overriding values)?"},{"owner":{"account_id":17309191,"reputation":69,"user_id":12537240,"display_name":"Marko"},"score":0,"creation_date":1667229282,"post_id":74265259,"comment_id":131115051,"body_markdown":"@AlexanderIvanchenko yes that is what I am trying to do. The keys are all unique.","body":"@AlexanderIvanchenko yes that is what I am trying to do. The keys are all unique."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1667230670,"post_id":74265259,"comment_id":131115538,"body_markdown":"In short, if you want to address the problem using a stream, you need to flatten the entries of the nested maps. E.g. `Map&lt;String, String&gt; result = myMap.entrySet().stream()\n    .flatMap(entry -&gt; entry.getValue().entrySet().stream())\n    .collect(Collectors.toMap( Map.Entry::getKey, Map.Entry::getValue ));`","body":"In short, if you want to address the problem using a stream, you need to flatten the entries of the nested maps. E.g. <code>Map&lt;String, String&gt; result = myMap.entrySet().stream()     .flatMap(entry -&gt; entry.getValue().entrySet().stream())     .collect(Collectors.toMap( Map.Entry::getKey, Map.Entry::getValue ));</code>"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667288679,"creation_date":1667285670,"answer_id":74272462,"question_id":74265259,"body_markdown":"If you are certain there are no duplicate keys, you can do it like this.\r\n```\r\nMap&lt;String, String&gt; res = myMap.values()\r\n            .stream()\r\n            .flatMap(value -&gt; value.entrySet().stream())\r\n            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue);\r\n```\r\nIf there may be duplicate keys between the inner maps, you will have to introduce merge function to resolve conflicts. Simple resolution keeping the value of the second encountered entry may look like this:\r\n```\r\nMap&lt;String, String&gt; res = myMap.values()\r\n            .stream()\r\n            .flatMap(value -&gt; value.entrySet().stream())\r\n            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (v1, v2) -&gt; v2));\r\n```\r\nBasically, stream the values, which are `Map`s, flatten them to a stream of entries and collect the entries in a new Map.","title":"Mapping map values in Java using streams","body":"<p>If you are certain there are no duplicate keys, you can do it like this.</p>\n<pre><code>Map&lt;String, String&gt; res = myMap.values()\n            .stream()\n            .flatMap(value -&gt; value.entrySet().stream())\n            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue);\n</code></pre>\n<p>If there may be duplicate keys between the inner maps, you will have to introduce merge function to resolve conflicts. Simple resolution keeping the value of the second encountered entry may look like this:</p>\n<pre><code>Map&lt;String, String&gt; res = myMap.values()\n            .stream()\n            .flatMap(value -&gt; value.entrySet().stream())\n            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (v1, v2) -&gt; v2));\n</code></pre>\n<p>Basically, stream the values, which are <code>Map</code>s, flatten them to a stream of entries and collect the entries in a new Map.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667298745,"creation_date":1667297270,"answer_id":74274288,"question_id":74265259,"body_markdown":"You need to flatten the entries of the nested maps which can be done using either `flatMap()` or `mapMulty()`.\r\n\r\nAnd then apply `collect()` with the minimalistic *two-args* flavor of Collector [`toMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)) passed as an argument. It would be sufficient since you don&#39;t expect duplicates.\r\n\r\nHere&#39;s an example using [`flatMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)):\r\n\r\n```\r\nMap&lt;String, Map&lt;String, String&gt;&gt; myMap = new HashMap&lt;&gt;();\r\n        \r\nMap&lt;String, String&gt; res = myMap.entrySet().stream()         // stream of maps\r\n    .flatMap(entry -&gt; entry.getValue().entrySet().stream()) // stream of map entries\r\n    .collect(Collectors.toMap(\r\n        Map.Entry::getKey,  // key mapper\r\n        Map.Entry::getValue // value mapper\r\n    ));\r\n```\r\n\r\nExample with Java 16 [`mapMulti()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)) used for flattening the data:\r\n\r\n```\r\nMap&lt;String, Map&lt;String, String&gt;&gt; myMap = new HashMap&lt;&gt;();\r\n        \r\nMap&lt;String, String&gt; res = myMap.entrySet().stream()   // stream of maps\r\n    .&lt;Map.Entry&lt;String, String&gt;&gt;mapMulti((entry, consumer) -&gt; \r\n        entry.getValue().entrySet().forEach(consumer) // stream of map entries\r\n    )\r\n    .collect(Collectors.toMap(\r\n        Map.Entry::getKey,  // key mapper\r\n        Map.Entry::getValue // value mapper\r\n    ));\r\n```","title":"Mapping map values in Java using streams","body":"<p>You need to flatten the entries of the nested maps which can be done using either <code>flatMap()</code> or <code>mapMulty()</code>.</p>\n<p>And then apply <code>collect()</code> with the minimalistic <em>two-args</em> flavor of Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a> passed as an argument. It would be sufficient since you don't expect duplicates.</p>\n<p>Here's an example using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>flatMap()</code></a>:</p>\n<pre><code>Map&lt;String, Map&lt;String, String&gt;&gt; myMap = new HashMap&lt;&gt;();\n        \nMap&lt;String, String&gt; res = myMap.entrySet().stream()         // stream of maps\n    .flatMap(entry -&gt; entry.getValue().entrySet().stream()) // stream of map entries\n    .collect(Collectors.toMap(\n        Map.Entry::getKey,  // key mapper\n        Map.Entry::getValue // value mapper\n    ));\n</code></pre>\n<p>Example with Java 16 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>mapMulti()</code></a> used for flattening the data:</p>\n<pre><code>Map&lt;String, Map&lt;String, String&gt;&gt; myMap = new HashMap&lt;&gt;();\n        \nMap&lt;String, String&gt; res = myMap.entrySet().stream()   // stream of maps\n    .&lt;Map.Entry&lt;String, String&gt;&gt;mapMulti((entry, consumer) -&gt; \n        entry.getValue().entrySet().forEach(consumer) // stream of map entries\n    )\n    .collect(Collectors.toMap(\n        Map.Entry::getKey,  // key mapper\n        Map.Entry::getValue // value mapper\n    ));\n</code></pre>\n"}],"owner":{"account_id":17309191,"reputation":69,"user_id":12537240,"display_name":"Marko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":821,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74272462,"answer_count":2,"score":2,"last_activity_date":1667298745,"creation_date":1667228534,"question_id":74265259,"body_markdown":"I have a map, `Map&lt;String, Map&lt;String, String&gt;&gt; myMap = new HashMap&lt;&gt;();` that I would like to remap to get it&#39;s values, so that I get as a result `Map&lt;String, String&gt;`.\r\n\r\nIs it possible to do the mapping using stream API?\r\n\r\nI have solved the problem using a `for` loop but I&#39;m interested if that could be done using streams.\r\n\r\nMy solution:\r\n\r\n       Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n\r\n        myMap.forEach((k, v) -&gt; {\r\n            result.putAll(v);\r\n        });\r\n\r\nWhat I want is to get all the values from `myMap` and put them in a new Map.","title":"Mapping map values in Java using streams","body":"<p>I have a map, <code>Map&lt;String, Map&lt;String, String&gt;&gt; myMap = new HashMap&lt;&gt;();</code> that I would like to remap to get it's values, so that I get as a result <code>Map&lt;String, String&gt;</code>.</p>\n<p>Is it possible to do the mapping using stream API?</p>\n<p>I have solved the problem using a <code>for</code> loop but I'm interested if that could be done using streams.</p>\n<p>My solution:</p>\n<pre><code>   Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\n\n    myMap.forEach((k, v) -&gt; {\n        result.putAll(v);\n    });\n</code></pre>\n<p>What I want is to get all the values from <code>myMap</code> and put them in a new Map.</p>\n"},{"tags":["java","sql","sql-server","spring-boot"],"comments":[{"owner":{"account_id":26447435,"reputation":2008,"user_id":20091109,"display_name":"Stuck at 1337"},"score":1,"creation_date":1667300201,"post_id":74274530,"comment_id":131130734,"body_markdown":"I don&#39;t know springboot but why doesn&#39;t your second query have `nativeQuery = true`? Did you try `SELECT [Server Name] = @@SERVERNAME;`? Seems your application is trying to parse the SQL before submitting it, and `AS &#39;alias&#39;` is not the best form. Also, `only if current server is primary` -&gt; what are you checking the server name against? Why not just use [`sys.fn_hadr_is_primary_replica`](https://learn.microsoft.com/en-us/sql/relational-databases/system-functions/sys-fn-hadr-is-primary-replica-transact-sql)?","body":"I don&#39;t know springboot but why doesn&#39;t your second query have <code>nativeQuery = true</code>? Did you try <code>SELECT [Server Name] = @@SERVERNAME;</code>? Seems your application is trying to parse the SQL before submitting it, and <code>AS &#39;alias&#39;</code> is not the best form. Also, <code>only if current server is primary</code> -&gt; what are you checking the server name against? Why not just use <a href=\"https://learn.microsoft.com/en-us/sql/relational-databases/system-functions/sys-fn-hadr-is-primary-replica-transact-sql\" rel=\"nofollow noreferrer\"><code>sys.fn_hadr_is_primary_replica</code></a>?"},{"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"score":0,"creation_date":1667309643,"post_id":74274530,"comment_id":131133895,"body_markdown":"yes, I missed adding nativeQuery to second one,","body":"yes, I missed adding nativeQuery to second one,"},{"owner":{"account_id":20264817,"reputation":56105,"user_id":14868997,"display_name":"Charlieface"},"score":1,"creation_date":1667311249,"post_id":74274530,"comment_id":131134465,"body_markdown":"You can just use one batch `IF 0 = ( SELECT role FROM master.sys.geo_replication_links WHERE database_id = DB_ID() ) EXEC sys.sp_wait_for_database_copy_sync  ....`","body":"You can just use one batch <code>IF 0 = ( SELECT role FROM master.sys.geo_replication_links WHERE database_id = DB_ID() ) EXEC sys.sp_wait_for_database_copy_sync  ....</code>"},{"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"score":0,"creation_date":1667316637,"post_id":74274530,"comment_id":131136470,"body_markdown":"yes, I was looking for something like this. Thanks, It worked.","body":"yes, I was looking for something like this. Thanks, It worked."},{"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"score":0,"creation_date":1667327792,"post_id":74274530,"comment_id":131140362,"body_markdown":"but I want to achieve this using spring boot: Wondering what will be the entity for for the sys queries ?","body":"but I want to achieve this using spring boot: Wondering what will be the entity for for the sys queries ?"}],"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667298560,"creation_date":1667298560,"question_id":74274530,"body_markdown":"I want to execute a stored procedure based on the server name in am spring boot application\r\n\r\nBelow is the stored proc.\r\n\r\n  ```  @Modifying\r\n    @Query(nativeQuery = true, value = &quot;EXEC sys.sp_wait_for_database_copy_sync  @target_server = N&#39;sql-secondary&#39;, @target_database = N&#39;sql-primary&#39;&quot;)\r\n    @Transactional\r\n    public void spWaitForDatabaseCopy();\r\n ```\r\nI want to execute this query only if current server is primary. How can I achieve this springboot java ?\r\n\r\nI tried below code to get the server name:\r\n```\r\n  @Query(value = &quot;SELECT  @@SERVERNAME AS &#39;Server Name&#39; &quot;)\r\n    public String getServerName();\r\n```\r\nbut I see error at @. &lt;expression&gt; or DISTINCT expected, got &#39;@&#39;\r\n\r\n\r\nIs there better way to get the server name and then execute stored proc based on the result? \r\n\r\n\r\n\r\n","title":"How to get database server name in springboot","body":"<p>I want to execute a stored procedure based on the server name in am spring boot application</p>\n<p>Below is the stored proc.</p>\n<pre><code>  @Query(nativeQuery = true, value = &quot;EXEC sys.sp_wait_for_database_copy_sync  @target_server = N'sql-secondary', @target_database = N'sql-primary'&quot;)\n  @Transactional\n  public void spWaitForDatabaseCopy();\n</code></pre>\n<p>I want to execute this query only if current server is primary. How can I achieve this springboot java ?</p>\n<p>I tried below code to get the server name:</p>\n<pre><code>  @Query(value = &quot;SELECT  @@SERVERNAME AS 'Server Name' &quot;)\n    public String getServerName();\n</code></pre>\n<p>but I see error at @.  or DISTINCT expected, got '@'</p>\n<p>Is there better way to get the server name and then execute stored proc based on the result?</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1667297757,"post_id":74274012,"comment_id":131129961,"body_markdown":"Please take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/74274012/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667298361,"creation_date":1667298361,"answer_id":74274497,"question_id":74274012,"body_markdown":"Spies and mocks are meant to be used as dependencies to other methods. What your production code is doing is creating its own instance of `GetOptionBidPrice` instead of using the spy you&#39;ve just created in your test.\r\n\r\nTo fix that, use dependency injection. Instead of \r\n\r\n```\r\n    GetOptionBidPrice getOptionBidPrice = new GetOptionBidPrice(. . .);\r\n    double bidPrice = getOptionBidPrice.getBidPrice();\r\n```\r\n\r\nYou should pass `getOptionBidPrice` as an argument to your method:\r\n\r\n```\r\npublic void myMethod(GetOptionBidPrice getOptionBidPrice) {\r\n    double bidPrice = getOptionBidPrice.getBidPrice();\r\n```\r\n\r\nAnd then the caller of your method in production code passes a real instance created with `new GetOptionBidPrice(. . .)` while your test code passes it a spy.","title":"Stubbed method not called when using mockito Spy on Class method","body":"<p>Spies and mocks are meant to be used as dependencies to other methods. What your production code is doing is creating its own instance of <code>GetOptionBidPrice</code> instead of using the spy you've just created in your test.</p>\n<p>To fix that, use dependency injection. Instead of</p>\n<pre><code>    GetOptionBidPrice getOptionBidPrice = new GetOptionBidPrice(. . .);\n    double bidPrice = getOptionBidPrice.getBidPrice();\n</code></pre>\n<p>You should pass <code>getOptionBidPrice</code> as an argument to your method:</p>\n<pre><code>public void myMethod(GetOptionBidPrice getOptionBidPrice) {\n    double bidPrice = getOptionBidPrice.getBidPrice();\n</code></pre>\n<p>And then the caller of your method in production code passes a real instance created with <code>new GetOptionBidPrice(. . .)</code> while your test code passes it a spy.</p>\n"}],"owner":{"account_id":218143,"reputation":119,"user_id":474323,"accept_rate":39,"display_name":"Walking Corpse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667298361,"creation_date":1667295850,"question_id":74274012,"body_markdown":"Source code:\r\n\r\n    GetOptionBidPrice getOptionBidPrice = new GetOptionBidPrice(. . .);\r\n    double bidPrice = getOptionBidPrice.getBidPrice();\r\n\r\nTest code:\r\n\r\n    GetOptionBidPrice spyGetOptionBidPrice = spy(GetOptionBidPrice.class);\r\n    doReturn(100.0).when(spyGetOptionBidPrice).getBidPrice();\r\n    \r\n    .... Tests the source code....\r\n\r\nThe mocked and returned value of 100.0 is not received by the source code, instead if receives 0 which is the field default in the real class GetOptionBidPrice. What am I doing wrong?\r\n\r\n   \r\n","title":"Stubbed method not called when using mockito Spy on Class method","body":"<p>Source code:</p>\n<pre><code>GetOptionBidPrice getOptionBidPrice = new GetOptionBidPrice(. . .);\ndouble bidPrice = getOptionBidPrice.getBidPrice();\n</code></pre>\n<p>Test code:</p>\n<pre><code>GetOptionBidPrice spyGetOptionBidPrice = spy(GetOptionBidPrice.class);\ndoReturn(100.0).when(spyGetOptionBidPrice).getBidPrice();\n\n.... Tests the source code....\n</code></pre>\n<p>The mocked and returned value of 100.0 is not received by the source code, instead if receives 0 which is the field default in the real class GetOptionBidPrice. What am I doing wrong?</p>\n"},{"tags":["java","php"],"comments":[{"owner":{"account_id":174673,"reputation":1534,"user_id":404183,"accept_rate":82,"display_name":"Alex Mathew"},"score":0,"creation_date":1291599338,"post_id":4362364,"comment_id":4748212,"body_markdown":"i like to know why minus?? whats the problem with this question??","body":"i like to know why minus?? whats the problem with this question??"},{"owner":{"account_id":43656,"reputation":96754,"user_id":127724,"accept_rate":94,"display_name":"Artefacto"},"score":0,"creation_date":1291599668,"post_id":4362364,"comment_id":4748243,"body_markdown":"The problem is the question is not an actual, well-defined, question; you have shown no effort trying to resolve the problem yourself. It&#39;s of the &quot;give me teh codez&quot; variety.","body":"The problem is the question is not an actual, well-defined, question; you have shown no effort trying to resolve the problem yourself. It&#39;s of the &quot;give me teh codez&quot; variety."},{"owner":{"account_id":174673,"reputation":1534,"user_id":404183,"accept_rate":82,"display_name":"Alex Mathew"},"score":0,"creation_date":1291600075,"post_id":4362364,"comment_id":4748276,"body_markdown":"who said i wasn&#39;t tried.i tried,i tried many times and failed,its above my knowledge,so i asked help...i think you dont know the answer so you are doing this","body":"who said i wasn&#39;t tried.i tried,i tried many times and failed,its above my knowledge,so i asked help...i think you dont know the answer so you are doing this"},{"owner":{"account_id":45892,"reputation":59838,"user_id":135448,"accept_rate":97,"display_name":"Andreas Wong"},"score":0,"creation_date":1291600879,"post_id":4362364,"comment_id":4748344,"body_markdown":"it&#39;s just one damn vote down, stop arguing, get over it and show your attempt.","body":"it&#39;s just one damn vote down, stop arguing, get over it and show your attempt."},{"owner":{"account_id":6986,"reputation":61140,"user_id":11926,"accept_rate":96,"display_name":"Alfred"},"score":2,"creation_date":1291602370,"post_id":4362364,"comment_id":4748456,"body_markdown":"seriously the down-vote sucks and I am giving it an upvote. It is a valid question which more people might like to know the answer to. That&#39;s what stackoverflow is about right?","body":"seriously the down-vote sucks and I am giving it an upvote. It is a valid question which more people might like to know the answer to. That&#39;s what stackoverflow is about right?"},{"owner":{"account_id":174673,"reputation":1534,"user_id":404183,"accept_rate":82,"display_name":"Alex Mathew"},"score":0,"creation_date":1291602449,"post_id":4362364,"comment_id":4748458,"body_markdown":"@Alfred: that right...thks...","body":"@Alfred: that right...thks..."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1291603311,"post_id":4362364,"comment_id":4748515,"body_markdown":"Related: http://stackoverflow.com/questions/2714296/2-legged-oauth-and-the-gmail-atom-feed","body":"Related: <a href=\"http://stackoverflow.com/questions/2714296/2-legged-oauth-and-the-gmail-atom-feed\" title=\"2 legged oauth and the gmail atom feed\">stackoverflow.com/questions/2714296/&hellip;</a>"},{"owner":{"account_id":174673,"reputation":1534,"user_id":404183,"accept_rate":82,"display_name":"Alex Mathew"},"score":0,"creation_date":1291604296,"post_id":4362364,"comment_id":4748607,"body_markdown":"@BalusC: i am not using OAuth.so i asked how to do this in JAVA?","body":"@BalusC: i am not using OAuth.so i asked how to do this in JAVA?"},{"owner":{"account_id":124130,"reputation":2148,"user_id":319027,"accept_rate":45,"display_name":"Praveen kalal"},"score":0,"creation_date":1291616733,"post_id":4362364,"comment_id":16043243,"body_markdown":"go to this link might be u will get solution\nhttp://loopingrecursion.com/?t=php","body":"go to this link might be u will get solution <a href=\"http://loopingrecursion.com/?t=php\" rel=\"nofollow noreferrer\">loopingrecursion.com/?t=php</a>"}],"answers":[{"tags":[],"owner":{"account_id":253401,"reputation":1583,"user_id":532070,"accept_rate":25,"display_name":"Ratna Dinakar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291632166,"creation_date":1291632166,"answer_id":4365534,"question_id":4362364,"body_markdown":"Use Commons Http Client library,it supports HttpGet, HttpPost also , you can add Request headers, etc..","title":"How can i convert following code of PHP curl to JAVA HttpURLConnection?","body":"<p>Use Commons Http Client library,it supports HttpGet, HttpPost also , you can add Request headers, etc..</p>\n"}],"owner":{"account_id":174673,"reputation":1534,"user_id":404183,"accept_rate":82,"display_name":"Alex Mathew"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3064,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":1,"score":3,"last_activity_date":1667298347,"creation_date":1291597278,"question_id":4362364,"body_markdown":"How can I convert following code of PHP curl to JAVA HttpURLConnection?\r\n```java\r\n$username = $_POST[&#39;username&#39;]; \r\n    $headers = array( \r\n    &quot;Host: mail.google.com&quot;, \r\n    &quot;User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.8.0.4) Gecko/20060508 Firefox/1.5.0.4&quot;, \r\n    &quot;Accept: text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5&quot;, \r\n    &quot;Accept-Language: en-us,en;q=0.5&quot;, \r\n    &quot;Accept-Encoding: text&quot;, # No gzip, it only clutters your code! \r\n    &quot;Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7&quot;, \r\n    &quot;Date: &quot;.date(DATE_RFC822) \r\n    ); \r\n    $c = curl_init(&#39;https://mail.google.com/mail/feed/atom&#39;); \r\n    curl_setopt($c, CURLOPT_HTTPAUTH, CURLAUTH_ANY); // use authentication \r\n    curl_setopt($c, CURLOPT_HTTPHEADER, $headers); // send the headers \r\n    curl_setopt($c, CURLOPT_RETURNTRANSFER, 1); // We need to fetch something from a string, so no direct output! \r\n    curl_setopt($c, CURLOPT_FOLLOWLOCATION, 1); // we get redirected, so follow \r\n    curl_setopt($c, CURLOPT_SSL_VERIFYPEER, 0); \r\n    curl_setopt($c, CURLOPT_SSL_VERIFYHOST, 1); \r\n    curl_setopt($c, CURLOPT_UNRESTRICTED_AUTH, 1); // always stay authorised \r\n    $wrong = curl_exec($c); // Get it \r\n    curl_close($c); // Close the curl stream \r\n```","title":"How can i convert following code of PHP curl to JAVA HttpURLConnection?","body":"<p>How can I convert following code of PHP curl to JAVA HttpURLConnection?</p>\n<pre class=\"lang-java prettyprint-override\"><code>$username = $_POST['username']; \n    $headers = array( \n    &quot;Host: mail.google.com&quot;, \n    &quot;User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.8.0.4) Gecko/20060508 Firefox/1.5.0.4&quot;, \n    &quot;Accept: text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5&quot;, \n    &quot;Accept-Language: en-us,en;q=0.5&quot;, \n    &quot;Accept-Encoding: text&quot;, # No gzip, it only clutters your code! \n    &quot;Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7&quot;, \n    &quot;Date: &quot;.date(DATE_RFC822) \n    ); \n    $c = curl_init('https://mail.google.com/mail/feed/atom'); \n    curl_setopt($c, CURLOPT_HTTPAUTH, CURLAUTH_ANY); // use authentication \n    curl_setopt($c, CURLOPT_HTTPHEADER, $headers); // send the headers \n    curl_setopt($c, CURLOPT_RETURNTRANSFER, 1); // We need to fetch something from a string, so no direct output! \n    curl_setopt($c, CURLOPT_FOLLOWLOCATION, 1); // we get redirected, so follow \n    curl_setopt($c, CURLOPT_SSL_VERIFYPEER, 0); \n    curl_setopt($c, CURLOPT_SSL_VERIFYHOST, 1); \n    curl_setopt($c, CURLOPT_UNRESTRICTED_AUTH, 1); // always stay authorised \n    $wrong = curl_exec($c); // Get it \n    curl_close($c); // Close the curl stream \n</code></pre>\n"},{"tags":["java","android","exception","fft"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1667249542,"post_id":74268809,"comment_id":131121290,"body_markdown":"For me this looks like your variable / field `fft` is null. Can you share the code where you initialize `fft`?","body":"For me this looks like your variable / field <code>fft</code> is null. Can you share the code where you initialize <code>fft</code>?"},{"owner":{"account_id":26784748,"reputation":27,"user_id":20379107,"display_name":"Orest"},"score":0,"creation_date":1667296226,"post_id":74268809,"comment_id":131129510,"body_markdown":"@ThomasKl&#228;ger oh i forgot byte[] fft;","body":"@ThomasKl&#228;ger oh i forgot byte[] fft;"},{"owner":{"account_id":26784748,"reputation":27,"user_id":20379107,"display_name":"Orest"},"score":0,"creation_date":1667296420,"post_id":74268809,"comment_id":131129562,"body_markdown":"@ThomasKl&#228;ger so probably the problem is in the empty fft but i just want to get the fft from the visualizer how do i initialize this line of code : int a = audioVisualizer.getFft(fft);","body":"@ThomasKl&#228;ger so probably the problem is in the empty fft but i just want to get the fft from the visualizer how do i initialize this line of code : int a = audioVisualizer.getFft(fft);"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667298046,"creation_date":1667298046,"answer_id":74274439,"question_id":74268809,"body_markdown":"`fft` must be an array of bytes where the FFT can be returned. If your class just has a field declaration like `byte[] fft;` then `fft` is null and `audioVisualizer.getFft()` has no place to store the captured FFT.\r\n\r\nYou must provide a byte array that is large enough (`audioVisualizer.getCaptureSize()`).\r\n\r\nYour code must contain these lines:\r\n\r\n    int n = audioVisualizer.getCaptureSize();\r\n    fft = new byte[n];\r\n    int a = audioVisualizer.getFft(fft);","title":"why visualizer.getfft excites java_vm_ext.cc:570] JNI DETECTED ERROR IN APPLICATION: jarray was NULL","body":"<p><code>fft</code> must be an array of bytes where the FFT can be returned. If your class just has a field declaration like <code>byte[] fft;</code> then <code>fft</code> is null and <code>audioVisualizer.getFft()</code> has no place to store the captured FFT.</p>\n<p>You must provide a byte array that is large enough (<code>audioVisualizer.getCaptureSize()</code>).</p>\n<p>Your code must contain these lines:</p>\n<pre><code>int n = audioVisualizer.getCaptureSize();\nfft = new byte[n];\nint a = audioVisualizer.getFft(fft);\n</code></pre>\n"}],"owner":{"account_id":26784748,"reputation":27,"user_id":20379107,"display_name":"Orest"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74274439,"answer_count":1,"score":0,"last_activity_date":1667298046,"creation_date":1667248177,"question_id":74268809,"body_markdown":"I think this is a very difficult question and I need a very experienced specialist, so if you can answer in advance, thank you very much :D\r\n\r\n\r\n```\r\naudioVisualizer = new AudioVisualizer(audioSessionId);\r\naudioVisualizer.setEnabled(true);\r\ntry {\r\n//  Exception ||||||||||||||||||||||||||\r\n    int a = audioVisualizer.getFft(fft);\r\n//  Exception ||||||||||||||||||||||||||\r\n}catch (Exception e){\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nif you need all Exception code :\r\n\r\n```\r\njava_vm_ext.cc:570] JNI DETECTED ERROR IN APPLICATION: jarray was NULL\r\n2022-10-31 22:15:16.153 18560-18560 m.example.musi          com.example.music                    A  java_vm_ext.cc:570]     in call to GetPrimitiveArrayCritical\r\n2022-10-31 22:15:16.153 18560-18560 m.example.musi          com.example.music                    A  java_vm_ext.cc:570]     from int android.media.audiofx.Visualizer.native_getFft(byte[])\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] Runtime aborting...\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] Dumping all threads without mutator lock held\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] All threads:\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] DALVIK THREADS (16):\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] &quot;main&quot; prio=10 tid=1 Runnable\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | group=&quot;&quot; sCount=0 dsCount=0 flags=0 obj=0x72693e78 self=0x7490846c00\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | sysTid=18560 nice=-10 cgrp=default sched=0/0 handle=0x7491fa7ed0\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | state=R schedstat=( 5524140844 782691092 6362 ) utm=512 stm=40 core=3 HZ=100\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | stack=0x7fdcf36000-0x7fdcf38000 stackSize=8192KB\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | held mutexes= &quot;abort lock&quot; &quot;mutator lock&quot;(shared held)\r\n```\r\n\r\nI googled and looked at stack overflows to no avail","title":"why visualizer.getfft excites java_vm_ext.cc:570] JNI DETECTED ERROR IN APPLICATION: jarray was NULL","body":"<p>I think this is a very difficult question and I need a very experienced specialist, so if you can answer in advance, thank you very much :D</p>\n<pre><code>audioVisualizer = new AudioVisualizer(audioSessionId);\naudioVisualizer.setEnabled(true);\ntry {\n//  Exception ||||||||||||||||||||||||||\n    int a = audioVisualizer.getFft(fft);\n//  Exception ||||||||||||||||||||||||||\n}catch (Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n<p>if you need all Exception code :</p>\n<pre><code>java_vm_ext.cc:570] JNI DETECTED ERROR IN APPLICATION: jarray was NULL\n2022-10-31 22:15:16.153 18560-18560 m.example.musi          com.example.music                    A  java_vm_ext.cc:570]     in call to GetPrimitiveArrayCritical\n2022-10-31 22:15:16.153 18560-18560 m.example.musi          com.example.music                    A  java_vm_ext.cc:570]     from int android.media.audiofx.Visualizer.native_getFft(byte[])\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] Runtime aborting...\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] Dumping all threads without mutator lock held\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] All threads:\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] DALVIK THREADS (16):\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] &quot;main&quot; prio=10 tid=1 Runnable\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | group=&quot;&quot; sCount=0 dsCount=0 flags=0 obj=0x72693e78 self=0x7490846c00\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | sysTid=18560 nice=-10 cgrp=default sched=0/0 handle=0x7491fa7ed0\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | state=R schedstat=( 5524140844 782691092 6362 ) utm=512 stm=40 core=3 HZ=100\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | stack=0x7fdcf36000-0x7fdcf38000 stackSize=8192KB\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | held mutexes= &quot;abort lock&quot; &quot;mutator lock&quot;(shared held)\n</code></pre>\n<p>I googled and looked at stack overflows to no avail</p>\n"},{"tags":["java","minecraft-forge"],"comments":[{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1667298505,"post_id":74262784,"comment_id":131130207,"body_markdown":"What version of Forge are you using, and for what Minecraft version?","body":"What version of Forge are you using, and for what Minecraft version?"},{"owner":{"account_id":26784472,"reputation":1,"user_id":20378870,"display_name":"Fllllla1"},"score":0,"creation_date":1667310858,"post_id":74262784,"comment_id":131134318,"body_markdown":"Minecraft java 1.8.9 and forge 1.8.9 latest version","body":"Minecraft java 1.8.9 and forge 1.8.9 latest version"},{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1667388355,"post_id":74262784,"comment_id":131154038,"body_markdown":"Okay, and what error are you getting? (edit the question to add it)","body":"Okay, and what error are you getting? (edit the question to add it)"}],"owner":{"account_id":26784472,"reputation":1,"user_id":20378870,"display_name":"Fllllla1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667298009,"creation_date":1667216732,"question_id":74262784,"body_markdown":"Hi I&#39;m a beginner at java I&#39;m having this error idk how to solve it \r\n\r\n```java\r\nif (item.getItem() instanceof net.minecraft.item.ItemBlock) {\r\n    mc.gameSettings.keyBindSneak.pressed = false;\r\n    BlockPos BlockPos = new BlockPos(this.mc.thePlayer.posX, this.mc.thePlayer.posY - 1.0 D, this.mc.thePlayer.posZ);\r\n    if (this.mc.theWorld.getBlockState(BlockPos).getBlock() == Blocks.air) {\r\n        this.mc.gameSettings.keyBindSneak.pressed = true;\r\n    } else if (this.mc.theWorld.getBlockState(BlockPos).getBlock() == Blocks.air) {}\r\n\r\n}\r\n```\r\n\r\n\r\nI&#39;m trying to make the player sneak and not sneaking in specific events ","title":"how to make keybind press and not pressed","body":"<p>Hi I'm a beginner at java I'm having this error idk how to solve it</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (item.getItem() instanceof net.minecraft.item.ItemBlock) {\n    mc.gameSettings.keyBindSneak.pressed = false;\n    BlockPos BlockPos = new BlockPos(this.mc.thePlayer.posX, this.mc.thePlayer.posY - 1.0 D, this.mc.thePlayer.posZ);\n    if (this.mc.theWorld.getBlockState(BlockPos).getBlock() == Blocks.air) {\n        this.mc.gameSettings.keyBindSneak.pressed = true;\n    } else if (this.mc.theWorld.getBlockState(BlockPos).getBlock() == Blocks.air) {}\n\n}\n</code></pre>\n<p>I'm trying to make the player sneak and not sneaking in specific events</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1621171507,"post_id":67557164,"comment_id":119409146,"body_markdown":"It feels like you have some sort of proxy server or something at `161.158.114.70`, and that proxy server is misbehaving.","body":"It feels like you have some sort of proxy server or something at <code>161.158.114.70</code>, and that proxy server is misbehaving."}],"answers":[{"comments":[{"owner":{"account_id":17755589,"reputation":504,"user_id":12892761,"display_name":"RuhrpottDev"},"score":0,"creation_date":1621345442,"post_id":67557907,"comment_id":119463826,"body_markdown":"@AnthonyEghwrudje Okay, but what I said is true. Keep `mavenCentral()` instead of `jcenter()`.","body":"@AnthonyEghwrudje Okay, but what I said is true. Keep <code>mavenCentral()</code> instead of <code>jcenter()</code>."}],"tags":[],"owner":{"account_id":17755589,"reputation":504,"user_id":12892761,"display_name":"RuhrpottDev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621175838,"creation_date":1621175838,"answer_id":67557907,"question_id":67557164,"body_markdown":"`jcenter()` is deprecated since end of march as you can see [here][1].\r\n\r\nReplace `jcenter()` with `mavenCentral()`.\r\n\r\n  [1]: https://developer.android.com/studio/build/jcenter-migration","title":"First android studio project not building","body":"<p><code>jcenter()</code> is deprecated since end of march as you can see <a href=\"https://developer.android.com/studio/build/jcenter-migration\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Replace <code>jcenter()</code> with <code>mavenCentral()</code>.</p>\n"}],"owner":{"account_id":21616195,"reputation":1,"user_id":15941971,"display_name":"Anthony Eghwrudje"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667297962,"creation_date":1621171205,"question_id":67557164,"body_markdown":"Good day, I wanted to learn android development so I downloaded android studio. After downloading and installing all the sdk I get an error while the opening build starts.\r\n\r\n    A problem occurred configuring root project &#39;My Application&#39;.\r\n&gt; Could not resolve all artifacts for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:4.1.0.\r\n     Required by:\r\n         project :\r\n      &gt; Could not resolve com.android.tools.build:gradle:4.1.0.\r\n         &gt; Could not get resource &#39;https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/4.1.0/gradle-4.1.0.pom&#39;.\r\n            &gt; Could not GET &#39;https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/4.1.0/gradle-4.1.0.pom&#39;.\r\n               &gt; Connect to 161.158.114.70:8090 [/161.158.114.70] failed: Connection timed out: connect\r\n      &gt; Could not resolve com.android.tools.build:gradle:4.1.0.\r\n         &gt; Could not get resource &#39;https://jcenter.bintray.com/com/android/tools/build/gradle/4.1.0/gradle-4.1.0.pom&#39;.\r\n            &gt; Could not GET &#39;https://jcenter.bintray.com/com/android/tools/build/gradle/4.1.0/gradle-4.1.0.pom&#39;.\r\n               &gt; Connect to 161.158.114.70:8090 [/161.158.114.70] failed: Connection timed out: connect\r\n   &gt; Could not resolve com.google.gms:google-services:4.3.5.\r\n     Required by:\r\n         project :\r\n      &gt; Could not resolve com.google.gms:google-services:4.3.5.\r\n         &gt; Could not get resource &#39;https://dl.google.com/dl/android/maven2/com/google/gms/google-services/4.3.5/google-services-4.3.5.pom&#39;.\r\n            &gt; Could not GET &#39;https://dl.google.com/dl/android/maven2/com/google/gms/google-services/4.3.5/google-services-4.3.5.pom&#39;.\r\n               &gt; Connect to 161.158.114.70:8090 [/161.158.114.70] failed: Connection timed out: connect\r\n      &gt; Could not resolve com.google.gms:google-services:4.3.5.\r\n         &gt; Could not get resource &#39;https://jcenter.bintray.com/com/google/gms/google-services/4.3.5/google-services-4.3.5.pom&#39;.\r\n            &gt; Could not GET &#39;https://jcenter.bintray.com/com/google/gms/google-services/4.3.5/google-services-4.3.5.pom&#39;.\r\n               &gt; Connect to 161.158.114.70:8090 [/161.158.114.70] failed: Connection timed out: connect\r\n\r\n\r\nThis is the error I get and I have seen similar issues like this here and tried their solution but it does not seem to work for me. Please I need help\r\n```java\r\nbuildscript {\r\nrepositories {\r\n    google()\r\n    jcenter()\r\n}\r\ndependencies {\r\n    classpath &quot;com.android.tools.build:gradle:4.1.0&quot;\r\n    classpath &#39;com.google.gms:google-services:4.3.5&#39;\r\n\r\n    // NOTE: Do not place your application dependencies here; they belong\r\n    // in the individual module build.gradle files\r\n  }\r\n}\r\n```\r\n","title":"First android studio project not building","body":"<p>Good day, I wanted to learn android development so I downloaded android studio. After downloading and installing all the sdk I get an error while the opening build starts.</p>\n<pre><code>A problem occurred configuring root project 'My Application'.\n</code></pre>\n<blockquote>\n<p>Could not resolve all artifacts for configuration ':classpath'.\nCould not resolve com.android.tools.build:gradle:4.1.0.\nRequired by:\nproject :\n&gt; Could not resolve com.android.tools.build:gradle:4.1.0.\n&gt; Could not get resource 'https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/4.1.0/gradle-4.1.0.pom'.\n&gt; Could not GET 'https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/4.1.0/gradle-4.1.0.pom'.\n&gt; Connect to 161.158.114.70:8090 [/161.158.114.70] failed: Connection timed out: connect\n&gt; Could not resolve com.android.tools.build:gradle:4.1.0.\n&gt; Could not get resource 'https://jcenter.bintray.com/com/android/tools/build/gradle/4.1.0/gradle-4.1.0.pom'.\n&gt; Could not GET 'https://jcenter.bintray.com/com/android/tools/build/gradle/4.1.0/gradle-4.1.0.pom'.\n&gt; Connect to 161.158.114.70:8090 [/161.158.114.70] failed: Connection timed out: connect\nCould not resolve com.google.gms:google-services:4.3.5.\nRequired by:\nproject :\n&gt; Could not resolve com.google.gms:google-services:4.3.5.\n&gt; Could not get resource 'https://dl.google.com/dl/android/maven2/com/google/gms/google-services/4.3.5/google-services-4.3.5.pom'.\n&gt; Could not GET 'https://dl.google.com/dl/android/maven2/com/google/gms/google-services/4.3.5/google-services-4.3.5.pom'.\n&gt; Connect to 161.158.114.70:8090 [/161.158.114.70] failed: Connection timed out: connect\n&gt; Could not resolve com.google.gms:google-services:4.3.5.\n&gt; Could not get resource 'https://jcenter.bintray.com/com/google/gms/google-services/4.3.5/google-services-4.3.5.pom'.\n&gt; Could not GET 'https://jcenter.bintray.com/com/google/gms/google-services/4.3.5/google-services-4.3.5.pom'.\n&gt; Connect to 161.158.114.70:8090 [/161.158.114.70] failed: Connection timed out: connect</p>\n</blockquote>\n<p>This is the error I get and I have seen similar issues like this here and tried their solution but it does not seem to work for me. Please I need help</p>\n<pre class=\"lang-java prettyprint-override\"><code>buildscript {\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath &quot;com.android.tools.build:gradle:4.1.0&quot;\n    classpath 'com.google.gms:google-services:4.3.5'\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","spring-aop","spring-annotations"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1666055664,"post_id":74103959,"comment_id":130839833,"body_markdown":"Please don&#39;t use images of text.","body":"Please don&#39;t use images of text."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1667296130,"post_id":74103959,"comment_id":131129490,"body_markdown":"@R.G, the answer you linked to is completely unrelated to this question.","body":"@R.G, the answer you linked to is completely unrelated to this question."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667298338,"post_id":74103959,"comment_id":131130160,"body_markdown":"Don&#39;t use an aspect, either use a filte which logs always, or if you really want to have it annotation driven, use an `HandlerInterceptor` and implement the `preHandle` method, check for annotation, if available, log what you need (you now always have the request). If you really want the aspect you can also use the `RequestContextHolder` to obtain the request instead of from the method.","body":"Don&#39;t use an aspect, either use a filte which logs always, or if you really want to have it annotation driven, use an <code>HandlerInterceptor</code> and implement the <code>preHandle</code> method, check for annotation, if available, log what you need (you now always have the request). If you really want the aspect you can also use the <code>RequestContextHolder</code> to obtain the request instead of from the method."},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1667385376,"post_id":74103959,"comment_id":131153015,"body_markdown":"@kriegaex , thanks for pointing out and deleted the same. Apparently I understood the question completely wrong.","body":"@kriegaex , thanks for pointing out and deleted the same. Apparently I understood the question completely wrong."},{"owner":{"account_id":26653555,"reputation":1,"user_id":20267470,"display_name":"martin"},"score":0,"creation_date":1667774379,"post_id":74103959,"comment_id":131241511,"body_markdown":"@m.deinum can you explain why is it bad to use an aspect for this purpose? is it performance? thanks","body":"@m.deinum can you explain why is it bad to use an aspect for this purpose? is it performance? thanks"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667801466,"post_id":74103959,"comment_id":131245235,"body_markdown":"Because the way you have written it now it is putting a requirement on the implementor of the controller method and thus needs to know the aspect (which kind of beats the purpose of an aspect). AOP on controllers can lead to surpsising issue with annotations not being found by the MVC infrastructure. Doing AOP with controllers is generally better suited in either a `Filter` or an `HandlerInterceptor` depending the need.","body":"Because the way you have written it now it is putting a requirement on the implementor of the controller method and thus needs to know the aspect (which kind of beats the purpose of an aspect). AOP on controllers can lead to surpsising issue with annotations not being found by the MVC infrastructure. Doing AOP with controllers is generally better suited in either a <code>Filter</code> or an <code>HandlerInterceptor</code> depending the need."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1667805750,"post_id":74103959,"comment_id":131246237,"body_markdown":"Either way, my answer shows how to print something if the `HttpServletRequest` is **not** found, simply by using `ifPresentOrElse` in your stream operation. That should solve the original problem. I would appreciate a reaction, because I wrote the answer for you, not just for myself.","body":"Either way, my answer shows how to print something if the <code>HttpServletRequest</code> is <b>not</b> found, simply by using <code>ifPresentOrElse</code> in your stream operation. That should solve the original problem. I would appreciate a reaction, because I wrote the answer for you, not just for myself."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667297888,"creation_date":1667297888,"answer_id":74274419,"question_id":74103959,"body_markdown":"```java\r\nimport java.util.Arrays;\r\n\r\nclass Scratch {\r\n  public static void main(String[] args) {\r\n    int[] numbers = new int[] { 1, 2, 3, 4, 5, 6, 7, 8, 9 };\r\n    Arrays.stream(numbers)\r\n      .filter(number -&gt; number % 2 == 0)\r\n      .findFirst()\r\n      .ifPresent(System.out::println);\r\n    Arrays.stream(numbers)\r\n      .filter(number -&gt; number % 2 == 11)\r\n      .findFirst()\r\n      .ifPresentOrElse(System.out::println, () -&gt; System.err.println(&quot;oops&quot;));\r\n  }\r\n}\r\n```\r\n\r\nThis will log &quot;2&quot; on stdOut and then &quot;oops&quot; on stdErr. Just adapt it to your situation.","title":"How to throw an error/warning when annotated method doesn&#39;t have a certain parameter","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\nclass Scratch {\n  public static void main(String[] args) {\n    int[] numbers = new int[] { 1, 2, 3, 4, 5, 6, 7, 8, 9 };\n    Arrays.stream(numbers)\n      .filter(number -&gt; number % 2 == 0)\n      .findFirst()\n      .ifPresent(System.out::println);\n    Arrays.stream(numbers)\n      .filter(number -&gt; number % 2 == 11)\n      .findFirst()\n      .ifPresentOrElse(System.out::println, () -&gt; System.err.println(&quot;oops&quot;));\n  }\n}\n</code></pre>\n<p>This will log &quot;2&quot; on stdOut and then &quot;oops&quot; on stdErr. Just adapt it to your situation.</p>\n"}],"owner":{"account_id":26653555,"reputation":1,"user_id":20267470,"display_name":"martin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667297888,"creation_date":1666046212,"question_id":74103959,"body_markdown":"I&#39;ve created a custom annotation to log some info when a controller method annotated with it is called. For this, I created a logging aspect class with a method that executes a @before aspect.\r\n  \r\nThe thing is, the aspect method that I wrote relies on that the controller method has a parameter of type HttpServletRequest which has the necessary info that i need to log. \r\n\r\nI&#39;d like to know if there is any way to throw a warning when some method with my annotation doesn&#39;t have the required parameter.\r\n\r\nMy custom annotation:\r\n\r\n  ![](https://i.stack.imgur.com/Sf24U.png)\r\n\r\nController:\r\n\r\n  ![](https://i.stack.imgur.com/3zkqz.png)","title":"How to throw an error/warning when annotated method doesn&#39;t have a certain parameter","body":"<p>I've created a custom annotation to log some info when a controller method annotated with it is called. For this, I created a logging aspect class with a method that executes a @before aspect.</p>\n<p>The thing is, the aspect method that I wrote relies on that the controller method has a parameter of type HttpServletRequest which has the necessary info that i need to log.</p>\n<p>I'd like to know if there is any way to throw a warning when some method with my annotation doesn't have the required parameter.</p>\n<p>My custom annotation:</p>\n<p><img src=\"https://i.stack.imgur.com/Sf24U.png\" alt=\"\" /></p>\n<p>Controller:</p>\n<p><img src=\"https://i.stack.imgur.com/3zkqz.png\" alt=\"\" /></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667299982,"post_id":74274320,"comment_id":131130677,"body_markdown":"Why are you interested in that api particularly?","body":"Why are you interested in that api particularly?"},{"owner":{"account_id":12163361,"reputation":160,"user_id":8880333,"display_name":"Developer"},"score":0,"creation_date":1668539041,"post_id":74274320,"comment_id":131428693,"body_markdown":"To get the work done.","body":"To get the work done."}],"owner":{"account_id":12163361,"reputation":160,"user_id":8880333,"display_name":"Developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667297424,"creation_date":1667297424,"question_id":74274320,"body_markdown":"Can we create multiple file based on column value using super-csv.\r\n\r\nFor example this is my csv file:\r\n\r\n    Name,age,city\r\n    TestA,18,Mumbai\r\n    TestB, 60, Chennai\r\n    TestC,17,Mumbai\r\n\r\nHere I need to create 2 CSV file on is based on Mumbai and other Chennai.\r\nCan we do that using super-csv i checked \r\nhttps://super-csv.github.io/super-csv/writers.html\r\nBut no luck.\r\n\r\nThanks in advance.\r\n","title":"Creating multiple CSV file using Super CSV","body":"<p>Can we create multiple file based on column value using super-csv.</p>\n<p>For example this is my csv file:</p>\n<pre><code>Name,age,city\nTestA,18,Mumbai\nTestB, 60, Chennai\nTestC,17,Mumbai\n</code></pre>\n<p>Here I need to create 2 CSV file on is based on Mumbai and other Chennai.\nCan we do that using super-csv i checked\n<a href=\"https://super-csv.github.io/super-csv/writers.html\" rel=\"nofollow noreferrer\">https://super-csv.github.io/super-csv/writers.html</a>\nBut no luck.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668084739,"post_id":74268757,"comment_id":131324081,"body_markdown":"Side note: if it has a `close()` method, you most probably want it to extend [`AutoCloseable`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html) to support [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)","body":"Side note: if it has a <code>close()</code> method, you most probably want it to extend <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a> to support <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>"}],"answers":[{"tags":[],"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667249484,"creation_date":1667249484,"answer_id":74268997,"question_id":74268757,"body_markdown":"From your question, I see that you have `Dto1` and `Dto2`. Prefixes `Csv` and `Exl` are part of implementation and should not be part of definition. You would need one interface called:\r\n```\r\ninterface FileReadable {\r\n  void open();\r\n  List&lt;Dto1&gt; get1()\r\n  List&lt;Dto2&gt; get2()\r\n  void close();\r\n}\r\n```\r\nAnd then your clients will not be aware or care if it comes from `Exl` or `Csv`. They will just use `Dto1` or `Dto2`. If you really need to know the origin, you can create property in `Dto` class that can have values like `EXCEL`, `CSV`.","title":"Design pattern for file reader?","body":"<p>From your question, I see that you have <code>Dto1</code> and <code>Dto2</code>. Prefixes <code>Csv</code> and <code>Exl</code> are part of implementation and should not be part of definition. You would need one interface called:</p>\n<pre><code>interface FileReadable {\n  void open();\n  List&lt;Dto1&gt; get1()\n  List&lt;Dto2&gt; get2()\n  void close();\n}\n</code></pre>\n<p>And then your clients will not be aware or care if it comes from <code>Exl</code> or <code>Csv</code>. They will just use <code>Dto1</code> or <code>Dto2</code>. If you really need to know the origin, you can create property in <code>Dto</code> class that can have values like <code>EXCEL</code>, <code>CSV</code>.</p>\n"},{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667288266,"creation_date":1667288266,"answer_id":74272823,"question_id":74268757,"body_markdown":"You can also use generic interface:\r\n\r\n    interface FileReadable&lt;T&gt; {\r\n      void open();\r\n      List&lt;CsvDto1&gt; get1();\r\n      List&lt;CsvDto2&gt; get2();\r\n      void close();\r\n    }\r\n\r\nAnd just implement this interface in appropriate classes.\r\n\r\n[Read more about generic interface here in this nice post.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1623480/generic-interface","title":"Design pattern for file reader?","body":"<p>You can also use generic interface:</p>\n<pre><code>interface FileReadable&lt;T&gt; {\n  void open();\n  List&lt;CsvDto1&gt; get1();\n  List&lt;CsvDto2&gt; get2();\n  void close();\n}\n</code></pre>\n<p>And just implement this interface in appropriate classes.</p>\n<p><a href=\"https://stackoverflow.com/questions/1623480/generic-interface\">Read more about generic interface here in this nice post.</a></p>\n"},{"tags":[],"owner":{"account_id":23963297,"reputation":56,"user_id":17953108,"display_name":""},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667297403,"creation_date":1667297403,"answer_id":74274315,"question_id":74268757,"body_markdown":"Strategy pattern is the best.\r\n\r\ni usually write like this:\r\n\r\n    public interface FileReadable {\r\n        String getFileType();\r\n        void open();\r\n        Reader read();\r\n        void close();\r\n    }\r\n    \r\n    @Service\r\n    public class Csv1File implements FileReadable{\r\n        @Override\r\n        public String getFileType() {\r\n            return &quot;csv1&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public void open() {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public Reader read() {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public void close() {\r\n    \r\n        }\r\n    }\r\n\r\n\r\nuse like this\r\n\r\n        @Resource\r\n        List&lt;FileReadable&gt; fileReadable;\r\n    \r\n        String file = &quot;csv1&quot;;\r\n            Optional&lt;FileReadable&gt; first = fileReadable.stream().filter(read -&gt; Objects.equals(file, read.getFileType())).findFirst();\r\n            if (first.isPresent()) {\r\n                first.get().read();\r\n            }\r\n\r\n\r\nyou can also create like Csv2File.class Excel1File.class and use `getFileType()` to mark this class is support which kind of file. \r\n\r\n\r\n  ","title":"Design pattern for file reader?","body":"<p>Strategy pattern is the best.</p>\n<p>i usually write like this:</p>\n<pre><code>public interface FileReadable {\n    String getFileType();\n    void open();\n    Reader read();\n    void close();\n}\n\n@Service\npublic class Csv1File implements FileReadable{\n    @Override\n    public String getFileType() {\n        return &quot;csv1&quot;;\n    }\n\n    @Override\n    public void open() {\n\n    }\n\n    @Override\n    public Reader read() {\n        return null;\n    }\n\n    @Override\n    public void close() {\n\n    }\n}\n</code></pre>\n<p>use like this</p>\n<pre><code>    @Resource\n    List&lt;FileReadable&gt; fileReadable;\n\n    String file = &quot;csv1&quot;;\n        Optional&lt;FileReadable&gt; first = fileReadable.stream().filter(read -&gt; Objects.equals(file, read.getFileType())).findFirst();\n        if (first.isPresent()) {\n            first.get().read();\n        }\n</code></pre>\n<p>you can also create like Csv2File.class Excel1File.class and use <code>getFileType()</code> to mark this class is support which kind of file.</p>\n"}],"owner":{"account_id":22355741,"reputation":115,"user_id":16573073,"display_name":"Hola"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1667297403,"creation_date":1667247813,"question_id":74268757,"body_markdown":"I am creating a module that reads CSV and Excel files using Apache POI and Opencsv.\r\n\r\nFor reading CSV files, I am creating 1 class and 2 methods:\r\n\r\n    class CsvReader {\r\n      void open() {//implementation}\r\n      List&lt;CsvDto1&gt; get1() {//implementation}\r\n      List&lt;CsvDto2&gt; get2() {//implementation}\r\n      void close() {//implementation}\r\n    }\r\n\r\nFor reading Excel files, I am also creating 1 class and 2 methods:\r\n\r\n    class ExcelReader {\r\n      void open() {//implementation}\r\n      List&lt;ExlDto1&gt; get3() {//implementation}\r\n      List&lt;ExlDto2&gt; get4() {//implementation}\r\n      void close() {//implementation}\r\n    }\r\n\r\nAll I want is to implement a pattern that will be helped maintainable in the future. So I created an interface called `FileReadable`:\r\n\r\n    interface FileReadable {\r\n      void open();\r\n      List&lt;CsvDto1&gt; get1()\r\n      List&lt;CsvDto2&gt; get2()\r\n      List&lt;ExlDto1&gt; get3()\r\n      List&lt;ExlDto2&gt; get4()\r\n      void close();\r\n    }\r\nthen `CsvReader` and `ExcelReader` will be implemented from `FileRedable`. The issue is `get1()` and `get2()` exist in `CsvReader` but they do not exist in `ExcelReader`, `get3()` and `get4()` exist in `ExcelReader` but they do not exist in `CsvReader`. How do I create a common `read` method for both classes or do we have any design pattern for this case?\r\n\r\n       interface FileReadable {\r\n          void open();\r\n          Reader read();\r\n          void close();\r\n       }\r\n","title":"Design pattern for file reader?","body":"<p>I am creating a module that reads CSV and Excel files using Apache POI and Opencsv.</p>\n<p>For reading CSV files, I am creating 1 class and 2 methods:</p>\n<pre><code>class CsvReader {\n  void open() {//implementation}\n  List&lt;CsvDto1&gt; get1() {//implementation}\n  List&lt;CsvDto2&gt; get2() {//implementation}\n  void close() {//implementation}\n}\n</code></pre>\n<p>For reading Excel files, I am also creating 1 class and 2 methods:</p>\n<pre><code>class ExcelReader {\n  void open() {//implementation}\n  List&lt;ExlDto1&gt; get3() {//implementation}\n  List&lt;ExlDto2&gt; get4() {//implementation}\n  void close() {//implementation}\n}\n</code></pre>\n<p>All I want is to implement a pattern that will be helped maintainable in the future. So I created an interface called <code>FileReadable</code>:</p>\n<pre><code>interface FileReadable {\n  void open();\n  List&lt;CsvDto1&gt; get1()\n  List&lt;CsvDto2&gt; get2()\n  List&lt;ExlDto1&gt; get3()\n  List&lt;ExlDto2&gt; get4()\n  void close();\n}\n</code></pre>\n<p>then <code>CsvReader</code> and <code>ExcelReader</code> will be implemented from <code>FileRedable</code>. The issue is <code>get1()</code> and <code>get2()</code> exist in <code>CsvReader</code> but they do not exist in <code>ExcelReader</code>, <code>get3()</code> and <code>get4()</code> exist in <code>ExcelReader</code> but they do not exist in <code>CsvReader</code>. How do I create a common <code>read</code> method for both classes or do we have any design pattern for this case?</p>\n<pre><code>   interface FileReadable {\n      void open();\n      Reader read();\n      void close();\n   }\n</code></pre>\n"},{"tags":["java","swing","textfield","jformattedtextfield","maskformatter"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1667296842,"post_id":74273434,"comment_id":131129685,"body_markdown":"Note: null layout is __wrong__","body":"Note: null layout is <b>wrong</b>"}],"answers":[{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667296993,"creation_date":1667296386,"answer_id":74274122,"question_id":74273434,"body_markdown":"you are correct. The formatter is adding spaces to the empty characters. you can remove all spaces and check the length.\r\n\r\n    String s = ftf1.getText();\r\n    s = s.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n    System.out.print(s.length());\r\n\r\n\r\nThe expected length after removing spaces is 12 (10 numbers+2 brackets). You can validate if  **s.length() &lt; 12**\r\n\r\nOr you can,\r\n\r\n    s =s.replaceAll(&quot;[^0-9]+&quot;, &quot;&quot;);\r\n\r\nonly keep numbers and validate if length &lt; 10","title":"How to find the length of a JFormattedTextField","body":"<p>you are correct. The formatter is adding spaces to the empty characters. you can remove all spaces and check the length.</p>\n<pre><code>String s = ftf1.getText();\ns = s.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\nSystem.out.print(s.length());\n</code></pre>\n<p>The expected length after removing spaces is 12 (10 numbers+2 brackets). You can validate if  <strong>s.length() &lt; 12</strong></p>\n<p>Or you can,</p>\n<pre><code>s =s.replaceAll(&quot;[^0-9]+&quot;, &quot;&quot;);\n</code></pre>\n<p>only keep numbers and validate if length &lt; 10</p>\n"}],"owner":{"account_id":26793002,"reputation":1,"user_id":20386134,"display_name":"therealslyvegas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667296993,"creation_date":1667292347,"question_id":74273434,"body_markdown":"I&#39;m trying to verify that a user has entered the correct number of integers in the phonebook to complete the contact and if not then I would issue an error message like I do when a name is not entered. Problem I run into is that the field has been formatted with a maskformatter and I believe thats why no matter what I enter variable ftf1 returns 14 as the number of characters. Is there any easy way to check if all 10 numbers have indeed been entered?\r\n\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.event.DocumentEvent;\r\nimport javax.swing.event.DocumentListener;\r\nimport javax.swing.text.MaskFormatter;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.beans.PropertyChangeListener;\r\nimport java.text.ParseException;\r\n\r\n\r\npublic class PhoneBook implements ActionListener {\r\n    JFrame frame;\r\n\r\n    JTextField textField, textField1;\r\n\r\n    JButton createButton, deleteButton;\r\n\r\n    JPanel panel;\r\n\r\n    Font pbFont = new Font(&quot;PB&quot;, Font.BOLD, 15);\r\n\r\n    JLabel label, label1, label2;\r\n\r\n    JFormattedTextField ftf1;\r\n    MaskFormatter format1;\r\n\r\n    JTextArea message;\r\n\r\n    char operation;\r\n\r\n    PhoneBook() throws ParseException {\r\n        frame = new JFrame(&quot;Phone Book&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(400, 300);\r\n        frame.setLayout(null);\r\n        frame.setResizable(false);\r\n\r\n        label = new JLabel();\r\n        label.setBounds(150,-35,100,100);\r\n        label.setText(&quot;Contact&quot;);\r\n        label.setFont(pbFont);\r\n\r\n        label1 = new JLabel();\r\n        label1.setBounds(30, 10,100,50);\r\n        label1.setText(&quot;Name:&quot;);\r\n        label1.setFont(pbFont);\r\n\r\n        label2 = new JLabel();\r\n        label2.setBounds(30, 60,100,50);\r\n        label2.setText(&quot;Phone:&quot;);\r\n        label2.setFont(pbFont);\r\n\r\n        textField = new JTextField();\r\n        textField.setBounds(80,25,200,21);\r\n        textField.setFont(pbFont);\r\n        textField.setEditable(true);\r\n\r\n        format1 = new MaskFormatter(&quot;(###) ###-####&quot;);\r\n        ftf1 = new JFormattedTextField(format1);\r\n        ftf1.setBounds(80,75,200,21);\r\n        ftf1.setFont(pbFont);\r\n        ftf1.setEditable(true);\r\n\r\n        message = new JTextArea(10,10);\r\n        message.setFont(pbFont);\r\n        message.setBounds(25,210,200,50);\r\n\r\n\r\n        /* textField1 = new JTextField();\r\n        textField1.setBounds(80,75,200,21);\r\n        textField1.setFont(pbFont);\r\n        textField1.setEditable(true); */\r\n\r\n        panel = new JPanel();\r\n        panel.setBounds(25,110,255,50);\r\n        panel.setLayout(new GridLayout(1,2,125,20));\r\n        ///panel.setBackground(Color.BLUE);\r\n\r\n        createButton = new JButton(&quot;+&quot;);\r\n        deleteButton = new JButton(&quot;-&quot;);\r\n\r\n        createButton.addActionListener(this);\r\n        createButton.setFont(pbFont);\r\n        createButton.setFocusable(false);\r\n        createButton.setOpaque(true);\r\n        createButton.setForeground(Color.GREEN);\r\n\r\n\r\n        deleteButton.addActionListener(this);\r\n        deleteButton.setFont(pbFont);\r\n        deleteButton.setFocusable(false);\r\n        deleteButton.setOpaque(true);\r\n        deleteButton.setForeground(Color.red);\r\n\r\n\r\n        panel.add(createButton);\r\n        panel.add(deleteButton);\r\n\r\n\r\n\r\n\r\n        frame.add(panel);\r\n        frame.add(textField);\r\n        //frame.add(textField1);\r\n        frame.add(ftf1);\r\n        frame.add(label);\r\n        frame.add(label1);\r\n        frame.add(label2);\r\n        frame.add(message);\r\n        frame.setVisible(true);\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    public static void main(String[] args) throws ParseException {\r\n        PhoneBook directory = new PhoneBook();\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        TreeMap&lt;String, String&gt; contacts =\r\n                new TreeMap&lt;String, String&gt;();\r\n\r\n        boolean x = false;\r\n\r\n        String s = ftf1.getText();\r\n        System.out.print(s.length());\r\n\r\n\r\n\r\n        if(e.getSource() == createButton) {\r\n            if(textField.getText().isEmpty()) {\r\n                JOptionPane.showMessageDialog(frame, &quot;Enter Name &amp; Phone Number.&quot;,&quot;Contact Creation&quot;, JOptionPane.ERROR_MESSAGE);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How to find the length of a JFormattedTextField","body":"<p>I'm trying to verify that a user has entered the correct number of integers in the phonebook to complete the contact and if not then I would issue an error message like I do when a name is not entered. Problem I run into is that the field has been formatted with a maskformatter and I believe thats why no matter what I enter variable ftf1 returns 14 as the number of characters. Is there any easy way to check if all 10 numbers have indeed been entered?</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\nimport javax.swing.text.MaskFormatter;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.beans.PropertyChangeListener;\nimport java.text.ParseException;\n\n\npublic class PhoneBook implements ActionListener {\n    JFrame frame;\n\n    JTextField textField, textField1;\n\n    JButton createButton, deleteButton;\n\n    JPanel panel;\n\n    Font pbFont = new Font(&quot;PB&quot;, Font.BOLD, 15);\n\n    JLabel label, label1, label2;\n\n    JFormattedTextField ftf1;\n    MaskFormatter format1;\n\n    JTextArea message;\n\n    char operation;\n\n    PhoneBook() throws ParseException {\n        frame = new JFrame(&quot;Phone Book&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(400, 300);\n        frame.setLayout(null);\n        frame.setResizable(false);\n\n        label = new JLabel();\n        label.setBounds(150,-35,100,100);\n        label.setText(&quot;Contact&quot;);\n        label.setFont(pbFont);\n\n        label1 = new JLabel();\n        label1.setBounds(30, 10,100,50);\n        label1.setText(&quot;Name:&quot;);\n        label1.setFont(pbFont);\n\n        label2 = new JLabel();\n        label2.setBounds(30, 60,100,50);\n        label2.setText(&quot;Phone:&quot;);\n        label2.setFont(pbFont);\n\n        textField = new JTextField();\n        textField.setBounds(80,25,200,21);\n        textField.setFont(pbFont);\n        textField.setEditable(true);\n\n        format1 = new MaskFormatter(&quot;(###) ###-####&quot;);\n        ftf1 = new JFormattedTextField(format1);\n        ftf1.setBounds(80,75,200,21);\n        ftf1.setFont(pbFont);\n        ftf1.setEditable(true);\n\n        message = new JTextArea(10,10);\n        message.setFont(pbFont);\n        message.setBounds(25,210,200,50);\n\n\n        /* textField1 = new JTextField();\n        textField1.setBounds(80,75,200,21);\n        textField1.setFont(pbFont);\n        textField1.setEditable(true); */\n\n        panel = new JPanel();\n        panel.setBounds(25,110,255,50);\n        panel.setLayout(new GridLayout(1,2,125,20));\n        ///panel.setBackground(Color.BLUE);\n\n        createButton = new JButton(&quot;+&quot;);\n        deleteButton = new JButton(&quot;-&quot;);\n\n        createButton.addActionListener(this);\n        createButton.setFont(pbFont);\n        createButton.setFocusable(false);\n        createButton.setOpaque(true);\n        createButton.setForeground(Color.GREEN);\n\n\n        deleteButton.addActionListener(this);\n        deleteButton.setFont(pbFont);\n        deleteButton.setFocusable(false);\n        deleteButton.setOpaque(true);\n        deleteButton.setForeground(Color.red);\n\n\n        panel.add(createButton);\n        panel.add(deleteButton);\n\n\n\n\n        frame.add(panel);\n        frame.add(textField);\n        //frame.add(textField1);\n        frame.add(ftf1);\n        frame.add(label);\n        frame.add(label1);\n        frame.add(label2);\n        frame.add(message);\n        frame.setVisible(true);\n\n\n\n\n    }\n\n\n\n\n    public static void main(String[] args) throws ParseException {\n        PhoneBook directory = new PhoneBook();\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        TreeMap&lt;String, String&gt; contacts =\n                new TreeMap&lt;String, String&gt;();\n\n        boolean x = false;\n\n        String s = ftf1.getText();\n        System.out.print(s.length());\n\n\n\n        if(e.getSource() == createButton) {\n            if(textField.getText().isEmpty()) {\n                JOptionPane.showMessageDialog(frame, &quot;Enter Name &amp; Phone Number.&quot;,&quot;Contact Creation&quot;, JOptionPane.ERROR_MESSAGE);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jdbi","jdbi3","jdbi3-core"],"comments":[{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":0,"creation_date":1624264764,"post_id":68064837,"comment_id":120301267,"body_markdown":"Why don&#39;t you stick to the [offical docs](https://jdbi.org/#_fluent_api)?","body":"Why don&#39;t you stick to the <a href=\"https://jdbi.org/#_fluent_api\" rel=\"nofollow noreferrer\">offical docs</a>?"},{"owner":{"account_id":21316749,"reputation":111,"user_id":15690479,"display_name":"Igor Vinicius"},"score":0,"creation_date":1624267468,"post_id":68064837,"comment_id":120302322,"body_markdown":"I understood your answer and read it several times, it doesn&#39;t show how to implement my question on a specific mapping like this, and the examples there are not clear, especially for someone starting out, but anyway, I&#39;m testing a lot of things that I see there, if I solve this issue alone, I&#39;ll answer this post to help other people, anyway, thanks for your comment","body":"I understood your answer and read it several times, it doesn&#39;t show how to implement my question on a specific mapping like this, and the examples there are not clear, especially for someone starting out, but anyway, I&#39;m testing a lot of things that I see there, if I solve this issue alone, I&#39;ll answer this post to help other people, anyway, thanks for your comment"}],"answers":[{"comments":[{"owner":{"account_id":8094195,"reputation":858,"user_id":6099243,"display_name":"Yurii Melnychuk"},"score":1,"creation_date":1624378382,"post_id":68065654,"comment_id":120340595,"body_markdown":"I am not sure what `Customer` is, but from the code above and usage of all-args constructor I am confident that you could not write your own mapper but simply use [ConstructorMapper](http://jdbi.org/#_constructormapper): `registerRowMapper(ConstructorMapper.factory(Customer.class))`","body":"I am not sure what <code>Customer</code> is, but from the code above and usage of all-args constructor I am confident that you could not write your own mapper but simply use <a href=\"http://jdbi.org/#_constructormapper\" rel=\"nofollow noreferrer\">ConstructorMapper</a>: <code>registerRowMapper(ConstructorMapper.factory(Customer.class))</code>"},{"owner":{"account_id":21316749,"reputation":111,"user_id":15690479,"display_name":"Igor Vinicius"},"score":0,"creation_date":1624481992,"post_id":68065654,"comment_id":120374639,"body_markdown":"@YuriiMelnychuk thank you so much, i modified my code and now it ran very well and so fast, you are amazing &lt;3","body":"@YuriiMelnychuk thank you so much, i modified my code and now it ran very well and so fast, you are amazing &lt;3"}],"tags":[],"owner":{"account_id":21316749,"reputation":111,"user_id":15690479,"display_name":"Igor Vinicius"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1624268285,"creation_date":1624268285,"answer_id":68065654,"question_id":68064837,"body_markdown":"I fix this creating this class\r\n\r\n    public class CustomerMapper implements RowMapper&lt;Customer&gt;{\r\n\r\n\t  @Override\r\n\t  public Customer map(ResultSet rs, StatementContext ctx) throws SQLException {\r\n\t\treturn new Customer(rs.getInt(&quot;id&quot;), rs.getString(&quot;uuid&quot;), rs.getString(&quot;name&quot;), rs.getString(&quot;email&quot;), rs.getString(&quot;birthDate&quot;), rs.getString(&quot;cpf&quot;), rs.getString(&quot;gender&quot;), rs.getDate(&quot;createdAt&quot;), rs.getDate(&quot;updateAt&quot;));\r\n      }\r\n    }\r\nand where was `.mapTo(Customer.class).list();` i put `.map(new CustomerMapper()).list();` referencing the map I created ","title":"JDBI erro No mapper registered for type","body":"<p>I fix this creating this class</p>\n<pre><code>public class CustomerMapper implements RowMapper&lt;Customer&gt;{\n\n  @Override\n  public Customer map(ResultSet rs, StatementContext ctx) throws SQLException {\n    return new Customer(rs.getInt(&quot;id&quot;), rs.getString(&quot;uuid&quot;), rs.getString(&quot;name&quot;), rs.getString(&quot;email&quot;), rs.getString(&quot;birthDate&quot;), rs.getString(&quot;cpf&quot;), rs.getString(&quot;gender&quot;), rs.getDate(&quot;createdAt&quot;), rs.getDate(&quot;updateAt&quot;));\n  }\n}\n</code></pre>\n<p>and where was <code>.mapTo(Customer.class).list();</code> i put <code>.map(new CustomerMapper()).list();</code> referencing the map I created</p>\n"},{"tags":[],"owner":{"account_id":2047736,"reputation":2932,"user_id":1827453,"accept_rate":69,"display_name":"Panu Haaramo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667296908,"creation_date":1667296908,"answer_id":74274215,"question_id":68064837,"body_markdown":"For me this usually happens when running tests with IntelliJ. Everything works fine when running the same tests with Maven.","title":"JDBI erro No mapper registered for type","body":"<p>For me this usually happens when running tests with IntelliJ. Everything works fine when running the same tests with Maven.</p>\n"}],"owner":{"account_id":21316749,"reputation":111,"user_id":15690479,"display_name":"Igor Vinicius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2315,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68065654,"answer_count":2,"score":2,"last_activity_date":1667296908,"creation_date":1624264509,"question_id":68064837,"body_markdown":"I&#39;m trying to create a method that return all users from customer table in my database but this code:\r\n\r\n    \ttry {\r\n\t\t\tList&lt;Customer&gt; customer = jdbi.open().createQuery(&quot;SELECT * FROM customer&quot;)\r\n\t\t\t.mapTo(Customer.class).list();\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\nreturn error:\r\n\r\n    org.jdbi.v3.core.mapper.NoSuchMapperException: No mapper registered for type com.customer.Customer\r\n\r\ni saw another post of this error and they say that this error happened because of the mapping between the class model and the database table, but my app is built in pure java and JDBI 3 I&#39;m not using Spring so how map the result of this code for convert this result in a List of Customer?","title":"JDBI erro No mapper registered for type","body":"<p>I'm trying to create a method that return all users from customer table in my database but this code:</p>\n<pre><code>    try {\n        List&lt;Customer&gt; customer = jdbi.open().createQuery(&quot;SELECT * FROM customer&quot;)\n        .mapTo(Customer.class).list();\n    } catch (Exception e) {\n        System.out.println(e);\n    }\n</code></pre>\n<p>return error:</p>\n<pre><code>org.jdbi.v3.core.mapper.NoSuchMapperException: No mapper registered for type com.customer.Customer\n</code></pre>\n<p>i saw another post of this error and they say that this error happened because of the mapping between the class model and the database table, but my app is built in pure java and JDBI 3 I'm not using Spring so how map the result of this code for convert this result in a List of Customer?</p>\n"},{"tags":["java","oauth","ms-office","exchangewebservices"],"answers":[{"comments":[{"owner":{"account_id":2229557,"reputation":170,"user_id":1967517,"accept_rate":67,"display_name":"pranjaljain"},"score":1,"creation_date":1423645310,"post_id":28434307,"comment_id":45228308,"body_markdown":"EWS Java API present at https://github.com/OfficeDev/ews-java-api does not have Microsoft.Exchange.WebServices.Data.OAuthCredentials class because it support till ExchangeVersion.Exchange2010_SP2 only. So, in order to use EWS apis with Java and Oauth authentication. Can you suggest how should I proceede??","body":"EWS Java API present at <a href=\"https://github.com/OfficeDev/ews-java-api\" rel=\"nofollow noreferrer\">github.com/OfficeDev/ews-java-api</a> does not have Microsoft.Exchange.WebServices.Data.OAuthCredentials class because it support till ExchangeVersion.Exchange2010_SP2 only. So, in order to use EWS apis with Java and Oauth authentication. Can you suggest how should I proceede??"},{"owner":{"account_id":4015817,"reputation":17284,"user_id":3307985,"display_name":"Jason Johnston"},"score":1,"creation_date":1423670208,"post_id":28434307,"comment_id":45243717,"body_markdown":"Try setting the Authorize header directly via the httpHeaders on the ExchangeService. Format would be &quot;Bearer &lt;token&gt;&quot;.","body":"Try setting the Authorize header directly via the httpHeaders on the ExchangeService. Format would be &quot;Bearer &lt;token&gt;&quot;."},{"owner":{"account_id":2229557,"reputation":170,"user_id":1967517,"accept_rate":67,"display_name":"pranjaljain"},"score":0,"creation_date":1423742348,"post_id":28434307,"comment_id":45276709,"body_markdown":"I tried service.getHttpHeaders().put(&quot;Authorization&quot;, &quot;Bearer &lt;token&gt;&quot;); but it gave me error saying &quot;The request failed. HTTP header &#39;Authorization=Bearer &lt;token&gt;&#39; isn&#39;t permitted. Only HTTP headers with the &#39;X-&#39; prefix are permitted.&quot;","body":"I tried service.getHttpHeaders().put(&quot;Authorization&quot;, &quot;Bearer &lt;token&gt;&quot;); but it gave me error saying &quot;The request failed. HTTP header &#39;Authorization=Bearer &lt;token&gt;&#39; isn&#39;t permitted. Only HTTP headers with the &#39;X-&#39; prefix are permitted.&quot;"},{"owner":{"account_id":4015817,"reputation":17284,"user_id":3307985,"display_name":"Jason Johnston"},"score":0,"creation_date":1423753447,"post_id":28434307,"comment_id":45283902,"body_markdown":"Ah I see. Yep, looking at the source for the Java API it only allows X- headers to be set (see CannotAddRequestHeader in ExchangeServiceBase.java). You may have to modify the source to get this to work.","body":"Ah I see. Yep, looking at the source for the Java API it only allows X- headers to be set (see CannotAddRequestHeader in ExchangeServiceBase.java). You may have to modify the source to get this to work."},{"owner":{"account_id":2229557,"reputation":170,"user_id":1967517,"accept_rate":67,"display_name":"pranjaljain"},"score":1,"creation_date":1423938594,"post_id":28434307,"comment_id":45354620,"body_markdown":"Thanks a lot Jason! It worked! I simply commented out the validate() method code in ExchangeServiceBase.java class.","body":"Thanks a lot Jason! It worked! I simply commented out the validate() method code in ExchangeServiceBase.java class."}],"tags":[],"owner":{"account_id":4015817,"reputation":17284,"user_id":3307985,"display_name":"Jason Johnston"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1423578936,"creation_date":1423578936,"answer_id":28434307,"question_id":28424550,"body_markdown":"It is possible. You have to register your app in the same way as you do for REST, but you need to specify the special EWS permission &quot;Have full access via EWS to users&#39; mailboxes&quot;. You&#39;ll need to do the OAuth flow to retrieve the access token, then include that in the Authorization header in your EWS requests. I don&#39;t have a Java sample for you, but those are the basic steps required.","title":"EWS java apis using Oauth2","body":"<p>It is possible. You have to register your app in the same way as you do for REST, but you need to specify the special EWS permission \"Have full access via EWS to users' mailboxes\". You'll need to do the OAuth flow to retrieve the access token, then include that in the Authorization header in your EWS requests. I don't have a Java sample for you, but those are the basic steps required.</p>\n"},{"tags":[],"owner":{"account_id":7019078,"reputation":91,"user_id":5379273,"display_name":"Benjamin Raethlein"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1486562448,"creation_date":1486562448,"answer_id":42115169,"question_id":28424550,"body_markdown":"I know, the question is quite old but the answers &amp; comments still helped me out today. So, I want to briefly wrap it up:\r\n\r\nIn this pull-request: https://github.com/OfficeDev/ews-java-api/pull/321\r\nthe header validation was removed as described in the comments of the accepted answer.\r\n\r\nSo, its enough to set the token via\r\n\r\n    ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2010_SP2);\r\n    service.getHttpHeaders().put(&quot;Authorization&quot;, &quot;Bearer &quot; + officeToken);\r\n\r\nDon&#39;t set any additional credentials.\r\n\r\nFor completeness: In my scenario, the `officeToken` is retrieved on client side via the Office JavaScript api\r\n\r\n    Office.initialize = function() {\r\n        $(document).ready(function (){\r\n            Office.context.mailbox.getCallbackTokenAsync(function(result) {\r\n                result.value; // is the officeToken of above\r\n                // do s.th. with the officeToken; e.g. send it to the server\r\n            });\r\n        });\r\n    });\r\n\r\nOn the server, we can now get the content of a mail. In the newest version of the Office JavaScript Api, this is also possible directly in the client. However, your Exchange Api version must be 1.3. So, this solution with retrieving the token and sending it to a server is useful in case your Exchange server runs an older version.\r\n\r\n\r\n","title":"EWS java apis using Oauth2","body":"<p>I know, the question is quite old but the answers &amp; comments still helped me out today. So, I want to briefly wrap it up:</p>\n\n<p>In this pull-request: <a href=\"https://github.com/OfficeDev/ews-java-api/pull/321\" rel=\"noreferrer\">https://github.com/OfficeDev/ews-java-api/pull/321</a>\nthe header validation was removed as described in the comments of the accepted answer.</p>\n\n<p>So, its enough to set the token via</p>\n\n<pre><code>ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2010_SP2);\nservice.getHttpHeaders().put(\"Authorization\", \"Bearer \" + officeToken);\n</code></pre>\n\n<p>Don't set any additional credentials.</p>\n\n<p>For completeness: In my scenario, the <code>officeToken</code> is retrieved on client side via the Office JavaScript api</p>\n\n<pre><code>Office.initialize = function() {\n    $(document).ready(function (){\n        Office.context.mailbox.getCallbackTokenAsync(function(result) {\n            result.value; // is the officeToken of above\n            // do s.th. with the officeToken; e.g. send it to the server\n        });\n    });\n});\n</code></pre>\n\n<p>On the server, we can now get the content of a mail. In the newest version of the Office JavaScript Api, this is also possible directly in the client. However, your Exchange Api version must be 1.3. So, this solution with retrieving the token and sending it to a server is useful in case your Exchange server runs an older version.</p>\n"},{"comments":[{"owner":{"account_id":1010706,"reputation":1264,"user_id":1023341,"display_name":"gkephorus"},"score":0,"creation_date":1661948497,"post_id":57719678,"comment_id":129892315,"body_markdown":"Especially the Header &quot;X-AnchorMailbox&quot; &amp; method setImpersonatedUserId are still working with the new msal4j library.","body":"Especially the Header &quot;X-AnchorMailbox&quot; &amp; method setImpersonatedUserId are still working with the new msal4j library."},{"owner":{"account_id":13973715,"reputation":2843,"user_id":10091597,"display_name":"Muzzamil"},"score":0,"creation_date":1675432750,"post_id":57719678,"comment_id":132933402,"body_markdown":"I can not find proper import for TraceListener. From which library you are using it?","body":"I can not find proper import for TraceListener. From which library you are using it?"}],"tags":[],"owner":{"account_id":154228,"reputation":399,"user_id":370003,"display_name":"JavaJedi"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1587783945,"creation_date":1567131064,"answer_id":57719678,"question_id":28424550,"body_markdown":"Given that using basic auth with EWS will cease to work Oct 2020([source][1]), I went down the path of getting my app to use OAuth token authentication instead.\r\n\r\nAs mentioned by Jason Johnson, you&#39;re required to allow the Azure AD application  &#39;***Full access via EWS to users mailboxes***&#39;. As you can imagine, this creates a security concern since the application can access and modify anyones mailbox in that tenant. Use with great care!\r\n\r\n&gt; **Disclaimer** - adal4j is no longer supported and while this solution works note that the adal4j library has a bug which will incorrectly\r\n&gt; log errors in `AdalCallable.java`. This [fork][2] patches the issue but no public\r\n&gt; artifact is available, so you&#39;ll need to compile it yourself. Another option may be to try the more\r\n&gt; up-to-date [msal4j][3] however I haven&#39;t tested this solution with that\r\n&gt; library.\r\n\r\nHere are the maven dependencies I used, I excluded slf4j since I had a class loader clash in glassfish so the exclusion is optional:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.ews-java-api&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ews-java-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;adal4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.4&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.21&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nHere is the token provider:\r\n\r\n    import java.net.MalformedURLException;\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    import java.time.Duration;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.Future;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.concurrent.TimeoutException;\r\n    \r\n    import javax.enterprise.concurrent.ManagedExecutorService;\r\n    \r\n    import org.apache.log4j.Logger;\r\n    \r\n    import com.microsoft.aad.adal4j.AuthenticationCallback;\r\n    import com.microsoft.aad.adal4j.AuthenticationContext;\r\n    import com.microsoft.aad.adal4j.AuthenticationResult;\r\n    import com.microsoft.aad.adal4j.ClientCredential;\r\n    \r\n    import microsoft.exchange.webservices.data.core.ExchangeService;\r\n    import microsoft.exchange.webservices.data.core.WebProxy;\r\n    import microsoft.exchange.webservices.data.core.enumeration.misc.ConnectingIdType;\r\n    import microsoft.exchange.webservices.data.core.enumeration.misc.ExchangeVersion;\r\n    import microsoft.exchange.webservices.data.misc.ImpersonatedUserId;\r\n    \r\n    /**\r\n     * Used to obtain an access token for use in an EWS application. Caches the\r\n     * token and refreshes it 5mins prior to expiration.\r\n     * \r\n     * @author Stephen O&#39;Hair\r\n     *\r\n     */\r\n    public final class MsEwsTokenProvider {\r\n    \r\n        private static final Logger log = Logger.getLogger(MsEwsTokenProvider.class);\r\n    \r\n        private static final String EWS_URL = &quot;https://outlook.office365.com/EWS/Exchange.asmx&quot;;\r\n        private static final String RESOUCE = &quot;https://outlook.office365.com&quot;;\r\n        private static final String TENANT_NAME = &quot;enter your tenant name here&quot;;\r\n        private static final String AUTHORITY = &quot;https://login.microsoftonline.com/&quot; + TENANT_NAME;\r\n        private static final long REFRESH_BEFORE_EXPIRY_MS = Duration.ofMinutes(5).toMillis();\r\n    \r\n        private static long expiryTimeMs;\r\n        private static String accessToken;\r\n    \r\n        /**\r\n         * Takes an OAuth2 token and configures an {@link ExchangeService}.\r\n         * \r\n         * @param token\r\n         * @param senderAddr\r\n         * @param traceListener\r\n         * @param mailboxAddr\r\n         * @return a configured and authenticated {@link ExchangeService}\r\n         * @throws URISyntaxException\r\n         * @throws Exception\r\n         */\r\n        public static ExchangeService getAuthenticatedService(String token, String senderAddr, \r\n                TraceListener traceListener) throws URISyntaxException, Exception {\r\n            ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2010_SP2);\r\n            service.setTraceListener(traceListener);\r\n            service.getHttpHeaders().put(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n            service.getHttpHeaders().put(&quot;X-AnchorMailbox&quot;, senderAddr);\r\n            //service.setWebProxy(new WebProxy(proxyHost, proxyPort));\r\n            service.setUrl(new URI(EWS_URL));\r\n            service.setImpersonatedUserId(new ImpersonatedUserId(ConnectingIdType.PrincipalName, senderAddr));\r\n            return service;\r\n        }\r\n    \r\n        /**\r\n         * Simple way to get an access token using the Azure Active Directory Library.\r\n         * \r\n         * Authenticates at : https://login.microsoftonline.com/\r\n         * \r\n         * @param clientId\r\n         *            - client id of the AzureAD application\r\n         * @param clientSecret\r\n         *            - client secret of the AzureAD application\r\n         * @param service\r\n         *            - managed executor service\r\n         * \r\n         * @return provisioned access token\r\n         * @throws MalformedURLException\r\n         * @throws InterruptedException\r\n         * @throws ExecutionException\r\n         * @throws TimeoutException\r\n         */\r\n        public static synchronized String getAccesToken(String clientId, String clientSecret, ManagedExecutorService service)\r\n                throws MalformedURLException, InterruptedException, ExecutionException, TimeoutException {\r\n    \r\n            long now = System.currentTimeMillis();\r\n            if (accessToken != null &amp;&amp; now &lt; expiryTimeMs - REFRESH_BEFORE_EXPIRY_MS) {\r\n    \r\n                AuthenticationContext context = new AuthenticationContext(AUTHORITY, false, service);\r\n                AuthenticationCallback&lt;AuthenticationResult&gt; callback = new AuthenticationCallback&lt;AuthenticationResult&gt;() {\r\n    \r\n                    @Override\r\n                    public void onSuccess(AuthenticationResult result) {\r\n                        log.info(&quot;received token&quot;);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onFailure(Throwable exc) {\r\n                        throw new RuntimeException(exc);\r\n                    }\r\n                };\r\n    \r\n                log.info(&quot;requesting token&quot;);\r\n                Future&lt;AuthenticationResult&gt; future = context.acquireToken(RESOUCE,\r\n                        new ClientCredential(clientId, clientSecret), callback);\r\n    \r\n                // wait for access token\r\n                AuthenticationResult result = future.get(30, TimeUnit.SECONDS);\r\n    \r\n                // cache token and expiration\r\n                accessToken = result.getAccessToken();\r\n                expiryTimeMs = result.getExpiresAfter();\r\n            }\r\n    \r\n            return accessToken;\r\n        }\r\n    }\r\n\r\n\r\nHere is an example using those token provider class above to list messages from an inbox and send an email:\r\n\r\n    import java.net.MalformedURLException;\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    \r\n    import com.microsoft.aad.adal4j.AuthenticationCallback;\r\n    import com.microsoft.aad.adal4j.AuthenticationContext;\r\n    import com.microsoft.aad.adal4j.AuthenticationResult;\r\n    import com.microsoft.aad.adal4j.ClientCredential;\r\n    \r\n    import microsoft.exchange.webservices.data.core.ExchangeService;\r\n    import microsoft.exchange.webservices.data.core.WebProxy;\r\n    import microsoft.exchange.webservices.data.core.enumeration.misc.ConnectingIdType;\r\n    import microsoft.exchange.webservices.data.core.enumeration.misc.ExchangeVersion;\r\n    import microsoft.exchange.webservices.data.misc.ImpersonatedUserId;\r\n    /**\r\n     * Entry point.\r\n     * \r\n     * @param args\r\n     * @throws Exception\r\n     */\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        // Pro tip: make sure to set your proxy configuration here if needed \r\n        // and exclude outlook.office365.com from proxy SSL inspection.\r\n\r\n        String clientId = &quot;your AzureAD application client id&quot;;\r\n        String clientSecret = &quot;your AzureAD application client secret&quot;;\r\n        String tenantName = &quot;your tenant&quot;;\r\n        String recipientAddr = &quot;recipient@yourdomain.com&quot;;\r\n        String senderAddress = &quot;yourO365@mailbox.com&quot;;\r\n\r\n        TraceListener traceListener = new ITraceListener() {\r\n            \r\n            @Override\r\n            public void trace(String traceType, String traceMessage) {\r\n                // TODO log it, do whatever...\r\n                \r\n            }\r\n        };\r\n\r\n        // I used a ManagedExecutorService provided by glassfish but you can \r\n        // use an ExecutorService and manage it yourself.\r\n        String token = MsEwsTokenProvider.getAccesToken(clientId, clientSecret, service);\r\n        // don&#39;t log this in production!\r\n        System.out.println(&quot;token=&quot; + token);\r\n\r\n        // test mailbox read access\r\n        System.out.println(&quot;geting emails&quot;);\r\n        try (ExchangeService service = MsEwsTokenProvider.getAuthenticatedService(token, senderAddress)) {\r\n           listInboxMessages(service, senderAddress);\r\n        }\r\n\r\n        // send a message\r\n        System.out.println(&quot;sending a message&quot;);\r\n        try (ExchangeService service = getAuthenticatedService(token, senderAddress, traceListener)) {\r\n           sendTestMessage(service, recipientAddr, senderAddress);\r\n        }\r\n\r\n        System.out.println(&quot;finished&quot;);\r\n    }\r\n    \r\n    public static void sendTestMessage(ExchangeService service, String recipientAddr, String senderAddr)\r\n            throws Exception {\r\n        EmailMessage msg = new EmailMessage(service);\r\n        msg.setSubject(&quot;Hello world!&quot;);\r\n        msg.setBody(MessageBody.getMessageBodyFromText(&quot;Sent using the EWS Java API.&quot;));\r\n        msg.getToRecipients().add(recipientAddr);\r\n        msg.send();\r\n        msg.setSender(new EmailAddress(senderAddr));\r\n    }\r\n\r\n    public static void listInboxMessages(ExchangeService service, String mailboxAddr) throws Exception {\r\n        ItemView view = new ItemView(50);\r\n        Mailbox mb = new Mailbox(mailboxAddr);\r\n        FolderId folder = new FolderId(WellKnownFolderName.Inbox, mb);\r\n        FindItemsResults&lt;Item&gt; result = service.findItems(folder, view);\r\n        result.forEach(i -&gt; {\r\n            try {\r\n                System.out.println(&quot;subject=&quot; + i.getSubject());\r\n            } catch (ServiceLocalException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n  [1]: https://developer.microsoft.com/en-us/graph/blogs/upcoming-changes-to-exchange-web-services-ews-api-for-office-365/\r\n  [2]: https://github.com/amsa-code/azure-activedirectory-library-for-java/commit/b3905fc654bf84ab16c55acab19e66682260af59\r\n  [3]: https://github.com/AzureAD/microsoft-authentication-library-for-java/wiki","title":"EWS java apis using Oauth2","body":"<p>Given that using basic auth with EWS will cease to work Oct 2020(<a href=\"https://developer.microsoft.com/en-us/graph/blogs/upcoming-changes-to-exchange-web-services-ews-api-for-office-365/\" rel=\"nofollow noreferrer\">source</a>), I went down the path of getting my app to use OAuth token authentication instead.</p>\n\n<p>As mentioned by Jason Johnson, you're required to allow the Azure AD application  '<strong><em>Full access via EWS to users mailboxes</em></strong>'. As you can imagine, this creates a security concern since the application can access and modify anyones mailbox in that tenant. Use with great care!</p>\n\n<blockquote>\n  <p><strong>Disclaimer</strong> - adal4j is no longer supported and while this solution works note that the adal4j library has a bug which will incorrectly\n  log errors in <code>AdalCallable.java</code>. This <a href=\"https://github.com/amsa-code/azure-activedirectory-library-for-java/commit/b3905fc654bf84ab16c55acab19e66682260af59\" rel=\"nofollow noreferrer\">fork</a> patches the issue but no public\n  artifact is available, so you'll need to compile it yourself. Another option may be to try the more\n  up-to-date <a href=\"https://github.com/AzureAD/microsoft-authentication-library-for-java/wiki\" rel=\"nofollow noreferrer\">msal4j</a> however I haven't tested this solution with that\n  library.</p>\n</blockquote>\n\n<p>Here are the maven dependencies I used, I excluded slf4j since I had a class loader clash in glassfish so the exclusion is optional:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.ews-java-api&lt;/groupId&gt;\n        &lt;artifactId&gt;ews-java-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;adal4j&lt;/artifactId&gt;\n        &lt;version&gt;1.6.4&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.21&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Here is the token provider:</p>\n\n<pre><code>import java.net.MalformedURLException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.time.Duration;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\nimport javax.enterprise.concurrent.ManagedExecutorService;\n\nimport org.apache.log4j.Logger;\n\nimport com.microsoft.aad.adal4j.AuthenticationCallback;\nimport com.microsoft.aad.adal4j.AuthenticationContext;\nimport com.microsoft.aad.adal4j.AuthenticationResult;\nimport com.microsoft.aad.adal4j.ClientCredential;\n\nimport microsoft.exchange.webservices.data.core.ExchangeService;\nimport microsoft.exchange.webservices.data.core.WebProxy;\nimport microsoft.exchange.webservices.data.core.enumeration.misc.ConnectingIdType;\nimport microsoft.exchange.webservices.data.core.enumeration.misc.ExchangeVersion;\nimport microsoft.exchange.webservices.data.misc.ImpersonatedUserId;\n\n/**\n * Used to obtain an access token for use in an EWS application. Caches the\n * token and refreshes it 5mins prior to expiration.\n * \n * @author Stephen O'Hair\n *\n */\npublic final class MsEwsTokenProvider {\n\n    private static final Logger log = Logger.getLogger(MsEwsTokenProvider.class);\n\n    private static final String EWS_URL = \"https://outlook.office365.com/EWS/Exchange.asmx\";\n    private static final String RESOUCE = \"https://outlook.office365.com\";\n    private static final String TENANT_NAME = \"enter your tenant name here\";\n    private static final String AUTHORITY = \"https://login.microsoftonline.com/\" + TENANT_NAME;\n    private static final long REFRESH_BEFORE_EXPIRY_MS = Duration.ofMinutes(5).toMillis();\n\n    private static long expiryTimeMs;\n    private static String accessToken;\n\n    /**\n     * Takes an OAuth2 token and configures an {@link ExchangeService}.\n     * \n     * @param token\n     * @param senderAddr\n     * @param traceListener\n     * @param mailboxAddr\n     * @return a configured and authenticated {@link ExchangeService}\n     * @throws URISyntaxException\n     * @throws Exception\n     */\n    public static ExchangeService getAuthenticatedService(String token, String senderAddr, \n            TraceListener traceListener) throws URISyntaxException, Exception {\n        ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2010_SP2);\n        service.setTraceListener(traceListener);\n        service.getHttpHeaders().put(\"Authorization\", \"Bearer \" + token);\n        service.getHttpHeaders().put(\"X-AnchorMailbox\", senderAddr);\n        //service.setWebProxy(new WebProxy(proxyHost, proxyPort));\n        service.setUrl(new URI(EWS_URL));\n        service.setImpersonatedUserId(new ImpersonatedUserId(ConnectingIdType.PrincipalName, senderAddr));\n        return service;\n    }\n\n    /**\n     * Simple way to get an access token using the Azure Active Directory Library.\n     * \n     * Authenticates at : https://login.microsoftonline.com/\n     * \n     * @param clientId\n     *            - client id of the AzureAD application\n     * @param clientSecret\n     *            - client secret of the AzureAD application\n     * @param service\n     *            - managed executor service\n     * \n     * @return provisioned access token\n     * @throws MalformedURLException\n     * @throws InterruptedException\n     * @throws ExecutionException\n     * @throws TimeoutException\n     */\n    public static synchronized String getAccesToken(String clientId, String clientSecret, ManagedExecutorService service)\n            throws MalformedURLException, InterruptedException, ExecutionException, TimeoutException {\n\n        long now = System.currentTimeMillis();\n        if (accessToken != null &amp;&amp; now &lt; expiryTimeMs - REFRESH_BEFORE_EXPIRY_MS) {\n\n            AuthenticationContext context = new AuthenticationContext(AUTHORITY, false, service);\n            AuthenticationCallback&lt;AuthenticationResult&gt; callback = new AuthenticationCallback&lt;AuthenticationResult&gt;() {\n\n                @Override\n                public void onSuccess(AuthenticationResult result) {\n                    log.info(\"received token\");\n                }\n\n                @Override\n                public void onFailure(Throwable exc) {\n                    throw new RuntimeException(exc);\n                }\n            };\n\n            log.info(\"requesting token\");\n            Future&lt;AuthenticationResult&gt; future = context.acquireToken(RESOUCE,\n                    new ClientCredential(clientId, clientSecret), callback);\n\n            // wait for access token\n            AuthenticationResult result = future.get(30, TimeUnit.SECONDS);\n\n            // cache token and expiration\n            accessToken = result.getAccessToken();\n            expiryTimeMs = result.getExpiresAfter();\n        }\n\n        return accessToken;\n    }\n}\n</code></pre>\n\n<p>Here is an example using those token provider class above to list messages from an inbox and send an email:</p>\n\n<pre><code>import java.net.MalformedURLException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\n\nimport com.microsoft.aad.adal4j.AuthenticationCallback;\nimport com.microsoft.aad.adal4j.AuthenticationContext;\nimport com.microsoft.aad.adal4j.AuthenticationResult;\nimport com.microsoft.aad.adal4j.ClientCredential;\n\nimport microsoft.exchange.webservices.data.core.ExchangeService;\nimport microsoft.exchange.webservices.data.core.WebProxy;\nimport microsoft.exchange.webservices.data.core.enumeration.misc.ConnectingIdType;\nimport microsoft.exchange.webservices.data.core.enumeration.misc.ExchangeVersion;\nimport microsoft.exchange.webservices.data.misc.ImpersonatedUserId;\n/**\n * Entry point.\n * \n * @param args\n * @throws Exception\n */\npublic static void main(String[] args) throws Exception {\n\n    // Pro tip: make sure to set your proxy configuration here if needed \n    // and exclude outlook.office365.com from proxy SSL inspection.\n\n    String clientId = \"your AzureAD application client id\";\n    String clientSecret = \"your AzureAD application client secret\";\n    String tenantName = \"your tenant\";\n    String recipientAddr = \"recipient@yourdomain.com\";\n    String senderAddress = \"yourO365@mailbox.com\";\n\n    TraceListener traceListener = new ITraceListener() {\n\n        @Override\n        public void trace(String traceType, String traceMessage) {\n            // TODO log it, do whatever...\n\n        }\n    };\n\n    // I used a ManagedExecutorService provided by glassfish but you can \n    // use an ExecutorService and manage it yourself.\n    String token = MsEwsTokenProvider.getAccesToken(clientId, clientSecret, service);\n    // don't log this in production!\n    System.out.println(\"token=\" + token);\n\n    // test mailbox read access\n    System.out.println(\"geting emails\");\n    try (ExchangeService service = MsEwsTokenProvider.getAuthenticatedService(token, senderAddress)) {\n       listInboxMessages(service, senderAddress);\n    }\n\n    // send a message\n    System.out.println(\"sending a message\");\n    try (ExchangeService service = getAuthenticatedService(token, senderAddress, traceListener)) {\n       sendTestMessage(service, recipientAddr, senderAddress);\n    }\n\n    System.out.println(\"finished\");\n}\n\npublic static void sendTestMessage(ExchangeService service, String recipientAddr, String senderAddr)\n        throws Exception {\n    EmailMessage msg = new EmailMessage(service);\n    msg.setSubject(\"Hello world!\");\n    msg.setBody(MessageBody.getMessageBodyFromText(\"Sent using the EWS Java API.\"));\n    msg.getToRecipients().add(recipientAddr);\n    msg.send();\n    msg.setSender(new EmailAddress(senderAddr));\n}\n\npublic static void listInboxMessages(ExchangeService service, String mailboxAddr) throws Exception {\n    ItemView view = new ItemView(50);\n    Mailbox mb = new Mailbox(mailboxAddr);\n    FolderId folder = new FolderId(WellKnownFolderName.Inbox, mb);\n    FindItemsResults&lt;Item&gt; result = service.findItems(folder, view);\n    result.forEach(i -&gt; {\n        try {\n            System.out.println(\"subject=\" + i.getSubject());\n        } catch (ServiceLocalException e) {\n            e.printStackTrace();\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":2229557,"reputation":170,"user_id":1967517,"accept_rate":67,"display_name":"pranjaljain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11323,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":28434307,"answer_count":3,"score":5,"last_activity_date":1667296863,"creation_date":1423545098,"question_id":28424550,"body_markdown":"I want to use Oauth2 authentication for my app. I want to use EWS Java apis to fetch data from O365. Is it possible?\r\nDocument http://blogs.msdn.com/b/exchangedev/archive/2014/09/24/10510847.aspx\r\ntalks about fetching oauth token for REST apis should I use same document to fetch token to be used with EWS web services also?\r\nCan anyone share any code sample doing this with java.","title":"EWS java apis using Oauth2","body":"<p>I want to use Oauth2 authentication for my app. I want to use EWS Java apis to fetch data from O365. Is it possible?\nDocument <a href=\"http://blogs.msdn.com/b/exchangedev/archive/2014/09/24/10510847.aspx\" rel=\"noreferrer\">http://blogs.msdn.com/b/exchangedev/archive/2014/09/24/10510847.aspx</a>\ntalks about fetching oauth token for REST apis should I use same document to fetch token to be used with EWS web services also?\nCan anyone share any code sample doing this with java.</p>\n"},{"tags":["java","windows","java-8","db2","windows-server-2019"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1582768042,"post_id":60424085,"comment_id":106894315,"body_markdown":"Approximately how many rows is your project updating?","body":"Approximately how many rows is your project updating?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1582775310,"post_id":60424085,"comment_id":106895822,"body_markdown":"may be GC related?","body":"may be GC related?"},{"owner":{"account_id":16116436,"reputation":31,"user_id":11633420,"display_name":"Erick Figueroa"},"score":0,"creation_date":1582825395,"post_id":60424085,"comment_id":106919383,"body_markdown":"@Eugene why would it make a difference which server it&#39;s on if it&#39;s the same jdk?","body":"@Eugene why would it make a difference which server it&#39;s on if it&#39;s the same jdk?"},{"owner":{"account_id":137783,"reputation":269,"user_id":342245,"accept_rate":100,"display_name":"Ling"},"score":0,"creation_date":1587514367,"post_id":60424085,"comment_id":108540577,"body_markdown":"I am also experiencing the same issue when migrating the Windows Server 2008 R2 to Windows Sever 2019 with SSIS packages, it is much slower to load data between Sybase and SQL Server database in Windows Server 2019 with the same server configs :(","body":"I am also experiencing the same issue when migrating the Windows Server 2008 R2 to Windows Sever 2019 with SSIS packages, it is much slower to load data between Sybase and SQL Server database in Windows Server 2019 with the same server configs :("},{"owner":{"account_id":16116436,"reputation":31,"user_id":11633420,"display_name":"Erick Figueroa"},"score":0,"creation_date":1587608743,"post_id":60424085,"comment_id":108580576,"body_markdown":"@Ling out of curiosity, are you running this code on a virtual server? I have a suspicion that it may be an issue with the hypervisor not being supported according the oracle certified system configurations for JDK 8: https://www.oracle.com/java/technologies/javase/jdk-jre-8-cs-config.html","body":"@Ling out of curiosity, are you running this code on a virtual server? I have a suspicion that it may be an issue with the hypervisor not being supported according the oracle certified system configurations for JDK 8: <a href=\"https://www.oracle.com/java/technologies/javase/jdk-jre-8-cs-config.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/javase/jdk-jre-8-cs-config.html</a>"},{"owner":{"account_id":35683,"reputation":7004,"user_id":101151,"accept_rate":43,"display_name":"jla"},"score":0,"creation_date":1648001409,"post_id":60424085,"comment_id":126511571,"body_markdown":"I am seeing something similar, in a method doing lots of queries to a DB2 database in a loop. It takes 4-14 seconds on Win10, Server 2012R2 &amp; Server 2016 systems and 150 seconds on Server 2019. All co-located with Power9, &lt;1ms ping time. Queries run in a few ms on Power9 and it waits 30+ms between queries from the slow systems. On 2019 systems ~50% time consistently spent in ResultSet.getYYY(). On fast systems it ranges from 10-60%. jt400-jdk8-9.6 driver, jdk8 various versions (171, 202, 251, 321)","body":"I am seeing something similar, in a method doing lots of queries to a DB2 database in a loop. It takes 4-14 seconds on Win10, Server 2012R2 &amp; Server 2016 systems and 150 seconds on Server 2019. All co-located with Power9, &lt;1ms ping time. Queries run in a few ms on Power9 and it waits 30+ms between queries from the slow systems. On 2019 systems ~50% time consistently spent in ResultSet.getYYY(). On fast systems it ranges from 10-60%. jt400-jdk8-9.6 driver, jdk8 various versions (171, 202, 251, 321)"},{"owner":{"account_id":15220095,"reputation":113,"user_id":10982231,"display_name":"Abdul Hadee"},"score":0,"creation_date":1697108354,"post_id":60424085,"comment_id":136239518,"body_markdown":"did you find any solutions for the issue mentioned ? if so please update the answer.It will be helpful","body":"did you find any solutions for the issue mentioned ? if so please update the answer.It will be helpful"}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1600333752,"post_id":63934743,"comment_id":113056763,"body_markdown":"The OP also tested Java 8 Update 202, which is newer than the Java 8 Update 201 listed in that table.","body":"The OP also tested Java 8 Update 202, which is newer than the Java 8 Update 201 listed in that table."}],"tags":[],"owner":{"account_id":2328202,"reputation":1,"user_id":2042186,"display_name":"David Mendo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600333778,"creation_date":1600333498,"answer_id":63934743,"question_id":60424085,"body_markdown":"Java support Server 2019 after 1.8.0_201 only.\r\n\r\nhttps://www.oracle.com/java/technologies/javase/products-doc-jdk8-jre8-certconfig.html","title":"Java 8 Performance Issues In Windows Server 2019","body":"<p>Java support Server 2019 after 1.8.0_201 only.</p>\n<p><a href=\"https://www.oracle.com/java/technologies/javase/products-doc-jdk8-jre8-certconfig.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/products-doc-jdk8-jre8-certconfig.html</a></p>\n"},{"tags":[],"owner":{"account_id":2712388,"reputation":41,"user_id":2340523,"display_name":"Woo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667296824,"creation_date":1667296824,"answer_id":74274198,"question_id":60424085,"body_markdown":"Its due to a change in the Windows 2019 network algorithm.\r\nYou can disable this behavior by setting the &quot;TcpNoDelay&quot; property to true.\r\n\r\n\r\nhttps://sourceforge.net/p/jt400/bugs/454/","title":"Java 8 Performance Issues In Windows Server 2019","body":"<p>Its due to a change in the Windows 2019 network algorithm.\nYou can disable this behavior by setting the &quot;TcpNoDelay&quot; property to true.</p>\n<p><a href=\"https://sourceforge.net/p/jt400/bugs/454/\" rel=\"nofollow noreferrer\">https://sourceforge.net/p/jt400/bugs/454/</a></p>\n"}],"owner":{"account_id":16116436,"reputation":31,"user_id":11633420,"display_name":"Erick Figueroa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4237,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1667296824,"creation_date":1582759406,"question_id":60424085,"body_markdown":"I have recently migrated some scheduled jobs from a Windows Server 2012 virtual server to a new Windows Server 2019 virtual server, and have noticed some notable performance degradation in certain jobs. Particularly, jobs which communicate with our DB2 database using an AS400 JDBC connection pool data source. The database is hosted on an IBM iSeries AS/400.\r\n\r\nOn Windows Server 2019, using jdk1.8.0_131, I&#39;m running the following command:\r\n\r\n```\r\njava -jar myproject.jar\r\n```\r\n\r\nThis project simply connects to the DB2 database and executes an SQL update command. On other servers, the same command will take ~2.5 minutes, but on Windows Server 2019 it takes anywhere from 15 minutes to over an hour. I have monitored CPU, RAM, and network activity on the server and database while the job is running, and nothing stands out. Below are the results of testing on various operating systems and JDKs:\r\n\r\n&lt;pre&gt;\r\n| Server                              | JDK       | Runtime               |\r\n|-------------------------------------|-----------|-----------------------|\r\n| Windows Server 2012                 | 1.8.0_131 | ~2.5 minutes          |\r\n| Windows Server 2016 (Fresh Install) | 1.8.0_131 | ~2.5 minutes          |\r\n| Windows Server 2019 (Production)    | 1.8.0_131 | 15 minutes to an hour |\r\n| Windows Server 2019 (Fresh Install) | 1.8.0_131 | 15 minutes to an hour |\r\n| Windows Server 2019 (Fresh Install) | 1.8.0_202 | 15 minutes to an hour |\r\n&lt;/pre&gt;\r\n\r\nAs shown above, I tried on a fresh install of server 2016 and did not experience the performance issues, but when I tried on a fresh install of Windows Server 2019, I was able to replicate the performance degradation.\r\n\r\nThese are all virtual servers with the same amount of CPU, RAM, and running on the same host.","title":"Java 8 Performance Issues In Windows Server 2019","body":"<p>I have recently migrated some scheduled jobs from a Windows Server 2012 virtual server to a new Windows Server 2019 virtual server, and have noticed some notable performance degradation in certain jobs. Particularly, jobs which communicate with our DB2 database using an AS400 JDBC connection pool data source. The database is hosted on an IBM iSeries AS/400.</p>\n\n<p>On Windows Server 2019, using jdk1.8.0_131, I'm running the following command:</p>\n\n<pre><code>java -jar myproject.jar\n</code></pre>\n\n<p>This project simply connects to the DB2 database and executes an SQL update command. On other servers, the same command will take ~2.5 minutes, but on Windows Server 2019 it takes anywhere from 15 minutes to over an hour. I have monitored CPU, RAM, and network activity on the server and database while the job is running, and nothing stands out. Below are the results of testing on various operating systems and JDKs:</p>\n\n<pre>\n| Server                              | JDK       | Runtime               |\n|-------------------------------------|-----------|-----------------------|\n| Windows Server 2012                 | 1.8.0_131 | ~2.5 minutes          |\n| Windows Server 2016 (Fresh Install) | 1.8.0_131 | ~2.5 minutes          |\n| Windows Server 2019 (Production)    | 1.8.0_131 | 15 minutes to an hour |\n| Windows Server 2019 (Fresh Install) | 1.8.0_131 | 15 minutes to an hour |\n| Windows Server 2019 (Fresh Install) | 1.8.0_202 | 15 minutes to an hour |\n</pre>\n\n<p>As shown above, I tried on a fresh install of server 2016 and did not experience the performance issues, but when I tried on a fresh install of Windows Server 2019, I was able to replicate the performance degradation.</p>\n\n<p>These are all virtual servers with the same amount of CPU, RAM, and running on the same host.</p>\n"},{"tags":["java","multithreading","threadpool","future","futuretask"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":1,"creation_date":1667298057,"post_id":74262848,"comment_id":131130063,"body_markdown":"Try to not silently swallow all exceptions, as the truth may be hidden there.","body":"Try to not silently swallow all exceptions, as the truth may be hidden there."}],"answers":[{"comments":[{"owner":{"account_id":18449931,"reputation":9,"user_id":14010117,"display_name":"Sart"},"score":0,"creation_date":1667277540,"post_id":74263455,"comment_id":131125640,"body_markdown":"ok, so I have not written the RejectedExecutionHandler. But in my case, it gets executed smoothly if a delay is added. If some issue occurs or the executor has shut down, it should execute the task","body":"ok, so I have not written the RejectedExecutionHandler. But in my case, it gets executed smoothly if a delay is added. If some issue occurs or the executor has shut down, it should execute the task"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1667296175,"post_id":74263455,"comment_id":131129499,"body_markdown":"@Sart Edit the question with details of your cases where `future` is returned as null and there isn&#39;t a call to `RejectedExecutionHandler`, or any code that re-produces the issue.","body":"@Sart Edit the question with details of your cases where <code>future</code> is returned as null and there isn&#39;t a call to <code>RejectedExecutionHandler</code>, or any code that re-produces the issue."}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667296680,"creation_date":1667220187,"answer_id":74263455,"question_id":74262848,"body_markdown":"Most likely it is that the executor pool has been shutdown or encounted some issue. You&#39;ve not implemented the `RejectedExecutionHandler` very clearly, it just discards errors so you have no idea when they occur.\r\n\r\nYou can get more information on when / how any executor service issue occurs if you drop the last parameter to `new ScheduledThreadPoolExecutor` to remove the pointless handler `(runnable, pool) -&gt; {}`. This will instead use the default abort policy. \r\n\r\nAlternatively change your rejected handler so that it tells you of the problem when there is one:\r\n\r\n    (runnable, pool) -&gt; { \r\n        throw new RejectedExecutionException(&quot;*** FAILED ***&quot;\r\n                   +&quot; isShutdown()=&quot;+pool.isShutdown()\r\n                   +&quot; getActiveCount()=&quot;+pool.getActiveCount()\r\n                   +&quot; queue size=&quot;+pool.getQueue().size());\r\n    }\r\n\r\nWhen running with your original handler `(runnable, pool) -&gt; {}` you will need to check each call as you otherwise will have no indication of when there is an issue:\r\n\r\n    ScheduledFuture&lt;?&gt; future = executor.scheduleAtFixedRate(() -&gt; { ... }, 0, 10, TimeUnit.MINUTES);\r\n    if (future == null)\r\n       throw new RuntimeException(&quot;*** FAILED to add new action ***&quot;);\r\n\r\n  \r\n","title":"ScheduledFuture returns null when a task is submitted or scheduleAtFixedRate","body":"<p>Most likely it is that the executor pool has been shutdown or encounted some issue. You've not implemented the <code>RejectedExecutionHandler</code> very clearly, it just discards errors so you have no idea when they occur.</p>\n<p>You can get more information on when / how any executor service issue occurs if you drop the last parameter to <code>new ScheduledThreadPoolExecutor</code> to remove the pointless handler <code>(runnable, pool) -&gt; {}</code>. This will instead use the default abort policy.</p>\n<p>Alternatively change your rejected handler so that it tells you of the problem when there is one:</p>\n<pre><code>(runnable, pool) -&gt; { \n    throw new RejectedExecutionException(&quot;*** FAILED ***&quot;\n               +&quot; isShutdown()=&quot;+pool.isShutdown()\n               +&quot; getActiveCount()=&quot;+pool.getActiveCount()\n               +&quot; queue size=&quot;+pool.getQueue().size());\n}\n</code></pre>\n<p>When running with your original handler <code>(runnable, pool) -&gt; {}</code> you will need to check each call as you otherwise will have no indication of when there is an issue:</p>\n<pre><code>ScheduledFuture&lt;?&gt; future = executor.scheduleAtFixedRate(() -&gt; { ... }, 0, 10, TimeUnit.MINUTES);\nif (future == null)\n   throw new RuntimeException(&quot;*** FAILED to add new action ***&quot;);\n</code></pre>\n"}],"owner":{"account_id":18449931,"reputation":9,"user_id":14010117,"display_name":"Sart"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667296680,"creation_date":1667217064,"question_id":74262848,"body_markdown":"I am trying to schedule a job to run every 10 minutes using ScheduledThreadPoolExecutor. There are 10 threads in the thread pool. \r\nCode looks like:\r\n\r\n```\r\nScheduledThreadPoolExecutor executor = new ScheduledThreadPoolExecutor(10, r -&gt; {\r\n                    Thread t = new Thread(r);\r\n                    t.setName(&quot;thread&quot;);\r\n                    return t;\r\n                }, (runnable, pool) -&gt; {\r\n                });\r\n\r\nList&lt;ScheduledFuture&lt;?&gt;&gt; listOfFutures = new ArrayList&lt;&gt;();\r\n\r\nScheduledFuture&lt;?&gt; future = executor.scheduleAtFixedRate(() -&gt; {\r\n    try {\r\n        System.out.println(&quot;John is a good guy&quot;);\r\n    } catch (Exception e) {\r\n        // eat the exception\r\n    }\r\n}, 0, 10, TimeUnit.MINUTES);\r\n\r\nlistOfFutures.add(future);\r\n```\r\n\r\nNow, if 100 tasks were scheduled and their future were added to a list.\r\nWhen we try to iterate the list and do future.cancel(), out of 100, 2-3 futures turn out to be null.\r\n\r\nWhat is the possible reason here?\r\n\r\nI had to add an initial delay of 2 seconds in order to ensure that the future is not null. But I also have an ExecutorService with the same problem (future is null in few cases). But there is no delay that can be added there.","title":"ScheduledFuture returns null when a task is submitted or scheduleAtFixedRate","body":"<p>I am trying to schedule a job to run every 10 minutes using ScheduledThreadPoolExecutor. There are 10 threads in the thread pool.\nCode looks like:</p>\n<pre><code>ScheduledThreadPoolExecutor executor = new ScheduledThreadPoolExecutor(10, r -&gt; {\n                    Thread t = new Thread(r);\n                    t.setName(&quot;thread&quot;);\n                    return t;\n                }, (runnable, pool) -&gt; {\n                });\n\nList&lt;ScheduledFuture&lt;?&gt;&gt; listOfFutures = new ArrayList&lt;&gt;();\n\nScheduledFuture&lt;?&gt; future = executor.scheduleAtFixedRate(() -&gt; {\n    try {\n        System.out.println(&quot;John is a good guy&quot;);\n    } catch (Exception e) {\n        // eat the exception\n    }\n}, 0, 10, TimeUnit.MINUTES);\n\nlistOfFutures.add(future);\n</code></pre>\n<p>Now, if 100 tasks were scheduled and their future were added to a list.\nWhen we try to iterate the list and do future.cancel(), out of 100, 2-3 futures turn out to be null.</p>\n<p>What is the possible reason here?</p>\n<p>I had to add an initial delay of 2 seconds in order to ensure that the future is not null. But I also have an ExecutorService with the same problem (future is null in few cases). But there is no delay that can be added there.</p>\n"},{"tags":["java","jackson","lombok"],"comments":[{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1667292872,"post_id":74273290,"comment_id":131128610,"body_markdown":"There is not limits in type. Is it an root cause? I understand that there are unit tests and manual testing, but there is a huge system and it is too long to deploy or add such test case.","body":"There is not limits in type. Is it an root cause? I understand that there are unit tests and manual testing, but there is a huge system and it is too long to deploy or add such test case."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667293591,"post_id":74273290,"comment_id":131128780,"body_markdown":"Primitive `boolean` would be initialized to `false` by default (no extra actions required from you). In which forms `negate` property can come in JSON? Can you list all the cases?","body":"Primitive <code>boolean</code> would be initialized to <code>false</code> by default (no extra actions required from you). In which forms <code>negate</code> property can come in JSON? Can you list all the cases?"},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1667294571,"post_id":74273290,"comment_id":131129038,"body_markdown":"Either `negate` will miss at all, or set to `false` as boolean JSON type","body":"Either <code>negate</code> will miss at all, or set to <code>false</code> as boolean JSON type"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667296665,"creation_date":1667296003,"answer_id":74274042,"question_id":74273290,"body_markdown":"Using `Boolean` as a field type doesn&#39;t buy you anything, wrapper types are useful for storing in a Collection, and other when you need a reference type (you simply can&#39;t use primitive as a generic type in Java, at least for). In all other cases, use a plain primitive `boolean`, it&#39;s much cleaner in the first place because it has only two possible values `false` and `true` (`false` is the default one).\r\n\r\nIf you change the type of `negate` from wrapper-type to primitive `boolean` it would be deserialized as `false` when the property is missing in the incoming JSON without any extra annotations.\r\n\r\nConsider the following simplified class:\r\n\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public static class RelationEntityTypeFilter {\r\n        private boolean negate;\r\n    }\r\n\r\nDeserialization example:\r\n\r\n```\r\nString negateIsMissing = &quot;{ }&quot;;\r\nString negateIsFalse = &quot;&quot;&quot;\r\n    {\r\n        &quot;negate&quot; : &quot;false&quot;\r\n    }\r\n    &quot;&quot;&quot;;\r\n\r\nObjectMapper mapper = new ObjectMapper();\r\n    \r\nSystem.out.println(mapper.readValue(negateIsMissing, RelationEntityTypeFilter.class));\r\nSystem.out.println(mapper.readValue(negateIsFalse, RelationEntityTypeFilter.class));\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nRelationEntityTypeFilter(negate=false)\r\nRelationEntityTypeFilter(negate=false)\r\n```","title":"Default Lombok value for Jackson JsonSubTypes mapping","body":"<p>Using <code>Boolean</code> as a field type doesn't buy you anything, wrapper types are useful for storing in a Collection, and other when you need a reference type (you simply can't use primitive as a generic type in Java, at least for). In all other cases, use a plain primitive <code>boolean</code>, it's much cleaner in the first place because it has only two possible values <code>false</code> and <code>true</code> (<code>false</code> is the default one).</p>\n<p>If you change the type of <code>negate</code> from wrapper-type to primitive <code>boolean</code> it would be deserialized as <code>false</code> when the property is missing in the incoming JSON without any extra annotations.</p>\n<p>Consider the following simplified class:</p>\n<pre><code>@NoArgsConstructor\n@Getter\n@Setter\n@ToString\npublic static class RelationEntityTypeFilter {\n    private boolean negate;\n}\n</code></pre>\n<p>Deserialization example:</p>\n<pre><code>String negateIsMissing = &quot;{ }&quot;;\nString negateIsFalse = &quot;&quot;&quot;\n    {\n        &quot;negate&quot; : &quot;false&quot;\n    }\n    &quot;&quot;&quot;;\n\nObjectMapper mapper = new ObjectMapper();\n    \nSystem.out.println(mapper.readValue(negateIsMissing, RelationEntityTypeFilter.class));\nSystem.out.println(mapper.readValue(negateIsFalse, RelationEntityTypeFilter.class));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>RelationEntityTypeFilter(negate=false)\nRelationEntityTypeFilter(negate=false)\n</code></pre>\n"}],"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74274042,"answer_count":1,"score":0,"last_activity_date":1667296665,"creation_date":1667291423,"question_id":74273290,"body_markdown":"I want to add boolean field called `negate` to this class.\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@ApiModel\r\npublic class RelationEntityTypeFilter {\r\n\r\n    @ApiModelProperty(position = 1, value = &quot;Type of the relation between root entity and other entity (e.g. &#39;Contains&#39; or &#39;Manages&#39;).&quot;, example = &quot;Contains&quot;)\r\n    private String relationType;\r\n\r\n    @ApiModelProperty(position = 2, value = &quot;Array of entity types to filter the related entities (e.g. &#39;DEVICE&#39;, &#39;ASSET&#39;).&quot;)\r\n    private List&lt;EntityType&gt; entityTypes;\r\n\r\n    @ApiModelProperty(position = 3, value = &quot;Negate relation type between root entity and other entity.&quot;)\r\n    private Boolean negate = false;\r\n}\r\n```\r\n\r\n\r\n\r\nBut I got NullPointer on `relationEntityTypeFilter.getNegate()`, when controller receives such JSON as `{ &quot;relationType&quot;: &quot;Contains&quot;, &quot;entityTypes&quot;: []}`. In other words, `negate` field should be set to `false`, but this didn&#39;t happen\r\n\r\nHere is `JsonSubTypes`\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        include = JsonTypeInfo.As.PROPERTY,\r\n        property = &quot;type&quot;)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = SingleEntityFilter.class, name = &quot;singleEntity&quot;),\r\n        @JsonSubTypes.Type(value = EntityListFilter.class, name = &quot;entityList&quot;),\r\n        @JsonSubTypes.Type(value = EntityNameFilter.class, name = &quot;entityName&quot;),\r\n        @JsonSubTypes.Type(value = EntityTypeFilter.class, name = &quot;entityType&quot;),\r\n        @JsonSubTypes.Type(value = AssetTypeFilter.class, name = &quot;assetType&quot;),\r\n        @JsonSubTypes.Type(value = DeviceTypeFilter.class, name = &quot;deviceType&quot;),\r\n        @JsonSubTypes.Type(value = EdgeTypeFilter.class, name = &quot;edgeType&quot;),\r\n        @JsonSubTypes.Type(value = EntityViewTypeFilter.class, name = &quot;entityViewType&quot;),\r\n        @JsonSubTypes.Type(value = ApiUsageStateFilter.class, name = &quot;apiUsageState&quot;),\r\n        @JsonSubTypes.Type(value = RelationsQueryFilter.class, name = &quot;relationsQuery&quot;),\r\n        @JsonSubTypes.Type(value = AssetSearchQueryFilter.class, name = &quot;assetSearchQuery&quot;),\r\n        @JsonSubTypes.Type(value = DeviceSearchQueryFilter.class, name = &quot;deviceSearchQuery&quot;),\r\n        @JsonSubTypes.Type(value = EntityViewSearchQueryFilter.class, name = &quot;entityViewSearchQuery&quot;),\r\n        @JsonSubTypes.Type(value = EdgeSearchQueryFilter.class, name = &quot;edgeSearchQuery&quot;)})\r\npublic interface EntityFilter {\r\n\r\n    @JsonIgnore\r\n    EntityFilterType getType();\r\n}\r\n```\r\n```\r\n@Data\r\npublic class RelationsQueryFilter implements EntityFilter {\r\n\r\n    @Override\r\n    public EntityFilterType getType() {\r\n        return EntityFilterType.RELATIONS_QUERY;\r\n    }\r\n\r\n    private EntityId rootEntity;\r\n    private boolean isMultiRoot;\r\n    private EntityType multiRootEntitiesType;\r\n    private Set&lt;String&gt; multiRootEntityIds;\r\n    private EntitySearchDirection direction;\r\n    private List&lt;RelationEntityTypeFilter&gt; filters;\r\n    private int maxLevel;\r\n    private boolean fetchLastLevelOnly;\r\n\r\n}\r\n```\r\n","title":"Default Lombok value for Jackson JsonSubTypes mapping","body":"<p>I want to add boolean field called <code>negate</code> to this class.</p>\n<pre><code>@Data\n@AllArgsConstructor\n@ApiModel\npublic class RelationEntityTypeFilter {\n\n    @ApiModelProperty(position = 1, value = &quot;Type of the relation between root entity and other entity (e.g. 'Contains' or 'Manages').&quot;, example = &quot;Contains&quot;)\n    private String relationType;\n\n    @ApiModelProperty(position = 2, value = &quot;Array of entity types to filter the related entities (e.g. 'DEVICE', 'ASSET').&quot;)\n    private List&lt;EntityType&gt; entityTypes;\n\n    @ApiModelProperty(position = 3, value = &quot;Negate relation type between root entity and other entity.&quot;)\n    private Boolean negate = false;\n}\n</code></pre>\n<p>But I got NullPointer on <code>relationEntityTypeFilter.getNegate()</code>, when controller receives such JSON as <code>{ &quot;relationType&quot;: &quot;Contains&quot;, &quot;entityTypes&quot;: []}</code>. In other words, <code>negate</code> field should be set to <code>false</code>, but this didn't happen</p>\n<p>Here is <code>JsonSubTypes</code></p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        include = JsonTypeInfo.As.PROPERTY,\n        property = &quot;type&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = SingleEntityFilter.class, name = &quot;singleEntity&quot;),\n        @JsonSubTypes.Type(value = EntityListFilter.class, name = &quot;entityList&quot;),\n        @JsonSubTypes.Type(value = EntityNameFilter.class, name = &quot;entityName&quot;),\n        @JsonSubTypes.Type(value = EntityTypeFilter.class, name = &quot;entityType&quot;),\n        @JsonSubTypes.Type(value = AssetTypeFilter.class, name = &quot;assetType&quot;),\n        @JsonSubTypes.Type(value = DeviceTypeFilter.class, name = &quot;deviceType&quot;),\n        @JsonSubTypes.Type(value = EdgeTypeFilter.class, name = &quot;edgeType&quot;),\n        @JsonSubTypes.Type(value = EntityViewTypeFilter.class, name = &quot;entityViewType&quot;),\n        @JsonSubTypes.Type(value = ApiUsageStateFilter.class, name = &quot;apiUsageState&quot;),\n        @JsonSubTypes.Type(value = RelationsQueryFilter.class, name = &quot;relationsQuery&quot;),\n        @JsonSubTypes.Type(value = AssetSearchQueryFilter.class, name = &quot;assetSearchQuery&quot;),\n        @JsonSubTypes.Type(value = DeviceSearchQueryFilter.class, name = &quot;deviceSearchQuery&quot;),\n        @JsonSubTypes.Type(value = EntityViewSearchQueryFilter.class, name = &quot;entityViewSearchQuery&quot;),\n        @JsonSubTypes.Type(value = EdgeSearchQueryFilter.class, name = &quot;edgeSearchQuery&quot;)})\npublic interface EntityFilter {\n\n    @JsonIgnore\n    EntityFilterType getType();\n}\n</code></pre>\n<pre><code>@Data\npublic class RelationsQueryFilter implements EntityFilter {\n\n    @Override\n    public EntityFilterType getType() {\n        return EntityFilterType.RELATIONS_QUERY;\n    }\n\n    private EntityId rootEntity;\n    private boolean isMultiRoot;\n    private EntityType multiRootEntitiesType;\n    private Set&lt;String&gt; multiRootEntityIds;\n    private EntitySearchDirection direction;\n    private List&lt;RelationEntityTypeFilter&gt; filters;\n    private int maxLevel;\n    private boolean fetchLastLevelOnly;\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","instrumentation","javaagents"],"comments":[{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1665434591,"post_id":74020234,"comment_id":130695397,"body_markdown":"You&#39;re trying to unpack an uber jar?","body":"You&#39;re trying to unpack an uber jar?"},{"owner":{"account_id":2512125,"reputation":498,"user_id":2184337,"accept_rate":82,"display_name":"WannabeCoder"},"score":0,"creation_date":1665434954,"post_id":74020234,"comment_id":130695511,"body_markdown":"@Stewart I&#39;m not sure what you mean. All I&#39;m trying to do is reference a packaged dependency (the instrumentation JAR tooling.jar) that is inside the application JAR (packaged by Maven). It&#39;s going to take me a while to set up a test case, so I wanted to see if what I was doing was possible and/or recommended. The lack of information on the subject is usually an indicator that the solution is obvious and I&#39;m missing something.","body":"@Stewart I&#39;m not sure what you mean. All I&#39;m trying to do is reference a packaged dependency (the instrumentation JAR tooling.jar) that is inside the application JAR (packaged by Maven). It&#39;s going to take me a while to set up a test case, so I wanted to see if what I was doing was possible and/or recommended. The lack of information on the subject is usually an indicator that the solution is obvious and I&#39;m missing something."},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1665435510,"post_id":74020234,"comment_id":130695655,"body_markdown":"Does your packaging tool preserve the fully qualified class names, ie, the package names, etc?  If so ... does it work to try `java -javaagent:myapplication.jar -jar myapplication.jar`","body":"Does your packaging tool preserve the fully qualified class names, ie, the package names, etc?  If so ... does it work to try <code>java -javaagent:myapplication.jar -jar myapplication.jar</code>"},{"owner":{"account_id":2512125,"reputation":498,"user_id":2184337,"accept_rate":82,"display_name":"WannabeCoder"},"score":1,"creation_date":1665439301,"post_id":74020234,"comment_id":130696542,"body_markdown":"I am unsure how Maven handles the build process regarding class names. I did manage to find a possible-duplicate that indicates what I want is impossible: https://stackoverflow.com/questions/27424364/specifying-a-javaagent-within-the-jar-file-to-be-run","body":"I am unsure how Maven handles the build process regarding class names. I did manage to find a possible-duplicate that indicates what I want is impossible: <a href=\"https://stackoverflow.com/questions/27424364/specifying-a-javaagent-within-the-jar-file-to-be-run\" title=\"specifying a javaagent within the jar file to be run\">stackoverflow.com/questions/27424364/&hellip;</a>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1668331488,"post_id":74020234,"comment_id":131375310,"body_markdown":"How about some feedback to my answer? I think it is rather impolite to ask for help in public and then keep your helpers waiting.","body":"How about some feedback to my answer? I think it is rather impolite to ask for help in public and then keep your helpers waiting."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667295121,"creation_date":1667295121,"answer_id":74273884,"question_id":74020234,"body_markdown":"You can attach a Java agent either via `-javaagent:/my/own/agent.jar` like you already do or during runtime. But in both cases, the agent **has** to be a regular file on a file system. Agents cannot be loaded any other way.\r\n\r\nTherefore, either you need to deploy the agent to your target execution environment separately, or you need to bootstrap by extracting it manually from your uber JAR during application start-up and then hot-attach it **before** loading any of the classes you wish to instrument.","title":"How do I reference a runtime Maven dependency in the the java CLI?","body":"<p>You can attach a Java agent either via <code>-javaagent:/my/own/agent.jar</code> like you already do or during runtime. But in both cases, the agent <strong>has</strong> to be a regular file on a file system. Agents cannot be loaded any other way.</p>\n<p>Therefore, either you need to deploy the agent to your target execution environment separately, or you need to bootstrap by extracting it manually from your uber JAR during application start-up and then hot-attach it <strong>before</strong> loading any of the classes you wish to instrument.</p>\n"}],"owner":{"account_id":2512125,"reputation":498,"user_id":2184337,"accept_rate":82,"display_name":"WannabeCoder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667295121,"creation_date":1665432672,"question_id":74020234,"body_markdown":"I need to add an instrumentation JAR to my Java command line. If possible, I want to this argument to reference a JAR included in my Maven dependencies. As an example:\r\n\r\n    java -javaagent:tooling.jar -jar myapplication.jar\r\n\r\nThis &quot;tooling.jar&quot; does not exist as an explicit file in the filesystem. Instead, it is listed as a runtime dependency in Maven:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\r\n       &lt;artifactId&gt;tooling&lt;/artifactId&gt;\r\n       &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf it&#39;s relevant, I&#39;m using Java 11 and Spring Boot.\r\n\r\nThe purpose of this is to avoid having to move two separate JAR files to every run environment (for technical reasons I am only able to deploy the application JAR). As far as I can tell there&#39;s nothing technically wrong with this approach, as the JAR does exist - it is just wrapped into the application JAR. However, nowhere that I&#39;ve found has described this process, so I wonder if I&#39;m doing something terribly wrong. I haven&#39;t been able to test this yet. Is this a valid pattern and what is the appropriate syntax for it?","title":"How do I reference a runtime Maven dependency in the the java CLI?","body":"<p>I need to add an instrumentation JAR to my Java command line. If possible, I want to this argument to reference a JAR included in my Maven dependencies. As an example:</p>\n<pre><code>java -javaagent:tooling.jar -jar myapplication.jar\n</code></pre>\n<p>This &quot;tooling.jar&quot; does not exist as an explicit file in the filesystem. Instead, it is listed as a runtime dependency in Maven:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\n   &lt;artifactId&gt;tooling&lt;/artifactId&gt;\n   &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If it's relevant, I'm using Java 11 and Spring Boot.</p>\n<p>The purpose of this is to avoid having to move two separate JAR files to every run environment (for technical reasons I am only able to deploy the application JAR). As far as I can tell there's nothing technically wrong with this approach, as the JAR does exist - it is just wrapped into the application JAR. However, nowhere that I've found has described this process, so I wonder if I'm doing something terribly wrong. I haven't been able to test this yet. Is this a valid pattern and what is the appropriate syntax for it?</p>\n"},{"tags":["java","vue.js","nuxt.js","dwt","dynamsoft"],"comments":[{"owner":{"account_id":12055478,"reputation":41917,"user_id":8816585,"display_name":"kissu"},"score":1,"creation_date":1620750349,"post_id":67490083,"comment_id":119291105,"body_markdown":"Alright, please give us more context and debugging info than just this please. What even is `dwt-resources`?","body":"Alright, please give us more context and debugging info than just this please. What even is <code>dwt-resources</code>?"}],"answers":[{"tags":[],"owner":{"account_id":323781,"reputation":11805,"user_id":644010,"accept_rate":73,"display_name":"yushulx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667295046,"creation_date":1667295046,"answer_id":74273874,"question_id":67490083,"body_markdown":"The resource folder is located at the root directory of the project.\r\n\r\nSo change \r\n\r\n```vue\r\nDynamsoft.DWT.ResourcesPath = &quot;dwt-resources&quot;\r\n```\r\n\r\nto \r\n\r\n```vue\r\nDynamsoft.DWT.ResourcesPath = &quot;/dwt-resources&quot;\r\n```\r\n","title":"i not get dynamsoft ResourcesPath","body":"<p>The resource folder is located at the root directory of the project.</p>\n<p>So change</p>\n<pre><code>Dynamsoft.DWT.ResourcesPath = &quot;dwt-resources&quot;\n</code></pre>\n<p>to</p>\n<pre><code>Dynamsoft.DWT.ResourcesPath = &quot;/dwt-resources&quot;\n</code></pre>\n"}],"owner":{"account_id":8050867,"reputation":1,"user_id":6069444,"display_name":"sorasak menphurk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667295046,"creation_date":1620747723,"question_id":67490083,"body_markdown":"&lt;code&gt;Dynamsoft.DWT.ResourcesPath = &quot;dwt-resources&quot;&lt;/code&gt;\r\n\r\nPackege.json\r\n\r\n```json\r\n&quot;scripts&quot;: {\r\n  &quot;dev&quot;: &quot;ncp node_modules/dwt/dist static/dwt-resources &amp;&amp; nuxt&quot;,\r\n  &quot;build&quot;: &quot;nuxt build&quot;,\r\n  &quot;start&quot;: &quot;nuxt start&quot;,\r\n  &quot;generate&quot;: &quot;nuxt generate &amp;&amp; ncp node_modules/dwt/dist dist/dwt-resources&quot;\r\n}\r\n```\r\n\r\nI use framwork nuxt js but error get path.","title":"i not get dynamsoft ResourcesPath","body":"<p><code>Dynamsoft.DWT.ResourcesPath = &quot;dwt-resources&quot;</code></p>\n<p>Packege.json</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;scripts&quot;: {\n  &quot;dev&quot;: &quot;ncp node_modules/dwt/dist static/dwt-resources &amp;&amp; nuxt&quot;,\n  &quot;build&quot;: &quot;nuxt build&quot;,\n  &quot;start&quot;: &quot;nuxt start&quot;,\n  &quot;generate&quot;: &quot;nuxt generate &amp;&amp; ncp node_modules/dwt/dist dist/dwt-resources&quot;\n}\n</code></pre>\n<p>I use framwork nuxt js but error get path.</p>\n"},{"tags":["java","linux","uid"],"answers":[{"comments":[{"owner":{"account_id":20026,"reputation":80588,"user_id":47453,"accept_rate":88,"display_name":"Bill Lynch"},"score":0,"creation_date":1295973739,"post_id":4796235,"comment_id":5314077,"body_markdown":"It would be much easier to parse if you executed &quot;id -n&quot;","body":"It would be much easier to parse if you executed &quot;id -n&quot;"},{"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"score":2,"creation_date":1295973845,"post_id":4796235,"comment_id":5314103,"body_markdown":"`id -u &lt;user&gt;` will only print the UID.","body":"<code>id -u &lt;user&gt;</code> will only print the UID."},{"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"score":0,"creation_date":1295974138,"post_id":4796235,"comment_id":5314190,"body_markdown":"The OP already has the username from `System.getProperty(&quot;user.name&quot;)`.","body":"The OP already has the username from <code>System.getProperty(&quot;user.name&quot;)</code>."},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1295975502,"post_id":4796235,"comment_id":5314520,"body_markdown":"@Anto there are lots of possibility to play with it","body":"@Anto there are lots of possibility to play with it"}],"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1295974027,"creation_date":1295973492,"answer_id":4796235,"question_id":4796172,"body_markdown":"you can execute `id` command and read result.\r\n\r\nfor example:   \r\n\r\n`$ id -u jigar`\r\n\r\noutput:\r\n\r\n&gt;1000\r\n\r\n\r\n\r\nyou can execute command by\r\n\r\n    try {\r\n        String userName = System.getProperty(&quot;user.name&quot;);\r\n        String command = &quot;id -u &quot;+userName;\r\n        Process child = Runtime.getRuntime().exec(command);\r\n    \r\n        // Get the input stream and read from it\r\n        InputStream in = child.getInputStream();\r\n        int c;\r\n        while ((c = in.read()) != -1) {\r\n            process((char)c);\r\n        }\r\n        in.close();\r\n    } catch (IOException e) {\r\n    }\r\n\r\n[source][1]\r\n\r\n\r\n  [1]: http://www.exampledepot.com/egs/java.lang/ReadFromCommand.html\r\n\r\n","title":"Is there a way to get user&#39;s UID on Linux machine using java?","body":"<p>you can execute <code>id</code> command and read result.</p>\n\n<p>for example:   </p>\n\n<p><code>$ id -u jigar</code></p>\n\n<p>output:</p>\n\n<blockquote>\n  <p>1000</p>\n</blockquote>\n\n<p>you can execute command by</p>\n\n<pre><code>try {\n    String userName = System.getProperty(\"user.name\");\n    String command = \"id -u \"+userName;\n    Process child = Runtime.getRuntime().exec(command);\n\n    // Get the input stream and read from it\n    InputStream in = child.getInputStream();\n    int c;\n    while ((c = in.read()) != -1) {\n        process((char)c);\n    }\n    in.close();\n} catch (IOException e) {\n}\n</code></pre>\n\n<p><a href=\"http://www.exampledepot.com/egs/java.lang/ReadFromCommand.html\" rel=\"noreferrer\">source</a></p>\n"},{"tags":[],"owner":{"display_name":"user346034"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1295974814,"creation_date":1295974814,"answer_id":4796516,"question_id":4796172,"body_markdown":"If you can influence how the Java VM is started, you could handover the *uid* as a user property:\r\n\r\n    java -Duserid=$(id -u) CoolApp\r\n\r\nIn your CoolApp, you could simply fetch the ID with:\r\n\r\n    System.getProperty(&quot;userid&quot;);\r\n\r\nRegards,\r\n\r\nMartin.","title":"Is there a way to get user&#39;s UID on Linux machine using java?","body":"<p>If you can influence how the Java VM is started, you could handover the <em>uid</em> as a user property:</p>\n\n<pre><code>java -Duserid=$(id -u) CoolApp\n</code></pre>\n\n<p>In your CoolApp, you could simply fetch the ID with:</p>\n\n<pre><code>System.getProperty(\"userid\");\n</code></pre>\n\n<p>Regards,</p>\n\n<p>Martin.</p>\n"},{"comments":[{"owner":{"account_id":108913,"reputation":18431,"user_id":288875,"accept_rate":50,"display_name":"Andre Holzner"},"score":2,"creation_date":1374067414,"post_id":4796556,"comment_id":25793149,"body_markdown":"that does not work on systems using other methods for keeping the user database e.g. [NIS](http://en.wikipedia.org/wiki/Network_Information_Service) or [LDAP](http://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol) etc. (typically used on clusters)","body":"that does not work on systems using other methods for keeping the user database e.g. <a href=\"http://en.wikipedia.org/wiki/Network_Information_Service\" rel=\"nofollow noreferrer\">NIS</a> or <a href=\"http://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol\" rel=\"nofollow noreferrer\">LDAP</a> etc. (typically used on clusters)"}],"tags":[],"owner":{"account_id":72628,"reputation":32475,"user_id":209629,"accept_rate":58,"display_name":"vz0"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1295975012,"creation_date":1295975012,"answer_id":4796556,"question_id":4796172,"body_markdown":"Just open the `/etc/passwd` file and search for the line that has a user equal to `System.getProperty(&quot;user.name&quot;)`.","title":"Is there a way to get user&#39;s UID on Linux machine using java?","body":"<p>Just open the <code>/etc/passwd</code> file and search for the line that has a user equal to <code>System.getProperty(\"user.name\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":23933,"reputation":7284,"user_id":60462,"accept_rate":71,"display_name":"Volker Stolz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1295977334,"creation_date":1295977334,"answer_id":4796952,"question_id":4796172,"body_markdown":"Another choice would be calling getuid() using JNI.","title":"Is there a way to get user&#39;s UID on Linux machine using java?","body":"<p>Another choice would be calling getuid() using JNI.</p>\n"},{"comments":[{"owner":{"account_id":3863641,"reputation":13385,"user_id":3200716,"display_name":"Graham"},"score":0,"creation_date":1554152254,"post_id":55096952,"comment_id":97639207,"body_markdown":"This looks to be Oracle specific and does not work with OpenJDK","body":"This looks to be Oracle specific and does not work with OpenJDK"},{"owner":{"account_id":346396,"reputation":4063,"user_id":679892,"display_name":"Erik Martino"},"score":1,"creation_date":1556537945,"post_id":55096952,"comment_id":98460785,"body_markdown":"Works in OpenJDK too, tested on java-11-openjdk-devel-11.0.3.7","body":"Works in OpenJDK too, tested on java-11-openjdk-devel-11.0.3.7"},{"owner":{"account_id":346396,"reputation":4063,"user_id":679892,"display_name":"Erik Martino"},"score":0,"creation_date":1556538411,"post_id":55096952,"comment_id":98461011,"body_markdown":"On Mac and Linux, I am in doubt about Solaris though.","body":"On Mac and Linux, I am in doubt about Solaris though."},{"owner":{"account_id":2658346,"reputation":1306,"user_id":2298578,"display_name":"Matthias"},"score":0,"creation_date":1641404153,"post_id":55096952,"comment_id":124798111,"body_markdown":"However not an option under Java 8.","body":"However not an option under Java 8."}],"tags":[],"owner":{"account_id":346396,"reputation":4063,"user_id":679892,"display_name":"Erik Martino"},"comment_count":4,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1552289114,"creation_date":1552289114,"answer_id":55096952,"question_id":4796172,"body_markdown":"There is actually an api for this. There is no need to call a shell command or use JNI, just\r\n\r\n    def uid = new com.sun.security.auth.module.UnixSystem().getUid()\r\n\r\n\r\n","title":"Is there a way to get user&#39;s UID on Linux machine using java?","body":"<p>There is actually an api for this. There is no need to call a shell command or use JNI, just</p>\n\n<pre><code>def uid = new com.sun.security.auth.module.UnixSystem().getUid()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3694260,"reputation":356,"user_id":3076105,"display_name":"user3076105"},"score":1,"creation_date":1684533106,"post_id":74273652,"comment_id":134536394,"body_markdown":"On some systems (e.g. Linux) `(Integer)Files.getAttribute(Paths.get(&quot;/proc/self&quot;), &quot;unix:uid&quot;)` works for running process&#39;s UID","body":"On some systems (e.g. Linux) <code>(Integer)Files.getAttribute(Paths.get(&quot;&#47;proc&#47;self&quot;), &quot;unix:uid&quot;)</code> works for running process&#39;s UID"}],"tags":[],"owner":{"account_id":4992892,"reputation":4470,"user_id":4014509,"accept_rate":77,"display_name":"Sebastian S"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667294893,"creation_date":1667293777,"answer_id":74273652,"question_id":4796172,"body_markdown":"Just for the sake of completeness, here is a Java-only solution without any need for JNI, child processes or private API.\r\n\r\n**A word of warning**: This relies on the user home directory, which is not at all required to match the owner of the currently running Java process. Be sure about your targeted system environment, before blindly relying on this:\r\n\r\n```java\r\nPath userHome = Paths.get(System.getProperty(&quot;user.home&quot;));\r\nint uid = (Integer)Files.getAttribute(userHome, &quot;unix:uid&quot;)\r\n```","title":"Is there a way to get user&#39;s UID on Linux machine using java?","body":"<p>Just for the sake of completeness, here is a Java-only solution without any need for JNI, child processes or private API.</p>\n<p><strong>A word of warning</strong>: This relies on the user home directory, which is not at all required to match the owner of the currently running Java process. Be sure about your targeted system environment, before blindly relying on this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path userHome = Paths.get(System.getProperty(&quot;user.home&quot;));\nint uid = (Integer)Files.getAttribute(userHome, &quot;unix:uid&quot;)\n</code></pre>\n"}],"owner":{"account_id":91815,"reputation":7433,"user_id":251931,"accept_rate":75,"display_name":"kofucii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20215,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":4796235,"answer_count":6,"score":19,"last_activity_date":1667294893,"creation_date":1295973198,"question_id":4796172,"body_markdown":"Is there a way to get user&#39;s UID on Linux machine using java? I&#39;m aware of `System.getProperty(&quot;user.name&quot;);` method, but it return&#39;s user name and I&#39;m looking for UID.","title":"Is there a way to get user&#39;s UID on Linux machine using java?","body":"<p>Is there a way to get user's UID on Linux machine using java? I'm aware of <code>System.getProperty(\"user.name\");</code> method, but it return's user name and I'm looking for UID.</p>\n"},{"tags":["java","stream","distinct"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1667203624,"post_id":74260135,"comment_id":131106428,"body_markdown":"I cannot reproduce. What Java version and implementation do you use?","body":"I cannot reproduce. What Java version and implementation do you use?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1667204709,"post_id":74260135,"comment_id":131106679,"body_markdown":"Why are you turning a `Stream&lt;TestBean&gt;` into a `Stream&lt;List&lt;TestBean&gt;&gt;` (with each list having exactly one element), only to turn it back into a `Stream&lt;TestBean&gt;` with the `flatMap` operation?","body":"Why are you turning a <code>Stream&lt;TestBean&gt;</code> into a <code>Stream&lt;List&lt;TestBean&gt;&gt;</code> (with each list having exactly one element), only to turn it back into a <code>Stream&lt;TestBean&gt;</code> with the <code>flatMap</code> operation?"},{"owner":{"account_id":19730585,"reputation":1,"user_id":14446151,"display_name":"imlegend"},"score":0,"creation_date":1667205814,"post_id":74260135,"comment_id":131107025,"body_markdown":"1. java 8 and lombok package should be available for this test","body":"1. java 8 and lombok package should be available for this test"},{"owner":{"account_id":19730585,"reputation":1,"user_id":14446151,"display_name":"imlegend"},"score":0,"creation_date":1667205963,"post_id":74260135,"comment_id":131107067,"body_markdown":"2. In my code logic, Stream&lt;TestBean&gt; may produce a Stream&lt;List&lt;TestBean&gt; (with each list may have more than one element, but in this test, it does not exists).","body":"2. In my code logic, Stream&lt;TestBean&gt; may produce a Stream&lt;List&lt;TestBean&gt; (with each list may have more than one element, but in this test, it does not exists)."},{"owner":{"display_name":"user17233545"},"score":3,"creation_date":1667210079,"post_id":74260135,"comment_id":131108255,"body_markdown":"Don&#39;t modify the elements during intermediate processing of the stream.","body":"Don&#39;t modify the elements during intermediate processing of the stream."}],"answers":[{"comments":[{"owner":{"account_id":19730585,"reputation":1,"user_id":14446151,"display_name":"imlegend"},"score":0,"creation_date":1667273440,"post_id":74262082,"comment_id":131125131,"body_markdown":"As you mentioned, the first `TestBean(col=bb)` may change to `TestBean(col=bb_t)` before the final `TestBean(col=bb)` is handled by distinct().   So i changed my last TestBean from `bb` to `bb_t`, what  i expect  is a two-element list. However the result is a three-element list.","body":"As you mentioned, the first <code>TestBean(col=bb)</code> may change to <code>TestBean(col=bb_t)</code> before the final <code>TestBean(col=bb)</code> is handled by distinct().   So i changed my last TestBean from <code>bb</code> to <code>bb_t</code>, what  i expect  is a two-element list. However the result is a three-element list."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1667290199,"post_id":74262082,"comment_id":131127950,"body_markdown":"@imlegend Fiddling with the input data and hoping the evaluation is in a particular order isn&#39;t a good way to develop or test. You should be able to confirm what I said as mentioned above: &quot;verify by re-processing the stream without the &quot;.map()&quot; side effect or add .distinct() after .map().&quot;","body":"@imlegend Fiddling with the input data and hoping the evaluation is in a particular order isn&#39;t a good way to develop or test. You should be able to confirm what I said as mentioned above: &quot;verify by re-processing the stream without the &quot;.map()&quot; side effect or add .distinct() after .map().&quot;"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1667291336,"post_id":74262082,"comment_id":131128243,"body_markdown":"Sets (and maps) often use hashcode to split items into internal tables. If key&#39;s hashcode() changes after insertion then the set does not move a previously hashed item. This means it may still appear to have 3 distinct items.","body":"Sets (and maps) often use hashcode to split items into internal tables. If key&#39;s hashcode() changes after insertion then the set does not move a previously hashed item. This means it may still appear to have 3 distinct items."},{"owner":{"account_id":19730585,"reputation":1,"user_id":14446151,"display_name":"imlegend"},"score":0,"creation_date":1667293800,"post_id":74262082,"comment_id":131128834,"body_markdown":"Thanks a lotI already notice the problems and will not make the same mistake again. I just want to know the real processing flow.","body":"Thanks a lotI already notice the problems and will not make the same mistake again. I just want to know the real processing flow."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1667294030,"post_id":74262082,"comment_id":131128884,"body_markdown":"I&#39;ve added an example which might help demonstrate the issue you are seeing.","body":"I&#39;ve added an example which might help demonstrate the issue you are seeing."}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667294430,"creation_date":1667213074,"answer_id":74262082,"question_id":74260135,"body_markdown":"The `distinct()` operation is filtering the set of items in the stream using `Object.equals(Object)`.\r\n\r\nHowever you are mutating the items as they are streamed - **a very bad idea for `Set` operations** - so in theory it is possible in your runs that the first `TestBean(col=bb)` is changed to `TestBean(col=bb_t)` before the final `TestBean(col=bb)` is handled by distinct(). Therefore at that moment there are 3 unique items in the stream seen by the `distinct()` step and the last `.map()` sees all three items.\r\n\r\nYou can verify by re-processing the stream without the &quot;.map()&quot; side effect or add `.distinct()` after `.map()`.\r\n\r\nTakeaway from this: Don&#39;t use distinct() or other set like operations on data structures that change fields used in `equals()` or `hashCode()` as this gives misleading / duplicates into `set.add()` operations. This is where Java records are useful as they cannot be changed and would eliminate errors from these type of side-effects:\r\n\r\n    record TestBean(String col) {}\r\n\r\n**Example**\r\n\r\nThe `@EqualsAndHashCode` tag on `TestBean` is generating the `equals` and `hashCode` calls which are essential for `Set` / `distinct()` operations to work. If the hashcode/equals changes after adding an item, the set won&#39;t work properly as it fails to match up the previous element as being a duplicate of a newly added element. Consider this simpler definition of TestBean which add same instance 5 times:\r\n\r\n    public static void main(String... args) {\r\n        class TestBean {\r\n            String col;\r\n            TestBean(String col) {\r\n                this.col = col;\r\n            }\r\n            // This is bad choice hashCode as it changes if &quot;col&quot; is changed:\r\n            public int hashCode() {\r\n                return col.hashCode();\r\n            }\r\n        }\r\n        Set&lt;TestBean&gt; set = new HashSet&lt;&gt;();\r\n        TestBean x = new TestBean(&quot;bb&quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            System.out.println(&quot;set.add(x)=&quot;+set.add(x));\r\n            System.out.println(&quot;set.size()=&quot;+set.size());\r\n            // Comment out next line or whole hashCode method:\r\n            x.col += &quot;_t&quot;;\r\n        }\r\n    }\r\n\r\nRun the above which adds same element to a set 5 times. You will see that `set.size()` may be 5 not 1. Comment out the line which causes the hashcode to change - or the `hashCode()` method, and `set.size()=1` as expected.\r\n","title":"Get unexpected result while using Java 8 Lambda Expression","body":"<p>The <code>distinct()</code> operation is filtering the set of items in the stream using <code>Object.equals(Object)</code>.</p>\n<p>However you are mutating the items as they are streamed - <strong>a very bad idea for <code>Set</code> operations</strong> - so in theory it is possible in your runs that the first <code>TestBean(col=bb)</code> is changed to <code>TestBean(col=bb_t)</code> before the final <code>TestBean(col=bb)</code> is handled by distinct(). Therefore at that moment there are 3 unique items in the stream seen by the <code>distinct()</code> step and the last <code>.map()</code> sees all three items.</p>\n<p>You can verify by re-processing the stream without the &quot;.map()&quot; side effect or add <code>.distinct()</code> after <code>.map()</code>.</p>\n<p>Takeaway from this: Don't use distinct() or other set like operations on data structures that change fields used in <code>equals()</code> or <code>hashCode()</code> as this gives misleading / duplicates into <code>set.add()</code> operations. This is where Java records are useful as they cannot be changed and would eliminate errors from these type of side-effects:</p>\n<pre><code>record TestBean(String col) {}\n</code></pre>\n<p><strong>Example</strong></p>\n<p>The <code>@EqualsAndHashCode</code> tag on <code>TestBean</code> is generating the <code>equals</code> and <code>hashCode</code> calls which are essential for <code>Set</code> / <code>distinct()</code> operations to work. If the hashcode/equals changes after adding an item, the set won't work properly as it fails to match up the previous element as being a duplicate of a newly added element. Consider this simpler definition of TestBean which add same instance 5 times:</p>\n<pre><code>public static void main(String... args) {\n    class TestBean {\n        String col;\n        TestBean(String col) {\n            this.col = col;\n        }\n        // This is bad choice hashCode as it changes if &quot;col&quot; is changed:\n        public int hashCode() {\n            return col.hashCode();\n        }\n    }\n    Set&lt;TestBean&gt; set = new HashSet&lt;&gt;();\n    TestBean x = new TestBean(&quot;bb&quot;);\n    for (int i = 0; i &lt; 5; i++) {\n        System.out.println(&quot;set.add(x)=&quot;+set.add(x));\n        System.out.println(&quot;set.size()=&quot;+set.size());\n        // Comment out next line or whole hashCode method:\n        x.col += &quot;_t&quot;;\n    }\n}\n</code></pre>\n<p>Run the above which adds same element to a set 5 times. You will see that <code>set.size()</code> may be 5 not 1. Comment out the line which causes the hashcode to change - or the <code>hashCode()</code> method, and <code>set.size()=1</code> as expected.</p>\n"}],"owner":{"account_id":19730585,"reputation":1,"user_id":14446151,"display_name":"imlegend"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667294430,"creation_date":1667202403,"question_id":74260135,"body_markdown":"I have changed my Test to make it reproduce easier: \r\nMinimize Test\r\n``` java\r\npublic class test {\r\n    public static void main(String[] args) {\r\n        List&lt;TestBean&gt; obj_list = Arrays.asList(new TestBean(&quot;aa&quot;), new TestBean(&quot;bb&quot; ), new TestBean(&quot;bb&quot;)).stream()\r\n                .distinct().map(tt -&gt; {\r\n                    tt.col = tt.col + &quot;_t&quot;;\r\n                    return tt;\r\n                }).collect(Collectors.toList());\r\n        System.out.println(obj_list);\r\n\r\n        List&lt;String&gt; string_obj_list = Arrays.asList(new String(&quot;1&quot;), new String(&quot;2&quot;), new String(&quot;2&quot;)).stream().distinct().map(t -&gt; t + &quot;_t&quot;).collect(Collectors.toList());\r\n        System.out.println(string_obj_list);\r\n\r\n        List&lt;String&gt; string_list = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;2&quot;).stream().distinct().map(t -&gt; t + &quot;_t&quot;).collect(Collectors.toList());\r\n        System.out.println(string_list);\r\n    }\r\n}\r\n@Data\r\n@AllArgsConstructor\r\n@EqualsAndHashCode\r\nclass TestBean {\r\n    String col;\r\n}\r\n```\r\nthe result is below, the line one is abnormal for me to understand:\r\n```\r\n[TestBean(col=aa_t), TestBean(col=bb_t), TestBean(col=bb_t)]\r\n[1_t, 2_t]\r\n[1_t, 2_t]\r\n```\r\n\r\n----------original question is below -------------------------------\r\n\r\nmy logic step:\r\n1. produce a list of stream\r\n2. map each element to list stream\r\n3. collect list stream to one stream\r\n4. distinct element \r\n5. map function apply to each element and collect the result to a list\r\n\r\nhowever , the result does not do distinct logic (step 4) ,which is that i can not understand\r\n\r\n```java\r\npublic class test {\r\n    public static void main(String[] args) {\r\n        List&lt;TestBean&gt; stage1 = Arrays.asList(new TestBean(&quot;aa&quot;, null), new TestBean(&quot;bb&quot;, null), new TestBean(&quot;bb&quot;, null)).stream()\r\n                .map(tt -&gt; {\r\n                    return Arrays.asList(tt);\r\n                })\r\n                .flatMap(Collection::stream).distinct().collect(Collectors.toList());\r\n        List&lt;Object&gt; stage2 = stage1.stream().map(tt -&gt; {\r\n            tt.setCol2(tt.col1);\r\n            return tt;\r\n        }).collect(Collectors.toList());\r\n        System.out.println(stage1);\r\n        System.out.println(stage2);\r\n\r\n        List&lt;TestBean&gt; stage_all = Arrays.asList(new TestBean(&quot;aa&quot;, null), new TestBean(&quot;bb&quot;, null), new TestBean(&quot;bb&quot;, null)).stream()\r\n                .map(tt -&gt; {\r\n                    return Arrays.asList(tt);\r\n                })\r\n                .flatMap(Collection::stream).distinct().map(tt -&gt; {\r\n                    tt.setCol2(tt.col1);\r\n                    return tt;\r\n                }).collect(Collectors.toList());\r\n        System.out.println(stage_all);\r\n    }\r\n}\r\n@Data\r\n@AllArgsConstructor\r\n@EqualsAndHashCode\r\nclass TestBean {\r\n    String col1;\r\n    String col2;\r\n}\r\n```\r\n\r\nthe result is \r\n```txt\r\n[TestBean(col1=aa, col2=aa), TestBean(col1=bb, col2=bb)]\r\n[TestBean(col1=aa, col2=aa), TestBean(col1=bb, col2=bb)]\r\n[TestBean(col1=aa, col2=aa), TestBean(col1=bb, col2=bb), TestBean(col1=bb, col2=bb)]\r\n```\r\nline three is abnormal for me. \r\n\r\n\r\n","title":"Get unexpected result while using Java 8 Lambda Expression","body":"<p>I have changed my Test to make it reproduce easier:\nMinimize Test</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class test {\n    public static void main(String[] args) {\n        List&lt;TestBean&gt; obj_list = Arrays.asList(new TestBean(&quot;aa&quot;), new TestBean(&quot;bb&quot; ), new TestBean(&quot;bb&quot;)).stream()\n                .distinct().map(tt -&gt; {\n                    tt.col = tt.col + &quot;_t&quot;;\n                    return tt;\n                }).collect(Collectors.toList());\n        System.out.println(obj_list);\n\n        List&lt;String&gt; string_obj_list = Arrays.asList(new String(&quot;1&quot;), new String(&quot;2&quot;), new String(&quot;2&quot;)).stream().distinct().map(t -&gt; t + &quot;_t&quot;).collect(Collectors.toList());\n        System.out.println(string_obj_list);\n\n        List&lt;String&gt; string_list = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;2&quot;).stream().distinct().map(t -&gt; t + &quot;_t&quot;).collect(Collectors.toList());\n        System.out.println(string_list);\n    }\n}\n@Data\n@AllArgsConstructor\n@EqualsAndHashCode\nclass TestBean {\n    String col;\n}\n</code></pre>\n<p>the result is below, the line one is abnormal for me to understand:</p>\n<pre><code>[TestBean(col=aa_t), TestBean(col=bb_t), TestBean(col=bb_t)]\n[1_t, 2_t]\n[1_t, 2_t]\n</code></pre>\n<p>----------original question is below -------------------------------</p>\n<p>my logic step:</p>\n<ol>\n<li>produce a list of stream</li>\n<li>map each element to list stream</li>\n<li>collect list stream to one stream</li>\n<li>distinct element</li>\n<li>map function apply to each element and collect the result to a list</li>\n</ol>\n<p>however , the result does not do distinct logic (step 4) ,which is that i can not understand</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class test {\n    public static void main(String[] args) {\n        List&lt;TestBean&gt; stage1 = Arrays.asList(new TestBean(&quot;aa&quot;, null), new TestBean(&quot;bb&quot;, null), new TestBean(&quot;bb&quot;, null)).stream()\n                .map(tt -&gt; {\n                    return Arrays.asList(tt);\n                })\n                .flatMap(Collection::stream).distinct().collect(Collectors.toList());\n        List&lt;Object&gt; stage2 = stage1.stream().map(tt -&gt; {\n            tt.setCol2(tt.col1);\n            return tt;\n        }).collect(Collectors.toList());\n        System.out.println(stage1);\n        System.out.println(stage2);\n\n        List&lt;TestBean&gt; stage_all = Arrays.asList(new TestBean(&quot;aa&quot;, null), new TestBean(&quot;bb&quot;, null), new TestBean(&quot;bb&quot;, null)).stream()\n                .map(tt -&gt; {\n                    return Arrays.asList(tt);\n                })\n                .flatMap(Collection::stream).distinct().map(tt -&gt; {\n                    tt.setCol2(tt.col1);\n                    return tt;\n                }).collect(Collectors.toList());\n        System.out.println(stage_all);\n    }\n}\n@Data\n@AllArgsConstructor\n@EqualsAndHashCode\nclass TestBean {\n    String col1;\n    String col2;\n}\n</code></pre>\n<p>the result is</p>\n<pre><code>[TestBean(col1=aa, col2=aa), TestBean(col1=bb, col2=bb)]\n[TestBean(col1=aa, col2=aa), TestBean(col1=bb, col2=bb)]\n[TestBean(col1=aa, col2=aa), TestBean(col1=bb, col2=bb), TestBean(col1=bb, col2=bb)]\n</code></pre>\n<p>line three is abnormal for me.</p>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1667271491,"post_id":74270788,"comment_id":131124900,"body_markdown":"I wonder what do you want to achieve? You have set of long-running tasks and you run it in a chane? Why do you use threads here?","body":"I wonder what do you want to achieve? You have set of long-running tasks and you run it in a chane? Why do you use threads here?"},{"owner":{"account_id":25867084,"reputation":33,"user_id":19598568,"display_name":"Suh. Junmin"},"score":0,"creation_date":1667274058,"post_id":74270788,"comment_id":131125217,"body_markdown":"@oleg.cherednik\nthanks for reply. first or all I want chain task1, task2, task3 ... as sequential. so, after task1 finish than run task2. after task2 finished then run task3 so on. finally retrieve all results as list. I just want to archive run multiple completionstage as sequential order. completablefuture.thenCompose or whatever api merge result from previous stage but I don&#39;t want to merge. and completablefuture.allOf API is run all tasks as parallel.","body":"@oleg.cherednik thanks for reply. first or all I want chain task1, task2, task3 ... as sequential. so, after task1 finish than run task2. after task2 finished then run task3 so on. finally retrieve all results as list. I just want to archive run multiple completionstage as sequential order. completablefuture.thenCompose or whatever api merge result from previous stage but I don&#39;t want to merge. and completablefuture.allOf API is run all tasks as parallel."}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667294219,"creation_date":1667292320,"answer_id":74273428,"question_id":74270788,"body_markdown":"This should work:\r\n```\r\nList&lt;Integer&gt; arr = IntStream.range(1, 10).boxed().collect(Collectors.toList());\r\n\r\nCompletionStage&lt;Void&gt; loopStage = CompletableFuture.completedFuture( null );\r\nfinal List&lt;Integer&gt; resultList = new ArrayList&lt;&gt;();\r\nfor (Integer element: arr) {\r\n\tloopStage = loopStage\r\n\t\t\t.thenCompose( v -&gt; process( element ) )\r\n\t\t\t.thenAccept( resultList::add );\r\n}\r\n\r\nloopStage.toCompletableFuture().join();\r\n\r\n// resultList now contains all the results\r\nSystem.out.println(resultList);\r\n```\r\n\r\nor\r\n\r\n```\r\nList&lt;Integer&gt; arr = IntStream.range( 1, 10 ).boxed().collect( Collectors.toList() );\r\nCompletionStage&lt;List&lt;Integer&gt;&gt; listStage = CompletableFuture.completedFuture( new ArrayList&lt;&gt;() );\r\nfor ( Integer element : arr ) {\r\n\tlistStage = listStage\r\n\t\t\t.thenCompose( list -&gt; process( element )\r\n\t\t\t\t\t.thenAccept( list::add )\r\n\t\t\t\t\t.thenApply( v -&gt; list )\r\n            );\r\n}\r\n\r\nList&lt;Integer&gt; resultList = listStage.toCompletableFuture().join();\r\n\r\nSystem.out.println(resultList);\r\n```","title":"chain multiple CompletableFuture as sequential and collect all results as list","body":"<p>This should work:</p>\n<pre><code>List&lt;Integer&gt; arr = IntStream.range(1, 10).boxed().collect(Collectors.toList());\n\nCompletionStage&lt;Void&gt; loopStage = CompletableFuture.completedFuture( null );\nfinal List&lt;Integer&gt; resultList = new ArrayList&lt;&gt;();\nfor (Integer element: arr) {\n    loopStage = loopStage\n            .thenCompose( v -&gt; process( element ) )\n            .thenAccept( resultList::add );\n}\n\nloopStage.toCompletableFuture().join();\n\n// resultList now contains all the results\nSystem.out.println(resultList);\n</code></pre>\n<p>or</p>\n<pre><code>List&lt;Integer&gt; arr = IntStream.range( 1, 10 ).boxed().collect( Collectors.toList() );\nCompletionStage&lt;List&lt;Integer&gt;&gt; listStage = CompletableFuture.completedFuture( new ArrayList&lt;&gt;() );\nfor ( Integer element : arr ) {\n    listStage = listStage\n            .thenCompose( list -&gt; process( element )\n                    .thenAccept( list::add )\n                    .thenApply( v -&gt; list )\n            );\n}\n\nList&lt;Integer&gt; resultList = listStage.toCompletableFuture().join();\n\nSystem.out.println(resultList);\n</code></pre>\n"}],"owner":{"account_id":25867084,"reputation":33,"user_id":19598568,"display_name":"Suh. Junmin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74273428,"answer_count":1,"score":3,"last_activity_date":1667294219,"creation_date":1667268286,"question_id":74270788,"body_markdown":"I have a long running business job with the return type &#39;CompletionStage&#39;.\r\n\r\nAnd I want to run these tasks several times through for loop and I want to retrieve results as a list.\r\n\r\nHowever, this task must be executed sequentially due to the concurrency issue.\r\n\r\nhere is the example process function that return `CompletionStage`\r\n\r\n\r\n```java\r\nprivate CompletionStage&lt;Integer&gt; process(int a) {\r\n    return CompletableFuture.supplyAsync(() -&gt; {\r\n        System.err.printf(&quot;%s dispatch %d\\n&quot;, LocalDateTime.now(), a);\r\n\r\n        // some long running business process\r\n        return a + 10;\r\n    }).whenCompleteAsync((e, t) -&gt; {\r\n        if (t != null)\r\n            System.err.printf(&quot;!!! error processing &#39;%d&#39; !!!\\n&quot;, a);\r\n\r\n        System.err.printf(&quot;%s finish %d\\n&quot;, LocalDateTime.now(), e);\r\n    });\r\n}\r\n```\r\n\r\n\r\nmy first approach was success\r\n\r\n```java\r\n// First approach\r\n\r\nList&lt;Integer&gt; arr = IntStream.range(1, 10).boxed().collect(Collectors.toList());\r\n\r\nCompletionStage&lt;List&lt;Integer&gt;&gt; result = CompletableFuture.completedFuture(new ArrayList&lt;&gt;());\r\nfor (Integer element: arr) {\r\n    result = result.thenApplyAsync((ret) -&gt; {\r\n        Integer a = process(element).toCompletableFuture().join();\r\n\r\n        ret.add(a);\r\n\r\n        return ret;\r\n    });\r\n}\r\n\r\nList&lt;Integer&gt; computeResult = result.toCompletableFuture().join();\r\n```\r\n\r\n```\r\n2022-11-01T10:43:24.571573 dispatch 1\r\n2022-11-01T10:43:24.571999 finish 11\r\n2022-11-01T10:43:24.572414 dispatch 2\r\n2022-11-01T10:43:24.572629 finish 12\r\n2022-11-01T10:43:24.572825 dispatch 3\r\n2022-11-01T10:43:24.572984 finish 13\r\n2022-11-01T10:43:24.573097 dispatch 4\r\n2022-11-01T10:43:24.573227 finish 14\r\n2022-11-01T10:43:24.573354 dispatch 5\r\n2022-11-01T10:43:24.573541 finish 15\r\n2022-11-01T10:43:24.573657 dispatch 6\r\n2022-11-01T10:43:24.573813 finish 16\r\n2022-11-01T10:43:24.573929 dispatch 7\r\n2022-11-01T10:43:24.574055 finish 17\r\n2022-11-01T10:43:24.574168 dispatch 8\r\n2022-11-01T10:43:24.574326 finish 18\r\n2022-11-01T10:43:24.574428 dispatch 9\r\n2022-11-01T10:43:24.574589 finish 19\r\n```\r\n\r\nbut as you can see, wait completablefuture inside completablefuture is bit weird i think.\r\n\r\nbecause one stage consumes two threads.\r\n\r\nso, i decide to refactor it.\r\n\r\nbut the second approach was failed\r\n\r\n```java\r\n\r\n// Second approach\r\nList&lt;Integer&gt; arr = IntStream.range(1, 10).boxed().collect(Collectors.toList());\r\n\r\nCompletionStage&lt;List&lt;Integer&gt;&gt; result = CompletableFuture.completedFuture(new ArrayList&lt;&gt;());\r\nfor (Integer element : arr) {\r\n    result = result.thenCombineAsync(process(element), (array, ret) -&gt; { array.add(ret); return array; });\r\n}\r\n\r\nresult.toCompletableFuture().join();\r\n```\r\n\r\n```\r\n2022-11-01T10:44:36.875930 dispatch 1\r\n2022-11-01T10:44:36.876438 finish 11\r\n2022-11-01T10:44:36.876461 dispatch 2\r\n2022-11-01T10:44:36.876832 dispatch 4\r\n2022-11-01T10:44:36.876847 finish 12\r\n2022-11-01T10:44:36.876908 dispatch 3\r\n2022-11-01T10:44:36.876968 dispatch 5\r\n2022-11-01T10:44:36.877108 dispatch 8\r\n2022-11-01T10:44:36.877042 dispatch 6\r\n2022-11-01T10:44:36.876988 finish 14\r\n2022-11-01T10:44:36.877123 dispatch 9\r\n2022-11-01T10:44:36.877275 finish 18\r\n2022-11-01T10:44:36.877195 finish 15\r\n2022-11-01T10:44:36.877371 finish 19\r\n2022-11-01T10:44:36.877262 dispatch 7\r\n2022-11-01T10:44:36.877316 finish 16\r\n2022-11-01T10:44:36.877191 finish 13\r\n2022-11-01T10:44:36.877553 finish 17\r\n```\r\n\r\nand I don&#39;t have any idea how to chain and retrieve results.\r\n\r\nIs there a better way to retrieve results from multiple CompletionStages?\r\n","title":"chain multiple CompletableFuture as sequential and collect all results as list","body":"<p>I have a long running business job with the return type 'CompletionStage'.</p>\n<p>And I want to run these tasks several times through for loop and I want to retrieve results as a list.</p>\n<p>However, this task must be executed sequentially due to the concurrency issue.</p>\n<p>here is the example process function that return <code>CompletionStage</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>private CompletionStage&lt;Integer&gt; process(int a) {\n    return CompletableFuture.supplyAsync(() -&gt; {\n        System.err.printf(&quot;%s dispatch %d\\n&quot;, LocalDateTime.now(), a);\n\n        // some long running business process\n        return a + 10;\n    }).whenCompleteAsync((e, t) -&gt; {\n        if (t != null)\n            System.err.printf(&quot;!!! error processing '%d' !!!\\n&quot;, a);\n\n        System.err.printf(&quot;%s finish %d\\n&quot;, LocalDateTime.now(), e);\n    });\n}\n</code></pre>\n<p>my first approach was success</p>\n<pre class=\"lang-java prettyprint-override\"><code>// First approach\n\nList&lt;Integer&gt; arr = IntStream.range(1, 10).boxed().collect(Collectors.toList());\n\nCompletionStage&lt;List&lt;Integer&gt;&gt; result = CompletableFuture.completedFuture(new ArrayList&lt;&gt;());\nfor (Integer element: arr) {\n    result = result.thenApplyAsync((ret) -&gt; {\n        Integer a = process(element).toCompletableFuture().join();\n\n        ret.add(a);\n\n        return ret;\n    });\n}\n\nList&lt;Integer&gt; computeResult = result.toCompletableFuture().join();\n</code></pre>\n<pre><code>2022-11-01T10:43:24.571573 dispatch 1\n2022-11-01T10:43:24.571999 finish 11\n2022-11-01T10:43:24.572414 dispatch 2\n2022-11-01T10:43:24.572629 finish 12\n2022-11-01T10:43:24.572825 dispatch 3\n2022-11-01T10:43:24.572984 finish 13\n2022-11-01T10:43:24.573097 dispatch 4\n2022-11-01T10:43:24.573227 finish 14\n2022-11-01T10:43:24.573354 dispatch 5\n2022-11-01T10:43:24.573541 finish 15\n2022-11-01T10:43:24.573657 dispatch 6\n2022-11-01T10:43:24.573813 finish 16\n2022-11-01T10:43:24.573929 dispatch 7\n2022-11-01T10:43:24.574055 finish 17\n2022-11-01T10:43:24.574168 dispatch 8\n2022-11-01T10:43:24.574326 finish 18\n2022-11-01T10:43:24.574428 dispatch 9\n2022-11-01T10:43:24.574589 finish 19\n</code></pre>\n<p>but as you can see, wait completablefuture inside completablefuture is bit weird i think.</p>\n<p>because one stage consumes two threads.</p>\n<p>so, i decide to refactor it.</p>\n<p>but the second approach was failed</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n// Second approach\nList&lt;Integer&gt; arr = IntStream.range(1, 10).boxed().collect(Collectors.toList());\n\nCompletionStage&lt;List&lt;Integer&gt;&gt; result = CompletableFuture.completedFuture(new ArrayList&lt;&gt;());\nfor (Integer element : arr) {\n    result = result.thenCombineAsync(process(element), (array, ret) -&gt; { array.add(ret); return array; });\n}\n\nresult.toCompletableFuture().join();\n</code></pre>\n<pre><code>2022-11-01T10:44:36.875930 dispatch 1\n2022-11-01T10:44:36.876438 finish 11\n2022-11-01T10:44:36.876461 dispatch 2\n2022-11-01T10:44:36.876832 dispatch 4\n2022-11-01T10:44:36.876847 finish 12\n2022-11-01T10:44:36.876908 dispatch 3\n2022-11-01T10:44:36.876968 dispatch 5\n2022-11-01T10:44:36.877108 dispatch 8\n2022-11-01T10:44:36.877042 dispatch 6\n2022-11-01T10:44:36.876988 finish 14\n2022-11-01T10:44:36.877123 dispatch 9\n2022-11-01T10:44:36.877275 finish 18\n2022-11-01T10:44:36.877195 finish 15\n2022-11-01T10:44:36.877371 finish 19\n2022-11-01T10:44:36.877262 dispatch 7\n2022-11-01T10:44:36.877316 finish 16\n2022-11-01T10:44:36.877191 finish 13\n2022-11-01T10:44:36.877553 finish 17\n</code></pre>\n<p>and I don't have any idea how to chain and retrieve results.</p>\n<p>Is there a better way to retrieve results from multiple CompletionStages?</p>\n"},{"tags":["java","sql","spring","spring-boot","h2"],"comments":[{"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"score":0,"creation_date":1667282279,"post_id":74271958,"comment_id":131126313,"body_markdown":"try to clean-compile your project, and invalidate caches/restart your idea.","body":"try to clean-compile your project, and invalidate caches/restart your idea."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667284124,"post_id":74271958,"comment_id":131126658,"body_markdown":"Check your IDE and environment for a `SPRING_DATASOURCE_URL` variable which will always override the one configured in the `application.properties`.","body":"Check your IDE and environment for a <code>SPRING_DATASOURCE_URL</code> variable which will always override the one configured in the <code>application.properties</code>."},{"owner":{"account_id":26791482,"reputation":1,"user_id":20384828,"display_name":"maks_rosenfeld"},"score":0,"creation_date":1667293667,"post_id":74271958,"comment_id":131128805,"body_markdown":"There was such a env var in environmental vars as SPRING_DATASOURCE_URL but have already deleted and no effect and clean-compile also doesn&#39;t help","body":"There was such a env var in environmental vars as SPRING_DATASOURCE_URL but have already deleted and no effect and clean-compile also doesn&#39;t help"}],"answers":[{"tags":[],"owner":{"account_id":26647380,"reputation":28,"user_id":20262142,"display_name":"RedSnack-BCS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667285449,"creation_date":1667285449,"answer_id":74272436,"question_id":74271958,"body_markdown":"This error is attributed to the project have not compile.You use spring-boot-devtools in the project.But the plug-in stops compiling automatically duing running or debugging, at this time need build the project.\r\n\r\nYou can do this:\r\n\r\n 1. Stop the project,delete the target folder and build the project.\r\n 2. Run project and have a try.\r\n\r\nYou also need check idea conifg adout devtools,something might be wrong.\r\nAnd you can use Jrebel instead of devtools.","title":"Driver org.h2.Driver claims to not accept jdbcUrl, jdbc:postgresql://my-previous-db","body":"<p>This error is attributed to the project have not compile.You use spring-boot-devtools in the project.But the plug-in stops compiling automatically duing running or debugging, at this time need build the project.</p>\n<p>You can do this:</p>\n<ol>\n<li>Stop the project,delete the target folder and build the project.</li>\n<li>Run project and have a try.</li>\n</ol>\n<p>You also need check idea conifg adout devtools,something might be wrong.\nAnd you can use Jrebel instead of devtools.</p>\n"}],"owner":{"account_id":26791482,"reputation":1,"user_id":20384828,"display_name":"maks_rosenfeld"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667293819,"creation_date":1667281357,"question_id":74271958,"body_markdown":"I try to use H2 database in my new project, before I used postgres. Wrote all data in application.properties, also there is nothing about postgres driver in pom file, only H2 driver, but during auto-configuration each time it tries to connect to my previous database as a result shows this error. \r\n\r\n`Driver org.h2.Driver claims to not accept jdbcUrl, jdbc:postgresql://{my-previous-db-url}`\r\n\r\nCould anyone help to solve the problem?\r\n\r\napplication.properties\r\n```\r\nspring.datasource.generate-unique-name=false\r\nspring.datasource.name=taco\r\nspring.datasource.url=jdbc:h2:mem:taco\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=user\r\nspring.datasource.password=password\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n```\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;MyProject&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;MyProject&lt;/name&gt;\r\n    &lt;description&gt;TacoExample&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI have no idea what to do, tried to find any info about parent pom.file but had no success\r\n\r\n**UPDATE:** also forgtot that if I specify datasource bean in configuration, everything is ok. But I can&#39;t understand where does Spring boot takes the URL to the previos database by Autoconfiguration","title":"Driver org.h2.Driver claims to not accept jdbcUrl, jdbc:postgresql://my-previous-db","body":"<p>I try to use H2 database in my new project, before I used postgres. Wrote all data in application.properties, also there is nothing about postgres driver in pom file, only H2 driver, but during auto-configuration each time it tries to connect to my previous database as a result shows this error.</p>\n<p><code>Driver org.h2.Driver claims to not accept jdbcUrl, jdbc:postgresql://{my-previous-db-url}</code></p>\n<p>Could anyone help to solve the problem?</p>\n<p>application.properties</p>\n<pre><code>spring.datasource.generate-unique-name=false\nspring.datasource.name=taco\nspring.datasource.url=jdbc:h2:mem:taco\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=user\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;MyProject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;MyProject&lt;/name&gt;\n    &lt;description&gt;TacoExample&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n\n</code></pre>\n<p>I have no idea what to do, tried to find any info about parent pom.file but had no success</p>\n<p><strong>UPDATE:</strong> also forgtot that if I specify datasource bean in configuration, everything is ok. But I can't understand where does Spring boot takes the URL to the previos database by Autoconfiguration</p>\n"},{"tags":["java","android","android-layout","navigation-drawer"],"comments":[{"owner":{"account_id":3071381,"reputation":583,"user_id":2601959,"accept_rate":43,"display_name":"Muhammad Umair"},"score":0,"creation_date":1505803144,"post_id":46293481,"comment_id":79549413,"body_markdown":"I am talking about drawer movement.. I want to move screen with drawer as shown in second image","body":"I am talking about drawer movement.. I want to move screen with drawer as shown in second image"},{"owner":{"account_id":11568600,"reputation":1418,"user_id":8476022,"accept_rate":90,"display_name":"Amrutha Saj"},"score":1,"creation_date":1505803189,"post_id":46293481,"comment_id":79549436,"body_markdown":"please refer https://stackoverflow.com/questions/19577630/push-activity-on-the-right-when-open-drawer","body":"please refer <a href=\"https://stackoverflow.com/questions/19577630/push-activity-on-the-right-when-open-drawer\" title=\"push activity on the right when open drawer\">stackoverflow.com/questions/19577630/&hellip;</a>"}],"owner":{"account_id":3071381,"reputation":583,"user_id":2601959,"accept_rate":43,"display_name":"Muhammad Umair"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":871,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1667293784,"creation_date":1505802939,"question_id":46293481,"body_markdown":"I have implemented drawer navigation in android which is visually look like this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut I want a navigation drawer like this \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI have tried alot but unable to do so. I have tried the following code:\r\n\r\n     drawer.addDrawerListener(new DrawerLayout.DrawerListener() {\r\n    \r\n                @Override\r\n                public void onDrawerSlide(View drawerView, float slideOffset) {\r\n                    //Called when a drawer&#39;s position changes.\r\n                    drawer.findViewById(R.id.drawer_layout).setTranslationX(drawerView.getWidth() * slideOffset);\r\n                }\r\n    \r\n                @Override\r\n                public void onDrawerOpened(View drawerView) {\r\n                    //Called when a drawer has settled in a completely open state.\r\n                    //The drawer is interactive at this point.\r\n                    // If you have 2 drawers (left and right) you can distinguish\r\n                    // them by using id of the drawerView. int id = drawerView.getId();\r\n                    // id will be your layout&#39;s id: for example R.id.left_drawer\r\n                }\r\n    \r\n                @Override\r\n                public void onDrawerClosed(View drawerView) {\r\n                    // Called when a drawer has settled in a completely closed state.\r\n                }\r\n    \r\n                @Override\r\n                public void onDrawerStateChanged(int newState) {\r\n                    // Called when the drawer motion state changes. The new state will be one of STATE_IDLE, STATE_DRAGGING or STATE_SETTLING.\r\n                }\r\n            });\r\n\r\nI am not getting the correct result. Here is the screen shot:\r\n\r\n[![enter image description here][3]][3]\r\n \r\n\r\n  [1]: https://i.stack.imgur.com/3Wlno.png\r\n  [2]: https://i.stack.imgur.com/zl2am.jpg\r\n  [3]: https://i.stack.imgur.com/IWxfY.png","title":"Move screen with navigation drawer","body":"<p>I have implemented drawer navigation in android which is visually look like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/3Wlno.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Wlno.png\" alt=\"enter image description here\"></a></p>\n\n<p>But I want a navigation drawer like this </p>\n\n<p><a href=\"https://i.stack.imgur.com/zl2am.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zl2am.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried alot but unable to do so. I have tried the following code:</p>\n\n<pre><code> drawer.addDrawerListener(new DrawerLayout.DrawerListener() {\n\n            @Override\n            public void onDrawerSlide(View drawerView, float slideOffset) {\n                //Called when a drawer's position changes.\n                drawer.findViewById(R.id.drawer_layout).setTranslationX(drawerView.getWidth() * slideOffset);\n            }\n\n            @Override\n            public void onDrawerOpened(View drawerView) {\n                //Called when a drawer has settled in a completely open state.\n                //The drawer is interactive at this point.\n                // If you have 2 drawers (left and right) you can distinguish\n                // them by using id of the drawerView. int id = drawerView.getId();\n                // id will be your layout's id: for example R.id.left_drawer\n            }\n\n            @Override\n            public void onDrawerClosed(View drawerView) {\n                // Called when a drawer has settled in a completely closed state.\n            }\n\n            @Override\n            public void onDrawerStateChanged(int newState) {\n                // Called when the drawer motion state changes. The new state will be one of STATE_IDLE, STATE_DRAGGING or STATE_SETTLING.\n            }\n        });\n</code></pre>\n\n<p>I am not getting the correct result. Here is the screen shot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/IWxfY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IWxfY.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","swing","javafx","jpanel","flowpane"],"answers":[{"tags":[],"owner":{"account_id":5333022,"reputation":108,"user_id":4253078,"accept_rate":82,"display_name":"Finn von Holten"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1571998024,"creation_date":1571998024,"answer_id":58556444,"question_id":58555982,"body_markdown":"Yes this is possible: Add your JPanel to a SwingNode and then put it into your FlowPane:\r\n\r\n    SwingNode node = new SwingNode()\r\n    node.setContent(pad.startSiganture());\r\n    FlowPane flow = new FlowPane();\r\n    flow.getChildren.addAll(node);","title":"Adding a JPanel to Javafx","body":"<p>Yes this is possible: Add your JPanel to a SwingNode and then put it into your FlowPane:</p>\n\n<pre><code>SwingNode node = new SwingNode()\nnode.setContent(pad.startSiganture());\nFlowPane flow = new FlowPane();\nflow.getChildren.addAll(node);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667293543,"creation_date":1571999181,"answer_id":58556740,"question_id":58555982,"body_markdown":"Yes, that is achievable through a SwingNode which is a JavaFX node that can contain swing content, see what the documentation says :\r\n\r\nThis class is used to embed Swing content into a JavaFX application. The content to be displayed is specified with the setContent(javax.swing.JComponent) method that accepts an instance of Swing JComponent. The hierarchy of components in the JComponent instance should not contain any heavyweight components, otherwise, SwingNode may fail to paint it. The content gets repainted automatically. All the input and focus events are forwarded to the JComponent instance transparently to the developer. \r\n\r\nHere is a typical pattern that demonstrates how SwingNode can be used: \r\n\r\n\r\n    public class SwingFx extends Application {\r\n\r\n         @Override\r\n         public void start(Stage stage) {\r\n             final SwingNode swingNode = new SwingNode();\r\n             createAndSetSwingContent(swingNode);\r\n\r\n             StackPane pane = new StackPane();\r\n             pane.getChildren().add(swingNode);\r\n\r\n             stage.setScene(new Scene(pane, 100, 50));\r\n             stage.show();\r\n         }\r\n\r\n         private void createAndSetSwingContent(final SwingNode swingNode) {\r\n             SwingUtilities.invokeLater(new Runnable() {\r\n                 @Override\r\n                 public void run() {\r\n                     swingNode.setContent(new JButton(&quot;Click me!&quot;));\r\n                 }\r\n             });\r\n         }\r\n \r\n         public static void main(String[] args) {\r\n             launch(args);\r\n         }\r\n     }\r\n","title":"Adding a JPanel to Javafx","body":"<p>Yes, that is achievable through a SwingNode which is a JavaFX node that can contain swing content, see what the documentation says :</p>\n<p>This class is used to embed Swing content into a JavaFX application. The content to be displayed is specified with the setContent(javax.swing.JComponent) method that accepts an instance of Swing JComponent. The hierarchy of components in the JComponent instance should not contain any heavyweight components, otherwise, SwingNode may fail to paint it. The content gets repainted automatically. All the input and focus events are forwarded to the JComponent instance transparently to the developer.</p>\n<p>Here is a typical pattern that demonstrates how SwingNode can be used:</p>\n<pre><code>public class SwingFx extends Application {\n\n     @Override\n     public void start(Stage stage) {\n         final SwingNode swingNode = new SwingNode();\n         createAndSetSwingContent(swingNode);\n\n         StackPane pane = new StackPane();\n         pane.getChildren().add(swingNode);\n\n         stage.setScene(new Scene(pane, 100, 50));\n         stage.show();\n     }\n\n     private void createAndSetSwingContent(final SwingNode swingNode) {\n         SwingUtilities.invokeLater(new Runnable() {\n             @Override\n             public void run() {\n                 swingNode.setContent(new JButton(&quot;Click me!&quot;));\n             }\n         });\n     }\n\n     public static void main(String[] args) {\n         launch(args);\n     }\n }\n</code></pre>\n"}],"owner":{"account_id":16967707,"reputation":23,"user_id":12273143,"display_name":"YXCD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58556444,"answer_count":2,"score":2,"last_activity_date":1667293543,"creation_date":1571996445,"question_id":58555982,"body_markdown":"I&#39;m currently working on a signature solution for digital signatures. I received a signature tablet that came with an API. The API is closed and I can&#39;t change anything in it. The problem is now for me that I can&#39;t handle the reponses of the device. When doing a signature or drawing something, I receive an answer in form of a JPanel. Since I&#39;m programming with JavaFX scenes I now don&#39;t know how to include the JPanel into my scene. I only learned to work with JavaFx, so I don&#39;t really know a lot about JPanels and stuff.\r\n\r\nSo.. I wonder if there is a way to add a Jpanel to a FlowPane. All I found about this topic were threads about the other way around.. When people tried to add javafx-Components to Jpanel. But not this way around.. so Maybe it&#39;s very obvious how to do it but I don&#39;t get it.\r\n\r\n    JPanel x = pad.startSiganture();\r\n    FlowPane flow = new FlowPane();\r\n    flow.getChildren.addAll(x);\r\n\r\nBasically that&#39;s what I would dream of, what of course doesn&#39;t work. So.. Thanks for any reponses, I hope its possible. \r\n\r\nYXCD","title":"Adding a JPanel to Javafx","body":"<p>I'm currently working on a signature solution for digital signatures. I received a signature tablet that came with an API. The API is closed and I can't change anything in it. The problem is now for me that I can't handle the reponses of the device. When doing a signature or drawing something, I receive an answer in form of a JPanel. Since I'm programming with JavaFX scenes I now don't know how to include the JPanel into my scene. I only learned to work with JavaFx, so I don't really know a lot about JPanels and stuff.</p>\n\n<p>So.. I wonder if there is a way to add a Jpanel to a FlowPane. All I found about this topic were threads about the other way around.. When people tried to add javafx-Components to Jpanel. But not this way around.. so Maybe it's very obvious how to do it but I don't get it.</p>\n\n<pre><code>JPanel x = pad.startSiganture();\nFlowPane flow = new FlowPane();\nflow.getChildren.addAll(x);\n</code></pre>\n\n<p>Basically that's what I would dream of, what of course doesn't work. So.. Thanks for any reponses, I hope its possible. </p>\n\n<p>YXCD</p>\n"},{"tags":["java","algorithm","list","recursion","arraylist"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":1,"creation_date":1522517917,"post_id":49590602,"comment_id":86188946,"body_markdown":"_i want_ is a wish not a question. Please read Help Center and ask specific question with your attempts.","body":"<i>i want</i> is a wish not a question. Please read Help Center and ask specific question with your attempts."}],"answers":[{"tags":[],"owner":{"display_name":"user4852164"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667293415,"creation_date":1522525036,"answer_id":49591659,"question_id":49590602,"body_markdown":"Your data structure look like a **Map**, one mapping object to List.\r\n**See Guava MultiMap here**\r\nhttps://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/ListMultimap.html\r\n\r\nIf you don&#39;t want a dependency, you can do something like this:\r\n\r\n    int parentIndex = parentList.indexOf(parentObject);\r\n    if(parentIndex != -1){\r\n       List&lt;Object&gt; children = parentList.get(parentIndex);\r\n       if(children != null){\r\n         children.remove(childIndex);\r\n       }\r\n     }\r\n\r\nHowever, I recommend you use a [Map][1] to point to children.\r\n   \r\n\r\n    parentList.indexOf(parentObject);\r\ndoes  a linear search which is O(n), as it may be a problem if your parent list is very large.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html","title":"how to remove child object from the parent object list, java","body":"<p>Your data structure look like a <strong>Map</strong>, one mapping object to List.\n<strong>See Guava MultiMap here</strong>\n<a href=\"https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/ListMultimap.html\" rel=\"nofollow noreferrer\">https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/ListMultimap.html</a></p>\n<p>If you don't want a dependency, you can do something like this:</p>\n<pre><code>int parentIndex = parentList.indexOf(parentObject);\nif(parentIndex != -1){\n   List&lt;Object&gt; children = parentList.get(parentIndex);\n   if(children != null){\n     children.remove(childIndex);\n   }\n }\n</code></pre>\n<p>However, I recommend you use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a> to point to children.</p>\n<pre><code>parentList.indexOf(parentObject);\n</code></pre>\n<p>does  a linear search which is O(n), as it may be a problem if your parent list is very large.</p>\n"}],"owner":{"account_id":10074989,"reputation":129,"user_id":7447418,"display_name":"hashan gunathilaka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":900,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1667293415,"creation_date":1522517848,"question_id":49590602,"body_markdown":"for examplethere is array list that contain  4 objects. ex:  object 1, object2 , child1_object1 ,child1_object1. Inside the object 1 contain  child1_object1 ,child1_object1 as follows\r\n\r\n\r\n[![enter image description here][1]][1]\r\ninside \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eh2J4.jpg\r\n\r\nNow i want algorithm to remove child object from main list. please help ","title":"how to remove child object from the parent object list, java","body":"<p>for examplethere is array list that contain  4 objects. ex:  object 1, object2 , child1_object1 ,child1_object1. Inside the object 1 contain  child1_object1 ,child1_object1 as follows</p>\n\n<p><a href=\"https://i.stack.imgur.com/eh2J4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eh2J4.jpg\" alt=\"enter image description here\"></a>\ninside </p>\n\n<p>Now i want algorithm to remove child object from main list. please help </p>\n"},{"tags":["java","picocli"],"answers":[{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1525212352,"creation_date":1525212352,"answer_id":50124506,"question_id":49673880,"body_markdown":"Thanks for [raising this][1] on the picocli issue tracker.\r\n\r\nAs of picocli [3.0.0-alpha-5][2], custom type converters can map the empty String (when the option is present without a value) to a custom default value. This functionality is included in the [picocli 3.0.0][3] GA release that just came out.\r\n\r\n\r\n  [1]: https://github.com/remkop/picocli/issues/325\r\n  [2]: https://github.com/remkop/picocli/releases/tag/v3.0.0-alpha-5\r\n  [3]: https://github.com/remkop/picocli/releases/tag/v3.0.0","title":"Picocli, how to recognise presence of option with optional value and custom type converter","body":"<p>Thanks for <a href=\"https://github.com/remkop/picocli/issues/325\" rel=\"nofollow noreferrer\">raising this</a> on the picocli issue tracker.</p>\n\n<p>As of picocli <a href=\"https://github.com/remkop/picocli/releases/tag/v3.0.0-alpha-5\" rel=\"nofollow noreferrer\">3.0.0-alpha-5</a>, custom type converters can map the empty String (when the option is present without a value) to a custom default value. This functionality is included in the <a href=\"https://github.com/remkop/picocli/releases/tag/v3.0.0\" rel=\"nofollow noreferrer\">picocli 3.0.0</a> GA release that just came out.</p>\n"}],"owner":{"account_id":93179,"reputation":3761,"user_id":255061,"accept_rate":62,"display_name":"Jesse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50124506,"answer_count":1,"score":1,"last_activity_date":1667293279,"creation_date":1522935687,"question_id":49673880,"body_markdown":"Picocli v2.3.0.\r\n\r\n    @CommandLine.Option(names = {&quot;--number-headings&quot;},\r\n                        arity = &quot;0..1&quot;,\r\n                        paramLabel = &quot;levels&quot;,\r\n                        description = {&quot;Adds numbers to headings. Optional parameter to set the heading levels to be numbered.&quot;,\r\n                                       &quot;eg. 2-4&quot;})\r\n    public HeadingNumberingRange numberHeadings;\r\n\r\nCustom type converter is registered and working correctly when a value is provided (`mycommand --number-headings 2-5`). But numberHeadings remains `null` if called like: `mycommand --number-headings`.\r\n\r\nExample at http://picocli.info/man/2.x/#_optional_values suggests that a `String` typed option will receive an empty string when no value is provided. \r\n\r\nSo the empty string is the *default value when option is present but no value is provided*.\r\n\r\nThis allows us to distinguish between 3 situations:\r\n\r\n1. Option not present (we get `null`)\r\n1. Option present with no value (we get empty string)\r\n1. Option present with value (we get value)\r\n\r\nWith a custom `ITypeConverter`, the `convert()` method of the `ITypeConverter` is not called when there is no value provided. So what is the equivalent *default value when option is present but no value is provided* for custom types?","title":"Picocli, how to recognise presence of option with optional value and custom type converter","body":"<p>Picocli v2.3.0.</p>\n<pre><code>@CommandLine.Option(names = {&quot;--number-headings&quot;},\n                    arity = &quot;0..1&quot;,\n                    paramLabel = &quot;levels&quot;,\n                    description = {&quot;Adds numbers to headings. Optional parameter to set the heading levels to be numbered.&quot;,\n                                   &quot;eg. 2-4&quot;})\npublic HeadingNumberingRange numberHeadings;\n</code></pre>\n<p>Custom type converter is registered and working correctly when a value is provided (<code>mycommand --number-headings 2-5</code>). But numberHeadings remains <code>null</code> if called like: <code>mycommand --number-headings</code>.</p>\n<p>Example at <a href=\"http://picocli.info/man/2.x/#_optional_values\" rel=\"nofollow noreferrer\">http://picocli.info/man/2.x/#_optional_values</a> suggests that a <code>String</code> typed option will receive an empty string when no value is provided.</p>\n<p>So the empty string is the <em>default value when option is present but no value is provided</em>.</p>\n<p>This allows us to distinguish between 3 situations:</p>\n<ol>\n<li>Option not present (we get <code>null</code>)</li>\n<li>Option present with no value (we get empty string)</li>\n<li>Option present with value (we get value)</li>\n</ol>\n<p>With a custom <code>ITypeConverter</code>, the <code>convert()</code> method of the <code>ITypeConverter</code> is not called when there is no value provided. So what is the equivalent <em>default value when option is present but no value is provided</em> for custom types?</p>\n"},{"tags":["java","json","api","openweathermap"],"answers":[{"tags":[],"owner":{"account_id":10377490,"reputation":1,"user_id":8172619,"display_name":"Kian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526552186,"creation_date":1526552186,"answer_id":50388940,"question_id":50388823,"body_markdown":"You have to go one step deeper int the JSON Array.\r\n\r\nTry getting the JSONObject(0) and then yourJSONObject.getString(&quot;main&quot;) for example","title":"Java - Get specific json information from weather api","body":"<p>You have to go one step deeper int the JSON Array.</p>\n\n<p>Try getting the JSONObject(0) and then yourJSONObject.getString(\"main\") for example</p>\n"},{"tags":[],"owner":{"account_id":8767936,"reputation":681,"user_id":6555724,"display_name":"C&#233;sar Ferreira"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526553479,"creation_date":1526552934,"answer_id":50389193,"question_id":50388823,"body_markdown":"I recommend you using Gson converter. It helps you to convert a JSON to a Java Class. \r\n\r\n**Data conversions**:\r\n\r\n - JSON Object - Java class \r\n - Array - List&lt;&gt;\r\n\r\n**Helpful links**:\r\n\r\n- This is the library you need to **include** (tutorials included) in Java: [GSON Converter Git][1]\r\n\r\n- This is a **weather sample** of a JSON (example by coordinates): [JSON example website][3]\r\n\r\n- This is an JSON to Class online **converter**: [Jsonschema2pojo generator][2]\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: http://www.jsonschema2pojo.org/\r\n  [3]: https://openweathermap.org/current\r\nYou can use jsonschema2pojo to convert the JSON to classes like **this**:\r\n\r\n    -----------------------------------com.example.Clouds.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Clouds {\r\n    \r\n    @SerializedName(&quot;all&quot;)\r\n    @Expose\r\n    private Integer all;\r\n    \r\n    public Integer getAll() {\r\n    return all;\r\n    }\r\n    \r\n    public void setAll(Integer all) {\r\n    this.all = all;\r\n    }\r\n    \r\n    }\r\n    -----------------------------------com.example.Coord.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Coord {\r\n    \r\n    @SerializedName(&quot;lon&quot;)\r\n    @Expose\r\n    private Integer lon;\r\n    @SerializedName(&quot;lat&quot;)\r\n    @Expose\r\n    private Integer lat;\r\n    \r\n    public Integer getLon() {\r\n    return lon;\r\n    }\r\n    \r\n    public void setLon(Integer lon) {\r\n    this.lon = lon;\r\n    }\r\n    \r\n    public Integer getLat() {\r\n    return lat;\r\n    }\r\n    \r\n    public void setLat(Integer lat) {\r\n    this.lat = lat;\r\n    }\r\n    \r\n    }\r\n    -----------------------------------com.example.Data.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import java.util.List;\r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Data {\r\n    \r\n    @SerializedName(&quot;coord&quot;)\r\n    @Expose\r\n    private Coord coord;\r\n    @SerializedName(&quot;sys&quot;)\r\n    @Expose\r\n    private Sys sys;\r\n    @SerializedName(&quot;weather&quot;)\r\n    @Expose\r\n    private List&lt;Weather&gt; weather = null;\r\n    @SerializedName(&quot;main&quot;)\r\n    @Expose\r\n    private Main main;\r\n    @SerializedName(&quot;wind&quot;)\r\n    @Expose\r\n    private Wind wind;\r\n    @SerializedName(&quot;rain&quot;)\r\n    @Expose\r\n    private Rain rain;\r\n    @SerializedName(&quot;clouds&quot;)\r\n    @Expose\r\n    private Clouds clouds;\r\n    @SerializedName(&quot;dt&quot;)\r\n    @Expose\r\n    private Integer dt;\r\n    @SerializedName(&quot;id&quot;)\r\n    @Expose\r\n    private Integer id;\r\n    @SerializedName(&quot;name&quot;)\r\n    @Expose\r\n    private String name;\r\n    @SerializedName(&quot;cod&quot;)\r\n    @Expose\r\n    private Integer cod;\r\n    \r\n    public Coord getCoord() {\r\n    return coord;\r\n    }\r\n    \r\n    public void setCoord(Coord coord) {\r\n    this.coord = coord;\r\n    }\r\n    \r\n    public Sys getSys() {\r\n    return sys;\r\n    }\r\n    \r\n    public void setSys(Sys sys) {\r\n    this.sys = sys;\r\n    }\r\n    \r\n    public List&lt;Weather&gt; getWeather() {\r\n    return weather;\r\n    }\r\n    \r\n    public void setWeather(List&lt;Weather&gt; weather) {\r\n    this.weather = weather;\r\n    }\r\n    \r\n    public Main getMain() {\r\n    return main;\r\n    }\r\n    \r\n    public void setMain(Main main) {\r\n    this.main = main;\r\n    }\r\n    \r\n    public Wind getWind() {\r\n    return wind;\r\n    }\r\n    \r\n    public void setWind(Wind wind) {\r\n    this.wind = wind;\r\n    }\r\n    \r\n    public Rain getRain() {\r\n    return rain;\r\n    }\r\n    \r\n    public void setRain(Rain rain) {\r\n    this.rain = rain;\r\n    }\r\n    \r\n    public Clouds getClouds() {\r\n    return clouds;\r\n    }\r\n    \r\n    public void setClouds(Clouds clouds) {\r\n    this.clouds = clouds;\r\n    }\r\n    \r\n    public Integer getDt() {\r\n    return dt;\r\n    }\r\n    \r\n    public void setDt(Integer dt) {\r\n    this.dt = dt;\r\n    }\r\n    \r\n    public Integer getId() {\r\n    return id;\r\n    }\r\n    \r\n    public void setId(Integer id) {\r\n    this.id = id;\r\n    }\r\n    \r\n    public String getName() {\r\n    return name;\r\n    }\r\n    \r\n    public void setName(String name) {\r\n    this.name = name;\r\n    }\r\n    \r\n    public Integer getCod() {\r\n    return cod;\r\n    }\r\n    \r\n    public void setCod(Integer cod) {\r\n    this.cod = cod;\r\n    }\r\n    \r\n    }\r\n    -----------------------------------com.example.Main.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Main {\r\n    \r\n    @SerializedName(&quot;temp&quot;)\r\n    @Expose\r\n    private Double temp;\r\n    @SerializedName(&quot;humidity&quot;)\r\n    @Expose\r\n    private Integer humidity;\r\n    @SerializedName(&quot;pressure&quot;)\r\n    @Expose\r\n    private Integer pressure;\r\n    @SerializedName(&quot;temp_min&quot;)\r\n    @Expose\r\n    private Double tempMin;\r\n    @SerializedName(&quot;temp_max&quot;)\r\n    @Expose\r\n    private Double tempMax;\r\n    \r\n    public Double getTemp() {\r\n    return temp;\r\n    }\r\n    \r\n    public void setTemp(Double temp) {\r\n    this.temp = temp;\r\n    }\r\n    \r\n    public Integer getHumidity() {\r\n    return humidity;\r\n    }\r\n    \r\n    public void setHumidity(Integer humidity) {\r\n    this.humidity = humidity;\r\n    }\r\n    \r\n    public Integer getPressure() {\r\n    return pressure;\r\n    }\r\n    \r\n    public void setPressure(Integer pressure) {\r\n    this.pressure = pressure;\r\n    }\r\n    \r\n    public Double getTempMin() {\r\n    return tempMin;\r\n    }\r\n    \r\n    public void setTempMin(Double tempMin) {\r\n    this.tempMin = tempMin;\r\n    }\r\n    \r\n    public Double getTempMax() {\r\n    return tempMax;\r\n    }\r\n    \r\n    public void setTempMax(Double tempMax) {\r\n    this.tempMax = tempMax;\r\n    }\r\n    \r\n    }\r\n    -----------------------------------com.example.Rain.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Rain {\r\n    \r\n    @SerializedName(&quot;3h&quot;)\r\n    @Expose\r\n    private Integer _3h;\r\n    \r\n    public Integer get3h() {\r\n    return _3h;\r\n    }\r\n    \r\n    public void set3h(Integer _3h) {\r\n    this._3h = _3h;\r\n    }\r\n    \r\n    }\r\n    -----------------------------------com.example.Sys.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Sys {\r\n    \r\n    @SerializedName(&quot;country&quot;)\r\n    @Expose\r\n    private String country;\r\n    @SerializedName(&quot;sunrise&quot;)\r\n    @Expose\r\n    private Integer sunrise;\r\n    @SerializedName(&quot;sunset&quot;)\r\n    @Expose\r\n    private Integer sunset;\r\n    \r\n    public String getCountry() {\r\n    return country;\r\n    }\r\n    \r\n    public void setCountry(String country) {\r\n    this.country = country;\r\n    }\r\n    \r\n    public Integer getSunrise() {\r\n    return sunrise;\r\n    }\r\n    \r\n    public void setSunrise(Integer sunrise) {\r\n    this.sunrise = sunrise;\r\n    }\r\n    \r\n    public Integer getSunset() {\r\n    return sunset;\r\n    }\r\n    \r\n    public void setSunset(Integer sunset) {\r\n    this.sunset = sunset;\r\n    }\r\n    \r\n    }\r\n    -----------------------------------com.example.Weather.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Weather {\r\n    \r\n    @SerializedName(&quot;id&quot;)\r\n    @Expose\r\n    private Integer id;\r\n    @SerializedName(&quot;main&quot;)\r\n    @Expose\r\n    private String main;\r\n    @SerializedName(&quot;description&quot;)\r\n    @Expose\r\n    private String description;\r\n    @SerializedName(&quot;icon&quot;)\r\n    @Expose\r\n    private String icon;\r\n    \r\n    public Integer getId() {\r\n    return id;\r\n    }\r\n    \r\n    public void setId(Integer id) {\r\n    this.id = id;\r\n    }\r\n    \r\n    public String getMain() {\r\n    return main;\r\n    }\r\n    \r\n    public void setMain(String main) {\r\n    this.main = main;\r\n    }\r\n    \r\n    public String getDescription() {\r\n    return description;\r\n    }\r\n    \r\n    public void setDescription(String description) {\r\n    this.description = description;\r\n    }\r\n    \r\n    public String getIcon() {\r\n    return icon;\r\n    }\r\n    \r\n    public void setIcon(String icon) {\r\n    this.icon = icon;\r\n    }\r\n    \r\n    }\r\n    -----------------------------------com.example.Wind.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Wind {\r\n    \r\n    @SerializedName(&quot;speed&quot;)\r\n    @Expose\r\n    private Double speed;\r\n    @SerializedName(&quot;deg&quot;)\r\n    @Expose\r\n    private Double deg;\r\n    \r\n    public Double getSpeed() {\r\n    return speed;\r\n    }\r\n    \r\n    public void setSpeed(Double speed) {\r\n    this.speed = speed;\r\n    }\r\n    \r\n    public Double getDeg() {\r\n    return deg;\r\n    }\r\n    \r\n    public void setDeg(Double deg) {\r\n    this.deg = deg;\r\n    }\r\n    \r\n    }\r\n\r\n\r\nAfter all is done you can do something like this in Java:\r\n\r\n    String config_settings = &quot;Your JSON String&quot;;\r\n    Gson converter = new Gson();\r\n    ConfigSettings settings = converter.fromJson(config_settings , Data.class);\r\n\r\n","title":"Java - Get specific json information from weather api","body":"<p>I recommend you using Gson converter. It helps you to convert a JSON to a Java Class. </p>\n\n<p><strong>Data conversions</strong>:</p>\n\n<ul>\n<li>JSON Object - Java class </li>\n<li>Array - List&lt;></li>\n</ul>\n\n<p><strong>Helpful links</strong>:</p>\n\n<ul>\n<li><p>This is the library you need to <strong>include</strong> (tutorials included) in Java: <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GSON Converter Git</a></p></li>\n<li><p>This is a <strong>weather sample</strong> of a JSON (example by coordinates): <a href=\"https://openweathermap.org/current\" rel=\"nofollow noreferrer\">JSON example website</a></p></li>\n<li><p>This is an JSON to Class online <strong>converter</strong>: <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">Jsonschema2pojo generator</a></p></li>\n</ul>\n\n<p>You can use jsonschema2pojo to convert the JSON to classes like <strong>this</strong>:</p>\n\n<pre><code>-----------------------------------com.example.Clouds.java-----------------------------------\n\npackage com.example;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Clouds {\n\n@SerializedName(\"all\")\n@Expose\nprivate Integer all;\n\npublic Integer getAll() {\nreturn all;\n}\n\npublic void setAll(Integer all) {\nthis.all = all;\n}\n\n}\n-----------------------------------com.example.Coord.java-----------------------------------\n\npackage com.example;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Coord {\n\n@SerializedName(\"lon\")\n@Expose\nprivate Integer lon;\n@SerializedName(\"lat\")\n@Expose\nprivate Integer lat;\n\npublic Integer getLon() {\nreturn lon;\n}\n\npublic void setLon(Integer lon) {\nthis.lon = lon;\n}\n\npublic Integer getLat() {\nreturn lat;\n}\n\npublic void setLat(Integer lat) {\nthis.lat = lat;\n}\n\n}\n-----------------------------------com.example.Data.java-----------------------------------\n\npackage com.example;\n\nimport java.util.List;\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Data {\n\n@SerializedName(\"coord\")\n@Expose\nprivate Coord coord;\n@SerializedName(\"sys\")\n@Expose\nprivate Sys sys;\n@SerializedName(\"weather\")\n@Expose\nprivate List&lt;Weather&gt; weather = null;\n@SerializedName(\"main\")\n@Expose\nprivate Main main;\n@SerializedName(\"wind\")\n@Expose\nprivate Wind wind;\n@SerializedName(\"rain\")\n@Expose\nprivate Rain rain;\n@SerializedName(\"clouds\")\n@Expose\nprivate Clouds clouds;\n@SerializedName(\"dt\")\n@Expose\nprivate Integer dt;\n@SerializedName(\"id\")\n@Expose\nprivate Integer id;\n@SerializedName(\"name\")\n@Expose\nprivate String name;\n@SerializedName(\"cod\")\n@Expose\nprivate Integer cod;\n\npublic Coord getCoord() {\nreturn coord;\n}\n\npublic void setCoord(Coord coord) {\nthis.coord = coord;\n}\n\npublic Sys getSys() {\nreturn sys;\n}\n\npublic void setSys(Sys sys) {\nthis.sys = sys;\n}\n\npublic List&lt;Weather&gt; getWeather() {\nreturn weather;\n}\n\npublic void setWeather(List&lt;Weather&gt; weather) {\nthis.weather = weather;\n}\n\npublic Main getMain() {\nreturn main;\n}\n\npublic void setMain(Main main) {\nthis.main = main;\n}\n\npublic Wind getWind() {\nreturn wind;\n}\n\npublic void setWind(Wind wind) {\nthis.wind = wind;\n}\n\npublic Rain getRain() {\nreturn rain;\n}\n\npublic void setRain(Rain rain) {\nthis.rain = rain;\n}\n\npublic Clouds getClouds() {\nreturn clouds;\n}\n\npublic void setClouds(Clouds clouds) {\nthis.clouds = clouds;\n}\n\npublic Integer getDt() {\nreturn dt;\n}\n\npublic void setDt(Integer dt) {\nthis.dt = dt;\n}\n\npublic Integer getId() {\nreturn id;\n}\n\npublic void setId(Integer id) {\nthis.id = id;\n}\n\npublic String getName() {\nreturn name;\n}\n\npublic void setName(String name) {\nthis.name = name;\n}\n\npublic Integer getCod() {\nreturn cod;\n}\n\npublic void setCod(Integer cod) {\nthis.cod = cod;\n}\n\n}\n-----------------------------------com.example.Main.java-----------------------------------\n\npackage com.example;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Main {\n\n@SerializedName(\"temp\")\n@Expose\nprivate Double temp;\n@SerializedName(\"humidity\")\n@Expose\nprivate Integer humidity;\n@SerializedName(\"pressure\")\n@Expose\nprivate Integer pressure;\n@SerializedName(\"temp_min\")\n@Expose\nprivate Double tempMin;\n@SerializedName(\"temp_max\")\n@Expose\nprivate Double tempMax;\n\npublic Double getTemp() {\nreturn temp;\n}\n\npublic void setTemp(Double temp) {\nthis.temp = temp;\n}\n\npublic Integer getHumidity() {\nreturn humidity;\n}\n\npublic void setHumidity(Integer humidity) {\nthis.humidity = humidity;\n}\n\npublic Integer getPressure() {\nreturn pressure;\n}\n\npublic void setPressure(Integer pressure) {\nthis.pressure = pressure;\n}\n\npublic Double getTempMin() {\nreturn tempMin;\n}\n\npublic void setTempMin(Double tempMin) {\nthis.tempMin = tempMin;\n}\n\npublic Double getTempMax() {\nreturn tempMax;\n}\n\npublic void setTempMax(Double tempMax) {\nthis.tempMax = tempMax;\n}\n\n}\n-----------------------------------com.example.Rain.java-----------------------------------\n\npackage com.example;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Rain {\n\n@SerializedName(\"3h\")\n@Expose\nprivate Integer _3h;\n\npublic Integer get3h() {\nreturn _3h;\n}\n\npublic void set3h(Integer _3h) {\nthis._3h = _3h;\n}\n\n}\n-----------------------------------com.example.Sys.java-----------------------------------\n\npackage com.example;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Sys {\n\n@SerializedName(\"country\")\n@Expose\nprivate String country;\n@SerializedName(\"sunrise\")\n@Expose\nprivate Integer sunrise;\n@SerializedName(\"sunset\")\n@Expose\nprivate Integer sunset;\n\npublic String getCountry() {\nreturn country;\n}\n\npublic void setCountry(String country) {\nthis.country = country;\n}\n\npublic Integer getSunrise() {\nreturn sunrise;\n}\n\npublic void setSunrise(Integer sunrise) {\nthis.sunrise = sunrise;\n}\n\npublic Integer getSunset() {\nreturn sunset;\n}\n\npublic void setSunset(Integer sunset) {\nthis.sunset = sunset;\n}\n\n}\n-----------------------------------com.example.Weather.java-----------------------------------\n\npackage com.example;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Weather {\n\n@SerializedName(\"id\")\n@Expose\nprivate Integer id;\n@SerializedName(\"main\")\n@Expose\nprivate String main;\n@SerializedName(\"description\")\n@Expose\nprivate String description;\n@SerializedName(\"icon\")\n@Expose\nprivate String icon;\n\npublic Integer getId() {\nreturn id;\n}\n\npublic void setId(Integer id) {\nthis.id = id;\n}\n\npublic String getMain() {\nreturn main;\n}\n\npublic void setMain(String main) {\nthis.main = main;\n}\n\npublic String getDescription() {\nreturn description;\n}\n\npublic void setDescription(String description) {\nthis.description = description;\n}\n\npublic String getIcon() {\nreturn icon;\n}\n\npublic void setIcon(String icon) {\nthis.icon = icon;\n}\n\n}\n-----------------------------------com.example.Wind.java-----------------------------------\n\npackage com.example;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Wind {\n\n@SerializedName(\"speed\")\n@Expose\nprivate Double speed;\n@SerializedName(\"deg\")\n@Expose\nprivate Double deg;\n\npublic Double getSpeed() {\nreturn speed;\n}\n\npublic void setSpeed(Double speed) {\nthis.speed = speed;\n}\n\npublic Double getDeg() {\nreturn deg;\n}\n\npublic void setDeg(Double deg) {\nthis.deg = deg;\n}\n\n}\n</code></pre>\n\n<p>After all is done you can do something like this in Java:</p>\n\n<pre><code>String config_settings = \"Your JSON String\";\nGson converter = new Gson();\nConfigSettings settings = converter.fromJson(config_settings , Data.class);\n</code></pre>\n"}],"owner":{"account_id":12371781,"reputation":43,"user_id":9021773,"display_name":"NeariX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1408,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1667306751,"answer_count":2,"score":-2,"last_activity_date":1667293230,"creation_date":1526551816,"question_id":50388823,"body_markdown":"i want to extract the current weather state as a string (like cloudy, rain...) from the [openweather][2] API. The Problem is, that the information is located in weather:0:main: [(See here)][1]\r\nI just cant get the information because there is a &quot;0:&quot;. I&#39;m new to JSON in java and just need your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wgBK3.png\n [2]: https://openweathermap.org/api","title":"Java - Get specific json information from weather api","body":"<p>i want to extract the current weather state as a string (like cloudy, rain...) from the <a href=\"https://openweathermap.org/api\" rel=\"nofollow noreferrer\">openweather</a> API. The Problem is, that the information is located in weather:0:main: <a href=\"https://i.stack.imgur.com/wgBK3.png\" rel=\"nofollow noreferrer\">(See here)</a>\nI just cant get the information because there is a &quot;0:&quot;. I'm new to JSON in java and just need your help.</p>\n"},{"tags":["java","aspectj"],"comments":[{"owner":{"account_id":21043012,"reputation":43,"user_id":15464968,"display_name":"Harper2021"},"score":0,"creation_date":1666484517,"post_id":74160093,"comment_id":130948422,"body_markdown":"If there was a public Intellij project with a working AspectJ example, that would be a great help","body":"If there was a public Intellij project with a working AspectJ example, that would be a great help"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1667231833,"post_id":74160093,"comment_id":131115970,"body_markdown":"You do not need an IntelliJ project, because if you activate AspectJ support for IntelliJ, it will automatically configure the project correctly when auto-importing a correct Maven project.","body":"You do not need an IntelliJ project, because if you activate AspectJ support for IntelliJ, it will automatically configure the project correctly when auto-importing a correct Maven project."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1668331522,"post_id":74160093,"comment_id":131375316,"body_markdown":"How about some feedback to my answer? I think it is rather impolite to ask for help in public and then keep your helpers waiting.","body":"How about some feedback to my answer? I think it is rather impolite to ask for help in public and then keep your helpers waiting."},{"owner":{"account_id":21043012,"reputation":43,"user_id":15464968,"display_name":"Harper2021"},"score":0,"creation_date":1669330447,"post_id":74160093,"comment_id":131624695,"body_markdown":"I very much appreciate the help @kriegaex. Client work as bumped this problem, so I will be trying again after that problem is solved. Certainly I will give feedback then.","body":"I very much appreciate the help @kriegaex. Client work as bumped this problem, so I will be trying again after that problem is solved. Certainly I will give feedback then."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667293043,"creation_date":1667232052,"answer_id":74265983,"question_id":74160093,"body_markdown":"Have you tried without Lombok in order to avoid [this problem](https://stackoverflow.com/a/26157868/1082681)? Try doing manually in your test class what the Lombok annotation does instead.\r\n\r\nAfter we have established that this solves the problem, we can start looking into [possible workarounds](https://stackoverflow.com/a/56999300/1082681). If this really is your first AspectJ problem, you should not start with a difficult mix like AspectJ + Lombok.\r\n\r\nBesides, if your `@Data` class is immutable, you might not need Lombok at all and could use a recent Java version and native Java records for that.","title":"AspectJ configuration / setup - pointcuts not firing","body":"<p>Have you tried without Lombok in order to avoid <a href=\"https://stackoverflow.com/a/26157868/1082681\">this problem</a>? Try doing manually in your test class what the Lombok annotation does instead.</p>\n<p>After we have established that this solves the problem, we can start looking into <a href=\"https://stackoverflow.com/a/56999300/1082681\">possible workarounds</a>. If this really is your first AspectJ problem, you should not start with a difficult mix like AspectJ + Lombok.</p>\n<p>Besides, if your <code>@Data</code> class is immutable, you might not need Lombok at all and could use a recent Java version and native Java records for that.</p>\n"}],"owner":{"account_id":21043012,"reputation":43,"user_id":15464968,"display_name":"Harper2021"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74265983,"answer_count":1,"score":0,"last_activity_date":1667293043,"creation_date":1666395780,"question_id":74160093,"body_markdown":"I am trying to get my first AspectJ aspect running. Setup looks ok to me, following the documentation I can find. e.g.\r\n\r\n * developers site: https://github.com/kriegaex/org.aspectj\r\n * set up instructions: https://github.com/eclipse/org.aspectj/blob/master/docs/developer/IDE.md\r\n * join point examples: https://www.eclipse.org/aspectj/doc/released/progguide/language-joinPoints.html\r\n\r\nBut no aspect will fire, no matter what options I have tried during all today.\r\n\r\nI believe the pointcuts is correctly pointing to my method call because I was getting the error about pointcuts not being used when I changed it. (Thats not happening now - dont know what I did :-())\r\n\r\nSo is the problem in the setup? The pointcuts? How do you go about de-bugging such a situation? Am I missing something in the docs?\r\n\r\n\r\n\r\nPOM\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.14.0&lt;/version&gt;\r\n                &lt;!--\r\n                &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.13.2-SNAPSHOT&lt;/version&gt;\r\n                --&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;       &lt;!-- use this goal to weave all your main classes --&gt;\r\n                            &lt;goal&gt;test-compile&lt;/goal&gt;  &lt;!-- use this goal to weave all your test classes --&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.9.7&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n                    &lt;forceAjcCompile&gt;true&lt;/forceAjcCompile&gt;\r\n                    &lt;sources/&gt;\r\n                    &lt;weaveDirectories&gt;\r\n                        &lt;weaveDirectory&gt;${project.build.directory}/classes&lt;/weaveDirectory&gt;\r\n                    &lt;/weaveDirectories&gt;\r\n                    &lt;complianceLevel&gt;11&lt;/complianceLevel&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;Xlint&gt;warning&lt;/Xlint&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n       \r\n    \r\n    &lt;dependencies&gt;\r\n    .....\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;22.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/dev.aspectj/aspectj-maven-plugin --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.13.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjrt --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.7&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.7&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjtools --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    &lt;/dependencies&gt;\r\n\r\nASPECT\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public aspect   MdDOMAINChildAspect {\r\n    \r\n        pointcut myExceptionHandlerPointcut(): execution(void mdDOMAIN.MdDOMAINInstance.testCall() );\r\n    \r\n        before(): myExceptionHandlerPointcut() {\r\n            System.out.println(&quot;-------------- Aspect Advice Logic ---------------&quot;);\r\n        }\r\n\r\nCLASS\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Data\r\n    public class MdDOMAINInstance {\r\n    \r\n    \r\n        @MdDOMAINChildAnnotation(selectName = &quot;Indicators&quot;)\r\n        public MdDOMAINInstance selectFilingIndicators() throws NoSuchMethodException {\r\n    \r\n            testCall();\r\n    \r\n            Method m=this.getClass().getMethod(&quot;selectFilingIndicators&quot;);\r\n            MdDOMAINChildAnnotation metaidAnnotation=m.getAnnotation(MdDOMAINChildAnnotation.class);\r\n            System.out.println(&quot;Annotation: &quot; + metaidAnnotation.selectName());\r\n    \r\n            return this;\r\n        }\r\n    \r\n        public void testCall()\r\n        {\r\n            System.out.println(&quot;In testCall()&quot;);\r\n            return ;\r\n        }\r\n    }\r\n\r\nTEST\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    class MdDOMAINInstanceTest {\r\n    \r\n        @Test\r\n        void selectFilingIndicatorsTest() throws NoSuchMethodException {\r\n            MdDOMAINInstance mdDOMAINInstance = new MdDOMAINInstance().selectFilingIndicators();\r\n        }\r\n    }\r\n\r\n\r\nMAVEN TEST RUN\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    clean test -Dtest=MdDOMAINInstanceTest -f pom.xml\r\n\r\nMAVEN TEST RUN OUTCOME\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-11.0.12\\bin\\java.exe&quot; -Dmaven.multiModuleProjectDirectory=....IdeaProjects\\us-MYROOT-DOMAIN-004 &quot;-Dmaven.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven3&quot; &quot;-Dclassworlds.conf=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven3\\bin\\m2.conf&quot; &quot;-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven-event-listener.jar&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\lib\\idea_rt.jar=52349:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds-2.6.0.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds.license&quot; org.codehaus.classworlds.Launcher -Didea.version=2021.3.2 clean test -Dtest=MdDOMAINInstanceTest\r\n    [INFO] Scanning for projects...\r\n    [WARNING] \r\n    [WARNING] Some problems were encountered while building the effective model for us-MYROOT:us-MYROOT-DOMAIN-004:jar:1.0-SNAPSHOT\r\n    [WARNING] &#39;dependencies.dependency.version&#39; for org.junit.jupiter:junit-jupiter:jar is either LATEST or RELEASE (both of them are being deprecated) @ line 117, column 22\r\n    [WARNING] &#39;build.plugins.plugin.version&#39; for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 20, column 21\r\n    [WARNING] \r\n    [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n    [WARNING] \r\n    [WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n    [WARNING] \r\n    [INFO] \r\n    [INFO] --------------&lt; us-MYROOT:us-MYROOT-DOMAIN-004 &gt;--------------\r\n    [INFO] Building us-MYROOT-DOMAIN-004 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ us-MYROOT-DOMAIN-004 ---\r\n    [INFO] Deleting .....IdeaProjects\\us-MYROOT-DOMAIN-004\\target\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ us-MYROOT-DOMAIN-004 ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 0 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ us-MYROOT-DOMAIN-004 ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 3 source files to .....IdeaProjects\\us-MYROOT-DOMAIN-004\\target\\classes\r\n    [INFO] \r\n    [INFO] --- aspectj-maven-plugin:1.14.0:compile (default) @ us-MYROOT-DOMAIN-004 ---\r\n    [INFO] Showing AJC message detail for messages of types: [error, warning, fail]\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ us-MYROOT-DOMAIN-004 ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 0 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ us-MYROOT-DOMAIN-004 ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 1 source file to .....IdeaProjects\\us-MYROOT-DOMAIN-004\\target\\test-classes\r\n    [INFO] \r\n    [INFO] --- aspectj-maven-plugin:1.14.0:test-compile (default) @ us-MYROOT-DOMAIN-004 ---\r\n    [INFO] Showing AJC message detail for messages of types: [error, warning, fail]\r\n    [WARNING] You aren&#39;t using a compiler supported by lombok, so lombok will not work and has been disabled.\r\n    Your processor is: org.aspectj.org.eclipse.jdt.internal.compiler.apt.dispatch.BatchProcessingEnvImpl\r\n    Lombok supports: OpenJDK javac, ECJ\r\n    \t&lt;unknown source file&gt;:&lt;no line information&gt;\r\n    \r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:2.22.1:test (default-test) @ us-MYROOT-DOMAIN-004 ---\r\n    [INFO] \r\n    [INFO] -------------------------------------------------------\r\n    [INFO]  T E S T S\r\n    [INFO] -------------------------------------------------------\r\n    [INFO] Running mdDOMAIN.MdDOMAINInstanceTest\r\n    In testCall()\r\n    Annotation: Indicators\r\n    [INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.065 s - in mdDOMAIN.MdDOMAINInstanceTest\r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO] \r\n    [INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n    [INFO] \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  22.238 s\r\n    [INFO] Finished at: 2022-10-21T20:14:46+11:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    \r\n    Process finished with exit code 0\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"AspectJ configuration / setup - pointcuts not firing","body":"<p>I am trying to get my first AspectJ aspect running. Setup looks ok to me, following the documentation I can find. e.g.</p>\n<ul>\n<li>developers site: <a href=\"https://github.com/kriegaex/org.aspectj\" rel=\"nofollow noreferrer\">https://github.com/kriegaex/org.aspectj</a></li>\n<li>set up instructions: <a href=\"https://github.com/eclipse/org.aspectj/blob/master/docs/developer/IDE.md\" rel=\"nofollow noreferrer\">https://github.com/eclipse/org.aspectj/blob/master/docs/developer/IDE.md</a></li>\n<li>join point examples: <a href=\"https://www.eclipse.org/aspectj/doc/released/progguide/language-joinPoints.html\" rel=\"nofollow noreferrer\">https://www.eclipse.org/aspectj/doc/released/progguide/language-joinPoints.html</a></li>\n</ul>\n<p>But no aspect will fire, no matter what options I have tried during all today.</p>\n<p>I believe the pointcuts is correctly pointing to my method call because I was getting the error about pointcuts not being used when I changed it. (Thats not happening now - dont know what I did :-())</p>\n<p>So is the problem in the setup? The pointcuts? How do you go about de-bugging such a situation? Am I missing something in the docs?</p>\n<p>POM</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.14.0&lt;/version&gt;\n            &lt;!--\n            &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.13.2-SNAPSHOT&lt;/version&gt;\n            --&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;       &lt;!-- use this goal to weave all your main classes --&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;  &lt;!-- use this goal to weave all your test classes --&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                    &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n                    &lt;version&gt;1.9.7&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;configuration&gt;\n                &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n                &lt;forceAjcCompile&gt;true&lt;/forceAjcCompile&gt;\n                &lt;sources/&gt;\n                &lt;weaveDirectories&gt;\n                    &lt;weaveDirectory&gt;${project.build.directory}/classes&lt;/weaveDirectory&gt;\n                &lt;/weaveDirectories&gt;\n                &lt;complianceLevel&gt;11&lt;/complianceLevel&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n                &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;Xlint&gt;warning&lt;/Xlint&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n   \n\n&lt;dependencies&gt;\n.....\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;RELEASE&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.22&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n        &lt;version&gt;1.6.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.6.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n        &lt;version&gt;5.6.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n        &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n        &lt;version&gt;22.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/dev.aspectj/aspectj-maven-plugin --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.13.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjrt --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;version&gt;1.9.7&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;version&gt;1.9.7&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjtools --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n        &lt;version&gt;1.9.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>ASPECT</p>\n<pre class=\"lang-java prettyprint-override\"><code>public aspect   MdDOMAINChildAspect {\n\n    pointcut myExceptionHandlerPointcut(): execution(void mdDOMAIN.MdDOMAINInstance.testCall() );\n\n    before(): myExceptionHandlerPointcut() {\n        System.out.println(&quot;-------------- Aspect Advice Logic ---------------&quot;);\n    }\n</code></pre>\n<p>CLASS</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class MdDOMAINInstance {\n\n\n    @MdDOMAINChildAnnotation(selectName = &quot;Indicators&quot;)\n    public MdDOMAINInstance selectFilingIndicators() throws NoSuchMethodException {\n\n        testCall();\n\n        Method m=this.getClass().getMethod(&quot;selectFilingIndicators&quot;);\n        MdDOMAINChildAnnotation metaidAnnotation=m.getAnnotation(MdDOMAINChildAnnotation.class);\n        System.out.println(&quot;Annotation: &quot; + metaidAnnotation.selectName());\n\n        return this;\n    }\n\n    public void testCall()\n    {\n        System.out.println(&quot;In testCall()&quot;);\n        return ;\n    }\n}\n</code></pre>\n<p>TEST</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MdDOMAINInstanceTest {\n\n    @Test\n    void selectFilingIndicatorsTest() throws NoSuchMethodException {\n        MdDOMAINInstance mdDOMAINInstance = new MdDOMAINInstance().selectFilingIndicators();\n    }\n}\n</code></pre>\n<p>MAVEN TEST RUN</p>\n<pre class=\"lang-none prettyprint-override\"><code>clean test -Dtest=MdDOMAINInstanceTest -f pom.xml\n</code></pre>\n<p>MAVEN TEST RUN OUTCOME</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;C:\\Program Files\\Java\\jdk-11.0.12\\bin\\java.exe&quot; -Dmaven.multiModuleProjectDirectory=....IdeaProjects\\us-MYROOT-DOMAIN-004 &quot;-Dmaven.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven3&quot; &quot;-Dclassworlds.conf=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven3\\bin\\m2.conf&quot; &quot;-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven-event-listener.jar&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\lib\\idea_rt.jar=52349:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds-2.6.0.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds.license&quot; org.codehaus.classworlds.Launcher -Didea.version=2021.3.2 clean test -Dtest=MdDOMAINInstanceTest\n[INFO] Scanning for projects...\n[WARNING] \n[WARNING] Some problems were encountered while building the effective model for us-MYROOT:us-MYROOT-DOMAIN-004:jar:1.0-SNAPSHOT\n[WARNING] 'dependencies.dependency.version' for org.junit.jupiter:junit-jupiter:jar is either LATEST or RELEASE (both of them are being deprecated) @ line 117, column 22\n[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 20, column 21\n[WARNING] \n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING] \n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n[WARNING] \n[INFO] \n[INFO] --------------&lt; us-MYROOT:us-MYROOT-DOMAIN-004 &gt;--------------\n[INFO] Building us-MYROOT-DOMAIN-004 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ us-MYROOT-DOMAIN-004 ---\n[INFO] Deleting .....IdeaProjects\\us-MYROOT-DOMAIN-004\\target\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ us-MYROOT-DOMAIN-004 ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ us-MYROOT-DOMAIN-004 ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 3 source files to .....IdeaProjects\\us-MYROOT-DOMAIN-004\\target\\classes\n[INFO] \n[INFO] --- aspectj-maven-plugin:1.14.0:compile (default) @ us-MYROOT-DOMAIN-004 ---\n[INFO] Showing AJC message detail for messages of types: [error, warning, fail]\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ us-MYROOT-DOMAIN-004 ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ us-MYROOT-DOMAIN-004 ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to .....IdeaProjects\\us-MYROOT-DOMAIN-004\\target\\test-classes\n[INFO] \n[INFO] --- aspectj-maven-plugin:1.14.0:test-compile (default) @ us-MYROOT-DOMAIN-004 ---\n[INFO] Showing AJC message detail for messages of types: [error, warning, fail]\n[WARNING] You aren't using a compiler supported by lombok, so lombok will not work and has been disabled.\nYour processor is: org.aspectj.org.eclipse.jdt.internal.compiler.apt.dispatch.BatchProcessingEnvImpl\nLombok supports: OpenJDK javac, ECJ\n    &lt;unknown source file&gt;:&lt;no line information&gt;\n\n[INFO] \n[INFO] --- maven-surefire-plugin:2.22.1:test (default-test) @ us-MYROOT-DOMAIN-004 ---\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running mdDOMAIN.MdDOMAINInstanceTest\nIn testCall()\nAnnotation: Indicators\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.065 s - in mdDOMAIN.MdDOMAINInstanceTest\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  22.238 s\n[INFO] Finished at: 2022-10-21T20:14:46+11:00\n[INFO] ------------------------------------------------------------------------\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","aop","micronaut"],"answers":[{"comments":[{"owner":{"account_id":3723586,"reputation":644,"user_id":4186437,"display_name":"goutham"},"score":0,"creation_date":1666117339,"post_id":74115516,"comment_id":130858347,"body_markdown":"Tried it, but it&#39;s not working.","body":"Tried it, but it&#39;s not working."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1667292305,"post_id":74115516,"comment_id":131128494,"body_markdown":"`@Inherited` annotations only have an effect on class types, not on interface types, methods, parameters, fields or packages. See for example [my answer here](https://stackoverflow.com/a/42607016/1082681).","body":"<code>@Inherited</code> annotations only have an effect on class types, not on interface types, methods, parameters, fields or packages. See for example <a href=\"https://stackoverflow.com/a/42607016/1082681\">my answer here</a>."}],"tags":[],"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666116180,"creation_date":1666116180,"answer_id":74115516,"question_id":74115237,"body_markdown":"It might need to be annotated with `@Inherited`.","title":"@Around advice is not working with package level annotations","body":"<p>It might need to be annotated with <code>@Inherited</code>.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667292263,"creation_date":1667292263,"answer_id":74273418,"question_id":74115237,"body_markdown":"The simple answer is: Neither native AspectJ nor simpler AOP frameworks such as Spring AOP provide any means to intercept package-level annotations.\r\n\r\nWhat you could do is use native **AspectJ&#39;s annotation processing support** in order to generate annotations for all classes or methods you wish to target during your build and then intercept them using an aspect. Here are some of my old answers showing examples of how to use the feature:\r\n\r\n* https://stackoverflow.com/a/29877757/1082681\r\n* https://stackoverflow.com/a/40449796/1082681\r\n* https://stackoverflow.com/a/29437129/1082681","title":"@Around advice is not working with package level annotations","body":"<p>The simple answer is: Neither native AspectJ nor simpler AOP frameworks such as Spring AOP provide any means to intercept package-level annotations.</p>\n<p>What you could do is use native <strong>AspectJ's annotation processing support</strong> in order to generate annotations for all classes or methods you wish to target during your build and then intercept them using an aspect. Here are some of my old answers showing examples of how to use the feature:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/29877757/1082681\">https://stackoverflow.com/a/29877757/1082681</a></li>\n<li><a href=\"https://stackoverflow.com/a/40449796/1082681\">https://stackoverflow.com/a/40449796/1082681</a></li>\n<li><a href=\"https://stackoverflow.com/a/29437129/1082681\">https://stackoverflow.com/a/29437129/1082681</a></li>\n</ul>\n"}],"owner":{"account_id":3723586,"reputation":644,"user_id":4186437,"display_name":"goutham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74273418,"answer_count":2,"score":0,"last_activity_date":1667292263,"creation_date":1666114856,"question_id":74115237,"body_markdown":"I want to add API versions across all log statements. To achieve that, I have created a custom annotation and its corresponding interceptor.\r\n\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.METHOD, ElementType.TYPE, ElementType.PACKAGE})\r\n@Around\r\n@Documented\r\npublic @interface LogAPIVersion {\r\n    String apiVersion() default &quot;&quot;;\r\n}\r\n```\r\n\r\nThings are working fine if I place annotation on a method or a class.\r\n\r\nBut, I want to apply this annotation at a package level (for all classes and their methods). I&#39;ve created a `package-info.java` file and decorated my custom annotation onthe package name.\r\n```\r\n@LogAPIVersion(apiVersion = &quot;v1&quot;)\r\npackage com.example.controllers.v1;\r\n```\r\nUnfortunately, my logging interceptor is not getting invoked. How do I make this work?","title":"@Around advice is not working with package level annotations","body":"<p>I want to add API versions across all log statements. To achieve that, I have created a custom annotation and its corresponding interceptor.</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD, ElementType.TYPE, ElementType.PACKAGE})\n@Around\n@Documented\npublic @interface LogAPIVersion {\n    String apiVersion() default &quot;&quot;;\n}\n</code></pre>\n<p>Things are working fine if I place annotation on a method or a class.</p>\n<p>But, I want to apply this annotation at a package level (for all classes and their methods). I've created a <code>package-info.java</code> file and decorated my custom annotation onthe package name.</p>\n<pre><code>@LogAPIVersion(apiVersion = &quot;v1&quot;)\npackage com.example.controllers.v1;\n</code></pre>\n<p>Unfortunately, my logging interceptor is not getting invoked. How do I make this work?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1529471936,"post_id":50940704,"comment_id":88879132,"body_markdown":"You need to override the `getName` method","body":"You need to override the <code>getName</code> method"},{"owner":{"account_id":13508159,"reputation":2421,"user_id":9745452,"display_name":"Coder-Man"},"score":0,"creation_date":1529472180,"post_id":50940704,"comment_id":88879220,"body_markdown":"MadProgrammer answered your last question, yes, you did not override that method","body":"MadProgrammer answered your last question, yes, you did not override that method"},{"owner":{"account_id":8791246,"reputation":71,"user_id":6570986,"display_name":"jack_lv"},"score":0,"creation_date":1529472224,"post_id":50940704,"comment_id":88879238,"body_markdown":"@MadProgrammer  If not overriding `getName`, when I call `getName` on cat, is that equals to call `super.getName()`(I meant calling `getName` of `Animal`)?","body":"@MadProgrammer  If not overriding <code>getName</code>, when I call <code>getName</code> on cat, is that equals to call <code>super.getName()</code>(I meant calling <code>getName</code> of <code>Animal</code>)?"},{"owner":{"account_id":4603196,"reputation":1932,"user_id":3733369,"accept_rate":44,"display_name":"rodridevops"},"score":0,"creation_date":1529472236,"post_id":50940704,"comment_id":88879243,"body_markdown":"The purpose of Method Overriding is clear here. Child class wants to give its own implementation so that when it calls this method, it prints Cat instead of Animal.","body":"The purpose of Method Overriding is clear here. Child class wants to give its own implementation so that when it calls this method, it prints Cat instead of Animal."},{"owner":{"account_id":4894037,"reputation":1666,"user_id":3944252,"accept_rate":100,"display_name":"sparker"},"score":0,"creation_date":1529472268,"post_id":50940704,"comment_id":88879255,"body_markdown":"@jack_lv yes since cat is the subclass of Animal","body":"@jack_lv yes since cat is the subclass of Animal"},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1529472359,"post_id":50940704,"comment_id":88879294,"body_markdown":"In Java, only method can be overridden, not member fields.  There is no mechanism to do late binding for member field lookup in Java.","body":"In Java, only method can be overridden, not member fields.  There is no mechanism to do late binding for member field lookup in Java."},{"owner":{"account_id":13691134,"reputation":301,"user_id":9880663,"display_name":"mcbrent"},"score":0,"creation_date":1529472364,"post_id":50940704,"comment_id":88879295,"body_markdown":"In Java, variables are not polymorphic, they do not override one another.","body":"In Java, variables are not polymorphic, they do not override one another."}],"answers":[{"tags":[],"owner":{"account_id":9257065,"reputation":645,"user_id":6875565,"display_name":"particleman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529472232,"creation_date":1529472232,"answer_id":50940786,"question_id":50940704,"body_markdown":"Adding a private scope variable with the same name in the Cat class does nothing to obscure the variable in the Animal class. To change the behavior you need to override the accessor method to read the variable from the Cat class context.","title":"Calling inherited method in Java","body":"<p>Adding a private scope variable with the same name in the Cat class does nothing to obscure the variable in the Animal class. To change the behavior you need to override the accessor method to read the variable from the Cat class context.</p>\n"},{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1529472259,"creation_date":1529472259,"answer_id":50940793,"question_id":50940704,"body_markdown":"The `name` field is redeclared in the child class, but with the method `getName` being implemented in the parent, the only field that&#39;s going to be read is the parent&#39;s, `Animal.name`.\r\n\r\nIt&#39;s always a bad idea to declare in subclasses fields that have been declared in the superclass, because fields don&#39;t get &quot;overridden&quot;, they&#39;re simply hidden.\r\n\r\nWhat you intended to do is either of the following:\r\n\r\n**Override the method:**\r\n\r\n    class Animal {\r\n        private String name=&quot;Animal&quot;;\r\n    \r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n    }\r\n    \r\n    class Cat extends Animal {\r\n        public String getName() {\r\n            return &quot;Cat&quot;;\r\n        }\r\n    }\r\n\r\nYou can also declare a different field in the subclass, but that would be a bad idea still. The &quot;proper&quot; way to do that is overriding the method.\r\n\r\nOr, **expose the field to subclasse**s, and change the value from the child class:\r\n\r\n    class Animal {\r\n        protected String name = &quot;Animal&quot;;\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n    \r\n    class Cat extends Animal {\r\n        public Cat() {\r\n            this.name = &quot;Cat&quot;;\r\n        }\r\n    }\r\n\r\nThis way, there&#39;s no confusion about which field stores the actual value, and it&#39;s clear where the &quot;overriding&quot; happens.","title":"Calling inherited method in Java","body":"<p>The <code>name</code> field is redeclared in the child class, but with the method <code>getName</code> being implemented in the parent, the only field that's going to be read is the parent's, <code>Animal.name</code>.</p>\n\n<p>It's always a bad idea to declare in subclasses fields that have been declared in the superclass, because fields don't get \"overridden\", they're simply hidden.</p>\n\n<p>What you intended to do is either of the following:</p>\n\n<p><strong>Override the method:</strong></p>\n\n<pre><code>class Animal {\n    private String name=\"Animal\";\n\n    public String getName() {\n        return this.name;\n    }\n}\n\nclass Cat extends Animal {\n    public String getName() {\n        return \"Cat\";\n    }\n}\n</code></pre>\n\n<p>You can also declare a different field in the subclass, but that would be a bad idea still. The \"proper\" way to do that is overriding the method.</p>\n\n<p>Or, <strong>expose the field to subclasse</strong>s, and change the value from the child class:</p>\n\n<pre><code>class Animal {\n    protected String name = \"Animal\";\n\n    public String getName() {\n        return name;\n    }\n}\n\nclass Cat extends Animal {\n    public Cat() {\n        this.name = \"Cat\";\n    }\n}\n</code></pre>\n\n<p>This way, there's no confusion about which field stores the actual value, and it's clear where the \"overriding\" happens.</p>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529472342,"creation_date":1529472342,"answer_id":50940802,"question_id":50940704,"body_markdown":"You can overload methods, not data members. `Animal.name` and `Cat.name` are two different data members. There&#39;s nothing special about `Animal.getName()` - it returns `Animal.name`, and is completely unaware of `Cat.name`.\r\n\r\nOne possible approach is to have just one data member, `Animal.name`, and have each class initialize it differently. E.g:\r\n\r\n    class Animal {\r\n        private String name;\r\n    \r\n        public Animal() {\r\n            this(&quot;Animal);\r\n        }\r\n    \r\n        protected Animal(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n    \r\n    class Cat extends Animal {\r\n        public Cat() {\r\n            this(&quot;Cat&#39;);\r\n        }\r\n    }\r\n\r\nOr if you want to rely on your class names, you could just use `getSimpleName`:\r\n\r\n    class Animal {\r\n        private String name;\r\n    \r\n        public Animal() {\r\n            name = getClass().getSimpleName();\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n    \r\n    class Cat extends Animal {\r\n    }","title":"Calling inherited method in Java","body":"<p>You can overload methods, not data members. <code>Animal.name</code> and <code>Cat.name</code> are two different data members. There's nothing special about <code>Animal.getName()</code> - it returns <code>Animal.name</code>, and is completely unaware of <code>Cat.name</code>.</p>\n\n<p>One possible approach is to have just one data member, <code>Animal.name</code>, and have each class initialize it differently. E.g:</p>\n\n<pre><code>class Animal {\n    private String name;\n\n    public Animal() {\n        this(\"Animal);\n    }\n\n    protected Animal(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n\nclass Cat extends Animal {\n    public Cat() {\n        this(\"Cat');\n    }\n}\n</code></pre>\n\n<p>Or if you want to rely on your class names, you could just use <code>getSimpleName</code>:</p>\n\n<pre><code>class Animal {\n    private String name;\n\n    public Animal() {\n        name = getClass().getSimpleName();\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n\nclass Cat extends Animal {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":444874,"reputation":663,"user_id":836967,"display_name":"Giancarlo Romeo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529472933,"creation_date":1529472534,"answer_id":50940844,"question_id":50940704,"body_markdown":"It&#39;s because `cat.getName()` calls the `getName()` method in `Animal` class that knows only *its own* `name` field, not subclasses one.\r\n\r\nA possible solution could be:\r\n\r\n    class Animal {\r\n        private String name = &quot;Animal&quot;;\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n    class Cat extends Animal {\r\n        private String name = &quot;Cat&quot;;\r\n\r\n        public Cat() {\r\n            setName(name);    \r\n        }\r\n    }\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            Cat cat = new Cat();\r\n            System.out.println(cat.getName());\r\n        }\r\n    }\r\n\r\nI discourage you to override method because you should do it on every future `Animal` subclass.","title":"Calling inherited method in Java","body":"<p>It's because <code>cat.getName()</code> calls the <code>getName()</code> method in <code>Animal</code> class that knows only <em>its own</em> <code>name</code> field, not subclasses one.</p>\n\n<p>A possible solution could be:</p>\n\n<pre><code>class Animal {\n    private String name = \"Animal\";\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n\nclass Cat extends Animal {\n    private String name = \"Cat\";\n\n    public Cat() {\n        setName(name);    \n    }\n}\n\npublic class Test {\n    public static void main(String[] args) {\n        Cat cat = new Cat();\n        System.out.println(cat.getName());\n    }\n}\n</code></pre>\n\n<p>I discourage you to override method because you should do it on every future <code>Animal</code> subclass.</p>\n"},{"tags":[],"owner":{"account_id":8265669,"reputation":403,"user_id":6215308,"display_name":"Alok Panday"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529472960,"creation_date":1529472960,"answer_id":50940927,"question_id":50940704,"body_markdown":"&gt; you need to override the method getName(). it&#39;s instance level\r\n&gt; function you can call it in child class but you cannot modify it\r\n&gt; without overriding the function. So it&#39;s calling parent class function\r\n&gt; with parent class property.\r\n&gt; \r\n&gt; just override the method if you want &quot;cat&quot; in output.","title":"Calling inherited method in Java","body":"<blockquote>\n  <p>you need to override the method getName(). it's instance level\n  function you can call it in child class but you cannot modify it\n  without overriding the function. So it's calling parent class function\n  with parent class property.</p>\n  \n  <p>just override the method if you want \"cat\" in output.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6200768,"reputation":21,"user_id":4830655,"display_name":"Kurobarahime"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590803807,"creation_date":1590803807,"answer_id":62096918,"question_id":50940704,"body_markdown":"The accepted answer covers some good answers, but I wanted to add a few things. \r\n\r\n1. I would discourage adding an overrided getName method in the Cat Class if you are doing the exact same thing. This is to prevent code duplication in any other subclasses you may create.\r\n2. You could create a constructor to initialize the name field instead and switch the name field to protected.\r\n\r\nEg.\r\n\r\n```\r\nclass Animal {\r\n    protected String name;\r\n    \r\n    public Animal() {\r\n        this.name = &quot;Animal&quot;;\r\n    }\r\n\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n}\r\n\r\nclass Cat extends Animal {\r\n    public Cat() {\r\n        this.name = &quot;Cat&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n3. Alternatively, if you want to keep the name field private, you could create a setter method that&#39;s protected to allow only your subclasses to set the name.\r\n\r\nEg.\r\n\r\n```\r\nclass Animal {\r\n    private String name = &quot;Animal&quot;;\r\n\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n    \r\n    protected void setName(String name) {\r\n    \tthis.name = name;\r\n    }\r\n}\r\n\r\nclass Cat extends Animal {\r\n    public Cat() {\r\n        setName(&quot;Cat&quot;);\r\n    }\r\n}\r\n```","title":"Calling inherited method in Java","body":"<p>The accepted answer covers some good answers, but I wanted to add a few things. </p>\n\n<ol>\n<li>I would discourage adding an overrided getName method in the Cat Class if you are doing the exact same thing. This is to prevent code duplication in any other subclasses you may create.</li>\n<li>You could create a constructor to initialize the name field instead and switch the name field to protected.</li>\n</ol>\n\n<p>Eg.</p>\n\n<pre><code>class Animal {\n    protected String name;\n\n    public Animal() {\n        this.name = \"Animal\";\n    }\n\n    public String getName() {\n        return this.name;\n    }\n}\n\nclass Cat extends Animal {\n    public Cat() {\n        this.name = \"Cat\";\n    }\n}\n\n</code></pre>\n\n<ol start=\"3\">\n<li>Alternatively, if you want to keep the name field private, you could create a setter method that's protected to allow only your subclasses to set the name.</li>\n</ol>\n\n<p>Eg.</p>\n\n<pre><code>class Animal {\n    private String name = \"Animal\";\n\n    public String getName() {\n        return this.name;\n    }\n\n    protected void setName(String name) {\n        this.name = name;\n    }\n}\n\nclass Cat extends Animal {\n    public Cat() {\n        setName(\"Cat\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8791246,"reputation":71,"user_id":6570986,"display_name":"jack_lv"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8408,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":50940793,"answer_count":6,"score":5,"last_activity_date":1667292080,"creation_date":1529471875,"question_id":50940704,"body_markdown":"I have the following java code,\r\n\r\n    class Animal {\r\n        private String name=&quot;Animal&quot;;\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\n    class Cat extends Animal {\r\n        private String name = &quot;Cat&quot;;\r\n    }\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            Cat cat = new Cat();\r\n            System.out.println(cat.getName());\r\n        }\r\n    }\r\n\r\nafter running that code, I got output `Animal`, but I think it should be `Cat`. And after overriding `getName` method in `Cat` like this, I got `Cat`. \r\n\r\n    @Override\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\nIs that because calling an inherited (not overrode) method in a subclass  instance just like  `cat.getName()`  equals to calling `super.getName()` (so I get `Animal` instead of `Cat` in the first case)? Or because the strange behavior of instance variable hiding (I&#39;m not very sure)?\r\n\r\n ","title":"Calling inherited method in Java","body":"<p>I have the following java code,</p>\n\n<pre><code>class Animal {\n    private String name=\"Animal\";\n\n    public String getName() {\n        return name;\n    }\n}\n\nclass Cat extends Animal {\n    private String name = \"Cat\";\n}\n\npublic class Test {\n    public static void main(String[] args) {\n        Cat cat = new Cat();\n        System.out.println(cat.getName());\n    }\n}\n</code></pre>\n\n<p>after running that code, I got output <code>Animal</code>, but I think it should be <code>Cat</code>. And after overriding <code>getName</code> method in <code>Cat</code> like this, I got <code>Cat</code>. </p>\n\n<pre><code>@Override\npublic String getName() {\n    return name;\n}\n</code></pre>\n\n<p>Is that because calling an inherited (not overrode) method in a subclass  instance just like  <code>cat.getName()</code>  equals to calling <code>super.getName()</code> (so I get <code>Animal</code> instead of <code>Cat</code> in the first case)? Or because the strange behavior of instance variable hiding (I'm not very sure)?</p>\n"},{"tags":["java","android","android-studio","android-emulator","android-developer-api"],"comments":[{"owner":{"account_id":10762476,"reputation":703,"user_id":7918485,"display_name":"Thom"},"score":2,"creation_date":1667291382,"post_id":74273267,"comment_id":131128258,"body_markdown":"Does this answer your question? [Android Studio Error &quot;Installation did not succeed. The application could not be installed. Installation failed due to: &#39;null&#39;&quot;](https://stackoverflow.com/questions/57770464/android-studio-error-installation-did-not-succeed-the-application-could-not-be)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57770464/android-studio-error-installation-did-not-succeed-the-application-could-not-be\">Android Studio Error &quot;Installation did not succeed. The application could not be installed. Installation failed due to: &#39;null&#39;&quot;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26323925,"reputation":11,"user_id":19985560,"display_name":"Addis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667292068,"creation_date":1667292068,"answer_id":74273385,"question_id":74273267,"body_markdown":"Go to the device emulator and click on troubleshoot device connections. \r\n- If it doesn&#39;t automatically scans your device rescan it again,\r\n- Then on the next part just click on restart ADB server finally click on finish.\r\n\r\nI think it will fix the issue with install parse.","title":"Android Studio - INSTALLATION DID NOT SUCCEED","body":"<p>Go to the device emulator and click on troubleshoot device connections.</p>\n<ul>\n<li>If it doesn't automatically scans your device rescan it again,</li>\n<li>Then on the next part just click on restart ADB server finally click on finish.</li>\n</ul>\n<p>I think it will fix the issue with install parse.</p>\n"}],"owner":{"account_id":26792414,"reputation":13,"user_id":20385615,"display_name":"Harry Potter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1055,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1667292068,"creation_date":1667291238,"question_id":74273267,"body_markdown":"How to Fix This Error while using physical device as emulator.....???????\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nInstallation did not succeed.\r\nThe application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED\r\n\r\nList of apks:\r\n\\[0\\] &#39;C:\\\\Users\\\\username\\\\AndroidStudioProjects\\\\MyApplication\\\\app\\\\build\\\\outputs\\\\apk\\\\debug\\\\app-debug.apk&#39;\r\nInstallation failed due to: &#39;null&#39;\r\n\r\n\r\n\r\nI use Android Studio Version 4.1.2","title":"Android Studio - INSTALLATION DID NOT SUCCEED","body":"<p>How to Fix This Error while using physical device as emulator.....???????</p>\n<p>Installation did not succeed.\nThe application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED</p>\n<p>List of apks:\n[0] 'C:\\Users\\username\\AndroidStudioProjects\\MyApplication\\app\\build\\outputs\\apk\\debug\\app-debug.apk'\nInstallation failed due to: 'null'</p>\n<p>I use Android Studio Version 4.1.2</p>\n"},{"tags":["java","java-stream","enum-map"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1667291030,"post_id":74273122,"comment_id":131128159,"body_markdown":"According to the information on Amazon the second edition has been published on **May 28, 2008** which is much earlier than Java 8 was released (year 2013). Therefore, the code was written using a plain `for`-loop. Probably it was something to the code you&#39;ve provided via link to GitHub. That said, the question is unclear, is there any sort of confusion you have regarding the  code you&#39;ve listed (or the one on GitHub)?","body":"According to the information on Amazon the second edition has been published on <b>May 28, 2008</b> which is much earlier than Java 8 was released (year 2013). Therefore, the code was written using a plain <code>for</code>-loop. Probably it was something to the code you&#39;ve provided via link to GitHub. That said, the question is unclear, is there any sort of confusion you have regarding the  code you&#39;ve listed (or the one on GitHub)?"},{"owner":{"account_id":23195835,"reputation":33,"user_id":17291488,"display_name":"Nick Knatterton"},"score":0,"creation_date":1667300756,"post_id":74273122,"comment_id":131130933,"body_markdown":"Yesterday, it took me a while, to understand code above. I took this example, because of a task I have given myself, a little project. Still I did not solve it completely. But I will ask my questions and show my own code separately, having its own header.","body":"Yesterday, it took me a while, to understand code above. I took this example, because of a task I have given myself, a little project. Still I did not solve it completely. But I will ask my questions and show my own code separately, having its own header."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667310255,"post_id":74273257,"comment_id":131134120,"body_markdown":"You can also initialize the map in a single loop like `for(Transition trans: Transition.values()) m.computeIfAbsent(trans.src, k -&gt; new EnumMap&lt;&gt;(Phase.class)).put(trans.dst, trans);` which is in-between the 2nd editions and 3rd editions variants.","body":"You can also initialize the map in a single loop like <code>for(Transition trans: Transition.values()) m.computeIfAbsent(trans.src, k -&gt; new EnumMap&lt;&gt;(Phase.class)).put(trans.dst, trans);</code> which is in-between the 2nd editions and 3rd editions variants."}],"tags":[],"owner":{"account_id":8433338,"reputation":20078,"user_id":6328256,"display_name":"Sash Sinha"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667291577,"creation_date":1667291203,"answer_id":74273257,"question_id":74273122,"body_markdown":"I believe this is the equivalent code snippet from the 2nd edition of the book where plain for loops were used to initialize the phase transition map:\r\n\r\n    // Using a nested EnumMap to associate data with enum pairs\r\n    public enum Phase {\r\n        SOLID, LIQUID, GAS;\r\n    \r\n        public enum Transition {\r\n            MELT(SOLID, LIQUID), FREEZE(LIQUID, SOLID),\r\n            BOIL(LIQUID, GAS), CONDENSE(GAS, LIQUID),\r\n            SUBLIME(SOLID, GAS), DEPOSIT(GAS, SOLID);\r\n    \r\n            final Phase src;\r\n            final Phase dst;\r\n    \r\n            Transition(Phase src, Phase dst) {\r\n                this.src = src;\r\n                this.dst = dst;\r\n            }\r\n    \r\n            // Initialize the phase transition map\r\n            private static final Map&lt;Phase, Map&lt;Phase, Transition&gt;&gt; m =\r\n                new EnumMap&lt;Phase, Map&lt;Phase, Transition&gt;&gt;(Phase.class);\r\n            static {\r\n                for (Phase p : Phase.values()) {\r\n                    m.put(p, new EnumMap&lt;Phase, Transition&gt;(Phase.class));\r\n                }\r\n                for (Transition trans : Transition.values()) {\r\n                    m.get(trans.src).put(trans.dst, trans);\r\n                }\r\n            }\r\n    \r\n            public static Transition from(Phase src, Phase dst) {\r\n                return m.get(src).get(dst);\r\n            }\r\n        }\r\n    }","title":"Use EnumMap instead of ordinal indexing","body":"<p>I believe this is the equivalent code snippet from the 2nd edition of the book where plain for loops were used to initialize the phase transition map:</p>\n<pre><code>// Using a nested EnumMap to associate data with enum pairs\npublic enum Phase {\n    SOLID, LIQUID, GAS;\n\n    public enum Transition {\n        MELT(SOLID, LIQUID), FREEZE(LIQUID, SOLID),\n        BOIL(LIQUID, GAS), CONDENSE(GAS, LIQUID),\n        SUBLIME(SOLID, GAS), DEPOSIT(GAS, SOLID);\n\n        final Phase src;\n        final Phase dst;\n\n        Transition(Phase src, Phase dst) {\n            this.src = src;\n            this.dst = dst;\n        }\n\n        // Initialize the phase transition map\n        private static final Map&lt;Phase, Map&lt;Phase, Transition&gt;&gt; m =\n            new EnumMap&lt;Phase, Map&lt;Phase, Transition&gt;&gt;(Phase.class);\n        static {\n            for (Phase p : Phase.values()) {\n                m.put(p, new EnumMap&lt;Phase, Transition&gt;(Phase.class));\n            }\n            for (Transition trans : Transition.values()) {\n                m.get(trans.src).put(trans.dst, trans);\n            }\n        }\n\n        public static Transition from(Phase src, Phase dst) {\n            return m.get(src).get(dst);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23195835,"reputation":33,"user_id":17291488,"display_name":"Nick Knatterton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":74273257,"answer_count":1,"score":2,"last_activity_date":1667291577,"creation_date":1667290274,"question_id":74273122,"body_markdown":"I am new to Java, so I am reading &quot;Effective Java&quot;, 3rd edition from Joshua Bloch, written in German.\r\n\r\nThis is a piece of code, written in this 3rd edition, Theme 37, page 180:\r\n\r\n```// Joining data (key-value-pairs) via cascaded EnumMap\r\npublic enum Phase {\r\n   SOLID, LIQUID, GAS;\r\n\r\n   public enum Transition {\r\n      MELT(SOLID, LIQUID), FREEZE(LIQUID, SOLID),\r\n      BOIL(LIQUID, GAS), CONDENSE(GAS, LIQUID),\r\n      SUBLIME(SOLID, GAS), DEPOSIT(GAS, SOLID);\r\n\r\n      private final Phase from;\r\n      private final Phase to;\r\n\r\n      Transition(Phase from, Phase to) {\r\n         this.from = from;\r\n         this.to = to;\r\n      }\r\n\r\n      // Initialize Phase-Transition map\r\n      private static final Map&lt;Phase, Map&lt;Phase, Transition&gt;&gt;\r\n         m = Stream.of(values()).collect(groupingBy(t -&gt; t.from,\r\n         toMap(t --&gt; t.to, t -&gt; t,\r\n            (x, y) -&gt; y,  // this unifying function of the 2nd collector won&#39;t be used, but it is necessary as we have to mention a Map-Factory.\r\n            () -&gt; new EnumMap&lt;&gt;(Phase.class))));\r\n\r\n      public static Transition from(Phase from, Phase to)  {\r\n         return m.get(from).get(to);\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nJoshua Bloch mentions in its description after this piece of code, that in the 2nd edition of his book, they used an explicite iteration, to initialize this Phase-Transition map, which required more lines of code, but was easier to understand.\r\n\r\n**My question:**\r\nI am interested to see code example of this 2nd edition of his book. Can anybody provide me an example (or similar example) of what he is quoting to?\r\n\r\n**This is what I found:**\r\nFrom here, https://github.com/HugoMatilla/Effective-JAVA-Summary#33-use-enummap-instead-of-ordinal-indexing I know in the 2nd edition it is theme 33, to where he is revering to. Theme 33 has the same headline, like this post. Unfortunatelly if you follow this link this specific code example is not shown there.\r\n\r\n**Besides:**\r\nI do not know if it is allowed to put code out of a book into a question here. So if it is not allowed i will delete the code example, then just inform me and I will do it.\r\n\r\n","title":"Use EnumMap instead of ordinal indexing","body":"<p>I am new to Java, so I am reading &quot;Effective Java&quot;, 3rd edition from Joshua Bloch, written in German.</p>\n<p>This is a piece of code, written in this 3rd edition, Theme 37, page 180:</p>\n<pre><code>public enum Phase {\n   SOLID, LIQUID, GAS;\n\n   public enum Transition {\n      MELT(SOLID, LIQUID), FREEZE(LIQUID, SOLID),\n      BOIL(LIQUID, GAS), CONDENSE(GAS, LIQUID),\n      SUBLIME(SOLID, GAS), DEPOSIT(GAS, SOLID);\n\n      private final Phase from;\n      private final Phase to;\n\n      Transition(Phase from, Phase to) {\n         this.from = from;\n         this.to = to;\n      }\n\n      // Initialize Phase-Transition map\n      private static final Map&lt;Phase, Map&lt;Phase, Transition&gt;&gt;\n         m = Stream.of(values()).collect(groupingBy(t -&gt; t.from,\n         toMap(t --&gt; t.to, t -&gt; t,\n            (x, y) -&gt; y,  // this unifying function of the 2nd collector won't be used, but it is necessary as we have to mention a Map-Factory.\n            () -&gt; new EnumMap&lt;&gt;(Phase.class))));\n\n      public static Transition from(Phase from, Phase to)  {\n         return m.get(from).get(to);\n      }\n   }\n}\n</code></pre>\n<p>Joshua Bloch mentions in its description after this piece of code, that in the 2nd edition of his book, they used an explicite iteration, to initialize this Phase-Transition map, which required more lines of code, but was easier to understand.</p>\n<p><strong>My question:</strong>\nI am interested to see code example of this 2nd edition of his book. Can anybody provide me an example (or similar example) of what he is quoting to?</p>\n<p><strong>This is what I found:</strong>\nFrom here, <a href=\"https://github.com/HugoMatilla/Effective-JAVA-Summary#33-use-enummap-instead-of-ordinal-indexing\" rel=\"nofollow noreferrer\">https://github.com/HugoMatilla/Effective-JAVA-Summary#33-use-enummap-instead-of-ordinal-indexing</a> I know in the 2nd edition it is theme 33, to where he is revering to. Theme 33 has the same headline, like this post. Unfortunatelly if you follow this link this specific code example is not shown there.</p>\n<p><strong>Besides:</strong>\nI do not know if it is allowed to put code out of a book into a question here. So if it is not allowed i will delete the code example, then just inform me and I will do it.</p>\n"},{"tags":["java","scheduled-tasks"],"comments":[{"owner":{"account_id":8198,"reputation":176803,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":0,"creation_date":1667287941,"post_id":74272719,"comment_id":131127441,"body_markdown":"No worries, your English is very good! Have you considered using cron or systemd for scheduling these tasks?","body":"No worries, your English is very good! Have you considered using cron or systemd for scheduling these tasks?"},{"owner":{"account_id":26156944,"reputation":11,"user_id":19844067,"display_name":"xun"},"score":0,"creation_date":1667289243,"post_id":74272719,"comment_id":131127733,"body_markdown":"@Thomas thank! But my requirement is that there are many different times to perform tasks, that is, the time for each task is different. My concern is that after these services are restarted, these tasks disappear and cannot be executed regularly.","body":"@Thomas thank! But my requirement is that there are many different times to perform tasks, that is, the time for each task is different. My concern is that after these services are restarted, these tasks disappear and cannot be executed regularly."}],"answers":[{"tags":[],"owner":{"account_id":26156944,"reputation":11,"user_id":19844067,"display_name":"xun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667291167,"creation_date":1667291167,"answer_id":74273248,"question_id":74272719,"body_markdown":"I&#39;m worried about my stupidity. It&#39;s my stupidity. Obviously, I can judge whether to execute this task by synchronizing data in the database. I ignored it.","title":"I have a scheduled task, but if the server that is executing the scheduled task fails, how do I find it and let it execute the scheduled task again","body":"<p>I'm worried about my stupidity. It's my stupidity. Obviously, I can judge whether to execute this task by synchronizing data in the database. I ignored it.</p>\n"}],"owner":{"account_id":26156944,"reputation":11,"user_id":19844067,"display_name":"xun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667291167,"creation_date":1667287611,"question_id":74272719,"body_markdown":"My mother tongue is not English, so maybe some places look strange, I will try my best to explain.\r\n\r\nI&#39;m using a `ScheduledThreadPoolExecutor` to schedule the tasks,that&#39;s pretty straightforward.\r\n\r\nBut once my machine or service is restarted, the tasks in the `ScheduledThreadPoolExecutor` will be lost. I wonder if there is any good way to solve this problem. Can I persist this data and automatically read it when I restart?\r\n\r\nI can use message queues, such as `rabbitmq`, to implement persistent data and restart the queue for automatic reading. However, I still want to know what methods can be used to implement persistent data with `ScheduledThreadPoolExecutor`.\r\n\r\nI try to save the data in the database and synchronize the data with the database. My idea is to save these data in the database, and then delete the data of these tasks from the database after the task is completed. But when I use the `ScheduledThreadPoolExecutor`, I don&#39;t know whether these tasks have been completed. Therefore, I cannot read data from the database to determine whether the task is completed. The `ScheduledThreadPoolExecutor` has a method to judge whether the task is successfully executed. But what I want is that once the task is successfully executed, I will delete the task data in the database.\r\n\r\nMaybe I can do another scheduled task to periodically query whether the task in `ScheduledThreadPoolExecutor` is executed successfully. But is there any better way to achieve my needs?","title":"I have a scheduled task, but if the server that is executing the scheduled task fails, how do I find it and let it execute the scheduled task again","body":"<p>My mother tongue is not English, so maybe some places look strange, I will try my best to explain.</p>\n<p>I'm using a <code>ScheduledThreadPoolExecutor</code> to schedule the tasks,that's pretty straightforward.</p>\n<p>But once my machine or service is restarted, the tasks in the <code>ScheduledThreadPoolExecutor</code> will be lost. I wonder if there is any good way to solve this problem. Can I persist this data and automatically read it when I restart?</p>\n<p>I can use message queues, such as <code>rabbitmq</code>, to implement persistent data and restart the queue for automatic reading. However, I still want to know what methods can be used to implement persistent data with <code>ScheduledThreadPoolExecutor</code>.</p>\n<p>I try to save the data in the database and synchronize the data with the database. My idea is to save these data in the database, and then delete the data of these tasks from the database after the task is completed. But when I use the <code>ScheduledThreadPoolExecutor</code>, I don't know whether these tasks have been completed. Therefore, I cannot read data from the database to determine whether the task is completed. The <code>ScheduledThreadPoolExecutor</code> has a method to judge whether the task is successfully executed. But what I want is that once the task is successfully executed, I will delete the task data in the database.</p>\n<p>Maybe I can do another scheduled task to periodically query whether the task in <code>ScheduledThreadPoolExecutor</code> is executed successfully. But is there any better way to achieve my needs?</p>\n"},{"tags":["java","mongodb","mongodb-query"],"comments":[{"owner":{"account_id":2512893,"reputation":6790,"user_id":2184930,"accept_rate":74,"display_name":"suman j"},"score":1,"creation_date":1410548860,"post_id":25815074,"comment_id":40382866,"body_markdown":"_id is of type ObjectId. ObjectId has toString. http://docs.mongodb.org/manual/reference/method/ObjectId.toString/","body":"_id is of type ObjectId. ObjectId has toString. <a href=\"http://docs.mongodb.org/manual/reference/method/ObjectId.toString/\" rel=\"nofollow noreferrer\">docs.mongodb.org/manual/reference/method/ObjectId.toString</a>"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1410550458,"post_id":25815074,"comment_id":40383666,"body_markdown":"Or just use the `$oid` value.","body":"Or just use the <code>$oid</code> value."},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":0,"creation_date":1410551327,"post_id":25815074,"comment_id":40384120,"body_markdown":"Expanding the comment of @Jack : [Reading the API docs](http://api.mongodb.org/java/current/org/bson/types/ObjectId.html) usually solves these kind of questions pretty fast.","body":"Expanding the comment of @Jack : <a href=\"http://api.mongodb.org/java/current/org/bson/types/ObjectId.html\" rel=\"nofollow noreferrer\">Reading the API docs</a> usually solves these kind of questions pretty fast."}],"answers":[{"tags":[],"owner":{"account_id":2526078,"reputation":2695,"user_id":2195440,"accept_rate":58,"display_name":"Exploring"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1410551187,"creation_date":1410551187,"answer_id":25815738,"question_id":25815074,"body_markdown":"Workaround this issue using the following snippet:\r\n\r\n\t\t\tJSONObject idObj = (JSONObject)obj.get(&quot;_id&quot;);\r\n\t\t\tString strID = (String) idObj.get(&quot;$oid&quot;);\r\n\r\nMay be there are some other way to do this in a better way.","title":"mongodb how to convert _id to String in JAVA","body":"<p>Workaround this issue using the following snippet:</p>\n\n<pre><code>        JSONObject idObj = (JSONObject)obj.get(\"_id\");\n        String strID = (String) idObj.get(\"$oid\");\n</code></pre>\n\n<p>May be there are some other way to do this in a better way.</p>\n"},{"tags":[],"owner":{"account_id":3037983,"reputation":23,"user_id":4530591,"display_name":"Omar Perez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466764563,"creation_date":1466764563,"answer_id":38011354,"question_id":25815074,"body_markdown":"This worked for me:\r\n\r\n    String objectId = (String) result.get(&quot;_id.$oid&quot;);\r\n\r\nMaybe there&#39;s better ways to do it. Let me know if it works for you.\r\n\r\nCheers!","title":"mongodb how to convert _id to String in JAVA","body":"<p>This worked for me:</p>\n\n<pre><code>String objectId = (String) result.get(\"_id.$oid\");\n</code></pre>\n\n<p>Maybe there's better ways to do it. Let me know if it works for you.</p>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":1180793,"reputation":1541,"user_id":1155758,"accept_rate":70,"display_name":"Manish"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1476868393,"creation_date":1476868393,"answer_id":40127027,"question_id":25815074,"body_markdown":"With MongoDb Driver version 3 and using Document object.\r\n\r\n            Document temp = hwCursor.next();\r\n            temp.getObjectId(&quot;_id&quot;).toString();\r\nor\r\n        \r\n\r\n    temp.getObjectId(&quot;_id&quot;).toHexString();","title":"mongodb how to convert _id to String in JAVA","body":"<p>With MongoDb Driver version 3 and using Document object.</p>\n\n<pre><code>        Document temp = hwCursor.next();\n        temp.getObjectId(\"_id\").toString();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>temp.getObjectId(\"_id\").toHexString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10698518,"reputation":391,"user_id":7874738,"display_name":"krishna chandak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559808545,"creation_date":1559808545,"answer_id":56473380,"question_id":25815074,"body_markdown":"&gt; import org.bson.types.ObjectId;\n&gt; \n&gt; ObjectId idObj = (ObjectId)obj.get(&quot;_id&quot;); \n&gt;\n&gt; String id = idObj.toString()","title":"mongodb how to convert _id to String in JAVA","body":"<blockquote>\n<p>import org.bson.types.ObjectId;</p>\n<p>ObjectId idObj = (ObjectId)obj.get(&quot;_id&quot;);</p>\n<p>String id = idObj.toString()</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":12648357,"reputation":19437,"user_id":9193372,"display_name":"Syscall"},"score":2,"creation_date":1644492697,"post_id":71064238,"comment_id":125623924,"body_markdown":"Your answer could be improved with additional supporting information. Please edit your answer to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](https://stackoverflow.com/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please edit your answer to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"https://stackoverflow.com/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24214517,"reputation":1,"user_id":18170595,"display_name":"Raman Mishra"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644492691,"creation_date":1644492296,"answer_id":71064238,"question_id":25815074,"body_markdown":"    BsonObjectId bid = (BsonObjectId) result.get(&quot;_id&quot;);\r\n    String str = bId.getValue.toString();","title":"mongodb how to convert _id to String in JAVA","body":"<pre><code>BsonObjectId bid = (BsonObjectId) result.get(&quot;_id&quot;);\nString str = bId.getValue.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26066658,"reputation":27,"user_id":19767007,"display_name":"Usama Shoaib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667291115,"creation_date":1667291115,"answer_id":74273236,"question_id":25815074,"body_markdown":"`String str_id = JSONObj.getId().asObjectId().getValue().toString())`;","title":"mongodb how to convert _id to String in JAVA","body":"<p><code>String str_id = JSONObj.getId().asObjectId().getValue().toString())</code>;</p>\n"}],"owner":{"account_id":2526078,"reputation":2695,"user_id":2195440,"accept_rate":58,"display_name":"Exploring"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15042,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1667291115,"creation_date":1410548587,"question_id":25815074,"body_markdown":"I am reading mongo collection from java code. When I am trying to read the `_id` value, I am getting the following:\r\n\r\n    {&quot;$oid&quot;:&quot;541333629520f6e05b0cb410&quot;}\r\n\r\nI am reading like: `jsonObject.get(&quot;_id&quot;)` from java code. I was expecting something like: `&quot;_id&quot; : &quot;541333629520f6e05b0cb410&quot;`\r\n\r\nHere I am looking for a way so that I can get the _id as a string in one operation.\r\n\r\nSo far I have been trying the following:\r\n\r\n            JSONObject idObj = (JSONObject)JSONObj.get(&quot;_id&quot;);\r\n\t\t\tObjectId objectId = (ObjectId) idObj.get(&quot;$oid&quot;);","title":"mongodb how to convert _id to String in JAVA","body":"<p>I am reading mongo collection from java code. When I am trying to read the <code>_id</code> value, I am getting the following:</p>\n\n<pre><code>{\"$oid\":\"541333629520f6e05b0cb410\"}\n</code></pre>\n\n<p>I am reading like: <code>jsonObject.get(\"_id\")</code> from java code. I was expecting something like: <code>\"_id\" : \"541333629520f6e05b0cb410\"</code></p>\n\n<p>Here I am looking for a way so that I can get the _id as a string in one operation.</p>\n\n<p>So far I have been trying the following:</p>\n\n<pre><code>        JSONObject idObj = (JSONObject)JSONObj.get(\"_id\");\n        ObjectId objectId = (ObjectId) idObj.get(\"$oid\");\n</code></pre>\n"},{"tags":["java","apache-cocoon"],"answers":[{"tags":[],"owner":{"account_id":16003908,"reputation":31,"user_id":11549881,"display_name":"cookie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667291043,"creation_date":1667291043,"answer_id":74273221,"question_id":74234507,"body_markdown":"It&#39;s easy to just call `request.getRequestURI();`. No need for complicated wrappers.","title":"How to get requestUri out of Cocoon into my Java function?","body":"<p>It's easy to just call <code>request.getRequestURI();</code>. No need for complicated wrappers.</p>\n"}],"owner":{"account_id":16003908,"reputation":31,"user_id":11549881,"display_name":"cookie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74273221,"answer_count":1,"score":0,"last_activity_date":1667291043,"creation_date":1666955454,"question_id":74234507,"body_markdown":"I inherited some old Cocoon code, if it&#39;s obvious, please tell me where in the docs I could find it.\r\n\r\nI have a function to clean up some page parameters. I want to hand over the content to that function, but I can&#39;t manage to get there.\r\n\r\nThis is the original code, the value must pass my &quot;cleanPath&quot; function.\r\n```xml\r\n&lt;jdbp:page-param name=&quot;pageToLoad&quot; value=&quot;${{request.requestURI}}/../{@page}&quot;/&gt;\r\n```\r\nAttempt 1:\r\n\r\n```xml\r\n&lt;jdbp:page-param name=&quot;pageToLoad&quot; value=&quot;cleanPath(${{request.requestURI}}/../{@page})&quot;/&gt;\r\n```\r\n\r\nMy attempt was to add the function in and leave everything like that, but it&#39;s not working.\r\n\r\nMy next attempt is these nice xsp:logic blocks, where I can&#39;t get the requestURI. &quot;request.requestURI&quot; is unknown, evaluate complains\r\n_&quot;Type mismatch: cannot convert from Object to String&quot;_.\r\n```xml\r\n&lt;xsp:logic&gt;\r\n  String input2 = evaluate(&quot;${{request.requestURI}}&quot;, String.class);\r\n  String input = &quot;/../&lt;xsl:value-of select=&quot;@page&quot;/&gt;&quot;;\r\n  putVariable(&quot;Hase&quot;,&quot;Test &quot;+input);\r\n&lt;/xsp:logic&gt;\r\n&lt;jdbp:page-param name=&quot;pageToLoad&quot; value=&quot;${{request.requestURI}}/../{@page}&quot;/&gt;\r\n&lt;jdbp:page-param name=&quot;Hase&quot; value=&quot;${{Hase}}&quot;/&gt;\r\n```\r\n","title":"How to get requestUri out of Cocoon into my Java function?","body":"<p>I inherited some old Cocoon code, if it's obvious, please tell me where in the docs I could find it.</p>\n<p>I have a function to clean up some page parameters. I want to hand over the content to that function, but I can't manage to get there.</p>\n<p>This is the original code, the value must pass my &quot;cleanPath&quot; function.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jdbp:page-param name=&quot;pageToLoad&quot; value=&quot;${{request.requestURI}}/../{@page}&quot;/&gt;\n</code></pre>\n<p>Attempt 1:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jdbp:page-param name=&quot;pageToLoad&quot; value=&quot;cleanPath(${{request.requestURI}}/../{@page})&quot;/&gt;\n</code></pre>\n<p>My attempt was to add the function in and leave everything like that, but it's not working.</p>\n<p>My next attempt is these nice xsp:logic blocks, where I can't get the requestURI. &quot;request.requestURI&quot; is unknown, evaluate complains\n<em>&quot;Type mismatch: cannot convert from Object to String&quot;</em>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsp:logic&gt;\n  String input2 = evaluate(&quot;${{request.requestURI}}&quot;, String.class);\n  String input = &quot;/../&lt;xsl:value-of select=&quot;@page&quot;/&gt;&quot;;\n  putVariable(&quot;Hase&quot;,&quot;Test &quot;+input);\n&lt;/xsp:logic&gt;\n&lt;jdbp:page-param name=&quot;pageToLoad&quot; value=&quot;${{request.requestURI}}/../{@page}&quot;/&gt;\n&lt;jdbp:page-param name=&quot;Hase&quot; value=&quot;${{Hase}}&quot;/&gt;\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":14826207,"reputation":534,"user_id":10707092,"display_name":"Alois Christen"},"score":0,"creation_date":1667289908,"post_id":74271924,"comment_id":131127885,"body_markdown":"please provide some comments in your code, it&#39;s really hard to follow. Explain how your trying to resolve the problem. I would also strongly advise that you use 0 indexed board, as this diminish the risk of `of-by-one` errors.","body":"please provide some comments in your code, it&#39;s really hard to follow. Explain how your trying to resolve the problem. I would also strongly advise that you use 0 indexed board, as this diminish the risk of <code>of-by-one</code> errors."},{"owner":{"account_id":15615432,"reputation":179,"user_id":13719128,"display_name":"Anubhav Sharma"},"score":0,"creation_date":1667290852,"post_id":74271924,"comment_id":131128117,"body_markdown":"@AloisChristen \nThanks for help. I have updated comments. \nRegarding index, here I am preferring 1-index as thats how obstacles index is given.","body":"@AloisChristen  Thanks for help. I have updated comments.  Regarding index, here I am preferring 1-index as thats how obstacles index is given."},{"owner":{"account_id":14826207,"reputation":534,"user_id":10707092,"display_name":"Alois Christen"},"score":0,"creation_date":1667291082,"post_id":74271924,"comment_id":131128183,"body_markdown":"Great, I&#39;ll give it a look. Even if obstacle is 1-indexed, java is a 0-indexed language, so I would transform the input right after read, use 0-indexed in the program logic, and then transform back in output. There is so much potential for error right there, and 0-indexed math is way easier.","body":"Great, I&#39;ll give it a look. Even if obstacle is 1-indexed, java is a 0-indexed language, so I would transform the input right after read, use 0-indexed in the program logic, and then transform back in output. There is so much potential for error right there, and 0-indexed math is way easier."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1667294251,"post_id":74271924,"comment_id":131128954,"body_markdown":"Hint: diagonal is not working correctly - try a 2x2 square, queen at 1,1 and one obstacle at 2,2","body":"Hint: diagonal is not working correctly - try a 2x2 square, queen at 1,1 and one obstacle at 2,2"},{"owner":{"account_id":15615432,"reputation":179,"user_id":13719128,"display_name":"Anubhav Sharma"},"score":0,"creation_date":1667294732,"post_id":74271924,"comment_id":131129082,"body_markdown":"ah, thanks a lot @user16320675. I see my mistake.\nEdit :: All test cases passed. Thanks again to both user16320675 and Alois Christen","body":"ah, thanks a lot @user16320675. I see my mistake. Edit :: All test cases passed. Thanks again to both user16320675 and Alois Christen"}],"owner":{"account_id":15615432,"reputation":179,"user_id":13719128,"display_name":"Anubhav Sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667290741,"creation_date":1667281003,"question_id":74271924,"body_markdown":"You will be given a square chess board with one queen and a number of obstacles placed on it. Determine how many squares the queen can attack. \r\n\r\nPlease find below my implementation.\r\nIts working fine for many testcases but failing for few.\r\nAm I missing any use case?\r\nKindly help. Thanks in advance. \r\n\r\n```\r\n\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\nimport static java.util.stream.Collectors.toList;\r\n\r\n\r\n\r\nclass Point{\r\n\tint x;\r\n\tint y;\r\n\tpublic Point(int x, int y) {\r\n\t\tsuper();\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n\tpublic Point() {\r\n\t\tsuper();\r\n\t}\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Point [x=&quot; + x + &quot;, y=&quot; + y + &quot;]&quot;;\r\n\t}\r\n}\r\nclass Result { \r\n\tpublic static void printBoard(int n, int k, int r_q, int c_q, List&lt;List&lt;Integer&gt;&gt; obstacles) {\r\n\t\tchar[][] board = new char[n+1][n+1];\r\n\t\tfor(int i=0;i&lt;=n;i++)for(int j=0;j&lt;=n;j++)board[i][j]=&#39;.&#39;;\r\n\t\tboard[r_q][c_q]=&#39;Q&#39;;\r\n\t\tfor(List&lt;Integer&gt; o : obstacles) {\r\n\t\t\tint x = o.get(0);\r\n\t\t\tint y = o.get(1);\r\n\t\t\tboard[x][y]=&#39;X&#39;;\r\n\t\t}\r\n\t\tfor(int i=n;i&gt;=1;i--) {\r\n\t\t\tfor(int j=1;j&lt;=n;j++) {\r\n\t\t\t\tSystem.out.print(board[i][j]);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}\r\n\t/*\r\n\t * n =&gt; row and column count in square board\r\n\t * k =&gt; number of obstacles\r\n\t * r_q =&gt; Queens row position \r\n\t * c_q =&gt; Queens column position\r\n\t * obstacles =&gt; All obstacles position in (row, column) format\r\n\t * \r\n\t */\r\n    public static int queensAttack(int n, int k, int r_q, int c_q, List&lt;List&lt;Integer&gt;&gt; obstacles) {\r\n//    \tprintBoard(n,k,r_q,c_q,obstacles);\r\n    \t\r\n    \t/*\r\n    \t * Board is like below\r\n    \t *     |\r\n    \t *  ^  |\r\n    \t *  |  |\r\n    \t *  |  |\r\n    \t *  |  |\r\n    \t * row |\r\n    \t *index|\r\n    \t *     |\r\n    \t *     |_________________\r\n    \t *         column index ---&gt; \r\n    \t */\r\n    \t\r\n    \t//initiate last available blank position for all 8 terminal points\r\n    \t\r\n    \tPoint \r\n    \t\ttopLeft = r_q+c_q-1&gt;n?new Point(n, r_q+c_q-n):new Point(r_q+c_q-1,1), \r\n    \t\ttop = new Point(n,c_q), \r\n    \t\ttopRight = r_q&gt;c_q?new Point(n,n-(r_q-c_q)):new Point(n+(r_q-c_q),n),\r\n    \t\tleft = new Point(r_q,1),\r\n    \t\tright = new Point(r_q,n), \r\n    \t\tbottomLeft = r_q&gt;c_q?new Point(r_q-c_q+1,1):new Point(1,c_q-r_q+1), \r\n    \t\tbottom = new Point(1,c_q), \r\n    \t\tbottomRight = r_q+c_q-1&gt;n?new Point(r_q+c_q-n,n):new Point(1,r_q+c_q-1);\r\n    \t\t\r\n    \t\t\r\n    \t\tfor(List&lt;Integer&gt; o : obstacles) {\r\n    \t\t\tint x = o.get(0);\r\n    \t\t\tint y = o.get(1);\r\n\r\n    \t    \t/*\r\n    \t    \t * row==r_q would be horizontal line \r\n    \t    \t * left and right would be needed to update\r\n    \t    \t * if obstacle is at (2,3) and queen at (2,9)\r\n    \t    \t * then last available space on left side is (2,4)\r\n    \t    \t * \r\n    \t    \t */\r\n    \t\t\tif(x==r_q) {\r\n    \t\t\t\tif(y&gt;=left.y &amp;&amp; y&lt;c_q) left.y=y+1;\r\n    \t\t\t\tif(y&lt;=right.y &amp;&amp; y&gt;c_q) right.y=y-1;\r\n    \t\t\t}\r\n    \t\t\t/*\r\n    \t\t\t * col==c_q would be vertical line\r\n    \t\t\t * top and bottom would be needed to update\r\n    \t\t\t */\r\n    \t\t\tif(y==c_q) {\r\n    \t\t\t\tif(x&gt;=bottom.x &amp;&amp; x&lt;r_q) bottom.x=x+1;\r\n    \t\t\t\tif(x&lt;=top.x &amp;&amp; x&gt;r_q)top.x=x-1;\r\n    \t\t\t}\r\n    \t\t\t/*\r\n    \t\t\t * row+col==r_q+c_q would be diagonal line from top left to bottom right\r\n    \t\t\t */\r\n    \t\t\tif(x+y==r_q+c_q) {\r\n    \t\t\t\tif(y&gt;=topLeft.y &amp;&amp; y&lt;c_q) {\r\n    \t\t\t\t\ttopLeft.y=y+1;\r\n    \t\t\t\t\ttopLeft.x=x-1;\r\n    \t\t\t\t}\r\n    \t\t\t\tif(y&lt;=bottomRight.y &amp;&amp; y&gt;c_q) {\r\n    \t\t\t\t\tbottomRight.y=y-1;\r\n    \t\t\t\t\tbottomRight.x=x+1;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t/*\r\n    \t\t\t * row-col==r_q-c_q would be diagonal line from top right to bottom left\r\n    \t\t\t */\r\n    \t\t\tif(x-y==r_q-c_q) {\r\n    \t\t\t\tif(y&gt;=bottomLeft.y &amp;&amp; y&lt;c_q) {\r\n    \t\t\t\t\tbottomLeft.y=y+1;\r\n    \t\t\t\t\tbottomLeft.x=x+1;\r\n    \t\t\t\t}\r\n    \t\t\t\tif(y&lt;=topRight.y &amp;&amp; y&gt;c_q) {\r\n    \t\t\t\t\ttopRight.y=y-1;\r\n    \t\t\t\t\ttopLeft.x=x-1;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\r\n    \t/*\r\n    \t * if in any line (x,y) is last available space and \r\n    \t * queen is at (r_q,c_q), then number of places queen can attack is \r\n    \t * |r_q-x| or |c_q-y| both would necessarily be equal\r\n    \t * so I am using any one of them\r\n    \t */\r\n    \treturn \r\n    \t\t(topLeft.x-r_q) +\r\n    \t\t(top.x-r_q) +\r\n    \t\t(topRight.x-r_q)+\r\n    \t\t(c_q-left.y)+\r\n    \t\t(right.y-c_q)+\r\n    \t\t(c_q-bottomLeft.y)+\r\n    \t\t(r_q-bottom.x)+\r\n    \t\t(r_q-bottomRight.x);\r\n    }\r\n}\r\n\r\npublic class Solution {\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader bufferedReader = new BufferedReader(new FileReader(new File(&quot;INPUT.txt&quot;)));\r\n        BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(&quot;OUTPUT.txt&quot;));\r\n        String[] firstMultipleInput = bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;);\r\n        int n = Integer.parseInt(firstMultipleInput[0]);\r\n        int k = Integer.parseInt(firstMultipleInput[1]);\r\n        String[] secondMultipleInput = bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;);\r\n        int r_q = Integer.parseInt(secondMultipleInput[0]);\r\n        int c_q = Integer.parseInt(secondMultipleInput[1]);\r\n        List&lt;List&lt;Integer&gt;&gt; obstacles = new ArrayList&lt;&gt;();\r\n        IntStream.range(0, k).forEach(i -&gt; {\r\n            try {\r\n                obstacles.add(\r\n                    Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\r\n                        .map(Integer::parseInt)\r\n                        .collect(toList())\r\n                );\r\n            } catch (IOException ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n        });\r\n        int result = Result.queensAttack(n, k, r_q, c_q, obstacles);\r\n        bufferedWriter.write(String.valueOf(result));\r\n        bufferedWriter.newLine();\r\n        bufferedReader.close();\r\n        bufferedWriter.close();\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\nInput file : https://drive.google.com/file/d/1yFPAIkW4o-Zf3fwf5o_qK-_ckZWLEAr0/view?usp=share_link\r\nMy Output : 190709\r\nExpected Output : 110198","title":"What am I doing wrong with the below implementation for problem : queens-attack-2 hackerrank?","body":"<p>You will be given a square chess board with one queen and a number of obstacles placed on it. Determine how many squares the queen can attack.</p>\n<p>Please find below my implementation.\nIts working fine for many testcases but failing for few.\nAm I missing any use case?\nKindly help. Thanks in advance.</p>\n<pre><code>\nimport java.io.*;\nimport java.util.*;\nimport java.util.stream.*;\nimport static java.util.stream.Collectors.toList;\n\n\n\nclass Point{\n    int x;\n    int y;\n    public Point(int x, int y) {\n        super();\n        this.x = x;\n        this.y = y;\n    }\n    public Point() {\n        super();\n    }\n    @Override\n    public String toString() {\n        return &quot;Point [x=&quot; + x + &quot;, y=&quot; + y + &quot;]&quot;;\n    }\n}\nclass Result { \n    public static void printBoard(int n, int k, int r_q, int c_q, List&lt;List&lt;Integer&gt;&gt; obstacles) {\n        char[][] board = new char[n+1][n+1];\n        for(int i=0;i&lt;=n;i++)for(int j=0;j&lt;=n;j++)board[i][j]='.';\n        board[r_q][c_q]='Q';\n        for(List&lt;Integer&gt; o : obstacles) {\n            int x = o.get(0);\n            int y = o.get(1);\n            board[x][y]='X';\n        }\n        for(int i=n;i&gt;=1;i--) {\n            for(int j=1;j&lt;=n;j++) {\n                System.out.print(board[i][j]);\n            }\n            System.out.println();\n        }\n    }\n    /*\n     * n =&gt; row and column count in square board\n     * k =&gt; number of obstacles\n     * r_q =&gt; Queens row position \n     * c_q =&gt; Queens column position\n     * obstacles =&gt; All obstacles position in (row, column) format\n     * \n     */\n    public static int queensAttack(int n, int k, int r_q, int c_q, List&lt;List&lt;Integer&gt;&gt; obstacles) {\n//      printBoard(n,k,r_q,c_q,obstacles);\n        \n        /*\n         * Board is like below\n         *     |\n         *  ^  |\n         *  |  |\n         *  |  |\n         *  |  |\n         * row |\n         *index|\n         *     |\n         *     |_________________\n         *         column index ---&gt; \n         */\n        \n        //initiate last available blank position for all 8 terminal points\n        \n        Point \n            topLeft = r_q+c_q-1&gt;n?new Point(n, r_q+c_q-n):new Point(r_q+c_q-1,1), \n            top = new Point(n,c_q), \n            topRight = r_q&gt;c_q?new Point(n,n-(r_q-c_q)):new Point(n+(r_q-c_q),n),\n            left = new Point(r_q,1),\n            right = new Point(r_q,n), \n            bottomLeft = r_q&gt;c_q?new Point(r_q-c_q+1,1):new Point(1,c_q-r_q+1), \n            bottom = new Point(1,c_q), \n            bottomRight = r_q+c_q-1&gt;n?new Point(r_q+c_q-n,n):new Point(1,r_q+c_q-1);\n            \n            \n            for(List&lt;Integer&gt; o : obstacles) {\n                int x = o.get(0);\n                int y = o.get(1);\n\n                /*\n                 * row==r_q would be horizontal line \n                 * left and right would be needed to update\n                 * if obstacle is at (2,3) and queen at (2,9)\n                 * then last available space on left side is (2,4)\n                 * \n                 */\n                if(x==r_q) {\n                    if(y&gt;=left.y &amp;&amp; y&lt;c_q) left.y=y+1;\n                    if(y&lt;=right.y &amp;&amp; y&gt;c_q) right.y=y-1;\n                }\n                /*\n                 * col==c_q would be vertical line\n                 * top and bottom would be needed to update\n                 */\n                if(y==c_q) {\n                    if(x&gt;=bottom.x &amp;&amp; x&lt;r_q) bottom.x=x+1;\n                    if(x&lt;=top.x &amp;&amp; x&gt;r_q)top.x=x-1;\n                }\n                /*\n                 * row+col==r_q+c_q would be diagonal line from top left to bottom right\n                 */\n                if(x+y==r_q+c_q) {\n                    if(y&gt;=topLeft.y &amp;&amp; y&lt;c_q) {\n                        topLeft.y=y+1;\n                        topLeft.x=x-1;\n                    }\n                    if(y&lt;=bottomRight.y &amp;&amp; y&gt;c_q) {\n                        bottomRight.y=y-1;\n                        bottomRight.x=x+1;\n                    }\n                }\n                /*\n                 * row-col==r_q-c_q would be diagonal line from top right to bottom left\n                 */\n                if(x-y==r_q-c_q) {\n                    if(y&gt;=bottomLeft.y &amp;&amp; y&lt;c_q) {\n                        bottomLeft.y=y+1;\n                        bottomLeft.x=x+1;\n                    }\n                    if(y&lt;=topRight.y &amp;&amp; y&gt;c_q) {\n                        topRight.y=y-1;\n                        topLeft.x=x-1;\n                    }\n                }\n            }\n        \n        /*\n         * if in any line (x,y) is last available space and \n         * queen is at (r_q,c_q), then number of places queen can attack is \n         * |r_q-x| or |c_q-y| both would necessarily be equal\n         * so I am using any one of them\n         */\n        return \n            (topLeft.x-r_q) +\n            (top.x-r_q) +\n            (topRight.x-r_q)+\n            (c_q-left.y)+\n            (right.y-c_q)+\n            (c_q-bottomLeft.y)+\n            (r_q-bottom.x)+\n            (r_q-bottomRight.x);\n    }\n}\n\npublic class Solution {\n    public static void main(String[] args) throws IOException {\n        BufferedReader bufferedReader = new BufferedReader(new FileReader(new File(&quot;INPUT.txt&quot;)));\n        BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(&quot;OUTPUT.txt&quot;));\n        String[] firstMultipleInput = bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;);\n        int n = Integer.parseInt(firstMultipleInput[0]);\n        int k = Integer.parseInt(firstMultipleInput[1]);\n        String[] secondMultipleInput = bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;);\n        int r_q = Integer.parseInt(secondMultipleInput[0]);\n        int c_q = Integer.parseInt(secondMultipleInput[1]);\n        List&lt;List&lt;Integer&gt;&gt; obstacles = new ArrayList&lt;&gt;();\n        IntStream.range(0, k).forEach(i -&gt; {\n            try {\n                obstacles.add(\n                    Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\n                        .map(Integer::parseInt)\n                        .collect(toList())\n                );\n            } catch (IOException ex) {\n                throw new RuntimeException(ex);\n            }\n        });\n        int result = Result.queensAttack(n, k, r_q, c_q, obstacles);\n        bufferedWriter.write(String.valueOf(result));\n        bufferedWriter.newLine();\n        bufferedReader.close();\n        bufferedWriter.close();\n    }\n}\n\n\n</code></pre>\n<p>Input file : <a href=\"https://drive.google.com/file/d/1yFPAIkW4o-Zf3fwf5o_qK-_ckZWLEAr0/view?usp=share_link\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1yFPAIkW4o-Zf3fwf5o_qK-_ckZWLEAr0/view?usp=share_link</a>\nMy Output : 190709\nExpected Output : 110198</p>\n"},{"tags":["java","string","for-loop","compare"],"comments":[{"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"score":4,"creation_date":1667284983,"post_id":74272295,"comment_id":131126798,"body_markdown":"`secret = secret.replaceAll(&quot;\\\\W|\\\\d&quot;,&quot;&quot;);` output for this statement is `Hello`","body":"<code>secret = secret.replaceAll(&quot;\\\\W|\\\\d&quot;,&quot;&quot;);</code> output for this statement is <code>Hello</code>"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1667286063,"post_id":74272295,"comment_id":131127035,"body_markdown":"For next time, SO can give you far better answers if you replace &quot;I tried&quot; with an actual paste of the code you ran and &quot;it didn&#39;t work&quot; with what happened (compile problem? Say that. Exception? Show the full trace. Result you did not expect? Show the result you wanted, and the result you actually got).","body":"For next time, SO can give you far better answers if you replace &quot;I tried&quot; with an actual paste of the code you ran and &quot;it didn&#39;t work&quot; with what happened (compile problem? Say that. Exception? Show the full trace. Result you did not expect? Show the result you wanted, and the result you actually got)."},{"owner":{"account_id":25313696,"reputation":33,"user_id":19136113,"display_name":"Jose M Lopez"},"score":0,"creation_date":1667376381,"post_id":74272295,"comment_id":131149828,"body_markdown":"Ok, Ill do it like that next time, this time it wasnt possible,.Ty for your time.","body":"Ok, Ill do it like that next time, this time it wasnt possible,.Ty for your time."}],"answers":[{"tags":[],"owner":{"account_id":14255669,"reputation":330,"user_id":10297961,"display_name":"Tan Sang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667285850,"creation_date":1667285054,"answer_id":74272387,"question_id":74272295,"body_markdown":"Have you tried a regular expression that matches only letters and space?\r\n\r\nlike this: `&quot;[a-zA-Z ]*&quot;`","title":"Create a String from other String in Java","body":"<p>Have you tried a regular expression that matches only letters and space?</p>\n<p>like this: <code>&quot;[a-zA-Z ]*&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667285472,"creation_date":1667285472,"answer_id":74272440,"question_id":74272295,"body_markdown":"Use a regular expression (RegEx) and https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceAll-java.lang.String-java.lang.String- to strip out all unwanted characters. \r\n\r\nSomething like this will do:\r\n\r\n    var hello = &quot;H)86(e,@l:-;l?,;5o&quot;.replaceAll(&quot;[^a-zA-Z\\\\s]&quot;,&quot;&quot;);\r\n\r\n\r\n","title":"Create a String from other String in Java","body":"<p>Use a regular expression (RegEx) and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceAll-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceAll-java.lang.String-java.lang.String-</a> to strip out all unwanted characters.</p>\n<p>Something like this will do:</p>\n<pre><code>var hello = &quot;H)86(e,@l:-;l?,;5o&quot;.replaceAll(&quot;[^a-zA-Z\\\\s]&quot;,&quot;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667290392,"creation_date":1667290392,"answer_id":74273141,"question_id":74272295,"body_markdown":"You can do that by a regular expression (`regex`) in `String#replaceAll(regexString, replaceString)`.\r\n\r\n```\r\nString decrypted = secret.replaceAll(&quot;[^A-Za-z ]&quot;, &quot;&quot;);\r\n```\r\n\r\nThis will find everything, except A to Z, a to z, space and will replace it by &quot;&quot; (nothing).\r\n\r\nYou can test such expressions here: https://regex101.com/","title":"Create a String from other String in Java","body":"<p>You can do that by a regular expression (<code>regex</code>) in <code>String#replaceAll(regexString, replaceString)</code>.</p>\n<pre><code>String decrypted = secret.replaceAll(&quot;[^A-Za-z ]&quot;, &quot;&quot;);\n</code></pre>\n<p>This will find everything, except A to Z, a to z, space and will replace it by &quot;&quot; (nothing).</p>\n<p>You can test such expressions here: <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a></p>\n"}],"owner":{"account_id":25313696,"reputation":33,"user_id":19136113,"display_name":"Jose M Lopez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":74273141,"answer_count":3,"score":-3,"last_activity_date":1667290392,"creation_date":1667284247,"question_id":74272295,"body_markdown":"Given a String like this:\r\nString secret = H)86(e,@l:-;l?,;5o they ask me to make a new String with only the letters (and spaces if they are) to reveal a secret message.\r\n\r\nI tried with a for loop and the charAt method, but it didnt work ideas?\r\nI would appreciate plain explanation as Im noob on programming.\r\nThanks!!","title":"Create a String from other String in Java","body":"<p>Given a String like this:\nString secret = H)86(e,@l:-;l?,;5o they ask me to make a new String with only the letters (and spaces if they are) to reveal a secret message.</p>\n<p>I tried with a for loop and the charAt method, but it didnt work ideas?\nI would appreciate plain explanation as Im noob on programming.\nThanks!!</p>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1615754099,"post_id":66629126,"comment_id":117783197,"body_markdown":"Are you required to find all such pairs or just one?","body":"Are you required to find all such pairs or just one?"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":1,"creation_date":1615755087,"post_id":66629126,"comment_id":117783516,"body_markdown":"Add some example inputs and outputs.","body":"Add some example inputs and outputs."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1615755621,"post_id":66629126,"comment_id":117783663,"body_markdown":"If the first int is smaller than the second int, the two values are by definition in ascending order, so aren&#39;t the 2 bullets just saying the same thing?","body":"If the first int is smaller than the second int, the two values are by definition in ascending order, so aren&#39;t the 2 bullets just saying the same thing?"},{"owner":{"account_id":1129881,"reputation":11550,"user_id":1116230,"display_name":"Nico Haase"},"score":0,"creation_date":1615758205,"post_id":66629126,"comment_id":117784434,"body_markdown":"Please share more details. Is there anything not working with your code?","body":"Please share more details. Is there anything not working with your code?"},{"owner":{"account_id":19880392,"reputation":11,"user_id":14564531,"display_name":"mariaILikeIt"},"score":0,"creation_date":1615802561,"post_id":66629126,"comment_id":117794524,"body_markdown":"I have edited the post and added example input and output.","body":"I have edited the post and added example input and output."},{"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"score":2,"creation_date":1615813563,"post_id":66629126,"comment_id":117799497,"body_markdown":"***Please do mention the constraints of the problem.*** *What is the maximum length of the array? What is the maximum size of the elements of the array?* If the constraints are not too big, your question can be solved in `O(n)`. If they are big enough, `O(n*log n)` is the best solution I am aware of.","body":"<b><i>Please do mention the constraints of the problem.</i></b> <i>What is the maximum length of the array? What is the maximum size of the elements of the array?</i> If the constraints are not too big, your question can be solved in <code>O(n)</code>. If they are big enough, <code>O(n*log n)</code> is the best solution I am aware of."},{"owner":{"account_id":19880392,"reputation":11,"user_id":14564531,"display_name":"mariaILikeIt"},"score":0,"creation_date":1615888934,"post_id":66629126,"comment_id":117825036,"body_markdown":"@AKSingh The input can be even a few hundreds of thousands.","body":"@AKSingh The input can be even a few hundreds of thousands."},{"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"score":0,"creation_date":1615890351,"post_id":66629126,"comment_id":117825719,"body_markdown":"*Your sample output is wrong.* Input: `2 10 0 8 4 12 8`, only one `4` is present. However, in output: `0 12 2 10 4 8 4 8`, two `4` are present.","body":"<i>Your sample output is wrong.</i> Input: <code>2 10 0 8 4 12 8</code>, only one <code>4</code> is present. However, in output: <code>0 12 2 10 4 8 4 8</code>, two <code>4</code> are present."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1667291061,"post_id":66629126,"comment_id":131128173,"body_markdown":"@AKSingh: The sample output contributes to *specifying* the required output. The 4 is in (8, 4) and (4, 8), both printed smaller first as per first bullet point.","body":"@AKSingh: The sample output contributes to <i>specifying</i> the required output. The 4 is in (8, 4) and (4, 8), both printed smaller first as per first bullet point."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1667291232,"post_id":66629126,"comment_id":131128210,"body_markdown":"The output isn&#39;t fully specified: What about more than one occurrence of target/2? How many pairs `4 8` need to be printed when there are, say, 3 `8`s and 2 `4`s?","body":"The output isn&#39;t fully specified: What about more than one occurrence of target/2? How many pairs <code>4 8</code> need to be printed when there are, say, 3 <code>8</code>s and 2 <code>4</code>s?"}],"answers":[{"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1615755128,"post_id":66629385,"comment_id":117783531,"body_markdown":"This section is for answers. This is not an answer but a hint towards an answer and thus should be a comment on the question.","body":"This section is for answers. This is not an answer but a hint towards an answer and thus should be a comment on the question."},{"owner":{"account_id":20940359,"reputation":369,"user_id":15384563,"display_name":"Sam Henke"},"score":0,"creation_date":1615755285,"post_id":66629385,"comment_id":117783575,"body_markdown":"Thank you, @JeffC. I&#39;m getting used to the way everyone does things around here. Is it bad to give the answer? This feels like a homework question.","body":"Thank you, @JeffC. I&#39;m getting used to the way everyone does things around here. Is it bad to give the answer? This feels like a homework question."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1615755395,"post_id":66629385,"comment_id":117783611,"body_markdown":"I feel the same way. I think that&#39;s up to you to decide. When I see things like this, I tend to do what you did but put it into a comment so that I can hopefully lead the person to find the right answer rather than giving them the answer straight away. But... I can pretty much guarantee you others will just answer before OP has had a chance to consider your guidance and come up with their own answer.","body":"I feel the same way. I think that&#39;s up to you to decide. When I see things like this, I tend to do what you did but put it into a comment so that I can hopefully lead the person to find the right answer rather than giving them the answer straight away. But... I can pretty much guarantee you others will just answer before OP has had a chance to consider your guidance and come up with their own answer."},{"owner":{"account_id":19880392,"reputation":11,"user_id":14564531,"display_name":"mariaILikeIt"},"score":0,"creation_date":1615924141,"post_id":66629385,"comment_id":117841802,"body_markdown":"Thanks Sam, I really enjoy your solution. However in my case, the elements of the array are not unique, I will try to tune your solution to my needs. However, I have avoided the sorting bit in my attempts to solve it to keep the time complexity of the whole task as low as possible. (but not sure it&#39;s a good idea).","body":"Thanks Sam, I really enjoy your solution. However in my case, the elements of the array are not unique, I will try to tune your solution to my needs. However, I have avoided the sorting bit in my attempts to solve it to keep the time complexity of the whole task as low as possible. (but not sure it&#39;s a good idea)."},{"owner":{"account_id":20940359,"reputation":369,"user_id":15384563,"display_name":"Sam Henke"},"score":0,"creation_date":1615931638,"post_id":66629385,"comment_id":117844684,"body_markdown":"If the elements aren&#39;t unique but the array is sorted, you can just advance the points while the next elements are equal.","body":"If the elements aren&#39;t unique but the array is sorted, you can just advance the points while the next elements are equal."}],"tags":[],"owner":{"account_id":20940359,"reputation":369,"user_id":15384563,"display_name":"Sam Henke"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1615779500,"creation_date":1615754807,"answer_id":66629385,"question_id":66629126,"body_markdown":"Start by sorting the array. If `arr` is sorted and `arr[0] + arr[arr.length - 1] &gt; target`, then `arr[arr.length - 1]` can&#39;t possibly be in a pair; you added it to the smallest possible value and it was still too big for the target. Similarly if `arr[0] + arr[arr.length] &lt; target`, then `arr[0]` can&#39;t possibly be part of a pair. This leads to the following algorithm.\r\n\r\n```\r\npublic /* return type */ findPair(int[] arr, int target)\r\n{\r\n  Arrays.sort(arr);\r\n\r\n  int i = 0, j = arr.length - 1;\r\n  \r\n  while (i &lt; j) {\r\n    int sum = arr[i] + arr[j];\r\n    if (sum &lt; target) i++;\r\n    else if (sum &gt; target) j--;\r\n    else {\r\n      /* sum == target, so add arr[i] and arr[j] to a set of solutions. */\r\n      /* I&#39;m assuming that the elements of arr are unique. */\r\n      i++;\r\n      j--;\r\n    }\r\n  }\r\n\r\n  return /* set of solutions */\r\n}\r\n```","title":"Most efficient way to find all pairs from given integers that sum up to target value with specific conditions","body":"<p>Start by sorting the array. If <code>arr</code> is sorted and <code>arr[0] + arr[arr.length - 1] &gt; target</code>, then <code>arr[arr.length - 1]</code> can't possibly be in a pair; you added it to the smallest possible value and it was still too big for the target. Similarly if <code>arr[0] + arr[arr.length] &lt; target</code>, then <code>arr[0]</code> can't possibly be part of a pair. This leads to the following algorithm.</p>\n<pre><code>public /* return type */ findPair(int[] arr, int target)\n{\n  Arrays.sort(arr);\n\n  int i = 0, j = arr.length - 1;\n  \n  while (i &lt; j) {\n    int sum = arr[i] + arr[j];\n    if (sum &lt; target) i++;\n    else if (sum &gt; target) j--;\n    else {\n      /* sum == target, so add arr[i] and arr[j] to a set of solutions. */\n      /* I'm assuming that the elements of arr are unique. */\n      i++;\n      j--;\n    }\n  }\n\n  return /* set of solutions */\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1667292037,"post_id":66654143,"comment_id":131128426,"body_markdown":"Note that your interpretation of the task/problem gives the `Example Output` for a *modified input*.","body":"Note that your interpretation of the task/problem gives the <code>Example Output</code> for a <i>modified input</i>."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1667292346,"post_id":66654143,"comment_id":131128498,"body_markdown":"(That is one complicated way to determine &quot;the multiplicity of a pair&quot;. How about `for (int m = Math.min(frequency[i], frequency[targetSum-i]) ; 0 &lt;= --m ; ) System.out.println(i + &quot;\\t&quot; + (targetSum - i));`.) (I think it should be the product of frequencies rather than the minimum.)","body":"(That is one complicated way to determine &quot;the multiplicity of a pair&quot;. How about <code>for (int m = Math.min(frequency[i], frequency[targetSum-i]) ; 0 &lt;= --m ; ) System.out.println(i + &quot;\\t&quot; + (targetSum - i));</code>.) (I think it should be the product of frequencies rather than the minimum.)"}],"tags":[],"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615895264,"creation_date":1615893413,"answer_id":66654143,"question_id":66629126,"body_markdown":"Here is *one possible solution* to your problem: \r\n\r\n----------\r\n## *Using Counting Sort* ##\r\n\r\n&gt; *Let length on input array A* = `n` \r\n&gt;\r\n&gt; *Let range of input, that is, maximum element of the array* =  `k`\r\n\r\n**Algorithm:** \r\n    \r\n    Store the frequency of each element of the array A.\r\n    Use the frequency array to find pairs.\r\n\r\n**Example:**\r\n\r\n    A = 2 10 0 8 4 12 8 4\r\n\r\nHere is the corresponding frequency array:\r\n\r\n    element:     0  1  2  3  4  5  6  7  8  9  10  11  12\r\n    frequency:   1  0  1  0  2  0  0  0  2  0  1   0   1\r\n\r\nUsing the frequency array, we can easily find pairs *in ascending order* which have a *target sum* of say `T`.\r\n  \r\nWe know, if `a` and `b` are elements of array `A` where `a` &lt;= `b` and they make a pair then,\r\n\r\n    a + b = T\r\n    b = T - a\r\n\r\n*Using this, we can check if frequency of `a` &gt; `0`  and frequency of `b` &gt; `0`, then such a pair is possible. Doing this we can find all the pairs in `O(k)` where `k` = **range of input***. \r\n\r\n**Solution code:**\r\n\r\n    private static void printPair(int[] A, int targetSum)\r\n    {\r\n        //find the maximum element\r\n        int max = A[0];\r\n\r\n        for (int element: A) max = Math.max(max, element);    \r\n\r\n        //Make a frequency array\r\n        int[] frequency = new int[max+1];\r\n        for (int element: A) frequency[element]++;\r\n\r\n        //Find pairs\r\n        for (int i = 0;i &lt; frequency.length/2;i++)\r\n        {\r\n            if (targetSum - i &lt; 0) break;\r\n\r\n            if (frequency[i] &gt; 0 &amp;&amp; frequency[targetSum-i] &gt; 0)\r\n            {\r\n                while (Math.min(frequency[i], frequency[targetSum-i]) &gt; 0)\r\n                {\r\n                    System.out.print(&quot;Pair: &quot; + i + &quot;\\t&quot; + (targetSum - i));\r\n                    System.out.println();\r\n\r\n                    frequency[i]--;\r\n                    frequency[targetSum - i]--;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n*There is a while loop also present inside, since if a single pair is present in the array `f` times, we need to print it `f` times*. \r\n\r\n*The solution I posted can be improved if you use better implementation of `counting sort`.* In my solution I used:\r\n\r\n&gt; *Range of input, that is, maximum element of the array* =  `k`\r\n\r\nI did this purposely so the solution is simpler to understand. However, ***the solution will be more efficient if we change range to:***\r\n\r\n&gt; *New range of input, that is, maximum element of the array - minimum element of the array* =  `k`\r\n\r\n***Making this change would also make this solution to work negative numbers.***\r\n\r\n*If you are using this range, you will need to make some changes in the solution* which are not that tough to make if you can understand the solution I provided. *You will only need to change how you access the frequency of each element of the array.* Here is a link to the improved counting sort: https://www.geeksforgeeks.org/counting-sort/\r\n\r\n**Time complexity of the solution:** \r\n\r\nThe solution has a time complexity of `O(n+k)`. *This might seem like a *linear time complexity*. However, it depends on the input.*\r\n\r\nSuppose:\r\n\r\n    A = 4 3 30 5 1\r\n\r\nHere,\r\n\r\n    n = 5 \r\n    k = 30\r\n\r\n`k` is almost equal to `n^2`. Hence, time complexity of the solution becomes `O(n + n^2)` = `O(n^2)`. *So the time complexity strictly depends on the type of inputs possible.*\r\n\r\n\r\n----------\r\n*I hope I have helped you. I have not gone in detail about the solution code since doing so would have made the answer too long. However, do comment if you are having trouble understanding the explanation, solution code or you also want me to post second possible solution. I would be happy to help you.* \r\n\r\n ","title":"Most efficient way to find all pairs from given integers that sum up to target value with specific conditions","body":"<p>Here is <em>one possible solution</em> to your problem:</p>\n<hr />\n<h2><em>Using Counting Sort</em></h2>\n<blockquote>\n<p><em>Let length on input array A</em> = <code>n</code></p>\n<p><em>Let range of input, that is, maximum element of the array</em> =  <code>k</code></p>\n</blockquote>\n<p><strong>Algorithm:</strong></p>\n<pre><code>Store the frequency of each element of the array A.\nUse the frequency array to find pairs.\n</code></pre>\n<p><strong>Example:</strong></p>\n<pre><code>A = 2 10 0 8 4 12 8 4\n</code></pre>\n<p>Here is the corresponding frequency array:</p>\n<pre><code>element:     0  1  2  3  4  5  6  7  8  9  10  11  12\nfrequency:   1  0  1  0  2  0  0  0  2  0  1   0   1\n</code></pre>\n<p>Using the frequency array, we can easily find pairs <em>in ascending order</em> which have a <em>target sum</em> of say <code>T</code>.</p>\n<p>We know, if <code>a</code> and <code>b</code> are elements of array <code>A</code> where <code>a</code> &lt;= <code>b</code> and they make a pair then,</p>\n<pre><code>a + b = T\nb = T - a\n</code></pre>\n<p><em>Using this, we can check if frequency of <code>a</code> &gt; <code>0</code>  and frequency of <code>b</code> &gt; <code>0</code>, then such a pair is possible. Doing this we can find all the pairs in <code>O(k)</code> where <code>k</code> = <strong>range of input</strong></em>.</p>\n<p><strong>Solution code:</strong></p>\n<pre><code>private static void printPair(int[] A, int targetSum)\n{\n    //find the maximum element\n    int max = A[0];\n\n    for (int element: A) max = Math.max(max, element);    \n\n    //Make a frequency array\n    int[] frequency = new int[max+1];\n    for (int element: A) frequency[element]++;\n\n    //Find pairs\n    for (int i = 0;i &lt; frequency.length/2;i++)\n    {\n        if (targetSum - i &lt; 0) break;\n\n        if (frequency[i] &gt; 0 &amp;&amp; frequency[targetSum-i] &gt; 0)\n        {\n            while (Math.min(frequency[i], frequency[targetSum-i]) &gt; 0)\n            {\n                System.out.print(&quot;Pair: &quot; + i + &quot;\\t&quot; + (targetSum - i));\n                System.out.println();\n\n                frequency[i]--;\n                frequency[targetSum - i]--;\n            }\n        }\n    }\n}\n</code></pre>\n<p><em>There is a while loop also present inside, since if a single pair is present in the array <code>f</code> times, we need to print it <code>f</code> times</em>.</p>\n<p><em>The solution I posted can be improved if you use better implementation of <code>counting sort</code>.</em> In my solution I used:</p>\n<blockquote>\n<p><em>Range of input, that is, maximum element of the array</em> =  <code>k</code></p>\n</blockquote>\n<p>I did this purposely so the solution is simpler to understand. However, <em><strong>the solution will be more efficient if we change range to:</strong></em></p>\n<blockquote>\n<p><em>New range of input, that is, maximum element of the array - minimum element of the array</em> =  <code>k</code></p>\n</blockquote>\n<p><em><strong>Making this change would also make this solution to work negative numbers.</strong></em></p>\n<p><em>If you are using this range, you will need to make some changes in the solution</em> which are not that tough to make if you can understand the solution I provided. <em>You will only need to change how you access the frequency of each element of the array.</em> Here is a link to the improved counting sort: <a href=\"https://www.geeksforgeeks.org/counting-sort/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/counting-sort/</a></p>\n<p><strong>Time complexity of the solution:</strong></p>\n<p>The solution has a time complexity of <code>O(n+k)</code>. <em>This might seem like a <em>linear time complexity</em>. However, it depends on the input.</em></p>\n<p>Suppose:</p>\n<pre><code>A = 4 3 30 5 1\n</code></pre>\n<p>Here,</p>\n<pre><code>n = 5 \nk = 30\n</code></pre>\n<p><code>k</code> is almost equal to <code>n^2</code>. Hence, time complexity of the solution becomes <code>O(n + n^2)</code> = <code>O(n^2)</code>. <em>So the time complexity strictly depends on the type of inputs possible.</em></p>\n<hr />\n<p><em>I hope I have helped you. I have not gone in detail about the solution code since doing so would have made the answer too long. However, do comment if you are having trouble understanding the explanation, solution code or you also want me to post second possible solution. I would be happy to help you.</em></p>\n"},{"tags":[],"owner":{"account_id":1956324,"reputation":517,"user_id":2305319,"display_name":"Alaa Moneam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667288479,"creation_date":1667288479,"answer_id":74272855,"question_id":66629126,"body_markdown":"**You can make a loop like this** \r\n\r\n\r\n    function twoSum($nums, $target)\r\n\r\n    {\r\n\r\n    $filterdArray = [];\r\n    $indexes = [];\r\n\r\n    foreach ($nums as $key =&gt; $val) {\r\n        if ($val &lt;= $target) {\r\n            $x =  $target - $val;\r\n            if (array_key_exists($x, $filterdArray)) {\r\n                $indexes[] = $key; //0\r\n                $indesxes[] = $filterdArray[$x]; //0\r\n                return $indexes;\r\n            }\r\n\r\n            $filterdArray[] = [$val =&gt; $key]; //[3=&gt;0]\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"Most efficient way to find all pairs from given integers that sum up to target value with specific conditions","body":"<p><strong>You can make a loop like this</strong></p>\n<pre><code>function twoSum($nums, $target)\n\n{\n\n$filterdArray = [];\n$indexes = [];\n\nforeach ($nums as $key =&gt; $val) {\n    if ($val &lt;= $target) {\n        $x =  $target - $val;\n        if (array_key_exists($x, $filterdArray)) {\n            $indexes[] = $key; //0\n            $indesxes[] = $filterdArray[$x]; //0\n            return $indexes;\n        }\n\n        $filterdArray[] = [$val =&gt; $key]; //[3=&gt;0]\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":19880392,"reputation":11,"user_id":14564531,"display_name":"mariaILikeIt"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1091,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1667290250,"creation_date":1615753141,"question_id":66629126,"body_markdown":"I&#39;m looking for an efficient way to print pairs from a large volume of integers that sum up to a target value under certain conditions:  \r\n- first int should be smaller than the second int the pair\r\n- the printing should be ascending by the first in in the pair\r\n\r\nI&#39;ve made up some spaghetti code that seems to be more efficient in time complexity than two loops, however, it doesn&#39;t include the sorting. I&#39;ve currently run out of ideas.\r\n\r\nMy questions are the following:  \r\n1. What would be the best way to get the output sorted?\r\n2. Is there any other way to improve the time complexity than my current solution?\r\n\r\nThe output may be large, so I&#39;m wondering if I should replace the `System.out.println()`.\r\n\r\n\r\nI have to print out all the pairs. One int can be in many pairs. The input can grow up to few hundred thousand of integers.\r\n\r\nGiven target 12:  \r\nExample Input:  \r\n2 10 0 8 4 12 8  \r\n\r\nExample Output:  \r\n0 12  \r\n2 10  \r\n4 8  \r\n4 8  \r\n\r\n    public static void myFindPair(int[] arr, int target) {\r\n\r\n        // Key = difference, value = index\r\n        Map&lt;Integer, Integer&gt; map = new HashMap();\r\n\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            int difference = target - arr[i];\r\n            map.put(difference, i);\r\n            System.out.print(arr[i]);\r\n        }\r\n\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            if (map.containsKey(arr[i]) &amp;&amp; map.get(arr[i]) != i) {\r\n                int first = arr[i];\r\n                int second = arr[map.get(arr[i])];\r\n                if (first &lt; second) {\r\n                    System.out.println(first + &quot; &quot; + second);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Most efficient way to find all pairs from given integers that sum up to target value with specific conditions","body":"<p>I'm looking for an efficient way to print pairs from a large volume of integers that sum up to a target value under certain conditions:</p>\n<ul>\n<li>first int should be smaller than the second int the pair</li>\n<li>the printing should be ascending by the first in in the pair</li>\n</ul>\n<p>I've made up some spaghetti code that seems to be more efficient in time complexity than two loops, however, it doesn't include the sorting. I've currently run out of ideas.</p>\n<p>My questions are the following:</p>\n<ol>\n<li>What would be the best way to get the output sorted?</li>\n<li>Is there any other way to improve the time complexity than my current solution?</li>\n</ol>\n<p>The output may be large, so I'm wondering if I should replace the <code>System.out.println()</code>.</p>\n<p>I have to print out all the pairs. One int can be in many pairs. The input can grow up to few hundred thousand of integers.</p>\n<p>Given target 12:<br />\nExample Input:<br />\n2 10 0 8 4 12 8</p>\n<p>Example Output:<br />\n0 12<br />\n2 10<br />\n4 8<br />\n4 8</p>\n<pre><code>public static void myFindPair(int[] arr, int target) {\n\n    // Key = difference, value = index\n    Map&lt;Integer, Integer&gt; map = new HashMap();\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        int difference = target - arr[i];\n        map.put(difference, i);\n        System.out.print(arr[i]);\n    }\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        if (map.containsKey(arr[i]) &amp;&amp; map.get(arr[i]) != i) {\n            int first = arr[i];\n            int second = arr[map.get(arr[i])];\n            if (first &lt; second) {\n                System.out.println(first + &quot; &quot; + second);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667290205,"creation_date":1667290205,"answer_id":74273113,"question_id":74266457,"body_markdown":"&gt; I need project B to be compiled and have its .jar file copied into a directory inside project A.\r\n\r\nAlthough I think it&#39;s the best way to do it, you can use a custom task to do that for you\r\n\r\n```groovy\r\ntask copyB(type: Copy) {\r\n    from &#39;./B/build/libs/B.Jar&#39;\r\n    into &#39;.&#39;\r\n}\r\ntasks.named(&quot;copyB&quot;) { finalizedBy(&quot;buildBJar&quot;) }\r\n\r\ntask buildBJar(type: Exec) {\r\n\tworkingDir &#39;.\\\\B&#39;\r\n\tcommandLine(&quot;cmd&quot;, &quot;/c&quot;, &quot;gradle&quot;, &quot;build&quot;)\r\n\t\tdoLast {\r\n\t\t\tprintln &quot;B has been built and now JAR will be copied&quot;\r\n\t\t}\r\n\t}\r\n}\r\ntasks.named(&quot;build&quot;) { finalizedBy(&quot;copyB&quot;) }\r\n```\r\n\r\nThis will do the following : \r\n- When you trigger build at project `A`, It will need to execute `copyB` task before it will execute the build\r\n- And as another rule, `copyB` task is related to `buildBJar` and will wait for execution.\r\n- at this point, `buildBJar` will be executed, Then `copyB` then project&#39;s `A` build will be triggered after the `B` jar has been transferred to your desired location.\r\n","title":"Copy compiled sibling .jar file into directory","body":"<blockquote>\n<p>I need project B to be compiled and have its .jar file copied into a directory inside project A.</p>\n</blockquote>\n<p>Although I think it's the best way to do it, you can use a custom task to do that for you</p>\n<pre><code>task copyB(type: Copy) {\n    from './B/build/libs/B.Jar'\n    into '.'\n}\ntasks.named(&quot;copyB&quot;) { finalizedBy(&quot;buildBJar&quot;) }\n\ntask buildBJar(type: Exec) {\n    workingDir '.\\\\B'\n    commandLine(&quot;cmd&quot;, &quot;/c&quot;, &quot;gradle&quot;, &quot;build&quot;)\n        doLast {\n            println &quot;B has been built and now JAR will be copied&quot;\n        }\n    }\n}\ntasks.named(&quot;build&quot;) { finalizedBy(&quot;copyB&quot;) }\n</code></pre>\n<p>This will do the following :</p>\n<ul>\n<li>When you trigger build at project <code>A</code>, It will need to execute <code>copyB</code> task before it will execute the build</li>\n<li>And as another rule, <code>copyB</code> task is related to <code>buildBJar</code> and will wait for execution.</li>\n<li>at this point, <code>buildBJar</code> will be executed, Then <code>copyB</code> then project's <code>A</code> build will be triggered after the <code>B</code> jar has been transferred to your desired location.</li>\n</ul>\n"}],"owner":{"account_id":18318740,"reputation":75,"user_id":13339986,"display_name":"BlockyPenguin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1667290205,"creation_date":1667234131,"question_id":74266457,"body_markdown":"I have a gradle project which, for testing purposes, needs to have a jar file in a specific directory at runtime.\r\n\r\nThis jar file needs to be compiled from a sibling project.\r\n\r\nHow would I go about acheiving this? Complete noob at gradle here.\r\n\r\nTo clarify, I don&#39;t need project A to depend on project B, I need project B to be compiled and have its .jar file copied into a directory inside project A.\r\n\r\nThanks.","title":"Copy compiled sibling .jar file into directory","body":"<p>I have a gradle project which, for testing purposes, needs to have a jar file in a specific directory at runtime.</p>\n<p>This jar file needs to be compiled from a sibling project.</p>\n<p>How would I go about acheiving this? Complete noob at gradle here.</p>\n<p>To clarify, I don't need project A to depend on project B, I need project B to be compiled and have its .jar file copied into a directory inside project A.</p>\n<p>Thanks.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1667288901,"post_id":74272885,"comment_id":131127671,"body_markdown":"Is `+1 1234534` also valid with only 7 digits after the country code?","body":"Is <code>+1 1234534</code> also valid with only 7 digits after the country code?"},{"owner":{"account_id":6717092,"reputation":767,"user_id":5178586,"accept_rate":22,"display_name":"JAVA_CAT"},"score":0,"creation_date":1667288991,"post_id":74272885,"comment_id":131127695,"body_markdown":"@anubhava yes. Only More than 10 is not valid. Editied sample code comments given.","body":"@anubhava yes. Only More than 10 is not valid. Editied sample code comments given."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1667289046,"post_id":74272885,"comment_id":131127705,"body_markdown":"ok in that case try: `^\\+(?:\\d|\\d{3}) \\d{1,10}$`","body":"ok in that case try: <code>^\\+(?:\\d|\\d{3}) \\d{1,10}$</code>"},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1667289074,"post_id":74272885,"comment_id":131127711,"body_markdown":"Also see [RegEx Demo](https://regex101.com/r/AQgAap/1)","body":"Also see <a href=\"https://regex101.com/r/AQgAap/1\" rel=\"nofollow noreferrer\">RegEx Demo</a>"},{"owner":{"account_id":6717092,"reputation":767,"user_id":5178586,"accept_rate":22,"display_name":"JAVA_CAT"},"score":1,"creation_date":1667289833,"post_id":74272885,"comment_id":131127870,"body_markdown":"@anubhava can you please add it as answer. it works fine. Will you explain the meaning of each expression ?","body":"@anubhava can you please add it as answer. it works fine. Will you explain the meaning of each expression ?"}],"answers":[{"tags":[],"owner":{"account_id":15615432,"reputation":179,"user_id":13719128,"display_name":"Anubhav Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667289780,"creation_date":1667289780,"answer_id":74273042,"question_id":74272885,"body_markdown":"Try below\r\nJust removed extra space from your regex and added few more test cases. \r\n```\r\npublic static void main(String[] args) {\r\n\t        // TODO Auto-generated method stub\r\n\t        \r\n\t            checkNumber(&quot;+5555555555&quot;);// not a valid\r\n\t            checkNumber(&quot;+123 1234567890&quot;);//should be valid\r\n\t            checkNumber(&quot;+1 1234567890&quot;);//should be valid\r\n\t            checkNumber(&quot;+1 12345678905555&quot;);//should not be valid\r\n\t            checkNumber(&quot;1234567890&quot;);\r\n\t            checkNumber(&quot;91 1234567890&quot;);\r\n\t            checkNumber(&quot;1 1234567890&quot;);\r\n\t            checkNumber(&quot;1  1234567890&quot;);\r\n\t            checkNumber(&quot;+8239 1234567890&quot;);\r\n\r\n\t    }\r\n\r\n\t     protected static void checkNumber(String number) {\r\n\t            System.out.println(number + &quot; : &quot; + (\r\n\t              Pattern.matches(&quot;\\\\+\\\\d{1,3}[ ][0-9]{1,10}$&quot;, number) \r\n\t                ? &quot;valid&quot; : &quot;invalid&quot;\r\n\t              )\r\n\t            );\r\n\t          }\r\n```","title":"Regex to validate the length of digits in java","body":"<p>Try below\nJust removed extra space from your regex and added few more test cases.</p>\n<pre><code>public static void main(String[] args) {\n            // TODO Auto-generated method stub\n            \n                checkNumber(&quot;+5555555555&quot;);// not a valid\n                checkNumber(&quot;+123 1234567890&quot;);//should be valid\n                checkNumber(&quot;+1 1234567890&quot;);//should be valid\n                checkNumber(&quot;+1 12345678905555&quot;);//should not be valid\n                checkNumber(&quot;1234567890&quot;);\n                checkNumber(&quot;91 1234567890&quot;);\n                checkNumber(&quot;1 1234567890&quot;);\n                checkNumber(&quot;1  1234567890&quot;);\n                checkNumber(&quot;+8239 1234567890&quot;);\n\n        }\n\n         protected static void checkNumber(String number) {\n                System.out.println(number + &quot; : &quot; + (\n                  Pattern.matches(&quot;\\\\+\\\\d{1,3}[ ][0-9]{1,10}$&quot;, number) \n                    ? &quot;valid&quot; : &quot;invalid&quot;\n                  )\n                );\n              }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1667289918,"creation_date":1667289918,"answer_id":74273075,"question_id":74272885,"body_markdown":"Converting my comment to answer so that solution is easy to find for future visitors.\r\n\r\nYou may use this regex:\r\n\r\n```sh\r\n^\\+(?:\\d|\\d{3}) \\d{1,10}$\r\n```\r\n\r\nIn Java:\r\n\r\n```sh\r\nfinal String regex = &quot;^\\\\+(?:\\\\d|\\\\d{3}) \\\\d{1,10}$&quot;;\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/AQgAap/1\r\n\r\n**RegEx Details:**\r\n\r\n- `^`: Start\r\n- `\\+`: Match `+`\r\n- `(?:\\d|\\d{3})`: Match single digit or 3 digits\r\n- ` \\d{1,10}`: Match 1 to 10 digits\r\n- `$`: End","title":"Regex to validate the length of digits in java","body":"<p>Converting my comment to answer so that solution is easy to find for future visitors.</p>\n<p>You may use this regex:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>^\\+(?:\\d|\\d{3}) \\d{1,10}$\n</code></pre>\n<p>In Java:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>final String regex = &quot;^\\\\+(?:\\\\d|\\\\d{3}) \\\\d{1,10}$&quot;;\n</code></pre>\n<p><a href=\"https://regex101.com/r/AQgAap/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>RegEx Details:</strong></p>\n<ul>\n<li><code>^</code>: Start</li>\n<li><code>\\+</code>: Match <code>+</code></li>\n<li><code>(?:\\d|\\d{3})</code>: Match single digit or 3 digits</li>\n<li><code> \\d{1,10}</code>: Match 1 to 10 digits</li>\n<li><code>$</code>: End</li>\n</ul>\n"}],"owner":{"account_id":6717092,"reputation":767,"user_id":5178586,"accept_rate":22,"display_name":"JAVA_CAT"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74273075,"answer_count":2,"score":1,"last_activity_date":1667289918,"creation_date":1667288723,"question_id":74272885,"body_markdown":"\r\nI am trying validate phone number. The expected valid phone numbers are +1 1234567890 , +123 1234567890, +1 1234534 etc. No brackets and white space after the country code. I wrote regex something like below. But not working as expected. Any help would be appreciated. \r\n\r\n    public class ValidatePhoneNumbers {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\t    checkNumber(&quot;+5555555555&quot;);// not a valid\r\n    \t\t    checkNumber(&quot;+123 1234567890&quot;);//should be valid\r\n    \t\t    checkNumber(&quot;+1 1234567890&quot;);//should be valid\r\n    \t\t    checkNumber(&quot;+1 12345678905555&quot;);//should not be valid\r\n    \r\n    \t}\r\n    \r\n    \t protected static void checkNumber(String number) {\r\n    \t\t    System.out.println(number + &quot; : &quot; + (\r\n    \t\t      Pattern.matches(&quot;\\\\+\\\\d{1,3}[ ] [0-9]{1,10}$&quot;, number) \r\n    \t\t        ? &quot;valid&quot; : &quot;invalid&quot;\r\n    \t\t      )\r\n    \t\t    );\r\n    \t\t  }\r\n    }\r\n\r\n","title":"Regex to validate the length of digits in java","body":"<p>I am trying validate phone number. The expected valid phone numbers are +1 1234567890 , +123 1234567890, +1 1234534 etc. No brackets and white space after the country code. I wrote regex something like below. But not working as expected. Any help would be appreciated.</p>\n<pre><code>public class ValidatePhoneNumbers {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n            checkNumber(&quot;+5555555555&quot;);// not a valid\n            checkNumber(&quot;+123 1234567890&quot;);//should be valid\n            checkNumber(&quot;+1 1234567890&quot;);//should be valid\n            checkNumber(&quot;+1 12345678905555&quot;);//should not be valid\n\n    }\n\n     protected static void checkNumber(String number) {\n            System.out.println(number + &quot; : &quot; + (\n              Pattern.matches(&quot;\\\\+\\\\d{1,3}[ ] [0-9]{1,10}$&quot;, number) \n                ? &quot;valid&quot; : &quot;invalid&quot;\n              )\n            );\n          }\n}\n</code></pre>\n"},{"tags":["java","botframework","microsoft-teams"],"answers":[{"tags":[],"owner":{"account_id":11752811,"reputation":10047,"user_id":8601372,"display_name":"Hilton Giesenow"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667289725,"creation_date":1667289725,"answer_id":74273036,"question_id":74268016,"body_markdown":"I&#39;ve answered before some tips on Proactive messaging, please see [here](https://stackoverflow.com/questions/71547766/sending-proactive-messages-from-an-outside-process-to-organizational-users-via-t/71550069#71550069) for that.\r\n\r\nTo answer your question though, the bot can definitely *start* the engagement, either by replying to an existing message in a group chat or starting a completely new thread in the chat. However, it does require to have been *installed* initially, either by a user or programmatically (e.g. Graph API). That part only needs to be done once, then you can capture the conversation reference and use it again anytime thereafter. That is shown in the sample I link to in my other answer I referenced above.","title":"Send proactive message without prior interaction","body":"<p>I've answered before some tips on Proactive messaging, please see <a href=\"https://stackoverflow.com/questions/71547766/sending-proactive-messages-from-an-outside-process-to-organizational-users-via-t/71550069#71550069\">here</a> for that.</p>\n<p>To answer your question though, the bot can definitely <em>start</em> the engagement, either by replying to an existing message in a group chat or starting a completely new thread in the chat. However, it does require to have been <em>installed</em> initially, either by a user or programmatically (e.g. Graph API). That part only needs to be done once, then you can capture the conversation reference and use it again anytime thereafter. That is shown in the sample I link to in my other answer I referenced above.</p>\n"}],"owner":{"account_id":2603589,"reputation":53,"user_id":2255291,"display_name":"Trefort"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74273036,"answer_count":1,"score":0,"last_activity_date":1667289725,"creation_date":1667242850,"question_id":74268016,"body_markdown":"I use this sample: [16.proactive-messages][1] - as the base for my bot and it works fine, but I&#39;d like to extend it, so that it can send messages in a group chat without anyone interacting with it first (like sending a &quot;Hello I&#39;m up!&quot; message at startup), because currently it can only respond if someone has mentioned the bot after it has initialized.  \r\n\r\nPerhaps there is a proper way to get the group chat(s) where the bot resides at the bot initialization?\r\n\r\n\r\n  [1]: https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/java_springboot/16.proactive-messages","title":"Send proactive message without prior interaction","body":"<p>I use this sample: <a href=\"https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/java_springboot/16.proactive-messages\" rel=\"nofollow noreferrer\">16.proactive-messages</a> - as the base for my bot and it works fine, but I'd like to extend it, so that it can send messages in a group chat without anyone interacting with it first (like sending a &quot;Hello I'm up!&quot; message at startup), because currently it can only respond if someone has mentioned the bot after it has initialized.</p>\n<p>Perhaps there is a proper way to get the group chat(s) where the bot resides at the bot initialization?</p>\n"},{"tags":["java","sorting","arraylist","hashmap"],"comments":[{"owner":{"account_id":1144634,"reputation":3197,"user_id":1127677,"accept_rate":79,"display_name":"radimpe"},"score":0,"creation_date":1348637904,"post_id":12595097,"comment_id":16975115,"body_markdown":"Exactly how are you trying to sort the `ArrayList`? Your list contains a number of `HashMaps`. Are you trying to sort it based on the key of the map or the value of the map?","body":"Exactly how are you trying to sort the <code>ArrayList</code>? Your list contains a number of <code>HashMaps</code>. Are you trying to sort it based on the key of the map or the value of the map?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1348680241,"post_id":12595097,"comment_id":16993980,"body_markdown":"Why are you using `HashMap`s here?  You should be creating a proper object class to hold names and IDs.","body":"Why are you using <code>HashMap</code>s here?  You should be creating a proper object class to hold names and IDs."}],"answers":[{"tags":[],"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348638269,"creation_date":1348637915,"answer_id":12595163,"question_id":12595097,"body_markdown":"First of all, your code seems weird, you are adding a newly created HashMap object into your list in each iteration of the loop. Anyway, I&#39;ll not discuss it. Maybe you should specify your ArrayList like this: `ArrayList&lt;HashMap&gt;`\r\nBut that is not enough. If you have a list of a specific type and wanna sort them, then your **type** (in this case HashMap) should implement `Comparable` interface. HashMap doesn&#39;t implement `Comparable` interface. Read the API: [http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\r\n\r\nYou should implement your own **Comparator** as a solution, I guess.","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.Comparable","body":"<p>First of all, your code seems weird, you are adding a newly created HashMap object into your list in each iteration of the loop. Anyway, I'll not discuss it. Maybe you should specify your ArrayList like this: <code>ArrayList&lt;HashMap&gt;</code>\nBut that is not enough. If you have a list of a specific type and wanna sort them, then your <strong>type</strong> (in this case HashMap) should implement <code>Comparable</code> interface. HashMap doesn't implement <code>Comparable</code> interface. Read the API: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html</a></p>\n\n<p>You should implement your own <strong>Comparator</strong> as a solution, I guess.</p>\n"},{"tags":[],"owner":{"account_id":433296,"reputation":7639,"user_id":818557,"accept_rate":80,"display_name":"Anuj Balan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348637933,"creation_date":1348637933,"answer_id":12595165,"question_id":12595097,"body_markdown":"Check this [link][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort%28java.util.List%29\r\n\r\n&gt; All elements in the list must implement the Comparable interface. Furthermore, all elements in the list must be mutually comparable (that is, e1.compareTo(e2) must not throw a ClassCastException for any elements e1 and e2 in the list).\r\n\r\nThis should say it all.","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.Comparable","body":"<p>Check this <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort%28java.util.List%29\" rel=\"nofollow\">link</a></p>\n\n<blockquote>\n  <p>All elements in the list must implement the Comparable interface. Furthermore, all elements in the list must be mutually comparable (that is, e1.compareTo(e2) must not throw a ClassCastException for any elements e1 and e2 in the list).</p>\n</blockquote>\n\n<p>This should say it all.</p>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1348638266,"creation_date":1348637960,"answer_id":12595169,"question_id":12595097,"body_markdown":"Of course the compiler error is trying to convey you in the best way it can that it cannot compare `HashMaps`, that you have inside your list..\r\n\r\nFirst you should declare your list as generic list like this: -\r\n\r\n    List&lt;HashMap&lt;String, String&gt;&gt; hashList = new ArrayList&lt;&gt;();\r\n\r\nIf you want to sort `List&lt;HashMap&gt;`, you need to have a `Comparator` to sort.. You cannot sort it using natural ordering.. Because your `HashMap` does not implement `Comparable` interface..\r\n\r\nYou can only compare two instances if they are comparable..\r\n\r\n*EDIT: - Well, I think you will need two `Comparators` here.. One for your `List` and one for your `HashMap` inside the `List`.. But I&#39;m not pretty sure about it whether it would work..","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.Comparable","body":"<p>Of course the compiler error is trying to convey you in the best way it can that it cannot compare <code>HashMaps</code>, that you have inside your list..</p>\n\n<p>First you should declare your list as generic list like this: -</p>\n\n<pre><code>List&lt;HashMap&lt;String, String&gt;&gt; hashList = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>If you want to sort <code>List&lt;HashMap&gt;</code>, you need to have a <code>Comparator</code> to sort.. You cannot sort it using natural ordering.. Because your <code>HashMap</code> does not implement <code>Comparable</code> interface..</p>\n\n<p>You can only compare two instances if they are comparable..</p>\n\n<p>*EDIT: - Well, I think you will need two <code>Comparators</code> here.. One for your <code>List</code> and one for your <code>HashMap</code> inside the <code>List</code>.. But I'm not pretty sure about it whether it would work..</p>\n"},{"tags":[],"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348637993,"creation_date":1348637993,"answer_id":12595175,"question_id":12595097,"body_markdown":"`Collections.sort(List&lt;T&gt;)` requires an object `T` of type `Comparable`. That means any object that implements Comparable interface will work. Refer [this](\r\nhttp://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List%29):\r\n\r\n     public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list)\r\n\r\nIn your case you are trying to sort an `ArrayList` that contains a `HashMap`, which does not implements `Comparable` interface. So. the code fails.","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.Comparable","body":"<p><code>Collections.sort(List&lt;T&gt;)</code> requires an object <code>T</code> of type <code>Comparable</code>. That means any object that implements Comparable interface will work. Refer [this](\n<a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List%29\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List%29</a>):</p>\n\n<pre><code> public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list)\n</code></pre>\n\n<p>In your case you are trying to sort an <code>ArrayList</code> that contains a <code>HashMap</code>, which does not implements <code>Comparable</code> interface. So. the code fails.</p>\n"},{"tags":[],"owner":{"account_id":1861004,"reputation":558,"user_id":1685590,"accept_rate":60,"display_name":"AnarchoEnte"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348637997,"creation_date":1348637997,"answer_id":12595177,"question_id":12595097,"body_markdown":"HashMap does not implement the Comparable interface (http://docs.oracle.com/javase/6/docs/api/). As far as I know the Collections.sort()-Method can only sort natural values.But you can write your own comparator and sort your list as you wish. The Collections.sort()-Method is overloaded therefore","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.Comparable","body":"<p>HashMap does not implement the Comparable interface (http://docs.oracle.com/javase/6/docs/api/). As far as I know the Collections.sort()-Method can only sort natural values.But you can write your own comparator and sort your list as you wish. The Collections.sort()-Method is overloaded therefore</p>\n"},{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348638049,"creation_date":1348638049,"answer_id":12595192,"question_id":12595097,"body_markdown":"For something to be sorted, it must implement the [Comparable][1] interface, which is something which the [HashMap][2] does not.\r\n\r\nAs a result, when you try to sort your list of HashMaps your code fails.\r\n\r\nIf you really need to be able to compare HashMaps, you could create your own HashMap, something like so:\r\n\r\n    public class MyHashMap&lt;K,V&gt; extends HashMap&lt;K, V&gt; implements Comparable&lt;HashMap&lt;K,V&gt;&gt;\r\n    {\r\n        ...\r\n        public int compareTo(HashMap&lt;K,V&gt; comparer)\r\n        {\r\n            ...\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.Comparable","body":"<p>For something to be sorted, it must implement the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\" rel=\"nofollow\">Comparable</a> interface, which is something which the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html\" rel=\"nofollow\">HashMap</a> does not.</p>\n\n<p>As a result, when you try to sort your list of HashMaps your code fails.</p>\n\n<p>If you really need to be able to compare HashMaps, you could create your own HashMap, something like so:</p>\n\n<pre><code>public class MyHashMap&lt;K,V&gt; extends HashMap&lt;K, V&gt; implements Comparable&lt;HashMap&lt;K,V&gt;&gt;\n{\n    ...\n    public int compareTo(HashMap&lt;K,V&gt; comparer)\n    {\n        ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1360640,"reputation":5860,"user_id":1298089,"accept_rate":56,"display_name":"swemon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1348638104,"creation_date":1348638104,"answer_id":12595201,"question_id":12595097,"body_markdown":"In order to use `Collections.sort()`, Lists (and arrays) of objects that implement this interface **Comparable**. http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.Comparable","body":"<p>In order to use <code>Collections.sort()</code>, Lists (and arrays) of objects that implement this interface <strong>Comparable</strong>. <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html</a></p>\n"},{"tags":[],"owner":{"account_id":995570,"reputation":5468,"user_id":1011612,"accept_rate":0,"display_name":"Michael Chen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348638134,"creation_date":1348638134,"answer_id":12595204,"question_id":12595097,"body_markdown":"Guess the error happened on line Collections.sort().\r\n\r\nIf you want to use sort, the objects in the list must be Comparable. Otherwise how java is gonna sort it?\r\n\r\nHashMap is not Comparable. You can extend HashMap and implement Comparable interface.","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.Comparable","body":"<p>Guess the error happened on line Collections.sort().</p>\n\n<p>If you want to use sort, the objects in the list must be Comparable. Otherwise how java is gonna sort it?</p>\n\n<p>HashMap is not Comparable. You can extend HashMap and implement Comparable interface.</p>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1489760559,"creation_date":1348638140,"answer_id":12595206,"question_id":12595097,"body_markdown":"*First Thing* -\r\n\r\n    java.util.ArrayList arList= new java.util.ArrayList();  \r\n    arList=getList();    \r\n\r\nYou create the first instance unnecessary. \r\n\r\n*Second Thing* - \r\n\r\n    ArrayList listItems = new ArrayList();\r\nThis list contains list HashMap And HashMap does not implements Comparable. \r\n\r\n    java.util.Collections.sort(arList);\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list)\r\n\r\nList contain(`T`) must extends Comparable. \r\n\r\nthat is why it populate `java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.Comparable`\r\n","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.Comparable","body":"<p><em>First Thing</em> -</p>\n\n<pre><code>java.util.ArrayList arList= new java.util.ArrayList();  \narList=getList();    \n</code></pre>\n\n<p>You create the first instance unnecessary. </p>\n\n<p><em>Second Thing</em> - </p>\n\n<pre><code>ArrayList listItems = new ArrayList();\n</code></pre>\n\n<p>This list contains list HashMap And HashMap does not implements Comparable. </p>\n\n<pre><code>java.util.Collections.sort(arList);\n\npublic static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list)\n</code></pre>\n\n<p>List contain(<code>T</code>) must extends Comparable. </p>\n\n<p>that is why it populate <code>java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.Comparable</code></p>\n"},{"tags":[],"owner":{"account_id":319648,"reputation":6146,"user_id":637517,"accept_rate":85,"display_name":"subodh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348638451,"creation_date":1348638451,"answer_id":12595256,"question_id":12595097,"body_markdown":"Yes, Because  `java.util.Collections.sort(arList);`\r\n**arList** contains the `HashMap hashList = new HashMap();`\r\nunfortunately hashMap did not implement the `Comparable or Comparator interface.`\r\nand **Collections.sort()** method will sort on the implementation of\r\n\r\n     Comparable or Comparator interface.\r\n\r\n","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.Comparable","body":"<p>Yes, Because  <code>java.util.Collections.sort(arList);</code>\n<strong>arList</strong> contains the <code>HashMap hashList = new HashMap();</code>\nunfortunately hashMap did not implement the <code>Comparable or Comparator interface.</code>\nand <strong>Collections.sort()</strong> method will sort on the implementation of</p>\n\n<pre><code> Comparable or Comparator interface.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6160935,"reputation":21,"user_id":4802568,"display_name":"faraz tanveer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522823018,"creation_date":1522823018,"answer_id":49644145,"question_id":12595097,"body_markdown":"This way you can achieve a Sorted Map \r\n  \r\n\r\n    public class MapUsingSort {\r\n    public static void main(String[] args) {\r\n\t\r\n\tMap&lt;Integer, String&gt; abc = new HashMap&lt;&gt;();\r\n\tabc.put(3, &quot;a&quot;);\r\n\tabc.put(6, &quot;b&quot;);\r\n\tabc.put(1, &quot;c&quot;);\r\n\tabc.put(4, &quot;h&quot;);\r\n\tabc.put(10, &quot;k&quot;);\r\n\tabc.put(9, &quot;x&quot;);\r\n\t\r\n     // Map is stored in ArrayList\r\n    List&lt;Entry&lt;Integer,String&gt;&gt; sortedEntries = new ArrayList&lt;Entry&lt;Integer,String&gt;&gt;(abc.entrySet());\r\n\r\n    \r\n\tCollections.sort(sortedEntries, new Comparator&lt;Entry&lt;Integer,String&gt;&gt;() {\r\n\t\t@Override\r\n\t\tpublic int compare(Entry&lt;Integer, String&gt; a, Entry&lt;Integer, String&gt; b) \r\n\t\t{\r\n            //Sorting is done here make changes as per your need \r\n            // swap a and b for descending order \r\n             \r\n\t\t\treturn a.getKey().compareTo(b.getKey());   \r\n\t\t}\r\n\t   });\r\n\t\r\n\tfor (Object object : sortedEntries) {\r\n\r\n        //print your data in your own way\r\n\t\tSystem.out.println((Map.Entry)object);\r\n\t   }\r\n      }\r\n    }\r\n\r\n\r\nFor further in detail visit [HashMap][1]\r\n\r\n\r\n\r\n\r\n*\r\n\r\n&gt; This is my first answer on stackOverflow hope it helps!\r\n\r\n \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.Comparable","body":"<p>This way you can achieve a Sorted Map </p>\n\n<pre><code>public class MapUsingSort {\npublic static void main(String[] args) {\n\nMap&lt;Integer, String&gt; abc = new HashMap&lt;&gt;();\nabc.put(3, \"a\");\nabc.put(6, \"b\");\nabc.put(1, \"c\");\nabc.put(4, \"h\");\nabc.put(10, \"k\");\nabc.put(9, \"x\");\n\n // Map is stored in ArrayList\nList&lt;Entry&lt;Integer,String&gt;&gt; sortedEntries = new ArrayList&lt;Entry&lt;Integer,String&gt;&gt;(abc.entrySet());\n\n\nCollections.sort(sortedEntries, new Comparator&lt;Entry&lt;Integer,String&gt;&gt;() {\n    @Override\n    public int compare(Entry&lt;Integer, String&gt; a, Entry&lt;Integer, String&gt; b) \n    {\n        //Sorting is done here make changes as per your need \n        // swap a and b for descending order \n\n        return a.getKey().compareTo(b.getKey());   \n    }\n   });\n\nfor (Object object : sortedEntries) {\n\n    //print your data in your own way\n    System.out.println((Map.Entry)object);\n   }\n  }\n}\n</code></pre>\n\n<p>For further in detail visit <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\">HashMap</a></p>\n\n<p>*</p>\n\n<blockquote>\n  <p>This is my first answer on stackOverflow hope it helps!</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23203046,"reputation":1,"user_id":17297616,"display_name":"ParagBharadia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667289488,"creation_date":1667289488,"answer_id":74272998,"question_id":12595097,"body_markdown":"For those who want to know **how to add comparable** it&#39;s easy\r\n\r\njust add\r\n\r\n `YourClassName implement comparable{ }`\r\n\r\nyou can refer this! :)\r\n\r\nwww.w3schools.blog/comparable-comparator-java","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.Comparable","body":"<p>For those who want to know <strong>how to add comparable</strong> it's easy</p>\n<p>just add</p>\n<p><code>YourClassName implement comparable{ }</code></p>\n<p>you can refer this! :)</p>\n<p><a href=\"http://www.w3schools.blog/comparable-comparator-java\" rel=\"nofollow noreferrer\">www.w3schools.blog/comparable-comparator-java</a></p>\n"}],"owner":{"account_id":892560,"reputation":4440,"user_id":930544,"accept_rate":76,"display_name":"Nidheesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47890,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":12595206,"answer_count":12,"score":5,"last_activity_date":1667289488,"creation_date":1348637516,"question_id":12595097,"body_markdown":"I was trying to sort my ArrayList.\r\n\r\n   \r\n\r\n    java.util.ArrayList arList= new java.util.ArrayList();\t\r\n       arList=getList();\t\r\n       java.util.Collections.sort(arList);\r\n\r\nwhere my getList() function here\r\n\r\n    public ArrayList getList() throws Exception\r\n    {\r\n    ArrayList listItems = new ArrayList();\r\n    //Query executing here..............!\r\n    \t\t    while (rs.next()) \r\n    \t\t\t\t{\r\n    \t\t\t\tHashMap hashList = new HashMap();\r\n    \t\t\t\thashList.put(&quot;name&quot;,rs.getString(1));\r\n    \t\t\t\thashList.put(&quot;id&quot;,rs.getBigDecimal(2));\r\n    \t\t\t\tlistItems.add(hashList);\r\n    \t\t\t\t}\r\n              return listItems;\r\n    }\r\n\r\nBut I am facing error :**java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.Comparable**","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.Comparable","body":"<p>I was trying to sort my ArrayList.</p>\n\n<pre><code>java.util.ArrayList arList= new java.util.ArrayList();  \n   arList=getList();    \n   java.util.Collections.sort(arList);\n</code></pre>\n\n<p>where my getList() function here</p>\n\n<pre><code>public ArrayList getList() throws Exception\n{\nArrayList listItems = new ArrayList();\n//Query executing here..............!\n            while (rs.next()) \n                {\n                HashMap hashList = new HashMap();\n                hashList.put(\"name\",rs.getString(1));\n                hashList.put(\"id\",rs.getBigDecimal(2));\n                listItems.add(hashList);\n                }\n          return listItems;\n}\n</code></pre>\n\n<p>But I am facing error :<strong>java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.Comparable</strong></p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":4584532,"reputation":1051,"user_id":3719696,"accept_rate":94,"display_name":"prompteus"},"score":2,"creation_date":1482278436,"post_id":40052162,"comment_id":69706841,"body_markdown":"I  definitely wouldn&#39;t say it states that the user doesn&#39;t exist. I think it implies there is something wrong with the connection -&gt; phone is offline, server is down, server didn&#39;t respond, etc.","body":"I  definitely wouldn&#39;t say it states that the user doesn&#39;t exist. I think it implies there is something wrong with the connection -&gt; phone is offline, server is down, server didn&#39;t respond, etc."},{"owner":{"account_id":1196164,"reputation":307,"user_id":1167857,"accept_rate":20,"display_name":"loveNZ"},"score":0,"creation_date":1483300655,"post_id":40052162,"comment_id":70042037,"body_markdown":"I am getting the same problem now. does anyone have idea have a solution yet ? Thank you","body":"I am getting the same problem now. does anyone have idea have a solution yet ? Thank you"},{"owner":{"account_id":1854815,"reputation":2720,"user_id":1680637,"display_name":"Ayman Al-Absi"},"score":0,"creation_date":1483813300,"post_id":40052162,"comment_id":70255573,"body_markdown":"I&#39;m getting similar error message","body":"I&#39;m getting similar error message"},{"owner":{"account_id":2317545,"reputation":1211,"user_id":2034240,"display_name":"FlipNovid"},"score":0,"creation_date":1484055530,"post_id":40052162,"comment_id":70344604,"body_markdown":"I&#39;m getting similar error message(2)","body":"I&#39;m getting similar error message(2)"},{"owner":{"account_id":120537,"reputation":11817,"user_id":313042,"accept_rate":75,"display_name":"Rajath"},"score":1,"creation_date":1557270627,"post_id":40052162,"comment_id":98706474,"body_markdown":"From the answers below, it looks like a default error handler for all unhandled errors. Good work, Google!","body":"From the answers below, it looks like a default error handler for all unhandled errors. Good work, Google!"}],"answers":[{"tags":[],"owner":{"account_id":6123214,"reputation":880,"user_id":4776087,"display_name":"Chetan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484135781,"creation_date":1484135781,"answer_id":41590336,"question_id":40052162,"body_markdown":"I was facing the same issue. what solved my problem by clear extra space in API_KEY, so my suggestion is to check your GoogleService-Info.plist for \r\n\r\n 1. API_KEY is proper (without extra spaces)\r\n 2. GOOGLE_APP_ID\r\n 3. CLIENT_ID \r\n\r\nI think this might help you\r\n","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<p>I was facing the same issue. what solved my problem by clear extra space in API_KEY, so my suggestion is to check your GoogleService-Info.plist for </p>\n\n<ol>\n<li>API_KEY is proper (without extra spaces)</li>\n<li>GOOGLE_APP_ID</li>\n<li>CLIENT_ID </li>\n</ol>\n\n<p>I think this might help you</p>\n"},{"tags":[],"owner":{"account_id":3521351,"reputation":574,"user_id":3465960,"display_name":"Tej"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1488405355,"creation_date":1488405355,"answer_id":42542855,"question_id":40052162,"body_markdown":"It can also happen when google play services are not running. Try to launch play store and check if it is working. If not reboot of device issue.And also compare the google play services using in the project and google play services in the device are same if not update google play services.\r\n\r\nThis is just a minor but possible case where it gives the exception.","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<p>It can also happen when google play services are not running. Try to launch play store and check if it is working. If not reboot of device issue.And also compare the google play services using in the project and google play services in the device are same if not update google play services.</p>\n\n<p>This is just a minor but possible case where it gives the exception.</p>\n"},{"comments":[{"owner":{"account_id":79855,"reputation":439,"user_id":226142,"display_name":"FernandoZ"},"score":1,"creation_date":1503862459,"post_id":42575506,"comment_id":78775847,"body_markdown":"This did it for me.  I had a form but was handling the button click myself instead of doing a post or anything.","body":"This did it for me.  I had a form but was handling the button click myself instead of doing a post or anything."},{"owner":{"account_id":111709,"reputation":62291,"user_id":294949,"accept_rate":94,"display_name":"danh"},"score":1,"creation_date":1548812935,"post_id":42575506,"comment_id":95674159,"body_markdown":"Solved it.  Thanks.  Any idea why?","body":"Solved it.  Thanks.  Any idea why?"},{"owner":{"account_id":10645699,"reputation":454,"user_id":7838493,"display_name":"D. Pratt"},"score":0,"creation_date":1598447722,"post_id":42575506,"comment_id":112461974,"body_markdown":"This solved it for me, 3 years after this answer was posted. To echo @danh, does anyone know why?","body":"This solved it for me, 3 years after this answer was posted. To echo @danh, does anyone know why?"},{"owner":{"account_id":7775,"reputation":5873,"user_id":13603,"accept_rate":54,"display_name":"Todd Davis"},"score":0,"creation_date":1662414188,"post_id":42575506,"comment_id":129995747,"body_markdown":"Holy cow, this answer from 2016 still solved this for me in 2022. Thanks!","body":"Holy cow, this answer from 2016 still solved this for me in 2022. Thanks!"}],"tags":[],"owner":{"account_id":8248844,"reputation":9692,"user_id":6204133,"display_name":"Dan Alboteanu"},"comment_count":4,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1542356060,"creation_date":1488534382,"answer_id":42575506,"question_id":40052162,"body_markdown":"changing from `&lt;form&gt;&lt;/form&gt;` to `&lt;div&gt;&lt;/div&gt;` solved this problem:\r\n\r\n&quot;A network error (such as timeout, interrupted connection or unreachable host) has occurred in a form element in the HTML. Small bug.&quot;","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<p>changing from <code>&lt;form&gt;&lt;/form&gt;</code> to <code>&lt;div&gt;&lt;/div&gt;</code> solved this problem:</p>\n\n<p>\"A network error (such as timeout, interrupted connection or unreachable host) has occurred in a form element in the HTML. Small bug.\"</p>\n"},{"tags":[],"owner":{"account_id":245996,"reputation":644,"user_id":519849,"accept_rate":33,"display_name":"Huy - Logarit"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491819717,"creation_date":1491819717,"answer_id":43320663,"question_id":40052162,"body_markdown":"    &lt;a (click)=&quot;login()&quot; class=&quot;nav-link&quot;&gt;Login&lt;/a&gt;\r\n\r\nDo not put `href` attribute into tag `a`. It is help to solved my case","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<pre><code>&lt;a (click)=\"login()\" class=\"nav-link\"&gt;Login&lt;/a&gt;\n</code></pre>\n\n<p>Do not put <code>href</code> attribute into tag <code>a</code>. It is help to solved my case</p>\n"},{"tags":[],"owner":{"account_id":9253318,"reputation":19,"user_id":6873074,"display_name":"V.K.Agarwal"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1606721323,"creation_date":1491931500,"answer_id":43352523,"question_id":40052162,"body_markdown":"I have faced this problem after searching a lot i got the solution, In my case it was happening due to the restriction of background data.\r\n\r\n*******\r\nIf you turn off background data of Google Service Framework. Check &amp; turn on it. It worked for me.","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<p>I have faced this problem after searching a lot i got the solution, In my case it was happening due to the restriction of background data.</p>\n<hr />\n<p>If you turn off background data of Google Service Framework. Check &amp; turn on it. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":3013011,"reputation":12987,"user_id":2555999,"accept_rate":75,"display_name":"ZuzEL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498961337,"creation_date":1498960745,"answer_id":44866831,"question_id":40052162,"body_markdown":"Check your rewrites in `firebase.json`, make sure you don&#39;t rewrite auth provider url `/__/`\r\n\r\n\r\n    {\r\n      &quot;database&quot;: {\r\n        &quot;rules&quot;: &quot;database.rules.json&quot;\r\n      },\r\n      &quot;storage&quot;: {\r\n        &quot;rules&quot;: &quot;storage.rules&quot;\r\n      },\r\n      &quot;hosting&quot;: {\r\n        &quot;public&quot;: &quot;public&quot;,\r\n        &quot;rewrites&quot;: [\r\n          {\r\n            &quot;source&quot;: &quot;!/__/**&quot;,\r\n            &quot;destination&quot;: &quot;/index.html&quot;\r\n          },\r\n          {\r\n            &quot;source&quot;: &quot;**/!(*.js|*.html|*.css|*.json|*.svg|*.png|*.jpg|*.jpeg)&quot;,\r\n            &quot;destination&quot;: &quot;/index.html&quot;\r\n          }\r\n        ]\r\n      }\r\n    }\r\n\r\nAlso it could be service worker problem. See https://github.com/Polymer/polymer-cli/issues/290","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<p>Check your rewrites in <code>firebase.json</code>, make sure you don't rewrite auth provider url <code>/__/</code></p>\n\n<pre><code>{\n  \"database\": {\n    \"rules\": \"database.rules.json\"\n  },\n  \"storage\": {\n    \"rules\": \"storage.rules\"\n  },\n  \"hosting\": {\n    \"public\": \"public\",\n    \"rewrites\": [\n      {\n        \"source\": \"!/__/**\",\n        \"destination\": \"/index.html\"\n      },\n      {\n        \"source\": \"**/!(*.js|*.html|*.css|*.json|*.svg|*.png|*.jpg|*.jpeg)\",\n        \"destination\": \"/index.html\"\n      }\n    ]\n  }\n}\n</code></pre>\n\n<p>Also it could be service worker problem. See <a href=\"https://github.com/Polymer/polymer-cli/issues/290\" rel=\"nofollow noreferrer\">https://github.com/Polymer/polymer-cli/issues/290</a></p>\n"},{"tags":[],"owner":{"account_id":148970,"reputation":2326,"user_id":1363533,"display_name":"Konstantin Nikitin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1506794305,"creation_date":1506794305,"answer_id":46505543,"question_id":40052162,"body_markdown":"If you do this check in form onSumbit handler, you need to preventDefault before sending a request.\r\n\r\nThis is a snippet (React) that works:\r\n\r\n    class LoginComponent extends React.Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                email: &#39;&#39;,\r\n                password: &#39;&#39;,\r\n            };\r\n            this.login = this.login.bind(this);\r\n            this.handleLoginChange = this.handleLoginChange.bind(this);\r\n            this.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n        }\r\n\r\n        handleLoginChange(event) {\r\n            this.setState({\r\n                email: event.target.value,\r\n                password: this.state.password,\r\n            });\r\n        }\r\n\r\n        handlePasswordChange(event) {\r\n            this.setState({\r\n                email: this.state.email,\r\n                password: event.target.value,\r\n            });\r\n        }\r\n\r\n        login(event) {\r\n            event.preventDefault();\r\n            firebase.auth()\r\n                .signInWithEmailAndPassword(this.state.email, this.state.password)\r\n                .then(function(user) {\r\n                          window.alert(&#39;OK&#39; + user);\r\n                      },\r\n                      function(error) {\r\n                          window.alert(&#39;ERR&#39; + error);\r\n                      });\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                &lt;form onSubmit={this.login}&gt;\r\n                    &lt;TextField hintText=&quot;login&quot; value={this.state.email} onChange={this.handleLoginChange} /&gt;&lt;br/&gt;\r\n                    &lt;TextField hintText=&quot;password&quot; type=&quot;password&quot; value={this.state.password} onChange={this.handlePasswordChange} /&gt;&lt;br/&gt;\r\n                    &lt;RaisedButton type=&quot;submit&quot; label=&quot;Login&quot; primary={true} /&gt;\r\n                &lt;/form&gt;\r\n            )\r\n        }\r\n    }\r\n","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<p>If you do this check in form onSumbit handler, you need to preventDefault before sending a request.</p>\n\n<p>This is a snippet (React) that works:</p>\n\n<pre><code>class LoginComponent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: '',\n        };\n        this.login = this.login.bind(this);\n        this.handleLoginChange = this.handleLoginChange.bind(this);\n        this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    }\n\n    handleLoginChange(event) {\n        this.setState({\n            email: event.target.value,\n            password: this.state.password,\n        });\n    }\n\n    handlePasswordChange(event) {\n        this.setState({\n            email: this.state.email,\n            password: event.target.value,\n        });\n    }\n\n    login(event) {\n        event.preventDefault();\n        firebase.auth()\n            .signInWithEmailAndPassword(this.state.email, this.state.password)\n            .then(function(user) {\n                      window.alert('OK' + user);\n                  },\n                  function(error) {\n                      window.alert('ERR' + error);\n                  });\n    }\n\n    render() {\n        return (\n            &lt;form onSubmit={this.login}&gt;\n                &lt;TextField hintText=\"login\" value={this.state.email} onChange={this.handleLoginChange} /&gt;&lt;br/&gt;\n                &lt;TextField hintText=\"password\" type=\"password\" value={this.state.password} onChange={this.handlePasswordChange} /&gt;&lt;br/&gt;\n                &lt;RaisedButton type=\"submit\" label=\"Login\" primary={true} /&gt;\n            &lt;/form&gt;\n        )\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":252173,"reputation":503,"user_id":530026,"display_name":"inteist"},"score":0,"creation_date":1681573655,"post_id":47325232,"comment_id":134079928,"body_markdown":":facepalm .........","body":":facepalm ........."}],"tags":[],"owner":{"account_id":9665807,"reputation":1269,"user_id":7172345,"display_name":"Kangudie Muanza - Killmonger"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1531145949,"creation_date":1510822216,"answer_id":47325232,"question_id":40052162,"body_markdown":"In your AndroidManifest.xml add, it works for me\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<p>In your AndroidManifest.xml add, it works for me</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3608684,"reputation":11,"user_id":3437969,"display_name":"luishsivla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516949321,"creation_date":1516949321,"answer_id":48456827,"question_id":40052162,"body_markdown":"I resolve the problem fixing the date of my cell phone were one year late, when I fixed the date, everything worked well again and the error disappear, I hopping this help you","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<p>I resolve the problem fixing the date of my cell phone were one year late, when I fixed the date, everything worked well again and the error disappear, I hopping this help you</p>\n"},{"tags":[],"owner":{"account_id":346390,"reputation":1501,"user_id":679884,"accept_rate":50,"display_name":"Sathish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527589811,"creation_date":1527589811,"answer_id":50582125,"question_id":40052162,"body_markdown":"In my case the issue is due to mismatch versions of dependencies, then I have changed dependencies like below\r\n\r\n    implementation &#39;com.google.firebase:firebase-auth:+&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:+&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:+&#39;\r\n    implementation &#39;com.firebaseui:firebase-ui-auth:+&#39;\r\n\r\nthen its started working perfectly.","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<p>In my case the issue is due to mismatch versions of dependencies, then I have changed dependencies like below</p>\n\n<pre><code>implementation 'com.google.firebase:firebase-auth:+'\nimplementation 'com.google.firebase:firebase-core:+'\nimplementation 'com.google.android.gms:play-services-auth:+'\nimplementation 'com.firebaseui:firebase-ui-auth:+'\n</code></pre>\n\n<p>then its started working perfectly.</p>\n"},{"tags":[],"owner":{"account_id":290119,"reputation":24529,"user_id":591487,"accept_rate":94,"display_name":"inorganik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564145726,"creation_date":1564145726,"answer_id":57220528,"question_id":40052162,"body_markdown":"Can also happen if your `authDomain` is set improperly in your firebase keys for web projects.","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<p>Can also happen if your <code>authDomain</code> is set improperly in your firebase keys for web projects.</p>\n"},{"tags":[],"owner":{"account_id":10303445,"reputation":121,"user_id":7601437,"display_name":"atschpe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564823374,"creation_date":1564823374,"answer_id":57336948,"question_id":40052162,"body_markdown":"I had a similar problem accessing firebase. In my case, the problem was that I was doing this on a real device via the debugger. Once I ran the code &quot;normally&quot; the error vanished. So, it might be helpful to check whether the debugger is getting in the way.","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<p>I had a similar problem accessing firebase. In my case, the problem was that I was doing this on a real device via the debugger. Once I ran the code \"normally\" the error vanished. So, it might be helpful to check whether the debugger is getting in the way.</p>\n"},{"tags":[],"owner":{"account_id":4394458,"reputation":6154,"user_id":3581976,"accept_rate":84,"display_name":"Simon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585215987,"creation_date":1585215987,"answer_id":60864511,"question_id":40052162,"body_markdown":"If you are using Genymotion, it could be that you did not activate Open Gapps (in the top right corner)","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<p>If you are using Genymotion, it could be that you did not activate Open Gapps (in the top right corner)</p>\n"},{"comments":[{"owner":{"account_id":11865985,"reputation":131,"user_id":8683523,"display_name":"Amanda Shafack"},"score":0,"creation_date":1617803741,"post_id":63522588,"comment_id":118409219,"body_markdown":"Thanks for this. My issue was - the physical device I was testing with wasn&#39;t connected to the internet.","body":"Thanks for this. My issue was - the physical device I was testing with wasn&#39;t connected to the internet."}],"tags":[],"owner":{"account_id":3191872,"reputation":2089,"user_id":2695939,"display_name":"Emre Kilinc Arslan"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598011331,"creation_date":1598011331,"answer_id":63522588,"question_id":40052162,"body_markdown":" 1. Reason is Simple ! Check if Device has internet connection. \r\n 2. if you have google services enabled\r\n 3. phone time settings \r\n 4. firebase json file is wrong .cant take client id or google app id or api key","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<ol>\n<li>Reason is Simple ! Check if Device has internet connection.</li>\n<li>if you have google services enabled</li>\n<li>phone time settings</li>\n<li>firebase json file is wrong .cant take client id or google app id or api key</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18823098,"reputation":189,"user_id":13728648,"display_name":"RvSingh3213"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598394197,"creation_date":1598394197,"answer_id":63587915,"question_id":40052162,"body_markdown":"I have also got the same error and there are sometimes very small things which we forget\r\nLike -&gt; Turn On Internet as \r\n\r\n```\r\n com.google.firebase.FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred\r\n```\r\n**This is FirebaseNetwordException**\r\nthere might be case when Host is not Reachabe like mentioned above so check you connectivity\r\n\r\naslo check weather you have provided Internet Permissions in Manifest or not.\r\n\r\nhope it will solve your problem","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<p>I have also got the same error and there are sometimes very small things which we forget\nLike -&gt; Turn On Internet as</p>\n<pre><code> com.google.firebase.FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred\n</code></pre>\n<p><strong>This is FirebaseNetwordException</strong>\nthere might be case when Host is not Reachabe like mentioned above so check you connectivity</p>\n<p>aslo check weather you have provided Internet Permissions in Manifest or not.</p>\n<p>hope it will solve your problem</p>\n"},{"comments":[{"owner":{"account_id":16286005,"reputation":137,"user_id":13111352,"display_name":"joaoricardotg"},"score":0,"creation_date":1654863918,"post_id":63835188,"comment_id":128199969,"body_markdown":"how does one see these logs ?","body":"how does one see these logs ?"}],"tags":[],"owner":{"account_id":5317121,"reputation":5596,"user_id":4241624,"accept_rate":75,"display_name":"Michael Nelles"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599760391,"creation_date":1599760391,"answer_id":63835188,"question_id":40052162,"body_markdown":"It could be a million things my advice based on my experience is check the firebase logs and work the problem from there.  \r\n\r\nIn my case I was hitting the endpoint successfully but it was generating a catch error because of an invalid variable **rowsCompany** on the res.json({...response...} )\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3THDm.png","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<p>It could be a million things my advice based on my experience is check the firebase logs and work the problem from there.</p>\n<p>In my case I was hitting the endpoint successfully but it was generating a catch error because of an invalid variable <strong>rowsCompany</strong> on the res.json({...response...} )</p>\n<p><a href=\"https://i.stack.imgur.com/3THDm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3THDm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1457574,"reputation":3908,"user_id":1372783,"accept_rate":90,"display_name":"benjiman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667289484,"creation_date":1667289484,"answer_id":74272997,"question_id":40052162,"body_markdown":"Another possible reason might be, that the clients that are getting this error are sending request from China, because all URLs such as *.google.com and *.googleapis.com are blocked in China.\r\n\r\nApparently Firebase has a China service at https://firebase.google.cn, but I didn&#39;t have chance to check it out yet. You can also read more on this in this Stackoverflow post: https://stackoverflow.com/a/42620514/1372783","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<p>Another possible reason might be, that the clients that are getting this error are sending request from China, because all URLs such as *.google.com and *.googleapis.com are blocked in China.</p>\n<p>Apparently Firebase has a China service at <a href=\"https://firebase.google.cn\" rel=\"nofollow noreferrer\">https://firebase.google.cn</a>, but I didn't have chance to check it out yet. You can also read more on this in this Stackoverflow post: <a href=\"https://stackoverflow.com/a/42620514/1372783\">https://stackoverflow.com/a/42620514/1372783</a></p>\n"}],"owner":{"account_id":3755120,"reputation":499,"user_id":4654445,"accept_rate":80,"display_name":"Landen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53426,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":42542855,"answer_count":17,"score":31,"last_activity_date":1667289484,"creation_date":1476479962,"question_id":40052162,"body_markdown":"I&#39;m creating an authentication workflow for my android app. I&#39;m allowing users to sign in with username/password and various OAuth providers. I&#39;m validating emails and password so that, I know the information I&#39;m passing to Firebase is valid. I&#39;m using `com.google.firebase:firebase-auth:9.6.1`\r\n\r\nWhen I execute the following code, I get a callback that says the operation not successful with an error.\r\n\r\n    mFirebaseAuth.signInWithEmailAndPassword(username,password).addOnCompleteListener(this);\r\n\r\nCallback function or completion listener tells me\r\n\r\n    com.google.firebase.FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred.\r\n\r\nThe username I&#39;m passing doesn&#39;t exist yet. So, I would assume to see some kind of error stating the **user doesn&#39;t exist**. Am I passing something incorrectly or am I assuming incorrectly? I can also see that in the Firebase documentation, the iOS library has a various error codes common to all API methods section where as the Android section doesn&#39;t show this. One of these exceptions is `FIRAuthErrorCodeUserNotFound`. So, does that functionality even exists in the Android library?\r\n\r\n\r\n\r\n","title":"Firebase Authentication FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred","body":"<p>I'm creating an authentication workflow for my android app. I'm allowing users to sign in with username/password and various OAuth providers. I'm validating emails and password so that, I know the information I'm passing to Firebase is valid. I'm using <code>com.google.firebase:firebase-auth:9.6.1</code></p>\n\n<p>When I execute the following code, I get a callback that says the operation not successful with an error.</p>\n\n<pre><code>mFirebaseAuth.signInWithEmailAndPassword(username,password).addOnCompleteListener(this);\n</code></pre>\n\n<p>Callback function or completion listener tells me</p>\n\n<pre><code>com.google.firebase.FirebaseNetworkException: A network error (such as timeout, interrupted connection or unreachable host) has occurred.\n</code></pre>\n\n<p>The username I'm passing doesn't exist yet. So, I would assume to see some kind of error stating the <strong>user doesn't exist</strong>. Am I passing something incorrectly or am I assuming incorrectly? I can also see that in the Firebase documentation, the iOS library has a various error codes common to all API methods section where as the Android section doesn't show this. One of these exceptions is <code>FIRAuthErrorCodeUserNotFound</code>. So, does that functionality even exists in the Android library?</p>\n"},{"tags":["java","android","android-intent","email-attachments"],"answers":[{"comments":[{"owner":{"account_id":182141,"reputation":21047,"user_id":416631,"accept_rate":69,"display_name":"Kenny Wyland"},"score":0,"creation_date":1559750719,"post_id":56459650,"comment_id":99519970,"body_markdown":"Uri -does- implement Parcelable. `public abstract class Uri \nextends Object implements Parcelable, Comparable&lt;Uri&gt;`","body":"Uri -does- implement Parcelable. <code>public abstract class Uri  extends Object implements Parcelable, Comparable&lt;Uri&gt;</code>"},{"owner":{"account_id":12464734,"reputation":107,"user_id":11370143,"display_name":"LinuxMasterRace"},"score":0,"creation_date":1559771614,"post_id":56459650,"comment_id":99528526,"body_markdown":"I wasn&#39;t aware of that, thank you for correcting me.","body":"I wasn&#39;t aware of that, thank you for correcting me."}],"tags":[],"owner":{"account_id":12464734,"reputation":107,"user_id":11370143,"display_name":"LinuxMasterRace"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1559774801,"creation_date":1559734291,"answer_id":56459650,"question_id":56452778,"body_markdown":"W/Bundle: Key android.intent.extra.STREAM expected Parcelable but value was a java.util.ArrayList.  The default value &lt;null&gt; was returned.\r\n","title":"Attach multiple files via Android Intent, works with one file, but not multiple","body":"<p>W/Bundle: Key android.intent.extra.STREAM expected Parcelable but value was a java.util.ArrayList.  The default value  was returned.</p>\n"},{"tags":[],"owner":{"account_id":12023763,"reputation":2795,"user_id":8796408,"display_name":"Victoria Klimova"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667288813,"creation_date":1667288813,"answer_id":74272898,"question_id":56452778,"body_markdown":"            Intent intentShareFile = new Intent(Intent.ACTION_SEND_MULTIPLE);\r\n            Uri uri =  FileProvider.getUriForFile(context, context.getApplicationContext().getPackageName() + &quot;.provider&quot;, file);\r\n            Uri uri2 =  FileProvider.getUriForFile(context, context.getApplicationContext().getPackageName() + &quot;.provider&quot;, file2);\r\n            intentShareFile.setType(&quot;text/*&quot;);\r\n\r\n            ArrayList&lt;Uri&gt; uris = new ArrayList&lt;&gt;();\r\n            uris.add(uri);\r\n            uris.add(uri2);\r\n\r\n            intentShareFile.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uris);\r\n            intentShareFile.putExtra(Intent.EXTRA_SUBJECT, file.getName());\r\n            intentShareFile.putExtra(Intent.EXTRA_TEXT, &quot;Share &quot; + file.getName() + file2.getName());\r\n            context.startActivity(Intent.createChooser(intentShareFile, &quot;Share &quot; + file.getName() + file2.getName()));","title":"Attach multiple files via Android Intent, works with one file, but not multiple","body":"<pre><code>        Intent intentShareFile = new Intent(Intent.ACTION_SEND_MULTIPLE);\n        Uri uri =  FileProvider.getUriForFile(context, context.getApplicationContext().getPackageName() + &quot;.provider&quot;, file);\n        Uri uri2 =  FileProvider.getUriForFile(context, context.getApplicationContext().getPackageName() + &quot;.provider&quot;, file2);\n        intentShareFile.setType(&quot;text/*&quot;);\n\n        ArrayList&lt;Uri&gt; uris = new ArrayList&lt;&gt;();\n        uris.add(uri);\n        uris.add(uri2);\n\n        intentShareFile.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uris);\n        intentShareFile.putExtra(Intent.EXTRA_SUBJECT, file.getName());\n        intentShareFile.putExtra(Intent.EXTRA_TEXT, &quot;Share &quot; + file.getName() + file2.getName());\n        context.startActivity(Intent.createChooser(intentShareFile, &quot;Share &quot; + file.getName() + file2.getName()));\n</code></pre>\n"}],"owner":{"account_id":182141,"reputation":21047,"user_id":416631,"accept_rate":69,"display_name":"Kenny Wyland"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1831,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667288813,"creation_date":1559693330,"question_id":56452778,"body_markdown":"If I build the intent with just one attached file using a simple:\r\n\r\n    intent.putExtra(Intent.EXTRA_STREAM, detailsuri);\r\n\r\n... then it works. But if I try to attach multiple files using \r\n\r\n    intent.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uris);\r\n\r\n... then it doesn&#39;t attach anything. I can attach each of the files successfully when I do it one at a time. So it&#39;s not a problem with either of the files. Here is the full code which creates the files, gets the uris, and builds the intent.\r\n\r\nWhat am I missing? Why can&#39;t I attach multiple files? \r\n\r\n    File outputDir = controller.getDocumentStorageDir();\r\n    \r\n    String jsontext = buildDbText();\r\n    \r\n    File dbfile = new File(outputDir, &quot;db.json&quot;);\r\n    FileWriter writer = new FileWriter(dbfile);\r\n    writer.write(jsontext);\r\n    writer.close();\r\n    \r\n    Uri jsondburi = Uri.fromFile(dbfile);\r\n    \r\n    String appdetails = buildDetailsText();\r\n    \r\n    File detailsfile = new File(outputDir, &quot;details.txt&quot;);\r\n    FileWriter writer = new FileWriter(detailsfile);\r\n    writer.write(appdetails);\r\n    writer.close();\r\n    \r\n    Uri detailsuri = Uri.fromFile(detailsfile);\r\n    \r\n    \r\n    Intent intent = new Intent(Intent.ACTION_SENDTO);\r\n    \r\n    intent.setData(Uri.parse(&quot;mailto:&quot;)); // only email apps should handle this\r\n    intent.putExtra(Intent.EXTRA_EMAIL, new String[] { custsupportEmail });\r\n    intent.putExtra(Intent.EXTRA_SUBJECT, subject);\r\n    intent.putExtra(Intent.EXTRA_TEXT, emailbody);\r\n    \r\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n    \r\n    ArrayList&lt;Uri&gt; uris = new ArrayList&lt;&gt;();\r\n    uris.add(detailsuri);\r\n    uris.add(jsondburi);\r\n    intent.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uris);\r\n    \r\n    startActivity(intent);\r\n\r\n\r\n\r\n\r\n","title":"Attach multiple files via Android Intent, works with one file, but not multiple","body":"<p>If I build the intent with just one attached file using a simple:</p>\n\n<pre><code>intent.putExtra(Intent.EXTRA_STREAM, detailsuri);\n</code></pre>\n\n<p>... then it works. But if I try to attach multiple files using </p>\n\n<pre><code>intent.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uris);\n</code></pre>\n\n<p>... then it doesn't attach anything. I can attach each of the files successfully when I do it one at a time. So it's not a problem with either of the files. Here is the full code which creates the files, gets the uris, and builds the intent.</p>\n\n<p>What am I missing? Why can't I attach multiple files? </p>\n\n<pre><code>File outputDir = controller.getDocumentStorageDir();\n\nString jsontext = buildDbText();\n\nFile dbfile = new File(outputDir, \"db.json\");\nFileWriter writer = new FileWriter(dbfile);\nwriter.write(jsontext);\nwriter.close();\n\nUri jsondburi = Uri.fromFile(dbfile);\n\nString appdetails = buildDetailsText();\n\nFile detailsfile = new File(outputDir, \"details.txt\");\nFileWriter writer = new FileWriter(detailsfile);\nwriter.write(appdetails);\nwriter.close();\n\nUri detailsuri = Uri.fromFile(detailsfile);\n\n\nIntent intent = new Intent(Intent.ACTION_SENDTO);\n\nintent.setData(Uri.parse(\"mailto:\")); // only email apps should handle this\nintent.putExtra(Intent.EXTRA_EMAIL, new String[] { custsupportEmail });\nintent.putExtra(Intent.EXTRA_SUBJECT, subject);\nintent.putExtra(Intent.EXTRA_TEXT, emailbody);\n\nintent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n\nArrayList&lt;Uri&gt; uris = new ArrayList&lt;&gt;();\nuris.add(detailsuri);\nuris.add(jsondburi);\nintent.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uris);\n\nstartActivity(intent);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","dependency-injection","spring-test"],"answers":[{"comments":[{"owner":{"account_id":91954,"reputation":2681,"user_id":252243,"display_name":"Sean Carroll"},"score":2,"creation_date":1495717414,"post_id":44181188,"comment_id":75376421,"body_markdown":"Perhaps its a good idea to point vicusbass to the docs? https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications","body":"Perhaps its a good idea to point vicusbass to the docs? <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":0,"creation_date":1495717666,"post_id":44181188,"comment_id":75376596,"body_markdown":"@SeanCarroll, yes. Wnated to do that, but was distracted and forgot to get back. Answer is updated now. Thanks.","body":"@SeanCarroll, yes. Wnated to do that, but was distracted and forgot to get back. Answer is updated now. Thanks."},{"owner":{"account_id":3029561,"reputation":1764,"user_id":2568874,"accept_rate":58,"display_name":"vicusbass"},"score":0,"creation_date":1497352991,"post_id":44181188,"comment_id":76031856,"body_markdown":"You&#39;re right. I had `@DirtiesContext` on the test classes, I misunderstood what it does. I removed it everywhere (there&#39;s cleanup in the class setup anyway) and tests are running 3 minutes faster, that&#39;s 30%","body":"You&#39;re right. I had <code>@DirtiesContext</code> on the test classes, I misunderstood what it does. I removed it everywhere (there&#39;s cleanup in the class setup anyway) and tests are running 3 minutes faster, that&#39;s 30%"}],"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"comment_count":3,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1519980848,"creation_date":1495717032,"answer_id":44181188,"question_id":44180815,"body_markdown":"Yes. [Actually it is default behavior][1]. The link point to Spring Framework docs, which is used by Spring Boot under the hood. \r\n\r\nBTW, context is reused by default also when `@ContextConfiguration` is used as well.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#testing-ctx-management","title":"Can Spring Boot test classes reuse application context for faster test run?","body":"<p>Yes. <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#testing-ctx-management\" rel=\"noreferrer\">Actually it is default behavior</a>. The link point to Spring Framework docs, which is used by Spring Boot under the hood. </p>\n\n<p>BTW, context is reused by default also when <code>@ContextConfiguration</code> is used as well.</p>\n"},{"comments":[{"owner":{"account_id":3029561,"reputation":1764,"user_id":2568874,"accept_rate":58,"display_name":"vicusbass"},"score":4,"creation_date":1497351143,"post_id":44182902,"comment_id":76030603,"body_markdown":"That&#39;s how my tests are configured. However, I have `@DirtiesContext` annotation and that&#39;s what&#39;s restarting everything for each test class.\n`@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)`\nI&#39;m investigating if I can remove it, but so far I see some problems with the tables","body":"That&#39;s how my tests are configured. However, I have <code>@DirtiesContext</code> annotation and that&#39;s what&#39;s restarting everything for each test class. <code>@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)</code> I&#39;m investigating if I can remove it, but so far I see some problems with the tables"}],"tags":[],"owner":{"account_id":7253324,"reputation":2255,"user_id":5532829,"display_name":"RoshanKumar Mutha"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1495722058,"creation_date":1495722058,"answer_id":44182902,"question_id":44180815,"body_markdown":"    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n\r\nThe above annotation says the complete context is loaded and same is used across the tests. It means it&#39;s loaded once only.\r\n\r\nSpring Boot provides a @SpringBootTest annotation which can be used as an alternative to the standard spring-test @ContextConfiguration annotation when you need Spring Boot features. The annotation works by creating the ApplicationContext used in your tests via SpringApplication","title":"Can Spring Boot test classes reuse application context for faster test run?","body":"<pre><code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\n</code></pre>\n\n<p>The above annotation says the complete context is loaded and same is used across the tests. It means it's loaded once only.</p>\n\n<p>Spring Boot provides a @SpringBootTest annotation which can be used as an alternative to the standard spring-test @ContextConfiguration annotation when you need Spring Boot features. The annotation works by creating the ApplicationContext used in your tests via SpringApplication</p>\n"},{"tags":[],"owner":{"account_id":1557852,"reputation":4589,"user_id":1448419,"accept_rate":64,"display_name":"rcomblen"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1593512298,"creation_date":1593512298,"answer_id":62655210,"question_id":44180815,"body_markdown":"For those like me landing from Google: \r\n\r\nIf you have `&lt;reuseFork&gt;false&lt;/reuseFork&gt;` in your Maven surefire plugin, there is no chance your context can be reused, as you&#39;re effectively spawning a new JVM for each test class.\r\n\r\nThis is well documented in Spring Documentation: https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#testcontext-ctx-management-caching","title":"Can Spring Boot test classes reuse application context for faster test run?","body":"<p>For those like me landing from Google:</p>\n<p>If you have <code>&lt;reuseFork&gt;false&lt;/reuseFork&gt;</code> in your Maven surefire plugin, there is no chance your context can be reused, as you're effectively spawning a new JVM for each test class.</p>\n<p>This is well documented in Spring Documentation: <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#testcontext-ctx-management-caching\" rel=\"noreferrer\">https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#testcontext-ctx-management-caching</a></p>\n"},{"comments":[{"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"score":0,"creation_date":1654546563,"post_id":70367212,"comment_id":128111920,"body_markdown":"Landed here from google :) .. I guess but in this Abstract class BaseIntegrationTest, we would have to add all the @MockBean so that the context remains the same in all the tests?","body":"Landed here from google :) .. I guess but in this Abstract class BaseIntegrationTest, we would have to add all the @MockBean so that the context remains the same in all the tests?"},{"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"score":0,"creation_date":1676617052,"post_id":70367212,"comment_id":133176791,"body_markdown":"This one was really helpful for me, because I had the opposite problem: I needed tests to run in separate contexts because I wanted to test the loading of environment variables and default values via the application.yml, and either one test or the other would fail if they were run in the same context. But after anottating one of the two test classes with `@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)`, it worked like a charm. Thank you! =^,^=","body":"This one was really helpful for me, because I had the opposite problem: I needed tests to run in separate contexts because I wanted to test the loading of environment variables and default values via the application.yml, and either one test or the other would fail if they were run in the same context. But after anottating one of the two test classes with <code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)</code>, it worked like a charm. Thank you! =^,^="}],"tags":[],"owner":{"account_id":3053490,"reputation":1048,"user_id":2587611,"display_name":"Bram"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1639586229,"creation_date":1639586229,"answer_id":70367212,"question_id":44180815,"body_markdown":"If you land here from Google and have an issue with multiple application contexts being started, also take note of this:\r\n\r\nMake sure that when you use @SpringBootTests multiple times that you use the same properties.\r\nE.g. if you have one test using simply `@SpringBootTest` and another one using `@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)` each will spin up its own context!\r\n\r\nEasiest would be to have a `BaseIntegrationTest` class which you extend in every integration test and put the `@SpringBootTest` annotation on that base class, e.g.:\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\npublic abstract class BaseIntegrationTest{\r\n}\r\n```","title":"Can Spring Boot test classes reuse application context for faster test run?","body":"<p>If you land here from Google and have an issue with multiple application contexts being started, also take note of this:</p>\n<p>Make sure that when you use @SpringBootTests multiple times that you use the same properties.\nE.g. if you have one test using simply <code>@SpringBootTest</code> and another one using <code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)</code> each will spin up its own context!</p>\n<p>Easiest would be to have a <code>BaseIntegrationTest</code> class which you extend in every integration test and put the <code>@SpringBootTest</code> annotation on that base class, e.g.:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\npublic abstract class BaseIntegrationTest{\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6563,"reputation":5210,"user_id":11092,"accept_rate":100,"display_name":"Adisesha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667287601,"creation_date":1667287601,"answer_id":74272717,"question_id":44180815,"body_markdown":"For us, issue caused by `@ConfigurationPropertiesScan` present in one test but not the others. RoshanKumar&#39;s [answer][1] provided a clue.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/44182902/11092","title":"Can Spring Boot test classes reuse application context for faster test run?","body":"<p>For us, issue caused by <code>@ConfigurationPropertiesScan</code> present in one test but not the others. RoshanKumar's <a href=\"https://stackoverflow.com/a/44182902/11092\">answer</a> provided a clue.</p>\n"}],"owner":{"account_id":3029561,"reputation":1764,"user_id":2568874,"accept_rate":58,"display_name":"vicusbass"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40560,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":44181188,"answer_count":5,"score":40,"last_activity_date":1667287601,"creation_date":1495715924,"question_id":44180815,"body_markdown":"`@ContextConfiguration` location attribute does not make sense for Spring Boot integration testing. Is there any other way for reusing application context across multiple test classes annotated with `@SpringBootTest` ? ","title":"Can Spring Boot test classes reuse application context for faster test run?","body":"<p><code>@ContextConfiguration</code> location attribute does not make sense for Spring Boot integration testing. Is there any other way for reusing application context across multiple test classes annotated with <code>@SpringBootTest</code> ? </p>\n"},{"tags":["java","static-analysis","call-graph","soot"],"answers":[{"tags":[],"owner":{"account_id":17728891,"reputation":162,"user_id":12871978,"display_name":"MissSirius"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667287456,"creation_date":1666692019,"answer_id":74192279,"question_id":74172390,"body_markdown":"I solved this problem. The issue is that the `path` of the test files is wrong.\r\nNow my project structure is as follows:\r\n```bash\r\n-ProjectRoot\r\n|--src\r\n    |--Main.java\r\n|--testers\r\n    |--easycase\r\n        |--FooBar.java\r\n        |--Pack.java\r\n```\r\n\r\nand My `Main.java`:\r\n```java\r\npublic class Main {\r\n    static void setupSoot() {\r\n        Options.v().set_prepend_classpath(true);\r\n        // Options.v().set_soot_classpath(&quot;xxxxx:xxxxx/xxxxx.jar&quot;) // For external packages\r\n        Options.v().set_process_dir(Collections.singletonList(&quot;./testers&quot;));\r\n        Options.v().set_whole_program(true);\r\n        Scene.v().loadNecessaryClasses();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        setupSoot();\r\n        Scene.v().loadAndSupport(&quot;esaycase.FooBar&quot;);\r\n        // Do something here\r\n    }\r\n}\r\n```\r\nNote that the first line is `package easycase;` for both test files.","title":"Soot: How to analyze a java file in a package?","body":"<p>I solved this problem. The issue is that the <code>path</code> of the test files is wrong.\nNow my project structure is as follows:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>-ProjectRoot\n|--src\n    |--Main.java\n|--testers\n    |--easycase\n        |--FooBar.java\n        |--Pack.java\n</code></pre>\n<p>and My <code>Main.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    static void setupSoot() {\n        Options.v().set_prepend_classpath(true);\n        // Options.v().set_soot_classpath(&quot;xxxxx:xxxxx/xxxxx.jar&quot;) // For external packages\n        Options.v().set_process_dir(Collections.singletonList(&quot;./testers&quot;));\n        Options.v().set_whole_program(true);\n        Scene.v().loadNecessaryClasses();\n    }\n\n    public static void main(String[] args) {\n        setupSoot();\n        Scene.v().loadAndSupport(&quot;esaycase.FooBar&quot;);\n        // Do something here\n    }\n}\n</code></pre>\n<p>Note that the first line is <code>package easycase;</code> for both test files.</p>\n"}],"owner":{"account_id":17728891,"reputation":162,"user_id":12871978,"display_name":"MissSirius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74192279,"answer_count":1,"score":0,"last_activity_date":1667287456,"creation_date":1666538914,"question_id":74172390,"body_markdown":"I have two java files under the `tests` directory.\r\nI use the following code to set up Soot for further analysis(i.e., construct a call graph) but meet an error of `are the packages set properly?`.\r\n\r\n`Main.java`:\r\n```java\r\npublic class Main {\r\n    static void setupSoot() {\r\n        Options.v().set_prepend_classpath(true);\r\n        Options.v().set_process_dir(Collections.singletonList(&quot;./tests&quot;));\r\n        Options.v().set_whole_program(true);\r\n        Scene.v().loadNecessaryClasses();\r\n    }\r\n\r\n    // Following function also doesn&#39;t work and has a similar error message\r\n    //static void setupSoot() {\r\n    //    Options.v().set_prepend_classpath(true);\r\n    //    Options.v().set_process_dir(Collections.singletonList(&quot;./tests&quot;));\r\n    //    Scene.v().loadClassAndSupport(&quot;FooBar&quot;);\r\n    //}\r\n\r\n    public static void main(String[] args) {\r\n        setupSoot();\r\n        // ....\r\n    }\r\n}\r\n```\r\nAnd I get the following error message:\r\n```bash\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Error: couldn&#39;t find class: FooBar are the packages set properly?\r\n\tat soot.JastAddInitialResolver.resolveFromJavaFile(JastAddInitialResolver.java:119)\r\n\tat soot.JavaClassSource.resolve(JavaClassSource.java:69)\r\n\tat soot.SootResolver.bringToHierarchyUnchecked(SootResolver.java:253)\r\n\tat soot.SootResolver.bringToHierarchy(SootResolver.java:221)\r\n\tat soot.SootResolver.bringToSignatures(SootResolver.java:292)\r\n\tat soot.SootResolver.bringToBodies(SootResolver.java:332)\r\n\tat soot.SootResolver.processResolveWorklist(SootResolver.java:171)\r\n\tat soot.SootResolver.resolveClass(SootResolver.java:141)\r\n\tat soot.Scene.loadClass(Scene.java:1009)\r\n\tat soot.Scene.loadClassAndSupport(Scene.java:994)\r\n\tat soot.Scene.loadNecessaryClasses(Scene.java:1822)\r\n\tat Main.setupSoot(Main.java:18)\r\n\tat Main.main(Main.java:21)\r\n```\r\n\r\nIf I complie two test files into `.class` files then I will get following error message:\r\n```bash\r\nException in thread &quot;main&quot; soot.SootResolver$SootClassNotFoundException: couldn&#39;t find class: tests.FooBar (is your soot-class-path set properly?)\r\n\tat soot.SootResolver.bringToHierarchyUnchecked(SootResolver.java:245)\r\n\tat soot.SootResolver.bringToHierarchy(SootResolver.java:221)\r\n\tat soot.SootResolver.bringToSignatures(SootResolver.java:292)\r\n\tat soot.SootResolver.bringToBodies(SootResolver.java:332)\r\n\tat soot.SootResolver.processResolveWorklist(SootResolver.java:171)\r\n\tat soot.SootResolver.resolveClass(SootResolver.java:141)\r\n\tat soot.Scene.loadClass(Scene.java:1009)\r\n\tat soot.Scene.loadClassAndSupport(Scene.java:994)\r\n\tat soot.Scene.loadNecessaryClasses(Scene.java:1822)\r\n\tat Main.setupSoot(Main.java:18)\r\n\tat Main.main(Main.java:21)\r\n```\r\n\r\nI beleive that `soot prepend_classpath` is true since it works well when two test files are not in the package (i.e., remove `package tests` from both files).\r\n\r\nTwo files in `tests` directory are as follows:\r\n\r\n`Pack.java`:\r\n```java\r\npackage tests;\r\npublic class Pack {\r\n    public static void main(String[] args) {\r\n        int s = 10;\r\n    }\r\n}\r\n```\r\n`FooBar.java`\r\n```java\r\npackage tests;\r\n\r\npublic class FooBar {\r\n    public static void main(String[] args) {\r\n        FooBar callFooBar = new FooBar();\r\n        callFooBar.foo(10);\r\n    }\r\n\r\n    void foo(int a) {\r\n        bar(a);\r\n    }\r\n\r\n    void bar(int a) {\r\n        for (int i = 0; i &lt; a; i++) {\r\n            i += a;\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Soot: How to analyze a java file in a package?","body":"<p>I have two java files under the <code>tests</code> directory.\nI use the following code to set up Soot for further analysis(i.e., construct a call graph) but meet an error of <code>are the packages set properly?</code>.</p>\n<p><code>Main.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    static void setupSoot() {\n        Options.v().set_prepend_classpath(true);\n        Options.v().set_process_dir(Collections.singletonList(&quot;./tests&quot;));\n        Options.v().set_whole_program(true);\n        Scene.v().loadNecessaryClasses();\n    }\n\n    // Following function also doesn't work and has a similar error message\n    //static void setupSoot() {\n    //    Options.v().set_prepend_classpath(true);\n    //    Options.v().set_process_dir(Collections.singletonList(&quot;./tests&quot;));\n    //    Scene.v().loadClassAndSupport(&quot;FooBar&quot;);\n    //}\n\n    public static void main(String[] args) {\n        setupSoot();\n        // ....\n    }\n}\n</code></pre>\n<p>And I get the following error message:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Error: couldn't find class: FooBar are the packages set properly?\n    at soot.JastAddInitialResolver.resolveFromJavaFile(JastAddInitialResolver.java:119)\n    at soot.JavaClassSource.resolve(JavaClassSource.java:69)\n    at soot.SootResolver.bringToHierarchyUnchecked(SootResolver.java:253)\n    at soot.SootResolver.bringToHierarchy(SootResolver.java:221)\n    at soot.SootResolver.bringToSignatures(SootResolver.java:292)\n    at soot.SootResolver.bringToBodies(SootResolver.java:332)\n    at soot.SootResolver.processResolveWorklist(SootResolver.java:171)\n    at soot.SootResolver.resolveClass(SootResolver.java:141)\n    at soot.Scene.loadClass(Scene.java:1009)\n    at soot.Scene.loadClassAndSupport(Scene.java:994)\n    at soot.Scene.loadNecessaryClasses(Scene.java:1822)\n    at Main.setupSoot(Main.java:18)\n    at Main.main(Main.java:21)\n</code></pre>\n<p>If I complie two test files into <code>.class</code> files then I will get following error message:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Exception in thread &quot;main&quot; soot.SootResolver$SootClassNotFoundException: couldn't find class: tests.FooBar (is your soot-class-path set properly?)\n    at soot.SootResolver.bringToHierarchyUnchecked(SootResolver.java:245)\n    at soot.SootResolver.bringToHierarchy(SootResolver.java:221)\n    at soot.SootResolver.bringToSignatures(SootResolver.java:292)\n    at soot.SootResolver.bringToBodies(SootResolver.java:332)\n    at soot.SootResolver.processResolveWorklist(SootResolver.java:171)\n    at soot.SootResolver.resolveClass(SootResolver.java:141)\n    at soot.Scene.loadClass(Scene.java:1009)\n    at soot.Scene.loadClassAndSupport(Scene.java:994)\n    at soot.Scene.loadNecessaryClasses(Scene.java:1822)\n    at Main.setupSoot(Main.java:18)\n    at Main.main(Main.java:21)\n</code></pre>\n<p>I beleive that <code>soot prepend_classpath</code> is true since it works well when two test files are not in the package (i.e., remove <code>package tests</code> from both files).</p>\n<p>Two files in <code>tests</code> directory are as follows:</p>\n<p><code>Pack.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package tests;\npublic class Pack {\n    public static void main(String[] args) {\n        int s = 10;\n    }\n}\n</code></pre>\n<p><code>FooBar.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package tests;\n\npublic class FooBar {\n    public static void main(String[] args) {\n        FooBar callFooBar = new FooBar();\n        callFooBar.foo(10);\n    }\n\n    void foo(int a) {\n        bar(a);\n    }\n\n    void bar(int a) {\n        for (int i = 0; i &lt; a; i++) {\n            i += a;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","generics"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1667286693,"post_id":74272507,"comment_id":131127153,"body_markdown":"Hint: this has nothing to do with assertions. Your `generic1.run()` code is never being executed. Look at how you&#39;re starting the thread...","body":"Hint: this has nothing to do with assertions. Your <code>generic1.run()</code> code is never being executed. Look at how you&#39;re starting the thread..."},{"owner":{"account_id":26792161,"reputation":1,"user_id":20385404,"display_name":"Anuj Kumar Karmakar"},"score":0,"creation_date":1667287144,"post_id":74272507,"comment_id":131127246,"body_markdown":"@JonSkeet thank you for pointing this out. I got the idea of where it went wrong.","body":"@JonSkeet thank you for pointing this out. I got the idea of where it went wrong."}],"owner":{"account_id":26792161,"reputation":1,"user_id":20385404,"display_name":"Anuj Kumar Karmakar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667285943,"creation_date":1667285943,"question_id":74272507,"body_markdown":"I am experimenting with AssertionError. The first program which I wrote (only the definiton main method was present and also the toList()):\r\n\r\n```\r\npublic class generic1{\r\n    static List&lt;Integer&gt; ints;\r\n    public static void main(String[] args) {\r\n        ints = Lists.toList(new Integer[] {1, 2, 3});\r\n        assert inits.toString().equlas(&quot;[1, 2, 3,]&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd I got the expected output, *Exception in thread &quot;main&quot; java.lang.AssertionError*. When I modified the above code to extend the Thread class and run it on another thread, I am not getting the AssertionError as expected. Here is the code my attempt:\r\n\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nclass Lists {\r\n    public static &lt;T&gt; List&lt;T&gt; toList(T[] arr) {\r\n        List&lt;T&gt; list = new ArrayList&lt;T&gt;();\r\n        for(T elt : arr) list.add(elt);\r\n        return list;\r\n    }\r\n}\r\n\r\npublic class generic1 extends Thread{\r\n    static List&lt;Integer&gt; ints;\r\n\r\n    @Override\r\n    public void run() {\r\n        assert ints.toString().equals(&quot;[1, 2, 3,]&quot;);\r\n    }\r\n    public static void main(String[] args) {\r\n        ints = Lists.toList(new Integer[] {1, 2, 3});\r\n        Thread t = new Thread();\r\n        t.start();\r\n    }\r\n}\r\n```\r\n\r\nThen I am compiling using:\r\n**javac generic1.java**\r\nand running using\r\n**java -ea generic1**. But, I am not getting any output.\r\n\r\n\r\n\r\nI am experiencing problem with the code. I will be glag if you kindly help me out. Thank you in advace.","title":"I am running the Java program with &quot;assert&quot; on another thread and it is not showing AssertionError","body":"<p>I am experimenting with AssertionError. The first program which I wrote (only the definiton main method was present and also the toList()):</p>\n<pre><code>public class generic1{\n    static List&lt;Integer&gt; ints;\n    public static void main(String[] args) {\n        ints = Lists.toList(new Integer[] {1, 2, 3});\n        assert inits.toString().equlas(&quot;[1, 2, 3,]&quot;);\n    }\n}\n</code></pre>\n<p>And I got the expected output, <em>Exception in thread &quot;main&quot; java.lang.AssertionError</em>. When I modified the above code to extend the Thread class and run it on another thread, I am not getting the AssertionError as expected. Here is the code my attempt:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass Lists {\n    public static &lt;T&gt; List&lt;T&gt; toList(T[] arr) {\n        List&lt;T&gt; list = new ArrayList&lt;T&gt;();\n        for(T elt : arr) list.add(elt);\n        return list;\n    }\n}\n\npublic class generic1 extends Thread{\n    static List&lt;Integer&gt; ints;\n\n    @Override\n    public void run() {\n        assert ints.toString().equals(&quot;[1, 2, 3,]&quot;);\n    }\n    public static void main(String[] args) {\n        ints = Lists.toList(new Integer[] {1, 2, 3});\n        Thread t = new Thread();\n        t.start();\n    }\n}\n</code></pre>\n<p>Then I am compiling using:\n<strong>javac generic1.java</strong>\nand running using\n<strong>java -ea generic1</strong>. But, I am not getting any output.</p>\n<p>I am experiencing problem with the code. I will be glag if you kindly help me out. Thank you in advace.</p>\n"},{"tags":["java","string","odata","maxlength","olingo"],"answers":[{"tags":[],"owner":{"account_id":2596604,"reputation":15928,"user_id":2250152,"accept_rate":72,"display_name":"user2250152"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667285801,"creation_date":1667285801,"answer_id":74272489,"question_id":74271670,"body_markdown":"Try to use [Facets][1] class which has the method `setMaxLength(Integer maxLength)`.\r\n\r\n[Facets examples][2]\r\n\r\n\r\n  [1]: https://olingo.apache.org/javadoc/odata2/org/apache/olingo/odata2/api/edm/provider/Facets.html\r\n  [2]: https://www.programcreek.com/java-api-examples/?api=org.apache.olingo.odata2.api.edm.provider.Facets","title":"Odata V2 Java set EDM String MaxLength","body":"<p>Try to use <a href=\"https://olingo.apache.org/javadoc/odata2/org/apache/olingo/odata2/api/edm/provider/Facets.html\" rel=\"nofollow noreferrer\">Facets</a> class which has the method <code>setMaxLength(Integer maxLength)</code>.</p>\n<p><a href=\"https://www.programcreek.com/java-api-examples/?api=org.apache.olingo.odata2.api.edm.provider.Facets\" rel=\"nofollow noreferrer\">Facets examples</a></p>\n"}],"owner":{"account_id":2595382,"reputation":723,"user_id":2249207,"accept_rate":100,"display_name":"DAIRAV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74272489,"answer_count":1,"score":0,"last_activity_date":1667285801,"creation_date":1667278299,"question_id":74271670,"body_markdown":"We are using Apache org.apache.olingo odata jar in order to expose as odata Service in Java.\r\n\r\nFacing one issue in EDM String MaxLength property. Not able to expose a string which is more than 255 characters in length.\r\n\r\nWe need to know where we can configure to extend the length of this &quot;EDM.String&quot; data type.","title":"Odata V2 Java set EDM String MaxLength","body":"<p>We are using Apache org.apache.olingo odata jar in order to expose as odata Service in Java.</p>\n<p>Facing one issue in EDM String MaxLength property. Not able to expose a string which is more than 255 characters in length.</p>\n<p>We need to know where we can configure to extend the length of this &quot;EDM.String&quot; data type.</p>\n"},{"tags":["java","integer","new-operator","value-of"],"comments":[{"owner":{"account_id":322748,"reputation":36417,"user_id":642340,"accept_rate":83,"display_name":"soulcheck"},"score":4,"creation_date":1327654750,"post_id":9030817,"comment_id":11326540,"body_markdown":"it actually doesn&#39;t matter if you do `myMethod(Integer.valueOf(123))` or `myMethod(123)` as autoboxing will use `Integer.valueOf()` for you. judge for yourself which one is more readable. (assuming `myMethod` takes `Integer`)","body":"it actually doesn&#39;t matter if you do <code>myMethod(Integer.valueOf(123))</code> or <code>myMethod(123)</code> as autoboxing will use <code>Integer.valueOf()</code> for you. judge for yourself which one is more readable. (assuming <code>myMethod</code> takes <code>Integer</code>)"},{"owner":{"account_id":176525,"reputation":809,"user_id":407277,"accept_rate":89,"display_name":"retromuz"},"score":0,"creation_date":1560832077,"post_id":9030817,"comment_id":99854021,"body_markdown":"From JDK 9 onward, it is highly recommended to use .valueOf() method instead of using constructor. This is because they all have @HotSpotIntrinsicCandidate annotation notifying HotSpot VM that it can use optimised assembly level code to gain better performance. --- A method\n * is intrinsified if the HotSpot VM replaces the annotated method with hand-written\n * assembly and/or hand-written compiler IR -- a compiler intrinsic -- to improve\n * performance.","body":"From JDK 9 onward, it is highly recommended to use .valueOf() method instead of using constructor. This is because they all have @HotSpotIntrinsicCandidate annotation notifying HotSpot VM that it can use optimised assembly level code to gain better performance. --- A method  * is intrinsified if the HotSpot VM replaces the annotated method with hand-written  * assembly and/or hand-written compiler IR -- a compiler intrinsic -- to improve  * performance."}],"answers":[{"comments":[{"owner":{"account_id":930925,"reputation":29855,"user_id":960828,"accept_rate":90,"display_name":"Alex D"},"score":1,"creation_date":1327656142,"post_id":9030860,"comment_id":11326834,"body_markdown":"So does autoboxing always create a new object? Or can it also make use of caching? If you add this information to your post, I think yours will be the best answer.","body":"So does autoboxing always create a new object? Or can it also make use of caching? If you add this information to your post, I think yours will be the best answer."},{"owner":{"account_id":1090282,"reputation":4580,"user_id":1167210,"accept_rate":93,"display_name":"Marcelo"},"score":1,"creation_date":1409519557,"post_id":9030860,"comment_id":39981937,"body_markdown":"@MananShah it&#39;s already there (: Yes - autoboxing uses `Integer.valueOf()`, so it does use caching.","body":"@MananShah it&#39;s already there (: Yes - autoboxing uses <code>Integer.valueOf()</code>, so it does use caching."},{"owner":{"account_id":6381480,"reputation":1141,"user_id":4950769,"accept_rate":50,"display_name":"Treefish Zhang"},"score":0,"creation_date":1554058594,"post_id":9030860,"comment_id":97604003,"body_markdown":"@Marcelo Why would `listIntegers.remove(new Integer(234));` work if `new Integer(234)` created a different Object from the existing `Integer.valueOf(234)`?","body":"@Marcelo Why would <code>listIntegers.remove(new Integer(234));</code> work if <code>new Integer(234)</code> created a different Object from the existing <code>Integer.valueOf(234)</code>?"}],"tags":[],"owner":{"account_id":1090282,"reputation":4580,"user_id":1167210,"accept_rate":93,"display_name":"Marcelo"},"comment_count":3,"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1327657466,"creation_date":1327654353,"answer_id":9030860,"question_id":9030817,"body_markdown":"`new Integer(123)` will create a new `Object` instance for each call.\r\n\r\n\r\nAccording to the [javadoc][1], `Integer.valueOf(123)` has the difference it caches Objects... so you may (or may not) end up with the same `Object` if you call it more than once.\r\n\r\nFor instance, the following code:\r\n \r\n\r\n       public static void main(String[] args) {\r\n            \r\n            Integer a = new Integer(1);\r\n            Integer b = new Integer(1);\r\n            \r\n            System.out.println(&quot;a==b? &quot; + (a==b));\r\n            \r\n            Integer c = Integer.valueOf(1);\r\n            Integer d = Integer.valueOf(1);\r\n            \r\n            System.out.println(&quot;c==d? &quot; + (c==d));\r\n            \r\n        }\r\n\r\nHas the following output:\r\n\r\n    a==b? false\r\n    c==d? true\r\n\r\nAs to using the `int` value, you are using the primitive type (considering your method also uses the primitive type on its signature) - it will use slightly less memory and might be faster, but you won&#39;t be ale to add it to collections, for instance.\r\n\r\nAlso take a look at Java&#39;s [AutoBoxing][2] if your method&#39;s signature uses `Integer`- when using it, the JVM will automatically call `Integer.valueOf()` for you (therefore using the cache aswell).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Integer.html#valueOf%28int%29\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html","title":"Differences between new Integer(123), Integer.valueOf(123) and just 123","body":"<p><code>new Integer(123)</code> will create a new <code>Object</code> instance for each call.</p>\n\n<p>According to the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Integer.html#valueOf%28int%29\">javadoc</a>, <code>Integer.valueOf(123)</code> has the difference it caches Objects... so you may (or may not) end up with the same <code>Object</code> if you call it more than once.</p>\n\n<p>For instance, the following code:</p>\n\n<pre><code>   public static void main(String[] args) {\n\n        Integer a = new Integer(1);\n        Integer b = new Integer(1);\n\n        System.out.println(\"a==b? \" + (a==b));\n\n        Integer c = Integer.valueOf(1);\n        Integer d = Integer.valueOf(1);\n\n        System.out.println(\"c==d? \" + (c==d));\n\n    }\n</code></pre>\n\n<p>Has the following output:</p>\n\n<pre><code>a==b? false\nc==d? true\n</code></pre>\n\n<p>As to using the <code>int</code> value, you are using the primitive type (considering your method also uses the primitive type on its signature) - it will use slightly less memory and might be faster, but you won't be ale to add it to collections, for instance.</p>\n\n<p>Also take a look at Java's <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html\">AutoBoxing</a> if your method's signature uses <code>Integer</code>- when using it, the JVM will automatically call <code>Integer.valueOf()</code> for you (therefore using the cache aswell).</p>\n"},{"tags":[],"owner":{"account_id":765907,"reputation":30034,"user_id":786935,"accept_rate":87,"display_name":"Hemant Metalia"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1475915232,"creation_date":1327654455,"answer_id":9030872,"question_id":9030817,"body_markdown":"&gt; **`public static Integer valueOf(int i)`**\r\n&gt; \r\n&gt; Returns a Integer instance representing the specified int value. If a new Integer instance is not required, this method should\r\n&gt; generally be used in preference to the constructor Integer(int), as\r\n&gt; this method is likely to yield significantly better space and time\r\n&gt; performance by caching frequently requested values.\r\n&gt; \r\n&gt;  Parameters:  \r\n&gt;    `i` - an int value.   \r\n&gt;  Returns:  \r\n&gt;    `a` Integer instance representing `i`.  \r\n&gt;  Since:  \r\n&gt;    1.5\r\n\r\n\r\n\r\n\r\nrefer [http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Integer.html#valueOf%28int%29][1]\r\n\r\n\r\n\r\nThis variant of valueOf was added in JDK 5 to Byte, Short, Integer, and Long (it already existed in the trivial case in Boolean since JDK 1.4). All of these are, of course, immutable objects in Java. Used to be that if you needed an Integer object from an int, youd construct a new Integer. But in JDK 5+, **you should really use valueOf because Integer now caches Integer objects between -128 and 127 and can hand you back the same exact Integer(0) object every time instead of wasting an object construction on a brand new identical Integer object.**\r\n\r\n    private static class IntegerCache {\r\n\tprivate IntegerCache(){}\r\n\r\n\tstatic final Integer cache[] = new Integer[-(-128) + 127 + 1];\r\n\r\n\tstatic {\r\n\t    for(int i = 0; i &lt; cache.length; i++)\r\n\t\tcache[i] = new Integer(i - 128);\r\n\t}\r\n    }\r\n\r\n    public static Integer valueOf(int i) {\r\n\tfinal int offset = 128;\r\n\tif (i &gt;= -128 &amp;&amp; i &lt;= 127) { // must cache\r\n\t    return IntegerCache.cache[i + offset];\r\n\t}\r\n        return new Integer(i);\r\n    }\r\n\r\n\r\nrefer [Why YOU should use Integer.valueOf(int)][2]\r\n\r\n**EDIT**\r\n\r\n\r\nautoboxing and object creation:\r\n\r\nThe important point we must consider is that autoboxing doesn&#39;t reduce object creation, but it reduces code complexity. A good rule of thumb is to use primitive types where there is no need for objects, for two reasons:\r\n\r\n**Primitive types will not be slower than their corresponding wrapper types, and may be a lot faster.\r\nThere can be some unexpected behavior involving == (compare references) and .equals() (compare values).**\r\n\r\nNormally, when the primitive types are boxed into the wrapper types, the JVM allocates memory and creates a new object. But for some special cases, the JVM reuses the same object.\r\n\r\nThe following is the list of primitives stored as immutable objects:\r\n\r\n  \r\n\r\n - boolean values true and false\r\n\r\n - All byte values\r\n    \r\n - short values between -128 and 127\r\n     \r\n - int values between -128 and 127\r\n      \r\n - char in the range \\u0000 to \\u007F\r\n\r\nrefer [http://today.java.net/pub/a/today/2005/03/24/autoboxing.html#performance_issue][3]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Integer.html#valueOf%28int%29\r\n  [2]: http://tech.puredanger.com/2007/02/01/valueof/\r\n  [3]: http://today.java.net/pub/a/today/2005/03/24/autoboxing.html#performance_issue","title":"Differences between new Integer(123), Integer.valueOf(123) and just 123","body":"<blockquote>\n  <p><strong><code>public static Integer valueOf(int i)</code></strong></p>\n  \n  <p>Returns a Integer instance representing the specified int value. If a new Integer instance is not required, this method should\n  generally be used in preference to the constructor Integer(int), as\n  this method is likely to yield significantly better space and time\n  performance by caching frequently requested values.</p>\n  \n  <p>Parameters:<br>\n     <code>i</code> - an int value.<br>\n   Returns:<br>\n     <code>a</code> Integer instance representing <code>i</code>.<br>\n   Since:<br>\n     1.5</p>\n</blockquote>\n\n<p>refer <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Integer.html#valueOf%28int%29\" rel=\"nofollow\">http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Integer.html#valueOf%28int%29</a></p>\n\n<p>This variant of valueOf was added in JDK 5 to Byte, Short, Integer, and Long (it already existed in the trivial case in Boolean since JDK 1.4). All of these are, of course, immutable objects in Java. Used to be that if you needed an Integer object from an int, youd construct a new Integer. But in JDK 5+, <strong>you should really use valueOf because Integer now caches Integer objects between -128 and 127 and can hand you back the same exact Integer(0) object every time instead of wasting an object construction on a brand new identical Integer object.</strong></p>\n\n<pre><code>private static class IntegerCache {\nprivate IntegerCache(){}\n\nstatic final Integer cache[] = new Integer[-(-128) + 127 + 1];\n\nstatic {\n    for(int i = 0; i &lt; cache.length; i++)\n    cache[i] = new Integer(i - 128);\n}\n}\n\npublic static Integer valueOf(int i) {\nfinal int offset = 128;\nif (i &gt;= -128 &amp;&amp; i &lt;= 127) { // must cache\n    return IntegerCache.cache[i + offset];\n}\n    return new Integer(i);\n}\n</code></pre>\n\n<p>refer <a href=\"http://tech.puredanger.com/2007/02/01/valueof/\" rel=\"nofollow\">Why YOU should use Integer.valueOf(int)</a></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>autoboxing and object creation:</p>\n\n<p>The important point we must consider is that autoboxing doesn't reduce object creation, but it reduces code complexity. A good rule of thumb is to use primitive types where there is no need for objects, for two reasons:</p>\n\n<p><strong>Primitive types will not be slower than their corresponding wrapper types, and may be a lot faster.\nThere can be some unexpected behavior involving == (compare references) and .equals() (compare values).</strong></p>\n\n<p>Normally, when the primitive types are boxed into the wrapper types, the JVM allocates memory and creates a new object. But for some special cases, the JVM reuses the same object.</p>\n\n<p>The following is the list of primitives stored as immutable objects:</p>\n\n<ul>\n<li><p>boolean values true and false</p></li>\n<li><p>All byte values</p></li>\n<li><p>short values between -128 and 127</p></li>\n<li><p>int values between -128 and 127</p></li>\n<li><p>char in the range \\u0000 to \\u007F</p></li>\n</ul>\n\n<p>refer <a href=\"http://today.java.net/pub/a/today/2005/03/24/autoboxing.html#performance_issue\" rel=\"nofollow\">http://today.java.net/pub/a/today/2005/03/24/autoboxing.html#performance_issue</a></p>\n"},{"tags":[],"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1327655116,"creation_date":1327654563,"answer_id":9030894,"question_id":9030817,"body_markdown":"int is primitive type, not an object.\r\n\r\n`new Integer(123)` and `Integer.valueOf(123)` both return `Integer` object representing value 123. As per javadoc for `Integer.valueOf()`:\r\n    \r\n\r\n&gt; Returns a Integer instance representing the specified int value.\r\n&gt; If a new Integer instance is not required, this method should generally\r\n&gt; be used in preference to the constructor Integer(int), as this method is\r\n&gt; likely to yield significantly better space and time performance by caching\r\n&gt; frequently requested values.\r\n\r\n","title":"Differences between new Integer(123), Integer.valueOf(123) and just 123","body":"<p>int is primitive type, not an object.</p>\n\n<p><code>new Integer(123)</code> and <code>Integer.valueOf(123)</code> both return <code>Integer</code> object representing value 123. As per javadoc for <code>Integer.valueOf()</code>:</p>\n\n<blockquote>\n  <p>Returns a Integer instance representing the specified int value.\n  If a new Integer instance is not required, this method should generally\n  be used in preference to the constructor Integer(int), as this method is\n  likely to yield significantly better space and time performance by caching\n  frequently requested values.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1327655330,"creation_date":1327655330,"answer_id":9031025,"question_id":9030817,"body_markdown":"Does your method require an `int` or an `Integer`?\r\n\r\n`new Integer(int)` and `Integer.valueOf(int)` both return `Integer` objects, but `valueOf` should be preferred as it is more efficient because it returns cached objects. If your method requires an `Integer` you should use `Integer.valueOf`.\r\n\r\nIf your method requires an `int`, you should use an `int` (e.g. `123`).\r\n\r\nHowever, it is not strictly necessary to match types in this way because of [autoboxing][1], which automatically converts an `int` to an `Integer` and vice versa when the types don&#39;t match. This allows you to pass an `int` into a method requiring an `Integer`, and an `Integer` into a method requiring an `int`. But be aware that there are performance costs associated with autoboxing. The most common example of when you would use autoboxing is if you wanted to store primitives in a collection. \r\n\r\n[1]: http://docs.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html","title":"Differences between new Integer(123), Integer.valueOf(123) and just 123","body":"<p>Does your method require an <code>int</code> or an <code>Integer</code>?</p>\n\n<p><code>new Integer(int)</code> and <code>Integer.valueOf(int)</code> both return <code>Integer</code> objects, but <code>valueOf</code> should be preferred as it is more efficient because it returns cached objects. If your method requires an <code>Integer</code> you should use <code>Integer.valueOf</code>.</p>\n\n<p>If your method requires an <code>int</code>, you should use an <code>int</code> (e.g. <code>123</code>).</p>\n\n<p>However, it is not strictly necessary to match types in this way because of <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html\" rel=\"nofollow\">autoboxing</a>, which automatically converts an <code>int</code> to an <code>Integer</code> and vice versa when the types don't match. This allows you to pass an <code>int</code> into a method requiring an <code>Integer</code>, and an <code>Integer</code> into a method requiring an <code>int</code>. But be aware that there are performance costs associated with autoboxing. The most common example of when you would use autoboxing is if you wanted to store primitives in a collection. </p>\n"},{"tags":[],"owner":{"account_id":1108799,"reputation":10647,"user_id":1099643,"accept_rate":80,"display_name":"Kushan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1327656465,"creation_date":1327655915,"answer_id":9031123,"question_id":9030817,"body_markdown":"only range between -128 to +127 implements in cache.\r\n\t\r\n    Integer a = new Integer(1);\r\n     Integer b = new Integer(1);\r\n\r\n     System.out.println(&quot;a==b? &quot; + (a==b));\r\n\r\n     Integer c = Integer.valueOf(127);\r\n     Integer d = Integer.valueOf(127);\r\n\r\n     System.out.println(&quot;c==d? &quot; + (c==d));\t\r\n     \r\n     Integer e = Integer.valueOf(128);\r\n     Integer f = Integer.valueOf(128);\r\n     \r\n     System.out.println(&quot;e==f? &quot; + (e==f));\t\r\n\r\nRefer this java specification:\r\n\r\nhttp://java.sun.com/docs/books/jls/third_edition/html/conversions.html#5.1.7\r\n\r\nin JDK 5+, you should really use valueOf because Integer now caches Integer objects between -128 and 127 and can hand you back the same exact Integer(0) object every time instead of wasting an object construction on a brand new identical Integer object. ","title":"Differences between new Integer(123), Integer.valueOf(123) and just 123","body":"<p>only range between -128 to +127 implements in cache.</p>\n\n<pre><code>Integer a = new Integer(1);\n Integer b = new Integer(1);\n\n System.out.println(\"a==b? \" + (a==b));\n\n Integer c = Integer.valueOf(127);\n Integer d = Integer.valueOf(127);\n\n System.out.println(\"c==d? \" + (c==d)); \n\n Integer e = Integer.valueOf(128);\n Integer f = Integer.valueOf(128);\n\n System.out.println(\"e==f? \" + (e==f)); \n</code></pre>\n\n<p>Refer this java specification:</p>\n\n<p><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/conversions.html#5.1.7\" rel=\"nofollow\">http://java.sun.com/docs/books/jls/third_edition/html/conversions.html#5.1.7</a></p>\n\n<p>in JDK 5+, you should really use valueOf because Integer now caches Integer objects between -128 and 127 and can hand you back the same exact Integer(0) object every time instead of wasting an object construction on a brand new identical Integer object. </p>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667285776,"creation_date":1667285776,"answer_id":74272482,"question_id":9030817,"body_markdown":"When you use some thing like ` new Integer(88)` the [SpotBugs][1] code analyze tool, complains a performance issue. \r\n\r\nThe [description][2] of this issue shows deference of `new` and `valueOf`\r\n\r\n\r\n&gt; Method invokes **inefficient** Number constructor; use static valueOf\r\n&gt; instead Using new Integer(int) is guaranteed to always result in a new\r\n&gt; object whereas Integer.valueOf(int) allows caching of values to be\r\n&gt; done by the compiler, class library, or JVM. Using of cached values\r\n&gt; avoids object allocation and the code will be faster. Values between\r\n&gt; -128 and 127 are guaranteed to have corresponding cached instances and using valueOf is approximately 3.5 times faster than using\r\n&gt; constructor. For values outside the constant range the performance of\r\n&gt; both styles is the same. Unless the class must be compatible with JVMs\r\n&gt; predating Java 5, use either autoboxing or the valueOf() method when\r\n&gt; creating instances of Long, Integer, Short, Character, and Byte.   Bug\r\n&gt; kind and pattern: Bx - DM_NUMBER_CTOR\r\n\r\n\r\n  [1]: https://spotbugs.github.io/\r\n  [2]: https://spotbugs.readthedocs.io/en/latest/bugDescriptions.html#DM_NUMBER_CTOR","title":"Differences between new Integer(123), Integer.valueOf(123) and just 123","body":"<p>When you use some thing like <code> new Integer(88)</code> the <a href=\"https://spotbugs.github.io/\" rel=\"nofollow noreferrer\">SpotBugs</a> code analyze tool, complains a performance issue.</p>\n<p>The <a href=\"https://spotbugs.readthedocs.io/en/latest/bugDescriptions.html#DM_NUMBER_CTOR\" rel=\"nofollow noreferrer\">description</a> of this issue shows deference of <code>new</code> and <code>valueOf</code></p>\n<blockquote>\n<p>Method invokes <strong>inefficient</strong> Number constructor; use static valueOf\ninstead Using new Integer(int) is guaranteed to always result in a new\nobject whereas Integer.valueOf(int) allows caching of values to be\ndone by the compiler, class library, or JVM. Using of cached values\navoids object allocation and the code will be faster. Values between\n-128 and 127 are guaranteed to have corresponding cached instances and using valueOf is approximately 3.5 times faster than using\nconstructor. For values outside the constant range the performance of\nboth styles is the same. Unless the class must be compatible with JVMs\npredating Java 5, use either autoboxing or the valueOf() method when\ncreating instances of Long, Integer, Short, Character, and Byte.   Bug\nkind and pattern: Bx - DM_NUMBER_CTOR</p>\n</blockquote>\n"}],"owner":{"account_id":997968,"reputation":726,"user_id":1013463,"accept_rate":67,"display_name":"MicNeo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68853,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":6,"score":34,"last_activity_date":1667285776,"creation_date":1327654142,"question_id":9030817,"body_markdown":"Recenlty I saw code (Java) like this:\r\n\r\n    myMethod(new Integer(123));\r\n\r\nI am currently refactoring some code, and there is a tip in Sonar tool, that it&#39;s more memory friendly to use sth like this:\r\n\r\n    myMethod(Integer.valueOf(123));\r\n\r\nHowever in this case, I think that there is no difference if I would use:\r\n\r\n    myMethod(123);\r\n\r\nI could understand that, if I would pass a variable to the method, but hard coded int? Or if there would be Long/Double etc and I want Long representation of number. But integer?","title":"Differences between new Integer(123), Integer.valueOf(123) and just 123","body":"<p>Recenlty I saw code (Java) like this:</p>\n\n<pre><code>myMethod(new Integer(123));\n</code></pre>\n\n<p>I am currently refactoring some code, and there is a tip in Sonar tool, that it's more memory friendly to use sth like this:</p>\n\n<pre><code>myMethod(Integer.valueOf(123));\n</code></pre>\n\n<p>However in this case, I think that there is no difference if I would use:</p>\n\n<pre><code>myMethod(123);\n</code></pre>\n\n<p>I could understand that, if I would pass a variable to the method, but hard coded int? Or if there would be Long/Double etc and I want Long representation of number. But integer?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":14255669,"reputation":330,"user_id":10297961,"display_name":"Tan Sang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667285769,"creation_date":1667285769,"answer_id":74272479,"question_id":74271813,"body_markdown":"Have you tried the query you wrote? I believe jpa query does support sum operator\r\n\r\n    @Query(SELECT SUM(p.user_point) FROM point p WHERE p.user_index = :user_index)\r\n    float totalPointByUser(@Param(&quot;user_index&quot;) Long user_index) ","title":"How does return SUM() in spring data jpa","body":"<p>Have you tried the query you wrote? I believe jpa query does support sum operator</p>\n<pre><code>@Query(SELECT SUM(p.user_point) FROM point p WHERE p.user_index = :user_index)\nfloat totalPointByUser(@Param(&quot;user_index&quot;) Long user_index) \n</code></pre>\n"}],"owner":{"account_id":15848942,"reputation":52,"user_id":11435335,"display_name":"Nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":789,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74272479,"answer_count":1,"score":0,"last_activity_date":1667285769,"creation_date":1667279943,"question_id":74271813,"body_markdown":"I am uning Spring boot with spring data jpa.\r\n\r\nI&#39;ve made repository that extends JpaRepository and I want to get SUM() of table results.\r\n\r\ntable schema is like \r\n\r\npoint\r\n\r\nuser_index, user_point\r\n\r\nand query to get point total is \r\n\r\nselect SUM(user_point)\r\nfrom point\r\nwhere user_index = 1;\r\n\r\nwhat is the best way to get this result?\r\n\r\nI am considering to use native query, but I think to use JPA Repository is better.","title":"How does return SUM() in spring data jpa","body":"<p>I am uning Spring boot with spring data jpa.</p>\n<p>I've made repository that extends JpaRepository and I want to get SUM() of table results.</p>\n<p>table schema is like</p>\n<p>point</p>\n<p>user_index, user_point</p>\n<p>and query to get point total is</p>\n<p>select SUM(user_point)\nfrom point\nwhere user_index = 1;</p>\n<p>what is the best way to get this result?</p>\n<p>I am considering to use native query, but I think to use JPA Repository is better.</p>\n"},{"tags":["java","sql","hazelcast","hazelcast-imap"],"answers":[{"tags":[],"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667285556,"creation_date":1667285556,"answer_id":74272448,"question_id":74237424,"body_markdown":"&quot;The SQL over Map&quot; is one of the subfunctions of the SQL interface and allows you to query the IMap with SQL statements. There are other ways of querying an IMap. For example you can use \r\n- Java API or \r\n- Predicates API. For example see https://docs.hazelcast.com/hazelcast/5.2/query/predicate-overview\r\n\r\nHowever the SQL interface is broader and offers other stuff such as \r\n1. SQL over Map\r\n2. SQL over Kafka\r\n3. SQL over File System etc. \r\n\r\nSee the documentation for SQL interface for these other stuff https://docs.hazelcast.com/hazelcast/5.2/sql/get-started-sql\r\n\r\nWhen you are using IMap the data is still in memory. You stated that it is okay. However if you still want to persist it to DB or any other storage you may attach a MapStore to your IMap. See documentation here for an example https://docs.hazelcast.com/hazelcast/5.2/mapstore/implement-a-mapstore\r\n\r\nThis way your IMap will also be persisted to DB. I hope this helps ","title":"Hazelcast executing SQL on preexisting Table / Data Structure - Java/Grails","body":"<p>&quot;The SQL over Map&quot; is one of the subfunctions of the SQL interface and allows you to query the IMap with SQL statements. There are other ways of querying an IMap. For example you can use</p>\n<ul>\n<li>Java API or</li>\n<li>Predicates API. For example see <a href=\"https://docs.hazelcast.com/hazelcast/5.2/query/predicate-overview\" rel=\"nofollow noreferrer\">https://docs.hazelcast.com/hazelcast/5.2/query/predicate-overview</a></li>\n</ul>\n<p>However the SQL interface is broader and offers other stuff such as</p>\n<ol>\n<li>SQL over Map</li>\n<li>SQL over Kafka</li>\n<li>SQL over File System etc.</li>\n</ol>\n<p>See the documentation for SQL interface for these other stuff <a href=\"https://docs.hazelcast.com/hazelcast/5.2/sql/get-started-sql\" rel=\"nofollow noreferrer\">https://docs.hazelcast.com/hazelcast/5.2/sql/get-started-sql</a></p>\n<p>When you are using IMap the data is still in memory. You stated that it is okay. However if you still want to persist it to DB or any other storage you may attach a MapStore to your IMap. See documentation here for an example <a href=\"https://docs.hazelcast.com/hazelcast/5.2/mapstore/implement-a-mapstore\" rel=\"nofollow noreferrer\">https://docs.hazelcast.com/hazelcast/5.2/mapstore/implement-a-mapstore</a></p>\n<p>This way your IMap will also be persisted to DB. I hope this helps</p>\n"}],"owner":{"account_id":25496552,"reputation":1,"user_id":19290527,"display_name":"Michael Six"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667285556,"creation_date":1666970150,"question_id":74237424,"body_markdown":"Hi we have an heavy connection &amp; user rich application and are running into peak performance related issues.\r\n\r\nTo work around some issues i created an task manager like table, that stores a list of future tasks, which will be grouped, delayed and executed in the future and will be retried a few times. This worked quite well but under extreme heavy load the database itself is struggeling and the delayes sum up. Connections then just take too long.\r\n\r\nIm planning to switch to hazelcast cacheing, which we use in most other parts, when i looked into the documentation i saw that hazelcast has some sort of SQL?\r\n\r\nWould it be possible to just shift the whole table into that Predicate Hazelcast Cache? Everything is a Map already so it wont be that much to change.\r\n\r\nThe main reason for this would be that id like to keep such queries:\r\n\r\n```\r\nSELECT id, type, action, retries, params FROM delayed_tasks WHERE action_required = 1 and is_currently_running = 0 and (penalty_date IS NULL or penalty_date &lt; NOW()) ORDER BY insert_date ASC LIMIT 1\r\n```\r\n\r\nSo what does the Hazelcast SQL do? Im unsure about the documentation: https://docs.hazelcast.com/hazelcast/5.1/sql/get-started-sql\r\n\r\nThe table itself could also just be memory based, though be nice to serialize entries. Im just wondering if this would work outside of the database and would it do seralization.\r\n\r\nDidn&#180;t try for now because i dont understand hazelcasts documentation. There are just a few examples on github, but not enough information.","title":"Hazelcast executing SQL on preexisting Table / Data Structure - Java/Grails","body":"<p>Hi we have an heavy connection &amp; user rich application and are running into peak performance related issues.</p>\n<p>To work around some issues i created an task manager like table, that stores a list of future tasks, which will be grouped, delayed and executed in the future and will be retried a few times. This worked quite well but under extreme heavy load the database itself is struggeling and the delayes sum up. Connections then just take too long.</p>\n<p>Im planning to switch to hazelcast cacheing, which we use in most other parts, when i looked into the documentation i saw that hazelcast has some sort of SQL?</p>\n<p>Would it be possible to just shift the whole table into that Predicate Hazelcast Cache? Everything is a Map already so it wont be that much to change.</p>\n<p>The main reason for this would be that id like to keep such queries:</p>\n<pre><code>SELECT id, type, action, retries, params FROM delayed_tasks WHERE action_required = 1 and is_currently_running = 0 and (penalty_date IS NULL or penalty_date &lt; NOW()) ORDER BY insert_date ASC LIMIT 1\n</code></pre>\n<p>So what does the Hazelcast SQL do? Im unsure about the documentation: <a href=\"https://docs.hazelcast.com/hazelcast/5.1/sql/get-started-sql\" rel=\"nofollow noreferrer\">https://docs.hazelcast.com/hazelcast/5.1/sql/get-started-sql</a></p>\n<p>The table itself could also just be memory based, though be nice to serialize entries. Im just wondering if this would work outside of the database and would it do seralization.</p>\n<p>Didnt try for now because i dont understand hazelcasts documentation. There are just a few examples on github, but not enough information.</p>\n"},{"tags":["java","spring-boot","customvalidator"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667289209,"post_id":74271731,"comment_id":131127727,"body_markdown":"You are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"You are using terrible date-time classes that were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."}],"answers":[{"tags":[],"owner":{"account_id":18407497,"reputation":36,"user_id":13408786,"display_name":"Otto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667285026,"creation_date":1667285026,"answer_id":74272384,"question_id":74271731,"body_markdown":"There is some flaws if you use SimpleDateFormat.parse, that &quot;*The method may not use the entire text of the given string*&quot;. You can find that in javadoc [DateFormat][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/text/DateFormat.html#parse-java.lang.String-\r\n\r\nI suggest you can use DateTimeFormatter &amp; LocalDate.parse instead.\r\n\r\n        try {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n            LocalDate.parse(arg0, formatter);\r\n        } catch (DateTimeParseException e) {\r\n            return false;\r\n        }\r\n\r\n","title":"&quot;dd/MM/yyyy&quot; format not validating YEAR in Spring boot","body":"<p>There is some flaws if you use SimpleDateFormat.parse, that &quot;<em>The method may not use the entire text of the given string</em>&quot;. You can find that in javadoc <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/DateFormat.html#parse-java.lang.String-\" rel=\"nofollow noreferrer\">DateFormat</a></p>\n<p>I suggest you can use DateTimeFormatter &amp; LocalDate.parse instead.</p>\n<pre><code>    try {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\n        LocalDate.parse(arg0, formatter);\n    } catch (DateTimeParseException e) {\n        return false;\n    }\n</code></pre>\n"}],"owner":{"account_id":19052506,"reputation":1223,"user_id":13910368,"display_name":"M123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74272384,"answer_count":1,"score":0,"last_activity_date":1667285026,"creation_date":1667278986,"question_id":74271731,"body_markdown":"I tried to validate the date using custom validation in spring boot. But the only `yyyy` is not validating the year although `dd` and `MM` is working fine. \r\n\r\nFor Example, \r\n\r\nif in RequestBody I passed the date format as\r\n\r\n `02/1k/2022`, is validated properly and also `k2/12/2022` is validated properly but \r\nwhen I passed a date like `02/12/2k22` is not validated. \r\n\r\nI couldn&#39;t figure out it. \r\n\r\nSpringBoot version: **2.3.0.RELEASE**\r\n\r\n**Dependency:**\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**Code:**\r\n\r\n```\r\npublic class IsValidDateFormatValidator implements ConstraintValidator&lt;IsValidDateFormat, String&gt; {\r\n\r\n\t@Override\r\n\tpublic void initialize(IsValidDateFormat arg0) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isValid(String arg0, ConstraintValidatorContext arg1) {\r\n\r\n\t\tif (arg0 != null) {\r\n\t\t\tif (arg0.trim().length() &gt; 10) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (!arg0.isEmpty()) {\r\n\t\t\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\t\t\t\tsdf.setLenient(false);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tsdf.parse(arg0);\r\n\t\t\t\t} catch (ParseException e) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n@Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE })\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy = {IsValidDateFormatValidator.class})\r\n@Documented\r\npublic @interface IsValidDateFormat {\r\n\r\n\tString message() default &quot;&quot;;\r\n\r\n\tClass&lt;?&gt;[] groups() default {};\r\n\r\n\tClass&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n}\r\n```\r\n\r\n**Model:**\r\n\r\n```\r\n@NotEmpty(message = &quot;dob {emptyDateValidationMsg}&quot;)\r\n@IsValidDateFormat(message = &quot;dob {dateFormatValidationMsg}&quot;)\r\n@JsonProperty(&quot;dob&quot;)\r\nprivate String dob;\r\n```\r\n\r\nPlease suggest what mistake I made...\r\n\r\nThe same code was validating the year properly if I passed dateformat **yyyy-MM-dd** instead of **dd/MM/yyyy**","title":"&quot;dd/MM/yyyy&quot; format not validating YEAR in Spring boot","body":"<p>I tried to validate the date using custom validation in spring boot. But the only <code>yyyy</code> is not validating the year although <code>dd</code> and <code>MM</code> is working fine.</p>\n<p>For Example,</p>\n<p>if in RequestBody I passed the date format as</p>\n<p><code>02/1k/2022</code>, is validated properly and also <code>k2/12/2022</code> is validated properly but\nwhen I passed a date like <code>02/12/2k22</code> is not validated.</p>\n<p>I couldn't figure out it.</p>\n<p>SpringBoot version: <strong>2.3.0.RELEASE</strong></p>\n<p><strong>Dependency:</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Code:</strong></p>\n<pre><code>public class IsValidDateFormatValidator implements ConstraintValidator&lt;IsValidDateFormat, String&gt; {\n\n    @Override\n    public void initialize(IsValidDateFormat arg0) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public boolean isValid(String arg0, ConstraintValidatorContext arg1) {\n\n        if (arg0 != null) {\n            if (arg0.trim().length() &gt; 10) {\n                return false;\n            }\n            if (!arg0.isEmpty()) {\n                SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n                sdf.setLenient(false);\n                try {\n                    sdf.parse(arg0);\n                } catch (ParseException e) {\n                    return false;\n                }\n            }\n        }\n        return true;\n\n    }\n}\n</code></pre>\n<pre><code>@Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE })\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = {IsValidDateFormatValidator.class})\n@Documented\npublic @interface IsValidDateFormat {\n\n    String message() default &quot;&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n}\n</code></pre>\n<p><strong>Model:</strong></p>\n<pre><code>@NotEmpty(message = &quot;dob {emptyDateValidationMsg}&quot;)\n@IsValidDateFormat(message = &quot;dob {dateFormatValidationMsg}&quot;)\n@JsonProperty(&quot;dob&quot;)\nprivate String dob;\n</code></pre>\n<p>Please suggest what mistake I made...</p>\n<p>The same code was validating the year properly if I passed dateformat <strong>yyyy-MM-dd</strong> instead of <strong>dd/MM/yyyy</strong></p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1667287848,"post_id":74272378,"comment_id":131127422,"body_markdown":"loginResult is passing in as an object reference by value in line 39. You set a breakpoint in line 40 and the object reference is still not null there. However, at the moment you are pausing there, another thread may access the same object reference and set it to null.","body":"loginResult is passing in as an object reference by value in line 39. You set a breakpoint in line 40 and the object reference is still not null there. However, at the moment you are pausing there, another thread may access the same object reference and set it to null."},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1667288061,"post_id":74272378,"comment_id":131127474,"body_markdown":"so I would like to ask, after the loginResult passes into the method, Is there another thread or process continue to work on this reference and ultimately set it to null?","body":"so I would like to ask, after the loginResult passes into the method, Is there another thread or process continue to work on this reference and ultimately set it to null?"},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1667288457,"post_id":74272378,"comment_id":131127573,"body_markdown":"or the simplest way to test/fix is to make a &quot;deep copy&quot; of loginResult before passing into the method call. Though convenient way usually is not the best solution since it hides the actual problem, which I guess concurrent access the data object.","body":"or the simplest way to test/fix is to make a &quot;deep copy&quot; of loginResult before passing into the method call. Though convenient way usually is not the best solution since it hides the actual problem, which I guess concurrent access the data object."},{"owner":{"account_id":12239415,"reputation":9,"user_id":8932900,"display_name":""},"score":0,"creation_date":1667640243,"post_id":74272378,"comment_id":131217902,"body_markdown":"There will be no other thread causing loginResult released. Actually loginResult is just allocated before the method invoked. @AndroidNewbieA","body":"There will be no other thread causing loginResult released. Actually loginResult is just allocated before the method invoked. @AndroidNewbieA"}],"owner":{"account_id":12239415,"reputation":9,"user_id":8932900,"display_name":""},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667284974,"creation_date":1667284974,"question_id":74272378,"body_markdown":"[Java - Android] visiting a heap memory allocated in another thread throws nullpointerexception\r\n\r\nHere is my code.\r\nloginResult is allocated in a thread doing post request, which callbacks and finally invoked the method afterPassportLoginSuccess() as one of parameters;\r\n\r\n[![enter image description here](https://i.stack.imgur.com/EDlt5.png)](https://i.stack.imgur.com/EDlt5.png)\r\n\r\nAndroid Studio: 2021.2.1\r\nGradle: 6.1.1 (3.6.4)\r\nSource: JAVA_1_8\r\nTarget: JAVA_1_8\r\n\r\n[Works good]\r\n\r\n\r\nAndroid Studio: 2021.3.1\r\nGradle: 7.2 (7.0.2) (Using jdk 11)\r\nSource: JAVA_1_8\r\nTarget: JAVA_1_8\r\n\r\n[Works bad: NullPointerExceptions throws].\r\n\r\n\r\nI dont understand why. loginResult is a heap memory can be visited by any thread.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nAny explanation helps me. Thanks.","title":"visiting a heap memory allocated in another thread throws nullpointerexception","body":"<p>[Java - Android] visiting a heap memory allocated in another thread throws nullpointerexception</p>\n<p>Here is my code.\nloginResult is allocated in a thread doing post request, which callbacks and finally invoked the method afterPassportLoginSuccess() as one of parameters;</p>\n<p><a href=\"https://i.stack.imgur.com/EDlt5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EDlt5.png\" alt=\"enter image description here\" /></a></p>\n<p>Android Studio: 2021.2.1\nGradle: 6.1.1 (3.6.4)\nSource: JAVA_1_8\nTarget: JAVA_1_8</p>\n<p>[Works good]</p>\n<p>Android Studio: 2021.3.1\nGradle: 7.2 (7.0.2) (Using jdk 11)\nSource: JAVA_1_8\nTarget: JAVA_1_8</p>\n<p>[Works bad: NullPointerExceptions throws].</p>\n<p>I dont understand why. loginResult is a heap memory can be visited by any thread.</p>\n<p>Any explanation helps me. Thanks.</p>\n"},{"tags":["java","multithreading","semaphore"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1343038555,"post_id":11610270,"comment_id":15371095,"body_markdown":"What do you mean with &quot;threshold&quot;? The number of permits?","body":"What do you mean with &quot;threshold&quot;? The number of permits?"},{"owner":{"account_id":302030,"reputation":3942,"user_id":610159,"accept_rate":78,"display_name":"Andrei Petrenko"},"score":0,"creation_date":1343041860,"post_id":11610270,"comment_id":15372352,"body_markdown":"@JBNizet Yes, number of permits.","body":"@JBNizet Yes, number of permits."},{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":0,"creation_date":1343042794,"post_id":11610270,"comment_id":15372705,"body_markdown":"Sure, as others have posted. Don&#39;t put any artificial limit on the count at creation time and then signal on whatever permits you want. If you want to add some, just do it. If you want to reduce, wait on the semaphore as many time as needed to remove permits.","body":"Sure, as others have posted. Don&#39;t put any artificial limit on the count at creation time and then signal on whatever permits you want. If you want to add some, just do it. If you want to reduce, wait on the semaphore as many time as needed to remove permits."}],"answers":[{"comments":[{"owner":{"account_id":43972,"reputation":632,"user_id":128792,"display_name":"David Kocher"},"score":0,"creation_date":1617953738,"post_id":11610956,"comment_id":118459801,"body_markdown":"The blog post link is dead.","body":"The blog post link is dead."}],"tags":[],"owner":{"account_id":115714,"reputation":8890,"user_id":303698,"accept_rate":75,"display_name":"laher"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667284264,"creation_date":1343040174,"answer_id":11610956,"question_id":11610270,"body_markdown":"I can&#39;t quite give you &#39;existing production-grade&#39;, but I can give you &#39;existing source code&#39;, providing a thin wrapper *around* an existing production-grade implementation. How&#39;s that?\r\n\r\nEssentially, you can *extend* Java&#39;s Semaphore class to acheive what you want. So, you&#39;re standing on the shoulders of giants.\r\n\r\n 1. To increase the number of permits X times, call [Semaphore.release(X)][1]\r\n 2. To reduce the number of permits, call the **protected** method [Semaphore.reducePermits(X)][2] .\r\n\r\nItem 2, the protected method, explains why you&#39;ll need to *extend* the Semaphore class.\r\n\r\nFor a full implementation and better explanation, see this blog entry:\r\n\r\nhttps://web.archive.org/web/20190213082551/http://blog.teamlazerbeez.com/2009/04/20/javas-semaphore-resizing/\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Semaphore.html#release%28int%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Semaphore.html#reducePermits%28int%29","title":"Adjustable semaphore","body":"<p>I can't quite give you 'existing production-grade', but I can give you 'existing source code', providing a thin wrapper <em>around</em> an existing production-grade implementation. How's that?</p>\n<p>Essentially, you can <em>extend</em> Java's Semaphore class to acheive what you want. So, you're standing on the shoulders of giants.</p>\n<ol>\n<li>To increase the number of permits X times, call <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Semaphore.html#release%28int%29\" rel=\"nofollow noreferrer\">Semaphore.release(X)</a></li>\n<li>To reduce the number of permits, call the <strong>protected</strong> method <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Semaphore.html#reducePermits%28int%29\" rel=\"nofollow noreferrer\">Semaphore.reducePermits(X)</a> .</li>\n</ol>\n<p>Item 2, the protected method, explains why you'll need to <em>extend</em> the Semaphore class.</p>\n<p>For a full implementation and better explanation, see this blog entry:</p>\n<p><a href=\"https://web.archive.org/web/20190213082551/http://blog.teamlazerbeez.com/2009/04/20/javas-semaphore-resizing/\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20190213082551/http://blog.teamlazerbeez.com/2009/04/20/javas-semaphore-resizing/</a></p>\n"}],"owner":{"account_id":302030,"reputation":3942,"user_id":610159,"accept_rate":78,"display_name":"Andrei Petrenko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11610956,"answer_count":1,"score":0,"last_activity_date":1667284264,"creation_date":1343037531,"question_id":11610270,"body_markdown":"Are there any production-grade implementations of Java Semaphore with possibility to adjust number of permits after semaphore is created?","title":"Adjustable semaphore","body":"<p>Are there any production-grade implementations of Java Semaphore with possibility to adjust number of permits after semaphore is created?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1657562283,"post_id":72942094,"comment_id":128835431,"body_markdown":"i dont quite understand `BTNode&lt;Node extends BTNode&lt;Node&gt;&gt;` though, it looks like BTNode expects a Node type which is inheriting BTNode that expects Node and it seems to point back to itself. Why and how is it working like that?","body":"i dont quite understand <code>BTNode&lt;Node extends BTNode&lt;Node&gt;&gt;</code> though, it looks like BTNode expects a Node type which is inheriting BTNode that expects Node and it seems to point back to itself. Why and how is it working like that?"}],"answers":[{"comments":[{"owner":{"account_id":22401368,"reputation":53,"user_id":19528473,"display_name":"ll cool"},"score":1,"creation_date":1657578882,"post_id":72942340,"comment_id":128839862,"body_markdown":"This can work, thanks. I still feel confused with BTNode&lt;Node extends BTNode&lt;Node&gt;&gt; . Is it just a thick that makes the generic type can refer the generic class itself?","body":"This can work, thanks. I still feel confused with BTNode&lt;Node extends BTNode&lt;Node&gt;&gt; . Is it just a thick that makes the generic type can refer the generic class itself?"},{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":1,"creation_date":1657606603,"post_id":72942340,"comment_id":128844127,"body_markdown":"In a way, yes. It ensures that neighbours of the node (left, right, and parent) are also nodes themselves, and not just any other type.","body":"In a way, yes. It ensures that neighbours of the node (left, right, and parent) are also nodes themselves, and not just any other type."},{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1657612324,"post_id":72942340,"comment_id":128845776,"body_markdown":"I updated my answer to explain the intent of this design.","body":"I updated my answer to explain the intent of this design."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1657627072,"post_id":72942340,"comment_id":128850867,"body_markdown":"@nquincampoix why/how does the Java syntax allow that? The Node class wasnt exactly properly mentioned/declared(?) anywhere besides the part where `&lt;Node extends BTNode&lt;Node&gt;&gt;` or `&lt;Node extends BinaryTree.BTNode&lt;Node&gt;&gt;`","body":"@nquincampoix why/how does the Java syntax allow that? The Node class wasnt exactly properly mentioned/declared(?) anywhere besides the part where <code>&lt;Node extends BTNode&lt;Node&gt;&gt;</code> or <code>&lt;Node extends BinaryTree.BTNode&lt;Node&gt;&gt;</code>"},{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1657629750,"post_id":72942340,"comment_id":128851942,"body_markdown":"@experimentunit1998X that&#39;s because it is not a class, it is a type parameter of the class `BinaryTree`. It just has an unusually long name, so it gets confused with a class.","body":"@experimentunit1998X that&#39;s because it is not a class, it is a type parameter of the class <code>BinaryTree</code>. It just has an unusually long name, so it gets confused with a class."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1657630549,"post_id":72942340,"comment_id":128852249,"body_markdown":"So, type parameters does not need to be declared like a class? I can just replace `Node` with any other word ie cat and it should function the same in the above code? I looked up and understand that the `extends BTNode&lt;Node&gt;` part is to make the Node type parameter bounded to instances of BTNode or subclasses","body":"So, type parameters does not need to be declared like a class? I can just replace <code>Node</code> with any other word ie cat and it should function the same in the above code? I looked up and understand that the <code>extends BTNode&lt;Node&gt;</code> part is to make the Node type parameter bounded to instances of BTNode or subclasses"},{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":1,"creation_date":1657631007,"post_id":72942340,"comment_id":128852429,"body_markdown":"@experimentunit1998X No, it is not declared as a class, it is just defined along a class declaration. And provided it is not a reserved word of the language, yes, you can name it the way you want (the clearer the better, though). Here&#39;s a good read about generics : http://www.angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html","body":"@experimentunit1998X No, it is not declared as a class, it is just defined along a class declaration. And provided it is not a reserved word of the language, yes, you can name it the way you want (the clearer the better, though). Here&#39;s a good read about generics : <a href=\"http://www.angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html\" rel=\"nofollow noreferrer\">angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html</a>"}],"tags":[],"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667223075,"creation_date":1657559902,"answer_id":72942340,"question_id":72942094,"body_markdown":"You have to define a class to represent a node type. It will encompass what you want to store in the tree. For example :\r\n\r\n```java\r\npublic class StringNode extends BinaryTree.BTNode&lt;StringNode&gt; {\r\n    private final String stringValue;\r\n\r\n    public StringNode(String stringValue) {\r\n        this.stringValue = stringValue;\r\n    }\r\n\r\n    public String getValue() {\r\n        return stringValue;\r\n    }\r\n}\r\n```\r\nThen you can use it to instantiate a tree of that node type :\r\n```java\r\nStringNode firstNode = new StringNode(&quot;firstValue&quot;);\r\nBinaryTree&lt;StringNode&gt; stringTree = new BinaryTree&lt;StringNode&gt;(firstNode);\r\n```\r\n\r\nThe Node type parameter is defined as a subclass of `BTNode`, so that one can implement [recursive methods][1] with it.\r\nFor example, the `size(Node)` method :\r\n```java\r\nint size(Node u) {\r\n    if (u == nil) return 0;\r\n    return 1 + size(u.left) + size(u.right);\r\n}\r\n```\r\nIt is not possible to write this without `Node` being  a `BTNode` itself.\r\nBecause if it is not, there is no such thing as `u.left` or `u.right`.\r\n\r\n  [1]: https://opendatastructures.org/ods-java/6_1_BinaryTree_Basic_Binary.html#SECTION00911000000000000000","title":"How can I instantiate this very sophisticated generic Class that appears in book Open Data Structures?","body":"<p>You have to define a class to represent a node type. It will encompass what you want to store in the tree. For example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringNode extends BinaryTree.BTNode&lt;StringNode&gt; {\n    private final String stringValue;\n\n    public StringNode(String stringValue) {\n        this.stringValue = stringValue;\n    }\n\n    public String getValue() {\n        return stringValue;\n    }\n}\n</code></pre>\n<p>Then you can use it to instantiate a tree of that node type :</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringNode firstNode = new StringNode(&quot;firstValue&quot;);\nBinaryTree&lt;StringNode&gt; stringTree = new BinaryTree&lt;StringNode&gt;(firstNode);\n</code></pre>\n<p>The Node type parameter is defined as a subclass of <code>BTNode</code>, so that one can implement <a href=\"https://opendatastructures.org/ods-java/6_1_BinaryTree_Basic_Binary.html#SECTION00911000000000000000\" rel=\"nofollow noreferrer\">recursive methods</a> with it.\nFor example, the <code>size(Node)</code> method :</p>\n<pre class=\"lang-java prettyprint-override\"><code>int size(Node u) {\n    if (u == nil) return 0;\n    return 1 + size(u.left) + size(u.right);\n}\n</code></pre>\n<p>It is not possible to write this without <code>Node</code> being  a <code>BTNode</code> itself.\nBecause if it is not, there is no such thing as <code>u.left</code> or <code>u.right</code>.</p>\n"},{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657568657,"creation_date":1657568351,"answer_id":72943809,"question_id":72942094,"body_markdown":"For the basic it should be looking like this and normaly it should be abstract and you should create extending classes of this tree. Keep clear that each tree also is a node (of some other tree). Remeber that this is only some base now you could implement more methods like getting some seeking node/load in the tree or get the highest or lowest load and so on.  \r\n\r\n    /**\r\n     * An implementation of binary trees\r\n     *\r\n     * @param &lt;V&gt; load type\r\n     * @param &lt;N&gt; node type\r\n     * @author morin\r\n     */\r\n    public class BinaryTree&lt;V, N extends BinaryTree&lt;V, N&gt;&gt; {\r\n\r\n        protected V load;\r\n\r\n\r\n        protected N rightNode;\r\n\r\n\r\n        protected N leftNode;\r\n\r\n\r\n        public BinaryTree(V load, N rightNode, N leftNode) {\r\n            this.load = load;\r\n            this.rightNode = rightNode;\r\n            this.leftNode = leftNode;\r\n        }\r\n\r\n        public BinaryTree(V load) {\r\n            this(load, null, null);\r\n        }\r\n\r\n        public V getLoad() {\r\n            return load;\r\n        }\r\n\r\n        public void setLoad(V load) {\r\n            this.load = load;\r\n        }\r\n\r\n        public N getRightNode() {\r\n            return rightNode;\r\n        }\r\n\r\n        public void setRightNode(N rightNode) {\r\n            this.rightNode = rightNode;\r\n        }\r\n\r\n        public N getLeftNode() {\r\n            return leftNode;\r\n        }\r\n\r\n        public void setLeftNode(N leftNode) {\r\n            this.leftNode = leftNode;\r\n        }\r\n        \r\n        //some more methods\r\n    }","title":"How can I instantiate this very sophisticated generic Class that appears in book Open Data Structures?","body":"<p>For the basic it should be looking like this and normaly it should be abstract and you should create extending classes of this tree. Keep clear that each tree also is a node (of some other tree). Remeber that this is only some base now you could implement more methods like getting some seeking node/load in the tree or get the highest or lowest load and so on.</p>\n<pre><code>/**\n * An implementation of binary trees\n *\n * @param &lt;V&gt; load type\n * @param &lt;N&gt; node type\n * @author morin\n */\npublic class BinaryTree&lt;V, N extends BinaryTree&lt;V, N&gt;&gt; {\n\n    protected V load;\n\n\n    protected N rightNode;\n\n\n    protected N leftNode;\n\n\n    public BinaryTree(V load, N rightNode, N leftNode) {\n        this.load = load;\n        this.rightNode = rightNode;\n        this.leftNode = leftNode;\n    }\n\n    public BinaryTree(V load) {\n        this(load, null, null);\n    }\n\n    public V getLoad() {\n        return load;\n    }\n\n    public void setLoad(V load) {\n        this.load = load;\n    }\n\n    public N getRightNode() {\n        return rightNode;\n    }\n\n    public void setRightNode(N rightNode) {\n        this.rightNode = rightNode;\n    }\n\n    public N getLeftNode() {\n        return leftNode;\n    }\n\n    public void setLeftNode(N leftNode) {\n        this.leftNode = leftNode;\n    }\n    \n    //some more methods\n}\n</code></pre>\n"}],"owner":{"account_id":22401368,"reputation":53,"user_id":19528473,"display_name":"ll cool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1667283641,"creation_date":1657558671,"question_id":72942094,"body_markdown":"I am reading the book [Open Data Structures](https://opendatastructures.org/) by Pat Morin. The author use very sophisticated generic code in java to implement BinaryTree.\r\nThe code really confuses me. I even can&#39;t figure out how to instantiate the BinaryTree Class.\r\n\r\n```java\r\npackage ods;\r\n\r\nimport java.util.LinkedList;\r\nimport java.util.Queue;\r\n\r\n/**\r\n * An implementation of binary trees\r\n * @author morin\r\n *\r\n * @param &lt;Node&gt;\r\n */\r\npublic class BinaryTree&lt;Node extends BinaryTree.BTNode&lt;Node&gt;&gt; {\r\n\t\r\n\tpublic static class BTNode&lt;Node extends BTNode&lt;Node&gt;&gt; {\r\n\t\tpublic Node left;\r\n\t\tpublic Node right;\r\n\t\tpublic Node parent;\t\r\n\t}\r\n\r\n\t\r\n\tprotected Node sampleNode;\r\n\t\r\n\t\r\n\tprotected Node r;\r\n\r\n\t\r\n\tprotected Node nil;\r\n\r\n\t\r\n\tpublic BinaryTree(Node sampleNode, Node nil) {\r\n\t\tthis.sampleNode = sampleNode;\r\n\t\tthis.nil = nil;\r\n\t\tr = nil;\r\n\t}\r\n\r\n\t\r\n\tpublic BinaryTree(Node sampleNode) {\r\n\t\tthis.sampleNode = sampleNode;\r\n\t}\r\n\t\r\n\t\r\n\t@SuppressWarnings({&quot;unchecked&quot;})\r\n\tprotected Node newNode() {\r\n\t\ttry {\r\n\t\t\tNode u = (Node)sampleNode.getClass().newInstance();\r\n\t\t\tu.parent = u.left = u.right = nil;\r\n\t\t\treturn u;\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n//some method below\r\n\r\n}\r\n\r\n```\r\n\t","title":"How can I instantiate this very sophisticated generic Class that appears in book Open Data Structures?","body":"<p>I am reading the book <a href=\"https://opendatastructures.org/\" rel=\"nofollow noreferrer\">Open Data Structures</a> by Pat Morin. The author use very sophisticated generic code in java to implement BinaryTree.\nThe code really confuses me. I even can't figure out how to instantiate the BinaryTree Class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package ods;\n\nimport java.util.LinkedList;\nimport java.util.Queue;\n\n/**\n * An implementation of binary trees\n * @author morin\n *\n * @param &lt;Node&gt;\n */\npublic class BinaryTree&lt;Node extends BinaryTree.BTNode&lt;Node&gt;&gt; {\n    \n    public static class BTNode&lt;Node extends BTNode&lt;Node&gt;&gt; {\n        public Node left;\n        public Node right;\n        public Node parent; \n    }\n\n    \n    protected Node sampleNode;\n    \n    \n    protected Node r;\n\n    \n    protected Node nil;\n\n    \n    public BinaryTree(Node sampleNode, Node nil) {\n        this.sampleNode = sampleNode;\n        this.nil = nil;\n        r = nil;\n    }\n\n    \n    public BinaryTree(Node sampleNode) {\n        this.sampleNode = sampleNode;\n    }\n    \n    \n    @SuppressWarnings({&quot;unchecked&quot;})\n    protected Node newNode() {\n        try {\n            Node u = (Node)sampleNode.getClass().newInstance();\n            u.parent = u.left = u.right = nil;\n            return u;\n        } catch (Exception e) {\n            return null;\n        }\n    }\n//some method below\n\n}\n\n</code></pre>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1667280214,"post_id":74271786,"comment_id":131126009,"body_markdown":"Can you give an example of a test input where that happens?","body":"Can you give an example of a test input where that happens?"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667283365,"creation_date":1667283365,"answer_id":74272167,"question_id":74271786,"body_markdown":"You must use a single `CramersRule` instance in your main method (and extract the correct values from it):\r\n\r\n    public class MyProgram{\r\n        public static void main(String[] args){\r\n            Scanner input = new Scanner(System.in);\r\n            \r\n            CramersRule CR = new CramersRule();\r\n            System.out.print(&quot;Enter 4 numbers for the first equation (ie. 1 2 3 4): &quot;);\r\n            CR.setLinearEquation1(input.nextDouble(), input.nextDouble(), input.nextDouble(), input.nextDouble());\r\n            \r\n            System.out.print(&quot;Enter 4 numbers for the second equation (ie. 1 2 3 4): &quot;);\r\n            CR.setLinearEquation2(input.nextDouble(), input.nextDouble(), input.nextDouble(), input.nextDouble());\r\n            \r\n            System.out.print(&quot;Enter 4 numbers for the third equation (ie. 1 2 3 4): &quot;);\r\n            CR.setLinearEquation3(input.nextDouble(), input.nextDouble(), input.nextDouble(), input.nextDouble());\r\n            \r\n            System.out.println(&quot;The answer of the 3x3 Determinant is &quot; + CR.getDeterminant());\r\n            if (CR.getDeterminant() == 0){\r\n                System.out.println(&quot;Cramers Rule does not apply.&quot;);\r\n            } else {\r\n                double x = CR.getDeterminant() / CR.getDx();\r\n                double y = CR.getDeterminant() / CR.getDy();\r\n                double z = CR.getDeterminant() / CR.getDz();\r\n                \r\n                System.out.println(&quot;The solution set is (&quot; + x + &quot;, &quot; + y + &quot;, &quot; + z + &quot;)&quot;);\r\n            }\r\n        }\r\n    }","title":"Cramer&#39;s Rule Determinant return 0 why?","body":"<p>You must use a single <code>CramersRule</code> instance in your main method (and extract the correct values from it):</p>\n<pre><code>public class MyProgram{\n    public static void main(String[] args){\n        Scanner input = new Scanner(System.in);\n        \n        CramersRule CR = new CramersRule();\n        System.out.print(&quot;Enter 4 numbers for the first equation (ie. 1 2 3 4): &quot;);\n        CR.setLinearEquation1(input.nextDouble(), input.nextDouble(), input.nextDouble(), input.nextDouble());\n        \n        System.out.print(&quot;Enter 4 numbers for the second equation (ie. 1 2 3 4): &quot;);\n        CR.setLinearEquation2(input.nextDouble(), input.nextDouble(), input.nextDouble(), input.nextDouble());\n        \n        System.out.print(&quot;Enter 4 numbers for the third equation (ie. 1 2 3 4): &quot;);\n        CR.setLinearEquation3(input.nextDouble(), input.nextDouble(), input.nextDouble(), input.nextDouble());\n        \n        System.out.println(&quot;The answer of the 3x3 Determinant is &quot; + CR.getDeterminant());\n        if (CR.getDeterminant() == 0){\n            System.out.println(&quot;Cramers Rule does not apply.&quot;);\n        } else {\n            double x = CR.getDeterminant() / CR.getDx();\n            double y = CR.getDeterminant() / CR.getDy();\n            double z = CR.getDeterminant() / CR.getDz();\n            \n            System.out.println(&quot;The solution set is (&quot; + x + &quot;, &quot; + y + &quot;, &quot; + z + &quot;)&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19811108,"reputation":66,"user_id":14683294,"display_name":"Caleb Murnan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74272167,"answer_count":1,"score":0,"last_activity_date":1667283365,"creation_date":1667279597,"question_id":74271786,"body_markdown":"I can&#39;t seem to see what the problem is, but the `getDeterminant()` always return 0 when it shouldn&#39;t. Yes it sometimes occurs but not continuously. I&#39;ve tried replacing `double` with `float`, same result. Here&#39;s the code:\r\n\r\n    import java.util.Scanner;\r\n    class CramersRule{\r\n        //Numbers for the 3-Variable Linear Equation.\r\n        private double a1, a2, a3;\r\n        private double b1, b2, b3;\r\n        private double c1, c2, c3;\r\n        private double d1, d2, d3;\r\n        \r\n        CramersRule(){\r\n            \r\n        }\r\n        //Sets the 1st Linear Equation.\r\n        public void setLinearEquation1 (double a1, double b1, double c1, double d1){\r\n            this.a1 = a1;\r\n            this.b1 = b1;\r\n            this.c1 = c1;\r\n            this.d1 = d1;\r\n        }\r\n        //Sets the 2nd Linear equation.\r\n        public void setLinearEquation2 (double a2, double b2, double c2, double d2){\r\n            this.a2 = a2;\r\n            this.b2 = b2;\r\n            this.c2 = c2;\r\n            this.d2 = d2;\r\n        }\r\n        //Sets the 3rd Linear Equation.\r\n        public void setLinearEquation3 (double a3, double b3, double c3, double d3){\r\n            this.a3 = a3;\r\n            this.b3 = b3;\r\n            this.c3 = c3;\r\n            this.d3 = d3;\r\n        }\r\n        /*Returns the 3x3 Determinant */\r\n        public double getDeterminant (){\r\n            double d = a1 * ((b2 * c3) - (b3 * c2)) - a2 * ((b1 * c3) - (b3 * c1)) + a3 * ((b1 * c2) - (b2 * c1));\r\n            return d;\r\n        }\r\n        /*Returns the 3x3 Determinant for x */\r\n        public double getDx(){\r\n            double x = d1 * ((b2 * c3) - (b3 * c2)) - b1 * ((d2 * c3) - (d3 * c2)) + c1 * ((d2 * b3) - (d3 * b2));\r\n            return x;\r\n        }\r\n        /*Returns the 3x3 Determinant for y */\r\n        public double getDy(){\r\n            double y = a1 * ((d2 * c3) - (d3 * c2)) - d1 * ((a2 * c3) - (a3 * c2)) + c1 * ((a2 * d3) - (a3 * d2));\r\n            return y;\r\n        }\r\n        /*Returns the 3x3 Determinant for z */\r\n        public double getDz(){\r\n            double z = a1 * ((b2 * d3) - (b3 * d2)) - b1 * ((a2 * d3) - (a3 * d2)) + d1 * ((a2 * b3) - (a3 * b2));\r\n            return z;\r\n        }\r\n    }\r\n    \r\n    public class MyProgram{\r\n        public static void main(String[] args){\r\n            Scanner input = new Scanner(System.in);\r\n            \r\n            CramersRule CR1 = new CramersRule();\r\n            System.out.print(&quot;Enter 4 numbers for the first equation (ie. 1 2 3 4): &quot;);\r\n            CR1.setLinearEquation1(input.nextDouble(), input.nextDouble(), input.nextDouble(), input.nextDouble());\r\n            \r\n            CramersRule CR2 = new CramersRule();\r\n            System.out.print(&quot;Enter 4 numbers for the second equation (ie. 1 2 3 4): &quot;);\r\n            CR2.setLinearEquation2(input.nextDouble(), input.nextDouble(), input.nextDouble(), input.nextDouble());\r\n            \r\n            CramersRule CR3 = new CramersRule();\r\n            System.out.print(&quot;Enter 4 numbers for the third equation (ie. 1 2 3 4): &quot;);\r\n            CR3.setLinearEquation3(input.nextDouble(), input.nextDouble(), input.nextDouble(), input.nextDouble());\r\n            \r\n            \r\n            System.out.println(&quot;The answer of the 3x3 Determinant is &quot; + CR1.getDeterminant());\r\n            if(CR1.getDeterminant() == 0){\r\n                System.out.println(&quot;Cramers Rule does not apply.&quot;);\r\n            }else{\r\n                double x = CR1.getDeterminant() / CR1.getDx();\r\n                double y = CR1.getDeterminant() / CR1.getDx();\r\n                double z = CR1.getDeterminant() / CR1.getDx();\r\n                \r\n                System.out.println(&quot;The solution set is (&quot; + x + &quot;, &quot; + y + &quot;, &quot; + z + &quot;)&quot;);\r\n            }\r\n        }\r\n    }","title":"Cramer&#39;s Rule Determinant return 0 why?","body":"<p>I can't seem to see what the problem is, but the <code>getDeterminant()</code> always return 0 when it shouldn't. Yes it sometimes occurs but not continuously. I've tried replacing <code>double</code> with <code>float</code>, same result. Here's the code:</p>\n<pre><code>import java.util.Scanner;\nclass CramersRule{\n    //Numbers for the 3-Variable Linear Equation.\n    private double a1, a2, a3;\n    private double b1, b2, b3;\n    private double c1, c2, c3;\n    private double d1, d2, d3;\n    \n    CramersRule(){\n        \n    }\n    //Sets the 1st Linear Equation.\n    public void setLinearEquation1 (double a1, double b1, double c1, double d1){\n        this.a1 = a1;\n        this.b1 = b1;\n        this.c1 = c1;\n        this.d1 = d1;\n    }\n    //Sets the 2nd Linear equation.\n    public void setLinearEquation2 (double a2, double b2, double c2, double d2){\n        this.a2 = a2;\n        this.b2 = b2;\n        this.c2 = c2;\n        this.d2 = d2;\n    }\n    //Sets the 3rd Linear Equation.\n    public void setLinearEquation3 (double a3, double b3, double c3, double d3){\n        this.a3 = a3;\n        this.b3 = b3;\n        this.c3 = c3;\n        this.d3 = d3;\n    }\n    /*Returns the 3x3 Determinant */\n    public double getDeterminant (){\n        double d = a1 * ((b2 * c3) - (b3 * c2)) - a2 * ((b1 * c3) - (b3 * c1)) + a3 * ((b1 * c2) - (b2 * c1));\n        return d;\n    }\n    /*Returns the 3x3 Determinant for x */\n    public double getDx(){\n        double x = d1 * ((b2 * c3) - (b3 * c2)) - b1 * ((d2 * c3) - (d3 * c2)) + c1 * ((d2 * b3) - (d3 * b2));\n        return x;\n    }\n    /*Returns the 3x3 Determinant for y */\n    public double getDy(){\n        double y = a1 * ((d2 * c3) - (d3 * c2)) - d1 * ((a2 * c3) - (a3 * c2)) + c1 * ((a2 * d3) - (a3 * d2));\n        return y;\n    }\n    /*Returns the 3x3 Determinant for z */\n    public double getDz(){\n        double z = a1 * ((b2 * d3) - (b3 * d2)) - b1 * ((a2 * d3) - (a3 * d2)) + d1 * ((a2 * b3) - (a3 * b2));\n        return z;\n    }\n}\n\npublic class MyProgram{\n    public static void main(String[] args){\n        Scanner input = new Scanner(System.in);\n        \n        CramersRule CR1 = new CramersRule();\n        System.out.print(&quot;Enter 4 numbers for the first equation (ie. 1 2 3 4): &quot;);\n        CR1.setLinearEquation1(input.nextDouble(), input.nextDouble(), input.nextDouble(), input.nextDouble());\n        \n        CramersRule CR2 = new CramersRule();\n        System.out.print(&quot;Enter 4 numbers for the second equation (ie. 1 2 3 4): &quot;);\n        CR2.setLinearEquation2(input.nextDouble(), input.nextDouble(), input.nextDouble(), input.nextDouble());\n        \n        CramersRule CR3 = new CramersRule();\n        System.out.print(&quot;Enter 4 numbers for the third equation (ie. 1 2 3 4): &quot;);\n        CR3.setLinearEquation3(input.nextDouble(), input.nextDouble(), input.nextDouble(), input.nextDouble());\n        \n        \n        System.out.println(&quot;The answer of the 3x3 Determinant is &quot; + CR1.getDeterminant());\n        if(CR1.getDeterminant() == 0){\n            System.out.println(&quot;Cramers Rule does not apply.&quot;);\n        }else{\n            double x = CR1.getDeterminant() / CR1.getDx();\n            double y = CR1.getDeterminant() / CR1.getDx();\n            double z = CR1.getDeterminant() / CR1.getDx();\n            \n            System.out.println(&quot;The solution set is (&quot; + x + &quot;, &quot; + y + &quot;, &quot; + z + &quot;)&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","event-listener"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1469040494,"post_id":38487474,"comment_id":64378770,"body_markdown":"What packages are `Application` and `ProxyConfig` in?","body":"What packages are <code>Application</code> and <code>ProxyConfig</code> in?"},{"owner":{"account_id":8655150,"reputation":135,"user_id":6479676,"display_name":"user6479676"},"score":0,"creation_date":1469044833,"post_id":38487474,"comment_id":64381234,"body_markdown":"`Application` is in package `com.mycompany.app`. And `ProxyConfig` is in a subpacke: `com.mycompany.app.configuration.impl`","body":"<code>Application</code> is in package <code>com.mycompany.app</code>. And <code>ProxyConfig</code> is in a subpacke: <code>com.mycompany.app.configuration.impl</code>"},{"owner":{"account_id":8655150,"reputation":135,"user_id":6479676,"display_name":"user6479676"},"score":0,"creation_date":1469049642,"post_id":38487474,"comment_id":64383667,"body_markdown":"By creating a `META-INF/spring.factories`file (see http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-spring-application.html#boot-features-application-events-and-listeners) it works without the Annotations, but not with... :(","body":"By creating a <code>META-INF&#47;spring.factories</code>file (see <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-spring-application.html#boot-features-application-events-and-listeners\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>) it works without the Annotations, but not with... :("},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1469050711,"post_id":38487474,"comment_id":64384144,"body_markdown":"I&#39;ve just noticed the events that you&#39;re listening for. That&#39;s expected behaviour. I&#39;ve tried to explain what&#39;s going on in my answer below.","body":"I&#39;ve just noticed the events that you&#39;re listening for. That&#39;s expected behaviour. I&#39;ve tried to explain what&#39;s going on in my answer below."}],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1549977073,"post_id":38491280,"comment_id":96092948,"body_markdown":"How to achieve it via SpringApplication setter?","body":"How to achieve it via SpringApplication setter?"},{"owner":{"account_id":5544246,"reputation":2369,"user_id":4399576,"display_name":"Dimitar II"},"score":0,"creation_date":1664023670,"post_id":38491280,"comment_id":130379341,"body_markdown":"Can try with `ApplicationReadyEvent`.","body":"Can try with <code>ApplicationReadyEvent</code>."}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1469050659,"creation_date":1469050659,"answer_id":38491280,"question_id":38487474,"body_markdown":"The two events that you are listening for are both published very early in an application&#39;s lifecycle.\r\n\r\n`ApplicationStartedEvent` is sent &quot;as early as conceivably possible as soon as a SpringApplication has been started - before the Environment or ApplicationContext is available, but after the ApplicationListeners have been registered&quot;. \r\n\r\n`ApplicationEnvironmentPreparedEvent` is published &quot;when a SpringApplication is starting up and the Environment is first available for inspection and modification.&quot;\r\n\r\nIn both cases, the event is published too early for a listener to be found via annotations and the application context. As you&#39;ve observed you can use `spring.factories` to register your listener. Alternatively, you can use the setter method on `SpringApplication`.","title":"SpringBoot EventListener don&#39;t receive events","body":"<p>The two events that you are listening for are both published very early in an application's lifecycle.</p>\n\n<p><code>ApplicationStartedEvent</code> is sent \"as early as conceivably possible as soon as a SpringApplication has been started - before the Environment or ApplicationContext is available, but after the ApplicationListeners have been registered\". </p>\n\n<p><code>ApplicationEnvironmentPreparedEvent</code> is published \"when a SpringApplication is starting up and the Environment is first available for inspection and modification.\"</p>\n\n<p>In both cases, the event is published too early for a listener to be found via annotations and the application context. As you've observed you can use <code>spring.factories</code> to register your listener. Alternatively, you can use the setter method on <code>SpringApplication</code>.</p>\n"},{"tags":[],"owner":{"account_id":9285324,"reputation":41,"user_id":6895820,"display_name":"Eduardo M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667281822,"creation_date":1667281822,"answer_id":74272003,"question_id":38487474,"body_markdown":"This is an old question, but anyway, to anyone having the same issue...\r\n\r\nI&#39;ve just wasted a few hours with the exact same problem, I&#39;ve searched the internet and did countless tests to no avail, I&#39;ve tried annotating with &lt;code&gt;@EventListener(ApplicationReadyEvent.class)&lt;/code&gt; and &lt;code&gt;@PostConstruct&lt;/code&gt;, nothing worked.\r\n\r\nMy philosophy is that when something simple doesn&#39;t work and the internet doesn&#39;t help, it means you messed up something. So I started reviewing my code and I see you&#39;ve made the same mistake as me.\r\n\r\nYou&#39;ve copied the example from somewhere else or changed the original configuration class from &lt;code&gt;MyApp&lt;/code&gt; to &lt;code&gt;Application&lt;/code&gt;, and you&#39;ve forgotten to change the line:\r\n```\r\nSpringApplication.run(MyApp.class, args);\r\n```\r\nto\r\n```\r\nSpringApplication.run(Application.class, args);\r\n```\r\nThe first line will do nothing, unless &lt;code&gt;MyApp&lt;/code&gt; also has &lt;code&gt;@SpringBootApplication&lt;/code&gt; or other configuration annotations, the second one will find the &lt;code&gt;@SpringBootApplication&lt;/code&gt; annotation and will properly start the Spring Boot application.\r\n\r\nBy the way, both &lt;code&gt;@EventListener(ApplicationReadyEvent.class)&lt;/code&gt; and &lt;code&gt;@PostConstruct&lt;/code&gt; work just fine, tested on &lt;strong&gt;Java 17&lt;/strong&gt;.","title":"SpringBoot EventListener don&#39;t receive events","body":"<p>This is an old question, but anyway, to anyone having the same issue...</p>\n<p>I've just wasted a few hours with the exact same problem, I've searched the internet and did countless tests to no avail, I've tried annotating with <code>@EventListener(ApplicationReadyEvent.class)</code> and <code>@PostConstruct</code>, nothing worked.</p>\n<p>My philosophy is that when something simple doesn't work and the internet doesn't help, it means you messed up something. So I started reviewing my code and I see you've made the same mistake as me.</p>\n<p>You've copied the example from somewhere else or changed the original configuration class from <code>MyApp</code> to <code>Application</code>, and you've forgotten to change the line:</p>\n<pre><code>SpringApplication.run(MyApp.class, args);\n</code></pre>\n<p>to</p>\n<pre><code>SpringApplication.run(Application.class, args);\n</code></pre>\n<p>The first line will do nothing, unless <code>MyApp</code> also has <code>@SpringBootApplication</code> or other configuration annotations, the second one will find the <code>@SpringBootApplication</code> annotation and will properly start the Spring Boot application.</p>\n<p>By the way, both <code>@EventListener(ApplicationReadyEvent.class)</code> and <code>@PostConstruct</code> work just fine, tested on <strong>Java 17</strong>.</p>\n"}],"owner":{"account_id":8655150,"reputation":135,"user_id":6479676,"display_name":"user6479676"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15369,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":38491280,"answer_count":2,"score":10,"last_activity_date":1667281822,"creation_date":1469037097,"question_id":38487474,"body_markdown":"my `EventListener` annotation don&#39;t receive any Spring Event. Here is my code:\r\n\r\n    @Component\r\n    public class ProxyConfig {\r\n\r\n\t    public ProxyConfig() {\r\n\t\t    System.out.println(&quot;I can see this in the console&quot;);\r\n\t    }\r\n\r\n\t    @EventListener\r\n\t    public void onApplicationEvent(ApplicationEnvironmentPreparedEvent event) {\r\n\t    \tSystem.out.println(&quot;WON&#39;T WORK :-(&quot;);  // FIXME\r\n\t    }\r\n\r\n\t    @EventListener\r\n\t    public void test(ApplicationStartedEvent event) {\r\n\t    \tSystem.out.println(&quot;WON&#39;T WORK :-(&quot;);  // FIXME\r\n\t    }\r\n    }\r\n\r\n\r\nAnd here is my `Application` class:\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n        public static void main(String[] args) throws Exception {\r\n            SpringApplication.run(MyApp.class, args);\r\n        }\r\n    }\r\n\r\nAccording to https://spring.io/blog/2015/02/11/better-application-events-in-spring-framework-4-2 and https://solidsoft.wordpress.com/2015/09/29/annotation-driven-event-listeners-in-spring-4-2/ it must be working, but it still not print my &quot;WON&#39;T WORK :-(&quot; String :(\r\n\r\n\r\nAny idea?\r\n\r\n\r\nThanks!","title":"SpringBoot EventListener don&#39;t receive events","body":"<p>my <code>EventListener</code> annotation don't receive any Spring Event. Here is my code:</p>\n\n<pre><code>@Component\npublic class ProxyConfig {\n\n    public ProxyConfig() {\n        System.out.println(\"I can see this in the console\");\n    }\n\n    @EventListener\n    public void onApplicationEvent(ApplicationEnvironmentPreparedEvent event) {\n        System.out.println(\"WON'T WORK :-(\");  // FIXME\n    }\n\n    @EventListener\n    public void test(ApplicationStartedEvent event) {\n        System.out.println(\"WON'T WORK :-(\");  // FIXME\n    }\n}\n</code></pre>\n\n<p>And here is my <code>Application</code> class:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(MyApp.class, args);\n    }\n}\n</code></pre>\n\n<p>According to <a href=\"https://spring.io/blog/2015/02/11/better-application-events-in-spring-framework-4-2\" rel=\"noreferrer\">https://spring.io/blog/2015/02/11/better-application-events-in-spring-framework-4-2</a> and <a href=\"https://solidsoft.wordpress.com/2015/09/29/annotation-driven-event-listeners-in-spring-4-2/\" rel=\"noreferrer\">https://solidsoft.wordpress.com/2015/09/29/annotation-driven-event-listeners-in-spring-4-2/</a> it must be working, but it still not print my \"WON'T WORK :-(\" String :(</p>\n\n<p>Any idea?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":1,"creation_date":1667171495,"post_id":74256539,"comment_id":131101707,"body_markdown":"Where is UserService?","body":"Where is UserService?"},{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1667176282,"post_id":74256539,"comment_id":131102355,"body_markdown":"What does your backend DB look like? Might be easy to start with a unique constraint on the table where your users are stored (most likely on something like email address).","body":"What does your backend DB look like? Might be easy to start with a unique constraint on the table where your users are stored (most likely on something like email address)."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667200027,"post_id":74256539,"comment_id":131105552,"body_markdown":"That is what unique constraints in your database are for.","body":"That is what unique constraints in your database are for."},{"owner":{"account_id":2354215,"reputation":522,"user_id":2062407,"accept_rate":50,"display_name":"ali4j"},"score":0,"creation_date":1667204713,"post_id":74256539,"comment_id":131106683,"body_markdown":"Just add a unique constraint on email address field in your &#39;users&#39; table and then handle the exception.","body":"Just add a unique constraint on email address field in your &#39;users&#39; table and then handle the exception."}],"answers":[{"tags":[],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667172158,"creation_date":1667172158,"answer_id":74257431,"question_id":74256539,"body_markdown":"Without UserService it&#39;s hard to say what is happen. But if I see your jpa mapping I can guess that if you want unique entry per unique user, you have to delete generated column id. And instead you have to put @Id annotation on email. In this case you need also make changes in sql table. \r\nOr as alternative you can stay by current mapping and simply conduct findByEmail before save entity. And if Optional is not empty - then user is already in database registred.","title":"User is in database, but it still lets him register unlimited amount of times","body":"<p>Without UserService it's hard to say what is happen. But if I see your jpa mapping I can guess that if you want unique entry per unique user, you have to delete generated column id. And instead you have to put @Id annotation on email. In this case you need also make changes in sql table.\nOr as alternative you can stay by current mapping and simply conduct findByEmail before save entity. And if Optional is not empty - then user is already in database registred.</p>\n"},{"tags":[],"owner":{"account_id":18360840,"reputation":81,"user_id":13372981,"display_name":"Marin Jurlina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667281669,"creation_date":1667210744,"answer_id":74261653,"question_id":74256539,"body_markdown":"I just fixed my mistake. The mistake was in the database where I forgot to set email as unique. Once I did that, the code works perfectly.","title":"User is in database, but it still lets him register unlimited amount of times","body":"<p>I just fixed my mistake. The mistake was in the database where I forgot to set email as unique. Once I did that, the code works perfectly.</p>\n"}],"owner":{"account_id":18360840,"reputation":81,"user_id":13372981,"display_name":"Marin Jurlina"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1667281669,"creation_date":1667161967,"question_id":74256539,"body_markdown":"While there is user in the database, another user with exactly the same credentials is &quot;successfully&quot; inserted in the database...\r\n\r\nHello! I&#39;m building my own ecommerce app and I included spring security. Now, while I was developing security part of the app, I tried it to see if it&#39;s working and once I entered desired info in the request body, for the first request the user was successfully inserted in the database, but when I tried to do it the second time, to check if the `userExists` which throws and error that user is already registered, works, it just added another user with the same credentials (name, lastname, mail and so). I go to userRepository to check if there is already the user with the same email, it makes sense what i wrote, but it doesnt work...Please help...Here are all the files:\r\n\r\n------\r\nEDIT : Mistakenly copied UserRegistrationController twice...So here is the userService.java:\r\n\r\n    package com.marin.thrift.service;\r\n    \r\n    import com.marin.thrift.dao.UserRepository;\r\n    import com.marin.thrift.entity.User;\r\n    import lombok.AllArgsConstructor;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    @AllArgsConstructor\r\n    public class UserService implements UserDetailsService {\r\n    \r\n        private final UserRepository userRepository;\r\n        private final static String USER_NOT_FOUND = &quot;user with email %s not found&quot;;\r\n        private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n            return userRepository.findByUsername(email).orElseThrow(()-&gt; new UsernameNotFoundException(String.format(USER_NOT_FOUND, email)));\r\n        }\r\n    \r\n        public String singUpUser(User user){\r\n            boolean userExists = userRepository.findByUsername(user.getEmail()).isPresent();\r\n    \r\n            if(userExists){\r\n                return &quot;user already in place&quot;;\r\n            }\r\n    \r\n            String encodedPassword = bCryptPasswordEncoder.encode(user.getPassword());\r\n            user.setPassword(encodedPassword);\r\n    \r\n            userRepository.save(user);\r\n    \r\n            return &quot;it works&quot;;\r\n        }\r\n    }\r\n\r\n \r\n------\r\n```java\r\npackage com.marin.thrift.registration;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(path = &quot;api/v1/registration&quot;)\r\n@AllArgsConstructor\r\npublic class UserRegistrationController {\r\n\r\n    private RegistrationService registrationService;\r\n\r\n    @PostMapping\r\n    public String register(@RequestBody registrationRequest request){\r\n        return registrationService.register(request);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\npackage com.marin.thrift.registration;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(path = &quot;api/v1/registration&quot;)\r\n@AllArgsConstructor\r\npublic class UserRegistrationController {\r\n\r\n    private RegistrationService registrationService;\r\n\r\n    @PostMapping\r\n    public String register(@RequestBody registrationRequest request){\r\n        return registrationService.register(request);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\npackage com.marin.thrift.registration;\r\n\r\nimport com.marin.thrift.entity.Role;\r\nimport com.marin.thrift.entity.User;\r\nimport com.marin.thrift.service.UserService;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class RegistrationService {\r\n\r\n    private final EmailValidator emailValidator;\r\n    private final UserService userService;\r\n\r\n    public String register(registrationRequest request) {\r\n        Boolean isValidEmail = emailValidator.test(request.getEmail());\r\n\r\n        if (!isValidEmail){\r\n            throw new IllegalStateException(&quot;Email is not valid&quot;);\r\n        }\r\n\r\n        return userService.singUpUser(new User(request.getFirstName(), request.getLastName(),\r\n                request.getPassword(),  request.getEmail(),  Role.USER));\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage com.marin.thrift.entity;\r\n\r\nimport lombok.Data;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.Collection;\r\nimport java.util.Date;\r\n\r\n@Entity\r\n@Data\r\n@Table(name = &quot;users&quot;)\r\npublic class User implements UserDetails {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;date_of_birth&quot;)\r\n    private Date dateOfBirth;\r\n\r\n    @Column(name = &quot;username&quot;)\r\n    private String username;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n    private Role role;\r\n    private Boolean locked = false;\r\n    private Boolean enabled = false;\r\n\r\n    public User(String firstName, String lastName, String password, String email, Role role) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.password = password;\r\n        this.email = email;\r\n        this.role = role;\r\n    }\r\n\r\n    public User() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        SimpleGrantedAuthority authority = new SimpleGrantedAuthority(role.name());\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername(){\r\n        return email;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return !locked;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return enabled;\r\n    }\r\n}\r\n```\r\n```java\r\npackage com.marin.thrift.security.config;\r\n\r\nimport com.marin.thrift.service.UserService;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n\r\n@Configuration\r\n@AllArgsConstructor\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private final UserService userService;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception{\r\n        http.csrf()\r\n                .disable().authorizeRequests()\r\n                    .antMatchers(&quot;/api/v*/registration/**&quot;).permitAll()\r\n                        .anyRequest().authenticated().and().formLogin();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception{\r\n        auth.authenticationProvider(daoAuthenticationProvider());\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider(){\r\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        provider.setUserDetailsService(userService);\r\n\r\n        return provider;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage com.marin.thrift.registration;\r\n\r\nimport lombok.*;\r\n\r\n@Getter\r\n@AllArgsConstructor\r\n@EqualsAndHashCode\r\n@ToString\r\npublic class registrationRequest {\r\n\r\n    private final String firstName;\r\n    private final String lastName;\r\n    private final String password;\r\n    private final String email;\r\n}\r\n```","title":"User is in database, but it still lets him register unlimited amount of times","body":"<p>While there is user in the database, another user with exactly the same credentials is &quot;successfully&quot; inserted in the database...</p>\n<p>Hello! I'm building my own ecommerce app and I included spring security. Now, while I was developing security part of the app, I tried it to see if it's working and once I entered desired info in the request body, for the first request the user was successfully inserted in the database, but when I tried to do it the second time, to check if the <code>userExists</code> which throws and error that user is already registered, works, it just added another user with the same credentials (name, lastname, mail and so). I go to userRepository to check if there is already the user with the same email, it makes sense what i wrote, but it doesnt work...Please help...Here are all the files:</p>\n<hr />\n<p>EDIT : Mistakenly copied UserRegistrationController twice...So here is the userService.java:</p>\n<pre><code>package com.marin.thrift.service;\n\nimport com.marin.thrift.dao.UserRepository;\nimport com.marin.thrift.entity.User;\nimport lombok.AllArgsConstructor;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\n\n@Service\n@AllArgsConstructor\npublic class UserService implements UserDetailsService {\n\n    private final UserRepository userRepository;\n    private final static String USER_NOT_FOUND = &quot;user with email %s not found&quot;;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        return userRepository.findByUsername(email).orElseThrow(()-&gt; new UsernameNotFoundException(String.format(USER_NOT_FOUND, email)));\n    }\n\n    public String singUpUser(User user){\n        boolean userExists = userRepository.findByUsername(user.getEmail()).isPresent();\n\n        if(userExists){\n            return &quot;user already in place&quot;;\n        }\n\n        String encodedPassword = bCryptPasswordEncoder.encode(user.getPassword());\n        user.setPassword(encodedPassword);\n\n        userRepository.save(user);\n\n        return &quot;it works&quot;;\n    }\n}\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>package com.marin.thrift.registration;\n\nimport lombok.AllArgsConstructor;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(path = &quot;api/v1/registration&quot;)\n@AllArgsConstructor\npublic class UserRegistrationController {\n\n    private RegistrationService registrationService;\n\n    @PostMapping\n    public String register(@RequestBody registrationRequest request){\n        return registrationService.register(request);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.marin.thrift.registration;\n\nimport lombok.AllArgsConstructor;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(path = &quot;api/v1/registration&quot;)\n@AllArgsConstructor\npublic class UserRegistrationController {\n\n    private RegistrationService registrationService;\n\n    @PostMapping\n    public String register(@RequestBody registrationRequest request){\n        return registrationService.register(request);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.marin.thrift.registration;\n\nimport com.marin.thrift.entity.Role;\nimport com.marin.thrift.entity.User;\nimport com.marin.thrift.service.UserService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.stereotype.Service;\n\n@Service\n@AllArgsConstructor\npublic class RegistrationService {\n\n    private final EmailValidator emailValidator;\n    private final UserService userService;\n\n    public String register(registrationRequest request) {\n        Boolean isValidEmail = emailValidator.test(request.getEmail());\n\n        if (!isValidEmail){\n            throw new IllegalStateException(&quot;Email is not valid&quot;);\n        }\n\n        return userService.singUpUser(new User(request.getFirstName(), request.getLastName(),\n                request.getPassword(),  request.getEmail(),  Role.USER));\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.marin.thrift.entity;\n\nimport lombok.Data;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport javax.persistence.*;\nimport java.util.Collection;\nimport java.util.Date;\n\n@Entity\n@Data\n@Table(name = &quot;users&quot;)\npublic class User implements UserDetails {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;date_of_birth&quot;)\n    private Date dateOfBirth;\n\n    @Column(name = &quot;username&quot;)\n    private String username;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n    private Role role;\n    private Boolean locked = false;\n    private Boolean enabled = false;\n\n    public User(String firstName, String lastName, String password, String email, Role role) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.password = password;\n        this.email = email;\n        this.role = role;\n    }\n\n    public User() {\n\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        SimpleGrantedAuthority authority = new SimpleGrantedAuthority(role.name());\n        return null;\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername(){\n        return email;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return !locked;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return enabled;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.marin.thrift.security.config;\n\nimport com.marin.thrift.service.UserService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n\n@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final UserService userService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception{\n        http.csrf()\n                .disable().authorizeRequests()\n                    .antMatchers(&quot;/api/v*/registration/**&quot;).permitAll()\n                        .anyRequest().authenticated().and().formLogin();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception{\n        auth.authenticationProvider(daoAuthenticationProvider());\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider(){\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(userService);\n\n        return provider;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.marin.thrift.registration;\n\nimport lombok.*;\n\n@Getter\n@AllArgsConstructor\n@EqualsAndHashCode\n@ToString\npublic class registrationRequest {\n\n    private final String firstName;\n    private final String lastName;\n    private final String password;\n    private final String email;\n}\n</code></pre>\n"},{"tags":["java","android","json"],"answers":[{"comments":[{"owner":{"account_id":439247,"reputation":5151,"user_id":828060,"display_name":"Che Jami"},"score":0,"creation_date":1343923580,"post_id":11781116,"comment_id":15648726,"body_markdown":"Did you mean `JSONObject user = json.getJSONObject(&quot;user&quot;)`?","body":"Did you mean <code>JSONObject user = json.getJSONObject(&quot;user&quot;)</code>?"}],"tags":[],"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"comment_count":1,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1343938548,"creation_date":1343922200,"answer_id":11781116,"question_id":11781075,"body_markdown":"[`JSONObject`](http://www.json.org/javadoc/org/json/JSONObject.html) provides accessors for a number of different data types, including nested `JSONObjects` and `JSONArrays`, using [`JSONObject.getJSONObject(String)`](http://www.json.org/javadoc/org/json/JSONObject.html#getJSONObject%28java.lang.String%29), [`JSONObject.getJSONArray(String)`](http://www.json.org/javadoc/org/json/JSONObject.html#getJSONArray%28java.lang.String%29).\r\n\r\nGiven your JSON, you&#39;d need to do something like this:\r\n\r\n    JSONObject json = getJSONfromURL(URL);\r\n    JSONObject user = json.getJSONObject(&quot;user&quot;);\r\n    JSONObject status = user.getJSONObject(&quot;status&quot;);\r\n    int stat1 = status.getInt(&quot;stat1&quot;);\r\n\r\nNote the lack of error handling here: for instance the code assumes the existence of the nested members - you should check for `null` - and there&#39;s no Exception handling.\r\n","title":"JSONObject in JSONObject","body":"<p><a href=\"http://www.json.org/javadoc/org/json/JSONObject.html\" rel=\"noreferrer\"><code>JSONObject</code></a> provides accessors for a number of different data types, including nested <code>JSONObjects</code> and <code>JSONArrays</code>, using <a href=\"http://www.json.org/javadoc/org/json/JSONObject.html#getJSONObject%28java.lang.String%29\" rel=\"noreferrer\"><code>JSONObject.getJSONObject(String)</code></a>, <a href=\"http://www.json.org/javadoc/org/json/JSONObject.html#getJSONArray%28java.lang.String%29\" rel=\"noreferrer\"><code>JSONObject.getJSONArray(String)</code></a>.</p>\n\n<p>Given your JSON, you'd need to do something like this:</p>\n\n<pre><code>JSONObject json = getJSONfromURL(URL);\nJSONObject user = json.getJSONObject(\"user\");\nJSONObject status = user.getJSONObject(\"status\");\nint stat1 = status.getInt(\"stat1\");\n</code></pre>\n\n<p>Note the lack of error handling here: for instance the code assumes the existence of the nested members - you should check for <code>null</code> - and there's no Exception handling.</p>\n"},{"tags":[],"owner":{"account_id":195716,"reputation":1521,"user_id":438775,"display_name":"jloriente"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343922249,"creation_date":1343922249,"answer_id":11781135,"question_id":11781075,"body_markdown":"To access properties in an JSON you can parse the object using JSON.parse and then acceess the required property like:\r\n\r\n    var star1 = user.stat1;\r\n\r\n\r\n\r\n","title":"JSONObject in JSONObject","body":"<p>To access properties in an JSON you can parse the object using JSON.parse and then acceess the required property like:</p>\n\n<pre><code>var star1 = user.stat1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1919231,"reputation":1436,"user_id":1731130,"accept_rate":25,"display_name":"Krunal Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360218548,"creation_date":1360218548,"answer_id":14745007,"question_id":11781075,"body_markdown":"    JSONObject mJsonObject = new JSONObject(response);\r\n    JSONObject userJObject = mJsonObject.getJSONObject(&quot;user&quot;);\r\n    JSONObject statusJObject = userJObject.getJSONObject(&quot;status&quot;);\r\n    String stat1 = statusJObject.getInt(&quot;stat1&quot;);\r\n    String stats2 = statusJObject.getInt(&quot;stats2&quot;);\r\n\r\n\r\nfrom your response **user** and **status** is Object so for that use **getJSONObject** and **stat1** and **stats2** is **status** object key so for that use **getInt()** method for getting integer value and use **getString()** method for getting String value.","title":"JSONObject in JSONObject","body":"<pre><code>JSONObject mJsonObject = new JSONObject(response);\nJSONObject userJObject = mJsonObject.getJSONObject(\"user\");\nJSONObject statusJObject = userJObject.getJSONObject(\"status\");\nString stat1 = statusJObject.getInt(\"stat1\");\nString stats2 = statusJObject.getInt(\"stats2\");\n</code></pre>\n\n<p>from your response <strong>user</strong> and <strong>status</strong> is Object so for that use <strong>getJSONObject</strong> and <strong>stat1</strong> and <strong>stats2</strong> is <strong>status</strong> object key so for that use <strong>getInt()</strong> method for getting integer value and use <strong>getString()</strong> method for getting String value.</p>\n"},{"tags":[],"owner":{"account_id":22750170,"reputation":1,"user_id":16910437,"display_name":"Praveen Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667281394,"creation_date":1667281161,"answer_id":74271938,"question_id":11781075,"body_markdown":"Using Google Gson Library...\r\n\r\nGoogle Gson is a simple Java-based library to serialize Java objects to JSON and vice versa. It is an open-source library developed by Google.  \r\n     \r\n    // Here I&#39;m getting a status object inside a user object. Because We need two fields in user object itself.\r\n    JsonObject statusObject= tireJsonObject.getAsJsonObject(&quot;user&quot;).getAsJsonObject(&quot;status&quot;);\r\n    // Just checking whether status Object has stat1 or not And Also Handling NullPointerException.\r\n    String stat1= statusObject.has(&quot;stat1&quot;) &amp;&amp; !statusObject.get(&quot;stat1&quot;).isJsonNull() ? statusObject.get(&quot;stat1&quot;).getAsString(): &quot;&quot;;\r\n    // \r\n    String stat2= statusObject.has(&quot;stat2&quot;) &amp;&amp; !statusObject.get(&quot;stat2&quot;).isJsonNull() ? statusObject.get(&quot;stat2&quot;).getAsString(): &quot;&quot;;\r\n     \r\n  If You have any doubts , Please let me know in comments ...","title":"JSONObject in JSONObject","body":"<p>Using Google Gson Library...</p>\n<p>Google Gson is a simple Java-based library to serialize Java objects to JSON and vice versa. It is an open-source library developed by Google.</p>\n<pre><code>// Here I'm getting a status object inside a user object. Because We need two fields in user object itself.\nJsonObject statusObject= tireJsonObject.getAsJsonObject(&quot;user&quot;).getAsJsonObject(&quot;status&quot;);\n// Just checking whether status Object has stat1 or not And Also Handling NullPointerException.\nString stat1= statusObject.has(&quot;stat1&quot;) &amp;&amp; !statusObject.get(&quot;stat1&quot;).isJsonNull() ? statusObject.get(&quot;stat1&quot;).getAsString(): &quot;&quot;;\n// \nString stat2= statusObject.has(&quot;stat2&quot;) &amp;&amp; !statusObject.get(&quot;stat2&quot;).isJsonNull() ? statusObject.get(&quot;stat2&quot;).getAsString(): &quot;&quot;;\n \n</code></pre>\n<p>If You have any doubts , Please let me know in comments ...</p>\n"}],"owner":{"account_id":1608706,"reputation":2337,"user_id":1488243,"display_name":"user1488243"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49993,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":11781116,"answer_count":4,"score":12,"last_activity_date":1667281394,"creation_date":1343922025,"question_id":11781075,"body_markdown":"I have an API Output like this:\r\n\r\n    {&quot;user&quot; : {&quot;status&quot; : {&quot;stat1&quot; : &quot;54&quot;, &quot;stats2&quot; : &quot;87&quot;}}}\r\n\r\nI create a simple `JSONObject` from this API with:\r\n\r\n    JSONObject json = getJSONfromURL(URL);\r\n\r\nAfter this I can read the data for User like this:\r\n\r\n    String user = json.getString(&quot;user&quot;);\r\n\r\nBut how do I get the Data for `stat1` and `stat2`?\r\n","title":"JSONObject in JSONObject","body":"<p>I have an API Output like this:</p>\n\n<pre><code>{\"user\" : {\"status\" : {\"stat1\" : \"54\", \"stats2\" : \"87\"}}}\n</code></pre>\n\n<p>I create a simple <code>JSONObject</code> from this API with:</p>\n\n<pre><code>JSONObject json = getJSONfromURL(URL);\n</code></pre>\n\n<p>After this I can read the data for User like this:</p>\n\n<pre><code>String user = json.getString(\"user\");\n</code></pre>\n\n<p>But how do I get the Data for <code>stat1</code> and <code>stat2</code>?</p>\n"},{"tags":["java","hibernate","struts-1"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667280967,"creation_date":1667280967,"answer_id":74271919,"question_id":74271778,"body_markdown":"First commented line: Cannot possibly itself be the cause of an NPE. The actual NPE is in the `registration` method.\r\n\r\nSecond commented line: Because `tx` is null. Which it will be if an exception occurs. For example in `getSessionFactory()`.\r\n\r\nLimit your `try` statements. Here your exception clearly assumes that `session.save(c)` will fail, and that there is no other explanation. But that&#39;s clearly false: There are way more lines in that try block, and they could all be failing. If you are going to assume a particular line or error occured in a generalized exception block like this, the try block should contain _just_ that.\r\n\r\nIn addition, when an exception occurs inside an exception handler, the exception that kicked it all off __is just gone__. So, you now can&#39;t tell which actual line got you to the exception handler. Fix that - for example by remarking out `tx.rollback()` temporarily to see what happens, and you know more. To fix this code properly, that try/catch should wrap `session.save(c); tx.commit()` and nothing else.\r\n\r\nAlso note that `tx.rollback()` can itself throw too.\r\n\r\nIn general this model of exception handling (catch it, take most of the info and toss it in the bin, print a stack trace to System.err which is not how you do logging, set a very generc &#39;failure&#39; status, and then carry on as if nothing went wrong) is just broken. If an exception occurs, embrace it. Your `registration` method should be throwing something, not swallowing exceptions. In general if it does hibernate things, throwing SQLException is fine. Better than fine, you should be doing that.\r\n","title":"Any specific reason why i am getting nullpointer exception at line 27 and 28 respectively","body":"<p>First commented line: Cannot possibly itself be the cause of an NPE. The actual NPE is in the <code>registration</code> method.</p>\n<p>Second commented line: Because <code>tx</code> is null. Which it will be if an exception occurs. For example in <code>getSessionFactory()</code>.</p>\n<p>Limit your <code>try</code> statements. Here your exception clearly assumes that <code>session.save(c)</code> will fail, and that there is no other explanation. But that's clearly false: There are way more lines in that try block, and they could all be failing. If you are going to assume a particular line or error occured in a generalized exception block like this, the try block should contain <em>just</em> that.</p>\n<p>In addition, when an exception occurs inside an exception handler, the exception that kicked it all off <strong>is just gone</strong>. So, you now can't tell which actual line got you to the exception handler. Fix that - for example by remarking out <code>tx.rollback()</code> temporarily to see what happens, and you know more. To fix this code properly, that try/catch should wrap <code>session.save(c); tx.commit()</code> and nothing else.</p>\n<p>Also note that <code>tx.rollback()</code> can itself throw too.</p>\n<p>In general this model of exception handling (catch it, take most of the info and toss it in the bin, print a stack trace to System.err which is not how you do logging, set a very generc 'failure' status, and then carry on as if nothing went wrong) is just broken. If an exception occurs, embrace it. Your <code>registration</code> method should be throwing something, not swallowing exceptions. In general if it does hibernate things, throwing SQLException is fine. Better than fine, you should be doing that.</p>\n"}],"owner":{"account_id":26791504,"reputation":1,"user_id":20384846,"display_name":"jagan nath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667280967,"creation_date":1667279512,"question_id":74271778,"body_markdown":"Null pointer exception at object creation places\r\ncreating a c object here and passing it to registration method \r\ngetting null pointer exception\r\n\r\nI have commented the two lines where null pointer exception arises.\r\n\r\n```\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.apache.struts.action.Action;\r\nimport org.apache.struts.action.ActionForm;\r\nimport org.apache.struts.action.ActionForward;\r\nimport org.apache.struts.action.ActionMapping;\r\n\r\nimport com.bookstore.formbeans.RegistrationActionForm;\r\nimport com.bookstore.pojo.Customer;\r\nimport com.bookstore.service.CustomerService;\r\n\r\npublic class RegistrationAction extends Action {\r\n\t@Override\r\n\tpublic ActionForward execute(ActionMapping mapping, ActionForm form, HttpServletRequest request,\r\n\t\t\tHttpServletResponse response) throws Exception {\r\n\t\tString status =&quot;&quot;;\r\n\t\tRegistrationActionForm actionForm= (RegistrationActionForm) form;\r\n\t\tCustomer c = new Customer();\r\n\t\tc.setCno(actionForm.getCno());\r\n\t\tc.setCname(actionForm.getCname());\r\n\t\tc.setCphon(actionForm.getCphon());\r\n\t\tc.setCaddr(actionForm.getCaddr());\r\n\t\t\r\n\t\tCustomerService cService = new CustomerService();\r\n\t\t//status = cService.registration(c);\r\n\t\treturn mapping.findForward(status);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n```\r\nimport com.bookstore.pojo.Customer;\r\nimport com.bookstore.util.HibernateUtil;\r\n\r\npublic class CustomerService {\r\n\tpublic String registration(Customer c){\r\n\t\tString status=&quot;&quot;;\r\n\t\tTransaction tx = null;\r\n\t\ttry {\r\n\t\t\tSessionFactory sessionFactory = HibernateUtil.getSessionFactory();\r\n\t\t\tSession session = sessionFactory.openSession();\r\n\t\t\tCustomer c1 = (Customer)session.get(Customer.class, c.getCno());\r\n\t\t\tif(c1 == null){\r\n\t\t\t\ttx = session.beginTransaction();\r\n\t\t\t\tsession.save(c);\r\n\t\t\t\ttx.commit();\r\n\t\t\t\tstatus=&quot;success&quot;;\r\n\t\t\t}else{\r\n\t\t\t\tstatus = &quot;existed&quot;;\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\t//tx.rollback();\r\n\t\t\tstatus = &quot;failure&quot;;\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn status;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\ntried instantiating with different methods","title":"Any specific reason why i am getting nullpointer exception at line 27 and 28 respectively","body":"<p>Null pointer exception at object creation places\ncreating a c object here and passing it to registration method\ngetting null pointer exception</p>\n<p>I have commented the two lines where null pointer exception arises.</p>\n<pre><code>import javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.apache.struts.action.Action;\nimport org.apache.struts.action.ActionForm;\nimport org.apache.struts.action.ActionForward;\nimport org.apache.struts.action.ActionMapping;\n\nimport com.bookstore.formbeans.RegistrationActionForm;\nimport com.bookstore.pojo.Customer;\nimport com.bookstore.service.CustomerService;\n\npublic class RegistrationAction extends Action {\n    @Override\n    public ActionForward execute(ActionMapping mapping, ActionForm form, HttpServletRequest request,\n            HttpServletResponse response) throws Exception {\n        String status =&quot;&quot;;\n        RegistrationActionForm actionForm= (RegistrationActionForm) form;\n        Customer c = new Customer();\n        c.setCno(actionForm.getCno());\n        c.setCname(actionForm.getCname());\n        c.setCphon(actionForm.getCphon());\n        c.setCaddr(actionForm.getCaddr());\n        \n        CustomerService cService = new CustomerService();\n        //status = cService.registration(c);\n        return mapping.findForward(status);\n    }\n}\n</code></pre>\n<pre><code>import com.bookstore.pojo.Customer;\nimport com.bookstore.util.HibernateUtil;\n\npublic class CustomerService {\n    public String registration(Customer c){\n        String status=&quot;&quot;;\n        Transaction tx = null;\n        try {\n            SessionFactory sessionFactory = HibernateUtil.getSessionFactory();\n            Session session = sessionFactory.openSession();\n            Customer c1 = (Customer)session.get(Customer.class, c.getCno());\n            if(c1 == null){\n                tx = session.beginTransaction();\n                session.save(c);\n                tx.commit();\n                status=&quot;success&quot;;\n            }else{\n                status = &quot;existed&quot;;\n            }\n        } catch (Exception e) {\n            //tx.rollback();\n            status = &quot;failure&quot;;\n            e.printStackTrace();\n        }\n        return status;\n    }\n}\n</code></pre>\n<p>tried instantiating with different methods</p>\n"},{"tags":["java","spring-boot","kotlin","spring-webflux","kotlin-flow"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667280766,"creation_date":1667280766,"answer_id":74271901,"question_id":74270511,"body_markdown":"&gt; Is there any good reason to force a thread per request model in Kotlin?\r\n\r\nThere&#39;s no good reason not to, and it&#39;s usually easier.\r\n&gt; To force a thread per request model would all functions need to be of type suspend?\r\n\r\nNo.  You can call normal functions from suspend functions, and likely will.  Just don&#39;t block.\r\n\r\n&gt; If I follow the typical spring paradigm* are there any concerns I should have marking all functions with type flow?\r\n\r\nGenerally you should only mark functions suspend if they actually do something asynchronous, like make an RPC.","title":"Kotlin and Spring - Flow vs Suspend","body":"<blockquote>\n<p>Is there any good reason to force a thread per request model in Kotlin?</p>\n</blockquote>\n<p>There's no good reason not to, and it's usually easier.</p>\n<blockquote>\n<p>To force a thread per request model would all functions need to be of type suspend?</p>\n</blockquote>\n<p>No.  You can call normal functions from suspend functions, and likely will.  Just don't block.</p>\n<blockquote>\n<p>If I follow the typical spring paradigm* are there any concerns I should have marking all functions with type flow?</p>\n</blockquote>\n<p>Generally you should only mark functions suspend if they actually do something asynchronous, like make an RPC.</p>\n"}],"owner":{"display_name":"user19320502"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74271901,"answer_count":1,"score":0,"last_activity_date":1667280766,"creation_date":1667264839,"question_id":74270511,"body_markdown":"I am brand new to Kotlin, coming from the Java Spring world. I am looking to replicate Java functionality in Kotlin, that is the normal thread per request model. Looking at the below Kotlin example, I see that one of the methods is flow by default, and for the others they have specified suspend. I have read the docs but am still a bit confused. I have a couple questions to check my understanding:\r\n\r\n\r\n- Is there any good reason to force a thread per request model in Kotlin?\r\n- To force a thread per request model would all functions need to be of type suspend?\r\n- If I follow the typical spring paradigm* are there any concerns I should have marking all functions with type flow?\r\n\r\n*not including state in service classes\r\n\r\n\r\n\r\n```\r\n@RestController\r\nclass UserController(private val userRepository: UserRepository) {\r\n\r\n\t@GetMapping(&quot;/&quot;)\r\n\tfun findAll(): Flow&lt;User&gt; =\r\n\t\tuserRepository.findAll()\r\n\r\n\t@GetMapping(&quot;/{id}&quot;)\r\n\t**suspend** fun findOne(@PathVariable id: String): User? =\r\n\t\tuserRepository.findOne(id) ?:\r\n\t\t\tthrow CustomException(&quot;This user does not exist&quot;)\r\n\r\n\t@PostMapping(&quot;/&quot;)\r\n\t**suspend** fun save(user: User) =\r\n\t\tuserRepository.save(user)\r\n}\r\n```\r\n","title":"Kotlin and Spring - Flow vs Suspend","body":"<p>I am brand new to Kotlin, coming from the Java Spring world. I am looking to replicate Java functionality in Kotlin, that is the normal thread per request model. Looking at the below Kotlin example, I see that one of the methods is flow by default, and for the others they have specified suspend. I have read the docs but am still a bit confused. I have a couple questions to check my understanding:</p>\n<ul>\n<li>Is there any good reason to force a thread per request model in Kotlin?</li>\n<li>To force a thread per request model would all functions need to be of type suspend?</li>\n<li>If I follow the typical spring paradigm* are there any concerns I should have marking all functions with type flow?</li>\n</ul>\n<p>*not including state in service classes</p>\n<pre><code>@RestController\nclass UserController(private val userRepository: UserRepository) {\n\n    @GetMapping(&quot;/&quot;)\n    fun findAll(): Flow&lt;User&gt; =\n        userRepository.findAll()\n\n    @GetMapping(&quot;/{id}&quot;)\n    **suspend** fun findOne(@PathVariable id: String): User? =\n        userRepository.findOne(id) ?:\n            throw CustomException(&quot;This user does not exist&quot;)\n\n    @PostMapping(&quot;/&quot;)\n    **suspend** fun save(user: User) =\n        userRepository.save(user)\n}\n</code></pre>\n"},{"tags":["java","list","methods"],"comments":[{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1667217273,"post_id":74262859,"comment_id":131110490,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) - That being said, you seem to know that you access a List element with the method `BookList1.get(i)` because you do that inside your loop, why do you suddenly decide to try `BookList1[i-1]` a few lines later? The second version is simply not how Lists work in java.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> - That being said, you seem to know that you access a List element with the method <code>BookList1.get(i)</code> because you do that inside your loop, why do you suddenly decide to try <code>BookList1[i-1]</code> a few lines later? The second version is simply not how Lists work in java."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1667217729,"post_id":74262859,"comment_id":131110619,"body_markdown":"Why do you think you need the `i-1`th element? That will always be the last element of the list. Just print `max`. Also, no need for `i` and `b = BookList1.get(i)` at all; with that loop, `b` already is the book.","body":"Why do you think you need the <code>i-1</code>th element? That will always be the last element of the list. Just print <code>max</code>. Also, no need for <code>i</code> and <code>b = BookList1.get(i)</code> at all; with that loop, <code>b</code> already is the book."},{"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"score":0,"creation_date":1667217980,"post_id":74262859,"comment_id":131110699,"body_markdown":"I would suggest to look at the `Streaming Api` in java.","body":"I would suggest to look at the <code>Streaming Api</code> in java."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1667219841,"post_id":74262859,"comment_id":131111374,"body_markdown":"Use `Collections.max(BookList1, Comparator.comparing(book -&gt; book.getPrice());`... Which gives you what you want in 1 line.","body":"Use <code>Collections.max(BookList1, Comparator.comparing(book -&gt; book.getPrice());</code>... Which gives you what you want in 1 line."},{"owner":{"account_id":25000818,"reputation":657,"user_id":18861247,"display_name":"Tenobaal"},"score":0,"creation_date":1667219856,"post_id":74262859,"comment_id":131111376,"body_markdown":"Also put your code in your quetsion with ``` at the start and at the end in a seperate line. This will format your text as code.","body":"Also put your code in your quetsion with ``` at the start and at the end in a seperate line. This will format your text as code."}],"answers":[{"comments":[{"owner":{"account_id":26775213,"reputation":21,"user_id":20370979,"display_name":"SeUz75"},"score":0,"creation_date":1667235388,"post_id":74263318,"comment_id":131117281,"body_markdown":"Thanks man. That&#39;s something I didn&#39;t know.","body":"Thanks man. That&#39;s something I didn&#39;t know."}],"tags":[],"owner":{"account_id":25000818,"reputation":657,"user_id":18861247,"display_name":"Tenobaal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667219404,"creation_date":1667219404,"answer_id":74263318,"question_id":74262859,"body_markdown":"Java does not support overwriting operators, so `BookList1[i-1]` is not allowed, because `BookList1` is not an array. You need to use `BookList1.get(i-1)` to get the element on that index. In C# you are allowed to use `BookList1[i]`, because C# lists implement this operator. This was already introduced in C++, but never im Java.","title":"Specific element in a List Java","body":"<p>Java does not support overwriting operators, so <code>BookList1[i-1]</code> is not allowed, because <code>BookList1</code> is not an array. You need to use <code>BookList1.get(i-1)</code> to get the element on that index. In C# you are allowed to use <code>BookList1[i]</code>, because C# lists implement this operator. This was already introduced in C++, but never im Java.</p>\n"},{"tags":[],"owner":{"account_id":13766981,"reputation":11,"user_id":9935334,"display_name":"Sobhan Zahedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667279468,"creation_date":1667224067,"answer_id":74264256,"question_id":74262859,"body_markdown":"You can use the following approach to print most expensive:\r\n\r\n    public void getMostExpensive (List&lt;Book&gt; bookList){\r\n        Book expensive = bookList.get(0);\r\n        for (Book book : bookList) {\r\n                if(book.getPrice() &gt; expensive.getPrice())\r\n                    expensive = book;\r\n        }\r\n        System.out.println(expensive.getPrice());\r\n    }\r\n","title":"Specific element in a List Java","body":"<p>You can use the following approach to print most expensive:</p>\n<pre><code>public void getMostExpensive (List&lt;Book&gt; bookList){\n    Book expensive = bookList.get(0);\n    for (Book book : bookList) {\n            if(book.getPrice() &gt; expensive.getPrice())\n                expensive = book;\n    }\n    System.out.println(expensive.getPrice());\n}\n</code></pre>\n"}],"owner":{"account_id":26775213,"reputation":21,"user_id":20370979,"display_name":"SeUz75"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":2,"score":-1,"last_activity_date":1667279468,"creation_date":1667217105,"question_id":74262859,"body_markdown":"So I want to output the max PRICE of a List.[![My method who finds the max Price](https://i.stack.imgur.com/jNy2P.png)](https://i.stack.imgur.com/jNy2P.png)\r\n\r\n\r\n\r\nNow I need the i-1 element of the for loop to get the index and then print it as a List\r\nhow should it be ? \r\n[![enter image description here](https://i.stack.imgur.com/TAh1E.png)](https://i.stack.imgur.com/TAh1E.png)\r\n\r\nI have some exprience in C# where I think this works there but in Java it doesnt. :/","title":"Specific element in a List Java","body":"<p>So I want to output the max PRICE of a List.<a href=\"https://i.stack.imgur.com/jNy2P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jNy2P.png\" alt=\"My method who finds the max Price\" /></a></p>\n<p>Now I need the i-1 element of the for loop to get the index and then print it as a List\nhow should it be ?\n<a href=\"https://i.stack.imgur.com/TAh1E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TAh1E.png\" alt=\"enter image description here\" /></a></p>\n<p>I have some exprience in C# where I think this works there but in Java it doesnt. :/</p>\n"},{"tags":["java","android","taptargetview"],"answers":[{"tags":[],"owner":{"display_name":"user20377123"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667279278,"creation_date":1667279278,"answer_id":74271759,"question_id":74260343,"body_markdown":"There was a mismatch in the version, the following implementation works for now:\r\n\r\n    implementation &#39;com.getkeepsafe.taptargetview:taptargetview:1.13.3&#39;","title":"Unable to resolve symbol &#39;TapTargetView&#39;","body":"<p>There was a mismatch in the version, the following implementation works for now:</p>\n<pre><code>implementation 'com.getkeepsafe.taptargetview:taptargetview:1.13.3'\n</code></pre>\n"}],"owner":{"display_name":"user20377123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667279278,"creation_date":1667203668,"question_id":74260343,"body_markdown":"I am trying to implement the `TapTargetView` library from https://github.com/KeepSafe/TapTargetView\r\n\r\nI have included this dependency in my **build.gradle (Module:app)**\r\n\r\n```\r\ndependencies {\r\n  ...\r\n  implementation &#39;com.getkeepsafe.taptargetview:taptargetview:1.11.0&#39;\r\n}\r\n```\r\n\r\nBut upon implementing the code, I keep getting this error \r\n\r\n&gt; Unable to resolve symbol TapTargetView\r\n\r\n\r\nWhy is that? I&#39;ve tried using these other dependencies too:\r\n\r\n    implementation &#39;com.getkeepsafe.taptargetview:taptargetview:1.12.0&#39;\r\n    implementation &#39;com.getkeepsafe.taptargetview:taptargetview:1.13.0&#39;\r\n\r\nI still get the same error.\r\n\r\n","title":"Unable to resolve symbol &#39;TapTargetView&#39;","body":"<p>I am trying to implement the <code>TapTargetView</code> library from <a href=\"https://github.com/KeepSafe/TapTargetView\" rel=\"nofollow noreferrer\">https://github.com/KeepSafe/TapTargetView</a></p>\n<p>I have included this dependency in my <strong>build.gradle (Module:app)</strong></p>\n<pre><code>dependencies {\n  ...\n  implementation 'com.getkeepsafe.taptargetview:taptargetview:1.11.0'\n}\n</code></pre>\n<p>But upon implementing the code, I keep getting this error</p>\n<blockquote>\n<p>Unable to resolve symbol TapTargetView</p>\n</blockquote>\n<p>Why is that? I've tried using these other dependencies too:</p>\n<pre><code>implementation 'com.getkeepsafe.taptargetview:taptargetview:1.12.0'\nimplementation 'com.getkeepsafe.taptargetview:taptargetview:1.13.0'\n</code></pre>\n<p>I still get the same error.</p>\n"},{"tags":["java","unit-testing","junit"],"answers":[{"tags":[],"owner":{"account_id":5474504,"reputation":338,"user_id":8656417,"display_name":"PodGen4"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667278318,"creation_date":1667278318,"answer_id":74271673,"question_id":74230080,"body_markdown":"The runner I was using was incorrect. I changed it to use MockitoExtension and the tests ran fine.  \r\n\r\n\r\n```java \r\n\r\n@ExtendWith(MockitoExtension.class)\r\npublic class FooTest {\r\n\r\n      @Mocked\r\n      MockedObject mockedObject;\r\n\r\n      @InjectMocks\r\n      Foo underTest\r\n\r\n      @ParameterizedTest\r\n      @MethodSource(&quot;dataProvider&quot;)\r\n      public void test_ParametrizedTest(MockedInput mockedInput, Output expectedReturn) {\r\n\r\n         Output expectedReturn = Output.builder().code(enum).build();\r\n\r\n         // Given\r\n         when(mockedObject.method(mockedInput))\r\n            .thenReturn(expectedReturn);\r\n\r\n        // when \r\n        val result = underTest.method();\r\n\r\n        // then\r\n        assertEquas(enum, result.getCode())\r\n\r\n   }\r\n   \r\n   private static Stream&lt;Arguments&gt; dataProvider() {\r\n      return Stream.of(\r\n               Arguments.of(mockedInput1, Output.builder().code(CodeEnum.S1).build()),\r\n               Arguments.of(mockedInput2, Output.builder().code(CodeEnum.S2).build())\r\n      )\r\n   }\r\n\r\n```\r\n\r\n","title":"Junit @ParametrizedTest: use parameters as return values of the mocked object","body":"<p>The runner I was using was incorrect. I changed it to use MockitoExtension and the tests ran fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@ExtendWith(MockitoExtension.class)\npublic class FooTest {\n\n      @Mocked\n      MockedObject mockedObject;\n\n      @InjectMocks\n      Foo underTest\n\n      @ParameterizedTest\n      @MethodSource(&quot;dataProvider&quot;)\n      public void test_ParametrizedTest(MockedInput mockedInput, Output expectedReturn) {\n\n         Output expectedReturn = Output.builder().code(enum).build();\n\n         // Given\n         when(mockedObject.method(mockedInput))\n            .thenReturn(expectedReturn);\n\n        // when \n        val result = underTest.method();\n\n        // then\n        assertEquas(enum, result.getCode())\n\n   }\n   \n   private static Stream&lt;Arguments&gt; dataProvider() {\n      return Stream.of(\n               Arguments.of(mockedInput1, Output.builder().code(CodeEnum.S1).build()),\n               Arguments.of(mockedInput2, Output.builder().code(CodeEnum.S2).build())\n      )\n   }\n\n</code></pre>\n"}],"owner":{"account_id":5474504,"reputation":338,"user_id":8656417,"display_name":"PodGen4"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74271673,"answer_count":1,"score":0,"last_activity_date":1667278318,"creation_date":1666924646,"question_id":74230080,"body_markdown":"I am writing a ParametrizedTest in Junit. The argument for that test is from an enum source.  \r\nI want to construct an object with that enum and make the mocked method return that object.  \r\nHowever, when I try to do that, I am getting (what I think is) an irrelevant error message.\r\n\r\n```\r\norg.mockito.exceptions.misusing.InvalidUseOfMatchersException:\r\nMisplaced or misused argument matcher detected here:  \r\n\r\nYou cannot use argument matchers outside of verification or stubbing.\r\nExamples of correct usage of argument matchers:\r\nwhen(mock.get(anyInt())).thenReturn(null);\r\ndoThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());\r\nverify(mock).someMethod(contains(&quot;foo&quot;))\r\n\r\n```\r\n\r\n\r\nHere is the code:\r\n\r\n```java \r\npublic static enum CodeEnum {\r\n   S1(&quot;S1&quot;),\r\n   S2(&quot;S2)\r\n}\r\n```\r\n\r\n\r\n\r\n```java\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class FooTest {\r\n   \r\n   @Mocked\r\n   MockedObject mockedObject;\r\n   \r\n   @InjectMocks\r\n   Foo underTest\r\n\r\n   @ParameterizedTest\r\n   @EnumSource(CodeEnum.class)\r\n   public void test_ParametrizedTest(CodeEnum enum) {\r\n      \r\n      Output expectedReturn = Output.builder().code(enum).build();\r\n      \r\n      // Given\r\n      when(mockedObject.method(any()))\r\n          .thenReturn(expectedReturn);\r\n      \r\n      // when \r\n      val result = underTest.method();\r\n      \r\n      // then\r\n      assertEquas(enum, result.getCode())\r\n\r\n   }\r\n\r\n}\r\n```  \r\n\r\n\r\n\r\n\r\n\r\nI suspected that the input should be something other than `any()` so I created a method that provides data to the test and used a @MethodSource annotation.  \r\nThat method returns the arguments of the input to the mock and also expectedReturn from the mock.  \r\n\r\n```java\r\n   @RunWith(MockitoJUnitRunner.class)\r\n   public class FooTest {\r\n\r\n      @Mocked\r\n      MockedObject mockedObject;\r\n\r\n      @InjectMocks\r\n      Foo underTest\r\n\r\n      @ParameterizedTest\r\n      @MethodSource(&quot;dataProvider&quot;)\r\n      public void test_ParametrizedTest(MockedInput mockedInput, Output expectedReturn) {\r\n\r\n         Output expectedReturn = Output.builder().code(enum).build();\r\n\r\n         // Given\r\n         when(mockedObject.method(mockedInput))\r\n            .thenReturn(expectedReturn);\r\n\r\n        // when \r\n        val result = underTest.method();\r\n\r\n        // then\r\n        assertEquas(enum, result.getCode())\r\n\r\n   }\r\n   \r\n   private static Stream&lt;Arguments&gt; dataProvider() {\r\n      return Stream.of(\r\n               Arguments.of(mockedInput1, Output.builder().code(CodeEnum.S1).build()),\r\n               Arguments.of(mockedInput2, Output.builder().code(CodeEnum.S2).build())\r\n      )\r\n   }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nHow to make mocked objects return a parameter from a parametrized test?  ","title":"Junit @ParametrizedTest: use parameters as return values of the mocked object","body":"<p>I am writing a ParametrizedTest in Junit. The argument for that test is from an enum source.<br />\nI want to construct an object with that enum and make the mocked method return that object.<br />\nHowever, when I try to do that, I am getting (what I think is) an irrelevant error message.</p>\n<pre><code>org.mockito.exceptions.misusing.InvalidUseOfMatchersException:\nMisplaced or misused argument matcher detected here:  \n\nYou cannot use argument matchers outside of verification or stubbing.\nExamples of correct usage of argument matchers:\nwhen(mock.get(anyInt())).thenReturn(null);\ndoThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());\nverify(mock).someMethod(contains(&quot;foo&quot;))\n\n</code></pre>\n<p>Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static enum CodeEnum {\n   S1(&quot;S1&quot;),\n   S2(&quot;S2)\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n@RunWith(MockitoJUnitRunner.class)\npublic class FooTest {\n   \n   @Mocked\n   MockedObject mockedObject;\n   \n   @InjectMocks\n   Foo underTest\n\n   @ParameterizedTest\n   @EnumSource(CodeEnum.class)\n   public void test_ParametrizedTest(CodeEnum enum) {\n      \n      Output expectedReturn = Output.builder().code(enum).build();\n      \n      // Given\n      when(mockedObject.method(any()))\n          .thenReturn(expectedReturn);\n      \n      // when \n      val result = underTest.method();\n      \n      // then\n      assertEquas(enum, result.getCode())\n\n   }\n\n}\n</code></pre>\n<p>I suspected that the input should be something other than <code>any()</code> so I created a method that provides data to the test and used a @MethodSource annotation.<br />\nThat method returns the arguments of the input to the mock and also expectedReturn from the mock.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @RunWith(MockitoJUnitRunner.class)\n   public class FooTest {\n\n      @Mocked\n      MockedObject mockedObject;\n\n      @InjectMocks\n      Foo underTest\n\n      @ParameterizedTest\n      @MethodSource(&quot;dataProvider&quot;)\n      public void test_ParametrizedTest(MockedInput mockedInput, Output expectedReturn) {\n\n         Output expectedReturn = Output.builder().code(enum).build();\n\n         // Given\n         when(mockedObject.method(mockedInput))\n            .thenReturn(expectedReturn);\n\n        // when \n        val result = underTest.method();\n\n        // then\n        assertEquas(enum, result.getCode())\n\n   }\n   \n   private static Stream&lt;Arguments&gt; dataProvider() {\n      return Stream.of(\n               Arguments.of(mockedInput1, Output.builder().code(CodeEnum.S1).build()),\n               Arguments.of(mockedInput2, Output.builder().code(CodeEnum.S2).build())\n      )\n   }\n\n}\n\n</code></pre>\n<p>How to make mocked objects return a parameter from a parametrized test?</p>\n"},{"tags":["java","android","maven","gradle"],"answers":[{"comments":[{"owner":{"account_id":1367267,"reputation":961,"user_id":1303457,"display_name":"Arno"},"score":1,"creation_date":1616172089,"post_id":66050038,"comment_id":117928172,"body_markdown":"Thanks for the updates and links but what can we do right now to fix this? resolutionStrategies in the google link don&#39;t seem to work.","body":"Thanks for the updates and links but what can we do right now to fix this? resolutionStrategies in the google link don&#39;t seem to work."}],"tags":[],"owner":{"account_id":204861,"reputation":19673,"user_id":453314,"display_name":"Westy92"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1623099402,"creation_date":1612457157,"answer_id":66050038,"question_id":66049196,"body_markdown":"JetBrains [copied](https://youtrack.jetbrains.com/issue/IDEA-261387#focus=Comments-27-4820597.0-0) `org.jetbrains.trove4j:trove4j:20160824` to Maven Central, which resolves this error. &#127881;\r\n\r\nIf you use additional dependencies that have not yet migrated to Maven Central, you should reach out directly to them.\r\n\r\n----------\r\n\r\n\r\n**Update:** &quot;We listened to the community and will keep JCenter as a read-only repository **indefinitely**. Our customers and the community can continue to rely on JCenter as a reliable mirror for Java packages.&quot; [source](https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/)\r\n\r\n**Update:** Google is working on a fix for build tools 4.2 and maybe 4.1 as well. [source](https://issuetracker.google.com/issues/109894262#comment7)\r\n\r\n**Update:** You could try a [dependency resolve rule](https://issuetracker.google.com/issues/109894262#comment11).\r\n\r\n\r\n----------\r\n\r\n\r\nThe top-level dependency, `com.android.tools.build:gradle`, started using a newer version of `trove4j` in `7.0.0-alpha01`. ([`7.0.0-alpha12` is currently the latest.](https://mvnrepository.com/artifact/com.android.tools.build/gradle?repo=google))\r\n\r\nDependency chain:\r\n`com.android.tools.build:gradle:7.0.0-alpha01 -&gt; com.android.tools.build:builder:7.0.0-alpha01 -&gt; com.android.tools:sdk-common:27.3.0-alpha01 -&gt; org.jetbrains.intellij.deps:trove4j:1.0.20181211`\r\n\r\nHowever, this version is still in alpha and requires Android Studio 4.3+, which isn&#39;t even in Beta yet.\r\n\r\nI have filed a bug with Google here: https://issuetracker.google.com/issues/179291081","title":"Replacing jcenter() in Android Gradle Repositories","body":"<p>JetBrains <a href=\"https://youtrack.jetbrains.com/issue/IDEA-261387#focus=Comments-27-4820597.0-0\" rel=\"noreferrer\">copied</a> <code>org.jetbrains.trove4j:trove4j:20160824</code> to Maven Central, which resolves this error. </p>\n<p>If you use additional dependencies that have not yet migrated to Maven Central, you should reach out directly to them.</p>\n<hr />\n<p><strong>Update:</strong> &quot;We listened to the community and will keep JCenter as a read-only repository <strong>indefinitely</strong>. Our customers and the community can continue to rely on JCenter as a reliable mirror for Java packages.&quot; <a href=\"https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/\" rel=\"noreferrer\">source</a></p>\n<p><strong>Update:</strong> Google is working on a fix for build tools 4.2 and maybe 4.1 as well. <a href=\"https://issuetracker.google.com/issues/109894262#comment7\" rel=\"noreferrer\">source</a></p>\n<p><strong>Update:</strong> You could try a <a href=\"https://issuetracker.google.com/issues/109894262#comment11\" rel=\"noreferrer\">dependency resolve rule</a>.</p>\n<hr />\n<p>The top-level dependency, <code>com.android.tools.build:gradle</code>, started using a newer version of <code>trove4j</code> in <code>7.0.0-alpha01</code>. (<a href=\"https://mvnrepository.com/artifact/com.android.tools.build/gradle?repo=google\" rel=\"noreferrer\"><code>7.0.0-alpha12</code> is currently the latest.</a>)</p>\n<p>Dependency chain:\n<code>com.android.tools.build:gradle:7.0.0-alpha01 -&gt; com.android.tools.build:builder:7.0.0-alpha01 -&gt; com.android.tools:sdk-common:27.3.0-alpha01 -&gt; org.jetbrains.intellij.deps:trove4j:1.0.20181211</code></p>\n<p>However, this version is still in alpha and requires Android Studio 4.3+, which isn't even in Beta yet.</p>\n<p>I have filed a bug with Google here: <a href=\"https://issuetracker.google.com/issues/179291081\" rel=\"noreferrer\">https://issuetracker.google.com/issues/179291081</a></p>\n"},{"tags":[],"owner":{"account_id":6599483,"reputation":1740,"user_id":6818426,"display_name":"Faizal Shap"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667277690,"creation_date":1667277690,"answer_id":74271612,"question_id":66049196,"body_markdown":"The answer is outdated and is not useful anymore atleast as jcenter is down again with error of 403. \r\nThe most useful answer can be found here [Finally after hours of head bangs, issue resolved.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74261483/6818426\r\nUpdate `android/build.gradle`, add the following at the top in `allprojects -&gt; repositories`.\r\n\r\n    allprojects {\r\n      repositories {\r\n          all { ArtifactRepository repo -&gt;\r\n              println repo.url.toString()\r\n              if (repo.url.toString().startsWith(&quot;https://jcenter.bintray.com/&quot;)) {\r\n                  project.logger.warn &quot;Repository ${repo.url} removed.&quot;\r\n                  remove repo\r\n                  mavenCentral()\r\n              }\r\n          }\r\n          gradlePluginPortal() // add this if you get further errors \r\n          ...other repos\r\n      }\r\n    }\r\n\r\nThanks.","title":"Replacing jcenter() in Android Gradle Repositories","body":"<p>The answer is outdated and is not useful anymore atleast as jcenter is down again with error of 403.\nThe most useful answer can be found here <a href=\"https://stackoverflow.com/a/74261483/6818426\">Finally after hours of head bangs, issue resolved.</a></p>\n<p>Update <code>android/build.gradle</code>, add the following at the top in <code>allprojects -&gt; repositories</code>.</p>\n<pre><code>allprojects {\n  repositories {\n      all { ArtifactRepository repo -&gt;\n          println repo.url.toString()\n          if (repo.url.toString().startsWith(&quot;https://jcenter.bintray.com/&quot;)) {\n              project.logger.warn &quot;Repository ${repo.url} removed.&quot;\n              remove repo\n              mavenCentral()\n          }\n      }\n      gradlePluginPortal() // add this if you get further errors \n      ...other repos\n  }\n}\n</code></pre>\n<p>Thanks.</p>\n"}],"owner":{"account_id":204861,"reputation":19673,"user_id":453314,"display_name":"Westy92"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23998,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":66050038,"answer_count":2,"score":30,"last_activity_date":1667277690,"creation_date":1612454269,"question_id":66049196,"body_markdown":"Per [JFrog](https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/), they are sunsetting Bintray (which includes JCenter) on May 1st, 2021.\r\n\r\nTo prep for this, I opened my `build.gradle` and replaced `jcenter()` with `mavenCentral()`. My `build.gradle` now looks like this (with some parts removed):\r\n\r\n```gradle\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        // jcenter()\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        // ...\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        // jcenter()\r\n        mavenCentral()\r\n\r\n        maven {\r\n            url &quot;https://jitpack.io&quot;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nHowever, since replacing `jcenter()` with `mavenCentral()`, I receive this error:\r\n\r\n```gradle\r\nA problem occurred configuring root project &#39;Redacted&#39;.\r\n&gt; Could not resolve all artifacts for configuration &#39;:classpath&#39;.\r\n   &gt; Could not find org.jetbrains.trove4j:trove4j:20160824.\r\n     Searched in the following locations:\r\n       - https://dl.google.com/dl/android/maven2/org/jetbrains/trove4j/trove4j/20160824/trove4j-20160824.pom\r\n       - https://repo.maven.apache.org/maven2/org/jetbrains/trove4j/trove4j/20160824/trove4j-20160824.pom\r\n     Required by:\r\n         project : &gt; com.android.tools.build:gradle:4.1.2 &gt; com.android.tools.build:builder:4.1.2 &gt; com.android.tools:sdk-common:27.1.2\r\n\r\nPossible solution:\r\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n```\r\n\r\nIs there another repository I can add to resolve this, or does `com.android.tools:sdk-common` need to update to use a different version of `org.jetbrains.trove4j:trove4j`?\r\n\r\n**Update:** Version 4.1.3 still has the same issue.","title":"Replacing jcenter() in Android Gradle Repositories","body":"<p>Per <a href=\"https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/\" rel=\"noreferrer\">JFrog</a>, they are sunsetting Bintray (which includes JCenter) on May 1st, 2021.</p>\n<p>To prep for this, I opened my <code>build.gradle</code> and replaced <code>jcenter()</code> with <code>mavenCentral()</code>. My <code>build.gradle</code> now looks like this (with some parts removed):</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        // jcenter()\n        mavenCentral()\n    }\n\n    dependencies {\n        // ...\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        // jcenter()\n        mavenCentral()\n\n        maven {\n            url &quot;https://jitpack.io&quot;\n        }\n    }\n}\n\n</code></pre>\n<p>However, since replacing <code>jcenter()</code> with <code>mavenCentral()</code>, I receive this error:</p>\n<pre><code>A problem occurred configuring root project 'Redacted'.\n&gt; Could not resolve all artifacts for configuration ':classpath'.\n   &gt; Could not find org.jetbrains.trove4j:trove4j:20160824.\n     Searched in the following locations:\n       - https://dl.google.com/dl/android/maven2/org/jetbrains/trove4j/trove4j/20160824/trove4j-20160824.pom\n       - https://repo.maven.apache.org/maven2/org/jetbrains/trove4j/trove4j/20160824/trove4j-20160824.pom\n     Required by:\n         project : &gt; com.android.tools.build:gradle:4.1.2 &gt; com.android.tools.build:builder:4.1.2 &gt; com.android.tools:sdk-common:27.1.2\n\nPossible solution:\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n</code></pre>\n<p>Is there another repository I can add to resolve this, or does <code>com.android.tools:sdk-common</code> need to update to use a different version of <code>org.jetbrains.trove4j:trove4j</code>?</p>\n<p><strong>Update:</strong> Version 4.1.3 still has the same issue.</p>\n"},{"tags":["java","android","kotlin","shapes","mask"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1667273501,"post_id":74271121,"comment_id":131125137,"body_markdown":"I&#39;m puzzled. You appear to be asking how to do something, but showing us that it was done. What am I missing?","body":"I&#39;m puzzled. You appear to be asking how to do something, but showing us that it was done. What am I missing?"},{"owner":{"account_id":25913659,"reputation":25,"user_id":19637365,"display_name":"George Glyn"},"score":1,"creation_date":1667273707,"post_id":74271121,"comment_id":131125172,"body_markdown":"No, The above mentioned is the final output required. I need to do the above mentioned programmatically. @OldDogProgrammer","body":"No, The above mentioned is the final output required. I need to do the above mentioned programmatically. @OldDogProgrammer"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1667273740,"post_id":74271121,"comment_id":131125176,"body_markdown":"So, how was the mask created?","body":"So, how was the mask created?"},{"owner":{"account_id":25913659,"reputation":25,"user_id":19637365,"display_name":"George Glyn"},"score":0,"creation_date":1667273770,"post_id":74271121,"comment_id":131125178,"body_markdown":"@OldDogProgrammer It was actually created in photoshop","body":"@OldDogProgrammer It was actually created in photoshop"}],"answers":[{"comments":[{"owner":{"account_id":25913659,"reputation":25,"user_id":19637365,"display_name":"George Glyn"},"score":0,"creation_date":1667279741,"post_id":74271590,"comment_id":131125943,"body_markdown":"Thanks, but if I create a transparent background how can I change the background to black color","body":"Thanks, but if I create a transparent background how can I change the background to black color"},{"owner":{"account_id":16700688,"reputation":520,"user_id":12070549,"display_name":"KiluSs"},"score":0,"creation_date":1667288524,"post_id":74271590,"comment_id":131127587,"body_markdown":"Nice! Good job bro @GeorgeGlyn","body":"Nice! Good job bro @GeorgeGlyn"}],"tags":[],"owner":{"account_id":16700688,"reputation":520,"user_id":12070549,"display_name":"KiluSs"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667277424,"creation_date":1667277424,"answer_id":74271590,"question_id":74271121,"body_markdown":"You need to make a custom view which support draw line, make custom view background be transparent. Then put that view on top the ImageView in your layout. And after drawed the mask, just save the drawing bitmap create from custom view.","title":"How to Mask specific region of the image and create a black background image with masked portion as white color","body":"<p>You need to make a custom view which support draw line, make custom view background be transparent. Then put that view on top the ImageView in your layout. And after drawed the mask, just save the drawing bitmap create from custom view.</p>\n"}],"owner":{"account_id":25913659,"reputation":25,"user_id":19637365,"display_name":"George Glyn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74271590,"answer_count":1,"score":1,"last_activity_date":1667277424,"creation_date":1667272103,"question_id":74271121,"body_markdown":"I&#39;m having an image view. I have to create a mask with white color and the non masked portion should be black color and save it as an bitmap or jpg.\r\n\r\nOriginal Image\r\n[![Original Image](https://i.stack.imgur.com/LmgkR.png)](https://i.stack.imgur.com/LmgkR.png)\r\n\r\nMasked Image (Needs to create like this)\r\n[![mask image](https://i.stack.imgur.com/qELY5.png)](https://i.stack.imgur.com/qELY5.png)\r\n\r\nFrom the above original image I have to mask the dog and create it as a bitmap or png","title":"How to Mask specific region of the image and create a black background image with masked portion as white color","body":"<p>I'm having an image view. I have to create a mask with white color and the non masked portion should be black color and save it as an bitmap or jpg.</p>\n<p>Original Image\n<a href=\"https://i.stack.imgur.com/LmgkR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LmgkR.png\" alt=\"Original Image\" /></a></p>\n<p>Masked Image (Needs to create like this)\n<a href=\"https://i.stack.imgur.com/qELY5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qELY5.png\" alt=\"mask image\" /></a></p>\n<p>From the above original image I have to mask the dog and create it as a bitmap or png</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5457239,"reputation":462,"user_id":4340273,"display_name":"Vikas"},"score":0,"creation_date":1667262893,"post_id":74269271,"comment_id":131123762,"body_markdown":"Why use Horizontal scroll view outside of Recycler view","body":"Why use Horizontal scroll view outside of Recycler view"},{"owner":{"account_id":26395389,"reputation":11,"user_id":20046611,"display_name":"Abdullah Hammad"},"score":0,"creation_date":1668413688,"post_id":74269271,"comment_id":131390223,"body_markdown":"@Vikas because I got one different item to be added with recycler view.","body":"@Vikas because I got one different item to be added with recycler view."}],"answers":[{"tags":[],"owner":{"account_id":22070162,"reputation":19,"user_id":16331278,"display_name":"ratim shariar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667277295,"creation_date":1667277295,"answer_id":74271578,"question_id":74269271,"body_markdown":"try to initialize your Arraylist in the HomeFragment class like this   ArrayList&lt;StoryDataType&gt; story_list=new ArrayList();\r\nand if you are using firebase to get the data create a empty constructor in the StoryDataType class;\r\n","title":"Recycler view in Horizontal Scroll bar shows only two items","body":"<p>try to initialize your Arraylist in the HomeFragment class like this   ArrayList story_list=new ArrayList();\nand if you are using firebase to get the data create a empty constructor in the StoryDataType class;</p>\n"}],"owner":{"account_id":26395389,"reputation":11,"user_id":20046611,"display_name":"Abdullah Hammad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667277295,"creation_date":1667251638,"question_id":74269271,"body_markdown":"I am building a social media app, and I wanted to add story scroll view. The problem I am facing is my recycler view is showing only two items however I gave it 4 or more.\r\n\r\n\r\nI am using horizontal scroll view because I have a first item that says &quot;click to add story&quot; which is different than those items in recycler view. I am new in android building so any help would be appreciated,  and I checked different solutions but none were helpful. The only success I got was to increase layout-width of recycler view to 1000dp that helps in scrolling but that&#39;s not efficient. My home fragment code, where problem is occurred:\r\n\r\n```\r\n&lt;HorizontalScrollView\r\n    android:id=&quot;@+id/horizontal_story_scroll_id&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginTop=&quot;24dp&quot;\r\n\r\n\r\n    android:isScrollContainer=&quot;true&quot;\r\n    android:paddingLeft=&quot;5dp&quot;\r\n    android:scrollbarAlwaysDrawHorizontalTrack=&quot;true&quot;\r\n    android:scrollbars=&quot;none&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;120dp&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;160dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:paddingRight=&quot;5dp&quot;&gt;\r\n\r\n            &lt;com.makeramen.roundedimageview.RoundedImageView\r\n                android:id=&quot;@+id/click_add_story_img_id&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:scaleType=&quot;centerCrop&quot;\r\n                android:src=&quot;@drawable/rain_drops_bg&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:riv_border_color=&quot;#333333&quot;\r\n                app:riv_border_width=&quot;2dip&quot;\r\n                app:riv_corner_radius=&quot;20dip&quot;\r\n                app:riv_mutate_background=&quot;true&quot;\r\n                app:riv_tile_mode=&quot;repeat&quot; /&gt;\r\n\r\n\r\n            &lt;com.makeramen.roundedimageview.RoundedImageView\r\n                android:id=&quot;@+id/user_story_img_id&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:background=&quot;@color/black_shade&quot;\r\n                app:background=&quot;@color/light_red&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;@+id/click_add_story_img_id&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;@+id/click_add_story_img_id&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:riv_border_color=&quot;#333333&quot;\r\n                app:riv_border_width=&quot;2dip&quot;\r\n                app:riv_corner_radius=&quot;20dip&quot;\r\n                app:riv_mutate_background=&quot;true&quot;\r\n                app:riv_tile_mode=&quot;repeat&quot; /&gt;\r\n\r\n            &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                android:id=&quot;@+id/add_story&quot;\r\n                android:layout_width=&quot;50dp&quot;\r\n                android:layout_height=&quot;50dp&quot;\r\n\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:padding=&quot;5dp&quot;\r\n                android:src=&quot;@drawable/add_3_icon&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@+id/textView2&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/click_add_story_img_id&quot; /&gt;\r\n\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginBottom=&quot;20dp&quot;\r\n                android:fontFamily=&quot;@font/baloo_bhai&quot;\r\n                android:text=&quot;Click to add Story&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@+id/click_add_story_img_id&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/add_story&quot; /&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/story_rv_id&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n&lt;/HorizontalScrollView&gt;\r\n```\r\n\r\nMy Adapter:\r\n\r\n```\r\npackage com.assadcoorp.socialstar.Package;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.assadcoorp.socialstar.DataTypes.StoryDataType;\r\nimport com.assadcoorp.socialstar.R;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class StoryAdapter extends RecyclerView.Adapter&lt;StoryAdapter.viewHolder&gt;{\r\n    ArrayList&lt;StoryDataType&gt; list;\r\n    Context context;\r\n\r\n    public StoryAdapter(ArrayList&lt;StoryDataType&gt; list, Context context) {\r\n        this.list = list;\r\n        this.context = context;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public viewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.sample_story,parent,false);\r\n        return new viewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull viewHolder holder, int position) {\r\n        StoryDataType model=list.get(position);\r\n        holder.story_image.setImageResource(model.getStory());\r\n        holder.profile_pic.setImageResource(model.getProfile());\r\n        holder.name.setText(model.getName());\r\n        holder.live_status.setImageResource(model.getStatus());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public class viewHolder extends RecyclerView.ViewHolder{\r\n        ImageView story_image,profile_pic,live_status;\r\n        TextView name;\r\n        public viewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            story_image=itemView.findViewById(R.id.user_story_img_id);\r\n            profile_pic=itemView.findViewById(R.id.user_profile_pic_img_id);\r\n            live_status=itemView.findViewById(R.id.live_status_id);\r\n            name=itemView.findViewById(R.id.user_name_txt_id);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy database:\r\n\r\n```\r\npackage com.assadcoorp.socialstar.DataTypes;\r\n\r\npublic class StoryDataType {\r\n    int status;\r\n    String name;\r\n    int story,profile;\r\n\r\n    public int getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(int status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public int getStory() {\r\n        return story;\r\n    }\r\n\r\n    public void setStory(int story) {\r\n        this.story = story;\r\n    }\r\n\r\n    public int getProfile() {\r\n        return profile;\r\n    }\r\n\r\n    public void setProfile(int profile) {\r\n        this.profile = profile;\r\n    }\r\n\r\n    public StoryDataType(int status, String name, int story, int profile) {\r\n        this.status = status;\r\n        this.name = name;\r\n        this.story = story;\r\n        this.profile = profile;\r\n    }\r\n}\r\n```\r\n\r\nand home fragment:\r\n\r\n```\r\npackage com.assadcoorp.socialstar;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.HorizontalScrollView;\r\nimport android.widget.Toast;\r\n\r\nimport com.assadcoorp.socialstar.DataTypes.StoryDataType;\r\nimport com.assadcoorp.socialstar.Package.StoryAdapter;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class HomeFragment extends Fragment {\r\n\r\n    RecyclerView story_rv;\r\n    ArrayList&lt;StoryDataType&gt; story_list;\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view=inflater.inflate(R.layout.fragment_home, container, false);\r\n        story_rv=view.findViewById(R.id.story_rv_id);\r\n        story_list = new ArrayList&lt;&gt;();\r\n        story_list.add(new StoryDataType(R.drawable.live,&quot;Dragon&quot;,R.drawable.rain_drops_bg,R.drawable.profile_icon));\r\n        story_list.add(new StoryDataType(R.drawable.live,&quot;Dragon&quot;,R.drawable.rain_drops_bg,R.drawable.profile_icon));\r\n        story_list.add(new StoryDataType(R.drawable.live,&quot;Dragon&quot;,R.drawable.rain_drops_bg,R.drawable.profile_icon));\r\n        story_list.add(new StoryDataType(R.drawable.live,&quot;Dragon&quot;,R.drawable.rain_drops_bg,R.drawable.profile_icon));\r\n        StoryAdapter adapter=new StoryAdapter(story_list,getContext());\r\n        LinearLayoutManager linearLayoutManager=new LinearLayoutManager(getContext(),LinearLayoutManager.HORIZONTAL,false);\r\n        story_rv.setLayoutManager(linearLayoutManager);\r\n        //story_rv.setNestedScrollingEnabled(true);\r\n        story_rv.setAdapter(adapter);\r\n        return  view;\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\nand sample recycler view:\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:paddingLeft=&quot;5dp&quot;\r\n    android:paddingRight=&quot;5dp&quot;&gt;\r\n\r\n    &lt;com.makeramen.roundedimageview.RoundedImageView\r\n        android:id=&quot;@+id/user_story_img_id&quot;\r\n        android:layout_width=&quot;160dp&quot;\r\n        android:layout_height=&quot;120dp&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        android:src=&quot;@drawable/rain_drops_bg&quot;\r\n        app:background=&quot;@color/light_red&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:riv_border_color=&quot;#333333&quot;\r\n        app:riv_corner_radius=&quot;20dip&quot;\r\n        app:riv_mutate_background=&quot;true&quot;\r\n        app:riv_tile_mode=&quot;repeat&quot; /&gt;\r\n\r\n    &lt;de.hdodenhof.circleimageview.CircleImageView\r\n        android:id=&quot;@+id/user_profile_pic_img_id&quot;\r\n        android:layout_width=&quot;40dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_marginEnd=&quot;6dp&quot;\r\n\r\n        android:layout_marginBottom=&quot;70dp&quot;\r\n        android:padding=&quot;5dp&quot;\r\n        android:src=&quot;@drawable/profile_icon&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/user_story_img_id&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/user_story_img_id&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/user_story_img_id&quot; /&gt;\r\n\r\n    &lt;View\r\n        android:id=&quot;@+id/user_profile_pic_ring_id&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:background=&quot;@drawable/circle_4&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/user_profile_pic_img_id&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/user_profile_pic_img_id&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/user_profile_pic_img_id&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/user_profile_pic_img_id&quot;\r\n        app:layout_constraintVertical_bias=&quot;1.0&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/live_status_id&quot;\r\n        android:layout_width=&quot;50dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_marginStart=&quot;4dp&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/user_story_img_id&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/user_story_img_id&quot;\r\n        app:srcCompat=&quot;@drawable/live&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/user_name_txt_id&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;8dp&quot;\r\n        android:background=&quot;@color/light_black_shade&quot;\r\n        android:text=&quot;TextView&quot;\r\n        android:textColor=&quot;#FFFFFF&quot;\r\n        android:textSize=&quot;18dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/user_story_img_id&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/user_story_img_id&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```","title":"Recycler view in Horizontal Scroll bar shows only two items","body":"<p>I am building a social media app, and I wanted to add story scroll view. The problem I am facing is my recycler view is showing only two items however I gave it 4 or more.</p>\n<p>I am using horizontal scroll view because I have a first item that says &quot;click to add story&quot; which is different than those items in recycler view. I am new in android building so any help would be appreciated,  and I checked different solutions but none were helpful. The only success I got was to increase layout-width of recycler view to 1000dp that helps in scrolling but that's not efficient. My home fragment code, where problem is occurred:</p>\n<pre><code>&lt;HorizontalScrollView\n    android:id=&quot;@+id/horizontal_story_scroll_id&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;24dp&quot;\n\n\n    android:isScrollContainer=&quot;true&quot;\n    android:paddingLeft=&quot;5dp&quot;\n    android:scrollbarAlwaysDrawHorizontalTrack=&quot;true&quot;\n    android:scrollbars=&quot;none&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;120dp&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;160dp&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:paddingRight=&quot;5dp&quot;&gt;\n\n            &lt;com.makeramen.roundedimageview.RoundedImageView\n                android:id=&quot;@+id/click_add_story_img_id&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;0dp&quot;\n                android:scaleType=&quot;centerCrop&quot;\n                android:src=&quot;@drawable/rain_drops_bg&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:riv_border_color=&quot;#333333&quot;\n                app:riv_border_width=&quot;2dip&quot;\n                app:riv_corner_radius=&quot;20dip&quot;\n                app:riv_mutate_background=&quot;true&quot;\n                app:riv_tile_mode=&quot;repeat&quot; /&gt;\n\n\n            &lt;com.makeramen.roundedimageview.RoundedImageView\n                android:id=&quot;@+id/user_story_img_id&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;0dp&quot;\n                android:background=&quot;@color/black_shade&quot;\n                app:background=&quot;@color/light_red&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/click_add_story_img_id&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/click_add_story_img_id&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:riv_border_color=&quot;#333333&quot;\n                app:riv_border_width=&quot;2dip&quot;\n                app:riv_corner_radius=&quot;20dip&quot;\n                app:riv_mutate_background=&quot;true&quot;\n                app:riv_tile_mode=&quot;repeat&quot; /&gt;\n\n            &lt;de.hdodenhof.circleimageview.CircleImageView\n                android:id=&quot;@+id/add_story&quot;\n                android:layout_width=&quot;50dp&quot;\n                android:layout_height=&quot;50dp&quot;\n\n                android:layout_marginTop=&quot;16dp&quot;\n                android:padding=&quot;5dp&quot;\n                android:src=&quot;@drawable/add_3_icon&quot;\n                app:layout_constraintBottom_toTopOf=&quot;@+id/textView2&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/click_add_story_img_id&quot; /&gt;\n\n\n            &lt;TextView\n                android:id=&quot;@+id/textView2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginBottom=&quot;20dp&quot;\n                android:fontFamily=&quot;@font/baloo_bhai&quot;\n                android:text=&quot;Click to add Story&quot;\n                android:textColor=&quot;@color/white&quot;\n                app:layout_constraintBottom_toTopOf=&quot;@+id/click_add_story_img_id&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/add_story&quot; /&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/story_rv_id&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/HorizontalScrollView&gt;\n</code></pre>\n<p>My Adapter:</p>\n<pre><code>package com.assadcoorp.socialstar.Package;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.assadcoorp.socialstar.DataTypes.StoryDataType;\nimport com.assadcoorp.socialstar.R;\n\nimport java.util.ArrayList;\n\npublic class StoryAdapter extends RecyclerView.Adapter&lt;StoryAdapter.viewHolder&gt;{\n    ArrayList&lt;StoryDataType&gt; list;\n    Context context;\n\n    public StoryAdapter(ArrayList&lt;StoryDataType&gt; list, Context context) {\n        this.list = list;\n        this.context = context;\n    }\n\n\n    @NonNull\n    @Override\n    public viewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.sample_story,parent,false);\n        return new viewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull viewHolder holder, int position) {\n        StoryDataType model=list.get(position);\n        holder.story_image.setImageResource(model.getStory());\n        holder.profile_pic.setImageResource(model.getProfile());\n        holder.name.setText(model.getName());\n        holder.live_status.setImageResource(model.getStatus());\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public class viewHolder extends RecyclerView.ViewHolder{\n        ImageView story_image,profile_pic,live_status;\n        TextView name;\n        public viewHolder(@NonNull View itemView) {\n            super(itemView);\n            story_image=itemView.findViewById(R.id.user_story_img_id);\n            profile_pic=itemView.findViewById(R.id.user_profile_pic_img_id);\n            live_status=itemView.findViewById(R.id.live_status_id);\n            name=itemView.findViewById(R.id.user_name_txt_id);\n        }\n    }\n}\n</code></pre>\n<p>My database:</p>\n<pre><code>package com.assadcoorp.socialstar.DataTypes;\n\npublic class StoryDataType {\n    int status;\n    String name;\n    int story,profile;\n\n    public int getStatus() {\n        return status;\n    }\n\n    public void setStatus(int status) {\n        this.status = status;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getStory() {\n        return story;\n    }\n\n    public void setStory(int story) {\n        this.story = story;\n    }\n\n    public int getProfile() {\n        return profile;\n    }\n\n    public void setProfile(int profile) {\n        this.profile = profile;\n    }\n\n    public StoryDataType(int status, String name, int story, int profile) {\n        this.status = status;\n        this.name = name;\n        this.story = story;\n        this.profile = profile;\n    }\n}\n</code></pre>\n<p>and home fragment:</p>\n<pre><code>package com.assadcoorp.socialstar;\n\nimport android.os.Bundle;\n\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.HorizontalScrollView;\nimport android.widget.Toast;\n\nimport com.assadcoorp.socialstar.DataTypes.StoryDataType;\nimport com.assadcoorp.socialstar.Package.StoryAdapter;\n\nimport java.util.ArrayList;\n\npublic class HomeFragment extends Fragment {\n\n    RecyclerView story_rv;\n    ArrayList&lt;StoryDataType&gt; story_list;\n    public HomeFragment() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view=inflater.inflate(R.layout.fragment_home, container, false);\n        story_rv=view.findViewById(R.id.story_rv_id);\n        story_list = new ArrayList&lt;&gt;();\n        story_list.add(new StoryDataType(R.drawable.live,&quot;Dragon&quot;,R.drawable.rain_drops_bg,R.drawable.profile_icon));\n        story_list.add(new StoryDataType(R.drawable.live,&quot;Dragon&quot;,R.drawable.rain_drops_bg,R.drawable.profile_icon));\n        story_list.add(new StoryDataType(R.drawable.live,&quot;Dragon&quot;,R.drawable.rain_drops_bg,R.drawable.profile_icon));\n        story_list.add(new StoryDataType(R.drawable.live,&quot;Dragon&quot;,R.drawable.rain_drops_bg,R.drawable.profile_icon));\n        StoryAdapter adapter=new StoryAdapter(story_list,getContext());\n        LinearLayoutManager linearLayoutManager=new LinearLayoutManager(getContext(),LinearLayoutManager.HORIZONTAL,false);\n        story_rv.setLayoutManager(linearLayoutManager);\n        //story_rv.setNestedScrollingEnabled(true);\n        story_rv.setAdapter(adapter);\n        return  view;\n    }\n}\n\n\n\n</code></pre>\n<p>and sample recycler view:</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:paddingLeft=&quot;5dp&quot;\n    android:paddingRight=&quot;5dp&quot;&gt;\n\n    &lt;com.makeramen.roundedimageview.RoundedImageView\n        android:id=&quot;@+id/user_story_img_id&quot;\n        android:layout_width=&quot;160dp&quot;\n        android:layout_height=&quot;120dp&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        android:src=&quot;@drawable/rain_drops_bg&quot;\n        app:background=&quot;@color/light_red&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:riv_border_color=&quot;#333333&quot;\n        app:riv_corner_radius=&quot;20dip&quot;\n        app:riv_mutate_background=&quot;true&quot;\n        app:riv_tile_mode=&quot;repeat&quot; /&gt;\n\n    &lt;de.hdodenhof.circleimageview.CircleImageView\n        android:id=&quot;@+id/user_profile_pic_img_id&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_marginEnd=&quot;6dp&quot;\n\n        android:layout_marginBottom=&quot;70dp&quot;\n        android:padding=&quot;5dp&quot;\n        android:src=&quot;@drawable/profile_icon&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/user_story_img_id&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/user_story_img_id&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/user_story_img_id&quot; /&gt;\n\n    &lt;View\n        android:id=&quot;@+id/user_profile_pic_ring_id&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:background=&quot;@drawable/circle_4&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/user_profile_pic_img_id&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/user_profile_pic_img_id&quot;\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/user_profile_pic_img_id&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/user_profile_pic_img_id&quot;\n        app:layout_constraintVertical_bias=&quot;1.0&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/live_status_id&quot;\n        android:layout_width=&quot;50dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_marginStart=&quot;4dp&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/user_story_img_id&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/user_story_img_id&quot;\n        app:srcCompat=&quot;@drawable/live&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/user_name_txt_id&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;8dp&quot;\n        android:background=&quot;@color/light_black_shade&quot;\n        android:text=&quot;TextView&quot;\n        android:textColor=&quot;#FFFFFF&quot;\n        android:textSize=&quot;18dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/user_story_img_id&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/user_story_img_id&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","regex","scala","overriding","extend"],"comments":[{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":0,"creation_date":1667271272,"post_id":74270035,"comment_id":131124875,"body_markdown":"Does this answer your question? [Scala class extends Java class](https://stackoverflow.com/questions/74269318/scala-class-extends-java-class)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74269318/scala-class-extends-java-class\">Scala class extends Java class</a>"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1667272169,"post_id":74270035,"comment_id":131124991,"body_markdown":"@LeviRamsey Isn&#39;t the question different?","body":"@LeviRamsey Isn&#39;t the question different?"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1667275197,"post_id":74270035,"comment_id":131125342,"body_markdown":"@AliDavoodiMoghadam *&quot;I&#39;m also not allowed to pass the override regex through the constructor&quot;* Why?","body":"@AliDavoodiMoghadam <i>&quot;I&#39;m also not allowed to pass the override regex through the constructor&quot;</i> Why?"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1667340019,"post_id":74270035,"comment_id":131143685,"body_markdown":"Cross-published at https://www.reddit.com/r/scala/comments/yistel/scala_overriding_java_fields_and_members/","body":"Cross-published at <a href=\"https://www.reddit.com/r/scala/comments/yistel/scala_overriding_java_fields_and_members/\" rel=\"nofollow noreferrer\">reddit.com/r/scala/comments/yistel/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667274083,"creation_date":1667273735,"answer_id":74271266,"question_id":74270035,"body_markdown":"See https://stackoverflow.com/questions/23093470/java-order-of-initialization-and-instantiation\r\n\r\nThe constructor is executed at the step 3\r\n\r\n&gt; 3. This constructor does not begin with an explicit constructor invocation of another constructor in the same class (using `this`). If this constructor is for a class other than `Object`, then this constructor will begin with an explicit or implicit invocation of a superclass constructor (using `super`). Evaluate the arguments and process that superclass constructor invocation recursively using these same five steps. If that constructor invocation completes abruptly, then this procedure completes abruptly for the same reason. Otherwise, continue with step 4.\r\n\r\nAnd an instance field is initialized at the step 4\r\n\r\n&gt; 4. Execute the instance initializers and instance variable initializers for this class, assigning the values of instance variable initializers to the corresponding instance variables, in the left-to-right order in which they appear textually in the source code for the class. If execution of any of these initializers results in an exception, then no further initializers are processed and this procedure completes abruptly with that same exception. Otherwise, continue with step 5.\r\n\r\nSo at the step 3 in the line `this.pattern = Pattern.compile(getRegex())` inside the constructor of `A`, `getRegex()` returns `regex`, which is `null` at the moment (`regex` will become `&quot;folder1/folder2/folder3/.*&quot;` later, at the step 4).","title":"Scala overriding Java fields and members","body":"<p>See <a href=\"https://stackoverflow.com/questions/23093470/java-order-of-initialization-and-instantiation\">Java order of Initialization and Instantiation</a></p>\n<p>The constructor is executed at the step 3</p>\n<blockquote>\n<ol start=\"3\">\n<li>This constructor does not begin with an explicit constructor invocation of another constructor in the same class (using <code>this</code>). If this constructor is for a class other than <code>Object</code>, then this constructor will begin with an explicit or implicit invocation of a superclass constructor (using <code>super</code>). Evaluate the arguments and process that superclass constructor invocation recursively using these same five steps. If that constructor invocation completes abruptly, then this procedure completes abruptly for the same reason. Otherwise, continue with step 4.</li>\n</ol>\n</blockquote>\n<p>And an instance field is initialized at the step 4</p>\n<blockquote>\n<ol start=\"4\">\n<li>Execute the instance initializers and instance variable initializers for this class, assigning the values of instance variable initializers to the corresponding instance variables, in the left-to-right order in which they appear textually in the source code for the class. If execution of any of these initializers results in an exception, then no further initializers are processed and this procedure completes abruptly with that same exception. Otherwise, continue with step 5.</li>\n</ol>\n</blockquote>\n<p>So at the step 3 in the line <code>this.pattern = Pattern.compile(getRegex())</code> inside the constructor of <code>A</code>, <code>getRegex()</code> returns <code>regex</code>, which is <code>null</code> at the moment (<code>regex</code> will become <code>&quot;folder1/folder2/folder3/.*&quot;</code> later, at the step 4).</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667277289,"creation_date":1667277289,"answer_id":74271577,"question_id":74270035,"body_markdown":"This has nothing to do with scala specifically.\r\n\r\nThe `regex` instance variable you create in class `B` is initialized at some point. Unfortunately, that point is _after_ `A`&#39;s constructor runs.\r\n\r\nIn general, when a constuctor in `Parent` invokes an instance method that is overridden in `Child`, all heck breaks loose. Doesn&#39;t matter if it&#39;s all java, all scala, or a combination of the two.\r\n\r\nThere are a few solutions. The simplest is to simply get rid of that field. If the `getRegex()` method instead is written as `return &quot;folder4/.*&quot;` instead of `return regex`, this problem won&#39;t occur.\r\n","title":"Scala overriding Java fields and members","body":"<p>This has nothing to do with scala specifically.</p>\n<p>The <code>regex</code> instance variable you create in class <code>B</code> is initialized at some point. Unfortunately, that point is <em>after</em> <code>A</code>'s constructor runs.</p>\n<p>In general, when a constuctor in <code>Parent</code> invokes an instance method that is overridden in <code>Child</code>, all heck breaks loose. Doesn't matter if it's all java, all scala, or a combination of the two.</p>\n<p>There are a few solutions. The simplest is to simply get rid of that field. If the <code>getRegex()</code> method instead is written as <code>return &quot;folder4/.*&quot;</code> instead of <code>return regex</code>, this problem won't occur.</p>\n"}],"owner":{"account_id":24999373,"reputation":117,"user_id":18859913,"display_name":"Good Panic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667277289,"creation_date":1667258577,"question_id":74270035,"body_markdown":"I&#39;m trying to extend the class ```A``` which is written in Java to class ```B``` in Scala. \r\n\r\n```\r\nclass A { \r\n    private Pattern pattern;\r\n    private String regex= &quot;folder1/folder2/folder3/.*&quot;;\r\n    A(...){\r\n       this.regex = regex;\r\n       this.pattern = Pattern.compile(getRegex());\r\n    }\r\n    \r\n    \r\n    public String getRegex() {\r\n        return regex;\r\n    }\r\n}\r\n\r\nclass B(...) extends A(...) {\r\n    val regex: String= &quot;folder4/.*&quot;;\r\n    \r\n    override def getRegex(): String = {\r\n        return regex;\r\n    }\r\n}\r\n```\r\n\r\nHowever it seems that the ```Pattern.compile(getRegex())``` is getting ```null``` value from the ```B``` class. I&#39;m also not allowed to pass the override regex through the constructor. Not sure how I can resolve this issue. ","title":"Scala overriding Java fields and members","body":"<p>I'm trying to extend the class <code>A</code> which is written in Java to class <code>B</code> in Scala.</p>\n<pre><code>class A { \n    private Pattern pattern;\n    private String regex= &quot;folder1/folder2/folder3/.*&quot;;\n    A(...){\n       this.regex = regex;\n       this.pattern = Pattern.compile(getRegex());\n    }\n    \n    \n    public String getRegex() {\n        return regex;\n    }\n}\n\nclass B(...) extends A(...) {\n    val regex: String= &quot;folder4/.*&quot;;\n    \n    override def getRegex(): String = {\n        return regex;\n    }\n}\n</code></pre>\n<p>However it seems that the <code>Pattern.compile(getRegex())</code> is getting <code>null</code> value from the <code>B</code> class. I'm also not allowed to pass the override regex through the constructor. Not sure how I can resolve this issue.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1667058946,"post_id":74246677,"comment_id":131083181,"body_markdown":"Are you using an AMD graphics card? If so [this post (`community.amd.com`)](https://community.amd.com/t5/drivers-software/amd-driver-conflicts-with-java-and-causes-crash-atio6axx-dll/td-p/193499) might be related.","body":"Are you using an AMD graphics card? If so <a href=\"https://community.amd.com/t5/drivers-software/amd-driver-conflicts-with-java-and-causes-crash-atio6axx-dll/td-p/193499\" rel=\"nofollow noreferrer\">this post (<code>community.amd.com</code>)</a> might be related."},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":3,"creation_date":1667058957,"post_id":74246677,"comment_id":131083185,"body_markdown":"In general these things are difficult to track down.  The JVM has crashed when calling native code.  So it&#39;s possible that either the JVM is calling the native code wrong or that there is a bug in, for example, a recently updated driver on your machine.  I&#39;d start with getting the newest Temurin JDK (17.0.5+8 as of this writing) to see if it helps.  Then I&#39;d update everything you can on the machine.  The frustrating part is that it may or may not help.","body":"In general these things are difficult to track down.  The JVM has crashed when calling native code.  So it&#39;s possible that either the JVM is calling the native code wrong or that there is a bug in, for example, a recently updated driver on your machine.  I&#39;d start with getting the newest Temurin JDK (17.0.5+8 as of this writing) to see if it helps.  Then I&#39;d update everything you can on the machine.  The frustrating part is that it may or may not help."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1667065375,"post_id":74246677,"comment_id":131084582,"body_markdown":"Might be useful to add the `windows` tag given that yours and the referenced question also have that in common.","body":"Might be useful to add the <code>windows</code> tag given that yours and the referenced question also have that in common."},{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1667226889,"post_id":74246677,"comment_id":131114096,"body_markdown":"Did you have a look at the contents of `C:\\Users\\Name\\Desktop\\SurvivalSnacks\\run\\hs_err_pid18248.log`?","body":"Did you have a look at the contents of <code>C:\\Users\\Name\\Desktop\\SurvivalSnacks\\run\\hs_err_pid18248.log</code>&zwnj;&#8203;?"}],"answers":[{"tags":[],"owner":{"account_id":23507466,"reputation":11,"user_id":17556509,"display_name":"PhantomFoamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667276494,"creation_date":1667276494,"answer_id":74271512,"question_id":74246677,"body_markdown":"I fixed the problem by going to my graphics card company and downloading a version from before the error started happening. Just rolling back didnt work because rolling back only let me go back one version, I had to go back to an update from 5 months ago.","title":"Strange JVM Crash","body":"<p>I fixed the problem by going to my graphics card company and downloading a version from before the error started happening. Just rolling back didnt work because rolling back only let me go back one version, I had to go back to an update from 5 months ago.</p>\n"}],"owner":{"account_id":23507466,"reputation":11,"user_id":17556509,"display_name":"PhantomFoamy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74271512,"answer_count":1,"score":-2,"last_activity_date":1667276494,"creation_date":1667058530,"question_id":74246677,"body_markdown":"A while ago I opened up my computer to work on a Minecraft mod I had been working on, but instead of running like normal, I got this exception:\r\n\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffbb88537e0, pid=18248, tid=9400\r\n#\r\n# JRE version: OpenJDK Runtime Environment Temurin-17.0.4.1+1 (17.0.4.1+1) (build 17.0.4.1+1)\r\n# Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.4.1+1 (17.0.4.1+1, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\r\n# Problematic frame:\r\n# C  [atio6axx.dll+0x1937e0]\r\n#\r\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n#\r\n# An error report file with more information is saved as:\r\n# C:\\Users\\Name\\Desktop\\SurvivalSnacks\\run\\hs_err_pid18248.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://github.com/adoptium/adoptium-support/issues\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n# See problematic frame for where to report the bug.\r\n#\r\n```\r\nAfter trying to find out what was happening for a few hours, I realized it wasn&#39;t a problem with my code. I tried running other java programs I had made. A simple Hello World program worked, but my LWJGL game crashed with the same exception, and any program that I used file IO crashed with File Not Found. The IO program also worked for other people that were working on the same project through GitHub.\r\n\r\nThe log from IntelliJ is too long to post in the question, so I used some website that posts text: https://jpst.it/2-biQ\r\n \r\nSome things I tried:\r\nReinstalling IntelliJ\r\nReinstalling JDK\r\nRunning IntelliJ as admin\r\nFactory Resetting my PC\r\n\r\nAll of the above things resulted in the same error\r\n\r\nI also found this Stack overflow with a very similar problem to mine, but the solution did not work for me.\r\nhttps://stackoverflow.com/questions/25406681/jvm-crash-exception-access-violation\r\n","title":"Strange JVM Crash","body":"<p>A while ago I opened up my computer to work on a Minecraft mod I had been working on, but instead of running like normal, I got this exception:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffbb88537e0, pid=18248, tid=9400\n#\n# JRE version: OpenJDK Runtime Environment Temurin-17.0.4.1+1 (17.0.4.1+1) (build 17.0.4.1+1)\n# Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.4.1+1 (17.0.4.1+1, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\n# Problematic frame:\n# C  [atio6axx.dll+0x1937e0]\n#\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n#\n# An error report file with more information is saved as:\n# C:\\Users\\Name\\Desktop\\SurvivalSnacks\\run\\hs_err_pid18248.log\n#\n# If you would like to submit a bug report, please visit:\n#   https://github.com/adoptium/adoptium-support/issues\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n</code></pre>\n<p>After trying to find out what was happening for a few hours, I realized it wasn't a problem with my code. I tried running other java programs I had made. A simple Hello World program worked, but my LWJGL game crashed with the same exception, and any program that I used file IO crashed with File Not Found. The IO program also worked for other people that were working on the same project through GitHub.</p>\n<p>The log from IntelliJ is too long to post in the question, so I used some website that posts text: <a href=\"https://jpst.it/2-biQ\" rel=\"nofollow noreferrer\">https://jpst.it/2-biQ</a></p>\n<p>Some things I tried:\nReinstalling IntelliJ\nReinstalling JDK\nRunning IntelliJ as admin\nFactory Resetting my PC</p>\n<p>All of the above things resulted in the same error</p>\n<p>I also found this Stack overflow with a very similar problem to mine, but the solution did not work for me.\n<a href=\"https://stackoverflow.com/questions/25406681/jvm-crash-exception-access-violation\">JVM Crash - &quot;EXCEPTION_ACCESS_VIOLATION&quot;</a></p>\n"},{"tags":["java","css-selectors","html-parsing","jsoup"],"answers":[{"comments":[{"owner":{"account_id":2022237,"reputation":297,"user_id":1808121,"accept_rate":59,"display_name":"Soul Slayer"},"score":0,"creation_date":1379236210,"post_id":18810664,"comment_id":27743201,"body_markdown":"That will give me `p`. What about checking the `class`? Thanks!","body":"That will give me <code>p</code>. What about checking the <code>class</code>? Thanks!"},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1379236466,"post_id":18810664,"comment_id":27743256,"body_markdown":"@SoulSlayer: Just a little further up on the same API page.","body":"@SoulSlayer: Just a little further up on the same API page."}],"tags":[],"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1379236457,"creation_date":1379235704,"answer_id":18810664,"question_id":18810648,"body_markdown":"Use [`Element#getTagName`][1], which gives you the name of the tag for that element. That same API page also gives you [`Element#classNames`][2] and a couple of other ways to look at the `class` attribute.\r\n\r\n\r\n  [1]: http://jsoup.org/apidocs/org/jsoup/nodes/Element.html#tagName%28%29\r\n  [2]: http://jsoup.org/apidocs/org/jsoup/nodes/Element.html#classNames%28%29","title":"How to check the type of an HTML element using jsoup","body":"<p>Use <a href=\"http://jsoup.org/apidocs/org/jsoup/nodes/Element.html#tagName%28%29\" rel=\"nofollow\"><code>Element#getTagName</code></a>, which gives you the name of the tag for that element. That same API page also gives you <a href=\"http://jsoup.org/apidocs/org/jsoup/nodes/Element.html#classNames%28%29\" rel=\"nofollow\"><code>Element#classNames</code></a> and a couple of other ways to look at the <code>class</code> attribute.</p>\n"},{"tags":[],"owner":{"account_id":20342398,"reputation":155,"user_id":14921272,"display_name":"Cole Henrich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667276164,"creation_date":1667276164,"answer_id":74271482,"question_id":18810648,"body_markdown":"The accepted answer answers the original post fine. \r\n\r\nBut to answer\r\n&quot;That will give me p. What about checking the class? Thanks! &quot;\r\n\r\nThe answer would be `e.className()` where `e` is some `Element`.","title":"How to check the type of an HTML element using jsoup","body":"<p>The accepted answer answers the original post fine.</p>\n<p>But to answer\n&quot;That will give me p. What about checking the class? Thanks! &quot;</p>\n<p>The answer would be <code>e.className()</code> where <code>e</code> is some <code>Element</code>.</p>\n"}],"owner":{"account_id":2022237,"reputation":297,"user_id":1808121,"accept_rate":59,"display_name":"Soul Slayer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4126,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":18810664,"answer_count":2,"score":0,"last_activity_date":1667276164,"creation_date":1379235565,"question_id":18810648,"body_markdown":"Given a HTML code snippet,\r\n\r\n    &lt;div align=&quot;right&quot;&gt;...&lt;div&gt;\r\n    &lt;p class=&quot;text2&quot;&gt;abc&lt;/p&gt;\r\n\r\nI have used jsoup to fetch all elements with their attribute, `align` set to `right`. Now I want to select the next sibling which i do using, `el.nextElementSibling()`\r\n\r\nHow do I verify that the next element is a `p` HTML element with a class of `text2`? I am new to jsoup and I am learning as I code. Any help would be appreciated! Thanks!","title":"How to check the type of an HTML element using jsoup","body":"<p>Given a HTML code snippet,</p>\n\n<pre><code>&lt;div align=\"right\"&gt;...&lt;div&gt;\n&lt;p class=\"text2\"&gt;abc&lt;/p&gt;\n</code></pre>\n\n<p>I have used jsoup to fetch all elements with their attribute, <code>align</code> set to <code>right</code>. Now I want to select the next sibling which i do using, <code>el.nextElementSibling()</code></p>\n\n<p>How do I verify that the next element is a <code>p</code> HTML element with a class of <code>text2</code>? I am new to jsoup and I am learning as I code. Any help would be appreciated! Thanks!</p>\n"},{"tags":["java","android","flutter","mobile","flutter-dependencies"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665673362,"post_id":74057419,"comment_id":130758949,"body_markdown":"That&#39;s an odd error, the FlutterLocationService.kt and the MethodCallHandlerImpl.java sit right next to each other in the same folder: https://github.com/Lyokone/flutterlocation/tree/d00c096953c9442a86e35f2c3611cd83022aca9b/packages/location/android/src/main/java/com/lyokone/location - could it be that your build somehow doesn&#39;t support kotlin?","body":"That&#39;s an odd error, the FlutterLocationService.kt and the MethodCallHandlerImpl.java sit right next to each other in the same folder: <a href=\"https://github.com/Lyokone/flutterlocation/tree/d00c096953c9442a86e35f2c3611cd83022aca9b/packages/location/android/src/main/java/com/lyokone/location\" rel=\"nofollow noreferrer\">github.com/Lyokone/flutterlocation/tree/&hellip;</a> - could it be that your build somehow doesn&#39;t support kotlin?"},{"owner":{"display_name":"user6337937"},"score":0,"creation_date":1665677257,"post_id":74057419,"comment_id":130760496,"body_markdown":"@zapl I don&#39;t think so. I installed kotlin either way but it doesn&#39;t seem to make a difference. The folder structure is also the same.","body":"@zapl I don&#39;t think so. I installed kotlin either way but it doesn&#39;t seem to make a difference. The folder structure is also the same."}],"answers":[{"tags":[],"owner":{"account_id":23194353,"reputation":41,"user_id":17290208,"display_name":"Katelyn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667275979,"creation_date":1666962060,"answer_id":74235810,"question_id":74057419,"body_markdown":"I had the same error, so I fixed it with this command in the terminal.\r\n\r\n```\r\nflutter clean  \r\nflutter pub get\r\n```","title":"Why are Java classes of a specific Flutter package not being found when executing flutter run","body":"<p>I had the same error, so I fixed it with this command in the terminal.</p>\n<pre><code>flutter clean  \nflutter pub get\n</code></pre>\n"}],"owner":{"display_name":"user6337937"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667275979,"creation_date":1665670994,"question_id":74057419,"body_markdown":"I am trying to execute a Flutter project locally as I have connected my mobile device with my laptop. When I do `flutter run` it runs for a while and then it crashes with the following\r\n```\r\n/.pub-cache/hosted/pub.dartlang.org/location-4.4.0/android/src/main/java/com/lyokone/location/MethodCallHandlerImpl.java:21: error: cannot find\r\nsymbol\r\n[        ]     private FlutterLocationService locationService;\r\n[        ]             ^\r\n[        ]   symbol:   class FlutterLocationService\r\n[        ]   location: class MethodCallHandlerImpl\r\n```\r\nThis is a repeated problem with almost all the other classes in the location-4.4.0 folder. I have tried deleting the folder and reinstalling the project packages and dependencies, I have tried running the command on VSCode and on terminal but in both cases the same error appears and I have also tried playing around with the cache and pub-cache of flutter and still it hasn&#39;t fixed the issue as it keeps getting reproduced.\r\n","title":"Why are Java classes of a specific Flutter package not being found when executing flutter run","body":"<p>I am trying to execute a Flutter project locally as I have connected my mobile device with my laptop. When I do <code>flutter run</code> it runs for a while and then it crashes with the following</p>\n<pre><code>/.pub-cache/hosted/pub.dartlang.org/location-4.4.0/android/src/main/java/com/lyokone/location/MethodCallHandlerImpl.java:21: error: cannot find\nsymbol\n[        ]     private FlutterLocationService locationService;\n[        ]             ^\n[        ]   symbol:   class FlutterLocationService\n[        ]   location: class MethodCallHandlerImpl\n</code></pre>\n<p>This is a repeated problem with almost all the other classes in the location-4.4.0 folder. I have tried deleting the folder and reinstalling the project packages and dependencies, I have tried running the command on VSCode and on terminal but in both cases the same error appears and I have also tried playing around with the cache and pub-cache of flutter and still it hasn't fixed the issue as it keeps getting reproduced.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":1208913,"reputation":309,"user_id":1177850,"display_name":"mascha"},"score":1,"creation_date":1531210861,"post_id":51260101,"comment_id":89498862,"body_markdown":"Did you try the latest version 0.11.0 too? Did you try the old mechanism of including the plugin? Did you double check that the new mechanism of adding plugins apply to your project setup? Please see the &quot;About the new plugin mechanism&quot; section on the plugin page https://plugins.gradle.org/plugin/io.codearte.nexus-staging#new-plugin-mechanism-info","body":"Did you try the latest version 0.11.0 too? Did you try the old mechanism of including the plugin? Did you double check that the new mechanism of adding plugins apply to your project setup? Please see the &quot;About the new plugin mechanism&quot; section on the plugin page <a href=\"https://plugins.gradle.org/plugin/io.codearte.nexus-staging#new-plugin-mechanism-info\" rel=\"nofollow noreferrer\">plugins.gradle.org/plugin/&hellip;</a>"},{"owner":{"account_id":362950,"reputation":9814,"user_id":706421,"accept_rate":58,"display_name":"Dustin Oprea"},"score":0,"creation_date":1531212672,"post_id":51260101,"comment_id":89499891,"body_markdown":"Actually, the old syntax worked. Any idea why the new one didn&#39;t? It seemed like the usage was simple-enough that there wouldn&#39;t have been any complications.","body":"Actually, the old syntax worked. Any idea why the new one didn&#39;t? It seemed like the usage was simple-enough that there wouldn&#39;t have been any complications."},{"owner":{"account_id":1208913,"reputation":309,"user_id":1177850,"display_name":"mascha"},"score":0,"creation_date":1531214339,"post_id":51260101,"comment_id":89500915,"body_markdown":"This depends on your project setup. I put together an answer and noted possible reasons.","body":"This depends on your project setup. I put together an answer and noted possible reasons."},{"owner":{"account_id":9553206,"reputation":2510,"user_id":7099148,"display_name":"user31601"},"score":0,"creation_date":1531215694,"post_id":51260101,"comment_id":89501909,"body_markdown":"I think the problem you&#39;re having is with the `plugin is not in &#39;org.gradle&#39; namespace` part. However, I can&#39;t seem to find any further information on when/how the restriction to the `org.gradle` namespace is applied. I know that a plugin published to the Gradle portal that _doesn&#39;t_ use this namespace needs to be approved before it is publicly available, but that doesn&#39;t seem to be the issue here...","body":"I think the problem you&#39;re having is with the <code>plugin is not in &#39;org.gradle&#39; namespace</code> part. However, I can&#39;t seem to find any further information on when/how the restriction to the <code>org.gradle</code> namespace is applied. I know that a plugin published to the Gradle portal that <i>doesn&#39;t</i> use this namespace needs to be approved before it is publicly available, but that doesn&#39;t seem to be the issue here..."}],"answers":[{"comments":[{"owner":{"account_id":362950,"reputation":9814,"user_id":706421,"accept_rate":58,"display_name":"Dustin Oprea"},"score":1,"creation_date":1531500321,"post_id":51261475,"comment_id":89634803,"body_markdown":"Yes. I was previously able to resolve using that legacy style.","body":"Yes. I was previously able to resolve using that legacy style."}],"tags":[],"owner":{"account_id":1208913,"reputation":309,"user_id":1177850,"display_name":"mascha"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531214260,"creation_date":1531214260,"answer_id":51261475,"question_id":51260101,"body_markdown":"The plugin page states two ways of including the plugin (https://plugins.gradle.org/plugin/io.codearte.nexus-staging#new-plugin-mechanism-info). The one `for plugins DSL for Gradle 2.1` and the one `for use in older Gradle versions or where dynamic configuration is required`. The Gradle plugins DSL version has some constraints and did not work in any case, e.g.\r\n\r\n 1. Can only be used in build scripts.\r\n 2. Cannot be used in conjunction with subprojects {}, allprojects {} etc.\r\n 3. The plugins {} block must also be a top level statement in the buildscript\r\n\r\nIf the plugins DSL version did not work for you should use the other way of including it.","title":"Gradle plugin dependency exists but isn&#39;t found during the build","body":"<p>The plugin page states two ways of including the plugin (<a href=\"https://plugins.gradle.org/plugin/io.codearte.nexus-staging#new-plugin-mechanism-info\" rel=\"nofollow noreferrer\">https://plugins.gradle.org/plugin/io.codearte.nexus-staging#new-plugin-mechanism-info</a>). The one <code>for plugins DSL for Gradle 2.1</code> and the one <code>for use in older Gradle versions or where dynamic configuration is required</code>. The Gradle plugins DSL version has some constraints and did not work in any case, e.g.</p>\n\n<ol>\n<li>Can only be used in build scripts.</li>\n<li>Cannot be used in conjunction with subprojects {}, allprojects {} etc.</li>\n<li>The plugins {} block must also be a top level statement in the buildscript</li>\n</ol>\n\n<p>If the plugins DSL version did not work for you should use the other way of including it.</p>\n"},{"comments":[{"owner":{"account_id":2303214,"reputation":1704,"user_id":2023052,"accept_rate":100,"display_name":"Kevvvvyp"},"score":0,"creation_date":1574696186,"post_id":57897747,"comment_id":104313512,"body_markdown":"I believe .kts is for kotlin projects","body":"I believe .kts is for kotlin projects"}],"tags":[],"owner":{"account_id":7544713,"reputation":179,"user_id":5728198,"display_name":"Amarnath Reddy Dornala"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1568243261,"creation_date":1568242434,"answer_id":57897747,"question_id":51260101,"body_markdown":"Adding \r\n\r\n&gt; rootProject.buildFileName = &#39;build.gradle.kts&#39;\r\n\r\n in settings.gradle file on the 1st line should help you.\r\n\r\n@Reference: [reference link][1]\r\n\r\n\r\n  [1]: https://github.com/antoniolg/Bandhook-Kotlin/issues/38","title":"Gradle plugin dependency exists but isn&#39;t found during the build","body":"<p>Adding </p>\n\n<blockquote>\n  <p>rootProject.buildFileName = 'build.gradle.kts'</p>\n</blockquote>\n\n<p>in settings.gradle file on the 1st line should help you.</p>\n\n<p>@Reference: <a href=\"https://github.com/antoniolg/Bandhook-Kotlin/issues/38\" rel=\"nofollow noreferrer\">reference link</a></p>\n"},{"tags":[],"owner":{"account_id":23050065,"reputation":1,"user_id":17167042,"display_name":"veerasathiya Dev"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667275786,"creation_date":1666959401,"answer_id":74235280,"question_id":51260101,"body_markdown":"Add this code android/settings.gradle\r\n\r\n```\r\nincludeBuild(&#39;../node_modules/react-native-gradle-plugin&#39;)\r\nif (settings.hasProperty(&quot;newArchEnabled&quot;) &amp;&amp; settings.newArchEnabled == &quot;true&quot;) {\r\n    include(&quot;:ReactAndroid&quot;)\r\n    project(&quot;:ReactAndroid&quot;).projectDir = file(&#39;../node_modules/react-native/ReactAndroid&#39;)\r\n    include(&quot;:ReactAndroid:hermes-engine&quot;)\r\n    project(&quot;:ReactAndroid:hermes-engine&quot;).projectDir = file(&#39;../node_modules/react-native/ReactAndroid/hermes-engine&#39;)\r\n}\r\n```","title":"Gradle plugin dependency exists but isn&#39;t found during the build","body":"<p>Add this code android/settings.gradle</p>\n<pre><code>includeBuild('../node_modules/react-native-gradle-plugin')\nif (settings.hasProperty(&quot;newArchEnabled&quot;) &amp;&amp; settings.newArchEnabled == &quot;true&quot;) {\n    include(&quot;:ReactAndroid&quot;)\n    project(&quot;:ReactAndroid&quot;).projectDir = file('../node_modules/react-native/ReactAndroid')\n    include(&quot;:ReactAndroid:hermes-engine&quot;)\n    project(&quot;:ReactAndroid:hermes-engine&quot;).projectDir = file('../node_modules/react-native/ReactAndroid/hermes-engine')\n}\n</code></pre>\n"}],"owner":{"account_id":362950,"reputation":9814,"user_id":706421,"accept_rate":58,"display_name":"Dustin Oprea"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29372,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1667275786,"creation_date":1531210000,"question_id":51260101,"body_markdown":"It seems like what I have is correct, but Gradle is still not finding the plugin.\r\n\r\nMy plugins clause looks like:\r\n\r\n    plugins {\r\n        id &quot;io.codearte.nexus-staging&quot; version &quot;0.8.0&quot;\r\n    }\r\n\r\nThe build error looks like:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;/home/local/MAGICLEAP/doprea/development/java/JenkinsPipelineUnit-1.1/build.gradle&#39; line: 4\r\n    \r\n    * What went wrong:\r\n    Plugin [id: &#39;io.codearte.nexus-staging&#39;, version: &#39;0.8.0&#39;] was not found in any of the following sources:\r\n    \r\n    - Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n    - Plugin Repositories (could not resolve plugin artifact &#39;io.codearte.nexus-staging:io.codearte.nexus-staging.gradle.plugin:0.8.0&#39;)\r\n      Searched in the following repositories:\r\n        Gradle Central Plugin Repository\r\n\r\nHowever, the CR appears to have it:\r\n\r\nhttps://plugins.gradle.org/plugin/io.codearte.nexus-staging/0.8.0\r\n\r\n..and the dependency clause provided there is identical to what I already have.\r\n\r\nAm I missing something?\r\n","title":"Gradle plugin dependency exists but isn&#39;t found during the build","body":"<p>It seems like what I have is correct, but Gradle is still not finding the plugin.</p>\n\n<p>My plugins clause looks like:</p>\n\n<pre><code>plugins {\n    id \"io.codearte.nexus-staging\" version \"0.8.0\"\n}\n</code></pre>\n\n<p>The build error looks like:</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/home/local/MAGICLEAP/doprea/development/java/JenkinsPipelineUnit-1.1/build.gradle' line: 4\n\n* What went wrong:\nPlugin [id: 'io.codearte.nexus-staging', version: '0.8.0'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'io.codearte.nexus-staging:io.codearte.nexus-staging.gradle.plugin:0.8.0')\n  Searched in the following repositories:\n    Gradle Central Plugin Repository\n</code></pre>\n\n<p>However, the CR appears to have it:</p>\n\n<p><a href=\"https://plugins.gradle.org/plugin/io.codearte.nexus-staging/0.8.0\" rel=\"noreferrer\">https://plugins.gradle.org/plugin/io.codearte.nexus-staging/0.8.0</a></p>\n\n<p>..and the dependency clause provided there is identical to what I already have.</p>\n\n<p>Am I missing something?</p>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":8505101,"reputation":4502,"user_id":6376955,"display_name":"Zeromus"},"score":0,"creation_date":1523527314,"post_id":49793547,"comment_id":86601535,"body_markdown":"maybe related https://stackoverflow.com/questions/27106055/value-failed-to-convert-value-of-type-java-lang-string-to-required-type-j/27106543?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa","body":"maybe related <a href=\"https://stackoverflow.com/questions/27106055/value-failed-to-convert-value-of-type-java-lang-string-to-required-type-j/27106543?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\" title=\"value failed to convert value of type java lang string to required type j\">stackoverflow.com/questions/27106055/&hellip;</a>"},{"owner":{"account_id":4068789,"reputation":572,"user_id":3342710,"accept_rate":75,"display_name":"jrsall92"},"score":0,"creation_date":1523527646,"post_id":49793547,"comment_id":86601759,"body_markdown":"While not a perfect solution, you could always get the property in a String variable and then parse it in an Integer. A simple way to do that would be to use the @Value annotation in a constructor argument and directly parse it into an integer variable in there.","body":"While not a perfect solution, you could always get the property in a String variable and then parse it in an Integer. A simple way to do that would be to use the @Value annotation in a constructor argument and directly parse it into an integer variable in there."}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1523527435,"creation_date":1523527435,"answer_id":49793705,"question_id":49793547,"body_markdown":"For `@Value(&quot;${CONNECTION.TIME.OUT}&quot;)` your error is `java.lang.NumberFormatException: For input string: &quot;${CONNECTION.TIME.OUT}&quot;`. This means that expression was not processed resulting in `Integer.parseInt(&quot;${CONNECTION.TIME.OUT}&quot;)` which thrown the `NumberFormatException`.\r\n\r\nEither there is no `PropertyPlaceholderConfigurer` bean registered in the Spring context and `@Value` annotations are not processed or there is no property `CONNECTION.TIME.OUT` defined.","title":"Spring @Value always gives an error if property is Integer","body":"<p>For <code>@Value(\"${CONNECTION.TIME.OUT}\")</code> your error is <code>java.lang.NumberFormatException: For input string: \"${CONNECTION.TIME.OUT}\"</code>. This means that expression was not processed resulting in <code>Integer.parseInt(\"${CONNECTION.TIME.OUT}\")</code> which thrown the <code>NumberFormatException</code>.</p>\n\n<p>Either there is no <code>PropertyPlaceholderConfigurer</code> bean registered in the Spring context and <code>@Value</code> annotations are not processed or there is no property <code>CONNECTION.TIME.OUT</code> defined.</p>\n"},{"tags":[],"owner":{"account_id":7799093,"reputation":1830,"user_id":5899172,"accept_rate":71,"display_name":"Yassine Badache"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1523527778,"creation_date":1523527778,"answer_id":49793834,"question_id":49793547,"body_markdown":"Your property file is probably not loaded properly.\r\n\r\nWhen provided with no valid value for a property placeholder, Spring will automatically try to assign this value to the name of the `@Value` annotation. In your case, this:\r\n\r\n    @Value(&quot;#{new Integer(&#39;${CONNECTION.TIME.OUT}&#39;)}&quot;)\r\n    protected Integer connectionTimeOut;\r\n\r\nIs interpreted as:\r\n\r\n    protected Integer connectionTimeOut = new Integer(&quot;${CONNECTION.TIME.OUT}&quot;);\r\n\r\nWhich, indeed, brings an error.\r\n\r\n---\r\n\r\nTry to either configure a `PropertyPlaceholderConfigurer` in your beans, or make sure that your property file is loaded properly in your classpath by your configuration. Something among the lines of:\r\n\r\n    &lt;context:property-placeholder\r\n\t\tignore-unresolvable=&quot;true&quot; \r\n\t\tlocation=&quot;classpath:yourfile.properties&quot; /&gt;\r\n\r\nIn your configuration file will help, in this case.","title":"Spring @Value always gives an error if property is Integer","body":"<p>Your property file is probably not loaded properly.</p>\n\n<p>When provided with no valid value for a property placeholder, Spring will automatically try to assign this value to the name of the <code>@Value</code> annotation. In your case, this:</p>\n\n<pre><code>@Value(\"#{new Integer('${CONNECTION.TIME.OUT}')}\")\nprotected Integer connectionTimeOut;\n</code></pre>\n\n<p>Is interpreted as:</p>\n\n<pre><code>protected Integer connectionTimeOut = new Integer(\"${CONNECTION.TIME.OUT}\");\n</code></pre>\n\n<p>Which, indeed, brings an error.</p>\n\n<hr>\n\n<p>Try to either configure a <code>PropertyPlaceholderConfigurer</code> in your beans, or make sure that your property file is loaded properly in your classpath by your configuration. Something among the lines of:</p>\n\n<pre><code>&lt;context:property-placeholder\n    ignore-unresolvable=\"true\" \n    location=\"classpath:yourfile.properties\" /&gt;\n</code></pre>\n\n<p>In your configuration file will help, in this case.</p>\n"},{"tags":[],"owner":{"account_id":5420563,"reputation":302,"user_id":4314307,"display_name":"Dhruv Raj Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1594028033,"creation_date":1523604197,"answer_id":49811485,"question_id":49793547,"body_markdown":"To avoid such type of situation where the exception occurs due to un-availibilty of the property, Add default value in the tag. If property is not available then it will populate the default value\r\n\r\n    @Value(&quot;${CONNECTION.TIME.OUT:10}&quot;)","title":"Spring @Value always gives an error if property is Integer","body":"<p>To avoid such type of situation where the exception occurs due to un-availibilty of the property, Add default value in the tag. If property is not available then it will populate the default value</p>\n<pre><code>@Value(&quot;${CONNECTION.TIME.OUT:10}&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10294808,"reputation":1177,"user_id":7595371,"display_name":"Michael"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1607608287,"creation_date":1607608287,"answer_id":65235847,"question_id":49793547,"body_markdown":"Don&#39;t forget the &quot;${}&quot; around it!  I kept looking at what should have been obvious and missing it.","title":"Spring @Value always gives an error if property is Integer","body":"<p>Don't forget the &quot;${}&quot; around it!  I kept looking at what should have been obvious and missing it.</p>\n"},{"tags":[],"owner":{"account_id":8201159,"reputation":11,"user_id":6172473,"display_name":"arpan agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667275241,"creation_date":1666892978,"answer_id":74226311,"question_id":49793547,"body_markdown":"Try removing single quotes worked &#39;&#39;. It worked for me.\r\n\r\n```\r\n@Value(&quot;#{new Integer(${CONNECTION.TIME.OUT})}&quot;)\r\n```","title":"Spring @Value always gives an error if property is Integer","body":"<p>Try removing single quotes worked ''. It worked for me.</p>\n<pre><code>@Value(&quot;#{new Integer(${CONNECTION.TIME.OUT})}&quot;)\n</code></pre>\n"}],"owner":{"account_id":2238186,"reputation":3967,"user_id":1973933,"accept_rate":58,"display_name":"Melad Basilius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18726,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":49793705,"answer_count":5,"score":8,"last_activity_date":1667275241,"creation_date":1523526967,"question_id":49793547,"body_markdown":"I am using sprin version 4.3.8.RELEASE. also i am using `@Value` to inject values from property file, if the properties are string that no problem, but if the property is `Integer` that is a problem (i know there is many questions about this i tried all the answers but the issue still exist)\r\n\r\nThe property is\r\n\r\n    CONNECTION.TIME.OUT=100000\r\n\r\n**First solution** \r\n\r\n    @Value(&quot;${CONNECTION.TIME.OUT}&quot;)\r\n    protected Integer connectionTimeOut;\r\n\r\n**Ecxeption**\r\n\r\n    Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Integer&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;${CONNECTION.TIME.OUT}&quot;\r\n\r\n**Second solution**\r\n\r\n\t@Value(&quot;#{new Integer(&#39;${CONNECTION.TIME.OUT}&#39;)}&quot;)\r\n\tprotected Integer connectionTimeOut;\r\n\r\n**Exception**\r\n\r\n    EL1003E: A problem occurred whilst attempting to construct an object of type &#39;Integer&#39; using arguments &#39;(java.lang.String)&#39;\r\n\r\n**Third solution**\r\n\r\n\t@Value(&quot;#{new Integer.parseInteger(&#39;${CONNECTION.TIME.OUT}&#39;)}&quot;)\r\n\tprotected Integer connectionTimeOut;\r\n\r\n**Exception**\r\n\r\n    EL1003E: A problem occurred whilst attempting to construct an object of type &#39;Integer&#39; using arguments &#39;(java.lang.String)&#39;\r\n\r\nany ideas why is that\r\n\r\n","title":"Spring @Value always gives an error if property is Integer","body":"<p>I am using sprin version 4.3.8.RELEASE. also i am using <code>@Value</code> to inject values from property file, if the properties are string that no problem, but if the property is <code>Integer</code> that is a problem (i know there is many questions about this i tried all the answers but the issue still exist)</p>\n\n<p>The property is</p>\n\n<pre><code>CONNECTION.TIME.OUT=100000\n</code></pre>\n\n<p><strong>First solution</strong> </p>\n\n<pre><code>@Value(\"${CONNECTION.TIME.OUT}\")\nprotected Integer connectionTimeOut;\n</code></pre>\n\n<p><strong>Ecxeption</strong></p>\n\n<pre><code>Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; nested exception is java.lang.NumberFormatException: For input string: \"${CONNECTION.TIME.OUT}\"\n</code></pre>\n\n<p><strong>Second solution</strong></p>\n\n<pre><code>@Value(\"#{new Integer('${CONNECTION.TIME.OUT}')}\")\nprotected Integer connectionTimeOut;\n</code></pre>\n\n<p><strong>Exception</strong></p>\n\n<pre><code>EL1003E: A problem occurred whilst attempting to construct an object of type 'Integer' using arguments '(java.lang.String)'\n</code></pre>\n\n<p><strong>Third solution</strong></p>\n\n<pre><code>@Value(\"#{new Integer.parseInteger('${CONNECTION.TIME.OUT}')}\")\nprotected Integer connectionTimeOut;\n</code></pre>\n\n<p><strong>Exception</strong></p>\n\n<pre><code>EL1003E: A problem occurred whilst attempting to construct an object of type 'Integer' using arguments '(java.lang.String)'\n</code></pre>\n\n<p>any ideas why is that</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1651261936,"post_id":72062605,"comment_id":127330986,"body_markdown":"That&#39;s normal.  It will fallback to latest available.  Devtools CDP version (bindings?) come from the Selenium package.  They just added CDP version 101 (to match with chromedriver v101) 2 days ago in github, and I don&#39;t think that version has been released yet: https://github.com/SeleniumHQ/selenium/tree/trunk/java/src/org/openqa/selenium/devtools","body":"That&#39;s normal.  It will fallback to latest available.  Devtools CDP version (bindings?) come from the Selenium package.  They just added CDP version 101 (to match with chromedriver v101) 2 days ago in github, and I don&#39;t think that version has been released yet: <a href=\"https://github.com/SeleniumHQ/selenium/tree/trunk/java/src/org/openqa/selenium/devtools\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/selenium/tree/trunk/java/src/org/openq&zwnj;&#8203;a/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":20645894,"reputation":95,"user_id":15157418,"display_name":"tctfox"},"score":1,"creation_date":1651300270,"post_id":72064143,"comment_id":127336146,"body_markdown":"Hei there. Thanks for the answer! How would I change that tho? On my Linux system there is only one Chrome version. Has this something to do with some dependencies?","body":"Hei there. Thanks for the answer! How would I change that tho? On my Linux system there is only one Chrome version. Has this something to do with some dependencies?"}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651270313,"creation_date":1651270313,"answer_id":72064143,"question_id":72062605,"body_markdown":"This error message...\r\n\r\n\tApr 29, 2022 8:40:21 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch WARNING: Unable to find an exact match for CDP version 101, so returning the closest version found: 100 \r\n\tApr 29, 2022 8:40:21 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch INFO: Found CDP implementation for version 101 of 100\r\n\r\n...implies that the [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) was unable to initiate/spawn a new _Browsing Context_ i.e. [tag:google-chrome]\r\n\r\n\r\n----------\r\n\r\n\r\nDeep Dive\r\n---------\r\nYour main issue is the **incompatibility** between the version of the binaries you are using as follows:\r\n\r\n- Presumably you are using the updated _Google Chrome_ Version 101.0.\r\n- Your are using _ChromeDriver 101.0_\r\n- You are also using [Selenium](https://stackoverflow.com/a/54482491/7429447) _**v4.1.4**_ where the release notes mentions:\r\n\r\n&gt;* Supported CDP versions: 85, 99, 100, 101\r\n\r\n \r\nEverything seems in perfect sync and ideally should have worked out of the box. \r\n\r\nHowever, I strongly believe the instance of _Google Chrome_ pointed by _`MRimagedownloader`_ is of version _**101.0**_ where as the instance of _Google Chrome_ used by _Selenium_ is of version _**100.0**_.\r\n\r\nYou need to upgrade the version of _Google Chrome_ used by _Selenium_ to _**v101.0**_.","title":"Unable to find an exact match for CDP version x in selenium","body":"<p>This error message...</p>\n<pre><code>Apr 29, 2022 8:40:21 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch WARNING: Unable to find an exact match for CDP version 101, so returning the closest version found: 100 \nApr 29, 2022 8:40:21 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch INFO: Found CDP implementation for version 101 of 100\n</code></pre>\n<p>...implies that the <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> was unable to initiate/spawn a new <em>Browsing Context</em> i.e. <a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\">google-chrome</a></p>\n<hr />\n<h2>Deep Dive</h2>\n<p>Your main issue is the <strong>incompatibility</strong> between the version of the binaries you are using as follows:</p>\n<ul>\n<li>Presumably you are using the updated <em>Google Chrome</em> Version 101.0.</li>\n<li>Your are using <em>ChromeDriver 101.0</em></li>\n<li>You are also using <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> <em><strong>v4.1.4</strong></em> where the release notes mentions:</li>\n</ul>\n<blockquote>\n<ul>\n<li>Supported CDP versions: 85, 99, 100, 101</li>\n</ul>\n</blockquote>\n<p>Everything seems in perfect sync and ideally should have worked out of the box.</p>\n<p>However, I strongly believe the instance of <em>Google Chrome</em> pointed by <em><code>MRimagedownloader</code></em> is of version <em><strong>101.0</strong></em> where as the instance of <em>Google Chrome</em> used by <em>Selenium</em> is of version <em><strong>100.0</strong></em>.</p>\n<p>You need to upgrade the version of <em>Google Chrome</em> used by <em>Selenium</em> to <em><strong>v101.0</strong></em>.</p>\n"},{"tags":[],"owner":{"account_id":26565579,"reputation":1,"user_id":20192683,"display_name":"Peter Ostergaard"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667274719,"creation_date":1665247420,"answer_id":73998780,"question_id":72062605,"body_markdown":"I had the same problem, using maven with vscode, but solved it after being hinted by what you wrote: &quot;I am pretty sure it has to have something to do with my Jar file. The error only happens if I use a jar file on windows or linux. With my intelliJ idea it doesn&#39;t produce any error. &quot;\r\n\r\nWhen exporting the jar file, the GUI presents me with a list of elements, of which 88 were preselected, including these:\r\n\r\n - selenium-devtools-v104-4.5.0.jar\r\n - selenium-devtools-v105-4.5.0.jar\r\n - selenium-devtools-v106-4.5.0.jar\r\n\r\nThis fixed it: I unchecked v104 and v105\r\n\r\nNow I get this response:\r\n\r\n&gt; okt. 08, 2022 6:22:38 PM org.openqa.selenium.devtools.CdpVersionFinder\r\n&gt; findNearestMatch INFO: Found exact CDP implementation for version 106","title":"Unable to find an exact match for CDP version x in selenium","body":"<p>I had the same problem, using maven with vscode, but solved it after being hinted by what you wrote: &quot;I am pretty sure it has to have something to do with my Jar file. The error only happens if I use a jar file on windows or linux. With my intelliJ idea it doesn't produce any error. &quot;</p>\n<p>When exporting the jar file, the GUI presents me with a list of elements, of which 88 were preselected, including these:</p>\n<ul>\n<li>selenium-devtools-v104-4.5.0.jar</li>\n<li>selenium-devtools-v105-4.5.0.jar</li>\n<li>selenium-devtools-v106-4.5.0.jar</li>\n</ul>\n<p>This fixed it: I unchecked v104 and v105</p>\n<p>Now I get this response:</p>\n<blockquote>\n<p>okt. 08, 2022 6:22:38 PM org.openqa.selenium.devtools.CdpVersionFinder\nfindNearestMatch INFO: Found exact CDP implementation for version 106</p>\n</blockquote>\n"}],"owner":{"account_id":20645894,"reputation":95,"user_id":15157418,"display_name":"tctfox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31527,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72064143,"answer_count":2,"score":4,"last_activity_date":1667274719,"creation_date":1651258729,"question_id":72062605,"body_markdown":"Hei there\r\nSo I recently finished a small script that uses selenium to visit a website and download a specific part of it as image. I didn&#39;t find any other way than using selenium. I am really new with using this api. Now the script works, on my windows and on my linux machine. But I have a weird error that I don&#39;t really get. I know why the error happens according to other posts I saw, but I tripple checked that all my versions match. Below I will post all the versions I use and the script itself. Important is that the script works and does the screenshot as it should, but the warning is still probably not a good thing right? \r\nI am out of ideas to fix it\r\n\r\n**Things I was able to find out**\r\n\r\nI am pretty sure it has to  have something to do with my Jar file. The error only happens if I use a jar file on windows or linux. With my intelliJ idea it doesn&#39;t produce any error. Now I generate the jar file with intelliJ and I dont really know what could cause this. I tried to readd my dependencies and nothing helped. Any help is greatly appreciated\r\n\r\n\r\n**Error output from my Java jar**\r\n\r\n&gt; Starting ChromeDriver 101.0.4951.41\r\n&gt; (93c720db8323b3ec10d056025ab95c23a31997c9-refs/branch-heads/4951@{#904})\r\n&gt; on port 42307 Only local connections are allowed. Please see\r\n&gt; https://chromedriver.chromium.org/security-considerations for\r\n&gt; suggestions on keeping ChromeDriver safe. ChromeDriver was started\r\n&gt; successfully. Apr 29, 2022 8:40:21 PM\r\n&gt; org.openqa.selenium.remote.ProtocolHandshake createSession INFO:\r\n&gt; Detected dialect: W3C Apr 29, 2022 8:40:21 PM\r\n&gt; org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\n&gt; WARNING: Unable to find an exact match for CDP version 101, so\r\n&gt; returning the closest version found: 100 Apr 29, 2022 8:40:21 PM\r\n&gt; org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch INFO:\r\n&gt; Found CDP implementation for version 101 of 100\r\n\r\n**Part of my pom.xml. I generated the jar with intelliJ tho and not maven directly**\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n**Code snippet from script**\r\n\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, chromedriverPath);\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--start-maximized&quot;, &quot;--headless&quot;, &quot;--window-size=2560,1440&quot;,&quot;--ignore-certificate-errors&quot;,&quot;--disable-extensions&quot;,&quot;--disable-dev-shm-usage&quot;);\r\n        options.addArguments(&quot;--log-level=3&quot;);\r\n        WebDriver driver = new ChromeDriver(options);\r\n        driver.get(&quot;somewebsiteurl (placeholder)&quot; + code);\r\n\r\n\r\n**Chrome version on my ubuntu machine (same on windows)**\r\n\r\n      MRimagedownloader google-chrome --version                                                          \r\n    Google Chrome 101.0.4951.41\r\n\r\n**And this is the version of chromedriver I used. Of course the windows one for windows and the linux for my ubuntu machine**\r\n\r\nhttps://chromedriver.storage.googleapis.com/index.html?path=101.0.4951.41/\r\n\r\n","title":"Unable to find an exact match for CDP version x in selenium","body":"<p>Hei there\nSo I recently finished a small script that uses selenium to visit a website and download a specific part of it as image. I didn't find any other way than using selenium. I am really new with using this api. Now the script works, on my windows and on my linux machine. But I have a weird error that I don't really get. I know why the error happens according to other posts I saw, but I tripple checked that all my versions match. Below I will post all the versions I use and the script itself. Important is that the script works and does the screenshot as it should, but the warning is still probably not a good thing right?\nI am out of ideas to fix it</p>\n<p><strong>Things I was able to find out</strong></p>\n<p>I am pretty sure it has to  have something to do with my Jar file. The error only happens if I use a jar file on windows or linux. With my intelliJ idea it doesn't produce any error. Now I generate the jar file with intelliJ and I dont really know what could cause this. I tried to readd my dependencies and nothing helped. Any help is greatly appreciated</p>\n<p><strong>Error output from my Java jar</strong></p>\n<blockquote>\n<p>Starting ChromeDriver 101.0.4951.41\n(93c720db8323b3ec10d056025ab95c23a31997c9-refs/branch-heads/4951@{#904})\non port 42307 Only local connections are allowed. Please see\n<a href=\"https://chromedriver.chromium.org/security-considerations\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/security-considerations</a> for\nsuggestions on keeping ChromeDriver safe. ChromeDriver was started\nsuccessfully. Apr 29, 2022 8:40:21 PM\norg.openqa.selenium.remote.ProtocolHandshake createSession INFO:\nDetected dialect: W3C Apr 29, 2022 8:40:21 PM\norg.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 101, so\nreturning the closest version found: 100 Apr 29, 2022 8:40:21 PM\norg.openqa.selenium.devtools.CdpVersionFinder findNearestMatch INFO:\nFound CDP implementation for version 101 of 100</p>\n</blockquote>\n<p><strong>Part of my pom.xml. I generated the jar with intelliJ tho and not maven directly</strong></p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>Code snippet from script</strong></p>\n<pre><code>    System.setProperty(&quot;webdriver.chrome.driver&quot;, chromedriverPath);\n    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;--start-maximized&quot;, &quot;--headless&quot;, &quot;--window-size=2560,1440&quot;,&quot;--ignore-certificate-errors&quot;,&quot;--disable-extensions&quot;,&quot;--disable-dev-shm-usage&quot;);\n    options.addArguments(&quot;--log-level=3&quot;);\n    WebDriver driver = new ChromeDriver(options);\n    driver.get(&quot;somewebsiteurl (placeholder)&quot; + code);\n</code></pre>\n<p><strong>Chrome version on my ubuntu machine (same on windows)</strong></p>\n<pre><code>  MRimagedownloader google-chrome --version                                                          \nGoogle Chrome 101.0.4951.41\n</code></pre>\n<p><strong>And this is the version of chromedriver I used. Of course the windows one for windows and the linux for my ubuntu machine</strong></p>\n<p><a href=\"https://chromedriver.storage.googleapis.com/index.html?path=101.0.4951.41/\" rel=\"nofollow noreferrer\">https://chromedriver.storage.googleapis.com/index.html?path=101.0.4951.41/</a></p>\n"},{"tags":["java","postgresql","spring-boot","azure-postgresql"],"answers":[{"tags":[],"owner":{"account_id":4392902,"reputation":537,"user_id":3580786,"display_name":"Niraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667274687,"creation_date":1667274687,"answer_id":74271355,"question_id":74269664,"body_markdown":"I don&#39;t know what happened but I fixed the issue by restarting the server. Most of the time Azure Server seems like they need to restart. Though it seems weird getting that error. Wasted 2 days. Damn, why didn&#39;t I try it earlier?   ","title":"Failed to connect Azure postgres using JDBC Connection String - Spring Boot","body":"<p>I don't know what happened but I fixed the issue by restarting the server. Most of the time Azure Server seems like they need to restart. Though it seems weird getting that error. Wasted 2 days. Damn, why didn't I try it earlier?</p>\n"}],"owner":{"account_id":4392902,"reputation":537,"user_id":3580786,"display_name":"Niraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667274687,"creation_date":1667254754,"question_id":74269664,"body_markdown":"Spring Boot\r\n* application-uat.yml\r\n\r\n&gt;     spring:\r\n&gt;       datasource:\r\n&gt;         username: &quot;${DATABASE_USER}&quot;\r\n&gt;         password: &quot;${DATABASE_PASS}&quot;\r\n&gt;         platform: postgres\r\n&gt;         initialization-mode: always\r\n\r\n* application.yml\r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    spring.profiles.active: uat\r\n    spring:\r\n        datasource:\r\n            url: jdbc:postgresql://test-invoicing-db.postgres.database.azure.com:5432/postgres?sslmode=require&amp;sslfactory=org.postgresql.ssl.NonValidat$\r\n    server:\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nGetting Exception\r\n\r\n    Caused by: org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException: The connection attempt failed.\r\n            at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:58) ~[spring-jdbc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE]\r\n            at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar!/:2.1.3.RELEASE]\r\n            at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar!/:2.1.3.RELEASE]\r\n            at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar!/:2.1.3.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar!/:5.1.5.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar!/:5.1.5.RELEASE]\r\n            ... 162 common frames omitted\r\n    Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException: The connection attempt failed.\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81) ~[spring-jdbc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE]\r\n            at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:46) ~[spring-jdbc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE]\r\n            ... 167 common frames omitted\r\n    Caused by: org.postgresql.util.PSQLException: The connection attempt failed.\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:292) ~[postgresql-42.2.5.jar!/:42.2.5]\r\n            at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.2.5.jar!/:42.2.5]\r\n            at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195) ~[postgresql-42.2.5.jar!/:42.2.5]\r\n            at org.postgresql.Driver.makeConnection(Driver.java:454) ~[postgresql-42.2.5.jar!/:42.2.5]\r\n            at org.postgresql.Driver.connect(Driver.java:256) ~[postgresql-42.2.5.jar!/:42.2.5]\r\n            at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:136) ~[HikariCP-3.2.0.jar!/:na]\r\n            at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:369) ~[HikariCP-3.2.0.jar!/:na]\r\n            at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:198) ~[HikariCP-3.2.0.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:467) ~[HikariCP-3.2.0.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:541) ~[HikariCP-3.2.0.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-3.2.0.jar!/:na]\r\n            at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-3.2.0.jar!/:na]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:157) ~[spring-jdbc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115) ~[spring-jdbc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78) ~[spring-jdbc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE]\r\n            ... 168 common frames omitted\r\n    Caused by: java.net.UnknownHostException: test-invoicing-db.postgres.database.azure.com\r\n            at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184) ~[na:1.8.0_342]\r\n            at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_342]\r\n            at java.net.Socket.connect(Socket.java:607) ~[na:1.8.0_342]\r\n            at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:70) ~[postgresql-42.2.5.jar!/:42.2.5]\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:91) ~[postgresql-42.2.5.jar!/:42.2.5]\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:192) ~[postgresql-42.2.5.jar!/:42.2.5]\r\n            ... 182 common frames omitted\r\n\r\n\r\nIt was working perfectly before now it doesn&#39;t without any changes in the application. I have checked other Postgres posts and tried to remove and add **@hostname** but still getting the error. \r\n\r\nI can connect to the database locally and also jdbc connection locally but the JDBC connection fails from server and the same happened to the application deployed in another environment. \r\n\r\nPlease help. Thanks","title":"Failed to connect Azure postgres using JDBC Connection String - Spring Boot","body":"<p>Spring Boot</p>\n<ul>\n<li>application-uat.yml</li>\n</ul>\n<blockquote>\n<pre><code>spring:\n  datasource:\n    username: &quot;${DATABASE_USER}&quot;\n    password: &quot;${DATABASE_PASS}&quot;\n    platform: postgres\n    initialization-mode: always\n</code></pre>\n</blockquote>\n<ul>\n<li>application.yml</li>\n</ul>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>spring.profiles.active: uat\nspring:\n    datasource:\n        url: jdbc:postgresql://test-invoicing-db.postgres.database.azure.com:5432/postgres?sslmode=require&amp;sslfactory=org.postgresql.ssl.NonValidat$\nserver:</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Getting Exception</p>\n<pre><code>Caused by: org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException: The connection attempt failed.\n        at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:58) ~[spring-jdbc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE]\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar!/:2.1.3.RELEASE]\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar!/:2.1.3.RELEASE]\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar!/:2.1.3.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar!/:5.1.5.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar!/:5.1.5.RELEASE]\n        ... 162 common frames omitted\nCaused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException: The connection attempt failed.\n        at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81) ~[spring-jdbc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE]\n        at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:46) ~[spring-jdbc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE]\n        ... 167 common frames omitted\nCaused by: org.postgresql.util.PSQLException: The connection attempt failed.\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:292) ~[postgresql-42.2.5.jar!/:42.2.5]\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.2.5.jar!/:42.2.5]\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195) ~[postgresql-42.2.5.jar!/:42.2.5]\n        at org.postgresql.Driver.makeConnection(Driver.java:454) ~[postgresql-42.2.5.jar!/:42.2.5]\n        at org.postgresql.Driver.connect(Driver.java:256) ~[postgresql-42.2.5.jar!/:42.2.5]\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:136) ~[HikariCP-3.2.0.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:369) ~[HikariCP-3.2.0.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:198) ~[HikariCP-3.2.0.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:467) ~[HikariCP-3.2.0.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:541) ~[HikariCP-3.2.0.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-3.2.0.jar!/:na]\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-3.2.0.jar!/:na]\n        at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:157) ~[spring-jdbc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE]\n        at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115) ~[spring-jdbc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE]\n        at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78) ~[spring-jdbc-5.1.5.RELEASE.jar!/:5.1.5.RELEASE]\n        ... 168 common frames omitted\nCaused by: java.net.UnknownHostException: test-invoicing-db.postgres.database.azure.com\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184) ~[na:1.8.0_342]\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_342]\n        at java.net.Socket.connect(Socket.java:607) ~[na:1.8.0_342]\n        at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:70) ~[postgresql-42.2.5.jar!/:42.2.5]\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:91) ~[postgresql-42.2.5.jar!/:42.2.5]\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:192) ~[postgresql-42.2.5.jar!/:42.2.5]\n        ... 182 common frames omitted\n</code></pre>\n<p>It was working perfectly before now it doesn't without any changes in the application. I have checked other Postgres posts and tried to remove and add <strong>@hostname</strong> but still getting the error.</p>\n<p>I can connect to the database locally and also jdbc connection locally but the JDBC connection fails from server and the same happened to the application deployed in another environment.</p>\n<p>Please help. Thanks</p>\n"},{"tags":["java","spring-boot","keycloak"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667274316,"creation_date":1666448721,"answer_id":74164383,"question_id":74164142,"body_markdown":"Roles are private claims: it is neither in OAuth2 nor OpenID specs and each authorization-server provider uses its own. \r\n\r\nYou have to provide your own `Converter&lt;Jwt, AbstractAuthenticatonToken&gt;` @Bean to map authorities from `realm_access.roles` (and maybe `resource_access.clientApp1.roles` if you enable client level roles in Keycloak) to everride Spring-boot default which turns `Jwt` into `JwtAuthenticationToken` (which can be fine) with authorities mapped from `scope` claim, adding `SCOPE_` prefix (which is not what you want).\r\n\r\nComplete samples here: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials which cover various servlets scenarios with @controller tests. \r\n\r\nFor reactive apps or secured @Service &amp; @Repository tests, see in https://github.com/ch4mpy/spring-addons/tree/master/samples (but it contain less explanations than tutorials, so start with tutorials and move up to samples for your exact use-case)\r\n\r\n### Sample\r\nWith the help of spring-boot 3 starters from the repo linked above, configuration for Keycloak can be as simple as (just adapt properties for any other OIDC provider):\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n    &lt;!-- depending on your use-case, you might replace !--&gt;\r\n    &lt;!-- &quot;webmvc&quot; with &quot;webflux&quot; (for reactive apps) and !--&gt;\r\n    &lt;!-- &quot;jwt&quot; with &quot;introspecting&quot; (for access-token introsepection instead of JWT decoding) --&gt;\r\n    &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```java\r\n@Configuration\r\n@EnableMethodSecurity()\r\npublic class SecurityConfig {\r\n}\r\n```\r\n```properties\r\n#This illustrates configuration for accepting identities from both\r\n# a Keycloak instance with authorities mapped from realm_access.roles and resource_access.account.roles\r\n# an Auth0 domain with authorities mapped from roles and permissions\r\ncom.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\r\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.account.roles\r\ncom.c4-soft.springaddons.security.issuers[1].location=https://dev-ch4mpy.eu.auth0.com/\r\ncom.c4-soft.springaddons.security.issuers[1].authorities.claims=roles,permissions\r\n\r\ncom.c4-soft.springaddons.security.cors[0].path=/**\r\ncom.c4-soft.springaddons.security.cors[0].allowed-origins=https://localhost,https://localhost:8100,https://localhost:4200\r\n\r\ncom.c4-soft.springaddons.security.permit-all=/actuator/health/readiness,/actuator/health/liveness,/welcome\r\n```\r\n\r\n### Bonus\r\nAs already spoiled, in tutorials and samples, you&#39;ll see how to mock OAuth2 identities (with authorities) during unit and integration tests.\r\n\r\n```java\r\n@WebMvcTest(controllers = SampleController.class)\r\n@AutoConfigureAddonsWebSecurity // this is required only if you use one of the starters above\r\n@Import({ SecurityConfig.class })\r\nclass SampleControllerTest {\r\n\t@Test\r\n\tvoid whenAnonymousThenGetWelcomeIsOk() throws Exception {\r\n\t\tmockMvc.perform(get(&quot;/sample&quot;)).andExpect(status().isOk());\r\n\t}\r\n\r\n    @Test\r\n    void whenAnonymousThenGetClientApp1UserUnauthorized() throws Exception {\r\n        mockMvc.perform(get(&quot;/clientApp1User&quot;)).andExpect(status().isUnauthorized());\r\n    }\r\n\r\n    @Test\r\n    @WithMockJwtAuth(&quot;clientApp1User&quot;)\r\n    void whenClientApp1UserThenGetClientApp1UserOk() throws Exception {\r\n        mockMvc.perform(get(&quot;/clientApp1User&quot;)).andExpect(status().isOk());\r\n    }\r\n}\r\n``` ","title":"Problem in integrating spring boot application with Keycloak","body":"<p>Roles are private claims: it is neither in OAuth2 nor OpenID specs and each authorization-server provider uses its own.</p>\n<p>You have to provide your own <code>Converter&lt;Jwt, AbstractAuthenticatonToken&gt;</code> @Bean to map authorities from <code>realm_access.roles</code> (and maybe <code>resource_access.clientApp1.roles</code> if you enable client level roles in Keycloak) to everride Spring-boot default which turns <code>Jwt</code> into <code>JwtAuthenticationToken</code> (which can be fine) with authorities mapped from <code>scope</code> claim, adding <code>SCOPE_</code> prefix (which is not what you want).</p>\n<p>Complete samples here: <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials</a> which cover various servlets scenarios with @controller tests.</p>\n<p>For reactive apps or secured @Service &amp; @Repository tests, see in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons/tree/master/samples</a> (but it contain less explanations than tutorials, so start with tutorials and move up to samples for your exact use-case)</p>\n<h3>Sample</h3>\n<p>With the help of spring-boot 3 starters from the repo linked above, configuration for Keycloak can be as simple as (just adapt properties for any other OIDC provider):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;!-- depending on your use-case, you might replace !--&gt;\n    &lt;!-- &quot;webmvc&quot; with &quot;webflux&quot; (for reactive apps) and !--&gt;\n    &lt;!-- &quot;jwt&quot; with &quot;introspecting&quot; (for access-token introsepection instead of JWT decoding) --&gt;\n    &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\n    &lt;version&gt;6.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableMethodSecurity()\npublic class SecurityConfig {\n}\n</code></pre>\n<pre><code>#This illustrates configuration for accepting identities from both\n# a Keycloak instance with authorities mapped from realm_access.roles and resource_access.account.roles\n# an Auth0 domain with authorities mapped from roles and permissions\ncom.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.account.roles\ncom.c4-soft.springaddons.security.issuers[1].location=https://dev-ch4mpy.eu.auth0.com/\ncom.c4-soft.springaddons.security.issuers[1].authorities.claims=roles,permissions\n\ncom.c4-soft.springaddons.security.cors[0].path=/**\ncom.c4-soft.springaddons.security.cors[0].allowed-origins=https://localhost,https://localhost:8100,https://localhost:4200\n\ncom.c4-soft.springaddons.security.permit-all=/actuator/health/readiness,/actuator/health/liveness,/welcome\n</code></pre>\n<h3>Bonus</h3>\n<p>As already spoiled, in tutorials and samples, you'll see how to mock OAuth2 identities (with authorities) during unit and integration tests.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(controllers = SampleController.class)\n@AutoConfigureAddonsWebSecurity // this is required only if you use one of the starters above\n@Import({ SecurityConfig.class })\nclass SampleControllerTest {\n    @Test\n    void whenAnonymousThenGetWelcomeIsOk() throws Exception {\n        mockMvc.perform(get(&quot;/sample&quot;)).andExpect(status().isOk());\n    }\n\n    @Test\n    void whenAnonymousThenGetClientApp1UserUnauthorized() throws Exception {\n        mockMvc.perform(get(&quot;/clientApp1User&quot;)).andExpect(status().isUnauthorized());\n    }\n\n    @Test\n    @WithMockJwtAuth(&quot;clientApp1User&quot;)\n    void whenClientApp1UserThenGetClientApp1UserOk() throws Exception {\n        mockMvc.perform(get(&quot;/clientApp1User&quot;)).andExpect(status().isOk());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1666453195,"post_id":74164767,"comment_id":130942851,"body_markdown":"You are mapping authorities from a single claim (not realm and resource_access as asked). Last, you should have a look at the tutorials I linked in my answer for a solution to configure role claims from properties.","body":"You are mapping authorities from a single claim (not realm and resource_access as asked). Last, you should have a look at the tutorials I linked in my answer for a solution to configure role claims from properties."},{"owner":{"account_id":10298861,"reputation":111,"user_id":7598149,"display_name":"kesaven"},"score":0,"creation_date":1666453975,"post_id":74164767,"comment_id":130943039,"body_markdown":"The @Secured however will still not work as it requires to start with the Prefix ROLE_","body":"The @Secured however will still not work as it requires to start with the Prefix ROLE_"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1666454023,"post_id":74164767,"comment_id":130943053,"body_markdown":"`realm_access.roles` is one claim (with string list value). `resource_access.account.roles`  is an other claim with roles. And there can be as many `resource_access.{client-ID}.roles` claims as there are client roles mapper enabled in Keycloak. Again, refer to the tutorials linked in my answer to see how to do that (and add whatever prefix you need) .","body":"<code>realm_access.roles</code> is one claim (with string list value). <code>resource_access.account.roles</code>  is an other claim with roles. And there can be as many <code>resource_access.{client-ID}.roles</code> claims as there are client roles mapper enabled in Keycloak. Again, refer to the tutorials linked in my answer to see how to do that (and add whatever prefix you need) ."}],"tags":[],"owner":{"account_id":10298861,"reputation":111,"user_id":7598149,"display_name":"kesaven"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666452115,"creation_date":1666452024,"answer_id":74164767,"question_id":74164142,"body_markdown":"You can have a look at this example on github.\r\nThe problem right now is that you need to add your roles to the Security Context of Spring Boot.\r\n\r\n        public static class CustomJwtConfigure implements Converter&lt;Jwt, JwtAuthenticationToken&gt; {\r\n\r\n    @Override\r\n    public JwtAuthenticationToken convert(Jwt jwt) {\r\n        var tokenAttributes = jwt.getClaims();\r\n        var jsonObject = (JSONObject) tokenAttributes.get(REALM);\r\n        var roles = (JSONArray) jsonObject.get(ROLES);\r\n        List&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\r\n        roles.forEach(role -&gt; grantedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role)));\r\n        return new JwtAuthenticationToken(jwt, grantedAuthorities);\r\n    }\r\n}\r\n\r\n[Link to github account][1]\r\n\r\n\r\n  [1]: https://github.com/kesaven8/resourceServer-spring-boot","title":"Problem in integrating spring boot application with Keycloak","body":"<p>You can have a look at this example on github.\nThe problem right now is that you need to add your roles to the Security Context of Spring Boot.</p>\n<pre><code>    public static class CustomJwtConfigure implements Converter&lt;Jwt, JwtAuthenticationToken&gt; {\n\n@Override\npublic JwtAuthenticationToken convert(Jwt jwt) {\n    var tokenAttributes = jwt.getClaims();\n    var jsonObject = (JSONObject) tokenAttributes.get(REALM);\n    var roles = (JSONArray) jsonObject.get(ROLES);\n    List&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\n    roles.forEach(role -&gt; grantedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role)));\n    return new JwtAuthenticationToken(jwt, grantedAuthorities);\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://github.com/kesaven8/resourceServer-spring-boot\" rel=\"nofollow noreferrer\">Link to github account</a></p>\n"}],"owner":{"account_id":25850952,"reputation":55,"user_id":19584950,"display_name":"Reza Azad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74164383,"answer_count":2,"score":0,"last_activity_date":1667274316,"creation_date":1666446813,"question_id":74164142,"body_markdown":"I want to integrate Keycloak with spring boot application. The problem is that at the end, I got 403 forbidden error when calling the protected endpoints.\r\n\r\nFollowing is my decoded JWT token, which is issued by Keycloak. I have a client, which is named clientApp1, and a realm role, which is named clientApp1User and mapped to the created user. Following is my decoded JWT token:\r\n\r\n    {\r\n     alg: &quot;RS256&quot;,\r\n     typ: &quot;JWT&quot;,\r\n     kid: &quot;ZWDbgcSI8nD2Yq4LA6hxYcsTbnf6y6Zj8PKyUobE_qE&quot;\r\n    }.\r\n    {\r\n     exp: 1666444432,\r\n     iat: 1666444132,\r\n     jti: &quot;e6883855-ef20-4fac-95dd-8f13bd0ae552&quot;,\r\n     iss: &quot;http://localhost:12500/auth/realms/sampleRealm&quot;,\r\n     aud: &quot;account&quot;,\r\n     sub: &quot;80e1e45f-49fb-4a5a-9a60-b0057d291c53&quot;,\r\n     typ: &quot;Bearer&quot;,\r\n     azp: &quot;clientApp1&quot;,\r\n     session_state: &quot;c22af762-7be9-4150-94d5-8bd35065ac57&quot;,\r\n     acr: &quot;1&quot;,\r\n     allowed-origins: [\r\n      &quot;http://localhost:11501&quot;\r\n     ],\r\n     realm_access: {\r\n      roles: [\r\n       &quot;clientApp1User&quot;,\r\n       &quot;offline_access&quot;,\r\n       &quot;uma_authorization&quot;,\r\n       &quot;default-roles-samplerealm&quot;\r\n      ]\r\n     },\r\n     resource_access: {\r\n      account: {\r\n       roles: [\r\n        &quot;manage-account&quot;,\r\n        &quot;manage-account-links&quot;,\r\n        &quot;view-profile&quot;\r\n       ]\r\n      }\r\n     },\r\n     scope: &quot;email profile&quot;,\r\n     sid: &quot;c22af762-7be9-4150-94d5-8bd35065ac57&quot;,\r\n     email_verified: false,\r\n     name: &quot;user1FirstName User1LastName&quot;,\r\n     preferred_username: &quot;user1&quot;,\r\n     given_name: &quot;user1FirstName&quot;,\r\n     family_name: &quot;User1LastName&quot;\r\n    }.\r\n    [signature]\r\n\r\nMoreover, here is my pom.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ResourceServerSample&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;ResourceServerSample&lt;/name&gt;\r\n    &lt;description&gt;ResourceServerSample&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nSince, I want to use Security annotations to secure my end points I have set the security configuration as following:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(\r\n        prePostEnabled = true,\r\n        securedEnabled = true,\r\n        jsr250Enabled = true)\r\npublic class SecurityConfig  {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .cors()\r\n            .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and().authorizeRequests()\r\n            .anyRequest().permitAll()\r\n            .and().oauth2ResourceServer().jwt();\r\n\r\n        http.csrf().disable();\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\nFinally, in order to protect my endpoints I have used annotations like following:\r\n```\r\n@RestController\r\npublic class TestControllers {\r\n\r\n    // Public endpoint\r\n    @GetMapping(&quot;/welcome&quot;)\r\n    public ResponseEntity&lt;String&gt; welcome() {\r\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;Welcome to the unprotected endpoint&quot;);\r\n    }\r\n\r\n//    @RolesAllowed(&quot;clientApp1User&quot;)\r\n//    @Secured(&quot;clientApp1User&quot;)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;clientApp1User&#39;)&quot;)\r\n    @GetMapping(&quot;/clientApp1User&quot;)\r\n    public ResponseEntity&lt;String&gt; clientApp1User() {\r\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;clientApp1User protected endpoint sends its regards&quot;);\r\n    }\r\n\r\n    @PreAuthorize(&quot;hasAuthority(&#39;SCOPE_email&#39;)&quot;)\r\n    @GetMapping(&quot;/testScope&quot;)\r\n    public ResponseEntity&lt;String&gt; testScope() {\r\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;testScope protected endpoint sends its regards&quot;);\r\n    }\r\n}\r\n```\r\nThe problem that I face is that the endpoint, which is protected with @RolesAllowed(&quot;clientApp1User&quot;) or @Secured(&quot;clientApp1User&quot;) or @PreAuthorize(&quot;hasAuthority(&#39;clientApp1User&#39;)&quot;) returns 403 forbidden, when it&#39;s called with a valid access token.\r\n\r\nOn the other hand endpoints with annotations like @PreAuthorize(&quot;hasAuthority(&#39;SCOPE_email&#39;)&quot;) or @PreAuthorize(&quot;hasAuthority(&#39;SCOPE_profile&#39;)&quot;) return 200 Ok.\r\n\r\nI believe spring boot can not accurately parse the JWT token and only excepts values in scope claim with the prefix &lt;SCOPE_&gt; and as an authority.\r\n\r\nCan any one help me to fix the problem and use the **RolesAllowed/Secured/PreAuthorize** annotations to secure the endpoint with **declared roles in realm_access and resource_access claims**?\r\n","title":"Problem in integrating spring boot application with Keycloak","body":"<p>I want to integrate Keycloak with spring boot application. The problem is that at the end, I got 403 forbidden error when calling the protected endpoints.</p>\n<p>Following is my decoded JWT token, which is issued by Keycloak. I have a client, which is named clientApp1, and a realm role, which is named clientApp1User and mapped to the created user. Following is my decoded JWT token:</p>\n<pre><code>{\n alg: &quot;RS256&quot;,\n typ: &quot;JWT&quot;,\n kid: &quot;ZWDbgcSI8nD2Yq4LA6hxYcsTbnf6y6Zj8PKyUobE_qE&quot;\n}.\n{\n exp: 1666444432,\n iat: 1666444132,\n jti: &quot;e6883855-ef20-4fac-95dd-8f13bd0ae552&quot;,\n iss: &quot;http://localhost:12500/auth/realms/sampleRealm&quot;,\n aud: &quot;account&quot;,\n sub: &quot;80e1e45f-49fb-4a5a-9a60-b0057d291c53&quot;,\n typ: &quot;Bearer&quot;,\n azp: &quot;clientApp1&quot;,\n session_state: &quot;c22af762-7be9-4150-94d5-8bd35065ac57&quot;,\n acr: &quot;1&quot;,\n allowed-origins: [\n  &quot;http://localhost:11501&quot;\n ],\n realm_access: {\n  roles: [\n   &quot;clientApp1User&quot;,\n   &quot;offline_access&quot;,\n   &quot;uma_authorization&quot;,\n   &quot;default-roles-samplerealm&quot;\n  ]\n },\n resource_access: {\n  account: {\n   roles: [\n    &quot;manage-account&quot;,\n    &quot;manage-account-links&quot;,\n    &quot;view-profile&quot;\n   ]\n  }\n },\n scope: &quot;email profile&quot;,\n sid: &quot;c22af762-7be9-4150-94d5-8bd35065ac57&quot;,\n email_verified: false,\n name: &quot;user1FirstName User1LastName&quot;,\n preferred_username: &quot;user1&quot;,\n given_name: &quot;user1FirstName&quot;,\n family_name: &quot;User1LastName&quot;\n}.\n[signature]\n</code></pre>\n<p>Moreover, here is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;ResourceServerSample&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ResourceServerSample&lt;/name&gt;\n    &lt;description&gt;ResourceServerSample&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Since, I want to use Security annotations to secure my end points I have set the security configuration as following:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(\n        prePostEnabled = true,\n        securedEnabled = true,\n        jsr250Enabled = true)\npublic class SecurityConfig  {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .cors()\n            .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and().authorizeRequests()\n            .anyRequest().permitAll()\n            .and().oauth2ResourceServer().jwt();\n\n        http.csrf().disable();\n\n        return http.build();\n    }\n</code></pre>\n<p>Finally, in order to protect my endpoints I have used annotations like following:</p>\n<pre><code>@RestController\npublic class TestControllers {\n\n    // Public endpoint\n    @GetMapping(&quot;/welcome&quot;)\n    public ResponseEntity&lt;String&gt; welcome() {\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;Welcome to the unprotected endpoint&quot;);\n    }\n\n//    @RolesAllowed(&quot;clientApp1User&quot;)\n//    @Secured(&quot;clientApp1User&quot;)\n    @PreAuthorize(&quot;hasAuthority('clientApp1User')&quot;)\n    @GetMapping(&quot;/clientApp1User&quot;)\n    public ResponseEntity&lt;String&gt; clientApp1User() {\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;clientApp1User protected endpoint sends its regards&quot;);\n    }\n\n    @PreAuthorize(&quot;hasAuthority('SCOPE_email')&quot;)\n    @GetMapping(&quot;/testScope&quot;)\n    public ResponseEntity&lt;String&gt; testScope() {\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;testScope protected endpoint sends its regards&quot;);\n    }\n}\n</code></pre>\n<p>The problem that I face is that the endpoint, which is protected with @RolesAllowed(&quot;clientApp1User&quot;) or @Secured(&quot;clientApp1User&quot;) or @PreAuthorize(&quot;hasAuthority('clientApp1User')&quot;) returns 403 forbidden, when it's called with a valid access token.</p>\n<p>On the other hand endpoints with annotations like @PreAuthorize(&quot;hasAuthority('SCOPE_email')&quot;) or @PreAuthorize(&quot;hasAuthority('SCOPE_profile')&quot;) return 200 Ok.</p>\n<p>I believe spring boot can not accurately parse the JWT token and only excepts values in scope claim with the prefix &lt;SCOPE_&gt; and as an authority.</p>\n<p>Can any one help me to fix the problem and use the <strong>RolesAllowed/Secured/PreAuthorize</strong> annotations to secure the endpoint with <strong>declared roles in realm_access and resource_access claims</strong>?</p>\n"},{"tags":["java","docker","maven-jib"],"answers":[{"tags":[],"owner":{"account_id":15176538,"reputation":43,"user_id":10951110,"display_name":"Aayush Garg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667273325,"creation_date":1663356465,"answer_id":73749517,"question_id":73641948,"body_markdown":"I was able to solve this by changing the base image to:\r\n&lt;image&gt;container-release/managedbaseimages/openjdk/jre:11-stable&lt;/image&gt;\r\n\r\nand copying the .so file from my local to /usr/lib using:\r\n```\r\n&lt;extraDirectories&gt;\r\n                            &lt;paths&gt;\r\n                                \r\n                                &lt;path&gt;src/main/java/native&lt;/path&gt;\r\n                                &lt;path&gt;\r\n                                    &lt;from&gt;src/main/java/native&lt;/from&gt;\r\n                                    &lt;into&gt;/usr/lib&lt;/into&gt;\r\n                                &lt;/path&gt;\r\n                            &lt;/paths&gt;\r\n\r\n&lt;/extraDirectories&gt;","title":"Specifying -Djava.library.path in JIB plugin","body":"<p>I was able to solve this by changing the base image to:\ncontainer-release/managedbaseimages/openjdk/jre:11-stable</p>\n<p>and copying the .so file from my local to /usr/lib using:</p>\n<pre><code>&lt;extraDirectories&gt;\n                            &lt;paths&gt;\n                                \n                                &lt;path&gt;src/main/java/native&lt;/path&gt;\n                                &lt;path&gt;\n                                    &lt;from&gt;src/main/java/native&lt;/from&gt;\n                                    &lt;into&gt;/usr/lib&lt;/into&gt;\n                                &lt;/path&gt;\n                            &lt;/paths&gt;\n\n&lt;/extraDirectories&gt;\n</code></pre>\n"}],"owner":{"account_id":15176538,"reputation":43,"user_id":10951110,"display_name":"Aayush Garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667273325,"creation_date":1662588856,"question_id":73641948,"body_markdown":"I am trying to run the JIB plugin using below configuration in pom.xml\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n  &lt;from&gt;\r\n     &lt;image&gt;{artifactory-location}/container-release/managedbaseimages/oracle-jdk:11-stable&lt;/image&gt;\r\n  &lt;/from&gt;\r\n  &lt;to&gt;\r\n    &lt;image&gt;{artifactory-location}/container-sandbox/abc/bot-sample-image&lt;/image&gt;\r\n  &lt;/to&gt;\r\n  &lt;container&gt;\r\n    &lt;creationTime&gt;${maven.build.timestamp}&lt;/creationTime&gt;                           \r\n    &lt;jvmFlags&gt;\r\n      &lt;jvmFlag&gt;-Djava.library.path=.&lt;/jvmFlag&gt;\r\n      &lt;jvmFlag&gt;-Dlog4j2.configurationFile=log4j2_default.xml&lt;/jvmFlag&gt;\r\n    &lt;/jvmFlags&gt;\r\n&lt;!--&lt;args&gt;--&gt;\r\n&lt;!--  &lt;arg&gt;-Djava.library.path&lt;/arg&gt;--&gt;\r\n&lt;!--  &lt;arg&gt;.&lt;/arg&gt;--&gt;\r\n&lt;!--&lt;/args&gt;--&gt;\r\n  &lt;/container&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nWhen I try to docker run the image I face below error, although the jni.so file is present in the folder (I tried to give different folder locations as well):\r\n```none\r\nERROR StatusLogger Reconfiguration failed: No configuration found for &#39;4b85612c&#39; at &#39;null&#39; in &#39;null&#39;\r\n22:02:21.085 [main] ERROR TRACE.Casp - no casp_jni in java.library.path: [.]\r\njava.lang.UnsatisfiedLinkError: no casp_jni in java.library.path: [.]\r\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:2660) ~[?:?]\r\n        at java.lang.Runtime.loadLibrary0(Runtime.java:827) ~[?:?]\r\n        at java.lang.System.loadLibrary(System.java:1871) ~[?:?]\r\n```\r\n\r\nThe application runs fine it I run using:\r\n```sh\r\njava -Djava.library.path=. -jar bot_sample.jar\r\n```\r\nThe Container entrypoint set to `[java, -Djava.library.path=., -Dlog4j2.configurationFile=., -cp, /app/resources:/app/classes:/app/libs/*, com.abc.def.bot.Main]`\r\n","title":"Specifying -Djava.library.path in JIB plugin","body":"<p>I am trying to run the JIB plugin using below configuration in pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;from&gt;\n     &lt;image&gt;{artifactory-location}/container-release/managedbaseimages/oracle-jdk:11-stable&lt;/image&gt;\n  &lt;/from&gt;\n  &lt;to&gt;\n    &lt;image&gt;{artifactory-location}/container-sandbox/abc/bot-sample-image&lt;/image&gt;\n  &lt;/to&gt;\n  &lt;container&gt;\n    &lt;creationTime&gt;${maven.build.timestamp}&lt;/creationTime&gt;                           \n    &lt;jvmFlags&gt;\n      &lt;jvmFlag&gt;-Djava.library.path=.&lt;/jvmFlag&gt;\n      &lt;jvmFlag&gt;-Dlog4j2.configurationFile=log4j2_default.xml&lt;/jvmFlag&gt;\n    &lt;/jvmFlags&gt;\n&lt;!--&lt;args&gt;--&gt;\n&lt;!--  &lt;arg&gt;-Djava.library.path&lt;/arg&gt;--&gt;\n&lt;!--  &lt;arg&gt;.&lt;/arg&gt;--&gt;\n&lt;!--&lt;/args&gt;--&gt;\n  &lt;/container&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>When I try to docker run the image I face below error, although the jni.so file is present in the folder (I tried to give different folder locations as well):</p>\n<pre class=\"lang-none prettyprint-override\"><code>ERROR StatusLogger Reconfiguration failed: No configuration found for '4b85612c' at 'null' in 'null'\n22:02:21.085 [main] ERROR TRACE.Casp - no casp_jni in java.library.path: [.]\njava.lang.UnsatisfiedLinkError: no casp_jni in java.library.path: [.]\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:2660) ~[?:?]\n        at java.lang.Runtime.loadLibrary0(Runtime.java:827) ~[?:?]\n        at java.lang.System.loadLibrary(System.java:1871) ~[?:?]\n</code></pre>\n<p>The application runs fine it I run using:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -Djava.library.path=. -jar bot_sample.jar\n</code></pre>\n<p>The Container entrypoint set to <code>[java, -Djava.library.path=., -Dlog4j2.configurationFile=., -cp, /app/resources:/app/classes:/app/libs/*, com.abc.def.bot.Main]</code></p>\n"},{"tags":["java","json","websocket","java-websocket"],"answers":[{"comments":[{"owner":{"account_id":4654013,"reputation":11203,"user_id":4370279,"accept_rate":61,"display_name":"theapache64"},"score":0,"creation_date":1441019261,"post_id":32309788,"comment_id":52494564,"body_markdown":"but why my WebSocket is getting disconnected after sending a data with length &gt; 8191 ? :( .","body":"but why my WebSocket is getting disconnected after sending a data with length &gt; 8191 ? :( ."},{"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"score":0,"creation_date":1441019364,"post_id":32309788,"comment_id":52494618,"body_markdown":"It is possible that the server doesn&#39;t accept request over 8191 bytes? It is also possible that the problem is on the json parser.","body":"It is possible that the server doesn&#39;t accept request over 8191 bytes? It is also possible that the problem is on the json parser."},{"owner":{"account_id":4654013,"reputation":11203,"user_id":4370279,"accept_rate":61,"display_name":"theapache64"},"score":0,"creation_date":1441019475,"post_id":32309788,"comment_id":52494690,"body_markdown":"am using Tomcat 7 and i can guarantee the problem is not with the JSON parsing. May be the tomcat.","body":"am using Tomcat 7 and i can guarantee the problem is not with the JSON parsing. May be the tomcat."},{"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"score":0,"creation_date":1441019668,"post_id":32309788,"comment_id":52494796,"body_markdown":"I edited my answer after you said that the server is a tomcat server","body":"I edited my answer after you said that the server is a tomcat server"},{"owner":{"account_id":4654013,"reputation":11203,"user_id":4370279,"accept_rate":61,"display_name":"theapache64"},"score":0,"creation_date":1441019749,"post_id":32309788,"comment_id":52494842,"body_markdown":"Fine. i got it. so it&#39;s 8192 bytes.","body":"Fine. i got it. so it&#39;s 8192 bytes."},{"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"score":0,"creation_date":1441019789,"post_id":32309788,"comment_id":52494865,"body_markdown":"If you find this answer useful you can upvote it and flag it as the right response. Thank you and good work","body":"If you find this answer useful you can upvote it and flag it as the right response. Thank you and good work"},{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1626375607,"post_id":32309788,"comment_id":120883326,"body_markdown":"&quot;*A single frame, by RFC-6455 base framing, has a maximum size limit of 18,446,744,073,709,551,615 bytes (maximum value of a 64-bit unsigned value)*&quot; - actually, the limit is 9,223,372,036,854,775,807 bytes, because the RFC says &quot;*the most significant bit MUST be 0*&quot; for a 64bit payload length.","body":"&quot;<i>A single frame, by RFC-6455 base framing, has a maximum size limit of 18,446,744,073,709,551,615 bytes (maximum value of a 64-bit unsigned value)</i>&quot; - actually, the limit is 9,223,372,036,854,775,807 bytes, because the RFC says &quot;<i>the most significant bit MUST be 0</i>&quot; for a 64bit payload length."}],"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"comment_count":7,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1441019756,"creation_date":1441019115,"answer_id":32309788,"question_id":32309727,"body_markdown":"IT is actually a value very big and probably you don&#39;t worry about it.\r\n\r\nA single frame, by RFC-6455 base framing, has a maximum size limit of 18,446,744,073,709,551,615 bytes (maximum value of a 64-bit unsigned value).\r\n\r\nTry only to make it as little as possible to handle your requirements.\r\n\r\nBecause the problem is generated on the server side (tomcat). Checking the tomcat documentation I see that:\r\n\r\n&gt; The default buffer size for binary messages is **8192 bytes**. This may be\r\n&gt; changed for a web application by setting the servlet context\r\n&gt; initialization parameter org.apache.tomcat.websocket.binaryBufferSize\r\n&gt; to the desired value in bytes.\r\n\r\nSo you can change it using updating the **org.apache.tomcat.websocket.binaryBufferSize** parameter in the configuration file of tomcat.\r\n\r\nFor additional informations please see the tomcat guide [here][1]\r\n\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-7.0-doc/web-socket-howto.html","title":"What is the maximum size of data that can be passed through a WebSocket?","body":"<p>IT is actually a value very big and probably you don't worry about it.</p>\n\n<p>A single frame, by RFC-6455 base framing, has a maximum size limit of 18,446,744,073,709,551,615 bytes (maximum value of a 64-bit unsigned value).</p>\n\n<p>Try only to make it as little as possible to handle your requirements.</p>\n\n<p>Because the problem is generated on the server side (tomcat). Checking the tomcat documentation I see that:</p>\n\n<blockquote>\n  <p>The default buffer size for binary messages is <strong>8192 bytes</strong>. This may be\n  changed for a web application by setting the servlet context\n  initialization parameter org.apache.tomcat.websocket.binaryBufferSize\n  to the desired value in bytes.</p>\n</blockquote>\n\n<p>So you can change it using updating the <strong>org.apache.tomcat.websocket.binaryBufferSize</strong> parameter in the configuration file of tomcat.</p>\n\n<p>For additional informations please see the tomcat guide <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/web-socket-howto.html\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":8849681,"reputation":649,"user_id":6609396,"display_name":"Javi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470250418,"creation_date":1470250418,"answer_id":38751553,"question_id":32309727,"body_markdown":"About the question related with WebSocket getting disconnected, I had same problem in my Android client that was receiving next message &quot;Binary message size exceeds maximum size&quot;. \r\n\r\nAfter looking for some solution in all the Jetty documentation and rest of web pages, the only working option that I have got is to include next code &quot;maxBinaryMessageSize = size * 1024&quot; (where size is your needed maximum limit from client point of view) in the WebSocket class definition, as you can see in next lines: \r\n\r\n\r\n\r\n\r\n\r\n        import org.eclipse.jetty.websocket.api.BatchMode;\r\n        import org.eclipse.jetty.websocket.api.RemoteEndpoint;\r\n        import org.eclipse.jetty.websocket.api.Session;\r\n        import org.eclipse.jetty.websocket.api.annotations.OnWebSocketClose;\r\n        import org.eclipse.jetty.websocket.api.annotations.OnWebSocketConnect;\r\n        import org.eclipse.jetty.websocket.api.annotations.OnWebSocketError;\r\n        import org.eclipse.jetty.websocket.api.annotations.OnWebSocketMessage;\r\n        import org.eclipse.jetty.websocket.api.annotations.WebSocket;\r\n        \r\n        @WebSocket(maxBinaryMessageSize = 1024 * 1024)\r\n        public class MyClientWebSocket\r\n        {\r\n        \r\n          @OnWebSocketClose\r\n          public void onClose(int statusCode, String reason)\r\n          {\r\n            closeLatch.countDown();\r\n          }\r\n        \r\n          @OnWebSocketError\r\n          public void onError(Throwable reason)\r\n          {\r\n            //TODO ACORDARSE DE QUITAR ESTO\r\n            Log.w(TAG, &quot;+++ ERROR : &quot; + reason);\r\n          }\r\n        \r\n          @OnWebSocketConnect\r\n          public void onConnect(Session session)\r\n          {\r\n            // your code\r\n          }\r\n        \r\n          @OnWebSocketMessage\r\n          public void onMessageBinary(byte[] message, int offset, int length)\r\n          {\r\n           // message can be processed with a maximum of 1024 * 1024 bytes and not anymore limited to 64 * 1024\r\n        \r\n          }\r\n        }\r\n\r\n\r\nIf there is some WebSocket expert that can confirm if this is a correct solution from client side (in Java/Android), this would be great. Thanks. ","title":"What is the maximum size of data that can be passed through a WebSocket?","body":"<p>About the question related with WebSocket getting disconnected, I had same problem in my Android client that was receiving next message \"Binary message size exceeds maximum size\". </p>\n\n<p>After looking for some solution in all the Jetty documentation and rest of web pages, the only working option that I have got is to include next code \"maxBinaryMessageSize = size * 1024\" (where size is your needed maximum limit from client point of view) in the WebSocket class definition, as you can see in next lines: </p>\n\n<pre><code>    import org.eclipse.jetty.websocket.api.BatchMode;\n    import org.eclipse.jetty.websocket.api.RemoteEndpoint;\n    import org.eclipse.jetty.websocket.api.Session;\n    import org.eclipse.jetty.websocket.api.annotations.OnWebSocketClose;\n    import org.eclipse.jetty.websocket.api.annotations.OnWebSocketConnect;\n    import org.eclipse.jetty.websocket.api.annotations.OnWebSocketError;\n    import org.eclipse.jetty.websocket.api.annotations.OnWebSocketMessage;\n    import org.eclipse.jetty.websocket.api.annotations.WebSocket;\n\n    @WebSocket(maxBinaryMessageSize = 1024 * 1024)\n    public class MyClientWebSocket\n    {\n\n      @OnWebSocketClose\n      public void onClose(int statusCode, String reason)\n      {\n        closeLatch.countDown();\n      }\n\n      @OnWebSocketError\n      public void onError(Throwable reason)\n      {\n        //TODO ACORDARSE DE QUITAR ESTO\n        Log.w(TAG, \"+++ ERROR : \" + reason);\n      }\n\n      @OnWebSocketConnect\n      public void onConnect(Session session)\n      {\n        // your code\n      }\n\n      @OnWebSocketMessage\n      public void onMessageBinary(byte[] message, int offset, int length)\n      {\n       // message can be processed with a maximum of 1024 * 1024 bytes and not anymore limited to 64 * 1024\n\n      }\n    }\n</code></pre>\n\n<p>If there is some WebSocket expert that can confirm if this is a correct solution from client side (in Java/Android), this would be great. Thanks. </p>\n"}],"owner":{"account_id":4654013,"reputation":11203,"user_id":4370279,"accept_rate":61,"display_name":"theapache64"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30109,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":32309788,"answer_count":2,"score":9,"last_activity_date":1667273079,"creation_date":1441018899,"question_id":32309727,"body_markdown":"I am new to websockets and when I tried to pass a `JSON` with a length greater than `8192`, the websocket disconnected immediately. However `JSON` with length `&lt;= 8191` works fine. \r\n\r\n**Is there any `MAX SIZE/ LIMIT` of data that can be passed through a `WebSocket`? if yes, what&#39;s that size?**\r\n\r\n--------------------------------------------------------------------\r\n\r\n**I FIXED THE ERROR BY ADDING THESE LINES TO my `web.xml`**\r\n\r\n    &lt;context-param&gt;\r\n             &lt;param-name&gt;org.apache.tomcat.websocket.textBufferSize&lt;/param-name&gt;\r\n             &lt;param-value&gt;32768&lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n        &lt;context-param&gt;\r\n                &lt;param-name&gt;org.apache.tomcat.websocket.binaryBufferSize&lt;/param-name&gt;\r\n                &lt;param-value&gt;32768&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n\r\nThanks @Davide Lorenzo MARINO.\r\n\r\n","title":"What is the maximum size of data that can be passed through a WebSocket?","body":"<p>I am new to websockets and when I tried to pass a <code>JSON</code> with a length greater than <code>8192</code>, the websocket disconnected immediately. However <code>JSON</code> with length <code>&lt;= 8191</code> works fine.</p>\n<p><strong>Is there any <code>MAX SIZE/ LIMIT</code> of data that can be passed through a <code>WebSocket</code>? if yes, what's that size?</strong></p>\n<hr />\n<p><strong>I FIXED THE ERROR BY ADDING THESE LINES TO my <code>web.xml</code></strong></p>\n<pre><code>&lt;context-param&gt;\n         &lt;param-name&gt;org.apache.tomcat.websocket.textBufferSize&lt;/param-name&gt;\n         &lt;param-value&gt;32768&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n            &lt;param-name&gt;org.apache.tomcat.websocket.binaryBufferSize&lt;/param-name&gt;\n            &lt;param-value&gt;32768&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n<p>Thanks @Davide Lorenzo MARINO.</p>\n"},{"tags":["java","android","api","emulation"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667219159,"post_id":74262716,"comment_id":131111126,"body_markdown":"`It establishes a HttpUrlConnection and uses the GET method ` Really? And what is: `con.setRequestMethod(&quot;POST&quot;);`?","body":"<code>It establishes a HttpUrlConnection and uses the GET method </code> Really? And what is: <code>con.setRequestMethod(&quot;POST&quot;);</code>?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667219300,"post_id":74262716,"comment_id":131111179,"body_markdown":"`String coordinate` You are not using that parameter.","body":"<code>String coordinate</code> You are not using that parameter."},{"owner":{"account_id":4057543,"reputation":13,"user_id":18654282,"display_name":"user130355"},"score":0,"creation_date":1667272627,"post_id":74262716,"comment_id":131125048,"body_markdown":"@blackapps I used the GET method and put all parameters in the request header the first time. The code I posted here was one of my revised codes that I just tried to work around. Sorry for the inconvenience.","body":"@blackapps I used the GET method and put all parameters in the request header the first time. The code I posted here was one of my revised codes that I just tried to work around. Sorry for the inconvenience."}],"answers":[{"tags":[],"owner":{"account_id":12162478,"reputation":86,"user_id":8879652,"display_name":"abhishekrajak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667220131,"creation_date":1667220131,"answer_id":74263441,"question_id":74262716,"body_markdown":"Use this codeblock -&gt; first create jsonObject and add your key values and then set in output Stream. you can use this link for reference -&gt; https://www.baeldung.com/httpurlconnection-post\r\n\r\n```\r\nJSONObject jsonObject = new JSONObject();\r\n            jsonObject.put(&quot;access_key&quot;, &quot;Enter your access key here&quot;);\r\n            jsonObject.put(&quot;query&quot;, &quot;Enter your query string here&quot;);\r\n\r\n            DataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n            String jsonString = jsonObject.toString();\r\n            byte[] input = jsonString.getBytes(StandardCharsets.UTF_8);\r\n            wr.write(input, 0, input.length);\r\n            wr.flush();\r\n            wr.close();\r\n```\r\nAlso check the logger for what is sent in request body, use okhttp as search string in logger","title":"Sending http request get syntax error 400 message from API on Android","body":"<p>Use this codeblock -&gt; first create jsonObject and add your key values and then set in output Stream. you can use this link for reference -&gt; <a href=\"https://www.baeldung.com/httpurlconnection-post\" rel=\"nofollow noreferrer\">https://www.baeldung.com/httpurlconnection-post</a></p>\n<pre><code>JSONObject jsonObject = new JSONObject();\n            jsonObject.put(&quot;access_key&quot;, &quot;Enter your access key here&quot;);\n            jsonObject.put(&quot;query&quot;, &quot;Enter your query string here&quot;);\n\n            DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n            String jsonString = jsonObject.toString();\n            byte[] input = jsonString.getBytes(StandardCharsets.UTF_8);\n            wr.write(input, 0, input.length);\n            wr.flush();\n            wr.close();\n</code></pre>\n<p>Also check the logger for what is sent in request body, use okhttp as search string in logger</p>\n"},{"tags":[],"owner":{"account_id":4057543,"reputation":13,"user_id":18654282,"display_name":"user130355"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667272015,"creation_date":1667272015,"answer_id":74271112,"question_id":74262716,"body_markdown":"Thanks to @abhishekrajak. I think his answer can solve most questions in this case.\r\n\r\nIn my case, however, I received an Error 403 status code from the API that said that my subscription couldn&#39;t use this service. I think the problem is that using OutputStream of HttpUrlConnection will automatically transfer your request method from &quot;GET&quot; to &quot;POST&quot;, and my subscription is only able to receive the &quot;GET&quot; service.\r\n\r\nAnyway, no doubt that @abhishekrajak &#39;s answer can successfully pass the parameter in the correct encoding.\r\n\r\nI solved this problem by using an alternative API. The original API may not be a good choice in the first place. ","title":"Sending http request get syntax error 400 message from API on Android","body":"<p>Thanks to @abhishekrajak. I think his answer can solve most questions in this case.</p>\n<p>In my case, however, I received an Error 403 status code from the API that said that my subscription couldn't use this service. I think the problem is that using OutputStream of HttpUrlConnection will automatically transfer your request method from &quot;GET&quot; to &quot;POST&quot;, and my subscription is only able to receive the &quot;GET&quot; service.</p>\n<p>Anyway, no doubt that @abhishekrajak 's answer can successfully pass the parameter in the correct encoding.</p>\n<p>I solved this problem by using an alternative API. The original API may not be a good choice in the first place.</p>\n"}],"owner":{"account_id":4057543,"reputation":13,"user_id":18654282,"display_name":"user130355"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74263441,"answer_count":2,"score":1,"last_activity_date":1667272015,"creation_date":1667216387,"question_id":74262716,"body_markdown":"I&#39;m using [Positionstack API](https://api.positionstack.com/v1/reverse) to build my APP with a location function on Android. The API works well when I test it on java in the local environment. However, it keeps returning a syntax error message and an Error 400 code when I send the request on Android Studio through an activity.\r\n\r\nThe error message\r\n\r\n```\r\nI/System.out: 400\r\nI/System.out: {&quot;error&quot;:{&quot;code&quot;:&quot;bad_request&quot;,&quot;message&quot;:&quot;Could not decode value from JSON format. Error was:     \\u0022Syntax error\\u0022.&quot;}}\r\n```\r\n\r\nThe class of sending requests. It works well in the local environment but fails on the emulator. It establishes a   HttpUrlConnection and uses the GET method to retrieve the result from API. It returns a 400 status code on the Android Studio emulator.\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.DataOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStream;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\npublic class NetTest {\r\n    public static String sendRequest(String urlParam, String coordinate){\r\n        HttpURLConnection con = null;\r\n        BufferedReader buffer = null;\r\n        StringBuffer resultBuffer = null;\r\n        InputStream is;\r\n\r\n        try{\r\n            // prepare the params and send request\r\n            URL url = new URL(urlParam);\r\n            con = (HttpURLConnection) url.openConnection();\r\n            con.setConnectTimeout(5000);\r\n            con.setReadTimeout(5000);\r\n            con.setRequestMethod(&quot;POST&quot;);\r\n            con.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json;charset=UTF-8&quot;);\r\n            con.setDoOutput(true);\r\n            con.set\r\n//            DataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n//            wr.writeBytes(&quot;access_key=xxx&quot;);\r\n//            wr.writeBytes(&quot;query=-33.7,127&quot;);\r\n//            wr.flush();\r\n//            wr.close();\r\n\r\n\r\n            System.out.println(&quot;message out&quot;);\r\n\r\n            // receive response\r\n            int responseCode = con.getResponseCode();\r\n            System.out.println(responseCode);\r\n            if (responseCode == 200) {\r\n                is = con.getInputStream();\r\n            }else {\r\n                is = con.getErrorStream();\r\n            }\r\n            resultBuffer = new StringBuffer();\r\n            String line;\r\n            buffer = new BufferedReader(new InputStreamReader(is,&quot;UTF-8&quot;));\r\n            while ((line = buffer.readLine()) != null){\r\n                resultBuffer.append(line);\r\n            }\r\n            return resultBuffer.toString();\r\n\r\n\r\n        } catch (MalformedURLException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String coordinate = &quot;-33.7,127&quot;;\r\n        String url = &quot;http://api.positionstack.com/v1/reverse&quot;;\r\n        System.out.println(sendRequest(url,coordinate));\r\n    }\r\n}\r\n\r\n  \r\n```\r\n\r\nThe manifest\r\n\r\n```\r\n\r\n&lt;application \r\n    android:usesCleartextTraffic=&quot;true&quot;&gt;\r\n    \r\n    ...\r\n\r\n&lt;/application&gt;\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n```\r\n\r\nThanks a lot!\r\n\r\nThe problem may be the encoding method of Android, but I don&#39;t know how to change it, or even see it.","title":"Sending http request get syntax error 400 message from API on Android","body":"<p>I'm using <a href=\"https://api.positionstack.com/v1/reverse\" rel=\"nofollow noreferrer\">Positionstack API</a> to build my APP with a location function on Android. The API works well when I test it on java in the local environment. However, it keeps returning a syntax error message and an Error 400 code when I send the request on Android Studio through an activity.</p>\n<p>The error message</p>\n<pre><code>I/System.out: 400\nI/System.out: {&quot;error&quot;:{&quot;code&quot;:&quot;bad_request&quot;,&quot;message&quot;:&quot;Could not decode value from JSON format. Error was:     \\u0022Syntax error\\u0022.&quot;}}\n</code></pre>\n<p>The class of sending requests. It works well in the local environment but fails on the emulator. It establishes a   HttpUrlConnection and uses the GET method to retrieve the result from API. It returns a 400 status code on the Android Studio emulator.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class NetTest {\n    public static String sendRequest(String urlParam, String coordinate){\n        HttpURLConnection con = null;\n        BufferedReader buffer = null;\n        StringBuffer resultBuffer = null;\n        InputStream is;\n\n        try{\n            // prepare the params and send request\n            URL url = new URL(urlParam);\n            con = (HttpURLConnection) url.openConnection();\n            con.setConnectTimeout(5000);\n            con.setReadTimeout(5000);\n            con.setRequestMethod(&quot;POST&quot;);\n            con.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json;charset=UTF-8&quot;);\n            con.setDoOutput(true);\n            con.set\n//            DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n//            wr.writeBytes(&quot;access_key=xxx&quot;);\n//            wr.writeBytes(&quot;query=-33.7,127&quot;);\n//            wr.flush();\n//            wr.close();\n\n\n            System.out.println(&quot;message out&quot;);\n\n            // receive response\n            int responseCode = con.getResponseCode();\n            System.out.println(responseCode);\n            if (responseCode == 200) {\n                is = con.getInputStream();\n            }else {\n                is = con.getErrorStream();\n            }\n            resultBuffer = new StringBuffer();\n            String line;\n            buffer = new BufferedReader(new InputStreamReader(is,&quot;UTF-8&quot;));\n            while ((line = buffer.readLine()) != null){\n                resultBuffer.append(line);\n            }\n            return resultBuffer.toString();\n\n\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return &quot;&quot;;\n    }\n\n    public static void main(String[] args) {\n        String coordinate = &quot;-33.7,127&quot;;\n        String url = &quot;http://api.positionstack.com/v1/reverse&quot;;\n        System.out.println(sendRequest(url,coordinate));\n    }\n}\n\n  \n</code></pre>\n<p>The manifest</p>\n<pre><code>\n&lt;application \n    android:usesCleartextTraffic=&quot;true&quot;&gt;\n    \n    ...\n\n&lt;/application&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n<p>Thanks a lot!</p>\n<p>The problem may be the encoding method of Android, but I don't know how to change it, or even see it.</p>\n"},{"tags":["java","java-record","java-16"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1605748897,"post_id":64903887,"comment_id":114749995,"body_markdown":"What is `Compact`?  What is `Record`?  Please post all of your code.","body":"What is <code>Compact</code>?  What is <code>Record</code>?  Please post all of your code."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1605755237,"post_id":64903887,"comment_id":114751397,"body_markdown":"@Steve Perhaps I missed something in the question relating to a class named `Record`, but &quot;records&quot; are a new type of class added in Java 14 as a preview feature. See [JEP 359](https://openjdk.java.net/jeps/359).","body":"@Steve Perhaps I missed something in the question relating to a class named <code>Record</code>, but &quot;records&quot; are a new type of class added in Java 14 as a preview feature. See <a href=\"https://openjdk.java.net/jeps/359\" rel=\"nofollow noreferrer\">JEP 359</a>."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1605763178,"post_id":64903887,"comment_id":114753028,"body_markdown":"@Slaw - Thanks for pointing that out.  I forgot all about that.  I&#39;m still stuck in the trenches of real life with Java 8.  We&#39;re using 11 now, but I haven&#39;t really used much of the new stuff even in 11.  Kotlin&#39;s where I&#39;ve branched out.  That&#39;s another reason I don&#39;t know more about the more modern Java stuff.","body":"@Slaw - Thanks for pointing that out.  I forgot all about that.  I&#39;m still stuck in the trenches of real life with Java 8.  We&#39;re using 11 now, but I haven&#39;t really used much of the new stuff even in 11.  Kotlin&#39;s where I&#39;ve branched out.  That&#39;s another reason I don&#39;t know more about the more modern Java stuff."}],"answers":[{"comments":[{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":5,"creation_date":1642513848,"post_id":64904468,"comment_id":125086481,"body_markdown":"Your understanding of transparency is correct.  Records give you various benefits; what you give up to get those benefits is the ability to _decouple the API from the representation_.  That means you get the obvious public constructor, accessors, and eventually, deconstruction patterns.  You can add to this API, but you can&#39;t subtract from it.","body":"Your understanding of transparency is correct.  Records give you various benefits; what you give up to get those benefits is the ability to <i>decouple the API from the representation</i>.  That means you get the obvious public constructor, accessors, and eventually, deconstruction patterns.  You can add to this API, but you can&#39;t subtract from it."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1633994858,"creation_date":1605752577,"answer_id":64904468,"question_id":64903887,"body_markdown":"&gt; Q: Why does this restriction exist for records?\r\n\r\nThere isn&#39;t an explicit justification for that decision in [JEP 359][1] or in the JLS, but I think it is implied by this excerpt from the JEP:\r\n\r\n&gt; *&quot;Because records make the semantic claim of being transparent carriers for their data ...&quot;*\r\n\r\nA &quot;transparent carrier&quot; means (to me&lt;sup&gt;1&lt;/sup&gt;) that records are designed to have a minimal abstraction boundary.  Restricting the access of a constructor implies (to me) an additional abstraction boundary.\r\n\r\nIn addition, I suspect that record constructors with more restrictive access modifiers *could* impede or complicate intended use-cases for records in future versions of Java.\r\n\r\nAnyway, my take is that if you want fancy stuff like that you should be declaring a class rather than a record.\r\n\r\n&lt;sup&gt;1 - Transparent is the opposite of opaque, and abstract data types are typically opaque by design.  Obviously, this is *just my take* on what the JEP authors meant.&lt;/sup&gt;\r\n\r\n-------------------\r\n\r\n&gt; Q: Are there any plans to remove this restriction in the future?\r\n\r\nI am not aware of any.  There are no (public) open Java Bugs or RFEs about this.\r\n\r\nIndeed, all of the JDK bugs relating to this topic were to ensure that the Java 15+ specifications made the restriction clear.  There is no suggestion that the restriction happened by accident or oversight.\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/359","title":"Why can a Java record&#39;s canonical constructor not have more restrictive access than the record level?","body":"<blockquote>\n<p>Q: Why does this restriction exist for records?</p>\n</blockquote>\n<p>There isn't an explicit justification for that decision in <a href=\"https://openjdk.java.net/jeps/359\" rel=\"noreferrer\">JEP 359</a> or in the JLS, but I think it is implied by this excerpt from the JEP:</p>\n<blockquote>\n<p><em>&quot;Because records make the semantic claim of being transparent carriers for their data ...&quot;</em></p>\n</blockquote>\n<p>A &quot;transparent carrier&quot; means (to me<sup>1</sup>) that records are designed to have a minimal abstraction boundary.  Restricting the access of a constructor implies (to me) an additional abstraction boundary.</p>\n<p>In addition, I suspect that record constructors with more restrictive access modifiers <em>could</em> impede or complicate intended use-cases for records in future versions of Java.</p>\n<p>Anyway, my take is that if you want fancy stuff like that you should be declaring a class rather than a record.</p>\n<p><sup>1 - Transparent is the opposite of opaque, and abstract data types are typically opaque by design.  Obviously, this is <em>just my take</em> on what the JEP authors meant.</sup></p>\n<hr />\n<blockquote>\n<p>Q: Are there any plans to remove this restriction in the future?</p>\n</blockquote>\n<p>I am not aware of any.  There are no (public) open Java Bugs or RFEs about this.</p>\n<p>Indeed, all of the JDK bugs relating to this topic were to ensure that the Java 15+ specifications made the restriction clear.  There is no suggestion that the restriction happened by accident or oversight.</p>\n"},{"tags":[],"owner":{"account_id":6615438,"reputation":1121,"user_id":5108875,"display_name":"vab2048"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1621544010,"creation_date":1621544010,"answer_id":67627794,"question_id":64903887,"body_markdown":"I asked the question on the amber mailing list (http://mail.openjdk.java.net/pipermail/amber-dev/2020-December.txt).\r\n\r\nThe question was posed:\r\n\r\n&gt; What exactly is the reason that the canonical constructor must have the\r\nsame access as the record?\r\n\r\nAnd the answer given was (emphasis added mine):\r\n&gt; Records are named tuples, they are defined only by their components, in a transparent manner i.e. no encapsulation. From a tuple, you can access to the value of each component and from all component values, you can create a tuple.\r\n**The idea is that, in a method, if you are able to see a record, you can create it.** Thus the canonical constructor has the same visibility as the record itself.\r\n\r\nSo the restriction exists to comply with the design goal and fact that if someone has an instance of a record they should be able to deconstruct it and then reconstruct it with the canonical constructor. And of course as a corollary this necessitates the canonical constructor having the same access as the record itself.\r\n","title":"Why can a Java record&#39;s canonical constructor not have more restrictive access than the record level?","body":"<p>I asked the question on the amber mailing list (<a href=\"http://mail.openjdk.java.net/pipermail/amber-dev/2020-December.txt\" rel=\"noreferrer\">http://mail.openjdk.java.net/pipermail/amber-dev/2020-December.txt</a>).</p>\n<p>The question was posed:</p>\n<blockquote>\n<p>What exactly is the reason that the canonical constructor must have the\nsame access as the record?</p>\n</blockquote>\n<p>And the answer given was (emphasis added mine):</p>\n<blockquote>\n<p>Records are named tuples, they are defined only by their components, in a transparent manner i.e. no encapsulation. From a tuple, you can access to the value of each component and from all component values, you can create a tuple.\n<strong>The idea is that, in a method, if you are able to see a record, you can create it.</strong> Thus the canonical constructor has the same visibility as the record itself.</p>\n</blockquote>\n<p>So the restriction exists to comply with the design goal and fact that if someone has an instance of a record they should be able to deconstruct it and then reconstruct it with the canonical constructor. And of course as a corollary this necessitates the canonical constructor having the same access as the record itself.</p>\n"},{"tags":[],"owner":{"account_id":8129122,"reputation":1496,"user_id":6122976,"display_name":"wilmol"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1667271955,"creation_date":1667006849,"answer_id":74242248,"question_id":64903887,"body_markdown":"You can&#39;t do exactly what you want here - `public` record with hidden constructor (or more generally - a record whose constructor has more restrictive access - as you&#39;ve already pointed out!). \r\nBut if you tweak the requirements a bit you can achieve a similarly desired outcome.\r\n\r\nThe trick is to make the `record` itself hidden (`private` or package-private) and only expose the factory class:\r\n\r\n```\r\n// package-private\r\nrecord SomeRecord(String key, String value) {}\r\n```\r\n\r\n```\r\npublic final class SomeRecordFactory {\r\n  public SomeRecord create(String value) {\r\n    return new SomeRecord(&quot;key&quot;, value);\r\n  }\r\n}\r\n```\r\n\r\nThen you&#39;re forced to create instances like:\r\n```\r\nSomeRecordFactory factory = new SomeRecordFactory();\r\nvar myObject = factory.create(&quot;my value&quot;);\r\n```\r\n\r\n**NOTE** the use of `var` - I can&#39;t use `MyRecord` because it is hidden (package-private in this case, could make it `private` by nesting it in the factory class).\r\n\r\n___\r\n\r\nIf you want to expose a Type (e.g. in cases where you can&#39;t use `var` such as method/constructor args) you can provide a `sealed interface` representing the type and only `permit` the hidden record:\r\n\r\n```\r\npublic sealed interface SomeType permits SomeRecord {\r\n  String key();\r\n  String value();\r\n}\r\n```\r\n\r\n```\r\n// package-private\r\nrecord SomeRecord(String key, String value) implements SomeType {}\r\n```\r\n\r\n```\r\npublic final class SomeRecordFactory {\r\n  public SomeType create(String value) {\r\n    return new SomeRecord(&quot;key&quot;, value);\r\n  }\r\n}\r\n```\r\n\r\nThen you can create instances without `var` like:\r\n```\r\nSomeRecordFactory factory = new SomeRecordFactory();\r\nSomeType myObject = factory.create(&quot;my value&quot;);\r\n```\r\n\r\n___\r\n\r\nThe downside to this approach is you won&#39;t have access to the records. So you can&#39;t use the new features like pattern matching (exhaustive switch on `sealed interface` + `record` deconstruction). \r\nYou&#39;d have to do that within your package (you could argue this is a good thing, as it&#39;ll be hidden from the users of your API!).","title":"Why can a Java record&#39;s canonical constructor not have more restrictive access than the record level?","body":"<p>You can't do exactly what you want here - <code>public</code> record with hidden constructor (or more generally - a record whose constructor has more restrictive access - as you've already pointed out!).\nBut if you tweak the requirements a bit you can achieve a similarly desired outcome.</p>\n<p>The trick is to make the <code>record</code> itself hidden (<code>private</code> or package-private) and only expose the factory class:</p>\n<pre><code>// package-private\nrecord SomeRecord(String key, String value) {}\n</code></pre>\n<pre><code>public final class SomeRecordFactory {\n  public SomeRecord create(String value) {\n    return new SomeRecord(&quot;key&quot;, value);\n  }\n}\n</code></pre>\n<p>Then you're forced to create instances like:</p>\n<pre><code>SomeRecordFactory factory = new SomeRecordFactory();\nvar myObject = factory.create(&quot;my value&quot;);\n</code></pre>\n<p><strong>NOTE</strong> the use of <code>var</code> - I can't use <code>MyRecord</code> because it is hidden (package-private in this case, could make it <code>private</code> by nesting it in the factory class).</p>\n<hr />\n<p>If you want to expose a Type (e.g. in cases where you can't use <code>var</code> such as method/constructor args) you can provide a <code>sealed interface</code> representing the type and only <code>permit</code> the hidden record:</p>\n<pre><code>public sealed interface SomeType permits SomeRecord {\n  String key();\n  String value();\n}\n</code></pre>\n<pre><code>// package-private\nrecord SomeRecord(String key, String value) implements SomeType {}\n</code></pre>\n<pre><code>public final class SomeRecordFactory {\n  public SomeType create(String value) {\n    return new SomeRecord(&quot;key&quot;, value);\n  }\n}\n</code></pre>\n<p>Then you can create instances without <code>var</code> like:</p>\n<pre><code>SomeRecordFactory factory = new SomeRecordFactory();\nSomeType myObject = factory.create(&quot;my value&quot;);\n</code></pre>\n<hr />\n<p>The downside to this approach is you won't have access to the records. So you can't use the new features like pattern matching (exhaustive switch on <code>sealed interface</code> + <code>record</code> deconstruction).\nYou'd have to do that within your package (you could argue this is a good thing, as it'll be hidden from the users of your API!).</p>\n"}],"owner":{"account_id":6615438,"reputation":1121,"user_id":5108875,"display_name":"vab2048"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7330,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":67627794,"answer_count":3,"score":24,"last_activity_date":1667271955,"creation_date":1605748274,"question_id":64903887,"body_markdown":"I have a situation where I want record instances for a specific type to only be creatable using a factory method in a separate class within the same package. The reason for this is because before creating the record I need to perform a significant amount of validation. \r\n\r\nThe record is intended to be a dumb-data carrier of its validated fields but the validation cannot take place in the record&#39;s constructor because we require access to some elaborate validator objects to actually perform the validation.\r\n\r\nSince passing the validator objects to the record constructor would mean they would form part of the record state it means we cannot use the record constructor to perform the record&#39;s validation. \r\n\r\nAnd so I extracted the validation out into its own factory and coded up something like this (a factory class and a record in the same package):\r\n\r\n```java\r\npackage some.package;\r\n\r\n// imports.....\r\n\r\n@Component\r\nclass SomeRecordFactory {\r\n    private final SomeValidator someValidator;\r\n    private final SomeOtherValidator someOtherValidator;\r\n    // Rest of the fields\r\n    // ....\r\n\r\n    // constructor  \r\n    // ....\r\n\r\n\r\n    public SomeRecord create(...) {\r\n         someValidator.validate(....);\r\n         someOtherValidator.validate(....);\r\n         // .... other validation\r\n\r\n         return new SomeRecord(...);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage some.package;\r\n\r\npublic record SomeRecord(...) {\r\n    /* package-private */ SomeRecord {\r\n    }\r\n}\r\n```\r\n\r\nFor whatever reason the above does not work with IntelliJ complaining:\r\n\r\n```\r\nCompact constructor access level cannot be more restrictive than the record access level (public)\r\n```\r\n\r\nI can avoid the issue by using a normal class (which allows for a single package-private constructor) but would like to more accurately model the data as a record.\r\n\r\nWhy does this restriction exist for records? Are there any plans to remove this restriction in the future?\r\n","title":"Why can a Java record&#39;s canonical constructor not have more restrictive access than the record level?","body":"<p>I have a situation where I want record instances for a specific type to only be creatable using a factory method in a separate class within the same package. The reason for this is because before creating the record I need to perform a significant amount of validation.</p>\n<p>The record is intended to be a dumb-data carrier of its validated fields but the validation cannot take place in the record's constructor because we require access to some elaborate validator objects to actually perform the validation.</p>\n<p>Since passing the validator objects to the record constructor would mean they would form part of the record state it means we cannot use the record constructor to perform the record's validation.</p>\n<p>And so I extracted the validation out into its own factory and coded up something like this (a factory class and a record in the same package):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package some.package;\n\n// imports.....\n\n@Component\nclass SomeRecordFactory {\n    private final SomeValidator someValidator;\n    private final SomeOtherValidator someOtherValidator;\n    // Rest of the fields\n    // ....\n\n    // constructor  \n    // ....\n\n\n    public SomeRecord create(...) {\n         someValidator.validate(....);\n         someOtherValidator.validate(....);\n         // .... other validation\n\n         return new SomeRecord(...);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package some.package;\n\npublic record SomeRecord(...) {\n    /* package-private */ SomeRecord {\n    }\n}\n</code></pre>\n<p>For whatever reason the above does not work with IntelliJ complaining:</p>\n<pre><code>Compact constructor access level cannot be more restrictive than the record access level (public)\n</code></pre>\n<p>I can avoid the issue by using a normal class (which allows for a single package-private constructor) but would like to more accurately model the data as a record.</p>\n<p>Why does this restriction exist for records? Are there any plans to remove this restriction in the future?</p>\n"},{"tags":["java","exception","assert","junit-jupiter"],"comments":[{"owner":{"account_id":319988,"reputation":10980,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":3,"creation_date":1667253024,"post_id":74269408,"comment_id":131122047,"body_markdown":"The assert statement throws an `AssertionError`, resulting in the stack trace being output. The stack trace includes methods that have called your test method, `ThisTest`. The JUnit framework puts all test methods in an ArrayList and then executes each one in turn. Hence the ArrayList in the stack trace.","body":"The assert statement throws an <code>AssertionError</code>, resulting in the stack trace being output. The stack trace includes methods that have called your test method, <code>ThisTest</code>. The JUnit framework puts all test methods in an ArrayList and then executes each one in turn. Hence the ArrayList in the stack trace."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1667253604,"post_id":74269408,"comment_id":131122150,"body_markdown":"BTW, it&#39;s more common to use the assert functions of JUnit itself, not Java&#39;s assert mechanism, e.g. `assertEquals(&quot;nope&quot;, 1, 2)`. The error message you get would tell you that the expected number is 1 and the actual number was 2.","body":"BTW, it&#39;s more common to use the assert functions of JUnit itself, not Java&#39;s assert mechanism, e.g. <code>assertEquals(&quot;nope&quot;, 1, 2)</code>. The error message you get would tell you that the expected number is 1 and the actual number was 2."}],"answers":[{"comments":[{"owner":{"account_id":4443960,"reputation":988,"user_id":3617811,"accept_rate":75,"display_name":"DraxDomax"},"score":0,"creation_date":1667410424,"post_id":74271014,"comment_id":131162593,"body_markdown":"I wasn&#39;t asking about stack traces; I was asking about this particular exception from JUnit. I guess I could download the sources and debug JUnit for a week (and that&#39;s assuming the complexity of what I will encounter isn&#39;t above my IQ)... But that&#39;s true for all the questions in SO ;)","body":"I wasn&#39;t asking about stack traces; I was asking about this particular exception from JUnit. I guess I could download the sources and debug JUnit for a week (and that&#39;s assuming the complexity of what I will encounter isn&#39;t above my IQ)... But that&#39;s true for all the questions in SO ;)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667665943,"post_id":74271014,"comment_id":131222760,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74271014/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26790656,"reputation":1,"user_id":20384118,"display_name":"user20384118"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667271018,"creation_date":1667270942,"answer_id":74271014,"question_id":74269408,"body_markdown":"The lines after the exception are called a stack trace. The top line is where the exception occurred. The next line down is where the method containing the top line was called. Likewise for the remaining lines of the stack trace.\r\n\r\nMost of the time errors are caused by the values that are passed in. So to resolve the issue one must walk down the stack trace, determining at each line how incorrect parameters were created.\r\n\r\nIn other words JUnit called the forEach method on an ArrayList, resulting in a call to your program.\r\n\r\nIn your case the stack trace is not helpful, since it is in library. Stack traces are a lot more helpful when they are pointing to locations in your own code.\r\n\r\nIf you would like to see for yourself write some simple classes and have them call each other, ending in a method that just throws a RuntimeException. Then run it and compare the lines in your code to the stack trace. It will all become clear.\r\n\r\n","title":"Java8-JUnit5: Why does assert raise some exception about an ArrayList (am I using it correctly)?","body":"<p>The lines after the exception are called a stack trace. The top line is where the exception occurred. The next line down is where the method containing the top line was called. Likewise for the remaining lines of the stack trace.</p>\n<p>Most of the time errors are caused by the values that are passed in. So to resolve the issue one must walk down the stack trace, determining at each line how incorrect parameters were created.</p>\n<p>In other words JUnit called the forEach method on an ArrayList, resulting in a call to your program.</p>\n<p>In your case the stack trace is not helpful, since it is in library. Stack traces are a lot more helpful when they are pointing to locations in your own code.</p>\n<p>If you would like to see for yourself write some simple classes and have them call each other, ending in a method that just throws a RuntimeException. Then run it and compare the lines in your code to the stack trace. It will all become clear.</p>\n"}],"owner":{"account_id":4443960,"reputation":988,"user_id":3617811,"accept_rate":75,"display_name":"DraxDomax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667271018,"creation_date":1667252676,"question_id":74269408,"body_markdown":"I am starting to use the `assert` keyword instead of writing conditional exception `raise`.\r\nI am not sure I am using `assert` correctly, because, when tests fail, the exception talks about some ArrayList (I am not using that here).\r\n\r\nHere&#39;s some code to reproduce the error:\r\n\r\n    public class ThisTest {\r\n        @Test\r\n        public void myTest () {\r\n            assert 1==2 : &quot;nope&quot;;\r\n        }\r\n    }\r\n\r\nSo, I am getting my AssertionError, as expected, but there&#39;s also this stuff in the end (showing you the whole output): \r\n\r\n    java.lang.AssertionError: nope\r\n\r\n    at com.blah.ThisTest.myTest(ThisTest.java:8)\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\r\nWhat ArrayList is this talking about, maybe I am missing a parameter?","title":"Java8-JUnit5: Why does assert raise some exception about an ArrayList (am I using it correctly)?","body":"<p>I am starting to use the <code>assert</code> keyword instead of writing conditional exception <code>raise</code>.\nI am not sure I am using <code>assert</code> correctly, because, when tests fail, the exception talks about some ArrayList (I am not using that here).</p>\n<p>Here's some code to reproduce the error:</p>\n<pre><code>public class ThisTest {\n    @Test\n    public void myTest () {\n        assert 1==2 : &quot;nope&quot;;\n    }\n}\n</code></pre>\n<p>So, I am getting my AssertionError, as expected, but there's also this stuff in the end (showing you the whole output):</p>\n<pre><code>java.lang.AssertionError: nope\n\nat com.blah.ThisTest.myTest(ThisTest.java:8)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n</code></pre>\n<p>What ArrayList is this talking about, maybe I am missing a parameter?</p>\n"},{"tags":["java","android","viewgroup"],"comments":[{"owner":{"account_id":3738133,"reputation":7463,"user_id":3108590,"accept_rate":62,"display_name":"MathieuMaree"},"score":3,"creation_date":1452545613,"post_id":33242776,"comment_id":57207883,"body_markdown":"I want to add that I&#39;ve been experiencing it when swiping to refresh with a SwipeRefreshLayout and an empty RecyclerView","body":"I want to add that I&#39;ve been experiencing it when swiping to refresh with a SwipeRefreshLayout and an empty RecyclerView"},{"owner":{"account_id":1825286,"reputation":15862,"user_id":1658267,"accept_rate":75,"display_name":"Konstantin Loginov"},"score":0,"creation_date":1452588139,"post_id":33242776,"comment_id":57223691,"body_markdown":"@MathieuMaree Have you check https://github.com/worker8/TourGuide/pull/34 link? It seems the author found a workaround in his case - who knows, maybe it will help you too","body":"@MathieuMaree Have you check <a href=\"https://github.com/worker8/TourGuide/pull/34\" rel=\"nofollow noreferrer\">github.com/worker8/TourGuide/pull/34</a> link? It seems the author found a workaround in his case - who knows, maybe it will help you too"},{"owner":{"account_id":905775,"reputation":4960,"user_id":940720,"accept_rate":100,"display_name":"gio"},"score":2,"creation_date":1452938532,"post_id":33242776,"comment_id":57393314,"body_markdown":"please provide code which could be used to reproduce this crash","body":"please provide code which could be used to reproduce this crash"}],"answers":[{"tags":[],"owner":{"account_id":185057,"reputation":2158,"user_id":421524,"display_name":"kevinpelgrims"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1452960089,"creation_date":1452960089,"answer_id":34829023,"question_id":33242776,"body_markdown":"The problem is in the `ViewGroup`&#39;s `dispatchDraw()` method. This method tries to draw all the `ViewGroup`&#39;s children. When a child is `null`, you get an exception, which most likely comes from [this line][1]: `if ((child.mViewFlags &amp; VISIBILITY_MASK) == VISIBLE) {` (notice the `mViewFlags`).\r\n\r\nSo the problem is that one of your views, somewhere, is not properly initialized. I&#39;m afraid that&#39;s the best I can do.\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.1.1_r1/android/view/ViewGroup.java#3138","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>The problem is in the <code>ViewGroup</code>'s <code>dispatchDraw()</code> method. This method tries to draw all the <code>ViewGroup</code>'s children. When a child is <code>null</code>, you get an exception, which most likely comes from <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.1.1_r1/android/view/ViewGroup.java#3138\" rel=\"noreferrer\">this line</a>: <code>if ((child.mViewFlags &amp; VISIBILITY_MASK) == VISIBLE) {</code> (notice the <code>mViewFlags</code>).</p>\n\n<p>So the problem is that one of your views, somewhere, is not properly initialized. I'm afraid that's the best I can do.</p>\n"},{"comments":[{"owner":{"account_id":132094,"reputation":31753,"user_id":332578,"accept_rate":89,"display_name":"Jacksonkr"},"score":0,"creation_date":1457719268,"post_id":35205000,"comment_id":59550366,"body_markdown":"@DeanWild It&#39;s a total hack, I agree. I&#39;m sure there is a tread-safe / correct way in doing this but I dare say the time &amp; creativity needed for a &quot;proper&quot; solution outweighs the benefits of a quick hack, but I&#39;ve been wrong before...","body":"@DeanWild It&#39;s a total hack, I agree. I&#39;m sure there is a tread-safe / correct way in doing this but I dare say the time &amp; creativity needed for a &quot;proper&quot; solution outweighs the benefits of a quick hack, but I&#39;ve been wrong before..."},{"owner":{"account_id":103538,"reputation":13824,"user_id":277267,"accept_rate":69,"display_name":"Daniel F"},"score":2,"creation_date":1488962458,"post_id":35205000,"comment_id":72458140,"body_markdown":"@Jacksonkr Thanks for the answer. In my case simply putting the `removeView` call in a `runnable` that is `post`ed on the same view the `removeView` is called on fixed the issue. That feels like a &quot;more proper&quot; solution as there is no delay involved.","body":"@Jacksonkr Thanks for the answer. In my case simply putting the <code>removeView</code> call in a <code>runnable</code> that is <code>post</code>ed on the same view the <code>removeView</code> is called on fixed the issue. That feels like a &quot;more proper&quot; solution as there is no delay involved."},{"owner":{"account_id":132094,"reputation":31753,"user_id":332578,"accept_rate":89,"display_name":"Jacksonkr"},"score":0,"creation_date":1488982612,"post_id":35205000,"comment_id":72471935,"body_markdown":"Are you skipping the `runOnUiThread` ? Depending on the setup that may get a person into hot water.","body":"Are you skipping the <code>runOnUiThread</code> ? Depending on the setup that may get a person into hot water."},{"owner":{"account_id":51633,"reputation":37763,"user_id":154306,"accept_rate":98,"display_name":"Paul Lammertsma"},"score":1,"creation_date":1540210411,"post_id":35205000,"comment_id":92767292,"body_markdown":"By using `postAtTime()` what you are unintentionally doing, is never invoking the  runnable. I&#39;m sure you meant `postDelayed()` instead, but the fact that this resolved your problem leads me to believe this isn&#39;t a resolution at all; you&#39;re effectively keeping the views in memory. This really isn&#39;t a solution for use cases such as animating views in a RecyclerView.","body":"By using <code>postAtTime()</code> what you are unintentionally doing, is never invoking the  runnable. I&#39;m sure you meant <code>postDelayed()</code> instead, but the fact that this resolved your problem leads me to believe this isn&#39;t a resolution at all; you&#39;re effectively keeping the views in memory. This really isn&#39;t a solution for use cases such as animating views in a RecyclerView."}],"tags":[],"owner":{"account_id":132094,"reputation":31753,"user_id":332578,"accept_rate":89,"display_name":"Jacksonkr"},"comment_count":4,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1601910576,"creation_date":1454599751,"answer_id":35205000,"question_id":33242776,"body_markdown":"# Possible Solution\n\nI had this same issue. I setup an `animation` and in `onAnimationEnd` I was removing the object that had been animated which is when problems started. What I did was setup an *asynchronous* `Runnable` to wait 100 milliseconds after the animation had stopped before removing the animated object:\n\n*the object previously animated is `this._loader`*\n\n    private void removeLoader() {\n        final ContentContainer self = this; // &quot;CustomContainer&quot; needs to match the type of `this`\n        Handler h = new Handler();\n        h.postAtTime(new Runnable() {\n            @Override\n            public void run() {\n                MainActivity.instance.runOnUiThread(new Runnable() { \n                    @Override\n                    public void run() {\n                        try {\n                            if(self._loader == null) {\n                                // there is no loader. quit now while you still have the chance!!\n                                return;\n                            }\n                            while(self._loader.getParent() != null) {\n                                removeView(self._loader);\n                            }\n                        } catch(Exception e) {\n                            Crashlytics.logException(e);\n                            e.printStackTrace();\n                        }\n\n                        self._loader = null;\n                    }\n                });\n            }\n        }, 100);\n    }\n\n***Cheers***","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<h1>Possible Solution</h1>\n<p>I had this same issue. I setup an <code>animation</code> and in <code>onAnimationEnd</code> I was removing the object that had been animated which is when problems started. What I did was setup an <em>asynchronous</em> <code>Runnable</code> to wait 100 milliseconds after the animation had stopped before removing the animated object:</p>\n<p><em>the object previously animated is <code>this._loader</code></em></p>\n<pre><code>private void removeLoader() {\n    final ContentContainer self = this; // &quot;CustomContainer&quot; needs to match the type of `this`\n    Handler h = new Handler();\n    h.postAtTime(new Runnable() {\n        @Override\n        public void run() {\n            MainActivity.instance.runOnUiThread(new Runnable() { \n                @Override\n                public void run() {\n                    try {\n                        if(self._loader == null) {\n                            // there is no loader. quit now while you still have the chance!!\n                            return;\n                        }\n                        while(self._loader.getParent() != null) {\n                            removeView(self._loader);\n                        }\n                    } catch(Exception e) {\n                        Crashlytics.logException(e);\n                        e.printStackTrace();\n                    }\n\n                    self._loader = null;\n                }\n            });\n        }\n    }, 100);\n}\n</code></pre>\n<p><em><strong>Cheers</strong></em></p>\n"},{"tags":[],"owner":{"account_id":2233126,"reputation":121,"user_id":1970253,"display_name":"Teemu L&#228;tti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459316472,"creation_date":1459316472,"answer_id":36300563,"question_id":33242776,"body_markdown":"**Possible cause:**\r\nI was having the exact same issue. It turned out it started to happen when I added code to modify the view tree within onDraw() call. To be specific, I removed a view with children in my derived onDraw() when certain conditions were met. I now believe this is a bad thing to do, probably because the platform is trying to draw views that I have now removed from the view tree. I resolved the issue by posting the deletion with Runnable to happen after the call to onDraw() has finished.","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p><strong>Possible cause:</strong>\nI was having the exact same issue. It turned out it started to happen when I added code to modify the view tree within onDraw() call. To be specific, I removed a view with children in my derived onDraw() when certain conditions were met. I now believe this is a bad thing to do, probably because the platform is trying to draw views that I have now removed from the view tree. I resolved the issue by posting the deletion with Runnable to happen after the call to onDraw() has finished.</p>\n"},{"tags":[],"owner":{"account_id":972759,"reputation":8870,"user_id":994939,"accept_rate":100,"display_name":"veritas1"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1459352324,"creation_date":1459352324,"answer_id":36313569,"question_id":33242776,"body_markdown":"We started getting this error unexpectedly too. It was tracked down to fragment animations being the issue. More specifically using custom animations with `replace()` in a fragment transaction when the app is built against `Local Maven repository for Support Libraries` rev &gt; 26.\r\n\r\n## Possible solution\r\n\r\nDowngrade `Local Maven repository for Support Libraries` to rev 26. See [here][1]\r\n\r\n\r\n  [1]: https://code.google.com/p/android/issues/detail?id=203546","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>We started getting this error unexpectedly too. It was tracked down to fragment animations being the issue. More specifically using custom animations with <code>replace()</code> in a fragment transaction when the app is built against <code>Local Maven repository for Support Libraries</code> rev > 26.</p>\n\n<h2>Possible solution</h2>\n\n<p>Downgrade <code>Local Maven repository for Support Libraries</code> to rev 26. See <a href=\"https://code.google.com/p/android/issues/detail?id=203546\" rel=\"nofollow\">here</a></p>\n"},{"comments":[{"owner":{"account_id":3867233,"reputation":41018,"user_id":3203487,"accept_rate":54,"display_name":"David Berry"},"score":0,"creation_date":1585683548,"post_id":37213025,"comment_id":107847499,"body_markdown":"Very not obvious from the error message, but in my case it was removing the view in the AnimationListener.  posting it to get back to main thread solved the problem.","body":"Very not obvious from the error message, but in my case it was removing the view in the AnimationListener.  posting it to get back to main thread solved the problem."}],"tags":[],"owner":{"account_id":3720466,"reputation":881,"user_id":3114599,"accept_rate":95,"display_name":"Pawan Chaurasiya"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1463150679,"creation_date":1463150679,"answer_id":37213025,"question_id":33242776,"body_markdown":"I was facing same problem. I resolved with Handler.\r\n\r\n    new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                       // remove fragment from here\r\n                    }\r\n                });","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>I was facing same problem. I resolved with Handler.</p>\n\n<pre><code>new Handler(Looper.getMainLooper()).post(new Runnable() {\n                @Override\n                public void run() {\n                   // remove fragment from here\n                }\n            });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":969994,"reputation":548,"user_id":992703,"accept_rate":82,"display_name":"kaitian521"},"score":0,"creation_date":1673258024,"post_id":47717483,"comment_id":132449612,"body_markdown":"never do that! maybe something bad happens","body":"never do that! maybe something bad happens"},{"owner":{"account_id":5647797,"reputation":69,"user_id":4469322,"display_name":"Pierpaolo Pierpaoli"},"score":0,"creation_date":1679055058,"post_id":47717483,"comment_id":133656369,"body_markdown":"I did that in a production app years ago. It has worked fine since today","body":"I did that in a production app years ago. It has worked fine since today"}],"tags":[],"owner":{"account_id":5647797,"reputation":69,"user_id":4469322,"display_name":"Pierpaolo Pierpaoli"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1512747334,"creation_date":1512747334,"answer_id":47717483,"question_id":33242776,"body_markdown":"Override dispatchDraw method and put in it a try/catch block, like this:\r\n\r\n\r\n\r\n \r\n\r\n    public void dispatchDraw(Canvas c)\r\n        {\r\n            try\r\n            {\r\n                super.dispatchDraw(c);\r\n                return;\r\n                \r\n            }\r\n            catch(Exception exception)\r\n            {\r\n                return;\r\n            }\r\n        }\r\n\r\n\r\n \r\n","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>Override dispatchDraw method and put in it a try/catch block, like this:</p>\n\n<pre><code>public void dispatchDraw(Canvas c)\n    {\n        try\n        {\n            super.dispatchDraw(c);\n            return;\n\n        }\n        catch(Exception exception)\n        {\n            return;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9670100,"reputation":380,"user_id":7175336,"display_name":"Bassam Helal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584843082,"creation_date":1584843082,"answer_id":60795278,"question_id":33242776,"body_markdown":"While it is ugly and not good practice, the only thing I could get to reliably work is just catching the exception in `dispatchDraw()` like below:\r\n\r\n```kotlin\r\noverride fun dispatchDraw(canvas: Canvas?) {\r\n        /*\r\n         * We&#39;re doing this because of the below exception that is out of our control:\r\n         * java.lang.NullPointerException: Attempt to read from field\r\n         * &#39;int android.view.View.mViewFlags&#39; on a null object reference at\r\n         * android.view.ViewGroup.dispatchDraw(ViewGroup.java:4111)\r\n         */\r\n        try {\r\n            super.dispatchDraw(canvas)\r\n        } catch (e: NullPointerException) {\r\n\r\n        }\r\n    }\r\n```\r\n\r\nJust make sure your desired behavior is working correctly and you&#39;re not breaking something else by doing this.\r\nAgain, not ideal, but it&#39;s the only thing I could get to work and I&#39;m absolutely sure in my case it&#39;s not breaking anything else.\r\n\r\nPeace to you :)","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>While it is ugly and not good practice, the only thing I could get to reliably work is just catching the exception in <code>dispatchDraw()</code> like below:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun dispatchDraw(canvas: Canvas?) {\n        /*\n         * We're doing this because of the below exception that is out of our control:\n         * java.lang.NullPointerException: Attempt to read from field\n         * 'int android.view.View.mViewFlags' on a null object reference at\n         * android.view.ViewGroup.dispatchDraw(ViewGroup.java:4111)\n         */\n        try {\n            super.dispatchDraw(canvas)\n        } catch (e: NullPointerException) {\n\n        }\n    }\n</code></pre>\n\n<p>Just make sure your desired behavior is working correctly and you're not breaking something else by doing this.\nAgain, not ideal, but it's the only thing I could get to work and I'm absolutely sure in my case it's not breaking anything else.</p>\n\n<p>Peace to you :)</p>\n"},{"tags":[],"owner":{"account_id":17734551,"reputation":466,"user_id":12876239,"display_name":"Anirudh Ganesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590990421,"creation_date":1590989074,"answer_id":62126167,"question_id":33242776,"body_markdown":"I was trying to navigate from **Fragment A** to **Fragment B**, and **Fragment A** was a form that required data from **Fragment B**.\r\n\r\nSo when I tried to navigate without filling up **A**, it was throwing this exception.\r\n\r\nAlso, even if **A** was independent of the data **B**, it was throwing this exception.\r\n\r\nI have no idea why but I added a condition where the user had to fill-up the form before navigating away and that solved the issue.","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>I was trying to navigate from <strong>Fragment A</strong> to <strong>Fragment B</strong>, and <strong>Fragment A</strong> was a form that required data from <strong>Fragment B</strong>.</p>\n\n<p>So when I tried to navigate without filling up <strong>A</strong>, it was throwing this exception.</p>\n\n<p>Also, even if <strong>A</strong> was independent of the data <strong>B</strong>, it was throwing this exception.</p>\n\n<p>I have no idea why but I added a condition where the user had to fill-up the form before navigating away and that solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":3419254,"reputation":2327,"user_id":2867351,"display_name":"Morgan Koh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598323608,"creation_date":1598323608,"answer_id":63571347,"question_id":33242776,"body_markdown":"It&#39;s a threading issue. Could be that you&#39;re refreshing your `ViewPager` or some other adapter.\r\n\r\nHave been facing this issue on and off, and realised that if you place it in the UI Thread in your `Activity`, then it&#39;ll render just fine.\r\n\r\n```kotlin\r\nactivity?.runOnUiThread{\r\n   // Add Your UI Updating Methods Here\r\n}\r\n```","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>It's a threading issue. Could be that you're refreshing your <code>ViewPager</code> or some other adapter.</p>\n<p>Have been facing this issue on and off, and realised that if you place it in the UI Thread in your <code>Activity</code>, then it'll render just fine.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>activity?.runOnUiThread{\n   // Add Your UI Updating Methods Here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3087276,"reputation":1044,"user_id":2614189,"display_name":"Masoud Dadashi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619123787,"creation_date":1619123470,"answer_id":67220351,"question_id":33242776,"body_markdown":"No delay / threading stuff required. Plz Read through...\r\nThe post is old but for the future readers, it would be helpful.\r\nI explain in details what really happens with a use-case I faced and solved.\r\n\r\nI have a viewflipper which animates flipping next and previous through its children using simple slide-in / slide-out animations. I need to remove a view from viewflipper just after flipping is completed and to make sure it happens at the right time, slide-in animations have a listener where I remove the view in there. Everything worked perfect for flip-to-next\r\nwhile flip-to-previous threw the above mentioned exception. After some trial and error turns out:\r\n\r\nwhen flipping to next the following is the sequence:\r\n\r\n    1-slide-out starts\r\n    2-slide-in starts\r\n    3-slide-out finishes\r\n    4-slide-in finishes\r\n\r\nSo having listener on slide-in is the right thing since both animations are guaranteed to be completed there.\r\n\r\nBut when flipping to previous the following is the sequence:\r\n\r\n    1-slide-in starts\r\n    2-slide-out starts\r\n    3-slide-in finishes\r\n    4-slide-out finishes\r\n\r\nAs you can see, when slide-in finishes, slide-out is not done yet and hence there happens the exception. I simply set the listener on slide-out and it worked perfectly.\r\n\r\nWhile all of the other answers urge to remove the view with a delay (which of course helps to make sure concurrent animations are all done) but as you could see that is not the case. \r\n\r\nAs a general rule, when you have a set of animations running on a view (even with the exact same durations) -although the general belief is that they would finish both together - but they won&#39;t (remember that threads are virtually concurrent). \r\n\r\n","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>No delay / threading stuff required. Plz Read through...\nThe post is old but for the future readers, it would be helpful.\nI explain in details what really happens with a use-case I faced and solved.</p>\n<p>I have a viewflipper which animates flipping next and previous through its children using simple slide-in / slide-out animations. I need to remove a view from viewflipper just after flipping is completed and to make sure it happens at the right time, slide-in animations have a listener where I remove the view in there. Everything worked perfect for flip-to-next\nwhile flip-to-previous threw the above mentioned exception. After some trial and error turns out:</p>\n<p>when flipping to next the following is the sequence:</p>\n<pre><code>1-slide-out starts\n2-slide-in starts\n3-slide-out finishes\n4-slide-in finishes\n</code></pre>\n<p>So having listener on slide-in is the right thing since both animations are guaranteed to be completed there.</p>\n<p>But when flipping to previous the following is the sequence:</p>\n<pre><code>1-slide-in starts\n2-slide-out starts\n3-slide-in finishes\n4-slide-out finishes\n</code></pre>\n<p>As you can see, when slide-in finishes, slide-out is not done yet and hence there happens the exception. I simply set the listener on slide-out and it worked perfectly.</p>\n<p>While all of the other answers urge to remove the view with a delay (which of course helps to make sure concurrent animations are all done) but as you could see that is not the case.</p>\n<p>As a general rule, when you have a set of animations running on a view (even with the exact same durations) -although the general belief is that they would finish both together - but they won't (remember that threads are virtually concurrent).</p>\n"},{"tags":[],"owner":{"account_id":3061325,"reputation":1455,"user_id":2593896,"accept_rate":75,"display_name":"Shaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667270354,"creation_date":1667270354,"answer_id":74270963,"question_id":33242776,"body_markdown":"This is mainly because you are removing a view duaring touchEvent dispatching.\r\nIt&#39;s hard to find out the who is removing the view in a large code base.\r\n\r\nFor those who want the crash analysis, can check this post:\r\n\r\nhttps://medium.com/@wanxiao1994/crash-analysis-resetcancelnextupflag-nullpointerexception-e409b7bdbad","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>This is mainly because you are removing a view duaring touchEvent dispatching.\nIt's hard to find out the who is removing the view in a large code base.</p>\n<p>For those who want the crash analysis, can check this post:</p>\n<p><a href=\"https://medium.com/@wanxiao1994/crash-analysis-resetcancelnextupflag-nullpointerexception-e409b7bdbad\" rel=\"nofollow noreferrer\">https://medium.com/@wanxiao1994/crash-analysis-resetcancelnextupflag-nullpointerexception-e409b7bdbad</a></p>\n"}],"owner":{"account_id":5218224,"reputation":1104,"user_id":4172444,"accept_rate":25,"display_name":"M2014"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30653,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"answer_count":11,"score":75,"last_activity_date":1667270354,"creation_date":1445361225,"question_id":33242776,"body_markdown":"We have found several cases for this kind of crashes reported by backend logging monitoring. It seems the crashes do not tie to particular UX failure. And from the reports, there is no sign of how our own classes being involved(no sign of any of our classes names). Here is an example of typical crashes:\r\n\r\n    java.lang.NullPointerException: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference \r\n    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3357) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14288) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:273) \r\n    at android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:279) \r\n    at android.view.ThreadedRenderer.draw(ThreadedRenderer.java:318) \r\n    at android.view.ViewRootImpl.draw(ViewRootImpl.java:2561) \r\n    at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:2377) \r\n    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2007) \r\n    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1086) \r\n    at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6453) \r\n    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:846) \r\n    at android.view.Choreographer.doCallbacks(Choreographer.java:647) \r\n    at android.view.Choreographer.doFrame(Choreographer.java:601) \r\n    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:829) \r\n    at android.os.Handler.handleCallback(Handler.java:739) \r\n    at android.os.Handler.dispatchMessage(Handler.java:95) \r\n    at android.os.Looper.loop(Looper.java:135) \r\n    at android.app.ActivityThread.main(ActivityThread.java:5254) \r\n    at java.lang.reflect.Method.invoke(Native Method) \r\n    at java.lang.reflect.Method.invoke(Method.java:372) \r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:927) \r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:713) \r\n\r\n\r\n\r\nDoes anyone know whether there is related bug logged against Android code?\r\n","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>We have found several cases for this kind of crashes reported by backend logging monitoring. It seems the crashes do not tie to particular UX failure. And from the reports, there is no sign of how our own classes being involved(no sign of any of our classes names). Here is an example of typical crashes:</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to read from field 'int android.view.View.mViewFlags' on a null object reference \nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:3357) \nat android.view.View.updateDisplayListIfDirty(View.java:14288) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:273) \nat android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:279) \nat android.view.ThreadedRenderer.draw(ThreadedRenderer.java:318) \nat android.view.ViewRootImpl.draw(ViewRootImpl.java:2561) \nat android.view.ViewRootImpl.performDraw(ViewRootImpl.java:2377) \nat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2007) \nat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1086) \nat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6453) \nat android.view.Choreographer$CallbackRecord.run(Choreographer.java:846) \nat android.view.Choreographer.doCallbacks(Choreographer.java:647) \nat android.view.Choreographer.doFrame(Choreographer.java:601) \nat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:829) \nat android.os.Handler.handleCallback(Handler.java:739) \nat android.os.Handler.dispatchMessage(Handler.java:95) \nat android.os.Looper.loop(Looper.java:135) \nat android.app.ActivityThread.main(ActivityThread.java:5254) \nat java.lang.reflect.Method.invoke(Native Method) \nat java.lang.reflect.Method.invoke(Method.java:372) \nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:927) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:713) \n</code></pre>\n\n<p>Does anyone know whether there is related bug logged against Android code?</p>\n"},{"tags":["java","android","android-intent","android-activity","master-detail"],"comments":[{"owner":{"account_id":7866010,"reputation":1,"user_id":5944808,"display_name":"Omkar Jadhav"},"score":0,"creation_date":1455789360,"post_id":35477064,"comment_id":58650209,"body_markdown":"Please Help.. I am a beginner","body":"Please Help.. I am a beginner"}],"answers":[{"comments":[{"owner":{"account_id":7866010,"reputation":1,"user_id":5944808,"display_name":"Omkar Jadhav"},"score":0,"creation_date":1455964567,"post_id":35478178,"comment_id":58734001,"body_markdown":"what is main activity in Master detail flow","body":"what is main activity in Master detail flow"},{"owner":{"account_id":7866010,"reputation":1,"user_id":5944808,"display_name":"Omkar Jadhav"},"score":0,"creation_date":1455964661,"post_id":35478178,"comment_id":58734040,"body_markdown":"I have used the dummy content class to add items in the list, but i have used 17 items, Is this a problem","body":"I have used the dummy content class to add items in the list, but i have used 17 items, Is this a problem"},{"owner":{"account_id":6468215,"reputation":93,"user_id":5009298,"display_name":"prabhat yadav"},"score":0,"creation_date":1455964814,"post_id":35478178,"comment_id":58734081,"body_markdown":"i did not understand your question! can u edit your post with your master detail flow file(Activity) so i can have a better look at it","body":"i did not understand your question! can u edit your post with your master detail flow file(Activity) so i can have a better look at it"},{"owner":{"account_id":7866010,"reputation":1,"user_id":5944808,"display_name":"Omkar Jadhav"},"score":0,"creation_date":1455965093,"post_id":35478178,"comment_id":58734157,"body_markdown":"I want to run this app on API 10, gingerbread. and therefore i have declared API 10 as the minsdkVersion","body":"I want to run this app on API 10, gingerbread. and therefore i have declared API 10 as the minsdkVersion"},{"owner":{"account_id":6468215,"reputation":93,"user_id":5009298,"display_name":"prabhat yadav"},"score":0,"creation_date":1455965183,"post_id":35478178,"comment_id":58734189,"body_markdown":"okay! that detail is irrelevant. can u just post the main code of master detail flow.","body":"okay! that detail is irrelevant. can u just post the main code of master detail flow."},{"owner":{"account_id":7866010,"reputation":1,"user_id":5944808,"display_name":"Omkar Jadhav"},"score":0,"creation_date":1455966564,"post_id":35478178,"comment_id":58734643,"body_markdown":"please tell me the necessary changes","body":"please tell me the necessary changes"},{"owner":{"account_id":7866010,"reputation":1,"user_id":5944808,"display_name":"Omkar Jadhav"},"score":0,"creation_date":1455967106,"post_id":35478178,"comment_id":58734801,"body_markdown":"So that I would be able to run this on gingerbread, without any crashes. Is it safe to add 17 items to the Dummy Content java class, Please take a look even on that,  I will be very glad if i seek help.","body":"So that I would be able to run this on gingerbread, without any crashes. Is it safe to add 17 items to the Dummy Content java class, Please take a look even on that,  I will be very glad if i seek help."}],"tags":[],"owner":{"account_id":6468215,"reputation":93,"user_id":5009298,"display_name":"prabhat yadav"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455789428,"creation_date":1455789428,"answer_id":35478178,"question_id":35477064,"body_markdown":"Instead of this \r\n\r\n` public void Kha(View view) {\r\n        Intent ch = new Intent(getApplicationContext(), MainMenu.class);\r\n        startActivity(ch);    \r\n    }  `\r\n\r\ntry this\r\n\r\n` public void Kha(View view) {\r\n        Intent ch = new Intent(Propergrowth.this, MainMenu.class);\r\n        startActivity(ch);    \r\n    } `\r\n\r\nhopefully this will hep you","title":"How to start master flow activity via intent","body":"<p>Instead of this </p>\n\n<p><code>public void Kha(View view) {\n        Intent ch = new Intent(getApplicationContext(), MainMenu.class);\n        startActivity(ch);<br>\n    }</code></p>\n\n<p>try this</p>\n\n<p><code>public void Kha(View view) {\n        Intent ch = new Intent(Propergrowth.this, MainMenu.class);\n        startActivity(ch);<br>\n    }</code></p>\n\n<p>hopefully this will hep you</p>\n"}],"owner":{"account_id":7866010,"reputation":1,"user_id":5944808,"display_name":"Omkar Jadhav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667269890,"creation_date":1455786504,"question_id":35477064,"body_markdown":"  I try to start my master detail flow activity,via intent.But my app crashes. What should I do? Need help.Please.\r\n\r\nHere is my Code:\r\n\r\n    package com.example.baymax.farmax;    \r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.support.design.widget.FloatingActionButton;\r\n    import android.support.design.widget.Snackbar;    \r\n    import android.support.v7.app.AppCompatActivity;    \r\n    import android.support.v7.widget.Toolbar;    \r\n    import android.view.View;    \r\n    \r\n    public class Propergrowth extends AppCompatActivity {    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_propergrowth);\r\n    }\r\n        public void cher(View view) {    \r\n            startActivity(new Intent(Propergrowth.this,CropsListActivity.class));\r\n        }\r\n    public void Kha(View view) {\r\n            Intent ch = new Intent(getApplicationContext(), MainMenu.class);\r\n            startActivity(ch);    \r\n        }    \r\n    }        \r\n    }\r\n\r\nWhenever I try to open the Master Flow activity, by clicking the button, the app crashes, I tried many alternatives for the way of using intents, But though it crashes. Please, Need help.\r\n\r\n\r\n","title":"How to start master flow activity via intent","body":"<p>I try to start my master detail flow activity,via intent.But my app crashes. What should I do? Need help.Please.</p>\n\n<p>Here is my Code:</p>\n\n<pre><code>package com.example.baymax.farmax;    \n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.support.design.widget.FloatingActionButton;\nimport android.support.design.widget.Snackbar;    \nimport android.support.v7.app.AppCompatActivity;    \nimport android.support.v7.widget.Toolbar;    \nimport android.view.View;    \n\npublic class Propergrowth extends AppCompatActivity {    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_propergrowth);\n}\n    public void cher(View view) {    \n        startActivity(new Intent(Propergrowth.this,CropsListActivity.class));\n    }\npublic void Kha(View view) {\n        Intent ch = new Intent(getApplicationContext(), MainMenu.class);\n        startActivity(ch);    \n    }    \n}        \n}\n</code></pre>\n\n<p>Whenever I try to open the Master Flow activity, by clicking the button, the app crashes, I tried many alternatives for the way of using intents, But though it crashes. Please, Need help.</p>\n"},{"tags":["java","android","firebase-realtime-database","android-permissions"],"owner":{"account_id":9749798,"reputation":169,"user_id":7228432,"accept_rate":100,"display_name":"Haizad Annuar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667269321,"creation_date":1667269321,"question_id":74270877,"body_markdown":"I got error below if the device clock is behind. In this case,it is behind 1 year (11/1/2021):\r\n\r\n```\r\nI/System.out(19047): [socket]:check permission begin!\r\nW/System  (19047): ClassLoader referenced unknown path: system/framework/mediatek-cta.jar\r\nI/System.out(19047): [socket] e:java.lang.ClassNotFoundException: com.mediatek.cta.CtaUtils\r\n```\r\n\r\nI am trying to get the server time offset using Firebase Database function. I am not sure whether the error relates to the Firebase Database because I already edit the security rules of the Firebase database as below:\r\n\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;.read&quot;: true,\r\n    &quot;.write&quot;: true\r\n  }\r\n}\r\n```\r\n\r\n\r\nI am running the apps on physical device. My code is:\r\n\r\n```\r\nfinal offsetRef = FirebaseDatabase.instance.ref(&quot;.info/serverTimeOffset&quot;);\r\n\r\n...\r\n// I got the error once I started running codes below\r\noffsetRef.onValue.listen((event) {\r\n   final offset = event.snapshot.value as num ?? 0.0;\r\n   final estimatedServerTimeMs = DateTime.now().millisecondsSinceEpoch + offset;\r\n}\r\n```\r\n\r\nAndroidManifest.xml\r\n```\r\n&lt;manifest\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; package=&quot;com.example.app&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n```","title":"Android ClassNotFoundException: com.mediatek.cta.CtaUtils error when device clock is behind","body":"<p>I got error below if the device clock is behind. In this case,it is behind 1 year (11/1/2021):</p>\n<pre><code>I/System.out(19047): [socket]:check permission begin!\nW/System  (19047): ClassLoader referenced unknown path: system/framework/mediatek-cta.jar\nI/System.out(19047): [socket] e:java.lang.ClassNotFoundException: com.mediatek.cta.CtaUtils\n</code></pre>\n<p>I am trying to get the server time offset using Firebase Database function. I am not sure whether the error relates to the Firebase Database because I already edit the security rules of the Firebase database as below:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: true,\n    &quot;.write&quot;: true\n  }\n}\n</code></pre>\n<p>I am running the apps on physical device. My code is:</p>\n<pre><code>final offsetRef = FirebaseDatabase.instance.ref(&quot;.info/serverTimeOffset&quot;);\n\n...\n// I got the error once I started running codes below\noffsetRef.onValue.listen((event) {\n   final offset = event.snapshot.value as num ?? 0.0;\n   final estimatedServerTimeMs = DateTime.now().millisecondsSinceEpoch + offset;\n}\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;manifest\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; package=&quot;com.example.app&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\n</code></pre>\n"},{"tags":["java","internet-explorer","websphere-8"],"comments":[{"owner":{"account_id":5196039,"reputation":187,"user_id":4157304,"display_name":"Ankur Saxena"},"score":0,"creation_date":1666437889,"post_id":74162868,"comment_id":130939758,"body_markdown":"Check this out :- [https://stackoverflow.com/questions/4678797/how-do-i-get-the-remote-address-of-a-client-in-servlet]","body":"Check this out :- [<a href=\"https://stackoverflow.com/questions/4678797/how-do-i-get-the-remote-address-of-a-client-in-servlet]\" title=\"how do i get the remote address of a client in servlet%5d\">stackoverflow.com/questions/4678797/&hellip;</a>"},{"owner":{"account_id":34986,"reputation":17510,"user_id":98959,"display_name":"covener"},"score":0,"creation_date":1666441779,"post_id":74162868,"comment_id":130940490,"body_markdown":"If your load balancer is really operating at layer 4, you&#39;ll need to see what options your load balancer has for preserving the real client IP in the connection.  It can&#39;t be solved with HTTP headers in a layer 4 load balancer.","body":"If your load balancer is really operating at layer 4, you&#39;ll need to see what options your load balancer has for preserving the real client IP in the connection.  It can&#39;t be solved with HTTP headers in a layer 4 load balancer."},{"owner":{"account_id":26700566,"reputation":3,"user_id":20307685,"display_name":"root"},"score":0,"creation_date":1666515072,"post_id":74162868,"comment_id":130951572,"body_markdown":"Thank you all, I&#39;m gonna try tomorrow at my work.","body":"Thank you all, I&#39;m gonna try tomorrow at my work."},{"owner":{"account_id":26700566,"reputation":3,"user_id":20307685,"display_name":"root"},"score":0,"creation_date":1666613785,"post_id":74162868,"comment_id":130971432,"body_markdown":"@covener Thank you, It was becuase of L4 setting. I solved it","body":"@covener Thank you, It was becuase of L4 setting. I solved it"}],"answers":[{"tags":[],"owner":{"account_id":6487779,"reputation":151,"user_id":5022754,"display_name":"Richbest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667268872,"creation_date":1667268872,"answer_id":74270840,"question_id":74162868,"body_markdown":"Now X-forwarded for IHS and Websphere version not require\r\n\r\nSo you should used layer 4 with load balance is `HAProxy` with open source or `F5` with load balance with money\r\n\r\nand you can used `nginx` or `apache` for get IP for real IP X-Forwarded\r\nThanks and regards\r\ntandn\r\n\r\n\r\n","title":"How can I know real client IP in Websphere 8.5.5 and JAVA Web application","body":"<p>Now X-forwarded for IHS and Websphere version not require</p>\n<p>So you should used layer 4 with load balance is <code>HAProxy</code> with open source or <code>F5</code> with load balance with money</p>\n<p>and you can used <code>nginx</code> or <code>apache</code> for get IP for real IP X-Forwarded\nThanks and regards\ntandn</p>\n"}],"owner":{"account_id":26700566,"reputation":3,"user_id":20307685,"display_name":"root"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74270840,"answer_count":1,"score":0,"last_activity_date":1667268872,"creation_date":1666435660,"question_id":74162868,"body_markdown":"My server receives requests from Internet Explorer. And my server is a java web application and it is Websphere 8.5.\r\nI tried HttpRequestServlet.getRemoteAddr(), this was the IP of L4, not real client IP. I found that I could get the real IP from headers like X-Forwarded-For etc. In IE and Websphere, From which header can I get the real IP? or how can I get the real IP? ","title":"How can I know real client IP in Websphere 8.5.5 and JAVA Web application","body":"<p>My server receives requests from Internet Explorer. And my server is a java web application and it is Websphere 8.5.\nI tried HttpRequestServlet.getRemoteAddr(), this was the IP of L4, not real client IP. I found that I could get the real IP from headers like X-Forwarded-For etc. In IE and Websphere, From which header can I get the real IP? or how can I get the real IP?</p>\n"},{"tags":["java","recursion","linked-list","doubly-linked-list","circular-list"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1667266961,"post_id":74270490,"comment_id":131124362,"body_markdown":"So, can you show some more code? Regardless of their actual names, do you have a `List` class? If so, does it have a `ListNode head` instance variable?","body":"So, can you show some more code? Regardless of their actual names, do you have a <code>List</code> class? If so, does it have a <code>ListNode head</code> instance variable?"},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1667522545,"post_id":74270490,"comment_id":131192497,"body_markdown":"Be wary of recursive methods. Recurse too many times and you&#39;ll have a stack overflow just like this site itself!","body":"Be wary of recursive methods. Recurse too many times and you&#39;ll have a stack overflow just like this site itself!"}],"answers":[{"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1667276497,"post_id":74270669,"comment_id":131125500,"body_markdown":"current == this.head to reduce the extra parameter.","body":"current == this.head to reduce the extra parameter."},{"owner":{"account_id":19954329,"reputation":35,"user_id":14623254,"display_name":"Lantanar"},"score":0,"creation_date":1667306999,"post_id":74270669,"comment_id":131132891,"body_markdown":"Yes if this method is inside a class with meta information about the list you don&#39;t need an extra method. My answer was for a general case where you have no information besides a ListNode.","body":"Yes if this method is inside a class with meta information about the list you don&#39;t need an extra method. My answer was for a general case where you have no information besides a ListNode."}],"tags":[],"owner":{"account_id":19954329,"reputation":35,"user_id":14623254,"display_name":"Lantanar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667266996,"creation_date":1667266996,"answer_id":74270669,"question_id":74270490,"body_markdown":"I am assuming that by &quot;this does not work at all&quot; you mean that you run into problems down the line because you set every element to null. \r\nIf you cannot carry information on a node and you cannot change the method parameters I don&#39;t think it is possible to solve this. Therefore I would add a new internal method to do the actual recursive counting:\r\n```\r\npublic int size(ListNode head) {\r\n        if(head == null) return 0;\r\n        return 1 + recursiveSize(head.next, head);\r\n    }\r\n\r\nprivate int recursiveSize(ListNode current, ListNode start) {\r\n        if(current == start) return 0;\r\n        \r\n        return 1 + recursiveSize(current.next, start)\r\n    }","title":"Recursive method to count the size of a circular doubly linked list","body":"<p>I am assuming that by &quot;this does not work at all&quot; you mean that you run into problems down the line because you set every element to null.\nIf you cannot carry information on a node and you cannot change the method parameters I don't think it is possible to solve this. Therefore I would add a new internal method to do the actual recursive counting:</p>\n<pre><code>public int size(ListNode head) {\n        if(head == null) return 0;\n        return 1 + recursiveSize(head.next, head);\n    }\n\nprivate int recursiveSize(ListNode current, ListNode start) {\n        if(current == start) return 0;\n        \n        return 1 + recursiveSize(current.next, start)\n    }\n</code></pre>\n"}],"owner":{"account_id":25165879,"reputation":1,"user_id":19009428,"display_name":"Cosmo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667266996,"creation_date":1667264525,"question_id":74270490,"body_markdown":"I am currently tasked with creating a recursive method to determine the length of a circular doubly linked list, that being a doubly linked list where the final node points back to the head node and vice versa.\r\n\r\nI can&#39;t check for equality to null because due to the circular nature of the list, but the only argument I can supply is a head node, which I can&#39;t check equality to as it changes as I recurse.\r\n\r\nMy code stands as follows:\r\n\r\n\r\n\r\n```\r\npublic int size(ListNode head) {\r\n    \tif(head.element == null || head == null) return 0;\r\n    \thead.element = null;\r\n    \treturn 1 + size(head.next);\r\n    }\r\n\r\n```\r\n\r\nI&#39;ve attempted to look at the element at the pointer, setting it to null then moving on such that when the method wraps around to the original head pointer, it detects the null and stops recursing. However, this does not work at all.\r\n","title":"Recursive method to count the size of a circular doubly linked list","body":"<p>I am currently tasked with creating a recursive method to determine the length of a circular doubly linked list, that being a doubly linked list where the final node points back to the head node and vice versa.</p>\n<p>I can't check for equality to null because due to the circular nature of the list, but the only argument I can supply is a head node, which I can't check equality to as it changes as I recurse.</p>\n<p>My code stands as follows:</p>\n<pre><code>public int size(ListNode head) {\n        if(head.element == null || head == null) return 0;\n        head.element = null;\n        return 1 + size(head.next);\n    }\n\n</code></pre>\n<p>I've attempted to look at the element at the pointer, setting it to null then moving on such that when the method wraps around to the original head pointer, it detects the null and stops recursing. However, this does not work at all.</p>\n"},{"tags":["java","mqtt"],"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1667265340,"post_id":74270516,"comment_id":131124124,"body_markdown":"The `subscribe` method is asynchronous. This method will almost immediately return `true` in all cases.","body":"The <code>subscribe</code> method is asynchronous. This method will almost immediately return <code>true</code> in all cases."},{"owner":{"account_id":23817885,"reputation":35,"user_id":17825886,"display_name":"Kajstrl"},"score":0,"creation_date":1667265471,"post_id":74270516,"comment_id":131124141,"body_markdown":"I know that but how do i let other functions let know that the condition was completed.","body":"I know that but how do i let other functions let know that the condition was completed."},{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1667265687,"post_id":74270516,"comment_id":131124179,"body_markdown":"Depending on your use case, you could set a local variable (like `this.completed = true`) and check that field in your other methods, or call another method at the same place you unsubscribe (like `complete()`).","body":"Depending on your use case, you could set a local variable (like <code>this.completed = true</code>) and check that field in your other methods, or call another method at the same place you unsubscribe (like <code>complete()</code>)."}],"owner":{"account_id":23817885,"reputation":35,"user_id":17825886,"display_name":"Kajstrl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667265252,"creation_date":1667264924,"question_id":74270516,"body_markdown":"I&#39;m having a problem writing correct code with MQTT in Java. My goal is to subscribe to a topic and watch if some kind of messages are coming. Then, if it hits certain amount, the function will return true.\r\n\r\nThe problem is the function returns the value sooner than the subscribe counts its goal.\r\n\r\nHere&#39;s my fragment of code:\r\n\r\n```\r\n@Override\r\npublic Boolean call() throws Exception {\r\n    mqttClient.subscribe(couple.getTopic().getUrl(), (topic, message) -&gt; {\r\n        System.out.println(new String(message.getPayload()) + &quot;=&quot; + couple.getMessage().getJson());\r\n        if (new String(message.getPayload()).equals(couple.getMessage().getJson())) {\r\n            System.out.println(&quot;Match&quot;);\r\n            this.accurance++;\r\n            System.out.println(&quot;accurance :&quot; + this.accurance);\r\n            if (this.accurance &gt;= this.goal) {\r\n                //sendMessage(couple);\r\n                mqttClient.unsubscribe(couple.getTopic().getUrl());\r\n                return;\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Not match&quot;);\r\n        }\r\n    });\r\n    return true;\r\n}\r\n```","title":"MQTT Java - How to end connection after receiving a certain number of messages?","body":"<p>I'm having a problem writing correct code with MQTT in Java. My goal is to subscribe to a topic and watch if some kind of messages are coming. Then, if it hits certain amount, the function will return true.</p>\n<p>The problem is the function returns the value sooner than the subscribe counts its goal.</p>\n<p>Here's my fragment of code:</p>\n<pre><code>@Override\npublic Boolean call() throws Exception {\n    mqttClient.subscribe(couple.getTopic().getUrl(), (topic, message) -&gt; {\n        System.out.println(new String(message.getPayload()) + &quot;=&quot; + couple.getMessage().getJson());\n        if (new String(message.getPayload()).equals(couple.getMessage().getJson())) {\n            System.out.println(&quot;Match&quot;);\n            this.accurance++;\n            System.out.println(&quot;accurance :&quot; + this.accurance);\n            if (this.accurance &gt;= this.goal) {\n                //sendMessage(couple);\n                mqttClient.unsubscribe(couple.getTopic().getUrl());\n                return;\n            }\n        } else {\n            System.out.println(&quot;Not match&quot;);\n        }\n    });\n    return true;\n}\n</code></pre>\n"},{"tags":["javascript","java","android","android-studio","button"],"comments":[{"owner":{"account_id":10942225,"reputation":2447,"user_id":8041634,"display_name":"shagberg"},"score":0,"creation_date":1666874613,"post_id":74222113,"comment_id":131041703,"body_markdown":"You need to review the error message from your log file. If you aren&#39;t able to figure out the issue from that, post it here.","body":"You need to review the error message from your log file. If you aren&#39;t able to figure out the issue from that, post it here."},{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":0,"creation_date":1666874638,"post_id":74222113,"comment_id":131041709,"body_markdown":"Check the Logcat and find the exception that&#39;s getting thrown. It&#39;s not possible to tell what&#39;s wrong with the code you posted without seeing the error message and the stacktrace.","body":"Check the Logcat and find the exception that&#39;s getting thrown. It&#39;s not possible to tell what&#39;s wrong with the code you posted without seeing the error message and the stacktrace."},{"owner":{"account_id":26749312,"reputation":3,"user_id":20348944,"display_name":"notyouraveragetoru"},"score":0,"creation_date":1666878168,"post_id":74222113,"comment_id":131043127,"body_markdown":"there is no error in the logcat thou, the program ran smoothly but when i tried clicking the button the app crashes","body":"there is no error in the logcat thou, the program ran smoothly but when i tried clicking the button the app crashes"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":1,"creation_date":1666883148,"post_id":74222113,"comment_id":131045113,"body_markdown":"What is the error on your logcat? Please edit and put it in your question.","body":"What is the error on your logcat? Please edit and put it in your question."}],"answers":[{"tags":[],"owner":{"account_id":25584237,"reputation":1,"user_id":19362188,"display_name":"Someguy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667263486,"creation_date":1667263486,"answer_id":74270403,"question_id":74222113,"body_markdown":"Yeah, it&#39;s a bit difficult to tell what&#39;s going on because you have multiple onClick listeners (two for Textviews). Each one is bringing you to a specific Class/XML layout so anything in the XML layout or the code for those classes could be causing the crash. \r\n\r\nIf it&#39;s crashing when you click on btn1 then I would check the ProfileActivity.java or its corresponding XML file. \r\n\r\nStart your program with the debugger which is the little green icon in the top right (over from the run options) and then go click the button that&#39;s crashing it. If you open up your logcat (and ensure it&#39;s showing errors) you should see something there. That&#39;ll give you more of an idea of what&#39;s going on. \r\n","title":"I tried running my code in android studio but whenever i click on the button it crashes","body":"<p>Yeah, it's a bit difficult to tell what's going on because you have multiple onClick listeners (two for Textviews). Each one is bringing you to a specific Class/XML layout so anything in the XML layout or the code for those classes could be causing the crash.</p>\n<p>If it's crashing when you click on btn1 then I would check the ProfileActivity.java or its corresponding XML file.</p>\n<p>Start your program with the debugger which is the little green icon in the top right (over from the run options) and then go click the button that's crashing it. If you open up your logcat (and ensure it's showing errors) you should see something there. That'll give you more of an idea of what's going on.</p>\n"}],"owner":{"account_id":26749312,"reputation":3,"user_id":20348944,"display_name":"notyouraveragetoru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667263486,"creation_date":1666874035,"question_id":74222113,"body_markdown":"I tried clicking on the button on my code but the application keeps on crashing i want to know if my code is wrong or my device used for running is wrong.here is the code \r\n\r\n```\r\npackage com.example.pnrcompanion;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class LoginActivity extends AppCompatActivity {\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        getSupportActionBar().hide();\r\n        setContentView(R.layout.activity_login);\r\n\r\n        TextView text1=findViewById(R.id.txt_signup2);\r\n        TextView text2=findViewById(R.id.txt_3);\r\n        Button btn1=findViewById(R.id.btnLogin);\r\n\r\n        btn1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(LoginActivity.this, ProfileActivity.class));\r\n            }\r\n        });\r\n\r\n        text1.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View v){\r\n                startActivity(new Intent(LoginActivity.this, RegisterActivity.class));\r\n            }\r\n        });\r\n\r\n        text2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(LoginActivity.this, ForgetPasswordActivity.class));\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nI want to try to fix this code so that i can run it for my project. ","title":"I tried running my code in android studio but whenever i click on the button it crashes","body":"<p>I tried clicking on the button on my code but the application keeps on crashing i want to know if my code is wrong or my device used for running is wrong.here is the code</p>\n<pre><code>package com.example.pnrcompanion;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.WindowManager;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class LoginActivity extends AppCompatActivity {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        getSupportActionBar().hide();\n        setContentView(R.layout.activity_login);\n\n        TextView text1=findViewById(R.id.txt_signup2);\n        TextView text2=findViewById(R.id.txt_3);\n        Button btn1=findViewById(R.id.btnLogin);\n\n        btn1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                startActivity(new Intent(LoginActivity.this, ProfileActivity.class));\n            }\n        });\n\n        text1.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View v){\n                startActivity(new Intent(LoginActivity.this, RegisterActivity.class));\n            }\n        });\n\n        text2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                startActivity(new Intent(LoginActivity.this, ForgetPasswordActivity.class));\n            }\n        });\n\n\n\n\n    }\n}\n</code></pre>\n<p>I want to try to fix this code so that i can run it for my project.</p>\n"},{"tags":["java","android","android-service","android-livedata","mutablelivedata"],"answers":[{"comments":[{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1667282325,"post_id":74270390,"comment_id":131126324,"body_markdown":"but LocalBroadcastManager is now deprecated :( so what other solution could I use?","body":"but LocalBroadcastManager is now deprecated :( so what other solution could I use?"},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1667283566,"post_id":74270390,"comment_id":131126547,"body_markdown":"Please see whether the following link can help.\nIt is using a singleton LiveData located inside the service and access it by callers.\nhttps://stackoverflow.com/questions/68995642/how-can-i-update-ui-from-service-using-livedata","body":"Please see whether the following link can help. It is using a singleton LiveData located inside the service and access it by callers. <a href=\"https://stackoverflow.com/questions/68995642/how-can-i-update-ui-from-service-using-livedata\" title=\"how can i update ui from service using livedata\">stackoverflow.com/questions/68995642/&hellip;</a>"},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1667283649,"post_id":74270390,"comment_id":131126563,"body_markdown":"Just I am not sure that whether there is listener on the LiveData to observe who &quot;attach&quot; to or &quot;detach&quot; from it. I might be totally wrong since I am a regular DAO users so please forgive me if this is not the case","body":"Just I am not sure that whether there is listener on the LiveData to observe who &quot;attach&quot; to or &quot;detach&quot; from it. I might be totally wrong since I am a regular DAO users so please forgive me if this is not the case"}],"tags":[],"owner":{"account_id":23934334,"reputation":346,"user_id":17928307,"display_name":"Harry"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667263331,"creation_date":1667263331,"answer_id":74270390,"question_id":74269380,"body_markdown":"Sending data from Service to Activity using LiveData may not be the best solution. You may want to consider LocalBroadcastManager or other solutions. But to answer your question, if you can somehow get a reference to your Activity&#39;s ViewModel from your Service and call &quot;postValue&quot; method on the MutableLiveData the new value will be applied and if your Activity is not paused or destroyed and it is observing that LiveData on the Activity LifeCycle, it should get triggered.","title":"How to use livedata to send data from service to activity?","body":"<p>Sending data from Service to Activity using LiveData may not be the best solution. You may want to consider LocalBroadcastManager or other solutions. But to answer your question, if you can somehow get a reference to your Activity's ViewModel from your Service and call &quot;postValue&quot; method on the MutableLiveData the new value will be applied and if your Activity is not paused or destroyed and it is observing that LiveData on the Activity LifeCycle, it should get triggered.</p>\n"}],"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667263331,"creation_date":1667252430,"question_id":74269380,"body_markdown":"How with livedata can i send some data from a service to the main activity and (the most important), how can I know that a main activity was actually observing this data so that I m sure I didn&#39;t sent the data nowhere? ","title":"How to use livedata to send data from service to activity?","body":"<p>How with livedata can i send some data from a service to the main activity and (the most important), how can I know that a main activity was actually observing this data so that I m sure I didn't sent the data nowhere?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"score":0,"creation_date":1612473489,"post_id":60727265,"comment_id":116785759,"body_markdown":"Could you share what `AuthorizationServerUserId` is?","body":"Could you share what <code>AuthorizationServerUserId</code> is?"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":1,"creation_date":1612536940,"post_id":60727265,"comment_id":116805460,"body_markdown":"@Stuck This is a value object that keeps track of the id of the user on the authorization server. It basically encapsulates the `String` that is the &quot;primary key&quot; of the user on the authorization server.","body":"@Stuck This is a value object that keeps track of the id of the user on the authorization server. It basically encapsulates the <code>String</code> that is the &quot;primary key&quot; of the user on the authorization server."},{"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"score":0,"creation_date":1612565430,"post_id":60727265,"comment_id":116816201,"body_markdown":"ok thanks, so for future readers: think of it as `userService.findById(principal.getName())` - `principle.getName()` returns the jwt&#39;s `sub` (subject = the auth server&#39;s user id) by default.","body":"ok thanks, so for future readers: think of it as <code>userService.findById(principal.getName())</code> - <code>principle.getName()</code> returns the jwt&#39;s <code>sub</code> (subject = the auth server&#39;s user id) by default."}],"answers":[{"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1584516633,"post_id":60727858,"comment_id":107456767,"body_markdown":"Super answer, thanks! One thing I needed to do in my tests is instead of using `@MockBean` with a `UserService` field in my test itself, I needed to create a bean myself in the `@TestConfiguration` that I use like `@Bean public UserService userService() {return mock(UserService.class);}`. If you don&#39;t do this, there is an exception that the `userService` bean cannot be resolved.","body":"Super answer, thanks! One thing I needed to do in my tests is instead of using <code>@MockBean</code> with a <code>UserService</code> field in my test itself, I needed to create a bean myself in the <code>@TestConfiguration</code> that I use like <code>@Bean public UserService userService() {return mock(UserService.class);}</code>. If you don&#39;t do this, there is an exception that the <code>userService</code> bean cannot be resolved."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":1,"creation_date":1584516759,"post_id":60727858,"comment_id":107456803,"body_markdown":"Also: because I was using `Optional` and a static helper method, the full expression I ended up with is `@userService.findByAuthorizationServerUserId(T(com.company.project.backend.user.authserver.AuthorizationServerUserId).fromPrincipal(#this)).orElse(null)` (Notice the `T` to be able to call a static method)","body":"Also: because I was using <code>Optional</code> and a static helper method, the full expression I ended up with is <code>@userService.findByAuthorizationServerUserId(T(com.company.p&zwnj;&#8203;roject.backend.user.&zwnj;&#8203;authserver.Authoriza&zwnj;&#8203;tionServerUserId).fr&zwnj;&#8203;omPrincipal(#this)).&zwnj;&#8203;orElse(null)</code> (Notice the <code>T</code> to be able to call a static method)"},{"owner":{"account_id":2437651,"reputation":1465,"user_id":2127121,"accept_rate":88,"display_name":"Villat"},"score":0,"creation_date":1632511208,"post_id":60727858,"comment_id":122521783,"body_markdown":"Why would you need @Targe({ElementType.TYPE}) for this one?","body":"Why would you need @Targe({ElementType.TYPE}) for this one?"}],"tags":[],"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1584468107,"creation_date":1584468107,"answer_id":60727858,"question_id":60727265,"body_markdown":"`@AuthenticationPrincipal` accepts a SpEL expression as a parameter.\r\n\r\nYou can specify the bean and method that transforms the principal into a `User` in the provided SpEL expression.\r\n\r\n```java\r\n@GetMapping\r\npublic ResponseEntity&lt;?&gt; doSomething(@AuthenticationPrincipal(expression = &quot;@userService.getUser(#this)&quot;) User user) {\r\n\r\n}\r\n```\r\n\r\nwhere `userService` refers to the `UserService` bean.\r\n\r\n\r\nYou can take it one step further by creating a custom annotation that uses `@AuthenticationPrincipal` as a meta annotation. \r\n\r\n```java\r\n@Target({ElementType.PARAMETER, ElementType.TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@AuthenticationPrincipal(expression = &quot;@userService.getUser(#this)&quot;)\r\npublic @interface CurrentUser {}\r\n```\r\n\r\nThen your controller would become\r\n\r\n```java\r\n@GetMapping\r\npublic ResponseEntity&lt;?&gt; doSomething(@CurrentUser User user) {\r\n\r\n}\r\n```","title":"Use @AuthenticationPrincipal with JwtAuthenticationToken to use own user class","body":"<p><code>@AuthenticationPrincipal</code> accepts a SpEL expression as a parameter.</p>\n\n<p>You can specify the bean and method that transforms the principal into a <code>User</code> in the provided SpEL expression.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping\npublic ResponseEntity&lt;?&gt; doSomething(@AuthenticationPrincipal(expression = \"@userService.getUser(#this)\") User user) {\n\n}\n</code></pre>\n\n<p>where <code>userService</code> refers to the <code>UserService</code> bean.</p>\n\n<p>You can take it one step further by creating a custom annotation that uses <code>@AuthenticationPrincipal</code> as a meta annotation. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.PARAMETER, ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@AuthenticationPrincipal(expression = \"@userService.getUser(#this)\")\npublic @interface CurrentUser {}\n</code></pre>\n\n<p>Then your controller would become</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping\npublic ResponseEntity&lt;?&gt; doSomething(@CurrentUser User user) {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8878226,"reputation":6251,"user_id":6629515,"display_name":"Oleksandr Yefymov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667262718,"creation_date":1667262718,"answer_id":74270340,"question_id":60727265,"body_markdown":"You can even get any information from the token (including custom claims).\r\n\r\nFor example, we add `userId` to the token, then to get it:\r\n\r\n    @Target({ElementType.PARAMETER, ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    @AuthenticationPrincipal(expression = &quot;getClaims().get(&#39;userId&#39;)&quot;)\r\n    public @interface UserAuthenticationId {\r\n    }\r\n\r\nAnd controller:\r\n\r\n      @GetMapping(&quot;/me&quot;)\r\n      public User getCurrentUser(@UserAuthenticationId String userId) {\r\n        log.info(&quot;Get current user: {}&quot;, userId);\r\n\r\n","title":"Use @AuthenticationPrincipal with JwtAuthenticationToken to use own user class","body":"<p>You can even get any information from the token (including custom claims).</p>\n<p>For example, we add <code>userId</code> to the token, then to get it:</p>\n<pre><code>@Target({ElementType.PARAMETER, ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@AuthenticationPrincipal(expression = &quot;getClaims().get('userId')&quot;)\npublic @interface UserAuthenticationId {\n}\n</code></pre>\n<p>And controller:</p>\n<pre><code>  @GetMapping(&quot;/me&quot;)\n  public User getCurrentUser(@UserAuthenticationId String userId) {\n    log.info(&quot;Get current user: {}&quot;, userId);\n</code></pre>\n"}],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6426,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60727858,"answer_count":2,"score":4,"last_activity_date":1667262718,"creation_date":1584465738,"question_id":60727265,"body_markdown":"I am using Spring Boot 2.2.5 with Spring Security 5.2.2 using `spring-security-oauth2-resource-server` and `spring-security-oauth2-jose` dependencies.\r\n\r\nIn my controller methods, I have this working:\r\n\r\n```\r\n@GetMapping\r\npublic ResponseEntity&lt;?&gt; doSomething(@AuthenticationPrincipal JwtAuthenticationToken principal) {\r\n    User user = getUser(principal);\r\n    ...\r\n}\r\n```\r\n\r\nThe `principal` gets injected and contains the id of the user on Azure (I am using Azure AD B2C).\r\n\r\nThe first thing I need to do in every method is get my own `User` object using this private method that retrieves the `User` from my `userService` Spring bean:\r\n\r\n```\r\n    private User getUser(JwtAuthenticationToken principal) {\r\n        AuthorizationServerUserId authorizationServerUserId = AuthorizationServerUserId.fromPrincipal(principal);\r\n        return userService.findByAuthorizationServerUserId(authorizationServerUserId)\r\n                          .orElseThrow(() -&gt; UserNotFoundException.forAuthorizationServerUserId(authorizationServerUserId));\r\n    }\r\n```\r\n\r\nHow can I configure Spring (Boot) so that this works:\r\n\r\n```\r\n@GetMapping\r\npublic ResponseEntity&lt;?&gt; doSomething(@AuthenticationPrincipal User user) {\r\n\r\n}\r\n```\r\n\r\nThe security configuration is currently done like this:\r\n\r\n```\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\r\n                .authorizeRequests(registry -&gt; {\r\n                    registry.antMatchers(&quot;/registration/**&quot;).permitAll();\r\n\r\n                    registry.antMatchers(&quot;/api/**&quot;).authenticated();\r\n                });\r\n    }\r\n}\r\n```\r\n","title":"Use @AuthenticationPrincipal with JwtAuthenticationToken to use own user class","body":"<p>I am using Spring Boot 2.2.5 with Spring Security 5.2.2 using <code>spring-security-oauth2-resource-server</code> and <code>spring-security-oauth2-jose</code> dependencies.</p>\n\n<p>In my controller methods, I have this working:</p>\n\n<pre><code>@GetMapping\npublic ResponseEntity&lt;?&gt; doSomething(@AuthenticationPrincipal JwtAuthenticationToken principal) {\n    User user = getUser(principal);\n    ...\n}\n</code></pre>\n\n<p>The <code>principal</code> gets injected and contains the id of the user on Azure (I am using Azure AD B2C).</p>\n\n<p>The first thing I need to do in every method is get my own <code>User</code> object using this private method that retrieves the <code>User</code> from my <code>userService</code> Spring bean:</p>\n\n<pre><code>    private User getUser(JwtAuthenticationToken principal) {\n        AuthorizationServerUserId authorizationServerUserId = AuthorizationServerUserId.fromPrincipal(principal);\n        return userService.findByAuthorizationServerUserId(authorizationServerUserId)\n                          .orElseThrow(() -&gt; UserNotFoundException.forAuthorizationServerUserId(authorizationServerUserId));\n    }\n</code></pre>\n\n<p>How can I configure Spring (Boot) so that this works:</p>\n\n<pre><code>@GetMapping\npublic ResponseEntity&lt;?&gt; doSomething(@AuthenticationPrincipal User user) {\n\n}\n</code></pre>\n\n<p>The security configuration is currently done like this:</p>\n\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\n                .authorizeRequests(registry -&gt; {\n                    registry.antMatchers(\"/registration/**\").permitAll();\n\n                    registry.antMatchers(\"/api/**\").authenticated();\n                });\n    }\n}\n</code></pre>\n"},{"tags":["java","delphi","java-native-interface","delphi-xe7"],"comments":[{"owner":{"account_id":29836,"reputation":36360,"user_id":80901,"accept_rate":80,"display_name":"mjn"},"score":2,"creation_date":1667236952,"post_id":74264655,"comment_id":131117888,"body_markdown":"Maybe related / already answered here: https://stackoverflow.com/questions/36250235/exception-0xc0000005-from-jni-createjavavm-jvm-dll","body":"Maybe related / already answered here: <a href=\"https://stackoverflow.com/questions/36250235/exception-0xc0000005-from-jni-createjavavm-jvm-dll\" title=\"exception 0xc0000005 from jni createjavavm jvm dll\">stackoverflow.com/questions/36250235/&hellip;</a>"},{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1667246252,"post_id":74264655,"comment_id":131120512,"body_markdown":"When you see the AV, are you running inside the debugger? Does the AV actually reach your code? If not, then don&#39;t worry about it.","body":"When you see the AV, are you running inside the debugger? Does the AV actually reach your code? If not, then don&#39;t worry about it."},{"owner":{"account_id":5112351,"reputation":53,"user_id":4098589,"accept_rate":0,"display_name":"Jacek U"},"score":0,"creation_date":1667555205,"post_id":74264655,"comment_id":131198591,"body_markdown":"I&#39;m running inside the debugger. That AV causes not working Java VM. So I can&#39;t go further.","body":"I&#39;m running inside the debugger. That AV causes not working Java VM. So I can&#39;t go further."}],"owner":{"account_id":5112351,"reputation":53,"user_id":4098589,"accept_rate":0,"display_name":"Jacek U"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667262712,"creation_date":1667225764,"question_id":74264655,"body_markdown":"I have problem with loading Java VM. When I do LoadVM program gives access violation. On other computer it works fine. Here is some code that works but not on my machine:\r\n\r\n    uses jni;\r\n    var\r\n    \r\n    Options: array [0..1] of JavaVMOption;\r\n    VM_args: JavaVMInitArgs;\r\n    ErrCode: Integer;\r\n    AJavaVM: TJavaVM;\r\n    AJavaEnvMain: TJNIEnv;\r\n    JrePath, ProgramPath, LibPath, File1, File2: string;\r\n\r\n    begin\r\n    \r\n      ProgramPath := &#39;d:\\testjava\\exe\\&#39;;\r\n      JrePath := ProgramPath + &#39;JRE\\bin\\client\\&#39;;\r\n      LibPath := ProgramPath + &#39;JRE\\lib\\ext\\&#39;;   \r\n    \r\n       File1 := LibPath + &#39;file1.jar&#39;;\r\n       File2 := LibPath + &#39;file2.jar&#39;;\r\n    \r\n      AJavaVM := TJavaVM.Create(JNI_VERSION_1_8, JrePath + &#39;jvm.dll&#39;);\r\n    \r\n       FillChar(Options, SizeOf(Options), #0);\r\n    \r\n       Options[0].optionString := PAnsiChar(AnsiString(&#39;-D java.class.path=&#39; + File1 + &#39;;&#39; + File2));\r\n    \r\n       VM_args.version := JNI_VERSION_1_8;\r\n       VM_args.Options := @Options;\r\n       VM_args.nOptions := 1;\r\n       ErrCode := AJavaVM.LoadVM(VM_args); **//access violation**\r\n    \r\n       if ErrCode &lt; 0 then\r\n       raise Exception.CreateFmt(&#39;Initialization error JVM, bd %d.&#39;, [ErrCode]);\r\n\r\n    ","title":"LoadVM Java VM with JNI - access violation","body":"<p>I have problem with loading Java VM. When I do LoadVM program gives access violation. On other computer it works fine. Here is some code that works but not on my machine:</p>\n<pre><code>uses jni;\nvar\n\nOptions: array [0..1] of JavaVMOption;\nVM_args: JavaVMInitArgs;\nErrCode: Integer;\nAJavaVM: TJavaVM;\nAJavaEnvMain: TJNIEnv;\nJrePath, ProgramPath, LibPath, File1, File2: string;\n\nbegin\n\n  ProgramPath := 'd:\\testjava\\exe\\';\n  JrePath := ProgramPath + 'JRE\\bin\\client\\';\n  LibPath := ProgramPath + 'JRE\\lib\\ext\\';   \n\n   File1 := LibPath + 'file1.jar';\n   File2 := LibPath + 'file2.jar';\n\n  AJavaVM := TJavaVM.Create(JNI_VERSION_1_8, JrePath + 'jvm.dll');\n\n   FillChar(Options, SizeOf(Options), #0);\n\n   Options[0].optionString := PAnsiChar(AnsiString('-D java.class.path=' + File1 + ';' + File2));\n\n   VM_args.version := JNI_VERSION_1_8;\n   VM_args.Options := @Options;\n   VM_args.nOptions := 1;\n   ErrCode := AJavaVM.LoadVM(VM_args); **//access violation**\n\n   if ErrCode &lt; 0 then\n   raise Exception.CreateFmt('Initialization error JVM, bd %d.', [ErrCode]);\n</code></pre>\n"},{"tags":["java","recursion","sequence"],"answers":[{"comments":[{"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"score":1,"creation_date":1667176650,"post_id":74257677,"comment_id":131102402,"body_markdown":"@pinkbird Generally, a recursive solution would be slower, but with your solution, your recursion is essentially the same as an O(n) loop. However, I believe in this case, the recursive approach you started with is actually faster. The iterative approach I coded has more nested loops. Either approach works perfectly fine though :) Hope this was helpful!","body":"@pinkbird Generally, a recursive solution would be slower, but with your solution, your recursion is essentially the same as an O(n) loop. However, I believe in this case, the recursive approach you started with is actually faster. The iterative approach I coded has more nested loops. Either approach works perfectly fine though :) Hope this was helpful!"}],"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1667260200,"creation_date":1667175789,"answer_id":74257677,"question_id":74257650,"body_markdown":"This is a very cool sequence! I like that it is English based and not mathematical, haha. (Though now I wonder ... is there a formula we could make for the nth term? I&#39;m pretty sure it&#39;s impossible or uses some crazy-level math, but just something to think about ...)\r\n\r\nIn your solution, the recursive logic of your code is correct: after you find each term, you repeat the method with your knew number and find the next term using that element, and end when you have determined the first `n` elements. Your base case is also correct.\r\n\r\nHowever, the algorithm you developed for determining the terms in the sequence is the issue. \r\n\r\nTo determine the next element in the sequence, we want to:\r\n\r\nLogical Error:\r\n1) Create a empty variable, `y`, for your next element. The variable, `counter`, should not start at `0`, however. This is because every element will ALWAYS have an occurrence of at least `1`, so we should initialize `int counter = 1;`\r\n\r\n2) Iterate through the characters in `x`. (You did this step correctly) We begin at `i = 1`, because we compare each character to the previous one.\r\n\r\n3) If the current character is equal to the previous character, we increment `counter` by `1`. \r\n4) Otherwise, we concatenate `counter` and the character being repeated, to `y`. Remember, to reinitialize `counter` to `1`, not `0`.\r\n\r\nTechnical Errors:\r\n\r\n5) Once we reach the end of iterating `x`, we need to concatenate our final `counter` and character to `y`, since the else statement for the final characters will never run in our for loop. \r\n\r\nThis is done with the following code: ```y += &quot;&quot; + counter + x.charAt(x.length() - 1);```\r\n\r\n6) Finally, when you are doing your recursive call, you should do `--times` instead of `times--`. The difference between these two parameters is that with your original code, you are post-decrementing. This means the value of `times` is decreasing after the method call, when we want the decreased value to be sent into the method. To solve this, we need to pre-decrement, by doing `--times`.\r\n```\r\nimport java.util.*;\r\nclass CoolSequence {\r\n  public static void main(String[] args) {\r\n    Scanner scan = new Scanner(System.in);\r\n    int n = scan.nextInt();\r\n    System.out.println(num(n, &quot;1&quot;));\r\n  }\r\n    public static String num(int times, String x){\r\n        if(times == 0){\r\n            return x;\r\n        }\r\n        else{\r\n            String y = &quot;&quot;;\r\n            int counter = 1;\r\n            for(int i = 1; i &lt; x.length(); i++){\r\n                if(x.charAt(i) == x.charAt(i - 1)){\r\n                    counter++;\r\n                }\r\n                else{\r\n                    y += &quot;&quot; + counter + x.charAt(i - 1);\r\n                    counter = 1;\r\n                }\r\n            }\r\n            y += &quot;&quot; + counter + x.charAt(x.length() - 1);\r\n            return num(--times, y);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nTesting:\r\n\r\n```\r\n6\r\n13112221\r\n```\r\n\r\nAn alternative approach would be using an iterative method:\r\n\r\n```\r\nimport java.util.*;\r\nclass CoolSequence2 {\r\n  public static void main(String[] args) {\r\n    Scanner scan = new Scanner(System.in);\r\n    ArrayList&lt;String&gt; nums = new ArrayList&lt;String&gt;();\r\n    int n = scan.nextInt();\r\n    String val = &quot;1&quot;;\r\n    for(int i = 0; i &lt; n; i++){\r\n      String copy = val;\r\n      val = &quot;&quot;;\r\n      while(!copy.equals(&quot;&quot;)){\r\n        char curr = copy.charAt(0);\r\n        int ind = 0;\r\n        int cons = 0;\r\n        while(ind &lt; copy.length() &amp;&amp; curr == copy.charAt(ind)){\r\n          cons += 1;\r\n          ind += 1;\r\n        }\r\n        val += String.valueOf(cons) + copy.charAt(cons - 1);\r\n        copy = copy.substring(cons);\r\n      }\r\n      nums.add(val);\r\n    }\r\n    System.out.println(nums.get(nums.size() - 1));\r\n  }\r\n}\r\n```\r\n\r\n```\r\n6\r\n13112221\r\n```\r\n\r\nIn this method, we use a for loop to iterate through `n` terms. To determine each element, we do a similar method to your logic:\r\n\r\n1) We create an empty string, `val`, to hold the new element, and store our current element in `copy`. We also initialize a `cons`, similar to your `counter`.\r\n2) While `copy` is not empty, we iterate through `copy` and increment `cons` until there is an element that is not equal to the next element.\r\n3) When this occurs, we concatenate `cons` and the repeated element to `val`, like in your code. Then, we cut out the repeated elements from `copy` and continue the process. \r\n4) We add the new value of `val` to `nums`, and keep iterating through the `n` elements.\r\n\r\nI hope these two methods of approaching your problem helped! Please let me know if you have any further questions or clarifications :)","title":"Finding the nth term in a sequence","body":"<p>This is a very cool sequence! I like that it is English based and not mathematical, haha. (Though now I wonder ... is there a formula we could make for the nth term? I'm pretty sure it's impossible or uses some crazy-level math, but just something to think about ...)</p>\n<p>In your solution, the recursive logic of your code is correct: after you find each term, you repeat the method with your knew number and find the next term using that element, and end when you have determined the first <code>n</code> elements. Your base case is also correct.</p>\n<p>However, the algorithm you developed for determining the terms in the sequence is the issue.</p>\n<p>To determine the next element in the sequence, we want to:</p>\n<p>Logical Error:</p>\n<ol>\n<li><p>Create a empty variable, <code>y</code>, for your next element. The variable, <code>counter</code>, should not start at <code>0</code>, however. This is because every element will ALWAYS have an occurrence of at least <code>1</code>, so we should initialize <code>int counter = 1;</code></p>\n</li>\n<li><p>Iterate through the characters in <code>x</code>. (You did this step correctly) We begin at <code>i = 1</code>, because we compare each character to the previous one.</p>\n</li>\n<li><p>If the current character is equal to the previous character, we increment <code>counter</code> by <code>1</code>.</p>\n</li>\n<li><p>Otherwise, we concatenate <code>counter</code> and the character being repeated, to <code>y</code>. Remember, to reinitialize <code>counter</code> to <code>1</code>, not <code>0</code>.</p>\n</li>\n</ol>\n<p>Technical Errors:</p>\n<ol start=\"5\">\n<li>Once we reach the end of iterating <code>x</code>, we need to concatenate our final <code>counter</code> and character to <code>y</code>, since the else statement for the final characters will never run in our for loop.</li>\n</ol>\n<p>This is done with the following code: <code>y += &quot;&quot; + counter + x.charAt(x.length() - 1);</code></p>\n<ol start=\"6\">\n<li>Finally, when you are doing your recursive call, you should do <code>--times</code> instead of <code>times--</code>. The difference between these two parameters is that with your original code, you are post-decrementing. This means the value of <code>times</code> is decreasing after the method call, when we want the decreased value to be sent into the method. To solve this, we need to pre-decrement, by doing <code>--times</code>.</li>\n</ol>\n<pre><code>import java.util.*;\nclass CoolSequence {\n  public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    int n = scan.nextInt();\n    System.out.println(num(n, &quot;1&quot;));\n  }\n    public static String num(int times, String x){\n        if(times == 0){\n            return x;\n        }\n        else{\n            String y = &quot;&quot;;\n            int counter = 1;\n            for(int i = 1; i &lt; x.length(); i++){\n                if(x.charAt(i) == x.charAt(i - 1)){\n                    counter++;\n                }\n                else{\n                    y += &quot;&quot; + counter + x.charAt(i - 1);\n                    counter = 1;\n                }\n            }\n            y += &quot;&quot; + counter + x.charAt(x.length() - 1);\n            return num(--times, y);\n        }\n    }\n}\n</code></pre>\n<p>Testing:</p>\n<pre><code>6\n13112221\n</code></pre>\n<p>An alternative approach would be using an iterative method:</p>\n<pre><code>import java.util.*;\nclass CoolSequence2 {\n  public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    ArrayList&lt;String&gt; nums = new ArrayList&lt;String&gt;();\n    int n = scan.nextInt();\n    String val = &quot;1&quot;;\n    for(int i = 0; i &lt; n; i++){\n      String copy = val;\n      val = &quot;&quot;;\n      while(!copy.equals(&quot;&quot;)){\n        char curr = copy.charAt(0);\n        int ind = 0;\n        int cons = 0;\n        while(ind &lt; copy.length() &amp;&amp; curr == copy.charAt(ind)){\n          cons += 1;\n          ind += 1;\n        }\n        val += String.valueOf(cons) + copy.charAt(cons - 1);\n        copy = copy.substring(cons);\n      }\n      nums.add(val);\n    }\n    System.out.println(nums.get(nums.size() - 1));\n  }\n}\n</code></pre>\n<pre><code>6\n13112221\n</code></pre>\n<p>In this method, we use a for loop to iterate through <code>n</code> terms. To determine each element, we do a similar method to your logic:</p>\n<ol>\n<li>We create an empty string, <code>val</code>, to hold the new element, and store our current element in <code>copy</code>. We also initialize a <code>cons</code>, similar to your <code>counter</code>.</li>\n<li>While <code>copy</code> is not empty, we iterate through <code>copy</code> and increment <code>cons</code> until there is an element that is not equal to the next element.</li>\n<li>When this occurs, we concatenate <code>cons</code> and the repeated element to <code>val</code>, like in your code. Then, we cut out the repeated elements from <code>copy</code> and continue the process.</li>\n<li>We add the new value of <code>val</code> to <code>nums</code>, and keep iterating through the <code>n</code> elements.</li>\n</ol>\n<p>I hope these two methods of approaching your problem helped! Please let me know if you have any further questions or clarifications :)</p>\n"},{"comments":[{"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"score":1,"creation_date":1667181310,"post_id":74257925,"comment_id":131102938,"body_markdown":"Woah, i did not even know that method existed...very cool &amp; simplified solution :)","body":"Woah, i did not even know that method existed...very cool &amp; simplified solution :)"},{"owner":{"account_id":26779990,"reputation":43,"user_id":20374980,"display_name":"pinkbird"},"score":0,"creation_date":1667185893,"post_id":74257925,"comment_id":131103484,"body_markdown":"THIS IS SM SHORTER!! WOWWW THANK YOU\nJust a quick question, what does this mean: static final Pattern SEQUENCE_OF_SAME_CHARACTER = Pattern.compile(&quot;(.)\\\\1*&quot;); ?","body":"THIS IS SM SHORTER!! WOWWW THANK YOU Just a quick question, what does this mean: static final Pattern SEQUENCE_OF_SAME_CHARACTER = Pattern.compile(&quot;(.)\\\\1*&quot;); ?"}],"tags":[],"owner":{"display_name":"user17233545"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667188739,"creation_date":1667179360,"answer_id":74257925,"question_id":74257650,"body_markdown":"You can use `Pattern` with backreference.\r\n\r\nThe regular expression `&quot;(.)\\\\1*&quot;` matches any single character (`&quot;(.)&quot;`) and zero or more sequences of the same character (`&quot;\\\\1*&quot;`). `&quot;\\\\1&quot;` is called a backreference, it refers to the string enclosed in parentheses 1st.\r\n\r\nFor example, it matches `111`, `22` and `1` for `111221`.\r\n\r\n`replaceAll()` calls the lambda expression specified by the argument each time it matches. The lambda expression receives a `MatchResult` and returns a string. The matched string is replaced with the result.\r\n\r\nThe lambda expression in this case concatenates the length of the matched string (`match.group().length()`) and the first character (`match.group(1)`).\r\n\r\n\r\n    static final Pattern SEQUENCE_OF_SAME_CHARACTER = Pattern.compile(&quot;(.)\\\\1*&quot;);\r\n    \r\n    static String num(int times, String x) {\r\n        for (int i = 0; i &lt; times; ++i)\r\n            x = SEQUENCE_OF_SAME_CHARACTER.matcher(x).replaceAll(\r\n                match -&gt; match.group().length() + match.group(1));\r\n        return x;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        for (int i = 1; i &lt;= 8; ++i)\r\n            System.out.print(num(i - 1, &quot;1&quot;) + &quot; &quot;);\r\n    }\r\n\r\noutput:\r\n\r\n    1 11 21 1211 111221 312211 13112221 1113213211","title":"Finding the nth term in a sequence","body":"<p>You can use <code>Pattern</code> with backreference.</p>\n<p>The regular expression <code>&quot;(.)\\\\1*&quot;</code> matches any single character (<code>&quot;(.)&quot;</code>) and zero or more sequences of the same character (<code>&quot;\\\\1*&quot;</code>). <code>&quot;\\\\1&quot;</code> is called a backreference, it refers to the string enclosed in parentheses 1st.</p>\n<p>For example, it matches <code>111</code>, <code>22</code> and <code>1</code> for <code>111221</code>.</p>\n<p><code>replaceAll()</code> calls the lambda expression specified by the argument each time it matches. The lambda expression receives a <code>MatchResult</code> and returns a string. The matched string is replaced with the result.</p>\n<p>The lambda expression in this case concatenates the length of the matched string (<code>match.group().length()</code>) and the first character (<code>match.group(1)</code>).</p>\n<pre><code>static final Pattern SEQUENCE_OF_SAME_CHARACTER = Pattern.compile(&quot;(.)\\\\1*&quot;);\n\nstatic String num(int times, String x) {\n    for (int i = 0; i &lt; times; ++i)\n        x = SEQUENCE_OF_SAME_CHARACTER.matcher(x).replaceAll(\n            match -&gt; match.group().length() + match.group(1));\n    return x;\n}\n\npublic static void main(String[] args) {\n    for (int i = 1; i &lt;= 8; ++i)\n        System.out.print(num(i - 1, &quot;1&quot;) + &quot; &quot;);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>1 11 21 1211 111221 312211 13112221 1113213211\n</code></pre>\n"}],"owner":{"account_id":26779990,"reputation":43,"user_id":20374980,"display_name":"pinkbird"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74257677,"answer_count":2,"score":4,"last_activity_date":1667260200,"creation_date":1667175408,"question_id":74257650,"body_markdown":"I have a sequence, and I am trying to make a program to find the nth term of the sequence.\r\n\r\nThe sequence is as follows:\r\n\r\n1, 11, 21, 1211, 111221, 312211...\r\n\r\nIn this sequence, each term describes the previous term. For example, &quot;1211&quot; means that the previous term; the previous term is &quot;21&quot; where there is **one** occurrence of a **2** and then **one** occurrence of a **1** (=1211). To get the third term, &quot;21,&quot; you look at the second term: 11. There are **two** occurrences of a **1** which gives us &quot;21.&quot;\r\n\r\n```\r\nimport java.util.*;\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    Scanner scan = new Scanner(System.in);\r\n    int n = scan.nextInt();\r\n        System.out.println( Main.num(n-1, &quot;1&quot;));\r\n  }\r\n    public static String num(int times, String x){\r\n        if(times == 0){\r\n            return x;\r\n        }else{\r\n            //System.out.println(&quot;meow&quot;);\r\n            String y = &quot;&quot; + x.charAt(0);\r\n            int counter = 0;\r\n            for(int i = 1; i &lt; x.length(); i++){\r\n                if(x.charAt(i) == x.charAt(i-1)){\r\n                    counter++;\r\n                }else{\r\n                    y += &quot;&quot; + counter + x.charAt(i-1);\r\n                    counter = 0;\r\n                }\r\n            }\r\n            return num(times--, y);\r\n        }\r\n        //return &quot;&quot;;\r\n    }\r\n}\r\n```\r\n\r\nMy code uses recursion to find the nth term. But, it gives us errors :(\r\n\r\nFirst, I start of the method &quot;num&quot; by passing it the number of terms-1 (since the first term is already given) and the first term (1).\r\n\r\nIn the method num, we start off by using a conditional to establish the base case (when you are done finding the nth term).\r\n\r\nIf the base case is false, then you find the next term in the sequence.\r\n\r\n\r\n","title":"Finding the nth term in a sequence","body":"<p>I have a sequence, and I am trying to make a program to find the nth term of the sequence.</p>\n<p>The sequence is as follows:</p>\n<p>1, 11, 21, 1211, 111221, 312211...</p>\n<p>In this sequence, each term describes the previous term. For example, &quot;1211&quot; means that the previous term; the previous term is &quot;21&quot; where there is <strong>one</strong> occurrence of a <strong>2</strong> and then <strong>one</strong> occurrence of a <strong>1</strong> (=1211). To get the third term, &quot;21,&quot; you look at the second term: 11. There are <strong>two</strong> occurrences of a <strong>1</strong> which gives us &quot;21.&quot;</p>\n<pre><code>import java.util.*;\nclass Main {\n  public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    int n = scan.nextInt();\n        System.out.println( Main.num(n-1, &quot;1&quot;));\n  }\n    public static String num(int times, String x){\n        if(times == 0){\n            return x;\n        }else{\n            //System.out.println(&quot;meow&quot;);\n            String y = &quot;&quot; + x.charAt(0);\n            int counter = 0;\n            for(int i = 1; i &lt; x.length(); i++){\n                if(x.charAt(i) == x.charAt(i-1)){\n                    counter++;\n                }else{\n                    y += &quot;&quot; + counter + x.charAt(i-1);\n                    counter = 0;\n                }\n            }\n            return num(times--, y);\n        }\n        //return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>My code uses recursion to find the nth term. But, it gives us errors :(</p>\n<p>First, I start of the method &quot;num&quot; by passing it the number of terms-1 (since the first term is already given) and the first term (1).</p>\n<p>In the method num, we start off by using a conditional to establish the base case (when you are done finding the nth term).</p>\n<p>If the base case is false, then you find the next term in the sequence.</p>\n"},{"tags":["java","multithreading","synchronization"],"comments":[{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1434894151,"post_id":30965096,"comment_id":49962101,"body_markdown":"It&#39;s easier to use a &quot;normal&quot; queue, and do the `synchronized`. There are more advanced techniques, they might be too complicated, and they may not actually be faster than simple locking.","body":"It&#39;s easier to use a &quot;normal&quot; queue, and do the <code>synchronized</code>. There are more advanced techniques, they might be too complicated, and they may not actually be faster than simple locking."},{"owner":{"account_id":1940260,"reputation":1089,"user_id":1746602,"accept_rate":57,"display_name":"Kami"},"score":0,"creation_date":1434894388,"post_id":30965096,"comment_id":49962161,"body_markdown":"Thanks for the answer, but I mean is composing some thread safe operations of a java thread safe class (like LinkedBlockingDeque) so difficult? My situation is very common by the way: I want to sometimes lock the whole queue for particular operations and sometimes exploit concurrent take and put.","body":"Thanks for the answer, but I mean is composing some thread safe operations of a java thread safe class (like LinkedBlockingDeque) so difficult? My situation is very common by the way: I want to sometimes lock the whole queue for particular operations and sometimes exploit concurrent take and put."},{"owner":{"account_id":2048321,"reputation":17928,"user_id":1827903,"accept_rate":84,"display_name":"Zim-Zam O&#39;Pootertoot"},"score":0,"creation_date":1434894522,"post_id":30965096,"comment_id":49962204,"body_markdown":"Do you want the queue to remain unmodified, or do you instead want to do work on an unmodifiable snapshot of the queue while other threads can continue to mutate the original queue?","body":"Do you want the queue to remain unmodified, or do you instead want to do work on an unmodifiable snapshot of the queue while other threads can continue to mutate the original queue?"},{"owner":{"account_id":1940260,"reputation":1089,"user_id":1746602,"accept_rate":57,"display_name":"Kami"},"score":0,"creation_date":1434894586,"post_id":30965096,"comment_id":49962219,"body_markdown":"The first one. The real queue must stay unmodified.","body":"The first one. The real queue must stay unmodified."},{"owner":{"account_id":1961313,"reputation":802,"user_id":1762803,"accept_rate":88,"display_name":"pikachu0"},"score":0,"creation_date":1434896680,"post_id":30965096,"comment_id":49962809,"body_markdown":"FWIW, check out the `LinkedBlockingQueue#put(Object)`&#39;s implementation: http://www.grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/concurrent/LinkedBlockingQueue.java#LinkedBlockingQueue.put%28java.lang.Object%29 Looks like it is implemented with the higher level API from `java.util.concurrent`.","body":"FWIW, check out the <code>LinkedBlockingQueue#put(Object)</code>&#39;s implementation: <a href=\"http://www.grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/concurrent/LinkedBlockingQueue.java#LinkedBlockingQueue.put%28java.lang.Object%29\" rel=\"nofollow noreferrer\">grepcode.com/file/repository.grepcode.com/java/root/jdk/open&zwnj;&#8203;jdk/&hellip;</a> Looks like it is implemented with the higher level API from <code>java.util.concurrent</code>."}],"answers":[{"comments":[{"owner":{"account_id":1940260,"reputation":1089,"user_id":1746602,"accept_rate":57,"display_name":"Kami"},"score":0,"creation_date":1434897282,"post_id":30965510,"comment_id":49962984,"body_markdown":"*And when you do that, you reintroduce the concurrency bottleneck that you were trying to avoid by using the concurrent data structure*. Conceptually I think it was not clear to me the purpose of concurrent data structures. Thanks.","body":"<i>And when you do that, you reintroduce the concurrency bottleneck that you were trying to avoid by using the concurrent data structure</i>. Conceptually I think it was not clear to me the purpose of concurrent data structures. Thanks."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667260107,"creation_date":1434896329,"answer_id":30965510,"question_id":30965096,"body_markdown":"&gt; How do you handle this scenario?\r\n\r\nIn general, you cannot &quot;compose&quot; operations on the concurrent data structures without using external locking of some kind.  And when you do that, you reintroduce the concurrency bottleneck that you were trying to avoid by using the concurrent data structure.\r\n\r\nIn this case, you are correct.  The `LinkedBlockingDeque` class uses a private lock object for synchronization, etcetera.\r\n\r\n\r\n","title":"How to compose thread safe operations and make them atomic?","body":"<blockquote>\n<p>How do you handle this scenario?</p>\n</blockquote>\n<p>In general, you cannot &quot;compose&quot; operations on the concurrent data structures without using external locking of some kind.  And when you do that, you reintroduce the concurrency bottleneck that you were trying to avoid by using the concurrent data structure.</p>\n<p>In this case, you are correct.  The <code>LinkedBlockingDeque</code> class uses a private lock object for synchronization, etcetera.</p>\n"}],"owner":{"account_id":1940260,"reputation":1089,"user_id":1746602,"accept_rate":57,"display_name":"Kami"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30965510,"answer_count":1,"score":1,"last_activity_date":1667260107,"creation_date":1434893772,"question_id":30965096,"body_markdown":"Let&#39;s take a thread safe class like `LinkedBlockingDeque`:\r\n\r\n    BlockingQueue&lt;Task&gt; taskQueue = new LinkedBlockingDeque&lt;Task&gt;();\r\n\r\nI know that operations like `take` and `put` are thread safe, so they respect the happened-before relationship.\r\n\r\nBut what if I want to compose some operations to make them atomic?\r\nLike this:\r\n\r\n    if(taskQueue.size() == 1) {\r\n       /*Do a lot of things here, but I do not want other threads\r\n         to change the size of the queue here with take or put*/\r\n    }\r\n    //taskQueue.size() must still be equal to 1\r\n\r\nIf it was a not thread safe class, I could do something like this:\r\n\r\n    synchronized(taskQueue) {\r\n      if(taskQueue.size() == 1) {\r\n        /*Do a lot of things here, but I do not want other threads\r\n          to change the size of the queue here with take or put*/\r\n      }\r\n      //taskQueue.size() must still be equal to 1\r\n    }\r\nBut it is not that simple, I do not think that the implementations of `take` and `put` use the object lock.\r\n\r\nHow do you handle this scanario?\r\n","title":"How to compose thread safe operations and make them atomic?","body":"<p>Let's take a thread safe class like <code>LinkedBlockingDeque</code>:</p>\n\n<pre><code>BlockingQueue&lt;Task&gt; taskQueue = new LinkedBlockingDeque&lt;Task&gt;();\n</code></pre>\n\n<p>I know that operations like <code>take</code> and <code>put</code> are thread safe, so they respect the happened-before relationship.</p>\n\n<p>But what if I want to compose some operations to make them atomic?\nLike this:</p>\n\n<pre><code>if(taskQueue.size() == 1) {\n   /*Do a lot of things here, but I do not want other threads\n     to change the size of the queue here with take or put*/\n}\n//taskQueue.size() must still be equal to 1\n</code></pre>\n\n<p>If it was a not thread safe class, I could do something like this:</p>\n\n<pre><code>synchronized(taskQueue) {\n  if(taskQueue.size() == 1) {\n    /*Do a lot of things here, but I do not want other threads\n      to change the size of the queue here with take or put*/\n  }\n  //taskQueue.size() must still be equal to 1\n}\n</code></pre>\n\n<p>But it is not that simple, I do not think that the implementations of <code>take</code> and <code>put</code> use the object lock.</p>\n\n<p>How do you handle this scanario?</p>\n"},{"tags":["java","multithreading","process","execution"],"answers":[{"comments":[{"owner":{"account_id":23759373,"reputation":47,"user_id":17775023,"display_name":"Dan Filban"},"score":0,"creation_date":1666008895,"post_id":74073197,"comment_id":130826143,"body_markdown":"Where is this &#39;context&#39; located? Is it a part of the OS or a particular space in the RAM? Or managed by both this components?","body":"Where is this &#39;context&#39; located? Is it a part of the OS or a particular space in the RAM? Or managed by both this components?"}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665770696,"creation_date":1665770696,"answer_id":74073197,"question_id":74071854,"body_markdown":"In this context, &quot;execution environment&quot; means a context in which code can execute (run). A *process* can use multiple *threads* in parallel. A thread executes a single stack of code at a time.\r\n\r\nThis is a gross oversimplification, but hopefully you get the point.","title":"What is an execution environment?","body":"<p>In this context, &quot;execution environment&quot; means a context in which code can execute (run). A <em>process</em> can use multiple <em>threads</em> in parallel. A thread executes a single stack of code at a time.</p>\n<p>This is a gross oversimplification, but hopefully you get the point.</p>\n"},{"tags":[],"owner":{"account_id":26789322,"reputation":71,"user_id":20382988,"display_name":"Ahmet M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667259761,"creation_date":1667259174,"answer_id":74270083,"question_id":74071854,"body_markdown":"&#39;Execution Environment&#39; or &#39;Environment&#39; terms are extremely overloaded. They are used to mean different things at different context.(Somehow related though)\r\n\r\nThere many layers of abstractions in a software system. Each layer depends on something from the immediate below layers and abstracted from realities coming from layers further below. For instance, Computers depends fundamentally on physics. So at the bottom, there is physics. On top of physics, there is transistors. On top of transistors, there is logic gates. On top of logic gates, there is logic circuits. On top of that, there is microarchitecture and on top of that, there is architecture (instructions set, registers etc.). On top of that there is software written using the architecture. The software is further  divided into operating system and applications. OS and applications have layered parts themselves.\r\n\r\nSo, everything depends on something else. That something else is called environment. In other words, everything your part do not implement but depends on called &#39;environment&#39;.\r\n\r\nOS is an environment for applications because of the fact that when application performs an I/O, they use the operating system provided functionalities by making system calls.\r\n\r\nMost platforms like JAVA or C++ runtime, further provide functionality to the applications. Hence, they are also called a form of environment.\r\n\r\nIn the context of processes and threads, these things can be said...\r\n\r\nOperating systems do not run a single program at a time to improve hardware utilization. (When the code runs it may block for several reasons, and during that time OS runs another program). Furthermore, there is something called &#39;timesharing&#39; which means OS allocates the CPU(s) to different programs for a limited amount of time and stops/continues programs.\r\n\r\nIn order to do that, OS isolates a specific instance of program execution through an abstraction called &#39;process&#39;. By doing that it provides programs an &#39;environment&#39; that they can use without thinking other programs running. (Isolates running programs through processes)\r\n\r\nFor instance, a program code running in a process could not read data written to the memory allocated to the another process.\r\n\r\nThreads are like processes to some extent. They share the memory of the process they belong. Namely, they share the HEAP space of the processes but they have separate stacks. Since they have separate stacks, they could be in different parts of the same code. From stacks they have references to the shared heap which allows them to communicate more effectively than the inter process communication way.\r\n\r\nTo sum up, everything you are implicitly or explicitly benefiting but you are not implementing is called &#39;environment&#39;. \r\n","title":"What is an execution environment?","body":"<p>'Execution Environment' or 'Environment' terms are extremely overloaded. They are used to mean different things at different context.(Somehow related though)</p>\n<p>There many layers of abstractions in a software system. Each layer depends on something from the immediate below layers and abstracted from realities coming from layers further below. For instance, Computers depends fundamentally on physics. So at the bottom, there is physics. On top of physics, there is transistors. On top of transistors, there is logic gates. On top of logic gates, there is logic circuits. On top of that, there is microarchitecture and on top of that, there is architecture (instructions set, registers etc.). On top of that there is software written using the architecture. The software is further  divided into operating system and applications. OS and applications have layered parts themselves.</p>\n<p>So, everything depends on something else. That something else is called environment. In other words, everything your part do not implement but depends on called 'environment'.</p>\n<p>OS is an environment for applications because of the fact that when application performs an I/O, they use the operating system provided functionalities by making system calls.</p>\n<p>Most platforms like JAVA or C++ runtime, further provide functionality to the applications. Hence, they are also called a form of environment.</p>\n<p>In the context of processes and threads, these things can be said...</p>\n<p>Operating systems do not run a single program at a time to improve hardware utilization. (When the code runs it may block for several reasons, and during that time OS runs another program). Furthermore, there is something called 'timesharing' which means OS allocates the CPU(s) to different programs for a limited amount of time and stops/continues programs.</p>\n<p>In order to do that, OS isolates a specific instance of program execution through an abstraction called 'process'. By doing that it provides programs an 'environment' that they can use without thinking other programs running. (Isolates running programs through processes)</p>\n<p>For instance, a program code running in a process could not read data written to the memory allocated to the another process.</p>\n<p>Threads are like processes to some extent. They share the memory of the process they belong. Namely, they share the HEAP space of the processes but they have separate stacks. Since they have separate stacks, they could be in different parts of the same code. From stacks they have references to the shared heap which allows them to communicate more effectively than the inter process communication way.</p>\n<p>To sum up, everything you are implicitly or explicitly benefiting but you are not implementing is called 'environment'.</p>\n"}],"owner":{"account_id":23759373,"reputation":47,"user_id":17775023,"display_name":"Dan Filban"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1667259761,"creation_date":1665762786,"question_id":74071854,"body_markdown":"Providing that I didn&#39;t attend college lessons on hardware or on OS topics - I&#39;ve only tried to follow some youtube videos and read some online articles about it (without significant success); someone could explain me what is an _execution environment_? I study Java and now I&#39;m starting multithreading. On an Oracle tutorial section I&#39;ve found this definition of process and thread: &quot;Both processes and threads provide an execution environment&quot;. The problem Is that I really don&#39;t get what does this mean.","title":"What is an execution environment?","body":"<p>Providing that I didn't attend college lessons on hardware or on OS topics - I've only tried to follow some youtube videos and read some online articles about it (without significant success); someone could explain me what is an <em>execution environment</em>? I study Java and now I'm starting multithreading. On an Oracle tutorial section I've found this definition of process and thread: &quot;Both processes and threads provide an execution environment&quot;. The problem Is that I really don't get what does this mean.</p>\n"},{"tags":["java","selenium","junit4"],"answers":[{"tags":[],"owner":{"account_id":2464083,"reputation":856,"user_id":2147581,"accept_rate":68,"display_name":"S&#252;ni&#218;r"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667259745,"creation_date":1410859275,"answer_id":25865036,"question_id":25853333,"body_markdown":"### Way you can call your JUnit function from main\r\n\r\nHere is some help on how to: *https://stackoverflow.com/questions/2543912/how-do-i-run-junit-tests-from-inside-my-java-application*\r\n\r\n### Or you can simply add Thread.sleep(millisecond)\r\n\r\n    try {\r\n        Thread.sleep(100);\r\n    } catch (InterruptedException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }\r\n\r\nIt must work in Java ([Eclipse][1]).\r\n\r\nBut you can also use (I think it is better for testing):\r\n\r\n    FluentWait fluentWait = new FluentWait&lt;&gt;(webDriver) {\r\n      .withTimeout(30, TimeUnit.SECONDS)\r\n      .pollingEvery(200, TimeUnit.MILLISECONDS);\r\n      .ignoring(NoSuchElementException.class);\r\n    }\r\n\r\n    WebElement element = (new WebDriverWait(driver, 10))\r\n       .until(ExpectedConditions.elementToBeClickable(By.id(&quot;someid&quot;)));\r\n\r\nSource: *https://stackoverflow.com/questions/20903231/how-to-wait-until-an-element-is-present-in-selenium/20903328#20903328*\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Eclipse_%28software%29\r\n\r\n\r\n\r\n","title":"How can I use WebDriverWait for various methods in Selenium JUnit?","body":"<h3>Way you can call your JUnit function from main</h3>\n<p>Here is some help on how to: <em><a href=\"https://stackoverflow.com/questions/2543912/how-do-i-run-junit-tests-from-inside-my-java-application\">How do I run JUnit tests from inside my Java application?</a></em></p>\n<h3>Or you can simply add Thread.sleep(millisecond)</h3>\n<pre><code>try {\n    Thread.sleep(100);\n} catch (InterruptedException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n<p>It must work in Java (<a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow noreferrer\">Eclipse</a>).</p>\n<p>But you can also use (I think it is better for testing):</p>\n<pre><code>FluentWait fluentWait = new FluentWait&lt;&gt;(webDriver) {\n  .withTimeout(30, TimeUnit.SECONDS)\n  .pollingEvery(200, TimeUnit.MILLISECONDS);\n  .ignoring(NoSuchElementException.class);\n}\n\nWebElement element = (new WebDriverWait(driver, 10))\n   .until(ExpectedConditions.elementToBeClickable(By.id(&quot;someid&quot;)));\n</code></pre>\n<p>Source: <em><a href=\"https://stackoverflow.com/questions/20903231/how-to-wait-until-an-element-is-present-in-selenium/20903328#20903328\">How can make it wait until an element is present in Selenium?</a></em></p>\n"}],"owner":{"account_id":5034097,"reputation":11,"user_id":4043456,"accept_rate":0,"display_name":"rahul kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":703,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1667259745,"creation_date":1410801297,"question_id":25853333,"body_markdown":"I have various methods in my code in which I need to use [WebDriverWait][1]. Usually we declare it in the main method like:\r\n\r\n    WebDriverWait mywait = new WebDriverWait(driver, 25)\r\n\r\nWhile using JUnit in Selenium, there isn&#39;t any main method. How can I use WebDriverWait for webelements in various methods in my code?\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/py/webdriver_support/selenium.webdriver.support.wait.html\r\n\r\n\r\n\r\n","title":"How can I use WebDriverWait for various methods in Selenium JUnit?","body":"<p>I have various methods in my code in which I need to use <a href=\"https://www.selenium.dev/selenium/docs/api/py/webdriver_support/selenium.webdriver.support.wait.html\" rel=\"nofollow noreferrer\">WebDriverWait</a>. Usually we declare it in the main method like:</p>\n<pre><code>WebDriverWait mywait = new WebDriverWait(driver, 25)\n</code></pre>\n<p>While using JUnit in Selenium, there isn't any main method. How can I use WebDriverWait for webelements in various methods in my code?</p>\n"},{"tags":["java","excel","maven","selenium-webdriver","apache-poi"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1651814928,"post_id":72136526,"comment_id":127457441,"body_markdown":"You need to check if the returned cell for `row.getCell(i)` is null before you attempt to use `getStringCellValue()` on the cell. In short, break your `if` statement up into smaller bits, and include a null check.","body":"You need to check if the returned cell for <code>row.getCell(i)</code> is null before you attempt to use <code>getStringCellValue()</code> on the cell. In short, break your <code>if</code> statement up into smaller bits, and include a null check."},{"owner":{"account_id":20569622,"reputation":7,"user_id":15098234,"display_name":"Rajat lilhare"},"score":0,"creation_date":1651817289,"post_id":72136526,"comment_id":127457976,"body_markdown":"ok I will try, can you give me some hint how to do that, I m new to java so if you can tell me, it will be great.","body":"ok I will try, can you give me some hint how to do that, I m new to java so if you can tell me, it will be great."}],"answers":[{"comments":[{"owner":{"account_id":20569622,"reputation":7,"user_id":15098234,"display_name":"Rajat lilhare"},"score":0,"creation_date":1651826412,"post_id":72136756,"comment_id":127460764,"body_markdown":"yes but I don&#39;t want to create it, that column is already in my sheet, I just want to write data into it. so can you suggest me something. or do you have any idea regarding reading &amp; writing  Excel file using apache poi. if you have any blog you can share, It will be helpful","body":"yes but I don&#39;t want to create it, that column is already in my sheet, I just want to write data into it. so can you suggest me something. or do you have any idea regarding reading &amp; writing  Excel file using apache poi. if you have any blog you can share, It will be helpful"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1651837123,"post_id":72136756,"comment_id":127464556,"body_markdown":"I wrote code that creates Excel sheets from scratch and I just had to follow these nice examples. How do you know that column exists? AFAIK the sheet consists of rows, and these consist of cells. I think I am getting it: You need to create the cells for every row separately. Just assuming there are X cells because row 0 had them is wrong.","body":"I wrote code that creates Excel sheets from scratch and I just had to follow these nice examples. How do you know that column exists? AFAIK the sheet consists of rows, and these consist of cells. I think I am getting it: You need to create the cells for every row separately. Just assuming there are X cells because row 0 had them is wrong."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651816407,"creation_date":1651816407,"answer_id":72136756,"question_id":72136526,"body_markdown":"Have a look at the [HOWTO][1] and [examples][2].\r\nYou will notice that there are calls for creating a row or creating a cell. Unless you do so, the row/cell does not exist and your getCell() function will return null.\r\n\r\n\r\n  [1]: https://poi.apache.org/components/spreadsheet/how-to.html\r\n  [2]: https://poi.apache.org/components/spreadsheet/examples.html","title":"I want to write data into excel(.xlsx file) using Apache poi","body":"<p>Have a look at the <a href=\"https://poi.apache.org/components/spreadsheet/how-to.html\" rel=\"nofollow noreferrer\">HOWTO</a> and <a href=\"https://poi.apache.org/components/spreadsheet/examples.html\" rel=\"nofollow noreferrer\">examples</a>.\nYou will notice that there are calls for creating a row or creating a cell. Unless you do so, the row/cell does not exist and your getCell() function will return null.</p>\n"},{"tags":[],"owner":{"account_id":15871048,"reputation":153,"user_id":11451688,"display_name":"Usman Kokab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667258267,"creation_date":1667258267,"answer_id":74270004,"question_id":72136526,"body_markdown":"Changing for loop condition part i.e. `i &lt; row.getLastCellNum();` to `i &lt; row.getLastCellNum()-1;` can resolve this issue.  \r\n\r\n`getLastCellNum()` returns index plus one and once the counter will reach to end value, `getCell(i)` can point to the null value as per your code.  ","title":"I want to write data into excel(.xlsx file) using Apache poi","body":"<p>Changing for loop condition part i.e. <code>i &lt; row.getLastCellNum();</code> to <code>i &lt; row.getLastCellNum()-1;</code> can resolve this issue.</p>\n<p><code>getLastCellNum()</code> returns index plus one and once the counter will reach to end value, <code>getCell(i)</code> can point to the null value as per your code.</p>\n"}],"owner":{"account_id":20569622,"reputation":7,"user_id":15098234,"display_name":"Rajat lilhare"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1634,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1667258267,"creation_date":1651814646,"question_id":72136526,"body_markdown":"I want to write data into excel(.xlsx file) using Apache poi. but getting some error while writing a data. I have followed this video &quot; How to read/write data from Excel file using Apache POI API in Selenium || Latest POI Version&quot;, I m able to read data but while writing I m getting this error &quot; Cannot invoke &quot;org.apache.poi.xssf.usermodel.XSSFCell.getStringCellValue()&quot; because the return value of &quot;org.apache.poi.xssf.usermodel.XSSFRow.getCell(int)&quot; is null &quot;, basically nullpointerexception.\r\n\r\n    enter code here\r\n String resourceGroupNameElement = driver.findElement(By.xpath(FrameworkValidator_Constants.Constants.RESOURCE_GROUP_NAME_XPATH)).getText(); \r\n\t\t \r\n\t\t  \r\n\t\t\t\t    \r\n\t\t\tString   expectedResult = reader.getCellData(&quot;RG&quot;,6,2);\r\n\t\t\t\t \r\n\t\t\t\t if( resourceGroupNameElement== expectedResult) {\r\n\t\t\t\tString  status= &quot;pass&quot;;\r\n\t\t\t\tSystem.out.println(status);\r\n\t\t\t\t }\r\n\t\t\t\t else {\r\n\t\t\t\t\tString status=&quot;fail&quot;;\r\n\t\t\t\t\tSystem.out.println(status);\r\n\t\t\t\t }\r\n\t\t\t\t //reader.setCellData(&quot;RG&quot;, &quot;STATUS/PASS/FAIL&quot;, 2, status);\r\n\t\t\t\t System.out.println(status);\r\n\t\t\t\t reader.setCellData(&quot;RG&quot;,&quot;ACTUAL  RESULT&quot; , 2, resourceGroupNameElement);\r\n\t\t\t\t Assert.assertEquals(resourceGroupNameElement, expectedResult);\r\n\r\n#######\r\nIt is showing error in this section\r\n\r\n    public String setCellData(String sheetName, String colName, int rowNum, String data) {\r\n\t\ttry {\r\n\t\t\tfis = new FileInputStream(path);\r\n\t\t\tworkbook = new XSSFWorkbook(fis);\r\n\r\n\t\t\tif (rowNum &lt;= 0)\r\n\t\t\t\treturn &quot;&quot;;\r\n\r\n\t\t\tint index = workbook.getSheetIndex(sheetName);\r\n\t\t\tint colNum = -1;\r\n\t\t\tif (index == -1)\r\n\t\t\t\treturn &quot;&quot;;\r\n\r\n\t\t\tsheet = workbook.getSheetAt(index);\r\n\r\n\t\t\trow = sheet.getRow(0);\r\n\t\t\tfor (int i = 0; i &lt; row.getLastCellNum(); i++) {\r\n\t\t\t\t// System.out.println(row.getCell(i).getStringCellValue().trim());\r\n\t\t\t\tif (row.getCell(i).getStringCellValue().trim().equals(colName))\r\n\t\t\t\t\tcolNum = i;\r\n\t\t\t}\r\n\t\t\tif (colNum == -1)\r\n\t\t\t\treturn &quot;&quot;;\r\n\r\n\t\t\tsheet.autoSizeColumn(colNum);\r\n\t\t\trow = sheet.getRow(rowNum - 1);\r\n\t\t\tif (row == null)\r\n\t\t\t\trow = sheet.createRow(rowNum - 1);\r\n\r\n\t\t\tcell = row.getCell(colNum);\r\n\t\t\tif (cell == null)\r\n\t\t\t\tcell = row.createCell(colNum);\r\n\r\n\t\t\t// cell style\r\n\t\t\t// CellStyle cs = workbook.createCellStyle();\r\n\t\t\t// cs.setWrapText(true);\r\n\t\t\t// cell.setCellStyle(cs);\r\n\t\t\tcell.setCellValue(data);\r\n\r\n\t\t\tfileOut = new FileOutputStream(path);\r\n\r\n\t\t\tworkbook.write(fileOut);\r\n\r\n\t\t\tfileOut.close();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n\r\nso can anybody tell me where I m going wrong.","title":"I want to write data into excel(.xlsx file) using Apache poi","body":"<p>I want to write data into excel(.xlsx file) using Apache poi. but getting some error while writing a data. I have followed this video &quot; How to read/write data from Excel file using Apache POI API in Selenium || Latest POI Version&quot;, I m able to read data but while writing I m getting this error &quot; Cannot invoke &quot;org.apache.poi.xssf.usermodel.XSSFCell.getStringCellValue()&quot; because the return value of &quot;org.apache.poi.xssf.usermodel.XSSFRow.getCell(int)&quot; is null &quot;, basically nullpointerexception.</p>\n<pre><code>enter code here\n</code></pre>\n<p>String resourceGroupNameElement = driver.findElement(By.xpath(FrameworkValidator_Constants.Constants.RESOURCE_GROUP_NAME_XPATH)).getText();</p>\n<pre><code>        String   expectedResult = reader.getCellData(&quot;RG&quot;,6,2);\n             \n             if( resourceGroupNameElement== expectedResult) {\n            String  status= &quot;pass&quot;;\n            System.out.println(status);\n             }\n             else {\n                String status=&quot;fail&quot;;\n                System.out.println(status);\n             }\n             //reader.setCellData(&quot;RG&quot;, &quot;STATUS/PASS/FAIL&quot;, 2, status);\n             System.out.println(status);\n             reader.setCellData(&quot;RG&quot;,&quot;ACTUAL  RESULT&quot; , 2, resourceGroupNameElement);\n             Assert.assertEquals(resourceGroupNameElement, expectedResult);\n</code></pre>\n<p>#######\nIt is showing error in this section</p>\n<pre><code>public String setCellData(String sheetName, String colName, int rowNum, String data) {\n    try {\n        fis = new FileInputStream(path);\n        workbook = new XSSFWorkbook(fis);\n\n        if (rowNum &lt;= 0)\n            return &quot;&quot;;\n\n        int index = workbook.getSheetIndex(sheetName);\n        int colNum = -1;\n        if (index == -1)\n            return &quot;&quot;;\n\n        sheet = workbook.getSheetAt(index);\n\n        row = sheet.getRow(0);\n        for (int i = 0; i &lt; row.getLastCellNum(); i++) {\n            // System.out.println(row.getCell(i).getStringCellValue().trim());\n            if (row.getCell(i).getStringCellValue().trim().equals(colName))\n                colNum = i;\n        }\n        if (colNum == -1)\n            return &quot;&quot;;\n\n        sheet.autoSizeColumn(colNum);\n        row = sheet.getRow(rowNum - 1);\n        if (row == null)\n            row = sheet.createRow(rowNum - 1);\n\n        cell = row.getCell(colNum);\n        if (cell == null)\n            cell = row.createCell(colNum);\n\n        // cell style\n        // CellStyle cs = workbook.createCellStyle();\n        // cs.setWrapText(true);\n        // cell.setCellStyle(cs);\n        cell.setCellValue(data);\n\n        fileOut = new FileOutputStream(path);\n\n        workbook.write(fileOut);\n\n        fileOut.close();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n        return &quot;&quot;;\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n<p>so can anybody tell me where I m going wrong.</p>\n"},{"tags":["java","kotlin","oop","inheritance","abstract-class"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1667255706,"post_id":74269709,"comment_id":131122573,"body_markdown":"I don&#39;t know Kotlin, but in Java abstract methods need to be declared concretely before they can actually be used.  Since your value is abstract, perhaps it needs some concrete definition.","body":"I don&#39;t know Kotlin, but in Java abstract methods need to be declared concretely before they can actually be used.  Since your value is abstract, perhaps it needs some concrete definition."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667256833,"post_id":74269709,"comment_id":131122780,"body_markdown":"Because it&#39;s abstract in the superclass, you haven&#39;t _defined_ it enough so that Kotlin can decide if there _is_ a `this.sweetness` or not.  (It could also be a getter, for example.)  You must specify this in the subtype with `override`.","body":"Because it&#39;s abstract in the superclass, you haven&#39;t <i>defined</i> it enough so that Kotlin can decide if there <i>is</i> a <code>this.sweetness</code> or not.  (It could also be a getter, for example.)  You must specify this in the subtype with <code>override</code>."}],"answers":[{"comments":[{"owner":{"account_id":3082964,"reputation":324,"user_id":2610793,"accept_rate":60,"display_name":"kranberry"},"score":0,"creation_date":1667367823,"post_id":74269839,"comment_id":131147884,"body_markdown":"Thanks for the detailed explanation! I see, I did forget the meaning of `this()` vs `super()`. And defining the overridden val up top but then initializing it in the constructor is something I tried but must have failed due to the `this()` delegation. Thank you!","body":"Thanks for the detailed explanation! I see, I did forget the meaning of <code>this()</code> vs <code>super()</code>. And defining the overridden val up top but then initializing it in the constructor is something I tried but must have failed due to the <code>this()</code> delegation. Thank you!"}],"tags":[],"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667258030,"creation_date":1667256559,"answer_id":74269839,"question_id":74269709,"body_markdown":"overriding an abstract property requires that you override it at the top level and mention `override val` somewhere. \r\n\r\nIt can happen either in the primary constructor, e.g.\r\n\r\n    class MatchaBobaLatte(override val sweetness: Int) : BobaTea() {\r\n        // ...\r\n    }\r\n\r\nor by explicitly declaring the override val like\r\n\r\n    class MatchaBobaLatte : BobaTea {\r\n        override val sweetness: Int\r\n    \r\n        constructor(sweetness: Int) : super() { // Not this()!\r\n            this.sweetness = sweetness\r\n        }\r\n    }\r\n\r\nor like \r\n\r\n    class MatchaBobaLatte(sweetness: Int) : BobaTea() {\r\n        // primary constructor parameters are available for instance\r\n        // initializer code\r\n        override val sweetness = sweetness * 2\r\n    }\r\n\r\nThe error you see is result of a combination of multiple things. You try to delegate to a primary `this()` constructor which doesn&#39;t exist but it would be the one that needs to set all `val` values. The error also appears if you would do\r\n\r\n```lang-kotlin\r\nclass Reassign {\r\n    val sweetness: Int; // when no value here, then\r\n\r\n    // primary ctor must init all vals or you get\r\n    // &quot;Property must be initialized or be abstract&quot;\r\n    constructor() {\r\n        sweetness = 42;\r\n    }\r\n\r\n    // can&#39;t touch vals in here any more because it runs\r\n    // after &quot;this()&quot;\r\n    constructor(foo: Int) : this() {\r\n        sweetness = foo; // Val cannot be reassigned\r\n    }\r\n}\r\n```","title":"Kotlin/Java: Override Abstract Value in Subclass Constructor","body":"<p>overriding an abstract property requires that you override it at the top level and mention <code>override val</code> somewhere.</p>\n<p>It can happen either in the primary constructor, e.g.</p>\n<pre><code>class MatchaBobaLatte(override val sweetness: Int) : BobaTea() {\n    // ...\n}\n</code></pre>\n<p>or by explicitly declaring the override val like</p>\n<pre><code>class MatchaBobaLatte : BobaTea {\n    override val sweetness: Int\n\n    constructor(sweetness: Int) : super() { // Not this()!\n        this.sweetness = sweetness\n    }\n}\n</code></pre>\n<p>or like</p>\n<pre><code>class MatchaBobaLatte(sweetness: Int) : BobaTea() {\n    // primary constructor parameters are available for instance\n    // initializer code\n    override val sweetness = sweetness * 2\n}\n</code></pre>\n<p>The error you see is result of a combination of multiple things. You try to delegate to a primary <code>this()</code> constructor which doesn't exist but it would be the one that needs to set all <code>val</code> values. The error also appears if you would do</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Reassign {\n    val sweetness: Int; // when no value here, then\n\n    // primary ctor must init all vals or you get\n    // &quot;Property must be initialized or be abstract&quot;\n    constructor() {\n        sweetness = 42;\n    }\n\n    // can't touch vals in here any more because it runs\n    // after &quot;this()&quot;\n    constructor(foo: Int) : this() {\n        sweetness = foo; // Val cannot be reassigned\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3082964,"reputation":324,"user_id":2610793,"accept_rate":60,"display_name":"kranberry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74269839,"answer_count":1,"score":0,"last_activity_date":1667258030,"creation_date":1667255281,"question_id":74269709,"body_markdown":"Given an abstract class:\r\n\r\n```kotlin\r\nabstract class BobaTea {\r\n    abstract val sweetness: Int\r\n}\r\n```\r\n\r\nI have a subclass in which I want to override `sweetness`, however I want to do that in the constructor because the value of sweetness cannot be defined at compile-time, I will only know it at run-time. However, my constructor will ensure that all instances of the subclass do indeed implement the abstract value `sweetness`. \r\n\r\n```kotlin\r\nclass MatchaBobaLatte : BobaTea() {\r\n    constructor(sweetness: Int) : this() {\r\n        this.sweetness = sweetness  // This fails with &quot;val cannot be reassigned&quot;\r\n    }\r\n}\r\n```\r\n\r\nWhy doesn&#39;t this work? I am not *reassigning* `sweetness`, I am simply overriding it because it is abstract in the superclass.\r\n\r\nThanks. ","title":"Kotlin/Java: Override Abstract Value in Subclass Constructor","body":"<p>Given an abstract class:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>abstract class BobaTea {\n    abstract val sweetness: Int\n}\n</code></pre>\n<p>I have a subclass in which I want to override <code>sweetness</code>, however I want to do that in the constructor because the value of sweetness cannot be defined at compile-time, I will only know it at run-time. However, my constructor will ensure that all instances of the subclass do indeed implement the abstract value <code>sweetness</code>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MatchaBobaLatte : BobaTea() {\n    constructor(sweetness: Int) : this() {\n        this.sweetness = sweetness  // This fails with &quot;val cannot be reassigned&quot;\n    }\n}\n</code></pre>\n<p>Why doesn't this work? I am not <em>reassigning</em> <code>sweetness</code>, I am simply overriding it because it is abstract in the superclass.</p>\n<p>Thanks.</p>\n"},{"tags":["java","hadoop","mapreduce"],"answers":[{"tags":[],"owner":{"account_id":16108218,"reputation":662,"user_id":11627201,"display_name":"qwerty_99"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667257553,"creation_date":1667257553,"answer_id":74269931,"question_id":74269566,"body_markdown":"I found the problem, I was using it as both a combiner and a reducer. Just needed to use it only as reducer.","title":"Text.set(string) not showing the right value in hadoop map reduce","body":"<p>I found the problem, I was using it as both a combiner and a reducer. Just needed to use it only as reducer.</p>\n"}],"owner":{"account_id":16108218,"reputation":662,"user_id":11627201,"display_name":"qwerty_99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74269931,"answer_count":1,"score":0,"last_activity_date":1667257553,"creation_date":1667253863,"question_id":74269566,"body_markdown":"I have a map function that sends data in the form of (the value of they keys are not important)\r\n```\r\nkey: &quot;somevalue&quot;\r\nvalue: &quot;value \\t comma separated values&quot;\r\n```\r\nfor example\r\n```\r\nkey:&quot;0&quot;\r\nvalue:&quot;5\\t1,2,3,4&quot;\r\n```\r\nIf I use this code:\r\n```\r\nText debug;\r\nfor (Text val : values) {\r\n    String[] segments = val.toString().split(&quot;\\t&quot;);\r\n    debug = new Text();\r\n    debug.set(val.toString());\r\n    context.write(key, debug);\r\n}\r\n```\r\nI get the right output, such as\r\n```\r\nkey value\r\n0\t8\t1,2,4,5\r\n0\t2\t0,4,5\r\n```\r\nBut if I try this code, the output gets weird:\r\n```\r\nText debug;\r\nfor (Text val : values) {\r\n    String[] segments = val.toString().split(&quot;\\t&quot;);\r\n    debug = new Text();\r\n    if(val.toString().split(&quot;\\t&quot;).length &gt; 1) {\r\n        try{\r\n            debug.set(val.toString().split(&quot;\\t&quot;)[1]);\r\n        }catch(Exception e) {\r\n            debug.set(&quot;Exception&quot;)\r\n        }\r\n    }\r\n    context.write(key, debug);\r\n}\r\n```\r\nThe expected output would be:\r\n```\r\nkey  second part of value (after \\t) \r\n1    2,3,4,5,6\r\n1    4,5,6,6,7\r\n```\r\nHowever the output I get is this:\r\n```\r\nkey Tab (tab character after key)\r\n1TAB\r\n1TAB\r\n...\r\n2TAB\r\n```\r\n\r\nIf I replace the `try...catch` with `if...else`:\r\n```\r\nText debug;\r\nfor (Text val : values) {\r\n    String[] segments = val.toString().split(&quot;\\t&quot;);\r\n    debug = new Text();\r\n    if(val.toString().split(&quot;\\t&quot;).length &gt; 1) {\r\n        debug.set(val.toString().split(&quot;\\t&quot;)[1]);\r\n    } else {\r\n        debug.set(&quot;only one&quot;);\r\n    }\r\n    context.write(key, debug);\r\n}\r\n\r\n```\r\nThis gives the result\r\n```\r\n0   only one\r\n...\r\n100 only one\r\n```\r\nWhat&#39;s going on? I checked on Java and it seems that if I call `&quot;1\\t2&quot;.split(&quot;\\t&quot;)` it will give me `[&quot;1&quot;, &quot;2&quot;]`\r\n","title":"Text.set(string) not showing the right value in hadoop map reduce","body":"<p>I have a map function that sends data in the form of (the value of they keys are not important)</p>\n<pre><code>key: &quot;somevalue&quot;\nvalue: &quot;value \\t comma separated values&quot;\n</code></pre>\n<p>for example</p>\n<pre><code>key:&quot;0&quot;\nvalue:&quot;5\\t1,2,3,4&quot;\n</code></pre>\n<p>If I use this code:</p>\n<pre><code>Text debug;\nfor (Text val : values) {\n    String[] segments = val.toString().split(&quot;\\t&quot;);\n    debug = new Text();\n    debug.set(val.toString());\n    context.write(key, debug);\n}\n</code></pre>\n<p>I get the right output, such as</p>\n<pre><code>key value\n0   8   1,2,4,5\n0   2   0,4,5\n</code></pre>\n<p>But if I try this code, the output gets weird:</p>\n<pre><code>Text debug;\nfor (Text val : values) {\n    String[] segments = val.toString().split(&quot;\\t&quot;);\n    debug = new Text();\n    if(val.toString().split(&quot;\\t&quot;).length &gt; 1) {\n        try{\n            debug.set(val.toString().split(&quot;\\t&quot;)[1]);\n        }catch(Exception e) {\n            debug.set(&quot;Exception&quot;)\n        }\n    }\n    context.write(key, debug);\n}\n</code></pre>\n<p>The expected output would be:</p>\n<pre><code>key  second part of value (after \\t) \n1    2,3,4,5,6\n1    4,5,6,6,7\n</code></pre>\n<p>However the output I get is this:</p>\n<pre><code>key Tab (tab character after key)\n1TAB\n1TAB\n...\n2TAB\n</code></pre>\n<p>If I replace the <code>try...catch</code> with <code>if...else</code>:</p>\n<pre><code>Text debug;\nfor (Text val : values) {\n    String[] segments = val.toString().split(&quot;\\t&quot;);\n    debug = new Text();\n    if(val.toString().split(&quot;\\t&quot;).length &gt; 1) {\n        debug.set(val.toString().split(&quot;\\t&quot;)[1]);\n    } else {\n        debug.set(&quot;only one&quot;);\n    }\n    context.write(key, debug);\n}\n\n</code></pre>\n<p>This gives the result</p>\n<pre><code>0   only one\n...\n100 only one\n</code></pre>\n<p>What's going on? I checked on Java and it seems that if I call <code>&quot;1\\t2&quot;.split(&quot;\\t&quot;)</code> it will give me <code>[&quot;1&quot;, &quot;2&quot;]</code></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9304,"page":919,"page_size":100}
