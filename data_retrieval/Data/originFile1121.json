{"items":[{"tags":["java","unit-testing","dependency-injection","mockito","spy"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1660058032,"post_id":73294150,"comment_id":129440348,"body_markdown":"Which class are you actually trying to test? `ServiceClass`?","body":"Which class are you actually trying to test? <code>ServiceClass</code>?"},{"owner":{"account_id":20802784,"reputation":35,"user_id":15278421,"display_name":"Eyal Hadad"},"score":0,"creation_date":1660070387,"post_id":73294150,"comment_id":129444716,"body_markdown":"Yes, the other classes I test separately","body":"Yes, the other classes I test separately"}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660058432,"creation_date":1660058432,"answer_id":73294268,"question_id":73294150,"body_markdown":"In general, you should only mock the direct dependencies of the class you&#39;re testing, not the dependencies of the decencies. In your example, if you are testing `ServiceClass`, you should just mock `UtilsOne`, not `UtilsTwo`. So inject a mock of `UtilsOne` into `ServiceClass` and mock the response of `method3()` - that way no reference to `UtilsTwo` is ever made.\r\n\r\nYou might also want to test that `UtilsOne.method3()` is working correctly and interacting with `UtilsTwo` as you expect, but that should be a totally separate set of tests, where you mock `UtilsTwo` injected into. a real instance of `UtilsOne`.","title":"Mock Class within an Class- Using the original behavior of these Classes when calling methods","body":"<p>In general, you should only mock the direct dependencies of the class you're testing, not the dependencies of the decencies. In your example, if you are testing <code>ServiceClass</code>, you should just mock <code>UtilsOne</code>, not <code>UtilsTwo</code>. So inject a mock of <code>UtilsOne</code> into <code>ServiceClass</code> and mock the response of <code>method3()</code> - that way no reference to <code>UtilsTwo</code> is ever made.</p>\n<p>You might also want to test that <code>UtilsOne.method3()</code> is working correctly and interacting with <code>UtilsTwo</code> as you expect, but that should be a totally separate set of tests, where you mock <code>UtilsTwo</code> injected into. a real instance of <code>UtilsOne</code>.</p>\n"},{"tags":[],"owner":{"account_id":20802784,"reputation":35,"user_id":15278421,"display_name":"Eyal Hadad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660112918,"creation_date":1660112918,"answer_id":73301596,"question_id":73294150,"body_markdown":"After a lot trial and error, I used `ReflectionTestUtils` and it solved my problems\r\n\r\nThis is the general structure \r\n`ReflectionTestUtils.setField(ClassWhereTheFieldIsAt, &quot;NameOfFieldInClass&quot;, NameOfFieldInTest);`\r\n\r\nin the test class if it looks like this \r\n```\r\n@Spy \r\nprivate UtilsOne utilsOne;\r\n\r\nprivate UtilsTwo utilsTwo;\r\n@Test \r\npublic void testElements(){\r\n   ReflectionTestUtils.setField(utilsOne, &quot;utilsTwo&quot;, utilsTwo);\r\n\r\n....\r\n}\r\n```\r\n\r\nFor me the the `NameOfFieldInClass` and `NameOfFieldInTest` are the same.","title":"Mock Class within an Class- Using the original behavior of these Classes when calling methods","body":"<p>After a lot trial and error, I used <code>ReflectionTestUtils</code> and it solved my problems</p>\n<p>This is the general structure\n<code>ReflectionTestUtils.setField(ClassWhereTheFieldIsAt, &quot;NameOfFieldInClass&quot;, NameOfFieldInTest);</code></p>\n<p>in the test class if it looks like this</p>\n<pre><code>@Spy \nprivate UtilsOne utilsOne;\n\nprivate UtilsTwo utilsTwo;\n@Test \npublic void testElements(){\n   ReflectionTestUtils.setField(utilsOne, &quot;utilsTwo&quot;, utilsTwo);\n\n....\n}\n</code></pre>\n<p>For me the the <code>NameOfFieldInClass</code> and <code>NameOfFieldInTest</code> are the same.</p>\n"}],"owner":{"account_id":20802784,"reputation":35,"user_id":15278421,"display_name":"Eyal Hadad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73301596,"answer_count":2,"score":0,"last_activity_date":1660113201,"creation_date":1660057801,"question_id":73294150,"body_markdown":"I am having an issue with Null Pointer while trying to use Mockito with UT\r\n``` lang-java\r\nServiceClass{\r\n    @Inject\r\n    private UtilsOne;\r\n...\r\n    public void methodOne(object1, object2, List&lt;&gt; elements){\r\n       --- some logic ---\r\n       UtilsOne.method1();\r\n       --- some logic ---\r\n       UtilsOne.method2();\r\n       --- some logic ---\r\n       Element e = UtilsOne.createElement(type,id);\r\n       elements.add(e);\r\n    }\r\n...\r\n}\r\n\r\nUtilsOne{\r\n    @Inject\r\n    private UtilsTwo;\r\n...\r\n    public void method1(){\r\n       --- some logic ---\r\n    }\r\n    public void method2(){\r\n       --- some logic ---\r\n    }\r\n    public Element createElement(Object type, String id){\r\n       --- some logic ---\r\n       UtilsTwo.callMethod(type, id);\r\n    }\r\n...\r\n} \r\n```\r\nThis is how the structure of the classes looks in general.\r\n\r\nI used `@InjectMocks` on the `ServiceClass` and `@Spy` on the `UtilsOne` so far the functionality worked for me, when calling `methodOne`, everything seems to work as expected but, \r\n\r\ninside `methodOne` when reaching the `UtilsTwo.callMethod()` it throw a Null Pointer exception, I tried to figure out how to make the class (UtilsTwo) not Null so it will work but I did not figure it out.\r\n\r\nIf something is not clear please tell me I will edit and explain it better\r\nThanks in advance.\r\n\r\n***Edited\r\n\r\nAfter reading the answer I made it clearer, I want to check the content of the `List&lt;&gt; elements`, each Utils is has its own method and they have a connection - it will not be right to change the structure as it is now  \r\n    \r\n","title":"Mock Class within an Class- Using the original behavior of these Classes when calling methods","body":"<p>I am having an issue with Null Pointer while trying to use Mockito with UT</p>\n<pre class=\"lang-java prettyprint-override\"><code>ServiceClass{\n    @Inject\n    private UtilsOne;\n...\n    public void methodOne(object1, object2, List&lt;&gt; elements){\n       --- some logic ---\n       UtilsOne.method1();\n       --- some logic ---\n       UtilsOne.method2();\n       --- some logic ---\n       Element e = UtilsOne.createElement(type,id);\n       elements.add(e);\n    }\n...\n}\n\nUtilsOne{\n    @Inject\n    private UtilsTwo;\n...\n    public void method1(){\n       --- some logic ---\n    }\n    public void method2(){\n       --- some logic ---\n    }\n    public Element createElement(Object type, String id){\n       --- some logic ---\n       UtilsTwo.callMethod(type, id);\n    }\n...\n} \n</code></pre>\n<p>This is how the structure of the classes looks in general.</p>\n<p>I used <code>@InjectMocks</code> on the <code>ServiceClass</code> and <code>@Spy</code> on the <code>UtilsOne</code> so far the functionality worked for me, when calling <code>methodOne</code>, everything seems to work as expected but,</p>\n<p>inside <code>methodOne</code> when reaching the <code>UtilsTwo.callMethod()</code> it throw a Null Pointer exception, I tried to figure out how to make the class (UtilsTwo) not Null so it will work but I did not figure it out.</p>\n<p>If something is not clear please tell me I will edit and explain it better\nThanks in advance.</p>\n<p>***Edited</p>\n<p>After reading the answer I made it clearer, I want to check the content of the <code>List&lt;&gt; elements</code>, each Utils is has its own method and they have a connection - it will not be right to change the structure as it is now</p>\n"},{"tags":["java","servlets","jaas"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1292209718,"creation_date":1292209718,"answer_id":4425533,"question_id":4421365,"body_markdown":"It depends on the servlet container. If you&#39;re using Tomcat you have to configure a JAAS realm. See the Tomcat configuration documentation under Realms.","title":"JAAS with servlet","body":"<p>It depends on the servlet container. If you're using Tomcat you have to configure a JAAS realm. See the Tomcat configuration documentation under Realms.</p>\n"},{"tags":[],"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660112588,"creation_date":1660112588,"answer_id":73301551,"question_id":4421365,"body_markdown":"instead you can go to java_home/conf/security/java.security and add your config location by adding the following\r\n`login.config.url.1=file:[test_jaas.config path]`","title":"JAAS with servlet","body":"<p>instead you can go to java_home/conf/security/java.security and add your config location by adding the following\n<code>login.config.url.1=file:[test_jaas.config path]</code></p>\n"}],"owner":{"account_id":96964,"reputation":3086,"user_id":263285,"accept_rate":75,"display_name":"kalyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4425533,"answer_count":2,"score":0,"last_activity_date":1660112588,"creation_date":1292152750,"question_id":4421365,"body_markdown":"I am trying to use JAAS for my servlet application. I could get a basic JAAS simple authentication (non-servlet) working.\r\n\r\nBut with the servlet where to i set this variable?\r\n-Djava.security.auth.login.config=test_jaas.config\r\n\r\nI also tried exporting JVM_OPTS to this as per this page http://www.kopz.org/public/documents/tomcat/jaasintomcat.html\r\n\r\nBut I still keep getting, &quot;No LoginModules configured&quot; while creating LoginContex.\r\n\r\nAny help is appreciated.","title":"JAAS with servlet","body":"<p>I am trying to use JAAS for my servlet application. I could get a basic JAAS simple authentication (non-servlet) working.</p>\n\n<p>But with the servlet where to i set this variable?\n-Djava.security.auth.login.config=test_jaas.config</p>\n\n<p>I also tried exporting JVM_OPTS to this as per this page <a href=\"http://www.kopz.org/public/documents/tomcat/jaasintomcat.html\" rel=\"nofollow\">http://www.kopz.org/public/documents/tomcat/jaasintomcat.html</a></p>\n\n<p>But I still keep getting, \"No LoginModules configured\" while creating LoginContex.</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","security","jaas"],"comments":[{"owner":{"account_id":141656,"reputation":1378,"user_id":1340362,"accept_rate":37,"display_name":"Pedantic"},"score":1,"creation_date":1332687824,"post_id":9861125,"comment_id":12571656,"body_markdown":"I agree, I know how to implement, but will you please explain any scenario where  i can implement this.","body":"I agree, I know how to implement, but will you please explain any scenario where  i can implement this."},{"owner":{"account_id":4203391,"reputation":139,"user_id":3542189,"display_name":"pss1suporte"},"score":0,"creation_date":1491359259,"post_id":9861125,"comment_id":73512319,"body_markdown":"I would like to make an addendum, if possible. I believe that [my answer](http://stackoverflow.com/a/43220700/3542189) may help in understanding your question. Conceptually saying.","body":"I would like to make an addendum, if possible. I believe that <a href=\"http://stackoverflow.com/a/43220700/3542189\">my answer</a> may help in understanding your question. Conceptually saying."}],"answers":[{"tags":[],"owner":{"account_id":389422,"reputation":7780,"user_id":748883,"accept_rate":100,"display_name":"Alonso Dominguez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332687851,"creation_date":1332687851,"answer_id":9861161,"question_id":9861125,"body_markdown":"You don&#39;t need to implement your own JAAS login module with standard servlet containers unless you want to modify its standard behaviour as they provide you with several standard means to achieve it.\r\n\r\nHere you will find a tutorial showing how to use the form login with Tomcat (no need for rolling you own LoginModule):\r\nhttp://www.avajava.com/tutorials/lessons/how-do-i-use-form-authentication-with-tomcat.html","title":"where we use JAAS","body":"<p>You don't need to implement your own JAAS login module with standard servlet containers unless you want to modify its standard behaviour as they provide you with several standard means to achieve it.</p>\n\n<p>Here you will find a tutorial showing how to use the form login with Tomcat (no need for rolling you own LoginModule):\n<a href=\"http://www.avajava.com/tutorials/lessons/how-do-i-use-form-authentication-with-tomcat.html\" rel=\"nofollow\">http://www.avajava.com/tutorials/lessons/how-do-i-use-form-authentication-with-tomcat.html</a></p>\n"},{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332687859,"creation_date":1332687859,"answer_id":9861163,"question_id":9861125,"body_markdown":"Generally, you, as the application developer, do not implement JAAS modules.  instead, you choose which JAAS module you need to use for your application from pre-existing modules included in the app server you are using.  most application servers come with a variety of implementations which allow you to do common things like authenticate using info from a database, ldap, active directory, kerberos, etc.  you would determine which authentication source you need to use and configure your application appropriately.","title":"where we use JAAS","body":"<p>Generally, you, as the application developer, do not implement JAAS modules.  instead, you choose which JAAS module you need to use for your application from pre-existing modules included in the app server you are using.  most application servers come with a variety of implementations which allow you to do common things like authenticate using info from a database, ldap, active directory, kerberos, etc.  you would determine which authentication source you need to use and configure your application appropriately.</p>\n"},{"tags":[],"owner":{"account_id":1317368,"reputation":28514,"user_id":1263942,"accept_rate":96,"display_name":"Bruno Grieder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1332689974,"creation_date":1332689974,"answer_id":9861430,"question_id":9861125,"body_markdown":"JAAS is one way of implementing login on a container. JAAS main benefits come from the facts that it is a standard framework integrated in the JRE - so you get plenty of information, samples, connectors, etc - and that it properly separates the various concerns of user authentication.\r\n\r\nIn particular, it clearly separates authentication (validating the supplied credentials) and authorization (role and permissions granted to the user).\r\n\r\nWhile authentication is very often &quot;generic&quot; or &quot;external&quot;, for instance using an LDAP server, authorization is often tightly coupled with you application: roles and permissions are usually specific to the business problem the application addresses.\r\n\r\nImplementing your own JAAS module is a simple way of addressing this issue, while staying within the boundaries of a well-defined framework and without having to provide a low level implementation to inject the module with the login cycle and session management of the container.","title":"where we use JAAS","body":"<p>JAAS is one way of implementing login on a container. JAAS main benefits come from the facts that it is a standard framework integrated in the JRE - so you get plenty of information, samples, connectors, etc - and that it properly separates the various concerns of user authentication.</p>\n\n<p>In particular, it clearly separates authentication (validating the supplied credentials) and authorization (role and permissions granted to the user).</p>\n\n<p>While authentication is very often \"generic\" or \"external\", for instance using an LDAP server, authorization is often tightly coupled with you application: roles and permissions are usually specific to the business problem the application addresses.</p>\n\n<p>Implementing your own JAAS module is a simple way of addressing this issue, while staying within the boundaries of a well-defined framework and without having to provide a low level implementation to inject the module with the login cycle and session management of the container.</p>\n"},{"tags":[],"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660112391,"creation_date":1660112391,"answer_id":73301510,"question_id":9861125,"body_markdown":"The main advantage of JAAS is that its pam that is pluggable authentication module.. thus if an application wants to be separated from the authentication and authorization system you can use JAAS. moreover JAAS unlike java general security not only verifies the code source but also the person using the code source to access.. so thus if a web app needs pam and the authorization should be of code source as well as code handler then JAAS is better.","title":"where we use JAAS","body":"<p>The main advantage of JAAS is that its pam that is pluggable authentication module.. thus if an application wants to be separated from the authentication and authorization system you can use JAAS. moreover JAAS unlike java general security not only verifies the code source but also the person using the code source to access.. so thus if a web app needs pam and the authorization should be of code source as well as code handler then JAAS is better.</p>\n"}],"owner":{"account_id":141656,"reputation":1378,"user_id":1340362,"accept_rate":37,"display_name":"Pedantic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9861430,"answer_count":4,"score":1,"last_activity_date":1660112391,"creation_date":1332687547,"question_id":9861125,"body_markdown":"I am learning Java Security JCE/JAAS. I am not able to get a example where we need to implement JAAS login module in real word webapplication.\r\n\r\nCan any one please guide me where I can implement JAAS in my web application. as much i know this is authentication and authorization service.\r\n\r\n///\r\nIf my understanding is correct now, it means if there is any service(Like LDAP) is running in our webserver or any other webserver, and if  we want to consume that service then we need to implement JAAS to authenticate our application.\r\n","title":"where we use JAAS","body":"<p>I am learning Java Security JCE/JAAS. I am not able to get a example where we need to implement JAAS login module in real word webapplication.</p>\n\n<p>Can any one please guide me where I can implement JAAS in my web application. as much i know this is authentication and authorization service.</p>\n\n<p>///\nIf my understanding is correct now, it means if there is any service(Like LDAP) is running in our webserver or any other webserver, and if  we want to consume that service then we need to implement JAAS to authenticate our application.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":8646527,"reputation":685,"user_id":6473557,"accept_rate":0,"display_name":"Thomson Ignesious"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660109916,"creation_date":1660109916,"answer_id":73301114,"question_id":73299164,"body_markdown":"When you get any exception/error in spring boot always check at the bottom **caused by**,  that would give you the clear picture of what&#39;s wrong with your code/configuration.\r\n\r\n    Caused by: org.apache.derby.iapi.error.StandardException: Schema &#39;SA&#39; does not exist\r\n\r\n","title":"Spring Boot hibernate error ComandAcceptanceException","body":"<p>When you get any exception/error in spring boot always check at the bottom <strong>caused by</strong>,  that would give you the clear picture of what's wrong with your code/configuration.</p>\n<pre><code>Caused by: org.apache.derby.iapi.error.StandardException: Schema 'SA' does not exist\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24018229,"reputation":313,"user_id":18000902,"display_name":"Omar Hussien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660112028,"creation_date":1660112028,"answer_id":73301452,"question_id":73299164,"body_markdown":"&gt; Caused by: java.sql.SQLSyntaxErrorException: Schema &#39;SA&#39; does not exist\r\n\r\nCheck the configuration for Database in the spring properties\r\n 1. Make sure there is a schema **SA** .\r\n 2. Make sure the database name is Syntax correctly .\r\n\r\n\r\nIf it exists and everything is correct, change the property **spring.jpa.hibernate.ddl-auto** from **create-drop** to **update**","title":"Spring Boot hibernate error ComandAcceptanceException","body":"<blockquote>\n<p>Caused by: java.sql.SQLSyntaxErrorException: Schema 'SA' does not exist</p>\n</blockquote>\n<p>Check the configuration for Database in the spring properties</p>\n<ol>\n<li>Make sure there is a schema <strong>SA</strong> .</li>\n<li>Make sure the database name is Syntax correctly .</li>\n</ol>\n<p>If it exists and everything is correct, change the property <strong>spring.jpa.hibernate.ddl-auto</strong> from <strong>create-drop</strong> to <strong>update</strong></p>\n"}],"owner":{"account_id":3389058,"reputation":47,"user_id":2844366,"display_name":"Bogdan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73301452,"answer_count":2,"score":0,"last_activity_date":1660112028,"creation_date":1660088088,"question_id":73299164,"body_markdown":"I&#39;m trying to teach myself a little of spring framework so I have a little springboot application with web extension, jpa and apache derby. When i tried to run this little example i encountered a strange error. From what i understand it says that &quot;drop table topic&quot; is an sql syntax error? I have no idea what to do with it. Below is the code for the class that should be converted to an sql table and the error itself. Please help!\r\n\r\n\r\n```\r\npackage com.example.demo.topic;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class Topic {\r\n    @Id\r\n    private String id;\r\n    private String name;\r\n    private String description;\r\n\r\n    public Topic(){}\r\n\r\n    public Topic(String id, String name, String description) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.description = description;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n}\r\n```\r\nerror:\r\n\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop table topic&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:387) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:371) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:246) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:156) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:128) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:114) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:157) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) [spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) [spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) [spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) [spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) [spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) [spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) [spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) [spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$175/1436633036.getObject(Unknown Source) [spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) [spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) [spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) [spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) [spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) [spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) [spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) [spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-2.7.2.jar:2.7.2]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:10) [classes/:na]\r\nCaused by: java.sql.SQLSyntaxErrorException: Schema &#39;SA&#39; does not exist\r\n\tat org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\t... 35 common frames omitted\r\nCaused by: org.apache.derby.iapi.error.StandardException: Schema &#39;SA&#39; does not exist\r\n\tat org.apache.derby.iapi.error.StandardException.newException(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.iapi.error.StandardException.newException(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.impl.sql.catalog.DataDictionaryImpl.getSchemaDescriptor(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.iapi.sql.StatementUtil.getSchemaDescriptor(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.impl.sql.compile.QueryTreeNode.getSchemaDescriptor(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.impl.sql.compile.QueryTreeNode.getSchemaDescriptor(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.impl.sql.compile.DDLStatementNode.justGetDescriptor(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.impl.sql.compile.DDLStatementNode.getTableDescriptor(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.impl.sql.compile.DDLStatementNode.getTableDescriptor(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.impl.sql.compile.DropTableNode.bindStatement(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.impl.sql.GenericStatement.prepMinion(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.impl.sql.GenericStatement.prepare(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\tat org.apache.derby.impl.sql.conn.GenericLanguageConnectionContext.prepareInternalStatement(Unknown Source) ~[derby-10.14.2.0.jar:na]\r\n\t... 40 common frames omitted\r\n```","title":"Spring Boot hibernate error ComandAcceptanceException","body":"<p>I'm trying to teach myself a little of spring framework so I have a little springboot application with web extension, jpa and apache derby. When i tried to run this little example i encountered a strange error. From what i understand it says that &quot;drop table topic&quot; is an sql syntax error? I have no idea what to do with it. Below is the code for the class that should be converted to an sql table and the error itself. Please help!</p>\n<pre><code>package com.example.demo.topic;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic class Topic {\n    @Id\n    private String id;\n    private String name;\n    private String description;\n\n    public Topic(){}\n\n    public Topic(String id, String name, String description) {\n        this.id = id;\n        this.name = name;\n        this.description = description;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n}\n</code></pre>\n<p>error:</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop table topic&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:387) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:371) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:246) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:156) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:128) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:114) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:157) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) [hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) [spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) [spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) [spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) [spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) [spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) [spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) [spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) [spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$175/1436633036.getObject(Unknown Source) [spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) [spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) [spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) [spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) [spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) [spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) [spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) [spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-2.7.2.jar:2.7.2]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:10) [classes/:na]\nCaused by: java.sql.SQLSyntaxErrorException: Schema 'SA' does not exist\n    at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    ... 35 common frames omitted\nCaused by: org.apache.derby.iapi.error.StandardException: Schema 'SA' does not exist\n    at org.apache.derby.iapi.error.StandardException.newException(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.iapi.error.StandardException.newException(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.getSchemaDescriptor(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.iapi.sql.StatementUtil.getSchemaDescriptor(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.impl.sql.compile.QueryTreeNode.getSchemaDescriptor(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.impl.sql.compile.QueryTreeNode.getSchemaDescriptor(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.impl.sql.compile.DDLStatementNode.justGetDescriptor(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.impl.sql.compile.DDLStatementNode.getTableDescriptor(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.impl.sql.compile.DDLStatementNode.getTableDescriptor(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.impl.sql.compile.DropTableNode.bindStatement(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.impl.sql.GenericStatement.prepMinion(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.impl.sql.GenericStatement.prepare(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    at org.apache.derby.impl.sql.conn.GenericLanguageConnectionContext.prepareInternalStatement(Unknown Source) ~[derby-10.14.2.0.jar:na]\n    ... 40 common frames omitted\n</code></pre>\n"},{"tags":["java","tomcat","authorization","jaas","java-security"],"owner":{"account_id":25930939,"reputation":336,"user_id":19652021,"display_name":"hariharan baskaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660111778,"creation_date":1660111778,"question_id":73301407,"body_markdown":"Am learning JAAS authorization.. I have 2 users admin and clients for admin the files associated with it are admin.java and adminfunctions.java and the principal name for admin is admin and for clients its clientservlet.java and reserve.java and the principal name is clients.. so how to write a policy file which restricts and allow access to only the allowed files..\r\n\r\nwhen i searched the net i got this\r\n```\r\ngrant codebase &quot;file:./SampleAction.jar&quot;,\r\n    Principal javax.security.auth.kerberos.KerberosPrincipal \r\n        &quot;your_user_name@your_realm&quot;  {\r\n\r\n   permission java.util.PropertyPermission &quot;java.home&quot;, &quot;read&quot;;\r\n   permission java.util.PropertyPermission &quot;user.home&quot;, &quot;read&quot;;\r\n   permission java.io.FilePermission &quot;foo.txt&quot;, &quot;read&quot;;\r\n};\r\n```\r\n\r\nyet i dont know what kewwrbros is doing and what to write in the place of &quot;your_user_name@your_realm&quot;","title":"how to add policy file for the following in jaas","body":"<p>Am learning JAAS authorization.. I have 2 users admin and clients for admin the files associated with it are admin.java and adminfunctions.java and the principal name for admin is admin and for clients its clientservlet.java and reserve.java and the principal name is clients.. so how to write a policy file which restricts and allow access to only the allowed files..</p>\n<p>when i searched the net i got this</p>\n<pre><code>grant codebase &quot;file:./SampleAction.jar&quot;,\n    Principal javax.security.auth.kerberos.KerberosPrincipal \n        &quot;your_user_name@your_realm&quot;  {\n\n   permission java.util.PropertyPermission &quot;java.home&quot;, &quot;read&quot;;\n   permission java.util.PropertyPermission &quot;user.home&quot;, &quot;read&quot;;\n   permission java.io.FilePermission &quot;foo.txt&quot;, &quot;read&quot;;\n};\n</code></pre>\n<p>yet i dont know what kewwrbros is doing and what to write in the place of &quot;your_user_name@your_realm&quot;</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1660042128,"post_id":73290512,"comment_id":129433850,"body_markdown":"*&quot;collect that penalty points to one int&quot;* — What do you exactly mean? Would you like to sum all penalty points of all tickets?","body":"<i>&quot;collect that penalty points to one int&quot;</i> — What do you exactly mean? Would you like to sum all penalty points of all tickets?"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1660111665,"creation_date":1660042730,"answer_id":73290694,"question_id":73290512,"body_markdown":"Assuming that `tickets()` is a method that returns a `List` of `TicketDTO`, you could stream the `List` and filter its elements with your custom method `isDateBetween` (as you were doing).\r\n\r\nThen &lt;b&gt;flat the mapping of each ticket to their corresponding offences&lt;/b&gt;. This will provide you a stream of `OffenceDTO` whose `TicketDTO` is between the last two years (according to your `isDateBetween` method).\r\n\r\nUltimately, you can collect the points of each `OffenceDTO` by summing them with the `summingInt` method of the `Collectors` class.\r\n\r\n```\r\nint res = tickets().stream()\r\n\t\t.filter(ticketEntity -&gt; isDateBetween(LocalDate.now(), ticketEntity.getDate()))\r\n\t\t.flatMap(ticketDTO -&gt; ticketDTO.getOffences().stream())\r\n\t\t.collect(Collectors.summingInt(OffenceDTO::getPenaltyPoints));\r\n```","title":"How to Add up the values in a Nested Collection using Streams","body":"<p>Assuming that <code>tickets()</code> is a method that returns a <code>List</code> of <code>TicketDTO</code>, you could stream the <code>List</code> and filter its elements with your custom method <code>isDateBetween</code> (as you were doing).</p>\n<p>Then <b>flat the mapping of each ticket to their corresponding offences</b>. This will provide you a stream of <code>OffenceDTO</code> whose <code>TicketDTO</code> is between the last two years (according to your <code>isDateBetween</code> method).</p>\n<p>Ultimately, you can collect the points of each <code>OffenceDTO</code> by summing them with the <code>summingInt</code> method of the <code>Collectors</code> class.</p>\n<pre><code>int res = tickets().stream()\n        .filter(ticketEntity -&gt; isDateBetween(LocalDate.now(), ticketEntity.getDate()))\n        .flatMap(ticketDTO -&gt; ticketDTO.getOffences().stream())\n        .collect(Collectors.summingInt(OffenceDTO::getPenaltyPoints));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1660046054,"creation_date":1660045535,"answer_id":73291258,"question_id":73290512,"body_markdown":"&gt; I would like to collect the **penalty points** in a single `int` value by streaming the **set of tickets**\r\n\r\nIt can be done in the following steps:\r\n\r\n* Turn the stream of filtered *tickets* into a stream of `OffenceDTO` using `flatMap()`;\r\n* Extract *penalty points* from `OffenceDTO` with `mapToInt()`, that will transform a stream of objects into a `IntStream`;\r\n* Apply `sum()` to get the total.\r\n\r\n```\r\nint totalPenalty = tickets().stream()\r\n    .filter(ticketEntity -&gt; isDateBetween(LocalDate.now(), ticketEntity.getDate()))\r\n    .flatMap(ticketDTO -&gt; ticketDTO.getOffences().stream())\r\n    .mapToInt(OffenceDTO::getPenaltyPoints)\r\n    .sum();\r\n```","title":"How to Add up the values in a Nested Collection using Streams","body":"<blockquote>\n<p>I would like to collect the <strong>penalty points</strong> in a single <code>int</code> value by streaming the <strong>set of tickets</strong></p>\n</blockquote>\n<p>It can be done in the following steps:</p>\n<ul>\n<li>Turn the stream of filtered <em>tickets</em> into a stream of <code>OffenceDTO</code> using <code>flatMap()</code>;</li>\n<li>Extract <em>penalty points</em> from <code>OffenceDTO</code> with <code>mapToInt()</code>, that will transform a stream of objects into a <code>IntStream</code>;</li>\n<li>Apply <code>sum()</code> to get the total.</li>\n</ul>\n<pre><code>int totalPenalty = tickets().stream()\n    .filter(ticketEntity -&gt; isDateBetween(LocalDate.now(), ticketEntity.getDate()))\n    .flatMap(ticketDTO -&gt; ticketDTO.getOffences().stream())\n    .mapToInt(OffenceDTO::getPenaltyPoints)\n    .sum();\n</code></pre>\n"}],"owner":{"account_id":23897722,"reputation":221,"user_id":17896393,"display_name":"Lulex97"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73291258,"answer_count":2,"score":2,"last_activity_date":1660111665,"creation_date":1660041877,"question_id":73290512,"body_markdown":"I have the following `TicketDTO` Object:\r\n\r\n    public class TicketDTO {\r\n        private LocalDate date;\r\n        private Set&lt;OffenceDTO&gt; offences;\r\n    }\r\n\r\nAnd every `OffenceDTO` has an `int` field - *penalty points*.\r\n\r\n    public class OffenceDTO {\r\n        private int penaltyPoints;\r\n    }\r\n\r\nI would like to add up the **penalty points** to a single `int` value by streaming the *Set of Offenses* of each *Ticket*. But only if the ticket&#39;s date is between the last two years.\r\n\r\nI have collected tickets from the last two years, but now I have a problem in how to go through the offenses and count their points.\r\n\r\nThis is what I&#39;ve written so far:\r\n\r\n    tickets().stream()\r\n        .filter(ticketEntity -&gt; isDateBetween(LocalDate.now(), ticketEntity.getDate()))\r\n        .collect(Collectors.toList());","title":"How to Add up the values in a Nested Collection using Streams","body":"<p>I have the following <code>TicketDTO</code> Object:</p>\n<pre><code>public class TicketDTO {\n    private LocalDate date;\n    private Set&lt;OffenceDTO&gt; offences;\n}\n</code></pre>\n<p>And every <code>OffenceDTO</code> has an <code>int</code> field - <em>penalty points</em>.</p>\n<pre><code>public class OffenceDTO {\n    private int penaltyPoints;\n}\n</code></pre>\n<p>I would like to add up the <strong>penalty points</strong> to a single <code>int</code> value by streaming the <em>Set of Offenses</em> of each <em>Ticket</em>. But only if the ticket's date is between the last two years.</p>\n<p>I have collected tickets from the last two years, but now I have a problem in how to go through the offenses and count their points.</p>\n<p>This is what I've written so far:</p>\n<pre><code>tickets().stream()\n    .filter(ticketEntity -&gt; isDateBetween(LocalDate.now(), ticketEntity.getDate()))\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud-feign","feign"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1660055362,"post_id":73292417,"comment_id":129439187,"body_markdown":"How does your controller looks like?","body":"How does your controller looks like?"},{"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"score":0,"creation_date":1660057133,"post_id":73292417,"comment_id":129439937,"body_markdown":"@Nemanja I have a resource (it&#39;s a microservice) and it looks the same","body":"@Nemanja I have a resource (it&#39;s a microservice) and it looks the same"},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1660059320,"post_id":73292417,"comment_id":129440869,"body_markdown":"Ok, how to you call that endpoint? I mean, how to you  pass those parmeters that you expect? Can you provide screenshot from postman?","body":"Ok, how to you call that endpoint? I mean, how to you  pass those parmeters that you expect? Can you provide screenshot from postman?"},{"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"score":0,"creation_date":1660060957,"post_id":73292417,"comment_id":129441544,"body_markdown":"@Nemanja I call it from another microservice like this: feignClient.createFile(file, new ProcessDto(), true). Here is what I see in the logs: /files/createFile?file =%7B%22resultFileName%22%3A%22VK_Contract_VBK_20220809%22%2C%22uuidMap%22%3A%7B%7D%7D&amp;process=ProcessDto%28id%3Dnull%2C%20system%3Dnull%29&amp;new=true","body":"@Nemanja I call it from another microservice like this: feignClient.createFile(file, new ProcessDto(), true). Here is what I see in the logs: /files/createFile?file =%7B%22resultFileName%22%3A%22VK_Contract_VBK_20220809%22%2C&zwnj;&#8203;%22uuidMap%22%3A%7B%&zwnj;&#8203;7D%7D&amp;process=Proces&zwnj;&#8203;sDto%28id%3Dnull%2C%&zwnj;&#8203;20system%3Dnull%29&amp;n&zwnj;&#8203;ew=true"},{"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"score":0,"creation_date":1660061370,"post_id":73292417,"comment_id":129441685,"body_markdown":"Maybe there is something that I should add to &quot;consumes&quot; in @PostMapping(consumes = &quot;...&quot;)?","body":"Maybe there is something that I should add to &quot;consumes&quot; in @PostMapping(consumes = &quot;...&quot;)?"},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1660066421,"post_id":73292417,"comment_id":129443437,"body_markdown":"Ok, how does the endpoint /files/createFile that should handle request looks like?","body":"Ok, how does the endpoint /files/createFile that should handle request looks like?"},{"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"score":0,"creation_date":1660111667,"post_id":73292417,"comment_id":129452405,"body_markdown":"@Nemanja I have updated my code insert in the question (public interface FileResource). I hope I understood you well.","body":"@Nemanja I have updated my code insert in the question (public interface FileResource). I hope I understood you well."},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1660120472,"post_id":73292417,"comment_id":129455145,"body_markdown":"Ok, please upload your feing client configuration","body":"Ok, please upload your feing client configuration"}],"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660111419,"creation_date":1660050666,"question_id":73292417,"body_markdown":"I have a feign client method ***createFile(FileDto file, ProcessDto process, boolean new)***.\r\n```\r\n@Api(value = &quot;Operations with files&quot;)\r\n@RequestMapping(&quot;files&quot;)\r\npublic interface FileResource {\r\n\r\n    @PostMapping(value = &quot;createFile&quot;)\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    @ResponseBody\r\n    FileDto createFile(\r\n            @RequestParam(&quot;file&quot;) FileDto file,\r\n            @RequestParam(value = &quot;process&quot;, required = false) ProcessDto process,\r\n            @RequestParam(value = &quot;new&quot;, defaultValue = &quot;true&quot;) boolean new);\r\n```\r\n\r\nIf I call this method with new object creating - ***feignClient.createFile(file, new ProcessDto(), true)*** - I get the following error:\r\n\r\n\r\n&gt; org.springframework.web.method.annotation.MethodArgumentTypeMismatchException:\r\n&gt; Failed to convert value of type &#39;java.lang.String&#39; to required type\r\n&gt; &#39;ru.project.hw.ProcessDto&#39;;\r\n&gt; \r\n&gt; Caused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized\r\n&gt; token &#39;ProcessDto&#39;: was expecting (JSON String, Number, Array, Object\r\n&gt; or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)  at [Source:\r\n&gt; (String)&quot;ProcessDto(id=null, system=null)&quot;; line: 1, column: 21]\r\n\r\nIt works fine with ***feignClient.createFile(file, null, true)*** and if I create ProcessDto object before calling the method ***feignClient.createFile(file, processDto, true)***.\r\n\r\nPlease explain, is it necessary to create an object before calling feign client method if I need to pass an empty object? Is there any way to make it work with ***new ProcessDto()***? (I have a feeling that passing null as a parameter is not a good idea).\r\n\r\nThanks!","title":"JAVA Pass new () object to a Feign Client method","body":"<p>I have a feign client method <em><strong>createFile(FileDto file, ProcessDto process, boolean new)</strong></em>.</p>\n<pre><code>@Api(value = &quot;Operations with files&quot;)\n@RequestMapping(&quot;files&quot;)\npublic interface FileResource {\n\n    @PostMapping(value = &quot;createFile&quot;)\n    @ResponseStatus(HttpStatus.CREATED)\n    @ResponseBody\n    FileDto createFile(\n            @RequestParam(&quot;file&quot;) FileDto file,\n            @RequestParam(value = &quot;process&quot;, required = false) ProcessDto process,\n            @RequestParam(value = &quot;new&quot;, defaultValue = &quot;true&quot;) boolean new);\n</code></pre>\n<p>If I call this method with new object creating - <em><strong>feignClient.createFile(file, new ProcessDto(), true)</strong></em> - I get the following error:</p>\n<blockquote>\n<p>org.springframework.web.method.annotation.MethodArgumentTypeMismatchException:\nFailed to convert value of type 'java.lang.String' to required type\n'ru.project.hw.ProcessDto';</p>\n<p>Caused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized\ntoken 'ProcessDto': was expecting (JSON String, Number, Array, Object\nor token 'null', 'true' or 'false')  at [Source:\n(String)&quot;ProcessDto(id=null, system=null)&quot;; line: 1, column: 21]</p>\n</blockquote>\n<p>It works fine with <em><strong>feignClient.createFile(file, null, true)</strong></em> and if I create ProcessDto object before calling the method <em><strong>feignClient.createFile(file, processDto, true)</strong></em>.</p>\n<p>Please explain, is it necessary to create an object before calling feign client method if I need to pass an empty object? Is there any way to make it work with <em><strong>new ProcessDto()</strong></em>? (I have a feeling that passing null as a parameter is not a good idea).</p>\n<p>Thanks!</p>\n"},{"tags":["java","string","intellij-idea"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1403572897,"post_id":24376980,"comment_id":37699074,"body_markdown":"Are you changing the content of the string?","body":"Are you changing the content of the string?"},{"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":5,"creation_date":1403573077,"post_id":24376980,"comment_id":37699125,"body_markdown":"No just split it with `+` sign. For example it possible to configure Intellin to wrap code line that more than 80 symbols, I need something similar with too long strings.","body":"No just split it with <code>+</code> sign. For example it possible to configure Intellin to wrap code line that more than 80 symbols, I need something similar with too long strings."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":5,"creation_date":1403573219,"post_id":24376980,"comment_id":37699167,"body_markdown":"Look into code formatting shortcuts.","body":"Look into code formatting shortcuts."},{"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":0,"creation_date":1403683477,"post_id":24376980,"comment_id":37748522,"body_markdown":"I am looking, but what exactly I have to see? :)","body":"I am looking, but what exactly I have to see? :)"},{"owner":{"account_id":394785,"reputation":2893,"user_id":2068738,"display_name":"bonh"},"score":0,"creation_date":1546448215,"post_id":24376980,"comment_id":94857193,"body_markdown":"I agree with commenters below that the latest version of IntelliJ doesn&#39;t break the string with code formatting.  However, you can move your cursor inside the string and press Enter to split the string manually.","body":"I agree with commenters below that the latest version of IntelliJ doesn&#39;t break the string with code formatting.  However, you can move your cursor inside the string and press Enter to split the string manually."}],"answers":[{"tags":[],"owner":{"account_id":7028373,"reputation":1191,"user_id":5385022,"display_name":"mkierc"},"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1660111103,"creation_date":1443547578,"answer_id":32850177,"question_id":24376980,"body_markdown":"You can use auto-formatting by running the `Reformat code` function \r\n(&lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;ALT&lt;/kbd&gt;+&lt;kbd&gt;L&lt;/kbd&gt;) after few changes in Code Style settings.\r\n\r\n(alternatively `Reformat code`, &lt;kbd&gt;⌥&lt;/kbd&gt;+&lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;L&lt;/kbd&gt; on MacOS), \r\n\r\n - Press &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;ALT&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt; to open `Settings` window (or `Preferences`, &lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;,&lt;/kbd&gt; on MacOS)\r\n - Go to `Code Style` menu, and choose `Java` submenu\r\n - Go to `Wrapping and Braces` tab\r\n - Make sure to **uncheck** `Line Breaks` option and **check** `Ensure right margin is not exceeded` option\r\n - Press `OK` to accept changes you&#39;ve made\r\n\r\nNow when using auto-formatting (&lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;ALT&lt;/kbd&gt;+&lt;kbd&gt;L&lt;/kbd&gt; / MacOS &lt;kbd&gt;⌥&lt;/kbd&gt;+&lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;L&lt;/kbd&gt;) long strings exceeding line character limit will be automatically cut into multiple lines.","title":"How to split long strings in IntelliJ IDEA automatically?","body":"<p>You can use auto-formatting by running the <code>Reformat code</code> function\n(<kbd>CTRL</kbd>+<kbd>ALT</kbd>+<kbd>L</kbd>) after few changes in Code Style settings.</p>\n<p>(alternatively <code>Reformat code</code>, <kbd>⌥</kbd>+<kbd>⌘</kbd>+<kbd>L</kbd> on MacOS),</p>\n<ul>\n<li>Press <kbd>CTRL</kbd>+<kbd>ALT</kbd>+<kbd>S</kbd> to open <code>Settings</code> window (or <code>Preferences</code>, <kbd>⌘</kbd>+<kbd>,</kbd> on MacOS)</li>\n<li>Go to <code>Code Style</code> menu, and choose <code>Java</code> submenu</li>\n<li>Go to <code>Wrapping and Braces</code> tab</li>\n<li>Make sure to <strong>uncheck</strong> <code>Line Breaks</code> option and <strong>check</strong> <code>Ensure right margin is not exceeded</code> option</li>\n<li>Press <code>OK</code> to accept changes you've made</li>\n</ul>\n<p>Now when using auto-formatting (<kbd>CTRL</kbd>+<kbd>ALT</kbd>+<kbd>L</kbd> / MacOS <kbd>⌥</kbd>+<kbd>⌘</kbd>+<kbd>L</kbd>) long strings exceeding line character limit will be automatically cut into multiple lines.</p>\n"},{"tags":[],"owner":{"account_id":4493941,"reputation":416,"user_id":5346565,"accept_rate":67,"display_name":"Gili Garibi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521113956,"creation_date":1521113956,"answer_id":49298487,"question_id":24376980,"body_markdown":"Same version - Community Edition. [![Here&#39;s the relevant section][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D6GcC.jpg","title":"How to split long strings in IntelliJ IDEA automatically?","body":"<p>Same version - Community Edition. <a href=\"https://i.stack.imgur.com/D6GcC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D6GcC.jpg\" alt=\"Here&#39;s the relevant section\"></a></p>\n"},{"tags":[],"owner":{"account_id":15177297,"reputation":1,"user_id":10951645,"display_name":"DBDAN"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1548179425,"creation_date":1548179425,"answer_id":54313852,"question_id":24376980,"body_markdown":"I had to paste a long SQL String for a native query in my application. \r\nI think the real solution is to put your cursor inside the &quot;&quot; marks of this line of code typed manually:\r\n&quot; &quot; + \r\n\r\nWhen you paste the LONG STRING of text inside the quotation marks, IntelliJ will format each line of code also with \\t and \\n inside, for you.\r\n","title":"How to split long strings in IntelliJ IDEA automatically?","body":"<p>I had to paste a long SQL String for a native query in my application. \nI think the real solution is to put your cursor inside the \"\" marks of this line of code typed manually:\n\" \" + </p>\n\n<p>When you paste the LONG STRING of text inside the quotation marks, IntelliJ will format each line of code also with \\t and \\n inside, for you.</p>\n"},{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660004036,"creation_date":1606300919,"answer_id":65003009,"question_id":24376980,"body_markdown":"At least for me, code formatting options still don&#39;t do this in 2020.2.3 Ultimate version. It seems to only split the string on punctuation marks - `&quot;fooofoooo.ffoooo&quot;` is broken to `&quot;fooofoooo&quot; + &quot;ffoooo&quot;` but long string with letters in it is not split.\r\n\r\nOnly thing I&#39;ve seen working consistently is to place your cursor within the string and press enter. That&#39;s hardly &quot;automatically&quot;, but best answer so far.","title":"How to split long strings in IntelliJ IDEA automatically?","body":"<p>At least for me, code formatting options still don't do this in 2020.2.3 Ultimate version. It seems to only split the string on punctuation marks - <code>&quot;fooofoooo.ffoooo&quot;</code> is broken to <code>&quot;fooofoooo&quot; + &quot;ffoooo&quot;</code> but long string with letters in it is not split.</p>\n<p>Only thing I've seen working consistently is to place your cursor within the string and press enter. That's hardly &quot;automatically&quot;, but best answer so far.</p>\n"},{"tags":[],"owner":{"account_id":1386556,"reputation":7199,"user_id":1318479,"accept_rate":88,"display_name":"cb4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660003885,"creation_date":1660003885,"answer_id":73285260,"question_id":24376980,"body_markdown":"**2022 UPDATE**\r\nThere is still *no answer* to what the OP asked - configure IntelliJ to &quot;automatically split those long strings&quot;. The most upvoted answer does not work. \r\n\r\nThere is only one way (it&#39;s manual) to solve this problem short of someone writing a plugin. This method is guaranteed to work regardless of any other settings and provides 100% control of formatting of any code segment, not just those with long lines of strings.\r\n\r\nGo to `Settings Editor | Code Style | Formatter` and enable the formatter on/off markers. Format the code fragment any way you want and surround it with the off/on phrases in code comments.\r\n\r\n**My example code segment:**\r\n\r\n    System.out.println(&quot;This is a long line of text that includes &quot; + variables() + &quot; and &quot; + some.otherStuff().toString() + &quot;. But don&#39;t count on &quot; + this.IDE().toName() + &quot; to format it in &quot; + anIntelligent() + &quot; way. &quot; + this.IDE().toName() + &quot; should add a &quot; + plusSign.Option() + &quot; for long strings like this.&quot;);\r\n\r\n**RESULT 1** With settings as described in @mkierc&#39;s answer with a hard wrap at 80 per OP:\r\n\r\n    \tSystem.out.println(\r\n\t\t\t&quot;This is a long line of text that includes &quot; + variables() + &quot; in &quot; +\r\n\t\t\t\t\t&quot;it and &quot; + some.otherStuff()\r\n\t\t\t\t\t                                                                             .toString() + &quot;. But don&#39;t count on &quot; + this.IDE()\r\n\t\t\t\t\t\t\t                                                                                                                     .toName() + &quot; to format it in &quot; + anIntelligent() + &quot; way. &quot; + this.IDE()\r\n\t\t\t\t\t\t\t\t\t                                                                                                                                                                                    .toName() + &quot; should add a &quot; + plusSign.Option() + &quot; for long strings like this.&quot;);\r\n\r\nI don&#39;t know how this could be worse. The hard wrap was not honored after the second line and the ending semi-colon is at column 300! Honestly, I can&#39;t imagine what algorithm led to this mess. My son at 10 years old could do better...\r\n\r\n**RESULT 2** Formatted manually, margin at 80, and using formatter on/off markers:\r\n\r\n    //@formatter:off\r\n\tSystem.out.println(&quot;This is a long line of text that includes &quot; \r\n               + variables() + &quot; in it and &quot; + some.otherStuff().toString()\r\n               + &quot;. But don&#39;t count on &quot; + this.IDE().toName() \r\n               + &quot; to format it in &quot; + anIntelligent() + &quot; way. &quot; \r\n               + this.IDE().toName() + &quot; should add a &quot; + plusSign.Option() \r\n               + &quot; for long strings like this.&quot;);\r\n\t//@formatter:on\r\n\r\nIt&#39;s possible that Result 1 can be improved with other settings. I tried a few seemingly relevant options and combinations thereof. None significantly changed the results.","title":"How to split long strings in IntelliJ IDEA automatically?","body":"<p><strong>2022 UPDATE</strong>\nThere is still <em>no answer</em> to what the OP asked - configure IntelliJ to &quot;automatically split those long strings&quot;. The most upvoted answer does not work.</p>\n<p>There is only one way (it's manual) to solve this problem short of someone writing a plugin. This method is guaranteed to work regardless of any other settings and provides 100% control of formatting of any code segment, not just those with long lines of strings.</p>\n<p>Go to <code>Settings Editor | Code Style | Formatter</code> and enable the formatter on/off markers. Format the code fragment any way you want and surround it with the off/on phrases in code comments.</p>\n<p><strong>My example code segment:</strong></p>\n<pre><code>System.out.println(&quot;This is a long line of text that includes &quot; + variables() + &quot; and &quot; + some.otherStuff().toString() + &quot;. But don't count on &quot; + this.IDE().toName() + &quot; to format it in &quot; + anIntelligent() + &quot; way. &quot; + this.IDE().toName() + &quot; should add a &quot; + plusSign.Option() + &quot; for long strings like this.&quot;);\n</code></pre>\n<p><strong>RESULT 1</strong> With settings as described in @mkierc's answer with a hard wrap at 80 per OP:</p>\n<pre><code>    System.out.println(\n        &quot;This is a long line of text that includes &quot; + variables() + &quot; in &quot; +\n                &quot;it and &quot; + some.otherStuff()\n                                                                                             .toString() + &quot;. But don't count on &quot; + this.IDE()\n                                                                                                                                             .toName() + &quot; to format it in &quot; + anIntelligent() + &quot; way. &quot; + this.IDE()\n                                                                                                                                                                                                                    .toName() + &quot; should add a &quot; + plusSign.Option() + &quot; for long strings like this.&quot;);\n</code></pre>\n<p>I don't know how this could be worse. The hard wrap was not honored after the second line and the ending semi-colon is at column 300! Honestly, I can't imagine what algorithm led to this mess. My son at 10 years old could do better...</p>\n<p><strong>RESULT 2</strong> Formatted manually, margin at 80, and using formatter on/off markers:</p>\n<pre><code>//@formatter:off\nSystem.out.println(&quot;This is a long line of text that includes &quot; \n           + variables() + &quot; in it and &quot; + some.otherStuff().toString()\n           + &quot;. But don't count on &quot; + this.IDE().toName() \n           + &quot; to format it in &quot; + anIntelligent() + &quot; way. &quot; \n           + this.IDE().toName() + &quot; should add a &quot; + plusSign.Option() \n           + &quot; for long strings like this.&quot;);\n//@formatter:on\n</code></pre>\n<p>It's possible that Result 1 can be improved with other settings. I tried a few seemingly relevant options and combinations thereof. None significantly changed the results.</p>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38848,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"answer_count":5,"score":51,"last_activity_date":1660111103,"creation_date":1403572848,"question_id":24376980,"body_markdown":"I am writing a test with very long strings, and I need to split those strings:\r\n\r\n\tprivate static final String TOO_LONG_JSON = &quot;{field1:field1, field2:field2 ... fieldN:fieldN}&quot;;\r\n\t\r\nso they would become:\r\n\r\n\tprivate static final String TOO_LONG_JSON = &quot;{field1:field1, field2:field2&quot; + \r\n\t    &quot;{field3:field3, field4:field4,field6:field6, field7:field7}&quot; +\r\n\t    &quot;{field8:field8, field9:field9,field10:field10, field11:field11}&quot; +\r\n\t    &quot; ... fieldN:fieldN}&quot;;\r\n\t   \r\nIs it possible to set up IntelliJ IDEA to automatically split those long strings?","title":"How to split long strings in IntelliJ IDEA automatically?","body":"<p>I am writing a test with very long strings, and I need to split those strings:</p>\n\n<pre><code>private static final String TOO_LONG_JSON = \"{field1:field1, field2:field2 ... fieldN:fieldN}\";\n</code></pre>\n\n<p>so they would become:</p>\n\n<pre><code>private static final String TOO_LONG_JSON = \"{field1:field1, field2:field2\" + \n    \"{field3:field3, field4:field4,field6:field6, field7:field7}\" +\n    \"{field8:field8, field9:field9,field10:field10, field11:field11}\" +\n    \" ... fieldN:fieldN}\";\n</code></pre>\n\n<p>Is it possible to set up IntelliJ IDEA to automatically split those long strings?</p>\n"},{"tags":["java","spring","spring-boot","generics"],"answers":[{"tags":[],"owner":{"account_id":15988209,"reputation":150,"user_id":11538031,"display_name":"Емилиян Йорданов"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660111090,"creation_date":1660111090,"answer_id":73301283,"question_id":73300740,"body_markdown":"Because your interface is defined as `T extends AbstractPoiSearchData`,\r\nThen `List&lt;PoiSearchDataProvider&lt;AbstractPoiSearchData&gt;&gt;` it is declared as single `AbstractPoiSearchData` which doesn&#39;t extend itself.\r\n\r\nI think that in your case :\r\n\r\n    public interface PoiSearchDataProvider&lt;AbstractPoiSearchData&gt; {\r\n    \r\n        AbstractPoiSearchData fetch(PoiSearchRequest poiSearchRequest) throws Exception;\r\n    \r\n    }\r\n\r\nWill be enough and you can use magic of the polymorphism\r\n","title":"Spring injects a list with generics issue","body":"<p>Because your interface is defined as <code>T extends AbstractPoiSearchData</code>,\nThen <code>List&lt;PoiSearchDataProvider&lt;AbstractPoiSearchData&gt;&gt;</code> it is declared as single <code>AbstractPoiSearchData</code> which doesn't extend itself.</p>\n<p>I think that in your case :</p>\n<pre><code>public interface PoiSearchDataProvider&lt;AbstractPoiSearchData&gt; {\n\n    AbstractPoiSearchData fetch(PoiSearchRequest poiSearchRequest) throws Exception;\n\n}\n</code></pre>\n<p>Will be enough and you can use magic of the polymorphism</p>\n"}],"owner":{"account_id":17840072,"reputation":107,"user_id":12958132,"display_name":"woxihuanxiayua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660111090,"creation_date":1660106788,"question_id":73300740,"body_markdown":"Interface:\r\n```\r\npublic interface PoiSearchDataProvider&lt;T extends AbstractPoiSearchData&gt; {\r\n\r\n    T fetch(PoiSearchRequest poiSearchRequest) throws Exception;\r\n\r\n}\r\n```\r\nIf I use:\r\n\r\n```\r\n@Resource\r\nprivate List&lt;PoiSearchDataProvider&lt;AbstractPoiSearchData&gt;&gt; poiSearchDataProviders;\r\n```\r\nApplication fails to start: ``` expected at least 1 bean which qualifies as autowire candidate. ```\r\n\r\nAnd it works:\r\n\r\n```\r\n@Resource\r\nprivate List&lt;PoiSearchDataProvider&lt;? extends AbstractPoiSearchData&gt;&gt; poiSearchDataProviders;\r\n```\r\nI want to know the reason behind...","title":"Spring injects a list with generics issue","body":"<p>Interface:</p>\n<pre><code>public interface PoiSearchDataProvider&lt;T extends AbstractPoiSearchData&gt; {\n\n    T fetch(PoiSearchRequest poiSearchRequest) throws Exception;\n\n}\n</code></pre>\n<p>If I use:</p>\n<pre><code>@Resource\nprivate List&lt;PoiSearchDataProvider&lt;AbstractPoiSearchData&gt;&gt; poiSearchDataProviders;\n</code></pre>\n<p>Application fails to start: <code>expected at least 1 bean which qualifies as autowire candidate.</code></p>\n<p>And it works:</p>\n<pre><code>@Resource\nprivate List&lt;PoiSearchDataProvider&lt;? extends AbstractPoiSearchData&gt;&gt; poiSearchDataProviders;\n</code></pre>\n<p>I want to know the reason behind...</p>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":0,"creation_date":1660107829,"post_id":73300813,"comment_id":129451657,"body_markdown":"`new HashSet&lt;String&gt;(parentDataList).containsAll(child1)` maybe?","body":"<code>new HashSet&lt;String&gt;(parentDataList).containsAll(child1)</code> maybe?"},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1660108828,"post_id":73300813,"comment_id":129451808,"body_markdown":"hi @GreenCloakGuy feel free to write as answer, and I can send points, thanks , also please upvote question if you can","body":"hi @GreenCloakGuy feel free to write as answer, and I can send points, thanks , also please upvote question if you can"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1660109068,"post_id":73300813,"comment_id":129451852,"body_markdown":"You don&#39;t technically need the HashSet.","body":"You don&#39;t technically need the HashSet."}],"answers":[{"tags":[],"owner":{"account_id":13717415,"reputation":1385,"user_id":9898251,"display_name":"Badri Paudel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660110000,"creation_date":1660109317,"answer_id":73301031,"question_id":73300813,"body_markdown":"You can check if the parent list contains all of those defined in child list. \r\nLet&#39;s say you&#39;ve parentDataList as \r\n\r\n    List&lt;String&gt; parentDataList = new ArrayList&lt;&gt;();\r\nand all of these `&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;, &quot;xyz&quot;` added.\r\nAnd do similar for all the child list you desire. \r\n\r\nYou can write whether parent data list has all of the data contained by child list as follows :\r\n\r\n    int parentSize = parentDataList.size();\r\n    int childSize = childDataList.size(); // after creating and adding element to child data list\r\n    boolean isSubset = parentDataList.containsAll(childDataList) &amp;&amp; parentSize &gt;= \r\n    childSize;\r\n    System.out.println(isSubset);\r\n\r\nQuestion arises what to do when list contains duplicate ? It&#39;s better to use `Set /HashSet` because it **avoids duplicates** and it&#39;s easier to maintain. But if you&#39;re sure to add only unique elements in `ArrayList` too, I believe this should work. \r\n\r\n**NOTE :** \r\nMathematically set has unique elements but you&#39;re declaring them as List which can has duplicates, so I have written with &amp;&amp; operators and compared their size too.","title":"How to check whether a list is a subset of another list, regardless of order","body":"<p>You can check if the parent list contains all of those defined in child list.\nLet's say you've parentDataList as</p>\n<pre><code>List&lt;String&gt; parentDataList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>and all of these <code>&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;, &quot;xyz&quot;</code> added.\nAnd do similar for all the child list you desire.</p>\n<p>You can write whether parent data list has all of the data contained by child list as follows :</p>\n<pre><code>int parentSize = parentDataList.size();\nint childSize = childDataList.size(); // after creating and adding element to child data list\nboolean isSubset = parentDataList.containsAll(childDataList) &amp;&amp; parentSize &gt;= \nchildSize;\nSystem.out.println(isSubset);\n</code></pre>\n<p>Question arises what to do when list contains duplicate ? It's better to use <code>Set /HashSet</code> because it <strong>avoids duplicates</strong> and it's easier to maintain. But if you're sure to add only unique elements in <code>ArrayList</code> too, I believe this should work.</p>\n<p><strong>NOTE :</strong>\nMathematically set has unique elements but you're declaring them as List which can has duplicates, so I have written with &amp;&amp; operators and compared their size too.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73301031,"answer_count":1,"score":-1,"last_activity_date":1660110000,"creation_date":1660107499,"question_id":73300813,"body_markdown":"How can I tell if String list is subset of another string Parent List?\r\n\r\n     List&lt;String&gt; parentDataList:  {&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;, &quot;xyz&quot;} \r\n     List&lt;String&gt; child1:   {&quot;def&quot;, &quot;abc&quot;} // this is a subset, regardless of order\r\n     List&lt;String&gt; child2:   {&quot;1234&quot;, &quot;ghi&quot;}   // not a subset, because 1234 not exist\r\n     List&lt;String&gt; child3:   {&quot;ghi&quot;, &quot;xyz, &quot;abc&quot;}  // this is a subset, regardless of order\r\n\r\nThis answer accounts for sequence order, which I do not care about.\r\n\r\nhttps://stackoverflow.com/questions/20223487/get-index-of-contain-sublist-from-list-java\r\n\r\n    return Collections.indexOfSubList(parentDataList, child1) != -1;","title":"How to check whether a list is a subset of another list, regardless of order","body":"<p>How can I tell if String list is subset of another string Parent List?</p>\n<pre><code> List&lt;String&gt; parentDataList:  {&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;, &quot;xyz&quot;} \n List&lt;String&gt; child1:   {&quot;def&quot;, &quot;abc&quot;} // this is a subset, regardless of order\n List&lt;String&gt; child2:   {&quot;1234&quot;, &quot;ghi&quot;}   // not a subset, because 1234 not exist\n List&lt;String&gt; child3:   {&quot;ghi&quot;, &quot;xyz, &quot;abc&quot;}  // this is a subset, regardless of order\n</code></pre>\n<p>This answer accounts for sequence order, which I do not care about.</p>\n<p><a href=\"https://stackoverflow.com/questions/20223487/get-index-of-contain-sublist-from-list-java\">Get index of contain sublist from list java</a></p>\n<pre><code>return Collections.indexOfSubList(parentDataList, child1) != -1;\n</code></pre>\n"},{"tags":["java","android","gradle","command-line","proxy"],"comments":[{"owner":{"account_id":12525855,"reputation":320,"user_id":9115712,"display_name":"SMMH"},"score":0,"creation_date":1669746545,"post_id":73301112,"comment_id":131711485,"body_markdown":"I am experiencing a very similar error... did you ever find a solution?","body":"I am experiencing a very similar error... did you ever find a solution?"},{"owner":{"account_id":1158163,"reputation":16333,"user_id":1830228,"accept_rate":55,"display_name":"DolDurma"},"score":1,"creation_date":1669795611,"post_id":73301112,"comment_id":131721745,"body_markdown":"@SMMH yes, you can use `shecan` &#39;s dns easily :)","body":"@SMMH yes, you can use <code>shecan</code> &#39;s dns easily :)"}],"owner":{"account_id":1158163,"reputation":16333,"user_id":1830228,"accept_rate":55,"display_name":"DolDurma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1660109894,"creation_date":1660109894,"question_id":73301112,"body_markdown":"as far our country boycotted with `Google` servers we must use `proxy` or `vpn`, since the last night i can&#39;t update `Gradle` repository with `AndroidStudio` or `CommandLine` but clicking on each `jar` files links in error messages, they can be download from browser such as `Firfox` or `Chrome`  \r\n\r\nlinks such as :\r\n```\r\nhttps://dl.google.com/dl/android/maven2/com/android/tools/build/bundletool/1.8.2/bundletool-1.8.2.jar\r\n```\r\n\r\nso i can&#39;t update `Gradle` from `AndroidStudio` and `CommandLine`\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;android&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not find bundletool-1.8.2.jar (com.android.tools.build:bundletool:1.8.2).\r\n     Searched in the following locations:\r\n         https://dl.google.com/dl/android/maven2/com/android/tools/build/bundletool/1.8.2/bundletool-1.8.2.jar\r\n   &gt; Could not find transform-api-2.0.0-deprecated-use-gradle-api.jar (com.android.tools.build:transform-api:2.0.0-deprecated-use-gradle-api).\r\n     Searched in the following locations:\r\n         https://dl.google.com/dl/android/maven2/com/android/tools/build/transform-api/2.0.0-deprecated-use-gradle-api/transform-api-2.0.0-deprecated-use-gradle-api.jar\r\n   &gt; Could not find jetifier-processor-1.0.0-beta09.jar (com.android.tools.build.jetifier:jetifier-processor:1.0.0-beta09).\r\n     Searched in the following locations:\r\n         https://dl.google.com/dl/android/maven2/com/android/tools/build/jetifier/jetifier-processor/1.0.0-beta09/jetifier-processor-1.0.0-beta09.jar\r\n   &gt; Could not find jetifier-core-1.0.0-beta09.jar (com.android.tools.build.jetifier:jetifier-core:1.0.0-beta09).\r\n     Searched in the following locations:\r\n         https://dl.google.com/dl/android/maven2/com/android/tools/build/jetifier/jetifier-core/1.0.0-beta09/jetifier-core-1.0.0-beta09.jar\r\n   &gt; Could not find core-proto-0.0.8-alpha07.jar (com.google.testing.platform:core-proto:0.0.8-alpha07).\r\n     Searched in the following locations:\r\n         https://dl.google.com/dl/android/maven2/com/google/testing/platform/core-proto/0.0.8-alpha07/core-proto-0.0.8-alpha07.jar\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 2s\r\n```\r\n\r\nnow how can i solve this problem? BTW, in my `AndroidStudio` i set proxy to `auto detect proxy setting` before","title":"Android update gradle from AndroidStudio or CommandLine","body":"<p>as far our country boycotted with <code>Google</code> servers we must use <code>proxy</code> or <code>vpn</code>, since the last night i can't update <code>Gradle</code> repository with <code>AndroidStudio</code> or <code>CommandLine</code> but clicking on each <code>jar</code> files links in error messages, they can be download from browser such as <code>Firfox</code> or <code>Chrome</code></p>\n<p>links such as :</p>\n<pre><code>https://dl.google.com/dl/android/maven2/com/android/tools/build/bundletool/1.8.2/bundletool-1.8.2.jar\n</code></pre>\n<p>so i can't update <code>Gradle</code> from <code>AndroidStudio</code> and <code>CommandLine</code></p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'android'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not find bundletool-1.8.2.jar (com.android.tools.build:bundletool:1.8.2).\n     Searched in the following locations:\n         https://dl.google.com/dl/android/maven2/com/android/tools/build/bundletool/1.8.2/bundletool-1.8.2.jar\n   &gt; Could not find transform-api-2.0.0-deprecated-use-gradle-api.jar (com.android.tools.build:transform-api:2.0.0-deprecated-use-gradle-api).\n     Searched in the following locations:\n         https://dl.google.com/dl/android/maven2/com/android/tools/build/transform-api/2.0.0-deprecated-use-gradle-api/transform-api-2.0.0-deprecated-use-gradle-api.jar\n   &gt; Could not find jetifier-processor-1.0.0-beta09.jar (com.android.tools.build.jetifier:jetifier-processor:1.0.0-beta09).\n     Searched in the following locations:\n         https://dl.google.com/dl/android/maven2/com/android/tools/build/jetifier/jetifier-processor/1.0.0-beta09/jetifier-processor-1.0.0-beta09.jar\n   &gt; Could not find jetifier-core-1.0.0-beta09.jar (com.android.tools.build.jetifier:jetifier-core:1.0.0-beta09).\n     Searched in the following locations:\n         https://dl.google.com/dl/android/maven2/com/android/tools/build/jetifier/jetifier-core/1.0.0-beta09/jetifier-core-1.0.0-beta09.jar\n   &gt; Could not find core-proto-0.0.8-alpha07.jar (com.google.testing.platform:core-proto:0.0.8-alpha07).\n     Searched in the following locations:\n         https://dl.google.com/dl/android/maven2/com/google/testing/platform/core-proto/0.0.8-alpha07/core-proto-0.0.8-alpha07.jar\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2s\n</code></pre>\n<p>now how can i solve this problem? BTW, in my <code>AndroidStudio</code> i set proxy to <code>auto detect proxy setting</code> before</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12074979,"reputation":129,"user_id":8828811,"display_name":"Aliics"},"score":1,"creation_date":1660099795,"post_id":73299878,"comment_id":129450513,"body_markdown":"Could you also post some code?","body":"Could you also post some code?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1660101149,"post_id":73299878,"comment_id":129450703,"body_markdown":"Does this answer your question [What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?](https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it)","body":"Does this answer your question <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\">What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?</a>"},{"owner":{"account_id":26024234,"reputation":21,"user_id":19731407,"display_name":"study"},"score":0,"creation_date":1660184374,"post_id":73299878,"comment_id":129474938,"body_markdown":"I found a solution to the problem. This problem is caused by my SqlSession being shared by multiple threads. If you encounter similar problems, you can check whether your SqlSession is used by multiple threads.","body":"I found a solution to the problem. This problem is caused by my SqlSession being shared by multiple threads. If you encounter similar problems, you can check whether your SqlSession is used by multiple threads."},{"owner":{"account_id":26024234,"reputation":21,"user_id":19731407,"display_name":"study"},"score":0,"creation_date":1660184552,"post_id":73299878,"comment_id":129474959,"body_markdown":"My SqlSession is being shared by multiple threads, and each thread executes different select statements. Could this be a problem caused by Mybatis&#39; cache? I can&#39;t be sure of this","body":"My SqlSession is being shared by multiple threads, and each thread executes different select statements. Could this be a problem caused by Mybatis&#39; cache? I can&#39;t be sure of this"}],"owner":{"account_id":26024234,"reputation":21,"user_id":19731407,"display_name":"study"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660109142,"creation_date":1660097236,"question_id":73299878,"body_markdown":"This problem occurs with a small probability. My business scenario is like this: start a timer and execute a select statement every 30 seconds to get data from the MySQL database. However, the following problems sometimes occur:\r\n\r\n![1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V4WlF.png","title":"org.apache.ibatis.executor.ExecutorException: Error preparing statement. Cause: java.lang.ArrayIndexOutOfBoundsException","body":"<p>This problem occurs with a small probability. My business scenario is like this: start a timer and execute a select statement every 30 seconds to get data from the MySQL database. However, the following problems sometimes occur:</p>\n<p><img src=\"https://i.stack.imgur.com/V4WlF.png\" alt=\"1\" /></p>\n"},{"tags":["java","lambda","java-8","functional-interface","supplier"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":2,"creation_date":1615301499,"post_id":66549177,"comment_id":117645044,"body_markdown":"You cannot have more than one method in a functional interface.","body":"You cannot have more than one method in a functional interface."},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1615301568,"post_id":66549177,"comment_id":117645078,"body_markdown":"so what I need to do to achieve the similar use case","body":"so what I need to do to achieve the similar use case"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":2,"creation_date":1615301866,"post_id":66549177,"comment_id":117645229,"body_markdown":"Not really enough details to understand what you&#39;re really trying to do, but typically this sort of thing is handled with a `Pair` class or a `Tuple`.","body":"Not really enough details to understand what you&#39;re really trying to do, but typically this sort of thing is handled with a <code>Pair</code> class or a <code>Tuple</code>."}],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615301930,"creation_date":1615301930,"answer_id":66549317,"question_id":66549177,"body_markdown":"A `BiSupplier` simply wouldn&#39;t make sense. Methods return a value of a single type in Java.\r\n\r\nSo you should simply create a class holding the two values and return that:\r\n\r\n    class MyValue&lt;T, R&gt; {\r\n        private final T first;\r\n        private final R second;\r\n    \r\n        // constructors, getters.\r\n    }\r\n\r\nAnd then just use `Supplier&lt;MyValue&lt;T,R&gt;&gt;` instead of creating a new functional interface.","title":"BiSupplier in Java8","body":"<p>A <code>BiSupplier</code> simply wouldn't make sense. Methods return a value of a single type in Java.</p>\n<p>So you should simply create a class holding the two values and return that:</p>\n<pre><code>class MyValue&lt;T, R&gt; {\n    private final T first;\n    private final R second;\n\n    // constructors, getters.\n}\n</code></pre>\n<p>And then just use <code>Supplier&lt;MyValue&lt;T,R&gt;&gt;</code> instead of creating a new functional interface.</p>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1617361984,"creation_date":1615301966,"answer_id":66549329,"question_id":66549177,"body_markdown":"The concept between `Function` (`Predicate` or `Consumer`) is different over `Supplier`.\r\n\r\nA simple explanation table:\r\n\r\n - `Function` transforms 1 input to 1 output. `BiFunction` transforms 2 inputs.  So theoretically, there can be `TriFunction` etc...  \r\n - `Predicate` works same like `Function` but the output is always `boolean`.\r\n - `Consumer` consumes 1 input and doesn&#39;t return anything (`void`). `BiConsumer` consumes 2 inputs. So theoretically, there can be `TriConsumer` etc...  \r\n\r\nNow, `Supplier`. The `Supplier` turns nothing (0 inputs) into an output. Notice the functional interfaces above provide either *one* (`Function` and `Predicate`) or *none* (`Consumer`) output. \r\n\r\n`Supplier` creates something from *nothing* and as you know, it&#39;s not possible to have more than one return type. Theoretically `BiSupplier` would mean something like *&quot;Create something from two nothings&quot;* which in Java context makes no sense (however, &quot;one nothing&quot; does: `Supplier&lt;String&gt; supplier = () -&gt; &quot;Hi&quot;;`).\r\n\r\nYou can understand `Supplier&lt;T&gt;` as `Function&lt;Void, T&gt;` (doesn&#39;t work in practice, but the principle is same). Now, `BiSupplier&lt;T&gt;` would be `BiFunction&lt;Void, Void, T&gt;` which really doesn&#39;t make any sense.","title":"BiSupplier in Java8","body":"<p>The concept between <code>Function</code> (<code>Predicate</code> or <code>Consumer</code>) is different over <code>Supplier</code>.</p>\n<p>A simple explanation table:</p>\n<ul>\n<li><code>Function</code> transforms 1 input to 1 output. <code>BiFunction</code> transforms 2 inputs.  So theoretically, there can be <code>TriFunction</code> etc...</li>\n<li><code>Predicate</code> works same like <code>Function</code> but the output is always <code>boolean</code>.</li>\n<li><code>Consumer</code> consumes 1 input and doesn't return anything (<code>void</code>). <code>BiConsumer</code> consumes 2 inputs. So theoretically, there can be <code>TriConsumer</code> etc...</li>\n</ul>\n<p>Now, <code>Supplier</code>. The <code>Supplier</code> turns nothing (0 inputs) into an output. Notice the functional interfaces above provide either <em>one</em> (<code>Function</code> and <code>Predicate</code>) or <em>none</em> (<code>Consumer</code>) output.</p>\n<p><code>Supplier</code> creates something from <em>nothing</em> and as you know, it's not possible to have more than one return type. Theoretically <code>BiSupplier</code> would mean something like <em>&quot;Create something from two nothings&quot;</em> which in Java context makes no sense (however, &quot;one nothing&quot; does: <code>Supplier&lt;String&gt; supplier = () -&gt; &quot;Hi&quot;;</code>).</p>\n<p>You can understand <code>Supplier&lt;T&gt;</code> as <code>Function&lt;Void, T&gt;</code> (doesn't work in practice, but the principle is same). Now, <code>BiSupplier&lt;T&gt;</code> would be <code>BiFunction&lt;Void, Void, T&gt;</code> which really doesn't make any sense.</p>\n"},{"tags":[],"owner":{"account_id":8646527,"reputation":685,"user_id":6473557,"accept_rate":0,"display_name":"Thomson Ignesious"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660108768,"creation_date":1660108768,"answer_id":73300960,"question_id":66549177,"body_markdown":"your code is wrong, you have annotated the interface with FunctionalInterface but it has got two abstract methods.","title":"BiSupplier in Java8","body":"<p>your code is wrong, you have annotated the interface with FunctionalInterface but it has got two abstract methods.</p>\n"}],"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4213,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1660108768,"creation_date":1615301439,"question_id":66549177,"body_markdown":"I have seen `BiConsumer`, `BiPredicate`, `BiFunction` but not `BiSupplier` or similar. I tried the below code but got an exception saying:\r\n\r\n&gt; &quot;Multiple non-overriding abstract methods found in BiSupplier&quot;.\r\n\r\n    @FunctionalInterface\r\n    public interface BiSupplier&lt;T, R&gt; {\r\n    \r\n        /**\r\n         * Gets a first.\r\n         *\r\n         * @return a first\r\n         */\r\n        T getFirst();\r\n    \r\n    \r\n        /**\r\n         * Gets a second.\r\n         *\r\n         * @return a second\r\n         */\r\n        R getSecond();\r\n    }\r\n\r\nCan some please help me with this.","title":"BiSupplier in Java8","body":"<p>I have seen <code>BiConsumer</code>, <code>BiPredicate</code>, <code>BiFunction</code> but not <code>BiSupplier</code> or similar. I tried the below code but got an exception saying:</p>\n<blockquote>\n<p>&quot;Multiple non-overriding abstract methods found in BiSupplier&quot;.</p>\n</blockquote>\n<pre><code>@FunctionalInterface\npublic interface BiSupplier&lt;T, R&gt; {\n\n    /**\n     * Gets a first.\n     *\n     * @return a first\n     */\n    T getFirst();\n\n\n    /**\n     * Gets a second.\n     *\n     * @return a second\n     */\n    R getSecond();\n}\n</code></pre>\n<p>Can some please help me with this.</p>\n"},{"tags":["java","testng","maven-surefire-plugin"],"answers":[{"tags":[],"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1516633394,"creation_date":1516633394,"answer_id":48384534,"question_id":48380756,"body_markdown":"AFAIK, there is no direct way of excluding configuration methods from the `testng-results.xml` file.\r\n\r\nBut all said and done, the current entries in the `testng-results.xml` still lets you distinguish a configuration method from a test method. \r\n\r\nFor a configuration method there&#39;s an extra attribute named `is-config=&quot;true&quot;`.\r\n\r\nSee below for excerpts from your own xml file\r\n\r\n&lt;!-- language:xml --&gt;\r\n\r\n    &lt;test-method \r\n        status=&quot;PASS&quot; \r\n        signature=&quot;beforeMethod()[pri:0, instance:com.my.test.MyTest@3567135c]&quot; \r\n        name=&quot;beforeMethod&quot; \r\n        is-config=&quot;true&quot; \r\n        duration-ms=&quot;4&quot; \r\n        started-at=&quot;2018-01-22T16:47:46Z&quot; \r\n        finished-at=&quot;2018-01-22T16:47:46Z&quot;&gt;\r\n        &lt;reporter-output&gt;\r\n        &lt;/reporter-output&gt;\r\n    &lt;/test-method&gt; &lt;!-- beforeMethod --&gt;\r\n\r\nBut for a regular `@Test` method, the attribute `is-config=true` would not be available. \r\n\r\nSee below :\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;test-method \r\n        status=&quot;PASS&quot; \r\n        signature=&quot;test1()[pri:0, instance:com.my.test.MyTest@3567135c]&quot; \r\n        name=&quot;test1&quot; \r\n        duration-ms=&quot;0&quot; \r\n        started-at=&quot;2018-01-22T16:47:46Z&quot; \r\n        finished-at=&quot;2018-01-22T16:47:46Z&quot;&gt;\r\n        &lt;reporter-output&gt;\r\n        &lt;/reporter-output&gt;\r\n    &lt;/test-method&gt; &lt;!-- test1 --&gt;\r\n\r\n\r\nWould that not help you with your downstream xml processing ?\r\n\r\nIf that still doesn&#39;t work for you, then the other alternatives would include: \r\n\r\n - you would build your own version of `org.testng.IReporter` implementation wherein you construct this xml and then wire it in as a listener.\r\n - You create a package called `org.testng.reporters` wherein you duplicate the contents of the class `org.testng.reporters.XMLReporter` into this package, alter the method `org.testng.reporters.XMLSuiteResultWriter#getTestResultAttributes` to add extra attributes to the method if its not a `@Test` method.","title":"How to ignore @BeforeMethod and @AfterMethod from testng results?","body":"<p>AFAIK, there is no direct way of excluding configuration methods from the <code>testng-results.xml</code> file.</p>\n\n<p>But all said and done, the current entries in the <code>testng-results.xml</code> still lets you distinguish a configuration method from a test method. </p>\n\n<p>For a configuration method there's an extra attribute named <code>is-config=\"true\"</code>.</p>\n\n<p>See below for excerpts from your own xml file</p>\n\n\n\n<pre><code>&lt;test-method \n    status=\"PASS\" \n    signature=\"beforeMethod()[pri:0, instance:com.my.test.MyTest@3567135c]\" \n    name=\"beforeMethod\" \n    is-config=\"true\" \n    duration-ms=\"4\" \n    started-at=\"2018-01-22T16:47:46Z\" \n    finished-at=\"2018-01-22T16:47:46Z\"&gt;\n    &lt;reporter-output&gt;\n    &lt;/reporter-output&gt;\n&lt;/test-method&gt; &lt;!-- beforeMethod --&gt;\n</code></pre>\n\n<p>But for a regular <code>@Test</code> method, the attribute <code>is-config=true</code> would not be available. </p>\n\n<p>See below :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;test-method \n    status=\"PASS\" \n    signature=\"test1()[pri:0, instance:com.my.test.MyTest@3567135c]\" \n    name=\"test1\" \n    duration-ms=\"0\" \n    started-at=\"2018-01-22T16:47:46Z\" \n    finished-at=\"2018-01-22T16:47:46Z\"&gt;\n    &lt;reporter-output&gt;\n    &lt;/reporter-output&gt;\n&lt;/test-method&gt; &lt;!-- test1 --&gt;\n</code></pre>\n\n<p>Would that not help you with your downstream xml processing ?</p>\n\n<p>If that still doesn't work for you, then the other alternatives would include: </p>\n\n<ul>\n<li>you would build your own version of <code>org.testng.IReporter</code> implementation wherein you construct this xml and then wire it in as a listener.</li>\n<li>You create a package called <code>org.testng.reporters</code> wherein you duplicate the contents of the class <code>org.testng.reporters.XMLReporter</code> into this package, alter the method <code>org.testng.reporters.XMLSuiteResultWriter#getTestResultAttributes</code> to add extra attributes to the method if its not a <code>@Test</code> method.</li>\n</ul>\n"}],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1972,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48384534,"answer_count":1,"score":1,"last_activity_date":1660108263,"creation_date":1516621120,"question_id":48380756,"body_markdown":"Following is a *sample* test case created using `testng` framework,\r\n\r\n    public class MyTest {\r\n        \r\n    \t@BeforeMethod\r\n        public void beforeMethod() {\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void test1() {\r\n    \t}\r\n        \r\n    \t@Test\r\n    \tpublic void test2() {\r\n    \t}\r\n    \t\r\n        @AfterMethod\r\n        public void afterMethod() {\r\n        }\r\n        \r\n    }\r\n\r\nI am getting following `testng-results.xml` file,\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;testng-results skipped=&quot;0&quot; failed=&quot;0&quot; total=&quot;2&quot; passed=&quot;2&quot;&gt;\r\n      &lt;reporter-output&gt;\r\n      &lt;/reporter-output&gt;\r\n      &lt;suite name=&quot;Surefire suite&quot; duration-ms=&quot;15&quot; started-at=&quot;2018-01-22T11:17:46Z&quot; finished-at=&quot;2018-01-22T11:17:46Z&quot;&gt;\r\n        &lt;groups&gt;\r\n        &lt;/groups&gt;\r\n        &lt;test name=&quot;Surefire test&quot; duration-ms=&quot;15&quot; started-at=&quot;2018-01-22T11:17:46Z&quot; finished-at=&quot;2018-01-22T11:17:46Z&quot;&gt;\r\n          &lt;class name=&quot;com.my.test.MyTest&quot;&gt;\r\n            &lt;test-method status=&quot;PASS&quot; signature=&quot;beforeMethod()[pri:0, instance:com.my.test.MyTest@3567135c]&quot; name=&quot;beforeMethod&quot; is-config=&quot;true&quot; duration-ms=&quot;4&quot; started-at=&quot;2018-01-22T16:47:46Z&quot; finished-at=&quot;2018-01-22T16:47:46Z&quot;&gt;\r\n              &lt;reporter-output&gt;\r\n              &lt;/reporter-output&gt;\r\n            &lt;/test-method&gt; &lt;!-- beforeMethod --&gt;\r\n            &lt;test-method status=&quot;PASS&quot; signature=&quot;test1()[pri:0, instance:com.my.test.MyTest@3567135c]&quot; name=&quot;test1&quot; duration-ms=&quot;0&quot; started-at=&quot;2018-01-22T16:47:46Z&quot; finished-at=&quot;2018-01-22T16:47:46Z&quot;&gt;\r\n              &lt;reporter-output&gt;\r\n              &lt;/reporter-output&gt;\r\n            &lt;/test-method&gt; &lt;!-- test1 --&gt;\r\n            &lt;test-method status=&quot;PASS&quot; signature=&quot;afterMethod()[pri:0, instance:com.my.test.MyTest@3567135c]&quot; name=&quot;afterMethod&quot; is-config=&quot;true&quot; duration-ms=&quot;1&quot; started-at=&quot;2018-01-22T16:47:46Z&quot; finished-at=&quot;2018-01-22T16:47:46Z&quot;&gt;\r\n              &lt;reporter-output&gt;\r\n              &lt;/reporter-output&gt;\r\n            &lt;/test-method&gt; &lt;!-- afterMethod --&gt;\r\n            &lt;test-method status=&quot;PASS&quot; signature=&quot;test2()[pri:0, instance:com.my.test.MyTest@3567135c]&quot; name=&quot;test2&quot; duration-ms=&quot;0&quot; started-at=&quot;2018-01-22T16:47:46Z&quot; finished-at=&quot;2018-01-22T16:47:46Z&quot;&gt;\r\n              &lt;reporter-output&gt;\r\n              &lt;/reporter-output&gt;\r\n            &lt;/test-method&gt; &lt;!-- test2 --&gt;\r\n            &lt;test-method status=&quot;PASS&quot; signature=&quot;beforeMethod()[pri:0, instance:com.my.test.MyTest@3567135c]&quot; name=&quot;beforeMethod&quot; is-config=&quot;true&quot; duration-ms=&quot;0&quot; started-at=&quot;2018-01-22T16:47:46Z&quot; finished-at=&quot;2018-01-22T16:47:46Z&quot;&gt;\r\n              &lt;reporter-output&gt;\r\n              &lt;/reporter-output&gt;\r\n            &lt;/test-method&gt; &lt;!-- beforeMethod --&gt;\r\n            &lt;test-method status=&quot;PASS&quot; signature=&quot;afterMethod()[pri:0, instance:com.my.test.MyTest@3567135c]&quot; name=&quot;afterMethod&quot; is-config=&quot;true&quot; duration-ms=&quot;0&quot; started-at=&quot;2018-01-22T16:47:46Z&quot; finished-at=&quot;2018-01-22T16:47:46Z&quot;&gt;\r\n              &lt;reporter-output&gt;\r\n              &lt;/reporter-output&gt;\r\n            &lt;/test-method&gt; &lt;!-- afterMethod --&gt;\r\n          &lt;/class&gt; &lt;!--com.my.test.MyTest --&gt;\r\n        &lt;/test&gt; &lt;!-- Surefire test --&gt;\r\n      &lt;/suite&gt; &lt;!-- Surefire suite --&gt;\r\n    &lt;/testng-results&gt;\r\n\r\nNotice that `afterMethod` and `beforeMethod` are also considered as test-methods. I want o ignore these methods from testng-result.xml as I am using this XML for further processing. \r\n\r\nI have following questions,\r\n\r\n- Is there anyway to avoid `@BeforeMethod` and `@AfterMethod` methods in test result xml file? \r\n- Is there anyway to differentiate between before and after methods from test-method XML tag? \r\n(*i.e.* I can strictly name my methods to `beforeMethod_Ignore()` and `afterMethod_Ignore()` but it will be kind of hack instead of solution)\r\n\r\nI&#39;ve gone through following links but couldn&#39;t find anything yet,\r\n\r\n- http://testng.org/doc/documentation-main.html#parameters-testng-xml\r\n- http://www.seleniumeasy.com/testng-tutorials/include-exclude-test-methods-in-testng\r\n- https://stackoverflow.com/questions/42242416/exclude-test-in-testng etc.","title":"How to ignore @BeforeMethod and @AfterMethod from testng results?","body":"<p>Following is a <em>sample</em> test case created using <code>testng</code> framework,</p>\n\n<pre><code>public class MyTest {\n\n    @BeforeMethod\n    public void beforeMethod() {\n    }\n\n    @Test\n    public void test1() {\n    }\n\n    @Test\n    public void test2() {\n    }\n\n    @AfterMethod\n    public void afterMethod() {\n    }\n\n}\n</code></pre>\n\n<p>I am getting following <code>testng-results.xml</code> file,</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;testng-results skipped=\"0\" failed=\"0\" total=\"2\" passed=\"2\"&gt;\n  &lt;reporter-output&gt;\n  &lt;/reporter-output&gt;\n  &lt;suite name=\"Surefire suite\" duration-ms=\"15\" started-at=\"2018-01-22T11:17:46Z\" finished-at=\"2018-01-22T11:17:46Z\"&gt;\n    &lt;groups&gt;\n    &lt;/groups&gt;\n    &lt;test name=\"Surefire test\" duration-ms=\"15\" started-at=\"2018-01-22T11:17:46Z\" finished-at=\"2018-01-22T11:17:46Z\"&gt;\n      &lt;class name=\"com.my.test.MyTest\"&gt;\n        &lt;test-method status=\"PASS\" signature=\"beforeMethod()[pri:0, instance:com.my.test.MyTest@3567135c]\" name=\"beforeMethod\" is-config=\"true\" duration-ms=\"4\" started-at=\"2018-01-22T16:47:46Z\" finished-at=\"2018-01-22T16:47:46Z\"&gt;\n          &lt;reporter-output&gt;\n          &lt;/reporter-output&gt;\n        &lt;/test-method&gt; &lt;!-- beforeMethod --&gt;\n        &lt;test-method status=\"PASS\" signature=\"test1()[pri:0, instance:com.my.test.MyTest@3567135c]\" name=\"test1\" duration-ms=\"0\" started-at=\"2018-01-22T16:47:46Z\" finished-at=\"2018-01-22T16:47:46Z\"&gt;\n          &lt;reporter-output&gt;\n          &lt;/reporter-output&gt;\n        &lt;/test-method&gt; &lt;!-- test1 --&gt;\n        &lt;test-method status=\"PASS\" signature=\"afterMethod()[pri:0, instance:com.my.test.MyTest@3567135c]\" name=\"afterMethod\" is-config=\"true\" duration-ms=\"1\" started-at=\"2018-01-22T16:47:46Z\" finished-at=\"2018-01-22T16:47:46Z\"&gt;\n          &lt;reporter-output&gt;\n          &lt;/reporter-output&gt;\n        &lt;/test-method&gt; &lt;!-- afterMethod --&gt;\n        &lt;test-method status=\"PASS\" signature=\"test2()[pri:0, instance:com.my.test.MyTest@3567135c]\" name=\"test2\" duration-ms=\"0\" started-at=\"2018-01-22T16:47:46Z\" finished-at=\"2018-01-22T16:47:46Z\"&gt;\n          &lt;reporter-output&gt;\n          &lt;/reporter-output&gt;\n        &lt;/test-method&gt; &lt;!-- test2 --&gt;\n        &lt;test-method status=\"PASS\" signature=\"beforeMethod()[pri:0, instance:com.my.test.MyTest@3567135c]\" name=\"beforeMethod\" is-config=\"true\" duration-ms=\"0\" started-at=\"2018-01-22T16:47:46Z\" finished-at=\"2018-01-22T16:47:46Z\"&gt;\n          &lt;reporter-output&gt;\n          &lt;/reporter-output&gt;\n        &lt;/test-method&gt; &lt;!-- beforeMethod --&gt;\n        &lt;test-method status=\"PASS\" signature=\"afterMethod()[pri:0, instance:com.my.test.MyTest@3567135c]\" name=\"afterMethod\" is-config=\"true\" duration-ms=\"0\" started-at=\"2018-01-22T16:47:46Z\" finished-at=\"2018-01-22T16:47:46Z\"&gt;\n          &lt;reporter-output&gt;\n          &lt;/reporter-output&gt;\n        &lt;/test-method&gt; &lt;!-- afterMethod --&gt;\n      &lt;/class&gt; &lt;!--com.my.test.MyTest --&gt;\n    &lt;/test&gt; &lt;!-- Surefire test --&gt;\n  &lt;/suite&gt; &lt;!-- Surefire suite --&gt;\n&lt;/testng-results&gt;\n</code></pre>\n\n<p>Notice that <code>afterMethod</code> and <code>beforeMethod</code> are also considered as test-methods. I want o ignore these methods from testng-result.xml as I am using this XML for further processing. </p>\n\n<p>I have following questions,</p>\n\n<ul>\n<li>Is there anyway to avoid <code>@BeforeMethod</code> and <code>@AfterMethod</code> methods in test result xml file? </li>\n<li>Is there anyway to differentiate between before and after methods from test-method XML tag? \n(<em>i.e.</em> I can strictly name my methods to <code>beforeMethod_Ignore()</code> and <code>afterMethod_Ignore()</code> but it will be kind of hack instead of solution)</li>\n</ul>\n\n<p>I've gone through following links but couldn't find anything yet,</p>\n\n<ul>\n<li><a href=\"http://testng.org/doc/documentation-main.html#parameters-testng-xml\" rel=\"nofollow noreferrer\">http://testng.org/doc/documentation-main.html#parameters-testng-xml</a></li>\n<li><a href=\"http://www.seleniumeasy.com/testng-tutorials/include-exclude-test-methods-in-testng\" rel=\"nofollow noreferrer\">http://www.seleniumeasy.com/testng-tutorials/include-exclude-test-methods-in-testng</a></li>\n<li><a href=\"https://stackoverflow.com/questions/42242416/exclude-test-in-testng\">Exclude Test in testNg</a> etc.</li>\n</ul>\n"},{"tags":["java","regex","nsregularexpression"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1660095338,"post_id":73298743,"comment_id":129449955,"body_markdown":"It would be best if you would provide example strings that succeed and fail.  Try to include a good variety of examples.","body":"It would be best if you would provide example strings that succeed and fail.  Try to include a good variety of examples."}],"answers":[{"tags":[],"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1660094243,"creation_date":1660094243,"answer_id":73299659,"question_id":73298743,"body_markdown":"Not so clear... To only allow upper alphabetic but disallow certain duplicated, e.g.\r\n\r\n    ^(?!.*?([A-HJ-NPRT-W]).*\\1)[A-Z]+$\r\n\r\n[See this demo at regex101][1]\r\n\r\nThe [lookahead][2] at `^` start checks if there is not another of `[A-HJ-NPRT-W]` by [capturing][3].  \r\nYou could also do it [like this][4] which is slightly less efficient and maybe harder to maintain.\r\n\r\n\r\n  [1]: https://regex101.com/r/Lj2Mzj/1\r\n  [2]: https://www.regular-expressions.info/lookaround.html\r\n  [3]: https://www.regular-expressions.info/backref.html\r\n  [4]: https://regex101.com/r/Fo746I/1","title":"How to do not allow certain characters duplicated using Regex","body":"<p>Not so clear... To only allow upper alphabetic but disallow certain duplicated, e.g.</p>\n<pre><code>^(?!.*?([A-HJ-NPRT-W]).*\\1)[A-Z]+$\n</code></pre>\n<p><a href=\"https://regex101.com/r/Lj2Mzj/1\" rel=\"nofollow noreferrer\">See this demo at regex101</a></p>\n<p>The <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">lookahead</a> at <code>^</code> start checks if there is not another of <code>[A-HJ-NPRT-W]</code> by <a href=\"https://www.regular-expressions.info/backref.html\" rel=\"nofollow noreferrer\">capturing</a>.<br />\nYou could also do it <a href=\"https://regex101.com/r/Fo746I/1\" rel=\"nofollow noreferrer\">like this</a> which is slightly less efficient and maybe harder to maintain.</p>\n"}],"owner":{"account_id":15154518,"reputation":21,"user_id":10935826,"display_name":"Hicham Moro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660108053,"creation_date":1660084124,"question_id":73298743,"body_markdown":"only one letter can be written/selected as value, excepted for I, O, Q, S, X, Y, Z. \r\n\r\nI&#39;ve tried : \r\n\r\n    String regex=&quot;^(?!.*(.).*\\1)([ABCDEFGHJKLMNPTURVW])+$|((?!OIXZYQS).)+$&quot;\r\n","title":"How to do not allow certain characters duplicated using Regex","body":"<p>only one letter can be written/selected as value, excepted for I, O, Q, S, X, Y, Z.</p>\n<p>I've tried :</p>\n<pre><code>String regex=&quot;^(?!.*(.).*\\1)([ABCDEFGHJKLMNPTURVW])+$|((?!OIXZYQS).)+$&quot;\n</code></pre>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":2,"creation_date":1660106190,"post_id":73300617,"comment_id":129451375,"body_markdown":"Nope, it&#39;s not correct to write the code as shown in the second snippet, because the value of `k` can change. `k` could be less than zero in the first `if`, and equal to zero in the second `if`.","body":"Nope, it&#39;s not correct to write the code as shown in the second snippet, because the value of <code>k</code> can change. <code>k</code> could be less than zero in the first <code>if</code>, and equal to zero in the second <code>if</code>."},{"owner":{"account_id":16218192,"reputation":73,"user_id":11710457,"display_name":"Bardo"},"score":0,"creation_date":1660106349,"post_id":73300617,"comment_id":129451406,"body_markdown":"I understand... That was a bad example. But how would you rewrite that nums[windowStart++] in a more legible way though still the same logic.","body":"I understand... That was a bad example. But how would you rewrite that nums[windowStart++] in a more legible way though still the same logic."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1660106368,"post_id":73300617,"comment_id":129451409,"body_markdown":"Your question is answered here:  https://stackoverflow.com/questions/30297641/difference-between-prefix-and-postfix-operators-in-java","body":"Your question is answered here:  <a href=\"https://stackoverflow.com/questions/30297641/difference-between-prefix-and-postfix-operators-in-java\" title=\"difference between prefix and postfix operators in java\">stackoverflow.com/questions/30297641/&hellip;</a>"},{"owner":{"account_id":16218192,"reputation":73,"user_id":11710457,"display_name":"Bardo"},"score":1,"creation_date":1660123806,"post_id":73300617,"comment_id":129456355,"body_markdown":"@ChengThao Not exactly. I understand the increment operator. But I couldn&#39;t get the right order of that specific execution. Thanks though.","body":"@ChengThao Not exactly. I understand the increment operator. But I couldn&#39;t get the right order of that specific execution. Thanks though."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1660107891,"creation_date":1660106277,"answer_id":73300693,"question_id":73300617,"body_markdown":"Your rewrite produces different results because the second `if` you added is checking the *new* value of `k`, after it has been incremented in the previous line:\r\n\r\n    if (k &lt; 0 &amp;&amp; nums[windowStart] == 0) k++; // k is incremented here\r\n    if (k &lt; 0) windowStart++; // then k is checked here\r\n\r\nIf `k` is `-1` and `nums[windowStart] == 0`. `k` will change to 0 in the first line, and the `k &lt; 0` check in the second line will fail and `windowStart++` will not run.\r\n\r\nIn the original version, there is only one `k &lt; 0` check, and `windowStart++` is run if that check is true.\r\n\r\nIf you want to rewrite the code in a way that doesn&#39;t put `windowStart++` inside the array index, you can do:\r\n\r\n    if (k &lt; 0) {\r\n        if(nums[windowStart] == 0) {\r\n            k++;\r\n        }\r\n        windowStart++;\r\n    }\r\n\r\nThe idea is that `k &lt; 0` is the condition on which we do `windowStart++`, but the old value of `windowStart` before we increment it is used to access the array. And we only increment `k` if both `k &lt; 0` and `nums[windowStart] == 0` are true.","title":"What happens when I increment the number I&#39;m using to fetch an element from an array?","body":"<p>Your rewrite produces different results because the second <code>if</code> you added is checking the <em>new</em> value of <code>k</code>, after it has been incremented in the previous line:</p>\n<pre><code>if (k &lt; 0 &amp;&amp; nums[windowStart] == 0) k++; // k is incremented here\nif (k &lt; 0) windowStart++; // then k is checked here\n</code></pre>\n<p>If <code>k</code> is <code>-1</code> and <code>nums[windowStart] == 0</code>. <code>k</code> will change to 0 in the first line, and the <code>k &lt; 0</code> check in the second line will fail and <code>windowStart++</code> will not run.</p>\n<p>In the original version, there is only one <code>k &lt; 0</code> check, and <code>windowStart++</code> is run if that check is true.</p>\n<p>If you want to rewrite the code in a way that doesn't put <code>windowStart++</code> inside the array index, you can do:</p>\n<pre><code>if (k &lt; 0) {\n    if(nums[windowStart] == 0) {\n        k++;\n    }\n    windowStart++;\n}\n</code></pre>\n<p>The idea is that <code>k &lt; 0</code> is the condition on which we do <code>windowStart++</code>, but the old value of <code>windowStart</code> before we increment it is used to access the array. And we only increment <code>k</code> if both <code>k &lt; 0</code> and <code>nums[windowStart] == 0</code> are true.</p>\n"}],"owner":{"account_id":16218192,"reputation":73,"user_id":11710457,"display_name":"Bardo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":73300693,"answer_count":1,"score":5,"last_activity_date":1660107891,"creation_date":1660105639,"question_id":73300617,"body_markdown":"I&#39;ve been doing some algorithm questions and just saw a solution for a problem that is like this:\r\n\r\n```java\r\npublic int longestOnes(int[] nums, int k) {\r\n  int windowStart = 0, windowEnd;\r\n  for (windowEnd = 0; windowEnd &lt; nums.length; ++windowEnd) {\r\n    if (nums[windowEnd] == 0) k--;\r\n    if (k &lt; 0 &amp;&amp; nums[windowStart++] == 0) k++;\r\n  }\r\n  return windowEnd - windowStart;\r\n}\r\n```\r\n\r\nSpecifically in the part where **windowStart** is incremented (nums[windowStart++]), I understand that it will first fetch the value from **nums** array using the current **windowStart** value and then it will be incremented.\r\n\r\nHowever, I don&#39;t understand exactly when this piece of code will be executed. Only when k &lt; 0?\r\n\r\nIf so, is it correct to write this code like below:\r\n\r\n```java\r\npublic int longestOnes(int[] nums, int k) {\r\n  int windowStart = 0, windowEnd;\r\n  for (windowEnd = 0; windowEnd &lt; nums.length; ++windowEnd) {\r\n    if (nums[windowEnd] == 0) k--;\r\n    if (k &lt; 0 &amp;&amp; nums[windowStart] == 0) k++;\r\n    if (k &lt; 0) windowStart++;\r\n  }\r\n  return windowEnd - windowStart;\r\n}\r\n```\r\n\r\nEDIT: I understand that in the third &quot;if&quot; k has been incremented and the condition is not gonna be the same. I&#39;m just trying to wrap my head around it by writing that second &quot;if&quot; in a different way.\r\n\r\nSomehow it seems to give me different results.\r\n\r\nWould anyone know the difference and what exactly happens during that second condition (**if (k &lt; 0 &amp;&amp; nums[windowStart] == 0) k++;**)?","title":"What happens when I increment the number I&#39;m using to fetch an element from an array?","body":"<p>I've been doing some algorithm questions and just saw a solution for a problem that is like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int longestOnes(int[] nums, int k) {\n  int windowStart = 0, windowEnd;\n  for (windowEnd = 0; windowEnd &lt; nums.length; ++windowEnd) {\n    if (nums[windowEnd] == 0) k--;\n    if (k &lt; 0 &amp;&amp; nums[windowStart++] == 0) k++;\n  }\n  return windowEnd - windowStart;\n}\n</code></pre>\n<p>Specifically in the part where <strong>windowStart</strong> is incremented (nums[windowStart++]), I understand that it will first fetch the value from <strong>nums</strong> array using the current <strong>windowStart</strong> value and then it will be incremented.</p>\n<p>However, I don't understand exactly when this piece of code will be executed. Only when k &lt; 0?</p>\n<p>If so, is it correct to write this code like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int longestOnes(int[] nums, int k) {\n  int windowStart = 0, windowEnd;\n  for (windowEnd = 0; windowEnd &lt; nums.length; ++windowEnd) {\n    if (nums[windowEnd] == 0) k--;\n    if (k &lt; 0 &amp;&amp; nums[windowStart] == 0) k++;\n    if (k &lt; 0) windowStart++;\n  }\n  return windowEnd - windowStart;\n}\n</code></pre>\n<p>EDIT: I understand that in the third &quot;if&quot; k has been incremented and the condition is not gonna be the same. I'm just trying to wrap my head around it by writing that second &quot;if&quot; in a different way.</p>\n<p>Somehow it seems to give me different results.</p>\n<p>Would anyone know the difference and what exactly happens during that second condition (<strong>if (k &lt; 0 &amp;&amp; nums[windowStart] == 0) k++;</strong>)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1862830,"reputation":4978,"user_id":2538473,"accept_rate":50,"display_name":"Hacketo"},"score":8,"creation_date":1434457274,"post_id":30867364,"comment_id":49776149,"body_markdown":"`User defined data types` mean `type defined by the user`, so whatever class you wrote.","body":"<code>User defined data types</code> mean <code>type defined by the user</code>, so whatever class you wrote."},{"owner":{"account_id":1138466,"reputation":17496,"user_id":1123020,"accept_rate":60,"display_name":"Yoda"},"score":1,"creation_date":1434457985,"post_id":30867364,"comment_id":49776673,"body_markdown":"Interviewer had no idea what he/she was asking about.","body":"Interviewer had no idea what he/she was asking about."}],"answers":[{"tags":[],"owner":{"account_id":1051387,"reputation":14943,"user_id":1055241,"accept_rate":86,"display_name":"gprathour"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434457948,"creation_date":1434457948,"answer_id":30867711,"question_id":30867364,"body_markdown":"I would like to go in detail on this.\r\n\r\nFirstly Java is a strongly typed language i.e. before using any data we need to tell the complier of what data type this data will be.\r\n\r\nIn simple words we need to declare the data type of the variable.\r\n\r\nBasically there are three type of data types:\r\n\r\n1. Primitive data types\r\n2. Derived data types\r\n3. User defined data types\r\n\r\n**Primitive data types** are the general and fundamental data types that we have in Java and those are `byte, short, int, long, float, double, char, boolean`.\r\n\r\n**Derived data types** are those that are made by using any other data type for example, arrays.\r\n\r\n**User defined data types** are those that user / programmer himself defines. For example, classes, interfaces.\r\n\r\nIn very-very simple words I can say,\r\n\r\n&gt;int a\r\n\r\nHere `a` is a variable of int data type.\r\n\r\n&gt;MyClass obj\r\n\r\nHere `obj` is a variable of data type `MyClass` and we call them reference variables as they can be used to store the reference to the object of that class.","title":"User defined data types in Java?","body":"<p>I would like to go in detail on this.</p>\n\n<p>Firstly Java is a strongly typed language i.e. before using any data we need to tell the complier of what data type this data will be.</p>\n\n<p>In simple words we need to declare the data type of the variable.</p>\n\n<p>Basically there are three type of data types:</p>\n\n<ol>\n<li>Primitive data types</li>\n<li>Derived data types</li>\n<li>User defined data types</li>\n</ol>\n\n<p><strong>Primitive data types</strong> are the general and fundamental data types that we have in Java and those are <code>byte, short, int, long, float, double, char, boolean</code>.</p>\n\n<p><strong>Derived data types</strong> are those that are made by using any other data type for example, arrays.</p>\n\n<p><strong>User defined data types</strong> are those that user / programmer himself defines. For example, classes, interfaces.</p>\n\n<p>In very-very simple words I can say,</p>\n\n<blockquote>\n  <p>int a</p>\n</blockquote>\n\n<p>Here <code>a</code> is a variable of int data type.</p>\n\n<blockquote>\n  <p>MyClass obj</p>\n</blockquote>\n\n<p>Here <code>obj</code> is a variable of data type <code>MyClass</code> and we call them reference variables as they can be used to store the reference to the object of that class.</p>\n"},{"tags":[],"owner":{"account_id":13267401,"reputation":1,"user_id":9579691,"display_name":"Ammad Amjad"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1522522296,"creation_date":1522522296,"answer_id":49591276,"question_id":30867364,"body_markdown":"user define datatype means that programmer defined him or her self like making classes or interface datatype \r\n","title":"User defined data types in Java?","body":"<p>user define datatype means that programmer defined him or her self like making classes or interface datatype </p>\n"},{"tags":[],"owner":{"account_id":15511659,"reputation":11,"user_id":11190277,"display_name":"pandu Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617640126,"creation_date":1617640126,"answer_id":66956284,"question_id":30867364,"body_markdown":"In JAVA there are two types of data types are available, they are\r\n     \r\n       1. Primitive datatypes\r\n\r\n       2. User Defined datatype\r\n\r\nBasically, the primitive data types are predefined. like int, char, float, etc. if you want to store the data of types integer, character, then you can use these predefined datatypes happily. what if, if you want to store the data of your own type like Student, Employee, which is basically a combination of primitive datatypes, then here we have to go with user-defined data type, for this we can use Classes in java to store data of your own","title":"User defined data types in Java?","body":"<p>In JAVA there are two types of data types are available, they are</p>\n<pre><code>   1. Primitive datatypes\n\n   2. User Defined datatype\n</code></pre>\n<p>Basically, the primitive data types are predefined. like int, char, float, etc. if you want to store the data of types integer, character, then you can use these predefined datatypes happily. what if, if you want to store the data of your own type like Student, Employee, which is basically a combination of primitive datatypes, then here we have to go with user-defined data type, for this we can use Classes in java to store data of your own</p>\n"},{"tags":[],"owner":{"account_id":26025170,"reputation":1,"user_id":19732200,"display_name":"Sahil Panchal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660107574,"creation_date":1660107574,"answer_id":73300821,"question_id":30867364,"body_markdown":"User Defined Data Type\r\nClass\r\n-&gt; A class is a template that specifies the attributes and behavior of things or objects.\r\n-&gt; A class is a blueprint or prototype from which creates as many desired objects as required.\r\n\r\nInterface\r\n\r\n-&gt; An interface is a collection of abstract methods.\r\n-&gt; A class implements an interface, thereby inheriting the abstract methods of the interface.\r\n-&gt; An interface is not a class. A class describes the attributes and behaviors of an object. An\r\ninterface contains behaviors that a class implements.\r\n-&gt; Unless the class that implements the interface is abstract, all the methods of the interface\r\nneed to be defined in the class.\r\n","title":"User defined data types in Java?","body":"<p>User Defined Data Type\nClass\n-&gt; A class is a template that specifies the attributes and behavior of things or objects.\n-&gt; A class is a blueprint or prototype from which creates as many desired objects as required.</p>\n<p>Interface</p>\n<p>-&gt; An interface is a collection of abstract methods.\n-&gt; A class implements an interface, thereby inheriting the abstract methods of the interface.\n-&gt; An interface is not a class. A class describes the attributes and behaviors of an object. An\ninterface contains behaviors that a class implements.\n-&gt; Unless the class that implements the interface is abstract, all the methods of the interface\nneed to be defined in the class.</p>\n"}],"owner":{"account_id":2898343,"reputation":617,"user_id":2485634,"accept_rate":0,"display_name":"Shetty&#39;s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42228,"favorite_count":0,"down_vote_count":6,"up_vote_count":6,"answer_count":4,"score":0,"last_activity_date":1660107574,"creation_date":1434457042,"question_id":30867364,"body_markdown":"Recently I attended an interview, where I was asked, \r\n\r\n&gt;*What are user-defined data types in Java?*\r\n\r\nI answered that variables declared using class type are user-defined. But I am not convinced with my answer. I feel class type is *Reference data type/Object data type*.\r\n\r\nAs per there are two types:\r\n\r\n1. Primitive data types [int,float..etc].\r\n2. Reference type/Object type[String str, user_defined_Class Obj1..etc]\r\n\r\nI did search on this, but couldn&#39;t get a proper answer.\r\n\r\nKindly shed some light on this.","title":"User defined data types in Java?","body":"<p>Recently I attended an interview, where I was asked, </p>\n\n<blockquote>\n  <p><em>What are user-defined data types in Java?</em></p>\n</blockquote>\n\n<p>I answered that variables declared using class type are user-defined. But I am not convinced with my answer. I feel class type is <em>Reference data type/Object data type</em>.</p>\n\n<p>As per there are two types:</p>\n\n<ol>\n<li>Primitive data types [int,float..etc].</li>\n<li>Reference type/Object type[String str, user_defined_Class Obj1..etc]</li>\n</ol>\n\n<p>I did search on this, but couldn't get a proper answer.</p>\n\n<p>Kindly shed some light on this.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1660057905,"post_id":73292744,"comment_id":129440281,"body_markdown":"you cannot pass a list as a parameter on the right side of an &#39;in&#39; clause. Try working your query the other way around, so that your search parameters are in the &#39;in&#39; clause. Try JPQL of the form &quot;select distinct c from classes join c.activities activity where (c.name = :searchTerm OR c.description = :searchTerm) and activity in (:searchList)&quot; and see if that matches what you want","body":"you cannot pass a list as a parameter on the right side of an &#39;in&#39; clause. Try working your query the other way around, so that your search parameters are in the &#39;in&#39; clause. Try JPQL of the form &quot;select distinct c from classes join c.activities activity where (c.name = :searchTerm OR c.description = :searchTerm) and activity in (:searchList)&quot; and see if that matches what you want"},{"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"score":0,"creation_date":1660069642,"post_id":73292744,"comment_id":129444481,"body_markdown":"I guess the line means &quot;contains all of QUERY_ACTIVITY_LIST in it&#39;s activities attribute.&quot; just fetch all the activities, regards less any `IN` condition.","body":"I guess the line means &quot;contains all of QUERY_ACTIVITY_LIST in it&#39;s activities attribute.&quot; just fetch all the activities, regards less any <code>IN</code> condition."},{"owner":{"account_id":333191,"reputation":921,"user_id":658913,"accept_rate":25,"display_name":"CR Sardar"},"score":0,"creation_date":1660102114,"post_id":73292744,"comment_id":129450820,"body_markdown":"@Chris thank you so much for your replay, I have modified the requirement. Now only one activity will be passed to query, now, what will be the right query?","body":"@Chris thank you so much for your replay, I have modified the requirement. Now only one activity will be passed to query, now, what will be the right query?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1660142542,"post_id":73292744,"comment_id":129463820,"body_markdown":"Try &quot;select c from  classes c where :searchActivity in c.activities and ..&quot;","body":"Try &quot;select c from  classes c where :searchActivity in c.activities and ..&quot;"},{"owner":{"account_id":333191,"reputation":921,"user_id":658913,"accept_rate":25,"display_name":"CR Sardar"},"score":0,"creation_date":1660269556,"post_id":73292744,"comment_id":129498428,"body_markdown":"@Chris - Thanks.\nBut, it does not work. As of now, I am using joints like - \n\n@Query(\n            value = &quot;SELECT * FROM classes c, db_joint_table__class_activities jt, activity a &quot; +\n                    &quot;WHERE c.id=jt.class_id AND jt.activity_id=a.id AND :activityId=a.id &quot; +\n                    &quot;AND (lower(c.title) like %:titlePhrase% OR lower(c.description) LIKE %:descriptionPhrase%)&quot;,\n            nativeQuery = true)","body":"@Chris - Thanks. But, it does not work. As of now, I am using joints like -   @Query(             value = &quot;SELECT * FROM classes c, db_joint_table__class_activities jt, activity a &quot; +                     &quot;WHERE c.id=jt.class_id AND jt.activity_id=a.id AND :activityId=a.id &quot; +                     &quot;AND (lower(c.title) like %:titlePhrase% OR lower(c.description) LIKE %:descriptionPhrase%)&quot;,             nativeQuery = true)"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1660328279,"post_id":73292744,"comment_id":129515437,"body_markdown":"I&#39;ve been giving you JPQL query strings, not SQL ones: &#39;activities&#39; doesn&#39;t exist in SQL. Try using JPQL by removing the &#39;nativeQuery = true&#39; indicator. If you have problems and want to use Native SQL, check out what SQL is executed by JPA for a similar JPQL query first, so you can see the data it expects and how it handles joins for fetching, and use that as a basis for your own SQL.","body":"I&#39;ve been giving you JPQL query strings, not SQL ones: &#39;activities&#39; doesn&#39;t exist in SQL. Try using JPQL by removing the &#39;nativeQuery = true&#39; indicator. If you have problems and want to use Native SQL, check out what SQL is executed by JPA for a similar JPQL query first, so you can see the data it expects and how it handles joins for fetching, and use that as a basis for your own SQL."}],"owner":{"account_id":333191,"reputation":921,"user_id":658913,"accept_rate":25,"display_name":"CR Sardar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660106974,"creation_date":1660051881,"question_id":73292744,"body_markdown":"New to JPA, I have two entity and a joining table like below - \r\n\r\n    @Entity\r\n    @Table(name = &quot;classes&quot;)\r\n    public class ClassDao {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n    \r\n        @Column(nullable = false)\r\n        private String title;\r\n    \r\n        @Column(length = 5120)\r\n        private String description;\r\n    \r\n       \r\n        @ManyToMany\r\n        @ToStringExclude\r\n        @EqualsAndHashCode.Exclude\r\n        @JoinTable(name = &quot;db_joint_table__class_activities&quot;,\r\n                joinColumns =\r\n                        { @JoinColumn(name = &quot;class_id&quot;, referencedColumnName = &quot;id&quot;) },\r\n                inverseJoinColumns =\r\n                        { @JoinColumn(name = &quot;activity_id&quot;, referencedColumnName = &quot;id&quot;) })\r\n        private Set&lt;ActivityDao&gt; activities;\r\n    }\r\n\r\nand \r\n\r\n    @Entity\r\n    @Table(name = &quot;activity&quot;)\r\n    public class ActivityDao {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n    \r\n        @Column(nullable = false, unique = true)\r\n        private String name;\r\n    \r\n    \r\n        @ManyToMany\r\n        @ToStringExclude\r\n        @EqualsAndHashCode.Exclude\r\n        @JoinTable(name = &quot;db_joint_table__class_activities&quot;,\r\n                joinColumns =\r\n                        { @JoinColumn(name = &quot;activity_id&quot;, referencedColumnName = &quot;id&quot;) },\r\n                inverseJoinColumns =\r\n                        { @JoinColumn(name = &quot;class_id&quot;, referencedColumnName = &quot;id&quot;) })\r\n        private Set&lt;ClassDao&gt; classes;\r\n    }\r\n\r\nand two repositories like -\r\n\r\n    public interface ClassRepo extends JpaRepository&lt;ClassDao, Long&gt; {\r\n    }\r\n\r\n    public interface ActivityRepo extends JpaRepository&lt;ActivityDao, Long&gt; {\r\n    }\r\n\r\nI like to make a SQL like query(**with pagination** ) -\r\n\r\n    SELECT * FROM classes WHERE (classes.name LIKE %SEARCH_TERM% OR classes.description LIKE %SEARCH_TERM%) \r\n    AND QUERY_ACTIVITY IN classes.activities;\r\n\r\nSEARCH_TERM = dynamic input to search query.\r\nQUERY_ACTIVITY = an Activity, dynamic input to search query.\r\n\r\n**Expected** - search will return classes which contains SEARCH_TERM in it&#39;s `name` or `description` and contains the QUERY_ACTIVITY in it&#39;s `activities` attribute.\r\n\r\nHow to do it?\r\n\r\nIf I try like bellow - \r\n\r\n    @Query(value = &quot;SELECT * FROM classes WHERE (lower(title) LIKE %:titlePhrase% OR lower(description)&quot; +\r\n            &quot; LIKE %:descriptionPhrase%) AND :activityDao IN activities&quot;, nativeQuery = true)\r\n    Page&lt;ClassDao&gt; findClassWithActivityNew(@Param(&quot;titlePhrase&quot;) String titlePhrase, @Param(&quot;descriptionPhrase&quot;)\r\n    String descriptionPhrase, @Param(&quot;activityDao&quot;) ActivityDao activityDao, Pageable pageable);\r\n\r\n\r\nI am getting bellow error -\r\n\r\n    2022-08-10 10:16:06,945 WARN  [http-nio-8080-exec-1] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: SQL Error: 0, SQLState: 42601\r\n    2022-08-10 10:16:06,945 ERROR [http-nio-8080-exec-1] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: ERROR: syntax error at or near &quot;activities&quot;\r\n      Position: 92\r\n    2022-08-10 10:16:06,956 DEBUG [http-nio-8080-exec-1] com.markany.anyfit.server.rest.BaseController: handleException():\r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)","title":"JPA LIKE and and IN clause","body":"<p>New to JPA, I have two entity and a joining table like below -</p>\n<pre><code>@Entity\n@Table(name = &quot;classes&quot;)\npublic class ClassDao {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Column(nullable = false)\n    private String title;\n\n    @Column(length = 5120)\n    private String description;\n\n   \n    @ManyToMany\n    @ToStringExclude\n    @EqualsAndHashCode.Exclude\n    @JoinTable(name = &quot;db_joint_table__class_activities&quot;,\n            joinColumns =\n                    { @JoinColumn(name = &quot;class_id&quot;, referencedColumnName = &quot;id&quot;) },\n            inverseJoinColumns =\n                    { @JoinColumn(name = &quot;activity_id&quot;, referencedColumnName = &quot;id&quot;) })\n    private Set&lt;ActivityDao&gt; activities;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\n@Table(name = &quot;activity&quot;)\npublic class ActivityDao {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Column(nullable = false, unique = true)\n    private String name;\n\n\n    @ManyToMany\n    @ToStringExclude\n    @EqualsAndHashCode.Exclude\n    @JoinTable(name = &quot;db_joint_table__class_activities&quot;,\n            joinColumns =\n                    { @JoinColumn(name = &quot;activity_id&quot;, referencedColumnName = &quot;id&quot;) },\n            inverseJoinColumns =\n                    { @JoinColumn(name = &quot;class_id&quot;, referencedColumnName = &quot;id&quot;) })\n    private Set&lt;ClassDao&gt; classes;\n}\n</code></pre>\n<p>and two repositories like -</p>\n<pre><code>public interface ClassRepo extends JpaRepository&lt;ClassDao, Long&gt; {\n}\n\npublic interface ActivityRepo extends JpaRepository&lt;ActivityDao, Long&gt; {\n}\n</code></pre>\n<p>I like to make a SQL like query(<strong>with pagination</strong> ) -</p>\n<pre><code>SELECT * FROM classes WHERE (classes.name LIKE %SEARCH_TERM% OR classes.description LIKE %SEARCH_TERM%) \nAND QUERY_ACTIVITY IN classes.activities;\n</code></pre>\n<p>SEARCH_TERM = dynamic input to search query.\nQUERY_ACTIVITY = an Activity, dynamic input to search query.</p>\n<p><strong>Expected</strong> - search will return classes which contains SEARCH_TERM in it's <code>name</code> or <code>description</code> and contains the QUERY_ACTIVITY in it's <code>activities</code> attribute.</p>\n<p>How to do it?</p>\n<p>If I try like bellow -</p>\n<pre><code>@Query(value = &quot;SELECT * FROM classes WHERE (lower(title) LIKE %:titlePhrase% OR lower(description)&quot; +\n        &quot; LIKE %:descriptionPhrase%) AND :activityDao IN activities&quot;, nativeQuery = true)\nPage&lt;ClassDao&gt; findClassWithActivityNew(@Param(&quot;titlePhrase&quot;) String titlePhrase, @Param(&quot;descriptionPhrase&quot;)\nString descriptionPhrase, @Param(&quot;activityDao&quot;) ActivityDao activityDao, Pageable pageable);\n</code></pre>\n<p>I am getting bellow error -</p>\n<pre><code>2022-08-10 10:16:06,945 WARN  [http-nio-8080-exec-1] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: SQL Error: 0, SQLState: 42601\n2022-08-10 10:16:06,945 ERROR [http-nio-8080-exec-1] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: ERROR: syntax error at or near &quot;activities&quot;\n  Position: 92\n2022-08-10 10:16:06,956 DEBUG [http-nio-8080-exec-1] com.markany.anyfit.server.rest.BaseController: handleException():\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n</code></pre>\n"},{"tags":["java","spring","karate","intuit-partner-platform"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1660106812,"creation_date":1559728112,"answer_id":56458094,"question_id":56456840,"body_markdown":"Thanks for asking this, and I think I&#39;ve figured out a way to do this which opens up a lot of great possibilities. The solution is to use Java first-principles, and not use the `-jar` option. The Karate command-line-app (or CLI) class happens to be `com.intuit.karate.Main`. I&#39;m going to provide a demo here of using [SikuliX](http://sikulix.com). First, the feature file `test.feature`:\r\n\r\n    Feature: sikuli test\r\n\r\n    Background:\r\n    * def Screen = Java.type(&#39;org.sikuli.script.Screen&#39;)\r\n    \r\n    Scenario:\r\n    * def s = new Screen()\r\n    * def c = s.capture()\r\n    * c.getFile(&#39;.&#39;)\r\n\r\nAnd with the `karate.jar` and `sikulixapi.jar` in the same folder on the command line, this works (for windows, use `;` instead of `:` as the &quot;path separator&quot;):\r\n\r\n    java -cp karate.jar:sikulixapi.jar com.intuit.karate.Main test.feature\r\n\r\nFor those looking to customize the classpath for the Visual Studio Code &quot;Karate Runner&quot; extension, please refer this: https://github.com/intuit/karate/wiki/Karate-Robot-Windows-Install-Guide#change-command-line-settings\r\n\r\nAlso see: https://stackoverflow.com/a/58398958/143475\r\n\r\nFor those who really don&#39;t want to compile Java *but* need to use some JVM libraries, it is possible via pure JS, (but hard to troubleshoot and debug): https://stackoverflow.com/a/65035825/143475","title":"Executing Karate jar with mock using external library Spring Framework","body":"<p>Thanks for asking this, and I think I've figured out a way to do this which opens up a lot of great possibilities. The solution is to use Java first-principles, and not use the <code>-jar</code> option. The Karate command-line-app (or CLI) class happens to be <code>com.intuit.karate.Main</code>. I'm going to provide a demo here of using <a href=\"http://sikulix.com\" rel=\"nofollow noreferrer\">SikuliX</a>. First, the feature file <code>test.feature</code>:</p>\n<pre><code>Feature: sikuli test\n\nBackground:\n* def Screen = Java.type('org.sikuli.script.Screen')\n\nScenario:\n* def s = new Screen()\n* def c = s.capture()\n* c.getFile('.')\n</code></pre>\n<p>And with the <code>karate.jar</code> and <code>sikulixapi.jar</code> in the same folder on the command line, this works (for windows, use <code>;</code> instead of <code>:</code> as the &quot;path separator&quot;):</p>\n<pre><code>java -cp karate.jar:sikulixapi.jar com.intuit.karate.Main test.feature\n</code></pre>\n<p>For those looking to customize the classpath for the Visual Studio Code &quot;Karate Runner&quot; extension, please refer this: <a href=\"https://github.com/intuit/karate/wiki/Karate-Robot-Windows-Install-Guide#change-command-line-settings\" rel=\"nofollow noreferrer\">https://github.com/intuit/karate/wiki/Karate-Robot-Windows-Install-Guide#change-command-line-settings</a></p>\n<p>Also see: <a href=\"https://stackoverflow.com/a/58398958/143475\">https://stackoverflow.com/a/58398958/143475</a></p>\n<p>For those who really don't want to compile Java <em>but</em> need to use some JVM libraries, it is possible via pure JS, (but hard to troubleshoot and debug): <a href=\"https://stackoverflow.com/a/65035825/143475\">https://stackoverflow.com/a/65035825/143475</a></p>\n"}],"owner":{"account_id":1379352,"reputation":402,"user_id":1312704,"accept_rate":90,"display_name":"mactwixs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5173,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":56458094,"answer_count":1,"score":3,"last_activity_date":1660106812,"creation_date":1559723519,"question_id":56456840,"body_markdown":"Good morning. I am working on a project that uses Karate Standalone. I am completely new to Karate to excuse my lack of knowledge here.\r\n\r\nThe standalone karate jar is executed with the &#39;*-m*&#39; command line parameter to start a mock.feature. The mock.feature references a utils class that is built on &#39;*org.springframework.amqp*&#39;.\r\n\r\nThe problem is that the karate.jar startup fails with a Command Line Execution Exception due to external library &#39;*org/springframework/amqp/rabbit/connection/ConnectionFactory*&#39;\r\n\r\n**api1_mock_test.feature**\r\n\r\n    Feature: API1 Mock Test\r\n    \r\n    Background:\r\n    * def RabbitUtils = Java.type(&#39;utils.RabbitUtils&#39;)\r\n    .\r\n    .\r\n\r\nOur RabbitUtils is just a java class that imports org.springframework.amqp external libraries to provide functions to interact with a Rabbit AMQP broker e.g. connect, receive, publish, purge etc. When built and run in IntelliJ all works ok. The POM reference in the project is:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\r\n       &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n \r\nDoes the Karate standalone jar have some way of referencing external libraries? The classpath parameter is set to reference our workspace &#39;*.\\target\\test-classes*&#39; and contains the RabbitUtils.class file.\r\n\r\nThe current execution from workspace root looks like this:\r\n\r\n    java -jar C:\\intuit\\karate-0.9.3.RC2.jar -cp .\\target\\test-classes -p 6868 -m .\\src\\test\\java\\mocks\\api1_mock_test.feature\r\n    08:57:05.122 [main] INFO com.intuit.karate.Main - Karate version: 0.9.3.RC2\r\n    08:57:05.891 [main] ERROR com.intuit.karate - server-side background init failed - api1_mock_test.feature:4\r\n    Exception in thread &quot;main&quot; picocli.CommandLine$ExecutionException:\r\n    -unknown-:4 - org/springframework/amqp/rabbit/connection/ConnectionFactory\r\n\r\nThank you!","title":"Executing Karate jar with mock using external library Spring Framework","body":"<p>Good morning. I am working on a project that uses Karate Standalone. I am completely new to Karate to excuse my lack of knowledge here.</p>\n\n<p>The standalone karate jar is executed with the '<em>-m</em>' command line parameter to start a mock.feature. The mock.feature references a utils class that is built on '<em>org.springframework.amqp</em>'.</p>\n\n<p>The problem is that the karate.jar startup fails with a Command Line Execution Exception due to external library '<em>org/springframework/amqp/rabbit/connection/ConnectionFactory</em>'</p>\n\n<p><strong>api1_mock_test.feature</strong></p>\n\n<pre><code>Feature: API1 Mock Test\n\nBackground:\n* def RabbitUtils = Java.type('utils.RabbitUtils')\n.\n.\n</code></pre>\n\n<p>Our RabbitUtils is just a java class that imports org.springframework.amqp external libraries to provide functions to interact with a Rabbit AMQP broker e.g. connect, receive, publish, purge etc. When built and run in IntelliJ all works ok. The POM reference in the project is:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\n   &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Does the Karate standalone jar have some way of referencing external libraries? The classpath parameter is set to reference our workspace '<em>.\\target\\test-classes</em>' and contains the RabbitUtils.class file.</p>\n\n<p>The current execution from workspace root looks like this:</p>\n\n<pre><code>java -jar C:\\intuit\\karate-0.9.3.RC2.jar -cp .\\target\\test-classes -p 6868 -m .\\src\\test\\java\\mocks\\api1_mock_test.feature\n08:57:05.122 [main] INFO com.intuit.karate.Main - Karate version: 0.9.3.RC2\n08:57:05.891 [main] ERROR com.intuit.karate - server-side background init failed - api1_mock_test.feature:4\nException in thread \"main\" picocli.CommandLine$ExecutionException:\n-unknown-:4 - org/springframework/amqp/rabbit/connection/ConnectionFactory\n</code></pre>\n\n<p>Thank you!</p>\n"},{"tags":["java","windows","windows-10","cucumber"],"comments":[{"owner":{"account_id":1791452,"reputation":3332,"user_id":5889853,"display_name":"Helio"},"score":0,"creation_date":1660050653,"post_id":73291838,"comment_id":129437106,"body_markdown":"Are you sure you use Robot Framework? (please remove that tag if not). I think you are using, for example: https://www.toolsqa.com/selenium-webdriver/robot-class/","body":"Are you sure you use Robot Framework? (please remove that tag if not). I think you are using, for example: <a href=\"https://www.toolsqa.com/selenium-webdriver/robot-class/\" rel=\"nofollow noreferrer\">toolsqa.com/selenium-webdriver/robot-class</a>"},{"owner":{"account_id":10958448,"reputation":53,"user_id":8052482,"display_name":"Muhammadh Aadhil"},"score":0,"creation_date":1660106220,"post_id":73291838,"comment_id":129451381,"body_markdown":"Yes, Helio. You are right. I was not using the robot framework. It was a mistake and thanks to you to point it out.","body":"Yes, Helio. You are right. I was not using the robot framework. It was a mistake and thanks to you to point it out."}],"owner":{"account_id":10958448,"reputation":53,"user_id":8052482,"display_name":"Muhammadh Aadhil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660106167,"creation_date":1660048158,"question_id":73291838,"body_markdown":"I am trying to write some Test with the use of Cucumber for a Standalone Windows application. Which requires Username and Password to Log in. I am successfully started the application and authenticated using below steps\r\n\r\n 1. ***Minimize all other applications:***\r\n        \r\n```\r\nrobot = new Robot();\r\nrobot.keyPress(KeyEvent.VK_WINDOWS);\r\nrobot.keyPress(KeyEvent.VK_D);\r\nrobot.keyRelease(KeyEvent.VK_WINDOWS);\r\nrobot.keyRelease(KeyEvent.VK_D);\r\n```\r\n\r\n 2. ***Start:*** `Runtime.getRuntime().exec(&quot;cmd.exe /c start &quot; + applicationLocation);`\r\n\r\n 3. ***Bring the application to the Foreground:***\r\n\r\n```\r\npublic class ActivateWindow {\r\n\r\n    public interface User32 extends W32APIOptions {\r\n\r\n        User32 instance = (User32) Native.loadLibrary(&quot;user32&quot;, User32.class, DEFAULT_OPTIONS);\r\n        boolean ShowWindow(HWND hWnd, int nCmdShow);\r\n        boolean SetForegroundWindow(HWND hWnd);\r\n        HWND FindWindow(String winClass, String title);\r\n        int SW_SHOW = 1;\r\n    }\r\n    public static void setForegroundWindow(String applicationName) {\r\n        User32 user32 = User32.instance;\r\n        HWND hWnd = user32.FindWindow(null, applicationName);\r\n        user32.ShowWindow(hWnd, User32.SW_SHOW);\r\n        user32.SetForegroundWindow(hWnd);\r\n    }\r\n}\r\n```\r\n\r\n 4. ***Type Username and Password using the same &#39;Robot&#39; used in Step-1***\r\n```\r\n@Given(&quot;{string} and {string}&quot;)\r\n    public void enterUsernamePassword(String userName, String password) {\r\n        logger.info(&quot;Username: &quot; + userName + &quot; Password: &quot; + password + &quot; are inputs&quot;);\r\n        try {\r\n            typeOnWindow(userName);\r\n            ApplicationManager.getRobot().keyPress(KeyEvent.VK_TAB);\r\n            typeOnWindow(password);\r\n            ApplicationManager.getRobot().keyPress(KeyEvent.VK_TAB);\r\n            ApplicationManager.getRobot().keyRelease(KeyEvent.VK_TAB);\r\n            ApplicationManager.getRobot().keyPress(KeyEvent.VK_TAB);\r\n            ApplicationManager.getRobot().keyRelease(KeyEvent.VK_TAB);\r\n            ApplicationManager.getRobot().keyPress(KeyEvent.VK_TAB);\r\n            ApplicationManager.getRobot().keyRelease(KeyEvent.VK_TAB);\r\n        } catch (Exception e) {\r\n            logger.error(e.getMessage(), e);\r\n        }\r\n    }\r\n\r\n    private void typeOnWindow(String sWord) throws InterruptedException {\r\n        for (char c : sWord.toCharArray()) {\r\n            ApplicationManager.getRobot().keyPress(c);\r\n            ApplicationManager.getRobot().keyRelease(c);\r\n            if (Settings.getBoolean(&quot;IsDemo&quot;)) {\r\n                Thread.sleep(250);\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\n***This is my application looks like***\r\n[![enter image description here][1]][1]\r\n\r\nBy this way, Test is passed very rarely. Most of the time Step-4 is not type the Username and Password in the correct location or the Input box of the application. Please provide suggestions to improve this code or Please suggest a better way to achieve this goal.\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TKUwY.png","title":"Type Username and Password using Java into a Windows Standalone application","body":"<p>I am trying to write some Test with the use of Cucumber for a Standalone Windows application. Which requires Username and Password to Log in. I am successfully started the application and authenticated using below steps</p>\n<ol>\n<li><em><strong>Minimize all other applications:</strong></em></li>\n</ol>\n<pre><code>robot = new Robot();\nrobot.keyPress(KeyEvent.VK_WINDOWS);\nrobot.keyPress(KeyEvent.VK_D);\nrobot.keyRelease(KeyEvent.VK_WINDOWS);\nrobot.keyRelease(KeyEvent.VK_D);\n</code></pre>\n<ol start=\"2\">\n<li><p><em><strong>Start:</strong></em> <code>Runtime.getRuntime().exec(&quot;cmd.exe /c start &quot; + applicationLocation);</code></p>\n</li>\n<li><p><em><strong>Bring the application to the Foreground:</strong></em></p>\n</li>\n</ol>\n<pre><code>public class ActivateWindow {\n\n    public interface User32 extends W32APIOptions {\n\n        User32 instance = (User32) Native.loadLibrary(&quot;user32&quot;, User32.class, DEFAULT_OPTIONS);\n        boolean ShowWindow(HWND hWnd, int nCmdShow);\n        boolean SetForegroundWindow(HWND hWnd);\n        HWND FindWindow(String winClass, String title);\n        int SW_SHOW = 1;\n    }\n    public static void setForegroundWindow(String applicationName) {\n        User32 user32 = User32.instance;\n        HWND hWnd = user32.FindWindow(null, applicationName);\n        user32.ShowWindow(hWnd, User32.SW_SHOW);\n        user32.SetForegroundWindow(hWnd);\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li><em><strong>Type Username and Password using the same 'Robot' used in Step-1</strong></em></li>\n</ol>\n<pre><code>@Given(&quot;{string} and {string}&quot;)\n    public void enterUsernamePassword(String userName, String password) {\n        logger.info(&quot;Username: &quot; + userName + &quot; Password: &quot; + password + &quot; are inputs&quot;);\n        try {\n            typeOnWindow(userName);\n            ApplicationManager.getRobot().keyPress(KeyEvent.VK_TAB);\n            typeOnWindow(password);\n            ApplicationManager.getRobot().keyPress(KeyEvent.VK_TAB);\n            ApplicationManager.getRobot().keyRelease(KeyEvent.VK_TAB);\n            ApplicationManager.getRobot().keyPress(KeyEvent.VK_TAB);\n            ApplicationManager.getRobot().keyRelease(KeyEvent.VK_TAB);\n            ApplicationManager.getRobot().keyPress(KeyEvent.VK_TAB);\n            ApplicationManager.getRobot().keyRelease(KeyEvent.VK_TAB);\n        } catch (Exception e) {\n            logger.error(e.getMessage(), e);\n        }\n    }\n\n    private void typeOnWindow(String sWord) throws InterruptedException {\n        for (char c : sWord.toCharArray()) {\n            ApplicationManager.getRobot().keyPress(c);\n            ApplicationManager.getRobot().keyRelease(c);\n            if (Settings.getBoolean(&quot;IsDemo&quot;)) {\n                Thread.sleep(250);\n            }\n        }\n\n    }\n</code></pre>\n<p><em><strong>This is my application looks like</strong></em>\n<a href=\"https://i.stack.imgur.com/TKUwY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TKUwY.png\" alt=\"enter image description here\" /></a></p>\n<p>By this way, Test is passed very rarely. Most of the time Step-4 is not type the Username and Password in the correct location or the Input box of the application. Please provide suggestions to improve this code or Please suggest a better way to achieve this goal.\nThanks in advance.</p>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1660106949,"post_id":73300576,"comment_id":129451514,"body_markdown":"[code review](http://codereview.stackexchange.com/)","body":"<a href=\"http://codereview.stackexchange.com/\">code review</a>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1660107012,"post_id":73300576,"comment_id":129451526,"body_markdown":"Move code into methods. One method should only do one thing.","body":"Move code into methods. One method should only do one thing."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1660108217,"post_id":73300576,"comment_id":129451718,"body_markdown":"url.openStream() is good to use - send that into the JSONParser directly.","body":"url.openStream() is good to use - send that into the JSONParser directly."},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1660109604,"post_id":73300576,"comment_id":129451954,"body_markdown":"as an option, you can pass the city as a parameter, and then read it from the array of the main method","body":"as an option, you can pass the city as a parameter, and then read it from the array of the main method"},{"owner":{"account_id":26024838,"reputation":7,"user_id":19731921,"display_name":"Mehsum Naqvi"},"score":0,"creation_date":1660145256,"post_id":73300576,"comment_id":129464987,"body_markdown":"Also wanted to know if reading the API key from a file instead of a static variable from a different class is better? I was thinking of loading up the entire configuration parameters (if applicable) in a HashMap and then read it from the HashMap directly?","body":"Also wanted to know if reading the API key from a file instead of a static variable from a different class is better? I was thinking of loading up the entire configuration parameters (if applicable) in a HashMap and then read it from the HashMap directly?"}],"owner":{"account_id":26024838,"reputation":7,"user_id":19731921,"display_name":"Mehsum Naqvi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":666,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1660105205,"creation_date":1660105205,"question_id":73300576,"body_markdown":"First time writing on Stackoverflow and a fairly new developer.\r\nTrying my hands with REST API calls and wrote this little piece of code to use openweather API to get the temperature of cities.\r\nI&#39;ve kept the code clean but still think this is very verbose for the work it&#39;s doing but then I could be wrong. Any other tips from the developers on this code?\r\nIn particular I don&#39;t like the while loop to get the response body (but I couldn&#39;t find any other way to get the response body.) This method is something I read on Stackoverflow\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\t\r\n\t\twhile(true) {\r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\t/*\r\n\t\t\t\t * Getting the city name from the user\r\n\t\t\t\t */\r\n\t\t\t\tSystem.out.print(&quot;Enter the city name or enter exit to quit &quot;);\r\n\t\t\t\tString cityName = sc.nextLine();\r\n\t\t\t\t\r\n\t\t\t\t/*\r\n\t\t\t\t * If the user enters exit, break the while loop\r\n\t\t\t\t */\r\n\t\t\t\tif(cityName.toLowerCase().equals(&quot;exit&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;exiting...&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t/*\r\n\t\t\t\t * Open the connection and send the GET call\r\n\t\t\t\t */\r\n\t\t\t\tURL url = new URL(&quot;https://api.openweathermap.org/data/2.5/weather?q=&quot; + cityName.toLowerCase() + &quot;&amp;appid=&quot; + Config.API_Key + &quot;&amp;units=metric&quot;);\r\n\t\t\t\tHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n\t\t\t\tconnection.setRequestMethod(&quot;GET&quot;);\r\n\t\t\t\tconnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\t\t\t\tconnection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\t\t\tconnection.setDoInput(true);\r\n\t\t\t\tconnection.connect();\r\n\t\t\t\t\r\n\t\t\t\t/*\r\n\t\t\t\t * Reading the response code from the connection\r\n\t\t\t\t * If the response code is 200, then read the Response Body\r\n\t\t\t\t */\r\n\t\t\t\tint responseCode = connection.getResponseCode();\r\n\t\t\t\tif(responseCode == 200) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tString responseBody = &quot;&quot;;\r\n\t\t\t\t\tScanner scanner = new Scanner(url.openStream());\r\n\t\t\t\t\t\r\n\t\t\t\t\twhile(scanner.hasNext()) {\r\n\t\t\t\t\t\tresponseBody += scanner.nextLine();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tscanner.close();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * Use the JSONParser object to parse the response body and extract data\r\n\t\t\t\t\t */\r\n\t\t\t\t\tJSONParser parser = new JSONParser();\r\n\t\t\t\t\tJSONObject json = (JSONObject) parser.parse(responseBody);\r\n\t\t\t\t\t\r\n\t\t\t\t\tJSONObject mainObject = (JSONObject) json.get(&quot;main&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * Getting the data needed and converting the String to Double\r\n\t\t\t\t\t */\r\n\t\t\t\t\tDouble tempInC = ((Number) mainObject.get(&quot;temp&quot;)).doubleValue();\r\n\t\t\t\t\tDouble feelsLike = ((Number) mainObject.get(&quot;feels_like&quot;)).doubleValue();\r\n\t\t\t\t\tDouble temp_min = ((Number) mainObject.get(&quot;temp_min&quot;)).doubleValue();\r\n\t\t\t\t\tDouble temp_max = ((Number) mainObject.get(&quot;temp_max&quot;)).doubleValue();\r\n\t\t\t\t\tDouble pressure = ((Number) mainObject.get(&quot;pressure&quot;)).doubleValue();\r\n\t\t\t\t\tDouble humidity = ((Number) mainObject.get(&quot;humidity&quot;)).doubleValue();\r\n\t\t\t\t\t\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * Printing out all data stored\r\n\t\t\t\t\t */\r\n\t\t\t\t\tSystem.out.println(&quot;The current temperature for &quot; + cityName + &quot; is &quot; + tempInC + &quot; C&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;It feels like &quot; + feelsLike + &quot; C&quot; + &quot; in &quot; + cityName);\r\n\t\t\t\t\tSystem.out.println(&quot;The minimum temperature for &quot; + cityName + &quot; is &quot; + temp_min + &quot; C&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;The maximum temperature for &quot; + cityName + &quot; is &quot; + temp_max + &quot; C&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;The air pressure for &quot; + cityName + &quot; is &quot; + pressure + &quot; kPa&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;The humidity level for &quot; + cityName + &quot; is &quot; + humidity + &quot; gm^3&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (ParseException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThe output I get is this\r\n\r\nEnter the city name or enter exit to quit **Toronto**&lt;br&gt;\r\nThe current temperature for Toronto is 18.63 C&lt;br&gt;\r\nIt feels like 18.56 C in Toronto&lt;br&gt;\r\nThe minimum temperature for Toronto is 17.49 C&lt;br&gt;\r\nThe maximum temperature for Toronto is 20.06 C&lt;br&gt;\r\nThe air pressure for Toronto is 1017.0 kPa&lt;br&gt;\r\nThe humidity level for Toronto is 77.0 gm^3&lt;br&gt;\r\n\r\nEnter the city name or enter exit to quit **Dallas**&lt;br&gt;\r\nThe current temperature for Dallas is 27.61 C&lt;br&gt;\r\nIt feels like 29.6 C in Dallas&lt;br&gt;\r\nThe minimum temperature for Dallas is 25.52 C&lt;br&gt;\r\nThe maximum temperature for Dallas is 29.32 C&lt;br&gt;\r\nThe air pressure for Dallas is 1017.0 kPa&lt;br&gt;\r\nThe humidity level for Dallas is 67.0 gm^3&lt;br&gt;\r\n\r\nEnter the city name or enter exit to quit **Paris**&lt;br&gt;\r\nThe current temperature for Paris is 19.94 C&lt;br&gt;\r\nIt feels like 19.58 C in Paris&lt;br&gt;\r\nThe minimum temperature for Paris is 16.34 C&lt;br&gt;\r\nThe maximum temperature for Paris is 21.19 C&lt;br&gt;\r\nThe air pressure for Paris is 1022.0 kPa&lt;br&gt;\r\nThe humidity level for Paris is 61.0 gm^3&lt;br&gt;\r\n\r\nEnter the city name or enter exit to quit **exit**&lt;br&gt;\r\nexiting...\r\n\r\n\r\nThe response body looks like this\r\n\r\n    {\r\n        &quot;coord&quot;: {\r\n        &quot;lon&quot;: -79.4163,\r\n        &quot;lat&quot;: 43.7001\r\n    },\r\n    &quot;weather&quot;: [\r\n        {\r\n            &quot;id&quot;: 803,\r\n            &quot;main&quot;: &quot;Clouds&quot;,\r\n            &quot;description&quot;: &quot;broken clouds&quot;,\r\n            &quot;icon&quot;: &quot;04n&quot;\r\n        }\r\n    ],\r\n    &quot;base&quot;: &quot;stations&quot;,\r\n    &quot;main&quot;: {\r\n        &quot;temp&quot;: 18.84,\r\n        &quot;feels_like&quot;: 18.76,\r\n        &quot;temp_min&quot;: 17.83,\r\n        &quot;temp_max&quot;: 20.06,\r\n        &quot;pressure&quot;: 1017,\r\n        &quot;humidity&quot;: 76\r\n    },\r\n    &quot;visibility&quot;: 10000,\r\n    &quot;wind&quot;: {\r\n        &quot;speed&quot;: 4.12,\r\n        &quot;deg&quot;: 70\r\n    },\r\n    &quot;clouds&quot;: {\r\n        &quot;all&quot;: 75\r\n    },\r\n    &quot;dt&quot;: 1660101834,\r\n    &quot;sys&quot;: {\r\n        &quot;type&quot;: 1,\r\n        &quot;id&quot;: 718,\r\n        &quot;country&quot;: &quot;CA&quot;,\r\n        &quot;sunrise&quot;: 1660040128,\r\n        &quot;sunset&quot;: 1660091458\r\n    },\r\n    &quot;timezone&quot;: -14400,\r\n    &quot;id&quot;: 6167865,\r\n    &quot;name&quot;: &quot;Toronto&quot;,\r\n    &quot;cod&quot;: 200\r\n}","title":"How to get REST response body in java","body":"<p>First time writing on Stackoverflow and a fairly new developer.\nTrying my hands with REST API calls and wrote this little piece of code to use openweather API to get the temperature of cities.\nI've kept the code clean but still think this is very verbose for the work it's doing but then I could be wrong. Any other tips from the developers on this code?\nIn particular I don't like the while loop to get the response body (but I couldn't find any other way to get the response body.) This method is something I read on Stackoverflow</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    \n    Scanner sc = new Scanner(System.in);\n    \n    while(true) {\n        try {\n            \n            /*\n             * Getting the city name from the user\n             */\n            System.out.print(&quot;Enter the city name or enter exit to quit &quot;);\n            String cityName = sc.nextLine();\n            \n            /*\n             * If the user enters exit, break the while loop\n             */\n            if(cityName.toLowerCase().equals(&quot;exit&quot;)) {\n                System.out.println(&quot;exiting...&quot;);\n                break;\n            }\n            \n            /*\n             * Open the connection and send the GET call\n             */\n            URL url = new URL(&quot;https://api.openweathermap.org/data/2.5/weather?q=&quot; + cityName.toLowerCase() + &quot;&amp;appid=&quot; + Config.API_Key + &quot;&amp;units=metric&quot;);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.setRequestMethod(&quot;GET&quot;);\n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            connection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n            connection.setDoInput(true);\n            connection.connect();\n            \n            /*\n             * Reading the response code from the connection\n             * If the response code is 200, then read the Response Body\n             */\n            int responseCode = connection.getResponseCode();\n            if(responseCode == 200) {\n                \n                String responseBody = &quot;&quot;;\n                Scanner scanner = new Scanner(url.openStream());\n                \n                while(scanner.hasNext()) {\n                    responseBody += scanner.nextLine();\n                }\n                \n                scanner.close();\n                \n                \n                /*\n                 * Use the JSONParser object to parse the response body and extract data\n                 */\n                JSONParser parser = new JSONParser();\n                JSONObject json = (JSONObject) parser.parse(responseBody);\n                \n                JSONObject mainObject = (JSONObject) json.get(&quot;main&quot;);\n                \n                /*\n                 * Getting the data needed and converting the String to Double\n                 */\n                Double tempInC = ((Number) mainObject.get(&quot;temp&quot;)).doubleValue();\n                Double feelsLike = ((Number) mainObject.get(&quot;feels_like&quot;)).doubleValue();\n                Double temp_min = ((Number) mainObject.get(&quot;temp_min&quot;)).doubleValue();\n                Double temp_max = ((Number) mainObject.get(&quot;temp_max&quot;)).doubleValue();\n                Double pressure = ((Number) mainObject.get(&quot;pressure&quot;)).doubleValue();\n                Double humidity = ((Number) mainObject.get(&quot;humidity&quot;)).doubleValue();\n                \n                /*\n                 * Printing out all data stored\n                 */\n                System.out.println(&quot;The current temperature for &quot; + cityName + &quot; is &quot; + tempInC + &quot; C&quot;);\n                System.out.println(&quot;It feels like &quot; + feelsLike + &quot; C&quot; + &quot; in &quot; + cityName);\n                System.out.println(&quot;The minimum temperature for &quot; + cityName + &quot; is &quot; + temp_min + &quot; C&quot;);\n                System.out.println(&quot;The maximum temperature for &quot; + cityName + &quot; is &quot; + temp_max + &quot; C&quot;);\n                System.out.println(&quot;The air pressure for &quot; + cityName + &quot; is &quot; + pressure + &quot; kPa&quot;);\n                System.out.println(&quot;The humidity level for &quot; + cityName + &quot; is &quot; + humidity + &quot; gm^3&quot;);\n                \n                System.out.println();\n                \n            }\n            \n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (ParseException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The output I get is this</p>\n<p>Enter the city name or enter exit to quit <strong>Toronto</strong><br>\nThe current temperature for Toronto is 18.63 C<br>\nIt feels like 18.56 C in Toronto<br>\nThe minimum temperature for Toronto is 17.49 C<br>\nThe maximum temperature for Toronto is 20.06 C<br>\nThe air pressure for Toronto is 1017.0 kPa<br>\nThe humidity level for Toronto is 77.0 gm^3<br></p>\n<p>Enter the city name or enter exit to quit <strong>Dallas</strong><br>\nThe current temperature for Dallas is 27.61 C<br>\nIt feels like 29.6 C in Dallas<br>\nThe minimum temperature for Dallas is 25.52 C<br>\nThe maximum temperature for Dallas is 29.32 C<br>\nThe air pressure for Dallas is 1017.0 kPa<br>\nThe humidity level for Dallas is 67.0 gm^3<br></p>\n<p>Enter the city name or enter exit to quit <strong>Paris</strong><br>\nThe current temperature for Paris is 19.94 C<br>\nIt feels like 19.58 C in Paris<br>\nThe minimum temperature for Paris is 16.34 C<br>\nThe maximum temperature for Paris is 21.19 C<br>\nThe air pressure for Paris is 1022.0 kPa<br>\nThe humidity level for Paris is 61.0 gm^3<br></p>\n<p>Enter the city name or enter exit to quit <strong>exit</strong><br>\nexiting...</p>\n<p>The response body looks like this</p>\n<pre><code>{\n    &quot;coord&quot;: {\n    &quot;lon&quot;: -79.4163,\n    &quot;lat&quot;: 43.7001\n},\n&quot;weather&quot;: [\n    {\n        &quot;id&quot;: 803,\n        &quot;main&quot;: &quot;Clouds&quot;,\n        &quot;description&quot;: &quot;broken clouds&quot;,\n        &quot;icon&quot;: &quot;04n&quot;\n    }\n],\n&quot;base&quot;: &quot;stations&quot;,\n&quot;main&quot;: {\n    &quot;temp&quot;: 18.84,\n    &quot;feels_like&quot;: 18.76,\n    &quot;temp_min&quot;: 17.83,\n    &quot;temp_max&quot;: 20.06,\n    &quot;pressure&quot;: 1017,\n    &quot;humidity&quot;: 76\n},\n&quot;visibility&quot;: 10000,\n&quot;wind&quot;: {\n    &quot;speed&quot;: 4.12,\n    &quot;deg&quot;: 70\n},\n&quot;clouds&quot;: {\n    &quot;all&quot;: 75\n},\n&quot;dt&quot;: 1660101834,\n&quot;sys&quot;: {\n    &quot;type&quot;: 1,\n    &quot;id&quot;: 718,\n    &quot;country&quot;: &quot;CA&quot;,\n    &quot;sunrise&quot;: 1660040128,\n    &quot;sunset&quot;: 1660091458\n},\n&quot;timezone&quot;: -14400,\n&quot;id&quot;: 6167865,\n&quot;name&quot;: &quot;Toronto&quot;,\n&quot;cod&quot;: 200\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","aws-lambda","log4j2","slf4j"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1660044579,"post_id":73291048,"comment_id":129434690,"body_markdown":"Instead of providing links, show us what you tried. Spring Boot by default uses Logback, so trying log4j config won&#39;t work. If you don&#39;t have an explicit config file specifying the levels in the `application.[properties|yaml]` will work. Unless you start with `--debug` or `--trace` that will override those.","body":"Instead of providing links, show us what you tried. Spring Boot by default uses Logback, so trying log4j config won&#39;t work. If you don&#39;t have an explicit config file specifying the levels in the <code>application.[properties|yaml]</code> will work. Unless you start with <code>--debug</code> or <code>--trace</code> that will override those."}],"answers":[{"tags":[],"owner":{"account_id":3809738,"reputation":673,"user_id":3161062,"accept_rate":50,"display_name":"jojo_Berlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660104350,"creation_date":1660104350,"answer_id":73300496,"question_id":73291048,"body_markdown":"As it was said in the comment spring uses Logback as a default.\r\nStill you can add log4j support by replacing the logging adapter e.g. in maven: \r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t&lt;exclusions&gt;\r\n\t\t&lt;exclusion&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t&lt;/exclusion&gt;\r\n\t&lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- Add Log4j2 Dependency --&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nYou can then just configure a standard Log4j2 as usual by placing a `log4j2.xml` in  `src/main/resources`. \r\nIf you want to have fancy logging in JSON out of the box you can also use the [Powertools AWS Java](https://awslabs.github.io/aws-lambda-powertools-java/core/logging/). These give you best practises out of the box also to make your logs searchable. ","title":"Support on disabling debug and info logs of Springboot and hibernate when hosted on AWS Lambda","body":"<p>As it was said in the comment spring uses Logback as a default.\nStill you can add log4j support by replacing the logging adapter e.g. in maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Add Log4j2 Dependency --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can then just configure a standard Log4j2 as usual by placing a <code>log4j2.xml</code> in  <code>src/main/resources</code>.\nIf you want to have fancy logging in JSON out of the box you can also use the <a href=\"https://awslabs.github.io/aws-lambda-powertools-java/core/logging/\" rel=\"nofollow noreferrer\">Powertools AWS Java</a>. These give you best practises out of the box also to make your logs searchable.</p>\n"}],"owner":{"account_id":25691711,"reputation":1,"user_id":19453027,"display_name":"Chandu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660104350,"creation_date":1660044465,"question_id":73291048,"body_markdown":"We have hosted a springboot application to AWS lambda. We are receiving huge logs which is not expected. We have tried the following ways to optimize our logs\r\n\r\nhttps://www.baeldung.com/java-enterprise-aws-lambda\r\nhttps://mkyong.com/spring-boot/spring-boot-test-how-to-stop-debug-logs/\r\n\r\nNone of the above seems to work. We are getting the springboot and hibernate logs as usual(huge).\r\n\r\nWe have tested the same using Log4j as well as SLF4j . Even this did not work.\r\n\r\nKindly suggest how the logs can be optimized.","title":"Support on disabling debug and info logs of Springboot and hibernate when hosted on AWS Lambda","body":"<p>We have hosted a springboot application to AWS lambda. We are receiving huge logs which is not expected. We have tried the following ways to optimize our logs</p>\n<p><a href=\"https://www.baeldung.com/java-enterprise-aws-lambda\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-enterprise-aws-lambda</a>\n<a href=\"https://mkyong.com/spring-boot/spring-boot-test-how-to-stop-debug-logs/\" rel=\"nofollow noreferrer\">https://mkyong.com/spring-boot/spring-boot-test-how-to-stop-debug-logs/</a></p>\n<p>None of the above seems to work. We are getting the springboot and hibernate logs as usual(huge).</p>\n<p>We have tested the same using Log4j as well as SLF4j . Even this did not work.</p>\n<p>Kindly suggest how the logs can be optimized.</p>\n"},{"tags":["java","algorithm","optimization","search","cpu-cycles"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1660009455,"post_id":73285675,"comment_id":129426126,"body_markdown":"not your problem, but simpler way is `if (ints[i] == k) { return true;}`  `else` part not needed.","body":"not your problem, but simpler way is <code>if (ints[i] == k) { return true;}</code>  <code>else</code> part not needed."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1660009515,"post_id":73285675,"comment_id":129426137,"body_markdown":"`System.out.println(Main.exists(ints,9)); // true` - how can this be true?","body":"<code>System.out.println(Main.exists(ints,9)); &#47;&#47; true</code> - how can this be true?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1660009572,"post_id":73285675,"comment_id":129426143,"body_markdown":"What on earth is `import static java.sql.DriverManager.println;` for?","body":"What on earth is <code>import static java.sql.DriverManager.println;</code> for?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1660009587,"post_id":73285675,"comment_id":129426146,"body_markdown":"`import static java.sql.DriverManager.println;`  ???   Use `System.out.println`","body":"<code>import static java.sql.DriverManager.println;</code>  ???   Use <code>System.out.println</code>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1660009667,"post_id":73285675,"comment_id":129426158,"body_markdown":"I mean, it certainly looks like it&#39;d be a much more efficient program if you write the binary search algorithm and used that.","body":"I mean, it certainly looks like it&#39;d be a much more efficient program if you write the binary search algorithm and used that."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":4,"creation_date":1660009848,"post_id":73285675,"comment_id":129426177,"body_markdown":"_&quot;...  The items are integers arranged in ascending order.  ...&quot;_ - they give you that information because they expect you to use it.","body":"<i>&quot;...  The items are integers arranged in ascending order.  ...&quot;</i> - they give you that information because they expect you to use it."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1660009954,"post_id":73285675,"comment_id":129426190,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1660103608,"post_id":73285675,"comment_id":129451020,"body_markdown":"I rolled back your edit which turned it into a different question, one which invalidated the &quot;use binary search because linear search is slow&quot; answer.  And you removed the results output.  It sounds like you now have a debugging question about your attempt at Binary Search.  That&#39;s a new question which you should ask separately.  (You can include a *link* to this on in your new question, but make sure it stands on its own and has a [mcve] including details like what actually happens vs. what should happen.  e.g. infinite loop on not-found?  Wrong answer?)","body":"I rolled back your edit which turned it into a different question, one which invalidated the &quot;use binary search because linear search is slow&quot; answer.  And you removed the results output.  It sounds like you now have a debugging question about your attempt at Binary Search.  That&#39;s a new question which you should ask separately.  (You can include a <i>link</i> to this on in your new question, but make sure it stands on its own and has a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> including details like what actually happens vs. what should happen.  e.g. infinite loop on not-found?  Wrong answer?)"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1660011510,"creation_date":1660011510,"answer_id":73285886,"question_id":73285675,"body_markdown":"Your code uses an inefficient algorithm.\r\n\r\nModern CPUs and OSes are incredibly complicated and do vast amounts of bizarre optimizations. Thus, &#39;save some CPU cycles&#39; is not something you can meaningfully reason about anymore. So let&#39;s objectify that statement into something that _is_ useful:\r\n\r\nThe exercise wants you to find the algorithmically least complex algorithm for the task.\r\n\r\n&quot;Algorithmic complexity&quot; is best thought of as follows: Define some variables. Let&#39;s say: The size of the input array. Let&#39;s call it N.\r\n\r\nNow pick a bunch of numbers for N, run your algorithm a few times averaging the runtime. Then chart this. On the x-axis is N. On the y-axis is how long it took.\r\n\r\nIn other words, make some lists of size 10 and run the algorithm a bunch of times. Then go for size 20, size 30, size 40, and so on. A chart rolls out. At the beginning, for low N, it&#39;ll be all over the place, wildly different numbers. Your CPU is busy doing other things and who knows what - all sorts of esoteric factors (literally what song is playing on your music player, that kind of irrelevant stuff) control how long things take. But eventually, for a large enough N, you&#39;ll see a pattern - the line starts coalescing, the algorithmic complexity takes over.\r\n\r\nAt that point, the line (from there on out - so, looking to the &#39;right&#39;, to larger N) looks like a known graph. It may look like `y = x` - i.e. a straight line at an angle. Or like `y = x^2`. Or something complicated like `y = x^3 + x!`.\r\n\r\n__That is called the big-O number of your algorithm__.\r\n\r\nYour algorithm has `O(n)` performance. In other words, an angled line: If 10,000 items takes 5 milliseconds to process, than 20,000 items will take 10, and 40,000 items will take 20.\r\n\r\nThere is an `O(log n)` algorithm available instead. In other words, a line that becomes nearly entirely horizontal over time. If 10,000 items take 5 milliseconds, then 100,000 takes 10 milliseconds, and a million takes 20. Make N large enough and the algorithmically simpler one will trounce the other one, regardless of how many optimizations the algorithmically more complex one has. Because math says it has to be that way.\r\n\r\nHence trivially no amount of OS, JVM, and hardware optimizations could ever make an `O(n^2)` algorithm be faster than an `O(n)` one for a large enough N.\r\n\r\nSo let&#39;s figure out this `O(log n)` algorithm.\r\n\r\nImagine a phone book. I ask you to look up Mr. Smith.\r\n\r\nYou could open to page 1 and start reading. That&#39;s what your algorithm does. On average you have to read through half of the entire phonebook.\r\n\r\nHere&#39;s another algorithm: Instead, turn to the middle of the book. Check the name. Is that name &#39;lower&#39; or &#39;higher&#39; than Smith? If it&#39;s lower, tear the top half of the phone book and toss it in the garbage. If it&#39;s higher, tear the bottom half off and get rid of that.\r\n\r\nThen repeat: Pick the middle of the new (half-sized) phonebook. Keep tearing out half of that book until only one name remains. That&#39;s your match.\r\n\r\nThis is algorithmically less complicated: With a single lookup you eliminate half of the phonebook. Got a million entries in that phonebook? __one__ lookup eliminates HALF of all names it could be.\r\n\r\nIn 20 lookups, you could get an answer even if the phonebook has 2^20 = 1 million items. Got 21 lookups? Then you can deal with 2 million items.\r\n\r\nThe crucial piece of information is that __your input is sorted__. It&#39;s like the phone book! You can apply the same algorithm! Pick a start and end, then look at the middle. Is it your answer? great, `return true;`. Is it not? If lower, then start now becomes the middle, and start the algorithm again. Is it higher? Then end now becomes the middle. Is start and end identical? Then `return false`.\r\n\r\nThat&#39;s the algorithm they want you to write. It&#39;s called &quot;binary search&quot;. Wikipedia has a page on it, lots of web tutorials cover the notion. But it&#39;s good to know __why__ binary search is faster.\r\n\r\nNB: Moore&#39;s Law, an observation that computers get faster over time, more or less limits technical improvement at `O(n^2)`. In other words, any algorithm whose algorithmic complexity is more complicated than `O(n^2)` is utterly safe - no amount of technological advancement will __ever__ mean that an algorithm that cannot reasonably be run today can run in a flash on the hardware of tomorrow. Anything that is less complicated can just wait for technology to become faster. In that sense, anything more complex than `O(n^2)` will take literally quadrillions of years for large enough N, and always will. That&#39;s why we say &#39;this crypto algorithm is safe&#39; - because it&#39;s algorithmically significantly more complicated than `O(n^2)` so the Apple M99 chip released in 2086 still can&#39;t crack anything unless you give it quadrillions of years. Perhaps one day quantum tech leapfrogs this entire notion, but that&#39;s a bit too out there for an SO answer :)","title":"How to save CPU cycle searching a sorted array for an exact match? Linear search is too slow?","body":"<p>Your code uses an inefficient algorithm.</p>\n<p>Modern CPUs and OSes are incredibly complicated and do vast amounts of bizarre optimizations. Thus, 'save some CPU cycles' is not something you can meaningfully reason about anymore. So let's objectify that statement into something that <em>is</em> useful:</p>\n<p>The exercise wants you to find the algorithmically least complex algorithm for the task.</p>\n<p>&quot;Algorithmic complexity&quot; is best thought of as follows: Define some variables. Let's say: The size of the input array. Let's call it N.</p>\n<p>Now pick a bunch of numbers for N, run your algorithm a few times averaging the runtime. Then chart this. On the x-axis is N. On the y-axis is how long it took.</p>\n<p>In other words, make some lists of size 10 and run the algorithm a bunch of times. Then go for size 20, size 30, size 40, and so on. A chart rolls out. At the beginning, for low N, it'll be all over the place, wildly different numbers. Your CPU is busy doing other things and who knows what - all sorts of esoteric factors (literally what song is playing on your music player, that kind of irrelevant stuff) control how long things take. But eventually, for a large enough N, you'll see a pattern - the line starts coalescing, the algorithmic complexity takes over.</p>\n<p>At that point, the line (from there on out - so, looking to the 'right', to larger N) looks like a known graph. It may look like <code>y = x</code> - i.e. a straight line at an angle. Or like <code>y = x^2</code>. Or something complicated like <code>y = x^3 + x!</code>.</p>\n<p><strong>That is called the big-O number of your algorithm</strong>.</p>\n<p>Your algorithm has <code>O(n)</code> performance. In other words, an angled line: If 10,000 items takes 5 milliseconds to process, than 20,000 items will take 10, and 40,000 items will take 20.</p>\n<p>There is an <code>O(log n)</code> algorithm available instead. In other words, a line that becomes nearly entirely horizontal over time. If 10,000 items take 5 milliseconds, then 100,000 takes 10 milliseconds, and a million takes 20. Make N large enough and the algorithmically simpler one will trounce the other one, regardless of how many optimizations the algorithmically more complex one has. Because math says it has to be that way.</p>\n<p>Hence trivially no amount of OS, JVM, and hardware optimizations could ever make an <code>O(n^2)</code> algorithm be faster than an <code>O(n)</code> one for a large enough N.</p>\n<p>So let's figure out this <code>O(log n)</code> algorithm.</p>\n<p>Imagine a phone book. I ask you to look up Mr. Smith.</p>\n<p>You could open to page 1 and start reading. That's what your algorithm does. On average you have to read through half of the entire phonebook.</p>\n<p>Here's another algorithm: Instead, turn to the middle of the book. Check the name. Is that name 'lower' or 'higher' than Smith? If it's lower, tear the top half of the phone book and toss it in the garbage. If it's higher, tear the bottom half off and get rid of that.</p>\n<p>Then repeat: Pick the middle of the new (half-sized) phonebook. Keep tearing out half of that book until only one name remains. That's your match.</p>\n<p>This is algorithmically less complicated: With a single lookup you eliminate half of the phonebook. Got a million entries in that phonebook? <strong>one</strong> lookup eliminates HALF of all names it could be.</p>\n<p>In 20 lookups, you could get an answer even if the phonebook has 2^20 = 1 million items. Got 21 lookups? Then you can deal with 2 million items.</p>\n<p>The crucial piece of information is that <strong>your input is sorted</strong>. It's like the phone book! You can apply the same algorithm! Pick a start and end, then look at the middle. Is it your answer? great, <code>return true;</code>. Is it not? If lower, then start now becomes the middle, and start the algorithm again. Is it higher? Then end now becomes the middle. Is start and end identical? Then <code>return false</code>.</p>\n<p>That's the algorithm they want you to write. It's called &quot;binary search&quot;. Wikipedia has a page on it, lots of web tutorials cover the notion. But it's good to know <strong>why</strong> binary search is faster.</p>\n<p>NB: Moore's Law, an observation that computers get faster over time, more or less limits technical improvement at <code>O(n^2)</code>. In other words, any algorithm whose algorithmic complexity is more complicated than <code>O(n^2)</code> is utterly safe - no amount of technological advancement will <strong>ever</strong> mean that an algorithm that cannot reasonably be run today can run in a flash on the hardware of tomorrow. Anything that is less complicated can just wait for technology to become faster. In that sense, anything more complex than <code>O(n^2)</code> will take literally quadrillions of years for large enough N, and always will. That's why we say 'this crypto algorithm is safe' - because it's algorithmically significantly more complicated than <code>O(n^2)</code> so the Apple M99 chip released in 2086 still can't crack anything unless you give it quadrillions of years. Perhaps one day quantum tech leapfrogs this entire notion, but that's a bit too out there for an SO answer :)</p>\n"}],"owner":{"account_id":25709503,"reputation":11,"user_id":19468277,"display_name":"Beginner developer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660103446,"creation_date":1660009174,"question_id":73285675,"body_markdown":"The aim of this exercise is to check the presence of a number in an array.\r\n\r\n&gt; Specifications: The items are integers arranged in ascending order. The array can contain up to 1 million items. The array is never null. Implement the method boolean Answer.Exists(int[] ints, int k) so that it returns true if k belongs to ints, otherwise the method should return false.\r\n&gt; \r\n&gt; Important note: Try to save CPU cycles if possible.\r\n\r\nthis is my code \r\n\r\n    \r\n    import java.util.*;\r\n    \r\n     class  Main {\r\n    \r\n        static boolean exists(int[] ints, int k) {\r\n    \r\n            boolean flag = false;\r\n    \r\n            for (int i = 0; i &lt; ints.length; i++) {\r\n    \r\n                if (ints[i] == k) {\r\n                    flag = true;\r\n                    return flag;\r\n   \r\n                } else {\r\n                    \r\n                    continue;\r\n                }\r\n    \r\n            }\r\n            return flag;\r\n    \r\n        }\r\n    \r\n        public static void main(String []args){\r\n    \r\n            int[] ints = {-9, 14, 37, 102};\r\n            System.out.println(Main.exists(ints,9)); // true\r\n            System.out.println(Main.exists(ints, 102));\r\n        }\r\n    \r\n    }\r\n\r\nbut after submitted the code, this is the result\r\n\r\n&gt; The solution works with a &#39;small&#39; array\r\n&gt; \r\n&gt; The solution works with an empty array\r\n&gt; \r\n&gt; The solution Doesn&#39;t work in a reasonable time with one million items\r\n\r\n\r\nSo, why it is not working if anyone can clarify that \r\n\r\nThe solution works if k is the first element in the array\r\n\r\nThe solution doesn&#39;t use the J2SE API to perform the binary search","title":"How to save CPU cycle searching a sorted array for an exact match? Linear search is too slow?","body":"<p>The aim of this exercise is to check the presence of a number in an array.</p>\n<blockquote>\n<p>Specifications: The items are integers arranged in ascending order. The array can contain up to 1 million items. The array is never null. Implement the method boolean Answer.Exists(int[] ints, int k) so that it returns true if k belongs to ints, otherwise the method should return false.</p>\n<p>Important note: Try to save CPU cycles if possible.</p>\n</blockquote>\n<p>this is my code</p>\n<pre><code>import java.util.*;\n\n class  Main {\n\n    static boolean exists(int[] ints, int k) {\n\n        boolean flag = false;\n\n        for (int i = 0; i &lt; ints.length; i++) {\n\n            if (ints[i] == k) {\n                flag = true;\n                return flag;\n\n            } else {\n                \n                continue;\n            }\n\n        }\n        return flag;\n\n    }\n\n    public static void main(String []args){\n\n        int[] ints = {-9, 14, 37, 102};\n        System.out.println(Main.exists(ints,9)); // true\n        System.out.println(Main.exists(ints, 102));\n    }\n\n}\n</code></pre>\n<p>but after submitted the code, this is the result</p>\n<blockquote>\n<p>The solution works with a 'small' array</p>\n<p>The solution works with an empty array</p>\n<p>The solution Doesn't work in a reasonable time with one million items</p>\n</blockquote>\n<p>So, why it is not working if anyone can clarify that</p>\n<p>The solution works if k is the first element in the array</p>\n<p>The solution doesn't use the J2SE API to perform the binary search</p>\n"},{"tags":["java","class","runtime-error","java.util.scanner","reflections"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1660107832,"post_id":73299847,"comment_id":129451659,"body_markdown":"Does this answer your question? [Why javaassist throws invalid constant type: 18 when loading Entitymanager only when lambdas are used in project](https://stackoverflow.com/questions/41724887/why-javaassist-throws-invalid-constant-type-18-when-loading-entitymanager-only)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/41724887/why-javaassist-throws-invalid-constant-type-18-when-loading-entitymanager-only\">Why javaassist throws invalid constant type: 18 when loading Entitymanager only when lambdas are used in project</a>"}],"answers":[{"tags":[],"owner":{"account_id":21079708,"reputation":43,"user_id":15494311,"display_name":"clivet268"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660103146,"creation_date":1660103146,"answer_id":73300386,"question_id":73299847,"body_markdown":"Ive found the answer!\r\n\r\nUpdate your javassist class, I chose to do so through my build.gradle class using this line\r\n\r\n```\r\nimplementation &#39;org.javassist:javassist:3.29.0-GA&#39;\r\n```\r\n\r\nIf there is a new version by the time of reading this replace &quot;29.0&quot; with the latest version number","title":"When using Reflections on a class containing Scanner.next() I get &quot;invalid constant type 18&quot; error","body":"<p>Ive found the answer!</p>\n<p>Update your javassist class, I chose to do so through my build.gradle class using this line</p>\n<pre><code>implementation 'org.javassist:javassist:3.29.0-GA'\n</code></pre>\n<p>If there is a new version by the time of reading this replace &quot;29.0&quot; with the latest version number</p>\n"}],"owner":{"account_id":21079708,"reputation":43,"user_id":15494311,"display_name":"clivet268"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73300386,"answer_count":1,"score":0,"last_activity_date":1660103146,"creation_date":1660096735,"question_id":73299847,"body_markdown":"Below is the switch statement for reference but if narrowed it down to coming from the calls to s.next()\r\n\r\nAfter some digging ive found that this error normally comes from using something from too low a language level (below 7)\r\n\r\nIs that the issue in this case? If so how do I work around not being able to use scanner.next?? (also in other classes also scanned by Reflections scanner.next() seems to work, its ONLY scanner in this class ONLY giving me some issues)\r\n\r\nCode of SLR class:\r\n```java\r\nScanner s = new Scanner(System.in);\r\nswitch (**s.next()**) {\r\n            case (&quot;m&quot;):{\r\n                System.out.println(&quot;Enter minutes&quot;);\r\n                e = s.nextInt() * 60;\r\n                System.out.println(&quot;TO &quot; + (e / 60) + &quot; minutes&quot;);\r\n                break;\r\n            }\r\n            //some code\r\n        }\r\n```\r\nThe reflections code: (the above class is contained in clivet268.Operations package)\r\n```java\r\nReflections reflections = new Reflections(&quot;clivet268.Operations&quot;);\r\n        Set&lt;Class&lt;? extends Operation&gt;&gt; opstoinit = new HashSet&lt;&gt;(reflections.getSubTypesOf(Operation.class));\r\n        opstoinit.forEach((e) -&gt; {\r\n            try {\r\n                e.getDeclaredConstructor().newInstance().init();\r\n            } catch (InstantiationException | IllegalAccessException | NoSuchMethodException |\r\n                     InvocationTargetException ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n        });\r\n```\r\n\r\nThe 3 errors given:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.RuntimeException: could not create class file from SLR.class\r\n\tat org.reflections.Reflections.scan(Reflections.java:166)\r\n\tat org.reflections.Reflections.&lt;init&gt;(Reflections.java:91)\r\n\tat org.reflections.Reflections.&lt;init&gt;(Reflections.java:99)\r\n\tat clivet268.Enforcry.initOperations(Enforcry.java:37)\r\n\tat clivet268.Enforcry.main(Enforcry.java:20)\r\nCaused by: java.util.concurrent.ExecutionException: java.lang.RuntimeException: could not create class file from SLR.class\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\nCaused by: java.util.concurrent.ExecutionException: java.lang.RuntimeException: could not create class file from SLR.class\r\n\r\n\tat org.reflections.Reflections.scan(Reflections.java:162)\r\n\t... 4 more\r\nCaused by: java.lang.RuntimeException: could not create class file from SLR.class\r\nCaused by: java.lang.RuntimeException: could not create class file from SLR.class\r\n\r\n\tat org.reflections.scanners.AbstractScanner.scan(AbstractScanner.java:41)\r\n\tat org.reflections.Reflections$2.run(Reflections.java:149)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.io.IOException: invalid constant type: 18\r\n\tat javassist.bytecode.ConstPool.readOne(ConstPool.java:1023)\r\n\tat javassist.bytecode.ConstPool.read(ConstPool.java:966)\r\n\tat javassist.bytecode.ConstPool.&lt;init&gt;(ConstPool.java:127)\r\n\tat javassist.bytecode.ClassFile.read(ClassFile.java:693)\r\n\tat javassist.bytecode.ClassFile.&lt;init&gt;(ClassFile.java:85)\r\n\tat org.reflections.adapters.JavassistAdapter.createClassObject(JavassistAdapter.java:86)\r\n\tat org.reflections.adapters.JavassistAdapter.createClassObject(JavassistAdapter.java:22)\r\n\tat org.reflections.scanners.AbstractScanner.scan(AbstractScanner.java:38)\r\n\t... 6 more\r\nCaused by: java.io.IOException: invalid constant type: 18\r\n```","title":"When using Reflections on a class containing Scanner.next() I get &quot;invalid constant type 18&quot; error","body":"<p>Below is the switch statement for reference but if narrowed it down to coming from the calls to s.next()</p>\n<p>After some digging ive found that this error normally comes from using something from too low a language level (below 7)</p>\n<p>Is that the issue in this case? If so how do I work around not being able to use scanner.next?? (also in other classes also scanned by Reflections scanner.next() seems to work, its ONLY scanner in this class ONLY giving me some issues)</p>\n<p>Code of SLR class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner s = new Scanner(System.in);\nswitch (**s.next()**) {\n            case (&quot;m&quot;):{\n                System.out.println(&quot;Enter minutes&quot;);\n                e = s.nextInt() * 60;\n                System.out.println(&quot;TO &quot; + (e / 60) + &quot; minutes&quot;);\n                break;\n            }\n            //some code\n        }\n</code></pre>\n<p>The reflections code: (the above class is contained in clivet268.Operations package)</p>\n<pre class=\"lang-java prettyprint-override\"><code>Reflections reflections = new Reflections(&quot;clivet268.Operations&quot;);\n        Set&lt;Class&lt;? extends Operation&gt;&gt; opstoinit = new HashSet&lt;&gt;(reflections.getSubTypesOf(Operation.class));\n        opstoinit.forEach((e) -&gt; {\n            try {\n                e.getDeclaredConstructor().newInstance().init();\n            } catch (InstantiationException | IllegalAccessException | NoSuchMethodException |\n                     InvocationTargetException ex) {\n                throw new RuntimeException(ex);\n            }\n        });\n</code></pre>\n<p>The 3 errors given:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.RuntimeException: could not create class file from SLR.class\n    at org.reflections.Reflections.scan(Reflections.java:166)\n    at org.reflections.Reflections.&lt;init&gt;(Reflections.java:91)\n    at org.reflections.Reflections.&lt;init&gt;(Reflections.java:99)\n    at clivet268.Enforcry.initOperations(Enforcry.java:37)\n    at clivet268.Enforcry.main(Enforcry.java:20)\nCaused by: java.util.concurrent.ExecutionException: java.lang.RuntimeException: could not create class file from SLR.class\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\nCaused by: java.util.concurrent.ExecutionException: java.lang.RuntimeException: could not create class file from SLR.class\n\n    at org.reflections.Reflections.scan(Reflections.java:162)\n    ... 4 more\nCaused by: java.lang.RuntimeException: could not create class file from SLR.class\nCaused by: java.lang.RuntimeException: could not create class file from SLR.class\n\n    at org.reflections.scanners.AbstractScanner.scan(AbstractScanner.java:41)\n    at org.reflections.Reflections$2.run(Reflections.java:149)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.io.IOException: invalid constant type: 18\n    at javassist.bytecode.ConstPool.readOne(ConstPool.java:1023)\n    at javassist.bytecode.ConstPool.read(ConstPool.java:966)\n    at javassist.bytecode.ConstPool.&lt;init&gt;(ConstPool.java:127)\n    at javassist.bytecode.ClassFile.read(ClassFile.java:693)\n    at javassist.bytecode.ClassFile.&lt;init&gt;(ClassFile.java:85)\n    at org.reflections.adapters.JavassistAdapter.createClassObject(JavassistAdapter.java:86)\n    at org.reflections.adapters.JavassistAdapter.createClassObject(JavassistAdapter.java:22)\n    at org.reflections.scanners.AbstractScanner.scan(AbstractScanner.java:38)\n    ... 6 more\nCaused by: java.io.IOException: invalid constant type: 18\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","proguard","intellij-plugin"],"comments":[{"owner":{"account_id":22905554,"reputation":673,"user_id":17043683,"display_name":"MMZK1526"},"score":1,"creation_date":1660101240,"post_id":73300205,"comment_id":129450716,"body_markdown":"*can not work for me* can you please tell us what is the specific error you encountered?","body":"<i>can not work for me</i> can you please tell us what is the specific error you encountered?"},{"owner":{"account_id":1781984,"reputation":1077,"user_id":1624463,"accept_rate":100,"display_name":"dragon7"},"score":0,"creation_date":1679525296,"post_id":73300205,"comment_id":133739850,"body_markdown":"Check this: https://www.picimako.com/obfuscating-plugins-with-proguard/","body":"Check this: <a href=\"https://www.picimako.com/obfuscating-plugins-with-proguard/\" rel=\"nofollow noreferrer\">picimako.com/obfuscating-plugins-with-proguard</a>"}],"owner":{"account_id":17316934,"reputation":1,"user_id":12543117,"display_name":"春风化雨细如丝"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660102879,"creation_date":1660101081,"question_id":73300205,"body_markdown":"how to proguard with intellij idea gradle intellij-plugin?\r\n\r\n\r\nuse the code can not work for me !\r\n\r\n\r\nconfig build.gradle \r\n```\r\ndef ideaPath = &quot;D:/java/ideaIU-2022.1.3.win&quot;\r\ntask proguard(type: ProGuardTask) {\r\n//    dependsOn intelli\r\n\r\n    verbose\r\n\r\n//    injars  &quot;${buildDir}/libs/xxx-1.4.8.jar&quot;\r\n    injars  &quot;${buildDir}/classes/java/main&quot;\r\n    outjars &quot;${buildDir}/libs/xxx-1.4.8-obfuscatedClasses.jar&quot;\r\n\r\n    // Automatically handle the Java version of this build.\r\n    if (System.getProperty(&#39;java.version&#39;).startsWith(&#39;1.&#39;)) {\r\n        // Before Java 9, the runtime classes were packaged in a single jar file.\r\n        libraryjars &quot;${System.getProperty(&#39;java.home&#39;)}/lib/rt.jar&quot;\r\n    } else {\r\n        // As of Java 9, the runtime classes are packaged in modular jmod files.\r\n        libraryjars &quot;${System.getProperty(&#39;java.home&#39;)}/jmods/java.base.jmod&quot;, jarfilter: &#39;!**.jar&#39;, filter: &#39;!module-info.class&#39;\r\n        libraryjars &quot;${System.getProperty(&#39;java.home&#39;)}/jmods/java.sql.jmod&quot;,    jarfilter: &#39;!**.jar&#39;, filter: &#39;!module-info.class&#39;\r\n        libraryjars &quot;${System.getProperty(&#39;java.home&#39;)}/jmods/java.desktop.jmod&quot;, jarfilter: &#39;!**.jar&#39;, filter: &#39;!module-info.class&#39;\r\n\r\n        //libraryjars &quot;${System.getProperty(&#39;java.home&#39;)}/jmods/.....&quot;\r\n    }\r\n\r\n    // This will contain the Spring dependencies.\r\n    libraryjars sourceSets.main.compileClasspath\r\n//    libraryjars fileTree(&quot;$ideaPath/plugins/java/lib&quot;).filter { !it.name.startsWith(&quot;debugger&quot;) }.collect()\r\n//    libraryjars files(&quot;$ideaPath/lib&quot;)\r\n\r\n    dontnote &#39;kotlin.**&#39;\r\n    dontnote &#39;kotlinx.**&#39;\r\n    dontnote &#39;org.intellij.**&#39;\r\n    dontnote &#39;com.intellij.**&#39;\r\n    dontnote &#39;com.google.gson.**&#39;\r\n    dontnote &#39;proguard.configuration.ConfigurationLogger&#39;\r\n\r\n    dontobfuscate\r\n\r\n    optimizationpasses 10\r\n\r\n    keepclasseswithmembers &#39;public class * {  \\\r\n    public static void main(java.lang.String[]); \\\r\n    }&#39;\r\n\r\n    // Keep the main class entry point.\r\n    keep &#39;public class com.example.demo.DemoApplication { \\\r\n            public static void main(java.lang.String[]); \\\r\n         }&#39;\r\n\r\n    keepattributes &#39;*Annotation*&#39;\r\n\r\n    // This simple example requires classes with @Component annotation classes\r\n    // to be kept, since otherwise components could end up with clashing names,\r\n    // if they do not set the name explicitly.\r\n    keep &#39;public @org.springframework.stereotype.Component class *&#39;\r\n\r\n    // You may need to keep classes or members based on other annotations such as:\r\n    keepclassmembers &#39;public class * { \\\r\n            @org.springframework.beans.factory.annotation.Autowired *; \\\r\n            @org.springframework.beans.factory.annotation.Value *; \\\r\n        }&#39;\r\n\r\n    // After ProGuard has executed, repackage the app.\r\n//    finalizedBy tasks.repackage\r\n}\r\n```\r\nAre there any examples that can be executed?\r\nMy idea Version: ideaIU-2022.1.3.win\r\nJava Version: \r\n- openjdk version &quot;11.0.15&quot; 2022-04-19\r\n- OpenJDK Runtime Environment JBR-11.0.15.10-2043.56-jcef (build 11.0.15+10-b2043.56)\r\n- OpenJDK 64-Bit Server VM JBR-11.0.15.10-2043.56-jcef (build 11.0.15+10-b2043.56, mixed mode)\r\n\r\nGralde Version: gradle-7.5.1\r\n\r\nthe error message:\r\n\r\n```\r\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \r\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] FAILURE: Build failed with an exception.\r\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \r\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * What went wrong:\r\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] Execution failed for task &#39;:proguard&#39;.\r\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; java.io.IOException: Please correct the above warnings first.\r\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \r\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Try:\r\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; Run with --stacktrace option to get the stack trace.\r\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; Run with --scan to get full insights.\r\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \r\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Get more help at https://help.gradle.org\r\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildResultLogger] \r\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildResultLogger] BUILD FAILED in 10s\r\n11:20:00: &#39;proguard --debug&#39;。\r\n\r\n```\r\n\r\nThks！","title":"how to proguard with intellij idea gradle intellij-plugin","body":"<p>how to proguard with intellij idea gradle intellij-plugin?</p>\n<p>use the code can not work for me !</p>\n<p>config build.gradle</p>\n<pre><code>def ideaPath = &quot;D:/java/ideaIU-2022.1.3.win&quot;\ntask proguard(type: ProGuardTask) {\n//    dependsOn intelli\n\n    verbose\n\n//    injars  &quot;${buildDir}/libs/xxx-1.4.8.jar&quot;\n    injars  &quot;${buildDir}/classes/java/main&quot;\n    outjars &quot;${buildDir}/libs/xxx-1.4.8-obfuscatedClasses.jar&quot;\n\n    // Automatically handle the Java version of this build.\n    if (System.getProperty('java.version').startsWith('1.')) {\n        // Before Java 9, the runtime classes were packaged in a single jar file.\n        libraryjars &quot;${System.getProperty('java.home')}/lib/rt.jar&quot;\n    } else {\n        // As of Java 9, the runtime classes are packaged in modular jmod files.\n        libraryjars &quot;${System.getProperty('java.home')}/jmods/java.base.jmod&quot;, jarfilter: '!**.jar', filter: '!module-info.class'\n        libraryjars &quot;${System.getProperty('java.home')}/jmods/java.sql.jmod&quot;,    jarfilter: '!**.jar', filter: '!module-info.class'\n        libraryjars &quot;${System.getProperty('java.home')}/jmods/java.desktop.jmod&quot;, jarfilter: '!**.jar', filter: '!module-info.class'\n\n        //libraryjars &quot;${System.getProperty('java.home')}/jmods/.....&quot;\n    }\n\n    // This will contain the Spring dependencies.\n    libraryjars sourceSets.main.compileClasspath\n//    libraryjars fileTree(&quot;$ideaPath/plugins/java/lib&quot;).filter { !it.name.startsWith(&quot;debugger&quot;) }.collect()\n//    libraryjars files(&quot;$ideaPath/lib&quot;)\n\n    dontnote 'kotlin.**'\n    dontnote 'kotlinx.**'\n    dontnote 'org.intellij.**'\n    dontnote 'com.intellij.**'\n    dontnote 'com.google.gson.**'\n    dontnote 'proguard.configuration.ConfigurationLogger'\n\n    dontobfuscate\n\n    optimizationpasses 10\n\n    keepclasseswithmembers 'public class * {  \\\n    public static void main(java.lang.String[]); \\\n    }'\n\n    // Keep the main class entry point.\n    keep 'public class com.example.demo.DemoApplication { \\\n            public static void main(java.lang.String[]); \\\n         }'\n\n    keepattributes '*Annotation*'\n\n    // This simple example requires classes with @Component annotation classes\n    // to be kept, since otherwise components could end up with clashing names,\n    // if they do not set the name explicitly.\n    keep 'public @org.springframework.stereotype.Component class *'\n\n    // You may need to keep classes or members based on other annotations such as:\n    keepclassmembers 'public class * { \\\n            @org.springframework.beans.factory.annotation.Autowired *; \\\n            @org.springframework.beans.factory.annotation.Value *; \\\n        }'\n\n    // After ProGuard has executed, repackage the app.\n//    finalizedBy tasks.repackage\n}\n</code></pre>\n<p>Are there any examples that can be executed?\nMy idea Version: ideaIU-2022.1.3.win\nJava Version:</p>\n<ul>\n<li>openjdk version &quot;11.0.15&quot; 2022-04-19</li>\n<li>OpenJDK Runtime Environment JBR-11.0.15.10-2043.56-jcef (build 11.0.15+10-b2043.56)</li>\n<li>OpenJDK 64-Bit Server VM JBR-11.0.15.10-2043.56-jcef (build 11.0.15+10-b2043.56, mixed mode)</li>\n</ul>\n<p>Gralde Version: gradle-7.5.1</p>\n<p>the error message:</p>\n<pre><code>2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] FAILURE: Build failed with an exception.\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * What went wrong:\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] Execution failed for task ':proguard'.\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; java.io.IOException: Please correct the above warnings first.\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Try:\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; Run with --stacktrace option to get the stack trace.\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; Run with --scan to get full insights.\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] \n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Get more help at https://help.gradle.org\n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildResultLogger] \n2022-08-10T11:20:00.704+0800 [ERROR] [org.gradle.internal.buildevents.BuildResultLogger] BUILD FAILED in 10s\n11:20:00: 'proguard --debug'。\n\n</code></pre>\n<p>Thks！</p>\n"},{"tags":["java","arrays","dictionary","integer","2d"],"comments":[{"owner":{"account_id":2095810,"reputation":5066,"user_id":14853083,"display_name":"Tangentially Perpendicular"},"score":2,"creation_date":1660102365,"post_id":73300289,"comment_id":129450857,"body_markdown":"_&quot;While we&#39;re here...&quot;_ Focus on one question at a time. Asking multiple questions results in muddled answers and no clear subject for the question.","body":"<i>&quot;While we&#39;re here...&quot;</i> Focus on one question at a time. Asking multiple questions results in muddled answers and no clear subject for the question."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1660105970,"post_id":73300289,"comment_id":129451350,"body_markdown":"Are you building a map that map character to (row, col)?  Why does your input need to include horizontal and vertical lines?  Is that supposed to be visual borders to the human user?  Can the input be without horizontal or vertical lines?","body":"Are you building a map that map character to (row, col)?  Why does your input need to include horizontal and vertical lines?  Is that supposed to be visual borders to the human user?  Can the input be without horizontal or vertical lines?"},{"owner":{"account_id":26020722,"reputation":11,"user_id":19728463,"display_name":"Mostin"},"score":0,"creation_date":1660113751,"post_id":73300289,"comment_id":129452922,"body_markdown":"Yes it serves as visual input. Briefly explained it in the “while we’re here..” the input could be without the lines. As the 0’s represent just the white space in between the borders. 17 white space for col and 4 white space for rows \n\nIn my int maxRow logic this removes the outer lines treating them as padding.","body":"Yes it serves as visual input. Briefly explained it in the “while we’re here..” the input could be without the lines. As the 0’s represent just the white space in between the borders. 17 white space for col and 4 white space for rows   In my int maxRow logic this removes the outer lines treating them as padding."}],"owner":{"account_id":26020722,"reputation":11,"user_id":19728463,"display_name":"Mostin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660101997,"creation_date":1660101997,"question_id":73300289,"body_markdown":" Hi I am currently trying to convert this string to a usable 2D int Array. \r\n```\r\nString samplemap = \r\n            &quot;-------------------\\n&quot; +\r\n            &quot;|K *  P  *       D|\\n&quot; +\r\n            &quot;|  *     *        |\\n&quot; +\r\n            &quot;|  *     ******   |\\n&quot; +\r\n            &quot;|     *           |\\n&quot; +\r\n            &quot;-------------------&quot;;\r\n```\r\nMy goal is to break down the samplemap string, to transfer over the object locations such as K(0,4) *[(3,2),(3,3),(3,4),(6,1),(8,2),(9,2),(10,2),(11,2),(12,2),(13,2)] P(6,4) D(17,4)\r\n\r\nI have currently can get the RowNum and ColNum \r\n```\r\n int maxRow = samplemap.split(&quot;\\n&quot;).length - 2;\r\n int maxCol = samplemap.split(&quot;\\n&quot;)[0].length() - 2;\r\n```\r\nI pass these int to my FloorMap class to build the map and fill it with 0&#39;s. Later hopefully by somehow parsing the above I can set each object inside the FloorMap as a (x,y) cord and be represented by an ID (K = 1 , P = 2, * = 3 and D = 4).\r\n\r\nMy current logic is this... \r\n```\r\n//Find &quot;*&quot; in the samplemap to pass to the constructor in floor class\r\n        // * - wall - 4\r\n        for(int i = 1; i &lt; maxRow; i++) {\r\n            for(int j = 1; j &lt; maxCol; j++) {\r\n                if(samplemap.split(&quot;\\n&quot;)[i].charAt(j) == &#39;*&#39;) {\r\n                    floorMap.setWallLocation(i, j);\r\n                }\r\n            }\r\n        }\r\nOutput: \r\n0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \r\n0 0 0 4 0 0 0 0 0 4 0 0 0 0 0 0 0 \r\n0 0 0 4 0 0 0 0 0 4 0 0 0 0 0 0 0 \r\n0 0 0 4 0 0 0 0 0 4 4 4 4 4 4 0 0 \r\n```\r\nWhile we&#39;re here is there a way to assign a pointer (Facing up) for each K ( = 1) as in if moving through the int map in a way where only if facing forward I am able to move.\r\nex:\r\nK(0,4) Facing: UP\r\nTurn Right (Pointing towards wall) (Can&#39;t move forward)\r\nTurn Right (Pointing towards empty) (Can move forward)\r\n\r\nFirst time posting on here, any help and guidance is welcomed. Starting to get back into coding after 5 years of collage.","title":"Transferring asci map string to int map array","body":"<p>Hi I am currently trying to convert this string to a usable 2D int Array.</p>\n<pre><code>String samplemap = \n            &quot;-------------------\\n&quot; +\n            &quot;|K *  P  *       D|\\n&quot; +\n            &quot;|  *     *        |\\n&quot; +\n            &quot;|  *     ******   |\\n&quot; +\n            &quot;|     *           |\\n&quot; +\n            &quot;-------------------&quot;;\n</code></pre>\n<p>My goal is to break down the samplemap string, to transfer over the object locations such as K(0,4) *[(3,2),(3,3),(3,4),(6,1),(8,2),(9,2),(10,2),(11,2),(12,2),(13,2)] P(6,4) D(17,4)</p>\n<p>I have currently can get the RowNum and ColNum</p>\n<pre><code> int maxRow = samplemap.split(&quot;\\n&quot;).length - 2;\n int maxCol = samplemap.split(&quot;\\n&quot;)[0].length() - 2;\n</code></pre>\n<p>I pass these int to my FloorMap class to build the map and fill it with 0's. Later hopefully by somehow parsing the above I can set each object inside the FloorMap as a (x,y) cord and be represented by an ID (K = 1 , P = 2, * = 3 and D = 4).</p>\n<p>My current logic is this...</p>\n<pre><code>//Find &quot;*&quot; in the samplemap to pass to the constructor in floor class\n        // * - wall - 4\n        for(int i = 1; i &lt; maxRow; i++) {\n            for(int j = 1; j &lt; maxCol; j++) {\n                if(samplemap.split(&quot;\\n&quot;)[i].charAt(j) == '*') {\n                    floorMap.setWallLocation(i, j);\n                }\n            }\n        }\nOutput: \n0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \n0 0 0 4 0 0 0 0 0 4 0 0 0 0 0 0 0 \n0 0 0 4 0 0 0 0 0 4 0 0 0 0 0 0 0 \n0 0 0 4 0 0 0 0 0 4 4 4 4 4 4 0 0 \n</code></pre>\n<p>While we're here is there a way to assign a pointer (Facing up) for each K ( = 1) as in if moving through the int map in a way where only if facing forward I am able to move.\nex:\nK(0,4) Facing: UP\nTurn Right (Pointing towards wall) (Can't move forward)\nTurn Right (Pointing towards empty) (Can move forward)</p>\n<p>First time posting on here, any help and guidance is welcomed. Starting to get back into coding after 5 years of collage.</p>\n"},{"tags":["java","nio"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1329384394,"post_id":9300194,"comment_id":11741576,"body_markdown":"That code is only used by RMI. Somewhere you have an RMI service. A Registry for example?","body":"That code is only used by RMI. Somewhere you have an RMI service. A Registry for example?"},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1329468885,"post_id":9300194,"comment_id":11766331,"body_markdown":"No, nothing like it. It&#39;s all pure NIO code.\nI was able to track CPU use down to the `select(int timeout)` I&#39;m using, which returns `0` immediately, no matter what the timeout is! I&#39;ll develop that point in my upcoming edit.","body":"No, nothing like it. It&#39;s all pure NIO code. I was able to track CPU use down to the <code>select(int timeout)</code> I&#39;m using, which returns <code>0</code> immediately, no matter what the timeout is! I&#39;ll develop that point in my upcoming edit."}],"answers":[{"tags":[],"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1660101051,"creation_date":1329473366,"answer_id":9326318,"question_id":9300194,"body_markdown":"I tracked CPU use down to `select(int timeout)` which returns 0 immediately, regardless of the `timeout` value. My understanding of this function was it would block until a selected operation pops up, or timeout is reached (as said in the Javadoc).\r\n\r\nHowever, I found out [this other StackOverflow post][1] showing the same problem: `OP_CONNECT` operation **has to be cancelled** once connection is accepted.\r\n\r\nMany thanks to @Alexander, and @EJP for clarification about the `OP_WRITE`/`OP_CONNECT` similarities.\r\n\r\nRegarding tge RMI part, it was probably due to Eclipse run configurations.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/204186/java-nio-select-returns-without-selected-keys-why","title":"sun.rmi.transport.tcp.TCPTransport uses 100% CPU","body":"<p>I tracked CPU use down to <code>select(int timeout)</code> which returns 0 immediately, regardless of the <code>timeout</code> value. My understanding of this function was it would block until a selected operation pops up, or timeout is reached (as said in the Javadoc).</p>\n<p>However, I found out <a href=\"https://stackoverflow.com/questions/204186/java-nio-select-returns-without-selected-keys-why\">this other StackOverflow post</a> showing the same problem: <code>OP_CONNECT</code> operation <strong>has to be cancelled</strong> once connection is accepted.</p>\n<p>Many thanks to @Alexander, and @EJP for clarification about the <code>OP_WRITE</code>/<code>OP_CONNECT</code> similarities.</p>\n<p>Regarding tge RMI part, it was probably due to Eclipse run configurations.</p>\n"}],"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4692,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":9326318,"answer_count":1,"score":3,"last_activity_date":1660101051,"creation_date":1329335134,"question_id":9300194,"body_markdown":"I&#39;m developping a communication library based on NIO&#39;s non-blocking SocketChannels so I can use `select` to keep my thread low on CPU usage (and getting faster reaction time to other events).\r\n`SocketChannel` are created externally to my thread and added to the list it handles, marking them as non-blocking and adding them to a `Selector` for READ operations (and WRITE when needed, but that does not happen in my problem).\r\n\r\nI have a little Swing application for tests, running locally, that can be either a client or server: the client one connects to the server one and they can send each other messages. Pretty simple and works fine, excepts for the CPU which tops 100% (50% for each jvm) as soon as the connection is established between client and server.\r\n\r\nRunning `jvisualvm` shows me that `sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run()` uses 98% of the application time, counting only 3 method calls!&lt;br/&gt;\r\nA forced stack trace shows it&#39;s blocking on the `read` operation on a `FilteredInputStream`, on a `Socket`.\r\n\r\nI&#39;m a little puzzled as I don&#39;t use RMI (though I can understand NIO and RMI can share the &quot;transport&quot; code part). I have seen a few similar questions but each were specifically using RMI, which I&#39;m not. The answers I&#39;ve seen is that this `ConnectionHandler.run()` method is responsible for marshalling/unmarshalling things, when here I get 100% CPU without any network traffic. I can only infer an active wait on the sockets but that sounds odd, especially with non-blocking `SocketChannel`...\r\n\r\nAny idea would be greatly appreciated!","title":"sun.rmi.transport.tcp.TCPTransport uses 100% CPU","body":"<p>I'm developping a communication library based on NIO's non-blocking SocketChannels so I can use <code>select</code> to keep my thread low on CPU usage (and getting faster reaction time to other events).\n<code>SocketChannel</code> are created externally to my thread and added to the list it handles, marking them as non-blocking and adding them to a <code>Selector</code> for READ operations (and WRITE when needed, but that does not happen in my problem).</p>\n\n<p>I have a little Swing application for tests, running locally, that can be either a client or server: the client one connects to the server one and they can send each other messages. Pretty simple and works fine, excepts for the CPU which tops 100% (50% for each jvm) as soon as the connection is established between client and server.</p>\n\n<p>Running <code>jvisualvm</code> shows me that <code>sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run()</code> uses 98% of the application time, counting only 3 method calls!<br/>\nA forced stack trace shows it's blocking on the <code>read</code> operation on a <code>FilteredInputStream</code>, on a <code>Socket</code>.</p>\n\n<p>I'm a little puzzled as I don't use RMI (though I can understand NIO and RMI can share the \"transport\" code part). I have seen a few similar questions but each were specifically using RMI, which I'm not. The answers I've seen is that this <code>ConnectionHandler.run()</code> method is responsible for marshalling/unmarshalling things, when here I get 100% CPU without any network traffic. I can only infer an active wait on the sockets but that sounds odd, especially with non-blocking <code>SocketChannel</code>...</p>\n\n<p>Any idea would be greatly appreciated!</p>\n"},{"tags":["java","swing","logging","slf4j"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1660019774,"post_id":73286536,"comment_id":129427417,"body_markdown":"It is very unlikely that switching logging framework is causing all that, unless you made some very odd configuration. If you want help, include your logging settings","body":"It is very unlikely that switching logging framework is causing all that, unless you made some very odd configuration. If you want help, include your logging settings"},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1660020011,"post_id":73286536,"comment_id":129427455,"body_markdown":"@JustanotherJavaprogrammer I added the log4j2.xml to the question. Even I suspected the wierd patterns like %class{1.} which I was trying. However, even after removing log4j2 dependency, and nothing gets actually logged, still app is slow. Hence the suspicion of Slf4j&lt;-&gt;Swing&lt;-&gt;Java 1.8","body":"@JustanotherJavaprogrammer I added the log4j2.xml to the question. Even I suspected the wierd patterns like %class{1.} which I was trying. However, even after removing log4j2 dependency, and nothing gets actually logged, still app is slow. Hence the suspicion of Slf4j&lt;-&gt;Swing&lt;-&gt;Java 1.8"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660021017,"creation_date":1660021017,"answer_id":73286700,"question_id":73286536,"body_markdown":"So you&#39;re saying that the Mac Book Pro uses way too much CPU while running the application with logs. \r\n\r\nI don&#39;t think that adding slf4j/log4j2 alone causes the issues, so it has to do something with your configuration, maybe the configuration of logging appenders, patternts, etc. \r\n\r\nThe question if pretty general, so here are some ideas that might point in the right direction:\r\n1. Take thread dumps. You might see a lot of threads in the &quot;RUNNABLE&quot; state actually doing something\r\n2. This is a Swing application, so it should have a thread that paints everything and you should do heavy things in the thread that paints stuff (I&#39;m really rusty on Swing, but I still rememeber `invokeLater`/`invokeAndWait` APIs. So if you log something and do it wrong (excessive logging, some heavy calculations done when you create a message, a way-to-long string of `toString` in the object you want to log, etc.) This &quot;rendering&quot; Thread might become busy and the app will be become unresponsive / nothing will render. \r\n3. If you&#39;re using slf4j - you can try to configure it with &quot;no-op&quot; implementation (technically, add as a dependency to your build script) instead of actual implementation like log4j2, logback, etc. so that it won&#39;t log anything. Why this might be interesting? \r\nBecause if you&#39;re using some kind of a &quot;bad&quot; / &quot;slow&quot; appender implementation - it might this will actually turn it off. Then check the app again: If you see that the issue disappears - this is a wrongly configured appender, but if the app still freezes, this is not related to appenders but rather to some calculations that you do when you print the messages.\r\n4. Check the size of the log file and its content. If it grows way too fast - you might need to reduce your logging messages. Maybe set the default severity level to `WARN` at least.\r\n5. Try to run the app on another PC/Mac computer - maybe its an issue in your particular computer: stuff like antivirus that tracks the files of logs which are now created. \r\n \r\n\r\n","title":"Just adding SLF4J dependency made my Swing app dead slow. Where to start looking?","body":"<p>So you're saying that the Mac Book Pro uses way too much CPU while running the application with logs.</p>\n<p>I don't think that adding slf4j/log4j2 alone causes the issues, so it has to do something with your configuration, maybe the configuration of logging appenders, patternts, etc.</p>\n<p>The question if pretty general, so here are some ideas that might point in the right direction:</p>\n<ol>\n<li>Take thread dumps. You might see a lot of threads in the &quot;RUNNABLE&quot; state actually doing something</li>\n<li>This is a Swing application, so it should have a thread that paints everything and you should do heavy things in the thread that paints stuff (I'm really rusty on Swing, but I still rememeber <code>invokeLater</code>/<code>invokeAndWait</code> APIs. So if you log something and do it wrong (excessive logging, some heavy calculations done when you create a message, a way-to-long string of <code>toString</code> in the object you want to log, etc.) This &quot;rendering&quot; Thread might become busy and the app will be become unresponsive / nothing will render.</li>\n<li>If you're using slf4j - you can try to configure it with &quot;no-op&quot; implementation (technically, add as a dependency to your build script) instead of actual implementation like log4j2, logback, etc. so that it won't log anything. Why this might be interesting?\nBecause if you're using some kind of a &quot;bad&quot; / &quot;slow&quot; appender implementation - it might this will actually turn it off. Then check the app again: If you see that the issue disappears - this is a wrongly configured appender, but if the app still freezes, this is not related to appenders but rather to some calculations that you do when you print the messages.</li>\n<li>Check the size of the log file and its content. If it grows way too fast - you might need to reduce your logging messages. Maybe set the default severity level to <code>WARN</code> at least.</li>\n<li>Try to run the app on another PC/Mac computer - maybe its an issue in your particular computer: stuff like antivirus that tracks the files of logs which are now created.</li>\n</ol>\n"}],"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73286700,"answer_count":1,"score":0,"last_activity_date":1660100354,"creation_date":1660019125,"question_id":73286536,"body_markdown":"Just adding SLF4J dependency made my Swing app dead slow. \r\n\r\n**Before proper logging was implemented:**\r\n\r\nEarlier I was using java.util.Logger to output the logs, and some of them were even using System.out.println.\r\n\r\n**Getting Log4j2 / Slf4j setup**\r\n\r\nThen I added log4j2 maven dependencies and log4j2.xml in src/main/resources and then it was not picking up the settings as I was still writing to java.util.Logger.\r\n\r\nI found out that I have to get Logger from log4j LogManager, or to make it more configurable get a Logger from slf4j LoggerFactory so that client can plugin any Logger implementation later.\r\n\r\nSo, I started getting Logger from slf4j LoggerFactory and logging to it. With the log4j2 dependencies in place and log4j2.xml in resources folder, all is well, and only the packages which I want to set to DEBUG level are getting logged. \r\n\r\n**The performance issue **\r\n\r\nAll is well - except for performance! My app uses 125% CPU, and this causes Macbook Pro to start heating. MBP has an issue where once it starts heating kernel_task hits 500% CPU within couple of minutes.\r\n\r\nLong story short - once I fixed my logging, my app has become unusable.\r\n\r\n**Removed even log4j2 from classpath**\r\n\r\nNot only that, I even removed log4j2 dependencies, and it stopped logging. Slf4j alone remains and I am writing to the Logger which I get from slf4j LoggerFactory. Still my app hits 125% CPU and the MBP kernel_task does the rest to freeze the system.\r\n\r\nWhat could be the problem here? Memory leak in Slf4j? Does Java Swing write too much to Slf4j?\r\n\r\n**Sequence of trials I am planning next:**\r\n\r\n1. Upgrade slf4j to latest and greatest version (I can check which one works best with Java 1.8 which the app is using)\r\n2. Avoid slf4j and write directly to Log4j2\r\n3. Revert to java.util.Logger\r\n\r\n**Update:**\r\n\r\nThis was the log4j2.xml which I have. (But note: I removed log4j2 dependency and nothing is logged now.)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;warn&quot; name=&quot;tradez&quot; packages=&quot;&quot;&gt;\r\n    \t&lt;Appenders&gt;\r\n    \t\t&lt;Console name=&quot;app_stdout&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n        &lt;!--  PatternLayout pattern=&quot;%date{HH:mm:ss,SSS} %t %-5level %class{1.}:%method:: %message %n&quot; / --&gt;\r\n        &lt;PatternLayout pattern=&quot;%date %t %-5level %message %n&quot; /&gt;\r\n    \t\t&lt;/Console&gt;\r\n    \t&lt;/Appenders&gt;\r\n    \t&lt;Loggers&gt;\r\n    \t\t&lt;Logger name=&quot;net.progressit.tradez&quot; level=&quot;debug&quot;&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;app_stdout&quot; /&gt;\r\n    \t\t&lt;/Logger&gt;\r\n    \t\t&lt;Root level=&quot;info&quot;&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;app_stdout&quot; /&gt;\r\n    \t\t&lt;/Root&gt;\r\n    \t&lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n**Update 2:**\r\n\r\nFunnily I get this message from `Log4j2` even after I removed Log4j2 dependencies from Maven and cleaned the project. Maybe Slf4j sees my log4j2.xml still hanging around, and prints a customized message for Log4j2?\r\n\r\n`ERROR StatusLogger Log4j2 could not find a logging implementation`\r\n\r\n**Update 3:**\r\n\r\nUpdate 2 is misleading because this is the only logging related item I have in my pom.xml. So, I don&#39;t have pure slf4j but rather jog4j-slf4j-impl alone, which is why I get a specific error message.\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n**Update 4: Solved!**\r\n\r\nAs suggested by Mark Bramnik I got back to basics and used JVisualVM to debug the app performance.\r\n\r\nFound that there was always a thread doing re-layout of components continuously and usually terminating in getFontMetrics. It seems MigLayout layouting never stabilized, and kept relayouting continuously even with no changes to the UI by the program. \r\n\r\nSo, I just upgraded the dependency from MigLayout 5.2 (2018) to MigLayout 11 (2021/latest) and CPU dropped from 150% to 1.5%\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UvNvT.jpg","title":"Just adding SLF4J dependency made my Swing app dead slow. Where to start looking?","body":"<p>Just adding SLF4J dependency made my Swing app dead slow.</p>\n<p><strong>Before proper logging was implemented:</strong></p>\n<p>Earlier I was using java.util.Logger to output the logs, and some of them were even using System.out.println.</p>\n<p><strong>Getting Log4j2 / Slf4j setup</strong></p>\n<p>Then I added log4j2 maven dependencies and log4j2.xml in src/main/resources and then it was not picking up the settings as I was still writing to java.util.Logger.</p>\n<p>I found out that I have to get Logger from log4j LogManager, or to make it more configurable get a Logger from slf4j LoggerFactory so that client can plugin any Logger implementation later.</p>\n<p>So, I started getting Logger from slf4j LoggerFactory and logging to it. With the log4j2 dependencies in place and log4j2.xml in resources folder, all is well, and only the packages which I want to set to DEBUG level are getting logged.</p>\n<p>**The performance issue **</p>\n<p>All is well - except for performance! My app uses 125% CPU, and this causes Macbook Pro to start heating. MBP has an issue where once it starts heating kernel_task hits 500% CPU within couple of minutes.</p>\n<p>Long story short - once I fixed my logging, my app has become unusable.</p>\n<p><strong>Removed even log4j2 from classpath</strong></p>\n<p>Not only that, I even removed log4j2 dependencies, and it stopped logging. Slf4j alone remains and I am writing to the Logger which I get from slf4j LoggerFactory. Still my app hits 125% CPU and the MBP kernel_task does the rest to freeze the system.</p>\n<p>What could be the problem here? Memory leak in Slf4j? Does Java Swing write too much to Slf4j?</p>\n<p><strong>Sequence of trials I am planning next:</strong></p>\n<ol>\n<li>Upgrade slf4j to latest and greatest version (I can check which one works best with Java 1.8 which the app is using)</li>\n<li>Avoid slf4j and write directly to Log4j2</li>\n<li>Revert to java.util.Logger</li>\n</ol>\n<p><strong>Update:</strong></p>\n<p>This was the log4j2.xml which I have. (But note: I removed log4j2 dependency and nothing is logged now.)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;warn&quot; name=&quot;tradez&quot; packages=&quot;&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;app_stdout&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n    &lt;!--  PatternLayout pattern=&quot;%date{HH:mm:ss,SSS} %t %-5level %class{1.}:%method:: %message %n&quot; / --&gt;\n    &lt;PatternLayout pattern=&quot;%date %t %-5level %message %n&quot; /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;net.progressit.tradez&quot; level=&quot;debug&quot;&gt;\n            &lt;AppenderRef ref=&quot;app_stdout&quot; /&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;app_stdout&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p><strong>Update 2:</strong></p>\n<p>Funnily I get this message from <code>Log4j2</code> even after I removed Log4j2 dependencies from Maven and cleaned the project. Maybe Slf4j sees my log4j2.xml still hanging around, and prints a customized message for Log4j2?</p>\n<p><code>ERROR StatusLogger Log4j2 could not find a logging implementation</code></p>\n<p><strong>Update 3:</strong></p>\n<p>Update 2 is misleading because this is the only logging related item I have in my pom.xml. So, I don't have pure slf4j but rather jog4j-slf4j-impl alone, which is why I get a specific error message.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>Update 4: Solved!</strong></p>\n<p>As suggested by Mark Bramnik I got back to basics and used JVisualVM to debug the app performance.</p>\n<p>Found that there was always a thread doing re-layout of components continuously and usually terminating in getFontMetrics. It seems MigLayout layouting never stabilized, and kept relayouting continuously even with no changes to the UI by the program.</p>\n<p>So, I just upgraded the dependency from MigLayout 5.2 (2018) to MigLayout 11 (2021/latest) and CPU dropped from 150% to 1.5%</p>\n<p><a href=\"https://i.stack.imgur.com/UvNvT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UvNvT.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","netty","netty4"],"answers":[{"tags":[],"owner":{"account_id":6372433,"reputation":194,"user_id":4944495,"display_name":"Nikita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660099973,"creation_date":1660099626,"answer_id":73300077,"question_id":72376073,"body_markdown":"If I got you right you want to measure a network latency. If so, you could send timestamp from the client, receive it on the server and send back to the client. Once received, you could calculate the latency like `now() - receivedTimestamp` on the client side.\r\n\r\nI suppose that you use some POJO for the application data packets, so you can add kind of `LatencyMeasure` system packet which will holds `long timestamp` (which you could get with `System.currentTimeMillis()` or with some library like Guava&#39;s `Stopwatch`). And on client receive you can do smth like this: `long latency = System.currentTimeMillis() - latencyPacket.getTimestamp()`.","title":"How can I measure the time netty 4.1 needs to send some data?","body":"<p>If I got you right you want to measure a network latency. If so, you could send timestamp from the client, receive it on the server and send back to the client. Once received, you could calculate the latency like <code>now() - receivedTimestamp</code> on the client side.</p>\n<p>I suppose that you use some POJO for the application data packets, so you can add kind of <code>LatencyMeasure</code> system packet which will holds <code>long timestamp</code> (which you could get with <code>System.currentTimeMillis()</code> or with some library like Guava's <code>Stopwatch</code>). And on client receive you can do smth like this: <code>long latency = System.currentTimeMillis() - latencyPacket.getTimestamp()</code>.</p>\n"}],"owner":{"account_id":1595841,"reputation":3159,"user_id":1477992,"accept_rate":97,"display_name":"le_me"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660099973,"creation_date":1653475066,"question_id":72376073,"body_markdown":"I have a workload where I have a server and a client, both under my control. They communicate via a TCP connection using Netty 4.1. The state diagram looks like this:\r\n\r\n    Server              Client\r\n    \r\n    params = f();\r\n                   --&gt; \r\n                        res = compute(params);\r\n                   &lt;--\r\n    store(res);\r\n\r\nI want to measure the time they spend communicating via the network. This means I want the total runtime minus the runtimes of f, compute and res. But, in reality it&#39;s more complicated, so I can&#39;t measure all the other parts of my program reliably.\r\n\r\nCan I measure the time netty takes for the transfer? If yes, how so? ","title":"How can I measure the time netty 4.1 needs to send some data?","body":"<p>I have a workload where I have a server and a client, both under my control. They communicate via a TCP connection using Netty 4.1. The state diagram looks like this:</p>\n<pre><code>Server              Client\n\nparams = f();\n               --&gt; \n                    res = compute(params);\n               &lt;--\nstore(res);\n</code></pre>\n<p>I want to measure the time they spend communicating via the network. This means I want the total runtime minus the runtimes of f, compute and res. But, in reality it's more complicated, so I can't measure all the other parts of my program reliably.</p>\n<p>Can I measure the time netty takes for the transfer? If yes, how so?</p>\n"},{"tags":["java","docker","activemq"],"answers":[{"tags":[],"owner":{"account_id":2140858,"reputation":53,"user_id":1899526,"display_name":"HienNg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660099361,"creation_date":1660099124,"answer_id":73300036,"question_id":73298857,"body_markdown":"I found the problem was why I could not connect to the ActiveMQ, which running inside a container with Tomcat from another Tomcat outside on the local machine.\r\n\r\nI modified the docker run as below\r\n\r\n    docker run -it -p 8089:8080 -p 7777:7777 --name my-broker my-broker\r\n\r\nThe JMS_HOST is not important in my case, it can be &#39;localhost&#39; or &#39;0.0.0.0&#39;\r\n\r\n","title":"How to connect to an activemq broker which is running inside a docker container from outside the host (same network) [Windows]","body":"<p>I found the problem was why I could not connect to the ActiveMQ, which running inside a container with Tomcat from another Tomcat outside on the local machine.</p>\n<p>I modified the docker run as below</p>\n<pre><code>docker run -it -p 8089:8080 -p 7777:7777 --name my-broker my-broker\n</code></pre>\n<p>The JMS_HOST is not important in my case, it can be 'localhost' or '0.0.0.0'</p>\n"}],"owner":{"account_id":2140858,"reputation":53,"user_id":1899526,"display_name":"HienNg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660099361,"creation_date":1660085109,"question_id":73298857,"body_markdown":"I created an embedded ActiveMQ, and I could start it inside a Tomcat and connect successfully to the broker on my localhost without docker.\r\n\r\n    broker.addConnector(&quot;tcp://&quot; +  System.getProperty(&quot;JMS_HOST&quot;) + &quot;:&quot; + System.getProperty(JMS_PORT));\r\n\r\n&gt; ActiveMQ JMS Message Broker (My-Broker-7777, ID:My-PC-64834-1660051787310-0:0) started \r\n\r\nThen I used this embedded ActiveMQ inside a docker container with Tomcat and started successfully.\r\n\r\n&gt; ActiveMQ JMS Message Broker (My-Broker-7777, ID:d2051a39295f-41549-1660080225701-0:0) started \r\n\r\nI connected to the ActiveMQ inside the container and got the error.\r\n\r\n&gt; javax.jms.JMSException: Could not connect to broker URL: tcp://0.0.0.0:7777. Reason: java.net.ConnectException: Connection refused.\r\n\r\nMy Dokerfile\r\n\r\n    FROM tomcat:9-jre8\r\n    RUN rm -rf /usr/local/tomcat/webapps/*\r\n    RUN mv /usr/local/tomcat/webapps.dist/* /usr/local/tomcat/webapps\r\n    COPY ./tomcat/tomcat-users.xml  /usr/local/tomcat/conf\r\n    COPY ./tomcat/context.xml  /usr/local/tomcat/webapps/manager/META-INF\r\n    COPY ./dist/my-broker-1.0.war  /usr/local/tomcat/webapps\r\n    ENV JPDA_ADDRESS=0.0.0.0:8000\r\n    ENV JPDA_TRANSPORT=dt_socket\r\n    EXPOSE 8080\r\n    EXPOSE 7777\r\n    ENV JAVA_OPTS=&quot;-DJMS_PORT=7777 -DJMS_HOST=0.0.0.0&quot;\r\n    CMD [&quot;catalina.sh&quot;, &quot;jpda&quot;, &quot;run&quot;]\r\n\r\n    docker run -it -p 8089:8080 --name my-broker my-broker\r\n\r\nI could access the Tomcat manager via localhost:8089\r\n\r\nI have tried to change JMS_HOST to &#39;localhost&#39; or remove JMS_HOST property inside the container, but the error is the same.\r\n\r\nBelow is the code I used to connect to the ActiveMQ from another tomcat on my local machine. I also tried to set JMS_HOST of this Tomcat as &#39;localhost&#39; or &#39;0.0.0.0&#39;\r\n\r\n    &lt;bean id=&quot;connectionFactory&quot; class=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;&gt;\r\n        &lt;property name=&quot;brokerURL&quot; value=&quot;tcp://${JMS_HOST}:${JMS_PORT}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nIs my approach correct? I am not sure my technique is allowed in the docker world.\r\nThank you for your attention.\r\n","title":"How to connect to an activemq broker which is running inside a docker container from outside the host (same network) [Windows]","body":"<p>I created an embedded ActiveMQ, and I could start it inside a Tomcat and connect successfully to the broker on my localhost without docker.</p>\n<pre><code>broker.addConnector(&quot;tcp://&quot; +  System.getProperty(&quot;JMS_HOST&quot;) + &quot;:&quot; + System.getProperty(JMS_PORT));\n</code></pre>\n<blockquote>\n<p>ActiveMQ JMS Message Broker (My-Broker-7777, ID:My-PC-64834-1660051787310-0:0) started</p>\n</blockquote>\n<p>Then I used this embedded ActiveMQ inside a docker container with Tomcat and started successfully.</p>\n<blockquote>\n<p>ActiveMQ JMS Message Broker (My-Broker-7777, ID:d2051a39295f-41549-1660080225701-0:0) started</p>\n</blockquote>\n<p>I connected to the ActiveMQ inside the container and got the error.</p>\n<blockquote>\n<p>javax.jms.JMSException: Could not connect to broker URL: tcp://0.0.0.0:7777. Reason: java.net.ConnectException: Connection refused.</p>\n</blockquote>\n<p>My Dokerfile</p>\n<pre><code>FROM tomcat:9-jre8\nRUN rm -rf /usr/local/tomcat/webapps/*\nRUN mv /usr/local/tomcat/webapps.dist/* /usr/local/tomcat/webapps\nCOPY ./tomcat/tomcat-users.xml  /usr/local/tomcat/conf\nCOPY ./tomcat/context.xml  /usr/local/tomcat/webapps/manager/META-INF\nCOPY ./dist/my-broker-1.0.war  /usr/local/tomcat/webapps\nENV JPDA_ADDRESS=0.0.0.0:8000\nENV JPDA_TRANSPORT=dt_socket\nEXPOSE 8080\nEXPOSE 7777\nENV JAVA_OPTS=&quot;-DJMS_PORT=7777 -DJMS_HOST=0.0.0.0&quot;\nCMD [&quot;catalina.sh&quot;, &quot;jpda&quot;, &quot;run&quot;]\n\ndocker run -it -p 8089:8080 --name my-broker my-broker\n</code></pre>\n<p>I could access the Tomcat manager via localhost:8089</p>\n<p>I have tried to change JMS_HOST to 'localhost' or remove JMS_HOST property inside the container, but the error is the same.</p>\n<p>Below is the code I used to connect to the ActiveMQ from another tomcat on my local machine. I also tried to set JMS_HOST of this Tomcat as 'localhost' or '0.0.0.0'</p>\n<pre><code>&lt;bean id=&quot;connectionFactory&quot; class=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;&gt;\n    &lt;property name=&quot;brokerURL&quot; value=&quot;tcp://${JMS_HOST}:${JMS_PORT}&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Is my approach correct? I am not sure my technique is allowed in the docker world.\nThank you for your attention.</p>\n"},{"tags":["java","android","onclick","textview"],"comments":[{"owner":{"account_id":1133173,"reputation":3334,"user_id":1118772,"accept_rate":60,"display_name":"Noundla Sandeep"},"score":0,"creation_date":1368385060,"post_id":16510940,"comment_id":23703659,"body_markdown":"Can you post your layout file?","body":"Can you post your layout file?"},{"owner":{"account_id":1776955,"reputation":787,"user_id":1620562,"accept_rate":57,"display_name":"skandigraun"},"score":0,"creation_date":1368385538,"post_id":16510940,"comment_id":23703784,"body_markdown":"Sure, here you go, in the updated question.","body":"Sure, here you go, in the updated question."},{"owner":{"account_id":1133173,"reputation":3334,"user_id":1118772,"accept_rate":60,"display_name":"Noundla Sandeep"},"score":0,"creation_date":1368385784,"post_id":16510940,"comment_id":23703856,"body_markdown":"change this to true... android:textIsSelectable=&quot;true&quot;","body":"change this to true... android:textIsSelectable=&quot;true&quot;"},{"owner":{"account_id":1133173,"reputation":3334,"user_id":1118772,"accept_rate":60,"display_name":"Noundla Sandeep"},"score":0,"creation_date":1368385884,"post_id":16510940,"comment_id":23703878,"body_markdown":"You can get the answer from this link. http://stackoverflow.com/questions/5183645/android-clickablespan-in-clickable-textview?rq=1\r\nTry it.","body":"You can get the answer from this link. <a href=\"http://stackoverflow.com/questions/5183645/android-clickablespan-in-clickable-textview?rq=1\" title=\"android clickablespan in clickable textview\">stackoverflow.com/questions/5183645/&hellip;</a>  Try it."},{"owner":{"account_id":2641720,"reputation":5245,"user_id":2285214,"accept_rate":67,"display_name":"tbkn23"},"score":0,"creation_date":1368386213,"post_id":16510940,"comment_id":23703959,"body_markdown":"Why complicate things? what&#39;s wrong with multiple textviews?","body":"Why complicate things? what&#39;s wrong with multiple textviews?"},{"owner":{"account_id":1776955,"reputation":787,"user_id":1620562,"accept_rate":57,"display_name":"skandigraun"},"score":0,"creation_date":1368386737,"post_id":16510940,"comment_id":23704080,"body_markdown":"It is going to be a kind of schedule app for public transportation. On this layout the whole schedule is displayed. If there are any exceptions (like a bus goes only to xx stop insteas of the terminal) I would like to make it clickable, showing this information. I belive using a separate textview for each starting bus would be more complicated (although i am not 100% sure... might give it a try).","body":"It is going to be a kind of schedule app for public transportation. On this layout the whole schedule is displayed. If there are any exceptions (like a bus goes only to xx stop insteas of the terminal) I would like to make it clickable, showing this information. I belive using a separate textview for each starting bus would be more complicated (although i am not 100% sure... might give it a try)."},{"owner":{"account_id":1776955,"reputation":787,"user_id":1620562,"accept_rate":57,"display_name":"skandigraun"},"score":0,"creation_date":1368386834,"post_id":16510940,"comment_id":23704104,"body_markdown":"Posted too early: Imagine it like a real schedule: on the left you can see the hour and in the right cloumn you can see the minutes. If the bus starting at 15:45 is a special bus, the word &#39;45&#39; will be clickable (at least this is what I would like) showing this information.","body":"Posted too early: Imagine it like a real schedule: on the left you can see the hour and in the right cloumn you can see the minutes. If the bus starting at 15:45 is a special bus, the word &#39;45&#39; will be clickable (at least this is what I would like) showing this information."},{"owner":{"account_id":1776955,"reputation":787,"user_id":1620562,"accept_rate":57,"display_name":"skandigraun"},"score":0,"creation_date":1368386853,"post_id":16510940,"comment_id":23704111,"body_markdown":"At this moment I am trying noundla&#39;s answer.","body":"At this moment I am trying noundla&#39;s answer."},{"owner":{"account_id":1776955,"reputation":787,"user_id":1620562,"accept_rate":57,"display_name":"skandigraun"},"score":0,"creation_date":1368466268,"post_id":16510940,"comment_id":23733491,"body_markdown":"Unfortunately it did not work out. But finally I have solved the problem on another way: I used a webview (i have generated the html content to display) and have overriden the shouldOverrideUrlLoading method to show the message instead of following the link. (I have set the text to display as the URL - clicking on the link it is displayed) Anyway, thanks for the answers!","body":"Unfortunately it did not work out. But finally I have solved the problem on another way: I used a webview (i have generated the html content to display) and have overriden the shouldOverrideUrlLoading method to show the message instead of following the link. (I have set the text to display as the URL - clicking on the link it is displayed) Anyway, thanks for the answers!"}],"answers":[{"tags":[],"owner":{"account_id":2744414,"reputation":1012,"user_id":2365124,"accept_rate":71,"display_name":"Manian Rezaee"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1401730083,"creation_date":1401730083,"answer_id":24000092,"question_id":16510940,"body_markdown":"as i understand you want to make multiple part of textview clickable.\r\n\r\nthis code worked for me! \r\n\r\n    SpannableString ss = new SpannableString(&quot;this is a text&quot;);\r\n    ss.setSpan(new myClickableSpan(1),0, 4, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n    ss.setSpan(new myClickableSpan(2),5, 7, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n    ss.setSpan(new myClickableSpan(3),8, 10, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n\r\n    mTextView.setText(ss);\r\n    mTextView.setMovementMethod(LinkMovementMethod.getInstance());\r\n\r\njust make custom ClickableSpan to handle the click event\r\n\r\n    public class myClickableSpan extends ClickableSpan{\r\n\r\n    \tint pos;\r\n    \tpublic myClickableSpan(int position){\r\n    \t\tthis.pos=position;\r\n    \t}\r\n    \t\r\n\t\t@Override\r\n\t\tpublic void onClick(View widget) {\r\n\t\t\tToast.makeText(getApplicationContext(), &quot;Position &quot;  + pos + &quot; clicked!&quot;, Toast.LENGTH_LONG).show();\r\n\t\t}\r\n    \t\r\n    }\r\n      ","title":"Android Multiple clickable strings in textview","body":"<p>as i understand you want to make multiple part of textview clickable.</p>\n\n<p>this code worked for me! </p>\n\n<pre><code>SpannableString ss = new SpannableString(\"this is a text\");\nss.setSpan(new myClickableSpan(1),0, 4, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\nss.setSpan(new myClickableSpan(2),5, 7, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\nss.setSpan(new myClickableSpan(3),8, 10, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n\nmTextView.setText(ss);\nmTextView.setMovementMethod(LinkMovementMethod.getInstance());\n</code></pre>\n\n<p>just make custom ClickableSpan to handle the click event</p>\n\n<pre><code>public class myClickableSpan extends ClickableSpan{\n\n    int pos;\n    public myClickableSpan(int position){\n        this.pos=position;\n    }\n\n    @Override\n    public void onClick(View widget) {\n        Toast.makeText(getApplicationContext(), \"Position \"  + pos + \" clicked!\", Toast.LENGTH_LONG).show();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14718183,"reputation":1354,"user_id":10629573,"display_name":"Liong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660099176,"creation_date":1660099176,"answer_id":73300041,"question_id":16510940,"body_markdown":"it&#39;s rather old, but I just encounter this situation too.\r\n\r\nFor me I use difference clickable span for two or more clickable text in Text View. So to saving time I declare it by using List in Kotlin.\r\n\r\nHere is the code.\r\n\r\n```kotlin\r\nval listClickSpan = List&lt;ClickableSpan&gt;(2) {\r\n\tobject : ClickableSpan() {\r\n\t\toverride fun onClick(widget: View) {\r\n\t\t\tstartActivity(Intent(mContext, SomeActivity::class.java))\r\n\t\t}\r\n\r\n\t\toverride fun updateDrawState(ds: TextPaint) {\r\n\t\t\tsuper.updateDrawState(ds)\r\n\t\t\tds.isUnderlineText = false\r\n\t\t\tds.color = ContextCompat.getColor(mContext, R.color.dark_blue)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nval font = ResourcesCompat.getFont(mContext, R.font.roboto_bold)\r\nSpannableString(mContext.getString(R.string.multiple_text)).apply {\r\n\tif (font != null)\r\n\t\tsetSpan(\r\n\t\t\tCustomTypefaceSpan(font), 67, 83, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\r\n\t\t)\r\n\tsetSpan(listClickSpan[0], 67, 83, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\r\n\tif (font != null)\r\n\t\tsetSpan(\r\n\t\t\tCustomTypefaceSpan(font), 88, 105, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\r\n\t\t)\r\n\tsetSpan(listClickSpan[1], 88, 105, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\r\n\tbind.tvLink.setText(this, TextView.BufferType.SPANNABLE)\r\n\tbind.tvLink.movementMethod = LinkMovementMethod.getInstance()\r\n\tbind.tvLink.linksClickable = true\r\n}\r\n```\r\n\r\nHope it will help you","title":"Android Multiple clickable strings in textview","body":"<p>it's rather old, but I just encounter this situation too.</p>\n<p>For me I use difference clickable span for two or more clickable text in Text View. So to saving time I declare it by using List in Kotlin.</p>\n<p>Here is the code.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val listClickSpan = List&lt;ClickableSpan&gt;(2) {\n    object : ClickableSpan() {\n        override fun onClick(widget: View) {\n            startActivity(Intent(mContext, SomeActivity::class.java))\n        }\n\n        override fun updateDrawState(ds: TextPaint) {\n            super.updateDrawState(ds)\n            ds.isUnderlineText = false\n            ds.color = ContextCompat.getColor(mContext, R.color.dark_blue)\n        }\n    }\n}\n\nval font = ResourcesCompat.getFont(mContext, R.font.roboto_bold)\nSpannableString(mContext.getString(R.string.multiple_text)).apply {\n    if (font != null)\n        setSpan(\n            CustomTypefaceSpan(font), 67, 83, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\n        )\n    setSpan(listClickSpan[0], 67, 83, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\n    if (font != null)\n        setSpan(\n            CustomTypefaceSpan(font), 88, 105, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\n        )\n    setSpan(listClickSpan[1], 88, 105, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\n    bind.tvLink.setText(this, TextView.BufferType.SPANNABLE)\n    bind.tvLink.movementMethod = LinkMovementMethod.getInstance()\n    bind.tvLink.linksClickable = true\n}\n</code></pre>\n<p>Hope it will help you</p>\n"}],"owner":{"account_id":1776955,"reputation":787,"user_id":1620562,"accept_rate":57,"display_name":"skandigraun"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6987,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1660099176,"creation_date":1368384974,"question_id":16510940,"body_markdown":"I am creating a small Android app. I would like to display a text in a textview with multiple parts to click on. (Each should show some different message)\r\n\r\nFinally I managed to find out how to display mutiple spans in one textview, however unfortunately the onClick methods don&#39;t work. Simply nothing happens, not even a logcat line.\r\n\r\nI have something like this:\r\n\r\n    SpannableStringBuilder ssb=new SpannableStringBuilder();\r\n    ssb.append(&quot;first  second&quot;)\r\n\r\n    ssb.setSpan(new ClickableSpan() {\r\n    \t@Override\r\n    \tpublic void onClick(View v) {\r\n    \t//Eredmeny2.this is just the context, name of the whole class\r\n    \tToast.makeText(Eredmeny2.this, &quot;first&quot;, Toast.LENGTH_LONG).show();\r\n    \t}\r\n    }, 1, 3, 0);\r\n\r\n    ssb.setSpan(new ClickableSpan() {\r\n    \t@Override\r\n    \tpublic void onClick(View v) {\r\n    \tToast.makeText(Eredmeny2.this, &quot;second&quot;, Toast.LENGTH_LONG).show();\r\n    \t}\r\n    }, 7, 10, 0);\r\n    \r\n    TextView t1=new TextView(this);\r\n    t1.setText(ssb);\r\n    ...\r\n\r\nThe text is underlined fine, but nothing happens when i click them.\r\nIt is a part of a TableView, although I do not think this is relevant. Do you have any ideas why it does not do anything? What do I miss? Or should I do it on some totally different way?\r\n\r\nThanks in advance.\r\n\r\n-------\r\n\r\nThe layout file this part would use is the following:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;fill_parent&quot;\r\n    android:layout_height=&quot;fill_parent&quot;\r\n        android:id=&quot;@+id/ScrollView01&quot;\r\n        android:background=&quot;#FF0000&quot;&gt;\r\n        \r\n        \r\n        &lt;TableLayout\r\n            android:id=&quot;@+id/TableLayout01&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:stretchColumns=&quot;0&quot;\r\n            android:showDividers=&quot;middle&quot;\r\n            android:padding=&quot;3dp&quot;&gt;\r\n        &lt;TableRow\r\n            android:id=&quot;@+id/TableRow01&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/TextView01&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginRight=&quot;3dp&quot;\r\n                android:background=&quot;#000000&quot;\r\n                android:textColor=&quot;#FFFFFF&quot;\r\n                android:padding=&quot;6dp&quot;\r\n                android:text=&quot;Hour&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot; &gt;\r\n                \r\n            &lt;/TextView&gt;\r\n            &lt;TextView android:id=&quot;@+id/TextView02&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:text=&quot;Minute&quot;\r\n                android:padding=&quot;6dp&quot;\r\n                android:textColor=&quot;#FFFFFF&quot;\r\n                android:background=&quot;#000000&quot;&gt;\r\n            &lt;/TextView&gt;\r\n        \r\n        &lt;/TableRow&gt;\r\n            \r\n        &lt;/TableLayout&gt;\r\n        \r\n        \r\n    &lt;/ScrollView&gt;\r\n\r\nAnd the TextView layout that the TextView uses directly is the following:\r\n\r\n    &lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:id=&quot;@+id/tv&quot; \r\n    android:layout_width=&quot;fill_parent&quot; \r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:padding=&quot;10dp&quot;\r\n    android:textSize=&quot;16sp&quot;\r\n    android:background=&quot;#000000&quot;\r\n    android:textIsSelectable=&quot;false&quot;\r\n    android:textColor=&quot;#FFFFFF&quot;&gt;\r\n    &lt;/TextView&gt;","title":"Android Multiple clickable strings in textview","body":"<p>I am creating a small Android app. I would like to display a text in a textview with multiple parts to click on. (Each should show some different message)</p>\n\n<p>Finally I managed to find out how to display mutiple spans in one textview, however unfortunately the onClick methods don't work. Simply nothing happens, not even a logcat line.</p>\n\n<p>I have something like this:</p>\n\n<pre><code>SpannableStringBuilder ssb=new SpannableStringBuilder();\nssb.append(\"first  second\")\n\nssb.setSpan(new ClickableSpan() {\n    @Override\n    public void onClick(View v) {\n    //Eredmeny2.this is just the context, name of the whole class\n    Toast.makeText(Eredmeny2.this, \"first\", Toast.LENGTH_LONG).show();\n    }\n}, 1, 3, 0);\n\nssb.setSpan(new ClickableSpan() {\n    @Override\n    public void onClick(View v) {\n    Toast.makeText(Eredmeny2.this, \"second\", Toast.LENGTH_LONG).show();\n    }\n}, 7, 10, 0);\n\nTextView t1=new TextView(this);\nt1.setText(ssb);\n...\n</code></pre>\n\n<p>The text is underlined fine, but nothing happens when i click them.\nIt is a part of a TableView, although I do not think this is relevant. Do you have any ideas why it does not do anything? What do I miss? Or should I do it on some totally different way?</p>\n\n<p>Thanks in advance.</p>\n\n<hr>\n\n<p>The layout file this part would use is the following:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:orientation=\"vertical\"\nandroid:layout_width=\"fill_parent\"\nandroid:layout_height=\"fill_parent\"\n    android:id=\"@+id/ScrollView01\"\n    android:background=\"#FF0000\"&gt;\n\n\n    &lt;TableLayout\n        android:id=\"@+id/TableLayout01\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:stretchColumns=\"0\"\n        android:showDividers=\"middle\"\n        android:padding=\"3dp\"&gt;\n    &lt;TableRow\n        android:id=\"@+id/TableRow01\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/TextView01\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginRight=\"3dp\"\n            android:background=\"#000000\"\n            android:textColor=\"#FFFFFF\"\n            android:padding=\"6dp\"\n            android:text=\"Hour\"\n            android:textSize=\"20sp\"\n            android:textStyle=\"bold\" &gt;\n\n        &lt;/TextView&gt;\n        &lt;TextView android:id=\"@+id/TextView02\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:textSize=\"20sp\"\n            android:textStyle=\"bold\"\n            android:text=\"Minute\"\n            android:padding=\"6dp\"\n            android:textColor=\"#FFFFFF\"\n            android:background=\"#000000\"&gt;\n        &lt;/TextView&gt;\n\n    &lt;/TableRow&gt;\n\n    &lt;/TableLayout&gt;\n\n\n&lt;/ScrollView&gt;\n</code></pre>\n\n<p>And the TextView layout that the TextView uses directly is the following:</p>\n\n<pre><code>&lt;TextView xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:id=\"@+id/tv\" \nandroid:layout_width=\"fill_parent\" \nandroid:layout_height=\"wrap_content\"\nandroid:padding=\"10dp\"\nandroid:textSize=\"16sp\"\nandroid:background=\"#000000\"\nandroid:textIsSelectable=\"false\"\nandroid:textColor=\"#FFFFFF\"&gt;\n&lt;/TextView&gt;\n</code></pre>\n"},{"tags":["java","spring","inheritance","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":12142871,"reputation":97,"user_id":8866086,"display_name":"sjy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660098998,"creation_date":1660098998,"answer_id":73300023,"question_id":73299832,"body_markdown":"The below example works . you have any error when you tried.\r\n\r\n\r\nsuper writer class  \r\n  \r\n\r\n    @Slf4j\r\n        public abstract class GenericWriter implements ItemWrite&lt;String&gt;{\r\n        public abstract String jobName();\r\n        @Overrride\r\n        public void write(List&lt;? extends String&gt; list) throws Exception{\r\n        log.info(&quot;job name {}&quot;, jobName());\r\n        }\r\n        }\r\n\r\nextending GenericWriter\r\n\r\n    public class Writer1 extends GenericWriter{\r\n    @Override\r\n    public String jobName(){\r\n    return &quot;Writer 1&quot;;\r\n    }\r\n    }\r\n","title":"Spring Batch: Using a superclass as the writer step","body":"<p>The below example works . you have any error when you tried.</p>\n<p>super writer class</p>\n<pre><code>@Slf4j\n    public abstract class GenericWriter implements ItemWrite&lt;String&gt;{\n    public abstract String jobName();\n    @Overrride\n    public void write(List&lt;? extends String&gt; list) throws Exception{\n    log.info(&quot;job name {}&quot;, jobName());\n    }\n    }\n</code></pre>\n<p>extending GenericWriter</p>\n<pre><code>public class Writer1 extends GenericWriter{\n@Override\npublic String jobName(){\nreturn &quot;Writer 1&quot;;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":19648643,"reputation":9,"user_id":14383031,"display_name":"shoaib-jpeg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660098998,"creation_date":1660096508,"question_id":73299832,"body_markdown":"I have a spring batch app that has two separate jobs. They use two different readers, but the processor and the writer are practically the same. The only difference in the writers is that they each should have a property named jobName which holds a different value for each writer. To implement this, I tried using a writer superclass. Is there a way to implement this? How do I call the writers in the config class? What should the class should signature look like for the writers? Since the write() method will be exactly the same for the two writer subclasses, should they be implemented in the superclass or the subclasses?\r\n\r\nJob 1\r\n\r\n    public class JobConfig1{\r\n      // ...\r\n\r\n      @Bean\r\n      public Step jobStep(SynchronizedItemStreamReader&lt;InputObj1&gt; someReader1,\r\n          ItemWriter someWriter1) {\r\n        return stepBuilderFactory\r\n        .get(&quot;writeAdvantageStep&quot;)\r\n        .chunk(writeChunkSize)\r\n        .reader(someReader1)\r\n        .writer(someWriter1) //value of this writer is equal to someWriter1()\r\n        .processor(new SomeProcessor())\r\n        .faultTolerant()\r\n        .build();\r\n      }\r\n\r\n      // reader step ...\r\n     \r\n      // processor step ...\r\n\r\n      // writer step\r\n      // somehow class one of the writer classes (I&#39;ll call it SomeWriter1)\r\n    }\r\n\r\nJob 2\r\n\r\n    public class JobConfig2{\r\n      // ...\r\n\r\n      @Bean\r\n      public Step jobStep(SynchronizedItemStreamReader&lt;InputObj1&gt; someReader2,\r\n          ItemWriter someWriter2) {\r\n        return stepBuilderFactory\r\n        .get(&quot;writeAdvantageStep&quot;)\r\n        .chunk(writeChunkSize)\r\n        .reader(someReader2)\r\n        .writer(someWriter2) //value of this writer is equal to someWriter2()\r\n        .processor(new SomeProcessor())\r\n        .faultTolerant()\r\n        .build();\r\n      }\r\n\r\n      // reader step ...\r\n     \r\n      // processor step ...\r\n\r\n       // writer step\r\n      // somehow class one of the writer classes (I&#39;ll call it SomeWriter2)\r\n    }\r\n\r\nWriter 1:\r\n\r\n    public class SomeWriter1 extends SomeWriter {\r\n      private String jobName = &quot;NIGHTLY&quot;\r\n    }\r\n\r\nWriter 2:\r\n    \r\n    public class SomeWriter2 extends SomeWriter {\r\n      private String jobName = &quot;INTRADAY&quot;\r\n    }\r\n\r\nWriter superclass:\r\n\r\n    //should this class contain the code to write to the destination of the job?\r\n    public class SomeWriter implements ItemWriter&lt;DTOObject&gt;{\r\n        @Override public void write(List&lt;? extends DTOObject&gt; item) throws Exception {\r\n          //do something that involves the jobName property\r\n        }\r\n    }\r\n\r\nThanks in advance!","title":"Spring Batch: Using a superclass as the writer step","body":"<p>I have a spring batch app that has two separate jobs. They use two different readers, but the processor and the writer are practically the same. The only difference in the writers is that they each should have a property named jobName which holds a different value for each writer. To implement this, I tried using a writer superclass. Is there a way to implement this? How do I call the writers in the config class? What should the class should signature look like for the writers? Since the write() method will be exactly the same for the two writer subclasses, should they be implemented in the superclass or the subclasses?</p>\n<p>Job 1</p>\n<pre><code>public class JobConfig1{\n  // ...\n\n  @Bean\n  public Step jobStep(SynchronizedItemStreamReader&lt;InputObj1&gt; someReader1,\n      ItemWriter someWriter1) {\n    return stepBuilderFactory\n    .get(&quot;writeAdvantageStep&quot;)\n    .chunk(writeChunkSize)\n    .reader(someReader1)\n    .writer(someWriter1) //value of this writer is equal to someWriter1()\n    .processor(new SomeProcessor())\n    .faultTolerant()\n    .build();\n  }\n\n  // reader step ...\n \n  // processor step ...\n\n  // writer step\n  // somehow class one of the writer classes (I'll call it SomeWriter1)\n}\n</code></pre>\n<p>Job 2</p>\n<pre><code>public class JobConfig2{\n  // ...\n\n  @Bean\n  public Step jobStep(SynchronizedItemStreamReader&lt;InputObj1&gt; someReader2,\n      ItemWriter someWriter2) {\n    return stepBuilderFactory\n    .get(&quot;writeAdvantageStep&quot;)\n    .chunk(writeChunkSize)\n    .reader(someReader2)\n    .writer(someWriter2) //value of this writer is equal to someWriter2()\n    .processor(new SomeProcessor())\n    .faultTolerant()\n    .build();\n  }\n\n  // reader step ...\n \n  // processor step ...\n\n   // writer step\n  // somehow class one of the writer classes (I'll call it SomeWriter2)\n}\n</code></pre>\n<p>Writer 1:</p>\n<pre><code>public class SomeWriter1 extends SomeWriter {\n  private String jobName = &quot;NIGHTLY&quot;\n}\n</code></pre>\n<p>Writer 2:</p>\n<pre><code>public class SomeWriter2 extends SomeWriter {\n  private String jobName = &quot;INTRADAY&quot;\n}\n</code></pre>\n<p>Writer superclass:</p>\n<pre><code>//should this class contain the code to write to the destination of the job?\npublic class SomeWriter implements ItemWriter&lt;DTOObject&gt;{\n    @Override public void write(List&lt;? extends DTOObject&gt; item) throws Exception {\n      //do something that involves the jobName property\n    }\n}\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1660099844,"post_id":73300009,"comment_id":129450518,"body_markdown":"Your classpath is incorrect.  Assuming that `HelloWorld.class` is in the current directory, try this:  `java -Xdiag -cp .:groovy-2.4.21/embeddable/groovy-all-2.4.21.jar HelloWorld`","body":"Your classpath is incorrect.  Assuming that <code>HelloWorld.class</code> is in the current directory, try this:  <code>java -Xdiag -cp .:groovy-2.4.21&#47;embeddable&#47;groovy-all-2.4.21.jar HelloWorld</code>"},{"owner":{"account_id":26024347,"reputation":1,"user_id":19731500,"display_name":"small dragon"},"score":0,"creation_date":1660705564,"post_id":73300009,"comment_id":129593239,"body_markdown":"The right to perform , thanks very much!","body":"The right to perform , thanks very much!"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1660707115,"post_id":73300009,"comment_id":129593451,"body_markdown":"Cool.  Now I suggest you read through the Java documentation on the classpath (e.g. in `man java`) to understand your mistake.  It is important that any dev using Java should understand how the classpath works, and the correct way(s) to set it.","body":"Cool.  Now I suggest you read through the Java documentation on the classpath (e.g. in <code>man java</code>) to understand your mistake.  It is important that any dev using Java should understand how the classpath works, and the correct way(s) to set it."},{"owner":{"account_id":26024347,"reputation":1,"user_id":19731500,"display_name":"small dragon"},"score":0,"creation_date":1660897526,"post_id":73300009,"comment_id":129646804,"body_markdown":"you are right !  I before set CLASSPATH in /etc/profile , It contains current dir. but java -cp  make CLASSPATH  disabled , I do not understand Java documentation on the classpath","body":"you are right !  I before set CLASSPATH in /etc/profile , It contains current dir. but java -cp  make CLASSPATH  disabled , I do not understand Java documentation on the classpath"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1660906747,"post_id":73300009,"comment_id":129649804,"body_markdown":"Keep reading.  The documentation *explains* that `-cp` takes precedence over the `CLASSPATH` variable.","body":"Keep reading.  The documentation <i>explains</i> that <code>-cp</code> takes precedence over the <code>CLASSPATH</code> variable."}],"owner":{"account_id":26024347,"reputation":1,"user_id":19731500,"display_name":"small dragon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660098809,"creation_date":1660098809,"question_id":73300009,"body_markdown":"I am learning a groovy HelloWorld\r\n\r\nthis is HelloWorld.groovy\r\n```\r\nprintln &quot;Hello, World&quot;\r\n```\r\n\r\ngroovyc HelloWorld.groovy\r\n\r\ngenerate HelloWorld.class\r\n\r\njava -Xdiag -cp groovy-2.4.21/embeddable/groovy-all-2.4.21.jar HelloWorld\r\n\r\n```\r\nError: Could not find or load main class HelloWorld\r\njava.lang.ClassNotFoundException: HelloWorld\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:495)\r\n```\r\n\r\nbut  I execution ： groovy HelloWorld.groovy ，The right to perform\r\n","title":"groovyc and java class file Error: Could not find or load main class HelloWorld","body":"<p>I am learning a groovy HelloWorld</p>\n<p>this is HelloWorld.groovy</p>\n<pre><code>println &quot;Hello, World&quot;\n</code></pre>\n<p>groovyc HelloWorld.groovy</p>\n<p>generate HelloWorld.class</p>\n<p>java -Xdiag -cp groovy-2.4.21/embeddable/groovy-all-2.4.21.jar HelloWorld</p>\n<pre><code>Error: Could not find or load main class HelloWorld\njava.lang.ClassNotFoundException: HelloWorld\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:495)\n</code></pre>\n<p>but  I execution ： groovy HelloWorld.groovy ，The right to perform</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1660124831,"post_id":73299265,"comment_id":129456752,"body_markdown":"the result of `Map&lt;String, Map&lt;String, Long&gt;&gt;` does not seem to match your requirement. Why not a simple `Map&lt;String, Long&gt;` to count the occurrences of strings inside the file? Isn&#39;t this the requirement?","body":"the result of <code>Map&lt;String, Map&lt;String, Long&gt;&gt;</code> does not seem to match your requirement. Why not a simple <code>Map&lt;String, Long&gt;</code> to count the occurrences of strings inside the file? Isn&#39;t this the requirement?"},{"owner":{"account_id":26023659,"reputation":63,"user_id":19730928,"display_name":"pandaoverflow"},"score":0,"creation_date":1660253615,"post_id":73299265,"comment_id":129495858,"body_markdown":"@PanagiotisBougioukos I&#39;m trying to group by 2 keys here, so it&#39;s a nested map.","body":"@PanagiotisBougioukos I&#39;m trying to group by 2 keys here, so it&#39;s a nested map."}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660098304,"creation_date":1660090153,"answer_id":73299327,"question_id":73299265,"body_markdown":"I can duplicate this error message, but the replacement of `String` with `Object` in the error message appears to be a red herring.  The real problem is that Java&#39;s generics are invariant.\r\n\r\nIf the call to `collect` is returning a `ConcurrentMap&lt;String, ConcurrentMap&lt;String, Long&gt;&gt;`, that doesn&#39;t match `Map&lt;String, Map&lt;String, Long&gt;&gt;`, even though a `ConcurrentMap` is a `Map`.  The inner `Map` type must match exactly without a wildcard and bounds.\r\n\r\nIf you introduce an upper-bounded wildcard to the return type, it will compile without error.  Have it return the type `Map&lt;String, ? extends Map&lt;String, Long&gt;&gt;`, so that the inner `ConcurrentMap&lt;String, Long&gt;` will match.\r\n\r\nA return type of `Map&lt;String, ConcurrentMap&lt;String, Long&gt;&gt;` will also work.\r\n\r\nIt&#39;s unclear why `String` wasn&#39;t captured until the generics invariant issue was worked out.  Just a guess: the compiler didn&#39;t capture `String` yet, because it found the invariant generics issue first.  Once the invariant generics issue is resolved, it compiles without error, implying `String` does get inferred.","title":"Java Stream Collect() classifier can&#39;t detect type","body":"<p>I can duplicate this error message, but the replacement of <code>String</code> with <code>Object</code> in the error message appears to be a red herring.  The real problem is that Java's generics are invariant.</p>\n<p>If the call to <code>collect</code> is returning a <code>ConcurrentMap&lt;String, ConcurrentMap&lt;String, Long&gt;&gt;</code>, that doesn't match <code>Map&lt;String, Map&lt;String, Long&gt;&gt;</code>, even though a <code>ConcurrentMap</code> is a <code>Map</code>.  The inner <code>Map</code> type must match exactly without a wildcard and bounds.</p>\n<p>If you introduce an upper-bounded wildcard to the return type, it will compile without error.  Have it return the type <code>Map&lt;String, ? extends Map&lt;String, Long&gt;&gt;</code>, so that the inner <code>ConcurrentMap&lt;String, Long&gt;</code> will match.</p>\n<p>A return type of <code>Map&lt;String, ConcurrentMap&lt;String, Long&gt;&gt;</code> will also work.</p>\n<p>It's unclear why <code>String</code> wasn't captured until the generics invariant issue was worked out.  Just a guess: the compiler didn't capture <code>String</code> yet, because it found the invariant generics issue first.  Once the invariant generics issue is resolved, it compiles without error, implying <code>String</code> does get inferred.</p>\n"}],"owner":{"account_id":26023659,"reputation":63,"user_id":19730928,"display_name":"pandaoverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":73299327,"answer_count":1,"score":6,"last_activity_date":1660098304,"creation_date":1660089508,"question_id":73299265,"body_markdown":"I have the following code reading lines from a text file:\r\n\r\n    try (BufferedReader br = new BufferedReader(new InputStreamReader(Uio.decodeFrom(url)))) {\r\n            return br.lines()\r\n                    .parallel()\r\n                    .map(s -&gt; s.split(&quot;\\\\s+&quot;)) // split by whitespace\r\n                    .collect(\r\n                            Collectors.groupingByConcurrent(\r\n                                    arr -&gt; arr[0], // String 1\r\n                                    Collectors.groupingByConcurrent(\r\n                                            arr -&gt; arr[arr.length-1], // String 2\r\n                                            Collectors.counting()\r\n                                    )\r\n                            )\r\n                    );\r\n        } catch (IOException e) {\r\n            throw new UncheckedIOException(e);\r\n        }\r\n\r\nThe text file has data like\r\n\r\n    String1     ... cols      ... String2\r\n    string1data ... otherdata ... string2data\r\n    ...\r\n\r\nAnd I&#39;m trying to group by `String1` and `String2` and get their counts. Then end result should be a `Map&lt;String, Map&lt;String, Long&gt;&gt;`. However, with the code above, the compiler is saying that the `collect()` returns a `\r\nConcurrentMap\r\n&lt;Object,\r\nConcurrentMap&lt;Object, Long&gt;&gt;`.\r\n\r\nWhy are the keys not Strings?\r\n\r\n","title":"Java Stream Collect() classifier can&#39;t detect type","body":"<p>I have the following code reading lines from a text file:</p>\n<pre><code>try (BufferedReader br = new BufferedReader(new InputStreamReader(Uio.decodeFrom(url)))) {\n        return br.lines()\n                .parallel()\n                .map(s -&gt; s.split(&quot;\\\\s+&quot;)) // split by whitespace\n                .collect(\n                        Collectors.groupingByConcurrent(\n                                arr -&gt; arr[0], // String 1\n                                Collectors.groupingByConcurrent(\n                                        arr -&gt; arr[arr.length-1], // String 2\n                                        Collectors.counting()\n                                )\n                        )\n                );\n    } catch (IOException e) {\n        throw new UncheckedIOException(e);\n    }\n</code></pre>\n<p>The text file has data like</p>\n<pre><code>String1     ... cols      ... String2\nstring1data ... otherdata ... string2data\n...\n</code></pre>\n<p>And I'm trying to group by <code>String1</code> and <code>String2</code> and get their counts. Then end result should be a <code>Map&lt;String, Map&lt;String, Long&gt;&gt;</code>. However, with the code above, the compiler is saying that the <code>collect()</code> returns a <code> ConcurrentMap &lt;Object, ConcurrentMap&lt;Object, Long&gt;&gt;</code>.</p>\n<p>Why are the keys not Strings?</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1660053987,"post_id":73292804,"comment_id":129438602,"body_markdown":"GC occurs when there&#39;s not enough free heap space to allocate a new object, so it attempts to identify unreachable objects to make room for the new one. But metaspace contains class data, not objects. It just doesn&#39;t make sense to attempt to clean or compact it, that won&#39;t help anyway","body":"GC occurs when there&#39;s not enough free heap space to allocate a new object, so it attempts to identify unreachable objects to make room for the new one. But metaspace contains class data, not objects. It just doesn&#39;t make sense to attempt to clean or compact it, that won&#39;t help anyway"},{"owner":{"account_id":14619896,"reputation":21,"user_id":10558924,"display_name":"Ryze"},"score":0,"creation_date":1660097953,"post_id":73292804,"comment_id":129450266,"body_markdown":"@perterz In my case, there are some class being unloaded. I can see the log by add &#39;verbose:class&#39; in JVM argument. I also get the metaspace by MemoryPoolMXBean, and it get smaller after full gc.","body":"@perterz In my case, there are some class being unloaded. I can see the log by add &#39;verbose:class&#39; in JVM argument. I also get the metaspace by MemoryPoolMXBean, and it get smaller after full gc."}],"owner":{"account_id":14619896,"reputation":21,"user_id":10558924,"display_name":"Ryze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660098094,"creation_date":1660052182,"question_id":73292804,"body_markdown":"After full gc, the metaspace didn&#39;t change in gc log. But when get metaspace size throw MemoryPoolMXBean, the metaspace size get smaller after full gc. The metaspace size is also getting smaller according to the VisualVm.\r\n\r\nSo....Why the metaspace didn&#39;t change in gc log? For example as below, from 112375K to 112375K.\r\n\r\n\r\ngc log :\r\n```\r\n2022-08-08T17:09:23.783-0800: 794.694: [GC (Allocation Failure) 2022-08-08T17:09:23.783-0800: 794.694: [ParNew: 715678K-&gt;36641K(755008K), 0.0358251 secs] 822252K-&gt;143215K(4110464K), 0.0360462 secs] [Times: user=0.10 sys=0.03, real=0.03 secs] \r\n2022-08-08T17:10:25.985-0800: 856.894: [Full GC (Metadata GC Threshold) 2022-08-08T17:10:25.986-0800: 856.895: [CMS[YG occupancy: 564658 K (755008 K)]2022-08-08T17:10:26.564-0800: 857.473: [weak refs processing, 0.0050842 secs]2022-08-08T17:10:26.569-0800: 857.478: [class unloading, 0.2427045 secs]2022-08-08T17:10:26.811-0800: 857.721: [scrub symbol table, 0.0593686 secs]2022-08-08T17:10:26.871-0800: 857.780: [scrub string table, 0.0021621 secs]: 106574K-&gt;86508K(3355456K), 0.9855494 secs] 671232K-&gt;651167K(4110464K), [Metaspace: 118866K-&gt;118866K(1157120K)], 0.9865607 secs] [Times: user=0.63 sys=0.46, real=0.99 secs] \r\n2022-08-08T17:10:26.972-0800: 857.881: [Full GC (Last ditch collection) 2022-08-08T17:10:26.972-0800: 857.881: [CMS: 86508K-&gt;115396K(3355456K), 0.6005051 secs] 651167K-&gt;115396K(4110464K), [Metaspace: 118866K-&gt;118866K(1157120K)], 0.6218490 secs] [Times: user=0.43 sys=0.13, real=0.62 secs] \r\n2022-08-08T17:10:27.594-0800: 858.504: [GC (CMS Initial Mark) [1 CMS-initial-mark: 115396K(3355456K)] 115396K(4110464K), 0.0018789 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] \r\n2022-08-08T17:10:27.596-0800: 858.506: [CMS-concurrent-mark-start]\r\n2022-08-08T17:10:27.623-0800: 858.533: [CMS-concurrent-mark: 0.027/0.027 secs] [Times: user=0.12 sys=0.02, real=0.03 secs] \r\n2022-08-08T17:10:27.623-0800: 858.533: [CMS-concurrent-preclean-start]\r\n2022-08-08T17:10:27.630-0800: 858.539: [CMS-concurrent-preclean: 0.006/0.007 secs] [Times: user=0.01 sys=0.00, real=0.01 secs] \r\n2022-08-08T17:10:27.631-0800: 858.540: [CMS-concurrent-abortable-preclean-start]\r\n2022-08-08T17:10:29.627-0800: 860.536: [CMS-concurrent-abortable-preclean: 0.112/1.996 secs] [Times: user=2.22 sys=0.39, real=1.99 secs] \r\n2022-08-08T17:10:29.630-0800: 860.539: [GC (CMS Final Remark) [YG occupancy: 364907 K (755008 K)]2022-08-08T17:10:29.630-0800: 860.539: [Rescan (parallel) , 0.2011922 secs]2022-08-08T17:10:29.831-0800: 860.740: [weak refs processing, 0.0024776 secs]2022-08-08T17:10:29.834-0800: 860.743: [class unloading, 0.0137659 secs]2022-08-08T17:10:29.848-0800: 860.757: [scrub symbol table, 0.0361635 secs]2022-08-08T17:10:29.884-0800: 860.793: [scrub string table, 0.0007877 secs][1 CMS-remark: 115396K(3355456K)] 480303K(4110464K), 0.2546613 secs] [Times: user=0.89 sys=0.07, real=0.25 secs] \r\n2022-08-08T17:10:29.885-0800: 860.794: [CMS-concurrent-sweep-start]\r\n2022-08-08T17:10:29.911-0800: 860.820: [CMS-concurrent-sweep: 0.026/0.026 secs] [Times: user=0.06 sys=0.01, real=0.03 secs] \r\n2022-08-08T17:10:29.911-0800: 860.820: [CMS-concurrent-reset-start]\r\n2022-08-08T17:10:29.913-0800: 860.822: [CMS-concurrent-reset: 0.002/0.002 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] \r\n2022-08-08T17:10:31.244-0800: 862.153: [GC (Allocation Failure) 2022-08-08T17:10:31.244-0800: 862.153: [ParNew: 671168K-&gt;25911K(755008K), 0.0418546 secs] 786564K-&gt;141308K(4110464K), 0.0422515 secs] [Times: user=0.05 sys=0.01, real=0.04 secs] \r\n```\r\nAnother gc log, generated by System.gc() :\r\n\r\n```\r\n2022-08-08T16:00:33.622-0800: 920.630: [Full GC (System.gc()) 2022-08-08T16:00:33.631-0800: 920.639: [CMS: 124397K-&gt;95303K(3355456K), 4.5840713 secs] 460961K-&gt;95303K(4110464K), [Metaspace: 112375K-&gt;112375K(1150976K)], 4.7240982 secs] [Times: user=0.44 sys=0.67, real=4.72 secs] \r\n```\r\n\r\nJava version :\r\n```\r\njava version &quot;1.8.0_45&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_45-b14)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.45-b02, mixed mode)\r\n```\r\n","title":"Why metaspace didn&#39;t get changed in gc log after full gc？","body":"<p>After full gc, the metaspace didn't change in gc log. But when get metaspace size throw MemoryPoolMXBean, the metaspace size get smaller after full gc. The metaspace size is also getting smaller according to the VisualVm.</p>\n<p>So....Why the metaspace didn't change in gc log? For example as below, from 112375K to 112375K.</p>\n<p>gc log :</p>\n<pre><code>2022-08-08T17:09:23.783-0800: 794.694: [GC (Allocation Failure) 2022-08-08T17:09:23.783-0800: 794.694: [ParNew: 715678K-&gt;36641K(755008K), 0.0358251 secs] 822252K-&gt;143215K(4110464K), 0.0360462 secs] [Times: user=0.10 sys=0.03, real=0.03 secs] \n2022-08-08T17:10:25.985-0800: 856.894: [Full GC (Metadata GC Threshold) 2022-08-08T17:10:25.986-0800: 856.895: [CMS[YG occupancy: 564658 K (755008 K)]2022-08-08T17:10:26.564-0800: 857.473: [weak refs processing, 0.0050842 secs]2022-08-08T17:10:26.569-0800: 857.478: [class unloading, 0.2427045 secs]2022-08-08T17:10:26.811-0800: 857.721: [scrub symbol table, 0.0593686 secs]2022-08-08T17:10:26.871-0800: 857.780: [scrub string table, 0.0021621 secs]: 106574K-&gt;86508K(3355456K), 0.9855494 secs] 671232K-&gt;651167K(4110464K), [Metaspace: 118866K-&gt;118866K(1157120K)], 0.9865607 secs] [Times: user=0.63 sys=0.46, real=0.99 secs] \n2022-08-08T17:10:26.972-0800: 857.881: [Full GC (Last ditch collection) 2022-08-08T17:10:26.972-0800: 857.881: [CMS: 86508K-&gt;115396K(3355456K), 0.6005051 secs] 651167K-&gt;115396K(4110464K), [Metaspace: 118866K-&gt;118866K(1157120K)], 0.6218490 secs] [Times: user=0.43 sys=0.13, real=0.62 secs] \n2022-08-08T17:10:27.594-0800: 858.504: [GC (CMS Initial Mark) [1 CMS-initial-mark: 115396K(3355456K)] 115396K(4110464K), 0.0018789 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] \n2022-08-08T17:10:27.596-0800: 858.506: [CMS-concurrent-mark-start]\n2022-08-08T17:10:27.623-0800: 858.533: [CMS-concurrent-mark: 0.027/0.027 secs] [Times: user=0.12 sys=0.02, real=0.03 secs] \n2022-08-08T17:10:27.623-0800: 858.533: [CMS-concurrent-preclean-start]\n2022-08-08T17:10:27.630-0800: 858.539: [CMS-concurrent-preclean: 0.006/0.007 secs] [Times: user=0.01 sys=0.00, real=0.01 secs] \n2022-08-08T17:10:27.631-0800: 858.540: [CMS-concurrent-abortable-preclean-start]\n2022-08-08T17:10:29.627-0800: 860.536: [CMS-concurrent-abortable-preclean: 0.112/1.996 secs] [Times: user=2.22 sys=0.39, real=1.99 secs] \n2022-08-08T17:10:29.630-0800: 860.539: [GC (CMS Final Remark) [YG occupancy: 364907 K (755008 K)]2022-08-08T17:10:29.630-0800: 860.539: [Rescan (parallel) , 0.2011922 secs]2022-08-08T17:10:29.831-0800: 860.740: [weak refs processing, 0.0024776 secs]2022-08-08T17:10:29.834-0800: 860.743: [class unloading, 0.0137659 secs]2022-08-08T17:10:29.848-0800: 860.757: [scrub symbol table, 0.0361635 secs]2022-08-08T17:10:29.884-0800: 860.793: [scrub string table, 0.0007877 secs][1 CMS-remark: 115396K(3355456K)] 480303K(4110464K), 0.2546613 secs] [Times: user=0.89 sys=0.07, real=0.25 secs] \n2022-08-08T17:10:29.885-0800: 860.794: [CMS-concurrent-sweep-start]\n2022-08-08T17:10:29.911-0800: 860.820: [CMS-concurrent-sweep: 0.026/0.026 secs] [Times: user=0.06 sys=0.01, real=0.03 secs] \n2022-08-08T17:10:29.911-0800: 860.820: [CMS-concurrent-reset-start]\n2022-08-08T17:10:29.913-0800: 860.822: [CMS-concurrent-reset: 0.002/0.002 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] \n2022-08-08T17:10:31.244-0800: 862.153: [GC (Allocation Failure) 2022-08-08T17:10:31.244-0800: 862.153: [ParNew: 671168K-&gt;25911K(755008K), 0.0418546 secs] 786564K-&gt;141308K(4110464K), 0.0422515 secs] [Times: user=0.05 sys=0.01, real=0.04 secs] \n</code></pre>\n<p>Another gc log, generated by System.gc() :</p>\n<pre><code>2022-08-08T16:00:33.622-0800: 920.630: [Full GC (System.gc()) 2022-08-08T16:00:33.631-0800: 920.639: [CMS: 124397K-&gt;95303K(3355456K), 4.5840713 secs] 460961K-&gt;95303K(4110464K), [Metaspace: 112375K-&gt;112375K(1150976K)], 4.7240982 secs] [Times: user=0.44 sys=0.67, real=4.72 secs] \n</code></pre>\n<p>Java version :</p>\n<pre><code>java version &quot;1.8.0_45&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_45-b14)\nJava HotSpot(TM) 64-Bit Server VM (build 25.45-b02, mixed mode)\n</code></pre>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1659938241,"post_id":73273390,"comment_id":129404626,"body_markdown":"Just control the access? Make the variables private and make sure you only have a single synchronized method that updates the variables at the same time.","body":"Just control the access? Make the variables private and make sure you only have a single synchronized method that updates the variables at the same time."},{"owner":{"account_id":25033717,"reputation":35,"user_id":18891287,"display_name":"Mary"},"score":0,"creation_date":1659938376,"post_id":73273390,"comment_id":129404651,"body_markdown":"The method that accesses these variables can work in different threads. It will be 100%, you just need to change these variables for the time being, put another appeal on the block. Is this possible?","body":"The method that accesses these variables can work in different threads. It will be 100%, you just need to change these variables for the time being, put another appeal on the block. Is this possible?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1659938450,"post_id":73273390,"comment_id":129404667,"body_markdown":"Yes, of course. Just `synchronize` on the same object, or lock the same `Lock`.","body":"Yes, of course. Just <code>synchronize</code> on the same object, or lock the same <code>Lock</code>."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1659938598,"post_id":73273390,"comment_id":129404690,"body_markdown":"@Mary Synchronized does exactly that. The same synchronized method/object can only be called by a single thread at a time, any other threads have to wait, and can only proceed when the current thread using the synchronized has returned.","body":"@Mary Synchronized does exactly that. The same synchronized method/object can only be called by a single thread at a time, any other threads have to wait, and can only proceed when the current thread using the synchronized has returned."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1659939367,"post_id":73273390,"comment_id":129404846,"body_markdown":"Consider making it immutable and replacing the object with `ConcurrentMap.compute()` or the like.","body":"Consider making it immutable and replacing the object with <code>ConcurrentMap.compute()</code> or the like."}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660097841,"creation_date":1660097841,"answer_id":73299935,"question_id":73273390,"body_markdown":"### What you&#39;re solving for\r\n\r\nYou are describing that you want to:\r\n* allow a caller to modify something on an object\r\n* prevent any other callers (other threads) from modifying things at the same time\r\n\r\n-----------\r\n\r\n### Solution description\r\n\r\nThis solution uses `synchronized`, though there are number of other mechanisms available in Java that would support this (several of which are covered in\r\nthe [Lock Objects](https://docs.oracle.com/javase/tutorial/essential/concurrency/newlocks.html) section of the Java Tutorials).\r\n\r\nThe way &quot;synchronized&quot; works is that you designate some code using the &quot;synchronized&quot; keyword, along with an object to synchronize on.\r\nWhen your code runs, the JVM will guarantee that, for all code which is synchronized – _on the same object_ – only one thread\r\ncan proceed at a time.\r\n\r\n-----------\r\n\r\nYou can make a synchronized code block, like below. Note: this defines an `Object` named &quot;lock&quot;, but it&#39;s just a name chosen for clarity when\r\nreading the code – you could name it anything you like.\r\n```\r\nObject lock;\r\nsynchronized (lock) {\r\n\t... // all things here run only when &quot;lock&quot; is available\r\n}\r\n```\r\n\r\n-----------\r\n\r\nYou can also designate an entire _method_ as being synchronized, like this:\r\n```\r\npublic void synchronized print() {\r\n\tSystem.out.println(&quot;hello&quot;);\r\n}\r\n```\r\nThis second example behaves like the first - it also locks on an object – but it&#39;s not clear at a glance what the object is; that is, how does\r\nthe JVM know which object to sychronize on? This approach works if the method itself is called on an object instance, and in that case the lock becomes `this`. I&#39;ll show an example below.\r\n\r\nThere&#39;s good info in the Java Tutorials about [synchronized methods](https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html).\r\n\r\n-----------\r\n\r\n### Solution #1: synchronized block using `Object lock`\r\n\r\nHere are a few notes about a class `AllowOneEditAtATime`:\r\n* it has two private members: `one` and `two`\r\n* because they&#39;re private, they cannot be changed directly – so it would _not_ be allowed to do something like this:\r\n\t```\r\n\tAllowOneEditAtATime a = new AllowOneEditAtATime();\r\n\ta.one = new AtomicLong(1); // cannot change &quot;one&quot; directly because it is private\r\n\t```\r\n* defines `private Object lock` – this is meant to act as the thing that _two_ different synchronized code blocks will lock on. It&#39;s totally fine to have different blocks of code each synchronize on the same object. This is the main technique you&#39;re after.\r\n* uses a synchronized block inside `setOne()`, synchronizing on &quot;lock&quot;\r\n* uses another synchronized block inside the other method –&#160;`setTwo()` –&#160;also synchronizing on &quot;lock&quot;\r\n* because both `setOne()` and `setTwo()` are synchronized on the same object, one of them will be allowed to run at a time\r\n\r\n```\r\nclass AllowOneEditAtATime1 {\r\n\r\n\tprivate Object lock;\r\n    private AtomicLong one;\r\n    private AtomicLong two;\r\n\r\n    public void setOne(AtomicLong newOne) {\r\n        synchronized (lock) {\r\n            one = newOne;\r\n        }\r\n    }\r\n\r\n    public void setTwo(AtomicLong newTwo) {\r\n        synchronized (lock) {\r\n            two = newTwo;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n-----------\r\n\r\n### Solution #2: synchronized block, using `this`\r\n\r\nSolution #1 works fine, but it isn&#39;t necessary (in this case) to create an entire object just for locking. Instead, you can rely on the fact that\r\nthis code runs only after someone called `new AllowOneEditAtATime()`, which means there&#39;s always an object instance, which means inside the code\r\nyou can use `this`. The `this` keyword refers to the object instance itself, the actual instance of `AllowOneEditAtATime`.\r\n\r\nSo here&#39;s a variation using `this` (no more `Object lock`):\r\n```\r\nclass AllowOneEditAtATime2 {\r\n\r\n    private AtomicLong one;\r\n    private AtomicLong two;\r\n\r\n    public void setOne(AtomicLong newOne) {\r\n        synchronized (this) {\r\n            one = newOne;\r\n        }\r\n    }\r\n\r\n    public void setTwo(AtomicLong newTwo) {\r\n        synchronized (this) {\r\n            two = newTwo;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n-----------\r\n\r\n### Solution #3: synchronized methods, implicit lock\r\n\r\nSolution #2 works fine, but since we&#39;re using `this` as the lock, and since the code paths fit with doing this, we can use\r\n[synchronized methods](https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html)\r\ninstead of synchronized code blocks.\r\n\r\nThat means we can replace this:\r\n```\r\npublic void setTwo(AtomicLong newTwo) {\r\n\tsynchronized (this) {\r\n\t\ttwo = newTwo;\r\n\t}\r\n}\r\n```\r\nwith this:\r\n```\r\npublic synchronized void setOne(AtomicLong newOne) {\r\n    one = newOne;\r\n}\r\n```\r\nUnder the covers, the entire `setOne()` method is synchronized on `this` automatically, so it isn&#39;t necessary to\r\ninclude `synchronized (this) { .. }`\r\nat all. In Solution #2, _both_ methods were doing that, so both can be replaced.\r\nBy synchronizing both methods, they will both be synchronized on the object instance (`this`), which is similar to Solution #2, but with less code.\r\n```\r\nclass AllowOneEditAtATime3 {\r\n\r\n    private AtomicLong one;\r\n    private AtomicLong two;\r\n\r\n    public synchronized void setOne(AtomicLong newOne) {\r\n        one = newOne;\r\n    }\r\n\r\n    public synchronized void setTwo(AtomicLong newTwo) {\r\n        two = newTwo;\r\n    }\r\n}\r\n```\r\n\r\n----------\r\n\r\nAny of the above would work, as would other synchronization mechanisms. As with all things, there are multiple ways you could solve the problem.\r\n\r\nFor additional reading, \r\nthe [Concurrency](https://docs.oracle.com/javase/tutorial/essential/concurrency/index.html) lesson (in Java Tutorials) has good info\r\nand might be worth your time.\r\n","title":"Multithreading: synchronize by locking","body":"<h3>What you're solving for</h3>\n<p>You are describing that you want to:</p>\n<ul>\n<li>allow a caller to modify something on an object</li>\n<li>prevent any other callers (other threads) from modifying things at the same time</li>\n</ul>\n<hr />\n<h3>Solution description</h3>\n<p>This solution uses <code>synchronized</code>, though there are number of other mechanisms available in Java that would support this (several of which are covered in\nthe <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/newlocks.html\" rel=\"nofollow noreferrer\">Lock Objects</a> section of the Java Tutorials).</p>\n<p>The way &quot;synchronized&quot; works is that you designate some code using the &quot;synchronized&quot; keyword, along with an object to synchronize on.\nWhen your code runs, the JVM will guarantee that, for all code which is synchronized – <em>on the same object</em> – only one thread\ncan proceed at a time.</p>\n<hr />\n<p>You can make a synchronized code block, like below. Note: this defines an <code>Object</code> named &quot;lock&quot;, but it's just a name chosen for clarity when\nreading the code – you could name it anything you like.</p>\n<pre><code>Object lock;\nsynchronized (lock) {\n    ... // all things here run only when &quot;lock&quot; is available\n}\n</code></pre>\n<hr />\n<p>You can also designate an entire <em>method</em> as being synchronized, like this:</p>\n<pre><code>public void synchronized print() {\n    System.out.println(&quot;hello&quot;);\n}\n</code></pre>\n<p>This second example behaves like the first - it also locks on an object – but it's not clear at a glance what the object is; that is, how does\nthe JVM know which object to sychronize on? This approach works if the method itself is called on an object instance, and in that case the lock becomes <code>this</code>. I'll show an example below.</p>\n<p>There's good info in the Java Tutorials about <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"nofollow noreferrer\">synchronized methods</a>.</p>\n<hr />\n<h3>Solution #1: synchronized block using <code>Object lock</code></h3>\n<p>Here are a few notes about a class <code>AllowOneEditAtATime</code>:</p>\n<ul>\n<li>it has two private members: <code>one</code> and <code>two</code></li>\n<li>because they're private, they cannot be changed directly – so it would <em>not</em> be allowed to do something like this:\n<pre><code>AllowOneEditAtATime a = new AllowOneEditAtATime();\na.one = new AtomicLong(1); // cannot change &quot;one&quot; directly because it is private\n</code></pre>\n</li>\n<li>defines <code>private Object lock</code> – this is meant to act as the thing that <em>two</em> different synchronized code blocks will lock on. It's totally fine to have different blocks of code each synchronize on the same object. This is the main technique you're after.</li>\n<li>uses a synchronized block inside <code>setOne()</code>, synchronizing on &quot;lock&quot;</li>\n<li>uses another synchronized block inside the other method – <code>setTwo()</code> – also synchronizing on &quot;lock&quot;</li>\n<li>because both <code>setOne()</code> and <code>setTwo()</code> are synchronized on the same object, one of them will be allowed to run at a time</li>\n</ul>\n<pre><code>class AllowOneEditAtATime1 {\n\n    private Object lock;\n    private AtomicLong one;\n    private AtomicLong two;\n\n    public void setOne(AtomicLong newOne) {\n        synchronized (lock) {\n            one = newOne;\n        }\n    }\n\n    public void setTwo(AtomicLong newTwo) {\n        synchronized (lock) {\n            two = newTwo;\n        }\n    }\n}\n</code></pre>\n<hr />\n<h3>Solution #2: synchronized block, using <code>this</code></h3>\n<p>Solution #1 works fine, but it isn't necessary (in this case) to create an entire object just for locking. Instead, you can rely on the fact that\nthis code runs only after someone called <code>new AllowOneEditAtATime()</code>, which means there's always an object instance, which means inside the code\nyou can use <code>this</code>. The <code>this</code> keyword refers to the object instance itself, the actual instance of <code>AllowOneEditAtATime</code>.</p>\n<p>So here's a variation using <code>this</code> (no more <code>Object lock</code>):</p>\n<pre><code>class AllowOneEditAtATime2 {\n\n    private AtomicLong one;\n    private AtomicLong two;\n\n    public void setOne(AtomicLong newOne) {\n        synchronized (this) {\n            one = newOne;\n        }\n    }\n\n    public void setTwo(AtomicLong newTwo) {\n        synchronized (this) {\n            two = newTwo;\n        }\n    }\n}\n</code></pre>\n<hr />\n<h3>Solution #3: synchronized methods, implicit lock</h3>\n<p>Solution #2 works fine, but since we're using <code>this</code> as the lock, and since the code paths fit with doing this, we can use\n<a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"nofollow noreferrer\">synchronized methods</a>\ninstead of synchronized code blocks.</p>\n<p>That means we can replace this:</p>\n<pre><code>public void setTwo(AtomicLong newTwo) {\n    synchronized (this) {\n        two = newTwo;\n    }\n}\n</code></pre>\n<p>with this:</p>\n<pre><code>public synchronized void setOne(AtomicLong newOne) {\n    one = newOne;\n}\n</code></pre>\n<p>Under the covers, the entire <code>setOne()</code> method is synchronized on <code>this</code> automatically, so it isn't necessary to\ninclude <code>synchronized (this) { .. }</code>\nat all. In Solution #2, <em>both</em> methods were doing that, so both can be replaced.\nBy synchronizing both methods, they will both be synchronized on the object instance (<code>this</code>), which is similar to Solution #2, but with less code.</p>\n<pre><code>class AllowOneEditAtATime3 {\n\n    private AtomicLong one;\n    private AtomicLong two;\n\n    public synchronized void setOne(AtomicLong newOne) {\n        one = newOne;\n    }\n\n    public synchronized void setTwo(AtomicLong newTwo) {\n        two = newTwo;\n    }\n}\n</code></pre>\n<hr />\n<p>Any of the above would work, as would other synchronization mechanisms. As with all things, there are multiple ways you could solve the problem.</p>\n<p>For additional reading,\nthe <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> lesson (in Java Tutorials) has good info\nand might be worth your time.</p>\n"}],"owner":{"account_id":25033717,"reputation":35,"user_id":18891287,"display_name":"Mary"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660097841,"creation_date":1659937949,"question_id":73273390,"body_markdown":"Concurrent collection:\r\n\r\n    ConcurrentMap&lt;LocalDate, A&gt; ex = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    class A {\r\n       AtomicLong C;\r\n       AtomicLong D\r\n    }\r\n\r\nHow can I synchronize by locking &quot;C&quot; and &quot;D&quot;? That is, I need to change &quot;C&quot; and &quot;B&quot; at the same time with a guarantee that while I change the other one, the first one does not change from external actions.\r\nThank you.\r\n\r\n","title":"Multithreading: synchronize by locking","body":"<p>Concurrent collection:</p>\n<pre><code>ConcurrentMap&lt;LocalDate, A&gt; ex = new ConcurrentHashMap&lt;&gt;();\n\nclass A {\n   AtomicLong C;\n   AtomicLong D\n}\n</code></pre>\n<p>How can I synchronize by locking &quot;C&quot; and &quot;D&quot;? That is, I need to change &quot;C&quot; and &quot;B&quot; at the same time with a guarantee that while I change the other one, the first one does not change from external actions.\nThank you.</p>\n"},{"tags":["java","zsh","java-home"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1660008087,"post_id":73285512,"comment_id":129425922,"body_markdown":"It could be this: https://apple.stackexchange.com/questions/397299/zsh-cant-see-and-doesnt-load-the-zshrc-startup-file","body":"It could be this: <a href=\"https://apple.stackexchange.com/questions/397299/zsh-cant-see-and-doesnt-load-the-zshrc-startup-file\" title=\"zsh cant see and doesnt load the zshrc startup file\">apple.stackexchange.com/questions/397299/&hellip;</a>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1660008194,"post_id":73285512,"comment_id":129425940,"body_markdown":"If you no longer want to use `sdkman` (which I have no idea why you wouldn&#39;t want to); remove `[[ -s &quot;/Users/xxx/.sdkman/bin/sdkman-init.sh&quot; ]] &amp;&amp; source &quot;/Users/xxx/.sdkman/bin/sdkman-init.sh&quot;` at the end of `$HOME/.zshrc`.","body":"If you no longer want to use <code>sdkman</code> (which I have no idea why you wouldn&#39;t want to); remove <code>[[ -s &quot;&#47;Users&#47;xxx&#47;.sdkman&#47;bin&#47;sdkman-init.sh&quot; ]] &amp;&amp; source &quot;&#47;Users&#47;xxx&#47;.sdkman&#47;bin&#47;sdkman-init.sh&quot;</code> at the end of <code>$HOME&#47;.zshrc</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1660008403,"post_id":73285512,"comment_id":129425964,"body_markdown":"In other words `source &quot;/Users/xxx/.sdkman/bin/sdkman-init.sh` is overriding the `JAVA_HOME` that you set earlier in the `.zshrc` file?","body":"In other words <code>source &quot;&#47;Users&#47;xxx&#47;.sdkman&#47;bin&#47;sdkman-init.sh</code> is overriding the <code>JAVA_HOME</code> that you set earlier in the <code>.zshrc</code> file?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1660009843,"post_id":73285512,"comment_id":129426176,"body_markdown":"This helpful tool works well on macOS: https://sdkman.io/","body":"This helpful tool works well on macOS: <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman.io</a>"},{"owner":{"account_id":13630969,"reputation":41,"user_id":11315632,"display_name":"liza tawaf"},"score":0,"creation_date":1660097758,"post_id":73285512,"comment_id":129450241,"body_markdown":"@StephenC, correct I don&#39;t know where this could happen","body":"@StephenC, correct I don&#39;t know where this could happen"},{"owner":{"account_id":13630969,"reputation":41,"user_id":11315632,"display_name":"liza tawaf"},"score":0,"creation_date":1660097823,"post_id":73285512,"comment_id":129450249,"body_markdown":"@ElliottFrisch I have removed it when I uninstall it, yet something is still overriding it","body":"@ElliottFrisch I have removed it when I uninstall it, yet something is still overriding it"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1660098426,"post_id":73285512,"comment_id":129450325,"body_markdown":"You have several (at least one anyway) lines that reset `JAVA_HOME` after `JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-14.0.2.jdk/Contents/Home`. The last one &quot;wins&quot;.","body":"You have several (at least one anyway) lines that reset <code>JAVA_HOME</code> after <code>JAVA_HOME=&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk-14.0.2.jdk&#47;C&zwnj;&#8203;ontents&#47;Home</code>. The last one &quot;wins&quot;."},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1660118364,"post_id":73285512,"comment_id":129454453,"body_markdown":"By default, any **interactive** zsh sources .zshrc automatically on startup, unless you are overriding this behaviour (using the variable `ZDOTDIR`), so your approach should work. However note that this does not occur for non-interactive shells, but since you have exported your variable, this should not do any harm (unless you are running scripts from i.e. cron). I suggest that you trace a complete startup of your zsh with `-x` turned on to see all the places where your JAVA_HOME gets reassigned.","body":"By default, any <b>interactive</b> zsh sources .zshrc automatically on startup, unless you are overriding this behaviour (using the variable <code>ZDOTDIR</code>), so your approach should work. However note that this does not occur for non-interactive shells, but since you have exported your variable, this should not do any harm (unless you are running scripts from i.e. cron). I suggest that you trace a complete startup of your zsh with <code>-x</code> turned on to see all the places where your JAVA_HOME gets reassigned."}],"answers":[{"tags":[],"owner":{"account_id":478864,"reputation":1349,"user_id":891203,"accept_rate":80,"display_name":"devdanke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660021709,"creation_date":1660021177,"answer_id":73286720,"question_id":73285512,"body_markdown":"Your expectation of being able to permanently set JAVA_HOME in your .zshrc file is correct.  It&#39;s how most JVM developers do it. \r\n\r\nIf zsh is your shell, then `.zshrc` will run automatically every time you open a new terminal, _unless something is interfering with it_. \r\n\r\nTo find out what is interfering, I suggest starting with an empty `.zshrc` with a first line of `echo &quot;.zshrc ran&quot;`.  This will print to the console everytime you open a new terminal, proving it&#39;s being run.  \r\n\r\nThen start adding back parts from your current `.zshrc` to see which part is causing the unwanted JAVA_HOME behavior. ","title":"How do I change my JAVA_HOME permanently Mac User?","body":"<p>Your expectation of being able to permanently set JAVA_HOME in your .zshrc file is correct.  It's how most JVM developers do it.</p>\n<p>If zsh is your shell, then <code>.zshrc</code> will run automatically every time you open a new terminal, <em>unless something is interfering with it</em>.</p>\n<p>To find out what is interfering, I suggest starting with an empty <code>.zshrc</code> with a first line of <code>echo &quot;.zshrc ran&quot;</code>.  This will print to the console everytime you open a new terminal, proving it's being run.</p>\n<p>Then start adding back parts from your current <code>.zshrc</code> to see which part is causing the unwanted JAVA_HOME behavior.</p>\n"}],"owner":{"account_id":13630969,"reputation":41,"user_id":11315632,"display_name":"liza tawaf"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1660097596,"creation_date":1660007205,"question_id":73285512,"body_markdown":"So when I run \r\n\r\n    &gt; echo $JAVA_HOME                                                       \r\n    &gt; /Users/xxx/.sdkman/candidates/java/current\r\n    \r\nHowever in my *.zshrc* I have set it to export `JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-14.0.2.jdk/Contents/Home`\r\n\r\nso every time I need to use Java or open new terminal I have to source *.zshrc*\r\n\r\n\r\n I&#39;m 100% sure I&#39;m using zshrc \r\n\r\n    % echo $0 \r\n    /bin/zsh\r\nAlso this is how My ZSHRC is loooking\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCheers!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MqLrH.png","title":"How do I change my JAVA_HOME permanently Mac User?","body":"<p>So when I run</p>\n<pre><code>&gt; echo $JAVA_HOME                                                       \n&gt; /Users/xxx/.sdkman/candidates/java/current\n</code></pre>\n<p>However in my <em>.zshrc</em> I have set it to export <code>JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-14.0.2.jdk/Contents/Home</code></p>\n<p>so every time I need to use Java or open new terminal I have to source <em>.zshrc</em></p>\n<p>I'm 100% sure I'm using zshrc</p>\n<pre><code>% echo $0 \n/bin/zsh\n</code></pre>\n<p>Also this is how My ZSHRC is loooking</p>\n<p><a href=\"https://i.stack.imgur.com/MqLrH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MqLrH.png\" alt=\"enter image description here\" /></a></p>\n<p>Cheers!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1660089862,"post_id":73299286,"comment_id":129449259,"body_markdown":"This sounds like a bad idea.  You really shouldn&#39;t be using reflection like this.  An `enum` or something similar would likely be a better fit.","body":"This sounds like a bad idea.  You really shouldn&#39;t be using reflection like this.  An <code>enum</code> or something similar would likely be a better fit."},{"owner":{"account_id":1674664,"reputation":21039,"user_id":1540468,"accept_rate":88,"display_name":"Paul Rooney"},"score":2,"creation_date":1660090059,"post_id":73299286,"comment_id":129449288,"body_markdown":"Isn&#39;t this because you are calling toString on the class itself and not an instance of it?","body":"Isn&#39;t this because you are calling toString on the class itself and not an instance of it?"},{"owner":{"account_id":25963987,"reputation":31,"user_id":19680152,"display_name":"Nathan Xu  "},"score":0,"creation_date":1660090160,"post_id":73299286,"comment_id":129449302,"body_markdown":"@markspace I&#39;ll try using an `enum`, but may I ask why using reflection is a bad idea for this sort of thing?","body":"@markspace I&#39;ll try using an <code>enum</code>, but may I ask why using reflection is a bad idea for this sort of thing?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1660090682,"post_id":73299286,"comment_id":129449366,"body_markdown":"&quot;... without initializing every single nested class&quot;: hold the phone. You can&#39;t call `toString()` *unless* you create an instance of the class. This sounds completely wrongheaded to me. You surely want to iterate over instances, not classes? What is the outer problem here? I agree with @markspace that you seem to be looking for `enum` here.","body":"&quot;... without initializing every single nested class&quot;: hold the phone. You can&#39;t call <code>toString()</code> <i>unless</i> you create an instance of the class. This sounds completely wrongheaded to me. You surely want to iterate over instances, not classes? What is the outer problem here? I agree with @markspace that you seem to be looking for <code>enum</code> here."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1660090752,"post_id":73299286,"comment_id":129449381,"body_markdown":"It&#39;s just kind of obviously super brittle.  It throws numerous exceptions, which enums won&#39;t.  If the code structure changes at all (adding different constructor for example) it breaks.  If the method name changes, the compiler can&#39;t detect it.  Etc.  I wouldn&#39;t want to maintain code that works the way you are asking for.","body":"It&#39;s just kind of obviously super brittle.  It throws numerous exceptions, which enums won&#39;t.  If the code structure changes at all (adding different constructor for example) it breaks.  If the method name changes, the compiler can&#39;t detect it.  Etc.  I wouldn&#39;t want to maintain code that works the way you are asking for."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1660090874,"post_id":73299286,"comment_id":129449404,"body_markdown":"What output are you hoping to get?  What do you mean by &quot;initializing&quot; classes?  Do you mean *instantiating*?  Because you can&#39;t do much of anything with a class without it being initialized, and class initialization is not directly under your control anyway.","body":"What output are you hoping to get?  What do you mean by &quot;initializing&quot; classes?  Do you mean <i>instantiating</i>?  Because you can&#39;t do much of anything with a class without it being initialized, and class initialization is not directly under your control anyway."},{"owner":{"account_id":1674664,"reputation":21039,"user_id":1540468,"accept_rate":88,"display_name":"Paul Rooney"},"score":0,"creation_date":1660092124,"post_id":73299286,"comment_id":129449584,"body_markdown":"You could also change your print line to `System.out.println(NestedClass.getDeclaredConstructor().newInstance().toString());`. Still, avoid reflection if you can.","body":"You could also change your print line to <code>System.out.println(NestedClass.getDeclaredConstructor().newI&zwnj;&#8203;nstance().toString()&zwnj;&#8203;);</code>. Still, avoid reflection if you can."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1660092300,"post_id":73299286,"comment_id":129449602,"body_markdown":"@PaulRooney But what would be the point? Creating an instance just to print it? What useful information could it possibly contain?","body":"@PaulRooney But what would be the point? Creating an instance just to print it? What useful information could it possibly contain?"},{"owner":{"account_id":1674664,"reputation":21039,"user_id":1540468,"accept_rate":88,"display_name":"Paul Rooney"},"score":0,"creation_date":1660093715,"post_id":73299286,"comment_id":129449755,"body_markdown":"Agreed useless but possible.","body":"Agreed useless but possible."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1660097214,"post_id":73299286,"comment_id":129450170,"body_markdown":"You _could_ give each nested class a static method, called something _other than_ `toString` and call that instead.  But it still seems like a horrible thing to be doing.  What are you actually trying to achieve?","body":"You <i>could</i> give each nested class a static method, called something <i>other than</i> <code>toString</code> and call that instead.  But it still seems like a horrible thing to be doing.  What are you actually trying to achieve?"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1660091369,"creation_date":1660090069,"answer_id":73299318,"question_id":73299286,"body_markdown":"Your `toString()` is invoked directly on the class object.  I.e., it calls `Class&lt;T&gt;.toString()` not `NestedClassOne.toString()`.  For that you need to use reflection:\r\n\r\n      Class&lt;NestedClassOne&gt; clazz = NestedClassOne.class;\r\n      Method method = clazz.getMethod( &quot;toString&quot; );\r\n      NestedClassOne obj = clazz.newInstance();\r\n\r\n      Object result = method.invoke( obj );\r\n      System.out.println( result );\r\n\r\n\r\nI&#39;ll repeat my comments however: \r\n\r\nThis sounds like a bad idea. You really shouldn&#39;t be using reflection like this. An `enum` or something similar would likely be a better fit.\r\n\r\nIt&#39;s just kind of obviously super brittle. It throws numerous exceptions, which enums won&#39;t. If the code structure changes at all (changing to a different constructor for example) it breaks. If the method name changes, the compiler can&#39;t detect it. Etc. I wouldn&#39;t want to maintain code that works the way you are asking for.","title":"Java: Iterate through Nested Classes","body":"<p>Your <code>toString()</code> is invoked directly on the class object.  I.e., it calls <code>Class&lt;T&gt;.toString()</code> not <code>NestedClassOne.toString()</code>.  For that you need to use reflection:</p>\n<pre><code>  Class&lt;NestedClassOne&gt; clazz = NestedClassOne.class;\n  Method method = clazz.getMethod( &quot;toString&quot; );\n  NestedClassOne obj = clazz.newInstance();\n\n  Object result = method.invoke( obj );\n  System.out.println( result );\n</code></pre>\n<p>I'll repeat my comments however:</p>\n<p>This sounds like a bad idea. You really shouldn't be using reflection like this. An <code>enum</code> or something similar would likely be a better fit.</p>\n<p>It's just kind of obviously super brittle. It throws numerous exceptions, which enums won't. If the code structure changes at all (changing to a different constructor for example) it breaks. If the method name changes, the compiler can't detect it. Etc. I wouldn't want to maintain code that works the way you are asking for.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1660097355,"creation_date":1660092673,"answer_id":73299538,"question_id":73299286,"body_markdown":"&gt; My goal is to 1) iterate through these nested classes to 2) access the value returned by the overridden `toString` **without initializing every single nested class**.\r\n\r\nThe first part you are doing.  The second part is not possible.\r\n\r\nThe `toString()` methods you are trying to call are instance methods.\r\n\r\n  - You can&#39;t call an instance method until you have created an instance.\r\n  - You can&#39;t create an instance of a class without triggering&lt;sup&gt;1&lt;/sup&gt; the static initialization of the class.\r\n\r\nWhat your attempted code is actually doing is calling the `toString()` method on the `Class` objects.  That gives you the *names* of the classes.\r\n\r\n@markspace&#39;s [answer][1] shows how to create an instance and call the  `toString()` method via reflection.  The caveats are that it assumes that each class has a no-args constructor, and that creating the instances doesn&#39;t have undesirable side-effects.\r\n\r\n----------------\r\n\r\n&lt;sup&gt;1 - There are scenarios involving classes with cyclic dependencies where an instance of a class may be created before its static initialization has completed.&lt;/sup&gt;\r\n\r\n----------------\r\n\r\nI agree with @markspace&#39;s comments.  I&#39;m not sure what the real purpose of this is, but there is likely to be a better (more robust) way than calling `toString()` methods.   (For example ... using a custom annotation with runtime retention.)  \r\n\r\nEven if there isn&#39;t, the constraint of not initializing the classes seems artificial to me: is this a premature optimization?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73299318/139985","title":"Java: Iterate through Nested Classes","body":"<blockquote>\n<p>My goal is to 1) iterate through these nested classes to 2) access the value returned by the overridden <code>toString</code> <strong>without initializing every single nested class</strong>.</p>\n</blockquote>\n<p>The first part you are doing.  The second part is not possible.</p>\n<p>The <code>toString()</code> methods you are trying to call are instance methods.</p>\n<ul>\n<li>You can't call an instance method until you have created an instance.</li>\n<li>You can't create an instance of a class without triggering<sup>1</sup> the static initialization of the class.</li>\n</ul>\n<p>What your attempted code is actually doing is calling the <code>toString()</code> method on the <code>Class</code> objects.  That gives you the <em>names</em> of the classes.</p>\n<p>@markspace's <a href=\"https://stackoverflow.com/a/73299318/139985\">answer</a> shows how to create an instance and call the  <code>toString()</code> method via reflection.  The caveats are that it assumes that each class has a no-args constructor, and that creating the instances doesn't have undesirable side-effects.</p>\n<hr />\n<p><sup>1 - There are scenarios involving classes with cyclic dependencies where an instance of a class may be created before its static initialization has completed.</sup></p>\n<hr />\n<p>I agree with @markspace's comments.  I'm not sure what the real purpose of this is, but there is likely to be a better (more robust) way than calling <code>toString()</code> methods.   (For example ... using a custom annotation with runtime retention.)</p>\n<p>Even if there isn't, the constraint of not initializing the classes seems artificial to me: is this a premature optimization?</p>\n"}],"owner":{"account_id":25963987,"reputation":31,"user_id":19680152,"display_name":"Nathan Xu  "},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1660097355,"creation_date":1660089706,"question_id":73299286,"body_markdown":"Currently, I have a number of nested classes inside an outer class. Each nested class has an overriden `toString` method. My goal is to iterate through these nested classes to access the value returned by the overriden `toString` without initializing every single nested class. I&#39;ve tried iterating through the array returned by `Class#getDeclaredClasses`\r\n\r\nThe simplified outer class:\r\n```\r\nclass MyClass {\r\n    static class NestedClassOne {\r\n        @Override\r\n        public String toString() {return &quot;One&quot;;}\r\n    }\r\n    static class NestedClassTwo {\r\n        @Override\r\n        public String toString() {return &quot;Two&quot;;}\r\n    }\r\n}\r\n```\r\nThe method I&#39;ve tried, using the `Class#getDeclaredClasses` array:\r\n```\r\n        for (Class&lt;?&gt; NestedClass : MyClass.class.getDeclaredClasses()) {\r\n            System.out.println(NestedClass.toString());\r\n        }\r\n```\r\nThis method, to my dismay, only prints the following:\r\n```\r\nclass ... MyClass$NestedClassTwo\r\nclass ... MyClass$NestedClassOne\r\n```","title":"Java: Iterate through Nested Classes","body":"<p>Currently, I have a number of nested classes inside an outer class. Each nested class has an overriden <code>toString</code> method. My goal is to iterate through these nested classes to access the value returned by the overriden <code>toString</code> without initializing every single nested class. I've tried iterating through the array returned by <code>Class#getDeclaredClasses</code></p>\n<p>The simplified outer class:</p>\n<pre><code>class MyClass {\n    static class NestedClassOne {\n        @Override\n        public String toString() {return &quot;One&quot;;}\n    }\n    static class NestedClassTwo {\n        @Override\n        public String toString() {return &quot;Two&quot;;}\n    }\n}\n</code></pre>\n<p>The method I've tried, using the <code>Class#getDeclaredClasses</code> array:</p>\n<pre><code>        for (Class&lt;?&gt; NestedClass : MyClass.class.getDeclaredClasses()) {\n            System.out.println(NestedClass.toString());\n        }\n</code></pre>\n<p>This method, to my dismay, only prints the following:</p>\n<pre><code>class ... MyClass$NestedClassTwo\nclass ... MyClass$NestedClassOne\n</code></pre>\n"},{"tags":["java","authentication","jwt","postman"],"answers":[{"tags":[],"owner":{"account_id":8838669,"reputation":776,"user_id":6601800,"display_name":"Linh Vu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634795486,"creation_date":1634791162,"answer_id":69655972,"question_id":69655701,"body_markdown":"Try removing `.antMatchers(&quot;/**&quot;).permitAll()`, and add these lines to your:\r\n\r\napplication.yml\r\n```yml\r\nlogging:\r\n  level:\r\n    org.springframework.security: TRACE\r\n```\r\nor application.properties\r\n```properties\r\nlogging.level.org.springframework.security=TRACE\r\n```\r\n\r\nAnd you could see the information about your user like this:\r\n```\r\nAnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n```\r\n\r\nYou can rely on `Granted Authorities` in order to determine user&#39;s roles\r\n\r\n---\r\n\r\nBecause you&#39;re setting `.antMatchers(&quot;/**&quot;).permitAll()` before `.anyRequest().authenticated()`, I&#39;m not so sure whether you validated the user successfully or not. If not, then the `AnonymousAuthenticationFilter` will create an anonymous user for you. And in case you don&#39;t add `@PreAuthorize(&quot;hasRole(&#39;USER&#39;)&quot;)`, \r\nthe `FilterSecurityInterceptor`, bases on `.antMatchers(&quot;/**&quot;).permitAll()`, will allow the request gets through it and accesses the controller.","title":"Error: Full authentication is required to access this resource when using @PreAuthorize","body":"<p>Try removing <code>.antMatchers(&quot;/**&quot;).permitAll()</code>, and add these lines to your:</p>\n<p>application.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>logging:\n  level:\n    org.springframework.security: TRACE\n</code></pre>\n<p>or application.properties</p>\n<pre><code>logging.level.org.springframework.security=TRACE\n</code></pre>\n<p>And you could see the information about your user like this:</p>\n<pre><code>AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n</code></pre>\n<p>You can rely on <code>Granted Authorities</code> in order to determine user's roles</p>\n<hr />\n<p>Because you're setting <code>.antMatchers(&quot;/**&quot;).permitAll()</code> before <code>.anyRequest().authenticated()</code>, I'm not so sure whether you validated the user successfully or not. If not, then the <code>AnonymousAuthenticationFilter</code> will create an anonymous user for you. And in case you don't add <code>@PreAuthorize(&quot;hasRole('USER')&quot;)</code>,\nthe <code>FilterSecurityInterceptor</code>, bases on <code>.antMatchers(&quot;/**&quot;).permitAll()</code>, will allow the request gets through it and accesses the controller.</p>\n"}],"owner":{"account_id":17804716,"reputation":31,"user_id":12930640,"display_name":"Đo&#224;n Đức T&#237;n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660097072,"creation_date":1634788779,"question_id":69655701,"body_markdown":"I am trying to implement a authentication using Spring Boot, JWT with Roles\r\n\r\n**I have the error:** \r\n\r\n&gt; full authentication is required to access this resource\r\n\r\n when send **POST** request \r\nto &quot;http://localhost:8080/api/profile/edit_user_detail&quot; (with authoziration header)\r\n\r\n**Below is my **Controller****\r\n\r\n    @Controller\r\n    @CrossOrigin(origins = &quot;*&quot;,maxAge = 3600)\r\n    @RequestMapping(&quot;/api/profile&quot;)\r\n    public class UserAPI {\r\n    \r\n        @Autowired\r\n        UserRepository userRepository;\r\n        @Autowired\r\n        private RoleRepository roleRepository;\r\n        @Autowired\r\n        QARepository qaRepository;\r\n        @Autowired\r\n        DiscussRepository discussRepository;\r\n        @Autowired\r\n        AnnouncementRepository announcementRepository;\r\n    \r\n        @PostMapping(value = {&quot;/edit_user_detail&quot;})\r\n        @PreAuthorize(&quot;hasRole(&#39;ROLE_USER&#39;)&quot;)\r\n        public ResponseEntity&lt;?&gt; editInfo(@RequestBody Map map) throws ParseException {\r\n            String username = map.get(&quot;username&quot;).toString();\r\n            String display_name = map.get(&quot;display_name&quot;).toString();\r\n    \r\n            User user = userRepository.findByUserName(username).get(0);\r\n            user.setuDigitalName(display_name);\r\n           \r\n            userRepository.save(user);\r\n    \r\n            return ResponseEntity.ok(&quot;Updated&quot;);\r\n        }\r\n\r\n**But when i remove the line** \r\n\r\n&gt; @PreAuthorize(&quot;hasRole(&#39;ROLE_USER&#39;)&quot;)\r\n\r\nthen i can success POST the request and edited successfully the user (I have checked in database)\r\n\r\n**Also this is my EntryPoint (to catch Exception)**\r\n\r\n    @Component\r\n    public class AuthEntryPointJwt implements AuthenticationEntryPoint {\r\n        private static final Logger log = LoggerFactory.getLogger(AuthEntryPointJwt.class);\r\n        @Override\r\n        public void commence(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, AuthenticationException e) throws IOException, ServletException {\r\n            log.error(&quot;Authorized error: &quot; + e.getMessage());\r\n            httpServletResponse.sendError(HttpServletResponse.SC_UNAUTHORIZED,&quot;Error: Unauthorized&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n**And this is my Configuration file**\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class ConfigAuthenticate extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private UserDetailsServices userDetailsServices;\r\n    \r\n        @Autowired\r\n        private AuthEntryPointJwt unauthorizeHandler;\r\n    \r\n        @Bean\r\n        public AuthTokenFilter authenticationJwtTokenFilter(){\r\n            return new AuthTokenFilter();\r\n        }\r\n        @Bean\r\n        @Override public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userDetailsServices).passwordEncoder(passwordEncoder());\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.cors().and().csrf().disable().exceptionHandling().authenticationEntryPoint(unauthorizeHandler)\r\n                    .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and().authorizeRequests()\r\n                    .antMatchers(&quot;/**&quot;).permitAll()\r\n                    .anyRequest().authenticated();\r\n    \r\n            http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n    \r\n    }\r\n\r\nI think there are a problem with configuration in **WebSecurityConfigurerAdapter** , i have try to\r\n\r\n - Change `@PreAuthorize(&quot;hasRole(&#39;ROLE_USER&#39;)&quot;)` to `@PreAuthorize(&quot;hasRole(&#39;USER&#39;)&quot;)`\r\n - Check the JWT Token in header, also the ROLE in database\r\n\r\nbut it&#39;s still not work, anybody have solution\r\n\r\n","title":"Error: Full authentication is required to access this resource when using @PreAuthorize","body":"<p>I am trying to implement a authentication using Spring Boot, JWT with Roles</p>\n<p><strong>I have the error:</strong></p>\n<blockquote>\n<p>full authentication is required to access this resource</p>\n</blockquote>\n<p>when send <strong>POST</strong> request\nto &quot;http://localhost:8080/api/profile/edit_user_detail&quot; (with authoziration header)</p>\n<p><strong>Below is my <strong>Controller</strong></strong></p>\n<pre><code>@Controller\n@CrossOrigin(origins = &quot;*&quot;,maxAge = 3600)\n@RequestMapping(&quot;/api/profile&quot;)\npublic class UserAPI {\n\n    @Autowired\n    UserRepository userRepository;\n    @Autowired\n    private RoleRepository roleRepository;\n    @Autowired\n    QARepository qaRepository;\n    @Autowired\n    DiscussRepository discussRepository;\n    @Autowired\n    AnnouncementRepository announcementRepository;\n\n    @PostMapping(value = {&quot;/edit_user_detail&quot;})\n    @PreAuthorize(&quot;hasRole('ROLE_USER')&quot;)\n    public ResponseEntity&lt;?&gt; editInfo(@RequestBody Map map) throws ParseException {\n        String username = map.get(&quot;username&quot;).toString();\n        String display_name = map.get(&quot;display_name&quot;).toString();\n\n        User user = userRepository.findByUserName(username).get(0);\n        user.setuDigitalName(display_name);\n       \n        userRepository.save(user);\n\n        return ResponseEntity.ok(&quot;Updated&quot;);\n    }\n</code></pre>\n<p><strong>But when i remove the line</strong></p>\n<blockquote>\n<p>@PreAuthorize(&quot;hasRole('ROLE_USER')&quot;)</p>\n</blockquote>\n<p>then i can success POST the request and edited successfully the user (I have checked in database)</p>\n<p><strong>Also this is my EntryPoint (to catch Exception)</strong></p>\n<pre><code>@Component\npublic class AuthEntryPointJwt implements AuthenticationEntryPoint {\n    private static final Logger log = LoggerFactory.getLogger(AuthEntryPointJwt.class);\n    @Override\n    public void commence(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, AuthenticationException e) throws IOException, ServletException {\n        log.error(&quot;Authorized error: &quot; + e.getMessage());\n        httpServletResponse.sendError(HttpServletResponse.SC_UNAUTHORIZED,&quot;Error: Unauthorized&quot;);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p><strong>And this is my Configuration file</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class ConfigAuthenticate extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserDetailsServices userDetailsServices;\n\n    @Autowired\n    private AuthEntryPointJwt unauthorizeHandler;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter(){\n        return new AuthTokenFilter();\n    }\n    @Bean\n    @Override public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsServices).passwordEncoder(passwordEncoder());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable().exceptionHandling().authenticationEntryPoint(unauthorizeHandler)\n                .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and().authorizeRequests()\n                .antMatchers(&quot;/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n    }\n\n}\n</code></pre>\n<p>I think there are a problem with configuration in <strong>WebSecurityConfigurerAdapter</strong> , i have try to</p>\n<ul>\n<li>Change <code>@PreAuthorize(&quot;hasRole('ROLE_USER')&quot;)</code> to <code>@PreAuthorize(&quot;hasRole('USER')&quot;)</code></li>\n<li>Check the JWT Token in header, also the ROLE in database</li>\n</ul>\n<p>but it's still not work, anybody have solution</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","aws-sdk"],"comments":[{"owner":{"account_id":2072373,"reputation":724,"user_id":1846528,"display_name":"M-sAnNan"},"score":0,"creation_date":1481026100,"post_id":26533223,"comment_id":69198420,"body_markdown":"found any thing helpfull?","body":"found any thing helpfull?"}],"answers":[{"tags":[],"owner":{"account_id":2275287,"reputation":37,"user_id":2001728,"display_name":"user2001728"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1431459097,"creation_date":1431459097,"answer_id":30199875,"question_id":26533223,"body_markdown":"Looks like you need to set the version when creating the item class.  It&#39;s expecting 1 but found null.  The versionedAttribute is expecting a value, and it seems when the item is created for the first time it will expect 1.\r\n\r\nIf you update this item in the future, it should take care of incrementing the version internally.","title":"Dynamodb ConditionalCheckFailedException on read / update operation - java sdk","body":"<p>Looks like you need to set the version when creating the item class.  It's expecting 1 but found null.  The versionedAttribute is expecting a value, and it seems when the item is created for the first time it will expect 1.</p>\n\n<p>If you update this item in the future, it should take care of incrementing the version internally.</p>\n"},{"tags":[],"owner":{"account_id":2072373,"reputation":724,"user_id":1846528,"display_name":"M-sAnNan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475667605,"creation_date":1475667605,"answer_id":39872988,"question_id":26533223,"body_markdown":"Usualy  this occurs when your **keys** are same for more then one element in dynamodb.  For example if you have **Folder** with id as hashKey and folderName as rangeKey, You wont save the **Folder** again where your **hash**(hashkey+rangeKey) would be same.","title":"Dynamodb ConditionalCheckFailedException on read / update operation - java sdk","body":"<p>Usualy  this occurs when your <strong>keys</strong> are same for more then one element in dynamodb.  For example if you have <strong>Folder</strong> with id as hashKey and folderName as rangeKey, You wont save the <strong>Folder</strong> again where your <strong>hash</strong>(hashkey+rangeKey) would be same.</p>\n"},{"tags":[],"owner":{"account_id":4351792,"reputation":429,"user_id":4262060,"display_name":"Rathan"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1500475525,"creation_date":1500475525,"answer_id":45194033,"question_id":26533223,"body_markdown":"Dynamodb has this concept of [Optimistic Locking](http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.OptimisticLocking.html), is strategy to ensure that the client-side item that you are updating (or deleting) is the same as the item in DynamoDB.\r\n\r\n1. First save:\r\n\r\nIf it&#39;s a first update, you have to follow this format\r\n\r\n    DynamodbSaveExpression saveExpression = \r\n           new DynamodbSaveExpression()\r\n           .withExpectedEntry(&quot;ItemId&quot;, new ExpectedAttributeValue().withExists(false)\r\n           .withConditionalOperator(AND)\r\n           .withExpectedEntry(&quot;ItemName&quot;, new ExpectedAttributeValue().withExists(false));\r\n    // saving the item to dynamodb \r\n    dynamodbmapper.save(itemToSave, saveExpression);\r\n\r\nExplanation: We are telling that *itemToSave* should be saved only when both &quot;ItemId&quot;, &quot;ItemValue&quot; combination is not there in dynamodb. \r\n\r\n2. Update to an existing item:\r\n\r\nFor an update to an existing item in dynamodb, you have to follow this format\r\n\r\n    // Step1: Do a GET\r\n    ExampleItem itemInDynamo = dynamoDBMapper.load(ExampleItem.class, &quot;item_id_value&quot;, &quot;item_name_value&quot;);\r\n    // Step2: Get the version in Dynamo\r\n    Long versionInDynamo = itemInDynamo.getVersion();\r\n    DynamodbSaveExpression saveExpression = \r\n           new DynamodbSaveExpression()\r\n           .withExpectedEntry(&quot;version&quot;, \r\n           new ExpectedAttributeValue(new AttributeValue().withN(versionInDynamodb.toString())));\r\n    // Step3: Update the item\r\n    dynamodbmapper.save(itemToSave, saveExpression);\r\n\r\nSave will only succeed if the version with which you are saving is the same in the Dynamodb, if not save will fail with [ConditionalCheckFailedException](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/model/ConditionalCheckFailedException.html) then you have retry from step1. This is Read first then Write.     \r\n\r\n","title":"Dynamodb ConditionalCheckFailedException on read / update operation - java sdk","body":"<p>Dynamodb has this concept of <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.OptimisticLocking.html\" rel=\"noreferrer\">Optimistic Locking</a>, is strategy to ensure that the client-side item that you are updating (or deleting) is the same as the item in DynamoDB.</p>\n\n<ol>\n<li>First save:</li>\n</ol>\n\n<p>If it's a first update, you have to follow this format</p>\n\n<pre><code>DynamodbSaveExpression saveExpression = \n       new DynamodbSaveExpression()\n       .withExpectedEntry(\"ItemId\", new ExpectedAttributeValue().withExists(false)\n       .withConditionalOperator(AND)\n       .withExpectedEntry(\"ItemName\", new ExpectedAttributeValue().withExists(false));\n// saving the item to dynamodb \ndynamodbmapper.save(itemToSave, saveExpression);\n</code></pre>\n\n<p>Explanation: We are telling that <em>itemToSave</em> should be saved only when both \"ItemId\", \"ItemValue\" combination is not there in dynamodb. </p>\n\n<ol start=\"2\">\n<li>Update to an existing item:</li>\n</ol>\n\n<p>For an update to an existing item in dynamodb, you have to follow this format</p>\n\n<pre><code>// Step1: Do a GET\nExampleItem itemInDynamo = dynamoDBMapper.load(ExampleItem.class, \"item_id_value\", \"item_name_value\");\n// Step2: Get the version in Dynamo\nLong versionInDynamo = itemInDynamo.getVersion();\nDynamodbSaveExpression saveExpression = \n       new DynamodbSaveExpression()\n       .withExpectedEntry(\"version\", \n       new ExpectedAttributeValue(new AttributeValue().withN(versionInDynamodb.toString())));\n// Step3: Update the item\ndynamodbmapper.save(itemToSave, saveExpression);\n</code></pre>\n\n<p>Save will only succeed if the version with which you are saving is the same in the Dynamodb, if not save will fail with <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/model/ConditionalCheckFailedException.html\" rel=\"noreferrer\">ConditionalCheckFailedException</a> then you have retry from step1. This is Read first then Write.     </p>\n"},{"tags":[],"owner":{"account_id":3111173,"reputation":422,"user_id":2632860,"accept_rate":71,"display_name":"Hellaren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660096290,"creation_date":1660096290,"answer_id":73299809,"question_id":26533223,"body_markdown":"A bit late to the party, but I hope this helps someone.\r\n\r\nIn my case the problem was that @DynamoDbVersionAttribute annotation was added to an int field:\r\n\r\n    @Getter(onMethod = @__({ @DynamoDbVersionAttribute }))\r\n    private int version;\r\n\r\nSince it&#39;s not a reference type, it was set to 0 by default each time a new instance of my entity was created.\r\n\r\nTo solve the problem I replaced **int** by **Integer**:\r\n\r\n    @Getter(onMethod = @__({ @DynamoDbVersionAttribute }))\r\n    private Integer version;\r\n\r\nit started working as expected.\r\n\r\nNote: Integer is a reference type and its default value is null. Most likely DynamoDB expects the attribute annotated with @DynamoDbVersionAttribute to be equal null for new items.","title":"Dynamodb ConditionalCheckFailedException on read / update operation - java sdk","body":"<p>A bit late to the party, but I hope this helps someone.</p>\n<p>In my case the problem was that @DynamoDbVersionAttribute annotation was added to an int field:</p>\n<pre><code>@Getter(onMethod = @__({ @DynamoDbVersionAttribute }))\nprivate int version;\n</code></pre>\n<p>Since it's not a reference type, it was set to 0 by default each time a new instance of my entity was created.</p>\n<p>To solve the problem I replaced <strong>int</strong> by <strong>Integer</strong>:</p>\n<pre><code>@Getter(onMethod = @__({ @DynamoDbVersionAttribute }))\nprivate Integer version;\n</code></pre>\n<p>it started working as expected.</p>\n<p>Note: Integer is a reference type and its default value is null. Most likely DynamoDB expects the attribute annotated with @DynamoDbVersionAttribute to be equal null for new items.</p>\n"}],"owner":{"account_id":207732,"reputation":1691,"user_id":457776,"accept_rate":60,"display_name":"Shamik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31186,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1660096290,"creation_date":1414083020,"question_id":26533223,"body_markdown":"I&#39;m new to DynamoDB and trying out a sample scenario using Transaction support. I&#39;m using the same entity provided in *dynamodb-transaction* library. Only difference is I&#39;ve added a range key with the hash key. Here&#39;s the table definition:\r\n\r\n - `ItemId` --&gt; hash key , string\r\n - `ItemName` --&gt; range key, string\r\n\r\n------\r\n\r\n    @DynamoDBTable(tableName = &quot;Item&quot;)\r\n    public static class ExampleItem {\r\n        private String itemId;\r\n        private String value;\r\n        private String itemName;\r\n        private Long version;\r\n        @DynamoDBHashKey(attributeName = &quot;ItemId&quot;)\r\n        public String getItemId() {\r\n            return itemId;\r\n        }\r\n        public void setItemId(String itemId) {\r\n            this.itemId = itemId;\r\n        }\r\n        @DynamoDBRangeKey(attributeName=&quot;ItemName&quot;)\r\n        public String getItemName() {\r\n            return itemName;\r\n        }\r\n        public void setItemName(String itemName) {\r\n            this.itemName = itemName;\r\n        }\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n        public void setValue(String value) {\r\n            this.value = value;\r\n        }\r\n        @DynamoDBVersionAttribute\r\n        public Long getVersion() {\r\n            return version;\r\n        }\r\n        public void setVersion(Long version) {\r\n            this.version = version;\r\n        }\r\n    }\r\n\r\nAs you can see, I&#39;m using the version attribute as well.\r\nNow, I&#39;m trying to execute a simple create or update scenario using transaction/dbmapper. Here&#39;s the code snippet.\r\n\r\n    Transaction t1 = txManager.newTransaction();\r\n    ExampleItem keyItem = new ExampleItem();\r\n    keyItem.setItemId(&quot;Item1&quot;);\r\n    keyItem.setItemName(&quot;USA&quot;);\r\n    ExampleItem item = t1.load(keyItem);\r\n    if (item != null) {\r\n        item.setValue(&quot;Magenta&quot;);\r\n        item.setItemName(&quot;UK&quot;);\r\n        t1.save(item);\r\n    } else {\r\n        item = new ExampleItem();\r\n        item.setItemId(keyItem.getItemId());\r\n        item.setItemName(&quot;USA&quot;);\r\n        item.setValue(&quot;Violet&quot;);\r\n        t1.save(item);\r\n    }\r\n    t1.commit();\r\n    t1.delete();\r\n\r\nI&#39;m able to add the record without any issue, but I&#39;m having a problem when I&#39;m trying to read the record and update any attribute. I&#39;m getting the following exception:\r\n\r\n    Uncaught exception:com.amazonaws.services.dynamodbv2.model.ConditionalCheckFailedException: Status Code: 0, AWS Service: null, AWS Request ID: null, AWS Error Code: null, AWS Error Message: Item {ItemId={S: Item1,}, ItemName={S: UK,}} had unexpected attributes: Status Code: 0, AWS Service: null, AWS Request ID: null, AWS Error Code: null, AWS Error Message: expected attribute(s) {version={Value: {N: 1,},Exists: true}} but found null\r\n    com.amazonaws.services.dynamodbv2.model.ConditionalCheckFailedException: Status Code: 0, AWS Service: null, AWS Request ID: null, AWS Error Code: null, AWS Error Message: Item {ItemId={S: Item1,}, ItemName={S: UK,}} had unexpected attributes: Status Code: 0, AWS Service: null, AWS Request ID: null, AWS Error Code: null, AWS Error Message: expected attribute(s) {version={Value: {N: 1,},Exists: true}} but found null\r\n\r\nLooks like it has something to do with version, but not sure where am I going wrong. Any pointers will be appreciated.\r\n\r\n-Thanks \r\n\r\nShamik","title":"Dynamodb ConditionalCheckFailedException on read / update operation - java sdk","body":"<p>I'm new to DynamoDB and trying out a sample scenario using Transaction support. I'm using the same entity provided in <em>dynamodb-transaction</em> library. Only difference is I've added a range key with the hash key. Here's the table definition:</p>\n\n<ul>\n<li><code>ItemId</code> --> hash key , string</li>\n<li><code>ItemName</code> --> range key, string</li>\n</ul>\n\n<hr>\n\n<pre><code>@DynamoDBTable(tableName = \"Item\")\npublic static class ExampleItem {\n    private String itemId;\n    private String value;\n    private String itemName;\n    private Long version;\n    @DynamoDBHashKey(attributeName = \"ItemId\")\n    public String getItemId() {\n        return itemId;\n    }\n    public void setItemId(String itemId) {\n        this.itemId = itemId;\n    }\n    @DynamoDBRangeKey(attributeName=\"ItemName\")\n    public String getItemName() {\n        return itemName;\n    }\n    public void setItemName(String itemName) {\n        this.itemName = itemName;\n    }\n    public String getValue() {\n        return value;\n    }\n    public void setValue(String value) {\n        this.value = value;\n    }\n    @DynamoDBVersionAttribute\n    public Long getVersion() {\n        return version;\n    }\n    public void setVersion(Long version) {\n        this.version = version;\n    }\n}\n</code></pre>\n\n<p>As you can see, I'm using the version attribute as well.\nNow, I'm trying to execute a simple create or update scenario using transaction/dbmapper. Here's the code snippet.</p>\n\n<pre><code>Transaction t1 = txManager.newTransaction();\nExampleItem keyItem = new ExampleItem();\nkeyItem.setItemId(\"Item1\");\nkeyItem.setItemName(\"USA\");\nExampleItem item = t1.load(keyItem);\nif (item != null) {\n    item.setValue(\"Magenta\");\n    item.setItemName(\"UK\");\n    t1.save(item);\n} else {\n    item = new ExampleItem();\n    item.setItemId(keyItem.getItemId());\n    item.setItemName(\"USA\");\n    item.setValue(\"Violet\");\n    t1.save(item);\n}\nt1.commit();\nt1.delete();\n</code></pre>\n\n<p>I'm able to add the record without any issue, but I'm having a problem when I'm trying to read the record and update any attribute. I'm getting the following exception:</p>\n\n<pre><code>Uncaught exception:com.amazonaws.services.dynamodbv2.model.ConditionalCheckFailedException: Status Code: 0, AWS Service: null, AWS Request ID: null, AWS Error Code: null, AWS Error Message: Item {ItemId={S: Item1,}, ItemName={S: UK,}} had unexpected attributes: Status Code: 0, AWS Service: null, AWS Request ID: null, AWS Error Code: null, AWS Error Message: expected attribute(s) {version={Value: {N: 1,},Exists: true}} but found null\ncom.amazonaws.services.dynamodbv2.model.ConditionalCheckFailedException: Status Code: 0, AWS Service: null, AWS Request ID: null, AWS Error Code: null, AWS Error Message: Item {ItemId={S: Item1,}, ItemName={S: UK,}} had unexpected attributes: Status Code: 0, AWS Service: null, AWS Request ID: null, AWS Error Code: null, AWS Error Message: expected attribute(s) {version={Value: {N: 1,},Exists: true}} but found null\n</code></pre>\n\n<p>Looks like it has something to do with version, but not sure where am I going wrong. Any pointers will be appreciated.</p>\n\n<p>-Thanks </p>\n\n<p>Shamik</p>\n"},{"tags":["java","playframework"],"answers":[{"tags":[],"owner":{"account_id":3216,"reputation":12095,"user_id":4600,"display_name":"marcospereira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660095009,"creation_date":1487623931,"answer_id":42354003,"question_id":42338814,"body_markdown":"Think about the following annotation:\r\n\r\n    @With(CacheAction.class)\r\n    @Target({ElementType.TYPE, ElementType.METHOD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface Cached {\r\n        String key();\r\n        Long expires();\r\n        String region();\r\n    }\r\n\r\nWith the annotation above, you can annotate your actions like:\r\n\r\n    @Cached(\r\n        key = &quot;my.cached.page&quot;,\r\n        expires = 30,\r\n        region = &quot;pages&quot;\r\n    )\r\n    public Result index() {\r\n        ...\r\n    }\r\n\r\nSo, how would you pass these cache configurations to the composing action using the `@With` annotation? You could not. `@With` is good if you don&#39;t have to configure how the composing action will behave, like logging in the documentation examples. But if you need, then declaring your own annotations is necessary.\r\n\r\nThe `Action` class expects the annotation type because you can then retrieve the `configuration` while calling the composing action:\r\n\r\n    public CompletionStage&lt;Result&gt; call(Context ctx) {\r\n        Cached cacheConfiguration = this.configuration;\r\n        String key = cacheConfiguration.key();\r\n        Long expires = cacheConfiguration.expires();\r\n        string region = cacheConfiguration.region();\r\n\r\n        ...\r\n    }\r\n\r\nFinally, defining your annotations is good because you can better express their semantics (this is a `@Cached` action, an `@Authenticated` action, etc.).","title":"If we can directly do action composition using @With annotation then why do we need to create custom annotations using interfaces?","body":"<p>Think about the following annotation:</p>\n<pre><code>@With(CacheAction.class)\n@Target({ElementType.TYPE, ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Cached {\n    String key();\n    Long expires();\n    String region();\n}\n</code></pre>\n<p>With the annotation above, you can annotate your actions like:</p>\n<pre><code>@Cached(\n    key = &quot;my.cached.page&quot;,\n    expires = 30,\n    region = &quot;pages&quot;\n)\npublic Result index() {\n    ...\n}\n</code></pre>\n<p>So, how would you pass these cache configurations to the composing action using the <code>@With</code> annotation? You could not. <code>@With</code> is good if you don't have to configure how the composing action will behave, like logging in the documentation examples. But if you need, then declaring your own annotations is necessary.</p>\n<p>The <code>Action</code> class expects the annotation type because you can then retrieve the <code>configuration</code> while calling the composing action:</p>\n<pre><code>public CompletionStage&lt;Result&gt; call(Context ctx) {\n    Cached cacheConfiguration = this.configuration;\n    String key = cacheConfiguration.key();\n    Long expires = cacheConfiguration.expires();\n    string region = cacheConfiguration.region();\n\n    ...\n}\n</code></pre>\n<p>Finally, defining your annotations is good because you can better express their semantics (this is a <code>@Cached</code> action, an <code>@Authenticated</code> action, etc.).</p>\n"}],"owner":{"account_id":10271061,"reputation":37,"user_id":7579419,"accept_rate":80,"display_name":"Partish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42354003,"answer_count":1,"score":0,"last_activity_date":1660095009,"creation_date":1487576007,"question_id":42338814,"body_markdown":"When we are using Play Framework [Action Composition](https://playframework.com/documentation/2.5.x/JavaActionsComposition) we can directly use the `@With` annotation, as [explained here](https://playframework.com/documentation/2.5.x/JavaActionsComposition#Composing-actions). Alternatively, we can define [custom action annotations](https://playframework.com/documentation/2.5.x/JavaActionsComposition#Defining-custom-action-annotations).\r\n\r\nBut what are the advantages of defining your own annotations? It&#39;s like we are just adding a middle-man (interface).\r\n\r\nAnd one more doubt: while implementing the action class we use generics to specify a corresponding interface. Is it just because Play is type safe? In the docs they have mentioned &quot;Action definition retrieves the annotation as configuration&quot;. Is it just because we can configure using custom annotations?","title":"If we can directly do action composition using @With annotation then why do we need to create custom annotations using interfaces?","body":"<p>When we are using Play Framework <a href=\"https://playframework.com/documentation/2.5.x/JavaActionsComposition\" rel=\"nofollow noreferrer\">Action Composition</a> we can directly use the <code>@With</code> annotation, as <a href=\"https://playframework.com/documentation/2.5.x/JavaActionsComposition#Composing-actions\" rel=\"nofollow noreferrer\">explained here</a>. Alternatively, we can define <a href=\"https://playframework.com/documentation/2.5.x/JavaActionsComposition#Defining-custom-action-annotations\" rel=\"nofollow noreferrer\">custom action annotations</a>.</p>\n\n<p>But what are the advantages of defining your own annotations? It's like we are just adding a middle-man (interface).</p>\n\n<p>And one more doubt: while implementing the action class we use generics to specify a corresponding interface. Is it just because Play is type safe? In the docs they have mentioned \"Action definition retrieves the annotation as configuration\". Is it just because we can configure using custom annotations?</p>\n"},{"tags":["java","bazel","bazel-java"],"answers":[{"tags":[],"owner":{"account_id":8432092,"reputation":4323,"user_id":6327445,"display_name":"ahumesky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660092953,"creation_date":1660092953,"answer_id":73299556,"question_id":72473689,"body_markdown":"One way to do this is to create a jar file with the files in the META-INF folder and add that as a dependency of your java_library. The contents of the jar should be merged in. Something like this:\r\n\r\n```\r\njava_library(\r\n  name = &quot;lib&quot;,\r\n  srcs = [...],\r\n  deps = [&quot;:meta_inf_import&quot;],\r\n)\r\n\r\njava_import(\r\n  name = &quot;meta_inf_import&quot;,\r\n  jars = [&quot;:meta_inf.jar&quot;],\r\n)\r\n\r\ngenrule(\r\n  name = &quot;gen_meta_inf&quot;,\r\n  srcs = [&quot;java.lang.System$LoggerFinder&quot;],\r\n  outs = [&quot;meta_inf.jar&quot;],\r\n  cmd = &quot;&quot;&quot;\r\nmkdir -p META-INF/services\r\ncp $&lt; META-INF/services/\r\njar -cf $@ .\r\n&quot;&quot;&quot;,\r\n)\r\n```","title":"How to specify java META-INF directory and services in bazel?","body":"<p>One way to do this is to create a jar file with the files in the META-INF folder and add that as a dependency of your java_library. The contents of the jar should be merged in. Something like this:</p>\n<pre><code>java_library(\n  name = &quot;lib&quot;,\n  srcs = [...],\n  deps = [&quot;:meta_inf_import&quot;],\n)\n\njava_import(\n  name = &quot;meta_inf_import&quot;,\n  jars = [&quot;:meta_inf.jar&quot;],\n)\n\ngenrule(\n  name = &quot;gen_meta_inf&quot;,\n  srcs = [&quot;java.lang.System$LoggerFinder&quot;],\n  outs = [&quot;meta_inf.jar&quot;],\n  cmd = &quot;&quot;&quot;\nmkdir -p META-INF/services\ncp $&lt; META-INF/services/\njar -cf $@ .\n&quot;&quot;&quot;,\n)\n</code></pre>\n"}],"owner":{"account_id":17903324,"reputation":136,"user_id":13007101,"display_name":"Jo Bo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660092953,"creation_date":1654161218,"question_id":72473689,"body_markdown":"I am trying to provide my own implementation of the `System.LoggerFinder` and as far as I know I have to specify the class in some resource file `/resources/META-INF/services/java.lang.System$LoggerFinder`.\r\n\r\nNow my implementation is located in its own package (Including build file and `java_library()` as rule), which is different from the package &amp; BUILD file my `java_binary()` lives in. I added the implementation as `deps` to the BUILD file of the binary and made sure the package is visible using `//visibility:public` just to make sure that&#39;s not the problem. I tried putting the above mentioned file into both of them and specifying it as resource file in the respective BUILD file using `resources = [&quot;resources/META-INF/services/java.lang.System$LoggerFinder&quot;]`, but bazel always complains that either\r\n- the file `&#39;//:resources/META-INF/services/java.lang.System$LoggerFinder&#39;` is missing,\r\n- or, if I use `resources = [&quot;//resources/META-INF/services/java.lang.System$LoggerFinder&quot;]` instead, that the the resource directory is missing a BUILD file.\r\n\r\nSo basically my question is: Where do I have to put the resources and how do I have to specify them? If I have to add a BUILD file to the resources what rule should I use?\r\n\r\nThanks!","title":"How to specify java META-INF directory and services in bazel?","body":"<p>I am trying to provide my own implementation of the <code>System.LoggerFinder</code> and as far as I know I have to specify the class in some resource file <code>/resources/META-INF/services/java.lang.System$LoggerFinder</code>.</p>\n<p>Now my implementation is located in its own package (Including build file and <code>java_library()</code> as rule), which is different from the package &amp; BUILD file my <code>java_binary()</code> lives in. I added the implementation as <code>deps</code> to the BUILD file of the binary and made sure the package is visible using <code>//visibility:public</code> just to make sure that's not the problem. I tried putting the above mentioned file into both of them and specifying it as resource file in the respective BUILD file using <code>resources = [&quot;resources/META-INF/services/java.lang.System$LoggerFinder&quot;]</code>, but bazel always complains that either</p>\n<ul>\n<li>the file <code>'//:resources/META-INF/services/java.lang.System$LoggerFinder'</code> is missing,</li>\n<li>or, if I use <code>resources = [&quot;//resources/META-INF/services/java.lang.System$LoggerFinder&quot;]</code> instead, that the the resource directory is missing a BUILD file.</li>\n</ul>\n<p>So basically my question is: Where do I have to put the resources and how do I have to specify them? If I have to add a BUILD file to the resources what rule should I use?</p>\n<p>Thanks!</p>\n"},{"tags":["java","netbeans","server","glassfish"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660092724,"creation_date":1660091400,"answer_id":73299434,"question_id":73297585,"body_markdown":"You asked: &quot;_Is it a issue with glassfish version or jdk version?_&quot; - It&#39;s an issue with the _combination_ of the GlassFish version and the JDK version that you are trying to use. For example, [see here](https://projects.eclipse.org/projects/ee4j.glassfish/downloads). \r\n\r\n&gt; &quot;_GlassFish 6.2.5 ... officially supports JDK 11 ... runs on JDK 17 and JDK 18ea._&quot; \r\n\r\n&gt; &quot;_GlassFish 6.1.0 ... supports JDK 11._&quot; \r\n\r\n&gt; &quot;_GlassFish 6.0.0 ... only supports JDK 8._&quot; \r\n\r\nAnd so on.\r\n\r\nGoing [farther back in time](https://glassfish.org/docs/5.1.0/release-notes/release-notes.html#abpak):\r\n\r\n&gt; &quot;_GlassFish 5.1 requires Oracle JDK 8 Update 144 or later._&quot;\r\n\r\n---\r\n\r\nGenerally speaking, unless you have a good reason not to do so, you should try to use a Java LTS (long-term support) release. You can see a  [list of recent and older JDK releases](https://www.oracle.com/java/technologies/java-se-support-roadmap.html), which shows which releases are LTS and which are not. LTS releases:\r\n\r\n - 8\r\n - 11\r\n - 17\r\n\r\n(But that does not mean GlassFish will not run on other versions. Follow the GlassFish release guidelines.)\r\n\r\n---\r\n\r\nYou also tagged your question as a NetBeans question. \r\n\r\nIf you need to change the version of Java you are using in NetBeans, you can go to Tools &gt; Java platforms &gt; Add platform. But again, you may hit limitations where certain versions of NetBeans are not able to support certain versions of the Java JDK - so you need to check the NetBeans release guidelines for that. \r\n\r\nFor example for [NetBeans 14](https://netbeans.apache.org/download/nb14/nb14.html#_deployment_platforms):\r\n\r\n&gt; &quot;_The Apache NetBeans 14 binary releases require JDK 11+, and officially support running on JDK 11 and JDK 17._&quot;\r\n\r\nAnd going back to [NetBeans 9](https://netbeans.apache.org/download/nb90/):\r\n\r\n&gt; _&quot;The main goals for this release are ... Java 9 and Java 10 Support.&quot;_\r\n\r\n","title":"Glassfish server could not be started with JDK 16. Please select another Java SE platform","body":"<p>You asked: &quot;<em>Is it a issue with glassfish version or jdk version?</em>&quot; - It's an issue with the <em>combination</em> of the GlassFish version and the JDK version that you are trying to use. For example, <a href=\"https://projects.eclipse.org/projects/ee4j.glassfish/downloads\" rel=\"nofollow noreferrer\">see here</a>.</p>\n<blockquote>\n<p>&quot;<em>GlassFish 6.2.5 ... officially supports JDK 11 ... runs on JDK 17 and JDK 18ea.</em>&quot;</p>\n</blockquote>\n<blockquote>\n<p>&quot;<em>GlassFish 6.1.0 ... supports JDK 11.</em>&quot;</p>\n</blockquote>\n<blockquote>\n<p>&quot;<em>GlassFish 6.0.0 ... only supports JDK 8.</em>&quot;</p>\n</blockquote>\n<p>And so on.</p>\n<p>Going <a href=\"https://glassfish.org/docs/5.1.0/release-notes/release-notes.html#abpak\" rel=\"nofollow noreferrer\">farther back in time</a>:</p>\n<blockquote>\n<p>&quot;<em>GlassFish 5.1 requires Oracle JDK 8 Update 144 or later.</em>&quot;</p>\n</blockquote>\n<hr />\n<p>Generally speaking, unless you have a good reason not to do so, you should try to use a Java LTS (long-term support) release. You can see a  <a href=\"https://www.oracle.com/java/technologies/java-se-support-roadmap.html\" rel=\"nofollow noreferrer\">list of recent and older JDK releases</a>, which shows which releases are LTS and which are not. LTS releases:</p>\n<ul>\n<li>8</li>\n<li>11</li>\n<li>17</li>\n</ul>\n<p>(But that does not mean GlassFish will not run on other versions. Follow the GlassFish release guidelines.)</p>\n<hr />\n<p>You also tagged your question as a NetBeans question.</p>\n<p>If you need to change the version of Java you are using in NetBeans, you can go to Tools &gt; Java platforms &gt; Add platform. But again, you may hit limitations where certain versions of NetBeans are not able to support certain versions of the Java JDK - so you need to check the NetBeans release guidelines for that.</p>\n<p>For example for <a href=\"https://netbeans.apache.org/download/nb14/nb14.html#_deployment_platforms\" rel=\"nofollow noreferrer\">NetBeans 14</a>:</p>\n<blockquote>\n<p>&quot;<em>The Apache NetBeans 14 binary releases require JDK 11+, and officially support running on JDK 11 and JDK 17.</em>&quot;</p>\n</blockquote>\n<p>And going back to <a href=\"https://netbeans.apache.org/download/nb90/\" rel=\"nofollow noreferrer\">NetBeans 9</a>:</p>\n<blockquote>\n<p><em>&quot;The main goals for this release are ... Java 9 and Java 10 Support.&quot;</em></p>\n</blockquote>\n"}],"owner":{"account_id":24080967,"reputation":3,"user_id":18055634,"display_name":"Nisali Jasinghe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3818,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73299434,"answer_count":1,"score":0,"last_activity_date":1660092724,"creation_date":1660076073,"question_id":73297585,"body_markdown":"when I click on run, it displays this message in a dialog box.\r\n\r\n   &#39; Glassfish server could not be started with JDK 16. Please select another Java SE platform.\r\n\r\nAnd then it displays this error\r\n\r\nDeployment error: Could not find Java SE Development Kit to start GlassFish Server\r\nSee the server log for details.\r\n\r\nIs it a issue with glassfish version or jdk version? how can I fix this issue? any idea","title":"Glassfish server could not be started with JDK 16. Please select another Java SE platform","body":"<p>when I click on run, it displays this message in a dialog box.</p>\n<p>' Glassfish server could not be started with JDK 16. Please select another Java SE platform.</p>\n<p>And then it displays this error</p>\n<p>Deployment error: Could not find Java SE Development Kit to start GlassFish Server\nSee the server log for details.</p>\n<p>Is it a issue with glassfish version or jdk version? how can I fix this issue? any idea</p>\n"},{"tags":["java","multithreading","java-stream","completable-future","fileutils"],"comments":[{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":2,"creation_date":1618679965,"post_id":67140778,"comment_id":118677673,"body_markdown":"Have you considered profiling? Because there is no such magic number.","body":"Have you considered profiling? Because there is no such magic number."},{"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"score":0,"creation_date":1618682391,"post_id":67140778,"comment_id":118678308,"body_markdown":"The upper limit will be determined by the response time of the image server and the download bandwidth of your internet connection.  Java&#39;s NIO has asynchronous stuff that should spare you threads, but I think you can savely afford as may threads as necessary to completely exhaust the server capacity or the bandwith.","body":"The upper limit will be determined by the response time of the image server and the download bandwidth of your internet connection.  Java&#39;s NIO has asynchronous stuff that should spare you threads, but I think you can savely afford as may threads as necessary to completely exhaust the server capacity or the bandwith."},{"owner":{"account_id":10600716,"reputation":818,"user_id":10084055,"display_name":"Atamyrat Babayev"},"score":0,"creation_date":1618682985,"post_id":67140778,"comment_id":118678474,"body_markdown":"I think that the better way is to parallelize only albums not images, and if they are too many, use pagination. In addition what will be faster, getting 1000 images in parallel or in stack?","body":"I think that the better way is to parallelize only albums not images, and if they are too many, use pagination. In addition what will be faster, getting 1000 images in parallel or in stack?"},{"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"score":0,"creation_date":1618684125,"post_id":67140778,"comment_id":118678766,"body_markdown":"@JohnyDeph - I want to download the images in parallel as well. Consider a scenario where I pass just one album containing 5000 images. I don&#39;t want those 5000 images to be downloaded sequentially right? Each image download is a combination of a new connection to the server (with the exact image URL) plus the process to save that image into the disk.","body":"@JohnyDeph - I want to download the images in parallel as well. Consider a scenario where I pass just one album containing 5000 images. I don&#39;t want those 5000 images to be downloaded sequentially right? Each image download is a combination of a new connection to the server (with the exact image URL) plus the process to save that image into the disk."},{"owner":{"account_id":10600716,"reputation":818,"user_id":10084055,"display_name":"Atamyrat Babayev"},"score":0,"creation_date":1618685098,"post_id":67140778,"comment_id":118679044,"body_markdown":"I don&#39;t see any problem here, even if 10000 images will be in one thread. Ok 10000 threads with 10000 connections with parallel behaviour. First question: What will be with your source of data if there are will be multiple devices with the same parallel behaviour? Second question: What if your internet connection is too slow? Your parallelize became useless, right?  Third question: Connection to database, you should create new connection for each thread, you think it&#39;s ok? Sorry, if I&#39;m wrong","body":"I don&#39;t see any problem here, even if 10000 images will be in one thread. Ok 10000 threads with 10000 connections with parallel behaviour. First question: What will be with your source of data if there are will be multiple devices with the same parallel behaviour? Second question: What if your internet connection is too slow? Your parallelize became useless, right?  Third question: Connection to database, you should create new connection for each thread, you think it&#39;s ok? Sorry, if I&#39;m wrong"},{"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"score":0,"creation_date":1618686059,"post_id":67140778,"comment_id":118679320,"body_markdown":"@JohnyDeph, here are the answers to your questions:\n\n1. There are no multiple devices. It is going to be a small utility application hosted on a single machine.\n\n2. Internet connection is assumed to be pretty fast. So no concerns on this front.\n\n3. There is no connection to any databases.","body":"@JohnyDeph, here are the answers to your questions:  1. There are no multiple devices. It is going to be a small utility application hosted on a single machine.  2. Internet connection is assumed to be pretty fast. So no concerns on this front.  3. There is no connection to any databases."},{"owner":{"account_id":10600716,"reputation":818,"user_id":10084055,"display_name":"Atamyrat Babayev"},"score":0,"creation_date":1618686602,"post_id":67140778,"comment_id":118679447,"body_markdown":"Oh, ok! It&#39;s up to you)","body":"Oh, ok! It&#39;s up to you)"}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1618723113,"creation_date":1618723113,"answer_id":67145411,"question_id":67140778,"body_markdown":"&gt; Suppose each of these albums have 1000 images, so I need to download 50000 images in parallel.\r\n\r\nIt&#39;s wrong to think of your application doing 50000 things in parallel.  What you are trying to do is to optimize your throughput – you are trying to download all of the images in the shortest amount of time.\r\n\r\nYou should try one fixed-sized thread-pool and then play around with the number of threads in the pool until your optimize your throughput – maybe start with double the number of processors.  If your application is mostly waiting for network or the server then maybe you can increase the number of threads in the pool but you wouldn&#39;t want to overload the server so that it slows to a crawl and you wouldn&#39;t want to thrash your application with a huge number of threads.\r\n\r\n&gt; That would create 5 different pools of 1000 threads each, that&#39;ll be like 5000 threads which might degrade the performance instead of improving.\r\n\r\nI see no point in multiple pools unless there are different servers for each album or some other reason why the downloads from each album are different.\r\n","title":"Best way to parallelize thousands of downloads","body":"<blockquote>\n<p>Suppose each of these albums have 1000 images, so I need to download 50000 images in parallel.</p>\n</blockquote>\n<p>It's wrong to think of your application doing 50000 things in parallel.  What you are trying to do is to optimize your throughput – you are trying to download all of the images in the shortest amount of time.</p>\n<p>You should try one fixed-sized thread-pool and then play around with the number of threads in the pool until your optimize your throughput – maybe start with double the number of processors.  If your application is mostly waiting for network or the server then maybe you can increase the number of threads in the pool but you wouldn't want to overload the server so that it slows to a crawl and you wouldn't want to thrash your application with a huge number of threads.</p>\n<blockquote>\n<p>That would create 5 different pools of 1000 threads each, that'll be like 5000 threads which might degrade the performance instead of improving.</p>\n</blockquote>\n<p>I see no point in multiple pools unless there are different servers for each album or some other reason why the downloads from each album are different.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660091850,"creation_date":1618724509,"answer_id":67145522,"question_id":67140778,"body_markdown":"The only way to make it &quot;very very fast&quot; is to get a &quot;very very fast&quot; network connection to the server; e.g. co-locate your client with the server that you are downloading from.\r\n\r\nYour download speeds are going to be constrained by a number of potential bottlenecks.  These include:\r\n\r\n  1.  The performance of the server; i.e. how fast it can assemble the data to send to you and push it through its network interface.\r\n\r\n  2.  Per-user request limits imposed by the service.\r\n  \r\n  3.  The end-to-end performance of the network path between your client and the server.\r\n\r\n  4.  The performance of the machine you are running on in terms of moving data from the network and putting it (I guess) onto your local disk.\r\n\r\nThe bottleneck could be any of these, or a combination of them.\r\n\r\nThrowing thousands of threads at the problem is unlikely to improve things.  Indeed, if anything it is likely to make performance less than optimal.  For example:\r\n\r\n  - it could congest your network link, or\r\n  - it could trigger anti-hogging or anti-DOS defenses in the server you are fetching from.\r\n\r\nA better (simple) idea would be to use an ExecutorService with a *small* bounded worker pool, and submit the downloads to the pool as tasks.\r\n\r\nOther things:\r\n\r\n  1. Try to keep HTTP / HTTPS connections open between downloads from the same server.  Some client libraries will do this kind of thing for you.\r\n  2. If you have to download from a number of different servers, try to balance the load across the servers.  Consider implementing per-server queues and trying to balance work so that individual servers don&#39;t see &quot;bursts&quot; of activity.\r\n\r\n---------------------\r\n\r\nI would also advise you to make sure that you have **permission** to do what you are doing.  Companies in the music publishing business have good lawyers.  They could make your life unpleasant&lt;sup&gt;1&lt;/sup&gt; if they perceive you to be violating their terms and conditions or stealing their intellectual property.\r\n\r\n&lt;sup&gt;1 - Like blocking your IP address or issuing take-down requests to your service provider.&lt;/sup&gt;","title":"Best way to parallelize thousands of downloads","body":"<p>The only way to make it &quot;very very fast&quot; is to get a &quot;very very fast&quot; network connection to the server; e.g. co-locate your client with the server that you are downloading from.</p>\n<p>Your download speeds are going to be constrained by a number of potential bottlenecks.  These include:</p>\n<ol>\n<li><p>The performance of the server; i.e. how fast it can assemble the data to send to you and push it through its network interface.</p>\n</li>\n<li><p>Per-user request limits imposed by the service.</p>\n</li>\n<li><p>The end-to-end performance of the network path between your client and the server.</p>\n</li>\n<li><p>The performance of the machine you are running on in terms of moving data from the network and putting it (I guess) onto your local disk.</p>\n</li>\n</ol>\n<p>The bottleneck could be any of these, or a combination of them.</p>\n<p>Throwing thousands of threads at the problem is unlikely to improve things.  Indeed, if anything it is likely to make performance less than optimal.  For example:</p>\n<ul>\n<li>it could congest your network link, or</li>\n<li>it could trigger anti-hogging or anti-DOS defenses in the server you are fetching from.</li>\n</ul>\n<p>A better (simple) idea would be to use an ExecutorService with a <em>small</em> bounded worker pool, and submit the downloads to the pool as tasks.</p>\n<p>Other things:</p>\n<ol>\n<li>Try to keep HTTP / HTTPS connections open between downloads from the same server.  Some client libraries will do this kind of thing for you.</li>\n<li>If you have to download from a number of different servers, try to balance the load across the servers.  Consider implementing per-server queues and trying to balance work so that individual servers don't see &quot;bursts&quot; of activity.</li>\n</ol>\n<hr />\n<p>I would also advise you to make sure that you have <strong>permission</strong> to do what you are doing.  Companies in the music publishing business have good lawyers.  They could make your life unpleasant<sup>1</sup> if they perceive you to be violating their terms and conditions or stealing their intellectual property.</p>\n<p><sup>1 - Like blocking your IP address or issuing take-down requests to your service provider.</sup></p>\n"}],"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67145411,"answer_count":2,"score":0,"last_activity_date":1660091850,"creation_date":1618678923,"question_id":67140778,"body_markdown":"I am creating an application in which I have to download thousands of images (~1 MB each) using Java.\r\n\r\nI take a list of Album URLs in my REST request, each Album contains multiple number of images.\r\n\r\nSo my request looks something like:\r\n\r\n    [\r\n      &quot;www.abc.xyz/album1&quot;,\r\n      &quot;www.abc.xyz/album2&quot;,\r\n      &quot;www.abc.xyz/album3&quot;,\r\n      &quot;www.abc.xyz/album4&quot;,\r\n      &quot;www.abc.xyz/album5&quot;\r\n    ]\r\n\r\nSuppose each of these albums have 1000 images, so I need to download 50000 images in parallel.\r\n\r\nRight now I have implemented it using `parallelStream()` but I feel that I can optimize it further.\r\n\r\nThere are two principle classes - `AlbumDownloader` and `ImageDownloader` (Spring components).\r\n\r\nSo the main application creates a `parallelStream()` on the list of albums:\r\n\r\n    albumData.parallelStream().forEach(ad -&gt; albumDownloader.downloadAlbum(ad));\r\n\r\nAnd a parallelStream() inside AlbumDownloader -&gt; downloadAlbum() method as well:\r\n\r\n    List&lt;Boolean&gt; downloadStatus = albumData.getImageDownloadData().parallelStream().map(idd -&gt; imageDownloader.downloadImage(idd)).collect(Collectors.toList());\r\n\r\nI am thinking about using `CompletableFuture` with `ExecutorService` but I am not sure what pool size should I use?\r\n\r\nShould I create a separate pool for each Album?\r\n\r\n    ExecutorService executor = Executors.newFixedThreadPool(Math.min(albumData.getImageDownloadData().size(), 1000));\r\n\r\nThat would create 5 different pools of 1000 threads each, that&#39;ll be like 5000 threads which might degrade the performance instead of improving.\r\n\r\nCould you please give me some ideas to make it very very fast ?\r\n\r\nI am using Apache Commons IO `FileUtils` to download files by the way and I have a machine with 12 available CPU cores.","title":"Best way to parallelize thousands of downloads","body":"<p>I am creating an application in which I have to download thousands of images (~1 MB each) using Java.</p>\n<p>I take a list of Album URLs in my REST request, each Album contains multiple number of images.</p>\n<p>So my request looks something like:</p>\n<pre><code>[\n  &quot;www.abc.xyz/album1&quot;,\n  &quot;www.abc.xyz/album2&quot;,\n  &quot;www.abc.xyz/album3&quot;,\n  &quot;www.abc.xyz/album4&quot;,\n  &quot;www.abc.xyz/album5&quot;\n]\n</code></pre>\n<p>Suppose each of these albums have 1000 images, so I need to download 50000 images in parallel.</p>\n<p>Right now I have implemented it using <code>parallelStream()</code> but I feel that I can optimize it further.</p>\n<p>There are two principle classes - <code>AlbumDownloader</code> and <code>ImageDownloader</code> (Spring components).</p>\n<p>So the main application creates a <code>parallelStream()</code> on the list of albums:</p>\n<pre><code>albumData.parallelStream().forEach(ad -&gt; albumDownloader.downloadAlbum(ad));\n</code></pre>\n<p>And a parallelStream() inside AlbumDownloader -&gt; downloadAlbum() method as well:</p>\n<pre><code>List&lt;Boolean&gt; downloadStatus = albumData.getImageDownloadData().parallelStream().map(idd -&gt; imageDownloader.downloadImage(idd)).collect(Collectors.toList());\n</code></pre>\n<p>I am thinking about using <code>CompletableFuture</code> with <code>ExecutorService</code> but I am not sure what pool size should I use?</p>\n<p>Should I create a separate pool for each Album?</p>\n<pre><code>ExecutorService executor = Executors.newFixedThreadPool(Math.min(albumData.getImageDownloadData().size(), 1000));\n</code></pre>\n<p>That would create 5 different pools of 1000 threads each, that'll be like 5000 threads which might degrade the performance instead of improving.</p>\n<p>Could you please give me some ideas to make it very very fast ?</p>\n<p>I am using Apache Commons IO <code>FileUtils</code> to download files by the way and I have a machine with 12 available CPU cores.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1660084309,"post_id":73298731,"comment_id":129448289,"body_markdown":"A frame&#39;s visible content size is the frame size minus the frame&#39;s decorations insets.  So you viewable area will be `600x400 - frameDecorationInsets`, and this will be variable (even across the same platform).  Instead, you should be looking at the size of the parent panel ... but arguably, you shouldn&#39;t be using `null` layouts, you should be relying on things like `JComponent#getPreferredSize` and `JFrame#pack` to provide suitable hints about how best you want the window to be sized by default","body":"A frame&#39;s visible content size is the frame size minus the frame&#39;s decorations insets.  So you viewable area will be <code>600x400 - frameDecorationInsets</code>, and this will be variable (even across the same platform).  Instead, you should be looking at the size of the parent panel ... but arguably, you shouldn&#39;t be using <code>null</code> layouts, you should be relying on things like <code>JComponent#getPreferredSize</code> and <code>JFrame#pack</code> to provide suitable hints about how best you want the window to be sized by default"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1660084481,"post_id":73298731,"comment_id":129448326,"body_markdown":"Possible duplicate [How to get the EXACT middle of a screen, even when re-sized](https://stackoverflow.com/questions/13457237/how-to-get-the-exact-middle-of-a-screen-even-when-re-sized/13460914#13460914); [How can I set in the midst?](https://stackoverflow.com/questions/13734069/how-can-i-set-in-the-midst/13734319#13734319); [Java graphic image](https://stackoverflow.com/questions/13077858/java-graphic-image/13078040#13078040); [Graphics rendering in title bar](https://stackoverflow.com/questions/13313084/graphics-rendering-in-title-bar/13316131#13316131)","body":"Possible duplicate <a href=\"https://stackoverflow.com/questions/13457237/how-to-get-the-exact-middle-of-a-screen-even-when-re-sized/13460914#13460914\">How to get the EXACT middle of a screen, even when re-sized</a>; <a href=\"https://stackoverflow.com/questions/13734069/how-can-i-set-in-the-midst/13734319#13734319\">How can I set in the midst?</a>; <a href=\"https://stackoverflow.com/questions/13077858/java-graphic-image/13078040#13078040\">Java graphic image</a>; <a href=\"https://stackoverflow.com/questions/13313084/graphics-rendering-in-title-bar/13316131#13316131\">Graphics rendering in title bar</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1660087782,"post_id":73298731,"comment_id":129448972,"body_markdown":"__never-ever__ do any manual sizing or locating that&#39;s the exclusive task of a suitable layoutManager","body":"<b>never-ever</b> do any manual sizing or locating that&#39;s the exclusive task of a suitable layoutManager"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1660091534,"creation_date":1660084796,"answer_id":73298822,"question_id":73298731,"body_markdown":"A frame&#39;s visible content size is the frame size **minus** the frame&#39;s decorations insets.  \r\n\r\nSo your viewable area will be `600x400 - frameDecorationInsets`, and this will be variable (even across the same platform).  \r\n\r\nInstead, you should be looking at the size of the parent container, for example\r\n\r\n[![enter image description here][1]][1]\r\n\r\n*Note, I&#39;m running on MacOS, which has a different frame decoration then Windows, but this concept will still work on both ... and you get resizability*\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            private JPanel p1 = new JPanel();\r\n            private JPanel p2 = new JPanel();\r\n\r\n            public TestPane() {\r\n                setLayout(null);\r\n\r\n                p1.setBackground(Color.BLUE);\r\n                add(p1);\r\n\r\n                p2.setBackground(Color.BLUE);\r\n                add(p2);\r\n            }\r\n\r\n            @Override\r\n            public void doLayout() {\r\n                super.doLayout();\r\n                p1.setSize(100, 100);\r\n                p1.setLocation(0, 0);\r\n\r\n                p2.setSize(100, 100);\r\n                p2.setLocation(getWidth() - p2.getWidth(), getHeight() - p2.getHeight());\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(600, 400);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/27sh2.png\r\n\r\n# But... \r\n\r\nArguably, you shouldn&#39;t be using `null` layouts, you should be relying on things like `JComponent#getPreferredSize` and `JFrame#pack` to provide suitable hints about how best you want the window to be sized by default, for example...\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                JPanel p1 = new JPanel() {\r\n                    @Override\r\n                    public Dimension getPreferredSize() {\r\n                        return new Dimension(100, 100);\r\n                    }\r\n                };\r\n                p1.setBackground(Color.BLUE);\r\n                JPanel p2 = new JPanel() {\r\n                    @Override\r\n                    public Dimension getPreferredSize() {\r\n                        return new Dimension(100, 100);\r\n                    }\r\n                };\r\n                p2.setBackground(Color.BLUE);\r\n\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.weightx = 1;\r\n                gbc.weighty = 1;\r\n                gbc.anchor = GridBagConstraints.NORTHWEST;            \r\n                add(p1, gbc);\r\n\r\n                gbc.gridx = 1;\r\n                gbc.gridy = 1;\r\n                gbc.anchor = GridBagConstraints.SOUTHEAST;\r\n                add(p2, gbc);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(600, 400);\r\n            }\r\n        }\r\n    }\r\n","title":"Java Swing Jframe has less size than configured","body":"<p>A frame's visible content size is the frame size <strong>minus</strong> the frame's decorations insets.</p>\n<p>So your viewable area will be <code>600x400 - frameDecorationInsets</code>, and this will be variable (even across the same platform).</p>\n<p>Instead, you should be looking at the size of the parent container, for example</p>\n<p><a href=\"https://i.stack.imgur.com/27sh2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/27sh2.png\" alt=\"enter image description here\" /></a></p>\n<p><em>Note, I'm running on MacOS, which has a different frame decoration then Windows, but this concept will still work on both ... and you get resizability</em></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        private JPanel p1 = new JPanel();\n        private JPanel p2 = new JPanel();\n\n        public TestPane() {\n            setLayout(null);\n\n            p1.setBackground(Color.BLUE);\n            add(p1);\n\n            p2.setBackground(Color.BLUE);\n            add(p2);\n        }\n\n        @Override\n        public void doLayout() {\n            super.doLayout();\n            p1.setSize(100, 100);\n            p1.setLocation(0, 0);\n\n            p2.setSize(100, 100);\n            p2.setLocation(getWidth() - p2.getWidth(), getHeight() - p2.getHeight());\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(600, 400);\n        }\n    }\n}\n</code></pre>\n<h1>But...</h1>\n<p>Arguably, you shouldn't be using <code>null</code> layouts, you should be relying on things like <code>JComponent#getPreferredSize</code> and <code>JFrame#pack</code> to provide suitable hints about how best you want the window to be sized by default, for example...</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            JPanel p1 = new JPanel() {\n                @Override\n                public Dimension getPreferredSize() {\n                    return new Dimension(100, 100);\n                }\n            };\n            p1.setBackground(Color.BLUE);\n            JPanel p2 = new JPanel() {\n                @Override\n                public Dimension getPreferredSize() {\n                    return new Dimension(100, 100);\n                }\n            };\n            p2.setBackground(Color.BLUE);\n\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.weightx = 1;\n            gbc.weighty = 1;\n            gbc.anchor = GridBagConstraints.NORTHWEST;            \n            add(p1, gbc);\n\n            gbc.gridx = 1;\n            gbc.gridy = 1;\n            gbc.anchor = GridBagConstraints.SOUTHEAST;\n            add(p2, gbc);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(600, 400);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23422072,"reputation":23,"user_id":17482144,"display_name":"gabit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73298822,"answer_count":1,"score":0,"last_activity_date":1660091534,"creation_date":1660084035,"question_id":73298731,"body_markdown":"I want to place some elements inside a JFrame by setLocation(x, y) but my frame is not the size I expect.\r\n\r\nThe size of my JFrame is 600 x 400 but when I run the app it looks like a JFrame of about 550 x 350.\r\n\r\nI would like to understand why this happens, even if there are better ways to implement it.\r\n\r\nThanks in advance for any assistance.\r\n\r\nMy code:\r\n\r\n```\r\n  public static void main(String[] args) {\r\n\r\n      JFrame mainFrame = new JFrame(&quot;Example&quot;);\r\n      mainFrame.setVisible(true);\r\n      mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      mainFrame.setSize(600, 400);\r\n      mainFrame.setLayout(null);\r\n      mainFrame.setResizable(false);\r\n\r\n      JPanel p1 = new JPanel();\r\n      p1.setSize(100, 100);\r\n      p1.setLocation(0,0);\r\n      p1.setBackground(Color.BLUE);\r\n      mainFrame.add(p1);\r\n\r\n      JPanel p2 = new JPanel();\r\n      p2.setSize(100, 100);\r\n      p2.setLocation(500,300);\r\n      p2.setBackground(Color.BLUE);\r\n      mainFrame.add(p2);\r\n  }\r\n```\r\n\r\nOutput:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9iWMX.png","title":"Java Swing Jframe has less size than configured","body":"<p>I want to place some elements inside a JFrame by setLocation(x, y) but my frame is not the size I expect.</p>\n<p>The size of my JFrame is 600 x 400 but when I run the app it looks like a JFrame of about 550 x 350.</p>\n<p>I would like to understand why this happens, even if there are better ways to implement it.</p>\n<p>Thanks in advance for any assistance.</p>\n<p>My code:</p>\n<pre><code>  public static void main(String[] args) {\n\n      JFrame mainFrame = new JFrame(&quot;Example&quot;);\n      mainFrame.setVisible(true);\n      mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      mainFrame.setSize(600, 400);\n      mainFrame.setLayout(null);\n      mainFrame.setResizable(false);\n\n      JPanel p1 = new JPanel();\n      p1.setSize(100, 100);\n      p1.setLocation(0,0);\n      p1.setBackground(Color.BLUE);\n      mainFrame.add(p1);\n\n      JPanel p2 = new JPanel();\n      p2.setSize(100, 100);\n      p2.setLocation(500,300);\n      p2.setBackground(Color.BLUE);\n      mainFrame.add(p2);\n  }\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/9iWMX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9iWMX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","xml","xmlstreamreader"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1660091097,"post_id":25154587,"comment_id":129449440,"body_markdown":"Surely it is obvious that it is the linked exception that is important, not the outer exception?","body":"Surely it is obvious that it is the linked exception that is important, not the outer exception?"}],"answers":[{"tags":[],"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407310479,"creation_date":1407310479,"answer_id":25154677,"question_id":25154587,"body_markdown":"Your XML file isn&#39;t well-formed.\r\n\r\n    newproductsite for T&amp;T evol\r\n\r\nYou cannot have a &#39;&amp;&#39; in the XML file, it must be represented as\r\n\r\n    &amp;amp;\r\n\r\nHow was the XML produced? The error is there...","title":".XMLStreamException: ParseError at [row,col]:[53088,40] Message: The reference to entity &quot;T&quot; must end with the &#39;;&#39; delimiter","body":"<p>Your XML file isn't well-formed.</p>\n\n<pre><code>newproductsite for T&amp;T evol\n</code></pre>\n\n<p>You cannot have a '&amp;' in the XML file, it must be represented as</p>\n\n<pre><code>&amp;amp;\n</code></pre>\n\n<p>How was the XML produced? The error is there...</p>\n"},{"tags":[],"owner":{"account_id":4814720,"reputation":1477,"user_id":3887145,"display_name":"Ralf Wagner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407311190,"creation_date":1407311190,"answer_id":25154900,"question_id":25154587,"body_markdown":"Your xml input is not well formed. In the text `newproductsite for T&amp;T evol` the ampersand is a reserved character. It is used for escaping (e.g. `&amp;lt;` represents the `&lt;` sign or `&amp;#x41;` is the letter `A`. So, after the `&amp;` in the text, the parser expects a value and a `;` to see that the escape sequence is finished.\r\nIf you want to use the ampersand in your xml elements, it must be escaped e.g. by `&amp;amp;`.\r\n\r\nTo fix the problem the source needs to produce either well-formed xml or you need to sanitize the data you received before processing it. I would recommend the first.","title":".XMLStreamException: ParseError at [row,col]:[53088,40] Message: The reference to entity &quot;T&quot; must end with the &#39;;&#39; delimiter","body":"<p>Your xml input is not well formed. In the text <code>newproductsite for T&amp;T evol</code> the ampersand is a reserved character. It is used for escaping (e.g. <code>&amp;lt;</code> represents the <code>&lt;</code> sign or <code>&amp;#x41;</code> is the letter <code>A</code>. So, after the <code>&amp;</code> in the text, the parser expects a value and a <code>;</code> to see that the escape sequence is finished.\nIf you want to use the ampersand in your xml elements, it must be escaped e.g. by <code>&amp;amp;</code>.</p>\n\n<p>To fix the problem the source needs to produce either well-formed xml or you need to sanitize the data you received before processing it. I would recommend the first.</p>\n"}],"owner":{"account_id":462549,"reputation":585,"user_id":864924,"accept_rate":65,"display_name":"Sara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16724,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1660091065,"creation_date":1407310172,"question_id":25154587,"body_markdown":"I have got receive an xml inputstream with a URLConnection. However when i try to unmarshall the inputstream. It throw an exception.\r\njavax.xml.bind.UnmarshalException\r\n - with linked exception:\r\n[javax.xml.stream.XMLStreamException: ParseError at [row,col]:[53088,40]\r\nMessage: The reference to entity &quot;T&quot; must end with the &#39;;&#39; delimiter.]\r\n\r\n\r\nCODE:\r\n\r\n    try {\r\n        URL url = new URL(hostURL);  \r\n        URLConnection urlConnection = url.openConnection();  \r\n        urlConnection.setRequestProperty(&quot;Accept&quot;, &quot;application/xml&quot;);\r\n        urlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + authDetails);\r\n   \r\n        InputStream inputStream = urlConnection.getInputStream();\r\n   \r\n        XMLInputFactory xif = XMLInputFactory.newInstance();\r\n        xif.setProperty(&quot;javax.xml.stream.isCoalescing&quot;, true); \r\n        XMLStreamReader xsr = xif.createXMLStreamReader(inputStream);\r\n\r\n         // Advance to the &quot;Packages&quot; element.\r\n         while(xsr.hasNext()) {\r\n             if(xsr.isStartElement() &amp;&amp; &quot;packages&quot;.equals(xsr.getLocalName())) {\r\n                 break;\r\n             }\r\n             xsr.next();\r\n          }\r\n         \r\n         JAXBContext jaxbContext = JAXBContext.newInstance(Packages.class);\r\n         Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n         packages = (Packages) jaxbUnmarshaller.unmarshal(xsr);\r\n        }catch (JAXBException e) {\r\n         e.printStackTrace();\r\n        }catch (MalformedURLException e) {\r\n         e.printStackTrace();\r\n        }catch (IOException e) {\r\n         e.printStackTrace();\r\n        }catch(Exception e){\r\n         e.printStackTrace();\r\n         }finally{\r\n   \r\n        }\r\n\r\nPS: [row,col]:[53088,40] = newproductsite for T&amp;T evol\r\n\r\nYou can find Stack traces in link http://pastebin.com/LuhbnMQq\r\n","title":".XMLStreamException: ParseError at [row,col]:[53088,40] Message: The reference to entity &quot;T&quot; must end with the &#39;;&#39; delimiter","body":"<p>I have got receive an xml inputstream with a URLConnection. However when i try to unmarshall the inputstream. It throw an exception.\njavax.xml.bind.UnmarshalException</p>\n<ul>\n<li>with linked exception:\n[javax.xml.stream.XMLStreamException: ParseError at [row,col]:[53088,40]\nMessage: The reference to entity &quot;T&quot; must end with the ';' delimiter.]</li>\n</ul>\n<p>CODE:</p>\n<pre><code>try {\n    URL url = new URL(hostURL);  \n    URLConnection urlConnection = url.openConnection();  \n    urlConnection.setRequestProperty(&quot;Accept&quot;, &quot;application/xml&quot;);\n    urlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + authDetails);\n\n    InputStream inputStream = urlConnection.getInputStream();\n\n    XMLInputFactory xif = XMLInputFactory.newInstance();\n    xif.setProperty(&quot;javax.xml.stream.isCoalescing&quot;, true); \n    XMLStreamReader xsr = xif.createXMLStreamReader(inputStream);\n\n     // Advance to the &quot;Packages&quot; element.\n     while(xsr.hasNext()) {\n         if(xsr.isStartElement() &amp;&amp; &quot;packages&quot;.equals(xsr.getLocalName())) {\n             break;\n         }\n         xsr.next();\n      }\n     \n     JAXBContext jaxbContext = JAXBContext.newInstance(Packages.class);\n     Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n     packages = (Packages) jaxbUnmarshaller.unmarshal(xsr);\n    }catch (JAXBException e) {\n     e.printStackTrace();\n    }catch (MalformedURLException e) {\n     e.printStackTrace();\n    }catch (IOException e) {\n     e.printStackTrace();\n    }catch(Exception e){\n     e.printStackTrace();\n     }finally{\n\n    }\n</code></pre>\n<p>PS: [row,col]:[53088,40] = newproductsite for T&amp;T evol</p>\n<p>You can find Stack traces in link <a href=\"http://pastebin.com/LuhbnMQq\" rel=\"nofollow noreferrer\">http://pastebin.com/LuhbnMQq</a></p>\n"},{"tags":["java","macos","java-8","netty","apple-m1"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1656924228,"post_id":72847122,"comment_id":128680844,"body_markdown":"If you check https://repo1.maven.org/maven2/io/netty/netty-transport-native-epoll/4.1.63.Final/ they don&#39;t appear to have an osx-aarch_64. There is a linux one.","body":"If you check <a href=\"https://repo1.maven.org/maven2/io/netty/netty-transport-native-epoll/4.1.63.Final/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/io/netty/netty-transport-native-epoll&zwnj;&#8203;/&hellip;</a> they don&#39;t appear to have an osx-aarch_64. There is a linux one."},{"owner":{"account_id":6690640,"reputation":270,"user_id":5160237,"accept_rate":31,"display_name":"Amit Gawali"},"score":0,"creation_date":1656924474,"post_id":72847122,"comment_id":128680917,"body_markdown":"Yes, I need osx-aarch_64 for M1 macbook. How to resolve this?","body":"Yes, I need osx-aarch_64 for M1 macbook. How to resolve this?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1656924747,"post_id":72847122,"comment_id":128681015,"body_markdown":"It sounds like you&#39;ll have to build the libs if possible. Did you check their project page? It sounds like they want you to use the KQueue version. https://netty.io/wiki/native-transports.html","body":"It sounds like you&#39;ll have to build the libs if possible. Did you check their project page? It sounds like they want you to use the KQueue version. <a href=\"https://netty.io/wiki/native-transports.html\" rel=\"nofollow noreferrer\">netty.io/wiki/native-transports.html</a>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1656924949,"post_id":72847122,"comment_id":128681088,"body_markdown":"I&#39;m not familiar enough with netty, but https://github.com/netty/netty/issues there are some m1 issues. (some closed). If you really think that you should be able to use the epoll with an M1 create an issue and maybe somebody will tell you how to compile it.","body":"I&#39;m not familiar enough with netty, but <a href=\"https://github.com/netty/netty/issues\" rel=\"nofollow noreferrer\">github.com/netty/netty/issues</a> there are some m1 issues. (some closed). If you really think that you should be able to use the epoll with an M1 create an issue and maybe somebody will tell you how to compile it."},{"owner":{"account_id":6690640,"reputation":270,"user_id":5160237,"accept_rate":31,"display_name":"Amit Gawali"},"score":0,"creation_date":1656926155,"post_id":72847122,"comment_id":128681478,"body_markdown":"sure. thank you. will raise it on github.","body":"sure. thank you. will raise it on github."}],"answers":[{"tags":[],"owner":{"account_id":6372433,"reputation":194,"user_id":4944495,"display_name":"Nikita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660090214,"creation_date":1660090214,"answer_id":73299335,"question_id":72847122,"body_markdown":"`epoll` is not available for MacOS because it&#39;s based on FreeBSD (but `kqueue` available), so even if you will able to download dependency it won&#39;t work. What you can do is to check dynamically for `epoll` using Netty&#39;s `Epoll.isAvailable()` and fallback to NIO or run your application in docker container with ubuntu (or other distr which support `epoll`). Docker will use VM under the hood and `epoll` would be available.","title":"Missing osx-aarch_64 classifier version for netty-transport-native-epoll","body":"<p><code>epoll</code> is not available for MacOS because it's based on FreeBSD (but <code>kqueue</code> available), so even if you will able to download dependency it won't work. What you can do is to check dynamically for <code>epoll</code> using Netty's <code>Epoll.isAvailable()</code> and fallback to NIO or run your application in docker container with ubuntu (or other distr which support <code>epoll</code>). Docker will use VM under the hood and <code>epoll</code> would be available.</p>\n"}],"owner":{"account_id":6690640,"reputation":270,"user_id":5160237,"accept_rate":31,"display_name":"Amit Gawali"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660090214,"creation_date":1656857095,"question_id":72847122,"body_markdown":"I am working on one project where I need &#39;netty-transport-native-epoll&#39; library.\r\nI am using Apple M1 Macbook Pro and I am not able to download it for osx-aarch_64 classifier.\r\nHowever I am able to download this Jar:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    &lt;artifactId&gt;netty-transport-native-kqueue&lt;/artifactId&gt;\r\n    &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n    &lt;version&gt;4.1.63.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nbut I am NOT able to resolve below dependency:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    &lt;artifactId&gt;netty-transport-native-epoll&lt;/artifactId&gt;\r\n    &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n    &lt;version&gt;4.1.63.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCan somebody please guide as How to resolve this on M1 Macbook.\r\n\r\nThanks in Advance.","title":"Missing osx-aarch_64 classifier version for netty-transport-native-epoll","body":"<p>I am working on one project where I need 'netty-transport-native-epoll' library.\nI am using Apple M1 Macbook Pro and I am not able to download it for osx-aarch_64 classifier.\nHowever I am able to download this Jar:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;io.netty&lt;/groupId&gt;\n&lt;artifactId&gt;netty-transport-native-kqueue&lt;/artifactId&gt;\n&lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n&lt;version&gt;4.1.63.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but I am NOT able to resolve below dependency:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;io.netty&lt;/groupId&gt;\n&lt;artifactId&gt;netty-transport-native-epoll&lt;/artifactId&gt;\n&lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n&lt;version&gt;4.1.63.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Can somebody please guide as How to resolve this on M1 Macbook.</p>\n<p>Thanks in Advance.</p>\n"},{"tags":["java","android","tensorflow-lite","hardware-acceleration","nnapi"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1658870860,"post_id":73125716,"comment_id":129158687,"body_markdown":"You don&#39;t mention size of inputs or how you are getting the inference time. More of a FYI: https://ai-benchmark.com/index.html There is a link in the upper right of the site to [their research papers](https://ai-benchmark.com/research.html).","body":"You don&#39;t mention size of inputs or how you are getting the inference time. More of a FYI: <a href=\"https://ai-benchmark.com/index.html\" rel=\"nofollow noreferrer\">ai-benchmark.com/index.html</a> There is a link in the upper right of the site to <a href=\"https://ai-benchmark.com/research.html\" rel=\"nofollow noreferrer\">their research papers</a>."}],"answers":[{"tags":[],"owner":{"account_id":6626102,"reputation":1120,"user_id":5116284,"display_name":"Miao Wang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660089811,"creation_date":1660089811,"answer_id":73299297,"question_id":73125716,"body_markdown":"It seems that both models are already performing well on CPU with the inference latency &lt; 1ms.\r\n\r\nAccelerators are not always faster than CPU. Often, there is some overhead when accessing the accelerators. Also, accelerators could run certain models / operators really well, but they may not support all the operators that the CPU supports. Additionally, CPU might simply be as-fast or even faster if the performance of a model is memory-bound.\r\n\r\nIt might worth trying with some larger vision models, e.g. mobilenet_v1_1.0_224 and see if there is a speedup with GPU or other accelerators.","title":"Tensorflow Lite Android: Both GPU delegate and NNAPI delegate are slower than CPU","body":"<p>It seems that both models are already performing well on CPU with the inference latency &lt; 1ms.</p>\n<p>Accelerators are not always faster than CPU. Often, there is some overhead when accessing the accelerators. Also, accelerators could run certain models / operators really well, but they may not support all the operators that the CPU supports. Additionally, CPU might simply be as-fast or even faster if the performance of a model is memory-bound.</p>\n<p>It might worth trying with some larger vision models, e.g. mobilenet_v1_1.0_224 and see if there is a speedup with GPU or other accelerators.</p>\n"}],"owner":{"account_id":16617863,"reputation":11,"user_id":12009011,"display_name":"stefferino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":998,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660089811,"creation_date":1658847718,"question_id":73125716,"body_markdown":"I am currently evaluating and comparing the performance of some tensorflow models on different smartphones. I am testing the MNIST and CIFAR10 databases. The strange thing is, when i try to speed up the inference times with hardware acceleration, they always perform worse than before. \r\nFor example, these are the results I got on a Galaxy Note 20 Ultra, which definitely has got some powerful GPUs and NPUs (all results are milliseconds per inference):\r\n\r\nMNIST CPU:      0.040  \r\nMNIST GPU:      2.322  \r\nMNIST NNAPI:    2.839  \r\n\r\nCIFAR10 CPU:    0.810  \r\nCIFAR10 GPU:    8.120  \r\nCIFAR10 NNAPI:  6.608  \r\n\r\nI warmed up the processing unit before the benchmark and executed the inferences multiple times, so these are averages and should not be random. Below you can see the code I used to configure the NNAPI or GPU-API of TensorFlow-Lite:\r\n```\r\nval model = loadModelFile(assetManager, modelPath)\r\nval compatList = CompatibilityList()\r\nvar nnApiDelegate: NnApiDelegate? = null\r\n\r\nval options = Interpreter.Options().apply{\r\n    if (USE_NNAPI &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\r\n        nnApiDelegate = NnApiDelegate()\r\n        this.addDelegate(nnApiDelegate)\r\n    }\r\n    else if(USE_GPU &amp;&amp; compatList.isDelegateSupportedOnThisDevice){\r\n        val delegateOptions = compatList.bestOptionsForThisDevice\r\n        this.addDelegate(GpuDelegate(delegateOptions))\r\n    } else {\r\n        // if the GPU is not supported, run on 4 threads\r\n        this.setNumThreads(4)\r\n    }\r\n}\r\n\r\nval interpreters = Interpreter(model, options)\r\n```\r\n\r\nDoes anybody know what could be the reason for this or how to fix that?\r\nThanks in advance for any tips or clues!\r\n\r\nEDIT:\r\nInput size MNIST: 24 x 24 x 255\r\nInput size CIFAR10: 32 x 32 x 3 x 255\r\n\r\nI measure the inference times by measuring the time of performing an inference a few thousand times on the device and then I calculate the average afterwards.","title":"Tensorflow Lite Android: Both GPU delegate and NNAPI delegate are slower than CPU","body":"<p>I am currently evaluating and comparing the performance of some tensorflow models on different smartphones. I am testing the MNIST and CIFAR10 databases. The strange thing is, when i try to speed up the inference times with hardware acceleration, they always perform worse than before.\nFor example, these are the results I got on a Galaxy Note 20 Ultra, which definitely has got some powerful GPUs and NPUs (all results are milliseconds per inference):</p>\n<p>MNIST CPU:      0.040<br />\nMNIST GPU:      2.322<br />\nMNIST NNAPI:    2.839</p>\n<p>CIFAR10 CPU:    0.810<br />\nCIFAR10 GPU:    8.120<br />\nCIFAR10 NNAPI:  6.608</p>\n<p>I warmed up the processing unit before the benchmark and executed the inferences multiple times, so these are averages and should not be random. Below you can see the code I used to configure the NNAPI or GPU-API of TensorFlow-Lite:</p>\n<pre><code>val model = loadModelFile(assetManager, modelPath)\nval compatList = CompatibilityList()\nvar nnApiDelegate: NnApiDelegate? = null\n\nval options = Interpreter.Options().apply{\n    if (USE_NNAPI &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n        nnApiDelegate = NnApiDelegate()\n        this.addDelegate(nnApiDelegate)\n    }\n    else if(USE_GPU &amp;&amp; compatList.isDelegateSupportedOnThisDevice){\n        val delegateOptions = compatList.bestOptionsForThisDevice\n        this.addDelegate(GpuDelegate(delegateOptions))\n    } else {\n        // if the GPU is not supported, run on 4 threads\n        this.setNumThreads(4)\n    }\n}\n\nval interpreters = Interpreter(model, options)\n</code></pre>\n<p>Does anybody know what could be the reason for this or how to fix that?\nThanks in advance for any tips or clues!</p>\n<p>EDIT:\nInput size MNIST: 24 x 24 x 255\nInput size CIFAR10: 32 x 32 x 3 x 255</p>\n<p>I measure the inference times by measuring the time of performing an inference a few thousand times on the device and then I calculate the average afterwards.</p>\n"},{"tags":["java","discord","jna"],"comments":[{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1659875511,"post_id":73264671,"comment_id":129394134,"body_markdown":"It takes more than putting it on your eclipse classpath.  JNA needs to know where the library is.  Put it in your system PATH on Windows, LD_LIBRARY_PATH on Linux, and DYLD_LIBRARY_PATH on OSX, or in src/main/resources (assuming that&#39;s in your classpath), or use the JNA property jna.library.path","body":"It takes more than putting it on your eclipse classpath.  JNA needs to know where the library is.  Put it in your system PATH on Windows, LD_LIBRARY_PATH on Linux, and DYLD_LIBRARY_PATH on OSX, or in src/main/resources (assuming that&#39;s in your classpath), or use the JNA property jna.library.path"},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1659875584,"post_id":73264671,"comment_id":129394145,"body_markdown":"Does this answer your question? [Preparing JNA for use in Eclipse](https://stackoverflow.com/questions/8858484/preparing-jna-for-use-in-eclipse)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8858484/preparing-jna-for-use-in-eclipse\">Preparing JNA for use in Eclipse</a>"}],"owner":{"account_id":25549940,"reputation":45,"user_id":19334496,"display_name":"LearningJava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660089487,"creation_date":1659842737,"question_id":73264671,"body_markdown":"\r\n&lt;https://github.com/MinnDevelopment/java-discord-rpc&gt;\r\n\r\n```\r\njava.lang.UnsatisfiedLinkError: Unable to load library &#39;discord-rpc&#39;: The specified module could not be found.\r\n```\r\nIf anyone has this problem then your probably modifying minecraft.\r\nMake sure to download the latest release of JNA. Get jna.jar and replace the old jna version.","title":"Discord RPC Module not found","body":"<p><a href=\"https://github.com/MinnDevelopment/java-discord-rpc\" rel=\"nofollow noreferrer\">https://github.com/MinnDevelopment/java-discord-rpc</a></p>\n<pre><code>java.lang.UnsatisfiedLinkError: Unable to load library 'discord-rpc': The specified module could not be found.\n</code></pre>\n<p>If anyone has this problem then your probably modifying minecraft.\nMake sure to download the latest release of JNA. Get jna.jar and replace the old jna version.</p>\n"},{"tags":["java","rest","file","multipartfile","fileitem"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1660089841,"post_id":73299235,"comment_id":129449253,"body_markdown":"Why are you unsuccessful? What&#39;s going wrong? Post any errors that you get","body":"Why are you unsuccessful? What&#39;s going wrong? Post any errors that you get"},{"owner":{"account_id":2234633,"reputation":93,"user_id":1971376,"accept_rate":0,"display_name":"user1971376"},"score":0,"creation_date":1660097936,"post_id":73299235,"comment_id":129450262,"body_markdown":"@ErwinBolwidt I tried `entry.getFile()` but its not correct based on https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/archivers/tar/TarArchiveEntry.html#getFile--, and hence returns `null`\nI also tried `entry.getName()` which returns a String (the filename basically), but I can store or create a `File` with that. So I am unable to get either `File` or `FileItem` from my above code.","body":"@ErwinBolwidt I tried <code>entry.getFile()</code> but its not correct based on <a href=\"https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/archivers/tar/TarArchiveEntry.html#getFile--\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-compress/apidocs/org/apach&zwnj;&#8203;e/&hellip;</a>, and hence returns <code>null</code> I also tried <code>entry.getName()</code> which returns a String (the filename basically), but I can store or create a <code>File</code> with that. So I am unable to get either <code>File</code> or <code>FileItem</code> from my above code."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1660104897,"post_id":73299235,"comment_id":129451189,"body_markdown":"It doesn&#39;t sound like your problem has anything to do with multipart uploads. You would get exactly the same problem if you were reading a .tar.gz file from disk using your code. The javadoc for entry.getFile() says &quot;his method is only useful for entries created from a File or Path but not for entries read from an archive.&quot; If you want to access the files in the archive as files on the file system, you need to extract the archive.","body":"It doesn&#39;t sound like your problem has anything to do with multipart uploads. You would get exactly the same problem if you were reading a .tar.gz file from disk using your code. The javadoc for entry.getFile() says &quot;his method is only useful for entries created from a File or Path but not for entries read from an archive.&quot; If you want to access the files in the archive as files on the file system, you need to extract the archive."}],"owner":{"account_id":2234633,"reputation":93,"user_id":1971376,"accept_rate":0,"display_name":"user1971376"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660089062,"creation_date":1660089062,"question_id":73299235,"body_markdown":"I am sending .tar.gz MultipartFile in my api request, and I want to untar and store all the files in `List&lt;File&gt;` or `List&lt;FileItem&gt;`\r\n\r\nSo Far I have...\r\n```\r\n public void importFilesTar(MultipartFile file) throws ContentRepositoryDaoException, Exception {\r\n\tList&lt;File&gt; files = new ArrayList&lt;File&gt;();\r\n    List&lt;FileItem&gt; fileItems = new ArrayLis&lt;FileItem&gt;();\r\n\t\r\n\tInputStream in = file.getInputStream();\r\n\tGzipCompressorInputStream gzipIn = new GzipCompressorInputStream(in);\r\n\tTarArchiveInputStream tarIn = new TarArchiveInputStream(gzipIn);\r\n    TarArchiveEntry entry;\r\n\t\r\n\twhile ((entry = (TarArchiveEntry) tarIn.getNextEntry()) != null) {\r\n\t\t// Get each file from the .tar.gz, and add it to files (List&lt;File&gt;) or fileItems (List&lt;FileItem&gt;)\r\n    }\r\n }\r\n```\r\n\r\nBut I am unable to successfully untar, get the files and add it to list of File or FileItems. Thanks","title":"How to untar a .tar.gz MultipartFile and add the files to List&lt;File&gt; or List&lt;FileItem&gt;","body":"<p>I am sending .tar.gz MultipartFile in my api request, and I want to untar and store all the files in <code>List&lt;File&gt;</code> or <code>List&lt;FileItem&gt;</code></p>\n<p>So Far I have...</p>\n<pre><code> public void importFilesTar(MultipartFile file) throws ContentRepositoryDaoException, Exception {\n    List&lt;File&gt; files = new ArrayList&lt;File&gt;();\n    List&lt;FileItem&gt; fileItems = new ArrayLis&lt;FileItem&gt;();\n    \n    InputStream in = file.getInputStream();\n    GzipCompressorInputStream gzipIn = new GzipCompressorInputStream(in);\n    TarArchiveInputStream tarIn = new TarArchiveInputStream(gzipIn);\n    TarArchiveEntry entry;\n    \n    while ((entry = (TarArchiveEntry) tarIn.getNextEntry()) != null) {\n        // Get each file from the .tar.gz, and add it to files (List&lt;File&gt;) or fileItems (List&lt;FileItem&gt;)\n    }\n }\n</code></pre>\n<p>But I am unable to successfully untar, get the files and add it to list of File or FileItems. Thanks</p>\n"},{"tags":["java","deep-learning","conv-neural-network","gpgpu","aparapi"],"comments":[{"owner":{"account_id":26021646,"reputation":29,"user_id":19729255,"display_name":"Zahari Stoyanov"},"score":0,"creation_date":1660082943,"post_id":73296421,"comment_id":129448045,"body_markdown":"Upon further investigation, this has nothing to do with\nval = max(val, leakyReLU(conv[l * ht * wt + (2 * r + i) * wt + 2 * c + j]));\nI changed it to an if...else but still get the same error...","body":"Upon further investigation, this has nothing to do with val = max(val, leakyReLU(conv[l * ht * wt + (2 * r + i) * wt + 2 * c + j])); I changed it to an if...else but still get the same error..."}],"answers":[{"tags":[],"owner":{"account_id":26021646,"reputation":29,"user_id":19729255,"display_name":"Zahari Stoyanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660084452,"creation_date":1660084325,"answer_id":73298768,"question_id":73296421,"body_markdown":" Figured it out - leakyReLU also uses a max with floats which I totally forgot... I replaced both with if statements. Now the only error message that I get is that, according to the api, there are objects passed to the kernel(this is not supported). But I don&#39;t see any objects... If someone can help with that part, please chime in.\r\n\r\n        int padding = 3;\r\n        int filterSize = 2 * padding + 1;\r\n        int[] input = new int[rows * columns];\r\n        for(int r = 0; r &lt; rows; r++)\r\n            System.arraycopy(inputLayer[r], 0, input, r * columns, columns);\r\n        int[] filters = new int[4 * filterSize * filterSize];\r\n        for(int fl = 0; fl &lt; 4; fl++)\r\n            for(int fr = 0; fr &lt; filterSize; fr++)\r\n                System.arraycopy(features[fl][fr], 0, filters, fl * filterSize * filterSize + fr * filterSize, filterSize);\r\n        float[] conv = new float[4 * rows * columns];\r\n        float[] pool = new float[rows * columns];\r\n\r\n        Range convRange = Range.create3D(columns, rows, 4);\r\n        Kernel convKernel = new Kernel(){\r\n            int h = rows;\r\n            int w = columns;\r\n            int p = padding;\r\n            int fs = filterSize;\r\n            public void run(){\r\n                int val = 0;\r\n                int c = getGlobalId(0);\r\n                int r = getGlobalId(1);\r\n                int l = getGlobalId(2);\r\n                int upper = max(0, p - r);\r\n                int lower = min(fs, h + p - r);\r\n                int left = max(0, p - c);\r\n                int right = min(fs, w + p - c);\r\n                for (int i = upper; i &lt; lower; i++)\r\n                    for (int j = left; j &lt; right; j++)\r\n                        val += input[(r + i - p) * w + c + j - p] * filters[l * fs * fs + i * fs + j];\r\n                conv[l * h * w + r * w + c] = Math.round(100.00f * val / fs) / 100.00f;\r\n            }\r\n        };\r\n        convKernel.setExplicit(true);\r\n        convKernel.put(input);\r\n        convKernel.put(conv);\r\n        convKernel.put(filters);\r\n        convKernel.execute(convRange);\r\n        convKernel.get(conv);\r\n        for(int convL = 0; convL &lt; 4; convL++)\r\n            for(int convR = 0; convR &lt; rows; convR++)\r\n                System.arraycopy(conv, convL * rows * columns + convR * columns, convLayer[convL][convR], 0, columns);\r\n\r\n        Range poolRange = Range.create3D(columns / 2, rows / 2, 4);\r\n        Kernel poolKernel = new Kernel(){\r\n            public void run(){\r\n                int wt = columns;\r\n                int ht = rows;\r\n                float coef = coefficient;\r\n                float val = 0.00f;\r\n                int c = getGlobalId(0);\r\n                int r = getGlobalId(1);\r\n                int l = getGlobalId(2);\r\n                for(int i = 0; i &lt; 2; i++)\r\n                    for (int j = 0; j &lt; 2; j++) {\r\n                        float tmp = conv[l * ht * wt + (2 * r + i) * wt + 2 * c + j];\r\n                        if(tmp &lt; 0) tmp = tmp * coef;\r\n                        if (val &lt; tmp) val = tmp;\r\n                    }\r\n                pool[(l * ht * wt / 4) + (r * wt / 2) + c] = Math.round(100.00f * val) / 100.00f;\r\n            }\r\n        };\r\n        poolKernel.setExplicit(true);\r\n        poolKernel.put(conv);\r\n        poolKernel.put(pool);\r\n        poolKernel.execute(poolRange);\r\n        poolKernel.get(pool);\r\n        for(int poolL = 0; poolL &lt; 4; poolL++)\r\n            for(int poolR = 0; poolR &lt; rows / 2; poolR++)\r\n                System.arraycopy(pool, (poolL * rows * columns / 4) + (poolR * columns / 2), poolLayer[poolL][poolR], 0, columns / 2);","title":"Aparapi cannot resolve max and falls back to CPU","body":"<p>Figured it out - leakyReLU also uses a max with floats which I totally forgot... I replaced both with if statements. Now the only error message that I get is that, according to the api, there are objects passed to the kernel(this is not supported). But I don't see any objects... If someone can help with that part, please chime in.</p>\n<pre><code>    int padding = 3;\n    int filterSize = 2 * padding + 1;\n    int[] input = new int[rows * columns];\n    for(int r = 0; r &lt; rows; r++)\n        System.arraycopy(inputLayer[r], 0, input, r * columns, columns);\n    int[] filters = new int[4 * filterSize * filterSize];\n    for(int fl = 0; fl &lt; 4; fl++)\n        for(int fr = 0; fr &lt; filterSize; fr++)\n            System.arraycopy(features[fl][fr], 0, filters, fl * filterSize * filterSize + fr * filterSize, filterSize);\n    float[] conv = new float[4 * rows * columns];\n    float[] pool = new float[rows * columns];\n\n    Range convRange = Range.create3D(columns, rows, 4);\n    Kernel convKernel = new Kernel(){\n        int h = rows;\n        int w = columns;\n        int p = padding;\n        int fs = filterSize;\n        public void run(){\n            int val = 0;\n            int c = getGlobalId(0);\n            int r = getGlobalId(1);\n            int l = getGlobalId(2);\n            int upper = max(0, p - r);\n            int lower = min(fs, h + p - r);\n            int left = max(0, p - c);\n            int right = min(fs, w + p - c);\n            for (int i = upper; i &lt; lower; i++)\n                for (int j = left; j &lt; right; j++)\n                    val += input[(r + i - p) * w + c + j - p] * filters[l * fs * fs + i * fs + j];\n            conv[l * h * w + r * w + c] = Math.round(100.00f * val / fs) / 100.00f;\n        }\n    };\n    convKernel.setExplicit(true);\n    convKernel.put(input);\n    convKernel.put(conv);\n    convKernel.put(filters);\n    convKernel.execute(convRange);\n    convKernel.get(conv);\n    for(int convL = 0; convL &lt; 4; convL++)\n        for(int convR = 0; convR &lt; rows; convR++)\n            System.arraycopy(conv, convL * rows * columns + convR * columns, convLayer[convL][convR], 0, columns);\n\n    Range poolRange = Range.create3D(columns / 2, rows / 2, 4);\n    Kernel poolKernel = new Kernel(){\n        public void run(){\n            int wt = columns;\n            int ht = rows;\n            float coef = coefficient;\n            float val = 0.00f;\n            int c = getGlobalId(0);\n            int r = getGlobalId(1);\n            int l = getGlobalId(2);\n            for(int i = 0; i &lt; 2; i++)\n                for (int j = 0; j &lt; 2; j++) {\n                    float tmp = conv[l * ht * wt + (2 * r + i) * wt + 2 * c + j];\n                    if(tmp &lt; 0) tmp = tmp * coef;\n                    if (val &lt; tmp) val = tmp;\n                }\n            pool[(l * ht * wt / 4) + (r * wt / 2) + c] = Math.round(100.00f * val) / 100.00f;\n        }\n    };\n    poolKernel.setExplicit(true);\n    poolKernel.put(conv);\n    poolKernel.put(pool);\n    poolKernel.execute(poolRange);\n    poolKernel.get(pool);\n    for(int poolL = 0; poolL &lt; 4; poolL++)\n        for(int poolR = 0; poolR &lt; rows / 2; poolR++)\n            System.arraycopy(pool, (poolL * rows * columns / 4) + (poolR * columns / 2), poolLayer[poolL][poolR], 0, columns / 2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26021646,"reputation":29,"user_id":19729255,"display_name":"Zahari Stoyanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660088590,"creation_date":1660088536,"answer_id":73299199,"question_id":73296421,"body_markdown":"Well... Sometimes, apparently, one needs to write down one&#39;s question to be able to answer it. Did some reworking and now all errors seem to be gone:\r\n\r\n        int padding = 3;\r\n        int filterSize = 2 * padding + 1;\r\n        int[] params = {rows, columns, padding, filterSize};\r\n        int[] input = new int[rows * columns];\r\n        for(int r = 0; r &lt; rows; r++)\r\n            System.arraycopy(inputLayer[r], 0, input, r * columns, columns);\r\n        int[] filters = new int[4 * filterSize * filterSize];\r\n        for(int fl = 0; fl &lt; 4; fl++)\r\n            for(int fr = 0; fr &lt; filterSize; fr++)\r\n                System.arraycopy(features[fl][fr], 0, filters, fl * filterSize * filterSize + fr * filterSize, filterSize);\r\n        float[] conv = new float[4 * rows * columns];\r\n        float[] pool = new float[rows * columns];\r\n\r\n        Range convRange = Range.create3D(columns, rows, 4);\r\n        Kernel convKernel = new Kernel(){\r\n            final int h = params[0];\r\n            final int w = params[1];\r\n            final int p = params[2];\r\n            final int fs = params[3];\r\n            public void run(){\r\n                int val = 0;\r\n                final int c = getGlobalId(0);\r\n                final int r = getGlobalId(1);\r\n                final int l = getGlobalId(2);\r\n                final int upper = max(0, p - r);\r\n                final int lower = min(fs, h + p - r);\r\n                final int left = max(0, p - c);\r\n                final int right = min(fs, w + p - c);\r\n                for (int i = upper; i &lt; lower; i++)\r\n                    for (int j = left; j &lt; right; j++)\r\n                        val += input[(r + i - p) * w + c + j - p] * filters[l * fs * fs + i * fs + j];\r\n                conv[l * h * w + r * w + c] = Math.round(100.00f * val / fs) / 100.00f;\r\n            }\r\n        };\r\n        convKernel.setExplicit(true);\r\n        convKernel.put(params);\r\n        convKernel.put(input);\r\n        convKernel.put(conv);\r\n        convKernel.put(filters);\r\n        convKernel.execute(convRange);\r\n        convKernel.get(conv);\r\n        for(int convL = 0; convL &lt; 4; convL++)\r\n            for(int convR = 0; convR &lt; rows; convR++)\r\n                System.arraycopy(conv, convL * rows * columns + convR * columns, convLayer[convL][convR], 0, columns);\r\n\r\n        Range poolRange = Range.create3D(columns / 2, rows / 2, 4);\r\n        Kernel poolKernel = new Kernel(){\r\n            final int ht = params[0];\r\n            final int wt = params[1];\r\n            public void run(){\r\n                //final float coef = coefficient;\r\n                float val = 0.00f;\r\n                final int c = getGlobalId(0);\r\n                final int r = getGlobalId(1);\r\n                final int l = getGlobalId(2);\r\n                for(int i = 0; i &lt; 2; i++)\r\n                    for (int j = 0; j &lt; 2; j++) {\r\n                        float tmp = NeuralNetwork.ReLU(conv[l * ht * wt + (2 * r + i) * wt + 2 * c + j]);\r\n                        if(val &lt; tmp) val = tmp;\r\n                    }\r\n                pool[(l * ht * wt / 4) + (r * wt / 2) + c] = Math.round(100.00f * val) / 100.00f;\r\n            }\r\n        };\r\n        poolKernel.setExplicit(true);\r\n        poolKernel.put(params);\r\n        poolKernel.put(conv);\r\n        poolKernel.put(pool);\r\n        poolKernel.execute(poolRange);\r\n        poolKernel.get(pool);\r\n        for(int poolL = 0; poolL &lt; 4; poolL++)\r\n            for(int poolR = 0; poolR &lt; rows / 2; poolR++)\r\n                System.arraycopy(pool, (poolL * rows * columns / 4) + (poolR * columns / 2), poolLayer[poolL][poolR], 0, columns / 2);\r\n\r\nAlso, I came to the conclusion that I don&#39;t need LeakyReLU - regular ReLU is perfectly fine! That, being said, I think the topic is more or less closed. I hope someone can learn from my rough path :D","title":"Aparapi cannot resolve max and falls back to CPU","body":"<p>Well... Sometimes, apparently, one needs to write down one's question to be able to answer it. Did some reworking and now all errors seem to be gone:</p>\n<pre><code>    int padding = 3;\n    int filterSize = 2 * padding + 1;\n    int[] params = {rows, columns, padding, filterSize};\n    int[] input = new int[rows * columns];\n    for(int r = 0; r &lt; rows; r++)\n        System.arraycopy(inputLayer[r], 0, input, r * columns, columns);\n    int[] filters = new int[4 * filterSize * filterSize];\n    for(int fl = 0; fl &lt; 4; fl++)\n        for(int fr = 0; fr &lt; filterSize; fr++)\n            System.arraycopy(features[fl][fr], 0, filters, fl * filterSize * filterSize + fr * filterSize, filterSize);\n    float[] conv = new float[4 * rows * columns];\n    float[] pool = new float[rows * columns];\n\n    Range convRange = Range.create3D(columns, rows, 4);\n    Kernel convKernel = new Kernel(){\n        final int h = params[0];\n        final int w = params[1];\n        final int p = params[2];\n        final int fs = params[3];\n        public void run(){\n            int val = 0;\n            final int c = getGlobalId(0);\n            final int r = getGlobalId(1);\n            final int l = getGlobalId(2);\n            final int upper = max(0, p - r);\n            final int lower = min(fs, h + p - r);\n            final int left = max(0, p - c);\n            final int right = min(fs, w + p - c);\n            for (int i = upper; i &lt; lower; i++)\n                for (int j = left; j &lt; right; j++)\n                    val += input[(r + i - p) * w + c + j - p] * filters[l * fs * fs + i * fs + j];\n            conv[l * h * w + r * w + c] = Math.round(100.00f * val / fs) / 100.00f;\n        }\n    };\n    convKernel.setExplicit(true);\n    convKernel.put(params);\n    convKernel.put(input);\n    convKernel.put(conv);\n    convKernel.put(filters);\n    convKernel.execute(convRange);\n    convKernel.get(conv);\n    for(int convL = 0; convL &lt; 4; convL++)\n        for(int convR = 0; convR &lt; rows; convR++)\n            System.arraycopy(conv, convL * rows * columns + convR * columns, convLayer[convL][convR], 0, columns);\n\n    Range poolRange = Range.create3D(columns / 2, rows / 2, 4);\n    Kernel poolKernel = new Kernel(){\n        final int ht = params[0];\n        final int wt = params[1];\n        public void run(){\n            //final float coef = coefficient;\n            float val = 0.00f;\n            final int c = getGlobalId(0);\n            final int r = getGlobalId(1);\n            final int l = getGlobalId(2);\n            for(int i = 0; i &lt; 2; i++)\n                for (int j = 0; j &lt; 2; j++) {\n                    float tmp = NeuralNetwork.ReLU(conv[l * ht * wt + (2 * r + i) * wt + 2 * c + j]);\n                    if(val &lt; tmp) val = tmp;\n                }\n            pool[(l * ht * wt / 4) + (r * wt / 2) + c] = Math.round(100.00f * val) / 100.00f;\n        }\n    };\n    poolKernel.setExplicit(true);\n    poolKernel.put(params);\n    poolKernel.put(conv);\n    poolKernel.put(pool);\n    poolKernel.execute(poolRange);\n    poolKernel.get(pool);\n    for(int poolL = 0; poolL &lt; 4; poolL++)\n        for(int poolR = 0; poolR &lt; rows / 2; poolR++)\n            System.arraycopy(pool, (poolL * rows * columns / 4) + (poolR * columns / 2), poolLayer[poolL][poolR], 0, columns / 2);\n</code></pre>\n<p>Also, I came to the conclusion that I don't need LeakyReLU - regular ReLU is perfectly fine! That, being said, I think the topic is more or less closed. I hope someone can learn from my rough path :D</p>\n"}],"owner":{"account_id":26021646,"reputation":29,"user_id":19729255,"display_name":"Zahari Stoyanov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73299199,"answer_count":2,"score":1,"last_activity_date":1660088590,"creation_date":1660068942,"question_id":73296421,"body_markdown":"So I&#39;m designing a CNN in Java and I&#39;m down to the point where I really wanna parallelize the convolution and pooling. This is my approach(rows, columns, inputLayer, convLayer, poolLayer and features have been initialized already in the constructor):\r\n\r\n        int padding = 3;\r\n        int filterSize = 2 * padding + 1;\r\n        int[] input = new int[rows * columns];\r\n        for(int r = 0; r &lt; rows; r++)\r\n            System.arraycopy(inputLayer[r], 0, input, r * columns, columns);\r\n        int[] filters = new int[4 * filterSize * filterSize];\r\n        for(int fl = 0; fl &lt; 4; fl++)\r\n            for(int fr = 0; fr &lt; filterSize; fr++)\r\n                System.arraycopy(features[fl][fr], 0, filters, fl * filterSize * filterSize + fr * filterSize, filterSize);\r\n        float[] conv = new float[4 * rows * columns];\r\n        float[] pool = new float[rows * columns];\r\n\r\n        Range convRange = Range.create3D(columns, rows, 4, 2, 2, 2);\r\n        Kernel convKernel = new Kernel(){\r\n            int h = rows;\r\n            int w = columns;\r\n            int p = padding;\r\n            int fs = filterSize;\r\n            public void run(){\r\n                int val = 0;\r\n                int c = getGlobalId(0);\r\n                int r = getGlobalId(1);\r\n                int l = getGlobalId(2);\r\n                int upper = max(0, p - r);\r\n                int lower = min(fs, h + p - r);\r\n                int left = max(0, p - c);\r\n                int right = min(fs, w + p - c);\r\n                for (int i = upper; i &lt; lower; i++)\r\n                    for (int j = left; j &lt; right; j++)\r\n                        val += input[(r + i - p) * w + c + j - p] * filters[l * fs * fs + i * fs + j];\r\n                conv[l * h * w + r * w + c] = Math.round(100.00f * val / fs) / 100.00f;\r\n            }\r\n        };\r\n        convKernel.setExplicit(true);\r\n        convKernel.put(input);\r\n        convKernel.put(conv);\r\n        convKernel.put(filters);\r\n        convKernel.execute(convRange);\r\n        convKernel.get(conv);\r\n        for(int convL = 0; convL &lt; 4; convL++)\r\n            for(int convR = 0; convR &lt; rows; convR++)\r\n                System.arraycopy(conv, convL * rows * columns + convR * columns, convLayer[convL][convR], 0, columns);\r\n\r\n        Range poolRange = Range.create3D(columns / 2, rows / 2, 4, 2, 2, 2);\r\n        Kernel poolKernel = new Kernel(){\r\n            public void run(){\r\n                int wt = columns;\r\n                int ht = rows;\r\n                float val = 0.00f;\r\n                int c = getGlobalId(0);\r\n                int r = getGlobalId(1);\r\n                int l = getGlobalId(2);\r\n                for(int i = 0; i &lt; 2; i++)\r\n                    for(int j = 0; j &lt; 2; j++)\r\n                        val = max(val, leakyReLU(conv[l * ht * wt + (2 * r + i) * wt + 2 * c + j]));\r\n                pool[(l * ht * wt / 4) + (r * wt / 2) + c] = Math.round(100.00f * val) / 100.00f;\r\n            }\r\n        };\r\n        poolKernel.setExplicit(true);\r\n        poolKernel.put(conv);\r\n        poolKernel.put(pool);\r\n        poolKernel.execute(poolRange);\r\n        poolKernel.get(pool);\r\n        for(int poolL = 0; poolL &lt; 4; poolL++)\r\n            for(int poolR = 0; poolR &lt; rows / 2; poolR++)\r\n                System.arraycopy(pool, (poolL * rows * columns / 4) + (poolR * columns / 2), poolLayer[poolL][poolR], 0, columns / 2);\r\n\r\nNot the prettiest piece of code but I haven&#39;t used Java in ages, let alone Aparapi.\r\n\r\nInitially I used directly the original arrays, but the api showed a message that it doesn&#39;t support them and switched to native mode. Converting everything to 1d arrays is supposed to work but now I get this message:\r\n\r\n&gt; VIII 09, 2022 9:03:02 PM com.aparapi.internal.model.MethodModel init\r\nWARNING: Method max(FF)F does not contain a LocalVariableTable entry (source not compiled with -g) codegen will attempt to create a synthetic table based on bytecode. This is experimental!!\r\nVIII 09, 2022 9:03:02 PM com.aparapi.internal.kernel.KernelRunner fallBackToNextDevice\r\nWARNING: Device failed for NeuralNetwork$2, devices={NVIDIA&lt;GPU&gt;|Intel&lt;GPU&gt;|Java Alternative Algorithm|Java Thread Pool}: null\r\n\r\nSo it looks like poolKernel can&#39;t resolve the max function and the whole thing falls back to CPU. \r\n\r\nWhen debugging, I can confirm that it only uses 12 threads - the amount supported by my Intel Core i7.\r\nThe GPU is an NVIDIA GeForce GTX 1650 with 896 cores so that&#39;s what I would expect to see.\r\n\r\nAlso, at the end it says:\r\n\r\n&gt; WARNING: Aparapi is running on an untested OpenCL platform version: OpenCL 3.0 CUDA 11.3.123\r\nWARNING: Aparapi is running on an untested OpenCL platform version: OpenCL 3.0\r\n\r\nWhat am I missing?\r\nP.S.: As you would imagine, I&#39;m new to both conv nets and GPGPU. I know there&#39;s a library that contains all needed cnn functions(cudnn) but I want to implement it by myself to really understand how it works.","title":"Aparapi cannot resolve max and falls back to CPU","body":"<p>So I'm designing a CNN in Java and I'm down to the point where I really wanna parallelize the convolution and pooling. This is my approach(rows, columns, inputLayer, convLayer, poolLayer and features have been initialized already in the constructor):</p>\n<pre><code>    int padding = 3;\n    int filterSize = 2 * padding + 1;\n    int[] input = new int[rows * columns];\n    for(int r = 0; r &lt; rows; r++)\n        System.arraycopy(inputLayer[r], 0, input, r * columns, columns);\n    int[] filters = new int[4 * filterSize * filterSize];\n    for(int fl = 0; fl &lt; 4; fl++)\n        for(int fr = 0; fr &lt; filterSize; fr++)\n            System.arraycopy(features[fl][fr], 0, filters, fl * filterSize * filterSize + fr * filterSize, filterSize);\n    float[] conv = new float[4 * rows * columns];\n    float[] pool = new float[rows * columns];\n\n    Range convRange = Range.create3D(columns, rows, 4, 2, 2, 2);\n    Kernel convKernel = new Kernel(){\n        int h = rows;\n        int w = columns;\n        int p = padding;\n        int fs = filterSize;\n        public void run(){\n            int val = 0;\n            int c = getGlobalId(0);\n            int r = getGlobalId(1);\n            int l = getGlobalId(2);\n            int upper = max(0, p - r);\n            int lower = min(fs, h + p - r);\n            int left = max(0, p - c);\n            int right = min(fs, w + p - c);\n            for (int i = upper; i &lt; lower; i++)\n                for (int j = left; j &lt; right; j++)\n                    val += input[(r + i - p) * w + c + j - p] * filters[l * fs * fs + i * fs + j];\n            conv[l * h * w + r * w + c] = Math.round(100.00f * val / fs) / 100.00f;\n        }\n    };\n    convKernel.setExplicit(true);\n    convKernel.put(input);\n    convKernel.put(conv);\n    convKernel.put(filters);\n    convKernel.execute(convRange);\n    convKernel.get(conv);\n    for(int convL = 0; convL &lt; 4; convL++)\n        for(int convR = 0; convR &lt; rows; convR++)\n            System.arraycopy(conv, convL * rows * columns + convR * columns, convLayer[convL][convR], 0, columns);\n\n    Range poolRange = Range.create3D(columns / 2, rows / 2, 4, 2, 2, 2);\n    Kernel poolKernel = new Kernel(){\n        public void run(){\n            int wt = columns;\n            int ht = rows;\n            float val = 0.00f;\n            int c = getGlobalId(0);\n            int r = getGlobalId(1);\n            int l = getGlobalId(2);\n            for(int i = 0; i &lt; 2; i++)\n                for(int j = 0; j &lt; 2; j++)\n                    val = max(val, leakyReLU(conv[l * ht * wt + (2 * r + i) * wt + 2 * c + j]));\n            pool[(l * ht * wt / 4) + (r * wt / 2) + c] = Math.round(100.00f * val) / 100.00f;\n        }\n    };\n    poolKernel.setExplicit(true);\n    poolKernel.put(conv);\n    poolKernel.put(pool);\n    poolKernel.execute(poolRange);\n    poolKernel.get(pool);\n    for(int poolL = 0; poolL &lt; 4; poolL++)\n        for(int poolR = 0; poolR &lt; rows / 2; poolR++)\n            System.arraycopy(pool, (poolL * rows * columns / 4) + (poolR * columns / 2), poolLayer[poolL][poolR], 0, columns / 2);\n</code></pre>\n<p>Not the prettiest piece of code but I haven't used Java in ages, let alone Aparapi.</p>\n<p>Initially I used directly the original arrays, but the api showed a message that it doesn't support them and switched to native mode. Converting everything to 1d arrays is supposed to work but now I get this message:</p>\n<blockquote>\n<p>VIII 09, 2022 9:03:02 PM com.aparapi.internal.model.MethodModel init\nWARNING: Method max(FF)F does not contain a LocalVariableTable entry (source not compiled with -g) codegen will attempt to create a synthetic table based on bytecode. This is experimental!!\nVIII 09, 2022 9:03:02 PM com.aparapi.internal.kernel.KernelRunner fallBackToNextDevice\nWARNING: Device failed for NeuralNetwork$2, devices={NVIDIA|Intel|Java Alternative Algorithm|Java Thread Pool}: null</p>\n</blockquote>\n<p>So it looks like poolKernel can't resolve the max function and the whole thing falls back to CPU.</p>\n<p>When debugging, I can confirm that it only uses 12 threads - the amount supported by my Intel Core i7.\nThe GPU is an NVIDIA GeForce GTX 1650 with 896 cores so that's what I would expect to see.</p>\n<p>Also, at the end it says:</p>\n<blockquote>\n<p>WARNING: Aparapi is running on an untested OpenCL platform version: OpenCL 3.0 CUDA 11.3.123\nWARNING: Aparapi is running on an untested OpenCL platform version: OpenCL 3.0</p>\n</blockquote>\n<p>What am I missing?\nP.S.: As you would imagine, I'm new to both conv nets and GPGPU. I know there's a library that contains all needed cnn functions(cudnn) but I want to implement it by myself to really understand how it works.</p>\n"},{"tags":["java","android-studio","augmented-reality","arcore"],"comments":[{"owner":{"account_id":24332935,"reputation":482,"user_id":21183551,"display_name":"Ars_Codicis"},"score":0,"creation_date":1657665406,"post_id":72959054,"comment_id":128863758,"body_markdown":"https://stackoverflow.com/questions/49855853/3d-objects-click-event-in-arcore","body":"<a href=\"https://stackoverflow.com/questions/49855853/3d-objects-click-event-in-arcore\" title=\"3d objects click event in arcore\">stackoverflow.com/questions/49855853/&hellip;</a>"},{"owner":{"account_id":10455224,"reputation":21,"user_id":7707575,"display_name":"Paterne K."},"score":0,"creation_date":1657693783,"post_id":72959054,"comment_id":128868216,"body_markdown":"Thank you for your answer. It not about gaming. Since 2018 there no news about Android Studio handling click &#233;vent or a kind of, on 3D object by using ArCore SDK ?","body":"Thank you for your answer. It not about gaming. Since 2018 there no news about Android Studio handling click &#233;vent or a kind of, on 3D object by using ArCore SDK ?"}],"answers":[{"tags":[],"owner":{"account_id":24332935,"reputation":482,"user_id":21183551,"display_name":"Ars_Codicis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657724046,"creation_date":1657724046,"answer_id":72968358,"question_id":72959054,"body_markdown":"From this [post][1]:\r\n\r\n&gt;ARCore is not supporting this feature. You need to do it by yourself. \r\n\r\nThe most recommended method is use of ray casting. Assuming you&#39;re using OpenGL, this [post][2] describes some methods of using ray casting in the way you need.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/49855853/3d-objects-click-event-in-arcore\r\n  [2]: https://stackoverflow.com/questions/16746211/android-opengles-2-ray-picking-from-touch-coordinates-unprojecting-calculation","title":"Android : handle click on 3D object arcore, android studio - JAVA","body":"<p>From this <a href=\"https://stackoverflow.com/questions/49855853/3d-objects-click-event-in-arcore\">post</a>:</p>\n<blockquote>\n<p>ARCore is not supporting this feature. You need to do it by yourself.</p>\n</blockquote>\n<p>The most recommended method is use of ray casting. Assuming you're using OpenGL, this <a href=\"https://stackoverflow.com/questions/16746211/android-opengles-2-ray-picking-from-touch-coordinates-unprojecting-calculation\">post</a> describes some methods of using ray casting in the way you need.</p>\n"},{"tags":[],"owner":{"account_id":10455224,"reputation":21,"user_id":7707575,"display_name":"Paterne K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660087874,"creation_date":1660087874,"answer_id":73299149,"question_id":72959054,"body_markdown":"After looking through deep research, I found out that there is an open existing project for sceneform that is still working.\r\n\r\nYou can find the project here :\r\nhttps://github.com/SceneView/sceneform-android\r\n\r\nand some Android Java samples there :\r\nhttps://github.com/SceneView/sceneform-android/tree/master/samples\r\n\r\nBut pay attention, it seems that some methods in samples are deprecated. I&#39;m working on integrating this in my Augmented Image project but I have some trouble finding corresponding new methods for some of them.\r\n\r\nI will appreciate any help from someone who has already done it.\r\n","title":"Android : handle click on 3D object arcore, android studio - JAVA","body":"<p>After looking through deep research, I found out that there is an open existing project for sceneform that is still working.</p>\n<p>You can find the project here :\n<a href=\"https://github.com/SceneView/sceneform-android\" rel=\"nofollow noreferrer\">https://github.com/SceneView/sceneform-android</a></p>\n<p>and some Android Java samples there :\n<a href=\"https://github.com/SceneView/sceneform-android/tree/master/samples\" rel=\"nofollow noreferrer\">https://github.com/SceneView/sceneform-android/tree/master/samples</a></p>\n<p>But pay attention, it seems that some methods in samples are deprecated. I'm working on integrating this in my Augmented Image project but I have some trouble finding corresponding new methods for some of them.</p>\n<p>I will appreciate any help from someone who has already done it.</p>\n"}],"owner":{"account_id":10455224,"reputation":21,"user_id":7707575,"display_name":"Paterne K."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73299149,"answer_count":2,"score":0,"last_activity_date":1660087874,"creation_date":1657665233,"question_id":72959054,"body_markdown":"I&#39;m working on an AR Application for Android with Google ArCore SDK (using Android Studio and Java). I have a problem to handle invents : tap or clic on displayed image/3D Object, weither it is about Augmented images or placing a permanent anchor.\r\nPlease do you have any example of how to handle click on 3D object in Android Studio?\r\nThank you.","title":"Android : handle click on 3D object arcore, android studio - JAVA","body":"<p>I'm working on an AR Application for Android with Google ArCore SDK (using Android Studio and Java). I have a problem to handle invents : tap or clic on displayed image/3D Object, weither it is about Augmented images or placing a permanent anchor.\nPlease do you have any example of how to handle click on 3D object in Android Studio?\nThank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4352234,"reputation":3771,"user_id":3552141,"accept_rate":55,"display_name":"jhyot"},"score":1,"creation_date":1660085151,"post_id":73298710,"comment_id":129448432,"body_markdown":"The operation you are looking for is sometimes also called &quot;debounce&quot;. Searching for &quot;Java debounce&quot; will give you possible implementations to use or to take as a model for your own solution.","body":"The operation you are looking for is sometimes also called &quot;debounce&quot;. Searching for &quot;Java debounce&quot; will give you possible implementations to use or to take as a model for your own solution."},{"owner":{"account_id":8536406,"reputation":33,"user_id":6398049,"display_name":"grnelph"},"score":0,"creation_date":1660087581,"post_id":73298710,"comment_id":129448940,"body_markdown":"@jhyot Thank you very much, I kind of found the right option","body":"@jhyot Thank you very much, I kind of found the right option"}],"answers":[{"tags":[],"owner":{"account_id":8536406,"reputation":33,"user_id":6398049,"display_name":"grnelph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660087372,"creation_date":1660087372,"answer_id":73299101,"question_id":73298710,"body_markdown":"Debouncer class\r\n\r\n    public class Debouncer {\r\n    private final ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();\r\n    private final ConcurrentHashMap&lt;Object, Future&lt;?&gt;&gt; delayedMap = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    /**\r\n     * Debounces {@code callable} by {@code delay}, i.e., schedules it to be executed after {@code delay},\r\n     * or cancels its execution if the method is called with the same key within the {@code delay} again.\r\n     */\r\n    public void debounce(final Object key, final Runnable runnable, long delay, TimeUnit unit) {\r\n        final Future&lt;?&gt; prev = delayedMap.put(key, scheduler.schedule(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    runnable.run();\r\n                } finally {\r\n                    delayedMap.remove(key);\r\n                }\r\n            }\r\n        }, delay, unit));\r\n        if (prev != null) {\r\n            prev.cancel(true);\r\n        }\r\n    }\r\n\r\n    public void shutdown() {\r\n        scheduler.shutdownNow();\r\n    }\r\n    }\r\n\r\nMy class with method b()\r\n\r\n    final Debouncer debouncer = new Debouncer();\r\n    public void methodB(byte[] audioData) throws IOException {\r\n            byte[] transcodedVoice = transcodeVoice(audioData);\r\n            recognizer.acceptWaveForm(transcodedVoice, transcodedVoice.length);\r\n\r\n            debouncer.debounce(Void.class, new Runnable() {\r\n                    @Override public void run() {\r\n                        System.out.println(&quot;Method B stops getting data&quot;);\r\n                    }\r\n                }, 300, TimeUnit.MILLISECONDS);\r\n    }","title":"how to execute method c() if method b() has not been called for more than N seconds?","body":"<p>Debouncer class</p>\n<pre><code>public class Debouncer {\nprivate final ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();\nprivate final ConcurrentHashMap&lt;Object, Future&lt;?&gt;&gt; delayedMap = new ConcurrentHashMap&lt;&gt;();\n\n/**\n * Debounces {@code callable} by {@code delay}, i.e., schedules it to be executed after {@code delay},\n * or cancels its execution if the method is called with the same key within the {@code delay} again.\n */\npublic void debounce(final Object key, final Runnable runnable, long delay, TimeUnit unit) {\n    final Future&lt;?&gt; prev = delayedMap.put(key, scheduler.schedule(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                runnable.run();\n            } finally {\n                delayedMap.remove(key);\n            }\n        }\n    }, delay, unit));\n    if (prev != null) {\n        prev.cancel(true);\n    }\n}\n\npublic void shutdown() {\n    scheduler.shutdownNow();\n}\n}\n</code></pre>\n<p>My class with method b()</p>\n<pre><code>final Debouncer debouncer = new Debouncer();\npublic void methodB(byte[] audioData) throws IOException {\n        byte[] transcodedVoice = transcodeVoice(audioData);\n        recognizer.acceptWaveForm(transcodedVoice, transcodedVoice.length);\n\n        debouncer.debounce(Void.class, new Runnable() {\n                @Override public void run() {\n                    System.out.println(&quot;Method B stops getting data&quot;);\n                }\n            }, 300, TimeUnit.MILLISECONDS);\n}\n</code></pre>\n"}],"owner":{"account_id":8536406,"reputation":33,"user_id":6398049,"display_name":"grnelph"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73299101,"answer_count":1,"score":2,"last_activity_date":1660087372,"creation_date":1660083889,"question_id":73298710,"body_markdown":"method a() sends data to method b(), how to execute method c() if method b() has not been called for more than N seconds and repeat this cycle if method b() receives data again? \r\n\r\n\r\n    public void methodB(byte[] audioData) throws IOException {\r\n                byte[] transcodedVoice = transcodeVoice(audioData);\r\n                recognizer.acceptWaveForm(transcodedVoice, transcodedVoice.length);\r\n        }\r\n\r\n    public void methodC() {\r\n                //do Something\r\n                System.out.println(&quot;Method B stops getting data&quot;)\r\n        }","title":"how to execute method c() if method b() has not been called for more than N seconds?","body":"<p>method a() sends data to method b(), how to execute method c() if method b() has not been called for more than N seconds and repeat this cycle if method b() receives data again?</p>\n<pre><code>public void methodB(byte[] audioData) throws IOException {\n            byte[] transcodedVoice = transcodeVoice(audioData);\n            recognizer.acceptWaveForm(transcodedVoice, transcodedVoice.length);\n    }\n\npublic void methodC() {\n            //do Something\n            System.out.println(&quot;Method B stops getting data&quot;)\n    }\n</code></pre>\n"},{"tags":["java","android","apk"],"comments":[{"owner":{"account_id":5350952,"reputation":16310,"user_id":4265103,"display_name":"Pierre"},"score":3,"creation_date":1660068308,"post_id":73296154,"comment_id":129444030,"body_markdown":"An APK is not an Android executable. But more importantly, what would you expect to happen when executing that jar?","body":"An APK is not an Android executable. But more importantly, what would you expect to happen when executing that jar?"}],"answers":[{"tags":[],"owner":{"account_id":8081408,"reputation":885,"user_id":6090480,"display_name":"vnagy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660087114,"creation_date":1660087114,"answer_id":73299076,"question_id":73296154,"body_markdown":"Short answer: no.\r\n\r\nLonger answer with explanation:\r\n\r\nAn Android apk can be decompiled to java class files with the [dex2jar][1] application. This way you can take a look at the classes and even try to decompile them to java source files. But an Android application links against (depends on) the android framework with its libraries and runtime environment. You can&#39;t just recompile those java files on a standard JDK since that lacks both the Android framework&#39;s libraries and its runtime.\r\n\r\nSadly there are misunderstandings on what &quot;java&quot; is. There are many things that make up &quot;java&quot; as a programming and runtime environment. Just to name a few: there is the byte code specification, the JVM specification, the java language specification and the java core libraries (java API) specifications.\r\n\r\nBut one can decide to take only a subset of these and build something on top of that. You could use the JVM and the byte code with any language as long as it compiled to valid class files. You may omit java core libraries and so on. (See Scala or Clojure)\r\n\r\nAnd that is exactly what Android has done. It took parts of the Java APIs and byte code and built something on top of that but also added its own libraries that have nothing to do with Oracle&#39;s java spec. So even though you can extract some class files out of APKs, those are not class files that were meant to be run on a standard java runtime environment.\r\n\r\n\r\n  [1]: https://github.com/pxb1988/dex2jar","title":"Would it be technically possible to convert a Android executable (.apk) to a Java executable? (.jar)","body":"<p>Short answer: no.</p>\n<p>Longer answer with explanation:</p>\n<p>An Android apk can be decompiled to java class files with the <a href=\"https://github.com/pxb1988/dex2jar\" rel=\"nofollow noreferrer\">dex2jar</a> application. This way you can take a look at the classes and even try to decompile them to java source files. But an Android application links against (depends on) the android framework with its libraries and runtime environment. You can't just recompile those java files on a standard JDK since that lacks both the Android framework's libraries and its runtime.</p>\n<p>Sadly there are misunderstandings on what &quot;java&quot; is. There are many things that make up &quot;java&quot; as a programming and runtime environment. Just to name a few: there is the byte code specification, the JVM specification, the java language specification and the java core libraries (java API) specifications.</p>\n<p>But one can decide to take only a subset of these and build something on top of that. You could use the JVM and the byte code with any language as long as it compiled to valid class files. You may omit java core libraries and so on. (See Scala or Clojure)</p>\n<p>And that is exactly what Android has done. It took parts of the Java APIs and byte code and built something on top of that but also added its own libraries that have nothing to do with Oracle's java spec. So even though you can extract some class files out of APKs, those are not class files that were meant to be run on a standard java runtime environment.</p>\n"}],"owner":{"account_id":26021622,"reputation":1,"user_id":19729237,"display_name":"Wall Nut"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660087114,"creation_date":1660067510,"question_id":73296154,"body_markdown":"Would it be technically possible to convert a Android executable to a Java executable? If so, how? I&#39;ve seen questions like this before on here but they were for the classes to a .jar (which acted more like a zip file) so I found no use for it as it wasn&#39;t the actual apk. (which also can act like a zip file)","title":"Would it be technically possible to convert a Android executable (.apk) to a Java executable? (.jar)","body":"<p>Would it be technically possible to convert a Android executable to a Java executable? If so, how? I've seen questions like this before on here but they were for the classes to a .jar (which acted more like a zip file) so I found no use for it as it wasn't the actual apk. (which also can act like a zip file)</p>\n"},{"tags":["java","arrays","integer"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1660086882,"post_id":73299017,"comment_id":129448813,"body_markdown":"No.  To do that, it requires you to use classes and property change listener.","body":"No.  To do that, it requires you to use classes and property change listener."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1660086933,"post_id":73299017,"comment_id":129448824,"body_markdown":"If it&#39;s a field, you can have the updater call a method and add logic to recalculate `arr[2]`.","body":"If it&#39;s a field, you can have the updater call a method and add logic to recalculate <code>arr[2]</code>."}],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660087044,"creation_date":1660087044,"answer_id":73299067,"question_id":73299017,"body_markdown":"Java does not provide any native mechanism to achieve this.\r\n\r\nWhat you need to do is to implement the [Observer pattern][1] but it will force you to change the whole code and the way you are running it. \r\n\r\nIf you&#39;re interested about existing frameworks and technologies in Java&#39;s world you can take a look at [RxJava][2] but again - it&#39;s completely different approach to implement you&#39;re logic and it&#39;s not possible to implement it as one liner.\r\n\r\n---\r\n\r\nThe only thing you could do would be to forget about arrays, use `List` instead, and provide your own implementation of the interface that would run some custom logic in the overridden `add(int index, E element)` method - but I&#39;m not sure does it answer your question.\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Observer_pattern\r\n  [2]: https://github.com/ReactiveX/RxJava","title":"How to let the values automatically change themselves?","body":"<p>Java does not provide any native mechanism to achieve this.</p>\n<p>What you need to do is to implement the <a href=\"https://en.m.wikipedia.org/wiki/Observer_pattern\" rel=\"nofollow noreferrer\">Observer pattern</a> but it will force you to change the whole code and the way you are running it.</p>\n<p>If you're interested about existing frameworks and technologies in Java's world you can take a look at <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow noreferrer\">RxJava</a> but again - it's completely different approach to implement you're logic and it's not possible to implement it as one liner.</p>\n<hr />\n<p>The only thing you could do would be to forget about arrays, use <code>List</code> instead, and provide your own implementation of the interface that would run some custom logic in the overridden <code>add(int index, E element)</code> method - but I'm not sure does it answer your question.</p>\n"}],"owner":{"account_id":22295850,"reputation":23,"user_id":16566740,"display_name":"Gabe Ebag"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660087044,"creation_date":1660086550,"question_id":73299017,"body_markdown":"```\r\npublic static void main(String []args){\r\n\tInteger[] arr = new Integer[3];\r\n\tArrays.fill(arr, 1);\r\n\t\r\n\tarr[2] += arr[1] * arr[0];\r\n\tSystem.out.println(arr[2]);\r\n\t\r\n\tarr[1] = 3;\r\n\tSystem.out.println(arr[2]);\r\n}\r\n```\r\nIn this code, is it possible to have `arr[2]` to auto-change whenever `arr[0]` or `arr[1]` is changed? Or is there any other approach to achieve this feature?","title":"How to let the values automatically change themselves?","body":"<pre><code>public static void main(String []args){\n    Integer[] arr = new Integer[3];\n    Arrays.fill(arr, 1);\n    \n    arr[2] += arr[1] * arr[0];\n    System.out.println(arr[2]);\n    \n    arr[1] = 3;\n    System.out.println(arr[2]);\n}\n</code></pre>\n<p>In this code, is it possible to have <code>arr[2]</code> to auto-change whenever <code>arr[0]</code> or <code>arr[1]</code> is changed? Or is there any other approach to achieve this feature?</p>\n"},{"tags":["java","testng","timertask"],"comments":[{"owner":{"account_id":4352234,"reputation":3771,"user_id":3552141,"accept_rate":55,"display_name":"jhyot"},"score":0,"creation_date":1660087679,"post_id":73299055,"comment_id":129448959,"body_markdown":"For tests, I recommend the library Awaitility, it provides all the mechanisms that you require, in a nice API.  But besides, Thread.sleep is also ok, it does not have negative effects outside the current thread. If you have hundreds of threads, then sleep wastes quite some resources, but this is usually not the case for test runs.","body":"For tests, I recommend the library Awaitility, it provides all the mechanisms that you require, in a nice API.  But besides, Thread.sleep is also ok, it does not have negative effects outside the current thread. If you have hundreds of threads, then sleep wastes quite some resources, but this is usually not the case for test runs."},{"owner":{"account_id":2996819,"reputation":2582,"user_id":2543209,"accept_rate":59,"display_name":"Jeremy Fisher"},"score":0,"creation_date":1660088519,"post_id":73299055,"comment_id":129449089,"body_markdown":"@jhyot do you know if tests are run in parallel, does testng spin up separate threads for each, and in that case, does doing Thread.sleep cause any issues?","body":"@jhyot do you know if tests are run in parallel, does testng spin up separate threads for each, and in that case, does doing Thread.sleep cause any issues?"},{"owner":{"account_id":4352234,"reputation":3771,"user_id":3552141,"accept_rate":55,"display_name":"jhyot"},"score":1,"creation_date":1660127553,"post_id":73299055,"comment_id":129457773,"body_markdown":"It depends on the test framework or runner. It must be either in separate threads or in separate processes. In either case, Thread.sleep should not cause any issues, because the tests must be independent of each other anyways to be able to run in parallel.","body":"It depends on the test framework or runner. It must be either in separate threads or in separate processes. In either case, Thread.sleep should not cause any issues, because the tests must be independent of each other anyways to be able to run in parallel."}],"owner":{"account_id":2996819,"reputation":2582,"user_id":2543209,"accept_rate":59,"display_name":"Jeremy Fisher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660086922,"creation_date":1660086922,"question_id":73299055,"body_markdown":"I want to regular poll (not long poll) an API using TimerTask from inside an integration test. Basically, I want to poll every minute, and if 15 minutes have passed, I want to stop polling and fail my test. \r\n\r\nI haven&#39;t done this before, so I&#39;m looking into different ways of doing this. One simple idea I have is just doing a for loop 15 times. Each iteration, I call the API, check the response, and if it&#39;s not what I expect, wait 1 minute using `Thread.sleep()` Here is sample code for it:\r\n\r\n```\r\n@Test\r\npublic void testHappyPath() {\r\n    SomeApiRequest request = ...;\r\n    SomeApiResponse response;\r\n    for (int attempt = 0; attempt &lt; 15; attempt++) {\r\n                \r\n                response = client\r\n                        .getResult(request);\r\n                // perform conditional logic on response\r\n                if (response.hasItemIWant()) {\r\n                    Assert.assertTrue(&lt;certain things about response&gt;);\r\n                    return;\r\n                }\r\n                Thread.sleep(60000);\r\n    }\r\n    Assert.fail(&quot;Did not receive the expected response within 15 minutes.&quot;);\r\n}\r\n```\r\n\r\nWhat I&#39;m concerned about here is that since I have multiple tests that will do similar logic and also have Thread.sleep(), I am not sure what if any byproducts of that there are. I am using TestNG as my framework, and I believe TestNG runs tests in parallel. If it does, I am hoping that doing Thread.sleep() only affects the thread for that specific test. \r\n\r\nI have also looked into TimerTask. The problem I have found with this though is that it seems like if I want to have an upper limit on retries (like I have 15 in the above example), I will still need the loop anyway. Plus, it is not trivial to return a value from a timer task, so I would need to check the response within the TimerTask object itself. I can&#39;t declare the response object outside of the timer task and use it within the timer task unless response is a final or class variable, which doesn&#39;t work for my case. I was thinking of doing something like this:\r\n\r\n```\r\n@Test\r\npublic void testHappyPath() {\r\n    SomeApiRequest request = ...;\r\n    boolean allAssertionsPassed = false;\r\n    Timer t = new Timer();\r\n    TimerTask tt = TimerTask tt = new TimerTask() {\r\n        @Override\r\n        public void run() {\r\n            SomeApiResponse response = client.getResult(request);\r\n            if (response.hasItemIWant()) {\r\n                Assert.assertTrue(&lt;some things about response&gt;);\r\n                allAssertionsPassed = true;\r\n                t.cancel();\r\n            }\r\n        };\r\n    };\r\n    for (int attempt = 0; attempt &lt; 15; attempt++) {\r\n        // fixed delay scheduling. run every minute but in case a call takes super long\r\n        // for some reason multiple calls won&#39;t happen at the same time.\r\n        t.schedule(tt, 0, 60000);\r\n        if (allAssertionsPassed) {\r\n            return;\r\n        }\r\n    }\r\n    Assert.fail(&quot;Did not receive the expected response within 15 minutes.&quot;);\r\n}\r\n```\r\n\r\nI&#39;m not sure if the above code is correct, and again I don&#39;t quite know what would happen if these tests are run in parallel.\r\n\r\n\r\nWhat is the correct way of doing this? I have not done this before so an example would be helpful.","title":"Correct way to poll an API every minute until a max in Java within a test framework","body":"<p>I want to regular poll (not long poll) an API using TimerTask from inside an integration test. Basically, I want to poll every minute, and if 15 minutes have passed, I want to stop polling and fail my test.</p>\n<p>I haven't done this before, so I'm looking into different ways of doing this. One simple idea I have is just doing a for loop 15 times. Each iteration, I call the API, check the response, and if it's not what I expect, wait 1 minute using <code>Thread.sleep()</code> Here is sample code for it:</p>\n<pre><code>@Test\npublic void testHappyPath() {\n    SomeApiRequest request = ...;\n    SomeApiResponse response;\n    for (int attempt = 0; attempt &lt; 15; attempt++) {\n                \n                response = client\n                        .getResult(request);\n                // perform conditional logic on response\n                if (response.hasItemIWant()) {\n                    Assert.assertTrue(&lt;certain things about response&gt;);\n                    return;\n                }\n                Thread.sleep(60000);\n    }\n    Assert.fail(&quot;Did not receive the expected response within 15 minutes.&quot;);\n}\n</code></pre>\n<p>What I'm concerned about here is that since I have multiple tests that will do similar logic and also have Thread.sleep(), I am not sure what if any byproducts of that there are. I am using TestNG as my framework, and I believe TestNG runs tests in parallel. If it does, I am hoping that doing Thread.sleep() only affects the thread for that specific test.</p>\n<p>I have also looked into TimerTask. The problem I have found with this though is that it seems like if I want to have an upper limit on retries (like I have 15 in the above example), I will still need the loop anyway. Plus, it is not trivial to return a value from a timer task, so I would need to check the response within the TimerTask object itself. I can't declare the response object outside of the timer task and use it within the timer task unless response is a final or class variable, which doesn't work for my case. I was thinking of doing something like this:</p>\n<pre><code>@Test\npublic void testHappyPath() {\n    SomeApiRequest request = ...;\n    boolean allAssertionsPassed = false;\n    Timer t = new Timer();\n    TimerTask tt = TimerTask tt = new TimerTask() {\n        @Override\n        public void run() {\n            SomeApiResponse response = client.getResult(request);\n            if (response.hasItemIWant()) {\n                Assert.assertTrue(&lt;some things about response&gt;);\n                allAssertionsPassed = true;\n                t.cancel();\n            }\n        };\n    };\n    for (int attempt = 0; attempt &lt; 15; attempt++) {\n        // fixed delay scheduling. run every minute but in case a call takes super long\n        // for some reason multiple calls won't happen at the same time.\n        t.schedule(tt, 0, 60000);\n        if (allAssertionsPassed) {\n            return;\n        }\n    }\n    Assert.fail(&quot;Did not receive the expected response within 15 minutes.&quot;);\n}\n</code></pre>\n<p>I'm not sure if the above code is correct, and again I don't quite know what would happen if these tests are run in parallel.</p>\n<p>What is the correct way of doing this? I have not done this before so an example would be helpful.</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","aws-security-group","aws-sdk-java-2.0"],"comments":[{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1643638551,"post_id":70927386,"comment_id":125386267,"body_markdown":"What documentation are you looking at, that you can find security group modification, but not security group rule modification? Try searching on this page: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/ec2/Ec2Client.html","body":"What documentation are you looking at, that you can find security group modification, but not security group rule modification? Try searching on this page: <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/ec2/Ec2Client.html\" rel=\"nofollow noreferrer\">sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1644409883,"post_id":70927386,"comment_id":125598269,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":24287063,"reputation":27,"user_id":18232673,"display_name":"selimczaouali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647854798,"creation_date":1647854798,"answer_id":71555335,"question_id":70927386,"body_markdown":"Hopefully you found the solution to your question since it was posted a month ago.\r\nI am currently working on the same thing and I found that using **AuthorizeSecurityGroupIngressRequest** allows you to update already existing Security Groups instead of creating new ones every time.\r\n\r\n    IpRange ipRange = IpRange.builder()\r\n                    .cidrIp(&quot;0.0.0.0/0&quot;).build();\r\n\r\n                IpPermission ipPerm = IpPermission.builder()\r\n                    .ipProtocol(&quot;tcp&quot;)\r\n                    .toPort(22)\r\n                    .fromPort(22)\r\n                    .ipRanges(ipRange)\r\n                    .build();\r\n\r\n                AuthorizeSecurityGroupIngressRequest authRequest =\r\n                    AuthorizeSecurityGroupIngressRequest.builder()\r\n                            .groupName(YOUR_GROUP_NAME) // can also use .groupId\r\n                            .ipPermissions(ipPerm)\r\n                            .build();\r\n\r\n                ec2.authorizeSecurityGroupIngress(authRequest);","title":"How to automate modify security groups inbound rules in aws ec2 using java sdk?","body":"<p>Hopefully you found the solution to your question since it was posted a month ago.\nI am currently working on the same thing and I found that using <strong>AuthorizeSecurityGroupIngressRequest</strong> allows you to update already existing Security Groups instead of creating new ones every time.</p>\n<pre><code>IpRange ipRange = IpRange.builder()\n                .cidrIp(&quot;0.0.0.0/0&quot;).build();\n\n            IpPermission ipPerm = IpPermission.builder()\n                .ipProtocol(&quot;tcp&quot;)\n                .toPort(22)\n                .fromPort(22)\n                .ipRanges(ipRange)\n                .build();\n\n            AuthorizeSecurityGroupIngressRequest authRequest =\n                AuthorizeSecurityGroupIngressRequest.builder()\n                        .groupName(YOUR_GROUP_NAME) // can also use .groupId\n                        .ipPermissions(ipPerm)\n                        .build();\n\n            ec2.authorizeSecurityGroupIngress(authRequest);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23957557,"reputation":1,"user_id":17948201,"display_name":"Tianqi.Jiang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660086666,"creation_date":1660086666,"answer_id":73299029,"question_id":70927386,"body_markdown":"    \tUpdateSecurityGroupRuleDescriptionsIngressRequest authRequest = UpdateSecurityGroupRuleDescriptionsIngressRequest.builder()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t .groupName(&quot;default&quot;)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t .ipPermissions(ipPerm)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t .build();\r\n\tUpdateSecurityGroupRuleDescriptionsIngressResponse updateSecurityGroupRuleDescriptionsIngress = ec2.updateSecurityGroupRuleDescriptionsIngress(authRequest);\r\n\r\n\r\nIt works for me","title":"How to automate modify security groups inbound rules in aws ec2 using java sdk?","body":"<pre><code>    UpdateSecurityGroupRuleDescriptionsIngressRequest authRequest = UpdateSecurityGroupRuleDescriptionsIngressRequest.builder()\n                                                         .groupName(&quot;default&quot;)\n                                                         .ipPermissions(ipPerm)\n                                                         .build();\nUpdateSecurityGroupRuleDescriptionsIngressResponse updateSecurityGroupRuleDescriptionsIngress = ec2.updateSecurityGroupRuleDescriptionsIngress(authRequest);\n</code></pre>\n<p>It works for me</p>\n"}],"owner":{"account_id":15776634,"reputation":11,"user_id":13553339,"display_name":"omkar musale"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1660086666,"creation_date":1643638156,"question_id":70927386,"body_markdown":"I am trying to find the documentation to update aws ec2 security groups using aws java sdk since 2 days, I am able to find the documentation for creating and deleting the security groups using aws java sdk, but not able to find the same for adding,removing,updating the security group inbound rules using java sdk, if anyone can give me the link to the documentation, or any working sample code in java, it will be really helpful to me.\r\n\r\n","title":"How to automate modify security groups inbound rules in aws ec2 using java sdk?","body":"<p>I am trying to find the documentation to update aws ec2 security groups using aws java sdk since 2 days, I am able to find the documentation for creating and deleting the security groups using aws java sdk, but not able to find the same for adding,removing,updating the security group inbound rules using java sdk, if anyone can give me the link to the documentation, or any working sample code in java, it will be really helpful to me.</p>\n"},{"tags":["java","api","processing","jmf"],"comments":[{"owner":{"account_id":238268,"reputation":11065,"user_id":507043,"accept_rate":77,"display_name":"Michael IV"},"score":0,"creation_date":1438761458,"post_id":31825147,"comment_id":51576439,"body_markdown":"OpenGL has nothing to do with processing.Maybe the opposite is true.But it seems to me you should ask the question in connection to Processing framework and not OpenGL.Also your code has nothing to do with OpenGL API","body":"OpenGL has nothing to do with processing.Maybe the opposite is true.But it seems to me you should ask the question in connection to Processing framework and not OpenGL.Also your code has nothing to do with OpenGL API"}],"answers":[{"tags":[],"owner":{"account_id":248772,"reputation":159853,"user_id":524368,"accept_rate":83,"display_name":"datenwolf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1438762099,"creation_date":1438762099,"answer_id":31826826,"question_id":31825147,"body_markdown":"&gt;  how can I use processing with OPENGL to generate animated frames without interactive means without displaying the window.\r\n\r\nIn short terms: Given the current OpenGL driver models *you can&#39;t (as long as you want to use a GPU for rendering).* Period, that&#39;s how it is.\r\n\r\nIf you can live with software rendering (slow), then there&#39;s [OSMesa](http://www.mesa3d.org/osmesa.html). Also in the forseeable future there should be changes in the driver models, which allow to use OpenGL in a headless environment. Until then, you need a window of some sort on a graphics environment that actually actively feeds a display output (so it doesn&#39;t suffice to start a X11 server and background it).","title":"Create a video using processing opengl","body":"<blockquote>\n  <p>how can I use processing with OPENGL to generate animated frames without interactive means without displaying the window.</p>\n</blockquote>\n\n<p>In short terms: Given the current OpenGL driver models <em>you can't (as long as you want to use a GPU for rendering).</em> Period, that's how it is.</p>\n\n<p>If you can live with software rendering (slow), then there's <a href=\"http://www.mesa3d.org/osmesa.html\" rel=\"nofollow\">OSMesa</a>. Also in the forseeable future there should be changes in the driver models, which allow to use OpenGL in a headless environment. Until then, you need a window of some sort on a graphics environment that actually actively feeds a display output (so it doesn't suffice to start a X11 server and background it).</p>\n"}],"owner":{"account_id":4727598,"reputation":286,"user_id":3824055,"accept_rate":50,"display_name":"Sumit Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":31826826,"answer_count":1,"score":2,"last_activity_date":1660086382,"creation_date":1438756933,"question_id":31825147,"body_markdown":"I am creating a `REST API` to generate video dynamically based on user input and provided animation types. So, I am using processing 2.2.1 for this. \r\nI want to generate 3D animation using `OPENGL`. But `OPENGL` requires Window object. Since I am using processing in background to just generate frame, how can I use processing with `OPENGL` to generate animated frames without interactive means without displaying the window.\r\n\r\nMy sample code\r\n\r\n    import com.hamoid.VideoExport;\r\n    import processing.core.*;\r\n \r\n    public class CircleSketch extends PApplet {\r\n \r\n\t    private VideoExport videoExport;\r\n\t\r\n      public void setup() {\r\n        size(400, 400,OPENGL);\r\n        videoExport = new VideoExport(this, &quot;F:/work/tmp.mp4&quot;);\r\n        background(0);\r\n      }\r\n      public void draw() {\r\n        background(0);\r\n        fill(200);\r\n        rotateX(radians(50));\r\n        rectMode(CENTER);\r\n        rect(width/2,height/2, 100, 100);\r\n        videoExport.saveFrame();\r\n      }\r\n    }\r\n\r\n\r\n`DisplayFrame` Class \r\n\r\n\r\n   \tpublic class DisplayFrame extends javax.swing.JFrame {\r\n\t    public DisplayFrame(){\r\n\t        this.setSize(600, 600); //The window Dimensions\r\n\t        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\t        javax.swing.JPanel panel = new javax.swing.JPanel();\r\n\t        panel.setBounds(20, 20, 600, 600);\r\n\t        processing.core.PApplet sketch = new CircleSketch();\r\n\t        panel.add(sketch);\r\n\t        this.add(panel);\r\n\t        this.setVisible(false);\r\n            //this is the function used to start the execution of the sketch\r\n\t        sketch.init();     \r\n\t    }\r\n\t    \r\n\t    \r\n\t    \r\n        public static void main(String[] args) {\r\n\t       new DisplayFrame().setVisible(false);\r\n\t    }    \r\n\t}\r\n\r\nAny suggestion please???\r\n","title":"Create a video using processing opengl","body":"<p>I am creating a <code>REST API</code> to generate video dynamically based on user input and provided animation types. So, I am using processing 2.2.1 for this.\nI want to generate 3D animation using <code>OPENGL</code>. But <code>OPENGL</code> requires Window object. Since I am using processing in background to just generate frame, how can I use processing with <code>OPENGL</code> to generate animated frames without interactive means without displaying the window.</p>\n<p>My sample code</p>\n<pre><code>import com.hamoid.VideoExport;\nimport processing.core.*;\n\npublic class CircleSketch extends PApplet {\n\n    private VideoExport videoExport;\n\n  public void setup() {\n    size(400, 400,OPENGL);\n    videoExport = new VideoExport(this, &quot;F:/work/tmp.mp4&quot;);\n    background(0);\n  }\n  public void draw() {\n    background(0);\n    fill(200);\n    rotateX(radians(50));\n    rectMode(CENTER);\n    rect(width/2,height/2, 100, 100);\n    videoExport.saveFrame();\n  }\n}\n</code></pre>\n<p><code>DisplayFrame</code> Class</p>\n<pre><code>public class DisplayFrame extends javax.swing.JFrame {\n    public DisplayFrame(){\n        this.setSize(600, 600); //The window Dimensions\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n        javax.swing.JPanel panel = new javax.swing.JPanel();\n        panel.setBounds(20, 20, 600, 600);\n        processing.core.PApplet sketch = new CircleSketch();\n        panel.add(sketch);\n        this.add(panel);\n        this.setVisible(false);\n        //this is the function used to start the execution of the sketch\n        sketch.init();     \n    }\n    \n    \n    \n    public static void main(String[] args) {\n       new DisplayFrame().setVisible(false);\n    }    \n}\n</code></pre>\n<p>Any suggestion please???</p>\n"},{"tags":["java","spring","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":4352234,"reputation":3771,"user_id":3552141,"accept_rate":55,"display_name":"jhyot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660086330,"creation_date":1660086330,"answer_id":73298989,"question_id":73296985,"body_markdown":"`@SpringBootTest` sets up multiple hooks into the test runner. One of them is to inject beans into `@Autowired` fields, without the test class itself being a bean.\r\n\r\n`@SpringBootTest` actually does a lot of &quot;magic&quot; behind the scenes, just so that things just work like we might expect, without us thinking about them too much.","title":"can we use @Autowired without bean registration?","body":"<p><code>@SpringBootTest</code> sets up multiple hooks into the test runner. One of them is to inject beans into <code>@Autowired</code> fields, without the test class itself being a bean.</p>\n<p><code>@SpringBootTest</code> actually does a lot of &quot;magic&quot; behind the scenes, just so that things just work like we might expect, without us thinking about them too much.</p>\n"}],"owner":{"account_id":25854896,"reputation":51,"user_id":19588345,"display_name":"fast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73298989,"answer_count":1,"score":1,"last_activity_date":1660086330,"creation_date":1660072434,"question_id":73296985,"body_markdown":"In the code below, surprisingly, when I use @AutoWired, the fields are set but this class has not been registered as a bean, and the program works correctly, but when I took the MockingTest bean from the context, it said that there is no such bean. Is it possible to use AutoWired without registering a class as a bean?\r\n\r\n    @SpringBootTest\r\n    public class MockingTest {\r\n        @Autowired\r\n        private ApplicationContext context;\r\n        @Autowired\r\n        private CollegeStudent collegeStudent;\r\n        @Autowired\r\n        private StudentGrades studentGrades;\r\n        @Mock\r\n        private ApplicationDao applicationDao;\r\n        @InjectMocks\r\n        private ApplicationService applicationService;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        collegeStudent.setFirstname(&quot;Al&quot;);\r\n        collegeStudent.setLastname(&quot;Zam&quot;);\r\n        collegeStudent.setEmailAddress(&quot;555@gmail.com&quot;);\r\n        collegeStudent.setStudentGrades(studentGrades);\r\n    }\r\n\r\n\r\n    @Test\r\n    @DisplayName(&quot;mockito testing&quot;)\r\n    public void testMocking() {\r\n        when(applicationDao.addGradeResultsForSingleClass(studentGrades.getMathGradeResults()))\r\n                .thenReturn(100.0);\r\n        assertEquals(100.0, applicationService.addGradeResultsForSingleClass(studentGrades.getMathGradeResults()));\r\n        verify(applicationDao).addGradeResultsForSingleClass(studentGrades.getMathGradeResults());\r\n        verify(applicationDao,times(1)).addGradeResultsForSingleClass(studentGrades.getMathGradeResults());\r\n    }\r\n}","title":"can we use @Autowired without bean registration?","body":"<p>In the code below, surprisingly, when I use @AutoWired, the fields are set but this class has not been registered as a bean, and the program works correctly, but when I took the MockingTest bean from the context, it said that there is no such bean. Is it possible to use AutoWired without registering a class as a bean?</p>\n<pre><code>@SpringBootTest\npublic class MockingTest {\n    @Autowired\n    private ApplicationContext context;\n    @Autowired\n    private CollegeStudent collegeStudent;\n    @Autowired\n    private StudentGrades studentGrades;\n    @Mock\n    private ApplicationDao applicationDao;\n    @InjectMocks\n    private ApplicationService applicationService;\n\n@BeforeEach\nvoid setUp() {\n    collegeStudent.setFirstname(&quot;Al&quot;);\n    collegeStudent.setLastname(&quot;Zam&quot;);\n    collegeStudent.setEmailAddress(&quot;555@gmail.com&quot;);\n    collegeStudent.setStudentGrades(studentGrades);\n}\n\n\n@Test\n@DisplayName(&quot;mockito testing&quot;)\npublic void testMocking() {\n    when(applicationDao.addGradeResultsForSingleClass(studentGrades.getMathGradeResults()))\n            .thenReturn(100.0);\n    assertEquals(100.0, applicationService.addGradeResultsForSingleClass(studentGrades.getMathGradeResults()));\n    verify(applicationDao).addGradeResultsForSingleClass(studentGrades.getMathGradeResults());\n    verify(applicationDao,times(1)).addGradeResultsForSingleClass(studentGrades.getMathGradeResults());\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","email","smtp","wildfly","zoho"],"owner":{"account_id":3242245,"reputation":413,"user_id":2734938,"display_name":"Jorge Campins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660086055,"creation_date":1660084437,"question_id":73298780,"body_markdown":"I&#39;m trying to make my java web application send e-mails using my Zoho mail account. The application runs in WildFly 26.1.1 server using Java 11.0.15. The WildFly configuration is:\r\n\r\n    &lt;mail-session name=&quot;xyz2ap112-mail-session&quot; debug=&quot;true&quot; jndi-name=&quot;java:jboss/mail/xyz2ap112MailerBeanSession&quot;&gt;\r\n        &lt;smtp-server outbound-socket-binding-ref=&quot;zoho-mail-smtp&quot; ssl=&quot;true&quot; username=&quot;showcase@proyecto-adalid.org&quot; password=&quot;the actual password&quot;/&gt;\r\n    &lt;/mail-session&gt;\r\n\r\n    &lt;outbound-socket-binding name=&quot;zoho-mail-smtp&quot;&gt;\r\n        &lt;remote-destination host=&quot;smtppro.zoho.com&quot; port=&quot;465&quot;/&gt;\r\n    &lt;/outbound-socket-binding&gt;\r\n\r\nIt looks just like the configuration that used to work for GMail (until Google banned the Less secure applications). The application throws an exception when connecting to Zoho.\r\nI uploaded the whole exception to https://drive.google.com/file/d/18AtJTGBVb3f6HQKTFqDxuavS-JknIJrU/view?usp=sharing and also to https://pastebin.com/Rq0qZDY1. These are just the &quot;Caused by&quot; messages:\r\n\r\n    Caused by: javax.mail.MessagingException: Could not connect to SMTP host: smtppro.zoho.com, port: 465;\r\n    Caused by: javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\r\n    Caused by: java.io.EOFException: SSL peer shut down incorrectly\r\n\r\nI have also tried using TLS and port=587 instead of SSL and port=465, with both smtppro.zoho.com and smtp.zoho.com. Same exception. Enabling the debug for the session I got these messages:\r\n\r\n    DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\r\n    DEBUG SMTP: need username and password for authentication\r\n    DEBUG SMTP: protocolConnect returning false, host=smtppro.zoho.com, user=showcase@proyecto-adalid.org, password=&lt;null&gt;\r\n    DEBUG SMTP: useEhlo true, useAuth true\r\n    DEBUG SMTP: trying to connect to host &quot;smtppro.zoho.com&quot;, port 465, isSSL true\r\n\r\nIt really bothers me that it says `password=&lt;null&gt;` even though the password is present in the configuration (mail-session/smtp-server). But I guess I would get a different exception for missing or invalid password.\r\n\r\nI would really appreciate if someone can help me find a solution to this problem.","title":"How to make a Java web application running on WildFly send emails using a Zoho email account?","body":"<p>I'm trying to make my java web application send e-mails using my Zoho mail account. The application runs in WildFly 26.1.1 server using Java 11.0.15. The WildFly configuration is:</p>\n<pre><code>&lt;mail-session name=&quot;xyz2ap112-mail-session&quot; debug=&quot;true&quot; jndi-name=&quot;java:jboss/mail/xyz2ap112MailerBeanSession&quot;&gt;\n    &lt;smtp-server outbound-socket-binding-ref=&quot;zoho-mail-smtp&quot; ssl=&quot;true&quot; username=&quot;showcase@proyecto-adalid.org&quot; password=&quot;the actual password&quot;/&gt;\n&lt;/mail-session&gt;\n\n&lt;outbound-socket-binding name=&quot;zoho-mail-smtp&quot;&gt;\n    &lt;remote-destination host=&quot;smtppro.zoho.com&quot; port=&quot;465&quot;/&gt;\n&lt;/outbound-socket-binding&gt;\n</code></pre>\n<p>It looks just like the configuration that used to work for GMail (until Google banned the Less secure applications). The application throws an exception when connecting to Zoho.\nI uploaded the whole exception to <a href=\"https://drive.google.com/file/d/18AtJTGBVb3f6HQKTFqDxuavS-JknIJrU/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/18AtJTGBVb3f6HQKTFqDxuavS-JknIJrU/view?usp=sharing</a> and also to <a href=\"https://pastebin.com/Rq0qZDY1\" rel=\"nofollow noreferrer\">https://pastebin.com/Rq0qZDY1</a>. These are just the &quot;Caused by&quot; messages:</p>\n<pre><code>Caused by: javax.mail.MessagingException: Could not connect to SMTP host: smtppro.zoho.com, port: 465;\nCaused by: javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\nCaused by: java.io.EOFException: SSL peer shut down incorrectly\n</code></pre>\n<p>I have also tried using TLS and port=587 instead of SSL and port=465, with both smtppro.zoho.com and smtp.zoho.com. Same exception. Enabling the debug for the session I got these messages:</p>\n<pre><code>DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\nDEBUG SMTP: need username and password for authentication\nDEBUG SMTP: protocolConnect returning false, host=smtppro.zoho.com, user=showcase@proyecto-adalid.org, password=&lt;null&gt;\nDEBUG SMTP: useEhlo true, useAuth true\nDEBUG SMTP: trying to connect to host &quot;smtppro.zoho.com&quot;, port 465, isSSL true\n</code></pre>\n<p>It really bothers me that it says <code>password=&lt;null&gt;</code> even though the password is present in the configuration (mail-session/smtp-server). But I guess I would get a different exception for missing or invalid password.</p>\n<p>I would really appreciate if someone can help me find a solution to this problem.</p>\n"},{"tags":["java","rational-number"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1660083916,"post_id":73298701,"comment_id":129448214,"body_markdown":"What&#39;s the error you get when you try to compile it? (eg. when you run `javac`)","body":"What&#39;s the error you get when you try to compile it? (eg. when you run <code>javac</code>)"},{"owner":{"account_id":25408191,"reputation":3,"user_id":19216521,"display_name":"ColorTheory42"},"score":0,"creation_date":1660084839,"post_id":73298701,"comment_id":129448372,"body_markdown":"Exception in thread &quot;main&quot; java.lang.NumberFormatException: Character I is neither a decimal digit number, decimal point, nor &quot;e&quot; notation exponential mark.","body":"Exception in thread &quot;main&quot; java.lang.NumberFormatException: Character I is neither a decimal digit number, decimal point, nor &quot;e&quot; notation exponential mark."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1660084921,"post_id":73298701,"comment_id":129448389,"body_markdown":"You&#39;re writing a program to check whether the user has typed an infinite number of digits?  How long do you expect it will take the user to type those digits?","body":"You&#39;re writing a program to check whether the user has typed an infinite number of digits?  How long do you expect it will take the user to type those digits?"},{"owner":{"account_id":25408191,"reputation":3,"user_id":19216521,"display_name":"ColorTheory42"},"score":0,"creation_date":1660085097,"post_id":73298701,"comment_id":129448421,"body_markdown":"I&#39;m going to add stuff like pi inputs and detect if its a string then change that input to the pi command. and also add a &quot;...&quot; detector to simulate recurring digits.","body":"I&#39;m going to add stuff like pi inputs and detect if its a string then change that input to the pi command. and also add a &quot;...&quot; detector to simulate recurring digits."},{"owner":{"account_id":25408191,"reputation":3,"user_id":19216521,"display_name":"ColorTheory42"},"score":0,"creation_date":1660085128,"post_id":73298701,"comment_id":129448427,"body_markdown":"I assume it will calculate every digit. all the way to infinity and beyond.","body":"I assume it will calculate every digit. all the way to infinity and beyond."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":2,"creation_date":1660085319,"post_id":73298701,"comment_id":129448467,"body_markdown":"You&#39;re confusing &#39;compile&#39; and &#39;run&#39;.  If you got a NumberFormatExtension, then that&#39;s a runtime thing, not a compile-time problem.","body":"You&#39;re confusing &#39;compile&#39; and &#39;run&#39;.  If you got a NumberFormatExtension, then that&#39;s a runtime thing, not a compile-time problem."},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1660085492,"post_id":73298701,"comment_id":129448508,"body_markdown":"@ColorTheory42 `BigDecimal infinity = BigDecimal.valueOf(Double.POSITIVE_INFINITY);` Causes the error since BigDecimal has no concept of infinity. All known irrationals you can just implement with special handling, things like PI, e, etc. But on computer you cant even calculate an irrational number because of physical limitations. All numerical values on a computer are finite and by definition are rational.","body":"@ColorTheory42 <code>BigDecimal infinity = BigDecimal.valueOf(Double.POSITIVE_INFINITY);</code> Causes the error since BigDecimal has no concept of infinity. All known irrationals you can just implement with special handling, things like PI, e, etc. But on computer you cant even calculate an irrational number because of physical limitations. All numerical values on a computer are finite and by definition are rational."},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1660085919,"post_id":73298701,"comment_id":129448613,"body_markdown":"@ColorTheory42 Best you can do is to approximate the answer. Set some realistic finite value as the rational/irrational break point, And whenever a number has more decimal places than this value, it is regarded as irrational. Reason being, that sooner or later your computer will run out of memory, and whatever number is in memory by that time is finite and by definition it is rational. Any special numbers or symbols you add need special handling.","body":"@ColorTheory42 Best you can do is to approximate the answer. Set some realistic finite value as the rational/irrational break point, And whenever a number has more decimal places than this value, it is regarded as irrational. Reason being, that sooner or later your computer will run out of memory, and whatever number is in memory by that time is finite and by definition it is rational. Any special numbers or symbols you add need special handling."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1660086371,"post_id":73298701,"comment_id":129448695,"body_markdown":"I really don&#39;t think you&#39;ve thought this through.  A user can&#39;t type an infinite number of digits.  Computations that take place inside a computer generally work with data types that can only store rational numbers.  I can&#39;t imagine any scenario where your program is going to be able to look at its input, and conclude that it&#39;s irrational.","body":"I really don&#39;t think you&#39;ve thought this through.  A user can&#39;t type an infinite number of digits.  Computations that take place inside a computer generally work with data types that can only store rational numbers.  I can&#39;t imagine any scenario where your program is going to be able to look at its input, and conclude that it&#39;s irrational."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1660086503,"post_id":73298701,"comment_id":129448722,"body_markdown":"Also, you shouldn&#39;t use the word &quot;compile&quot; in a question if that&#39;s not actually what you mean.","body":"Also, you shouldn&#39;t use the word &quot;compile&quot; in a question if that&#39;s not actually what you mean."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1660086509,"post_id":73298701,"comment_id":129448725,"body_markdown":"The user can&#39;t even type a finite number of digits N, where N is the maximum possible value of Java double-precision floating point number; that&#39;s about 10-to-the-power-308 decimal digits, right?  I suspect some confusion between &quot;a very big number&quot; and &quot;the number of digits in a very big number&quot;.","body":"The user can&#39;t even type a finite number of digits N, where N is the maximum possible value of Java double-precision floating point number; that&#39;s about 10-to-the-power-308 decimal digits, right?  I suspect some confusion between &quot;a very big number&quot; and &quot;the number of digits in a very big number&quot;."}],"answers":[{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1660086039,"creation_date":1660086039,"answer_id":73298957,"question_id":73298701,"body_markdown":"Let&#39;s unpack this statement:\r\n\r\n    BigDecimal infinity = \r\n        BigDecimal.valueOf(Double.POSITIVE_INFINITY);\r\n\r\nDouble.POSITIVE_INFINITY is some number.\r\n\r\nLooking at the [documentation for BigDecimal.valueOf](https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#valueOf(double)), we see it uses Double.toString() to do the conversion.\r\n\r\nLooking at the [documentation for that](https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#toString(double)), we see that a value of positive infinity results in the string &quot;Infinity&quot;.\r\n\r\nThus, we&#39;re effectively left with trying to evaluate\r\n\r\n    BigDecimal(&quot;Infinity&quot;);\r\n\r\nAnd if we look at the documentation for [that particular constructor](https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#BigDecimal(java.lang.String)), there&#39;s no suggestion it can handle non-numeric string arguments.\r\n","title":"I&#39;m trying to write a program to determine if the input value is irrational or not by determining the number of digits. why won&#39;t it compile?","body":"<p>Let's unpack this statement:</p>\n<pre><code>BigDecimal infinity = \n    BigDecimal.valueOf(Double.POSITIVE_INFINITY);\n</code></pre>\n<p>Double.POSITIVE_INFINITY is some number.</p>\n<p>Looking at the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#valueOf(double)\" rel=\"nofollow noreferrer\">documentation for BigDecimal.valueOf</a>, we see it uses Double.toString() to do the conversion.</p>\n<p>Looking at the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#toString(double)\" rel=\"nofollow noreferrer\">documentation for that</a>, we see that a value of positive infinity results in the string &quot;Infinity&quot;.</p>\n<p>Thus, we're effectively left with trying to evaluate</p>\n<pre><code>BigDecimal(&quot;Infinity&quot;);\n</code></pre>\n<p>And if we look at the documentation for <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#BigDecimal(java.lang.String)\" rel=\"nofollow noreferrer\">that particular constructor</a>, there's no suggestion it can handle non-numeric string arguments.</p>\n"}],"owner":{"account_id":25408191,"reputation":3,"user_id":19216521,"display_name":"ColorTheory42"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1660086039,"creation_date":1660083783,"question_id":73298701,"body_markdown":"If the number of digits is infinite then I mark it as irrational and everything else is rational as it would be finite.\r\n\r\nI tired input 3.14 but it crashed and didn&#39;t compile the output of irrational or rational.\r\n\r\n\r\n```\r\nimport java.math.BigDecimal;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class non_terminating_decimals {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner inputNumber = new Scanner(System.in);\r\n        System.out.println(&quot;input number : &quot;);\r\n        BigDecimal inputnumber = inputNumber.nextBigDecimal();\r\n        BigDecimal numerofDigits = input(new BigDecimal(String.valueOf(inputnumber)));\r\n\r\n        BigDecimal infinity = BigDecimal.valueOf(Double.POSITIVE_INFINITY);\r\n\r\n        if (numerofDigits == infinity) {\r\n\r\n            System.out.println(&quot;Irrational&quot;);\r\n        }\r\n        else {\r\n\r\n            System.out.println(&quot;Rational&quot;);\r\n        }\r\n    }\r\n\r\n    static int integerDigits(BigDecimal number) {\r\n        return number.signum() == 0 ? 1 : number.precision() - number.scale();\r\n    }\r\n\r\n    static BigDecimal input(BigDecimal number) {\r\n        return BigDecimal.valueOf(0);\r\n    }\r\n}\r\n```","title":"I&#39;m trying to write a program to determine if the input value is irrational or not by determining the number of digits. why won&#39;t it compile?","body":"<p>If the number of digits is infinite then I mark it as irrational and everything else is rational as it would be finite.</p>\n<p>I tired input 3.14 but it crashed and didn't compile the output of irrational or rational.</p>\n<pre><code>import java.math.BigDecimal;\n\nimport java.util.Scanner;\n\npublic class non_terminating_decimals {\n    public static void main(String[] args) {\n\n        Scanner inputNumber = new Scanner(System.in);\n        System.out.println(&quot;input number : &quot;);\n        BigDecimal inputnumber = inputNumber.nextBigDecimal();\n        BigDecimal numerofDigits = input(new BigDecimal(String.valueOf(inputnumber)));\n\n        BigDecimal infinity = BigDecimal.valueOf(Double.POSITIVE_INFINITY);\n\n        if (numerofDigits == infinity) {\n\n            System.out.println(&quot;Irrational&quot;);\n        }\n        else {\n\n            System.out.println(&quot;Rational&quot;);\n        }\n    }\n\n    static int integerDigits(BigDecimal number) {\n        return number.signum() == 0 ? 1 : number.precision() - number.scale();\n    }\n\n    static BigDecimal input(BigDecimal number) {\n        return BigDecimal.valueOf(0);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1660084967,"post_id":73298779,"comment_id":129448396,"body_markdown":"Check the value of `this.populationPerZipCode.get(String.valueOf(zipCode));`, it might be that the zipCode key does not exist in the hashmap and therefore the double is null (Are you mixing up keys and values?). If you think the zipCode should be in the HashMap then you need to work backwards through your code and debug it to work out why zipCode does not exist in the HashMap.","body":"Check the value of <code>this.populationPerZipCode.get(String.valueOf(zipCode));</code>, it might be that the zipCode key does not exist in the hashmap and therefore the double is null (Are you mixing up keys and values?). If you think the zipCode should be in the HashMap then you need to work backwards through your code and debug it to work out why zipCode does not exist in the HashMap."}],"answers":[{"tags":[],"owner":{"account_id":14440990,"reputation":71,"user_id":10431631,"display_name":"Athsoatle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660085847,"creation_date":1660085210,"answer_id":73298865,"question_id":73298779,"body_markdown":"If key doesn&#39;t mapped to value in map, or mapped to null, it will return null in this case you need to check if you&#39;re getting null. In my opinion the best way to handle this is to use `getOrDefault`\r\n```java\r\n yourMap.getOrDefault(key, defaultValue);\r\n```\r\n[Documentation on method][1]  \r\nIt will return `defaultValue` (some double value in your case), when it&#39;s `yourkey: null` in map.  \r\nThere are also `putIfAbsent` method ([docs][2]), that might help.   \r\n\r\nAlso check what is **`Optional`** in java, described good [here][3], if you want to handle nulls in different way.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#putIfAbsent-K-V-:~:text=1.8-,putIfAbsent,-default%C2%A0V\r\n  [3]: https://www.baeldung.com/java-optional","title":"How to fix null value issue","body":"<p>If key doesn't mapped to value in map, or mapped to null, it will return null in this case you need to check if you're getting null. In my opinion the best way to handle this is to use <code>getOrDefault</code></p>\n<pre class=\"lang-java prettyprint-override\"><code> yourMap.getOrDefault(key, defaultValue);\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\" rel=\"nofollow noreferrer\">Documentation on method</a><br />\nIt will return <code>defaultValue</code> (some double value in your case), when it's <code>yourkey: null</code> in map.<br />\nThere are also <code>putIfAbsent</code> method (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#putIfAbsent-K-V-:%7E:text=1.8-,putIfAbsent,-default%C2%A0V\" rel=\"nofollow noreferrer\">docs</a>), that might help.</p>\n<p>Also check what is <strong><code>Optional</code></strong> in java, described good <a href=\"https://www.baeldung.com/java-optional\" rel=\"nofollow noreferrer\">here</a>, if you want to handle nulls in different way.</p>\n"}],"owner":{"account_id":4908584,"reputation":1592,"user_id":3954542,"accept_rate":60,"display_name":"Damien"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":923,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1660101952,"accepted_answer_id":73298865,"answer_count":1,"score":-2,"last_activity_date":1660085847,"creation_date":1660084430,"question_id":73298779,"body_markdown":"I am currently learning Java. I wrote the code below. I am getting an error `Cannot invoke &quot;java.lang.Double.doubleValue()&quot; because the return value of &quot;java.util.Map.get(Object)&quot; is null` on line 90 [`double totalPopulationForZipCode = this.populationPerZipCode.get(dailyReport.getZipCode());`].\r\n\r\nI modified the code several ways and kept getting the same result. How can I fix this?\r\n\r\n```\r\npublic class Processor {\r\n    protected CovidReader covidReader;\r\n    protected PopulationReader populationReader;\r\n    protected PropertyReader propertyReader;\r\n    protected List&lt;Covid&gt; covidData;\r\n    protected List&lt;Population&gt; populationData;\r\n    protected List&lt;Property&gt; propertyData;\r\n\r\n    private Map&lt;String, Double&gt; populationPerZipCode = new HashMap&lt;String, Double&gt;();\r\n    public Processor(CovidReader covidReader, PropertyReader propertyReader, PopulationReader populationReader) throws IOException {\r\n        this.covidReader = covidReader;\r\n        this.populationReader = populationReader;\r\n        this.propertyReader = propertyReader;\r\n        covidData = this.covidReader.getAllCovidData();\r\n        populationData = this.populationReader.getAllPopulationData();\r\n        propertyData = this.propertyReader.getAllPropertyData();\r\n        populationPerZipCode = this.storePopulationDataToMap();\r\n    }\r\n\r\n    /**\r\n     * Calculate the total population\r\n     * for All ZIP Codes\r\n     * @return totalPopulation\r\n     */\r\n    public double calculateTotalPopulation() {\r\n        double totalPopulation = 0;\r\n        for(Population residentPerZipCode: populationData) {\r\n            totalPopulation += residentPerZipCode.getResident();\r\n        }\r\n        return totalPopulation;\r\n    }\r\n\r\n    /**\r\n     * Calculate total partial vaccinations\r\n     * per capita\r\n     * @param date\r\n     * @return a map of zip code and ratio\r\n     */\r\n    public Map&lt;Integer, String&gt; calculateTotalPartialVaccination(String date) throws ParseException {\r\n        Map&lt;Integer, String&gt; result = new TreeMap&lt;&gt;();\r\n\r\n        for(Covid dailyReport: covidData) {\r\n            String reportDate = dailyReport.getTimestamp().split(&quot; &quot;)[0];\r\n            this.display(this.populationPerZipCode);\r\n            if(this.compareDates(reportDate, date)) {\r\n                int zipCode = Integer.parseInt(dailyReport.getZipCode());\r\n                double partiallyVaccinated = dailyReport.getPartiallyVaccinated();\r\n                double totalPopulationForZipCode = this.populationPerZipCode.get(String.valueOf(zipCode));\r\n                double perCapita = (partiallyVaccinated / totalPopulationForZipCode);\r\n\r\n                String ratio = this.formatRatio(perCapita);\r\n\r\n                // Store data in map\r\n                result.put(zipCode, ratio);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Calculate total partial vaccinations\r\n     * per capita\r\n     * @param date\r\n     * @return a map of zip code and ratio\r\n     */\r\n    public Map&lt;Integer, String&gt; calculateTotalFullVaccination(String date) throws ParseException {\r\n        Map&lt;Integer, String&gt; result = new TreeMap&lt;&gt;();\r\n        for(Covid dailyReport: covidData) {\r\n            String reportDate = dailyReport.getTimestamp().split(&quot; &quot;)[0];\r\n            if(this.compareDates(reportDate, date)) {\r\n                int zipCode = Integer.parseInt(dailyReport.getZipCode());\r\n                double fullyVaccinated = dailyReport.getFullyVaccinated();\r\n                System.out.println(fullyVaccinated);\r\n                if(this.populationPerZipCode != null) {\r\n                    double totalPopulationForZipCode = this.populationPerZipCode.get(dailyReport.getZipCode());\r\n                    double perCapita = (fullyVaccinated/totalPopulationForZipCode);\r\n\r\n                    String ratio = this.formatRatio(perCapita);\r\n\r\n                    // Store data in map\r\n                    result.put(zipCode, ratio);\r\n                }\r\n\r\n\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Compare two dates\r\n     * @param date1\r\n     * @param date2\r\n     * @return a boolean value\r\n     * @throws ParseException\r\n     */\r\n    public static boolean compareDates(String date1, String date2) throws ParseException {\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat (&quot;yyyy-mm-dd&quot;);\r\n        Date spDate1 = dateFormat.parse(date1);\r\n        Date spDate2 = dateFormat.parse(date2);\r\n        if(spDate2.equals(spDate1)) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Helper method to format result\r\n     * @param value\r\n     * @return 4 decimal numbers\r\n     */\r\n    private String formatRatio(double value) {\r\n        DecimalFormat format = new DecimalFormat(&quot;0.0000&quot;);\r\n        return format.format(value);\r\n    }\r\n\r\n    public void displayData(Map&lt;Integer, String&gt; map) {\r\n        for (Map.Entry&lt;Integer, String&gt; entry : map.entrySet()) {\r\n            System.out.println(entry.getKey() + &quot;: &quot;+ entry.getValue());\r\n        }\r\n    }\r\n\r\n    public void display(Map&lt;String, Double&gt; map) {\r\n        for (Map.Entry&lt;String, Double&gt; entry : map.entrySet()) {\r\n            System.out.println(entry.getKey() + &quot;: &quot;+ entry.getValue());\r\n        }\r\n    }\r\n\r\n    private Map&lt;String, Double&gt; storePopulationDataToMap() {\r\n        Map&lt;String, Double&gt; result = new HashMap&lt;&gt;();\r\n        for(Population residentPerZipCode: this.populationData) {\r\n            String zipCode = residentPerZipCode.getZipCode();\r\n            double resident = residentPerZipCode.getResident();\r\n            if (!this.populationPerZipCode.containsKey(zipCode)) {\r\n                this.populationPerZipCode.put(zipCode, resident);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```","title":"How to fix null value issue","body":"<p>I am currently learning Java. I wrote the code below. I am getting an error <code>Cannot invoke &quot;java.lang.Double.doubleValue()&quot; because the return value of &quot;java.util.Map.get(Object)&quot; is null</code> on line 90 [<code>double totalPopulationForZipCode = this.populationPerZipCode.get(dailyReport.getZipCode());</code>].</p>\n<p>I modified the code several ways and kept getting the same result. How can I fix this?</p>\n<pre><code>public class Processor {\n    protected CovidReader covidReader;\n    protected PopulationReader populationReader;\n    protected PropertyReader propertyReader;\n    protected List&lt;Covid&gt; covidData;\n    protected List&lt;Population&gt; populationData;\n    protected List&lt;Property&gt; propertyData;\n\n    private Map&lt;String, Double&gt; populationPerZipCode = new HashMap&lt;String, Double&gt;();\n    public Processor(CovidReader covidReader, PropertyReader propertyReader, PopulationReader populationReader) throws IOException {\n        this.covidReader = covidReader;\n        this.populationReader = populationReader;\n        this.propertyReader = propertyReader;\n        covidData = this.covidReader.getAllCovidData();\n        populationData = this.populationReader.getAllPopulationData();\n        propertyData = this.propertyReader.getAllPropertyData();\n        populationPerZipCode = this.storePopulationDataToMap();\n    }\n\n    /**\n     * Calculate the total population\n     * for All ZIP Codes\n     * @return totalPopulation\n     */\n    public double calculateTotalPopulation() {\n        double totalPopulation = 0;\n        for(Population residentPerZipCode: populationData) {\n            totalPopulation += residentPerZipCode.getResident();\n        }\n        return totalPopulation;\n    }\n\n    /**\n     * Calculate total partial vaccinations\n     * per capita\n     * @param date\n     * @return a map of zip code and ratio\n     */\n    public Map&lt;Integer, String&gt; calculateTotalPartialVaccination(String date) throws ParseException {\n        Map&lt;Integer, String&gt; result = new TreeMap&lt;&gt;();\n\n        for(Covid dailyReport: covidData) {\n            String reportDate = dailyReport.getTimestamp().split(&quot; &quot;)[0];\n            this.display(this.populationPerZipCode);\n            if(this.compareDates(reportDate, date)) {\n                int zipCode = Integer.parseInt(dailyReport.getZipCode());\n                double partiallyVaccinated = dailyReport.getPartiallyVaccinated();\n                double totalPopulationForZipCode = this.populationPerZipCode.get(String.valueOf(zipCode));\n                double perCapita = (partiallyVaccinated / totalPopulationForZipCode);\n\n                String ratio = this.formatRatio(perCapita);\n\n                // Store data in map\n                result.put(zipCode, ratio);\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Calculate total partial vaccinations\n     * per capita\n     * @param date\n     * @return a map of zip code and ratio\n     */\n    public Map&lt;Integer, String&gt; calculateTotalFullVaccination(String date) throws ParseException {\n        Map&lt;Integer, String&gt; result = new TreeMap&lt;&gt;();\n        for(Covid dailyReport: covidData) {\n            String reportDate = dailyReport.getTimestamp().split(&quot; &quot;)[0];\n            if(this.compareDates(reportDate, date)) {\n                int zipCode = Integer.parseInt(dailyReport.getZipCode());\n                double fullyVaccinated = dailyReport.getFullyVaccinated();\n                System.out.println(fullyVaccinated);\n                if(this.populationPerZipCode != null) {\n                    double totalPopulationForZipCode = this.populationPerZipCode.get(dailyReport.getZipCode());\n                    double perCapita = (fullyVaccinated/totalPopulationForZipCode);\n\n                    String ratio = this.formatRatio(perCapita);\n\n                    // Store data in map\n                    result.put(zipCode, ratio);\n                }\n\n\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Compare two dates\n     * @param date1\n     * @param date2\n     * @return a boolean value\n     * @throws ParseException\n     */\n    public static boolean compareDates(String date1, String date2) throws ParseException {\n        SimpleDateFormat dateFormat = new SimpleDateFormat (&quot;yyyy-mm-dd&quot;);\n        Date spDate1 = dateFormat.parse(date1);\n        Date spDate2 = dateFormat.parse(date2);\n        if(spDate2.equals(spDate1)) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * Helper method to format result\n     * @param value\n     * @return 4 decimal numbers\n     */\n    private String formatRatio(double value) {\n        DecimalFormat format = new DecimalFormat(&quot;0.0000&quot;);\n        return format.format(value);\n    }\n\n    public void displayData(Map&lt;Integer, String&gt; map) {\n        for (Map.Entry&lt;Integer, String&gt; entry : map.entrySet()) {\n            System.out.println(entry.getKey() + &quot;: &quot;+ entry.getValue());\n        }\n    }\n\n    public void display(Map&lt;String, Double&gt; map) {\n        for (Map.Entry&lt;String, Double&gt; entry : map.entrySet()) {\n            System.out.println(entry.getKey() + &quot;: &quot;+ entry.getValue());\n        }\n    }\n\n    private Map&lt;String, Double&gt; storePopulationDataToMap() {\n        Map&lt;String, Double&gt; result = new HashMap&lt;&gt;();\n        for(Population residentPerZipCode: this.populationData) {\n            String zipCode = residentPerZipCode.getZipCode();\n            double resident = residentPerZipCode.getResident();\n            if (!this.populationPerZipCode.containsKey(zipCode)) {\n                this.populationPerZipCode.put(zipCode, resident);\n            }\n        }\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":["java","processing","frame"],"answers":[{"tags":[],"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1471976813,"creation_date":1471975610,"answer_id":39107977,"question_id":39107750,"body_markdown":"You&#39;re probably best off just using the old `frame` variable.\r\n\r\nFor most things like this, you should use the new `surface` variable, which is of type `PSurface`. You can view the source for `PSurface` [here](https://github.com/processing/processing/blob/master/core/src/processing/core/PSurface.java). Reading that, we see that unfortunately, the `surface` variable doesn&#39;t give us access to the frame&#39;s position.\r\n\r\nSince you can&#39;t get to the location from the `surface` variable, you have to go a level deeper and get the **native** component (in the default case, a `SmoothCanvas` which extends an awt `Canvas`). I figured this out by looking at the source for `PSurfaceAWT` available [here](https://github.com/processing/processing/blob/master/core/src/processing/awt/PSurfaceAWT.java).\r\n\r\nThe code for that looks a little gross, since you have to do some casting:\r\n\r\n    import processing.awt.PSurfaceAWT;\r\n    import processing.awt.PSurfaceAWT.SmoothCanvas;\r\n    \r\n    void setup(){\r\n      size(200, 200);\r\n    }\r\n    \r\n    void draw(){\r\n      background(0);\r\n      \r\n      int x = ( (SmoothCanvas) ((PSurfaceAWT)surface).getNative()).getFrame().getX();\r\n      text(&quot;x: &quot; + x , 20, 20);\r\n    }","title":"Java and Processing 3.0 “frame” class deprecated, is there an alternative?","body":"<p>You're probably best off just using the old <code>frame</code> variable.</p>\n\n<p>For most things like this, you should use the new <code>surface</code> variable, which is of type <code>PSurface</code>. You can view the source for <code>PSurface</code> <a href=\"https://github.com/processing/processing/blob/master/core/src/processing/core/PSurface.java\" rel=\"nofollow\">here</a>. Reading that, we see that unfortunately, the <code>surface</code> variable doesn't give us access to the frame's position.</p>\n\n<p>Since you can't get to the location from the <code>surface</code> variable, you have to go a level deeper and get the <strong>native</strong> component (in the default case, a <code>SmoothCanvas</code> which extends an awt <code>Canvas</code>). I figured this out by looking at the source for <code>PSurfaceAWT</code> available <a href=\"https://github.com/processing/processing/blob/master/core/src/processing/awt/PSurfaceAWT.java\" rel=\"nofollow\">here</a>.</p>\n\n<p>The code for that looks a little gross, since you have to do some casting:</p>\n\n<pre><code>import processing.awt.PSurfaceAWT;\nimport processing.awt.PSurfaceAWT.SmoothCanvas;\n\nvoid setup(){\n  size(200, 200);\n}\n\nvoid draw(){\n  background(0);\n\n  int x = ( (SmoothCanvas) ((PSurfaceAWT)surface).getNative()).getFrame().getX();\n  text(\"x: \" + x , 20, 20);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556816182,"creation_date":1556816182,"answer_id":55957053,"question_id":39107750,"body_markdown":"In addition to Kevin&#39;s excellent answer here is a function that uses that along with the equivalent for the `P2D`,`P3D` and `FX2D` renderers:\r\n\r\n    void setup(){\r\n      size(300,300,FX2D);\r\n    }\r\n    void draw(){\r\n      background(0);\r\n      text(getLocationOnScreen().toString(),10,15);\r\n    }\r\n    \r\n    PVector getLocationOnScreen(){\r\n      PVector location = new PVector();\r\n      // JAVA2D\r\n      if(surface instanceof processing.awt.PSurfaceAWT){\r\n        java.awt.Frame frame = ( (processing.awt.PSurfaceAWT.SmoothCanvas) ((processing.awt.PSurfaceAWT)surface).getNative()).getFrame();\r\n        java.awt.Point point = frame.getLocationOnScreen();\r\n        location.set(point.x,point.y);\r\n      }\r\n      // P2D, P3D\r\n      else if(surface instanceof processing.opengl.PSurfaceJOGL){\r\n        com.jogamp.newt.opengl.GLWindow window = (com.jogamp.newt.opengl.GLWindow)(((PSurfaceJOGL)surface).getNative());\r\n        com.jogamp.nativewindow.util.Point point = window.getLocationOnScreen(new com.jogamp.nativewindow.util.Point());\r\n        location.set(point.getX(),point.getY());\r\n      }\r\n      // FX2D\r\n      else if(surface instanceof processing.javafx.PSurfaceFX){\r\n        javafx.scene.canvas.Canvas canvas = (javafx.scene.canvas.Canvas)((processing.javafx.PSurfaceFX)surface).getNative();\r\n        javafx.geometry.Point2D point = canvas.localToScreen(0,0);\r\n        location.set((float)point.getX(),(float)point.getY()); \r\n      }\r\n      return location;\r\n    }\r\n\r\n(Code code&#39;ve been more elegant using imports, but for I&#39;ve left the fully qualified class names in so it&#39;s easier to copy/paste/test the function in new sketches)","title":"Java and Processing 3.0 “frame” class deprecated, is there an alternative?","body":"<p>In addition to Kevin's excellent answer here is a function that uses that along with the equivalent for the <code>P2D</code>,<code>P3D</code> and <code>FX2D</code> renderers:</p>\n\n<pre><code>void setup(){\n  size(300,300,FX2D);\n}\nvoid draw(){\n  background(0);\n  text(getLocationOnScreen().toString(),10,15);\n}\n\nPVector getLocationOnScreen(){\n  PVector location = new PVector();\n  // JAVA2D\n  if(surface instanceof processing.awt.PSurfaceAWT){\n    java.awt.Frame frame = ( (processing.awt.PSurfaceAWT.SmoothCanvas) ((processing.awt.PSurfaceAWT)surface).getNative()).getFrame();\n    java.awt.Point point = frame.getLocationOnScreen();\n    location.set(point.x,point.y);\n  }\n  // P2D, P3D\n  else if(surface instanceof processing.opengl.PSurfaceJOGL){\n    com.jogamp.newt.opengl.GLWindow window = (com.jogamp.newt.opengl.GLWindow)(((PSurfaceJOGL)surface).getNative());\n    com.jogamp.nativewindow.util.Point point = window.getLocationOnScreen(new com.jogamp.nativewindow.util.Point());\n    location.set(point.getX(),point.getY());\n  }\n  // FX2D\n  else if(surface instanceof processing.javafx.PSurfaceFX){\n    javafx.scene.canvas.Canvas canvas = (javafx.scene.canvas.Canvas)((processing.javafx.PSurfaceFX)surface).getNative();\n    javafx.geometry.Point2D point = canvas.localToScreen(0,0);\n    location.set((float)point.getX(),(float)point.getY()); \n  }\n  return location;\n}\n</code></pre>\n\n<p>(Code code've been more elegant using imports, but for I've left the fully qualified class names in so it's easier to copy/paste/test the function in new sketches)</p>\n"}],"owner":{"account_id":7320476,"reputation":23,"user_id":5631858,"display_name":"Biggzlar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2215,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":39107977,"answer_count":2,"score":2,"last_activity_date":1660085686,"creation_date":1471974593,"question_id":39107750,"body_markdown":"so [Processing][1] used to have a &quot;frame&quot; class which allowed for some versatile functionality. I&#39;m trying to get the location of the PApplet window onscreen but without the &quot;frame&quot; class, I can&#39;t seem to to do it.\r\n\r\nThe old way:\r\n\r\n    int fX = frame.getX();\r\n\r\nor\r\n\r\n    int fX = frame.getLocationOnScreen().x;\r\n\r\nThe whole thing is supposed to be dynamic, so setting the window location in Processings setup() is not an option.\r\n\r\nHope somebody can help,\r\n\r\nGreetings! \r\nB\r\n\r\n  [1]: http://www.processing.org","title":"Java and Processing 3.0 “frame” class deprecated, is there an alternative?","body":"<p>so <a href=\"http://www.processing.org\" rel=\"nofollow noreferrer\">Processing</a> used to have a &quot;frame&quot; class which allowed for some versatile functionality. I'm trying to get the location of the PApplet window onscreen but without the &quot;frame&quot; class, I can't seem to to do it.</p>\n<p>The old way:</p>\n<pre><code>int fX = frame.getX();\n</code></pre>\n<p>or</p>\n<pre><code>int fX = frame.getLocationOnScreen().x;\n</code></pre>\n<p>The whole thing is supposed to be dynamic, so setting the window location in Processings setup() is not an option.</p>\n<p>Hope somebody can help,</p>\n<p>Greetings!\nB</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1660083305,"post_id":73298584,"comment_id":129448105,"body_markdown":"Is it readily from the keyboard or from a file?","body":"Is it readily from the keyboard or from a file?"},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":1,"creation_date":1660083323,"post_id":73298584,"comment_id":129448110,"body_markdown":"If your IDs and usernames are not allowed to contain `,`, when reading, just read the whole line and use `String#split(&quot;,&quot;)` to get the indivual parts.","body":"If your IDs and usernames are not allowed to contain <code>,</code>, when reading, just read the whole line and use <code>String#split(&quot;,&quot;)</code> to get the indivual parts."},{"owner":{"account_id":26023159,"reputation":1,"user_id":19730529,"display_name":"Eric Rebadona"},"score":0,"creation_date":1660084276,"post_id":73298584,"comment_id":129448282,"body_markdown":"It&#39;s from a file @ChengThao","body":"It&#39;s from a file @ChengThao"}],"answers":[{"tags":[],"owner":{"account_id":26023159,"reputation":1,"user_id":19730529,"display_name":"Eric Rebadona"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660085141,"creation_date":1660085141,"answer_id":73298860,"question_id":73298584,"body_markdown":"I found a solution\r\n\r\n                String ID = read.next();\r\n                double BatteryCharge = read.nextDouble();\r\n                boolean inUse = read.nextBoolean();\r\n                long rentalStart = read.nextLong();\r\n                String userName = read.nextLine();\r\n                userName = userName.replace(&quot;,&quot;,&quot;&quot;);","title":"With each save to a .csv file a comma is added to the userName","body":"<p>I found a solution</p>\n<pre><code>            String ID = read.next();\n            double BatteryCharge = read.nextDouble();\n            boolean inUse = read.nextBoolean();\n            long rentalStart = read.nextLong();\n            String userName = read.nextLine();\n            userName = userName.replace(&quot;,&quot;,&quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":26023159,"reputation":1,"user_id":19730529,"display_name":"Eric Rebadona"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660085247,"creation_date":1660082692,"question_id":73298584,"body_markdown":"With each iteration of the program it saves each object&#39;s variables back to a .csv file and overwrites the previous. I tried doing `read.next();` for the `userName` but that results in an error because if there is no `userName` it&#39;s meant to be empty. After 3 saves the `userName` would be `,,,Fred`. I assume it&#39;s because I&#39;m using `.nextLine()` and it reads the `,`.\r\n\r\nI used a delimiter to read the .csv file. `.useDelimiter(&quot;,&quot;)`\r\n\r\nScanner: \r\n\r\n     while (read.hasNext()) {\r\n\r\n                String ID = read.next();\r\n                double BatteryCharge = read.nextDouble();\r\n                boolean inUse = read.nextBoolean();\r\n                long rentalStart = read.nextLong();\r\n                String userName = read.nextLine();\r\n\r\n\r\n                bikeArrayList.add(new Bike(ID, BatteryCharge, inUse, rentalStart, userName));\r\n            }\r\n\r\nPrintWriter:\r\n\r\n    for (int i = 0; i &lt; bikeArrayList.size(); i++) {\r\n                write.print(bikeArrayList.get(i).getBikeId() + &quot;,&quot;);\r\n                write.print(bikeArrayList.get(i).getBatteryCharge() + &quot;,&quot;);\r\n                write.print(bikeArrayList.get(i).isInUse() + &quot;,&quot;);\r\n                write.print(bikeArrayList.get(i).getRentalStart() + &quot;,&quot;);\r\n                write.println((bikeArrayList.get(i).getUserName());\r\n            }\r\n\r\n\r\nThis is what the file saves as on the .csv file:\r\n\r\n    BE11,1.00,true,122123,,,,Fred\r\n    BE12,1.00,false,0,\r\n    BE13,1.00,false,0,\r\n\r\n\r\n\r\n","title":"With each save to a .csv file a comma is added to the userName","body":"<p>With each iteration of the program it saves each object's variables back to a .csv file and overwrites the previous. I tried doing <code>read.next();</code> for the <code>userName</code> but that results in an error because if there is no <code>userName</code> it's meant to be empty. After 3 saves the <code>userName</code> would be <code>,,,Fred</code>. I assume it's because I'm using <code>.nextLine()</code> and it reads the <code>,</code>.</p>\n<p>I used a delimiter to read the .csv file. <code>.useDelimiter(&quot;,&quot;)</code></p>\n<p>Scanner:</p>\n<pre><code> while (read.hasNext()) {\n\n            String ID = read.next();\n            double BatteryCharge = read.nextDouble();\n            boolean inUse = read.nextBoolean();\n            long rentalStart = read.nextLong();\n            String userName = read.nextLine();\n\n\n            bikeArrayList.add(new Bike(ID, BatteryCharge, inUse, rentalStart, userName));\n        }\n</code></pre>\n<p>PrintWriter:</p>\n<pre><code>for (int i = 0; i &lt; bikeArrayList.size(); i++) {\n            write.print(bikeArrayList.get(i).getBikeId() + &quot;,&quot;);\n            write.print(bikeArrayList.get(i).getBatteryCharge() + &quot;,&quot;);\n            write.print(bikeArrayList.get(i).isInUse() + &quot;,&quot;);\n            write.print(bikeArrayList.get(i).getRentalStart() + &quot;,&quot;);\n            write.println((bikeArrayList.get(i).getUserName());\n        }\n</code></pre>\n<p>This is what the file saves as on the .csv file:</p>\n<pre><code>BE11,1.00,true,122123,,,,Fred\nBE12,1.00,false,0,\nBE13,1.00,false,0,\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":478864,"reputation":1349,"user_id":891203,"accept_rate":80,"display_name":"devdanke"},"score":0,"creation_date":1660059590,"post_id":73294292,"comment_id":129440988,"body_markdown":"Have you ever programmed with Kotlin?  It makes Java&#39;s functional feature  easier (less verbose) to work with.  Sometimes, if I want to do something functional in Java, I try it first in a more functional language (eg Kotlin, Clojure), where there&#39;s less noise.  Once I see it work, it&#39;s a little easier to implement in Java.  Good luck!","body":"Have you ever programmed with Kotlin?  It makes Java&#39;s functional feature  easier (less verbose) to work with.  Sometimes, if I want to do something functional in Java, I try it first in a more functional language (eg Kotlin, Clojure), where there&#39;s less noise.  Once I see it work, it&#39;s a little easier to implement in Java.  Good luck!"},{"owner":{"account_id":478864,"reputation":1349,"user_id":891203,"accept_rate":80,"display_name":"devdanke"},"score":0,"creation_date":1660059778,"post_id":73294292,"comment_id":129441067,"body_markdown":"I once did a HashMap merge function.  It was easier to write as a recursive function.  Lucky for me, the HashMaps were not very deep.  So it was safe to run the recursive function in production.","body":"I once did a HashMap merge function.  It was easier to write as a recursive function.  Lucky for me, the HashMaps were not very deep.  So it was safe to run the recursive function in production."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1660061407,"post_id":73294292,"comment_id":129441699,"body_markdown":"Your example and explanation on how you want to &quot;merge&quot; these *maps* is ambiguous, redundancies of the code-snippet obscure what it&#39;s intended to do, and it doesn&#39;t seem to be aligned with the example. Please, **clarify which entries** you need to preserve? What if *people* having the same *name/surname* are mapped to different *keys* in these maps, should they be discarded? And what if such objects exist only within one of the maps (but not present in another)?","body":"Your example and explanation on how you want to &quot;merge&quot; these <i>maps</i> is ambiguous, redundancies of the code-snippet obscure what it&#39;s intended to do, and it doesn&#39;t seem to be aligned with the example. Please, <b>clarify which entries</b> you need to preserve? What if <i>people</i> having the same <i>name/surname</i> are mapped to different <i>keys</i> in these maps, should they be discarded? And what if such objects exist only within one of the maps (but not present in another)?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1660061865,"post_id":73294292,"comment_id":129441874,"body_markdown":"In other words, are namesake people could appear within **one** map only once (if no, what is the policy for that case)? And does a *person* with a particular name should appear **only once** in the *resulting map*, regardless to which key it would be mapped?","body":"In other words, are namesake people could appear within <b>one</b> map only once (if no, what is the policy for that case)? And does a <i>person</i> with a particular name should appear <b>only once</b> in the <i>resulting map</i>, regardless to which key it would be mapped?"},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1660062672,"post_id":73294292,"comment_id":129442194,"body_markdown":"I don&#39;t get why you have maps not sets. The key of prev is completely ignored. I would suggest implementing Comparable on Person. Then you can sort and work with pointers reducing the complexity from O(n * m) to O(nlogn + mlogm). Also with retainAll (need to implement equals correctly) you can get the intersection but not the opposite for that you would need removeIf.","body":"I don&#39;t get why you have maps not sets. The key of prev is completely ignored. I would suggest implementing Comparable on Person. Then you can sort and work with pointers reducing the complexity from O(n * m) to O(nlogn + mlogm). Also with retainAll (need to implement equals correctly) you can get the intersection but not the opposite for that you would need removeIf."}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660085177,"creation_date":1660085177,"answer_id":73298863,"question_id":73294292,"body_markdown":"There is always a better solution than 4 nested loops:    \r\n\r\n        Map&lt;Long, Collection&lt;Person&gt;&gt; currMap = new HashMap&lt;&gt;();\r\n        currMap.put(1L, Arrays.asList(new Person(&quot;John&quot;, &quot;Smith&quot;, 20, &#39;m&#39;)));\r\n        \r\n        Map&lt;Long, Collection&lt;Person&gt;&gt; prevMap = new HashMap&lt;&gt;();\r\n        prevMap.put(1L, Arrays.asList(new Person(&quot;John&quot;, &quot;Smith&quot;, 20, &#39;m&#39;), new Person(&quot;Sarah&quot;, &quot;Smith&quot;, 27, &#39;f&#39;)));\r\n        \r\n        //Merge maps\r\n        Map&lt;Long, Collection&lt;Person&gt;&gt; result = Stream.of(currMap, prevMap)\r\n                .flatMap(m -&gt; m.entrySet().stream())\r\n                .collect(Collectors.toMap(\r\n                                Map.Entry::getKey, \r\n                                Map.Entry::getValue,\r\n                                (value1, value2) -&gt; {\r\n                                    //you need to create duplicate collection, because removeAll modify collection \r\n                                    Collection&lt;Person&gt; list1 = new ArrayList&lt;&gt;(value1);\r\n                                    Collection&lt;Person&gt; list2 = new ArrayList&lt;&gt;(value2);\r\n      \r\n                                    //remove duplicates from collections\r\n                                    list1.removeIf(x -&gt; value2.stream().anyMatch(p -&gt; p.getName().equals(x.getName()) &amp;&amp; p.getSurname().equals(x.getSurname()))); // second from first\r\n                                    list2.removeIf(x -&gt; value1.stream().anyMatch(p -&gt; p.getName().equals(x.getName()) &amp;&amp; p.getSurname().equals(x.getSurname()))); // first from second\r\n                                      \r\n                                    Collection&lt;Person&gt; valueOfDuplicateKeys = new ArrayList&lt;&gt;(list1);\r\n                                    valueOfDuplicateKeys.addAll(list2);\r\n                                    \r\n                                    return valueOfDuplicateKeys;\r\n                                }\r\n                        ));\r\n\r\nouput:\r\n\r\nK: 1\r\nV: [[name=Sarah, surname=Smith, age=27, gender=f]]\r\n\r\n","title":"Compare two maps of Collections and filter out the same values","body":"<p>There is always a better solution than 4 nested loops:</p>\n<pre><code>    Map&lt;Long, Collection&lt;Person&gt;&gt; currMap = new HashMap&lt;&gt;();\n    currMap.put(1L, Arrays.asList(new Person(&quot;John&quot;, &quot;Smith&quot;, 20, 'm')));\n    \n    Map&lt;Long, Collection&lt;Person&gt;&gt; prevMap = new HashMap&lt;&gt;();\n    prevMap.put(1L, Arrays.asList(new Person(&quot;John&quot;, &quot;Smith&quot;, 20, 'm'), new Person(&quot;Sarah&quot;, &quot;Smith&quot;, 27, 'f')));\n    \n    //Merge maps\n    Map&lt;Long, Collection&lt;Person&gt;&gt; result = Stream.of(currMap, prevMap)\n            .flatMap(m -&gt; m.entrySet().stream())\n            .collect(Collectors.toMap(\n                            Map.Entry::getKey, \n                            Map.Entry::getValue,\n                            (value1, value2) -&gt; {\n                                //you need to create duplicate collection, because removeAll modify collection \n                                Collection&lt;Person&gt; list1 = new ArrayList&lt;&gt;(value1);\n                                Collection&lt;Person&gt; list2 = new ArrayList&lt;&gt;(value2);\n  \n                                //remove duplicates from collections\n                                list1.removeIf(x -&gt; value2.stream().anyMatch(p -&gt; p.getName().equals(x.getName()) &amp;&amp; p.getSurname().equals(x.getSurname()))); // second from first\n                                list2.removeIf(x -&gt; value1.stream().anyMatch(p -&gt; p.getName().equals(x.getName()) &amp;&amp; p.getSurname().equals(x.getSurname()))); // first from second\n                                  \n                                Collection&lt;Person&gt; valueOfDuplicateKeys = new ArrayList&lt;&gt;(list1);\n                                valueOfDuplicateKeys.addAll(list2);\n                                \n                                return valueOfDuplicateKeys;\n                            }\n                    ));\n</code></pre>\n<p>ouput:</p>\n<p>K: 1\nV: [[name=Sarah, surname=Smith, age=27, gender=f]]</p>\n"}],"owner":{"account_id":14589136,"reputation":39,"user_id":10536907,"display_name":"cutelittlegnome"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73298863,"answer_count":1,"score":0,"last_activity_date":1660085177,"creation_date":1660058543,"question_id":73294292,"body_markdown":"I&#39;m trying to compare two maps currMap and prevMap and merge the result to the new one.\r\nBy comparing i need to filter out the keys and then values Person.getName() and Person.getSurname(). If prevMap already has the same Person.getName() and Person.getSurname() as currMap, these Collection&lt;Person&gt; wont be merged. For example:\r\n\r\n```\r\n\r\n    // {[Long: 1] : [[name:John, surname: Smith, age: 20, gender: m]]\r\n    Map&lt;Long, Collection&lt;Person&gt;&gt; currMap;\r\n\r\n   // {[Long: 1] : [[name:John, surname: Smith, age: 20, gender: m],\r\n   //               [name: Sarah, surname: Smith, age:27, gender: f]]\r\n    Map&lt;Long, Collection&lt;Person&gt;&gt; prevMap;\r\n\r\n// {[Long: 1] : [[name: Sarah, surname: Smith, age:27, gender: f]]\r\n    Map&lt;Long, Collection&lt;Person&gt;&gt; result;\r\n\r\n```\r\n\r\nI tried to do it like that. \r\n\r\n```\r\n\r\nCollection&lt;Person&gt; arr = new ArrayList();\r\n\r\nfor (Map.Entry&lt;Long, Collection&lt;Person&gt;&gt; currEntry : currMap.entrySet()) {\r\n            for (Map.Entry&lt;Long, Collection&lt;Person&gt;&gt; prevEntry : prevMap.entrySet()) {\r\n\r\n                for (Person currPerson : currEntry.getValue()) {\r\n                    for (Person prevPerson : prevEntry.getValue()) {\r\n                        if((!currPerson.getName().equals(prevPerson.getName()) \r\n                                &amp;&amp; !currPerson.getSurname().equals(prevPerson.getSurname()))) {\r\n                            arr.add(currPerson);\r\n                            result.put(currEntry.getKey(), arr);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nreturn result;\r\n\r\n```\r\n\r\nI believe there is more efficient way to make it easier through streams. Any tips will be appreciated :) Thank you","title":"Compare two maps of Collections and filter out the same values","body":"<p>I'm trying to compare two maps currMap and prevMap and merge the result to the new one.\nBy comparing i need to filter out the keys and then values Person.getName() and Person.getSurname(). If prevMap already has the same Person.getName() and Person.getSurname() as currMap, these Collection wont be merged. For example:</p>\n<pre><code>\n    // {[Long: 1] : [[name:John, surname: Smith, age: 20, gender: m]]\n    Map&lt;Long, Collection&lt;Person&gt;&gt; currMap;\n\n   // {[Long: 1] : [[name:John, surname: Smith, age: 20, gender: m],\n   //               [name: Sarah, surname: Smith, age:27, gender: f]]\n    Map&lt;Long, Collection&lt;Person&gt;&gt; prevMap;\n\n// {[Long: 1] : [[name: Sarah, surname: Smith, age:27, gender: f]]\n    Map&lt;Long, Collection&lt;Person&gt;&gt; result;\n\n</code></pre>\n<p>I tried to do it like that.</p>\n<pre><code>\nCollection&lt;Person&gt; arr = new ArrayList();\n\nfor (Map.Entry&lt;Long, Collection&lt;Person&gt;&gt; currEntry : currMap.entrySet()) {\n            for (Map.Entry&lt;Long, Collection&lt;Person&gt;&gt; prevEntry : prevMap.entrySet()) {\n\n                for (Person currPerson : currEntry.getValue()) {\n                    for (Person prevPerson : prevEntry.getValue()) {\n                        if((!currPerson.getName().equals(prevPerson.getName()) \n                                &amp;&amp; !currPerson.getSurname().equals(prevPerson.getSurname()))) {\n                            arr.add(currPerson);\n                            result.put(currEntry.getKey(), arr);\n                        }\n                    }\n                }\n            }\n        }\n\nreturn result;\n\n</code></pre>\n<p>I believe there is more efficient way to make it easier through streams. Any tips will be appreciated :) Thank you</p>\n"},{"tags":["java","arraylist","casting"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1660062189,"post_id":73295041,"comment_id":129441994,"body_markdown":"They do the same thing.","body":"They do the same thing."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660062947,"creation_date":1660062947,"answer_id":73295293,"question_id":73295041,"body_markdown":"List.remove(int index) removes item at index.\r\n\r\nList.remove(Integer item) removes first matching item in the list.\r\n","title":"Is ist.remove(Integer.valueOf(2)); and list.remove((Integer) 2); are same? What is the difference between these codes?","body":"<p>List.remove(int index) removes item at index.</p>\n<p>List.remove(Integer item) removes first matching item in the list.</p>\n"}],"owner":{"account_id":25806883,"reputation":1,"user_id":19548294,"display_name":"Aman Kumar"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1660084893,"answer_count":1,"score":-3,"last_activity_date":1660084897,"creation_date":1660061814,"question_id":73295041,"body_markdown":"You can read this and - [How to remove integer value from array list using remove() method ][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/54730522\r\n\r\nAre they same? What is the best practice among them. If I want to write less code, can I use \r\n\r\n    list.remove((Integer) 2);\r\n\r\n","title":"Is ist.remove(Integer.valueOf(2)); and list.remove((Integer) 2); are same? What is the difference between these codes?","body":"<p>You can read this and - <a href=\"https://stackoverflow.com/a/54730522\">How to remove integer value from array list using remove() method </a></p>\n<p>Are they same? What is the best practice among them. If I want to write less code, can I use</p>\n<pre><code>list.remove((Integer) 2);\n</code></pre>\n"},{"tags":["java","openshift","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1600780090,"creation_date":1600780090,"answer_id":64010431,"question_id":64010032,"body_markdown":"It looks as if you&#39;re trying to connect to the broker using an OpenShift route, when there is no route defined for the relevant service. You (or the installer) defined a route for Jolokia, but there&#39;s no route for the broker.\r\n\r\nYou won&#39;t get a helpful error message here, because _any_ hostname that ends with the right domain will get connected to the OpenShift router. However, the router won&#39;t know how to process the connection without a valid route, and will probably just return some sort of meaningless error packet to the JMS client.\r\n\r\nIf you&#39;re trying to connect to the broker from another application in the same OpenShift namespace as the broker, you don&#39;t need to connect via the router -- just use the service name (presumably `broker-amq-tcp`) and service port explicitly in your JMS set-up. \r\n\r\nIf you&#39;re connecting to the broker from another application in a different OpenShift namespace in the same cluster, you might be able to configure the networking subsystem to allow direct connections to the service across namespaces. This is, unfortunately, a little fiddly to set up after OpenShift is installed.\r\n\r\nIf you&#39;re connecting to the broker from outside an OpenShift namespace, and you can&#39;t use services directly, you&#39;ll have to connect via a route, and you _must_ use an encrypted connection. That&#39;s not necessarily for security -- the router will read the SNI information from the SSL header to work out how to route the request.\r\n\r\nSo you&#39;ll need to create a service for the broker&#39;s SSL port, create a route for that service, export server certificates from the broker, import those certificates into your client, and configure the client to use an SSL connection URI via the router. Clearly, using the service directly is easier, if you can ;)\r\n\r\nAll these set-up steps are described in Red Hat&#39;s AMQ7-on-OpenShift documentation:\r\n\r\nhttps://access.redhat.com/documentation/en-us/red_hat_amq/7.5/html/deploying_amq_broker_on_openshift/index\r\n\r\nalthough I can&#39;t deny that there&#39;s an awful lot of information to wade through in that document.","title":"Connection refused when trying to connect to ActiveMQ Artemis deployed on Openshift","body":"<p>It looks as if you're trying to connect to the broker using an OpenShift route, when there is no route defined for the relevant service. You (or the installer) defined a route for Jolokia, but there's no route for the broker.</p>\n<p>You won't get a helpful error message here, because <em>any</em> hostname that ends with the right domain will get connected to the OpenShift router. However, the router won't know how to process the connection without a valid route, and will probably just return some sort of meaningless error packet to the JMS client.</p>\n<p>If you're trying to connect to the broker from another application in the same OpenShift namespace as the broker, you don't need to connect via the router -- just use the service name (presumably <code>broker-amq-tcp</code>) and service port explicitly in your JMS set-up.</p>\n<p>If you're connecting to the broker from another application in a different OpenShift namespace in the same cluster, you might be able to configure the networking subsystem to allow direct connections to the service across namespaces. This is, unfortunately, a little fiddly to set up after OpenShift is installed.</p>\n<p>If you're connecting to the broker from outside an OpenShift namespace, and you can't use services directly, you'll have to connect via a route, and you <em>must</em> use an encrypted connection. That's not necessarily for security -- the router will read the SNI information from the SSL header to work out how to route the request.</p>\n<p>So you'll need to create a service for the broker's SSL port, create a route for that service, export server certificates from the broker, import those certificates into your client, and configure the client to use an SSL connection URI via the router. Clearly, using the service directly is easier, if you can ;)</p>\n<p>All these set-up steps are described in Red Hat's AMQ7-on-OpenShift documentation:</p>\n<p><a href=\"https://access.redhat.com/documentation/en-us/red_hat_amq/7.5/html/deploying_amq_broker_on_openshift/index\" rel=\"nofollow noreferrer\">https://access.redhat.com/documentation/en-us/red_hat_amq/7.5/html/deploying_amq_broker_on_openshift/index</a></p>\n<p>although I can't deny that there's an awful lot of information to wade through in that document.</p>\n"},{"tags":[],"owner":{"account_id":10241289,"reputation":333,"user_id":7558625,"display_name":"tomilchik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660083905,"creation_date":1660083905,"answer_id":73298713,"question_id":64010032,"body_markdown":"Addition and clarification to answer by Kevin Boone (which is very much correct).\r\n\r\nIn order for the AMQ broker running inside pod named &quot;broker-amq-tcp&quot; to be reachable from other pods in same cluster:\r\n- start broker inside the container on address 0.0.0.0. This is critical - localhost (loopback; 127.0.0.1) will prevent any connections from outside of the pod from reaching the broker;\r\n- create service (e.g. &quot;broker-amq-tcp-service&quot;) for broker-amq-tcp that maps a pod port to container&#39;s 61616; e.g. 62626 (or any other);\r\n- connect from other pods using tcp://broker-amq-tcp-service:62626.\r\n\r\nThe 0.0.0.0 part cost me few days of debugging :)","title":"Connection refused when trying to connect to ActiveMQ Artemis deployed on Openshift","body":"<p>Addition and clarification to answer by Kevin Boone (which is very much correct).</p>\n<p>In order for the AMQ broker running inside pod named &quot;broker-amq-tcp&quot; to be reachable from other pods in same cluster:</p>\n<ul>\n<li>start broker inside the container on address 0.0.0.0. This is critical - localhost (loopback; 127.0.0.1) will prevent any connections from outside of the pod from reaching the broker;</li>\n<li>create service (e.g. &quot;broker-amq-tcp-service&quot;) for broker-amq-tcp that maps a pod port to container's 61616; e.g. 62626 (or any other);</li>\n<li>connect from other pods using tcp://broker-amq-tcp-service:62626.</li>\n</ul>\n<p>The 0.0.0.0 part cost me few days of debugging :)</p>\n"}],"owner":{"account_id":9920608,"reputation":123,"user_id":7343858,"display_name":"Triple3XH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4027,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64010431,"answer_count":2,"score":1,"last_activity_date":1660083905,"creation_date":1600778725,"question_id":64010032,"body_markdown":"We have an Openshift project ( project1 ) in which we setup an AMQ Artemis broker using the image : amq- amq-broker-7-tech-preview/amq-broker-71-openshif . Being the basic image we don&#39;t have any configuration such as SSL or TLS. In order to do the setup we used as example : https://github.com/jboss-container-images/jboss-amq-7-broker-openshift-image/blob/amq71-dev/templates/amq-broker-71-basic.yaml\r\n\r\nAfter the deployment of the image on Openshift we have the following:\r\n\r\n - broker-amq-amqp (5672/TCP  5672) No route\r\n - broker-amq-jolokia (8161/TCP  8161) https://broker-amq-jolokia-project1.192.168.99.105.nip.io \r\n - broker-amq-mqtt ( 1883/TCP  1883 ) No route\r\n - broker-amq-stomp ( 61613/TCP  61613 ) No route\r\n - broker-amq-tcp ( 61616/TCP  61616 ) No route\r\n\r\nFrom another Openshift service, in Java we try to connect to the broker but we receive the following error :\r\n\r\n    [org.apache.activemq.transport.failover.FailoverTransport] (ActiveMQ Task-1) Failed to connect to [tcp://broker-amq-amqp-project1.192.168.99.105.nip.io:61616?keepAlive=true] after: 230 attempt(s) with Connection refused (Connection refused), continuing to retry.\r\n\r\nThe Java code:\r\n\r\n    user = &quot;example&quot;;\r\n    password = &quot;example&quot;;\r\n\r\n    String address = &quot;queue/example&quot;;\r\n\r\n    InitialContext context = new InitialContext();\r\n\r\n    queue = (Queue) context.lookup(address);\r\n    ConnectionFactory cf = (ConnectionFactory) context.lookup(&quot;ConnectionFactory&quot;);\r\n    try (Connection connection = cf.createConnection(user, password);) {\r\n        connection.start();\r\n        session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n    }\r\n\r\nThe JNDI Properties file\r\n\r\n    java.naming.factory.initial=org.apache.activemq.jndi.ActiveMQInitialContextFactory\r\n    java.naming.provider.url=failover:(tcp://broker-amq-amqp-project1.192.168.99.105.nip.io:61616?keepAlive=true)?randomize=false\r\n    queue.queue/example=example/strings\r\n\r\n","title":"Connection refused when trying to connect to ActiveMQ Artemis deployed on Openshift","body":"<p>We have an Openshift project ( project1 ) in which we setup an AMQ Artemis broker using the image : amq- amq-broker-7-tech-preview/amq-broker-71-openshif . Being the basic image we don't have any configuration such as SSL or TLS. In order to do the setup we used as example : <a href=\"https://github.com/jboss-container-images/jboss-amq-7-broker-openshift-image/blob/amq71-dev/templates/amq-broker-71-basic.yaml\" rel=\"nofollow noreferrer\">https://github.com/jboss-container-images/jboss-amq-7-broker-openshift-image/blob/amq71-dev/templates/amq-broker-71-basic.yaml</a></p>\n<p>After the deployment of the image on Openshift we have the following:</p>\n<ul>\n<li>broker-amq-amqp (5672/TCP  5672) No route</li>\n<li>broker-amq-jolokia (8161/TCP  8161) <a href=\"https://broker-amq-jolokia-project1.192.168.99.105.nip.io\" rel=\"nofollow noreferrer\">https://broker-amq-jolokia-project1.192.168.99.105.nip.io</a></li>\n<li>broker-amq-mqtt ( 1883/TCP  1883 ) No route</li>\n<li>broker-amq-stomp ( 61613/TCP  61613 ) No route</li>\n<li>broker-amq-tcp ( 61616/TCP  61616 ) No route</li>\n</ul>\n<p>From another Openshift service, in Java we try to connect to the broker but we receive the following error :</p>\n<pre><code>[org.apache.activemq.transport.failover.FailoverTransport] (ActiveMQ Task-1) Failed to connect to [tcp://broker-amq-amqp-project1.192.168.99.105.nip.io:61616?keepAlive=true] after: 230 attempt(s) with Connection refused (Connection refused), continuing to retry.\n</code></pre>\n<p>The Java code:</p>\n<pre><code>user = &quot;example&quot;;\npassword = &quot;example&quot;;\n\nString address = &quot;queue/example&quot;;\n\nInitialContext context = new InitialContext();\n\nqueue = (Queue) context.lookup(address);\nConnectionFactory cf = (ConnectionFactory) context.lookup(&quot;ConnectionFactory&quot;);\ntry (Connection connection = cf.createConnection(user, password);) {\n    connection.start();\n    session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n}\n</code></pre>\n<p>The JNDI Properties file</p>\n<pre><code>java.naming.factory.initial=org.apache.activemq.jndi.ActiveMQInitialContextFactory\njava.naming.provider.url=failover:(tcp://broker-amq-amqp-project1.192.168.99.105.nip.io:61616?keepAlive=true)?randomize=false\nqueue.queue/example=example/strings\n</code></pre>\n"},{"tags":["java","pool"],"comments":[{"owner":{"account_id":1161155,"reputation":4421,"user_id":1140620,"display_name":"Sergey Benner"},"score":2,"creation_date":1326967459,"post_id":8924086,"comment_id":11165787,"body_markdown":"http://sourcemaking.com/design_patterns/object_pool/java#","body":"<a href=\"http://sourcemaking.com/design_patterns/object_pool/java#\" rel=\"nofollow noreferrer\">sourcemaking.com/design_patterns/object_pool/java#</a>"}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1605374579,"creation_date":1326984144,"answer_id":8927960,"question_id":8924086,"body_markdown":"&gt; I wanted to know that, is it possible to create a pool of objects? So that I can take an object from the pool and once I&#39;m done with the work, I can put it into the pool.\r\n\r\nIt is possible yes.  You can see performance improvements in many situations if the construction of a new object is expensive (like establishing a database connection) or if for other reasons the GC bandwidth is too high (often a problem in Android-land).\r\n\r\nHere are some resources that you could use to implement your pool.  You may be able to use Apache&#39;s `ObjectPool` right out of the box.\r\n\r\n* [Apache Commons ObjectPool][3] \r\n* https://stackoverflow.com/questions/1137118/does-this-basic-java-object-pool-work\r\n* [Object Pool Design Pattern in Java][2]\r\n* [Google search: java object pool][4]\r\n\r\n  [2]: http://sourcemaking.com/design_patterns/object_pool/java\r\n  [3]: http://commons.apache.org/proper/commons-pool/\r\n  [4]: https://www.google.com/search?sourceid=chrome&amp;ie=UTF-8&amp;q=java%20object%20pool","title":"How to create an object pool to be able to borrow and return objects","body":"<blockquote>\n<p>I wanted to know that, is it possible to create a pool of objects? So that I can take an object from the pool and once I'm done with the work, I can put it into the pool.</p>\n</blockquote>\n<p>It is possible yes.  You can see performance improvements in many situations if the construction of a new object is expensive (like establishing a database connection) or if for other reasons the GC bandwidth is too high (often a problem in Android-land).</p>\n<p>Here are some resources that you could use to implement your pool.  You may be able to use Apache's <code>ObjectPool</code> right out of the box.</p>\n<ul>\n<li><a href=\"http://commons.apache.org/proper/commons-pool/\" rel=\"nofollow noreferrer\">Apache Commons ObjectPool</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1137118/does-this-basic-java-object-pool-work\">Does this basic Java object pool work?</a></li>\n<li><a href=\"http://sourcemaking.com/design_patterns/object_pool/java\" rel=\"nofollow noreferrer\">Object Pool Design Pattern in Java</a></li>\n<li><a href=\"https://www.google.com/search?sourceid=chrome&amp;ie=UTF-8&amp;q=java%20object%20pool\" rel=\"nofollow noreferrer\">Google search: java object pool</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":321619,"reputation":422,"user_id":640552,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660083673,"creation_date":1396249912,"answer_id":22755532,"question_id":8924086,"body_markdown":"Though its late but might be useful.\r\n\r\nFollowing link provides sufficient information and implementation details for creating object pool using apache-commons-pool-2:\r\n\r\n[https://dzone.com/articles/creating-object-pool-java][1]\r\n\r\n\r\n  [1]: https://dzone.com/articles/creating-object-pool-java","title":"How to create an object pool to be able to borrow and return objects","body":"<p>Though its late but might be useful.</p>\n<p>Following link provides sufficient information and implementation details for creating object pool using apache-commons-pool-2:</p>\n<p><a href=\"https://dzone.com/articles/creating-object-pool-java\" rel=\"nofollow noreferrer\">https://dzone.com/articles/creating-object-pool-java</a></p>\n"},{"tags":[],"owner":{"account_id":2613738,"reputation":709,"user_id":2263303,"accept_rate":27,"display_name":"Clem Wang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590523800,"creation_date":1590523800,"answer_id":62030587,"question_id":8924086,"body_markdown":"As an alternative, if each object isn&#39;t that heavy weight, and/or you don&#39;t mind keeping the object around for each thread, consider ThreadLocal objects.\r\n\r\nhttp://tutorials.jenkov.com/java-concurrency/threadlocal.html\r\n\r\n","title":"How to create an object pool to be able to borrow and return objects","body":"<p>As an alternative, if each object isn't that heavy weight, and/or you don't mind keeping the object around for each thread, consider ThreadLocal objects.</p>\n\n<p><a href=\"http://tutorials.jenkov.com/java-concurrency/threadlocal.html\" rel=\"nofollow noreferrer\">http://tutorials.jenkov.com/java-concurrency/threadlocal.html</a></p>\n"}],"owner":{"account_id":1147536,"reputation":1032,"user_id":1129964,"accept_rate":60,"display_name":"Ravi Bhojani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29241,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":8927960,"answer_count":3,"score":18,"last_activity_date":1660083673,"creation_date":1326967269,"question_id":8924086,"body_markdown":"I wanted to know that, is it possible to create a pool of objects? So that I can take an object from the pool and once I&#39;m done with the work, I can put it into the pool.\r\n\r\n ","title":"How to create an object pool to be able to borrow and return objects","body":"<p>I wanted to know that, is it possible to create a pool of objects? So that I can take an object from the pool and once I'm done with the work, I can put it into the pool.</p>\n"},{"tags":["java","javafx","gluon-mobile"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1656030902,"post_id":72737591,"comment_id":128478585,"body_markdown":"I assume that you are using the latest GluonFX plugin and GraalVM? On iOS, that works fine, you can copy/paste from/to Gluon apps and third party apps, and input fields have ContextMenu support enabled by default. On Android, however, there are some issues. I&#39;ll look into it when time permits.","body":"I assume that you are using the latest GluonFX plugin and GraalVM? On iOS, that works fine, you can copy/paste from/to Gluon apps and third party apps, and input fields have ContextMenu support enabled by default. On Android, however, there are some issues. I&#39;ll look into it when time permits."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1656069252,"post_id":72737591,"comment_id":128487441,"body_markdown":"@Jos&#233;Pereda Yes, I added the versions to the question. I don&#39;t have an iOS device to test on.","body":"@Jos&#233;Pereda Yes, I added the versions to the question. I don&#39;t have an iOS device to test on."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1658475423,"post_id":72737591,"comment_id":129064799,"body_markdown":"Android clipboard now should work with Attach 4.0.15-SNAPSHOT (See https://github.com/gluonhq/attach/pull/313).","body":"Android clipboard now should work with Attach 4.0.15-SNAPSHOT (See <a href=\"https://github.com/gluonhq/attach/pull/313\" rel=\"nofollow noreferrer\">github.com/gluonhq/attach/pull/313</a>)."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1658624731,"post_id":72737591,"comment_id":129097364,"body_markdown":"@Jos&#233;Pereda Great! I will test it and write the results here.","body":"@Jos&#233;Pereda Great! I will test it and write the results here."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1658701877,"post_id":72737591,"comment_id":129110196,"body_markdown":"@Jos&#233;Pereda The simple example is working now. Later on I will test my application which does some more work with the clipboard and see if everything is fine there. Thanks!","body":"@Jos&#233;Pereda The simple example is working now. Later on I will test my application which does some more work with the clipboard and see if everything is fine there. Thanks!"},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1660076378,"post_id":72737591,"comment_id":129446436,"body_markdown":"This works on my app as well!","body":"This works on my app as well!"}],"answers":[{"tags":[],"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660082598,"creation_date":1660076455,"answer_id":73297655,"question_id":72737591,"body_markdown":"The version of Attach `4.0.14-SNAPSHOT` did not support Android clipboard. Version `4.0.15-SNAPSHOT` [added the functionality](https://github.com/gluonhq/attach/pull/313) and `4.0.15` has been released with this support.","title":"Copying to the clipboard does not work on Android","body":"<p>The version of Attach <code>4.0.14-SNAPSHOT</code> did not support Android clipboard. Version <code>4.0.15-SNAPSHOT</code> <a href=\"https://github.com/gluonhq/attach/pull/313\" rel=\"nofollow noreferrer\">added the functionality</a> and <code>4.0.15</code> has been released with this support.</p>\n"}],"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73297655,"answer_count":1,"score":1,"last_activity_date":1660082598,"creation_date":1656027063,"question_id":72737591,"body_markdown":"Create a standard mobile application with this view:\r\n\r\n    public class DebugView extends View {\r\n    \r\n    \tListView&lt;String&gt; console = new ListView&lt;&gt;();\r\n    \r\n    \tprivate DebugView() {\r\n    \t\tsetCenter(console);\r\n    \t\tconsole.getItems().add(&quot;A&quot;);\r\n    \t\tconsole.getItems().add(&quot;A2&quot;);\r\n    \t\tconsole.getItems().add(&quot;A3&quot;);\r\n    \t\tconsole.getItems().add(&quot;A4&quot;);\r\n    \t\t\r\n    \t\tvar copyButton = new Button(&quot;Copy&quot;);\r\n    \t\tcopyButton.setOnAction(e -&gt; {\r\n    \t\t\tString log = console.getItems().stream().collect(Collectors.joining(System.lineSeparator()));\r\n    \t\t\tvar content = new ClipboardContent();\r\n    \t\t\tcontent.putString(log);\r\n    \t\t\tClipboard.getSystemClipboard().setContent(content);\r\n    \t\t\tvar message = new Toast(&quot;Copied to clipboard&quot;);\r\n    \t\t\tmessage.show();\r\n    \t\t});\r\n    \r\n    \t\tsetBottom(copyButton);\r\n    \t}\r\n    }\r\n\r\nRun it on desktop and press the Copy button, you can paste the contents into a text editor.\r\n\r\nRun it on Android and press the Copy button, you can&#39;t paste the contents into another app, like Gmail. Your previous copied content (if exists) will be pasted, so it appears that nothing is added to the clipboard, or that the clipboard is not available.\r\n\r\nHow to make `Clipboard` work on mobile?\r\n\r\nUsing\r\n\r\n\t&lt;javafx-maven-plugin-version&gt;0.0.8&lt;/javafx-maven-plugin-version&gt;\r\n\t&lt;gluonfx-maven-plugin-version&gt;1.0.14&lt;/gluonfx-maven-plugin-version&gt;\r\n\r\n\t&lt;java-version&gt;17&lt;/java-version&gt;\r\n\t&lt;javafx-version&gt;18.0.1&lt;/javafx-version&gt;\r\n\t&lt;charm-version&gt;6.1.0&lt;/charm-version&gt;\r\n\t&lt;attach-version&gt;4.0.14-SNAPSHOT&lt;/attach-version&gt;\r\n\r\nand graalvm-svm-java17-linux-gluon-22.1.0.1-Final","title":"Copying to the clipboard does not work on Android","body":"<p>Create a standard mobile application with this view:</p>\n<pre><code>public class DebugView extends View {\n\n    ListView&lt;String&gt; console = new ListView&lt;&gt;();\n\n    private DebugView() {\n        setCenter(console);\n        console.getItems().add(&quot;A&quot;);\n        console.getItems().add(&quot;A2&quot;);\n        console.getItems().add(&quot;A3&quot;);\n        console.getItems().add(&quot;A4&quot;);\n        \n        var copyButton = new Button(&quot;Copy&quot;);\n        copyButton.setOnAction(e -&gt; {\n            String log = console.getItems().stream().collect(Collectors.joining(System.lineSeparator()));\n            var content = new ClipboardContent();\n            content.putString(log);\n            Clipboard.getSystemClipboard().setContent(content);\n            var message = new Toast(&quot;Copied to clipboard&quot;);\n            message.show();\n        });\n\n        setBottom(copyButton);\n    }\n}\n</code></pre>\n<p>Run it on desktop and press the Copy button, you can paste the contents into a text editor.</p>\n<p>Run it on Android and press the Copy button, you can't paste the contents into another app, like Gmail. Your previous copied content (if exists) will be pasted, so it appears that nothing is added to the clipboard, or that the clipboard is not available.</p>\n<p>How to make <code>Clipboard</code> work on mobile?</p>\n<p>Using</p>\n<pre><code>&lt;javafx-maven-plugin-version&gt;0.0.8&lt;/javafx-maven-plugin-version&gt;\n&lt;gluonfx-maven-plugin-version&gt;1.0.14&lt;/gluonfx-maven-plugin-version&gt;\n\n&lt;java-version&gt;17&lt;/java-version&gt;\n&lt;javafx-version&gt;18.0.1&lt;/javafx-version&gt;\n&lt;charm-version&gt;6.1.0&lt;/charm-version&gt;\n&lt;attach-version&gt;4.0.14-SNAPSHOT&lt;/attach-version&gt;\n</code></pre>\n<p>and graalvm-svm-java17-linux-gluon-22.1.0.1-Final</p>\n"},{"tags":["java","apache-kafka","nestjs","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660077080,"creation_date":1660077080,"answer_id":73297781,"question_id":73297229,"body_markdown":"&gt;Caused by: java.lang.IllegalStateException: No type information in headers and no default type provided\r\n\r\nSince it is coming from a non-Spring application, you need to tell the deserializer what type you want it to create from the JSON.\r\n\r\nSee the documentation: https://docs.spring.io/spring-kafka/docs/current/reference/html/#json-serde\r\n\r\nIf you are configuring the deserializer via consumer properties, set \r\n\r\n    spring.kafka.consumer.properties.spring.json.default.value.type=com.example.MyClass","title":"NestJs Kafka to Spring Kafka","body":"<blockquote>\n<p>Caused by: java.lang.IllegalStateException: No type information in headers and no default type provided</p>\n</blockquote>\n<p>Since it is coming from a non-Spring application, you need to tell the deserializer what type you want it to create from the JSON.</p>\n<p>See the documentation: <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#json-serde\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#json-serde</a></p>\n<p>If you are configuring the deserializer via consumer properties, set</p>\n<pre><code>spring.kafka.consumer.properties.spring.json.default.value.type=com.example.MyClass\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660081990,"creation_date":1660081990,"answer_id":73298480,"question_id":73297229,"body_markdown":"Your NestJS event payload is just a String `Hi`, and not JSON. Therefore, use `StringDeserializer` rather than `JsonDeserializer` in the Spring consumer config. ","title":"NestJs Kafka to Spring Kafka","body":"<p>Your NestJS event payload is just a String <code>Hi</code>, and not JSON. Therefore, use <code>StringDeserializer</code> rather than <code>JsonDeserializer</code> in the Spring consumer config.</p>\n"}],"owner":{"account_id":21549258,"reputation":297,"user_id":15885640,"display_name":"Anojan "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73298480,"answer_count":2,"score":0,"last_activity_date":1660081990,"creation_date":1660073872,"question_id":73297229,"body_markdown":"I Have Simple NestJs Kafka producer and Springboot Kafka Consumer . when i send messge in kafka producer the kafka consumer give the following error. \r\n\r\n\r\n//\r\n```\r\njava.lang.IllegalStateException: This error handler cannot process &#39;SerializationException&#39;s directly; please consider configuring an &#39;ErrorHandlingDeserializer&#39; in the value and/or key deserializer\r\n\tat org.springframework.kafka.listener.DefaultErrorHandler.handleOtherException(DefaultErrorHandler.java:151) ~[spring-kafka-2.8.8.jar:2.8.8]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.handleConsumerException(KafkaMessageListenerContainer.java:1809) ~[spring-kafka-2.8.8.jar:2.8.8]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1301) ~[spring-kafka-2.8.8.jar:2.8.8]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: org.apache.kafka.common.errors.RecordDeserializationException: Error deserializing key/value for partition schdule-topics-0 at offset 1. If needed, please seek past the record to continue consumption.\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:1448) ~[kafka-clients-3.1.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher.access$3400(Fetcher.java:135) ~[kafka-clients-3.1.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.fetchRecords(Fetcher.java:1671) ~[kafka-clients-3.1.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.access$1900(Fetcher.java:1507) ~[kafka-clients-3.1.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:733) ~[kafka-clients-3.1.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:684) ~[kafka-clients-3.1.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1277) ~[kafka-clients-3.1.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1238) ~[kafka-clients-3.1.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211) ~[kafka-clients-3.1.1.jar:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor50.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy112.poll(Unknown Source) ~[na:na]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1529) ~[spring-kafka-2.8.8.jar:2.8.8]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1519) ~[spring-kafka-2.8.8.jar:2.8.8]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1343) ~[spring-kafka-2.8.8.jar:2.8.8]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1255) ~[spring-kafka-2.8.8.jar:2.8.8]\r\n\t... 3 common frames omitted\r\nCaused by: java.lang.IllegalStateException: No type information in headers and no default type provided\r\n\tat org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.22.jar:5.3.22]\r\n\tat org.springframework.kafka.support.serializer.JsonDeserializer.deserialize(JsonDeserializer.java:583) ~[spring-kafka-2.8.8.jar:2.8.8]\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:1439) ~[kafka-clients-3.1.1.jar:na]\r\n\t... 21 common frames omitted\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Here is my codes \r\n\r\n    \r\n@Injectable()\r\nexport class TestResponseService {\r\n    \r\n    constructor(private readonly producerService:ProducerService) {}\r\n   //\r\n\r\n    async scheduleResponse(event:OrderEvent){\r\n        \r\n        console.log(&quot;Test response hits&quot;);\r\n        await this.producerService.produce({\r\n            topic:&#39;schdule-topics&#39;,\r\n            messages: [{\r\n              //value: JSON.parse(JSON.stringify(event)),\r\n              value: &quot;Hi&quot;,\r\n\r\n           \r\n            \r\n            },],\r\n        });\r\n        console.log(&quot;Test response below hits&quot;);\r\n\r\n        \r\n        return &#39;Hello World...!&#39;;\r\n        \r\n    }\r\n\r\n}\r\n\r\n\r\n// and My Spring boot code here \r\n\r\n\r\n\r\n    @Service\r\n    public class Consumer{\r\n    \t\r\n    \t\r\n    \t\r\n    \tprivate static final Logger LOGGER = LoggerFactory.getLogger(Consumer.class);\r\n    \t\r\n    \t@KafkaListener(topics=&quot;${spring.kafka.topic.name}&quot;,groupId=&quot;${spring.kafka.consumer.group-id}&quot;)\r\n    \t\r\n    \tpublic void consume(){\r\n    \t\t//LOGGER.info(String.format(&quot;Order event received in Test =&gt; %s&quot;, event.toString()));\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;order ID is printing in test: &quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\n","title":"NestJs Kafka to Spring Kafka","body":"<p>I Have Simple NestJs Kafka producer and Springboot Kafka Consumer . when i send messge in kafka producer the kafka consumer give the following error.</p>\n<p>//</p>\n<pre><code>java.lang.IllegalStateException: This error handler cannot process 'SerializationException's directly; please consider configuring an 'ErrorHandlingDeserializer' in the value and/or key deserializer\n    at org.springframework.kafka.listener.DefaultErrorHandler.handleOtherException(DefaultErrorHandler.java:151) ~[spring-kafka-2.8.8.jar:2.8.8]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.handleConsumerException(KafkaMessageListenerContainer.java:1809) ~[spring-kafka-2.8.8.jar:2.8.8]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1301) ~[spring-kafka-2.8.8.jar:2.8.8]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: org.apache.kafka.common.errors.RecordDeserializationException: Error deserializing key/value for partition schdule-topics-0 at offset 1. If needed, please seek past the record to continue consumption.\n    at org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:1448) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.access$3400(Fetcher.java:135) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.fetchRecords(Fetcher.java:1671) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.access$1900(Fetcher.java:1507) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:733) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:684) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1277) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1238) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211) ~[kafka-clients-3.1.1.jar:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor50.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.22.jar:5.3.22]\n    at jdk.proxy2/jdk.proxy2.$Proxy112.poll(Unknown Source) ~[na:na]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1529) ~[spring-kafka-2.8.8.jar:2.8.8]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1519) ~[spring-kafka-2.8.8.jar:2.8.8]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1343) ~[spring-kafka-2.8.8.jar:2.8.8]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1255) ~[spring-kafka-2.8.8.jar:2.8.8]\n    ... 3 common frames omitted\nCaused by: java.lang.IllegalStateException: No type information in headers and no default type provided\n    at org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.22.jar:5.3.22]\n    at org.springframework.kafka.support.serializer.JsonDeserializer.deserialize(JsonDeserializer.java:583) ~[spring-kafka-2.8.8.jar:2.8.8]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:1439) ~[kafka-clients-3.1.1.jar:na]\n    ... 21 common frames omitted\n\n</code></pre>\n<p>// Here is my codes</p>\n<p>@Injectable()\nexport class TestResponseService {</p>\n<pre><code>constructor(private readonly producerService:ProducerService) {}\n</code></pre>\n<p>//</p>\n<pre><code>async scheduleResponse(event:OrderEvent){\n    \n    console.log(&quot;Test response hits&quot;);\n    await this.producerService.produce({\n        topic:'schdule-topics',\n        messages: [{\n          //value: JSON.parse(JSON.stringify(event)),\n          value: &quot;Hi&quot;,\n\n       \n        \n        },],\n    });\n    console.log(&quot;Test response below hits&quot;);\n\n    \n    return 'Hello World...!';\n    \n}\n</code></pre>\n<p>}</p>\n<p>// and My Spring boot code here</p>\n<pre><code>@Service\npublic class Consumer{\n    \n    \n    \n    private static final Logger LOGGER = LoggerFactory.getLogger(Consumer.class);\n    \n    @KafkaListener(topics=&quot;${spring.kafka.topic.name}&quot;,groupId=&quot;${spring.kafka.consumer.group-id}&quot;)\n    \n    public void consume(){\n        //LOGGER.info(String.format(&quot;Order event received in Test =&gt; %s&quot;, event.toString()));\n        \n        System.out.println(&quot;order ID is printing in test: &quot;);\n        \n        \n        \n    }\n    \n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1660081435,"post_id":73298359,"comment_id":129447757,"body_markdown":"[`Integer` also has a `compareTo(...)` method](https://cr.openjdk.java.net/~iris/se/17/latestSpec/api/java.base/java/lang/Integer.html#compareTo(java.lang.Integer)). This, however, will not help (directly) in this case since an `int` is a primitive, not an object.","body":"<a href=\"https://cr.openjdk.java.net/~iris/se/17/latestSpec/api/java.base/java/lang/Integer.html#compareTo(java.lang.Integer)\" rel=\"nofollow noreferrer\"><code>Integer</code> also has a <code>compareTo(...)</code> method</a>. This, however, will not help (directly) in this case since an <code>int</code> is a primitive, not an object."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1660083424,"post_id":73298359,"comment_id":129448130,"body_markdown":"And note that `Integer` **does not** implement `java.util.Comparator`. It simply has a static `compare(int, int)` method for comparing _primitives_ (i.e., `int`s) instead of the reference types (i.e., `Integer`s). The other reference types for primitives (e.g., `Double`, `Long`, etc.) have similar methods, but for their respective associated primitives.","body":"And note that <code>Integer</code> <b>does not</b> implement <code>java.util.Comparator</code>. It simply has a static <code>compare(int, int)</code> method for comparing <i>primitives</i> (i.e., <code>int</code>s) instead of the reference types (i.e., <code>Integer</code>s). The other reference types for primitives (e.g., <code>Double</code>, <code>Long</code>, etc.) have similar methods, but for their respective associated primitives."}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660081558,"creation_date":1660081558,"answer_id":73298419,"question_id":73298359,"body_markdown":"The `Integer` class also provides a [`compareTo` method][1], because it&#39;s `Comparable` like `String` is.\r\n\r\nTake a look at `Integer` class&#39;s [`compare` method][2], and notice that it has 2 `int` arguments and it&#39;s `static`.  This way, one can compare two primitive `int`s safely without boxing them into `Integer`s, which is what would occur with `compareTo`.\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#compareTo(java.lang.Integer)\r\n[2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#compare(int,int)","title":"Why Integer has &quot;compare&quot; method and string have &quot;compareTo&quot; method in java","body":"<p>The <code>Integer</code> class also provides a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#compareTo(java.lang.Integer)\" rel=\"noreferrer\"><code>compareTo</code> method</a>, because it's <code>Comparable</code> like <code>String</code> is.</p>\n<p>Take a look at <code>Integer</code> class's <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#compare(int,int)\" rel=\"noreferrer\"><code>compare</code> method</a>, and notice that it has 2 <code>int</code> arguments and it's <code>static</code>.  This way, one can compare two primitive <code>int</code>s safely without boxing them into <code>Integer</code>s, which is what would occur with <code>compareTo</code>.</p>\n"}],"owner":{"account_id":14414115,"reputation":81,"user_id":10412021,"display_name":"pooj17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1660081558,"creation_date":1660081099,"question_id":73298359,"body_markdown":"I am intrigued by the fact I noticed today \r\nthat for comparision in java \r\n\r\n**Integer provides compare** method\r\n ```Integer.compare(student1.age, student2.age);```\r\n\r\n**String provides compareTo** Method\r\n```Student1.firstName.compareTo(student2.firstName);```\r\n\r\nJust want to understand why so :/\r\n\r\nPlease refer example class here: \r\n\r\n```public class Student {\r\n    String firstName;\r\n    String lastName;\r\n    int age;\r\n    long studentId;\r\n\r\n    Student(){}\r\n    Student(String firstName, String lastName, int age, long studentId){\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.age = age;\r\n        this.studentId = studentId;\r\n    }\r\n}\r\n```\r\n\r\nCamparator Implementations - \r\n```import java.util.Comparator;\r\n\r\npublic class StudentFirstNameComparator implements Comparator&lt;Student&gt; {\r\n\r\n    @Override\r\n    public int compare(Student student1, Student student2) {\r\n        return student1.firstName.compareTo(student2.firstName);\r\n    }\r\n}\r\n```\r\n\r\n```import java.util.Comparator;\r\n\r\npublic class StudentAgeComparator implements Comparator&lt;Student&gt; {\r\n\r\n    @Override\r\n    public int compare(Student student1, Student student2) {\r\n         return Integer.compare(student1.age, student2.age);\r\n\r\n            //          either of the lines can be used.\r\n//        if(student1.age == student2.age)\r\n//            return 0;\r\n//        else if (student1.age&gt;student2.age) {\r\n//            return 1;\r\n//        }else {\r\n//            return -1;\r\n//        }\r\n   \r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Why Integer has &quot;compare&quot; method and string have &quot;compareTo&quot; method in java","body":"<p>I am intrigued by the fact I noticed today\nthat for comparision in java</p>\n<p><strong>Integer provides compare</strong> method\n<code>Integer.compare(student1.age, student2.age);</code></p>\n<p><strong>String provides compareTo</strong> Method\n<code>Student1.firstName.compareTo(student2.firstName);</code></p>\n<p>Just want to understand why so :/</p>\n<p>Please refer example class here:</p>\n<pre><code>    String firstName;\n    String lastName;\n    int age;\n    long studentId;\n\n    Student(){}\n    Student(String firstName, String lastName, int age, long studentId){\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.age = age;\n        this.studentId = studentId;\n    }\n}\n</code></pre>\n<p>Camparator Implementations -</p>\n<pre><code>\npublic class StudentFirstNameComparator implements Comparator&lt;Student&gt; {\n\n    @Override\n    public int compare(Student student1, Student student2) {\n        return student1.firstName.compareTo(student2.firstName);\n    }\n}\n</code></pre>\n<pre><code>\npublic class StudentAgeComparator implements Comparator&lt;Student&gt; {\n\n    @Override\n    public int compare(Student student1, Student student2) {\n         return Integer.compare(student1.age, student2.age);\n\n            //          either of the lines can be used.\n//        if(student1.age == student2.age)\n//            return 0;\n//        else if (student1.age&gt;student2.age) {\n//            return 1;\n//        }else {\n//            return -1;\n//        }\n   \n    }\n}\n</code></pre>\n"},{"tags":["java","android","audio-player","android-music-player"],"answers":[{"tags":[],"owner":{"account_id":383445,"reputation":281,"user_id":739299,"display_name":"potter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329123472,"creation_date":1329123472,"answer_id":9257761,"question_id":9257404,"body_markdown":"Put a log before &quot;mediaPlayer.setDataSource(fileName)&quot; and check if you are getting a valid fileName in release mode.","title":"MediaPlayer plays the music files only in debug mode ( Android )","body":"<p>Put a log before \"mediaPlayer.setDataSource(fileName)\" and check if you are getting a valid fileName in release mode.</p>\n"},{"tags":[],"owner":{"account_id":4955374,"reputation":67,"user_id":3988148,"display_name":"user3988148"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660081324,"creation_date":1660081324,"answer_id":73298386,"question_id":9257404,"body_markdown":"I had similar problem and in my case it didn&#39;t like the player.PrepareAsync() command. It wasn&#39;t giving any errors in debugger except some miniscule info in the output window which wasn&#39;t of any help. Realizing that something was tripping the player I started to change a few things and changed the player.prepareAsync to player.Prepare() and thats all it took in Xamarin.\r\n","title":"MediaPlayer plays the music files only in debug mode ( Android )","body":"<p>I had similar problem and in my case it didn't like the player.PrepareAsync() command. It wasn't giving any errors in debugger except some miniscule info in the output window which wasn't of any help. Realizing that something was tripping the player I started to change a few things and changed the player.prepareAsync to player.Prepare() and thats all it took in Xamarin.</p>\n"}],"owner":{"account_id":999879,"reputation":668,"user_id":1015002,"accept_rate":73,"display_name":"Farid Ala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":902,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1660081324,"creation_date":1329121400,"question_id":9257404,"body_markdown":"I have written an Android application ( in eclipse) that plays a music file as follows:\r\n\r\n    MediaPlayer mediaPlayer = new MediaPlayer();\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t\tmediaPlayer.setDataSource(fileName);\r\n    \t\t\tmediaPlayer.prepare();\r\n    \t\t\tmediaPlayer.start();\r\n    \t\t//\tmediaPlayer.stop();\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tcatch (Exception e)\r\n    \t\t{\r\n    \t\t\tLog.d(&quot;Exception---&quot;, e.getMessage());\r\n    \t\t}\r\n\r\nWhen I run it, it does not play the file  ( and does not show any exception ), but when I switch to &#39;debug mode&#39;, and trace it line by line, it plays the file. I&#39;m really confused. Would you please help me find out what&#39;s wrong?\r\n\r\nThanks.","title":"MediaPlayer plays the music files only in debug mode ( Android )","body":"<p>I have written an Android application ( in eclipse) that plays a music file as follows:</p>\n\n<pre><code>MediaPlayer mediaPlayer = new MediaPlayer();\n        try\n        {\n\n            mediaPlayer.setDataSource(fileName);\n            mediaPlayer.prepare();\n            mediaPlayer.start();\n        //  mediaPlayer.stop();\n\n        }\n        catch (Exception e)\n        {\n            Log.d(\"Exception---\", e.getMessage());\n        }\n</code></pre>\n\n<p>When I run it, it does not play the file  ( and does not show any exception ), but when I switch to 'debug mode', and trace it line by line, it plays the file. I'm really confused. Would you please help me find out what's wrong?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","treemap"],"comments":[{"owner":{"account_id":3066464,"reputation":6190,"user_id":2598037,"display_name":"Carl Mastrangelo"},"score":1,"creation_date":1660080997,"post_id":73298298,"comment_id":129447651,"body_markdown":"The side effects will be implementation specific.  `Comparator` explicitly says &gt; The implementor must ensure that signum(compare(x, y)) == -signum(compare(y, x)) for all x and y.","body":"The side effects will be implementation specific.  <code>Comparator</code> explicitly says &gt; The implementor must ensure that signum(compare(x, y)) == -signum(compare(y, x)) for all x and y."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1660081012,"post_id":73298298,"comment_id":129447654,"body_markdown":"This violates the [contract of `Comparator::compare`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#compare(T,T)), in particular this part: &quot;*The implementor must ensure that `signum(compare(x, y)) == -signum(compare(y, x))` for all `x` and `y`.*&quot;","body":"This violates the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#compare(T,T)\" rel=\"nofollow noreferrer\">contract of <code>Comparator::compare</code></a>, in particular this part: &quot;<i>The implementor must ensure that <code>signum(compare(x, y)) == -signum(compare(y, x))</code> for all <code>x</code> and <code>y</code>.</i>&quot;"},{"owner":{"account_id":2451938,"reputation":17481,"user_id":2137996,"accept_rate":77,"display_name":"Alex Reinking"},"score":0,"creation_date":1660081059,"post_id":73298298,"comment_id":129447662,"body_markdown":"I&#39;m curious about what your TreeMap+ArrayList data structure is trying to accomplish. It sounds like you&#39;re trying to track disjoint groups of objects that are somehow &quot;equal&quot;, is that right?","body":"I&#39;m curious about what your TreeMap+ArrayList data structure is trying to accomplish. It sounds like you&#39;re trying to track disjoint groups of objects that are somehow &quot;equal&quot;, is that right?"},{"owner":{"account_id":2451938,"reputation":17481,"user_id":2137996,"accept_rate":77,"display_name":"Alex Reinking"},"score":0,"creation_date":1660081143,"post_id":73298298,"comment_id":129447685,"body_markdown":"If so, you might wish to look at disjoint-set forests (aka union-find). https://en.m.wikipedia.org/wiki/Disjoint-set_data_structure","body":"If so, you might wish to look at disjoint-set forests (aka union-find). <a href=\"https://en.m.wikipedia.org/wiki/Disjoint-set_data_structure\" rel=\"nofollow noreferrer\">en.m.wikipedia.org/wiki/Disjoint-set_data_structure</a>"},{"owner":{"account_id":1907460,"reputation":5781,"user_id":1722025,"accept_rate":97,"display_name":"asimes"},"score":0,"creation_date":1660081166,"post_id":73298298,"comment_id":129447694,"body_markdown":"@AlexReinking, The actual stored elements are not `Integer`, they have multiple members One of those members is a timestamp and it is possible for those timestamps to be the same among different elements","body":"@AlexReinking, The actual stored elements are not <code>Integer</code>, they have multiple members One of those members is a timestamp and it is possible for those timestamps to be the same among different elements"}],"owner":{"account_id":1907460,"reputation":5781,"user_id":1722025,"accept_rate":97,"display_name":"asimes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660080611,"creation_date":1660080611,"question_id":73298298,"body_markdown":"Below is what I would consider to be a &quot;normal&quot; (although not efficient) `Comparator`:\r\n\r\n    private final class SampleComparator implements Comparator&lt;Integer&gt; {\r\n        @Override\r\n        public int compare(Integer a, Integer b) {\r\n            if (a &lt; b) return -1;\r\n            if (a &gt; b) return 1;\r\n            return 0;\r\n        }\r\n    };\r\n\r\nI am wondering what are the side effects of using a `Comparator` that will never return `0`:\r\n\r\n    private final class SampleComparator implements Comparator&lt;Integer&gt; {\r\n        @Override\r\n        public int compare(Integer a, Integer b) {\r\n            if (a &lt;= b) return -1; // Less than equals\r\n            if (a &gt; b) return 1;\r\n            return 0;\r\n        }\r\n    };\r\n\r\nThese `Comparator`s are made up for SO. The real context is that someone I work with had implemented a lot of code thinking `TreeSet` allowed for duplicate items and wanted a way to force duplicate items. I realize that a solution could just be using `TreeMap` where values are `ArrayList` (each `ArrayList` would have one or more elements)","title":"Side effects of TreeSet using a custom Comparator that never returns 0","body":"<p>Below is what I would consider to be a &quot;normal&quot; (although not efficient) <code>Comparator</code>:</p>\n<pre><code>private final class SampleComparator implements Comparator&lt;Integer&gt; {\n    @Override\n    public int compare(Integer a, Integer b) {\n        if (a &lt; b) return -1;\n        if (a &gt; b) return 1;\n        return 0;\n    }\n};\n</code></pre>\n<p>I am wondering what are the side effects of using a <code>Comparator</code> that will never return <code>0</code>:</p>\n<pre><code>private final class SampleComparator implements Comparator&lt;Integer&gt; {\n    @Override\n    public int compare(Integer a, Integer b) {\n        if (a &lt;= b) return -1; // Less than equals\n        if (a &gt; b) return 1;\n        return 0;\n    }\n};\n</code></pre>\n<p>These <code>Comparator</code>s are made up for SO. The real context is that someone I work with had implemented a lot of code thinking <code>TreeSet</code> allowed for duplicate items and wanted a way to force duplicate items. I realize that a solution could just be using <code>TreeMap</code> where values are <code>ArrayList</code> (each <code>ArrayList</code> would have one or more elements)</p>\n"},{"tags":["java","class","javac"],"answers":[{"tags":[],"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1246001911,"creation_date":1245756202,"answer_id":1031966,"question_id":1031962,"body_markdown":"These are for &lt;a href=&quot;http://java.sun.com/docs/books/tutorial/java/javaOO/innerclasses.html&quot;&gt;inner classes&lt;/a&gt; and &lt;a href=&quot;http://java.sun.com/docs/books/tutorial/java/javaOO/nested.html&quot;&gt;static nested classes&lt;/a&gt;. The ones with numbers are anonymous inner classes.\r\n\r\nFor example:\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\nclass Foo {\r\n   class Bar { }\r\n   static class Baz { }\r\n   void run() {\r\n      Helper t = new Helper() {\r\n         int helpMethod() {\r\n            return 2;\r\n         }\r\n      };\r\n    }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nThis will produce class files `Foo.class`, `Foo$Bar.class`, `Foo$Baz.class` and `Foo$1.class` (for the implementation of the `Helper` interface)\r\n","title":"Multiple .class files generated for a class?","body":"<p>These are for <a href=\"http://java.sun.com/docs/books/tutorial/java/javaOO/innerclasses.html\" rel=\"noreferrer\">inner classes</a> and <a href=\"http://java.sun.com/docs/books/tutorial/java/javaOO/nested.html\" rel=\"noreferrer\">static nested classes</a>. The ones with numbers are anonymous inner classes.</p>\n\n<p>For example:</p>\n\n<pre><code>\nclass Foo {\n   class Bar { }\n   static class Baz { }\n   void run() {\n      Helper t = new Helper() {\n         int helpMethod() {\n            return 2;\n         }\n      };\n    }\n}\n</code></pre>\n\n<p>This will produce class files <code>Foo.class</code>, <code>Foo$Bar.class</code>, <code>Foo$Baz.class</code> and <code>Foo$1.class</code> (for the implementation of the <code>Helper</code> interface)</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1245756211,"creation_date":1245756211,"answer_id":1031968,"question_id":1031962,"body_markdown":"One java source file can generate multiple class files, if your class contains inner classes. Anonymous inner classes are represented by your numbered class files.","title":"Multiple .class files generated for a class?","body":"<p>One java source file can generate multiple class files, if your class contains inner classes. Anonymous inner classes are represented by your numbered class files.</p>\n"},{"tags":[],"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1245756252,"creation_date":1245756252,"answer_id":1031971,"question_id":1031962,"body_markdown":"Every class in java belongs to a .java-file, but a .java-file can contain multiple classes. That includes inner and anonymous classes. The .class-files generated for inner classes contain a &#39;$&#39; in their name. Anonymous inner classes get numbers.","title":"Multiple .class files generated for a class?","body":"<p>Every class in java belongs to a .java-file, but a .java-file can contain multiple classes. That includes inner and anonymous classes. The .class-files generated for inner classes contain a '$' in their name. Anonymous inner classes get numbers.</p>\n"},{"tags":[],"owner":{"account_id":33759,"reputation":36049,"user_id":94813,"accept_rate":70,"display_name":"Rakesh Juyal"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1245757877,"creation_date":1245757877,"answer_id":1032076,"question_id":1031962,"body_markdown":"More than one class will be generated on compilation, Only if your class is having inner class.\r\n\r\nrefer:\r\n[https://stackoverflow.com/questions/380406/java-inner-class-class-file-names][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/380406/java-inner-class-class-file-names","title":"Multiple .class files generated for a class?","body":"<p>More than one class will be generated on compilation, Only if your class is having inner class.</p>\n\n<p>refer:\n<a href=\"https://stackoverflow.com/questions/380406/java-inner-class-class-file-names\">Why does Java code with an inner class generates a third SomeClass$1.class file?</a></p>\n"},{"tags":[],"owner":{"account_id":36501,"reputation":9320,"user_id":104143,"accept_rate":86,"display_name":"Peter Kofler"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1246346155,"creation_date":1245758020,"answer_id":1032086,"question_id":1031962,"body_markdown":"You get more .class fils from a single source file if\r\n\r\n * the class contains inner classes or static inner classes. Inner classes can nest. Their names are `&lt;outer class name&gt;$&lt;inner class name&gt;`.\r\n\r\n * inner interfaces which are always static.\r\n\r\n * anonymous inner classes (which in fact are plain inner classes without a name)\r\n\r\n * package access interfaces and classes before and after your main class. You can have an arbitrary number of package access classes and interfaces in a single Java source file. Usually small helper objects that are only used by the class are just put into the same file.","title":"Multiple .class files generated for a class?","body":"<p>You get more .class fils from a single source file if</p>\n\n<ul>\n<li><p>the class contains inner classes or static inner classes. Inner classes can nest. Their names are <code>&lt;outer class name&gt;$&lt;inner class name&gt;</code>.</p></li>\n<li><p>inner interfaces which are always static.</p></li>\n<li><p>anonymous inner classes (which in fact are plain inner classes without a name)</p></li>\n<li><p>package access interfaces and classes before and after your main class. You can have an arbitrary number of package access classes and interfaces in a single Java source file. Usually small helper objects that are only used by the class are just put into the same file.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511259262,"creation_date":1511259262,"answer_id":47410476,"question_id":1031962,"body_markdown":"**To add to the answers above, this is another good example of generated inner classes based on Comparators** (each Comparator is compiled in a different ***MyClass$X.class***):\r\n\r\n    public class MyClass {\r\n        ...\r\n        \r\n        public void doSomething() {\r\n            ...\r\n            Collections.sort(list, new Comparator&lt;MyObj&gt;() {\r\n\t\t\t\tpublic int compare(MyObj o1, MyObj o2) {\r\n\t\t\t\t\t...\r\n\t\t\t\t}\r\n\t\t\t});\r\n            ...\r\n        }\r\n    \r\n        ...\r\n    }","title":"Multiple .class files generated for a class?","body":"<p><strong>To add to the answers above, this is another good example of generated inner classes based on Comparators</strong> (each Comparator is compiled in a different <strong><em>MyClass$X.class</em></strong>):</p>\n\n<pre><code>public class MyClass {\n    ...\n\n    public void doSomething() {\n        ...\n        Collections.sort(list, new Comparator&lt;MyObj&gt;() {\n            public int compare(MyObj o1, MyObj o2) {\n                ...\n            }\n        });\n        ...\n    }\n\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11346560,"reputation":59,"user_id":8318889,"display_name":"pooja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515152677,"creation_date":1515152677,"answer_id":48112982,"question_id":1031962,"body_markdown":"If there is one X.java file and if it contains 4 collections.sort() {} then after compilation X.class,X$1.class,X$2.class,X$3.class,X$4.class will get generated.\r\n\r\nIn case of inner class and static inner class more .class files get generated.","title":"Multiple .class files generated for a class?","body":"<p>If there is one X.java file and if it contains 4 collections.sort() {} then after compilation X.class,X$1.class,X$2.class,X$3.class,X$4.class will get generated.</p>\n\n<p>In case of inner class and static inner class more .class files get generated.</p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660077888,"creation_date":1659847148,"answer_id":73264926,"question_id":1031962,"body_markdown":"### Starting point\r\n\r\n&gt; _Why are sometimes multiple Java .class files generated for a class after compilation? For one class, a total of 10 `.class` files has been generated, starting from `MyClass#1` up to `MyClass#10`._\r\n\r\nThough this particular question has been around for a while, it&#39;s still relevant, and there are a number of useful details\r\navailable which are not currently reflected in the existing answers.\r\n\r\n### General behavior\r\n\r\nThere are a number of ways to create multiple `.class` files from a single `.java` file.\r\n\r\nHere&#39;s an example.\r\n\r\n* Starting with this code in a single file `Example.java`:\r\n\t```\r\n\tpublic class Example { }\r\n\tclass Second { }\r\n\t```\r\n* the compiler would produce two class files:\r\n\t```\r\n\tExample.class\r\n\tSecond.class\r\n\t```\r\n\r\n### Anonymous classes\r\n\r\nIn [JLS 15.9 Class Instance Creation Expressions](https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.9), we can see that there are\r\nmany ways to create classes. One way is by creating &quot;anonymous&quot; classes, where &quot;anonymous&quot; means the class wasn&#39;t given a concrete name in code.\r\nFrom [JLS 15.9.5 Anonymous Class Declarations](https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.9.5) (with added emphasis):\r\n\r\n&gt; _An anonymous class is **implicitly declared** by a class instance creation expression or by an enum constant that ends with a class body ([&#167;8.9.1](https://docs.oracle.com/javase/specs/jls/se18/html/jls-8.html#jls-8.9.1))._\r\n\r\nSo we have a number of ways to create classes, including anonymously. Anonymous classes – despite not having names –&#160;must still be assigned names\r\nat compilation time. There are rules about how all classes are named, including anonymous classes, and\r\nit is one of these rules which details how a class can end up with something like `$1` in the name.\r\n\r\nIn [JLS 13.1 The Form of a Binary](https://docs.oracle.com/javase/specs/jls/se18/html/jls-13.html#jls-13.1), we can see\r\na relevant naming pattern (one of many other patterns):\r\n\r\n&gt; _The binary name of a local class ([&#167;14.3](https://docs.oracle.com/javase/specs/jls/se18/html/jls-14.html#jls-14.3)) consists of the binary name of its immediately enclosing type, followed by $, followed by a non-empty sequence of digits, followed by the simple name of the local class._\r\n\r\nThese anonymous classes are what is referenced in the original post (&quot;MyClass#1&quot; and &quot;MyClass#10&quot;).\r\n\r\n\r\n\r\n### Example: anonymous class\r\n\r\nHere&#39;s an example that creates an anonymous inner class (&quot;`$1`&quot; in the name) by calling `new Thread() { }`:\r\n```\r\npublic class Example {\r\n    public static void main(String[] args) {\r\n        new Thread() { };\r\n    }\r\n}\r\n```\r\nThis results in two classes:\r\n```\r\nExample.class\r\nExample$1.class\r\n```\r\n\r\n\r\n### Additional naming patterns\r\n\r\nAnonymous classes are not the only naming patterns which include `$` in the name, there are several others.\r\nThe original question appears to be asking primarily about classes with numbers in the name (like `$1`), but these also exist.\r\nIn [JLS 13.1 The Form of a Binary](https://docs.oracle.com/javase/specs/jls/se18/html/jls-13.html#jls-13.1), there&#39;s a decent amount of additional\r\ndetail. Here&#39;s an excerpt showing some of the other naming rules about how to construct a name for a class or interface:\r\n\r\n&gt; _The class or interface must be named by its binary name, which must meet the following constraints:_\r\n&gt;\r\n&gt; * _The binary name of a member type ([&#167;8.5](https://docs.oracle.com/javase/specs/jls/se18/html/jls-8.html#jls-8.5), [&#167;9.5](https://docs.oracle.com/javase/specs/jls/se18/html/jls-9.html#jls-9.5)) consists of the binary name of its immediately enclosing type, followed by $, followed by the simple name of the member._\r\n&gt;\r\n&gt; * _The binary name of an anonymous class ([&#167;15.9.5](https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.9.5)) consists of the binary name of its immediately enclosing type, followed by $, followed by a non-empty sequence of digits._\r\n&gt;\r\n&gt; * _The binary name of a type variable declared by a generic class or interface ([&#167;8.1.2](https://docs.oracle.com/javase/specs/jls/se18/html/jls-8.html#jls-8.1.2), [&#167;9.1.2](https://docs.oracle.com/javase/specs/jls/se18/html/jls-9.html#jls-9.1.2)) is the binary name of its immediately enclosing type, followed by $, followed by the simple name of the type variable._\r\n&gt;\r\n&gt; * _The binary name of a type variable declared by a generic method ([&#167;8.4.4](https://docs.oracle.com/javase/specs/jls/se18/html/jls-8.html#jls-8.4.4)) is the binary name of the type declaring the method, followed by $, followed by the descriptor of the method (JVMS &#167;4.3.3), followed by $, followed by the simple name of the type variable._\r\n&gt;\r\n&gt; * _The binary name of a type variable declared by a generic constructor ([&#167;8.8.4](https://docs.oracle.com/javase/specs/jls/se18/html/jls-8.html#jls-8.8.4)) is the binary name of the type declaring the constructor, followed by $, followed by the descriptor of the constructor (JVMS &#167;4.3.3), followed by $, followed by the simple name of the type variable._\r\n\r\n\r\n","title":"Multiple .class files generated for a class?","body":"<h3>Starting point</h3>\n<blockquote>\n<p><em>Why are sometimes multiple Java .class files generated for a class after compilation? For one class, a total of 10 <code>.class</code> files has been generated, starting from <code>MyClass#1</code> up to <code>MyClass#10</code>.</em></p>\n</blockquote>\n<p>Though this particular question has been around for a while, it's still relevant, and there are a number of useful details\navailable which are not currently reflected in the existing answers.</p>\n<h3>General behavior</h3>\n<p>There are a number of ways to create multiple <code>.class</code> files from a single <code>.java</code> file.</p>\n<p>Here's an example.</p>\n<ul>\n<li>Starting with this code in a single file <code>Example.java</code>:\n<pre><code>public class Example { }\nclass Second { }\n</code></pre>\n</li>\n<li>the compiler would produce two class files:\n<pre><code>Example.class\nSecond.class\n</code></pre>\n</li>\n</ul>\n<h3>Anonymous classes</h3>\n<p>In <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.9\" rel=\"nofollow noreferrer\">JLS 15.9 Class Instance Creation Expressions</a>, we can see that there are\nmany ways to create classes. One way is by creating &quot;anonymous&quot; classes, where &quot;anonymous&quot; means the class wasn't given a concrete name in code.\nFrom <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.9.5\" rel=\"nofollow noreferrer\">JLS 15.9.5 Anonymous Class Declarations</a> (with added emphasis):</p>\n<blockquote>\n<p><em>An anonymous class is <strong>implicitly declared</strong> by a class instance creation expression or by an enum constant that ends with a class body (<a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-8.html#jls-8.9.1\" rel=\"nofollow noreferrer\">§8.9.1</a>).</em></p>\n</blockquote>\n<p>So we have a number of ways to create classes, including anonymously. Anonymous classes – despite not having names – must still be assigned names\nat compilation time. There are rules about how all classes are named, including anonymous classes, and\nit is one of these rules which details how a class can end up with something like <code>$1</code> in the name.</p>\n<p>In <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-13.html#jls-13.1\" rel=\"nofollow noreferrer\">JLS 13.1 The Form of a Binary</a>, we can see\na relevant naming pattern (one of many other patterns):</p>\n<blockquote>\n<p><em>The binary name of a local class (<a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-14.html#jls-14.3\" rel=\"nofollow noreferrer\">§14.3</a>) consists of the binary name of its immediately enclosing type, followed by $, followed by a non-empty sequence of digits, followed by the simple name of the local class.</em></p>\n</blockquote>\n<p>These anonymous classes are what is referenced in the original post (&quot;MyClass#1&quot; and &quot;MyClass#10&quot;).</p>\n<h3>Example: anonymous class</h3>\n<p>Here's an example that creates an anonymous inner class (&quot;<code>$1</code>&quot; in the name) by calling <code>new Thread() { }</code>:</p>\n<pre><code>public class Example {\n    public static void main(String[] args) {\n        new Thread() { };\n    }\n}\n</code></pre>\n<p>This results in two classes:</p>\n<pre><code>Example.class\nExample$1.class\n</code></pre>\n<h3>Additional naming patterns</h3>\n<p>Anonymous classes are not the only naming patterns which include <code>$</code> in the name, there are several others.\nThe original question appears to be asking primarily about classes with numbers in the name (like <code>$1</code>), but these also exist.\nIn <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-13.html#jls-13.1\" rel=\"nofollow noreferrer\">JLS 13.1 The Form of a Binary</a>, there's a decent amount of additional\ndetail. Here's an excerpt showing some of the other naming rules about how to construct a name for a class or interface:</p>\n<blockquote>\n<p><em>The class or interface must be named by its binary name, which must meet the following constraints:</em></p>\n<ul>\n<li><p><em>The binary name of a member type (<a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-8.html#jls-8.5\" rel=\"nofollow noreferrer\">§8.5</a>, <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-9.html#jls-9.5\" rel=\"nofollow noreferrer\">§9.5</a>) consists of the binary name of its immediately enclosing type, followed by $, followed by the simple name of the member.</em></p>\n</li>\n<li><p><em>The binary name of an anonymous class (<a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.9.5\" rel=\"nofollow noreferrer\">§15.9.5</a>) consists of the binary name of its immediately enclosing type, followed by $, followed by a non-empty sequence of digits.</em></p>\n</li>\n<li><p><em>The binary name of a type variable declared by a generic class or interface (<a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-8.html#jls-8.1.2\" rel=\"nofollow noreferrer\">§8.1.2</a>, <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-9.html#jls-9.1.2\" rel=\"nofollow noreferrer\">§9.1.2</a>) is the binary name of its immediately enclosing type, followed by $, followed by the simple name of the type variable.</em></p>\n</li>\n<li><p><em>The binary name of a type variable declared by a generic method (<a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-8.html#jls-8.4.4\" rel=\"nofollow noreferrer\">§8.4.4</a>) is the binary name of the type declaring the method, followed by $, followed by the descriptor of the method (JVMS §4.3.3), followed by $, followed by the simple name of the type variable.</em></p>\n</li>\n<li><p><em>The binary name of a type variable declared by a generic constructor (<a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-8.html#jls-8.8.4\" rel=\"nofollow noreferrer\">§8.8.4</a>) is the binary name of the type declaring the constructor, followed by $, followed by the descriptor of the constructor (JVMS §4.3.3), followed by $, followed by the simple name of the type variable.</em></p>\n</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17367818,"reputation":11,"user_id":12582552,"display_name":"Austin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660080312,"creation_date":1660080312,"answer_id":73298256,"question_id":1031962,"body_markdown":"As [Peter Kofler](https://stackoverflow.com/users/104143/peter-kofler) mentioned, `&lt;outer class name&gt;$&lt;inner class name&gt;` is the format used--since there may be inner classes contained within a class. This is important for the compilation process during which the symbol table is generated. The symbol table contains information about classes, objects, variables, scope, etc. When I wrote an undergraduate compiler, I did something similar for my symbol table as I would do something like `&lt;class name&gt;.&lt;method&gt;`, or `&lt;class name&gt;.&lt;method&gt;.&lt;variable&gt;`. It&#39;s a clean way to represent a piece of data in the symbol table, and is why you are seeing those being generated.","title":"Multiple .class files generated for a class?","body":"<p>As <a href=\"https://stackoverflow.com/users/104143/peter-kofler\">Peter Kofler</a> mentioned, <code>&lt;outer class name&gt;$&lt;inner class name&gt;</code> is the format used--since there may be inner classes contained within a class. This is important for the compilation process during which the symbol table is generated. The symbol table contains information about classes, objects, variables, scope, etc. When I wrote an undergraduate compiler, I did something similar for my symbol table as I would do something like <code>&lt;class name&gt;.&lt;method&gt;</code>, or <code>&lt;class name&gt;.&lt;method&gt;.&lt;variable&gt;</code>. It's a clean way to represent a piece of data in the symbol table, and is why you are seeing those being generated.</p>\n"}],"owner":{"account_id":22198,"reputation":5757,"user_id":54522,"accept_rate":94,"display_name":"Ariod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16488,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":1031966,"answer_count":9,"score":17,"last_activity_date":1660080312,"creation_date":1245756145,"question_id":1031962,"body_markdown":"Out of curiosity, why are sometimes multiple Java .class files generated for a class after compilation? For example, my application has six classes. For one class, a total of 10 .class files has been generated, starting from MyClass#1 up to MyClass#10.","title":"Multiple .class files generated for a class?","body":"<p>Out of curiosity, why are sometimes multiple Java .class files generated for a class after compilation? For example, my application has six classes. For one class, a total of 10 .class files has been generated, starting from MyClass#1 up to MyClass#10.</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1660078357,"post_id":73297954,"comment_id":129446996,"body_markdown":"The code presented does not compile, `return inputMap();` will result in a syntax error.","body":"The code presented does not compile, <code>return inputMap();</code> will result in a syntax error."},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1660078777,"post_id":73297954,"comment_id":129447123,"body_markdown":"I dumbed down the code - is it because method2 wasn&#39;t instantiated or something?","body":"I dumbed down the code - is it because method2 wasn&#39;t instantiated or something?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1660078927,"post_id":73297954,"comment_id":129447167,"body_markdown":"No. it is because `inputMap` is a `Map` and we cannot use `()` on that. Even if we could, I am not sure what this would do. And I do not understand the overall setup. If the `Map` is ephemeral, and not used outside of the method, then why assert anything on it?","body":"No. it is because <code>inputMap</code> is a <code>Map</code> and we cannot use <code>()</code> on that. Even if we could, I am not sure what this would do. And I do not understand the overall setup. If the <code>Map</code> is ephemeral, and not used outside of the method, then why assert anything on it?"},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1660078976,"post_id":73297954,"comment_id":129447186,"body_markdown":"Can it be done at all? and it is somewhat of a &quot;chokepoint&quot; meaning that its a crucial nested method call that &quot;prepares&quot; that Map of data that will be used later.","body":"Can it be done at all? and it is somewhat of a &quot;chokepoint&quot; meaning that its a crucial nested method call that &quot;prepares&quot; that Map of data that will be used later."},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1660079005,"post_id":73297954,"comment_id":129447192,"body_markdown":"@Turing85 I updated the code with better syntax, getting closer to the real nature of my code. Thanks so far for responding","body":"@Turing85 I updated the code with better syntax, getting closer to the real nature of my code. Thanks so far for responding"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1660079063,"post_id":73297954,"comment_id":129447209,"body_markdown":"Again: the code does not compile. Without a working example with clear intended behaviour, we cannot help.","body":"Again: the code does not compile. Without a working example with clear intended behaviour, we cannot help."},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1660079164,"post_id":73297954,"comment_id":129447231,"body_markdown":"Can you please tell me where the error is coming from?","body":"Can you please tell me where the error is coming from?"},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1660079178,"post_id":73297954,"comment_id":129447237,"body_markdown":"I apologize; and I mean, what line or piece of syntax that I provided?","body":"I apologize; and I mean, what line or piece of syntax that I provided?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1660079222,"post_id":73297954,"comment_id":129447247,"body_markdown":"Please read my very first comment.","body":"Please read my very first comment."},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1660080151,"post_id":73297954,"comment_id":129447445,"body_markdown":"@Turing85 ah gotcha. Fixed that. Its just returning a boolean primitive","body":"@Turing85 ah gotcha. Fixed that. Its just returning a boolean primitive"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1660080326,"post_id":73297954,"comment_id":129447480,"body_markdown":"I&#39;m not sure what you expect `@InjectMocks` to do, when `MyClass` doesn&#39;t seem to have any fields.  It looks like your `MyClass` object just doesn&#39;t know about your spied hash map.","body":"I&#39;m not sure what you expect <code>@InjectMocks</code> to do, when <code>MyClass</code> doesn&#39;t seem to have any fields.  It looks like your <code>MyClass</code> object just doesn&#39;t know about your spied hash map."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1660080631,"post_id":73297954,"comment_id":129447569,"body_markdown":"The again:  I do not understand the overall setup. If the Map is ephemeral, and not used outside of the method, then why assert anything on it? Assert that the return value is what is expected and nothing else. Also, injection will not work since the map is created within the method.","body":"The again:  I do not understand the overall setup. If the Map is ephemeral, and not used outside of the method, then why assert anything on it? Assert that the return value is what is expected and nothing else. Also, injection will not work since the map is created within the method."}],"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660080130,"creation_date":1660078219,"question_id":73297954,"body_markdown":"I have a  nested method call where I need to `@Spy` a HashMap in the nested method calls. I just want to verify its size or contents, but its ***not*** being passed as a method argument ***nor*** is it a Class member field/property. My *concrete* **Classes** looks like this:\r\n\r\n**// 1st method call from &quot;MyClass&quot; which declared using `@InjectMocks`**\r\n```\r\n in UT\r\npublic class MyClass {\r\n\r\n   public boolean method1(Arg arg1, int arg2) {\r\n      Map&lt;String, Object&gt; inputMap = arg1.method2(arg2);\r\n\r\n      return false;\r\n}\r\n```\r\n\r\n**// 2nd nested method call which is returning the HashMap that I want** to be able to see the contents of in my UT\r\n```\r\npublic class MyOtherClass {\r\n   \r\n   public Map&lt;String, Object&gt; method2(arg2) {\r\n       Map&lt;String, Object&gt; map = new HashMap();\r\n\r\n      switch(arg2) {\r\n      case 0: \r\n         map.put(&quot;key&quot;, new Object());\r\n         break;\r\n      default:\r\n         break;\r\n      }\r\n\r\n      // some logic here\r\n      return map;\r\n}\r\n```\r\n\r\n**.....And my *Unit Test* (UT) looks something like this:**\r\n```\r\npublic class MyClassTest {\r\n   \r\n   @InjectMocks\r\n   private MyClass myClass;\r\n\r\n   @Spy\r\n   private Map&lt;String, Object&gt; inputMapSpy = new HashMap&lt;&gt;();\r\n\r\n   \r\n   @Test\r\n   public void myUnitTestThatWillNotAllowMeToSpyTheNestedHashMap() {\r\n       // stuff\r\n       Arg arg1 = new Arg();\r\n\r\n       myClass.method1(arg1, 5000);\r\n\r\n       // every time inputMapSpy is 0, so its not getting &quot;injected&quot;\r\n       assertTrue(inputMapSpy.size() == 10);\r\n   }\r\n```\r\n\r\n\r\nCan anyone help me? Everytime as I said the `@Spy` of the Hashmap is never being used in the nested method calls so its size is always 0. Help!","title":"Java Mockito Unit Testing - SPY nested HashMap","body":"<p>I have a  nested method call where I need to <code>@Spy</code> a HashMap in the nested method calls. I just want to verify its size or contents, but its <em><strong>not</strong></em> being passed as a method argument <em><strong>nor</strong></em> is it a Class member field/property. My <em>concrete</em> <strong>Classes</strong> looks like this:</p>\n<p><strong>// 1st method call from &quot;MyClass&quot; which declared using <code>@InjectMocks</code></strong></p>\n<pre><code> in UT\npublic class MyClass {\n\n   public boolean method1(Arg arg1, int arg2) {\n      Map&lt;String, Object&gt; inputMap = arg1.method2(arg2);\n\n      return false;\n}\n</code></pre>\n<p><strong>// 2nd nested method call which is returning the HashMap that I want</strong> to be able to see the contents of in my UT</p>\n<pre><code>public class MyOtherClass {\n   \n   public Map&lt;String, Object&gt; method2(arg2) {\n       Map&lt;String, Object&gt; map = new HashMap();\n\n      switch(arg2) {\n      case 0: \n         map.put(&quot;key&quot;, new Object());\n         break;\n      default:\n         break;\n      }\n\n      // some logic here\n      return map;\n}\n</code></pre>\n<p><strong>.....And my <em>Unit Test</em> (UT) looks something like this:</strong></p>\n<pre><code>public class MyClassTest {\n   \n   @InjectMocks\n   private MyClass myClass;\n\n   @Spy\n   private Map&lt;String, Object&gt; inputMapSpy = new HashMap&lt;&gt;();\n\n   \n   @Test\n   public void myUnitTestThatWillNotAllowMeToSpyTheNestedHashMap() {\n       // stuff\n       Arg arg1 = new Arg();\n\n       myClass.method1(arg1, 5000);\n\n       // every time inputMapSpy is 0, so its not getting &quot;injected&quot;\n       assertTrue(inputMapSpy.size() == 10);\n   }\n</code></pre>\n<p>Can anyone help me? Everytime as I said the <code>@Spy</code> of the Hashmap is never being used in the nested method calls so its size is always 0. Help!</p>\n"},{"tags":["java","selenium","firefox","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":2594672,"reputation":10796,"user_id":2248627,"display_name":"Levon"},"score":0,"creation_date":1533376049,"post_id":46883024,"comment_id":90331008,"body_markdown":"[this answer](https://stackoverflow.com/a/51681608/2248627) works for `Firefox 61.0.1`","body":"<a href=\"https://stackoverflow.com/a/51681608/2248627\">this answer</a> works for <code>Firefox 61.0.1</code>"},{"owner":{"account_id":9866959,"reputation":381,"user_id":7685008,"display_name":"AtachiShadow"},"score":0,"creation_date":1553730294,"post_id":46883024,"comment_id":97498044,"body_markdown":"[option simpler](https://stackoverflow.com/a/53054654/7685008) than the one above. work for modern versions of firefox","body":"<a href=\"https://stackoverflow.com/a/53054654/7685008\">option simpler</a> than the one above. work for modern versions of firefox"}],"answers":[{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508742546,"creation_date":1508742546,"answer_id":46883675,"question_id":46883024,"body_markdown":"You change the preference value using profile with lots of options:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tDesiredCapabilities capabilities = new DesiredCapabilities();\r\n\t// setCapability(SUPPORTS_JAVASCRIPT, javascriptEnabled);\r\n\tcapabilities.setJavascriptEnabled(false);\r\n\r\n\tFirefoxBinary binary = new FirefoxBinary( new File( binaryPath ) );\r\n\tFirefoxProfile profile = new FirefoxProfile();\r\n\r\n\t//profile.setPreference(&quot;preferenceName&quot;, &quot;Value&quot;);\r\n    profile.setPreference(&quot;javascript.enabled&quot;, false);\r\n\r\n\tRemoteWebDriver driver = new FirefoxDriver(binary, profile, capabilities);\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\nTo view the preferences, you can visit the `URL about:config`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n@See\r\n\r\n * [Chrome driver to disable JavaScript issue](https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/3175)\r\n * [chromium-command-line-switches](https://peter.sh/experiments/chromium-command-line-switches/)\r\n\r\n  [1]: https://i.stack.imgur.com/7IwZT.png","title":"How to disable JavaScript in browser using Selenium (Java)?","body":"<p>You change the preference value using profile with lots of options:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>DesiredCapabilities capabilities = new DesiredCapabilities();\n// setCapability(SUPPORTS_JAVASCRIPT, javascriptEnabled);\ncapabilities.setJavascriptEnabled(false);\n\nFirefoxBinary binary = new FirefoxBinary( new File( binaryPath ) );\nFirefoxProfile profile = new FirefoxProfile();\n\n//profile.setPreference(\"preferenceName\", \"Value\");\nprofile.setPreference(\"javascript.enabled\", false);\n\nRemoteWebDriver driver = new FirefoxDriver(binary, profile, capabilities);\n</code></pre>\n\n<p>To view the preferences, you can visit the <code>URL about:config</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/7IwZT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7IwZT.png\" alt=\"enter image description here\"></a></p>\n\n<p>@See</p>\n\n<ul>\n<li><a href=\"https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/3175\" rel=\"nofollow noreferrer\">Chrome driver to disable JavaScript issue</a></li>\n<li><a href=\"https://peter.sh/experiments/chromium-command-line-switches/\" rel=\"nofollow noreferrer\">chromium-command-line-switches</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660079759,"creation_date":1508751842,"answer_id":46886271,"question_id":46883024,"body_markdown":"As per _Selenium 3.6 Java Client Release_, the easiest way to disable `Javascript` in the browser would be to set the **`setJavascriptEnabled`** argument through an instance of `DesiredCapabilities` to **`False`** and merge it through an instance of `FirefoxOptions` as follows:\r\n\r\n    package demo;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.firefox.FirefoxOptions;\r\n    import org.openqa.selenium.remote.DesiredCapabilities;\r\n    \r\n    public class Q46883024_setJavascriptEnabled \r\n    {\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Utility\\\\BrowserDrivers\\\\geckodriver.exe&quot;);\r\n    \t\tDesiredCapabilities dc = new DesiredCapabilities();\r\n    \t\tdc.setJavascriptEnabled(false);\r\n    \t\tFirefoxOptions op = new FirefoxOptions();\r\n    \t\top.merge(dc);\r\n    \t\tWebDriver driver = new FirefoxDriver(op);\r\n    \t\tdriver.get(&quot;https://google.com&quot;);\r\n    \t\tdriver.quit();\r\n    \t}\r\n    }\r\n\r\n&gt;While execution, the browser you are using may override the `setJavascriptEnabled` settings.\r\n","title":"How to disable JavaScript in browser using Selenium (Java)?","body":"<p>As per <em>Selenium 3.6 Java Client Release</em>, the easiest way to disable <code>Javascript</code> in the browser would be to set the <strong><code>setJavascriptEnabled</code></strong> argument through an instance of <code>DesiredCapabilities</code> to <strong><code>False</code></strong> and merge it through an instance of <code>FirefoxOptions</code> as follows:</p>\n<pre><code>package demo;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.firefox.FirefoxOptions;\nimport org.openqa.selenium.remote.DesiredCapabilities;\n\npublic class Q46883024_setJavascriptEnabled \n{\n    public static void main(String[] args) \n    {\n        System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Utility\\\\BrowserDrivers\\\\geckodriver.exe&quot;);\n        DesiredCapabilities dc = new DesiredCapabilities();\n        dc.setJavascriptEnabled(false);\n        FirefoxOptions op = new FirefoxOptions();\n        op.merge(dc);\n        WebDriver driver = new FirefoxDriver(op);\n        driver.get(&quot;https://google.com&quot;);\n        driver.quit();\n    }\n}\n</code></pre>\n<blockquote>\n<p>While execution, the browser you are using may override the <code>setJavascriptEnabled</code> settings.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9866959,"reputation":381,"user_id":7685008,"display_name":"AtachiShadow"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1553730381,"creation_date":1540853418,"answer_id":53055036,"question_id":46883024,"body_markdown":"I don&#39;t know Java, but maybe a solution for Python 3 will help you.\r\n\r\nin Python, you can use Options() instead of FirefoxProfile() to deactivate JavaScript:\r\n\r\n    from selenium.webdriver.firefox.options import Options\r\n    options = Options()\r\n    options.preferences.update({&quot;javascript.enabled&quot;: False})\r\n    driver = webdriver.Firefox(options=options)\r\n    driver.get(&#39;about:config&#39;)\r\n\r\nMaybe Java this:\r\n\r\n    FirefoxOptions options = new FirefoxOptions();\r\n    options.preferences.update({&quot;javascript.enabled&quot;: False});\r\n    WebDriver driver = new FirefoxDriver(options);\r\n    driver.get(&#39;about:config&#39;)\r\n\r\n","title":"How to disable JavaScript in browser using Selenium (Java)?","body":"<p>I don't know Java, but maybe a solution for Python 3 will help you.</p>\n\n<p>in Python, you can use Options() instead of FirefoxProfile() to deactivate JavaScript:</p>\n\n<pre><code>from selenium.webdriver.firefox.options import Options\noptions = Options()\noptions.preferences.update({\"javascript.enabled\": False})\ndriver = webdriver.Firefox(options=options)\ndriver.get('about:config')\n</code></pre>\n\n<p>Maybe Java this:</p>\n\n<pre><code>FirefoxOptions options = new FirefoxOptions();\noptions.preferences.update({\"javascript.enabled\": False});\nWebDriver driver = new FirefoxDriver(options);\ndriver.get('about:config')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3702943,"reputation":1484,"user_id":3082183,"accept_rate":18,"display_name":"Pankaj Kumar Katiyar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611283922,"creation_date":1550813266,"answer_id":54820603,"question_id":46883024,"body_markdown":"this works:\r\n\r\n    FirefoxOptions options = new FirefoxOptions();\t\t\r\n    options.addPreference(&quot;javascript.enabled&quot;, false);","title":"How to disable JavaScript in browser using Selenium (Java)?","body":"<p>this works:</p>\n<pre><code>FirefoxOptions options = new FirefoxOptions();      \noptions.addPreference(&quot;javascript.enabled&quot;, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1681423,"reputation":1788,"user_id":1545579,"accept_rate":75,"display_name":"Mahdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611283968,"creation_date":1564688577,"answer_id":57316009,"question_id":46883024,"body_markdown":"This is how you can do it for Chrome in Java.\r\n\r\n\r\n    // import org.openqa.selenium.chrome.ChromeOptions;\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;user-agent=\\&quot;Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)\\&quot;&quot;);\r\n    HashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\r\n    chromePrefs.put(&quot;profile.default_content_setting_values.javascript&quot;, 2);\r\n    options.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\r\n    new ChromeDriver(options);\r\n\r\n\r\nAnd it worked for me with `ChromeDriver 2.41.578706`. As a bonus I am also setting `Googlebot` as user-agent.\r\n\r\n\r\nIn case you need to do something with `DesiredCapabilities` you can also convert the options above to capabilities:\r\n\r\n    // import static org.openqa.selenium.chrome.ChromeOptions.CAPABILITY;\r\n\r\n    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n    capabilities.setCapability(CAPABILITY, options);\r\n    new ChromeDriver(capabilities);\r\n\r\n","title":"How to disable JavaScript in browser using Selenium (Java)?","body":"<p>This is how you can do it for Chrome in Java.</p>\n<pre><code>// import org.openqa.selenium.chrome.ChromeOptions;\n\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;user-agent=\\&quot;Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)\\&quot;&quot;);\nHashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\nchromePrefs.put(&quot;profile.default_content_setting_values.javascript&quot;, 2);\noptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\nnew ChromeDriver(options);\n</code></pre>\n<p>And it worked for me with <code>ChromeDriver 2.41.578706</code>. As a bonus I am also setting <code>Googlebot</code> as user-agent.</p>\n<p>In case you need to do something with <code>DesiredCapabilities</code> you can also convert the options above to capabilities:</p>\n<pre><code>// import static org.openqa.selenium.chrome.ChromeOptions.CAPABILITY;\n\nDesiredCapabilities capabilities = DesiredCapabilities.chrome();\ncapabilities.setCapability(CAPABILITY, options);\nnew ChromeDriver(capabilities);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13370692,"reputation":306,"user_id":9649242,"display_name":"iampritamraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606897758,"creation_date":1606897758,"answer_id":65104545,"question_id":46883024,"body_markdown":"Truse me this was random trial but works perfectly for me\r\n```python\r\nfrom selenium import webdriver\r\n\r\noptions= webdriver.ChromeOptions()\r\n\r\nchrome_prefs = {}\r\noptions.experimental_options[&quot;prefs&quot;] = chrome_prefs\r\nchrome_prefs[&quot;profile.default_content_settings&quot;] = {&quot;javascript&quot;: 2}\r\nchrome_prefs[&quot;profile.managed_default_content_settings&quot;] = {&quot;javascript&quot;: 2}\r\ndriver = webdriver.Chrome(&quot;your chromedriver path here&quot;,options=options)\r\n\r\ndriver.get(&#39;https://google.com/search?q=welcome to python world&#39;)\r\n\r\n```\r\n  Example image here:-https://i.stack.imgur.com/DdKZQ.png","title":"How to disable JavaScript in browser using Selenium (Java)?","body":"<p>Truse me this was random trial but works perfectly for me</p>\n<pre class=\"lang-py prettyprint-override\"><code>from selenium import webdriver\n\noptions= webdriver.ChromeOptions()\n\nchrome_prefs = {}\noptions.experimental_options[&quot;prefs&quot;] = chrome_prefs\nchrome_prefs[&quot;profile.default_content_settings&quot;] = {&quot;javascript&quot;: 2}\nchrome_prefs[&quot;profile.managed_default_content_settings&quot;] = {&quot;javascript&quot;: 2}\ndriver = webdriver.Chrome(&quot;your chromedriver path here&quot;,options=options)\n\ndriver.get('https://google.com/search?q=welcome to python world')\n\n</code></pre>\n<p>Example image here:-https://i.stack.imgur.com/DdKZQ.png</p>\n"}],"owner":{"account_id":12056927,"reputation":21,"user_id":8817382,"display_name":"Saravana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12888,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1660079759,"creation_date":1508739446,"question_id":46883024,"body_markdown":"In my feature automation, I need to disable JavaScript in browser and run the flow. How to disable JavaScript? \r\n\r\nTried DesiredCapabilities for firefox and Chrome. \r\n\r\n    DesiredCapabilities dc = new DesiredCapabilities();\r\n    dc.setCapability(CapabilityType.SUPPORTS_JAVASCRIPT, false)\r\n\r\nAnd\r\n\r\n    DesiredCapabilities dc = new DesiredCapabilities();\r\n    dc.setJavascriptEnabled(false);\r\n\r\nFor firefox, tried \r\n1) Setting up profile for firefox\r\n\r\n2) Adding add-on - noScript.xpi \r\n\r\n3) profile.setPreference(&quot;javascript.enabled&quot;, false);\r\n\r\n4) Through UI, tried changing the flag - &quot;javascript.enabled&quot; in &quot;about:config&quot; to false. Here, opened firefox and gave &quot;about:config&quot; getting a warning - &quot;This might void your warranty!&quot;. There is a button - &quot;I&#39;ll be careful, I promise!&quot; with id - warningButton. This button should be clicked to proceed further. To click this button, used driver.findElement(By.id(&quot;warningButton&quot;)).click(); but it not work.\r\n\r\nAll the above options are not working. Any advice will be helpful.","title":"How to disable JavaScript in browser using Selenium (Java)?","body":"<p>In my feature automation, I need to disable JavaScript in browser and run the flow. How to disable JavaScript? </p>\n\n<p>Tried DesiredCapabilities for firefox and Chrome. </p>\n\n<pre><code>DesiredCapabilities dc = new DesiredCapabilities();\ndc.setCapability(CapabilityType.SUPPORTS_JAVASCRIPT, false)\n</code></pre>\n\n<p>And</p>\n\n<pre><code>DesiredCapabilities dc = new DesiredCapabilities();\ndc.setJavascriptEnabled(false);\n</code></pre>\n\n<p>For firefox, tried \n1) Setting up profile for firefox</p>\n\n<p>2) Adding add-on - noScript.xpi </p>\n\n<p>3) profile.setPreference(\"javascript.enabled\", false);</p>\n\n<p>4) Through UI, tried changing the flag - \"javascript.enabled\" in \"about:config\" to false. Here, opened firefox and gave \"about:config\" getting a warning - \"This might void your warranty!\". There is a button - \"I'll be careful, I promise!\" with id - warningButton. This button should be clicked to proceed further. To click this button, used driver.findElement(By.id(\"warningButton\")).click(); but it not work.</p>\n\n<p>All the above options are not working. Any advice will be helpful.</p>\n"},{"tags":["java","eclipse","hibernate"],"answers":[{"tags":[],"owner":{"account_id":25934172,"reputation":1,"user_id":19654759,"display_name":"James Manley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660079680,"creation_date":1659889245,"answer_id":73269122,"question_id":73177347,"body_markdown":"I succeed in making it work. I used in Console Configuration a Annotation (Jdk 1.5+) type and a Hibernate Version 4.3. And then I succeeded in generating the tables with this console configuration. As I didn&#39;t understand what was wrong, I can&#39;t explain the solution. It works as well with JPA, with persistence.xml as follows\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot; version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;&gt;\r\n\t&lt;persistence-unit name=&quot;JPAUNIT&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n\t\t &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;```\r\n","title":"hibernate gen table error org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build()&quot; because &quot;entityManagerFactoryBuilder&quot; is null","body":"<p>I succeed in making it work. I used in Console Configuration a Annotation (Jdk 1.5+) type and a Hibernate Version 4.3. And then I succeeded in generating the tables with this console configuration. As I didn't understand what was wrong, I can't explain the solution. It works as well with JPA, with persistence.xml as follows</p>\n<pre><code>&lt;persistence xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot; version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;&gt;\n    &lt;persistence-unit name=&quot;JPAUNIT&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n         &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;```\n</code></pre>\n"}],"owner":{"account_id":25934172,"reputation":1,"user_id":19654759,"display_name":"James Manley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660079680,"creation_date":1659198564,"question_id":73177347,"body_markdown":"I fail to generate table from entity in eclipse with error org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build()&quot; because &quot;entityManagerFactoryBuilder&quot; is null\r\nI have three hibernate classes :\r\n\r\n```java\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\nabstract public class GameBean implements Serializable  {\t\t\r\n\t\r\n\tprivate static final long serialVersionUID = -8690022943103849312L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\tprotected GameBean(){\r\n\t}\r\n} \r\n\r\n@Entity\r\n@Table(name=&quot;CheckersGame&quot;)\r\n@PrimaryKeyJoinColumn(name=&quot;id&quot;)\r\npublic class CheckersGameBean extends GameBean{\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = -6448336204266253962L;\r\n\r\n\t\r\n\tprotected CheckersGameBean(){\r\n\t\tsuper();\t\t\t\r\n\t}\t\t\r\n}\r\n@Entity\r\n@Table(name=&quot;ChessGame&quot;)\r\n@PrimaryKeyJoinColumn(name=&quot;id&quot;)\r\npublic class ChessGameBean extends GameBean {\t\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\tprivate static final long serialVersionUID = 3921250444757041509L;\t\r\n\r\n\tprotected ChessGameBean(){\t\t\r\n\t\tsuper();\t\t\t\r\n\t}\t\r\n}\r\n```\r\n\r\n```none\r\nantlr-2.7.7.jar\r\nbyte-buddy-1.10.10.jar\r\nclassmate-1.5.1.jar\r\ncommons-beanutils-1.9.3.jar\r\ncommons-collections.jar\r\ncommons-dbcp-1.4.jar\r\ncommons-lang.jar\r\ncommons-logging-1.1.1.jar\r\ndom4j-2.1.3.jar\r\nezmorph.jar\r\nFastInfoset-1.2.15.jar\r\nhibernate-commons-annotations-5.1.0.Final.jar\r\nhibernate-core-5.4.15.Final.jar\r\nhibernate-envers-5.4.15.Final.jar\r\nhibernate-jpa-2.1-api-1.0.0.Final.jar\r\nhibernate-jpamodelgen-5.4.15.Final.jar\r\nistack-commons-runtime-3.0.7.jar\r\njandex-2.1.3.Final.jar\r\njavassist-3.24.0-GA.jar\r\njavax.activation_1.1.0.v201211130549.jar\r\njavax.activation-api-1.2.0.jar\r\njavax.persistence-api-2.2.jar\r\njavax.xml_1.3.4.v201005080400.jar\r\njavax.xml.bind_2.2.0.v201105210648.jar\r\njaxb-api-2.3.1.jar\r\njaxb-runtime-2.3.1.jar\r\njboss-logging-3.3.2.Final.jar\r\njboss-transaction-api_1.2_spec-1.1.1.Final.jar\r\njson-lib-2.2.2-jdk15.jar\r\nlog4j.properties\r\nmysql-connector-java-8.0.30.jar\r\nstax-ex-1.8.jar\r\ntxw2-2.3.1.jar\r\n```\r\n\r\npersistence.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n\t&lt;persistence-unit name=&quot;JPAUNIT-BOARDGAMES&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n\t\t&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider\t\t\t\r\n\t\t&lt;class&gt;com.strategisina.ontheboard.bean.CheckersGameBean&lt;/class&gt;\t\t\r\n\t\t&lt;class&gt;com.strategisina.ontheboard.bean.ChessGameBean&lt;/class&gt;\t\t\r\n\t\t&lt;class&gt;com.strategisina.ontheboard.bean.GameBean&lt;/class&gt;\t\t\r\n\t\t&lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;   \r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/DATABASE&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;USER&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;PASSWORD&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n    \t&lt;/properties&gt;\r\n\t&lt;/persistence-unit&gt;\r\n\r\n&lt;/persistence&gt;\r\n```\r\nWhen I try to generate the tables with the JPA Tool/Generate Tables from Entries, the above error appears and no generation is done.\r\nI would be really cool to get help with that, its a little time I&#39;m on it !","title":"hibernate gen table error org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build()&quot; because &quot;entityManagerFactoryBuilder&quot; is null","body":"<p>I fail to generate table from entity in eclipse with error org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build()&quot; because &quot;entityManagerFactoryBuilder&quot; is null\nI have three hibernate classes :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\nabstract public class GameBean implements Serializable  {       \n    \n    private static final long serialVersionUID = -8690022943103849312L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    protected GameBean(){\n    }\n} \n\n@Entity\n@Table(name=&quot;CheckersGame&quot;)\n@PrimaryKeyJoinColumn(name=&quot;id&quot;)\npublic class CheckersGameBean extends GameBean{\n    \n    /**\n     * \n     */\n    private static final long serialVersionUID = -6448336204266253962L;\n\n    \n    protected CheckersGameBean(){\n        super();            \n    }       \n}\n@Entity\n@Table(name=&quot;ChessGame&quot;)\n@PrimaryKeyJoinColumn(name=&quot;id&quot;)\npublic class ChessGameBean extends GameBean {   \n    \n    /**\n     *\n     */\n    private static final long serialVersionUID = 3921250444757041509L;  \n\n    protected ChessGameBean(){      \n        super();            \n    }   \n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>antlr-2.7.7.jar\nbyte-buddy-1.10.10.jar\nclassmate-1.5.1.jar\ncommons-beanutils-1.9.3.jar\ncommons-collections.jar\ncommons-dbcp-1.4.jar\ncommons-lang.jar\ncommons-logging-1.1.1.jar\ndom4j-2.1.3.jar\nezmorph.jar\nFastInfoset-1.2.15.jar\nhibernate-commons-annotations-5.1.0.Final.jar\nhibernate-core-5.4.15.Final.jar\nhibernate-envers-5.4.15.Final.jar\nhibernate-jpa-2.1-api-1.0.0.Final.jar\nhibernate-jpamodelgen-5.4.15.Final.jar\nistack-commons-runtime-3.0.7.jar\njandex-2.1.3.Final.jar\njavassist-3.24.0-GA.jar\njavax.activation_1.1.0.v201211130549.jar\njavax.activation-api-1.2.0.jar\njavax.persistence-api-2.2.jar\njavax.xml_1.3.4.v201005080400.jar\njavax.xml.bind_2.2.0.v201105210648.jar\njaxb-api-2.3.1.jar\njaxb-runtime-2.3.1.jar\njboss-logging-3.3.2.Final.jar\njboss-transaction-api_1.2_spec-1.1.1.Final.jar\njson-lib-2.2.2-jdk15.jar\nlog4j.properties\nmysql-connector-java-8.0.30.jar\nstax-ex-1.8.jar\ntxw2-2.3.1.jar\n</code></pre>\n<p>persistence.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;JPAUNIT-BOARDGAMES&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider         \n        &lt;class&gt;com.strategisina.ontheboard.bean.CheckersGameBean&lt;/class&gt;        \n        &lt;class&gt;com.strategisina.ontheboard.bean.ChessGameBean&lt;/class&gt;       \n        &lt;class&gt;com.strategisina.ontheboard.bean.GameBean&lt;/class&gt;        \n        &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;   \n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/DATABASE&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;USER&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;PASSWORD&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n\n&lt;/persistence&gt;\n</code></pre>\n<p>When I try to generate the tables with the JPA Tool/Generate Tables from Entries, the above error appears and no generation is done.\nI would be really cool to get help with that, its a little time I'm on it !</p>\n"},{"tags":["java","blockchain","ethereum","web3-java"],"answers":[{"tags":[],"owner":{"account_id":7243675,"reputation":1,"user_id":6024217,"display_name":"FPapi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512054907,"creation_date":1512054907,"answer_id":47576709,"question_id":47142528,"body_markdown":"You could be a little more specific in your question. Are you sure you need an interaction with a Java project, or maybe a pure Ethereum implementations would suffice?\r\n\r\nFor example: If the user interacts with this puzzle in a Java application but you want to store the user&#39;s data in the blockchain, then you need Web3j to interact with Ethereum. But maybe the puzzle can be implemented directly into the blockchain. Then you don&#39;t need Web3j at all.","title":"Blockchain POC on DApps in Java","body":"<p>You could be a little more specific in your question. Are you sure you need an interaction with a Java project, or maybe a pure Ethereum implementations would suffice?</p>\n\n<p>For example: If the user interacts with this puzzle in a Java application but you want to store the user's data in the blockchain, then you need Web3j to interact with Ethereum. But maybe the puzzle can be implemented directly into the blockchain. Then you don't need Web3j at all.</p>\n"},{"tags":[],"owner":{"account_id":6147981,"reputation":1870,"user_id":4793343,"accept_rate":87,"display_name":"Piyush Mittal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524545155,"creation_date":1524545155,"answer_id":49993617,"question_id":47142528,"body_markdown":"# block-chain\r\n\r\n#### **Bitcoin = = Blockchain** ??\r\n\r\nFirst of all, let’s clear one thing **Blockchain** is not a **Bitcoin** and **Bitcoin** is not a **Blockchain**.\r\n**Blockchain** is a concept which has been used in cryptocurrency or digital currency.  \r\n\r\nThe first work on a cryptographically secured chain of blocks was described in **1991 by Stuart Haber and W. Scott Stornetta** and became famous in 2008 when an unknown person  **Satoshi Nakamoto** used it in one of most famous cryptocurrency today ie **Bitcoin**.  \r\n\r\n**Satoshi** used **Blochchain** as the public ledger for all transactions of **Bitcoin** on the network. The invention of the **Blockchain** for **Bitcoin** made it the first digital currency to solve the double-spending problem without the need of a trusted authority or central server. The **Bitcoin** design has been the inspiration for other applications  \r\n\r\n\r\neach of the Big Four accounting firms is testing **Blockchain** technologies in various formats. Ernst &amp; Young has provided cryptocurrency wallets to all (Swiss) employees, has installed a **Bitcoin** ATM in their office in Switzerland, and accepts **Bitcoin** as payment for all its consulting services.  \r\n\r\nA **Blockchain**, originally block chain,is a continuously growing list of records, called blocks, which are linked and secured using cryptography. The words block and chain were used separately in Satoshi Nakamoto&#39;s original paper, but were eventually popularized as a single word, **Blockchain**, by **2016**.  \r\n\r\n\r\n### Blockchain is a Linked List\r\n\r\nIf we compare blockchain with Linkedlist, yes it’s a linked list but with the assurance of secured data.it acts like a Linkedlist with where each node has three major component as:\r\n\r\n1.\tCurrent Hash is a String element which is calculated (Hashed) from Data and Previous Hash. \r\n2.\tPrevious Hash holds the Current Hash of the previous block (node) \r\n3.\tData, can be any object, which represents the node\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAs we can see in above diagram its very much similar with Linkedlist but there is no linking between nodes using node address instead it has previous hash which is the current hash of previous node and current hash which is the combination of previous hash and data.\r\n\r\nUnless linked list it has fully secured data because if we try to alter the data the current hash would also get changed because onece we create the hash of certain data we get the same hash again and again if our data is same.\r\nHence no one can cheat by changing the data in any of the node because changing data will cause different hash and different hash will cause invailid block hence it ensured the integrity of the BlockChain and reduces chances of tampering with old blocks.\r\n\r\n\r\nBlockchain provides four important features:\r\n\r\n1. Decentralization (No individual administrator)\r\n2. Integrity of data (No tampering)\r\n3. Smart Contracts\r\n\r\nBlockchain can be used in a public peer to peer network where participants are not aware about each other or in a private business where participants know each other and trust each other.\r\n\r\n\r\n### Creating Blockchain \r\n \r\n\r\n\r\n#### Class Block \r\n\r\n``` java\r\npublic class Block {\r\n\tpublic int\t\tindex;\r\n\tpublic String\t\ttimestamp;\r\n\tpublic Data\t\tdata;\r\n\tpublic String\t\thash;\r\n\tpublic String\t\tpreviousHash;\r\n}\r\n```\r\n\r\nBlock class is a class which contains index,timestamp,data,hash and previousHash. \r\n   \r\n**Index:** is the index of a block in a linkedlist  \r\n**Timestamp:** timestamp is used to keep the track of block was created.  \r\n**Data:** data which has to be stored in block.  \r\n**Hash:** unique hash code generated by data + previoushash .  \r\n**Previoushash:** hash of previous block.  \r\n\r\n\r\n#### Constructor of Block\r\n\r\n``` java\r\npublic Block(Data data) {\r\n\t\tthis.timeStamp = &quot;&quot;+new Date().getTime();\r\n\t\tthis.data = data;\r\n\t}\r\n```\r\n\r\n#### Class Data\r\n\r\n``` java\r\npackage com.piyush.app.blockchain;\r\npublic class Data {\r\n\t\r\n\tString name;\r\n\tint balance;\r\n\t\r\n\tpublic Data(String name,int balance){\r\n\t\tthis.name=name;\r\n\t\tthis.balance=balance;\r\n\t}\r\n\t@Override\r\n\tpublic\r\n\tString toString() {\r\n\t\treturn this.name+&quot; &quot;+this.balance;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nData class is the class holds our data like name and the balance of a customer. This is the data which should be secured from tempering and blockchain gives us security that there would be no data tempering.\r\n\r\n#### Class BlockChain\r\n\r\n``` java\r\npublic class BlockChain {\r\n\tpublic Block generateBlock(Block block,List list) throws Exception{\r\n\t\ttry {\r\n\t\t\tblock.previousHash=Utils.getPreviousHash(list);\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\tthrow new Exception(&quot;previous hash null or empty&quot;);\r\n\t\t}\r\n\t\tString hashCode=Utils.generateHash(block);\r\n\t\tblock.setHash(hashCode);\r\n\t\treturn block;\r\n\t}\r\n}\r\n```\r\n\r\n#### Class Utils\r\n\r\n``` java\r\npublic class Utils {\r\n\r\n\tpublic static String generateHash(Block block) {\r\n\r\n\t\tString sha256hex = org.apache.commons.codec.digest.DigestUtils\r\n\t\t\t\t.sha256Hex(block.previousHash + &quot;&quot; + block.index + &quot;&quot; + block.timeStamp + &quot;&quot; + block.data);\r\n\r\n\t\treturn sha256hex;\r\n\t}\r\n\r\n\tpublic static &lt;E&gt; String getPreviousHash(List&lt;E&gt; list) throws Exception {\r\n\r\n\t\tif (list.size() != 0) {\r\n\t\t\tBlock block = (Block) list.get(list.size() - 1);\r\n\t\t\tString previousHash = block.getHash();\r\n\t\t\tif (previousHash != null &amp;&amp; !previousHash.equals(&quot;&quot;)) {\r\n\t\t\t\treturn previousHash;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthrow new Exception(&quot;previous hash null or empty&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn &quot;firsthash&quot;;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static Map isBlockChainValid(List&lt;Block&gt; blockChainList) throws Exception {\r\n\t\tif (!blockChainList.isEmpty()) {\r\n\t\t\tif (blockChainList.size() &gt; 1) {\r\n\t\t\t\treturn validate(blockChainList);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthrow new Exception(&quot;block chain is empty&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthrow new Exception(&quot;block chain is empty&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate static Map validate(List&lt;Block&gt; blockChainList) {\r\n\t\tBlock current;\r\n\t\tBlock previous;\r\n\t\tMap&lt;String, Object&gt; result = new HashMap();\r\n\t\tfor (int i = 1; i &lt; blockChainList.size(); i++) {\r\n\t\t\tcurrent = blockChainList.get(i);\r\n\t\t\tprevious = blockChainList.get(i - 1);\r\n\r\n\t\t\tif (!previous.getHash().equals(current.getPreviousHash())) {\r\n\t\t\t\tresult.put(&quot;block&quot;, blockChainList.get(i));\r\n\t\t\t\tresult.put(&quot;index&quot;, i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n**generateHash:** this is the main and most import part of the blockchain where we generate the hash. We have lots of implementation available to generate hash but I have used sha256Hex.\r\n\r\nHash is the combination of **data+previoushash.**\r\n\r\n\r\nWe have to add one below dependency to get this implementation though there are lots of api and other methods available on internet we can use any one of them.\r\n\r\n**Gradle:**\r\n``` json\r\ncompile group: &#39;commons-codec&#39;, name: &#39;commons-codec&#39;, version: &#39;1.11&#39;\r\n```\r\n\r\n**Maven:**\r\n``` xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n    &lt;version&gt;1.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**getPreviousHash:**\r\npreviousHash also plays very important role in Blockchain because without previous hash we can not create current hash and we can not link our blocks together.\r\n\r\n**isBlockChainValid:**\r\nwhenever we add any block in our blockchain here we check if the Blochchain is valid or not by checking the previous and current hash of each block.\r\n\r\n**validate:**\r\nwe validate the each block by generating currenthash of block by previousblock and data and match it with already present currenthash if both are same then data id not altered else data hash been altered and block chain is invalid.\r\n\r\n\r\n\r\n\r\n#### When Data is altered\r\n\r\n```\r\nBlock Chain is altered at index2\r\n \r\n \r\n\r\nhash 3cd627b352c68a2d4a3664806355a6f3fcf3d378b336380b907fcb71e41edf5f\r\nprevious hash firsthash\r\ndata piyush1 28\r\n\r\nhash 1dd182aa0d8466541a97bd780571728b3169ec7a8df97c9bb526a35d2fffa8a0\r\nprevious hash 80430d2efe27badd4e73dd52e65893f5d8aaba87fb1f186643c12c5d7f830074\r\ndata piyush2 29\r\n\r\nhash 043dfeb5ea9cd0337a1d386b5b58bcf850248f84644a0b73bbfc1f762e5fe1ef\r\nprevious hash 3cd627b352c68a2d4a3664806355a6f3fcf3d378b336380b907fcb71e41edf5f\r\ndata piyush2 28\r\n\r\nhash 80430d2efe27badd4e73dd52e65893f5d8aaba87fb1f186643c12c5d7f830074\r\nprevious hash 043dfeb5ea9cd0337a1d386b5b58bcf850248f84644a0b73bbfc1f762e5fe1ef\r\ndata piyush3 28\r\n\r\n```\r\n\r\n\r\n#### No data altered\r\n\r\n````\r\nhash 33bd892bad70ff4fa7ab0f3ec648df8a40608f872337e8a8cfc8b5c8e87e1c49\r\nprevious hash firsthash\r\ndata piyush1 28\r\n\r\nhash 41169e01eb6160f0947640340540c246e5654c2db02223a6a44d24c016337d3a\r\nprevious hash 33bd892bad70ff4fa7ab0f3ec648df8a40608f872337e8a8cfc8b5c8e87e1c49\r\ndata piyush2 28\r\n\r\nhash 48441e40a3cd6384a2ce09edf3f3acefa4f18d852608fd65bc51ead861411c96\r\nprevious hash 41169e01eb6160f0947640340540c246e5654c2db02223a6a44d24c016337d3a\r\ndata piyush3 28\r\n````\r\n\r\nPlease go through [**DataAuthorisation**](http://piyushanandmittal.blogspot.in/2018/03/blog-post_24.html) blog to know more about how to prevent your data to get tempered.\r\n\r\nfind sample project at [blockchain](https://github.com/PiyushMittl/block-chain) \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3YVgx.png\r\n  [2]: https://i.stack.imgur.com/7RVIM.png","title":"Blockchain POC on DApps in Java","body":"<h1>block-chain</h1>\n\n<strong>Bitcoin = = Blockchain</strong> ??\n\n<p>First of all, let’s clear one thing <strong>Blockchain</strong> is not a <strong>Bitcoin</strong> and <strong>Bitcoin</strong> is not a <strong>Blockchain</strong>.\n<strong>Blockchain</strong> is a concept which has been used in cryptocurrency or digital currency.  </p>\n\n<p>The first work on a cryptographically secured chain of blocks was described in <strong>1991 by Stuart Haber and W. Scott Stornetta</strong> and became famous in 2008 when an unknown person  <strong>Satoshi Nakamoto</strong> used it in one of most famous cryptocurrency today ie <strong>Bitcoin</strong>.  </p>\n\n<p><strong>Satoshi</strong> used <strong>Blochchain</strong> as the public ledger for all transactions of <strong>Bitcoin</strong> on the network. The invention of the <strong>Blockchain</strong> for <strong>Bitcoin</strong> made it the first digital currency to solve the double-spending problem without the need of a trusted authority or central server. The <strong>Bitcoin</strong> design has been the inspiration for other applications  </p>\n\n<p>each of the Big Four accounting firms is testing <strong>Blockchain</strong> technologies in various formats. Ernst &amp; Young has provided cryptocurrency wallets to all (Swiss) employees, has installed a <strong>Bitcoin</strong> ATM in their office in Switzerland, and accepts <strong>Bitcoin</strong> as payment for all its consulting services.  </p>\n\n<p>A <strong>Blockchain</strong>, originally block chain,is a continuously growing list of records, called blocks, which are linked and secured using cryptography. The words block and chain were used separately in Satoshi Nakamoto's original paper, but were eventually popularized as a single word, <strong>Blockchain</strong>, by <strong>2016</strong>.  </p>\n\n<h3>Blockchain is a Linked List</h3>\n\n<p>If we compare blockchain with Linkedlist, yes it’s a linked list but with the assurance of secured data.it acts like a Linkedlist with where each node has three major component as:</p>\n\n<ol>\n<li>Current Hash is a String element which is calculated (Hashed) from Data and Previous Hash. </li>\n<li>Previous Hash holds the Current Hash of the previous block (node) </li>\n<li>Data, can be any object, which represents the node</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/3YVgx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3YVgx.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/7RVIM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7RVIM.png\" alt=\"enter image description here\"></a></p>\n\n<p>As we can see in above diagram its very much similar with Linkedlist but there is no linking between nodes using node address instead it has previous hash which is the current hash of previous node and current hash which is the combination of previous hash and data.</p>\n\n<p>Unless linked list it has fully secured data because if we try to alter the data the current hash would also get changed because onece we create the hash of certain data we get the same hash again and again if our data is same.\nHence no one can cheat by changing the data in any of the node because changing data will cause different hash and different hash will cause invailid block hence it ensured the integrity of the BlockChain and reduces chances of tampering with old blocks.</p>\n\n<p>Blockchain provides four important features:</p>\n\n<ol>\n<li>Decentralization (No individual administrator)</li>\n<li>Integrity of data (No tampering)</li>\n<li>Smart Contracts</li>\n</ol>\n\n<p>Blockchain can be used in a public peer to peer network where participants are not aware about each other or in a private business where participants know each other and trust each other.</p>\n\n<h3>Creating Blockchain</h3>\n\nClass Block\n\n<p><code>java\npublic class Block {\n    public int      index;\n    public String       timestamp;\n    public Data     data;\n    public String       hash;\n    public String       previousHash;\n}\n</code></p>\n\n<p>Block class is a class which contains index,timestamp,data,hash and previousHash. </p>\n\n<p><strong>Index:</strong> is the index of a block in a linkedlist<br>\n<strong>Timestamp:</strong> timestamp is used to keep the track of block was created.<br>\n<strong>Data:</strong> data which has to be stored in block.<br>\n<strong>Hash:</strong> unique hash code generated by data + previoushash .<br>\n<strong>Previoushash:</strong> hash of previous block.  </p>\n\nConstructor of Block\n\n<p><code>java\npublic Block(Data data) {\n        this.timeStamp = \"\"+new Date().getTime();\n        this.data = data;\n    }\n</code></p>\n\nClass Data\n\n<p>``` java\npackage com.piyush.app.blockchain;\npublic class Data {</p>\n\n<pre><code>String name;\nint balance;\n\npublic Data(String name,int balance){\n    this.name=name;\n    this.balance=balance;\n}\n@Override\npublic\nString toString() {\n    return this.name+\" \"+this.balance;\n}\n</code></pre>\n\n<p>}\n```</p>\n\n<p>Data class is the class holds our data like name and the balance of a customer. This is the data which should be secured from tempering and blockchain gives us security that there would be no data tempering.</p>\n\nClass BlockChain\n\n<p><code>java\npublic class BlockChain {\n    public Block generateBlock(Block block,List list) throws Exception{\n        try {\n            block.previousHash=Utils.getPreviousHash(list);\n        }\n        catch (Exception e) {\n            throw new Exception(\"previous hash null or empty\");\n        }\n        String hashCode=Utils.generateHash(block);\n        block.setHash(hashCode);\n        return block;\n    }\n}\n</code></p>\n\nClass Utils\n\n<p>``` java\npublic class Utils {</p>\n\n<pre><code>public static String generateHash(Block block) {\n\n    String sha256hex = org.apache.commons.codec.digest.DigestUtils\n            .sha256Hex(block.previousHash + \"\" + block.index + \"\" + block.timeStamp + \"\" + block.data);\n\n    return sha256hex;\n}\n\npublic static &lt;E&gt; String getPreviousHash(List&lt;E&gt; list) throws Exception {\n\n    if (list.size() != 0) {\n        Block block = (Block) list.get(list.size() - 1);\n        String previousHash = block.getHash();\n        if (previousHash != null &amp;&amp; !previousHash.equals(\"\")) {\n            return previousHash;\n        }\n        else {\n            throw new Exception(\"previous hash null or empty\");\n        }\n    }\n    else {\n        return \"firsthash\";\n    }\n}\n\npublic static Map isBlockChainValid(List&lt;Block&gt; blockChainList) throws Exception {\n    if (!blockChainList.isEmpty()) {\n        if (blockChainList.size() &gt; 1) {\n            return validate(blockChainList);\n        }\n        else {\n            throw new Exception(\"block chain is empty\");\n        }\n    }\n    else {\n        throw new Exception(\"block chain is empty\");\n    }\n\n}\n\nprivate static Map validate(List&lt;Block&gt; blockChainList) {\n    Block current;\n    Block previous;\n    Map&lt;String, Object&gt; result = new HashMap();\n    for (int i = 1; i &lt; blockChainList.size(); i++) {\n        current = blockChainList.get(i);\n        previous = blockChainList.get(i - 1);\n\n        if (!previous.getHash().equals(current.getPreviousHash())) {\n            result.put(\"block\", blockChainList.get(i));\n            result.put(\"index\", i);\n        }\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>```</p>\n\n<p><strong>generateHash:</strong> this is the main and most import part of the blockchain where we generate the hash. We have lots of implementation available to generate hash but I have used sha256Hex.</p>\n\n<p>Hash is the combination of <strong>data+previoushash.</strong></p>\n\n<p>We have to add one below dependency to get this implementation though there are lots of api and other methods available on internet we can use any one of them.</p>\n\n<p><strong>Gradle:</strong>\n<code>json\ncompile group: 'commons-codec', name: 'commons-codec', version: '1.11'\n</code></p>\n\n<p><strong>Maven:</strong>\n<code>xml\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n    &lt;version&gt;1.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></p>\n\n<p><strong>getPreviousHash:</strong>\npreviousHash also plays very important role in Blockchain because without previous hash we can not create current hash and we can not link our blocks together.</p>\n\n<p><strong>isBlockChainValid:</strong>\nwhenever we add any block in our blockchain here we check if the Blochchain is valid or not by checking the previous and current hash of each block.</p>\n\n<p><strong>validate:</strong>\nwe validate the each block by generating currenthash of block by previousblock and data and match it with already present currenthash if both are same then data id not altered else data hash been altered and block chain is invalid.</p>\n\nWhen Data is altered\n\n<p>```\nBlock Chain is altered at index2</p>\n\n<p>hash 3cd627b352c68a2d4a3664806355a6f3fcf3d378b336380b907fcb71e41edf5f\nprevious hash firsthash\ndata piyush1 28</p>\n\n<p>hash 1dd182aa0d8466541a97bd780571728b3169ec7a8df97c9bb526a35d2fffa8a0\nprevious hash 80430d2efe27badd4e73dd52e65893f5d8aaba87fb1f186643c12c5d7f830074\ndata piyush2 29</p>\n\n<p>hash 043dfeb5ea9cd0337a1d386b5b58bcf850248f84644a0b73bbfc1f762e5fe1ef\nprevious hash 3cd627b352c68a2d4a3664806355a6f3fcf3d378b336380b907fcb71e41edf5f\ndata piyush2 28</p>\n\n<p>hash 80430d2efe27badd4e73dd52e65893f5d8aaba87fb1f186643c12c5d7f830074\nprevious hash 043dfeb5ea9cd0337a1d386b5b58bcf850248f84644a0b73bbfc1f762e5fe1ef\ndata piyush3 28</p>\n\n<p>```</p>\n\nNo data altered\n\n<p>````\nhash 33bd892bad70ff4fa7ab0f3ec648df8a40608f872337e8a8cfc8b5c8e87e1c49\nprevious hash firsthash\ndata piyush1 28</p>\n\n<p>hash 41169e01eb6160f0947640340540c246e5654c2db02223a6a44d24c016337d3a\nprevious hash 33bd892bad70ff4fa7ab0f3ec648df8a40608f872337e8a8cfc8b5c8e87e1c49\ndata piyush2 28</p>\n\n<p>hash 48441e40a3cd6384a2ce09edf3f3acefa4f18d852608fd65bc51ead861411c96\nprevious hash 41169e01eb6160f0947640340540c246e5654c2db02223a6a44d24c016337d3a\ndata piyush3 28\n````</p>\n\n<p>Please go through <a href=\"http://piyushanandmittal.blogspot.in/2018/03/blog-post_24.html\" rel=\"nofollow noreferrer\"><strong>DataAuthorisation</strong></a> blog to know more about how to prevent your data to get tempered.</p>\n\n<p>find sample project at <a href=\"https://github.com/PiyushMittl/block-chain\" rel=\"nofollow noreferrer\">blockchain</a> </p>\n"}],"owner":{"account_id":2904904,"reputation":41,"user_id":2490556,"display_name":"Rohith Varala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1660079405,"creation_date":1509989315,"question_id":47142528,"body_markdown":"\n\nI wanted to develop a web DApplication using Ethereum, Infura, web3J.. can you share your inputs to quickStart, I see more theoretical stuff &amp; don&#39;t found any practical examples to step forward using web3j.. I want to store a user earned points on solving some puzzle with some metadata like points creation date, expiry date, puzzle ID &amp; etc in blockchain.\n\n How to model &amp; store above information.. \n \n    ","title":"Blockchain POC on DApps in Java","body":"<p>I wanted to develop a web DApplication using Ethereum, Infura, web3J.. can you share your inputs to quickStart, I see more theoretical stuff &amp; don't found any practical examples to step forward using web3j.. I want to store a user earned points on solving some puzzle with some metadata like points creation date, expiry date, puzzle ID &amp; etc in blockchain.</p>\n\n<p>How to model &amp; store above information.. </p>\n"},{"tags":["java","jsonschema","binary-data"],"comments":[{"owner":{"account_id":32232,"reputation":11789,"user_id":89211,"accept_rate":90,"display_name":"Relequestual"},"score":0,"creation_date":1660835229,"post_id":73298101,"comment_id":129631999,"body_markdown":"I don&#39;t tend to see these keywords used very often. They are not validaiton keywords, and code generation tends to only cover the most basic of use cases. I would create an issue on the tooling&#39;s repo.","body":"I don&#39;t tend to see these keywords used very often. They are not validaiton keywords, and code generation tends to only cover the most basic of use cases. I would create an issue on the tooling&#39;s repo."}],"owner":{"account_id":10023924,"reputation":11,"user_id":7412667,"display_name":"Leo Z."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660079129,"creation_date":1660079129,"question_id":73298101,"body_markdown":"We have a Rest API which allows clients to GET back some binary content (e.g. Image) We are using JsonSchema to help describe the API in question so I want to built out a JsonSchema representing that content.\r\n\r\nLooking through json-schema.org&#39;s recommendation here:\r\n[https://json-schema.org/understanding-json-schema/reference/non_json_data.html?highlight=binary][1]\r\n\r\nThe relevant JsonSchema can be represented as the following `StringSchema`:\r\n\r\n    {\r\n      &quot;type&quot;: &quot;string&quot;,\r\n      &quot;contentEncoding&quot;: &quot;base64&quot;,\r\n      &quot;contentMediaType&quot;: &quot;image/png&quot;\r\n    }\r\n\r\n - Searching around i found a similar question with solution but it&#39;s related to `C#` and relevant implementation of the underlying `SchemaGenerator`:\r\nhttps://bytemeta.vip/repo/JamesNK/Newtonsoft.Json.Schema/issues/284 But inspired by that I also tried looking through the `com.fasterxml.jackson.module.jsonSchema.JsonSchemaGenerator` but also was not able to figure out how to built the relevant schema using that either.\r\n - I also tried creating a `com.fasterxml.jackson.module.jsonSchema.types.StringSchema` directly but was also not able to add either &quot;`contentEncoding`&quot; or &quot;`contentMediaType`&quot; keywords to the generated `StringSchema`.\r\n\r\nSo was wondering if anyone else happened to have any pointers on what can be done in this situation in order to generate the JsonSchema we desire?","title":"Generating com.fasterxml.jackson.module.jsonSchema.types.StringSchema with &quot;contentEncoding&quot;: &quot;base64&quot; in JAVA","body":"<p>We have a Rest API which allows clients to GET back some binary content (e.g. Image) We are using JsonSchema to help describe the API in question so I want to built out a JsonSchema representing that content.</p>\n<p>Looking through json-schema.org's recommendation here:\n[https://json-schema.org/understanding-json-schema/reference/non_json_data.html?highlight=binary][1]</p>\n<p>The relevant JsonSchema can be represented as the following <code>StringSchema</code>:</p>\n<pre><code>{\n  &quot;type&quot;: &quot;string&quot;,\n  &quot;contentEncoding&quot;: &quot;base64&quot;,\n  &quot;contentMediaType&quot;: &quot;image/png&quot;\n}\n</code></pre>\n<ul>\n<li>Searching around i found a similar question with solution but it's related to <code>C#</code> and relevant implementation of the underlying <code>SchemaGenerator</code>:\n<a href=\"https://bytemeta.vip/repo/JamesNK/Newtonsoft.Json.Schema/issues/284\" rel=\"nofollow noreferrer\">https://bytemeta.vip/repo/JamesNK/Newtonsoft.Json.Schema/issues/284</a> But inspired by that I also tried looking through the <code>com.fasterxml.jackson.module.jsonSchema.JsonSchemaGenerator</code> but also was not able to figure out how to built the relevant schema using that either.</li>\n<li>I also tried creating a <code>com.fasterxml.jackson.module.jsonSchema.types.StringSchema</code> directly but was also not able to add either &quot;<code>contentEncoding</code>&quot; or &quot;<code>contentMediaType</code>&quot; keywords to the generated <code>StringSchema</code>.</li>\n</ul>\n<p>So was wondering if anyone else happened to have any pointers on what can be done in this situation in order to generate the JsonSchema we desire?</p>\n"},{"tags":["java","mysql","connection","credentials"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1660079179,"post_id":73298084,"comment_id":129447238,"body_markdown":"I would recommend reading the credentials from environment variables, as is suggested by the [12 factor app](https://12factor.net/config).","body":"I would recommend reading the credentials from environment variables, as is suggested by the <a href=\"https://12factor.net/config\" rel=\"nofollow noreferrer\">12 factor app</a>."},{"owner":{"account_id":9281135,"reputation":817,"user_id":6892294,"display_name":"DocJ457"},"score":0,"creation_date":1660195072,"post_id":73298084,"comment_id":129476406,"body_markdown":"I opted for using properties file and accessing it through ResourceBundler.   If that doesn&#39;t work then you can use FileInputStream .","body":"I opted for using properties file and accessing it through ResourceBundler.   If that doesn&#39;t work then you can use FileInputStream ."}],"owner":{"account_id":9281135,"reputation":817,"user_id":6892294,"display_name":"DocJ457"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660079050,"creation_date":1660079050,"question_id":73298084,"body_markdown":"I have successfully established a connection to the MySQL db but all the credentials are in the .java connection file. how do I create another file like a settings file and connect the data?\r\n\r\n    String url = &quot;jdbc:mysql://path&quot;;\r\n        String username = &quot;xxx&quot;;\r\n        String password = &quot;yyy&quot;;\r\n        Connection connection = DriverManager.getConnection(url, username, password);\r\n\r\n        // Step 3: create statement object\r\n        Statement statement = connection.createStatement();\r\n\r\n        // Step 4: execute the query\r\n        String sql = &quot;select * from employee&quot;;\r\n        ResultSet resultSet = statement.executeQuery(sql);\r\n        while(resultSet.next()){\r\n            System.out.println(\r\n                    &quot;Id: &quot;+ resultSet.getInt(1)+\r\n                    &quot;, Name: &quot;+ resultSet.getString(2)+\r\n                    &quot;, Email: &quot;+ resultSet.getString(3));\r\n        }\r\n\r\n        // Step 5: close the connection\r\n        connection.close();","title":"Where do you put your MySQL connection credentials in Java","body":"<p>I have successfully established a connection to the MySQL db but all the credentials are in the .java connection file. how do I create another file like a settings file and connect the data?</p>\n<pre><code>String url = &quot;jdbc:mysql://path&quot;;\n    String username = &quot;xxx&quot;;\n    String password = &quot;yyy&quot;;\n    Connection connection = DriverManager.getConnection(url, username, password);\n\n    // Step 3: create statement object\n    Statement statement = connection.createStatement();\n\n    // Step 4: execute the query\n    String sql = &quot;select * from employee&quot;;\n    ResultSet resultSet = statement.executeQuery(sql);\n    while(resultSet.next()){\n        System.out.println(\n                &quot;Id: &quot;+ resultSet.getInt(1)+\n                &quot;, Name: &quot;+ resultSet.getString(2)+\n                &quot;, Email: &quot;+ resultSet.getString(3));\n    }\n\n    // Step 5: close the connection\n    connection.close();\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":25285263,"reputation":3,"user_id":19112394,"display_name":"Shayne McPherson"},"score":0,"creation_date":1660077691,"post_id":73297699,"comment_id":129446821,"body_markdown":"@EraftYps even in doing this, I receive the same error when I try to invoke said methods","body":"@EraftYps even in doing this, I receive the same error when I try to invoke said methods"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1660078444,"post_id":73297699,"comment_id":129447022,"body_markdown":"Because you are newing up SongService and circumventing Spring.","body":"Because you are newing up SongService and circumventing Spring."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660078824,"creation_date":1660078824,"answer_id":73298043,"question_id":73297699,"body_markdown":"When you use `new` to create an object, it&#39;s outside of Spring&#39;s context.  It won&#39;t have the autowired dependencies.  Also, you won&#39;t be able to use autowired beans in your main (nor should you) as it&#39;s a static method.  If you want to do this in your app startup, autowire the bean and put the logic in a PostConstruct method.\r\n\r\nHere is an example:\r\n\r\n    public class WastelandApplication {\r\n        @Autowired\r\n        private SongService songService;\r\n\r\n        @Bean\r\n        public ModelMapper modelMapper() {\r\n            ModelMapper modelMapper = new ModelMapper();\r\n            return modelMapper;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(WastelandApplication.class, args);\r\n        }\r\n\r\n        @PostConstruct\r\n        public void doSomethingIProbablyShouldNotBeDoing() {\r\n            System.out.println(songService.findAllSongs());\r\n        }\r\n    }\r\n","title":"Why is &quot;this.Repo“ null when invoking methods in SongRepo in Spring Boot Project?","body":"<p>When you use <code>new</code> to create an object, it's outside of Spring's context.  It won't have the autowired dependencies.  Also, you won't be able to use autowired beans in your main (nor should you) as it's a static method.  If you want to do this in your app startup, autowire the bean and put the logic in a PostConstruct method.</p>\n<p>Here is an example:</p>\n<pre><code>public class WastelandApplication {\n    @Autowired\n    private SongService songService;\n\n    @Bean\n    public ModelMapper modelMapper() {\n        ModelMapper modelMapper = new ModelMapper();\n        return modelMapper;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(WastelandApplication.class, args);\n    }\n\n    @PostConstruct\n    public void doSomethingIProbablyShouldNotBeDoing() {\n        System.out.println(songService.findAllSongs());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25285263,"reputation":3,"user_id":19112394,"display_name":"Shayne McPherson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660078824,"creation_date":1660076667,"question_id":73297699,"body_markdown":"The goal of this method is to provide functionality to a service layer method that will find all songs within a PostgreSQL database. I have implemented an interface &quot;SongServiceInterface&quot; in the service layer and in the event I utilize this SongService via instantiation in the main method or even by sending Http Requests via &quot;/songs&quot; endpoint, I receive this error: \r\n\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.techm.react.Wasteland.repository.SongRepo.findAll()&quot; because &quot;this.songRepo&quot; is null.\r\n\r\nPlease note upon startup the application will persist the objects to database, but using endpoints or methods within this repo/service cause null field error.\r\n\r\nI can provide the code below:\r\n\r\n\r\n----------\r\n\r\n\r\n## Model ##\r\n\r\n    package com.techm.react.Wasteland.models;\r\n    \r\n    import lombok.*;\r\n    import org.hibernate.annotations.OnDelete;\r\n    import org.hibernate.annotations.OnDeleteAction;\r\n    \r\n    import javax.persistence.*;\r\n    import java.sql.Time;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;song&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter @Setter\r\n    @EqualsAndHashCode\r\n    @ToString\r\n    public class Song {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n    \r\n        @Column(name = &quot;title&quot;)\r\n        private String title;\r\n    \r\n        @JoinColumn(name = &quot;album&quot;)\r\n        @ManyToOne\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        private Album album;\r\n    \r\n        @Column(name = &quot;artists&quot;)\r\n        private String artists;\r\n    \r\n        @Column(name = &quot;track&quot;)\r\n        private int track;\r\n    \r\n        @Column(name = &quot;track_length&quot;)\r\n        private Time length;\r\n    }\r\n\r\n----------\r\n\r\n## DTO ##\r\n\r\n    package com.techm.react.Wasteland.dto;\r\n    \r\n    import com.techm.react.Wasteland.models.Album;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import java.sql.Time;\r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class SongDTO {\r\n    \r\n        private String title;\r\n        private AlbumDTO album;\r\n        private String artists;\r\n        private int track;\r\n        private Time length;\r\n    \r\n    \r\n    }\r\n\r\n\r\n----------\r\n\r\n## Repo ##\r\n\r\n    package com.techm.react.Wasteland.repository;\r\n    \r\n    import com.techm.react.Wasteland.models.Song;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import java.util.List;\r\n    @Repository\r\n    public interface SongRepo extends JpaRepository&lt;Song, Integer&gt; {\r\n    \r\n        public abstract List&lt;Song&gt; findAll();\r\n    \r\n        public abstract List&lt;Song&gt; findByArtist();\r\n    \r\n        public abstract Song findByTrack();\r\n    }\r\n\r\n----------\r\n\r\n## Service ##\r\n\r\n    package com.techm.react.Wasteland.service;\r\n    \r\n    import com.techm.react.Wasteland.dto.SongDTO;\r\n    import com.techm.react.Wasteland.models.Song;\r\n    import com.techm.react.Wasteland.repository.SongRepo;\r\n    import org.modelmapper.ModelMapper;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Configurable;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    @Service @Configurable\r\n    public class SongService implements SongServiceInterface{\r\n        @Autowired\r\n        SongRepo songRepo;\r\n    \r\n        @Autowired\r\n        private ModelMapper modelMapper;\r\n    \r\n        public List&lt;SongDTO&gt; findAllSongs() {\r\n    \r\n            List&lt;SongDTO&gt; songDTOS = new ArrayList&lt;&gt;();\r\n    \r\n            List&lt;Song&gt; songs = songRepo.findAll();\r\n            for(Song s: songs) {\r\n                songDTOS.add(modelMapper.map(s, SongDTO.class));\r\n            }\r\n    \r\n            return songDTOS;\r\n        }\r\n    \r\n        public SongDTO getSongByTitle(String title) throws NoSuchFieldException {\r\n            SongDTO song = new SongDTO();\r\n            if(title == song.getTitle()){\r\n                return song;\r\n            }\r\n            else throw new NoSuchFieldException(&quot;The song by that title does not exist&quot;);\r\n        }\r\n    \r\n        public SongDTO findByTrack(int track) {\r\n            SongDTO song = new SongDTO();\r\n            if(song.getTrack() == track) {\r\n                return song;\r\n            }\r\n            return null;\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n----------\r\n\r\n## Main ##\r\n\r\n    package com.techm.react.Wasteland;\r\n    \r\n    import com.techm.react.Wasteland.controller.AlbumController;\r\n    import com.techm.react.Wasteland.controller.SongController;\r\n    import com.techm.react.Wasteland.service.SongService;\r\n    import org.modelmapper.ModelMapper;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan({&quot;com.server&quot;, &quot;com.server.config&quot;})\r\n    @EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\r\n    public class WastelandApplication {\r\n    \r\n    \t@Bean\r\n    \tpublic ModelMapper modelMapper() {\r\n    \t\tModelMapper modelMapper = new ModelMapper();\r\n    \t\treturn modelMapper;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(WastelandApplication.class, args);\r\n    \r\n    \t\tSongService songService = new SongService();\r\n    \t\tSystem.out.println(songService.findAllSongs());\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"Why is &quot;this.Repo“ null when invoking methods in SongRepo in Spring Boot Project?","body":"<p>The goal of this method is to provide functionality to a service layer method that will find all songs within a PostgreSQL database. I have implemented an interface &quot;SongServiceInterface&quot; in the service layer and in the event I utilize this SongService via instantiation in the main method or even by sending Http Requests via &quot;/songs&quot; endpoint, I receive this error:</p>\n<p>Caused by: java.lang.NullPointerException: Cannot invoke &quot;com.techm.react.Wasteland.repository.SongRepo.findAll()&quot; because &quot;this.songRepo&quot; is null.</p>\n<p>Please note upon startup the application will persist the objects to database, but using endpoints or methods within this repo/service cause null field error.</p>\n<p>I can provide the code below:</p>\n<hr />\n<h2>Model</h2>\n<pre><code>package com.techm.react.Wasteland.models;\n\nimport lombok.*;\nimport org.hibernate.annotations.OnDelete;\nimport org.hibernate.annotations.OnDeleteAction;\n\nimport javax.persistence.*;\nimport java.sql.Time;\n\n@Entity\n@Table(name = &quot;song&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter @Setter\n@EqualsAndHashCode\n@ToString\npublic class Song {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = &quot;title&quot;)\n    private String title;\n\n    @JoinColumn(name = &quot;album&quot;)\n    @ManyToOne\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private Album album;\n\n    @Column(name = &quot;artists&quot;)\n    private String artists;\n\n    @Column(name = &quot;track&quot;)\n    private int track;\n\n    @Column(name = &quot;track_length&quot;)\n    private Time length;\n}\n</code></pre>\n<hr />\n<h2>DTO</h2>\n<pre><code>package com.techm.react.Wasteland.dto;\n\nimport com.techm.react.Wasteland.models.Album;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.sql.Time;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class SongDTO {\n\n    private String title;\n    private AlbumDTO album;\n    private String artists;\n    private int track;\n    private Time length;\n\n\n}\n</code></pre>\n<hr />\n<h2>Repo</h2>\n<pre><code>package com.techm.react.Wasteland.repository;\n\nimport com.techm.react.Wasteland.models.Song;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n@Repository\npublic interface SongRepo extends JpaRepository&lt;Song, Integer&gt; {\n\n    public abstract List&lt;Song&gt; findAll();\n\n    public abstract List&lt;Song&gt; findByArtist();\n\n    public abstract Song findByTrack();\n}\n</code></pre>\n<hr />\n<h2>Service</h2>\n<pre><code>package com.techm.react.Wasteland.service;\n\nimport com.techm.react.Wasteland.dto.SongDTO;\nimport com.techm.react.Wasteland.models.Song;\nimport com.techm.react.Wasteland.repository.SongRepo;\nimport org.modelmapper.ModelMapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Configurable;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Service @Configurable\npublic class SongService implements SongServiceInterface{\n    @Autowired\n    SongRepo songRepo;\n\n    @Autowired\n    private ModelMapper modelMapper;\n\n    public List&lt;SongDTO&gt; findAllSongs() {\n\n        List&lt;SongDTO&gt; songDTOS = new ArrayList&lt;&gt;();\n\n        List&lt;Song&gt; songs = songRepo.findAll();\n        for(Song s: songs) {\n            songDTOS.add(modelMapper.map(s, SongDTO.class));\n        }\n\n        return songDTOS;\n    }\n\n    public SongDTO getSongByTitle(String title) throws NoSuchFieldException {\n        SongDTO song = new SongDTO();\n        if(title == song.getTitle()){\n            return song;\n        }\n        else throw new NoSuchFieldException(&quot;The song by that title does not exist&quot;);\n    }\n\n    public SongDTO findByTrack(int track) {\n        SongDTO song = new SongDTO();\n        if(song.getTrack() == track) {\n            return song;\n        }\n        return null;\n    }\n\n\n\n}\n</code></pre>\n<hr />\n<h2>Main</h2>\n<pre><code>package com.techm.react.Wasteland;\n\nimport com.techm.react.Wasteland.controller.AlbumController;\nimport com.techm.react.Wasteland.controller.SongController;\nimport com.techm.react.Wasteland.service.SongService;\nimport org.modelmapper.ModelMapper;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@SpringBootApplication\n@ComponentScan({&quot;com.server&quot;, &quot;com.server.config&quot;})\n@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\npublic class WastelandApplication {\n\n    @Bean\n    public ModelMapper modelMapper() {\n        ModelMapper modelMapper = new ModelMapper();\n        return modelMapper;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(WastelandApplication.class, args);\n\n        SongService songService = new SongService();\n        System.out.println(songService.findAllSongs());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jdbc","db2","prepared-statement","resultset"],"comments":[{"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"score":0,"creation_date":1660080510,"post_id":73298032,"comment_id":129447521,"body_markdown":"Does this answer your question? [Invalid operation: result set is closed](https://stackoverflow.com/questions/10993975/invalid-operation-result-set-is-closed)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10993975/invalid-operation-result-set-is-closed\">Invalid operation: result set is closed</a>"},{"owner":{"account_id":3456238,"reputation":155,"user_id":2894695,"accept_rate":25,"display_name":"Mohan"},"score":0,"creation_date":1660107340,"post_id":73298032,"comment_id":129451594,"body_markdown":"No above link didn&#39;t workout","body":"No above link didn&#39;t workout"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1660118993,"post_id":73298032,"comment_id":129454651,"body_markdown":"@Mohan https://stackoverflow.com/questions/25496610/invalid-operation-result-set-is-closed-errorcode-4470-sqlstate-null-db2-data-e might help","body":"@Mohan <a href=\"https://stackoverflow.com/questions/25496610/invalid-operation-result-set-is-closed-errorcode-4470-sqlstate-null-db2-data-e\" title=\"invalid operation result set is closed errorcode 4470 sqlstate null db2 data e\">stackoverflow.com/questions/25496610/&hellip;</a> might help"},{"owner":{"account_id":3456238,"reputation":155,"user_id":2894695,"accept_rate":25,"display_name":"Mohan"},"score":0,"creation_date":1660127594,"post_id":73298032,"comment_id":129457789,"body_markdown":"I checked the above link how to enable allowNextOnExhaustedResultSet property we are not using WAS","body":"I checked the above link how to enable allowNextOnExhaustedResultSet property we are not using WAS"}],"owner":{"account_id":3456238,"reputation":155,"user_id":2894695,"accept_rate":25,"display_name":"Mohan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660078748,"creation_date":1660078748,"question_id":73298032,"body_markdown":"I have the list of id&#39;s as follows &#39;01/A&#39;, &#39;02/B&#39;, &#39;03/C&#39;, &#39;04/D&#39;, &#39;05/E&#39;\r\n\r\nMASTER TABLE\r\n\r\n| ID | STATUS |\r\n| -------- | -------------- |\r\n| 02/B    | NA         |\r\n| 03/C   | A            |\r\n| 05/E   | A            |\r\n\r\nMASTER table I have the status of the above id&#39;s from conB Database. If id&#39;s are present in MASTER table, then I need to pick the status from MASTER table and insert into TEMP table in conA Database. \r\n\r\nNote : 1st id : &#39;01/A&#39; and 4th id: &#39;04/D&#39; is not present in MASTER table.\r\nSo my code should skip those two id&#39;s and pick the status of other id&#39;s and insert into TEMP table.But I am getting and error message as &quot;**Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null**&quot; at **rs.next()**\r\n\r\nI am not sure where it went wrong. Anybody can help me out with this issue. \r\n\r\n    public int insertData(List&lt;String&gt; idList, Connection conA, Connection conB, )\r\n    \t\tthrows SQLException, SQLTransientConnectionException, Exception {\r\n    \tint insertStatus = 0;\r\n    \tString id = null;\r\n    \r\n    \tfor (int i = 0; i &lt; idList.size(); i++) {\r\n    \t\t\r\n    \t\tString sql = &quot;SELECT * FROM MASTER WHERE ID LIKE &#39;%&quot; + idList.get(i) + &quot;%&#39;)&quot;;\t\t\r\n    \t\tPreparedStatement ps = conB.prepareStatement(sql);\r\n    \t\tResultSet rs = ps.executeQuery();\r\n    \r\n    \t\twhile (rs.next()) { \t\t// Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null\r\n    \t\t\ttry {\r\n    \t\t\t\tid = rs.getString(&quot;ID&quot;);\r\n    \t\t\t\tstatus = rs.getString(&quot;STATUS&quot;);\r\n    \t\t\t\t\r\n    \t\t\t\tString sql1 = &quot;INSERT INTO TEMP (ID, STATUS) VALUES (&#39;&quot; + id + &quot;&#39;,&#39;&quot; + status + &quot;&#39;)&quot;;\t\t\t\t\r\n    \t\t\t\tPreparedStatement ps1 = conA.prepareStatement(sql1);\r\n    \t\t\t\tinsertStatus = ps1.executeUpdate();\r\n    \t\t\t\tps1.close();\r\n    \t\t\t\t\r\n    \t\t\t\tlog.info(&quot;Number of rows inserted &quot; + insertStatus);\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tps.close();\r\n    \t\trs.close();\r\n    \t}\r\n    \r\n    \treturn insertStatus;\r\n    }\r\n\r\n","title":"Result Set Issue: Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null","body":"<p>I have the list of id's as follows '01/A', '02/B', '03/C', '04/D', '05/E'</p>\n<p>MASTER TABLE</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>STATUS</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>02/B</td>\n<td>NA</td>\n</tr>\n<tr>\n<td>03/C</td>\n<td>A</td>\n</tr>\n<tr>\n<td>05/E</td>\n<td>A</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>MASTER table I have the status of the above id's from conB Database. If id's are present in MASTER table, then I need to pick the status from MASTER table and insert into TEMP table in conA Database.</p>\n<p>Note : 1st id : '01/A' and 4th id: '04/D' is not present in MASTER table.\nSo my code should skip those two id's and pick the status of other id's and insert into TEMP table.But I am getting and error message as &quot;<strong>Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null</strong>&quot; at <strong>rs.next()</strong></p>\n<p>I am not sure where it went wrong. Anybody can help me out with this issue.</p>\n<pre><code>public int insertData(List&lt;String&gt; idList, Connection conA, Connection conB, )\n        throws SQLException, SQLTransientConnectionException, Exception {\n    int insertStatus = 0;\n    String id = null;\n\n    for (int i = 0; i &lt; idList.size(); i++) {\n        \n        String sql = &quot;SELECT * FROM MASTER WHERE ID LIKE '%&quot; + idList.get(i) + &quot;%')&quot;;       \n        PreparedStatement ps = conB.prepareStatement(sql);\n        ResultSet rs = ps.executeQuery();\n\n        while (rs.next()) {         // Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null\n            try {\n                id = rs.getString(&quot;ID&quot;);\n                status = rs.getString(&quot;STATUS&quot;);\n                \n                String sql1 = &quot;INSERT INTO TEMP (ID, STATUS) VALUES ('&quot; + id + &quot;','&quot; + status + &quot;')&quot;;               \n                PreparedStatement ps1 = conA.prepareStatement(sql1);\n                insertStatus = ps1.executeUpdate();\n                ps1.close();\n                \n                log.info(&quot;Number of rows inserted &quot; + insertStatus);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n        ps.close();\n        rs.close();\n    }\n\n    return insertStatus;\n}\n</code></pre>\n"},{"tags":["java","concurrenthashmap"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660078445,"creation_date":1660078445,"answer_id":73297991,"question_id":73297924,"body_markdown":"&gt; `ConcurrentHashMap&lt;String, Integer&gt; newhashmap = newobj.CountWordsInCorpus()`\r\n\r\nThis line is fine; but it back. Except, the `CountWordsInCorpus` method has an argument: lemmas. You need to find these lemmas someplace and pass them to this method. Your `StartCreatingStatistics` method does this, but it calls `CountWordsInCorpus`, and tosses the result in the garbage.\r\n\r\nPerhaps `StartCreatingStatistics` should return it instead. Now your main can call `StartCreatingStatistics`, save what it returns, and pass that to `OutputCountsAsCSV`.\r\n","title":"How to call a method inside the public static void main(String[] args) class in Java?","body":"<blockquote>\n<p><code>ConcurrentHashMap&lt;String, Integer&gt; newhashmap = newobj.CountWordsInCorpus()</code></p>\n</blockquote>\n<p>This line is fine; but it back. Except, the <code>CountWordsInCorpus</code> method has an argument: lemmas. You need to find these lemmas someplace and pass them to this method. Your <code>StartCreatingStatistics</code> method does this, but it calls <code>CountWordsInCorpus</code>, and tosses the result in the garbage.</p>\n<p>Perhaps <code>StartCreatingStatistics</code> should return it instead. Now your main can call <code>StartCreatingStatistics</code>, save what it returns, and pass that to <code>OutputCountsAsCSV</code>.</p>\n"}],"owner":{"account_id":15285573,"reputation":1147,"user_id":11028689,"display_name":"Bluetail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73297991,"answer_count":1,"score":-1,"last_activity_date":1660078496,"creation_date":1660077994,"question_id":73297924,"body_markdown":"I&#39;m trying to load a json file, convert it into a ConcurrentHashMap and then write into a csv file with the following code:\r\n\r\n\r\nMy json file is of the form\r\n\r\n{&quot;lemmas&quot;:{&quot;doc4&quot;:&quot;which might make it go wrong&quot;,&quot;doc3&quot;:&quot;and no dirty datum&quot;,&quot;doc2&quot;:&quot;each of vary length&quot;,&quot;doc1&quot;:&quot;you should find that it have five line&quot;,&quot;doc0&quot;:&quot;this be a simple text file&quot;}}\r\n\r\n        package pipeline;\r\n        \r\n        import java.io.FileWriter;\r\n        import java.util.ArrayList;\r\n        import java.util.Arrays;\r\n        import java.util.Map.Entry;\r\n        import java.util.concurrent.ConcurrentHashMap;\r\n        \r\n        import helpers.JSONIOHelper;\r\n        \r\n        public class DescriptiveStatistics {\r\n        \r\n        \tprivate static void StartCreatingStatistics(String filePath) {\r\n        \t\tSystem.out.println(&quot;Loading file...&quot;);\r\n        \r\n        \t\tJSONIOHelper JSONIO = new JSONIOHelper(); // create an object of the JSONIOHelper class\r\n        \t\tJSONIO.LoadJSON(filePath); // call the LoadJSON method\r\n        \t\tConcurrentHashMap&lt;String, String&gt; lemmas = JSONIO.GetLemmasFromJSONStructure();\r\n        \t\t\r\n        \r\n        \t\tlemmas.forEach((k, v) -&gt; System.out.printf(&quot;    %s%n&quot;, v));\r\n        \r\n        \t\tCountWordsInCorpus(lemmas); // call this method from the end of the StartCreatingStatistics()\r\n        \t}\r\n        \r\n        \tprivate static ConcurrentHashMap&lt;String, Integer&gt; CountWordsInCorpus(ConcurrentHashMap&lt;String, String&gt; lemmas) {\r\n        \r\n        \t\t// compile the words in the corpus into a list\r\n        \t\tArrayList&lt;String&gt; corpus = new ArrayList&lt;String&gt;();\r\n        \t\t// store the words together with their frequencies\r\n        \t\tConcurrentHashMap&lt;String, Integer&gt; counts = new ConcurrentHashMap&lt;String, Integer&gt;();\r\n            \r\n        \t\tfor (Entry&lt;String, String&gt; entry : lemmas.entrySet()) {\r\n        \r\n        \t\t\tfor (String word : entry.getValue().split(&quot; &quot;)) {\r\n        \r\n        \t\t\t\tcorpus.add(word);\r\n        \r\n        \t\t\t}\r\n        \t\t}\r\n    \r\n       // getting words and their frequencies \r\n        \t\tfor (String word : corpus) {\r\n        \t\t\tif (counts.containsKey(word)) {\r\n        \t\t\t\tcounts.put(word, counts.get(word) + 1);\r\n        \t\t\t} else {\r\n        \t\t\t\tcounts.put(word, 1);\r\n        \r\n        \t\t\t}\r\n        \t\t\r\n        \t\t}\r\n                  \t\t    \t\t\r\n        \t\treturn counts;\r\n        \t}\r\n        // writing into a csv file\r\n        \tprivate void OutputCountsAsCSV(ConcurrentHashMap&lt;String, Integer&gt; counts, String filename) {\r\n        \t\tString CSVOutput = new String(&quot;&quot;);\r\n        \r\n        \t\tfor (Entry&lt;String, Integer&gt; entry : counts.entrySet()) {\r\n        \t\t\tString rowText = String.format(&quot;%s,%d\\n&quot;, entry.getKey(), entry.getValue());\r\n        \r\n        \t\t\tSystem.out.println(rowText);\r\n        \t\t\tCSVOutput += rowText;\r\n        \t\t\tSystem.out.println(CSVOutput);\r\n        \r\n        \t\t\t{\r\n        \t\t\t\ttry (FileWriter writer = new FileWriter(filename)) {\r\n        \t\t\t\t\twriter.write(CSVOutput);\r\n        \t\t\t\t\tSystem.out.println(&quot;CSV File saved successfully...&quot;);\r\n        \t\t\t\t}\r\n        \r\n        \t\t\t\tcatch (Exception e)\r\n        \r\n        \t\t\t\t{\r\n        \t\t\t\t\tSystem.out.println(&quot;Saving CSV to file failed...&quot;);\r\n        \r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n\r\nI now want to call the OutputCountsAsCSV() method to pass the csv file name to it, say &#39;my_file.csv&#39;.\r\n\r\nI am not sure how to do it in the main(String[] args) method.\r\nIt is easy to call StartCreatingStatistics(), for example, because there is only one argument, but OutputCountsAsCSV() has two arguments and I do not know how to pass ‘counts’ from ConcurrentHashMap&lt;String, Integer&gt; CountWordsInCorpus() to it as the first argument?\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString filePath = &quot;JSON_simple.json&quot;;\t\t\r\n\t\tDescriptiveStatistics newobj = new \r\n    DescriptiveStatistics();\r\n\t\tnewobj.StartCreatingStatistics(filePath);\r\n\t\t...\r\n        // ConcurrentHashMap&lt;String, Integer&gt; newhashmap = \r\n    //newobj.CountWordsInCorpus()\r\n\t\tString filename = &quot;my_file.csv&quot;;      \r\n\t\tOutputCountsAsCSV ( newhashmap, filename);\r\n\t}\r\n\r\n\r\nSo if I try &#39;ConcurrentHashMap&lt;String, Integer&gt; newhashmap = newobj.CountWordsInCorpus()&#39;; it of course, gives an error  &#39;the method CountWordsInCorpus(ConcurrentHashMap&lt;String, String&gt;)&#39; in the type BDescriptiveStatistics is not applicable for the arguments()&#39;.\r\n\r\nhow can I do it please?\r\n\r\n\r\n\r\n","title":"How to call a method inside the public static void main(String[] args) class in Java?","body":"<p>I'm trying to load a json file, convert it into a ConcurrentHashMap and then write into a csv file with the following code:</p>\n<p>My json file is of the form</p>\n<p>{&quot;lemmas&quot;:{&quot;doc4&quot;:&quot;which might make it go wrong&quot;,&quot;doc3&quot;:&quot;and no dirty datum&quot;,&quot;doc2&quot;:&quot;each of vary length&quot;,&quot;doc1&quot;:&quot;you should find that it have five line&quot;,&quot;doc0&quot;:&quot;this be a simple text file&quot;}}</p>\n<pre><code>    package pipeline;\n    \n    import java.io.FileWriter;\n    import java.util.ArrayList;\n    import java.util.Arrays;\n    import java.util.Map.Entry;\n    import java.util.concurrent.ConcurrentHashMap;\n    \n    import helpers.JSONIOHelper;\n    \n    public class DescriptiveStatistics {\n    \n        private static void StartCreatingStatistics(String filePath) {\n            System.out.println(&quot;Loading file...&quot;);\n    \n            JSONIOHelper JSONIO = new JSONIOHelper(); // create an object of the JSONIOHelper class\n            JSONIO.LoadJSON(filePath); // call the LoadJSON method\n            ConcurrentHashMap&lt;String, String&gt; lemmas = JSONIO.GetLemmasFromJSONStructure();\n            \n    \n            lemmas.forEach((k, v) -&gt; System.out.printf(&quot;    %s%n&quot;, v));\n    \n            CountWordsInCorpus(lemmas); // call this method from the end of the StartCreatingStatistics()\n        }\n    \n        private static ConcurrentHashMap&lt;String, Integer&gt; CountWordsInCorpus(ConcurrentHashMap&lt;String, String&gt; lemmas) {\n    \n            // compile the words in the corpus into a list\n            ArrayList&lt;String&gt; corpus = new ArrayList&lt;String&gt;();\n            // store the words together with their frequencies\n            ConcurrentHashMap&lt;String, Integer&gt; counts = new ConcurrentHashMap&lt;String, Integer&gt;();\n        \n            for (Entry&lt;String, String&gt; entry : lemmas.entrySet()) {\n    \n                for (String word : entry.getValue().split(&quot; &quot;)) {\n    \n                    corpus.add(word);\n    \n                }\n            }\n\n   // getting words and their frequencies \n            for (String word : corpus) {\n                if (counts.containsKey(word)) {\n                    counts.put(word, counts.get(word) + 1);\n                } else {\n                    counts.put(word, 1);\n    \n                }\n            \n            }\n                                \n            return counts;\n        }\n    // writing into a csv file\n        private void OutputCountsAsCSV(ConcurrentHashMap&lt;String, Integer&gt; counts, String filename) {\n            String CSVOutput = new String(&quot;&quot;);\n    \n            for (Entry&lt;String, Integer&gt; entry : counts.entrySet()) {\n                String rowText = String.format(&quot;%s,%d\\n&quot;, entry.getKey(), entry.getValue());\n    \n                System.out.println(rowText);\n                CSVOutput += rowText;\n                System.out.println(CSVOutput);\n    \n                {\n                    try (FileWriter writer = new FileWriter(filename)) {\n                        writer.write(CSVOutput);\n                        System.out.println(&quot;CSV File saved successfully...&quot;);\n                    }\n    \n                    catch (Exception e)\n    \n                    {\n                        System.out.println(&quot;Saving CSV to file failed...&quot;);\n    \n                    }\n                }\n            }\n        }\n</code></pre>\n<p>I now want to call the OutputCountsAsCSV() method to pass the csv file name to it, say 'my_file.csv'.</p>\n<p>I am not sure how to do it in the main(String[] args) method.\nIt is easy to call StartCreatingStatistics(), for example, because there is only one argument, but OutputCountsAsCSV() has two arguments and I do not know how to pass ‘counts’ from ConcurrentHashMap&lt;String, Integer&gt; CountWordsInCorpus() to it as the first argument?</p>\n<pre><code>public static void main(String[] args) {\n    \n    String filePath = &quot;JSON_simple.json&quot;;       \n    DescriptiveStatistics newobj = new \nDescriptiveStatistics();\n    newobj.StartCreatingStatistics(filePath);\n    ...\n    // ConcurrentHashMap&lt;String, Integer&gt; newhashmap = \n//newobj.CountWordsInCorpus()\n    String filename = &quot;my_file.csv&quot;;      \n    OutputCountsAsCSV ( newhashmap, filename);\n}\n</code></pre>\n<p>So if I try 'ConcurrentHashMap&lt;String, Integer&gt; newhashmap = newobj.CountWordsInCorpus()'; it of course, gives an error  'the method CountWordsInCorpus(ConcurrentHashMap&lt;String, String&gt;)' in the type BDescriptiveStatistics is not applicable for the arguments()'.</p>\n<p>how can I do it please?</p>\n"},{"tags":["java","encryption","desktop-application","password-protection","universal-hashing"],"comments":[{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":1,"creation_date":1660077832,"post_id":73297889,"comment_id":129446862,"body_markdown":"There is no way to do that","body":"There is no way to do that"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1660077971,"post_id":73297889,"comment_id":129446894,"body_markdown":"Also &quot;hiding&quot; != &quot;encryption&quot;. This is basically [Security through Obscurity, and a well-known antipattern](https://pwning.owasp-juice.shop/part2/security-through-obscurity.html).","body":"Also &quot;hiding&quot; != &quot;encryption&quot;. This is basically <a href=\"https://pwning.owasp-juice.shop/part2/security-through-obscurity.html\" rel=\"nofollow noreferrer\">Security through Obscurity, and a well-known antipattern</a>."},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1660110076,"post_id":73297889,"comment_id":129452046,"body_markdown":"You can try storing the encrypted key in the database. If I understand the question correctly","body":"You can try storing the encrypted key in the database. If I understand the question correctly"}],"owner":{"account_id":9720574,"reputation":111,"user_id":7209444,"display_name":"satyam mishra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660077782,"creation_date":1660077782,"question_id":73297889,"body_markdown":"I have a desktop installable java application which uses some third party jars.These jars need secret key as license.I want third party license info hidden from user of my application.\r\nAlso we have the limitation that we cannot make network calls to validate license so it has to be stored and validated within the application.\r\nEncryption require key to be saved in file system hence it can be read by user.\r\nKeeping key in java files will also not help as classes can be decompiled and read.Do we have other ways to do it ?\r\n","title":"How to hide secret strings from application users in desktop installable application?","body":"<p>I have a desktop installable java application which uses some third party jars.These jars need secret key as license.I want third party license info hidden from user of my application.\nAlso we have the limitation that we cannot make network calls to validate license so it has to be stored and validated within the application.\nEncryption require key to be saved in file system hence it can be read by user.\nKeeping key in java files will also not help as classes can be decompiled and read.Do we have other ways to do it ?</p>\n"},{"tags":["java","spring","spring-batch","spring-batch-tasklet"],"comments":[{"owner":{"account_id":35665,"reputation":17726,"user_id":101095,"accept_rate":94,"display_name":"Cuga"},"score":0,"creation_date":1562352855,"post_id":56907588,"comment_id":100360639,"body_markdown":"The root cause is a null pointer exception on line 43 of DefaultLineMapper.java.  Which line is that exactly?","body":"The root cause is a null pointer exception on line 43 of DefaultLineMapper.java.  Which line is that exactly?"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653860745,"creation_date":1562534372,"answer_id":56926185,"question_id":56907588,"body_markdown":"You did not set a line tokenizer on your `LineMapper`. Here is how to add one:\r\n\r\n\t\treader.setLineMapper(new DefaultLineMapper&lt;String&gt;() {\r\n\t\t\t{\r\n\t\t\t\t//Setea los valores en la clase indicada\r\n\t\t\t\tsetFieldSetMapper(new FieldSetMapper&lt;String&gt;() {\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic String mapFieldSet(FieldSet fieldSet) throws BindException {\r\n\t\t\t\t\t\tString[] values = fieldSet.getValues();\r\n\t\t\t\t\t\treturn String.join(&quot;;&quot;, values);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetLineTokenizer(new DelimitedLineTokenizer(&quot;;&quot;));\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\nI would recommend using the `FlatFileItemReaderBuilder` which is more intuitive thanks to its fluent API. Here is an example:\r\n\r\n\t@Bean\r\n\tpublic FlatFileItemReader&lt;Pojo&gt; flatFileItemReader() {\r\n\t\treturn new FlatFileItemReaderBuilder&lt;Pojo&gt;()\r\n\t\t\t\t.name(&quot;itemReader&quot;)\r\n\t\t\t\t.resource(new FileSystemResource(&quot;/path/to/flat/file&quot;))\r\n\t\t\t\t.targetType(Pojo.class)\r\n\t\t\t\t.delimited()\r\n\t\t\t\t.delimiter(&quot;;&quot;)\r\n\t\t\t\t.names(&quot;column1&quot;, &quot;column2&quot;)\r\n\t\t\t\t.build();\r\n\t}\r\n","title":"Spring Batch ItemReader gets NullPointerException in first line","body":"<p>You did not set a line tokenizer on your <code>LineMapper</code>. Here is how to add one:</p>\n<pre><code>    reader.setLineMapper(new DefaultLineMapper&lt;String&gt;() {\n        {\n            //Setea los valores en la clase indicada\n            setFieldSetMapper(new FieldSetMapper&lt;String&gt;() {\n\n                @Override\n                public String mapFieldSet(FieldSet fieldSet) throws BindException {\n                    String[] values = fieldSet.getValues();\n                    return String.join(&quot;;&quot;, values);\n                }\n\n            });\n\n            setLineTokenizer(new DelimitedLineTokenizer(&quot;;&quot;));\n\n        }\n    });\n</code></pre>\n<p>I would recommend using the <code>FlatFileItemReaderBuilder</code> which is more intuitive thanks to its fluent API. Here is an example:</p>\n<pre><code>@Bean\npublic FlatFileItemReader&lt;Pojo&gt; flatFileItemReader() {\n    return new FlatFileItemReaderBuilder&lt;Pojo&gt;()\n            .name(&quot;itemReader&quot;)\n            .resource(new FileSystemResource(&quot;/path/to/flat/file&quot;))\n            .targetType(Pojo.class)\n            .delimited()\n            .delimiter(&quot;;&quot;)\n            .names(&quot;column1&quot;, &quot;column2&quot;)\n            .build();\n}\n</code></pre>\n"}],"owner":{"account_id":15279388,"reputation":107,"user_id":11024232,"display_name":"JuniorGuy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3701,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56926185,"answer_count":1,"score":0,"last_activity_date":1660076004,"creation_date":1562350079,"question_id":56907588,"body_markdown":"I have this problem with Spring batch when I try read my csv files.\r\n\r\nI have to read a **CSV** with a structure like this:\r\n\r\n    valueHeader;valueHeader;valueHeader;valueHeader;valueHeader;valueHeader\r\n    conventValue;conventValue;conventValue;conventValue;conventValue\r\n    conventValue;conventValue;conventValue;conventValue;conventValue\r\n    conventValue;conventValue;conventValue;conventValue;conventValue\r\n    valueFooter;valueFooter;valueFooter;valueFooter;valueFooter;valueFooter\r\n\r\nI have a **MultiResourceItemReader** that delegate on a **FlatFileItemReader** of type String, to make easy map this lines to my Custom DTO in a Custom Item Processor that is executed after. \r\n\r\nIn my Tasklet, I have injected my MultiResourceItemReader bean like this:\r\n\t\r\n\r\n    @Autowired\r\n        private MultiResourceItemReader&lt;String&gt; resourceItemReader;\r\n    \t\r\n\r\nThen I call it like this (set the resources and context):\r\n\r\n        resourceItemReader.setStrict(Boolean.FALSE);\r\n        resourceItemReader.setResources(resources);\r\n        resourceItemReader.open(context.getStepContext().getStepExecution().getExecutionContext());\r\n    \r\n        String currentContent = resourceItemReader.read();\r\n        while(currentContent != null) {\r\n            linesReaded.add(currentContent);\r\n            currentContent = resourceItemReader.read();\r\n        }\r\n    \r\n    But I am getting a **NullPointerException** in the first Line and I don&#39;t know why:\r\n    \r\n    20190705 19:53:30.041 INFO   com.mycomp.mycustomp.tasklet.MyCustomTasklet [[ # ]] - [MyCustomTasklet:EXECUTE]\r\n    20190705 19:53:41.560 ERROR  org.springframework.batch.core.step.AbstractStep [[ # ]] - Encountered an error executing step processRebateASLIStep in job MyProyectJob\r\n    org.springframework.batch.item.file.FlatFileParseException: Parsing error at line: 1 in resource=[file [C:\\Pruebas\\MyProyectJob\\destino\\MyFile-100-20151130143000-000001.csv]], input=[HEADER;PEP;FacteTRY;100; 20151130143000;000125;100000000000000000000000000000000025874]\r\n    \tat org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:183)\r\n    \tat org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.read(AbstractItemCountingItemStreamItemReader.java:88)\r\n    \tat org.springframework.batch.item.file.MultiResourceItemReader.readFromDelegate(MultiResourceItemReader.java:140)\r\n    \tat org.springframework.batch.item.file.MultiResourceItemReader.readNextItem(MultiResourceItemReader.java:119)\r\n    \tat org.springframework.batch.item.file.MultiResourceItemReader.read(MultiResourceItemReader.java:108)\r\n    ....\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\r\n    Caused by: java.lang.NullPointerException: null\r\n    \tat org.springframework.batch.item.file.mapping.DefaultLineMapper.mapLine(DefaultLineMapper.java:43)\r\n    \tat org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:180)\r\n    \t... 59 common frames omitted\r\nI will attach my readerItems beans too:\r\n    \t\r\n\r\n    @Bean\r\n            MultiResourceItemReader&lt;String&gt; resourceItemReader(FlatFileItemReader&lt;String&gt; flatFileItemReader){\r\n            \tMultiResourceItemReader&lt;String&gt; resourceItemReader = new MultiResourceItemReader&lt;&gt;();\r\n                resourceItemReader.setDelegate(flatFileItemReader);\r\n                resourceItemReader.setStrict(false);\r\n                return resourceItemReader;\r\n            }\r\n        \r\n        @Bean\r\n        FlatFileItemReader&lt;String&gt; flatFileItemReader() {\r\n        \r\n        \tFlatFileItemReader&lt;String&gt; reader = new FlatFileItemReader&lt;String&gt;();\r\n        \treader.setStrict(false);\r\n        \treader.setLineMapper(new DefaultLineMapper&lt;String&gt;() {\r\n            {\r\n                //Setea los valores en la clase indicada\r\n                setFieldSetMapper(new FieldSetMapper&lt;String&gt;() {\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic String mapFieldSet(FieldSet fieldSet) throws BindException {\r\n    \t\t\t\t\tString[] values = fieldSet.getValues();\r\n    \t\t\t\t\treturn String.join(&quot;;&quot;, values);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t});\r\n    \t            \r\n    \t        }\r\n    \t    });\r\n        \t\r\n        \treturn reader;\r\n        }\r\n\r\n","title":"Spring Batch ItemReader gets NullPointerException in first line","body":"<p>I have this problem with Spring batch when I try read my csv files.</p>\n\n<p>I have to read a <strong>CSV</strong> with a structure like this:</p>\n\n<pre><code>valueHeader;valueHeader;valueHeader;valueHeader;valueHeader;valueHeader\nconventValue;conventValue;conventValue;conventValue;conventValue\nconventValue;conventValue;conventValue;conventValue;conventValue\nconventValue;conventValue;conventValue;conventValue;conventValue\nvalueFooter;valueFooter;valueFooter;valueFooter;valueFooter;valueFooter\n</code></pre>\n\n<p>I have a <strong>MultiResourceItemReader</strong> that delegate on a <strong>FlatFileItemReader</strong> of type String, to make easy map this lines to my Custom DTO in a Custom Item Processor that is executed after. </p>\n\n<p>In my Tasklet, I have injected my MultiResourceItemReader bean like this:</p>\n\n<pre><code>@Autowired\n    private MultiResourceItemReader&lt;String&gt; resourceItemReader;\n</code></pre>\n\n<p>Then I call it like this (set the resources and context):</p>\n\n<pre><code>    resourceItemReader.setStrict(Boolean.FALSE);\n    resourceItemReader.setResources(resources);\n    resourceItemReader.open(context.getStepContext().getStepExecution().getExecutionContext());\n\n    String currentContent = resourceItemReader.read();\n    while(currentContent != null) {\n        linesReaded.add(currentContent);\n        currentContent = resourceItemReader.read();\n    }\n\nBut I am getting a **NullPointerException** in the first Line and I don't know why:\n\n20190705 19:53:30.041 INFO   com.mycomp.mycustomp.tasklet.MyCustomTasklet [[ # ]] - [MyCustomTasklet:EXECUTE]\n20190705 19:53:41.560 ERROR  org.springframework.batch.core.step.AbstractStep [[ # ]] - Encountered an error executing step processRebateASLIStep in job MyProyectJob\norg.springframework.batch.item.file.FlatFileParseException: Parsing error at line: 1 in resource=[file [C:\\Pruebas\\MyProyectJob\\destino\\MyFile-100-20151130143000-000001.csv]], input=[HEADER;PEP;FacteTRY;100; 20151130143000;000125;100000000000000000000000000000000025874]\n    at org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:183)\n    at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.read(AbstractItemCountingItemStreamItemReader.java:88)\n    at org.springframework.batch.item.file.MultiResourceItemReader.readFromDelegate(MultiResourceItemReader.java:140)\n    at org.springframework.batch.item.file.MultiResourceItemReader.readNextItem(MultiResourceItemReader.java:119)\n    at org.springframework.batch.item.file.MultiResourceItemReader.read(MultiResourceItemReader.java:108)\n....\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\nCaused by: java.lang.NullPointerException: null\n    at org.springframework.batch.item.file.mapping.DefaultLineMapper.mapLine(DefaultLineMapper.java:43)\n    at org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:180)\n    ... 59 common frames omitted\n</code></pre>\n\n<p>I will attach my readerItems beans too:</p>\n\n<pre><code>@Bean\n        MultiResourceItemReader&lt;String&gt; resourceItemReader(FlatFileItemReader&lt;String&gt; flatFileItemReader){\n            MultiResourceItemReader&lt;String&gt; resourceItemReader = new MultiResourceItemReader&lt;&gt;();\n            resourceItemReader.setDelegate(flatFileItemReader);\n            resourceItemReader.setStrict(false);\n            return resourceItemReader;\n        }\n\n    @Bean\n    FlatFileItemReader&lt;String&gt; flatFileItemReader() {\n\n        FlatFileItemReader&lt;String&gt; reader = new FlatFileItemReader&lt;String&gt;();\n        reader.setStrict(false);\n        reader.setLineMapper(new DefaultLineMapper&lt;String&gt;() {\n        {\n            //Setea los valores en la clase indicada\n            setFieldSetMapper(new FieldSetMapper&lt;String&gt;() {\n\n                @Override\n                public String mapFieldSet(FieldSet fieldSet) throws BindException {\n                    String[] values = fieldSet.getValues();\n                    return String.join(\";\", values);\n                }\n\n            });\n\n            }\n        });\n\n        return reader;\n    }\n</code></pre>\n"},{"tags":["java","utc","epoch","milliseconds","localdate"],"comments":[{"owner":{"account_id":22905554,"reputation":673,"user_id":17043683,"display_name":"MMZK1526"},"score":0,"creation_date":1660064094,"post_id":73295482,"comment_id":129442703,"body_markdown":"Doesn&#39;t LocalDate take the local timezone into account?","body":"Doesn&#39;t LocalDate take the local timezone into account?"},{"owner":{"account_id":12219796,"reputation":113,"user_id":8919169,"display_name":"Brice Harismendy"},"score":1,"creation_date":1660064220,"post_id":73295482,"comment_id":129442731,"body_markdown":"seems to have been answered here : https://stackoverflow.com/a/23945792/8919169","body":"seems to have been answered here : <a href=\"https://stackoverflow.com/a/23945792/8919169\">stackoverflow.com/a/23945792/8919169</a>"},{"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"score":0,"creation_date":1660064239,"post_id":73295482,"comment_id":129442738,"body_markdown":"@MMZK1526 I am not sure either :)","body":"@MMZK1526 I am not sure either :)"},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":2,"creation_date":1660064300,"post_id":73295482,"comment_id":129442759,"body_markdown":"@MMZK1526 `LocalDate` doesn&#39;t. Local just means it doesn&#39;t have a timezone part. However, `.atStartOfDay(ZoneId.systemDefault())` does take local timezone into account :)","body":"@MMZK1526 <code>LocalDate</code> doesn&#39;t. Local just means it doesn&#39;t have a timezone part. However, <code>.atStartOfDay(ZoneId.systemDefault())</code> does take local timezone into account :)"},{"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"score":0,"creation_date":1660064334,"post_id":73295482,"comment_id":129442775,"body_markdown":"@BriceHarismendy I need to parse date, not just the current date and I do not have time.","body":"@BriceHarismendy I need to parse date, not just the current date and I do not have time."},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1660064381,"post_id":73295482,"comment_id":129442788,"body_markdown":"@BitwiseDEVS What do you get if you print out the result after `.atStartOfDay(ZoneId.systemDefault())`? Also, what is your timezone?","body":"@BitwiseDEVS What do you get if you print out the result after <code>.atStartOfDay(ZoneId.systemDefault())</code>? Also, what is your timezone?"},{"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"score":0,"creation_date":1660064754,"post_id":73295482,"comment_id":129442908,"body_markdown":"@marstran How would I print `ZonedDateTime`? GMT+8 is the timezone","body":"@marstran How would I print <code>ZonedDateTime</code>? GMT+8 is the timezone"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1660065039,"post_id":73295482,"comment_id":129442977,"body_markdown":"In that case the result you get is exactly correct. It equals Sunday 31. July 2022 16:00:00 UTC, which in turn equals 1 August 00:00 at UTC offset +08:00.","body":"In that case the result you get is exactly correct. It equals Sunday 31. July 2022 16:00:00 UTC, which in turn equals 1 August 00:00 at UTC offset +08:00."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1660065279,"post_id":73295482,"comment_id":129443057,"body_markdown":"you want it &quot;in UTC&quot;, but is `ZoneId.systemDefault()` returning UTC ? maybe it should be `ZoneOffset.UTC` ? (I can&#39;t test without some additional effort since my system is set to UTC - I get the *correct* value for both)","body":"you want it &quot;in UTC&quot;, but is <code>ZoneId.systemDefault()</code> returning UTC ? maybe it should be <code>ZoneOffset.UTC</code> ? (I can&#39;t test without some additional effort since my system is set to UTC - I get the <i>correct</i> value for both)"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1660065343,"post_id":73295482,"comment_id":129443073,"body_markdown":"I&#39;ve confirmed that `.atStartOfDay(ZoneOffset.UTC)` gives the result you are expecting.","body":"I&#39;ve confirmed that <code>.atStartOfDay(ZoneOffset.UTC)</code> gives the result you are expecting."},{"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"score":0,"creation_date":1660066825,"post_id":73295482,"comment_id":129443561,"body_markdown":"@OleV.V. yes but there is a bit adjustment of 16:00:00 which is probably due to `ZoneId.systemDefault()` which uses the local zone?","body":"@OleV.V. yes but there is a bit adjustment of 16:00:00 which is probably due to <code>ZoneId.systemDefault()</code> which uses the local zone?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1660066941,"post_id":73295482,"comment_id":129443594,"body_markdown":"Yes, exactly right.","body":"Yes, exactly right."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660075923,"creation_date":1660066813,"answer_id":73296011,"question_id":73295482,"body_markdown":"Your code is correct, if you want a count of milliseconds since the epoch reference of first moment of 1970 as seen with an offset of zero hours-minutes-seconds from UTC, 1970-01-01T00:00Z.\r\n\r\nBy the way, no need to specify a formatting pattern. Your input text complies with the ISO 8601 standard used by default in the *java.time* classes for parsing/generating text.\r\n\r\n    long millis =\r\n        LocalDate\r\n        .parse(\r\n            &quot;2022-08-01&quot;\r\n        )\r\n        .atStartOfDay(\r\n            ZoneId.systemDefault()\r\n        )\r\n        .toInstant()\r\n        .toEpochMilli()\r\n    ;\r\n\r\n# Time Zone\r\n\r\nI imagine the problem with getting an unexpected result is the time zone. Your results will vary by time zone. \r\n\r\nUnderstand that **the day starts earlier in the east**. At any moment, it can be “tomorrow” in Tokyo Japan &#127471;&#127477; while still “yesterday” in Edmonton Alberta Canada &#127464;&#127462; .\r\n\r\n[![enter image description here][1]][1]\r\n\r\n(photo: [NASA][2])\r\n\r\n&#128073; To avoid surprises, specify your desired/expected time zone explicitly rather than relying on the JVM’s current default time zone. \r\n\r\n## Example\r\n\r\nSame date used in examples below, for two time zones and one offset.\r\n\r\n    String input = &quot;2022-08-01&quot; ;\r\n\r\n### Tokyo\r\n\r\n    ZoneId zoneIdTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n\r\n    long millisTokyo =\r\n        LocalDate\r\n        .parse(\r\n           input\r\n        )\r\n        .atStartOfDay(\r\n            zoneIdTokyo\r\n        )\r\n        .toInstant()\r\n        .toEpochMilli()\r\n    ;\r\n\r\n### Edmonton\r\n\r\n    ZoneId zoneIdEdmonton = ZoneId.of( &quot;America/Edmonton&quot; ) ;\r\n\r\n    long millisEdmonton =\r\n        LocalDate\r\n        .parse(\r\n           input\r\n        )\r\n        .atStartOfDay(\r\n            zoneIdEdmonton\r\n        )\r\n        .toInstant()\r\n        .toEpochMilli()\r\n    ;\r\n\r\n\r\n### UTC (offset of zero)\r\n\r\n    ZoneOffset offsetUtc = ZoneOffset.UTC ;\r\n\r\n    long millisUtc =\r\n        LocalDate\r\n        .parse(\r\n           input\r\n        )\r\n        .atStartOfDay(\r\n            offsetUtc\r\n        )\r\n        .toInstant()\r\n        .toEpochMilli()\r\n    ;\r\n\r\n\r\n\r\nDump to console.\r\n\r\n    System.out.println( &quot;Tokyo: &quot; + millisTokyo ) ;\r\n    System.out.println( &quot;Edmonton: &quot; + millisEdmonton ) ;\r\n    System.out.println( &quot;UTC: &quot; + millisUtc ) ;\r\n\r\n\r\nSee this code run live at Ideone.com.\r\n\r\n&gt;Tokyo: 1659279600000\r\n&gt;\r\n&gt;Edmonton: 1659333600000\r\n&gt;\r\n&gt;UTC: 1659312000000\r\n\r\n# Interval\r\n\r\nYou said:\r\n\r\n&gt;The input date String should represent the current date and past 30 days which should be based on user&#39;s timezone. Example is 2022-07-08 to 2022-08-08\r\n\r\nI suggest adding the [*ThreeTen-Extra*][3] library to your project. Doing so gives you access to the [`Interval`][4] class to represent a span of time as a pair of `Instant` objects.\r\n\r\n    Interval intervalOfPrior30DaysInUtc ( LocalDate end ) {\r\n        return \r\n            Interval\r\n            .of(\r\n                end.minusDays( 30 ).atStartOfDay( ZoneOffset.UTC ).toInstant() ,\r\n                end.atStartOfDay( ZoneOffset.UTC ).toInstant() \r\n            )\r\n        ;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yN9En.jpg\r\n  [2]: https://commons.m.wikimedia.org/wiki/File:First_Picture_of_the_Earth_and_Moon_in_a_Single_Frame_-_GPN-2002-000202.jpg\r\n  [3]: https://www.threeten.org/threeten-extra/\r\n  [4]: https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html","title":"How to convert Java LocalDate to milliseconds","body":"<p>Your code is correct, if you want a count of milliseconds since the epoch reference of first moment of 1970 as seen with an offset of zero hours-minutes-seconds from UTC, 1970-01-01T00:00Z.</p>\n<p>By the way, no need to specify a formatting pattern. Your input text complies with the ISO 8601 standard used by default in the <em>java.time</em> classes for parsing/generating text.</p>\n<pre><code>long millis =\n    LocalDate\n    .parse(\n        &quot;2022-08-01&quot;\n    )\n    .atStartOfDay(\n        ZoneId.systemDefault()\n    )\n    .toInstant()\n    .toEpochMilli()\n;\n</code></pre>\n<h1>Time Zone</h1>\n<p>I imagine the problem with getting an unexpected result is the time zone. Your results will vary by time zone.</p>\n<p>Understand that <strong>the day starts earlier in the east</strong>. At any moment, it can be “tomorrow” in Tokyo Japan 🇯🇵 while still “yesterday” in Edmonton Alberta Canada 🇨🇦 .</p>\n<p><a href=\"https://i.stack.imgur.com/yN9En.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yN9En.jpg\" alt=\"enter image description here\" /></a></p>\n<p>(photo: <a href=\"https://commons.m.wikimedia.org/wiki/File:First_Picture_of_the_Earth_and_Moon_in_a_Single_Frame_-_GPN-2002-000202.jpg\" rel=\"nofollow noreferrer\">NASA</a>)</p>\n<p>👉 To avoid surprises, specify your desired/expected time zone explicitly rather than relying on the JVM’s current default time zone.</p>\n<h2>Example</h2>\n<p>Same date used in examples below, for two time zones and one offset.</p>\n<pre><code>String input = &quot;2022-08-01&quot; ;\n</code></pre>\n<h3>Tokyo</h3>\n<pre><code>ZoneId zoneIdTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\n\nlong millisTokyo =\n    LocalDate\n    .parse(\n       input\n    )\n    .atStartOfDay(\n        zoneIdTokyo\n    )\n    .toInstant()\n    .toEpochMilli()\n;\n</code></pre>\n<h3>Edmonton</h3>\n<pre><code>ZoneId zoneIdEdmonton = ZoneId.of( &quot;America/Edmonton&quot; ) ;\n\nlong millisEdmonton =\n    LocalDate\n    .parse(\n       input\n    )\n    .atStartOfDay(\n        zoneIdEdmonton\n    )\n    .toInstant()\n    .toEpochMilli()\n;\n</code></pre>\n<h3>UTC (offset of zero)</h3>\n<pre><code>ZoneOffset offsetUtc = ZoneOffset.UTC ;\n\nlong millisUtc =\n    LocalDate\n    .parse(\n       input\n    )\n    .atStartOfDay(\n        offsetUtc\n    )\n    .toInstant()\n    .toEpochMilli()\n;\n</code></pre>\n<p>Dump to console.</p>\n<pre><code>System.out.println( &quot;Tokyo: &quot; + millisTokyo ) ;\nSystem.out.println( &quot;Edmonton: &quot; + millisEdmonton ) ;\nSystem.out.println( &quot;UTC: &quot; + millisUtc ) ;\n</code></pre>\n<p>See this code run live at Ideone.com.</p>\n<blockquote>\n<p>Tokyo: 1659279600000</p>\n<p>Edmonton: 1659333600000</p>\n<p>UTC: 1659312000000</p>\n</blockquote>\n<h1>Interval</h1>\n<p>You said:</p>\n<blockquote>\n<p>The input date String should represent the current date and past 30 days which should be based on user's timezone. Example is 2022-07-08 to 2022-08-08</p>\n</blockquote>\n<p>I suggest adding the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a> library to your project. Doing so gives you access to the <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a> class to represent a span of time as a pair of <code>Instant</code> objects.</p>\n<pre><code>Interval intervalOfPrior30DaysInUtc ( LocalDate end ) {\n    return \n        Interval\n        .of(\n            end.minusDays( 30 ).atStartOfDay( ZoneOffset.UTC ).toInstant() ,\n            end.atStartOfDay( ZoneOffset.UTC ).toInstant() \n        )\n    ;\n}\n</code></pre>\n"}],"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1444,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1660075923,"creation_date":1660063979,"question_id":73295482,"body_markdown":"I am trying to convert a date formatted in `yyyy-mm-dd` to `LocalDate` to milliseconds with this code.\r\n\r\n    LocalDate.parse(&quot;2022-08-01&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;))\r\n                .atStartOfDay(ZoneId.systemDefault()).toInstant().toEpochMilli()\r\n\r\nIt returns `1659283200000` which is not correct and behind 1 day. Is there better solution for this? The expected value is `1659312000000` in UTC.","title":"How to convert Java LocalDate to milliseconds","body":"<p>I am trying to convert a date formatted in <code>yyyy-mm-dd</code> to <code>LocalDate</code> to milliseconds with this code.</p>\n<pre><code>LocalDate.parse(&quot;2022-08-01&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;))\n            .atStartOfDay(ZoneId.systemDefault()).toInstant().toEpochMilli()\n</code></pre>\n<p>It returns <code>1659283200000</code> which is not correct and behind 1 day. Is there better solution for this? The expected value is <code>1659312000000</code> in UTC.</p>\n"},{"tags":["java","maven","flyway"],"answers":[{"tags":[],"owner":{"account_id":1248144,"reputation":4402,"user_id":1209159,"accept_rate":36,"display_name":"Natalia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660075696,"creation_date":1660075696,"answer_id":73297523,"question_id":73296166,"body_markdown":"[![your repo][1]][1]\r\nplease take a look: your folder is called db.migration while it should be 2 nested folders db / migration\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8vRtD.png","title":"Flyway throws exception in java EE application","body":"<p><a href=\"https://i.stack.imgur.com/8vRtD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8vRtD.png\" alt=\"your repo\" /></a>\nplease take a look: your folder is called db.migration while it should be 2 nested folders db / migration</p>\n"}],"owner":{"account_id":24706020,"reputation":31,"user_id":18596831,"display_name":"Matvey Androsyuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660075696,"creation_date":1660067569,"question_id":73296166,"body_markdown":"I decided to add in my application on JavaEE without frameworks Flyway support. I have configurated all in pom.xml, connections presents, but there is one problem - I get log from flyway that it can&#39;t find path to migrations.\r\n```\r\n09-Aug-2022 16:19:22.403 WARNING [RMI TCP Connection(3)-127.0.0.1] com.googlecode.flyway.core.migration.sql.SqlMigrationResolver.resolveMigrations Unable to find path for sql migrations: db/migration\r\n```\r\n\r\npom.xml file:\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.googlecode.flyway&lt;/groupId&gt;\r\n      &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n      &lt;version&gt;1.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n```\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;com.googlecode.flyway&lt;/groupId&gt;\r\n          &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;1.5&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;user&gt;user228&lt;/user&gt;\r\n            &lt;password&gt;user228&lt;/password&gt;\r\n            &lt;driver&gt;com.mysql.jdbc.Driver&lt;/driver&gt;\r\n            &lt;url&gt;jdbc:mysql://localhost:3306/javaee_task_db?autoReconnect=true&amp;amp;useUnicode=true&amp;amp;characterEncoding=UTF-8&amp;amp;connectionCollation=utf8_general_ci&amp;amp;characterSetResults=UTF-8&lt;/url&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n```\r\n\r\nIt&#39;s my project structure:\r\n\r\n[enter image description here][1]\r\n\r\n\r\nWho faced with Flyway in javaEE project, help me please, what i have to fix?! I add project&#39;s github link - https://github.com/MatveyAndrosyukk/javaee_rest_jdbc_todo_list.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IGLMo.png","title":"Flyway throws exception in java EE application","body":"<p>I decided to add in my application on JavaEE without frameworks Flyway support. I have configurated all in pom.xml, connections presents, but there is one problem - I get log from flyway that it can't find path to migrations.</p>\n<pre><code>09-Aug-2022 16:19:22.403 WARNING [RMI TCP Connection(3)-127.0.0.1] com.googlecode.flyway.core.migration.sql.SqlMigrationResolver.resolveMigrations Unable to find path for sql migrations: db/migration\n</code></pre>\n<p>pom.xml file:</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.googlecode.flyway&lt;/groupId&gt;\n      &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n      &lt;version&gt;1.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<pre><code>        &lt;plugin&gt;\n          &lt;groupId&gt;com.googlecode.flyway&lt;/groupId&gt;\n          &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;1.5&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;user&gt;user228&lt;/user&gt;\n            &lt;password&gt;user228&lt;/password&gt;\n            &lt;driver&gt;com.mysql.jdbc.Driver&lt;/driver&gt;\n            &lt;url&gt;jdbc:mysql://localhost:3306/javaee_task_db?autoReconnect=true&amp;amp;useUnicode=true&amp;amp;characterEncoding=UTF-8&amp;amp;connectionCollation=utf8_general_ci&amp;amp;characterSetResults=UTF-8&lt;/url&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>It's my project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/IGLMo.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Who faced with Flyway in javaEE project, help me please, what i have to fix?! I add project's github link - <a href=\"https://github.com/MatveyAndrosyukk/javaee_rest_jdbc_todo_list\" rel=\"nofollow noreferrer\">https://github.com/MatveyAndrosyukk/javaee_rest_jdbc_todo_list</a>.</p>\n"},{"tags":["java","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1660074108,"post_id":73297257,"comment_id":129445815,"body_markdown":"note that `new ArrayList&lt;&gt;(foo)` creates a copy of `foo`, not a list with `foo` in it. Such a list would be a `List&lt;List&lt;String&gt;&gt;`, not a `List&lt;String&gt;`.","body":"note that <code>new ArrayList&lt;&gt;(foo)</code> creates a copy of <code>foo</code>, not a list with <code>foo</code> in it. Such a list would be a <code>List&lt;List&lt;String&gt;&gt;</code>, not a <code>List&lt;String&gt;</code>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1660074133,"post_id":73297257,"comment_id":129445822,"body_markdown":"This has nothing to do with IntelliJ thinking that something is null.","body":"This has nothing to do with IntelliJ thinking that something is null."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1660087948,"post_id":73297257,"comment_id":129448993,"body_markdown":"In your own words, where the code says `bar.remove(foo);`, **exactly what do you expect that to do**? Why? You have one list of strings named `foo`, and one list of strings named `bar`. The `.remove` method is used to remove an element, right? What does an element of a &quot;list of strings&quot; look like? Is it a list of strings? Or is it... a string?","body":"In your own words, where the code says <code>bar.remove(foo);</code>, <b>exactly what do you expect that to do</b>? Why? You have one list of strings named <code>foo</code>, and one list of strings named <code>bar</code>. The <code>.remove</code> method is used to remove an element, right? What does an element of a &quot;list of strings&quot; look like? Is it a list of strings? Or is it... a string?"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1660074769,"creation_date":1660074314,"answer_id":73297302,"question_id":73297257,"body_markdown":"```\r\nList&lt;String&gt; foo = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\nList&lt;String&gt; bar = new ArrayList&lt;&gt;(foo);\r\n\r\n// bar.remove(foo); This is the same thing as:\r\nbar.remove(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); // still makes no sense.\r\n\r\n// What would make sense:\r\nbar.remove(&quot;a&quot;); // remove the element &quot;a&quot;\r\nbar.removeAll(foo); // remove all the elements in foo\r\n```\r\n\r\nIn short, in a `List&lt;String&gt;`, you&#39;re usually going to be calling `remove(String)` or `removeAll(Collection&lt;String&gt;)`, not `remove(List&lt;String&gt;)`, which won&#39;t really do what you want.","title":"Intellij: Warning: &#39;List&lt;String&gt;&#39; may not contain objects of type &#39;List&lt;String&gt;&#39; (Suspicious collections method calls)","body":"<pre><code>List&lt;String&gt; foo = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\nList&lt;String&gt; bar = new ArrayList&lt;&gt;(foo);\n\n// bar.remove(foo); This is the same thing as:\nbar.remove(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); // still makes no sense.\n\n// What would make sense:\nbar.remove(&quot;a&quot;); // remove the element &quot;a&quot;\nbar.removeAll(foo); // remove all the elements in foo\n</code></pre>\n<p>In short, in a <code>List&lt;String&gt;</code>, you're usually going to be calling <code>remove(String)</code> or <code>removeAll(Collection&lt;String&gt;)</code>, not <code>remove(List&lt;String&gt;)</code>, which won't really do what you want.</p>\n"},{"tags":[],"owner":{"account_id":362736,"reputation":46,"user_id":3768771,"display_name":"user3768771"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660075649,"creation_date":1660075649,"answer_id":73297510,"question_id":73297257,"body_markdown":"    List&lt;String&gt; bar = new ArrayList&lt;&gt;(foo);\r\n\r\nconstructs a list containing the elements of foo, not foo itself,","title":"Intellij: Warning: &#39;List&lt;String&gt;&#39; may not contain objects of type &#39;List&lt;String&gt;&#39; (Suspicious collections method calls)","body":"<pre><code>List&lt;String&gt; bar = new ArrayList&lt;&gt;(foo);\n</code></pre>\n<p>constructs a list containing the elements of foo, not foo itself,</p>\n"}],"owner":{"account_id":4724325,"reputation":2979,"user_id":3821425,"accept_rate":56,"display_name":"nanotek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1608,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73297302,"answer_count":2,"score":0,"last_activity_date":1660075649,"creation_date":1660073992,"question_id":73297257,"body_markdown":"Below is a code snippet where intellij is throwing a `Suspicious collections method calls` warning, but I don&#39;t understand why. The only thing I can think of is that maybe intellij thinks one of the lists could be null, but that also throws the same error.\r\n\r\nIs this an Intellij bug, or is there really some corner case that I&#39;m not thinking of?\r\n\r\n```java\r\npublic class Foo {\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; foo = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n        List&lt;String&gt; bar = new ArrayList&lt;&gt;(foo);\r\n        bar.remove(foo); // Warning: &#39;List&lt;String&gt;&#39; may not contain objects of type &#39;List&lt;String&gt;&#39;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n\r\npublic class Foo {\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; foo = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n        List&lt;String&gt; bar = new ArrayList&lt;&gt;(foo);\r\n        if (foo != null &amp;&amp; bar !=null) {\r\n            bar.remove(foo); // Warning: &#39;List&lt;String&gt;&#39; may not contain objects of type &#39;List&lt;String&gt;&#39;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIntellij version 2022.1.4 Ultimate","title":"Intellij: Warning: &#39;List&lt;String&gt;&#39; may not contain objects of type &#39;List&lt;String&gt;&#39; (Suspicious collections method calls)","body":"<p>Below is a code snippet where intellij is throwing a <code>Suspicious collections method calls</code> warning, but I don't understand why. The only thing I can think of is that maybe intellij thinks one of the lists could be null, but that also throws the same error.</p>\n<p>Is this an Intellij bug, or is there really some corner case that I'm not thinking of?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n    public static void main(String[] args) {\n        List&lt;String&gt; foo = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n        List&lt;String&gt; bar = new ArrayList&lt;&gt;(foo);\n        bar.remove(foo); // Warning: 'List&lt;String&gt;' may not contain objects of type 'List&lt;String&gt;'\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class Foo {\n    public static void main(String[] args) {\n        List&lt;String&gt; foo = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n        List&lt;String&gt; bar = new ArrayList&lt;&gt;(foo);\n        if (foo != null &amp;&amp; bar !=null) {\n            bar.remove(foo); // Warning: 'List&lt;String&gt;' may not contain objects of type 'List&lt;String&gt;'\n        }\n    }\n}\n</code></pre>\n<p>Intellij version 2022.1.4 Ultimate</p>\n"},{"tags":["java","time","elapsed"],"answers":[{"tags":[],"owner":{"account_id":1248144,"reputation":4402,"user_id":1209159,"accept_rate":36,"display_name":"Natalia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660075551,"creation_date":1660075551,"answer_id":73297493,"question_id":73297287,"body_markdown":"just some hints:\r\n* you need to have 2 separate threads: one for main logic and one for checking the progress\r\n* the thread that checks the progress should be able to know if the main thread has finished or not (the simplest solution volatile boolean flag)\r\n* the thread that checks the progress can be invoked by timer with some period ","title":"How to capture elapsed time of a running java process to raise intermediate alerts","body":"<p>just some hints:</p>\n<ul>\n<li>you need to have 2 separate threads: one for main logic and one for checking the progress</li>\n<li>the thread that checks the progress should be able to know if the main thread has finished or not (the simplest solution volatile boolean flag)</li>\n<li>the thread that checks the progress can be invoked by timer with some period</li>\n</ul>\n"}],"owner":{"account_id":5461292,"reputation":1,"user_id":4343329,"display_name":"Vinay Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660075551,"creation_date":1660074206,"question_id":73297287,"body_markdown":"I have a java process which could either complete sooner or take longer time based on the volume of data its processing. However I need a way to capture the elapsed time after certain time continuously and need to log an alert message concurrently without interrupting the main process. I have explored Future option with ExecutorService but it would terminate the process after the set timeout and raises Timeout exception. Please suggest if you have any solution to achieve this requirement.","title":"How to capture elapsed time of a running java process to raise intermediate alerts","body":"<p>I have a java process which could either complete sooner or take longer time based on the volume of data its processing. However I need a way to capture the elapsed time after certain time continuously and need to log an alert message concurrently without interrupting the main process. I have explored Future option with ExecutorService but it would terminate the process after the set timeout and raises Timeout exception. Please suggest if you have any solution to achieve this requirement.</p>\n"},{"tags":["java","palindrome"],"comments":[{"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"score":1,"creation_date":1660056455,"post_id":73293715,"comment_id":129439652,"body_markdown":"What is your question? What shall we comment here?","body":"What is your question? What shall we comment here?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1660056698,"post_id":73293715,"comment_id":129439763,"body_markdown":"[What is a StringIndexOutOfBoundsException? How can I fix it?](https://stackoverflow.com/q/40006317/12567365)","body":"<a href=\"https://stackoverflow.com/q/40006317/12567365\">What is a StringIndexOutOfBoundsException? How can I fix it?</a>"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1660056763,"post_id":73293715,"comment_id":129439790,"body_markdown":"You are getting a string index out of bounds exception because you are indexing into a string and that index is out of bounds. I don&#39;t know how else you want that phrased. The error message literally gives you a line number *and* the index and length of the string.","body":"You are getting a string index out of bounds exception because you are indexing into a string and that index is out of bounds. I don&#39;t know how else you want that phrased. The error message literally gives you a line number <i>and</i> the index and length of the string."}],"answers":[{"tags":[],"owner":{"account_id":20158369,"reputation":27,"user_id":17059923,"display_name":"nnntm"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1660056967,"creation_date":1660056967,"answer_id":73293946,"question_id":73293715,"body_markdown":"String&#39;s `length()` function returns the &quot;real&quot; length of the string, so if you used six letters, it would return 6. However, in programming we start indexing at 0, that means the 6th letter of the word would be indexed as 5.\r\n\r\nWhen you call your `palindrome()` method with the value of 6 as the `end` parameter, you are telling the code to find the letter with the index of 6, which your string does not have, as the last letter would be indexed as 5 in your case.\r\n\r\nYou should use `line.length() - 1` when using indexes.\r\n\r\nRead more: https://stackoverflow.com/questions/22490854/java-lang-stringindexoutofboundsexception","title":"Palindrome &quot;java.lang.StringIndexOutOfBoundsException&quot;","body":"<p>String's <code>length()</code> function returns the &quot;real&quot; length of the string, so if you used six letters, it would return 6. However, in programming we start indexing at 0, that means the 6th letter of the word would be indexed as 5.</p>\n<p>When you call your <code>palindrome()</code> method with the value of 6 as the <code>end</code> parameter, you are telling the code to find the letter with the index of 6, which your string does not have, as the last letter would be indexed as 5 in your case.</p>\n<p>You should use <code>line.length() - 1</code> when using indexes.</p>\n<p>Read more: <a href=\"https://stackoverflow.com/questions/22490854/java-lang-stringindexoutofboundsexception\">java.lang.StringIndexOutOfBoundsException?</a></p>\n"},{"tags":[],"owner":{"account_id":341845,"reputation":19091,"user_id":672689,"accept_rate":82,"display_name":"Roee Gavirel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1660057299,"creation_date":1660057299,"answer_id":73294024,"question_id":73293715,"body_markdown":"You should use `int n = str.length() - 1;` which is how you get the last index.\r\n\r\nif `str.length()` is 6, the indexes are 0-5 not 1-6.\r\n","title":"Palindrome &quot;java.lang.StringIndexOutOfBoundsException&quot;","body":"<p>You should use <code>int n = str.length() - 1;</code> which is how you get the last index.</p>\n<p>if <code>str.length()</code> is 6, the indexes are 0-5 not 1-6.</p>\n"}],"owner":{"account_id":26019876,"reputation":63,"user_id":19727719,"display_name":"Raj"},"comment_count":3,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1660057365,"accepted_answer_id":73294024,"answer_count":2,"score":-3,"last_activity_date":1660075122,"creation_date":1660056014,"question_id":73293715,"body_markdown":"Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: Index 6 out of bounds for length 6\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\n    public class Main {\r\n        boolean palindrome(String str, int start, int end){\r\n            if(start &gt;= end)\r\n                return true;\r\n            return(str.charAt(start) == str.charAt(end)) &amp;&amp; palindrome(str, start+1, end-1);\r\n    }\r\n        public static void main(String[] args) {\r\n            String str = &quot;aabbaa&quot;;\r\n            int n = str.length();\r\n            System.out.println(palindrome(str, 0, n));\r\n        }\r\n    }\r\n\r\n```","title":"Palindrome &quot;java.lang.StringIndexOutOfBoundsException&quot;","body":"<p>Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: Index 6 out of bounds for length 6</p>\n<p>Process finished with exit code 1</p>\n<pre><code>\n    public class Main {\n        boolean palindrome(String str, int start, int end){\n            if(start &gt;= end)\n                return true;\n            return(str.charAt(start) == str.charAt(end)) &amp;&amp; palindrome(str, start+1, end-1);\n    }\n        public static void main(String[] args) {\n            String str = &quot;aabbaa&quot;;\n            int n = str.length();\n            System.out.println(palindrome(str, 0, n));\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","spring","rest","file","multipartfile"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1660080695,"post_id":73297408,"comment_id":129447588,"body_markdown":"Use `entry.getName()` instead of getFile.","body":"Use <code>entry.getName()</code> instead of getFile."},{"owner":{"account_id":2234633,"reputation":93,"user_id":1971376,"accept_rate":0,"display_name":"user1971376"},"score":0,"creation_date":1660084916,"post_id":73297408,"comment_id":129448387,"body_markdown":"Hi, thanks but doesnt `.getName()` return a String? How would I save that as a File and add it to `fileList`? Thanks","body":"Hi, thanks but doesnt <code>.getName()</code> return a String? How would I save that as a File and add it to <code>fileList</code>? Thanks"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1660136210,"post_id":73297408,"comment_id":129461080,"body_markdown":"You know that callers of your REST API who are running on other computers will not be able to read those files, right?  A `File` object is just a file path;  it does not contain the file contents.","body":"You know that callers of your REST API who are running on other computers will not be able to read those files, right?  A <code>File</code> object is just a file path;  it does not contain the file contents."}],"owner":{"account_id":2234633,"reputation":93,"user_id":1971376,"accept_rate":0,"display_name":"user1971376"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660074999,"creation_date":1660074999,"question_id":73297408,"body_markdown":"I want to extract all the files in my .tar.gz MultipartFile and add the files to a List&lt;File&gt;\r\n\r\n```\r\n@RequestMapping(value=&quot;/importFile&quot;, produces=&quot;application/json&quot;, method=RequestMethod.POST)\r\n\t@ResponseBody\r\n\tpublic ca.alea.cam.api.model.Response importFile(@RequestBody MultipartFile file) throws ContentRepositoryDaoException, Exception {\r\n\t\tList&lt;File&gt; fileList = new ArrayList&lt;File&gt;();\r\n\t\t\r\n\t\tInputStream in = file.getInputStream();\r\n\t\tGzipCompressorInputStream gzipIn = new GzipCompressorInputStream(in);\r\n\t\tTarArchiveInputStream tarIn = new TarArchiveInputStream(gzipIn);\r\n\t    TarArchiveEntry entry = tarIn.getNextTarEntry();\r\n\t    \r\n        while (entry != null) {\r\n            // untar and add each file in MultipartFile to fileList\r\n            // fileList.add()...\r\n            //fileList.add(entry.getFile()) -&gt; This returns a null, as expected from https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/archivers/tar/TarArchiveEntry.html#getFile--\r\n        }\r\n```\r\nThanks","title":"How to UnTar a .tar.gz MultipartFile send in a request and add the files to a List&lt;File&gt;","body":"<p>I want to extract all the files in my .tar.gz MultipartFile and add the files to a List</p>\n<pre><code>@RequestMapping(value=&quot;/importFile&quot;, produces=&quot;application/json&quot;, method=RequestMethod.POST)\n    @ResponseBody\n    public ca.alea.cam.api.model.Response importFile(@RequestBody MultipartFile file) throws ContentRepositoryDaoException, Exception {\n        List&lt;File&gt; fileList = new ArrayList&lt;File&gt;();\n        \n        InputStream in = file.getInputStream();\n        GzipCompressorInputStream gzipIn = new GzipCompressorInputStream(in);\n        TarArchiveInputStream tarIn = new TarArchiveInputStream(gzipIn);\n        TarArchiveEntry entry = tarIn.getNextTarEntry();\n        \n        while (entry != null) {\n            // untar and add each file in MultipartFile to fileList\n            // fileList.add()...\n            //fileList.add(entry.getFile()) -&gt; This returns a null, as expected from https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/archivers/tar/TarArchiveEntry.html#getFile--\n        }\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","algorithm","time-complexity"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1659965083,"post_id":73278540,"comment_id":129413408,"body_markdown":"How did you confirm it was an `O(n)` runtime / what makes you think it is? Without digging too far into analyzing it, my first reaction is that it isn&#39;t.","body":"How did you confirm it was an <code>O(n)</code> runtime / what makes you think it is? Without digging too far into analyzing it, my first reaction is that it isn&#39;t."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1659965150,"post_id":73278540,"comment_id":129413439,"body_markdown":"Can you explain the logic behind the `while` loop?","body":"Can you explain the logic behind the <code>while</code> loop?"},{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1659965913,"post_id":73278540,"comment_id":129413739,"body_markdown":"If I am right, firstSmallLeft would be `[-1,-1,1,1,1,-1]`.","body":"If I am right, firstSmallLeft would be <code>[-1,-1,1,1,1,-1]</code>."},{"owner":{"account_id":25291640,"reputation":23,"user_id":19117609,"display_name":"Ray Knight"},"score":0,"creation_date":1659966053,"post_id":73278540,"comment_id":129413814,"body_markdown":"@ScottHunter ,        using a simple example input [1, 10, 9, 5,3], the output would be [-1,0,0,0, x]. When we are at the index 4 (element 3), it looks back at index 3 which is element 5. We check the firstSmallLeft index of element 5 by checking firstSmallLeft[3] , which gives us 0. Then we skipped checking 5, 9, 10...., and jumped to element at index 0. array[0] = 1, 1 &lt; 3, we terminated the back scan process. The idea is that since 5 &gt; 3 , firstSmallLeft of element 5 is guaranteed to be larger than firstSmallLeft of 3. We can skip a bunch of unnecessary elements.","body":"@ScottHunter ,        using a simple example input [1, 10, 9, 5,3], the output would be [-1,0,0,0, x]. When we are at the index 4 (element 3), it looks back at index 3 which is element 5. We check the firstSmallLeft index of element 5 by checking firstSmallLeft[3] , which gives us 0. Then we skipped checking 5, 9, 10...., and jumped to element at index 0. array[0] = 1, 1 &lt; 3, we terminated the back scan process. The idea is that since 5 &gt; 3 , firstSmallLeft of element 5 is guaranteed to be larger than firstSmallLeft of 3. We can skip a bunch of unnecessary elements."},{"owner":{"account_id":25291640,"reputation":23,"user_id":19117609,"display_name":"Ray Knight"},"score":0,"creation_date":1659966115,"post_id":73278540,"comment_id":129413837,"body_markdown":"@YvesDaoust, the result should be the  FIRST element thats smaller than the current one when doing a back scan (from right to left).  so for index 3 , array[3] = 6, the first element smaller than 6 is 5 which is at index 2, so firstSmallLeft[3] should be 2 instead of 1.","body":"@YvesDaoust, the result should be the  FIRST element thats smaller than the current one when doing a back scan (from right to left).  so for index 3 , array[3] = 6, the first element smaller than 6 is 5 which is at index 2, so firstSmallLeft[3] should be 2 instead of 1."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1659966149,"post_id":73278540,"comment_id":129413845,"body_markdown":"Is there *ever* a circumstance where the body of the  `while` loop would be executed more than once?","body":"Is there <i>ever</i> a circumstance where the body of the  <code>while</code> loop would be executed more than once?"},{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1659966155,"post_id":73278540,"comment_id":129413848,"body_markdown":"Ok, I understand now.","body":"Ok, I understand now."},{"owner":{"account_id":25291640,"reputation":23,"user_id":19117609,"display_name":"Ray Knight"},"score":0,"creation_date":1659966381,"post_id":73278540,"comment_id":129413915,"body_markdown":"@ScottHunter , yes.   consider this one [1,5,10, 8, 3] , before the last element, the output firstSmallLeft would be [-1,0,1,1, X] . we are now checking index = 4, which is element 3, i = 4, cur = 3.   array[3] = 8 &gt; array[4] = 3, so we do a backscan. cur = firstSmallLeft[cur] = firstSmallLeft[3] = 1, thus cur = 1.  but array[1] = 5 still &gt; array[i] = 3, we enters the next execution. cur = firstSmallLeft[1] = 0, now we get 1, 1 &lt; 3. we stopped there. thus firstSmallLeft[4] = 0.","body":"@ScottHunter , yes.   consider this one [1,5,10, 8, 3] , before the last element, the output firstSmallLeft would be [-1,0,1,1, X] . we are now checking index = 4, which is element 3, i = 4, cur = 3.   array[3] = 8 &gt; array[4] = 3, so we do a backscan. cur = firstSmallLeft[cur] = firstSmallLeft[3] = 1, thus cur = 1.  but array[1] = 5 still &gt; array[i] = 3, we enters the next execution. cur = firstSmallLeft[1] = 0, now we get 1, 1 &lt; 3. we stopped there. thus firstSmallLeft[4] = 0."},{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1659969480,"post_id":73278540,"comment_id":129415172,"body_markdown":"@ScottHunter: with (2, 4, 3, 6, 5, 8, 7, 1), the number of executions (evaluations) of the while are 1, 1, 2, 1, 2, 1, 2, 5, for a total of 15.","body":"@ScottHunter: with (2, 4, 3, 6, 5, 8, 7, 1), the number of executions (evaluations) of the while are 1, 1, 2, 1, 2, 1, 2, 5, for a total of 15."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1660074856,"creation_date":1659965417,"answer_id":73278678,"question_id":73278540,"body_markdown":"An important insight is that the last entry in `firstSmallLeft` that received a value (at index `i-1`) represents the **top of a stack**, which is implemented as a linked list. An entry in `firstSmallLeft` represents an input value (as the index where it occurs is the index in the input `array`) and a link in the linked list (as its value is an index in `firstSmallLeft`). The bottom element in the stack has a null-link (-1).\r\n\r\nIn general not all elements in `firstSmallLeft` are in the represented stack, since some indices are skipped over. An example:\r\n\r\nLet&#39;s say that the top of the stack is at index 100 (when `i` is 101), and it has as value 40, and `firstSmallLeft[40]` is -1, then that means we have a stack with just two elements (`array[100]` and `array[40]`), and none of the other indices in `firstSmallLeft` are included in the current stack. Each one of those once *was* on the stack, but have since been popped of the stack.\r\n\r\nEvery time `cur = firstSmallLeft[cur];` is executed (in the inner loop), we actually pop an element of the stack (the linked list that starts at `cur` is one element shorter).\r\n\r\nAnd when we do `firstSmallLeft[i] = cur` we push `array[i]` on the stack, making a reference to the part of the stack we wanted to keep.\r\n\r\nNow this &quot;virtual&quot; stack is identified, we see the following:\r\n\r\nA value is pushed exactly **once** on the stack, and can only be popped **once** from the stack, after which it is never visited again.\r\n\r\nThe overhead of evaluating the `while` expression once more to find that we need to exit the loop, occurs as many times as the outer loop iterates (i.e. `n-1` times)\r\n\r\nTherefore the algorithm is O(n).","title":"Why is this the Time Complexity of this For Loop O(N)?","body":"<p>An important insight is that the last entry in <code>firstSmallLeft</code> that received a value (at index <code>i-1</code>) represents the <strong>top of a stack</strong>, which is implemented as a linked list. An entry in <code>firstSmallLeft</code> represents an input value (as the index where it occurs is the index in the input <code>array</code>) and a link in the linked list (as its value is an index in <code>firstSmallLeft</code>). The bottom element in the stack has a null-link (-1).</p>\n<p>In general not all elements in <code>firstSmallLeft</code> are in the represented stack, since some indices are skipped over. An example:</p>\n<p>Let's say that the top of the stack is at index 100 (when <code>i</code> is 101), and it has as value 40, and <code>firstSmallLeft[40]</code> is -1, then that means we have a stack with just two elements (<code>array[100]</code> and <code>array[40]</code>), and none of the other indices in <code>firstSmallLeft</code> are included in the current stack. Each one of those once <em>was</em> on the stack, but have since been popped of the stack.</p>\n<p>Every time <code>cur = firstSmallLeft[cur];</code> is executed (in the inner loop), we actually pop an element of the stack (the linked list that starts at <code>cur</code> is one element shorter).</p>\n<p>And when we do <code>firstSmallLeft[i] = cur</code> we push <code>array[i]</code> on the stack, making a reference to the part of the stack we wanted to keep.</p>\n<p>Now this &quot;virtual&quot; stack is identified, we see the following:</p>\n<p>A value is pushed exactly <strong>once</strong> on the stack, and can only be popped <strong>once</strong> from the stack, after which it is never visited again.</p>\n<p>The overhead of evaluating the <code>while</code> expression once more to find that we need to exit the loop, occurs as many times as the outer loop iterates (i.e. <code>n-1</code> times)</p>\n<p>Therefore the algorithm is O(n).</p>\n"},{"tags":[],"owner":{"account_id":235018,"reputation":364834,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659974652,"creation_date":1659974652,"answer_id":73280915,"question_id":73278540,"body_markdown":"You can imagine this algorithm as creating a collection of chains of elements. For each element in the array, following the chain backwards will take you to smaller and smaller values until you walk off the array.\r\n\r\nTo build the chain for the next element of the array, we start by looking at the chain of the element before us. We’ll then follow that chain for some number of steps, then form the chain for the new element by adding a link back to the place we stopped.\r\n\r\nThe key intuition here is that ***the length of the chains drops quickly and grows slowly***. More concretely, let C be the length of the chain that starts from the current element of the array. We begin with C = 0. At each step in the algorithm, we drop C by some amount, then increment C by at most one. This means that across all n iterations of the algorithm, C increases at most n times. Therefore, since C is never negative, C can decrease at most n times. And therefore the total work spent in the inner while loop decreasing C, across all iterations of the algorithm, is O(n).\r\n\r\n(If you’re familiar with amortized analyses and potential functions, you can also think of this as setting &amp;Phi; = C.)\r\n\r\nThis same sort of argument arises in a number of other algorithms, such as building a Cartesian tree with a stack and constructing the failure table in the Knuth-Morris-Pratt string matching algorithm.","title":"Why is this the Time Complexity of this For Loop O(N)?","body":"<p>You can imagine this algorithm as creating a collection of chains of elements. For each element in the array, following the chain backwards will take you to smaller and smaller values until you walk off the array.</p>\n<p>To build the chain for the next element of the array, we start by looking at the chain of the element before us. We’ll then follow that chain for some number of steps, then form the chain for the new element by adding a link back to the place we stopped.</p>\n<p>The key intuition here is that <em><strong>the length of the chains drops quickly and grows slowly</strong></em>. More concretely, let C be the length of the chain that starts from the current element of the array. We begin with C = 0. At each step in the algorithm, we drop C by some amount, then increment C by at most one. This means that across all n iterations of the algorithm, C increases at most n times. Therefore, since C is never negative, C can decrease at most n times. And therefore the total work spent in the inner while loop decreasing C, across all iterations of the algorithm, is O(n).</p>\n<p>(If you’re familiar with amortized analyses and potential functions, you can also think of this as setting Φ = C.)</p>\n<p>This same sort of argument arises in a number of other algorithms, such as building a Cartesian tree with a stack and constructing the failure table in the Knuth-Morris-Pratt string matching algorithm.</p>\n"}],"owner":{"account_id":25291640,"reputation":23,"user_id":19117609,"display_name":"Ray Knight"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73278678,"answer_count":2,"score":1,"last_activity_date":1660074856,"creation_date":1659964784,"question_id":73278540,"body_markdown":"Is there a way to understand why the time complexity of the following is O(N), either(or both) from intuition or by proof? \r\n\r\nWhat it does is basically that given the input of an integer `array`, we are creating the `firstSmallLeft` array of the same length where `firstSmallLeft[i]` = the first index where `array[index]` &lt; `array[i]` when doing the **back scan**. (i.e., for index i, it scans from i-1, ... , j until it finds the first smaller element such that array[j] &lt; array[i]) \r\n\r\n\r\nFor Example, if input = `[3,2,5,6,4,1]`.  \r\nfirstSmallLeft would be `[-1,-1,1,2,1,-1]`\r\n  \r\n  \r\n\r\n```\r\n//input int[] array\r\nint[] firstSmallLeft = new int[array.length];\r\nfirstSmallLeft[0] = -1;\r\nfor(int i = 1; i &lt; array.length; i ++){\r\n\tint cur = i -1;\r\n\twhile (cur &gt;=0 &amp;&amp; array[cur] &gt;= array[i]){\r\n\t\tcur = firstSmallLeft[cur];\r\n\t}\r\n\r\n\tfirstSmallLeft[i] = cur;\r\n}\r\n```","title":"Why is this the Time Complexity of this For Loop O(N)?","body":"<p>Is there a way to understand why the time complexity of the following is O(N), either(or both) from intuition or by proof?</p>\n<p>What it does is basically that given the input of an integer <code>array</code>, we are creating the <code>firstSmallLeft</code> array of the same length where <code>firstSmallLeft[i]</code> = the first index where <code>array[index]</code> &lt; <code>array[i]</code> when doing the <strong>back scan</strong>. (i.e., for index i, it scans from i-1, ... , j until it finds the first smaller element such that array[j] &lt; array[i])</p>\n<p>For Example, if input = <code>[3,2,5,6,4,1]</code>.<br />\nfirstSmallLeft would be <code>[-1,-1,1,2,1,-1]</code></p>\n<pre><code>//input int[] array\nint[] firstSmallLeft = new int[array.length];\nfirstSmallLeft[0] = -1;\nfor(int i = 1; i &lt; array.length; i ++){\n    int cur = i -1;\n    while (cur &gt;=0 &amp;&amp; array[cur] &gt;= array[i]){\n        cur = firstSmallLeft[cur];\n    }\n\n    firstSmallLeft[i] = cur;\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","ui-testing"],"comments":[{"owner":{"account_id":12340469,"reputation":82,"user_id":9003853,"display_name":"Bhala T R"},"score":0,"creation_date":1660226583,"post_id":73297361,"comment_id":129487023,"body_markdown":"Try to collect the webelements of the required page (expected) in the @ Before method and in the @ Test method, collect the webelements of the actual page and then compare it by storing the previously collected webelements in an object.","body":"Try to collect the webelements of the required page (expected) in the @ Before method and in the @ Test method, collect the webelements of the actual page and then compare it by storing the previously collected webelements in an object."},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1661166442,"post_id":73297361,"comment_id":129699109,"body_markdown":"Or just define expected elements&#39;s texts, locations, colors, sizes, etc. Than you can simply assert expected with current values.","body":"Or just define expected elements&#39;s texts, locations, colors, sizes, etc. Than you can simply assert expected with current values."}],"owner":{"account_id":24435699,"reputation":41,"user_id":18360012,"display_name":"dosu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660074704,"creation_date":1660074704,"question_id":73297361,"body_markdown":"I want to make a UI test using selenium.\r\nTest flow is after load the initial page, clicking the next page button, and going to the next page\r\n\r\nI have one page model that will follow the above test flow.(kinda like a dynamic page model, page elements will change when I am performing the test) And I want have another page model(expectedPage) that contains expected elements in the next page. (kinda like a static page model, page elements are the expected elements I want)\r\n\r\nThe previous page model will grab the web elements after we go to the next page.\r\nThe latter page model is expecting to contain the elements located in the next page.\r\nIn my test file, I will compare if the web elements in two models are the same\r\n\r\nI read the selenium guide, and found we can give the driver a URL directly so that we can go to whatever page we want. But my app is a single-page-application, so it looks like the URL way can&#39;t help me locate the next page (url always point to the initial page). If it&#39;s possible to go to the (expectedPage) page model without accessing the initial page?\r\n\r\n\r\n\r\n","title":"Selenium go to other page without accessing initial page","body":"<p>I want to make a UI test using selenium.\nTest flow is after load the initial page, clicking the next page button, and going to the next page</p>\n<p>I have one page model that will follow the above test flow.(kinda like a dynamic page model, page elements will change when I am performing the test) And I want have another page model(expectedPage) that contains expected elements in the next page. (kinda like a static page model, page elements are the expected elements I want)</p>\n<p>The previous page model will grab the web elements after we go to the next page.\nThe latter page model is expecting to contain the elements located in the next page.\nIn my test file, I will compare if the web elements in two models are the same</p>\n<p>I read the selenium guide, and found we can give the driver a URL directly so that we can go to whatever page we want. But my app is a single-page-application, so it looks like the URL way can't help me locate the next page (url always point to the initial page). If it's possible to go to the (expectedPage) page model without accessing the initial page?</p>\n"},{"tags":["java","unit-testing","spring-boot","spring-data-jpa","spring-boot-test"],"comments":[{"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"score":0,"creation_date":1568886559,"post_id":55729160,"comment_id":102420869,"body_markdown":"I am facing the same issue. Did you by any chance found a solution?","body":"I am facing the same issue. Did you by any chance found a solution?"},{"owner":{"account_id":12446766,"reputation":183,"user_id":9062751,"display_name":"MAREK"},"score":0,"creation_date":1568986861,"post_id":55729160,"comment_id":102461436,"body_markdown":"@PimHazebroek no, I only managed to do workaround by adding `org.junit.Before` in which I will clear database before each test manually. I&#39;m still using `@SpringBootTest`. As an alternative, I can suggest using `javax.validation.constraints.NotNull`. This way your could should be validated on java side not by DB. But of course, this depends on your needs.\n\n**EDIT**: You might also try experiment with `org.springframework.test.annotation.DirtiesContext` but this might significantly increase time of tests.","body":"@PimHazebroek no, I only managed to do workaround by adding <code>org.junit.Before</code> in which I will clear database before each test manually. I&#39;m still using <code>@SpringBootTest</code>. As an alternative, I can suggest using <code>javax.validation.constraints.NotNull</code>. This way your could should be validated on java side not by DB. But of course, this depends on your needs.  <b>EDIT</b>: You might also try experiment with <code>org.springframework.test.annotation.DirtiesContext</code> but this might significantly increase time of tests."},{"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"score":0,"creation_date":1569175955,"post_id":55729160,"comment_id":102502183,"body_markdown":"Ah too bad, thanks for letting me know though. I&#39;m also using @SpringBootTest instead. Don&#39;t want to reload the context unless there is absolutely no alternative. Although I&#39;m not sure how that would solve the issue with `@DataJpaTest`. Even with a single test it already fails. Pretty worthless annotation if you&#39;d ask me :-) but perhaps we just don&#39;t now how to use it properly ;-)","body":"Ah too bad, thanks for letting me know though. I&#39;m also using @SpringBootTest instead. Don&#39;t want to reload the context unless there is absolutely no alternative. Although I&#39;m not sure how that would solve the issue with <code>@DataJpaTest</code>. Even with a single test it already fails. Pretty worthless annotation if you&#39;d ask me :-) but perhaps we just don&#39;t now how to use it properly ;-)"},{"owner":{"account_id":12446766,"reputation":183,"user_id":9062751,"display_name":"MAREK"},"score":0,"creation_date":1569269765,"post_id":55729160,"comment_id":102534917,"body_markdown":"Well, I probably wasn&#39;t very clear. I meant that you might try to use `DirtiesContext` with `SpringBootTest`, so that you don&#39;t have to clear DB manually. If your tests don&#39;t take much time, this might be worth trying. [Doc](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/annotation/DirtiesContext.html) says: _Use this annotation if a test has modified the context — for example, ... modifying the state of an embedded database_","body":"Well, I probably wasn&#39;t very clear. I meant that you might try to use <code>DirtiesContext</code> with <code>SpringBootTest</code>, so that you don&#39;t have to clear DB manually. If your tests don&#39;t take much time, this might be worth trying. <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/annotation/DirtiesContext.html\" rel=\"nofollow noreferrer\">Doc</a> says: <i>Use this annotation if a test has modified the context — for example, ... modifying the state of an embedded database</i>"},{"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"score":0,"creation_date":1569305585,"post_id":55729160,"comment_id":102543161,"body_markdown":"Ah, now I get it. I just inject the repository and then clear the tables. Much faster than reloaded the context.","body":"Ah, now I get it. I just inject the repository and then clear the tables. Much faster than reloaded the context."}],"answers":[{"tags":[],"owner":{"account_id":11789481,"reputation":1,"user_id":13274970,"display_name":"krimou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660073528,"creation_date":1659710635,"answer_id":73251523,"question_id":55729160,"body_markdown":"This can be resolved by adding the line below to the test class\r\n\r\n    @org.springframework.transaction.annotation.Transactional(propagation = Propagation.NOT_SUPPORTED)","title":"@DataJpaTest does not recognize not null restrictions in embedded id","body":"<p>This can be resolved by adding the line below to the test class</p>\n<pre><code>@org.springframework.transaction.annotation.Transactional(propagation = Propagation.NOT_SUPPORTED)\n</code></pre>\n"}],"owner":{"account_id":12446766,"reputation":183,"user_id":9062751,"display_name":"MAREK"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1427,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1660073528,"creation_date":1555509212,"question_id":55729160,"body_markdown":"I&#39;m trying to setup my db unit tests using `@DataJpaTest` annotation to avoid loading full Spring application context. But it doesn&#39;t perform the same way like when I use `@SpringBootTest` + configured H2 database. When I use H2 database I receive proper exception when trying to save entity with null id.\r\n\r\n&gt; JdbcSQLIntegrityConstraintViolationException: NULL not allowed for column &quot;ID_PART_2&quot;\r\n\r\nBut when I use DB auto-configured with use of `@DataJpaTest` as stated [here](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test)\r\n\r\n&gt; By default, it configures an in-memory embedded database, scans for @Entity classes, and configures Spring Data JPA repositories\r\n\r\nThe repository allows to insert entities with null id.\r\n\r\nThe code for my entity is:\r\n\r\n    package com.mycompany.test.db;\r\n    \r\n    import lombok.Data;\r\n    \r\n    import javax.persistence.*;\r\n    import java.io.Serializable;\r\n    \r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;MY_TABLE&quot;, schema = &quot;MY_SCHEMA&quot;)\r\n    public class MyEntity {\r\n    \r\n        //Works fine when using @Id\r\n    //    @Id\r\n    //    @Column(name = &quot;ID&quot;, nullable = false)\r\n    //    private String id;\r\n    \r\n        @EmbeddedId\r\n        private MyId myId;\r\n    \r\n        @Data\r\n        @Embeddable\r\n        public static class MyId implements Serializable {\r\n    \r\n            //Single field reproduces the problem\r\n    //        @Column(name = &quot;ID_PART_1&quot;, nullable = false)\r\n    //        private String idPart1;\r\n            @Column(name = &quot;ID_PART_2&quot;, nullable = false)\r\n            private String idPart2;\r\n        }\r\n    }\r\n\r\nI&#39;m using basic CRUD repository `CrudRepository&lt;MyEntity, MyEntity.MyId&gt;`\r\n\r\nMy tests code looks like this:\r\n\r\n    package com.mycompany.test.db;\r\n    \r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest//works as expected\r\n    //@DataJpaTest//doesn&#39;t work\r\n    public class MyRepositoryTest {\r\n    \r\n        @Autowired\r\n        private MyRepository repository;\r\n    \r\n        private MyEntity.MyId createMyId(String part1, String part2){\r\n            MyEntity.MyId myId = new MyEntity.MyId();\r\n    //        myId.setIdPart1(part1);\r\n            myId.setIdPart2(part2);\r\n            return myId;\r\n        }\r\n    \r\n        @Test\r\n        public void testSaveAndRead(){\r\n            MyEntity entity = new MyEntity();\r\n            entity.setMyId(createMyId(&quot;part1&quot;, &quot;part2&quot;));\r\n    \r\n            repository.save(entity);\r\n            Assert.assertNotNull(repository.findById(createMyId(&quot;part1&quot;, &quot;part2&quot;)));\r\n        }\r\n    \r\n        @Test\r\n        public void testSaveWithNoPrimaryKeyFails(){\r\n            try{\r\n                MyEntity entity = new MyEntity();\r\n                entity.setMyId(createMyId(&quot;part1&quot;, null));\r\n                repository.save(entity);\r\n                Assert.fail();\r\n            }catch(Exception expected){\r\n                expected.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nI also tried to disable DB auto-configured with use of `@DataJpaTest` by adding `@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)` but it did not change anything.\r\n\r\n**NOTE**: Problem occurs only for embedded ids. For what I see in stacktraces, in case of `javax.persistence.Id` Spring JPA fails on validation before even trying to save such entity into database.\r\n\r\nWhy the behavior is different when using `@DataJpaTest` and `@SpringBootTest`? What database is used when using `@DataJpaTest`? I think problem would be solved if Spring would use H2 in both cases, but I don&#39;t know how to achieve this.\r\n","title":"@DataJpaTest does not recognize not null restrictions in embedded id","body":"<p>I'm trying to setup my db unit tests using <code>@DataJpaTest</code> annotation to avoid loading full Spring application context. But it doesn't perform the same way like when I use <code>@SpringBootTest</code> + configured H2 database. When I use H2 database I receive proper exception when trying to save entity with null id.</p>\n\n<blockquote>\n  <p>JdbcSQLIntegrityConstraintViolationException: NULL not allowed for column \"ID_PART_2\"</p>\n</blockquote>\n\n<p>But when I use DB auto-configured with use of <code>@DataJpaTest</code> as stated <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test\" rel=\"nofollow noreferrer\">here</a></p>\n\n<blockquote>\n  <p>By default, it configures an in-memory embedded database, scans for @Entity classes, and configures Spring Data JPA repositories</p>\n</blockquote>\n\n<p>The repository allows to insert entities with null id.</p>\n\n<p>The code for my entity is:</p>\n\n<pre><code>package com.mycompany.test.db;\n\nimport lombok.Data;\n\nimport javax.persistence.*;\nimport java.io.Serializable;\n\n@Data\n@Entity\n@Table(name = \"MY_TABLE\", schema = \"MY_SCHEMA\")\npublic class MyEntity {\n\n    //Works fine when using @Id\n//    @Id\n//    @Column(name = \"ID\", nullable = false)\n//    private String id;\n\n    @EmbeddedId\n    private MyId myId;\n\n    @Data\n    @Embeddable\n    public static class MyId implements Serializable {\n\n        //Single field reproduces the problem\n//        @Column(name = \"ID_PART_1\", nullable = false)\n//        private String idPart1;\n        @Column(name = \"ID_PART_2\", nullable = false)\n        private String idPart2;\n    }\n}\n</code></pre>\n\n<p>I'm using basic CRUD repository <code>CrudRepository&lt;MyEntity, MyEntity.MyId&gt;</code></p>\n\n<p>My tests code looks like this:</p>\n\n<pre><code>package com.mycompany.test.db;\n\nimport org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit4.SpringRunner;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest//works as expected\n//@DataJpaTest//doesn't work\npublic class MyRepositoryTest {\n\n    @Autowired\n    private MyRepository repository;\n\n    private MyEntity.MyId createMyId(String part1, String part2){\n        MyEntity.MyId myId = new MyEntity.MyId();\n//        myId.setIdPart1(part1);\n        myId.setIdPart2(part2);\n        return myId;\n    }\n\n    @Test\n    public void testSaveAndRead(){\n        MyEntity entity = new MyEntity();\n        entity.setMyId(createMyId(\"part1\", \"part2\"));\n\n        repository.save(entity);\n        Assert.assertNotNull(repository.findById(createMyId(\"part1\", \"part2\")));\n    }\n\n    @Test\n    public void testSaveWithNoPrimaryKeyFails(){\n        try{\n            MyEntity entity = new MyEntity();\n            entity.setMyId(createMyId(\"part1\", null));\n            repository.save(entity);\n            Assert.fail();\n        }catch(Exception expected){\n            expected.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>I also tried to disable DB auto-configured with use of <code>@DataJpaTest</code> by adding <code>@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)</code> but it did not change anything.</p>\n\n<p><strong>NOTE</strong>: Problem occurs only for embedded ids. For what I see in stacktraces, in case of <code>javax.persistence.Id</code> Spring JPA fails on validation before even trying to save such entity into database.</p>\n\n<p>Why the behavior is different when using <code>@DataJpaTest</code> and <code>@SpringBootTest</code>? What database is used when using <code>@DataJpaTest</code>? I think problem would be solved if Spring would use H2 in both cases, but I don't know how to achieve this.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1660076386,"post_id":73297156,"comment_id":129446441,"body_markdown":"Update the question with your text based code trials.","body":"Update the question with your text based code trials."},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1660110354,"post_id":73297156,"comment_id":129452108,"body_markdown":"Load the content of the page into a string and see if the required element is there.","body":"Load the content of the page into a string and see if the required element is there."},{"owner":{"account_id":12340469,"reputation":82,"user_id":9003853,"display_name":"Bhala T R"},"score":0,"creation_date":1660217719,"post_id":73297156,"comment_id":129483471,"body_markdown":"Either it could be one of the following, please try it out:\n1. different window - window handling - switchTo()\n2. iFrame\n3. try javascript for locating the webelements","body":"Either it could be one of the following, please try it out: 1. different window - window handling - switchTo() 2. iFrame 3. try javascript for locating the webelements"}],"owner":{"account_id":24371250,"reputation":1,"user_id":18304173,"display_name":"VGS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660073425,"creation_date":1660073425,"question_id":73297156,"body_markdown":"I have to find an element on the page by XPath.\r\nWhen i open the page directly (through chromeDriver.get(&quot;https://some source&quot;) - i can find all elements that i need. \r\n\r\nBut when i run auto-test and ask Selenium:\r\n 1. Open Browser (yandex.ru or any other)\r\n 2. Put keyWord on search field and click &quot;Search&quot;\r\n 3. Find header that has link to https://some source and click that\r\n 4. Find needed elements on page (on https://some source) &lt;br&gt;\r\n&lt;br&gt;\r\nI face a problem: needed elements not found (you cannot find any element on this page). \r\n\r\n*So, we have same web-page, we have same logic on that page (we are looking for webElements)*, **but result depends on way how we got on source**. If we go directly - everything is fine, if selenium find header and click that to get on the source - problem appears. \r\n\r\nyou can see video of problem: \r\n[enter link description here][1]\r\n\r\n\r\n  [1]: https://disk.yandex.ru/i/u9cexE_BIQQsMA","title":"Cannot find WebElement (Selenium, Java)","body":"<p>I have to find an element on the page by XPath.\nWhen i open the page directly (through chromeDriver.get(&quot;https://some source&quot;) - i can find all elements that i need.</p>\n<p>But when i run auto-test and ask Selenium:</p>\n<ol>\n<li>Open Browser (yandex.ru or any other)</li>\n<li>Put keyWord on search field and click &quot;Search&quot;</li>\n<li>Find header that has link to https://some source and click that</li>\n<li>Find needed elements on page (on https://some source) <br>\n<br>\nI face a problem: needed elements not found (you cannot find any element on this page).</li>\n</ol>\n<p><em>So, we have same web-page, we have same logic on that page (we are looking for webElements)</em>, <strong>but result depends on way how we got on source</strong>. If we go directly - everything is fine, if selenium find header and click that to get on the source - problem appears.</p>\n<p>you can see video of problem:\n<a href=\"https://disk.yandex.ru/i/u9cexE_BIQQsMA\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"score":0,"creation_date":1659797257,"post_id":73254705,"comment_id":129382799,"body_markdown":"By response you mean a REST Api response?","body":"By response you mean a REST Api response?"},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1659889544,"post_id":73254705,"comment_id":129397041,"body_markdown":"@Ausgefuchster yes a REST Api response is certainly acceptable.","body":"@Ausgefuchster yes a REST Api response is certainly acceptable."},{"owner":{"account_id":4737721,"reputation":651,"user_id":3831579,"accept_rate":35,"display_name":"Sagar Rout"},"score":0,"creation_date":1659990475,"post_id":73254705,"comment_id":129422658,"body_markdown":"In the interface you can create one default method with params and invoke the above method and implement logic there.","body":"In the interface you can create one default method with params and invoke the above method and implement logic there."},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1660050490,"post_id":73254705,"comment_id":129437032,"body_markdown":"@SagarRout, I appreciate response, but do not understand what you are suggesting (.e.g &quot;..and invoke the above method and implement logic there&quot;).","body":"@SagarRout, I appreciate response, but do not understand what you are suggesting (.e.g &quot;..and invoke the above method and implement logic there&quot;)."}],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659899296,"creation_date":1659899296,"answer_id":73270307,"question_id":73254705,"body_markdown":"Since the return value of this methods indicates the number of modified objects (in your can it can only be 0 or 1) I would just use it to translate it into a more understandable response. \r\n\r\nThe simplest case is a REST Api:\r\n\r\nWhen the Method returns 1 the POST/PUT/PATCH call was successful (if there was no other error) and you would return ``201 Created`` and maybe a little more like a Location header. \r\n\r\nAnd when it returns 0 it means no object got modified and because it&#39;s an insert this shouldn&#39;t happen and therefore you would return ``500 InternalServerError``\r\n\r\nBut I would say in your case this is redundant because as I said it&#39;s an insert , you only have those two return options and I guess if something doesn&#39;t work during the insert you already get an exception by spring boot and therefore when you called the method without getting an error I would say it was successful. \r\n\r\nBut ofcourse you can double check to be sure and maybe even use it for tests to enforce the expected behavior or something else.","title":"How to return useful information in JPA custom query whose return value is not 1?","body":"<p>Since the return value of this methods indicates the number of modified objects (in your can it can only be 0 or 1) I would just use it to translate it into a more understandable response.</p>\n<p>The simplest case is a REST Api:</p>\n<p>When the Method returns 1 the POST/PUT/PATCH call was successful (if there was no other error) and you would return <code>201 Created</code> and maybe a little more like a Location header.</p>\n<p>And when it returns 0 it means no object got modified and because it's an insert this shouldn't happen and therefore you would return <code>500 InternalServerError</code></p>\n<p>But I would say in your case this is redundant because as I said it's an insert , you only have those two return options and I guess if something doesn't work during the insert you already get an exception by spring boot and therefore when you called the method without getting an error I would say it was successful.</p>\n<p>But ofcourse you can double check to be sure and maybe even use it for tests to enforce the expected behavior or something else.</p>\n"},{"tags":[],"owner":{"account_id":4737721,"reputation":651,"user_id":3831579,"accept_rate":35,"display_name":"Sagar Rout"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1660073325,"creation_date":1660073325,"answer_id":73297138,"question_id":73254705,"body_markdown":"I would not recommend the approach of using return type as valid operation or not. I would prefer having database level constraint like unique constraint, check constraint or trigger check for insert/update/delete.\r\n\r\nNevertheless, we can use default method inside interface and throw database exception and in Spring you can configure ExceptionHandler to wrap the exception and return with some valid error code ?\r\n\r\n```\r\n    public interface MyRepo extends JpaRepository&lt;SMark, String&gt; {\r\n\r\n    @Transactional\r\n    @Modifying\r\n    @Query(value = &quot;INSERT INTO my_table(id, col_1, col_2) &quot; +\r\n            &quot;values(:col_1, :col_2))&quot;, nativeQuery = true)\r\n    int insertRecord(@Param(&quot;col_1&quot;) String col_1, @Param(&quot;col_2&quot;) String col_2);\r\n\r\n    default void insert(String col1, String col2) {\r\n        if (insertRecord(col1, col2) != 1) {\r\n            throw new DataIntegrityViolationException(&quot;Unable to perform DML operation.&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"How to return useful information in JPA custom query whose return value is not 1?","body":"<p>I would not recommend the approach of using return type as valid operation or not. I would prefer having database level constraint like unique constraint, check constraint or trigger check for insert/update/delete.</p>\n<p>Nevertheless, we can use default method inside interface and throw database exception and in Spring you can configure ExceptionHandler to wrap the exception and return with some valid error code ?</p>\n<pre><code>    public interface MyRepo extends JpaRepository&lt;SMark, String&gt; {\n\n    @Transactional\n    @Modifying\n    @Query(value = &quot;INSERT INTO my_table(id, col_1, col_2) &quot; +\n            &quot;values(:col_1, :col_2))&quot;, nativeQuery = true)\n    int insertRecord(@Param(&quot;col_1&quot;) String col_1, @Param(&quot;col_2&quot;) String col_2);\n\n    default void insert(String col1, String col2) {\n        if (insertRecord(col1, col2) != 1) {\n            throw new DataIntegrityViolationException(&quot;Unable to perform DML operation.&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73297138,"answer_count":2,"score":0,"last_activity_date":1660073325,"creation_date":1659729282,"question_id":73254705,"body_markdown":"I have several custom queries in an interface that extends JpaRepository. The interface is analogous to the below (note: the below is just for illustration, and may have errors, but don&#39;t concern yourself with that).\r\n\r\n    public interface MyRepo extends JpaRepository&lt;SMark, String&gt; {\r\n\r\n    @Transactional\r\n\t@Modifying\r\n\t@Query(value = &quot;INSERT INTO my_table(id, col_1, col_2) &quot; +\r\n\t\t\t&quot;values(:col_1, :col_2))&quot;, nativeQuery = true)\r\n\tint insertRecord(@Param(&quot;col_1&quot;) String col_1, @Param(&quot;col_2&quot;) String col_2);\r\n\r\nSo, my issue is that I am finding it difficult to do anything useful with the int return type for anything other than a successful query (which will return a 1). Is there a way to do anything useful with the return other than sending the value as part of the response? In other words, if the response is not a 1, and an exception is not thrown, can the non-1 response be translated into something more informative to the user? \r\n\r\nFor example, I am currently doing the following, which I would like to improve upon if I was a confident about the not-1 status:\r\n\r\n\r\n\r\n        if(status == 1) {\r\n            StatusResponse statusResponse = new StatusResponse(&quot;Successful Delete &quot;, null);\r\n            return new ResponseEntity&lt;&gt;(statusResponse, HttpStatus.OK);\r\n        }\r\n        else {\r\n            StatusResponse statusResponse = new StatusResponse(&quot;Delete not successful (lacking details from response)  &quot;, null);\r\n            return new ResponseEntity&lt;&gt;(statusResponse, HttpStatus.NOT_ACCEPTABLE);\r\n        }\r\nGrateful for any response. Thanks!","title":"How to return useful information in JPA custom query whose return value is not 1?","body":"<p>I have several custom queries in an interface that extends JpaRepository. The interface is analogous to the below (note: the below is just for illustration, and may have errors, but don't concern yourself with that).</p>\n<pre><code>public interface MyRepo extends JpaRepository&lt;SMark, String&gt; {\n\n@Transactional\n@Modifying\n@Query(value = &quot;INSERT INTO my_table(id, col_1, col_2) &quot; +\n        &quot;values(:col_1, :col_2))&quot;, nativeQuery = true)\nint insertRecord(@Param(&quot;col_1&quot;) String col_1, @Param(&quot;col_2&quot;) String col_2);\n</code></pre>\n<p>So, my issue is that I am finding it difficult to do anything useful with the int return type for anything other than a successful query (which will return a 1). Is there a way to do anything useful with the return other than sending the value as part of the response? In other words, if the response is not a 1, and an exception is not thrown, can the non-1 response be translated into something more informative to the user?</p>\n<p>For example, I am currently doing the following, which I would like to improve upon if I was a confident about the not-1 status:</p>\n<pre><code>    if(status == 1) {\n        StatusResponse statusResponse = new StatusResponse(&quot;Successful Delete &quot;, null);\n        return new ResponseEntity&lt;&gt;(statusResponse, HttpStatus.OK);\n    }\n    else {\n        StatusResponse statusResponse = new StatusResponse(&quot;Delete not successful (lacking details from response)  &quot;, null);\n        return new ResponseEntity&lt;&gt;(statusResponse, HttpStatus.NOT_ACCEPTABLE);\n    }\n</code></pre>\n<p>Grateful for any response. Thanks!</p>\n"},{"tags":["java","swing","netbeans","while-loop"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1558266253,"post_id":56207415,"comment_id":99036351,"body_markdown":"Don&#39;t [block the event dispatch thread](https://stackoverflow.com/search?tab=votes&amp;q=%5bswing%5d%20block%20event%20dispatch%20thread).","body":"Don&#39;t <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5bswing%5d%20block%20event%20dispatch%20thread\">block the event dispatch thread</a>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1558266735,"post_id":56207415,"comment_id":99036446,"body_markdown":"&quot;//If I put this println it works&quot; may suggests problem related to [Questions about thread+loop not working without print statement](https://meta.stackoverflow.com/q/269174)","body":"&quot;//If I put this println it works&quot; may suggests problem related to <a href=\"https://meta.stackoverflow.com/q/269174\">Questions about thread+loop not working without print statement</a>"}],"answers":[{"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1558266334,"creation_date":1558266334,"answer_id":56207457,"question_id":56207415,"body_markdown":"By default boolean variables of a Java Object in Java gets set to default value as `false`. Looking at your code `mapa.todasComidas()`, you never explicitly set the same.\r\n\r\nNow in your while loop, you are checking whether `todasComidas` method returns you `true` which won&#39;t be the case and hence never resets the same i.e. execute the inner statements of if condition. Your outer statement does gets executed and prints on console as its not guarded by any if conditions.","title":"Issue with a while-loop while executing it","body":"<p>By default boolean variables of a Java Object in Java gets set to default value as <code>false</code>. Looking at your code <code>mapa.todasComidas()</code>, you never explicitly set the same.</p>\n\n<p>Now in your while loop, you are checking whether <code>todasComidas</code> method returns you <code>true</code> which won't be the case and hence never resets the same i.e. execute the inner statements of if condition. Your outer statement does gets executed and prints on console as its not guarded by any if conditions.</p>\n"}],"owner":{"account_id":14665398,"reputation":5,"user_id":10591381,"display_name":"Emanuel Heged&#252;s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56207457,"answer_count":1,"score":0,"last_activity_date":1660072908,"creation_date":1558266013,"question_id":56207415,"body_markdown":"I have a program that implements a minigame with `swing`, and in the main class I have a loop which listens to a Boolean in the map of the game. The loop implemented with `while` does not execute an instruction if it is the only one and I don`t know why.\r\n\r\nI tried putting some other instructions to check if loop goes on, and it worked fine, but when I put only the `if` that I want it does not work.\r\n\r\n```\r\npublic class ejecutor extends JFrame{\r\nboolean ejecutando = true;\r\n    \r\n    public ejecutor(){\r\n        mapa mapa = new mapa(); //the map of my game\r\n        setSize(665,690);\r\n        add(mapa);\r\n        setResizable(false);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);\r\n        while(ejecutando){ \r\n            if(mapa.todasComidas()){\r\n            //wLabel();\r\n            ejecutando=false;\r\n            System.out.println(&quot;You finished!!&quot;);\r\n            }\r\n//If I put this println it works, if I only use the If, without any other instruction inside the while, it does not do anything at all\r\n            System.out.println(&quot;............&quot;);\r\n        }\r\n    }\r\n//I execute the constructor in the main...\r\n```","title":"Issue with a while-loop while executing it","body":"<p>I have a program that implements a minigame with <code>swing</code>, and in the main class I have a loop which listens to a Boolean in the map of the game. The loop implemented with <code>while</code> does not execute an instruction if it is the only one and I don`t know why.</p>\n<p>I tried putting some other instructions to check if loop goes on, and it worked fine, but when I put only the <code>if</code> that I want it does not work.</p>\n<pre><code>public class ejecutor extends JFrame{\nboolean ejecutando = true;\n    \n    public ejecutor(){\n        mapa mapa = new mapa(); //the map of my game\n        setSize(665,690);\n        add(mapa);\n        setResizable(false);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n        setVisible(true);\n        while(ejecutando){ \n            if(mapa.todasComidas()){\n            //wLabel();\n            ejecutando=false;\n            System.out.println(&quot;You finished!!&quot;);\n            }\n//If I put this println it works, if I only use the If, without any other instruction inside the while, it does not do anything at all\n            System.out.println(&quot;............&quot;);\n        }\n    }\n//I execute the constructor in the main...\n</code></pre>\n"},{"tags":["java","javafx","deployment","command-line"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1648610317,"post_id":71671046,"comment_id":126665605,"body_markdown":"Maven/Gradle *is* the “makefile” of the Java world. And both of those tools operate independently of the IDE.","body":"Maven/Gradle <i>is</i> the “makefile” of the Java world. And both of those tools operate independently of the IDE."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1648620071,"post_id":71671046,"comment_id":126667318,"body_markdown":"Use [warp](https://github.com/dgiagio/warp) to create your exe from a [jlink image](https://www.baeldung.com/jlink).  There is a demo in [How to create a standalone .exe in Java (that runs without an installer and a JRE)](https://stackoverflow.com/questions/69811401/how-to-create-a-standalone-exe-in-java-that-runs-without-an-installer-and-a-jr).  Replace the maven portions of that answer with whatever you want if you don&#39;t want to use maven.","body":"Use <a href=\"https://github.com/dgiagio/warp\" rel=\"nofollow noreferrer\">warp</a> to create your exe from a <a href=\"https://www.baeldung.com/jlink\" rel=\"nofollow noreferrer\">jlink image</a>.  There is a demo in <a href=\"https://stackoverflow.com/questions/69811401/how-to-create-a-standalone-exe-in-java-that-runs-without-an-installer-and-a-jr\">How to create a standalone .exe in Java (that runs without an installer and a JRE)</a>.  Replace the maven portions of that answer with whatever you want if you don&#39;t want to use maven."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1648621870,"post_id":71671046,"comment_id":126667801,"body_markdown":"I noted that you use some non-modular jars on the classpath, which won&#39;t work with jlink.  You can research methods to address that if you wish (which are pretty ugly and I don&#39;t have a specific recommendation for).","body":"I noted that you use some non-modular jars on the classpath, which won&#39;t work with jlink.  You can research methods to address that if you wish (which are pretty ugly and I don&#39;t have a specific recommendation for)."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":2,"creation_date":1648635442,"post_id":71671046,"comment_id":126672739,"body_markdown":"I am wondering whether it actually makes sense to help people making progress which are obviously on the wrong track anyway. They&#39;ll just have a longer way back.","body":"I am wondering whether it actually makes sense to help people making progress which are obviously on the wrong track anyway. They&#39;ll just have a longer way back."},{"owner":{"account_id":24710254,"reputation":68,"user_id":18600540,"display_name":"LucasJ"},"score":0,"creation_date":1648683526,"post_id":71671046,"comment_id":126689951,"body_markdown":"@BasilBourque yeah I know, I just wanted to stick with the good old make because I&#39;m a C programmer...","body":"@BasilBourque yeah I know, I just wanted to stick with the good old make because I&#39;m a C programmer..."},{"owner":{"account_id":24710254,"reputation":68,"user_id":18600540,"display_name":"LucasJ"},"score":0,"creation_date":1648684168,"post_id":71671046,"comment_id":126690057,"body_markdown":"@jewelsea thank you, very interesting solution... that &quot;modular&quot; concept of java is kinda strange, I&#39;ll try to learn more about it.","body":"@jewelsea thank you, very interesting solution... that &quot;modular&quot; concept of java is kinda strange, I&#39;ll try to learn more about it."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1648684462,"post_id":71671046,"comment_id":126690103,"body_markdown":"@LucasJ See Wikipedia, [*Java Platform Module System*](https://en.wikipedia.org/wiki/Java_Platform_Module_System). JPMS was bolted onto Java only relatively recently, Java 9 in 2017. In contrast, Java has always had its package naming and the [Classpath](https://en.wikipedia.org/wiki/Classpath). The main purpose of JPMS is to modularize the Java platform to enable what you are trying to do, build a standalone app that includes only the parts you need/use. JPMS works hand-in-hand with [*jlink*](https://openjdk.java.net/jeps/282) and [*jpackage*](https://openjdk.java.net/jeps/392) tooling.","body":"@LucasJ See Wikipedia, <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\"><i>Java Platform Module System</i></a>. JPMS was bolted onto Java only relatively recently, Java 9 in 2017. In contrast, Java has always had its package naming and the <a href=\"https://en.wikipedia.org/wiki/Classpath\" rel=\"nofollow noreferrer\">Classpath</a>. The main purpose of JPMS is to modularize the Java platform to enable what you are trying to do, build a standalone app that includes only the parts you need/use. JPMS works hand-in-hand with <a href=\"https://openjdk.java.net/jeps/282\" rel=\"nofollow noreferrer\"><i>jlink</i></a> and <a href=\"https://openjdk.java.net/jeps/392\" rel=\"nofollow noreferrer\"><i>jpackage</i></a> tooling."},{"owner":{"account_id":24710254,"reputation":68,"user_id":18600540,"display_name":"LucasJ"},"score":0,"creation_date":1648685176,"post_id":71671046,"comment_id":126690201,"body_markdown":"@mipa I just want to explore all my options and in the end choose one which works best for me, even if it&#39;s not 100% what I wanted in the beginning. Btw exploring non-conventional solutions sometimes gives valuable knowledge. Peace.","body":"@mipa I just want to explore all my options and in the end choose one which works best for me, even if it&#39;s not 100% what I wanted in the beginning. Btw exploring non-conventional solutions sometimes gives valuable knowledge. Peace."}],"answers":[{"tags":[],"owner":{"account_id":6540092,"reputation":1270,"user_id":5058026,"accept_rate":62,"display_name":"Martin CR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660072089,"creation_date":1660072089,"answer_id":73296937,"question_id":71671046,"body_markdown":"Apologies if you have already come across it, but you might find it useful to take a look at https://docs.oracle.com/javafx/2/deployment/jfxpub-deployment.htm\r\n\r\n&gt; This guide provides basic and advanced information about building, packaging, and deploying your JavaFX application. JavaFX deployment requires no special code in your application and has many other differences from Java deployment. Even if you are an advanced Java developer, it is a good idea to review the Getting Started page.","title":"How to deploy a self-contained JavaFX application without using Maven/Gradle/IDEs?","body":"<p>Apologies if you have already come across it, but you might find it useful to take a look at <a href=\"https://docs.oracle.com/javafx/2/deployment/jfxpub-deployment.htm\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javafx/2/deployment/jfxpub-deployment.htm</a></p>\n<blockquote>\n<p>This guide provides basic and advanced information about building, packaging, and deploying your JavaFX application. JavaFX deployment requires no special code in your application and has many other differences from Java deployment. Even if you are an advanced Java developer, it is a good idea to review the Getting Started page.</p>\n</blockquote>\n"}],"owner":{"account_id":24710254,"reputation":68,"user_id":18600540,"display_name":"LucasJ"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":798,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660072089,"creation_date":1648609518,"question_id":71671046,"body_markdown":"I&#39;m working on a simple JavaFX project using: **Windows**, **VSCode/PowerShell**, **Java SDK 17.0.2**, **JavaFX SDK 17.0.2**. \r\n\r\nHere is my project structure:\r\n\r\n    bin/\r\n        snaptools/\r\n            Controller.class\r\n            Main.class\r\n            SnapTransceiver.class\r\n            icon.png\r\n            snaptools.fxml\r\n    lib/\r\n        openjfx-17.0.2_windows-x64_bin-sdk/\r\n            ...\r\n        jSerialComm-2.9.1.jar\r\n        snaprotocol-1.0.0.jar\r\n    src/\r\n        snaptools/\r\n            Controller.java\r\n            Main.java\r\n            SnapTransceiver.java\r\n            icon.png\r\n            snaptools.fxml\r\nI can compile the project using this command line:\r\n\r\n    javac -encoding UTF-8 -d bin --class-path &quot;lib/jSerialComm-2.9.1.jar;lib/snaprotocol-1.0.0.jar&quot; --module-path lib/openjfx-17.0.2_windows-x64_bin-sdk/javafx-sdk-17.0.2/lib --add-modules javafx.controls,javafx.fxml src/snaptools/*.java\r\nI can run the program using this command line:\r\n\r\n    java --class-path &quot;bin;lib/jSerialComm-2.9.1.jar;lib/snaprotocol-1.0.0.jar&quot; --module-path lib/openjfx-17.0.2_windows-x64_bin-sdk/javafx-sdk-17.0.2/lib --add-modules javafx.controls,javafx.fxml snaptools.Main\r\nMy project is pretty much done. I just need to package it. Unfortunately, it seems everybody is using Maven/Gradle and IDE-specific tricks (Eclipse, NetBeans, IntelliJ). I don&#39;t want to depend on these methods.\r\n\r\nWhat I want:\r\n- An executable .exe file without installation process (one big file that only executes and **preferably** extracts nothing).\r\n- Without using Maven/Gradle (I&#39;ll probably put everything in a makefile).\r\n- Without the need of using a specific IDE (I use VSCode, but I don&#39;t want to depend on it either).\r\n- Can be done by command lines on a regular terminal.\r\n- Contain everything it needs to execute (user doesn&#39;t need to install anything).\r\n\r\nIs it possible? Btw, I&#39;ve also been messing with Launch4j, jpackage, and jlink, but couldn&#39;t figure it out.","title":"How to deploy a self-contained JavaFX application without using Maven/Gradle/IDEs?","body":"<p>I'm working on a simple JavaFX project using: <strong>Windows</strong>, <strong>VSCode/PowerShell</strong>, <strong>Java SDK 17.0.2</strong>, <strong>JavaFX SDK 17.0.2</strong>.</p>\n<p>Here is my project structure:</p>\n<pre><code>bin/\n    snaptools/\n        Controller.class\n        Main.class\n        SnapTransceiver.class\n        icon.png\n        snaptools.fxml\nlib/\n    openjfx-17.0.2_windows-x64_bin-sdk/\n        ...\n    jSerialComm-2.9.1.jar\n    snaprotocol-1.0.0.jar\nsrc/\n    snaptools/\n        Controller.java\n        Main.java\n        SnapTransceiver.java\n        icon.png\n        snaptools.fxml\n</code></pre>\n<p>I can compile the project using this command line:</p>\n<pre><code>javac -encoding UTF-8 -d bin --class-path &quot;lib/jSerialComm-2.9.1.jar;lib/snaprotocol-1.0.0.jar&quot; --module-path lib/openjfx-17.0.2_windows-x64_bin-sdk/javafx-sdk-17.0.2/lib --add-modules javafx.controls,javafx.fxml src/snaptools/*.java\n</code></pre>\n<p>I can run the program using this command line:</p>\n<pre><code>java --class-path &quot;bin;lib/jSerialComm-2.9.1.jar;lib/snaprotocol-1.0.0.jar&quot; --module-path lib/openjfx-17.0.2_windows-x64_bin-sdk/javafx-sdk-17.0.2/lib --add-modules javafx.controls,javafx.fxml snaptools.Main\n</code></pre>\n<p>My project is pretty much done. I just need to package it. Unfortunately, it seems everybody is using Maven/Gradle and IDE-specific tricks (Eclipse, NetBeans, IntelliJ). I don't want to depend on these methods.</p>\n<p>What I want:</p>\n<ul>\n<li>An executable .exe file without installation process (one big file that only executes and <strong>preferably</strong> extracts nothing).</li>\n<li>Without using Maven/Gradle (I'll probably put everything in a makefile).</li>\n<li>Without the need of using a specific IDE (I use VSCode, but I don't want to depend on it either).</li>\n<li>Can be done by command lines on a regular terminal.</li>\n<li>Contain everything it needs to execute (user doesn't need to install anything).</li>\n</ul>\n<p>Is it possible? Btw, I've also been messing with Launch4j, jpackage, and jlink, but couldn't figure it out.</p>\n"},{"tags":["java","intellij-idea","junit","automated-tests"],"answers":[{"tags":[],"owner":{"account_id":15657250,"reputation":78,"user_id":11297239,"display_name":"SoulB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659520788,"creation_date":1659520788,"answer_id":73219765,"question_id":73219696,"body_markdown":"A workaround would be to comment the non working tests, then run it again and commit it with only working tests.\r\n\r\nAlso the put TODO in the comments of the non working tests, so that you know that you have to check them later on.","title":"clear test history intellij?","body":"<p>A workaround would be to comment the non working tests, then run it again and commit it with only working tests.</p>\n<p>Also the put TODO in the comments of the non working tests, so that you know that you have to check them later on.</p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659522943,"creation_date":1659522943,"answer_id":73220275,"question_id":73219696,"body_markdown":"In Settings, Editor, Inspections, select &quot;Failed line in test&quot; and turn the severity down to &quot;Weak Warning&quot;","title":"clear test history intellij?","body":"<p>In Settings, Editor, Inspections, select &quot;Failed line in test&quot; and turn the severity down to &quot;Weak Warning&quot;</p>\n"}],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1660071667,"creation_date":1659520571,"question_id":73219696,"body_markdown":"Intellij keeps track of test (JUnit) history, which is very nice...\r\n\r\nBut it registers failing tests as &#39;problem&#39;, which get triggered by commit-checks. I want to commit non-working tests at the end of the day, so I want to be able to clear the test-history.\r\n\r\nHowever, I can&#39;t find that option anywhere, nor does &#39;delete&#39; work on the selected test-run.\r\n\r\nHow to clear all of the test history?","title":"clear test history intellij?","body":"<p>Intellij keeps track of test (JUnit) history, which is very nice...</p>\n<p>But it registers failing tests as 'problem', which get triggered by commit-checks. I want to commit non-working tests at the end of the day, so I want to be able to clear the test-history.</p>\n<p>However, I can't find that option anywhere, nor does 'delete' work on the selected test-run.</p>\n<p>How to clear all of the test history?</p>\n"},{"tags":["java","jwt"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1660067966,"post_id":73296213,"comment_id":129443920,"body_markdown":"How did you checked the JWT token on the external site? Specifically, what have you entered in the &quot;your-256-bit-secret&quot; field?","body":"How did you checked the JWT token on the external site? Specifically, what have you entered in the &quot;your-256-bit-secret&quot; field?"},{"owner":{"account_id":25564238,"reputation":57,"user_id":19346273,"display_name":"MarieSpeak"},"score":0,"creation_date":1660068235,"post_id":73296213,"comment_id":129444011,"body_markdown":"@Progman Yes, that&#39;s right.","body":"@Progman Yes, that&#39;s right."},{"owner":{"account_id":907313,"reputation":605,"user_id":941923,"accept_rate":56,"display_name":"Zabihullah Alipour"},"score":1,"creation_date":1660068878,"post_id":73296213,"comment_id":129444227,"body_markdown":"A JWT token only verified with the public or the private key, Did you set any key for the verification on the https://jwt.io/  site?","body":"A JWT token only verified with the public or the private key, Did you set any key for the verification on the <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io</a>  site?"},{"owner":{"account_id":25564238,"reputation":57,"user_id":19346273,"display_name":"MarieSpeak"},"score":0,"creation_date":1660069500,"post_id":73296213,"comment_id":129444423,"body_markdown":"@Zabihullah Alipour I created a token for a client based on its name. And this token is sent to the client. I saw this code here https://www.youtube.com/watch?v=doFx3-xfDN4&amp;list=PLYZvWFacASF_4sL7xjZkfA-YNMAqk1TXn&amp;index=7  Он также показывает, что код недействителен","body":"@Zabihullah Alipour I created a token for a client based on its name. And this token is sent to the client. I saw this code here <a href=\"https://www.youtube.com/watch?v=doFx3-xfDN4&amp;list=PLYZvWFacASF_4sL7xjZkfA-YNMAqk1TXn&amp;index=7\" rel=\"nofollow noreferrer\">youtube.com/&hellip;</a>  Он также показывает, что код недействителен"}],"answers":[{"tags":[],"owner":{"account_id":12368896,"reputation":24701,"user_id":9019885,"display_name":"Gary Archer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660071309,"creation_date":1660071309,"answer_id":73296813,"question_id":73296213,"body_markdown":"You almost certainly should not use HS256, which is a symmetric algorithm, meaning you have to give the secret key to clients for them to be able to validate the JWT. See the [JWT Best Practices](https://curity.io/resources/learn/jwt-best-practices/) article for this type of guidance.\r\n\r\nStart with the most mainstream token signing algorithm of RS256 instead - here is some Java code of mine that uses it, via the highly respected [jose4j](https://bitbucket.org/b_c/jose4j/wiki/Home) library:\r\n\r\n- [Token Issuing](https://github.com/gary-archer/oauth.apisample.javaspringboot/blob/master/src/test/java/com/mycompany/sample/tests/utils/TokenIssuer.java#L47)\r\n- [Token Validation](https://github.com/gary-archer/oauth.apisample.javaspringboot/blob/master/src/main/java/com/mycompany/sample/plumbing/oauth/OAuthAuthenticator.java#L48)\r\n\r\nIn jwt.io you can then paste in the [token signing public key (JWK)](https://github.com/gary-archer/oauth.apisample.javaspringboot/blob/master/src/test/java/com/mycompany/sample/tests/utils/TokenIssuer.java#L38) to see the token validated. If you prefer, translate the same concepts to a different JWT library of your choice. See also [this blog post of mine](https://authguidance.com/jwt-access-token-validation/) which uses the jwt.io website.","title":"Generate JWT token not valid - java","body":"<p>You almost certainly should not use HS256, which is a symmetric algorithm, meaning you have to give the secret key to clients for them to be able to validate the JWT. See the <a href=\"https://curity.io/resources/learn/jwt-best-practices/\" rel=\"nofollow noreferrer\">JWT Best Practices</a> article for this type of guidance.</p>\n<p>Start with the most mainstream token signing algorithm of RS256 instead - here is some Java code of mine that uses it, via the highly respected <a href=\"https://bitbucket.org/b_c/jose4j/wiki/Home\" rel=\"nofollow noreferrer\">jose4j</a> library:</p>\n<ul>\n<li><a href=\"https://github.com/gary-archer/oauth.apisample.javaspringboot/blob/master/src/test/java/com/mycompany/sample/tests/utils/TokenIssuer.java#L47\" rel=\"nofollow noreferrer\">Token Issuing</a></li>\n<li><a href=\"https://github.com/gary-archer/oauth.apisample.javaspringboot/blob/master/src/main/java/com/mycompany/sample/plumbing/oauth/OAuthAuthenticator.java#L48\" rel=\"nofollow noreferrer\">Token Validation</a></li>\n</ul>\n<p>In jwt.io you can then paste in the <a href=\"https://github.com/gary-archer/oauth.apisample.javaspringboot/blob/master/src/test/java/com/mycompany/sample/tests/utils/TokenIssuer.java#L38\" rel=\"nofollow noreferrer\">token signing public key (JWK)</a> to see the token validated. If you prefer, translate the same concepts to a different JWT library of your choice. See also <a href=\"https://authguidance.com/jwt-access-token-validation/\" rel=\"nofollow noreferrer\">this blog post of mine</a> which uses the jwt.io website.</p>\n"}],"owner":{"account_id":25564238,"reputation":57,"user_id":19346273,"display_name":"MarieSpeak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73296813,"answer_count":1,"score":0,"last_activity_date":1660071309,"creation_date":1660067797,"question_id":73296213,"body_markdown":"I create a JWT token and if I go to the official site https://jwt.io/ and check its validity, then it shows that it is not valid.\r\n\r\nPlease tell me why it turns out that it is not valid?\r\n\r\neyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJKYWNrIiwiaWF0IjoxNjYwMDY3NjQ0LCJleHAiOjE2NjAxNTQwNDR9.yUqKI1t2xKVlhALUw12ie3DcpnGyXelcd7J-0qJ1FPg\r\n\r\n\r\n\r\n\r\n\t\t\tpublic class GeneratorJwt {\r\n\t\t\t    \r\n\t\t\t    public static void main(String[] args)  {\r\n\r\n\t\t\t        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n\r\n\t\t\t        SecretKey key = Keys.secretKeyFor(SignatureAlgorithm.HS256);\r\n\r\n\t\t\t        String jwtTokenKey = Encoders.BASE64.encode(key.getEncoded());\r\n\r\n\t\t\t        String s = Jwts.builder()\r\n\t\t\t                .setClaims(claims)\r\n\t\t\t                .setSubject(&quot;Jack&quot;)\r\n\t\t\t                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n\t\t\t                .setExpiration(new Date((new Date()).getTime() + 86400000))\r\n\t\t\t                .signWith(SignatureAlgorithm.HS256, jwtTokenKey).compact();\r\n\t\t\t        \r\n\t\t\t        System.out.println(s);\r\n\t\t\t    }\r\n\t\t\t    \r\n\t\t\t}\r\n\r\n\r\n","title":"Generate JWT token not valid - java","body":"<p>I create a JWT token and if I go to the official site <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">https://jwt.io/</a> and check its validity, then it shows that it is not valid.</p>\n<p>Please tell me why it turns out that it is not valid?</p>\n<p>eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJKYWNrIiwiaWF0IjoxNjYwMDY3NjQ0LCJleHAiOjE2NjAxNTQwNDR9.yUqKI1t2xKVlhALUw12ie3DcpnGyXelcd7J-0qJ1FPg</p>\n<pre><code>        public class GeneratorJwt {\n            \n            public static void main(String[] args)  {\n\n                Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n\n                SecretKey key = Keys.secretKeyFor(SignatureAlgorithm.HS256);\n\n                String jwtTokenKey = Encoders.BASE64.encode(key.getEncoded());\n\n                String s = Jwts.builder()\n                        .setClaims(claims)\n                        .setSubject(&quot;Jack&quot;)\n                        .setIssuedAt(new Date(System.currentTimeMillis()))\n                        .setExpiration(new Date((new Date()).getTime() + 86400000))\n                        .signWith(SignatureAlgorithm.HS256, jwtTokenKey).compact();\n                \n                System.out.println(s);\n            }\n            \n        }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8871,"page":1121,"page_size":100}
