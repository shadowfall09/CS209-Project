{"items":[{"tags":["java","android","flutter","android-studio","java-11"],"comments":[{"owner":{"account_id":20466438,"reputation":115,"user_id":15017829,"display_name":"Mike Kim"},"score":0,"creation_date":1672359264,"post_id":74957108,"comment_id":132276152,"body_markdown":"So many things here, but first off, JAVA_HOME doesn&#39;t determine which `java` runs on the command line, that&#39;s controlled by PATH; second, JAVA_HOME is for a path, not a command","body":"So many things here, but first off, JAVA_HOME doesn&#39;t determine which <code>java</code> runs on the command line, that&#39;s controlled by PATH; second, JAVA_HOME is for a path, not a command"},{"owner":{"account_id":15639395,"reputation":180,"user_id":11283244,"display_name":"Britchi3"},"score":0,"creation_date":1672360795,"post_id":74957108,"comment_id":132276379,"body_markdown":"@MikeKim so what do you suggest?","body":"@MikeKim so what do you suggest?"}],"answers":[{"tags":[],"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672360913,"creation_date":1672360913,"answer_id":74957225,"question_id":74957108,"body_markdown":"search for `gradle` in preferences and then select the correct **Gradle JDK**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7INio.png","title":"You need Java 11 or higher to build your app with this version of Gradle","body":"<p>search for <code>gradle</code> in preferences and then select the correct <strong>Gradle JDK</strong></p>\n<p><a href=\"https://i.stack.imgur.com/7INio.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7INio.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":12785018,"reputation":534,"user_id":9251541,"display_name":"bakboem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672366261,"creation_date":1672366261,"answer_id":74957583,"question_id":74957108,"body_markdown":"The current flutter version does not support this project. You can open the Gradle configuration file embedded in the current flutter version to view the Gradle information.\r\n\r\n#### open android&gt;app&gt;build.gradle line 24\r\n\r\n- apply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\n- open terminal run &quot;whereis flutter&quot; you can get flutter install path\r\n- open &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot; file\r\n\r\n\r\n#### You will see the gradle version used by the current flutter version and current java compile version \r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        /* When bumping, also update ndkVersion above. */\r\n        classpath &#39;com.android.tools.build:gradle:4.1.0&#39;\r\n    }\r\n}\r\n\r\nandroid {\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"You need Java 11 or higher to build your app with this version of Gradle","body":"<p>The current flutter version does not support this project. You can open the Gradle configuration file embedded in the current flutter version to view the Gradle information.</p>\n<h4>open android&gt;app&gt;build.gradle line 24</h4>\n<ul>\n<li>apply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;</li>\n<li>open terminal run &quot;whereis flutter&quot; you can get flutter install path</li>\n<li>open &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot; file</li>\n</ul>\n<h4>You will see the gradle version used by the current flutter version and current java compile version</h4>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        /* When bumping, also update ndkVersion above. */\n        classpath 'com.android.tools.build:gradle:4.1.0'\n    }\n}\n\nandroid {\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15639395,"reputation":180,"user_id":11283244,"display_name":"Britchi3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673780800,"creation_date":1673780800,"answer_id":75124586,"question_id":74957108,"body_markdown":"After Trying for weeks what later worked for me was going to \r\nProject_File&gt;Android&gt;build.gradle file and changing \r\n\r\n    dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.1.3&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        }\r\n\r\nTo:\r\n\r\n    ...\r\n    classpath &#39;com.android.tools.build:gradle:4.1.3&#39;\r\n    ...\r\n\r\nand i just run `./gradlew clean build` and then run the project, everything now working fine\r\n\r\nThanks All","title":"You need Java 11 or higher to build your app with this version of Gradle","body":"<p>After Trying for weeks what later worked for me was going to\nProject_File&gt;Android&gt;build.gradle file and changing</p>\n<pre><code>dependencies {\n        classpath 'com.android.tools.build:gradle:7.1.3'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n</code></pre>\n<p>To:</p>\n<pre><code>...\nclasspath 'com.android.tools.build:gradle:4.1.3'\n...\n</code></pre>\n<p>and i just run <code>./gradlew clean build</code> and then run the project, everything now working fine</p>\n<p>Thanks All</p>\n"},{"tags":[],"owner":{"account_id":10498339,"reputation":2183,"user_id":7737777,"display_name":"Gvs Akhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682829698,"creation_date":1682829698,"answer_id":76139570,"question_id":74957108,"body_markdown":"This worked for me:\r\n\r\nOpen **android/app/build.gradle**\r\n\r\nChange from this:\r\n\r\n    compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n\r\nTo this:\r\n\r\n    compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n        }","title":"You need Java 11 or higher to build your app with this version of Gradle","body":"<p>This worked for me:</p>\n<p>Open <strong>android/app/build.gradle</strong></p>\n<p>Change from this:</p>\n<pre><code>compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n</code></pre>\n<p>To this:</p>\n<pre><code>compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n</code></pre>\n"}],"owner":{"account_id":15639395,"reputation":180,"user_id":11283244,"display_name":"Britchi3"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1369,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75124586,"answer_count":4,"score":2,"last_activity_date":1682829698,"creation_date":1672359099,"question_id":74957108,"body_markdown":"I am having this issue on mac \r\n[![enter image description here][1]][1]\r\n\r\nEverything was working fine untill i tried to run a flutter code i bought from Codecanyon and started having this issue, which i tried so many fix which i saw online and will list them bellow, but now even the new flutter projects i create now give same issue\r\n\r\nSteps:\r\ni have installed java 11 and 16 as well \r\n[![enter image description here][2]][2]\r\n\r\nthen tried to change the defaul jdk version using \r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home -v 11.0.17`\r\n\r\nand \r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home -v 11)\r\n\r\nthen when i run `java -version`  on the terminal i get the report bellow \r\n[![enter image description here][3]][3]\r\n\r\nwhich i believe means i have succefuly changed it (I haved tried using bash, switched to Zsh and now back to bash) but it&#39;s still not working\r\n\r\nAlso tried to change it via the IDE from some solutions i saw here on stackOverflow but from the android-studio&gt; Prefrences&gt; Build, Execution, Deployment&gt; Gradle the section is not showing until i try the File&gt; Project Structure&gt; Project and select JDK 11\r\n[![enter image description here][4]][4]\r\n\r\nStill not working, even installed the latest version of Android Studio, still didn&#39;t fix the issue, and i had to install the old version again since my emulator stopped working after the update\r\n\r\nHave been battling this for some weeks to a month now, have checked multiple solutions here and on github but still can&#39;t get a solution that works\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZISOP.png\r\n  [2]: https://i.stack.imgur.com/hiSXa.png\r\n  [3]: https://i.stack.imgur.com/n5fAz.png\r\n  [4]: https://i.stack.imgur.com/9rwkB.png","title":"You need Java 11 or higher to build your app with this version of Gradle","body":"<p>I am having this issue on mac\n<a href=\"https://i.stack.imgur.com/ZISOP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZISOP.png\" alt=\"enter image description here\" /></a></p>\n<p>Everything was working fine untill i tried to run a flutter code i bought from Codecanyon and started having this issue, which i tried so many fix which i saw online and will list them bellow, but now even the new flutter projects i create now give same issue</p>\n<p>Steps:\ni have installed java 11 and 16 as well\n<a href=\"https://i.stack.imgur.com/hiSXa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hiSXa.png\" alt=\"enter image description here\" /></a></p>\n<p>then tried to change the defaul jdk version using</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 11.0.17`\n</code></pre>\n<p>and</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home -v 11)\n</code></pre>\n<p>then when i run <code>java -version</code>  on the terminal i get the report bellow\n<a href=\"https://i.stack.imgur.com/n5fAz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n5fAz.png\" alt=\"enter image description here\" /></a></p>\n<p>which i believe means i have succefuly changed it (I haved tried using bash, switched to Zsh and now back to bash) but it's still not working</p>\n<p>Also tried to change it via the IDE from some solutions i saw here on stackOverflow but from the android-studio&gt; Prefrences&gt; Build, Execution, Deployment&gt; Gradle the section is not showing until i try the File&gt; Project Structure&gt; Project and select JDK 11\n<a href=\"https://i.stack.imgur.com/9rwkB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9rwkB.png\" alt=\"enter image description here\" /></a></p>\n<p>Still not working, even installed the latest version of Android Studio, still didn't fix the issue, and i had to install the old version again since my emulator stopped working after the update</p>\n<p>Have been battling this for some weeks to a month now, have checked multiple solutions here and on github but still can't get a solution that works</p>\n"},{"tags":["java","class","parsing","types"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1682811574,"post_id":76138900,"comment_id":134274272,"body_markdown":"Isn’t javalang source-only? To get class information you’d need to introspect the return value of the method (although in this case it’s `CSVFormat` because it’s using a fluent interface). *(There’s other ways the information could be gotten, for example, if you have the source for CSVFormat, you could find the method and its signature.)","body":"Isn’t javalang source-only? To get class information you’d need to introspect the return value of the method (although in this case it’s <code>CSVFormat</code> because it’s using a fluent interface). *(There’s other ways the information could be gotten, for example, if you have the source for CSVFormat, you could find the method and its signature.)"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1682821679,"post_id":76138900,"comment_id":134274976,"body_markdown":"Do you have a class path? If you just have the source file only, it is not possible in general. For example, consider `Foo.returnsBar().someBarMethod()`. To find out which class `someBarMethod()` belongs to, you have to find out what type `returnsBar()` returns, but `returnsBar` is declared in another file, or even, only in some .class file that is in the class path, and there is no source code for `Foo`.","body":"Do you have a class path? If you just have the source file only, it is not possible in general. For example, consider <code>Foo.returnsBar().someBarMethod()</code>. To find out which class <code>someBarMethod()</code> belongs to, you have to find out what type <code>returnsBar()</code> returns, but <code>returnsBar</code> is declared in another file, or even, only in some .class file that is in the class path, and there is no source code for <code>Foo</code>."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1682821818,"post_id":76138900,"comment_id":134274992,"body_markdown":"Either way, this is not a trivial thing to do at all. How about compiling the Java file first, then look into .class file to see where the methods belong? Each method call in bytecode needs to include the class where the method belongs, after all.","body":"Either way, this is not a trivial thing to do at all. How about compiling the Java file first, then look into .class file to see where the methods belong? Each method call in bytecode needs to include the class where the method belongs, after all."}],"owner":{"account_id":15931656,"reputation":2714,"user_id":11495796,"display_name":"Instein"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682828928,"creation_date":1682810401,"question_id":76138900,"body_markdown":"I was trying to parse a Java source file. \r\nFor example, for the following code:\r\n```java\r\n...\r\npublic void testHeaderMissingWithNull() throws Exception {\r\n   final Reader in = new StringReader(&quot;a,,c,,d\\n1,2,3,4\\nx,y,z,zz&quot;);\r\n   CSVFormat.DEFAULT.withHeader().withNullString(&quot;&quot;).withIgnoreEmptyHeaders(true).parse(in).iterator();\r\n}\r\n...\r\n```\r\nIs it possible to extract the fully qualified class name of the class where the method `withIgnoreEmptyHeaders` comes from?","title":"Extracting the Java class that a method belongs to for a method invocation when parsing Java source code","body":"<p>I was trying to parse a Java source file.\nFor example, for the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\npublic void testHeaderMissingWithNull() throws Exception {\n   final Reader in = new StringReader(&quot;a,,c,,d\\n1,2,3,4\\nx,y,z,zz&quot;);\n   CSVFormat.DEFAULT.withHeader().withNullString(&quot;&quot;).withIgnoreEmptyHeaders(true).parse(in).iterator();\n}\n...\n</code></pre>\n<p>Is it possible to extract the fully qualified class name of the class where the method <code>withIgnoreEmptyHeaders</code> comes from?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"score":0,"creation_date":1682769172,"post_id":76135521,"comment_id":134269446,"body_markdown":"What exactly goes wrong here? onSuccess() is not being called or what?","body":"What exactly goes wrong here? onSuccess() is not being called or what?"}],"owner":{"display_name":"user21771227"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682828919,"creation_date":1682761283,"question_id":76135521,"body_markdown":"I have created a collection in firebase how can I retrieve a field out of it?\r\n\r\n![Image For Reference](https://i.stack.imgur.com/YWPI6.png)\r\n\r\nIn this image how can I get mail into a string using java in android?\r\n\r\n```\r\nFirebaseFirestore store = FirebaseFirestore.getInstance();\r\n\r\nDocumentReference ref = store.collection(&quot;admin&quot;).document(&quot;nefEFEQGuQOl3RqhHmjnVbHvt133&quot;);\r\n\r\nref.get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n  @Override\r\n  public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n      if (documentSnapshot.exists()) {\r\n        Map&lt;String, Object&gt; data = documentSnapshot.getData();\r\n        String mail= (String) data.get(&quot;mail&quot;);\r\n        Toast.makeText(login_admin.this, mail, Toast.LENGTH_SHORT).show();\r\n        Log.d(TAG, &quot;Mail: &quot; + mail);\r\n      } else {\r\n         Log.d(TAG, &quot;No such document&quot;);\r\n        }\r\n  }\r\n});\r\n```\r\n\r\nI am trying to get a data snapshot of the collection but not getting the mail out of it.","title":"how to get data out of firestore into a string","body":"<p>I have created a collection in firebase how can I retrieve a field out of it?</p>\n<p><img src=\"https://i.stack.imgur.com/YWPI6.png\" alt=\"Image For Reference\" /></p>\n<p>In this image how can I get mail into a string using java in android?</p>\n<pre><code>FirebaseFirestore store = FirebaseFirestore.getInstance();\n\nDocumentReference ref = store.collection(&quot;admin&quot;).document(&quot;nefEFEQGuQOl3RqhHmjnVbHvt133&quot;);\n\nref.get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n  @Override\n  public void onSuccess(DocumentSnapshot documentSnapshot) {\n      if (documentSnapshot.exists()) {\n        Map&lt;String, Object&gt; data = documentSnapshot.getData();\n        String mail= (String) data.get(&quot;mail&quot;);\n        Toast.makeText(login_admin.this, mail, Toast.LENGTH_SHORT).show();\n        Log.d(TAG, &quot;Mail: &quot; + mail);\n      } else {\n         Log.d(TAG, &quot;No such document&quot;);\n        }\n  }\n});\n</code></pre>\n<p>I am trying to get a data snapshot of the collection but not getting the mail out of it.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1682825599,"creation_date":1365145120,"answer_id":15827719,"question_id":15827703,"body_markdown":"A big use case of iterators with ArrayLists is when you want to remove elements while iterating. You have only three safe solutions:\r\n\r\n- use an iterator and its `remove` method\r\n- copy the elements you want to keep to another list\r\n- juggle with indexes\r\n\r\nAssuming you don&#39;t `add` while iterating, using the iterator is a means to *avoid* the `ConcurrentModificationException`.\r\n\r\nThe readability argument is subjective. Personally I don&#39;t find a cleanly declared iterator less readable. And it doesn&#39;t really matter as the iterator is the safe way to iterate and remove at the same time.\r\n\r\n","title":"Do we ever need to use Iterators on ArrayList?","body":"<p>A big use case of iterators with ArrayLists is when you want to remove elements while iterating. You have only three safe solutions:</p>\n<ul>\n<li>use an iterator and its <code>remove</code> method</li>\n<li>copy the elements you want to keep to another list</li>\n<li>juggle with indexes</li>\n</ul>\n<p>Assuming you don't <code>add</code> while iterating, using the iterator is a means to <em>avoid</em> the <code>ConcurrentModificationException</code>.</p>\n<p>The readability argument is subjective. Personally I don't find a cleanly declared iterator less readable. And it doesn't really matter as the iterator is the safe way to iterate and remove at the same time.</p>\n"},{"tags":[],"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365145276,"creation_date":1365145276,"answer_id":15827760,"question_id":15827703,"body_markdown":"Yes, we need. ArrayList is just an implementation of the List interface, so often your code will process a list and not even know that it&#39;s an ArrayList. Also, the new for-loop syntax uses iterators internally.","title":"Do we ever need to use Iterators on ArrayList?","body":"<p>Yes, we need. ArrayList is just an implementation of the List interface, so often your code will process a list and not even know that it's an ArrayList. Also, the new for-loop syntax uses iterators internally.</p>\n"},{"tags":[],"owner":{"account_id":416547,"reputation":91914,"user_id":791998,"accept_rate":80,"display_name":"Petar Ivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365217599,"creation_date":1365145322,"answer_id":15827772,"question_id":15827703,"body_markdown":"You are probably talking about explicitly using an iterator (since the : operator is also using the iterator behind the scenes).\r\n\r\nSay you want to have two &quot;pointers&quot; going over the array but the speed depends on the actual element values.\r\nHow would you do this without explicitly using iterators (and without elementAt of course).\r\n\r\nFor example (pseudo code):\r\n\r\n    element1 = first element;\r\n    element2 = first element;\r\n    while(element1.hasNext &amp;&amp; element2.hasNext)\r\n    {\r\n        if(element1 * 2 &lt; element)\r\n        {\r\n            element2 = element2.next;\r\n        }\r\n        else\r\n        {\r\n            element1 = element1.next;\r\n        }\r\n        \r\n        //do something with the pair of elements\r\n    }","title":"Do we ever need to use Iterators on ArrayList?","body":"<p>You are probably talking about explicitly using an iterator (since the : operator is also using the iterator behind the scenes).</p>\n\n<p>Say you want to have two \"pointers\" going over the array but the speed depends on the actual element values.\nHow would you do this without explicitly using iterators (and without elementAt of course).</p>\n\n<p>For example (pseudo code):</p>\n\n<pre><code>element1 = first element;\nelement2 = first element;\nwhile(element1.hasNext &amp;&amp; element2.hasNext)\n{\n    if(element1 * 2 &lt; element)\n    {\n        element2 = element2.next;\n    }\n    else\n    {\n        element1 = element1.next;\n    }\n\n    //do something with the pair of elements\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1365153196,"creation_date":1365153196,"answer_id":15830022,"question_id":15827703,"body_markdown":"&gt; The code is much less readable with iterators.\r\n\r\nThat&#39;s entirely your opinion, and I don&#39;t share it.\r\n\r\n&gt; There is a possibility to raise ConcurrentModificationException that is hard to debug.\r\n\r\nThat possibly exists whether you use Iterators or not. That exception tells you something useful about your code that you might otherwise miss altogether, which is even harder to debug.\r\n\r\nPersonally I prefer being able to write exactly the code as between ArrayList and LinkedList, and having the compiler or the API implement the details.\r\n\r\nThe moral is that you shouldn&#39;t pass off your own unsupported opinion as established fact.","title":"Do we ever need to use Iterators on ArrayList?","body":"<blockquote>\n  <p>The code is much less readable with iterators.</p>\n</blockquote>\n\n<p>That's entirely your opinion, and I don't share it.</p>\n\n<blockquote>\n  <p>There is a possibility to raise ConcurrentModificationException that is hard to debug.</p>\n</blockquote>\n\n<p>That possibly exists whether you use Iterators or not. That exception tells you something useful about your code that you might otherwise miss altogether, which is even harder to debug.</p>\n\n<p>Personally I prefer being able to write exactly the code as between ArrayList and LinkedList, and having the compiler or the API implement the details.</p>\n\n<p>The moral is that you shouldn't pass off your own unsupported opinion as established fact.</p>\n"},{"tags":[],"owner":{"account_id":2868714,"reputation":53,"user_id":2462475,"display_name":"user2462475"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380773601,"creation_date":1380773601,"answer_id":19150623,"question_id":15827703,"body_markdown":"Check this post: \r\nhttp://www.xyzws.com/javafaq/what-is-the-advantage-of-using-an-iterator-compared-to-the-getindex-method/19\r\n\r\nUsing iterator will avoid the mistake of using get(index) on LinkedList(extremely slow). It makes sense when the implementation of list is unknown, just use iterator. Regarding ArrayList, using iterator will still achieve the closest possible performance with get(index).\r\n\r\nSo it is a good practice to use iterator for iterating in terms of performance.","title":"Do we ever need to use Iterators on ArrayList?","body":"<p>Check this post: \n<a href=\"http://www.xyzws.com/javafaq/what-is-the-advantage-of-using-an-iterator-compared-to-the-getindex-method/19\" rel=\"nofollow\">http://www.xyzws.com/javafaq/what-is-the-advantage-of-using-an-iterator-compared-to-the-getindex-method/19</a></p>\n\n<p>Using iterator will avoid the mistake of using get(index) on LinkedList(extremely slow). It makes sense when the implementation of list is unknown, just use iterator. Regarding ArrayList, using iterator will still achieve the closest possible performance with get(index).</p>\n\n<p>So it is a good practice to use iterator for iterating in terms of performance.</p>\n"},{"tags":[],"owner":{"account_id":3399239,"reputation":1237,"user_id":2851945,"accept_rate":92,"display_name":"David"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1421414260,"creation_date":1421414260,"answer_id":27984817,"question_id":15827703,"body_markdown":"None of the answers seem to adres the reason for iterators. The iterator design pattern was created because an object should be in control of its own state ( except maybe value objects with only public properties ). \r\n\r\nLets say we have an object that contains an array, and you have an interface in that object to add items to that array. But you have do something like this:\r\n\r\n    class MyClass\r\n    {\r\n        private ArrayList&lt;Item&gt; myList;\r\n        \r\n        public MyClass()\r\n        {\r\n            myList = new ArrayList();\r\n        }\r\n\r\n        public addItem( Item item )\r\n        {\r\n             item.doSomething(); // Lets say that this is very important before adding the item to the array.\r\n             myList.add( item );\r\n        }\r\n    }\r\n\r\nNow if i had this method in the class above:\r\n\r\n    public ArrayList getList()\r\n    {\r\n        return myList;\r\n    }\r\n\r\nSomebody could get the reference to myList through this method and add items to the array, **without** calling item.doSomething(); That&#39;s why you shouldn&#39;t return a reference to the array, but instead return its iterator. One can get any item from the array, but it can&#39;t manipulate the original array. So the MyClass object is still in control of it&#39;s own state. \r\n\r\nThis is the real reason why iterators were invented. \r\n\r\n\r\n\r\n","title":"Do we ever need to use Iterators on ArrayList?","body":"<p>None of the answers seem to adres the reason for iterators. The iterator design pattern was created because an object should be in control of its own state ( except maybe value objects with only public properties ). </p>\n\n<p>Lets say we have an object that contains an array, and you have an interface in that object to add items to that array. But you have do something like this:</p>\n\n<pre><code>class MyClass\n{\n    private ArrayList&lt;Item&gt; myList;\n\n    public MyClass()\n    {\n        myList = new ArrayList();\n    }\n\n    public addItem( Item item )\n    {\n         item.doSomething(); // Lets say that this is very important before adding the item to the array.\n         myList.add( item );\n    }\n}\n</code></pre>\n\n<p>Now if i had this method in the class above:</p>\n\n<pre><code>public ArrayList getList()\n{\n    return myList;\n}\n</code></pre>\n\n<p>Somebody could get the reference to myList through this method and add items to the array, <strong>without</strong> calling item.doSomething(); That's why you shouldn't return a reference to the array, but instead return its iterator. One can get any item from the array, but it can't manipulate the original array. So the MyClass object is still in control of it's own state. </p>\n\n<p>This is the real reason why iterators were invented. </p>\n"}],"owner":{"account_id":2579198,"reputation":2760,"user_id":2236253,"display_name":"Vitaly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8623,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":15827719,"answer_count":6,"score":15,"last_activity_date":1682827283,"creation_date":1365145032,"question_id":15827703,"body_markdown":"Yesterday, when I was answering to question https://stackoverflow.com/q/15822810/2236253 I added a notice that\r\n\r\n&gt; It&#39;s not a good idea to use iterators when you have ArrayLists.\r\n\r\nYou do not need to deeply understand that question to answer on that one.\r\n\r\n\r\nThere, I got two comments that I&#39;m wrong.\r\n\r\nMy arguments:\r\n\r\n1. The code is much less readable with iterators.\r\n\r\n2. There is a possibility to raise ConcurrentModificationException that is hard to debug.\r\n\r\n\r\nCan you please explain?\r\n\r\nQuestion:\r\nDo we ever need to *explicitly* use Iterators on ArrayList?\r\n","title":"Do we ever need to use Iterators on ArrayList?","body":"<p>Yesterday, when I was answering to question <a href=\"https://stackoverflow.com/q/15822810/2236253\">getting ConcurrentModificationException error while using iterator and remove</a> I added a notice that</p>\n<blockquote>\n<p>It's not a good idea to use iterators when you have ArrayLists.</p>\n</blockquote>\n<p>You do not need to deeply understand that question to answer on that one.</p>\n<p>There, I got two comments that I'm wrong.</p>\n<p>My arguments:</p>\n<ol>\n<li><p>The code is much less readable with iterators.</p>\n</li>\n<li><p>There is a possibility to raise ConcurrentModificationException that is hard to debug.</p>\n</li>\n</ol>\n<p>Can you please explain?</p>\n<p>Question:\nDo we ever need to <em>explicitly</em> use Iterators on ArrayList?</p>\n"},{"tags":["java","arrays","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":21251572,"reputation":129,"user_id":15633731,"display_name":"Yosef.Schwartz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682809311,"creation_date":1682807518,"answer_id":76138738,"question_id":76138709,"body_markdown":"Your `fileRead` variable get the first line, and in the second line it concatenations the second line immediately, so the string look like this:\r\n\r\n..90002 1 ..\r\n\r\n\r\nYou just need insert a space in the while loop.\r\n\r\n    while(reader.hasNextLine())\r\n                fileRead += reader.nextLine();\r\n                fileRead += “ “;\r\n\r\nEDIT\r\n\r\n\r\n    while(reader.hasNextLine()){\r\n        fileRead += reader.nextLine();\r\n        fileRead +=‘$’;\r\n   \r\n\r\n    String line = fileRead;\r\n    String[] infoRow = line.split(&quot;$&quot;);\r\n    int[] results = new int[9];\r\n\r\n    for (int i = 0; i&lt; infoRow.length;i++){\r\n            string[] info = infoRow[i].split(&quot; &quot;);\r\n            for (int j = 1; j &lt; info.length; j++){\r\n                  results[j-1] += Integer.parseInt(info[j]);  \r\n                }\r\n        }\r\n    for (int i = 0; i&lt; results.length;i++){\r\n        System.out.println(results[i]);\r\n    }","title":"Read text file that has a 2d array and find the sum of each column and add the sum into an array","body":"<p>Your <code>fileRead</code> variable get the first line, and in the second line it concatenations the second line immediately, so the string look like this:</p>\n<p>..90002 1 ..</p>\n<p>You just need insert a space in the while loop.</p>\n<pre><code>while(reader.hasNextLine())\n            fileRead += reader.nextLine();\n            fileRead += “ “;\n</code></pre>\n<p>EDIT</p>\n<pre><code>while(reader.hasNextLine()){\n    fileRead += reader.nextLine();\n    fileRead +=‘$’;\n\n\nString line = fileRead;\nString[] infoRow = line.split(&quot;$&quot;);\nint[] results = new int[9];\n\nfor (int i = 0; i&lt; infoRow.length;i++){\n        string[] info = infoRow[i].split(&quot; &quot;);\n        for (int j = 1; j &lt; info.length; j++){\n              results[j-1] += Integer.parseInt(info[j]);  \n            }\n    }\nfor (int i = 0; i&lt; results.length;i++){\n    System.out.println(results[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682826382,"creation_date":1682824067,"answer_id":76139363,"question_id":76138709,"body_markdown":"There are many ways to do this. Here is one way that does it as you process the input file.\r\n```\r\nint[] sums = computeSums(&quot;C:\\\\Users\\\\Tommy\\\\Documents\\\\day.txt&quot;);\r\nSystem.out.println(Arrays.toString(sums));\r\n```\r\nprints\r\n```\r\n[4, 7, 10, 13, 16, 19, 22, 25, 28]\r\n\r\n```\r\nHere is how the file is processed.\r\n\r\n- Continue doing the following lines while lines are available for processing.\r\n  - if the `sums` field is null, this is first time thru so read in the first line, skipping the first int, and then using streams, create an `int array` which is assigned to `sums`.\r\n  - otherwise, skip the first `int` of the following lines and read the rest of the line as ints adding them to the corresponding sums column.\r\n```\r\npublic static int[] computeSums(String fileName) {\r\n     int[] sums = null;\r\n\r\n     try {\r\n         Scanner scanner = new Scanner(new File(fileName));\r\n\r\n         while (scanner.hasNextLine()) {\r\n             scanner.nextInt(); // skip first value\r\n             // read in the next line, trimming leading white space, to ensure\r\n             // splitting on int boundaries. Then use the String array to get proper size\r\n             // the sums array.\r\n             \r\n             if (sums == null) {\r\n                 String[] vals = scanner.nextLine().trim().split(&quot;\\\\s+&quot;);\r\n                 sums = new int[vals.length];\r\n                 \r\n             // now populate the sums array with the first row (line) of the file\r\n                 int i = 0;\r\n                 for (String val : vals) {\r\n                     sums[i++] = Integer.parseInt(val);\r\n                 }\r\n             } else {\r\n             // from now until the end of the file, simply read the next value\r\n             // and add to the corresponding sums column\r\n                 for (int i = 0; i &lt; sums.length; i++) {\r\n                     sums[i] += scanner.nextInt();\r\n                 }\r\n             }\r\n         }\r\n        \r\n     } catch (FileNotFoundException fnfe) {\r\n         fnfe.printStackTrace();\r\n     }\r\n     return sums;\r\n}\r\n```\r\nNote:  Since you didn&#39;t specify how to handle different row lengths of the same 2D array, this only works if array is rectangular.  Otherwise an `IndexOutOfBoundsException` will be thrown.","title":"Read text file that has a 2d array and find the sum of each column and add the sum into an array","body":"<p>There are many ways to do this. Here is one way that does it as you process the input file.</p>\n<pre><code>int[] sums = computeSums(&quot;C:\\\\Users\\\\Tommy\\\\Documents\\\\day.txt&quot;);\nSystem.out.println(Arrays.toString(sums));\n</code></pre>\n<p>prints</p>\n<pre><code>[4, 7, 10, 13, 16, 19, 22, 25, 28]\n\n</code></pre>\n<p>Here is how the file is processed.</p>\n<ul>\n<li>Continue doing the following lines while lines are available for processing.\n<ul>\n<li>if the <code>sums</code> field is null, this is first time thru so read in the first line, skipping the first int, and then using streams, create an <code>int array</code> which is assigned to <code>sums</code>.</li>\n<li>otherwise, skip the first <code>int</code> of the following lines and read the rest of the line as ints adding them to the corresponding sums column.</li>\n</ul>\n</li>\n</ul>\n<pre><code>public static int[] computeSums(String fileName) {\n     int[] sums = null;\n\n     try {\n         Scanner scanner = new Scanner(new File(fileName));\n\n         while (scanner.hasNextLine()) {\n             scanner.nextInt(); // skip first value\n             // read in the next line, trimming leading white space, to ensure\n             // splitting on int boundaries. Then use the String array to get proper size\n             // the sums array.\n             \n             if (sums == null) {\n                 String[] vals = scanner.nextLine().trim().split(&quot;\\\\s+&quot;);\n                 sums = new int[vals.length];\n                 \n             // now populate the sums array with the first row (line) of the file\n                 int i = 0;\n                 for (String val : vals) {\n                     sums[i++] = Integer.parseInt(val);\n                 }\n             } else {\n             // from now until the end of the file, simply read the next value\n             // and add to the corresponding sums column\n                 for (int i = 0; i &lt; sums.length; i++) {\n                     sums[i] += scanner.nextInt();\n                 }\n             }\n         }\n        \n     } catch (FileNotFoundException fnfe) {\n         fnfe.printStackTrace();\n     }\n     return sums;\n}\n</code></pre>\n<p>Note:  Since you didn't specify how to handle different row lengths of the same 2D array, this only works if array is rectangular.  Otherwise an <code>IndexOutOfBoundsException</code> will be thrown.</p>\n"}],"owner":{"account_id":28456719,"reputation":1,"user_id":21774026,"display_name":"toad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682826382,"creation_date":1682806894,"question_id":76138709,"body_markdown":"Hey guys I want to read a text file that has multiple number similar to a 2d array. I want to find the sum of each column and add it into my int array. I also want to skip the first column and not add it into my int array. For example:\r\n- 0001 1 2 3 4 5 6 7 8 9\r\n- 0002 1 2 3 4 5 6 7 8 9\r\n- 0003 2 3 4 5 6 7 8 9 10\r\n\r\nSo this would be my text file. I want to read this but skip the first column and add the rest of the column into an int array. So I want my int array\\[\\] to look like\r\n- int array[0] = 4\r\n- int array[1] = 7\r\n- int array[2] = 10\r\n- int array[3] = 13\r\n- int array[4] = 16\r\n- int array[5] = 19\r\n- int array[6] = 22\r\n- int array[7] = 25\r\n- int array[8] = 28\r\n\r\nSo far i have this:\r\n\r\n```java\r\n\r\npublic static void main(String[] args) throws FileNotFoundException\r\n\t{\r\n\t\tString fileRead = &quot;&quot;;\r\n\t\tint[][] num = null;\r\n\t\tFile file = new File(&quot;C:\\\\Users\\\\Tommy\\\\Documents\\\\day.txt&quot;);\r\n\t\tScanner reader = new Scanner(file);\r\n\t\twhile(reader.hasNextLine())\r\n\t\t\tfileRead += reader.nextLine();\r\n\t\tString line = fileRead;\r\n\t\tString[] info = line.split(&quot; &quot;);\r\n\t\tfor (int i = 1; i &lt; info.length; i++)\r\n\t\t{\r\n\t\t\tSystem.out.println(info[i]);\t\t\r\n\t\t}\r\n}\r\n```\r\n\r\nMy code isnt finished because i dont know how to add column. But so far its printing the first row and skipping 0001. but then it prints the second row and doesnt skip 0002. So the output for my code so far looks like:\r\n\r\n- 1\r\n- 2\r\n- 3\r\n- 4\r\n- 5\r\n- 6\r\n- 7\r\n- 8\r\n\r\nbut then it prints\r\n- 90002\r\n- 1\r\n- 2\r\n- 3\r\n- 4\r\n\r\netc.\r\nAny clue on how i can solve this?","title":"Read text file that has a 2d array and find the sum of each column and add the sum into an array","body":"<p>Hey guys I want to read a text file that has multiple number similar to a 2d array. I want to find the sum of each column and add it into my int array. I also want to skip the first column and not add it into my int array. For example:</p>\n<ul>\n<li>0001 1 2 3 4 5 6 7 8 9</li>\n<li>0002 1 2 3 4 5 6 7 8 9</li>\n<li>0003 2 3 4 5 6 7 8 9 10</li>\n</ul>\n<p>So this would be my text file. I want to read this but skip the first column and add the rest of the column into an int array. So I want my int array[] to look like</p>\n<ul>\n<li>int array[0] = 4</li>\n<li>int array[1] = 7</li>\n<li>int array[2] = 10</li>\n<li>int array[3] = 13</li>\n<li>int array[4] = 16</li>\n<li>int array[5] = 19</li>\n<li>int array[6] = 22</li>\n<li>int array[7] = 25</li>\n<li>int array[8] = 28</li>\n</ul>\n<p>So far i have this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic static void main(String[] args) throws FileNotFoundException\n    {\n        String fileRead = &quot;&quot;;\n        int[][] num = null;\n        File file = new File(&quot;C:\\\\Users\\\\Tommy\\\\Documents\\\\day.txt&quot;);\n        Scanner reader = new Scanner(file);\n        while(reader.hasNextLine())\n            fileRead += reader.nextLine();\n        String line = fileRead;\n        String[] info = line.split(&quot; &quot;);\n        for (int i = 1; i &lt; info.length; i++)\n        {\n            System.out.println(info[i]);        \n        }\n}\n</code></pre>\n<p>My code isnt finished because i dont know how to add column. But so far its printing the first row and skipping 0001. but then it prints the second row and doesnt skip 0002. So the output for my code so far looks like:</p>\n<ul>\n<li>1</li>\n<li>2</li>\n<li>3</li>\n<li>4</li>\n<li>5</li>\n<li>6</li>\n<li>7</li>\n<li>8</li>\n</ul>\n<p>but then it prints</p>\n<ul>\n<li>90002</li>\n<li>1</li>\n<li>2</li>\n<li>3</li>\n<li>4</li>\n</ul>\n<p>etc.\nAny clue on how i can solve this?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","java-17"],"owner":{"account_id":1290949,"reputation":3762,"user_id":1243068,"accept_rate":64,"display_name":"e-info128"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682826366,"creation_date":1682826045,"question_id":76139430,"body_markdown":"By example, have a `roles` table:\r\n\r\n```sql\r\nCREATE TABLE public.roles (\r\n  id bigserial NOT NULL PRIMARY KEY,\r\n  role_parent_id bigint NULL DEFAULT NULL REFERENCES public.roles(id) ON DELETE CASCADE ON UPDATE CASCADE,\r\n  name varchar(64) NOT NULL UNIQUE\r\n);\r\n```\r\n\r\nIn the entity `DAO` have this code:\r\n\r\n```java\r\n@Entity\r\n@Table(name=&quot;roles&quot;)\r\npublic class RoleDAO {\r\n  // ...\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name=&quot;role_parent_id&quot;)\r\n  private RoleDAO parentRole;\r\n```\r\n\r\nWhen need list all roles in a rest controller the example expected is show each root and child roles:\r\n\r\n```json\r\n[\r\n    { id: 1, name: &quot;Role 1&quot;, roles: [ ] },\r\n    { id: 2, name: &quot;Role 2&quot;, roles: [\r\n        { id: 3, name &quot;Role 3&quot;, roles: [ ] }\r\n    ] }\r\n]\r\n```\r\n\r\nBut when call `findAll` method of the `JpaRepository` return all roles with the parent, instead of that i need the child of each role. How to create `childRoles` array into `RoleDAO` entity?","title":"How to get child objects of record using table join on Java Spring Boot?","body":"<p>By example, have a <code>roles</code> table:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE public.roles (\n  id bigserial NOT NULL PRIMARY KEY,\n  role_parent_id bigint NULL DEFAULT NULL REFERENCES public.roles(id) ON DELETE CASCADE ON UPDATE CASCADE,\n  name varchar(64) NOT NULL UNIQUE\n);\n</code></pre>\n<p>In the entity <code>DAO</code> have this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;roles&quot;)\npublic class RoleDAO {\n  // ...\n\n  @ManyToOne\n  @JoinColumn(name=&quot;role_parent_id&quot;)\n  private RoleDAO parentRole;\n</code></pre>\n<p>When need list all roles in a rest controller the example expected is show each root and child roles:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    { id: 1, name: &quot;Role 1&quot;, roles: [ ] },\n    { id: 2, name: &quot;Role 2&quot;, roles: [\n        { id: 3, name &quot;Role 3&quot;, roles: [ ] }\n    ] }\n]\n</code></pre>\n<p>But when call <code>findAll</code> method of the <code>JpaRepository</code> return all roles with the parent, instead of that i need the child of each role. How to create <code>childRoles</code> array into <code>RoleDAO</code> entity?</p>\n"},{"tags":["java","azure-functions","azure-eventgrid","appinsights"],"owner":{"account_id":98618,"reputation":13889,"user_id":266827,"accept_rate":78,"display_name":"Sandy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682825113,"creation_date":1682747052,"question_id":76134700,"body_markdown":"I am trying to write an Azure Function that would be triggered by EventGrid. I have been following the official documentation and stood up required resources. EventGrid topic, Function App, AppInsight etc. I wrote an basic function that just logs the message that it has been invoked. When I sent the message to topic, I can see the matrices of topic and subscription but all of them indicate that all messages were failed. App insight logs says the app is invoked but I don&#39;t see the messages in log analytics&#39;s `trace` table. I added custom logger but still same result. Not only the logs are not present in log analytics the app insight logs says function is timing out, considering there is no business logic in the function why is it running for that long.\r\n\r\nMy intention of this function was to learn function app, but now I am lost in trying to find the issue. I am trying to understand \r\n\r\n1. Why all invocations failed(snapshot below).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2. Why it is timing out when there is no business logic.\r\n\r\nI would really appreciate some inputs here on what I am missing or doing wrong. Some helpful snapshots are below.\r\n\r\n**Before adding loggers class looks like this**\r\n[![enter image description here][2]][2]\r\n \r\n\r\n**After adding loggers class looks like this**\r\n[![enter image description here][3]][3]\r\n\r\n**Logger configuration**\r\n[![enter image description here][4]][4]\r\n\r\n**Message I am sending to topic**\r\n\r\n        [{\r\n      &quot;id&quot;: &quot;123&quot;,\r\n      &quot;eventType&quot;: &quot;Type&quot;,\r\n      &quot;subject&quot;: &quot;Subject&quot;,\r\n      &quot;eventTime&quot;: &quot;2023-01-10T21:03:07+00:00&quot;,\r\n      &quot;data&quot;: {\r\n        &quot;SourceBlobUrl&quot;: &quot;Source&quot;,\r\n        &quot;DestinationBlobUrl&quot;: &quot;Destination&quot;\r\n      },\r\n      &quot;dataVersion&quot;: &quot;1.0&quot;,\r\n      &quot;metadataVersion&quot;: &quot;1&quot;,\r\n      &quot;topic&quot;: &quot;/subscriptions/***/resourceGroups/***/providers/Microsoft.EventGrid/topics/topic&quot;\r\n    }]\r\n\r\n**host.json**\r\n\r\n    {\r\n      &quot;version&quot;: &quot;2.0&quot;,\r\n      &quot;functionTimeout&quot;: &quot;00:10:00&quot;,\r\n      &quot;extensionBundle&quot;: {\r\n        &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\r\n        &quot;version&quot;: &quot;[4.*, 5.0.0)&quot;\r\n      },\r\n      &quot;logging&quot;: {\r\n        &quot;fileLoggingMode&quot;: &quot;always&quot;,\r\n        &quot;logLevel&quot;: {\r\n          &quot;default&quot;: &quot;Information&quot;,\r\n          &quot;Host.Results&quot;: &quot;Error&quot;,\r\n          &quot;Function.BlobCopy&quot;: &quot;Warning&quot;,\r\n          &quot;Host.Aggregator&quot;: &quot;Trace&quot;\r\n        },\r\n        &quot;applicationInsights&quot;: {\r\n          &quot;enableLiveMetrics&quot;: true,\r\n          &quot;enableDependencyTracking&quot;: true,\r\n          &quot;enablePerformanceCountersCollection&quot;: true,\r\n          &quot;httpAutoCollectionOptions&quot;: {\r\n            &quot;enableHttpTriggerExtendedInfoCollection&quot;: true,\r\n            &quot;enableW3CDistributedTracing&quot;: true,\r\n            &quot;enableResponseHeaderInjection&quot;: true\r\n          }\r\n        }\r\n      },\r\n      &quot;healthMonitor&quot;: {\r\n        &quot;enabled&quot;: true,\r\n        &quot;healthCheckInterval&quot;: &quot;00:00:30&quot;,\r\n        &quot;healthCheckWindow&quot;: &quot;00:02:00&quot;,\r\n        &quot;healthCheckThreshold&quot;: 6,\r\n        &quot;counterThreshold&quot;: 0.80\r\n      }\r\n    }\r\n\r\n**Exception Stack**\r\n\r\n    [\r\n        {\r\n            &quot;severityLevel&quot;: &quot;Error&quot;,\r\n            &quot;outerId&quot;: &quot;0&quot;,\r\n            &quot;message&quot;: &quot;Timeout value of 00:10:00 was exceeded by function: Functions.BlobCopy&quot;,\r\n            &quot;type&quot;: &quot;Microsoft.Azure.WebJobs.Host.FunctionTimeoutException&quot;,\r\n            &quot;id&quot;: &quot;1793742&quot;,\r\n            &quot;parsedStack&quot;: [\r\n                {\r\n                    &quot;assembly&quot;: &quot;Microsoft.Azure.WebJobs.Host, Version=3.0.36.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;,\r\n                    &quot;method&quot;: &quot;Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;TryHandleTimeoutAsync&gt;d__35.MoveNext&quot;,\r\n                    &quot;level&quot;: 0,\r\n                    &quot;line&quot;: 663,\r\n                    &quot;fileName&quot;: &quot;C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs&quot;\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\r\n                    &quot;method&quot;: &quot;System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw&quot;,\r\n                    &quot;level&quot;: 1,\r\n                    &quot;line&quot;: 0\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\r\n                    &quot;method&quot;: &quot;System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess&quot;,\r\n                    &quot;level&quot;: 2,\r\n                    &quot;line&quot;: 0\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\r\n                    &quot;method&quot;: &quot;System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification&quot;,\r\n                    &quot;level&quot;: 3,\r\n                    &quot;line&quot;: 0\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;Microsoft.Azure.WebJobs.Host, Version=3.0.36.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;,\r\n                    &quot;method&quot;: &quot;Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;InvokeWithTimeoutAsync&gt;d__33.MoveNext&quot;,\r\n                    &quot;level&quot;: 4,\r\n                    &quot;line&quot;: 571,\r\n                    &quot;fileName&quot;: &quot;C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs&quot;\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\r\n                    &quot;method&quot;: &quot;System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw&quot;,\r\n                    &quot;level&quot;: 5,\r\n                    &quot;line&quot;: 0\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\r\n                    &quot;method&quot;: &quot;System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess&quot;,\r\n                    &quot;level&quot;: 6,\r\n                    &quot;line&quot;: 0\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\r\n                    &quot;method&quot;: &quot;System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification&quot;,\r\n                    &quot;level&quot;: 7,\r\n                    &quot;line&quot;: 0\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;Microsoft.Azure.WebJobs.Host, Version=3.0.36.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;,\r\n                    &quot;method&quot;: &quot;Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithWatchersAsync&gt;d__32.MoveNext&quot;,\r\n                    &quot;level&quot;: 8,\r\n                    &quot;line&quot;: 527,\r\n                    &quot;fileName&quot;: &quot;C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs&quot;\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\r\n                    &quot;method&quot;: &quot;System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw&quot;,\r\n                    &quot;level&quot;: 9,\r\n                    &quot;line&quot;: 0\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\r\n                    &quot;method&quot;: &quot;System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess&quot;,\r\n                    &quot;level&quot;: 10,\r\n                    &quot;line&quot;: 0\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\r\n                    &quot;method&quot;: &quot;System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification&quot;,\r\n                    &quot;level&quot;: 11,\r\n                    &quot;line&quot;: 0\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;Microsoft.Azure.WebJobs.Host, Version=3.0.36.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;,\r\n                    &quot;method&quot;: &quot;Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithLoggingAsync&gt;d__26.MoveNext&quot;,\r\n                    &quot;level&quot;: 12,\r\n                    &quot;line&quot;: 306,\r\n                    &quot;fileName&quot;: &quot;C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs&quot;\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\r\n                    &quot;method&quot;: &quot;System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw&quot;,\r\n                    &quot;level&quot;: 13,\r\n                    &quot;line&quot;: 0\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;Microsoft.Azure.WebJobs.Host, Version=3.0.36.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;,\r\n                    &quot;method&quot;: &quot;Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithLoggingAsync&gt;d__26.MoveNext&quot;,\r\n                    &quot;level&quot;: 14,\r\n                    &quot;line&quot;: 352,\r\n                    &quot;fileName&quot;: &quot;C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs&quot;\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\r\n                    &quot;method&quot;: &quot;System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw&quot;,\r\n                    &quot;level&quot;: 15,\r\n                    &quot;line&quot;: 0\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\r\n                    &quot;method&quot;: &quot;System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess&quot;,\r\n                    &quot;level&quot;: 16,\r\n                    &quot;line&quot;: 0\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\r\n                    &quot;method&quot;: &quot;System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification&quot;,\r\n                    &quot;level&quot;: 17,\r\n                    &quot;line&quot;: 0\r\n                },\r\n                {\r\n                    &quot;assembly&quot;: &quot;Microsoft.Azure.WebJobs.Host, Version=3.0.36.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;,\r\n                    &quot;method&quot;: &quot;Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;TryExecuteAsync&gt;d__18.MoveNext&quot;,\r\n                    &quot;level&quot;: 18,\r\n                    &quot;line&quot;: 108,\r\n                    &quot;fileName&quot;: &quot;C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs&quot;\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n\r\n  [1]: https://i.stack.imgur.com/AAWZq.png\r\n  [2]: https://i.stack.imgur.com/9lgao.png\r\n  [3]: https://i.stack.imgur.com/iaO84.png\r\n  [4]: https://i.stack.imgur.com/RM74J.png","title":"Java Azure Function With EventGrid Trigger Timing Out","body":"<p>I am trying to write an Azure Function that would be triggered by EventGrid. I have been following the official documentation and stood up required resources. EventGrid topic, Function App, AppInsight etc. I wrote an basic function that just logs the message that it has been invoked. When I sent the message to topic, I can see the matrices of topic and subscription but all of them indicate that all messages were failed. App insight logs says the app is invoked but I don't see the messages in log analytics's <code>trace</code> table. I added custom logger but still same result. Not only the logs are not present in log analytics the app insight logs says function is timing out, considering there is no business logic in the function why is it running for that long.</p>\n<p>My intention of this function was to learn function app, but now I am lost in trying to find the issue. I am trying to understand</p>\n<ol>\n<li>Why all invocations failed(snapshot below).</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/AAWZq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AAWZq.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Why it is timing out when there is no business logic.</li>\n</ol>\n<p>I would really appreciate some inputs here on what I am missing or doing wrong. Some helpful snapshots are below.</p>\n<p><strong>Before adding loggers class looks like this</strong>\n<a href=\"https://i.stack.imgur.com/9lgao.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9lgao.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>After adding loggers class looks like this</strong>\n<a href=\"https://i.stack.imgur.com/iaO84.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iaO84.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Logger configuration</strong>\n<a href=\"https://i.stack.imgur.com/RM74J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RM74J.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Message I am sending to topic</strong></p>\n<pre><code>    [{\n  &quot;id&quot;: &quot;123&quot;,\n  &quot;eventType&quot;: &quot;Type&quot;,\n  &quot;subject&quot;: &quot;Subject&quot;,\n  &quot;eventTime&quot;: &quot;2023-01-10T21:03:07+00:00&quot;,\n  &quot;data&quot;: {\n    &quot;SourceBlobUrl&quot;: &quot;Source&quot;,\n    &quot;DestinationBlobUrl&quot;: &quot;Destination&quot;\n  },\n  &quot;dataVersion&quot;: &quot;1.0&quot;,\n  &quot;metadataVersion&quot;: &quot;1&quot;,\n  &quot;topic&quot;: &quot;/subscriptions/***/resourceGroups/***/providers/Microsoft.EventGrid/topics/topic&quot;\n}]\n</code></pre>\n<p><strong>host.json</strong></p>\n<pre><code>{\n  &quot;version&quot;: &quot;2.0&quot;,\n  &quot;functionTimeout&quot;: &quot;00:10:00&quot;,\n  &quot;extensionBundle&quot;: {\n    &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\n    &quot;version&quot;: &quot;[4.*, 5.0.0)&quot;\n  },\n  &quot;logging&quot;: {\n    &quot;fileLoggingMode&quot;: &quot;always&quot;,\n    &quot;logLevel&quot;: {\n      &quot;default&quot;: &quot;Information&quot;,\n      &quot;Host.Results&quot;: &quot;Error&quot;,\n      &quot;Function.BlobCopy&quot;: &quot;Warning&quot;,\n      &quot;Host.Aggregator&quot;: &quot;Trace&quot;\n    },\n    &quot;applicationInsights&quot;: {\n      &quot;enableLiveMetrics&quot;: true,\n      &quot;enableDependencyTracking&quot;: true,\n      &quot;enablePerformanceCountersCollection&quot;: true,\n      &quot;httpAutoCollectionOptions&quot;: {\n        &quot;enableHttpTriggerExtendedInfoCollection&quot;: true,\n        &quot;enableW3CDistributedTracing&quot;: true,\n        &quot;enableResponseHeaderInjection&quot;: true\n      }\n    }\n  },\n  &quot;healthMonitor&quot;: {\n    &quot;enabled&quot;: true,\n    &quot;healthCheckInterval&quot;: &quot;00:00:30&quot;,\n    &quot;healthCheckWindow&quot;: &quot;00:02:00&quot;,\n    &quot;healthCheckThreshold&quot;: 6,\n    &quot;counterThreshold&quot;: 0.80\n  }\n}\n</code></pre>\n<p><strong>Exception Stack</strong></p>\n<pre><code>[\n    {\n        &quot;severityLevel&quot;: &quot;Error&quot;,\n        &quot;outerId&quot;: &quot;0&quot;,\n        &quot;message&quot;: &quot;Timeout value of 00:10:00 was exceeded by function: Functions.BlobCopy&quot;,\n        &quot;type&quot;: &quot;Microsoft.Azure.WebJobs.Host.FunctionTimeoutException&quot;,\n        &quot;id&quot;: &quot;1793742&quot;,\n        &quot;parsedStack&quot;: [\n            {\n                &quot;assembly&quot;: &quot;Microsoft.Azure.WebJobs.Host, Version=3.0.36.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;,\n                &quot;method&quot;: &quot;Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;TryHandleTimeoutAsync&gt;d__35.MoveNext&quot;,\n                &quot;level&quot;: 0,\n                &quot;line&quot;: 663,\n                &quot;fileName&quot;: &quot;C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs&quot;\n            },\n            {\n                &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\n                &quot;method&quot;: &quot;System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw&quot;,\n                &quot;level&quot;: 1,\n                &quot;line&quot;: 0\n            },\n            {\n                &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\n                &quot;method&quot;: &quot;System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess&quot;,\n                &quot;level&quot;: 2,\n                &quot;line&quot;: 0\n            },\n            {\n                &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\n                &quot;method&quot;: &quot;System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification&quot;,\n                &quot;level&quot;: 3,\n                &quot;line&quot;: 0\n            },\n            {\n                &quot;assembly&quot;: &quot;Microsoft.Azure.WebJobs.Host, Version=3.0.36.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;,\n                &quot;method&quot;: &quot;Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;InvokeWithTimeoutAsync&gt;d__33.MoveNext&quot;,\n                &quot;level&quot;: 4,\n                &quot;line&quot;: 571,\n                &quot;fileName&quot;: &quot;C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs&quot;\n            },\n            {\n                &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\n                &quot;method&quot;: &quot;System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw&quot;,\n                &quot;level&quot;: 5,\n                &quot;line&quot;: 0\n            },\n            {\n                &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\n                &quot;method&quot;: &quot;System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess&quot;,\n                &quot;level&quot;: 6,\n                &quot;line&quot;: 0\n            },\n            {\n                &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\n                &quot;method&quot;: &quot;System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification&quot;,\n                &quot;level&quot;: 7,\n                &quot;line&quot;: 0\n            },\n            {\n                &quot;assembly&quot;: &quot;Microsoft.Azure.WebJobs.Host, Version=3.0.36.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;,\n                &quot;method&quot;: &quot;Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithWatchersAsync&gt;d__32.MoveNext&quot;,\n                &quot;level&quot;: 8,\n                &quot;line&quot;: 527,\n                &quot;fileName&quot;: &quot;C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs&quot;\n            },\n            {\n                &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\n                &quot;method&quot;: &quot;System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw&quot;,\n                &quot;level&quot;: 9,\n                &quot;line&quot;: 0\n            },\n            {\n                &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\n                &quot;method&quot;: &quot;System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess&quot;,\n                &quot;level&quot;: 10,\n                &quot;line&quot;: 0\n            },\n            {\n                &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\n                &quot;method&quot;: &quot;System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification&quot;,\n                &quot;level&quot;: 11,\n                &quot;line&quot;: 0\n            },\n            {\n                &quot;assembly&quot;: &quot;Microsoft.Azure.WebJobs.Host, Version=3.0.36.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;,\n                &quot;method&quot;: &quot;Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithLoggingAsync&gt;d__26.MoveNext&quot;,\n                &quot;level&quot;: 12,\n                &quot;line&quot;: 306,\n                &quot;fileName&quot;: &quot;C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs&quot;\n            },\n            {\n                &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\n                &quot;method&quot;: &quot;System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw&quot;,\n                &quot;level&quot;: 13,\n                &quot;line&quot;: 0\n            },\n            {\n                &quot;assembly&quot;: &quot;Microsoft.Azure.WebJobs.Host, Version=3.0.36.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;,\n                &quot;method&quot;: &quot;Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;ExecuteWithLoggingAsync&gt;d__26.MoveNext&quot;,\n                &quot;level&quot;: 14,\n                &quot;line&quot;: 352,\n                &quot;fileName&quot;: &quot;C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs&quot;\n            },\n            {\n                &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\n                &quot;method&quot;: &quot;System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw&quot;,\n                &quot;level&quot;: 15,\n                &quot;line&quot;: 0\n            },\n            {\n                &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\n                &quot;method&quot;: &quot;System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess&quot;,\n                &quot;level&quot;: 16,\n                &quot;line&quot;: 0\n            },\n            {\n                &quot;assembly&quot;: &quot;System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e&quot;,\n                &quot;method&quot;: &quot;System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification&quot;,\n                &quot;level&quot;: 17,\n                &quot;line&quot;: 0\n            },\n            {\n                &quot;assembly&quot;: &quot;Microsoft.Azure.WebJobs.Host, Version=3.0.36.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;,\n                &quot;method&quot;: &quot;Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor+&lt;TryExecuteAsync&gt;d__18.MoveNext&quot;,\n                &quot;level&quot;: 18,\n                &quot;line&quot;: 108,\n                &quot;fileName&quot;: &quot;C:\\\\projects\\\\azure-webjobs-sdk-rqm4t\\\\src\\\\Microsoft.Azure.WebJobs.Host\\\\Executors\\\\FunctionExecutor.cs&quot;\n            }\n        ]\n    }\n]\n</code></pre>\n"},{"tags":["java","iso8583","jpos"],"answers":[{"tags":[],"owner":{"account_id":61653,"reputation":1298,"user_id":183639,"display_name":"apr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682803891,"creation_date":1682803891,"answer_id":76138520,"question_id":76135050,"body_markdown":"You don&#39;t need the StatefulFilter for your use case. When you reply to a message you usually use code like this:\r\n\r\n```\r\nISOMsg r = (ISOMSg) m.clone(); // provided `m` is your request\r\nr.setResponseMTI();\r\nr.set(39, &quot;XX&quot;); // your error code\r\n```\r\nThen `r` becomes your response, that you set it in the Context so that the `SendResponse` can take it from there.\r\n\r\nThe `clone()` operation will preserve your original field 7.\r\n\r\nThe `StatefulFilter` can be used when you don&#39;t have access to the original request when it comes to build a response. It temporarily stores (default 1 minute) the original request in a local jPOS&#39; Space, and pick it from there at response time.\r\n\r\n\r\n","title":"How can I use the `org.jpos.iso.filter.StatefulFilter` in server channel to send back the outgoing value that I got from incoming?","body":"<p>You don't need the StatefulFilter for your use case. When you reply to a message you usually use code like this:</p>\n<pre><code>ISOMsg r = (ISOMSg) m.clone(); // provided `m` is your request\nr.setResponseMTI();\nr.set(39, &quot;XX&quot;); // your error code\n</code></pre>\n<p>Then <code>r</code> becomes your response, that you set it in the Context so that the <code>SendResponse</code> can take it from there.</p>\n<p>The <code>clone()</code> operation will preserve your original field 7.</p>\n<p>The <code>StatefulFilter</code> can be used when you don't have access to the original request when it comes to build a response. It temporarily stores (default 1 minute) the original request in a local jPOS' Space, and pick it from there at response time.</p>\n"},{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682820132,"creation_date":1682820132,"answer_id":76139250,"question_id":76135050,"body_markdown":"You need to change the `direction` property to `incoming`, from the `StatefulFilter` javadoc on `matchDirection`:\r\n\r\n\r\n&gt; What messages should I match?\r\n&gt;\r\n&gt; INCOMING: outgoing messages will be matched against the previous incoming messages\r\n&gt;\r\n&gt; OUTGOING: incoming messages will be matched against the previous outgoing messages\r\n\r\nAnd it seems you want to match the previously incoming request, when you send a response to include the original DE 7.\r\n\r\nYou&#39;d need to change the `StatefulFilter` definition to:\r\n```xml\r\n&lt;filter class=&quot;org.jpos.iso.filter.StatefulFilter&quot; logger=&quot;Q2&quot; realm=&quot;server-StatefulFilter-65000&quot;&gt;\r\n    &lt;property name=&quot;direction&quot; value=&quot;incoming&quot;/&gt; \r\n    &lt;property name=&quot;saved-fields&quot; value=&quot;7&quot;/&gt;\r\n&lt;/filter&gt;\r\n```\r\n\r\nActually, `incoming` is the default if not defined, because it&#39;s the most common use case, unless you want to match it in the channel that talks to the other end of your gateway. But (I believe)  the most common use case if for retrieving something that precisely is lost in the internal use, but the client expects to receive the same value in the request.\r\n\r\nWell it&#39;s not a much used filter and its implementation has some issues. For instance, it does not check the MTI matches, and you cannot add field 0 to the key, because the MTI of the response will not match the one of the request. It should do what `QMUX` does, but its implementation is too basic.\r\n","title":"How can I use the `org.jpos.iso.filter.StatefulFilter` in server channel to send back the outgoing value that I got from incoming?","body":"<p>You need to change the <code>direction</code> property to <code>incoming</code>, from the <code>StatefulFilter</code> javadoc on <code>matchDirection</code>:</p>\n<blockquote>\n<p>What messages should I match?</p>\n<p>INCOMING: outgoing messages will be matched against the previous incoming messages</p>\n<p>OUTGOING: incoming messages will be matched against the previous outgoing messages</p>\n</blockquote>\n<p>And it seems you want to match the previously incoming request, when you send a response to include the original DE 7.</p>\n<p>You'd need to change the <code>StatefulFilter</code> definition to:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter class=&quot;org.jpos.iso.filter.StatefulFilter&quot; logger=&quot;Q2&quot; realm=&quot;server-StatefulFilter-65000&quot;&gt;\n    &lt;property name=&quot;direction&quot; value=&quot;incoming&quot;/&gt; \n    &lt;property name=&quot;saved-fields&quot; value=&quot;7&quot;/&gt;\n&lt;/filter&gt;\n</code></pre>\n<p>Actually, <code>incoming</code> is the default if not defined, because it's the most common use case, unless you want to match it in the channel that talks to the other end of your gateway. But (I believe)  the most common use case if for retrieving something that precisely is lost in the internal use, but the client expects to receive the same value in the request.</p>\n<p>Well it's not a much used filter and its implementation has some issues. For instance, it does not check the MTI matches, and you cannot add field 0 to the key, because the MTI of the response will not match the one of the request. It should do what <code>QMUX</code> does, but its implementation is too basic.</p>\n"}],"owner":{"account_id":3759553,"reputation":351,"user_id":3124992,"display_name":"Sanjok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76139250,"answer_count":2,"score":0,"last_activity_date":1682820132,"creation_date":1682753691,"question_id":76135050,"body_markdown":"I tried to use the `StatefulFilter` but I am not able to achieve what I just wanted. I have the below configuration for the server. For particular ISO fields (field 7) I want to \r\n I want to reply back with the same value as was sent by the client. If an inbuilt filter like  `org.jpos.iso.filter.StatefulFilter` can do this I would not choose to add the logic\r\n through the code.\r\n```xml\r\n&lt;server name=&quot;eSewa-server-65000&quot; class=&quot;org.jpos.q2.iso.QServer&quot; logger=&quot;Q2&quot;&gt;\r\n    &lt;attr name=&quot;port&quot; type=&quot;java.lang.Integer&quot;&gt;65000&lt;/attr&gt;\r\n    &lt;attr name=&quot;minSessions&quot; type=&quot;java.lang.Integer&quot;&gt;1&lt;/attr&gt;\r\n    &lt;attr name=&quot;maxSessions&quot; type=&quot;java.lang.Integer&quot;&gt;5&lt;/attr&gt;\r\n    &lt;property name=&quot;debug&quot; value=&quot;true&quot;/&gt;\r\n\r\n\r\n    &lt;channel class=&quot;org.jpos.iso.channel.TelnetXMLChannel&quot;\r\n             packager=&quot;org.jpos.iso.packager.XMLPackager&quot;\r\n             type=&quot;server&quot;\r\n             logger=&quot;Q2&quot;\r\n             realm=&quot;server-channel-65000&quot;&gt;\r\n                &lt;filter class=&quot;org.jpos.iso.filter.StatefulFilter&quot; logger=&quot;Q2&quot; realm=&quot;server-StatefulFilter-65000&quot;&gt;\r\n                    &lt;property name=&quot;direction&quot; value=&quot;outgoing&quot;/&gt;\r\n                    &lt;property name=&quot;saved-fields&quot; value=&quot;7&quot;/&gt;\r\n                &lt;/filter&gt;\r\n   \r\n        &lt;property name=&quot;timeout&quot; value=&quot;30000&quot;/&gt;       \r\n        &lt;filter class=&quot;org.jpos.iso.filter.DebugFilter&quot; direction=&quot;incoming&quot;/&gt;   \r\n\r\n    &lt;/channel&gt;\r\n\r\n    &lt;request-listener class=&quot;org.jpos.iso.IncomingListener&quot; logger=&quot;Q2&quot;\r\n                      realm=&quot;incoming-request-listener&quot;&gt;\r\n        &lt;property name=&quot;space&quot; value=&quot;tspace:default&quot;/&gt;\r\n        &lt;property name=&quot;queue&quot; value=&quot;TXNMGR&quot;/&gt;\r\n        &lt;property name=&quot;ctx.DESTINATION&quot; value=&quot;jPOS-AUTORESPONDER&quot;/&gt;\r\n        &lt;property name=&quot;timeout&quot; value=&quot;30000&quot;/&gt;\r\n    &lt;/request-listener&gt;\r\n&lt;/server&gt;\r\n```","title":"How can I use the `org.jpos.iso.filter.StatefulFilter` in server channel to send back the outgoing value that I got from incoming?","body":"<p>I tried to use the <code>StatefulFilter</code> but I am not able to achieve what I just wanted. I have the below configuration for the server. For particular ISO fields (field 7) I want to\nI want to reply back with the same value as was sent by the client. If an inbuilt filter like  <code>org.jpos.iso.filter.StatefulFilter</code> can do this I would not choose to add the logic\nthrough the code.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;server name=&quot;eSewa-server-65000&quot; class=&quot;org.jpos.q2.iso.QServer&quot; logger=&quot;Q2&quot;&gt;\n    &lt;attr name=&quot;port&quot; type=&quot;java.lang.Integer&quot;&gt;65000&lt;/attr&gt;\n    &lt;attr name=&quot;minSessions&quot; type=&quot;java.lang.Integer&quot;&gt;1&lt;/attr&gt;\n    &lt;attr name=&quot;maxSessions&quot; type=&quot;java.lang.Integer&quot;&gt;5&lt;/attr&gt;\n    &lt;property name=&quot;debug&quot; value=&quot;true&quot;/&gt;\n\n\n    &lt;channel class=&quot;org.jpos.iso.channel.TelnetXMLChannel&quot;\n             packager=&quot;org.jpos.iso.packager.XMLPackager&quot;\n             type=&quot;server&quot;\n             logger=&quot;Q2&quot;\n             realm=&quot;server-channel-65000&quot;&gt;\n                &lt;filter class=&quot;org.jpos.iso.filter.StatefulFilter&quot; logger=&quot;Q2&quot; realm=&quot;server-StatefulFilter-65000&quot;&gt;\n                    &lt;property name=&quot;direction&quot; value=&quot;outgoing&quot;/&gt;\n                    &lt;property name=&quot;saved-fields&quot; value=&quot;7&quot;/&gt;\n                &lt;/filter&gt;\n   \n        &lt;property name=&quot;timeout&quot; value=&quot;30000&quot;/&gt;       \n        &lt;filter class=&quot;org.jpos.iso.filter.DebugFilter&quot; direction=&quot;incoming&quot;/&gt;   \n\n    &lt;/channel&gt;\n\n    &lt;request-listener class=&quot;org.jpos.iso.IncomingListener&quot; logger=&quot;Q2&quot;\n                      realm=&quot;incoming-request-listener&quot;&gt;\n        &lt;property name=&quot;space&quot; value=&quot;tspace:default&quot;/&gt;\n        &lt;property name=&quot;queue&quot; value=&quot;TXNMGR&quot;/&gt;\n        &lt;property name=&quot;ctx.DESTINATION&quot; value=&quot;jPOS-AUTORESPONDER&quot;/&gt;\n        &lt;property name=&quot;timeout&quot; value=&quot;30000&quot;/&gt;\n    &lt;/request-listener&gt;\n&lt;/server&gt;\n</code></pre>\n"},{"tags":["java","android","locale"],"answers":[{"tags":[],"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682818080,"creation_date":1682818080,"answer_id":76139188,"question_id":76130591,"body_markdown":"Ah yes this is the Android configuration setting annoyance.\r\nFor some reason changing configurations like these requires you to do this on every single Activity. Want to change to dark mode according to your own app&#39;s settings? Have to perform the action on every Activity.\r\n\r\nA classic way to circumvent this is to make a base class doing all the grabbing preferences and setting preferences sutff and extending all other classes from that one class.\r\n\r\nSometimes it might not suit your needs to do this, but as far as I had checked last time, every activity has to have prefs set on _usually_ the onResume overloaded method.","title":"android java change language programatically","body":"<p>Ah yes this is the Android configuration setting annoyance.\nFor some reason changing configurations like these requires you to do this on every single Activity. Want to change to dark mode according to your own app's settings? Have to perform the action on every Activity.</p>\n<p>A classic way to circumvent this is to make a base class doing all the grabbing preferences and setting preferences sutff and extending all other classes from that one class.</p>\n<p>Sometimes it might not suit your needs to do this, but as far as I had checked last time, every activity has to have prefs set on <em>usually</em> the onResume overloaded method.</p>\n"}],"owner":{"account_id":5600321,"reputation":322,"user_id":4447899,"accept_rate":50,"display_name":"user4447899"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682818080,"creation_date":1682692057,"question_id":76130591,"body_markdown":"I have an application which has a activity which handles switching fragments\r\n\r\n    public void replaceFragment(@IdRes int containerViewId,\r\n                                    @NonNull Fragment fragment,\r\n                                    @NonNull String fragmentTag\r\n        ) {\r\n            getSupportFragmentManager()\r\n                    .beginTransaction()\r\n                    .replace(containerViewId, fragment, fragmentTag)\r\n                    .commitNow();\r\n        }\r\n\r\nThere is a language toggle in the main activity. \r\n\r\nI have two strings files strings.xml in my folders values and values-fr\r\n\r\nfor english and french\r\n\r\nNow when i toggle i do this\r\n\r\n    Locale locale = new Locale(languageCode);\r\n    Locale.setDefault(locale);\r\n    Resources resources = activity.getResources();\r\n    Configuration config = resources.getConfiguration();\r\n    config.setLocale(locale);\r\n    resources.updateConfiguration(config, resources.getDisplayMetrics());\r\n    activity.recreate()\r\n\r\nThe activity changes language and the first fragment but none of the others\r\n\r\nPlease can anyone help. My targetSdkVersion is 31","title":"android java change language programatically","body":"<p>I have an application which has a activity which handles switching fragments</p>\n<pre><code>public void replaceFragment(@IdRes int containerViewId,\n                                @NonNull Fragment fragment,\n                                @NonNull String fragmentTag\n    ) {\n        getSupportFragmentManager()\n                .beginTransaction()\n                .replace(containerViewId, fragment, fragmentTag)\n                .commitNow();\n    }\n</code></pre>\n<p>There is a language toggle in the main activity.</p>\n<p>I have two strings files strings.xml in my folders values and values-fr</p>\n<p>for english and french</p>\n<p>Now when i toggle i do this</p>\n<pre><code>Locale locale = new Locale(languageCode);\nLocale.setDefault(locale);\nResources resources = activity.getResources();\nConfiguration config = resources.getConfiguration();\nconfig.setLocale(locale);\nresources.updateConfiguration(config, resources.getDisplayMetrics());\nactivity.recreate()\n</code></pre>\n<p>The activity changes language and the first fragment but none of the others</p>\n<p>Please can anyone help. My targetSdkVersion is 31</p>\n"},{"tags":["java","spring","spring-boot","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":20668210,"reputation":75,"user_id":15174539,"display_name":"lee yiyang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618989869,"creation_date":1618989869,"answer_id":67191092,"question_id":67191032,"body_markdown":"Do u try to change the version to 0.9.2 ?\r\n","title":"org.springframework.experimental:spring-aot-maven-plugin:jar:0.9.2 was not found","body":"<p>Do u try to change the version to 0.9.2 ?</p>\n"},{"tags":[],"owner":{"account_id":21346348,"reputation":74,"user_id":15716360,"display_name":"hdha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1618990933,"creation_date":1618990012,"answer_id":67191125,"question_id":67191032,"body_markdown":"You have to add this repository . Because ```spring-aot-maven-plugin ``` plugin available in this repository ```https://repo.spring.io/release```\r\n\r\n```\r\n&lt;repositories&gt;\r\n\t\t\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Local Nexus&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n```\r\n\r\ni have tried this plugin with above repository  :\r\n```\r\n&lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.2&lt;/version&gt;\r\n```\r\nand it is working fine..\r\n","title":"org.springframework.experimental:spring-aot-maven-plugin:jar:0.9.2 was not found","body":"<p>You have to add this repository . Because <code>spring-aot-maven-plugin </code> plugin available in this repository <code>https://repo.spring.io/release</code></p>\n<pre><code>&lt;repositories&gt;\n        \n        &lt;repository&gt;\n            &lt;id&gt;snapshots&lt;/id&gt;\n            &lt;name&gt;Local Nexus&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n</code></pre>\n<p>i have tried this plugin with above repository  :</p>\n<pre><code>&lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.9.2&lt;/version&gt;\n</code></pre>\n<p>and it is working fine..</p>\n"},{"tags":[],"owner":{"account_id":18145233,"reputation":11,"user_id":13198630,"display_name":"Kaushik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647599377,"creation_date":1647599377,"answer_id":71525637,"question_id":67191032,"body_markdown":"Adding to the answer from hdha, for plugins from different repositories, you can add pluginRepsoitories tag to mention the url to use for certain plugins.\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;snapshots&lt;/id&gt;\r\n            &lt;name&gt;Local Nexus&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;","title":"org.springframework.experimental:spring-aot-maven-plugin:jar:0.9.2 was not found","body":"<p>Adding to the answer from hdha, for plugins from different repositories, you can add pluginRepsoitories tag to mention the url to use for certain plugins.</p>\n<pre><code>&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;snapshots&lt;/id&gt;\n        &lt;name&gt;Local Nexus&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1669453,"reputation":2017,"user_id":1536197,"accept_rate":21,"display_name":"Hernaldo Gonzalez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682815316,"creation_date":1682815316,"answer_id":76139089,"question_id":67191032,"body_markdown":"The same error happened to me, finally, after 1 hour I noticed that if you want to work with Spring Native \r\n\r\n     &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;repackage.classifier /&gt;\r\n        &lt;spring-native.version&gt;0.12.1&lt;/spring-native.version&gt;\r\n      &lt;/properties&gt;\r\n    ...\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-native&lt;/artifactId&gt;\r\n       &lt;version&gt;${spring-native.version}&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n    \r\n    and then...\r\n    \r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-native.version}&lt;/version&gt;\r\n      &lt;executions&gt;...\r\n\r\nYou have to add the two answers indicated here, so you look for them in this repo and not in maven central\r\n  \r\n\r\n     &lt;pluginRepositories&gt;\r\n         &lt;pluginRepository&gt;\r\n           &lt;id&gt;snapshots&lt;/id&gt;\r\n           &lt;name&gt;Nexus Local&lt;/name&gt;\r\n           &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\r\n         &lt;/pluginRepository&gt;\r\n       &lt;/pluginRepositories&gt;\r\n    \r\n       &lt;repositories&gt;\r\n         &lt;repository&gt;\r\n           &lt;id&gt;spring-release&lt;/id&gt;\r\n           &lt;name&gt;Spring release&lt;/name&gt;\r\n           &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\r\n           &lt;snapshot&gt;\r\n             &lt;enabled&gt;false&lt;/enabled&gt;\r\n           &lt;/snapshot&gt;\r\n         &lt;/repository&gt;\r\n       &lt;/repositories&gt;\r\n\r\n    &lt;/project&gt;\r\n","title":"org.springframework.experimental:spring-aot-maven-plugin:jar:0.9.2 was not found","body":"<p>The same error happened to me, finally, after 1 hour I noticed that if you want to work with Spring Native</p>\n<pre><code> &lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;repackage.classifier /&gt;\n    &lt;spring-native.version&gt;0.12.1&lt;/spring-native.version&gt;\n  &lt;/properties&gt;\n...\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-native&lt;/artifactId&gt;\n   &lt;version&gt;${spring-native.version}&lt;/version&gt;\n &lt;/dependency&gt;\n\nand then...\n\n&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;${spring-native.version}&lt;/version&gt;\n  &lt;executions&gt;...\n</code></pre>\n<p>You have to add the two answers indicated here, so you look for them in this repo and not in maven central</p>\n<pre><code> &lt;pluginRepositories&gt;\n     &lt;pluginRepository&gt;\n       &lt;id&gt;snapshots&lt;/id&gt;\n       &lt;name&gt;Nexus Local&lt;/name&gt;\n       &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\n     &lt;/pluginRepository&gt;\n   &lt;/pluginRepositories&gt;\n\n   &lt;repositories&gt;\n     &lt;repository&gt;\n       &lt;id&gt;spring-release&lt;/id&gt;\n       &lt;name&gt;Spring release&lt;/name&gt;\n       &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\n       &lt;snapshot&gt;\n         &lt;enabled&gt;false&lt;/enabled&gt;\n       &lt;/snapshot&gt;\n     &lt;/repository&gt;\n   &lt;/repositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":12447608,"reputation":93,"user_id":9063332,"display_name":"Atulya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5740,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":67191125,"answer_count":4,"score":4,"last_activity_date":1682815316,"creation_date":1618989581,"question_id":67191032,"body_markdown":"I added the dependency and plugins using this documentation-\r\n https://docs.spring.io/spring-native/docs/current/reference/htmlsingle/\r\n\r\n\r\nI also tried-\r\n```mvn clean install```\r\n.But I keep getting this error-\r\n[![enter image description here][1]][1]\r\n\r\nThanks for the help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xdfgR.png","title":"org.springframework.experimental:spring-aot-maven-plugin:jar:0.9.2 was not found","body":"<p>I added the dependency and plugins using this documentation-\n<a href=\"https://docs.spring.io/spring-native/docs/current/reference/htmlsingle/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-native/docs/current/reference/htmlsingle/</a></p>\n<p>I also tried-\n<code>mvn clean install</code>\n.But I keep getting this error-\n<a href=\"https://i.stack.imgur.com/xdfgR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xdfgR.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks for the help.</p>\n"},{"tags":["java","hibernate","jpa","quarkus"],"answers":[{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682813962,"creation_date":1682813962,"answer_id":76139041,"question_id":76138929,"body_markdown":"Try to use \r\n\r\n```\r\n@OneToOne(cascade = CascadeType.MERGE, fetch = FetchType.LAZY)\r\n@PrimaryKeyJoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;user_id&quot;)\r\nprivate UserProfile profile;\r\n```\r\n\r\nInstead of `CascadeType.ALL`.\r\n\r\nIf the cascade type is set to **PERSIST** or **ALL**, Hibernate will try to propagate the persist operation on the detached associated field.  \r\n\r\nWhen you persist a `User` entity with one of these cascading types, Hibernate will persist the associated detached `UserProfile`, which will lead to `PersistentObjectException`.","title":"Issue with @OneToOne unidirectional relationship and Hibernate","body":"<p>Try to use</p>\n<pre><code>@OneToOne(cascade = CascadeType.MERGE, fetch = FetchType.LAZY)\n@PrimaryKeyJoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;user_id&quot;)\nprivate UserProfile profile;\n</code></pre>\n<p>Instead of <code>CascadeType.ALL</code>.</p>\n<p>If the cascade type is set to <strong>PERSIST</strong> or <strong>ALL</strong>, Hibernate will try to propagate the persist operation on the detached associated field.</p>\n<p>When you persist a <code>User</code> entity with one of these cascading types, Hibernate will persist the associated detached <code>UserProfile</code>, which will lead to <code>PersistentObjectException</code>.</p>\n"}],"owner":{"account_id":11446669,"reputation":49,"user_id":8390330,"display_name":"hubfix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682814876,"creation_date":1682811181,"question_id":76138929,"body_markdown":"I&#39;m developing a simple application for my database with Quarkus and Hibernate as ORM.\r\n\r\nI want to be able to register Users and associate individual UserProfiles with them.\r\n\r\nCurrently, this is how I&#39;ve set up the tables in ***PostgreSQL 14***:\r\n```\r\nhibernate=# \\d user;\r\n id           | character varying(36)  |           | not null | \r\n created_at   | bigint                 |           | not null | \r\n email        | character varying(255) |           | not null | \r\n handler      | character varying(36)  |           | not null | \r\n locked       | boolean                |           | not null | \r\n password     | character varying(255) |           | not null | \r\n updated_at   | bigint                 |           | not null | \r\n verified     | boolean                |           | not null | \r\n account_type | integer                |           |          |\r\n```\r\n```\r\nhibernate=# \\d user_profile;\r\n id         | integer                |           | not null | \r\n birth_date | date                   |           |          | \r\n created_at | bigint                 |           | not null | \r\n first_name | character varying(255) |           | not null | \r\n last_name  | character varying(255) |           | not null | \r\n telephone  | character varying(255) |           |          | \r\n updated_at | bigint                 |           | not null | \r\n user_id    | character varying(36)  |           | not null |\r\n```\r\n\r\nwith `user_id` being the FK for `user.id`.\r\n\r\nI&#39;ve set up my entities like this\r\n\r\n```java\r\n@Data\r\n@EqualsAndHashCode(callSuper = false)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;`user`&quot;)\r\npublic class User extends PanacheEntityBase {\r\n\t\r\n\t@Id \r\n\t@Column(name = &quot;`id`&quot;, length = 36, updatable = false, nullable = false)\r\n\t@GeneratedValue(generator = &quot;UUID&quot;)\r\n    @GenericGenerator(\r\n\t\tname = &quot;UUID&quot;,\r\n\t\tstrategy = &quot;org.hibernate.id.UUIDGenerator&quot;\r\n\t)\r\n\tprivate String id;\r\n\t\r\n\t@Column(name = &quot;handler&quot;, length = 36, nullable = false, unique = true)\r\n\tprivate String handler;\r\n\r\n\t@Column(unique = true, nullable = false)\r\n\tprivate String email;\r\n\r\n\t@Column(name = &quot;password&quot;, nullable = false)\r\n\tprivate String password;\r\n\r\n\t@Column(name = &quot;account_type&quot;, nullable = false)\r\n\tprivate Integer accountType;\r\n\r\n\t@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\r\n\t@JoinTable(\r\n\t\t\tname = &quot;user_role&quot;,\r\n\t\t\tjoinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),\r\n\t\t\tinverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\t)\r\n\tprivate Set&lt;Role&gt; roles;\r\n\r\n\t@OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n\t@PrimaryKeyJoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;user_id&quot;)\r\n\tprivate UserProfile profile;\r\n\r\n\t@Column(name = &quot;locked&quot;, nullable = false)\r\n\tprivate boolean locked = false;\r\n\r\n\t@Column(name = &quot;verified&quot;, nullable = false)\r\n\tprivate boolean verified = false;\r\n\r\n\t@Column(name = &quot;created_at&quot;, nullable = false)\r\n\tprivate long createdAt;\r\n\r\n\t@Column(name = &quot;updated_at&quot;, nullable = false)\r\n\tprivate long updatedAt;\r\n}\r\n```\r\n\r\n```java\r\n@Data\r\n@EqualsAndHashCode(callSuper = false)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;user_profile&quot;)\r\npublic class UserProfile extends PanacheEntityBase {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;`id`&quot;, updatable = false, nullable = false)\r\n\tprivate Integer id = 1;\r\n\r\n\t@Column(name = &quot;user_id&quot;, length = 36, nullable = false, unique = true)\r\n\tprivate String userId;\r\n\r\n\t@Column(name = &quot;first_name&quot;, nullable = false)\r\n\tprivate String firstName;\r\n\r\n\t@Column(name = &quot;last_name&quot;, nullable = false)\r\n\tprivate String lastName;\r\n\r\n\t@Column(name=&quot;birth_date&quot;)\r\n\tprivate LocalDate birthDate;\r\n\r\n\t@Column(name = &quot;telephone&quot;)\r\n\tprivate String telephone;\r\n\r\n\t@Column(name = &quot;created_at&quot;, nullable = false)\r\n\tprivate long createdAt;\r\n\r\n\t@Column(name = &quot;updated_at&quot;, nullable = false)\r\n\tprivate long updatedAt;\r\n}\r\n```\r\n\r\nSince I&#39;m expecting to receive a `UserDTO` from a **REST** endpoint with a similar structure:\r\n\r\n```\r\n{\r\n  &quot;email&quot;: &quot;string@email.test&quot;,\r\n  &quot;password&quot;: &quot;string&quot;,\r\n  &quot;handler&quot;: &quot;oXaTxETbXyZUCGTd5D2oG77At0B7JPh&quot;,\r\n  &quot;roles&quot;: [\r\n    &quot;SUPPLIER&quot;\r\n  ],\r\n  &quot;accountType&quot;: &quot;PHYSICAL&quot;,\r\n  &quot;profile&quot;: {\r\n    &quot;firstName&quot;: &quot;string&quot;,\r\n    &quot;lastName&quot;: &quot;string&quot;,\r\n    &quot;telephone&quot;: &quot;+(535071 778954450&quot;,\r\n    &quot;birthDate&quot;: &quot;2022-03-10&quot;,\r\n    &quot;createdAt&quot;: 0,\r\n    &quot;updatedAt&quot;: 0\r\n  },\r\n  &quot;addresses&quot;: [\r\n    {\r\n      &quot;id&quot;: 0,\r\n      &quot;state&quot;: &quot;z&quot;,\r\n      &quot;country&quot;: &quot;D&quot;,\r\n      &quot;region&quot;: &quot;$&quot;,\r\n      &quot;province&quot;: &quot;;&quot;,\r\n      &quot;city&quot;: &quot;|&quot;,\r\n      &quot;address&quot;: &quot;g&quot;,\r\n      &quot;postcode&quot;: &quot;5&quot;,\r\n      &quot;street&quot;: &quot;R&quot;,\r\n      &quot;suffix&quot;: &quot;V&quot;,\r\n      &quot;vatNumber&quot;: &quot;string&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nwhat I do is map the UserDTO to a User entity using MapStruct, so I have something like\r\n\r\n```java\r\nUser user = userMapper.toUser(userDTO);\r\nuserRepository.persistAndFlush(user);\r\n```\r\n\r\nHowever, I keep on getting this error:\r\n\r\n&gt;An exception occurred! : javax.persistence.PersistenceException: org.hibernate.PersistentObjectException: detached entity passed to persist: com.entities.UserProfile  \r\n\r\n***How could I fix this issue?***","title":"Issue with @OneToOne unidirectional relationship and Hibernate","body":"<p>I'm developing a simple application for my database with Quarkus and Hibernate as ORM.</p>\n<p>I want to be able to register Users and associate individual UserProfiles with them.</p>\n<p>Currently, this is how I've set up the tables in <em><strong>PostgreSQL 14</strong></em>:</p>\n<pre><code>hibernate=# \\d user;\n id           | character varying(36)  |           | not null | \n created_at   | bigint                 |           | not null | \n email        | character varying(255) |           | not null | \n handler      | character varying(36)  |           | not null | \n locked       | boolean                |           | not null | \n password     | character varying(255) |           | not null | \n updated_at   | bigint                 |           | not null | \n verified     | boolean                |           | not null | \n account_type | integer                |           |          |\n</code></pre>\n<pre><code>hibernate=# \\d user_profile;\n id         | integer                |           | not null | \n birth_date | date                   |           |          | \n created_at | bigint                 |           | not null | \n first_name | character varying(255) |           | not null | \n last_name  | character varying(255) |           | not null | \n telephone  | character varying(255) |           |          | \n updated_at | bigint                 |           | not null | \n user_id    | character varying(36)  |           | not null |\n</code></pre>\n<p>with <code>user_id</code> being the FK for <code>user.id</code>.</p>\n<p>I've set up my entities like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@EqualsAndHashCode(callSuper = false)\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;`user`&quot;)\npublic class User extends PanacheEntityBase {\n    \n    @Id \n    @Column(name = &quot;`id`&quot;, length = 36, updatable = false, nullable = false)\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(\n        name = &quot;UUID&quot;,\n        strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\n    )\n    private String id;\n    \n    @Column(name = &quot;handler&quot;, length = 36, nullable = false, unique = true)\n    private String handler;\n\n    @Column(unique = true, nullable = false)\n    private String email;\n\n    @Column(name = &quot;password&quot;, nullable = false)\n    private String password;\n\n    @Column(name = &quot;account_type&quot;, nullable = false)\n    private Integer accountType;\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;user_role&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)\n    )\n    private Set&lt;Role&gt; roles;\n\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @PrimaryKeyJoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;user_id&quot;)\n    private UserProfile profile;\n\n    @Column(name = &quot;locked&quot;, nullable = false)\n    private boolean locked = false;\n\n    @Column(name = &quot;verified&quot;, nullable = false)\n    private boolean verified = false;\n\n    @Column(name = &quot;created_at&quot;, nullable = false)\n    private long createdAt;\n\n    @Column(name = &quot;updated_at&quot;, nullable = false)\n    private long updatedAt;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@EqualsAndHashCode(callSuper = false)\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;user_profile&quot;)\npublic class UserProfile extends PanacheEntityBase {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;`id`&quot;, updatable = false, nullable = false)\n    private Integer id = 1;\n\n    @Column(name = &quot;user_id&quot;, length = 36, nullable = false, unique = true)\n    private String userId;\n\n    @Column(name = &quot;first_name&quot;, nullable = false)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;, nullable = false)\n    private String lastName;\n\n    @Column(name=&quot;birth_date&quot;)\n    private LocalDate birthDate;\n\n    @Column(name = &quot;telephone&quot;)\n    private String telephone;\n\n    @Column(name = &quot;created_at&quot;, nullable = false)\n    private long createdAt;\n\n    @Column(name = &quot;updated_at&quot;, nullable = false)\n    private long updatedAt;\n}\n</code></pre>\n<p>Since I'm expecting to receive a <code>UserDTO</code> from a <strong>REST</strong> endpoint with a similar structure:</p>\n<pre><code>{\n  &quot;email&quot;: &quot;string@email.test&quot;,\n  &quot;password&quot;: &quot;string&quot;,\n  &quot;handler&quot;: &quot;oXaTxETbXyZUCGTd5D2oG77At0B7JPh&quot;,\n  &quot;roles&quot;: [\n    &quot;SUPPLIER&quot;\n  ],\n  &quot;accountType&quot;: &quot;PHYSICAL&quot;,\n  &quot;profile&quot;: {\n    &quot;firstName&quot;: &quot;string&quot;,\n    &quot;lastName&quot;: &quot;string&quot;,\n    &quot;telephone&quot;: &quot;+(535071 778954450&quot;,\n    &quot;birthDate&quot;: &quot;2022-03-10&quot;,\n    &quot;createdAt&quot;: 0,\n    &quot;updatedAt&quot;: 0\n  },\n  &quot;addresses&quot;: [\n    {\n      &quot;id&quot;: 0,\n      &quot;state&quot;: &quot;z&quot;,\n      &quot;country&quot;: &quot;D&quot;,\n      &quot;region&quot;: &quot;$&quot;,\n      &quot;province&quot;: &quot;;&quot;,\n      &quot;city&quot;: &quot;|&quot;,\n      &quot;address&quot;: &quot;g&quot;,\n      &quot;postcode&quot;: &quot;5&quot;,\n      &quot;street&quot;: &quot;R&quot;,\n      &quot;suffix&quot;: &quot;V&quot;,\n      &quot;vatNumber&quot;: &quot;string&quot;\n    }\n  ]\n}\n</code></pre>\n<p>what I do is map the UserDTO to a User entity using MapStruct, so I have something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>User user = userMapper.toUser(userDTO);\nuserRepository.persistAndFlush(user);\n</code></pre>\n<p>However, I keep on getting this error:</p>\n<blockquote>\n<p>An exception occurred! : javax.persistence.PersistenceException: org.hibernate.PersistentObjectException: detached entity passed to persist: com.entities.UserProfile</p>\n</blockquote>\n<p><em><strong>How could I fix this issue?</strong></em></p>\n"},{"tags":["java","inheritance","multi-level"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1682807453,"post_id":76138729,"comment_id":134273975,"body_markdown":"I see no [cast](https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.16) anywhere in your code, so what&#39;s the actual question?","body":"I see no <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.16\" rel=\"nofollow noreferrer\">cast</a> anywhere in your code, so what&#39;s the actual question?"},{"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"score":0,"creation_date":1682807508,"post_id":76138729,"comment_id":134273980,"body_markdown":"wow, because when I tried it didn&#39;t work.  The question is as stated.  How can I turn my square into a rectangle","body":"wow, because when I tried it didn&#39;t work.  The question is as stated.  How can I turn my square into a rectangle"},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1682807757,"post_id":76138729,"comment_id":134273998,"body_markdown":"I&#39;m confused by your final question because it looks like you want `getStr1` to return the same thing as `getStr0`.","body":"I&#39;m confused by your final question because it looks like you want <code>getStr1</code> to return the same thing as <code>getStr0</code>."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1682807819,"post_id":76138729,"comment_id":134274003,"body_markdown":"How about you don&#39;t override `getStr0` in Square?","body":"How about you don&#39;t override <code>getStr0</code> in Square?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1682807918,"post_id":76138729,"comment_id":134274011,"body_markdown":"@JeffHolt I presume `getStr0` is the one that returns `&quot;Square with side: ...&quot;` and `getStr1` is the one that gives `&quot;Has area...&quot;` but it could do with a [mre].","body":"@JeffHolt I presume <code>getStr0</code> is the one that returns <code>&quot;Square with side: ...&quot;</code> and <code>getStr1</code> is the one that gives <code>&quot;Has area...&quot;</code> but it could do with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"score":0,"creation_date":1682807986,"post_id":76138729,"comment_id":134274015,"body_markdown":"@khelwood, you are correct.","body":"@khelwood, you are correct."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":2,"creation_date":1682808343,"post_id":76138729,"comment_id":134274045,"body_markdown":"@DCR - ah, now I get what you&#39;re asking. I think you&#39;re out of luck. Once you&#39;ve got an override in Square for a Shape method, it&#39;s going to get called.  Casting to a Rectangle will not help.  If sometimes you want the Sqaure override and sometimes you don&#39;t, you&#39;ll have to have a set of methods that allow that to be expressed.","body":"@DCR - ah, now I get what you&#39;re asking. I think you&#39;re out of luck. Once you&#39;ve got an override in Square for a Shape method, it&#39;s going to get called.  Casting to a Rectangle will not help.  If sometimes you want the Sqaure override and sometimes you don&#39;t, you&#39;ll have to have a set of methods that allow that to be expressed."},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1682808356,"post_id":76138729,"comment_id":134274047,"body_markdown":"@khelwood Not from the output he showed. The first output line comes from getStr0 and the 2nd (the one he says he wants to change) comes from getStr1. Weird how you would think it was the other way around.","body":"@khelwood Not from the output he showed. The first output line comes from getStr0 and the 2nd (the one he says he wants to change) comes from getStr1. Weird how you would think it was the other way around."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1682808468,"post_id":76138729,"comment_id":134274058,"body_markdown":"@JeffHolt There are two shapes in the list. So they&#39;re printing str0 then str1 of the first shape, then str0 and str1 of the second shape.","body":"@JeffHolt There are two shapes in the list. So they&#39;re printing str0 then str1 of the first shape, then str0 and str1 of the second shape."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1682808537,"post_id":76138729,"comment_id":134274063,"body_markdown":"No. There is no way to make a Square behave like a Rectangle, because behaviour of a Square *overrides* behaviour of a Rectangle (ie it has different implementations for its methods). Assigning a Square object to a Rectangle variable, then calling the method on the variable has no effect either.","body":"No. There is no way to make a Square behave like a Rectangle, because behaviour of a Square <i>overrides</i> behaviour of a Rectangle (ie it has different implementations for its methods). Assigning a Square object to a Rectangle variable, then calling the method on the variable has no effect either."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682811336,"creation_date":1682808490,"answer_id":76138793,"question_id":76138729,"body_markdown":"No.\r\n\r\n&quot;Cast&quot; is a term resolved for only one thing, which is __a syntactical construct__. Anything in java source code that looks like: `(SomeType) someExpression`. The reason you should not be using that term for anything except that (and that should come up very rarely in discussion), is that the cast operator is used for __3 completely and utterly unrelated things__, but you might, if you&#39;re not too familiar with java, confuse the 3. Which you appear to be doing. Best to avoid that confusion by using clearer terminology.\r\n\r\nSo how different are these 3? _Completely_. Before you think that doesn&#39;t make sense, remember:\r\n\r\n```\r\nString a = &quot;Hello&quot;;\r\nString b = &quot;, world!&quot;;\r\nString c = a + b;\r\n\r\nint x = 5;\r\nint y = 10;\r\nint z = x + y;\r\n```\r\n\r\nUses the exact same operator (`+`) for 2 __utterly unrelated__ things: String concatenation, and numeric addition.\r\n\r\nThe same thing applies to the cast operator.\r\n\r\n## Conversion\r\n\r\n__The only way a cast operation converts anything at all is if the type in the parens is a primitive__. That is all. You have asked: &quot;Can I convert a square to a rectangle or otherwise make that square somehow use rectangle&#39;s toString by involving a cast somehow&quot; and the answer is an emphatic: __No__, because the cast operator __cannot convert anything__, unless you are casting one primitive to another. `int x = (int) someDouble;` is an actual conversion, but only the 8 primitives can do that (and in practice, `boolean` can&#39;t do the job either.\r\n\r\n## Type check\r\n\r\nWhen the type in the parens is _not_ a primitive, the cast operator typechecks. Given:\r\n\r\n```\r\nObject o = someExpression;\r\nString x = (String) o;\r\n```\r\n\r\nThat cast operator injects the following code in your class file:\r\n\r\n1. Resolve the expression. This involves following the `o` pointer (in java, all non-primitives are pointers, in java terminology, &#39;reference&#39;; same thing, though), and check the object you find there. Sure, that is _at least_ an `Object` but it is likely to be something more specific than that. Is it a `String` or some subtype of that?\r\n2. If yes, __DO NOTHING__. Nothing is converted. The type of that expression (the whole `(String) o` node) is `String` so this will let you e.g. invoke `.toLowerCase()` on the result. That&#39;s not because this cast operation magically makes that `o` gain a `toLowerCase()` function. Nono; `o` is pointing at a String and all strings have a `toLowerCase()` function. `javac` merely wouldn&#39;t let you call it, because it didn&#39;t know that the object it finds when following `o` is, indeed, a String. WITH the cast, it does, because...\r\n3. If the answer is no, throw a `ClassCastException`. Again, no conversion happens.\r\n\r\nThe other things casts do is a type assertion - that&#39;s where you decree an expression of some type, and this generates ZERO bytecode. You&#39;re just telling the compiler. This is what you get when you stick generics (the `&lt;&gt;` stuff) in there:\r\n\r\n```\r\nList&lt;Object&gt; o = new ArrayList&lt;Object&gt;();\r\nList raw = o;\r\nList&lt;String&gt; uhoh = (List&lt;String&gt;) raw;\r\no.add(5);\r\nString x = uhoh.get(0);\r\n```\r\n\r\nThe above code compiles, but you do get a warning. Proving that this injects no code whatsoever (the `List` is already guaranteed, and the `&lt;String&gt;` part, that&#39;s generics, so is a type assertion, i.e. the compiler just takes your word for it). This code will throw a `ClassCastException` on the last line if you run it which is bizarre given that there isn&#39;t a cast on there. Generally, this usage of the cast operator should only be used as a last resort, and always generates a warning because it is unsafe.\r\n\r\n","title":"type casting not working on inherited class","body":"<p>No.</p>\n<p>&quot;Cast&quot; is a term resolved for only one thing, which is <strong>a syntactical construct</strong>. Anything in java source code that looks like: <code>(SomeType) someExpression</code>. The reason you should not be using that term for anything except that (and that should come up very rarely in discussion), is that the cast operator is used for <strong>3 completely and utterly unrelated things</strong>, but you might, if you're not too familiar with java, confuse the 3. Which you appear to be doing. Best to avoid that confusion by using clearer terminology.</p>\n<p>So how different are these 3? <em>Completely</em>. Before you think that doesn't make sense, remember:</p>\n<pre><code>String a = &quot;Hello&quot;;\nString b = &quot;, world!&quot;;\nString c = a + b;\n\nint x = 5;\nint y = 10;\nint z = x + y;\n</code></pre>\n<p>Uses the exact same operator (<code>+</code>) for 2 <strong>utterly unrelated</strong> things: String concatenation, and numeric addition.</p>\n<p>The same thing applies to the cast operator.</p>\n<h2>Conversion</h2>\n<p><strong>The only way a cast operation converts anything at all is if the type in the parens is a primitive</strong>. That is all. You have asked: &quot;Can I convert a square to a rectangle or otherwise make that square somehow use rectangle's toString by involving a cast somehow&quot; and the answer is an emphatic: <strong>No</strong>, because the cast operator <strong>cannot convert anything</strong>, unless you are casting one primitive to another. <code>int x = (int) someDouble;</code> is an actual conversion, but only the 8 primitives can do that (and in practice, <code>boolean</code> can't do the job either.</p>\n<h2>Type check</h2>\n<p>When the type in the parens is <em>not</em> a primitive, the cast operator typechecks. Given:</p>\n<pre><code>Object o = someExpression;\nString x = (String) o;\n</code></pre>\n<p>That cast operator injects the following code in your class file:</p>\n<ol>\n<li>Resolve the expression. This involves following the <code>o</code> pointer (in java, all non-primitives are pointers, in java terminology, 'reference'; same thing, though), and check the object you find there. Sure, that is <em>at least</em> an <code>Object</code> but it is likely to be something more specific than that. Is it a <code>String</code> or some subtype of that?</li>\n<li>If yes, <strong>DO NOTHING</strong>. Nothing is converted. The type of that expression (the whole <code>(String) o</code> node) is <code>String</code> so this will let you e.g. invoke <code>.toLowerCase()</code> on the result. That's not because this cast operation magically makes that <code>o</code> gain a <code>toLowerCase()</code> function. Nono; <code>o</code> is pointing at a String and all strings have a <code>toLowerCase()</code> function. <code>javac</code> merely wouldn't let you call it, because it didn't know that the object it finds when following <code>o</code> is, indeed, a String. WITH the cast, it does, because...</li>\n<li>If the answer is no, throw a <code>ClassCastException</code>. Again, no conversion happens.</li>\n</ol>\n<p>The other things casts do is a type assertion - that's where you decree an expression of some type, and this generates ZERO bytecode. You're just telling the compiler. This is what you get when you stick generics (the <code>&lt;&gt;</code> stuff) in there:</p>\n<pre><code>List&lt;Object&gt; o = new ArrayList&lt;Object&gt;();\nList raw = o;\nList&lt;String&gt; uhoh = (List&lt;String&gt;) raw;\no.add(5);\nString x = uhoh.get(0);\n</code></pre>\n<p>The above code compiles, but you do get a warning. Proving that this injects no code whatsoever (the <code>List</code> is already guaranteed, and the <code>&lt;String&gt;</code> part, that's generics, so is a type assertion, i.e. the compiler just takes your word for it). This code will throw a <code>ClassCastException</code> on the last line if you run it which is bizarre given that there isn't a cast on there. Generally, this usage of the cast operator should only be used as a last resort, and always generates a warning because it is unsafe.</p>\n"}],"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76138793,"answer_count":1,"score":-1,"last_activity_date":1682811336,"creation_date":1682807283,"question_id":76138729,"body_markdown":"I have the following classes:\r\n\r\nShape\r\n   Rectangle\r\n      Square\r\n\r\nShape is the parent class , Rectangle extends Shape and Square extends Rectangle. I use\r\nStringBuilder and the following code:\r\n\r\n    for (int i = 0; i &lt; 2; i++){\r\n        x = Math.random() * 100;\r\n        y = Math.random() * 100;\r\n\r\n                      \r\n        if (i % 2 == 0){\r\n            width = Math.random() * 100;\r\n            height = Math.random() * 100;\r\n            Rectangle z = new Rectangle(x, y, height, width);\r\n            list.add(z);\r\n        }else if (i % 2 == 1){\r\n            side = Math.random() * 100;\r\n            Square z = new Square(x, y, side);\r\n            list.add(z);\r\n        }\r\n    }\r\n\r\n    for(Shape s : list){\r\n       System.out.println(s.getStr0());\r\n       System.out.println(s.getStr1());\r\n    }\r\n\r\nWill print out the following:\r\n\r\n```\r\nRectangle with height: 91.19 and width: 73.70, Centered at X: 14.21 Y: 81.81\r\nHas area: 6720.81\r\nHas perimeter: 329.78\r\n\r\nSquare with side: 66.42, Centered at X: 36.06 Y: 95.86\r\nHas area: 4411.18\r\nHas perimeter: 265.67\r\n```\r\nIs there a way for me to type cast or convert my square to a rectangle so I\r\nget the following:\r\n\r\n```\r\nRectangle with height: 91.19 and width: 73.70, Centered at X: 14.21 Y: 81.81\r\nHas area: 6720.81\r\nHas perimeter: 329.78\r\n\r\nRectangle with height: 66.42 and width 66.42, Centered at X: 36.06 Y: 95.86\r\nHas area: 4411.18\r\nHas perimeter: 265.67\r\n```\r\nHere&#39;s the complete code:\r\n\r\n```\r\n\r\nimport java.util.ArrayList;\r\npublic class Shape{\r\n    private double x;\r\n    private double y;\r\n    private StringBuilder str = new StringBuilder();\r\n    private StringBuilder str0 = new StringBuilder();\r\n    private StringBuilder str1 = new StringBuilder();\r\n    private StringBuilder str2 = new StringBuilder();\r\n\r\n    public Shape(double x, double y){\r\n        this.x = x;\r\n        this.y = y;  \r\n        String x1 = String.format(&quot;%.2f&quot;,this.x);\r\n        String y1= String.format(&quot;%.2f&quot;,this.y);\r\n        getStr().append(&quot;Centered at X: &quot; + x1 + &quot; Y: &quot; + y1 );\r\n    }\r\n\r\n    public Shape(){\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        System.out.println(&#39;\\u000C&#39;);\r\n\r\n        ArrayList&lt;Shape&gt; list = new ArrayList&lt;Shape&gt;();\r\n        double x;\r\n        double y;        \r\n        double height;\r\n        double width;\r\n        double side;\r\n\r\n        for (int i = 0; i &lt; 2; i++){\r\n            x = Math.random() * 100;\r\n            y = Math.random() * 100;\r\n\r\n            if (i % 2 == 0){\r\n                width = Math.random() * 100;\r\n                height = Math.random() * 100;\r\n                Rectangle z = new Rectangle(x, y, height, width);\r\n                list.add(z);\r\n            }else if (i % 2 == 1{\r\n                side = Math.random() * 100;\r\n                Square z = new Square(x, y, side);\r\n                list.add(z);\r\n            }\r\n        }\r\n\r\n        for(Shape s : list){\r\n            System.out.println(s.getStr0());\r\n            System.out.println(s.getStr1());\r\n        }\r\n    }\r\n    public String toString(){\r\n        String x = String.format(&quot;%.2f&quot;,this.x);\r\n        String y = String.format(&quot;%.2f&quot;,this.y);\r\n                \r\n        return &quot;Centered at X: &quot; + x + &quot; Y: &quot; + y ;\r\n    }\r\n    public double calculateArea(){\r\n        return -999.99;\r\n    }\r\n    public double calculateCircumference(){\r\n        return -999.99;\r\n    }\r\n    public double calculatePerimeter(){\r\n        return -999.99;\r\n    }\r\n    public double getX(){\r\n        return this.x;\r\n    } \r\n    public void setX(double x){\r\n        this.x = x;\r\n    }\r\n    public double getY(){\r\n        return this.y;\r\n    }\r\n    public void setY(double y){\r\n        this.y = y;\r\n    }\r\n    public StringBuilder getStr(){\r\n        return this.str;\r\n    } \r\n    public void setStr(StringBuilder str){\r\n        this.str = str;\r\n    }\r\n    public StringBuilder getStr0(){\r\n        return this.str0;\r\n    }\r\n    public void setStr0(StringBuilder str0){\r\n        this.str0 = str0;\r\n    } \r\n    public StringBuilder getStr1(){\r\n        return this.str1;\r\n    } \r\n    public void setStr1(StringBuilder str1){\r\n        this.str1 = str1;\r\n    }    \r\n}\r\n\r\npublic class Rectangle extends Shape{\r\n    private double height;\r\n    private double width;\r\n    \r\n    public Rectangle(double x, double y, double height, double width){\r\n        super(x, y);\r\n        this.height = height;\r\n        this.width = width;\r\n        \r\n        String area = String.format(&quot;%.2f&quot;,this.calculateArea());\r\n        String perimeter = String.format(&quot;%.2f&quot;,this.calculatePerimeter());\r\n        \r\n        \r\n        \r\n        getStr0().append(toString());        \r\n        getStr1().append(&quot;Has area: &quot; + area + &quot;\\n&quot;);\r\n        getStr1().append(&quot;Has perimeter: &quot; + perimeter + &quot;\\n&quot;);\r\n        \r\n    }\r\n    public Rectangle(){\r\n        \r\n    }\r\n    public double calculateArea(){\r\n        return height * width;\r\n    }\r\n    public double calculatePerimeter(){\r\n        return 2 * height + 2 * width;\r\n    }\r\n    public String toString(){\r\n        \r\n        String height = String.format(&quot;%.2f&quot;,this.height);\r\n        String width = String.format(&quot;%.2f&quot;,this.width);        \r\n        return &quot;Rectangle with height: &quot; + height + &quot; and width: &quot; + width +\r\n        &quot;, &quot; + super.toString();\r\n    }\r\n}\r\n\r\npublic class Square extends Rectangle{\r\n    double side;\r\n    StringBuilder squarestr = new StringBuilder();\r\n\r\n    public Square(double x, double y, double side){\r\n        super(x, y, side, side);\r\n        this.side = side;\r\n\r\n        String area = String.format(&quot;%.2f&quot;,this.calculateArea());\r\n        String perimeter = String.format(&quot;%.2f&quot;,this.calculatePerimeter());\r\n\r\n        getStr0().delete(0,getStr0().length() );\r\n        \r\n\r\n        getStr1().delete(0,getStr1().length() );\r\n\r\n        getStr0().append(toString());\r\n        \r\n\r\n        getStr1().append(&quot;Has area: &quot; + area + &quot;\\n&quot;);\r\n        getStr1().append(&quot;Has perimeter: &quot; + perimeter + &quot;\\n&quot;);\r\n        \r\n        \r\n    }\r\n\r\n    public String toString(){\r\n\r\n        String side = String.format(&quot;%.2f&quot;,this.side);\r\n\r\n        return &quot;Square with side: &quot; + side + &quot;, &quot; + getStr() ;\r\n    }\r\n\r\n    public double calculateArea(){\r\n        return side * side;\r\n    }\r\n\r\n    public double calculatePerimeter(){\r\n        return 4 * side;\r\n    }\r\n}\r\n\r\n","title":"type casting not working on inherited class","body":"<p>I have the following classes:</p>\n<p>Shape\nRectangle\nSquare</p>\n<p>Shape is the parent class , Rectangle extends Shape and Square extends Rectangle. I use\nStringBuilder and the following code:</p>\n<pre><code>for (int i = 0; i &lt; 2; i++){\n    x = Math.random() * 100;\n    y = Math.random() * 100;\n\n                  \n    if (i % 2 == 0){\n        width = Math.random() * 100;\n        height = Math.random() * 100;\n        Rectangle z = new Rectangle(x, y, height, width);\n        list.add(z);\n    }else if (i % 2 == 1){\n        side = Math.random() * 100;\n        Square z = new Square(x, y, side);\n        list.add(z);\n    }\n}\n\nfor(Shape s : list){\n   System.out.println(s.getStr0());\n   System.out.println(s.getStr1());\n}\n</code></pre>\n<p>Will print out the following:</p>\n<pre><code>Rectangle with height: 91.19 and width: 73.70, Centered at X: 14.21 Y: 81.81\nHas area: 6720.81\nHas perimeter: 329.78\n\nSquare with side: 66.42, Centered at X: 36.06 Y: 95.86\nHas area: 4411.18\nHas perimeter: 265.67\n</code></pre>\n<p>Is there a way for me to type cast or convert my square to a rectangle so I\nget the following:</p>\n<pre><code>Rectangle with height: 91.19 and width: 73.70, Centered at X: 14.21 Y: 81.81\nHas area: 6720.81\nHas perimeter: 329.78\n\nRectangle with height: 66.42 and width 66.42, Centered at X: 36.06 Y: 95.86\nHas area: 4411.18\nHas perimeter: 265.67\n</code></pre>\n<p>Here's the complete code:</p>\n<pre><code>\nimport java.util.ArrayList;\npublic class Shape{\n    private double x;\n    private double y;\n    private StringBuilder str = new StringBuilder();\n    private StringBuilder str0 = new StringBuilder();\n    private StringBuilder str1 = new StringBuilder();\n    private StringBuilder str2 = new StringBuilder();\n\n    public Shape(double x, double y){\n        this.x = x;\n        this.y = y;  \n        String x1 = String.format(&quot;%.2f&quot;,this.x);\n        String y1= String.format(&quot;%.2f&quot;,this.y);\n        getStr().append(&quot;Centered at X: &quot; + x1 + &quot; Y: &quot; + y1 );\n    }\n\n    public Shape(){\n    }\n\n    public static void main(String[] args){\n        System.out.println('\\u000C');\n\n        ArrayList&lt;Shape&gt; list = new ArrayList&lt;Shape&gt;();\n        double x;\n        double y;        \n        double height;\n        double width;\n        double side;\n\n        for (int i = 0; i &lt; 2; i++){\n            x = Math.random() * 100;\n            y = Math.random() * 100;\n\n            if (i % 2 == 0){\n                width = Math.random() * 100;\n                height = Math.random() * 100;\n                Rectangle z = new Rectangle(x, y, height, width);\n                list.add(z);\n            }else if (i % 2 == 1{\n                side = Math.random() * 100;\n                Square z = new Square(x, y, side);\n                list.add(z);\n            }\n        }\n\n        for(Shape s : list){\n            System.out.println(s.getStr0());\n            System.out.println(s.getStr1());\n        }\n    }\n    public String toString(){\n        String x = String.format(&quot;%.2f&quot;,this.x);\n        String y = String.format(&quot;%.2f&quot;,this.y);\n                \n        return &quot;Centered at X: &quot; + x + &quot; Y: &quot; + y ;\n    }\n    public double calculateArea(){\n        return -999.99;\n    }\n    public double calculateCircumference(){\n        return -999.99;\n    }\n    public double calculatePerimeter(){\n        return -999.99;\n    }\n    public double getX(){\n        return this.x;\n    } \n    public void setX(double x){\n        this.x = x;\n    }\n    public double getY(){\n        return this.y;\n    }\n    public void setY(double y){\n        this.y = y;\n    }\n    public StringBuilder getStr(){\n        return this.str;\n    } \n    public void setStr(StringBuilder str){\n        this.str = str;\n    }\n    public StringBuilder getStr0(){\n        return this.str0;\n    }\n    public void setStr0(StringBuilder str0){\n        this.str0 = str0;\n    } \n    public StringBuilder getStr1(){\n        return this.str1;\n    } \n    public void setStr1(StringBuilder str1){\n        this.str1 = str1;\n    }    \n}\n\npublic class Rectangle extends Shape{\n    private double height;\n    private double width;\n    \n    public Rectangle(double x, double y, double height, double width){\n        super(x, y);\n        this.height = height;\n        this.width = width;\n        \n        String area = String.format(&quot;%.2f&quot;,this.calculateArea());\n        String perimeter = String.format(&quot;%.2f&quot;,this.calculatePerimeter());\n        \n        \n        \n        getStr0().append(toString());        \n        getStr1().append(&quot;Has area: &quot; + area + &quot;\\n&quot;);\n        getStr1().append(&quot;Has perimeter: &quot; + perimeter + &quot;\\n&quot;);\n        \n    }\n    public Rectangle(){\n        \n    }\n    public double calculateArea(){\n        return height * width;\n    }\n    public double calculatePerimeter(){\n        return 2 * height + 2 * width;\n    }\n    public String toString(){\n        \n        String height = String.format(&quot;%.2f&quot;,this.height);\n        String width = String.format(&quot;%.2f&quot;,this.width);        \n        return &quot;Rectangle with height: &quot; + height + &quot; and width: &quot; + width +\n        &quot;, &quot; + super.toString();\n    }\n}\n\npublic class Square extends Rectangle{\n    double side;\n    StringBuilder squarestr = new StringBuilder();\n\n    public Square(double x, double y, double side){\n        super(x, y, side, side);\n        this.side = side;\n\n        String area = String.format(&quot;%.2f&quot;,this.calculateArea());\n        String perimeter = String.format(&quot;%.2f&quot;,this.calculatePerimeter());\n\n        getStr0().delete(0,getStr0().length() );\n        \n\n        getStr1().delete(0,getStr1().length() );\n\n        getStr0().append(toString());\n        \n\n        getStr1().append(&quot;Has area: &quot; + area + &quot;\\n&quot;);\n        getStr1().append(&quot;Has perimeter: &quot; + perimeter + &quot;\\n&quot;);\n        \n        \n    }\n\n    public String toString(){\n\n        String side = String.format(&quot;%.2f&quot;,this.side);\n\n        return &quot;Square with side: &quot; + side + &quot;, &quot; + getStr() ;\n    }\n\n    public double calculateArea(){\n        return side * side;\n    }\n\n    public double calculatePerimeter(){\n        return 4 * side;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","datepicker","momentjs","formik"],"answers":[{"tags":[],"owner":{"account_id":3197891,"reputation":157,"user_id":2700673,"accept_rate":47,"display_name":"The Old County"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682811291,"creation_date":1682811291,"answer_id":76138932,"question_id":75699768,"body_markdown":"The solution to this was to detect data.$d -- being defined.\r\n\r\n------\r\n\r\n    export function buildFormData(formData, data, parentKey) {\r\n      if(data.$d){\r\n        data = moment(data).format(&#39;YYYY-MM-DD&#39;);\r\n      }\r\n    \r\n      if (data &amp;&amp; typeof data === &#39;object&#39; &amp;&amp; !(data instanceof Date) &amp;&amp; !(data instanceof File)) {\r\n        Object.keys(data).forEach(key =&gt; {\r\n    \r\n    \r\n          if(data[key] instanceof File){\r\n            buildFormData(formData, data[key], parentKey ? `${parentKey}` : key);\r\n          } else {\r\n            buildFormData(formData, data[key], parentKey ? `${parentKey}[${key}]` : key);\r\n          }\r\n    \r\n        });\r\n      } else {\r\n        const value = data == null ? &#39;&#39; : data;\r\n    \r\n        formData.append(parentKey, value);\r\n      }\r\n    }\r\n\r\n","title":"Moment or material ui datepicker object - interfering with formData submissions as a date string","body":"<p>The solution to this was to detect data.$d -- being defined.</p>\n<hr />\n<pre><code>export function buildFormData(formData, data, parentKey) {\n  if(data.$d){\n    data = moment(data).format('YYYY-MM-DD');\n  }\n\n  if (data &amp;&amp; typeof data === 'object' &amp;&amp; !(data instanceof Date) &amp;&amp; !(data instanceof File)) {\n    Object.keys(data).forEach(key =&gt; {\n\n\n      if(data[key] instanceof File){\n        buildFormData(formData, data[key], parentKey ? `${parentKey}` : key);\n      } else {\n        buildFormData(formData, data[key], parentKey ? `${parentKey}[${key}]` : key);\n      }\n\n    });\n  } else {\n    const value = data == null ? '' : data;\n\n    formData.append(parentKey, value);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3197891,"reputation":157,"user_id":2700673,"accept_rate":47,"display_name":"The Old County"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76138932,"answer_count":1,"score":1,"last_activity_date":1682811291,"creation_date":1678472739,"question_id":75699768,"body_markdown":"I am working on a java spring application.\r\n\r\nI have material ui date picker - wrapped around a formik field.\r\n\r\nhttps://mui.com/x/api/date-pickers/date-picker/\r\n\r\n- date field\r\n\r\n.\r\n    \r\n    \r\n    import React, { Component } from &#39;react&#39;;    \r\n    //text\r\n\r\n    import TextField from &#39;@mui/material/TextField&#39;;\r\n    \r\n    //date\r\n    import moment from &#39;moment&#39;;\r\n    //import { MuiPickersUtilsProvider, KeyboardDatePicker } from &#39;@material-ui/pickers&#39;;\r\n    //import DateFnsUtils from &quot;@date-io/date-fns&quot;;\r\n    import { AdapterDayjs } from &quot;@mui/x-date-pickers/AdapterDayjs&quot;;\r\n    import { LocalizationProvider } from &quot;@mui/x-date-pickers/LocalizationProvider&quot;;\r\n    import { DatePicker } from &quot;@mui/x-date-pickers/DatePicker&quot;;\r\n    \r\n    class DateField extends Component {\r\n        constructor(props, context) {\r\n          super(props, context);\r\n        }\r\n    \r\n        render() {\r\n          return (\r\n            &lt;LocalizationProvider dateAdapter={AdapterDayjs}&gt;\r\n              &lt;DatePicker\r\n                label={this.props.item.label}\r\n                disablePast={this.props.item.disablePast}\r\n                disableFuture={this.props.item.disableFuture}\r\n                minDate={moment(this.props.item.minDate)}\r\n                maxDate={moment(this.props.item.maxDate)}\r\n                formatDate={(date) =&gt; moment(date).format(&#39;DD-MM-YYYY&#39;).toString()}\r\n                value={this.props.field.value? moment(this.props.field.value).format(&#39;YYYY-MM-DD&#39;): moment().format(&#39;YYYY-MM-DD&#39;)}\r\n                {...this.props.field}\r\n                onChange={(value) =&gt; {\r\n                  this.props.form.setFieldValue(this.props.name, value);\r\n                  this.props.onHandle(this.props.name, value);\r\n                }}\r\n                renderInput={(params) =&gt; {\r\n                    return (&lt;TextField {...params} name={this.props.name} /&gt;)\r\n                }}\r\n              /&gt;\r\n            &lt;/LocalizationProvider&gt;\r\n          )\r\n        }\r\n    }\r\n    \r\n    export default DateField\r\n.\r\n\r\nand it looks like this\r\n[![enter image description here][1]][1]\r\n\r\nin the formframework I initialize it like this\r\n[![enter image description here][2]][2]\r\n\r\nwhen I submit the data and wrap it into a formData function --- I notice that it detects it as an object -- possibly a material ui date object? I am unable to check the typeof this -- as I was trying to see if it was a .isMoment - but its not -- it has a strange syntax and I am unsure how to detect it as a date to make the appropriate code change to a string -- or/and - how to change the datepicker itself to return a string or a moment object?\r\n\r\n[![enter image description here][3]][3]\r\n\r\ncan see a moment object looks different -- what is the best approach here?\r\n\r\n[![enter image description here][4]][4]\r\n\r\nalso - should I have the backend acquire this variable as a String, Date or what? Sometimes its a string other times a weird object.\r\n\r\n[![enter image description here][5]][5]\r\n\r\nreferences\r\n\r\nhttps://stackoverflow.com/questions/45809080/how-to-convert-moment-date-to-a-string-and-remove-the-moment-object\r\n\r\nhttps://stackoverflow.com/questions/31921026/javascript-instanceof-and-moment-js\r\n\r\nhttps://stackoverflow.com/questions/36457220/how-to-test-if-a-variable-is-a-moment-js-object\r\n\r\nhttps://stackoverflow.com/questions/46852979/how-to-get-material-ui-date-picker-value\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hQyYf.png\r\n  [2]: https://i.stack.imgur.com/2H1Ds.png\r\n  [3]: https://i.stack.imgur.com/KusBI.png\r\n  [4]: https://i.stack.imgur.com/SV7Gy.png\r\n  [5]: https://i.stack.imgur.com/qTXlY.png","title":"Moment or material ui datepicker object - interfering with formData submissions as a date string","body":"<p>I am working on a java spring application.</p>\n<p>I have material ui date picker - wrapped around a formik field.</p>\n<p><a href=\"https://mui.com/x/api/date-pickers/date-picker/\" rel=\"nofollow noreferrer\">https://mui.com/x/api/date-pickers/date-picker/</a></p>\n<ul>\n<li>date field</li>\n</ul>\n<p>.</p>\n<pre><code>import React, { Component } from 'react';    \n//text\n\nimport TextField from '@mui/material/TextField';\n\n//date\nimport moment from 'moment';\n//import { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\n//import DateFnsUtils from &quot;@date-io/date-fns&quot;;\nimport { AdapterDayjs } from &quot;@mui/x-date-pickers/AdapterDayjs&quot;;\nimport { LocalizationProvider } from &quot;@mui/x-date-pickers/LocalizationProvider&quot;;\nimport { DatePicker } from &quot;@mui/x-date-pickers/DatePicker&quot;;\n\nclass DateField extends Component {\n    constructor(props, context) {\n      super(props, context);\n    }\n\n    render() {\n      return (\n        &lt;LocalizationProvider dateAdapter={AdapterDayjs}&gt;\n          &lt;DatePicker\n            label={this.props.item.label}\n            disablePast={this.props.item.disablePast}\n            disableFuture={this.props.item.disableFuture}\n            minDate={moment(this.props.item.minDate)}\n            maxDate={moment(this.props.item.maxDate)}\n            formatDate={(date) =&gt; moment(date).format('DD-MM-YYYY').toString()}\n            value={this.props.field.value? moment(this.props.field.value).format('YYYY-MM-DD'): moment().format('YYYY-MM-DD')}\n            {...this.props.field}\n            onChange={(value) =&gt; {\n              this.props.form.setFieldValue(this.props.name, value);\n              this.props.onHandle(this.props.name, value);\n            }}\n            renderInput={(params) =&gt; {\n                return (&lt;TextField {...params} name={this.props.name} /&gt;)\n            }}\n          /&gt;\n        &lt;/LocalizationProvider&gt;\n      )\n    }\n}\n\nexport default DateField\n</code></pre>\n<p>.</p>\n<p>and it looks like this\n<a href=\"https://i.stack.imgur.com/hQyYf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hQyYf.png\" alt=\"enter image description here\" /></a></p>\n<p>in the formframework I initialize it like this\n<a href=\"https://i.stack.imgur.com/2H1Ds.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2H1Ds.png\" alt=\"enter image description here\" /></a></p>\n<p>when I submit the data and wrap it into a formData function --- I notice that it detects it as an object -- possibly a material ui date object? I am unable to check the typeof this -- as I was trying to see if it was a .isMoment - but its not -- it has a strange syntax and I am unsure how to detect it as a date to make the appropriate code change to a string -- or/and - how to change the datepicker itself to return a string or a moment object?</p>\n<p><a href=\"https://i.stack.imgur.com/KusBI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KusBI.png\" alt=\"enter image description here\" /></a></p>\n<p>can see a moment object looks different -- what is the best approach here?</p>\n<p><a href=\"https://i.stack.imgur.com/SV7Gy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SV7Gy.png\" alt=\"enter image description here\" /></a></p>\n<p>also - should I have the backend acquire this variable as a String, Date or what? Sometimes its a string other times a weird object.</p>\n<p><a href=\"https://i.stack.imgur.com/qTXlY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qTXlY.png\" alt=\"enter image description here\" /></a></p>\n<p>references</p>\n<p><a href=\"https://stackoverflow.com/questions/45809080/how-to-convert-moment-date-to-a-string-and-remove-the-moment-object\">How to convert moment date to a string and remove the moment object</a></p>\n<p><a href=\"https://stackoverflow.com/questions/31921026/javascript-instanceof-and-moment-js\">JavaScript instanceof and moment.js</a></p>\n<p><a href=\"https://stackoverflow.com/questions/36457220/how-to-test-if-a-variable-is-a-moment-js-object\">How to test if a variable is a Moment.js object?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/46852979/how-to-get-material-ui-date-picker-value\">How to get Material-UI Date Picker value</a></p>\n"},{"tags":["java","sql","spring-boot","microservices","put"],"answers":[{"tags":[],"owner":{"account_id":6440378,"reputation":184,"user_id":4990575,"display_name":"Kurojin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682807862,"creation_date":1682807862,"answer_id":76138762,"question_id":76138685,"body_markdown":"you should have a class corresponding to your resource model, this way spring can deserialise it from the request body : \r\n\r\n    @PutMapping(&quot;/comments&quot;)\r\n    private void actualizaDatos(@RequestBody List&lt;Comment&gt; comments){\r\n    // you probably should return an http status instead of void\r\n    }\r\n\r\n&quot;Comment&quot; being the java class representation of your json object. spring will deserialise an array of json objects into a list of java objects if the model matches.\r\n\r\n    class Comment {\r\n    int idControl;\r\n    String cveEstado;\r\n    (...)\r\n    }\r\n\r\n\r\nnote : it is bad practice in REST to update multiple resources at once, any error in one element will be hard to detect as the whole batch will be in error and the client will have no idea why.","title":"How to modify put method to update an array in SpringBoot App","body":"<p>you should have a class corresponding to your resource model, this way spring can deserialise it from the request body :</p>\n<pre><code>@PutMapping(&quot;/comments&quot;)\nprivate void actualizaDatos(@RequestBody List&lt;Comment&gt; comments){\n// you probably should return an http status instead of void\n}\n</code></pre>\n<p>&quot;Comment&quot; being the java class representation of your json object. spring will deserialise an array of json objects into a list of java objects if the model matches.</p>\n<pre><code>class Comment {\nint idControl;\nString cveEstado;\n(...)\n}\n</code></pre>\n<p>note : it is bad practice in REST to update multiple resources at once, any error in one element will be hard to detect as the whole batch will be in error and the client will have no idea why.</p>\n"}],"owner":{"account_id":9015198,"reputation":141,"user_id":7552035,"display_name":"Root93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682807862,"creation_date":1682806474,"question_id":76138685,"body_markdown":"I currently have a service that receives three parameters and performs the Update without a problem when receiving data from a front with Angular, the data that I save is from the fields of a modifiable table but it does so only per row, with a single id\r\n\r\nThis is my method in the controller, with my service and my query\r\n\r\n         @PutMapping(&quot;/{cveEstado}/{comentario}/{idControl}&quot;)\r\n        private void actualizaDatos(@PathVariable(&quot;cveEstado&quot;) String cveEstado, @PathVariable(&quot;comentario&quot;) String comentario,\r\n                @PathVariable(&quot;idControl&quot;) String idControl){\r\n            controlService.actualizar(cveEstado, comentario, idControl);\r\n            \r\n   \r\n\r\n     }\r\n\r\nservice and repository\r\n\r\n\r\n \r\n\r\n        @Override\r\n        public void actualizar(String cveEstado, String comentario, String idControl) {\r\n            \r\n            repository.actualizarCampos(cveEstado, comentario, idControl);\r\n        }\r\n    \r\n        @Transactional\r\n        @Modifying\r\n        @Query(value = &quot;UPDATE CONTROL C SET CVEESTADO=?1, COMENTARIO=?2 WHERE C.IDCONTROL=?3&quot;, \r\n                nativeQuery = true)\r\n        void actualizarCampos(String cveEstado, String comentario, String idControl);\r\n\r\nbut now I want to save a whole array, that is, I can update all the fields or some but with different ids\r\n\r\nfor example\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NrvGe.png\r\n\r\nHow should I modify my service and m my query to receive the data like this, someone help me please \r\n\r\nthanks","title":"How to modify put method to update an array in SpringBoot App","body":"<p>I currently have a service that receives three parameters and performs the Update without a problem when receiving data from a front with Angular, the data that I save is from the fields of a modifiable table but it does so only per row, with a single id</p>\n<p>This is my method in the controller, with my service and my query</p>\n<pre><code>     @PutMapping(&quot;/{cveEstado}/{comentario}/{idControl}&quot;)\n    private void actualizaDatos(@PathVariable(&quot;cveEstado&quot;) String cveEstado, @PathVariable(&quot;comentario&quot;) String comentario,\n            @PathVariable(&quot;idControl&quot;) String idControl){\n        controlService.actualizar(cveEstado, comentario, idControl);\n        \n\n\n }\n</code></pre>\n<p>service and repository</p>\n<pre><code>    @Override\n    public void actualizar(String cveEstado, String comentario, String idControl) {\n        \n        repository.actualizarCampos(cveEstado, comentario, idControl);\n    }\n\n    @Transactional\n    @Modifying\n    @Query(value = &quot;UPDATE CONTROL C SET CVEESTADO=?1, COMENTARIO=?2 WHERE C.IDCONTROL=?3&quot;, \n            nativeQuery = true)\n    void actualizarCampos(String cveEstado, String comentario, String idControl);\n</code></pre>\n<p>but now I want to save a whole array, that is, I can update all the fields or some but with different ids</p>\n<p>for example</p>\n<p><a href=\"https://i.stack.imgur.com/NrvGe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NrvGe.png\" alt=\"enter image description here\" /></a></p>\n<p>How should I modify my service and m my query to receive the data like this, someone help me please</p>\n<p>thanks</p>\n"},{"tags":["java","kotlin","data-structures","filter","hashmap"],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682806331,"creation_date":1682806331,"answer_id":76138680,"question_id":76137097,"body_markdown":"I&#39;m having trouble following the problem (honestly some example data and expected results for different situations would help). But your solution basically filters `flightsList`, so you only get the `FlightCardModel`s that hold a match for **every** entry in `segmentStops`, i.e. a segment with the same airport code / stop number pair? So you&#39;re looking for all the flights that contain all the segments in `segmentsList`, is that right?\r\n\r\n(I&#39;m ignoring the `else` statement that basically matches everything and makes the rest of the `when` block redundant, I&#39;m assuming you are actually trying to match the stop numbers)\r\n\r\nYou can filter that like this:\r\n\r\n````\r\nflightsList.filter { flight -&gt;\r\n    segmentStops.all { (code, stopsButton) -&gt;\r\n        flight.contains {\r\n            it.departureAirportCode == code &amp;&amp; it.stops == stopsButton.stop\r\n        }\r\n    }\r\n}\r\n````\r\n\r\nI&#39;m not sure what you actually want to do with a `List&lt;StopsButtonModel&gt;`, but assuming you&#39;re looking for *a single match* (i.e. your `segmentStops` has that particular stop number associated with the airport code) you can change it to this:\r\n\r\n````\r\nflight.contains { flightSegment -&gt;\r\n    flightSegment.departureAirportCode == code &amp;&amp; stopsButton.any {\r\n        it.stop == flightSegment.stops\r\n    }\r\n}\r\n````\r\n\r\nSo now an entry in `segmentsList` will match if it has a matching departure code, and one of its associated stops matches.\r\n\r\n----\r\n\r\nI&#39;m not really sure what you want with the bit about &quot;returning all items&quot; if `segmentsList` doesn&#39;t contain the destination code at all, or if it doesn&#39;t have any stops associated with the code. That seems to be the opposite of filtering on a match? Are you just looking to reject segments that **do** have the destination code and **do** have some stop numbers associated, but they&#39;re not the right numbers? Without knowing exactly what you&#39;re trying to do, I can&#39;t suggest how and where to add that logic","title":"How to filter a List based on a Map that have a List as value in Kotlin/Java?","body":"<p>I'm having trouble following the problem (honestly some example data and expected results for different situations would help). But your solution basically filters <code>flightsList</code>, so you only get the <code>FlightCardModel</code>s that hold a match for <strong>every</strong> entry in <code>segmentStops</code>, i.e. a segment with the same airport code / stop number pair? So you're looking for all the flights that contain all the segments in <code>segmentsList</code>, is that right?</p>\n<p>(I'm ignoring the <code>else</code> statement that basically matches everything and makes the rest of the <code>when</code> block redundant, I'm assuming you are actually trying to match the stop numbers)</p>\n<p>You can filter that like this:</p>\n<pre><code>flightsList.filter { flight -&gt;\n    segmentStops.all { (code, stopsButton) -&gt;\n        flight.contains {\n            it.departureAirportCode == code &amp;&amp; it.stops == stopsButton.stop\n        }\n    }\n}\n</code></pre>\n<p>I'm not sure what you actually want to do with a <code>List&lt;StopsButtonModel&gt;</code>, but assuming you're looking for <em>a single match</em> (i.e. your <code>segmentStops</code> has that particular stop number associated with the airport code) you can change it to this:</p>\n<pre><code>flight.contains { flightSegment -&gt;\n    flightSegment.departureAirportCode == code &amp;&amp; stopsButton.any {\n        it.stop == flightSegment.stops\n    }\n}\n</code></pre>\n<p>So now an entry in <code>segmentsList</code> will match if it has a matching departure code, and one of its associated stops matches.</p>\n<hr />\n<p>I'm not really sure what you want with the bit about &quot;returning all items&quot; if <code>segmentsList</code> doesn't contain the destination code at all, or if it doesn't have any stops associated with the code. That seems to be the opposite of filtering on a match? Are you just looking to reject segments that <strong>do</strong> have the destination code and <strong>do</strong> have some stop numbers associated, but they're not the right numbers? Without knowing exactly what you're trying to do, I can't suggest how and where to add that logic</p>\n"}],"owner":{"account_id":17936402,"reputation":764,"user_id":13032644,"display_name":"imn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76138680,"answer_count":1,"score":0,"last_activity_date":1682806331,"creation_date":1682783215,"question_id":76137097,"body_markdown":"I have a List of FlightCardModel having a structure:\r\n\r\n    val flightsList = mutableStateListOf&lt;FlightCardModel&gt;()\r\n    \r\n    data class FlightCardModel(\r\n        val flightCardSegmentModel: List&lt;FlightCardSegmentModel&gt;,\r\n        ..\r\n    )\r\n\r\nThe FlightCardSegmentModel is having a structure:\r\n\r\n    data class FlightCardSegmentModel(\r\n        val stops: Int,\r\n        val departureAirportCode: String,\r\n        ..\r\n    )\r\n\r\n---\r\n\r\nI also have a Map having a structure:\r\n\r\n    val segmentStops: Map&lt;String, List&lt;StopsButtonModel&gt;&gt;\r\n    \r\n    data class StopsButtonModel(\r\n        val stop: Int\r\n        ..\r\n    )\r\n\r\nI need to filter flightsList based on segmentStops Map.\r\nThe segmentStops map&#39;s keys contains the FlightCardSegmentModel&#39;s departureAirportCode.\r\nAlso, the segmentStops map&#39;s values contains the FlightCardSegmentModel&#39;s stops.\r\nThe real world implementation is that I need to filter flights(FlightCardModel) which have multiple multiple stops(take 0,1,2 stops for simplicity) at different departures(departureAirportCode).\r\n\r\nI wrote some code like this which can only filter only one stop at a time.\r\n\r\n    val count = flightsList.filter {\r\n            segmentStops.keys.all { i -&gt;\r\n                when (segmentStops[i]?.stop) {\r\n                    0 -&gt; {\r\n                        it.flightCardSegmentModel.find { it.departureAirportCode == i }?.stops == 0\r\n                    }\r\n                    1 -&gt; {\r\n                        it.flightCardSegmentModel.find { it.departureAirportCode == i }?.stops == 1\r\n                    }\r\n                    2 -&gt; {\r\n                        it.flightCardSegmentModel.find { it.departureAirportCode == i }?.stops == 2\r\n                    }\r\n                    else -&gt; {\r\n                        it.flightCardSegmentModel.find { it.departureAirportCode == i }?.stops &gt;= 0\r\n                    }\r\n                }\r\n            }\r\n        }.size\r\n\r\nIn the above code, segmentStops map is having a structure:\r\n\r\n    val segmentStops: Map&lt;String, StopsButtonModel&gt;\r\n\r\nHow can i filter in the above same way if the segmentStops map&#39;s values have a list? I.e:\r\n\r\n    val segmentStops: Map&lt;String, List&lt;StopsButtonModel&gt;&gt;\r\n\r\nPS: I also need to return all items if the segmentStops map doesn&#39;t contains the departureAirportCode key or the map&#39;s value list is empty.\r\n\r\nThank you for reading till now :)","title":"How to filter a List based on a Map that have a List as value in Kotlin/Java?","body":"<p>I have a List of FlightCardModel having a structure:</p>\n<pre><code>val flightsList = mutableStateListOf&lt;FlightCardModel&gt;()\n\ndata class FlightCardModel(\n    val flightCardSegmentModel: List&lt;FlightCardSegmentModel&gt;,\n    ..\n)\n</code></pre>\n<p>The FlightCardSegmentModel is having a structure:</p>\n<pre><code>data class FlightCardSegmentModel(\n    val stops: Int,\n    val departureAirportCode: String,\n    ..\n)\n</code></pre>\n<hr />\n<p>I also have a Map having a structure:</p>\n<pre><code>val segmentStops: Map&lt;String, List&lt;StopsButtonModel&gt;&gt;\n\ndata class StopsButtonModel(\n    val stop: Int\n    ..\n)\n</code></pre>\n<p>I need to filter flightsList based on segmentStops Map.\nThe segmentStops map's keys contains the FlightCardSegmentModel's departureAirportCode.\nAlso, the segmentStops map's values contains the FlightCardSegmentModel's stops.\nThe real world implementation is that I need to filter flights(FlightCardModel) which have multiple multiple stops(take 0,1,2 stops for simplicity) at different departures(departureAirportCode).</p>\n<p>I wrote some code like this which can only filter only one stop at a time.</p>\n<pre><code>val count = flightsList.filter {\n        segmentStops.keys.all { i -&gt;\n            when (segmentStops[i]?.stop) {\n                0 -&gt; {\n                    it.flightCardSegmentModel.find { it.departureAirportCode == i }?.stops == 0\n                }\n                1 -&gt; {\n                    it.flightCardSegmentModel.find { it.departureAirportCode == i }?.stops == 1\n                }\n                2 -&gt; {\n                    it.flightCardSegmentModel.find { it.departureAirportCode == i }?.stops == 2\n                }\n                else -&gt; {\n                    it.flightCardSegmentModel.find { it.departureAirportCode == i }?.stops &gt;= 0\n                }\n            }\n        }\n    }.size\n</code></pre>\n<p>In the above code, segmentStops map is having a structure:</p>\n<pre><code>val segmentStops: Map&lt;String, StopsButtonModel&gt;\n</code></pre>\n<p>How can i filter in the above same way if the segmentStops map's values have a list? I.e:</p>\n<pre><code>val segmentStops: Map&lt;String, List&lt;StopsButtonModel&gt;&gt;\n</code></pre>\n<p>PS: I also need to return all items if the segmentStops map doesn't contains the departureAirportCode key or the map's value list is empty.</p>\n<p>Thank you for reading till now :)</p>\n"},{"tags":["java","eclipse","tomcat","jsf"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682804000,"creation_date":1682804000,"answer_id":76138530,"question_id":76133642,"body_markdown":"Some caveats first:\r\n\r\n - this uses Java 19, and JSF 4 (different from the request in the question).\r\n - but it does use Tomcat 10.1 (matching the question).\r\n - it places the web files in a directory external to the application (see below). This may be a **bad approach**, but I have not found a good way to reference the web files when they are located in the built JAR, in `/resources`.\r\n - this is a bare-bones (minimal) set-up.\r\n\r\nYou can modify the `pom.xml` - I have not tried your specific target versions.\r\n\r\nI have also only verified this with a basic &quot;hello world&quot; style Faces page.\r\n\r\n---\r\n\r\nThe `pom.xml` dependencies:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n    &lt;version&gt;10.1.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    &lt;version&gt;10.1.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\r\n    &lt;version&gt;10.1.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.faces&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.jboss.weld.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;weld-servlet-shaded&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.3.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n---\r\n\r\nStructure for `myDocBase` - the external location of all web files:\r\n\r\n```\r\nmyDocBase\r\n|\r\n|-- META-INF\r\n|   |\r\n|   |-- beans.xml  (empty file)\r\n|\r\n|-- WEB-INF\r\n|   |\r\n|   |-- faces-config.xml\r\n|   |-- web.xml\r\n|\r\n|-- hello.xhtml\r\n```\r\n\r\n`web.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app\r\n    xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd&quot;\r\n    version=&quot;6.0&quot;\r\n&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;jakarta.faces.webapp.FacesServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nI have not tried this, but I expect you could declare the servlet programmatically - something like:\r\n\r\n```java\r\nTomcat.addServlet(ctx, &quot;facesServlet&quot;, &quot;jakarta.faces.webapp.FacesServlet&quot;);\r\nctx.addServletMappingDecoded(&quot;*.xhtml&quot;, &quot;facesServlet&quot;);\r\n```\r\n\r\n`faces-config.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;faces-config\r\n    xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-facesconfig_4_0.xsd&quot;\r\n    version=&quot;4.0&quot;\r\n&gt;\r\n    &lt;!-- Put any faces config here. --&gt;\r\n&lt;/faces-config&gt;\r\n```\r\n\r\n---\r\n\r\nThe Faces file `hello.xhtml`:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;\r\n      xmlns:f=&quot;jakarta.faces.core&quot;\r\n      xmlns:h=&quot;jakarta.faces.html&quot;&gt;\r\n    &lt;h:head&gt;\r\n        &lt;title&gt;Hello, World!&lt;/title&gt;\r\n    &lt;/h:head&gt;\r\n    &lt;h:body&gt;\r\n        &lt;h:form&gt;\r\n            &lt;h:outputLabel for=&quot;name&quot; value=&quot;Enter your name&quot; required=&quot;true&quot; /&gt;\r\n            &lt;h:inputText id=&quot;name&quot; value=&quot;#{hello.name}&quot; /&gt;\r\n            &lt;h:message for=&quot;name&quot; /&gt;\r\n            &lt;br/&gt;\r\n            &lt;h:commandButton value=&quot;Say hello&quot; action=&quot;#{hello.createMessage}&quot;&gt;\r\n                &lt;f:ajax execute=&quot;@form&quot; render=&quot;@form&quot; /&gt;\r\n            &lt;/h:commandButton&gt;\r\n            &lt;br /&gt;\r\n            #{hello.message}\r\n        &lt;/h:form&gt;\r\n    &lt;/h:body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n---\r\n\r\nThe `Faces.java` bean:\r\n\r\n```java\r\nimport jakarta.enterprise.context.RequestScoped;\r\nimport jakarta.inject.Named;\r\n\r\n@Named\r\n@RequestScoped\r\npublic class Hello {\r\n\r\n    private String name;\r\n    private String message;\r\n\r\n    public void createMessage() {\r\n        message = &quot;Hello, &quot; + name + &quot;!&quot;;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n}\r\n```\r\n\r\n---\r\n\r\nThe Tomcat launcher with the `main` method:\r\n\r\n```java\r\nimport jakarta.servlet.ServletException;\r\nimport java.io.File;\r\nimport org.apache.catalina.Context;\r\nimport org.apache.catalina.LifecycleException;\r\nimport org.apache.catalina.connector.Connector;\r\nimport org.apache.catalina.core.AprLifecycleListener;\r\nimport org.apache.catalina.core.StandardServer;\r\nimport org.apache.catalina.startup.Tomcat;\r\n\r\npublic class MyApp {\r\n\r\n    public static void main(String[] args) throws LifecycleException {\r\n        String webappDirLocation = &quot;src/main/resources/&quot;;\r\n        Tomcat tomcat = new Tomcat();\r\n        Connector conn = new Connector();\r\n        conn.setPort(8080);\r\n        tomcat.setConnector(conn);\r\n\r\n        tomcat.setBaseDir(&quot;.&quot;);\r\n        tomcat.getHost().setAppBase(&quot;.&quot;);\r\n        tomcat.setSilent(false);\r\n\r\n        Context ctx = tomcat.addWebapp(&quot;/&quot;, new File(webappDirLocation).getAbsolutePath());\r\n        tomcat.start();\r\n        tomcat.getServer().await();\r\n    }\r\n\r\n}\r\n```\r\n\r\n---\r\n\r\nAt the command line, assuming all the supporting JARs are in a `lib` directory; and (as noted above) the `myDocBase` directory is in the same parent directory as the JAR file:\r\n\r\n    java -cp lib/*;MyEmbeddedJsfDemo.jar org.me.App\r\n\r\nStart-up log:\r\n\r\n```\r\nApr 29, 2023 5:22:45 P.M. org.apache.catalina.core.StandardContext setPath\r\nApr 29, 2023 5:22:45 P.M. org.apache.coyote.AbstractProtocol init\r\nINFO: Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\nApr 29, 2023 5:22:45 P.M. org.apache.catalina.core.StandardService startInternal\r\nINFO: Starting service [Tomcat]\r\nApr 29, 2023 5:22:45 P.M. org.apache.catalina.core.StandardEngine startInternal\r\nINFO: Starting Servlet engine: [Apache Tomcat/10.1.5]\r\nApr 29, 2023 5:22:45 P.M. org.apache.catalina.startup.ContextConfig getDefaultWebXmlFragment\r\nINFO: No global web.xml found\r\nApr 29, 2023 5:22:46 P.M. org.apache.jasper.servlet.TldScanner scanJars\r\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\nApr 29, 2023 5:22:46 P.M. org.jboss.weld.environment.servlet.EnhancedListener onStartup\r\nINFO: WELD-ENV-001008: Initialize Weld using ServletContainerInitializer\r\nApr 29, 2023 5:22:46 P.M. org.jboss.weld.bootstrap.WeldStartup &lt;clinit&gt;\r\nINFO: WELD-000900: 4.0.3 (Final)\r\nApr 29, 2023 5:22:47 P.M. org.jboss.weld.bootstrap.WeldStartup startContainer\r\nINFO: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.\r\nApr 29, 2023 5:22:47 P.M. org.jboss.weld.environment.tomcat.TomcatContainer initialize\r\nINFO: WELD-ENV-001100: Tomcat 7+ detected, CDI injection will be available in Servlets, Filters and Listeners.\r\nApr 29, 2023 5:22:47 P.M. com.sun.faces.config.ConfigureListener contextInitialized\r\nINFO: Initializing Mojarra 4.0.2 for context &#39;&#39;\r\nApr 29, 2023 5:22:47 P.M. com.sun.faces.spi.InjectionProviderFactory createInstance\r\nINFO: JSF1048: PostConstruct/PreDestroy annotations present.  ManagedBeans methods marked with these annotations will have said annotations processed.\r\nApr 29, 2023 5:22:47 P.M. org.hibernate.validator.internal.util.Version &lt;clinit&gt;\r\nINFO: HV000001: Hibernate Validator 8.0.0.Final\r\nApr 29, 2023 5:22:48 P.M. org.apache.coyote.AbstractProtocol start\r\nINFO: Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n```","title":"How do I add to a project with JSF 3.0 an embedded tomcat server 10.1.5 that runs from a main","body":"<p>Some caveats first:</p>\n<ul>\n<li>this uses Java 19, and JSF 4 (different from the request in the question).</li>\n<li>but it does use Tomcat 10.1 (matching the question).</li>\n<li>it places the web files in a directory external to the application (see below). This may be a <strong>bad approach</strong>, but I have not found a good way to reference the web files when they are located in the built JAR, in <code>/resources</code>.</li>\n<li>this is a bare-bones (minimal) set-up.</li>\n</ul>\n<p>You can modify the <code>pom.xml</code> - I have not tried your specific target versions.</p>\n<p>I have also only verified this with a basic &quot;hello world&quot; style Faces page.</p>\n<hr />\n<p>The <code>pom.xml</code> dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n    &lt;version&gt;10.1.5&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;version&gt;10.1.5&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\n    &lt;version&gt;10.1.5&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.faces&lt;/artifactId&gt;\n    &lt;version&gt;4.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jboss.weld.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;weld-servlet-shaded&lt;/artifactId&gt;\n    &lt;version&gt;4.0.3.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<p>Structure for <code>myDocBase</code> - the external location of all web files:</p>\n<pre><code>myDocBase\n|\n|-- META-INF\n|   |\n|   |-- beans.xml  (empty file)\n|\n|-- WEB-INF\n|   |\n|   |-- faces-config.xml\n|   |-- web.xml\n|\n|-- hello.xhtml\n</code></pre>\n<p><code>web.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app\n    xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd&quot;\n    version=&quot;6.0&quot;\n&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;jakarta.faces.webapp.FacesServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>I have not tried this, but I expect you could declare the servlet programmatically - something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Tomcat.addServlet(ctx, &quot;facesServlet&quot;, &quot;jakarta.faces.webapp.FacesServlet&quot;);\nctx.addServletMappingDecoded(&quot;*.xhtml&quot;, &quot;facesServlet&quot;);\n</code></pre>\n<p><code>faces-config.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;faces-config\n    xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-facesconfig_4_0.xsd&quot;\n    version=&quot;4.0&quot;\n&gt;\n    &lt;!-- Put any faces config here. --&gt;\n&lt;/faces-config&gt;\n</code></pre>\n<hr />\n<p>The Faces file <code>hello.xhtml</code>:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;\n      xmlns:f=&quot;jakarta.faces.core&quot;\n      xmlns:h=&quot;jakarta.faces.html&quot;&gt;\n    &lt;h:head&gt;\n        &lt;title&gt;Hello, World!&lt;/title&gt;\n    &lt;/h:head&gt;\n    &lt;h:body&gt;\n        &lt;h:form&gt;\n            &lt;h:outputLabel for=&quot;name&quot; value=&quot;Enter your name&quot; required=&quot;true&quot; /&gt;\n            &lt;h:inputText id=&quot;name&quot; value=&quot;#{hello.name}&quot; /&gt;\n            &lt;h:message for=&quot;name&quot; /&gt;\n            &lt;br/&gt;\n            &lt;h:commandButton value=&quot;Say hello&quot; action=&quot;#{hello.createMessage}&quot;&gt;\n                &lt;f:ajax execute=&quot;@form&quot; render=&quot;@form&quot; /&gt;\n            &lt;/h:commandButton&gt;\n            &lt;br /&gt;\n            #{hello.message}\n        &lt;/h:form&gt;\n    &lt;/h:body&gt;\n&lt;/html&gt;\n</code></pre>\n<hr />\n<p>The <code>Faces.java</code> bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.enterprise.context.RequestScoped;\nimport jakarta.inject.Named;\n\n@Named\n@RequestScoped\npublic class Hello {\n\n    private String name;\n    private String message;\n\n    public void createMessage() {\n        message = &quot;Hello, &quot; + name + &quot;!&quot;;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n}\n</code></pre>\n<hr />\n<p>The Tomcat launcher with the <code>main</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.servlet.ServletException;\nimport java.io.File;\nimport org.apache.catalina.Context;\nimport org.apache.catalina.LifecycleException;\nimport org.apache.catalina.connector.Connector;\nimport org.apache.catalina.core.AprLifecycleListener;\nimport org.apache.catalina.core.StandardServer;\nimport org.apache.catalina.startup.Tomcat;\n\npublic class MyApp {\n\n    public static void main(String[] args) throws LifecycleException {\n        String webappDirLocation = &quot;src/main/resources/&quot;;\n        Tomcat tomcat = new Tomcat();\n        Connector conn = new Connector();\n        conn.setPort(8080);\n        tomcat.setConnector(conn);\n\n        tomcat.setBaseDir(&quot;.&quot;);\n        tomcat.getHost().setAppBase(&quot;.&quot;);\n        tomcat.setSilent(false);\n\n        Context ctx = tomcat.addWebapp(&quot;/&quot;, new File(webappDirLocation).getAbsolutePath());\n        tomcat.start();\n        tomcat.getServer().await();\n    }\n\n}\n</code></pre>\n<hr />\n<p>At the command line, assuming all the supporting JARs are in a <code>lib</code> directory; and (as noted above) the <code>myDocBase</code> directory is in the same parent directory as the JAR file:</p>\n<pre><code>java -cp lib/*;MyEmbeddedJsfDemo.jar org.me.App\n</code></pre>\n<p>Start-up log:</p>\n<pre><code>Apr 29, 2023 5:22:45 P.M. org.apache.catalina.core.StandardContext setPath\nApr 29, 2023 5:22:45 P.M. org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\nApr 29, 2023 5:22:45 P.M. org.apache.catalina.core.StandardService startInternal\nINFO: Starting service [Tomcat]\nApr 29, 2023 5:22:45 P.M. org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet engine: [Apache Tomcat/10.1.5]\nApr 29, 2023 5:22:45 P.M. org.apache.catalina.startup.ContextConfig getDefaultWebXmlFragment\nINFO: No global web.xml found\nApr 29, 2023 5:22:46 P.M. org.apache.jasper.servlet.TldScanner scanJars\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nApr 29, 2023 5:22:46 P.M. org.jboss.weld.environment.servlet.EnhancedListener onStartup\nINFO: WELD-ENV-001008: Initialize Weld using ServletContainerInitializer\nApr 29, 2023 5:22:46 P.M. org.jboss.weld.bootstrap.WeldStartup &lt;clinit&gt;\nINFO: WELD-000900: 4.0.3 (Final)\nApr 29, 2023 5:22:47 P.M. org.jboss.weld.bootstrap.WeldStartup startContainer\nINFO: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.\nApr 29, 2023 5:22:47 P.M. org.jboss.weld.environment.tomcat.TomcatContainer initialize\nINFO: WELD-ENV-001100: Tomcat 7+ detected, CDI injection will be available in Servlets, Filters and Listeners.\nApr 29, 2023 5:22:47 P.M. com.sun.faces.config.ConfigureListener contextInitialized\nINFO: Initializing Mojarra 4.0.2 for context ''\nApr 29, 2023 5:22:47 P.M. com.sun.faces.spi.InjectionProviderFactory createInstance\nINFO: JSF1048: PostConstruct/PreDestroy annotations present.  ManagedBeans methods marked with these annotations will have said annotations processed.\nApr 29, 2023 5:22:47 P.M. org.hibernate.validator.internal.util.Version &lt;clinit&gt;\nINFO: HV000001: Hibernate Validator 8.0.0.Final\nApr 29, 2023 5:22:48 P.M. org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n</code></pre>\n"}],"owner":{"account_id":28450026,"reputation":1,"user_id":21768232,"display_name":"Johan Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682804000,"creation_date":1682720980,"question_id":76133642,"body_markdown":"I have to make a java web project with JSF 3.0, java 17, CDI 2.0 and run from a main running an embedded tomcat 10.1.5 server, but I have not succeeded because I have found very little information on how to do it, someone please Can you help me by telling me how to do it and that it works correctly? (no spring boot)\r\n\r\nI tried an old example of an embedded tomcat 9.0.0.M6 made for JSP but trying to adapt it for JSF didn&#39;t work at all","title":"How do I add to a project with JSF 3.0 an embedded tomcat server 10.1.5 that runs from a main","body":"<p>I have to make a java web project with JSF 3.0, java 17, CDI 2.0 and run from a main running an embedded tomcat 10.1.5 server, but I have not succeeded because I have found very little information on how to do it, someone please Can you help me by telling me how to do it and that it works correctly? (no spring boot)</p>\n<p>I tried an old example of an embedded tomcat 9.0.0.M6 made for JSP but trying to adapt it for JSF didn't work at all</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1636453286,"post_id":69890096,"comment_id":123555031,"body_markdown":"What do you mean by not seeing the data? Do you have data in the database? And how does the SQL look like that Hibernate is executing?","body":"What do you mean by not seeing the data? Do you have data in the database? And how does the SQL look like that Hibernate is executing?"},{"owner":{"account_id":12469633,"reputation":99,"user_id":9078270,"display_name":"Craig"},"score":0,"creation_date":1636500082,"post_id":69890096,"comment_id":123573135,"body_markdown":"Hi Simon, there is data in the database, and my localhost:8080 looks like this instead of displaying items in the database ```{\n  &quot;_embedded&quot; : {\n    &quot;product&quot; : [ {\n      &quot;_links&quot; : {\n        &quot;self&quot; : {\n          &quot;href&quot; : &quot;http://localhost:8080/api/product/1&quot;\n        },\n        &quot;product&quot; : {\n          &quot;href&quot; : &quot;http://localhost:8080/api/product/1&quot;\n        },\n        &quot;category&quot; : {\n          &quot;href&quot; : &quot;http://localhost:8080/api/product/1/category&quot;\n        }\n      }\n    }```","body":"Hi Simon, there is data in the database, and my localhost:8080 looks like this instead of displaying items in the database <code>{   &quot;_embedded&quot; : {     &quot;product&quot; : [ {       &quot;_links&quot; : {         &quot;self&quot; : {           &quot;href&quot; : &quot;http:&#47;&#47;localhost:8080&#47;api&#47;product&#47;1&quot;         },         &quot;product&quot; : {           &quot;href&quot; : &quot;http:&#47;&#47;localhost:8080&#47;api&#47;product&#47;1&quot;         },         &quot;category&quot; : {           &quot;href&quot; : &quot;http:&#47;&#47;localhost:8080&#47;api&#47;product&#47;1&#47;category&quot;         }       }     }</code>"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1636527027,"post_id":69890096,"comment_id":123577618,"body_markdown":"That&#39;s correct. Because you are using Spring Data REST and this uses HATEOS. Please read the docs: https://docs.spring.io/spring-data/rest/docs/3.5.6/reference/html/#reference","body":"That&#39;s correct. Because you are using Spring Data REST and this uses HATEOS. Please read the docs: <a href=\"https://docs.spring.io/spring-data/rest/docs/3.5.6/reference/html/#reference\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/rest/docs/3.5.6/reference/html/&hellip;</a>"}],"owner":{"account_id":12469633,"reputation":99,"user_id":9078270,"display_name":"Craig"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682803607,"creation_date":1636406598,"question_id":69890096,"body_markdown":"I am doing a tutorial via Udemy and getting stuck with my data not showing up. I can&#39;t explain much of this due to my experience level, but pretty sure the problem is with this @RepositoryRestResource and configuration. Nothing is throwing errors, just not seeing my data.\r\n\r\n    package com.luv2code.ecommerce.dao;\r\n    \r\n    import com.luv2code.ecommerce.entity.Product;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.rest.core.annotation.RepositoryRestResource;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    \r\n    \r\n    @CrossOrigin(&quot;http://localhost:4200&quot;)\r\n    @Repository\r\n    @RepositoryRestResource(collectionResourceRel = &quot;product&quot;, path = &quot;product&quot;)\r\n    public interface ProductRepository extends JpaRepository&lt;Product, Long&gt;\r\n    {\r\n    \r\n    }\r\n\r\n\r\n[![MyDataRestConfig.java][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/prlOh.png","title":"Not seeing my data with @RepositoryRestResource","body":"<p>I am doing a tutorial via Udemy and getting stuck with my data not showing up. I can't explain much of this due to my experience level, but pretty sure the problem is with this @RepositoryRestResource and configuration. Nothing is throwing errors, just not seeing my data.</p>\n<pre><code>package com.luv2code.ecommerce.dao;\n\nimport com.luv2code.ecommerce.entity.Product;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.rest.core.annotation.RepositoryRestResource;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.web.bind.annotation.CrossOrigin;\n\n\n@CrossOrigin(&quot;http://localhost:4200&quot;)\n@Repository\n@RepositoryRestResource(collectionResourceRel = &quot;product&quot;, path = &quot;product&quot;)\npublic interface ProductRepository extends JpaRepository&lt;Product, Long&gt;\n{\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/prlOh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/prlOh.png\" alt=\"MyDataRestConfig.java\" /></a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"score":0,"creation_date":1682797061,"post_id":76138048,"comment_id":134272781,"body_markdown":"Please share what you tried, what do you mean by &quot;several different ways&quot; ?","body":"Please share what you tried, what do you mean by &quot;several different ways&quot; ?"},{"owner":{"account_id":13807809,"reputation":420,"user_id":9966240,"display_name":"KSs"},"score":0,"creation_date":1682797937,"post_id":76138048,"comment_id":134272910,"body_markdown":"@Yann39 examples added","body":"@Yann39 examples added"},{"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"score":1,"creation_date":1682798004,"post_id":76138048,"comment_id":134272918,"body_markdown":"Have you tried it as a post request?","body":"Have you tried it as a post request?"},{"owner":{"account_id":13807809,"reputation":420,"user_id":9966240,"display_name":"KSs"},"score":0,"creation_date":1682798572,"post_id":76138048,"comment_id":134272984,"body_markdown":"Using POST and @RequestBody annotation will work, but i would like to implement it using the GET method","body":"Using POST and @RequestBody annotation will work, but i would like to implement it using the GET method"},{"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"score":0,"creation_date":1682798642,"post_id":76138048,"comment_id":134272994,"body_markdown":"Any reason you use `@ModelAttribute` ?","body":"Any reason you use <code>@ModelAttribute</code> ?"},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1682798776,"post_id":76138048,"comment_id":134273013,"body_markdown":"It would be better to `POST` or `PUT` the data because query parameters aren&#39;t really suited to passing objects.  However, if the objects all have the same fields you could pass multiple lists of values and reconstitute the objects in controller.  This may help with that: https://stackoverflow.com/questions/4596351/binding-a-list-in-requestparam","body":"It would be better to <code>POST</code> or <code>PUT</code> the data because query parameters aren&#39;t really suited to passing objects.  However, if the objects all have the same fields you could pass multiple lists of values and reconstitute the objects in controller.  This may help with that: <a href=\"https://stackoverflow.com/questions/4596351/binding-a-list-in-requestparam\" title=\"binding a list in requestparam\">stackoverflow.com/questions/4596351/&hellip;</a>"},{"owner":{"account_id":13807809,"reputation":420,"user_id":9966240,"display_name":"KSs"},"score":0,"creation_date":1682799023,"post_id":76138048,"comment_id":134273050,"body_markdown":"I have a lot of potential query parameters with which I would like to extend the search.  `@ModelAttribute` allow me to bind them all to an object and pass it to facade, instead of defining each parameter with `@RequestParam` annotation.","body":"I have a lot of potential query parameters with which I would like to extend the search.  <code>@ModelAttribute</code> allow me to bind them all to an object and pass it to facade, instead of defining each parameter with <code>@RequestParam</code> annotation."}],"answers":[{"tags":[],"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682800760,"creation_date":1682800760,"answer_id":76138315,"question_id":76138048,"body_markdown":"Your second example should work, you should be able to pass the values this way :\r\n\r\nhttps://example.com/rss?authors[0].name=Bob&amp;authors[0].authorId=1&amp;authors[1].name=Alice&amp;authors[1].authorId=2&amp;status=active\r\n\r\nI just tried it locally in my environment and it works fine.\r\n\r\nMy test controller :\r\n\r\n```java\r\n@GetMapping(value = &quot;/rss&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic void findRssFeed(@ModelAttribute(&quot;test&quot;) Test test) {\r\n    log.info(&quot;status {}&quot;, test.getStatus());\r\n    for (Test.Author a : test.getAuthors()) {\r\n        log.info(&quot;name {}&quot;, a.getName());\r\n        log.info(&quot;id {}&quot;, a.getAuthorId());\r\n    }\r\n}\r\n```\r\n\r\nThe Powershell GET request :\r\n\r\n```powershell\r\nInvoke-WebRequest -Uri &quot;http://localhost:8080/rss?authors[0].name=Bob&amp;authors[0].authorId=123&amp;authors[1].name=Alice&amp;authors[1].authorId=456&amp;status=active&quot; -Method GET\r\n```\r\nResponse :\r\n\r\n```\r\nc.c.g.controller.rest.TestController  : status active\r\nc.c.g.controller.rest.TestController  : name Bob\r\nc.c.g.controller.rest.TestController  : id 123\r\nc.c.g.controller.rest.TestController  : name Alice\r\nc.c.g.controller.rest.TestController  : id 456\r\n```\r\n\r\nCheck that you correctly encode the URL if you are trying from your browser.\r\n\r\nAnyway if you need to pass a large amount of data, or a very complex object, then using GET may not be the best idea, as everything has to be passed in the query string from the URL.\r\n\r\nEven if you can use body in GET requests (any HTTP request message is allowed to contain a message body), this is not recommended and not considered a good practice.\r\n\r\nIf you need to send complex or large data, simply do a POST request, and send your data in the request body.\r\n\r\n","title":"How to send list of objects in query parameters to spring boot application?","body":"<p>Your second example should work, you should be able to pass the values this way :</p>\n<p><a href=\"https://example.com/rss?authors%5B0%5D.name=Bob&amp;authors%5B0%5D.authorId=1&amp;authors%5B1%5D.name=Alice&amp;authors%5B1%5D.authorId=2&amp;status=active\" rel=\"nofollow noreferrer\">https://example.com/rss?authors[0].name=Bob&amp;authors[0].authorId=1&amp;authors[1].name=Alice&amp;authors[1].authorId=2&amp;status=active</a></p>\n<p>I just tried it locally in my environment and it works fine.</p>\n<p>My test controller :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;/rss&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic void findRssFeed(@ModelAttribute(&quot;test&quot;) Test test) {\n    log.info(&quot;status {}&quot;, test.getStatus());\n    for (Test.Author a : test.getAuthors()) {\n        log.info(&quot;name {}&quot;, a.getName());\n        log.info(&quot;id {}&quot;, a.getAuthorId());\n    }\n}\n</code></pre>\n<p>The Powershell GET request :</p>\n<pre><code>Invoke-WebRequest -Uri &quot;http://localhost:8080/rss?authors[0].name=Bob&amp;authors[0].authorId=123&amp;authors[1].name=Alice&amp;authors[1].authorId=456&amp;status=active&quot; -Method GET\n</code></pre>\n<p>Response :</p>\n<pre><code>c.c.g.controller.rest.TestController  : status active\nc.c.g.controller.rest.TestController  : name Bob\nc.c.g.controller.rest.TestController  : id 123\nc.c.g.controller.rest.TestController  : name Alice\nc.c.g.controller.rest.TestController  : id 456\n</code></pre>\n<p>Check that you correctly encode the URL if you are trying from your browser.</p>\n<p>Anyway if you need to pass a large amount of data, or a very complex object, then using GET may not be the best idea, as everything has to be passed in the query string from the URL.</p>\n<p>Even if you can use body in GET requests (any HTTP request message is allowed to contain a message body), this is not recommended and not considered a good practice.</p>\n<p>If you need to send complex or large data, simply do a POST request, and send your data in the request body.</p>\n"}],"owner":{"account_id":13807809,"reputation":420,"user_id":9966240,"display_name":"KSs"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76138315,"answer_count":1,"score":0,"last_activity_date":1682800760,"creation_date":1682796656,"question_id":76138048,"body_markdown":"I have a case where I need to implement a search. I want to pass a list of objects as query parameters. Below is a sample code. \r\n\r\nController:\r\n\r\n```java\r\n@RestController\r\n@RequiredArgsConstructor\r\nclass RssFeedController {\r\n    private final RssFeedFacade rssFacade;\r\n\r\n    @GetMapping(value = &quot;/rss&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public RssFeedDto findRssFeed(@ModelAttribute FindRssFeedDto findRssFeedDto) {\r\n        return rssFacade.findRssFeed(findRssFeedDto);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nDto:\r\n\r\n```java\r\n@Value\r\npublic class FindRssFeedDto {\r\n    List&lt;Author&gt; authors;\r\n    FeedStatus status;\r\n\r\n    @Value\r\n    public static class Author {\r\n        String name;\r\n        String authorId;\r\n        // ...\r\n    }\r\n\r\n}\r\n```\r\n\r\nI tried to send **GET** request with list of objects in query parameter, in several different ways like:\r\n - `authors=[{&quot;name&quot;:&quot;name&quot;,&quot;authorId&quot;:&quot;authorId&quot;}]`\r\n - `authors[0].name=name&amp;authors[0].authorId=authorId`\r\n\r\nbut list of authors is always null. I need to prepare a query that will allow me to search by many parameters. Is an additional custom deseriazlizer needed here?","title":"How to send list of objects in query parameters to spring boot application?","body":"<p>I have a case where I need to implement a search. I want to pass a list of objects as query parameters. Below is a sample code.</p>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequiredArgsConstructor\nclass RssFeedController {\n    private final RssFeedFacade rssFacade;\n\n    @GetMapping(value = &quot;/rss&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public RssFeedDto findRssFeed(@ModelAttribute FindRssFeedDto findRssFeedDto) {\n        return rssFacade.findRssFeed(findRssFeedDto);\n    }\n    \n}\n</code></pre>\n<p>Dto:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value\npublic class FindRssFeedDto {\n    List&lt;Author&gt; authors;\n    FeedStatus status;\n\n    @Value\n    public static class Author {\n        String name;\n        String authorId;\n        // ...\n    }\n\n}\n</code></pre>\n<p>I tried to send <strong>GET</strong> request with list of objects in query parameter, in several different ways like:</p>\n<ul>\n<li><code>authors=[{&quot;name&quot;:&quot;name&quot;,&quot;authorId&quot;:&quot;authorId&quot;}]</code></li>\n<li><code>authors[0].name=name&amp;authors[0].authorId=authorId</code></li>\n</ul>\n<p>but list of authors is always null. I need to prepare a query that will allow me to search by many parameters. Is an additional custom deseriazlizer needed here?</p>\n"},{"tags":["java","parameters","mapstruct","qualifiers"],"answers":[{"tags":[],"owner":{"account_id":8282587,"reputation":382,"user_id":6226761,"display_name":"Edwin M. Cruz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682799777,"creation_date":1682795037,"answer_id":76137938,"question_id":76122115,"body_markdown":"A mapper&#39;s **method signature must provide the reference decorated with @Context** annotation for a **qualifiedByName** method **to use the context**. You can also achieve providing the qualifiedByName method a reference to the **enumDefinitionDao** by auto-wiring the DAO in an abstract class via setter injection, as demonstrated below.  \r\n\r\n    @Service\r\n    @AllArgsConstructor\r\n    public class DefinitionService {\r\n\r\n        // Autowire Bean Approach\r\n        private final EnumValueMapperWithAutowiredBean enumValueMapperWithAutowiredBean;\r\n\r\n        // Context Approach\r\n        private final IEnumDefinitionDao enumDefinitionDao;\r\n        private final EnumValueMapperWithContext enumValueMapperWithContext;\r\n\r\n        public EnumValue doLookupUsingContextApproach(EnumValueBean bean) {\r\n            return enumValueMapperWithContext.toEntity(bean, enumDefinitionDao);\r\n        }\r\n\r\n        public EnumValue doLookupUsingAutowireBeanApproach(EnumValueBean bean) {\r\n            return enumValueMapperWithAutowiredBean.toEntity(bean);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    @Mapper\r\n    public interface EnumValueMapperWithContext {\r\n\r\n        @Mapping(target = &quot;enumDefinition&quot;, source = &quot;enumDefinitionId&quot;, qualifiedByName = &quot;getEnumDefinition&quot;)\r\n        EnumValue toEntity(EnumValueBean enumValueBean, @Context IEnumDefinitionDao enumDefinitionDao);\r\n\r\n        @Mapping(target = &quot;enumDefinitionId&quot;, source = &quot;enumDefinition.name&quot;)\r\n        EnumValueBean toBean(EnumValue enumValue);\r\n\r\n        @Named(&quot;getEnumDefinition&quot;)\r\n        default EnumDefinition getEnumDefinition(\r\n            String enumDefinitionName,\r\n            @Context IEnumDefinitionDao enumDefinitionDao) {\r\n            return enumDefinitionDao.findById(enumDefinitionName).orElse(null);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    @Mapper\r\n    public abstract class EnumValueMapperWithAutowiredBean {\r\n\r\n        protected IEnumDefinitionDao enumDefinitionDao;\r\n\r\n        @Autowired\r\n        public final void setEnumDefinitionDao(IEnumDefinitionDao enumDefinitionDao) {\r\n            this.enumDefinitionDao = enumDefinitionDao;\r\n        }\r\n\r\n        @Mapping(target = &quot;enumDefinition&quot;, source = &quot;enumDefinitionId&quot;, qualifiedByName = &quot;getEnumDefinition&quot;)\r\n        public abstract EnumValue toEntity(EnumValueBean enumValueBean);\r\n\r\n        @Mapping(target = &quot;enumDefinitionId&quot;, source = &quot;enumDefinition.name&quot;)\r\n        public abstract EnumValueBean toBean(EnumValue enumValue);\r\n\r\n        @Named(&quot;getEnumDefinition&quot;)\r\n        EnumDefinition getEnumDefinition(String enumDefinitionName) {\r\n            return enumDefinitionDao.findById(enumDefinitionName).orElse(null);\r\n        }\r\n\r\n    }","title":"Using @Context for a mapstruct mapper is considered like an additional parameter","body":"<p>A mapper's <strong>method signature must provide the reference decorated with @Context</strong> annotation for a <strong>qualifiedByName</strong> method <strong>to use the context</strong>. You can also achieve providing the qualifiedByName method a reference to the <strong>enumDefinitionDao</strong> by auto-wiring the DAO in an abstract class via setter injection, as demonstrated below.</p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class DefinitionService {\n\n    // Autowire Bean Approach\n    private final EnumValueMapperWithAutowiredBean enumValueMapperWithAutowiredBean;\n\n    // Context Approach\n    private final IEnumDefinitionDao enumDefinitionDao;\n    private final EnumValueMapperWithContext enumValueMapperWithContext;\n\n    public EnumValue doLookupUsingContextApproach(EnumValueBean bean) {\n        return enumValueMapperWithContext.toEntity(bean, enumDefinitionDao);\n    }\n\n    public EnumValue doLookupUsingAutowireBeanApproach(EnumValueBean bean) {\n        return enumValueMapperWithAutowiredBean.toEntity(bean);\n    }\n\n}\n\n\n@Mapper\npublic interface EnumValueMapperWithContext {\n\n    @Mapping(target = &quot;enumDefinition&quot;, source = &quot;enumDefinitionId&quot;, qualifiedByName = &quot;getEnumDefinition&quot;)\n    EnumValue toEntity(EnumValueBean enumValueBean, @Context IEnumDefinitionDao enumDefinitionDao);\n\n    @Mapping(target = &quot;enumDefinitionId&quot;, source = &quot;enumDefinition.name&quot;)\n    EnumValueBean toBean(EnumValue enumValue);\n\n    @Named(&quot;getEnumDefinition&quot;)\n    default EnumDefinition getEnumDefinition(\n        String enumDefinitionName,\n        @Context IEnumDefinitionDao enumDefinitionDao) {\n        return enumDefinitionDao.findById(enumDefinitionName).orElse(null);\n    }\n\n}\n\n\n@Mapper\npublic abstract class EnumValueMapperWithAutowiredBean {\n\n    protected IEnumDefinitionDao enumDefinitionDao;\n\n    @Autowired\n    public final void setEnumDefinitionDao(IEnumDefinitionDao enumDefinitionDao) {\n        this.enumDefinitionDao = enumDefinitionDao;\n    }\n\n    @Mapping(target = &quot;enumDefinition&quot;, source = &quot;enumDefinitionId&quot;, qualifiedByName = &quot;getEnumDefinition&quot;)\n    public abstract EnumValue toEntity(EnumValueBean enumValueBean);\n\n    @Mapping(target = &quot;enumDefinitionId&quot;, source = &quot;enumDefinition.name&quot;)\n    public abstract EnumValueBean toBean(EnumValue enumValue);\n\n    @Named(&quot;getEnumDefinition&quot;)\n    EnumDefinition getEnumDefinition(String enumDefinitionName) {\n        return enumDefinitionDao.findById(enumDefinitionName).orElse(null);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13374965,"reputation":157,"user_id":9652085,"display_name":"Kpo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":984,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682799777,"creation_date":1682609002,"question_id":76122115,"body_markdown":"I have a mapper where I&#39;m trying to use a repository as context so I can fetch my object during the mapping. I spent a lot of time searching how context work and this is what I came up with\r\n\r\n    @Mapper(componentModel = MappingConstants.ComponentModel.SPRING, nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT)\r\n    public interface EnumValueMapper {\r\n        @Mapping(target = &quot;enumDefinition&quot;, source = &quot;enumDefinitionId&quot;, qualifiedByName = &quot;getEnumDefinition&quot;)\r\n        EnumValue toEntity(EnumValueBean enumValueBean);\r\n    \r\n        @Mapping(target = &quot;enumDefinitionId&quot;, source = &quot;enumDefinition.name&quot;)\r\n        EnumValueBean toBean(EnumValue enumValue);\r\n    \r\n        @Named(&quot;getEnumDefinition&quot;)\r\n        static EnumDefinition getEnumDefinition(String enumDefinitionName, @Context IEnumDefinitiontDao enumDefinitionDao) {\r\n            return enumDefinitionDao.findById(enumDefinitionName).orElse(null);\r\n        }\r\n    }\r\n\r\nThe issue with this is that I get the error\r\n&gt; Qualifier error. No method found annotated with @Named#value: [\r\n&gt; getEnumDefinition ]. See https://mapstruct.org/faq/#qualifier for more\r\n&gt; info.\r\n\r\ndue to the compiler seeing @Context as a 2nd parameter and not finding a named &quot;getEnumDefinition&quot; that matches the 1 String parameter method. If I remove the @Context parameter the error disappears and the build succeed. I&#39;m confused at what I&#39;m doing wrong because I didn&#39;t see anyone explicitly giving a context inside a @Mapping, they just give their source and the name for the qualifiedByName and it finds the correct method despite the @Context.","title":"Using @Context for a mapstruct mapper is considered like an additional parameter","body":"<p>I have a mapper where I'm trying to use a repository as context so I can fetch my object during the mapping. I spent a lot of time searching how context work and this is what I came up with</p>\n<pre><code>@Mapper(componentModel = MappingConstants.ComponentModel.SPRING, nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT)\npublic interface EnumValueMapper {\n    @Mapping(target = &quot;enumDefinition&quot;, source = &quot;enumDefinitionId&quot;, qualifiedByName = &quot;getEnumDefinition&quot;)\n    EnumValue toEntity(EnumValueBean enumValueBean);\n\n    @Mapping(target = &quot;enumDefinitionId&quot;, source = &quot;enumDefinition.name&quot;)\n    EnumValueBean toBean(EnumValue enumValue);\n\n    @Named(&quot;getEnumDefinition&quot;)\n    static EnumDefinition getEnumDefinition(String enumDefinitionName, @Context IEnumDefinitiontDao enumDefinitionDao) {\n        return enumDefinitionDao.findById(enumDefinitionName).orElse(null);\n    }\n}\n</code></pre>\n<p>The issue with this is that I get the error</p>\n<blockquote>\n<p>Qualifier error. No method found annotated with @Named#value: [\ngetEnumDefinition ]. See <a href=\"https://mapstruct.org/faq/#qualifier\" rel=\"nofollow noreferrer\">https://mapstruct.org/faq/#qualifier</a> for more\ninfo.</p>\n</blockquote>\n<p>due to the compiler seeing @Context as a 2nd parameter and not finding a named &quot;getEnumDefinition&quot; that matches the 1 String parameter method. If I remove the @Context parameter the error disappears and the build succeed. I'm confused at what I'm doing wrong because I didn't see anyone explicitly giving a context inside a @Mapping, they just give their source and the name for the qualifiedByName and it finds the correct method despite the @Context.</p>\n"},{"tags":["java","jboss","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682799751,"creation_date":1682799751,"answer_id":76138245,"question_id":75681098,"body_markdown":"Oddly enough, this was solved by noticing what I thought was a completely different problem. My project uses a &#39;commons&#39; project that I also created. In that, I had a problem in the pom.xml. I was specifying the &quot;maven-compiler-plugin&quot; but had left out the version and Eclipse was complaining. I then noticed that was the only one of my projects that was using that, while the rest used &quot;spring-boot-maven-plugin&quot;, so I switched my commons pom to that one, and all of a sudden the original problem disappeared.","title":"NullPointerException at JBossServerAuthConfig.getAuthContext line 108","body":"<p>Oddly enough, this was solved by noticing what I thought was a completely different problem. My project uses a 'commons' project that I also created. In that, I had a problem in the pom.xml. I was specifying the &quot;maven-compiler-plugin&quot; but had left out the version and Eclipse was complaining. I then noticed that was the only one of my projects that was using that, while the rest used &quot;spring-boot-maven-plugin&quot;, so I switched my commons pom to that one, and all of a sudden the original problem disappeared.</p>\n"}],"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76138245,"answer_count":1,"score":0,"last_activity_date":1682799751,"creation_date":1678343252,"question_id":75681098,"body_markdown":"I&#39;m using Spring Boot 2.7.9 to create a website along with Spring OAuth2 and Google Auth. When I try to access the site, I&#39;m getting the above error. I&#39;ve traced it back a bit, but would like to hear from someone who knows the code better to help me determine what&#39;s wrong. Here&#39;s the exception stack trace.\r\n\r\n    java.lang.NullPointerException\r\n\tat org.jboss.security.auth.message.config.JBossServerAuthConfig.getAuthContext(JBossServerAuthConfig.java:108)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.getJaspicState(AuthenticatorBase.java:773)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:619)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nIt looks like the error is in this statement:\r\n\r\n    secDomain = (String) properties.get(&quot;security-domain&quot;);\r\n\r\nand it seems that &quot;properties&quot; is null. The code around this line is this:\r\n\r\n    SecurityContext securityContext = SecurityActions.getSecurityContext();\r\n    if (securityContext != null)\r\n    {\r\n       secDomain = securityContext.getSecurityDomain();\r\n    }\r\n    else{\r\n       secDomain = (String) properties.get(&quot;security-domain&quot;);\r\n\r\nso I&#39;m assuming securityContext is null and should not be. This code, BTW, is just what I found online without doing a Git pull.\r\n\r\nWhat would cause SecurityActions.getSecurityContext() to return null?\r\n\r\nAlso, as a side note, we would not have the NPE except for the way getAuthContext() was called. I think this is happening in AuthenticatorBase.java and here&#39;s a code snippet:\r\n\r\n    private JaspicState getJaspicState(AuthConfigProvider jaspicProvider, Request request, Response response,\r\n            boolean authMandatory) throws IOException {\r\n    ...\r\n        try {\r\n            CallbackHandler callbackHandler = getCallbackHandler();\r\n            ServerAuthConfig serverAuthConfig = jaspicProvider.getServerAuthConfig(&quot;HttpServlet&quot;, jaspicAppContextID,\r\n                    callbackHandler);\r\n            String authContextID = serverAuthConfig.getAuthContextID(jaspicState.messageInfo);\r\n            jaspicState.serverAuthContext = serverAuthConfig.getAuthContext(authContextID, null, null); &lt;--- Passing in null for properties\r\n        } catch (AuthException e) {\r\n            log.warn(sm.getString(&quot;authenticator.jaspicServerAuthContextFail&quot;), e);\r\n            response.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n            return null;\r\n        }","title":"NullPointerException at JBossServerAuthConfig.getAuthContext line 108","body":"<p>I'm using Spring Boot 2.7.9 to create a website along with Spring OAuth2 and Google Auth. When I try to access the site, I'm getting the above error. I've traced it back a bit, but would like to hear from someone who knows the code better to help me determine what's wrong. Here's the exception stack trace.</p>\n<pre><code>java.lang.NullPointerException\nat org.jboss.security.auth.message.config.JBossServerAuthConfig.getAuthContext(JBossServerAuthConfig.java:108)\nat org.apache.catalina.authenticator.AuthenticatorBase.getJaspicState(AuthenticatorBase.java:773)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:619)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>It looks like the error is in this statement:</p>\n<pre><code>secDomain = (String) properties.get(&quot;security-domain&quot;);\n</code></pre>\n<p>and it seems that &quot;properties&quot; is null. The code around this line is this:</p>\n<pre><code>SecurityContext securityContext = SecurityActions.getSecurityContext();\nif (securityContext != null)\n{\n   secDomain = securityContext.getSecurityDomain();\n}\nelse{\n   secDomain = (String) properties.get(&quot;security-domain&quot;);\n</code></pre>\n<p>so I'm assuming securityContext is null and should not be. This code, BTW, is just what I found online without doing a Git pull.</p>\n<p>What would cause SecurityActions.getSecurityContext() to return null?</p>\n<p>Also, as a side note, we would not have the NPE except for the way getAuthContext() was called. I think this is happening in AuthenticatorBase.java and here's a code snippet:</p>\n<pre><code>private JaspicState getJaspicState(AuthConfigProvider jaspicProvider, Request request, Response response,\n        boolean authMandatory) throws IOException {\n...\n    try {\n        CallbackHandler callbackHandler = getCallbackHandler();\n        ServerAuthConfig serverAuthConfig = jaspicProvider.getServerAuthConfig(&quot;HttpServlet&quot;, jaspicAppContextID,\n                callbackHandler);\n        String authContextID = serverAuthConfig.getAuthContextID(jaspicState.messageInfo);\n        jaspicState.serverAuthContext = serverAuthConfig.getAuthContext(authContextID, null, null); &lt;--- Passing in null for properties\n    } catch (AuthException e) {\n        log.warn(sm.getString(&quot;authenticator.jaspicServerAuthContextFail&quot;), e);\n        response.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","apache-beam","apache-beam-io"],"answers":[{"tags":[],"owner":{"account_id":1681348,"reputation":31,"user_id":1545509,"display_name":"Drakan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682798776,"creation_date":1682798776,"answer_id":76138189,"question_id":75819978,"body_markdown":"I had the same issue. Beam tries to infer the coder based on the defined class of the RowMapper. But it cannot infer that from the lambda expression.\r\n\r\nSo changing your `withRowMapper` implementation to \r\n\r\n    .withRowMapper(new JdbcIO.RowMapper&lt;OutputType&gt;() {\r\n\r\n                            public Output mapRow(ResultSet resultSet)  {\r\n\r\n                                // logic here\r\n\r\n                            }\r\n                        })\r\nShould fix the issue.","title":"How to set coder for JdbcIO in Apache Beam without using deprecated withCoder method?","body":"<p>I had the same issue. Beam tries to infer the coder based on the defined class of the RowMapper. But it cannot infer that from the lambda expression.</p>\n<p>So changing your <code>withRowMapper</code> implementation to</p>\n<pre><code>.withRowMapper(new JdbcIO.RowMapper&lt;OutputType&gt;() {\n\n                        public Output mapRow(ResultSet resultSet)  {\n\n                            // logic here\n\n                        }\n                    })\n</code></pre>\n<p>Should fix the issue.</p>\n"}],"owner":{"account_id":2649192,"reputation":1945,"user_id":2291305,"accept_rate":100,"display_name":"jics"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682798776,"creation_date":1679554477,"question_id":75819978,"body_markdown":"I&#39;m currently working with Apache Beam&#39;s JdbcIO, and I need to set a coder for the input data. However, the `withCoder` method is marked as deprecated, and I want to avoid using deprecated methods. Here&#39;s a snippet of my code:\r\n```java\r\n.apply(&quot;Inserting&quot;, JdbcIO.&lt;PubsubMessage, InboundData&gt;readAll()\r\n        .withDataSourceProviderFn(DataSourceProvider.of(dbConfig))\r\n        .withQuery(&quot;SELECT column1, column2, column3, array_agg(column4) as aggregated_column &quot; +\r\n                &quot;FROM table1 JOIN table2 ON table1.id = table2.id &quot; +\r\n                &quot;WHERE table1.condition1 = ? and table1.condition2 = ? GROUP BY column1, column2, column3&quot;)\r\n        .withParameterSetter((element, preparedStatement) -&gt; {\r\n            Map&lt;String, String&gt; attributeMap = Objects.requireNonNull(element.getAttributeMap());\r\n            preparedStatement.setString(1, attributeMap.get(&quot;condition1&quot;));\r\n            preparedStatement.setString(2, attributeMap.get(&quot;condition2&quot;));\r\n        })\r\n        .withRowMapper(resultSet -&gt; {\r\n            // Mapping logic here\r\n        }).withOutputParallelization(false)\r\n).setCoder(SerializableCoder.of(InboundData.class))\r\n\r\n```\r\nWhen I run the code, I get the following error:\r\n\r\n```java\r\njava.lang.IllegalStateException: Unable to infer a coder for JdbcIO.readAll() transform. Provide a coder via withCoder, or ensure that one can be inferred from the provided RowMapper.\r\n        at org.apache.beam.sdk.util.Preconditions.checkStateNotNull(Preconditions.java:471)\r\n        at org.apache.beam.sdk.io.jdbc.JdbcIO$ReadAll.expand(JdbcIO.java:1094)\r\n        at org.apache.beam.sdk.io.jdbc.JdbcIO$ReadAll.expand(JdbcIO.java:941)\r\n        at org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:548)\r\n        at org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:499)\r\n        at org.apache.beam.sdk.values.PCollection.apply(PCollection.java:373)\r\n        at mrch.prcmgmt.backend.price.MassiveLoadCommand.run(MassiveLoadCommand.java:73)\r\n        at picocli.CommandLine.executeUserObject(CommandLine.java:1939)\r\n        at picocli.CommandLine.access$1300(CommandLine.java:145)\r\n...\r\n\r\n```\r\nSo my question is: As withCoder is deprecated, what is the recommended way to set the coder for JdbcIO?","title":"How to set coder for JdbcIO in Apache Beam without using deprecated withCoder method?","body":"<p>I'm currently working with Apache Beam's JdbcIO, and I need to set a coder for the input data. However, the <code>withCoder</code> method is marked as deprecated, and I want to avoid using deprecated methods. Here's a snippet of my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.apply(&quot;Inserting&quot;, JdbcIO.&lt;PubsubMessage, InboundData&gt;readAll()\n        .withDataSourceProviderFn(DataSourceProvider.of(dbConfig))\n        .withQuery(&quot;SELECT column1, column2, column3, array_agg(column4) as aggregated_column &quot; +\n                &quot;FROM table1 JOIN table2 ON table1.id = table2.id &quot; +\n                &quot;WHERE table1.condition1 = ? and table1.condition2 = ? GROUP BY column1, column2, column3&quot;)\n        .withParameterSetter((element, preparedStatement) -&gt; {\n            Map&lt;String, String&gt; attributeMap = Objects.requireNonNull(element.getAttributeMap());\n            preparedStatement.setString(1, attributeMap.get(&quot;condition1&quot;));\n            preparedStatement.setString(2, attributeMap.get(&quot;condition2&quot;));\n        })\n        .withRowMapper(resultSet -&gt; {\n            // Mapping logic here\n        }).withOutputParallelization(false)\n).setCoder(SerializableCoder.of(InboundData.class))\n\n</code></pre>\n<p>When I run the code, I get the following error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.IllegalStateException: Unable to infer a coder for JdbcIO.readAll() transform. Provide a coder via withCoder, or ensure that one can be inferred from the provided RowMapper.\n        at org.apache.beam.sdk.util.Preconditions.checkStateNotNull(Preconditions.java:471)\n        at org.apache.beam.sdk.io.jdbc.JdbcIO$ReadAll.expand(JdbcIO.java:1094)\n        at org.apache.beam.sdk.io.jdbc.JdbcIO$ReadAll.expand(JdbcIO.java:941)\n        at org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:548)\n        at org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:499)\n        at org.apache.beam.sdk.values.PCollection.apply(PCollection.java:373)\n        at mrch.prcmgmt.backend.price.MassiveLoadCommand.run(MassiveLoadCommand.java:73)\n        at picocli.CommandLine.executeUserObject(CommandLine.java:1939)\n        at picocli.CommandLine.access$1300(CommandLine.java:145)\n...\n\n</code></pre>\n<p>So my question is: As withCoder is deprecated, what is the recommended way to set the coder for JdbcIO?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":1,"creation_date":1515212784,"post_id":48124248,"comment_id":83225412,"body_markdown":"Possible duplicate of [Fullscreen Activity in Android?](https://stackoverflow.com/questions/2868047/fullscreen-activity-in-android)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/2868047/fullscreen-activity-in-android\">Fullscreen Activity in Android?</a>"},{"owner":{"account_id":12523296,"reputation":91,"user_id":9113976,"display_name":"Dimitris gs"},"score":0,"creation_date":1515213096,"post_id":48124248,"comment_id":83225464,"body_markdown":"not really there is a problem over here while that guy asks just for full screen i on the other hand im asking for a full screen on one activity and not the other two(except if the action bar stays).If i go on activity_two (which is not full screen) i have the home button back button etc .If i press the back button and go back to the main activity the buttons stay there which i don&#39;t want to (not only because i want my main full screen but because the buttons from activity two stay and hide the bottom of my main activity)","body":"not really there is a problem over here while that guy asks just for full screen i on the other hand im asking for a full screen on one activity and not the other two(except if the action bar stays).If i go on activity_two (which is not full screen) i have the home button back button etc .If i press the back button and go back to the main activity the buttons stay there which i don&#39;t want to (not only because i want my main full screen but because the buttons from activity two stay and hide the bottom of my main activity)"}],"answers":[{"tags":[],"owner":{"account_id":7165321,"reputation":6023,"user_id":8244632,"accept_rate":100,"display_name":"Lalit Fauzdar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1515215696,"creation_date":1515215696,"answer_id":48124484,"question_id":48124248,"body_markdown":"**As onWindowsFocusChanged() is what you need so try this:**&lt;br&gt;&lt;Br&gt;1. First, Declare this variable as global in your MainActivity&lt;br&gt;&lt;br&gt;\r\n`private int currentApiVersion;`&lt;Br&gt;&lt;Br&gt;\r\n2. then paste this code in onCreate() of that activity.\r\n&lt;br&gt;\r\n\r\n\r\n    currentApiVersion = Build.VERSION.SDK_INT;\r\n    final int flags = View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n            | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n            | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n            | View.SYSTEM_UI_FLAG_FULLSCREEN\r\n            | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n            | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY;\r\n    if (currentApiVersion &gt;= Build.VERSION_CODES.KITKAT) {\r\n        getWindow().getDecorView().setSystemUiVisibility(flags);\r\n        final View decorView = getWindow().getDecorView();\r\n        decorView.setOnSystemUiVisibilityChangeListener(new View.OnSystemUiVisibilityChangeListener() {\r\n              @Override\r\n              public void onSystemUiVisibilityChange(int visibility) {\r\n                  if ((visibility &amp; View.SYSTEM_UI_FLAG_FULLSCREEN) == 0) {\r\n                       decorView.setSystemUiVisibility(flags);\r\n                  }\r\n              }\r\n        });\r\n    }\r\n3. Now paste this method in your MainActivity class.\r\n\r\n \r\n\r\n    @SuppressLint(&quot;NewApi&quot;)\r\n    @Override\r\n    public void onWindowFocusChanged(boolean hasFocus) {\r\n        super.onWindowFocusChanged(hasFocus);\r\n        if (currentApiVersion &gt;= Build.VERSION_CODES.KITKAT &amp;&amp; hasFocus) {\r\n            getWindow().getDecorView().setSystemUiVisibility(\r\n                   View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                 | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                 | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                 | View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                 | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                 | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\r\n        }\r\n     }\r\n\r\n\r\nNow this should work, give it a try.\r\n\r\n","title":"Android full screen on only one activity?","body":"<p><strong>As onWindowsFocusChanged() is what you need so try this:</strong><br><Br>1. First, Declare this variable as global in your MainActivity<br><br>\n<code>private int currentApiVersion;</code><Br><Br>\n2. then paste this code in onCreate() of that activity.\n<br></p>\n\n<pre><code>currentApiVersion = Build.VERSION.SDK_INT;\nfinal int flags = View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n        | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n        | View.SYSTEM_UI_FLAG_FULLSCREEN\n        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n        | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY;\nif (currentApiVersion &gt;= Build.VERSION_CODES.KITKAT) {\n    getWindow().getDecorView().setSystemUiVisibility(flags);\n    final View decorView = getWindow().getDecorView();\n    decorView.setOnSystemUiVisibilityChangeListener(new View.OnSystemUiVisibilityChangeListener() {\n          @Override\n          public void onSystemUiVisibilityChange(int visibility) {\n              if ((visibility &amp; View.SYSTEM_UI_FLAG_FULLSCREEN) == 0) {\n                   decorView.setSystemUiVisibility(flags);\n              }\n          }\n    });\n}\n</code></pre>\n\n<p>3. Now paste this method in your MainActivity class.</p>\n\n<pre><code>@SuppressLint(\"NewApi\")\n@Override\npublic void onWindowFocusChanged(boolean hasFocus) {\n    super.onWindowFocusChanged(hasFocus);\n    if (currentApiVersion &gt;= Build.VERSION_CODES.KITKAT &amp;&amp; hasFocus) {\n        getWindow().getDecorView().setSystemUiVisibility(\n               View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n             | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n             | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n             | View.SYSTEM_UI_FLAG_FULLSCREEN\n             | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n             | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\n    }\n }\n</code></pre>\n\n<p>Now this should work, give it a try.</p>\n"},{"tags":[],"owner":{"account_id":10688670,"reputation":3585,"user_id":8533971,"accept_rate":43,"display_name":"Aditya"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1515223665,"creation_date":1515223665,"answer_id":48125210,"question_id":48124248,"body_markdown":"You can do this in two ways,\r\n\r\nProgrammatically -- Set `FullScreen` flag to window of activity inside `onCreate()` method (just after or before `setContentView()`). Whom you want to be fullscreen. For example,\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n            Window w = getWindow();\r\n            w.setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                          WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n    }\r\n\r\nOr you can set `theme` in your `AndroidManifest.xml` as,\r\n\r\n    &lt;activity \r\n             android:name=&quot;.YourActivityName&quot;\r\n             android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot;/&gt;\r\n\r\nOr If you are using `AppCompatActivity` then you can set as,\r\n\r\n    &lt;activity \r\n            android:name=&quot;.YourActivityName&quot;\r\n            android:theme=&quot;@android:style/Theme.AppCompat.Light.NoActionBar&quot;/&gt; \r\n\r\nFor more info about the window flags check this link https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html \r\n ","title":"Android full screen on only one activity?","body":"<p>You can do this in two ways,</p>\n\n<p>Programmatically -- Set <code>FullScreen</code> flag to window of activity inside <code>onCreate()</code> method (just after or before <code>setContentView()</code>). Whom you want to be fullscreen. For example,</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n        Window w = getWindow();\n        w.setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n                      WindowManager.LayoutParams.FLAG_FULLSCREEN);\n}\n</code></pre>\n\n<p>Or you can set <code>theme</code> in your <code>AndroidManifest.xml</code> as,</p>\n\n<pre><code>&lt;activity \n         android:name=\".YourActivityName\"\n         android:theme=\"@android:style/Theme.NoTitleBar.Fullscreen\"/&gt;\n</code></pre>\n\n<p>Or If you are using <code>AppCompatActivity</code> then you can set as,</p>\n\n<pre><code>&lt;activity \n        android:name=\".YourActivityName\"\n        android:theme=\"@android:style/Theme.AppCompat.Light.NoActionBar\"/&gt; \n</code></pre>\n\n<p>For more info about the window flags check this link <a href=\"https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html\" rel=\"noreferrer\">https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html</a> </p>\n"},{"tags":[],"owner":{"account_id":13626539,"reputation":1469,"user_id":9829662,"display_name":"Mahdi Zareei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680111916,"creation_date":1680111916,"answer_id":75880513,"question_id":48124248,"body_markdown":"use this method:\r\n\r\n    private fun changeScreenSystemUiController(isFullScreen: Boolean) {\r\n        window?.also {\r\n            WindowCompat.setDecorFitsSystemWindows(it, !isFullScreen)\r\n            WindowCompat.getInsetsController(it, it.decorView).apply {\r\n                systemBarsBehavior =\r\n                    if (isFullScreen)\r\n                        WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\r\n                    else\r\n                        WindowInsetsControllerCompat.BEHAVIOR_SHOW_BARS_BY_TOUCH\r\n                if (isFullScreen)\r\n                    hide(WindowInsetsCompat.Type.systemBars())\r\n                else\r\n                    show(WindowInsetsCompat.Type.systemBars())\r\n            }\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\r\n                it.attributes.layoutInDisplayCutoutMode =\r\n                    if (isFullScreen)\r\n                        WindowManager.LayoutParams.LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES\r\n                    else\r\n                        WindowManager.LayoutParams.LAYOUT_IN_DISPLAY_CUTOUT_MODE_DEFAULT\r\n            }\r\n        }\r\n    }","title":"Android full screen on only one activity?","body":"<p>use this method:</p>\n<pre><code>private fun changeScreenSystemUiController(isFullScreen: Boolean) {\n    window?.also {\n        WindowCompat.setDecorFitsSystemWindows(it, !isFullScreen)\n        WindowCompat.getInsetsController(it, it.decorView).apply {\n            systemBarsBehavior =\n                if (isFullScreen)\n                    WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n                else\n                    WindowInsetsControllerCompat.BEHAVIOR_SHOW_BARS_BY_TOUCH\n            if (isFullScreen)\n                hide(WindowInsetsCompat.Type.systemBars())\n            else\n                show(WindowInsetsCompat.Type.systemBars())\n        }\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n            it.attributes.layoutInDisplayCutoutMode =\n                if (isFullScreen)\n                    WindowManager.LayoutParams.LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES\n                else\n                    WindowManager.LayoutParams.LAYOUT_IN_DISPLAY_CUTOUT_MODE_DEFAULT\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12523296,"reputation":91,"user_id":9113976,"display_name":"Dimitris gs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9605,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":48124484,"answer_count":3,"score":7,"last_activity_date":1682798472,"creation_date":1515212685,"question_id":48124248,"body_markdown":"My app has 3 activities(activity_main,activity_one,activity_two).\r\nI want to full screen only the first activity so I searched and I found out I got to use this:\r\n\r\n     View decorView = getWindow().getDecorView();\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n            decorView.setSystemUiVisibility(\r\n                View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                | View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\r\n    }\r\nWhen I go to the other activities that are not full screen and press the back button and go back to main activity the home button back button is there hiding the bottom of my main activity.How do I solve this?\r\nAlso if possible I would like to know how can I make my activity full screen but keep the action bar.\r\nedit:\r\nIm asking for a full screen on one activity and not the other two(except if the action bar stays).If i go on activity_two (which is not full screen) i have the home button back button etc .If i press the back button and go back to the main activity the buttons stay there which i don&#39;t want to (not only because i want my main full screen but because the buttons from activity two stay and hide the bottom of my main activity)","title":"Android full screen on only one activity?","body":"<p>My app has 3 activities(activity_main,activity_one,activity_two).\nI want to full screen only the first activity so I searched and I found out I got to use this:</p>\n\n<pre><code> View decorView = getWindow().getDecorView();\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n        decorView.setSystemUiVisibility(\n            View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n            | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n            | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n            | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n            | View.SYSTEM_UI_FLAG_FULLSCREEN\n            | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\n}\n</code></pre>\n\n<p>When I go to the other activities that are not full screen and press the back button and go back to main activity the home button back button is there hiding the bottom of my main activity.How do I solve this?\nAlso if possible I would like to know how can I make my activity full screen but keep the action bar.\nedit:\nIm asking for a full screen on one activity and not the other two(except if the action bar stays).If i go on activity_two (which is not full screen) i have the home button back button etc .If i press the back button and go back to the main activity the buttons stay there which i don't want to (not only because i want my main full screen but because the buttons from activity two stay and hide the bottom of my main activity)</p>\n"},{"tags":["java","spring","spring-boot","logging"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1623042621,"post_id":67416980,"comment_id":119955340,"body_markdown":"I assume `application.property` was a typo ? The correct is `application.properties`","body":"I assume <code>application.property</code> was a typo ? The correct is <code>application.properties</code>"}],"answers":[{"tags":[],"owner":{"account_id":1922522,"reputation":198,"user_id":1733656,"display_name":"Kittu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623039964,"creation_date":1623039964,"answer_id":67865944,"question_id":67416980,"body_markdown":"Change the logging.pattern.file to `logging.pattern.file= %d{yyyy-MM-dd HH:mm:ss} [%thread] - %msg%`\r\n","title":"using Spring boot empty log file is getting generated","body":"<p>Change the logging.pattern.file to <code>logging.pattern.file= %d{yyyy-MM-dd HH:mm:ss} [%thread] - %msg%</code></p>\n"}],"owner":{"account_id":17706289,"reputation":1,"user_id":12854784,"display_name":"Sachin Chemate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":946,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682796797,"creation_date":1620299576,"question_id":67416980,"body_markdown":"I have a simple Spring boot rest API application. I am managing logs via the below properties mentioned in the application.property file.\r\n\r\nlogging.level.org.springframework=INFO\r\n\r\nlogging.level.com.learning=DEBUG\r\n\r\nlogging.file.name=application.log\r\n\r\nlogging.pattern.file= %d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%\r\n\r\nI can see logs are getting printed on console but same logs I don&#39;t see in the log file which got created via application.\r\n\r\nAm I missing anything?","title":"using Spring boot empty log file is getting generated","body":"<p>I have a simple Spring boot rest API application. I am managing logs via the below properties mentioned in the application.property file.</p>\n<p>logging.level.org.springframework=INFO</p>\n<p>logging.level.com.learning=DEBUG</p>\n<p>logging.file.name=application.log</p>\n<p>logging.pattern.file= %d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%</p>\n<p>I can see logs are getting printed on console but same logs I don't see in the log file which got created via application.</p>\n<p>Am I missing anything?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":29240,"reputation":138032,"user_id":78845,"display_name":"johnsyweb"},"score":0,"creation_date":1390844142,"post_id":21387646,"comment_id":32257325,"body_markdown":"Why would you use a regex for this?","body":"Why would you use a regex for this?"},{"owner":{"account_id":52410,"reputation":2678,"user_id":156604,"accept_rate":88,"display_name":"neminem"},"score":5,"creation_date":1390844173,"post_id":21387646,"comment_id":32257353,"body_markdown":"Why would you want to use a regex? That&#39;s not really what it&#39;s for. If you want to see whether a string is an int, use a built-in int parsing function. If you want to see whether it&#39;s a double, use a double-parsing function. Put down the chocolate-covered banana and step away from the European currency systems. [See also.](http://homepage.ntlworld.com/jonathan.deboynepollard/FGA/put-down-the-chocolate-covered-banana.html) (Edit: I misread this as being C#, durp. Comment still holds, though, just not the names of the functions.)","body":"Why would you want to use a regex? That&#39;s not really what it&#39;s for. If you want to see whether a string is an int, use a built-in int parsing function. If you want to see whether it&#39;s a double, use a double-parsing function. Put down the chocolate-covered banana and step away from the European currency systems. <a href=\"http://homepage.ntlworld.com/jonathan.deboynepollard/FGA/put-down-the-chocolate-covered-banana.html\" rel=\"nofollow noreferrer\">See also.</a> (Edit: I misread this as being C#, durp. Comment still holds, though, just not the names of the functions.)"},{"owner":{"account_id":52410,"reputation":2678,"user_id":156604,"accept_rate":88,"display_name":"neminem"},"score":0,"creation_date":1390844559,"post_id":21387646,"comment_id":32257591,"body_markdown":"Also, of possible helpfulness: http://stackoverflow.com/questions/8391979/does-java-have-a-int-tryparse-that-doesnt-throw-an-exception-for-bad-data","body":"Also, of possible helpfulness: <a href=\"http://stackoverflow.com/questions/8391979/does-java-have-a-int-tryparse-that-doesnt-throw-an-exception-for-bad-data\" title=\"does java have a int tryparse that doesnt throw an exception for bad data\">stackoverflow.com/questions/8391979/&hellip;</a>"},{"owner":{"display_name":"user557597"},"score":0,"creation_date":1390848557,"post_id":21387646,"comment_id":32259932,"body_markdown":"Regex is a perfect choice to validate numeric input.","body":"Regex is a perfect choice to validate numeric input."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1390849059,"post_id":21387646,"comment_id":32260252,"body_markdown":"Note to everyone who suggests using a built-in parsing function instead of a regex: The OP&#39;s regex suggests that he wants to allow comma characters in the input, which the built-in parsing functions don&#39;t allow.","body":"Note to everyone who suggests using a built-in parsing function instead of a regex: The OP&#39;s regex suggests that he wants to allow comma characters in the input, which the built-in parsing functions don&#39;t allow."}],"answers":[{"tags":[],"owner":{"account_id":3176470,"reputation":2554,"user_id":2684204,"accept_rate":68,"display_name":"Lucas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390844317,"creation_date":1390844317,"answer_id":21387737,"question_id":21387646,"body_markdown":"Any reason why you&#39;re using a regex? You could try using Double.parseDouble() from http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#parseDouble(java.lang.String \r\n\r\nAnd then catch the NumberFormatException if the format is not correct to handle that user input error in your own way.\r\n\r\nEDIT: I didn&#39;t read all of your code to begin with. You can get rid of the first if statement and do a try-catch on `Double.parseDouble(height)` if it reaches the catch block you know it did not succeed.","title":"Regex to find int or double","body":"<p>Any reason why you're using a regex? You could try using Double.parseDouble() from <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#parseDouble(java.lang.String\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#parseDouble(java.lang.String</a> </p>\n\n<p>And then catch the NumberFormatException if the format is not correct to handle that user input error in your own way.</p>\n\n<p>EDIT: I didn't read all of your code to begin with. You can get rid of the first if statement and do a try-catch on <code>Double.parseDouble(height)</code> if it reaches the catch block you know it did not succeed.</p>\n"},{"tags":[],"owner":{"account_id":3916043,"reputation":2182,"user_id":3239833,"accept_rate":67,"display_name":"SebastianH"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1390904062,"creation_date":1390844352,"answer_id":21387757,"question_id":21387646,"body_markdown":"This should do:\r\n\r\n    &quot;^[0-9]+([,.][0-9]?)?$&quot;\r\n\r\n**Edit:** I removed the slashes. I see flaws in all other patterns posted here. You dont need to escape characters inside [] - except for ] . The question did not restrict the number of digits before the decimal separator. But it allowed for only one after the decimal.","title":"Regex to find int or double","body":"<p>This should do:</p>\n\n<pre><code>\"^[0-9]+([,.][0-9]?)?$\"\n</code></pre>\n\n<p><strong>Edit:</strong> I removed the slashes. I see flaws in all other patterns posted here. You dont need to escape characters inside [] - except for ] . The question did not restrict the number of digits before the decimal separator. But it allowed for only one after the decimal.</p>\n"},{"tags":[],"owner":{"account_id":1696444,"reputation":1760,"user_id":1557750,"display_name":"Arnaud Potier"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542230979,"creation_date":1390844461,"answer_id":21387786,"question_id":21387646,"body_markdown":"It&#39;s nice to try a regex before using it, this website is quite visual:\r\nhttps://www.debuggex.com/\r\n\r\nI think you should go with: `^[0-9]+(.|,)?[0-9]?$`\r\n\r\nThat said, neminem and Johnsyweb are right, you don&#39;t have to use a regex for this.","title":"Regex to find int or double","body":"<p>It's nice to try a regex before using it, this website is quite visual:\n<a href=\"https://www.debuggex.com/\" rel=\"nofollow noreferrer\">https://www.debuggex.com/</a></p>\n\n<p>I think you should go with: <code>^[0-9]+(.|,)?[0-9]?$</code></p>\n\n<p>That said, neminem and Johnsyweb are right, you don't have to use a regex for this.</p>\n"},{"tags":[],"owner":{"account_id":231133,"reputation":176,"user_id":2335390,"display_name":"ptantiku"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1390845136,"creation_date":1390845136,"answer_id":21388040,"question_id":21387646,"body_markdown":"Just want to point out that using regex could have some flaws, such as \r\n\r\naccepting these: `0,` `00,0` \r\n\r\nbut not accepting `1,000.00`\r\n\r\nA good regex is hard to write. \r\n\r\nFor a simple case like this, using Double.parseDouble() and a try-catch block as others mentioned would be more suitable.","title":"Regex to find int or double","body":"<p>Just want to point out that using regex could have some flaws, such as </p>\n\n<p>accepting these: <code>0,</code> <code>00,0</code> </p>\n\n<p>but not accepting <code>1,000.00</code></p>\n\n<p>A good regex is hard to write. </p>\n\n<p>For a simple case like this, using Double.parseDouble() and a try-catch block as others mentioned would be more suitable.</p>\n"},{"tags":[],"owner":{"account_id":3878455,"reputation":175,"user_id":3211740,"accept_rate":62,"display_name":"user3211740"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390846273,"creation_date":1390845149,"answer_id":21388047,"question_id":21387646,"body_markdown":"I must get using try, catches again..\r\n\r\n             try\r\n               {\r\n                 double doubleHeight = Double.parseDouble(height);\r\n                 DecimalFormat df = new DecimalFormat(&quot;#.00&quot;);\r\n                 String decHeight = df.format(doubleHeight);\r\n                 if(decHeight.charAt(0)==&#39;.&#39;)\r\n                 {\r\n                     decHeight = &quot;0&quot; + decHeight;\r\n                 }\r\n\r\n               }\r\n\r\n            catch(NumberFormatException e)\r\n            {          \r\n               isHeightValid = false;             \r\n            }","title":"Regex to find int or double","body":"<p>I must get using try, catches again..</p>\n\n<pre><code>         try\n           {\n             double doubleHeight = Double.parseDouble(height);\n             DecimalFormat df = new DecimalFormat(\"#.00\");\n             String decHeight = df.format(doubleHeight);\n             if(decHeight.charAt(0)=='.')\n             {\n                 decHeight = \"0\" + decHeight;\n             }\n\n           }\n\n        catch(NumberFormatException e)\n        {          \n           isHeightValid = false;             \n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1390845354,"creation_date":1390845354,"answer_id":21388107,"question_id":21387646,"body_markdown":"Do you really need the input string to contain slashes (`/` characters)?  If not, remove them from your regular expression.  Perl and JavaScript use slash characters to denote a &quot;regular expression literal&quot;, which is something built into those languages for pattern matching.  Java doesn&#39;t have regular expression literals; regex patterns are created from ordinary string literals.  Thus the slashes aren&#39;t used, and if you put one in a regex it assumes you really want to match a slash. ","title":"Regex to find int or double","body":"<p>Do you really need the input string to contain slashes (<code>/</code> characters)?  If not, remove them from your regular expression.  Perl and JavaScript use slash characters to denote a \"regular expression literal\", which is something built into those languages for pattern matching.  Java doesn't have regular expression literals; regex patterns are created from ordinary string literals.  Thus the slashes aren't used, and if you put one in a regex it assumes you really want to match a slash. </p>\n"},{"tags":[],"owner":{"account_id":3910638,"reputation":6001,"user_id":3236102,"accept_rate":80,"display_name":"Dakkaron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390845936,"creation_date":1390845936,"answer_id":21388299,"question_id":21387646,"body_markdown":"The regex you need is this one:\r\n\r\n    ^[0-9]+([\\\\,\\\\.][0-9]+)?$\r\n\r\nTested it, it works.","title":"Regex to find int or double","body":"<p>The regex you need is this one:</p>\n\n<pre><code>^[0-9]+([\\\\,\\\\.][0-9]+)?$\n</code></pre>\n\n<p>Tested it, it works.</p>\n"},{"tags":[],"owner":{"display_name":"user557597"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390849547,"creation_date":1390847805,"answer_id":21388863,"question_id":21387646,"body_markdown":"Could get you started -  \r\n**edited out delimiters**\r\n\r\n     #  &quot;^(?:[1-9]\\\\d{0,2}(?:,\\\\d{3})*(?:[.]\\\\d*)?|\\\\d+[.]?\\\\d*)$&quot;\r\n     \r\n     ^ \r\n     (?:\r\n          [1-9] \r\n          \\d{0,2} \r\n          (?:\r\n               , \\d{3} \r\n          )*\r\n          (?:\r\n               [.] \\d* \r\n          )?\r\n       |  \r\n          \\d+ [.]? \\d* \r\n     )\r\n     $\r\n\r\nIdentical, but more compact formatting -  \r\n\r\n     ^ \r\n     (?:\r\n          [1-9] \\d{0,2} \r\n          (?: , \\d{3} )*\r\n          (?: [.] \\d* )?\r\n       |  \r\n          \\d+ [.]? \\d* \r\n     )\r\n     $\r\n","title":"Regex to find int or double","body":"<p>Could get you started -<br>\n<strong>edited out delimiters</strong></p>\n\n<pre><code> #  \"^(?:[1-9]\\\\d{0,2}(?:,\\\\d{3})*(?:[.]\\\\d*)?|\\\\d+[.]?\\\\d*)$\"\n\n ^ \n (?:\n      [1-9] \n      \\d{0,2} \n      (?:\n           , \\d{3} \n      )*\n      (?:\n           [.] \\d* \n      )?\n   |  \n      \\d+ [.]? \\d* \n )\n $\n</code></pre>\n\n<p>Identical, but more compact formatting -  </p>\n\n<pre><code> ^ \n (?:\n      [1-9] \\d{0,2} \n      (?: , \\d{3} )*\n      (?: [.] \\d* )?\n   |  \n      \\d+ [.]? \\d* \n )\n $\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12245563,"reputation":51,"user_id":8937307,"display_name":"navin shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533905016,"creation_date":1533899064,"answer_id":51785118,"question_id":21387646,"body_markdown":"Using `Regex` I tested and confirmed the following is working:\r\n\r\n    ^\\\\d+(\\\\.\\\\d+)?","title":"Regex to find int or double","body":"<p>Using <code>Regex</code> I tested and confirmed the following is working:</p>\n\n<pre><code>^\\\\d+(\\\\.\\\\d+)?\n</code></pre>\n"},{"tags":[],"owner":{"account_id":544522,"reputation":193,"user_id":9549171,"display_name":"sesquipedalias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581067813,"creation_date":1581067813,"answer_id":60110617,"question_id":21387646,"body_markdown":"The java documentation gives you a regex for this purpose https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#valueOf(java.lang.String)\r\n\r\nIt&#39;s slightly more complicated than one might have hoped : )\r\nStill, you could start here and make any ad-hoc changes you need in your specific case.\r\n\r\n&gt; To avoid calling this method on an invalid string and having a\r\n&gt; NumberFormatException be thrown, the regular expression below can be\r\n&gt; used to screen the input string:\r\n&gt; \r\n&gt;       final String Digits     = &quot;(\\\\p{Digit}+)&quot;;\r\n&gt;       final String HexDigits  = &quot;(\\\\p{XDigit}+)&quot;;\r\n&gt;       // an exponent is &#39;e&#39; or &#39;E&#39; followed by an optionally\r\n&gt;       // signed decimal integer.\r\n&gt;       final String Exp        = &quot;[eE][+-]?&quot;+Digits;\r\n&gt;       final String fpRegex    =\r\n&gt;           (&quot;[\\\\x00-\\\\x20]*&quot;+  // Optional leading &quot;whitespace&quot;\r\n&gt;            &quot;[+-]?(&quot; + // Optional sign character\r\n&gt;            &quot;NaN|&quot; +           // &quot;NaN&quot; string\r\n&gt;            &quot;Infinity|&quot; +      // &quot;Infinity&quot; string\r\n&gt;     \r\n&gt;            // A decimal floating-point string representing a finite positive\r\n&gt;            // number without a leading sign has at most five basic pieces:\r\n&gt;            // Digits . Digits ExponentPart FloatTypeSuffix\r\n&gt;            //\r\n&gt;            // Since this method allows integer-only strings as input\r\n&gt;            // in addition to strings of floating-point literals, the\r\n&gt;            // two sub-patterns below are simplifications of the grammar\r\n&gt;            // productions from section 3.10.2 of\r\n&gt;            // The Java™ Language Specification.\r\n&gt;     \r\n&gt;            // Digits ._opt Digits_opt ExponentPart_opt FloatTypeSuffix_opt\r\n&gt;            &quot;(((&quot;+Digits+&quot;(\\\\.)?(&quot;+Digits+&quot;?)(&quot;+Exp+&quot;)?)|&quot;+\r\n&gt;     \r\n&gt;            // . Digits ExponentPart_opt FloatTypeSuffix_opt\r\n&gt;            &quot;(\\\\.(&quot;+Digits+&quot;)(&quot;+Exp+&quot;)?)|&quot;+\r\n&gt;     \r\n&gt;            // Hexadecimal strings\r\n&gt;            &quot;((&quot; +\r\n&gt;             // 0[xX] HexDigits ._opt BinaryExponent FloatTypeSuffix_opt\r\n&gt;             &quot;(0[xX]&quot; + HexDigits + &quot;(\\\\.)?)|&quot; +\r\n&gt;     \r\n&gt;             // 0[xX] HexDigits_opt . HexDigits BinaryExponent FloatTypeSuffix_opt\r\n&gt;             &quot;(0[xX]&quot; + HexDigits + &quot;?(\\\\.)&quot; + HexDigits + &quot;)&quot; +\r\n&gt;     \r\n&gt;             &quot;)[pP][+-]?&quot; + Digits + &quot;))&quot; +\r\n&gt;            &quot;[fFdD]?))&quot; +\r\n&gt;            &quot;[\\\\x00-\\\\x20]*&quot;);// Optional trailing &quot;whitespace&quot;\r\n&gt;     \r\n&gt;       if (Pattern.matches(fpRegex, myString))\r\n&gt;           Double.valueOf(myString); // Will not throw NumberFormatException\r\n&gt;       else {\r\n&gt;           // Perform suitable alternative action\r\n&gt;      \r\n&gt; \r\n&gt;  }","title":"Regex to find int or double","body":"<p>The java documentation gives you a regex for this purpose <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#valueOf(java.lang.String)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#valueOf(java.lang.String)</a></p>\n\n<p>It's slightly more complicated than one might have hoped : )\nStill, you could start here and make any ad-hoc changes you need in your specific case.</p>\n\n<blockquote>\n  <p>To avoid calling this method on an invalid string and having a\n  NumberFormatException be thrown, the regular expression below can be\n  used to screen the input string:</p>\n\n<pre><code>  final String Digits     = \"(\\\\p{Digit}+)\";\n  final String HexDigits  = \"(\\\\p{XDigit}+)\";\n  // an exponent is 'e' or 'E' followed by an optionally\n  // signed decimal integer.\n  final String Exp        = \"[eE][+-]?\"+Digits;\n  final String fpRegex    =\n      (\"[\\\\x00-\\\\x20]*\"+  // Optional leading \"whitespace\"\n       \"[+-]?(\" + // Optional sign character\n       \"NaN|\" +           // \"NaN\" string\n       \"Infinity|\" +      // \"Infinity\" string\n\n       // A decimal floating-point string representing a finite positive\n       // number without a leading sign has at most five basic pieces:\n       // Digits . Digits ExponentPart FloatTypeSuffix\n       //\n       // Since this method allows integer-only strings as input\n       // in addition to strings of floating-point literals, the\n       // two sub-patterns below are simplifications of the grammar\n       // productions from section 3.10.2 of\n       // The Java™ Language Specification.\n\n       // Digits ._opt Digits_opt ExponentPart_opt FloatTypeSuffix_opt\n       \"(((\"+Digits+\"(\\\\.)?(\"+Digits+\"?)(\"+Exp+\")?)|\"+\n\n       // . Digits ExponentPart_opt FloatTypeSuffix_opt\n       \"(\\\\.(\"+Digits+\")(\"+Exp+\")?)|\"+\n\n       // Hexadecimal strings\n       \"((\" +\n        // 0[xX] HexDigits ._opt BinaryExponent FloatTypeSuffix_opt\n        \"(0[xX]\" + HexDigits + \"(\\\\.)?)|\" +\n\n        // 0[xX] HexDigits_opt . HexDigits BinaryExponent FloatTypeSuffix_opt\n        \"(0[xX]\" + HexDigits + \"?(\\\\.)\" + HexDigits + \")\" +\n\n        \")[pP][+-]?\" + Digits + \"))\" +\n       \"[fFdD]?))\" +\n       \"[\\\\x00-\\\\x20]*\");// Optional trailing \"whitespace\"\n\n  if (Pattern.matches(fpRegex, myString))\n      Double.valueOf(myString); // Will not throw NumberFormatException\n  else {\n      // Perform suitable alternative action\n</code></pre>\n  \n  <p>}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3910649,"reputation":1,"user_id":3236113,"display_name":"zim1992"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616105244,"creation_date":1616102131,"answer_id":66699252,"question_id":21387646,"body_markdown":"You can do a regular expression that strips undesired values with the values you wish to use and replace with a space. You can then split on the space and parse to a double. This is a solution for C#\r\n\r\n```csharp\r\nnew Regex(@&quot;[^0-9.]+&quot;)\r\n                .Replace(stringWhichYouFilter, &quot; &quot;)\r\n                .Split(&quot; &quot;)\r\n                .Where(x =&gt; !string.IsNullOrWhiteSpace(x))\r\n                .Select(x =&gt;\r\n                {\r\n                    if (double.TryParse(x, out var doubleVal))\r\n                        return doubleVal;\r\n                    throw new InvalidCastException($&quot;could not parse value &#39;{x}&#39; to a double&quot;);\r\n                })\r\n\r\n```","title":"Regex to find int or double","body":"<p>You can do a regular expression that strips undesired values with the values you wish to use and replace with a space. You can then split on the space and parse to a double. This is a solution for C#</p>\n<pre class=\"lang-cs prettyprint-override\"><code>new Regex(@&quot;[^0-9.]+&quot;)\n                .Replace(stringWhichYouFilter, &quot; &quot;)\n                .Split(&quot; &quot;)\n                .Where(x =&gt; !string.IsNullOrWhiteSpace(x))\n                .Select(x =&gt;\n                {\n                    if (double.TryParse(x, out var doubleVal))\n                        return doubleVal;\n                    throw new InvalidCastException($&quot;could not parse value '{x}' to a double&quot;);\n                })\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16320840,"reputation":71,"user_id":11786683,"display_name":"bluelhf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682796650,"creation_date":1682796650,"answer_id":76138047,"question_id":21387646,"body_markdown":"As sesquipedalias mentioned, the [documentation for Double#valueOf(String)](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html#valueOf(java.lang.String)) describes how to build a regular expression to match valid inputs. Still, the code provided in the documentation breaks just about every Java naming convention, and is inconveniently split into multiple lines. Minifying it into a single statement, we get\r\n\r\n```java\r\nPattern.compile(&quot;[\\\\x00-\\\\x20]*[+-]?(NaN|Infinity|((((\\\\d+)(\\\\.)?((\\\\d+)?)([eE][+-]?(\\\\d+))?)|(\\\\.((\\\\d+))([eE][+-]?(\\\\d+))?)|(((0[xX](\\\\p{XDigit}+)(\\\\.)?)|(0[xX](\\\\p{XDigit}+)?(\\\\.)(\\\\p{XDigit}+)))[pP][+-]?(\\\\d+)))[fFdD]?))[\\\\x00-\\\\x20]*&quot;)\r\n```\r\nI&#39;ve taken the liberty of replacing the original `\\\\p{Digit}`s with the shorter and equivalent `\\\\d`.\r\n\r\nAny input that matches this regular expression can be parsed into a Double using `Double#parseDouble`. That being said, the expression does not necessarily cover all possible floating point literals in Java (as `12_23` for example is a perfectly valid literal in Java, but will throw a `NumberFormatException` if passed to `parseDouble`).\r\n\r\nHere&#39;s an example:\r\n```java\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Program {\r\n    public static final Pattern DOUBLE_PATTERN = Pattern.compile(&quot;[-+](Infinity|NaN|(0(x[\\\\da-fA-F]+|b[01]+)|(\\\\d+(_\\\\d+)*)(\\\\.(\\\\d+(_\\\\d+)*))?)([eE][-+]?\\\\d+)?[fFdD]?)&quot;);\r\n\r\n    public static void main(final String[] args) {\r\n        final String input = String.join(&quot; &quot;, args);\r\n        final boolean match = DOUBLE_PATTERN.matcher(input).matches();\r\n        System.out.println(match ? &quot;It&#39;s a double!&quot; : &quot;Not a double...&quot;);\r\n\r\n        // This will never throw a NumberFormatException.\r\n        if (match) System.out.println(&quot;Value: &quot; + Double.parseDouble(input));\r\n    }\r\n}\r\n```","title":"Regex to find int or double","body":"<p>As sesquipedalias mentioned, the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html#valueOf(java.lang.String)\" rel=\"nofollow noreferrer\">documentation for Double#valueOf(String)</a> describes how to build a regular expression to match valid inputs. Still, the code provided in the documentation breaks just about every Java naming convention, and is inconveniently split into multiple lines. Minifying it into a single statement, we get</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern.compile(&quot;[\\\\x00-\\\\x20]*[+-]?(NaN|Infinity|((((\\\\d+)(\\\\.)?((\\\\d+)?)([eE][+-]?(\\\\d+))?)|(\\\\.((\\\\d+))([eE][+-]?(\\\\d+))?)|(((0[xX](\\\\p{XDigit}+)(\\\\.)?)|(0[xX](\\\\p{XDigit}+)?(\\\\.)(\\\\p{XDigit}+)))[pP][+-]?(\\\\d+)))[fFdD]?))[\\\\x00-\\\\x20]*&quot;)\n</code></pre>\n<p>I've taken the liberty of replacing the original <code>\\\\p{Digit}</code>s with the shorter and equivalent <code>\\\\d</code>.</p>\n<p>Any input that matches this regular expression can be parsed into a Double using <code>Double#parseDouble</code>. That being said, the expression does not necessarily cover all possible floating point literals in Java (as <code>12_23</code> for example is a perfectly valid literal in Java, but will throw a <code>NumberFormatException</code> if passed to <code>parseDouble</code>).</p>\n<p>Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Pattern;\n\npublic class Program {\n    public static final Pattern DOUBLE_PATTERN = Pattern.compile(&quot;[-+](Infinity|NaN|(0(x[\\\\da-fA-F]+|b[01]+)|(\\\\d+(_\\\\d+)*)(\\\\.(\\\\d+(_\\\\d+)*))?)([eE][-+]?\\\\d+)?[fFdD]?)&quot;);\n\n    public static void main(final String[] args) {\n        final String input = String.join(&quot; &quot;, args);\n        final boolean match = DOUBLE_PATTERN.matcher(input).matches();\n        System.out.println(match ? &quot;It's a double!&quot; : &quot;Not a double...&quot;);\n\n        // This will never throw a NumberFormatException.\n        if (match) System.out.println(&quot;Value: &quot; + Double.parseDouble(input));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3878455,"reputation":175,"user_id":3211740,"accept_rate":62,"display_name":"user3211740"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7715,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":12,"score":3,"last_activity_date":1682796650,"creation_date":1390844038,"question_id":21387646,"body_markdown":"I am trying to check if the height is valid. To be valid it must be 1 or 1.4 or 1.0 or 1. etc it cannot be anything else like a string, any chars beside a number or a decimal. The decimal must not be at the start of the string and it can only have 1 decimal. The regex I have been trying is:\r\n\r\n     &quot;/^[0-9]+([\\\\,\\\\.][0-9]+)?$/&quot;\r\nBut it is not working and still accepts strings. Any help would be great, thanks!\r\n\r\n\r\n     public static boolean HeightValid(String height)\r\n     {\r\n            boolean isHeightValid = true;\r\n      \r\n            \r\n            if(!height.matches(&quot;/^[0-9]+([\\\\,\\\\.][0-9]+)?$/&quot;) || height.length() &lt; 1 || height.length() &gt; 9)\r\n               {\r\n               isHeightValid = false;\r\n               }\r\n           else\r\n               {\r\n                 double doubleHeight = Double.parseDouble(height);\r\n                 DecimalFormat df = new DecimalFormat(&quot;#.00&quot;);\r\n                 String decHeight = df.format(doubleHeight);\r\n                 heightField.setText(decHeight);\r\n                 \r\n               }\r\n      \r\n      return isHeightValid;\r\n      }\r\n\r\nIf you need any more information just add a comment, thank you","title":"Regex to find int or double","body":"<p>I am trying to check if the height is valid. To be valid it must be 1 or 1.4 or 1.0 or 1. etc it cannot be anything else like a string, any chars beside a number or a decimal. The decimal must not be at the start of the string and it can only have 1 decimal. The regex I have been trying is:</p>\n\n<pre><code> \"/^[0-9]+([\\\\,\\\\.][0-9]+)?$/\"\n</code></pre>\n\n<p>But it is not working and still accepts strings. Any help would be great, thanks!</p>\n\n<pre><code> public static boolean HeightValid(String height)\n {\n        boolean isHeightValid = true;\n\n\n        if(!height.matches(\"/^[0-9]+([\\\\,\\\\.][0-9]+)?$/\") || height.length() &lt; 1 || height.length() &gt; 9)\n           {\n           isHeightValid = false;\n           }\n       else\n           {\n             double doubleHeight = Double.parseDouble(height);\n             DecimalFormat df = new DecimalFormat(\"#.00\");\n             String decHeight = df.format(doubleHeight);\n             heightField.setText(decHeight);\n\n           }\n\n  return isHeightValid;\n  }\n</code></pre>\n\n<p>If you need any more information just add a comment, thank you</p>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"account_id":17208480,"reputation":329,"user_id":12458473,"display_name":"Abdullah Khaled"},"score":0,"creation_date":1682816106,"post_id":76137939,"comment_id":134274583,"body_markdown":"Are you sure that these are the only columns in the address entity?","body":"Are you sure that these are the only columns in the address entity?"},{"owner":{"account_id":25624630,"reputation":9,"user_id":19395904,"display_name":"ffffffff"},"score":0,"creation_date":1682817652,"post_id":76137939,"comment_id":134274684,"body_markdown":"Yes @AbdullahKhaled\n\nIt&#39;s a spring boot starter test","body":"Yes @AbdullahKhaled  It&#39;s a spring boot starter test"}],"owner":{"account_id":25624630,"reputation":9,"user_id":19395904,"display_name":"ffffffff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682795085,"creation_date":1682795085,"question_id":76137939,"body_markdown":"i&#39;m creating a CRUD using SpringBoot,  I&#39;m having an problem to create a Adress, PostgreSQL when I pass that data: \r\n\r\n\r\n    &#39;{\r\n      &quot;street&quot;: &quot;string&quot;,\r\n      &quot;users&quot;: 1\r\n    }&#39;\r\n\r\n\r\n    org.postgresql.util.PSQLException: ERROR: null value in column &quot;teste&quot; of relation &quot;address&quot; violates not-null constraint\r\n      Detalhe: Failing row contains (string, null).\r\n\r\n\r\n\r\nBasicly my idea is create a Adress with String street and link an User to this &quot;Adress&quot;, howhever i&#39;m having problem to create\r\n\r\nI want create a new Adress  using a String street and Id as foreign key to table Users. Thats my code:\r\n\r\n**ADDRESS**:\r\n\r\n    @Entity\r\n    @Table(name=&quot;address&quot;)\r\n    @IdClass(Address.class)\r\n    public class Address implements Serializable {\r\n    \r\n    \r\n        @Id\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;teste&quot;)\r\n        private User users;\r\n    \r\n    \r\n        @Id\r\n        @Column(name=&quot;street&quot;)\r\n        private String street;\r\n    \r\n      /// Getter and setter\r\n    }\r\n\r\n**USER**: \r\n\r\n    @Entity\r\n    @Table(name=&quot;username&quot;)\r\n    @Embeddable\r\n    public class User implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private long id;\r\n    \r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;users&quot;)\r\n        private List&lt;Address&gt; adress;\r\n     //Getter and setter\r\n    }\r\n\r\n**AdressDTO:**\r\n\r\n    public class AddressDto {\r\n    \r\n        @NotBlank\r\n        private String street;\r\n    \r\n        @NotNull\r\n        private long users;\r\n    \r\n        public AddressDto() {}\r\n    \r\n        public AddressDto(String street, User user) {\r\n            this.street = street;\r\n            this.users = user.getId();\r\n        }\r\n    \r\n        public long getUsers() {\r\n            return users;\r\n        }\r\n    \r\n        public void setUsers(long users) {\r\n            this.users = users;\r\n        }\r\n    \r\n        public String getStreet() {\r\n            return street;\r\n        }\r\n    \r\n        public void setStreet(String street) {\r\n            this.street = street;\r\n        }\r\n    }\r\n\r\n**Repository:**\r\n\r\n    public interface AddressRepository extends JpaRepository&lt;Address, User&gt; {\r\n    }\r\n\r\n\r\nWhy my query return error about null value?","title":"How can I pass only an Id as parameter of another class in DTO?","body":"<p>i'm creating a CRUD using SpringBoot,  I'm having an problem to create a Adress, PostgreSQL when I pass that data:</p>\n<pre><code>'{\n  &quot;street&quot;: &quot;string&quot;,\n  &quot;users&quot;: 1\n}'\n\n\norg.postgresql.util.PSQLException: ERROR: null value in column &quot;teste&quot; of relation &quot;address&quot; violates not-null constraint\n  Detalhe: Failing row contains (string, null).\n</code></pre>\n<p>Basicly my idea is create a Adress with String street and link an User to this &quot;Adress&quot;, howhever i'm having problem to create</p>\n<p>I want create a new Adress  using a String street and Id as foreign key to table Users. Thats my code:</p>\n<p><strong>ADDRESS</strong>:</p>\n<pre><code>@Entity\n@Table(name=&quot;address&quot;)\n@IdClass(Address.class)\npublic class Address implements Serializable {\n\n\n    @Id\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;teste&quot;)\n    private User users;\n\n\n    @Id\n    @Column(name=&quot;street&quot;)\n    private String street;\n\n  /// Getter and setter\n}\n</code></pre>\n<p><strong>USER</strong>:</p>\n<pre><code>@Entity\n@Table(name=&quot;username&quot;)\n@Embeddable\npublic class User implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private long id;\n\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;users&quot;)\n    private List&lt;Address&gt; adress;\n //Getter and setter\n}\n</code></pre>\n<p><strong>AdressDTO:</strong></p>\n<pre><code>public class AddressDto {\n\n    @NotBlank\n    private String street;\n\n    @NotNull\n    private long users;\n\n    public AddressDto() {}\n\n    public AddressDto(String street, User user) {\n        this.street = street;\n        this.users = user.getId();\n    }\n\n    public long getUsers() {\n        return users;\n    }\n\n    public void setUsers(long users) {\n        this.users = users;\n    }\n\n    public String getStreet() {\n        return street;\n    }\n\n    public void setStreet(String street) {\n        this.street = street;\n    }\n}\n</code></pre>\n<p><strong>Repository:</strong></p>\n<pre><code>public interface AddressRepository extends JpaRepository&lt;Address, User&gt; {\n}\n</code></pre>\n<p>Why my query return error about null value?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682621816,"creation_date":1682621816,"answer_id":76123789,"question_id":76120561,"body_markdown":"You can statically access the `ServletRequest` as follow:\r\n```java\r\npublic static Optional&lt;HttpServletRequest&gt; getRequest() {\r\n    RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\r\n    if (requestAttributes instanceof ServletRequestAttributes attr) {\r\n        return Optional.ofNullable(attr.getRequest());\r\n    }\r\n    return Optional.empty();\r\n}\r\n```","title":"Spring Security 6 OAuth2 Custom Validator","body":"<p>You can statically access the <code>ServletRequest</code> as follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Optional&lt;HttpServletRequest&gt; getRequest() {\n    RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\n    if (requestAttributes instanceof ServletRequestAttributes attr) {\n        return Optional.ofNullable(attr.getRequest());\n    }\n    return Optional.empty();\n}\n</code></pre>\n"}],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76123789,"answer_count":1,"score":0,"last_activity_date":1682794830,"creation_date":1682599350,"question_id":76120561,"body_markdown":"I have a java application on spring-boot 3.0.5, which is configured as a resource server like this:\r\n\r\nMaven dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nSecurity configuration: \r\n\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.oauth2.core.DelegatingOAuth2TokenValidator;\r\n    import org.springframework.security.oauth2.core.OAuth2TokenValidator;\r\n    import org.springframework.security.oauth2.jwt.*;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration {\r\n        \r\n        @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\r\n        private String issuerUri;\r\n        \r\n        \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http.cors().disable()\r\n                    .csrf().disable()\r\n                    .authorizeHttpRequests()\r\n                    .requestMatchers(&quot;/actuator/**&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .oauth2ResourceServer()\r\n                    .jwt();\r\n    \r\n            return http.build();\r\n        }\r\n        \r\n        @Bean\r\n        public JwtDecoder jwtDecoder() {\r\n            NimbusJwtDecoder jwtDecoder = JwtDecoders.fromIssuerLocation(issuerUri);\r\n    \r\n            OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuerUri);\r\n            OAuth2TokenValidator&lt;Jwt&gt; withOperation = new OperationClaimValidator();\r\n    \r\n            jwtDecoder.setJwtValidator(\r\n                    new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, withOperation)\r\n            );\r\n    \r\n            return jwtDecoder;\r\n        }\r\n    }\r\n\r\nAs you can see, I have defined `JwtDecoder` bean to add a custom validator `OperationClaimValidator` for JWT, because I want to validate my custom jwt claim `operation`: \r\n\r\n    import org.springframework.security.oauth2.core.OAuth2Error;\r\n    import org.springframework.security.oauth2.core.OAuth2TokenValidator;\r\n    import org.springframework.security.oauth2.core.OAuth2TokenValidatorResult;\r\n    import org.springframework.security.oauth2.jwt.Jwt;\r\n    \r\n    public class OperationClaimValidator implements OAuth2TokenValidator&lt;Jwt&gt; {\r\n    \r\n        private static final String CLAIM_OPERATION = &quot;operation&quot;;\r\n        \r\n        \r\n        @Override\r\n        public OAuth2TokenValidatorResult validate(Jwt jwt) {\r\n            if (jwt.getClaimAsString(CLAIM_OPERATION).equals(&quot;Value-from-HttpServletRequest&quot;)) { // problem here\r\n                return OAuth2TokenValidatorResult.success();\r\n            } else {\r\n                return OAuth2TokenValidatorResult.failure(\r\n                        new OAuth2Error(&quot;invalid_token&quot;, &quot;The required operation is GET&quot;, null)\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n**The problem is** that I want to compare the value from the `operation` claim with the value from the `HttpServletRequest#getMethod`, but I can&#39;t figure out how I can access the `HttpServletRequest` from the `OAuth2TokenValidator` implementation.\r\n\r\nI can validate this claim another way using `OncePerRequestFilter`:\r\n\r\n    @Component\r\n    public class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n    \r\n        private static final String CLAIM_OPERATION = &quot;operation&quot;;\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n                throws ServletException, IOException {\r\n    \r\n            String requestMethod = request.getMethod();\r\n            String operationClaimValue = getOperationClaimValue(request);\r\n    \r\n            if (!requestMethod.equals(operationClaimValue)) {\r\n                response.sendError(HttpStatus.UNAUTHORIZED.value(),\r\n                        &quot;Operation claim in token does not match with http method used in request&quot;);\r\n            } else {\r\n                filterChain.doFilter(request, response);\r\n            }\r\n        }\r\n    \r\n        private String getOperationClaimValue(HttpServletRequest request) {\r\n            Principal principal = request.getUserPrincipal();\r\n            Jwt token = ((JwtAuthenticationToken) principal).getToken();\r\n            return token.getClaimAsString(CLAIM_OPERATION);\r\n        }\r\n    }\r\n, but I would like to achieve it implementing `OAuth2TokenValidator`. Any ideas? Thank you in advance.","title":"Spring Security 6 OAuth2 Custom Validator","body":"<p>I have a java application on spring-boot 3.0.5, which is configured as a resource server like this:</p>\n<p>Maven dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Security configuration:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.oauth2.core.DelegatingOAuth2TokenValidator;\nimport org.springframework.security.oauth2.core.OAuth2TokenValidator;\nimport org.springframework.security.oauth2.jwt.*;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n    \n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\n    private String issuerUri;\n    \n    \n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().disable()\n                .csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/actuator/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .oauth2ResourceServer()\n                .jwt();\n\n        return http.build();\n    }\n    \n    @Bean\n    public JwtDecoder jwtDecoder() {\n        NimbusJwtDecoder jwtDecoder = JwtDecoders.fromIssuerLocation(issuerUri);\n\n        OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuerUri);\n        OAuth2TokenValidator&lt;Jwt&gt; withOperation = new OperationClaimValidator();\n\n        jwtDecoder.setJwtValidator(\n                new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, withOperation)\n        );\n\n        return jwtDecoder;\n    }\n}\n</code></pre>\n<p>As you can see, I have defined <code>JwtDecoder</code> bean to add a custom validator <code>OperationClaimValidator</code> for JWT, because I want to validate my custom jwt claim <code>operation</code>:</p>\n<pre><code>import org.springframework.security.oauth2.core.OAuth2Error;\nimport org.springframework.security.oauth2.core.OAuth2TokenValidator;\nimport org.springframework.security.oauth2.core.OAuth2TokenValidatorResult;\nimport org.springframework.security.oauth2.jwt.Jwt;\n\npublic class OperationClaimValidator implements OAuth2TokenValidator&lt;Jwt&gt; {\n\n    private static final String CLAIM_OPERATION = &quot;operation&quot;;\n    \n    \n    @Override\n    public OAuth2TokenValidatorResult validate(Jwt jwt) {\n        if (jwt.getClaimAsString(CLAIM_OPERATION).equals(&quot;Value-from-HttpServletRequest&quot;)) { // problem here\n            return OAuth2TokenValidatorResult.success();\n        } else {\n            return OAuth2TokenValidatorResult.failure(\n                    new OAuth2Error(&quot;invalid_token&quot;, &quot;The required operation is GET&quot;, null)\n            );\n        }\n    }\n}\n</code></pre>\n<p><strong>The problem is</strong> that I want to compare the value from the <code>operation</code> claim with the value from the <code>HttpServletRequest#getMethod</code>, but I can't figure out how I can access the <code>HttpServletRequest</code> from the <code>OAuth2TokenValidator</code> implementation.</p>\n<p>I can validate this claim another way using <code>OncePerRequestFilter</code>:</p>\n<pre><code>@Component\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    private static final String CLAIM_OPERATION = &quot;operation&quot;;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n\n        String requestMethod = request.getMethod();\n        String operationClaimValue = getOperationClaimValue(request);\n\n        if (!requestMethod.equals(operationClaimValue)) {\n            response.sendError(HttpStatus.UNAUTHORIZED.value(),\n                    &quot;Operation claim in token does not match with http method used in request&quot;);\n        } else {\n            filterChain.doFilter(request, response);\n        }\n    }\n\n    private String getOperationClaimValue(HttpServletRequest request) {\n        Principal principal = request.getUserPrincipal();\n        Jwt token = ((JwtAuthenticationToken) principal).getToken();\n        return token.getClaimAsString(CLAIM_OPERATION);\n    }\n}\n</code></pre>\n<p>, but I would like to achieve it implementing <code>OAuth2TokenValidator</code>. Any ideas? Thank you in advance.</p>\n"},{"tags":["java","spring","spring-boot","oauth-2.0"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1682632303,"post_id":76124075,"comment_id":134250803,"body_markdown":"Why do you add a token from provider A to customer requests? Why don&#39;t you just propagate the token issued by provider B and configure your resource servers to accept tokens from both A &amp; B issuers? That way, all you&#39;d have to do is define access control rules based on roles and issuer.","body":"Why do you add a token from provider A to customer requests? Why don&#39;t you just propagate the token issued by provider B and configure your resource servers to accept tokens from both A &amp; B issuers? That way, all you&#39;d have to do is define access control rules based on roles and issuer."},{"owner":{"account_id":28437638,"reputation":1,"user_id":21757488,"display_name":"G.T."},"score":0,"creation_date":1684860303,"post_id":76124075,"comment_id":134577949,"body_markdown":"Hi, thank you for your response. I&#39;ve taken into consideration your pointer and actually decided to follow something along the lines you mentioned. As such, I am configuring endpoint paths with the appropriate resource server, there&#39;s just a long road ahead in this journey ;).","body":"Hi, thank you for your response. I&#39;ve taken into consideration your pointer and actually decided to follow something along the lines you mentioned. As such, I am configuring endpoint paths with the appropriate resource server, there&#39;s just a long road ahead in this journey ;)."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1684866609,"post_id":76124075,"comment_id":134579143,"body_markdown":"[Those tutorials](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials) I wrote could ease your journey","body":"<a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">Those tutorials</a> I wrote could ease your journey"}],"owner":{"account_id":28437638,"reputation":1,"user_id":21757488,"display_name":"G.T."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682794799,"creation_date":1682624480,"question_id":76124075,"body_markdown":"I am having a hard time trying to find an appropriate solution for my use case since I can&#39;t seem to find documentation about this. The closest I could find that relates a little to my issue would be [this](https://stackoverflow.com/questions/40627561/spring-cloud-oauth2-resource-server-with-multiple-authorization-server).\r\n\r\n### Here&#39;s a little summary of my situation\r\n\r\nAll of our Spring Boot microservices are using an `OAuth2ResourceServer` configured with our internal provider (let&#39;s call it **Provider A**). That way, only other microservices (configured with an OAuth2 WebClient) or employees can send requests to our microservices. So far, I got this working without any problem.\r\n\r\nThe problem I am facing is that some endpoints of our microservices require an additional token (**Provider B**) in order to authorize our customers (eg. to access or modify their data).\r\n\r\nAs such, all HTTP requests that are sent to our microservices includes an `Authorization` header for our **Provider A**. On the other hand, some of those HTTP requests also have an `CUSTOMER_TOKEN` header for our **Provider B**.\r\n\r\n**My question**\r\n\r\nHow would one configure Spring Boot so that the `OAuth2ResourceServer` support 1 or 2 Jwt tokens from two different issuers? Any pointers or better solutions for this?\r\n\r\n**What I&#39;ve attempted**\r\n\r\n\r\nSo far, I&#39;ve tried a couple of things which feels hacky and I suspect I am doing something wrong or I am just not looking in the right direction.\r\n\r\nThe *best* solution that I have come up with consists of an `OAuth2ResourceServer` configured with a custom `Customizer&lt;OAuth2ResourceServerConfigurer&lt;HttpSecurity&gt;&gt;`, a custom `AuthenticationManagerResolver`, a custom `AccessDeniedHandler`, a custom `AuthenticationEntrypoint`, and two `JwtDecoder` configured with their respective JWK Set URIs and Issuer URIs:\r\n\r\n\r\n```\r\n  @Bean\r\n  protected SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity)\r\n      throws Exception {\r\n    return httpSecurity.csrf()\r\n        .disable()\r\n        .cors()\r\n        .configurationSource(corsConfigurationSource())\r\n        .and()\r\n        .sessionManagement()\r\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        .and()\r\n        .authorizeRequests()\r\n        .antMatchers(WHITELIST)\r\n        .permitAll()\r\n        .and()\r\n        .authorizeRequests()\r\n        .anyRequest()\r\n        .authenticated()\r\n        .and()\r\n        .oauth2ResourceServer(configurer -&gt; \r\n          configurer\r\n              .authenticationManagerResolver(authenticationManagerResolver())\r\n              .authenticationEntryPoint(authenticationEntryPoint())\r\n              .accessDeniedHandler(accessDeniedHandler());\r\n        )\r\n        .build();\r\n  }\r\n\r\n  @Bean\r\n  public AccessDeniedHandler accessDeniedHandler(){\r\n    return (request, response, accessDeniedException) -&gt; {\r\n      response.setStatus(HttpServletResponse.SC_FORBIDDEN);\r\n      response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n      response.setCharacterEncoding(StandardCharsets.UTF_8.name());\r\n      PrintWriter writer = response.getWriter();\r\n      writer.write(&quot;\\&quot;message\\&quot;: \\&quot;access denied\\&quot;&quot;);\r\n      writer.flush();\r\n    };\r\n  }\r\n\r\n  @Bean\r\n  public AuthenticationEntryPoint authenticationEntryPoint(){\r\n    return (request, response, authenticationException) -&gt; {\r\n      response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n      response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n      response.setCharacterEncoding(StandardCharsets.UTF_8.name());\r\n      PrintWriter writer = response.getWriter();\r\n      writer.write(&quot;\\&quot;message\\&quot;: \\&quot;unauthorized\\&quot;&quot;);\r\n      writer.flush();\r\n    };\r\n  }\r\n\r\n  @Bean\r\n  protected AuthenticationManagerResolver&lt;HttpServletRequest&gt;\r\n      authenticationManagerResolver() {\r\n    return request -&gt;\r\n        authentication -&gt; {\r\n          List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;(); // merged authorities\r\n          Map&lt;String, Object&gt; attributes = new HashMap&lt;&gt;(); // merged attributes\r\n          \r\n          Authentication providerA = authenticate(request, OAuth2Provider.PROVIDER_A, authorities, attributes);\r\n          \r\n          if (request.getHeader(OAuth2Provider.PROVIDER_B.getHeader()) == null) {\r\n            // If Provider B token is not in the request, the user won&#39;t have the appropriate role\r\n            // to access endpoints annotated with @RoleAllowed(CUSTOMER_ROLE)\r\n            return providerA;\r\n          }\r\n          \r\n          return authenticate(request, OAuth2Provider.PROVIDER_B, authorities, attributes);\r\n        };\r\n  }\r\n\r\n  public final Authentication authenticate(\r\n      HttpServletRequest request,\r\n      OAuth2Provider oAuth2Provider,\r\n      List&lt;GrantedAuthority&gt; authorities,\r\n      Map&lt;String, Object&gt; attributes) {\r\n    Jwt jwt = decodeAccessToken(request, oAuth2Provider); // JwtDecoder + error handling\r\n\r\n    authorities.add(new SimpleGrantedAuthority(oAuth2Provider.getRole()));\r\n    authorities.addAll(getTokenAuthorities(jwt));\r\n\r\n    Map&lt;String, Object&gt; providerAttributes = new HashMap&lt;&gt;(jwt.getClaims());\r\n    providerAttributes.put(&quot;token&quot;, jwt);\r\n    attributes.put(oAuth2Provider.getName(), providerAttributes);\r\n\r\n    OAuth2AuthenticatedPrincipal principal =\r\n        new DefaultOAuth2AuthenticatedPrincipal(attributes, authorities);\r\n    \r\n    OAuth2AccessToken accessToken =\r\n        new OAuth2AccessToken(\r\n            TokenType.BEARER, jwt.getTokenValue(), jwt.getIssuedAt(), jwt.getExpiresAt());\r\n\r\n    return new BearerTokenAuthentication(principal, accessToken, authorities);\r\n  }\r\n```\r\n\r\nThis solution works, per se, but feels hacky to me since I need to manually reply with 401 or 403, which is not really a good sign when dealing with security. Also `HttpServletRequest` seems to have been dropped from Spring 3.x, which kind of amplifies my feeling of hackyness and the possibility of better solutions.\r\n","title":"Spring Boot OAuth2ResourceServer with one or two Jwt token","body":"<p>I am having a hard time trying to find an appropriate solution for my use case since I can't seem to find documentation about this. The closest I could find that relates a little to my issue would be <a href=\"https://stackoverflow.com/questions/40627561/spring-cloud-oauth2-resource-server-with-multiple-authorization-server\">this</a>.</p>\n<h3>Here's a little summary of my situation</h3>\n<p>All of our Spring Boot microservices are using an <code>OAuth2ResourceServer</code> configured with our internal provider (let's call it <strong>Provider A</strong>). That way, only other microservices (configured with an OAuth2 WebClient) or employees can send requests to our microservices. So far, I got this working without any problem.</p>\n<p>The problem I am facing is that some endpoints of our microservices require an additional token (<strong>Provider B</strong>) in order to authorize our customers (eg. to access or modify their data).</p>\n<p>As such, all HTTP requests that are sent to our microservices includes an <code>Authorization</code> header for our <strong>Provider A</strong>. On the other hand, some of those HTTP requests also have an <code>CUSTOMER_TOKEN</code> header for our <strong>Provider B</strong>.</p>\n<p><strong>My question</strong></p>\n<p>How would one configure Spring Boot so that the <code>OAuth2ResourceServer</code> support 1 or 2 Jwt tokens from two different issuers? Any pointers or better solutions for this?</p>\n<p><strong>What I've attempted</strong></p>\n<p>So far, I've tried a couple of things which feels hacky and I suspect I am doing something wrong or I am just not looking in the right direction.</p>\n<p>The <em>best</em> solution that I have come up with consists of an <code>OAuth2ResourceServer</code> configured with a custom <code>Customizer&lt;OAuth2ResourceServerConfigurer&lt;HttpSecurity&gt;&gt;</code>, a custom <code>AuthenticationManagerResolver</code>, a custom <code>AccessDeniedHandler</code>, a custom <code>AuthenticationEntrypoint</code>, and two <code>JwtDecoder</code> configured with their respective JWK Set URIs and Issuer URIs:</p>\n<pre><code>  @Bean\n  protected SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity)\n      throws Exception {\n    return httpSecurity.csrf()\n        .disable()\n        .cors()\n        .configurationSource(corsConfigurationSource())\n        .and()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authorizeRequests()\n        .antMatchers(WHITELIST)\n        .permitAll()\n        .and()\n        .authorizeRequests()\n        .anyRequest()\n        .authenticated()\n        .and()\n        .oauth2ResourceServer(configurer -&gt; \n          configurer\n              .authenticationManagerResolver(authenticationManagerResolver())\n              .authenticationEntryPoint(authenticationEntryPoint())\n              .accessDeniedHandler(accessDeniedHandler());\n        )\n        .build();\n  }\n\n  @Bean\n  public AccessDeniedHandler accessDeniedHandler(){\n    return (request, response, accessDeniedException) -&gt; {\n      response.setStatus(HttpServletResponse.SC_FORBIDDEN);\n      response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n      response.setCharacterEncoding(StandardCharsets.UTF_8.name());\n      PrintWriter writer = response.getWriter();\n      writer.write(&quot;\\&quot;message\\&quot;: \\&quot;access denied\\&quot;&quot;);\n      writer.flush();\n    };\n  }\n\n  @Bean\n  public AuthenticationEntryPoint authenticationEntryPoint(){\n    return (request, response, authenticationException) -&gt; {\n      response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n      response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n      response.setCharacterEncoding(StandardCharsets.UTF_8.name());\n      PrintWriter writer = response.getWriter();\n      writer.write(&quot;\\&quot;message\\&quot;: \\&quot;unauthorized\\&quot;&quot;);\n      writer.flush();\n    };\n  }\n\n  @Bean\n  protected AuthenticationManagerResolver&lt;HttpServletRequest&gt;\n      authenticationManagerResolver() {\n    return request -&gt;\n        authentication -&gt; {\n          List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;(); // merged authorities\n          Map&lt;String, Object&gt; attributes = new HashMap&lt;&gt;(); // merged attributes\n          \n          Authentication providerA = authenticate(request, OAuth2Provider.PROVIDER_A, authorities, attributes);\n          \n          if (request.getHeader(OAuth2Provider.PROVIDER_B.getHeader()) == null) {\n            // If Provider B token is not in the request, the user won't have the appropriate role\n            // to access endpoints annotated with @RoleAllowed(CUSTOMER_ROLE)\n            return providerA;\n          }\n          \n          return authenticate(request, OAuth2Provider.PROVIDER_B, authorities, attributes);\n        };\n  }\n\n  public final Authentication authenticate(\n      HttpServletRequest request,\n      OAuth2Provider oAuth2Provider,\n      List&lt;GrantedAuthority&gt; authorities,\n      Map&lt;String, Object&gt; attributes) {\n    Jwt jwt = decodeAccessToken(request, oAuth2Provider); // JwtDecoder + error handling\n\n    authorities.add(new SimpleGrantedAuthority(oAuth2Provider.getRole()));\n    authorities.addAll(getTokenAuthorities(jwt));\n\n    Map&lt;String, Object&gt; providerAttributes = new HashMap&lt;&gt;(jwt.getClaims());\n    providerAttributes.put(&quot;token&quot;, jwt);\n    attributes.put(oAuth2Provider.getName(), providerAttributes);\n\n    OAuth2AuthenticatedPrincipal principal =\n        new DefaultOAuth2AuthenticatedPrincipal(attributes, authorities);\n    \n    OAuth2AccessToken accessToken =\n        new OAuth2AccessToken(\n            TokenType.BEARER, jwt.getTokenValue(), jwt.getIssuedAt(), jwt.getExpiresAt());\n\n    return new BearerTokenAuthentication(principal, accessToken, authorities);\n  }\n</code></pre>\n<p>This solution works, per se, but feels hacky to me since I need to manually reply with 401 or 403, which is not really a good sign when dealing with security. Also <code>HttpServletRequest</code> seems to have been dropped from Spring 3.x, which kind of amplifies my feeling of hackyness and the possibility of better solutions.</p>\n"},{"tags":["java","libgdx","entity-component-system"],"comments":[{"owner":{"account_id":3097699,"reputation":946,"user_id":2622571,"display_name":"Basim Khajwal"},"score":0,"creation_date":1468680763,"post_id":38402694,"comment_id":64232626,"body_markdown":"If you have a physics component (that uses a Box2D body if I am not mistaken) what is the point of having a separate transform and movement component when it is already stored / updated in the `Body` class?","body":"If you have a physics component (that uses a Box2D body if I am not mistaken) what is the point of having a separate transform and movement component when it is already stored / updated in the <code>Body</code> class?"},{"owner":{"account_id":3333480,"reputation":397,"user_id":2801777,"accept_rate":93,"display_name":"ronscript"},"score":0,"creation_date":1468690680,"post_id":38402694,"comment_id":64235344,"body_markdown":"That&#39;s what I&#39;m asking too, because I&#39;m so confused.","body":"That&#39;s what I&#39;m asking too, because I&#39;m so confused."}],"owner":{"account_id":3333480,"reputation":397,"user_id":2801777,"accept_rate":93,"display_name":"ronscript"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682793791,"creation_date":1468606419,"question_id":38402694,"body_markdown":"If my `MovementSystem` behavior is like this.\r\n\r\n    public class MovementSystem extends IntervalIteratingSystem {\r\n\r\n         private Vector2 temp = new Vector2();\r\n\r\n         public MovementSystem() {\r\n             super(Family.all(TransformComponent.class, MovementComponent.class).get(), Constants.TIME_STEP);\r\n         }\r\n\r\n         @Override\r\n         protected void processEntity(Entity entity) {\r\n             TransformComponent transform = Mappers.transform.get(entity);\r\n             MovementComponent movement = Mappers.movement.get(entity);\r\n\r\n             Vector2 acceleration = temp.set(movement.accel).scl(0.5f);\r\n             movement.velocity.add(acceleration);\r\n\r\n             Vector2 acceleratedVelocity = temp.set(movement.velocity).scl(0.5f);\r\n             transform.position.add(acceleratedVelocity);\r\n         }\r\n\r\n    }\r\n\r\nWhile on my `PhysicsSystem` behavior.\r\n\r\n    public class PhysicsSystem extends IntervalIteratingSystem {\r\n         @Override\r\n         protected void processEntity(Entity entity) {\r\n              PhysicsComponent physics = Mappers.physics.get(entity);\r\n              TransformComponent transform = Mappers.transform.get(entity);\r\n              SizeComponent size = Mappers.size.get(entity);\r\n\r\n              transform.position.set(physics.body.getPositon());\r\n              transform.rotation = physics.body.getAngle();\r\n         }\r\n    }\r\n\r\n    PlayerSystem {\r\n         public void updateMovement(Entity entity) {\r\n               PlayerComponent player = Mappers.player.get(entity);\r\n               PhysicsComponent physics = Mapper.physics.get(entity);\r\n               MovementComponent movement = Mapper.movement.get(entity);\r\n               \r\n               float VELOCITY = player.MOVE_VELOCITY;\r\n             \r\n               switch(movement.state) {\r\n                    case UP: movement.velocity.set(0, VELOCITY) break;\r\n                    case DOWN: movement.velocity.set(0, -VELOCITY) break;\r\n                    case LEFT: movement.velocity.set(-VELOCITY, 0) break;\r\n                    case RIGHT: movement.velocity.set(VELOCITY, 0) break;\r\n               }\r\n\r\n               physics.body.setLinearVelocity(movement.velocity);\r\n         }\r\n    }\r\n\r\n\r\n**Objectives** \r\n\r\n - To update body position (This can be done using `PhysicsSystem`)\r\n - To update texture position (This can be done using `MovementSystem`)\r\n\r\n**Problems**\r\n\r\n - I&#39;ve use both systems\r\n - `PhysicsSystem` is overriding or updating the `TransformComponent` datas\r\n - `MovementSystem` is incrementing the `TransformComponent` position, using `MovementComponent` velocity and acceleration.\r\n - When both systems used together the texture is confused because of the `PhysicsSystem` and `MovementSystem` positioning.\r\n\r\n**Question** \r\n\r\nDo you think I&#39;m doing it right? it&#39;s just the behavior I need to revise to fit its objectives?","title":"libgdx ashley ecs framework - Should I use MovementSystem with PhysicsSystem?","body":"<p>If my <code>MovementSystem</code> behavior is like this.</p>\n\n<pre><code>public class MovementSystem extends IntervalIteratingSystem {\n\n     private Vector2 temp = new Vector2();\n\n     public MovementSystem() {\n         super(Family.all(TransformComponent.class, MovementComponent.class).get(), Constants.TIME_STEP);\n     }\n\n     @Override\n     protected void processEntity(Entity entity) {\n         TransformComponent transform = Mappers.transform.get(entity);\n         MovementComponent movement = Mappers.movement.get(entity);\n\n         Vector2 acceleration = temp.set(movement.accel).scl(0.5f);\n         movement.velocity.add(acceleration);\n\n         Vector2 acceleratedVelocity = temp.set(movement.velocity).scl(0.5f);\n         transform.position.add(acceleratedVelocity);\n     }\n\n}\n</code></pre>\n\n<p>While on my <code>PhysicsSystem</code> behavior.</p>\n\n<pre><code>public class PhysicsSystem extends IntervalIteratingSystem {\n     @Override\n     protected void processEntity(Entity entity) {\n          PhysicsComponent physics = Mappers.physics.get(entity);\n          TransformComponent transform = Mappers.transform.get(entity);\n          SizeComponent size = Mappers.size.get(entity);\n\n          transform.position.set(physics.body.getPositon());\n          transform.rotation = physics.body.getAngle();\n     }\n}\n\nPlayerSystem {\n     public void updateMovement(Entity entity) {\n           PlayerComponent player = Mappers.player.get(entity);\n           PhysicsComponent physics = Mapper.physics.get(entity);\n           MovementComponent movement = Mapper.movement.get(entity);\n\n           float VELOCITY = player.MOVE_VELOCITY;\n\n           switch(movement.state) {\n                case UP: movement.velocity.set(0, VELOCITY) break;\n                case DOWN: movement.velocity.set(0, -VELOCITY) break;\n                case LEFT: movement.velocity.set(-VELOCITY, 0) break;\n                case RIGHT: movement.velocity.set(VELOCITY, 0) break;\n           }\n\n           physics.body.setLinearVelocity(movement.velocity);\n     }\n}\n</code></pre>\n\n<p><strong>Objectives</strong> </p>\n\n<ul>\n<li>To update body position (This can be done using <code>PhysicsSystem</code>)</li>\n<li>To update texture position (This can be done using <code>MovementSystem</code>)</li>\n</ul>\n\n<p><strong>Problems</strong></p>\n\n<ul>\n<li>I've use both systems</li>\n<li><code>PhysicsSystem</code> is overriding or updating the <code>TransformComponent</code> datas</li>\n<li><code>MovementSystem</code> is incrementing the <code>TransformComponent</code> position, using <code>MovementComponent</code> velocity and acceleration.</li>\n<li>When both systems used together the texture is confused because of the <code>PhysicsSystem</code> and <code>MovementSystem</code> positioning.</li>\n</ul>\n\n<p><strong>Question</strong> </p>\n\n<p>Do you think I'm doing it right? it's just the behavior I need to revise to fit its objectives?</p>\n"},{"tags":["java","libgdx","entity-component-system"],"comments":[{"owner":{"account_id":2153338,"reputation":4072,"user_id":1909094,"accept_rate":83,"display_name":"Lake"},"score":0,"creation_date":1468944267,"post_id":38444067,"comment_id":64330877,"body_markdown":"What&#39;s the error or unexpected behavior?","body":"What&#39;s the error or unexpected behavior?"},{"owner":{"account_id":3333480,"reputation":397,"user_id":2801777,"accept_rate":93,"display_name":"ronscript"},"score":0,"creation_date":1468945177,"post_id":38444067,"comment_id":64331457,"body_markdown":"the texture and body does not show up","body":"the texture and body does not show up"},{"owner":{"account_id":2153338,"reputation":4072,"user_id":1909094,"accept_rate":83,"display_name":"Lake"},"score":0,"creation_date":1468945315,"post_id":38444067,"comment_id":64331543,"body_markdown":"I don&#39;t think that problem is related to Ashley in any way.  Maybe you should check your rendering code.","body":"I don&#39;t think that problem is related to Ashley in any way.  Maybe you should check your rendering code."}],"owner":{"account_id":3333480,"reputation":397,"user_id":2801777,"accept_rate":93,"display_name":"ronscript"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682793629,"creation_date":1468868091,"question_id":38444067,"body_markdown":"In this below code method, I&#39;ve tested creating and removing entity, because I&#39;m planning to create bullet pool this way.\r\n     \r\n     public void build () {\r\n            Entity bulletTest1 = createBullet(0,0);   // works perfectly but\r\n            removeEntity(bulletTest1); // after engine remove this bulletTest1 entity then\r\n            Entity bulletTest2 = createBullet(0,0); // recreate it, it doesn&#39;t work anymore \r\n     }\r\n\r\nIn this below code example I&#39;ve create a `BulletFactory` that creates bullet entity made from engine.\r\n\r\n     public Entity createBullet(float x, float y) {\r\n        Entity entity = createEntity(Constants.Flags.BULLET);\r\n\r\n        BulletComponent bullet = engine.createComponent(BulletComponent.class);\r\n        SizeComponent size = engine.createComponent(SizeComponent.class);\r\n        TextureComponent texture = engine.createComponent(TextureComponent.class);\r\n        PhysicsComponent physics = engine.createComponent(PhysicsComponent.class);\r\n        TransformComponent transform = engine.createComponent(TransformComponent.class);\r\n        MovementComponent movement = engine.createComponent(MovementComponent.class);\r\n\r\n        texture.region = GameAssets.cannonball;\r\n        transform.position.set(x, y);\r\n        size.width = 0.25f;\r\n        size.height = 0.25f;\r\n        transform.origin.set(size.width / 2, size.height /2);\r\n        float bodyPosX = transform.position.x + transform.origin.x;\r\n        float bodyPosY = transform.position.y +  transform.origin.y;\r\n        physics.body = createBulletBody(entity, bodyPosX, bodyPosY);\r\n\r\n        entity.add(bullet);\r\n        entity.add(size);\r\n        entity.add(texture);\r\n        entity.add(physics);\r\n        entity.add(transform);\r\n        entity.add(movement);\r\n\r\n        engine.addEntity(entity);\r\n        return entity;\r\n    }\r\n\r\n    public Entity createEntity(Constants.Flags flag) {\r\n        Entity e = engine.createEntity();\r\n        e.flags = flag.ordinal();\r\n        return e;\r\n    }","title":"libgdx ashley - Why I cannot recreate entity after removing entity from the engine?","body":"<p>In this below code method, I've tested creating and removing entity, because I'm planning to create bullet pool this way.</p>\n\n<pre><code> public void build () {\n        Entity bulletTest1 = createBullet(0,0);   // works perfectly but\n        removeEntity(bulletTest1); // after engine remove this bulletTest1 entity then\n        Entity bulletTest2 = createBullet(0,0); // recreate it, it doesn't work anymore \n }\n</code></pre>\n\n<p>In this below code example I've create a <code>BulletFactory</code> that creates bullet entity made from engine.</p>\n\n<pre><code> public Entity createBullet(float x, float y) {\n    Entity entity = createEntity(Constants.Flags.BULLET);\n\n    BulletComponent bullet = engine.createComponent(BulletComponent.class);\n    SizeComponent size = engine.createComponent(SizeComponent.class);\n    TextureComponent texture = engine.createComponent(TextureComponent.class);\n    PhysicsComponent physics = engine.createComponent(PhysicsComponent.class);\n    TransformComponent transform = engine.createComponent(TransformComponent.class);\n    MovementComponent movement = engine.createComponent(MovementComponent.class);\n\n    texture.region = GameAssets.cannonball;\n    transform.position.set(x, y);\n    size.width = 0.25f;\n    size.height = 0.25f;\n    transform.origin.set(size.width / 2, size.height /2);\n    float bodyPosX = transform.position.x + transform.origin.x;\n    float bodyPosY = transform.position.y +  transform.origin.y;\n    physics.body = createBulletBody(entity, bodyPosX, bodyPosY);\n\n    entity.add(bullet);\n    entity.add(size);\n    entity.add(texture);\n    entity.add(physics);\n    entity.add(transform);\n    entity.add(movement);\n\n    engine.addEntity(entity);\n    return entity;\n}\n\npublic Entity createEntity(Constants.Flags flag) {\n    Entity e = engine.createEntity();\n    e.flags = flag.ordinal();\n    return e;\n}\n</code></pre>\n"},{"tags":["java","libgdx","entity-component-system"],"answers":[{"tags":[],"owner":{"account_id":3273973,"reputation":5791,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1468483658,"creation_date":1468483658,"answer_id":38368771,"question_id":38324467,"body_markdown":"I&#39;d prefer the second method via an `EntityFactory`.\r\n\r\nExplanation:\r\n\r\n* Whereas the EntityFactory is a clean representation of the common factory pattern, you Gun looks like a [builder pattern][1] but with just one method for creating an `Entity`. So it makes no sense to use a new instance for every `Entity` creation as you store no building state in the instance.\r\n\r\n* Your `Gun` class is just a wrapper for an `Entity`. But if you get an `Entity`from `engine.getEntitiesFor(Family...` you cannot get it&#39;s `Gun` wrapper. So you cannot really use it for anything in your engine&#39;s systems.\r\n\r\n* If your `EntityFactory` gets too complex and long, I&#39;d recommend to split it into a `GunFactory`, `BananaFactory` and so on.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Builder_pattern","title":"What is the proper way of creating an entity in libgdx ashley ecs framework pooled engine?","body":"<p>I'd prefer the second method via an <code>EntityFactory</code>.</p>\n\n<p>Explanation:</p>\n\n<ul>\n<li><p>Whereas the EntityFactory is a clean representation of the common factory pattern, you Gun looks like a <a href=\"https://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow\">builder pattern</a> but with just one method for creating an <code>Entity</code>. So it makes no sense to use a new instance for every <code>Entity</code> creation as you store no building state in the instance.</p></li>\n<li><p>Your <code>Gun</code> class is just a wrapper for an <code>Entity</code>. But if you get an <code>Entity</code>from <code>engine.getEntitiesFor(Family...</code> you cannot get it's <code>Gun</code> wrapper. So you cannot really use it for anything in your engine's systems.</p></li>\n<li><p>If your <code>EntityFactory</code> gets too complex and long, I'd recommend to split it into a <code>GunFactory</code>, <code>BananaFactory</code> and so on.</p></li>\n</ul>\n"}],"owner":{"account_id":3333480,"reputation":397,"user_id":2801777,"accept_rate":93,"display_name":"ronscript"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1711,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38368771,"answer_count":1,"score":3,"last_activity_date":1682793490,"creation_date":1468314514,"question_id":38324467,"body_markdown":"    \r\n    // GameWorld\r\n    PooledEngine engine = new PooledEngine();\r\n    \r\n    // Gun class\r\n    class Gun {\r\n       publc Gun(Entity entity) {\r\n            createComponents();\r\n            addComponents();\r\n       }\r\n\r\n       public Entity getEntity();\r\n    }\r\n    \r\n    // Option 1\r\n    Gun gun = new Gun(engine.createEntity());\r\n    engine.addEntity(gun.getEntity());\r\n\r\n    // Option 2 or a simple method inside EntityFactory class\r\n    public Entity createGun() {\r\n        Entity gun = engine.createEntity();\r\n        // components creation here\r\n        ..\r\n        engine.addEntity(gun);\r\n        return gun;\r\n    }\r\n\r\n**Question** which one is the better way of creating an `Entity` made from the `PooledEngine`?\r\n\r\n - option 1, I create a new `class` called `Gun` then handle the creation of components there.\r\n - option 2, Inside the `EntityFactory` `class` add new method called `createGun()` \r\n\r\n \r\n\r\n        class EntityFactory {\r\n         // constructor \r\n         public void build() {\r\n            // Option 1\r\n            Gun gun = new Gun(engine.createEntity());\r\n            // where I can call gun.fire(), gun.reload(), gun.dispose, and so on..\r\n            engine.addEntity(gun.getEntity());\r\n             \r\n    \r\n            // Option 2\r\n            Entity gun = createGun();\r\n            engine.addEntity(gun);\r\n         }\r\n\r\n         public Entity createGun() {\r\n            Entity gun = engine.createEntity();\r\n            // components creation here\r\n            ...\r\n            engine.addEntity(gun);\r\n            return gun;\r\n         }\r\n        }\r\n\r\n        EntityFactory factory = new EntityFactory(world, engine);\r\n        factory.build();","title":"What is the proper way of creating an entity in libgdx ashley ecs framework pooled engine?","body":"<pre><code>// GameWorld\nPooledEngine engine = new PooledEngine();\n\n// Gun class\nclass Gun {\n   publc Gun(Entity entity) {\n        createComponents();\n        addComponents();\n   }\n\n   public Entity getEntity();\n}\n\n// Option 1\nGun gun = new Gun(engine.createEntity());\nengine.addEntity(gun.getEntity());\n\n// Option 2 or a simple method inside EntityFactory class\npublic Entity createGun() {\n    Entity gun = engine.createEntity();\n    // components creation here\n    ..\n    engine.addEntity(gun);\n    return gun;\n}\n</code></pre>\n\n<p><strong>Question</strong> which one is the better way of creating an <code>Entity</code> made from the <code>PooledEngine</code>?</p>\n\n<ul>\n<li>option 1, I create a new <code>class</code> called <code>Gun</code> then handle the creation of components there.</li>\n<li><p>option 2, Inside the <code>EntityFactory</code> <code>class</code> add new method called <code>createGun()</code> </p>\n\n<pre><code>class EntityFactory {\n // constructor \n public void build() {\n    // Option 1\n    Gun gun = new Gun(engine.createEntity());\n    // where I can call gun.fire(), gun.reload(), gun.dispose, and so on..\n    engine.addEntity(gun.getEntity());\n\n\n    // Option 2\n    Entity gun = createGun();\n    engine.addEntity(gun);\n }\n\n public Entity createGun() {\n    Entity gun = engine.createEntity();\n    // components creation here\n    ...\n    engine.addEntity(gun);\n    return gun;\n }\n}\n\nEntityFactory factory = new EntityFactory(world, engine);\nfactory.build();\n</code></pre></li>\n</ul>\n"},{"tags":["java","libgdx","2d","entity-component-system"],"answers":[{"tags":[],"owner":{"account_id":3248328,"reputation":1553,"user_id":2739271,"accept_rate":69,"display_name":"TomGrill Games"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1468134340,"creation_date":1468134340,"answer_id":38289508,"question_id":38278201,"body_markdown":"I use a three layer approach: (pseudo code)\r\n\r\n**Layer 1:**\r\n\r\nSome class that handles the raw input coming from InputProcessor libgdx class like this:\r\n\r\n    public interface InputHandlerIF {\r\n    \tvoid walk(int playerId, Vector2 direction);\r\n    \tvoid jump();\r\n    \t.....\r\n    }\r\n    \r\n    \r\n    class RawInputHandler implements InputProcessor {\r\n    \r\n    \tprivate InputHandlerIF listener;\r\n    \tprivate Vector2 direction;\r\n    \tonKeyDown(int keycode) {\r\n    \t\tif(keycode == W) {\r\n    \t\t\tdirection = valueToWalkForward;\r\n    \t\t\tlistener.walk(playerId, direction);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nSo all raw input coming from libgdx framework is handled and translated to an actual game command like: walk, shoot, castSpell, etc. This layer allows you to filter input before it gets passed to the `InputHandlerIF`s: F.e. controller number in a local multi-player game. \r\n\r\n**Layer 2:**\r\n\r\nThen I have this a kind of command handler system which receives the commands:\r\n\r\n    public class InputHandlerSystem extends EntitySystem implements InputHandlerIF {\r\n    \tpublic walk(int playerId, Vector2 direction) {\r\n    \t\tpositionComponents.getForPlayer(playerId).direction = direction;\r\n    \t}\r\n    }\r\n\r\nThe systems knows all positionComponents of the player(s) and updates the values accordingly.\r\n\r\n**Layer 3:**\r\n\r\nPlayerMovementSystem which also knows the positionComponents and updates the players position (x and y) based on the time delta and `positionComponent.direction` value.\r\n\r\n    class PlayerMovementSystem extends IteratingSystem {\r\n    \tupdate(float delta) {\r\n    \t\t... update player position\r\n    \t}\r\n    }\r\n\r\n\r\nSetup would look like this:\r\n\r\n    Engine engine = new Engine();\r\n    InputHandlerSystem ihs = new InputHandlerSystem();\r\n    RawInputHandler rih = RawInputHandler();\r\n    rih.registerListener(ihs);\r\n    engine.addSystem(ihs);\r\n    enigne.addSystem(new PlayerMovementSystem());\r\n\r\n","title":"libgdx ashley - How do I control a player the proper way (ECS framework)?","body":"<p>I use a three layer approach: (pseudo code)</p>\n\n<p><strong>Layer 1:</strong></p>\n\n<p>Some class that handles the raw input coming from InputProcessor libgdx class like this:</p>\n\n<pre><code>public interface InputHandlerIF {\n    void walk(int playerId, Vector2 direction);\n    void jump();\n    .....\n}\n\n\nclass RawInputHandler implements InputProcessor {\n\n    private InputHandlerIF listener;\n    private Vector2 direction;\n    onKeyDown(int keycode) {\n        if(keycode == W) {\n            direction = valueToWalkForward;\n            listener.walk(playerId, direction);\n        }\n    }\n}\n</code></pre>\n\n<p>So all raw input coming from libgdx framework is handled and translated to an actual game command like: walk, shoot, castSpell, etc. This layer allows you to filter input before it gets passed to the <code>InputHandlerIF</code>s: F.e. controller number in a local multi-player game. </p>\n\n<p><strong>Layer 2:</strong></p>\n\n<p>Then I have this a kind of command handler system which receives the commands:</p>\n\n<pre><code>public class InputHandlerSystem extends EntitySystem implements InputHandlerIF {\n    public walk(int playerId, Vector2 direction) {\n        positionComponents.getForPlayer(playerId).direction = direction;\n    }\n}\n</code></pre>\n\n<p>The systems knows all positionComponents of the player(s) and updates the values accordingly.</p>\n\n<p><strong>Layer 3:</strong></p>\n\n<p>PlayerMovementSystem which also knows the positionComponents and updates the players position (x and y) based on the time delta and <code>positionComponent.direction</code> value.</p>\n\n<pre><code>class PlayerMovementSystem extends IteratingSystem {\n    update(float delta) {\n        ... update player position\n    }\n}\n</code></pre>\n\n<p>Setup would look like this:</p>\n\n<pre><code>Engine engine = new Engine();\nInputHandlerSystem ihs = new InputHandlerSystem();\nRawInputHandler rih = RawInputHandler();\nrih.registerListener(ihs);\nengine.addSystem(ihs);\nenigne.addSystem(new PlayerMovementSystem());\n</code></pre>\n"}],"owner":{"account_id":3333480,"reputation":397,"user_id":2801777,"accept_rate":93,"display_name":"ronscript"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3048,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38289508,"answer_count":1,"score":1,"last_activity_date":1682793278,"creation_date":1468037102,"question_id":38278201,"body_markdown":"**What I have tried** *In the option 1, I created PlayerControlled classes to control a player (It&#39;s working properly). But I don&#39;t want the way I control a player like this, I have doubt it is not the proper way.*\r\n\r\n    // Option 1\r\n    class PlayerComponent implements Component {\r\n         // player data here\r\n    }\r\n\r\n    class PlayerSystem extends IteratingSystem {\r\n         // player logic here\r\n    }\r\n\r\n    class PlayerControlledComponent implements Component{\r\n         // Player entity\r\n    }\r\n    class PlayerControlledSystem extends IteratingSystem {\r\n         // Keyboard Input\r\n         // Player entity\r\n    }\r\n\r\n    // Option 2\r\n    engine.getSystem(PlayerSystem.class).attack()\r\n\r\n    // Option 3\r\n    class PlayerController {\r\n    \r\n         PlayerConroller(Player player) {\r\n\r\n         }\r\n    \r\n    } \r\n\r\n&gt; Both option 1 &amp; 2 are tested and working, option 3 is just an idea.\r\n\r\n**Question** \r\n\r\n - Which option is/are the proper way of controlling the player?\r\n - Is there any other option to control the player using the ECS framework?","title":"libgdx ashley - How do I control a player the proper way (ECS framework)?","body":"<p><strong>What I have tried</strong> <em>In the option 1, I created PlayerControlled classes to control a player (It's working properly). But I don't want the way I control a player like this, I have doubt it is not the proper way.</em></p>\n\n<pre><code>// Option 1\nclass PlayerComponent implements Component {\n     // player data here\n}\n\nclass PlayerSystem extends IteratingSystem {\n     // player logic here\n}\n\nclass PlayerControlledComponent implements Component{\n     // Player entity\n}\nclass PlayerControlledSystem extends IteratingSystem {\n     // Keyboard Input\n     // Player entity\n}\n\n// Option 2\nengine.getSystem(PlayerSystem.class).attack()\n\n// Option 3\nclass PlayerController {\n\n     PlayerConroller(Player player) {\n\n     }\n\n} \n</code></pre>\n\n<blockquote>\n  <p>Both option 1 &amp; 2 are tested and working, option 3 is just an idea.</p>\n</blockquote>\n\n<p><strong>Question</strong> </p>\n\n<ul>\n<li>Which option is/are the proper way of controlling the player?</li>\n<li>Is there any other option to control the player using the ECS framework?</li>\n</ul>\n"},{"tags":["java","spring","gradle","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1581707785,"post_id":60231414,"comment_id":106539614,"body_markdown":"Does it build from the command line? `./gradlew clean build`","body":"Does it build from the command line? <code>.&#47;gradlew clean build</code>"}],"answers":[{"tags":[],"owner":{"account_id":357538,"reputation":1531,"user_id":697770,"accept_rate":67,"display_name":"BgRva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596547882,"creation_date":1596547882,"answer_id":63248018,"question_id":60231414,"body_markdown":"This drove me crazy.  I was getting the same errors (this is from a clean project generated from Spring Initializr).  Turned out it was an issue with the Gradle version. When I ran a build from the command line, I got the following error message\r\n\r\n [![enter image description here][1]][1]\r\n\r\nOnce I updated gradle it build with no issues.\r\n\r\n  [1]: https://i.stack.imgur.com/5kWNl.png","title":"Error on build Spring gradle project generated from Spring Initializr","body":"<p>This drove me crazy.  I was getting the same errors (this is from a clean project generated from Spring Initializr).  Turned out it was an issue with the Gradle version. When I ran a build from the command line, I got the following error message</p>\n<p><a href=\"https://i.stack.imgur.com/5kWNl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5kWNl.png\" alt=\"enter image description here\" /></a></p>\n<p>Once I updated gradle it build with no issues.</p>\n"},{"tags":[],"owner":{"account_id":8414982,"reputation":21,"user_id":6316522,"display_name":"learner5060"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682793216,"creation_date":1682523028,"answer_id":76112585,"question_id":60231414,"body_markdown":"In my case the issue was due to incompatible versions of Spring Boot and JDK.\r\nInitially while creating the project from Spring Initializer I tried using Spring Boot 3.0.6 version for JDK 11 which was incompatible.\r\nAfter changing the Spring Boot version to 2.7.11 for JDK 11 the error got resolved.","title":"Error on build Spring gradle project generated from Spring Initializr","body":"<p>In my case the issue was due to incompatible versions of Spring Boot and JDK.\nInitially while creating the project from Spring Initializer I tried using Spring Boot 3.0.6 version for JDK 11 which was incompatible.\nAfter changing the Spring Boot version to 2.7.11 for JDK 11 the error got resolved.</p>\n"}],"owner":{"account_id":6661932,"reputation":3905,"user_id":5140756,"accept_rate":16,"display_name":"Augusto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":990,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682793216,"creation_date":1581703376,"question_id":60231414,"body_markdown":"I&#39;ve created a demo Gradle project called `test-jdbc-demo` from [Spring][1] using some dependencies and change nothing, just unziped and imported on Intellij using Open -&gt; build.gradle file and tried too using `Import` from default Intellij window. When imported the project is not build and a error about gradle dependencies occurs. I&#39;m using Intellij 2019.3, JDK 1.8 on Ubuntu.\r\n\r\n\r\n  [1]: https://start.spring.io/\r\n\r\n\r\n**Error**\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;/home/augusto.cadini/projects/Spring Applications/test-jdbc-demo/build.gradle&#39; line: 2\r\n    \r\n    * What went wrong:\r\n    Plugin [id: &#39;org.springframework.boot&#39;, version: &#39;2.2.4.RELEASE&#39;] was not found in any of the following sources:\r\n    \r\n    - Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n    - Plugin Repositories (could not resolve plugin artifact &#39;org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.4.RELEASE&#39;)\r\n      Searched in the following repositories:\r\n        Gradle Central Plugin Repository\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    CONFIGURE FAILED in 208ms\r\n\r\n**build.gradle**\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.2.4.RELEASE&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.jdbc&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;1.8&#39;\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \ttestImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n    \t\texclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n    \t}\r\n    }\r\n    \r\n    test {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\n","title":"Error on build Spring gradle project generated from Spring Initializr","body":"<p>I've created a demo Gradle project called <code>test-jdbc-demo</code> from <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">Spring</a> using some dependencies and change nothing, just unziped and imported on Intellij using Open -&gt; build.gradle file and tried too using <code>Import</code> from default Intellij window. When imported the project is not build and a error about gradle dependencies occurs. I'm using Intellij 2019.3, JDK 1.8 on Ubuntu.</p>\n<p><strong>Error</strong></p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/home/augusto.cadini/projects/Spring Applications/test-jdbc-demo/build.gradle' line: 2\n\n* What went wrong:\nPlugin [id: 'org.springframework.boot', version: '2.2.4.RELEASE'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.4.RELEASE')\n  Searched in the following repositories:\n    Gradle Central Plugin Repository\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nCONFIGURE FAILED in 208ms\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.2.4.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.jdbc'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","maven","selenium-webdriver","jenkins"],"comments":[{"owner":{"account_id":28445627,"reputation":11,"user_id":21764373,"display_name":"N_rock"},"score":0,"creation_date":1685598099,"post_id":76129955,"comment_id":134682974,"body_markdown":"Running Jenkins as a standalone application resolved my issue.","body":"Running Jenkins as a standalone application resolved my issue."}],"owner":{"account_id":28445627,"reputation":11,"user_id":21764373,"display_name":"N_rock"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682792914,"creation_date":1682687655,"question_id":76129955,"body_markdown":"    org.openqa.selenium.WebDriverException: \r\n    unknown error: Microsoft Edge failed to start: crashed.\r\n      (unknown error: DevToolsActivePort file doesn&#39;t exist)\r\n      (The process started from msedge location C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe is no longer running, so msedgedriver is assuming that msedge has crashed.)\r\n    Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n    System info: host: &#39;HJNZL000593&#39;, ip: &#39;192.168.1.15&#39;, os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;18.0.2.1&#39;\r\n    Driver info: driver.version: EdgeDriver\r\n    remote stacktrace: Backtrace:\r\n    \tGetHandleVerifier [0x00007FF665DDDB12+60274]\r\n    \tMicrosoft::Applications::Events::EventProperty::~EventProperty [0x00007FF665D6E772+818882]\r\n\r\n\r\nAbove error showed up when job executed from Jenkins. \r\n\r\nI tried using chrome browser and its working. I am expecting same works for edge browser also.","title":"Can&#39;t launch edge browser from Jenkins build job but same is working on from eclipse","body":"<pre><code>org.openqa.selenium.WebDriverException: \nunknown error: Microsoft Edge failed to start: crashed.\n  (unknown error: DevToolsActivePort file doesn't exist)\n  (The process started from msedge location C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe is no longer running, so msedgedriver is assuming that msedge has crashed.)\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'HJNZL000593', ip: '192.168.1.15', os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '18.0.2.1'\nDriver info: driver.version: EdgeDriver\nremote stacktrace: Backtrace:\n    GetHandleVerifier [0x00007FF665DDDB12+60274]\n    Microsoft::Applications::Events::EventProperty::~EventProperty [0x00007FF665D6E772+818882]\n</code></pre>\n<p>Above error showed up when job executed from Jenkins.</p>\n<p>I tried using chrome browser and its working. I am expecting same works for edge browser also.</p>\n"},{"tags":["java","mongodb"],"owner":{"account_id":556011,"reputation":2421,"user_id":884444,"accept_rate":51,"display_name":"ppb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682792529,"creation_date":1682792529,"question_id":76137757,"body_markdown":"I am new to `MongDB/Java`. I am trying to write a Junit for `AggregateIterable`. Where I want to add some mock data to iterable but not sure how to add the expected mock data. Could you please give me some example or direction how can mock the `AggregateIterable` with expected mock data.\r\n\r\nI am trying to write `Junit` or `mock` for below snippet of code - \r\n\r\n    List&lt;Employee&gt; results = getCollection().aggregate(pipeline).into(new ArrayList&lt;&gt;());\r\n \r\nI tried below but result size is always zero.\r\n\r\n    AggregateIterable&lt;Employee&gt; iterable = Mockito.mock(AggregateIterable.class);\r\n    MongoCursor iterator = Mockito.mock(MongoCursor.class);\r\n    Employee employee1 = Mockito.mock(Employee.class);\r\n    Employee employee2 = Mockito.mock(Employee.class);\r\n\r\n    when(iterable.iterator()).thenReturn(iterator);\r\n    when(iterator.hasNext()).thenReturn(true,true,false);\r\n    when(iterator.next()).thenReturn(employee1,employee1);\r\n    Mockito.doReturn(iterable).when(mongoCollection).aggregate(Mockito.any(ArrayList.class));\r\n","title":"Mock mongodb AggregateIterable with expected mock data","body":"<p>I am new to <code>MongDB/Java</code>. I am trying to write a Junit for <code>AggregateIterable</code>. Where I want to add some mock data to iterable but not sure how to add the expected mock data. Could you please give me some example or direction how can mock the <code>AggregateIterable</code> with expected mock data.</p>\n<p>I am trying to write <code>Junit</code> or <code>mock</code> for below snippet of code -</p>\n<pre><code>List&lt;Employee&gt; results = getCollection().aggregate(pipeline).into(new ArrayList&lt;&gt;());\n</code></pre>\n<p>I tried below but result size is always zero.</p>\n<pre><code>AggregateIterable&lt;Employee&gt; iterable = Mockito.mock(AggregateIterable.class);\nMongoCursor iterator = Mockito.mock(MongoCursor.class);\nEmployee employee1 = Mockito.mock(Employee.class);\nEmployee employee2 = Mockito.mock(Employee.class);\n\nwhen(iterable.iterator()).thenReturn(iterator);\nwhen(iterator.hasNext()).thenReturn(true,true,false);\nwhen(iterator.next()).thenReturn(employee1,employee1);\nMockito.doReturn(iterable).when(mongoCollection).aggregate(Mockito.any(ArrayList.class));\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":14963595,"reputation":728,"user_id":10802597,"display_name":"MrFisherman"},"score":0,"creation_date":1591721986,"post_id":62287335,"comment_id":110161461,"body_markdown":"Shouldn&#39;t you return itemIsInInventory value? You just assign it and do nothing more with it.","body":"Shouldn&#39;t you return itemIsInInventory value? You just assign it and do nothing more with it."},{"owner":{"account_id":17230989,"reputation":71,"user_id":12475579,"display_name":"Yuval"},"score":0,"creation_date":1591722092,"post_id":62287335,"comment_id":110161505,"body_markdown":"Yeah, but I need to be able to assign it, the current setup doesn&#39;t work... After the dot in &quot;solChanged != null &amp;&amp; slotChanged.&quot; I need to add something to check for an item, cause I&#39;m not doing that currently","body":"Yeah, but I need to be able to assign it, the current setup doesn&#39;t work... After the dot in &quot;solChanged != null &amp;&amp; slotChanged.&quot; I need to add something to check for an item, cause I&#39;m not doing that currently"}],"answers":[{"tags":[],"owner":{"account_id":17230989,"reputation":71,"user_id":12475579,"display_name":"Yuval"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1601072729,"creation_date":1591737177,"answer_id":62291935,"question_id":62287335,"body_markdown":"I found a much simpler answer to this, but it might not work for certain things. I found this a while ago, but it didn&#39;t seem to work, so I looked for another solution, but now that I came back to it I realized I just did it wrong. this is the code:\r\n```java\r\n@Override\r\n\tpublic void onUpdate(ItemStack itemstack, World world, Entity entity, int i, boolean flag)\r\n\t{\r\n\t\t//Runs the method every tick the item is in the player&#39;s inventory\r\n\t\t((EntityLivingBase) entity).addPotionEffect(new PotionEffect(MobEffects.INVISIBILITY, 10, 0, false, false));\r\n\t\t//Gives the entity with the item the invisibility effect for half a second every tick\r\n\t}\r\n```\r\nPut simply, instead of detecting whether or not a player has the item, it only runs the code when the player has the item. What I meant by &quot;I did it wrong&quot; is that this code should be put in the item&#39;s class, so that it only triggers when the item is in your inventory. I&#39;m not sure, but I don&#39;t think this would work if giving the item to, say, a zombie.","title":"Trying to detect if the player has a specific item in their inventory in my Minecraft mod","body":"<p>I found a much simpler answer to this, but it might not work for certain things. I found this a while ago, but it didn't seem to work, so I looked for another solution, but now that I came back to it I realized I just did it wrong. this is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public void onUpdate(ItemStack itemstack, World world, Entity entity, int i, boolean flag)\n    {\n        //Runs the method every tick the item is in the player's inventory\n        ((EntityLivingBase) entity).addPotionEffect(new PotionEffect(MobEffects.INVISIBILITY, 10, 0, false, false));\n        //Gives the entity with the item the invisibility effect for half a second every tick\n    }\n</code></pre>\n<p>Put simply, instead of detecting whether or not a player has the item, it only runs the code when the player has the item. What I meant by &quot;I did it wrong&quot; is that this code should be put in the item's class, so that it only triggers when the item is in your inventory. I'm not sure, but I don't think this would work if giving the item to, say, a zombie.</p>\n"}],"owner":{"account_id":17230989,"reputation":71,"user_id":12475579,"display_name":"Yuval"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2972,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62291935,"answer_count":1,"score":1,"last_activity_date":1682792495,"creation_date":1591719979,"question_id":62287335,"body_markdown":"I&#39;m making my Minecraft mod and I&#39;m trying to detect if a player has a specific item, which would give you an effect if you have it. I&#39;m trying to do this by using PlayerTickEvent, but I don&#39;t know how to use it, since I haven&#39;t used it before. I used a function that checked which slot was changed for an enchant before, so I tried that, but it didn&#39;t work. any ideas? \r\n\r\nThis is the code I originally tried:\r\n\r\n```java\r\n@SubscribeEvent\r\npublic void testItemFunction(LivingEquipmentChangeEvent event) {\r\n    boolean itemIsInInventory;\r\n    Object player = event.getEntityLiving();\r\n    if (event.getEntityLiving() instanceof EntityLivingBase) {\r\n        EntityEquipmentSlot slotChanged = event.getSlot();\r\n        if (slotChanged.getSlotIndex() &gt; -1 &amp;&amp; slotChanged.getSlotIndex() &lt; 36) {\r\n            if(slotChanged != null &amp;&amp; slotChanged.() == ModItems.TEST_ITEM) {\r\n                itemIsInInventory = true;\r\n            }\r\n        } else {\r\n            itemIsInInventory = false;\r\n\t\t}\r\n    }\r\n}\r\n```\r\ninstead of setting and removing an effect as the result I&#39;m changing the variable itemIsInInventory because I&#39;m making this method in a class in my util package so I can call it whenever I want instead of copy-pasting the method","title":"Trying to detect if the player has a specific item in their inventory in my Minecraft mod","body":"<p>I'm making my Minecraft mod and I'm trying to detect if a player has a specific item, which would give you an effect if you have it. I'm trying to do this by using PlayerTickEvent, but I don't know how to use it, since I haven't used it before. I used a function that checked which slot was changed for an enchant before, so I tried that, but it didn't work. any ideas?</p>\n<p>This is the code I originally tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SubscribeEvent\npublic void testItemFunction(LivingEquipmentChangeEvent event) {\n    boolean itemIsInInventory;\n    Object player = event.getEntityLiving();\n    if (event.getEntityLiving() instanceof EntityLivingBase) {\n        EntityEquipmentSlot slotChanged = event.getSlot();\n        if (slotChanged.getSlotIndex() &gt; -1 &amp;&amp; slotChanged.getSlotIndex() &lt; 36) {\n            if(slotChanged != null &amp;&amp; slotChanged.() == ModItems.TEST_ITEM) {\n                itemIsInInventory = true;\n            }\n        } else {\n            itemIsInInventory = false;\n        }\n    }\n}\n</code></pre>\n<p>instead of setting and removing an effect as the result I'm changing the variable itemIsInInventory because I'm making this method in a class in my util package so I can call it whenever I want instead of copy-pasting the method</p>\n"},{"tags":["java","multithreading","jvm","classloader"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":1,"creation_date":1682771178,"post_id":76136132,"comment_id":134269643,"body_markdown":"What do you see in the output? Can you add its output as well?","body":"What do you see in the output? Can you add its output as well?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1682771228,"post_id":76136132,"comment_id":134269647,"body_markdown":"Because you locked the main thread.","body":"Because you locked the main thread."},{"owner":{"account_id":10342736,"reputation":1032,"user_id":7628578,"display_name":"Q10Viking"},"score":0,"creation_date":1682772604,"post_id":76136132,"comment_id":134269811,"body_markdown":"@Roman C.yes. I locked the main thread.But I let the new thread to wake up it.But the main thread is  not wake up .I find no dead lock in the code.","body":"@Roman C.yes. I locked the main thread.But I let the new thread to wake up it.But the main thread is  not wake up .I find no dead lock in the code."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1682773144,"post_id":76136132,"comment_id":134269874,"body_markdown":"@Q10Viking It&#39;s not true, the new thread is not able to unlock it.","body":"@Q10Viking It&#39;s not true, the new thread is not able to unlock it."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1682773555,"post_id":76136132,"comment_id":134269927,"body_markdown":"@RomanC Yes but why? That&#39;s what is being asked.","body":"@RomanC Yes but why? That&#39;s what is being asked."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":4,"creation_date":1682773692,"post_id":76136132,"comment_id":134269942,"body_markdown":"For those who are voting-to-close or attempting to answer: You&#39;re missing it. The CRUCIAL question here is: __Why in the blazes is that thread not starting??__ - try it, paste this code, compile it, run it. Add a print to the run() block of that thread right up top. It NEVER STARTS. A proper answer to this question requires intricate knowledge of the JVM class init rules and the vagaries of what thread constructor locks on, to answer why in this peculiar case the thread doesn&#39;t actually start. 2 answers so far that missed it.","body":"For those who are voting-to-close or attempting to answer: You&#39;re missing it. The CRUCIAL question here is: <b>Why in the blazes is that thread not starting??</b> - try it, paste this code, compile it, run it. Add a print to the run() block of that thread right up top. It NEVER STARTS. A proper answer to this question requires intricate knowledge of the JVM class init rules and the vagaries of what thread constructor locks on, to answer why in this peculiar case the thread doesn&#39;t actually start. 2 answers so far that missed it."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1682773727,"post_id":76136132,"comment_id":134269947,"body_markdown":"For the vote-to-closers closing for &#39;insufficient detail&#39;: Replace the log.info with sysout and this is a self-contained example, surely that is sufficient detail!","body":"For the vote-to-closers closing for &#39;insufficient detail&#39;: Replace the log.info with sysout and this is a self-contained example, surely that is sufficient detail!"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1682773772,"post_id":76136132,"comment_id":134269959,"body_markdown":"@m0skit0 Because it&#39;s very poor written. The same question should be asked million times and it cannot be answered in a few words.","body":"@m0skit0 Because it&#39;s very poor written. The same question should be asked million times and it cannot be answered in a few words."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1682773962,"post_id":76136132,"comment_id":134269980,"body_markdown":"The key point here is that starting threads in the middle of class initialization (because you&#39;re in the context of that `static {}` block) does not work - it delays the starting of it until initialization is done, which it&#39;ll never be, because during initialization you invoke `wait()` on a lock. I&#39;ve tried to find out why and I can&#39;t find it (hence, this is a comment, not an answer).","body":"The key point here is that starting threads in the middle of class initialization (because you&#39;re in the context of that <code>static {}</code> block) does not work - it delays the starting of it until initialization is done, which it&#39;ll never be, because during initialization you invoke <code>wait()</code> on a lock. I&#39;ve tried to find out why and I can&#39;t find it (hence, this is a comment, not an answer)."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1682776245,"post_id":76136132,"comment_id":134270229,"body_markdown":"Its not starting because the lambda is equivalent to a static method, and that can&#39;t be called unless the class has completed initialisation. The thread code is awaiting init to end. Its similar to / duplicates the issues seen [here](https://stackoverflow.com/questions/75712988/why-does-joining-a-no-op-virtual-thread-in-a-static-initialiser-block-indefinite) and [here](https://stackoverflow.com/questions/34820066/why-does-parallel-stream-with-lambda-in-static-initializer-cause-a-deadlock).","body":"Its not starting because the lambda is equivalent to a static method, and that can&#39;t be called unless the class has completed initialisation. The thread code is awaiting init to end. Its similar to / duplicates the issues seen <a href=\"https://stackoverflow.com/questions/75712988/why-does-joining-a-no-op-virtual-thread-in-a-static-initialiser-block-indefinite\">here</a> and <a href=\"https://stackoverflow.com/questions/34820066/why-does-parallel-stream-with-lambda-in-static-initializer-cause-a-deadlock\">here</a>."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1682777936,"post_id":76136132,"comment_id":134270421,"body_markdown":"The lock is not to do with `synchronized`, you can reproduce with starting a Thread with any `Runnable` that references a field of the class. For example replace init() by `new Thread(() -&gt; System.out.println(&quot;Hello World &quot;/* +lock */),&quot;demo-thread&quot;).start()`. The code will never run if you uncomment use of `lock`.","body":"The lock is not to do with <code>synchronized</code>, you can reproduce with starting a Thread with any <code>Runnable</code> that references a field of the class. For example replace init() by <code>new Thread(() -&gt; System.out.println(&quot;Hello World &quot;&#47;* +lock *&#47;),&quot;demo-thread&quot;).start()</code>. The code will never run if you uncomment use of <code>lock</code>."},{"owner":{"account_id":10342736,"reputation":1032,"user_id":7628578,"display_name":"Q10Viking"},"score":1,"creation_date":1682778059,"post_id":76136132,"comment_id":134270441,"body_markdown":"@xerx593 if code `static{ init();}` change to `static{ new Thread(()-&gt;init()) }` will work。So that&#39;s not a dead lock problem.","body":"@xerx593 if code <code>static{ init();}</code> change to <code>static{ new Thread(()-&gt;init()) }</code> will work。So that&#39;s not a dead lock problem."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1682783317,"post_id":76136132,"comment_id":134271119,"body_markdown":"the one (main thread approach) was a classical &quot;dead lock&quot;: the main thread &quot;owns&quot; the lock and waits it (blockingly) forever., by introducing another thread (*asynchronizing* the `lock.wait()` indeed) you give jvm a chance for &quot;Reentrant Synchronization&quot; (https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html)","body":"the one (main thread approach) was a classical &quot;dead lock&quot;: the main thread &quot;owns&quot; the lock and waits it (blockingly) forever., by introducing another thread (<i>asynchronizing</i> the <code>lock.wait()</code> indeed) you give jvm a chance for &quot;Reentrant Synchronization&quot; (<a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a>)"},{"owner":{"account_id":10342736,"reputation":1032,"user_id":7628578,"display_name":"Q10Viking"},"score":0,"creation_date":1682783502,"post_id":76136132,"comment_id":134271140,"body_markdown":"@xerx593 Cool!!! Can you please reopen it to write this answer?Thank you very much&#128515;","body":"@xerx593 Cool!!! Can you please reopen it to write this answer?Thank you very much😃"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1682785209,"post_id":76136132,"comment_id":134271320,"body_markdown":"Thank you for the flowers :) here some [jls-link](https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.19) , but i fear this, the tiny chapter ( + *rest* ) of [tutorial](https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html) and maybe [ReentrantLock javadoc](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html) are the best documentation about...","body":"Thank you for the flowers :) here some <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.19\" rel=\"nofollow noreferrer\">jls-link</a> , but i fear this, the tiny chapter ( + <i>rest</i> ) of <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow noreferrer\">tutorial</a> and maybe <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html\" rel=\"nofollow noreferrer\">ReentrantLock javadoc</a> are the best documentation about..."},{"owner":{"account_id":10342736,"reputation":1032,"user_id":7628578,"display_name":"Q10Viking"},"score":0,"creation_date":1682792577,"post_id":76136132,"comment_id":134272190,"body_markdown":"@rzwitserloot Thank you for the advice。I have change `log.info` to `sysout` in the code.My original intention was to use `log.info` to see the thread name","body":"@rzwitserloot Thank you for the advice。I have change <code>log.info</code> to <code>sysout</code> in the code.My original intention was to use <code>log.info</code> to see the thread name"}],"answers":[{"tags":[],"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1682792121,"creation_date":1682773981,"answer_id":76136427,"question_id":76136132,"body_markdown":"I&#39;m not an expert in JVM internals but I think the problem lies in here:\r\n\r\n    static {\r\n        init();\r\n    }\r\n\r\nI suspect this will be executed when the JVM classloader is loading the class. However this class loading will never finish since you&#39;re blocking the classloader itself, and thus execution of the rest of the program will never resume, and thus the other thread is never started.\r\n\r\nIf you remove the static block and call it directly: \r\n\r\n    public static void main(String[] args) {\r\n        // ...\r\n        MyFactory.init();\r\n        MyFactory.getSomething();\r\n        // ...\r\n    }\r\n\r\nYou will see that it works properly.\r\n\r\nMore details under [JLS 12.4.2](https://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4.2)\r\n\r\nOn a side note, sleeping is not a good idea to synchronize threads.","title":"Why main thread not wake up?","body":"<p>I'm not an expert in JVM internals but I think the problem lies in here:</p>\n<pre><code>static {\n    init();\n}\n</code></pre>\n<p>I suspect this will be executed when the JVM classloader is loading the class. However this class loading will never finish since you're blocking the classloader itself, and thus execution of the rest of the program will never resume, and thus the other thread is never started.</p>\n<p>If you remove the static block and call it directly:</p>\n<pre><code>public static void main(String[] args) {\n    // ...\n    MyFactory.init();\n    MyFactory.getSomething();\n    // ...\n}\n</code></pre>\n<p>You will see that it works properly.</p>\n<p>More details under <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4.2\" rel=\"nofollow noreferrer\">JLS 12.4.2</a></p>\n<p>On a side note, sleeping is not a good idea to synchronize threads.</p>\n"}],"owner":{"account_id":10342736,"reputation":1032,"user_id":7628578,"display_name":"Q10Viking"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":76136427,"answer_count":1,"score":5,"last_activity_date":1682792281,"creation_date":1682769866,"question_id":76136132,"body_markdown":"The code is below, in the `Main` method I call a static method:\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        MyFactory.getSomething();\r\n        System.out.println(&quot;over&quot;); \r\n    }\r\n}\r\n```\r\nIn the static method, let the main thread wait, then by demo-thread wake up. **But the main thread does not wake up** and I don&#39;t know why.\r\n```java\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class MyFactory {\r\n    private static Object lock = new Object();\r\n\r\n    static{\r\n        init();\r\n    }\r\n\r\n    private static void init(){\r\n        new Thread(()-&gt;{\r\n            try {\r\n                // make this thread run after main thread\r\n                TimeUnit.SECONDS.sleep(3);\r\n                System.out.println(&quot;task run...&quot;);\r\n                synchronized (lock){\r\n                    lock.notifyAll();  // notify main thread\r\n                }\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        },&quot;demo-thread&quot;).start();\r\n\r\n        synchronized (lock){\r\n            try {\r\n                System.out.println(&quot;waiting...&quot;);\r\n                lock.wait();  // wait\r\n                System.out.println(&quot;wake up&quot;);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n    public static Object getSomething(){\r\n        return null;\r\n    }\r\n}\r\n```\r\nThe output is below:\r\n```none\r\nwaiting...\r\n```\r\nMy expected should be like this:\r\n```none\r\nwaiting...\r\ntask run...\r\nwake up\r\nover\r\n```\r\n\r\n[Here is the demo code on Github][1] You can download it to run.\r\n\r\n\r\n  [1]: https://github.com/Q10Viking/static-thread\r\n\r\n----------\r\n\r\n\r\n**My try**:\r\n\r\nI see losts of people say may be a dead lock cause the problem.I don&#39;t think so.Because we don&#39;t see `task run...` info in the output. So the `demo thread` not aquire the lock at all.\r\n\r\nWhen I change the code In `MyFactory.java`.(Add a new thread to run **init** method)\r\n\r\nfrom this\r\n```java\r\nstatic{\r\n  init();\r\n}\r\n\r\n```\r\n\r\nto this.\r\n\r\n```\r\nstatic{\r\n  new Thread(()-&gt;init()).start();\r\n}\r\n```\r\n\r\nEvery thing work fine.The program not block.\r\n\r\nHere is the out put after I change the code .\r\n\r\n```sh\r\nover\r\nwaiting...\r\ntask run...\r\nwake up\r\n```\r\n\r\n\r\n&gt; Back to the original question &quot;Why main thread not wake up&quot;？\r\n&gt; I think the JVM didn&#39;t load the `MyFactory.class` completely due to main thread blocking。I don&#39;t know if my guess is right???\r\n\r\n","title":"Why main thread not wake up?","body":"<p>The code is below, in the <code>Main</code> method I call a static method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        MyFactory.getSomething();\n        System.out.println(&quot;over&quot;); \n    }\n}\n</code></pre>\n<p>In the static method, let the main thread wait, then by demo-thread wake up. <strong>But the main thread does not wake up</strong> and I don't know why.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.TimeUnit;\n\npublic class MyFactory {\n    private static Object lock = new Object();\n\n    static{\n        init();\n    }\n\n    private static void init(){\n        new Thread(()-&gt;{\n            try {\n                // make this thread run after main thread\n                TimeUnit.SECONDS.sleep(3);\n                System.out.println(&quot;task run...&quot;);\n                synchronized (lock){\n                    lock.notifyAll();  // notify main thread\n                }\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        },&quot;demo-thread&quot;).start();\n\n        synchronized (lock){\n            try {\n                System.out.println(&quot;waiting...&quot;);\n                lock.wait();  // wait\n                System.out.println(&quot;wake up&quot;);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n    public static Object getSomething(){\n        return null;\n    }\n}\n</code></pre>\n<p>The output is below:</p>\n<pre class=\"lang-none prettyprint-override\"><code>waiting...\n</code></pre>\n<p>My expected should be like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>waiting...\ntask run...\nwake up\nover\n</code></pre>\n<p><a href=\"https://github.com/Q10Viking/static-thread\" rel=\"nofollow noreferrer\">Here is the demo code on Github</a> You can download it to run.</p>\n<hr />\n<p><strong>My try</strong>:</p>\n<p>I see losts of people say may be a dead lock cause the problem.I don't think so.Because we don't see <code>task run...</code> info in the output. So the <code>demo thread</code> not aquire the lock at all.</p>\n<p>When I change the code In <code>MyFactory.java</code>.(Add a new thread to run <strong>init</strong> method)</p>\n<p>from this</p>\n<pre class=\"lang-java prettyprint-override\"><code>static{\n  init();\n}\n\n</code></pre>\n<p>to this.</p>\n<pre><code>static{\n  new Thread(()-&gt;init()).start();\n}\n</code></pre>\n<p>Every thing work fine.The program not block.</p>\n<p>Here is the out put after I change the code .</p>\n<pre class=\"lang-bash prettyprint-override\"><code>over\nwaiting...\ntask run...\nwake up\n</code></pre>\n<blockquote>\n<p>Back to the original question &quot;Why main thread not wake up&quot;？\nI think the JVM didn't load the <code>MyFactory.class</code> completely due to main thread blocking。I don't know if my guess is right???</p>\n</blockquote>\n"},{"tags":["java","command-line-arguments"],"answers":[{"tags":[],"owner":{"account_id":8706,"reputation":127340,"user_id":15809,"accept_rate":79,"display_name":"Mecki"},"down_vote_count":2,"up_vote_count":57,"is_accepted":true,"score":55,"last_activity_date":1227054037,"creation_date":1227054037,"answer_id":300648,"question_id":300639,"body_markdown":"Start-up time, I&#39;d say. Verification that classes are correct takes some time when the class is loaded. Since classes might be loaded in a lazy fashion (not on app start, but when being used for the first time), this might cause unexpected and undesired runtime delays.\r\n\r\nActually the class does not need to be checked in general. The compiler will not emit any invalid bytecode or class construct. The reason for verification is that the class may be build on one system, get hosted online and is transmitted to you through the unprotected internet. On this path, a malicious attacker might modify the bytecode and create something the compiler might never create; something that can crash the JVM or possibly circumvents security restrictions. Thus the class is verified before it is used. If this is a local application, there is usually no need to check the bytecode again.","title":"Use of -noverify when launching java apps","body":"<p>Start-up time, I'd say. Verification that classes are correct takes some time when the class is loaded. Since classes might be loaded in a lazy fashion (not on app start, but when being used for the first time), this might cause unexpected and undesired runtime delays.</p>\n\n<p>Actually the class does not need to be checked in general. The compiler will not emit any invalid bytecode or class construct. The reason for verification is that the class may be build on one system, get hosted online and is transmitted to you through the unprotected internet. On this path, a malicious attacker might modify the bytecode and create something the compiler might never create; something that can crash the JVM or possibly circumvents security restrictions. Thus the class is verified before it is used. If this is a local application, there is usually no need to check the bytecode again.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1227108307,"creation_date":1227108307,"answer_id":302241,"question_id":300639,"body_markdown":"Start up time used to be a bit of an issue. However, verifiers are now faster, as are processors. Code compiled with JDK6 javac will by default include extra information to make the verifier step faster. Apache Harmony just uses a much faster verification algorithm.\r\n\r\nSome very old versions of javac produced incorrect bytecode. Indeed the Sun PlugIn still includes fix-up code to make some broken class files verify.","title":"Use of -noverify when launching java apps","body":"<p>Start up time used to be a bit of an issue. However, verifiers are now faster, as are processors. Code compiled with JDK6 javac will by default include extra information to make the verifier step faster. Apache Harmony just uses a much faster verification algorithm.</p>\n\n<p>Some very old versions of javac produced incorrect bytecode. Indeed the Sun PlugIn still includes fix-up code to make some broken class files verify.</p>\n"},{"tags":[],"owner":{"account_id":5382,"reputation":10719,"user_id":2495576,"accept_rate":100,"display_name":"Scott Bale"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1228166227,"creation_date":1228166227,"answer_id":332251,"question_id":300639,"body_markdown":"Debugging!  In fact that&#39;s what I&#39;m doing now, and how I stumbled across this question.  At Terracotta we do a lot of bytecode instrumentation, and sometimes it helps to turn off the verifier as we debug our class adapters, so we can see where exactly they fail at runtime.\r\n\r\nYou&#39;re right, we want the verifier to remain on in production.","title":"Use of -noverify when launching java apps","body":"<p>Debugging!  In fact that's what I'm doing now, and how I stumbled across this question.  At Terracotta we do a lot of bytecode instrumentation, and sometimes it helps to turn off the verifier as we debug our class adapters, so we can see where exactly they fail at runtime.</p>\n\n<p>You're right, we want the verifier to remain on in production.</p>\n"},{"tags":[],"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1311941554,"creation_date":1311941554,"answer_id":6872885,"question_id":300639,"body_markdown":"Using JRebel without `-noverify` will give this warning on startup:\r\n\r\n&gt; JRebel: &#39;-noverify&#39; missing, changing/adding/removing constructors will not be enabled!\r\n\r\nSo appears that `-noverify` allows bytecode re-instrumentation to do some things which would otherwise not be possible.","title":"Use of -noverify when launching java apps","body":"<p>Using JRebel without <code>-noverify</code> will give this warning on startup:</p>\n\n<blockquote>\n  <p>JRebel: '-noverify' missing, changing/adding/removing constructors will not be enabled!</p>\n</blockquote>\n\n<p>So appears that <code>-noverify</code> allows bytecode re-instrumentation to do some things which would otherwise not be possible.</p>\n"},{"tags":[],"owner":{"account_id":136796,"reputation":14752,"user_id":340556,"accept_rate":88,"display_name":"Cephalopod"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1354651404,"creation_date":1354651404,"answer_id":13710970,"question_id":300639,"body_markdown":"When it is used in conjunction with `-javaagent`, it is most likely **not** for performance reasons, but because the agent intentionally creates &quot;invalid&quot; bytecode.\r\n\r\nIt should be noted that invalid bytecode might still execute fine, because some of the verification rules are quite strict. For instance, `this` must not be accessed in a constructor before the super-constructor was called, because the variables are not initialized at this point. But there still might be other things you want to do (see the JRebel example). Then, you use `-noverify` to circumvent that rule.","title":"Use of -noverify when launching java apps","body":"<p>When it is used in conjunction with <code>-javaagent</code>, it is most likely <strong>not</strong> for performance reasons, but because the agent intentionally creates \"invalid\" bytecode.</p>\n\n<p>It should be noted that invalid bytecode might still execute fine, because some of the verification rules are quite strict. For instance, <code>this</code> must not be accessed in a constructor before the super-constructor was called, because the variables are not initialized at this point. But there still might be other things you want to do (see the JRebel example). Then, you use <code>-noverify</code> to circumvent that rule.</p>\n"},{"tags":[],"owner":{"account_id":222102,"reputation":908,"user_id":480478,"accept_rate":33,"display_name":"Aykut Kllic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1389789845,"creation_date":1384882332,"answer_id":20078146,"question_id":300639,"body_markdown":"The new verifier that is introduced in JAVA 6 is very complicated to process for code manipulations.\r\n\r\nTake a look at this:\r\nhttp://chrononsystems.com/blog/java-7-design-flaw-leads-to-huge-backward-step-for-the-jvm\r\n\r\nand the related bug report:\r\nhttps://bugs.java.com/bugdatabase/view_bug?bug_id=8009595","title":"Use of -noverify when launching java apps","body":"<p>The new verifier that is introduced in JAVA 6 is very complicated to process for code manipulations.</p>\n<p>Take a look at this:\n<a href=\"http://chrononsystems.com/blog/java-7-design-flaw-leads-to-huge-backward-step-for-the-jvm\" rel=\"nofollow noreferrer\">http://chrononsystems.com/blog/java-7-design-flaw-leads-to-huge-backward-step-for-the-jvm</a></p>\n<p>and the related bug report:\n<a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=8009595\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=8009595</a></p>\n"},{"tags":[],"owner":{"account_id":27042767,"reputation":33,"user_id":20597388,"display_name":"pvpb0t"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682791447,"creation_date":1682791447,"answer_id":76137675,"question_id":300639,"body_markdown":"It disables bytecode verification at runtime. When this flag is set, the JVM skips the verification step that ensures that the bytecode is like complete and also skips checks for upcoming exceptions that will/might occur when the code is ran. An example would be this:\r\n\r\n```java\r\npublic class Example {\r\n    public static void main(String[] args) {\r\n        int x = 10;\r\n        int y = 0;\r\n        int z = x / y; \r\n        System.out.println(&quot;z = &quot; + z);\r\n    }\r\n}\r\n\r\n```\r\n\r\nWith the noverify flag, the code wont execute because the jvm expects **java.lang.ArithmeticException** but with the flag it will execute.","title":"Use of -noverify when launching java apps","body":"<p>It disables bytecode verification at runtime. When this flag is set, the JVM skips the verification step that ensures that the bytecode is like complete and also skips checks for upcoming exceptions that will/might occur when the code is ran. An example would be this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n    public static void main(String[] args) {\n        int x = 10;\n        int y = 0;\n        int z = x / y; \n        System.out.println(&quot;z = &quot; + z);\n    }\n}\n\n</code></pre>\n<p>With the noverify flag, the code wont execute because the jvm expects <strong>java.lang.ArithmeticException</strong> but with the flag it will execute.</p>\n"}],"owner":{"account_id":8074,"reputation":44063,"user_id":14316,"accept_rate":53,"display_name":"pdeva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55297,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":300648,"answer_count":7,"score":54,"last_activity_date":1682791447,"creation_date":1227053547,"question_id":300639,"body_markdown":"I have seen many apps that take instrument classes and take `-javaagent` as a param when loading also put a `-noverify` to the command line.\r\n\r\nThe Java doc says that `-noverify` turns off class verification.\r\n\r\nHowever why would anyone want to turn off verification even if they are instrumenting classes?","title":"Use of -noverify when launching java apps","body":"<p>I have seen many apps that take instrument classes and take <code>-javaagent</code> as a param when loading also put a <code>-noverify</code> to the command line.</p>\n\n<p>The Java doc says that <code>-noverify</code> turns off class verification.</p>\n\n<p>However why would anyone want to turn off verification even if they are instrumenting classes?</p>\n"},{"tags":["java","types","private-key"],"comments":[{"owner":{"account_id":1217812,"reputation":777,"user_id":3887392,"display_name":"Andy Preston"},"score":1,"creation_date":1682772739,"post_id":76136233,"comment_id":134269830,"body_markdown":"Please tag the question with the programming language you are using... it looks like Java to me but I don&#39;t know.","body":"Please tag the question with the programming language you are using... it looks like Java to me but I don&#39;t know."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1682779258,"post_id":76136233,"comment_id":134270582,"body_markdown":"I&#39;ve now seen this apparently malformed (according to lapo.it) ASN.1 private key format at least 3 times. Where is it coming from?","body":"I&#39;ve now seen this apparently malformed (according to lapo.it) ASN.1 private key format at least 3 times. Where is it coming from?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1682791379,"post_id":76136233,"comment_id":134272051,"body_markdown":"@PresidentJamesK.Polk: I don&#39;t see anything malformed (either in lapo.it or local openssl asn1parse), although lapo.it doesn&#39;t seem to have -- at least it doesn&#39;t offer me in the pulldown -- PKCS8-unencrypted, which is the (only) correct definition for this PEM-type (see RFC7468 section 10).","body":"@PresidentJamesK.Polk: I don&#39;t see anything malformed (either in lapo.it or local openssl asn1parse), although lapo.it doesn&#39;t seem to have -- at least it doesn&#39;t offer me in the pulldown -- PKCS8-unencrypted, which is the (only) correct definition for this PEM-type (see RFC7468 section 10)."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1682890168,"post_id":76136233,"comment_id":134282177,"body_markdown":"@PresidentJamesK.Polk: yes that dupe is better focussed on the specific issue than the ones my search found -- even though it should have matched my criteria. I&#39;ve have had this problem before, where Stack&#39;s search doesn&#39;t find posts that exist and are good matches. I may give up using it.","body":"@PresidentJamesK.Polk: yes that dupe is better focussed on the specific issue than the ones my search found -- even though it should have matched my criteria. I&#39;ve have had this problem before, where Stack&#39;s search doesn&#39;t find posts that exist and are good matches. I may give up using it."}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682791196,"creation_date":1682791196,"answer_id":76137655,"question_id":76136233,"body_markdown":"Although it&#39;s used with a public-key-cryptography _algorithm_, that&#39;s a private key (as the labels say) not a public key. It is _almost_ in the format used by Java crypto: it is PKCS8 and unencrypted, but is [PEM](https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail) rather than &#39;DER&#39; (binary). To un-PEM you need to remove the BEGIN and END lines, and decode the base64 to binary with the linebreaks either removed or ignored. You then put the result in [`PKCS8EncodedKeySpec`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/spec/PKCS8EncodedKeySpec.html) and feed it to the `.generatePrivate` method of a [`KeyFactory`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/KeyFactory.html) for the correct algorithm, which is `&quot;RSA&quot;`. \r\n\r\nI&#39;m certain I&#39;ve seen this case posted at least a dozen times, but on searching I can find only two decent duplicates; see  \r\nhttps://stackoverflow.com/a/48173910/2868801 (but note Java 9 up moves `javax.xml.bind` outside of &#39;base&#39;, so using `java.util.Base64` instead may be more convenient)  \r\nhttps://stackoverflow.com/a/66362542/2868801 (but skip the parts about JJWT, and note it assumes _all_ linebreaks have been removed -- on the BEGIN and END lines and on the base64)  \r\n","title":"i have public key as a text file and want to give it to a function that accepts publickey not string","body":"<p>Although it's used with a public-key-cryptography <em>algorithm</em>, that's a private key (as the labels say) not a public key. It is <em>almost</em> in the format used by Java crypto: it is PKCS8 and unencrypted, but is <a href=\"https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail\" rel=\"nofollow noreferrer\">PEM</a> rather than 'DER' (binary). To un-PEM you need to remove the BEGIN and END lines, and decode the base64 to binary with the linebreaks either removed or ignored. You then put the result in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/spec/PKCS8EncodedKeySpec.html\" rel=\"nofollow noreferrer\"><code>PKCS8EncodedKeySpec</code></a> and feed it to the <code>.generatePrivate</code> method of a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/KeyFactory.html\" rel=\"nofollow noreferrer\"><code>KeyFactory</code></a> for the correct algorithm, which is <code>&quot;RSA&quot;</code>.</p>\n<p>I'm certain I've seen this case posted at least a dozen times, but on searching I can find only two decent duplicates; see<br />\n<a href=\"https://stackoverflow.com/a/48173910/2868801\">https://stackoverflow.com/a/48173910/2868801</a> (but note Java 9 up moves <code>javax.xml.bind</code> outside of 'base', so using <code>java.util.Base64</code> instead may be more convenient)<br />\n<a href=\"https://stackoverflow.com/a/66362542/2868801\">https://stackoverflow.com/a/66362542/2868801</a> (but skip the parts about JJWT, and note it assumes <em>all</em> linebreaks have been removed -- on the BEGIN and END lines and on the base64)</p>\n"}],"owner":{"account_id":28356450,"reputation":3,"user_id":21687128,"display_name":"nima tehrani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1682931493,"accepted_answer_id":76137655,"answer_count":1,"score":-2,"last_activity_date":1682791196,"creation_date":1682771484,"question_id":76136233,"body_markdown":"helo. any help can be hopeful please. it&#39;s about 1 month that i am tring to solve the problem.\r\ni have below private key by size 2048 and a function to sign some data.\r\n\r\n```\r\n-----BEGIN PRIVATE KEY-----\r\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDMsFHds+5f72yW\r\nhhzhCL8svzk7IAoSFZqPnTYoGNz8nN82sKwY5dhkB2x0Hw7dlJhs2V2+Y8nlS13E\r\nfQQVT3NofdPVbZdCnwzrzz4VsT/0Yhg10FXNwXRzk4QTECQWaz5ZUqm2oXOBKG9R\r\nDvgLKiuQVIgnRPrh57o7njkCxtnrJg3fOqRTAIopODrZbpDd1WRpYGJMD1eRLzfj\r\nZfXcuDypb4hRZ4P4qm7W7OIuwjzmaDiG9uvf7SYn8oLaGNMaX9TmiaPVqBWH5BLO\r\nvtR+eRfq6LFpq/pyj8q7C8ODF3n6G8dhEXmScrkOn3QxWQUmlG6Fu5KItbJW72TD\r\niz/CflfPAgMBAAECggEACu+AmtpPafYIqcy7I5VWtrVLVsqnab/tugPULjWQg459\r\n/mtXRnKWf6xF3GOsZPouCo1dDMbtX8AJtRhYwiq0fRNRNfMyRETrE84cAFyv5gaM\r\n9JMPgnv2FMFU1Q/lCFhCbyiTbfEXkqxDsOOegjoxNEzP2V6TaMOl7M7PN5ltcGVH\r\njxG7mii3gj16czLX+R5XF8/exoEvrsA951gj8ZoetkRwBsPDgARgrlUr++CMd+pB\r\nPX2YvHkLulPRmjzYjSNG9KcK4IdIqVz3yCUDkBwi03Oj6BvTLLU93nj5VpVnrnJt\r\nAkDx4EFjz8wVZ5E2oS6UAbmsy/fUppVi1mrkLjXSQQKBgQDV6w29D581bV3nH/pT\r\n3xQEBUZdUk+PNvg+5nBC8mTz7MITAqe7qsI1oHsAkuW4FepucY4c0UEnskb6mu6m\r\nL7ohv+oc1ZKC/ERJs/xy2uHOfAjFNN2volB8A3D2EEhYJ/M1x8IlMXNhucWhUg2G\r\nSlAq//3yEXcoljBvNLarWH+j2wKBgQD09HiNfGL2vESicbTut1LPqTKwedl06I0B\r\nZvkpuL+qldeyfXXqu6+hU0NO6YTzVJToIM2LcfpbzNs1VIfA84f1pFUU+OhAahEt\r\nJFowhWRhDhXIQIYbZV8YPjiMv+pcOezZZZi6Qx9oytFBJ7sm8oC3UHzPCrIcrwym\r\nUMzJK9jYHQKBgB4zBMl//xXnzq3mUcytXYIDzJ84E4tAU2Nt3MNWvPHCptNQOKXB\r\nwZEYisTV+CA419OnrExdLjmQbXzLio1jh39kPIS9keVz/5/4DNeaFu6zi/lrMTCu\r\nVXZsdfIG8m+flDIvdTUS+hr9wuy3TLl8nDy1zv/xf0T3jvbkFjWyVLKpAoGBALZv\r\nZWGq5GHzMgLyQNkRvCFhWJlLBwQlNu92a9gA+u7njrAm9K2Qf2vdgWHCVfyMYCLK\r\nW4uhpd69If4EKN8yAW6Xp65o+0EOPiCq1GkS0AHg5aQxOjApPbvmi2N4g+mQUrBP\r\nFIKU/02i0FqAZsjJD8h3r5zb0G/Ah+FOiFbDy0qZAoGAAezuaIyUIpdlZnZiroOh\r\nji4CWx3mxTwWSC7HNm8e85v+QFv/p/aIrH9Xhm2KboLVWPUGugsvd1E/jQMhiDwk\r\nB7X1qlvbVpGvkE2nssP08uLpvfoUr53ONwRmaTEM5VvM150qY+dC5yn1bJSjcRjT\r\nKj460FDLWtMiX7uhKq1HkS8=\r\n-----END PRIVATE KEY-----\r\n```\r\n\r\nhear is the function\r\n\r\n\r\n```\r\npublic static String getSignedText(\r\n\t\tString text, String algorithm, PrivateKey privateKey) \r\n\t\t  throws UnsupportedEncodingException, NoSuchAlgorithmException, InvalidKeyException, SignatureException { \r\n\t  byte[] data = text.getBytes(&quot;UTF8&quot;); \r\n\t  Signature sig = Signature.getInstance(algorithm == null ? &quot;SHA256WITHRSA&quot; : algorithm); \r\n\t  sig.initSign(privateKey); \r\n\t  sig.update(data); \r\n\t  byte[] signatureBytes = sig.sign(); \r\n\t  return Base64.getEncoder().encodeToString(signatureBytes); \r\n}\r\n```\r\n\r\n\r\ni have tried some string to privatekey functions but non of them can convert the string key to privatekey type","title":"i have public key as a text file and want to give it to a function that accepts publickey not string","body":"<p>helo. any help can be hopeful please. it's about 1 month that i am tring to solve the problem.\ni have below private key by size 2048 and a function to sign some data.</p>\n<pre><code>-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDMsFHds+5f72yW\nhhzhCL8svzk7IAoSFZqPnTYoGNz8nN82sKwY5dhkB2x0Hw7dlJhs2V2+Y8nlS13E\nfQQVT3NofdPVbZdCnwzrzz4VsT/0Yhg10FXNwXRzk4QTECQWaz5ZUqm2oXOBKG9R\nDvgLKiuQVIgnRPrh57o7njkCxtnrJg3fOqRTAIopODrZbpDd1WRpYGJMD1eRLzfj\nZfXcuDypb4hRZ4P4qm7W7OIuwjzmaDiG9uvf7SYn8oLaGNMaX9TmiaPVqBWH5BLO\nvtR+eRfq6LFpq/pyj8q7C8ODF3n6G8dhEXmScrkOn3QxWQUmlG6Fu5KItbJW72TD\niz/CflfPAgMBAAECggEACu+AmtpPafYIqcy7I5VWtrVLVsqnab/tugPULjWQg459\n/mtXRnKWf6xF3GOsZPouCo1dDMbtX8AJtRhYwiq0fRNRNfMyRETrE84cAFyv5gaM\n9JMPgnv2FMFU1Q/lCFhCbyiTbfEXkqxDsOOegjoxNEzP2V6TaMOl7M7PN5ltcGVH\njxG7mii3gj16czLX+R5XF8/exoEvrsA951gj8ZoetkRwBsPDgARgrlUr++CMd+pB\nPX2YvHkLulPRmjzYjSNG9KcK4IdIqVz3yCUDkBwi03Oj6BvTLLU93nj5VpVnrnJt\nAkDx4EFjz8wVZ5E2oS6UAbmsy/fUppVi1mrkLjXSQQKBgQDV6w29D581bV3nH/pT\n3xQEBUZdUk+PNvg+5nBC8mTz7MITAqe7qsI1oHsAkuW4FepucY4c0UEnskb6mu6m\nL7ohv+oc1ZKC/ERJs/xy2uHOfAjFNN2volB8A3D2EEhYJ/M1x8IlMXNhucWhUg2G\nSlAq//3yEXcoljBvNLarWH+j2wKBgQD09HiNfGL2vESicbTut1LPqTKwedl06I0B\nZvkpuL+qldeyfXXqu6+hU0NO6YTzVJToIM2LcfpbzNs1VIfA84f1pFUU+OhAahEt\nJFowhWRhDhXIQIYbZV8YPjiMv+pcOezZZZi6Qx9oytFBJ7sm8oC3UHzPCrIcrwym\nUMzJK9jYHQKBgB4zBMl//xXnzq3mUcytXYIDzJ84E4tAU2Nt3MNWvPHCptNQOKXB\nwZEYisTV+CA419OnrExdLjmQbXzLio1jh39kPIS9keVz/5/4DNeaFu6zi/lrMTCu\nVXZsdfIG8m+flDIvdTUS+hr9wuy3TLl8nDy1zv/xf0T3jvbkFjWyVLKpAoGBALZv\nZWGq5GHzMgLyQNkRvCFhWJlLBwQlNu92a9gA+u7njrAm9K2Qf2vdgWHCVfyMYCLK\nW4uhpd69If4EKN8yAW6Xp65o+0EOPiCq1GkS0AHg5aQxOjApPbvmi2N4g+mQUrBP\nFIKU/02i0FqAZsjJD8h3r5zb0G/Ah+FOiFbDy0qZAoGAAezuaIyUIpdlZnZiroOh\nji4CWx3mxTwWSC7HNm8e85v+QFv/p/aIrH9Xhm2KboLVWPUGugsvd1E/jQMhiDwk\nB7X1qlvbVpGvkE2nssP08uLpvfoUr53ONwRmaTEM5VvM150qY+dC5yn1bJSjcRjT\nKj460FDLWtMiX7uhKq1HkS8=\n-----END PRIVATE KEY-----\n</code></pre>\n<p>hear is the function</p>\n<pre><code>public static String getSignedText(\n        String text, String algorithm, PrivateKey privateKey) \n          throws UnsupportedEncodingException, NoSuchAlgorithmException, InvalidKeyException, SignatureException { \n      byte[] data = text.getBytes(&quot;UTF8&quot;); \n      Signature sig = Signature.getInstance(algorithm == null ? &quot;SHA256WITHRSA&quot; : algorithm); \n      sig.initSign(privateKey); \n      sig.update(data); \n      byte[] signatureBytes = sig.sign(); \n      return Base64.getEncoder().encodeToString(signatureBytes); \n}\n</code></pre>\n<p>i have tried some string to privatekey functions but non of them can convert the string key to privatekey type</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":23054148,"reputation":46,"user_id":17170444,"display_name":"Artur Radiuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682790781,"creation_date":1682790781,"answer_id":76137621,"question_id":76137190,"body_markdown":"You can try something like this: \r\n\r\n```java \r\n        \r\nMap&lt;String, Double&gt; subjectToAveragesSum = averages.values().stream().flatMap(value -&gt; value.entrySet().stream())\r\n                .collect(Collectors.groupingBy(Map.Entry::getKey, Collectors.summingDouble(Map.Entry::getValue)));\r\n\r\n\r\n```","title":"the task for the stream. put in Map","body":"<p>You can try something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        \nMap&lt;String, Double&gt; subjectToAveragesSum = averages.values().stream().flatMap(value -&gt; value.entrySet().stream())\n                .collect(Collectors.groupingBy(Map.Entry::getKey, Collectors.summingDouble(Map.Entry::getValue)));\n\n\n</code></pre>\n"}],"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1682837265,"answer_count":1,"score":-3,"last_activity_date":1682790781,"creation_date":1682784566,"question_id":76137190,"body_markdown":"I need to add up all the averages for each subject. As a result, I want to find out which subject is the easiest. I add up all the average values in physics , mathematics, History and as a result I will get a value of type String\r\n//Ann Mathematics = 0.0 + Kate Mathematics = 1.66 + Bob Mathematics 2.33//3.99 //Ann History= 2.0 + Kate History= 2.33 + Bob History 3.66//7.99 //Ann Physics= 0.33 + Kate Physics= 1.0 + Bob Physics 2.66//3.99 I got the average for each student&#39;s subject, now I have to add them up, I don&#39;t understand how. Result:String lightestItem = ... // History \r\n\r\n\r\n    class Student3_1 {\r\n    private String name;\r\n    private Map&lt;String, List&lt;Integer&gt;&gt; marks;\r\n\r\n    public Student3_1(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\r\n        this.name = name;\r\n        this.marks = marks;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\r\n        return marks;\r\n    }\r\n\r\n    public static Function&lt;Map&lt;String, List&lt;Integer&gt;&gt;, Map&lt;String, Double&gt;&gt; averageBySubject = marks -&gt; \r\n        marks.entrySet().stream().collect(Collectors.toMap(\r\n        entry -&gt; entry.getKey(), \r\n        entry -&gt; entry.getValue().stream().mapToDouble(Integer::doubleValue).average().getAsDouble()));\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\r\n        markAnn.put(&quot;Physics&quot;, List.of(0, 0, 1));\r\n        markAnn.put(&quot;Mathematics&quot;, List.of(0, 0, 0));\r\n        markAnn.put(&quot;History&quot;, List.of(3, 3, 0));\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\r\n        markKate.put(&quot;Physics&quot;, List.of(1, 2, 0));\r\n        markKate.put(&quot;Mathematics&quot;, List.of(5, 0, 0));\r\n        markKate.put(&quot;History&quot;, List.of(0, 2, 5));\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markBob = new HashMap&lt;&gt;();\r\n        markBob.put(&quot;Physics&quot;, List.of(3, 2, 3));\r\n        markBob.put(&quot;Mathematics&quot;, List.of(2, 2, 3));\r\n        markBob.put(&quot;History&quot;, List.of(4, 4, 3));\r\n\r\n\r\n        Student3_1[] students = {new Student3_1(&quot;Ann&quot;, markAnn),\r\n        new Student3_1(&quot;Kate&quot;, markKate),\r\n        new Student3_1(&quot;Bob&quot;, markBob)\r\n        };\r\n        Map&lt;String, Map&lt;String, Double&gt;&gt; averages = Arrays.stream(students)\r\n        .collect(Collectors.toMap(Student3_1::getName,\r\n        student -&gt; averageBySubject.apply(student.getMarks())));\r\n        out.println(averages);\r\n\r\n\r\n        Map&lt;String, Double&gt; map3 = averages.entrySet().stream()\r\n        .collect(Collectors.toMap(Map.Entry::getKey,\r\n        students))\r\n        String lightestItem = //history\r\n    }\r\n}","title":"the task for the stream. put in Map","body":"<p>I need to add up all the averages for each subject. As a result, I want to find out which subject is the easiest. I add up all the average values in physics , mathematics, History and as a result I will get a value of type String\n//Ann Mathematics = 0.0 + Kate Mathematics = 1.66 + Bob Mathematics 2.33//3.99 //Ann History= 2.0 + Kate History= 2.33 + Bob History 3.66//7.99 //Ann Physics= 0.33 + Kate Physics= 1.0 + Bob Physics 2.66//3.99 I got the average for each student's subject, now I have to add them up, I don't understand how. Result:String lightestItem = ... // History</p>\n<pre><code>class Student3_1 {\nprivate String name;\nprivate Map&lt;String, List&lt;Integer&gt;&gt; marks;\n\npublic Student3_1(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\n    this.name = name;\n    this.marks = marks;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\n    return marks;\n}\n\npublic static Function&lt;Map&lt;String, List&lt;Integer&gt;&gt;, Map&lt;String, Double&gt;&gt; averageBySubject = marks -&gt; \n    marks.entrySet().stream().collect(Collectors.toMap(\n    entry -&gt; entry.getKey(), \n    entry -&gt; entry.getValue().stream().mapToDouble(Integer::doubleValue).average().getAsDouble()));\n\n\npublic static void main(String[] args) {\n\n    Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\n    markAnn.put(&quot;Physics&quot;, List.of(0, 0, 1));\n    markAnn.put(&quot;Mathematics&quot;, List.of(0, 0, 0));\n    markAnn.put(&quot;History&quot;, List.of(3, 3, 0));\n\n    Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\n    markKate.put(&quot;Physics&quot;, List.of(1, 2, 0));\n    markKate.put(&quot;Mathematics&quot;, List.of(5, 0, 0));\n    markKate.put(&quot;History&quot;, List.of(0, 2, 5));\n\n    Map&lt;String, List&lt;Integer&gt;&gt; markBob = new HashMap&lt;&gt;();\n    markBob.put(&quot;Physics&quot;, List.of(3, 2, 3));\n    markBob.put(&quot;Mathematics&quot;, List.of(2, 2, 3));\n    markBob.put(&quot;History&quot;, List.of(4, 4, 3));\n\n\n    Student3_1[] students = {new Student3_1(&quot;Ann&quot;, markAnn),\n    new Student3_1(&quot;Kate&quot;, markKate),\n    new Student3_1(&quot;Bob&quot;, markBob)\n    };\n    Map&lt;String, Map&lt;String, Double&gt;&gt; averages = Arrays.stream(students)\n    .collect(Collectors.toMap(Student3_1::getName,\n    student -&gt; averageBySubject.apply(student.getMarks())));\n    out.println(averages);\n\n\n    Map&lt;String, Double&gt; map3 = averages.entrySet().stream()\n    .collect(Collectors.toMap(Map.Entry::getKey,\n    students))\n    String lightestItem = //history\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","certificate","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1682778877,"post_id":76136332,"comment_id":134270543,"body_markdown":"You&#39;re likely closing your document or your COSStream before saving. If it happens when saving then open the incomplete result PDF in NOTEPAD++ and look at the end. That&#39;s the COSStream that makes the problem.","body":"You&#39;re likely closing your document or your COSStream before saving. If it happens when saving then open the incomplete result PDF in NOTEPAD++ and look at the end. That&#39;s the COSStream that makes the problem."},{"owner":{"account_id":24771967,"reputation":33,"user_id":18655652,"display_name":"Tanmay Sharma"},"score":0,"creation_date":1682779865,"post_id":76136332,"comment_id":134270663,"body_markdown":"@TilmanHausherr as mentioned in code, I am not closing the the document or COSStream. moreover that error is coming intermittently. If I might have closing the document or COSStream, then that error should come every time. Might be gc closing the document. Is there way I can handle that?","body":"@TilmanHausherr as mentioned in code, I am not closing the the document or COSStream. moreover that error is coming intermittently. If I might have closing the document or COSStream, then that error should come every time. Might be gc closing the document. Is there way I can handle that?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1682800317,"post_id":76136332,"comment_id":134273183,"body_markdown":"We don&#39;t see what you did with the `PDDocument` before calling `addSignature`. Did you add objects from another `PDDocument` to it?","body":"We don&#39;t see what you did with the <code>PDDocument</code> before calling <code>addSignature</code>. Did you add objects from another <code>PDDocument</code> to it?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1682867160,"post_id":76136332,"comment_id":134279228,"body_markdown":"Another possible explanation is that java somehow loses the document reference, or thinks it does. Make sure you have installed the latest version. jdk8 is at 1.8.0_371.","body":"Another possible explanation is that java somehow loses the document reference, or thinks it does. Make sure you have installed the latest version. jdk8 is at 1.8.0_371."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1682867286,"post_id":76136332,"comment_id":134279246,"body_markdown":"Please add more of the stack trace.","body":"Please add more of the stack trace."},{"owner":{"account_id":24771967,"reputation":33,"user_id":18655652,"display_name":"Tanmay Sharma"},"score":1,"creation_date":1682938984,"post_id":76136332,"comment_id":134286673,"body_markdown":"Issue was due to the garbage collection in java. I was creating local object of signature options in one method and was adding it to the document. Since signature option was local object, was getting automatically closed due to garbage collection. I created signature options at root method and close it after all the execution gets completed","body":"Issue was due to the garbage collection in java. I was creating local object of signature options in one method and was adding it to the document. Since signature option was local object, was getting automatically closed due to garbage collection. I created signature options at root method and close it after all the execution gets completed"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1682950751,"post_id":76136332,"comment_id":134288834,"body_markdown":"Please answer the question yourself to help others.","body":"Please answer the question yourself to help others."}],"owner":{"account_id":24771967,"reputation":33,"user_id":18655652,"display_name":"Tanmay Sharma"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682790481,"creation_date":1682772856,"question_id":76136332,"body_markdown":"I am trying to perform signing using pdfbox. Before calling saveIncrementalForExternalSigning method, I am adding validation information. \r\n        \r\n\r\n    \r\n\r\n        public ByteArrayOutputStream addSignature(PDDocument document, PDSignature signature, InputStream inputStream,\r\n                                                  SealCSCCredentialOptions cscCredentialOptions, Certificate[] certificateChain, String signatureFormat)\r\n                throws Exception {\r\n    \r\n    \r\n            \r\n    \r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n            ExternalSigningSupport externalSigningSupport = null;\r\n            try {\r\n                externalSigningSupport = document.saveIncrementalForExternalSigning(outputStream);\r\n            } catch (IOException e)\r\n            {\r\n                e.printStackTrace();\r\n                LOG.error(&quot;Request ID: {} Error occurred: &quot; + e.getMessage(), LoggerUtils.getFromThreadContext(&quot;requestId&quot;));\r\n                throw e;\r\n            }\r\n    \r\n            CMSSignedData signedData = generateCMSSignedData(certificateChain, externalSigningSupport, inputStream,\r\n                    cscCredentialOptions, signatureFormat);\r\n    \r\n            byte[] cmsSignature = signedData.getEncoded();\r\n            externalSigningSupport.setSignature(cmsSignature);\r\n            \r\n            return outputStream;\r\n        }\r\n    \r\n    \r\n\r\nBut I am getting intermittent error while calling `externalSigningSupport = document.saveIncrementalForExternalSigning(outputStream);`\r\n**COSStream has been closed and cannot be read. Perhaps its enclosing PDDocument has been closed?**\r\n\r\nI am getting this error intermittently. sometimes it&#39;s giving that error. I am getting successful response in some of the case. \r\n\r\n\r\nCan someone please help to figure out what I am doing wrong and why I am getting that error intermittently?\r\n","title":"PDFBOX: COSStream has been closed and cannot be read. Perhaps its enclosing PDDocument has been closed?","body":"<p>I am trying to perform signing using pdfbox. Before calling saveIncrementalForExternalSigning method, I am adding validation information.</p>\n<pre><code>    public ByteArrayOutputStream addSignature(PDDocument document, PDSignature signature, InputStream inputStream,\n                                              SealCSCCredentialOptions cscCredentialOptions, Certificate[] certificateChain, String signatureFormat)\n            throws Exception {\n\n\n        \n\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        ExternalSigningSupport externalSigningSupport = null;\n        try {\n            externalSigningSupport = document.saveIncrementalForExternalSigning(outputStream);\n        } catch (IOException e)\n        {\n            e.printStackTrace();\n            LOG.error(&quot;Request ID: {} Error occurred: &quot; + e.getMessage(), LoggerUtils.getFromThreadContext(&quot;requestId&quot;));\n            throw e;\n        }\n\n        CMSSignedData signedData = generateCMSSignedData(certificateChain, externalSigningSupport, inputStream,\n                cscCredentialOptions, signatureFormat);\n\n        byte[] cmsSignature = signedData.getEncoded();\n        externalSigningSupport.setSignature(cmsSignature);\n        \n        return outputStream;\n    }\n</code></pre>\n<p>But I am getting intermittent error while calling <code>externalSigningSupport = document.saveIncrementalForExternalSigning(outputStream);</code>\n<strong>COSStream has been closed and cannot be read. Perhaps its enclosing PDDocument has been closed?</strong></p>\n<p>I am getting this error intermittently. sometimes it's giving that error. I am getting successful response in some of the case.</p>\n<p>Can someone please help to figure out what I am doing wrong and why I am getting that error intermittently?</p>\n"},{"tags":["java","for-loop","netbeans-8"],"comments":[{"owner":{"account_id":4698323,"reputation":6170,"user_id":3802631,"accept_rate":86,"display_name":"Jan B."},"score":3,"creation_date":1502051194,"post_id":45536259,"comment_id":78032645,"body_markdown":"Please paste your complete (formatted) method","body":"Please paste your complete (formatted) method"},{"owner":{"account_id":8152242,"reputation":1031,"user_id":6138873,"display_name":"jeanr"},"score":0,"creation_date":1502051641,"post_id":45536259,"comment_id":78032744,"body_markdown":"Why do you assign `i = 0` after your `if`, this is the reason why you have an infinite loop","body":"Why do you assign <code>i = 0</code> after your <code>if</code>, this is the reason why you have an infinite loop"},{"owner":{"account_id":1925484,"reputation":5949,"user_id":1736047,"accept_rate":80,"display_name":"STLDev"},"score":0,"creation_date":1502053126,"post_id":45536259,"comment_id":78033197,"body_markdown":"You would do well to learn about the modulus (or modulo) operator. It has direct application in problems such as this.","body":"You would do well to learn about the modulus (or modulo) operator. It has direct application in problems such as this."}],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502052914,"creation_date":1502051755,"answer_id":45536375,"question_id":45536259,"body_markdown":"Your outer loop keeps looping for as long as `i` is less than or equal to `12`.  But once it reaches `12`, you set it to zero.  So, it is always less than or equal to `12`. That&#39;s why it keeps looping forever. \r\n\r\nThen your inner loops all the way from 0 to 144 inches, without ever checking `i`, and therefore without printing a blank line until you have reached the 144th inch.\r\n\r\nThe way I see your code, it should be printing a blank line after `144 * 12 = 1728` inches, maybe you did not notice it?\r\n\r\nSo, long story short, you need to combine your outer `for( i` loop and your inner `for( inch` loop into one loop.\r\n\r\nI am not going to say anymore, so as not to do your homework for you.\r\n","title":"To display conversions of inch to meter. Output a blank line every 12 inches. (One meter equals approximately 39.37 inches.)","body":"<p>Your outer loop keeps looping for as long as <code>i</code> is less than or equal to <code>12</code>.  But once it reaches <code>12</code>, you set it to zero.  So, it is always less than or equal to <code>12</code>. That's why it keeps looping forever. </p>\n\n<p>Then your inner loops all the way from 0 to 144 inches, without ever checking <code>i</code>, and therefore without printing a blank line until you have reached the 144th inch.</p>\n\n<p>The way I see your code, it should be printing a blank line after <code>144 * 12 = 1728</code> inches, maybe you did not notice it?</p>\n\n<p>So, long story short, you need to combine your outer <code>for( i</code> loop and your inner <code>for( inch</code> loop into one loop.</p>\n\n<p>I am not going to say anymore, so as not to do your homework for you.</p>\n"},{"tags":[],"owner":{"account_id":19268093,"reputation":1,"user_id":14082650,"display_name":"Pranab Acharya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682739859,"creation_date":1682696437,"answer_id":76131181,"question_id":45536259,"body_markdown":" 1. **Question**\r\n    Print a conversion table of inches to meters. Display 12 feet of conversions, inch by inch .Output a blank line every 12 inches.(One meter equals to approximately 39.37 inches.)\r\n 2. **Explanation**\r\n    As per question output must be displayed upto 13 feet i.e 144 inches. on Every 12 inches it prints a blank line too `if(inch % 12 == 0)`\r\n\r\n\t\t//13 feet = 144 inches\r\n\t\t\r\n\t\tdouble meter;\r\n\t\tfor(int inch = 1; inch &lt;= 144; inch++){\r\n\t\t    meter = inch * 0.0254;\r\n\t\t    System.out.println(inch+&quot; inch = &quot;+ String.format(&quot;%.2f&quot;, meter)+&quot; meter&quot;);\r\n            //Here am checking for every 12 inches\r\n\t\t    if(inch % 12 == 0){\r\n\t\t        System.out.println();\r\n\t\t    }\r\n\t\t}\r\n\r\n[This is the output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QF5Wd.png","title":"To display conversions of inch to meter. Output a blank line every 12 inches. (One meter equals approximately 39.37 inches.)","body":"<ol>\n<li><p><strong>Question</strong>\nPrint a conversion table of inches to meters. Display 12 feet of conversions, inch by inch .Output a blank line every 12 inches.(One meter equals to approximately 39.37 inches.)</p>\n</li>\n<li><p><strong>Explanation</strong>\nAs per question output must be displayed upto 13 feet i.e 144 inches. on Every 12 inches it prints a blank line too <code>if(inch % 12 == 0)</code></p>\n<pre><code>//13 feet = 144 inches\n\ndouble meter;\nfor(int inch = 1; inch &lt;= 144; inch++){\n    meter = inch * 0.0254;\n    System.out.println(inch+&quot; inch = &quot;+ String.format(&quot;%.2f&quot;, meter)+&quot; meter&quot;);\n    //Here am checking for every 12 inches\n    if(inch % 12 == 0){\n        System.out.println();\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/QF5Wd.png\" rel=\"nofollow noreferrer\">This is the output</a></p>\n"}],"owner":{"account_id":11496743,"reputation":1,"user_id":8425814,"display_name":"Adjmo3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1682841766,"answer_count":2,"score":-4,"last_activity_date":1682790200,"creation_date":1502050996,"question_id":45536259,"body_markdown":"I am new to Java and programming itself, please excuse me if I did a grave mistake. I simply want to print a line every 12 inches. i.e after 12, 24, 36, 48 inches and so on, until 144 inches, print a line. \r\n\r\nWhat I did:\r\n\r\n    if(i==12) \r\n       System.out.println();\r\n\r\nBut the blank line does not appear and my code just keeps on running forever.\r\n\r\n    public class Apple {\r\n        public static void main(String[] args){\r\n        double meter;\r\n        int inch = 1;\r\n        \r\n        meter = inch/39.37;\r\n        \r\n        for(int i = 0;i &lt;= 12 ; i++){\r\n            for(inch =0;inch&lt;=144;inch++){\r\n            meter = inch/39.37;\r\n            System.out.println(inch + &quot;  inch =  &quot; + meter + &quot;  meters&quot;);\r\n            }\r\n            if(i==12)\r\n                System.out.println();\r\n                i = 0; /*To reinitialize counter so that it prints a line after each 12 inches*/\r\n","title":"To display conversions of inch to meter. Output a blank line every 12 inches. (One meter equals approximately 39.37 inches.)","body":"<p>I am new to Java and programming itself, please excuse me if I did a grave mistake. I simply want to print a line every 12 inches. i.e after 12, 24, 36, 48 inches and so on, until 144 inches, print a line. </p>\n\n<p>What I did:</p>\n\n<pre><code>if(i==12) \n   System.out.println();\n</code></pre>\n\n<p>But the blank line does not appear and my code just keeps on running forever.</p>\n\n<pre><code>public class Apple {\n    public static void main(String[] args){\n    double meter;\n    int inch = 1;\n\n    meter = inch/39.37;\n\n    for(int i = 0;i &lt;= 12 ; i++){\n        for(inch =0;inch&lt;=144;inch++){\n        meter = inch/39.37;\n        System.out.println(inch + \"  inch =  \" + meter + \"  meters\");\n        }\n        if(i==12)\n            System.out.println();\n            i = 0; /*To reinitialize counter so that it prints a line after each 12 inches*/\n</code></pre>\n"},{"tags":["java","spring-jdbc","jdbctemplate"],"answers":[{"tags":[],"owner":{"account_id":7338382,"reputation":4231,"user_id":5588910,"display_name":"Naruto"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1682789709,"creation_date":1449810452,"answer_id":34216504,"question_id":34216124,"body_markdown":"Both queryForInt() and queryForLong() are deprecated since version 3.2.2 (correct me if mistake). To fix it, replace the code with queryForObject(String, Class).\r\n\r\n     this.jdbcTemplate.queryForObject(\r\n                        sql, Integer.class, \r\n                        parameter1, parameter2);\r\n\r\n\r\nAs per [spring docs][1]\r\n&gt; int\tqueryForInt(String sql, Map&lt;String,?&gt; args)\r\n\r\n&gt; **Deprecated**. \r\nQuery for an int passing in a SQL query using the named parameter support provided by the NamedParameterJdbcTemplate and a map containing the arguments.\r\n&gt;\r\n\r\n&gt; int\tqueryForInt(String sql, Object... args)\r\n&gt; **Deprecated**. \r\n\r\n&gt; Query for an int passing in a SQL query using the standard &#39;?&#39; placeholders for parameters and a variable number of arguments.\r\nint\tqueryForInt(String sql, SqlParameterSource args)\r\nDeprecated. \r\nQuery for an int passing in a SQL query using the named parameter support provided by the NamedParameterJdbcTemplate and a SqlParameterSource containing the arguments.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/4.1.4.RELEASE/javadoc-api/org/springframework/jdbc/core/simple/SimpleJdbcTemplate.html","title":"jdbctemplate count queryForInt and pass multiple parameters","body":"<p>Both queryForInt() and queryForLong() are deprecated since version 3.2.2 (correct me if mistake). To fix it, replace the code with queryForObject(String, Class).</p>\n<pre><code> this.jdbcTemplate.queryForObject(\n                    sql, Integer.class, \n                    parameter1, parameter2);\n</code></pre>\n<p>As per <a href=\"http://docs.spring.io/spring/docs/4.1.4.RELEASE/javadoc-api/org/springframework/jdbc/core/simple/SimpleJdbcTemplate.html\" rel=\"nofollow noreferrer\">spring docs</a></p>\n<blockquote>\n<p>int   queryForInt(String sql, Map&lt;String,?&gt; args)</p>\n</blockquote>\n<blockquote>\n<p><strong>Deprecated</strong>.\nQuery for an int passing in a SQL query using the named parameter support provided by the NamedParameterJdbcTemplate and a map containing the arguments.</p>\n</blockquote>\n<blockquote>\n<p>int   queryForInt(String sql, Object... args)\n<strong>Deprecated</strong>.</p>\n</blockquote>\n<blockquote>\n<p>Query for an int passing in a SQL query using the standard '?' placeholders for parameters and a variable number of arguments.\nint queryForInt(String sql, SqlParameterSource args)\nDeprecated.\nQuery for an int passing in a SQL query using the named parameter support provided by the NamedParameterJdbcTemplate and a SqlParameterSource containing the arguments.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16279812,"reputation":331,"user_id":11756101,"display_name":"chirayu joshi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1653048994,"creation_date":1653048994,"answer_id":72318776,"question_id":34216124,"body_markdown":"As per the current version of Spring Boot, \r\n\r\n     this.jdbcTemplate.queryForObject(\r\n                    sql, new Object[] { parameter1,parameter2 }, Integer.class);\r\n\r\nis **deprecated**. So try the below given code:\r\n\r\n     this.jdbcTemplate.queryForObject(\r\n                    sql, Integer.class, new Object[] { parameter1,parameter2 });\r\n\r\nRefer [this][1] Spring document.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html","title":"jdbctemplate count queryForInt and pass multiple parameters","body":"<p>As per the current version of Spring Boot,</p>\n<pre><code> this.jdbcTemplate.queryForObject(\n                sql, new Object[] { parameter1,parameter2 }, Integer.class);\n</code></pre>\n<p>is <strong>deprecated</strong>. So try the below given code:</p>\n<pre><code> this.jdbcTemplate.queryForObject(\n                sql, Integer.class, new Object[] { parameter1,parameter2 });\n</code></pre>\n<p>Refer <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\" rel=\"noreferrer\">this</a> Spring document.</p>\n"}],"owner":{"account_id":7346167,"reputation":381,"user_id":5593777,"accept_rate":50,"display_name":"Shijin Bhaskar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59736,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":34216504,"answer_count":2,"score":26,"last_activity_date":1682789709,"creation_date":1449808000,"question_id":34216124,"body_markdown":"How can I pass multiple parameters in `jdbcTemplate` `queryForInt` to get the count. I have tried this,\r\n\r\n    Integer count = this.jdbcTemplate\r\n        .queryForInt(&quot;select count(name) from table_name where parameter1 = ? and parameter2 = ?&quot;, new Object[]{parameter1,parameter2});\r\n\r\nBut its showing `queryForInt` as strikes.  ","title":"jdbctemplate count queryForInt and pass multiple parameters","body":"<p>How can I pass multiple parameters in <code>jdbcTemplate</code> <code>queryForInt</code> to get the count. I have tried this,</p>\n\n<pre><code>Integer count = this.jdbcTemplate\n    .queryForInt(\"select count(name) from table_name where parameter1 = ? and parameter2 = ?\", new Object[]{parameter1,parameter2});\n</code></pre>\n\n<p>But its showing <code>queryForInt</code> as strikes.  </p>\n"},{"tags":["java","spring","spring-boot","smb"],"comments":[{"owner":{"account_id":6500168,"reputation":930,"user_id":5116356,"accept_rate":100,"display_name":"luca.vercelli"},"score":0,"creation_date":1682789181,"post_id":76137421,"comment_id":134271766,"body_markdown":"I am not sure I understood what you are trying to do. Do you want create a SMB server or client? AFAIK, Spring SMB/CIFS integration allows you to connect to an existing shared folder, and not to create a local SMB shared folder.","body":"I am not sure I understood what you are trying to do. Do you want create a SMB server or client? AFAIK, Spring SMB/CIFS integration allows you to connect to an existing shared folder, and not to create a local SMB shared folder."},{"owner":{"account_id":28456326,"reputation":21,"user_id":21773685,"display_name":"Max"},"score":0,"creation_date":1682791981,"post_id":76137421,"comment_id":134272124,"body_markdown":"Thanks for your comment. I want to provide folders to be accessable via SMB. This programm will run on a linux system. I want to provide specific locations to be accesssible for certain users.","body":"Thanks for your comment. I want to provide folders to be accessable via SMB. This programm will run on a linux system. I want to provide specific locations to be accesssible for certain users."}],"answers":[{"tags":[],"owner":{"account_id":17774929,"reputation":1193,"user_id":12907518,"display_name":"SteinGaming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682789542,"creation_date":1682789542,"answer_id":76137539,"question_id":76137421,"body_markdown":"I don&#39;t know much about Springboot, but seems like this is the cause:\r\n```\r\nCaused by: java.net.UnknownHostException: myHost\r\n```\r\n\r\nYou don&#39;t specify a variable, but a literal string, which is a invalid address. You should use something like `&quot;127.0.0.1&quot;`.\r\n\r\nThat is the same with the other configurations, except the port:\r\n```\r\nsmbSession.setHost(&quot;myHost&quot;);\r\nsmbSession.setPort(445);\r\nsmbSession.setDomain(&quot;myDomain&quot;);\r\nsmbSession.setUsername(&quot;myUser&quot;);\r\nsmbSession.setPassword(&quot;myPassword&quot;);\r\nsmbSession.setShareAndDir(&quot;myShareAndDir&quot;);\r\n```","title":"How to setup a simple SMB Server with Java Spring Boot?","body":"<p>I don't know much about Springboot, but seems like this is the cause:</p>\n<pre><code>Caused by: java.net.UnknownHostException: myHost\n</code></pre>\n<p>You don't specify a variable, but a literal string, which is a invalid address. You should use something like <code>&quot;127.0.0.1&quot;</code>.</p>\n<p>That is the same with the other configurations, except the port:</p>\n<pre><code>smbSession.setHost(&quot;myHost&quot;);\nsmbSession.setPort(445);\nsmbSession.setDomain(&quot;myDomain&quot;);\nsmbSession.setUsername(&quot;myUser&quot;);\nsmbSession.setPassword(&quot;myPassword&quot;);\nsmbSession.setShareAndDir(&quot;myShareAndDir&quot;);\n</code></pre>\n"}],"owner":{"account_id":28456326,"reputation":21,"user_id":21773685,"display_name":"Max"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":983,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1682789542,"creation_date":1682788121,"question_id":76137421,"body_markdown":"I have a fresh Spring Boot Project. I want to setup a simple SMB Server, which I can connect to with my Windows Explorer. I simply want to share one folder and be able to connect to the server with a set username and password. The folder I want to share is `D:\\smb-files\\folder1` .\r\n\r\nI configured a SMC Configuration:\r\n\r\n```\r\npackage com.example.smb;\r\n\r\nimport java.io.File;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.integration.annotation.Gateway;\r\nimport org.springframework.integration.annotation.MessagingGateway;\r\nimport org.springframework.integration.dsl.IntegrationFlow;\r\nimport org.springframework.integration.dsl.Pollers;\r\nimport org.springframework.integration.file.FileHeaders;\r\nimport org.springframework.integration.file.support.FileExistsMode;\r\nimport org.springframework.integration.smb.dsl.Smb;\r\nimport org.springframework.integration.smb.session.SmbSessionFactory;\r\n\r\nimport jcifs.DialectVersion;\r\n\r\n@Configuration\r\npublic class SmbConfig {\r\n\t\r\n\tpublic static final String REMOTE_DIRECTORY = &quot;folder1&quot;;\r\n\r\n\t@Bean\r\n    public SmbSessionFactory smbSessionFactory() {\r\n        SmbSessionFactory smbSession = new SmbSessionFactory();\r\n        smbSession.setHost(&quot;myHost&quot;);\r\n        smbSession.setPort(445);\r\n        smbSession.setDomain(&quot;myDomain&quot;);\r\n        smbSession.setUsername(&quot;myUser&quot;);\r\n        smbSession.setPassword(&quot;myPassword&quot;);\r\n        smbSession.setShareAndDir(&quot;myShareAndDir&quot;);\r\n        smbSession.setSmbMinVersion(DialectVersion.SMB210);\r\n        smbSession.setSmbMaxVersion(DialectVersion.SMB311);\r\n        return smbSession;\r\n    }\r\n\r\n\t@Bean\r\n    public IntegrationFlow smbInboundFlow() {\r\n\t\t\r\n        return IntegrationFlow\r\n            .from(Smb.inboundAdapter(smbSessionFactory())\r\n                    .preserveTimestamp(true)\r\n                    .remoteDirectory(REMOTE_DIRECTORY)\r\n                    .regexFilter(&quot;.*\\\\.txt$&quot;)\r\n                    .localFilename(f -&gt; f.toUpperCase() + &quot;.a&quot;)\r\n                    .localDirectory(new File(&quot;d:/smb-files&quot;)),\r\n                        e -&gt; e.id(&quot;smbInboundAdapter&quot;)\r\n                    .autoStartup(true)\r\n                    .poller(Pollers.fixedDelay(5000)))\r\n            .handle(m -&gt; System.out.println(m.getPayload()))\r\n            .get();\r\n    }\r\n\t\r\n\t@Bean\r\n    public IntegrationFlow smbOutboundFlow() {\r\n        return IntegrationFlow.from(&quot;toSmbChannel&quot;)\r\n                .handle(Smb.outboundAdapter(smbSessionFactory(), FileExistsMode.REPLACE)\r\n                        .useTemporaryFileName(false)\r\n                        .fileNameExpression(&quot;headers[&#39;&quot; + FileHeaders.FILENAME + &quot;&#39;]&quot;)\r\n                        .remoteDirectory(REMOTE_DIRECTORY)\r\n                ).get();\r\n    }\r\n\r\n    @MessagingGateway\r\n    public interface MyGateway {\r\n\r\n         @Gateway(requestChannel = &quot;toSmbChannel&quot;)\r\n         void sendToSmb(File file);\r\n    }\r\n}\r\n```\r\n\r\nI tried to stick as close to [this Spring Documentation](https://docs.spring.io/spring-integration/docs/current/reference/html/smb.html#smb) as possible. I added a global String &quot;REMOTE_DIRECTORY&quot; and changed the localDirectory to &quot;`d:/smb-files`&quot;. (I created this directory on my disk and even tested to write a simple file to the directory -\\&gt; it worked). I created a folder within `smb-files` called `folder1`.  \r\nI added the following dependency to the `pom.xml` :\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-integration-smb&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI configured Spring Integrations to log on DEBUG level (application.properties:\r\n\r\n```\r\nlogging.level.org.springframework.integration=DEBUG\r\n```\r\n\r\n# Error:\r\n\r\nIn Short: `Problem occurred while synchronizing &#39;folder1&#39; to local directory`\r\n\r\nLog of the application:\r\n\r\n```\r\n[payload=org.springframework.messaging.MessagingException: Problem occurred while synchronizing &#39;folder1&#39; to local directory, headers={id=8a317e74-0c7e-129e-c7b2-e9a7a73a7be5, timestamp=1682786110723}]\r\n2023-04-29T18:35:10.724+02:00 DEBUG 4300 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : bean &#39;_org.springframework.integration.errorLogger.handler&#39; for component &#39;_org.springframework.integration.errorLogger&#39; received message: ErrorMessage [payload=org.springframework.messaging.MessagingException: Problem occurred while synchronizing &#39;folder1&#39; to local directory, headers={id=8a317e74-0c7e-129e-c7b2-e9a7a73a7be5, timestamp=1682786110723}]\r\n2023-04-29T18:35:10.725+02:00 ERROR 4300 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : org.springframework.messaging.MessagingException: Problem occurred while synchronizing &#39;folder1&#39; to local directory\r\n\tat org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer.synchronizeToLocalDirectory(AbstractInboundFileSynchronizer.java:348)\r\n\tat org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizingMessageSource.doReceive(AbstractInboundFileSynchronizingMessageSource.java:267)\r\n\tat org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizingMessageSource.doReceive(AbstractInboundFileSynchronizingMessageSource.java:69)\r\n\tat org.springframework.integration.endpoint.AbstractFetchLimitingMessageSource.doReceive(AbstractFetchLimitingMessageSource.java:47)\r\n\tat org.springframework.integration.endpoint.AbstractMessageSource.receive(AbstractMessageSource.java:142)\r\n\tat org.springframework.integration.endpoint.SourcePollingChannelAdapter.receiveMessage(SourcePollingChannelAdapter.java:212)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:443)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:412)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\r\n\tat org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\r\n\tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n\tat org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.springframework.messaging.MessagingException: Failed to execute on session\r\n\tat org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:461)\r\n\tat org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer.synchronizeToLocalDirectory(AbstractInboundFileSynchronizer.java:341)\r\n\t... 20 more\r\nCaused by: java.lang.IllegalStateException: Failed to create session.\r\n\tat org.springframework.integration.smb.session.SmbSessionFactory.getSession(SmbSessionFactory.java:65)\r\n\tat org.springframework.integration.smb.session.SmbSessionFactory.getSession(SmbSessionFactory.java:39)\r\n\tat org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:447)\r\n\t... 21 more\r\nCaused by: java.io.IOException: Unable to initialize share: smb://myDomain;myUser:myPassword@myHost:445/myShareAndDir\r\n\tat org.springframework.integration.smb.session.SmbShare.init(SmbShare.java:113)\r\n\tat org.springframework.integration.smb.session.SmbSessionFactory.createSession(SmbSessionFactory.java:86)\r\n\tat org.springframework.integration.smb.session.SmbSessionFactory.getSession(SmbSessionFactory.java:62)\r\n\t... 23 more\r\nCaused by: jcifs.smb.SmbException: Failed to connect to server\r\n\tat jcifs.smb.SmbTreeConnection.connectWrapException(SmbTreeConnection.java:429)\r\n\tat jcifs.smb.SmbFile.ensureTreeConnected(SmbFile.java:573)\r\n\tat jcifs.smb.SmbFile.exists(SmbFile.java:873)\r\n\tat org.springframework.integration.smb.session.SmbShare.init(SmbShare.java:98)\r\n\t... 25 more\r\nCaused by: java.net.UnknownHostException: myHost\r\n\tat jcifs.netbios.NameServiceClientImpl.getAllByName(NameServiceClientImpl.java:1054)\r\n\tat jcifs.netbios.NameServiceClientImpl.getAllByName(NameServiceClientImpl.java:55)\r\n\tat jcifs.smb.SmbTransportPoolImpl.getSmbTransport(SmbTransportPoolImpl.java:173)\r\n\tat jcifs.smb.SmbTransportPoolImpl.getSmbTransport(SmbTransportPoolImpl.java:48)\r\n\tat jcifs.smb.SmbTreeConnection.connectHost(SmbTreeConnection.java:565)\r\n\tat jcifs.smb.SmbTreeConnection.connectHost(SmbTreeConnection.java:489)\r\n\tat jcifs.smb.SmbTreeConnection.connect(SmbTreeConnection.java:465)\r\n\tat jcifs.smb.SmbTreeConnection.connectWrapException(SmbTreeConnection.java:426)\r\n\t... 28 more\r\n\r\n2023-04-29T18:35:10.725+02:00 DEBUG 4300 --- [   scheduling-1] o.s.i.channel.PublishSubscribeChannel    : postSend (sent=true) on channel &#39;bean &#39;errorChannel&#39;&#39;, message: ErrorMessage [payload=org.springframework.messaging.MessagingException: Problem occurred while synchronizing &#39;folder1&#39; to local directory, headers={id=8a317e74-0c7e-129e-c7b2-e9a7a73a7be5, timestamp=1682786110723}]\r\n2023-04-29T18:35:15.733+02:00  INFO 4300 --- [   scheduling-1] o.s.i.smb.session.SmbSessionFactory      : SMB share init: myHost:445/myShareAndDir\r\n\r\n\r\n```\r\n\r\n&gt; This was a empty Spring project created on start.spring.io without any dependencies added.\r\n\r\nI tried to configure a valid hostname and a valid domain. All lead to the same error. In addition to that I tried to change the `ShareAndDir` name to match the `REMOTE_DIRECTORY` . I deleted and recreated the directories on my disk.\r\n\r\nI read the Spring [documentation](https://docs.spring.io/spring-integration/docs/current/reference/html/smb.html#smb) multiple times.\r\n\r\nI appreciate any help. Thanks in advance.","title":"How to setup a simple SMB Server with Java Spring Boot?","body":"<p>I have a fresh Spring Boot Project. I want to setup a simple SMB Server, which I can connect to with my Windows Explorer. I simply want to share one folder and be able to connect to the server with a set username and password. The folder I want to share is <code>D:\\smb-files\\folder1</code> .</p>\n<p>I configured a SMC Configuration:</p>\n<pre><code>package com.example.smb;\n\nimport java.io.File;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.integration.annotation.Gateway;\nimport org.springframework.integration.annotation.MessagingGateway;\nimport org.springframework.integration.dsl.IntegrationFlow;\nimport org.springframework.integration.dsl.Pollers;\nimport org.springframework.integration.file.FileHeaders;\nimport org.springframework.integration.file.support.FileExistsMode;\nimport org.springframework.integration.smb.dsl.Smb;\nimport org.springframework.integration.smb.session.SmbSessionFactory;\n\nimport jcifs.DialectVersion;\n\n@Configuration\npublic class SmbConfig {\n    \n    public static final String REMOTE_DIRECTORY = &quot;folder1&quot;;\n\n    @Bean\n    public SmbSessionFactory smbSessionFactory() {\n        SmbSessionFactory smbSession = new SmbSessionFactory();\n        smbSession.setHost(&quot;myHost&quot;);\n        smbSession.setPort(445);\n        smbSession.setDomain(&quot;myDomain&quot;);\n        smbSession.setUsername(&quot;myUser&quot;);\n        smbSession.setPassword(&quot;myPassword&quot;);\n        smbSession.setShareAndDir(&quot;myShareAndDir&quot;);\n        smbSession.setSmbMinVersion(DialectVersion.SMB210);\n        smbSession.setSmbMaxVersion(DialectVersion.SMB311);\n        return smbSession;\n    }\n\n    @Bean\n    public IntegrationFlow smbInboundFlow() {\n        \n        return IntegrationFlow\n            .from(Smb.inboundAdapter(smbSessionFactory())\n                    .preserveTimestamp(true)\n                    .remoteDirectory(REMOTE_DIRECTORY)\n                    .regexFilter(&quot;.*\\\\.txt$&quot;)\n                    .localFilename(f -&gt; f.toUpperCase() + &quot;.a&quot;)\n                    .localDirectory(new File(&quot;d:/smb-files&quot;)),\n                        e -&gt; e.id(&quot;smbInboundAdapter&quot;)\n                    .autoStartup(true)\n                    .poller(Pollers.fixedDelay(5000)))\n            .handle(m -&gt; System.out.println(m.getPayload()))\n            .get();\n    }\n    \n    @Bean\n    public IntegrationFlow smbOutboundFlow() {\n        return IntegrationFlow.from(&quot;toSmbChannel&quot;)\n                .handle(Smb.outboundAdapter(smbSessionFactory(), FileExistsMode.REPLACE)\n                        .useTemporaryFileName(false)\n                        .fileNameExpression(&quot;headers['&quot; + FileHeaders.FILENAME + &quot;']&quot;)\n                        .remoteDirectory(REMOTE_DIRECTORY)\n                ).get();\n    }\n\n    @MessagingGateway\n    public interface MyGateway {\n\n         @Gateway(requestChannel = &quot;toSmbChannel&quot;)\n         void sendToSmb(File file);\n    }\n}\n</code></pre>\n<p>I tried to stick as close to <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/smb.html#smb\" rel=\"nofollow noreferrer\">this Spring Documentation</a> as possible. I added a global String &quot;REMOTE_DIRECTORY&quot; and changed the localDirectory to &quot;<code>d:/smb-files</code>&quot;. (I created this directory on my disk and even tested to write a simple file to the directory -&gt; it worked). I created a folder within <code>smb-files</code> called <code>folder1</code>.<br />\nI added the following dependency to the <code>pom.xml</code> :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-integration-smb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I configured Spring Integrations to log on DEBUG level (application.properties:</p>\n<pre><code>logging.level.org.springframework.integration=DEBUG\n</code></pre>\n<h1>Error:</h1>\n<p>In Short: <code>Problem occurred while synchronizing 'folder1' to local directory</code></p>\n<p>Log of the application:</p>\n<pre><code>[payload=org.springframework.messaging.MessagingException: Problem occurred while synchronizing 'folder1' to local directory, headers={id=8a317e74-0c7e-129e-c7b2-e9a7a73a7be5, timestamp=1682786110723}]\n2023-04-29T18:35:10.724+02:00 DEBUG 4300 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : bean '_org.springframework.integration.errorLogger.handler' for component '_org.springframework.integration.errorLogger' received message: ErrorMessage [payload=org.springframework.messaging.MessagingException: Problem occurred while synchronizing 'folder1' to local directory, headers={id=8a317e74-0c7e-129e-c7b2-e9a7a73a7be5, timestamp=1682786110723}]\n2023-04-29T18:35:10.725+02:00 ERROR 4300 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : org.springframework.messaging.MessagingException: Problem occurred while synchronizing 'folder1' to local directory\n    at org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer.synchronizeToLocalDirectory(AbstractInboundFileSynchronizer.java:348)\n    at org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizingMessageSource.doReceive(AbstractInboundFileSynchronizingMessageSource.java:267)\n    at org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizingMessageSource.doReceive(AbstractInboundFileSynchronizingMessageSource.java:69)\n    at org.springframework.integration.endpoint.AbstractFetchLimitingMessageSource.doReceive(AbstractFetchLimitingMessageSource.java:47)\n    at org.springframework.integration.endpoint.AbstractMessageSource.receive(AbstractMessageSource.java:142)\n    at org.springframework.integration.endpoint.SourcePollingChannelAdapter.receiveMessage(SourcePollingChannelAdapter.java:212)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:443)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:412)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.springframework.messaging.MessagingException: Failed to execute on session\n    at org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:461)\n    at org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer.synchronizeToLocalDirectory(AbstractInboundFileSynchronizer.java:341)\n    ... 20 more\nCaused by: java.lang.IllegalStateException: Failed to create session.\n    at org.springframework.integration.smb.session.SmbSessionFactory.getSession(SmbSessionFactory.java:65)\n    at org.springframework.integration.smb.session.SmbSessionFactory.getSession(SmbSessionFactory.java:39)\n    at org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:447)\n    ... 21 more\nCaused by: java.io.IOException: Unable to initialize share: smb://myDomain;myUser:myPassword@myHost:445/myShareAndDir\n    at org.springframework.integration.smb.session.SmbShare.init(SmbShare.java:113)\n    at org.springframework.integration.smb.session.SmbSessionFactory.createSession(SmbSessionFactory.java:86)\n    at org.springframework.integration.smb.session.SmbSessionFactory.getSession(SmbSessionFactory.java:62)\n    ... 23 more\nCaused by: jcifs.smb.SmbException: Failed to connect to server\n    at jcifs.smb.SmbTreeConnection.connectWrapException(SmbTreeConnection.java:429)\n    at jcifs.smb.SmbFile.ensureTreeConnected(SmbFile.java:573)\n    at jcifs.smb.SmbFile.exists(SmbFile.java:873)\n    at org.springframework.integration.smb.session.SmbShare.init(SmbShare.java:98)\n    ... 25 more\nCaused by: java.net.UnknownHostException: myHost\n    at jcifs.netbios.NameServiceClientImpl.getAllByName(NameServiceClientImpl.java:1054)\n    at jcifs.netbios.NameServiceClientImpl.getAllByName(NameServiceClientImpl.java:55)\n    at jcifs.smb.SmbTransportPoolImpl.getSmbTransport(SmbTransportPoolImpl.java:173)\n    at jcifs.smb.SmbTransportPoolImpl.getSmbTransport(SmbTransportPoolImpl.java:48)\n    at jcifs.smb.SmbTreeConnection.connectHost(SmbTreeConnection.java:565)\n    at jcifs.smb.SmbTreeConnection.connectHost(SmbTreeConnection.java:489)\n    at jcifs.smb.SmbTreeConnection.connect(SmbTreeConnection.java:465)\n    at jcifs.smb.SmbTreeConnection.connectWrapException(SmbTreeConnection.java:426)\n    ... 28 more\n\n2023-04-29T18:35:10.725+02:00 DEBUG 4300 --- [   scheduling-1] o.s.i.channel.PublishSubscribeChannel    : postSend (sent=true) on channel 'bean 'errorChannel'', message: ErrorMessage [payload=org.springframework.messaging.MessagingException: Problem occurred while synchronizing 'folder1' to local directory, headers={id=8a317e74-0c7e-129e-c7b2-e9a7a73a7be5, timestamp=1682786110723}]\n2023-04-29T18:35:15.733+02:00  INFO 4300 --- [   scheduling-1] o.s.i.smb.session.SmbSessionFactory      : SMB share init: myHost:445/myShareAndDir\n\n\n</code></pre>\n<blockquote>\n<p>This was a empty Spring project created on start.spring.io without any dependencies added.</p>\n</blockquote>\n<p>I tried to configure a valid hostname and a valid domain. All lead to the same error. In addition to that I tried to change the <code>ShareAndDir</code> name to match the <code>REMOTE_DIRECTORY</code> . I deleted and recreated the directories on my disk.</p>\n<p>I read the Spring <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/smb.html#smb\" rel=\"nofollow noreferrer\">documentation</a> multiple times.</p>\n<p>I appreciate any help. Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1682780916,"post_id":76136884,"comment_id":134270820,"body_markdown":"Load into `List&lt;String&gt;` with `Files.readAllLines`. Use the list for your edits. Save it to file again","body":"Load into <code>List&lt;String&gt;</code> with <code>Files.readAllLines</code>. Use the list for your edits. Save it to file again"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1682781007,"post_id":76136884,"comment_id":134270828,"body_markdown":"Side note, this: `catch(Exception ex) {}`, is not a great idea. At least print out the exception&#39;s stack trace in the catch block so you&#39;ll know if some bad things are happening with your code.","body":"Side note, this: <code>catch(Exception ex) {}</code>, is not a great idea. At least print out the exception&#39;s stack trace in the catch block so you&#39;ll know if some bad things are happening with your code."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1682781520,"post_id":76136884,"comment_id":134270890,"body_markdown":"You can consider turning your *de facto* csv file into java beans too","body":"You can consider turning your <i>de facto</i> csv file into java beans too"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1682782028,"post_id":76136884,"comment_id":134270976,"body_markdown":"this is basically unrelated to swing - solve replacing words in the file without ui (use hard-coded replacement texts), only after having succeeded in that add ui","body":"this is basically unrelated to swing - solve replacing words in the file without ui (use hard-coded replacement texts), only after having succeeded in that add ui"}],"answers":[{"tags":[],"owner":{"account_id":21718714,"reputation":15,"user_id":16029325,"display_name":"Unable error"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682788335,"creation_date":1682788156,"answer_id":76137423,"question_id":76136884,"body_markdown":"You won&#39;t be able to change a particular word unless the user specifies which of the two identical words to change. However, if you want to change the first word in a string, the string.replaceFirst(oldLine, newLine) method can help.\r\n\r\nI don&#39;t quite understand the problem in a general way, but in your specific case you could prompt the user to indicate the ordinal number of the word to be replaced.\r\n\r\nFor example like this:\r\n```java\r\nFile f = new File(&quot;bookingDetails.txt&quot;);\r\nScanner input = new Scanner(f);\r\nStringBuilder bd = new StringBuilder();\r\nwhile(input.hasNextLine()) {\r\n    bd.append(input.nextLine()+&quot;\\n&quot;);\r\n}\r\nString fileContents = bd.toString();\r\ninput.close();\r\nString oldLine = jTextField3.getText();\r\nString newLine = jTextField1.getText();\r\n\r\n//Using the indexOf() method, we find out how many times the required string occurs\r\n//in the text. All its occurrences are written to the List.\r\nList&lt;Integer&gt; indexes = new ArrayList&lt;Integer&gt;();\r\nint index = 0;\r\nwhile(index != -1){\r\n\tindex = fileContents.indexOf(oldLine, index);\r\n\tif (index != -1) {\r\n\t\tindexes.add(index);\r\n\t\tindex++;\r\n\t}\r\n}\r\n\r\n//If there is more than one entry in the list,\r\n//the user is prompted to enter which of the entries to replace\r\nif (indexes.size() &gt; 1) {\r\n    //Opening a dialog box with a question. Specify the range of input values from\r\n    //1 to the size of the list with entries\r\n\tString result = JOptionPane.showInputDialog(null,\r\n\t\t\t&quot;Found multiple occurrences of the string &#39;&quot; + oldLine +\r\n\t\t\t&quot;&#39;. Specify the ordinal number from 1 to &quot; + indexes.size() + &quot;:&quot;,  \r\n\t\t\t&quot;Replacement number&quot;, \r\n\t\t\tJOptionPane.WARNING_MESSAGE);\r\n    //Try-catch block, in which the program tries to convert the entered string into\r\n    //a number. If it succeeded, program goes to further instructions in the\r\n    //try block, if not, it goes to the catch block\r\n\ttry {\r\n        //Decreasing the resulting number by 1, since indexing in the list\r\n        //starts from 0\r\n        int number = Integer.parseInt(result) - 1;\r\n        //If the user enters a number that does not fall within the range of the list,\r\n        //a warning is displayed\r\n        if (number &lt; 0 || number &gt; indexes.size() - 1) {\r\n            JOptionPane.showMessageDialog(null, \r\n            &quot;You entered the wrong number. All occurrences will be replaced.&quot;);\r\n            fileContents = fileContents.replace(oldLine, newLine);\r\n        }\r\n        //Otherwise, we get the position of the string from the list and replace it.\r\n        //Using the substring method, we get part of the string before the search word,\r\n        //part of the string after the search word, and insert newLine between them\r\n        else {\r\n            int currentOccur = indexes.get(number);\r\n            fileContents =\r\n                fileContents.substring(0, currentOccur) +\r\n                newLine +\r\n                fileContents.substring(currentOccur + newLine.length() - 2);\r\n        }\r\n\t} catch (NumberFormatException e) {\r\n\t\tJOptionPane.showMessageDialog(null, \r\n\t\t\t\t&quot;You entered the wrong number. All occurrences will be replaced.&quot;);\r\n\t\tfileContents = fileContents.replace(oldLine, newLine);\r\n\t}\r\n}\r\nelse fileContents = fileContents.replace(oldLine, newLine);\r\n\r\nFileWriter fw = new FileWriter(f);\r\nfw.append(fileContents);\r\nfw.flush();\r\n```\r\n\r\nHowever, this is not the best solution, if you want something more functional, you should reconsider your approach to the task and try to embed a full-fledged text editor in your user interface, such as **JTextArea**","title":"Replace a word in a specific line (allow users to choose which line they want to edit and the word they want to edit)","body":"<p>You won't be able to change a particular word unless the user specifies which of the two identical words to change. However, if you want to change the first word in a string, the string.replaceFirst(oldLine, newLine) method can help.</p>\n<p>I don't quite understand the problem in a general way, but in your specific case you could prompt the user to indicate the ordinal number of the word to be replaced.</p>\n<p>For example like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File f = new File(&quot;bookingDetails.txt&quot;);\nScanner input = new Scanner(f);\nStringBuilder bd = new StringBuilder();\nwhile(input.hasNextLine()) {\n    bd.append(input.nextLine()+&quot;\\n&quot;);\n}\nString fileContents = bd.toString();\ninput.close();\nString oldLine = jTextField3.getText();\nString newLine = jTextField1.getText();\n\n//Using the indexOf() method, we find out how many times the required string occurs\n//in the text. All its occurrences are written to the List.\nList&lt;Integer&gt; indexes = new ArrayList&lt;Integer&gt;();\nint index = 0;\nwhile(index != -1){\n    index = fileContents.indexOf(oldLine, index);\n    if (index != -1) {\n        indexes.add(index);\n        index++;\n    }\n}\n\n//If there is more than one entry in the list,\n//the user is prompted to enter which of the entries to replace\nif (indexes.size() &gt; 1) {\n    //Opening a dialog box with a question. Specify the range of input values from\n    //1 to the size of the list with entries\n    String result = JOptionPane.showInputDialog(null,\n            &quot;Found multiple occurrences of the string '&quot; + oldLine +\n            &quot;'. Specify the ordinal number from 1 to &quot; + indexes.size() + &quot;:&quot;,  \n            &quot;Replacement number&quot;, \n            JOptionPane.WARNING_MESSAGE);\n    //Try-catch block, in which the program tries to convert the entered string into\n    //a number. If it succeeded, program goes to further instructions in the\n    //try block, if not, it goes to the catch block\n    try {\n        //Decreasing the resulting number by 1, since indexing in the list\n        //starts from 0\n        int number = Integer.parseInt(result) - 1;\n        //If the user enters a number that does not fall within the range of the list,\n        //a warning is displayed\n        if (number &lt; 0 || number &gt; indexes.size() - 1) {\n            JOptionPane.showMessageDialog(null, \n            &quot;You entered the wrong number. All occurrences will be replaced.&quot;);\n            fileContents = fileContents.replace(oldLine, newLine);\n        }\n        //Otherwise, we get the position of the string from the list and replace it.\n        //Using the substring method, we get part of the string before the search word,\n        //part of the string after the search word, and insert newLine between them\n        else {\n            int currentOccur = indexes.get(number);\n            fileContents =\n                fileContents.substring(0, currentOccur) +\n                newLine +\n                fileContents.substring(currentOccur + newLine.length() - 2);\n        }\n    } catch (NumberFormatException e) {\n        JOptionPane.showMessageDialog(null, \n                &quot;You entered the wrong number. All occurrences will be replaced.&quot;);\n        fileContents = fileContents.replace(oldLine, newLine);\n    }\n}\nelse fileContents = fileContents.replace(oldLine, newLine);\n\nFileWriter fw = new FileWriter(f);\nfw.append(fileContents);\nfw.flush();\n</code></pre>\n<p>However, this is not the best solution, if you want something more functional, you should reconsider your approach to the task and try to embed a full-fledged text editor in your user interface, such as <strong>JTextArea</strong></p>\n"}],"owner":{"account_id":28194942,"reputation":21,"user_id":21549746,"display_name":"Eruri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682789497,"creation_date":1682780364,"question_id":76136884,"body_markdown":"I&#39;ve figured out how to let the users to replace the words in the text file. However, what if I want the user to replace a word in a text file for a specific line. For example: \r\n```none\r\nKent:23:Male:Chief\r\nJacob:25:Male:Plumber\r\n```\r\nI want the output to be like:\r\n```none\r\nKent:23:Female:Chief\r\nJacob:25:Male:Plumber\r\n```\r\nInstead of:\r\n```none\r\nKent:23:Female:Cheif\r\nJacob:25:Female:Plumber\r\n```\r\nMy code so far: \r\n\r\n```java\r\ntry {    \r\n\tFile f = new File(&quot;bookingDetails.txt&quot;);\r\n\tScanner input = new Scanner(f);\r\n\tStringBuilder bd = new StringBuilder();\r\n\twhile(input.hasNextLine()) {\r\n\t\tbd.append(input.nextLine()+&quot;\\n&quot;);\r\n\t}\r\n\tString fileContents = bd.toString();\r\n\tinput.close();\r\n\tString oldLine = jTextField3.getText();\r\n\tString newLine = jTextField1.getText();\r\n\tfileContents = fileContents.replace(oldLine,newLine);\r\n\tFileWriter fw = new FileWriter(f);\r\n\tfw.append(fileContents);\r\n\tfw.flush();\r\n} catch(Exception ex) {}\r\n```\r\n","title":"Replace a word in a specific line (allow users to choose which line they want to edit and the word they want to edit)","body":"<p>I've figured out how to let the users to replace the words in the text file. However, what if I want the user to replace a word in a text file for a specific line. For example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Kent:23:Male:Chief\nJacob:25:Male:Plumber\n</code></pre>\n<p>I want the output to be like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Kent:23:Female:Chief\nJacob:25:Male:Plumber\n</code></pre>\n<p>Instead of:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Kent:23:Female:Cheif\nJacob:25:Female:Plumber\n</code></pre>\n<p>My code so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {    \n    File f = new File(&quot;bookingDetails.txt&quot;);\n    Scanner input = new Scanner(f);\n    StringBuilder bd = new StringBuilder();\n    while(input.hasNextLine()) {\n        bd.append(input.nextLine()+&quot;\\n&quot;);\n    }\n    String fileContents = bd.toString();\n    input.close();\n    String oldLine = jTextField3.getText();\n    String newLine = jTextField1.getText();\n    fileContents = fileContents.replace(oldLine,newLine);\n    FileWriter fw = new FileWriter(f);\n    fw.append(fileContents);\n    fw.flush();\n} catch(Exception ex) {}\n</code></pre>\n"},{"tags":["java","spring-boot","docker","docker-compose","docker-networking"],"owner":{"account_id":1134742,"reputation":23,"user_id":8971996,"display_name":"ambuli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682789481,"creation_date":1682779081,"question_id":76136787,"body_markdown":"I have created two containers; one is running the spring boot eureka name server and the other one is running java app. The two containers are on the same bridge network.\r\n\r\n```lang-none\r\nNETWORK ID     NAME              DRIVER    SCOPE\r\n4554021e2f79   docker_ambuli     bridge    local\r\n```\r\nShortened output from `docker container ls`:\r\n```lang-none\r\n0de2fa36c342   ambuli/ms-1:0.0.1-SNAPSHOT  0.0.0.0:8000-&gt;8000/tcp, :::8000-&gt;8000/tcp   \r\n878eb80bc7e4  ambuli/ms-2:0.0.1-SNAPSHOT  0.0.0.0:8761-&gt;8761/tcp, :::8761-&gt;8761/tcp   \r\n```\r\nIP Addresses of the containers:\r\n```lang-none\r\ndocker inspect -f &#39;{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}&#39; 0de2fa36c342\r\n172.27.0.3\r\n\r\ndocker inspect -f &#39;{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}&#39; 878eb80bc7e4\r\n172.27.0.2\r\n```\r\n\r\n`docker network inspect -f &#39;{{range .Containers}}{{.Name}} {{end}}&#39; 4554021e2f79` is saying the two containers are on this\r\nnetwork.\r\n\r\nAll seems to be fine. However, the Java throws exception saying connection timeout.\r\nTracing through wireshark, I can see that SYN messages are sent from 172.27.0.3(myService) to 172.27.0.2(nameing-server).  But, there is no reply.\r\n\r\nThe java error is:\r\nexception is org.apache.http.conn.ConnectTimeoutException: Connect to naming-server:8761 [naming-server/172.28.0.2] failed: Connection timed out\r\n\r\nAny help would be really appreciated. Thanks very much.\r\n\r\nI have the following yaml file:\r\n```\r\n\r\n    version: &#39;3&#39;\r\n    \r\n    services:\r\n      naming-server:\r\n        image: ambuli/ms1-naming-server:0.0.1-SNAPSHOT\r\n        mem_limit: 700m\r\n        ports:\r\n          - &quot;8761:8761&quot;\r\n        networks:\r\n          - ambuli\r\n          \r\n      my-service:\r\n        image: ambuli/ms1-myservice:0.0.1-SNAPSHOT\r\n        mem_limit: 700m\r\n        ports:\r\n          - &quot;8000:8000&quot;\r\n        networks:\r\n          - ambuli\r\n        links:\r\n          - naming-server \r\n        depends_on:\r\n          - naming-server\r\n        environment:\r\n          EUREKA.CLIENT.SERVICEURL.DEFAULTZONE: http://naming-server:8761/eureka\r\n    networks:\r\n      ambuli:\r\n","title":"Docker container network: Unable to establish connection between two containers","body":"<p>I have created two containers; one is running the spring boot eureka name server and the other one is running java app. The two containers are on the same bridge network.</p>\n<pre class=\"lang-none prettyprint-override\"><code>NETWORK ID     NAME              DRIVER    SCOPE\n4554021e2f79   docker_ambuli     bridge    local\n</code></pre>\n<p>Shortened output from <code>docker container ls</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>0de2fa36c342   ambuli/ms-1:0.0.1-SNAPSHOT  0.0.0.0:8000-&gt;8000/tcp, :::8000-&gt;8000/tcp   \n878eb80bc7e4  ambuli/ms-2:0.0.1-SNAPSHOT  0.0.0.0:8761-&gt;8761/tcp, :::8761-&gt;8761/tcp   \n</code></pre>\n<p>IP Addresses of the containers:</p>\n<pre class=\"lang-none prettyprint-override\"><code>docker inspect -f '{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}' 0de2fa36c342\n172.27.0.3\n\ndocker inspect -f '{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}' 878eb80bc7e4\n172.27.0.2\n</code></pre>\n<p><code>docker network inspect -f '{{range .Containers}}{{.Name}} {{end}}' 4554021e2f79</code> is saying the two containers are on this\nnetwork.</p>\n<p>All seems to be fine. However, the Java throws exception saying connection timeout.\nTracing through wireshark, I can see that SYN messages are sent from 172.27.0.3(myService) to 172.27.0.2(nameing-server).  But, there is no reply.</p>\n<p>The java error is:\nexception is org.apache.http.conn.ConnectTimeoutException: Connect to naming-server:8761 [naming-server/172.28.0.2] failed: Connection timed out</p>\n<p>Any help would be really appreciated. Thanks very much.</p>\n<p>I have the following yaml file:</p>\n<pre><code>\n    version: '3'\n    \n    services:\n      naming-server:\n        image: ambuli/ms1-naming-server:0.0.1-SNAPSHOT\n        mem_limit: 700m\n        ports:\n          - &quot;8761:8761&quot;\n        networks:\n          - ambuli\n          \n      my-service:\n        image: ambuli/ms1-myservice:0.0.1-SNAPSHOT\n        mem_limit: 700m\n        ports:\n          - &quot;8000:8000&quot;\n        networks:\n          - ambuli\n        links:\n          - naming-server \n        depends_on:\n          - naming-server\n        environment:\n          EUREKA.CLIENT.SERVICEURL.DEFAULTZONE: http://naming-server:8761/eureka\n    networks:\n      ambuli:\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":7342200,"reputation":41,"user_id":5591262,"display_name":"Bipin Srivastava"},"score":0,"creation_date":1682795103,"post_id":76137463,"comment_id":134272488,"body_markdown":"Issue is resolved after downgrading spring MVC version to 5.x.x","body":"Issue is resolved after downgrading spring MVC version to 5.x.x"}],"owner":{"account_id":7342200,"reputation":41,"user_id":5591262,"display_name":"Bipin Srivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682789792,"answer_count":0,"score":0,"last_activity_date":1682788693,"creation_date":1682788693,"question_id":76137463,"body_markdown":"I am getting error when I try to run Spring MVC code.\r\n\r\nFYI - I am using Intellij IDE, Tomcat 9.0.7 Server and Smart Tomcat plugin\r\n\r\ncreated simple hello world project following youtube tutorial\r\n\r\nweb.xml -\\&gt;\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\r\n&lt;!DOCTYPE web-app PUBLIC\r\n        &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n        &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\r\n\r\n&lt;web-app&gt;\r\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n  &lt;servlet&gt;\r\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n  &lt;/servlet&gt;\r\n\r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\ndispatcher-servlet.xml -\\&gt;\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\r\n&lt;beans\r\n        xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n        xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n        http://www.springframework.org/schema/context\r\n        http://www.springframework.org/schema/context/spring-context.xsd\r\n        http://www.springframework.org/schema/mvc\r\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n        &quot;&gt;\r\n    &lt;context:component-scan base-package=&quot;com.spring.mvc&quot;/&gt;\r\n    &lt;mvc:annotation-driven/&gt;\r\n    &lt;mvc:annotation-driven enable-matrix-variables=&quot;true&quot;/&gt;\r\n    &lt;bean name=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nHomeController.java -\\&gt;\r\n\r\n```\r\npackage com.spring.mvc;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.ModelMap;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\npublic class HelloController {\r\n    @RequestMapping(&quot;/hello&quot;)\r\n    public String printHellowWorld()\r\n    {\r\n        //modelMap.addAttribute(&quot;message&quot;, &quot;Hello world and welcome to spring MVC!&quot;);\r\n        return  &quot;hello&quot;;\r\n    }\r\n}\r\n```\r\n\r\npom.xml dependency -\\&gt;\r\n\r\n```\r\n&lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n     &lt;version&gt;6.0.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nError Message -\\&gt; Error from tomcat server log\r\n\r\n```\r\n29-Apr-2023 22:15:29.131 SEVERE [Catalina-utility-1] org.apache.catalina.core.StandardContext.loadOnStartup Servlet [dispatcher] in web application [/SpringMVC-Bipin] threw load() exception\r\n\tjava.lang.ClassNotFoundException: jakarta.servlet.http.HttpServlet\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\t\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\t\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n\t\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2470)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\t\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\t\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n\t\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2470)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\t\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\t\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n\t\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2470)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\t\tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:487)\r\n\t\tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:469)\r\n\t\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:141)\r\n\t\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1020)\r\n\t\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:960)\r\n\t\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4672)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4973)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:662)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:689)\r\n\t\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1888)\r\n\t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:582)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:472)\r\n\t\tat org.apache.catalina.startup.HostConfig.check(HostConfig.java:1666)\r\n\t\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:314)\r\n\t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\t\tat org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1102)\r\n\t\tat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1301)\r\n\t\tat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1305)\r\n\t\tat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1283)\r\n\t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\t\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n\t\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```","title":"Spring MVC Class Not Found Exeption jakarta.servlet.http.HttpServlet","body":"<p>I am getting error when I try to run Spring MVC code.</p>\n<p>FYI - I am using Intellij IDE, Tomcat 9.0.7 Server and Smart Tomcat plugin</p>\n<p>created simple hello world project following youtube tutorial</p>\n<p>web.xml -&gt;</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\n&lt;!DOCTYPE web-app PUBLIC\n        &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\n        &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\n\n&lt;web-app&gt;\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>dispatcher-servlet.xml -&gt;</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\n&lt;beans\n        xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n        xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n        xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        &quot;&gt;\n    &lt;context:component-scan base-package=&quot;com.spring.mvc&quot;/&gt;\n    &lt;mvc:annotation-driven/&gt;\n    &lt;mvc:annotation-driven enable-matrix-variables=&quot;true&quot;/&gt;\n    &lt;bean name=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>HomeController.java -&gt;</p>\n<pre><code>package com.spring.mvc;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class HelloController {\n    @RequestMapping(&quot;/hello&quot;)\n    public String printHellowWorld()\n    {\n        //modelMap.addAttribute(&quot;message&quot;, &quot;Hello world and welcome to spring MVC!&quot;);\n        return  &quot;hello&quot;;\n    }\n}\n</code></pre>\n<p>pom.xml dependency -&gt;</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n     &lt;version&gt;6.0.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Error Message -&gt; Error from tomcat server log</p>\n<pre><code>29-Apr-2023 22:15:29.131 SEVERE [Catalina-utility-1] org.apache.catalina.core.StandardContext.loadOnStartup Servlet [dispatcher] in web application [/SpringMVC-Bipin] threw load() exception\n    java.lang.ClassNotFoundException: jakarta.servlet.http.HttpServlet\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n        at org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2470)\n        at org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n        at org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2470)\n        at org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n        at org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2470)\n        at org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n        at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:487)\n        at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:469)\n        at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:141)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1020)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:960)\n        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4672)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4973)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:662)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:689)\n        at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1888)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\n        at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:582)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:472)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1666)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:314)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1102)\n        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1301)\n        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1305)\n        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1283)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch","query-builder"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1682682376,"post_id":76129090,"comment_id":134257857,"body_markdown":"You have the full power in your application code to detect this. For instance, increasing a counter every time you add a real constraint and not sending the query if that counter is still 0.","body":"You have the full power in your application code to detect this. For instance, increasing a counter every time you add a real constraint and not sending the query if that counter is still 0."}],"answers":[{"tags":[],"owner":{"account_id":25406869,"reputation":73,"user_id":19215415,"display_name":"Gaya3 Govindaraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682788581,"creation_date":1682788581,"answer_id":76137454,"question_id":76129090,"body_markdown":"To prevent Elasticsearch from executing queries that can potentially return all documents (like a &quot;SELECT *&quot; query in SQL), you can set a maximum limit on the number of results retrieved by a query. This can be done using the **size** parameter, which limits the number of results returned by the query. For example, you can set the **size** parameter to a reasonable limit (e.g., 1000) to prevent Elasticsearch from retrieving all documents in the index.\r\n\r\nAdditionally, you can also use the **validate API** in Elasticsearch to validate a query before executing it. The **validate API** allows you to check whether a query is syntactically correct and whether it returns any results. You can use this API to validate the QueryBuilder object generated by your application. This will ensure that it does not return all documents from the index.","title":"A mistake in QueryBuilder brings all entries from elasticsearch","body":"<p>To prevent Elasticsearch from executing queries that can potentially return all documents (like a &quot;SELECT *&quot; query in SQL), you can set a maximum limit on the number of results retrieved by a query. This can be done using the <strong>size</strong> parameter, which limits the number of results returned by the query. For example, you can set the <strong>size</strong> parameter to a reasonable limit (e.g., 1000) to prevent Elasticsearch from retrieving all documents in the index.</p>\n<p>Additionally, you can also use the <strong>validate API</strong> in Elasticsearch to validate a query before executing it. The <strong>validate API</strong> allows you to check whether a query is syntactically correct and whether it returns any results. You can use this API to validate the QueryBuilder object generated by your application. This will ensure that it does not return all documents from the index.</p>\n"}],"owner":{"account_id":3460362,"reputation":752,"user_id":2897683,"accept_rate":93,"display_name":"thahgr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76137454,"answer_count":1,"score":0,"last_activity_date":1682788581,"creation_date":1682681046,"question_id":76129090,"body_markdown":"We have a Java Spring Boot application that constructs queries to elasticsearch db with a programmatic way according to business parameters via `QueryBuilder`, similar to a criteria builder in sql.\r\n\r\nThe problem is that a mistake in the code can actually produce a query that brings everything from the database, like a `select *` in sql.\r\n\r\neg `QueryBuilders.boolQuery();`\r\n\r\ncreates\r\n\r\n    &quot;bool&quot; : { \r\n    &quot;adjust_pure_negative&quot; : true, \r\n    &quot;minimum_should_match&quot; : &quot;1&quot;, \r\n    &quot;boost&quot; : 1.0 \r\n    }\r\n\r\nThis can be checked by `hasClause()` function and cancel the query. \r\n\r\nHowever, a query like this will not be blocked `QueryBuilders.boolQuery().must(QueryBuilders.boolQuery());`\r\n\r\n\r\n 1. Is there any option to forbid the elastic from executing queries like `select *` ? \r\n\r\n2. Any suggestions on how to validate a final `QueryBuilder` object ? \r\n\r\n","title":"A mistake in QueryBuilder brings all entries from elasticsearch","body":"<p>We have a Java Spring Boot application that constructs queries to elasticsearch db with a programmatic way according to business parameters via <code>QueryBuilder</code>, similar to a criteria builder in sql.</p>\n<p>The problem is that a mistake in the code can actually produce a query that brings everything from the database, like a <code>select *</code> in sql.</p>\n<p>eg <code>QueryBuilders.boolQuery();</code></p>\n<p>creates</p>\n<pre><code>&quot;bool&quot; : { \n&quot;adjust_pure_negative&quot; : true, \n&quot;minimum_should_match&quot; : &quot;1&quot;, \n&quot;boost&quot; : 1.0 \n}\n</code></pre>\n<p>This can be checked by <code>hasClause()</code> function and cancel the query.</p>\n<p>However, a query like this will not be blocked <code>QueryBuilders.boolQuery().must(QueryBuilders.boolQuery());</code></p>\n<ol>\n<li><p>Is there any option to forbid the elastic from executing queries like <code>select *</code> ?</p>\n</li>\n<li><p>Any suggestions on how to validate a final <code>QueryBuilder</code> object ?</p>\n</li>\n</ol>\n"},{"tags":["java","ftp","ftp-client","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":287292,"reputation":5493,"user_id":587009,"accept_rate":74,"display_name":"Shaun"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1300746939,"creation_date":1300746939,"answer_id":5384566,"question_id":4500425,"body_markdown":"I needed to figure this out too, but after doing a little play, I think I figured it out. I havent gotten to test this yet, but I think it will do the trik\r\n\r\n    FTPFile file[];\r\n    file = new FTPFile[ftpClient.listFiles().length];\r\n    for (int i = 0; i&lt;file.length; i++) {\r\n\tif (file[i].getName() == &quot;directory name&quot;) {\r\n\t    if (file[i].isDirectory()) {\r\n\t    //Do stuff if it is a directory here\r\n             if (file[i].hasPermission(access, permission) {\r\n\t        //Do whatever you want with permissions - access and permission arguments are int&#39;s\r\n\t\t\t\t\t\t\t}\r\n\t    }\r\n\t}\r\n    }\r\n\r\nHope this works/helps. This also seems like a pretty redundant way, so there may be a better way of doing it. Idk, im new to this library and android","title":"Apache Commons FTPClient, check if remote directory exist and get permissions (linux - unix)","body":"<p>I needed to figure this out too, but after doing a little play, I think I figured it out. I havent gotten to test this yet, but I think it will do the trik</p>\n\n<pre><code>FTPFile file[];\nfile = new FTPFile[ftpClient.listFiles().length];\nfor (int i = 0; i&lt;file.length; i++) {\nif (file[i].getName() == \"directory name\") {\n    if (file[i].isDirectory()) {\n    //Do stuff if it is a directory here\n         if (file[i].hasPermission(access, permission) {\n        //Do whatever you want with permissions - access and permission arguments are int's\n                        }\n    }\n}\n}\n</code></pre>\n\n<p>Hope this works/helps. This also seems like a pretty redundant way, so there may be a better way of doing it. Idk, im new to this library and android</p>\n"},{"tags":[],"owner":{"account_id":776165,"reputation":169,"user_id":824491,"display_name":"Juris"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1309562261,"creation_date":1309508550,"answer_id":6545396,"question_id":4500425,"body_markdown":"Try to change the working directory to the directory you need to check:\r\n\r\n\r\n    boolean directoryExists = FTPClient.changeWorkingDirectory(&quot;path/to/somedir&quot;)\r\n","title":"Apache Commons FTPClient, check if remote directory exist and get permissions (linux - unix)","body":"<p>Try to change the working directory to the directory you need to check:</p>\n\n<pre><code>boolean directoryExists = FTPClient.changeWorkingDirectory(\"path/to/somedir\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412607392,"creation_date":1412607392,"answer_id":26218974,"question_id":4500425,"body_markdown":"If the remote host supports it, the simplest method is [mlistFile()](http://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#mlistFile(java.lang.String)).\r\n\r\n    if (ftpClient.featureValue(&quot;MLST&quot;) != null) {\r\n        FTPFile file = ftpClient.mlistFile(null);\r\n    \tboolean b = file.hasPermission(FTPFile.USER_ACCESS, FTPFile.WRITE_PERMISSION);\r\n    }","title":"Apache Commons FTPClient, check if remote directory exist and get permissions (linux - unix)","body":"<p>If the remote host supports it, the simplest method is <a href=\"http://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#mlistFile(java.lang.String)\" rel=\"nofollow\">mlistFile()</a>.</p>\n\n<pre><code>if (ftpClient.featureValue(\"MLST\") != null) {\n    FTPFile file = ftpClient.mlistFile(null);\n    boolean b = file.hasPermission(FTPFile.USER_ACCESS, FTPFile.WRITE_PERMISSION);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4354071,"reputation":1089,"user_id":3553316,"display_name":"Shalin Patel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1479505296,"creation_date":1479505296,"answer_id":40686373,"question_id":4500425,"body_markdown":"What you just Need to check is just `ftpClient.cwd(&quot;your Directory Name&quot;)`\r\n\r\nthis will return you integer values \r\n\r\n`250` - If File Exists\r\n\r\nOR\r\n\r\n`550` - If File Doesn&#39;t Exist\r\n\r\nFor Example,\r\n\r\n    if(ftpClient.cwd(uploadDirectoryPath)==550){\r\n         System.out.println(&quot;Directory Doesn&#39;t Exists&quot;);\r\n\t}else if(ftpClient.cwd(uploadDirectoryPath)==250){\r\n         System.out.println(&quot;Directory Exists&quot;);\r\n    }else{\r\n         System.out.println(&quot;Unknown Status&quot;);\r\n    }","title":"Apache Commons FTPClient, check if remote directory exist and get permissions (linux - unix)","body":"<p>What you just Need to check is just <code>ftpClient.cwd(\"your Directory Name\")</code></p>\n\n<p>this will return you integer values </p>\n\n<p><code>250</code> - If File Exists</p>\n\n<p>OR</p>\n\n<p><code>550</code> - If File Doesn't Exist</p>\n\n<p>For Example,</p>\n\n<pre><code>if(ftpClient.cwd(uploadDirectoryPath)==550){\n     System.out.println(\"Directory Doesn't Exists\");\n}else if(ftpClient.cwd(uploadDirectoryPath)==250){\n     System.out.println(\"Directory Exists\");\n}else{\n     System.out.println(\"Unknown Status\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11544752,"reputation":72,"user_id":8459214,"display_name":"shankar_vl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682788482,"creation_date":1678620676,"answer_id":75712815,"question_id":4500425,"body_markdown":"Here is my take on to find whether given path represents a directory or a file.\r\n\r\n    \r\n    public static boolean isFtpPathDirectory(String file_path)\r\n\t{\r\n\t\t\ttry (InputStream inputStream=ftpClient.retrieveFileStream(file_path))\r\n\t\t\t{\r\n\t\t\t\treturn inputStream == null;\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\r\n\t}","title":"Apache Commons FTPClient, check if remote directory exist and get permissions (linux - unix)","body":"<p>Here is my take on to find whether given path represents a directory or a file.</p>\n<pre><code>public static boolean isFtpPathDirectory(String file_path)\n{\n        try (InputStream inputStream=ftpClient.retrieveFileStream(file_path))\n        {\n            return inputStream == null;\n        } catch (IOException e) {\n            return false;\n        }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":146951,"reputation":293,"user_id":357735,"accept_rate":20,"display_name":"Xerg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24492,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1682788482,"creation_date":1292942579,"question_id":4500425,"body_markdown":"Is it possible with FTPClient (Apache commons-net) to check if a remote directory exists?\r\n\r\nI want to do something like this: \r\n\r\n    ftp.isDirectory(String path) //returns true, false\r\n\r\nAnd then get permissions (chmod) of directory:\r\n\r\n    ftp.getPermisions(String path) //returns -rwxr-xr-x \r\n\r\n","title":"Apache Commons FTPClient, check if remote directory exist and get permissions (linux - unix)","body":"<p>Is it possible with FTPClient (Apache commons-net) to check if a remote directory exists?</p>\n\n<p>I want to do something like this: </p>\n\n<pre><code>ftp.isDirectory(String path) //returns true, false\n</code></pre>\n\n<p>And then get permissions (chmod) of directory:</p>\n\n<pre><code>ftp.getPermisions(String path) //returns -rwxr-xr-x \n</code></pre>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":9229914,"reputation":2062,"user_id":6856361,"accept_rate":87,"display_name":"Izbassar Tolegen"},"score":0,"creation_date":1554199246,"post_id":55471896,"comment_id":97654499,"body_markdown":"Have you tried to re-import project?","body":"Have you tried to re-import project?"},{"owner":{"account_id":256787,"reputation":3837,"user_id":537738,"accept_rate":70,"display_name":"David"},"score":0,"creation_date":1554203052,"post_id":55471896,"comment_id":97656831,"body_markdown":"@IzbassarTolegen you mean with the &quot;refresh&quot; button in the Gradle tool window? Yes, that did not help.","body":"@IzbassarTolegen you mean with the &quot;refresh&quot; button in the Gradle tool window? Yes, that did not help."},{"owner":{"account_id":3622553,"reputation":564,"user_id":3020930,"display_name":"Kootli"},"score":0,"creation_date":1554203300,"post_id":55471896,"comment_id":97657002,"body_markdown":"Please check, that SpringBoot plugin&#39;s version is compatible with the current Idea version.","body":"Please check, that SpringBoot plugin&#39;s version is compatible with the current Idea version."}],"answers":[{"tags":[],"owner":{"account_id":13275651,"reputation":101,"user_id":9585089,"display_name":"BLaZeKiLL"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1573329665,"creation_date":1573329665,"answer_id":58783038,"question_id":55471896,"body_markdown":"The same occurred to me in Idea 2019.2 created the spring project from idea and by deleting the .iml file and .idea folder it was fixed","title":"Gradle-File warnings In IntelliJ IDEA 2019.1","body":"<p>The same occurred to me in Idea 2019.2 created the spring project from idea and by deleting the .iml file and .idea folder it was fixed</p>\n"},{"tags":[],"owner":{"account_id":1073145,"reputation":7191,"user_id":6512057,"display_name":"Mr-IDE"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1682785696,"creation_date":1581595862,"answer_id":60207549,"question_id":55471896,"body_markdown":"Try re-importing the gradle project to do a &quot;Gradle Sync&quot; operation:\r\n\r\nIntelliJ IDEA ➔ &lt;kbd&gt;Help&lt;/kbd&gt; ➔ &lt;kbd&gt;Find Action&lt;/kbd&gt; ➔ search for &quot;import&quot; or &quot;reimport&quot; ➔ Click on: **&quot;Reimport All Gradle Projects&quot;**\r\n\r\nEdit: This has changed in August 2020: Click the &lt;kbd&gt;Gradle&lt;/kbd&gt; toolbar/tab at the top-right to expand it, then locate a small refresh button at the top that looks like this &#128260; ➔ click **&quot;Reload All Gradle Projects&quot;** (it&#39;s the small refresh button).","title":"Gradle-File warnings In IntelliJ IDEA 2019.1","body":"<p>Try re-importing the gradle project to do a &quot;Gradle Sync&quot; operation:</p>\n<p>IntelliJ IDEA ➔ <kbd>Help</kbd> ➔ <kbd>Find Action</kbd> ➔ search for &quot;import&quot; or &quot;reimport&quot; ➔ Click on: <strong>&quot;Reimport All Gradle Projects&quot;</strong></p>\n<p>Edit: This has changed in August 2020: Click the <kbd>Gradle</kbd> toolbar/tab at the top-right to expand it, then locate a small refresh button at the top that looks like this 🔄 ➔ click <strong>&quot;Reload All Gradle Projects&quot;</strong> (it's the small refresh button).</p>\n"},{"tags":[],"owner":{"account_id":17209269,"reputation":33,"user_id":12459068,"display_name":"Balaji Soundararajan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1601991955,"creation_date":1601991955,"answer_id":64227139,"question_id":55471896,"body_markdown":"I had problem with JaCoCo plugin. [Reload All Gradle Projects][1] has resolved my issue. Thanks a lot.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C77CA.png","title":"Gradle-File warnings In IntelliJ IDEA 2019.1","body":"<p>I had problem with JaCoCo plugin. <a href=\"https://i.stack.imgur.com/C77CA.png\" rel=\"nofollow noreferrer\">Reload All Gradle Projects</a> has resolved my issue. Thanks a lot.</p>\n"},{"tags":[],"owner":{"display_name":"user12268351"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1604734340,"creation_date":1604734340,"answer_id":64725462,"question_id":55471896,"body_markdown":"go to help -&gt; actions and search for reload all gradle projects","title":"Gradle-File warnings In IntelliJ IDEA 2019.1","body":"<p>go to help -&gt; actions and search for reload all gradle projects</p>\n"},{"tags":[],"owner":{"account_id":1458297,"reputation":1783,"user_id":1373333,"display_name":"fireb86"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1604999821,"creation_date":1604999821,"answer_id":64765973,"question_id":55471896,"body_markdown":"Fixed with `File -&gt; Invalidate caches / Restart`\r\n\r\n`Help -&gt; Find action... -&gt; Reload All Gradle Projects` didn&#39;t work in Idea 2020.2 with me.","title":"Gradle-File warnings In IntelliJ IDEA 2019.1","body":"<p>Fixed with <code>File -&gt; Invalidate caches / Restart</code></p>\n<p><code>Help -&gt; Find action... -&gt; Reload All Gradle Projects</code> didn't work in Idea 2020.2 with me.</p>\n"},{"tags":[],"owner":{"account_id":144817,"reputation":5766,"user_id":354161,"accept_rate":62,"display_name":"tintin"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1605779904,"creation_date":1605779904,"answer_id":64909315,"question_id":55471896,"body_markdown":"You can do the same by clicking on the `Reload All Gradle Projects` icon in intelliJ 2020\r\n[![Reimport the projects again][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IHsPS.png","title":"Gradle-File warnings In IntelliJ IDEA 2019.1","body":"<p>You can do the same by clicking on the <code>Reload All Gradle Projects</code> icon in intelliJ 2020\n<a href=\"https://i.stack.imgur.com/IHsPS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/IHsPS.png\" alt=\"Reimport the projects again\" /></a></p>\n"},{"tags":[],"owner":{"account_id":22163700,"reputation":1,"user_id":16410276,"display_name":"Pratyush Mohapatra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625779185,"creation_date":1625779185,"answer_id":68308751,"question_id":55471896,"body_markdown":"I tried with Gradle settings, usually the issue is with gradle JVM\r\n\r\nPreference - &gt; Build, execution and deployment -&gt; Gradle Update the JVM to the required version.","title":"Gradle-File warnings In IntelliJ IDEA 2019.1","body":"<p>I tried with Gradle settings, usually the issue is with gradle JVM</p>\n<p>Preference - &gt; Build, execution and deployment -&gt; Gradle Update the JVM to the required version.</p>\n"},{"tags":[],"owner":{"account_id":23172817,"reputation":1,"user_id":17271801,"display_name":"Shuvo Alok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652793336,"creation_date":1652793336,"answer_id":72274739,"question_id":55471896,"body_markdown":"Go to:\r\n\r\nFile -&gt; Invalidate caches / Restart\r\n\r\nHelp -&gt; Find action... -&gt; Reload All Gradle Projects : this does not  work anymore.","title":"Gradle-File warnings In IntelliJ IDEA 2019.1","body":"<p>Go to:</p>\n<p>File -&gt; Invalidate caches / Restart</p>\n<p>Help -&gt; Find action... -&gt; Reload All Gradle Projects : this does not  work anymore.</p>\n"},{"tags":[],"owner":{"account_id":27183786,"reputation":1,"user_id":20718562,"display_name":"Sudeetha Perera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678675858,"creation_date":1670457862,"answer_id":74724144,"question_id":55471896,"body_markdown":"in intelij IntelliJ IDEA 2022.3 (Community Edition)\r\n\r\nHelp -&gt; Find action... -&gt; Reload All Gradle Projects this steps work for me \r\nThanks ","title":"Gradle-File warnings In IntelliJ IDEA 2019.1","body":"<p>in intelij IntelliJ IDEA 2022.3 (Community Edition)</p>\n<p>Help -&gt; Find action... -&gt; Reload All Gradle Projects this steps work for me\nThanks</p>\n"}],"owner":{"account_id":256787,"reputation":3837,"user_id":537738,"accept_rate":70,"display_name":"David"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66356,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"answer_count":9,"score":43,"last_activity_date":1682785696,"creation_date":1554199002,"question_id":55471896,"body_markdown":"I upgraded my IntelliJ IDEA installation from 2018.3 to 2019.1 and am now seeing errors in my `build.gradle` that were not there before. I suspect changed preferences but can not find any.\r\n\r\nI am seeing two kinds of errors:\r\n\r\n - Almost everything is underlined and the warning message popup says &quot;No candidates found for method call plugins.&quot; or &quot;No candidates found for method call buildscript.&quot;\r\n - I use the Spring Boot plugin and import it on the first line. This is now red and the popup says &quot;Cannot resolve symbol &#39;SpringBootPlugin&#39;&quot;.\r\n\r\n[![Screenshot of IntelliJ error messages][1]][1]\r\n\r\nThis worked fine in 2018.3. The gradle build works, i.e. running `./gradlew …:build` from the command line works and so does running gradle tasks from the IDE.\r\n\r\n**Update**\r\nI noticed that in &quot;Project structure&quot; the root module (this is a multi-module build) existed twice: once with the name in `settings.gradle` and once with the name of the directory the code is in. When changing the name in `settings.gradle` to the name of the directory, the duplicate entry in &quot;Project structure&quot; disappeared and the errors in `build.gradle` disappeared.\r\n\r\n  [1]: https://i.stack.imgur.com/LXXrE.png","title":"Gradle-File warnings In IntelliJ IDEA 2019.1","body":"<p>I upgraded my IntelliJ IDEA installation from 2018.3 to 2019.1 and am now seeing errors in my <code>build.gradle</code> that were not there before. I suspect changed preferences but can not find any.</p>\n\n<p>I am seeing two kinds of errors:</p>\n\n<ul>\n<li>Almost everything is underlined and the warning message popup says \"No candidates found for method call plugins.\" or \"No candidates found for method call buildscript.\"</li>\n<li>I use the Spring Boot plugin and import it on the first line. This is now red and the popup says \"Cannot resolve symbol 'SpringBootPlugin'\".</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/LXXrE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LXXrE.png\" alt=\"Screenshot of IntelliJ error messages\"></a></p>\n\n<p>This worked fine in 2018.3. The gradle build works, i.e. running <code>./gradlew …:build</code> from the command line works and so does running gradle tasks from the IDE.</p>\n\n<p><strong>Update</strong>\nI noticed that in \"Project structure\" the root module (this is a multi-module build) existed twice: once with the name in <code>settings.gradle</code> and once with the name of the directory the code is in. When changing the name in <code>settings.gradle</code> to the name of the directory, the duplicate entry in \"Project structure\" disappeared and the errors in <code>build.gradle</code> disappeared.</p>\n"},{"tags":["java","android","kotlin","date","simpledateformat"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1682793708,"post_id":76137219,"comment_id":134272310,"body_markdown":"BTW `Calendar.JANUARY == 0` ([doc](https://docs.oracle.com/en/java/javase/20/docs/api/constant-values.html#java.util.Calendar.JANUARY))... despite `Calendar`, `Date`, and similar were outdated with Java 8  and replaced by classes from the `java.time` package (no idea about `DatePickerDialog`)","body":"BTW <code>Calendar.JANUARY == 0</code> (<a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/constant-values.html#java.util.Calendar.JANUARY\" rel=\"nofollow noreferrer\">doc</a>)... despite <code>Calendar</code>, <code>Date</code>, and similar were outdated with Java 8  and replaced by classes from the <code>java.time</code> package (no idea about <code>DatePickerDialog</code>)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682797151,"post_id":76137219,"comment_id":134272797,"body_markdown":"Don’t use `SimpleDateFormat`, neither here nor anywhere at all.That class was notoriously troublesome and is long outdated. Use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). Also for conversion from numbers to a date-time object don’t go through building a string and parsing it back. Your problem comes from your date picker confusingly using 0-based months 0 = January through 11 = December. So you need `LocalDate.of(selectedYear, selectedMonth + 1, selectedDay)`. Format the `LocalDate` using a `DateTimeFormatter`.","body":"Don’t use <code>SimpleDateFormat</code>, neither here nor anywhere at all.That class was notoriously troublesome and is long outdated. Use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. Also for conversion from numbers to a date-time object don’t go through building a string and parsing it back. Your problem comes from your date picker confusingly using 0-based months 0 = January through 11 = December. So you need <code>LocalDate.of(selectedYear, selectedMonth + 1, selectedDay)</code>. Format the <code>LocalDate</code> using a <code>DateTimeFormatter</code>."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1682892395,"post_id":76137219,"comment_id":134282446,"body_markdown":"The `Calendar` API is absolutely terrible for reasons like this.  Never use it.","body":"The <code>Calendar</code> API is absolutely terrible for reasons like this.  Never use it."}],"answers":[{"tags":[],"owner":{"account_id":6440378,"reputation":184,"user_id":4990575,"display_name":"Kurojin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682785609,"creation_date":1682785332,"answer_id":76137242,"question_id":76137219,"body_markdown":"if you look at the official doc [https://developer.android.com/reference/android/app/DatePickerDialog.OnDateSetListener][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/DatePickerDialog.OnDateSetListener\r\n\r\nmonth value goes from 0 to 11 so it is normal\r\n\r\nit is said to be compatible with java.util.Calendar, maybe you are using an incompatible calendar","title":"Why are months one less than the selected value when using DatePickerDialog in Kotlin?","body":"<p>if you look at the official doc <a href=\"https://developer.android.com/reference/android/app/DatePickerDialog.OnDateSetListener\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/app/DatePickerDialog.OnDateSetListener</a></p>\n<p>month value goes from 0 to 11 so it is normal</p>\n<p>it is said to be compatible with java.util.Calendar, maybe you are using an incompatible calendar</p>\n"}],"owner":{"account_id":22996668,"reputation":21,"user_id":17121318,"display_name":"Anantashayana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682785609,"creation_date":1682785036,"question_id":76137219,"body_markdown":"I&#39;m developing an Android app in Kotlin, and I&#39;m using the **DatePickerDialog** to allow the user to select a date. However, I&#39;ve noticed that when the user selects a month, the value passed to the OnDateSetListener callback is one less than the actual selected value.\r\n\r\nFor example, if I select the date *15/December/2022*, the callback will receive selectedMonth as 11 instead of 12. Similarly, if I select *3/January/2023*, the callback will receive selectedMonth as 12 instead of 1.  For February it is 1.\r\n\r\nHere&#39;s the relevant code I&#39;m using:\r\n\r\n```\r\nfun pickDate() {\r\n    val cal = Calendar.getInstance()\r\n    val year = cal.get(Calendar.YEAR)\r\n    val month = cal.get(Calendar.MONTH)\r\n    val day = cal.get(Calendar.DAY_OF_MONTH)\r\n    DatePickerDialog(this,\r\n        DatePickerDialog.OnDateSetListener { view, selectedYear, selectedMonth, selectedDay -&gt;\r\n            val selectedDate = &quot;$selectedDay/$selectedMonth/$selectedYear&quot;\r\n            val sdf = SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.ENGLISH)\r\n            val formattedDate = sdf.format(sdf.parse(selectedDate))\r\n            dateText?.text = formattedDate.toString()\r\n        },\r\n        year,\r\n        month,\r\n        day\r\n    ).show()\r\n}\r\n\r\n```\r\n\r\nAs you can see, I&#39;m formatting the selected date as a string using the selectedDay, selectedMonth, and selectedYear values passed to the callback. However, since the selectedMonth value is one less than the actual selected value, the resulting string is incorrect.\r\n\r\nCan anyone explain why this is happening, and how I can fix it so that the displayed date is correct?\r\nThanks in advance for any help\r\n\r\n\r\nI got some answers from some site that Month here starts from 0. It it was true January should be 0 not 12.","title":"Why are months one less than the selected value when using DatePickerDialog in Kotlin?","body":"<p>I'm developing an Android app in Kotlin, and I'm using the <strong>DatePickerDialog</strong> to allow the user to select a date. However, I've noticed that when the user selects a month, the value passed to the OnDateSetListener callback is one less than the actual selected value.</p>\n<p>For example, if I select the date <em>15/December/2022</em>, the callback will receive selectedMonth as 11 instead of 12. Similarly, if I select <em>3/January/2023</em>, the callback will receive selectedMonth as 12 instead of 1.  For February it is 1.</p>\n<p>Here's the relevant code I'm using:</p>\n<pre><code>fun pickDate() {\n    val cal = Calendar.getInstance()\n    val year = cal.get(Calendar.YEAR)\n    val month = cal.get(Calendar.MONTH)\n    val day = cal.get(Calendar.DAY_OF_MONTH)\n    DatePickerDialog(this,\n        DatePickerDialog.OnDateSetListener { view, selectedYear, selectedMonth, selectedDay -&gt;\n            val selectedDate = &quot;$selectedDay/$selectedMonth/$selectedYear&quot;\n            val sdf = SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.ENGLISH)\n            val formattedDate = sdf.format(sdf.parse(selectedDate))\n            dateText?.text = formattedDate.toString()\n        },\n        year,\n        month,\n        day\n    ).show()\n}\n\n</code></pre>\n<p>As you can see, I'm formatting the selected date as a string using the selectedDay, selectedMonth, and selectedYear values passed to the callback. However, since the selectedMonth value is one less than the actual selected value, the resulting string is incorrect.</p>\n<p>Can anyone explain why this is happening, and how I can fix it so that the displayed date is correct?\nThanks in advance for any help</p>\n<p>I got some answers from some site that Month here starts from 0. It it was true January should be 0 not 12.</p>\n"},{"tags":["java","android","xml","api","google-maps"],"answers":[{"tags":[],"owner":{"account_id":1361461,"reputation":1592,"user_id":1298744,"accept_rate":71,"display_name":"Zelig63"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682785519,"creation_date":1682785519,"answer_id":76137266,"question_id":76136746,"body_markdown":"Have you added your maps API key in your Manifest?\r\nSomething like that :\r\n\t\t\r\n\t\t&lt;meta-data\r\n\t\t\tandroid:name=&quot;com.google.android.maps.v2.API_KEY&quot;\r\n\t\t\tandroid:value=&quot;.................................&quot;&gt;\r\n\t\t&lt;/meta-data&gt;\r\n","title":"Google map not loading after running my code with no errors","body":"<p>Have you added your maps API key in your Manifest?\nSomething like that :</p>\n<pre><code>    &lt;meta-data\n        android:name=&quot;com.google.android.maps.v2.API_KEY&quot;\n        android:value=&quot;.................................&quot;&gt;\n    &lt;/meta-data&gt;\n</code></pre>\n"}],"owner":{"account_id":28455337,"reputation":1,"user_id":21772801,"display_name":"Ngulle Nanga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682785519,"creation_date":1682778516,"question_id":76136746,"body_markdown":"```\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Color;\r\nimport android.location.Location;\r\nimport android.location.LocationListener;\r\nimport android.location.LocationManager;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.JsonObjectRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.google.android.gms.maps.CameraUpdate;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.MapFragment;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport com.google.android.gms.maps.model.PolylineOptions;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\npublic class MapsFragment extends Fragment implements OnMapReadyCallback {\r\n\r\n    SupportMapFragment mapFragment;\r\n\r\n    private GoogleMap mMap;\r\n    private LocationManager locationManager;\r\n    private LocationListener locationListener;\r\n    private static final String TAG = &quot;MapsFragment&quot;;\r\n\r\n    private static final int PERMISSIONS_REQUEST_LOCATION = 100;\r\n\r\n\r\n    @Override\r\n    public void onViewCreated(View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        mapFragment = (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n\r\n        locationManager = (LocationManager) getActivity().getSystemService(Context.LOCATION_SERVICE);\r\n        locationListener = new LocationListener() {\r\n            @Override\r\n            public void onLocationChanged(@NonNull Location location) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStatusChanged(String provider, int status, Bundle extras) {\r\n            }\r\n\r\n            @Override\r\n            public void onProviderEnabled(String provider) {\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        mMap.setMyLocationEnabled(true);\r\n\r\n        mMap.getUiSettings().setMyLocationButtonEnabled(true);\r\n        mMap.getUiSettings().setZoomControlsEnabled(true);\r\n\r\n        locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);\r\n\r\n        Location lastKnownLocation = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);\r\n        if (lastKnownLocation != null) {\r\n            LatLng currentLatLng = new LatLng(lastKnownLocation.getLatitude(), lastKnownLocation.getLongitude());\r\n            mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(currentLatLng, 15));\r\n        }\r\n    }\r\n\r\n    private void drawRoute(LatLng origin, LatLng destination) {\r\n        String apiKey = &quot;AIzaSyB7Dxn7v2_8vyFin-mIq7Fms6qZy72Azfo&quot;;\r\n        String url = &quot;https://maps.googleapis.com/maps/api/directions/json?origin=&quot; + origin.latitude + &quot;,&quot; + origin.longitude + &quot;&amp;destination=&quot; + destination.latitude + &quot;,&quot; + destination.longitude + &quot;&amp;key=&quot; + apiKey;\r\n\r\n        RequestQueue queue = Volley.newRequestQueue(getActivity());\r\n\r\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\r\n            @Override\r\n            public void onResponse(JSONObject response) {\r\n                try {\r\n                    JSONArray routes = response.getJSONArray(&quot;routes&quot;);\r\n                    if (routes.length() &gt; 0) {\r\n                        JSONArray legs = routes.getJSONObject(0).getJSONArray(&quot;legs&quot;);\r\n                        if (legs.length() &gt; 0) {\r\n                            JSONArray steps = legs.getJSONObject(0).getJSONArray(&quot;steps&quot;);\r\n                            if (steps.length() &gt; 0) {\r\n                                PolylineOptions polylineOptions = new PolylineOptions();\r\n                                for (int i = 0; i &lt; steps.length(); i++) {\r\n                                    JSONObject step = steps.getJSONObject(i);\r\n                                    if (step.has(&quot;start_location&quot;)) {\r\n                                        JSONObject startLocation = step.getJSONObject(&quot;start_location&quot;);\r\n                                        LatLng startLatLng = new LatLng(startLocation.getDouble(&quot;lat&quot;), startLocation.getDouble(&quot;lng&quot;));\r\n                                        polylineOptions.add(startLatLng);\r\n                                    }\r\n                                    if (i == steps.length() - 1 &amp;&amp; step.has(&quot;end_location&quot;)) {\r\n                                        JSONObject endLocation = step.getJSONObject(&quot;end_location&quot;);\r\n                                        LatLng endLatLng = new LatLng(endLocation.getDouble(&quot;lat&quot;), endLocation.getDouble(&quot;lng&quot;));\r\n                                        polylineOptions.add(endLatLng);\r\n                                    }\r\n                                }\r\n\r\n                                polylineOptions.color(Color.BLUE);\r\n                                polylineOptions.width(10);\r\n                                mMap.clear(); // clear existing polylines\r\n                                mMap.addPolyline(polylineOptions);\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Log.e(TAG, &quot;Error getting directions&quot;, error);\r\n            }\r\n        });\r\n\r\n        queue.add(request);\r\n    }\r\n\r\n    // Call this method wherever you want to draw the route\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    private void showRoute() {\r\n        LatLng originLatLng = new LatLng(9.2879, 4.1489);\r\n\r\n            @SuppressLint(&quot;MissingPermission&quot;) Location lastKnownLocation = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);\r\n            if (lastKnownLocation != null) {\r\n                LatLng currentLatLng = new LatLng(lastKnownLocation.getLatitude(), lastKnownLocation.getLongitude());\r\n                drawRoute(currentLatLng, originLatLng);\r\n            } else {\r\n                // Last known location not available, request location updates\r\n                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);\r\n            }\r\n\r\n    }\r\n}\r\n```\r\n\r\nI was expecting to draw a route between two points my current location and another point but the google map isn&#39;t loading at all. I have gotten the google map API and enabled direction API and google maps API but I haven&#39;t enabled billing could that be the reason\r\nthe code is running perfectly well yet not doing what it is suppose to do","title":"Google map not loading after running my code with no errors","body":"<pre><code>import androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\nimport androidx.fragment.app.Fragment;\n\nimport android.Manifest;\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.content.pm.PackageManager;\nimport android.graphics.Color;\nimport android.location.Location;\nimport android.location.LocationListener;\nimport android.location.LocationManager;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.JsonObjectRequest;\nimport com.android.volley.toolbox.Volley;\nimport com.google.android.gms.maps.CameraUpdate;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.MapFragment;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport com.google.android.gms.maps.model.PolylineOptions;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\npublic class MapsFragment extends Fragment implements OnMapReadyCallback {\n\n    SupportMapFragment mapFragment;\n\n    private GoogleMap mMap;\n    private LocationManager locationManager;\n    private LocationListener locationListener;\n    private static final String TAG = &quot;MapsFragment&quot;;\n\n    private static final int PERMISSIONS_REQUEST_LOCATION = 100;\n\n\n    @Override\n    public void onViewCreated(View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        mapFragment = (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n\n        locationManager = (LocationManager) getActivity().getSystemService(Context.LOCATION_SERVICE);\n        locationListener = new LocationListener() {\n            @Override\n            public void onLocationChanged(@NonNull Location location) {\n\n            }\n\n            @Override\n            public void onStatusChanged(String provider, int status, Bundle extras) {\n            }\n\n            @Override\n            public void onProviderEnabled(String provider) {\n            }\n        };\n    }\n\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n        mMap.setMyLocationEnabled(true);\n\n        mMap.getUiSettings().setMyLocationButtonEnabled(true);\n        mMap.getUiSettings().setZoomControlsEnabled(true);\n\n        locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);\n\n        Location lastKnownLocation = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);\n        if (lastKnownLocation != null) {\n            LatLng currentLatLng = new LatLng(lastKnownLocation.getLatitude(), lastKnownLocation.getLongitude());\n            mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(currentLatLng, 15));\n        }\n    }\n\n    private void drawRoute(LatLng origin, LatLng destination) {\n        String apiKey = &quot;AIzaSyB7Dxn7v2_8vyFin-mIq7Fms6qZy72Azfo&quot;;\n        String url = &quot;https://maps.googleapis.com/maps/api/directions/json?origin=&quot; + origin.latitude + &quot;,&quot; + origin.longitude + &quot;&amp;destination=&quot; + destination.latitude + &quot;,&quot; + destination.longitude + &quot;&amp;key=&quot; + apiKey;\n\n        RequestQueue queue = Volley.newRequestQueue(getActivity());\n\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\n            @Override\n            public void onResponse(JSONObject response) {\n                try {\n                    JSONArray routes = response.getJSONArray(&quot;routes&quot;);\n                    if (routes.length() &gt; 0) {\n                        JSONArray legs = routes.getJSONObject(0).getJSONArray(&quot;legs&quot;);\n                        if (legs.length() &gt; 0) {\n                            JSONArray steps = legs.getJSONObject(0).getJSONArray(&quot;steps&quot;);\n                            if (steps.length() &gt; 0) {\n                                PolylineOptions polylineOptions = new PolylineOptions();\n                                for (int i = 0; i &lt; steps.length(); i++) {\n                                    JSONObject step = steps.getJSONObject(i);\n                                    if (step.has(&quot;start_location&quot;)) {\n                                        JSONObject startLocation = step.getJSONObject(&quot;start_location&quot;);\n                                        LatLng startLatLng = new LatLng(startLocation.getDouble(&quot;lat&quot;), startLocation.getDouble(&quot;lng&quot;));\n                                        polylineOptions.add(startLatLng);\n                                    }\n                                    if (i == steps.length() - 1 &amp;&amp; step.has(&quot;end_location&quot;)) {\n                                        JSONObject endLocation = step.getJSONObject(&quot;end_location&quot;);\n                                        LatLng endLatLng = new LatLng(endLocation.getDouble(&quot;lat&quot;), endLocation.getDouble(&quot;lng&quot;));\n                                        polylineOptions.add(endLatLng);\n                                    }\n                                }\n\n                                polylineOptions.color(Color.BLUE);\n                                polylineOptions.width(10);\n                                mMap.clear(); // clear existing polylines\n                                mMap.addPolyline(polylineOptions);\n                            }\n                        }\n                    }\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Log.e(TAG, &quot;Error getting directions&quot;, error);\n            }\n        });\n\n        queue.add(request);\n    }\n\n    // Call this method wherever you want to draw the route\n    @SuppressLint(&quot;MissingPermission&quot;)\n    private void showRoute() {\n        LatLng originLatLng = new LatLng(9.2879, 4.1489);\n\n            @SuppressLint(&quot;MissingPermission&quot;) Location lastKnownLocation = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);\n            if (lastKnownLocation != null) {\n                LatLng currentLatLng = new LatLng(lastKnownLocation.getLatitude(), lastKnownLocation.getLongitude());\n                drawRoute(currentLatLng, originLatLng);\n            } else {\n                // Last known location not available, request location updates\n                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);\n            }\n\n    }\n}\n</code></pre>\n<p>I was expecting to draw a route between two points my current location and another point but the google map isn't loading at all. I have gotten the google map API and enabled direction API and google maps API but I haven't enabled billing could that be the reason\nthe code is running perfectly well yet not doing what it is suppose to do</p>\n"},{"tags":["java","maven","ffmpeg","javacv"],"comments":[{"owner":{"account_id":21841051,"reputation":411,"user_id":16134571,"display_name":"Aaron Liu"},"score":1,"creation_date":1682785536,"post_id":76137215,"comment_id":134271371,"body_markdown":"Could you trim your code into the smallest version possible where it still fails with that error, AKA into a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"Could you trim your code into the smallest version possible where it still fails with that error, AKA into a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1682814588,"post_id":76137215,"comment_id":134274488,"body_markdown":"We can accomplish that kind of task a lot more easily using the ffmpeg program, which is easy to use from Java too: http://bytedeco.org/javacpp-presets/ffmpeg/apidocs/org/bytedeco/ffmpeg/ffmpeg.html","body":"We can accomplish that kind of task a lot more easily using the ffmpeg program, which is easy to use from Java too: <a href=\"http://bytedeco.org/javacpp-presets/ffmpeg/apidocs/org/bytedeco/ffmpeg/ffmpeg.html\" rel=\"nofollow noreferrer\">bytedeco.org/javacpp-presets/ffmpeg/apidocs/org/bytedeco/ffm&zwnj;&#8203;peg/&hellip;</a>"}],"owner":{"account_id":11716015,"reputation":75,"user_id":8576498,"display_name":"Saurabh Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682784933,"creation_date":1682784933,"question_id":76137215,"body_markdown":"Working on a project which requires conversion from video of quicktime to mp4 format \r\nUsing the javacv maven library\r\n\r\n```\r\n &lt;dependency&gt;\r\n        &lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javacv-platform&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.8&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n\r\n```\r\nHere is the code format using MPEG4 codec\r\n```\r\n public static ByteArrayOutputStream convertToMp4(String videoId, byte[] file) {\r\n        classLogger.trace(&quot;request is received to convert video: &quot; + videoId + &quot; to mp4&quot;);\r\n        FFmpegLogCallback.set();\r\n        InputStream stream = new ByteArrayInputStream(file);\r\n        Frame captured_frame = null;\r\n        FFmpegFrameRecorder recorder = null;\r\n        FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(stream);\r\n        SeekableByteArrayOutputStream outputStream = new SeekableByteArrayOutputStream();\r\n        try {\r\n            grabber.start();\r\n            System.out.println(&quot;grabber frame rate &quot; + grabber.getFrameRate()); //value is 29.85882710114861\r\n            recorder = new FFmpegFrameRecorder(outputStream, grabber.getImageWidth(), grabber.getImageHeight(), grabber.getAudioChannels());\r\n            recorder.setVideoCodec(avcodec.AV_CODEC_ID_MPEG4);\r\n            System.out.println(&quot;recorder frame rate b4 &quot; + recorder.getFrameRate()); //value is 30.0\r\n            recorder.setFormat(&quot;mp4&quot;);\r\n            recorder.setFrameRate(grabber.getFrameRate());\r\n            recorder.setAudioMetadata(grabber.getAudioMetadata());\r\n            recorder.setAudioOption(&quot;crf&quot;, &quot;0&quot;);\r\n            recorder.setAudioQuality(0);\r\n            recorder.setVideoBitrate(grabber.getVideoBitrate());\r\n            recorder.setAudioBitrate(grabber.getAudioBitrate());\r\n            recorder.setSampleRate(grabber.getSampleRate());\r\n            recorder.setVideoMetadata(grabber.getVideoMetadata());\r\n            recorder.start();\r\n            while ((captured_frame = grabber.grabFrame()) != null) {\r\n                try {\r\n                    recorder.setTimestamp(grabber.getTimestamp());\r\n                    recorder.record(captured_frame);\r\n                } catch (Exception e) {\r\n                    classLogger.error(e.getMessage());\r\n                }\r\n            }\r\n            recorder.stop();\r\n            recorder.release();\r\n            grabber.stop();\r\n            grabber.release();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return outputStream;\r\n    }\r\n\r\n```\r\nThe following code fails with the error \r\n```\r\nError: [mpeg4 @ 0x7f61043a6e40] timebase 19763/590100 not supported by MPEG 4 standard, the maximum admitted value for the timebase denominator is 65535\r\n\r\norg.bytedeco.javacv.FFmpegFrameRecorder$Exception: avcodec_open2() error -22: Could not open video codec. (For more details, make sure FFmpegLogCallback.set() has been called.)\r\n\r\n```\r\nI tried changing frame rate to alter the value of timebase but was of no help\r\n\r\nI also tried changing the codec to **H264**  and here the video was converted successfully but there was a significant loss in frames and the video quality was distorted.\r\nEven though the video was converted successfully there was the following error log during the conversion\r\n```\r\nError: [mp4 @ 0x7fc2486d9b80] Application provided invalid, non monotonically increasing dts to muxer in stream 0: 2094878 &gt;= 2094878\r\nav_interleaved_write_frame() error -22 while writing interleaved video packet. (For more details, make sure FFmpegLogCallback.set() has been called.)\r\n```\r\nAny help will be highty appreciated, Thanks\r\n","title":"FFMPEG Video conversion","body":"<p>Working on a project which requires conversion from video of quicktime to mp4 format\nUsing the javacv maven library</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\n        &lt;artifactId&gt;javacv-platform&lt;/artifactId&gt;\n        &lt;version&gt;1.5.8&lt;/version&gt;\n &lt;/dependency&gt;\n\n</code></pre>\n<p>Here is the code format using MPEG4 codec</p>\n<pre><code> public static ByteArrayOutputStream convertToMp4(String videoId, byte[] file) {\n        classLogger.trace(&quot;request is received to convert video: &quot; + videoId + &quot; to mp4&quot;);\n        FFmpegLogCallback.set();\n        InputStream stream = new ByteArrayInputStream(file);\n        Frame captured_frame = null;\n        FFmpegFrameRecorder recorder = null;\n        FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(stream);\n        SeekableByteArrayOutputStream outputStream = new SeekableByteArrayOutputStream();\n        try {\n            grabber.start();\n            System.out.println(&quot;grabber frame rate &quot; + grabber.getFrameRate()); //value is 29.85882710114861\n            recorder = new FFmpegFrameRecorder(outputStream, grabber.getImageWidth(), grabber.getImageHeight(), grabber.getAudioChannels());\n            recorder.setVideoCodec(avcodec.AV_CODEC_ID_MPEG4);\n            System.out.println(&quot;recorder frame rate b4 &quot; + recorder.getFrameRate()); //value is 30.0\n            recorder.setFormat(&quot;mp4&quot;);\n            recorder.setFrameRate(grabber.getFrameRate());\n            recorder.setAudioMetadata(grabber.getAudioMetadata());\n            recorder.setAudioOption(&quot;crf&quot;, &quot;0&quot;);\n            recorder.setAudioQuality(0);\n            recorder.setVideoBitrate(grabber.getVideoBitrate());\n            recorder.setAudioBitrate(grabber.getAudioBitrate());\n            recorder.setSampleRate(grabber.getSampleRate());\n            recorder.setVideoMetadata(grabber.getVideoMetadata());\n            recorder.start();\n            while ((captured_frame = grabber.grabFrame()) != null) {\n                try {\n                    recorder.setTimestamp(grabber.getTimestamp());\n                    recorder.record(captured_frame);\n                } catch (Exception e) {\n                    classLogger.error(e.getMessage());\n                }\n            }\n            recorder.stop();\n            recorder.release();\n            grabber.stop();\n            grabber.release();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return outputStream;\n    }\n\n</code></pre>\n<p>The following code fails with the error</p>\n<pre><code>Error: [mpeg4 @ 0x7f61043a6e40] timebase 19763/590100 not supported by MPEG 4 standard, the maximum admitted value for the timebase denominator is 65535\n\norg.bytedeco.javacv.FFmpegFrameRecorder$Exception: avcodec_open2() error -22: Could not open video codec. (For more details, make sure FFmpegLogCallback.set() has been called.)\n\n</code></pre>\n<p>I tried changing frame rate to alter the value of timebase but was of no help</p>\n<p>I also tried changing the codec to <strong>H264</strong>  and here the video was converted successfully but there was a significant loss in frames and the video quality was distorted.\nEven though the video was converted successfully there was the following error log during the conversion</p>\n<pre><code>Error: [mp4 @ 0x7fc2486d9b80] Application provided invalid, non monotonically increasing dts to muxer in stream 0: 2094878 &gt;= 2094878\nav_interleaved_write_frame() error -22 while writing interleaved video packet. (For more details, make sure FFmpegLogCallback.set() has been called.)\n</code></pre>\n<p>Any help will be highty appreciated, Thanks</p>\n"},{"tags":["java","mysql","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":2835334,"reputation":1103,"user_id":2436051,"accept_rate":100,"display_name":"Jens Krogsboell"},"score":0,"creation_date":1444064430,"post_id":32953037,"comment_id":53732625,"body_markdown":"I am not familiar with import_files, but from the output my guess is that sql statements in the file span two lines but import_files expect each sql statement to span only one line causing &quot;insert ... values&quot; and &quot;the value list&quot; to be treated as two separate statements. Check out this thread http://stackoverflow.com/questions/673802/how-to-import-initial-data-to-database-with-hibernate.","body":"I am not familiar with import_files, but from the output my guess is that sql statements in the file span two lines but import_files expect each sql statement to span only one line causing &quot;insert ... values&quot; and &quot;the value list&quot; to be treated as two separate statements. Check out this thread <a href=\"http://stackoverflow.com/questions/673802/how-to-import-initial-data-to-database-with-hibernate\" title=\"how to import initial data to database with hibernate\">stackoverflow.com/questions/673802/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":78549,"reputation":46986,"user_id":223478,"accept_rate":94,"display_name":"Neil McGuigan"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1455577218,"creation_date":1444070578,"answer_id":32955642,"question_id":32953037,"body_markdown":"1. Make sure you are setting the JDBC driver to use UTF-8:\n\n    `jdbc:mysql://dbname?useUnicode=true&amp;characterEncoding=utf-8`\n\n1. In `persistence.xml`, set the hibernate connection charset:\n\n   `&lt;property name=&quot;hibernate.connection.charSet&quot; value=&quot;UTF-8&quot;/&gt;`\n\nIf your `resources/import.sql` file is multi-line, add:\n\n    &lt;property \n      name=&quot;hibernate.hbm2ddl.import_files_sql_extractor&quot;\n      value=&quot;org.hibernate.tool.hbm2ddl.MultipleLinesSqlCommandExtractor&quot; \n    /&gt;\n\nor for Spring Boot, in `application.properties`:\n\n    spring.jpa.properties.hibernate.connection.charSet=UTF-8\n    spring.jpa.properties.hibernate.hbm2ddl.import_files_sql_extractor=org.hibernate.tool.hbm2ddl.MultipleLinesSqlCommandExtractor","title":"Spring Mvc Hibernate Encoding/Multi-line import sql","body":"<ol>\n<li><p>Make sure you are setting the JDBC driver to use UTF-8:</p>\n<p><code>jdbc:mysql://dbname?useUnicode=true&amp;characterEncoding=utf-8</code></p>\n</li>\n<li><p>In <code>persistence.xml</code>, set the hibernate connection charset:</p>\n<p><code>&lt;property name=&quot;hibernate.connection.charSet&quot; value=&quot;UTF-8&quot;/&gt;</code></p>\n</li>\n</ol>\n<p>If your <code>resources/import.sql</code> file is multi-line, add:</p>\n<pre><code>&lt;property \n  name=&quot;hibernate.hbm2ddl.import_files_sql_extractor&quot;\n  value=&quot;org.hibernate.tool.hbm2ddl.MultipleLinesSqlCommandExtractor&quot; \n/&gt;\n</code></pre>\n<p>or for Spring Boot, in <code>application.properties</code>:</p>\n<pre><code>spring.jpa.properties.hibernate.connection.charSet=UTF-8\nspring.jpa.properties.hibernate.hbm2ddl.import_files_sql_extractor=org.hibernate.tool.hbm2ddl.MultipleLinesSqlCommandExtractor\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28454839,"reputation":1,"user_id":21772397,"display_name":"HuGeSer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682784645,"creation_date":1682784645,"answer_id":76137193,"question_id":32953037,"body_markdown":"For Spring Boot, if you use Hibernate 6, extractor changed its name and place. New way is:\r\n\r\n    spring.jpa.properties.hibernate.hbm2ddl.import_files_sql_extractor=org.hibernate.tool.schema.internal.script.MultiLineSqlScriptExtractor\r\n\r\n","title":"Spring Mvc Hibernate Encoding/Multi-line import sql","body":"<p>For Spring Boot, if you use Hibernate 6, extractor changed its name and place. New way is:</p>\n<pre><code>spring.jpa.properties.hibernate.hbm2ddl.import_files_sql_extractor=org.hibernate.tool.schema.internal.script.MultiLineSqlScriptExtractor\n</code></pre>\n"}],"owner":{"account_id":5157958,"reputation":497,"user_id":4130633,"accept_rate":50,"display_name":"Mikheil Janiashvili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4715,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":32955642,"answer_count":2,"score":5,"last_activity_date":1682784645,"creation_date":1444061411,"question_id":32953037,"body_markdown":"I am working on Spring MVC,\r\n\r\nOn project startup i have set `database` to import default `sql`\r\nwith hibernate configuration `hibernate.hbm2ddl.import_files`.\r\nData inside `import.sql` is encoded with `UTF-8`.\r\n\r\n&gt; Console Output\r\n\r\n     ERROR: org.hibernate.tool.hbm2ddl.SchemaExport - HHH000388:\r\n     Unsuccessful: INSERT INTO menu (id, DATE_CREATED, DATE_DELETED,\r\n     DATE_UPDATED, TITLE_ENG, TITLE_GEO, TITLE_RUS, ENABLED, PARENT_ID,\r\n     URL, SITE_ID, USER_ID) VALUES \r\n    \r\n     ERROR:\r\n     org.hibernate.tool.hbm2ddl.SchemaExport - You have an error in your\r\n     SQL syntax; check the manual that corresponds to your MySQL server\r\n     version for the right syntax to use near &#39;&#39; at line 1\r\n     \r\n     ERROR:\r\n     org.hibernate.tool.hbm2ddl.SchemaExport - HHH000388: Unsuccessful: (1,\r\n     &#39;2015-09-10 12:00:00&#39;, NULL, NULL, &#39;About Us&#39;, N&#39;&#225;ƒ&#169;&#225;ƒ•&#225;ƒ”&#225;ƒœ&#225;ƒ&#161;\r\n     &#225;ƒ&#168;&#225;ƒ”&#225;ƒ&#161;&#225;ƒ�&#225;ƒ&#174;&#225;ƒ”&#225;ƒ‘&#39;, &#39;About Us&#39;, b&#39;1&#39;, NULL, &#39;/article/view/1&#39;, 3,\r\n     1).","title":"Spring Mvc Hibernate Encoding/Multi-line import sql","body":"<p>I am working on Spring MVC,</p>\n\n<p>On project startup i have set <code>database</code> to import default <code>sql</code>\nwith hibernate configuration <code>hibernate.hbm2ddl.import_files</code>.\nData inside <code>import.sql</code> is encoded with <code>UTF-8</code>.</p>\n\n<blockquote>\n  <p>Console Output</p>\n</blockquote>\n\n<pre><code> ERROR: org.hibernate.tool.hbm2ddl.SchemaExport - HHH000388:\n Unsuccessful: INSERT INTO menu (id, DATE_CREATED, DATE_DELETED,\n DATE_UPDATED, TITLE_ENG, TITLE_GEO, TITLE_RUS, ENABLED, PARENT_ID,\n URL, SITE_ID, USER_ID) VALUES \n\n ERROR:\n org.hibernate.tool.hbm2ddl.SchemaExport - You have an error in your\n SQL syntax; check the manual that corresponds to your MySQL server\n version for the right syntax to use near '' at line 1\n\n ERROR:\n org.hibernate.tool.hbm2ddl.SchemaExport - HHH000388: Unsuccessful: (1,\n '2015-09-10 12:00:00', NULL, NULL, 'About Us', N'áƒ©áƒ•áƒ”áƒœáƒ¡\n áƒ¨áƒ”áƒ¡áƒ�áƒ®áƒ”áƒ‘', 'About Us', b'1', NULL, '/article/view/1', 3,\n 1).\n</code></pre>\n"},{"tags":["java","eclipse","java.util.scanner"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":5,"creation_date":1428052606,"post_id":29429362,"comment_id":47028694,"body_markdown":"Does `Ctrl+Shift+O` help you?","body":"Does <code>Ctrl+Shift+O</code> help you?"},{"owner":{"account_id":2613040,"reputation":466,"user_id":2262795,"display_name":"ceekay"},"score":0,"creation_date":1428052853,"post_id":29429362,"comment_id":47028776,"body_markdown":"Not sure but maybe this could help? http://stackoverflow.com/questions/6293475/organize-imports-automatically","body":"Not sure but maybe this could help? <a href=\"http://stackoverflow.com/questions/6293475/organize-imports-automatically\" title=\"organize imports automatically\">stackoverflow.com/questions/6293475/&hellip;</a>"},{"owner":{"account_id":6079438,"reputation":11,"user_id":4745673,"display_name":"zsatei"},"score":0,"creation_date":1428057846,"post_id":29429362,"comment_id":47030793,"body_markdown":"Thanks for the suggestion guys - good alternative, but not quite the same as what my other computers were doing.","body":"Thanks for the suggestion guys - good alternative, but not quite the same as what my other computers were doing."},{"owner":{"account_id":213468,"reputation":103487,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1648915854,"post_id":29429362,"comment_id":126746308,"body_markdown":"Related, possible duplicate [Can eclipse be configured to automatically fix missing Imports?](https://stackoverflow.com/questions/3982885/can-eclipse-be-configured-to-automatically-fix-missing-imports)","body":"Related, possible duplicate <a href=\"https://stackoverflow.com/questions/3982885/can-eclipse-be-configured-to-automatically-fix-missing-imports\">Can eclipse be configured to automatically fix missing Imports?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1194461,"reputation":753,"user_id":1166469,"accept_rate":50,"display_name":"Vanaja Jayaraman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1428055263,"creation_date":1428055263,"answer_id":29430004,"question_id":29429362,"body_markdown":"Use the shortcut ctrl+shft+o in Eclipse. It automatically imports whatever classes needed and suggests you with possible imports if conflict occurs.","title":"Eclipse auto-import Scanner class?","body":"<p>Use the shortcut ctrl+shft+o in Eclipse. It automatically imports whatever classes needed and suggests you with possible imports if conflict occurs.</p>\n"}],"owner":{"account_id":6079438,"reputation":11,"user_id":4745673,"display_name":"zsatei"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17344,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1682784280,"creation_date":1428052550,"question_id":29429362,"body_markdown":"I&#39;ve been using Eclipse on a few computers recently, and since using it on my home computer, have found that it doesn&#39;t automatically import java.util.* or java.util.Scanner after declaring a Scanner class in my code.\r\n\r\nIn my code, I type something like:\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n\r\n... and in the past, Eclipse would add the `import java.util.Scanner` or `import java.util.*` line above my class.\r\n\r\nAny idea how I could get the program to do this for me? I know it&#39;s a very insignificant thing, but everything I learn about Eclipse or programming makes me a stronger programmer.","title":"Eclipse auto-import Scanner class?","body":"<p>I've been using Eclipse on a few computers recently, and since using it on my home computer, have found that it doesn't automatically import java.util.* or java.util.Scanner after declaring a Scanner class in my code.</p>\n<p>In my code, I type something like:</p>\n<pre><code>Scanner sc = new Scanner(System.in);\n</code></pre>\n<p>... and in the past, Eclipse would add the <code>import java.util.Scanner</code> or <code>import java.util.*</code> line above my class.</p>\n<p>Any idea how I could get the program to do this for me? I know it's a very insignificant thing, but everything I learn about Eclipse or programming makes me a stronger programmer.</p>\n"},{"tags":["java","windows","jenkins"],"answers":[{"tags":[],"owner":{"account_id":10336690,"reputation":3527,"user_id":7624566,"display_name":"K. B."},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1521880913,"creation_date":1521880486,"answer_id":49462773,"question_id":49457923,"body_markdown":"You can install Java on your local computer from [here][1]. Typically on Windows it would install it in a folder like C:\\Program Files\\Java\\jdk1.8.0_161\\. Then just copy the JRE folder C:\\Program Files\\Java\\jdk1.8.0_161\\jre along with all its subfolders and files from your local computer to the JRE in the Jenkins folder (JAVA_HOME) so that you replace its contents. You can see JAVA_HOME from Jenkins System info. You can archive your old JRE installation files before that.\r\n\r\nThe second option is to install JRE on your Jenkins server directly from [here][2]. It will create a directory like this C:\\Program Files\\Java\\jre1.8.0_161. Then you could copy this folder contents into the Jenkins_home/jre folder or the folder your Jenkins is using.\r\n\r\nThird option is to install JRE on your Jenkins server and then change the JAVA_HOME variable so that Jenkins uses the standard folder for your operating system. More info [here][3].\r\n\r\nYou may need to import your certificates into java keystore. See https://stackoverflow.com/questions/4325263/how-to-import-a-cer-certificate-into-a-java-keystore\r\n\r\n  [1]: https://java.com/en/download/\r\n  [2]: http://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html\r\n  [3]: https://stackoverflow.com/questions/8185593/jenkins-specifying-java-home","title":"Jenkins JRE Update on Windows","body":"<p>You can install Java on your local computer from <a href=\"https://java.com/en/download/\" rel=\"noreferrer\">here</a>. Typically on Windows it would install it in a folder like C:\\Program Files\\Java\\jdk1.8.0_161. Then just copy the JRE folder C:\\Program Files\\Java\\jdk1.8.0_161\\jre along with all its subfolders and files from your local computer to the JRE in the Jenkins folder (JAVA_HOME) so that you replace its contents. You can see JAVA_HOME from Jenkins System info. You can archive your old JRE installation files before that.</p>\n\n<p>The second option is to install JRE on your Jenkins server directly from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html\" rel=\"noreferrer\">here</a>. It will create a directory like this C:\\Program Files\\Java\\jre1.8.0_161. Then you could copy this folder contents into the Jenkins_home/jre folder or the folder your Jenkins is using.</p>\n\n<p>Third option is to install JRE on your Jenkins server and then change the JAVA_HOME variable so that Jenkins uses the standard folder for your operating system. More info <a href=\"https://stackoverflow.com/questions/8185593/jenkins-specifying-java-home\">here</a>.</p>\n\n<p>You may need to import your certificates into java keystore. See <a href=\"https://stackoverflow.com/questions/4325263/how-to-import-a-cer-certificate-into-a-java-keystore\">How to import a .cer certificate into a java keystore?</a></p>\n"},{"tags":[],"owner":{"account_id":2699087,"reputation":3617,"user_id":2330272,"accept_rate":67,"display_name":"Barry MSIH"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1664454597,"creation_date":1582915888,"answer_id":60457634,"question_id":49457923,"body_markdown":"This is for windows users who happen to stumple upon this question (like I did). You need to have the system environment variable JAVA_HOME set.\r\n\r\n 1. stop jenkins service\r\n 2. edit in the jenkins base folder edit jenkins.xml - \r\n\r\n```xml\r\n&lt;env name=&quot;JENKINS_HOME&quot; value=&quot;%BASE%&quot;/&gt;\r\n   &lt;!--\r\n     if you&#39;d like to run Jenkins with a specific version of Java, specify a full path to java.exe.\r\n     The following value assumes that you have java in your PATH.\r\n   --&gt;\r\n   &lt;executable&gt;%BASE%\\jre\\bin\\java&lt;/executable&gt;\r\n   &lt;arguments&gt;-Xrs -Xmx256m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -jar &quot;%BASE%\\jenkins.war&quot; --httpPort=8080 --webroot=&quot;%BASE%\\war&quot;&lt;/arguments&gt;\r\n```\r\n\r\n\r\nchange %BASE% to %JAVA_HOME% in &quot;executable&quot;\r\n\r\n\r\n```xml\r\n&lt;env name=&quot;JENKINS_HOME&quot; value=&quot;%BASE%&quot;/&gt;\r\n   &lt;!--\r\n     if you&#39;d like to run Jenkins with a specific version of Java, specify a full path to java.exe.\r\n     The following value assumes that you have java in your PATH.\r\n   --&gt;\r\n   &lt;executable&gt;%JAVA_HOME%\\jre\\bin\\java&lt;/executable&gt;\r\n   &lt;arguments&gt;-Xrs -Xmx256m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -jar &quot;%BASE%\\jenkins.war&quot; --httpPort=8080 --webroot=&quot;%BASE%\\war&quot;&lt;/arguments&gt;\r\n```\r\n\r\n 3. start jenkins\r\n \r\n","title":"Jenkins JRE Update on Windows","body":"<p>This is for windows users who happen to stumple upon this question (like I did). You need to have the system environment variable JAVA_HOME set.</p>\n<ol>\n<li>stop jenkins service</li>\n<li>edit in the jenkins base folder edit jenkins.xml -</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;env name=&quot;JENKINS_HOME&quot; value=&quot;%BASE%&quot;/&gt;\n   &lt;!--\n     if you'd like to run Jenkins with a specific version of Java, specify a full path to java.exe.\n     The following value assumes that you have java in your PATH.\n   --&gt;\n   &lt;executable&gt;%BASE%\\jre\\bin\\java&lt;/executable&gt;\n   &lt;arguments&gt;-Xrs -Xmx256m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -jar &quot;%BASE%\\jenkins.war&quot; --httpPort=8080 --webroot=&quot;%BASE%\\war&quot;&lt;/arguments&gt;\n</code></pre>\n<p>change %BASE% to %JAVA_HOME% in &quot;executable&quot;</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;env name=&quot;JENKINS_HOME&quot; value=&quot;%BASE%&quot;/&gt;\n   &lt;!--\n     if you'd like to run Jenkins with a specific version of Java, specify a full path to java.exe.\n     The following value assumes that you have java in your PATH.\n   --&gt;\n   &lt;executable&gt;%JAVA_HOME%\\jre\\bin\\java&lt;/executable&gt;\n   &lt;arguments&gt;-Xrs -Xmx256m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -jar &quot;%BASE%\\jenkins.war&quot; --httpPort=8080 --webroot=&quot;%BASE%\\war&quot;&lt;/arguments&gt;\n</code></pre>\n<ol start=\"3\">\n<li>start jenkins</li>\n</ol>\n"}],"owner":{"account_id":9148337,"reputation":1854,"user_id":6803697,"accept_rate":83,"display_name":"Dan Def"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7493,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":49462773,"answer_count":2,"score":9,"last_activity_date":1682784150,"creation_date":1521837302,"question_id":49457923,"body_markdown":"I am running a Jenkins server on Windows that is using the JRE in the Jenkins folder. The version is 1.8.0_66 but the Let&#39;s Encrypt certificate used by the Update Center is not compatible with this version, hence I need to update it.\r\n\r\nIs there a stand-alone JRE available that I can replace the contents of this folder with, or is there a standard way of updating this JRE within Jenkins itself?","title":"Jenkins JRE Update on Windows","body":"<p>I am running a Jenkins server on Windows that is using the JRE in the Jenkins folder. The version is 1.8.0_66 but the Let's Encrypt certificate used by the Update Center is not compatible with this version, hence I need to update it.</p>\n\n<p>Is there a stand-alone JRE available that I can replace the contents of this folder with, or is there a standard way of updating this JRE within Jenkins itself?</p>\n"},{"tags":["java","selenium-webdriver","testng","testng-dataprovider","invocation"],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682783880,"creation_date":1682783880,"answer_id":76137141,"question_id":76133738,"body_markdown":"`IAnnotationTransformer` doesn&#39;t seems to work in this case.\r\nI suggest to modify the behaviour of DataProvider method instead.\r\n1. create a mapping of value need to override invocation count.  \r\n   e.g. `{ &quot;funloginTest&quot; : { &quot;def&quot; : 4 } }`\r\n2. Inside `loginDataProvider`, we can use the test method name(Referring to [document of DataProvider][1]) to see which data need to have different invocation count.\r\n```kotlin\r\nclass RepeatedRunTest {\r\n    // TODO read it from json\r\n    private val testToCaseInvocationCount = mapOf(&quot;funloginTest&quot; to mapOf(&quot;def&quot; to 4))\r\n\r\n    @DataProvider(name = &quot;loginData&quot;, parallel = false)\r\n    fun loginDataProvider(testMethod: Method): MutableIterator&lt;String&gt; {\r\n        println(testMethod.name)\r\n        val loginTestData: Array&lt;String&gt; = arrayOf(&quot;abc&quot;, &quot;def&quot;, &quot;xyz&quot;)\r\n        return loginTestData.map { testData -&gt;\r\n            List(\r\n                // repeat if needed\r\n                testToCaseInvocationCount\r\n                    .getOrDefault(testMethod.name, emptyMap())\r\n                    .getOrDefault(testData, 1)\r\n            ) { testData }\r\n        }\r\n            .flatten().toMutableList().listIterator()\r\n    }\r\n\r\n    @Test(dataProvider = &quot;loginData&quot;)\r\n    fun funloginTest(loginDetails: String) {\r\n        print(&quot;The value of $loginDetails&quot;)\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://testng.org/doc/documentation-main.html#parameters-dataproviders","title":"How to set invocation count during execution for test method that uses data provider in TestNg &amp;java/ Kotlin?","body":"<p><code>IAnnotationTransformer</code> doesn't seems to work in this case.\nI suggest to modify the behaviour of DataProvider method instead.</p>\n<ol>\n<li>create a mapping of value need to override invocation count.<br />\ne.g. <code>{ &quot;funloginTest&quot; : { &quot;def&quot; : 4 } }</code></li>\n<li>Inside <code>loginDataProvider</code>, we can use the test method name(Referring to <a href=\"https://testng.org/doc/documentation-main.html#parameters-dataproviders\" rel=\"nofollow noreferrer\">document of DataProvider</a>) to see which data need to have different invocation count.</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class RepeatedRunTest {\n    // TODO read it from json\n    private val testToCaseInvocationCount = mapOf(&quot;funloginTest&quot; to mapOf(&quot;def&quot; to 4))\n\n    @DataProvider(name = &quot;loginData&quot;, parallel = false)\n    fun loginDataProvider(testMethod: Method): MutableIterator&lt;String&gt; {\n        println(testMethod.name)\n        val loginTestData: Array&lt;String&gt; = arrayOf(&quot;abc&quot;, &quot;def&quot;, &quot;xyz&quot;)\n        return loginTestData.map { testData -&gt;\n            List(\n                // repeat if needed\n                testToCaseInvocationCount\n                    .getOrDefault(testMethod.name, emptyMap())\n                    .getOrDefault(testData, 1)\n            ) { testData }\n        }\n            .flatten().toMutableList().listIterator()\n    }\n\n    @Test(dataProvider = &quot;loginData&quot;)\n    fun funloginTest(loginDetails: String) {\n        print(&quot;The value of $loginDetails&quot;)\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28449994,"reputation":13,"user_id":21768208,"display_name":"mohana krishnan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76137141,"answer_count":1,"score":1,"last_activity_date":1682783880,"creation_date":1682722436,"question_id":76133738,"body_markdown":"I did refer this link and understood about `IAnnotationTransformer`.\r\n\r\nI have a scenario where I have parameterized data with data provider. Need to run test with certain data for N number of times using invocation Count which.\r\n\r\nHow do I leverage the transform?\r\n\r\n```\r\n@DataProvider(name = &quot;loginData&quot;, parallel = false)\r\nfun loginDataProvider(): MutableIterator&lt;String&gt; {\r\n    val loginTestData: ArrayList&lt;String&gt; = [&quot;abc&quot;, &quot;def&quot;, &quot;xyz&quot;]\r\n    return loginTestData.iterator()\r\n}\r\n    \r\n@Test(dataProvider = &quot;loginData&quot;)\r\nfun funloginTest(loginDetails: String){\r\n    print(&quot;The value of $loginDetails&quot;)\r\n}\r\n```\r\nHow do I run this test 4 times for the parameter &quot;def&quot;?\r\n\r\nIdeally I want to get the `invocationCount` before every run for the test case from an external source like a json and run the test N number of times for specific data\r\n\r\nI tried looking at many `invocationCount` and `IAnnotationTransformer` and couldn&#39;t find the exact answer. Any idea or code snippet to solve the problem can help here","title":"How to set invocation count during execution for test method that uses data provider in TestNg &amp;java/ Kotlin?","body":"<p>I did refer this link and understood about <code>IAnnotationTransformer</code>.</p>\n<p>I have a scenario where I have parameterized data with data provider. Need to run test with certain data for N number of times using invocation Count which.</p>\n<p>How do I leverage the transform?</p>\n<pre><code>@DataProvider(name = &quot;loginData&quot;, parallel = false)\nfun loginDataProvider(): MutableIterator&lt;String&gt; {\n    val loginTestData: ArrayList&lt;String&gt; = [&quot;abc&quot;, &quot;def&quot;, &quot;xyz&quot;]\n    return loginTestData.iterator()\n}\n    \n@Test(dataProvider = &quot;loginData&quot;)\nfun funloginTest(loginDetails: String){\n    print(&quot;The value of $loginDetails&quot;)\n}\n</code></pre>\n<p>How do I run this test 4 times for the parameter &quot;def&quot;?</p>\n<p>Ideally I want to get the <code>invocationCount</code> before every run for the test case from an external source like a json and run the test N number of times for specific data</p>\n<p>I tried looking at many <code>invocationCount</code> and <code>IAnnotationTransformer</code> and couldn't find the exact answer. Any idea or code snippet to solve the problem can help here</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1682722502,"post_id":76133681,"comment_id":134265789,"body_markdown":"I don&#39;t see where your controller would accept the input which part of the file it should serve for fast forward or reverse. Found this question for the relevant header(s): https://stackoverflow.com/questions/27551737/audio-html-tag-cant-fast-forward-or-rewind-control","body":"I don&#39;t see where your controller would accept the input which part of the file it should serve for fast forward or reverse. Found this question for the relevant header(s): <a href=\"https://stackoverflow.com/questions/27551737/audio-html-tag-cant-fast-forward-or-rewind-control\" title=\"audio html tag cant fast forward or rewind control\">stackoverflow.com/questions/27551737/&hellip;</a>"},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1682783014,"post_id":76133681,"comment_id":134271081,"body_markdown":"Thanks. I saw that question, but it didn&#39;t occur that it would apply to me. Now it turned out that the `Accept-Ranges` header is obligatory.","body":"Thanks. I saw that question, but it didn&#39;t occur that it would apply to me. Now it turned out that the <code>Accept-Ranges</code> header is obligatory."}],"answers":[{"tags":[],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682782976,"creation_date":1682782976,"answer_id":76137080,"question_id":76133681,"body_markdown":"I changed the return statement to \r\n\r\n```\r\n        return ResponseEntity.status(HttpStatus.OK).contentType(MediaType.parseMediaType(&quot;audio/mpeg&quot;))\r\n                .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\r\n                .body(Arrays.copyOfRange(fileContent, 0, numBytes));\r\n```\r\n\r\n^ added the `.header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)` part. Now the fast forward and rewind works as expected!","title":"Spring controller returns bytes of an audio file: html audio player can&#39;t fast forward or rewind","body":"<p>I changed the return statement to</p>\n<pre><code>        return ResponseEntity.status(HttpStatus.OK).contentType(MediaType.parseMediaType(&quot;audio/mpeg&quot;))\n                .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\n                .body(Arrays.copyOfRange(fileContent, 0, numBytes));\n</code></pre>\n<p>^ added the <code>.header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)</code> part. Now the fast forward and rewind works as expected!</p>\n"}],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76137080,"answer_count":1,"score":2,"last_activity_date":1682782976,"creation_date":1682721563,"question_id":76133681,"body_markdown":"I have this controller that is supposed to return a part of an audio file (for testing, I made it return all bytes in the file):\r\n\r\n```java\r\n@GetMapping(&quot;/voice&quot;)\r\n@CrossOrigin\r\npublic ResponseEntity&lt;byte[]&gt; streamBytes(\r\n        @RequestParam(name = &quot;name&quot;) String name) throws IOException {\r\n    File file = new File(getClass().getResource(&quot;/static/&quot; +\r\n            calculatePath(name)).getFile());\r\n\r\n    byte[] fileContent = Files.readAllBytes(file.toPath());\r\n    int numBytes = fileContent.length;\r\n    return ResponseEntity.status(HttpStatus.OK)\r\n            .contentType(MediaType.parseMediaType(&quot;audio/mpeg&quot;))\r\n            .body(Arrays.copyOfRange(fileContent, 0, numBytes));\r\n}\r\n```\r\n\r\nThe path to this controller is used in an\r\n\r\n```\r\n&lt;audio id=&#39;audioPlayer&#39; src=&#39;controllerPath&#39;&gt;&lt;/audio&gt;\r\n```\r\n\r\nThe sound is loaded correctly, however the audio player doesn&#39;t allow fast forward or rewind. If I use a direct URL to the file (since, the file is in `resources/static/file.mp3`) - `http://localhost:8082/file.mp3`, I can fast forward and rewind just fine.\r\n\r\nAlso when I tried changing `HttpStatus.OK` to `HttpStatus.PARTIAL_CONTENT` the player completely refused to play the file.\r\n\r\nWhat is it with the current controller code that prevents fast forward and rewind?","title":"Spring controller returns bytes of an audio file: html audio player can&#39;t fast forward or rewind","body":"<p>I have this controller that is supposed to return a part of an audio file (for testing, I made it return all bytes in the file):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/voice&quot;)\n@CrossOrigin\npublic ResponseEntity&lt;byte[]&gt; streamBytes(\n        @RequestParam(name = &quot;name&quot;) String name) throws IOException {\n    File file = new File(getClass().getResource(&quot;/static/&quot; +\n            calculatePath(name)).getFile());\n\n    byte[] fileContent = Files.readAllBytes(file.toPath());\n    int numBytes = fileContent.length;\n    return ResponseEntity.status(HttpStatus.OK)\n            .contentType(MediaType.parseMediaType(&quot;audio/mpeg&quot;))\n            .body(Arrays.copyOfRange(fileContent, 0, numBytes));\n}\n</code></pre>\n<p>The path to this controller is used in an</p>\n<pre><code>&lt;audio id='audioPlayer' src='controllerPath'&gt;&lt;/audio&gt;\n</code></pre>\n<p>The sound is loaded correctly, however the audio player doesn't allow fast forward or rewind. If I use a direct URL to the file (since, the file is in <code>resources/static/file.mp3</code>) - <code>http://localhost:8082/file.mp3</code>, I can fast forward and rewind just fine.</p>\n<p>Also when I tried changing <code>HttpStatus.OK</code> to <code>HttpStatus.PARTIAL_CONTENT</code> the player completely refused to play the file.</p>\n<p>What is it with the current controller code that prevents fast forward and rewind?</p>\n"},{"tags":["java","android-studio","android-gradle-plugin","fatal-error","mobile-application"],"answers":[{"tags":[],"owner":{"account_id":23629038,"reputation":5,"user_id":17661080,"display_name":"Yaredyy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682782236,"creation_date":1682782236,"answer_id":76137025,"question_id":76136518,"body_markdown":"I&#39;m also new so sorry if my answer is slightly incorrect.\r\n\r\nthe first image with the error of &quot;No speakable text&quot; is because you don&#39;t have a readable label in the fabs (floating action button) XML block. I think it has to do with your ID name or not having a contentdescription attribute, but I&#39;m not as knowledgeable in XML. you can put this in the block as well to stop the error, tools:ignore=&quot;SpeakableTextPresentCheck&quot;.\r\n\r\n[ignore suppression][1]\r\n\r\n\r\nFor the fab, you need to make sure the variable type is FloatingActionButton instead of Button. It should work now, if not let us know with more information like a screenshot of the entire error.\r\n\r\n[fab variable][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/78Ors.png\r\n  [2]: https://i.stack.imgur.com/3bQc3.png","title":"fab &lt;android.support.design.widget.FloatingActionButton&gt;: No speakable text present | Android Studio","body":"<p>I'm also new so sorry if my answer is slightly incorrect.</p>\n<p>the first image with the error of &quot;No speakable text&quot; is because you don't have a readable label in the fabs (floating action button) XML block. I think it has to do with your ID name or not having a contentdescription attribute, but I'm not as knowledgeable in XML. you can put this in the block as well to stop the error, tools:ignore=&quot;SpeakableTextPresentCheck&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/78Ors.png\" rel=\"nofollow noreferrer\">ignore suppression</a></p>\n<p>For the fab, you need to make sure the variable type is FloatingActionButton instead of Button. It should work now, if not let us know with more information like a screenshot of the entire error.</p>\n<p><a href=\"https://i.stack.imgur.com/3bQc3.png\" rel=\"nofollow noreferrer\">fab variable</a></p>\n"}],"owner":{"account_id":28450349,"reputation":1,"user_id":21768502,"display_name":"Jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682782236,"creation_date":1682775280,"question_id":76136518,"body_markdown":"I have this error while running my project, I&#39;m using this XML code for the Floating button, it presents ***fab \\&lt;android.support.design.widget.FloatingActionButton\\&gt;: No speakable text present*** error.\r\n\r\n```\r\n &lt;android.support.design.widget.FloatingActionButton\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:backgroundTint=&quot;@color/ToolBar&quot;\r\n        android:src=&quot;@drawable/baseline_home_24&quot;\r\n        app:layout_anchor=&quot;@id/bottomBar&quot;\r\n        app:maxImageSize=&quot;35dp&quot;\r\n        android:tint=&quot;@color/white&quot;\r\n        android:id=&quot;@+id/faby&quot; /&gt;\r\n```\r\n\r\n----------\r\n\r\nAs well as, I aimed to have interaction when clicking on floating button. So, I did this Java code to do the interaction.\r\n\r\n```\r\n\r\n            Button fab;\r\n            fab = findViewById(R.id.faby);\r\n            fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                replaceFragement(new Home());\r\n            }\r\n       });\r\n```\r\n\r\nHowever, it present Fatal Exceptions as presented in the figure [Fatal error while interacting Floating Button](https://i.stack.imgur.com/6qTAD.png).\r\n\r\n**I tried to fix it by two ways:**\r\n\r\n1. **changing on Gradle code.**\r\n2. **Remove interaction.**\r\n\r\nNote that, I&#39;m using type of XML.\r\n\r\n```\r\n&lt;android.support.******&gt;\r\n```","title":"fab &lt;android.support.design.widget.FloatingActionButton&gt;: No speakable text present | Android Studio","body":"<p>I have this error while running my project, I'm using this XML code for the Floating button, it presents <em><strong>fab &lt;android.support.design.widget.FloatingActionButton&gt;: No speakable text present</strong></em> error.</p>\n<pre><code> &lt;android.support.design.widget.FloatingActionButton\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:backgroundTint=&quot;@color/ToolBar&quot;\n        android:src=&quot;@drawable/baseline_home_24&quot;\n        app:layout_anchor=&quot;@id/bottomBar&quot;\n        app:maxImageSize=&quot;35dp&quot;\n        android:tint=&quot;@color/white&quot;\n        android:id=&quot;@+id/faby&quot; /&gt;\n</code></pre>\n<hr />\n<p>As well as, I aimed to have interaction when clicking on floating button. So, I did this Java code to do the interaction.</p>\n<pre><code>\n            Button fab;\n            fab = findViewById(R.id.faby);\n            fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                replaceFragement(new Home());\n            }\n       });\n</code></pre>\n<p>However, it present Fatal Exceptions as presented in the figure <a href=\"https://i.stack.imgur.com/6qTAD.png\" rel=\"nofollow noreferrer\">Fatal error while interacting Floating Button</a>.</p>\n<p><strong>I tried to fix it by two ways:</strong></p>\n<ol>\n<li><strong>changing on Gradle code.</strong></li>\n<li><strong>Remove interaction.</strong></li>\n</ol>\n<p>Note that, I'm using type of XML.</p>\n<pre><code>&lt;android.support.******&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","maven","google-app-engine"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1682781368,"post_id":76136832,"comment_id":134270867,"body_markdown":"The max spring boot version 2.7.11 which requires minimum JDK8+... otherwise you have to upgrade JDK17+ and use Spring Boot 3.X ...","body":"The max spring boot version 2.7.11 which requires minimum JDK8+... otherwise you have to upgrade JDK17+ and use Spring Boot 3.X ..."}],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682782165,"creation_date":1682780414,"answer_id":76136888,"question_id":76136832,"body_markdown":"Change spring-boot-starter-parent version \r\n\r\n```\r\n    &lt;version&gt;2.7.11&lt;/version&gt;\r\n```","title":"Springboot java: class file has wrong version 61.0, should be 55.0","body":"<p>Change spring-boot-starter-parent version</p>\n<pre><code>    &lt;version&gt;2.7.11&lt;/version&gt;\n</code></pre>\n"}],"owner":{"account_id":6467423,"reputation":121,"user_id":5008813,"accept_rate":86,"display_name":"Tim Cobra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2911,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682782165,"creation_date":1682779758,"question_id":76136832,"body_markdown":"I&#39;m migrating my legacy Google Appengine from java 8 to java 11. I&#39;m using maven and for localhost testing it has been simple to use mvn appengine:run.\r\nFrom what I&#39;ve read this HTTP server doesn&#39;t work with java 11, and google docs has directed me to Springboot. Firstly, is that the simplest migration, or is there a simple way to get appengine:run to work with java 11?\r\n\r\nSadly, when I following the example in the google docs: https://cloud.google.com/appengine/docs/standard/java-gen2/building-app/writing-web-service the Spring Initialzr creates a pom.xml file for java 17 (even though I selected java 11). I edited the example pom.xml file to be java 11 and get the following error when I run: mvn spring-boot:run\r\n\r\n    bad class file:.m2\\repository\\org\\springframework\\boot\\spring-boot\\3.0.6\\spring-boot-3.0.6.jar\r\n    class file has wrong version 61.0, should be 55.0\r\n    Please remove or make sure it appears in the correct subdirectory of the classpath\r\n\r\nFrom further reading it says that Springboot v6 needs java 17 and for java 11 I need 5.3 - But how do I force it to use this older version.\r\n\r\nThanks!\r\nTim\r\n","title":"Springboot java: class file has wrong version 61.0, should be 55.0","body":"<p>I'm migrating my legacy Google Appengine from java 8 to java 11. I'm using maven and for localhost testing it has been simple to use mvn appengine:run.\nFrom what I've read this HTTP server doesn't work with java 11, and google docs has directed me to Springboot. Firstly, is that the simplest migration, or is there a simple way to get appengine:run to work with java 11?</p>\n<p>Sadly, when I following the example in the google docs: <a href=\"https://cloud.google.com/appengine/docs/standard/java-gen2/building-app/writing-web-service\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/standard/java-gen2/building-app/writing-web-service</a> the Spring Initialzr creates a pom.xml file for java 17 (even though I selected java 11). I edited the example pom.xml file to be java 11 and get the following error when I run: mvn spring-boot:run</p>\n<pre><code>bad class file:.m2\\repository\\org\\springframework\\boot\\spring-boot\\3.0.6\\spring-boot-3.0.6.jar\nclass file has wrong version 61.0, should be 55.0\nPlease remove or make sure it appears in the correct subdirectory of the classpath\n</code></pre>\n<p>From further reading it says that Springboot v6 needs java 17 and for java 11 I need 5.3 - But how do I force it to use this older version.</p>\n<p>Thanks!\nTim</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1682591646,"post_id":76119298,"comment_id":134241564,"body_markdown":"You can use the JNI api call `JNI_CreateJavaVM` to create a JVM from any binary (only one per process, though). So you can easily write a very thin replacement for `java.exe`. I think https://git.eclipse.org/c/equinox/rt.equinox.framework.git/tree/features/org.eclipse.equinox.executable.feature/library/win32 is the place where you would find the source for Eclipse specifically.","body":"You can use the JNI api call <code>JNI_CreateJavaVM</code> to create a JVM from any binary (only one per process, though). So you can easily write a very thin replacement for <code>java.exe</code>. I think <a href=\"https://git.eclipse.org/c/equinox/rt.equinox.framework.git/tree/features/org.eclipse.equinox.executable.feature/library/win32\" rel=\"nofollow noreferrer\">git.eclipse.org/c/equinox/rt.equinox.framework.git/tree/&hellip;</a> is the place where you would find the source for Eclipse specifically."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1682592217,"post_id":76119298,"comment_id":134241710,"body_markdown":"The eclipse.exe is used for any Eclipse RCP you build (renamed to whatever you choose).","body":"The eclipse.exe is used for any Eclipse RCP you build (renamed to whatever you choose)."}],"answers":[{"tags":[],"owner":{"account_id":137100,"reputation":17827,"user_id":341065,"accept_rate":72,"display_name":"wilx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682781831,"creation_date":1682598596,"answer_id":76120450,"question_id":76119298,"body_markdown":"Answering my own question, it works great for our Equinox application. One just needs to produce correct `.ini` file. These two wiki pages, and the link to the [sources](https://git.eclipse.org/c/equinox/rt.equinox.framework.git/tree/features/org.eclipse.equinox.executable.feature/library/win32), helped a lot:\r\n\r\n- &lt;https://wiki.eclipse.org/Eclipse.ini&gt;\r\n- &lt;https://wiki.eclipse.org/Equinox_Launcher&gt;\r\n\r\nThe executable is in one of the many `org.eclipse.equinox.executable_root.*` ZIP files, depending on platform. A companion OSGi bundle is necessary. E.g., for Windows it would be `org.eclipse.equinox.launcher.win32.win32.x86_64*.jar`, extracted in `plugins` directory.","title":"Where does eclipse.exe come from?","body":"<p>Answering my own question, it works great for our Equinox application. One just needs to produce correct <code>.ini</code> file. These two wiki pages, and the link to the <a href=\"https://git.eclipse.org/c/equinox/rt.equinox.framework.git/tree/features/org.eclipse.equinox.executable.feature/library/win32\" rel=\"nofollow noreferrer\">sources</a>, helped a lot:</p>\n<ul>\n<li><a href=\"https://wiki.eclipse.org/Eclipse.ini\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/Eclipse.ini</a></li>\n<li><a href=\"https://wiki.eclipse.org/Equinox_Launcher\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/Equinox_Launcher</a></li>\n</ul>\n<p>The executable is in one of the many <code>org.eclipse.equinox.executable_root.*</code> ZIP files, depending on platform. A companion OSGi bundle is necessary. E.g., for Windows it would be <code>org.eclipse.equinox.launcher.win32.win32.x86_64*.jar</code>, extracted in <code>plugins</code> directory.</p>\n"}],"owner":{"account_id":137100,"reputation":17827,"user_id":341065,"accept_rate":72,"display_name":"wilx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76120450,"answer_count":1,"score":0,"last_activity_date":1682781831,"creation_date":1682590915,"question_id":76119298,"body_markdown":"I am looking for a way to start a Java application via `.exe` but with the ability to tweak both application arguments and JVM arguments in some `.ini` file. `eclipse.exe` seems to be fitting but I can&#39;t seem to figure out where it comes from? Where is the upstream source for it? Can it be customized to run arbitrary application? ","title":"Where does eclipse.exe come from?","body":"<p>I am looking for a way to start a Java application via <code>.exe</code> but with the ability to tweak both application arguments and JVM arguments in some <code>.ini</code> file. <code>eclipse.exe</code> seems to be fitting but I can't seem to figure out where it comes from? Where is the upstream source for it? Can it be customized to run arbitrary application?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":22880863,"reputation":26,"user_id":17023516,"display_name":"Flumberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682768807,"creation_date":1682768807,"answer_id":76136055,"question_id":76135560,"body_markdown":"You set path to the Gecko driver.\r\n`System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\Users\\\\Lenovo\\\\BrowserDrivers\\\\geckodriver-v0.33.0-win-aarch64\\\\geckodriver.exe&quot;);`\r\n\r\nThis dirver is for the Firefox browser not for Chrome\r\n\r\nFor Chrome browser you should install and set path to the chromedriver\r\n","title":"Chrome browser is opening but url is not getting loaded with driver.get() function","body":"<p>You set path to the Gecko driver.\n<code>System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\Users\\\\Lenovo\\\\BrowserDrivers\\\\geckodriver-v0.33.0-win-aarch64\\\\geckodriver.exe&quot;);</code></p>\n<p>This dirver is for the Firefox browser not for Chrome</p>\n<p>For Chrome browser you should install and set path to the chromedriver</p>\n"},{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682781096,"creation_date":1682781096,"answer_id":76136933,"question_id":76135560,"body_markdown":"The problem is that the gecko driver is Firefox and you are trying to start Chrome. Make sure you have the most updated Selenium 4.6+ and you no longer need to download the driver, set the driver path, etc. [DriverManager](https://www.selenium.dev/blog/2022/introducing-selenium-manager/) will take care of all of that for you.\r\n\r\n    public static void main(String[] args) {\r\n        WebDriver driver = new ChromeDriver();\r\n        String url = &quot;https://www.tutorialspoint.com/index.htm&quot;;\r\n        driver.get(url);\r\n    }","title":"Chrome browser is opening but url is not getting loaded with driver.get() function","body":"<p>The problem is that the gecko driver is Firefox and you are trying to start Chrome. Make sure you have the most updated Selenium 4.6+ and you no longer need to download the driver, set the driver path, etc. <a href=\"https://www.selenium.dev/blog/2022/introducing-selenium-manager/\" rel=\"nofollow noreferrer\">DriverManager</a> will take care of all of that for you.</p>\n<pre><code>public static void main(String[] args) {\n    WebDriver driver = new ChromeDriver();\n    String url = &quot;https://www.tutorialspoint.com/index.htm&quot;;\n    driver.get(url);\n}\n</code></pre>\n"}],"owner":{"account_id":28453557,"reputation":1,"user_id":21771280,"display_name":"Chaitanya Gorla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682781096,"creation_date":1682761945,"question_id":76135560,"body_markdown":"Chrome version: Version 112.0.5615.138  \r\nChrome driver version: ChromeDriver 112.0.5615.49  \r\nSelenium version: selenium-java-4.9.0\r\n\r\nSource code:\r\n\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.WebDriver;\r\n    \r\n    public class OpeningBrowser {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\Users\\\\Lenovo\\\\BrowserDrivers\\\\geckodriver-v0.33.0-win-aarch64\\\\geckodriver.exe&quot;);\r\n    \t\tWebDriver drv = new ChromeDriver();\r\n    \t\tString str = &quot;https://www.tutorialspoint.com/index.htm&quot;;\r\n    \t\tdrv.get(str);\r\n    \t}\r\n    }\r\n\r\nChrome browser should open and navigate to URL.","title":"Chrome browser is opening but url is not getting loaded with driver.get() function","body":"<p>Chrome version: Version 112.0.5615.138<br />\nChrome driver version: ChromeDriver 112.0.5615.49<br />\nSelenium version: selenium-java-4.9.0</p>\n<p>Source code:</p>\n<pre><code>import org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.WebDriver;\n\npublic class OpeningBrowser {\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\Users\\\\Lenovo\\\\BrowserDrivers\\\\geckodriver-v0.33.0-win-aarch64\\\\geckodriver.exe&quot;);\n        WebDriver drv = new ChromeDriver();\n        String str = &quot;https://www.tutorialspoint.com/index.htm&quot;;\n        drv.get(str);\n    }\n}\n</code></pre>\n<p>Chrome browser should open and navigate to URL.</p>\n"},{"tags":["java","jpa","xsd","jaxb","hyperjaxb"],"comments":[{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":1,"creation_date":1594540367,"post_id":62847675,"comment_id":111157071,"body_markdown":"Please see https://github.com/highsource/hyperjaxb3/wiki. There are two tutorial there.","body":"Please see <a href=\"https://github.com/highsource/hyperjaxb3/wiki\" rel=\"nofollow noreferrer\">github.com/highsource/hyperjaxb3/wiki</a>. There are two tutorial there."},{"owner":{"account_id":19053246,"reputation":11,"user_id":13910978,"display_name":"Yavuz Guler"},"score":0,"creation_date":1594550570,"post_id":62847675,"comment_id":111159709,"body_markdown":"I see this tutorial but it says download the basic project tamplete. The basic project tamplete does not download any zip file. Like that https://github.com/highsource/hyperjaxb3/wiki/Downloads . I can&#39;t run the hyperjaxb3 in java project because some of the packages are deleted.","body":"I see this tutorial but it says download the basic project tamplete. The basic project tamplete does not download any zip file. Like that <a href=\"https://github.com/highsource/hyperjaxb3/wiki/Downloads\" rel=\"nofollow noreferrer\">github.com/highsource/hyperjaxb3/wiki/Downloads</a> . I can&#39;t run the hyperjaxb3 in java project because some of the packages are deleted."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1594575157,"post_id":62847675,"comment_id":111167215,"body_markdown":"Please see: https://github.com/highsource/hyperjaxb3/releases","body":"Please see: <a href=\"https://github.com/highsource/hyperjaxb3/releases\" rel=\"nofollow noreferrer\">github.com/highsource/hyperjaxb3/releases</a>"}],"answers":[{"tags":[],"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682780482,"creation_date":1682375884,"answer_id":76096578,"question_id":62847675,"body_markdown":"To [demonstrate (zip)][1], this [project][2] uses the [HiSrc HyperJAXB Maven Plugin][3] to read sample XML Schema (xsd) file(s) and XML Schema Binding (xjb) file(s) to generate Java Entity classes with JPA and JAXB annotations.\r\n\r\n&lt;!-- References --&gt;\r\n[1]: https://github.com/patrodyne/hisrc-hyperjaxb/releases/download/2.1.0/hisrc-hyperjaxb-ejb-sample-po-initial-2.1.0-mvn-src.zip\r\n[2]: https://github.com/patrodyne/hisrc-hyperjaxb/tree/master/ejb/assembly/samples/po-initial#readme\r\n[3]: https://github.com/patrodyne/hisrc-hyperjaxb#readme","title":"XSD to JAXB file and JAXB to JPA entity class with database relationship","body":"<p>To <a href=\"https://github.com/patrodyne/hisrc-hyperjaxb/releases/download/2.1.0/hisrc-hyperjaxb-ejb-sample-po-initial-2.1.0-mvn-src.zip\" rel=\"nofollow noreferrer\">demonstrate (zip)</a>, this <a href=\"https://github.com/patrodyne/hisrc-hyperjaxb/tree/master/ejb/assembly/samples/po-initial#readme\" rel=\"nofollow noreferrer\">project</a> uses the <a href=\"https://github.com/patrodyne/hisrc-hyperjaxb#readme\" rel=\"nofollow noreferrer\">HiSrc HyperJAXB Maven Plugin</a> to read sample XML Schema (xsd) file(s) and XML Schema Binding (xjb) file(s) to generate Java Entity classes with JPA and JAXB annotations.</p>\n\n"}],"owner":{"account_id":19053246,"reputation":11,"user_id":13910978,"display_name":"Yavuz Guler"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682780482,"creation_date":1594461502,"question_id":62847675,"body_markdown":"I am trying to create JPA entity classes from xsd files. I convert xsd files to JAXB files using xjc command. But i can&#39;t convert JAXB to JPA entity classes. I can&#39;t use the hyperJAXB because most of the links are broken and i didn&#39;t find any tutorial to use hyperjaxb. \r\n\r\nIs there a link between JPA entities with JAXB classes to create relationship to database tables?\r\n\r\nCan you share any working links to help my project or any tutorial?","title":"XSD to JAXB file and JAXB to JPA entity class with database relationship","body":"<p>I am trying to create JPA entity classes from xsd files. I convert xsd files to JAXB files using xjc command. But i can't convert JAXB to JPA entity classes. I can't use the hyperJAXB because most of the links are broken and i didn't find any tutorial to use hyperjaxb.</p>\n<p>Is there a link between JPA entities with JAXB classes to create relationship to database tables?</p>\n<p>Can you share any working links to help my project or any tutorial?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1449645547,"post_id":14024022,"comment_id":56092509,"body_markdown":"Hard to believe that java&#39;s LinkedHashSet offers you an iterator for the first, but not the last...but it appears to &lt;sigh&gt; see also http://stackoverflow.com/questions/1936462 which lists some 3rd party libs","body":"Hard to believe that java&#39;s LinkedHashSet offers you an iterator for the first, but not the last...but it appears to &lt;sigh&gt; see also <a href=\"http://stackoverflow.com/questions/1936462\">stackoverflow.com/questions/1936462</a> which lists some 3rd party libs"}],"answers":[{"tags":[],"owner":{"account_id":2157109,"reputation":3274,"user_id":1912077,"accept_rate":62,"display_name":"Renjith"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1356369562,"creation_date":1356369562,"answer_id":14024055,"question_id":14024022,"body_markdown":"Sets are independent of order.We cannot access element by index.If you require last element,\r\n\r\n1)create new ArrayList(Set)\r\n\r\nThe last element of an arrayList can be accessed easily\r\n","title":"Getting last of LinkedHashSet","body":"<p>Sets are independent of order.We cannot access element by index.If you require last element,</p>\n\n<p>1)create new ArrayList(Set)</p>\n\n<p>The last element of an arrayList can be accessed easily</p>\n"},{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1612827186,"creation_date":1356369581,"answer_id":14024061,"question_id":14024022,"body_markdown":"There&#39;s no prebaked option for this. There&#39;s two off-the-cuff options, and neither are good:\r\n\r\nThe Order n approach:\r\n\r\n    public &lt;E&gt; E getLast(Collection&lt;E&gt; c) {\r\n        E last = null;\r\n        for(E e : c) last = e;\r\n        return last;\r\n    }\r\n\r\nYuck! But there&#39;s also an Order 1 approach:\r\n\r\n    class CachedLinkedHashSet&lt;E&gt; extends LinkedHashSet&lt;E&gt; {\r\n        private E last = null;\r\n\r\n        @Override\r\n        public boolean add(E e) {\r\n            last = e;\r\n            return super.add(e);\r\n        }\r\n        public E getLast() {\r\n            return last;\r\n        }\r\n    \r\n    }\r\n\r\nThis is off the cuff, so there might be a subtle bug in it, and for sure this isn&#39;t thread safe or anything. Your needs may vary and lead you to one approach over another.","title":"Getting last of LinkedHashSet","body":"<p>There's no prebaked option for this. There's two off-the-cuff options, and neither are good:</p>\n<p>The Order n approach:</p>\n<pre><code>public &lt;E&gt; E getLast(Collection&lt;E&gt; c) {\n    E last = null;\n    for(E e : c) last = e;\n    return last;\n}\n</code></pre>\n<p>Yuck! But there's also an Order 1 approach:</p>\n<pre><code>class CachedLinkedHashSet&lt;E&gt; extends LinkedHashSet&lt;E&gt; {\n    private E last = null;\n\n    @Override\n    public boolean add(E e) {\n        last = e;\n        return super.add(e);\n    }\n    public E getLast() {\n        return last;\n    }\n\n}\n</code></pre>\n<p>This is off the cuff, so there might be a subtle bug in it, and for sure this isn't thread safe or anything. Your needs may vary and lead you to one approach over another.</p>\n"},{"tags":[],"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"down_vote_count":8,"up_vote_count":13,"is_accepted":true,"score":5,"last_activity_date":1356369753,"creation_date":1356369753,"answer_id":14024096,"question_id":14024022,"body_markdown":"First of all, I agree with corsiKa&#39;s solution which suggests an extended version of `LinkedHashSet` class that contains a pointer to the last element. However, you can use a traditional way by consuming some space for an array:\r\n\r\n    set.toArray()[ set.size()-1 ] // returns the last element.","title":"Getting last of LinkedHashSet","body":"<p>First of all, I agree with corsiKa's solution which suggests an extended version of <code>LinkedHashSet</code> class that contains a pointer to the last element. However, you can use a traditional way by consuming some space for an array:</p>\n\n<pre><code>set.toArray()[ set.size()-1 ] // returns the last element.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1400923930,"creation_date":1400923930,"answer_id":23843428,"question_id":14024022,"body_markdown":"With [tag:java-8], you could get a sequential `Stream` of the `LinkedHashSet`, skip the first n-1 elements and get the last one.\r\n\r\n    Integer lastInteger = set.stream().skip(s.size()-1).findFirst().get();","title":"Getting last of LinkedHashSet","body":"<p>With <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\">java-8</a>, you could get a sequential <code>Stream</code> of the <code>LinkedHashSet</code>, skip the first n-1 elements and get the last one.</p>\n\n<pre><code>Integer lastInteger = set.stream().skip(s.size()-1).findFirst().get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2506033,"reputation":513,"user_id":2179737,"display_name":"user2179737"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1434919922,"creation_date":1434919922,"answer_id":30969220,"question_id":14024022,"body_markdown":"here is a implementation that adds method to access the last entry O(1):\r\n\r\n[LinkedHashSetEx.java ][1]\r\n\r\nenjoy...\r\n\r\n\r\n  [1]: https://github.com/zolyfarkas/spf4j/blob/master/spf4j-core/src/main/java/org/spf4j/ds/LinkedHashSetEx.java","title":"Getting last of LinkedHashSet","body":"<p>here is a implementation that adds method to access the last entry O(1):</p>\n\n<p><a href=\"https://github.com/zolyfarkas/spf4j/blob/master/spf4j-core/src/main/java/org/spf4j/ds/LinkedHashSetEx.java\" rel=\"nofollow\">LinkedHashSetEx.java </a></p>\n\n<p>enjoy...</p>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1682780467,"creation_date":1682780467,"answer_id":76136893,"question_id":14024022,"body_markdown":"Since Java 21 `LinkedHashSet` has [getLast()][1] method:\r\n\r\n    jshell&gt; var set = new LinkedHashSet&lt;&gt;(List.of(1,2,3,4,5));\r\n    set ==&gt; [1, 2, 3, 4, 5]\r\n\r\n    jshell&gt; set.getLast();\r\n    $2 ==&gt; 5\r\n\r\n  [1]: https://download.java.net/java/early_access/jdk21/docs/api/java.base/java/util/LinkedHashSet.html#getLast()","title":"Getting last of LinkedHashSet","body":"<p>Since Java 21 <code>LinkedHashSet</code> has <a href=\"https://download.java.net/java/early_access/jdk21/docs/api/java.base/java/util/LinkedHashSet.html#getLast()\" rel=\"nofollow noreferrer\">getLast()</a> method:</p>\n<pre><code>jshell&gt; var set = new LinkedHashSet&lt;&gt;(List.of(1,2,3,4,5));\nset ==&gt; [1, 2, 3, 4, 5]\n\njshell&gt; set.getLast();\n$2 ==&gt; 5\n</code></pre>\n"}],"owner":{"account_id":148236,"reputation":93535,"user_id":359862,"accept_rate":95,"display_name":"James Raitsev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21768,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":14024096,"answer_count":6,"score":32,"last_activity_date":1682780467,"creation_date":1356369236,"question_id":14024022,"body_markdown":"I&#39;d like to store a list of numbers 1,2,3,4  -  (lets start with `List&lt;Integer&gt;`)\r\n\r\nI&#39;d like to make sure numbers are unique (ok, fine, `Set&lt;Integer&gt;`)\r\n\r\nI&#39;d like to guarantee order (ok ... `LinkedHashSet&lt;Integer&gt;`) \r\n\r\nI&#39;d like to get the last element from the list ..\r\n\r\nWhat would be the simplest way to get the last number inserted into the `LinkedHashSet&lt;Integer&gt;` please?\r\n\r\n","title":"Getting last of LinkedHashSet","body":"<p>I'd like to store a list of numbers 1,2,3,4  -  (lets start with <code>List&lt;Integer&gt;</code>)</p>\n\n<p>I'd like to make sure numbers are unique (ok, fine, <code>Set&lt;Integer&gt;</code>)</p>\n\n<p>I'd like to guarantee order (ok ... <code>LinkedHashSet&lt;Integer&gt;</code>) </p>\n\n<p>I'd like to get the last element from the list ..</p>\n\n<p>What would be the simplest way to get the last number inserted into the <code>LinkedHashSet&lt;Integer&gt;</code> please?</p>\n"},{"tags":["java","spring","thread-safety"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1369753918,"post_id":16795303,"comment_id":24204494,"body_markdown":"Regarding the edit. Spring will call the same method on the same `@Controller` class instance for a request with the same format required by `@RequestMapping`.","body":"Regarding the edit. Spring will call the same method on the same <code>@Controller</code> class instance for a request with the same format required by <code>@RequestMapping</code>."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1369753414,"creation_date":1369753414,"answer_id":16795362,"question_id":16795303,"body_markdown":"Yes, of course.\r\n\r\nIt&#39;s best if those are stateless, which makes them thread safe by default.  If there&#39;s no shared, mutable state there&#39;s no problem.","title":"Must Spring component classes be thread-safe","body":"<p>Yes, of course.</p>\n\n<p>It's best if those are stateless, which makes them thread safe by default.  If there's no shared, mutable state there's no problem.</p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1475531394,"creation_date":1369754024,"answer_id":16795572,"question_id":16795303,"body_markdown":"Given\r\n\r\n    @Controller\r\n    public class MyController {\r\n        @RequestMapping(value = &quot;/index&quot;)\r\n        public String respond() {\r\n            return &quot;index&quot;;\r\n        }\r\n    }\r\n\r\nSpring will create an instance of `MyController`. This is because Spring parses your configuration, `&lt;mvc:annotation-driven&gt;`, sees `@Controller` (which is like `@Component`) and instantiates the annotated class. Because it sees `@RequestMapping` as well, it generates a `HandlerMapping` for it, see the [docs here][1].  \r\n\r\nAny HTTP requests the `DispatcherServlet` receives will be dispatched to this controller instance through the `HandlerMapping` registered before, calling `respond()` through java reflection on that instance. \r\n\r\nIf you have instance fields like\r\n\r\n    @Controller\r\n    public class MyController {\r\n        private int count = 0;\r\n        @RequestMapping(value = &quot;/index&quot;)\r\n        public String respond() {\r\n            count++;\r\n            return &quot;index&quot;;\r\n        }\r\n    }\r\n\r\n`count` would be a hazard, because it might be modified by many threads and changes to it might be lost.\r\n\r\nYou need to understand how Servlet containers work. The container instantiates one instance of your Spring MVC `DispatcherServlet`. The container also manages a pool of Threads which it uses to respond to connections, ie. HTTP requests. When such a request arrives, the container picks a Thread from the pool and, within that Thread, executes the `service()` method on the `DispatcherServlet` which dispatches to the correct `@Controller` instance that Spring registered for you (from your configuration).\r\n\r\nSo YES, Spring MVC classes must be thread safe. You can do this by playing with different scopes for your class instance fields or just having local variables instead. Failing that, you&#39;ll need to add appropriate synchronization around critical sections in your code.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-handlermapping","title":"Must Spring component classes be thread-safe","body":"<p>Given</p>\n\n<pre><code>@Controller\npublic class MyController {\n    @RequestMapping(value = \"/index\")\n    public String respond() {\n        return \"index\";\n    }\n}\n</code></pre>\n\n<p>Spring will create an instance of <code>MyController</code>. This is because Spring parses your configuration, <code>&lt;mvc:annotation-driven&gt;</code>, sees <code>@Controller</code> (which is like <code>@Component</code>) and instantiates the annotated class. Because it sees <code>@RequestMapping</code> as well, it generates a <code>HandlerMapping</code> for it, see the <a href=\"http://static.springsource.org/spring/docs/3.2.x/spring-framework-reference/html/mvc.html#mvc-handlermapping\">docs here</a>.  </p>\n\n<p>Any HTTP requests the <code>DispatcherServlet</code> receives will be dispatched to this controller instance through the <code>HandlerMapping</code> registered before, calling <code>respond()</code> through java reflection on that instance. </p>\n\n<p>If you have instance fields like</p>\n\n<pre><code>@Controller\npublic class MyController {\n    private int count = 0;\n    @RequestMapping(value = \"/index\")\n    public String respond() {\n        count++;\n        return \"index\";\n    }\n}\n</code></pre>\n\n<p><code>count</code> would be a hazard, because it might be modified by many threads and changes to it might be lost.</p>\n\n<p>You need to understand how Servlet containers work. The container instantiates one instance of your Spring MVC <code>DispatcherServlet</code>. The container also manages a pool of Threads which it uses to respond to connections, ie. HTTP requests. When such a request arrives, the container picks a Thread from the pool and, within that Thread, executes the <code>service()</code> method on the <code>DispatcherServlet</code> which dispatches to the correct <code>@Controller</code> instance that Spring registered for you (from your configuration).</p>\n\n<p>So YES, Spring MVC classes must be thread safe. You can do this by playing with different scopes for your class instance fields or just having local variables instead. Failing that, you'll need to add appropriate synchronization around critical sections in your code.</p>\n"},{"tags":[],"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1397560940,"creation_date":1397560940,"answer_id":23082211,"question_id":16795303,"body_markdown":"By default, controllers are singletons and thus must be thread-safe. However, you can configure the controllers to be request or session scoped, i.e.:\r\n\r\n    @Controller\r\n    @Scope(&quot;session&quot;)\r\n    public class MyController {\r\n    \r\n        ...\r\n    }\r\n\r\nControllers with *session scope* can be helpful for managing session state. A good description of different patterns can be found in [Using Sessions in Spring-MVC (including &quot;scoped-proxies&quot;)](http://richardchesterwood.blogspot.in/2011/03/using-sessions-in-spring-mvc-including.html) and in [How to get Session Object In Spring MVC](http://www.javaroots.com/2013/08/how-to-get-session-object-in-spring-mvc.html). Some of the presented patterns require *request scope*.\r\n\r\nThe request scope is useful as well if you have data that you cannot afford to calculate more than one per request.\r\n","title":"Must Spring component classes be thread-safe","body":"<p>By default, controllers are singletons and thus must be thread-safe. However, you can configure the controllers to be request or session scoped, i.e.:</p>\n\n<pre><code>@Controller\n@Scope(\"session\")\npublic class MyController {\n\n    ...\n}\n</code></pre>\n\n<p>Controllers with <em>session scope</em> can be helpful for managing session state. A good description of different patterns can be found in <a href=\"http://richardchesterwood.blogspot.in/2011/03/using-sessions-in-spring-mvc-including.html\" rel=\"nofollow\">Using Sessions in Spring-MVC (including \"scoped-proxies\")</a> and in <a href=\"http://www.javaroots.com/2013/08/how-to-get-session-object-in-spring-mvc.html\" rel=\"nofollow\">How to get Session Object In Spring MVC</a>. Some of the presented patterns require <em>request scope</em>.</p>\n\n<p>The request scope is useful as well if you have data that you cannot afford to calculate more than one per request.</p>\n"},{"tags":[],"owner":{"account_id":2401014,"reputation":130,"user_id":2098669,"display_name":"Simon"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1682779945,"creation_date":1518613734,"answer_id":48788044,"question_id":16795303,"body_markdown":"A Spring component, as well as another class, must be thread-safe if it can be used concurrently by a number of threads.  A Spring component is a singleton by default and can be called from different threads. From this point of view, its STATE should be thread-safe.\r\n From another hand, singleton Spring beans, normally serve requests in a call stack of a thread from a pool of thread. Normally a Spring component has fields, which values are injected interfaces or properties. The only need to take care of safety is the case when state objects are kept in a bean. Usually, it is not used due to servers are load-balanced and a state is kept in a cache or in a database.\r\n Singleton bean, thus, should be used as a set of functions, which transfers data as arguments of a related method, and its fields should not keep business data, but just injected beans, which serve call progress.\r\n Spring&#39;s controller is an example. Its methods are called by a Tomcat&#39;s threads, way of controllers methods mapping, and all the calls stack is done in one thread. Controller&#39;s method calls DAO methods and returns results in the same thread. \r\n A Session normally is persisted from session to session and this is handled by Spring.\r\nSo, except for rare cases, there is no need to take care of thread safety.\r\n\r\n\r\n","title":"Must Spring component classes be thread-safe","body":"<p>A Spring component, as well as another class, must be thread-safe if it can be used concurrently by a number of threads.  A Spring component is a singleton by default and can be called from different threads. From this point of view, its STATE should be thread-safe.\nFrom another hand, singleton Spring beans, normally serve requests in a call stack of a thread from a pool of thread. Normally a Spring component has fields, which values are injected interfaces or properties. The only need to take care of safety is the case when state objects are kept in a bean. Usually, it is not used due to servers are load-balanced and a state is kept in a cache or in a database.\nSingleton bean, thus, should be used as a set of functions, which transfers data as arguments of a related method, and its fields should not keep business data, but just injected beans, which serve call progress.\nSpring's controller is an example. Its methods are called by a Tomcat's threads, way of controllers methods mapping, and all the calls stack is done in one thread. Controller's method calls DAO methods and returns results in the same thread.\nA Session normally is persisted from session to session and this is handled by Spring.\nSo, except for rare cases, there is no need to take care of thread safety.</p>\n"}],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33038,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":16795572,"answer_count":4,"score":39,"last_activity_date":1682779945,"creation_date":1369753166,"question_id":16795303,"body_markdown":"If you use Spring, must your component classes (`@Controller`, `@Service`, `@Repository`) be thread safe? Or does Spring use them in a thread-safe manner so you don&#39;t have to worry about thread safety?\r\n\r\n\r\nThat is, if I have a `@RequestMapping` method in my `@Controller`, could that method be called simultaneously for the same controller object by more than one thread?\r\n\r\n(This has [sort-of been asked before][1], but not answered as such).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12121519/spring-controllers-thread-safety-and-storing-resources","title":"Must Spring component classes be thread-safe","body":"<p>If you use Spring, must your component classes (<code>@Controller</code>, <code>@Service</code>, <code>@Repository</code>) be thread safe? Or does Spring use them in a thread-safe manner so you don't have to worry about thread safety?</p>\n<p>That is, if I have a <code>@RequestMapping</code> method in my <code>@Controller</code>, could that method be called simultaneously for the same controller object by more than one thread?</p>\n<p>(This has <a href=\"https://stackoverflow.com/questions/12121519/spring-controllers-thread-safety-and-storing-resources\">sort-of been asked before</a>, but not answered as such).</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1682779844,"post_id":76136812,"comment_id":134270661,"body_markdown":"You do `myInt++` followed by `myInt.notify()`. Think about what `myInt++` does. You end up with a _different object_. So, you&#39;re calling `notify()` on an object which you did not synchronize on, thus the error. But that&#39;s a symptom of a larger problem. Why are you synchronizing on `myInt`, a non-final field that is explicitly being reassigned, in the first place? Especially given you have that `lock` object (which should be `final`, by the way).","body":"You do <code>myInt++</code> followed by <code>myInt.notify()</code>. Think about what <code>myInt++</code> does. You end up with a <i>different object</i>. So, you&#39;re calling <code>notify()</code> on an object which you did not synchronize on, thus the error. But that&#39;s a symptom of a larger problem. Why are you synchronizing on <code>myInt</code>, a non-final field that is explicitly being reassigned, in the first place? Especially given you have that <code>lock</code> object (which should be <code>final</code>, by the way)."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1682781846,"post_id":76136812,"comment_id":134270943,"body_markdown":"Why are you using wait and notify at all instead of proper Locks and Conditions, on an Integer object no less?","body":"Why are you using wait and notify at all instead of proper Locks and Conditions, on an Integer object no less?"}],"owner":{"account_id":28455536,"reputation":1,"user_id":21772980,"display_name":"ywy144"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682780052,"answer_count":0,"score":0,"last_activity_date":1682779535,"creation_date":1682779515,"question_id":76136812,"body_markdown":"I wonder why the following code throws `java.lang.IllegalMonitorStateException` when I lock `myInt`.\r\n```java\r\npackage Thread;\r\n\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class MultiThreadingTest1 {\r\n\r\n    public Integer myInt = 0;\r\n    public Object lock = new Object();\r\n\r\n    public void alternativePrinting() throws InterruptedException {\r\n        Thread thread1 = new Thread(() -&gt; {\r\n            while(myInt &lt;= 100)\r\n                synchronized (myInt){\r\n                    if(myInt % 2 == 0) {\r\n                        System.out.println(Thread.currentThread().getName() + &quot; prints &quot; + myInt);\r\n                        myInt++;\r\n                        myInt.notify();\r\n                    }\r\n                    else\r\n                        try {\r\n                            myInt.wait();\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                }\r\n        });\r\n        Thread thread2 = new Thread(() -&gt; {\r\n            while(myInt &lt;= 100)\r\n                synchronized (myInt){\r\n                    if(myInt % 2 == 1) {\r\n                        System.out.println(Thread.currentThread().getName() + &quot; prints &quot; + myInt);\r\n                        myInt++;\r\n                        myInt.notify();\r\n                    }\r\n                    else\r\n                        try {\r\n                            myInt.wait();\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                }\r\n        });\r\n//        ExecutorService threadPool = Executors.newFixedThreadPool(2);\r\n//        threadPool.submit(thread1);\r\n//        threadPool.submit(thread2);\r\n//        threadPool.shutdown();\r\n        thread1.start();;\r\n        thread2.start();\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        MultiThreadingTest1 multiThreadingTest1 = new MultiThreadingTest1();\r\n        multiThreadingTest1.alternativePrinting();\r\n    }\r\n}\r\n\r\n```\r\nExeceptions:\r\n```\r\nException in thread &quot;Thread-0&quot; java.lang.IllegalMonitorStateException\r\n\tat java.base/java.lang.Object.notify(Native Method)\r\n\tat Thread.MultiThreadingTest1.lambda$alternativePrinting$0(MultiThreadingTest1.java:18)\r\n\tat java.base/java.lang.Thread.run(Thread.java:835)\r\nException in thread &quot;Thread-1&quot; java.lang.IllegalMonitorStateException\r\n\tat java.base/java.lang.Object.notify(Native Method)\r\n\tat Thread.MultiThreadingTest1.lambda$alternativePrinting$1(MultiThreadingTest1.java:34)\r\n\tat java.base/java.lang.Thread.run(Thread.java:835)\r\n```\r\n\r\nI know lock `lock` will be OK. \r\nBut I wonder why the following code throws `java.lang.IllegalMonitorStateException` when I lock `myInt`","title":"Why does my code throw java.lang.IllegalMonitorStateException","body":"<p>I wonder why the following code throws <code>java.lang.IllegalMonitorStateException</code> when I lock <code>myInt</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Thread;\n\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class MultiThreadingTest1 {\n\n    public Integer myInt = 0;\n    public Object lock = new Object();\n\n    public void alternativePrinting() throws InterruptedException {\n        Thread thread1 = new Thread(() -&gt; {\n            while(myInt &lt;= 100)\n                synchronized (myInt){\n                    if(myInt % 2 == 0) {\n                        System.out.println(Thread.currentThread().getName() + &quot; prints &quot; + myInt);\n                        myInt++;\n                        myInt.notify();\n                    }\n                    else\n                        try {\n                            myInt.wait();\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                }\n        });\n        Thread thread2 = new Thread(() -&gt; {\n            while(myInt &lt;= 100)\n                synchronized (myInt){\n                    if(myInt % 2 == 1) {\n                        System.out.println(Thread.currentThread().getName() + &quot; prints &quot; + myInt);\n                        myInt++;\n                        myInt.notify();\n                    }\n                    else\n                        try {\n                            myInt.wait();\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                }\n        });\n//        ExecutorService threadPool = Executors.newFixedThreadPool(2);\n//        threadPool.submit(thread1);\n//        threadPool.submit(thread2);\n//        threadPool.shutdown();\n        thread1.start();;\n        thread2.start();\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        MultiThreadingTest1 multiThreadingTest1 = new MultiThreadingTest1();\n        multiThreadingTest1.alternativePrinting();\n    }\n}\n\n</code></pre>\n<p>Execeptions:</p>\n<pre><code>Exception in thread &quot;Thread-0&quot; java.lang.IllegalMonitorStateException\n    at java.base/java.lang.Object.notify(Native Method)\n    at Thread.MultiThreadingTest1.lambda$alternativePrinting$0(MultiThreadingTest1.java:18)\n    at java.base/java.lang.Thread.run(Thread.java:835)\nException in thread &quot;Thread-1&quot; java.lang.IllegalMonitorStateException\n    at java.base/java.lang.Object.notify(Native Method)\n    at Thread.MultiThreadingTest1.lambda$alternativePrinting$1(MultiThreadingTest1.java:34)\n    at java.base/java.lang.Thread.run(Thread.java:835)\n</code></pre>\n<p>I know lock <code>lock</code> will be OK.\nBut I wonder why the following code throws <code>java.lang.IllegalMonitorStateException</code> when I lock <code>myInt</code></p>\n"},{"tags":["java","multithreading","synchronization"],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682779179,"creation_date":1682778094,"answer_id":76136721,"question_id":76136649,"body_markdown":"The entire body of your `run` method is a `synchronized` block. That practically _always_ is a mistake. What is it that you don&#39;t want any other thread to be able to do until the thread is completely finished and the `run` method has returned?\r\n\r\nAlso, `synchronized(currentCapacity)` looks like a mistake because your program assigns different objects to `currentCapacity`. What does it mean when one thread is synchronized on `Integer(5)` and another thread is synchronized on `Integer(4)`? You can avoid ever making that mistake if you never write `synchronized(foo)` unless `foo` is a `final` variable.\r\n\r\n--------------\r\n\r\nAlso of note: Your main thread _spins_ (i.e., it burns CPU time) while awaiting the next token. That&#39;s not _always_ a bad thing, but it usually _is_ a bad thing if the host on which you are running does not have a CPU reserved for the exclusive use of that thread and there are other threads that are ready-to-run and waiting their turn to use a CPU.\r\n\r\n---------------\r\n\r\nP.S., Have you considered using a [`Semaphore`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html) as the &quot;bucket?&quot; Your rate limiter could call `semaphore.availablePermits()` to find out how many tokens are in the bucket, and call `...release()` to add another token to the bucket. And, your main thread can call `semaphore.acquire()` to _wait_ for the next token.","title":"Synchronization java issue","body":"<p>The entire body of your <code>run</code> method is a <code>synchronized</code> block. That practically <em>always</em> is a mistake. What is it that you don't want any other thread to be able to do until the thread is completely finished and the <code>run</code> method has returned?</p>\n<p>Also, <code>synchronized(currentCapacity)</code> looks like a mistake because your program assigns different objects to <code>currentCapacity</code>. What does it mean when one thread is synchronized on <code>Integer(5)</code> and another thread is synchronized on <code>Integer(4)</code>? You can avoid ever making that mistake if you never write <code>synchronized(foo)</code> unless <code>foo</code> is a <code>final</code> variable.</p>\n<hr />\n<p>Also of note: Your main thread <em>spins</em> (i.e., it burns CPU time) while awaiting the next token. That's not <em>always</em> a bad thing, but it usually <em>is</em> a bad thing if the host on which you are running does not have a CPU reserved for the exclusive use of that thread and there are other threads that are ready-to-run and waiting their turn to use a CPU.</p>\n<hr />\n<p>P.S., Have you considered using a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html\" rel=\"nofollow noreferrer\"><code>Semaphore</code></a> as the &quot;bucket?&quot; Your rate limiter could call <code>semaphore.availablePermits()</code> to find out how many tokens are in the bucket, and call <code>...release()</code> to add another token to the bucket. And, your main thread can call <code>semaphore.acquire()</code> to <em>wait</em> for the next token.</p>\n"}],"owner":{"account_id":7873204,"reputation":119,"user_id":5949783,"display_name":"Sourabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682779179,"creation_date":1682777277,"question_id":76136649,"body_markdown":"I am trying to implement the Token bucket rate limiter. Below is the basic code I have written but not getting the expected result. It seems like I am missing something or I am not yet fully understood how to thread function in java. Can some one help me to look in the right direction?\r\n\r\n```lang-java\r\npublic class RateLimiterTokenBucket implements RateLimiter, Runnable{\r\n\r\n    Integer capacity;\r\n    Integer frequencyInMilliseconds;\r\n    Integer currentCapacity;\r\n\r\n    public RateLimiterTokenBucket(Integer frequencyInMilliseconds,Integer capacity) {\r\n        this.frequencyInMilliseconds = frequencyInMilliseconds;\r\n        this.capacity = capacity;\r\n        this.currentCapacity = capacity;\r\n    }\r\n\r\n    @Override\r\n    public boolean consume() {\r\n        synchronized (currentCapacity) {\r\n            if(currentCapacity &lt;= 0) return false;\r\n            --currentCapacity;\r\n            return true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        synchronized (currentCapacity) {\r\n            OffsetDateTime t = OffsetDateTime.now();\r\n            while(true) {\r\n                if(OffsetDateTime.now().isAfter(t.plus(frequencyInMilliseconds, ChronoUnit.MILLIS))){\r\n                    if(currentCapacity&lt;capacity){\r\n                        System.out.println(&quot;token added&quot;);\r\n                        ++currentCapacity;\r\n                    }\r\n                    t=OffsetDateTime.now();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nmain class\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        RateLimiter rl = new RateLimiterTokenBucket(10,5);\r\n        Thread t = new Thread((Runnable) rl);\r\n        t.start();\r\n        while(true){\r\n            if(rl.consume()) {\r\n                System.out.println(OffsetDateTime.now()+&quot; ---&gt; true&quot;);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\njust getting \r\n```lang-text\r\n2023-04-29T19:30:54.685553+05:30 ---&gt; true\r\ntoken added\r\n```\r\nas output\r\nwith both threads main and t1 still running \r\n","title":"Synchronization java issue","body":"<p>I am trying to implement the Token bucket rate limiter. Below is the basic code I have written but not getting the expected result. It seems like I am missing something or I am not yet fully understood how to thread function in java. Can some one help me to look in the right direction?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RateLimiterTokenBucket implements RateLimiter, Runnable{\n\n    Integer capacity;\n    Integer frequencyInMilliseconds;\n    Integer currentCapacity;\n\n    public RateLimiterTokenBucket(Integer frequencyInMilliseconds,Integer capacity) {\n        this.frequencyInMilliseconds = frequencyInMilliseconds;\n        this.capacity = capacity;\n        this.currentCapacity = capacity;\n    }\n\n    @Override\n    public boolean consume() {\n        synchronized (currentCapacity) {\n            if(currentCapacity &lt;= 0) return false;\n            --currentCapacity;\n            return true;\n        }\n    }\n\n    @Override\n    public void run() {\n        synchronized (currentCapacity) {\n            OffsetDateTime t = OffsetDateTime.now();\n            while(true) {\n                if(OffsetDateTime.now().isAfter(t.plus(frequencyInMilliseconds, ChronoUnit.MILLIS))){\n                    if(currentCapacity&lt;capacity){\n                        System.out.println(&quot;token added&quot;);\n                        ++currentCapacity;\n                    }\n                    t=OffsetDateTime.now();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>main class</p>\n<pre><code>public static void main(String[] args) {\n        RateLimiter rl = new RateLimiterTokenBucket(10,5);\n        Thread t = new Thread((Runnable) rl);\n        t.start();\n        while(true){\n            if(rl.consume()) {\n                System.out.println(OffsetDateTime.now()+&quot; ---&gt; true&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>just getting</p>\n<pre class=\"lang-text prettyprint-override\"><code>2023-04-29T19:30:54.685553+05:30 ---&gt; true\ntoken added\n</code></pre>\n<p>as output\nwith both threads main and t1 still running</p>\n"},{"tags":["java","multithreading","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680954034,"creation_date":1680951335,"answer_id":75964795,"question_id":75964659,"body_markdown":"Keeping `CloseableHttpClient` static will not confirm only one copy of `CloseableHttpClient` to reuse that. Here for every object creation of `ExternalServiceHelper`, you are creating `CloseableHttpClient`. To create a single client for every `ExternalServiceHelper`, you need to use [Singleton Design Pattern][1].\r\n\r\nYou should use a [circuit breaker][2] to reduce calls to down services.\r\n\r\nAt your current code base, no, there is no such case to get a response to another request.\r\n\r\nBut if you change your code to my suggested one, then you will need synchronization on the `closeableHttpClient` reference as then the single reference will be used by many threads. \r\n\r\nAnd as you will use a single instance of `CloseableHttpClient`, you can use a single instance of `ExternalServiceHelper` as well. So implement Singleton Design Pattern for `ExternalServiceHelper` too.\r\n\r\nHope, it helps.\r\n\r\n  [1]: https://www.geeksforgeeks.org/singleton-design-pattern/\r\n  [2]: https://dzone.com/articles/circuit-breaker-pattern","title":"Http Client that allows 50 threads to call a host concurrently","body":"<p>Keeping <code>CloseableHttpClient</code> static will not confirm only one copy of <code>CloseableHttpClient</code> to reuse that. Here for every object creation of <code>ExternalServiceHelper</code>, you are creating <code>CloseableHttpClient</code>. To create a single client for every <code>ExternalServiceHelper</code>, you need to use <a href=\"https://www.geeksforgeeks.org/singleton-design-pattern/\" rel=\"nofollow noreferrer\">Singleton Design Pattern</a>.</p>\n<p>You should use a <a href=\"https://dzone.com/articles/circuit-breaker-pattern\" rel=\"nofollow noreferrer\">circuit breaker</a> to reduce calls to down services.</p>\n<p>At your current code base, no, there is no such case to get a response to another request.</p>\n<p>But if you change your code to my suggested one, then you will need synchronization on the <code>closeableHttpClient</code> reference as then the single reference will be used by many threads.</p>\n<p>And as you will use a single instance of <code>CloseableHttpClient</code>, you can use a single instance of <code>ExternalServiceHelper</code> as well. So implement Singleton Design Pattern for <code>ExternalServiceHelper</code> too.</p>\n<p>Hope, it helps.</p>\n"},{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681339423,"creation_date":1681338582,"answer_id":76000298,"question_id":75964659,"body_markdown":"\r\n[CloseableHttpClient][1] is declared with [ThreadingBehavior SAFE][2]\r\n\r\n&gt; Instances of classes with the given contract are expected to be fully thread-safe.\r\n\r\n    @Contract(threading=SAFE)\r\n    public abstract class CloseableHttpClient\r\n    extends Object\r\n    implements HttpClient, Closeable\r\n\r\nAlso, `client.execute(request)` has been [deprecated](https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpClient.html#execute-org.apache.hc.core5.http.ClassicHttpRequest-).\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-4.5.x/current/httpclient/apidocs/org/apache/http/impl/client/CloseableHttpClient.html\r\n  [2]: https://hc.apache.org/httpcomponents-core-4.4.x/current/httpcore/apidocs/org/apache/http/annotation/ThreadingBehavior.html#SAFE\r\n","title":"Http Client that allows 50 threads to call a host concurrently","body":"<p><a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/current/httpclient/apidocs/org/apache/http/impl/client/CloseableHttpClient.html\" rel=\"nofollow noreferrer\">CloseableHttpClient</a> is declared with <a href=\"https://hc.apache.org/httpcomponents-core-4.4.x/current/httpcore/apidocs/org/apache/http/annotation/ThreadingBehavior.html#SAFE\" rel=\"nofollow noreferrer\">ThreadingBehavior SAFE</a></p>\n<blockquote>\n<p>Instances of classes with the given contract are expected to be fully thread-safe.</p>\n</blockquote>\n<pre><code>@Contract(threading=SAFE)\npublic abstract class CloseableHttpClient\nextends Object\nimplements HttpClient, Closeable\n</code></pre>\n<p>Also, <code>client.execute(request)</code> has been <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpClient.html#execute-org.apache.hc.core5.http.ClassicHttpRequest-\" rel=\"nofollow noreferrer\">deprecated</a>.</p>\n"},{"tags":[],"owner":{"account_id":20817370,"reputation":1,"user_id":15289869,"display_name":"Aleks B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682778932,"creation_date":1682778889,"answer_id":76136771,"question_id":75964659,"body_markdown":"For multithreading use cases there is no need to make CloseableHttpClient singleton, that client usually has configured a HttpConnectionManager, for example an instance of PoolingHttpClientConnectionManager, which controls creating, leasing/reusing and termination of HTTP connections and is perfectly suited to serve many HTTP requests coming from concurrent threads.","title":"Http Client that allows 50 threads to call a host concurrently","body":"<p>For multithreading use cases there is no need to make CloseableHttpClient singleton, that client usually has configured a HttpConnectionManager, for example an instance of PoolingHttpClientConnectionManager, which controls creating, leasing/reusing and termination of HTTP connections and is perfectly suited to serve many HTTP requests coming from concurrent threads.</p>\n"}],"owner":{"account_id":3760281,"reputation":55,"user_id":3125503,"accept_rate":100,"display_name":"normalindon1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1682778932,"creation_date":1680949438,"question_id":75964659,"body_markdown":"Based on a requirement to call an external service which could be accessed by 50 threads concurrently I have designed a simple POC below \r\n\r\n    public class ExternalServiceHelper {\r\n        private static RequestConfig requestConfig = RequestConfig.custom()\r\n                .setConnectTimeout(60 * 1000)\r\n                .setConnectionRequestTimeout(60 * 1000)\r\n                .setSocketTimeout(60 * 1000).build();\r\n\r\n        private static CloseableHttpClient closeableHttpClient = HttpClients.custom().\r\n            setDefaultRequestConfig(requestConfig).\r\n            useSystemProperties().\r\n            setMaxConnTotal(50).\r\n            setMaxConnPerRoute(30).\r\n            build();\r\n\r\n        public  String sendToExternalService(HttpPost httppost) throws IOException {\r\n            CloseableHttpResponse response =null;\r\n            response=closeableHttpClient.execute(httppost);\r\n            String reponse = EntityUtils.toString(response.getEntity());\r\n            System.out.println(reponse);\r\n            httppost.releaseConnection();\r\n            response.close();\r\n            closeableHttpClient.close();\r\n            return response;\r\n        }\r\n    }\r\n\r\nThe method sendToExternalService might be called upto 50 concurrent threads from a Rest Api Service Layer. i.e\r\n\r\n/api - 50 users might be calling the api concurrently and from the service layer I need to make a call to the external service using sendToExternalService. I create a new Instance of ExternalServiceHelper from the service layer and then call the sendToExternalService with different HttpPost request. \r\n\r\nHere I have kept the CloseableHttpClient static so there is only One copy and resuing the CloseableHttpClient from the pool as I have set MaxConnPerRoute and MaxConnTotal using the builder.\r\n\r\nWill this have any synchronization issues, like thread 1 getting a response of a different thread? ","title":"Http Client that allows 50 threads to call a host concurrently","body":"<p>Based on a requirement to call an external service which could be accessed by 50 threads concurrently I have designed a simple POC below</p>\n<pre><code>public class ExternalServiceHelper {\n    private static RequestConfig requestConfig = RequestConfig.custom()\n            .setConnectTimeout(60 * 1000)\n            .setConnectionRequestTimeout(60 * 1000)\n            .setSocketTimeout(60 * 1000).build();\n\n    private static CloseableHttpClient closeableHttpClient = HttpClients.custom().\n        setDefaultRequestConfig(requestConfig).\n        useSystemProperties().\n        setMaxConnTotal(50).\n        setMaxConnPerRoute(30).\n        build();\n\n    public  String sendToExternalService(HttpPost httppost) throws IOException {\n        CloseableHttpResponse response =null;\n        response=closeableHttpClient.execute(httppost);\n        String reponse = EntityUtils.toString(response.getEntity());\n        System.out.println(reponse);\n        httppost.releaseConnection();\n        response.close();\n        closeableHttpClient.close();\n        return response;\n    }\n}\n</code></pre>\n<p>The method sendToExternalService might be called upto 50 concurrent threads from a Rest Api Service Layer. i.e</p>\n<p>/api - 50 users might be calling the api concurrently and from the service layer I need to make a call to the external service using sendToExternalService. I create a new Instance of ExternalServiceHelper from the service layer and then call the sendToExternalService with different HttpPost request.</p>\n<p>Here I have kept the CloseableHttpClient static so there is only One copy and resuing the CloseableHttpClient from the pool as I have set MaxConnPerRoute and MaxConnTotal using the builder.</p>\n<p>Will this have any synchronization issues, like thread 1 getting a response of a different thread?</p>\n"},{"tags":["java","android","android-studio","android-gradle-plugin","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":1308536,"reputation":2467,"user_id":2123586,"accept_rate":67,"display_name":"Zsolt Boldizsar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682237818,"creation_date":1682237818,"answer_id":76083783,"question_id":76083589,"body_markdown":"As described in their [release notes for 1.10.0-alpha01][1], you need to use `android-UpsideDownCake` as `compileSdkVersion` in your app level `build.gradle` file.\r\n\r\n```\r\nandroid {\r\n    compileSdkVersion &quot;android-UpsideDownCake&quot;\r\n    ...\r\n}\r\n```\r\n\r\nHowever if you don&#39;t really need to be on the alpha version, use the latest stable version instead: \r\n\r\n```\r\nimplementation(&quot;com.google.android.material:material:1.8.0&quot;)\r\n```\r\n\r\n  [1]: https://github.com/material-components/material-components-android/releases/tag/1.10.0-alpha01","title":"Android Studio build failed : An issue was found when checking AAR metadata","body":"<p>As described in their <a href=\"https://github.com/material-components/material-components-android/releases/tag/1.10.0-alpha01\" rel=\"nofollow noreferrer\">release notes for 1.10.0-alpha01</a>, you need to use <code>android-UpsideDownCake</code> as <code>compileSdkVersion</code> in your app level <code>build.gradle</code> file.</p>\n<pre><code>android {\n    compileSdkVersion &quot;android-UpsideDownCake&quot;\n    ...\n}\n</code></pre>\n<p>However if you don't really need to be on the alpha version, use the latest stable version instead:</p>\n<pre><code>implementation(&quot;com.google.android.material:material:1.8.0&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682777731,"creation_date":1682777731,"answer_id":76136692,"question_id":76083589,"body_markdown":"It works fine in this version:\r\n\r\n`implementation &#39;com.google.android.material:material:1.8.0-alpha01&#39;`\r\n\r\nWhen I upgraded to the recommended new version, I was getting an error. After reviewing the log, I realized that I needed to upgrade `compileSdkPreview` for the new version to work correctly.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you are going to use the new version, you should add the following.\r\n\r\n`implementation &#39;com.google.android.material:material:1.10.0-alpha01&#39;`\r\n\r\nMake sure you download the SDK.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n`build.gradle(:app)` you should update the value in the file as below:\r\n\r\n`compileSdkVersion &quot;android-UpsideDownCake&quot;`\r\n\r\nFor detailed information, you can check: https://developer.android.com/about/versions/14/setup-sdk#kts\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qU5i0.png\r\n  [2]: https://i.stack.imgur.com/Y0KUu.png","title":"Android Studio build failed : An issue was found when checking AAR metadata","body":"<p>It works fine in this version:</p>\n<p><code>implementation 'com.google.android.material:material:1.8.0-alpha01'</code></p>\n<p>When I upgraded to the recommended new version, I was getting an error. After reviewing the log, I realized that I needed to upgrade <code>compileSdkPreview</code> for the new version to work correctly.</p>\n<p><a href=\"https://i.stack.imgur.com/qU5i0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qU5i0.png\" alt=\"enter image description here\" /></a></p>\n<p>If you are going to use the new version, you should add the following.</p>\n<p><code>implementation 'com.google.android.material:material:1.10.0-alpha01'</code></p>\n<p>Make sure you download the SDK.</p>\n<p><a href=\"https://i.stack.imgur.com/Y0KUu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y0KUu.png\" alt=\"enter image description here\" /></a></p>\n<p><code>build.gradle(:app)</code> you should update the value in the file as below:</p>\n<p><code>compileSdkVersion &quot;android-UpsideDownCake&quot;</code></p>\n<p>For detailed information, you can check: <a href=\"https://developer.android.com/about/versions/14/setup-sdk#kts\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/14/setup-sdk#kts</a></p>\n"}],"owner":{"account_id":15428039,"reputation":145,"user_id":11130231,"display_name":"Deejay Super"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":990,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76083783,"answer_count":2,"score":1,"last_activity_date":1682777731,"creation_date":1682234446,"question_id":76083589,"body_markdown":"So i have been trying to run my project but i am encountering issues with com.google.android.material:material:1.10.0-alpha01 due to the &quot;UpsideDownCake&quot; API requirement.\r\n\r\nThis is the error message : \r\n\r\n&gt;  Dependency &#39;com.google.android.material:material:1.10.0-alpha01&#39; requires libraries and applications that\r\n      depend on it to compile against codename &quot;UpsideDownCake&quot; of the\r\n      Android APIs.\r\n      :app is currently compiled against android-33.\r\n      Recommended action: Use a different version of dependency &#39;com.google.android.material:material:1.10.0-alpha01&#39;,\r\n      or set compileSdkPreview to &quot;UpsideDownCake&quot; in your build.gradle\r\n      file if you intend to experiment with that preview SDK.\r\n\r\n\r\nAny help would be much appreciated. ","title":"Android Studio build failed : An issue was found when checking AAR metadata","body":"<p>So i have been trying to run my project but i am encountering issues with com.google.android.material:material:1.10.0-alpha01 due to the &quot;UpsideDownCake&quot; API requirement.</p>\n<p>This is the error message :</p>\n<blockquote>\n<p>Dependency 'com.google.android.material:material:1.10.0-alpha01' requires libraries and applications that\ndepend on it to compile against codename &quot;UpsideDownCake&quot; of the\nAndroid APIs.\n:app is currently compiled against android-33.\nRecommended action: Use a different version of dependency 'com.google.android.material:material:1.10.0-alpha01',\nor set compileSdkPreview to &quot;UpsideDownCake&quot; in your build.gradle\nfile if you intend to experiment with that preview SDK.</p>\n</blockquote>\n<p>Any help would be much appreciated.</p>\n"},{"tags":["java","postgresql","docker","kubernetes","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":6422613,"reputation":1099,"user_id":4978880,"display_name":"Taimoor Mirza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682777620,"creation_date":1682770999,"answer_id":76136201,"question_id":76135751,"body_markdown":"Your file looks OK. I&#39;ve applied your manifest on 1 of my GKE clusters and it seems to working fine. \r\n\r\nHowever, In your docker compose, your postgres version is `13.3` whereas in k8s manifest, its `latest` (version when not mentioned means latest). Try setting 13.3 in manifest too and check if it works.","title":"When creating postgres container, environment POSTGRES_INITDB_ARGS is ignored in Kubernetes","body":"<p>Your file looks OK. I've applied your manifest on 1 of my GKE clusters and it seems to working fine.</p>\n<p>However, In your docker compose, your postgres version is <code>13.3</code> whereas in k8s manifest, its <code>latest</code> (version when not mentioned means latest). Try setting 13.3 in manifest too and check if it works.</p>\n"}],"owner":{"account_id":28137655,"reputation":23,"user_id":21501169,"display_name":"Artem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682777620,"creation_date":1682764980,"question_id":76135751,"body_markdown":"I&#39;m trying to set **lc-collate** parameter for postgres container, using env POSTGRES_INITDB_ARGS. But this env is ignored and after deployment applying I get default value of **lc_collate** \r\n\r\nhere is my deployment\r\n\r\n```\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: example-postgres-1\r\n  labels:\r\n    app: example-app\r\nspec:\r\n  replicas: 1\r\n  selector:\r\n    matchLabels:\r\n      app: example-app\r\n      tier: postgres\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: example-app\r\n        tier: postgres\r\n    spec:\r\n      containers:\r\n        - image: postgres\r\n          name: postgres\r\n          env:\r\n            - name: POSTGRES_INITDB_ARGS\r\n              value: --lc-collate=C\r\n            - name: POSTGRES_DB\r\n              value: postgres\r\n            - name: POSTGRES_USER\r\n              value: user\r\n            - name: POSTGRES_PASSWORD\r\n              value: user\r\n            - name: PGDATA\r\n              value: /var/lib/postgresql/data/pgdata\r\n          ports:\r\n            - containerPort: 5432\r\n              name: postgres\r\n          volumeMounts:\r\n            - name: example-postgres\r\n              mountPath: /var/lib/postgresql/data\r\n          args: [&quot;-c&quot;, &quot;max_connections=200&quot;]\r\n      volumes:\r\n        - name: example-postgres\r\n          persistentVolumeClaim:\r\n            claimName: example-postgres\r\n```\r\n \r\nAt the same time I&#39;m trying to set **POSTGRES_INITDB_ARGS: &quot;--lc-collate=C&quot;** by using docker-compose:\r\n\r\n```\r\nversion: &quot;3.9&quot;\r\nservices:\r\n  postgres:\r\n    image: postgres:13.3\r\n    environment:\r\n      POSTGRES_DB: &quot;postgresTest&quot;\r\n      POSTGRES_USER: &quot;user&quot;\r\n      POSTGRES_PASSWORD: &quot;user&quot;\r\n      POSTGRES_INITDB_ARGS: &quot;--lc-collate=C&quot;\r\n    ports:\r\n      - &quot;3432:5432&quot;\r\n```\r\n\r\nand it works for me\r\n\r\nWhat am i doing wrong in kuberntes deployment by setting **POSTGRES_INITDB_ARGS** ? If it is wrong, how to set **lc_collate** by creating container creting?\r\n\r\nI&#39;m trying to set **lc-collate** parameter for postgres container, using env POSTGRES_INITDB_ARGS. But this env is ignored and after applying I get default value of **lc_collate** ","title":"When creating postgres container, environment POSTGRES_INITDB_ARGS is ignored in Kubernetes","body":"<p>I'm trying to set <strong>lc-collate</strong> parameter for postgres container, using env POSTGRES_INITDB_ARGS. But this env is ignored and after deployment applying I get default value of <strong>lc_collate</strong></p>\n<p>here is my deployment</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: example-postgres-1\n  labels:\n    app: example-app\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: example-app\n      tier: postgres\n  template:\n    metadata:\n      labels:\n        app: example-app\n        tier: postgres\n    spec:\n      containers:\n        - image: postgres\n          name: postgres\n          env:\n            - name: POSTGRES_INITDB_ARGS\n              value: --lc-collate=C\n            - name: POSTGRES_DB\n              value: postgres\n            - name: POSTGRES_USER\n              value: user\n            - name: POSTGRES_PASSWORD\n              value: user\n            - name: PGDATA\n              value: /var/lib/postgresql/data/pgdata\n          ports:\n            - containerPort: 5432\n              name: postgres\n          volumeMounts:\n            - name: example-postgres\n              mountPath: /var/lib/postgresql/data\n          args: [&quot;-c&quot;, &quot;max_connections=200&quot;]\n      volumes:\n        - name: example-postgres\n          persistentVolumeClaim:\n            claimName: example-postgres\n</code></pre>\n<p>At the same time I'm trying to set <strong>POSTGRES_INITDB_ARGS: &quot;--lc-collate=C&quot;</strong> by using docker-compose:</p>\n<pre><code>version: &quot;3.9&quot;\nservices:\n  postgres:\n    image: postgres:13.3\n    environment:\n      POSTGRES_DB: &quot;postgresTest&quot;\n      POSTGRES_USER: &quot;user&quot;\n      POSTGRES_PASSWORD: &quot;user&quot;\n      POSTGRES_INITDB_ARGS: &quot;--lc-collate=C&quot;\n    ports:\n      - &quot;3432:5432&quot;\n</code></pre>\n<p>and it works for me</p>\n<p>What am i doing wrong in kuberntes deployment by setting <strong>POSTGRES_INITDB_ARGS</strong> ? If it is wrong, how to set <strong>lc_collate</strong> by creating container creting?</p>\n<p>I'm trying to set <strong>lc-collate</strong> parameter for postgres container, using env POSTGRES_INITDB_ARGS. But this env is ignored and after applying I get default value of <strong>lc_collate</strong></p>\n"},{"tags":["java","android","android-studio","gradle","gradle-plugin"],"comments":[{"owner":{"account_id":5918917,"reputation":518,"user_id":4656782,"display_name":"Shawlaw"},"score":0,"creation_date":1682920662,"post_id":73099487,"comment_id":134284500,"body_markdown":"Does this answer your question? [Bumblebee Android studio Plugin \\[id: &#39;com.android.application&#39;, version: &#39;7.1.0&#39;, apply: false\\] was not found in any of the following sources:](https://stackoverflow.com/questions/70947176/bumblebee-android-studio-plugin-id-com-android-application-version-7-1-0)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70947176/bumblebee-android-studio-plugin-id-com-android-application-version-7-1-0\">Bumblebee Android studio Plugin &#91;id: &#39;com.android.application&#39;, version: &#39;7.1.0&#39;, apply: false&#93; was not found in any of the following sources:</a>"}],"answers":[{"tags":[],"owner":{"account_id":14879349,"reputation":525,"user_id":10744522,"display_name":"Shobhith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658675701,"creation_date":1658675701,"answer_id":73099602,"question_id":73099487,"body_markdown":"Try to change the versions from 7.2.0 to 7.2.1 in project level `build.gradle`\r\n\r\n    id &#39;com.android.application&#39; version &#39;7.2.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.2.1&#39; apply false","title":"Plugin [id: &#39;com.android.application&#39;, version: &#39;7.2.0&#39;, apply: false] was not found in any of the following sources","body":"<p>Try to change the versions from 7.2.0 to 7.2.1 in project level <code>build.gradle</code></p>\n<pre><code>id 'com.android.application' version '7.2.1' apply false\nid 'com.android.library' version '7.2.1' apply false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20433475,"reputation":37,"user_id":16446710,"display_name":"Vsevolod Rostovskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671279996,"creation_date":1671279996,"answer_id":74834063,"question_id":73099487,"body_markdown":"I ran into the same issue. What I tried:\r\n\r\n- changed the gradle version, changed the gradle plugin version\r\n- changed repositories where packages are searched\r\n- set proxy settings in gradle.properties file\r\n- set proxy settings in Windows 10 network settings\r\n\r\nNone of this helped me, and I installed a proxy program that can wrap the traffic of individual applications on the computer, and it worked! It was a Proxyfire program - it has a 30-day free version. The problem of accessing Google services in my case is related to local restrictions.","title":"Plugin [id: &#39;com.android.application&#39;, version: &#39;7.2.0&#39;, apply: false] was not found in any of the following sources","body":"<p>I ran into the same issue. What I tried:</p>\n<ul>\n<li>changed the gradle version, changed the gradle plugin version</li>\n<li>changed repositories where packages are searched</li>\n<li>set proxy settings in gradle.properties file</li>\n<li>set proxy settings in Windows 10 network settings</li>\n</ul>\n<p>None of this helped me, and I installed a proxy program that can wrap the traffic of individual applications on the computer, and it worked! It was a Proxyfire program - it has a 30-day free version. The problem of accessing Google services in my case is related to local restrictions.</p>\n"}],"owner":{"account_id":19054370,"reputation":31,"user_id":13911877,"display_name":"Nic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7999,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1682777380,"creation_date":1658674724,"question_id":73099487,"body_markdown":"Please assist, I am new to android studio none of the solutions provided in the previously asked questions has worked for me. I keep receiving the error:\r\n\r\n\r\nGradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.2.0&#39;, apply: false] was not found in any of the following sources:\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (could not resolve plugin artifact &#39;com.android.application:com.android.application.gradle.plugin:7.2.0&#39;)\r\nSearched in the following repositories:\r\nGradle Central Plugin Repository\r\nGoogle\r\nMavenRepo\r\n\r\nThis is my gradle-wrapper.properties:\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-bin.zip\r\n    distributionPath=wrapper/dists\r\n    zipStorePath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n\r\nsettings.gradle\r\n\r\n    pluginManagement {\r\n        repositories {\r\n            //maven { url &quot;https://plugins.gradle.org/m2/&quot; }\r\n            gradlePluginPortal()\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n    \r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n    rootProject.name = &quot;projectname&quot;\r\n    include &#39;:app&#39;\r\n\r\nProject build.gradle\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.2.0&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.2.0&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.5.31&#39; apply false\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nbuild.gradle\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;org.jetbrains.kotlin.android&#39;\r\n        id &#39;org.jetbrains.kotlin.android.extensions&#39;\r\n    }\r\n    \r\n    android {\r\n        compileSdk 31\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.tdsoft.limabot&quot;\r\n            minSdk 21\r\n            targetSdk 31\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;1.8&#39;\r\n        }\r\n    }\r\n    dependencies\r\n    {\r\n    }\r\n\r\nI have added java(JDK-18.0.0.1) to the path in environmental variables and my grade in android studio Gradle JDK is set to Embedded JDK version 11.0.12.\r\nI would greatly appreciate any form of assistance.\r\n\r\nEdit: Unfortunately, changing the project build version has not solved the issue.","title":"Plugin [id: &#39;com.android.application&#39;, version: &#39;7.2.0&#39;, apply: false] was not found in any of the following sources","body":"<p>Please assist, I am new to android studio none of the solutions provided in the previously asked questions has worked for me. I keep receiving the error:</p>\n<p>Gradle sync failed: Plugin [id: 'com.android.application', version: '7.2.0', apply: false] was not found in any of the following sources:</p>\n<ul>\n<li>Gradle Core Plugins (plugin is not in 'org.gradle' namespace)</li>\n<li>Plugin Repositories (could not resolve plugin artifact 'com.android.application:com.android.application.gradle.plugin:7.2.0')\nSearched in the following repositories:\nGradle Central Plugin Repository\nGoogle\nMavenRepo</li>\n</ul>\n<p>This is my gradle-wrapper.properties:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-bin.zip\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\n</code></pre>\n<p>settings.gradle</p>\n<pre><code>pluginManagement {\n    repositories {\n        //maven { url &quot;https://plugins.gradle.org/m2/&quot; }\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n}\n\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\nrootProject.name = &quot;projectname&quot;\ninclude ':app'\n</code></pre>\n<p>Project build.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.2.0' apply false\n    id 'com.android.library' version '7.2.0' apply false\n    id 'org.jetbrains.kotlin.android' version '1.5.31' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'org.jetbrains.kotlin.android.extensions'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.tdsoft.limabot&quot;\n        minSdk 21\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\ndependencies\n{\n}\n</code></pre>\n<p>I have added java(JDK-18.0.0.1) to the path in environmental variables and my grade in android studio Gradle JDK is set to Embedded JDK version 11.0.12.\nI would greatly appreciate any form of assistance.</p>\n<p>Edit: Unfortunately, changing the project build version has not solved the issue.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1682714177,"post_id":76131942,"comment_id":134264688,"body_markdown":"Can you please be a bit more precise and provide more details here? Which environment(s) are you talking of exactly? How comes there are several java runtimes installed on &quot;a server&quot;? I really cannot figure out what you exactly want to achieve.","body":"Can you please be a bit more precise and provide more details here? Which environment(s) are you talking of exactly? How comes there are several java runtimes installed on &quot;a server&quot;? I really cannot figure out what you exactly want to achieve."},{"owner":{"account_id":3541474,"reputation":167,"user_id":2958456,"display_name":"user2958456"},"score":0,"creation_date":1682716194,"post_id":76131942,"comment_id":134265025,"body_markdown":"@cyberbrain there is no need for precision. \n\nThis is a very straightforward question. It could be any linux environment but lets say rhel8 for now.  \n\nWhy are there several java runtimes on a server? Because it runs apps on different versions.","body":"@cyberbrain there is no need for precision.   This is a very straightforward question. It could be any linux environment but lets say rhel8 for now.    Why are there several java runtimes on a server? Because it runs apps on different versions."},{"owner":{"account_id":3541474,"reputation":167,"user_id":2958456,"display_name":"user2958456"},"score":0,"creation_date":1682716684,"post_id":76131942,"comment_id":134265095,"body_markdown":"java stores its root CA in $JAVA_HOME/lib/security/cacerts. The OS typically stores its certificates elsewhere. Ubuntu uses /etc/ssl/certs. RHEL uses /etc/pki/ca-trust/.","body":"java stores its root CA in $JAVA_HOME/lib/security/cacerts. The OS typically stores its certificates elsewhere. Ubuntu uses /etc/ssl/certs. RHEL uses /etc/pki/ca-trust/."},{"owner":{"account_id":3541474,"reputation":167,"user_id":2958456,"display_name":"user2958456"},"score":0,"creation_date":1682716743,"post_id":76131942,"comment_id":134265110,"body_markdown":"Obviously this is pretty annoying since if you need to integrate an internal CA, you have to update every java runtime on every server. I want to know if It can be unified","body":"Obviously this is pretty annoying since if you need to integrate an internal CA, you have to update every java runtime on every server. I want to know if It can be unified"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1682717781,"post_id":76131942,"comment_id":134265252,"body_markdown":"**IF you use the RHEL package(s)** for OpenJDK (or other RH family such as CentOS or Scientific) then $JAVA_HOME/lib/security/cacerts is a symlink to the data maintained by the `ca-certificates` package in `/etc/pki`. Similarly for Debian family such as Ubuntu. If you use other Java builds/packages it depends on the builder or packager. But there are other OSes besides Linux, and some of them don&#39;t have a truststore in a file Java can use, or even at all.","body":"<b>IF you use the RHEL package(s)</b> for OpenJDK (or other RH family such as CentOS or Scientific) then $JAVA_HOME/lib/security/cacerts is a symlink to the data maintained by the <code>ca-certificates</code> package in <code>&#47;etc&#47;pki</code>. Similarly for Debian family such as Ubuntu. If you use other Java builds/packages it depends on the builder or packager. But there are other OSes besides Linux, and some of them don&#39;t have a truststore in a file Java can use, or even at all."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1682761183,"post_id":76131942,"comment_id":134268684,"body_markdown":"The short answer is No.  There isn&#39;t a way that you can enforce this for all Java runtimes installed on a server.  And since &quot;best practice&quot; is really just opinion dressed up with a fancy hat ... you are actually asking for opinions, which is off-topic.","body":"The short answer is No.  There isn&#39;t a way that you can enforce this for all Java runtimes installed on a server.  And since &quot;best practice&quot; is really just opinion dressed up with a fancy hat ... you are actually asking for opinions, which is off-topic."}],"owner":{"account_id":3541474,"reputation":167,"user_id":2958456,"display_name":"user2958456"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1682777315,"creation_date":1682702954,"question_id":76131942,"body_markdown":"For instance, usually I manage certchain on RHEL with `yum update ca-certificates`. How do I ensure that Java always includes these certchains into its runtime keystore? Is there any way to enforce this across all Java runtimes on a server\r\n\r\nAn example for clarity\r\n\r\nJava stores its root CA in $JAVA_HOME/lib/security/cacerts. The OS typically stores its certificates elsewhere. Ubuntu uses /etc/ssl/certs. RHEL uses /etc/pki/ca-trust/.  \r\n \r\nObviously this is pretty annoying since if you need to integrate an internal CA, you have to update every Java runtime on every server. I want to know if there is a simple way to make Java use both its own cacerts and the OS cacerts.","title":"How to make the Java runtime use OS CA certchain?","body":"<p>For instance, usually I manage certchain on RHEL with <code>yum update ca-certificates</code>. How do I ensure that Java always includes these certchains into its runtime keystore? Is there any way to enforce this across all Java runtimes on a server</p>\n<p>An example for clarity</p>\n<p>Java stores its root CA in $JAVA_HOME/lib/security/cacerts. The OS typically stores its certificates elsewhere. Ubuntu uses /etc/ssl/certs. RHEL uses /etc/pki/ca-trust/.</p>\n<p>Obviously this is pretty annoying since if you need to integrate an internal CA, you have to update every Java runtime on every server. I want to know if there is a simple way to make Java use both its own cacerts and the OS cacerts.</p>\n"},{"tags":["java","kotlin","exception"],"answers":[{"tags":[],"owner":{"account_id":23845626,"reputation":56,"user_id":17850148,"display_name":"Panibo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682175465,"creation_date":1682175465,"answer_id":76080280,"question_id":76080214,"body_markdown":"Not sure if what you&#39;re trying to accomplish is even possible since any class can throw the exception for whatever specific reason. Meaning there&#39;s no clear answer to what throws them. You can of course check every single package and class in Java and what the reason is that it throws IOException, but this is a monumental task.\r\n\r\nThis site contains every use case for IOException. You need to navigate to each package and check where specifically the IOException happens and then unederstand what the reason behind the throw is.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/io/class-use/IOException.html","title":"All reasons that can throw IOException","body":"<p>Not sure if what you're trying to accomplish is even possible since any class can throw the exception for whatever specific reason. Meaning there's no clear answer to what throws them. You can of course check every single package and class in Java and what the reason is that it throws IOException, but this is a monumental task.</p>\n<p>This site contains every use case for IOException. You need to navigate to each package and check where specifically the IOException happens and then unederstand what the reason behind the throw is.</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/class-use/IOException.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/io/class-use/IOException.html</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682777066,"creation_date":1682180934,"answer_id":76080714,"question_id":76080214,"body_markdown":"[@Panibo&#39;s answer][1] and the comments on it point out that is impractical (and maybe impossible) to enumerate all of the possible reasons that an `IOException` can occur.\r\n\r\nBut there are other ways to provide helpful diagnostic information to the user:\r\n\r\n  - List the *most likely* reasons to the user, based on what the I/O that the application does.  (For example, a program that doesn&#39;t do network I/O shouldn&#39;t get a networking related `IOException`.)\r\n  - Discriminate the likely subtype exceptions and report accordingly.\r\n  - Show the actual exception message to the user.\r\n  - Catch the `IOException` further up the stack.  Then:\r\n      - rethrow it as *different* custom exceptions that provide more contextual information for generating the user error message later, or\r\n      - report the error and terminate application immediately.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76080280/139985","title":"All reasons that can throw IOException","body":"<p><a href=\"https://stackoverflow.com/a/76080280/139985\">@Panibo's answer</a> and the comments on it point out that is impractical (and maybe impossible) to enumerate all of the possible reasons that an <code>IOException</code> can occur.</p>\n<p>But there are other ways to provide helpful diagnostic information to the user:</p>\n<ul>\n<li>List the <em>most likely</em> reasons to the user, based on what the I/O that the application does.  (For example, a program that doesn't do network I/O shouldn't get a networking related <code>IOException</code>.)</li>\n<li>Discriminate the likely subtype exceptions and report accordingly.</li>\n<li>Show the actual exception message to the user.</li>\n<li>Catch the <code>IOException</code> further up the stack.  Then:\n<ul>\n<li>rethrow it as <em>different</em> custom exceptions that provide more contextual information for generating the user error message later, or</li>\n<li>report the error and terminate application immediately.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":17583350,"reputation":446,"user_id":13122058,"display_name":"AdisAlagic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682678476,"accepted_answer_id":76080280,"answer_count":2,"score":0,"last_activity_date":1682777066,"creation_date":1682174571,"question_id":76080214,"body_markdown":"I want to create detailed feedback for user and I want to specify all reasons/causes of `IOException`. Where can I find a list of all or at least a hint for most cases?","title":"All reasons that can throw IOException","body":"<p>I want to create detailed feedback for user and I want to specify all reasons/causes of <code>IOException</code>. Where can I find a list of all or at least a hint for most cases?</p>\n"},{"tags":["java","intellij-idea","javafx","fxml"],"answers":[{"tags":[],"owner":{"account_id":8057875,"reputation":550,"user_id":6077371,"display_name":"BenjaVR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1462535624,"creation_date":1462535624,"answer_id":37071721,"question_id":36934339,"body_markdown":"Seems like the `@style.css` does not work, instead I used the relative folder path, starting from the root (`src`): `/css/style.css`.","title":"Javafx WARNING: Resource &quot;style.css&quot; not found intellij","body":"<p>Seems like the <code>@style.css</code> does not work, instead I used the relative folder path, starting from the root (<code>src</code>): <code>/css/style.css</code>.</p>\n"},{"tags":[],"owner":{"account_id":26729543,"reputation":29,"user_id":20332134,"display_name":"AD5XJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682775881,"creation_date":1682601912,"answer_id":76120964,"question_id":36934339,"body_markdown":"I had to do it a bit differently. The problem was that I create the CSS dynamically based on stored settings (e.g. font family, font size, etc. with selection by the user). I called it dynamic.css.\r\n\r\nSo, what worked for me in my Main Window Controller was this:\r\n\r\n\tString csspath = &quot;&quot;;\r\n\ttry\r\n\t{\r\n\t\tcsspath = MainController.class.getResource(&quot;/CSS/dynamic.css&quot;).toExternalForm();\r\n\t\tmainscene.getStylesheets().add(csspath);\r\n\t}\r\n\tcatch ( Exception e )\r\n\t{\r\n\t\tString msg = &quot;\\nERROR MainController::loadStylesheet 2040: err=&quot;;\r\n\t\tmsg += e.getMessage();\r\n\t\tmsg += &quot;\\nURL:&quot;;\r\n\t\tmsg += csspath;\r\n\t\tmsg += &quot;\\n\\n&quot;;\r\n\t\tSystem.out.println(msg);\r\n\t\tmainscene.setCursor(Cursor.DEFAULT);\r\n\t}\r\n\r\n","title":"Javafx WARNING: Resource &quot;style.css&quot; not found intellij","body":"<p>I had to do it a bit differently. The problem was that I create the CSS dynamically based on stored settings (e.g. font family, font size, etc. with selection by the user). I called it dynamic.css.</p>\n<p>So, what worked for me in my Main Window Controller was this:</p>\n<pre><code>String csspath = &quot;&quot;;\ntry\n{\n    csspath = MainController.class.getResource(&quot;/CSS/dynamic.css&quot;).toExternalForm();\n    mainscene.getStylesheets().add(csspath);\n}\ncatch ( Exception e )\n{\n    String msg = &quot;\\nERROR MainController::loadStylesheet 2040: err=&quot;;\n    msg += e.getMessage();\n    msg += &quot;\\nURL:&quot;;\n    msg += csspath;\n    msg += &quot;\\n\\n&quot;;\n    System.out.println(msg);\n    mainscene.setCursor(Cursor.DEFAULT);\n}\n</code></pre>\n"}],"owner":{"account_id":8057875,"reputation":550,"user_id":6077371,"display_name":"BenjaVR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4610,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37071721,"answer_count":2,"score":1,"last_activity_date":1682775881,"creation_date":1461921329,"question_id":36934339,"body_markdown":"I am making a simple Javafx application with FXML.\r\nMy files are all in the same package:\r\n\r\n* MainApp.java\r\n* MainAppController.java\r\n* style.css\r\n* MainApp.fxml\r\n\r\nMy root tag from the `.fxml` file contains:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;GridPane fx:id=&quot;myRootPanel&quot;\r\n              alignment=&quot;CENTER&quot;\r\n              maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot;\r\n              minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; \r\n              stylesheets=&quot;@style.css&quot;\r\n              xmlns=&quot;http://javafx.com/javafx/8.0.65&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n              fx:controller=&quot;sample.MainAppController&quot;&gt;\r\n\r\nas you see there is a `stylesheets=&quot;@style.css&quot;`, which was even autocompleted by Intellij.\r\n\r\nWhen I open this `.fxml` file in Scenebuilder, the css is applied correctly, but when I run the project, I get following console messages:\r\n\r\n`null/style.css` and `WARNING: Resource &quot;style.css&quot; not found.`\r\n\r\nI have added `*.css` to my Resource patterns, did a clean build, invalidated cache, but none of these resolve my problem.\r\n\r\nI tried to make a simple application in NetBeans, and when I run that project there, the CSS is applied correctly. Because of this, I think there might be a problem/setting in the Intellij IDE to solve this... Does anyone know what to do?\r\n\r\nThanks in advance.&lt;br/&gt;\r\nB.","title":"Javafx WARNING: Resource &quot;style.css&quot; not found intellij","body":"<p>I am making a simple Javafx application with FXML.\nMy files are all in the same package:</p>\n\n<ul>\n<li>MainApp.java</li>\n<li>MainAppController.java</li>\n<li>style.css</li>\n<li>MainApp.fxml</li>\n</ul>\n\n<p>My root tag from the <code>.fxml</code> file contains:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;GridPane fx:id=\"myRootPanel\"\n          alignment=\"CENTER\"\n          maxHeight=\"-Infinity\" maxWidth=\"-Infinity\"\n          minHeight=\"-Infinity\" minWidth=\"-Infinity\" \n          stylesheets=\"@style.css\"\n          xmlns=\"http://javafx.com/javafx/8.0.65\" xmlns:fx=\"http://javafx.com/fxml/1\"\n          fx:controller=\"sample.MainAppController\"&gt;\n</code></pre>\n\n<p>as you see there is a <code>stylesheets=\"@style.css\"</code>, which was even autocompleted by Intellij.</p>\n\n<p>When I open this <code>.fxml</code> file in Scenebuilder, the css is applied correctly, but when I run the project, I get following console messages:</p>\n\n<p><code>null/style.css</code> and <code>WARNING: Resource \"style.css\" not found.</code></p>\n\n<p>I have added <code>*.css</code> to my Resource patterns, did a clean build, invalidated cache, but none of these resolve my problem.</p>\n\n<p>I tried to make a simple application in NetBeans, and when I run that project there, the CSS is applied correctly. Because of this, I think there might be a problem/setting in the Intellij IDE to solve this... Does anyone know what to do?</p>\n\n<p>Thanks in advance.<br/>\nB.</p>\n"},{"tags":["java","json","graphql"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1679557639,"post_id":75820288,"comment_id":133743716,"body_markdown":"Maybe show how you are passing this JSON String from Java to GraphQL?","body":"Maybe show how you are passing this JSON String from Java to GraphQL?"},{"owner":{"account_id":13545735,"reputation":102,"user_id":9772107,"display_name":"Mojtaba jalambadani"},"score":0,"creation_date":1679557935,"post_id":75820288,"comment_id":133743793,"body_markdown":"To fix this issue, you can use a JSON parser to convert the JSON string into a JSON object before returning it as part of the GraphQL response. Then, the GraphQL serialization process will take care of serializing the JSON object into a string without adding any additional escape characters.\nBy using JSON.parse() to convert the JSON string into a JSON object before returning it as part of the GraphQL response, the serialization process will correctly serialize the JSON object into a string without adding any unwanted escape characters.","body":"To fix this issue, you can use a JSON parser to convert the JSON string into a JSON object before returning it as part of the GraphQL response. Then, the GraphQL serialization process will take care of serializing the JSON object into a string without adding any additional escape characters. By using JSON.parse() to convert the JSON string into a JSON object before returning it as part of the GraphQL response, the serialization process will correctly serialize the JSON object into a string without adding any unwanted escape characters."},{"owner":{"account_id":20489392,"reputation":51,"user_id":15035801,"display_name":"strz3lmno"},"score":0,"creation_date":1679560388,"post_id":75820288,"comment_id":133744317,"body_markdown":"@Mojtabajalambadani I tried this.. no luck though, still getting the characters.","body":"@Mojtabajalambadani I tried this.. no luck though, still getting the characters."}],"answers":[{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682775832,"creation_date":1682775832,"answer_id":76136545,"question_id":75820288,"body_markdown":"As the `payload` field is declared as a `String` in the schema, as `payload:String`, and is being set with a string value in the java code, it is a JSON blob in the response, instead of a JSON object. If the type of the payload field is changed to a custom object in the schema and in the java code, it will be a JSON object in the response. The new schema could be something like below:\r\n\r\n```graphql\r\ntype Query {\r\n  getValue: StringApiResponse\r\n}\r\n\r\ntype StringApiResponse {\r\n  statusCode: String!\r\n  message: String!\r\n  timestamp: String!\r\n  payload: Payload\r\n}\r\n\r\ntype Payload {\r\n  logo: String!\r\n  name: LanguageSpecificContent!\r\n  copyrightText: LanguageSpecificContent!\r\n  help: String!\r\n  termsAndCondition: String!\r\n}\r\n\r\ntype LanguageSpecificContent {\r\n  en: String!\r\n  ja: String!\r\n}\r\n```\r\n\r\nWith the above schema, we can use a query like below:\r\n\r\n```graphql\r\n{\r\n  getValue {\r\n    payload {\r\n        logo,\r\n        name {\r\n            en,\r\n            ja\r\n        },\r\n        copyrightText {\r\n            en,\r\n            ja\r\n        },\r\n        help,\r\n        termsAndCondition\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe above query returns the below response, with payload as a JSON object instead of a JSON string:\r\n\r\n```json\r\n{\r\n    &quot;data&quot;: {\r\n        &quot;getValue&quot;: {\r\n            &quot;payload&quot;: {\r\n                &quot;logo&quot;: &quot;http://logo&quot;,\r\n                &quot;name&quot;: {\r\n                    &quot;en&quot;: &quot;AAA&quot;,\r\n                    &quot;ja&quot;: &quot;aaa&quot;\r\n                },\r\n                &quot;copyrightText&quot;: {\r\n                    &quot;en&quot;: &quot;AAA&quot;,\r\n                    &quot;ja&quot;: &quot;aaa&quot;\r\n                },\r\n                &quot;help&quot;: &quot;http://help&quot;,\r\n                &quot;termsAndCondition&quot;: &quot;http://terms&quot;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe complete test application can be found on [github](https://github.com/devatherock/spring-boot-demo/tree/graphql-101)","title":"GraphQL response has unwanted escape characters","body":"<p>As the <code>payload</code> field is declared as a <code>String</code> in the schema, as <code>payload:String</code>, and is being set with a string value in the java code, it is a JSON blob in the response, instead of a JSON object. If the type of the payload field is changed to a custom object in the schema and in the java code, it will be a JSON object in the response. The new schema could be something like below:</p>\n<pre><code>type Query {\n  getValue: StringApiResponse\n}\n\ntype StringApiResponse {\n  statusCode: String!\n  message: String!\n  timestamp: String!\n  payload: Payload\n}\n\ntype Payload {\n  logo: String!\n  name: LanguageSpecificContent!\n  copyrightText: LanguageSpecificContent!\n  help: String!\n  termsAndCondition: String!\n}\n\ntype LanguageSpecificContent {\n  en: String!\n  ja: String!\n}\n</code></pre>\n<p>With the above schema, we can use a query like below:</p>\n<pre><code>{\n  getValue {\n    payload {\n        logo,\n        name {\n            en,\n            ja\n        },\n        copyrightText {\n            en,\n            ja\n        },\n        help,\n        termsAndCondition\n    }\n  }\n}\n</code></pre>\n<p>The above query returns the below response, with payload as a JSON object instead of a JSON string:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;data&quot;: {\n        &quot;getValue&quot;: {\n            &quot;payload&quot;: {\n                &quot;logo&quot;: &quot;http://logo&quot;,\n                &quot;name&quot;: {\n                    &quot;en&quot;: &quot;AAA&quot;,\n                    &quot;ja&quot;: &quot;aaa&quot;\n                },\n                &quot;copyrightText&quot;: {\n                    &quot;en&quot;: &quot;AAA&quot;,\n                    &quot;ja&quot;: &quot;aaa&quot;\n                },\n                &quot;help&quot;: &quot;http://help&quot;,\n                &quot;termsAndCondition&quot;: &quot;http://terms&quot;\n            }\n        }\n    }\n}\n</code></pre>\n<p>The complete test application can be found on <a href=\"https://github.com/devatherock/spring-boot-demo/tree/graphql-101\" rel=\"nofollow noreferrer\">github</a></p>\n"}],"owner":{"account_id":20489392,"reputation":51,"user_id":15035801,"display_name":"strz3lmno"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682775832,"creation_date":1679557226,"question_id":75820288,"body_markdown":"My Java code receives a JSON string like this which is basically a JSON object without the structure.\r\n\r\n```\r\n{  &quot;logo&quot;: &quot;http://logo&quot;,  &quot;name&quot;: {    &quot;en&quot;: &quot;AAA&quot;,    &quot;ja&quot;: &quot;aaa&quot;  },  &quot;copyrightText&quot;: {    &quot;en&quot;: &quot;AAA&quot;,    &quot;ja&quot;: &quot;aaa&quot;  },  &quot;help&quot;: &quot;http://help&quot;,  &quot;termsAndCondition&quot;: &quot;http://terms&quot;}\r\n```\r\nI have a GraphQL endpoint that wants to retrieve this string, and I want the output response to contain exactly that. But what I&#39;m getting right now is:\r\n\r\n```\r\n&quot;{  \\&quot;logo\\&quot;: \\&quot;http://logo\\&quot;,  \\&quot;name\\&quot;: {    \\&quot;en\\&quot;: \\&quot;AAA\\&quot;,    \\&quot;ja\\&quot;: \\&quot;aaa\\&quot;  },  \\&quot;copyrightText\\&quot;: {    \\&quot;en\\&quot;: \\&quot;AAA\\&quot;,    \\&quot;ja\\&quot;: \\&quot;aaa\\&quot;  },  \\&quot;help\\&quot;: \\&quot;http://help\\&quot;,  \\&quot;termsAndCondition\\&quot;: \\&quot;http://terms\\&quot;}&quot;\r\n```\r\nWhere are these escape characters coming from? How to I get rid of them?\r\n\r\nMy GraphQL schema is as follows:\r\n\r\n```\r\ntype Query{\r\n    getValue: StringApiResponse\r\n}\r\n\r\ntype StringApiResponse{\r\n    statusCode:String!\r\n    message:String!\r\n    timestamp:String!\r\n    payload:String\r\n}\r\n```\r\nThis is how I&#39;m passing the string to the GraphQL from the Java code:\r\n```\r\n@QueryMapping(name = &quot;getValue&quot;)\r\n    public ApiResponse getValue(){\r\n        try {\r\n            String value = ValueService.getValue();\r\n            return ApiResponse.forStatus(StatusCode.S0000)\r\n                    .withMessage(StatusCode.S0000.getMessage())\r\n                    .withPayload(value);\r\n}\r\n```\r\n\r\nUpdate: It seems that the escape characters are being added by Java as it saves this variable to a String. \r\nI couldn&#39;t find a way to get rid of them, so I&#39;m parsing the String to JSON from the frontend using `JSON.parse`.","title":"GraphQL response has unwanted escape characters","body":"<p>My Java code receives a JSON string like this which is basically a JSON object without the structure.</p>\n<pre><code>{  &quot;logo&quot;: &quot;http://logo&quot;,  &quot;name&quot;: {    &quot;en&quot;: &quot;AAA&quot;,    &quot;ja&quot;: &quot;aaa&quot;  },  &quot;copyrightText&quot;: {    &quot;en&quot;: &quot;AAA&quot;,    &quot;ja&quot;: &quot;aaa&quot;  },  &quot;help&quot;: &quot;http://help&quot;,  &quot;termsAndCondition&quot;: &quot;http://terms&quot;}\n</code></pre>\n<p>I have a GraphQL endpoint that wants to retrieve this string, and I want the output response to contain exactly that. But what I'm getting right now is:</p>\n<pre><code>&quot;{  \\&quot;logo\\&quot;: \\&quot;http://logo\\&quot;,  \\&quot;name\\&quot;: {    \\&quot;en\\&quot;: \\&quot;AAA\\&quot;,    \\&quot;ja\\&quot;: \\&quot;aaa\\&quot;  },  \\&quot;copyrightText\\&quot;: {    \\&quot;en\\&quot;: \\&quot;AAA\\&quot;,    \\&quot;ja\\&quot;: \\&quot;aaa\\&quot;  },  \\&quot;help\\&quot;: \\&quot;http://help\\&quot;,  \\&quot;termsAndCondition\\&quot;: \\&quot;http://terms\\&quot;}&quot;\n</code></pre>\n<p>Where are these escape characters coming from? How to I get rid of them?</p>\n<p>My GraphQL schema is as follows:</p>\n<pre><code>type Query{\n    getValue: StringApiResponse\n}\n\ntype StringApiResponse{\n    statusCode:String!\n    message:String!\n    timestamp:String!\n    payload:String\n}\n</code></pre>\n<p>This is how I'm passing the string to the GraphQL from the Java code:</p>\n<pre><code>@QueryMapping(name = &quot;getValue&quot;)\n    public ApiResponse getValue(){\n        try {\n            String value = ValueService.getValue();\n            return ApiResponse.forStatus(StatusCode.S0000)\n                    .withMessage(StatusCode.S0000.getMessage())\n                    .withPayload(value);\n}\n</code></pre>\n<p>Update: It seems that the escape characters are being added by Java as it saves this variable to a String.\nI couldn't find a way to get rid of them, so I'm parsing the String to JSON from the frontend using <code>JSON.parse</code>.</p>\n"},{"tags":["java","oop","access-modifiers"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1682774045,"post_id":76136390,"comment_id":134269996,"body_markdown":"&quot;Because the spec says so&quot;. If your question is specifically about &#39;okay, which part of the spec&#39; - that doesn&#39;t feel like a stack overflow question (the JLS is right there, just go look it up, this is a developer help site, not &#39;how do I search the web for basic things&#39;). If the question is &#39;why did the java spec authors decide to do this&#39;, that also isn&#39;t a question this site is for.","body":"&quot;Because the spec says so&quot;. If your question is specifically about &#39;okay, which part of the spec&#39; - that doesn&#39;t feel like a stack overflow question (the JLS is right there, just go look it up, this is a developer help site, not &#39;how do I search the web for basic things&#39;). If the question is &#39;why did the java spec authors decide to do this&#39;, that also isn&#39;t a question this site is for."}],"owner":{"account_id":28454764,"reputation":11,"user_id":21772333,"display_name":"jihongkim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682774808,"answer_count":0,"score":0,"last_activity_date":1682774894,"creation_date":1682773551,"question_id":76136390,"body_markdown":"this is code.\r\n\r\n```java\r\nclass Node {\r\nprivate int number;\r\nint lotto = 3;\r\n\r\n    public Node(int number) {\r\n        this.number = number;\r\n    }\r\n    \r\n    public void setNumber(Node node) {\r\n        this.number = node.number; // why? \r\n    }\r\n\r\n}\r\n```\r\n\r\nwhy OOP allowed this situation?\r\nI&#39;m curious about your opinions.","title":"Why did oop allow other instances of the same class to ignore access modifier?","body":"<p>this is code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Node {\nprivate int number;\nint lotto = 3;\n\n    public Node(int number) {\n        this.number = number;\n    }\n    \n    public void setNumber(Node node) {\n        this.number = node.number; // why? \n    }\n\n}\n</code></pre>\n<p>why OOP allowed this situation?\nI'm curious about your opinions.</p>\n"},{"tags":["java","sleep"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1682728017,"post_id":76133959,"comment_id":134266298,"body_markdown":"Because seing is single threaded (and not thread safe), you can’t block the event dispatching thread, otherwise ui can’t be updated. Use a swing Timer instead","body":"Because seing is single threaded (and not thread safe), you can’t block the event dispatching thread, otherwise ui can’t be updated. Use a swing Timer instead"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1682728138,"creation_date":1682728138,"answer_id":76134000,"question_id":76133959,"body_markdown":"Almost all UI systems, and swing (which is what you are using here) is one of them, has this concept called the Event Dispatcher Thread, or EDT.\r\n\r\nThe EDT has a bunch of properties:\r\n\r\n* There is only one such thread.\r\n* Any interaction with the UI (as in, `jLabel.setText(&quot;Hello&quot;)`, removing or adding widgets, changing the colour of something, and so on) __must__ be done from the EDT. If you do it from any other thread, weird things will happen.\r\n* All event handlers (so, your on mouse click code and such) runs inside the EDT.\r\n* __You must never block the EDT__. The EDT is the thread that is taking caring of ensuring your program repaints itself if the user drags another window across your app&#39;s window (the OS doesn&#39;t remember those pixels! The OS just asks the app to redraw itself; sometimes the mouse pointer isn&#39;t a hardware sprite and leaves a &#39;trail&#39; in its wake). The EDT is also the thread that is taking care of e.g. if the user presses a button but doesn&#39;t let go, that the button is re-painted in a &#39;it is now pressed down&#39; look.\r\n\r\nEver seen a napp crash such that even pressing buttons doesn&#39;t do anything, or the thing just becomes a dull grey colour once you hide it and re-show it and even drag any window across it?\r\n\r\nThat&#39;d be an app that violated that rule.\r\n\r\nHere you are sleeping in the EDT. __This is forbidden__.\r\n\r\nBlocking acts:\r\n\r\n* Talking to a DB\r\n* Opening a file\r\n* Interacting with anything on the network\r\n* Waiting for a thread.\r\n* A `synchronized` anything.\r\n* `Thread.sleep`\r\n* and much, much more. Anything that would cause the thread to sleep as it cannot continue until some event occurs (disk ready with bytes, some time passes, a lock becomes free, and so on).\r\n\r\nThe solution is not to sleep 400 millisec and then act. The solution is instead to create a new thread which waits 400 milliseconds, and which then injects the code to remove, revalidate, and repaint back into the EDT (after all, that thread is not the EDT, so you can wait 400 millis in it, but you cannot act on the UI, because you must only do that from the EDT).\r\n\r\nThis is annoying, but somewhat common, so swing has a thing for it: [`SwingTimer`](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html).","title":"Why isn&#39;t my Thread.sleep() working as intended?","body":"<p>Almost all UI systems, and swing (which is what you are using here) is one of them, has this concept called the Event Dispatcher Thread, or EDT.</p>\n<p>The EDT has a bunch of properties:</p>\n<ul>\n<li>There is only one such thread.</li>\n<li>Any interaction with the UI (as in, <code>jLabel.setText(&quot;Hello&quot;)</code>, removing or adding widgets, changing the colour of something, and so on) <strong>must</strong> be done from the EDT. If you do it from any other thread, weird things will happen.</li>\n<li>All event handlers (so, your on mouse click code and such) runs inside the EDT.</li>\n<li><strong>You must never block the EDT</strong>. The EDT is the thread that is taking caring of ensuring your program repaints itself if the user drags another window across your app's window (the OS doesn't remember those pixels! The OS just asks the app to redraw itself; sometimes the mouse pointer isn't a hardware sprite and leaves a 'trail' in its wake). The EDT is also the thread that is taking care of e.g. if the user presses a button but doesn't let go, that the button is re-painted in a 'it is now pressed down' look.</li>\n</ul>\n<p>Ever seen a napp crash such that even pressing buttons doesn't do anything, or the thing just becomes a dull grey colour once you hide it and re-show it and even drag any window across it?</p>\n<p>That'd be an app that violated that rule.</p>\n<p>Here you are sleeping in the EDT. <strong>This is forbidden</strong>.</p>\n<p>Blocking acts:</p>\n<ul>\n<li>Talking to a DB</li>\n<li>Opening a file</li>\n<li>Interacting with anything on the network</li>\n<li>Waiting for a thread.</li>\n<li>A <code>synchronized</code> anything.</li>\n<li><code>Thread.sleep</code></li>\n<li>and much, much more. Anything that would cause the thread to sleep as it cannot continue until some event occurs (disk ready with bytes, some time passes, a lock becomes free, and so on).</li>\n</ul>\n<p>The solution is not to sleep 400 millisec and then act. The solution is instead to create a new thread which waits 400 milliseconds, and which then injects the code to remove, revalidate, and repaint back into the EDT (after all, that thread is not the EDT, so you can wait 400 millis in it, but you cannot act on the UI, because you must only do that from the EDT).</p>\n<p>This is annoying, but somewhat common, so swing has a thing for it: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"noreferrer\"><code>SwingTimer</code></a>.</p>\n"}],"owner":{"account_id":28450471,"reputation":23,"user_id":21768610,"display_name":"OwerTheBlobfish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76134000,"answer_count":1,"score":2,"last_activity_date":1682773677,"creation_date":1682727241,"question_id":76133959,"body_markdown":"My code currently looks like this, and I want to delay the process AFTER the release code takes place, but before the game starting, but currently it looks as if the release code doesn&#39;t occur at all. It looks as if after the delay, the start happens immediately after, which I don&#39;t want. If anyone can help, thanks. \r\n            \r\n\r\nThis is my code. \r\n\r\n```java\r\nstartButton.addMouseListener(new MouseListener() {\r\n    @Override\r\n    public void mouseClicked(MouseEvent e) {\r\n    }\r\n\r\n    @Override\r\n    public void mousePressed(MouseEvent e) {\r\n        // Press\r\n        startButton.setPreferredSize(new Dimension(240, 240));\r\n        startButton.setIcon(startButtonHover);\r\n        FRAME.pack();\r\n    }\r\n\r\n    @Override\r\n    public void mouseReleased(MouseEvent e) {\r\n        // Release\r\n        // NOT TRIGGERING AT ALL\r\n        startButton.setPreferredSize(new Dimension(256, 256));\r\n        startButton.setIcon(startButtonImage);\r\n        FRAME.pack();\r\n\r\n        try {\r\n            Thread.sleep(400);\r\n        } catch (InterruptedException e1) {\r\n            Thread.currentThread().interrupt();\r\n        }\r\n\r\n        // Game Start\r\n        FRAME.remove(menuPanel);\r\n        FRAME.revalidate();\r\n        FRAME.repaint();\r\n\r\n    }\r\n\r\n});\r\n```\r\n","title":"Why isn&#39;t my Thread.sleep() working as intended?","body":"<p>My code currently looks like this, and I want to delay the process AFTER the release code takes place, but before the game starting, but currently it looks as if the release code doesn't occur at all. It looks as if after the delay, the start happens immediately after, which I don't want. If anyone can help, thanks.</p>\n<p>This is my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>startButton.addMouseListener(new MouseListener() {\n    @Override\n    public void mouseClicked(MouseEvent e) {\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        // Press\n        startButton.setPreferredSize(new Dimension(240, 240));\n        startButton.setIcon(startButtonHover);\n        FRAME.pack();\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        // Release\n        // NOT TRIGGERING AT ALL\n        startButton.setPreferredSize(new Dimension(256, 256));\n        startButton.setIcon(startButtonImage);\n        FRAME.pack();\n\n        try {\n            Thread.sleep(400);\n        } catch (InterruptedException e1) {\n            Thread.currentThread().interrupt();\n        }\n\n        // Game Start\n        FRAME.remove(menuPanel);\n        FRAME.revalidate();\n        FRAME.repaint();\n\n    }\n\n});\n</code></pre>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":9147861,"reputation":159,"user_id":6803365,"display_name":"Hans FooBar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682773585,"creation_date":1682773193,"answer_id":76136363,"question_id":76120278,"body_markdown":"I&#39;m working on a similar feature at the moment. Here is the example. I have renamed and shortened the classes. I hope that I have understood what you are looking for and that it helps you.\r\n\r\n**MyDto**\r\n\r\n```java\r\npublic class MyDto {\r\n    @MyAnnotation(value = &quot;FooBar&quot;)\r\n    @JsonSerialize(using = SpecialSerializer.class)\r\n    @JsonDeserialize(using = SpecialDeserializer.class)\r\n    private String special;\r\n}\r\n````\r\n**MyAnnotation**\r\n\r\n```java\r\n// Annotation\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.FIELD)\r\n@Documented\r\npublic @interface MyAnnotation {\r\n    String value() default &quot;&quot;;\r\n}\r\n````\r\n**SpecialSerializer**\r\n\r\n```java\r\npublic class SpecialSerializer extends JsonSerializer&lt;String&gt; implements ContextualSerializer {\r\n\r\n    private final String annotationValue;\r\n\r\n    public SalutationSerializer() {\r\n        this(null);\r\n    }\r\n\r\n    public SalutationSerializer(String annotationValue) {\r\n        this.annotationValue = annotationValue;\r\n    }\r\n\r\n    @Override\r\n    public void serialize(String popertyValue, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n        // this.annotationValue --&gt; &quot;FooBar&quot;\r\n        jsonGenerator.writeString(popertyValue + &quot;_manipulated&quot;);\r\n    }\r\n\r\n    @Override\r\n    public JsonSerializer&lt;?&gt; createContextual(SerializerProvider prov, BeanProperty property) {\r\n        return new SpecialSerializer(\r\n                new MyAnnotationReader().getValue(property)\r\n        );\r\n    }\r\n}\r\n````\r\n\r\n**SpecialDeserializer**\r\n\r\n```java\r\n// SpecialDeserializer\r\npublic class SpecialDeserializer extends JsonDeserializer&lt;String&gt; implements ContextualDeserializer {\r\n\r\n    private final String annotationValue;\r\n\r\n    public SpecialDeserializer() {\r\n        this(null, null);\r\n    }\r\n\r\n    public SpecialDeserializer(String annotationValue) {\r\n        this.annotationValue = annotationValue;\r\n    }\r\n\r\n    @Override\r\n    public String deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n        String popertyValue = jsonParser.getText();\r\n        // this.annotationValue --&gt; &quot;FooBar&quot;\r\n        return popertyValue + &quot;_manipulated&quot;;\r\n    }\r\n\r\n    @Override\r\n    public JsonDeserializer&lt;?&gt; createContextual(DeserializationContext ctxt, BeanProperty property) {\r\n        return new SpecialDeserializer(\r\n            new MyAnnotationReader().getValue(property)\r\n        );\r\n    }\r\n}\r\n\r\n```\r\n\r\n**MyAnnotationReader**\r\n\r\n```java\r\npublic class MyAnnotationReader {\r\n\r\n    public String getMap(BeanProperty property) {\r\n        MyAnnotation annotation = property.getAnnotation(MyAnnotation.class);\r\n        return annotation.value();\r\n    }\r\n}\r\n```","title":"Jackson, custom &quot;writer&quot; for annotation","body":"<p>I'm working on a similar feature at the moment. Here is the example. I have renamed and shortened the classes. I hope that I have understood what you are looking for and that it helps you.</p>\n<p><strong>MyDto</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyDto {\n    @MyAnnotation(value = &quot;FooBar&quot;)\n    @JsonSerialize(using = SpecialSerializer.class)\n    @JsonDeserialize(using = SpecialDeserializer.class)\n    private String special;\n}\n</code></pre>\n<p><strong>MyAnnotation</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Annotation\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\n@Documented\npublic @interface MyAnnotation {\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<p><strong>SpecialSerializer</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SpecialSerializer extends JsonSerializer&lt;String&gt; implements ContextualSerializer {\n\n    private final String annotationValue;\n\n    public SalutationSerializer() {\n        this(null);\n    }\n\n    public SalutationSerializer(String annotationValue) {\n        this.annotationValue = annotationValue;\n    }\n\n    @Override\n    public void serialize(String popertyValue, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n        // this.annotationValue --&gt; &quot;FooBar&quot;\n        jsonGenerator.writeString(popertyValue + &quot;_manipulated&quot;);\n    }\n\n    @Override\n    public JsonSerializer&lt;?&gt; createContextual(SerializerProvider prov, BeanProperty property) {\n        return new SpecialSerializer(\n                new MyAnnotationReader().getValue(property)\n        );\n    }\n}\n</code></pre>\n<p><strong>SpecialDeserializer</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// SpecialDeserializer\npublic class SpecialDeserializer extends JsonDeserializer&lt;String&gt; implements ContextualDeserializer {\n\n    private final String annotationValue;\n\n    public SpecialDeserializer() {\n        this(null, null);\n    }\n\n    public SpecialDeserializer(String annotationValue) {\n        this.annotationValue = annotationValue;\n    }\n\n    @Override\n    public String deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        String popertyValue = jsonParser.getText();\n        // this.annotationValue --&gt; &quot;FooBar&quot;\n        return popertyValue + &quot;_manipulated&quot;;\n    }\n\n    @Override\n    public JsonDeserializer&lt;?&gt; createContextual(DeserializationContext ctxt, BeanProperty property) {\n        return new SpecialDeserializer(\n            new MyAnnotationReader().getValue(property)\n        );\n    }\n}\n\n</code></pre>\n<p><strong>MyAnnotationReader</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyAnnotationReader {\n\n    public String getMap(BeanProperty property) {\n        MyAnnotation annotation = property.getAnnotation(MyAnnotation.class);\n        return annotation.value();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1792694,"reputation":2334,"user_id":1632752,"accept_rate":60,"display_name":"gervais.b"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682773585,"creation_date":1682597574,"question_id":76120278,"body_markdown":"I would like to provide a specific writer and reader for one custom annotation. \r\n\r\nI do have some classes that need a specific format for fields. The ideal solution would be to create a custom annotation and provide my own classes to read and write fields annotated with it.\r\n\r\n```\r\nclass SampleWithSpecificFormat {\r\n\r\n  @MyAnnotation\r\n  private String special; // Written and read via a custom class\r\n}\r\n```\r\n\r\nDo you have any resources explaining how to do that?\r\n","title":"Jackson, custom &quot;writer&quot; for annotation","body":"<p>I would like to provide a specific writer and reader for one custom annotation.</p>\n<p>I do have some classes that need a specific format for fields. The ideal solution would be to create a custom annotation and provide my own classes to read and write fields annotated with it.</p>\n<pre><code>class SampleWithSpecificFormat {\n\n  @MyAnnotation\n  private String special; // Written and read via a custom class\n}\n</code></pre>\n<p>Do you have any resources explaining how to do that?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"score":0,"creation_date":1628078286,"post_id":68644206,"comment_id":121324353,"body_markdown":"This really isn&#39;t done by Hibernate, it&#39;s entirely a Spring feature. Specifically it&#39;s done by [spring-data-jpa](https://github.com/spring-projects/spring-data-jpa)","body":"This really isn&#39;t done by Hibernate, it&#39;s entirely a Spring feature. Specifically it&#39;s done by <a href=\"https://github.com/spring-projects/spring-data-jpa\" rel=\"nofollow noreferrer\">spring-data-jpa</a>"}],"answers":[{"tags":[],"owner":{"account_id":1365317,"reputation":909,"user_id":1301881,"accept_rate":100,"display_name":"James Gawron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628038922,"creation_date":1628038922,"answer_id":68644259,"question_id":68644206,"body_markdown":"If you check the import statement for your JpaRepository\r\n   \r\n    extends JpaRepository&lt;Team, Long&gt; {\r\n\r\nI think you&#39;ll find that you are using Spring Data ... If this is the case this is what is providing the Repository implementation you are looking for.","title":"How does the JPA repository implementation get created","body":"<p>If you check the import statement for your JpaRepository</p>\n<pre><code>extends JpaRepository&lt;Team, Long&gt; {\n</code></pre>\n<p>I think you'll find that you are using Spring Data ... If this is the case this is what is providing the Repository implementation you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":15888858,"reputation":1,"user_id":11464569,"display_name":"HARSH SHET"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682773363,"creation_date":1682583386,"answer_id":76118217,"question_id":68644206,"body_markdown":"The class `org.springframework.data.jpa.repository.support.SimpleJPARepository` contains the implementation for `JPARepository`","title":"How does the JPA repository implementation get created","body":"<p>The class <code>org.springframework.data.jpa.repository.support.SimpleJPARepository</code> contains the implementation for <code>JPARepository</code></p>\n"}],"owner":{"account_id":22374457,"reputation":1,"user_id":16588962,"display_name":"aBitConfused"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682773363,"creation_date":1628038254,"question_id":68644206,"body_markdown":"Im trying to understand what happens in a JPA repository and not treat it like a black box.\r\nLets assume that I&#39;ve got an interface that&#39;s extending JPA repository. \r\n\r\n```java\r\n@Repository\r\npublic interface TeamRepository extends JpaRepository&lt;Team, Long&gt; {\r\n}\r\n```\r\nAs far as I understand JPA is just a specification and what we do is chose a provider which is compliant with it, I normally use Hibernate.\r\nFrom my understanding hibernate actually supplies an implementation of the JpaRepository. 1. I tried looking at the hibernate source code, by grepping the &quot;findAll&quot; method of in order to find an implementing class, but it has been used only in the unit tests trough SessionFactory. And while all of this helped me get some kind of a grasp on the inner workings, I still haven&#39;t found a concrete implementation and I&#39;m starting to think that I&#39;m missing something. \r\n2. I tried looking at the target folder, but there are no generated sources. &lt;br&gt;\r\n\r\nHow does the implementation get created, is there a concrete implementation in Hibernate, I have the feeling that I&#39;ve simplified the concept and it&#39;s much more complex. &lt;br&gt;\r\nIf that&#39;s the case can I find it&#39;s implementation in non-byte code form in an application that&#39;s using JPA repositories?\r\n\r\n","title":"How does the JPA repository implementation get created","body":"<p>Im trying to understand what happens in a JPA repository and not treat it like a black box.\nLets assume that I've got an interface that's extending JPA repository.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface TeamRepository extends JpaRepository&lt;Team, Long&gt; {\n}\n</code></pre>\n<p>As far as I understand JPA is just a specification and what we do is chose a provider which is compliant with it, I normally use Hibernate.\nFrom my understanding hibernate actually supplies an implementation of the JpaRepository. 1. I tried looking at the hibernate source code, by grepping the &quot;findAll&quot; method of in order to find an implementing class, but it has been used only in the unit tests trough SessionFactory. And while all of this helped me get some kind of a grasp on the inner workings, I still haven't found a concrete implementation and I'm starting to think that I'm missing something.\n2. I tried looking at the target folder, but there are no generated sources. <br></p>\n<p>How does the implementation get created, is there a concrete implementation in Hibernate, I have the feeling that I've simplified the concept and it's much more complex. <br>\nIf that's the case can I find it's implementation in non-byte code form in an application that's using JPA repositories?</p>\n"},{"tags":["java","jsp","servlets","weblogic","java-ee-6"],"comments":[{"owner":{"account_id":16328672,"reputation":463,"user_id":11792620,"display_name":"Viktor Mukhachev"},"score":0,"creation_date":1688051895,"post_id":76134054,"comment_id":135024830,"body_markdown":"this AgentInjectingResponseWrapper is here when Dynatrace OneAgent software is installed, can it affect?","body":"this AgentInjectingResponseWrapper is here when Dynatrace OneAgent software is installed, can it affect?"},{"owner":{"account_id":21179898,"reputation":233,"user_id":15574511,"display_name":"Yash Falke"},"score":0,"creation_date":1695973751,"post_id":76134054,"comment_id":136097249,"body_markdown":"I am also facing same issue is this issue solved?","body":"I am also facing same issue is this issue solved?"}],"owner":{"account_id":18727158,"reputation":11,"user_id":13653500,"display_name":"Sudheer HS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682773313,"creation_date":1682729412,"question_id":76134054,"body_markdown":"I am facing peculiar issue on weblogic the execption says:\r\n\r\n```\r\nweblogic 12.4.X Servlet failed with an Exception java.lang.IllegalStateException: Can&#39;t reset\r\n```\r\n\r\nStackTrace is as below:\r\n\r\n```\r\n&lt;[ServletContext@501586899[app:XXX module:XXX  path:null spec-version:3.1]] Servlet failed with an Exception\r\njava.lang.IllegalStateException: Can&#39;t reset\r\nat com.github.ziplet.filter.compression.ThresholdOutputStream.reset(ThresholdOutputStream.java:140)\r\nat com.github.ziplet.filter.compression.CompressingServletOutputStream.reset(CompressingServletOutputStream.java:109)\r\nat com.github.ziplet.filter.compression.CompressingHttpServletResponse.resetBuffer(CompressingHttpServletResponse.java:287)\r\nat com.dynatrace.agent.introspection.uem.impl.BaseUemResponseHook.resetBuffer(BaseUemResponseHook.java:120)\r\nat com.dynatrace.agent.introspection.uem.impl.AgentInjectingUemResponseHook.resetBuffer(AgentInjectingUemResponseHook.java:305)\r\nat com.dynatrace.agent.introspection.uem.impl.AgentInjectingResponseWrapper.resetBuffer(AgentInjectingResponseWrapper.java:80)\r\nat weblogic.servlet.internal.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:131)\r\nat com.XXXXX.YYYServlet.doPost(LoginServlet.java:228) \r\n```\r\n\r\nBelow is the code:\r\n\r\nThe same is working in another weblogic managed server, having same version of java.\r\n\r\nSimple redirect to a new JSP page.\r\n\r\nJSP page is directly accessible, only from the servlet its give this exception in on of the managed servers,\r\nbut works on the managed server.\r\n\r\n```\r\nif (stringX != null &amp;&amp; &quot;Y&quot;.equals(stringX )) {\r\nrd = request.getRequestDispatcher(&quot;/MyJSP1.jsp&quot;);\r\n} else {\r\nrd = request.getRequestDispatcher(&quot;/MyJSP2.jsp&quot;);\r\n}\r\nrd.forward(request, response);//LINE 228\r\n```\r\n\r\n","title":"weblogic 12.4.X Servlet failed with an Exception java.lang.IllegalStateException: Can&#39;t reset","body":"<p>I am facing peculiar issue on weblogic the execption says:</p>\n<pre><code>weblogic 12.4.X Servlet failed with an Exception java.lang.IllegalStateException: Can't reset\n</code></pre>\n<p>StackTrace is as below:</p>\n<pre><code>&lt;[ServletContext@501586899[app:XXX module:XXX  path:null spec-version:3.1]] Servlet failed with an Exception\njava.lang.IllegalStateException: Can't reset\nat com.github.ziplet.filter.compression.ThresholdOutputStream.reset(ThresholdOutputStream.java:140)\nat com.github.ziplet.filter.compression.CompressingServletOutputStream.reset(CompressingServletOutputStream.java:109)\nat com.github.ziplet.filter.compression.CompressingHttpServletResponse.resetBuffer(CompressingHttpServletResponse.java:287)\nat com.dynatrace.agent.introspection.uem.impl.BaseUemResponseHook.resetBuffer(BaseUemResponseHook.java:120)\nat com.dynatrace.agent.introspection.uem.impl.AgentInjectingUemResponseHook.resetBuffer(AgentInjectingUemResponseHook.java:305)\nat com.dynatrace.agent.introspection.uem.impl.AgentInjectingResponseWrapper.resetBuffer(AgentInjectingResponseWrapper.java:80)\nat weblogic.servlet.internal.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:131)\nat com.XXXXX.YYYServlet.doPost(LoginServlet.java:228) \n</code></pre>\n<p>Below is the code:</p>\n<p>The same is working in another weblogic managed server, having same version of java.</p>\n<p>Simple redirect to a new JSP page.</p>\n<p>JSP page is directly accessible, only from the servlet its give this exception in on of the managed servers,\nbut works on the managed server.</p>\n<pre><code>if (stringX != null &amp;&amp; &quot;Y&quot;.equals(stringX )) {\nrd = request.getRequestDispatcher(&quot;/MyJSP1.jsp&quot;);\n} else {\nrd = request.getRequestDispatcher(&quot;/MyJSP2.jsp&quot;);\n}\nrd.forward(request, response);//LINE 228\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"owner":{"account_id":39763,"reputation":11414,"user_id":114865,"accept_rate":92,"display_name":"bear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682773301,"creation_date":1682772147,"question_id":76136287,"body_markdown":"I am importing / scanning `@RestController` classes from an external bundle through the OSGi framework. \r\n\r\nSo far, to enable handling of controllers from external bundles, I&#39;ve had to write a custom `HandlerAdapter` which supports it:\r\n\r\n```\r\nprivate final Set&lt;Class&lt;? extends Annotation&gt;&gt; acceptedAnnotation = Set.of(Controller.class, RestController.class);\r\n\r\n@Override\r\n    public boolean supports(Object handler) {\r\n        return handler.getClass().getClassLoader() instanceof BundleReference &amp;&amp;\r\n            acceptedAnnotation.stream().anyMatch(a -&gt; handler.getClass().isAnnotationPresent(a));\r\n    }\r\n```\r\n\r\nA sample controller from a bundle looks like:\r\n\r\n```\r\n@RestController\r\npublic class TestController {\r\n\r\n    @GetMapping()\r\n    public Map&lt;String, String&gt; getWelcomeMessage() {\r\n        return Map.of(&quot;all&quot;, &quot;ok&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIf I omit the custom `HandlerAdapter`, then Spring doesn&#39;t have a `HandlerAdapter` to handle the controllers - I suspect the line below is required:\r\n\r\n```\r\nhandler.getClass().getClassLoader() instanceof BundleReference\r\n```\r\n\r\n```\r\njava.lang.ClassCastException: class net.shamil.dxc.sample.controller.TestController cannot be cast to class org.springframework.web.method.HandlerMethod (net.shamil.dxc.sample.controller.TestController is in unnamed module of loader org.apache.felix.framework.BundleWiringImpl$BundleClassLoader @6136998b; org.springframework.web.method.HandlerMethod is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @402f32ff)\r\n```\r\n\r\nIs there a way I can get Spring to automatically map response types such that I don&#39;t need to have a custom `HandlerAdapter` and can use the `@RestController` and `@GetMapping` Request Mapping automatically?\r\n\r\nTrying to use `RequestMappingHandlerAdapter` internally brings exceptions `ClassCastException` as the Controller class is in a different bundle. ","title":"Adding Spring controllers from different bundles","body":"<p>I am importing / scanning <code>@RestController</code> classes from an external bundle through the OSGi framework.</p>\n<p>So far, to enable handling of controllers from external bundles, I've had to write a custom <code>HandlerAdapter</code> which supports it:</p>\n<pre><code>private final Set&lt;Class&lt;? extends Annotation&gt;&gt; acceptedAnnotation = Set.of(Controller.class, RestController.class);\n\n@Override\n    public boolean supports(Object handler) {\n        return handler.getClass().getClassLoader() instanceof BundleReference &amp;&amp;\n            acceptedAnnotation.stream().anyMatch(a -&gt; handler.getClass().isAnnotationPresent(a));\n    }\n</code></pre>\n<p>A sample controller from a bundle looks like:</p>\n<pre><code>@RestController\npublic class TestController {\n\n    @GetMapping()\n    public Map&lt;String, String&gt; getWelcomeMessage() {\n        return Map.of(&quot;all&quot;, &quot;ok&quot;);\n    }\n}\n</code></pre>\n<p>If I omit the custom <code>HandlerAdapter</code>, then Spring doesn't have a <code>HandlerAdapter</code> to handle the controllers - I suspect the line below is required:</p>\n<pre><code>handler.getClass().getClassLoader() instanceof BundleReference\n</code></pre>\n<pre><code>java.lang.ClassCastException: class net.shamil.dxc.sample.controller.TestController cannot be cast to class org.springframework.web.method.HandlerMethod (net.shamil.dxc.sample.controller.TestController is in unnamed module of loader org.apache.felix.framework.BundleWiringImpl$BundleClassLoader @6136998b; org.springframework.web.method.HandlerMethod is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @402f32ff)\n</code></pre>\n<p>Is there a way I can get Spring to automatically map response types such that I don't need to have a custom <code>HandlerAdapter</code> and can use the <code>@RestController</code> and <code>@GetMapping</code> Request Mapping automatically?</p>\n<p>Trying to use <code>RequestMappingHandlerAdapter</code> internally brings exceptions <code>ClassCastException</code> as the Controller class is in a different bundle.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1502892217,"post_id":45715064,"comment_id":78389388,"body_markdown":"It seems like your are only interested in a completely mathematical max/min only solution. In that case you should **clearly state so** in your question. You can see at the current answers that most try to help you by showing you some neat functions of the Java API instead of posting a pure mathematical expression like @nagendra547 did, because you did not clearly express what you want.","body":"It seems like your are only interested in a completely mathematical max/min only solution. In that case you should <b>clearly state so</b> in your question. You can see at the current answers that most try to help you by showing you some neat functions of the Java API instead of posting a pure mathematical expression like @nagendra547 did, because you did not clearly express what you want."},{"owner":{"account_id":11561701,"reputation":11,"user_id":8471210,"display_name":"abhishek dutta"},"score":0,"creation_date":1502900122,"post_id":45715064,"comment_id":78395092,"body_markdown":"yeah sorry for it","body":"yeah sorry for it"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1506267841,"post_id":45715064,"comment_id":79740887,"body_markdown":"If an user answered your question please also accept his answer ([Accepting Answers: How does it work?](https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work)). If not than please specify what remains unanswered, this is a really crucial part of StackOverflow, thank you very much.","body":"If an user answered your question please also accept his answer (<a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">Accepting Answers: How does it work?</a>). If not than please specify what remains unanswered, this is a really crucial part of StackOverflow, thank you very much."}],"answers":[{"tags":[],"owner":{"account_id":10063010,"reputation":5822,"user_id":7438973,"accept_rate":44,"display_name":"nagendra547"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1502892492,"creation_date":1502891104,"answer_id":45715318,"question_id":45715064,"body_markdown":"Simple solution to get 2nd max.\r\n\r\n    a+b+c - Math.max(Math.max(a,b),c)- Math.min(Math.min(a,b),c)\r\n\r\n----------\r\n\r\nWe want to find the element in the middle. Therefore we find the maximum and minimum of all three values:\r\n\r\n    int maximum = Math.max(Math.max(a,b),c)\r\n    int minimum = Math.min(Math.min(a,b),c)\r\n\r\nWe can now get the element in the middle, the missing element, by finding the difference between all elements and the minimum and maximum.\r\n\r\n    int allElements = a + b + c;\r\n    int minAndMax = maximum + minimum;\r\n    int difference = allElements - minAndMax\r\n\r\nThe `difference` is now the element in the middle, the second maximum.","title":"second maximum number among three numbers without using if else or ternary operator. using max and min function","body":"<p>Simple solution to get 2nd max.</p>\n\n<pre><code>a+b+c - Math.max(Math.max(a,b),c)- Math.min(Math.min(a,b),c)\n</code></pre>\n\n<hr>\n\n<p>We want to find the element in the middle. Therefore we find the maximum and minimum of all three values:</p>\n\n<pre><code>int maximum = Math.max(Math.max(a,b),c)\nint minimum = Math.min(Math.min(a,b),c)\n</code></pre>\n\n<p>We can now get the element in the middle, the missing element, by finding the difference between all elements and the minimum and maximum.</p>\n\n<pre><code>int allElements = a + b + c;\nint minAndMax = maximum + minimum;\nint difference = allElements - minAndMax\n</code></pre>\n\n<p>The <code>difference</code> is now the element in the middle, the second maximum.</p>\n"},{"tags":[],"owner":{"account_id":234401,"reputation":2133,"user_id":500514,"accept_rate":91,"display_name":"panagdu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502891127,"creation_date":1502891127,"answer_id":45715326,"question_id":45715064,"body_markdown":"Add the elements in an array and then sort the array. In your case something like: \r\n\r\n    Integer[] array = {a,b,c};\r\n    Arrays.sort(array);\r\n    return array[array.length-2];","title":"second maximum number among three numbers without using if else or ternary operator. using max and min function","body":"<p>Add the elements in an array and then sort the array. In your case something like: </p>\n\n<pre><code>Integer[] array = {a,b,c};\nArrays.sort(array);\nreturn array[array.length-2];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502891145,"creation_date":1502891145,"answer_id":45715336,"question_id":45715064,"body_markdown":"You could identify in a first stream processing the max value and in a second stream processing the second max value by filtering the first one :\r\n\r\n    void cal(int a,int b,int c){\r\n\r\n      final int[] values = new int[]{a, b,c};\r\n    \r\n       int max = Arrays.stream(values)\r\n    \t.max().getAsInt();\r\n    \r\n       int secondMax = Arrays.stream(values)\r\n        \t.filter(i -&gt; i &lt; max).max().getAsInt();    \t \r\n    }","title":"second maximum number among three numbers without using if else or ternary operator. using max and min function","body":"<p>You could identify in a first stream processing the max value and in a second stream processing the second max value by filtering the first one :</p>\n\n<pre><code>void cal(int a,int b,int c){\n\n  final int[] values = new int[]{a, b,c};\n\n   int max = Arrays.stream(values)\n    .max().getAsInt();\n\n   int secondMax = Arrays.stream(values)\n        .filter(i -&gt; i &lt; max).max().getAsInt();      \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502892684,"creation_date":1502891179,"answer_id":45715351,"question_id":45715064,"body_markdown":"You can find the maximum, remove it and then find it again. This approach has the advantage that it also works for arbitrary many inputs.\r\n\r\n    void cal(int a, int b, int c) {\r\n        ArrayList&lt;Integer&gt; values = new ArrayList&lt;&gt;(3);\r\n        values.add(a);\r\n        values.add(b);\r\n        values.add(c);\r\n\r\n        Integer maxValue = Collections.max(values);\r\n        // Remove object, not index\r\n        values.remove(maxValue);\r\n\r\n        int secondMax = Collections.max(values);\r\n        System.out.print(&quot;2nd max&quot; + secondMax)\r\n    }\r\n\r\n----------\r\n\r\nOr in the case for **just 3 elements** you could simply **sort it** (like @panagdu suggests). It does **not add an overhead** because after finding the second maximum number you already know the **complete order** for 3 elements.\r\n\r\n    void cal(int a, int b, int c) {\r\n        int[] values = new int[] {a, b, c};\r\n\r\n        // Sorts in-place using efficient sorting algorithms\r\n        Arrays.sort(values);\r\n\r\n        // The first element is now the smallest, the last the biggest,\r\n        // we take the element in the middle\r\n        System.out.print(&quot;2nd max&quot; + values[1]);\r\n    }\r\n\r\n----------\r\n\r\nWith Java 8 you can also use `Stream`, they have the advantage that they can easily be executed in parallel. But I doubt that this would help for sorting 3 elements... anyway, here is a snippet:\r\n\r\n    void cal(int a, int b, int c) {\r\n        int value = IntStream.of(a, b, c).sorted().toArray()[1];\r\n\r\n        System.out.print(&quot;2nd max&quot; + value);\r\n    }","title":"second maximum number among three numbers without using if else or ternary operator. using max and min function","body":"<p>You can find the maximum, remove it and then find it again. This approach has the advantage that it also works for arbitrary many inputs.</p>\n\n<pre><code>void cal(int a, int b, int c) {\n    ArrayList&lt;Integer&gt; values = new ArrayList&lt;&gt;(3);\n    values.add(a);\n    values.add(b);\n    values.add(c);\n\n    Integer maxValue = Collections.max(values);\n    // Remove object, not index\n    values.remove(maxValue);\n\n    int secondMax = Collections.max(values);\n    System.out.print(\"2nd max\" + secondMax)\n}\n</code></pre>\n\n<hr>\n\n<p>Or in the case for <strong>just 3 elements</strong> you could simply <strong>sort it</strong> (like @panagdu suggests). It does <strong>not add an overhead</strong> because after finding the second maximum number you already know the <strong>complete order</strong> for 3 elements.</p>\n\n<pre><code>void cal(int a, int b, int c) {\n    int[] values = new int[] {a, b, c};\n\n    // Sorts in-place using efficient sorting algorithms\n    Arrays.sort(values);\n\n    // The first element is now the smallest, the last the biggest,\n    // we take the element in the middle\n    System.out.print(\"2nd max\" + values[1]);\n}\n</code></pre>\n\n<hr>\n\n<p>With Java 8 you can also use <code>Stream</code>, they have the advantage that they can easily be executed in parallel. But I doubt that this would help for sorting 3 elements... anyway, here is a snippet:</p>\n\n<pre><code>void cal(int a, int b, int c) {\n    int value = IntStream.of(a, b, c).sorted().toArray()[1];\n\n    System.out.print(\"2nd max\" + value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502891878,"creation_date":1502891878,"answer_id":45715596,"question_id":45715064,"body_markdown":"First of all, you should note that Java API `Math.max` the method also uses `if` check to find the max value.\r\n\r\nYou can stream the three `int` values to sort and find the 2nd max value as shown below:\r\n\r\n    void cal(int a, int b, int c) {\r\n        int secondMax = Arrays.asList(a, b, c).stream().\r\n                          sorted().mapToInt(num -&gt; num).toArray()[1];\r\n        System.out.println(secondMax);\r\n    }","title":"second maximum number among three numbers without using if else or ternary operator. using max and min function","body":"<p>First of all, you should note that Java API <code>Math.max</code> the method also uses <code>if</code> check to find the max value.</p>\n\n<p>You can stream the three <code>int</code> values to sort and find the 2nd max value as shown below:</p>\n\n<pre><code>void cal(int a, int b, int c) {\n    int secondMax = Arrays.asList(a, b, c).stream().\n                      sorted().mapToInt(num -&gt; num).toArray()[1];\n    System.out.println(secondMax);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502892328,"creation_date":1502892328,"answer_id":45715761,"question_id":45715064,"body_markdown":"Add to `List` and remove the max and min values.\r\n\r\n    static int secondGreatestNumber(int a, int b, int c)\r\n    {\r\n        List&lt;Integer&gt; numbers = new ArrayList();\r\n        numbers.add(a);\r\n        numbers.add(b);\r\n        numbers.add(c);\r\n        \r\n        \r\n        numbers.remove(new Integer(Math.max(a, Math.max(b, c))));//remove max value\r\n        numbers.remove(new Integer(Math.min(a, Math.min(b, c))));//remove min value\r\n        \r\n        return numbers.get(0);\r\n    }","title":"second maximum number among three numbers without using if else or ternary operator. using max and min function","body":"<p>Add to <code>List</code> and remove the max and min values.</p>\n\n<pre><code>static int secondGreatestNumber(int a, int b, int c)\n{\n    List&lt;Integer&gt; numbers = new ArrayList();\n    numbers.add(a);\n    numbers.add(b);\n    numbers.add(c);\n\n\n    numbers.remove(new Integer(Math.max(a, Math.max(b, c))));//remove max value\n    numbers.remove(new Integer(Math.min(a, Math.min(b, c))));//remove min value\n\n    return numbers.get(0);\n}\n</code></pre>\n"}],"owner":{"account_id":11561701,"reputation":11,"user_id":8471210,"display_name":"abhishek dutta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3758,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1682772587,"creation_date":1502890435,"question_id":45715064,"body_markdown":"    void cal(int a,int b,int c)\r\n     {\r\n            int x=Math.max(a,b);\r\n            int y=Math.max(b,c);\r\n            int z=Math.max(a,c);\r\n            int z1=Math.max(x,y);\r\n            int z2=Math.max(z1,z);\r\n            System.out.print(&quot;2nd max&quot;+z2)\r\n      }\r\n\r\n\r\nabove code is used to find second max number among 3 numbers using max and min function. is there any shortcut code to find that without if else or ternary operator only by using max and min function.","title":"second maximum number among three numbers without using if else or ternary operator. using max and min function","body":"<pre><code>void cal(int a,int b,int c)\n {\n        int x=Math.max(a,b);\n        int y=Math.max(b,c);\n        int z=Math.max(a,c);\n        int z1=Math.max(x,y);\n        int z2=Math.max(z1,z);\n        System.out.print(\"2nd max\"+z2)\n  }\n</code></pre>\n\n<p>above code is used to find second max number among 3 numbers using max and min function. is there any shortcut code to find that without if else or ternary operator only by using max and min function.</p>\n"},{"tags":["java","json","prometheus","jq","metrics"],"comments":[{"owner":{"account_id":27803721,"reputation":201,"user_id":21227665,"display_name":"hrystynaKb"},"score":1,"creation_date":1678184901,"post_id":75660722,"comment_id":133480304,"body_markdown":"Looks like here is the answer: https://stackoverflow.com/questions/57844617/prometheus-json-metrics","body":"Looks like here is the answer: <a href=\"https://stackoverflow.com/questions/57844617/prometheus-json-metrics\" title=\"prometheus json metrics\">stackoverflow.com/questions/57844617/prometheus-json-metrics</a>"}],"answers":[{"tags":[],"owner":{"account_id":10094874,"reputation":447,"user_id":7460613,"display_name":"nntrn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682772048,"creation_date":1682772048,"answer_id":76136278,"question_id":75660722,"body_markdown":"Maybe something like this?\r\n\r\n```jq\r\npaths(scalars) as $p \r\n| &quot;\\($p|join(&quot;_&quot;)|gsub(&quot;[^\\\\w_.-]&quot;;&quot;&quot;))=\\(getpath($p)|@sh)&quot;\r\n```\r\n\r\n```shell-session\r\n$ jq -r &#39;paths(scalars) as $p | &quot;\\($p|join(&quot;_&quot;)|gsub(&quot;[^\\\\w_.-]&quot;;&quot;&quot;))=\\(getpath($p)|@sh)&quot;&#39; file.json \r\n\r\nversion=&#39;3.0.0&#39;\r\ngauges_gc.G1-Old-Generation.count_value=0\r\ngauges_gc.G1-Old-Generation.time_value=0\r\ngauges_gc.G1-Young-Generation.count_value=30\r\ngauges_gc.G1-Young-Generation.time_value=427\r\ngauges_jvm.name_value=&#39;7@hubstorage&#39;\r\ngauges_jvm.uptime_value=44799\r\ngauges_jvm.vendor_value=&#39;Azul Systems, Inc. OpenJDK 64-Bit Server VM 11.0.8+10-LTS (11)&#39;\r\ngauges_memory.heap.committed_value=208666624\r\ngauges_memory.heap.init_value=65011712\r\ngauges_memory.heap.max_value=1035993088\r\ngauges_memory.heap.usage_value=0.11967882164094129\r\ngauges_memory.heap.used_value=123986432\r\ngauges_memory.non-heap.committed_value=114434048\r\ngauges_memory.non-heap.init_value=7667712\r\ngauges_memory.non-heap.max_value=-1\r\ngauges_memory.non-heap.usage_value=-108223704\r\ngauges_memory.non-heap.used_value=108223704\r\ngauges_memory.pools.CodeHeap-non-nmethods.committed_value=2555904\r\ngauges_memory.pools.CodeHeap-non-nmethods.init_value=2555904\r\ngauges_memory.pools.CodeHeap-non-nmethods.max_value=5832704\r\ngauges_memory.pools.CodeHeap-non-nmethods.usage_value=0.23114905196629212\r\ngauges_memory.pools.CodeHeap-non-nmethods.used_value=1348224\r\ngauges_memory.pools.CodeHeap-non-profiled-nmethods.committed_value=3670016\r\ngauges_memory.pools.CodeHeap-non-profiled-nmethods.init_value=2555904\r\ngauges_memory.pools.CodeHeap-non-profiled-nmethods.max_value=122912768\r\ngauges_memory.pools.CodeHeap-non-profiled-nmethods.usage_value=0.029816007398027193\r\ngauges_memory.pools.CodeHeap-non-profiled-nmethods.used_value=3664768\r\ngauges_memory.pools.CodeHeap-profiled-nmethods.committed_value=12517376\r\ngauges_memory.pools.CodeHeap-profiled-nmethods.init_value=2555904\r\ngauges_memory.pools.CodeHeap-profiled-nmethods.max_value=122912768\r\ngauges_memory.pools.CodeHeap-profiled-nmethods.usage_value=0.10141253998933618\r\ngauges_memory.pools.CodeHeap-profiled-nmethods.used_value=12464896\r\ngauges_memory.pools.Compressed-Class-Space.committed_value=12267520\r\ngauges_memory.pools.Compressed-Class-Space.init_value=0\r\ngauges_memory.pools.Compressed-Class-Space.max_value=1073741824\r\ngauges_memory.pools.Compressed-Class-Space.usage_value=0.010960675776004791\r\ngauges_memory.pools.Compressed-Class-Space.used_value=11768936\r\ngauges_memory.pools.G1-Eden-Space.committed_value=118489088\r\ngauges_memory.pools.G1-Eden-Space.init_value=15728640\r\ngauges_memory.pools.G1-Eden-Space.max_value=-1\r\ngauges_memory.pools.G1-Eden-Space.usage_value=0.6548672566371682\r\ngauges_memory.pools.G1-Eden-Space.used_value=77594624\r\ngauges_memory.pools.G1-Old-Gen.committed_value=82837504\r\ngauges_memory.pools.G1-Old-Gen.init_value=49283072\r\ngauges_memory.pools.G1-Old-Gen.max_value=1035993088\r\ngauges_memory.pools.G1-Old-Gen.usage_value=0.0376950159729251\r\ngauges_memory.pools.G1-Old-Gen.used_value=39051776\r\ngauges_memory.pools.G1-Survivor-Space.committed_value=7340032\r\ngauges_memory.pools.G1-Survivor-Space.init_value=0\r\ngauges_memory.pools.G1-Survivor-Space.max_value=-1\r\ngauges_memory.pools.G1-Survivor-Space.usage_value=1\r\ngauges_memory.pools.G1-Survivor-Space.used_value=7340032\r\ngauges_memory.pools.Metaspace.committed_value=83423232\r\ngauges_memory.pools.Metaspace.init_value=0\r\ngauges_memory.pools.Metaspace.max_value=-1\r\ngauges_memory.pools.Metaspace.usage_value=0.9467012738130309\r\ngauges_memory.pools.Metaspace.used_value=78976880\r\ngauges_memory.total.committed_value=323100672\r\ngauges_memory.total.init_value=72679424\r\ngauges_memory.total.max_value=1035993087\r\ngauges_memory.total.used_value=232210136\r\ngauges_threads.blocked.count_value=0\r\ngauges_threads.count_value=34\r\ngauges_threads.daemon.count_value=14\r\ngauges_threads.deadlock.count_value=0\r\ngauges_threads.new.count_value=0\r\ngauges_threads.runnable.count_value=11\r\ngauges_threads.terminated.count_value=0\r\ngauges_threads.timed_waiting.count_value=17\r\ngauges_threads.waiting.count_value=6\r\ncounters_counter_count=1\r\nhistograms_histogram_count=3\r\nhistograms_histogram_max=100\r\nhistograms_histogram_mean=41.66666666666666\r\nhistograms_histogram_min=5\r\nhistograms_histogram_p50=20\r\nhistograms_histogram_p75=100\r\nhistograms_histogram_p95=100\r\nhistograms_histogram_p98=100\r\nhistograms_histogram_p99=100\r\nhistograms_histogram_p999=100\r\nhistograms_histogram_stddev=41.69998667732268\r\nmeters_meter_count=201\r\nmeters_meter_m15_rate=38.666674566183616\r\nmeters_meter_m1_rate=22.433012859955905\r\nmeters_meter_m5_rate=35.77324719371856\r\nmeters_meter_mean_rate=4.944024762580441\r\nmeters_meter_units=&#39;events/second&#39;\r\n\r\n```","title":"Convert JSON to prometheus readable format","body":"<p>Maybe something like this?</p>\n<pre><code>paths(scalars) as $p \n| &quot;\\($p|join(&quot;_&quot;)|gsub(&quot;[^\\\\w_.-]&quot;;&quot;&quot;))=\\(getpath($p)|@sh)&quot;\n</code></pre>\n<pre><code>$ jq -r 'paths(scalars) as $p | &quot;\\($p|join(&quot;_&quot;)|gsub(&quot;[^\\\\w_.-]&quot;;&quot;&quot;))=\\(getpath($p)|@sh)&quot;' file.json \n\nversion='3.0.0'\ngauges_gc.G1-Old-Generation.count_value=0\ngauges_gc.G1-Old-Generation.time_value=0\ngauges_gc.G1-Young-Generation.count_value=30\ngauges_gc.G1-Young-Generation.time_value=427\ngauges_jvm.name_value='7@hubstorage'\ngauges_jvm.uptime_value=44799\ngauges_jvm.vendor_value='Azul Systems, Inc. OpenJDK 64-Bit Server VM 11.0.8+10-LTS (11)'\ngauges_memory.heap.committed_value=208666624\ngauges_memory.heap.init_value=65011712\ngauges_memory.heap.max_value=1035993088\ngauges_memory.heap.usage_value=0.11967882164094129\ngauges_memory.heap.used_value=123986432\ngauges_memory.non-heap.committed_value=114434048\ngauges_memory.non-heap.init_value=7667712\ngauges_memory.non-heap.max_value=-1\ngauges_memory.non-heap.usage_value=-108223704\ngauges_memory.non-heap.used_value=108223704\ngauges_memory.pools.CodeHeap-non-nmethods.committed_value=2555904\ngauges_memory.pools.CodeHeap-non-nmethods.init_value=2555904\ngauges_memory.pools.CodeHeap-non-nmethods.max_value=5832704\ngauges_memory.pools.CodeHeap-non-nmethods.usage_value=0.23114905196629212\ngauges_memory.pools.CodeHeap-non-nmethods.used_value=1348224\ngauges_memory.pools.CodeHeap-non-profiled-nmethods.committed_value=3670016\ngauges_memory.pools.CodeHeap-non-profiled-nmethods.init_value=2555904\ngauges_memory.pools.CodeHeap-non-profiled-nmethods.max_value=122912768\ngauges_memory.pools.CodeHeap-non-profiled-nmethods.usage_value=0.029816007398027193\ngauges_memory.pools.CodeHeap-non-profiled-nmethods.used_value=3664768\ngauges_memory.pools.CodeHeap-profiled-nmethods.committed_value=12517376\ngauges_memory.pools.CodeHeap-profiled-nmethods.init_value=2555904\ngauges_memory.pools.CodeHeap-profiled-nmethods.max_value=122912768\ngauges_memory.pools.CodeHeap-profiled-nmethods.usage_value=0.10141253998933618\ngauges_memory.pools.CodeHeap-profiled-nmethods.used_value=12464896\ngauges_memory.pools.Compressed-Class-Space.committed_value=12267520\ngauges_memory.pools.Compressed-Class-Space.init_value=0\ngauges_memory.pools.Compressed-Class-Space.max_value=1073741824\ngauges_memory.pools.Compressed-Class-Space.usage_value=0.010960675776004791\ngauges_memory.pools.Compressed-Class-Space.used_value=11768936\ngauges_memory.pools.G1-Eden-Space.committed_value=118489088\ngauges_memory.pools.G1-Eden-Space.init_value=15728640\ngauges_memory.pools.G1-Eden-Space.max_value=-1\ngauges_memory.pools.G1-Eden-Space.usage_value=0.6548672566371682\ngauges_memory.pools.G1-Eden-Space.used_value=77594624\ngauges_memory.pools.G1-Old-Gen.committed_value=82837504\ngauges_memory.pools.G1-Old-Gen.init_value=49283072\ngauges_memory.pools.G1-Old-Gen.max_value=1035993088\ngauges_memory.pools.G1-Old-Gen.usage_value=0.0376950159729251\ngauges_memory.pools.G1-Old-Gen.used_value=39051776\ngauges_memory.pools.G1-Survivor-Space.committed_value=7340032\ngauges_memory.pools.G1-Survivor-Space.init_value=0\ngauges_memory.pools.G1-Survivor-Space.max_value=-1\ngauges_memory.pools.G1-Survivor-Space.usage_value=1\ngauges_memory.pools.G1-Survivor-Space.used_value=7340032\ngauges_memory.pools.Metaspace.committed_value=83423232\ngauges_memory.pools.Metaspace.init_value=0\ngauges_memory.pools.Metaspace.max_value=-1\ngauges_memory.pools.Metaspace.usage_value=0.9467012738130309\ngauges_memory.pools.Metaspace.used_value=78976880\ngauges_memory.total.committed_value=323100672\ngauges_memory.total.init_value=72679424\ngauges_memory.total.max_value=1035993087\ngauges_memory.total.used_value=232210136\ngauges_threads.blocked.count_value=0\ngauges_threads.count_value=34\ngauges_threads.daemon.count_value=14\ngauges_threads.deadlock.count_value=0\ngauges_threads.new.count_value=0\ngauges_threads.runnable.count_value=11\ngauges_threads.terminated.count_value=0\ngauges_threads.timed_waiting.count_value=17\ngauges_threads.waiting.count_value=6\ncounters_counter_count=1\nhistograms_histogram_count=3\nhistograms_histogram_max=100\nhistograms_histogram_mean=41.66666666666666\nhistograms_histogram_min=5\nhistograms_histogram_p50=20\nhistograms_histogram_p75=100\nhistograms_histogram_p95=100\nhistograms_histogram_p98=100\nhistograms_histogram_p99=100\nhistograms_histogram_p999=100\nhistograms_histogram_stddev=41.69998667732268\nmeters_meter_count=201\nmeters_meter_m15_rate=38.666674566183616\nmeters_meter_m1_rate=22.433012859955905\nmeters_meter_m5_rate=35.77324719371856\nmeters_meter_mean_rate=4.944024762580441\nmeters_meter_units='events/second'\n\n</code></pre>\n"}],"owner":{"account_id":2410596,"reputation":111,"user_id":2105747,"accept_rate":0,"display_name":"shaheer01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682772048,"creation_date":1678184673,"question_id":75660722,"body_markdown":"This is my API response in JSON format. Not able to convert it to Prometheus format using jq or any other better approach to capture the metrics on Prometheus UI.\r\n```json\r\n{\r\n  &quot;version&quot;: &quot;3.0.0&quot;,\r\n  &quot;gauges&quot;: {\r\n    &quot;gc.G1-Old-Generation.count&quot;: {\r\n      &quot;value&quot;: 0\r\n    },\r\n    &quot;gc.G1-Old-Generation.time&quot;: {\r\n      &quot;value&quot;: 0\r\n    },\r\n    &quot;gc.G1-Young-Generation.count&quot;: {\r\n      &quot;value&quot;: 30\r\n    },\r\n    &quot;gc.G1-Young-Generation.time&quot;: {\r\n      &quot;value&quot;: 427\r\n    },\r\n    &quot;jvm.name&quot;: {\r\n      &quot;value&quot;: &quot;7@hubstorage&quot;\r\n    },\r\n    &quot;jvm.uptime&quot;: {\r\n      &quot;value&quot;: 44799\r\n    },\r\n    &quot;jvm.vendor&quot;: {\r\n      &quot;value&quot;: &quot;Azul Systems, Inc. OpenJDK 64-Bit Server VM 11.0.8+10-LTS (11)&quot;\r\n    },\r\n    &quot;memory.heap.committed&quot;: {\r\n      &quot;value&quot;: 208666624\r\n    },\r\n    &quot;memory.heap.init&quot;: {\r\n      &quot;value&quot;: 65011712\r\n    },\r\n    &quot;memory.heap.max&quot;: {\r\n      &quot;value&quot;: 1035993088\r\n    },\r\n    &quot;memory.heap.usage&quot;: {\r\n      &quot;value&quot;: 0.11967882164094129\r\n    },\r\n    &quot;memory.heap.used&quot;: {\r\n      &quot;value&quot;: 123986432\r\n    },\r\n    &quot;memory.non-heap.committed&quot;: {\r\n      &quot;value&quot;: 114434048\r\n    },\r\n    &quot;memory.non-heap.init&quot;: {\r\n      &quot;value&quot;: 7667712\r\n    },\r\n    &quot;memory.non-heap.max&quot;: {\r\n      &quot;value&quot;: -1\r\n    },\r\n    &quot;memory.non-heap.usage&quot;: {\r\n      &quot;value&quot;: -108223704\r\n    },\r\n    &quot;memory.non-heap.used&quot;: {\r\n      &quot;value&quot;: 108223704\r\n    },\r\n    &quot;memory.pools.CodeHeap-&#39;non-nmethods&#39;.committed&quot;: {\r\n      &quot;value&quot;: 2555904\r\n    },\r\n    &quot;memory.pools.CodeHeap-&#39;non-nmethods&#39;.init&quot;: {\r\n      &quot;value&quot;: 2555904\r\n    },\r\n    &quot;memory.pools.CodeHeap-&#39;non-nmethods&#39;.max&quot;: {\r\n      &quot;value&quot;: 5832704\r\n    },\r\n    &quot;memory.pools.CodeHeap-&#39;non-nmethods&#39;.usage&quot;: {\r\n      &quot;value&quot;: 0.23114905196629212\r\n    },\r\n    &quot;memory.pools.CodeHeap-&#39;non-nmethods&#39;.used&quot;: {\r\n      &quot;value&quot;: 1348224\r\n    },\r\n    &quot;memory.pools.CodeHeap-&#39;non-profiled-nmethods&#39;.committed&quot;: {\r\n      &quot;value&quot;: 3670016\r\n    },\r\n    &quot;memory.pools.CodeHeap-&#39;non-profiled-nmethods&#39;.init&quot;: {\r\n      &quot;value&quot;: 2555904\r\n    },\r\n    &quot;memory.pools.CodeHeap-&#39;non-profiled-nmethods&#39;.max&quot;: {\r\n      &quot;value&quot;: 122912768\r\n    },\r\n    &quot;memory.pools.CodeHeap-&#39;non-profiled-nmethods&#39;.usage&quot;: {\r\n      &quot;value&quot;: 0.029816007398027193\r\n    },\r\n    &quot;memory.pools.CodeHeap-&#39;non-profiled-nmethods&#39;.used&quot;: {\r\n      &quot;value&quot;: 3664768\r\n    },\r\n    &quot;memory.pools.CodeHeap-&#39;profiled-nmethods&#39;.committed&quot;: {\r\n      &quot;value&quot;: 12517376\r\n    },\r\n    &quot;memory.pools.CodeHeap-&#39;profiled-nmethods&#39;.init&quot;: {\r\n      &quot;value&quot;: 2555904\r\n    },\r\n    &quot;memory.pools.CodeHeap-&#39;profiled-nmethods&#39;.max&quot;: {\r\n      &quot;value&quot;: 122912768\r\n    },\r\n    &quot;memory.pools.CodeHeap-&#39;profiled-nmethods&#39;.usage&quot;: {\r\n      &quot;value&quot;: 0.10141253998933618\r\n    },\r\n    &quot;memory.pools.CodeHeap-&#39;profiled-nmethods&#39;.used&quot;: {\r\n      &quot;value&quot;: 12464896\r\n    },\r\n    &quot;memory.pools.Compressed-Class-Space.committed&quot;: {\r\n      &quot;value&quot;: 12267520\r\n    },\r\n    &quot;memory.pools.Compressed-Class-Space.init&quot;: {\r\n      &quot;value&quot;: 0\r\n    },\r\n    &quot;memory.pools.Compressed-Class-Space.max&quot;: {\r\n      &quot;value&quot;: 1073741824\r\n    },\r\n    &quot;memory.pools.Compressed-Class-Space.usage&quot;: {\r\n      &quot;value&quot;: 0.010960675776004791\r\n    },\r\n    &quot;memory.pools.Compressed-Class-Space.used&quot;: {\r\n      &quot;value&quot;: 11768936\r\n    },\r\n    &quot;memory.pools.G1-Eden-Space.committed&quot;: {\r\n      &quot;value&quot;: 118489088\r\n    },\r\n    &quot;memory.pools.G1-Eden-Space.init&quot;: {\r\n      &quot;value&quot;: 15728640\r\n    },\r\n    &quot;memory.pools.G1-Eden-Space.max&quot;: {\r\n      &quot;value&quot;: -1\r\n    },\r\n    &quot;memory.pools.G1-Eden-Space.usage&quot;: {\r\n      &quot;value&quot;: 0.6548672566371682\r\n    },\r\n    &quot;memory.pools.G1-Eden-Space.used&quot;: {\r\n      &quot;value&quot;: 77594624\r\n    },\r\n    &quot;memory.pools.G1-Old-Gen.committed&quot;: {\r\n      &quot;value&quot;: 82837504\r\n    },\r\n    &quot;memory.pools.G1-Old-Gen.init&quot;: {\r\n      &quot;value&quot;: 49283072\r\n    },\r\n    &quot;memory.pools.G1-Old-Gen.max&quot;: {\r\n      &quot;value&quot;: 1035993088\r\n    },\r\n    &quot;memory.pools.G1-Old-Gen.usage&quot;: {\r\n      &quot;value&quot;: 0.0376950159729251\r\n    },\r\n    &quot;memory.pools.G1-Old-Gen.used&quot;: {\r\n      &quot;value&quot;: 39051776\r\n    },\r\n    &quot;memory.pools.G1-Survivor-Space.committed&quot;: {\r\n      &quot;value&quot;: 7340032\r\n    },\r\n    &quot;memory.pools.G1-Survivor-Space.init&quot;: {\r\n      &quot;value&quot;: 0\r\n    },\r\n    &quot;memory.pools.G1-Survivor-Space.max&quot;: {\r\n      &quot;value&quot;: -1\r\n    },\r\n    &quot;memory.pools.G1-Survivor-Space.usage&quot;: {\r\n      &quot;value&quot;: 1\r\n    },\r\n    &quot;memory.pools.G1-Survivor-Space.used&quot;: {\r\n      &quot;value&quot;: 7340032\r\n    },\r\n    &quot;memory.pools.Metaspace.committed&quot;: {\r\n      &quot;value&quot;: 83423232\r\n    },\r\n    &quot;memory.pools.Metaspace.init&quot;: {\r\n      &quot;value&quot;: 0\r\n    },\r\n    &quot;memory.pools.Metaspace.max&quot;: {\r\n      &quot;value&quot;: -1\r\n    },\r\n    &quot;memory.pools.Metaspace.usage&quot;: {\r\n      &quot;value&quot;: 0.9467012738130309\r\n    },\r\n    &quot;memory.pools.Metaspace.used&quot;: {\r\n      &quot;value&quot;: 78976880\r\n    },\r\n    &quot;memory.total.committed&quot;: {\r\n      &quot;value&quot;: 323100672\r\n    },\r\n    &quot;memory.total.init&quot;: {\r\n      &quot;value&quot;: 72679424\r\n    },\r\n    &quot;memory.total.max&quot;: {\r\n      &quot;value&quot;: 1035993087\r\n    },\r\n    &quot;memory.total.used&quot;: {\r\n      &quot;value&quot;: 232210136\r\n    },\r\n    &quot;threads.blocked.count&quot;: {\r\n      &quot;value&quot;: 0\r\n    },\r\n    &quot;threads.count&quot;: {\r\n      &quot;value&quot;: 34\r\n    },\r\n    &quot;threads.daemon.count&quot;: {\r\n      &quot;value&quot;: 14\r\n    },\r\n    &quot;threads.deadlock.count&quot;: {\r\n      &quot;value&quot;: 0\r\n    },\r\n    &quot;threads.deadlocks&quot;: {\r\n      &quot;value&quot;: []\r\n    },\r\n    &quot;threads.new.count&quot;: {\r\n      &quot;value&quot;: 0\r\n    },\r\n    &quot;threads.runnable.count&quot;: {\r\n      &quot;value&quot;: 11\r\n    },\r\n    &quot;threads.terminated.count&quot;: {\r\n      &quot;value&quot;: 0\r\n    },\r\n    &quot;threads.timed_waiting.count&quot;: {\r\n      &quot;value&quot;: 17\r\n    },\r\n    &quot;threads.waiting.count&quot;: {\r\n      &quot;value&quot;: 6\r\n    }\r\n  },\r\n  &quot;counters&quot;: {\r\n    &quot;counter&quot;: {\r\n      &quot;count&quot;: 1\r\n    }\r\n  },\r\n  &quot;histograms&quot;: {\r\n    &quot;histogram&quot;: {\r\n      &quot;count&quot;: 3,\r\n      &quot;max&quot;: 100,\r\n      &quot;mean&quot;: 41.66666666666666,\r\n      &quot;min&quot;: 5,\r\n      &quot;p50&quot;: 20,\r\n      &quot;p75&quot;: 100,\r\n      &quot;p95&quot;: 100,\r\n      &quot;p98&quot;: 100,\r\n      &quot;p99&quot;: 100,\r\n      &quot;p999&quot;: 100,\r\n      &quot;stddev&quot;: 41.69998667732268\r\n    }\r\n  },\r\n  &quot;meters&quot;: {\r\n    &quot;meter&quot;: {\r\n      &quot;count&quot;: 201,\r\n      &quot;m15_rate&quot;: 38.666674566183616,\r\n      &quot;m1_rate&quot;: 22.433012859955905,\r\n      &quot;m5_rate&quot;: 35.77324719371856,\r\n      &quot;mean_rate&quot;: 4.944024762580441,\r\n      &quot;units&quot;: &quot;events/second&quot;\r\n    }\r\n  },\r\n  &quot;timers&quot;: {}\r\n}\r\n```\r\nGetting the following error on Prometheus:\r\n&quot;INVALID&quot; is not a valid start token\r\n","title":"Convert JSON to prometheus readable format","body":"<p>This is my API response in JSON format. Not able to convert it to Prometheus format using jq or any other better approach to capture the metrics on Prometheus UI.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;version&quot;: &quot;3.0.0&quot;,\n  &quot;gauges&quot;: {\n    &quot;gc.G1-Old-Generation.count&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;gc.G1-Old-Generation.time&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;gc.G1-Young-Generation.count&quot;: {\n      &quot;value&quot;: 30\n    },\n    &quot;gc.G1-Young-Generation.time&quot;: {\n      &quot;value&quot;: 427\n    },\n    &quot;jvm.name&quot;: {\n      &quot;value&quot;: &quot;7@hubstorage&quot;\n    },\n    &quot;jvm.uptime&quot;: {\n      &quot;value&quot;: 44799\n    },\n    &quot;jvm.vendor&quot;: {\n      &quot;value&quot;: &quot;Azul Systems, Inc. OpenJDK 64-Bit Server VM 11.0.8+10-LTS (11)&quot;\n    },\n    &quot;memory.heap.committed&quot;: {\n      &quot;value&quot;: 208666624\n    },\n    &quot;memory.heap.init&quot;: {\n      &quot;value&quot;: 65011712\n    },\n    &quot;memory.heap.max&quot;: {\n      &quot;value&quot;: 1035993088\n    },\n    &quot;memory.heap.usage&quot;: {\n      &quot;value&quot;: 0.11967882164094129\n    },\n    &quot;memory.heap.used&quot;: {\n      &quot;value&quot;: 123986432\n    },\n    &quot;memory.non-heap.committed&quot;: {\n      &quot;value&quot;: 114434048\n    },\n    &quot;memory.non-heap.init&quot;: {\n      &quot;value&quot;: 7667712\n    },\n    &quot;memory.non-heap.max&quot;: {\n      &quot;value&quot;: -1\n    },\n    &quot;memory.non-heap.usage&quot;: {\n      &quot;value&quot;: -108223704\n    },\n    &quot;memory.non-heap.used&quot;: {\n      &quot;value&quot;: 108223704\n    },\n    &quot;memory.pools.CodeHeap-'non-nmethods'.committed&quot;: {\n      &quot;value&quot;: 2555904\n    },\n    &quot;memory.pools.CodeHeap-'non-nmethods'.init&quot;: {\n      &quot;value&quot;: 2555904\n    },\n    &quot;memory.pools.CodeHeap-'non-nmethods'.max&quot;: {\n      &quot;value&quot;: 5832704\n    },\n    &quot;memory.pools.CodeHeap-'non-nmethods'.usage&quot;: {\n      &quot;value&quot;: 0.23114905196629212\n    },\n    &quot;memory.pools.CodeHeap-'non-nmethods'.used&quot;: {\n      &quot;value&quot;: 1348224\n    },\n    &quot;memory.pools.CodeHeap-'non-profiled-nmethods'.committed&quot;: {\n      &quot;value&quot;: 3670016\n    },\n    &quot;memory.pools.CodeHeap-'non-profiled-nmethods'.init&quot;: {\n      &quot;value&quot;: 2555904\n    },\n    &quot;memory.pools.CodeHeap-'non-profiled-nmethods'.max&quot;: {\n      &quot;value&quot;: 122912768\n    },\n    &quot;memory.pools.CodeHeap-'non-profiled-nmethods'.usage&quot;: {\n      &quot;value&quot;: 0.029816007398027193\n    },\n    &quot;memory.pools.CodeHeap-'non-profiled-nmethods'.used&quot;: {\n      &quot;value&quot;: 3664768\n    },\n    &quot;memory.pools.CodeHeap-'profiled-nmethods'.committed&quot;: {\n      &quot;value&quot;: 12517376\n    },\n    &quot;memory.pools.CodeHeap-'profiled-nmethods'.init&quot;: {\n      &quot;value&quot;: 2555904\n    },\n    &quot;memory.pools.CodeHeap-'profiled-nmethods'.max&quot;: {\n      &quot;value&quot;: 122912768\n    },\n    &quot;memory.pools.CodeHeap-'profiled-nmethods'.usage&quot;: {\n      &quot;value&quot;: 0.10141253998933618\n    },\n    &quot;memory.pools.CodeHeap-'profiled-nmethods'.used&quot;: {\n      &quot;value&quot;: 12464896\n    },\n    &quot;memory.pools.Compressed-Class-Space.committed&quot;: {\n      &quot;value&quot;: 12267520\n    },\n    &quot;memory.pools.Compressed-Class-Space.init&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;memory.pools.Compressed-Class-Space.max&quot;: {\n      &quot;value&quot;: 1073741824\n    },\n    &quot;memory.pools.Compressed-Class-Space.usage&quot;: {\n      &quot;value&quot;: 0.010960675776004791\n    },\n    &quot;memory.pools.Compressed-Class-Space.used&quot;: {\n      &quot;value&quot;: 11768936\n    },\n    &quot;memory.pools.G1-Eden-Space.committed&quot;: {\n      &quot;value&quot;: 118489088\n    },\n    &quot;memory.pools.G1-Eden-Space.init&quot;: {\n      &quot;value&quot;: 15728640\n    },\n    &quot;memory.pools.G1-Eden-Space.max&quot;: {\n      &quot;value&quot;: -1\n    },\n    &quot;memory.pools.G1-Eden-Space.usage&quot;: {\n      &quot;value&quot;: 0.6548672566371682\n    },\n    &quot;memory.pools.G1-Eden-Space.used&quot;: {\n      &quot;value&quot;: 77594624\n    },\n    &quot;memory.pools.G1-Old-Gen.committed&quot;: {\n      &quot;value&quot;: 82837504\n    },\n    &quot;memory.pools.G1-Old-Gen.init&quot;: {\n      &quot;value&quot;: 49283072\n    },\n    &quot;memory.pools.G1-Old-Gen.max&quot;: {\n      &quot;value&quot;: 1035993088\n    },\n    &quot;memory.pools.G1-Old-Gen.usage&quot;: {\n      &quot;value&quot;: 0.0376950159729251\n    },\n    &quot;memory.pools.G1-Old-Gen.used&quot;: {\n      &quot;value&quot;: 39051776\n    },\n    &quot;memory.pools.G1-Survivor-Space.committed&quot;: {\n      &quot;value&quot;: 7340032\n    },\n    &quot;memory.pools.G1-Survivor-Space.init&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;memory.pools.G1-Survivor-Space.max&quot;: {\n      &quot;value&quot;: -1\n    },\n    &quot;memory.pools.G1-Survivor-Space.usage&quot;: {\n      &quot;value&quot;: 1\n    },\n    &quot;memory.pools.G1-Survivor-Space.used&quot;: {\n      &quot;value&quot;: 7340032\n    },\n    &quot;memory.pools.Metaspace.committed&quot;: {\n      &quot;value&quot;: 83423232\n    },\n    &quot;memory.pools.Metaspace.init&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;memory.pools.Metaspace.max&quot;: {\n      &quot;value&quot;: -1\n    },\n    &quot;memory.pools.Metaspace.usage&quot;: {\n      &quot;value&quot;: 0.9467012738130309\n    },\n    &quot;memory.pools.Metaspace.used&quot;: {\n      &quot;value&quot;: 78976880\n    },\n    &quot;memory.total.committed&quot;: {\n      &quot;value&quot;: 323100672\n    },\n    &quot;memory.total.init&quot;: {\n      &quot;value&quot;: 72679424\n    },\n    &quot;memory.total.max&quot;: {\n      &quot;value&quot;: 1035993087\n    },\n    &quot;memory.total.used&quot;: {\n      &quot;value&quot;: 232210136\n    },\n    &quot;threads.blocked.count&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;threads.count&quot;: {\n      &quot;value&quot;: 34\n    },\n    &quot;threads.daemon.count&quot;: {\n      &quot;value&quot;: 14\n    },\n    &quot;threads.deadlock.count&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;threads.deadlocks&quot;: {\n      &quot;value&quot;: []\n    },\n    &quot;threads.new.count&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;threads.runnable.count&quot;: {\n      &quot;value&quot;: 11\n    },\n    &quot;threads.terminated.count&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;threads.timed_waiting.count&quot;: {\n      &quot;value&quot;: 17\n    },\n    &quot;threads.waiting.count&quot;: {\n      &quot;value&quot;: 6\n    }\n  },\n  &quot;counters&quot;: {\n    &quot;counter&quot;: {\n      &quot;count&quot;: 1\n    }\n  },\n  &quot;histograms&quot;: {\n    &quot;histogram&quot;: {\n      &quot;count&quot;: 3,\n      &quot;max&quot;: 100,\n      &quot;mean&quot;: 41.66666666666666,\n      &quot;min&quot;: 5,\n      &quot;p50&quot;: 20,\n      &quot;p75&quot;: 100,\n      &quot;p95&quot;: 100,\n      &quot;p98&quot;: 100,\n      &quot;p99&quot;: 100,\n      &quot;p999&quot;: 100,\n      &quot;stddev&quot;: 41.69998667732268\n    }\n  },\n  &quot;meters&quot;: {\n    &quot;meter&quot;: {\n      &quot;count&quot;: 201,\n      &quot;m15_rate&quot;: 38.666674566183616,\n      &quot;m1_rate&quot;: 22.433012859955905,\n      &quot;m5_rate&quot;: 35.77324719371856,\n      &quot;mean_rate&quot;: 4.944024762580441,\n      &quot;units&quot;: &quot;events/second&quot;\n    }\n  },\n  &quot;timers&quot;: {}\n}\n</code></pre>\n<p>Getting the following error on Prometheus:\n&quot;INVALID&quot; is not a valid start token</p>\n"},{"tags":["java","spring-security","keycloak","spring-webflux","role-based-access-control"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1682605151,"post_id":76121006,"comment_id":134244944,"body_markdown":"if you wish to map a specific claim to a collection of `GrantedAuthorities` you should be using a `JwtGrantedAuthoritiesConverter` here is the docs for it https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-authorization-extraction also, you need to enable spring security DEBUG logs and show us them because it says there the exact reason for the 403","body":"if you wish to map a specific claim to a collection of <code>GrantedAuthorities</code> you should be using a <code>JwtGrantedAuthoritiesConverter</code> here is the docs for it <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-authorization-extraction\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/&hellip;</a> also, you need to enable spring security DEBUG logs and show us them because it says there the exact reason for the 403"},{"owner":{"account_id":6793545,"reputation":45,"user_id":5229745,"display_name":"Saketh"},"score":0,"creation_date":1682607205,"post_id":76121006,"comment_id":134245536,"body_markdown":"The link you shared is for the Servlet stack. I&#39;m using the Reactive stack (WebFlux). However, the mapping works fine. I was able to get the Authorization working when the OAuth2 Client and OAuth2 Resource Server ran as separate applications.","body":"The link you shared is for the Servlet stack. I&#39;m using the Reactive stack (WebFlux). However, the mapping works fine. I was able to get the Authorization working when the OAuth2 Client and OAuth2 Resource Server ran as separate applications."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1682607276,"post_id":76121006,"comment_id":134245557,"body_markdown":"the interface is used for both as it is stack independent otherwise i wouldn&#39;t have linked it. Just because it is documented in the servlet side of the documentation doesnt mean it isnt usable for reactive.","body":"the interface is used for both as it is stack independent otherwise i wouldn&#39;t have linked it. Just because it is documented in the servlet side of the documentation doesnt mean it isnt usable for reactive."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":1,"creation_date":1682619119,"post_id":76121006,"comment_id":134248464,"body_markdown":"No, the interfaces are not the same: servlet JWT configurer expects `Converter&lt;Jwt, ? extends AbstractAuthenticationToken&gt;` when the reactive one expects a `Converter&lt;Jwt, ? extends Mono&lt;? extends AbstractAuthenticationToken&gt;&gt;`. Plus the issue here is because of `oauth2Login`, the exchange is secured with sessions (not JWTs) and authorities would be mapped with a `GrantedAuthoritiesMapper` or a `ReactiveOAuth2UserService`","body":"No, the interfaces are not the same: servlet JWT configurer expects <code>Converter&lt;Jwt, ? extends AbstractAuthenticationToken&gt;</code> when the reactive one expects a <code>Converter&lt;Jwt, ? extends Mono&lt;? extends AbstractAuthenticationToken&gt;&gt;</code>. Plus the issue here is because of <code>oauth2Login</code>, the exchange is secured with sessions (not JWTs) and authorities would be mapped with a <code>GrantedAuthoritiesMapper</code> or a <code>ReactiveOAuth2UserService</code>"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682619668,"creation_date":1682618553,"answer_id":76123407,"question_id":76121006,"body_markdown":"You are facing the usual issues when trying to mix OAuth2 client and OAuth2 resource server configuration in the same security filter-chain: `oauth2Login` is a client matter and it requires sessions. Because you are using it, your filter-chain is a &quot;client&quot; filter-chain and **the security is based on sessions, not on access tokens**. This is the reason why the authentication converter you configured with your JWT resource server is not called.\r\n\r\nTwo options:\r\n- if your Spring application is just a REST API, then it should not have the responsibility of login which, again, is client business (Postman, mobile app, a BFF like spring-cloud-gateway, JS application configured as OAuth2 public client, ...). Remove `oauth2login`,  disable sessions (`STATELESS` session management), and probably disable CSRF protection too (CSRF is an attack using sessions).\r\n- if your application is both a REST API and the client consuming it (with Thymeleaf templates or alike) then define 2 distinct security filter-chains (with `@Order` and a `securityMatcher` on the first in order to limit which endpoints it applies to and give a chance to second to serve as fallback for all other endpoints): \r\n  * a &quot;client&quot; one with sessions, login, logout and [a `GrantedAuthoritiesMapper` or a `ReactiveOAuth2UserService`][1] for endpoints serving UI\r\n  * a &quot;resource server&quot; one without sessions, login or logout but with an authentication converter as you defined for endpoints serving REST API\r\n\r\nYou&#39;ll find more theory and implementation details in [my tutorials][2] (do not skip OAuth2 essentials)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/reactive/oauth2/login/advanced.html#webflux-oauth2-login-advanced-map-authorities\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","title":"JwtAuthenticationConverter not invoked post authentication [Spring WebFlux + Spring Security + Keycloak]","body":"<p>You are facing the usual issues when trying to mix OAuth2 client and OAuth2 resource server configuration in the same security filter-chain: <code>oauth2Login</code> is a client matter and it requires sessions. Because you are using it, your filter-chain is a &quot;client&quot; filter-chain and <strong>the security is based on sessions, not on access tokens</strong>. This is the reason why the authentication converter you configured with your JWT resource server is not called.</p>\n<p>Two options:</p>\n<ul>\n<li>if your Spring application is just a REST API, then it should not have the responsibility of login which, again, is client business (Postman, mobile app, a BFF like spring-cloud-gateway, JS application configured as OAuth2 public client, ...). Remove <code>oauth2login</code>,  disable sessions (<code>STATELESS</code> session management), and probably disable CSRF protection too (CSRF is an attack using sessions).</li>\n<li>if your application is both a REST API and the client consuming it (with Thymeleaf templates or alike) then define 2 distinct security filter-chains (with <code>@Order</code> and a <code>securityMatcher</code> on the first in order to limit which endpoints it applies to and give a chance to second to serve as fallback for all other endpoints):\n<ul>\n<li>a &quot;client&quot; one with sessions, login, logout and <a href=\"https://docs.spring.io/spring-security/reference/reactive/oauth2/login/advanced.html#webflux-oauth2-login-advanced-map-authorities\" rel=\"nofollow noreferrer\">a <code>GrantedAuthoritiesMapper</code> or a <code>ReactiveOAuth2UserService</code></a> for endpoints serving UI</li>\n<li>a &quot;resource server&quot; one without sessions, login or logout but with an authentication converter as you defined for endpoints serving REST API</li>\n</ul>\n</li>\n</ul>\n<p>You'll find more theory and implementation details in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">my tutorials</a> (do not skip OAuth2 essentials)</p>\n"},{"tags":[],"owner":{"account_id":19285386,"reputation":482,"user_id":14096471,"display_name":"Vlad Ulshin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682708957,"creation_date":1682708957,"answer_id":76132594,"question_id":76121006,"body_markdown":"To hit JWT converter on your &quot;merge-oauth2-client-resource-server&quot; branch, you shall use some kind of http client. IntelliJ HttpClient tool use the following just change Keycloack URL:port and password:\r\n\r\n&gt; POST http://localhost:8080/realms/workshop/protocol/openid-connect/token\r\n&gt;\r\n&gt; Accept: application/x-www-form-urlencoded\r\n&gt; \r\n&gt; grant_type=password&amp;username=ckent&amp;password=xxxxx&amp;client_id=library-client&amp;client_secret=9584640c-3804-4dcd-997b-93593cfb9ea7\r\n\r\nyou should get back something similar to:\r\n\r\n    { &quot;access_token&quot;:&quot;eyJhbGciOiJSUzI ....XXX&quot;,\r\n      &quot;expires_in&quot;: 300,\r\n      &quot;refresh_expires_in&quot;: 1800,\r\n      &quot;refresh_token&quot;:&quot;eyJhbGciOiJIUzI1NiI.....DlaezRxzyuNxfhve8StULE&quot;,\r\n      &quot;token_type&quot;: &quot;Bearer&quot;,\r\n      &quot;not-before-policy&quot;: 1571836504,\r\n      &quot;session_state&quot;: &quot;1169f9c3-5f90-41f6-a89c-23abe78491c4&quot;,\r\n      &quot;scope&quot;: &quot;library_admin email profile&quot;\r\n    }\r\n\r\nGrab the access_token and use it as Berarer authorization token\r\n\r\n    GET http://localhost:9090/users\r\n    Accept: application/json\r\n    Authorization: Bearer eyJhbGciOiJSUzI ....XXX\r\n\r\nyou shall get a response from your rest controller &quot;Only the admin should be able to see this&quot;\r\n\r\nIf you wish to use browser to test oauth2Login change SecurityConfiguration\r\n\r\n**.hasRole(Role.LIBRARY_ADMIN.name())** to **.hasAnyAuthority(&quot;SCOPE_library_admin&quot;,&quot;ROLE_library_admin&quot;)**\r\n\r\nNow JWT  and browser login (http://localhost:9090/users) shall work at the same time.\r\n\r\n","title":"JwtAuthenticationConverter not invoked post authentication [Spring WebFlux + Spring Security + Keycloak]","body":"<p>To hit JWT converter on your &quot;merge-oauth2-client-resource-server&quot; branch, you shall use some kind of http client. IntelliJ HttpClient tool use the following just change Keycloack URL:port and password:</p>\n<blockquote>\n<p>POST http://localhost:8080/realms/workshop/protocol/openid-connect/token</p>\n<p>Accept: application/x-www-form-urlencoded</p>\n<p>grant_type=password&amp;username=ckent&amp;password=xxxxx&amp;client_id=library-client&amp;client_secret=9584640c-3804-4dcd-997b-93593cfb9ea7</p>\n</blockquote>\n<p>you should get back something similar to:</p>\n<pre><code>{ &quot;access_token&quot;:&quot;eyJhbGciOiJSUzI ....XXX&quot;,\n  &quot;expires_in&quot;: 300,\n  &quot;refresh_expires_in&quot;: 1800,\n  &quot;refresh_token&quot;:&quot;eyJhbGciOiJIUzI1NiI.....DlaezRxzyuNxfhve8StULE&quot;,\n  &quot;token_type&quot;: &quot;Bearer&quot;,\n  &quot;not-before-policy&quot;: 1571836504,\n  &quot;session_state&quot;: &quot;1169f9c3-5f90-41f6-a89c-23abe78491c4&quot;,\n  &quot;scope&quot;: &quot;library_admin email profile&quot;\n}\n</code></pre>\n<p>Grab the access_token and use it as Berarer authorization token</p>\n<pre><code>GET http://localhost:9090/users\nAccept: application/json\nAuthorization: Bearer eyJhbGciOiJSUzI ....XXX\n</code></pre>\n<p>you shall get a response from your rest controller &quot;Only the admin should be able to see this&quot;</p>\n<p>If you wish to use browser to test oauth2Login change SecurityConfiguration</p>\n<p><strong>.hasRole(Role.LIBRARY_ADMIN.name())</strong> to <strong>.hasAnyAuthority(&quot;SCOPE_library_admin&quot;,&quot;ROLE_library_admin&quot;)</strong></p>\n<p>Now JWT  and browser login (http://localhost:9090/users) shall work at the same time.</p>\n"}],"owner":{"account_id":6793545,"reputation":45,"user_id":5229745,"display_name":"Saketh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76132594,"answer_count":2,"score":1,"last_activity_date":1682771955,"creation_date":1682602186,"question_id":76121006,"body_markdown":"My JwtAuthenticationConverter is not invoked and I get a 403 Error post login.\r\n\r\n```\r\n2023-04-27 20:59:15.780 DEBUG 11448 --- [     parallel-1] athPatternParserServerWebExchangeMatcher : Checking match of request : &#39;/users&#39;; against &#39;/users/**&#39;\r\n2023-04-27 20:59:15.780 DEBUG 11448 --- [     parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : matched\r\n2023-04-27 20:59:15.780 DEBUG 11448 --- [     parallel-1] a.DelegatingReactiveAuthorizationManager : Checking authorization on &#39;/users&#39; using org.springframework.security.authorization.AuthorityReactiveAuthorizationManager@4e0f321f\r\n2023-04-27 20:59:15.785 DEBUG 11448 --- [     parallel-1] ebSessionServerSecurityContextRepository : No SecurityContext found in WebSession: &#39;org.springframework.web.server.session.InMemoryWebSessionStore$InMemoryWebSession@1e8ad729&#39;\r\n2023-04-27 20:59:15.785 DEBUG 11448 --- [     parallel-1] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization failed: Access Denied\r\n\r\n```\r\n\r\n1. LibraryUserJwtAuthenticationConverter\r\n\r\n```\r\npackage com.example.oidc.client.config;\r\n\r\nimport org.springframework.core.convert.converter.Converter;\r\nimport org.springframework.security.authentication.AbstractAuthenticationToken;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.oauth2.jwt.Jwt;\r\nimport org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationToken;\r\nimport org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter;\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport java.util.Collection;\r\nimport java.util.Collections;\r\nimport java.util.Optional;\r\nimport java.util.stream.Collectors;\r\n\r\nimport static java.util.Collections.emptySet;\r\n\r\n/**\r\n * JWT converter that takes the roles from &#39;groups&#39; claim of JWT token.\r\n */\r\npublic class LibraryUserJwtAuthenticationConverter\r\n        implements Converter&lt;Jwt, Mono&lt;AbstractAuthenticationToken&gt;&gt; {\r\n    private static final String GROUPS_CLAIM = &quot;groups&quot;;\r\n    private static final String ROLE_PREFIX = &quot;ROLE_&quot;;\r\n    private static final String USERNAME_CLAIM = &quot;preferred_username&quot;;\r\n\r\n    private final Converter&lt;Jwt, Collection&lt;GrantedAuthority&gt;&gt; defaultAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\r\n\r\n    @Override\r\n    public Mono&lt;AbstractAuthenticationToken&gt; convert(Jwt jwt) {\r\n        return Mono.just(extractAuthorities(jwt))\r\n                .map((authorities) -&gt; new JwtAuthenticationToken(jwt, authorities, extractUsername(jwt)));\r\n\r\n    }\r\n\r\n    private Collection&lt;GrantedAuthority&gt; extractAuthorities(Jwt jwt) {\r\n        Collection&lt;GrantedAuthority&gt; authorities = this.getScopes(jwt).stream()\r\n                .map(authority -&gt; ROLE_PREFIX + authority.toUpperCase())\r\n                .map(SimpleGrantedAuthority::new)\r\n                .collect(Collectors.toSet());\r\n\r\n        authorities.addAll(defaultGrantedAuthorities(jwt));\r\n\r\n        return authorities;\r\n    }\r\n\r\n    private Collection&lt;GrantedAuthority&gt; defaultGrantedAuthorities(Jwt jwt) {\r\n        return Optional.ofNullable(defaultAuthoritiesConverter.convert(jwt))\r\n                .orElse(emptySet());\r\n    }\r\n\r\n    private String extractUsername(Jwt jwt) {\r\n        return jwt.hasClaim(USERNAME_CLAIM) ? jwt.getClaimAsString(USERNAME_CLAIM) : jwt.getSubject();\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private Collection&lt;String&gt; getScopes(Jwt jwt) {\r\n        Object scopes = jwt.getClaims().get(GROUPS_CLAIM);\r\n        if (scopes instanceof Collection) {\r\n            return (Collection&lt;String&gt;) scopes;\r\n        }\r\n\r\n        return Collections.emptyList();\r\n    }\r\n}\r\n\r\n```\r\n\r\n2. SecurityConfiguration\r\n\r\n\r\n```\r\npackage com.example.oidc.client.config;\r\n\r\nimport com.example.oidc.client.common.Role;\r\nimport org.springframework.boot.actuate.autoconfigure.security.reactive.EndpointRequest;\r\nimport org.springframework.boot.autoconfigure.security.reactive.PathRequest;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableReactiveMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity;\r\nimport org.springframework.security.config.web.server.ServerHttpSecurity;\r\nimport org.springframework.security.web.server.SecurityWebFilterChain;\r\n\r\n@EnableWebFluxSecurity\r\n@EnableReactiveMethodSecurity\r\n@Configuration\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    SecurityWebFilterChain configure(ServerHttpSecurity http) {\r\n        http\r\n                .csrf()\r\n                .disable()\r\n                .authorizeExchange()\r\n                .matchers(PathRequest.toStaticResources().atCommonLocations())\r\n                .permitAll()\r\n                .matchers(EndpointRequest.to(&quot;health&quot;))\r\n                .permitAll()\r\n                .matchers(EndpointRequest.to(&quot;info&quot;))\r\n                .permitAll()\r\n                .pathMatchers(&quot;/users/**&quot;)\r\n                .hasRole(Role.LIBRARY_ADMIN.name())\r\n                .anyExchange()\r\n                .authenticated()\r\n                .and()\r\n                .oauth2Login()\r\n                .and()\r\n                .oauth2ResourceServer()\r\n                .jwt()\r\n                .jwtAuthenticationConverter(libraryUserJwtAuthenticationConverter());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public LibraryUserJwtAuthenticationConverter libraryUserJwtAuthenticationConverter() {\r\n        return new LibraryUserJwtAuthenticationConverter();\r\n    }\r\n}\r\n\r\n```\r\n\r\n3. Application Settings\r\n\r\n\r\n```\r\nserver:\r\n  port: 9090\r\n  error:\r\n    include-stacktrace: never\r\n\r\nspring:\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          issuer-uri: http://localhost:8081/auth/realms/workshop\r\n      client:\r\n        registration:\r\n          keycloak:\r\n            client-id: &#39;library-client&#39;\r\n            client-secret: &#39;XXXX640c-XXXX-4dcd-997b-XXXXcfb9ea7&#39;\r\n            authorization-grant-type: authorization_code\r\n            redirect-uri: &#39;http://localhost:9090/login/oauth2/code/keycloak&#39;\r\n            scope: &#39;openid&#39;\r\n        provider:\r\n          keycloak:\r\n            issuer-uri: http://localhost:8081/auth/realms/workshop\r\n            user-name-attribute: name\r\n\r\n```\r\n4. UserRestController\r\n\r\n\r\n```\r\n@RestController\r\npublic class UserRestController {\r\n\r\n    @GetMapping(&quot;/users&quot;)\r\n    public String users() {\r\n        return &quot;Only the admin should be able to see this&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n5. Role\r\n\r\n\r\n```\r\npackage com.example.oidc.client.common;\r\n\r\npublic enum Role {\r\n  LIBRARY_USER,\r\n\r\n  LIBRARY_CURATOR,\r\n\r\n  LIBRARY_ADMIN\r\n}\r\n\r\n```\r\n\r\n[![enter image description here](https://i.stack.imgur.com/yeg0G.jpg)](https://i.stack.imgur.com/yeg0G.jpg)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/d8Kmv.jpg)](https://i.stack.imgur.com/d8Kmv.jpg)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/JgchF.jpg)](https://i.stack.imgur.com/JgchF.jpg)\r\n\r\nI tried an example where the OAuth2 Client and the OAuth2 Resource Server are separate projects. The OAuth2 Client makes a request using a configured WebClient to the protected resource on the OAuth2 Resource Server. In this case the JwtAuthenticationConverter is invoked and authorization works as expected.\r\n\r\nHere&#39;s a link to the example with OAuth2 Client and OAuth2 Resource as separate projects: https://github.com/sakethsusarla/webflux-keycloak-struggle\r\n\r\nHowever, when I merged the OAuth2 Client and the OAuth2 Resource Server into one application, the JwtAuthenticationConverter doesn&#39;t get invoked at all and access to a protected resource results in a 403. Above are all the files from a simple example I&#39;ve written. Could someone please tell me if something&#39;s missing here?\r\n\r\nI&#39;ve gone through multiple GitHub repositories to verify my configuration but haven&#39;t been able to find the missing piece. There&#39;s very limited documentation regarding configuring Keycloak with Spring Security for Reactive applications.\r\n\r\nThe Keycloak realm json file is present here: https://github.com/sakethsusarla/webflux-keycloak-struggle/blob/main/keycloak_realm_workshop.json\r\n\r\nI&#39;m using the same client, user and roles for this example. No changes there.","title":"JwtAuthenticationConverter not invoked post authentication [Spring WebFlux + Spring Security + Keycloak]","body":"<p>My JwtAuthenticationConverter is not invoked and I get a 403 Error post login.</p>\n<pre><code>2023-04-27 20:59:15.780 DEBUG 11448 --- [     parallel-1] athPatternParserServerWebExchangeMatcher : Checking match of request : '/users'; against '/users/**'\n2023-04-27 20:59:15.780 DEBUG 11448 --- [     parallel-1] o.s.s.w.s.u.m.OrServerWebExchangeMatcher : matched\n2023-04-27 20:59:15.780 DEBUG 11448 --- [     parallel-1] a.DelegatingReactiveAuthorizationManager : Checking authorization on '/users' using org.springframework.security.authorization.AuthorityReactiveAuthorizationManager@4e0f321f\n2023-04-27 20:59:15.785 DEBUG 11448 --- [     parallel-1] ebSessionServerSecurityContextRepository : No SecurityContext found in WebSession: 'org.springframework.web.server.session.InMemoryWebSessionStore$InMemoryWebSession@1e8ad729'\n2023-04-27 20:59:15.785 DEBUG 11448 --- [     parallel-1] o.s.s.w.s.a.AuthorizationWebFilter       : Authorization failed: Access Denied\n\n</code></pre>\n<ol>\n<li>LibraryUserJwtAuthenticationConverter</li>\n</ol>\n<pre><code>package com.example.oidc.client.config;\n\nimport org.springframework.core.convert.converter.Converter;\nimport org.springframework.security.authentication.AbstractAuthenticationToken;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.oauth2.jwt.Jwt;\nimport org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationToken;\nimport org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter;\nimport reactor.core.publisher.Mono;\n\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.Optional;\nimport java.util.stream.Collectors;\n\nimport static java.util.Collections.emptySet;\n\n/**\n * JWT converter that takes the roles from 'groups' claim of JWT token.\n */\npublic class LibraryUserJwtAuthenticationConverter\n        implements Converter&lt;Jwt, Mono&lt;AbstractAuthenticationToken&gt;&gt; {\n    private static final String GROUPS_CLAIM = &quot;groups&quot;;\n    private static final String ROLE_PREFIX = &quot;ROLE_&quot;;\n    private static final String USERNAME_CLAIM = &quot;preferred_username&quot;;\n\n    private final Converter&lt;Jwt, Collection&lt;GrantedAuthority&gt;&gt; defaultAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\n\n    @Override\n    public Mono&lt;AbstractAuthenticationToken&gt; convert(Jwt jwt) {\n        return Mono.just(extractAuthorities(jwt))\n                .map((authorities) -&gt; new JwtAuthenticationToken(jwt, authorities, extractUsername(jwt)));\n\n    }\n\n    private Collection&lt;GrantedAuthority&gt; extractAuthorities(Jwt jwt) {\n        Collection&lt;GrantedAuthority&gt; authorities = this.getScopes(jwt).stream()\n                .map(authority -&gt; ROLE_PREFIX + authority.toUpperCase())\n                .map(SimpleGrantedAuthority::new)\n                .collect(Collectors.toSet());\n\n        authorities.addAll(defaultGrantedAuthorities(jwt));\n\n        return authorities;\n    }\n\n    private Collection&lt;GrantedAuthority&gt; defaultGrantedAuthorities(Jwt jwt) {\n        return Optional.ofNullable(defaultAuthoritiesConverter.convert(jwt))\n                .orElse(emptySet());\n    }\n\n    private String extractUsername(Jwt jwt) {\n        return jwt.hasClaim(USERNAME_CLAIM) ? jwt.getClaimAsString(USERNAME_CLAIM) : jwt.getSubject();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private Collection&lt;String&gt; getScopes(Jwt jwt) {\n        Object scopes = jwt.getClaims().get(GROUPS_CLAIM);\n        if (scopes instanceof Collection) {\n            return (Collection&lt;String&gt;) scopes;\n        }\n\n        return Collections.emptyList();\n    }\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>SecurityConfiguration</li>\n</ol>\n<pre><code>package com.example.oidc.client.config;\n\nimport com.example.oidc.client.common.Role;\nimport org.springframework.boot.actuate.autoconfigure.security.reactive.EndpointRequest;\nimport org.springframework.boot.autoconfigure.security.reactive.PathRequest;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.method.configuration.EnableReactiveMethodSecurity;\nimport org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity;\nimport org.springframework.security.config.web.server.ServerHttpSecurity;\nimport org.springframework.security.web.server.SecurityWebFilterChain;\n\n@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity\n@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    SecurityWebFilterChain configure(ServerHttpSecurity http) {\n        http\n                .csrf()\n                .disable()\n                .authorizeExchange()\n                .matchers(PathRequest.toStaticResources().atCommonLocations())\n                .permitAll()\n                .matchers(EndpointRequest.to(&quot;health&quot;))\n                .permitAll()\n                .matchers(EndpointRequest.to(&quot;info&quot;))\n                .permitAll()\n                .pathMatchers(&quot;/users/**&quot;)\n                .hasRole(Role.LIBRARY_ADMIN.name())\n                .anyExchange()\n                .authenticated()\n                .and()\n                .oauth2Login()\n                .and()\n                .oauth2ResourceServer()\n                .jwt()\n                .jwtAuthenticationConverter(libraryUserJwtAuthenticationConverter());\n\n        return http.build();\n    }\n\n    @Bean\n    public LibraryUserJwtAuthenticationConverter libraryUserJwtAuthenticationConverter() {\n        return new LibraryUserJwtAuthenticationConverter();\n    }\n}\n\n</code></pre>\n<ol start=\"3\">\n<li>Application Settings</li>\n</ol>\n<pre><code>server:\n  port: 9090\n  error:\n    include-stacktrace: never\n\nspring:\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: http://localhost:8081/auth/realms/workshop\n      client:\n        registration:\n          keycloak:\n            client-id: 'library-client'\n            client-secret: 'XXXX640c-XXXX-4dcd-997b-XXXXcfb9ea7'\n            authorization-grant-type: authorization_code\n            redirect-uri: 'http://localhost:9090/login/oauth2/code/keycloak'\n            scope: 'openid'\n        provider:\n          keycloak:\n            issuer-uri: http://localhost:8081/auth/realms/workshop\n            user-name-attribute: name\n\n</code></pre>\n<ol start=\"4\">\n<li>UserRestController</li>\n</ol>\n<pre><code>@RestController\npublic class UserRestController {\n\n    @GetMapping(&quot;/users&quot;)\n    public String users() {\n        return &quot;Only the admin should be able to see this&quot;;\n    }\n}\n\n</code></pre>\n<ol start=\"5\">\n<li>Role</li>\n</ol>\n<pre><code>package com.example.oidc.client.common;\n\npublic enum Role {\n  LIBRARY_USER,\n\n  LIBRARY_CURATOR,\n\n  LIBRARY_ADMIN\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yeg0G.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yeg0G.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/d8Kmv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d8Kmv.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/JgchF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JgchF.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I tried an example where the OAuth2 Client and the OAuth2 Resource Server are separate projects. The OAuth2 Client makes a request using a configured WebClient to the protected resource on the OAuth2 Resource Server. In this case the JwtAuthenticationConverter is invoked and authorization works as expected.</p>\n<p>Here's a link to the example with OAuth2 Client and OAuth2 Resource as separate projects: <a href=\"https://github.com/sakethsusarla/webflux-keycloak-struggle\" rel=\"nofollow noreferrer\">https://github.com/sakethsusarla/webflux-keycloak-struggle</a></p>\n<p>However, when I merged the OAuth2 Client and the OAuth2 Resource Server into one application, the JwtAuthenticationConverter doesn't get invoked at all and access to a protected resource results in a 403. Above are all the files from a simple example I've written. Could someone please tell me if something's missing here?</p>\n<p>I've gone through multiple GitHub repositories to verify my configuration but haven't been able to find the missing piece. There's very limited documentation regarding configuring Keycloak with Spring Security for Reactive applications.</p>\n<p>The Keycloak realm json file is present here: <a href=\"https://github.com/sakethsusarla/webflux-keycloak-struggle/blob/main/keycloak_realm_workshop.json\" rel=\"nofollow noreferrer\">https://github.com/sakethsusarla/webflux-keycloak-struggle/blob/main/keycloak_realm_workshop.json</a></p>\n<p>I'm using the same client, user and roles for this example. No changes there.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1682760896,"post_id":76134906,"comment_id":134268660,"body_markdown":"Could you please share with Repository interface, wanna write the same code on me, thanks, if can you tell, you use simple save method from JPARepository?","body":"Could you please share with Repository interface, wanna write the same code on me, thanks, if can you tell, you use simple save method from JPARepository?"},{"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"score":0,"creation_date":1682761484,"post_id":76134906,"comment_id":134268701,"body_markdown":"What is the log printed in the console ? Update the error log.","body":"What is the log printed in the console ? Update the error log."},{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1682762166,"post_id":76134906,"comment_id":134268767,"body_markdown":"The same code totally works on me. Little difference is, I removed @Lob and columnDefinition = &quot;LONGBLOB&quot; from Entity Class and I use import javax.persistence.*; not jakarta","body":"The same code totally works on me. Little difference is, I removed @Lob and columnDefinition = &quot;LONGBLOB&quot; from Entity Class and I use import javax.persistence.*; not jakarta"},{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1682763027,"post_id":76134906,"comment_id":134268854,"body_markdown":"Check your version of Spring boot -&gt; https://stackoverflow.com/questions/68765889/spring-boot-2-5-x-required-request-part-file-is-not-present","body":"Check your version of Spring boot -&gt; <a href=\"https://stackoverflow.com/questions/68765889/spring-boot-2-5-x-required-request-part-file-is-not-present\" title=\"spring boot 2 5 x required request part file is not present\">stackoverflow.com/questions/68765889/&hellip;</a>"},{"owner":{"account_id":27325554,"reputation":11,"user_id":20838588,"display_name":"gavi"},"score":1,"creation_date":1682770815,"post_id":76134906,"comment_id":134269602,"body_markdown":"Thank you for the responses guys, figured out the error. Our company actually has a base template, which every project has to start from, and it was recently updated, so, it was their issue, i had to scour to hundreds of thousands of lines of code, and then found this stupid mistake.","body":"Thank you for the responses guys, figured out the error. Our company actually has a base template, which every project has to start from, and it was recently updated, so, it was their issue, i had to scour to hundreds of thousands of lines of code, and then found this stupid mistake."}],"answers":[{"tags":[],"owner":{"account_id":27325554,"reputation":11,"user_id":20838588,"display_name":"gavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682770910,"creation_date":1682770910,"answer_id":76136192,"question_id":76134906,"body_markdown":"Custom request filter, tempered with the curl response which caused the error.","title":"Spring boot form data uploading file not working","body":"<p>Custom request filter, tempered with the curl response which caused the error.</p>\n"}],"owner":{"account_id":27325554,"reputation":11,"user_id":20838588,"display_name":"gavi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76136192,"answer_count":1,"score":1,"last_activity_date":1682770910,"creation_date":1682751043,"question_id":76134906,"body_markdown":"for context, i&#39;m creating a file upload/download restful service, and was testing in postman, i&#39;m getting an error that i&#39;m not supposed to.\r\n\r\nThis is my *Document Entity*\r\n```\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\n\r\n@Entity\r\n@Setter\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Table(name = &quot;t_document&quot;)\r\npublic class Document extends BaseEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column(name = &quot;title&quot;)\r\n    private String title;\r\n\r\n    @Lob\r\n    @Column(name = &quot;data&quot;, columnDefinition = &quot;LONGBLOB&quot;)\r\n    private byte[] data;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;file_type&quot;)\r\n    private String fileType;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;application_id&quot;)\r\n    private ApplicationEntity applicationEntity;\r\n}\r\n```\r\n\r\n```BaseEntity``` just implements serializable and nothing more.\r\n\r\nThese are my Service and ServiceImpl classes\r\n```\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\npublic interface DocumentService {\r\n\r\n    Document saveDoc(MultipartFile file, String title) throws Exception;\r\n\r\n    Document getDoc(int id);\r\n}\r\n```\r\n\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.util.StringUtils;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\n@Service\r\npublic class DocumentServiceImpl implements DocumentService{\r\n\r\n    @Autowired\r\n    private DocumentRepository documentRepository;\r\n\r\n    @Override\r\n    public Document saveDoc(MultipartFile file, String title) throws Exception {\r\n        String fileName = StringUtils.cleanPath(file.getOriginalFilename());\r\n        try{\r\n            if(fileName.contains(&quot;..&quot;)){\r\n                throw new Exception(&quot;Filename contains invalid path sequence &quot;+fileName);\r\n            }\r\n            Document fileEntity = Document.builder()\r\n                                    .title(title)\r\n                                    .name(fileName)\r\n                                    .fileType(file.getContentType())\r\n                                    .data(file.getBytes())\r\n                                    .build();\r\n            return documentRepository.save(fileEntity);\r\n        }catch (Exception e){\r\n            throw new Exception(&quot;Could not save File:&quot; +fileName);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Document getDoc(int id) {\r\n        return documentRepository.findById(id).orElse(null);\r\n    }\r\n}\r\n```\r\n\r\nAnd this is my controller class\r\n\r\n```\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\r\n\r\n@Slf4j\r\n@RestController\r\n@RequestMapping(&quot;/recruiter&quot;)\r\npublic class RecruiterLandingPage {\r\n\r\n    @Autowired\r\n    private DocumentService documentService;\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public ResponseEntity&lt;ApiResponse&lt;String&gt;&gt; Hello(){\r\n        return ResponseEntity.ok().body(ApiResponse.of(&quot;Recruiter&#39;s landing page&quot;));\r\n    }\r\n\r\n    @PostMapping(&quot;/candidate/uploadDocument&quot;)\r\n    public DocumentResponse uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws Exception{\r\n        Document document = null;\r\n        document = documentService.saveDoc(file, &quot;title&quot;);\r\n\r\n        String downloadUrl = ServletUriComponentsBuilder\r\n                                    .fromCurrentContextPath()\r\n                                    .path(&quot;/download/&quot;)\r\n                                    .path(Integer.toString(document.getId()))\r\n                                    .toUriString();\r\n\r\n        return new DocumentResponse(\r\n                document.getName(),\r\n                downloadUrl,\r\n                file.getSize()\r\n        );\r\n\r\n    }\r\n    @PostMapping(&quot;/candidate/name&quot;)\r\n    public String returnName(@RequestParam(&quot;name&quot;) String name) throws Exception {\r\n        return name;\r\n    }\r\n}\r\n```\r\n\r\nAnd when i run it on postman i get this\r\n[Error Image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zhHQK.png\r\n\r\n```\r\n{\r\n    &quot;type&quot;: &quot;about:blank&quot;,\r\n    &quot;title&quot;: &quot;Bad Request&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;detail&quot;: &quot;Required part &#39;file&#39; is not present.&quot;,\r\n    &quot;instance&quot;: &quot;/user-service/recruiter/candidate/uploadDocument&quot;\r\n}\r\n```\r\n\r\neven though i&#39;m passing the file in the form data option in postman.\r\ncurl from postman\r\n```\r\ncurl --location --request POST &#39;localhost:8080/user-service/recruiter/candidate/uploadDocument&#39; \\\r\n--form &#39;file=@&quot;/C:/Users/user/Downloads/Doc - Wireframe.docx&quot;&#39;\r\n\r\n```\r\n\r\n------------------------------------------------------\r\n\r\nAny and all help is appreciated","title":"Spring boot form data uploading file not working","body":"<p>for context, i'm creating a file upload/download restful service, and was testing in postman, i'm getting an error that i'm not supposed to.</p>\n<p>This is my <em>Document Entity</em></p>\n<pre><code>import jakarta.persistence.*;\nimport lombok.*;\n\n@Entity\n@Setter\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Table(name = &quot;t_document&quot;)\npublic class Document extends BaseEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = &quot;title&quot;)\n    private String title;\n\n    @Lob\n    @Column(name = &quot;data&quot;, columnDefinition = &quot;LONGBLOB&quot;)\n    private byte[] data;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;file_type&quot;)\n    private String fileType;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;application_id&quot;)\n    private ApplicationEntity applicationEntity;\n}\n</code></pre>\n<p><code>BaseEntity</code> just implements serializable and nothing more.</p>\n<p>These are my Service and ServiceImpl classes</p>\n<pre><code>import org.springframework.web.multipart.MultipartFile;\n\npublic interface DocumentService {\n\n    Document saveDoc(MultipartFile file, String title) throws Exception;\n\n    Document getDoc(int id);\n}\n</code></pre>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.multipart.MultipartFile;\n\n@Service\npublic class DocumentServiceImpl implements DocumentService{\n\n    @Autowired\n    private DocumentRepository documentRepository;\n\n    @Override\n    public Document saveDoc(MultipartFile file, String title) throws Exception {\n        String fileName = StringUtils.cleanPath(file.getOriginalFilename());\n        try{\n            if(fileName.contains(&quot;..&quot;)){\n                throw new Exception(&quot;Filename contains invalid path sequence &quot;+fileName);\n            }\n            Document fileEntity = Document.builder()\n                                    .title(title)\n                                    .name(fileName)\n                                    .fileType(file.getContentType())\n                                    .data(file.getBytes())\n                                    .build();\n            return documentRepository.save(fileEntity);\n        }catch (Exception e){\n            throw new Exception(&quot;Could not save File:&quot; +fileName);\n        }\n    }\n\n    @Override\n    public Document getDoc(int id) {\n        return documentRepository.findById(id).orElse(null);\n    }\n}\n</code></pre>\n<p>And this is my controller class</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\n\n@Slf4j\n@RestController\n@RequestMapping(&quot;/recruiter&quot;)\npublic class RecruiterLandingPage {\n\n    @Autowired\n    private DocumentService documentService;\n\n    @GetMapping(&quot;/hello&quot;)\n    public ResponseEntity&lt;ApiResponse&lt;String&gt;&gt; Hello(){\n        return ResponseEntity.ok().body(ApiResponse.of(&quot;Recruiter's landing page&quot;));\n    }\n\n    @PostMapping(&quot;/candidate/uploadDocument&quot;)\n    public DocumentResponse uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws Exception{\n        Document document = null;\n        document = documentService.saveDoc(file, &quot;title&quot;);\n\n        String downloadUrl = ServletUriComponentsBuilder\n                                    .fromCurrentContextPath()\n                                    .path(&quot;/download/&quot;)\n                                    .path(Integer.toString(document.getId()))\n                                    .toUriString();\n\n        return new DocumentResponse(\n                document.getName(),\n                downloadUrl,\n                file.getSize()\n        );\n\n    }\n    @PostMapping(&quot;/candidate/name&quot;)\n    public String returnName(@RequestParam(&quot;name&quot;) String name) throws Exception {\n        return name;\n    }\n}\n</code></pre>\n<p>And when i run it on postman i get this\n<a href=\"https://i.stack.imgur.com/zhHQK.png\" rel=\"nofollow noreferrer\">Error Image</a></p>\n<pre><code>{\n    &quot;type&quot;: &quot;about:blank&quot;,\n    &quot;title&quot;: &quot;Bad Request&quot;,\n    &quot;status&quot;: 400,\n    &quot;detail&quot;: &quot;Required part 'file' is not present.&quot;,\n    &quot;instance&quot;: &quot;/user-service/recruiter/candidate/uploadDocument&quot;\n}\n</code></pre>\n<p>even though i'm passing the file in the form data option in postman.\ncurl from postman</p>\n<pre><code>curl --location --request POST 'localhost:8080/user-service/recruiter/candidate/uploadDocument' \\\n--form 'file=@&quot;/C:/Users/user/Downloads/Doc - Wireframe.docx&quot;'\n\n</code></pre>\n<hr />\n<p>Any and all help is appreciated</p>\n"},{"tags":["java","android","uniqueidentifier","mac-address","imei"],"comments":[{"owner":{"account_id":5815079,"reputation":765,"user_id":7801965,"display_name":"Kartoos"},"score":0,"creation_date":1682759541,"post_id":76135228,"comment_id":134268539,"body_markdown":"Is your issue specific to android R? Are you able to extract unique ID for other android versions?","body":"Is your issue specific to android R? Are you able to extract unique ID for other android versions?"},{"owner":{"account_id":5815079,"reputation":765,"user_id":7801965,"display_name":"Kartoos"},"score":0,"creation_date":1682759735,"post_id":76135228,"comment_id":134268556,"body_markdown":"Does this answer your question? [Best possible way to get device Id in Android](https://stackoverflow.com/questions/60503568/best-possible-way-to-get-device-id-in-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60503568/best-possible-way-to-get-device-id-in-android\">Best possible way to get device Id in Android</a>"},{"owner":{"account_id":24049779,"reputation":43,"user_id":18028402,"display_name":"matchaLover"},"score":0,"creation_date":1682760247,"post_id":76135228,"comment_id":134268599,"body_markdown":"@Kartoos I successfully retrieved unique ID from Android 7 before. However, that particular code is not suitable to use for Android 11.","body":"@Kartoos I successfully retrieved unique ID from Android 7 before. However, that particular code is not suitable to use for Android 11."},{"owner":{"account_id":5815079,"reputation":765,"user_id":7801965,"display_name":"Kartoos"},"score":0,"creation_date":1682760419,"post_id":76135228,"comment_id":134268618,"body_markdown":"When you say code is not suitable, what is the issue? Are you getting errors? Or some other problem?","body":"When you say code is not suitable, what is the issue? Are you getting errors? Or some other problem?"},{"owner":{"account_id":24049779,"reputation":43,"user_id":18028402,"display_name":"matchaLover"},"score":0,"creation_date":1682763677,"post_id":76135228,"comment_id":134268919,"body_markdown":"@Kartoos Yes, keep getting error as it always retrieves null","body":"@Kartoos Yes, keep getting error as it always retrieves null"},{"owner":{"account_id":24049779,"reputation":43,"user_id":18028402,"display_name":"matchaLover"},"score":0,"creation_date":1682764634,"post_id":76135228,"comment_id":134269003,"body_markdown":"I&#39;ll add my code and the error message.","body":"I&#39;ll add my code and the error message."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1682768571,"post_id":76135228,"comment_id":134269385,"body_markdown":"`Context context = null;` You are just setting the `context` to null prior to first use. Does this make sense?","body":"<code>Context context = null;</code> You are just setting the <code>context</code> to null prior to first use. Does this make sense?"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1682768769,"post_id":76135228,"comment_id":134269405,"body_markdown":"If you use this method within an `Activity` derived class just use `getSystemService()` method without `context` in the beginning. Or in a fragment derived class use `reqiureContext().getSystemService()` method.","body":"If you use this method within an <code>Activity</code> derived class just use <code>getSystemService()</code> method without <code>context</code> in the beginning. Or in a fragment derived class use <code>reqiureContext().getSystemService()</code> method."}],"answers":[{"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682769381,"creation_date":1682769381,"answer_id":76136094,"question_id":76135228,"body_markdown":"As of the API 29, Google introduced new security policies to the [`TelephonyManager.getImei`](https://developer.android.com/reference/android/telephony/TelephonyManager#getImei(int)) API. So it won&#39;t be available for 3rd party apps for security reasons.  \r\nLook at what is mentioned in the API&#39;s description:\r\n&gt; Starting with API level 29, persistent device identifiers are guarded behind additional restrictions, and apps are recommended to use resettable identifiers (see [Best practices for unique identifiers](https://developer.android.com/training/articles/user-data-ids)). This method can be invoked if one of the following requirements is met:\r\n&gt; - If the calling app has been granted the READ_PRIVILEGED_PHONE_STATE permission; this is a privileged permission that can only be granted to apps preloaded on the device.\r\n&gt; - If the calling app is the device owner of a fully-managed device, a profile owner of an organization-owned device, or their delegates (see [DevicePolicyManager.getEnrollmentSpecificId()](https://developer.android.com/reference/android/app/admin/DevicePolicyManager#getEnrollmentSpecificId())).\r\n&gt; - If the calling app has carrier privileges (see [hasCarrierPrivileges()](https://developer.android.com/reference/android/telephony/TelephonyManager#hasCarrierPrivileges())) on any active subscription.\r\n&gt; - If the calling app is the default SMS role holder (see [RoleManager.isRoleHeld(java.lang.String)](https://developer.android.com/reference/android/telephony/TelephonyManager#hasCarrierPrivileges())).\r\n&gt; - If the calling app has been granted the [Manifest.permission#USE_ICC_AUTH_WITH_DEVICE_IDENTIFIER](https://developer.android.com/reference/android/Manifest.permission#USE_ICC_AUTH_WITH_DEVICE_IDENTIFIER) permission.\r\n","title":"how to retrieve unique identifiers from android 11 r (API 30) device?","body":"<p>As of the API 29, Google introduced new security policies to the <a href=\"https://developer.android.com/reference/android/telephony/TelephonyManager#getImei(int)\" rel=\"nofollow noreferrer\"><code>TelephonyManager.getImei</code></a> API. So it won't be available for 3rd party apps for security reasons.<br />\nLook at what is mentioned in the API's description:</p>\n<blockquote>\n<p>Starting with API level 29, persistent device identifiers are guarded behind additional restrictions, and apps are recommended to use resettable identifiers (see <a href=\"https://developer.android.com/training/articles/user-data-ids\" rel=\"nofollow noreferrer\">Best practices for unique identifiers</a>). This method can be invoked if one of the following requirements is met:</p>\n<ul>\n<li>If the calling app has been granted the READ_PRIVILEGED_PHONE_STATE permission; this is a privileged permission that can only be granted to apps preloaded on the device.</li>\n<li>If the calling app is the device owner of a fully-managed device, a profile owner of an organization-owned device, or their delegates (see <a href=\"https://developer.android.com/reference/android/app/admin/DevicePolicyManager#getEnrollmentSpecificId()\" rel=\"nofollow noreferrer\">DevicePolicyManager.getEnrollmentSpecificId()</a>).</li>\n<li>If the calling app has carrier privileges (see <a href=\"https://developer.android.com/reference/android/telephony/TelephonyManager#hasCarrierPrivileges()\" rel=\"nofollow noreferrer\">hasCarrierPrivileges()</a>) on any active subscription.</li>\n<li>If the calling app is the default SMS role holder (see <a href=\"https://developer.android.com/reference/android/telephony/TelephonyManager#hasCarrierPrivileges()\" rel=\"nofollow noreferrer\">RoleManager.isRoleHeld(java.lang.String)</a>).</li>\n<li>If the calling app has been granted the <a href=\"https://developer.android.com/reference/android/Manifest.permission#USE_ICC_AUTH_WITH_DEVICE_IDENTIFIER\" rel=\"nofollow noreferrer\">Manifest.permission#USE_ICC_AUTH_WITH_DEVICE_IDENTIFIER</a> permission.</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":24049779,"reputation":43,"user_id":18028402,"display_name":"matchaLover"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1682790116,"answer_count":1,"score":1,"last_activity_date":1682769381,"creation_date":1682756661,"question_id":76135228,"body_markdown":"I want to get unique identifiers like Android Device ID, IMEI, or MAC address from an Android phone with Android version 11 using Java.   \r\nCan someone help? I need just either one unique identifier.  \r\nThis is the code that I use to get IMEI:  \r\n\r\n    public String getIMEI() {\r\n            Context context = null;\r\n            TelephonyManager telephonyManager = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\r\n            Log.i(&quot;Testing: &quot;, telephonyManager.getImei());\r\n            return telephonyManager.getImei();\r\n    }\r\n\r\nAnd this is the error message that I got:  \r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.Object android.content.Context.getSystemService(java.lang.String)&#39; on a null object reference","title":"how to retrieve unique identifiers from android 11 r (API 30) device?","body":"<p>I want to get unique identifiers like Android Device ID, IMEI, or MAC address from an Android phone with Android version 11 using Java.<br />\nCan someone help? I need just either one unique identifier.<br />\nThis is the code that I use to get IMEI:</p>\n<pre><code>public String getIMEI() {\n        Context context = null;\n        TelephonyManager telephonyManager = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n        Log.i(&quot;Testing: &quot;, telephonyManager.getImei());\n        return telephonyManager.getImei();\n}\n</code></pre>\n<p>And this is the error message that I got:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.Object android.content.Context.getSystemService(java.lang.String)' on a null object reference\n</code></pre>\n"},{"tags":["java","bapi","jco"],"comments":[{"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"score":0,"creation_date":1271161453,"post_id":2627546,"comment_id":2642458,"body_markdown":"is that a specific BAPI, or a standard one ? could it be that the bapi use a gui-specific function module / class, such as L_GUI_FRONTEND_SERVICES ?","body":"is that a specific BAPI, or a standard one ? could it be that the bapi use a gui-specific function module / class, such as L_GUI_FRONTEND_SERVICES ?"}],"answers":[{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1271181478,"creation_date":1271181478,"answer_id":2631921,"question_id":2627546,"body_markdown":"This error in itself does not tell you more than &quot;the ABAP program (function module) raised an exception named NOT_SUPPORTED_BY_GUI&quot;. What this really means is probably that the function module tried to access some GUI-related function - which is illegal for BAPIs, so either this is a custom-made RFC function module or you have found a programming error in the SAP standard coding and should open a SAPnet support ticket.","title":"&quot;NOT_SUPPORTED_BY_GUI&quot; Exception in JCo","body":"<p>This error in itself does not tell you more than \"the ABAP program (function module) raised an exception named NOT_SUPPORTED_BY_GUI\". What this really means is probably that the function module tried to access some GUI-related function - which is illegal for BAPIs, so either this is a custom-made RFC function module or you have found a programming error in the SAP standard coding and should open a SAPnet support ticket.</p>\n"},{"tags":[],"owner":{"account_id":82096,"reputation":306,"user_id":231100,"display_name":"franblay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1271761014,"creation_date":1271761014,"answer_id":2674441,"question_id":2627546,"body_markdown":"You can&#39;t use GUI services in non-gui operations, as RFC or background JOBs. In general avoid use of class cl_gui_frontend_services and functions GUI_*. Alternatively use OPEN_DATASET &lt;file&gt; FOR INPUT/OUTPUT isntruction in your RFC enabled function.\r\n\r\nRegards","title":"&quot;NOT_SUPPORTED_BY_GUI&quot; Exception in JCo","body":"<p>You can't use GUI services in non-gui operations, as RFC or background JOBs. In general avoid use of class cl_gui_frontend_services and functions GUI_*. Alternatively use OPEN_DATASET  FOR INPUT/OUTPUT isntruction in your RFC enabled function.</p>\n\n<p>Regards</p>\n"}],"owner":{"account_id":52759,"reputation":21589,"user_id":157705,"accept_rate":74,"display_name":"jai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2586,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682769195,"creation_date":1271141446,"question_id":2627546,"body_markdown":"We are having a BAPI that uploads the specified document to SAP software.\r\n\r\nThe BAPI accepts three parameters: `ID`, `FILE_LOC`, `FOLDER_NAME`.\r\n\r\nAnd I&#39;m setting the values as follows in the JCo code:\r\n\r\n    JCO.ParameterList paramList = function.getImportParameterList();\r\n    paramList.setValue(&quot;101XS1&quot;, &quot;EXTERNAL_ID&quot;);\r\n    paramList.setValue(&quot;tmp&quot;, &quot;FOLDER_NAME&quot;);\r\n    paramList.setValue(&quot;D:/upload/foo.txt&quot;, &quot;FILE_LOCATION&quot;);\r\n\r\nBut when I&#39;m trying to execute the BAPI, am getting the following exception:\r\n   ```\r\n   com.sap.mw.jco.JCO$Exception: (104) RFC_ERROR_SYSTEM_FAILURE: Exception condition &quot;NOT_SUPPORTED_BY_GUI&quot; raised.\r\n    \tat com.sap.mw.jco.rfc.MiddlewareRFC$Client.nativeExecute(Native Method)\r\n    \tat com.sap.mw.jco.rfc.MiddlewareRFC$Client.execute(MiddlewareRFC.java:1242)\r\n    \tat com.sap.mw.jco.JCO$Client.execute(JCO.java:3816)\r\n    \tat com.sap.mw.jco.JCO$Client.execute(JCO.java:3261)\r\n   ```\r\n\r\nThe same BAPI is working fine if I execute through thick client (SAP Logon). But through JCo, it&#39;s giving this error.","title":"&quot;NOT_SUPPORTED_BY_GUI&quot; Exception in JCo","body":"<p>We are having a BAPI that uploads the specified document to SAP software.</p>\n<p>The BAPI accepts three parameters: <code>ID</code>, <code>FILE_LOC</code>, <code>FOLDER_NAME</code>.</p>\n<p>And I'm setting the values as follows in the JCo code:</p>\n<pre><code>JCO.ParameterList paramList = function.getImportParameterList();\nparamList.setValue(&quot;101XS1&quot;, &quot;EXTERNAL_ID&quot;);\nparamList.setValue(&quot;tmp&quot;, &quot;FOLDER_NAME&quot;);\nparamList.setValue(&quot;D:/upload/foo.txt&quot;, &quot;FILE_LOCATION&quot;);\n</code></pre>\n<p>But when I'm trying to execute the BAPI, am getting the following exception:</p>\n<pre><code>com.sap.mw.jco.JCO$Exception: (104) RFC_ERROR_SYSTEM_FAILURE: Exception condition &quot;NOT_SUPPORTED_BY_GUI&quot; raised.\n     at com.sap.mw.jco.rfc.MiddlewareRFC$Client.nativeExecute(Native Method)\n     at com.sap.mw.jco.rfc.MiddlewareRFC$Client.execute(MiddlewareRFC.java:1242)\n     at com.sap.mw.jco.JCO$Client.execute(JCO.java:3816)\n     at com.sap.mw.jco.JCO$Client.execute(JCO.java:3261)\n</code></pre>\n<p>The same BAPI is working fine if I execute through thick client (SAP Logon). But through JCo, it's giving this error.</p>\n"},{"tags":["java","multithreading","cucumber","testng"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1682668734,"post_id":76122481,"comment_id":134255104,"body_markdown":"Can you print out the names of the threads with each print systemen? Also put the same print statements in the `@BeforeTest` method.","body":"Can you print out the names of the threads with each print systemen? Also put the same print statements in the <code>@BeforeTest</code> method."},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1682714584,"post_id":76122481,"comment_id":134264752,"body_markdown":"@M.P.Korstanje Good point! I had updated the answer. I will be grateful if you help.","body":"@M.P.Korstanje Good point! I had updated the answer. I will be grateful if you help."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1682717264,"post_id":76122481,"comment_id":134265197,"body_markdown":"Mmh. Bit hard to type it all out right now. Perhaps you can  override the run method in the runner class and . use the parameter annotation on that. I usually use the conditional hooks in Cucumber in combination with multiple executions in CI. One for each browser.","body":"Mmh. Bit hard to type it all out right now. Perhaps you can  override the run method in the runner class and . use the parameter annotation on that. I usually use the conditional hooks in Cucumber in combination with multiple executions in CI. One for each browser."},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1682718963,"post_id":76122481,"comment_id":134265417,"body_markdown":"@M.P.Korstanje Good to know I may ask someone about cucumber. This framework is crack all my imaging of automation project architecture. All that I know about TestNG - is useless now :)","body":"@M.P.Korstanje Good to know I may ask someone about cucumber. This framework is crack all my imaging of automation project architecture. All that I know about TestNG - is useless now :)"},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1682719837,"post_id":76122481,"comment_id":134265517,"body_markdown":"@M.P.Korstanje First of all I understood - that parallel execution isn&#39;t possible in the cucumber from the TestNG.xml. And it seems it does not a good idea to execute parallel tests in cucumber with different parameters. I seems the single-type tests with the same environment (the same browser, same cookies, settings, etc..) are possible, not more.  I had tried @BeforAll hook - also not working totally: I even receive NullPointerException for `threadPool` field. At least not so weird! - now one thread doesn&#39;t initialize the same instance for both thread :)","body":"@M.P.Korstanje First of all I understood - that parallel execution isn&#39;t possible in the cucumber from the TestNG.xml. And it seems it does not a good idea to execute parallel tests in cucumber with different parameters. I seems the single-type tests with the same environment (the same browser, same cookies, settings, etc..) are possible, not more.  I had tried @BeforAll hook - also not working totally: I even receive NullPointerException for <code>threadPool</code> field. At least not so weird! - now one thread doesn&#39;t initialize the same instance for both thread :)"}],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682668534,"creation_date":1682668534,"answer_id":76127412,"question_id":76122481,"body_markdown":"Just a guess:\r\n\r\nThe check `threadPool == null` is prone to race conditions. Both threads may see that `threadPool` is `null` and overwrite it.\r\n\r\nYou can initialize it when you define the field.\r\n\r\n\r\n    private static ThreadLocal&lt;String&gt; threadPool = new ThreadLocal&lt;&gt;();\r\n\r\nYou should also change the name of the variable, thread pools and thread locals are very different things.","title":"How to customize Cucumber TestNG for the different threads?","body":"<p>Just a guess:</p>\n<p>The check <code>threadPool == null</code> is prone to race conditions. Both threads may see that <code>threadPool</code> is <code>null</code> and overwrite it.</p>\n<p>You can initialize it when you define the field.</p>\n<pre><code>private static ThreadLocal&lt;String&gt; threadPool = new ThreadLocal&lt;&gt;();\n</code></pre>\n<p>You should also change the name of the variable, thread pools and thread locals are very different things.</p>\n"},{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682769040,"creation_date":1682769040,"answer_id":76136072,"question_id":76122481,"body_markdown":"Because TestNG runs the tests from the `@DataProvider` method on a different thread then the `@BeforeClass` method, you have to pass the parameter around a bit differently. Instead of setting the value on a thread local during the before class step, it has to be set just before the scenario is executed.\r\n\r\nYou can do this by inlining the `AbstractTestNGCucumberTests` class. \r\n\r\n\r\n```java\r\nimport io.cucumber.testng.CucumberPropertiesProvider;\r\nimport io.cucumber.testng.FeatureWrapper;\r\nimport io.cucumber.testng.PickleWrapper;\r\nimport io.cucumber.testng.TestNGCucumberRunner;\r\nimport org.testng.ITestContext;\r\nimport org.testng.annotations.AfterClass;\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.DataProvider;\r\nimport org.testng.annotations.Test;\r\nimport org.testng.xml.XmlTest;\r\n\r\n@CucumberOptions(plugin = { &quot;html:target/results.html&quot;, &quot;message:target/results.ndjson&quot; }) // Not really needed you can run entirely through the XML, just for example.\r\npublic abstract class CustomTestNGCucumberTests {\r\n\r\n    private TestNGCucumberRunner testNGCucumberRunner;\r\n    private final ThreadLocal&lt;String&gt; browser = new ThreadLocal&lt;&gt;();\r\n    private XmlTest currentXmlTest;\r\n\r\n    @BeforeClass(alwaysRun = true)\r\n    public void setUpClass(ITestContext context) {\r\n        // Here we put the current context in the test class. \r\n        // This context is distinct for each class so classes can\r\n        // run in parallel.\r\n        currentXmlTest = context.getCurrentXmlTest();\r\n\r\n        CucumberPropertiesProvider properties = currentXmlTest::getParameter;\r\n        testNGCucumberRunner = new TestNGCucumberRunner(this.getClass(), properties);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    @Test(groups = &quot;cucumber&quot;, description = &quot;Runs Cucumber Scenarios&quot;, dataProvider = &quot;scenarios&quot;)\r\n    public void runScenario(PickleWrapper pickleWrapper, FeatureWrapper featureWrapper) {\r\n        // Then here we make the value of browser parameter available\r\n        // to the tests on the same thread. Because we are picking this value\r\n        // from the class, it should work when multiple classes run in parallel.\r\n        browser.set(currentXmlTest.getParameter(&quot;browser&quot;));\r\n        testNGCucumberRunner.runScenario(pickleWrapper.getPickle());\r\n    }\r\n\r\n    @DataProvider(parallel = true) // This make Cucumber run scenarios in parallel\r\n    public Object[][] scenarios() {\r\n        if (testNGCucumberRunner == null) {\r\n            return new Object[0][0];\r\n        }\r\n        return testNGCucumberRunner.provideScenarios();\r\n    }\r\n\r\n    @AfterClass(alwaysRun = true)\r\n    public void tearDownClass() {\r\n        if (testNGCucumberRunner == null) {\r\n            return;\r\n        }\r\n        testNGCucumberRunner.finish();\r\n    }\r\n\r\n}\r\n```\r\n\r\nNote: I didn&#39;t test this. ","title":"How to customize Cucumber TestNG for the different threads?","body":"<p>Because TestNG runs the tests from the <code>@DataProvider</code> method on a different thread then the <code>@BeforeClass</code> method, you have to pass the parameter around a bit differently. Instead of setting the value on a thread local during the before class step, it has to be set just before the scenario is executed.</p>\n<p>You can do this by inlining the <code>AbstractTestNGCucumberTests</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.cucumber.testng.CucumberPropertiesProvider;\nimport io.cucumber.testng.FeatureWrapper;\nimport io.cucumber.testng.PickleWrapper;\nimport io.cucumber.testng.TestNGCucumberRunner;\nimport org.testng.ITestContext;\nimport org.testng.annotations.AfterClass;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Test;\nimport org.testng.xml.XmlTest;\n\n@CucumberOptions(plugin = { &quot;html:target/results.html&quot;, &quot;message:target/results.ndjson&quot; }) // Not really needed you can run entirely through the XML, just for example.\npublic abstract class CustomTestNGCucumberTests {\n\n    private TestNGCucumberRunner testNGCucumberRunner;\n    private final ThreadLocal&lt;String&gt; browser = new ThreadLocal&lt;&gt;();\n    private XmlTest currentXmlTest;\n\n    @BeforeClass(alwaysRun = true)\n    public void setUpClass(ITestContext context) {\n        // Here we put the current context in the test class. \n        // This context is distinct for each class so classes can\n        // run in parallel.\n        currentXmlTest = context.getCurrentXmlTest();\n\n        CucumberPropertiesProvider properties = currentXmlTest::getParameter;\n        testNGCucumberRunner = new TestNGCucumberRunner(this.getClass(), properties);\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    @Test(groups = &quot;cucumber&quot;, description = &quot;Runs Cucumber Scenarios&quot;, dataProvider = &quot;scenarios&quot;)\n    public void runScenario(PickleWrapper pickleWrapper, FeatureWrapper featureWrapper) {\n        // Then here we make the value of browser parameter available\n        // to the tests on the same thread. Because we are picking this value\n        // from the class, it should work when multiple classes run in parallel.\n        browser.set(currentXmlTest.getParameter(&quot;browser&quot;));\n        testNGCucumberRunner.runScenario(pickleWrapper.getPickle());\n    }\n\n    @DataProvider(parallel = true) // This make Cucumber run scenarios in parallel\n    public Object[][] scenarios() {\n        if (testNGCucumberRunner == null) {\n            return new Object[0][0];\n        }\n        return testNGCucumberRunner.provideScenarios();\n    }\n\n    @AfterClass(alwaysRun = true)\n    public void tearDownClass() {\n        if (testNGCucumberRunner == null) {\n            return;\n        }\n        testNGCucumberRunner.finish();\n    }\n\n}\n</code></pre>\n<p>Note: I didn't test this.</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76136072,"answer_count":2,"score":0,"last_activity_date":1682769040,"creation_date":1682611413,"question_id":76122481,"body_markdown":"I need to implement parallel execution of cucumber features and, obviously, set up them for the different threads.\r\n\r\nSo, I created two features, classes, and one `TestNgRuner` for the .XML execution.\r\nThere is a project structure:\r\n\r\n```\r\nsrc/\r\n└── test/\r\n    └── java/\r\n        └── com/\r\n            └── projectname/\r\n                └── tests/\r\n                    ├── TestRunner.java\r\n                    ├── suites/\r\n                    │   ├── first/\r\n                    │   │   └── FirstSteps.java\r\n                    │   └── second/\r\n                    │       └── SecondSteps.java\r\n                    └── resources/\r\n                        └── suites/\r\n                            └── smoke.xml\r\n```\r\n\r\nParallel execution ensured by `smoke.xml`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;Test Debug&quot; parallel=&quot;tests&quot;&gt;\r\n    &lt;test name=&quot;Test 1&quot;&gt;\r\n        &lt;parameter name=&quot;browser&quot; value=&quot;firefox&quot;/&gt;\r\n        &lt;parameter name=&quot;cucumber.features&quot; value=&quot;classpath:features/first&quot;/&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;com.projectname.tests.TestRunner&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n    &lt;test name=&quot;Test 2&quot;&gt;\r\n        &lt;parameter name=&quot;browser&quot; value=&quot;firefox&quot;/&gt;\r\n        &lt;parameter name=&quot;cucumber.features&quot; value=&quot;classpath:features/second&quot;/&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;com.projectname.tests.TestRunner&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n\r\n```\r\n\r\nSo, you can guess, I need to establish WebDriver according to the `browser` parameter, and this establishment has to be executed for each `test`. So, as I understand, I have to use testing `@BeforeTest` annotation in the `TestRunner` class, since exactly this class managed and execute `@Test` methods (through `AbstractTestNGCucumberTests` extension):\r\n\r\n - TestRunner:\r\n\r\n```java\r\npublic class TestRunner extends AbstractTestNGCucumberTests {\r\n\r\n    private static volatile ThreadLocal&lt;String&gt; threadLocal;\r\n    private static String debug;\r\n\r\n    @Override\r\n    @DataProvider(parallel = true)\r\n    public Object[][] scenarios() {\r\n        return super.scenarios();\r\n    }\r\n\r\n    @BeforeClass\r\n    @Parameters(&quot;browser&quot;)\r\n    public void init(@Optional(&quot;chrome&quot;) String browser) {\r\n        System.out.println(&quot;BrowserName: &quot; + browser);\r\n        printThread(browser);\r\n        if (threadLocal == null) {\r\n            synchronized (TestRunner.class) {\r\n                if (threadLocal == null) {\r\n                    threadLocal = new ThreadLocal&lt;&gt;();\r\n                }\r\n            }\r\n        }\r\n        threadPool.set(browser);\r\n        debug = browser;\r\n    }\r\n\r\n    public static String getBrowserName(){\r\n        return threadPool.get(); ------------- &gt; line 2\r\n    }\r\n\r\n    public static String getDebugString(){\r\n        return debug;// ---------------------- &gt; line 3\r\n    }\r\n}\r\n```\r\n\r\nI was sure, with this solution, I will receive different threads for each `test` and `static` fields will be common for them, but it has occurred that **line 1** executed 2 times. Ok, for this case I can establish browser for each thread without `ThreadLocal` using I thought...but the `debug` parameter initialized also 2 times, and in the both cases, when I called `getDebugString` (**line 3**) I receive the last value that was initialized. In this point I need to say I call `getDebugString()` in the `FirstSteps.class` and `SecondSteps.class`:\r\n\r\n- `FirsSteps`:\r\n\r\n```java\r\n\r\npublic class FirstSteps  {\r\n\r\n    @When(&quot;First Step&quot;)\r\n    public void firstStep() throws InterruptedException {\r\n        TestRunner.printThread();\r\n        System.out.println(&quot;FirstSteps::firstStep&quot;);\r\n        System.out.println(&quot;FirstSteps thread parameter: &quot; + TestRunner.getBrowserName()); // ------------ line 1\r\n        System.out.println(&quot;FirstSteps Debug parameter: &quot; + TestRunner.getDebugParameter()); // ---------- line 2\r\n        Thread.sleep(3000);\r\n    }\r\n\r\n    @Then(&quot;Second Step&quot;)\r\n    public void secondStep() {\r\n        System.out.println(&quot;FirstSteps::secondStep&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIn the **line 1** I receive `null` value.\r\nIn the **line 2** I receive **the same value for both cases** - the value that was initialized in the first queue (if the first test was with parameter **browser=chrome** - it will be **chrome** for both the `FirstSteps` and `SecondSteps`, otherwise - **firefox**\r\n\r\n - `SecondSteps`:\r\n\r\n```java\r\npublic class SecondSteps extends BaseApi {\r\n    @When(&quot;First Function&quot;)\r\n    public void firstFunction() throws InterruptedException {\r\n        TestRunner.printThread();\r\n        Thread.sleep(1000);\r\n        System.out.println(&quot;SecondSteps::firstFunction&quot;);\r\n        System.out.println(&quot;SecondSteps thread parameter: &quot; + TestRunner.getBrowserName());\r\n        System.out.println(&quot;SecondSteps debug parameter: &quot; + TestRunner.getDebugParameter());\r\n    }\r\n\r\n    @Then(&quot;Second Function&quot;)\r\n    public void secondFunction() {\r\n        System.out.println(&quot;SecondSteps::secondFunction&quot;);\r\n    }\r\n}\r\n```\r\n\r\nSo, it seems the `static` field is common for both threads! But why is the `ThreadLocal` not working in this case??\r\n\r\n----------------\r\n\r\nConsole output:\r\n```\r\nFirstSteps::firstStep\r\nFirstSteps thread parameter: null\r\nFirstSteps Debug parameter: chrome\r\nSecondSteps::firstFunction\r\nSecondSteps thread parameter: null\r\nSecondSteps debug parameter: chrome\r\nSecondSteps::secondFunction\r\nFirstSteps::secondStep\r\n```\r\n\r\n - **Update**\r\n\r\nAfter I added `printThread();` function that print *{$THREAD_NAME}-{$THREAD_ID} {$ADDITION_INFO}* I received following console log:\r\n```\r\nBrowserName: chrome\r\nBrowserName: firefox\r\ncom.projectname.tests.TestRunner::init - TestNG-tests-2-18 for firefox\r\ncom.projectname.tests.TestRunner::init - TestNG-tests-1-17 for chrome\r\nFirstSteps::secondStep\r\nFirstSteps::firstStep\r\ncom.projectname.tests.suites.second.SecondSteps::firstFunction - TestNG-PoolService-0-20\r\nFirstSteps thread parameter: null\r\nFirstSteps Debug parameter: chrome\r\ncom.projectname.tests.suites.first.FirstSteps::firstStep - TestNG-PoolService-0-21\r\nSecondSteps::firstFunction\r\nSecondSteps thread parameter: null\r\nSecondSteps debug parameter: chrome\r\nSecondSteps::secondFunction\r\n```\r\n\r\nSo, as I understand - the `AbstractTestNGCucumberTests` executes tests in a separate threads (some `PoolService` threads). I&#39;ll research this behavior, but anyway, I left this answer here, until I haven&#39;t solution.\r\n\r\nPS. Still is so weird the fact that TestNG creates two new threads with the FIRST instance of the class (I mean instance with &#39;chrome&#39; browser for `debug` field). And so weird, that cucumber works so ugly...","title":"How to customize Cucumber TestNG for the different threads?","body":"<p>I need to implement parallel execution of cucumber features and, obviously, set up them for the different threads.</p>\n<p>So, I created two features, classes, and one <code>TestNgRuner</code> for the .XML execution.\nThere is a project structure:</p>\n<pre><code>src/\n└── test/\n    └── java/\n        └── com/\n            └── projectname/\n                └── tests/\n                    ├── TestRunner.java\n                    ├── suites/\n                    │   ├── first/\n                    │   │   └── FirstSteps.java\n                    │   └── second/\n                    │       └── SecondSteps.java\n                    └── resources/\n                        └── suites/\n                            └── smoke.xml\n</code></pre>\n<p>Parallel execution ensured by <code>smoke.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Test Debug&quot; parallel=&quot;tests&quot;&gt;\n    &lt;test name=&quot;Test 1&quot;&gt;\n        &lt;parameter name=&quot;browser&quot; value=&quot;firefox&quot;/&gt;\n        &lt;parameter name=&quot;cucumber.features&quot; value=&quot;classpath:features/first&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.projectname.tests.TestRunner&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;Test 2&quot;&gt;\n        &lt;parameter name=&quot;browser&quot; value=&quot;firefox&quot;/&gt;\n        &lt;parameter name=&quot;cucumber.features&quot; value=&quot;classpath:features/second&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.projectname.tests.TestRunner&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n\n</code></pre>\n<p>So, you can guess, I need to establish WebDriver according to the <code>browser</code> parameter, and this establishment has to be executed for each <code>test</code>. So, as I understand, I have to use testing <code>@BeforeTest</code> annotation in the <code>TestRunner</code> class, since exactly this class managed and execute <code>@Test</code> methods (through <code>AbstractTestNGCucumberTests</code> extension):</p>\n<ul>\n<li>TestRunner:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestRunner extends AbstractTestNGCucumberTests {\n\n    private static volatile ThreadLocal&lt;String&gt; threadLocal;\n    private static String debug;\n\n    @Override\n    @DataProvider(parallel = true)\n    public Object[][] scenarios() {\n        return super.scenarios();\n    }\n\n    @BeforeClass\n    @Parameters(&quot;browser&quot;)\n    public void init(@Optional(&quot;chrome&quot;) String browser) {\n        System.out.println(&quot;BrowserName: &quot; + browser);\n        printThread(browser);\n        if (threadLocal == null) {\n            synchronized (TestRunner.class) {\n                if (threadLocal == null) {\n                    threadLocal = new ThreadLocal&lt;&gt;();\n                }\n            }\n        }\n        threadPool.set(browser);\n        debug = browser;\n    }\n\n    public static String getBrowserName(){\n        return threadPool.get(); ------------- &gt; line 2\n    }\n\n    public static String getDebugString(){\n        return debug;// ---------------------- &gt; line 3\n    }\n}\n</code></pre>\n<p>I was sure, with this solution, I will receive different threads for each <code>test</code> and <code>static</code> fields will be common for them, but it has occurred that <strong>line 1</strong> executed 2 times. Ok, for this case I can establish browser for each thread without <code>ThreadLocal</code> using I thought...but the <code>debug</code> parameter initialized also 2 times, and in the both cases, when I called <code>getDebugString</code> (<strong>line 3</strong>) I receive the last value that was initialized. In this point I need to say I call <code>getDebugString()</code> in the <code>FirstSteps.class</code> and <code>SecondSteps.class</code>:</p>\n<ul>\n<li><code>FirsSteps</code>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class FirstSteps  {\n\n    @When(&quot;First Step&quot;)\n    public void firstStep() throws InterruptedException {\n        TestRunner.printThread();\n        System.out.println(&quot;FirstSteps::firstStep&quot;);\n        System.out.println(&quot;FirstSteps thread parameter: &quot; + TestRunner.getBrowserName()); // ------------ line 1\n        System.out.println(&quot;FirstSteps Debug parameter: &quot; + TestRunner.getDebugParameter()); // ---------- line 2\n        Thread.sleep(3000);\n    }\n\n    @Then(&quot;Second Step&quot;)\n    public void secondStep() {\n        System.out.println(&quot;FirstSteps::secondStep&quot;);\n    }\n}\n</code></pre>\n<p>In the <strong>line 1</strong> I receive <code>null</code> value.\nIn the <strong>line 2</strong> I receive <strong>the same value for both cases</strong> - the value that was initialized in the first queue (if the first test was with parameter <strong>browser=chrome</strong> - it will be <strong>chrome</strong> for both the <code>FirstSteps</code> and <code>SecondSteps</code>, otherwise - <strong>firefox</strong></p>\n<ul>\n<li><code>SecondSteps</code>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class SecondSteps extends BaseApi {\n    @When(&quot;First Function&quot;)\n    public void firstFunction() throws InterruptedException {\n        TestRunner.printThread();\n        Thread.sleep(1000);\n        System.out.println(&quot;SecondSteps::firstFunction&quot;);\n        System.out.println(&quot;SecondSteps thread parameter: &quot; + TestRunner.getBrowserName());\n        System.out.println(&quot;SecondSteps debug parameter: &quot; + TestRunner.getDebugParameter());\n    }\n\n    @Then(&quot;Second Function&quot;)\n    public void secondFunction() {\n        System.out.println(&quot;SecondSteps::secondFunction&quot;);\n    }\n}\n</code></pre>\n<p>So, it seems the <code>static</code> field is common for both threads! But why is the <code>ThreadLocal</code> not working in this case??</p>\n<hr />\n<p>Console output:</p>\n<pre><code>FirstSteps::firstStep\nFirstSteps thread parameter: null\nFirstSteps Debug parameter: chrome\nSecondSteps::firstFunction\nSecondSteps thread parameter: null\nSecondSteps debug parameter: chrome\nSecondSteps::secondFunction\nFirstSteps::secondStep\n</code></pre>\n<ul>\n<li><strong>Update</strong></li>\n</ul>\n<p>After I added <code>printThread();</code> function that print <em>{$THREAD_NAME}-{$THREAD_ID} {$ADDITION_INFO}</em> I received following console log:</p>\n<pre><code>BrowserName: chrome\nBrowserName: firefox\ncom.projectname.tests.TestRunner::init - TestNG-tests-2-18 for firefox\ncom.projectname.tests.TestRunner::init - TestNG-tests-1-17 for chrome\nFirstSteps::secondStep\nFirstSteps::firstStep\ncom.projectname.tests.suites.second.SecondSteps::firstFunction - TestNG-PoolService-0-20\nFirstSteps thread parameter: null\nFirstSteps Debug parameter: chrome\ncom.projectname.tests.suites.first.FirstSteps::firstStep - TestNG-PoolService-0-21\nSecondSteps::firstFunction\nSecondSteps thread parameter: null\nSecondSteps debug parameter: chrome\nSecondSteps::secondFunction\n</code></pre>\n<p>So, as I understand - the <code>AbstractTestNGCucumberTests</code> executes tests in a separate threads (some <code>PoolService</code> threads). I'll research this behavior, but anyway, I left this answer here, until I haven't solution.</p>\n<p>PS. Still is so weird the fact that TestNG creates two new threads with the FIRST instance of the class (I mean instance with 'chrome' browser for <code>debug</code> field). And so weird, that cucumber works so ugly...</p>\n"},{"tags":["java","saprfc","bapi","jco","idoc"],"comments":[{"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"score":0,"creation_date":1291929079,"post_id":4374593,"comment_id":4800862,"body_markdown":"For instance some coverage of transactional aspects of the processing (http://stackoverflow.com/questions/4367386/how-to-control-transaction-commit-rollback-when-reading-an-idoc). Such integration is not as easy as simple example. Javadoc describes the API, but doesn&#39;t make it a tutorial.","body":"For instance some coverage of transactional aspects of the processing (<a href=\"http://stackoverflow.com/questions/4367386/how-to-control-transaction-commit-rollback-when-reading-an-idoc\" title=\"how to control transaction commit rollback when reading an idoc\">stackoverflow.com/questions/4367386/&hellip;</a>). Such integration is not as easy as simple example. Javadoc describes the API, but doesn&#39;t make it a tutorial."}],"answers":[{"tags":[],"owner":{"account_id":41596,"reputation":1102,"user_id":120959,"display_name":"lenkite"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1297322686,"creation_date":1297322686,"answer_id":4954444,"question_id":4374593,"body_markdown":"Go to http://service.sap.com/connectors (You&#39;ll need an SAP service market place account),  click on &quot;SAP Java Connector&quot; &gt; Tools and Services in the left hand navigation tree. You can download the JCO release 3.0.x from there and also download the SAP JCO 3.0 documentation as a PDF file.","title":"Tutorials, manuals, documentation for using SAP JCo 3.x","body":"<p>Go to <a href=\"http://service.sap.com/connectors\" rel=\"noreferrer\">http://service.sap.com/connectors</a> (You'll need an SAP service market place account),  click on \"SAP Java Connector\" > Tools and Services in the left hand navigation tree. You can download the JCO release 3.0.x from there and also download the SAP JCO 3.0 documentation as a PDF file.</p>\n"},{"tags":[],"owner":{"account_id":2716238,"reputation":106,"user_id":2343546,"display_name":"Syam K S The SEO Expert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642666242,"creation_date":1642666242,"answer_id":70782690,"question_id":4374593,"body_markdown":"My suggestion is to refer [https://sapbrainsonline.com/basis-tutorial/sap-jco-tutorial-pdf-training-guides.html][1] . It contains introduction &amp; Several PDF training materials about SAP JCo .\r\n\r\n\r\n  [1]: https://sapbrainsonline.com/basis-tutorial/sap-jco-tutorial-pdf-training-guides.html","title":"Tutorials, manuals, documentation for using SAP JCo 3.x","body":"<p>My suggestion is to refer <a href=\"https://sapbrainsonline.com/basis-tutorial/sap-jco-tutorial-pdf-training-guides.html\" rel=\"nofollow noreferrer\">https://sapbrainsonline.com/basis-tutorial/sap-jco-tutorial-pdf-training-guides.html</a> . It contains introduction &amp; Several PDF training materials about SAP JCo .</p>\n"}],"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17964,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"accepted_answer_id":4954444,"answer_count":2,"score":8,"last_activity_date":1682768831,"creation_date":1291709865,"question_id":4374593,"body_markdown":"Do you know any decent documentation source for using JCo 3.x?\r\n\r\nMost of the materials I could find are pretty outdated and refer to previous versions (JCo 2.x).\r\nIn case, anyone wondered, the things I found are:\r\n\r\n- &lt;a href=&quot;http://w-infobase.de/lehre%5Clv_materialien.nsf/intern01/FB09D79A41930E34C125709F0046180C/$FILE/Tips&amp;Tricks_JCo_Programming.pdf&quot;&gt;Tips&amp;Tricks JCo programming&lt;/a&gt;\r\n- ftp://ftp.sap.com/pub/sapjco/sapjco2xDocs.zip\r\n- The JCo distribution contains Javadoc documentation and a few examples.\r\n\r\nThis one is for JCo 3, but covers only the basics:\r\n\r\n- http://www.vogella.de/articles/SAPJCo/article.html\r\n","title":"Tutorials, manuals, documentation for using SAP JCo 3.x","body":"<p>Do you know any decent documentation source for using JCo 3.x?</p>\n\n<p>Most of the materials I could find are pretty outdated and refer to previous versions (JCo 2.x).\nIn case, anyone wondered, the things I found are:</p>\n\n<ul>\n<li>Tips&amp;Tricks JCo programming</li>\n<li><a href=\"ftp://ftp.sap.com/pub/sapjco/sapjco2xDocs.zip\">ftp://ftp.sap.com/pub/sapjco/sapjco2xDocs.zip</a></li>\n<li>The JCo distribution contains Javadoc documentation and a few examples.</li>\n</ul>\n\n<p>This one is for JCo 3, but covers only the basics:</p>\n\n<ul>\n<li><a href=\"http://www.vogella.de/articles/SAPJCo/article.html\">http://www.vogella.de/articles/SAPJCo/article.html</a></li>\n</ul>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1484927404,"post_id":41767496,"comment_id":70726451,"body_markdown":"This is contradicting. If you specify `any()`, you mean any, but at the same time you don&#39;t?!? Just use the appropriate matchers.","body":"This is contradicting. If you specify <code>any()</code>, you mean any, but at the same time you don&#39;t?!? Just use the appropriate matchers."},{"owner":{"account_id":346552,"reputation":1187,"user_id":680154,"accept_rate":50,"display_name":"Zeeshan Bilal"},"score":1,"creation_date":1484928533,"post_id":41767496,"comment_id":70727121,"body_markdown":"please recommend me some way. i cant create object for one of the parameter, that&#39;s why i use any() but defiantly i wouldn&#39;t work. I meant to say that i want to do something same.","body":"please recommend me some way. i cant create object for one of the parameter, that&#39;s why i use any() but defiantly i wouldn&#39;t work. I meant to say that i want to do something same."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1672698422,"post_id":41767496,"comment_id":132330715,"body_markdown":"Something that might have been overlooked: You cannot mix matchers and plain arguments when stubbing a mock. So `when(service.foo(any(), new ARequest(1, &quot;A&quot;))` should cause an error from the framework because `any()` is a matcher and `new ARequest...` is not","body":"Something that might have been overlooked: You cannot mix matchers and plain arguments when stubbing a mock. So <code>when(service.foo(any(), new ARequest(1, &quot;A&quot;))</code> should cause an error from the framework because <code>any()</code> is a matcher and <code>new ARequest...</code> is not"}],"answers":[{"tags":[],"owner":{"account_id":10068717,"reputation":176,"user_id":7443041,"display_name":"Tom Bulgur"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1484927417,"creation_date":1484927417,"answer_id":41767547,"question_id":41767496,"body_markdown":"I think: the &quot;recommended&quot; way would be the one that WORKS for you; and that comes with the least amount of coding efforts.\r\n\r\nYou have to have provide THOSE specifications that are necessary to make your test do what it has to do. There is no way around that.\r\n\r\nIf you really care about the arguments used, then you have to specify them accordingly. If you don&#39;t care; use `any()`. ","title":"Mock same method with different parameters","body":"<p>I think: the \"recommended\" way would be the one that WORKS for you; and that comes with the least amount of coding efforts.</p>\n\n<p>You have to have provide THOSE specifications that are necessary to make your test do what it has to do. There is no way around that.</p>\n\n<p>If you really care about the arguments used, then you have to specify them accordingly. If you don't care; use <code>any()</code>. </p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1484927735,"creation_date":1484927735,"answer_id":41767640,"question_id":41767496,"body_markdown":"The proper way would be to match the arguments using `eq()`, but if you don&#39;t want to do that, you can just record multiple return values.\r\n\r\n    when(someService.doSomething(any(SomeParam.class))).thenReturn(\r\n      firstReturnValue, secondReturnValue, thirdReturnValue\r\n    );\r\n\r\nNow the first call will return `firstValue`, the second `secondValue` and all following `thirdValue`.","title":"Mock same method with different parameters","body":"<p>The proper way would be to match the arguments using <code>eq()</code>, but if you don't want to do that, you can just record multiple return values.</p>\n\n<pre><code>when(someService.doSomething(any(SomeParam.class))).thenReturn(\n  firstReturnValue, secondReturnValue, thirdReturnValue\n);\n</code></pre>\n\n<p>Now the first call will return <code>firstValue</code>, the second <code>secondValue</code> and all following <code>thirdValue</code>.</p>\n"},{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":1,"up_vote_count":78,"is_accepted":true,"score":77,"last_activity_date":1637775772,"creation_date":1484927917,"answer_id":41767698,"question_id":41767496,"body_markdown":"One way could be to avoid being too restrictive on your arguments in order to provide all the expected results with only one `thenReturn` call.\r\n\r\nFor example let&#39;s say that I want to mock this method:\r\n\r\n    public String foo(String firstArgument, Object obj) {\r\n        return &quot;Something&quot;;\r\n    }\r\n\r\nYou could then mock it by providing as many results as you want like below:\r\n\r\n    // Mock the call of foo of any String to provide 3 results\r\n    when(mock.foo(anyString(), anyObject())).thenReturn(&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;);\r\n\r\nCalls to `foo` with any parameters will provide respectively &quot;`val1`&quot;, &quot;`val2`&quot;, then any subsequent calls will provide &quot;`val3`&quot;.\r\n\r\n---\r\n\r\nIn case you do care about passed values but don&#39;t want to depend on call sequence you can use `thenAnswer` to provide an answer that matches with the second argument like you currently do but with 3 different `thenReturn`. \r\nAssuming that you have overridden the method `equals(Object o)`.\r\n\r\n    when(mock.foo(anyString(), anyObject())).thenAnswer(\r\n        invocation -&gt; {\r\n            Object argument = invocation.getArguments()[1];\r\n            if (argument.equals(new ARequest(1, &quot;A&quot;))) {\r\n                return new AResponse(1, &quot;passed&quot;);\r\n            } else if (argument.equals(new ARequest(2, &quot;2A&quot;))) {\r\n                return new AResponse(2, &quot;passed&quot;);\r\n            } else if (argument.equals(new BRequest(1, &quot;B&quot;))) {\r\n                return new BResponse(112, &quot;passed&quot;);\r\n            }\r\n            throw new InvalidUseOfMatchersException(\r\n                String.format(&quot;Argument %s does not match&quot;, argument)\r\n            );\r\n        }\r\n    );\r\n\r\nOr simply, using the methods `anyString` and `eq` as argument marchers.\r\nAssuming that you have overridden the method `equals(Object o)`.\r\n\r\n    when(service.foo(anyString(), eq(new ARequest(1, &quot;A&quot;))))\r\n        .thenReturn(new AResponse(1, &quot;passed&quot;));\r\n    when(service.foo(anyString(), eq(new ARequest(2, &quot;2A&quot;))))\r\n        .thenReturn(new AResponse(2, &quot;passed&quot;));\r\n    when(service.foo(anyString(), eq(new BRequest(1, &quot;B&quot;))))\r\n        .thenReturn(new BResponse(112, &quot;passed&quot;));\r\n\r\n","title":"Mock same method with different parameters","body":"<p>One way could be to avoid being too restrictive on your arguments in order to provide all the expected results with only one <code>thenReturn</code> call.</p>\n<p>For example let's say that I want to mock this method:</p>\n<pre><code>public String foo(String firstArgument, Object obj) {\n    return &quot;Something&quot;;\n}\n</code></pre>\n<p>You could then mock it by providing as many results as you want like below:</p>\n<pre><code>// Mock the call of foo of any String to provide 3 results\nwhen(mock.foo(anyString(), anyObject())).thenReturn(&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;);\n</code></pre>\n<p>Calls to <code>foo</code> with any parameters will provide respectively &quot;<code>val1</code>&quot;, &quot;<code>val2</code>&quot;, then any subsequent calls will provide &quot;<code>val3</code>&quot;.</p>\n<hr />\n<p>In case you do care about passed values but don't want to depend on call sequence you can use <code>thenAnswer</code> to provide an answer that matches with the second argument like you currently do but with 3 different <code>thenReturn</code>.\nAssuming that you have overridden the method <code>equals(Object o)</code>.</p>\n<pre><code>when(mock.foo(anyString(), anyObject())).thenAnswer(\n    invocation -&gt; {\n        Object argument = invocation.getArguments()[1];\n        if (argument.equals(new ARequest(1, &quot;A&quot;))) {\n            return new AResponse(1, &quot;passed&quot;);\n        } else if (argument.equals(new ARequest(2, &quot;2A&quot;))) {\n            return new AResponse(2, &quot;passed&quot;);\n        } else if (argument.equals(new BRequest(1, &quot;B&quot;))) {\n            return new BResponse(112, &quot;passed&quot;);\n        }\n        throw new InvalidUseOfMatchersException(\n            String.format(&quot;Argument %s does not match&quot;, argument)\n        );\n    }\n);\n</code></pre>\n<p>Or simply, using the methods <code>anyString</code> and <code>eq</code> as argument marchers.\nAssuming that you have overridden the method <code>equals(Object o)</code>.</p>\n<pre><code>when(service.foo(anyString(), eq(new ARequest(1, &quot;A&quot;))))\n    .thenReturn(new AResponse(1, &quot;passed&quot;));\nwhen(service.foo(anyString(), eq(new ARequest(2, &quot;2A&quot;))))\n    .thenReturn(new AResponse(2, &quot;passed&quot;));\nwhen(service.foo(anyString(), eq(new BRequest(1, &quot;B&quot;))))\n    .thenReturn(new BResponse(112, &quot;passed&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4108979,"reputation":317,"user_id":3372071,"display_name":"piritocle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578336488,"creation_date":1578336488,"answer_id":59617386,"question_id":41767496,"body_markdown":"If you are mocking the method just want to verify that the correct arguments are being passed in, you can use any() and verify with ArgumentCaptor following the mocked method call.","title":"Mock same method with different parameters","body":"<p>If you are mocking the method just want to verify that the correct arguments are being passed in, you can use any() and verify with ArgumentCaptor following the mocked method call.</p>\n"},{"tags":[],"owner":{"account_id":5000237,"reputation":19,"user_id":4019497,"display_name":"dpassyann"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682768081,"creation_date":1682768081,"answer_id":76136010,"question_id":41767496,"body_markdown":"the simple solution is to make Mockito silent about this kind of error\r\n```java\r\n    @ExtendWith(MockitoExtension.class)\r\n    @MockitoSettings(strictness = Strictness.LENIENT)\r\n```","title":"Mock same method with different parameters","body":"<p>the simple solution is to make Mockito silent about this kind of error</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ExtendWith(MockitoExtension.class)\n    @MockitoSettings(strictness = Strictness.LENIENT)\n</code></pre>\n"}],"owner":{"account_id":346552,"reputation":1187,"user_id":680154,"accept_rate":50,"display_name":"Zeeshan Bilal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73962,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":41767698,"answer_count":5,"score":59,"last_activity_date":1682768081,"creation_date":1484927235,"question_id":41767496,"body_markdown":"I am using mockito to test my business service, and it uses a utility that i want to mock. there are at least 2-3 calls in each service method for utility with different arguments. \r\n\r\nIs there any recommended way to use multiple `when(...).thenReturn(...)` for same method but different arguments?\r\n\r\nI also want to use `any()` marcher as well inside. Is it possible?\r\n\r\nUpdate: sample code.\r\n\r\n    @Test\r\n    public void myTest() {\r\n      when(service.foo(any(), new ARequest(1, &quot;A&quot;))).thenReturn(new AResponse(1, &quot;passed&quot;));\r\n      when(service.foo(any(), new ARequest(2, &quot;2A&quot;))).thenReturn(new AResponse(2, &quot;passed&quot;));\r\n      when(service.foo(any(), new BRequest(1, &quot;B&quot;))).thenReturn(new BResponse(112, &quot;passed&quot;));\r\n  \r\n      c.execute();\r\n    }\r\n  \r\n    public class ClassUnderTest {\r\n      Service service = new Service();\r\n      public void execute() {\r\n        AResponse ar = (AResponse) service.foo(&quot;A1&quot;, new ARequest(1, &quot;A&quot;));\r\n        AResponse ar2 = (AResponse) service.foo(&quot;A2&quot;, new ARequest(2, &quot;2A&quot;));\r\n        BResponse br = (BResponse) service.foo(&quot;B1&quot;, new BRequest(1, &quot;B&quot;));\r\n      }\r\n    }\r\n  \r\n    public class Service {\r\n      public Object foo(String firstArgument, Object obj) {\r\n        return null; //return something\r\n      }\r\n    }","title":"Mock same method with different parameters","body":"<p>I am using mockito to test my business service, and it uses a utility that i want to mock. there are at least 2-3 calls in each service method for utility with different arguments. </p>\n\n<p>Is there any recommended way to use multiple <code>when(...).thenReturn(...)</code> for same method but different arguments?</p>\n\n<p>I also want to use <code>any()</code> marcher as well inside. Is it possible?</p>\n\n<p>Update: sample code.</p>\n\n<pre><code>@Test\npublic void myTest() {\n  when(service.foo(any(), new ARequest(1, \"A\"))).thenReturn(new AResponse(1, \"passed\"));\n  when(service.foo(any(), new ARequest(2, \"2A\"))).thenReturn(new AResponse(2, \"passed\"));\n  when(service.foo(any(), new BRequest(1, \"B\"))).thenReturn(new BResponse(112, \"passed\"));\n\n  c.execute();\n}\n\npublic class ClassUnderTest {\n  Service service = new Service();\n  public void execute() {\n    AResponse ar = (AResponse) service.foo(\"A1\", new ARequest(1, \"A\"));\n    AResponse ar2 = (AResponse) service.foo(\"A2\", new ARequest(2, \"2A\"));\n    BResponse br = (BResponse) service.foo(\"B1\", new BRequest(1, \"B\"));\n  }\n}\n\npublic class Service {\n  public Object foo(String firstArgument, Object obj) {\n    return null; //return something\n  }\n}\n</code></pre>\n"},{"tags":["java","jsp","servlets","weblogic","containers"],"comments":[{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":4,"creation_date":1310837215,"post_id":6719004,"comment_id":7957068,"body_markdown":"This question a good answer by @BalusC on this [server fault link](http://serverfault.com/questions/106154/what-is-a-servlet-container-and-how-to-install-one).","body":"This question a good answer by @BalusC on this <a href=\"http://serverfault.com/questions/106154/what-is-a-servlet-container-and-how-to-install-one\">server fault link</a>."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1310837072,"creation_date":1310837072,"answer_id":6719017,"question_id":6719004,"body_markdown":"WebLogic, JBOSS, and other Java EE app servers *have* servlet containers, plus more: EJBs, naming and directory service, JMS, etc.\r\n\r\nServlets are HTTP listeners that run inside a servlet container.  The servlet can be mapped to response to HTTP GET and POST requests to a given URL of your choice.  The container manages the lifecycle and pooling of the servlets.\r\n\r\n","title":"Understanding servlet container","body":"<p>WebLogic, JBOSS, and other Java EE app servers <em>have</em> servlet containers, plus more: EJBs, naming and directory service, JMS, etc.</p>\n\n<p>Servlets are HTTP listeners that run inside a servlet container.  The servlet can be mapped to response to HTTP GET and POST requests to a given URL of your choice.  The container manages the lifecycle and pooling of the servlets.</p>\n"},{"tags":[],"owner":{"account_id":1742,"reputation":42756,"user_id":2362,"accept_rate":79,"display_name":"brabster"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1534664895,"creation_date":1310837084,"answer_id":6719019,"question_id":6719004,"body_markdown":"A servlet container is an application server that implements some version of the [Java Servlet Specification.][1]\r\n\r\nIn a nutshell, the servlet spec defines a programming model that allows a developer to write components, for example servlets, that process requests (almost always HTTP requests). Those components can then be declared to the container and it handles many of the tedious tasks involved with wiring up and managing those components such that they can process those requests.\r\n\r\n\r\n  [1]: https://javaee.github.io/servlet-spec/","title":"Understanding servlet container","body":"<p>A servlet container is an application server that implements some version of the <a href=\"https://javaee.github.io/servlet-spec/\" rel=\"noreferrer\">Java Servlet Specification.</a></p>\n\n<p>In a nutshell, the servlet spec defines a programming model that allows a developer to write components, for example servlets, that process requests (almost always HTTP requests). Those components can then be declared to the container and it handles many of the tedious tasks involved with wiring up and managing those components such that they can process those requests.</p>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1329117653,"creation_date":1310837497,"answer_id":6719055,"question_id":6719004,"body_markdown":"A servlet is a class that you will use to receive HTTP requests as methods and reply back with stuff (usually HTML).\r\n\r\nA servlet container is a server program which provides everything else; the opening of the socket, the transformation framework to turn HTTP into Java API calls, and a number of interfaces which allow you to plug in your servlet code.\r\n\r\nIf it were an electrical outlet, the servlet container would be the socket in the wall, and the servlet would be the plug and cord that attaches to the socket; but, Java used a &#39;container&#39; analogy.  The servlet container is the &quot;bucket&quot; you put your servlet stuff into.","title":"Understanding servlet container","body":"<p>A servlet is a class that you will use to receive HTTP requests as methods and reply back with stuff (usually HTML).</p>\n\n<p>A servlet container is a server program which provides everything else; the opening of the socket, the transformation framework to turn HTTP into Java API calls, and a number of interfaces which allow you to plug in your servlet code.</p>\n\n<p>If it were an electrical outlet, the servlet container would be the socket in the wall, and the servlet would be the plug and cord that attaches to the socket; but, Java used a 'container' analogy.  The servlet container is the \"bucket\" you put your servlet stuff into.</p>\n"},{"tags":[],"owner":{"account_id":30304,"reputation":27134,"user_id":82559,"display_name":"alphazero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365800499,"creation_date":1310837811,"answer_id":6719079,"question_id":6719004,"body_markdown":"The Java EE architecture is *a component oriented system* with an articulated container, component model, and a managed life-cycle and mediated inter-component communication. \r\n\r\nThe Java EE web-container defines the components of this tier (e.g. {Servlet, Filter}), and the contractual interface between the components and the web-container (e.g. ServletContext).\r\n\r\n(If coming from .NET, this is effectively the [same conceptual paradigm as the] Component, Container and ISite is the Java EE XML declarative mappings.)  [edit]","title":"Understanding servlet container","body":"<p>The Java EE architecture is <em>a component oriented system</em> with an articulated container, component model, and a managed life-cycle and mediated inter-component communication. </p>\n\n<p>The Java EE web-container defines the components of this tier (e.g. {Servlet, Filter}), and the contractual interface between the components and the web-container (e.g. ServletContext).</p>\n\n<p>(If coming from .NET, this is effectively the [same conceptual paradigm as the] Component, Container and ISite is the Java EE XML declarative mappings.)  [edit]</p>\n"},{"tags":[],"owner":{"account_id":12444145,"reputation":1,"user_id":9060933,"display_name":"Ashwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640325155,"creation_date":1640325155,"answer_id":70469934,"question_id":6719004,"body_markdown":"Servlet containers are programs that have pre-defined rules and intelligence to manage requests and responses. These programs validate the requests and responses to ensure they meet the Java servlet specifications.\r\nThe application server is not just about servlet containers, it also contains EJB containers.\r\n","title":"Understanding servlet container","body":"<p>Servlet containers are programs that have pre-defined rules and intelligence to manage requests and responses. These programs validate the requests and responses to ensure they meet the Java servlet specifications.\nThe application server is not just about servlet containers, it also contains EJB containers.</p>\n"},{"tags":[],"owner":{"account_id":24646887,"reputation":1,"user_id":18544438,"display_name":"Amit Suthar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682767934,"creation_date":1682592425,"answer_id":76119495,"question_id":6719004,"body_markdown":"The servlet container is part of a Web server or application server that provides the network services over which requests and responses are sent. A servlet container also contains and manages servlets through their lifecycle. A web container is a big assistant to the programmer. It reduces the complexity of programming by managing the total life cycle of the servlet.\r\n","title":"Understanding servlet container","body":"<p>The servlet container is part of a Web server or application server that provides the network services over which requests and responses are sent. A servlet container also contains and manages servlets through their lifecycle. A web container is a big assistant to the programmer. It reduces the complexity of programming by managing the total life cycle of the servlet.</p>\n"},{"tags":[],"owner":{"account_id":7509666,"reputation":1286,"user_id":5705066,"display_name":"hkanjih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682729075,"creation_date":1682729075,"answer_id":76134042,"question_id":6719004,"body_markdown":"A servlet container is a software program that runs on a web server and provides the runtime environment for Java servlets. A servlet is a Java class that can be used to extend the functionality of a web server. Servlets can be used to process HTTP requests, generate dynamic content, and manage sessions.\r\n\r\n**Weblogic** and **JBoss** are both examples of servlet containers. They are both full-featured application servers that provide a wide range of features beyond just servlet support. However, they can also be used as standalone servlet containers.\r\n\r\nIn simple terms, a servlet container is a software program that helps you to develop and deploy Java servlets. It provides the runtime environment for servlets, including things like security, session management, and database access.\r\n\r\n","title":"Understanding servlet container","body":"<p>A servlet container is a software program that runs on a web server and provides the runtime environment for Java servlets. A servlet is a Java class that can be used to extend the functionality of a web server. Servlets can be used to process HTTP requests, generate dynamic content, and manage sessions.</p>\n<p><strong>Weblogic</strong> and <strong>JBoss</strong> are both examples of servlet containers. They are both full-featured application servers that provide a wide range of features beyond just servlet support. However, they can also be used as standalone servlet containers.</p>\n<p>In simple terms, a servlet container is a software program that helps you to develop and deploy Java servlets. It provides the runtime environment for servlets, including things like security, session management, and database access.</p>\n"}],"owner":{"account_id":225326,"reputation":49638,"user_id":485743,"accept_rate":60,"display_name":"copenndthagen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32514,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":6719019,"answer_count":7,"score":36,"last_activity_date":1682767934,"creation_date":1310836917,"question_id":6719004,"body_markdown":"As a UI devloper and someone with very limited Java knowledge, how do I understand what exactly is servlet container in simple terms ?\r\n\r\nI have heard Weblogic, JBoss, etc are servlet containers, but not sure what that means exactly. Does it mean any middleware technology ?\r\n\r\nCould you please help me.","title":"Understanding servlet container","body":"<p>As a UI devloper and someone with very limited Java knowledge, how do I understand what exactly is servlet container in simple terms ?</p>\n\n<p>I have heard Weblogic, JBoss, etc are servlet containers, but not sure what that means exactly. Does it mean any middleware technology ?</p>\n\n<p>Could you please help me.</p>\n"},{"tags":["java","xml","maven","pom.xml","mainclass"],"answers":[{"tags":[],"owner":{"account_id":2526321,"reputation":3554,"user_id":2195638,"accept_rate":20,"display_name":"Martin Baumgartner"},"down_vote_count":0,"up_vote_count":119,"is_accepted":true,"score":119,"last_activity_date":1682767675,"creation_date":1430226669,"answer_id":29920526,"question_id":29920434,"body_markdown":"First, your main class doesn&#39;t include `src/main/java`. Look at the package declaration in that Java file. For example, `package org.jis;`, then add the main class to that. In other words, it&#39;s only `org.jis.Main`. \r\n\r\nYou need to configure the **maven-jar-plugin** instead the of the maven-compiler-plugin. The jar-plugin is the one which is responsible for packaging and creating the manifest.MF. \r\n\r\nFrom http://maven.apache.org/shared/maven-archiver/examples/classpath.html \r\n\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;!-- Here come other details\r\n            ...\r\n            --&gt;\r\n            &lt;configuration&gt;\r\n              &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                  &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                  &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n              &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;!-- Here come other details\r\n            ...\r\n            --&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\n","title":"Maven adding mainClass in pom.xml with the right folder path","body":"<p>First, your main class doesn't include <code>src/main/java</code>. Look at the package declaration in that Java file. For example, <code>package org.jis;</code>, then add the main class to that. In other words, it's only <code>org.jis.Main</code>.</p>\n<p>You need to configure the <strong>maven-jar-plugin</strong> instead the of the maven-compiler-plugin. The jar-plugin is the one which is responsible for packaging and creating the manifest.MF.</p>\n<p>From <a href=\"http://maven.apache.org/shared/maven-archiver/examples/classpath.html\" rel=\"noreferrer\">http://maven.apache.org/shared/maven-archiver/examples/classpath.html</a></p>\n<pre><code>  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;!-- Here come other details\n        ...\n        --&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n        &lt;!-- Here come other details\n        ...\n        --&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5972231,"reputation":574,"user_id":4694245,"display_name":"Dagriel"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1430226685,"creation_date":1430226685,"answer_id":29920533,"question_id":29920434,"body_markdown":"You have to use the fully qualified name of your main class:\r\n\r\n    &lt;mainClass&gt;org.jis.Main&lt;/mainClass&gt;","title":"Maven adding mainClass in pom.xml with the right folder path","body":"<p>You have to use the fully qualified name of your main class:</p>\n\n<pre><code>&lt;mainClass&gt;org.jis.Main&lt;/mainClass&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4276718,"reputation":341,"user_id":3497153,"accept_rate":50,"display_name":"tinku"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1460483086,"creation_date":1460483086,"answer_id":36580491,"question_id":29920434,"body_markdown":"Basically Maven is a framework which have a collection of maven-plugin for each and every action performed to build a project.\r\n\r\nEach Build Phase is performed by corresponding maven-plugin using project&#39;s description **Project Object Model(POM)** \r\n\r\nSo maven-compiler plugin is just responsible to compile the project and it won&#39;t create the manifest file.\r\n\r\nmaven-jar-plugin is responsible for creating the manifest file of the project.\r\n\r\n","title":"Maven adding mainClass in pom.xml with the right folder path","body":"<p>Basically Maven is a framework which have a collection of maven-plugin for each and every action performed to build a project.</p>\n\n<p>Each Build Phase is performed by corresponding maven-plugin using project's description <strong>Project Object Model(POM)</strong> </p>\n\n<p>So maven-compiler plugin is just responsible to compile the project and it won't create the manifest file.</p>\n\n<p>maven-jar-plugin is responsible for creating the manifest file of the project.</p>\n"},{"tags":[],"owner":{"account_id":7023762,"reputation":399,"user_id":5382028,"display_name":"Piyush Verma"},"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1505201448,"creation_date":1505201448,"answer_id":46170468,"question_id":29920434,"body_markdown":"In case, You are using Spring Boot Application. Add the below in pom.xml\r\n\r\n             &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nThis will add the Main-Class entry in MANIFEST.MF file.","title":"Maven adding mainClass in pom.xml with the right folder path","body":"<p>In case, You are using Spring Boot Application. Add the below in pom.xml</p>\n\n<pre><code>         &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>This will add the Main-Class entry in MANIFEST.MF file.</p>\n"},{"tags":[],"owner":{"account_id":12119886,"reputation":366,"user_id":8851882,"display_name":"Vinto"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1560328940,"creation_date":1559890824,"answer_id":56489418,"question_id":29920434,"body_markdown":"You may mention as below if it&#39;s a spring boot application.\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.test.MainClass&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;                   \r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n","title":"Maven adding mainClass in pom.xml with the right folder path","body":"<p>You may mention as below if it's a spring boot application.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;com.test.MainClass&lt;/mainClass&gt;\n            &lt;/configuration&gt;                   \n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11086384,"reputation":1,"user_id":8139924,"display_name":"Rog&#233;rio do Carmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612367191,"creation_date":1612367191,"answer_id":66030909,"question_id":29920434,"body_markdown":"It seems that some time has passed since the question but I&#39;ll share the solution I&#39;ve reached for future readings.\r\n\r\nI&#39;m using a Maven Project in the IntellJ IDE. Even using the full path copied from the operation system like: C:\\Users\\Rogerio\\Desktop\\Script\\src\\main\\java\\Controller\\MainClass.java, with or without .java or even trying the com.src... approach the main class was not found while creating the jar file for my application.\r\n\r\n **The solution was putting the CDATA tag inside the mainClass tag of the maven-jar plugin, as follows:**\r\n\r\nMy file structures:\r\n\r\n[A directory imagem structure on IntelliJ][1]\r\n  [1]: https://i.stack.imgur.com/LHCWc.jpg\r\n\r\nInside my maven-jar plugin on pom.xml:\r\n\r\n    `&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;&lt;![CDATA[Controller.MainClass]]&gt;&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n&lt;/plugin&gt;`\r\n\r\n\r\n","title":"Maven adding mainClass in pom.xml with the right folder path","body":"<p>It seems that some time has passed since the question but I'll share the solution I've reached for future readings.</p>\n<p>I'm using a Maven Project in the IntellJ IDE. Even using the full path copied from the operation system like: C:\\Users\\Rogerio\\Desktop\\Script\\src\\main\\java\\Controller\\MainClass.java, with or without .java or even trying the com.src... approach the main class was not found while creating the jar file for my application.</p>\n<p><strong>The solution was putting the CDATA tag inside the mainClass tag of the maven-jar plugin, as follows:</strong></p>\n<p>My file structures:</p>\n<p>[A directory imagem structure on IntelliJ][1]\n[1]: https://i.stack.imgur.com/LHCWc.jpg</p>\n<p>Inside my maven-jar plugin on pom.xml:</p>\n<pre><code>`&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;mainClass&gt;&lt;![CDATA[Controller.MainClass]]&gt;&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n</code></pre>\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":7708270,"reputation":129,"user_id":5838541,"display_name":"djg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613080029,"creation_date":1613080029,"answer_id":66163407,"question_id":29920434,"body_markdown":"Just leaving this here for individuals who were as frustrated as I was trying to get an incredibly simple example to work.\r\n\r\nThe issue I was having is that the maven jar archiver had some bad information cached, so if you are giving it the proper main class (or in my case you don&#39;t actually need to do that with the proper maven version and settings).\r\n\r\nTry blowing away the &quot;target&quot; directory if you are using IntelliJ and have one. The &quot;target&quot; directory being the one maven default places the jar for instance.","title":"Maven adding mainClass in pom.xml with the right folder path","body":"<p>Just leaving this here for individuals who were as frustrated as I was trying to get an incredibly simple example to work.</p>\n<p>The issue I was having is that the maven jar archiver had some bad information cached, so if you are giving it the proper main class (or in my case you don't actually need to do that with the proper maven version and settings).</p>\n<p>Try blowing away the &quot;target&quot; directory if you are using IntelliJ and have one. The &quot;target&quot; directory being the one maven default places the jar for instance.</p>\n"}],"owner":{"account_id":4841041,"reputation":967,"user_id":3906077,"accept_rate":71,"display_name":"NhatNienne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198473,"favorite_count":0,"down_vote_count":0,"up_vote_count":74,"accepted_answer_id":29920526,"answer_count":7,"score":74,"last_activity_date":1682767675,"creation_date":1430226459,"question_id":29920434,"body_markdown":"I want to get a working jar file with my maven project.\r\n\r\nThe build part is:\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.14&lt;/version&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;6.4.1&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\r\n\t\t\t\t\t&lt;configLocation&gt;${basedir}/src/test/resources/checkstyle_swt1.xml&lt;/configLocation&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;descriptor&gt;src/assembly/src.xml&lt;/descriptor&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n\t\t\t\t\t\t&lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                                &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                                &lt;mainClass&gt;org.jis.Main&lt;/mainClass&gt;                                \r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\nSo my problem right now is that I don&#39;T know how to implement the mainclass properly into my pom.xml and later into my jar file.\r\nThe Folder Structure is: src/main/java/org/jis/Main.java\r\nbut if I add the following line\r\n\r\n    &lt;mainClass&gt;src.main.java.org.jis.Main&lt;/mainClass&gt;\r\n\r\nIt doesn&#39;t work.","title":"Maven adding mainClass in pom.xml with the right folder path","body":"<p>I want to get a working jar file with my maven project.</p>\n<p>The build part is:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.14&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\n                    &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\n                    &lt;version&gt;6.4.1&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;configuration&gt;\n                &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\n                &lt;configLocation&gt;${basedir}/src/test/resources/checkstyle_swt1.xml&lt;/configLocation&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;descriptor&gt;src/assembly/src.xml&lt;/descriptor&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                            &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;org.jis.Main&lt;/mainClass&gt;                                \n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p>So my problem right now is that I don'T know how to implement the mainclass properly into my pom.xml and later into my jar file.\nThe Folder Structure is: src/main/java/org/jis/Main.java\nbut if I add the following line</p>\n<pre><code>&lt;mainClass&gt;src.main.java.org.jis.Main&lt;/mainClass&gt;\n</code></pre>\n<p>It doesn't work.</p>\n"},{"tags":["java","html","spring-boot","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":13446567,"reputation":834,"user_id":9702353,"display_name":"Aritra Paul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573005335,"creation_date":1573005335,"answer_id":58722006,"question_id":58720584,"body_markdown":"\r\n\r\nAccording to the official thymeleaf documentation\r\n\r\nhttp://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#fixed-value-boolean-attributes\r\n\r\n`th:checked is considered as a fixed-value Boolean attribute. So try like bellow. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;input type=&quot;checkbox&quot; class=&quot;custom-control-input&quot; th:checked=&quot;${schedule.morning}&quot; \r\n    th:id=&quot;|morning-${schedule.day}|&quot; /&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to change boolean value if checked with checkbox in thymeleaf?","body":"<p>According to the official thymeleaf documentation</p>\n\n<p><a href=\"http://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#fixed-value-boolean-attributes\" rel=\"nofollow noreferrer\">http://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#fixed-value-boolean-attributes</a></p>\n\n<p>`th:checked is considered as a fixed-value Boolean attribute. So try like bellow. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"checkbox\" class=\"custom-control-input\" th:checked=\"${schedule.morning}\" \r\nth:id=\"|morning-${schedule.day}|\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":20198820,"reputation":21,"user_id":14815106,"display_name":"Lachezar Kolev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682765705,"creation_date":1682765705,"answer_id":76135801,"question_id":58720584,"body_markdown":"To set a boolean variable&#39;s value to true / false if a checkbox is checked you have to use:\r\n\r\n    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{booleanVariableName}&quot; /&gt;\r\n\r\nwhere `booleanVariableName` has its setter and getter method named like :\r\n`getBooleanVariableName` and `setBooleanVariableName`. If the name of the \r\ngetter and setter methods is different thymeleaf won&#39;t be able to update the boolean&#39;s value\r\n\r\n\r\n    th:checked=&quot;*{booleanVariableName}&quot;\r\n\r\nworks the other way around displaying the value the boolean&#39;s variable is set to. It won&#39;t update the variable&#39;s value if the checkbox changes its state","title":"How to change boolean value if checked with checkbox in thymeleaf?","body":"<p>To set a boolean variable's value to true / false if a checkbox is checked you have to use:</p>\n<pre><code>&lt;input type=&quot;checkbox&quot; th:field=&quot;*{booleanVariableName}&quot; /&gt;\n</code></pre>\n<p>where <code>booleanVariableName</code> has its setter and getter method named like :\n<code>getBooleanVariableName</code> and <code>setBooleanVariableName</code>. If the name of the\ngetter and setter methods is different thymeleaf won't be able to update the boolean's value</p>\n<pre><code>th:checked=&quot;*{booleanVariableName}&quot;\n</code></pre>\n<p>works the other way around displaying the value the boolean's variable is set to. It won't update the variable's value if the checkbox changes its state</p>\n"}],"owner":{"account_id":13196209,"reputation":41,"user_id":9530939,"display_name":"Russ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5232,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1682765705,"creation_date":1572993811,"question_id":58720584,"body_markdown":"I&#39;m building weekly availability when a new user is registering. I&#39;m using checkboxes to see what part of the day the user is available. For example if user is available on Monday until evening then user checks morning and evening under Monday. \r\n\r\nth:field=&quot;${schedule.morning}&quot; gives me and error.\r\nth:name=&quot;${schedule.morning}&quot; doesn&#39;t change the boolean value.\r\n\r\nSchedule model\r\n```java\r\n    @NotNull\r\n    @NotEmpty(message = &quot;Day of the availability is required.&quot;)\r\n    private String day;\r\n\r\n    @NonNull\r\n    @Column(nullable = false)\r\n    private boolean morning;\r\n\r\n    @NonNull\r\n    @Column(nullable = false)\r\n    private boolean afternoon;\r\n\r\n    @NonNull\r\n    @Column(nullable = false)\r\n    private boolean evening;\r\n```\r\n\r\nController\r\n```java\r\n@GetMapping(&quot;/new-agent&quot;)\r\n    public String register(Model model) {\r\n        ScheduleHelper availability = new ScheduleHelper();\r\n        model.addAttribute(&quot;user&quot;, new User());\r\n        model.addAttribute(&quot;profile&quot;, new Profile());\r\n        model.addAttribute(&quot;schedules&quot;, availability);\r\n        model.addAttribute(&quot;languages&quot;, languages);\r\n        return &quot;profile_reg&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/new-agent&quot;)\r\n    public String registerNewUser(@Valid User user, BindingResult bindingResultUser,\r\n                                  @Valid Profile profile, BindingResult bindingResult,\r\n                                  ScheduleHelper schedules, BindingResult bindingResultSchedule,\r\n                                  Model model, RedirectAttributes redirectAttributes) {\r\n        if(bindingResult.hasErrors() || bindingResultUser.hasErrors() || bindingResultSchedule.hasErrors()) {\r\n            // Show validation errors.\r\n            logger.info(&quot;Errors registering a new user.&quot;);\r\n            model.addAttribute(&quot;validationErrors&quot;, bindingResult.getAllErrors());\r\n            model.addAttribute(&quot;validationErrorsUser&quot;, bindingResultUser.getAllErrors());\r\n            model.addAttribute(&quot;validationErrorsSchedule&quot;, bindingResultSchedule.getAllErrors());\r\n            model.addAttribute(&quot;user&quot;, user);\r\n            model.addAttribute(&quot;profile&quot;, profile);\r\n            model.addAttribute(&quot;schedules&quot;, schedules);\r\n            model.addAttribute(&quot;languages&quot;, languages);\r\n            return &quot;profile_reg&quot;;\r\n        } else {\r\n            schedules.print();\r\n            // Register new user.\r\n            User newUser = userService.register(user);\r\n            profile.setUser(newUser);\r\n            Profile newProfile = profileService.register(profile);\r\n            for(int i = 0; i &lt; 7; i++) {\r\n                Schedule newSchedule = schedules.getSchedule(i);\r\n                newSchedule.setProfile(newProfile);\r\n                scheduleService.register(newSchedule);\r\n            }\r\n            redirectAttributes\r\n                    .addFlashAttribute(&quot;id&quot;, newUser.getId())\r\n                    .addFlashAttribute(&quot;success&quot;, true);\r\n            return &quot;redirect:/new-agent&quot;;\r\n        }\r\n    }\r\n```\r\n\r\nHelper Class to pass the list when submitting\r\n``` \r\n@Getter\r\n@Setter\r\npublic class ScheduleHelper {\r\n    private List&lt;Schedule&gt; schedules;\r\n    ScheduleHelper(){\r\n        schedules = new ArrayList&lt;&gt;();\r\n        String[] week = {&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot;};\r\n        for(int i = 0; i &lt; 7; i++) {\r\n            schedules.add(new Schedule(week[i]));\r\n        }\r\n    }\r\n    void print(){\r\n        Schedule schedule = schedules.get(1);\r\n        System.out.println(schedule.isMorning() + &quot; &quot; + schedule.isAfternoon() + &quot; &quot; + schedule.isEvening() + &quot; &quot; + schedule.getTest());\r\n    }\r\n\r\n    void addDay(String day){\r\n        schedules.add(new Schedule(day));\r\n    }\r\n\r\n```\r\n\r\n```html\r\n&lt;h4 class=&quot;text-uppercase d-flex justify-content-center&quot; style=&quot;color: #4267b2; margin-top: 10vh; margin-bottom: 3vh;&quot;&gt;availability&lt;br /&gt;&lt;/h4&gt;\r\n            &lt;th:block th:each=&quot;schedule : ${schedules.getSchedules()}&quot;&gt;\r\n              &lt;h1 class=&quot;display-4 text-center day-heading&quot; th:text=&quot;${schedule.day}&quot;&gt;Tuesday&lt;/h1&gt;\r\n              &lt;div class=&quot;form-group d-flex justify-content-center&quot; style=&quot;margin-bottom: 20px;&quot;&gt;\r\n                &lt;div class=&quot;custom-control custom-checkbox&quot; style=&quot;margin-right: 10px;&quot;&gt;\r\n                  &lt;input type=&quot;checkbox&quot; class=&quot;custom-control-input&quot;\r\n                         th:field=&quot;${schedule.morning}&quot; value=&quot;1&quot;\r\n                         th:id=&quot;|morning-${schedule.day}|&quot; /&gt;\r\n                  &lt;label class=&quot;custom-control-label&quot; th:for=&quot;|morning-${schedule.day}|&quot;&gt;Morning&lt;/label&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;custom-control custom-checkbox&quot; style=&quot;margin-right: 10px;&quot;&gt;\r\n                  &lt;input type=&quot;checkbox&quot; class=&quot;custom-control-input&quot;\r\n                         th:field=&quot;${schedule.afternoon}&quot; value=&quot;1&quot;\r\n                         th:id=&quot;|afternoon-${schedule.day}|&quot; /&gt;\r\n                  &lt;label class=&quot;custom-control-label&quot; th:for=&quot;|afternoon-${schedule.day}|&quot;&gt;Afternoon&lt;/label&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;custom-control custom-checkbox&quot; style=&quot;margin-right: 10px;&quot;&gt;\r\n                  &lt;input type=&quot;checkbox&quot; class=&quot;custom-control-input&quot;\r\n                         th:field=&quot;${schedule.evening}&quot; value=&quot;1&quot;\r\n                         th:id=&quot;|evening-${schedule.day}|&quot; /&gt;\r\n                  &lt;label class=&quot;custom-control-label&quot; th:for=&quot;|evening-${schedule.day}|&quot;&gt;Evening&lt;/label&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/th:block&gt;\r\n```\r\n\r\nHere&#39;s the error log when I try to request /new-agent page:\r\n```\r\n    An error happened during template parsing (template: &quot;class path resource [templates/profile_reg.html]&quot;)\r\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/profile_reg.html]&quot;)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n\tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1372)\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:150)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: org.attoparser.ParseException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputCheckboxFieldTagProcessor&#39; (template: &quot;profile_reg&quot; - line 239, col 26)\r\n\tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\r\n\tat org.attoparser.MarkupParser.parse(MarkupParser.java:257)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\r\n\t... 95 more\r\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputCheckboxFieldTagProcessor&#39; (template: &quot;profile_reg&quot; - line 239, col 26)\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\r\n\tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n\tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)\r\n\tat org.thymeleaf.engine.StandaloneElementTag.beHandled(StandaloneElementTag.java:228)\r\n\tat org.thymeleaf.engine.Model.process(Model.java:282)\r\n\tat org.thymeleaf.engine.Model.process(Model.java:290)\r\n\tat org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)\r\n\tat org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)\r\n\tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)\r\n\tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)\r\n\tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)\r\n\tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)\r\n\tat org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)\r\n\tat org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)\r\n\tat org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)\r\n\tat org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)\r\n\tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)\r\n\tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\r\n\t... 97 more\r\nCaused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;schedule&#39; available as request attribute\r\n\tat org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153)\r\n\tat org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:904)\r\n\tat org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227)\r\n\tat org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306)\r\n\tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253)\r\n\tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227)\r\n\tat org.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174)\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n\t... 116 more\r\n```\r\n\r\nI want the program to change the boolean value from false to true when checkbox is checked.","title":"How to change boolean value if checked with checkbox in thymeleaf?","body":"<p>I'm building weekly availability when a new user is registering. I'm using checkboxes to see what part of the day the user is available. For example if user is available on Monday until evening then user checks morning and evening under Monday. </p>\n\n<p>th:field=\"${schedule.morning}\" gives me and error.\nth:name=\"${schedule.morning}\" doesn't change the boolean value.</p>\n\n<p>Schedule model</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @NotNull\n    @NotEmpty(message = \"Day of the availability is required.\")\n    private String day;\n\n    @NonNull\n    @Column(nullable = false)\n    private boolean morning;\n\n    @NonNull\n    @Column(nullable = false)\n    private boolean afternoon;\n\n    @NonNull\n    @Column(nullable = false)\n    private boolean evening;\n</code></pre>\n\n<p>Controller</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(\"/new-agent\")\n    public String register(Model model) {\n        ScheduleHelper availability = new ScheduleHelper();\n        model.addAttribute(\"user\", new User());\n        model.addAttribute(\"profile\", new Profile());\n        model.addAttribute(\"schedules\", availability);\n        model.addAttribute(\"languages\", languages);\n        return \"profile_reg\";\n    }\n\n    @PostMapping(\"/new-agent\")\n    public String registerNewUser(@Valid User user, BindingResult bindingResultUser,\n                                  @Valid Profile profile, BindingResult bindingResult,\n                                  ScheduleHelper schedules, BindingResult bindingResultSchedule,\n                                  Model model, RedirectAttributes redirectAttributes) {\n        if(bindingResult.hasErrors() || bindingResultUser.hasErrors() || bindingResultSchedule.hasErrors()) {\n            // Show validation errors.\n            logger.info(\"Errors registering a new user.\");\n            model.addAttribute(\"validationErrors\", bindingResult.getAllErrors());\n            model.addAttribute(\"validationErrorsUser\", bindingResultUser.getAllErrors());\n            model.addAttribute(\"validationErrorsSchedule\", bindingResultSchedule.getAllErrors());\n            model.addAttribute(\"user\", user);\n            model.addAttribute(\"profile\", profile);\n            model.addAttribute(\"schedules\", schedules);\n            model.addAttribute(\"languages\", languages);\n            return \"profile_reg\";\n        } else {\n            schedules.print();\n            // Register new user.\n            User newUser = userService.register(user);\n            profile.setUser(newUser);\n            Profile newProfile = profileService.register(profile);\n            for(int i = 0; i &lt; 7; i++) {\n                Schedule newSchedule = schedules.getSchedule(i);\n                newSchedule.setProfile(newProfile);\n                scheduleService.register(newSchedule);\n            }\n            redirectAttributes\n                    .addFlashAttribute(\"id\", newUser.getId())\n                    .addFlashAttribute(\"success\", true);\n            return \"redirect:/new-agent\";\n        }\n    }\n</code></pre>\n\n<p>Helper Class to pass the list when submitting</p>\n\n<pre><code>@Getter\n@Setter\npublic class ScheduleHelper {\n    private List&lt;Schedule&gt; schedules;\n    ScheduleHelper(){\n        schedules = new ArrayList&lt;&gt;();\n        String[] week = {\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"};\n        for(int i = 0; i &lt; 7; i++) {\n            schedules.add(new Schedule(week[i]));\n        }\n    }\n    void print(){\n        Schedule schedule = schedules.get(1);\n        System.out.println(schedule.isMorning() + \" \" + schedule.isAfternoon() + \" \" + schedule.isEvening() + \" \" + schedule.getTest());\n    }\n\n    void addDay(String day){\n        schedules.add(new Schedule(day));\n    }\n\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;h4 class=\"text-uppercase d-flex justify-content-center\" style=\"color: #4267b2; margin-top: 10vh; margin-bottom: 3vh;\"&gt;availability&lt;br /&gt;&lt;/h4&gt;\n            &lt;th:block th:each=\"schedule : ${schedules.getSchedules()}\"&gt;\n              &lt;h1 class=\"display-4 text-center day-heading\" th:text=\"${schedule.day}\"&gt;Tuesday&lt;/h1&gt;\n              &lt;div class=\"form-group d-flex justify-content-center\" style=\"margin-bottom: 20px;\"&gt;\n                &lt;div class=\"custom-control custom-checkbox\" style=\"margin-right: 10px;\"&gt;\n                  &lt;input type=\"checkbox\" class=\"custom-control-input\"\n                         th:field=\"${schedule.morning}\" value=\"1\"\n                         th:id=\"|morning-${schedule.day}|\" /&gt;\n                  &lt;label class=\"custom-control-label\" th:for=\"|morning-${schedule.day}|\"&gt;Morning&lt;/label&gt;\n                &lt;/div&gt;\n                &lt;div class=\"custom-control custom-checkbox\" style=\"margin-right: 10px;\"&gt;\n                  &lt;input type=\"checkbox\" class=\"custom-control-input\"\n                         th:field=\"${schedule.afternoon}\" value=\"1\"\n                         th:id=\"|afternoon-${schedule.day}|\" /&gt;\n                  &lt;label class=\"custom-control-label\" th:for=\"|afternoon-${schedule.day}|\"&gt;Afternoon&lt;/label&gt;\n                &lt;/div&gt;\n                &lt;div class=\"custom-control custom-checkbox\" style=\"margin-right: 10px;\"&gt;\n                  &lt;input type=\"checkbox\" class=\"custom-control-input\"\n                         th:field=\"${schedule.evening}\" value=\"1\"\n                         th:id=\"|evening-${schedule.day}|\" /&gt;\n                  &lt;label class=\"custom-control-label\" th:for=\"|evening-${schedule.day}|\"&gt;Evening&lt;/label&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/th:block&gt;\n</code></pre>\n\n<p>Here's the error log when I try to request /new-agent page:</p>\n\n<pre><code>    An error happened during template parsing (template: \"class path resource [templates/profile_reg.html]\")\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: \"class path resource [templates/profile_reg.html]\")\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1372)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:150)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.attoparser.ParseException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringInputCheckboxFieldTagProcessor' (template: \"profile_reg\" - line 239, col 26)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\n    ... 95 more\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringInputCheckboxFieldTagProcessor' (template: \"profile_reg\" - line 239, col 26)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)\n    at org.thymeleaf.engine.StandaloneElementTag.beHandled(StandaloneElementTag.java:228)\n    at org.thymeleaf.engine.Model.process(Model.java:282)\n    at org.thymeleaf.engine.Model.process(Model.java:290)\n    at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)\n    at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)\n    at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)\n    at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)\n    at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)\n    at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\n    ... 97 more\nCaused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'schedule' available as request attribute\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153)\n    at org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:904)\n    at org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227)\n    at org.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n    ... 116 more\n</code></pre>\n\n<p>I want the program to change the boolean value from false to true when checkbox is checked.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1682760433,"post_id":76135427,"comment_id":134268622,"body_markdown":"Why do you need it? Also you should post a relevant code to your problem. Just posting a error message doesn&#39;t help.","body":"Why do you need it? Also you should post a relevant code to your problem. Just posting a error message doesn&#39;t help."},{"owner":{"account_id":14322830,"reputation":39,"user_id":10345705,"display_name":"Grand Skunk"},"score":0,"creation_date":1682760734,"post_id":76135427,"comment_id":134268647,"body_markdown":"I want the user to be able to access the page via a token they are given. I have already given the code where I am having the problem","body":"I want the user to be able to access the page via a token they are given. I have already given the code where I am having the problem"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682762068,"post_id":76135427,"comment_id":134268756,"body_markdown":"Check your question text. Apparently you are calling &#39;update-form&#39; but the mapping you have defined is for &#39;update-password&#39;.","body":"Check your question text. Apparently you are calling &#39;update-form&#39; but the mapping you have defined is for &#39;update-password&#39;."},{"owner":{"account_id":14322830,"reputation":39,"user_id":10345705,"display_name":"Grand Skunk"},"score":0,"creation_date":1682762245,"post_id":76135427,"comment_id":134268774,"body_markdown":"Sorry I have updated this now.","body":"Sorry I have updated this now."}],"answers":[{"tags":[],"owner":{"account_id":5247691,"reputation":305,"user_id":4192839,"display_name":"CyberMafia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682765448,"creation_date":1682765448,"answer_id":76135784,"question_id":76135427,"body_markdown":"Did you try to map the path variable explicitly? Might help. \r\n\r\nCan you try changing this:\r\n```\r\n@GetMapping(&quot;/update-password/{id}&quot;)\r\npublic String updatePasswordForm(@PathVariable String id, Model model, HttpServletRequest request)\r\n```\r\n\r\nto:\r\n```\r\n@GetMapping(&quot;/update-password/{id}&quot;)\r\npublic String updatePasswordForm(@PathVariable(&quot;id&quot;) String id, Model model, HttpServletRequest request)\r\n```\r\nor\r\n```\r\n@GetMapping(&quot;/update-password/id/{id}&quot;)\r\npublic String updatePasswordForm(@PathVariable String id, Model model, HttpServletRequest request)\r\n```","title":"Spring @PathVariable annotation not working","body":"<p>Did you try to map the path variable explicitly? Might help.</p>\n<p>Can you try changing this:</p>\n<pre><code>@GetMapping(&quot;/update-password/{id}&quot;)\npublic String updatePasswordForm(@PathVariable String id, Model model, HttpServletRequest request)\n</code></pre>\n<p>to:</p>\n<pre><code>@GetMapping(&quot;/update-password/{id}&quot;)\npublic String updatePasswordForm(@PathVariable(&quot;id&quot;) String id, Model model, HttpServletRequest request)\n</code></pre>\n<p>or</p>\n<pre><code>@GetMapping(&quot;/update-password/id/{id}&quot;)\npublic String updatePasswordForm(@PathVariable String id, Model model, HttpServletRequest request)\n</code></pre>\n"}],"owner":{"account_id":14322830,"reputation":39,"user_id":10345705,"display_name":"Grand Skunk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76135784,"answer_count":1,"score":-1,"last_activity_date":1682765448,"creation_date":1682759826,"question_id":76135427,"body_markdown":" \r\nI have tried adding the @PathVariable annotation to my getmapping so that instead of going to the ../update-passwordpage, they have to go through /update-password/{id}. I just tried testing this by adding the @PathVariable in but when I try go ../update-password/test for example, it just doesn&#39;t load the page. \r\n\r\nIs there something else I need to add, do I need to add this in the @PostMapping as well?\r\n\r\n\r\n\r\n    @Controller\r\n    public class UpdatePasswordController {\r\n        Logger logger = LoggerFactory.getLogger(UpdatePasswordController.class);\r\n    \r\n        @Autowired\r\n        UserService userService;\r\n    \r\n        Optional&lt;User&gt; testUser;\r\n        User currentUser;\r\n    \r\n  \r\n    \r\n        /**\r\n         * Gets update password form to be displayed\r\n         * @param model\r\n         * @return\r\n         */\r\n        @GetMapping(&quot;/update-password/{id}&quot;)\r\n        public String updatePasswordForm(@PathVariable String id, Model model, HttpServletRequest request) {\r\n            model.addAttribute(&quot;updatePasswordForm&quot;, new UpdatePasswordForm());\r\n            model.addAttribute(&quot;httpServletRequest&quot;,request);\r\n            logger.info(&quot;this is id&quot;);\r\n            logger.info(id);\r\n            return &quot;updatePassword&quot;;\r\n        }\r\n    \r\n        @PostMapping(&quot;/update-password&quot;)\r\n        public String submitEmail(\r\n                @RequestParam(&quot;password&quot;) String password,\r\n                @Validated UpdatePasswordForm updatePasswordForm,\r\n                BindingResult bindingResult,\r\n                Model model,\r\n                HttpServletResponse httpServletResponse,\r\n                HttpServletRequest request) {\r\n    \r\n          \r\n          \r\n            model.addAttribute(&quot;httpServletRequest&quot;,request);\r\n    \r\n    \r\n            if (bindingResult.hasErrors()) {\r\n                httpServletResponse.setStatus(HttpServletResponse.SC_BAD_REQUEST);\r\n                model.addAttribute(&quot;submitted_form&quot;, null);\r\n                return &quot;updatePassword&quot;;\r\n            }\r\n    \r\n    \r\n            currentUser.setPassword(password);\r\n            userService.updateOrAddUser(currentUser);\r\n    \r\n    \r\n            return &quot;login&quot;;\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\n\r\nIt also gives me this message in the logs sometimes, not sure if it is related: `Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;GET&#39; is not supported]`\r\n","title":"Spring @PathVariable annotation not working","body":"<p>I have tried adding the @PathVariable annotation to my getmapping so that instead of going to the ../update-passwordpage, they have to go through /update-password/{id}. I just tried testing this by adding the @PathVariable in but when I try go ../update-password/test for example, it just doesn't load the page.</p>\n<p>Is there something else I need to add, do I need to add this in the @PostMapping as well?</p>\n<pre><code>@Controller\npublic class UpdatePasswordController {\n    Logger logger = LoggerFactory.getLogger(UpdatePasswordController.class);\n\n    @Autowired\n    UserService userService;\n\n    Optional&lt;User&gt; testUser;\n    User currentUser;\n\n\n\n    /**\n     * Gets update password form to be displayed\n     * @param model\n     * @return\n     */\n    @GetMapping(&quot;/update-password/{id}&quot;)\n    public String updatePasswordForm(@PathVariable String id, Model model, HttpServletRequest request) {\n        model.addAttribute(&quot;updatePasswordForm&quot;, new UpdatePasswordForm());\n        model.addAttribute(&quot;httpServletRequest&quot;,request);\n        logger.info(&quot;this is id&quot;);\n        logger.info(id);\n        return &quot;updatePassword&quot;;\n    }\n\n    @PostMapping(&quot;/update-password&quot;)\n    public String submitEmail(\n            @RequestParam(&quot;password&quot;) String password,\n            @Validated UpdatePasswordForm updatePasswordForm,\n            BindingResult bindingResult,\n            Model model,\n            HttpServletResponse httpServletResponse,\n            HttpServletRequest request) {\n\n      \n      \n        model.addAttribute(&quot;httpServletRequest&quot;,request);\n\n\n        if (bindingResult.hasErrors()) {\n            httpServletResponse.setStatus(HttpServletResponse.SC_BAD_REQUEST);\n            model.addAttribute(&quot;submitted_form&quot;, null);\n            return &quot;updatePassword&quot;;\n        }\n\n\n        currentUser.setPassword(password);\n        userService.updateOrAddUser(currentUser);\n\n\n        return &quot;login&quot;;\n    }\n\n\n\n}\n</code></pre>\n<p>It also gives me this message in the logs sometimes, not sure if it is related: <code>Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]</code></p>\n"},{"tags":["java","eclipse","spring","hibernate","maven"],"answers":[{"tags":[],"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1414557147,"creation_date":1414557147,"answer_id":26622825,"question_id":26622228,"body_markdown":"You&#39;re having a problem because you&#39;re using relatively old frameworks. They are dependent upon a version of JTA that could not be made available in a public repository due to licensing restrictions. In that era there were a number of artifacts like this that we had to download from Sun (after agreeing to the licence) and install in our own local repository.\r\n\r\nThankfully, in your case you just need to add:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nto your pom.xml and that should override the older version.\r\n\r\nThis is a newer version but it only contains API classes (not implementations) and I believe that it is backward compatible.\r\n","title":"Failure to find javax.transaction:jta: in maven","body":"<p>You're having a problem because you're using relatively old frameworks. They are dependent upon a version of JTA that could not be made available in a public repository due to licensing restrictions. In that era there were a number of artifacts like this that we had to download from Sun (after agreeing to the licence) and install in our own local repository.</p>\n\n<p>Thankfully, in your case you just need to add:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n    &lt;artifactId&gt;jta&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>to your pom.xml and that should override the older version.</p>\n\n<p>This is a newer version but it only contains API classes (not implementations) and I believe that it is backward compatible.</p>\n"}],"owner":{"account_id":2304775,"reputation":89,"user_id":2024255,"display_name":"Rajendra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4699,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1682764841,"creation_date":1414552693,"question_id":26622228,"body_markdown":"I just created web application using maven -3.2.3 and there after i just some dependencies in pom.xml next just right click on my pom.xml--&gt;RunAs--&gt;maven install.All jars are downloaded.Then while trying to build(like my pom.xml--&gt;RunAs--&gt;maven build) i got one pop up to set goal. i just typed goal field as a &quot;package&quot; --&gt;run.\r\n i am facing below issue\r\n\r\n    Downloaded: http://repo.maven.apache.org/maven2/org/springframework/spring/2.5.6/spring-2.5.6.jar (2881 KB at 3.3 KB/sec)\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 15:26.448s\r\n    [INFO] Finished at: Wed Oct 29 08:33:31 IST 2014\r\n    [INFO] Final Memory: 4M/15M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal on project SpringMVCMaven: Could not resolve dependencies for project com.rajendra.spring:SpringMVCMaven:war:1.0: Failure to find javax.transaction:jta:jar:1.0.1B in http://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n\r\nand for reference below is the pom.xml\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.rajendra.spring&lt;/groupId&gt;\r\n      &lt;artifactId&gt;SpringMVCMaven&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;1.0&lt;/version&gt;\r\n      &lt;name&gt;SpringMVCMaven Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;spring&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;2.5.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n        \t        &lt;groupId&gt;cglib&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\n    \t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.3.ga&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n     \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;antlr&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;antlr&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;finalName&gt;SpringMVCMaven&lt;/finalName&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nCould you suggest me where exactly things are getting wrong. Appreciating your help here\r\n","title":"Failure to find javax.transaction:jta: in maven","body":"<p>I just created web application using maven -3.2.3 and there after i just some dependencies in pom.xml next just right click on my pom.xml-->RunAs-->maven install.All jars are downloaded.Then while trying to build(like my pom.xml-->RunAs-->maven build) i got one pop up to set goal. i just typed goal field as a \"package\" -->run.\n i am facing below issue</p>\n\n<pre><code>Downloaded: http://repo.maven.apache.org/maven2/org/springframework/spring/2.5.6/spring-2.5.6.jar (2881 KB at 3.3 KB/sec)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 15:26.448s\n[INFO] Finished at: Wed Oct 29 08:33:31 IST 2014\n[INFO] Final Memory: 4M/15M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project SpringMVCMaven: Could not resolve dependencies for project com.rajendra.spring:SpringMVCMaven:war:1.0: Failure to find javax.transaction:jta:jar:1.0.1B in http://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n</code></pre>\n\n<p>and for reference below is the pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.rajendra.spring&lt;/groupId&gt;\n  &lt;artifactId&gt;SpringMVCMaven&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n  &lt;name&gt;SpringMVCMaven Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring&lt;/artifactId&gt;\n            &lt;version&gt;2.5.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n                &lt;groupId&gt;cglib&lt;/groupId&gt;\n        &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate&lt;/artifactId&gt;\n    &lt;version&gt;3.2.3.ga&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;dom4j&lt;/groupId&gt;\n        &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n        &lt;version&gt;1.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;antlr&lt;/groupId&gt;\n        &lt;artifactId&gt;antlr&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;SpringMVCMaven&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Could you suggest me where exactly things are getting wrong. Appreciating your help here</p>\n"},{"tags":["java","tomcat8"],"comments":[{"owner":{"account_id":6175645,"reputation":1443,"user_id":4812613,"display_name":"Scott Sosna"},"score":0,"creation_date":1456969929,"post_id":35761657,"comment_id":59196447,"body_markdown":"does it matter what browser you use?  Chrome v. Firefox v. IE v. Safari?","body":"does it matter what browser you use?  Chrome v. Firefox v. IE v. Safari?"},{"owner":{"account_id":307579,"reputation":1692,"user_id":618951,"accept_rate":94,"display_name":"RisingSun"},"score":1,"creation_date":1456970416,"post_id":35761657,"comment_id":59196595,"body_markdown":"what exactly do you mean by navigate away? close the page? switch a tab? go to a different page on the same site? a broken pipe means the connection between the server and the client has been severed before the page finished loading. btw, 2mb image on a site is too bit even if it is the only thing there.","body":"what exactly do you mean by navigate away? close the page? switch a tab? go to a different page on the same site? a broken pipe means the connection between the server and the client has been severed before the page finished loading. btw, 2mb image on a site is too bit even if it is the only thing there."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1456973376,"post_id":35761657,"comment_id":59197360,"body_markdown":"This exception has been *caught.* That means it hasn&#39;t even killed the thread it was thrown in, let alone the entire Tomcat. I suggest that problem lies elsewhere.","body":"This exception has been <i>caught.</i> That means it hasn&#39;t even killed the thread it was thrown in, let alone the entire Tomcat. I suggest that problem lies elsewhere."},{"owner":{"account_id":5489189,"reputation":89,"user_id":4363061,"display_name":"Steve Swett"},"score":0,"creation_date":1457083085,"post_id":35761657,"comment_id":59254182,"body_markdown":"Khuderm, by navigate away I mean click a link that goes elsewhere -- like a link on the browser Bookmarks Bar that goes to a different site.  Since the original post, I used https://tinypng.com/ to reduce my splash background image size to 539 KB.","body":"Khuderm, by navigate away I mean click a link that goes elsewhere -- like a link on the browser Bookmarks Bar that goes to a different site.  Since the original post, I used <a href=\"https://tinypng.com/\" rel=\"nofollow noreferrer\">tinypng.com</a> to reduce my splash background image size to 539 KB."},{"owner":{"account_id":5489189,"reputation":89,"user_id":4363061,"display_name":"Steve Swett"},"score":0,"creation_date":1457083630,"post_id":35761657,"comment_id":59254564,"body_markdown":"EJP, yes, the exception is caught.  Technically, it probably hasn&#39;t killed Tomcat, but my web app stops responding to requests, and the Tomcat Manager web app no longer works.  I have to restart the Tomcat service to recover.","body":"EJP, yes, the exception is caught.  Technically, it probably hasn&#39;t killed Tomcat, but my web app stops responding to requests, and the Tomcat Manager web app no longer works.  I have to restart the Tomcat service to recover."},{"owner":{"account_id":5489189,"reputation":89,"user_id":4363061,"display_name":"Steve Swett"},"score":0,"creation_date":1457083906,"post_id":35761657,"comment_id":59254756,"body_markdown":"So far, with the reduction in image file size, I haven&#39;t been able to reproduce the problem in production myself, but my Internet download speed (47 Mbps) might be too high to catch it .  Over the next few days, I&#39;ll see if other users/circumstances cause it to break.  Will keep you posted.","body":"So far, with the reduction in image file size, I haven&#39;t been able to reproduce the problem in production myself, but my Internet download speed (47 Mbps) might be too high to catch it .  Over the next few days, I&#39;ll see if other users/circumstances cause it to break.  Will keep you posted."},{"owner":{"account_id":73701,"reputation":17468,"user_id":212107,"accept_rate":100,"display_name":"Gerald Schneider"},"score":0,"creation_date":1457084724,"post_id":35761657,"comment_id":59255271,"body_markdown":"Another option: If you use apache, nginx or a similar webserver as a reverse proxy you can offload static resources to be loaded directly from the webserver, thus reducing load from your tomcat.","body":"Another option: If you use apache, nginx or a similar webserver as a reverse proxy you can offload static resources to be loaded directly from the webserver, thus reducing load from your tomcat."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1512982491,"post_id":35761657,"comment_id":82458566,"body_markdown":"@SteveSwett So if the exception has been caught, your claim that it has &#39;brought down the Tomcat site&#39; is incorrect. If you have *another* problem, post it.","body":"@SteveSwett So if the exception has been caught, your claim that it has &#39;brought down the Tomcat site&#39; is incorrect. If you have <i>another</i> problem, post it."}],"answers":[{"tags":[],"owner":{"account_id":5489189,"reputation":89,"user_id":4363061,"display_name":"Steve Swett"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457521176,"creation_date":1457521176,"answer_id":35889674,"question_id":35761657,"body_markdown":"After making a couple changes, the problem hasn&#39;t occurred in production.  The most impactful change was to reduce the size of my background/splash image.  The other change was that I increased the Tomcat Connector connectionTimeout attribute setting 6-fold.","title":"How do I prevent &quot;Broken pipe&quot; from taking down my tomcat web site?","body":"<p>After making a couple changes, the problem hasn't occurred in production.  The most impactful change was to reduce the size of my background/splash image.  The other change was that I increased the Tomcat Connector connectionTimeout attribute setting 6-fold.</p>\n"}],"owner":{"account_id":5489189,"reputation":89,"user_id":4363061,"display_name":"Steve Swett"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18578,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":1,"score":6,"last_activity_date":1682764258,"creation_date":1456969817,"question_id":35761657,"body_markdown":"I have a Tomcat 8 web application that uses a 2 MB png image as a &quot;splash/landing page&quot; background.  The image is referenced in an external stylesheet.\r\n\r\nIf I clear my browser cache, directly request the URL of the image, but navigate away from the image before it has loaded, it will completely kill my web application.  It fails to provide any more responses for any requests.\r\n\r\nI get this error:\r\n\r\n    org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\r\n            at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:396)\r\n            at org.apache.tomcat.util.buf.ByteChunk.append(ByteChunk.java:344)\r\n            at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:421)\r\n            at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:409)\r\n            at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:97)\r\n            at org.apache.catalina.servlets.DefaultServlet.copy(DefaultServlet.java:1795)\r\n            at org.apache.catalina.servlets.DefaultServlet.serveResource(DefaultServlet.java:919)\r\n            at org.apache.catalina.servlets.DefaultServlet.doGet(DefaultServlet.java:400)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n            at other.JsCssImgResponseHeaderFilter.doFilter(JsCssImgResponseHeaderFilter.java:36)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n            at other.CatchAnyExceptionFilter.doFilter(CatchAnyExceptionFilter.java:39)\r\n\r\n\r\nI&#39;m trying to catch that exception (or any exception for that matter) and show a friendly ErrorPage.jsp, but I can&#39;t redirect to the ErrorPage because the response has already been committed.\r\n\r\nI am unable to duplicate this in a test environment, but I can make it break at will in production.\r\n\r\nDoes anyone know what my options are for solving this kind of problem?  Thanks in advance.\r\n\r\nBTW, here is what my Filter class&#39;s doFilter method looks like:\r\n\r\n        public void doFilter(ServletRequest req,\r\n                         ServletResponse res,\r\n                         FilterChain fc) throws IOException, ServletException\r\n    {\r\n        HttpServletRequest request = (HttpServletRequest) req;\r\n        HttpServletResponse response = (HttpServletResponse) res;\r\n\t    HttpSession session = request.getSession();\r\n\t        \r\n        try\r\n        {\r\n            fc.doFilter(req, res);\r\n            \r\n            // Have learned that response headers should not be set until we have determined there won&#39;t be an exception.\r\n            // Can&#39;t easily redirect or forward (to an error page, for example) if headers have already been committed.\r\n            \r\n            if (SessionHelper.hasNeedsJsCssImgResponseHeaderFlag(request))\r\n            {\r\n                Calendar cal = Calendar.getInstance();\r\n                cal.add(Calendar.SECOND, JsCssImgResponseHeaderFilter.SECONDS_TO_CACHE);\r\n                response.setHeader(&quot;Cache-Control&quot;, &quot;PUBLIC, max-age=&quot; + JsCssImgResponseHeaderFilter.SECONDS_TO_CACHE + &quot;, must-revalidate&quot;);\r\n                response.setHeader(&quot;Expires&quot;, DateUtils.getDateInExpiresHeaderFormat(cal.getTime()));\r\n            }\r\n            else if (SessionHelper.hasNeedsDynamicPageResponseHeaderFlag(request))\r\n            {\r\n                response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n                response.setHeader(&quot;Expires&quot;, &quot;Mon, 25 Nov 2013 00:00:01 GMT&quot;);   // in the past\r\n            }\r\n            else if (SessionHelper.hasNeedsRestServicesResponseHeaderFlag(request))\r\n            {\r\n                // CORS - Cross Origin Resource Sharing: allow service requests from other domains -- \r\n                // such as local development domains hosting AngularJS projects.\r\n                \r\n        \t\tresponse.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost.domain.com:8080&quot;);\r\n        \t\t\r\n        \t\tresponse.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, OPTIONS, PUT, DELETE&quot;);\r\n        \t\t// response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;*&quot;);\r\n        \t\t\r\n        \t\tresponse.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, X-Requested-With&quot;);\r\n            }\r\n        }\r\n        catch (Exception e)\r\n        {\r\n        \tSessionHelper.setErrorPageException(req, session, e);\r\n    \t\tfinal String uri = request.getRequestURI();\r\n    \t\tfinal String playerName = SessionHelper.getLoggedInPlayerName(session);\r\n    \t\t\r\n    \t\tString outerLogEntryText = &quot;Player = &quot; + playerName + &quot; - IP = &quot; + request.getRemoteAddr() + \r\n    \t\t\t\t&quot; - Mobile = &quot; + SessionHelper.isMobileBrowser(request) +\r\n    \t\t\t\t&quot; - URI = &quot; + uri + &quot; - Exception MSG = &quot; + e.getMessage();\r\n    \t\t\r\n    \t\tLogUtils.writeLogEntry(outerLogEntryText, true, e);\r\n    \t\tSessionHelper.setRedirectPage(session, SessionHelper.ERROR_PAGE_PATH);\r\n        }\r\n        finally\r\n        {\r\n        \tString redirectPage = SessionHelper.getRedirectPage(session);\r\n        \tSessionHelper.clearRedirectPage(session);\r\n        \t\r\n        \tif (redirectPage != null)\r\n        \t{\r\n        \t\tif (response.isCommitted())\r\n        \t\t{\r\n        \t\t\t// Article: http://stackoverflow.com/questions/11305563/cause-of-servlets-response-already-committed\r\n        \t\t\tSystem.out.println(&quot;Response has been committed.  Cannot redirect to: &quot; + redirectPage);\r\n        \t\t}\r\n        \t\telse\r\n        \t\t{\r\n            \t\tresponse.sendRedirect(redirectPage);\r\n        \t\t}\r\n        \t}\r\n        }\r\n    }\r\n\r\nWhen the problem occurs, my &quot;Response has been committed...&quot; output statement is indeed written, therefore it is not redirecting to my error page.  That&#39;s my challenge: how to redirect somewhere when this happens -- or take some better/harmless action.","title":"How do I prevent &quot;Broken pipe&quot; from taking down my tomcat web site?","body":"<p>I have a Tomcat 8 web application that uses a 2 MB png image as a \"splash/landing page\" background.  The image is referenced in an external stylesheet.</p>\n\n<p>If I clear my browser cache, directly request the URL of the image, but navigate away from the image before it has loaded, it will completely kill my web application.  It fails to provide any more responses for any requests.</p>\n\n<p>I get this error:</p>\n\n<pre><code>org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\n        at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:396)\n        at org.apache.tomcat.util.buf.ByteChunk.append(ByteChunk.java:344)\n        at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:421)\n        at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:409)\n        at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:97)\n        at org.apache.catalina.servlets.DefaultServlet.copy(DefaultServlet.java:1795)\n        at org.apache.catalina.servlets.DefaultServlet.serveResource(DefaultServlet.java:919)\n        at org.apache.catalina.servlets.DefaultServlet.doGet(DefaultServlet.java:400)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n        at other.JsCssImgResponseHeaderFilter.doFilter(JsCssImgResponseHeaderFilter.java:36)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n        at other.CatchAnyExceptionFilter.doFilter(CatchAnyExceptionFilter.java:39)\n</code></pre>\n\n<p>I'm trying to catch that exception (or any exception for that matter) and show a friendly ErrorPage.jsp, but I can't redirect to the ErrorPage because the response has already been committed.</p>\n\n<p>I am unable to duplicate this in a test environment, but I can make it break at will in production.</p>\n\n<p>Does anyone know what my options are for solving this kind of problem?  Thanks in advance.</p>\n\n<p>BTW, here is what my Filter class's doFilter method looks like:</p>\n\n<pre><code>    public void doFilter(ServletRequest req,\n                     ServletResponse res,\n                     FilterChain fc) throws IOException, ServletException\n{\n    HttpServletRequest request = (HttpServletRequest) req;\n    HttpServletResponse response = (HttpServletResponse) res;\n    HttpSession session = request.getSession();\n\n    try\n    {\n        fc.doFilter(req, res);\n\n        // Have learned that response headers should not be set until we have determined there won't be an exception.\n        // Can't easily redirect or forward (to an error page, for example) if headers have already been committed.\n\n        if (SessionHelper.hasNeedsJsCssImgResponseHeaderFlag(request))\n        {\n            Calendar cal = Calendar.getInstance();\n            cal.add(Calendar.SECOND, JsCssImgResponseHeaderFilter.SECONDS_TO_CACHE);\n            response.setHeader(\"Cache-Control\", \"PUBLIC, max-age=\" + JsCssImgResponseHeaderFilter.SECONDS_TO_CACHE + \", must-revalidate\");\n            response.setHeader(\"Expires\", DateUtils.getDateInExpiresHeaderFormat(cal.getTime()));\n        }\n        else if (SessionHelper.hasNeedsDynamicPageResponseHeaderFlag(request))\n        {\n            response.setHeader(\"Cache-Control\", \"no-cache\");\n            response.setHeader(\"Expires\", \"Mon, 25 Nov 2013 00:00:01 GMT\");   // in the past\n        }\n        else if (SessionHelper.hasNeedsRestServicesResponseHeaderFlag(request))\n        {\n            // CORS - Cross Origin Resource Sharing: allow service requests from other domains -- \n            // such as local development domains hosting AngularJS projects.\n\n            response.setHeader(\"Access-Control-Allow-Origin\", \"http://localhost.domain.com:8080\");\n\n            response.setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, OPTIONS, PUT, DELETE\");\n            // response.setHeader(\"Access-Control-Allow-Methods\", \"*\");\n\n            response.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, X-Requested-With\");\n        }\n    }\n    catch (Exception e)\n    {\n        SessionHelper.setErrorPageException(req, session, e);\n        final String uri = request.getRequestURI();\n        final String playerName = SessionHelper.getLoggedInPlayerName(session);\n\n        String outerLogEntryText = \"Player = \" + playerName + \" - IP = \" + request.getRemoteAddr() + \n                \" - Mobile = \" + SessionHelper.isMobileBrowser(request) +\n                \" - URI = \" + uri + \" - Exception MSG = \" + e.getMessage();\n\n        LogUtils.writeLogEntry(outerLogEntryText, true, e);\n        SessionHelper.setRedirectPage(session, SessionHelper.ERROR_PAGE_PATH);\n    }\n    finally\n    {\n        String redirectPage = SessionHelper.getRedirectPage(session);\n        SessionHelper.clearRedirectPage(session);\n\n        if (redirectPage != null)\n        {\n            if (response.isCommitted())\n            {\n                // Article: http://stackoverflow.com/questions/11305563/cause-of-servlets-response-already-committed\n                System.out.println(\"Response has been committed.  Cannot redirect to: \" + redirectPage);\n            }\n            else\n            {\n                response.sendRedirect(redirectPage);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>When the problem occurs, my \"Response has been committed...\" output statement is indeed written, therefore it is not redirecting to my error page.  That's my challenge: how to redirect somewhere when this happens -- or take some better/harmless action.</p>\n"},{"tags":["java","kotlin","static-methods","static-block"],"comments":[{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":3,"creation_date":1560082941,"post_id":56514503,"comment_id":99614992,"body_markdown":"If you describe your objective we can recommend more idiomatic Kotlin.","body":"If you describe your objective we can recommend more idiomatic Kotlin."},{"owner":{"account_id":5876047,"reputation":27265,"user_id":4626831,"accept_rate":79,"display_name":"N J"},"score":2,"creation_date":1560087790,"post_id":56514503,"comment_id":99615947,"body_markdown":"Possible duplicate of [Kotlin static methods and variables](https://stackoverflow.com/questions/43857824/kotlin-static-methods-and-variables)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/43857824/kotlin-static-methods-and-variables\">Kotlin static methods and variables</a>"}],"answers":[{"tags":[],"owner":{"account_id":5353609,"reputation":5314,"user_id":4267015,"display_name":"Naor Tedgi"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1560087740,"creation_date":1560082718,"answer_id":56514529,"question_id":56514503,"body_markdown":"    public class Common {\r\n        companion object {\r\n            val currentModelPengguna: ModelPengguna = ModelPengguna()  \r\n        }\r\n    }\r\n\r\nor if the object is static and you want it as Singleton\r\nyou can use \r\n\r\n    object Common {\r\n            val currentModelPengguna: ModelPengguna = ModelPengguna()\r\n    }\r\n\r\na static property in kotlin is introduced by the `companion object` further reading:\r\n\r\nhttps://kotlinlang.org/docs/reference/object-declarations.html#companion-objects","title":"Declare static property in Kotlin?","body":"<pre><code>public class Common {\n    companion object {\n        val currentModelPengguna: ModelPengguna = ModelPengguna()  \n    }\n}\n</code></pre>\n\n<p>or if the object is static and you want it as Singleton\nyou can use </p>\n\n<pre><code>object Common {\n        val currentModelPengguna: ModelPengguna = ModelPengguna()\n}\n</code></pre>\n\n<p>a static property in kotlin is introduced by the <code>companion object</code> further reading:</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects</a></p>\n"},{"tags":[],"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682762838,"creation_date":1682713364,"answer_id":76133046,"question_id":56514503,"body_markdown":"Java uses the same `static` keyword for many features, like:\r\n* Global variable/ property.\r\n* Constant, like: `private static final String TAG = ...`\r\n* Class&#39;s on-load initializer - which Java names Static-block.\r\n\r\nWhile Kotlin separates these.\r\n\r\n## Example\r\n\r\n**If we have a Java file, like:**\r\n```java\r\npublic class MyClass {\r\n    private static final String TAG = &quot;my-tag&quot;;\r\n\r\n    @NonNull\r\n    public static MyType myVariable = new MyType();\r\n\r\n    @Nullable\r\n    public static MyType myNullableVariable = null;\r\n\r\n    static {\r\n        Log.d(TAG, &quot;Got this far!&quot;);\r\n    }\r\n\r\n    public void onSomething() {\r\n        onSomething(false);\r\n    }\r\n\r\n    public void onSomething(optionalArg: Boolean) {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\n**Then the Kotlin version may look something like:**\r\n```kotlin\r\nopen class MyClass {\r\n    companion object {\r\n        private const val TAG = &quot;my-tag&quot;\r\n\r\n        @JvmStatic\r\n        var myVariable: MyType = MyType()\r\n\r\n        @JvmStatic\r\n        var myNullableVariable: MyType? = null\r\n\r\n        init {\r\n            Log.d(TAG, &quot;Got this far!&quot;)\r\n        }\r\n    }\r\n\r\n    @JvmOverloads\r\n    open fun onSomething(optionalArg: Boolean = false) {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nWhere:\r\n\r\n* Kotlin&#39;s `open class` is like Java&#39;s `public class`.\r\n\r\n* The &quot;`@JvmStatic`&quot; part allows Java to use Kotlin&#39;s `myVariable`, as if it were Java&#39;s `static` memeber.\r\n\r\n* The &quot;`@JvmOverloads`&quot; part allows Java to call Kotlin&#39;s `onSomething` without need to pass all parameters.\r\n\r\n&gt; **Note** that &quot;`: MyType`&quot; part can be omitted, because both Kotlin and Android-studio IDE do auto-detect the type based on initializer (e.g. based on the &quot;` = MyType()`&quot; part).\r\n&gt;\r\n&gt; Also, `@JvmStatic` and `@JvmOverloads` do NOT need any  import (as they&#39;re built-in features of Kotlin).\r\n","title":"Declare static property in Kotlin?","body":"<p>Java uses the same <code>static</code> keyword for many features, like:</p>\n<ul>\n<li>Global variable/ property.</li>\n<li>Constant, like: <code>private static final String TAG = ...</code></li>\n<li>Class's on-load initializer - which Java names Static-block.</li>\n</ul>\n<p>While Kotlin separates these.</p>\n<h2>Example</h2>\n<p><strong>If we have a Java file, like:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n    private static final String TAG = &quot;my-tag&quot;;\n\n    @NonNull\n    public static MyType myVariable = new MyType();\n\n    @Nullable\n    public static MyType myNullableVariable = null;\n\n    static {\n        Log.d(TAG, &quot;Got this far!&quot;);\n    }\n\n    public void onSomething() {\n        onSomething(false);\n    }\n\n    public void onSomething(optionalArg: Boolean) {\n        // ...\n    }\n}\n</code></pre>\n<p><strong>Then the Kotlin version may look something like:</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>open class MyClass {\n    companion object {\n        private const val TAG = &quot;my-tag&quot;\n\n        @JvmStatic\n        var myVariable: MyType = MyType()\n\n        @JvmStatic\n        var myNullableVariable: MyType? = null\n\n        init {\n            Log.d(TAG, &quot;Got this far!&quot;)\n        }\n    }\n\n    @JvmOverloads\n    open fun onSomething(optionalArg: Boolean = false) {\n        // ...\n    }\n}\n</code></pre>\n<p>Where:</p>\n<ul>\n<li><p>Kotlin's <code>open class</code> is like Java's <code>public class</code>.</p>\n</li>\n<li><p>The &quot;<code>@JvmStatic</code>&quot; part allows Java to use Kotlin's <code>myVariable</code>, as if it were Java's <code>static</code> memeber.</p>\n</li>\n<li><p>The &quot;<code>@JvmOverloads</code>&quot; part allows Java to call Kotlin's <code>onSomething</code> without need to pass all parameters.</p>\n</li>\n</ul>\n<blockquote>\n<p><strong>Note</strong> that &quot;<code>: MyType</code>&quot; part can be omitted, because both Kotlin and Android-studio IDE do auto-detect the type based on initializer (e.g. based on the &quot;<code> = MyType()</code>&quot; part).</p>\n<p>Also, <code>@JvmStatic</code> and <code>@JvmOverloads</code> do NOT need any  import (as they're built-in features of Kotlin).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26280709,"reputation":93,"user_id":19949241,"display_name":"Awais ul Hassan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682752627,"creation_date":1682752627,"answer_id":76134985,"question_id":56514503,"body_markdown":"Static variables declare and initialize in to companion object for example:\r\n\r\n \r\n\r\n     public class MyClass {\r\n\r\n        companion object{\r\n            const val TAG: String = &quot;my-tag&quot;\r\n            const val myVariable: MyType = MyType()\r\n            var myNullableVariable: MyType? = null\r\n        }\r\n    }","title":"Declare static property in Kotlin?","body":"<p>Static variables declare and initialize in to companion object for example:</p>\n<pre><code> public class MyClass {\n\n    companion object{\n        const val TAG: String = &quot;my-tag&quot;\n        const val myVariable: MyType = MyType()\n        var myNullableVariable: MyType? = null\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11253742,"reputation":119,"user_id":8254172,"display_name":"Kang sigit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5342,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"answer_count":3,"score":11,"last_activity_date":1682762838,"creation_date":1560082503,"question_id":56514503,"body_markdown":"My `Java` code:\r\n\r\n```java\r\npublic class Common {\r\n    public static ModelPengguna currentModelPengguna;\r\n}\r\n```\r\n","title":"Declare static property in Kotlin?","body":"<p>My <code>Java</code> code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Common {\n    public static ModelPengguna currentModelPengguna;\n}\n</code></pre>\n"},{"tags":["java","spring","oracle","jdbc"],"comments":[{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1682592582,"post_id":76119487,"comment_id":134241787,"body_markdown":"I think your Entity model trying to connect to different database. Can you share with application.properties? And database connection","body":"I think your Entity model trying to connect to different database. Can you share with application.properties? And database connection"},{"owner":{"account_id":19154699,"reputation":134,"user_id":13991786,"display_name":"trannguyenhan"},"score":0,"creation_date":1682592778,"post_id":76119487,"comment_id":134241828,"body_markdown":"@Yeras_QazaQ I update Customer Class I define in Project to Post.","body":"@Yeras_QazaQ I update Customer Class I define in Project to Post."},{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1682595051,"post_id":76119487,"comment_id":134242312,"body_markdown":"Thank you! What about your package scan? Which part of your project makes scan for finding entiry? Also what do you for using request, JPARepository or CrudRepository?","body":"Thank you! What about your package scan? Which part of your project makes scan for finding entiry? Also what do you for using request, JPARepository or CrudRepository?"}],"answers":[{"tags":[],"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682593191,"creation_date":1682593191,"answer_id":76119600,"question_id":76119487,"body_markdown":"First of all did you try to connect database with user credentials in the code to check whether the table is actually exist or not using Database client like Oracle SQL Developer?\r\n\r\nThis error happens due to one of below reasons.\r\n\r\n - User you used to connect to the Database does not have access to the schema which table reside\r\n - The table simply does not created yet\r\n - There is a something wrong in connecting entity to Database, possible small name error or something.\r\n\r\nPlease check whether one of these conditions apply to your code.\r\n\r\n\r\n ","title":"Caused by: java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist ORACLE","body":"<p>First of all did you try to connect database with user credentials in the code to check whether the table is actually exist or not using Database client like Oracle SQL Developer?</p>\n<p>This error happens due to one of below reasons.</p>\n<ul>\n<li>User you used to connect to the Database does not have access to the schema which table reside</li>\n<li>The table simply does not created yet</li>\n<li>There is a something wrong in connecting entity to Database, possible small name error or something.</li>\n</ul>\n<p>Please check whether one of these conditions apply to your code.</p>\n"},{"tags":[],"owner":{"account_id":15794864,"reputation":11,"user_id":11407809,"display_name":"Daniel Christofolli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682761892,"creation_date":1682593999,"answer_id":76119714,"question_id":76119487,"body_markdown":"You could verify if you have access to this table and/or if the table `CUSTOMER` exists by trying this SQL command:\r\n```\r\nselect owner as schema_name,\r\n       table_name\r\nfrom sys.all_tables\r\nwhere table_name like &#39;CUSTOMER&#39;;\r\n```\r\n\r\nMore information can be found in the following link: https://dataedo.com/kb/query/oracle/find-tables-which-names-start-with-specific-prefix","title":"Caused by: java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist ORACLE","body":"<p>You could verify if you have access to this table and/or if the table <code>CUSTOMER</code> exists by trying this SQL command:</p>\n<pre><code>select owner as schema_name,\n       table_name\nfrom sys.all_tables\nwhere table_name like 'CUSTOMER';\n</code></pre>\n<p>More information can be found in the following link: <a href=\"https://dataedo.com/kb/query/oracle/find-tables-which-names-start-with-specific-prefix\" rel=\"nofollow noreferrer\">https://dataedo.com/kb/query/oracle/find-tables-which-names-start-with-specific-prefix</a></p>\n"}],"owner":{"account_id":19154699,"reputation":134,"user_id":13991786,"display_name":"trannguyenhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682761892,"creation_date":1682592307,"question_id":76119487,"body_markdown":"I try to connect to Oracle SQL, and everything is normal, Console notification connect success, no error in console:\r\n\r\n```bash\r\n2023-04-27 17:28:50 INFO  [main           ] m.service.promotion.PromotionApplication : No active profile set, falling back to default profiles: default\r\n2023-04-27 17:28:50 INFO  [main           ] y.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-04-27 17:28:50 INFO  [main           ] y.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31ms. Found 0 JPA repository interfaces.\r\n2023-04-27 17:28:50 INFO  [main           ] amework.cloud.context.scope.GenericScope : BeanFactory id=d5b7dc3c-7593-38a4-b712-ceb098e944ec\r\n2023-04-27 17:28:50 INFO  [main           ] boot.web.embedded.tomcat.TomcatWebServer : Tomcat initialized with port(s): 9004 (http)\r\n2023-04-27 17:28:50 INFO  [main           ] org.apache.catalina.core.StandardService : Starting service [Tomcat]\r\n2023-04-27 17:28:50 INFO  [main           ] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]\r\n2023-04-27 17:28:51 INFO  [main           ] e.ContainerBase.[Tomcat].[localhost].[/] : Initializing Spring embedded WebApplicationContext\r\n2023-04-27 17:28:51 INFO  [main           ] ntext.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 938 ms\r\n2023-04-27 17:28:51 INFO  [main           ] rg.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-04-27 17:28:51 INFO  [main           ] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final\r\n2023-04-27 17:28:51 INFO  [main           ] org.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2023-04-27 17:28:51 INFO  [main           ] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-04-27 17:28:51 INFO  [main           ] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-04-27 17:28:51 INFO  [main           ] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\r\n2023-04-27 17:29:34 INFO  [main           ] a.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-04-27 17:29:34 INFO  [main           ] a.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-04-27 17:29:34 WARN  [main           ] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-04-27 17:29:34 INFO  [main           ] duling.concurrent.ThreadPoolTaskExecutor : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n```\r\n\r\nBut when I run API using a code, this code get Entity Customer from Database: \r\n\r\n```java\r\nCustomer customer = commonMgr.getEntityById(Customer.class, customerId);\r\n```\r\n\r\nI have an error: \r\n\r\n```bash\r\nCaused by: java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:494) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:446) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1054) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:623) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:612) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:226) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:59) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:747) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:904) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1082) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3780) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1343) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3822) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1165) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-3.4.5.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-3.4.5.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\r\n```\r\n\r\nThis is a Customer Class:\r\n\r\n\r\n```java\r\npackage com.service.promotion.domain;\r\n\r\nimport java.io.Serializable;\r\nimport java.math.BigDecimal;\r\nimport java.util.Date;\r\n\r\nimport javax.persistence.Basic;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.SequenceGenerator;\r\nimport javax.persistence.Table;\r\nimport javax.persistence.Temporal;\r\nimport javax.persistence.TemporalType;\r\nimport javax.persistence.Transient;\r\n\r\nimport com.service.promotion.enumtype.ActiveType;\r\nimport com.service.promotion.enumtype.IsAttribute;\r\nimport org.hibernate.annotations.Cache;\r\nimport org.hibernate.annotations.CacheConcurrencyStrategy;\r\nimport org.hibernate.annotations.Parameter;\r\nimport org.hibernate.annotations.Type;\r\n\r\n@Entity\r\n@Table(name = &quot;CUSTOMER&quot;)\r\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n@SequenceGenerator(name = &quot;SEQ_STORE&quot;, sequenceName = &quot;CUSTOMER_SEQ&quot;, allocationSize = 1)\r\npublic class Customer implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_STORE&quot;)\r\n\t@Column(name = &quot;CUSTOMER_ID&quot;)\r\n\tprivate Long id;\r\n\t\r\n}\r\n```\r\n\r\nI think My App was connected with Oracle database, but I was error below. Help me solve it! Thank you!","title":"Caused by: java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist ORACLE","body":"<p>I try to connect to Oracle SQL, and everything is normal, Console notification connect success, no error in console:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2023-04-27 17:28:50 INFO  [main           ] m.service.promotion.PromotionApplication : No active profile set, falling back to default profiles: default\n2023-04-27 17:28:50 INFO  [main           ] y.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-27 17:28:50 INFO  [main           ] y.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31ms. Found 0 JPA repository interfaces.\n2023-04-27 17:28:50 INFO  [main           ] amework.cloud.context.scope.GenericScope : BeanFactory id=d5b7dc3c-7593-38a4-b712-ceb098e944ec\n2023-04-27 17:28:50 INFO  [main           ] boot.web.embedded.tomcat.TomcatWebServer : Tomcat initialized with port(s): 9004 (http)\n2023-04-27 17:28:50 INFO  [main           ] org.apache.catalina.core.StandardService : Starting service [Tomcat]\n2023-04-27 17:28:50 INFO  [main           ] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]\n2023-04-27 17:28:51 INFO  [main           ] e.ContainerBase.[Tomcat].[localhost].[/] : Initializing Spring embedded WebApplicationContext\n2023-04-27 17:28:51 INFO  [main           ] ntext.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 938 ms\n2023-04-27 17:28:51 INFO  [main           ] rg.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-04-27 17:28:51 INFO  [main           ] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final\n2023-04-27 17:28:51 INFO  [main           ] org.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2023-04-27 17:28:51 INFO  [main           ] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-27 17:28:51 INFO  [main           ] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-04-27 17:28:51 INFO  [main           ] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:32 WARN  [main           ] t.internal.InFlightMetadataCollectorImpl : HHH000069: Duplicate generator name SEQ_STORE\n2023-04-27 17:29:34 INFO  [main           ] a.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-04-27 17:29:34 INFO  [main           ] a.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-04-27 17:29:34 WARN  [main           ] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-04-27 17:29:34 INFO  [main           ] duling.concurrent.ThreadPoolTaskExecutor : Initializing ExecutorService 'applicationTaskExecutor'\n</code></pre>\n<p>But when I run API using a code, this code get Entity Customer from Database:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Customer customer = commonMgr.getEntityById(Customer.class, customerId);\n</code></pre>\n<p>I have an error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Caused by: java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist\n\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:494) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:446) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1054) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:623) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:612) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:226) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:59) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:747) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:904) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1082) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3780) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1343) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3822) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1165) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-3.4.5.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-3.4.5.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n\n</code></pre>\n<p>This is a Customer Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.service.promotion.domain;\n\nimport java.io.Serializable;\nimport java.math.BigDecimal;\nimport java.util.Date;\n\nimport javax.persistence.Basic;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.SequenceGenerator;\nimport javax.persistence.Table;\nimport javax.persistence.Temporal;\nimport javax.persistence.TemporalType;\nimport javax.persistence.Transient;\n\nimport com.service.promotion.enumtype.ActiveType;\nimport com.service.promotion.enumtype.IsAttribute;\nimport org.hibernate.annotations.Cache;\nimport org.hibernate.annotations.CacheConcurrencyStrategy;\nimport org.hibernate.annotations.Parameter;\nimport org.hibernate.annotations.Type;\n\n@Entity\n@Table(name = &quot;CUSTOMER&quot;)\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n@SequenceGenerator(name = &quot;SEQ_STORE&quot;, sequenceName = &quot;CUSTOMER_SEQ&quot;, allocationSize = 1)\npublic class Customer implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_STORE&quot;)\n    @Column(name = &quot;CUSTOMER_ID&quot;)\n    private Long id;\n    \n}\n</code></pre>\n<p>I think My App was connected with Oracle database, but I was error below. Help me solve it! Thank you!</p>\n"},{"tags":["java","gradle","incompatibility"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1682694065,"post_id":76130392,"comment_id":134260810,"body_markdown":"I took a look into readme.md from your lib and found following text: &quot;Java version\nThis library was built for Java 17, the latest LTS. Remember to enable preview features as they are required. If you don&#39;t know how, there are many tutorials available online. Please don&#39;t open any issue because of this.&quot; May be you need jdk 17 instead of jdk19 or you have to compile your code into language level of java 17.","body":"I took a look into readme.md from your lib and found following text: &quot;Java version This library was built for Java 17, the latest LTS. Remember to enable preview features as they are required. If you don&#39;t know how, there are many tutorials available online. Please don&#39;t open any issue because of this.&quot; May be you need jdk 17 instead of jdk19 or you have to compile your code into language level of java 17."},{"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"score":0,"creation_date":1682695692,"post_id":76130392,"comment_id":134261170,"body_markdown":"@Reporter I tried enabling preview features with adding\n```tasks.withType(JavaCompile) {\n    options.compilerArgs += &#39;--enable-preview&#39;\n}\ntasks.withType(Test) {\n    jvmArgs += &quot;--enable-preview&quot;\n}\n```\nto my build.gradle file but the error still persists:(\nShouldn&#39;t java be anyway backwards compatible?","body":"@Reporter I tried enabling preview features with adding <code>tasks.withType(JavaCompile) {     options.compilerArgs += &#39;--enable-preview&#39; } tasks.withType(Test) {     jvmArgs += &quot;--enable-preview&quot; } </code> to my build.gradle file but the error still persists:( Shouldn&#39;t java be anyway backwards compatible?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1682701455,"post_id":76130392,"comment_id":134262391,"body_markdown":"from documentation about [Preview Features](https://docs.oracle.com/en/java/javase/19/language/preview-language-and-vm-features.html#GUID-5A82FE0E-0CA4-4F1F-B075-564874FE2823__GUID-54A1B35D-0818-46F5-8CEE-5E8D79A87866): &quot;***Note:** Code that uses preview features from an older release of the Java SE Platform will not necessarily compile or run on a newer release.*&quot;","body":"from documentation about <a href=\"https://docs.oracle.com/en/java/javase/19/language/preview-language-and-vm-features.html#GUID-5A82FE0E-0CA4-4F1F-B075-564874FE2823__GUID-54A1B35D-0818-46F5-8CEE-5E8D79A87866\" rel=\"nofollow noreferrer\">Preview Features</a>: &quot;<b><i>Note:</b> Code that uses preview features from an older release of the Java SE Platform will not necessarily compile or run on a newer release.</i>&quot;"}],"answers":[{"tags":[],"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682761342,"creation_date":1682761342,"answer_id":76135527,"question_id":76130392,"body_markdown":"I managed to compile the project. Apparently are preview features not back compatible within Java. Thanks to [@user16320675](https://stackoverflow.com/users/16320675/user16320675)&#39;s help I found this on [Gradle Docs](https://docs.gradle.org/current/userguide/building_java_projects.html#sec:feature_preview):\r\n```\r\ntasks.withType(JavaCompile).configureEach {\r\n    options.compilerArgs += &quot;--enable-preview&quot;\r\n}\r\n\r\ntasks.withType(Test).configureEach {\r\n    jvmArgs += &quot;--enable-preview&quot;\r\n}\r\n\r\ntasks.withType(JavaExec).configureEach {\r\n    jvmArgs += &quot;--enable-preview&quot;\r\n}\r\n```\r\n\r\nI added the snipped to my build.gradle file and had to change my projects jdk from 19 to 17, because only with version 17 the preview features I needed were available.","title":"Class file for XYZ uses preview features of Java SE 17 Error","body":"<p>I managed to compile the project. Apparently are preview features not back compatible within Java. Thanks to <a href=\"https://stackoverflow.com/users/16320675/user16320675\">@user16320675</a>'s help I found this on <a href=\"https://docs.gradle.org/current/userguide/building_java_projects.html#sec:feature_preview\" rel=\"nofollow noreferrer\">Gradle Docs</a>:</p>\n<pre><code>tasks.withType(JavaCompile).configureEach {\n    options.compilerArgs += &quot;--enable-preview&quot;\n}\n\ntasks.withType(Test).configureEach {\n    jvmArgs += &quot;--enable-preview&quot;\n}\n\ntasks.withType(JavaExec).configureEach {\n    jvmArgs += &quot;--enable-preview&quot;\n}\n</code></pre>\n<p>I added the snipped to my build.gradle file and had to change my projects jdk from 19 to 17, because only with version 17 the preview features I needed were available.</p>\n"}],"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76135527,"answer_count":1,"score":0,"last_activity_date":1682761342,"creation_date":1682690681,"question_id":76130392,"body_markdown":"I&#39;m trying to make a scheduled Whatsapp sender and thought of using Auties00 WhatsApp4J library.\r\nAfter creating a new project and adding the code to create a connection, following error occures:\r\n\r\n```\r\nerror: class file for .gradle/caches/modules-2/files-2.1/com.github.auties00/whatsappweb4j/3.3.1/d8c9b37af703062b20b137100d8dc11abe8a27f7/whatsappweb4j-3.3.1.jar(/it/auties/whatsapp/api/Whatsapp.class) uses preview features of Java SE 17.\r\n  (use --enable-preview to allow loading of class files which contain preview features)\r\n1 error\r\n\r\n```\r\n\r\nI&#39;m currently using JDK 19 with Gradle 7.6.1 so I&#39;m confused why it&#39;s throwing the afore mentioned error.\r\n\r\nI tried to upgrade from the TLS JDK 17 to JDK19 but the error persists.\r\nAdding the --enable-preview flag didn&#39;t work either.\r\n[This](https://github.com/Auties00/Whatsapp4j) is Auties00 WhatsApp4J library\r\n\r\nMy build.gradle looks like this:\r\n```lang-xml\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.0.6&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;19&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;com.github.auties00:whatsappweb4j:3.3.1&#39;\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nAnd my main class like this:\r\n```lang-java\r\npackage com.example.demo;\r\n\r\nimport it.auties.whatsapp.api.Whatsapp;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication implements CommandLineRunner {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        Whatsapp.webBuilder()\r\n                .newConnection()\r\n                .build()\r\n                .addLoggedInListener(() -&gt; System.out.println(&quot;Connected&quot;))\r\n                .addDisconnectedListener(reason -&gt; System.out.printf(&quot;Disconnected: %s%n&quot;, reason))\r\n                .connect()\r\n                .join();\r\n    }\r\n}\r\n\r\n```","title":"Class file for XYZ uses preview features of Java SE 17 Error","body":"<p>I'm trying to make a scheduled Whatsapp sender and thought of using Auties00 WhatsApp4J library.\nAfter creating a new project and adding the code to create a connection, following error occures:</p>\n<pre><code>error: class file for .gradle/caches/modules-2/files-2.1/com.github.auties00/whatsappweb4j/3.3.1/d8c9b37af703062b20b137100d8dc11abe8a27f7/whatsappweb4j-3.3.1.jar(/it/auties/whatsapp/api/Whatsapp.class) uses preview features of Java SE 17.\n  (use --enable-preview to allow loading of class files which contain preview features)\n1 error\n\n</code></pre>\n<p>I'm currently using JDK 19 with Gradle 7.6.1 so I'm confused why it's throwing the afore mentioned error.</p>\n<p>I tried to upgrade from the TLS JDK 17 to JDK19 but the error persists.\nAdding the --enable-preview flag didn't work either.\n<a href=\"https://github.com/Auties00/Whatsapp4j\" rel=\"nofollow noreferrer\">This</a> is Auties00 WhatsApp4J library</p>\n<p>My build.gradle looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.6'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '19'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'com.github.auties00:whatsappweb4j:3.3.1'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>And my main class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport it.auties.whatsapp.api.Whatsapp;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        Whatsapp.webBuilder()\n                .newConnection()\n                .build()\n                .addLoggedInListener(() -&gt; System.out.println(&quot;Connected&quot;))\n                .addDisconnectedListener(reason -&gt; System.out.printf(&quot;Disconnected: %s%n&quot;, reason))\n                .connect()\n                .join();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","opensearch"],"answers":[{"tags":[],"owner":{"account_id":2620643,"reputation":1,"user_id":2268735,"display_name":"user9973"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680828615,"creation_date":1680828615,"answer_id":75954735,"question_id":75130106,"body_markdown":"The CreateIndexRequest builder does provide a `mappings` method which takes in a `TypeMapping` argument. \r\n\r\nYou should be able to construct a `TypeMapping` object and then pass it into the builder: \r\n```\r\nTypeMapping mapping = ...;\r\nCreateIndexRequest createIndexRequest = new CreateIndexRequest.Builder()\r\n         .index(index)\r\n         .mappings(mapping)\r\n         .build();\r\n```","title":"Creating Index with OpenSearch Java Client","body":"<p>The CreateIndexRequest builder does provide a <code>mappings</code> method which takes in a <code>TypeMapping</code> argument.</p>\n<p>You should be able to construct a <code>TypeMapping</code> object and then pass it into the builder:</p>\n<pre><code>TypeMapping mapping = ...;\nCreateIndexRequest createIndexRequest = new CreateIndexRequest.Builder()\n         .index(index)\n         .mappings(mapping)\n         .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6403427,"reputation":2065,"user_id":5471235,"accept_rate":90,"display_name":"makson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682760826,"creation_date":1682760826,"answer_id":76135494,"question_id":75130106,"body_markdown":"I used the last version of \r\n\r\n    dependencies {\r\n      implementation &#39;org.opensearch.client:opensearch-rest-client: 2.6.0&#39;\r\n      implementation &#39;org.opensearch.client:opensearch-java:2.4.0&#39;\r\n    }\r\n\r\nIt creates an index with optional settings and mappings.\r\n\r\nSo you can use it \r\n\r\nfor checking:\r\n\r\n     var existsIndexRequest = new ExistsRequest.Builder()\r\n                .index(index)\r\n                .build();\r\n     var response = client.indices().exists(existsIndexRequest);\r\n\r\nfor creating:\r\n\r\n    \r\n\r\n    var createIndexRequest = new CreateIndexRequest.Builder()\r\n                .index(index)\r\n                .build();\r\n    var createIndexResponse = client.indices().create(createIndexRequest);","title":"Creating Index with OpenSearch Java Client","body":"<p>I used the last version of</p>\n<pre><code>dependencies {\n  implementation 'org.opensearch.client:opensearch-rest-client: 2.6.0'\n  implementation 'org.opensearch.client:opensearch-java:2.4.0'\n}\n</code></pre>\n<p>It creates an index with optional settings and mappings.</p>\n<p>So you can use it</p>\n<p>for checking:</p>\n<pre><code> var existsIndexRequest = new ExistsRequest.Builder()\n            .index(index)\n            .build();\n var response = client.indices().exists(existsIndexRequest);\n</code></pre>\n<p>for creating:</p>\n<pre><code>var createIndexRequest = new CreateIndexRequest.Builder()\n            .index(index)\n            .build();\nvar createIndexResponse = client.indices().create(createIndexRequest);\n</code></pre>\n"}],"owner":{"account_id":88318,"reputation":8914,"user_id":244360,"accept_rate":78,"display_name":"Kong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1585,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1682760826,"creation_date":1673841289,"question_id":75130106,"body_markdown":"The OpenSearch Java Client GitHub repo states that the Java Client is the replacement for the High Level Java Client.\r\n\r\nhttps://github.com/opensearch-project/opensearch-java\r\n\r\nI&#39;m trying to create an index with this client, but can&#39;t find any way to actually set the mappings, and there are no examples.\r\n\r\n    RestClient restClient = RestClient\r\n            .builder(new HttpHost(host, port, scheme))\r\n            .build();\r\n    Transport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());\r\n    OpenSearchClient client = new OpenSearchClient(transport);\r\n\r\n    CreateIndexRequest createIndexRequest = new CreateIndexRequest.Builder()\r\n             .index(index)\r\n             // What do I do here?\r\n             .build();\r\n\r\n    CreateIndexResponse response = client.indices().create(createIndexRequest);\r\n\r\nThis is using the OpenSearch Java Client, not the High Level Client.\r\n\r\n","title":"Creating Index with OpenSearch Java Client","body":"<p>The OpenSearch Java Client GitHub repo states that the Java Client is the replacement for the High Level Java Client.</p>\n<p><a href=\"https://github.com/opensearch-project/opensearch-java\" rel=\"nofollow noreferrer\">https://github.com/opensearch-project/opensearch-java</a></p>\n<p>I'm trying to create an index with this client, but can't find any way to actually set the mappings, and there are no examples.</p>\n<pre><code>RestClient restClient = RestClient\n        .builder(new HttpHost(host, port, scheme))\n        .build();\nTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());\nOpenSearchClient client = new OpenSearchClient(transport);\n\nCreateIndexRequest createIndexRequest = new CreateIndexRequest.Builder()\n         .index(index)\n         // What do I do here?\n         .build();\n\nCreateIndexResponse response = client.indices().create(createIndexRequest);\n</code></pre>\n<p>This is using the OpenSearch Java Client, not the High Level Client.</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682760602,"creation_date":1682760602,"question_id":76135479,"body_markdown":"I am using strip [Apollo][1] as the configuration center, now I want to use the env to process different logic this is the local `/opt/settings/server.properites` config:\r\n\r\n\r\n    &gt; cat /opt/settings/server.properties\r\n      apollo.meta=http://localhost:8080\r\n      env=DEV\r\n\r\n\r\nthen I use this java client code to get the env:\r\n\r\n\r\n\r\n    Config config = ConfigService.getAppConfig();\r\n    String env = config.getProperty(&quot;env&quot;,&quot;default&quot;);\r\n\r\n\r\n\r\nthis code always get default value, what I expect value is DEV. is it possible to get the env value?\r\n\r\n\r\n  [1]: https://github.com/apolloconfig/apollo","title":"is it possible to get the env from strip Apollo","body":"<p>I am using strip <a href=\"https://github.com/apolloconfig/apollo\" rel=\"nofollow noreferrer\">Apollo</a> as the configuration center, now I want to use the env to process different logic this is the local <code>/opt/settings/server.properites</code> config:</p>\n<pre><code>&gt; cat /opt/settings/server.properties\n  apollo.meta=http://localhost:8080\n  env=DEV\n</code></pre>\n<p>then I use this java client code to get the env:</p>\n<pre><code>Config config = ConfigService.getAppConfig();\nString env = config.getProperty(&quot;env&quot;,&quot;default&quot;);\n</code></pre>\n<p>this code always get default value, what I expect value is DEV. is it possible to get the env value?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9526,"page":466,"page_size":100}
