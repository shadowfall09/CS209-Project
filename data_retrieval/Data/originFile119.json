{"items":[{"tags":["java","spring-boot","rest","mocking"],"answers":[{"tags":[],"owner":{"account_id":297276,"reputation":2523,"user_id":4506703,"display_name":"DEWA Kazuyuki - 出羽和之"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592687961,"creation_date":1592687961,"answer_id":62491804,"question_id":62482467,"body_markdown":"You can use [`@Profile` annotation](https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/reference/htmlsingle/#boot-features-profiles).\r\n\r\n```java\r\npublic interface PersonService {\r\n...\r\n}\r\n\r\n@Service\r\n@Profile(&quot;default&quot;)\r\npublic class PersonServiceImpl implements PersonService {\r\n...\r\n}\r\n\r\n@Service\r\n@Profile(&quot;mock&quot;)\r\npublic class MockPersonService implements PersonService {\r\n...\r\n}\r\n```\r\n\r\nWhen defined above, you can select profile with `appliation.properties`. For example:\r\n\r\n\r\n```\r\nspring.profiles.active=mock\r\n```","title":"Mock third party api while calling through postman","body":"<p>You can use <a href=\"https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/reference/htmlsingle/#boot-features-profiles\" rel=\"nofollow noreferrer\"><code>@Profile</code> annotation</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface PersonService {\n...\n}\n\n@Service\n@Profile(&quot;default&quot;)\npublic class PersonServiceImpl implements PersonService {\n...\n}\n\n@Service\n@Profile(&quot;mock&quot;)\npublic class MockPersonService implements PersonService {\n...\n}\n</code></pre>\n<p>When defined above, you can select profile with <code>appliation.properties</code>. For example:</p>\n<pre><code>spring.profiles.active=mock\n</code></pre>\n"}],"owner":{"account_id":6728196,"reputation":166,"user_id":5185476,"accept_rate":25,"display_name":"mahdieh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697593144,"creation_date":1592634702,"question_id":62482467,"body_markdown":"I have a controller class which expose a Get API and return person info:\r\n\r\n\r\n    @RestController\r\n    public class PersonController {\r\n\r\n    @Autowired\r\n    PersonService personService;\r\n\r\n\r\n    @GetMapping\r\n    public Person getPersonInfo() {\r\n        return personService.getPerson();\r\n    }\r\n    }\r\n\r\n\r\nIn personService I am connecting to a third party and get person info from this API. \r\nNow I want to call getPersonInfo() API in my controller using postman. How can I mock third party response in this senario?\r\nI know this is possible if you uset  test(integration or unit) and wiremock.\r\nHow about using just postman to call my API?\r\n","title":"Mock third party api while calling through postman","body":"<p>I have a controller class which expose a Get API and return person info:</p>\n\n<pre><code>@RestController\npublic class PersonController {\n\n@Autowired\nPersonService personService;\n\n\n@GetMapping\npublic Person getPersonInfo() {\n    return personService.getPerson();\n}\n}\n</code></pre>\n\n<p>In personService I am connecting to a third party and get person info from this API. \nNow I want to call getPersonInfo() API in my controller using postman. How can I mock third party response in this senario?\nI know this is possible if you uset  test(integration or unit) and wiremock.\nHow about using just postman to call my API?</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1697600481,"post_id":77313036,"comment_id":136298804,"body_markdown":"is it possible to define the projects as modules and the root project as a multi-module project? then build each module on its own as a jar (and each jar including their own dependencies) or in your case you probably only need two modules app and lib. (app containing lib, and lib containing utility and another lib). what i said works for me on maven, but i dont use gradle, so i m not sure on the implementation for you","body":"is it possible to define the projects as modules and the root project as a multi-module project? then build each module on its own as a jar (and each jar including their own dependencies) or in your case you probably only need two modules app and lib. (app containing lib, and lib containing utility and another lib). what i said works for me on maven, but i dont use gradle, so i m not sure on the implementation for you"}],"owner":{"account_id":4071823,"reputation":567,"user_id":3344591,"accept_rate":24,"display_name":"user3344591"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697592885,"creation_date":1697592885,"question_id":77313036,"body_markdown":"I have a project setup in the following way\r\n\r\n- root\r\n  - build.gradle\r\n  - settings.gradle\r\n  - app\r\n    - src\r\n    - build.gradle // this has plugins &quot;java&quot;, &quot;application&quot;\r\n  - lib\r\n    - src\r\n    - build.gradle // this has plugins &quot;java-library&quot;\r\n  - anotherLib\r\n    - src\r\n    - build.gradle // this has plugins &quot;java-library&quot;\r\n  - utility\r\n    - src\r\n    - build.gradle // this has plugins &quot;java-library&quot;\r\n\r\napp/build.gradle has \r\n\r\n    implementation project(&#39;:lib&#39;)\r\n\r\nlib/build.gradle has \r\n\r\n    api project(&#39;:utility&#39;)\r\n    runtimeOnly project(&#39;:anotherLib&#39;)\r\n\r\n\r\nanotherLib/build.gradle has \r\n\r\n    implementation project(&#39;:utility&#39;)\r\n\r\nWhen I run `./gradlew bootJar` then a fatJar for &quot;app&quot; is created with &quot;lib&quot;, &quot;anotherLib&quot; and &quot;utilitiy&quot; inside it.\r\n\r\nNow I have another project that needs &quot;lib&quot; as dependency. But the &quot;lib&quot; jar doesn&#39;t have the &quot;utility&quot; and &quot;another&quot; jar inside it. How can I create a artifact for &quot;lib&quot; and upload in such a way that other projects besides my &quot;app&quot; can add it as dependency in their gradle like `implementation &quot;mygroup:lib:v1.0&quot;` and they don&#39;t have to worry about or even know about &quot;utility&quot; or &quot;anotherLib&quot;?\r\n\r\nIf possible, I&#39;d like to avoid uploading &quot;utility&quot; and &quot;anotherLib&quot; jars on their own. Can they be packaged inside &quot;lib&quot; jar? How to do that?\r\n\r\nAlso, if you think what I&#39;m trying to do is just plain wrong, please let me know that as well\r\n\r\nI&#39;m using java 11, gradle 8.3, springboot gradle plugin 2.7.15\r\n\r\n\r\nThanks","title":"How to package a &quot;java-library&quot; jar along with its dependencies before uploading the artifact?","body":"<p>I have a project setup in the following way</p>\n<ul>\n<li>root\n<ul>\n<li>build.gradle</li>\n<li>settings.gradle</li>\n<li>app\n<ul>\n<li>src</li>\n<li>build.gradle // this has plugins &quot;java&quot;, &quot;application&quot;</li>\n</ul>\n</li>\n<li>lib\n<ul>\n<li>src</li>\n<li>build.gradle // this has plugins &quot;java-library&quot;</li>\n</ul>\n</li>\n<li>anotherLib\n<ul>\n<li>src</li>\n<li>build.gradle // this has plugins &quot;java-library&quot;</li>\n</ul>\n</li>\n<li>utility\n<ul>\n<li>src</li>\n<li>build.gradle // this has plugins &quot;java-library&quot;</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>app/build.gradle has</p>\n<pre><code>implementation project(':lib')\n</code></pre>\n<p>lib/build.gradle has</p>\n<pre><code>api project(':utility')\nruntimeOnly project(':anotherLib')\n</code></pre>\n<p>anotherLib/build.gradle has</p>\n<pre><code>implementation project(':utility')\n</code></pre>\n<p>When I run <code>./gradlew bootJar</code> then a fatJar for &quot;app&quot; is created with &quot;lib&quot;, &quot;anotherLib&quot; and &quot;utilitiy&quot; inside it.</p>\n<p>Now I have another project that needs &quot;lib&quot; as dependency. But the &quot;lib&quot; jar doesn't have the &quot;utility&quot; and &quot;another&quot; jar inside it. How can I create a artifact for &quot;lib&quot; and upload in such a way that other projects besides my &quot;app&quot; can add it as dependency in their gradle like <code>implementation &quot;mygroup:lib:v1.0&quot;</code> and they don't have to worry about or even know about &quot;utility&quot; or &quot;anotherLib&quot;?</p>\n<p>If possible, I'd like to avoid uploading &quot;utility&quot; and &quot;anotherLib&quot; jars on their own. Can they be packaged inside &quot;lib&quot; jar? How to do that?</p>\n<p>Also, if you think what I'm trying to do is just plain wrong, please let me know that as well</p>\n<p>I'm using java 11, gradle 8.3, springboot gradle plugin 2.7.15</p>\n<p>Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39470,"reputation":40063,"user_id":113848,"accept_rate":83,"display_name":"legoscia"},"score":1,"creation_date":1435065044,"post_id":31002612,"comment_id":50034980,"body_markdown":"possible duplicate of [How to solve &quot;java.io.IOException: error=12, Cannot allocate memory&quot; calling Runtime#exec()?](http://stackoverflow.com/questions/1124771/how-to-solve-java-io-ioexception-error-12-cannot-allocate-memory-calling-run)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1124771/how-to-solve-java-io-ioexception-error-12-cannot-allocate-memory-calling-run\">How to solve &quot;java.io.IOException: error=12, Cannot allocate memory&quot; calling Runtime#exec()?</a>"},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1465104852,"post_id":31002612,"comment_id":62758068,"body_markdown":"What is the OS?  Does it have enough resources (RAM?).. On linux see http://stackoverflow.com/questions/29250953/jmeter-out-of-memory-on-linux.","body":"What is the OS?  Does it have enough resources (RAM?).. On linux see <a href=\"http://stackoverflow.com/questions/29250953/jmeter-out-of-memory-on-linux\" title=\"jmeter out of memory on linux\">stackoverflow.com/questions/29250953/&hellip;</a>."},{"owner":{"account_id":5875243,"reputation":1857,"user_id":4626262,"accept_rate":95,"display_name":"Greesh Kumar"},"score":0,"creation_date":1465189490,"post_id":31002612,"comment_id":62779573,"body_markdown":"ubuntu 14.04 OS , 16 GB Server","body":"ubuntu 14.04 OS , 16 GB Server"},{"owner":{"account_id":106937,"reputation":6461,"user_id":284602,"accept_rate":86,"display_name":"Andron"},"score":0,"creation_date":1536233930,"post_id":31002612,"comment_id":91355388,"body_markdown":"I had an issue with running java from apache (a similar error). The fix described [here](https://stackoverflow.com/a/52201705/284602).","body":"I had an issue with running java from apache (a similar error). The fix described <a href=\"https://stackoverflow.com/a/52201705/284602\">here</a>."}],"answers":[{"comments":[{"owner":{"account_id":5875243,"reputation":1857,"user_id":4626262,"accept_rate":95,"display_name":"Greesh Kumar"},"score":1,"creation_date":1465189711,"post_id":35202902,"comment_id":62779644,"body_markdown":"mastadminchat03@PRDMASTCHAT03:~$ free :  total = 14361104 , used : 6188292, free : 8172812, shared: 428, buffers=57396, cached=1233592","body":"mastadminchat03@PRDMASTCHAT03:~$ free :  total = 14361104 , used : 6188292, free : 8172812, shared: 428, buffers=57396, cached=1233592"}],"tags":[],"owner":{"account_id":7711471,"reputation":121,"user_id":5840603,"display_name":"Brainsbot"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1465020309,"creation_date":1454594097,"answer_id":35202902,"question_id":31002612,"body_markdown":"Java was not able to allocate enough memory, i.e. it&#39;s not Java&#39;s heap limit that&#39;s in the way but rather no more memory available to be given to Java by OS. Check that the machine is not running out of memory.\r\nAnd first clean ram or increase ram then check if again there is an out of memory error then increase heap size:\r\n\r\n`-Xms128m`  \tmin(heap size)\r\n\r\n`-Xmx512m` \t\tmax(heap size)\r\n\r\n`-XX:MaxPermSize` max(perm size)","title":"Java HotSpot(TM) 64-Bit Server VM warning","body":"<p>Java was not able to allocate enough memory, i.e. it's not Java's heap limit that's in the way but rather no more memory available to be given to Java by OS. Check that the machine is not running out of memory.\nAnd first clean ram or increase ram then check if again there is an out of memory error then increase heap size:</p>\n\n<p><code>-Xms128m</code>      min(heap size)</p>\n\n<p><code>-Xmx512m</code>      max(heap size)</p>\n\n<p><code>-XX:MaxPermSize</code> max(perm size)</p>\n"},{"comments":[{"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"score":15,"creation_date":1496919339,"post_id":37722909,"comment_id":75864684,"body_markdown":"This answer is a copy/paste of what is suggested in the log file generated by the JVM. It would have been more honest to cite this file... But it works (I increased the amount of physical RAM on the machine, a virtual machine in fact). Thanks!","body":"This answer is a copy/paste of what is suggested in the log file generated by the JVM. It would have been more honest to cite this file... But it works (I increased the amount of physical RAM on the machine, a virtual machine in fact). Thanks!"},{"owner":{"account_id":1580243,"reputation":2552,"user_id":1465758,"accept_rate":71,"display_name":"Steffen"},"score":1,"creation_date":1524030784,"post_id":37722909,"comment_id":86799715,"body_markdown":"Why should be one of the solutions decreasing (!!) Java heap space with -Xms/-Xmx or/and decreasing Java thread stack space with -Xss. I expected that one of these values (or both) must be increased instead...","body":"Why should be one of the solutions decreasing (!!) Java heap space with -Xms/-Xmx or/and decreasing Java thread stack space with -Xss. I expected that one of these values (or both) must be increased instead..."},{"owner":{"account_id":1124880,"reputation":656,"user_id":1112402,"display_name":"gorjusborg"},"score":4,"creation_date":1527798763,"post_id":37722909,"comment_id":88274852,"body_markdown":"@Steffen the reason decreasing max heap space would help is that it constrains the java VM to prevent it asking for more memory than the OS has available. The situation causing the error is that the JVM is asking for memory that the OS doesn&#39;t have (meaning the JVM is still under it&#39;s max threshold).","body":"@Steffen the reason decreasing max heap space would help is that it constrains the java VM to prevent it asking for more memory than the OS has available. The situation causing the error is that the JVM is asking for memory that the OS doesn&#39;t have (meaning the JVM is still under it&#39;s max threshold)."},{"owner":{"account_id":36744,"reputation":3677,"user_id":104910,"accept_rate":97,"display_name":"Juan"},"score":0,"creation_date":1594526944,"post_id":37722909,"comment_id":111154625,"body_markdown":"There can also be an issue with overcommit settings which may cause a loaded machine to be overly pessimistic about the available memory, and refuse to allocate your request.  I ran into this issue with an application that forked itself and had the same memory pages duplicated in each process.  Even though they were copy on write, the system was only able to consider the memory usage as if all of these memory pages were duplicated.","body":"There can also be an issue with overcommit settings which may cause a loaded machine to be overly pessimistic about the available memory, and refuse to allocate your request.  I ran into this issue with an application that forked itself and had the same memory pages duplicated in each process.  Even though they were copy on write, the system was only able to consider the memory usage as if all of these memory pages were duplicated."},{"owner":{"account_id":90552,"reputation":6563,"user_id":249230,"accept_rate":91,"display_name":"szx"},"score":0,"creation_date":1662005671,"post_id":37722909,"comment_id":129907393,"body_markdown":"Lol, I have 32GB of memory and it&#39;s still not enough for Java (TM) Runtime (TM) Environment (TM)","body":"Lol, I have 32GB of memory and it&#39;s still not enough for Java (TM) Runtime (TM) Environment (TM)"}],"tags":[],"owner":{"account_id":3986395,"reputation":1853,"user_id":3286831,"accept_rate":100,"display_name":"Manisha  Bano"},"comment_count":5,"down_vote_count":2,"up_vote_count":58,"is_accepted":true,"score":56,"last_activity_date":1626963857,"creation_date":1465466832,"answer_id":37722909,"question_id":31002612,"body_markdown":"There is insufficient memory for the Java Runtime Environment to continue.\r\n\r\nNative memory allocation (malloc) failed to allocate xxxxx bytes for committing reserved memory.\r\n\r\n**Possible reasons:**\r\n\r\n 1. The system is out of physical RAM or swap space\r\n 2. In 32 bit mode, the process size limit was hit\r\n\r\n**Possible solutions:**\r\n\r\n 1. Reduce memory load on the system\r\n 2. Increase physical memory or swap space\r\n 3. Check if swap backing store is full\r\n 4. Use 64 bit Java on a 64 bit OS\r\n 5. Decrease Java heap size (-Xmx/-Xms)\r\n 6. Decrease number of Java threads\r\n 7. Decrease Java thread stack sizes (-Xss)\r\n 8. Set larger code cache with -XX:ReservedCodeCacheSize=\r\n\r\n\r\nIf you are on Java 8 or later, please also see this question: https://stackoverflow.com/questions/22634644/java-hotspottm-64-bit-server-vm-warning-ignoring-option-maxpermsize","title":"Java HotSpot(TM) 64-Bit Server VM warning","body":"<p>There is insufficient memory for the Java Runtime Environment to continue.</p>\n<p>Native memory allocation (malloc) failed to allocate xxxxx bytes for committing reserved memory.</p>\n<p><strong>Possible reasons:</strong></p>\n<ol>\n<li>The system is out of physical RAM or swap space</li>\n<li>In 32 bit mode, the process size limit was hit</li>\n</ol>\n<p><strong>Possible solutions:</strong></p>\n<ol>\n<li>Reduce memory load on the system</li>\n<li>Increase physical memory or swap space</li>\n<li>Check if swap backing store is full</li>\n<li>Use 64 bit Java on a 64 bit OS</li>\n<li>Decrease Java heap size (-Xmx/-Xms)</li>\n<li>Decrease number of Java threads</li>\n<li>Decrease Java thread stack sizes (-Xss)</li>\n<li>Set larger code cache with -XX:ReservedCodeCacheSize=</li>\n</ol>\n<p>If you are on Java 8 or later, please also see this question: <a href=\"https://stackoverflow.com/questions/22634644/java-hotspottm-64-bit-server-vm-warning-ignoring-option-maxpermsize\">Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize</a></p>\n"},{"tags":[],"owner":{"account_id":10041270,"reputation":510,"user_id":7423973,"display_name":"Jadhav Gaurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621156561,"creation_date":1621156219,"answer_id":67554838,"question_id":31002612,"body_markdown":"There is insufficient memory for the Java Runtime Environment.\r\n\r\nI was facing the same issue as shown below.\r\n\r\n&gt; OpenJDK 64-Bit Server VM warning: INFO:\r\n&gt; os::commit_memory(0x00000000f80f7000, 20729856, 0) failed;\r\n&gt; error=&#39;Cannot allocate memory&#39; (errno=12)\r\n\r\nI solved this by using below steps.\r\n\r\nThere are processes hanging on to files they&#39;ve accessed on /tmp\r\n\r\nUse **lsof** to check: \r\n\r\n    lsof | grep deleted\r\n\r\nIt will list processes, Now you can kill those process which will free the space for you.\n","title":"Java HotSpot(TM) 64-Bit Server VM warning","body":"<p>There is insufficient memory for the Java Runtime Environment.</p>\n<p>I was facing the same issue as shown below.</p>\n<blockquote>\n<p>OpenJDK 64-Bit Server VM warning: INFO:\nos::commit_memory(0x00000000f80f7000, 20729856, 0) failed;\nerror='Cannot allocate memory' (errno=12)</p>\n</blockquote>\n<p>I solved this by using below steps.</p>\n<p>There are processes hanging on to files they've accessed on /tmp</p>\n<p>Use <strong>lsof</strong> to check:</p>\n<pre><code>lsof | grep deleted\n</code></pre>\n<p>It will list processes, Now you can kill those process which will free the space for you.</p>\n"},{"tags":[],"owner":{"account_id":29402963,"reputation":19,"user_id":22528704,"display_name":"Wassim Becheikh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697591595,"creation_date":1697591595,"answer_id":77312992,"question_id":31002612,"body_markdown":"write this code in ur command line &quot;docker run -d --name sonarqube  -p 9000:9000 -p 9092:9092  -e SONAR_WEB_JVM_OPTS=&quot;-Xms128m -Xmx512m&quot;   sonarqube&quot;","title":"Java HotSpot(TM) 64-Bit Server VM warning","body":"<p>write this code in ur command line &quot;docker run -d --name sonarqube  -p 9000:9000 -p 9092:9092  -e SONAR_WEB_JVM_OPTS=&quot;-Xms128m -Xmx512m&quot;   sonarqube&quot;</p>\n"}],"owner":{"account_id":5875243,"reputation":1857,"user_id":4626262,"accept_rate":95,"display_name":"Greesh Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151585,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":37722909,"answer_count":4,"score":49,"last_activity_date":1697591595,"creation_date":1435061919,"question_id":31002612,"body_markdown":"I have a tomcat as my web-server, it stopped down automatically with the given Error -\r\n \r\n\r\n    Java HotSpot(TM) 64-Bit Server VM warning: INFO: os::commit_memory(0x00007f16a8405000, 12288, 0) failed; error=&#39;Cannot allocate memory&#39; (errno=12)\r\n\r\n\r\ni need to figured it out what actually happened ? and what warning does mean ?\r\n\r\n ","title":"Java HotSpot(TM) 64-Bit Server VM warning","body":"<p>I have a tomcat as my web-server, it stopped down automatically with the given Error -</p>\n\n<pre><code>Java HotSpot(TM) 64-Bit Server VM warning: INFO: os::commit_memory(0x00007f16a8405000, 12288, 0) failed; error='Cannot allocate memory' (errno=12)\n</code></pre>\n\n<p>i need to figured it out what actually happened ? and what warning does mean ?</p>\n"},{"tags":["java","class","buffer","bufferedreader","reader"],"owner":{"account_id":29696074,"reputation":1,"user_id":22759266,"display_name":"Stepan Zakhariev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697591294,"creation_date":1697591294,"question_id":77312974,"body_markdown":"I&#39;ve been struggling with it for almost a week. I need to make a function in my class that returns true/false if there is a next line in system.in, in a string or in a file.(no matter if it will detect last empty line &#39;cause java original scanner does the same)\r\nIt should be written according to my skills (2 months of java in university) - we have only started to write our classes and it is a homework. I don&#39;t need you to do it for yourself but I need an advice. I can&#39;t use buffered reader&#39;s next line. I need to use my own blocking read (array of chars ~256-1024 chars) and when I use that function/method I need to continue reading from the char that was the last in previous time when function was called.\r\n\r\n\r\nI tried this: It doesn&#39;t work on mac but on windows sometimes it does depending on buffer&#39;s size (char array) but I cant understand why. \r\nAlso there is a possibility that first read can have buffer[-1] = &#39;\\r&#39; and &#39;\\n&#39; can be in the second buffer so I need to create a stringbuilder that will store chars (tbh 1 char before the second is added to the stringbuilder) before they will be recognized as a line separator. \r\n```\r\npublic boolean hasNextLine() {\r\n        refillIfNeeded();\r\n        StringBuilder sep = new StringBuilder();\r\n        while (true) {\r\n            if (getCurrentID() == lastFilled(block)) {\r\n                refillIfNeeded();\r\n                newCurrentID(0);\r\n            }\r\n            if (countofread == -1) {\r\n                break;\r\n            }\r\n            for (int i = getCurrentID(); i &lt; lastFilled(block); i++) {\r\n                if (block[i] == &#39;\\n&#39; || block[i] == &#39;\\r&#39;) {\r\n                    sep.append(block[i]);\r\n                    System.out.println(sep.length());\r\n                    if (sep.toString().equals(separator)) {\r\n                        sep.setLength(0);\r\n                        newCurrentID(i + 1);\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            newCurrentID(lastFilled(block));\r\n        }\r\n        return false;\r\n    }\r\n```\r\nFunctions and their code can be found below:\r\n\r\n```\r\nimport java.io.*;\r\n\r\npublic class MyScanner {\r\n\r\n    File source;\r\n    String charsetName;\r\n    String string;\r\n    InputStream in;\r\n    BufferedReader reader;\r\n    int CurrentID = 0;\r\n    char[] block = new char[16];\r\n    int countofread = 0;\r\n\r\n    String separator = System.lineSeparator();\r\n\r\n    public MyScanner(File source, String charsetName) {\r\n        this.source = source;\r\n        this.charsetName = charsetName;\r\n        try {\r\n            reader = new BufferedReader(\r\n                    new InputStreamReader(new FileInputStream(source), charsetName)\r\n            );\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;Unsupported Encoding or File Not Found&quot;);\r\n        }\r\n    }\r\n\r\n    public MyScanner(File source) {\r\n        this.source = source;\r\n        try {\r\n            reader = new BufferedReader(\r\n                    new InputStreamReader(new FileInputStream(source))\r\n            );\r\n        } catch (FileNotFoundException e) {\r\n            System.err.println(&quot;File Not Found&quot;);\r\n        }\r\n    }\r\n\r\n    public MyScanner(String string) {\r\n        this.string = string;\r\n        reader = new BufferedReader(new StringReader(string));\r\n    }\r\n\r\n    public MyScanner(InputStream in) {\r\n        reader = new BufferedReader(new InputStreamReader(in));\r\n    }\r\n\r\n    public MyScanner(InputStream in, String charsetName) {\r\n        try {\r\n            reader = new BufferedReader(\r\n                    new InputStreamReader(in, charsetName)\r\n            );\r\n        } catch (UnsupportedEncodingException e) {\r\n            System.err.println(&quot;Unsupported Encoding&quot;);\r\n        }\r\n    }\r\n\r\n    public void close() {\r\n        try {\r\n            reader.close();\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;Can&#39;t close the scanner&quot;);\r\n        }\r\n    }\r\n\r\n    public int fillBlock(char[] block) {\r\n        try {\r\n            countofread = reader.read(block);\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;Can&#39;t fill the block&quot;);\r\n        }\r\n        return countofread;\r\n    }\r\n\r\n    public int getCurrentID() {\r\n        return CurrentID;\r\n    }\r\n\r\n    public void newCurrentID(int newID) {\r\n        CurrentID = newID;\r\n    }\r\n\r\n    public int lastFilled(char[] arr) {\r\n        int last = arr.length - 1;\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            if (arr[i] == Character.MIN_VALUE) {\r\n                last = i - 1;\r\n                return last;\r\n            }\r\n        }\r\n        return last;\r\n    }\r\n\r\n    public void refillIfNeeded() {\r\n        if (getCurrentID() &gt;= lastFilled(block)) {\r\n            fillBlock(block);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    public boolean hasNextLine() {\r\n        refillIfNeeded();\r\n        StringBuilder sep = new StringBuilder();\r\n        while (true) {\r\n            if (getCurrentID() == lastFilled(block)) {\r\n                refillIfNeeded();\r\n                newCurrentID(0);\r\n            }\r\n            if (countofread == -1) {\r\n                break;\r\n            }\r\n            for (int i = getCurrentID(); i &lt; lastFilled(block); i++) {\r\n                if (block[i] == &#39;\\n&#39; || block[i] == &#39;\\r&#39;) {\r\n                    sep.append(block[i]);\r\n                    System.out.println(sep.length());\r\n                    if (sep.toString().equals(separator)) {\r\n                        sep.setLength(0);\r\n                        newCurrentID(i + 1);\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            newCurrentID(lastFilled(block));\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n\r\n","title":"I need to create my own method hasNextLine with block reading and system.lineseparator","body":"<p>I've been struggling with it for almost a week. I need to make a function in my class that returns true/false if there is a next line in system.in, in a string or in a file.(no matter if it will detect last empty line 'cause java original scanner does the same)\nIt should be written according to my skills (2 months of java in university) - we have only started to write our classes and it is a homework. I don't need you to do it for yourself but I need an advice. I can't use buffered reader's next line. I need to use my own blocking read (array of chars ~256-1024 chars) and when I use that function/method I need to continue reading from the char that was the last in previous time when function was called.</p>\n<p>I tried this: It doesn't work on mac but on windows sometimes it does depending on buffer's size (char array) but I cant understand why.\nAlso there is a possibility that first read can have buffer[-1] = '\\r' and '\\n' can be in the second buffer so I need to create a stringbuilder that will store chars (tbh 1 char before the second is added to the stringbuilder) before they will be recognized as a line separator.</p>\n<pre><code>public boolean hasNextLine() {\n        refillIfNeeded();\n        StringBuilder sep = new StringBuilder();\n        while (true) {\n            if (getCurrentID() == lastFilled(block)) {\n                refillIfNeeded();\n                newCurrentID(0);\n            }\n            if (countofread == -1) {\n                break;\n            }\n            for (int i = getCurrentID(); i &lt; lastFilled(block); i++) {\n                if (block[i] == '\\n' || block[i] == '\\r') {\n                    sep.append(block[i]);\n                    System.out.println(sep.length());\n                    if (sep.toString().equals(separator)) {\n                        sep.setLength(0);\n                        newCurrentID(i + 1);\n                        return true;\n                    }\n                }\n            }\n            newCurrentID(lastFilled(block));\n        }\n        return false;\n    }\n</code></pre>\n<p>Functions and their code can be found below:</p>\n<pre><code>import java.io.*;\n\npublic class MyScanner {\n\n    File source;\n    String charsetName;\n    String string;\n    InputStream in;\n    BufferedReader reader;\n    int CurrentID = 0;\n    char[] block = new char[16];\n    int countofread = 0;\n\n    String separator = System.lineSeparator();\n\n    public MyScanner(File source, String charsetName) {\n        this.source = source;\n        this.charsetName = charsetName;\n        try {\n            reader = new BufferedReader(\n                    new InputStreamReader(new FileInputStream(source), charsetName)\n            );\n        } catch (IOException e) {\n            System.err.println(&quot;Unsupported Encoding or File Not Found&quot;);\n        }\n    }\n\n    public MyScanner(File source) {\n        this.source = source;\n        try {\n            reader = new BufferedReader(\n                    new InputStreamReader(new FileInputStream(source))\n            );\n        } catch (FileNotFoundException e) {\n            System.err.println(&quot;File Not Found&quot;);\n        }\n    }\n\n    public MyScanner(String string) {\n        this.string = string;\n        reader = new BufferedReader(new StringReader(string));\n    }\n\n    public MyScanner(InputStream in) {\n        reader = new BufferedReader(new InputStreamReader(in));\n    }\n\n    public MyScanner(InputStream in, String charsetName) {\n        try {\n            reader = new BufferedReader(\n                    new InputStreamReader(in, charsetName)\n            );\n        } catch (UnsupportedEncodingException e) {\n            System.err.println(&quot;Unsupported Encoding&quot;);\n        }\n    }\n\n    public void close() {\n        try {\n            reader.close();\n        } catch (IOException e) {\n            System.err.println(&quot;Can't close the scanner&quot;);\n        }\n    }\n\n    public int fillBlock(char[] block) {\n        try {\n            countofread = reader.read(block);\n        } catch (IOException e) {\n            System.err.println(&quot;Can't fill the block&quot;);\n        }\n        return countofread;\n    }\n\n    public int getCurrentID() {\n        return CurrentID;\n    }\n\n    public void newCurrentID(int newID) {\n        CurrentID = newID;\n    }\n\n    public int lastFilled(char[] arr) {\n        int last = arr.length - 1;\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[i] == Character.MIN_VALUE) {\n                last = i - 1;\n                return last;\n            }\n        }\n        return last;\n    }\n\n    public void refillIfNeeded() {\n        if (getCurrentID() &gt;= lastFilled(block)) {\n            fillBlock(block);\n        }\n    }\n\n\n\n    public boolean hasNextLine() {\n        refillIfNeeded();\n        StringBuilder sep = new StringBuilder();\n        while (true) {\n            if (getCurrentID() == lastFilled(block)) {\n                refillIfNeeded();\n                newCurrentID(0);\n            }\n            if (countofread == -1) {\n                break;\n            }\n            for (int i = getCurrentID(); i &lt; lastFilled(block); i++) {\n                if (block[i] == '\\n' || block[i] == '\\r') {\n                    sep.append(block[i]);\n                    System.out.println(sep.length());\n                    if (sep.toString().equals(separator)) {\n                        sep.setLength(0);\n                        newCurrentID(i + 1);\n                        return true;\n                    }\n                }\n            }\n            newCurrentID(lastFilled(block));\n        }\n        return false;\n    }\n\n\n\n\n\n}\n\n\n\n</code></pre>\n"},{"tags":["java","build","maven-2","build-process"],"comments":[{"owner":{"account_id":369969,"reputation":21500,"user_id":717630,"display_name":"grepit"},"score":1,"creation_date":1410901395,"post_id":21746136,"comment_id":40498720,"body_markdown":"possible duplicate of [How is \\*mvn clean install\\* different from \\*mvn install\\*](http://stackoverflow.com/questions/6018701/how-is-mvn-clean-install-different-from-mvn-install)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6018701/how-is-mvn-clean-install-different-from-mvn-install\">How is *mvn clean install* different from *mvn install*</a>"}],"answers":[{"comments":[{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1631882745,"post_id":21746174,"comment_id":122350322,"body_markdown":"The term &quot;action&quot; isn&#39;t used in Maven for `clean`. There are four items named `clean`: `clean` lifecycle with its `clean` phase, `clean` [prefix](https://maven.apache.org/guides/introduction/introduction-to-plugin-prefix-mapping.html) for the  `maven-clean-plugin` with its `clean` goal. See also the comment to [this answer to _Maven: Lifecycle vs. Phase vs. Plugin vs. Goal_](https://stackoverflow.com/a/41466540/1744774). What you mean by _clean action_ and _install action_ here are Maven _phases_.","body":"The term &quot;action&quot; isn&#39;t used in Maven for <code>clean</code>. There are four items named <code>clean</code>: <code>clean</code> lifecycle with its <code>clean</code> phase, <code>clean</code> <a href=\"https://maven.apache.org/guides/introduction/introduction-to-plugin-prefix-mapping.html\" rel=\"nofollow noreferrer\">prefix</a> for the  <code>maven-clean-plugin</code> with its <code>clean</code> goal. See also the comment to <a href=\"https://stackoverflow.com/a/41466540/1744774\">this answer to <i>Maven: Lifecycle vs. Phase vs. Plugin vs. Goal</i></a>. What you mean by <i>clean action</i> and <i>install action</i> here are Maven <i>phases</i>."}],"tags":[],"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1392270234,"creation_date":1392270234,"answer_id":21746174,"question_id":21746136,"body_markdown":"As explained [here][1].\r\n\r\nclean is its own action in Maven. mvn clean install tell Maven to do the clean action in each module before running the install action for each module.\r\n\r\nWhat this does is clear any compiled files you have, making sure that you&#39;re really compiling each module from scratch.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6018701/how-is-mvn-clean-install-different-from-mvn-install","title":"difference between mvn clean and install commands","body":"<p>As explained <a href=\"https://stackoverflow.com/questions/6018701/how-is-mvn-clean-install-different-from-mvn-install\">here</a>.</p>\n\n<p>clean is its own action in Maven. mvn clean install tell Maven to do the clean action in each module before running the install action for each module.</p>\n\n<p>What this does is clear any compiled files you have, making sure that you're really compiling each module from scratch.</p>\n"},{"comments":[{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1631882445,"post_id":21746257,"comment_id":122350211,"body_markdown":"There&#39;s also another page for Maven phases: [Introduction to the Build Lifecycle](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#introduction-to-the-build-lifecycle) containing the section [Lifecycle Reference](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#lifecycle-reference). `site` hasn&#39;t to be called prior to default life-cycle phases, has it?","body":"There&#39;s also another page for Maven phases: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#introduction-to-the-build-lifecycle\" rel=\"nofollow noreferrer\">Introduction to the Build Lifecycle</a> containing the section <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#lifecycle-reference\" rel=\"nofollow noreferrer\">Lifecycle Reference</a>. <code>site</code> hasn&#39;t to be called prior to default life-cycle phases, has it?"}],"tags":[],"owner":{"account_id":1628076,"reputation":1,"user_id":2753452,"display_name":"mandeep"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631882561,"creation_date":1392270648,"answer_id":21746257,"question_id":21746136,"body_markdown":"Maven has this concept of **Maven Phases**. Please go through the Maven Phases of [this doc][1]. So when you run a phase (say maven phase `x`)  all the phases up to that phase is executed (that is phase 1 to phase `x`). \r\n\r\nYou need `mvn clean` to clean up artifacts created by prior builds. `mvn package` will package your code into your specified format in your POM. `mvn install` will also install the package made by Maven  into the local repository. \r\n\r\nAlso note that `clean` and `site` are not part of phases of the default life-cycle. You have to fire it before your `package` or `install` command. Needless to say ordering does matter here.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/getting-started/maven-in-five-minutes.html","title":"difference between mvn clean and install commands","body":"<p>Maven has this concept of <strong>Maven Phases</strong>. Please go through the Maven Phases of <a href=\"http://maven.apache.org/guides/getting-started/maven-in-five-minutes.html\" rel=\"nofollow noreferrer\">this doc</a>. So when you run a phase (say maven phase <code>x</code>)  all the phases up to that phase is executed (that is phase 1 to phase <code>x</code>).</p>\n<p>You need <code>mvn clean</code> to clean up artifacts created by prior builds. <code>mvn package</code> will package your code into your specified format in your POM. <code>mvn install</code> will also install the package made by Maven  into the local repository.</p>\n<p>Also note that <code>clean</code> and <code>site</code> are not part of phases of the default life-cycle. You have to fire it before your <code>package</code> or <code>install</code> command. Needless to say ordering does matter here.</p>\n"},{"comments":[{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1631488492,"post_id":28688974,"comment_id":122228264,"body_markdown":"... or POM file or any of [the core packaging types](https://maven.apache.org/pom.html#packaging) files or [custom packaging types](https://wiki.eclipse.org/Tycho/Packaging_Types#toc) files.","body":"... or POM file or any of <a href=\"https://maven.apache.org/pom.html#packaging\" rel=\"nofollow noreferrer\">the core packaging types</a> files or <a href=\"https://wiki.eclipse.org/Tycho/Packaging_Types#toc\" rel=\"nofollow noreferrer\">custom packaging types</a> files."}],"tags":[],"owner":{"account_id":5618074,"reputation":111,"user_id":4448755,"display_name":"Elilmatha Sivanesan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631881737,"creation_date":1424756885,"answer_id":28688974,"question_id":21746136,"body_markdown":"The main different between `mvn clean -Dmaven.test.skip=true package` and `mvn install` is that the first command line cleans the `target` directory and packages without running the tests. The second one compiles, tests, packages and installs the JAR or WAR file into the local repository at `~/.m2/repository`.","title":"difference between mvn clean and install commands","body":"<p>The main different between <code>mvn clean -Dmaven.test.skip=true package</code> and <code>mvn install</code> is that the first command line cleans the <code>target</code> directory and packages without running the tests. The second one compiles, tests, packages and installs the JAR or WAR file into the local repository at <code>~/.m2/repository</code>.</p>\n"}],"owner":{"account_id":344164,"reputation":2553,"user_id":676326,"accept_rate":50,"display_name":"TKV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9473,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1697591265,"creation_date":1392270043,"question_id":21746136,"body_markdown":"I am using maven for the build purpose and normally we use the maven command `mvn clean -Dmaven.test.skip=true package` only to build the web application. I know we can use the `mvn install` command also to build a web application. But can anyone provide me with the exact difference between these two commands?\r\n\r\nI found some notes on the clean and install commands. But i just want to know what&#39;s the advantage of using `mvn clean` command instead of using `install` command.","title":"difference between mvn clean and install commands","body":"<p>I am using maven for the build purpose and normally we use the maven command <code>mvn clean -Dmaven.test.skip=true package</code> only to build the web application. I know we can use the <code>mvn install</code> command also to build a web application. But can anyone provide me with the exact difference between these two commands?</p>\n\n<p>I found some notes on the clean and install commands. But i just want to know what's the advantage of using <code>mvn clean</code> command instead of using <code>install</code> command.</p>\n"},{"tags":["java","eclipse","selenium-webdriver","intellij-idea"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697229306,"post_id":77289255,"comment_id":136258713,"body_markdown":"You may want to try a Selenium plugin for IntelliJ. I can see at least two different options in the Marketplace. (as an aside: I only saw this because someone added the Java tag. Make sure to add a relevant language tag whenever possible, so the right people will see your question)","body":"You may want to try a Selenium plugin for IntelliJ. I can see at least two different options in the Marketplace. (as an aside: I only saw this because someone added the Java tag. Make sure to add a relevant language tag whenever possible, so the right people will see your question)"},{"owner":{"account_id":23346680,"reputation":13,"user_id":17420863,"display_name":"Vladek 721"},"score":0,"creation_date":1697230823,"post_id":77289255,"comment_id":136258891,"body_markdown":"Thank you for your response, @Jorn! I added all tags here since I use Java/SE and I changed my coding work environment from Eclipse to IntelliJ. Seems to me that all the tags are correct here and relevant to my question. Regarding your suggestion: how Selenium plugin will help here? I can&#39;t see in the pop-up window the implementation of my own methods or the locator for the web element when point the mouse cursor in those. But this feature works perfectly in Eclipse w/o any additional plugins.","body":"Thank you for your response, @Jorn! I added all tags here since I use Java/SE and I changed my coding work environment from Eclipse to IntelliJ. Seems to me that all the tags are correct here and relevant to my question. Regarding your suggestion: how Selenium plugin will help here? I can&#39;t see in the pop-up window the implementation of my own methods or the locator for the web element when point the mouse cursor in those. But this feature works perfectly in Eclipse w/o any additional plugins."}],"owner":{"account_id":23346680,"reputation":13,"user_id":17420863,"display_name":"Vladek 721"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697589747,"creation_date":1697213527,"question_id":77289255,"body_markdown":"[![IntelliJ](https://i.stack.imgur.com/tYmDQ.jpg)](https://i.stack.imgur.com/tYmDQ.jpg)\r\n\r\n\r\n\r\n[![Eclipse](https://i.stack.imgur.com/2nptw.jpg)](https://i.stack.imgur.com/2nptw.jpg)\r\n\r\n\r\nI am using Cucumber framework with POM(Java/Selenium/jUnit)) and @FindBy annotation in my page elements classes:\r\n\r\n```\r\n@FindBy(xpath = &quot;//*[contains(text(),&#39;Email Doc&#39;)]&quot;) public List &lt;WebElement&gt; emailDocuments;\r\n\r\n```\r\nby using:\r\n\r\n```\r\nPageFactory.initElements(driver, this);\r\n\r\n```\r\nRecently I decided to install IntelliJ and start working in this beautiful environment, I really enjoy it. but unfortunately, I noticed when I move the mouse cursor on the web element - I can&#39;t see the locator of the element as it was in Eclipse. I attached 2 screenshots, hope it will make more sense for you, and hope it is possible to fix it somehow in the settings or with the help of some plugins. (Please don&#39;t suggest to avid using @FindBy annotation, it will require a lot of changes in my framework). Thank you so much in advance for any help!\r\n\r\nUPDATE: I just noticed this is not only about web elements, also all the methods that I implement in different classes, I can&#39;t see the structure/implementation of those methods when I move the mouse, but it works in Eclipse for me. \r\n\r\nI tried to do research and didn&#39;t find anything except the check box in the settings for &quot;Show on mouse move&quot;.","title":"IntelliJ IDEA doesn&#39;t display locators for my webElements with mouse move, how it does Eclipse","body":"<p><a href=\"https://i.stack.imgur.com/tYmDQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tYmDQ.jpg\" alt=\"IntelliJ\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/2nptw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2nptw.jpg\" alt=\"Eclipse\" /></a></p>\n<p>I am using Cucumber framework with POM(Java/Selenium/jUnit)) and @FindBy annotation in my page elements classes:</p>\n<pre><code>@FindBy(xpath = &quot;//*[contains(text(),'Email Doc')]&quot;) public List &lt;WebElement&gt; emailDocuments;\n\n</code></pre>\n<p>by using:</p>\n<pre><code>PageFactory.initElements(driver, this);\n\n</code></pre>\n<p>Recently I decided to install IntelliJ and start working in this beautiful environment, I really enjoy it. but unfortunately, I noticed when I move the mouse cursor on the web element - I can't see the locator of the element as it was in Eclipse. I attached 2 screenshots, hope it will make more sense for you, and hope it is possible to fix it somehow in the settings or with the help of some plugins. (Please don't suggest to avid using @FindBy annotation, it will require a lot of changes in my framework). Thank you so much in advance for any help!</p>\n<p>UPDATE: I just noticed this is not only about web elements, also all the methods that I implement in different classes, I can't see the structure/implementation of those methods when I move the mouse, but it works in Eclipse for me.</p>\n<p>I tried to do research and didn't find anything except the check box in the settings for &quot;Show on mouse move&quot;.</p>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":200877,"reputation":3077,"user_id":446976,"accept_rate":74,"display_name":"Dheeraj Joshi"},"score":0,"creation_date":1335159586,"post_id":10275258,"comment_id":13216005,"body_markdown":"is _courses an empty list or it has same calue as courses? I can see multiple entries in the output","body":"is _courses an empty list or it has same calue as courses? I can see multiple entries in the output"}],"answers":[{"tags":[],"owner":{"account_id":85390,"reputation":10386,"user_id":238086,"accept_rate":53,"display_name":"Raam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335159630,"creation_date":1335159630,"answer_id":10275345,"question_id":10275258,"body_markdown":"     if(t.getSks()==4)      \r\n    {\r\n        i--;\r\n        t.setSks(2);\r\n        t.setIndex(index); // I want to set this one\r\n        index++;\r\n    }\r\n\r\nI guess you are decrementing i so that the object is added twice. But remember that its the same object that&#39;s getting added to the list. So when you set t.setIndex(index) it will change the value of index for the previous iteration.\r\nThis is because java deals with references only. So courses.get(0) and courses.get(1) returns a reference to the same object and hence this behaviour.\r\nIf you want the index to be different then you may need to clone the object and add it again to the list. You will need to think thru this and decide if you want another copy of the object or not.","title":"how to moving object twice from list to another list and set object variable differently","body":"<pre><code> if(t.getSks()==4)      \n{\n    i--;\n    t.setSks(2);\n    t.setIndex(index); // I want to set this one\n    index++;\n}\n</code></pre>\n\n<p>I guess you are decrementing i so that the object is added twice. But remember that its the same object that's getting added to the list. So when you set t.setIndex(index) it will change the value of index for the previous iteration.\nThis is because java deals with references only. So courses.get(0) and courses.get(1) returns a reference to the same object and hence this behaviour.\nIf you want the index to be different then you may need to clone the object and add it again to the list. You will need to think thru this and decide if you want another copy of the object or not.</p>\n"}],"owner":{"account_id":1427359,"reputation":1,"user_id":1350520,"display_name":"Nanda Bagus Pradnyana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697589680,"creation_date":1335159040,"question_id":10275258,"body_markdown":"I have question about assigning object to arraylist with nearly same objects, the objects come from another list which I want to add to the arraylist two times, and before I add it to another list, I need to set value a variable in those objects.\r\n\r\nthis the code, \r\n\r\n    ArrayList&lt;ClassCourse&gt; courses = new ArrayList&lt;ClassCourse&gt;();\r\n    ArrayList&lt;ClassCourse&gt; _courses = new ArrayList&lt;ClassCourse&gt;();\r\n\r\n    int index = 0;\r\n    for( int i = 0; i &lt; courses.size(); i++ )\r\n    {\r\n        ClassCourse t = courses.get(i);\r\n        if(t.getSks()==4)      \r\n        {\r\n            i--;\r\n            t.setSks(2);\r\n            t.setIndex(index); // I want to set this one\r\n            index++;\r\n        }\r\n        else\r\n        {\r\n            t.setIndex(index); // I want to set this one\r\n            index++;\r\n        }\r\n        _courses.add(t);\r\n    }\r\n\r\nthe problem is when I check the list by print it \r\n\r\n    for( ClassCourse t : _courses )\r\n        System.out.println( t.getIndex() + &quot; &quot; + t.getName() + &quot; &quot; +\r\n                t.getCourseCode() + &quot; &quot; + t.getSks() );\r\n\r\nand this is what I get \r\n\r\n\r\n&lt;pre&gt;\r\n1 Visi Komputer A 2\r\n1 Visi Komputer A 2\r\n2 Matematika Diskrit C 3\r\n4 Jaringan Nirkabel dan Komputasi Bergerak A 2\r\n4 Jaringan Nirkabel dan Komputasi Bergerak A 2\r\n5 Pemograman Framework .NET A 3\r\n6 Perancangan dan Analisis Algoritma E 3\r\n8 Sistem Terdistribusi A 2\r\n8 Sistem Terdistribusi A 2\r\n9 Matematika Diskrit D 3\r\n11 Manajemen Proyek Perangkat Lunak A 2\r\n11 Manajemen Proyek Perangkat Lunak A 2\r\n&lt;/pre&gt;\r\n\r\nI can&#39;t get index&#39;s value increasing in right way","title":"how to moving object twice from list to another list and set object variable differently","body":"<p>I have question about assigning object to arraylist with nearly same objects, the objects come from another list which I want to add to the arraylist two times, and before I add it to another list, I need to set value a variable in those objects.</p>\n\n<p>this the code, </p>\n\n<pre><code>ArrayList&lt;ClassCourse&gt; courses = new ArrayList&lt;ClassCourse&gt;();\nArrayList&lt;ClassCourse&gt; _courses = new ArrayList&lt;ClassCourse&gt;();\n\nint index = 0;\nfor( int i = 0; i &lt; courses.size(); i++ )\n{\n    ClassCourse t = courses.get(i);\n    if(t.getSks()==4)      \n    {\n        i--;\n        t.setSks(2);\n        t.setIndex(index); // I want to set this one\n        index++;\n    }\n    else\n    {\n        t.setIndex(index); // I want to set this one\n        index++;\n    }\n    _courses.add(t);\n}\n</code></pre>\n\n<p>the problem is when I check the list by print it </p>\n\n<pre><code>for( ClassCourse t : _courses )\n    System.out.println( t.getIndex() + \" \" + t.getName() + \" \" +\n            t.getCourseCode() + \" \" + t.getSks() );\n</code></pre>\n\n<p>and this is what I get </p>\n\n<pre>\n1 Visi Komputer A 2\n1 Visi Komputer A 2\n2 Matematika Diskrit C 3\n4 Jaringan Nirkabel dan Komputasi Bergerak A 2\n4 Jaringan Nirkabel dan Komputasi Bergerak A 2\n5 Pemograman Framework .NET A 3\n6 Perancangan dan Analisis Algoritma E 3\n8 Sistem Terdistribusi A 2\n8 Sistem Terdistribusi A 2\n9 Matematika Diskrit D 3\n11 Manajemen Proyek Perangkat Lunak A 2\n11 Manajemen Proyek Perangkat Lunak A 2\n</pre>\n\n<p>I can't get index's value increasing in right way</p>\n"},{"tags":["java","class","methods"],"comments":[{"owner":{"account_id":58163,"reputation":14175,"user_id":174184,"accept_rate":73,"display_name":"TJ-"},"score":6,"creation_date":1407773312,"post_id":25247669,"comment_id":39334486,"body_markdown":"static methods can access static properties only.","body":"static methods can access static properties only."}],"answers":[{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1407773373,"creation_date":1407773373,"answer_id":25247694,"question_id":25247669,"body_markdown":"Because `b` is an instance field, scoped within instances of the `Name` class. \r\n\r\nYour `main` method is `static`, scoped within the class itself.\r\n\r\nDeclare `b` as `static` to be able to access it from the `main` method. \r\n\r\nYou&#39;ll also need to make methods `get()` and `num()` `static` to compile. ","title":"java class why public static void main(String[] args) method can not access the property value of the class it is in?","body":"<p>Because <code>b</code> is an instance field, scoped within instances of the <code>Name</code> class. </p>\n\n<p>Your <code>main</code> method is <code>static</code>, scoped within the class itself.</p>\n\n<p>Declare <code>b</code> as <code>static</code> to be able to access it from the <code>main</code> method. </p>\n\n<p>You'll also need to make methods <code>get()</code> and <code>num()</code> <code>static</code> to compile. </p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1407773454,"creation_date":1407773454,"answer_id":25247727,"question_id":25247669,"body_markdown":"It&#39;s an instance (non-static) field, so you need an instance to reference it:\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(new Name().b);\r\n    }","title":"java class why public static void main(String[] args) method can not access the property value of the class it is in?","body":"<p>It's an instance (non-static) field, so you need an instance to reference it:</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(new Name().b);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1777799,"reputation":6787,"user_id":1621233,"accept_rate":25,"display_name":"Joe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407774228,"creation_date":1407774228,"answer_id":25247929,"question_id":25247669,"body_markdown":"Static methods can only access static properties.  You could either make `b` static, or you can instead instantionalize Name:\r\n\r\n    public class Name{\r\n    int b = 100;\r\n\r\n    public void get(){\r\n        System.out.println(b);\r\n    }\r\n    \r\n    public int num(){\r\n        return b;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        new Name(args);\r\n    }\r\n\r\n    public Name(String[] args) {\r\n        System.out.println(b);\r\n    }\r\n\r\n","title":"java class why public static void main(String[] args) method can not access the property value of the class it is in?","body":"<p>Static methods can only access static properties.  You could either make <code>b</code> static, or you can instead instantionalize Name:</p>\n\n<pre><code>public class Name{\nint b = 100;\n\npublic void get(){\n    System.out.println(b);\n}\n\npublic int num(){\n    return b;\n}\n\npublic static void main(String[] args) {\n    new Name(args);\n}\n\npublic Name(String[] args) {\n    System.out.println(b);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1697588475,"post_id":77310531,"comment_id":136297799,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77310531/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1697601046,"post_id":77310531,"comment_id":136298842,"body_markdown":"Pardon me, but I don&#39;t see how the code in your answer is related to the question. I suggest that you take the [tour] and visit the [help].","body":"Pardon me, but I don&#39;t see how the code in your answer is related to the question. I suggest that you take the <a href=\"https://stackoverflow.com/tour\">tour</a> and visit the <a href=\"https://stackoverflow.com/help\">help center</a>."}],"tags":[],"owner":{"account_id":29693523,"reputation":1,"user_id":22757375,"display_name":"vijayavelan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697588560,"creation_date":1697558400,"answer_id":77310531,"question_id":25247669,"body_markdown":"```java\r\npublic class Main {\r\n    public static void main(String []args){\r\n\t    System.out.println(&quot;hello world!&quot;);\r\n    }\r\n}\r\n```","title":"java class why public static void main(String[] args) method can not access the property value of the class it is in?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String []args){\n        System.out.println(&quot;hello world!&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1971314,"reputation":428,"user_id":1770154,"accept_rate":50,"display_name":"raton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1251,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":4,"score":-4,"last_activity_date":1697588560,"creation_date":1407773284,"question_id":25247669,"body_markdown":"    public class Name{\r\n\tint b = 100;\r\n\tpublic void get(){\r\n\t\tSystem.out.println(b);\r\n\t}\r\n\t\r\n\tpublic int num(){\r\n\t\treturn b;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(b);\r\n\t}\r\n\r\n}\r\n\r\nget method can access b, num method can access b as well. why not public static void main method can access b.","title":"java class why public static void main(String[] args) method can not access the property value of the class it is in?","body":"<pre><code>public class Name{\nint b = 100;\npublic void get(){\n    System.out.println(b);\n}\n\npublic int num(){\n    return b;\n}\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    System.out.println(b);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>get method can access b, num method can access b as well. why not public static void main method can access b.</p>\n"},{"tags":["java","android","kotlin","localization"],"answers":[{"tags":[],"owner":{"account_id":10332243,"reputation":65,"user_id":7621652,"display_name":"Mudra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697588096,"creation_date":1697588096,"answer_id":77312849,"question_id":77305870,"body_markdown":"The issue was -  overriding my attachBaseContext method with updated contextWrapper.\r\nSo, I removed attachBaseContext method, and its working fine.\r\n\r\nEnsure your activity is extended with AppCompactActivity for the backward compatible APIs that work with the AppCompatActivity context, not the application context, for Android 12 (API level 32) and earlier. Access the backward compatible APIs with Appcompat 1.6.0 or higher.","title":"Issue for an Android 12 above - Traditional Chinese Language using AppCompatDelegate","body":"<p>The issue was -  overriding my attachBaseContext method with updated contextWrapper.\nSo, I removed attachBaseContext method, and its working fine.</p>\n<p>Ensure your activity is extended with AppCompactActivity for the backward compatible APIs that work with the AppCompatActivity context, not the application context, for Android 12 (API level 32) and earlier. Access the backward compatible APIs with Appcompat 1.6.0 or higher.</p>\n"}],"owner":{"account_id":10332243,"reputation":65,"user_id":7621652,"display_name":"Mudra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697588096,"creation_date":1697509515,"question_id":77305870,"body_markdown":"I&#39;m having an issue for above android 12, setting the traditional Chinese language using AppCompatDelegate.\r\n\r\nThe rest of the languages working fine.\r\n\r\nHere is the code,\r\n\r\n            val appLocale: LocaleListCompat = LocaleListCompat.forLanguageTags(&quot;zh-Hant&quot;)\r\n            // Call this on the main thread as it may require Activity.restart()\r\n            AppCompatDelegate.setApplicationLocales(appLocale)\r\n\r\nLocale.xml:\r\n\r\n    \r\n    &lt;locale-config xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n       &lt;locale android:name=&quot;en&quot;/&gt;\r\n       &lt;locale android:name=&quot;ms&quot;/&gt;\r\n       &lt;locale android:name=&quot;th&quot;/&gt;\r\n       &lt;locale android:name=&quot;zh&quot;/&gt;\r\n       &lt;locale android:name=&quot;zh-Hant-TW&quot;/&gt;\r\n       &lt;locale android:name=&quot;hi&quot;/&gt;\r\n    &lt;/locale-config&gt;\r\n\r\nBuild.gradle-\r\n\r\n    resConfigs(&quot;en&quot;, &quot;hi&quot;, &quot;ms&quot;, &quot;th&quot;,&quot;zh&quot;, &quot;zh-rTW&quot;, &quot;b+zh+Hant+TW&quot;)\r\n\r\n\r\nGitHub Reference link - [https://github.com/android/user-interface-samples/tree/main/PerAppLanguages/views_app][1]\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://github.com/android/user-interface-samples/tree/main/PerAppLanguages/views_app","title":"Issue for an Android 12 above - Traditional Chinese Language using AppCompatDelegate","body":"<p>I'm having an issue for above android 12, setting the traditional Chinese language using AppCompatDelegate.</p>\n<p>The rest of the languages working fine.</p>\n<p>Here is the code,</p>\n<pre><code>        val appLocale: LocaleListCompat = LocaleListCompat.forLanguageTags(&quot;zh-Hant&quot;)\n        // Call this on the main thread as it may require Activity.restart()\n        AppCompatDelegate.setApplicationLocales(appLocale)\n</code></pre>\n<p>Locale.xml:</p>\n<pre><code>&lt;locale-config xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n   &lt;locale android:name=&quot;en&quot;/&gt;\n   &lt;locale android:name=&quot;ms&quot;/&gt;\n   &lt;locale android:name=&quot;th&quot;/&gt;\n   &lt;locale android:name=&quot;zh&quot;/&gt;\n   &lt;locale android:name=&quot;zh-Hant-TW&quot;/&gt;\n   &lt;locale android:name=&quot;hi&quot;/&gt;\n&lt;/locale-config&gt;\n</code></pre>\n<p>Build.gradle-</p>\n<pre><code>resConfigs(&quot;en&quot;, &quot;hi&quot;, &quot;ms&quot;, &quot;th&quot;,&quot;zh&quot;, &quot;zh-rTW&quot;, &quot;b+zh+Hant+TW&quot;)\n</code></pre>\n<p>GitHub Reference link - <a href=\"https://github.com/android/user-interface-samples/tree/main/PerAppLanguages/views_app\" rel=\"nofollow noreferrer\">https://github.com/android/user-interface-samples/tree/main/PerAppLanguages/views_app</a></p>\n<p>Thanks!</p>\n"},{"tags":["java","syntax","logic","bit-manipulation"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1355001627,"creation_date":1355001627,"answer_id":13782047,"question_id":13782025,"body_markdown":"see if the the right most bit is 1 then its not, by using bitwise operators\r\n\r\n\r\nperform logical and with (for example)\r\n\r\n    yourNumber &amp; 1","title":"Testing for even numbers in Java without modulo operator","body":"<p>see if the the right most bit is 1 then its not, by using bitwise operators</p>\n\n<p>perform logical and with (for example)</p>\n\n<pre><code>yourNumber &amp; 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1355001712,"creation_date":1355001712,"answer_id":13782059,"question_id":13782025,"body_markdown":"Check the least significant bit:\r\n\r\n    boolean even = (x &amp; 1) == 0;\r\n\r\nLSB is `0` for even number and `1` for odd, just like for decimal numbers least significant digit is `0` if it&#39;s dividable by `10`.","title":"Testing for even numbers in Java without modulo operator","body":"<p>Check the least significant bit:</p>\n\n<pre><code>boolean even = (x &amp; 1) == 0;\n</code></pre>\n\n<p>LSB is <code>0</code> for even number and <code>1</code> for odd, just like for decimal numbers least significant digit is <code>0</code> if it's dividable by <code>10</code>.</p>\n"},{"tags":[],"owner":{"account_id":1449510,"reputation":48182,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1355002754,"creation_date":1355001730,"answer_id":13782063,"question_id":13782025,"body_markdown":"Use the bitwise operation `and`\r\n\r\n    if( (number&amp;1) == 0)\r\n\r\n**Bitwise AND operator &amp;**\r\n\r\n&gt; The &amp; (bitwise AND) operator compares each bit of its first operand to\r\n&gt; the corresponding bit of the second operand. If both bits are 1&#39;s, the\r\n&gt; corresponding bit of the result is set to 1. Otherwise, it sets the\r\n&gt; corresponding result bit to 0 ([source][1]).\r\n \r\nIn the **binary** format even numbers has the **Least significant bit equal to zero**. knowing this and using the &amp; operator you can find out if it is even or not.\r\n\r\nSo it takes a number ..abcdy and compares with ..00001 if y is zero than ..abcdy &amp; ..00001 is also zero, thus a even number.\r\n\r\n\r\n  [1]: http://publib.boulder.ibm.com/infocenter/lnxpcomp/v8v101/index.jsp?topic=/com.ibm.xlcpp8l.doc/language/ref/bitande.htm","title":"Testing for even numbers in Java without modulo operator","body":"<p>Use the bitwise operation <code>and</code></p>\n\n<pre><code>if( (number&amp;1) == 0)\n</code></pre>\n\n<p><strong>Bitwise AND operator &amp;</strong></p>\n\n<blockquote>\n  <p>The &amp; (bitwise AND) operator compares each bit of its first operand to\n  the corresponding bit of the second operand. If both bits are 1's, the\n  corresponding bit of the result is set to 1. Otherwise, it sets the\n  corresponding result bit to 0 (<a href=\"http://publib.boulder.ibm.com/infocenter/lnxpcomp/v8v101/index.jsp?topic=/com.ibm.xlcpp8l.doc/language/ref/bitande.htm\">source</a>).</p>\n</blockquote>\n\n<p>In the <strong>binary</strong> format even numbers has the <strong>Least significant bit equal to zero</strong>. knowing this and using the &amp; operator you can find out if it is even or not.</p>\n\n<p>So it takes a number ..abcdy and compares with ..00001 if y is zero than ..abcdy &amp; ..00001 is also zero, thus a even number.</p>\n"},{"comments":[{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":0,"creation_date":1444909350,"post_id":20738300,"comment_id":54104511,"body_markdown":"Thats cool.. But how many times the while loop executes if you have a 15-20 digit number. Perfomance sucks.. You should learn the better way of doing things though they are hard to learn at first. Not just you , but in general as a programme.r","body":"Thats cool.. But how many times the while loop executes if you have a 15-20 digit number. Perfomance sucks.. You should learn the better way of doing things though they are hard to learn at first. Not just you , but in general as a programme.r"}],"tags":[],"owner":{"account_id":3764954,"reputation":1,"user_id":3128699,"display_name":"user3128699"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387781091,"creation_date":1387781091,"answer_id":20738300,"question_id":13782025,"body_markdown":"Myway ;)\r\n\r\npublic class Even_Odd {\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tint val=550;\r\n\t\t// TODO Auto-generated method stub\r\n\t\twhile(val&gt;=0)\r\n\t\t{\r\n\t\t\tif(val==1)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Odd Number&quot;);\r\n\t\t\t}\r\n\t\t\telse if(val==0)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Even Number&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\tval=val-2;\r\n\t\t\t//\tSystem.out.println(val);\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","title":"Testing for even numbers in Java without modulo operator","body":"<p>Myway ;)</p>\n\n<p>public class Even_Odd {</p>\n\n<pre><code>/**\n * @param args\n */\npublic static void main(String[] args) \n{\n    int val=550;\n    // TODO Auto-generated method stub\n    while(val&gt;=0)\n    {\n        if(val==1)\n        {\n            System.out.println(\"Odd Number\");\n        }\n        else if(val==0)\n        {\n            System.out.println(\"Even Number\");\n        }\n\n            val=val-2;\n        //  System.out.println(val);\n\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3243453,"reputation":348,"user_id":2735801,"display_name":"prashant"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1450871265,"creation_date":1450871265,"answer_id":34435035,"question_id":13782025,"body_markdown":"    if((n|1)==n)\r\n      System.out.println(&quot;odd&quot;);\r\n    else\r\n      System.out.println(&quot;even&quot;);\r\n\r\nReason: number is odd if the LSB is 1, and even otherwise. When n|1 is done, LSB of odd stays the same so the resulting number is not changed, while LSB of a even number becomes 1, thus changing the number.","title":"Testing for even numbers in Java without modulo operator","body":"<pre><code>if((n|1)==n)\n  System.out.println(\"odd\");\nelse\n  System.out.println(\"even\");\n</code></pre>\n\n<p>Reason: number is odd if the LSB is 1, and even otherwise. When n|1 is done, LSB of odd stays the same so the resulting number is not changed, while LSB of a even number becomes 1, thus changing the number.</p>\n"},{"tags":[],"owner":{"account_id":3764954,"reputation":1,"user_id":3128699,"display_name":"user3128699"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470982263,"creation_date":1470982263,"answer_id":38911073,"question_id":13782025,"body_markdown":"Divide the number by **2** and multiply the answer **2**, if you get your original number then the number is **&quot;Even&quot;** if not then the number is **&quot;Odd&quot;**\r\n\r\n    public class EvenOrOdd\r\n    {\r\n        public static void main(String args[])\r\n        {\r\n            int value = 129;\r\n            \r\n            if((value/2)*2==value)\r\n            {\r\n                System.out.println(&quot;The Given Number \\&quot;&quot;+value+&quot;\\&quot; is Even&quot;);\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;The Given Number \\&quot;&quot;+value+&quot;\\&quot; is Odd&quot;);\r\n            }\r\n        }\r\n    }","title":"Testing for even numbers in Java without modulo operator","body":"<p>Divide the number by <strong>2</strong> and multiply the answer <strong>2</strong>, if you get your original number then the number is <strong>\"Even\"</strong> if not then the number is <strong>\"Odd\"</strong></p>\n\n<pre><code>public class EvenOrOdd\n{\n    public static void main(String args[])\n    {\n        int value = 129;\n\n        if((value/2)*2==value)\n        {\n            System.out.println(\"The Given Number \\\"\"+value+\"\\\" is Even\");\n        }\n        else\n        {\n            System.out.println(\"The Given Number \\\"\"+value+\"\\\" is Odd\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9946062,"reputation":11,"user_id":7360747,"display_name":"Sachin Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484421510,"creation_date":1484421510,"answer_id":41653987,"question_id":13782025,"body_markdown":"    import java.io.*;\r\n    import java.util.*;\r\n    public class CheckNumber{\r\n\tpublic static void main(String... args)throws IOException{\r\n\t\t\r\n\t\tBufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n\t\t\r\n\t\tSystem.out.println(&quot;Please enter the number to check even or odd&quot;);\r\n\r\n\t\tint number=Integer.parseInt(br.readLine());\r\n\t\t\r\n\t\tString temp=number+&quot;&quot;; //convert number to string\r\n\t\t\r\n\t\tchar ch=temp.charAt(temp.length()-1); //get last character\r\n\t\t\r\n\t\ttemp=ch+&quot;&quot;;\r\n\t\t\r\n\t\tif(temp.equals(&quot;0&quot;) || temp.equals(&quot;2&quot;) || temp.equals(&quot;4&quot;) || temp.equals(&quot;6&quot;) || temp.equals(&quot;8&quot;)) //check last number is even\r\n\t\t\tSystem.out.println(&quot;Number is even&quot;);\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;Number is odd&quot;);\r\n\t}\r\n\r\n\r\n}","title":"Testing for even numbers in Java without modulo operator","body":"<pre><code>import java.io.*;\nimport java.util.*;\npublic class CheckNumber{\npublic static void main(String... args)throws IOException{\n\n    BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n\n    System.out.println(\"Please enter the number to check even or odd\");\n\n    int number=Integer.parseInt(br.readLine());\n\n    String temp=number+\"\"; //convert number to string\n\n    char ch=temp.charAt(temp.length()-1); //get last character\n\n    temp=ch+\"\";\n\n    if(temp.equals(\"0\") || temp.equals(\"2\") || temp.equals(\"4\") || temp.equals(\"6\") || temp.equals(\"8\")) //check last number is even\n        System.out.println(\"Number is even\");\n    else\n        System.out.println(\"Number is odd\");\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":2126401,"reputation":75,"user_id":1888437,"display_name":"JavaNewGirl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4367,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":7,"score":9,"last_activity_date":1697587963,"creation_date":1355001451,"question_id":13782025,"body_markdown":"How would I do this in Java? Find if a number is divisible by 2, if the last digit is even. (0,2,4,6,8) Example: 128 is, 129 is not","title":"Testing for even numbers in Java without modulo operator","body":"<p>How would I do this in Java? Find if a number is divisible by 2, if the last digit is even. (0,2,4,6,8) Example: 128 is, 129 is not</p>\n"},{"tags":["java","spring-boot","kotlin","spring-security","keycloak"],"answers":[{"comments":[{"owner":{"account_id":23226611,"reputation":1,"user_id":17318067,"display_name":"Thomas M"},"score":0,"creation_date":1697306743,"post_id":77293010,"comment_id":136264586,"body_markdown":"Thank you for your message, it helped me a lot to figure out the problem, but I am still having the issue, i feel like I applied what you said and what was in the advanced doc but for some reason the userAuthoritiesMapper doesn&#39;t seem to be invoked, when putting a breakpoint in it it even feels like the class doesn&#39;t get instanciated. Maybe I did something wrong here is the SecurityConfig current code : https://pastebin.com/JdgdRnEu","body":"Thank you for your message, it helped me a lot to figure out the problem, but I am still having the issue, i feel like I applied what you said and what was in the advanced doc but for some reason the userAuthoritiesMapper doesn&#39;t seem to be invoked, when putting a breakpoint in it it even feels like the class doesn&#39;t get instanciated. Maybe I did something wrong here is the SecurityConfig current code : <a href=\"https://pastebin.com/JdgdRnEu\" rel=\"nofollow noreferrer\">pastebin.com/JdgdRnEu</a>"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1697312772,"post_id":77293010,"comment_id":136265176,"body_markdown":"Your 2 filter-chains are not ordered and none contain `securityMatcher`, so there are great chances that the filter-chain used for your requests is not the one you expect. The filter-chain with highest priority (lowest `@Order`) should contain  `securityMatcher` to define for which requests it should be used, the other one serving as default for requests not matching. This is documented in the tutorials I linked.","body":"Your 2 filter-chains are not ordered and none contain <code>securityMatcher</code>, so there are great chances that the filter-chain used for your requests is not the one you expect. The filter-chain with highest priority (lowest <code>@Order</code>) should contain  <code>securityMatcher</code> to define for which requests it should be used, the other one serving as default for requests not matching. This is documented in the tutorials I linked."}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1697587932,"creation_date":1697290449,"answer_id":77293010,"question_id":77292319,"body_markdown":"[According to the documentation][1], authorities mapping in OAuth2 clients is done with a `GrantedAuthoritiesMapper` or an `OAuth2UserService`. There is no chance that a `JwtAuthenticationConverter`, or more generally any `Converter&lt;Jwt, ? extends AbstractAuthenticationToken&gt;`, is ever called when you use `oauth2Login` with a browser: inspect your queries with your debugging tools, you won&#39;t find an authorization header containing a JWT (you&#39;ll just have `JSESSIONID` cookie).\r\n\r\nYou added both OAuth2 client and resource server configurations to a single security filter-chain. This is a bad idea and leads to the kind of confusion you are struggling with:\r\n- `oauth2Login` is a client concern. It requires **session based security** and as so, should be protected against CSRF: **disabling CSRF protection in a security filter-chain with `oauth2Login` is a serious security breach**. `Authentication` implementation built by such a filter chain is `OAuth2AuthenticationToken`, like you seem having at runtime (or `AnonymousAuthenticationToken` if user is not authenticated)\r\n- `JwtAuthenticationConverter` is used by the default authentication manager for resource server: **when requests are authorized with JWT access tokens** (not sessions) and builds `JwtAuthenticationToken` (not `OAuth2AuthenticationToken`)\r\n\r\nYou should decide if your security filter-chain is for an OAuth2 client or an OAuth2 resource server and remove the parts that don&#39;t match your need. \r\n\r\nAn application that is solely a REST API should probably contain only resource server configuration. Login and logout shouldn&#39;t be its responsibility: this should be handled by the OAuth2 clients querying it (tools like Postman or Spring applications with REST clients like `RestTemplate`, `@FeignClient`, `WebClient` or `RestClient`).\r\n\r\nIf your application needs to be both an OAuth2 client with login and an OAuth2 resource server, then you should define two distinct `SecurityFilterChain` beans: one with client configuration (sessions, CSRF protection, login and loogout), and another one with resource server configuration (no sessions, no CSRF protection, no login, no logout). This can be needed for instance in a MVC application serving publicly Thymeleaf templates (with `oauth2Login`) and a REST API queried by OAuth2 clients (a MVC controller with a REST client, or any other micro service sending REST request with Bearer Authorization header).\r\n\r\nNote that according to [latest recommendations][2], OAuth2 clients (what sends queries to an OAuth2 resource server) should be &quot;confidential&quot;, which require it to run on a server you trust. **This excludes SPAs and mobile applications** (which can&#39;t keep a secret, reason for it being configured as &quot;public&quot; clients in many tutorials). What can be done for such applications is using a BFF, for instance `spring-cloud-gateway` configured as OAuth2 client with login and `TokenRelay` filter (to replace the session cookie with an authorization header containing the access token in session, before forwarding a request from the frontend to a resource server). Another option is to configure the REST API as an OAuth2 client, but this makes very little sense (why bothering issuing and storing tokens that are never used) and teams with such configuration should probably question their usage of OAuth2 (Form login would probably be more adapted).\r\n\r\nFor more info and sample configuration, you could find [my tutorials][3] useful.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/oauth2/login/advanced.html#oauth2login-advanced-map-authorities\r\n  [2]: https://github.com/spring-projects/spring-authorization-server/issues/297#issue-896744390\r\n  [3]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials","title":"Spring security jwtAuthConverter not getting triggered","body":"<p><a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/login/advanced.html#oauth2login-advanced-map-authorities\" rel=\"nofollow noreferrer\">According to the documentation</a>, authorities mapping in OAuth2 clients is done with a <code>GrantedAuthoritiesMapper</code> or an <code>OAuth2UserService</code>. There is no chance that a <code>JwtAuthenticationConverter</code>, or more generally any <code>Converter&lt;Jwt, ? extends AbstractAuthenticationToken&gt;</code>, is ever called when you use <code>oauth2Login</code> with a browser: inspect your queries with your debugging tools, you won't find an authorization header containing a JWT (you'll just have <code>JSESSIONID</code> cookie).</p>\n<p>You added both OAuth2 client and resource server configurations to a single security filter-chain. This is a bad idea and leads to the kind of confusion you are struggling with:</p>\n<ul>\n<li><code>oauth2Login</code> is a client concern. It requires <strong>session based security</strong> and as so, should be protected against CSRF: <strong>disabling CSRF protection in a security filter-chain with <code>oauth2Login</code> is a serious security breach</strong>. <code>Authentication</code> implementation built by such a filter chain is <code>OAuth2AuthenticationToken</code>, like you seem having at runtime (or <code>AnonymousAuthenticationToken</code> if user is not authenticated)</li>\n<li><code>JwtAuthenticationConverter</code> is used by the default authentication manager for resource server: <strong>when requests are authorized with JWT access tokens</strong> (not sessions) and builds <code>JwtAuthenticationToken</code> (not <code>OAuth2AuthenticationToken</code>)</li>\n</ul>\n<p>You should decide if your security filter-chain is for an OAuth2 client or an OAuth2 resource server and remove the parts that don't match your need.</p>\n<p>An application that is solely a REST API should probably contain only resource server configuration. Login and logout shouldn't be its responsibility: this should be handled by the OAuth2 clients querying it (tools like Postman or Spring applications with REST clients like <code>RestTemplate</code>, <code>@FeignClient</code>, <code>WebClient</code> or <code>RestClient</code>).</p>\n<p>If your application needs to be both an OAuth2 client with login and an OAuth2 resource server, then you should define two distinct <code>SecurityFilterChain</code> beans: one with client configuration (sessions, CSRF protection, login and loogout), and another one with resource server configuration (no sessions, no CSRF protection, no login, no logout). This can be needed for instance in a MVC application serving publicly Thymeleaf templates (with <code>oauth2Login</code>) and a REST API queried by OAuth2 clients (a MVC controller with a REST client, or any other micro service sending REST request with Bearer Authorization header).</p>\n<p>Note that according to <a href=\"https://github.com/spring-projects/spring-authorization-server/issues/297#issue-896744390\" rel=\"nofollow noreferrer\">latest recommendations</a>, OAuth2 clients (what sends queries to an OAuth2 resource server) should be &quot;confidential&quot;, which require it to run on a server you trust. <strong>This excludes SPAs and mobile applications</strong> (which can't keep a secret, reason for it being configured as &quot;public&quot; clients in many tutorials). What can be done for such applications is using a BFF, for instance <code>spring-cloud-gateway</code> configured as OAuth2 client with login and <code>TokenRelay</code> filter (to replace the session cookie with an authorization header containing the access token in session, before forwarding a request from the frontend to a resource server). Another option is to configure the REST API as an OAuth2 client, but this makes very little sense (why bothering issuing and storing tokens that are never used) and teams with such configuration should probably question their usage of OAuth2 (Form login would probably be more adapted).</p>\n<p>For more info and sample configuration, you could find <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials\" rel=\"nofollow noreferrer\">my tutorials</a> useful.</p>\n"}],"owner":{"account_id":23226611,"reputation":1,"user_id":17318067,"display_name":"Thomas M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697587932,"creation_date":1697276147,"question_id":77292319,"body_markdown":"I am trying to use spring security and keycloak for my auth system in my spring boot backend. The keycloak part is doing it&#39;s job, I have a keycloak server running on localhost:8180 where I can creates roles etc. When the backend user is not connected keycloak webview pops up and let me connect or register a new user. When displaying the inide of the OAuth2AuthenticationToken i get every right informations including the role of the user (screenshot 1).\r\n\r\nThe thing is that when protecting a route with @preAuthorize() (AppController.kt) the hasRole function get&#39;s triggered triggering hasAnyRole and hasAnyAuthorityName (screenshot2). But when looking at the roleSet, calling (getAuthoritySet()) I don&#39;t see the PREFIX_client_test. When putting a break point in the jwtAuthenticationCOnverter() I see that it only get&#39;s triggered on the app startup not when hitting a protected route. I don&#39;t know if you have any clue about that, I will provide you the code and screenshot under, thanks for your answers.\r\n\r\nResult of OAuth2AuthenticationToken\r\n[Result of OAuth2AuthenticationToken](https://i.stack.imgur.com/PwZEH.png)\r\n\r\nBreakpoint in hasAnyAuthorityName\r\n[Breakpoint in hasAnyAuthorityName](https://i.stack.imgur.com/wsMMf.png)\r\n\r\n**AppController.kt**\r\n```kotlin\r\npackage com.linkedout.backend.controller\r\n\r\nimport org.springframework.security.access.prepost.PreAuthorize\r\nimport org.springframework.security.oauth2.client.authentication.OAuth2AuthenticationToken\r\nimport org.springframework.web.bind.annotation.GetMapping\r\nimport org.springframework.web.bind.annotation.RequestMapping\r\nimport org.springframework.web.bind.annotation.RestController\r\n\r\n@RestController\r\n@RequestMapping(&quot;/&quot;)\r\nopen class AppController {\r\n    @GetMapping\r\n    open fun hello(token: OAuth2AuthenticationToken): String {\r\n        return &quot;Token: ${token}&quot;\r\n    }\r\n\r\n    @GetMapping(&quot;candidate&quot;)\r\n    @PreAuthorize(&quot;hasRole(&#39;client_candidate&#39;)&quot;)\r\n    open fun helloProtected(): String {\r\n        return &quot;Hello premium user&quot;\r\n    }\r\n\r\n    @GetMapping(&quot;test&quot;)\r\n    @PreAuthorize(&quot;hasRole(&#39;client_test&#39;)&quot;)\r\n    open fun test(): String {\r\n        return &quot;This is a test&quot;\r\n    }\r\n\r\n    @GetMapping(&quot;admin&quot;)\r\n    @PreAuthorize(&quot;hasRole(&#39;client_admin&#39;)&quot;)\r\n    open fun helloProtectedAdmin(): String {\r\n        return &quot;Hello admin user&quot;\r\n    }\r\n}\r\n```\r\n\r\n**SecurityConfig.kt**\r\n\r\n```kotlin\r\npackage com.linkedout.backend.config\r\n\r\nimport com.linkedout.backend.KeycloakLogoutHandler\r\nimport lombok.RequiredArgsConstructor\r\nimport org.springframework.context.annotation.Bean\r\nimport org.springframework.context.annotation.Configuration\r\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity\r\nimport org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationConverter\r\nimport org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter\r\nimport org.springframework.security.web.SecurityFilterChain\r\n\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity(prePostEnabled = true)\r\n@RequiredArgsConstructor\r\ninternal open class SecurityConfig() {\r\n\r\n    @Bean\r\n    @Throws(Exception::class)\r\n    open fun filterChain(http: HttpSecurity): SecurityFilterChain {\r\n        http.csrf { csrf -&gt; csrf.disable() }\r\n                .authorizeHttpRequests { auth -&gt; auth.anyRequest().fullyAuthenticated() }\r\n                .oauth2Login {  }\r\n                .oauth2ResourceServer { oauth2 -&gt; oauth2.jwt { jwtConfigurer -&gt; jwtConfigurer.jwtAuthenticationConverter(jwtAuthenticationConverter()) } }\r\n\r\n        return http.build()\r\n    }\r\n\r\n\r\n\r\n    open fun jwtAuthenticationConverter(): JwtAuthenticationConverter {\r\n        val jwtGrantedAuthoritiesConverter = JwtGrantedAuthoritiesConverter()\r\n        jwtGrantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;roles&quot;)\r\n        jwtGrantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;)\r\n\r\n        val jwtAuthenticationConverter = JwtAuthenticationConverter()\r\n        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(jwtGrantedAuthoritiesConverter)\r\n        return jwtAuthenticationConverter\r\n    }\r\n}\r\n```\r\n\r\n**application.yml**\r\n\r\n```kotlin\r\nspring:\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          issuer-uri: http://localhost:8180/realms/Linkedout\r\n          jwk-set-uri: http://localhost:8180/realms/Linkedout/protocol/openid-connect/certs\r\n      client:\r\n        registration:\r\n          keycloak:\r\n            client-id: backend\r\n            client-secret: PjkVtHOWmu7BEekOqJnY8TopHrJO0iCE\r\n            authorization-grant-type: authorization_code\r\n            scope: openid\r\n        provider:\r\n          keycloak:\r\n            issuer-uri: http://localhost:8180/realms/LinkedOut\r\n            user-name-attribute: preferred_username\r\n\r\nserver:\r\n  port: 9090\r\n```\r\n\r\n\r\n","title":"Spring security jwtAuthConverter not getting triggered","body":"<p>I am trying to use spring security and keycloak for my auth system in my spring boot backend. The keycloak part is doing it's job, I have a keycloak server running on localhost:8180 where I can creates roles etc. When the backend user is not connected keycloak webview pops up and let me connect or register a new user. When displaying the inide of the OAuth2AuthenticationToken i get every right informations including the role of the user (screenshot 1).</p>\n<p>The thing is that when protecting a route with @preAuthorize() (AppController.kt) the hasRole function get's triggered triggering hasAnyRole and hasAnyAuthorityName (screenshot2). But when looking at the roleSet, calling (getAuthoritySet()) I don't see the PREFIX_client_test. When putting a break point in the jwtAuthenticationCOnverter() I see that it only get's triggered on the app startup not when hitting a protected route. I don't know if you have any clue about that, I will provide you the code and screenshot under, thanks for your answers.</p>\n<p>Result of OAuth2AuthenticationToken\n<a href=\"https://i.stack.imgur.com/PwZEH.png\" rel=\"nofollow noreferrer\">Result of OAuth2AuthenticationToken</a></p>\n<p>Breakpoint in hasAnyAuthorityName\n<a href=\"https://i.stack.imgur.com/wsMMf.png\" rel=\"nofollow noreferrer\">Breakpoint in hasAnyAuthorityName</a></p>\n<p><strong>AppController.kt</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.linkedout.backend.controller\n\nimport org.springframework.security.access.prepost.PreAuthorize\nimport org.springframework.security.oauth2.client.authentication.OAuth2AuthenticationToken\nimport org.springframework.web.bind.annotation.GetMapping\nimport org.springframework.web.bind.annotation.RequestMapping\nimport org.springframework.web.bind.annotation.RestController\n\n@RestController\n@RequestMapping(&quot;/&quot;)\nopen class AppController {\n    @GetMapping\n    open fun hello(token: OAuth2AuthenticationToken): String {\n        return &quot;Token: ${token}&quot;\n    }\n\n    @GetMapping(&quot;candidate&quot;)\n    @PreAuthorize(&quot;hasRole('client_candidate')&quot;)\n    open fun helloProtected(): String {\n        return &quot;Hello premium user&quot;\n    }\n\n    @GetMapping(&quot;test&quot;)\n    @PreAuthorize(&quot;hasRole('client_test')&quot;)\n    open fun test(): String {\n        return &quot;This is a test&quot;\n    }\n\n    @GetMapping(&quot;admin&quot;)\n    @PreAuthorize(&quot;hasRole('client_admin')&quot;)\n    open fun helloProtectedAdmin(): String {\n        return &quot;Hello admin user&quot;\n    }\n}\n</code></pre>\n<p><strong>SecurityConfig.kt</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.linkedout.backend.config\n\nimport com.linkedout.backend.KeycloakLogoutHandler\nimport lombok.RequiredArgsConstructor\nimport org.springframework.context.annotation.Bean\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity\nimport org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationConverter\nimport org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter\nimport org.springframework.security.web.SecurityFilterChain\n\n\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(prePostEnabled = true)\n@RequiredArgsConstructor\ninternal open class SecurityConfig() {\n\n    @Bean\n    @Throws(Exception::class)\n    open fun filterChain(http: HttpSecurity): SecurityFilterChain {\n        http.csrf { csrf -&gt; csrf.disable() }\n                .authorizeHttpRequests { auth -&gt; auth.anyRequest().fullyAuthenticated() }\n                .oauth2Login {  }\n                .oauth2ResourceServer { oauth2 -&gt; oauth2.jwt { jwtConfigurer -&gt; jwtConfigurer.jwtAuthenticationConverter(jwtAuthenticationConverter()) } }\n\n        return http.build()\n    }\n\n\n\n    open fun jwtAuthenticationConverter(): JwtAuthenticationConverter {\n        val jwtGrantedAuthoritiesConverter = JwtGrantedAuthoritiesConverter()\n        jwtGrantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;roles&quot;)\n        jwtGrantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;)\n\n        val jwtAuthenticationConverter = JwtAuthenticationConverter()\n        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(jwtGrantedAuthoritiesConverter)\n        return jwtAuthenticationConverter\n    }\n}\n</code></pre>\n<p><strong>application.yml</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: http://localhost:8180/realms/Linkedout\n          jwk-set-uri: http://localhost:8180/realms/Linkedout/protocol/openid-connect/certs\n      client:\n        registration:\n          keycloak:\n            client-id: backend\n            client-secret: PjkVtHOWmu7BEekOqJnY8TopHrJO0iCE\n            authorization-grant-type: authorization_code\n            scope: openid\n        provider:\n          keycloak:\n            issuer-uri: http://localhost:8180/realms/LinkedOut\n            user-name-attribute: preferred_username\n\nserver:\n  port: 9090\n</code></pre>\n"},{"tags":["java","mysql","hibernate","jdbc"],"comments":[{"owner":{"account_id":2460030,"reputation":118398,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":1,"creation_date":1531227771,"post_id":51258496,"comment_id":89509853,"body_markdown":"I am unable to reproduce your issue with mysql-connector-java-5.1.46. For me, `.getColumns` returns `TINYINT`,  `3`,  and `0` for `TYPE_NAME`, `COLUMN_SIZE`, and `DECIMAL_DIGITS` respectively. Can you provide a [mcve] along with specific version information (driver version, server version, etc.)?","body":"I am unable to reproduce your issue with mysql-connector-java-5.1.46. For me, <code>.getColumns</code> returns <code>TINYINT</code>,  <code>3</code>,  and <code>0</code> for <code>TYPE_NAME</code>, <code>COLUMN_SIZE</code>, and <code>DECIMAL_DIGITS</code> respectively. Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> along with specific version information (driver version, server version, etc.)?"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1531570549,"post_id":51258496,"comment_id":89651246,"body_markdown":"What&#39;s the MySQL version? What&#39;s JDBC driver are you using?","body":"What&#39;s the MySQL version? What&#39;s JDBC driver are you using?"}],"answers":[{"tags":[],"owner":{"account_id":17836039,"reputation":21,"user_id":12955035,"display_name":"blairwag"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1582567094,"creation_date":1582564207,"answer_id":60380823,"question_id":51258496,"body_markdown":"We had a similar problem. Looks like newer versions of MySQL (namely post 5.0.6, like 8) have defined a `BIT` column type that is an alias for `TINYINT(1)`. Additionally, `BOOL` and `BOOLEAN` have been introduced. To resolve this issue for us, we decided to use the java connection string option `&quot;tinyInt1isBit=false&quot;` to get our correctly defined `TINYINT` columns reported correctly. We don&#39;t use `BIT`. Hope this helps.","title":"Tinyint returning as BIT in DatabaseMetaData JAVA","body":"<p>We had a similar problem. Looks like newer versions of MySQL (namely post 5.0.6, like 8) have defined a <code>BIT</code> column type that is an alias for <code>TINYINT(1)</code>. Additionally, <code>BOOL</code> and <code>BOOLEAN</code> have been introduced. To resolve this issue for us, we decided to use the java connection string option <code>\"tinyInt1isBit=false\"</code> to get our correctly defined <code>TINYINT</code> columns reported correctly. We don't use <code>BIT</code>. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":3428995,"reputation":465,"user_id":2873992,"display_name":"mcanvar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697587693,"creation_date":1697587693,"answer_id":77312835,"question_id":51258496,"body_markdown":"Thanks to the answer of @NatFar &amp; @blainwag, I&#39;ve solved my situation. I also wanted to add an answer for those trying to replicate tables via [ReplicaDB][1]. By default, it converts `TINYINT` to `BIN` by using `UNHEX()` function. To prevent this you can add the JDBC option at the end of your connection string like this:\r\n\r\n    --source-connect &quot;jdbc:mysql://localhost:3306/db?tinyInt1isBit=false&quot;\r\n\r\n\r\n  [1]: https://github.com/osalvador/ReplicaDB","title":"Tinyint returning as BIT in DatabaseMetaData JAVA","body":"<p>Thanks to the answer of @NatFar &amp; @blainwag, I've solved my situation. I also wanted to add an answer for those trying to replicate tables via <a href=\"https://github.com/osalvador/ReplicaDB\" rel=\"nofollow noreferrer\">ReplicaDB</a>. By default, it converts <code>TINYINT</code> to <code>BIN</code> by using <code>UNHEX()</code> function. To prevent this you can add the JDBC option at the end of your connection string like this:</p>\n<pre><code>--source-connect &quot;jdbc:mysql://localhost:3306/db?tinyInt1isBit=false&quot;\n</code></pre>\n"}],"owner":{"account_id":10932051,"reputation":513,"user_id":8034838,"accept_rate":57,"display_name":"Ankush Kapoor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697587693,"creation_date":1531204078,"question_id":51258496,"body_markdown":"MySql tinyint is returning as BIT in java and column size is returning as null. For other data types, it is working fine. Any Solution for this?\r\n\r\n\r\n\r\n    Class clsObj = Class.forName(className);\r\n    AbstractEntityPersister classMetadata = (AbstractEntityPersister) getSessionFactory().getClassMetadata(clsObj);\r\n    String[] properties = classMetadata.getPropertyNames();\r\n    String tableName = classMetadata.getTableName();\r\n    \r\n    Map&lt;String, String&gt; dbFieldToPojoFieldMap = new HashMap&lt;String, String&gt;();\r\n    for (String prop : properties) {\r\n        String[] names = classMetadata.getPropertyColumnNames(prop);\r\n        dbFieldToPojoFieldMap.put(names[0], prop);\r\n    }\r\n    \t\t\t\r\n    DatabaseMetaData meta = con.getMetaData();\r\n    ResultSet rsColumns = meta.getColumns(null, null, tableName, null);\r\n    \t\t\t\r\n    while (rsColumns.next()) {\r\n        Map&lt;String, String&gt; columnMetaData = new HashMap&lt;String, String&gt;();\r\n        String columnName = rsColumns.getString(Constants.COLUMN_NAME);\r\n        String columnType = rsColumns.getString(Constants.TYPE_NAME);\r\n        String columnSize = rsColumns.getString(Constants.COLUMN_SIZE);\r\n        String decimalDigits = rsColumns.getString(Constants.DECIMAL_DIGITS);\r\n    }","title":"Tinyint returning as BIT in DatabaseMetaData JAVA","body":"<p>MySql tinyint is returning as BIT in java and column size is returning as null. For other data types, it is working fine. Any Solution for this?</p>\n\n<pre><code>Class clsObj = Class.forName(className);\nAbstractEntityPersister classMetadata = (AbstractEntityPersister) getSessionFactory().getClassMetadata(clsObj);\nString[] properties = classMetadata.getPropertyNames();\nString tableName = classMetadata.getTableName();\n\nMap&lt;String, String&gt; dbFieldToPojoFieldMap = new HashMap&lt;String, String&gt;();\nfor (String prop : properties) {\n    String[] names = classMetadata.getPropertyColumnNames(prop);\n    dbFieldToPojoFieldMap.put(names[0], prop);\n}\n\nDatabaseMetaData meta = con.getMetaData();\nResultSet rsColumns = meta.getColumns(null, null, tableName, null);\n\nwhile (rsColumns.next()) {\n    Map&lt;String, String&gt; columnMetaData = new HashMap&lt;String, String&gt;();\n    String columnName = rsColumns.getString(Constants.COLUMN_NAME);\n    String columnType = rsColumns.getString(Constants.TYPE_NAME);\n    String columnSize = rsColumns.getString(Constants.COLUMN_SIZE);\n    String decimalDigits = rsColumns.getString(Constants.DECIMAL_DIGITS);\n}\n</code></pre>\n"},{"tags":["java","hashtable"],"comments":[{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":1,"creation_date":1697575772,"post_id":77312152,"comment_id":136296519,"body_markdown":"A hash table is basically an array where the elements are indexed by things other than integers -- strings in this case.  `wordCountTable.put(&quot;abcde&quot;, 5)` creates a new entry in the table called &quot;abcde&quot;, which has the value 5.  When I say `wordCountTable.get(&quot;abcde&quot;)`, I get back 5.  That&#39;s all there is to it.","body":"A hash table is basically an array where the elements are indexed by things other than integers -- strings in this case.  <code>wordCountTable.put(&quot;abcde&quot;, 5)</code> creates a new entry in the table called &quot;abcde&quot;, which has the value 5.  When I say <code>wordCountTable.get(&quot;abcde&quot;)</code>, I get back 5.  That&#39;s all there is to it."},{"owner":{"account_id":18422377,"reputation":21,"user_id":13419672,"display_name":"isi"},"score":0,"creation_date":1697576436,"post_id":77312152,"comment_id":136296612,"body_markdown":"I get this point, but what is weird for me here is that I calculate the occurrence number of each word in my file, and the code [ if else ] I don&#39;t get how it works. I have the right result but the logic I didn&#39;t get it.","body":"I get this point, but what is weird for me here is that I calculate the occurrence number of each word in my file, and the code [ if else ] I don&#39;t get how it works. I have the right result but the logic I didn&#39;t get it."},{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1697576916,"post_id":77312152,"comment_id":136296682,"body_markdown":"You get each word, one at a time.  If the word already exists in the table (so `wordCountTable.get` has a number), then we add 1 to the number and update the table.  If the word does not exist in the table (so `wordCountTable.get` returns `null`), then we create a new entry with the value 1.","body":"You get each word, one at a time.  If the word already exists in the table (so <code>wordCountTable.get</code> has a number), then we add 1 to the number and update the table.  If the word does not exist in the table (so <code>wordCountTable.get</code> returns <code>null</code>), then we create a new entry with the value 1."},{"owner":{"account_id":18422377,"reputation":21,"user_id":13419672,"display_name":"isi"},"score":0,"creation_date":1697577522,"post_id":77312152,"comment_id":136296758,"body_markdown":"what cant understand, can&#39;t find the part of the code that checks the existence of the word.","body":"what cant understand, can&#39;t find the part of the code that checks the existence of the word."},{"owner":{"account_id":2562085,"reputation":4946,"user_id":2223027,"display_name":"pyb"},"score":1,"creation_date":1697577824,"post_id":77312152,"comment_id":136296781,"body_markdown":"@isi the part of the code that checks the existence of the word is what Tim Roberts posted, `Integer count = wordCountTable.get(uniqueWord);`. If the table does not have an entry for the word, it will return `null`.","body":"@isi the part of the code that checks the existence of the word is what Tim Roberts posted, <code>Integer count = wordCountTable.get(uniqueWord);</code>. If the table does not have an entry for the word, it will return <code>null</code>."},{"owner":{"account_id":18422377,"reputation":21,"user_id":13419672,"display_name":"isi"},"score":0,"creation_date":1697578235,"post_id":77312152,"comment_id":136296832,"body_markdown":"here the entry is the key or I&#39;m wrong?","body":"here the entry is the key or I&#39;m wrong?"},{"owner":{"account_id":18422377,"reputation":21,"user_id":13419672,"display_name":"isi"},"score":0,"creation_date":1697578262,"post_id":77312152,"comment_id":136296836,"body_markdown":"And how it calcul the occurrence number then ?","body":"And how it calcul the occurrence number then ?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1697578560,"post_id":77312152,"comment_id":136296884,"body_markdown":"An entry is the key and its value together. If there is no entry in the map for a given key, then `get` will return `null`. In your code, that means if `count` is `null`, then you have not encountered the current word yet, so you `put` a **new** entry into the map with a value of `1`. Otherwise, if `count` is not `null`, then you _have_ encountered the current word at least once, and you **replace** that entry (via `put`) with a value of `count + 1`.","body":"An entry is the key and its value together. If there is no entry in the map for a given key, then <code>get</code> will return <code>null</code>. In your code, that means if <code>count</code> is <code>null</code>, then you have not encountered the current word yet, so you <code>put</code> a <b>new</b> entry into the map with a value of <code>1</code>. Otherwise, if <code>count</code> is not <code>null</code>, then you <i>have</i> encountered the current word at least once, and you <b>replace</b> that entry (via <code>put</code>) with a value of <code>count + 1</code>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1697578716,"post_id":77312152,"comment_id":136296913,"body_markdown":"That if-else may be a little too clever for its own good. An equivalent that may be more understandable to you is: `if (count == null) { wordCountTable.put(uniqueWord, 1); } else { wordCountTable.put(uniqueWord, count + 1); }`.","body":"That if-else may be a little too clever for its own good. An equivalent that may be more understandable to you is: <code>if (count == null) { wordCountTable.put(uniqueWord, 1); } else { wordCountTable.put(uniqueWord, count + 1); }</code>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1697578975,"post_id":77312152,"comment_id":136296947,"body_markdown":"As an aside, the `get`, if-else, and `put` could be simplified to `wordCountTable.merge(uniqueWord, 1, Integer::sum)` (see [merge](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)) and read up on functional interfaces/lambda expressions/method references if you want to know more).","body":"As an aside, the <code>get</code>, if-else, and <code>put</code> could be simplified to <code>wordCountTable.merge(uniqueWord, 1, Integer::sum)</code> (see <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">merge</a> and read up on functional interfaces/lambda expressions/method references if you want to know more)."},{"owner":{"account_id":18422377,"reputation":21,"user_id":13419672,"display_name":"isi"},"score":0,"creation_date":1697579891,"post_id":77312152,"comment_id":136297079,"body_markdown":"yeah it&#39;s clever to compare with if and here count has the value not the key but we need to compare with the key (the word), it&#39;s hard to understand but it works","body":"yeah it&#39;s clever to compare with if and here count has the value not the key but we need to compare with the key (the word), it&#39;s hard to understand but it works"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1697580570,"post_id":77312152,"comment_id":136297162,"body_markdown":"@Slaw I would suggest using `Math::addExact` rather than `Integer::sum` although in this instance the chance of an overflow may be small.","body":"@Slaw I would suggest using <code>Math::addExact</code> rather than <code>Integer::sum</code> although in this instance the chance of an overflow may be small."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1697585752,"post_id":77312152,"comment_id":136297573,"body_markdown":"@isi The key is always `uniqueWord`, which changes as lines are read from the file (i.e., as the `while` loop iterates). The map knows which value is mapped with which key and returns the correct value (or `null` if no value currently exists) for each key (i.e., word).","body":"@isi The key is always <code>uniqueWord</code>, which changes as lines are read from the file (i.e., as the <code>while</code> loop iterates). The map knows which value is mapped with which key and returns the correct value (or <code>null</code> if no value currently exists) for each key (i.e., word)."}],"answers":[{"comments":[{"owner":{"account_id":18422377,"reputation":21,"user_id":13419672,"display_name":"isi"},"score":0,"creation_date":1697580035,"post_id":77312387,"comment_id":136297098,"body_markdown":"Do you mean by that, that the same words have all the same value in coding the save key has the same value, or how?","body":"Do you mean by that, that the same words have all the same value in coding the save key has the same value, or how?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1697580767,"post_id":77312387,"comment_id":136297179,"body_markdown":"No need for an `if` statement or `putIfAbsent`, just use `merge`.","body":"No need for an <code>if</code> statement or <code>putIfAbsent</code>, just use <code>merge</code>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1697585329,"post_id":77312387,"comment_id":136297539,"body_markdown":"@isi, the _[Map](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html)_ _interface_ uses a _[Set](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html)_ for the _keys_.  The _String_ &quot;abc&quot; will increment independently of &quot;ABC&quot;.","body":"@isi, the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a></i> <i>interface</i> uses a <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\">Set</a></i> for the <i>keys</i>.  The <i>String</i> &quot;abc&quot; will increment independently of &quot;ABC&quot;."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697585499,"creation_date":1697578723,"answer_id":77312387,"question_id":77312152,"body_markdown":"&gt; _&quot;... how the hashtable works here, any help, please?&quot;_\r\n\r\nTo clarify, there is the _[Hashtable](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Hashtable.html)_ class, and the _[HashMap](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashMap.html)_ class.\\\r\nThe _HashMap_ class is newer, being from the _[Collections Framework](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/package-summary.html)_.\r\n\r\nHere is a summary of the code.\r\n\r\nGet the current _value_ of _key_, _uniqueWord_.\r\n\r\n```java\r\ncount = wordCountTable.get(uniqueWord)\r\n```\r\n\r\nIf the _value_ is _null_, the _key_ does not exist in the map.\\\r\nThus, increment by _1_, or start at _1_.\r\n\r\n```java\r\nif(count != null) {\r\n\r\n    count ++; }\r\nelse\r\n    count = 1;  \r\n```\r\n\r\nAdd or replace _key_ _uniqueWord_, with _value_ _count_.\r\n\r\n```java\r\nwordCountTable.put(uniqueWord, count)\r\n```\r\n\r\nAdditionally, this code can be simplified with with the _[merge](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction))_ method.\r\n\r\n```java\r\nMap&lt;String, Integer&gt; m = new TreeMap&lt;&gt;();\r\ntry (BufferedReader r = new BufferedReader(new FileReader(&quot;&quot;))) {\r\n    String w;\r\n    while ((w = r.readLine()) != null) m.merge(w, 1, Integer::sum);\r\n}\r\n```","title":"Java hashtable occurence number","body":"<blockquote>\n<p><em>&quot;... how the hashtable works here, any help, please?&quot;</em></p>\n</blockquote>\n<p>To clarify, there is the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Hashtable.html\" rel=\"nofollow noreferrer\">Hashtable</a></em> class, and the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashMap.html\" rel=\"nofollow noreferrer\">HashMap</a></em> class.<br />\nThe <em>HashMap</em> class is newer, being from the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/package-summary.html\" rel=\"nofollow noreferrer\">Collections Framework</a></em>.</p>\n<p>Here is a summary of the code.</p>\n<p>Get the current <em>value</em> of <em>key</em>, <em>uniqueWord</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>count = wordCountTable.get(uniqueWord)\n</code></pre>\n<p>If the <em>value</em> is <em>null</em>, the <em>key</em> does not exist in the map.<br />\nThus, increment by <em>1</em>, or start at <em>1</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(count != null) {\n\n    count ++; }\nelse\n    count = 1;  \n</code></pre>\n<p>Add or replace <em>key</em> <em>uniqueWord</em>, with <em>value</em> <em>count</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>wordCountTable.put(uniqueWord, count)\n</code></pre>\n<p>Additionally, this code can be simplified with with the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">merge</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; m = new TreeMap&lt;&gt;();\ntry (BufferedReader r = new BufferedReader(new FileReader(&quot;&quot;))) {\n    String w;\n    while ((w = r.readLine()) != null) m.merge(w, 1, Integer::sum);\n}\n</code></pre>\n"}],"owner":{"account_id":18422377,"reputation":21,"user_id":13419672,"display_name":"isi"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697585499,"creation_date":1697575390,"question_id":77312152,"body_markdown":"Hello, please I have a problem understanding the Hash table.\r\nI just read that it is a table with key and value.\r\nHere I will calculate the occurrence number of each word in the file.\r\nIt works but I didn&#39;t understand the logic behind it and how the hashtable works here, any help, please?\r\n\r\n\r\n             String st;   \r\n\t    \t HashMap&lt;String, Integer&gt; wordCountTable = new HashMap&lt;String, Integer&gt;();\r\n\t    \t try {\r\n\t\t\t\twhile ((st = br.readLine()) != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tString uniqueWord = st.toLowerCase();\r\n\t\t\t\t\t//System.out.println(uniqueWord);\r\n\t\t\t\t\tInteger count = wordCountTable.get(uniqueWord);\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(count != null) {\r\n\r\n\t\t\t\t\t\t\tcount ++; }\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tcount = 1;\t\r\n\t\t\t\t\t\twordCountTable.put(uniqueWord, count);","title":"Java hashtable occurence number","body":"<p>Hello, please I have a problem understanding the Hash table.\nI just read that it is a table with key and value.\nHere I will calculate the occurrence number of each word in the file.\nIt works but I didn't understand the logic behind it and how the hashtable works here, any help, please?</p>\n<pre><code>         String st;   \n         HashMap&lt;String, Integer&gt; wordCountTable = new HashMap&lt;String, Integer&gt;();\n         try {\n            while ((st = br.readLine()) != null)\n            {\n                String uniqueWord = st.toLowerCase();\n                //System.out.println(uniqueWord);\n                Integer count = wordCountTable.get(uniqueWord);\n\n                {\n                    if(count != null) {\n\n                        count ++; }\n                    else\n                        count = 1;  \n                    wordCountTable.put(uniqueWord, count);\n</code></pre>\n"},{"tags":["java","android","credential-manager","passkey"],"owner":{"account_id":1044474,"reputation":115,"user_id":1049769,"accept_rate":83,"display_name":"user1049769"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697582511,"creation_date":1697582511,"question_id":77312619,"body_markdown":"I&#39;m trying to implement authentication using the Credential Manager API on Android. While setting up the CreatePublicKeyCredentialRequest, I&#39;m encountering an error: Unexpected exception type androidx.credentials.exceptions.CreateCredentialNoCreateOptionException.\r\n\r\nHere&#39;s the sanitized JSON I&#39;m sending:\r\n\r\n```\r\n{\r\n  &quot;rp&quot;: {\r\n    &quot;name&quot;: &quot;[AppName]&quot;,\r\n    &quot;id&quot;: &quot;[AppDomain]&quot;\r\n  },\r\n  &quot;authenticatorSelection&quot;: {\r\n    &quot;authenticatorAttachment&quot;: &quot;platform&quot;,\r\n    &quot;requireResidentKey&quot;: true,\r\n    &quot;residentKey&quot;: &quot;required&quot;,\r\n    &quot;userVerification&quot;: &quot;required&quot;\r\n  },\r\n  &quot;user&quot;: {\r\n    &quot;name&quot;: &quot;[UserEmail]&quot;,\r\n    &quot;displayName&quot;: null,\r\n    &quot;id&quot;: &quot;[UserId]&quot;\r\n  },\r\n  &quot;pubKeyCredParams&quot;: [\r\n    {\r\n      &quot;type&quot;: &quot;public-key&quot;,\r\n      &quot;alg&quot;: -7\r\n    },\r\n    {\r\n      &quot;type&quot;: &quot;public-key&quot;,\r\n      &quot;alg&quot;: -257\r\n    }\r\n  ],\r\n  &quot;timeout&quot;: 60000,\r\n  &quot;attestation&quot;: &quot;none&quot;,\r\n  &quot;excludeCredentials&quot;: [],\r\n  &quot;challenge&quot;: &quot;[ChallengeCode]&quot;\r\n}\r\n```\r\n\r\nFor reference, I&#39;ve been following the example provided in the [Google Developer docs ](https://developer.android.com/training/sign-in/passkeys#registration-flows)and made sure the parameters match.\r\n\r\nDespite following the guidelines and ensuring the JSON structure is accurate, the error persists. Any insights on what might be causing this and how to resolve it would be appreciated.","title":"CreateCredentialResponse error with Credential Manager API on Android with Passkeys","body":"<p>I'm trying to implement authentication using the Credential Manager API on Android. While setting up the CreatePublicKeyCredentialRequest, I'm encountering an error: Unexpected exception type androidx.credentials.exceptions.CreateCredentialNoCreateOptionException.</p>\n<p>Here's the sanitized JSON I'm sending:</p>\n<pre><code>{\n  &quot;rp&quot;: {\n    &quot;name&quot;: &quot;[AppName]&quot;,\n    &quot;id&quot;: &quot;[AppDomain]&quot;\n  },\n  &quot;authenticatorSelection&quot;: {\n    &quot;authenticatorAttachment&quot;: &quot;platform&quot;,\n    &quot;requireResidentKey&quot;: true,\n    &quot;residentKey&quot;: &quot;required&quot;,\n    &quot;userVerification&quot;: &quot;required&quot;\n  },\n  &quot;user&quot;: {\n    &quot;name&quot;: &quot;[UserEmail]&quot;,\n    &quot;displayName&quot;: null,\n    &quot;id&quot;: &quot;[UserId]&quot;\n  },\n  &quot;pubKeyCredParams&quot;: [\n    {\n      &quot;type&quot;: &quot;public-key&quot;,\n      &quot;alg&quot;: -7\n    },\n    {\n      &quot;type&quot;: &quot;public-key&quot;,\n      &quot;alg&quot;: -257\n    }\n  ],\n  &quot;timeout&quot;: 60000,\n  &quot;attestation&quot;: &quot;none&quot;,\n  &quot;excludeCredentials&quot;: [],\n  &quot;challenge&quot;: &quot;[ChallengeCode]&quot;\n}\n</code></pre>\n<p>For reference, I've been following the example provided in the <a href=\"https://developer.android.com/training/sign-in/passkeys#registration-flows\" rel=\"nofollow noreferrer\">Google Developer docs </a>and made sure the parameters match.</p>\n<p>Despite following the guidelines and ensuring the JSON structure is accurate, the error persists. Any insights on what might be causing this and how to resolve it would be appreciated.</p>\n"},{"tags":["java","datetimeformatter","datetimeparseexception"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1697581504,"post_id":77312534,"comment_id":136297246,"body_markdown":"What is your system&#39;s locale? With other words, what does `Locale.getDefault()` return?","body":"What is your system&#39;s locale? With other words, what does <code>Locale.getDefault()</code> return?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1697582110,"post_id":77312534,"comment_id":136297297,"body_markdown":"**Specify** English. `private static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern (&quot;dd-MMM-yyyy&quot;, Locale.ENGLISH);`","body":"<b>Specify</b> English. <code>private static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern (&quot;dd-MMM-yyyy&quot;, Locale.ENGLISH);</code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1697582235,"post_id":77312534,"comment_id":136297310,"body_markdown":"Your input doesn&#39;t contain a time value, so using `LocalDateTime` is probably not a good place to start, I&#39;d consider `LocalDate` instead, but as stated, this is likely a localisation issue","body":"Your input doesn&#39;t contain a time value, so using <code>LocalDateTime</code> is probably not a good place to start, I&#39;d consider <code>LocalDate</code> instead, but as stated, this is likely a localisation issue"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1697582457,"post_id":77312534,"comment_id":136297322,"body_markdown":"Definitely granted, this one isn’t easy to search for no matter that others have had the same problem before.","body":"Definitely granted, this one isn’t easy to search for no matter that others have had the same problem before."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1697582787,"post_id":77312534,"comment_id":136297344,"body_markdown":"A useful trick when parsing fails: Try formatting the expected date-time using the same formatter, `LocalDateTime.of(2018, 8, 1, 0, 0, 0) .format(DATE_FORMATTER)`. Now you should see the month coming out in a different language and/or with a small `a` instead of the capital `A`, which might lead you in the right direction.","body":"A useful trick when parsing fails: Try formatting the expected date-time using the same formatter, <code>LocalDateTime.of(2018, 8, 1, 0, 0, 0) .format(DATE_FORMATTER)</code>. Now you should see the month coming out in a different language and/or with a small <code>a</code> instead of the capital <code>A</code>, which might lead you in the right direction."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1697582895,"post_id":77312534,"comment_id":136297357,"body_markdown":"You probably don’t want a `LocalDateTime` at all. `LocalDate` should do fine. If I am wrong, you may get a `LocalDateTime` from `LocalDate.parse (raw, DATE_FORMATTER).atStartOfDay()` (after you have specified the right locale).","body":"You probably don’t want a <code>LocalDateTime</code> at all. <code>LocalDate</code> should do fine. If I am wrong, you may get a <code>LocalDateTime</code> from <code>LocalDate.parse (raw, DATE_FORMATTER).atStartOfDay()</code> (after you have specified the right locale)."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697659908,"post_id":77312534,"comment_id":136309321,"body_markdown":"At [Java Playground](https://dev.java/playground/), paste: `import java.time.* ;\nimport java.time.format.* ;\n\nLocalDate ld = \n  LocalDate.parse(\n      &quot;1-Aug-2018&quot; , \n      DateTimeFormatter\n      \t.ofPattern( &quot;d-MMM-uuuu&quot; )\n  \t\t.withLocale( Locale.US )\n  );\nSystem.out.println( ld ) ;`","body":"At <a href=\"https://dev.java/playground/\" rel=\"nofollow noreferrer\">Java Playground</a>, paste: <code>import java.time.* ; import java.time.format.* ;  LocalDate ld =    LocalDate.parse(       &quot;1-Aug-2018&quot; ,        DateTimeFormatter       \t.ofPattern( &quot;d-MMM-uuuu&quot; )   \t\t.withLocale( Locale.US )   ); System.out.println( ld ) ;</code>"}],"owner":{"account_id":1352943,"reputation":615,"user_id":1291968,"display_name":"Terrible Tadpole"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1697582206,"answer_count":0,"score":0,"last_activity_date":1697582262,"creation_date":1697581017,"question_id":77312534,"body_markdown":"I need to process data in the form of a Tab-delimited file with dates in the form dd-MMM-yyyy, for example 1-Aug-2018 or 15-Sep-2023.  My code is:\r\n\r\n    \tprivate static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern (&quot;d-MMM-uuuu&quot;);\r\n\tprivate LocalDateTime toDate (String raw) {\r\n\t\t   LocalDateTime date = LocalDateTime.parse (raw, DATE_FORMATTER);\r\n\t\treturn date;\r\n\t}\r\n\r\nMy exception is:\r\n&gt; Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;1-Aug-2018&#39; could not be parsed at index 2\r\n\r\nResearch done:\r\n\r\n - Careful reading of Oracle Java documentation\r\n - Tried `dd` instead of `d` but that just moved the index to 0 instead of 2\r\n - Tried `yyyy` instead of `uuuu` (out of desperation, the problem clearly isn&#39;t there)\r\n - An hour trawling the Internet but the few examples of my pattern *with* DateTimeFormatter (instead of SimpleDate, doesn&#39;t anybody ever clean up the old garbage on the Internet?!) are using it to format output rather than parsing input.\r\n - Another hour trawling StackOverflow, which is even worse than the general Internet for obsolete solutions (although the answers are way more professional), but all the answers seem to involve different patterns to mine and I can&#39;t see any differences in the code\r\n\r\nAny suggestions?  Or directions to relevant answers?","title":"DateTimeParseException: Text &#39;1-Aug-2018&#39; could not be parsed at index 2","body":"<p>I need to process data in the form of a Tab-delimited file with dates in the form dd-MMM-yyyy, for example 1-Aug-2018 or 15-Sep-2023.  My code is:</p>\n<pre><code>    private static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern (&quot;d-MMM-uuuu&quot;);\nprivate LocalDateTime toDate (String raw) {\n       LocalDateTime date = LocalDateTime.parse (raw, DATE_FORMATTER);\n    return date;\n}\n</code></pre>\n<p>My exception is:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '1-Aug-2018' could not be parsed at index 2</p>\n</blockquote>\n<p>Research done:</p>\n<ul>\n<li>Careful reading of Oracle Java documentation</li>\n<li>Tried <code>dd</code> instead of <code>d</code> but that just moved the index to 0 instead of 2</li>\n<li>Tried <code>yyyy</code> instead of <code>uuuu</code> (out of desperation, the problem clearly isn't there)</li>\n<li>An hour trawling the Internet but the few examples of my pattern <em>with</em> DateTimeFormatter (instead of SimpleDate, doesn't anybody ever clean up the old garbage on the Internet?!) are using it to format output rather than parsing input.</li>\n<li>Another hour trawling StackOverflow, which is even worse than the general Internet for obsolete solutions (although the answers are way more professional), but all the answers seem to involve different patterns to mine and I can't see any differences in the code</li>\n</ul>\n<p>Any suggestions?  Or directions to relevant answers?</p>\n"},{"tags":["java","spring","websocket","push-notification","stomp"],"answers":[{"tags":[],"owner":{"account_id":21222460,"reputation":326,"user_id":15608713,"display_name":"i_m_js"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697581926,"creation_date":1697581926,"answer_id":77312585,"question_id":75557113,"body_markdown":"Currently in the sample which you have posted, there is no logic which sends message to `/all/messages` path automatically, so nothing is printed in console after websocket connection gets established. try sending some message to this path, or simply update your code with the following snippet to send one dummy message which in-turn posts message to `/all/message` path.\r\n\r\n    stompClient.connect({}, function () {\r\n\t\t\tstompClient.subscribe(&#39;/all/messages&#39;, function (output) {\r\n\t\t\t\tconsole.log(output.body);\r\n\t\t\t});\r\n\t\t\tstompClient.send(&quot;/app/message&quot;, {}, JSON.stringify({message: &#39;hello&#39;}));\r\n\t\t}, function (err) {\r\n\t\t\talert(&#39;error&#39; + err);\r\n\t\t});","title":"STOMP notification in spring not returning message in console","body":"<p>Currently in the sample which you have posted, there is no logic which sends message to <code>/all/messages</code> path automatically, so nothing is printed in console after websocket connection gets established. try sending some message to this path, or simply update your code with the following snippet to send one dummy message which in-turn posts message to <code>/all/message</code> path.</p>\n<pre><code>stompClient.connect({}, function () {\n        stompClient.subscribe('/all/messages', function (output) {\n            console.log(output.body);\n        });\n        stompClient.send(&quot;/app/message&quot;, {}, JSON.stringify({message: 'hello'}));\n    }, function (err) {\n        alert('error' + err);\n    });\n</code></pre>\n"}],"owner":{"account_id":13493299,"reputation":1,"user_id":20323067,"display_name":"Mustn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697581926,"creation_date":1677245126,"question_id":75557113,"body_markdown":"So I have been trying to write simple notification for my application and have the following problem. I was able to connect the websocket but it should also write the message in the console which it does not. I just started to learn websockets and notification 2 days ago, so I don&#39;t really understand how I should write correctly\r\n\r\nMy config:\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/all&quot;,&quot;/specific&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/ws&quot;).setAllowedOriginPatterns(&quot;*&quot;).withSockJS();\r\n    }\r\n}\r\n```\r\ncontroller:\r\n```\r\n@RestController\r\npublic class MessageController {\r\n\r\n    @Autowired\r\n    private MessageService messageService;\r\n\r\n    @MessageMapping(&quot;/message&quot;)\r\n//    @SendTo(&quot;/all/messages&quot;)\r\n    public ResponseEntity&lt;MessageResponse&gt; sendMessageToAll(@RequestBody MessageRequest request) {\r\n        return ResponseEntity.ok(messageService.sendMessageToAll(request.getMessage()));\r\n    }\r\n\r\n    @MessageMapping(&quot;/message-user&quot;)\r\n    public ResponseEntity&lt;MessageResponse&gt; sendMessageToUser(@RequestBody MessageRequest request) {\r\n        return ResponseEntity.ok(messageService.sendMessageToUser(request.getUser(), request.getMessage()));\r\n    }\r\n}\r\n```\r\nrequest:\r\n```\r\n@Getter\r\npublic class MessageRequest {\r\n    String message = &quot;mess&quot;;\r\n    User user;\r\n}\r\n```\r\n\r\nresponse:\r\n```\r\npublic class MessageResponse{\r\n        String message;\r\n}\r\n```\r\n\r\nmessage model:\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Message {\r\n\r\n    private String message = &quot;mess&quot;;\r\n    private String recipient;\r\n    private boolean isRead;\r\n\r\n    @ManyToOne\r\n    private User user;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Message{&quot; +\r\n                &quot;message=&#39;&quot; + message + &#39;\\&#39;&#39; +\r\n                &quot;, recipient=&#39;&quot; + recipient + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\nservice and its implementation:\r\n```\r\npublic interface MessageService {\r\n    MessageResponse sendMessageToUser(User user, String message);\r\n    MessageResponse sendMessageToAll(String message);\r\n}\r\n```\r\n```\r\n@Service\r\npublic class MessageServiceImpl implements MessageService {\r\n\r\n    @Autowired\r\n    private SimpMessagingTemplate messagingTemplate;\r\n\r\n    @Override\r\n    public MessageResponse sendMessageToAll(String message) {\r\n        messagingTemplate.convertAndSend(&quot;/all/messages&quot;, &quot;meessaaaa&quot;);\r\n        return new MessageResponse();\r\n    }\r\n\r\n    @Override\r\n    public MessageResponse sendMessageToUser(User user, String message) {\r\n        messagingTemplate.convertAndSendToUser(user.getUsername(), &quot;/specific&quot;, message);\r\n        return new MessageResponse();\r\n    }\r\n}\r\n```\r\n\r\nJust in case it will be needed, here is the test html with which I am checking my code:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n  &lt;title&gt;STOMP&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;STOMP test&lt;/h1&gt;\r\n&lt;script crossorigin=&quot;anonymous&quot;\r\n        integrity=&quot;sha256-wS9gmOZBqsqWxgIVgA8Y9WcQOa7PgSIX+rPA0VL2rbQ=&quot;\r\n        src=&quot;https://code.jquery.com/jquery-1.9.1.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;script crossorigin=&quot;anonymous&quot;\r\n        integrity=&quot;sha512-iKDtgDyTHjAitUDdLljGhenhPwrbBfqTKWO1mkhSFH3A7blITC9MhYon6SjnMhp4o0rADGw9yAC6EW4t5a4K3g==&quot;\r\n        src=&quot;https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\n\r\n  let url = (&#39;ws://localhost:8080/ws/websocket&#39;)\r\n  console.log(url)\r\n  stompClient = Stomp.client(url)\r\n\r\n  stompClient.connect({\r\n  }, function () {\r\n    stompClient.subscribe(&#39;/all/messages&#39;, function (output) {\r\n      console.log(JSON.parse(output.body))\r\n    });\r\n  }, function (err) {\r\n    alert(&#39;error&#39; + err);\r\n  });\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nCan anybody solve it?","title":"STOMP notification in spring not returning message in console","body":"<p>So I have been trying to write simple notification for my application and have the following problem. I was able to connect the websocket but it should also write the message in the console which it does not. I just started to learn websockets and notification 2 days ago, so I don't really understand how I should write correctly</p>\n<p>My config:</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/all&quot;,&quot;/specific&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/ws&quot;).setAllowedOriginPatterns(&quot;*&quot;).withSockJS();\n    }\n}\n</code></pre>\n<p>controller:</p>\n<pre><code>@RestController\npublic class MessageController {\n\n    @Autowired\n    private MessageService messageService;\n\n    @MessageMapping(&quot;/message&quot;)\n//    @SendTo(&quot;/all/messages&quot;)\n    public ResponseEntity&lt;MessageResponse&gt; sendMessageToAll(@RequestBody MessageRequest request) {\n        return ResponseEntity.ok(messageService.sendMessageToAll(request.getMessage()));\n    }\n\n    @MessageMapping(&quot;/message-user&quot;)\n    public ResponseEntity&lt;MessageResponse&gt; sendMessageToUser(@RequestBody MessageRequest request) {\n        return ResponseEntity.ok(messageService.sendMessageToUser(request.getUser(), request.getMessage()));\n    }\n}\n</code></pre>\n<p>request:</p>\n<pre><code>@Getter\npublic class MessageRequest {\n    String message = &quot;mess&quot;;\n    User user;\n}\n</code></pre>\n<p>response:</p>\n<pre><code>public class MessageResponse{\n        String message;\n}\n</code></pre>\n<p>message model:</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Message {\n\n    private String message = &quot;mess&quot;;\n    private String recipient;\n    private boolean isRead;\n\n    @ManyToOne\n    private User user;\n\n    @Override\n    public String toString() {\n        return &quot;Message{&quot; +\n                &quot;message='&quot; + message + '\\'' +\n                &quot;, recipient='&quot; + recipient + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>service and its implementation:</p>\n<pre><code>public interface MessageService {\n    MessageResponse sendMessageToUser(User user, String message);\n    MessageResponse sendMessageToAll(String message);\n}\n</code></pre>\n<pre><code>@Service\npublic class MessageServiceImpl implements MessageService {\n\n    @Autowired\n    private SimpMessagingTemplate messagingTemplate;\n\n    @Override\n    public MessageResponse sendMessageToAll(String message) {\n        messagingTemplate.convertAndSend(&quot;/all/messages&quot;, &quot;meessaaaa&quot;);\n        return new MessageResponse();\n    }\n\n    @Override\n    public MessageResponse sendMessageToUser(User user, String message) {\n        messagingTemplate.convertAndSendToUser(user.getUsername(), &quot;/specific&quot;, message);\n        return new MessageResponse();\n    }\n}\n</code></pre>\n<p>Just in case it will be needed, here is the test html with which I am checking my code:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;title&gt;STOMP&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;STOMP test&lt;/h1&gt;\n&lt;script crossorigin=&quot;anonymous&quot;\n        integrity=&quot;sha256-wS9gmOZBqsqWxgIVgA8Y9WcQOa7PgSIX+rPA0VL2rbQ=&quot;\n        src=&quot;https://code.jquery.com/jquery-1.9.1.min.js&quot;&gt;&lt;/script&gt;\n&lt;script crossorigin=&quot;anonymous&quot;\n        integrity=&quot;sha512-iKDtgDyTHjAitUDdLljGhenhPwrbBfqTKWO1mkhSFH3A7blITC9MhYon6SjnMhp4o0rADGw9yAC6EW4t5a4K3g==&quot;\n        src=&quot;https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js&quot;&gt;&lt;/script&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;\n\n  let url = ('ws://localhost:8080/ws/websocket')\n  console.log(url)\n  stompClient = Stomp.client(url)\n\n  stompClient.connect({\n  }, function () {\n    stompClient.subscribe('/all/messages', function (output) {\n      console.log(JSON.parse(output.body))\n    });\n  }, function (err) {\n    alert('error' + err);\n  });\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Can anybody solve it?</p>\n"},{"tags":["java","spring-boot","microservices","spring-aop"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697610454,"post_id":77311235,"comment_id":136299776,"body_markdown":"Your aspect is flawed to start with, it will fail to log correctly in a multi threaded environment. If you want to log additional information put that in the MDC (through a servlet filter, to extract the IP address for instance) then use a regular logging facility (apparently ou want to trace logging) like the one shipped with Spring, the `CustomizableTraceInterceptor`. Combine that with additional information in the MDC and you can do anything you like.","body":"Your aspect is flawed to start with, it will fail to log correctly in a multi threaded environment. If you want to log additional information put that in the MDC (through a servlet filter, to extract the IP address for instance) then use a regular logging facility (apparently ou want to trace logging) like the one shipped with Spring, the <code>CustomizableTraceInterceptor</code>. Combine that with additional information in the MDC and you can do anything you like."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1697640052,"post_id":77311235,"comment_id":136305747,"body_markdown":"MDC is a good solution, but not necessary, if the OP - assuming he wants to stick to his AOP solution - simply uses a thread-local field for the IP address. That way, the aspect is less tightly coupled to SLF4J and can more easily be refactored, if the logging framework is to be switched for any reason. But of course, you are right about Spring offering tools that do not need to be rebuilt by aspects.","body":"MDC is a good solution, but not necessary, if the OP - assuming he wants to stick to his AOP solution - simply uses a thread-local field for the IP address. That way, the aspect is less tightly coupled to SLF4J and can more easily be refactored, if the logging framework is to be switched for any reason. But of course, you are right about Spring offering tools that do not need to be rebuilt by aspects."},{"owner":{"account_id":29694214,"reputation":1,"user_id":22757901,"display_name":"Oskuda"},"score":0,"creation_date":1697778399,"post_id":77311235,"comment_id":136324933,"body_markdown":"@M.Deinum To keep the question simple I had stripped the unnecessary part of the code. MDC seems promising, will give it a look. Thank you for the help.","body":"@M.Deinum To keep the question simple I had stripped the unnecessary part of the code. MDC seems promising, will give it a look. Thank you for the help."}],"owner":{"account_id":29694214,"reputation":1,"user_id":22757901,"display_name":"Oskuda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697581714,"creation_date":1697565320,"question_id":77311235,"body_markdown":"I have multiple microservices and have establish AOP logging to log my controller, service, and repository layers. Currently, the same AppAspect class is redundant over all my microservice. Is there a way to centralize this?\r\n\r\nA thought : have the AOP class as jar, upload it to some repository (or even AWS S3) and have my microservices depend on those. \r\n\r\nWhy? : Whenever I want to make a small change on my AOP logs, I have to do it repeatadely accross all microservice.\r\n\r\nAny leads would help. Following is my AOP AppAspect class\r\n\r\n```\r\n@Aspect\r\n@Component\r\n@Slf4j\r\npublic class AppAspect {\r\n    private String ipAddress = &quot;[NO-IP]&quot;;\r\n\r\n    @Before(&quot;execution(* np.com.oskarshrestha.bookstorebackend.controller..*(..)) &quot; +\r\n            &quot;|| execution(* np.com.oskarshrestha.bookstorebackend.service..*(..)) &quot; +\r\n            &quot;|| execution(* np.com.oskarshrestha.bookstorebackend.repository..*(..))&quot;)\r\n    public void logBeforeMethodExecution(JoinPoint joinPoint) {\r\n        try {\r\n            // get ip address\r\n            ServletRequestAttributes requestAttributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\r\n            if (requestAttributes != null) {\r\n                HttpServletRequest request = requestAttributes.getRequest();\r\n                ipAddress = request.getRemoteAddr();\r\n            }\r\n            // get method name\r\n            String methodName = joinPoint.getSignature().getDeclaringType().getPackage().getName() + &quot;.&quot; + joinPoint.getSignature().getName();\r\n            log.info(&quot;[{}] Started method execution {}&quot;, ipAddress, methodName);\r\n        } catch (Exception e) {\r\n            log.error(&quot;{} Error in AppAspect {}&quot;, ipAddress, e.getMessage());\r\n        }\r\n    }\r\n\r\n    @AfterReturning(&quot;execution(* np.com.oskarshrestha.bookstorebackend.controller..*(..)) &quot; +\r\n            &quot;|| execution(* np.com.oskarshrestha.bookstorebackend.service..*(..)) &quot; +\r\n            &quot;|| execution(* np.com.oskarshrestha.bookstorebackend.repository..*(..))&quot;)\r\n    public void logAfterMethodExecution(JoinPoint joinPoint) {\r\n        try {\r\n            // get method name\r\n            String methodName = joinPoint.getSignature().getDeclaringType().getPackage().getName() + &quot;.&quot; + joinPoint.getSignature().getName();\r\n            log.info(&quot;[{}] Completed method execution {}&quot;, ipAddress, methodName);\r\n        } catch (Exception e) {\r\n            log.error(&quot;{} Error in AppAspect {}&quot;, ipAddress, e.getMessage());\r\n        }\r\n    }\r\n\r\n    @AfterThrowing(value = &quot;execution(* np.com.oskarshrestha.bookstorebackend.controller..*(..)) &quot; +\r\n            &quot;|| execution(* np.com.oskarshrestha.bookstorebackend.service..*(..)) &quot; +\r\n            &quot;|| execution(* np.com.oskarshrestha.bookstorebackend.repository..*(..))&quot;, throwing = &quot;exception&quot;)\r\n    public void logAfterMethodExecutionThrows(JoinPoint joinPoint, Exception exception) {\r\n        try {\r\n            // get method name\r\n            String methodName = joinPoint.getSignature().getDeclaringType().getPackage().getName() + &quot;.&quot; + joinPoint.getSignature().getName();\r\n            log.info(&quot;[{}] Exception thrown by method execution {} {}&quot;, ipAddress, methodName, exception.getMessage());\r\n        } catch (Exception e) {\r\n            log.error(&quot;{} Error in AppAspect {}&quot;, ipAddress, e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried to look for references or resources but didn&#39;t find much lead. Is this even possible?","title":"Centralize the AOP logging for my microservices","body":"<p>I have multiple microservices and have establish AOP logging to log my controller, service, and repository layers. Currently, the same AppAspect class is redundant over all my microservice. Is there a way to centralize this?</p>\n<p>A thought : have the AOP class as jar, upload it to some repository (or even AWS S3) and have my microservices depend on those.</p>\n<p>Why? : Whenever I want to make a small change on my AOP logs, I have to do it repeatadely accross all microservice.</p>\n<p>Any leads would help. Following is my AOP AppAspect class</p>\n<pre><code>@Aspect\n@Component\n@Slf4j\npublic class AppAspect {\n    private String ipAddress = &quot;[NO-IP]&quot;;\n\n    @Before(&quot;execution(* np.com.oskarshrestha.bookstorebackend.controller..*(..)) &quot; +\n            &quot;|| execution(* np.com.oskarshrestha.bookstorebackend.service..*(..)) &quot; +\n            &quot;|| execution(* np.com.oskarshrestha.bookstorebackend.repository..*(..))&quot;)\n    public void logBeforeMethodExecution(JoinPoint joinPoint) {\n        try {\n            // get ip address\n            ServletRequestAttributes requestAttributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\n            if (requestAttributes != null) {\n                HttpServletRequest request = requestAttributes.getRequest();\n                ipAddress = request.getRemoteAddr();\n            }\n            // get method name\n            String methodName = joinPoint.getSignature().getDeclaringType().getPackage().getName() + &quot;.&quot; + joinPoint.getSignature().getName();\n            log.info(&quot;[{}] Started method execution {}&quot;, ipAddress, methodName);\n        } catch (Exception e) {\n            log.error(&quot;{} Error in AppAspect {}&quot;, ipAddress, e.getMessage());\n        }\n    }\n\n    @AfterReturning(&quot;execution(* np.com.oskarshrestha.bookstorebackend.controller..*(..)) &quot; +\n            &quot;|| execution(* np.com.oskarshrestha.bookstorebackend.service..*(..)) &quot; +\n            &quot;|| execution(* np.com.oskarshrestha.bookstorebackend.repository..*(..))&quot;)\n    public void logAfterMethodExecution(JoinPoint joinPoint) {\n        try {\n            // get method name\n            String methodName = joinPoint.getSignature().getDeclaringType().getPackage().getName() + &quot;.&quot; + joinPoint.getSignature().getName();\n            log.info(&quot;[{}] Completed method execution {}&quot;, ipAddress, methodName);\n        } catch (Exception e) {\n            log.error(&quot;{} Error in AppAspect {}&quot;, ipAddress, e.getMessage());\n        }\n    }\n\n    @AfterThrowing(value = &quot;execution(* np.com.oskarshrestha.bookstorebackend.controller..*(..)) &quot; +\n            &quot;|| execution(* np.com.oskarshrestha.bookstorebackend.service..*(..)) &quot; +\n            &quot;|| execution(* np.com.oskarshrestha.bookstorebackend.repository..*(..))&quot;, throwing = &quot;exception&quot;)\n    public void logAfterMethodExecutionThrows(JoinPoint joinPoint, Exception exception) {\n        try {\n            // get method name\n            String methodName = joinPoint.getSignature().getDeclaringType().getPackage().getName() + &quot;.&quot; + joinPoint.getSignature().getName();\n            log.info(&quot;[{}] Exception thrown by method execution {} {}&quot;, ipAddress, methodName, exception.getMessage());\n        } catch (Exception e) {\n            log.error(&quot;{} Error in AppAspect {}&quot;, ipAddress, e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>I tried to look for references or resources but didn't find much lead. Is this even possible?</p>\n"},{"tags":["java","spring","timezone","zoneddatetime"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1697454912,"post_id":77301466,"comment_id":136277825,"body_markdown":"Firstly, America/New_York isn&#39;t currently observing EST anyway - it&#39;s observing EDT. But more importantly, your question suggests you believe a `java.util.Date` value &quot;has&quot; a time zone. It doesn&#39;t. See https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/","body":"Firstly, America/New_York isn&#39;t currently observing EST anyway - it&#39;s observing EDT. But more importantly, your question suggests you believe a <code>java.util.Date</code> value &quot;has&quot; a time zone. It doesn&#39;t. See <a href=\"https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/\" rel=\"nofollow noreferrer\">codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date</a>"},{"owner":{"account_id":21741957,"reputation":1,"user_id":16049187,"display_name":"HARI KRISHNA"},"score":0,"creation_date":1697455308,"post_id":77301466,"comment_id":136277896,"body_markdown":"So we cannot convert ZonedDateTime to Date? It was working for a while but now it is troubleshooting me. So instead of changing the date return type to zonedDate time is there anyway to convert ZonedDateTime to date correctly","body":"So we cannot convert ZonedDateTime to Date? It was working for a while but now it is troubleshooting me. So instead of changing the date return type to zonedDate time is there anyway to convert ZonedDateTime to date correctly"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1697456682,"post_id":77301466,"comment_id":136278144,"body_markdown":"&quot;So we cannot convert ZonedDateTime to Date&quot; - you absolutely can, but `Date` *only* represents an instant in time, with a precision of milliseconds. If you expect it to do more than that, you&#39;ll be disappointed. (Fundamentally, I&#39;d try to avoid using Date entirely..)","body":"&quot;So we cannot convert ZonedDateTime to Date&quot; - you absolutely can, but <code>Date</code> <i>only</i> represents an instant in time, with a precision of milliseconds. If you expect it to do more than that, you&#39;ll be disappointed. (Fundamentally, I&#39;d try to avoid using Date entirely..)"},{"owner":{"account_id":21741957,"reputation":1,"user_id":16049187,"display_name":"HARI KRISHNA"},"score":0,"creation_date":1697456821,"post_id":77301466,"comment_id":136278162,"body_markdown":"Can you help me with a code snippet which works well for my scenario if possible","body":"Can you help me with a code snippet which works well for my scenario if possible"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1697457172,"post_id":77301466,"comment_id":136278224,"body_markdown":"No, because we don&#39;t know what you&#39;re trying to do. If you&#39;re trying to get &quot;a Date that represents an instant in a specific time zone&quot; then that&#39;s just not going to happen. (It doesn&#39;t help that you&#39;ve said &quot;it is throwing Instant class errors&quot; without giving any more detail...)","body":"No, because we don&#39;t know what you&#39;re trying to do. If you&#39;re trying to get &quot;a Date that represents an instant in a specific time zone&quot; then that&#39;s just not going to happen. (It doesn&#39;t help that you&#39;ve said &quot;it is throwing Instant class errors&quot; without giving any more detail...)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1697457660,"post_id":77301466,"comment_id":136278329,"body_markdown":"*Can you help me with a code snippet which works well for my scenario if possible* Just leave out any use of `Date` entirely as Jon already suggested. That class was poorly designed, is long outdated and never could do what you want to do. A `Date` never could have a time zone. It’s its `toString` method telling a lie when it prints one. Read @JonSkeet’s link.","body":"<i>Can you help me with a code snippet which works well for my scenario if possible</i> Just leave out any use of <code>Date</code> entirely as Jon already suggested. That class was poorly designed, is long outdated and never could do what you want to do. A <code>Date</code> never could have a time zone. It’s its <code>toString</code> method telling a lie when it prints one. Read @JonSkeet’s link."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1697457848,"post_id":77301466,"comment_id":136278360,"body_markdown":"`ZonedDateTime.now(ZoneId.of(&quot;America/New_York&quot;)).format(DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss zzz y&quot;, Locale.ROOT))`. Just yielded `Mon Oct 16 08:03:39 EDT 2023`.","body":"<code>ZonedDateTime.now(ZoneId.of(&quot;America&#47;New_York&quot;)).format(Date&zwnj;&#8203;TimeFormatter.ofPatt&zwnj;&#8203;ern(&quot;EEE MMM dd HH:mm:ss zzz y&quot;, Locale.ROOT))</code>. Just yielded <code>Mon Oct 16 08:03:39 EDT 2023</code>."},{"owner":{"account_id":21741957,"reputation":1,"user_id":16049187,"display_name":"HARI KRISHNA"},"score":0,"creation_date":1697457910,"post_id":77301466,"comment_id":136278372,"body_markdown":"I want to convert the local time to EST/ EDt time zones. And i want to do using Date because it&#39;s my database type for that field","body":"I want to convert the local time to EST/ EDt time zones. And i want to do using Date because it&#39;s my database type for that field"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1697458054,"post_id":77301466,"comment_id":136278384,"body_markdown":"Using JDBC? And which data type in SQL? You don’t need to take the trouble with `Date` for that. Since JDBC 4.2 you can directly store java.time types through JDBC. Hibernate can do the same at least since Hibernate 5. *i want to do using Date* I am sorry, I read that as *I want trouble*.","body":"Using JDBC? And which data type in SQL? You don’t need to take the trouble with <code>Date</code> for that. Since JDBC 4.2 you can directly store java.time types through JDBC. Hibernate can do the same at least since Hibernate 5. <i>i want to do using Date</i> I am sorry, I read that as <i>I want trouble</i>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1697458365,"post_id":77301466,"comment_id":136278441,"body_markdown":"This is a [XY problem](https://en.wikipedia.org/wiki/XY_problem). You want to store US Eastern time into your database. Fine. Then ask about that. I am sure we can help.","body":"This is a <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>. You want to store US Eastern time into your database. Fine. Then ask about that. I am sure we can help."},{"owner":{"account_id":21741957,"reputation":1,"user_id":16049187,"display_name":"HARI KRISHNA"},"score":0,"creation_date":1697463778,"post_id":77301466,"comment_id":136279533,"body_markdown":"Sorry for the miscommunication but we need to use date for legacy purpose so i need one date object that can represent the current time as in EST","body":"Sorry for the miscommunication but we need to use date for legacy purpose so i need one date object that can represent the current time as in EST"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1697474876,"post_id":77301466,"comment_id":136281654,"body_markdown":"*we need to use date for legacy purpose so i need one date object that can represent the current time as in EST* Sorry if I wasn&#39;t clear: If you mean `java.util.Date`, this cannot exist. You are asking the impossible.","body":"<i>we need to use date for legacy purpose so i need one date object that can represent the current time as in EST</i> Sorry if I wasn&#39;t clear: If you mean <code>java.util.Date</code>, this cannot exist. You are asking the impossible."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697481615,"creation_date":1697469283,"answer_id":77303131,"question_id":77301466,"body_markdown":"## Use real time zone\r\n\r\n&gt;`ZoneId estZone = ZoneId.of(&quot;America/New_York&quot;);`\r\n\r\nEST is not [a real time zone][1]. Use such pseudo-zones only for presentation to the user, not for logic or data. Pseudo-zones are not standardized, and are not even unique(!). \r\n\r\nAnd the time zones usually associated with “Eastern” time are currently observing [Daylight Saving Time (DST)][2]. So the pseudo-zone label would be `EDT` rather than `EST`. \r\n\r\nSo, let’s use this:\r\n\r\n    ZoneId zoneNewYork = ZoneId.of( &quot;America/New_York&quot; ) ;\r\n\r\n## Use *java.time* classes\r\n\r\n&gt;`ZonedDateTime zdtNewYork = ZonedDateTime.now( zoneNewYork );`\r\n\r\nGood. You captured the current moment as seen with the wall-clock time &amp; calendar used by the people of the New York region. \r\n\r\nTo generate text in standard [ISO 8601][3] format wisely extended to append the name of the time zone in brackets, merely call [`toString`][4]. \r\n\r\n    String output = zdtNewYork.toString() ;\r\n\r\nTo generate localized text, use `DateTimeFormatter.ofLocalizedDateTime`. \r\n\r\n## Avoid legacy date-time classes\r\n\r\n&gt;`Date.from(estTime.toInstant())`\r\n\r\nBad. You needlessly involved the terribly flawed legacy class `java.util.Date`. \r\n\r\nAvoid the legacy date-time classes. Use only *java.time* classes. \r\n\r\nAs for the behavior you encountered, the `Date#toString` method lies to us. While generating its text, the method dynamically applies the JVM’s current default time zone. One of many reasons to avoid this class. \r\n\r\n\r\n## JDBC\r\n\r\nYou commented on storing this moment in a database. \r\n\r\nYour table column should be of a type akin to the [SQL standard][5] type `TIMESTAMP WITH TIME ZONE`. \r\n\r\nThe [JDBC][6] standard maps the Java class [`OffsetDateTime`][7] to that type. \r\n\r\n    OffsetDateTime odt = zdtNewYork.toOffsetDateTime() ;\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\nRetrieval.\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n    ZonedDateTime zdtNewYork = odt.atZoneSameInstant( zoneNewYork ) ;\r\n\r\nSearch to learn more. This has been covered many times on Stack Overflow. \r\n\r\n\r\n## Using legacy classes\r\n\r\nYou commented:\r\n\r\n&gt; we need to use date for legacy purpose so I need one date object that can represent the current time as in EST\r\n\r\nThe [`java.util.Date`][8] class represents a moment as seen with an offset of zero hours-minutes-seconds from the temporal meridian of UTC. So asking for a `java.util.Date` object to represent a moment as seen in a time zone like `America/New_York` is impossible.\r\n\r\nThe replacement for `java.util.Date` is [`java.time.Instant`][9]. Both represent a moment as seen in UTC (an offset of zero). You can convert back and forth via new methods added to the old classes.\r\n\r\n    Instant instant = Instant.now() ;\r\n    java.util.Date d = java.util.Date.from( instant ) ;\r\n\r\nAnd going the other direction:\r\n\r\n    Instant instant = d.toInstant() ;\r\n\r\nWhen converting, be mindful of possible data loss. The legacy class resolves to milliseconds while the modern class has a much finer resolution of [nanoseconds][10]. \r\n\r\nThe [`java.util.Calendar`][11] class, or rather its subclass [`java.util.GregorianCalendar`][12], can represent a moment as seen in a particular time zone. If need be, you can convert back and forth to/from its replacement class, [`java.time.ZonedDateTime`][13]. \r\n\r\nAvoid these legacy classes wherever possible. They are a bloody mess of poor design and wacky features.\r\n\r\nIf you have a specific case where you need to interoperate with old code not yet updated to *java.time*, post a Question on Stack Overflow with those specific details.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [2]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/ZonedDateTime.html#toString()\r\n  [5]: https://en.wikipedia.org/wiki/SQL#Standardization_history\r\n  [6]: https://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [7]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/OffsetDateTime.html\r\n  [8]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Date.html\r\n  [9]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html\r\n  [10]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [11]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Calendar.html\r\n  [12]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/GregorianCalendar.html\r\n  [13]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/ZonedDateTime.html","title":"Zoned date time is not giving est time","body":"<h2>Use real time zone</h2>\n<blockquote>\n<p><code>ZoneId estZone = ZoneId.of(&quot;America/New_York&quot;);</code></p>\n</blockquote>\n<p>EST is not <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">a real time zone</a>. Use such pseudo-zones only for presentation to the user, not for logic or data. Pseudo-zones are not standardized, and are not even unique(!).</p>\n<p>And the time zones usually associated with “Eastern” time are currently observing <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">Daylight Saving Time (DST)</a>. So the pseudo-zone label would be <code>EDT</code> rather than <code>EST</code>.</p>\n<p>So, let’s use this:</p>\n<pre><code>ZoneId zoneNewYork = ZoneId.of( &quot;America/New_York&quot; ) ;\n</code></pre>\n<h2>Use <em>java.time</em> classes</h2>\n<blockquote>\n<p><code>ZonedDateTime zdtNewYork = ZonedDateTime.now( zoneNewYork );</code></p>\n</blockquote>\n<p>Good. You captured the current moment as seen with the wall-clock time &amp; calendar used by the people of the New York region.</p>\n<p>To generate text in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format wisely extended to append the name of the time zone in brackets, merely call <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/ZonedDateTime.html#toString()\" rel=\"nofollow noreferrer\"><code>toString</code></a>.</p>\n<pre><code>String output = zdtNewYork.toString() ;\n</code></pre>\n<p>To generate localized text, use <code>DateTimeFormatter.ofLocalizedDateTime</code>.</p>\n<h2>Avoid legacy date-time classes</h2>\n<blockquote>\n<p><code>Date.from(estTime.toInstant())</code></p>\n</blockquote>\n<p>Bad. You needlessly involved the terribly flawed legacy class <code>java.util.Date</code>.</p>\n<p>Avoid the legacy date-time classes. Use only <em>java.time</em> classes.</p>\n<p>As for the behavior you encountered, the <code>Date#toString</code> method lies to us. While generating its text, the method dynamically applies the JVM’s current default time zone. One of many reasons to avoid this class.</p>\n<h2>JDBC</h2>\n<p>You commented on storing this moment in a database.</p>\n<p>Your table column should be of a type akin to the <a href=\"https://en.wikipedia.org/wiki/SQL#Standardization_history\" rel=\"nofollow noreferrer\">SQL standard</a> type <code>TIMESTAMP WITH TIME ZONE</code>.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a> standard maps the Java class <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> to that type.</p>\n<pre><code>OffsetDateTime odt = zdtNewYork.toOffsetDateTime() ;\nmyPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n<p>Retrieval.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\nZonedDateTime zdtNewYork = odt.atZoneSameInstant( zoneNewYork ) ;\n</code></pre>\n<p>Search to learn more. This has been covered many times on Stack Overflow.</p>\n<h2>Using legacy classes</h2>\n<p>You commented:</p>\n<blockquote>\n<p>we need to use date for legacy purpose so I need one date object that can represent the current time as in EST</p>\n</blockquote>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a> class represents a moment as seen with an offset of zero hours-minutes-seconds from the temporal meridian of UTC. So asking for a <code>java.util.Date</code> object to represent a moment as seen in a time zone like <code>America/New_York</code> is impossible.</p>\n<p>The replacement for <code>java.util.Date</code> is <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>java.time.Instant</code></a>. Both represent a moment as seen in UTC (an offset of zero). You can convert back and forth via new methods added to the old classes.</p>\n<pre><code>Instant instant = Instant.now() ;\njava.util.Date d = java.util.Date.from( instant ) ;\n</code></pre>\n<p>And going the other direction:</p>\n<pre><code>Instant instant = d.toInstant() ;\n</code></pre>\n<p>When converting, be mindful of possible data loss. The legacy class resolves to milliseconds while the modern class has a much finer resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a>.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a> class, or rather its subclass <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/GregorianCalendar.html\" rel=\"nofollow noreferrer\"><code>java.util.GregorianCalendar</code></a>, can represent a moment as seen in a particular time zone. If need be, you can convert back and forth to/from its replacement class, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>java.time.ZonedDateTime</code></a>.</p>\n<p>Avoid these legacy classes wherever possible. They are a bloody mess of poor design and wacky features.</p>\n<p>If you have a specific case where you need to interoperate with old code not yet updated to <em>java.time</em>, post a Question on Stack Overflow with those specific details.</p>\n"}],"owner":{"account_id":21741957,"reputation":1,"user_id":16049187,"display_name":"HARI KRISHNA"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1697579768,"answer_count":1,"score":-1,"last_activity_date":1697580182,"creation_date":1697454540,"question_id":77301466,"body_markdown":"I want to convert the date and time to EST zone and I tried using calendar for some reason it is not converting the time even though it is setting the timezone correctly. And I am trying zonedDateTime and it is also working same.\r\n\r\n    ZoneId estZone = ZoneId.of(&quot;America/New_York&quot;);\r\n    ZonedDateTime estTime =       ZonedDateTime.now(estZone);\r\n     System.out.println(Date.from(estTime.toInstant()));\r\n\r\n\r\n\r\nMy output is:\r\nMon Oct 16 16:17:13 IST 2023.\r\n\r\n\r\nBut i set my zone id to America. And \r\nestTime.toLocalDateTime is giving corrected time in EST but I am not able to convert it into Date return type as it is throwing Instant class errors\r\n\r\n\r\nI need some explanation on this","title":"Zoned date time is not giving est time","body":"<p>I want to convert the date and time to EST zone and I tried using calendar for some reason it is not converting the time even though it is setting the timezone correctly. And I am trying zonedDateTime and it is also working same.</p>\n<pre><code>ZoneId estZone = ZoneId.of(&quot;America/New_York&quot;);\nZonedDateTime estTime =       ZonedDateTime.now(estZone);\n System.out.println(Date.from(estTime.toInstant()));\n</code></pre>\n<p>My output is:\nMon Oct 16 16:17:13 IST 2023.</p>\n<p>But i set my zone id to America. And\nestTime.toLocalDateTime is giving corrected time in EST but I am not able to convert it into Date return type as it is throwing Instant class errors</p>\n<p>I need some explanation on this</p>\n"},{"tags":["java","ajax"],"owner":{"account_id":8814308,"reputation":41,"user_id":6586299,"display_name":"Nick Bensema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697579602,"creation_date":1697579602,"question_id":77312454,"body_markdown":"I&#39;m attempting to test a web application where there&#39;s a top-level navigation menu.  Most of the items in it are drop-down menus where you mouse over the item, and a menu appears below the pointer, without the user having to click.  In fact, if the user does click the top-level item, the drop-down menu disappears.\r\n\r\nNaturally, the normal Active Scan can&#39;t click out of the app&#39;s front page, and even the AJAX Spider can&#39;t find the items.  Here&#39;s how I imagine it plays out: \r\n* Ajax Spider&#39;s mouse goes over item in navigation bar, which is a `&lt;li&gt;` tag containing a `&lt;a href data-toggle=&quot;dropdown&quot;&gt;` tag.\r\n* menu becomes visible a `&lt;ul&gt;` tag right after the `&lt;a&gt;` tag, and the inspector shows `::after` after that tag\r\n* Ajax Spider clicks menu item to see if it triggers an HTTP request\r\n* menu becomes invisible; `::after` disappears.  A `class=&quot;open&quot;` attribute appears on the outer `&lt;li&gt;` tag but it has no effect.\r\n* Ajax looks for new links and doesn&#39;t find any\r\n\r\nso... I think what I need to do is to tell it to hover on `&lt;a data-toggle=&quot;dropdown&quot;&gt;` links and then look for `&lt;a role=&quot;menuitem&quot;&gt;` tags to click nearby.  Is there any feature that can do anything like that?\r\n\r\nthanks.  in the meantime I suppose I can use the browser to click through all the menu items; that seems to make scans aware of it.  but I&#39;d rather the process didn&#39;t depend on my thoroughness as a clicker of functions.","title":"OWASP ZAP: When testing a modern web application with HTML5 drop-down menus, can AJAX Spider mouse-over to open a menu without clicking?","body":"<p>I'm attempting to test a web application where there's a top-level navigation menu.  Most of the items in it are drop-down menus where you mouse over the item, and a menu appears below the pointer, without the user having to click.  In fact, if the user does click the top-level item, the drop-down menu disappears.</p>\n<p>Naturally, the normal Active Scan can't click out of the app's front page, and even the AJAX Spider can't find the items.  Here's how I imagine it plays out:</p>\n<ul>\n<li>Ajax Spider's mouse goes over item in navigation bar, which is a <code>&lt;li&gt;</code> tag containing a <code>&lt;a href data-toggle=&quot;dropdown&quot;&gt;</code> tag.</li>\n<li>menu becomes visible a <code>&lt;ul&gt;</code> tag right after the <code>&lt;a&gt;</code> tag, and the inspector shows <code>::after</code> after that tag</li>\n<li>Ajax Spider clicks menu item to see if it triggers an HTTP request</li>\n<li>menu becomes invisible; <code>::after</code> disappears.  A <code>class=&quot;open&quot;</code> attribute appears on the outer <code>&lt;li&gt;</code> tag but it has no effect.</li>\n<li>Ajax looks for new links and doesn't find any</li>\n</ul>\n<p>so... I think what I need to do is to tell it to hover on <code>&lt;a data-toggle=&quot;dropdown&quot;&gt;</code> links and then look for <code>&lt;a role=&quot;menuitem&quot;&gt;</code> tags to click nearby.  Is there any feature that can do anything like that?</p>\n<p>thanks.  in the meantime I suppose I can use the browser to click through all the menu items; that seems to make scans aware of it.  but I'd rather the process didn't depend on my thoroughness as a clicker of functions.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":3,"creation_date":1697577194,"post_id":77312204,"comment_id":136296719,"body_markdown":"At what location?","body":"At what location?"},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":3,"creation_date":1697577757,"post_id":77312204,"comment_id":136296774,"body_markdown":"Zip / Jar files store the modification time and date of each entry.  As @DavidConrad asked, where in the file is the difference?  A stream would likely store as the current time and date.","body":"Zip / Jar files store the modification time and date of each entry.  As @DavidConrad asked, where in the file is the difference?  A stream would likely store as the current time and date."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1697578628,"post_id":77312204,"comment_id":136296899,"body_markdown":"It is probably the date and time. See the [ZIP file format](https://en.wikipedia.org/wiki/ZIP_(file_format)). Incidentally, you don&#39;t need all those flush and close calls. You should just use a try-with-resources statement.","body":"It is probably the date and time. See the <a href=\"https://en.wikipedia.org/wiki/ZIP_(file_format)\" rel=\"nofollow noreferrer\">ZIP file format</a>. Incidentally, you don&#39;t need all those flush and close calls. You should just use a try-with-resources statement."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1697578721,"post_id":77312204,"comment_id":136296915,"body_markdown":"E.g. `try (JarOutputStream jos = new JarOutputStream(new FileOutputStream(&quot;jarry.jar&quot;), new Manifest())) {}`","body":"E.g. <code>try (JarOutputStream jos = new JarOutputStream(new FileOutputStream(&quot;jarry.jar&quot;), new Manifest())) {}</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697582600,"post_id":77312204,"comment_id":136297336,"body_markdown":"Unrelated:  Don’t use a ByteArrayOutputStream.  Just write directly to a JarOutputStream that wraps a file-based OutputStream.  Storing the entire jar contents in memory is wasteful and pointless, and will scale poorly (meaning, very slow) in cases where you have a lot of archive content.","body":"Unrelated:  Don’t use a ByteArrayOutputStream.  Just write directly to a JarOutputStream that wraps a file-based OutputStream.  Storing the entire jar contents in memory is wasteful and pointless, and will scale poorly (meaning, very slow) in cases where you have a lot of archive content."},{"owner":{"account_id":4421715,"reputation":1495,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"score":0,"creation_date":1697631070,"post_id":77312204,"comment_id":136303627,"body_markdown":"Thanks for all the replies. With this scaled down version of the test, the first image above is from the very beginning of the 2 files. 50 is the first byte in both files within the first image.   I just notice, the 2nd location is actually about 1/2 way through the file and has the same sequence of bytes.","body":"Thanks for all the replies. With this scaled down version of the test, the first image above is from the very beginning of the 2 files. 50 is the first byte in both files within the first image.   I just notice, the 2nd location is actually about 1/2 way through the file and has the same sequence of bytes."},{"owner":{"account_id":4421715,"reputation":1495,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"score":0,"creation_date":1697631324,"post_id":77312204,"comment_id":136303681,"body_markdown":"Is it possible to turn off inclusion of a timestamp?","body":"Is it possible to turn off inclusion of a timestamp?"}],"answers":[{"comments":[{"owner":{"account_id":4421715,"reputation":1495,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"score":0,"creation_date":1697631295,"post_id":77312426,"comment_id":136303675,"body_markdown":"Greatly appreciate the time to provide the detailed reply.  Is there anyway to turn off that behavior?","body":"Greatly appreciate the time to provide the detailed reply.  Is there anyway to turn off that behavior?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1697632347,"post_id":77312426,"comment_id":136303932,"body_markdown":"@UnhandledException I doubt it. jars are just zips, but they do get some extra bells and whistles (such as an extra field with id `0xCAFE`. As per the source of `JarOutputStream`, that&#39;s something ZipOutputStream (which it is built on top of) doesn&#39;t do). And JOS has no API to tell it what timestamps to use.Copy pasted straight from the source of ZipOutputStream (JOS extends that): `e.setTime(System.currentTimeMillis());` - and that&#39;s where you lose this fight. In theory you could go through the sack of bytes yourself and replace all timestamps. Not exactly simple.","body":"@UnhandledException I doubt it. jars are just zips, but they do get some extra bells and whistles (such as an extra field with id <code>0xCAFE</code>. As per the source of <code>JarOutputStream</code>, that&#39;s something ZipOutputStream (which it is built on top of) doesn&#39;t do). And JOS has no API to tell it what timestamps to use.Copy pasted straight from the source of ZipOutputStream (JOS extends that): <code>e.setTime(System.currentTimeMillis());</code> - and that&#39;s where you lose this fight. In theory you could go through the sack of bytes yourself and replace all timestamps. Not exactly simple."},{"owner":{"account_id":4421715,"reputation":1495,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"score":0,"creation_date":1697633701,"post_id":77312426,"comment_id":136304259,"body_markdown":"Reading through and was able to calculate the timestamp to ensure it matches mine and it does. That was pretty neat.","body":"Reading through and was able to calculate the timestamp to ensure it matches mine and it does. That was pretty neat."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697579561,"creation_date":1697579224,"answer_id":77312426,"question_id":77312204,"body_markdown":"It&#39;s because the local time is in there. Which is hard to see with `unzip` and `jar` tools. But is the reason.\r\n\r\njars are just zip files. Lets break it down. I ran your code (had to fix a few things), and this is the bytestream I ended up with:\r\n\r\n```\r\n504B0304 14000808 080008B9 51570000 00000000 00000000 00001400 04004D45\r\n54412D49 4E462F4D 414E4946 4553542E 4D46FECA 0000E3E5 0200504B 0708AC85\r\nA2140400 00000200 0000504B 01021400 14000808 0800[08/12]B9 5157AC85 A2140400\r\n00000200 00001400 04000000 00000000 00000000 00000000 4D455441 2D494E46\r\n2F4D414E 49464553 542E4D46 FECA0000 504B0506 00000000 01000100 46000000\r\n4A000000 0000\r\n```\r\n\r\nWhere `[08/12]` means: it was 0x08 in one of em and 0x12 in the other; they are otherwise identical.\r\n\r\nStep by step, but first:\r\n\r\nZIP files are read back-to-front; The very end of them contains the so-called &#39;Central directory&#39; which lists every file in the ZIP and where you can find it. The reason it works this way is because file systems tend to allow you to grow an existing file &#39;at the end&#39; without having to rewrite the entire file. Hence, if you have a 4GB zip file and you want to add a tiny little file to it, e.g. with `zip u`, then it&#39;s &#39;cheap&#39;: the zip tool can just write that tiny little file (compressed) over the existing central directory structure and then write a new central directory structure, leaving the first 3.99GB unmodified.\r\n\r\nHowever, `jar` doesn&#39;t do any voodoo trickery, so it&#39;s simple: It&#39;s a sequence of compressed file entries, one after the other, followed by the Central Directory.\r\n\r\n&gt; `504B0403`\r\n\r\nThis is the PKZip identifier; it&#39;s PK with 2 more bytes. This is just at the start of every &#39;file entry&#39; in a ZIP. This zip has only one entry (the manifest, which is just a file in the zip in a particular place and at the beginning of the file). All zip files start with this.\r\n\r\n&gt; `1400`\r\n\r\nThe version of the zip format (version 20). Like the previous thing, pretty much a constant. ZIP is little endian, hence, &#39;1400&#39; is 20. (the first byte is the least significant, and 14 in hexadecimal is 20 in decimal).\r\n\r\n&gt; `0808`\r\n\r\nThe flags. Specifically, that&#39;s:\r\n\r\n* encrypted: No\r\n* compression option: 0\r\n* Data descriptor: yes\r\n* enhanced deflation: No\r\n* compressed patched data: No\r\n* strong encryption: No\r\n* language encoding: yes\r\n* mask header values: no\r\n\r\n&gt; `0800`\r\n\r\nZIP is actually a container format. Technically it&#39;s like `tar` - it describes how to shove many files in a single file. Each individual entry does its own compression and the ZIP format just has a whole bunch of algorithms available. In practice, an ISO-standard zip only supports 2 compression algorithms: &#39;deflate&#39; (8) and &#39;no compression&#39; (0). This entry is compressed using the Deflate algorithm (8 - Remember, ZIP is little endian).\r\n\r\n&gt; `08B9`\r\n\r\nThe file this block is representing was last modified on 23:08.\r\n\r\n__WE FOUND THE PROBLEM HERE__.\r\n\r\nRemember, ZIP is like `tar` - a container format that is designed to represent a whole boatload of files as a single file. As a format it is meant to represent as much as it can. ZIP is kinda bad at it (for example, on posix systems files have an owner and a group), but it at least got this right. Well, half right, literally: Files have last modified timestamp and ZIP can dutifully store this, so that when unzipping, the &#39;last modified&#39; is (mostly) unchanged. In ZIPs defense, this is how MS-DOS worked. To ZIPs detriment, that certainly wasn&#39;t the only platform out there at the time it was devised.\r\n\r\nIn bits, &#39;undoing&#39; the little endian-ness: 1011 1001 0000 1000\r\n\r\nThe first 5 bits (but, read right to left) are seconds (divided by 2 - so this is a number between 0 and 31. Multiply it by 2, that&#39;s the seconds. Presumably, 30 and 31 won&#39;t ever occur. ZIP files cannot represent a file&#39;s last-modified-time if it is odd, and will mangle it, by rounding it, i.e. shifting it by 1 seconds. That&#39;s what I meant by &#39;half right&#39; and &#39;mostly&#39;). The next 6 are the minute, and the final 5 are the hour.\r\n\r\nBreaking it down: 01000 is 8, multiply by 2: Evidently it was 16 seconds into the minute when I ran the code. 001000 is 8, so it was the 8th minute. 10111 is 23 - it was 23:08:16 when I ran this. And I can confirm that (it indeed was that time), but also:\r\n\r\n```\r\n&gt; jar tvf outputJar1.jar\r\n10-17-2023 23:08   META-INF/MANIFEST.MF\r\n```\r\n\r\nAh. __We see the second problem here__. Probably because of the craziness of the &#39;only even seconds&#39; business, the jar tool &#39;helpfully&#39; does not actually _show_ the seconds and just calls it a day after showing 23:08. However, those seconds (well, divided by 2) __are__ in the ZIP file, and explain why that byte is different.\r\n\r\nFor completeness sake:\r\n\r\n&gt; `5157`\r\n\r\nIn bits, &#39;undoing&#39; the little endian-ness: 0101 0111 0101 0001\r\n\r\nand that&#39;d be the date. reading back to front (MS-DOS format was weird): 5 bits for the day, 4 for the month, 7 for the year (add 1980 to it): 10001 is 17 (today is the 17th), 1010 is 10 (today is October), 0101011 is 43. Add 1980, makes 2023. Checks out.\r\n\r\n&gt; `0000 0000`\r\n\r\nThat&#39;s 4 bytes of CRC-32 (this is encoding the META-INF dir, so it&#39;s all zeroes)\r\n\r\n&gt; `0000 0000`\r\n\r\nThis is encoding the size of the compressed data. Which is zero, because, directory.\r\n\r\n&gt; `0000 0000`\r\n\r\nThis is encoding the size of the uncompressed data. Which is zero, because, directory.\r\n\r\n&gt; `1400`\r\n\r\nThe length of the file name. Which is 20.\r\n\r\n&gt; `0400`\r\n\r\nThe length of the &#39;extra field&#39; which is a ZIP kludge to encode things like owner and group, and is just key/value pairs with no particular definition.\r\n\r\n&gt; `4D45 54412D49 4E462F4D 414E4946 4553542E 4D46`\r\n\r\nThat&#39;s 20 bytes (because the &#39;length of the file name&#39; field was 20 bytes). It&#39;s ASCII for `META-INF/MANIFEST.MF`.\r\n\r\n&gt; `FECA 0000`\r\n\r\nExtra field of type FECA That&#39;s &#39;CAFE&#39; in little endian. It&#39;s java adding an extra field. This field means simply &#39;java made this&#39;, and has no value (hence, `0000` - 0 bytes follow). There are no furtehr extra fields (no posix user/group, no full time stamp, no crypto block, and so forth).\r\n\r\n&gt; `E3E5 0200`\r\n\r\nI have no idea. Possibly the encoding used for representing the file name.\r\n\r\n&gt; `504B0304`\r\n\r\nIt repeats - this is encoding another file block. It&#39;s _again_ META-INF/MANIFEST.MF. This time with actual data. A bit wonky but it&#39;s because you&#39;re streaming the data, and these blocks require that you write the size and checksum _before_ the data. Which is no problem if its a file (you can cheaply overwrite bytes in a file), but cannot be done if its a stream (streams don&#39;t have a &#39;go back and write over something from before). Hence why bit 3 is set in the flags and why we see repeat entries, though I admit I don&#39;t quite get how this works.\r\n\r\n\r\n\r\nBut, point is - it&#39;s the local time thing, that explains why you see a difference.\r\n","title":"Java : Building a Jar file and notice a few bytes are off","body":"<p>It's because the local time is in there. Which is hard to see with <code>unzip</code> and <code>jar</code> tools. But is the reason.</p>\n<p>jars are just zip files. Lets break it down. I ran your code (had to fix a few things), and this is the bytestream I ended up with:</p>\n<pre><code>504B0304 14000808 080008B9 51570000 00000000 00000000 00001400 04004D45\n54412D49 4E462F4D 414E4946 4553542E 4D46FECA 0000E3E5 0200504B 0708AC85\nA2140400 00000200 0000504B 01021400 14000808 0800[08/12]B9 5157AC85 A2140400\n00000200 00001400 04000000 00000000 00000000 00000000 4D455441 2D494E46\n2F4D414E 49464553 542E4D46 FECA0000 504B0506 00000000 01000100 46000000\n4A000000 0000\n</code></pre>\n<p>Where <code>[08/12]</code> means: it was 0x08 in one of em and 0x12 in the other; they are otherwise identical.</p>\n<p>Step by step, but first:</p>\n<p>ZIP files are read back-to-front; The very end of them contains the so-called 'Central directory' which lists every file in the ZIP and where you can find it. The reason it works this way is because file systems tend to allow you to grow an existing file 'at the end' without having to rewrite the entire file. Hence, if you have a 4GB zip file and you want to add a tiny little file to it, e.g. with <code>zip u</code>, then it's 'cheap': the zip tool can just write that tiny little file (compressed) over the existing central directory structure and then write a new central directory structure, leaving the first 3.99GB unmodified.</p>\n<p>However, <code>jar</code> doesn't do any voodoo trickery, so it's simple: It's a sequence of compressed file entries, one after the other, followed by the Central Directory.</p>\n<blockquote>\n<p><code>504B0403</code></p>\n</blockquote>\n<p>This is the PKZip identifier; it's PK with 2 more bytes. This is just at the start of every 'file entry' in a ZIP. This zip has only one entry (the manifest, which is just a file in the zip in a particular place and at the beginning of the file). All zip files start with this.</p>\n<blockquote>\n<p><code>1400</code></p>\n</blockquote>\n<p>The version of the zip format (version 20). Like the previous thing, pretty much a constant. ZIP is little endian, hence, '1400' is 20. (the first byte is the least significant, and 14 in hexadecimal is 20 in decimal).</p>\n<blockquote>\n<p><code>0808</code></p>\n</blockquote>\n<p>The flags. Specifically, that's:</p>\n<ul>\n<li>encrypted: No</li>\n<li>compression option: 0</li>\n<li>Data descriptor: yes</li>\n<li>enhanced deflation: No</li>\n<li>compressed patched data: No</li>\n<li>strong encryption: No</li>\n<li>language encoding: yes</li>\n<li>mask header values: no</li>\n</ul>\n<blockquote>\n<p><code>0800</code></p>\n</blockquote>\n<p>ZIP is actually a container format. Technically it's like <code>tar</code> - it describes how to shove many files in a single file. Each individual entry does its own compression and the ZIP format just has a whole bunch of algorithms available. In practice, an ISO-standard zip only supports 2 compression algorithms: 'deflate' (8) and 'no compression' (0). This entry is compressed using the Deflate algorithm (8 - Remember, ZIP is little endian).</p>\n<blockquote>\n<p><code>08B9</code></p>\n</blockquote>\n<p>The file this block is representing was last modified on 23:08.</p>\n<p><strong>WE FOUND THE PROBLEM HERE</strong>.</p>\n<p>Remember, ZIP is like <code>tar</code> - a container format that is designed to represent a whole boatload of files as a single file. As a format it is meant to represent as much as it can. ZIP is kinda bad at it (for example, on posix systems files have an owner and a group), but it at least got this right. Well, half right, literally: Files have last modified timestamp and ZIP can dutifully store this, so that when unzipping, the 'last modified' is (mostly) unchanged. In ZIPs defense, this is how MS-DOS worked. To ZIPs detriment, that certainly wasn't the only platform out there at the time it was devised.</p>\n<p>In bits, 'undoing' the little endian-ness: 1011 1001 0000 1000</p>\n<p>The first 5 bits (but, read right to left) are seconds (divided by 2 - so this is a number between 0 and 31. Multiply it by 2, that's the seconds. Presumably, 30 and 31 won't ever occur. ZIP files cannot represent a file's last-modified-time if it is odd, and will mangle it, by rounding it, i.e. shifting it by 1 seconds. That's what I meant by 'half right' and 'mostly'). The next 6 are the minute, and the final 5 are the hour.</p>\n<p>Breaking it down: 01000 is 8, multiply by 2: Evidently it was 16 seconds into the minute when I ran the code. 001000 is 8, so it was the 8th minute. 10111 is 23 - it was 23:08:16 when I ran this. And I can confirm that (it indeed was that time), but also:</p>\n<pre><code>&gt; jar tvf outputJar1.jar\n10-17-2023 23:08   META-INF/MANIFEST.MF\n</code></pre>\n<p>Ah. <strong>We see the second problem here</strong>. Probably because of the craziness of the 'only even seconds' business, the jar tool 'helpfully' does not actually <em>show</em> the seconds and just calls it a day after showing 23:08. However, those seconds (well, divided by 2) <strong>are</strong> in the ZIP file, and explain why that byte is different.</p>\n<p>For completeness sake:</p>\n<blockquote>\n<p><code>5157</code></p>\n</blockquote>\n<p>In bits, 'undoing' the little endian-ness: 0101 0111 0101 0001</p>\n<p>and that'd be the date. reading back to front (MS-DOS format was weird): 5 bits for the day, 4 for the month, 7 for the year (add 1980 to it): 10001 is 17 (today is the 17th), 1010 is 10 (today is October), 0101011 is 43. Add 1980, makes 2023. Checks out.</p>\n<blockquote>\n<p><code>0000 0000</code></p>\n</blockquote>\n<p>That's 4 bytes of CRC-32 (this is encoding the META-INF dir, so it's all zeroes)</p>\n<blockquote>\n<p><code>0000 0000</code></p>\n</blockquote>\n<p>This is encoding the size of the compressed data. Which is zero, because, directory.</p>\n<blockquote>\n<p><code>0000 0000</code></p>\n</blockquote>\n<p>This is encoding the size of the uncompressed data. Which is zero, because, directory.</p>\n<blockquote>\n<p><code>1400</code></p>\n</blockquote>\n<p>The length of the file name. Which is 20.</p>\n<blockquote>\n<p><code>0400</code></p>\n</blockquote>\n<p>The length of the 'extra field' which is a ZIP kludge to encode things like owner and group, and is just key/value pairs with no particular definition.</p>\n<blockquote>\n<p><code>4D45 54412D49 4E462F4D 414E4946 4553542E 4D46</code></p>\n</blockquote>\n<p>That's 20 bytes (because the 'length of the file name' field was 20 bytes). It's ASCII for <code>META-INF/MANIFEST.MF</code>.</p>\n<blockquote>\n<p><code>FECA 0000</code></p>\n</blockquote>\n<p>Extra field of type FECA That's 'CAFE' in little endian. It's java adding an extra field. This field means simply 'java made this', and has no value (hence, <code>0000</code> - 0 bytes follow). There are no furtehr extra fields (no posix user/group, no full time stamp, no crypto block, and so forth).</p>\n<blockquote>\n<p><code>E3E5 0200</code></p>\n</blockquote>\n<p>I have no idea. Possibly the encoding used for representing the file name.</p>\n<blockquote>\n<p><code>504B0304</code></p>\n</blockquote>\n<p>It repeats - this is encoding another file block. It's <em>again</em> META-INF/MANIFEST.MF. This time with actual data. A bit wonky but it's because you're streaming the data, and these blocks require that you write the size and checksum <em>before</em> the data. Which is no problem if its a file (you can cheaply overwrite bytes in a file), but cannot be done if its a stream (streams don't have a 'go back and write over something from before). Hence why bit 3 is set in the flags and why we see repeat entries, though I admit I don't quite get how this works.</p>\n<p>But, point is - it's the local time thing, that explains why you see a difference.</p>\n"}],"owner":{"account_id":4421715,"reputation":1495,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77312426,"answer_count":1,"score":0,"last_activity_date":1697579561,"creation_date":1697576035,"question_id":77312204,"body_markdown":"Working with code that dynamically builds a JAR file based on existing classes. \r\n\r\nWhen reviewing the HEX information of the file, it was noticed a few bytes were off.\r\n\r\nAble to scale down a sample to simply use the Java API and empty MANIFEST as an example.\r\n\r\n    public MyObject\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n        \tSystem.out.println(&quot;START&quot;);\r\n        \tMyObject myObject = new MyObject();\r\n        \tmyObject.myTest();\r\n        \tSystem.out.println(&quot;END&quot;);\r\n        \treturn;\r\n        \t\r\n        }\r\n    \r\n        protected void myTest() \r\n        {\r\n        \tSystem.out.println(&quot;Inside myTest()&quot;);\r\n        \ttry\r\n        \t{\r\n    \r\n            \tManifest manifest = new Manifest();\r\n            \t\r\n            \tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n            \tJarOutputStream jarOutputStream;\r\n    \t\t\t\tjarOutputStream = new JarOutputStream(byteArrayOutputStream, manifest);\r\n            \t\r\n            \tbyteArrayOutputStream.flush();\r\n            \tbyteArrayOutputStream.close();\r\n            \tjarOutputStream.flush();\r\n            \tjarOutputStream.close();\r\n    \r\n            \tOutputStream outputStream =  new FileOutputStream(&quot;c:\\\\Downloads\\\\outputJar1.jar&quot;);  \t\r\n            \toutputStream.write(byteArrayOutputStream.toByteArray());\r\n            \t\r\n            \toutputStream.flush();\r\n            \toutputStream.close();\r\n            }\r\n        \r\n        catch (IOException e) {}\r\n        }\r\n        \r\n    }\r\n\r\n\r\nExecuting the above code generates a file outputJar1.jar.\r\n\r\nAfter executing, change the code to be outputJar2.jar\r\n\r\n        \tOutputStream outputStream =  new FileOutputStream(&quot;c:\\\\Downloads\\\\outputJar1.jar&quot;);  \t\r\n        \toutputStream.write(byteArrayOutputStream.toByteArray());\r\n\r\nRun the code again. \r\n\r\nIn theory these 2 files should be the same.\r\n\r\nBut using a utility to compare the 2 files, there are obvious differences. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhen comparing 2 files, the differences are always in the same location and the Hex value will always be something different, but still the same within each file. \r\n\r\n\r\nAny idea why the content of these files are always generated differently?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rNPT3.png\r\n  [2]: https://i.stack.imgur.com/nWLYm.png","title":"Java : Building a Jar file and notice a few bytes are off","body":"<p>Working with code that dynamically builds a JAR file based on existing classes.</p>\n<p>When reviewing the HEX information of the file, it was noticed a few bytes were off.</p>\n<p>Able to scale down a sample to simply use the Java API and empty MANIFEST as an example.</p>\n<pre><code>public MyObject\n{\n    public static void main(String[] args)\n    {\n        System.out.println(&quot;START&quot;);\n        MyObject myObject = new MyObject();\n        myObject.myTest();\n        System.out.println(&quot;END&quot;);\n        return;\n        \n    }\n\n    protected void myTest() \n    {\n        System.out.println(&quot;Inside myTest()&quot;);\n        try\n        {\n\n            Manifest manifest = new Manifest();\n            \n            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n            JarOutputStream jarOutputStream;\n                jarOutputStream = new JarOutputStream(byteArrayOutputStream, manifest);\n            \n            byteArrayOutputStream.flush();\n            byteArrayOutputStream.close();\n            jarOutputStream.flush();\n            jarOutputStream.close();\n\n            OutputStream outputStream =  new FileOutputStream(&quot;c:\\\\Downloads\\\\outputJar1.jar&quot;);     \n            outputStream.write(byteArrayOutputStream.toByteArray());\n            \n            outputStream.flush();\n            outputStream.close();\n        }\n    \n    catch (IOException e) {}\n    }\n    \n}\n</code></pre>\n<p>Executing the above code generates a file outputJar1.jar.</p>\n<p>After executing, change the code to be outputJar2.jar</p>\n<pre><code>        OutputStream outputStream =  new FileOutputStream(&quot;c:\\\\Downloads\\\\outputJar1.jar&quot;);     \n        outputStream.write(byteArrayOutputStream.toByteArray());\n</code></pre>\n<p>Run the code again.</p>\n<p>In theory these 2 files should be the same.</p>\n<p>But using a utility to compare the 2 files, there are obvious differences.</p>\n<p><a href=\"https://i.stack.imgur.com/rNPT3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rNPT3.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/nWLYm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nWLYm.png\" alt=\"enter image description here\" /></a></p>\n<p>When comparing 2 files, the differences are always in the same location and the Hex value will always be something different, but still the same within each file.</p>\n<p>Any idea why the content of these files are always generated differently?</p>\n"},{"tags":["java","kubernetes","grpc","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":343770,"reputation":337,"user_id":675693,"display_name":"user675693"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1610561621,"creation_date":1610561621,"answer_id":65707581,"question_id":65701091,"body_markdown":"ManagedChannelBuilder.enableRetry().maxRetryAttempts(10) is not sufficient to make retry happen. The retry needs a service config with RetryPolicy defined. One way is set a default service config with RetryPolicy, please see the retry example in https://github.com/grpc/grpc-java/tree/v1.35.0/examples\r\n\r\nThere&#39;s been some confusion on the javadoc of maxRetryAttempts(), and it&#39;s being clarified in https://github.com/grpc/grpc-java/pull/7803","title":"How to get GRPC&#39;s retry mechanism to work using grpc-java in Kubernetes cluster?","body":"<p>ManagedChannelBuilder.enableRetry().maxRetryAttempts(10) is not sufficient to make retry happen. The retry needs a service config with RetryPolicy defined. One way is set a default service config with RetryPolicy, please see the retry example in <a href=\"https://github.com/grpc/grpc-java/tree/v1.35.0/examples\" rel=\"noreferrer\">https://github.com/grpc/grpc-java/tree/v1.35.0/examples</a></p>\n<p>There's been some confusion on the javadoc of maxRetryAttempts(), and it's being clarified in <a href=\"https://github.com/grpc/grpc-java/pull/7803\" rel=\"noreferrer\">https://github.com/grpc/grpc-java/pull/7803</a></p>\n"},{"comments":[{"owner":{"account_id":11546447,"reputation":351,"user_id":8460313,"display_name":"Ravi Teja Muddada"},"score":0,"creation_date":1668602135,"post_id":65721652,"comment_id":131444334,"body_markdown":"I didn&#39;t define package in my proto but I defined option java_package. Now in my retry service config file, I mentioned the ServiceName without package as I dont have proto package. Issue is, retires are not taking the config defined in my file.  Do we need to have proto package In our proto?","body":"I didn&#39;t define package in my proto but I defined option java_package. Now in my retry service config file, I mentioned the ServiceName without package as I dont have proto package. Issue is, retires are not taking the config defined in my file.  Do we need to have proto package In our proto?"},{"owner":{"account_id":1880239,"reputation":927,"user_id":1700614,"display_name":"z0mb1ek"},"score":0,"creation_date":1690503610,"post_id":65721652,"comment_id":135366792,"body_markdown":"@RaviTejaMuddada i have same configuration, have java_package and don&#39;t have proto package. Adding service name making this working","body":"@RaviTejaMuddada i have same configuration, have java_package and don&#39;t have proto package. Adding service name making this working"}],"tags":[],"owner":{"account_id":14887286,"reputation":141,"user_id":10750090,"display_name":"Daniel Western"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697578635,"creation_date":1610637264,"answer_id":65721652,"question_id":65701091,"body_markdown":"Thanks very much @user675693 ! That worked perfectly :)\r\n\r\nThe wording of `maxRetryAttempts()` is indeed a bit confusing.\r\n\r\nFrom the documentation I can see that:\r\n\r\n&quot;maxAttempts MUST be specified and MUST be a JSON integer value greater than 1. Values greater than 5 are treated as 5 without being considered a validation error.&quot;\r\n\r\nReferring to the maxAttempts in the service config. If we want more than 5 attempts I can set this as maxRetryAttempts(10) for example in my ManagedChannel set up:\r\n\r\n```\r\nreturn NettyChannelBuilder.forAddress(host, port)\r\n        .defaultLoadBalancingPolicy(&quot;round_robin&quot;)\r\n        .defaultServiceConfig(config)\r\n        .enableRetry()\r\n        .maxRetryAttempts(10)\r\n        .usePlaintext().build();\r\n```\r\n\r\nBut for that setting to be used properly I need to set it as 10 in the service config AND the ManagedChannel setup code, otherwise only 5 retries are performed. Its not clear from the Javadoc or the documentation, but thats what seems to happen from my testing.\r\n\r\nAlso, this retry functionality is marked as @ExperimentalApi. How mature is it, is it suitable to be used in production? Is it likely to change drastically?","title":"How to get GRPC&#39;s retry mechanism to work using grpc-java in Kubernetes cluster?","body":"<p>Thanks very much @user675693 ! That worked perfectly :)</p>\n<p>The wording of <code>maxRetryAttempts()</code> is indeed a bit confusing.</p>\n<p>From the documentation I can see that:</p>\n<p>&quot;maxAttempts MUST be specified and MUST be a JSON integer value greater than 1. Values greater than 5 are treated as 5 without being considered a validation error.&quot;</p>\n<p>Referring to the maxAttempts in the service config. If we want more than 5 attempts I can set this as maxRetryAttempts(10) for example in my ManagedChannel set up:</p>\n<pre><code>return NettyChannelBuilder.forAddress(host, port)\n        .defaultLoadBalancingPolicy(&quot;round_robin&quot;)\n        .defaultServiceConfig(config)\n        .enableRetry()\n        .maxRetryAttempts(10)\n        .usePlaintext().build();\n</code></pre>\n<p>But for that setting to be used properly I need to set it as 10 in the service config AND the ManagedChannel setup code, otherwise only 5 retries are performed. Its not clear from the Javadoc or the documentation, but thats what seems to happen from my testing.</p>\n<p>Also, this retry functionality is marked as @ExperimentalApi. How mature is it, is it suitable to be used in production? Is it likely to change drastically?</p>\n"},{"tags":[],"owner":{"account_id":1880239,"reputation":927,"user_id":1700614,"display_name":"z0mb1ek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690504270,"creation_date":1690504270,"answer_id":76784188,"question_id":65701091,"body_markdown":"It&#39;s true it&#39;s not at all obvious how you can configure the client to do retry. Moreover you must set [name.service][1] to make it work. We use kotlin and there is example for it:\r\n\r\n    NettyChannelBuilder\r\n        .forAddress(&quot;localhost&quot;, 7001)\r\n        .usePlaintext()\r\n        .defaultServiceConfig(\r\n            mapOf(\r\n                &quot;methodConfig&quot; to listOf(\r\n                    mapOf(\r\n                        &quot;name&quot; to listOf(mapOf(&quot;service&quot; to &quot;TestService&quot;)),\r\n                        &quot;retryPolicy&quot; to mapOf(\r\n                            &quot;maxAttempts&quot; to &quot;10&quot;,\r\n                            &quot;initialBackoff&quot; to &quot;0.5s&quot;,\r\n                            &quot;maxBackoff&quot; to &quot;10s&quot;,\r\n                            &quot;backoffMultiplier&quot; to 1.2,\r\n                            &quot;retryableStatusCodes&quot; to listOf(&quot;UNAVAILABLE&quot;)\r\n                        )\r\n                    )\r\n                )\r\n            )\r\n        )\r\n        .maxRetryAttempts(10)\r\n        .enableRetry()\r\n        .build()\r\n\r\n\r\n  [1]: https://github.com/grpc/grpc-proto/blob/master/grpc/service_config/service_config.proto#L73","title":"How to get GRPC&#39;s retry mechanism to work using grpc-java in Kubernetes cluster?","body":"<p>It's true it's not at all obvious how you can configure the client to do retry. Moreover you must set <a href=\"https://github.com/grpc/grpc-proto/blob/master/grpc/service_config/service_config.proto#L73\" rel=\"nofollow noreferrer\">name.service</a> to make it work. We use kotlin and there is example for it:</p>\n<pre><code>NettyChannelBuilder\n    .forAddress(&quot;localhost&quot;, 7001)\n    .usePlaintext()\n    .defaultServiceConfig(\n        mapOf(\n            &quot;methodConfig&quot; to listOf(\n                mapOf(\n                    &quot;name&quot; to listOf(mapOf(&quot;service&quot; to &quot;TestService&quot;)),\n                    &quot;retryPolicy&quot; to mapOf(\n                        &quot;maxAttempts&quot; to &quot;10&quot;,\n                        &quot;initialBackoff&quot; to &quot;0.5s&quot;,\n                        &quot;maxBackoff&quot; to &quot;10s&quot;,\n                        &quot;backoffMultiplier&quot; to 1.2,\n                        &quot;retryableStatusCodes&quot; to listOf(&quot;UNAVAILABLE&quot;)\n                    )\n                )\n            )\n        )\n    )\n    .maxRetryAttempts(10)\n    .enableRetry()\n    .build()\n</code></pre>\n"}],"owner":{"account_id":14887286,"reputation":141,"user_id":10750090,"display_name":"Daniel Western"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7559,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1697578635,"creation_date":1610537445,"question_id":65701091,"body_markdown":"I have been attempting to get GRPC&#39;s load balancing working in my Java application deployed to a Kubernetes cluster but I have not been having too much success. There does not seem to be too much documentation around this, but from examples online I can see that I should now be able to use &#39;.defaultLoadBalancingPolicy(&quot;round_robin&quot;)&#39; when setting up the ManagedChannel (in later versions of GRPC Java lib).\r\n\r\nTo be more specific, I am using version 1.34.1 of the GRPC Java libraries. I have created two Spring Boot (v2.3.4) applications, one called grpc-sender and one called grpc-receiver.\r\n\r\ngrpc-sender acts as a GRPC client and defines a (Netty) ManagedChannel as:\r\n\r\n```\r\n@Bean\r\npublic ManagedChannel greetingServiceManagedChannel() {\r\n  String host = &quot;grpc-receiver&quot;;\r\n  int port = 6565;\r\n  return NettyChannelBuilder.forAddress(host, port)\r\n      .defaultLoadBalancingPolicy(&quot;round_robin&quot;)\r\n      .usePlaintext().build();\r\n}\r\n```\r\n\r\nThen grpc-receiver acts as the GRPC server:\r\n\r\n```\r\nServer server = ServerBuilder.forPort(6565)\r\n        .addService(new GreetingServiceImpl()).build();\r\n```\r\n\r\nI am deploying these applications to a Kubernetes cluster (running locally in minikube for the time being), and I have created a Service for the grpc-receiver application as a headless service, so that GRPC load balancing can be achieved.\r\n\r\nTo test failed requests, I do two things:\r\n\r\n - kill one of the grpc-receiver pods during the execution of a test run - e.g. when I have requested grpc-sender to send, say, 5000 requests to grpc-receiver. Grpc-sender does detect that the pod has been killed and does refresh its list of receiver pods, and routes future requests to the new pods. As expected, some of the requests that were in flight during the kill of the pod fail with GRPC Status UNAVAILABLE.\r\n - have some simple logic in grpc-receiver that generates a random number and if that random number is below, say, 0.2, return Grpc Status INTERNAL rather than OK.\r\n\r\nWith both the above, I can get a proportion of the requests during a test run to fail. Now what I am trying to get GRPC&#39;s retry mechanism to work. From reading the sparse documentation I am doing the following:\r\n\r\n```\r\nreturn NettyChannelBuilder.forAddress(host, port)\r\n        .defaultLoadBalancingPolicy(&quot;round_robin&quot;)\r\n        .enableRetry()\r\n        .maxRetryAttempts(10)\r\n        .usePlaintext().build();\r\n```\r\n\r\nHowever this seems to have no effect and I cannot see that failed requests are retried at all.\r\n\r\nI see that this is still marked as an @ExperimentalApi feature, so should it work as expected and has it been implemented?\r\n\r\nIf so, is there something obvious I am missing? Anything else I need to do to get retries working?\r\n\r\nAny documentation that explains how to do this in more detail?\r\n\r\nThanks very much in advance...","title":"How to get GRPC&#39;s retry mechanism to work using grpc-java in Kubernetes cluster?","body":"<p>I have been attempting to get GRPC's load balancing working in my Java application deployed to a Kubernetes cluster but I have not been having too much success. There does not seem to be too much documentation around this, but from examples online I can see that I should now be able to use '.defaultLoadBalancingPolicy(&quot;round_robin&quot;)' when setting up the ManagedChannel (in later versions of GRPC Java lib).</p>\n<p>To be more specific, I am using version 1.34.1 of the GRPC Java libraries. I have created two Spring Boot (v2.3.4) applications, one called grpc-sender and one called grpc-receiver.</p>\n<p>grpc-sender acts as a GRPC client and defines a (Netty) ManagedChannel as:</p>\n<pre><code>@Bean\npublic ManagedChannel greetingServiceManagedChannel() {\n  String host = &quot;grpc-receiver&quot;;\n  int port = 6565;\n  return NettyChannelBuilder.forAddress(host, port)\n      .defaultLoadBalancingPolicy(&quot;round_robin&quot;)\n      .usePlaintext().build();\n}\n</code></pre>\n<p>Then grpc-receiver acts as the GRPC server:</p>\n<pre><code>Server server = ServerBuilder.forPort(6565)\n        .addService(new GreetingServiceImpl()).build();\n</code></pre>\n<p>I am deploying these applications to a Kubernetes cluster (running locally in minikube for the time being), and I have created a Service for the grpc-receiver application as a headless service, so that GRPC load balancing can be achieved.</p>\n<p>To test failed requests, I do two things:</p>\n<ul>\n<li>kill one of the grpc-receiver pods during the execution of a test run - e.g. when I have requested grpc-sender to send, say, 5000 requests to grpc-receiver. Grpc-sender does detect that the pod has been killed and does refresh its list of receiver pods, and routes future requests to the new pods. As expected, some of the requests that were in flight during the kill of the pod fail with GRPC Status UNAVAILABLE.</li>\n<li>have some simple logic in grpc-receiver that generates a random number and if that random number is below, say, 0.2, return Grpc Status INTERNAL rather than OK.</li>\n</ul>\n<p>With both the above, I can get a proportion of the requests during a test run to fail. Now what I am trying to get GRPC's retry mechanism to work. From reading the sparse documentation I am doing the following:</p>\n<pre><code>return NettyChannelBuilder.forAddress(host, port)\n        .defaultLoadBalancingPolicy(&quot;round_robin&quot;)\n        .enableRetry()\n        .maxRetryAttempts(10)\n        .usePlaintext().build();\n</code></pre>\n<p>However this seems to have no effect and I cannot see that failed requests are retried at all.</p>\n<p>I see that this is still marked as an @ExperimentalApi feature, so should it work as expected and has it been implemented?</p>\n<p>If so, is there something obvious I am missing? Anything else I need to do to get retries working?</p>\n<p>Any documentation that explains how to do this in more detail?</p>\n<p>Thanks very much in advance...</p>\n"},{"tags":["java","reflection"],"answers":[{"comments":[{"owner":{"account_id":239025,"reputation":4435,"user_id":508328,"accept_rate":90,"display_name":"andbi"},"score":1,"creation_date":1659734262,"post_id":471759,"comment_id":129373458,"body_markdown":"No it&#39;s not, `getClasses()` returns public classes only, including inherited ones.","body":"No it&#39;s not, <code>getClasses()</code> returns public classes only, including inherited ones."},{"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"score":0,"creation_date":1697140661,"post_id":471759,"comment_id":136245998,"body_markdown":"Use the getDeclaredClasses() method from Class.","body":"Use the getDeclaredClasses() method from Class."}],"tags":[],"owner":{"account_id":20268,"reputation":5582,"user_id":48234,"accept_rate":41,"display_name":"Cogsy"},"comment_count":2,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1697578446,"creation_date":1232680434,"answer_id":471759,"question_id":471749,"body_markdown":"I think this is what you&#39;re after: [`Class.getClasses()`][1]\r\n\r\n[1]: https://java.sun.com/javase/6/docs/api/java/lang/Class.html#getClasses()","title":"Can I discover a Java class&#39; declared inner classes using reflection?","body":"<p>I think this is what you're after: <a href=\"https://java.sun.com/javase/6/docs/api/java/lang/Class.html#getClasses()\" rel=\"nofollow noreferrer\"><code>Class.getClasses()</code></a></p>\n"},{"comments":[{"owner":{"account_id":172794,"reputation":7482,"user_id":401059,"display_name":"Caesar"},"score":3,"creation_date":1586996385,"post_id":471775,"comment_id":108339306,"body_markdown":"Sadly, this doesn&#39;t list anonymous inner classes (javap will report them).","body":"Sadly, this doesn&#39;t list anonymous inner classes (javap will report them)."}],"tags":[],"owner":{"account_id":14176,"reputation":4146,"user_id":28946,"accept_rate":84,"display_name":"Jen S."},"comment_count":1,"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1549572474,"creation_date":1232680731,"answer_id":471775,"question_id":471749,"body_markdown":"[`Class.getDeclaredClasses()`][1] is the answer. \r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getDeclaredClasses()","title":"Can I discover a Java class&#39; declared inner classes using reflection?","body":"<p><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getDeclaredClasses()\" rel=\"noreferrer\"><code>Class.getDeclaredClasses()</code></a> is the answer. </p>\n"},{"comments":[{"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"score":1,"creation_date":1697140193,"post_id":8938851,"comment_id":136245927,"body_markdown":"OP stated that they need a way to get PRIVATE inner classes.","body":"OP stated that they need a way to get PRIVATE inner classes."}],"tags":[],"owner":{"account_id":1186377,"reputation":65,"user_id":1160254,"display_name":"Shrirang"},"comment_count":1,"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1497110210,"creation_date":1327049805,"answer_id":8938851,"question_id":471749,"body_markdown":"    package com.test;\r\n    \r\n    public class A {\r\n    \t\r\n    \tpublic String str;\r\n    \t\r\n        public class B {\r\n            private int i;\r\n        }\r\n    }\r\n    package com.test;\r\n    \r\n    import junit.framework.TestCase;\r\n    \r\n    public class ReflectAB extends TestCase {\r\n    \tpublic void testAccessToOuterClass() throws Exception {\r\n    \t       final A a = new A();\r\n    \t       final A.B b = a.new B();\r\n    \t       final Class[] parent = A.class.getClasses();\r\n    \t       assertEquals(&quot;com.test.A$B&quot;, parent[0].getName());\r\n    \t       assertEquals(&quot;i&quot; , parent[0].getDeclaredFields()[0].getName());\r\n    \t       assertEquals(&quot;int&quot;,parent[0].getDeclaredFields()[0].getType().getName());\r\n    \t       //assertSame(a, a2);\r\n    \t    }\r\n    \r\n    }\r\n\r\n","title":"Can I discover a Java class&#39; declared inner classes using reflection?","body":"<pre><code>package com.test;\n\npublic class A {\n\n    public String str;\n\n    public class B {\n        private int i;\n    }\n}\npackage com.test;\n\nimport junit.framework.TestCase;\n\npublic class ReflectAB extends TestCase {\n    public void testAccessToOuterClass() throws Exception {\n           final A a = new A();\n           final A.B b = a.new B();\n           final Class[] parent = A.class.getClasses();\n           assertEquals(\"com.test.A$B\", parent[0].getName());\n           assertEquals(\"i\" , parent[0].getDeclaredFields()[0].getName());\n           assertEquals(\"int\",parent[0].getDeclaredFields()[0].getType().getName());\n           //assertSame(a, a2);\n        }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14176,"reputation":4146,"user_id":28946,"accept_rate":84,"display_name":"Jen S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28688,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":471775,"answer_count":3,"score":44,"last_activity_date":1697578446,"creation_date":1232680213,"question_id":471749,"body_markdown":"In Java, is there any way to use the JDK libraries to discover the private classes implemented within another class? Or do I need so use something like asm? \r\n","title":"Can I discover a Java class&#39; declared inner classes using reflection?","body":"<p>In Java, is there any way to use the JDK libraries to discover the private classes implemented within another class? Or do I need so use something like asm? </p>\n"},{"tags":["java","android-studio","mobile","bottomnavigationview"],"answers":[{"tags":[],"owner":{"account_id":23025741,"reputation":21,"user_id":17146022,"display_name":"D Com"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697577977,"creation_date":1697577977,"answer_id":77312337,"question_id":77312042,"body_markdown":"\r\n---IndicatorStyle---\r\n1)\r\n   \r\n\r\n     &lt;style name=&quot;App.Custom.Indicator&quot; parent=&quot;Widget.Material3.BottomNavigationView.ActiveIndicator&quot;&gt;\r\n            &lt;item name=&quot;android:color&quot;&gt;@color/blue&lt;/item&gt;  \r\n        &lt;/style&gt;\r\n\r\n2)   Add this line to bottomNavigationView xml code :\r\n\r\n    app:itemActiveIndicatorStyle=&quot;@style/App.Custom.Indicator&quot;\r\n\r\n\r\n**OR**\r\n\r\n       app:itemRippleColor=&quot;@color/green&quot;\r\n        app:itemActiveIndicatorStyle=&quot;@color/green&quot;\r\n\r\nMakes an &quot;animation&quot; of an explosion. \r\nThe color type does not matter.","title":"get rid of BottomNavigationView &quot;selected&quot; view","body":"<p>---IndicatorStyle---\n1)</p>\n<pre><code> &lt;style name=&quot;App.Custom.Indicator&quot; parent=&quot;Widget.Material3.BottomNavigationView.ActiveIndicator&quot;&gt;\n        &lt;item name=&quot;android:color&quot;&gt;@color/blue&lt;/item&gt;  \n    &lt;/style&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Add this line to bottomNavigationView xml code :</li>\n</ol>\n<pre><code>app:itemActiveIndicatorStyle=&quot;@style/App.Custom.Indicator&quot;\n</code></pre>\n<p><strong>OR</strong></p>\n<pre><code>   app:itemRippleColor=&quot;@color/green&quot;\n    app:itemActiveIndicatorStyle=&quot;@color/green&quot;\n</code></pre>\n<p>Makes an &quot;animation&quot; of an explosion.\nThe color type does not matter.</p>\n"}],"owner":{"account_id":23025741,"reputation":21,"user_id":17146022,"display_name":"D Com"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697577977,"creation_date":1697574040,"question_id":77312042,"body_markdown":"When a menu item is pressed it changes its look.\r\nIt appears to me like this:\r\n[![enter image description here][1]][1]\r\nDo you know a way to get rid of this?\r\nIf not, is there a way to change the color?\r\nFor example, change the color from black to blue.\r\n\r\nBottomNavigationView item:\r\n```\r\n    &lt;com.google.android.material.bottomappbar.BottomAppBar\r\n        android:id=&quot;@+id/bottomAppBar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:layout_gravity=&quot;bottom&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.BottomAppBar.Colored&quot;\r\n        &gt;\r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bnv&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            app:labelVisibilityMode=&quot;unlabeled&quot;\r\n            app:itemIconTint=&quot;@color/white&quot;\r\n            app:menu=&quot;@menu/bottom_menu&quot;\r\n\r\n            /&gt;\r\n    &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\r\n```\r\n  [1]: https://i.stack.imgur.com/rOFBy.jpg","title":"get rid of BottomNavigationView &quot;selected&quot; view","body":"<p>When a menu item is pressed it changes its look.\nIt appears to me like this:\n<a href=\"https://i.stack.imgur.com/rOFBy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rOFBy.jpg\" alt=\"enter image description here\" /></a>\nDo you know a way to get rid of this?\nIf not, is there a way to change the color?\nFor example, change the color from black to blue.</p>\n<p>BottomNavigationView item:</p>\n<pre><code>    &lt;com.google.android.material.bottomappbar.BottomAppBar\n        android:id=&quot;@+id/bottomAppBar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:layout_gravity=&quot;bottom&quot;\n        style=&quot;@style/Widget.MaterialComponents.BottomAppBar.Colored&quot;\n        &gt;\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n            android:id=&quot;@+id/bnv&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            app:labelVisibilityMode=&quot;unlabeled&quot;\n            app:itemIconTint=&quot;@color/white&quot;\n            app:menu=&quot;@menu/bottom_menu&quot;\n\n            /&gt;\n    &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","zipkin","micrometer-tracing"],"answers":[{"comments":[{"owner":{"account_id":1197273,"reputation":427,"user_id":1168711,"accept_rate":71,"display_name":"LLAlive"},"score":1,"creation_date":1678218684,"post_id":75541942,"comment_id":133489904,"body_markdown":"This actualy doesn&#39;t help. App anyway tries to send spans to zipkin url at first call.","body":"This actualy doesn&#39;t help. App anyway tries to send spans to zipkin url at first call."}],"tags":[],"owner":{"account_id":3063245,"reputation":91,"user_id":2595499,"display_name":"lzafra"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677138810,"creation_date":1677138810,"answer_id":75541942,"question_id":75474597,"body_markdown":"Maybe by setting [this property][1] to 0.0?\r\n\r\n    management.tracing.sampling.probability: 0.0\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.actuator.management.tracing.sampling.probability","title":"How to disable zipkin reporter in spring boot 3?","body":"<p>Maybe by setting <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.actuator.management.tracing.sampling.probability\" rel=\"nofollow noreferrer\">this property</a> to 0.0?</p>\n<pre><code>management.tracing.sampling.probability: 0.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4348287,"reputation":51,"user_id":3549589,"display_name":"vivek_vara"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679141620,"creation_date":1679141620,"answer_id":75775822,"question_id":75474597,"body_markdown":"This seems to be removed in Spring Boot 3 with Micrometer. It was used to be available in spring-cloud-sleuth. \r\n\r\nAnyone see any other alternative?","title":"How to disable zipkin reporter in spring boot 3?","body":"<p>This seems to be removed in Spring Boot 3 with Micrometer. It was used to be available in spring-cloud-sleuth.</p>\n<p>Anyone see any other alternative?</p>\n"},{"tags":[],"owner":{"account_id":3020157,"reputation":476,"user_id":2561400,"accept_rate":29,"display_name":"Guillaume"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685026872,"creation_date":1685026302,"answer_id":76333617,"question_id":75474597,"body_markdown":"Check and remove this dependency\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.zipkin.reporter2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;zipkin-reporter-brave&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nor any other reporter dependency...","title":"How to disable zipkin reporter in spring boot 3?","body":"<p>Check and remove this dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.zipkin.reporter2&lt;/groupId&gt;\n    &lt;artifactId&gt;zipkin-reporter-brave&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or any other reporter dependency...</p>\n"},{"tags":[],"owner":{"account_id":52873,"reputation":2689,"user_id":158037,"display_name":"user158037"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689773404,"creation_date":1689773404,"answer_id":76721872,"question_id":75474597,"body_markdown":"If you have zipkin in your classpath you can use:\r\n```\r\n@SpringBootApplication(exclude = ZipkinAutoConfiguration.class)\r\n```\r\nThis will disable reporter that tries to access http://localhost:9411/api/v2/spans .\r\nSadly, based on https://github.com/spring-projects/spring-boot/issues/34620 ,  there is no dedicated `management.tracing.zipkin.enabled` and there isn&#39;t going to be one.","title":"How to disable zipkin reporter in spring boot 3?","body":"<p>If you have zipkin in your classpath you can use:</p>\n<pre><code>@SpringBootApplication(exclude = ZipkinAutoConfiguration.class)\n</code></pre>\n<p>This will disable reporter that tries to access http://localhost:9411/api/v2/spans .\nSadly, based on <a href=\"https://github.com/spring-projects/spring-boot/issues/34620\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/34620</a> ,  there is no dedicated <code>management.tracing.zipkin.enabled</code> and there isn't going to be one.</p>\n"},{"tags":[],"owner":{"account_id":3469995,"reputation":108,"user_id":2904625,"display_name":"Ahmed Sorrour"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694221163,"creation_date":1694221163,"answer_id":77070480,"question_id":75474597,"body_markdown":"After going through a lot of posts, I concluded that it is not supported to-date. So the workaround that I have for now have three pieces\r\n\r\n1.\r\n\r\n    @SpringBootApplication(exclude = ZipkinAutoConfiguration.class)\r\n    public class SomeSpringApplication {\r\n        ....\r\n    }\r\n\r\n2.\r\n\r\n    @Configuration\r\n    @Import(ZipkinAutoConfiguration.class)\r\n    @ConditionalOnProperty(prefix = &quot;management.tracing.zipkin&quot;, name = &quot;enabled&quot;, matchIfMissing = true)\r\n    public class ZipKinEnvConfig {\r\n    }\r\n\r\n3. In your properties file:\r\n\r\n    management.tracing.zipkin.enabled=false\r\n\r\nIf this property exists as false, local traces will work and not sent to Zipkin. If this property is true or not existing, traces will be sent out. I believe this is the same behavior as Spring 2.X property. The only annoying part to make this generic is the annotation on SpringBootApplication file :( \r\n\r\n\r\n\r\n","title":"How to disable zipkin reporter in spring boot 3?","body":"<p>After going through a lot of posts, I concluded that it is not supported to-date. So the workaround that I have for now have three pieces</p>\n<p>1.</p>\n<pre><code>@SpringBootApplication(exclude = ZipkinAutoConfiguration.class)\npublic class SomeSpringApplication {\n    ....\n}\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>@Configuration\n@Import(ZipkinAutoConfiguration.class)\n@ConditionalOnProperty(prefix = &quot;management.tracing.zipkin&quot;, name = &quot;enabled&quot;, matchIfMissing = true)\npublic class ZipKinEnvConfig {\n}\n</code></pre>\n<ol start=\"3\">\n<li><p>In your properties file:</p>\n<p>management.tracing.zipkin.enabled=false</p>\n</li>\n</ol>\n<p>If this property exists as false, local traces will work and not sent to Zipkin. If this property is true or not existing, traces will be sent out. I believe this is the same behavior as Spring 2.X property. The only annoying part to make this generic is the annotation on SpringBootApplication file :(</p>\n"},{"tags":[],"owner":{"account_id":5570264,"reputation":51,"user_id":4415883,"display_name":"dm13y"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697577686,"creation_date":1697577686,"answer_id":77312322,"question_id":75474597,"body_markdown":"You can disable zipkin via spring config:\r\n```\r\nspring:\r\n  autoconfigure:\r\n    exclude: org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinAutoConfiguration\r\n```","title":"How to disable zipkin reporter in spring boot 3?","body":"<p>You can disable zipkin via spring config:</p>\n<pre><code>spring:\n  autoconfigure:\n    exclude: org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinAutoConfiguration\n</code></pre>\n"}],"owner":{"account_id":14780386,"reputation":2981,"user_id":10674026,"display_name":"pero_hero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2449,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75541942,"answer_count":6,"score":5,"last_activity_date":1697577686,"creation_date":1676561988,"question_id":75474597,"body_markdown":"In spring boot 2 it was possible to disable distributed tracing during development as described [here][1]. Locally, traces were still generated but not exported.\r\n\r\nIn spring boot 3 it is possible it **disable tracing at all** with:\r\n\r\n         management.tracing.enabled=false\r\n\r\n\r\n**How can I disable the zipkin reporter or distributed tracing in spring boot 3 but keep local tracing on?**\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/56529683/10674026","title":"How to disable zipkin reporter in spring boot 3?","body":"<p>In spring boot 2 it was possible to disable distributed tracing during development as described <a href=\"https://stackoverflow.com/a/56529683/10674026\">here</a>. Locally, traces were still generated but not exported.</p>\n<p>In spring boot 3 it is possible it <strong>disable tracing at all</strong> with:</p>\n<pre><code>     management.tracing.enabled=false\n</code></pre>\n<p><strong>How can I disable the zipkin reporter or distributed tracing in spring boot 3 but keep local tracing on?</strong></p>\n"},{"tags":["java","xml","logging","console","log4j2"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684549285,"post_id":76292921,"comment_id":134537580,"body_markdown":"What is the issue exactly that you feel that you need to solve?","body":"What is the issue exactly that you feel that you need to solve?"},{"owner":{"account_id":13973338,"reputation":65,"user_id":10091319,"display_name":"jvatechs"},"score":0,"creation_date":1684551683,"post_id":76292921,"comment_id":134537701,"body_markdown":"@aled just want to remove printing &quot;WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release&quot; in console","body":"@aled just want to remove printing &quot;WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release&quot; in console"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684552431,"post_id":76292921,"comment_id":134537739,"body_markdown":"Is that the full literal message? Are there more lines or details?","body":"Is that the full literal message? Are there more lines or details?"},{"owner":{"account_id":13973338,"reputation":65,"user_id":10091319,"display_name":"jvatechs"},"score":0,"creation_date":1684622785,"post_id":76292921,"comment_id":134544589,"body_markdown":"@aled The full message is:\n\n`WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release\nWARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release\nWARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release\nWARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release\n\nProcess finished with exit code 0`","body":"@aled The full message is:  <code>WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release  Process finished with exit code 0</code>"},{"owner":{"account_id":29164343,"reputation":1,"user_id":22342302,"display_name":"Mujahid Akber Ali"},"score":0,"creation_date":1692782547,"post_id":76292921,"comment_id":135701473,"body_markdown":"Just install jmeter 5.4 and it will solve your issue. Link to download jmeter:\nhttps://archive.apache.org/dist/jmeter/binaries/","body":"Just install jmeter 5.4 and it will solve your issue. Link to download jmeter: <a href=\"https://archive.apache.org/dist/jmeter/binaries/\" rel=\"nofollow noreferrer\">archive.apache.org/dist/jmeter/binaries</a>"}],"answers":[{"comments":[{"owner":{"account_id":7284149,"reputation":673,"user_id":5552809,"display_name":"contrapost"},"score":0,"creation_date":1692367991,"post_id":76297778,"comment_id":135617607,"body_markdown":"Removing is an option when the packages attribute is blank. What if it is used, as in my case, to specify the packages with my custom plugins I want log4j to scan and add?\nI didn&#39;t manage to find any alternatives for this deprecated way of addition of the custom plugins.","body":"Removing is an option when the packages attribute is blank. What if it is used, as in my case, to specify the packages with my custom plugins I want log4j to scan and add? I didn&#39;t manage to find any alternatives for this deprecated way of addition of the custom plugins."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1692380023,"post_id":76297778,"comment_id":135619999,"body_markdown":"@contrapost you have to use one of the non-deprecated methods described in the documentation: https://logging.apache.org/log4j/2.x/manual/plugins.html","body":"@contrapost you have to use one of the non-deprecated methods described in the documentation: <a href=\"https://logging.apache.org/log4j/2.x/manual/plugins.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/plugins.html</a>"},{"owner":{"account_id":4824882,"reputation":263,"user_id":3894580,"accept_rate":75,"display_name":"Arjun Prajapati"},"score":0,"creation_date":1694502823,"post_id":76297778,"comment_id":135895398,"body_markdown":"This is not fixing my issue any other work around ?","body":"This is not fixing my issue any other work around ?"}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1684626844,"creation_date":1684626844,"answer_id":76297778,"question_id":76292921,"body_markdown":"This warning is caused by using the `packages` attribute of the `Configuration` element in the log4j2.xml file, because it has been [deprecated][1]. Removing that attribute should prevent the message from appearing.\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/configuration.html#ConfigurationSyntax","title":"WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release","body":"<p>This warning is caused by using the <code>packages</code> attribute of the <code>Configuration</code> element in the log4j2.xml file, because it has been <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#ConfigurationSyntax\" rel=\"noreferrer\">deprecated</a>. Removing that attribute should prevent the message from appearing.</p>\n"},{"tags":[],"owner":{"account_id":2397118,"reputation":654,"user_id":2095714,"accept_rate":75,"display_name":"jmera"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697576249,"creation_date":1697576249,"answer_id":77312217,"question_id":76292921,"body_markdown":"In addition to removing `packages` from your configuration, to fix this issue you have to add `log4j-core` as an annotation processor. If you&#39;re using Gradle:\r\n\r\n    dependencies {\r\n        annotationProcessor(&quot;org.apache.logging.log4j:log4j-core:2.20.0&quot;)\r\n    }\r\n\r\n\r\nAs [@aled][1] points out, instructions for Maven are in the docs https://logging.apache.org/log4j/2.x/manual/plugins.html.\r\n\r\n  [1]: https://stackoverflow.com/users/721855/aled","title":"WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release","body":"<p>In addition to removing <code>packages</code> from your configuration, to fix this issue you have to add <code>log4j-core</code> as an annotation processor. If you're using Gradle:</p>\n<pre><code>dependencies {\n    annotationProcessor(&quot;org.apache.logging.log4j:log4j-core:2.20.0&quot;)\n}\n</code></pre>\n<p>As <a href=\"https://stackoverflow.com/users/721855/aled\">@aled</a> points out, instructions for Maven are in the docs <a href=\"https://logging.apache.org/log4j/2.x/manual/plugins.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/plugins.html</a>.</p>\n"}],"owner":{"account_id":13973338,"reputation":65,"user_id":10091319,"display_name":"jvatechs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7507,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":76297778,"answer_count":2,"score":6,"last_activity_date":1697576249,"creation_date":1684538189,"question_id":76292921,"body_markdown":"I use `log4j2.xml` to write my logs into a local file in my Maven project. I&#39;ve installed the last dependencies for present day `&lt;version&gt;2.20.0&lt;/version&gt;)` in pom.xml.\r\nMy `log4j2.xml` is:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;warn&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;logs/app.log&quot; filePattern=&quot;logs/app-%d{MM-dd-yyyy}.log.gz&quot;&gt;\r\n            &lt;TimeFilter start=&quot;01:00:00&quot; end=&quot;07:00:00&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\r\n\r\n            &lt;PatternLayout&gt;\r\n                &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;TimeBasedTriggeringPolicy /&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;error&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nMy dependencies in pom.xml:\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.20.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.20.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n      &lt;version&gt;2.20.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n\r\nWhen I start my main method logs successfully be written in a file, but I get the message in IntelliJ IDEA console:\r\n\r\n&gt; WARN StatusConsoleListener The use of package scanning to locate\r\n&gt; plugins is deprecated and will be removed in a future release\r\n\r\nHow can I resolve the problem?  just want to stop appearing the message in console.","title":"WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release","body":"<p>I use <code>log4j2.xml</code> to write my logs into a local file in my Maven project. I've installed the last dependencies for present day <code>&lt;version&gt;2.20.0&lt;/version&gt;)</code> in pom.xml.\nMy <code>log4j2.xml</code> is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;warn&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;logs/app.log&quot; filePattern=&quot;logs/app-%d{MM-dd-yyyy}.log.gz&quot;&gt;\n            &lt;TimeFilter start=&quot;01:00:00&quot; end=&quot;07:00:00&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\n\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;TimeBasedTriggeringPolicy /&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;error&quot;&gt;\n            &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>My dependencies in pom.xml:</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n      &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n      &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When I start my main method logs successfully be written in a file, but I get the message in IntelliJ IDEA console:</p>\n<blockquote>\n<p>WARN StatusConsoleListener The use of package scanning to locate\nplugins is deprecated and will be removed in a future release</p>\n</blockquote>\n<p>How can I resolve the problem?  just want to stop appearing the message in console.</p>\n"},{"tags":["java","android","persistence","dao","android-room"],"comments":[{"owner":{"account_id":11715453,"reputation":116,"user_id":8576103,"display_name":"InziKhan"},"score":1,"creation_date":1514501467,"post_id":48015280,"comment_id":82999849,"body_markdown":"where is your data class?","body":"where is your data class?"},{"owner":{"account_id":4166230,"reputation":1142,"user_id":3415152,"accept_rate":75,"display_name":"Reza Bigdeli"},"score":0,"creation_date":1520533873,"post_id":48015280,"comment_id":85365671,"body_markdown":"did you find the solution?","body":"did you find the solution?"},{"owner":{"account_id":1905828,"reputation":1303,"user_id":1720732,"accept_rate":68,"display_name":"xrnd"},"score":0,"creation_date":1520576247,"post_id":48015280,"comment_id":85380607,"body_markdown":"Yes, the accepted answer worked for me.","body":"Yes, the accepted answer worked for me."}],"answers":[{"comments":[{"owner":{"account_id":308030,"reputation":12046,"user_id":619673,"accept_rate":80,"display_name":"deadfish"},"score":1,"creation_date":1589709171,"post_id":48017838,"comment_id":109395380,"body_markdown":"Hello, according to my experience. When you get such error, try to comment all methods and sequentially uncomment each of them and rebuild every time.","body":"Hello, according to my experience. When you get such error, try to comment all methods and sequentially uncomment each of them and rebuild every time."}],"tags":[],"owner":{"account_id":1905828,"reputation":1303,"user_id":1720732,"accept_rate":68,"display_name":"xrnd"},"comment_count":1,"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1514525403,"creation_date":1514525403,"answer_id":48017838,"question_id":48015280,"body_markdown":"I had initially followed the method used in Kotlin, but that gives the error in Java code. \r\nTwo quick changes fixed it for me\r\n\r\n - Change BaseDao to Abstract class \r\n - Added @Dao annotation to the BaseDao\r\n\r\nPlease find the code below and now it runs properly \r\n    \r\n    @Dao\r\n    abstract class BaseDao&lt;T&gt; {\r\n\r\n       @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n       abstract void insert(T entity);\r\n\r\n       @Update\r\n       abstract void update(T entity);\r\n\r\n       @Delete\r\n       abstract void delete(T entity);\r\n     }\r\n\r\n     @Dao\r\n     public abstract class ReasonDao extends BaseDao&lt;Reason&gt;{\r\n\r\n        @Query(&quot;SELECT * from Reason&quot;)\r\n        abstract public List&lt;Reason&gt; getReasons();\r\n\r\n      }","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>I had initially followed the method used in Kotlin, but that gives the error in Java code. \nTwo quick changes fixed it for me</p>\n\n<ul>\n<li>Change BaseDao to Abstract class </li>\n<li>Added @Dao annotation to the BaseDao</li>\n</ul>\n\n<p>Please find the code below and now it runs properly </p>\n\n<pre><code>@Dao\nabstract class BaseDao&lt;T&gt; {\n\n   @Insert(onConflict = OnConflictStrategy.REPLACE)\n   abstract void insert(T entity);\n\n   @Update\n   abstract void update(T entity);\n\n   @Delete\n   abstract void delete(T entity);\n }\n\n @Dao\n public abstract class ReasonDao extends BaseDao&lt;Reason&gt;{\n\n    @Query(\"SELECT * from Reason\")\n    abstract public List&lt;Reason&gt; getReasons();\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524507117,"creation_date":1524507117,"answer_id":49987457,"question_id":48015280,"body_markdown":"In my case I tried to save to DB non-Entity objects. Then replaced with Entity class (contains `@Entity(tableName = &quot;your_table&quot;, indices = [Index(&quot;your_key&quot;)])`).","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>In my case I tried to save to DB non-Entity objects. Then replaced with Entity class (contains <code>@Entity(tableName = \"your_table\", indices = [Index(\"your_key\")])</code>).</p>\n"},{"tags":[],"owner":{"account_id":1748128,"reputation":3542,"user_id":1597841,"accept_rate":64,"display_name":"nAkhmedov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525427943,"creation_date":1525427943,"answer_id":50172264,"question_id":48015280,"body_markdown":"I believe is that you have missed to give `Entity` annotation to T class. For example `Reason` class should have `@Entity` and give it to ReasonDao class. Like:\r\n\r\n`@Dao\r\n public abstract class ReasonDao extends BaseDao&lt;Reason&gt;{}`","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>I believe is that you have missed to give <code>Entity</code> annotation to T class. For example <code>Reason</code> class should have <code>@Entity</code> and give it to ReasonDao class. Like:</p>\n\n<p><code>@Dao\n public abstract class ReasonDao extends BaseDao&lt;Reason&gt;{}</code></p>\n"},{"tags":[],"owner":{"account_id":2243656,"reputation":1574,"user_id":1977565,"accept_rate":83,"display_name":"UneXp"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1545250562,"creation_date":1545250562,"answer_id":53858562,"question_id":48015280,"body_markdown":"The reason is that you specified ***ReasonDao*** type as generic parameter instead of ***Reason***.\r\n\r\nOriginal code:\r\n\r\n    @Dao\r\n    public abstract class ReasonDao implements BaseDao&lt;ReasonDao&gt; {\r\n    \r\n       ...\r\n    \r\n    }\r\n\r\nCorrect code:\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    @Dao\r\n    public abstract class ReasonDao implements BaseDao&lt;Reason&gt; {\r\n    \r\n       ...\r\n    \r\n    }\r\n\r\nwhere ***Reason*** is the type marked with ***@Entity*** annotation.\r\n\r\nBy the way, this is fixed in the accepted answer, but is not mentioned in the changelist :) ","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>The reason is that you specified <strong><em>ReasonDao</em></strong> type as generic parameter instead of <strong><em>Reason</em></strong>.</p>\n\n<p>Original code:</p>\n\n<pre><code>@Dao\npublic abstract class ReasonDao implements BaseDao&lt;ReasonDao&gt; {\n\n   ...\n\n}\n</code></pre>\n\n<p>Correct code:\n</p>\n\n<pre><code>@Dao\npublic abstract class ReasonDao implements BaseDao&lt;Reason&gt; {\n\n   ...\n\n}\n</code></pre>\n\n<p>where <strong><em>Reason</em></strong> is the type marked with <strong><em>@Entity</em></strong> annotation.</p>\n\n<p>By the way, this is fixed in the accepted answer, but is not mentioned in the changelist :) </p>\n"},{"tags":[],"owner":{"account_id":967432,"reputation":342,"user_id":990605,"display_name":"androminor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621830687,"creation_date":1621830687,"answer_id":67666698,"question_id":48015280,"body_markdown":"&gt; What is missing here is the Data class. Generally,\r\n&gt; @Entity represents objects you want to store,\r\n&gt; *  Room entity includes fields for each column inside the\r\n&gt; *  table in the database\r\n\r\n    @Entity(tableName=&quot;something&quot;) data class YourData()\r\n                ","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<blockquote>\n<p>What is missing here is the Data class. Generally,\n@Entity represents objects you want to store,</p>\n<ul>\n<li>Room entity includes fields for each column inside the</li>\n<li>table in the database</li>\n</ul>\n</blockquote>\n<pre><code>@Entity(tableName=&quot;something&quot;) data class YourData()\n            \n</code></pre>\n"},{"tags":[],"owner":{"account_id":18471491,"reputation":1,"user_id":14493151,"display_name":"Gills"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632817357,"creation_date":1632817036,"answer_id":69358115,"question_id":48015280,"body_markdown":"For those who has a &quot;Type of the parameter must be a class annotated with @Entity or a collection/array of it &quot; error when using Kotlin in the dao , you should try using  @JvmSuppressWildcards annotation on your functions. eg.\r\n\r\n     @Query(&quot;SELECT * FROM materials&quot;)\r\n     @JvmSuppressWildcards\r\n     fun getAllMaterials(): LiveData&lt;List&lt;MaterialModel&gt;&gt;\r\n\r\n\r\n","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>For those who has a &quot;Type of the parameter must be a class annotated with @Entity or a collection/array of it &quot; error when using Kotlin in the dao , you should try using  @JvmSuppressWildcards annotation on your functions. eg.</p>\n<pre><code> @Query(&quot;SELECT * FROM materials&quot;)\n @JvmSuppressWildcards\n fun getAllMaterials(): LiveData&lt;List&lt;MaterialModel&gt;&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3650368,"reputation":882,"user_id":3042701,"accept_rate":85,"display_name":"EmilyJ"},"score":0,"creation_date":1654962375,"post_id":69589298,"comment_id":128219530,"body_markdown":"This one solved mine!","body":"This one solved mine!"},{"owner":{"account_id":5947704,"reputation":107,"user_id":4676747,"display_name":"Hessam Rastegari"},"score":1,"creation_date":1658891081,"post_id":69589298,"comment_id":129162066,"body_markdown":"that is the solution for me, but why? I added kapt in plugins !","body":"that is the solution for me, but why? I added kapt in plugins !"},{"owner":{"account_id":1908221,"reputation":71,"user_id":1722652,"display_name":"pjaaar"},"score":1,"creation_date":1665144899,"post_id":69589298,"comment_id":130636931,"body_markdown":"Changing this setting just led me to other errors. I just had to change the room version in the  build.gradle (project) file as explained here: https://stackoverflow.com/a/73304737/1722652","body":"Changing this setting just led me to other errors. I just had to change the room version in the  build.gradle (project) file as explained here: <a href=\"https://stackoverflow.com/a/73304737/1722652\">stackoverflow.com/a/73304737/1722652</a>"},{"owner":{"account_id":12153023,"reputation":624,"user_id":8872691,"display_name":"m&#39;hd semps"},"score":0,"creation_date":1676800936,"post_id":69589298,"comment_id":133207092,"body_markdown":"instead of doing this add the &quot;ktx&quot; compiler `implementation &quot;androidx.room:room-ktx:$android_room&quot;` instead and leave kapt alone","body":"instead of doing this add the &quot;ktx&quot; compiler <code>implementation &quot;androidx.room:room-ktx:$android_room&quot;</code> instead and leave kapt alone"},{"owner":{"account_id":6520626,"reputation":57,"user_id":5044990,"accept_rate":100,"display_name":"Yash Bhardwaj"},"score":0,"creation_date":1695723575,"post_id":69589298,"comment_id":136059565,"body_markdown":"This solve my problem and save my day. Thanks","body":"This solve my problem and save my day. Thanks"}],"tags":[],"owner":{"account_id":23045148,"reputation":651,"user_id":17162789,"display_name":"Oleg Serchenko"},"comment_count":5,"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1646315761,"creation_date":1634323610,"answer_id":69589298,"question_id":48015280,"body_markdown":"Changed in gradle from this:\r\n```\r\nkapt &quot;androidx.room:room-compiler:$roomVersion&quot;\r\n```\r\n\r\n\r\nto this: \r\n```\r\nannotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\r\n```\r\n","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>Changed in gradle from this:</p>\n<pre><code>kapt &quot;androidx.room:room-compiler:$roomVersion&quot;\n</code></pre>\n<p>to this:</p>\n<pre><code>annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11161444,"reputation":336,"user_id":8191430,"display_name":"Ahmed Abdeen"},"score":1,"creation_date":1638984969,"post_id":69780309,"comment_id":124234701,"body_markdown":"That works for me also.","body":"That works for me also."}],"tags":[],"owner":{"account_id":17321389,"reputation":101,"user_id":12546784,"display_name":"3ameration"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1635602302,"creation_date":1635602302,"answer_id":69780309,"question_id":48015280,"body_markdown":"The problem was that in my build.gradle, the version of Kotlin I was using was 1.5.0\r\n\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:1.5.0&quot;\r\n\r\nBut as far as I understood, this version of Kotlin along with Room and coroutines doesn’t work well.\r\nWas able to resolve the issue by downgrading the Kotlin version to:\r\n\r\n    \r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:1.4.32&quot;\r\n\r\nSolved! Thank me later\r\n\r\n","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>The problem was that in my build.gradle, the version of Kotlin I was using was 1.5.0</p>\n<pre><code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:1.5.0&quot;\n</code></pre>\n<p>But as far as I understood, this version of Kotlin along with Room and coroutines doesn’t work well.\nWas able to resolve the issue by downgrading the Kotlin version to:</p>\n<pre><code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:1.4.32&quot;\n</code></pre>\n<p>Solved! Thank me later</p>\n"},{"tags":[],"owner":{"account_id":19421276,"reputation":59,"user_id":14203755,"display_name":"juan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1640109717,"creation_date":1640109717,"answer_id":70439777,"question_id":48015280,"body_markdown":"Changed in gradle this: kapt &quot;androidx.room:room-compiler:$roomVersion&quot; to this: annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\r\n\r\nDoing this solution served me partially but when trying to insert a date in the database it did not work for me so try kapt &quot;androidx.room:room-compiler:$roomVersion&quot; and rather change room_version to the latest stable version https://developer.android.com/jetpack/androidx/releases/room#groovy \r\nependencies {\r\n\r\n    //**\r\n    def room_version = &#39;2.4.0&#39;\r\n    def activityVersion = &#39;1.4.0&#39;\r\n    def lifecycle_version = &quot;2.2.0&quot;\r\n    // Room and Lifecycle dependencies\r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    kapt &quot;androidx.room:room-compiler:$room_version&quot;\r\n    //kotlin extensions for coroutine support with room\r\n    implementation(&quot;androidx.room:room-ktx:$room_version&quot;)\r\n\r\n    //kotlin extension for coroutine support with activities\r\n    implementation &quot;androidx.activity:activity-ktx:$activityVersion&quot;\r\n    //**\r\n\r\nThis is how it worked for me correctly\r\n\r\n","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>Changed in gradle this: kapt &quot;androidx.room:room-compiler:$roomVersion&quot; to this: annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;</p>\n<p>Doing this solution served me partially but when trying to insert a date in the database it did not work for me so try kapt &quot;androidx.room:room-compiler:$roomVersion&quot; and rather change room_version to the latest stable version <a href=\"https://developer.android.com/jetpack/androidx/releases/room#groovy\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/room#groovy</a>\nependencies {</p>\n<pre><code>//**\ndef room_version = '2.4.0'\ndef activityVersion = '1.4.0'\ndef lifecycle_version = &quot;2.2.0&quot;\n// Room and Lifecycle dependencies\nimplementation &quot;androidx.room:room-runtime:$room_version&quot;\nkapt &quot;androidx.room:room-compiler:$room_version&quot;\n//kotlin extensions for coroutine support with room\nimplementation(&quot;androidx.room:room-ktx:$room_version&quot;)\n\n//kotlin extension for coroutine support with activities\nimplementation &quot;androidx.activity:activity-ktx:$activityVersion&quot;\n//**\n</code></pre>\n<p>This is how it worked for me correctly</p>\n"},{"tags":[],"owner":{"account_id":16914309,"reputation":146,"user_id":12232679,"display_name":"Victor Loveday"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653303241,"creation_date":1653303241,"answer_id":72347354,"question_id":48015280,"body_markdown":"This is a version error. Try updating your room dependencies. \r\n\r\nI changed mine from:`implementation &quot;androidx.room:room-runtime:2.2.5&quot;`\r\n\r\nTo :`implementation &quot;androidx.room:room-runtime:2.4.2&quot;`\r\n\r\n","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>This is a version error. Try updating your room dependencies.</p>\n<p>I changed mine from:<code>implementation &quot;androidx.room:room-runtime:2.2.5&quot;</code></p>\n<p>To :<code>implementation &quot;androidx.room:room-runtime:2.4.2&quot;</code></p>\n"},{"comments":[{"owner":{"account_id":3100149,"reputation":261,"user_id":2624491,"accept_rate":29,"display_name":"buzzcarla"},"score":1,"creation_date":1661326006,"post_id":73304737,"comment_id":129742018,"body_markdown":"Solved the error for me","body":"Solved the error for me"}],"tags":[],"owner":{"account_id":1149996,"reputation":366,"user_id":1131910,"display_name":"Shirish Kamath"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1660127638,"creation_date":1660127638,"answer_id":73304737,"question_id":48015280,"body_markdown":"If you faced this issue in Kotlin 1.7.10+ and Room &lt; 2.4.2, upgrading Room to 2.4.3 fixes the issue.\r\n\r\nFrom Room&#39;s changelog for 2.4.3:\r\nFixed an issue that would cause Room to not recognize suspend functions in Kotlin 1.7 \r\n\r\nThis issue was due to using `suspend` functions for insert/delete in interfaces:\r\nhttps://issuetracker.google.com/issues/236612358","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>If you faced this issue in Kotlin 1.7.10+ and Room &lt; 2.4.2, upgrading Room to 2.4.3 fixes the issue.</p>\n<p>From Room's changelog for 2.4.3:\nFixed an issue that would cause Room to not recognize suspend functions in Kotlin 1.7</p>\n<p>This issue was due to using <code>suspend</code> functions for insert/delete in interfaces:\n<a href=\"https://issuetracker.google.com/issues/236612358\" rel=\"noreferrer\">https://issuetracker.google.com/issues/236612358</a></p>\n"},{"tags":[],"owner":{"account_id":14607990,"reputation":109,"user_id":10550219,"display_name":"Swetabh Suman"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661410998,"creation_date":1661058746,"answer_id":73431808,"question_id":48015280,"body_markdown":"\r\n\r\nremove suspend,then it will work.\r\n\r\n\r\n    @Dao\r\n    interface FoodDao {\r\n    \r\n         @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n         fun upsert(meal: Meal): Long\r\n    \r\n    \r\n        @Query(&quot;SELECT * FROM food_tables&quot;)\r\n        fun getAllFood(): LiveData&lt;List&lt;Meal&gt;&gt;\r\n    \r\n    \r\n        @Delete\r\n        fun deleteFood(meal: Meal)\r\n    \r\n    }\r\n\r\n","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>remove suspend,then it will work.</p>\n<pre><code>@Dao\ninterface FoodDao {\n\n     @Insert(onConflict = OnConflictStrategy.REPLACE)\n     fun upsert(meal: Meal): Long\n\n\n    @Query(&quot;SELECT * FROM food_tables&quot;)\n    fun getAllFood(): LiveData&lt;List&lt;Meal&gt;&gt;\n\n\n    @Delete\n    fun deleteFood(meal: Meal)\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12446767,"reputation":956,"user_id":9062752,"display_name":"oyeraghib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662482672,"creation_date":1662482672,"answer_id":73625334,"question_id":48015280,"body_markdown":"In my case I was trying to store a data class object into the Room Database. The error says that the parameter for `Insert` should be a class which has an annotation of `@Entity` so I created a table (entity) which has same values as data class and stored them successfully","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>In my case I was trying to store a data class object into the Room Database. The error says that the parameter for <code>Insert</code> should be a class which has an annotation of <code>@Entity</code> so I created a table (entity) which has same values as data class and stored them successfully</p>\n"},{"tags":[],"owner":{"account_id":18955587,"reputation":135,"user_id":13832244,"display_name":"Sanket Bhangale"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662729843,"creation_date":1662729843,"answer_id":73662872,"question_id":48015280,"body_markdown":"One small mistake I did was \r\nI did not annotate my data class with the @Entity annotation\r\n\r\n\r\nTable declaration\r\n\r\n    @Entity // Check if you have used this annotation or not\r\n    data class fooTable(){\r\n    ...\r\n    }\r\n\r\nIn DAO\r\n\r\n    @Dao\r\n    interface myDao{\r\n      @Insert\r\n      suspend fun addFoo(fooObj: fooTable)\r\n      }\r\n    }\r\n\r\n\r\nIf you are trying to insert a row in a table in Room DB then the corresponding data class should be annotated with @Entity annotation\r\n","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>One small mistake I did was\nI did not annotate my data class with the @Entity annotation</p>\n<p>Table declaration</p>\n<pre><code>@Entity // Check if you have used this annotation or not\ndata class fooTable(){\n...\n}\n</code></pre>\n<p>In DAO</p>\n<pre><code>@Dao\ninterface myDao{\n  @Insert\n  suspend fun addFoo(fooObj: fooTable)\n  }\n}\n</code></pre>\n<p>If you are trying to insert a row in a table in Room DB then the corresponding data class should be annotated with @Entity annotation</p>\n"},{"tags":[],"owner":{"account_id":18804062,"reputation":1,"user_id":17707603,"display_name":"Bingba Tito"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670231262,"creation_date":1670231262,"answer_id":74685701,"question_id":48015280,"body_markdown":"Actually changing the version room matters too, like I changed my room version from 2.2.6 to 2.4.3 and it worked. if the Kotlin version is low it&#39;s better to use a lower version of the room as well if the Kotlin version is high it&#39;s better to use a higher version too.","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>Actually changing the version room matters too, like I changed my room version from 2.2.6 to 2.4.3 and it worked. if the Kotlin version is low it's better to use a lower version of the room as well if the Kotlin version is high it's better to use a higher version too.</p>\n"},{"tags":[],"owner":{"account_id":11878740,"reputation":121,"user_id":8693019,"display_name":"Neal Ratan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680892649,"creation_date":1680892649,"answer_id":75961142,"question_id":48015280,"body_markdown":"Do not replace `kapt` with `annotationProcessor`\r\n\r\nTry this instead\r\n    \r\n    def room_version = &quot;2.5.1&quot;\r\n\r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\r\n\r\n    // To use Kotlin annotation processing tool (kapt)\r\n    kapt &quot;androidx.room:room-compiler:$room_version&quot;\r\n\r\n    // To use Coroutine features with room\r\n    implementation &quot;androidx.room:room-ktx:$room_version&quot;","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>Do not replace <code>kapt</code> with <code>annotationProcessor</code></p>\n<p>Try this instead</p>\n<pre><code>def room_version = &quot;2.5.1&quot;\n\nimplementation &quot;androidx.room:room-runtime:$room_version&quot;\nannotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\n\n// To use Kotlin annotation processing tool (kapt)\nkapt &quot;androidx.room:room-compiler:$room_version&quot;\n\n// To use Coroutine features with room\nimplementation &quot;androidx.room:room-ktx:$room_version&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23806397,"reputation":19,"user_id":17815867,"display_name":"madan yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686709726,"creation_date":1686709726,"answer_id":76469770,"question_id":48015280,"body_markdown":"In My case dependence version issue. I have upgreade dependence now working fine.\r\nso make sure dependence is according to kotlin version.\r\n\r\n    **def room_version = &quot;2.5.1&quot;**\r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    implementation &quot;androidx.room:room-ktx:$room_version&quot;\r\n    kapt &quot;androidx.room:room-compiler:$room_version&quot;\r\n\r\n ","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>In My case dependence version issue. I have upgreade dependence now working fine.\nso make sure dependence is according to kotlin version.</p>\n<pre><code>**def room_version = &quot;2.5.1&quot;**\nimplementation &quot;androidx.room:room-runtime:$room_version&quot;\nimplementation &quot;androidx.room:room-ktx:$room_version&quot;\nkapt &quot;androidx.room:room-compiler:$room_version&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15006936,"reputation":2141,"user_id":10832700,"display_name":"ahmnouira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691231965,"creation_date":1691231965,"answer_id":76841240,"question_id":48015280,"body_markdown":"I had this issue when I accidentally used **vararg** inside the method: \r\n\r\n```kotlin\r\n@Insert\r\nfun insertAll(vararg postDbModels: Array&lt;PostDbModel&gt;)\r\n``` \r\n\r\nTo fix this issue I just removed vararg and using an Array of @Entity class model instead:\r\n\r\n```kotlin\r\n@Insert\r\nfun insertAll(postDbModels: Array&lt;PostDbModel&gt;)\r\n```","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>I had this issue when I accidentally used <strong>vararg</strong> inside the method:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Insert\nfun insertAll(vararg postDbModels: Array&lt;PostDbModel&gt;)\n</code></pre>\n<p>To fix this issue I just removed vararg and using an Array of @Entity class model instead:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Insert\nfun insertAll(postDbModels: Array&lt;PostDbModel&gt;)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"score":1,"creation_date":1697693527,"post_id":77312213,"comment_id":136312398,"body_markdown":"Please add a description text.","body":"Please add a description text."}],"tags":[],"owner":{"account_id":9732358,"reputation":1,"user_id":7216912,"display_name":"Mano Nano"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697576220,"creation_date":1697576220,"answer_id":77312213,"question_id":48015280,"body_markdown":"\r\n\r\n   \r\n\r\n    implementation (&quot;androidx.core:core-ktx:1.10.1&quot;)\r\n    implementation (&quot;androidx.appcompat:appcompat:1.6.1&quot;)\r\n\r\n    implementation (&quot;androidx.activity:activity-ktx:$activityVersion&quot;)\r\n\r\n    // Dependencies for working with Architecture components\r\n    // You&#39;ll probably have to update the version numbers in build.gradle (Project)\r\n\r\n    // Room components\r\n    implementation (&quot;androidx.room:room-ktx:$roomVersion&quot;)\r\n    kapt (&quot;androidx.room:room-compiler:$roomVersion&quot;)\r\n\r\n    androidTestImplementation (&quot;androidx.room:room-testing:$roomVersion&quot;)\r\n\r\n    // Lifecycle components\r\n    implementation (&quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycleVersion&quot;)\r\n    implementation (&quot;androidx.lifecycle:lifecycle-livedata-ktx:$lifecycleVersion&quot;)\r\n    implementation (&quot;androidx.lifecycle:lifecycle-common-java8:$lifecycleVersion&quot;)\r\n\r\n    // Kotlin components\r\n    implementation (&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlinVersion&quot;)\r\n    api (&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:$coroutines&quot;)\r\n    api (&quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:$coroutines&quot;)`\r\n\r\n\r\n    \r\n\r\n","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<pre><code>implementation (&quot;androidx.core:core-ktx:1.10.1&quot;)\nimplementation (&quot;androidx.appcompat:appcompat:1.6.1&quot;)\n\nimplementation (&quot;androidx.activity:activity-ktx:$activityVersion&quot;)\n\n// Dependencies for working with Architecture components\n// You'll probably have to update the version numbers in build.gradle (Project)\n\n// Room components\nimplementation (&quot;androidx.room:room-ktx:$roomVersion&quot;)\nkapt (&quot;androidx.room:room-compiler:$roomVersion&quot;)\n\nandroidTestImplementation (&quot;androidx.room:room-testing:$roomVersion&quot;)\n\n// Lifecycle components\nimplementation (&quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycleVersion&quot;)\nimplementation (&quot;androidx.lifecycle:lifecycle-livedata-ktx:$lifecycleVersion&quot;)\nimplementation (&quot;androidx.lifecycle:lifecycle-common-java8:$lifecycleVersion&quot;)\n\n// Kotlin components\nimplementation (&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlinVersion&quot;)\napi (&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:$coroutines&quot;)\napi (&quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:$coroutines&quot;)`\n</code></pre>\n"}],"owner":{"account_id":1905828,"reputation":1303,"user_id":1720732,"accept_rate":68,"display_name":"xrnd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35131,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":48017838,"answer_count":19,"score":40,"last_activity_date":1697576220,"creation_date":1514500964,"question_id":48015280,"body_markdown":"I am using Room architecture component for persistence. I have created generic DAO interface to avoid boilerplate code. \r\n[Room Pro Tips][1]\r\n\r\n\r\nBut my code doesn&#39;t compile saying &quot;Error:(21, 19) error: Type of the parameter must be a class annotated with @Entity or a collection/array of it.&quot; for the Generic class T.\r\n\r\n    interface BaseDao&lt;T&gt; {\r\n    \r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n    void insert(T... entity);\r\n\r\n    @Update\r\n    void update(T entity);\r\n\r\n    @Delete\r\n    void delete(T entity);\r\n    }\r\n    \r\n    @Dao\r\n    public abstract class ReasonDao implements BaseDao&lt;ReasonDao&gt; {\r\n\r\n       @Query(&quot;SELECT * from Reason&quot;)\r\n       abstract public List&lt;Reason&gt; getReasons();\r\n\r\n    }\r\n\r\nIs there anything I am missing here. \r\nIt works like this [here][2]\r\n \r\n\r\n\r\n  [1]: https://medium.com/google-developers/7-pro-tips-for-room-fbadea4bfbd1\r\n  [2]: https://gist.github.com/florina-muntenescu/1c78858f286d196d545c038a71a3e864","title":"&quot;Type of the parameter must be a class annotated with @Entity&quot; while creating Generic DAO interface in Room","body":"<p>I am using Room architecture component for persistence. I have created generic DAO interface to avoid boilerplate code. \n<a href=\"https://medium.com/google-developers/7-pro-tips-for-room-fbadea4bfbd1\" rel=\"noreferrer\">Room Pro Tips</a></p>\n\n<p>But my code doesn't compile saying \"Error:(21, 19) error: Type of the parameter must be a class annotated with @Entity or a collection/array of it.\" for the Generic class T.</p>\n\n<pre><code>interface BaseDao&lt;T&gt; {\n\n@Insert(onConflict = OnConflictStrategy.REPLACE)\nvoid insert(T... entity);\n\n@Update\nvoid update(T entity);\n\n@Delete\nvoid delete(T entity);\n}\n\n@Dao\npublic abstract class ReasonDao implements BaseDao&lt;ReasonDao&gt; {\n\n   @Query(\"SELECT * from Reason\")\n   abstract public List&lt;Reason&gt; getReasons();\n\n}\n</code></pre>\n\n<p>Is there anything I am missing here. \nIt works like this <a href=\"https://gist.github.com/florina-muntenescu/1c78858f286d196d545c038a71a3e864\" rel=\"noreferrer\">here</a></p>\n"},{"tags":["java","eclipse","google-app-engine","localhost"],"answers":[{"comments":[{"owner":{"account_id":1497893,"reputation":73,"user_id":1403417,"display_name":"nfonrose"},"score":0,"creation_date":1697195411,"post_id":77284017,"comment_id":136252516,"body_markdown":"Same problem for us when starting the &quot;Local dev server&quot; (exact same exception as OP) with SDK v450 and no issue at all with v449. Thanks for your answer!","body":"Same problem for us when starting the &quot;Local dev server&quot; (exact same exception as OP) with SDK v450 and no issue at all with v449. Thanks for your answer!"},{"owner":{"account_id":24718870,"reputation":33,"user_id":18608248,"display_name":"helloi"},"score":0,"creation_date":1697436198,"post_id":77284017,"comment_id":136274692,"body_markdown":"Thanks for the answer. That&#39;s exactly what I was looking for. Accepted the answer too!!","body":"Thanks for the answer. That&#39;s exactly what I was looking for. Accepted the answer too!!"}],"tags":[],"owner":{"account_id":29659696,"reputation":76,"user_id":22731579,"display_name":"Spencer Alexander"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1697147529,"creation_date":1697147529,"answer_id":77284017,"question_id":77280512,"body_markdown":"This appears to be a bug or regression in cloud sdk 450.0.0 released 2023-10-10\r\nhttps://cloud.google.com/sdk/docs/release-notes\r\n\r\nSpecifically:\r\n\r\n&gt; App Engine Updated the Java SDK to version 2.0.20 build from the open\r\n&gt; source project\r\n\r\nWe were able to get local dev server working by pinning the cloudSdk version in our build.gradle file:\r\n\r\n```\r\nappengine {\r\n    // Configure the Cloud SDK version\r\n    tools {\r\n        cloudSdkVersion = &#39;449.0.0&#39;\r\n    }\r\n...etc","title":"Google app engine local server won&#39;t run on eclipse","body":"<p>This appears to be a bug or regression in cloud sdk 450.0.0 released 2023-10-10\n<a href=\"https://cloud.google.com/sdk/docs/release-notes\" rel=\"noreferrer\">https://cloud.google.com/sdk/docs/release-notes</a></p>\n<p>Specifically:</p>\n<blockquote>\n<p>App Engine Updated the Java SDK to version 2.0.20 build from the open\nsource project</p>\n</blockquote>\n<p>We were able to get local dev server working by pinning the cloudSdk version in our build.gradle file:</p>\n<pre><code>appengine {\n    // Configure the Cloud SDK version\n    tools {\n        cloudSdkVersion = '449.0.0'\n    }\n...etc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1378385,"reputation":11,"user_id":1311889,"display_name":"Rodrigo Romano Teixo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697514517,"creation_date":1697511561,"answer_id":77305952,"question_id":77280512,"body_markdown":"Just got this problem today, it was working yesterday until I made a new deployment where google cloud update itself to version 450.\r\n\r\nI move back to 449 in my pom:\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${appengine.maven.plugin.version}&lt;/version&gt;\r\n    \r\n    \t\t\t&lt;configuration&gt;\r\n                    ..\r\n    \t\t\t\t..\r\n    \t\t\t\t..\r\n    \r\n                    &lt;!-- ADD THIS LINE --&gt;\r\n    \t\t\t\t&lt;cloudSdkVersion&gt;449.0.0&lt;/cloudSdkVersion&gt;\r\n        \r\n    \t\t\t&lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nPerform a update or make a deploy.\r\n\r\nThen, in Eclipse, go to Windows -&gt; Preferences -&gt; Google Cloud Tools and Change SDK to 449 path.\r\n\r\n","title":"Google app engine local server won&#39;t run on eclipse","body":"<p>Just got this problem today, it was working yesterday until I made a new deployment where google cloud update itself to version 450.</p>\n<p>I move back to 449 in my pom:</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n            &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${appengine.maven.plugin.version}&lt;/version&gt;\n\n            &lt;configuration&gt;\n                ..\n                ..\n                ..\n\n                &lt;!-- ADD THIS LINE --&gt;\n                &lt;cloudSdkVersion&gt;449.0.0&lt;/cloudSdkVersion&gt;\n    \n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Perform a update or make a deploy.</p>\n<p>Then, in Eclipse, go to Windows -&gt; Preferences -&gt; Google Cloud Tools and Change SDK to 449 path.</p>\n"},{"tags":[],"owner":{"account_id":3643892,"reputation":81,"user_id":3037408,"display_name":"aaron_stasis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697575653,"creation_date":1697575653,"answer_id":77312174,"question_id":77280512,"body_markdown":"For others who might have this problem IntelliJ with gcloud installed locally (via homebrew), I had to do this:\r\n\r\n * gcloud components update --version 449.0.0\r\n * gcloud components install app-engine-java\r\n * in intellij - Intellij Menu -&gt; Settings -&gt; Cloud Code -&gt; Dependencies , switch ‘use a custom local installation’ to ‘/usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/’, it should say ‘Cloud SDK Version 449.0.0’ if successful","title":"Google app engine local server won&#39;t run on eclipse","body":"<p>For others who might have this problem IntelliJ with gcloud installed locally (via homebrew), I had to do this:</p>\n<ul>\n<li>gcloud components update --version 449.0.0</li>\n<li>gcloud components install app-engine-java</li>\n<li>in intellij - Intellij Menu -&gt; Settings -&gt; Cloud Code -&gt; Dependencies , switch ‘use a custom local installation’ to ‘/usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/’, it should say ‘Cloud SDK Version 449.0.0’ if successful</li>\n</ul>\n"}],"owner":{"account_id":24718870,"reputation":33,"user_id":18608248,"display_name":"helloi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77284017,"answer_count":3,"score":3,"last_activity_date":1697575653,"creation_date":1697113072,"question_id":77280512,"body_markdown":"My app engine standard application was running till this morning and suddenly it won&#39;t run throwing the following error.\r\n```Oct 12, 2023 5:45:17 PM com.google.appengine.tools.development.SystemPropertiesManager setSystemProperties\r\nINFO: Overwriting system property key &#39;java.util.logging.config.file&#39;, value &#39;/Users/sharon/Library/Application Support/google-cloud-tools-java/managed-cloud-sdk/LATEST/google-cloud-sdk/platform/google_appengine/google/appengine/tools/java/config/sdk/logging.properties&#39; with value &#39;WEB-INF/logging.properties&#39; from &#39;/Users/sharon/eclipse-workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp2/Lily/WEB-INF/appengine-web.xml&#39;\r\n2023-10-12 17:45:17.863:INFO::main: Logging initialized @768ms to org.eclipse.jetty.util.log.StdErrLog\r\n2023-10-12 17:45:17.936:WARN:oejs.AbstractConnector:main: Ignoring deprecated socket close linger time\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/apphosting/runtime/SessionStore\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat com.google.appengine.tools.development.DevAppServerClassLoader.loadClass(DevAppServerClassLoader.java:117)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat com.google.apphosting.runtime.jetty9.SessionManagerHandler.create(SessionManagerHandler.java:75)\r\n\tat com.google.appengine.tools.development.jetty9.JettyContainerService.startContainer(JettyContainerService.java:360)\r\n\tat com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:293)\r\n\tat com.google.appengine.tools.development.AutomaticInstanceHolder.startUp(AutomaticInstanceHolder.java:42)\r\n\tat com.google.appengine.tools.development.AbstractModule.startup(AbstractModule.java:102)\r\n\tat com.google.appengine.tools.development.Modules.startup(Modules.java:118)\r\n\tat com.google.appengine.tools.development.DevAppServerImpl.doStart(DevAppServerImpl.java:280)\r\n\tat com.google.appengine.tools.development.DevAppServerImpl.access$000(DevAppServerImpl.java:57)\r\n\tat com.google.appengine.tools.development.DevAppServerImpl$1.run(DevAppServerImpl.java:229)\r\n\tat com.google.appengine.tools.development.DevAppServerImpl$1.run(DevAppServerImpl.java:227)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:227)\r\n\tat com.google.appengine.tools.development.DevAppServerMain$StartAction.apply(DevAppServerMain.java:381)\r\n\tat com.google.appengine.tools.util.Parser$ParseResult.applyArgs(Parser.java:58)\r\n\tat com.google.appengine.tools.development.DevAppServerMain.run(DevAppServerMain.java:239)\r\n\tat com.google.appengine.tools.development.DevAppServerMain.main(DevAppServerMain.java:230)\r\nCaused by: java.lang.ClassNotFoundException: com.google.apphosting.runtime.SessionStore\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat com.google.appengine.tools.development.DevAppServerClassLoader.loadClass(DevAppServerClassLoader.java:117)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 28 more\r\n```\r\n\r\nI don&#39;t understand what the error means. What could be the reason? I noticed that it is happening after I upgraded the gcloud sdk version to 45.0.0 but I created another app engine standard application and it works fine. ","title":"Google app engine local server won&#39;t run on eclipse","body":"<p>My app engine standard application was running till this morning and suddenly it won't run throwing the following error.</p>\n<pre><code>INFO: Overwriting system property key 'java.util.logging.config.file', value '/Users/sharon/Library/Application Support/google-cloud-tools-java/managed-cloud-sdk/LATEST/google-cloud-sdk/platform/google_appengine/google/appengine/tools/java/config/sdk/logging.properties' with value 'WEB-INF/logging.properties' from '/Users/sharon/eclipse-workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp2/Lily/WEB-INF/appengine-web.xml'\n2023-10-12 17:45:17.863:INFO::main: Logging initialized @768ms to org.eclipse.jetty.util.log.StdErrLog\n2023-10-12 17:45:17.936:WARN:oejs.AbstractConnector:main: Ignoring deprecated socket close linger time\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/apphosting/runtime/SessionStore\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at com.google.appengine.tools.development.DevAppServerClassLoader.loadClass(DevAppServerClassLoader.java:117)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at com.google.apphosting.runtime.jetty9.SessionManagerHandler.create(SessionManagerHandler.java:75)\n    at com.google.appengine.tools.development.jetty9.JettyContainerService.startContainer(JettyContainerService.java:360)\n    at com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:293)\n    at com.google.appengine.tools.development.AutomaticInstanceHolder.startUp(AutomaticInstanceHolder.java:42)\n    at com.google.appengine.tools.development.AbstractModule.startup(AbstractModule.java:102)\n    at com.google.appengine.tools.development.Modules.startup(Modules.java:118)\n    at com.google.appengine.tools.development.DevAppServerImpl.doStart(DevAppServerImpl.java:280)\n    at com.google.appengine.tools.development.DevAppServerImpl.access$000(DevAppServerImpl.java:57)\n    at com.google.appengine.tools.development.DevAppServerImpl$1.run(DevAppServerImpl.java:229)\n    at com.google.appengine.tools.development.DevAppServerImpl$1.run(DevAppServerImpl.java:227)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:227)\n    at com.google.appengine.tools.development.DevAppServerMain$StartAction.apply(DevAppServerMain.java:381)\n    at com.google.appengine.tools.util.Parser$ParseResult.applyArgs(Parser.java:58)\n    at com.google.appengine.tools.development.DevAppServerMain.run(DevAppServerMain.java:239)\n    at com.google.appengine.tools.development.DevAppServerMain.main(DevAppServerMain.java:230)\nCaused by: java.lang.ClassNotFoundException: com.google.apphosting.runtime.SessionStore\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at com.google.appengine.tools.development.DevAppServerClassLoader.loadClass(DevAppServerClassLoader.java:117)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 28 more\n</code></pre>\n<p>I don't understand what the error means. What could be the reason? I noticed that it is happening after I upgraded the gcloud sdk version to 45.0.0 but I created another app engine standard application and it works fine.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1697552796,"post_id":77309415,"comment_id":136292562,"body_markdown":"(1-) Still waiting for an [mre]. The MRE should be the code with default renderers to minimize the size of the code. No need for the repaint() since this will be done automatically. See: [Sorting and Filtering](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#sorting) for complete working examples.","body":"(1-) Still waiting for an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. The MRE should be the code with default renderers to minimize the size of the code. No need for the repaint() since this will be done automatically. See: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#sorting\" rel=\"nofollow noreferrer\">Sorting and Filtering</a> for complete working examples."},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1697552879,"post_id":77309415,"comment_id":136292579,"body_markdown":"this question has nothing to do with any other question, no MRE required here. Question is obvious, relevant methods placed into the question.","body":"this question has nothing to do with any other question, no MRE required here. Question is obvious, relevant methods placed into the question."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1697553670,"post_id":77309415,"comment_id":136292773,"body_markdown":"The point is you continue to ask questions without posting an MRE even though you have been asked previously to post an MRE with every question. Many times when creating the MRE the problem is found.  Until the problem is solved you don&#39;t know what is or isn&#39;t relevant to the statement problem. Most often the problem is with code not posted. Voting to close since you aren&#39;t willing to provide the necessary information needed to help solve the problem.","body":"The point is you continue to ask questions without posting an MRE even though you have been asked previously to post an MRE with every question. Many times when creating the MRE the problem is found.  Until the problem is solved you don&#39;t know what is or isn&#39;t relevant to the statement problem. Most often the problem is with code not posted. Voting to close since you aren&#39;t willing to provide the necessary information needed to help solve the problem."},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1697554083,"post_id":77309415,"comment_id":136292889,"body_markdown":"The project is way to big in order to be able to code something up that is reproducable. It is heavily integrated with 3rd party APIs and websocket data which produces the content for the table. I know how to work with a basic JTable. I can post all of the code but that is too much for here I believe. There are no performance issues besides when using the searchfield for filtering, that is why I am at least assuming somewhere there might be the issue (hence posting relevant methods).","body":"The project is way to big in order to be able to code something up that is reproducable. It is heavily integrated with 3rd party APIs and websocket data which produces the content for the table. I know how to work with a basic JTable. I can post all of the code but that is too much for here I believe. There are no performance issues besides when using the searchfield for filtering, that is why I am at least assuming somewhere there might be the issue (hence posting relevant methods)."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1697554696,"post_id":77309415,"comment_id":136293044,"body_markdown":"*The project is way to big in order to be able to code something up that is reproducable.* - which is why you create an MRE. *3rd party APIs and websocket data which produces the content for the table.* - which are completely irrelevant to the stated problem. Your problem is filtering. So the MRE just needs hard coded data. Did you read the tutorial??? It has an MRE with hard coded data. Does it cause a problem? Does your real table have more rows of data? Post an MRE that simulates the problem if you want help. We can&#39;t guess the problem since the tutorial shows how this normally works.","body":"<i>The project is way to big in order to be able to code something up that is reproducable.</i> - which is why you create an MRE. <i>3rd party APIs and websocket data which produces the content for the table.</i> - which are completely irrelevant to the stated problem. Your problem is filtering. So the MRE just needs hard coded data. Did you read the tutorial??? It has an MRE with hard coded data. Does it cause a problem? Does your real table have more rows of data? Post an MRE that simulates the problem if you want help. We can&#39;t guess the problem since the tutorial shows how this normally works."},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1697554754,"post_id":77309415,"comment_id":136293061,"body_markdown":"Ok I will do thank you","body":"Ok I will do thank you"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1697554788,"post_id":77309415,"comment_id":136293068,"body_markdown":"I specifically stated the MRE should be done with default renderers and the only update you make is to include the renderer code??? Again the point of the MRE is to remove possible problem code and use default classes. If the MRE works as expected then you start to add back in custom classes to see if they cause the issue.","body":"I specifically stated the MRE should be done with default renderers and the only update you make is to include the renderer code??? Again the point of the MRE is to remove possible problem code and use default classes. If the MRE works as expected then you start to add back in custom classes to see if they cause the issue."},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1697555082,"post_id":77309415,"comment_id":136293131,"body_markdown":"Originally the table holds arround 500 objects. I tested the application with only 50 data objects inside the table and the filtering is very smooth. So must be the amount of data that is driving the application to be unresponsive.","body":"Originally the table holds arround 500 objects. I tested the application with only 50 data objects inside the table and the filtering is very smooth. So must be the amount of data that is driving the application to be unresponsive."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1697559712,"post_id":77309415,"comment_id":136294027,"body_markdown":"I modified the filter example from the tutorial link I provided to contain 500 rows of data. The filtering is immediate for me.","body":"I modified the filter example from the tutorial link I provided to contain 500 rows of data. The filtering is immediate for me."},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1697572751,"post_id":77309415,"comment_id":136296091,"body_markdown":"the tutorials does not seem to include any usages of document listeners tho","body":"the tutorials does not seem to include any usages of document listeners tho"},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1697574388,"post_id":77309415,"comment_id":136296316,"body_markdown":"I gave an example that works with a documentlistener, the tutorial does not use any documentlistener. Thank you, you are not obligated to participate on this post.","body":"I gave an example that works with a documentlistener, the tutorial does not use any documentlistener. Thank you, you are not obligated to participate on this post."},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1697575163,"post_id":77309415,"comment_id":136296441,"body_markdown":"I did not see the small link refering the java example which then contained the documentlistener. I used that code and everything seems to work fine. Updated the post with the solution. Thank you. I still dont know the difference between my initial code tho, everything seemed very similar.","body":"I did not see the small link refering the java example which then contained the documentlistener. I used that code and everything seems to work fine. Updated the post with the solution. Thank you. I still dont know the difference between my initial code tho, everything seemed very similar."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1697585883,"post_id":77309415,"comment_id":136297585,"body_markdown":"*I gave an example that works with a documentlistener,* - no you didn&#39;t. You did NOT post any code that we can copy/paste/compile/test to see the described behaviour. *you are not obligated to participate* Its not about me participating. Its about you participating. Everybody who attempts to answer questions donates their time to help others. The least you can do is create a proper MRE with each question to verify that you indeed do have a problem and are not making a careless mistake. The MRE gives us all the information we need to attempt to solve the problem.","body":"<i>I gave an example that works with a documentlistener,</i> - no you didn&#39;t. You did NOT post any code that we can copy/paste/compile/test to see the described behaviour. <i>you are not obligated to participate</i> Its not about me participating. Its about you participating. Everybody who attempts to answer questions donates their time to help others. The least you can do is create a proper MRE with each question to verify that you indeed do have a problem and are not making a careless mistake. The MRE gives us all the information we need to attempt to solve the problem."}],"answers":[{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1697552909,"post_id":77309600,"comment_id":136292592,"body_markdown":"This code still uses the EDT. That is the point of using invokeLater(...). It places the code on the EDT.","body":"This code still uses the EDT. That is the point of using invokeLater(...). It places the code on the EDT."},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1697552949,"post_id":77309600,"comment_id":136292602,"body_markdown":"Thank you. I tried that solution but no difference noticed.","body":"Thank you. I tried that solution but no difference noticed."}],"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697550692,"creation_date":1697550692,"answer_id":77309600,"question_id":77309415,"body_markdown":"Try doing the work on a different thread to the main UI thread. \r\n\r\nEg:\r\n\r\n```java\r\nprivate void initListener() {\r\n    Runnable task = () -&gt; {\r\n\t\tString text = searchField.getText();\r\n\t\tif (text.trim().length() == 0) {\r\n\t\t\ttable.getRowSorter().setRowFilter(null);\r\n\t\t} else {\r\n\t\t\ttable.getRowSorter().setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + text));\r\n\t\t}\r\n\t\ttable.repaint();\r\n    };\r\n    this.searchField.getDocument().addDocumentListener(new DocumentListener() {\r\n        public void changedUpdate(DocumentEvent e) {\r\n\t\t\tSwingUtilities.invokeLater(task);\r\n        }\r\n\r\n        public void removeUpdate(DocumentEvent e) {\r\n\t\t\tSwingUtilities.invokeLater(task);\r\n        }\r\n\r\n        public void insertUpdate(DocumentEvent e) {\r\n\t\t\tSwingUtilities.invokeLater(task);\r\n        }\r\n    });\t\r\n}\r\n```\t","title":"Filtering JTable using JTextField and DocumentListener very unresponsive and laggy","body":"<p>Try doing the work on a different thread to the main UI thread.</p>\n<p>Eg:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void initListener() {\n    Runnable task = () -&gt; {\n        String text = searchField.getText();\n        if (text.trim().length() == 0) {\n            table.getRowSorter().setRowFilter(null);\n        } else {\n            table.getRowSorter().setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + text));\n        }\n        table.repaint();\n    };\n    this.searchField.getDocument().addDocumentListener(new DocumentListener() {\n        public void changedUpdate(DocumentEvent e) {\n            SwingUtilities.invokeLater(task);\n        }\n\n        public void removeUpdate(DocumentEvent e) {\n            SwingUtilities.invokeLater(task);\n        }\n\n        public void insertUpdate(DocumentEvent e) {\n            SwingUtilities.invokeLater(task);\n        }\n    }); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697574689,"creation_date":1697574689,"answer_id":77312098,"question_id":77309415,"body_markdown":"It’s a good idea to wait until the user pauses their typing before updating your row filter, instead of updating the filter right away for every document change.  You can do this using a [javax.swing.Timer](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/Timer.html):\r\n\r\n    this.searchField.getDocument().addDocumentListener(new DocumentListener() {\r\n        private final Timer updater = new Timer(250, e -&gt; {\r\n            String text = searchField.getText();\r\n            if (text.trim().length() == 0) {\r\n                table.getRowSorter().setRowFilter(null);\r\n            } else {\r\n                table.getRowSorter().setRowFilter(\r\n                    RowFilter.regexFilter(&quot;(?i)&quot; + Pattern.quote(text)));\r\n            }\r\n        });\r\n\r\n        public void changedUpdate(DocumentEvent e) {\r\n            updater.restart();\r\n        }\r\n\r\n        public void removeUpdate(DocumentEvent e) {\r\n            updater.restart();\r\n        }\r\n\r\n        public void insertUpdate(DocumentEvent e) {\r\n            updater.restart();\r\n        }\r\n    });\r\n","title":"Filtering JTable using JTextField and DocumentListener very unresponsive and laggy","body":"<p>It’s a good idea to wait until the user pauses their typing before updating your row filter, instead of updating the filter right away for every document change.  You can do this using a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/Timer.html\" rel=\"nofollow noreferrer\">javax.swing.Timer</a>:</p>\n<pre><code>this.searchField.getDocument().addDocumentListener(new DocumentListener() {\n    private final Timer updater = new Timer(250, e -&gt; {\n        String text = searchField.getText();\n        if (text.trim().length() == 0) {\n            table.getRowSorter().setRowFilter(null);\n        } else {\n            table.getRowSorter().setRowFilter(\n                RowFilter.regexFilter(&quot;(?i)&quot; + Pattern.quote(text)));\n        }\n    });\n\n    public void changedUpdate(DocumentEvent e) {\n        updater.restart();\n    }\n\n    public void removeUpdate(DocumentEvent e) {\n        updater.restart();\n    }\n\n    public void insertUpdate(DocumentEvent e) {\n        updater.restart();\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1697575197,"creation_date":1697549283,"question_id":77309415,"body_markdown":"I have an application that holds data inside a JTable Component. I am filtering the table based on text I enter inside a JTextField that has a DocumentListener attached. For some reason, the responsiveness of that filter is very slow. Whenever I type a new character inside the textfield, the application seems to freeze for a bit. Is there any way I can improove this or maybe I am doing it wrong after all? Initially I thought it is due to the fact that I have several custom Renderers attached which could have deceased performance, but after commenting them all out there is still no change noticeable so I can rule that out.\r\n\r\nThis is where I create and attach the listener.\r\n\r\n    private void initListener() {\r\n        this.searchField.getDocument().addDocumentListener(new DocumentListener() {\r\n            public void changedUpdate(DocumentEvent e) {\r\n                String text = searchField.getText();\r\n                if (text.trim().length() == 0) {\r\n                    table.getRowSorter().setRowFilter(null);\r\n                } else {\r\n                    table.getRowSorter().setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + text));\r\n                }\r\n                table.repaint();\r\n            }\r\n\r\n            public void removeUpdate(DocumentEvent e) {\r\n                String text = searchField.getText();\r\n                if (text.trim().length() == 0) {\r\n                    table.getRowSorter().setRowFilter(null);\r\n                } else {\r\n                    table.getRowSorter().setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + text));\r\n                }\r\n            }\r\n\r\n            public void insertUpdate(DocumentEvent e) {\r\n                String text = searchField.getText();\r\n                if (text.trim().length() == 0) {\r\n                    table.getRowSorter().setRowFilter(null);\r\n                } else {\r\n                    table.getRowSorter().setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + text));\r\n                }\r\n            }\r\n        });\r\n\r\n\r\nThis is my Table class configuration\r\n\r\n        private void initializeUI() {\r\n        this.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS);\r\n        this.getColumn(&quot;INTERVAL&quot;).setPreferredWidth(20);\r\n    }\r\n\r\n    private void setCustomRowSorter() {\r\n        this.rowSorter = new TableRowSorter&lt;&gt;(model);\r\n        this.setRowSorter(rowSorter);\r\n\r\n    }\r\n    private void setTableCellRenderers() {\r\n        this.setDefaultRenderer(Object.class, new DefaultTickerTableRenderer());\r\n        this.getColumnModel().getColumn(6).setCellRenderer(new RSICellRenderer());\r\n        this.getColumnModel().getColumn(7).setCellRenderer(new SMACellRenderer());\r\n        this.getColumnModel().getColumn(8).setCellRenderer(new SMACellRenderer());\r\n        this.getColumnModel().getColumn(9).setCellRenderer(new SMACellRenderer());\r\n    }\r\n\r\nIn case of relevance, here are the custom CellRenderers used by this table. Removing them does not seem to improve performance.\r\n\r\n    public class DefaultTickerTableRenderer extends DefaultTableCellRenderer {\r\n    private final JCheckBox ckb = new JCheckBox();\r\n\r\n    public DefaultTickerTableRenderer() {\r\n        setOpaque(true); //MUST do this for background to show up.\r\n    }\r\n\r\n    public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n        JComponent c = (JComponent) super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n        c.setBorder(new MatteBorder(0, 0, 1, 0, Color.BLACK));\r\n        if (!isSelected) {\r\n            if (row % 2 == 0) {\r\n                c.setBackground(AppColors.TICKER_TABLE_DEFAULT_BG);\r\n            } else {\r\n                c.setBackground(AppColors.TICKERTABLE_STRIPE_BG);\r\n            }\r\n        }\r\n        return c;\r\n    }\r\n    }\r\n\r\n    public class SMACellRenderer extends DefaultTableCellRenderer {\r\n    private Market market;\r\n\r\n    public SMACellRenderer() {\r\n        setOpaque(true);\r\n    }\r\n\r\n    @Override\r\n    public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n        setBorder(new MatteBorder(0, 0, 1, 0, Color.BLACK));\r\n        float closePrice = Float.parseFloat(table.getModel().getValueAt(row, 5).toString());\r\n        float smaValue = Float.parseFloat(value.toString());\r\n        if (smaValue &lt; closePrice) {\r\n            setBackground(AppColors.TICKERTABLE_GREEN);\r\n        } else if (smaValue &gt; closePrice) {\r\n            setBackground(AppColors.TICKERTABLE_RED);\r\n        } else {\r\n            setBackground(AppColors.TICKERTABLE_NEUTRAL);\r\n        }\r\n        if (isSelected) {\r\n            setBackground(table.getSelectionBackground());\r\n        }\r\n        setText(value.toString());\r\n        return this;\r\n    }\r\n    }\r\n\r\n    public class RSICellRenderer extends DefaultTableCellRenderer {\r\n    private Market market;\r\n\r\n    public RSICellRenderer() {\r\n        setOpaque(true);\r\n    }\r\n\r\n    @Override\r\n    public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n        setBorder(new MatteBorder(0, 0, 1, 0, Color.BLACK));\r\n        float rsiValue = Float.parseFloat(value.toString());\r\n        if (rsiValue &lt; TechnicalAnalytics.RSI_OVERSOLD_THRESHOLD) {\r\n            setBackground(AppColors.TICKERTABLE_GREEN);\r\n        } else if (rsiValue &gt; TechnicalAnalytics.RSI_OVERBOUGHT_THRESHOLD) {\r\n            setBackground(AppColors.TICKERTABLE_RED);\r\n        } else {\r\n            setBackground(AppColors.TICKERTABLE_NEUTRAL);\r\n        }\r\n        if (isSelected) {\r\n            setBackground(table.getSelectionBackground());\r\n        }\r\n        setText(value.toString());\r\n        return this;\r\n    }\r\n    }\r\n\r\nSolution\r\nGot it to work by using this approach.\r\n\r\n     private void initListener() {\r\n        Runnable task = () -&gt; {\r\n            String text = searchField.getText();\r\n            if (text.trim().length() == 0) {\r\n                table.getRowSorter().setRowFilter(null);\r\n            } else {\r\n                table.getRowSorter().setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + text));\r\n            }\r\n        };\r\n\r\n        searchField.getDocument().addDocumentListener(\r\n                new DocumentListener() {\r\n                    public void changedUpdate(DocumentEvent e) {\r\n                        newFilter();\r\n                    }\r\n\r\n                    public void insertUpdate(DocumentEvent e) {\r\n                        newFilter();\r\n                    }\r\n\r\n                    public void removeUpdate(DocumentEvent e) {\r\n                        newFilter();\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void newFilter() {\r\n        RowFilter&lt;TickerTableModel, Object&gt; rf = null;\r\n        try {\r\n            rf = RowFilter.regexFilter(searchField.getText(), 0);\r\n        } catch (java.util.regex.PatternSyntaxException e) {\r\n            return;\r\n        }\r\n        table.getRowSorter().setRowFilter(rf);\r\n    }","title":"Filtering JTable using JTextField and DocumentListener very unresponsive and laggy","body":"<p>I have an application that holds data inside a JTable Component. I am filtering the table based on text I enter inside a JTextField that has a DocumentListener attached. For some reason, the responsiveness of that filter is very slow. Whenever I type a new character inside the textfield, the application seems to freeze for a bit. Is there any way I can improove this or maybe I am doing it wrong after all? Initially I thought it is due to the fact that I have several custom Renderers attached which could have deceased performance, but after commenting them all out there is still no change noticeable so I can rule that out.</p>\n<p>This is where I create and attach the listener.</p>\n<pre><code>private void initListener() {\n    this.searchField.getDocument().addDocumentListener(new DocumentListener() {\n        public void changedUpdate(DocumentEvent e) {\n            String text = searchField.getText();\n            if (text.trim().length() == 0) {\n                table.getRowSorter().setRowFilter(null);\n            } else {\n                table.getRowSorter().setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + text));\n            }\n            table.repaint();\n        }\n\n        public void removeUpdate(DocumentEvent e) {\n            String text = searchField.getText();\n            if (text.trim().length() == 0) {\n                table.getRowSorter().setRowFilter(null);\n            } else {\n                table.getRowSorter().setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + text));\n            }\n        }\n\n        public void insertUpdate(DocumentEvent e) {\n            String text = searchField.getText();\n            if (text.trim().length() == 0) {\n                table.getRowSorter().setRowFilter(null);\n            } else {\n                table.getRowSorter().setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + text));\n            }\n        }\n    });\n</code></pre>\n<p>This is my Table class configuration</p>\n<pre><code>    private void initializeUI() {\n    this.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS);\n    this.getColumn(&quot;INTERVAL&quot;).setPreferredWidth(20);\n}\n\nprivate void setCustomRowSorter() {\n    this.rowSorter = new TableRowSorter&lt;&gt;(model);\n    this.setRowSorter(rowSorter);\n\n}\nprivate void setTableCellRenderers() {\n    this.setDefaultRenderer(Object.class, new DefaultTickerTableRenderer());\n    this.getColumnModel().getColumn(6).setCellRenderer(new RSICellRenderer());\n    this.getColumnModel().getColumn(7).setCellRenderer(new SMACellRenderer());\n    this.getColumnModel().getColumn(8).setCellRenderer(new SMACellRenderer());\n    this.getColumnModel().getColumn(9).setCellRenderer(new SMACellRenderer());\n}\n</code></pre>\n<p>In case of relevance, here are the custom CellRenderers used by this table. Removing them does not seem to improve performance.</p>\n<pre><code>public class DefaultTickerTableRenderer extends DefaultTableCellRenderer {\nprivate final JCheckBox ckb = new JCheckBox();\n\npublic DefaultTickerTableRenderer() {\n    setOpaque(true); //MUST do this for background to show up.\n}\n\npublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n    JComponent c = (JComponent) super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n    c.setBorder(new MatteBorder(0, 0, 1, 0, Color.BLACK));\n    if (!isSelected) {\n        if (row % 2 == 0) {\n            c.setBackground(AppColors.TICKER_TABLE_DEFAULT_BG);\n        } else {\n            c.setBackground(AppColors.TICKERTABLE_STRIPE_BG);\n        }\n    }\n    return c;\n}\n}\n\npublic class SMACellRenderer extends DefaultTableCellRenderer {\nprivate Market market;\n\npublic SMACellRenderer() {\n    setOpaque(true);\n}\n\n@Override\npublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n    setBorder(new MatteBorder(0, 0, 1, 0, Color.BLACK));\n    float closePrice = Float.parseFloat(table.getModel().getValueAt(row, 5).toString());\n    float smaValue = Float.parseFloat(value.toString());\n    if (smaValue &lt; closePrice) {\n        setBackground(AppColors.TICKERTABLE_GREEN);\n    } else if (smaValue &gt; closePrice) {\n        setBackground(AppColors.TICKERTABLE_RED);\n    } else {\n        setBackground(AppColors.TICKERTABLE_NEUTRAL);\n    }\n    if (isSelected) {\n        setBackground(table.getSelectionBackground());\n    }\n    setText(value.toString());\n    return this;\n}\n}\n\npublic class RSICellRenderer extends DefaultTableCellRenderer {\nprivate Market market;\n\npublic RSICellRenderer() {\n    setOpaque(true);\n}\n\n@Override\npublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n    setBorder(new MatteBorder(0, 0, 1, 0, Color.BLACK));\n    float rsiValue = Float.parseFloat(value.toString());\n    if (rsiValue &lt; TechnicalAnalytics.RSI_OVERSOLD_THRESHOLD) {\n        setBackground(AppColors.TICKERTABLE_GREEN);\n    } else if (rsiValue &gt; TechnicalAnalytics.RSI_OVERBOUGHT_THRESHOLD) {\n        setBackground(AppColors.TICKERTABLE_RED);\n    } else {\n        setBackground(AppColors.TICKERTABLE_NEUTRAL);\n    }\n    if (isSelected) {\n        setBackground(table.getSelectionBackground());\n    }\n    setText(value.toString());\n    return this;\n}\n}\n</code></pre>\n<p>Solution\nGot it to work by using this approach.</p>\n<pre><code> private void initListener() {\n    Runnable task = () -&gt; {\n        String text = searchField.getText();\n        if (text.trim().length() == 0) {\n            table.getRowSorter().setRowFilter(null);\n        } else {\n            table.getRowSorter().setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + text));\n        }\n    };\n\n    searchField.getDocument().addDocumentListener(\n            new DocumentListener() {\n                public void changedUpdate(DocumentEvent e) {\n                    newFilter();\n                }\n\n                public void insertUpdate(DocumentEvent e) {\n                    newFilter();\n                }\n\n                public void removeUpdate(DocumentEvent e) {\n                    newFilter();\n                }\n            });\n}\n\nprivate void newFilter() {\n    RowFilter&lt;TickerTableModel, Object&gt; rf = null;\n    try {\n        rf = RowFilter.regexFilter(searchField.getText(), 0);\n    } catch (java.util.regex.PatternSyntaxException e) {\n        return;\n    }\n    table.getRowSorter().setRowFilter(rf);\n}\n</code></pre>\n"},{"tags":["java","spring","jar","executable-jar"],"answers":[{"comments":[{"owner":{"account_id":17071207,"reputation":401,"user_id":12351944,"display_name":"big_OS"},"score":2,"creation_date":1601143292,"post_id":64080777,"comment_id":113316238,"body_markdown":"So the order here is important - `java -jar -Dspring.profiles.active=dev  sample.jar` command managed to set the profile to the `dev` but no changes in configuration were made. While the `dev` profile is active I expect the app to run on port 8081 but still got default value of 8080. Do you know what causes this behaviour?","body":"So the order here is important - <code>java -jar -Dspring.profiles.active=dev  sample.jar</code> command managed to set the profile to the <code>dev</code> but no changes in configuration were made. While the <code>dev</code> profile is active I expect the app to run on port 8081 but still got default value of 8080. Do you know what causes this behaviour?"},{"owner":{"account_id":17071207,"reputation":401,"user_id":12351944,"display_name":"big_OS"},"score":0,"creation_date":1601143462,"post_id":64080777,"comment_id":113316281,"body_markdown":"I just moved from `application.properties` to `application.yml` and wrote the same settings as were in application.properties.","body":"I just moved from <code>application.properties</code> to <code>application.yml</code> and wrote the same settings as were in application.properties."},{"owner":{"account_id":6966097,"reputation":183,"user_id":5344065,"display_name":"Sidnei Bernardo"},"score":0,"creation_date":1601145159,"post_id":64080777,"comment_id":113316766,"body_markdown":"Is your `application.yml` file located at the right place? Is Spring logging that it loaded your file at startup?","body":"Is your <code>application.yml</code> file located at the right place? Is Spring logging that it loaded your file at startup?"},{"owner":{"account_id":17071207,"reputation":401,"user_id":12351944,"display_name":"big_OS"},"score":0,"creation_date":1601146163,"post_id":64080777,"comment_id":113317041,"body_markdown":"It&#39;s in the same place as the `application.properties` was. It says right after the command `20:43:46.096 [main] DEBUG org.springframework.core.env.PropertySourcesPropertyResolver - Found key &#39;spring.profiles.active&#39; in PropertySource &#39;systemProperties&#39; with value of type String\n20:43:46.099 [main] DEBUG org.springframework.web.context.support.StandardServletEnvironment - Activating profiles [dev]` but still no configuration is loaded - port is set to default","body":"It&#39;s in the same place as the <code>application.properties</code> was. It says right after the command <code>20:43:46.096 [main] DEBUG org.springframework.core.env.PropertySourcesPropertyResolver - Found key &#39;spring.profiles.active&#39; in PropertySource &#39;systemProperties&#39; with value of type String 20:43:46.099 [main] DEBUG org.springframework.web.context.support.StandardServletEnvir&zwnj;&#8203;onment - Activating profiles [dev]</code> but still no configuration is loaded - port is set to default"},{"owner":{"account_id":6966097,"reputation":183,"user_id":5344065,"display_name":"Sidnei Bernardo"},"score":0,"creation_date":1601147639,"post_id":64080777,"comment_id":113317459,"body_markdown":"Everything seems to be right. It is hard to debug this kind of erros without access to full source code to check if something is missconfigured. One more thing I would try is to open the generated jar and check if the `application.yml` is there. \nI know this is not what you are looking for, but you can also change the port through command line argument: `java -jar -Dserver.port=8081 sample.jar`","body":"Everything seems to be right. It is hard to debug this kind of erros without access to full source code to check if something is missconfigured. One more thing I would try is to open the generated jar and check if the <code>application.yml</code> is there.  I know this is not what you are looking for, but you can also change the port through command line argument: <code>java -jar -Dserver.port=8081 sample.jar</code>"},{"owner":{"account_id":17071207,"reputation":401,"user_id":12351944,"display_name":"big_OS"},"score":0,"creation_date":1601150527,"post_id":64080777,"comment_id":113318162,"body_markdown":"My jar is under `out/artifacts/sample_jar/sample.jar` and there&#39;s nothing else. Moreover - how do I look into jar file?","body":"My jar is under <code>out&#47;artifacts&#47;sample_jar&#47;sample.jar</code> and there&#39;s nothing else. Moreover - how do I look into jar file?"},{"owner":{"account_id":6966097,"reputation":183,"user_id":5344065,"display_name":"Sidnei Bernardo"},"score":0,"creation_date":1601350802,"post_id":64080777,"comment_id":113372956,"body_markdown":"The jar is just a zip file. You can open it using any application that opens zip files.","body":"The jar is just a zip file. You can open it using any application that opens zip files."},{"owner":{"account_id":6966097,"reputation":183,"user_id":5344065,"display_name":"Sidnei Bernardo"},"score":0,"creation_date":1601351540,"post_id":64080777,"comment_id":113373105,"body_markdown":"I just copied and pasted you application.yml to a project here and it was loaded. Try to create a new project with spring initializer to perform an isolated test: https://start.spring.io/","body":"I just copied and pasted you application.yml to a project here and it was loaded. Try to create a new project with spring initializer to perform an isolated test: <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>"}],"tags":[],"owner":{"account_id":6966097,"reputation":183,"user_id":5344065,"display_name":"Sidnei Bernardo"},"comment_count":8,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1601142091,"creation_date":1601142091,"answer_id":64080777,"question_id":64080705,"body_markdown":"You can activate profile through **command line** argument. In your trying, you are defining the active profile after the name of the jar. You need to provide the program argument before the name of the jar you are running.\r\n\r\n```bash\r\njava -jar -Dspring.profiles.active=dev  sample.jar\r\n```\r\n\r\n\r\nAn alternative way to set the active profile is to create a `application.properties` file with the following property:\r\n\r\n```properties\r\nspring.profiles.active=prod\r\n\r\n```","title":"Run Spring Boot JAR with predefined profile","body":"<p>You can activate profile through <strong>command line</strong> argument. In your trying, you are defining the active profile after the name of the jar. You need to provide the program argument before the name of the jar you are running.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>java -jar -Dspring.profiles.active=dev  sample.jar\n</code></pre>\n<p>An alternative way to set the active profile is to create a <code>application.properties</code> file with the following property:</p>\n<pre><code>spring.profiles.active=prod\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":929792,"reputation":3142,"user_id":959876,"display_name":"moldovean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697574540,"creation_date":1697574540,"answer_id":77312083,"question_id":64080705,"body_markdown":"With Spring-Boot 3+ and JDK 21 \r\n\r\n`java -jar  .\\path\\to\\jar\\app.jar --spring.profiles.active=dev`","title":"Run Spring Boot JAR with predefined profile","body":"<p>With Spring-Boot 3+ and JDK 21</p>\n<p><code>java -jar  .\\path\\to\\jar\\app.jar --spring.profiles.active=dev</code></p>\n"}],"owner":{"account_id":17071207,"reputation":401,"user_id":12351944,"display_name":"big_OS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9048,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697574540,"creation_date":1601141733,"question_id":64080705,"body_markdown":"I&#39;m trying to run my JAR file with the `java -jar sample.jar` command and I&#39;m using `application.yml` configuration file with the following setup\r\n```yml\r\nspring:\r\n  profiles:\r\n    active:\r\n      - dev\r\n---\r\nserver:\r\n  port: 8081\r\nspring:\r\n  profiles: dev\r\n---\r\nserver:\r\n  port: 8082\r\nspring:\r\n  profiles: test\r\n```\r\nBut the application doesn&#39;t recognize the profile giving back the information of  \r\n`No active profile set, falling back to default profiles: default` and setting up the port to default 8080  \r\n\r\nI tried things like  \r\n`java -jar sample.jar -Drun.jvmArguments=-Dspring.profiles.active=dev` or  \r\n`java -jar sample.jar -Dspring.profiles.active=dev`  \r\n\r\nIn my `pom.xml` file the only change I made was adding `&lt;packaging&gt;jar&lt;/packaging&gt;` property.\r\n\r\nFrom what I&#39;ve learned maven profiles are completely different things and shouldn&#39;t influence spring profiles.\r\n\r\nI don&#39;t know where to look for the problem as when I start the app by *Run* button in Intellij IDEA it works perfectly and recognizes every profile set up as active.  \r\n\r\nThe actual question here is **how to set up default profile to run while building an artifact** so there&#39;s no need to place extra flags in the terminal command running the jar.\r\n\r\nI know there&#39;s a lot of questions like mine but most of their accepted answers doesn&#39;t work in my case and the rest is unanswered. If you know what might be an issue here, please let me know. Thank you in advance for any help! ","title":"Run Spring Boot JAR with predefined profile","body":"<p>I'm trying to run my JAR file with the <code>java -jar sample.jar</code> command and I'm using <code>application.yml</code> configuration file with the following setup</p>\n<pre class=\"lang-yml prettyprint-override\"><code>spring:\n  profiles:\n    active:\n      - dev\n---\nserver:\n  port: 8081\nspring:\n  profiles: dev\n---\nserver:\n  port: 8082\nspring:\n  profiles: test\n</code></pre>\n<p>But the application doesn't recognize the profile giving back the information of<br />\n<code>No active profile set, falling back to default profiles: default</code> and setting up the port to default 8080</p>\n<p>I tried things like<br />\n<code>java -jar sample.jar -Drun.jvmArguments=-Dspring.profiles.active=dev</code> or<br />\n<code>java -jar sample.jar -Dspring.profiles.active=dev</code></p>\n<p>In my <code>pom.xml</code> file the only change I made was adding <code>&lt;packaging&gt;jar&lt;/packaging&gt;</code> property.</p>\n<p>From what I've learned maven profiles are completely different things and shouldn't influence spring profiles.</p>\n<p>I don't know where to look for the problem as when I start the app by <em>Run</em> button in Intellij IDEA it works perfectly and recognizes every profile set up as active.</p>\n<p>The actual question here is <strong>how to set up default profile to run while building an artifact</strong> so there's no need to place extra flags in the terminal command running the jar.</p>\n<p>I know there's a lot of questions like mine but most of their accepted answers doesn't work in my case and the rest is unanswered. If you know what might be an issue here, please let me know. Thank you in advance for any help!</p>\n"},{"tags":["java","swing","jframe","jfilechooser","disambiguation"],"answers":[{"comments":[{"owner":{"account_id":2533041,"reputation":111,"user_id":2200907,"accept_rate":100,"display_name":"MaCo"},"score":0,"creation_date":1370907350,"post_id":17034378,"comment_id":24623560,"body_markdown":"Thank you! That worked! But out of curiosity, would have I been able to take the ActionListener route? Or was I sort of forced to go the APPROVE_OPTION way?","body":"Thank you! That worked! But out of curiosity, would have I been able to take the ActionListener route? Or was I sort of forced to go the APPROVE_OPTION way?"},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":1,"creation_date":1370908393,"post_id":17034378,"comment_id":24623804,"body_markdown":"Avoid taking that route. While a the cancel is registered with the file chooser&#39;s `ActionListener`, the open button does not so will not respond at all. The intent is clearer by using the returned result as shown above.","body":"Avoid taking that route. While a the cancel is registered with the file chooser&#39;s <code>ActionListener</code>, the open button does not so will not respond at all. The intent is clearer by using the returned result as shown above."}],"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1370909866,"creation_date":1370906644,"answer_id":17034378,"question_id":17034282,"body_markdown":"Use the result of the appropriate `showDialog` method to determine which button was clicked\r\n\r\n    JFileChooser input = new JFileChooser();\r\n    int result = input.showSaveDialog(this);\r\n    if (result == JFileChooser.APPROVE_OPTION) {\r\n    \tcreateFile();\r\n    } else if (result == JFileChooser.CANCEL_OPTION) {\r\n    \tSystem.out.println(&quot;Cancel was selected&quot;);\r\n    }\r\n\r\nNote: Clicking the `X` button on the `JFileChooser` dialog also triggers the `CANCEL_OPTION`.\r\n\r\nRead [How to Use File Choosers][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html","title":"JFileChooser - regarding the &quot;open&quot; and &quot;cancel&quot; buttons. Java","body":"<p>Use the result of the appropriate <code>showDialog</code> method to determine which button was clicked</p>\n\n<pre><code>JFileChooser input = new JFileChooser();\nint result = input.showSaveDialog(this);\nif (result == JFileChooser.APPROVE_OPTION) {\n    createFile();\n} else if (result == JFileChooser.CANCEL_OPTION) {\n    System.out.println(\"Cancel was selected\");\n}\n</code></pre>\n\n<p>Note: Clicking the <code>X</code> button on the <code>JFileChooser</code> dialog also triggers the <code>CANCEL_OPTION</code>.</p>\n\n<p>Read <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html\">How to Use File Choosers</a></p>\n"},{"comments":[{"owner":{"account_id":13913496,"reputation":285,"user_id":10046004,"display_name":"KGM"},"score":0,"creation_date":1697324371,"post_id":42961112,"comment_id":136266063,"body_markdown":"This seems to be the proper way.","body":"This seems to be the proper way."}],"tags":[],"owner":{"account_id":10145891,"reputation":706,"user_id":7494059,"display_name":"Peet"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697560942,"creation_date":1490211351,"answer_id":42961112,"question_id":17034282,"body_markdown":"When initializing components:\r\n\r\n    fileChooser.addActionListener(new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent evt) {\r\n            fileChooserActionPerformed(evt);\r\n        }\r\n    });\r\n\r\nThe action listener above calls the following method:\r\n\r\n    private void fileChooserActionPerformed(ActionEvent e) {\r\n        if (e.getActionCommand().equals(javax.swing.JFileChooser.APPROVE_SELECTION)) {\r\n            System.out.println(&quot;approve selection&quot;);\r\n        } else if (e.getActionCommand().equals(javax.swing.JFileChooser.CANCEL_SELECTION)) {\r\n            System.out.println(&quot;cancel selection&quot;);\r\n        }\r\n    }\r\n\r\n**NOTE**: a file/folder must be selected for the approve selection to work","title":"JFileChooser - regarding the &quot;open&quot; and &quot;cancel&quot; buttons. Java","body":"<p>When initializing components:</p>\n<pre><code>fileChooser.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent evt) {\n        fileChooserActionPerformed(evt);\n    }\n});\n</code></pre>\n<p>The action listener above calls the following method:</p>\n<pre><code>private void fileChooserActionPerformed(ActionEvent e) {\n    if (e.getActionCommand().equals(javax.swing.JFileChooser.APPROVE_SELECTION)) {\n        System.out.println(&quot;approve selection&quot;);\n    } else if (e.getActionCommand().equals(javax.swing.JFileChooser.CANCEL_SELECTION)) {\n        System.out.println(&quot;cancel selection&quot;);\n    }\n}\n</code></pre>\n<p><strong>NOTE</strong>: a file/folder must be selected for the approve selection to work</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697573870,"creation_date":1697573870,"answer_id":77312023,"question_id":17034282,"body_markdown":"In most situations it is sufficient to check for the approve option:\r\n\r\n    JFileChooser input = new JFileChooser();\r\n    if (input.showSaveDialog(this) == JFileChooser.APPROVE_OPTION) {\r\n        createFile();\r\n    }\r\n\r\nIf anything else than approve was clicked, you just do not create the file.\r\nThis works for\r\n- showOpenDialog()\r\n- showSaveDialog()\r\n- pretty much any cases of JOptionPane usage\r\n\r\nThere is some exception when you need to check more. Imagine the user quits the application and it pops up a warning that the document is still not saved:\r\n\r\nUnsaved data! Do you want to save? (Yes/No/Cancel)\r\n\r\nIn this case you need to check as you have three different outcomes:\r\n- yes: Save the data and exit\r\n- no: Just exit\r\n- cancel: do not exit\r\n","title":"JFileChooser - regarding the &quot;open&quot; and &quot;cancel&quot; buttons. Java","body":"<p>In most situations it is sufficient to check for the approve option:</p>\n<pre><code>JFileChooser input = new JFileChooser();\nif (input.showSaveDialog(this) == JFileChooser.APPROVE_OPTION) {\n    createFile();\n}\n</code></pre>\n<p>If anything else than approve was clicked, you just do not create the file.\nThis works for</p>\n<ul>\n<li>showOpenDialog()</li>\n<li>showSaveDialog()</li>\n<li>pretty much any cases of JOptionPane usage</li>\n</ul>\n<p>There is some exception when you need to check more. Imagine the user quits the application and it pops up a warning that the document is still not saved:</p>\n<p>Unsaved data! Do you want to save? (Yes/No/Cancel)</p>\n<p>In this case you need to check as you have three different outcomes:</p>\n<ul>\n<li>yes: Save the data and exit</li>\n<li>no: Just exit</li>\n<li>cancel: do not exit</li>\n</ul>\n"}],"owner":{"account_id":2533041,"reputation":111,"user_id":2200907,"accept_rate":100,"display_name":"MaCo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35264,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":17034378,"answer_count":3,"score":7,"last_activity_date":1697573870,"creation_date":1370906037,"question_id":17034282,"body_markdown":"I am having some trouble using the JFileChooser. Whenever I run the program if I click the &quot;cancel&quot; button right away without selecting a file it will display &quot;hello&quot; and if I click open, it will not do anything. On other hand, if I select a file and click open it will start to display &quot;Hello&quot; (call the createFile method) and will display &quot;hello&quot; if I click &quot;cancel&quot;.\r\n\r\nMy question is how can I find out which button was clicked and to do a specific thing for each like call the die function when clicked cancel and call the createFile function when open is clicked.\r\n\r\nI was thinking of something like \r\n\r\n    if(e.getSource() == &quot;Something_I_Dont_know&quot;) { do this}\r\n\r\nHere is my code:\r\n\r\n\r\n    \r\n    import java.util.*;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n\r\n\r\n    public class Grading{\r\n\r\n    public static void main(String[] arg){\r\n\r\n\t new MFrame();\r\n\r\n    }\r\n\r\n\r\n    }// end of class Grading\r\n\r\n    class MFrame extends JFrame{\r\n\r\n\tprivate JCheckBox cum,uc,ucs;\r\n\tprivate JButton calc, clear, exit;\r\n\tprivate ButtonGroup bg;\r\n\tprivate JTextArea display;\r\n\tprivate JFileChooser input;\r\n\t\r\n\tpublic MFrame(){\r\n\t\t\r\n\t\tsetVisible( true );\r\n\t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\tsetSize(550,550);\r\n\t\t\r\n\t\tinput = new JFileChooser();\r\n\t\tadd( input );\r\n\t\tinput.addActionListener(\r\n\t\t\tnew ActionListener(){\r\n\t\t\t\tpublic void actionPerformed( ActionEvent e ){\r\n\t\t\t\t\t//die();\r\n\t\t\t\t\tcreateFile();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t);\r\n\t\t\r\n\t\tsetLayout( new FlowLayout() );\r\n\t\t\r\n\t\tpack();\r\n\r\n\r\n\t}// end of constructor\r\n\r\n\tpublic double gpa(){\r\n\t return 1.0;\r\n\t}// end of gpa method\r\n\r\n\tpublic void createFile(){\r\n\t\tSystem.out.println(&quot;Hello&quot;);\r\n\t}\r\n\t\r\n\tpublic void die(){\r\n\t\tSystem.exit(0);\r\n\t}\r\n\r\n\r\n}// end of MFRAME CLASS\r\n\r\n\r\n","title":"JFileChooser - regarding the &quot;open&quot; and &quot;cancel&quot; buttons. Java","body":"<p>I am having some trouble using the JFileChooser. Whenever I run the program if I click the \"cancel\" button right away without selecting a file it will display \"hello\" and if I click open, it will not do anything. On other hand, if I select a file and click open it will start to display \"Hello\" (call the createFile method) and will display \"hello\" if I click \"cancel\".</p>\n\n<p>My question is how can I find out which button was clicked and to do a specific thing for each like call the die function when clicked cancel and call the createFile function when open is clicked.</p>\n\n<p>I was thinking of something like </p>\n\n<pre><code>if(e.getSource() == \"Something_I_Dont_know\") { do this}\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>import java.util.*;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\n\npublic class Grading{\n\npublic static void main(String[] arg){\n\n new MFrame();\n\n}\n\n\n}// end of class Grading\n\nclass MFrame extends JFrame{\n\nprivate JCheckBox cum,uc,ucs;\nprivate JButton calc, clear, exit;\nprivate ButtonGroup bg;\nprivate JTextArea display;\nprivate JFileChooser input;\n\npublic MFrame(){\n\n    setVisible( true );\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n    setSize(550,550);\n\n    input = new JFileChooser();\n    add( input );\n    input.addActionListener(\n        new ActionListener(){\n            public void actionPerformed( ActionEvent e ){\n                //die();\n                createFile();\n            }\n        }\n\n    );\n\n    setLayout( new FlowLayout() );\n\n    pack();\n\n\n}// end of constructor\n\npublic double gpa(){\n return 1.0;\n}// end of gpa method\n\npublic void createFile(){\n    System.out.println(\"Hello\");\n}\n\npublic void die(){\n    System.exit(0);\n}\n</code></pre>\n\n<p>}// end of MFRAME CLASS</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6342341,"reputation":5609,"user_id":4923889,"accept_rate":47,"display_name":"Uma Kanth"},"score":0,"creation_date":1432881499,"post_id":30522700,"comment_id":49119297,"body_markdown":"try using only `this` instead of `MainActivity.this`","body":"try using only <code>this</code> instead of <code>MainActivity.this</code>"},{"owner":{"account_id":6342341,"reputation":5609,"user_id":4923889,"accept_rate":47,"display_name":"Uma Kanth"},"score":0,"creation_date":1432881641,"post_id":30522700,"comment_id":49119372,"body_markdown":"what is the error @Signo","body":"what is the error @Signo"},{"owner":{"account_id":1758390,"reputation":169,"user_id":1606085,"display_name":"Gaurav Gupta"},"score":0,"creation_date":1432883028,"post_id":30522700,"comment_id":49120140,"body_markdown":"Do you want to show AlertDailog from service?","body":"Do you want to show AlertDailog from service?"},{"owner":{"account_id":1758390,"reputation":169,"user_id":1606085,"display_name":"Gaurav Gupta"},"score":0,"creation_date":1432884479,"post_id":30522700,"comment_id":49120903,"body_markdown":"If you want to display Alert from service then you can use my code from below\n\nhttp://stackoverflow.com/questions/30522700/show-an-alertdialog-from-another-activity-android/30523639#30523639","body":"If you want to display Alert from service then you can use my code from below  <a href=\"http://stackoverflow.com/questions/30522700/show-an-alertdialog-from-another-activity-android/30523639#30523639\" title=\"show an alertdialog from another activity android\">stackoverflow.com/questions/30522700/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":4680752,"reputation":6906,"user_id":3789527,"accept_rate":70,"display_name":"LS_"},"score":0,"creation_date":1432882168,"post_id":30522781,"comment_id":49119657,"body_markdown":"it gives me an error on new AlertDialog.Builder(this) but I have no suggestions on what the error could be","body":"it gives me an error on new AlertDialog.Builder(this) but I have no suggestions on what the error could be"},{"owner":{"account_id":6342341,"reputation":5609,"user_id":4923889,"accept_rate":47,"display_name":"Uma Kanth"},"score":0,"creation_date":1432882240,"post_id":30522781,"comment_id":49119699,"body_markdown":"what is the name of the activity you are trying to alert a dialog","body":"what is the name of the activity you are trying to alert a dialog"},{"owner":{"account_id":6342341,"reputation":5609,"user_id":4923889,"accept_rate":47,"display_name":"Uma Kanth"},"score":0,"creation_date":1432882450,"post_id":30522781,"comment_id":49119846,"body_markdown":"I mean if you write in a java file called `NewActivity.java`, then the this becomes `NewActivity.this`.","body":"I mean if you write in a java file called <code>NewActivity.java</code>, then the this becomes <code>NewActivity.this</code>."},{"owner":{"account_id":4680752,"reputation":6906,"user_id":3789527,"accept_rate":70,"display_name":"LS_"},"score":0,"creation_date":1432882567,"post_id":30522781,"comment_id":49119927,"body_markdown":"Yeah i know but I have only one activity that has the localization, if an event triggers I have to show the builder on the current active activity even if it is not the one where the localization service is","body":"Yeah i know but I have only one activity that has the localization, if an event triggers I have to show the builder on the current active activity even if it is not the one where the localization service is"},{"owner":{"account_id":6342341,"reputation":5609,"user_id":4923889,"accept_rate":47,"display_name":"Uma Kanth"},"score":0,"creation_date":1432882756,"post_id":30522781,"comment_id":49120017,"body_markdown":"you could get the activity name from the `context` and then use it. `Activity activity = (Activity) context;`","body":"you could get the activity name from the <code>context</code> and then use it. <code>Activity activity = (Activity) context;</code>"}],"tags":[],"owner":{"account_id":6342341,"reputation":5609,"user_id":4923889,"accept_rate":47,"display_name":"Uma Kanth"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432881623,"creation_date":1432881623,"answer_id":30522781,"question_id":30522700,"body_markdown":"Try using `this` instead of `MainActivity.this`.\r\n\r\n    new AlertDialog.Builder(this)\r\n        .setTitle(&quot;title&quot;)\r\n        .setMessage(&quot;A message?&quot;)\r\n        .setPositiveButton(android.R.string.yes, new DialogInterface.OnClickListener() {\r\n            public void onClick(DialogInterface dialog, int which) { \r\n                // yes pressed\r\n            }\r\n         })\r\n        .setNegativeButton(android.R.string.no, new DialogInterface.OnClickListener() {\r\n            public void onClick(DialogInterface dialog, int which) { \r\n                // no pressed\r\n            }\r\n         })\r\n        .setIcon(android.R.drawable.ic_dialog_alert)\r\n         .show();","title":"Show an alertDialog from another Activity Android","body":"<p>Try using <code>this</code> instead of <code>MainActivity.this</code>.</p>\n\n<pre><code>new AlertDialog.Builder(this)\n    .setTitle(\"title\")\n    .setMessage(\"A message?\")\n    .setPositiveButton(android.R.string.yes, new DialogInterface.OnClickListener() {\n        public void onClick(DialogInterface dialog, int which) { \n            // yes pressed\n        }\n     })\n    .setNegativeButton(android.R.string.no, new DialogInterface.OnClickListener() {\n        public void onClick(DialogInterface dialog, int which) { \n            // no pressed\n        }\n     })\n    .setIcon(android.R.drawable.ic_dialog_alert)\n     .show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1758390,"reputation":169,"user_id":1606085,"display_name":"Gaurav Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1432884417,"creation_date":1432884417,"answer_id":30523639,"question_id":30522700,"body_markdown":"If you are trying to display Alert from your running service then you have to call new custom alert dialog class that will display alert whether you are on any activity.\r\n\r\n        public class AlertDialogActivity extends Activity{\r\n    \t@Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            displayAlert();\r\n        }\r\n    \r\n        private void displayAlert()\r\n        {\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n            builder.setInverseBackgroundForced(true);\r\n            builder.setMessage(&quot;You Message here&quot;).setCancelable(\r\n                false).setPositiveButton(&quot;OK&quot;,\r\n                new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                        \r\n                    \t// code here\r\n                        AlertDialogActivity.this.finish();                  \r\n                        dialog.cancel();                 \r\n                    }\r\n                }).setNegativeButton(&quot;Close&quot;,\r\n                new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                    \t\r\n        \t\t        AlertDialogActivity.this.finish();\r\n                    \tdialog.cancel();\r\n                    }\r\n                });\r\n            AlertDialog alert = builder.create();\r\n            alert.show();\r\n        }\r\n    \t\r\n    }\r\n\r\n\r\nAnd call this class from your service to display alert.\r\n\r\n \r\n\r\n       Intent dialogIntent = new Intent(getApplicationContext(), AlertDialogActivity.class);\r\n    getApplication().startActivity(dialogIntent);\r\n\r\n\r\n\r\n\r\n\r\n ","title":"Show an alertDialog from another Activity Android","body":"<p>If you are trying to display Alert from your running service then you have to call new custom alert dialog class that will display alert whether you are on any activity.</p>\n\n<pre><code>    public class AlertDialogActivity extends Activity{\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        displayAlert();\n    }\n\n    private void displayAlert()\n    {\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setInverseBackgroundForced(true);\n        builder.setMessage(\"You Message here\").setCancelable(\n            false).setPositiveButton(\"OK\",\n            new DialogInterface.OnClickListener() {\n                public void onClick(DialogInterface dialog, int id) {\n\n                    // code here\n                    AlertDialogActivity.this.finish();                  \n                    dialog.cancel();                 \n                }\n            }).setNegativeButton(\"Close\",\n            new DialogInterface.OnClickListener() {\n                public void onClick(DialogInterface dialog, int id) {\n\n                    AlertDialogActivity.this.finish();\n                    dialog.cancel();\n                }\n            });\n        AlertDialog alert = builder.create();\n        alert.show();\n    }\n\n}\n</code></pre>\n\n<p>And call this class from your service to display alert.</p>\n\n<pre><code>   Intent dialogIntent = new Intent(getApplicationContext(), AlertDialogActivity.class);\ngetApplication().startActivity(dialogIntent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17099818,"reputation":71,"user_id":12374013,"display_name":"DeadPool"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697573859,"creation_date":1697573859,"answer_id":77312021,"question_id":30522700,"body_markdown":"You&#39;ll need an event bus or a custom skeleton class in order to connect these two. You can create this Bus and initialize in your Main Activity and keep a reference of it. \r\n\r\nYou&#39;ll create register and unregister method in your EventBus class.\r\nTie them to SharedPreference to hold reference.\r\n\r\nWhen you call bus.register() it&#39;ll either create a new instance or return you the already created one.\r\nbus.unregister will unregister the bus (do this when you logout or dont want to use bus anymore)\r\n\r\n\r\nIn your Activity A (The UI Activity)\r\nRegister your bus (in onResume) and subscribe to the event, lets call it EventShowDialog\r\n\r\n    @Subscribe\r\n    public void showEventDialog(EventShowDialog) event{\r\n    //show your dialog\r\n    }\r\n\r\nIn your main activity, where you&#39;ll initialize your bus, upon your even you just need to post the event\r\n\r\n    bus.post(new EventShowDialog)\r\n\r\nEventShowDialog can be an empty class that you&#39;ll create. I&#39;ve tried and tested this and it works as expected. Please reach out for more info if you get stuck somewhere. ","title":"Show an alertDialog from another Activity Android","body":"<p>You'll need an event bus or a custom skeleton class in order to connect these two. You can create this Bus and initialize in your Main Activity and keep a reference of it.</p>\n<p>You'll create register and unregister method in your EventBus class.\nTie them to SharedPreference to hold reference.</p>\n<p>When you call bus.register() it'll either create a new instance or return you the already created one.\nbus.unregister will unregister the bus (do this when you logout or dont want to use bus anymore)</p>\n<p>In your Activity A (The UI Activity)\nRegister your bus (in onResume) and subscribe to the event, lets call it EventShowDialog</p>\n<pre><code>@Subscribe\npublic void showEventDialog(EventShowDialog) event{\n//show your dialog\n}\n</code></pre>\n<p>In your main activity, where you'll initialize your bus, upon your even you just need to post the event</p>\n<pre><code>bus.post(new EventShowDialog)\n</code></pre>\n<p>EventShowDialog can be an empty class that you'll create. I've tried and tested this and it works as expected. Please reach out for more info if you get stuck somewhere.</p>\n"}],"owner":{"account_id":4680752,"reputation":6906,"user_id":3789527,"accept_rate":70,"display_name":"LS_"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5635,"favorite_count":0,"down_vote_count":7,"up_vote_count":2,"answer_count":3,"score":-5,"last_activity_date":1697573859,"creation_date":1432881379,"question_id":30522700,"body_markdown":"On my MainActivity I start a service of localization that runs across all of the otheractivities, when an event occurs I need to show an AlertDialog on the current activity but I can&#39;t get it working. this is the code for the alertDialog:\r\n\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(mMainActivity.this);\r\n    \t            \t\tbuilder.setMessage(&quot;test&quot;)\r\n    \t            \t\t   .setCancelable(false)\r\n    \t            \t\t   .setPositiveButton(&quot;ok&quot;, new DialogInterface.OnClickListener() {\r\n    \t            \t\t       public void onClick(DialogInterface dialog, int id) {\r\n    \t            \t\t    \t   Intent intent = new Intent(mMainActivity.this,LocationDetails.class);\r\n    \t            \t\t\t\t\tintent.putExtra(&quot;placeId&quot;,1);\r\n    \t            \t\t\t\t\tstartActivity(intent);\r\n    \r\n    \t            \t\t       }\r\n    \t            \t\t   })\r\n    \t            \t\t   .setNegativeButton(&quot;cancel&quot;, new DialogInterface.OnClickListener() {\r\n    \t            \t\t       public void onClick(DialogInterface dialog, int id) {\r\n    \t            \t\t    \t   \r\n    \t            \t\t            dialog.cancel();\r\n    \t            \t\t       }\r\n    \t            \t\t   });\r\n    \t            \t\tAlertDialog alert = builder.create();\r\n    \t            \t\talert.show();\r\n\r\nObviously this code only works if i&#39;m on my MainActivity since I create the builder like this:\r\n\r\n    new AlertDialog.Builder(mMainActivity.this);\r\n\r\nIs there a way to create a builder based on the current activity even if it gets created on another one?\r\n\r\n\r\n\r\n**EDIT:**\r\n\r\nI tried with \r\n`AlertDialog.Builder builder = new AlertDialog.Builder(getApplicationContext());`\r\nBut it doesn&#39;t work..","title":"Show an alertDialog from another Activity Android","body":"<p>On my MainActivity I start a service of localization that runs across all of the otheractivities, when an event occurs I need to show an AlertDialog on the current activity but I can't get it working. this is the code for the alertDialog:</p>\n\n<pre><code>AlertDialog.Builder builder = new AlertDialog.Builder(mMainActivity.this);\n                        builder.setMessage(\"test\")\n                           .setCancelable(false)\n                           .setPositiveButton(\"ok\", new DialogInterface.OnClickListener() {\n                               public void onClick(DialogInterface dialog, int id) {\n                                   Intent intent = new Intent(mMainActivity.this,LocationDetails.class);\n                                    intent.putExtra(\"placeId\",1);\n                                    startActivity(intent);\n\n                               }\n                           })\n                           .setNegativeButton(\"cancel\", new DialogInterface.OnClickListener() {\n                               public void onClick(DialogInterface dialog, int id) {\n\n                                    dialog.cancel();\n                               }\n                           });\n                        AlertDialog alert = builder.create();\n                        alert.show();\n</code></pre>\n\n<p>Obviously this code only works if i'm on my MainActivity since I create the builder like this:</p>\n\n<pre><code>new AlertDialog.Builder(mMainActivity.this);\n</code></pre>\n\n<p>Is there a way to create a builder based on the current activity even if it gets created on another one?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I tried with \n<code>AlertDialog.Builder builder = new AlertDialog.Builder(getApplicationContext());</code>\nBut it doesn't work..</p>\n"},{"tags":["java","stream","java-8"],"comments":[{"owner":{"account_id":235528,"reputation":12642,"user_id":502399,"accept_rate":67,"display_name":"Tavian Barnes"},"score":1,"creation_date":1462217084,"post_id":36990053,"comment_id":61534318,"body_markdown":"You&#39;re right, if you don&#39;t close the stream then the file handle won&#39;t ever be closed.","body":"You&#39;re right, if you don&#39;t close the stream then the file handle won&#39;t ever be closed."},{"owner":{"account_id":235528,"reputation":12642,"user_id":502399,"accept_rate":67,"display_name":"Tavian Barnes"},"score":3,"creation_date":1462217136,"post_id":36990053,"comment_id":61534349,"body_markdown":"But, if your process exits, the OS will clean up after it.  I suspect by &quot;timely&quot; they meant &quot;before the end of the process&quot;","body":"But, if your process exits, the OS will clean up after it.  I suspect by &quot;timely&quot; they meant &quot;before the end of the process&quot;"},{"owner":{"account_id":5512516,"reputation":3434,"user_id":4378350,"accept_rate":85,"display_name":"Jan Gassen"},"score":1,"creation_date":1462217349,"post_id":36990053,"comment_id":61534482,"body_markdown":"That might be. Although I find it not very intuitive that you are not supposed to use the stream like that. Also IDEs don&#39;t seem to warn you about this potential resource leak, even though it should be easy to find.","body":"That might be. Although I find it not very intuitive that you are not supposed to use the stream like that. Also IDEs don&#39;t seem to warn you about this potential resource leak, even though it should be easy to find."},{"owner":{"account_id":235528,"reputation":12642,"user_id":502399,"accept_rate":67,"display_name":"Tavian Barnes"},"score":3,"creation_date":1462217495,"post_id":36990053,"comment_id":61534571,"body_markdown":"IDEs don&#39;t warn because almost all `Stream`s don&#39;t need to be closed.  Ideally `Files.list()` would have some annotation like `@CloseTheReturnedStream` that IDEs could understand.","body":"IDEs don&#39;t warn because almost all <code>Stream</code>s don&#39;t need to be closed.  Ideally <code>Files.list()</code> would have some annotation like <code>@CloseTheReturnedStream</code> that IDEs could understand."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1462266977,"post_id":36990053,"comment_id":61553211,"body_markdown":"Your test code assumes that automatic cleanup has to be performed via `finalize()`, but usually, modern code uses `PhantomReference` based cleaners, which are not triggered by `System.runFinalization()`. So even if there is an automatic cleanup, you won’t detect it with your code. But looking at [the implementation](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/sun/nio/fs/UnixDirectoryStream.java) or [its creator](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/sun/nio/fs/UnixFileSystemProvider.java#402) you won’t see a cleaner…","body":"Your test code assumes that automatic cleanup has to be performed via <code>finalize()</code>, but usually, modern code uses <code>PhantomReference</code> based cleaners, which are not triggered by <code>System.runFinalization()</code>. So even if there is an automatic cleanup, you won’t detect it with your code. But looking at <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/sun/nio/fs/UnixDirectoryStream.java\" rel=\"nofollow noreferrer\">the implementation</a> or <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/sun/nio/fs/UnixFileSystemProvider.java#402\" rel=\"nofollow noreferrer\">its creator</a> you won’t see a cleaner…"},{"owner":{"account_id":4353384,"reputation":540,"user_id":3552897,"display_name":"Katharsas"},"score":1,"creation_date":1506582616,"post_id":36990053,"comment_id":79880713,"body_markdown":"After spending 2 days on hunting a related bug, I think the JavaDoc is poor here and needs a clear warning. It indicates, that the stream will be closed at some point, but in a server environment that&#39;s basically &quot;never&#39; until serverapp shutdown.","body":"After spending 2 days on hunting a related bug, I think the JavaDoc is poor here and needs a clear warning. It indicates, that the stream will be closed at some point, but in a server environment that&#39;s basically &quot;never&#39; until serverapp shutdown."}],"answers":[{"comments":[{"owner":{"account_id":1527660,"reputation":2400,"user_id":1579915,"display_name":"dr0i"},"score":2,"creation_date":1505231690,"post_id":36993051,"comment_id":79324287,"body_markdown":"You saved my day!","body":"You saved my day!"},{"owner":{"account_id":3104108,"reputation":4651,"user_id":2699001,"accept_rate":61,"display_name":"systemdebt"},"score":0,"creation_date":1556794483,"post_id":36993051,"comment_id":98553895,"body_markdown":"where are we closing stream in this piece of code exactly?","body":"where are we closing stream in this piece of code exactly?"},{"owner":{"account_id":4264083,"reputation":6317,"user_id":3487617,"display_name":"Hank D"},"score":2,"creation_date":1556805325,"post_id":36993051,"comment_id":98559969,"body_markdown":"@Simrankaur, this is an example of try_with_resources. The variables declared inside the parentheses after `try` will be automatically closed, regardless of whether the try block completes normally or exceptionally.","body":"@Simrankaur, this is an example of try_with_resources. The variables declared inside the parentheses after <code>try</code> will be automatically closed, regardless of whether the try block completes normally or exceptionally."},{"owner":{"account_id":3104108,"reputation":4651,"user_id":2699001,"accept_rate":61,"display_name":"systemdebt"},"score":0,"creation_date":1556864823,"post_id":36993051,"comment_id":98579444,"body_markdown":"Great, Thank you.","body":"Great, Thank you."}],"tags":[],"owner":{"account_id":4264083,"reputation":6317,"user_id":3487617,"display_name":"Hank D"},"comment_count":4,"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1462230782,"creation_date":1462230782,"answer_id":36993051,"question_id":36990053,"body_markdown":"If you close the Stream, `Files.list()` does close the underlying `DirectoryStream` it uses to stream the files, so there should be no resource leak as long as you close the Stream.\r\n\r\nYou can see where the `DirectoryStream` is closed in the source code for `Files.list()` here:\r\n\r\n    return StreamSupport.stream(Spliterators.spliteratorUnknownSize(it, Spliterator.DISTINCT), false)\r\n                        .onClose(asUncheckedRunnable(ds));\r\n\r\nThe key thing to understand is that a `Runnable` is registered with the Stream using `Stream::onClose` that is called when the stream itself is closed.  That Runnable is created by a factory method, `asUncheckedRunnable` that creates a `Runnable` that closes the resource passed into it, translating any `IOException` thrown during the `close()` to an `UncheckedIOException`\r\n\r\nYou can safely assure that the `DirectoryStream` is closed by ensuring the `Stream` is closed like this:\r\n\r\n    try (Stream&lt;Path&gt; files = Files.list(Paths.get(destination))){\r\n        files.forEach(path -&gt; {\r\n             // Do stuff\r\n        });\r\n    }\r\n","title":"Resource leak in Files.list(Path dir) when stream is not explicitly closed?","body":"<p>If you close the Stream, <code>Files.list()</code> does close the underlying <code>DirectoryStream</code> it uses to stream the files, so there should be no resource leak as long as you close the Stream.</p>\n\n<p>You can see where the <code>DirectoryStream</code> is closed in the source code for <code>Files.list()</code> here:</p>\n\n<pre><code>return StreamSupport.stream(Spliterators.spliteratorUnknownSize(it, Spliterator.DISTINCT), false)\n                    .onClose(asUncheckedRunnable(ds));\n</code></pre>\n\n<p>The key thing to understand is that a <code>Runnable</code> is registered with the Stream using <code>Stream::onClose</code> that is called when the stream itself is closed.  That Runnable is created by a factory method, <code>asUncheckedRunnable</code> that creates a <code>Runnable</code> that closes the resource passed into it, translating any <code>IOException</code> thrown during the <code>close()</code> to an <code>UncheckedIOException</code></p>\n\n<p>You can safely assure that the <code>DirectoryStream</code> is closed by ensuring the <code>Stream</code> is closed like this:</p>\n\n<pre><code>try (Stream&lt;Path&gt; files = Files.list(Paths.get(destination))){\n    files.forEach(path -&gt; {\n         // Do stuff\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5853491,"reputation":8043,"user_id":4611488,"display_name":"Stephan Herrmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462286936,"creation_date":1462286936,"answer_id":37007408,"question_id":36990053,"body_markdown":"Regarding the IDE part: Eclipse performs resource leak analysis based on local variables (and explicit resource allocation expressions), so you only have to extract the stream to a local variable:\r\n\r\n    Stream&lt;Path&gt; files =Files.list(Paths.get(destination));\r\n    files.forEach(path -&gt; {\r\n     // To stuff\r\n    });\r\n\r\nThen Eclipse will tell you \r\n\r\n&gt; Resource leak: &#39;files&#39; is never closed\r\n\r\nBehind the scenes the analysis works with a cascade of exceptions:\r\n\r\n 1. All `Closeable`s need closing\r\n 2. `java.util.stream.Stream` (which is Closeable) does **not** need closing\r\n 3. All streams produced by methods in `java.nio.file.Files` **do** need closing\r\n\r\nThis strategy was developed in coordination with the library team when they discussed whether or not `Stream` should be `AutoCloseable`.","title":"Resource leak in Files.list(Path dir) when stream is not explicitly closed?","body":"<p>Regarding the IDE part: Eclipse performs resource leak analysis based on local variables (and explicit resource allocation expressions), so you only have to extract the stream to a local variable:</p>\n\n<pre><code>Stream&lt;Path&gt; files =Files.list(Paths.get(destination));\nfiles.forEach(path -&gt; {\n // To stuff\n});\n</code></pre>\n\n<p>Then Eclipse will tell you </p>\n\n<blockquote>\n  <p>Resource leak: 'files' is never closed</p>\n</blockquote>\n\n<p>Behind the scenes the analysis works with a cascade of exceptions:</p>\n\n<ol>\n<li>All <code>Closeable</code>s need closing</li>\n<li><code>java.util.stream.Stream</code> (which is Closeable) does <strong>not</strong> need closing</li>\n<li>All streams produced by methods in <code>java.nio.file.Files</code> <strong>do</strong> need closing</li>\n</ol>\n\n<p>This strategy was developed in coordination with the library team when they discussed whether or not <code>Stream</code> should be <code>AutoCloseable</code>.</p>\n"},{"comments":[{"owner":{"account_id":3589063,"reputation":962,"user_id":2995527,"display_name":"Daniel Puiu"},"score":2,"creation_date":1537946340,"post_id":52512003,"comment_id":91963830,"body_markdown":"While this code may answer the question, it would be better to include some context, explaining how it works and when to use it. Code-only answers are not useful in the long run.","body":"While this code may answer the question, it would be better to include some context, explaining how it works and when to use it. Code-only answers are not useful in the long run."}],"tags":[],"owner":{"account_id":8855549,"reputation":11,"user_id":6613440,"display_name":"Sudhir"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537946030,"creation_date":1537946030,"answer_id":52512003,"question_id":36990053,"body_markdown":"       List&lt;String&gt; fileList = null;\r\n    \r\n       try (Stream&lt;Path&gt; list = Files.list(Paths.get(path.toString()))) {\r\n       fileList = \r\n         list.filter(Files::isRegularFile).map(Path::toFile).map(File::getAbsolutePath)\r\n    \t\t\t\t\t\t\t\t.collect(Collectors.toList());\r\n       } catch (IOException e) {\r\n    \tlogger.error(&quot;Error occurred while reading email files: &quot;, e);\r\n      }","title":"Resource leak in Files.list(Path dir) when stream is not explicitly closed?","body":"<pre><code>   List&lt;String&gt; fileList = null;\n\n   try (Stream&lt;Path&gt; list = Files.list(Paths.get(path.toString()))) {\n   fileList = \n     list.filter(Files::isRegularFile).map(Path::toFile).map(File::getAbsolutePath)\n                                .collect(Collectors.toList());\n   } catch (IOException e) {\n    logger.error(\"Error occurred while reading email files: \", e);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7353328,"reputation":1,"user_id":6097679,"display_name":"Shreekant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697573656,"creation_date":1697573656,"answer_id":77312004,"question_id":36990053,"body_markdown":"I&#39;ve incurred same issue during file processing, what worked out is try-with-resource, follow below snippet if someone is still struggling:\r\n\r\n    \t\ttry(Stream&lt;Path&gt; files = Files.list(Paths.get(&quot;/some/location/&quot;))){\r\n\t\t\tList&lt;File&gt; allFiles = files.map(Path::toFile).filter(File :: isFile).collect(Collectors.toList());\r\n\t\t\tfor (File file : allFiles) {\r\n\t\t\t\t// complete your file operations\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nThis will ensure resource closure as well as do the file operations efficiently.  ","title":"Resource leak in Files.list(Path dir) when stream is not explicitly closed?","body":"<p>I've incurred same issue during file processing, what worked out is try-with-resource, follow below snippet if someone is still struggling:</p>\n<pre><code>        try(Stream&lt;Path&gt; files = Files.list(Paths.get(&quot;/some/location/&quot;))){\n        List&lt;File&gt; allFiles = files.map(Path::toFile).filter(File :: isFile).collect(Collectors.toList());\n        for (File file : allFiles) {\n            // complete your file operations\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>This will ensure resource closure as well as do the file operations efficiently.</p>\n"}],"owner":{"account_id":5512516,"reputation":3434,"user_id":4378350,"accept_rate":85,"display_name":"Jan Gassen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13891,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":36993051,"answer_count":4,"score":33,"last_activity_date":1697573656,"creation_date":1462216913,"question_id":36990053,"body_markdown":"I recently wrote a small app that periodically checked the content of a directory. After a while, the app crashed because of too many open file handles. After some debugging, I found the error in the following line:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Files.list(Paths.get(destination)).forEach(path -&gt; {\r\n         // To stuff\r\n    });\r\n\r\nI then checked the javadoc (I probably should have done that earlier) for `Files.list` and found:\r\n\r\n    * &lt;p&gt; The returned stream encapsulates a {@link DirectoryStream}.\r\n    * If timely disposal of file system resources is required, the\r\n    * {@code try}-with-resources construct should be used to ensure that the\r\n    * stream&#39;s {@link Stream#close close} method is invoked after the stream\r\n    * operations are completed\r\n\r\nTo me, &quot;timely disposal&quot; still sounds like the resources are going to be released eventually, before the app quits. I looked through the JDK (1.8.60) code but I wasn&#39;t able to find any hint about the file handles opened by `Files.list` being released again.\r\n\r\nI then created a small app that explicitly calls the garbage collector after using `Files.list` like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    while (true) {\r\n        Files.list(Paths.get(&quot;/&quot;)).forEach(path -&gt; {\r\n          System.out.println(path);\r\n        });\r\n        Thread.sleep(5000);\r\n\r\n        System.gc();\r\n        System.runFinalization();\r\n    }\r\n\r\nWhen I checked the open file handles with `lsof -p &lt;pid&gt;` I could still see the list of open file handles for &quot;/&quot; getting longer and longer.\r\n\r\nMy question now is: Is there any hidden mechanism that should eventually close no longer used open file handles in this scenario? Or are these resources in fact never disposed and the javadoc is a bit euphemistic when talking about &quot;timely disposal of file system resources&quot;?","title":"Resource leak in Files.list(Path dir) when stream is not explicitly closed?","body":"<p>I recently wrote a small app that periodically checked the content of a directory. After a while, the app crashed because of too many open file handles. After some debugging, I found the error in the following line:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Files.list(Paths.get(destination)).forEach(path -&gt; {\n     // To stuff\n});\n</code></pre>\n\n<p>I then checked the javadoc (I probably should have done that earlier) for <code>Files.list</code> and found:</p>\n\n<pre><code>* &lt;p&gt; The returned stream encapsulates a {@link DirectoryStream}.\n* If timely disposal of file system resources is required, the\n* {@code try}-with-resources construct should be used to ensure that the\n* stream's {@link Stream#close close} method is invoked after the stream\n* operations are completed\n</code></pre>\n\n<p>To me, \"timely disposal\" still sounds like the resources are going to be released eventually, before the app quits. I looked through the JDK (1.8.60) code but I wasn't able to find any hint about the file handles opened by <code>Files.list</code> being released again.</p>\n\n<p>I then created a small app that explicitly calls the garbage collector after using <code>Files.list</code> like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>while (true) {\n    Files.list(Paths.get(\"/\")).forEach(path -&gt; {\n      System.out.println(path);\n    });\n    Thread.sleep(5000);\n\n    System.gc();\n    System.runFinalization();\n}\n</code></pre>\n\n<p>When I checked the open file handles with <code>lsof -p &lt;pid&gt;</code> I could still see the list of open file handles for \"/\" getting longer and longer.</p>\n\n<p>My question now is: Is there any hidden mechanism that should eventually close no longer used open file handles in this scenario? Or are these resources in fact never disposed and the javadoc is a bit euphemistic when talking about \"timely disposal of file system resources\"?</p>\n"},{"tags":["java","notifications","exoplayer"],"comments":[{"owner":{"account_id":3455761,"reputation":3269,"user_id":2894324,"display_name":"sdex"},"score":0,"creation_date":1694008609,"post_id":77039284,"comment_id":135834913,"body_markdown":"You need to pass real context, for example to the constructor: public MyMediaNotificationProvider(Context context){ this.context = context; }","body":"You need to pass real context, for example to the constructor: public MyMediaNotificationProvider(Context context){ this.context = context; }"},{"owner":{"account_id":13001732,"reputation":1,"user_id":9397622,"display_name":"Pepsi_34"},"score":0,"creation_date":1694193584,"post_id":77039284,"comment_id":135863938,"body_markdown":"Thank you &quot;sdex&quot;, now the notification is visible. I&#39;ve updated my question with new code. The problem of displaying the notification is solved, but the question about customizing the notification is still on going.","body":"Thank you &quot;sdex&quot;, now the notification is visible. I&#39;ve updated my question with new code. The problem of displaying the notification is solved, but the question about customizing the notification is still on going."}],"answers":[{"comments":[{"owner":{"account_id":13001732,"reputation":1,"user_id":9397622,"display_name":"Pepsi_34"},"score":0,"creation_date":1699528178,"post_id":77311951,"comment_id":136544680,"body_markdown":"Thanks @Dan\nCustomizing the notification icon works with defaultMediaNotificationProvider.setSmallIcon(R.drawable.blb_reverse_icon);\nBut I haven&#39;t managed to customize artwork with.setArtworkUri(artworkUri) and it is always the artwork from the mp3 that is shown (a tried to copy a backgroup.jpg file in drawable folder and set filename, and also tried existing drawable in android and tried R.color.black). The problem is also that setArtworkUri() may custom artwork but i&#39;m not sure it custom the automatic backgroud color of the notification (based on artwork)","body":"Thanks @Dan Customizing the notification icon works with defaultMediaNotificationProvider.setSmallIcon(R.drawable.blb&zwnj;&#8203;_reverse_icon); But I haven&#39;t managed to customize artwork with.setArtworkUri(artworkUri) and it is always the artwork from the mp3 that is shown (a tried to copy a backgroup.jpg file in drawable folder and set filename, and also tried existing drawable in android and tried R.color.black). The problem is also that setArtworkUri() may custom artwork but i&#39;m not sure it custom the automatic backgroud color of the notification (based on artwork)"}],"tags":[],"owner":{"account_id":3327441,"reputation":534,"user_id":3966095,"display_name":"Dan Davis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697573106,"creation_date":1697573106,"answer_id":77311951,"question_id":77039284,"body_markdown":"First thing, media3 v1.1.1 was made available August 16, 2023.\r\n\r\nTo set the notification icon, adjust your ```DefaultMediaNotificationProvider``` in ```MyMediaNotificationProvider#createNotification()``` to the following:\r\n\r\n    \t\t\t// Create the notification\r\n\t\t\t\tDefaultMediaNotificationProvider defaultMediaNotificationProvider = new DefaultMediaNotificationProvider(mContext);\r\n\t\t\t\tdefaultMediaNotificationProvider.setSmallIcon(R.drawable.blb_reverse_icon);\r\n\t\t\t\tMediaNotification mediaNotification = defaultMediaNotificationProvider\r\n\t\t\t\t\t\t.createNotification(\r\n\t\t\t\t\t\t\t\tmediaSession,\r\n\t\t\t\t\t\t\t\tcustomLayout,\r\n\t\t\t\t\t\t\t\tactionFactory,\r\n\t\t\t\t\t\t\t\tonNotificationChangedCallback);\r\n\r\n\t\t\t\treturn mediaNotification;\r\n\r\nTo set titles and background, you will need to set metadata on your ```MediaItem```(s) using ```setMediaMetadata()```.\r\n\r\n    \tUri artworkUri = Uri.parse(&quot;android.resource://&quot;+mActivity.getPackageName()+&quot;/&quot;+R.drawable.mediasession_bg_artwork);\r\n\t\tUri mp3 = Uri.parse(&quot;android.resource://&quot;+mActivity.getPackageName()+&quot;/&quot;+R.raw.myMedia.mp3);\r\n\t\tMediaItem mediaItem = new MediaItem.Builder()\r\n\t\t\t\t.setMediaMetadata(new MediaMetadata.Builder()\r\n\t\t\t\t\t\t.setTitle(&quot;My Title&quot;)\r\n\t\t\t\t\t\t.setArtist(&quot;My Artist&quot;)\r\n\t\t\t\t\t\t.setArtworkUri(artworkUri)\r\n\t\t\t\t\t\t.build()\r\n\t\t\t\t)\r\n\t\t\t\t.setUri(mp3)\r\n\t\t\t\t.build();\r\n\r\nYou can find more information on MediaItem metadata [Media3 MediaMetadata.Builder][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/media3/common/MediaMetadata.Builder\r\n\r\nThe trick for the background is in the ```.setArtworkUri()```.","title":"How to modify the auto generated media3 notification ? (java)","body":"<p>First thing, media3 v1.1.1 was made available August 16, 2023.</p>\n<p>To set the notification icon, adjust your <code>DefaultMediaNotificationProvider</code> in <code>MyMediaNotificationProvider#createNotification()</code> to the following:</p>\n<pre><code>            // Create the notification\n            DefaultMediaNotificationProvider defaultMediaNotificationProvider = new DefaultMediaNotificationProvider(mContext);\n            defaultMediaNotificationProvider.setSmallIcon(R.drawable.blb_reverse_icon);\n            MediaNotification mediaNotification = defaultMediaNotificationProvider\n                    .createNotification(\n                            mediaSession,\n                            customLayout,\n                            actionFactory,\n                            onNotificationChangedCallback);\n\n            return mediaNotification;\n</code></pre>\n<p>To set titles and background, you will need to set metadata on your <code>MediaItem</code>(s) using <code>setMediaMetadata()</code>.</p>\n<pre><code>    Uri artworkUri = Uri.parse(&quot;android.resource://&quot;+mActivity.getPackageName()+&quot;/&quot;+R.drawable.mediasession_bg_artwork);\n    Uri mp3 = Uri.parse(&quot;android.resource://&quot;+mActivity.getPackageName()+&quot;/&quot;+R.raw.myMedia.mp3);\n    MediaItem mediaItem = new MediaItem.Builder()\n            .setMediaMetadata(new MediaMetadata.Builder()\n                    .setTitle(&quot;My Title&quot;)\n                    .setArtist(&quot;My Artist&quot;)\n                    .setArtworkUri(artworkUri)\n                    .build()\n            )\n            .setUri(mp3)\n            .build();\n</code></pre>\n<p>You can find more information on MediaItem metadata <a href=\"https://developer.android.com/reference/androidx/media3/common/MediaMetadata.Builder\" rel=\"nofollow noreferrer\">Media3 MediaMetadata.Builder</a></p>\n<p>The trick for the background is in the <code>.setArtworkUri()</code>.</p>\n"}],"owner":{"account_id":13001732,"reputation":1,"user_id":9397622,"display_name":"Pepsi_34"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697573106,"creation_date":1693844019,"question_id":77039284,"body_markdown":"\r\nI build an exoplayer with Media3 1.0.0-rc01 with a mediasession service, like describe in [developer guide](https://developer.android.com/guide/topics/media/session/mediasessionservice)\r\n\r\nIt&#39;s generated a media notification automatically and i want to change colors (text, background) and icon (and more).\r\n\r\nThe guide says : &quot;To provide a custom notification, create a MediaNotification.Provider with DefaultMediaNotificationProvider.Builder or by creating a custom implementation of the provider interface. Add your provider to your MediaSession with setMediaNotificationProvider.&quot;\r\n\r\nSo i created a new class for the provider :\r\n\r\n```\r\npackage myapp;\r\n\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\nimport androidx.media3.common.util.UnstableApi;\r\nimport androidx.media3.session.CommandButton;\r\nimport androidx.media3.session.DefaultMediaNotificationProvider;\r\nimport androidx.media3.session.MediaNotification;\r\nimport androidx.media3.session.MediaSession;\r\nimport com.google.common.collect.ImmutableList;\r\n\r\n@UnstableApi\r\npublic class MyMediaNotificationProvider implements MediaNotification.Provider {\r\n\r\n    private Context context;\r\n    public MyMediaNotificationProvider(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    @Override\r\n    public MediaNotification createNotification(\r\n            MediaSession mediaSession,\r\n            ImmutableList&lt;CommandButton&gt; customLayout,\r\n            MediaNotification.ActionFactory actionFactory,\r\n            Callback onNotificationChangedCallback) {\r\n\r\n        // Create the notification\r\n        return new DefaultMediaNotificationProvider(context).createNotification(\r\n                mediaSession,\r\n                customLayout,\r\n                actionFactory,\r\n                onNotificationChangedCallback);\r\n    }\r\n\r\n    @Override\r\n    public boolean handleCustomCommand(\r\n            MediaSession session,\r\n            String action,\r\n            Bundle extras) {\r\n        return false;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd I added the `setMediaNotificationProvider(new MyMediaNotificationProvider());` in my PlaybackService class, to call the new created class above :\r\n\r\n\r\n```\r\npackage myapp;\r\n\r\nimport android.net.Uri;\r\nimport androidx.media3.common.MediaItem;\r\nimport androidx.media3.common.util.UnstableApi;\r\nimport androidx.media3.exoplayer.ExoPlayer;\r\nimport androidx.media3.session.MediaSession;\r\nimport androidx.media3.session.MediaSessionService;\r\n\r\n@UnstableApi public class PlaybackService extends MediaSessionService {\r\n    private MediaSession mediaSession = null;\r\n\r\n    @Override\r\n    public MediaSession onGetSession(MediaSession.ControllerInfo controllerInfo) {\r\n        // If desired, validate the controller before returning the media session\r\n        return mediaSession;\r\n    }\r\n\r\n    // Create your Player and MediaSession in the onCreate lifecycle event\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n\r\n        // Create the player and the mediasession\r\n        ExoPlayer player = new ExoPlayer.Builder(this).build();\r\n        mediaSession = new MediaSession.Builder(this, player).build();\r\n\r\n        // Build the media item.\r\n        Uri mp3 = Uri.parse(&quot;android.resource://myapp/raw/mysoundtoplay&quot;);\r\n        MediaItem mediaItem = MediaItem.fromUri(mp3);\r\n        // Set the media item to be played.\r\n        player.setMediaItem(mediaItem);\r\n        // loop mode\r\n        player.setRepeatMode(player.REPEAT_MODE_ALL);\r\n        // Prepare the player.\r\n        player.prepare();\r\n        // Play\r\n        player.setPlayWhenReady(true);\r\n\r\n        // CALL MY NEW CLASS TO CREATE NOTIFICATION\r\n        Context context = getApplicationContext(); // context must be passed to class\r\n        setMediaNotificationProvider(new MyMediaNotificationProvider(context));\r\n\r\n    }\r\n\r\n    // Remember to release the player and media session in onDestroy\r\n    @Override\r\n    public void onDestroy() {\r\n        mediaSession.getPlayer().release();\r\n        mediaSession.release();\r\n        mediaSession = null;\r\n        super.onDestroy();\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe app is doing fine (sound is playing) and the notification is visible\r\n\r\nThe [androidx migration guide](https://developer.android.com/guide/topics/media/media3/getting-started/migration-guide) says &quot;An app can customize the notification by setting a custom MediaNotification.Provider in onCreate() that replaces the DefaultMediaNotificationProvider. The MediaLibraryService then takes care of starting the service in the foreground as required.\r\nBy overriding MediaLibraryService.updateNotification() an app can further take full ownership of posting a notification and starting/stopping the service in the foreground as required.&quot;\r\n\r\nAnyone can help me customizing the notification (text, color, icon...) ?\r\n\r\nThanks","title":"How to modify the auto generated media3 notification ? (java)","body":"<p>I build an exoplayer with Media3 1.0.0-rc01 with a mediasession service, like describe in <a href=\"https://developer.android.com/guide/topics/media/session/mediasessionservice\" rel=\"nofollow noreferrer\">developer guide</a></p>\n<p>It's generated a media notification automatically and i want to change colors (text, background) and icon (and more).</p>\n<p>The guide says : &quot;To provide a custom notification, create a MediaNotification.Provider with DefaultMediaNotificationProvider.Builder or by creating a custom implementation of the provider interface. Add your provider to your MediaSession with setMediaNotificationProvider.&quot;</p>\n<p>So i created a new class for the provider :</p>\n<pre><code>package myapp;\n\nimport android.content.Context;\nimport android.os.Bundle;\nimport androidx.media3.common.util.UnstableApi;\nimport androidx.media3.session.CommandButton;\nimport androidx.media3.session.DefaultMediaNotificationProvider;\nimport androidx.media3.session.MediaNotification;\nimport androidx.media3.session.MediaSession;\nimport com.google.common.collect.ImmutableList;\n\n@UnstableApi\npublic class MyMediaNotificationProvider implements MediaNotification.Provider {\n\n    private Context context;\n    public MyMediaNotificationProvider(Context context) {\n        this.context = context;\n    }\n\n    @Override\n    public MediaNotification createNotification(\n            MediaSession mediaSession,\n            ImmutableList&lt;CommandButton&gt; customLayout,\n            MediaNotification.ActionFactory actionFactory,\n            Callback onNotificationChangedCallback) {\n\n        // Create the notification\n        return new DefaultMediaNotificationProvider(context).createNotification(\n                mediaSession,\n                customLayout,\n                actionFactory,\n                onNotificationChangedCallback);\n    }\n\n    @Override\n    public boolean handleCustomCommand(\n            MediaSession session,\n            String action,\n            Bundle extras) {\n        return false;\n    }\n\n}\n</code></pre>\n<p>And I added the <code>setMediaNotificationProvider(new MyMediaNotificationProvider());</code> in my PlaybackService class, to call the new created class above :</p>\n<pre><code>package myapp;\n\nimport android.net.Uri;\nimport androidx.media3.common.MediaItem;\nimport androidx.media3.common.util.UnstableApi;\nimport androidx.media3.exoplayer.ExoPlayer;\nimport androidx.media3.session.MediaSession;\nimport androidx.media3.session.MediaSessionService;\n\n@UnstableApi public class PlaybackService extends MediaSessionService {\n    private MediaSession mediaSession = null;\n\n    @Override\n    public MediaSession onGetSession(MediaSession.ControllerInfo controllerInfo) {\n        // If desired, validate the controller before returning the media session\n        return mediaSession;\n    }\n\n    // Create your Player and MediaSession in the onCreate lifecycle event\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        // Create the player and the mediasession\n        ExoPlayer player = new ExoPlayer.Builder(this).build();\n        mediaSession = new MediaSession.Builder(this, player).build();\n\n        // Build the media item.\n        Uri mp3 = Uri.parse(&quot;android.resource://myapp/raw/mysoundtoplay&quot;);\n        MediaItem mediaItem = MediaItem.fromUri(mp3);\n        // Set the media item to be played.\n        player.setMediaItem(mediaItem);\n        // loop mode\n        player.setRepeatMode(player.REPEAT_MODE_ALL);\n        // Prepare the player.\n        player.prepare();\n        // Play\n        player.setPlayWhenReady(true);\n\n        // CALL MY NEW CLASS TO CREATE NOTIFICATION\n        Context context = getApplicationContext(); // context must be passed to class\n        setMediaNotificationProvider(new MyMediaNotificationProvider(context));\n\n    }\n\n    // Remember to release the player and media session in onDestroy\n    @Override\n    public void onDestroy() {\n        mediaSession.getPlayer().release();\n        mediaSession.release();\n        mediaSession = null;\n        super.onDestroy();\n    }\n}\n\n</code></pre>\n<p>The app is doing fine (sound is playing) and the notification is visible</p>\n<p>The <a href=\"https://developer.android.com/guide/topics/media/media3/getting-started/migration-guide\" rel=\"nofollow noreferrer\">androidx migration guide</a> says &quot;An app can customize the notification by setting a custom MediaNotification.Provider in onCreate() that replaces the DefaultMediaNotificationProvider. The MediaLibraryService then takes care of starting the service in the foreground as required.\nBy overriding MediaLibraryService.updateNotification() an app can further take full ownership of posting a notification and starting/stopping the service in the foreground as required.&quot;</p>\n<p>Anyone can help me customizing the notification (text, color, icon...) ?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","rest","dependency-injection","dependency-inversion"],"answers":[{"comments":[{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1697572311,"post_id":77311808,"comment_id":136296021,"body_markdown":"and the answer of your question is YES","body":"and the answer of your question is YES"},{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1697654460,"post_id":77311808,"comment_id":136308487,"body_markdown":"Very good explanation! But why do you say that Package A is abstraction? Package a contains the Service interface but also the class Controller. So how could package A be abstraction if it contains a class Controller? Thank you!","body":"Very good explanation! But why do you say that Package A is abstraction? Package a contains the Service interface but also the class Controller. So how could package A be abstraction if it contains a class Controller? Thank you!"},{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1697707079,"post_id":77311808,"comment_id":136314585,"body_markdown":"Hi elvis, \nI put them into one package just to make it clear how we can reverse the dependency direction in 180 degrees, in real scenario, you will put them in separate logical units","body":"Hi elvis,  I put them into one package just to make it clear how we can reverse the dependency direction in 180 degrees, in real scenario, you will put them in separate logical units"}],"tags":[],"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697571501,"creation_date":1697571501,"answer_id":77311808,"question_id":77311301,"body_markdown":"Just Draw on the paper and you will get the idea\r\n\r\n1.lets say you put the controller and Service in the package A, and you put the ServiceImpl in package B, in this case package B depends on package A, since service Impl refers to Service, and Service is in package A.\r\n\r\nUsing injection you are able to have service impl object in the controller but notice that controller does not know about impl(A does not know about B)\r\n\r\n2.if there was no injection, the only way the controller could have service impl object is by referring to the impl class(in this case A knows about B which is bad )\r\n\r\nso if we say that Package A is abstraction and package B is detail ,in the 1 point  B depends on A (which is good)which means that detail depends on abstraction\r\n\r\nBut in the second point, A knows about B which means Abstraction depends on detail(not good)\r\n\r\nSo we achieved dependency inversion using injection\r\n\r\n","title":"Does using Service interface in Spring Boot REST Controller represent Dependency Inversion principle?","body":"<p>Just Draw on the paper and you will get the idea</p>\n<p>1.lets say you put the controller and Service in the package A, and you put the ServiceImpl in package B, in this case package B depends on package A, since service Impl refers to Service, and Service is in package A.</p>\n<p>Using injection you are able to have service impl object in the controller but notice that controller does not know about impl(A does not know about B)</p>\n<p>2.if there was no injection, the only way the controller could have service impl object is by referring to the impl class(in this case A knows about B which is bad )</p>\n<p>so if we say that Package A is abstraction and package B is detail ,in the 1 point  B depends on A (which is good)which means that detail depends on abstraction</p>\n<p>But in the second point, A knows about B which means Abstraction depends on detail(not good)</p>\n<p>So we achieved dependency inversion using injection</p>\n"},{"comments":[{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1697628118,"post_id":77311935,"comment_id":136303034,"body_markdown":"Thank you Alan! I have a question, can I say about EmployeeServiceImpl that is a low level module if it has also a dependency EmployeeDAO? Is it a low-level module for Controller and a high-level module for EmployeeDAO?","body":"Thank you Alan! I have a question, can I say about EmployeeServiceImpl that is a low level module if it has also a dependency EmployeeDAO? Is it a low-level module for Controller and a high-level module for EmployeeDAO?"},{"owner":{"account_id":4954,"reputation":4796,"user_id":7708,"accept_rate":81,"display_name":"Alan Krueger"},"score":0,"creation_date":1697739573,"post_id":77311935,"comment_id":136321070,"body_markdown":"@elvis higher/lower level is sometimes relative. Generally, something is higher level if it&#39;s using something lower-level to implement something. This is certainly true of the service versus the data-access layer, since the latter abstracts details about how the data is stored and the former uses that to implement behaviors on top of that. However, the controller isn&#39;t really a higher-level abstraction than the service since it&#39;s providing a REST interface for reaching that service abstraction.","body":"@elvis higher/lower level is sometimes relative. Generally, something is higher level if it&#39;s using something lower-level to implement something. This is certainly true of the service versus the data-access layer, since the latter abstracts details about how the data is stored and the former uses that to implement behaviors on top of that. However, the controller isn&#39;t really a higher-level abstraction than the service since it&#39;s providing a REST interface for reaching that service abstraction."}],"tags":[],"owner":{"account_id":4954,"reputation":4796,"user_id":7708,"accept_rate":81,"display_name":"Alan Krueger"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697572917,"creation_date":1697572917,"answer_id":77311935,"question_id":77311301,"body_markdown":"Related to the terminology and how the concepts interact, you might want to read https://stackoverflow.com/a/3912604/7708\r\n\r\nRelated to the `Employee` class, I think you may be overthinking it. You could conceivably make `Employee` an interface (an abstraction), putting its implementation into an `EmployeeImpl` class. However, this is probably _too much_ abstraction. It&#39;s just a data container and doesn&#39;t actually implement any logic to speak of, so there&#39;s no need to add that level of indirection to abstract away behavior. The annotations it contains declare _how_ it should interact with a data source but don&#39;t actually implement that behavior, relying on the framework to generate that logic for you.","title":"Does using Service interface in Spring Boot REST Controller represent Dependency Inversion principle?","body":"<p>Related to the terminology and how the concepts interact, you might want to read <a href=\"https://stackoverflow.com/a/3912604/7708\">https://stackoverflow.com/a/3912604/7708</a></p>\n<p>Related to the <code>Employee</code> class, I think you may be overthinking it. You could conceivably make <code>Employee</code> an interface (an abstraction), putting its implementation into an <code>EmployeeImpl</code> class. However, this is probably <em>too much</em> abstraction. It's just a data container and doesn't actually implement any logic to speak of, so there's no need to add that level of indirection to abstract away behavior. The annotations it contains declare <em>how</em> it should interact with a data source but don't actually implement that behavior, relying on the framework to generate that logic for you.</p>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77311808,"answer_count":2,"score":1,"last_activity_date":1697572917,"creation_date":1697566041,"question_id":77311301,"body_markdown":"I&#39;m learning about Dependency Inversion principle in Java, and the definition is: \r\n1) High-level modules should not depend upon low-level modules; they should depend on abstractions. 2) Abstractions should not depend upon details; details should depend upon abstractions.\r\n\r\nAnd I have a piece of code from a REST API implementation and I want to know if this code represents an example of Dependency Inversion.\r\n\r\nRest Controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class EmployeeRestController {\r\n    \tprivate EmployeeService employeeService;\r\n    \t\r\n    \tpublic EmployeeRestController(EmployeeService employeeService) {\r\n    \t\tthis.employeeService = employeeService;\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/employees&quot;)\r\n    \tpublic List&lt;Employee&gt; findAll() {\r\n    \t\treturn employeeService.findAll();\r\n    \t}\r\n    ...\r\n    }\r\n\r\nService Interface:\r\n\r\n    public interface EmployeeService {\r\n    \tpublic List&lt;Employee&gt; findAll();\r\n    \t\r\n    \tpublic Employee findById(int theId);\r\n    \t\r\n    ...\r\n    }\r\n\r\nService Implementation:\r\n\r\n    @Service\r\n    public class EmployeeServiceImpl implements EmployeeService {\r\n    \tprivate EmployeeDAO employeeDAO;\r\n    \r\n    \t@Autowired\r\n    \tpublic EmployeeServiceImpl(EmployeeDAO employeeDAO) {\r\n    \t\tthis.employeeDAO = employeeDAO;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \t@Transactional\r\n    \tpublic List&lt;Employee&gt; findAll() {\r\n    \t\treturn employeeDAO.findAll();\r\n    \t}\r\n        ...\r\n    }\r\n\r\nEntity:\r\n\r\n    @Entity\r\n    @Table(name=&quot;employee&quot;)\r\n    public class Employee {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \t@Column(name=&quot;id&quot;)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name=&quot;first_name&quot;)\r\n    \tprivate String firstName;\r\n        ...\r\n    }\r\n\r\n\r\nSo, I want to ask you if this code represents an example of Dependency Inversion principle, or it represents just the Dependency Injection design pattern? \r\n\r\nFor me, the controller class represents the high-level module and the service implementation represents the low-level module, and the high-level module depends on the abstractions because there is the `EmployeeService` interface used in the `EmployeeRestController`. And also the low-level module depends on abstractions because `EmployeeServiceImpl implements EmployeeService`. Is this true?\r\n\r\nBut what is the difference between Dependency Inversion and Dependency Injection in this example? The fact that I declare `private EmployeeService employeeService;` in the `EmployeeRestController` represents Dependency Inversion. So if I declare directly the class `EmployeeServiceImpl` in the `EmployeeRestController` I don&#39;t have Dependency Inversion principle. And the fact that I inject the implementation of the `EmployeeService` at runtime in the constructor represents Dependency Injection. Is that correctly? \r\n\r\nBut in the Service interface I&#39;m using the Employee which is a class. So it means that in that case abstraction depends on details. So the second part of the Dependency Inversion principle is not satisfied. And because of that I don&#39;t have Dependency Inversion. Please tell me if it&#39;s true? Thank you! \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Does using Service interface in Spring Boot REST Controller represent Dependency Inversion principle?","body":"<p>I'm learning about Dependency Inversion principle in Java, and the definition is:</p>\n<ol>\n<li>High-level modules should not depend upon low-level modules; they should depend on abstractions. 2) Abstractions should not depend upon details; details should depend upon abstractions.</li>\n</ol>\n<p>And I have a piece of code from a REST API implementation and I want to know if this code represents an example of Dependency Inversion.</p>\n<p>Rest Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class EmployeeRestController {\n    private EmployeeService employeeService;\n    \n    public EmployeeRestController(EmployeeService employeeService) {\n        this.employeeService = employeeService;\n    }\n\n    @GetMapping(&quot;/employees&quot;)\n    public List&lt;Employee&gt; findAll() {\n        return employeeService.findAll();\n    }\n...\n}\n</code></pre>\n<p>Service Interface:</p>\n<pre><code>public interface EmployeeService {\n    public List&lt;Employee&gt; findAll();\n    \n    public Employee findById(int theId);\n    \n...\n}\n</code></pre>\n<p>Service Implementation:</p>\n<pre><code>@Service\npublic class EmployeeServiceImpl implements EmployeeService {\n    private EmployeeDAO employeeDAO;\n\n    @Autowired\n    public EmployeeServiceImpl(EmployeeDAO employeeDAO) {\n        this.employeeDAO = employeeDAO;\n    }\n\n    @Override\n    @Transactional\n    public List&lt;Employee&gt; findAll() {\n        return employeeDAO.findAll();\n    }\n    ...\n}\n</code></pre>\n<p>Entity:</p>\n<pre><code>@Entity\n@Table(name=&quot;employee&quot;)\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private int id;\n    \n    @Column(name=&quot;first_name&quot;)\n    private String firstName;\n    ...\n}\n</code></pre>\n<p>So, I want to ask you if this code represents an example of Dependency Inversion principle, or it represents just the Dependency Injection design pattern?</p>\n<p>For me, the controller class represents the high-level module and the service implementation represents the low-level module, and the high-level module depends on the abstractions because there is the <code>EmployeeService</code> interface used in the <code>EmployeeRestController</code>. And also the low-level module depends on abstractions because <code>EmployeeServiceImpl implements EmployeeService</code>. Is this true?</p>\n<p>But what is the difference between Dependency Inversion and Dependency Injection in this example? The fact that I declare <code>private EmployeeService employeeService;</code> in the <code>EmployeeRestController</code> represents Dependency Inversion. So if I declare directly the class <code>EmployeeServiceImpl</code> in the <code>EmployeeRestController</code> I don't have Dependency Inversion principle. And the fact that I inject the implementation of the <code>EmployeeService</code> at runtime in the constructor represents Dependency Injection. Is that correctly?</p>\n<p>But in the Service interface I'm using the Employee which is a class. So it means that in that case abstraction depends on details. So the second part of the Dependency Inversion principle is not satisfied. And because of that I don't have Dependency Inversion. Please tell me if it's true? Thank you!</p>\n"},{"tags":["java","amazon-s3","aws-sdk"],"answers":[{"tags":[],"owner":{"account_id":22863,"reputation":57898,"user_id":56829,"accept_rate":82,"display_name":"Omer Bokhari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697572824,"creation_date":1697572824,"answer_id":77311924,"question_id":74126487,"body_markdown":"The [uploadDirectory][1] method has an overload that accepts an `ObjectTaggingProvider` callback:\r\n\r\n&gt; taggingProvider - A callback of type ObjectTaggingProvider which is used to provide the tags for each file being uploaded.\r\n\r\nThe following example would apply a list of tags to every file being uploaded:\r\n\r\n    MultipleFileUpload upload = transferManager.uploadDirectory(&quot;myBucket&quot;, &quot;myKey&quot;, new File(&quot;/path/to/dir&quot;), true, null, context -&gt; new ObjectTagging(List.of(new Tag(&quot;key&quot;, &quot;value&quot;))));\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html#uploadDirectory-java.lang.String-java.lang.String-java.io.File-boolean-com.amazonaws.services.s3.transfer.ObjectMetadataProvider-com.amazonaws.services.s3.transfer.ObjectTaggingProvider-","title":"Is there any way to upload directory with Tags for all the files using Multiple File Upload Interface to s3 Bucket - aws sdk","body":"<p>The <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html#uploadDirectory-java.lang.String-java.lang.String-java.io.File-boolean-com.amazonaws.services.s3.transfer.ObjectMetadataProvider-com.amazonaws.services.s3.transfer.ObjectTaggingProvider-\" rel=\"nofollow noreferrer\">uploadDirectory</a> method has an overload that accepts an <code>ObjectTaggingProvider</code> callback:</p>\n<blockquote>\n<p>taggingProvider - A callback of type ObjectTaggingProvider which is used to provide the tags for each file being uploaded.</p>\n</blockquote>\n<p>The following example would apply a list of tags to every file being uploaded:</p>\n<pre><code>MultipleFileUpload upload = transferManager.uploadDirectory(&quot;myBucket&quot;, &quot;myKey&quot;, new File(&quot;/path/to/dir&quot;), true, null, context -&gt; new ObjectTagging(List.of(new Tag(&quot;key&quot;, &quot;value&quot;))));\n</code></pre>\n"}],"owner":{"account_id":11873776,"reputation":23,"user_id":8689310,"display_name":"Nitin Alety"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697572824,"creation_date":1666187121,"question_id":74126487,"body_markdown":"Is there any way to upload a directory with Tags for all the files using MultipleFileUpload Interface - AWS SDK\r\n\r\nI am able to upload the directory with all the files to s3 bucket,but not able to find proper references to add tags to all the sub-files inside the directory while uploading it to s3 bucket\r\n\r\nCode :\r\n\r\n    TransferManager xfer_mgr = TransferManagerBuilder.standard().withS3Client(getAmazonS3Client()).build();\r\n    \r\n                 MultipleFileUpload xfer = xfer_mgr.uploadDirectory(getStorageName(),\r\n                         trgtFolder, srcfolder, true);\r\n           \r\n                 XferMgrProgress.showTransferProgress(xfer);\r\n             \r\n                 XferMgrProgress.waitForCompletion(xfer);\r\n\r\nany reference for adding the tags for all sub files in the directory using MultipleFileUpload upload directory would be help","title":"Is there any way to upload directory with Tags for all the files using Multiple File Upload Interface to s3 Bucket - aws sdk","body":"<p>Is there any way to upload a directory with Tags for all the files using MultipleFileUpload Interface - AWS SDK</p>\n<p>I am able to upload the directory with all the files to s3 bucket,but not able to find proper references to add tags to all the sub-files inside the directory while uploading it to s3 bucket</p>\n<p>Code :</p>\n<pre><code>TransferManager xfer_mgr = TransferManagerBuilder.standard().withS3Client(getAmazonS3Client()).build();\n\n             MultipleFileUpload xfer = xfer_mgr.uploadDirectory(getStorageName(),\n                     trgtFolder, srcfolder, true);\n       \n             XferMgrProgress.showTransferProgress(xfer);\n         \n             XferMgrProgress.waitForCompletion(xfer);\n</code></pre>\n<p>any reference for adding the tags for all sub files in the directory using MultipleFileUpload upload directory would be help</p>\n"},{"tags":["java","maven","intellij-idea","groovy","gradle"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1443763777,"post_id":32900912,"comment_id":53630643,"body_markdown":"Did you look at [org.gradle.api.internal.tasks.compile.ApiGroovyCompiler](https://github.com/gradle/gradle/blob/master/subprojects/language-groovy/src/main/java/org/gradle/api/internal/tasks/compile/ApiGroovyCompiler.java)?","body":"Did you look at <a href=\"https://github.com/gradle/gradle/blob/master/subprojects/language-groovy/src/main/java/org/gradle/api/internal/tasks/compile/ApiGroovyCompiler.java\" rel=\"nofollow noreferrer\">org.gradle.api.internal.tasks.compile.ApiGroovyCompiler</a>?"},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":2,"creation_date":1443779432,"post_id":32900912,"comment_id":53637522,"body_markdown":"have you tried with a non-ancient version of gradle?","body":"have you tried with a non-ancient version of gradle?"},{"owner":{"account_id":1647390,"reputation":5075,"user_id":1518668,"accept_rate":45,"display_name":"sonoerin"},"score":0,"creation_date":1443796201,"post_id":32900912,"comment_id":53646935,"body_markdown":"I upgraded to gradle 2.6 and I still get same error.  I also looked at ApiGroovyCompiler but didnt&#39; see anything relevant to this.  Granted, I can&#39;t say that I totally understood everything going in there either.","body":"I upgraded to gradle 2.6 and I still get same error.  I also looked at ApiGroovyCompiler but didnt&#39; see anything relevant to this.  Granted, I can&#39;t say that I totally understood everything going in there either."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1443797054,"post_id":32900912,"comment_id":53647546,"body_markdown":"Does the error go away if you temporarily remove the test class in question?","body":"Does the error go away if you temporarily remove the test class in question?"},{"owner":{"account_id":1647390,"reputation":5075,"user_id":1518668,"accept_rate":45,"display_name":"sonoerin"},"score":0,"creation_date":1443804554,"post_id":32900912,"comment_id":53651926,"body_markdown":"I don&#39;t get it...that test hadn&#39;t been touched in months but when I deleted it, that error no longer occurred.  What could cause that?","body":"I don&#39;t get it...that test hadn&#39;t been touched in months but when I deleted it, that error no longer occurred.  What could cause that?"},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1443812164,"post_id":32900912,"comment_id":53655796,"body_markdown":"Because you changed something else?","body":"Because you changed something else?"},{"owner":{"account_id":1647390,"reputation":5075,"user_id":1518668,"accept_rate":45,"display_name":"sonoerin"},"score":0,"creation_date":1443818822,"post_id":32900912,"comment_id":53659061,"body_markdown":"funny, I should have seen that one coming :)  But no, the only change was the addition of two jar in /lib.  Anyway....I don&#39;t know who to give the answer to tim_yates or Dave Newton.  I feel both answers were helpful.","body":"funny, I should have seen that one coming :)  But no, the only change was the addition of two jar in /lib.  Anyway....I don&#39;t know who to give the answer to tim_yates or Dave Newton.  I feel both answers were helpful."}],"answers":[{"comments":[{"owner":{"account_id":1810034,"reputation":1794,"user_id":1646298,"accept_rate":82,"display_name":"ZZ 5"},"score":2,"creation_date":1580039233,"post_id":53509014,"comment_id":105959822,"body_markdown":"I use maven in my project, so doing `mvn clean` did the job","body":"I use maven in my project, so doing <code>mvn clean</code> did the job"}],"tags":[],"owner":{"account_id":1230894,"reputation":2364,"user_id":1195507,"accept_rate":100,"display_name":"rvazquezglez"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1686328021,"creation_date":1543356739,"answer_id":53509014,"question_id":32900912,"body_markdown":"I had this `BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;...&#39;` issue today and upgrading gradle (as mentioned in a comment) didn&#39;t work. `gradle clean` was not working either.\r\n\r\nWhat worked for me was cleaning the gradle cache: \r\n\r\n`rm -rf $HOME/.gradle/caches/` \r\n\r\nand project gradle directory \r\n\r\n`rm -rf $PROJECT/.gradle/caches/ &amp;&amp; rm -rf $PROJECT/build/`\r\n\r\nRelated https://stackoverflow.com/questions/13565082/how-can-i-force-gradle-to-redownload-dependencies/13567793#13567793","title":"BUG! exception in phase &#39;semantic analysis&#39;","body":"<p>I had this <code>BUG! exception in phase 'semantic analysis' in source unit '...'</code> issue today and upgrading gradle (as mentioned in a comment) didn't work. <code>gradle clean</code> was not working either.</p>\n<p>What worked for me was cleaning the gradle cache:</p>\n<p><code>rm -rf $HOME/.gradle/caches/</code></p>\n<p>and project gradle directory</p>\n<p><code>rm -rf $PROJECT/.gradle/caches/ &amp;&amp; rm -rf $PROJECT/build/</code></p>\n<p>Related <a href=\"https://stackoverflow.com/questions/13565082/how-can-i-force-gradle-to-redownload-dependencies/13567793#13567793\">How can I force gradle to redownload dependencies?</a></p>\n"},{"comments":[{"owner":{"account_id":6649703,"reputation":9393,"user_id":5132337,"accept_rate":75,"display_name":"Siraj Alam"},"score":1,"creation_date":1571892941,"post_id":55596316,"comment_id":103391692,"body_markdown":"Can you specify the steps to go back to Java 1.8","body":"Can you specify the steps to go back to Java 1.8"},{"owner":{"account_id":2702401,"reputation":3216,"user_id":2332852,"display_name":"BalRog"},"score":0,"creation_date":1572008990,"post_id":55596316,"comment_id":103437328,"body_markdown":"On the Mac I simply changed the JAVA_HOME environment variable to point at the still-installed 1.8 JDK. I&#39;ve moved on to new client since then and don&#39;t have that Mac anymore so I can&#39;t really give you exact step-by-step instructions.","body":"On the Mac I simply changed the JAVA_HOME environment variable to point at the still-installed 1.8 JDK. I&#39;ve moved on to new client since then and don&#39;t have that Mac anymore so I can&#39;t really give you exact step-by-step instructions."}],"tags":[],"owner":{"account_id":2702401,"reputation":3216,"user_id":2332852,"display_name":"BalRog"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1554823657,"creation_date":1554823657,"answer_id":55596316,"question_id":32900912,"body_markdown":"I&#39;m seeing the same error only when I use the Java 11 JVM:\r\n\r\n```\r\n$ gradle -v\r\n\r\n------------------------------------------------------------\r\nGradle 5.2.1\r\n------------------------------------------------------------\r\n\r\nBuild time:   2019-02-08 19:00:10 UTC\r\nRevision:     f02764e074c32ee8851a4e1877dd1fea8ffb7183\r\n\r\nKotlin DSL:   1.1.3\r\nKotlin:       1.3.20\r\nGroovy:       2.5.4\r\nAnt:          Apache Ant(TM) version 1.9.13 compiled on July 10 2018\r\nJVM:          11 (Oracle Corporation 11+28)\r\nOS:           Mac OS X 10.14.3 x86_64\r\n```\r\n\r\nThe error goes away when I drop back to Java 1.8 (I changed JAVA_HOME):\r\n\r\n```\r\n$ gradle -v\r\n\r\n------------------------------------------------------------\r\nGradle 5.2.1\r\n------------------------------------------------------------\r\n\r\nBuild time:   2019-02-08 19:00:10 UTC\r\nRevision:     f02764e074c32ee8851a4e1877dd1fea8ffb7183\r\n\r\nKotlin DSL:   1.1.3\r\nKotlin:       1.3.20\r\nGroovy:       2.5.4\r\nAnt:          Apache Ant(TM) version 1.9.13 compiled on July 10 2018\r\nJVM:          1.8.0_191 (Oracle Corporation 25.191-b12)\r\nOS:           Mac OS X 10.14.3 x86_64\r\n```\r\n","title":"BUG! exception in phase &#39;semantic analysis&#39;","body":"<p>I'm seeing the same error only when I use the Java 11 JVM:</p>\n\n<pre><code>$ gradle -v\n\n------------------------------------------------------------\nGradle 5.2.1\n------------------------------------------------------------\n\nBuild time:   2019-02-08 19:00:10 UTC\nRevision:     f02764e074c32ee8851a4e1877dd1fea8ffb7183\n\nKotlin DSL:   1.1.3\nKotlin:       1.3.20\nGroovy:       2.5.4\nAnt:          Apache Ant(TM) version 1.9.13 compiled on July 10 2018\nJVM:          11 (Oracle Corporation 11+28)\nOS:           Mac OS X 10.14.3 x86_64\n</code></pre>\n\n<p>The error goes away when I drop back to Java 1.8 (I changed JAVA_HOME):</p>\n\n<pre><code>$ gradle -v\n\n------------------------------------------------------------\nGradle 5.2.1\n------------------------------------------------------------\n\nBuild time:   2019-02-08 19:00:10 UTC\nRevision:     f02764e074c32ee8851a4e1877dd1fea8ffb7183\n\nKotlin DSL:   1.1.3\nKotlin:       1.3.20\nGroovy:       2.5.4\nAnt:          Apache Ant(TM) version 1.9.13 compiled on July 10 2018\nJVM:          1.8.0_191 (Oracle Corporation 25.191-b12)\nOS:           Mac OS X 10.14.3 x86_64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93940,"reputation":5106,"user_id":256770,"accept_rate":31,"display_name":"Farrukh Najmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570818559,"creation_date":1570818559,"answer_id":58346704,"question_id":32900912,"body_markdown":"This happened to me when I upgraded my project with groovy Spock tests from JDK 8 to JDK 11.\r\n\r\nThe fix was to upgrade spock version to `1.3-groovy-2.5` and groovy version to `2.5.3` for my gradle dependencies.\r\n\r\nIn addition, in my case, I had to add implementation of jaxws and jaxb to my dependencies as they have been removed from JDK 11:\r\n\r\n```\r\n    implementation &#39;com.sun.xml.ws:jaxws-ri:2.3.2&#39;\r\n    implementation &#39;com.sun.xml.bind:jaxb-impl:2.4.0-b180830.0438&#39;\r\n```","title":"BUG! exception in phase &#39;semantic analysis&#39;","body":"<p>This happened to me when I upgraded my project with groovy Spock tests from JDK 8 to JDK 11.</p>\n\n<p>The fix was to upgrade spock version to <code>1.3-groovy-2.5</code> and groovy version to <code>2.5.3</code> for my gradle dependencies.</p>\n\n<p>In addition, in my case, I had to add implementation of jaxws and jaxb to my dependencies as they have been removed from JDK 11:</p>\n\n<pre><code>    implementation 'com.sun.xml.ws:jaxws-ri:2.3.2'\n    implementation 'com.sun.xml.bind:jaxb-impl:2.4.0-b180830.0438'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7855527,"reputation":620,"user_id":5937516,"accept_rate":71,"display_name":"antongarakh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581344676,"creation_date":1581344676,"answer_id":60152444,"question_id":32900912,"body_markdown":"In my case the reason was IntellijIdea variable generation.\r\n\r\nExample:\r\nIdea generated `List&lt;@NotNull UUID&gt; locationIds` instead of `List&lt;UUID&gt; locationIds`\r\n\r\nGroovy compilation failed to process this `@NotNull` annotation inside generic brackets","title":"BUG! exception in phase &#39;semantic analysis&#39;","body":"<p>In my case the reason was IntellijIdea variable generation.</p>\n\n<p>Example:\nIdea generated <code>List&lt;@NotNull UUID&gt; locationIds</code> instead of <code>List&lt;UUID&gt; locationIds</code></p>\n\n<p>Groovy compilation failed to process this <code>@NotNull</code> annotation inside generic brackets</p>\n"},{"comments":[{"owner":{"account_id":905136,"reputation":3777,"user_id":940182,"accept_rate":70,"display_name":"oleksa"},"score":1,"creation_date":1632773139,"post_id":63257217,"comment_id":122579309,"body_markdown":"I had to set gradle version to 7.2 to use it with the jdk 16.0.2 (inside the `gradle-wrapper.properties`)","body":"I had to set gradle version to 7.2 to use it with the jdk 16.0.2 (inside the <code>gradle-wrapper.properties</code>)"}],"tags":[],"owner":{"display_name":"user11074381"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1596591446,"creation_date":1596591446,"answer_id":63257217,"question_id":32900912,"body_markdown":"I think this is cause by java version is high, or we can say gradle version is too low.\r\n\r\nso I just use higher version Gradle. I think it&#39;s better than change JDK version to 1.8.\r\n\r\nMy config(I already have gradle 6.5, and I think maybe 6.x will satisfy):\r\n\r\n**just change the gradle version to 6.5 in `android\\gradle\\wrapper\\gradle-wrapper.properties`**","title":"BUG! exception in phase &#39;semantic analysis&#39;","body":"<p>I think this is cause by java version is high, or we can say gradle version is too low.</p>\n<p>so I just use higher version Gradle. I think it's better than change JDK version to 1.8.</p>\n<p>My config(I already have gradle 6.5, and I think maybe 6.x will satisfy):</p>\n<p><strong>just change the gradle version to 6.5 in <code>android\\gradle\\wrapper\\gradle-wrapper.properties</code></strong></p>\n"},{"comments":[{"owner":{"account_id":6157486,"reputation":581,"user_id":7772785,"display_name":"Sebastian K."},"score":1,"creation_date":1607977967,"post_id":65185635,"comment_id":115436619,"body_markdown":"lol how did you find out, that this property is responsible for the issue? Without you I&#39;d still be stuck for the next few weeks.....","body":"lol how did you find out, that this property is responsible for the issue? Without you I&#39;d still be stuck for the next few weeks....."},{"owner":{"account_id":2093941,"reputation":384,"user_id":1863130,"display_name":"ruizpauker"},"score":0,"creation_date":1609775716,"post_id":65185635,"comment_id":115921016,"body_markdown":"for the record, the file is: `.\\hybris\\config\\local.properties`.","body":"for the record, the file is: <code>.\\hybris\\config\\local.properties</code>."}],"tags":[],"owner":{"account_id":6425683,"reputation":171,"user_id":4980928,"display_name":"Gokul Pandey"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1607358827,"creation_date":1607358827,"answer_id":65185635,"question_id":32900912,"body_markdown":"Encountered the same problem while migrating SAP hybris from version 6.6 (java 8) to 2005 (java 11). The problem was encountered while ant clean all and recipe installation.\r\n\r\nError:\r\n\r\n    hybris/bin/modules/text-field-configurator-template/textfieldconfiguratortemplateocctests/testsrc/de/hybris/platform/textfieldconfiguratortemplateocctests/controllers/ProductTextfieldConfiguratorControllerTest.groovy&#39; null\r\n \r\n\r\n**Resolution:** Solved the problem by commenting/removing below property from config/local.properties\r\n\r\n    build.parallel=true","title":"BUG! exception in phase &#39;semantic analysis&#39;","body":"<p>Encountered the same problem while migrating SAP hybris from version 6.6 (java 8) to 2005 (java 11). The problem was encountered while ant clean all and recipe installation.</p>\n<p>Error:</p>\n<pre><code>hybris/bin/modules/text-field-configurator-template/textfieldconfiguratortemplateocctests/testsrc/de/hybris/platform/textfieldconfiguratortemplateocctests/controllers/ProductTextfieldConfiguratorControllerTest.groovy' null\n</code></pre>\n<p><strong>Resolution:</strong> Solved the problem by commenting/removing below property from config/local.properties</p>\n<pre><code>build.parallel=true\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1626664,"reputation":34767,"user_id":1502079,"accept_rate":56,"display_name":"vovahost"},"score":1,"creation_date":1634837076,"post_id":68163451,"comment_id":123140587,"body_markdown":"Or you can also downgrade your Java version if upgrading Gradle is not an option.","body":"Or you can also downgrade your Java version if upgrading Gradle is not an option."}],"tags":[],"owner":{"account_id":11401751,"reputation":3275,"user_id":8358501,"display_name":"Nils Reichardt"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1624883705,"creation_date":1624883705,"answer_id":68163451,"question_id":32900912,"body_markdown":"My issue was that I used Java 16 and Gradle 6.5. But Gradle 6.5 does not support Java 16. I needed to upgrade to 7.0. I did this by changing `gradle/wrapper/gradle-wrapper.properties` in this line:\r\n```properties\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.0-bin.zip\r\n```","title":"BUG! exception in phase &#39;semantic analysis&#39;","body":"<p>My issue was that I used Java 16 and Gradle 6.5. But Gradle 6.5 does not support Java 16. I needed to upgrade to 7.0. I did this by changing <code>gradle/wrapper/gradle-wrapper.properties</code> in this line:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.0-bin.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10799157,"reputation":331,"user_id":7943785,"display_name":"legoffmael"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627436806,"creation_date":1627436806,"answer_id":68553429,"question_id":32900912,"body_markdown":"You can check if your Gradle version is compatible with your Java version\r\n\r\n[Gradle compatibility](https://docs.gradle.org/7.1.1/userguide/compatibility.html\r\n)\r\n\r\nI upgraded my Gradle version to the latest compatible with my Java version and the error was gone.\r\n","title":"BUG! exception in phase &#39;semantic analysis&#39;","body":"<p>You can check if your Gradle version is compatible with your Java version</p>\n<p><a href=\"https://docs.gradle.org/7.1.1/userguide/compatibility.html\" rel=\"nofollow noreferrer\">Gradle compatibility</a></p>\n<p>I upgraded my Gradle version to the latest compatible with my Java version and the error was gone.</p>\n"},{"tags":[],"owner":{"account_id":14378339,"reputation":1,"user_id":10386258,"display_name":"dalakoti07"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633583230,"creation_date":1633583230,"answer_id":69475734,"question_id":32900912,"body_markdown":"Make sure that build:gradle version in build.gradle and distributionUrl in gradle-wrapper.properties are compatible","title":"BUG! exception in phase &#39;semantic analysis&#39;","body":"<p>Make sure that build:gradle version in build.gradle and distributionUrl in gradle-wrapper.properties are compatible</p>\n"},{"tags":[],"owner":{"account_id":171579,"reputation":14763,"user_id":399105,"display_name":"bmaupin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697572802,"creation_date":1697572802,"answer_id":77311923,"question_id":32900912,"body_markdown":"I ran into this upgrading Java on a Grails + Groovy project and I had to do two things:\r\n\r\n1. Upgrade Grails to a version compatible with the JDK version I&#39;m using. Thankfully they provide a nice [compatibility matrix](https://docs.gradle.org/current/userguide/compatibility.html)\r\n\r\n1. Upgrade Groovy likewise. Groovy has a [matrix for the minimum version of Java required for each version of Groovy](https://groovy.apache.org/download.html#requirements), but doesn&#39;t seem to show the version of Groovy required for each version of Java.\r\n\r\n   In my case, I was using JDK 17 and I found this buried in a GitHub issue:\r\n\r\n   &gt; JDK 17 requires asm 9.1 and Groovy 3.0.8 is the first version to support it.\r\n\r\n\r\n   (https://github.com/grails/grails-core/issues/12152)","title":"BUG! exception in phase &#39;semantic analysis&#39;","body":"<p>I ran into this upgrading Java on a Grails + Groovy project and I had to do two things:</p>\n<ol>\n<li><p>Upgrade Grails to a version compatible with the JDK version I'm using. Thankfully they provide a nice <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">compatibility matrix</a></p>\n</li>\n<li><p>Upgrade Groovy likewise. Groovy has a <a href=\"https://groovy.apache.org/download.html#requirements\" rel=\"nofollow noreferrer\">matrix for the minimum version of Java required for each version of Groovy</a>, but doesn't seem to show the version of Groovy required for each version of Java.</p>\n<p>In my case, I was using JDK 17 and I found this buried in a GitHub issue:</p>\n<blockquote>\n<p>JDK 17 requires asm 9.1 and Groovy 3.0.8 is the first version to support it.</p>\n</blockquote>\n<p>(<a href=\"https://github.com/grails/grails-core/issues/12152\" rel=\"nofollow noreferrer\">https://github.com/grails/grails-core/issues/12152</a>)</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1647390,"reputation":5075,"user_id":1518668,"accept_rate":45,"display_name":"sonoerin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124765,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"answer_count":10,"score":59,"last_activity_date":1697572802,"creation_date":1443762805,"question_id":32900912,"body_markdown":"I have a 1.1.7 spring-boot app using Gradle 1.10 &amp; jdk1.8.  I use Groovy/Spock for testing It has two dependencies - jars build with Apache Maven 3.1.1 and jdk 1.8.  I build the jars and them copy them into the /lib directory.  Then I try and build with &quot;gradle clean build.\r\n\r\nHere is part of my gradle file:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;groovy&#39;\r\n    apply plugin: &#39;idea&#39;\r\n    apply plugin: &#39;spring-boot&#39;\r\n    apply plugin: &#39;jacoco&#39;\r\n    apply plugin: &#39;maven&#39;\r\n    \r\n    project.ext {\r\n        springBootVersion = &#39;1.1.7.RELEASE&#39;\r\n    }\r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    }\r\n    buildscript {\r\n        repositories {\r\n            flatDir {\r\n                dirs &quot;$rootProject.projectDir/libs&quot;\r\n            }\r\n            maven { url &#39;https://oss.sonatype.org/content/repositories/snapshots/&#39; }\r\n            maven { url &quot;http://repo.spring.io/libs-milestone&quot; }\r\n            maven { url &quot;http://repo.spring.io/libs-snapshot&quot; }\r\n            mavenLocal()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:1.2.5.RELEASE&quot;)\r\n      testCompile(&#39;org.spockframework:spock-core:1.0-groovy-2.0&#39;) {\r\n        exclude group: &#39;org.codehaus.groovy&#39;, module: &#39;groovy-all&#39;\r\n    }\r\n\r\n      testCompile(&#39;org.spockframework:spock-spring:1.0-groovy-2.0&#39;) {\r\n        exclude group: &#39;org.spockframework&#39;, module: &#39;spock-core&#39;\r\n        exclude group: &#39;org.spockframework&#39;, module: &#39;spring-beans&#39;\r\n        exclude group: &#39;org.spockframework&#39;, module: &#39;spring-test&#39;\r\n        exclude group: &#39;org.codehaus.groovy&#39;, module: &#39;groovy-all&#39;\r\n    }\r\n \r\n       testCompile(&quot;org.springframework.boot:spring-boot-starter-test:$springBootVersion&quot;)\r\n        testCompile(&#39;org.codehaus.groovy.modules.http-builder:http-builder:0.7+&#39;)\r\n        testCompile(&quot;junit:junit&quot;)\r\n        }\r\n    }\r\n    \r\n    jacocoTestReport {\r\n        group = &quot;Reporting&quot;\r\n        description = &quot;Generate Jacoco coverage reports after running tests.&quot;\r\n    }\r\n    \r\n    task wrapper(type: Wrapper) {\r\n        gradleVersion = &#39;1.11&#39;\r\n    }\r\n\r\nRegardless of building in from command line or IntelliJ I get the following error:\r\n\r\n    Executing org.gradle.api.internal.tasks.compile.ApiGroovyCompiler@5474aad4 in compiler daemon.\r\n    Exception executing org.gradle.api.internal.tasks.compile.ApiGroovyCompiler@5474aad4 in compiler daemon: BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;/Users/David/projects/.../controller/AboutControllerTest.groovy&#39; sun.reflect.annotation.TypeNotPresentExceptionProxy.\r\n    :compileTestGroovy FAILED\r\n\r\nHere is the stacktrace:\r\n\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:compileTestGroovy&#39;.\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\r\n            at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\r\n            at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\r\n            at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\r\n            at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)\r\n            at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n            at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185)\r\n            at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:62)\r\n            at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:50)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)\r\n            at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\r\n            at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n            at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\r\n            at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\r\n            at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\r\n            at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n            at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\r\n            at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:158)\r\n            at org.gradle.internal.Factories$1.create(Factories.java:22)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52)\r\n            at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:155)\r\n            at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:36)\r\n            at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:103)\r\n            at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:97)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)\r\n            at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:97)\r\n            at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:86)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:102)\r\n            at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\r\n            at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)\r\n            at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:77)\r\n            at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:47)\r\n            at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:51)\r\n            at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:28)\r\n            at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:43)\r\n            at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:170)\r\n            at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:237)\r\n            at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:210)\r\n            at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:35)\r\n            at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)\r\n            at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:206)\r\n            at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:169)\r\n            at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)\r\n            at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)\r\n            at org.gradle.launcher.Main.doAction(Main.java:33)\r\n            at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\r\n            at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:54)\r\n            at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:35)\r\n            at org.gradle.launcher.GradleMain.main(GradleMain.java:23)\r\n    Caused by: BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;/Users/David/projects/.../src/test/groovy/.../controller/AboutControllerTest.groovy&#39; sun.reflect.annotation.TypeNotPresentExceptionProxy\r\n            at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:152)\r\n            at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:51)\r\n            at org.gradle.api.internal.tasks.compile.daemon.CompilerDaemonServer.execute(CompilerDaemonServer.java:53)\r\n            at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n            at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n            at org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:360)\r\n            at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)\r\n            at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)\r\n    Caused by: java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy\r\n            ... 8 more\r\n\r\nThere is nothing wrong with that, or any other test, as it has not changed in months.  In fact, the problem seems to have started when I added the two jar files to the project.  However, I have not been able to find an answer to this particular error message anywhere.\r\n","title":"BUG! exception in phase &#39;semantic analysis&#39;","body":"<p>I have a 1.1.7 spring-boot app using Gradle 1.10 &amp; jdk1.8.  I use Groovy/Spock for testing It has two dependencies - jars build with Apache Maven 3.1.1 and jdk 1.8.  I build the jars and them copy them into the /lib directory.  Then I try and build with \"gradle clean build.</p>\n\n<p>Here is part of my gradle file:</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'groovy'\napply plugin: 'idea'\napply plugin: 'spring-boot'\napply plugin: 'jacoco'\napply plugin: 'maven'\n\nproject.ext {\n    springBootVersion = '1.1.7.RELEASE'\n}\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n}\nbuildscript {\n    repositories {\n        flatDir {\n            dirs \"$rootProject.projectDir/libs\"\n        }\n        maven { url 'https://oss.sonatype.org/content/repositories/snapshots/' }\n        maven { url \"http://repo.spring.io/libs-milestone\" }\n        maven { url \"http://repo.spring.io/libs-snapshot\" }\n        mavenLocal()\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:1.2.5.RELEASE\")\n  testCompile('org.spockframework:spock-core:1.0-groovy-2.0') {\n    exclude group: 'org.codehaus.groovy', module: 'groovy-all'\n}\n\n  testCompile('org.spockframework:spock-spring:1.0-groovy-2.0') {\n    exclude group: 'org.spockframework', module: 'spock-core'\n    exclude group: 'org.spockframework', module: 'spring-beans'\n    exclude group: 'org.spockframework', module: 'spring-test'\n    exclude group: 'org.codehaus.groovy', module: 'groovy-all'\n}\n\n   testCompile(\"org.springframework.boot:spring-boot-starter-test:$springBootVersion\")\n    testCompile('org.codehaus.groovy.modules.http-builder:http-builder:0.7+')\n    testCompile(\"junit:junit\")\n    }\n}\n\njacocoTestReport {\n    group = \"Reporting\"\n    description = \"Generate Jacoco coverage reports after running tests.\"\n}\n\ntask wrapper(type: Wrapper) {\n    gradleVersion = '1.11'\n}\n</code></pre>\n\n<p>Regardless of building in from command line or IntelliJ I get the following error:</p>\n\n<pre><code>Executing org.gradle.api.internal.tasks.compile.ApiGroovyCompiler@5474aad4 in compiler daemon.\nException executing org.gradle.api.internal.tasks.compile.ApiGroovyCompiler@5474aad4 in compiler daemon: BUG! exception in phase 'semantic analysis' in source unit '/Users/David/projects/.../controller/AboutControllerTest.groovy' sun.reflect.annotation.TypeNotPresentExceptionProxy.\n:compileTestGroovy FAILED\n</code></pre>\n\n<p>Here is the stacktrace:</p>\n\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':compileTestGroovy'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185)\n        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:62)\n        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:50)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)\n        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n        at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n        at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:158)\n        at org.gradle.internal.Factories$1.create(Factories.java:22)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:155)\n        at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:36)\n        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:103)\n        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:97)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:97)\n        at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:86)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:102)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)\n        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:77)\n        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:47)\n        at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:51)\n        at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:28)\n        at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:43)\n        at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:170)\n        at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:237)\n        at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:210)\n        at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:35)\n        at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)\n        at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:206)\n        at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:169)\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)\n        at org.gradle.launcher.Main.doAction(Main.java:33)\n        at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:54)\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:35)\n        at org.gradle.launcher.GradleMain.main(GradleMain.java:23)\nCaused by: BUG! exception in phase 'semantic analysis' in source unit '/Users/David/projects/.../src/test/groovy/.../controller/AboutControllerTest.groovy' sun.reflect.annotation.TypeNotPresentExceptionProxy\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:152)\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:51)\n        at org.gradle.api.internal.tasks.compile.daemon.CompilerDaemonServer.execute(CompilerDaemonServer.java:53)\n        at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n        at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n        at org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:360)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)\n        at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)\nCaused by: java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy\n        ... 8 more\n</code></pre>\n\n<p>There is nothing wrong with that, or any other test, as it has not changed in months.  In fact, the problem seems to have started when I added the two jar files to the project.  However, I have not been able to find an answer to this particular error message anywhere.</p>\n"},{"tags":["java","unit-testing","junit","assert","junit4"],"comments":[{"owner":{"account_id":112931,"reputation":77772,"user_id":297696,"accept_rate":100,"display_name":"wkl"},"score":1,"creation_date":1290445093,"post_id":4247933,"comment_id":4600882,"body_markdown":"If you need it to continue through assert failures, how about building up a list of elements that fail, as you&#39;re looping, then asserting that the list is empty after the loop? If it&#39;s not empty, print out the list of failures.","body":"If you need it to continue through assert failures, how about building up a list of elements that fail, as you&#39;re looping, then asserting that the list is empty after the loop? If it&#39;s not empty, print out the list of failures."},{"owner":{"account_id":2147946,"reputation":1438,"user_id":1905900,"accept_rate":73,"display_name":"papercuts"},"score":0,"creation_date":1362478125,"post_id":4247933,"comment_id":21454349,"body_markdown":"@birryree how would you do this? wouldn&#39;t the looping stop once an element fails? I&#39;m a beginner btw.","body":"@birryree how would you do this? wouldn&#39;t the looping stop once an element fails? I&#39;m a beginner btw."}],"answers":[{"comments":[{"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"score":0,"creation_date":1290445072,"post_id":4247964,"comment_id":4600879,"body_markdown":"The errors list? Is that just a list I&#39;ll have to make, or a built-in JUnit thing?","body":"The errors list? Is that just a list I&#39;ll have to make, or a built-in JUnit thing?"},{"owner":{"account_id":230362,"reputation":28330,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"score":0,"creation_date":1290445309,"post_id":4247964,"comment_id":4600943,"body_markdown":"@Bart you have to make it. BTW, it is a good habit to instantiate test data in `setUp` and make small `test...` methods.","body":"@Bart you have to make it. BTW, it is a good habit to instantiate test data in <code>setUp</code> and make small <code>test...</code> methods."},{"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"score":0,"creation_date":1290456206,"post_id":4247964,"comment_id":4603109,"body_markdown":"I know, but I have too much test data for that (what&#39;s currently there will be expanded some more).","body":"I know, but I have too much test data for that (what&#39;s currently there will be expanded some more)."}],"tags":[],"owner":{"account_id":230362,"reputation":28330,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1290444989,"creation_date":1290444989,"answer_id":4247964,"question_id":4247933,"body_markdown":"catch `AssertionError` and add the caught error to the errors list, at the end check the list to be empty raise a compound `AssertionError` if not.","title":"Loop through array, each element a JUnit test","body":"<p>catch <code>AssertionError</code> and add the caught error to the errors list, at the end check the list to be empty raise a compound <code>AssertionError</code> if not.</p>\n"},{"comments":[{"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"score":1,"creation_date":1290461282,"post_id":4247979,"comment_id":4604044,"body_markdown":"This is exactly what I need. One thing though, is there a way to show the toString() of the test data in the test results? It&#39;s inconvenient to have to keep looking them up by array index.","body":"This is exactly what I need. One thing though, is there a way to show the toString() of the test data in the test results? It&#39;s inconvenient to have to keep looking them up by array index."},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1290462062,"post_id":4247979,"comment_id":4604155,"body_markdown":"you might want to look into either subclassing the Parameterized runner or providing your own implementation and overriding the `getName()` method inside the inner class `TestClassRunnerForParameters`","body":"you might want to look into either subclassing the Parameterized runner or providing your own implementation and overriding the <code>getName()</code> method inside the inner class <code>TestClassRunnerForParameters</code>"},{"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balažic"},"score":0,"creation_date":1465591001,"post_id":4247979,"comment_id":62982907,"body_markdown":"Is something like this possible on the (@Test) method level? I want to repeat only some methods in the class and I already use @RunWith for something else.","body":"Is something like this possible on the (@Test) method level? I want to repeat only some methods in the class and I already use @RunWith for something else."},{"owner":{"account_id":3363434,"reputation":4100,"user_id":2824722,"accept_rate":61,"display_name":"Daniel Patrick"},"score":1,"creation_date":1469729142,"post_id":4247979,"comment_id":64670520,"body_markdown":"Is there a way to do this without relying on static Parameters?  I&#39;m using some random data generation for my parameters...","body":"Is there a way to do this without relying on static Parameters?  I&#39;m using some random data generation for my parameters..."}],"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"comment_count":4,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1430822741,"creation_date":1290445121,"answer_id":4247979,"question_id":4247933,"body_markdown":"Use JUnit 4&#39;s [parameterized tests][1]. They are a perfect fit for this type of problem, although the documentation is quite lacking.\r\n\r\nHere are a few other samples on how to use them.:\r\n\r\n- http://ourcraft.wordpress.com/2008/08/27/writing-a-parameterized-junit-test/\r\n- [http://isagoksu.com/2009/development/agile-development/test-driven-development/using-junit-parameterized-annotation/][2]\r\n- http://www.mkyong.com/unittest/junit-4-tutorial-6-parameterized-test/\r\n\r\n  [1]: http://junit.sourceforge.net/javadoc/org/junit/runners/Parameterized.html\r\n  [2]: https://web.archive.org/web/20140220002834/http://isagoksu.com/2009/development/agile-development/test-driven-development/using-junit-parameterized-annotation/","title":"Loop through array, each element a JUnit test","body":"<p>Use JUnit 4's <a href=\"http://junit.sourceforge.net/javadoc/org/junit/runners/Parameterized.html\" rel=\"noreferrer\">parameterized tests</a>. They are a perfect fit for this type of problem, although the documentation is quite lacking.</p>\n\n<p>Here are a few other samples on how to use them.:</p>\n\n<ul>\n<li><a href=\"http://ourcraft.wordpress.com/2008/08/27/writing-a-parameterized-junit-test/\" rel=\"noreferrer\">http://ourcraft.wordpress.com/2008/08/27/writing-a-parameterized-junit-test/</a></li>\n<li><a href=\"https://web.archive.org/web/20140220002834/http://isagoksu.com/2009/development/agile-development/test-driven-development/using-junit-parameterized-annotation/\" rel=\"noreferrer\">http://isagoksu.com/2009/development/agile-development/test-driven-development/using-junit-parameterized-annotation/</a></li>\n<li><a href=\"http://www.mkyong.com/unittest/junit-4-tutorial-6-parameterized-test/\" rel=\"noreferrer\">http://www.mkyong.com/unittest/junit-4-tutorial-6-parameterized-test/</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697572671,"creation_date":1621558209,"answer_id":67629578,"question_id":4247933,"body_markdown":"**Parameterized Tests in JUnit 5** have got easier with a better syntax, I think. You can read about [here](https://www.baeldung.com/parameterized-tests-junit-5). One of the options is to declare a method to provide the list of arguments to test, such as below:\r\n\r\n```\r\n// Given\r\nprivate static Stream&lt;Arguments&gt; shouldReturnExpectedResultWhenGivenRightInput() {\r\n   return Stream.of(\r\n       Arguments.of(3, &quot;Fizz&quot;),\r\n       Arguments.of(5, &quot;Buzz&quot;),\r\n       Arguments.of(8, &quot;8&quot;),\r\n       Arguments.of(15, &quot;FizzBuzz&quot;),\r\n       Arguments.of(19, &quot;19&quot;),\r\n       Arguments.of(30, &quot;FizzBuzz&quot;),\r\n       Arguments.of(40, &quot;Buzz&quot;),\r\n       Arguments.of(45, &quot;FizzBuzz&quot;)\r\n   );\r\n}\r\n@ParameterizedTest\r\n@MethodSource\r\nvoid shouldReturnExpectedResultWhenGivenRightInput(Integer input, String expected) {\r\n   // When\r\n   val result = library.processInput(input); \r\n   // Then\r\n   assertEquals(expected, result);\r\n}\r\n\r\n// Given\r\nprivate static Stream&lt;Arguments&gt; shouldNotReturnExpectedResultWhenGivenWrongInput() {\r\n    return Stream.of(\r\n        Arguments.of(3, &quot;Buzz&quot;),\r\n        Arguments.of(5, &quot;Fizz&quot;),\r\n        Arguments.of(8, &quot;Buzz&quot;),\r\n        Arguments.of(15, &quot;15&quot;),\r\n        Arguments.of(19, &quot;Fizz&quot;)\r\n    );\r\n}\r\n@ParameterizedTest\r\n@MethodSource\r\nvoid shouldNotReturnExpectedResultWhenGivenWrongInput(Integer input, String unexpected) {\r\n    // When\r\n    val result = library.processInput(input); \r\n    // Then\r\n    assertNotEquals(unexpected, result);\r\n}\r\n","title":"Loop through array, each element a JUnit test","body":"<p><strong>Parameterized Tests in JUnit 5</strong> have got easier with a better syntax, I think. You can read about <a href=\"https://www.baeldung.com/parameterized-tests-junit-5\" rel=\"nofollow noreferrer\">here</a>. One of the options is to declare a method to provide the list of arguments to test, such as below:</p>\n<pre><code>// Given\nprivate static Stream&lt;Arguments&gt; shouldReturnExpectedResultWhenGivenRightInput() {\n   return Stream.of(\n       Arguments.of(3, &quot;Fizz&quot;),\n       Arguments.of(5, &quot;Buzz&quot;),\n       Arguments.of(8, &quot;8&quot;),\n       Arguments.of(15, &quot;FizzBuzz&quot;),\n       Arguments.of(19, &quot;19&quot;),\n       Arguments.of(30, &quot;FizzBuzz&quot;),\n       Arguments.of(40, &quot;Buzz&quot;),\n       Arguments.of(45, &quot;FizzBuzz&quot;)\n   );\n}\n@ParameterizedTest\n@MethodSource\nvoid shouldReturnExpectedResultWhenGivenRightInput(Integer input, String expected) {\n   // When\n   val result = library.processInput(input); \n   // Then\n   assertEquals(expected, result);\n}\n\n// Given\nprivate static Stream&lt;Arguments&gt; shouldNotReturnExpectedResultWhenGivenWrongInput() {\n    return Stream.of(\n        Arguments.of(3, &quot;Buzz&quot;),\n        Arguments.of(5, &quot;Fizz&quot;),\n        Arguments.of(8, &quot;Buzz&quot;),\n        Arguments.of(15, &quot;15&quot;),\n        Arguments.of(19, &quot;Fizz&quot;)\n    );\n}\n@ParameterizedTest\n@MethodSource\nvoid shouldNotReturnExpectedResultWhenGivenWrongInput(Integer input, String unexpected) {\n    // When\n    val result = library.processInput(input); \n    // Then\n    assertNotEquals(unexpected, result);\n}\n</code></pre>\n"}],"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36709,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":4247979,"answer_count":3,"score":21,"last_activity_date":1697572671,"creation_date":1290444793,"question_id":4247933,"body_markdown":"I have a JUnit 4 test that loops through an array of test data:\r\n\r\n\tpublic @Test void testAll() {\r\n\r\n\t\tfinal Object[][] sets = new Object[][] {\r\n\t\t\t\t// SET\t\t\t\t\t\t\t\tTYPE VALUE\r\n\r\n\t\t\t\t// --- valid sets\r\n\t\t\t\t\r\n\t\t\t\t// groups\r\n\t\t\t\tx(s(A,1, B,1, C,1),\t\t\t\t\tG),\r\n\t\t\t\tx(s(A,4, B,4, D,4),\t\t\t\t\tG),\r\n\t\t\t\tx(s(A,8, B,8, D,8, C,8),\t\t\tG),\r\n\t\t\t\tx(s(J,J, B,4, D,4),\t\t\t\t\tG,\t4*3),\r\n\t\t\t\tx(s(A,9, J,J, D,9),\t\t\t\t\tG,\t9*3),\r\n\t\t\t\tx(s(A,2, B,2, C,2),\t\t\t\t\tG),\r\n\t\t\t\tx(s(A,4, B,4, J,J),\t\t\t\t\tG,\t4*3),\r\n\t\t\t\tx(s(A,4, B,4, C,4, D,4),\t\t\tG),\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t// runs\r\n\t\t\t\tx(s(A,1, A,2, A,3),\t\t\t\t\tR),\r\n\t\t\t\tx(s(B,8, B,9, B,10),\t\t\t\tR),\r\n\t\t\t\tx(s(J,J, C,2, C,3),\t\t\t\t\tR,\t6),\r\n\t\t\t\tx(s(D,8, D,9, J,J, D,11),\t\t\tR,\t38),\r\n\t\t\t\tx(s(D,8, D,9, J,J, J,J),\t\t\tR,\t38),\r\n\t\t\t\t\r\n\t\t\t\t// sames\r\n\t\t\t\tx(s(A,1, A,1),\t\t\t\t\t\tS),\r\n\t\t\t\tx(s(B,4, B,4, B,4),\t\t\t\t\tS),\r\n\t\t\t\tx(s(C,8, C,8),\t\t\t\t\t\tS),\r\n\t\t\t\tx(s(D,3, D,3),\t\t\t\t\t\tS),\r\n\t\t\t\t\r\n\t\t\t\t// doubt-cases, assume group (TODO: verify this is correct)\r\n\t\t\t\tx(s(J,J, J,J, D,4),\t\t\t\t\tG,\t4*3),\r\n\t\t\t\tx(s(A,7, J,J, J,J),\t\t\t\t\tG,\t7*3),\r\n\t\t\t\tx(s(J,J, D,9, J,J),\t\t\t\t\tG,\t9*3),\r\n\t\t\t\tx(s(J,J, J,J, J,J),\t\t\t\t\tG,\t1),\r\n\t\t\t\t\r\n\t\t\t\t// --- invalid sets\r\n\t\t\t\tx(s(B,1, A,2, A,3),\t\t\t\t\tI),\t// not same colour\r\n\t\t\t\tx(s(D,11, D,12, J,J, J,J),\t\t\tI),\t// last joker is 14\r\n\t\t\t\tx(s(B,1, B,1, A,1),\t\t\t\t\tI), // duplicate B1\r\n\t\t\t\tx(s(A,1, A,2, A,3, A,5),\t\t\tI), // gap A4\r\n\t\t\t\tx(s(J,J, A,1, J,J, B,1, C,1),\t\tI), // one J replaces D1, then nothing left to replace\r\n\t\t\t\tx(s(A,1, A,2),\t\t\t\t\t\tI), // short\r\n\t\t\t\tx(s(B,1),\t\t\t\t\t\t\tI), // shorter\r\n\t\t\t\tx(s(A,5, A,6),\t\t\t\t\t\tI), // short\r\n\t\t};\r\n\t\t\r\n\t\tfor (Object[] o : sets) {\r\n\t\t\t\r\n\t\t\tTileSet s = (TileSet) o[0];\r\n\t\t\tType t = (Type) o[1];\r\n\t\t\tint v = (Integer) o[2];\r\n\t\t\t\r\n\t\t\tSystem.out.println(s);\r\n\t\t\t\r\n\t\t\tassertEquals(t, s.getType());\r\n\t\t\tassertEquals(v, s.getValue());\r\n\t\t\t\r\n\t\t\t// test isValid, though it&#39;s Too Simple To Break(R)\r\n\t\t\tif (t == Type.INVALID) assertFalse(s.isValid());\r\n\t\t\telse assertTrue(s.isValid());\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nBecause it&#39;s all in one test method, the whole test stops as soon as one element in the array fails. Is there a way around that, without making a method for each test item?\r\nMaybe something with reflection?","title":"Loop through array, each element a JUnit test","body":"<p>I have a JUnit 4 test that loops through an array of test data:</p>\n\n<pre><code>public @Test void testAll() {\n\n    final Object[][] sets = new Object[][] {\n            // SET                              TYPE VALUE\n\n            // --- valid sets\n\n            // groups\n            x(s(A,1, B,1, C,1),                 G),\n            x(s(A,4, B,4, D,4),                 G),\n            x(s(A,8, B,8, D,8, C,8),            G),\n            x(s(J,J, B,4, D,4),                 G,  4*3),\n            x(s(A,9, J,J, D,9),                 G,  9*3),\n            x(s(A,2, B,2, C,2),                 G),\n            x(s(A,4, B,4, J,J),                 G,  4*3),\n            x(s(A,4, B,4, C,4, D,4),            G),\n\n            // runs\n            x(s(A,1, A,2, A,3),                 R),\n            x(s(B,8, B,9, B,10),                R),\n            x(s(J,J, C,2, C,3),                 R,  6),\n            x(s(D,8, D,9, J,J, D,11),           R,  38),\n            x(s(D,8, D,9, J,J, J,J),            R,  38),\n\n            // sames\n            x(s(A,1, A,1),                      S),\n            x(s(B,4, B,4, B,4),                 S),\n            x(s(C,8, C,8),                      S),\n            x(s(D,3, D,3),                      S),\n\n            // doubt-cases, assume group (TODO: verify this is correct)\n            x(s(J,J, J,J, D,4),                 G,  4*3),\n            x(s(A,7, J,J, J,J),                 G,  7*3),\n            x(s(J,J, D,9, J,J),                 G,  9*3),\n            x(s(J,J, J,J, J,J),                 G,  1),\n\n            // --- invalid sets\n            x(s(B,1, A,2, A,3),                 I), // not same colour\n            x(s(D,11, D,12, J,J, J,J),          I), // last joker is 14\n            x(s(B,1, B,1, A,1),                 I), // duplicate B1\n            x(s(A,1, A,2, A,3, A,5),            I), // gap A4\n            x(s(J,J, A,1, J,J, B,1, C,1),       I), // one J replaces D1, then nothing left to replace\n            x(s(A,1, A,2),                      I), // short\n            x(s(B,1),                           I), // shorter\n            x(s(A,5, A,6),                      I), // short\n    };\n\n    for (Object[] o : sets) {\n\n        TileSet s = (TileSet) o[0];\n        Type t = (Type) o[1];\n        int v = (Integer) o[2];\n\n        System.out.println(s);\n\n        assertEquals(t, s.getType());\n        assertEquals(v, s.getValue());\n\n        // test isValid, though it's Too Simple To Break(R)\n        if (t == Type.INVALID) assertFalse(s.isValid());\n        else assertTrue(s.isValid());\n    }\n\n}\n</code></pre>\n\n<p>Because it's all in one test method, the whole test stops as soon as one element in the array fails. Is there a way around that, without making a method for each test item?\nMaybe something with reflection?</p>\n"},{"tags":["java","android","cryptography","sha1"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1697560434,"post_id":77310697,"comment_id":136294134,"body_markdown":"This may not be possible. There is no guarantee that implementations for SHA1PRNG are identical across platforms and even versions. For key derivations, key derivation functions like PBKDF2 or the more modern Argon2 should be used, but not SecureRandom/SHA1PRNG, see [here](https://stackoverflow.com/a/60118857/9014097).","body":"This may not be possible. There is no guarantee that implementations for SHA1PRNG are identical across platforms and even versions. For key derivations, key derivation functions like PBKDF2 or the more modern Argon2 should be used, but not SecureRandom/SHA1PRNG, see <a href=\"https://stackoverflow.com/a/60118857/9014097\">here</a>."}],"owner":{"account_id":18139549,"reputation":1,"user_id":13193567,"display_name":"John Italo Cerna Ramos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697572436,"creation_date":1697559710,"question_id":77310697,"body_markdown":"```\r\npublic static byte[] generateKey(String password) throws Exception\r\n    {\r\n        byte[] keyStart = password.getBytes(&quot;UTF-8&quot;);\r\n\r\n        KeyGenerator kgen = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        SecureRandom sr = SecureRandom.getInstance(&quot;SHA1PRNG&quot;, &quot;Crypto&quot;);\r\n        sr.setSeed(keyStart);\r\n        kgen.init(128, sr);\r\n        SecretKey skey = kgen.generateKey();\r\n        return skey.getEncoded();\r\n    }\r\n```\r\n\r\n\r\nOn Android 5.1 it worked perfectly, I would like to recover my files, how to decrypt them on Android 11?","title":"How can I generate my key to decrypt files that I encrypted with a key that I generated with this code?","body":"<pre><code>public static byte[] generateKey(String password) throws Exception\n    {\n        byte[] keyStart = password.getBytes(&quot;UTF-8&quot;);\n\n        KeyGenerator kgen = KeyGenerator.getInstance(&quot;AES&quot;);\n        SecureRandom sr = SecureRandom.getInstance(&quot;SHA1PRNG&quot;, &quot;Crypto&quot;);\n        sr.setSeed(keyStart);\n        kgen.init(128, sr);\n        SecretKey skey = kgen.generateKey();\n        return skey.getEncoded();\n    }\n</code></pre>\n<p>On Android 5.1 it worked perfectly, I would like to recover my files, how to decrypt them on Android 11?</p>\n"},{"tags":["java","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697572099,"creation_date":1697572099,"answer_id":77311857,"question_id":77311677,"body_markdown":"From the [docs](https://github.com/rest-assured/rest-assured/wiki/Usage#header-mergingoverwriting), try something like:\r\n\r\n    RestAssured.requestspecification = new RequestSpecBuilder()\r\n    .setConfig(RestAssuredConfig.config().headerConfig(headerConfig().overwriteHeadersWithName(&quot;Authorization&quot;)\r\n    .addHeader(&quot;Authorization&quot;: &quot;jwt token for user_2&quot;)\r\n    .build();","title":"Rest assured: How change value in header?","body":"<p>From the <a href=\"https://github.com/rest-assured/rest-assured/wiki/Usage#header-mergingoverwriting\" rel=\"nofollow noreferrer\">docs</a>, try something like:</p>\n<pre><code>RestAssured.requestspecification = new RequestSpecBuilder()\n.setConfig(RestAssuredConfig.config().headerConfig(headerConfig().overwriteHeadersWithName(&quot;Authorization&quot;)\n.addHeader(&quot;Authorization&quot;: &quot;jwt token for user_2&quot;)\n.build();\n</code></pre>\n"}],"owner":{"account_id":29694608,"reputation":1,"user_id":22758202,"display_name":"Michael Volkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697572099,"creation_date":1697570041,"question_id":77311677,"body_markdown":"My test case uses two roles (user_1, user_2).\r\nDuring the test case I need change user_1 to user_2.\r\nI try to replace jwt token in authorization header for user_2, but I get behavior like this:\r\n\r\n\r\n\r\n```\r\n@BeforeAll\r\nstatic public void beforeAll() {\r\n\r\nRestAssured.requestspecification = new RequestSpecBuilder()\r\n.addHeader(&quot;Authorization&quot;: &quot;jwt token for user_1&quot;)\r\n.build();\r\n}\r\n\r\n@Test\r\npublic void test() {\r\n\r\n...test running with user_1...\r\n\r\nRestAssured.requestspecification = new RequestSpecBuilder()\r\n.addHeader(&quot;Authorization&quot;: &quot;jwt token for user_2&quot;)\r\n.build();\r\n\r\n...test running with user_2...\r\n}\r\n```\r\n\r\n\r\nand I see Authorization header has duplicate\r\n```\r\nStackRace:\r\n&quot;Authorization&quot;: &quot;jwt token for user_1&quot;\r\n&quot;Authorization&quot;: &quot;jwt token for user_2&quot;\r\n\r\n```\r\n\r\n\r\n  \r\n\r\nAnd the moment I have now idea","title":"Rest assured: How change value in header?","body":"<p>My test case uses two roles (user_1, user_2).\nDuring the test case I need change user_1 to user_2.\nI try to replace jwt token in authorization header for user_2, but I get behavior like this:</p>\n<pre><code>@BeforeAll\nstatic public void beforeAll() {\n\nRestAssured.requestspecification = new RequestSpecBuilder()\n.addHeader(&quot;Authorization&quot;: &quot;jwt token for user_1&quot;)\n.build();\n}\n\n@Test\npublic void test() {\n\n...test running with user_1...\n\nRestAssured.requestspecification = new RequestSpecBuilder()\n.addHeader(&quot;Authorization&quot;: &quot;jwt token for user_2&quot;)\n.build();\n\n...test running with user_2...\n}\n</code></pre>\n<p>and I see Authorization header has duplicate</p>\n<pre><code>StackRace:\n&quot;Authorization&quot;: &quot;jwt token for user_1&quot;\n&quot;Authorization&quot;: &quot;jwt token for user_2&quot;\n\n</code></pre>\n<p>And the moment I have now idea</p>\n"},{"tags":["java","hash","hashtable","chess"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1697569241,"post_id":77311520,"comment_id":136295577,"body_markdown":"If `Math.abs` generates a lot of collisions, there is no alternative that won&#39;t.","body":"If <code>Math.abs</code> generates a lot of collisions, there is no alternative that won&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697569298,"creation_date":1697569298,"answer_id":77311607,"question_id":77311520,"body_markdown":"If `Math.abs` generates a lot of collisions, there is no alternative that won&#39;t.  \r\n\r\nWith that said, applying `&amp; Integer.MAX_VALUE` instead of `Math.abs` would more effectively avoid the edge case where the key is `Long.MIN_VALUE`, where `Math.abs` would return a negative number.","title":"How to handle negative values in a chess transposition table hash function?","body":"<p>If <code>Math.abs</code> generates a lot of collisions, there is no alternative that won't.</p>\n<p>With that said, applying <code>&amp; Integer.MAX_VALUE</code> instead of <code>Math.abs</code> would more effectively avoid the edge case where the key is <code>Long.MIN_VALUE</code>, where <code>Math.abs</code> would return a negative number.</p>\n"},{"tags":[],"owner":{"account_id":4954,"reputation":4796,"user_id":7708,"accept_rate":81,"display_name":"Alan Krueger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697572035,"creation_date":1697572035,"answer_id":77311849,"question_id":77311520,"body_markdown":"`x % n` doesn&#39;t actually compute `x mod n`, it computes the remainder of `x / n`. The latter often matches the former, but not always.\r\n\r\nYou probably want to use `Math.floorMod(x, n)` instead.\r\n\r\nSee also https://stackoverflow.com/a/52377258/7708","title":"How to handle negative values in a chess transposition table hash function?","body":"<p><code>x % n</code> doesn't actually compute <code>x mod n</code>, it computes the remainder of <code>x / n</code>. The latter often matches the former, but not always.</p>\n<p>You probably want to use <code>Math.floorMod(x, n)</code> instead.</p>\n<p>See also <a href=\"https://stackoverflow.com/a/52377258/7708\">https://stackoverflow.com/a/52377258/7708</a></p>\n"}],"owner":{"account_id":10951154,"reputation":1,"user_id":8047482,"display_name":"kelseyde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697572035,"creation_date":1697568197,"question_id":77311520,"body_markdown":"I am writing a chess engine in Java. In order to optimize search speed, I implemented a [transposition table](https://www.chessprogramming.org/Transposition_Table) to store the results of previous searches. In transposition tables the position is typically represented as a 64-bit [Zobrist hash](https://www.chessprogramming.org/Zobrist_Hashing). \r\n\r\nHowever, since this is far too large to use as the index to the array containing the table values, chess engines use another hashing function to return a smaller number that can serve as the index. From what I have read online, the formula commonly used for this second hash function is:\r\n\r\n`index = zobristKey % entries.size`\r\n\r\nMy problem is that, in Java I use the (signed) long for my zobrist key, meaning that the resulting index will sometimes have a negative value, which cannot be used as an array index. I currently get around this by calling Math.abs(index), but as a result I see a lot of hash table collisions.\r\n\r\nMy general understanding of hash functions is not so strong, and I&#39;m sure that I&#39;m missing something in my current implementation. For any chess engine programmers/Java experts, what is the correct way to calculate a hash table index for a transposition table like this?\r\n\r\n\r\nMy hash function to create the hash table index from the Zobrist key:\r\n\r\n`    private int getIndex(long zobristKey) {\r\n        return Math.abs(Long.valueOf(zobristKey % entries.length).intValue());\r\n    }`","title":"How to handle negative values in a chess transposition table hash function?","body":"<p>I am writing a chess engine in Java. In order to optimize search speed, I implemented a <a href=\"https://www.chessprogramming.org/Transposition_Table\" rel=\"nofollow noreferrer\">transposition table</a> to store the results of previous searches. In transposition tables the position is typically represented as a 64-bit <a href=\"https://www.chessprogramming.org/Zobrist_Hashing\" rel=\"nofollow noreferrer\">Zobrist hash</a>.</p>\n<p>However, since this is far too large to use as the index to the array containing the table values, chess engines use another hashing function to return a smaller number that can serve as the index. From what I have read online, the formula commonly used for this second hash function is:</p>\n<p><code>index = zobristKey % entries.size</code></p>\n<p>My problem is that, in Java I use the (signed) long for my zobrist key, meaning that the resulting index will sometimes have a negative value, which cannot be used as an array index. I currently get around this by calling Math.abs(index), but as a result I see a lot of hash table collisions.</p>\n<p>My general understanding of hash functions is not so strong, and I'm sure that I'm missing something in my current implementation. For any chess engine programmers/Java experts, what is the correct way to calculate a hash table index for a transposition table like this?</p>\n<p>My hash function to create the hash table index from the Zobrist key:</p>\n<p><code>    private int getIndex(long zobristKey) { return Math.abs(Long.valueOf(zobristKey % entries.length).intValue()); }</code></p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":3473078,"reputation":482,"user_id":2906959,"display_name":"Prashant Zombade"},"score":0,"creation_date":1548757291,"post_id":54418646,"comment_id":95647186,"body_markdown":"Which package are you using? `org.json.simple.JSONArray` this has `isEmpty()` method. `org.json.JSONArray` this one does not have the method.","body":"Which package are you using? <code>org.json.simple.JSONArray</code> this has <code>isEmpty()</code> method. <code>org.json.JSONArray</code> this one does not have the method."},{"owner":{"account_id":12695174,"reputation":45207,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1548757293,"post_id":54418646,"comment_id":95647189,"body_markdown":"According to the documentation there is no `isEmpty()` method. Maybe you have an issue with IntelliJ, have you tried compiling from the command line? Maybe check File-&gt;Project structure to see that IntelliJ uses the right library","body":"According to the documentation there is no <code>isEmpty()</code> method. Maybe you have an issue with IntelliJ, have you tried compiling from the command line? Maybe check File-&gt;Project structure to see that IntelliJ uses the right library"},{"owner":{"account_id":14048539,"reputation":2521,"user_id":10148053,"display_name":"Daniel B."},"score":0,"creation_date":1548757418,"post_id":54418646,"comment_id":95647277,"body_markdown":"@PrashantZombade using `org.json.JSONArray`","body":"@PrashantZombade using <code>org.json.JSONArray</code>"},{"owner":{"account_id":3473078,"reputation":482,"user_id":2906959,"display_name":"Prashant Zombade"},"score":0,"creation_date":1548757686,"post_id":54418646,"comment_id":95647466,"body_markdown":"@DanielB., check with `org.json.simple.JSONArray` . You will have to handle `JSONException` while putting the objects.","body":"@DanielB., check with <code>org.json.simple.JSONArray</code> . You will have to handle <code>JSONException</code> while putting the objects."},{"owner":{"account_id":14048539,"reputation":2521,"user_id":10148053,"display_name":"Daniel B."},"score":0,"creation_date":1548759108,"post_id":54418646,"comment_id":95648349,"body_markdown":"@PrashantZombade There is a catch block for JSONException in my code. I&#39;m not using org.json.simple.JSONArray, Im not familiar with this pacakge.","body":"@PrashantZombade There is a catch block for JSONException in my code. I&#39;m not using org.json.simple.JSONArray, Im not familiar with this pacakge."},{"owner":{"account_id":14048539,"reputation":2521,"user_id":10148053,"display_name":"Daniel B."},"score":0,"creation_date":1548759362,"post_id":54418646,"comment_id":95648511,"body_markdown":"@JoakimDanielson In my project structure I have one JAR file that is relevant to JSON and it is named `json-20180813.jar`, which was downloaded from here https://mvnrepository.com/artifact/org.json/json/20180813, which belongs to `org.json`","body":"@JoakimDanielson In my project structure I have one JAR file that is relevant to JSON and it is named <code>json-20180813.jar</code>, which was downloaded from here <a href=\"https://mvnrepository.com/artifact/org.json/json/20180813\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.json/json/20180813</a>, which belongs to <code>org.json</code>"},{"owner":{"account_id":12695174,"reputation":45207,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1548760631,"post_id":54418646,"comment_id":95649270,"body_markdown":"Well did you try to build your project from outside of IntelliJ?","body":"Well did you try to build your project from outside of IntelliJ?"}],"answers":[{"comments":[{"owner":{"account_id":14048539,"reputation":2521,"user_id":10148053,"display_name":"Daniel B."},"score":0,"creation_date":1548759233,"post_id":54418864,"comment_id":95648435,"body_markdown":"This is not the case. I&#39;m not using `org.json.simple.JSONArray` anywhere in my code. Just `org.json.JSONArray`","body":"This is not the case. I&#39;m not using <code>org.json.simple.JSONArray</code> anywhere in my code. Just <code>org.json.JSONArray</code>"},{"owner":{"account_id":5042851,"reputation":860,"user_id":5362469,"display_name":"Naya"},"score":0,"creation_date":1548759455,"post_id":54418864,"comment_id":95648574,"body_markdown":"@DanielB. SO you say that cleaning and rebuilding the project doesn&#39;t work?","body":"@DanielB. SO you say that cleaning and rebuilding the project doesn&#39;t work?"}],"tags":[],"owner":{"account_id":5042851,"reputation":860,"user_id":5362469,"display_name":"Naya"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548757528,"creation_date":1548757528,"answer_id":54418864,"question_id":54418646,"body_markdown":"I believe you added to your project\r\n\r\n    compile group: &#39;com.googlecode.json-simple&#39;, name: &#39;json-simple&#39;, version: &#39;1.1&#39;\r\n\r\n\r\nCause it seems like you&#39;ve confused 2 classes: `org.json.JSONArray` with `org.json.simple.JSONArray`.\r\nFirst one doesn&#39;t have that method and the second one does.\r\nHere are code examples for both classes: \r\n\r\nhttps://www.programcreek.com/java-api-examples/org.json.JSONArray\r\n\r\nhttps://www.programcreek.com/java-api-examples/org.json.simple.JSONArray\r\n \nSo as a solution i’d recommend clean and rebuild the project.","title":"NoSuchMethodError using JSONArray in org.json","body":"<p>I believe you added to your project</p>\n\n<pre><code>compile group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1'\n</code></pre>\n\n<p>Cause it seems like you've confused 2 classes: <code>org.json.JSONArray</code> with <code>org.json.simple.JSONArray</code>.\nFirst one doesn't have that method and the second one does.\nHere are code examples for both classes: </p>\n\n<p><a href=\"https://www.programcreek.com/java-api-examples/org.json.JSONArray\" rel=\"nofollow noreferrer\">https://www.programcreek.com/java-api-examples/org.json.JSONArray</a></p>\n\n<p><a href=\"https://www.programcreek.com/java-api-examples/org.json.simple.JSONArray\" rel=\"nofollow noreferrer\">https://www.programcreek.com/java-api-examples/org.json.simple.JSONArray</a></p>\n\n<p>So as a solution i’d recommend clean and rebuild the project.</p>\n"},{"tags":[],"owner":{"account_id":9829227,"reputation":424,"user_id":7281453,"display_name":"Alexey Simonov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553003608,"creation_date":1553003608,"answer_id":55242669,"question_id":54418646,"body_markdown":"I&#39;ve got the same error after i added to my project: \r\n\r\n    &lt;dependency&gt;    \r\n      &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-datatype-json-org&lt;/artifactId&gt;\r\n      &lt;version&gt;2.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n      &lt;version&gt;2.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAfter that I **cleaned and updated dependencies**, \r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n                &lt;version&gt;20180813&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-datatype-json-org&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.7&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n\r\nand it was gone.\r\n","title":"NoSuchMethodError using JSONArray in org.json","body":"<p>I've got the same error after i added to my project: </p>\n\n<pre><code>&lt;dependency&gt;    \n  &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-datatype-json-org&lt;/artifactId&gt;\n  &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n  &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>After that I <strong>cleaned and updated dependencies</strong>, </p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20180813&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n            &lt;version&gt;2.9.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-json-org&lt;/artifactId&gt;\n            &lt;version&gt;2.9.7&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.json&lt;/groupId&gt;\n                    &lt;artifactId&gt;json&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>and it was gone.</p>\n"},{"tags":[],"owner":{"account_id":16164192,"reputation":251,"user_id":11669559,"display_name":"curious"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1568630303,"creation_date":1568630303,"answer_id":57955083,"question_id":54418646,"body_markdown":"If you are using spring boot, then you can try this:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nIt worked for me..","title":"NoSuchMethodError using JSONArray in org.json","body":"<p>If you are using spring boot, then you can try this:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\n                &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>It worked for me..</p>\n"},{"tags":[],"owner":{"account_id":5098970,"reputation":53,"user_id":4089242,"display_name":"hanseltime"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611351633,"creation_date":1611351633,"answer_id":65853121,"question_id":54418646,"body_markdown":"For anyone still looking at this, the main problem is with JSONAssert.\r\n\r\nTo confirm, use whatever dependency graph tool you have to verify that JSONAssert is adding &quot;android-json&quot;.\r\n\r\nExample for maven:\r\n\r\n    mvn dependency:tree\r\n\r\nandroid-json provides its own implementations of org.json.* objects that aren&#39;t up to date.  So exclude them as JSONAssert dependencies.\r\n\r\nExample for maven:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\r\n       &lt;version&gt;1.5.0&lt;/version&gt;\r\n       &lt;scope&gt;test&lt;/scope&gt;\r\n       &lt;exclusions&gt;\r\n           &lt;exclusion&gt;\r\n               &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n               &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n           &lt;/exclusion&gt;\r\n       &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThat should save you from this problem while letting you use the great output of JSONAssert!","title":"NoSuchMethodError using JSONArray in org.json","body":"<p>For anyone still looking at this, the main problem is with JSONAssert.</p>\n<p>To confirm, use whatever dependency graph tool you have to verify that JSONAssert is adding &quot;android-json&quot;.</p>\n<p>Example for maven:</p>\n<pre><code>mvn dependency:tree\n</code></pre>\n<p>android-json provides its own implementations of org.json.* objects that aren't up to date.  So exclude them as JSONAssert dependencies.</p>\n<p>Example for maven:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\n   &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\n   &lt;version&gt;1.5.0&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n   &lt;exclusions&gt;\n       &lt;exclusion&gt;\n           &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n           &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n       &lt;/exclusion&gt;\n   &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>That should save you from this problem while letting you use the great output of JSONAssert!</p>\n"},{"comments":[{"owner":{"account_id":1909885,"reputation":381,"user_id":1723991,"display_name":"Gregzenegair"},"score":0,"creation_date":1697873521,"post_id":68185738,"comment_id":136336601,"body_markdown":"And how to find these dependecies conflicts ? Type mvn dependency:tree into your root folder from a command line tool, it will give you the list of dependencies used, it can looks tedious, but this is the easiest way","body":"And how to find these dependecies conflicts ? Type mvn dependency:tree into your root folder from a command line tool, it will give you the list of dependencies used, it can looks tedious, but this is the easiest way"}],"tags":[],"owner":{"account_id":1909885,"reputation":381,"user_id":1723991,"display_name":"Gregzenegair"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625001364,"creation_date":1625001364,"answer_id":68185738,"question_id":54418646,"body_markdown":"You need to clean the package of *org.json* dependency from *spring-boot-starter-test artifactId*, here is how to clean any depency (considering I was using *spring-boot-starter-parent* 2.4.4)\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;","title":"NoSuchMethodError using JSONArray in org.json","body":"<p>You need to clean the package of <em>org.json</em> dependency from <em>spring-boot-starter-test artifactId</em>, here is how to clean any depency (considering I was using <em>spring-boot-starter-parent</em> 2.4.4)</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.json&lt;/groupId&gt;\n                &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n                &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\n                &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":139035,"reputation":861,"user_id":344348,"accept_rate":86,"display_name":"Jeeka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697571904,"creation_date":1697571561,"answer_id":77311816,"question_id":54418646,"body_markdown":"I know this is old, but posting this in case this might be useful to someone.\r\n\r\nHere is what my updated dependency \r\n\r\n      &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n          &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n          &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nIn my case, the `JSONArray` from `com.vaadin.external.google` from `android-json` was being used, instead of `org.json.JSONArray` which has the `spliterator()` throwing \r\n\r\n`Caused by: java.lang.NoSuchMethodError: org.json.JSONArray.spliterator()Ljava/util/Spliterator;`\r\n\r\nhere is the code which threw that\r\n\r\n      JSONArray someJsonArray = getSomeJsonArray();\r\n      if (someJsonArray != null) {\r\n        List&lt;SecretEntry&gt; secretEntries = (List)StreamSupport.stream(someJsonArray.spliterator(), false).map((obj) -&gt; {\r\n          return (JSONObject)obj;\r\n    ...\r\n\r\nAnd, I could not exclude `org.skyscreamer.jsonassert`, since it was being used  by the `assertJSONEqual()` called by `andExpect(content().json(getJsonBody()))`\r\n\r\nhere is the code\r\n\r\n     private MockMvc mockMvc;\r\n\r\n     @Inject\r\n     private WebApplicationContext webApplicationContext;\r\n\r\n     mockMvc = webAppContextSetup(webApplicationContext).build();\r\n     MvcResult result = mockMvc.perform(\r\n            get(&quot;basePath&quot;).header(\r\n                &quot;headerName&quot;, &quot;headerValue&quot;)).andExpect(content().contentType(&quot;application/json&quot;))\r\n        .andExpect(status().isOk()).andExpect(content().json(getJsonBody())).andReturn();\r\n  }\r\n","title":"NoSuchMethodError using JSONArray in org.json","body":"<p>I know this is old, but posting this in case this might be useful to someone.</p>\n<p>Here is what my updated dependency</p>\n<pre><code>  &lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.json&lt;/groupId&gt;\n      &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n      &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In my case, the <code>JSONArray</code> from <code>com.vaadin.external.google</code> from <code>android-json</code> was being used, instead of <code>org.json.JSONArray</code> which has the <code>spliterator()</code> throwing</p>\n<p><code>Caused by: java.lang.NoSuchMethodError: org.json.JSONArray.spliterator()Ljava/util/Spliterator;</code></p>\n<p>here is the code which threw that</p>\n<pre><code>  JSONArray someJsonArray = getSomeJsonArray();\n  if (someJsonArray != null) {\n    List&lt;SecretEntry&gt; secretEntries = (List)StreamSupport.stream(someJsonArray.spliterator(), false).map((obj) -&gt; {\n      return (JSONObject)obj;\n...\n</code></pre>\n<p>And, I could not exclude <code>org.skyscreamer.jsonassert</code>, since it was being used  by the <code>assertJSONEqual()</code> called by <code>andExpect(content().json(getJsonBody()))</code></p>\n<p>here is the code</p>\n<pre><code> private MockMvc mockMvc;\n\n @Inject\n private WebApplicationContext webApplicationContext;\n\n mockMvc = webAppContextSetup(webApplicationContext).build();\n MvcResult result = mockMvc.perform(\n        get(&quot;basePath&quot;).header(\n            &quot;headerName&quot;, &quot;headerValue&quot;)).andExpect(content().contentType(&quot;application/json&quot;))\n    .andExpect(status().isOk()).andExpect(content().json(getJsonBody())).andReturn();\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":14048539,"reputation":2521,"user_id":10148053,"display_name":"Daniel B."},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12031,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1697571904,"creation_date":1548756883,"question_id":54418646,"body_markdown":"&lt;h1&gt;Error Message&lt;/h1&gt;\r\n\r\n&gt; java.lang.NoSuchMethodError: org.json.JSONArray.isEmpty()Z\r\n\r\n&lt;h1&gt;My Scenario&lt;/h1&gt;\r\n\r\nI tried using the `isEmpty()` method of `JSONArray`from the `org.json` JAR.\r\n\r\nI&#39;m using IntelliJ as my IDE. I&#39;m not using anything close to reflection in my code. I declare a `JSONArray`, and after some lines trying to check if it is empty or not, however I get this Error when trying to use `isEmpty()`.\r\n\r\nI did work around the issue simply by using `jsonArray.length() &gt; 0`, but the error message is what fascinates me. I looked into the de-compiled **.class** file of JSONArray, and the method `isEmpty()` **exists**, and has a **public access modifier**. Futhermore, InteliiJ is suggesting me I can use `isEmpty()` when typing the code. So what could be causing this error to occur?\r\n\r\n&lt;h1&gt;Code Example&lt;/h1&gt;\r\n\r\n    JSONArray filesJsonArray = new JSONArray();\r\n\r\n    JSONObject fileObject = new JSONObject();\r\n    fileObject.put(&quot;fileId&quot;,fileId);\r\n    fileObject.put(&quot;fileName&quot;,fileName);\r\n    fileObject.put(&quot;mimeType&quot;,mimeType);\r\n\r\n    filesJsonArray.put(fileObject);\r\n\r\n    if (!filesJsonArray.isEmpty()){ //the condition check here throws the error.\r\n    }\r\n\r\n(Catch blocks were dismissed for brevity) \r\n\r\n&lt;h1&gt;My Imports&lt;/h1&gt;\r\nIn the class I&#39;m using this code, this is all my imports\r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.*;\r\n    import java.nio.ByteBuffer;\r\n    import java.sql.*;\r\n    import java.util.Base64;","title":"NoSuchMethodError using JSONArray in org.json","body":"<h1>Error Message</h1>\n\n<blockquote>\n  <p>java.lang.NoSuchMethodError: org.json.JSONArray.isEmpty()Z</p>\n</blockquote>\n\n<h1>My Scenario</h1>\n\n<p>I tried using the <code>isEmpty()</code> method of <code>JSONArray</code>from the <code>org.json</code> JAR.</p>\n\n<p>I'm using IntelliJ as my IDE. I'm not using anything close to reflection in my code. I declare a <code>JSONArray</code>, and after some lines trying to check if it is empty or not, however I get this Error when trying to use <code>isEmpty()</code>.</p>\n\n<p>I did work around the issue simply by using <code>jsonArray.length() &gt; 0</code>, but the error message is what fascinates me. I looked into the de-compiled <strong>.class</strong> file of JSONArray, and the method <code>isEmpty()</code> <strong>exists</strong>, and has a <strong>public access modifier</strong>. Futhermore, InteliiJ is suggesting me I can use <code>isEmpty()</code> when typing the code. So what could be causing this error to occur?</p>\n\n<h1>Code Example</h1>\n\n<pre><code>JSONArray filesJsonArray = new JSONArray();\n\nJSONObject fileObject = new JSONObject();\nfileObject.put(\"fileId\",fileId);\nfileObject.put(\"fileName\",fileName);\nfileObject.put(\"mimeType\",mimeType);\n\nfilesJsonArray.put(fileObject);\n\nif (!filesJsonArray.isEmpty()){ //the condition check here throws the error.\n}\n</code></pre>\n\n<p>(Catch blocks were dismissed for brevity) </p>\n\n<h1>My Imports</h1>\n\n<p>In the class I'm using this code, this is all my imports</p>\n\n<pre><code>import org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.*;\nimport java.nio.ByteBuffer;\nimport java.sql.*;\nimport java.util.Base64;\n</code></pre>\n"},{"tags":["java","jms","activemq-artemis","open-liberty","microprofile"],"comments":[{"owner":{"account_id":14870107,"reputation":121,"user_id":10737839,"display_name":"Yuriy K"},"score":0,"creation_date":1697579672,"post_id":77307577,"comment_id":136297045,"body_markdown":"I&#39;ve never tried openliberty, but I can suggest to try to set hardcoded &quot;connection factory&quot; bean (initialize and inject into context). Looks like @Resource(lookup = &quot;jms/ArtemisConnectionFactory&quot;) annotation does not work at all. Hope it would help somehow.","body":"I&#39;ve never tried openliberty, but I can suggest to try to set hardcoded &quot;connection factory&quot; bean (initialize and inject into context). Looks like @Resource(lookup = &quot;jms/ArtemisConnectionFactory&quot;) annotation does not work at all. Hope it would help somehow."},{"owner":{"account_id":14870107,"reputation":121,"user_id":10737839,"display_name":"Yuriy K"},"score":0,"creation_date":1697579783,"post_id":77307577,"comment_id":136297059,"body_markdown":"Also you should not mix jakarta and javax. Javax is deprecated. Try to move all code to Jakarta.","body":"Also you should not mix jakarta and javax. Javax is deprecated. Try to move all code to Jakarta."},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1697793794,"post_id":77307577,"comment_id":136327220,"body_markdown":"Also looks like you are missing `resourceAdapter` configuration in your `server.xml`","body":"Also looks like you are missing <code>resourceAdapter</code> configuration in your <code>server.xml</code>"}],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697571849,"creation_date":1697533580,"question_id":77307577,"body_markdown":"I am trying to create a simple JMS example application using ActiveMQ Artemis but I am having issues with my Connection Factory that returns null. Below I am giving you my code, so far, as well as the error stack trace.\r\n\r\nI have searched across many questions but didn&#39;t managed to fix my issue. I think that I am doing something wrong either with my server.xml or my Configuration class or both them.\r\n\r\nAny suggestions as to what I am missing?\r\n\r\n**server.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;server description=&quot;new server&quot;&gt;\r\n\r\n    &lt;featureManager&gt;\r\n        &lt;feature&gt;jakartaee-9.1&lt;/feature&gt;\r\n    &lt;/featureManager&gt;\r\n\r\n    &lt;jmsConnectionFactory jndiName=&quot;jms/ArtemisConnectionFactory&quot;&gt;\r\n        &lt;properties.activemq\r\n                brokerURL=&quot;tcp://localhost:61616&quot;\r\n                userName=&quot;admin&quot;\r\n                password=&quot;admin&quot;/&gt;\r\n    &lt;/jmsConnectionFactory&gt;\r\n\r\n\r\n    &lt;jmsQueue id=&quot;jms/ArtemisQueue&quot; jndiName=&quot;jms/ArtemisQueue&quot;&gt;\r\n        &lt;properties.activemq queueName=&quot;Test_Queue&quot;/&gt;\r\n    &lt;/jmsQueue&gt;\r\n\r\n    &lt;basicRegistry id=&quot;basic&quot; realm=&quot;BasicRealm&quot;/&gt;\r\n\r\n    &lt;httpEndpoint id=&quot;defaultHttpEndpoint&quot;\r\n                  httpPort=&quot;9080&quot;\r\n                  httpsPort=&quot;9443&quot; /&gt;\r\n\r\n    &lt;applicationManager autoExpand=&quot;true&quot;/&gt;\r\n\r\n    &lt;ssl id=&quot;defaultSSLConfig&quot; trustDefaultCerts=&quot;true&quot; /&gt;\r\n&lt;/server&gt;\r\n```\r\n\r\n**JMS Configuration Class**\r\n```java\r\npackage com.demo.rest;\r\n\r\nimport jakarta.annotation.Resource;\r\nimport jakarta.enterprise.context.ApplicationScoped;\r\n\r\nimport javax.jms.ConnectionFactory;\r\nimport javax.jms.Queue;\r\n\r\n@ApplicationScoped\r\npublic class JMSConfig {\r\n\r\n    @Resource(lookup = &quot;jms/ArtemisConnectionFactory&quot;)\r\n    private ConnectionFactory connectionFactory;\r\n\r\n    @Resource(lookup = &quot;jms/ArtemisQueue&quot;)\r\n    private Queue queue;\r\n\r\n    public ConnectionFactory getConnectionFactory() {\r\n        return connectionFactory;\r\n    }\r\n\r\n    public Queue getQueue() {\r\n        return queue;\r\n    }\r\n}\r\n```\r\n\r\n**Message Producer**\r\n```java\r\npackage com.demo.rest;\r\n\r\nimport jakarta.enterprise.context.ApplicationScoped;\r\n\r\nimport javax.jms.Connection;\r\nimport javax.jms.JMSException;\r\nimport javax.jms.Session;\r\nimport javax.jms.TextMessage;\r\nimport jakarta.inject.Inject;\r\n\r\n@ApplicationScoped\r\npublic class MessageProducer {\r\n\r\n    @Inject\r\n    private JMSConfig jmsConfig;\r\n\r\n    public MessageProducer() {\r\n    }\r\n\r\n    public void sendMessage(String text) throws JMSException {\r\n        try (Connection connection = jmsConfig.getConnectionFactory().createConnection();\r\n             Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n             javax.jms.MessageProducer producer = session.createProducer(jmsConfig.getQueue())) {\r\n\r\n            TextMessage message = session.createTextMessage(text);\r\n            producer.send(message);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Message Consumer**\r\n```java\r\npackage com.demo.rest;\r\n\r\nimport jakarta.ejb.ActivationConfigProperty;\r\nimport jakarta.ejb.MessageDriven;\r\nimport jakarta.jms.Message;\r\nimport jakarta.jms.MessageListener;\r\n\r\nimport javax.jms.JMSException;\r\nimport javax.jms.TextMessage;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\n@MessageDriven(activationConfig = {\r\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;jms/ArtemisQueue&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;)\r\n})\r\npublic class MessageConsumerMDB implements MessageListener {\r\n\r\n    private static final Logger LOGGER = Logger.getLogger(MessageConsumerMDB.class.getName());\r\n\r\n    @Override\r\n    public void onMessage(Message message) {\r\n        if (message instanceof TextMessage) {\r\n            try {\r\n                String content = ((TextMessage) message).getText();\r\n                LOGGER.log(Level.INFO, &quot;Received message: &quot; + content);\r\n            } catch (JMSException e) {\r\n                LOGGER.log(Level.SEVERE, &quot;Error reading message&quot;, e);\r\n            }\r\n        } else {\r\n            LOGGER.log(Level.WARNING, &quot;Received non-text message&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n[ERROR   ] CWOWB1000E: A CDI error has occurred: CWNEN0030E: The server was unable to obtain an object instance for the java:comp/env/jms/ArtemisConnectionFactory reference.  The exception message was: CWNEN1004E: The server was unable to find the jms/ArtemisConnectionFactory default binding with the javax.jms.ConnectionFactory type for the java:comp/env/jms/ArtemisConnectionFactory reference.\r\n[ERROR   ] CWOWB1000E: A CDI error has occurred: CWNEN0030E: The server was unable to obtain an object instance for the java:comp/env/jms/ArtemisConnectionFactory reference.  The exception message was: CWNEN1004E: The server was unable to find the jms/ArtemisConnectionFactory default binding with the javax.jms.ConnectionFactory type for the java:comp/env/jms/ArtemisConnectionFactory reference.\r\n[ERROR   ] SRVE0777E: Exception thrown by application class &#39;org.jboss.resteasy.core.ExceptionHandler.handleApplicationException:105&#39;\r\norg.jboss.resteasy.spi.UnhandledException: java.lang.NullPointerException: Cannot invoke &quot;javax.jms.ConnectionFactory.createConnection()&quot; because the return value of &quot;com.demo.rest.JMSConfig.getConnectionFactory()&quot; is null\r\n\tat org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105)\r\n\tat [internal classes]\r\n```","title":"Injected JMS ConnectionFactory is null in simple JMS example using ActiveMQ Artemis with OpenLiberty","body":"<p>I am trying to create a simple JMS example application using ActiveMQ Artemis but I am having issues with my Connection Factory that returns null. Below I am giving you my code, so far, as well as the error stack trace.</p>\n<p>I have searched across many questions but didn't managed to fix my issue. I think that I am doing something wrong either with my server.xml or my Configuration class or both them.</p>\n<p>Any suggestions as to what I am missing?</p>\n<p><strong>server.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;server description=&quot;new server&quot;&gt;\n\n    &lt;featureManager&gt;\n        &lt;feature&gt;jakartaee-9.1&lt;/feature&gt;\n    &lt;/featureManager&gt;\n\n    &lt;jmsConnectionFactory jndiName=&quot;jms/ArtemisConnectionFactory&quot;&gt;\n        &lt;properties.activemq\n                brokerURL=&quot;tcp://localhost:61616&quot;\n                userName=&quot;admin&quot;\n                password=&quot;admin&quot;/&gt;\n    &lt;/jmsConnectionFactory&gt;\n\n\n    &lt;jmsQueue id=&quot;jms/ArtemisQueue&quot; jndiName=&quot;jms/ArtemisQueue&quot;&gt;\n        &lt;properties.activemq queueName=&quot;Test_Queue&quot;/&gt;\n    &lt;/jmsQueue&gt;\n\n    &lt;basicRegistry id=&quot;basic&quot; realm=&quot;BasicRealm&quot;/&gt;\n\n    &lt;httpEndpoint id=&quot;defaultHttpEndpoint&quot;\n                  httpPort=&quot;9080&quot;\n                  httpsPort=&quot;9443&quot; /&gt;\n\n    &lt;applicationManager autoExpand=&quot;true&quot;/&gt;\n\n    &lt;ssl id=&quot;defaultSSLConfig&quot; trustDefaultCerts=&quot;true&quot; /&gt;\n&lt;/server&gt;\n</code></pre>\n<p><strong>JMS Configuration Class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.demo.rest;\n\nimport jakarta.annotation.Resource;\nimport jakarta.enterprise.context.ApplicationScoped;\n\nimport javax.jms.ConnectionFactory;\nimport javax.jms.Queue;\n\n@ApplicationScoped\npublic class JMSConfig {\n\n    @Resource(lookup = &quot;jms/ArtemisConnectionFactory&quot;)\n    private ConnectionFactory connectionFactory;\n\n    @Resource(lookup = &quot;jms/ArtemisQueue&quot;)\n    private Queue queue;\n\n    public ConnectionFactory getConnectionFactory() {\n        return connectionFactory;\n    }\n\n    public Queue getQueue() {\n        return queue;\n    }\n}\n</code></pre>\n<p><strong>Message Producer</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.demo.rest;\n\nimport jakarta.enterprise.context.ApplicationScoped;\n\nimport javax.jms.Connection;\nimport javax.jms.JMSException;\nimport javax.jms.Session;\nimport javax.jms.TextMessage;\nimport jakarta.inject.Inject;\n\n@ApplicationScoped\npublic class MessageProducer {\n\n    @Inject\n    private JMSConfig jmsConfig;\n\n    public MessageProducer() {\n    }\n\n    public void sendMessage(String text) throws JMSException {\n        try (Connection connection = jmsConfig.getConnectionFactory().createConnection();\n             Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n             javax.jms.MessageProducer producer = session.createProducer(jmsConfig.getQueue())) {\n\n            TextMessage message = session.createTextMessage(text);\n            producer.send(message);\n        }\n    }\n}\n</code></pre>\n<p><strong>Message Consumer</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.demo.rest;\n\nimport jakarta.ejb.ActivationConfigProperty;\nimport jakarta.ejb.MessageDriven;\nimport jakarta.jms.Message;\nimport jakarta.jms.MessageListener;\n\nimport javax.jms.JMSException;\nimport javax.jms.TextMessage;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n@MessageDriven(activationConfig = {\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\n        @ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;jms/ArtemisQueue&quot;),\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;)\n})\npublic class MessageConsumerMDB implements MessageListener {\n\n    private static final Logger LOGGER = Logger.getLogger(MessageConsumerMDB.class.getName());\n\n    @Override\n    public void onMessage(Message message) {\n        if (message instanceof TextMessage) {\n            try {\n                String content = ((TextMessage) message).getText();\n                LOGGER.log(Level.INFO, &quot;Received message: &quot; + content);\n            } catch (JMSException e) {\n                LOGGER.log(Level.SEVERE, &quot;Error reading message&quot;, e);\n            }\n        } else {\n            LOGGER.log(Level.WARNING, &quot;Received non-text message&quot;);\n        }\n    }\n}\n</code></pre>\n<pre><code>[ERROR   ] CWOWB1000E: A CDI error has occurred: CWNEN0030E: The server was unable to obtain an object instance for the java:comp/env/jms/ArtemisConnectionFactory reference.  The exception message was: CWNEN1004E: The server was unable to find the jms/ArtemisConnectionFactory default binding with the javax.jms.ConnectionFactory type for the java:comp/env/jms/ArtemisConnectionFactory reference.\n[ERROR   ] CWOWB1000E: A CDI error has occurred: CWNEN0030E: The server was unable to obtain an object instance for the java:comp/env/jms/ArtemisConnectionFactory reference.  The exception message was: CWNEN1004E: The server was unable to find the jms/ArtemisConnectionFactory default binding with the javax.jms.ConnectionFactory type for the java:comp/env/jms/ArtemisConnectionFactory reference.\n[ERROR   ] SRVE0777E: Exception thrown by application class 'org.jboss.resteasy.core.ExceptionHandler.handleApplicationException:105'\norg.jboss.resteasy.spi.UnhandledException: java.lang.NullPointerException: Cannot invoke &quot;javax.jms.ConnectionFactory.createConnection()&quot; because the return value of &quot;com.demo.rest.JMSConfig.getConnectionFactory()&quot; is null\n    at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105)\n    at [internal classes]\n</code></pre>\n"},{"tags":["java","kotlin","gradle"],"comments":[{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1697572308,"post_id":77311760,"comment_id":136296019,"body_markdown":"Does this answer your question? [Gradle : Copy different properties file depending on the environment and create jar](https://stackoverflow.com/questions/36771697/gradle-copy-different-properties-file-depending-on-the-environment-and-create)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36771697/gradle-copy-different-properties-file-depending-on-the-environment-and-create\">Gradle : Copy different properties file depending on the environment and create jar</a>"},{"owner":{"account_id":5858276,"reputation":476,"user_id":4614867,"accept_rate":100,"display_name":"StragaSevera"},"score":0,"creation_date":1698867555,"post_id":77311760,"comment_id":136460661,"body_markdown":"Yes, that&#39;s what I need, thanks!","body":"Yes, that&#39;s what I need, thanks!"}],"owner":{"account_id":5858276,"reputation":476,"user_id":4614867,"accept_rate":100,"display_name":"StragaSevera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697571048,"creation_date":1697571048,"question_id":77311760,"body_markdown":"What I have is: a `db.properties file`, my program reads the information about my DB connection from this file.\r\n\r\nWhat I want is: to have multiple files, like `db-dev.properties` and `db-staging.properties`, and when I build the app, I pass an argument to Gradle that forces it to use the contents of `db-X.properties` as a `db.properties` file. (Or maybe switch it based on an environment variable, if that&#39;s easier).\r\n\r\nI don&#39;t use Spring or anything like that, I want to get this behaviour via just pure Gradle. Is there a reasonable way to do it?","title":"With Gradle, how do I switch a file contents when building based on an argument to build command?","body":"<p>What I have is: a <code>db.properties file</code>, my program reads the information about my DB connection from this file.</p>\n<p>What I want is: to have multiple files, like <code>db-dev.properties</code> and <code>db-staging.properties</code>, and when I build the app, I pass an argument to Gradle that forces it to use the contents of <code>db-X.properties</code> as a <code>db.properties</code> file. (Or maybe switch it based on an environment variable, if that's easier).</p>\n<p>I don't use Spring or anything like that, I want to get this behaviour via just pure Gradle. Is there a reasonable way to do it?</p>\n"},{"tags":["java","postgresql","multithreading","transactions","apache-camel"],"comments":[{"owner":{"account_id":8633322,"reputation":218433,"user_id":6464308,"display_name":"Laurenz Albe"},"score":3,"creation_date":1697093759,"post_id":77278217,"comment_id":136236568,"body_markdown":"I don&#39;t quite understand your algorithm. Research where the transaction boundaries are. Anyway, why don&#39;t you solve the problem in the natural way, by creating a unique constraint that prevents duplicate messages from being inserted?","body":"I don&#39;t quite understand your algorithm. Research where the transaction boundaries are. Anyway, why don&#39;t you solve the problem in the natural way, by creating a unique constraint that prevents duplicate messages from being inserted?"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1697137856,"post_id":77278217,"comment_id":136245582,"body_markdown":"The unique constraint is already there. The issue is that part of the processing, as I said in my question, some other data is inserted/updated before getting there. When the unique constraint violation happens all those data changes have to be rollbacked but still the duplicate has to be committed into the exception table. In Apache Camel we achieved the rollback by using `setRollbackOnly onException()` part of the route and opening a new sub route marked `transacted(&quot;PROPAGATION_REQUIRED_NEW&quot;)` but it did not work. With this approach we tried to detect duplicates part of the top transaction","body":"The unique constraint is already there. The issue is that part of the processing, as I said in my question, some other data is inserted/updated before getting there. When the unique constraint violation happens all those data changes have to be rollbacked but still the duplicate has to be committed into the exception table. In Apache Camel we achieved the rollback by using <code>setRollbackOnly onException()</code> part of the route and opening a new sub route marked <code>transacted(&quot;PROPAGATION_REQUIRED_NEW&quot;)</code> but it did not work. With this approach we tried to detect duplicates part of the top transaction"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1697138716,"post_id":77278217,"comment_id":136245734,"body_markdown":"The algorithm is not that complex, but maybe the way I explained it is :-) Two threads are trying to insert the same primary key into the `key_locking` table. One succeeds while the other one is blocked. When the `winning thread` finishes and commits its data it takes a millisecond or two before the blocked thread can see that data. The Java code presented in the question is run by two threads at the same time and was presented to give an idea about how we reached the issue.","body":"The algorithm is not that complex, but maybe the way I explained it is :-) Two threads are trying to insert the same primary key into the <code>key_locking</code> table. One succeeds while the other one is blocked. When the <code>winning thread</code> finishes and commits its data it takes a millisecond or two before the blocked thread can see that data. The Java code presented in the question is run by two threads at the same time and was presented to give an idea about how we reached the issue."},{"owner":{"account_id":8633322,"reputation":218433,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1697160211,"post_id":77278217,"comment_id":136248076,"body_markdown":"I still don&#39;t see the need for the `key_locking` table. Just do all your inserts in a single transaction, then they all get rolled back on a unique key violation. When that exception happens and the inserts are rolled back, write the row into the exception table.","body":"I still don&#39;t see the need for the <code>key_locking</code> table. Just do all your inserts in a single transaction, then they all get rolled back on a unique key violation. When that exception happens and the inserts are rolled back, write the row into the exception table."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1697224954,"post_id":77278217,"comment_id":136258121,"body_markdown":"If everything is rollbacked and the message is gone from Kafka, how do you get the chance to then insert into the exception table? I assume you are aware Kafka does not support XA (2PC) transactions","body":"If everything is rollbacked and the message is gone from Kafka, how do you get the chance to then insert into the exception table? I assume you are aware Kafka does not support XA (2PC) transactions"},{"owner":{"account_id":8633322,"reputation":218433,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1697437052,"post_id":77278217,"comment_id":136274814,"body_markdown":"After the rollback, you start a new transaction that inserts into the exception table. Or you use a subtransaction by setting a savepoint, `ROLLBACK TO SAVEPOINT` in the event of a problem and insert into the exception table in the original transaction.","body":"After the rollback, you start a new transaction that inserts into the exception table. Or you use a subtransaction by setting a savepoint, <code>ROLLBACK TO SAVEPOINT</code> in the event of a problem and insert into the exception table in the original transaction."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1697438554,"post_id":77278217,"comment_id":136275044,"body_markdown":"Suspending the current transaction and starting a new autonomous one was the very first that we tried. Maybe not used properly in the Camel context and we could not get it to work. Then we came to this locking solution. Anyway in the meantime we changed the design a bit so we solved the issue. However the question still stands up: why two consecutive queries to the database bring different results when nothing else than the external tread modified the data.","body":"Suspending the current transaction and starting a new autonomous one was the very first that we tried. Maybe not used properly in the Camel context and we could not get it to work. Then we came to this locking solution. Anyway in the meantime we changed the design a bit so we solved the issue. However the question still stands up: why two consecutive queries to the database bring different results when nothing else than the external tread modified the data."},{"owner":{"account_id":8633322,"reputation":218433,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1697439181,"post_id":77278217,"comment_id":136275142,"body_markdown":"There is no autonomous transaction. The usual workaround is to use a second database connection.","body":"There is no autonomous transaction. The usual workaround is to use a second database connection."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1697483259,"post_id":77278217,"comment_id":136282979,"body_markdown":"it seems like others asked the same question: https://stackoverflow.com/questions/15829933/postgresql-commited-data-not-visible\nThat post gave me some ideas to check for as we do use connections pool and have no way to control which transaction starts first. However, I still hope something is wrong with our setup, not being able to see committed data is a very dangerous thing.","body":"it seems like others asked the same question: <a href=\"https://stackoverflow.com/questions/15829933/postgresql-commited-data-not-visible\" title=\"postgresql commited data not visible\">stackoverflow.com/questions/15829933/&hellip;</a> That post gave me some ideas to check for as we do use connections pool and have no way to control which transaction starts first. However, I still hope something is wrong with our setup, not being able to see committed data is a very dangerous thing."}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697569438,"creation_date":1697092614,"question_id":77278217,"body_markdown":"We have a Spring Boot micro-service based on Apache Camel consuming messages from a Kafka topic doing some complex mappings and saving it to a PostgreSQL database in a few tables.\r\n\r\nSometimes during Kafka patching part of our scheduled maintenance we noticed the same message can be delivered more than once at exactly the same time which is not something we are happy about.\r\n\r\nTo address this we created a `key_locking` table to block the threads processing duplicates:\r\n\r\n    CREATE TABLE IF NOT EXISTS key_locking VARCHAR(50) PRIMARY KEY;\r\n\r\nThe idea about this was that every single thread getting the same Kafka message will try to `INSERT` and immediately `DELETE` the key in this `key_locking` table and if able to will continue with processing otherwise it will block waiting for the &quot;wining thread&quot; to either commit or rollback it&#39;s transaction. If commit then the &quot;winning thread&quot; will already saved some data in the business tables. Once the commit is done the blocked thread will be able to go ahead with the blocked `INSERT` then `DELETE` the same key. After doing this will check the business table if data for this Kafka message has already been created and if so it will insert the duplicate message into an exception table.\r\n\r\n    private boolean checkDuplicateByLocking(String key) {\r\n      try {\r\n        log.info(&quot;Inserting key={} into key_locking table{}&quot;, key);\r\n        jdbcTemplate.update(&quot;INSERT INTO key_locking (key) VALUES (?)&quot;, key);\r\n        log.info(&quot;Inserted key={} into key_locking&quot;, key);\r\n        \r\n        jdbcTemplate.update(&quot;DELETE FROM key_locking WHERE key=?&quot;, key);\r\n        log.info(&quot;Deleted key={} from key_locking&quot;, key);\r\n        \r\n        var duplicateCheckResultJdbc = jdbcTemplate.queryForObject(\r\n            String.format(&quot;SELECT count(*) FROM some_table WHERE key = &#39;%s&#39;&quot;, key), Long.class) &gt; 0;\r\n        var duplicateCheckResult = eventExtRepository.findByHdrId(key).isPresent();\r\n        log.info(&quot;Duplicate check result for jdbc template is = &quot; + duplicateCheckResultJdbc);\r\n        log.info(&quot;Duplicate check result for repository is = &quot; + duplicateCheckResult);\r\n        \r\n        return duplicateCheckResultJdbc;\r\n      } catch (Exception e) {\r\n        log.info(&quot;Unable to lock key&quot;, e);\r\n        return true;\r\n      }\r\n    }\r\n\r\nThen we created an integration test injecting duplicates on purpose and observed the logs.\r\n\r\nIn most of the runs it works as expected. You can always see one of the threads being blocked in the logs at `Inserting key=xyz into key_locking table` with the the log entry `Inserted key=xyz into key_locking` always popping up in the logs after the &quot;winning thread&quot; puts in the logs `Finished processing message with key=xyz`. However, when it fails we can notice in the logs that `duplicateCheckResultJdbc` is `false` but `duplicateCheckResult` is `true` which makes absolutely no sense. Changing the jdbcTemplate and repository call order has the same effect. The distance in the logs between the two counters is one or two milliseconds.\r\n\r\nMy question is how this could be possible. Once the data is committed by the other thread it should be visible everywhere no matter what when under `READ_COMMITTED` transaction insolation level. But I cannot spot anything wrong in what we are doing.\r\n\r\n**UPDATE:**\r\nI admit the description of the issue we encounter is a bit complex. Regardless of the scenario that causes it the question is how is it possible to not see committed data in a thread immediately after it was committed by a different thread. My explanation above was just to give you an idea about how we reached that issue.","title":"PostgreSQL unable to see data after being committed in a different thread for a very short while","body":"<p>We have a Spring Boot micro-service based on Apache Camel consuming messages from a Kafka topic doing some complex mappings and saving it to a PostgreSQL database in a few tables.</p>\n<p>Sometimes during Kafka patching part of our scheduled maintenance we noticed the same message can be delivered more than once at exactly the same time which is not something we are happy about.</p>\n<p>To address this we created a <code>key_locking</code> table to block the threads processing duplicates:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS key_locking VARCHAR(50) PRIMARY KEY;\n</code></pre>\n<p>The idea about this was that every single thread getting the same Kafka message will try to <code>INSERT</code> and immediately <code>DELETE</code> the key in this <code>key_locking</code> table and if able to will continue with processing otherwise it will block waiting for the &quot;wining thread&quot; to either commit or rollback it's transaction. If commit then the &quot;winning thread&quot; will already saved some data in the business tables. Once the commit is done the blocked thread will be able to go ahead with the blocked <code>INSERT</code> then <code>DELETE</code> the same key. After doing this will check the business table if data for this Kafka message has already been created and if so it will insert the duplicate message into an exception table.</p>\n<pre><code>private boolean checkDuplicateByLocking(String key) {\n  try {\n    log.info(&quot;Inserting key={} into key_locking table{}&quot;, key);\n    jdbcTemplate.update(&quot;INSERT INTO key_locking (key) VALUES (?)&quot;, key);\n    log.info(&quot;Inserted key={} into key_locking&quot;, key);\n    \n    jdbcTemplate.update(&quot;DELETE FROM key_locking WHERE key=?&quot;, key);\n    log.info(&quot;Deleted key={} from key_locking&quot;, key);\n    \n    var duplicateCheckResultJdbc = jdbcTemplate.queryForObject(\n        String.format(&quot;SELECT count(*) FROM some_table WHERE key = '%s'&quot;, key), Long.class) &gt; 0;\n    var duplicateCheckResult = eventExtRepository.findByHdrId(key).isPresent();\n    log.info(&quot;Duplicate check result for jdbc template is = &quot; + duplicateCheckResultJdbc);\n    log.info(&quot;Duplicate check result for repository is = &quot; + duplicateCheckResult);\n    \n    return duplicateCheckResultJdbc;\n  } catch (Exception e) {\n    log.info(&quot;Unable to lock key&quot;, e);\n    return true;\n  }\n}\n</code></pre>\n<p>Then we created an integration test injecting duplicates on purpose and observed the logs.</p>\n<p>In most of the runs it works as expected. You can always see one of the threads being blocked in the logs at <code>Inserting key=xyz into key_locking table</code> with the the log entry <code>Inserted key=xyz into key_locking</code> always popping up in the logs after the &quot;winning thread&quot; puts in the logs <code>Finished processing message with key=xyz</code>. However, when it fails we can notice in the logs that <code>duplicateCheckResultJdbc</code> is <code>false</code> but <code>duplicateCheckResult</code> is <code>true</code> which makes absolutely no sense. Changing the jdbcTemplate and repository call order has the same effect. The distance in the logs between the two counters is one or two milliseconds.</p>\n<p>My question is how this could be possible. Once the data is committed by the other thread it should be visible everywhere no matter what when under <code>READ_COMMITTED</code> transaction insolation level. But I cannot spot anything wrong in what we are doing.</p>\n<p><strong>UPDATE:</strong>\nI admit the description of the issue we encounter is a bit complex. Regardless of the scenario that causes it the question is how is it possible to not see committed data in a thread immediately after it was committed by a different thread. My explanation above was just to give you an idea about how we reached that issue.</p>\n"},{"tags":["java","intellij-idea","compilation"],"answers":[{"tags":[],"owner":{"account_id":8970213,"reputation":687,"user_id":6689024,"display_name":"Juliano Macedo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677945663,"creation_date":1677942623,"answer_id":75636564,"question_id":75636364,"body_markdown":"You should create a `Java project` using the IntelliJ idea first, so it will create all the necessary files for the IDE to recognize it as a native Java project.\r\n\r\nThen, you can copy and paste your existing file codes into the `src` folder, respecting the Java module organization of:   \r\n`src &gt; main &gt; java &gt; your Files/Packages`  \r\n\r\nAlso, while creating your Java project, I recommend you to create it using `Gradle`, it will simplify a lot to maintaining the project dependencies.\r\n\r\n**References:**  \r\n - [Create your first Java application][1]\r\n - [Learn Idea features][2]\r\n - [Getting Started with Gradle][3]\r\n\r\n---\r\n\r\n### VS Code vs. IntelliJ Idea for Java projects\r\n\r\n - VS Code is a rich text editor like Sublime Text and Atom;  \r\n   - *You can turn VS Code into an IDE like, using plugins.* \r\n - IntelliJ Idea is a thoroughly professional IDE (Integrated development environment).\r\n\r\nFor Java projects, I recommend using IntelliJ Idea, however for a general-purpose code practice, go for VS Code for sure, its flexibility is incredible.\r\n - [IntelliJ IDEA vs. Microsoft Visual Studio Code][4]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/creating-and-running-your-first-java-application.html\r\n  [2]: https://www.jetbrains.com/help/idea/feature-trainer.html\r\n  [3]: https://www.jetbrains.com/help/idea/getting-started-with-gradle.html\r\n  [4]: https://www.trustradius.com/compare-products/intellij-idea-vs-microsoft-visual-studio-code","title":"This file in the editor in not runnable intelliJ idea using java","body":"<p>You should create a <code>Java project</code> using the IntelliJ idea first, so it will create all the necessary files for the IDE to recognize it as a native Java project.</p>\n<p>Then, you can copy and paste your existing file codes into the <code>src</code> folder, respecting the Java module organization of:<br />\n<code>src &gt; main &gt; java &gt; your Files/Packages</code></p>\n<p>Also, while creating your Java project, I recommend you to create it using <code>Gradle</code>, it will simplify a lot to maintaining the project dependencies.</p>\n<p><strong>References:</strong></p>\n<ul>\n<li><a href=\"https://www.jetbrains.com/help/idea/creating-and-running-your-first-java-application.html\" rel=\"nofollow noreferrer\">Create your first Java application</a></li>\n<li><a href=\"https://www.jetbrains.com/help/idea/feature-trainer.html\" rel=\"nofollow noreferrer\">Learn Idea features</a></li>\n<li><a href=\"https://www.jetbrains.com/help/idea/getting-started-with-gradle.html\" rel=\"nofollow noreferrer\">Getting Started with Gradle</a></li>\n</ul>\n<hr />\n<h3>VS Code vs. IntelliJ Idea for Java projects</h3>\n<ul>\n<li>VS Code is a rich text editor like Sublime Text and Atom;\n<ul>\n<li><em>You can turn VS Code into an IDE like, using plugins.</em></li>\n</ul>\n</li>\n<li>IntelliJ Idea is a thoroughly professional IDE (Integrated development environment).</li>\n</ul>\n<p>For Java projects, I recommend using IntelliJ Idea, however for a general-purpose code practice, go for VS Code for sure, its flexibility is incredible.</p>\n<ul>\n<li><a href=\"https://www.trustradius.com/compare-products/intellij-idea-vs-microsoft-visual-studio-code\" rel=\"nofollow noreferrer\">IntelliJ IDEA vs. Microsoft Visual Studio Code</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678072970,"creation_date":1678072970,"answer_id":75646818,"question_id":75636364,"body_markdown":"You could right-click the &quot;Sorting&quot; folder, and choose `Mark Directory as | Sources Root`. Then you should be able to run that Java code.\r\nIn IntelliJ IDEA, the folder including all Java packages should be marked as a source root to make it work. See here for details: https://www.jetbrains.com/help/idea/content-roots.html","title":"This file in the editor in not runnable intelliJ idea using java","body":"<p>You could right-click the &quot;Sorting&quot; folder, and choose <code>Mark Directory as | Sources Root</code>. Then you should be able to run that Java code.\nIn IntelliJ IDEA, the folder including all Java packages should be marked as a source root to make it work. See here for details: <a href=\"https://www.jetbrains.com/help/idea/content-roots.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/content-roots.html</a></p>\n"},{"tags":[],"owner":{"account_id":25448861,"reputation":119,"user_id":19250621,"display_name":"Denis Kinyua"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697569389,"creation_date":1697569389,"answer_id":77311619,"question_id":75636364,"body_markdown":"I had the same problem. What you need to do is on the top of the editor, click &#39;Current File&#39; selecetion like twice and it will appear. [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xI4oD.png","title":"This file in the editor in not runnable intelliJ idea using java","body":"<p>I had the same problem. What you need to do is on the top of the editor, click 'Current File' selecetion like twice and it will appear. <a href=\"https://i.stack.imgur.com/xI4oD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xI4oD.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25872761,"reputation":19,"user_id":19603368,"display_name":"G raj Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8023,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1697569389,"creation_date":1677940709,"question_id":75636364,"body_markdown":"I installed intelliJ idea for the first time to code in java, before this IDE I used VS Code for the development and compilation. After installing I opened previously written code folders in IntelliJ which has the run button in grey showing &quot;this file in the editor is not runnable&quot;.\r\n\r\n[this is the directory structure with the code](https://i.stack.imgur.com/sZwyu.png)\r\n\r\nPreviously in VS Code these files were easily compiled but in IntelliJ idea I have no clue why it is happening.","title":"This file in the editor in not runnable intelliJ idea using java","body":"<p>I installed intelliJ idea for the first time to code in java, before this IDE I used VS Code for the development and compilation. After installing I opened previously written code folders in IntelliJ which has the run button in grey showing &quot;this file in the editor is not runnable&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/sZwyu.png\" rel=\"nofollow noreferrer\">this is the directory structure with the code</a></p>\n<p>Previously in VS Code these files were easily compiled but in IntelliJ idea I have no clue why it is happening.</p>\n"},{"tags":["java","database-design","datatemplate"],"answers":[{"tags":[],"owner":{"display_name":"user2104560"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1432545185,"creation_date":1413368219,"answer_id":26380034,"question_id":26375629,"body_markdown":"It seems [Spring Roo][1] is what I need. \r\n\r\n\r\n  [1]: http://docs.spring.io/spring-roo/","title":"Is there any standard approach for generating tables, web-views and request -handlers by entity description?","body":"<p>It seems <a href=\"http://docs.spring.io/spring-roo/\" rel=\"nofollow\">Spring Roo</a> is what I need. </p>\n"}],"owner":{"display_name":"user2104560"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1697628256,"accepted_answer_id":26380034,"answer_count":1,"score":-1,"last_activity_date":1697568850,"creation_date":1413353535,"question_id":26375629,"body_markdown":"My problem is  that I know description of some process and want to search some standard technology implementing such approach, but don&#39;t know the correct name. In short, I need &quot;objects-templating&quot; engine. In details, I need to automate the following process:\r\n\r\n 1. Admin/operator declares object description: fields, types, such as a\r\n    programmer declares a class, but not in the code, but in the web\r\n    interface. \r\n 2. Created in web-interface entity **forces automatic change of the DB structure** - a table is created or existing table updated.\r\n 3. Another person (user) presses presses add button and see **automatically generated view-form** for creating or updating an entity.\r\n\r\nSum up- I&#39;m looking for a technology which allows to create new objects with UI,automatically change DB structure, create view-forms for rendering/saving entity. If possible, **form-action handler must also be created automatically**, ie it generates a servlet / request mapping in controller, which inserts to DB/loads from DB.\r\n\r\n\r\n\r\nI&#39;m interested in Java technologies/frameworks as my question is asked in Java Web-App context.","title":"Is there any standard approach for generating tables, web-views and request -handlers by entity description?","body":"<p>My problem is  that I know description of some process and want to search some standard technology implementing such approach, but don't know the correct name. In short, I need \"objects-templating\" engine. In details, I need to automate the following process:</p>\n\n<ol>\n<li>Admin/operator declares object description: fields, types, such as a\nprogrammer declares a class, but not in the code, but in the web\ninterface. </li>\n<li>Created in web-interface entity <strong>forces automatic change of the DB structure</strong> - a table is created or existing table updated.</li>\n<li>Another person (user) presses presses add button and see <strong>automatically generated view-form</strong> for creating or updating an entity.</li>\n</ol>\n\n<p>Sum up- I'm looking for a technology which allows to create new objects with UI,automatically change DB structure, create view-forms for rendering/saving entity. If possible, <strong>form-action handler must also be created automatically</strong>, ie it generates a servlet / request mapping in controller, which inserts to DB/loads from DB.</p>\n\n<p>I'm interested in Java technologies/frameworks as my question is asked in Java Web-App context.</p>\n"},{"tags":["java","spring","apache-camel","dataformat","bean-io"],"answers":[{"tags":[],"owner":{"account_id":21116160,"reputation":143,"user_id":15523210,"display_name":"p23he"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697568363,"creation_date":1697568363,"answer_id":77311532,"question_id":77299387,"body_markdown":"I ended up using the `BeanWriter` class provided by the BeanIO library to marshal to an output file, although from my processor method instead of from my routes. I essentially copied the documentation here regarding marshalling: https://beanio.github.io/docs/","title":"Marshalling from data object results in empty file","body":"<p>I ended up using the <code>BeanWriter</code> class provided by the BeanIO library to marshal to an output file, although from my processor method instead of from my routes. I essentially copied the documentation here regarding marshalling: <a href=\"https://beanio.github.io/docs/\" rel=\"nofollow noreferrer\">https://beanio.github.io/docs/</a></p>\n"}],"owner":{"account_id":21116160,"reputation":143,"user_id":15523210,"display_name":"p23he"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77311532,"answer_count":1,"score":1,"last_activity_date":1697568363,"creation_date":1697430088,"question_id":77299387,"body_markdown":"In one of our legacy applications we would create data objects that contained data from our SQL tables, and then we would marshal them with the Apache Camel routes in XML DSL and the BeanIO formatting library. This worked fine. In our new application I am trying to emulate the same behaviour, but with the Java DSL routing instead. I&#39;m using Apache Camel 4.0.0, Spring 4.0.0, and BeanIO 3.4.0.\r\n\r\nThe routes look something like this:\r\n\r\n    BeanIODataFormat dataFormat = new BeanIODataFormat(&quot;path/beanioFormats/beanio_format.xml&quot;, &quot;FormatSourceName&quot;);\r\n\r\n    from(&quot;{{cron.process}}&quot;)\r\n            .log(LoggingLevel.INFO, &quot;Creating File&quot;)\r\n            .transform().method(&quot;fileGeneratorClass&quot;, &quot;generatorMethod&quot;)\r\n            .to(&quot;direct:marshalFile&quot;)\r\n            .end();\r\n\r\n    from(&quot;direct:marshalFile&quot;)\r\n            .marshal(dataFormat)\r\n            .to(&quot;file:{{output.file.path}}&quot;)\r\n            .end();\r\n\r\nwhile the beanio format file looks very standard and similar to what we had before, like so:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;beanio xmlns=&quot;http://www.beanio.org/2012/03&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://www.beanio.org/2012/03 http://www.beanio.org/2012/03/mapping.xsd&quot;&gt;\r\n\r\n    &lt;stream name=&quot;FormatSourceName&quot; format=&quot;fixedlength&quot;&gt;\r\n\r\n        &lt;group name=&quot;fileWrapperObject&quot; class=&quot;path.to.wrapper.class&quot;&gt;\r\n            &lt;record name=&quot;fileHeader&quot; class=&quot;path.to.header.class&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;&gt;\r\n                &lt;field name=&quot;fileRecordIdentifier&quot; rid=&quot;true&quot; length=&quot;3&quot; required=&quot;true&quot; literal=&quot;000&quot;/&gt;\r\n            &lt;/record&gt;\r\n    ... etc\r\n\r\n```\r\nand finally, the `generatorMethod` that sets the data object into the exchange is as such:\r\n\r\n```\r\n    public void generatorMethod(Exchange exchange) {\r\n\r\n        FileWrapperObject fileWrapperObject = new fileWrapperObject();\r\n\r\n        // fill it with data\r\n\r\n        LOG.info(&quot;Wrapper object created&quot;);\r\n\r\n        exchange.getIn().setBody(wrapper);\r\n\r\n        String fileName = &quot;fileName&quot;;\r\n        exchange.getIn().setHeader(Exchange.FILE_NAME, fileName);\r\n    }\r\n```\r\n\r\nI&#39;m certain the data object is not null nor are any of its fields, but the resulting file is always empty. Any clue on where I went wrong? My gut says it&#39;s the way I&#39;ve written the marshalling in the routes file, but I&#39;m not sure where to proceed, given the BeanIO documentation is rather bereft. \r\n\r\nThe main difference I see in the XML DSL based approach is that the dataFormats would be defined in the `&lt;camelContext&gt;` and then be accessed by ID, but to me, what I have written seems correct.","title":"Marshalling from data object results in empty file","body":"<p>In one of our legacy applications we would create data objects that contained data from our SQL tables, and then we would marshal them with the Apache Camel routes in XML DSL and the BeanIO formatting library. This worked fine. In our new application I am trying to emulate the same behaviour, but with the Java DSL routing instead. I'm using Apache Camel 4.0.0, Spring 4.0.0, and BeanIO 3.4.0.</p>\n<p>The routes look something like this:</p>\n<pre><code>BeanIODataFormat dataFormat = new BeanIODataFormat(&quot;path/beanioFormats/beanio_format.xml&quot;, &quot;FormatSourceName&quot;);\n\nfrom(&quot;{{cron.process}}&quot;)\n        .log(LoggingLevel.INFO, &quot;Creating File&quot;)\n        .transform().method(&quot;fileGeneratorClass&quot;, &quot;generatorMethod&quot;)\n        .to(&quot;direct:marshalFile&quot;)\n        .end();\n\nfrom(&quot;direct:marshalFile&quot;)\n        .marshal(dataFormat)\n        .to(&quot;file:{{output.file.path}}&quot;)\n        .end();\n</code></pre>\n<p>while the beanio format file looks very standard and similar to what we had before, like so:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;beanio xmlns=&quot;http://www.beanio.org/2012/03&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://www.beanio.org/2012/03 http://www.beanio.org/2012/03/mapping.xsd&quot;&gt;\n\n    &lt;stream name=&quot;FormatSourceName&quot; format=&quot;fixedlength&quot;&gt;\n\n        &lt;group name=&quot;fileWrapperObject&quot; class=&quot;path.to.wrapper.class&quot;&gt;\n            &lt;record name=&quot;fileHeader&quot; class=&quot;path.to.header.class&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;&gt;\n                &lt;field name=&quot;fileRecordIdentifier&quot; rid=&quot;true&quot; length=&quot;3&quot; required=&quot;true&quot; literal=&quot;000&quot;/&gt;\n            &lt;/record&gt;\n    ... etc\n\n</code></pre>\n<p>and finally, the <code>generatorMethod</code> that sets the data object into the exchange is as such:</p>\n<pre><code>    public void generatorMethod(Exchange exchange) {\n\n        FileWrapperObject fileWrapperObject = new fileWrapperObject();\n\n        // fill it with data\n\n        LOG.info(&quot;Wrapper object created&quot;);\n\n        exchange.getIn().setBody(wrapper);\n\n        String fileName = &quot;fileName&quot;;\n        exchange.getIn().setHeader(Exchange.FILE_NAME, fileName);\n    }\n</code></pre>\n<p>I'm certain the data object is not null nor are any of its fields, but the resulting file is always empty. Any clue on where I went wrong? My gut says it's the way I've written the marshalling in the routes file, but I'm not sure where to proceed, given the BeanIO documentation is rather bereft.</p>\n<p>The main difference I see in the XML DSL based approach is that the dataFormats would be defined in the <code>&lt;camelContext&gt;</code> and then be accessed by ID, but to me, what I have written seems correct.</p>\n"},{"tags":["java","spring","spring-boot","out-of-memory"],"owner":{"account_id":1182420,"reputation":5604,"user_id":1157070,"accept_rate":39,"display_name":"lowLatency"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697568057,"creation_date":1697552703,"question_id":77309872,"body_markdown":"Getting this error intermittently:\r\n\r\n&gt; RequestResponseBodyMethodProcessor : Read &quot;application/octet-stream;charset=UTF-8&quot; to [java.lang.OutOfMemoryError: Java heap space\r\n\r\n\r\nWhen calling this API:\r\n```\r\n@PostMapping(value = &quot;/blob&quot;, consumes = MediaType.APPLICATION_OCTET_STREAM_VALUE, produces = {\r\n    MediaType.APPLICATION_JSON_VALUE})\r\npublic @ResponseBody ResponseEntity&lt;Map&lt;String, Object&gt;&gt; imageblob(HttpServletRequest request,\r\n                                                                          @RequestBody byte[] requestPayload) {\r\ntry (InputStream imagePayloadStream = new ByteArrayInputStream(requestPayload)) {\r\n    requestHandleService.publishImageBlob(imagePayloadStream, correlationId, cameraId, imageSequenceId);\r\n} catch (IOException e) {\r\n    return new ResponseEntity&lt;&gt;(responseMap, HttpStatus.INTERNAL_SERVER_ERROR);\r\n}\r\nreturn new ResponseEntity&lt;&gt;(responseMap, HttpStatus.OK);\r\n}\r\n```\r\nNote: requestPayload size is approx 1MB  \r\nNote1: using Spring boot 2.6  \r\nNote2: publishImageBlob is @Async as below\r\n\r\n```\r\n@Service\r\npublic class RequestHandleServiceImpl implements RequestHandleService {\r\n    @Override\r\n    @Async\r\n    public void publishImageBlob(InputStream imagePayloadStream(){\r\n        //logic\r\n    }\r\n}\r\n```","title":"RequestResponseBodyMethodProcessor : Read &quot;application/octet-stream;charset=UTF-8&quot; to [java.lang.OutOfMemoryError: Java heap space","body":"<p>Getting this error intermittently:</p>\n<blockquote>\n<p>RequestResponseBodyMethodProcessor : Read &quot;application/octet-stream;charset=UTF-8&quot; to [java.lang.OutOfMemoryError: Java heap space</p>\n</blockquote>\n<p>When calling this API:</p>\n<pre><code>@PostMapping(value = &quot;/blob&quot;, consumes = MediaType.APPLICATION_OCTET_STREAM_VALUE, produces = {\n    MediaType.APPLICATION_JSON_VALUE})\npublic @ResponseBody ResponseEntity&lt;Map&lt;String, Object&gt;&gt; imageblob(HttpServletRequest request,\n                                                                          @RequestBody byte[] requestPayload) {\ntry (InputStream imagePayloadStream = new ByteArrayInputStream(requestPayload)) {\n    requestHandleService.publishImageBlob(imagePayloadStream, correlationId, cameraId, imageSequenceId);\n} catch (IOException e) {\n    return new ResponseEntity&lt;&gt;(responseMap, HttpStatus.INTERNAL_SERVER_ERROR);\n}\nreturn new ResponseEntity&lt;&gt;(responseMap, HttpStatus.OK);\n}\n</code></pre>\n<p>Note: requestPayload size is approx 1MB<br />\nNote1: using Spring boot 2.6<br />\nNote2: publishImageBlob is @Async as below</p>\n<pre><code>@Service\npublic class RequestHandleServiceImpl implements RequestHandleService {\n    @Override\n    @Async\n    public void publishImageBlob(InputStream imagePayloadStream(){\n        //logic\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","database","listview","javafx"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1697532771,"post_id":77307329,"comment_id":136288439,"body_markdown":"The typo in the @FXML statement is only here, in the question, and not in your code?","body":"The typo in the @FXML statement is only here, in the question, and not in your code?"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":1,"creation_date":1697546365,"post_id":77307329,"comment_id":136291164,"body_markdown":"`AppCtrl controller = fxmlLoader.getController()`after  `fxmlLoader.load()` if you want the FXML properties to load","body":"<code>AppCtrl controller = fxmlLoader.getController()</code>after  <code>fxmlLoader.load()</code> if you want the FXML properties to load"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1697553935,"post_id":77307329,"comment_id":136292847,"body_markdown":"Add `e.printStackTrace();` to *both* of your catch blocks.  If something went wrong, you do want to know exactly what it was and where it occurred, right?","body":"Add <code>e.printStackTrace();</code> to <i>both</i> of your catch blocks.  If something went wrong, you do want to know exactly what it was and where it occurred, right?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1697554791,"post_id":77307329,"comment_id":136293069,"body_markdown":"Why are you even calling `controller.cargarDatos();` in the `Main`? Should you be using the `Controller&#39;s` `initialize` method?","body":"Why are you even calling <code>controller.cargarDatos();</code> in the <code>Main</code>? Should you be using the <code>Controller&#39;s</code> <code>initialize</code> method?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1697568055,"post_id":77307329,"comment_id":136295364,"body_markdown":"Off-topic: please use proper naming conventions when posting code.","body":"Off-topic: please use proper naming conventions when posting code."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697568022,"creation_date":1697568022,"answer_id":77311507,"question_id":77307329,"body_markdown":"`@FXML`-injected fields will be initialized to corresponding elements in the FXML file during the call to `FXMLLoader.load()`. Since you call \r\n\r\n```\r\nfxmlLoader.load()\r\n```\r\n\r\n*before* you call `fxmlLoader.setController(controller)`, at the time you call `load()` there is no controller, and so no initialization of the fields can be done.\r\n\r\nReverse the order of the calls:\r\n\r\n    public void start(Stage stage) throws IOException {\r\n        AppCtrl controller = new AppCtrl();\r\n\r\n        FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(&quot;main.fxml&quot;));\r\n\r\n        fxmlLoader.setController(controller);\r\n\r\n        Scene scene = new Scene(fxmlLoader.load());\r\n\r\n        //Con esto se deberian cargar los datos de la BBDD,\r\n        //pero dice que es NULL\r\n        System.out.println(&quot;Beep&quot;);\r\n        controller.cargarDatos(); //Again, this is the line that provokes errors\r\n        System.out.println(&quot;Beep&quot;); //But it reaches here!!\r\n\r\n\r\n        stage.initStyle(StageStyle.TRANSPARENT);\r\n        scene.setFill(Color.TRANSPARENT);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n    }\r\n\r\n\r\nAssuming everything else (in code you haven&#39;t posted) is correct, then this should now mean that `MythosList` is no longer null. ","title":"I cannot connect my database with my javafx app listview","body":"<p><code>@FXML</code>-injected fields will be initialized to corresponding elements in the FXML file during the call to <code>FXMLLoader.load()</code>. Since you call</p>\n<pre><code>fxmlLoader.load()\n</code></pre>\n<p><em>before</em> you call <code>fxmlLoader.setController(controller)</code>, at the time you call <code>load()</code> there is no controller, and so no initialization of the fields can be done.</p>\n<p>Reverse the order of the calls:</p>\n<pre><code>public void start(Stage stage) throws IOException {\n    AppCtrl controller = new AppCtrl();\n\n    FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(&quot;main.fxml&quot;));\n\n    fxmlLoader.setController(controller);\n\n    Scene scene = new Scene(fxmlLoader.load());\n\n    //Con esto se deberian cargar los datos de la BBDD,\n    //pero dice que es NULL\n    System.out.println(&quot;Beep&quot;);\n    controller.cargarDatos(); //Again, this is the line that provokes errors\n    System.out.println(&quot;Beep&quot;); //But it reaches here!!\n\n\n    stage.initStyle(StageStyle.TRANSPARENT);\n    scene.setFill(Color.TRANSPARENT);\n    stage.setScene(scene);\n    stage.show();\n\n}\n</code></pre>\n<p>Assuming everything else (in code you haven't posted) is correct, then this should now mean that <code>MythosList</code> is no longer null.</p>\n"}],"owner":{"account_id":21001758,"reputation":11,"user_id":15432416,"display_name":"HoneyPot"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697568022,"creation_date":1697531478,"question_id":77307329,"body_markdown":"I&#39;m in need of help. I&#39;m making a simple app in javafx, the app has to connect with a database and return some data that I will show on a listview right as the app loads.\r\n\r\nThe thing is, that I can&#39;t find the reason why errors come back to me saying that the list in null.\r\n\r\nMy controller:\r\n\r\n```\r\npublic void cargarDatos(){\r\n\r\n        //MythosList.getItems().clear();\r\n\r\n        try {\r\n\r\n            //Creamos el array donde guardar los datos\r\n            List&lt;Mytho&gt; mythos = mythosDAO.obtenerMythos();\r\n\r\n            System.out.println(&quot;N&#250;mero de elementos en la lista: &quot; + mythos.size()); //This retrieves 3, which is the amount of lines I have in my database\r\n            MythosList.setItems(FXCollections.observableList(mythos)); //This is the line that provokes the error\r\n            System.out.println(&quot;Beep&quot;); //It doesn&#39;t reach this line\r\n        } catch (SQLException sqle) {\r\n            AlertTemp.mostrarError(&quot;Error cargando los datos de la aplicaci&#243;n&quot;);\r\n        } catch (Exception e){\r\n            System.out.println(e);\r\n        }\r\n    }\r\n```\r\n\r\nI have declared the listview as: ```@FXML private ListView&lt;Mytho&gt; MythosList;```\r\n\r\nAnd my main app:\r\n```\r\npublic void start(Stage stage) throws IOException {\r\n        AppCtrl controller = new AppCtrl();\r\n\r\n        FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(&quot;main.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load());\r\n\r\n        //Con esto se deberian cargar los datos de la BBDD,\r\n        //pero dice que es NULL\r\n        fxmlLoader.setController(controller);\r\n        System.out.println(&quot;Beep&quot;);\r\n        controller.cargarDatos(); //Again, this is the line that provokes errors\r\n        System.out.println(&quot;Beep&quot;); //But it reaches here!!\r\n\r\n\r\n        stage.initStyle(StageStyle.TRANSPARENT);\r\n        scene.setFill(Color.TRANSPARENT);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n    }\r\n```\r\n\r\nAnd the error is this one: \r\n```java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.ListView.setItems(javafx.collections.ObservableList)&quot; because &quot;this.MythosList&quot; is null```\r\n\r\n\r\nI&#39;m out of ideas, and the connection is okay, so it can&#39;t be that. The size of the array is the one it has to be, so I don&#39;t understand why in the last moment it breaks.","title":"I cannot connect my database with my javafx app listview","body":"<p>I'm in need of help. I'm making a simple app in javafx, the app has to connect with a database and return some data that I will show on a listview right as the app loads.</p>\n<p>The thing is, that I can't find the reason why errors come back to me saying that the list in null.</p>\n<p>My controller:</p>\n<pre><code>public void cargarDatos(){\n\n        //MythosList.getItems().clear();\n\n        try {\n\n            //Creamos el array donde guardar los datos\n            List&lt;Mytho&gt; mythos = mythosDAO.obtenerMythos();\n\n            System.out.println(&quot;Número de elementos en la lista: &quot; + mythos.size()); //This retrieves 3, which is the amount of lines I have in my database\n            MythosList.setItems(FXCollections.observableList(mythos)); //This is the line that provokes the error\n            System.out.println(&quot;Beep&quot;); //It doesn't reach this line\n        } catch (SQLException sqle) {\n            AlertTemp.mostrarError(&quot;Error cargando los datos de la aplicación&quot;);\n        } catch (Exception e){\n            System.out.println(e);\n        }\n    }\n</code></pre>\n<p>I have declared the listview as: <code>@FXML private ListView&lt;Mytho&gt; MythosList;</code></p>\n<p>And my main app:</p>\n<pre><code>public void start(Stage stage) throws IOException {\n        AppCtrl controller = new AppCtrl();\n\n        FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(&quot;main.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load());\n\n        //Con esto se deberian cargar los datos de la BBDD,\n        //pero dice que es NULL\n        fxmlLoader.setController(controller);\n        System.out.println(&quot;Beep&quot;);\n        controller.cargarDatos(); //Again, this is the line that provokes errors\n        System.out.println(&quot;Beep&quot;); //But it reaches here!!\n\n\n        stage.initStyle(StageStyle.TRANSPARENT);\n        scene.setFill(Color.TRANSPARENT);\n        stage.setScene(scene);\n        stage.show();\n\n    }\n</code></pre>\n<p>And the error is this one:\n<code>java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.ListView.setItems(javafx.collections.ObservableList)&quot; because &quot;this.MythosList&quot; is null</code></p>\n<p>I'm out of ideas, and the connection is okay, so it can't be that. The size of the array is the one it has to be, so I don't understand why in the last moment it breaks.</p>\n"},{"tags":["java","tomcat","deployment","project"],"comments":[{"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"score":0,"creation_date":1697567374,"post_id":77311347,"comment_id":136295257,"body_markdown":"Did you check the server log?","body":"Did you check the server log?"}],"owner":{"account_id":26723886,"reputation":1,"user_id":20327258,"display_name":"Aaditya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697566505,"creation_date":1697566505,"question_id":77311347,"body_markdown":"Undeploying ...\r\nOK - Undeployed application at context path [/bankingSystem]\r\nIn-place deployment at C:\\Users\\adity\\OneDrive\\Documents\\NetBeansProjects\\bankingSystem\\build\\web\r\ndeploy?config=file%3A%2FC%3A%2FUsers%2Fadity%2FAppData%2FLocal%2FTemp%2Fcontext215087617306647603.xml&amp;path=/bankingSystem\r\nFAIL - Deployed application at context path [/bankingSystem] but context failed to start\r\nC:\\Users\\adity\\OneDrive\\Documents\\NetBeansProjects\\bankingSystem\\nbproject\\build-impl.xml:1030: The module has not been deployed.\r\nSee the server log for details.\r\nBUILD FAILED (total time: 1 second)\r\n\r\nI want to just run my web application according to my .xml file\r\n","title":"Fail to deploy a web application project using TOMCAT(I&#39;m using xampp for that)","body":"<p>Undeploying ...\nOK - Undeployed application at context path [/bankingSystem]\nIn-place deployment at C:\\Users\\adity\\OneDrive\\Documents\\NetBeansProjects\\bankingSystem\\build\\web\ndeploy?config=file%3A%2FC%3A%2FUsers%2Fadity%2FAppData%2FLocal%2FTemp%2Fcontext215087617306647603.xml&amp;path=/bankingSystem\nFAIL - Deployed application at context path [/bankingSystem] but context failed to start\nC:\\Users\\adity\\OneDrive\\Documents\\NetBeansProjects\\bankingSystem\\nbproject\\build-impl.xml:1030: The module has not been deployed.\nSee the server log for details.\nBUILD FAILED (total time: 1 second)</p>\n<p>I want to just run my web application according to my .xml file</p>\n"},{"tags":["java","calculator","jtextfield"],"comments":[{"owner":{"account_id":2609703,"reputation":1305,"user_id":2260040,"accept_rate":57,"display_name":"user2260040"},"score":0,"creation_date":1697564988,"post_id":77311161,"comment_id":136294887,"body_markdown":"String comparison in java doesn&#39;t use ==","body":"String comparison in java doesn&#39;t use =="}],"answers":[{"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697564916,"creation_date":1697564916,"answer_id":77311195,"question_id":77311161,"body_markdown":"When you compare a content of the strings, you should use `equals()` instead of `==` (that compares the objects&#39; references). Read more [here][1] and [here][2]\r\n\r\nSo, change your code:\r\n```\r\nSystem.out.println(pantalla.getText() == &quot;0&quot;);\r\n```\r\nto\r\n```\r\nSystem.out.println(&quot;0&quot;.equals(pantalla.getText()));\r\n```\r\nand you will get the desired result.\r\n\r\n  [1]: https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\r\n  [2]: https://www.javatpoint.com/string-comparison-in-java","title":"When i compare the getText function of a JTextField with an equal String, it doesn&#180;t return true","body":"<p>When you compare a content of the strings, you should use <code>equals()</code> instead of <code>==</code> (that compares the objects' references). Read more <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">here</a> and <a href=\"https://www.javatpoint.com/string-comparison-in-java\" rel=\"nofollow noreferrer\">here</a></p>\n<p>So, change your code:</p>\n<pre><code>System.out.println(pantalla.getText() == &quot;0&quot;);\n</code></pre>\n<p>to</p>\n<pre><code>System.out.println(&quot;0&quot;.equals(pantalla.getText()));\n</code></pre>\n<p>and you will get the desired result.</p>\n"}],"owner":{"account_id":29694129,"reputation":9,"user_id":22757847,"display_name":"tumorito"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1697571780,"accepted_answer_id":77311195,"answer_count":1,"score":1,"last_activity_date":1697566022,"creation_date":1697564596,"question_id":77311161,"body_markdown":"So i have this calculator (on Java) and when i press a button i wanna check if in the JTextField(pantalla) is only &quot;0&quot; so i can replace it with the number instead of concatenate the button i pressed... the thing i&#180;ve noticed is that when i try it, it returns false everytime\r\n\r\ni&#180;ve tried to save the .getText() into a String variable and then compare it to the literal &quot;0&quot;, i even try to put the text to &quot;0&quot; 1 line above the comparation with the .setText().\r\n\r\n```\r\npantalla = new JTextField();\r\npantalla.setHorizontalAlignment(SwingConstants.RIGHT);\r\npantalla.setBounds(72, 19, 144, 25);\r\ncontentPane.add(pantalla);\r\npantalla.setColumns(10);\r\npantalla.setText(&quot;0&quot;);\r\n\t\t\r\nJButton btn0 = new JButton(&quot;0&quot;);\r\nbtn0.addActionListener(new ActionListener() \r\n{\r\n    public void actionPerformed(ActionEvent e) \r\n    {\r\n    pantalla.setText(&quot;0&quot;);\r\n    System.out.println(pantalla.getText() == &quot;0&quot;);\r\n//  pantalla.setText(pantalla.getText() + btn0.getText());\r\n    }\r\n});\r\n```\r\nheres the output of the code ive just shown: image(https://i.stack.imgur.com/g62Sp.png)\r\n","title":"When i compare the getText function of a JTextField with an equal String, it doesn&#180;t return true","body":"<p>So i have this calculator (on Java) and when i press a button i wanna check if in the JTextField(pantalla) is only &quot;0&quot; so i can replace it with the number instead of concatenate the button i pressed... the thing i´ve noticed is that when i try it, it returns false everytime</p>\n<p>i´ve tried to save the .getText() into a String variable and then compare it to the literal &quot;0&quot;, i even try to put the text to &quot;0&quot; 1 line above the comparation with the .setText().</p>\n<pre><code>pantalla = new JTextField();\npantalla.setHorizontalAlignment(SwingConstants.RIGHT);\npantalla.setBounds(72, 19, 144, 25);\ncontentPane.add(pantalla);\npantalla.setColumns(10);\npantalla.setText(&quot;0&quot;);\n        \nJButton btn0 = new JButton(&quot;0&quot;);\nbtn0.addActionListener(new ActionListener() \n{\n    public void actionPerformed(ActionEvent e) \n    {\n    pantalla.setText(&quot;0&quot;);\n    System.out.println(pantalla.getText() == &quot;0&quot;);\n//  pantalla.setText(pantalla.getText() + btn0.getText());\n    }\n});\n</code></pre>\n<p>heres the output of the code ive just shown: image(<a href=\"https://i.stack.imgur.com/g62Sp.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/g62Sp.png</a>)</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1697480004,"post_id":77304119,"comment_id":136282502,"body_markdown":"Don&#39;t do this. Storing values as CSV is very bad db design","body":"Don&#39;t do this. Storing values as CSV is very bad db design"},{"owner":{"account_id":29685644,"reputation":1,"user_id":22751261,"display_name":"Maeryska"},"score":0,"creation_date":1697481695,"post_id":77304119,"comment_id":136282758,"body_markdown":"@Jens , it is requirement from my management, so it must be done this way. Otherwise I would do it differently.","body":"@Jens , it is requirement from my management, so it must be done this way. Otherwise I would do it differently."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1697553765,"post_id":77304119,"comment_id":136292803,"body_markdown":"Don&#39;t use an ElemenetCollection/Enumerated annotations and instead use @Converter with an implementation of AttributeConverter&lt;List&lt;ViewedItem&gt;, String&gt; to perform the conversions from Lists to String data how ever you might want.","body":"Don&#39;t use an ElemenetCollection/Enumerated annotations and instead use @Converter with an implementation of AttributeConverter&lt;List&lt;ViewedItem&gt;, String&gt; to perform the conversions from Lists to String data how ever you might want."}],"answers":[{"tags":[],"owner":{"account_id":2674595,"reputation":272,"user_id":2311276,"accept_rate":60,"display_name":"Wim Van den Brande"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697565705,"creation_date":1697565705,"answer_id":77311272,"question_id":77304119,"body_markdown":"In PostgreSQL, you can use the json-binary data-type. And with Json-Binary you can store (typically small) collections of Enums or Key/Value pairs very easily. \r\n\r\nPlease find snippets below and change Map to a `List&lt;ViewedItem&gt;` \r\n\r\nDDL:\r\n\r\n    CREATE TABLE myTable (\r\n\tid int8 NOT NULL,\r\n\tnamesOfCitiesInDifferentLanguages jsonb NULL)\r\n\r\n\r\nJPA:\r\n\r\n    public class myTable {\r\n        @Type(JsonBinaryType.class)\r\n        @Column(columnDefinition = &quot;jsonb&quot;)\r\n        private Map&lt;Language, String&gt; namesOfCitiesInDifferentLanguages ;\r\n    }\r\n\r\nColumn-value: \r\n\r\n    {&quot;EN&quot;: &quot;Antwerp&quot;, &quot;FR&quot;: &quot;Anvers&quot;, &quot;NL&quot;: &quot;Antwerpen&quot;}\r\n\r\n","title":"Storing list of one enum to one column in database with Hibernate","body":"<p>In PostgreSQL, you can use the json-binary data-type. And with Json-Binary you can store (typically small) collections of Enums or Key/Value pairs very easily.</p>\n<p>Please find snippets below and change Map to a <code>List&lt;ViewedItem&gt;</code></p>\n<p>DDL:</p>\n<pre><code>CREATE TABLE myTable (\nid int8 NOT NULL,\nnamesOfCitiesInDifferentLanguages jsonb NULL)\n</code></pre>\n<p>JPA:</p>\n<pre><code>public class myTable {\n    @Type(JsonBinaryType.class)\n    @Column(columnDefinition = &quot;jsonb&quot;)\n    private Map&lt;Language, String&gt; namesOfCitiesInDifferentLanguages ;\n}\n</code></pre>\n<p>Column-value:</p>\n<pre><code>{&quot;EN&quot;: &quot;Antwerp&quot;, &quot;FR&quot;: &quot;Anvers&quot;, &quot;NL&quot;: &quot;Antwerpen&quot;}\n</code></pre>\n"}],"owner":{"account_id":29685644,"reputation":1,"user_id":22751261,"display_name":"Maeryska"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697565705,"creation_date":1697479819,"question_id":77304119,"body_markdown":"I need to **store all items from one list of ONE specific enum to ONE column in database utilizing Hibernate. Items in column should be divided by comma.** So result in column should be for instance: WELCOME, PREVIOUS\r\n\r\n\r\nThis is my UserEntity\r\n```\r\n@Column\r\n@Enumerated\r\n@ElementCollection(targetClass = ViewedItem.class)\r\nprivate List&lt;ViewedItem&gt; viewedItems;\r\n```\r\n\r\n\r\n\r\n```\r\nenum ViewedItem {\r\n   WELCOME,\r\n   PREVIOUS\r\n}\r\n```\r\nProblem with this solution is that it requires a new table in database with enum *ViewedItem*. This enum must be used only in application not in database. I cannot also store it as simple string in class *UserEntity*.\r\nHow can I achieve it? \r\n","title":"Storing list of one enum to one column in database with Hibernate","body":"<p>I need to <strong>store all items from one list of ONE specific enum to ONE column in database utilizing Hibernate. Items in column should be divided by comma.</strong> So result in column should be for instance: WELCOME, PREVIOUS</p>\n<p>This is my UserEntity</p>\n<pre><code>@Column\n@Enumerated\n@ElementCollection(targetClass = ViewedItem.class)\nprivate List&lt;ViewedItem&gt; viewedItems;\n</code></pre>\n<pre><code>enum ViewedItem {\n   WELCOME,\n   PREVIOUS\n}\n</code></pre>\n<p>Problem with this solution is that it requires a new table in database with enum <em>ViewedItem</em>. This enum must be used only in application not in database. I cannot also store it as simple string in class <em>UserEntity</em>.\nHow can I achieve it?</p>\n"},{"tags":["java","quartz-scheduler"],"answers":[{"comments":[{"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"score":0,"creation_date":1395429464,"post_id":22556598,"comment_id":34350788,"body_markdown":"By the time of your answer I&#39;ve already figured out the solution but it is the same as yours, so I&#39;ll accept it.","body":"By the time of your answer I&#39;ve already figured out the solution but it is the same as yours, so I&#39;ll accept it."},{"owner":{"account_id":2278011,"reputation":1541,"user_id":2003821,"accept_rate":56,"display_name":"Aadam"},"score":1,"creation_date":1481472007,"post_id":22556598,"comment_id":69380992,"body_markdown":"copied from here https://www.mkyong.com/java/how-to-list-all-jobs-in-the-quartz-scheduler/","body":"copied from here <a href=\"https://www.mkyong.com/java/how-to-list-all-jobs-in-the-quartz-scheduler/\" rel=\"nofollow noreferrer\">mkyong.com/java/how-to-list-all-jobs-in-the-quartz-scheduler</a>"}],"tags":[],"owner":{"account_id":4206070,"reputation":939,"user_id":3444930,"accept_rate":56,"display_name":"Karthik"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1395399360,"creation_date":1395398824,"answer_id":22556598,"question_id":22556304,"body_markdown":"The below code list all Quartz job associated to a scheduler (Quartz 2.x.x)\r\n\r\n\r\n    for (String groupName : scheduler.getJobGroupNames()) {\r\n \r\n     for (JobKey jobKey : scheduler.getJobKeys(GroupMatcher.jobGroupEquals(groupName))) {\r\n \r\n\t  String jobName = jobKey.getName();\r\n\t  String jobGroup = jobKey.getGroup();\r\n \r\n\t  //get job&#39;s trigger\r\n\t  List&lt;Trigger&gt; triggers = (List&lt;Trigger&gt;) scheduler.getTriggersOfJob(jobKey);\r\n\t  Date nextFireTime = triggers.get(0).getNextFireTime(); \r\n \r\n\t\tSystem.out.println(&quot;[jobName] : &quot; + jobName + &quot; [groupName] : &quot;\r\n\t\t\t+ jobGroup + &quot; - &quot; + nextFireTime);\r\n \r\n\t  }\r\n \r\n    }\r\n","title":"How to query the scheduled jobs from Quartz scheduler?","body":"<p>The below code list all Quartz job associated to a scheduler (Quartz 2.x.x)</p>\n\n<pre><code>for (String groupName : scheduler.getJobGroupNames()) {\n\n for (JobKey jobKey : scheduler.getJobKeys(GroupMatcher.jobGroupEquals(groupName))) {\n\n  String jobName = jobKey.getName();\n  String jobGroup = jobKey.getGroup();\n\n  //get job's trigger\n  List&lt;Trigger&gt; triggers = (List&lt;Trigger&gt;) scheduler.getTriggersOfJob(jobKey);\n  Date nextFireTime = triggers.get(0).getNextFireTime(); \n\n    System.out.println(\"[jobName] : \" + jobName + \" [groupName] : \"\n        + jobGroup + \" - \" + nextFireTime);\n\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27509080,"reputation":9,"user_id":20991328,"display_name":"Galeno de Melo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697565231,"creation_date":1697565231,"answer_id":77311231,"question_id":22556304,"body_markdown":"Another way to list all `JobKey` without using `for`\r\n\r\n```java\r\nList&lt;JobKey&gt; jobKeyList = (List&lt;JobKey&gt;) scheduler.getJobKeys(GroupMatcher.anyGroup());\r\n```","title":"How to query the scheduled jobs from Quartz scheduler?","body":"<p>Another way to list all <code>JobKey</code> without using <code>for</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;JobKey&gt; jobKeyList = (List&lt;JobKey&gt;) scheduler.getJobKeys(GroupMatcher.anyGroup());\n</code></pre>\n"}],"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13911,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":22556598,"answer_count":2,"score":5,"last_activity_date":1697565231,"creation_date":1395397974,"question_id":22556304,"body_markdown":"I have a `Scheduler` object in my application and I add `Job`s to it using the `scheduleJob` method.\r\n\r\nIn my code I schedule `Job`s with an instant `Trigger`:\r\n\r\n    TriggerBuilder.newTrigger().startNow().build();\r\n\r\nMy question is how to tell which `Job`s are scheduled into my `Scheduler`? There is only a `getCurrentlyExecutingJobs` method which seems unreliable so far.\r\n\r\n","title":"How to query the scheduled jobs from Quartz scheduler?","body":"<p>I have a <code>Scheduler</code> object in my application and I add <code>Job</code>s to it using the <code>scheduleJob</code> method.</p>\n\n<p>In my code I schedule <code>Job</code>s with an instant <code>Trigger</code>:</p>\n\n<pre><code>TriggerBuilder.newTrigger().startNow().build();\n</code></pre>\n\n<p>My question is how to tell which <code>Job</code>s are scheduled into my <code>Scheduler</code>? There is only a <code>getCurrentlyExecutingJobs</code> method which seems unreliable so far.</p>\n"},{"tags":["java","maven","jersey"],"comments":[{"owner":{"account_id":2334779,"reputation":2501,"user_id":4782919,"display_name":"RPresle"},"score":1,"creation_date":1431437018,"post_id":30191612,"comment_id":48489414,"body_markdown":"Can you try `mvn archetype:generate` without any arguments?\nMy idea is maybe you didn&#39;t specify the right arguments for this command line. (maybe missing archetypeArtifactId). \n\nTell me when you&#39;re done","body":"Can you try <code>mvn archetype:generate</code> without any arguments? My idea is maybe you didn&#39;t specify the right arguments for this command line. (maybe missing archetypeArtifactId).   Tell me when you&#39;re done"},{"owner":{"account_id":6253947,"reputation":934,"user_id":4863163,"accept_rate":69,"display_name":"MrPencil"},"score":0,"creation_date":1431437350,"post_id":30191612,"comment_id":48489668,"body_markdown":"@RPresle: I am getting much of stuff with number but I cant find my flassfish version below just this one `1303: remote -&gt; org.xaloon.archetype:xaloon-archetype-wicket-jpa-glassfish (-)`","body":"@RPresle: I am getting much of stuff with number but I cant find my flassfish version below just this one <code>1303: remote -&gt; org.xaloon.archetype:xaloon-archetype-wicket-jpa-glassfish (-)</code>"},{"owner":{"account_id":6253947,"reputation":934,"user_id":4863163,"accept_rate":69,"display_name":"MrPencil"},"score":0,"creation_date":1431437425,"post_id":30191612,"comment_id":48489728,"body_markdown":"ntains): 598: 1303\nChoose org.xaloon.archetype:xaloon-archetype-wicket-jpa-glassfish version:\n1: 1.5.0\n2: 1.5.1\n3: 1.5.2\n4: 1.6.0\n5: 1.6.1\nChoose a number: 5:","body":"ntains): 598: 1303 Choose org.xaloon.archetype:xaloon-archetype-wicket-jpa-glassfish version: 1: 1.5.0 2: 1.5.1 3: 1.5.2 4: 1.6.0 5: 1.6.1 Choose a number: 5:"},{"owner":{"account_id":2334779,"reputation":2501,"user_id":4782919,"display_name":"RPresle"},"score":0,"creation_date":1431437985,"post_id":30191612,"comment_id":48490201,"body_markdown":"Ok so you&#39;re Maven is completely ok, it&#39;s just the way you call the command and the content of it. Can you try this  `mvn archetype:generate -DarchetypeGroupId=org.glassfish.jersey.archety\npes  -DarchetypeArtifactId=jersey-quickstart-webapp`. From [http://mvnrepository.com/artifact/org.glassfish.jersey.archetypes](http://mvnrepository.com/artifact/org.glassfish.jersey.archetypes)","body":"Ok so you&#39;re Maven is completely ok, it&#39;s just the way you call the command and the content of it. Can you try this  <code>mvn archetype:generate -DarchetypeGroupId=org.glassfish.jersey.archety pes  -DarchetypeArtifactId=jersey-quickstart-webapp</code>. From <a href=\"http://mvnrepository.com/artifact/org.glassfish.jersey.archetypes\" rel=\"nofollow noreferrer\">http://mvnrepository.com/artifact/org.glassfish.jersey.arche&zwnj;&#8203;types</a>"},{"owner":{"account_id":6253947,"reputation":934,"user_id":4863163,"accept_rate":69,"display_name":"MrPencil"},"score":0,"creation_date":1431438194,"post_id":30191612,"comment_id":48490368,"body_markdown":"I am getting the same error &#39;The goal you specified requires a project to execute but there is no POM\n in this directory (D:\\maven). Please verify you invoked Maven from the correct directory.`","body":"I am getting the same error &#39;The goal you specified requires a project to execute but there is no POM  in this directory (D:\\maven). Please verify you invoked Maven from the correct directory.`"},{"owner":{"account_id":2334779,"reputation":2501,"user_id":4782919,"display_name":"RPresle"},"score":0,"creation_date":1431438932,"post_id":30191612,"comment_id":48491019,"body_markdown":"Maybe you&#39;ve already seen [that](https://stackoverflow.com/questions/12593628/maven-error-no-pom-in-this-project-when-performing-archetypegenerate). Be sure you have no caracter &#39;\\&#39;","body":"Maybe you&#39;ve already seen <a href=\"https://stackoverflow.com/questions/12593628/maven-error-no-pom-in-this-project-when-performing-archetypegenerate\">that</a>. Be sure you have no caracter &#39;\\&#39;"},{"owner":{"account_id":6253947,"reputation":934,"user_id":4863163,"accept_rate":69,"display_name":"MrPencil"},"score":0,"creation_date":1431441894,"post_id":30191612,"comment_id":48493519,"body_markdown":"@RPresle: I have typed it without `\\` please see my edit question part.","body":"@RPresle: I have typed it without `` please see my edit question part."}],"answers":[{"comments":[{"owner":{"account_id":6253947,"reputation":934,"user_id":4863163,"accept_rate":69,"display_name":"MrPencil"},"score":0,"creation_date":1431445459,"post_id":30194665,"comment_id":48496393,"body_markdown":"At the end of the line what do you mean with code here? it works now I have created it Thanks but I cant import it into eclipse.","body":"At the end of the line what do you mean with code here? it works now I have created it Thanks but I cant import it into eclipse."},{"owner":{"account_id":2334779,"reputation":2501,"user_id":4782919,"display_name":"RPresle"},"score":0,"creation_date":1431447337,"post_id":30194665,"comment_id":48497797,"body_markdown":"Was a type. Corrected. Can you explain this eclipse thing? here or in an another question an link it here","body":"Was a type. Corrected. Can you explain this eclipse thing? here or in an another question an link it here"}],"tags":[],"owner":{"account_id":2334779,"reputation":2501,"user_id":4782919,"display_name":"RPresle"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1431447257,"creation_date":1431442890,"answer_id":30194665,"question_id":30191612,"body_markdown":"I&#39;ll go for an answer now.\r\n\r\nSo the first part of your problem was the caracter &quot;\\&quot;. See [this thread](https://stackoverflow.com/questions/12593628/maven-error-no-pom-in-this-project-when-performing-archetypegenerate)\r\n\r\nThen for your second problem : it is said   `The desired archetype does\r\nnot exist`. This archetype maven-archetype-quickstart doesn&#39;t exist in maven repository. Please refer to [this link](http://mvnrepository.com/artifact/org.glassfish.jersey.archetypes) to choose the archetype you are looking for and put it in your command.\r\n\r\nAt the end you command must have at least 2 argument `-DarchetypeGroupId` and `-DarchetypeArtifactId`. For example :\r\n\r\n    mvn archetype:generate -DarchetypeGroupId=org.glassfish.jersey.archetypes -DarchetypeArtifactId=jersey-quickstart-webapp","title":"Please verify you invoked Maven from the correct directory","body":"<p>I'll go for an answer now.</p>\n\n<p>So the first part of your problem was the caracter \"\\\". See <a href=\"https://stackoverflow.com/questions/12593628/maven-error-no-pom-in-this-project-when-performing-archetypegenerate\">this thread</a></p>\n\n<p>Then for your second problem : it is said   <code>The desired archetype does\nnot exist</code>. This archetype maven-archetype-quickstart doesn't exist in maven repository. Please refer to <a href=\"http://mvnrepository.com/artifact/org.glassfish.jersey.archetypes\" rel=\"nofollow\">this link</a> to choose the archetype you are looking for and put it in your command.</p>\n\n<p>At the end you command must have at least 2 argument <code>-DarchetypeGroupId</code> and <code>-DarchetypeArtifactId</code>. For example :</p>\n\n<pre><code>mvn archetype:generate -DarchetypeGroupId=org.glassfish.jersey.archetypes -DarchetypeArtifactId=jersey-quickstart-webapp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4383258,"reputation":11,"user_id":3574289,"display_name":"Shree"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697564917,"creation_date":1697564917,"answer_id":77311197,"question_id":30191612,"body_markdown":"I could resolve maven ***mvn archetype:generate*** issue &quot;**The goal you specified requires a project to execute but there is no POM in this directory XXXX**&quot; on windows.\r\n\r\nIt is **related to how Windows PowerShell interprets the command**\r\n\r\nYou need to enclose the arguments of *mvn archetype:generate* with **double quotes (&quot;&quot;)**. \r\n\r\nFor example:\r\n```\r\n**mvn archetype:generate \r\n  &quot;-DarchetypeGroupId=org.apache.maven.archetypes&quot; \r\n  &quot;-DarchetypeArtifactId=maven-archetype-quickstart&quot; \r\n  &quot;-DgroupId=codingvoding.org&quot;  \r\n  &quot;-DartifactId=java8-features-demo&quot; \r\n  -B**\r\n```\r\n\r\nAlso, make sure that you are running this command on **EMPTY directory**.","title":"Please verify you invoked Maven from the correct directory","body":"<p>I could resolve maven <em><strong>mvn archetype:generate</strong></em> issue &quot;<strong>The goal you specified requires a project to execute but there is no POM in this directory XXXX</strong>&quot; on windows.</p>\n<p>It is <strong>related to how Windows PowerShell interprets the command</strong></p>\n<p>You need to enclose the arguments of <em>mvn archetype:generate</em> with <strong>double quotes (&quot;&quot;)</strong>.</p>\n<p>For example:</p>\n<pre><code>**mvn archetype:generate \n  &quot;-DarchetypeGroupId=org.apache.maven.archetypes&quot; \n  &quot;-DarchetypeArtifactId=maven-archetype-quickstart&quot; \n  &quot;-DgroupId=codingvoding.org&quot;  \n  &quot;-DartifactId=java8-features-demo&quot; \n  -B**\n</code></pre>\n<p>Also, make sure that you are running this command on <strong>EMPTY directory</strong>.</p>\n"}],"owner":{"account_id":6253947,"reputation":934,"user_id":4863163,"accept_rate":69,"display_name":"MrPencil"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37151,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":30194665,"answer_count":2,"score":4,"last_activity_date":1697564917,"creation_date":1431435475,"question_id":30191612,"body_markdown":"I have installed maven :\r\n\r\n    C:\\Windows\\System32&gt;mvn --version\r\n    Apache Maven 3.3.3 (7994120775791599e405a7528ec3e0dke21dja06; 2015-04-22T13:57:3\r\n    7+02:00)\r\n    Maven home: C:\\Program Files\\Apache Software Foundation\\apache-maven-3.3.3\r\n    Java version: 1.7.0_51, vendor: Oracle Corporation\r\n    Java home: C:\\Program Files\\Java\\jdk1.7.0_51\\jre\r\n    Default locale: de_DE, platform encoding: Cp1252\r\n    OS name: &quot;windows 8&quot;, version: &quot;6.2&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\n\r\n\r\nI am trying to generate  Jersey glassfish project with the aid of maven prompt but when I type the following:\r\n\r\n\r\n    D:\\maven&gt;mvn archetype:generate  -DarchetypeGroupId=org.glassfish.jersey.archety\r\n    pes -DinteractiveMode=false \\ -DarchetypeVersion=2.17\r\n\r\nI am getting this error:\r\n\r\n&gt; The goal you specified requires a project to execute but there is no POM\r\n in this directory (D:\\maven). Please verify you invoked Maven from the correct\r\ndirectory. -&gt; [Help 1]\r\n\r\nI dont understand the error: Which project is required here since I am trying to generate one? And how should I create the pom.xml file? I thought it is created by the project generation.\r\n\r\nI appreciate any help.\r\n\r\n\r\n**Edit** when I type it without `\\`\r\n\r\n\r\n    D:\\maven&gt;mvn archetype:generate  -DarchetypeGroupId=org.glassfish.jersey.archety\r\n    pes  -DinteractiveMode=false -DarchetypeVersion=2.17\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building Maven Stub Project (No POM) 1\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO]\r\n    [INFO] &gt;&gt;&gt; maven-archetype-plugin:2.3:generate (default-cli) &gt; generate-sources\r\n    @ standalone-pom &gt;&gt;&gt;\r\n    [INFO]\r\n    [INFO] &lt;&lt;&lt; maven-archetype-plugin:2.3:generate (default-cli) &lt; generate-sources\r\n    @ standalone-pom &lt;&lt;&lt;\r\n    [INFO]\r\n    [INFO] --- maven-archetype-plugin:2.3:generate (default-cli) @ standalone-pom --\r\n    -\r\n    [INFO] Generating project in Batch mode\r\n    [INFO] No archetype defined. Using maven-archetype-quickstart (org.glassfish.jer\r\n    sey.archetypes:maven-archetype-quickstart:2.17)\r\n    Downloading: https://repo.maven.apache.org/maven2/org/glassfish/jersey/archetype\r\n    s/maven-archetype-quickstart/2.17/maven-archetype-quickstart-2.17.jar\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 10.542 s\r\n    [INFO] Finished at: 2015-05-12T16:39:51+02:00\r\n    [INFO] Final Memory: 17M/152M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-archetype-plugin:2\r\n    .3:generate (default-cli) on project standalone-pom: The desired archetype does\r\n    not exist (org.glassfish.jersey.archetypes:maven-archetype-quickstart:2.17) -&gt; [\r\n    Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e swit\r\n    ch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please rea\r\n    d the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureExc\r\n    eption\r\n    \r\n    D:\\maven&gt;","title":"Please verify you invoked Maven from the correct directory","body":"<p>I have installed maven :</p>\n\n<pre><code>C:\\Windows\\System32&gt;mvn --version\nApache Maven 3.3.3 (7994120775791599e405a7528ec3e0dke21dja06; 2015-04-22T13:57:3\n7+02:00)\nMaven home: C:\\Program Files\\Apache Software Foundation\\apache-maven-3.3.3\nJava version: 1.7.0_51, vendor: Oracle Corporation\nJava home: C:\\Program Files\\Java\\jdk1.7.0_51\\jre\nDefault locale: de_DE, platform encoding: Cp1252\nOS name: \"windows 8\", version: \"6.2\", arch: \"amd64\", family: \"windows\"\n</code></pre>\n\n<p>I am trying to generate  Jersey glassfish project with the aid of maven prompt but when I type the following:</p>\n\n<pre><code>D:\\maven&gt;mvn archetype:generate  -DarchetypeGroupId=org.glassfish.jersey.archety\npes -DinteractiveMode=false \\ -DarchetypeVersion=2.17\n</code></pre>\n\n<p>I am getting this error:</p>\n\n<blockquote>\n  <p>The goal you specified requires a project to execute but there is no POM\n   in this directory (D:\\maven). Please verify you invoked Maven from the correct\n  directory. -> [Help 1]</p>\n</blockquote>\n\n<p>I dont understand the error: Which project is required here since I am trying to generate one? And how should I create the pom.xml file? I thought it is created by the project generation.</p>\n\n<p>I appreciate any help.</p>\n\n<p><strong>Edit</strong> when I type it without <code>\\</code></p>\n\n<pre><code>D:\\maven&gt;mvn archetype:generate  -DarchetypeGroupId=org.glassfish.jersey.archety\npes  -DinteractiveMode=false -DarchetypeVersion=2.17\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building Maven Stub Project (No POM) 1\n[INFO] ------------------------------------------------------------------------\n[INFO]\n[INFO] &gt;&gt;&gt; maven-archetype-plugin:2.3:generate (default-cli) &gt; generate-sources\n@ standalone-pom &gt;&gt;&gt;\n[INFO]\n[INFO] &lt;&lt;&lt; maven-archetype-plugin:2.3:generate (default-cli) &lt; generate-sources\n@ standalone-pom &lt;&lt;&lt;\n[INFO]\n[INFO] --- maven-archetype-plugin:2.3:generate (default-cli) @ standalone-pom --\n-\n[INFO] Generating project in Batch mode\n[INFO] No archetype defined. Using maven-archetype-quickstart (org.glassfish.jer\nsey.archetypes:maven-archetype-quickstart:2.17)\nDownloading: https://repo.maven.apache.org/maven2/org/glassfish/jersey/archetype\ns/maven-archetype-quickstart/2.17/maven-archetype-quickstart-2.17.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 10.542 s\n[INFO] Finished at: 2015-05-12T16:39:51+02:00\n[INFO] Final Memory: 17M/152M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-archetype-plugin:2\n.3:generate (default-cli) on project standalone-pom: The desired archetype does\nnot exist (org.glassfish.jersey.archetypes:maven-archetype-quickstart:2.17) -&gt; [\nHelp 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e swit\nch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please rea\nd the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureExc\neption\n\nD:\\maven&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1697537717,"post_id":77308054,"comment_id":136289486,"body_markdown":"Not really an answer, but I would refactor that if I were in your shoes. Such ambiguous mappings are complicating both usage and maintenance of the API. TBH I am surprised spring has not failed on startup with ambiguous mappings error.","body":"Not really an answer, but I would refactor that if I were in your shoes. Such ambiguous mappings are complicating both usage and maintenance of the API. TBH I am surprised spring has not failed on startup with ambiguous mappings error."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697538189,"post_id":77308054,"comment_id":136289583,"body_markdown":"Does this answer your question? [Optional @Pathvariable in REST controller spring 4](https://stackoverflow.com/questions/47567364/optional-pathvariable-in-rest-controller-spring-4)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/47567364/optional-pathvariable-in-rest-controller-spring-4\">Optional @Pathvariable in REST controller spring 4</a>"},{"owner":{"account_id":16500982,"reputation":84,"user_id":13749786,"display_name":"Watermelon"},"score":0,"creation_date":1697540342,"post_id":77308054,"comment_id":136289977,"body_markdown":"the format is supposed to be the response representation. like .json or .rdf. So I can not have it as a request param. Let me try with single endpoint","body":"the format is supposed to be the response representation. like .json or .rdf. So I can not have it as a request param. Let me try with single endpoint"}],"answers":[{"comments":[{"owner":{"account_id":112379,"reputation":38375,"user_id":296452,"accept_rate":42,"display_name":"Andreas Wederbrand"},"score":0,"creation_date":1697565041,"post_id":77308284,"comment_id":136294896,"body_markdown":"I&#39;m quite sure you would need to add `?format=jpg` to get it into a RequestParam","body":"I&#39;m quite sure you would need to add <code>?format=jpg</code> to get it into a RequestParam"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697607312,"post_id":77308284,"comment_id":136299397,"body_markdown":"@AndreasWederbrand Yes, exactly. A query parameter.","body":"@AndreasWederbrand Yes, exactly. A query parameter."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697540278,"creation_date":1697539129,"answer_id":77308284,"question_id":77308054,"body_markdown":"The proper solution here is to combine both endpoints into one. You could make the `.{format}` an optional part of the path, but it&#39;s even nicer to just turn it into an optional query parameter:\r\n\r\n```\r\n @GetMapping(value =  &quot;/record/{id}/{lcId}&quot;,\r\n             headers = {ACCEPT_HEADER_JSON, \r\n                        ACCEPT_HEADER_APPLICATION_RDF_XML, \r\n                        ACCEPT_HEADER_RDF_XML,\r\n                        ACCEPT_HEADER_APPLICATION_XML},\r\n             produces = {MediaType.APPLICATION_JSON_VALUE, \r\n                         MediaType.TEXT_XML_VALUE,\r\n                         MediaType.APPLICATION_XML_VALUE, \r\n                         HttpHeaders.CONTENT_TYPE_APPLICATION_RDF_XML, \r\n                         HttpHeaders.CONTENT_TYPE_RDF_XML})\r\n public ResponseEntity&lt;String&gt; getwithHeader(\r\n            @PathVariable(&quot;id&quot;) String id,\r\n            @PathVariable(&quot;lcId&quot;) String lcId,\r\n            @RequestParam(required = false) String format,\r\n            HttpServletRequest request) throws IOException {\r\n        ...\r\n }\r\n\r\n```","title":"Endpoints with Same header values","body":"<p>The proper solution here is to combine both endpoints into one. You could make the <code>.{format}</code> an optional part of the path, but it's even nicer to just turn it into an optional query parameter:</p>\n<pre><code> @GetMapping(value =  &quot;/record/{id}/{lcId}&quot;,\n             headers = {ACCEPT_HEADER_JSON, \n                        ACCEPT_HEADER_APPLICATION_RDF_XML, \n                        ACCEPT_HEADER_RDF_XML,\n                        ACCEPT_HEADER_APPLICATION_XML},\n             produces = {MediaType.APPLICATION_JSON_VALUE, \n                         MediaType.TEXT_XML_VALUE,\n                         MediaType.APPLICATION_XML_VALUE, \n                         HttpHeaders.CONTENT_TYPE_APPLICATION_RDF_XML, \n                         HttpHeaders.CONTENT_TYPE_RDF_XML})\n public ResponseEntity&lt;String&gt; getwithHeader(\n            @PathVariable(&quot;id&quot;) String id,\n            @PathVariable(&quot;lcId&quot;) String lcId,\n            @RequestParam(required = false) String format,\n            HttpServletRequest request) throws IOException {\n        ...\n }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112379,"reputation":38375,"user_id":296452,"accept_rate":42,"display_name":"Andreas Wederbrand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697564878,"creation_date":1697564878,"answer_id":77311192,"question_id":77308054,"body_markdown":"You can use regexp to limit what characters are allowed in each of the PathVariables. So for lcId you would allow all characters except for the dot. Like this\r\n\r\n    @RestController\r\n    public class Controller {\r\n    \t@RequestMapping(value=&quot;/{id}/{lcid}.{format}&quot;)\r\n    \tpublic void withFormat(@PathVariable(&quot;id&quot;) int id, @PathVariable(&quot;lcid&quot;) String lcid, @PathVariable(&quot;format&quot;) String format) {\r\n    \t\tSystem.out.println(&quot;format&quot;);\r\n    \t}\r\n    \r\n    \t@RequestMapping(value=&quot;/{id}/{lcid:[^.]+}&quot;)\r\n    \tpublic void withoutFormat(@PathVariable(&quot;id&quot;) int id, @PathVariable(&quot;lcid&quot;) String lcid) {\r\n    \t\tSystem.out.println(&quot;no format&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"Endpoints with Same header values","body":"<p>You can use regexp to limit what characters are allowed in each of the PathVariables. So for lcId you would allow all characters except for the dot. Like this</p>\n<pre><code>@RestController\npublic class Controller {\n    @RequestMapping(value=&quot;/{id}/{lcid}.{format}&quot;)\n    public void withFormat(@PathVariable(&quot;id&quot;) int id, @PathVariable(&quot;lcid&quot;) String lcid, @PathVariable(&quot;format&quot;) String format) {\n        System.out.println(&quot;format&quot;);\n    }\n\n    @RequestMapping(value=&quot;/{id}/{lcid:[^.]+}&quot;)\n    public void withoutFormat(@PathVariable(&quot;id&quot;) int id, @PathVariable(&quot;lcid&quot;) String lcid) {\n        System.out.println(&quot;no format&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16500982,"reputation":84,"user_id":13749786,"display_name":"Watermelon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697564878,"creation_date":1697537092,"question_id":77308054,"body_markdown":"I have two rest endpoints. \r\n\r\nSo if I pass format value the first endpoint should be called and I don&#39;t pass format value the second endpoint should be called\r\n\r\n1. `/record/{id}/{lcid}.{format}`\r\n2. `/record/{id}/{lcid}`\r\n\r\nIf I pass the format value, even then the second endpoint is called. \r\n\r\nIf I pass a Accept header and no format value then second endpoint is called \r\n\r\nIn every case the second endpoint is invoked. \r\n\r\nHere is my code \r\n\r\n```\r\n@GetMapping(value = &quot;/record/{id}/{lcId}.{format}&quot;,\r\n            produces = {MediaType.APPLICATION_JSON_VALUE, \r\n                        MediaType.TEXT_XML_VALUE,\r\n                        MediaType.APPLICATION_XML_VALUE,                                                                         \r\n                        HttpHeaders.CONTENT_TYPE_APPLICATION_RDF_XML, \r\n                        HttpHeaders.CONTENT_TYPE_RDF_XML})\r\npublic ResponseEntity&lt;String&gt; getWithFormat(\r\n            @PathVariable String id,\r\n            @PathVariable String lcId,\r\n            @PathVariable (value = &quot;format&quot;) String format,\r\n            HttpServletRequest request) throws IOException {\r\n\r\n      ....\r\n}\r\n\r\n\r\n@GetMapping(value =  &quot;/record/{id}/{lcId}&quot;,\r\n            headers = {ACCEPT_HEADER_JSON, \r\n                       ACCEPT_HEADER_APPLICATION_RDF_XML, \r\n                       ACCEPT_HEADER_RDF_XML,                        \r\n                       ACCEPT_HEADER_APPLICATION_XML},\r\n            produces = {MediaType.APPLICATION_JSON_VALUE,                        \r\n                        MediaType.TEXT_XML_VALUE,\r\n                        MediaType.APPLICATION_XML_VALUE, \r\n                        HttpHeaders.CONTENT_TYPE_APPLICATION_RDF_XML, \r\n                        HttpHeaders.CONTENT_TYPE_RDF_XML})\r\npublic ResponseEntity&lt;String&gt; getwithHeader(\r\n            @PathVariable (value = &quot;id&quot;) String id,\r\n            @PathVariable (value = &quot;lcId&quot;)String lcId,\r\n            HttpServletRequest request) throws IOException {\r\n        ...\r\n}\r\n\r\n```\r\n\r\n**The ACCEPT_HEADER_JSON = &quot;Accept=&quot; + MediaType.APPLICATION_JSON_VALUE;**\r\n\r\nCan someone help me, please?","title":"Endpoints with Same header values","body":"<p>I have two rest endpoints.</p>\n<p>So if I pass format value the first endpoint should be called and I don't pass format value the second endpoint should be called</p>\n<ol>\n<li><code>/record/{id}/{lcid}.{format}</code></li>\n<li><code>/record/{id}/{lcid}</code></li>\n</ol>\n<p>If I pass the format value, even then the second endpoint is called.</p>\n<p>If I pass a Accept header and no format value then second endpoint is called</p>\n<p>In every case the second endpoint is invoked.</p>\n<p>Here is my code</p>\n<pre><code>@GetMapping(value = &quot;/record/{id}/{lcId}.{format}&quot;,\n            produces = {MediaType.APPLICATION_JSON_VALUE, \n                        MediaType.TEXT_XML_VALUE,\n                        MediaType.APPLICATION_XML_VALUE,                                                                         \n                        HttpHeaders.CONTENT_TYPE_APPLICATION_RDF_XML, \n                        HttpHeaders.CONTENT_TYPE_RDF_XML})\npublic ResponseEntity&lt;String&gt; getWithFormat(\n            @PathVariable String id,\n            @PathVariable String lcId,\n            @PathVariable (value = &quot;format&quot;) String format,\n            HttpServletRequest request) throws IOException {\n\n      ....\n}\n\n\n@GetMapping(value =  &quot;/record/{id}/{lcId}&quot;,\n            headers = {ACCEPT_HEADER_JSON, \n                       ACCEPT_HEADER_APPLICATION_RDF_XML, \n                       ACCEPT_HEADER_RDF_XML,                        \n                       ACCEPT_HEADER_APPLICATION_XML},\n            produces = {MediaType.APPLICATION_JSON_VALUE,                        \n                        MediaType.TEXT_XML_VALUE,\n                        MediaType.APPLICATION_XML_VALUE, \n                        HttpHeaders.CONTENT_TYPE_APPLICATION_RDF_XML, \n                        HttpHeaders.CONTENT_TYPE_RDF_XML})\npublic ResponseEntity&lt;String&gt; getwithHeader(\n            @PathVariable (value = &quot;id&quot;) String id,\n            @PathVariable (value = &quot;lcId&quot;)String lcId,\n            HttpServletRequest request) throws IOException {\n        ...\n}\n\n</code></pre>\n<p><strong>The ACCEPT_HEADER_JSON = &quot;Accept=&quot; + MediaType.APPLICATION_JSON_VALUE;</strong></p>\n<p>Can someone help me, please?</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","properties-file"],"answers":[{"tags":[],"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"comment_count":0,"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1492885313,"creation_date":1492885313,"answer_id":43562950,"question_id":43562880,"body_markdown":"It&#39;s because it&#39;s being opened by the STS properties editor which validates properties amongst other things. There&#39;s no harm in having it in the application.properties file, you can even add your own meta-data for the property. \r\n\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/html/configuration-metadata.html","title":"SpringBoot unknown property in application.properties","body":"<p>It's because it's being opened by the STS properties editor which validates properties amongst other things. There's no harm in having it in the application.properties file, you can even add your own meta-data for the property. </p>\n\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/configuration-metadata.html\" rel=\"noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/configuration-metadata.html</a></p>\n"},{"tags":[],"owner":{"account_id":8580155,"reputation":81,"user_id":6428063,"display_name":"Takyon"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1594606207,"creation_date":1492890333,"answer_id":43563851,"question_id":43562880,"body_markdown":"I use this method to add properties in the file application.properties.\r\n\r\nAdd your new property in application.properties :\r\n    default.to.address=nunito.calzada@gmail.com\r\nHover the new property, you&#39;ll see a &quot;quickfixes tooltip&quot; which proposes you to add the new property: Create metadata for &#39;default.to.address&#39;.\r\n\r\nThen, browse the class and field you want to bind the property to and add this annotation:\r\n\r\n    @Value(&quot;${default.to.address}&quot;)\r\n    private String address;\r\n\r\nNow your object field should be valued with the property value.\r\n","title":"SpringBoot unknown property in application.properties","body":"<p>I use this method to add properties in the file application.properties.</p>\n<p>Add your new property in application.properties :\ndefault.to.address=nunito.calzada@gmail.com\nHover the new property, you'll see a &quot;quickfixes tooltip&quot; which proposes you to add the new property: Create metadata for 'default.to.address'.</p>\n<p>Then, browse the class and field you want to bind the property to and add this annotation:</p>\n<pre><code>@Value(&quot;${default.to.address}&quot;)\nprivate String address;\n</code></pre>\n<p>Now your object field should be valued with the property value.</p>\n"},{"tags":[],"owner":{"account_id":547752,"reputation":53,"user_id":1395004,"display_name":"CodersDream"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1492911951,"creation_date":1492911951,"answer_id":43566562,"question_id":43562880,"body_markdown":"You should try adding these kind of values in Environment, instead application.properties, since you have the option to update the values anytime without doing compile changes / redeploy changes. application.properties could more beneficial for the properties that you never change like database credentials.","title":"SpringBoot unknown property in application.properties","body":"<p>You should try adding these kind of values in Environment, instead application.properties, since you have the option to update the values anytime without doing compile changes / redeploy changes. application.properties could more beneficial for the properties that you never change like database credentials.</p>\n"},{"comments":[{"owner":{"account_id":1367462,"reputation":1563,"user_id":1303612,"display_name":"jebeaudet"},"score":0,"creation_date":1625237066,"post_id":52196865,"comment_id":120582179,"body_markdown":"It doesn&#39;t seem to be possible anymore in STS 4, I&#39;ve raised an issue about it https://github.com/spring-projects/sts4/issues/654","body":"It doesn&#39;t seem to be possible anymore in STS 4, I&#39;ve raised an issue about it <a href=\"https://github.com/spring-projects/sts4/issues/654\" rel=\"nofollow noreferrer\">github.com/spring-projects/sts4/issues/654</a>"},{"owner":{"account_id":1367462,"reputation":1563,"user_id":1303612,"display_name":"jebeaudet"},"score":1,"creation_date":1625580821,"post_id":52196865,"comment_id":120661040,"body_markdown":"I stand corrected for my last reply : in STS 4.11, you will find this option in `Window -&gt; Preferences -&gt; Language Servers -&gt; Spring Language Servers -&gt; Spring Boot Language Servers -&gt; Yaml Editor or Properties Editor`.","body":"I stand corrected for my last reply : in STS 4.11, you will find this option in <code>Window -&gt; Preferences -&gt; Language Servers -&gt; Spring Language Servers -&gt; Spring Boot Language Servers -&gt; Yaml Editor or Properties Editor</code>."}],"tags":[],"owner":{"account_id":9346278,"reputation":678,"user_id":6937471,"display_name":"Akash"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1536210398,"creation_date":1536210398,"answer_id":52196865,"question_id":43562880,"body_markdown":"I was also having the same warnings in application.properties and looking for a way to get rid of this. Searching for an answer has led me here. So I am posting my answer; it may be useful. \r\n\r\nThere is no harm in using your custom properties in application.properties. There are two ways to get rid of this -\r\n\r\n 1. As mentioned in one of the answers, you can add the meta-data for the custom properties (manually or using quick-fix in STS).\r\n\r\n 2. If you don&#39;t want to add meta-data, then in STS, go to Window -&gt; preferences -&gt; spring -&gt; boot -&gt; properties editor. Here, **select &#39;unknown property&#39; as ignore**. By default, it is warning.","title":"SpringBoot unknown property in application.properties","body":"<p>I was also having the same warnings in application.properties and looking for a way to get rid of this. Searching for an answer has led me here. So I am posting my answer; it may be useful. </p>\n\n<p>There is no harm in using your custom properties in application.properties. There are two ways to get rid of this -</p>\n\n<ol>\n<li><p>As mentioned in one of the answers, you can add the meta-data for the custom properties (manually or using quick-fix in STS).</p></li>\n<li><p>If you don't want to add meta-data, then in STS, go to Window -> preferences -> spring -> boot -> properties editor. Here, <strong>select 'unknown property' as ignore</strong>. By default, it is warning.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6613378,"reputation":74,"user_id":5107574,"display_name":"Hussam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587196534,"creation_date":1587196534,"answer_id":61285911,"question_id":43562880,"body_markdown":"You need to use `spring-boot-configuration-processor` which will generate the configuration metadata for you.\r\n\r\nSee the example: https://www.baeldung.com/spring-boot-configuration-metadata\r\n","title":"SpringBoot unknown property in application.properties","body":"<p>You need to use <code>spring-boot-configuration-processor</code> which will generate the configuration metadata for you.</p>\n\n<p>See the example: <a href=\"https://www.baeldung.com/spring-boot-configuration-metadata\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-configuration-metadata</a></p>\n"},{"tags":[],"owner":{"account_id":916639,"reputation":553,"user_id":10001916,"display_name":"a5tr0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697564764,"creation_date":1697564764,"answer_id":77311179,"question_id":43562880,"body_markdown":"I had the same problem, even after adding all of the Meta.\r\nSo, in VsCode setting modify : \r\n\r\n    &quot;spring-boot.ls.problem.application-properties.PROP_UNKNOWN_PROPERTY&quot;: &quot;WARNING&quot;\r\n\r\nto \r\n\r\n    &quot;spring-boot.ls.problem.application-properties.PROP_UNKNOWN_PROPERTY&quot;: &quot;IGNORE&quot;","title":"SpringBoot unknown property in application.properties","body":"<p>I had the same problem, even after adding all of the Meta.\nSo, in VsCode setting modify :</p>\n<pre><code>&quot;spring-boot.ls.problem.application-properties.PROP_UNKNOWN_PROPERTY&quot;: &quot;WARNING&quot;\n</code></pre>\n<p>to</p>\n<pre><code>&quot;spring-boot.ls.problem.application-properties.PROP_UNKNOWN_PROPERTY&quot;: &quot;IGNORE&quot;\n</code></pre>\n"}],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63689,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":43562950,"answer_count":6,"score":22,"last_activity_date":1697564764,"creation_date":1492884943,"question_id":43562880,"body_markdown":"I&#39;ve generated a Spring Boot web application using Spring Initializr, using embedded Tomcat + Thymeleaf template engine.\r\n\r\nI put this property in my application.properties\r\n\r\n    default.to.address=nunito.calzada@gmail.com\r\n\r\nI am using Spring Tool Suite Version: 3.8.4.RELEASE as a development environment, but I got this warning in the Editor `&#39;default.to.address&#39; is an unknown property.`\r\n\r\nShould I put this property in another property file ?","title":"SpringBoot unknown property in application.properties","body":"<p>I've generated a Spring Boot web application using Spring Initializr, using embedded Tomcat + Thymeleaf template engine.</p>\n\n<p>I put this property in my application.properties</p>\n\n<pre><code>default.to.address=nunito.calzada@gmail.com\n</code></pre>\n\n<p>I am using Spring Tool Suite Version: 3.8.4.RELEASE as a development environment, but I got this warning in the Editor <code>'default.to.address' is an unknown property.</code></p>\n\n<p>Should I put this property in another property file ?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1697265150,"post_id":77291778,"comment_id":136260876,"body_markdown":"why are you using `save` method as update method ?","body":"why are you using <code>save</code> method as update method ?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697270977,"post_id":77291778,"comment_id":136261265,"body_markdown":"More constructively: `save` is for new rows, `update` is for updates.","body":"More constructively: <code>save</code> is for new rows, <code>update</code> is for updates."},{"owner":{"account_id":28975094,"reputation":3,"user_id":22194386,"display_name":"hunter man"},"score":0,"creation_date":1697384159,"post_id":77291778,"comment_id":136270403,"body_markdown":"@AndreiLisa data jpa repository does not have update method instead save method does both save or update if id value exists. Please read data jpa documentation for more info","body":"@AndreiLisa data jpa repository does not have update method instead save method does both save or update if id value exists. Please read data jpa documentation for more info"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1697386157,"post_id":77291778,"comment_id":136270645,"body_markdown":"be sure I know it,  in your case the problem that you have can be in equals and hashcode, you should override it and don’t use from Lombok default one. Also do you pass the id when you are going to update the existing one entity with ‘save’ method ?","body":"be sure I know it,  in your case the problem that you have can be in equals and hashcode, you should override it and don’t use from Lombok default one. Also do you pass the id when you are going to update the existing one entity with ‘save’ method ?"},{"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"score":0,"creation_date":1702250285,"post_id":77291778,"comment_id":136870166,"body_markdown":"@AndreiLisa You sure about that? hashCode and equals sure as shit didn&#39;t do anything for me","body":"@AndreiLisa You sure about that? hashCode and equals sure as shit didn&#39;t do anything for me"}],"owner":{"account_id":28975094,"reputation":3,"user_id":22194386,"display_name":"hunter man"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697564673,"creation_date":1697262890,"question_id":77291778,"body_markdown":"I&#39;m using spring data jpa @EmbeddedId for my child table BookId which has composite primary on two columns. I&#39;m able to insert and get the records without any issue but when I try to update the existing record I&#39;m getting duplicate row exception. Same code was working fine with spring boot 2.x but I recently upgraded to spring boot 3.x issue started popping out\r\n\r\n\r\n```\r\n\r\n\r\n@Data\r\n\r\n@Embeddable\r\n\r\npublic class BookId implements Serializable {\r\n\r\n    @ManyToOne\r\n\r\n    @JoinColumn(name=&quot;author&quot;, nullable=false)\r\n\r\n    private Author author;\r\n\r\n    @Column(name=&quot;name&quot;)\r\n\r\n    private String name;\r\n\r\n    // standard getters and setters\r\n\r\n}\r\n\r\n@Data\r\n\r\n@Entity(name=&quot;T_BOOK&quot;)\r\n\r\npublic class Book {\r\n\r\n    @EmbeddedId\r\n\r\n    private BookId id;\r\n\r\n    @Column(name=&quot;genre&quot;)\r\n\r\n    private String genre;\r\n\r\n    @Column(name=&quot;price&quot;)\r\n\r\n    private Integer price;\r\n\r\n    //standard getters and setters\r\n\r\n\r\n}\r\n```\r\n\r\nWhen I use below code to update already existing record getting duplicate row error \r\n\r\nbookRepository.save(book)","title":"Spring data jpa - DUPLICATE row was found and Assert was specified","body":"<p>I'm using spring data jpa @EmbeddedId for my child table BookId which has composite primary on two columns. I'm able to insert and get the records without any issue but when I try to update the existing record I'm getting duplicate row exception. Same code was working fine with spring boot 2.x but I recently upgraded to spring boot 3.x issue started popping out</p>\n<pre><code>\n\n@Data\n\n@Embeddable\n\npublic class BookId implements Serializable {\n\n    @ManyToOne\n\n    @JoinColumn(name=&quot;author&quot;, nullable=false)\n\n    private Author author;\n\n    @Column(name=&quot;name&quot;)\n\n    private String name;\n\n    // standard getters and setters\n\n}\n\n@Data\n\n@Entity(name=&quot;T_BOOK&quot;)\n\npublic class Book {\n\n    @EmbeddedId\n\n    private BookId id;\n\n    @Column(name=&quot;genre&quot;)\n\n    private String genre;\n\n    @Column(name=&quot;price&quot;)\n\n    private Integer price;\n\n    //standard getters and setters\n\n\n}\n</code></pre>\n<p>When I use below code to update already existing record getting duplicate row error</p>\n<p>bookRepository.save(book)</p>\n"},{"tags":["java","spring","maven","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697564485,"creation_date":1685546426,"answer_id":76375053,"question_id":76374627,"body_markdown":"From [this answer][1], I found you can send parameters into a spring boot application using \r\n\r\n```\r\n-Drun.arguments=&quot;param1=value1,param2=value2&quot;\r\n```\r\n\r\nExample: \r\n\r\n```\r\nmvn spring-boot:run -Dspring.batch.job.names=jobNameHere -Drun.arguments=&quot;arg=val,arg2=val2&quot; -f pom.xml\r\n```\r\n\r\nWhen running a Spring Batch, that same technique seems to work. \r\n\r\n  [1]: https://stackoverflow.com/questions/23316843/get-command-line-arguments-from-spring-bootrun","title":"When running spring batch from maven, how do you set job parameters?","body":"<p>From <a href=\"https://stackoverflow.com/questions/23316843/get-command-line-arguments-from-spring-bootrun\">this answer</a>, I found you can send parameters into a spring boot application using</p>\n<pre><code>-Drun.arguments=&quot;param1=value1,param2=value2&quot;\n</code></pre>\n<p>Example:</p>\n<pre><code>mvn spring-boot:run -Dspring.batch.job.names=jobNameHere -Drun.arguments=&quot;arg=val,arg2=val2&quot; -f pom.xml\n</code></pre>\n<p>When running a Spring Batch, that same technique seems to work.</p>\n"}],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76375053,"answer_count":1,"score":0,"last_activity_date":1697564485,"creation_date":1685543711,"question_id":76374627,"body_markdown":"Lets say you run a spring batch program from maven:\r\n\r\n```\r\nmvn spring-boot:run -Dspring.batch.job.names=MyJobNameHere\r\n```\r\n\r\nWhat if I want to send job parameters? How would I accomplish that? ","title":"When running spring batch from maven, how do you set job parameters?","body":"<p>Lets say you run a spring batch program from maven:</p>\n<pre><code>mvn spring-boot:run -Dspring.batch.job.names=MyJobNameHere\n</code></pre>\n<p>What if I want to send job parameters? How would I accomplish that?</p>\n"},{"tags":["java","keycloak"],"answers":[{"comments":[{"owner":{"account_id":10960150,"reputation":8312,"user_id":8053714,"display_name":"Dashrath Mundkar"},"score":0,"creation_date":1583425126,"post_id":57819293,"comment_id":107120525,"body_markdown":"Hi @kulatamicuda Could you please tell me how you setup this? I am also stuck on this. I have configured keycloak but want to have basic auth also access api so Please let me know how you specified the username and pasword in keycloak?","body":"Hi @kulatamicuda Could you please tell me how you setup this? I am also stuck on this. I have configured keycloak but want to have basic auth also access api so Please let me know how you specified the username and pasword in keycloak?"},{"owner":{"account_id":2860791,"reputation":1601,"user_id":2456113,"accept_rate":96,"display_name":"kulatamicuda"},"score":1,"creation_date":1583535731,"post_id":57819293,"comment_id":107163037,"body_markdown":"@DashrathMundkar Exactly as written by Joe. You will need to specify Access Type: confidential and Direct Access Grants Enabled for such client in Keycloak and in our Spring Application properties we have keycloak.enable-basic-auth=true","body":"@DashrathMundkar Exactly as written by Joe. You will need to specify Access Type: confidential and Direct Access Grants Enabled for such client in Keycloak and in our Spring Application properties we have keycloak.enable-basic-auth=true"},{"owner":{"account_id":2860791,"reputation":1601,"user_id":2456113,"accept_rate":96,"display_name":"kulatamicuda"},"score":1,"creation_date":1583536212,"post_id":57819293,"comment_id":107163143,"body_markdown":"@DashrathMundkar we have not specified username and password, our setup is federation  with MS AD so for authorisation is used the same user name as is  in MS AD and user password from MS AD. The access is than controlled by application roles which are mapped onto MS AD groups. So authentication is basic and authorisation is checked against MS AD. If you do not want integration with MS AD, you can specify username and password directly in Keycloak realms.","body":"@DashrathMundkar we have not specified username and password, our setup is federation  with MS AD so for authorisation is used the same user name as is  in MS AD and user password from MS AD. The access is than controlled by application roles which are mapped onto MS AD groups. So authentication is basic and authorisation is checked against MS AD. If you do not want integration with MS AD, you can specify username and password directly in Keycloak realms."},{"owner":{"account_id":1838798,"reputation":311,"user_id":1668645,"accept_rate":29,"display_name":"Stefan H&#246;ltker"},"score":3,"creation_date":1604309879,"post_id":57819293,"comment_id":114298460,"body_markdown":"Is this still true?\nSince 8.0.0 the credenial support was removed https://www.keycloak.org/docs/latest/release_notes/#credentials-support-removed-from-the-javascript-adapter","body":"Is this still true? Since 8.0.0 the credenial support was removed <a href=\"https://www.keycloak.org/docs/latest/release_notes/#credentials-support-removed-from-the-javascript-adapter\" rel=\"nofollow noreferrer\">keycloak.org/docs/latest/release_notes/&hellip;</a>"},{"owner":{"account_id":23388,"reputation":37306,"user_id":58553,"accept_rate":89,"display_name":"Peter"},"score":5,"creation_date":1634636503,"post_id":57819293,"comment_id":123072215,"body_markdown":"The example link is sadly broken!","body":"The example link is sadly broken!"},{"owner":{"account_id":2860791,"reputation":1601,"user_id":2456113,"accept_rate":96,"display_name":"kulatamicuda"},"score":0,"creation_date":1653339501,"post_id":57819293,"comment_id":127823769,"body_markdown":"@Peter yes, but I can confirm it still works at least with Keycloak 12.0.4 with the parameters and setup written as an answer","body":"@Peter yes, but I can confirm it still works at least with Keycloak 12.0.4 with the parameters and setup written as an answer"}],"tags":[],"owner":{"account_id":16543667,"reputation":548,"user_id":11953783,"display_name":"Joe"},"comment_count":6,"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1668134696,"creation_date":1567762073,"answer_id":57819293,"question_id":57808046,"body_markdown":"Yes that&#39;s possible for clients with `Access Type: confidential` and `Direct Access Grants Enabled`. You can find more details on these settings in the [documentation](https://www.keycloak.org/docs/latest/server_admin/index.html#oidc-clients).\r\n\r\nYou also need to enable `enable-basic-auth` and supply your `credentials`in your application settings. Consult the [documentation](https://www.keycloak.org/docs/latest/securing_apps/index.html#_java_adapter_config) for more details.","title":"Does Keycloak support basic Authentication?","body":"<p>Yes that's possible for clients with <code>Access Type: confidential</code> and <code>Direct Access Grants Enabled</code>. You can find more details on these settings in the <a href=\"https://www.keycloak.org/docs/latest/server_admin/index.html#oidc-clients\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>You also need to enable <code>enable-basic-auth</code> and supply your <code>credentials</code>in your application settings. Consult the <a href=\"https://www.keycloak.org/docs/latest/securing_apps/index.html#_java_adapter_config\" rel=\"nofollow noreferrer\">documentation</a> for more details.</p>\n"}],"owner":{"account_id":2860791,"reputation":1601,"user_id":2456113,"accept_rate":96,"display_name":"kulatamicuda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16426,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":57819293,"answer_count":1,"score":10,"last_activity_date":1697564336,"creation_date":1567695012,"question_id":57808046,"body_markdown":"Does Keycloak support basic Authentication (Authorization header that contains the word Basic word followed by a space and a base64-encoded string username:password ) and if so how I can configure realm and client settings for it ?\r\nI want to secure my rest api with Keycloak and support also basic Authentication as an option.","title":"Does Keycloak support basic Authentication?","body":"<p>Does Keycloak support basic Authentication (Authorization header that contains the word Basic word followed by a space and a base64-encoded string username:password ) and if so how I can configure realm and client settings for it ?\nI want to secure my rest api with Keycloak and support also basic Authentication as an option.</p>\n"},{"tags":["java","set","java-stream"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1697562570,"post_id":77310522,"comment_id":136294468,"body_markdown":"Why would you want to? Streams are best suited for operations that don’t modify anything outside the stream pipeline. I would unconditionally prefer to keep the `for` loop.","body":"Why would you want to? Streams are best suited for operations that don’t modify anything outside the stream pipeline. I would unconditionally prefer to keep the <code>for</code> loop."},{"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"score":0,"creation_date":1697563753,"post_id":77310522,"comment_id":136294682,"body_markdown":"Thanks for the information!!..As a curiosity, when is it advisable to apply stream?","body":"Thanks for the information!!..As a curiosity, when is it advisable to apply stream?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1697570610,"post_id":77310522,"comment_id":136295765,"body_markdown":"Hard to say in general. I often use a stream pipeline exactly where it does not produce any other effect than the return value from its terminal operation. And I always think twice, try the stream approach, evaluate it, and if I am not sure, also try a loop approach and see which I like better.","body":"Hard to say in general. I often use a stream pipeline exactly where it does not produce any other effect than the return value from its terminal operation. And I always think twice, try the stream approach, evaluate it, and if I am not sure, also try a loop approach and see which I like better."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697649669,"post_id":77310522,"comment_id":136307705,"body_markdown":"You already got a good answer but even when keeping your approach, you should notice that some things are entirely obsolete: 1) copying the list into an `ArrayList`; you can simply use `List&lt;String&gt; wordToList=Arrays.asList(word.split(&quot;&quot;));` 2) the `.map(String::valueOf)`; the elements are already strings. You can use `return wordToList.stream() .collect(Collectors.joining(&quot;&quot;));` or even `return String.join(&quot;&quot;, wordToList);`","body":"You already got a good answer but even when keeping your approach, you should notice that some things are entirely obsolete: 1) copying the list into an <code>ArrayList</code>; you can simply use <code>List&lt;String&gt; wordToList=Arrays.asList(word.split(&quot;&quot;));</code> 2) the <code>.map(String::valueOf)</code>; the elements are already strings. You can use <code>return wordToList.stream() .collect(Collectors.joining(&quot;&quot;));</code> or even <code>return String.join(&quot;&quot;, wordToList);</code>"}],"answers":[{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697562679,"creation_date":1697562679,"answer_id":77310972,"question_id":77310522,"body_markdown":"You actually don&#39;t need a stream. You can use [forEach](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)) like this.\r\n```java\r\nvalueUniqueToRemplace.forEach(i -&gt; wordToList.set(i, &quot;_&quot;));\r\n```\r\nIf you want to use stream, you can do it like this\r\n```java\r\nvalueUniqueToRemplace.stream.forEach(i -&gt; wordToList.set(i, &quot;_&quot;));\r\n```\r\nAlthough these two approaches look similar, there are semantic difference.","title":"How can I bring the modification of a list from the values ​of a set to java stream?","body":"<p>You actually don't need a stream. You can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)\" rel=\"nofollow noreferrer\">forEach</a> like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>valueUniqueToRemplace.forEach(i -&gt; wordToList.set(i, &quot;_&quot;));\n</code></pre>\n<p>If you want to use stream, you can do it like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>valueUniqueToRemplace.stream.forEach(i -&gt; wordToList.set(i, &quot;_&quot;));\n</code></pre>\n<p>Although these two approaches look similar, there are semantic difference.</p>\n"},{"comments":[{"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"score":0,"creation_date":1697564711,"post_id":77311126,"comment_id":136294845,"body_markdown":"Thanks for your response, and if the focus of the problem was to replace certain characters in the string with dashes. My other question is, when is it advisable to apply stream?","body":"Thanks for your response, and if the focus of the problem was to replace certain characters in the string with dashes. My other question is, when is it advisable to apply stream?"}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697564233,"creation_date":1697564233,"answer_id":77311126,"question_id":77310522,"body_markdown":"&gt; as a good practice I am trying to apply stream in some operations with Java collections\r\n\r\nPractice is good but also notice when it makes sense to use a certain language construct and when not. Not every task is suitable to be solved with streams. If I see it correctly, you are trying to replace certain indices of a string with underscores. This is not clear, at least at first glance at your method. I would have written something like below, which is easier to understand:\r\n\r\n    private static String wordToGuess1(String word,List&lt;Integer&gt; valueUniqueToReplace){\r\n        char[] chars = word.toCharArray();\r\n        valueUniqueToReplace.forEach(i -&gt; chars[i] = &#39;_&#39;);\r\n        return String.valueOf(chars);\r\n    }\r\n\r\nor\r\n\r\n    private static String wordToGuess2(String word,List&lt;Integer&gt; valueUniqueToReplace){\r\n        StringBuilder sb = new StringBuilder(word);\r\n        valueUniqueToReplace.forEach(i -&gt; sb.setCharAt(i, &#39;_&#39;));\r\n        return sb.toString();\r\n    }\r\n\r\nThere are certainly better approaches but spontaneously I think of the following alternatives with streams:\r\n\r\n    private static String wordToGuess3(String word,List&lt;Integer&gt; valueUniqueToReplace){\r\n        return IntStream.range(0, word.length())\r\n                        .map(i -&gt; valueUniqueToReplace.contains(i) ? &#39;_&#39; : word.charAt(i))\r\n                        .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append)\r\n                        .toString();\r\n    }\r\n\r\n    private static String wordToGuess4(String word,List&lt;Integer&gt; valueUniqueToReplace){\r\n        return valueUniqueToReplace.stream()\r\n                                   .reduce(new StringBuilder(word),\r\n                                           (sb, i) -&gt; sb.replace(i, i + 1, &quot;_&quot;),\r\n                                           (a,b) -&gt; a)\r\n                                   .toString();\r\n    }\r\n\r\nDecide for yourself what is more readable, I for one would prefer the non stream approach","title":"How can I bring the modification of a list from the values ​of a set to java stream?","body":"<blockquote>\n<p>as a good practice I am trying to apply stream in some operations with Java collections</p>\n</blockquote>\n<p>Practice is good but also notice when it makes sense to use a certain language construct and when not. Not every task is suitable to be solved with streams. If I see it correctly, you are trying to replace certain indices of a string with underscores. This is not clear, at least at first glance at your method. I would have written something like below, which is easier to understand:</p>\n<pre><code>private static String wordToGuess1(String word,List&lt;Integer&gt; valueUniqueToReplace){\n    char[] chars = word.toCharArray();\n    valueUniqueToReplace.forEach(i -&gt; chars[i] = '_');\n    return String.valueOf(chars);\n}\n</code></pre>\n<p>or</p>\n<pre><code>private static String wordToGuess2(String word,List&lt;Integer&gt; valueUniqueToReplace){\n    StringBuilder sb = new StringBuilder(word);\n    valueUniqueToReplace.forEach(i -&gt; sb.setCharAt(i, '_'));\n    return sb.toString();\n}\n</code></pre>\n<p>There are certainly better approaches but spontaneously I think of the following alternatives with streams:</p>\n<pre><code>private static String wordToGuess3(String word,List&lt;Integer&gt; valueUniqueToReplace){\n    return IntStream.range(0, word.length())\n                    .map(i -&gt; valueUniqueToReplace.contains(i) ? '_' : word.charAt(i))\n                    .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append)\n                    .toString();\n}\n\nprivate static String wordToGuess4(String word,List&lt;Integer&gt; valueUniqueToReplace){\n    return valueUniqueToReplace.stream()\n                               .reduce(new StringBuilder(word),\n                                       (sb, i) -&gt; sb.replace(i, i + 1, &quot;_&quot;),\n                                       (a,b) -&gt; a)\n                               .toString();\n}\n</code></pre>\n<p>Decide for yourself what is more readable, I for one would prefer the non stream approach</p>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77311126,"answer_count":2,"score":0,"last_activity_date":1697564233,"creation_date":1697558344,"question_id":77310522,"body_markdown":"\r\nI am currently working with Java and practicing my programming logic and as a good practice I am trying to apply stream in some operations with Java collections.\r\n\r\nIn this case I have a method that receives a string and a set list, the string must be taken to a list to replace its characters according to the values ​​found in the Set, once replaced they are taken back to string and It is returned:\r\n\r\n    private static String wordToGuess(String word,List&lt;Integer&gt; valueUniqueToRemplace){\r\n        List&lt;String&gt; wordToList=new ArrayList&lt;&gt;(Arrays.asList(word.split(&quot;&quot;)));\r\n        for (Integer integer : valueUniqueToRemplace) {\r\n            wordToList.set(integer, &quot;_&quot;);\r\n        }\r\n        return wordToList.stream().map(String::valueOf).collect(Collectors.joining(&quot;&quot;));\r\n    }\r\n\r\nHow could I replace the for loop and what is done within it with a stream function?\r\n\r\n\r\n\r\n","title":"How can I bring the modification of a list from the values ​of a set to java stream?","body":"<p>I am currently working with Java and practicing my programming logic and as a good practice I am trying to apply stream in some operations with Java collections.</p>\n<p>In this case I have a method that receives a string and a set list, the string must be taken to a list to replace its characters according to the values ​​found in the Set, once replaced they are taken back to string and It is returned:</p>\n<pre><code>private static String wordToGuess(String word,List&lt;Integer&gt; valueUniqueToRemplace){\n    List&lt;String&gt; wordToList=new ArrayList&lt;&gt;(Arrays.asList(word.split(&quot;&quot;)));\n    for (Integer integer : valueUniqueToRemplace) {\n        wordToList.set(integer, &quot;_&quot;);\n    }\n    return wordToList.stream().map(String::valueOf).collect(Collectors.joining(&quot;&quot;));\n}\n</code></pre>\n<p>How could I replace the for loop and what is done within it with a stream function?</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697564175,"creation_date":1697563674,"answer_id":77311067,"question_id":77311016,"body_markdown":"Ctrl + Shift + A to show actions, then type &quot;Main Menu&quot; and check it\r\n\r\n[![Main Menu toggle][1]][1]\r\n\r\nAlso, \r\n\r\nb) go to &quot;Settings | Appearance &amp; Behavior | New UI&quot; and enable the &quot;Show main menu&quot; in a separate toolbar option. \r\n\r\nc) Alternatively, go to &quot;View | Appearance&quot; and enable &quot;Main Menu as Separate Toolbar&quot;.\r\n\r\n  [1]: https://i.stack.imgur.com/rd6nr.png","title":"Intellij 2023 IDE: Always show the Menu Bar at top","body":"<p>Ctrl + Shift + A to show actions, then type &quot;Main Menu&quot; and check it</p>\n<p><a href=\"https://i.stack.imgur.com/rd6nr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rd6nr.png\" alt=\"Main Menu toggle\" /></a></p>\n<p>Also,</p>\n<p>b) go to &quot;Settings | Appearance &amp; Behavior | New UI&quot; and enable the &quot;Show main menu&quot; in a separate toolbar option.</p>\n<p>c) Alternatively, go to &quot;View | Appearance&quot; and enable &quot;Main Menu as Separate Toolbar&quot;.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77311067,"answer_count":1,"score":1,"last_activity_date":1697564175,"creation_date":1697563175,"question_id":77311016,"body_markdown":"I downloaded the new IntelliJ Java for 2023.\r\n\r\nTo see the menu Bar. I need to do additional click. First click the button in Green box below, and then I can see the File menu. I want it like the original, where menu is Always showing. How can this be done ? \r\n\r\n**Step 1:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Step 2:**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIts slightly cumbersome to do additional click everytime.\r\n\r\n  [1]: https://i.stack.imgur.com/OfUMD.png\r\n  [2]: https://i.stack.imgur.com/lxEus.png","title":"Intellij 2023 IDE: Always show the Menu Bar at top","body":"<p>I downloaded the new IntelliJ Java for 2023.</p>\n<p>To see the menu Bar. I need to do additional click. First click the button in Green box below, and then I can see the File menu. I want it like the original, where menu is Always showing. How can this be done ?</p>\n<p><strong>Step 1:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/OfUMD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OfUMD.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Step 2:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/lxEus.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lxEus.png\" alt=\"enter image description here\" /></a></p>\n<p>Its slightly cumbersome to do additional click everytime.</p>\n"},{"tags":["java","jasper-reports"],"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697564117,"answer_count":0,"score":0,"last_activity_date":1697564127,"creation_date":1697525786,"question_id":77306751,"body_markdown":"I have a problem with JasperReports library/JasperSoft Studio. I am working on an OSGi project, and I am implementing reports generation. I have my data model inside an OSGi bundle:\r\n\r\n    public final class TodaysTransactionData extends OverviewData {\r\n    \r\n    \tprivate final String district;\r\n    \tprivate final LocalDate date;\r\n    \tprivate final String subdivision;\r\n    \tprivate final Boolean isAutomatic;\r\n    \tprivate final List&lt; PaymentData &gt; cashPayments;\r\n    \tprivate final List&lt; PaymentData &gt; transfers;\r\n        // Getters, setters, constructors\r\n    }\r\n\r\nand:\r\n\r\n    public class PaymentData {\r\n    \r\n    \tprivate final String referenceNumber;\r\n    \tprivate final float claimAmount;\r\n    \tprivate final float paidAmount;\r\n    \tprivate final float totalPaid;\r\n    \tprivate final String paymentStatus;\r\n    \tprivate final LocalDate paymentDate;\r\n\r\n        // Getters, setters, constructors\r\n    }\r\n\r\nI have almost finished designing my report in JasperSoft Studio, but I have runned into a problem - JasperSoft Studio had no knowledge about my data classes. I have found an answer, which suggested to create a tiny jar with required classes, so I did that. Here&#39;s the structure:\r\n\r\n    car.manufacturer.base\r\n    │\r\n    └───reports.datamodel\r\n        │\r\n        ├── OverviewData\r\n        ├── TodaysTransactionData\r\n        ├── PaymentData\r\n        │\r\n        └───descriptor\r\n            ├── Descriptor\r\n            ├── TodaysTransactionDescriptor\r\n\r\nThe packages and names of the classes match my data model that&#39;s defined in the OSGi app.\r\n\r\nAfter I have created this Jar, I have added it to the Java build path. Then I successfully compiled my report and added it to the classpath of the OSGi app.\r\n\r\nThis is how I create the PDF file\r\n\r\n\t\t\tString templateInputStream = FrameworkUtil.getBundle( this.getClass() ).getBundleContext().getBundle().getResource( &quot;/car/manufacturer/base/reports/template/TodaysTransactionTemplate.jasper&quot; ).getFile();\r\n\t\t\tJasperReport carReport = (JasperReport) JRLoader.loadObject( getFileFromResources( templateInputStream ) );\r\n\r\n\t\t\tJRBeanCollectionDataSource carCashPaymentsSource = new JRBeanCollectionDataSource( todaysTransactionData.getCashPayments() );\r\n\t\t\tJRBeanCollectionDataSource carTransfersSource = new JRBeanCollectionDataSource( todaysTransactionData.getTransfers() );\r\n\t\t\t\r\n\t\t\tMap&lt; String, Object &gt; parameters = new HashMap&lt;&gt;();\r\n\t\t\tparameters.put( &quot;PAYMENTS_OVERVIEW&quot;, todaysTransactionData );\r\n\t\t\tparameters.put( &quot;CLIENT&quot;, getClient().getName() );\r\n\t\t\tparameters.put( &quot;CASH_PAYMENTS&quot;, carCashPaymentsSource );\r\n\t\t\tparameters.put( &quot;TRANSFERS&quot;, carTransfersSource );\r\n\t\t\t\r\n\t\t\tJasperPrint carPrint = JasperFillManager.fillReport(carReport, parameters, new JREmptyDataSource());\r\n\r\nWhere `todaysTransactionData` is an instance of `TodaysTransactionData` with two lists of `PaymentData`\r\n\r\nWhen I&#39;m trying to generate a PDF file, I get this exception:\r\n\r\n&gt; Caused by: java.lang.ClassNotFoundException:\r\n&gt; car.manufacturer.base.reports.datamodel.TodaysTransactionData\r\n\r\n&gt; net.sf.jasperreports.engine.fill.JRExpressionEvalException: Error\r\n&gt; evaluating expression for source text: msg(&quot;Received Payments Duration\r\n&gt; {0}&quot;, $P{PAYMENTS_OVERVIEW}.getDate().toString())\r\n\r\nTo clarify, `PAYMENTS_OVERVIEW` is a Java object, instance of `TodaysTransactionData`, that I&#39;m passing to the report\r\n\r\n`&lt;parameter name=&quot;PAYMENTS_OVERVIEW&quot; class=&quot;car.manufacturer.base.reports.datamodel.TodaysTransactionData&quot;/&gt;`\r\n\r\nWhat am I doing wrong?\r\n","title":"JasperReports: Class not found exception when filling a JasperReport with data","body":"<p>I have a problem with JasperReports library/JasperSoft Studio. I am working on an OSGi project, and I am implementing reports generation. I have my data model inside an OSGi bundle:</p>\n<pre><code>public final class TodaysTransactionData extends OverviewData {\n\n    private final String district;\n    private final LocalDate date;\n    private final String subdivision;\n    private final Boolean isAutomatic;\n    private final List&lt; PaymentData &gt; cashPayments;\n    private final List&lt; PaymentData &gt; transfers;\n    // Getters, setters, constructors\n}\n</code></pre>\n<p>and:</p>\n<pre><code>public class PaymentData {\n\n    private final String referenceNumber;\n    private final float claimAmount;\n    private final float paidAmount;\n    private final float totalPaid;\n    private final String paymentStatus;\n    private final LocalDate paymentDate;\n\n    // Getters, setters, constructors\n}\n</code></pre>\n<p>I have almost finished designing my report in JasperSoft Studio, but I have runned into a problem - JasperSoft Studio had no knowledge about my data classes. I have found an answer, which suggested to create a tiny jar with required classes, so I did that. Here's the structure:</p>\n<pre><code>car.manufacturer.base\n│\n└───reports.datamodel\n    │\n    ├── OverviewData\n    ├── TodaysTransactionData\n    ├── PaymentData\n    │\n    └───descriptor\n        ├── Descriptor\n        ├── TodaysTransactionDescriptor\n</code></pre>\n<p>The packages and names of the classes match my data model that's defined in the OSGi app.</p>\n<p>After I have created this Jar, I have added it to the Java build path. Then I successfully compiled my report and added it to the classpath of the OSGi app.</p>\n<p>This is how I create the PDF file</p>\n<pre><code>        String templateInputStream = FrameworkUtil.getBundle( this.getClass() ).getBundleContext().getBundle().getResource( &quot;/car/manufacturer/base/reports/template/TodaysTransactionTemplate.jasper&quot; ).getFile();\n        JasperReport carReport = (JasperReport) JRLoader.loadObject( getFileFromResources( templateInputStream ) );\n\n        JRBeanCollectionDataSource carCashPaymentsSource = new JRBeanCollectionDataSource( todaysTransactionData.getCashPayments() );\n        JRBeanCollectionDataSource carTransfersSource = new JRBeanCollectionDataSource( todaysTransactionData.getTransfers() );\n        \n        Map&lt; String, Object &gt; parameters = new HashMap&lt;&gt;();\n        parameters.put( &quot;PAYMENTS_OVERVIEW&quot;, todaysTransactionData );\n        parameters.put( &quot;CLIENT&quot;, getClient().getName() );\n        parameters.put( &quot;CASH_PAYMENTS&quot;, carCashPaymentsSource );\n        parameters.put( &quot;TRANSFERS&quot;, carTransfersSource );\n        \n        JasperPrint carPrint = JasperFillManager.fillReport(carReport, parameters, new JREmptyDataSource());\n</code></pre>\n<p>Where <code>todaysTransactionData</code> is an instance of <code>TodaysTransactionData</code> with two lists of <code>PaymentData</code></p>\n<p>When I'm trying to generate a PDF file, I get this exception:</p>\n<blockquote>\n<p>Caused by: java.lang.ClassNotFoundException:\ncar.manufacturer.base.reports.datamodel.TodaysTransactionData</p>\n</blockquote>\n<blockquote>\n<p>net.sf.jasperreports.engine.fill.JRExpressionEvalException: Error\nevaluating expression for source text: msg(&quot;Received Payments Duration\n{0}&quot;, $P{PAYMENTS_OVERVIEW}.getDate().toString())</p>\n</blockquote>\n<p>To clarify, <code>PAYMENTS_OVERVIEW</code> is a Java object, instance of <code>TodaysTransactionData</code>, that I'm passing to the report</p>\n<p><code>&lt;parameter name=&quot;PAYMENTS_OVERVIEW&quot; class=&quot;car.manufacturer.base.reports.datamodel.TodaysTransactionData&quot;/&gt;</code></p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","linux","shell","kubernetes"],"comments":[{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":0,"creation_date":1697601555,"post_id":77311103,"comment_id":136298882,"body_markdown":"It seems like your problem is the API that returns 504. Either increase the timeout for that (perhaps some proxy in the middle?) or make the API operation asynchronous.","body":"It seems like your problem is the API that returns 504. Either increase the timeout for that (perhaps some proxy in the middle?) or make the API operation asynchronous."},{"owner":{"account_id":14070649,"reputation":135,"user_id":10164223,"display_name":"Meenal"},"score":0,"creation_date":1697602305,"post_id":77311103,"comment_id":136298948,"body_markdown":"@JurajMartinka:Could you please guide me how to make the API operation asynchronous. Also I tried giving setConnectTimeout(150000); but it didnot help.","body":"@JurajMartinka:Could you please guide me how to make the API operation asynchronous. Also I tried giving setConnectTimeout(150000); but it didnot help."},{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":0,"creation_date":1697631669,"post_id":77311103,"comment_id":136303763,"body_markdown":"Building asynchronous API depends on the specifics of the project. About the timeout: can you observe the request at the backend (perhaps with logs) and see how long it takes to process? On the client side, does the error happen after the 150 seconds (the timeout) or sooner?","body":"Building asynchronous API depends on the specifics of the project. About the timeout: can you observe the request at the backend (perhaps with logs) and see how long it takes to process? On the client side, does the error happen after the 150 seconds (the timeout) or sooner?"},{"owner":{"account_id":14070649,"reputation":135,"user_id":10164223,"display_name":"Meenal"},"score":0,"creation_date":1697643820,"post_id":77311103,"comment_id":136306631,"body_markdown":"it takes around 2mins. or slight more than that. I guess in client-side pod is running timed-out after 2min. Not sure how then in retry of pod , its able to complete the process then","body":"it takes around 2mins. or slight more than that. I guess in client-side pod is running timed-out after 2min. Not sure how then in retry of pod , its able to complete the process then"}],"owner":{"account_id":14070649,"reputation":135,"user_id":10164223,"display_name":"Meenal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697564004,"creation_date":1697564004,"question_id":77311103,"body_markdown":"I need to call an API via curl command inside a shell file which is taking more than 2min. to complete the entire process and bring back the status response.\r\nAs a result, the pod gets into error state and again starts retrying which results into multiple calls to that API.\r\n\r\nI don&#39;t want the pod to get into Error state as it gets back the response as 504 Gateway Timeout.\r\nIs there any provision to increase the time-out limit of the pod or I need to increase java API response time limit so that it does not responds with 504.\r\nI tried at job level by using -m or --max-time-out in curl command and request-time-out parameter under containers section of deployment yaml but nothing worked.","title":"How to increase timeout limit of a specific job in kubernetes","body":"<p>I need to call an API via curl command inside a shell file which is taking more than 2min. to complete the entire process and bring back the status response.\nAs a result, the pod gets into error state and again starts retrying which results into multiple calls to that API.</p>\n<p>I don't want the pod to get into Error state as it gets back the response as 504 Gateway Timeout.\nIs there any provision to increase the time-out limit of the pod or I need to increase java API response time limit so that it does not responds with 504.\nI tried at job level by using -m or --max-time-out in curl command and request-time-out parameter under containers section of deployment yaml but nothing worked.</p>\n"},{"tags":["java","spring-boot","h2","java-17"],"comments":[{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1697564545,"post_id":77310747,"comment_id":136294820,"body_markdown":"add a no args constructor to your User class. Or use Lombok with `@Data` or `@Accessors` and enable annotation processing in your IDE (google it for your IDE i use jet brains Idea, need to just check a box in the settings","body":"add a no args constructor to your User class. Or use Lombok with <code>@Data</code> or <code>@Accessors</code> and enable annotation processing in your IDE (google it for your IDE i use jet brains Idea, need to just check a box in the settings"}],"answers":[{"tags":[],"owner":{"account_id":13210775,"reputation":999,"user_id":9541096,"display_name":"Owais Yosuf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697560963,"creation_date":1697560963,"answer_id":77310781,"question_id":77310747,"body_markdown":"    @Entity\r\n    @Table(name = &quot;\\&quot;user\\&quot;&quot;) // Enclose the table name in double quotes\r\n    public class User {\r\n        // ...\r\n    }\r\n","title":"Problem with SpringBoot: org.springframework.dao.InvalidDataAccessResourceUsageException","body":"<pre><code>@Entity\n@Table(name = &quot;\\&quot;user\\&quot;&quot;) // Enclose the table name in double quotes\npublic class User {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":16025789,"reputation":29,"user_id":11566058,"display_name":"Rikissssss"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77310781,"answer_count":1,"score":0,"last_activity_date":1697563960,"creation_date":1697560470,"question_id":77310747,"body_markdown":"I&#39;m new with the development in SpringBoot and I started to create a simple API to update a list of users. To create the project I used JDK 17, Spring Boot 3.1.4 and I added as dependencies  only Spring Boot DevTools, Spring Data JPA, H2 Database and Spring Web.\r\nI make the structure of the project in this way.\r\n\r\n    com.api_server.service\r\n    &gt;&gt;entities\r\n    ==== User\r\n    &gt;&gt; repository\r\n    ==== userRepository\r\n    &gt;&gt; service\r\n    ==== userService\r\n    &gt;&gt;controller\r\n    ==== userController\r\n\r\nThe content of all files is the following: \\\r\n**User**\r\n\r\n    package com.api_server.service.entities;\r\n    \r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    \r\n    @Entity\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n        private String name;\r\n        private String email;\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public User() {\r\n            super();\r\n        }\r\n    }\r\n\r\n **userRepository**\r\n\r\n    package com.api_server.service.repository;\r\n    \r\n    import com.api_server.service.entities.User;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface userRepository extends JpaRepository&lt;User, Integer&gt; {\r\n    }\r\n\r\n**userService**\r\n\r\n    package com.api_server.service.service;\r\n    \r\n    import com.api_server.service.entities.User;\r\n    import com.api_server.service.repository.userRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Service\r\n    public class userService {\r\n        @Autowired\r\n        private userRepository userRepository;\r\n        public List &lt;User&gt; getAll(){\r\n            return userRepository.findAll();\r\n        }\r\n        public User getUserById (int id){\r\n            return userRepository.findById(id).orElse(null);\r\n        }\r\n    \r\n        public User save(User user){\r\n            User newUser =userRepository.save(user);\r\n            return newUser;\r\n        }\r\n    }\r\n\r\n**userController**\r\n\r\n    package com.api_server.service.controller;\r\n    \r\n    import com.api_server.service.entities.User;\r\n    import com.api_server.service.service.userService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/user&quot;)\r\n    public class userController {\r\n    \r\n        @Autowired\r\n        private userService userService;\r\n    \r\n        @GetMapping\r\n         public ResponseEntity &lt;List&lt;User&gt;&gt; listUser(){\r\n            List&lt;User&gt; users =userService.getAll();\r\n            if (users.isEmpty()){return ResponseEntity.noContent().build();}\r\n            return ResponseEntity.ok(users);\r\n        }\r\n        @GetMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity &lt;User&gt; getUser(@PathVariable(&quot;id&quot;) int id){\r\n            User user =userService.getUserById(id);\r\n            if (user==null){\r\n                return ResponseEntity.notFound().build();\r\n            }\r\n            return ResponseEntity.ok(user);\r\n        }\r\n        @PostMapping\r\n        public ResponseEntity&lt;User&gt; saveUser(@RequestBody User user){\r\n            User newUser =userService.save(user);\r\n            return ResponseEntity.ok(newUser);\r\n        }\r\n    }\r\n\r\nMaking a POST request from Postman to localhost:8080/user with JSON body:\r\n\r\n    {\r\n        &quot;name&quot;: &quot;name&quot;,\r\n        &quot;email&quot;: &quot;email&quot;\r\n    }\r\n\r\nthe IDE give me the error:\r\n\r\n    Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement [Syntax error in SQL statement &quot;select u1_0.id,u1_0.email,u1_0.name from [*]user u1_0 where u1_0.id=?&quot;; expected &quot;identifier&quot;; SQL statement:\r\n    select u1_0.id,u1_0.email,u1_0.name from user u1_0 where u1_0.id=? [42001-214]] [select u1_0.id,u1_0.email,u1_0.name from user u1_0 where u1_0.id=?]; SQL [select u1_0.id,u1_0.email,u1_0.name from user u1_0 where u1_0.id=?]] with root cause\r\n\r\nProbably it is a very stupid error, but I want to understand how to manage these issues.\r\nThanks in advance","title":"Problem with SpringBoot: org.springframework.dao.InvalidDataAccessResourceUsageException","body":"<p>I'm new with the development in SpringBoot and I started to create a simple API to update a list of users. To create the project I used JDK 17, Spring Boot 3.1.4 and I added as dependencies  only Spring Boot DevTools, Spring Data JPA, H2 Database and Spring Web.\nI make the structure of the project in this way.</p>\n<pre><code>com.api_server.service\n&gt;&gt;entities\n==== User\n&gt;&gt; repository\n==== userRepository\n&gt;&gt; service\n==== userService\n&gt;&gt;controller\n==== userController\n</code></pre>\n<p>The content of all files is the following: <br />\n<strong>User</strong></p>\n<pre><code>package com.api_server.service.entities;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\n@Entity\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String name;\n    private String email;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public User() {\n        super();\n    }\n}\n</code></pre>\n<p><strong>userRepository</strong></p>\n<pre><code>package com.api_server.service.repository;\n\nimport com.api_server.service.entities.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface userRepository extends JpaRepository&lt;User, Integer&gt; {\n}\n</code></pre>\n<p><strong>userService</strong></p>\n<pre><code>package com.api_server.service.service;\n\nimport com.api_server.service.entities.User;\nimport com.api_server.service.repository.userRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\npublic class userService {\n    @Autowired\n    private userRepository userRepository;\n    public List &lt;User&gt; getAll(){\n        return userRepository.findAll();\n    }\n    public User getUserById (int id){\n        return userRepository.findById(id).orElse(null);\n    }\n\n    public User save(User user){\n        User newUser =userRepository.save(user);\n        return newUser;\n    }\n}\n</code></pre>\n<p><strong>userController</strong></p>\n<pre><code>package com.api_server.service.controller;\n\nimport com.api_server.service.entities.User;\nimport com.api_server.service.service.userService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/user&quot;)\npublic class userController {\n\n    @Autowired\n    private userService userService;\n\n    @GetMapping\n     public ResponseEntity &lt;List&lt;User&gt;&gt; listUser(){\n        List&lt;User&gt; users =userService.getAll();\n        if (users.isEmpty()){return ResponseEntity.noContent().build();}\n        return ResponseEntity.ok(users);\n    }\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity &lt;User&gt; getUser(@PathVariable(&quot;id&quot;) int id){\n        User user =userService.getUserById(id);\n        if (user==null){\n            return ResponseEntity.notFound().build();\n        }\n        return ResponseEntity.ok(user);\n    }\n    @PostMapping\n    public ResponseEntity&lt;User&gt; saveUser(@RequestBody User user){\n        User newUser =userService.save(user);\n        return ResponseEntity.ok(newUser);\n    }\n}\n</code></pre>\n<p>Making a POST request from Postman to localhost:8080/user with JSON body:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;name&quot;,\n    &quot;email&quot;: &quot;email&quot;\n}\n</code></pre>\n<p>the IDE give me the error:</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement [Syntax error in SQL statement &quot;select u1_0.id,u1_0.email,u1_0.name from [*]user u1_0 where u1_0.id=?&quot;; expected &quot;identifier&quot;; SQL statement:\nselect u1_0.id,u1_0.email,u1_0.name from user u1_0 where u1_0.id=? [42001-214]] [select u1_0.id,u1_0.email,u1_0.name from user u1_0 where u1_0.id=?]; SQL [select u1_0.id,u1_0.email,u1_0.name from user u1_0 where u1_0.id=?]] with root cause\n</code></pre>\n<p>Probably it is a very stupid error, but I want to understand how to manage these issues.\nThanks in advance</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":19331660,"reputation":11,"user_id":14133124,"display_name":"Olga"},"score":0,"creation_date":1628423216,"post_id":68696547,"comment_id":121411108,"body_markdown":"It becomes a native query and with the parameter nativeQuery = true it does work. I thought there might be a way to right jpa query but it seems there isn&#39;t.","body":"It becomes a native query and with the parameter nativeQuery = true it does work. I thought there might be a way to right jpa query but it seems there isn&#39;t."},{"owner":{"account_id":2876818,"reputation":643,"user_id":2468639,"display_name":"Anil Kumar Athuluri"},"score":0,"creation_date":1628447100,"post_id":68696547,"comment_id":121416934,"body_markdown":"FROM keyword can be used for JPA/Hibernate queries as well. Your question doesn&#39;t have an entity name for &quot;customer_coupons&quot; hence I&#39;ve referred to the same provided. Updated the above answer by assuming its &quot;CustomerCoupons&quot; is the name of entity, hope it helps. &quot;couponId&quot; value can be set something like, setString(&quot;couponId&quot;, {value_of_couponId}) method.","body":"FROM keyword can be used for JPA/Hibernate queries as well. Your question doesn&#39;t have an entity name for &quot;customer_coupons&quot; hence I&#39;ve referred to the same provided. Updated the above answer by assuming its &quot;CustomerCoupons&quot; is the name of entity, hope it helps. &quot;couponId&quot; value can be set something like, setString(&quot;couponId&quot;, {value_of_couponId}) method."},{"owner":{"account_id":19331660,"reputation":11,"user_id":14133124,"display_name":"Olga"},"score":0,"creation_date":1628505272,"post_id":68696547,"comment_id":121429809,"body_markdown":"There is no entity for this table. It creates by jpa automatically when creating many-to-many relationship. The name of a table in the database in customer_coupons.","body":"There is no entity for this table. It creates by jpa automatically when creating many-to-many relationship. The name of a table in the database in customer_coupons."}],"tags":[],"owner":{"account_id":2876818,"reputation":643,"user_id":2468639,"display_name":"Anil Kumar Athuluri"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628447056,"creation_date":1628375345,"answer_id":68696547,"question_id":68693028,"body_markdown":"*FROM* keyword is missing in the query. The right query would be something like below,\r\n\r\n      @Query(&quot;DELETE FROM CustomerCoupons cc WHERE cc.couponId = :couponId&quot;)","title":"JPA derived delete query for many-to-many relationship","body":"<p><em>FROM</em> keyword is missing in the query. The right query would be something like below,</p>\n<pre><code>  @Query(&quot;DELETE FROM CustomerCoupons cc WHERE cc.couponId = :couponId&quot;)\n</code></pre>\n"}],"owner":{"account_id":19331660,"reputation":11,"user_id":14133124,"display_name":"Olga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697563402,"creation_date":1628344855,"question_id":68693028,"body_markdown":"I&#39;m writing an app in Spting Boot with Hibernet. In this app I have two entities: Customer and Coupon with many-to-many relationship:\r\n\r\n    @Entity\r\n    public class Customer {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate Integer id;\r\n    \r\n    \tprivate String firstName;\r\n    \tprivate String lastName;\r\n    \tprivate String email;\r\n    \tprivate String password;\r\n    \t\r\n    \t@ManyToMany(fetch = FetchType.LAZY)\r\n    \tprivate List&lt;Coupon&gt; coupons;\r\n\r\n    @Entity\r\n    public class Coupon {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate Integer id;\r\n    \r\n    \tprivate String title;\r\n    \tprivate LocalDate startDate;\r\n    \tprivate LocalDate endDate;\r\n    \tprivate Integer amount;\r\n    \tprivate Double;\r\n\r\nAnd yes, I don&#39;t want to keep a list of customers in the coupon entity. But this many-to-many relationship works and creates a table in the database with the customer_coupons name.\r\n\r\nThe question is this. I want to write a derived delete query in the coupon repository that deletes all the rows in their common customer_coupons table. E.g. I want to delete all the purchases of a given coupon.\r\n\r\nI have a coupon repository with the derived delete query:\r\n\r\n    @Repository\r\n    public interface CouponRepository extends JpaRepository&lt;Coupon, Integer&gt; {\r\n    \t@Modifying\r\n    \t@Query(&quot;DELETE customer_coupons cc WHERE cc.coupons_id = :couponId&quot;)\r\n    \tpublic List&lt;Integer&gt; deletePurchases(int couponId);\r\n    }\r\n\r\nBut it doesn&#39;t work and gives me this error:\r\n\r\n    Error creating bean with name &#39;couponRepository&#39; defined in com.olga.projectPart2.repository.CouponRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract void com.olga.projectPart2.repository.CouponRepository.deletePurchases(int)! Reason: Validation failed for query for method public abstract void com.olga.projectPart2.repository.CouponRepository.deletePurchases(int)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract void com.olga.projectPart2.repository.CouponRepository.deletePurchases(int)!\r\n\r\nWhat do I miss? Is it possible or do I need to use a native query? And yes, I don&#39;t want to use cascade properties.","title":"JPA derived delete query for many-to-many relationship","body":"<p>I'm writing an app in Spting Boot with Hibernet. In this app I have two entities: Customer and Coupon with many-to-many relationship:</p>\n<pre><code>@Entity\npublic class Customer {\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer id;\n\n    private String firstName;\n    private String lastName;\n    private String email;\n    private String password;\n    \n    @ManyToMany(fetch = FetchType.LAZY)\n    private List&lt;Coupon&gt; coupons;\n\n@Entity\npublic class Coupon {\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer id;\n\n    private String title;\n    private LocalDate startDate;\n    private LocalDate endDate;\n    private Integer amount;\n    private Double;\n</code></pre>\n<p>And yes, I don't want to keep a list of customers in the coupon entity. But this many-to-many relationship works and creates a table in the database with the customer_coupons name.</p>\n<p>The question is this. I want to write a derived delete query in the coupon repository that deletes all the rows in their common customer_coupons table. E.g. I want to delete all the purchases of a given coupon.</p>\n<p>I have a coupon repository with the derived delete query:</p>\n<pre><code>@Repository\npublic interface CouponRepository extends JpaRepository&lt;Coupon, Integer&gt; {\n    @Modifying\n    @Query(&quot;DELETE customer_coupons cc WHERE cc.coupons_id = :couponId&quot;)\n    public List&lt;Integer&gt; deletePurchases(int couponId);\n}\n</code></pre>\n<p>But it doesn't work and gives me this error:</p>\n<pre><code>Error creating bean with name 'couponRepository' defined in com.olga.projectPart2.repository.CouponRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract void com.olga.projectPart2.repository.CouponRepository.deletePurchases(int)! Reason: Validation failed for query for method public abstract void com.olga.projectPart2.repository.CouponRepository.deletePurchases(int)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract void com.olga.projectPart2.repository.CouponRepository.deletePurchases(int)!\n</code></pre>\n<p>What do I miss? Is it possible or do I need to use a native query? And yes, I don't want to use cascade properties.</p>\n"},{"tags":["java","docker","testing","junit","testcontainers"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1697538785,"post_id":77306908,"comment_id":136289687,"body_markdown":"Where does the `ConnectionManager` come from?  How is it configured?  You&#39;d need to pass the IP address and port from the `PostgreSQLContainer&lt;T&gt;` into that.  (Also consider whether an in-memory database like H2 or HDBC will work: it will be much faster and simpler than Testcontainers and can run in more places.)","body":"Where does the <code>ConnectionManager</code> come from?  How is it configured?  You&#39;d need to pass the IP address and port from the <code>PostgreSQLContainer&lt;T&gt;</code> into that.  (Also consider whether an in-memory database like H2 or HDBC will work: it will be much faster and simpler than Testcontainers and can run in more places.)"}],"answers":[{"tags":[],"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697563344,"creation_date":1697563344,"answer_id":77311033,"question_id":77306908,"body_markdown":"I think you should read first [this article][1] in order to understand what Testcontainers does. Then, look at other [article][2] which use `PostgreSQLContainer` without Spring.\r\n\r\nIn summary, Testcontainers will create and run the container in a random port, when using PostgreSQLContainer you can get the JDBC URL with `getJdbcUrl()` that should be used in `DriverManager.getConnection(postgres.getJdbcUrl(), postgres.getUsername(), postgres.getPassword());`\r\n\r\n\r\n  [1]: https://testcontainers.com/guides/introducing-testcontainers/\r\n  [2]: https://testcontainers.com/guides/getting-started-with-testcontainers-for-java/","title":"Using Testcontainers without Spring","body":"<p>I think you should read first <a href=\"https://testcontainers.com/guides/introducing-testcontainers/\" rel=\"nofollow noreferrer\">this article</a> in order to understand what Testcontainers does. Then, look at other <a href=\"https://testcontainers.com/guides/getting-started-with-testcontainers-for-java/\" rel=\"nofollow noreferrer\">article</a> which use <code>PostgreSQLContainer</code> without Spring.</p>\n<p>In summary, Testcontainers will create and run the container in a random port, when using PostgreSQLContainer you can get the JDBC URL with <code>getJdbcUrl()</code> that should be used in <code>DriverManager.getConnection(postgres.getJdbcUrl(), postgres.getUsername(), postgres.getPassword());</code></p>\n"}],"owner":{"account_id":29687160,"reputation":3,"user_id":22752540,"display_name":"elSasen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77311033,"answer_count":1,"score":-2,"last_activity_date":1697563344,"creation_date":1697527300,"question_id":77306908,"body_markdown":"I started to understand Docker and Testcontainers for homework, where the use of Spring is forbidden. The project uses a database - there are different interactions with it. I have deployed the database in Docker, but I don&#39;t understand how to write tests through Testcontainers. For example, how to test adding data to the database, or changing data in the database, or just output from the database? I have connected the container in the test class via:\r\n```\r\n private static final PostgreSQLContainer&lt;?&gt; container = new PostgreSQLContainer&lt;&gt;(&quot;postgres:15.2&quot;);\r\n```\r\nBut what to do next? All the examples, youtube videos, etc use Spring... Thanks in advance!\r\n\r\n*Below I present examples of functions*\r\n\r\n**Add to DB function**\r\n```\r\n    @Override\r\n    public void addTransaction(TypeOfTransaction type, int amount) {\r\n        String sql = &quot;&quot;&quot;\r\n                INSERT INTO entities.&quot;Transaction&quot; (type, amount)\r\n                VALUES (?, ?)\r\n                &quot;&quot;&quot;;\r\n        try (Connection connection = ConnectionManager.open();\r\n             PreparedStatement preparedStatement = connection.prepareStatement(sql)) {\r\n            preparedStatement.setString(1, String.valueOf(type));\r\n            preparedStatement.setInt(2, amount);\r\n            preparedStatement.executeUpdate();\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n**Update DB function**\r\n```\r\n    @Override\r\n    public void minusBalance(String login, int amount) {\r\n        String sql = &quot;&quot;&quot;\r\n                UPDATE entities.&quot;Client&quot;\r\n                SET balance = balance - ?\r\n                WHERE login = ?\r\n                &quot;&quot;&quot;;\r\n        try (Connection connection = ConnectionManager.open();\r\n             PreparedStatement preparedStatement = connection.prepareStatement(sql)) {\r\n            preparedStatement.setInt(1, amount);\r\n            preparedStatement.setString(2, login);\r\n            preparedStatement.executeUpdate();\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n**Print data from DB function**\r\n```\r\n    @Override\r\n    public void printAudit(String login) {\r\n        String sql = &quot;&quot;&quot;\r\n                SELECT action\r\n                FROM &quot;Client_Audit&quot;\r\n                WHERE client_login = ?\r\n                &quot;&quot;&quot;;\r\n        try (Connection connection = ConnectionManager.open();\r\n             PreparedStatement preparedStatement = connection.prepareStatement(sql)) {\r\n            preparedStatement.setString(1, login);\r\n            ResultSet resultSet = preparedStatement.executeQuery();\r\n            while (resultSet.next()) {\r\n                System.out.println(resultSet.getString(&quot;action&quot;));\r\n            }\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\nI tried to find an example of using testcontainers without Spring on YouTube, in various articles, but no luck :(","title":"Using Testcontainers without Spring","body":"<p>I started to understand Docker and Testcontainers for homework, where the use of Spring is forbidden. The project uses a database - there are different interactions with it. I have deployed the database in Docker, but I don't understand how to write tests through Testcontainers. For example, how to test adding data to the database, or changing data in the database, or just output from the database? I have connected the container in the test class via:</p>\n<pre><code> private static final PostgreSQLContainer&lt;?&gt; container = new PostgreSQLContainer&lt;&gt;(&quot;postgres:15.2&quot;);\n</code></pre>\n<p>But what to do next? All the examples, youtube videos, etc use Spring... Thanks in advance!</p>\n<p><em>Below I present examples of functions</em></p>\n<p><strong>Add to DB function</strong></p>\n<pre><code>    @Override\n    public void addTransaction(TypeOfTransaction type, int amount) {\n        String sql = &quot;&quot;&quot;\n                INSERT INTO entities.&quot;Transaction&quot; (type, amount)\n                VALUES (?, ?)\n                &quot;&quot;&quot;;\n        try (Connection connection = ConnectionManager.open();\n             PreparedStatement preparedStatement = connection.prepareStatement(sql)) {\n            preparedStatement.setString(1, String.valueOf(type));\n            preparedStatement.setInt(2, amount);\n            preparedStatement.executeUpdate();\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p><strong>Update DB function</strong></p>\n<pre><code>    @Override\n    public void minusBalance(String login, int amount) {\n        String sql = &quot;&quot;&quot;\n                UPDATE entities.&quot;Client&quot;\n                SET balance = balance - ?\n                WHERE login = ?\n                &quot;&quot;&quot;;\n        try (Connection connection = ConnectionManager.open();\n             PreparedStatement preparedStatement = connection.prepareStatement(sql)) {\n            preparedStatement.setInt(1, amount);\n            preparedStatement.setString(2, login);\n            preparedStatement.executeUpdate();\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p><strong>Print data from DB function</strong></p>\n<pre><code>    @Override\n    public void printAudit(String login) {\n        String sql = &quot;&quot;&quot;\n                SELECT action\n                FROM &quot;Client_Audit&quot;\n                WHERE client_login = ?\n                &quot;&quot;&quot;;\n        try (Connection connection = ConnectionManager.open();\n             PreparedStatement preparedStatement = connection.prepareStatement(sql)) {\n            preparedStatement.setString(1, login);\n            ResultSet resultSet = preparedStatement.executeQuery();\n            while (resultSet.next()) {\n                System.out.println(resultSet.getString(&quot;action&quot;));\n            }\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>I tried to find an example of using testcontainers without Spring on YouTube, in various articles, but no luck :(</p>\n"},{"tags":["java","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":3450274,"reputation":9585,"user_id":2890093,"accept_rate":67,"display_name":"Kombajn zbożowy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697563241,"creation_date":1697563241,"answer_id":77311025,"question_id":77310904,"body_markdown":"```\r\ndf.withColumn(&quot;prev_status&quot;, lag($&quot;status&quot;, 1).over(Window.orderBy($&quot;i&quot;)))\r\n  .withColumn(&quot;next_group&quot;, when($&quot;status&quot; === &quot;C&quot; &amp;&amp; coalesce($&quot;prev_status&quot;, lit(&quot;F&quot;)) === &quot;F&quot;, 1))\r\n  .withColumn(&quot;id&quot;, sum($&quot;next_group&quot;).over(Window.orderBy($&quot;i&quot;)))\r\n```\r\n\r\nBut note that you need something to order by. Date column in your example is not unique - it doesn&#39;t guarantee any order and Spark could mix rows when shuffling. I replaced `Date` by `i` in my query, hopefully you have some column to use here.","title":"Compare the Current Record to Previous Record and group them based on some conditions","body":"<pre><code>df.withColumn(&quot;prev_status&quot;, lag($&quot;status&quot;, 1).over(Window.orderBy($&quot;i&quot;)))\n  .withColumn(&quot;next_group&quot;, when($&quot;status&quot; === &quot;C&quot; &amp;&amp; coalesce($&quot;prev_status&quot;, lit(&quot;F&quot;)) === &quot;F&quot;, 1))\n  .withColumn(&quot;id&quot;, sum($&quot;next_group&quot;).over(Window.orderBy($&quot;i&quot;)))\n</code></pre>\n<p>But note that you need something to order by. Date column in your example is not unique - it doesn't guarantee any order and Spark could mix rows when shuffling. I replaced <code>Date</code> by <code>i</code> in my query, hopefully you have some column to use here.</p>\n"}],"owner":{"display_name":"user10146200"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697563241,"creation_date":1697562085,"question_id":77310904,"body_markdown":"I have the below Dataset\r\n```\r\n\r\nDate    | status       |\r\n20230101| C            |\r\n20230101| C            |\r\n20230101| F            |\r\n20230101| C            |\r\n20230101| C            |\r\n20230101| F            |\r\n20230101| C            |\r\n20230101| F            |\r\n20230101| F            |\r\n```\r\n\r\nI need to perform the grouping in such a way that each status record is compared to it&#39;s previous status record, they are not in the same group as long as the Current Record  is C &amp; Previous Record is F\r\n\r\n\r\nthe output should be\r\n```\r\nDate    | status       | id\r\n20230101| C            |1\r\n20230101| C            |1\r\n20230101| F            |1\r\n20230101| C            |2\r\n20230101| C            |2\r\n20230101| F            |2\r\n20230101| C            |3\r\n20230101| F            |3\r\n20230101| F            |3\r\n```\r\n\r\n\r\n```\r\n Dataset&lt;Row&gt; ds =  dataset\r\n            .withColumn(&quot;newVal&quot;, when(col(&quot;status&quot;).equalTo(&quot;C&quot;), 1).otherwise(0))\r\n            .withColumn(&quot;id&quot;, expr(&quot;row_number() over (order by Date)&quot;))\r\n            .persist(StorageLevel.MEMORY_ONLY());\r\n```\r\n\r\nI don&#39;t think this is working , can someone help me ?\r\n\r\n\r\n\r\n","title":"Compare the Current Record to Previous Record and group them based on some conditions","body":"<p>I have the below Dataset</p>\n<pre><code>\nDate    | status       |\n20230101| C            |\n20230101| C            |\n20230101| F            |\n20230101| C            |\n20230101| C            |\n20230101| F            |\n20230101| C            |\n20230101| F            |\n20230101| F            |\n</code></pre>\n<p>I need to perform the grouping in such a way that each status record is compared to it's previous status record, they are not in the same group as long as the Current Record  is C &amp; Previous Record is F</p>\n<p>the output should be</p>\n<pre><code>Date    | status       | id\n20230101| C            |1\n20230101| C            |1\n20230101| F            |1\n20230101| C            |2\n20230101| C            |2\n20230101| F            |2\n20230101| C            |3\n20230101| F            |3\n20230101| F            |3\n</code></pre>\n<pre><code> Dataset&lt;Row&gt; ds =  dataset\n            .withColumn(&quot;newVal&quot;, when(col(&quot;status&quot;).equalTo(&quot;C&quot;), 1).otherwise(0))\n            .withColumn(&quot;id&quot;, expr(&quot;row_number() over (order by Date)&quot;))\n            .persist(StorageLevel.MEMORY_ONLY());\n</code></pre>\n<p>I don't think this is working , can someone help me ?</p>\n"},{"tags":["java","spring-boot","embedded-tomcat-8","aws-route53"],"owner":{"account_id":17623706,"reputation":1,"user_id":12789106,"display_name":"Seaker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697562834,"creation_date":1697562834,"question_id":77310985,"body_markdown":"I&#39;m trying to configure springboot(ver 2.5.15) web application in DEV environment via ROSA.\r\nApplication is running fine in localhost and the CI and CD pipeline is successful but upon trying to access the DEV url, the web page is loading with this JSON content. Also, there&#39;s no error in logs.\r\n\r\n`{\r\n  &quot;_links&quot; : {\r\n    &quot;profile&quot; : {\r\n      &quot;href&quot; : &quot;application-dev-url/profile&quot;\r\n    }\r\n  }\r\n}\r\n` \r\n\r\nFront end is JSP and using embedded tomcat server\r\n\r\nI&#39;m not sure where the issue is, as **the application is running fine in localhost**.","title":"Web page loading with JSON data as content in Springboot application hosted on ROSA","body":"<p>I'm trying to configure springboot(ver 2.5.15) web application in DEV environment via ROSA.\nApplication is running fine in localhost and the CI and CD pipeline is successful but upon trying to access the DEV url, the web page is loading with this JSON content. Also, there's no error in logs.</p>\n<p><code>{ &quot;_links&quot; : { &quot;profile&quot; : { &quot;href&quot; : &quot;application-dev-url/profile&quot; } } } </code></p>\n<p>Front end is JSP and using embedded tomcat server</p>\n<p>I'm not sure where the issue is, as <strong>the application is running fine in localhost</strong>.</p>\n"},{"tags":["java","multithreading","debugging","future","executorservice"],"answers":[{"comments":[{"owner":{"account_id":1459015,"reputation":1239,"user_id":1373836,"accept_rate":62,"display_name":"Adam Bronfin"},"score":1,"creation_date":1402599156,"post_id":24191796,"comment_id":37346120,"body_markdown":"That&#39;s bizarre. That was the first thing I tried and it didn&#39;t work, so I placed a few all over the place and it worked. Thanks a lot.","body":"That&#39;s bizarre. That was the first thing I tried and it didn&#39;t work, so I placed a few all over the place and it worked. Thanks a lot."},{"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"score":0,"creation_date":1402599245,"post_id":24191796,"comment_id":37346192,"body_markdown":"@AdamBronfin probably you just didn&#39;t trip the line you debugged - and you assumed the problem was with the asynchronity so posted here.","body":"@AdamBronfin probably you just didn&#39;t trip the line you debugged - and you assumed the problem was with the asynchronity so posted here."}],"tags":[],"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1402598932,"creation_date":1402598932,"answer_id":24191796,"question_id":24191762,"body_markdown":"You need to put a break point in the callable itself.\r\n\r\nFrom a computer science theoretic standpoint, it&#39;s possible to enable smooth debugging (after all why does your language care whether the operation was sync or async?) but I don&#39;t believe this is supported in any mainstream language, like Java, yet.","title":"How to debug a Callable in Java ExecutorService that returns Futures","body":"<p>You need to put a break point in the callable itself.</p>\n\n<p>From a computer science theoretic standpoint, it's possible to enable smooth debugging (after all why does your language care whether the operation was sync or async?) but I don't believe this is supported in any mainstream language, like Java, yet.</p>\n"}],"owner":{"account_id":1459015,"reputation":1239,"user_id":1373836,"accept_rate":62,"display_name":"Adam Bronfin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5667,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":24191796,"answer_count":1,"score":4,"last_activity_date":1697562550,"creation_date":1402598836,"question_id":24191762,"body_markdown":"I have an ExecutorService that I use to multithread the processing of the some text, and the unit of work to be applied to a given chunk of text is defined as my ParserCallable which returns a Payload.\r\n\r\nSo I have a\r\n \r\n    List&lt;Future&lt;PayLoad&gt;&gt; list;\r\n\r\nwhich is populated by handing off chunks of work to each ParserCallable.\r\n\r\nI want to debug ParserCallable in this multithreaded environment, and I don&#39;t have any concern for which one, but I&#39;m not sure how I can step into the execution of any ParserCallable&#39;s from my code.\r\n\r\nWhich looks something like\r\n\r\n    List&lt;Future&lt;PayLoad&gt;&gt; list = new ArrayList&lt;Future&lt;PayLoad&gt;&gt;();\r\n    ExecutorService executor = Executors.newFixedThreadPool(25);\r\n    for (int i = 0; i &lt; blocks_of_work.size(); i++) {\r\n       Callable&lt;PayLoad&gt; worker = new ParserCallable(blocks_of_work.get(i));\r\n       Future&lt;PayLoad&gt; submit = executor.submit(worker);\r\n       list.add(submit);\r\n    }\r\n\r\nHow I can debug any given ParserCallable in order to troubleshoot some errors I&#39;m getting? Based on my code I&#39;m not sure how to step into one of these callables. ","title":"How to debug a Callable in Java ExecutorService that returns Futures","body":"<p>I have an ExecutorService that I use to multithread the processing of the some text, and the unit of work to be applied to a given chunk of text is defined as my ParserCallable which returns a Payload.</p>\n<p>So I have a</p>\n<pre><code>List&lt;Future&lt;PayLoad&gt;&gt; list;\n</code></pre>\n<p>which is populated by handing off chunks of work to each ParserCallable.</p>\n<p>I want to debug ParserCallable in this multithreaded environment, and I don't have any concern for which one, but I'm not sure how I can step into the execution of any ParserCallable's from my code.</p>\n<p>Which looks something like</p>\n<pre><code>List&lt;Future&lt;PayLoad&gt;&gt; list = new ArrayList&lt;Future&lt;PayLoad&gt;&gt;();\nExecutorService executor = Executors.newFixedThreadPool(25);\nfor (int i = 0; i &lt; blocks_of_work.size(); i++) {\n   Callable&lt;PayLoad&gt; worker = new ParserCallable(blocks_of_work.get(i));\n   Future&lt;PayLoad&gt; submit = executor.submit(worker);\n   list.add(submit);\n}\n</code></pre>\n<p>How I can debug any given ParserCallable in order to troubleshoot some errors I'm getting? Based on my code I'm not sure how to step into one of these callables.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1500036318,"post_id":45102456,"comment_id":77177669,"body_markdown":"The JPA spec doesn&#39;t allow for a user wanting to set under some situation and generate under others (since the definition of `GeneratedValue` is static). Some JPA providers do support it (DataNucleus does IIRC) but non-portable if relying on it","body":"The JPA spec doesn&#39;t allow for a user wanting to set under some situation and generate under others (since the definition of <code>GeneratedValue</code> is static). Some JPA providers do support it (DataNucleus does IIRC) but non-portable if relying on it"},{"owner":{"account_id":1306358,"reputation":42103,"user_id":1255289,"accept_rate":89,"display_name":"miken32"},"score":0,"creation_date":1660407551,"post_id":45102456,"comment_id":129528385,"body_markdown":"Does this answer your question? [set Id (PK) generation value auto and manual](https://stackoverflow.com/questions/18182826/set-id-pk-generation-value-auto-and-manual)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18182826/set-id-pk-generation-value-auto-and-manual\">set Id (PK) generation value auto and manual</a>"}],"answers":[{"comments":[{"owner":{"account_id":1083825,"reputation":1223,"user_id":1080041,"display_name":"Hong"},"score":0,"creation_date":1656573013,"post_id":45102913,"comment_id":128606925,"body_markdown":"The link mentioned in the answer helps!","body":"The link mentioned in the answer helps!"}],"tags":[],"owner":{"account_id":8585815,"reputation":425,"user_id":6431997,"display_name":"memoricab"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500034953,"creation_date":1500034953,"answer_id":45102913,"question_id":45102456,"body_markdown":"[This link][1]\r\nmay help you.\r\n\r\nI would apply a basic solution if I understood your problem correctly.\r\n\r\n    @Column(name = &quot;task_id&quot;, unique = true, nullable = false)\r\n    private String taskId;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18182826/set-id-pk-generation-value-auto-and-manual","title":"How to set autogenerated Id manually?","body":"<p><a href=\"https://stackoverflow.com/questions/18182826/set-id-pk-generation-value-auto-and-manual\">This link</a>\nmay help you.</p>\n\n<p>I would apply a basic solution if I understood your problem correctly.</p>\n\n<pre><code>@Column(name = \"task_id\", unique = true, nullable = false)\nprivate String taskId;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7537672,"reputation":396,"user_id":5723444,"accept_rate":20,"display_name":"TheHound.developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500111260,"creation_date":1500111260,"answer_id":45116694,"question_id":45102456,"body_markdown":"@GeneratedValue annotation doesn&#39;t allow the user to set the value manually.Instead of using that annotation you can manually generate some string format like below and mark the taskId column with @Id\r\n\r\n    String hql = &quot;from MasterCount where itemType=:type&quot;;\r\n\tQuery&lt;MasterCount&gt; query = session.createQuery(hql);\r\n\tquery.setParameter(&quot;type&quot;, &quot;task&quot;);\r\n\tMasterCount count = query.uniqueResult();\r\n\tint lastId = count.getItemId() + 1;\r\n\tcount.setItemId(lastId);\r\n    task.setTaskId(&quot;task0&quot;+lastId);\r\nThat is create a master table with columns itemId and itemType.Save &quot;task&quot; and 0 in the columns respectively.Check the last entered value ,increment one and save again.","title":"How to set autogenerated Id manually?","body":"<p>@GeneratedValue annotation doesn't allow the user to set the value manually.Instead of using that annotation you can manually generate some string format like below and mark the taskId column with @Id</p>\n\n<pre><code>String hql = \"from MasterCount where itemType=:type\";\nQuery&lt;MasterCount&gt; query = session.createQuery(hql);\nquery.setParameter(\"type\", \"task\");\nMasterCount count = query.uniqueResult();\nint lastId = count.getItemId() + 1;\ncount.setItemId(lastId);\ntask.setTaskId(\"task0\"+lastId);\n</code></pre>\n\n<p>That is create a master table with columns itemId and itemType.Save \"task\" and 0 in the columns respectively.Check the last entered value ,increment one and save again.</p>\n"},{"comments":[{"owner":{"account_id":9925001,"reputation":1047,"user_id":7346931,"display_name":"Dharmendrasinh Chudasama"},"score":0,"creation_date":1660394249,"post_id":45129580,"comment_id":129525655,"body_markdown":"But here it will go to update entity insted of insert because id is not null in jpa.save() method","body":"But here it will go to update entity insted of insert because id is not null in jpa.save() method"}],"tags":[],"owner":{"account_id":5782764,"reputation":1081,"user_id":4562902,"accept_rate":54,"display_name":"dhyanandra singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500214659,"creation_date":1500214659,"answer_id":45129580,"question_id":45102456,"body_markdown":" you can initialize it manually. \r\n\r\n\r\n            @Id\r\n        \t@Column(name= &quot;id&quot;)\r\n        \t@GeneratedValue\r\n        \tprivate Long id = Long.parseLong(UUID.randomUUID().toString(), 16);\r\n        \t","title":"How to set autogenerated Id manually?","body":"<p>you can initialize it manually. </p>\n\n<pre><code>        @Id\n        @Column(name= \"id\")\n        @GeneratedValue\n        private Long id = Long.parseLong(UUID.randomUUID().toString(), 16);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8794152,"reputation":382,"user_id":8574000,"display_name":"Quockhanh Pham"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1532938769,"creation_date":1532923765,"answer_id":51586864,"question_id":45102456,"body_markdown":"Using\r\n\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\n\r\nExample:\r\n[http://www.codejava.net/frameworks/hibernate/java-hibernate-jpa-annotations-tutorial-for-beginners][1]\r\n\r\n\r\n  [1]: http://www.codejava.net/frameworks/hibernate/java-hibernate-jpa-annotations-tutorial-for-beginners","title":"How to set autogenerated Id manually?","body":"<p>Using</p>\n\n<pre><code>@GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n\n<p>Example:\n<a href=\"http://www.codejava.net/frameworks/hibernate/java-hibernate-jpa-annotations-tutorial-for-beginners\" rel=\"nofollow noreferrer\">http://www.codejava.net/frameworks/hibernate/java-hibernate-jpa-annotations-tutorial-for-beginners</a></p>\n"},{"tags":[],"owner":{"account_id":9925001,"reputation":1047,"user_id":7346931,"display_name":"Dharmendrasinh Chudasama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660406887,"creation_date":1660406887,"answer_id":73345823,"question_id":45102456,"body_markdown":"&gt; Just implement org.springframework.data.domain.Persistable;\r\n\r\n&gt; After too much finding and frustration i have used this and worked for my R2DBMS entity\r\n\r\n    @Table(name = &quot;...&quot;)\r\n    public class .... implements Persistable&lt;String&gt; {\r\n    \r\n       ...\r\n    \r\n       public boolean isNew(){\r\n         return id==null; //modify and set your logic\r\n       }\r\n    \r\n    }","title":"How to set autogenerated Id manually?","body":"<blockquote>\n<p>Just implement org.springframework.data.domain.Persistable;</p>\n</blockquote>\n<blockquote>\n<p>After too much finding and frustration i have used this and worked for my R2DBMS entity</p>\n</blockquote>\n<pre><code>@Table(name = &quot;...&quot;)\npublic class .... implements Persistable&lt;String&gt; {\n\n   ...\n\n   public boolean isNew(){\n     return id==null; //modify and set your logic\n   }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1697714856,"post_id":77310921,"comment_id":136316049,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77310921/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29684614,"reputation":1,"user_id":22750510,"display_name":"user22750510"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697562216,"creation_date":1697562216,"answer_id":77310921,"question_id":45102456,"body_markdown":"all of you missing the point.\r\n\r\nSometimes you need to insert a specific Id with identity_insert on especially when perform bulk imports\r\n\r\nThe tricky part is how to override the default behaviour without reinvent the wheel and do manual queries ","title":"How to set autogenerated Id manually?","body":"<p>all of you missing the point.</p>\n<p>Sometimes you need to insert a specific Id with identity_insert on especially when perform bulk imports</p>\n<p>The tricky part is how to override the default behaviour without reinvent the wheel and do manual queries</p>\n"}],"owner":{"account_id":1467204,"reputation":5011,"user_id":1379734,"accept_rate":61,"display_name":"hellzone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16973,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":51586864,"answer_count":6,"score":9,"last_activity_date":1697562216,"creation_date":1500033602,"question_id":45102456,"body_markdown":"I have an entity called Task and it has taskId field. Problem is I need to create/update some specific tasks and JPA autogenerator doesn&#39;t allow me to set taskId manually.(It overrides my taskId) \r\n\r\nIs there any way to set taskId manually?\r\n\r\n\r\n    @Id\r\n    @Column(name = &quot;task_id&quot;)\r\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n    private String taskId;","title":"How to set autogenerated Id manually?","body":"<p>I have an entity called Task and it has taskId field. Problem is I need to create/update some specific tasks and JPA autogenerator doesn't allow me to set taskId manually.(It overrides my taskId) </p>\n\n<p>Is there any way to set taskId manually?</p>\n\n<pre><code>@Id\n@Column(name = \"task_id\")\n@GeneratedValue(generator = \"system-uuid\")\n@GenericGenerator(name = \"system-uuid\", strategy = \"org.hibernate.id.UUIDGenerator\")\nprivate String taskId;\n</code></pre>\n"},{"tags":["java","android","kotlin","callback","android-webview"],"comments":[{"owner":{"account_id":16447875,"reputation":185,"user_id":11882081,"display_name":"Trent Meyer"},"score":2,"creation_date":1697550861,"post_id":77309528,"comment_id":136292144,"body_markdown":"Does this answer your question? [onBackPressed() is deprecated. What is the alternative?](https://stackoverflow.com/questions/72634225/onbackpressed-is-deprecated-what-is-the-alternative)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/72634225/onbackpressed-is-deprecated-what-is-the-alternative\">onBackPressed() is deprecated. What is the alternative?</a>"}],"answers":[{"tags":[],"owner":{"account_id":29693021,"reputation":1,"user_id":22756991,"display_name":"jima"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697555655,"creation_date":1697555655,"answer_id":77310210,"question_id":77309528,"body_markdown":"Maybe you could use the onKeyDown event?\r\n\r\n    override fun onKeyDown(keyCode: Int, event: KeyEvent?): Boolean {\r\n\r\n        if (keyCode == KeyEvent.KEYCODE_BACK) {\r\n            return true\r\n        }\r\n\r\n        return super.onKeyDown(keyCode, event)\r\n    }\r\n","title":"onBackPressed is deprecated - webView in android app","body":"<p>Maybe you could use the onKeyDown event?</p>\n<pre><code>override fun onKeyDown(keyCode: Int, event: KeyEvent?): Boolean {\n\n    if (keyCode == KeyEvent.KEYCODE_BACK) {\n        return true\n    }\n\n    return super.onKeyDown(keyCode, event)\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29692383,"reputation":1,"user_id":22756482,"display_name":"yeswhatdoyouwant"},"score":0,"creation_date":1697608540,"post_id":77310909,"comment_id":136299550,"body_markdown":"This java code works for me, on android 11, just as my old code. It doesn&#39;t change anything for android 13. Can it be anything else I have to do aswell? Also, what would be the replacement for &quot;super.onBackPressed();&quot;?","body":"This java code works for me, on android 11, just as my old code. It doesn&#39;t change anything for android 13. Can it be anything else I have to do aswell? Also, what would be the replacement for &quot;super.onBackPressed();&quot;?"},{"owner":{"account_id":29692383,"reputation":1,"user_id":22756482,"display_name":"yeswhatdoyouwant"},"score":0,"creation_date":1697609079,"post_id":77310909,"comment_id":136299612,"body_markdown":"I solved that last part with a simple &quot;finish();&quot;, can that be sufficient?","body":"I solved that last part with a simple &quot;finish();&quot;, can that be sufficient?"},{"owner":{"account_id":13210775,"reputation":999,"user_id":9541096,"display_name":"Owais Yosuf"},"score":0,"creation_date":1697609195,"post_id":77310909,"comment_id":136299619,"body_markdown":"if it solves, then please accept this answer.","body":"if it solves, then please accept this answer."},{"owner":{"account_id":29692383,"reputation":1,"user_id":22756482,"display_name":"yeswhatdoyouwant"},"score":0,"creation_date":1697609360,"post_id":77310909,"comment_id":136299651,"body_markdown":"It didn&#39;t, my problem was that I needed something that works for android 13, and like I said, for now it just works as my old code, for android 11.","body":"It didn&#39;t, my problem was that I needed something that works for android 13, and like I said, for now it just works as my old code, for android 11."}],"tags":[],"owner":{"account_id":13210775,"reputation":999,"user_id":9541096,"display_name":"Owais Yosuf"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697562118,"creation_date":1697562118,"answer_id":77310909,"question_id":77309528,"body_markdown":"**Java**:\r\n\r\n    OnBackPressedCallback onBackPressedCallback = new OnBackPressedCallback(true) {\r\n        @Override\r\n        public void handleOnBackPressed() {\r\n            webView.goBack();\r\n        }\r\n    };\r\n    OnBackPressedDispatcher onBackPressedDispatcher = \r\n    requireActivity().getOnBackPressedDispatcher();\r\n    onBackPressedDispatcher.addCallback(getViewLifecycleOwner(), \r\n    onBackPressedCallback);\r\n\r\n**Kotlin:**\r\n\r\n    val onBackPressedCallback = object : OnBackPressedCallback(true) {\r\n        override fun handleOnBackPressed() {\r\n            webView.goBack()\r\n        }\r\n    }\r\n    onBackPressedDispatcher.addCallback(onBackPressedCallback)\r\n","title":"onBackPressed is deprecated - webView in android app","body":"<p><strong>Java</strong>:</p>\n<pre><code>OnBackPressedCallback onBackPressedCallback = new OnBackPressedCallback(true) {\n    @Override\n    public void handleOnBackPressed() {\n        webView.goBack();\n    }\n};\nOnBackPressedDispatcher onBackPressedDispatcher = \nrequireActivity().getOnBackPressedDispatcher();\nonBackPressedDispatcher.addCallback(getViewLifecycleOwner(), \nonBackPressedCallback);\n</code></pre>\n<p><strong>Kotlin:</strong></p>\n<pre><code>val onBackPressedCallback = object : OnBackPressedCallback(true) {\n    override fun handleOnBackPressed() {\n        webView.goBack()\n    }\n}\nonBackPressedDispatcher.addCallback(onBackPressedCallback)\n</code></pre>\n"}],"owner":{"account_id":29692383,"reputation":1,"user_id":22756482,"display_name":"yeswhatdoyouwant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697562118,"creation_date":1697550063,"question_id":77309528,"body_markdown":"I have an app where the main activity (which extends ComponentActivity) is pretty much just a webView. I have overriden onBackPressed, shown below.\r\n\r\n```\r\n@Override\r\npublic void onBackPressed(){\r\n  if(this.webView.canGoBack){\r\n    this.webView.goBack();\r\n  }\r\n  else{\r\n    super.onBackPressed();\r\n  }\r\n}\r\n```\r\nI did this so that when there is browser history, it should go through that instead of canceling the app itself. This works when running my app on my tablet which have android 11, but not on my phone with android 13. Now when onBackPressed is deprecated, I really don&#39;t understand how to replace this and keep the same behavior.\r\n\r\n\r\nTried using the onBackPressedDispatcher instead, but didn&#39;t succeed. Don&#39;t know if it&#39;s the wrong thing, or if I&#39;m just handling it wrong.","title":"onBackPressed is deprecated - webView in android app","body":"<p>I have an app where the main activity (which extends ComponentActivity) is pretty much just a webView. I have overriden onBackPressed, shown below.</p>\n<pre><code>@Override\npublic void onBackPressed(){\n  if(this.webView.canGoBack){\n    this.webView.goBack();\n  }\n  else{\n    super.onBackPressed();\n  }\n}\n</code></pre>\n<p>I did this so that when there is browser history, it should go through that instead of canceling the app itself. This works when running my app on my tablet which have android 11, but not on my phone with android 13. Now when onBackPressed is deprecated, I really don't understand how to replace this and keep the same behavior.</p>\n<p>Tried using the onBackPressedDispatcher instead, but didn't succeed. Don't know if it's the wrong thing, or if I'm just handling it wrong.</p>\n"},{"tags":["java","multithreading","algorithm","concurrency","reentrantlock"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697555798,"post_id":77310078,"comment_id":136293282,"body_markdown":"Whatever you believe, this sequence `loadLock.lock(); loadLock.unlock();` does: no, it doesn’t. It’s pointless. Further, there is a contradiction in thread one “*Initiates a loading process and immediately returns*” and thread two’s condition “*If Thread One is in the midst of loading*”. How can thread one be “in the midst of loading” when it doesn’t load but only “Initiates a loading process” and “*immediately returns*”?","body":"Whatever you believe, this sequence <code>loadLock.lock(); loadLock.unlock();</code> does: no, it doesn’t. It’s pointless. Further, there is a contradiction in thread one “<i>Initiates a loading process and immediately returns</i>” and thread two’s condition “<i>If Thread One is in the midst of loading</i>”. How can thread one be “in the midst of loading” when it doesn’t load but only “Initiates a loading process” and “<i>immediately returns</i>”?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1697556021,"post_id":77310078,"comment_id":136293339,"body_markdown":"Is there an actual question? I think you need to focus more and ask something about a specific question.  &quot;Suggestions&quot;, &quot;not good&quot;, &quot;ideally&quot; -- these aren&#39;t specific, just requests for free form discussion and tentative code changes.  Try to focus on one thing specifically that is definitely a problem, show us how to produce the problem and then we might be able to say something concrete about the code.","body":"Is there an actual question? I think you need to focus more and ask something about a specific question.  &quot;Suggestions&quot;, &quot;not good&quot;, &quot;ideally&quot; -- these aren&#39;t specific, just requests for free form discussion and tentative code changes.  Try to focus on one thing specifically that is definitely a problem, show us how to produce the problem and then we might be able to say something concrete about the code."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1697556162,"post_id":77310078,"comment_id":136293367,"body_markdown":"I&#39;m also concerned about this sequence: `DbLoadService.load(); while (isLoadPending.compareAndSet(true, false)) {          DbLoadService.load();` which looks a lot like busy waiting while holding a lock.  Seems like it might be counter-productive.","body":"I&#39;m also concerned about this sequence: <code>DbLoadService.load(); while (isLoadPending.compareAndSet(true, false)) {          DbLoadService.load();</code> which looks a lot like busy waiting while holding a lock.  Seems like it might be counter-productive."},{"owner":{"account_id":5161568,"reputation":43,"user_id":4133084,"display_name":"Openeye"},"score":0,"creation_date":1697557010,"post_id":77310078,"comment_id":136293531,"body_markdown":"@Holger the  loadLock.lock(); loadLock.unlock(); sequence functions as a wait as  loadLock.lock(); is blocking, ensuring the thread does not return before the load is completed. My wording for the initial call could have been better, the load should complete before it returns.","body":"@Holger the  loadLock.lock(); loadLock.unlock(); sequence functions as a wait as  loadLock.lock(); is blocking, ensuring the thread does not return before the load is completed. My wording for the initial call could have been better, the load should complete before it returns."},{"owner":{"account_id":5161568,"reputation":43,"user_id":4133084,"display_name":"Openeye"},"score":0,"creation_date":1697557394,"post_id":77310078,"comment_id":136293608,"body_markdown":"@markspace Apologies for the vagueness. My primary concern is preventing a thread from being stuck in continuous loading when isLoadPending is set. How can I modify the code to ensure threads behave as described in the initial post, particularly for Thread 3&#39;s desired behavior?","body":"@markspace Apologies for the vagueness. My primary concern is preventing a thread from being stuck in continuous loading when isLoadPending is set. How can I modify the code to ensure threads behave as described in the initial post, particularly for Thread 3&#39;s desired behavior?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697557484,"post_id":77310078,"comment_id":136293621,"body_markdown":"You seem to think that lock actions have to progress in the order of the `lock()` calls but that’s not the case. Even if you change the code to use a fair lock, `tryLock` still may overtake any waiting thread, and perform the unconditional first `DbLoadService.load();` before even checking the flag. In other words, the availability of a `Lock` should not be confused with a `Condition`. Though, your task looks more like a `Phaser`’s job anyway.","body":"You seem to think that lock actions have to progress in the order of the <code>lock()</code> calls but that’s not the case. Even if you change the code to use a fair lock, <code>tryLock</code> still may overtake any waiting thread, and perform the unconditional first <code>DbLoadService.load();</code> before even checking the flag. In other words, the availability of a <code>Lock</code> should not be confused with a <code>Condition</code>. Though, your task looks more like a <code>Phaser</code>’s job anyway."},{"owner":{"account_id":5161568,"reputation":43,"user_id":4133084,"display_name":"Openeye"},"score":0,"creation_date":1697557584,"post_id":77310078,"comment_id":136293642,"body_markdown":"@markspace The check is needed in case a load was called after the last one began.","body":"@markspace The check is needed in case a load was called after the last one began."},{"owner":{"account_id":5161568,"reputation":43,"user_id":4133084,"display_name":"Openeye"},"score":0,"creation_date":1697558311,"post_id":77310078,"comment_id":136293781,"body_markdown":"@Holger Ok, thanks. I was not aware of that. Il take a look at Phaser and attempt another implementation.","body":"@Holger Ok, thanks. I was not aware of that. Il take a look at Phaser and attempt another implementation."}],"answers":[{"comments":[{"owner":{"account_id":5161568,"reputation":43,"user_id":4133084,"display_name":"Openeye"},"score":0,"creation_date":1697567857,"post_id":77310843,"comment_id":136295326,"body_markdown":"This is a great solution, looks clean, tested it now and it works perfectly. Much appreciated. And thank you for introducing me to Phaser!","body":"This is a great solution, looks clean, tested it now and it works perfectly. Much appreciated. And thank you for introducing me to Phaser!"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697561544,"creation_date":1697561544,"answer_id":77310843,"question_id":77310078,"body_markdown":"I think, you want something like this:\r\n\r\n```java\r\nfinal Phaser loadPhaser = new Phaser() {\r\n    protected boolean onAdvance(int phase, int registeredParties) {\r\n        DbLoadService.load();\r\n        return false;\r\n    }\r\n};\r\n\r\npublic void loadAll() {\r\n    int myPhase = loadPhaser.register();\r\n    loadPhaser.arriveAndDeregister();\r\n    loadPhaser.awaitAdvance(myPhase);\r\n}\r\n```\r\n\r\nIn this specific use case, the threads belonging to a particular phase are the threads entering `loadAll()` at the same time or while a previous `DbLoadService.load()` is in progress. Since this is different for each phase, they have to register and unregister each time.\r\n\r\nAll threads calling `register()` while a previous `DbLoadService.load()` is in progress will wait for its completion, then all of them will call `arriveAndDeregister()` and the last one will perform the new `DbLoadService.load()` operation. The others will wait for the completion of this new `DbLoadService.load()` operation in `awaitAdvance`.\r\n\r\nNew threads arriving at `register()` are clearly distinct from the threads waiting at `awaitAdvance` at the same time—they belong to a different phase. In fact, when this overlapping happens, it is impossible for the thread performing the current `load()` to become part of the next phase, so it’s impossible for a thread to get stuck in repeatedly performing the `load` operation.\r\n","title":"How to handle multiple threads efficiently / only perform a load operation once for all queued up load calls?","body":"<p>I think, you want something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Phaser loadPhaser = new Phaser() {\n    protected boolean onAdvance(int phase, int registeredParties) {\n        DbLoadService.load();\n        return false;\n    }\n};\n\npublic void loadAll() {\n    int myPhase = loadPhaser.register();\n    loadPhaser.arriveAndDeregister();\n    loadPhaser.awaitAdvance(myPhase);\n}\n</code></pre>\n<p>In this specific use case, the threads belonging to a particular phase are the threads entering <code>loadAll()</code> at the same time or while a previous <code>DbLoadService.load()</code> is in progress. Since this is different for each phase, they have to register and unregister each time.</p>\n<p>All threads calling <code>register()</code> while a previous <code>DbLoadService.load()</code> is in progress will wait for its completion, then all of them will call <code>arriveAndDeregister()</code> and the last one will perform the new <code>DbLoadService.load()</code> operation. The others will wait for the completion of this new <code>DbLoadService.load()</code> operation in <code>awaitAdvance</code>.</p>\n<p>New threads arriving at <code>register()</code> are clearly distinct from the threads waiting at <code>awaitAdvance</code> at the same time—they belong to a different phase. In fact, when this overlapping happens, it is impossible for the thread performing the current <code>load()</code> to become part of the next phase, so it’s impossible for a thread to get stuck in repeatedly performing the <code>load</code> operation.</p>\n"}],"owner":{"account_id":5161568,"reputation":43,"user_id":4133084,"display_name":"Openeye"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77310843,"answer_count":1,"score":1,"last_activity_date":1697561544,"creation_date":1697554467,"question_id":77310078,"body_markdown":"I&#39;m attempting to write java code that executes a load operation as described below.\r\n\r\n**Initial Call (Thread One):**\r\nInitiates a loading process and immediately returns.\r\n\r\n**Second Call (Thread Two):**\r\n\r\nIf Thread One is in the midst of loading, it waits.\r\nOnce Thread One finishes, Thread Two starts its own load.\r\nAfter its load is done, it returns.\r\n\r\n**Subsequent Calls (Thread Three and beyond):**\r\nIf Thread One is loading, it waits.\r\nDoes not queue behind both Thread One and Thread Two.\r\nInstead, it leverages the load process initiated by Thread Two.\r\nReturns in tandem with Thread Two once the loading is completed.\r\n\r\nThe load method is called from an api-controller method. \r\n\r\n\r\n\r\nMy current implementation is not good because the same thread is handling the flush for the next threads, while it should have returned. If the method is invoked multiple times and the isLoadPending flag is set, the same thread continually handles the load, potentially without ever releasing. Ideally, after waiting for a prior load to finish, a thread should only need to flush at most one more time.\r\n\r\n\r\n```\r\nprivate final ReentrantLock loadLock = new ReentrantLock();\r\nprivate final AtomicBoolean isLoadPending = new AtomicBoolean(false);\r\n\r\npublic void loadAll() {\r\n    if (loadLock.tryLock()) {\r\n        try {\r\n            DbLoadService.load();\r\n            while (isLoadPending.compareAndSet(true, false)) {\r\n                DbLoadService.load();\r\n            }\r\n        } finally {\r\n            loadLock.unlock();\r\n        }\r\n    } else {\r\n        isLoadPending.set(true);\r\n        loadLock.lock();\r\n        loadLock.unlock();\r\n    }\r\n}\r\n```\r\n\r\nAny suggestions?","title":"How to handle multiple threads efficiently / only perform a load operation once for all queued up load calls?","body":"<p>I'm attempting to write java code that executes a load operation as described below.</p>\n<p><strong>Initial Call (Thread One):</strong>\nInitiates a loading process and immediately returns.</p>\n<p><strong>Second Call (Thread Two):</strong></p>\n<p>If Thread One is in the midst of loading, it waits.\nOnce Thread One finishes, Thread Two starts its own load.\nAfter its load is done, it returns.</p>\n<p><strong>Subsequent Calls (Thread Three and beyond):</strong>\nIf Thread One is loading, it waits.\nDoes not queue behind both Thread One and Thread Two.\nInstead, it leverages the load process initiated by Thread Two.\nReturns in tandem with Thread Two once the loading is completed.</p>\n<p>The load method is called from an api-controller method.</p>\n<p>My current implementation is not good because the same thread is handling the flush for the next threads, while it should have returned. If the method is invoked multiple times and the isLoadPending flag is set, the same thread continually handles the load, potentially without ever releasing. Ideally, after waiting for a prior load to finish, a thread should only need to flush at most one more time.</p>\n<pre><code>private final ReentrantLock loadLock = new ReentrantLock();\nprivate final AtomicBoolean isLoadPending = new AtomicBoolean(false);\n\npublic void loadAll() {\n    if (loadLock.tryLock()) {\n        try {\n            DbLoadService.load();\n            while (isLoadPending.compareAndSet(true, false)) {\n                DbLoadService.load();\n            }\n        } finally {\n            loadLock.unlock();\n        }\n    } else {\n        isLoadPending.set(true);\n        loadLock.lock();\n        loadLock.unlock();\n    }\n}\n</code></pre>\n<p>Any suggestions?</p>\n"},{"tags":["java","sockets","serversocket"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1697561521,"post_id":77310773,"comment_id":136294290,"body_markdown":"Here is the _Java_ tutorial on _sockets_.  _[Lesson: All About Sockets (The Java™ Tutorials &gt; Custom Networking)](https://docs.oracle.com/javase/tutorial/networking/sockets/index.html)_.","body":"Here is the <i>Java</i> tutorial on <i>sockets</i>.  <i><a href=\"https://docs.oracle.com/javase/tutorial/networking/sockets/index.html\" rel=\"nofollow noreferrer\">Lesson: All About Sockets (The Java™ Tutorials &gt; Custom Networking)</a></i>."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697578012,"post_id":77310773,"comment_id":136296810,"body_markdown":"You have to close the socket in both the client and server. Otherwise the connection will be, err, reset.","body":"You have to close the socket in both the client and server. Otherwise the connection will be, err, reset."}],"owner":{"account_id":26621762,"reputation":1,"user_id":20240448,"display_name":"Dari_OS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697561259,"creation_date":1697560865,"question_id":77310773,"body_markdown":"So I want to learn about Sockets in Java, therefore I followed this [&quot;tutorial&quot;](https://youtu.be/-xKgxqG411c). Although I copied the code from the tutorial I am getting an Exception. \r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:318)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)\r\n\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)\r\n\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:1099)\r\n\tat java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:329)\r\n\tat java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:372)\r\n\tat java.base/sun.nio.cs.StreamDecoder.lockedRead(StreamDecoder.java:215)\r\n\tat java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:169)\r\n\tat java.base/java.io.InputStreamReader.read(InputStreamReader.java:188)\r\n\tat java.base/java.io.BufferedReader.fill(BufferedReader.java:160)\r\n\tat java.base/java.io.BufferedReader.implReadLine(BufferedReader.java:370)\r\n\tat java.base/java.io.BufferedReader.readLine(BufferedReader.java:347)\r\n\tat java.base/java.io.BufferedReader.readLine(BufferedReader.java:436)\r\n\tat Server.main(Server.java:17)\r\n```\r\n\r\nThis is my **Client** code:\r\n```\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\n\r\npublic class Client {\r\n    public static void main(String[] args) throws IOException {\r\n        Socket s = new Socket(&quot;localhost&quot;, 4999);\r\n\r\n        PrintWriter pr = new PrintWriter(s.getOutputStream());\r\n        pr.println(&quot;hello&quot;);\r\n        pr.flush();\r\n    }\r\n}\r\n```\r\n\r\nAnd this is my **Server** code:\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.nio.Buffer;\r\n\r\npublic class Server {\r\n    public static void main(String[] args) throws IOException {\r\n        ServerSocket ss = new ServerSocket(4999);\r\n        Socket s = ss.accept();\r\n        System.out.println(&quot;client connected&quot;);\r\n        InputStreamReader in = new InputStreamReader(s.getInputStream());\r\n        BufferedReader bf = new BufferedReader(in);\r\n        String str = bf.readLine();\r\n\r\n        System.out.println(&quot;client : &quot; + str);\r\n\r\n    }\r\n}\r\n```\r\n\r\nI tried to close the Client connection in the Client class with `s.close();` but the *same Exception* occurred.","title":"I am getting a java.net.SocketException: Connection reset","body":"<p>So I want to learn about Sockets in Java, therefore I followed this <a href=\"https://youtu.be/-xKgxqG411c\" rel=\"nofollow noreferrer\">&quot;tutorial&quot;</a>. Although I copied the code from the tutorial I am getting an Exception.</p>\n<pre><code>Exception in thread &quot;main&quot; java.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:318)\n    at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)\n    at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)\n    at java.base/java.net.Socket$SocketInputStream.read(Socket.java:1099)\n    at java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:329)\n    at java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:372)\n    at java.base/sun.nio.cs.StreamDecoder.lockedRead(StreamDecoder.java:215)\n    at java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:169)\n    at java.base/java.io.InputStreamReader.read(InputStreamReader.java:188)\n    at java.base/java.io.BufferedReader.fill(BufferedReader.java:160)\n    at java.base/java.io.BufferedReader.implReadLine(BufferedReader.java:370)\n    at java.base/java.io.BufferedReader.readLine(BufferedReader.java:347)\n    at java.base/java.io.BufferedReader.readLine(BufferedReader.java:436)\n    at Server.main(Server.java:17)\n</code></pre>\n<p>This is my <strong>Client</strong> code:</p>\n<pre><code>import java.io.IOException;\nimport java.io.PrintWriter;\nimport java.net.Socket;\n\npublic class Client {\n    public static void main(String[] args) throws IOException {\n        Socket s = new Socket(&quot;localhost&quot;, 4999);\n\n        PrintWriter pr = new PrintWriter(s.getOutputStream());\n        pr.println(&quot;hello&quot;);\n        pr.flush();\n    }\n}\n</code></pre>\n<p>And this is my <strong>Server</strong> code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.nio.Buffer;\n\npublic class Server {\n    public static void main(String[] args) throws IOException {\n        ServerSocket ss = new ServerSocket(4999);\n        Socket s = ss.accept();\n        System.out.println(&quot;client connected&quot;);\n        InputStreamReader in = new InputStreamReader(s.getInputStream());\n        BufferedReader bf = new BufferedReader(in);\n        String str = bf.readLine();\n\n        System.out.println(&quot;client : &quot; + str);\n\n    }\n}\n</code></pre>\n<p>I tried to close the Client connection in the Client class with <code>s.close();</code> but the <em>same Exception</em> occurred.</p>\n"},{"tags":["java","object","arraylist","split"],"comments":[{"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"score":0,"creation_date":1697558945,"post_id":77310534,"comment_id":136293892,"body_markdown":"You could use a map and the CaseNumber is the key. The value part would then be a list of senders.","body":"You could use a map and the CaseNumber is the key. The value part would then be a list of senders."}],"answers":[{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697559569,"creation_date":1697559569,"answer_id":77310681,"question_id":77310534,"body_markdown":"You can use java stream `api` to group the list. \r\n```java\r\nMap&lt;Integer, List&lt;Message&gt;&gt; groupedMessages = allMessages.stream().collect(Collectors.groupingBy(Message::getCaseNumber));\r\n``` ","title":"Split an List of objects based caseNumber into a new List of objects","body":"<p>You can use java stream <code>api</code> to group the list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, List&lt;Message&gt;&gt; groupedMessages = allMessages.stream().collect(Collectors.groupingBy(Message::getCaseNumber));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697559764,"creation_date":1697559764,"answer_id":77310701,"question_id":77310534,"body_markdown":"You could create a `Map&lt;Integer, List&lt;String&gt;&gt;` object like\r\n\r\n```\r\nMap&lt;Integer, List&lt;String&gt;&gt; map = new HashMap&lt;Integer, List&lt;String&gt;&gt;();\r\n```\r\n\r\nand inside the `for` cycle, check whether the given number exists in the `map` and if not, create it:\r\n\r\n```\r\nif (!map.containsKey(caseNumber)) {\r\n    map.put(caseNumber, new ArrayList&lt;String&gt;());\r\n}\r\nmap.get(caseNumber).add(sender);\r\n```","title":"Split an List of objects based caseNumber into a new List of objects","body":"<p>You could create a <code>Map&lt;Integer, List&lt;String&gt;&gt;</code> object like</p>\n<pre><code>Map&lt;Integer, List&lt;String&gt;&gt; map = new HashMap&lt;Integer, List&lt;String&gt;&gt;();\n</code></pre>\n<p>and inside the <code>for</code> cycle, check whether the given number exists in the <code>map</code> and if not, create it:</p>\n<pre><code>if (!map.containsKey(caseNumber)) {\n    map.put(caseNumber, new ArrayList&lt;String&gt;());\n}\nmap.get(caseNumber).add(sender);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697561130,"creation_date":1697561130,"answer_id":77310799,"question_id":77310534,"body_markdown":"Create a _[Map](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html)_, where the _key_ is _caseNumber_, and the value is a _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_ of _Messages_ objects.\r\n\r\n```java\r\nMap&lt;Integer, List&lt;Messages&gt;&gt; map = new TreeMap&lt;&gt;();\r\nfor (Messages m : getAllMessages())\r\n    if (map.containsKey(m.caseNumber)) map.get(m.caseNumber).add(m);\r\n    else map.put(m.caseNumber, new ArrayList&lt;&gt;(List.of(m)));\r\n```","title":"Split an List of objects based caseNumber into a new List of objects","body":"<p>Create a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a></em>, where the <em>key</em> is <em>caseNumber</em>, and the value is a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em> of <em>Messages</em> objects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, List&lt;Messages&gt;&gt; map = new TreeMap&lt;&gt;();\nfor (Messages m : getAllMessages())\n    if (map.containsKey(m.caseNumber)) map.get(m.caseNumber).add(m);\n    else map.put(m.caseNumber, new ArrayList&lt;&gt;(List.of(m)));\n</code></pre>\n"}],"owner":{"account_id":22305462,"reputation":25,"user_id":22553624,"display_name":"user22553624"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77310681,"answer_count":3,"score":2,"last_activity_date":1697561130,"creation_date":1697558435,"question_id":77310534,"body_markdown":"I have an List of Messages objects.  My message object consist of sender and CaseNumber.  A SQL query is pulls all the messages into a list.  In this list I have multiple of the same CaseNumber.  \r\nWhat I would like to accomplish is loop though the current Messages List and split them out into their own individual list based on the CaseNumber.\r\n\r\n\r\n\r\nI&#39;ve fiddled around but I am not sure how to accomplish this within the for loop.\r\n\r\n           \r\n        public class Messages {\r\n        private String sender = &quot;&quot;;\r\n        private int caseNumber = 0\r\n\r\n         public int getCaseNumber() {\r\n  \t\treturn caseNumber;\r\n  \t}\r\n    \tpublic void setCaseNumber(int caseNumber) {\r\n\t    \tthis.caseNumber = caseNumber;\r\n    \t}\r\n\r\n     \tpublic String getSender() {\r\n\t\t  return sender;\r\n\t    }\r\n    \tpublic void setSender(String sender) {\r\n\t\tthis.sender = sender;\r\n     \t}\r\n        \r\n       }\r\n\r\n    SQL makes a call and maps the vars into a huge object.\r\n      public List&lt;Messages&gt; getAllMessages()\r\n      {\r\n       List&lt;Messages&gt; entries = null;\r\n       String sql = &quot;select sender, caseNumber from Messages&quot;;\r\n       entries = jdbcTemplate.query(sql, new MessagesMapper());\r\n       return entries;\r\n      }\r\n\r\n    //for loop in my function.\r\n    for(Messages m : allMessages)\r\n\t{\r\n\t\t//This is the part i am stumped on how to I check if case number = case number if so create a new Messages List. Then if any of the additional cases in the list, add them to this new List.  If it&#39;s a new caseNumber, create a new list.\r\n\t}\r\n\r\nI thought about changing the sql call just to pull each messages by caseNumber but I feel that I could just be hammering SQL which doesn&#39;t feel efficient. \r\n\r\nHopfully this makes sense on what i want to accomplish.  Split List of objects bases on caseNumber and create it&#39;s own List of that object.","title":"Split an List of objects based caseNumber into a new List of objects","body":"<p>I have an List of Messages objects.  My message object consist of sender and CaseNumber.  A SQL query is pulls all the messages into a list.  In this list I have multiple of the same CaseNumber.<br />\nWhat I would like to accomplish is loop though the current Messages List and split them out into their own individual list based on the CaseNumber.</p>\n<p>I've fiddled around but I am not sure how to accomplish this within the for loop.</p>\n<pre><code>    public class Messages {\n    private String sender = &quot;&quot;;\n    private int caseNumber = 0\n\n     public int getCaseNumber() {\n    return caseNumber;\n}\n    public void setCaseNumber(int caseNumber) {\n        this.caseNumber = caseNumber;\n    }\n\n    public String getSender() {\n      return sender;\n    }\n    public void setSender(String sender) {\n    this.sender = sender;\n    }\n    \n   }\n\nSQL makes a call and maps the vars into a huge object.\n  public List&lt;Messages&gt; getAllMessages()\n  {\n   List&lt;Messages&gt; entries = null;\n   String sql = &quot;select sender, caseNumber from Messages&quot;;\n   entries = jdbcTemplate.query(sql, new MessagesMapper());\n   return entries;\n  }\n\n//for loop in my function.\nfor(Messages m : allMessages)\n{\n    //This is the part i am stumped on how to I check if case number = case number if so create a new Messages List. Then if any of the additional cases in the list, add them to this new List.  If it's a new caseNumber, create a new list.\n}\n</code></pre>\n<p>I thought about changing the sql call just to pull each messages by caseNumber but I feel that I could just be hammering SQL which doesn't feel efficient.</p>\n<p>Hopfully this makes sense on what i want to accomplish.  Split List of objects bases on caseNumber and create it's own List of that object.</p>\n"},{"tags":["java","rest","spring-mvc"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1552573027,"post_id":55164703,"comment_id":97068725,"body_markdown":"Use the observer pattern. If the value is updated, replace the one in the cache with the new. And always return the one in the cache","body":"Use the observer pattern. If the value is updated, replace the one in the cache with the new. And always return the one in the cache"}],"answers":[{"tags":[],"owner":{"account_id":7313625,"reputation":6040,"user_id":5572007,"display_name":"amseager"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1552576028,"creation_date":1552573264,"answer_id":55164904,"question_id":55164703,"body_markdown":"No, you need to do it by yourself.\r\n\r\nYou need to annotate your &quot;fetch&quot; method with `@Cacheable`([docs][1]) and then, annotate &quot;update&quot; method with `@CacheEvict` ([docs][2]) in order to &quot;drop&quot; your cache. So when you would fetch your data next time after its modification, it will be fresh.\r\n\r\nAlternatively, you can create another method with `@CacheEvict` and manually call it from &quot;update&quot; method.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/Cacheable.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/CacheEvict.html","title":"Does @Cacheable annotated methods execute when the actual data is modified?","body":"<p>No, you need to do it by yourself.</p>\n\n<p>You need to annotate your \"fetch\" method with <code>@Cacheable</code>(<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/Cacheable.html\" rel=\"nofollow noreferrer\">docs</a>) and then, annotate \"update\" method with <code>@CacheEvict</code> (<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/CacheEvict.html\" rel=\"nofollow noreferrer\">docs</a>) in order to \"drop\" your cache. So when you would fetch your data next time after its modification, it will be fresh.</p>\n\n<p>Alternatively, you can create another method with <code>@CacheEvict</code> and manually call it from \"update\" method.</p>\n"},{"tags":[],"owner":{"account_id":1550597,"reputation":8924,"user_id":1443084,"display_name":"Shailendra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552574905,"creation_date":1552574905,"answer_id":55165503,"question_id":55164703,"body_markdown":"The cache related  annotations (`@Cacheable`, `@CacheEvict` etc) will only deal with the cache being maintained by application. Any http response header like [last-modified][1] etc has to be managed seperately. Spring MVC provides a handy way to deal with it ([docs][2]).\r\nThe logic to calculate the last modified time has to be obviously application specific.\r\n\r\nAn example of its usage would be\r\n\r\n    MyController {\r\n    \r\n        @Autowire\r\n         CacheService cacheService;\r\n        \r\n            @RequestMapping(value = &quot;/testCache&quot;, method = RequestMethod.GET)\r\n             public String myControllerMethod(WebRequest webRequest, Model model, HttpServletResponse response) {\r\n                long lastModified = // calculate as per your logic and add headers to response\r\n                if (request.checkNotModified(lastModified)) {\r\n                  // stop processing\r\n\r\n                  return null;\r\n                } else {  \r\n\r\n                  return cacheService.getData(model);\r\n                }\r\n            }\r\n            \r\n        \r\n        @Component\r\n        public class CacheService{\r\n        \r\n            @Cacheable(value = &quot;users&quot;, key = &quot;#id&quot;)\r\n            public String getData(Model model) {\r\n                //populate Model\r\n                return &quot;dataview&quot;;\r\n            }\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/context/request/WebRequest.html#checkNotModified-long-","title":"Does @Cacheable annotated methods execute when the actual data is modified?","body":"<p>The cache related  annotations (<code>@Cacheable</code>, <code>@CacheEvict</code> etc) will only deal with the cache being maintained by application. Any http response header like <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified\" rel=\"nofollow noreferrer\">last-modified</a> etc has to be managed seperately. Spring MVC provides a handy way to deal with it (<a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/context/request/WebRequest.html#checkNotModified-long-\" rel=\"nofollow noreferrer\">docs</a>).\nThe logic to calculate the last modified time has to be obviously application specific.</p>\n\n<p>An example of its usage would be</p>\n\n<pre><code>MyController {\n\n    @Autowire\n     CacheService cacheService;\n\n        @RequestMapping(value = \"/testCache\", method = RequestMethod.GET)\n         public String myControllerMethod(WebRequest webRequest, Model model, HttpServletResponse response) {\n            long lastModified = // calculate as per your logic and add headers to response\n            if (request.checkNotModified(lastModified)) {\n              // stop processing\n\n              return null;\n            } else {  \n\n              return cacheService.getData(model);\n            }\n        }\n\n\n    @Component\n    public class CacheService{\n\n        @Cacheable(value = \"users\", key = \"#id\")\n        public String getData(Model model) {\n            //populate Model\n            return \"dataview\";\n        }\n</code></pre>\n"}],"owner":{"account_id":10421919,"reputation":31,"user_id":7684346,"display_name":"M.Saeed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55164904,"answer_count":2,"score":1,"last_activity_date":1697560696,"creation_date":1552572744,"question_id":55164703,"body_markdown":"I am building a RESTful web service that can be consumed by a browser or another web service.\r\nI am willing to reduce the bandwidth through caching, however i want the method to be executed and send the actual data only if it&#39;s different than the last modified cache.\r\n\r\nFrom my understanding of the `@Cacheable` annotation, the method is only executed once and the output is cached until the cache expires .\r\n\r\nAlso `@CachePut` executes everytime and updates the cache but does it send the cache again even if it&#39;s not updated?\r\n\r\nSummary is: I need the client to be able to send the last modified date of it&#39;s cache and only get a new data if it has been modified.\r\n\r\nAlso how does Spring handle the client side caching and if-modified-since headers? does i need to save the last modified time or it is automatically handled?","title":"Does @Cacheable annotated methods execute when the actual data is modified?","body":"<p>I am building a RESTful web service that can be consumed by a browser or another web service.\nI am willing to reduce the bandwidth through caching, however i want the method to be executed and send the actual data only if it's different than the last modified cache.</p>\n<p>From my understanding of the <code>@Cacheable</code> annotation, the method is only executed once and the output is cached until the cache expires .</p>\n<p>Also <code>@CachePut</code> executes everytime and updates the cache but does it send the cache again even if it's not updated?</p>\n<p>Summary is: I need the client to be able to send the last modified date of it's cache and only get a new data if it has been modified.</p>\n<p>Also how does Spring handle the client side caching and if-modified-since headers? does i need to save the last modified time or it is automatically handled?</p>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"comments":[{"owner":{"account_id":12911776,"reputation":55,"user_id":9337248,"display_name":"Sagar Sah"},"score":2,"creation_date":1627559489,"post_id":68566040,"comment_id":121191678,"body_markdown":"Could you provide complete blurry detection method?","body":"Could you provide complete blurry detection method?"},{"owner":{"account_id":5382002,"reputation":11475,"user_id":4286992,"accept_rate":56,"display_name":"Kapil Rajput"},"score":0,"creation_date":1658899350,"post_id":68566040,"comment_id":129163278,"body_markdown":"Answer posted is not complete.","body":"Answer posted is not complete."},{"owner":{"account_id":2152669,"reputation":1652,"user_id":1945316,"accept_rate":18,"display_name":"Thomas"},"score":0,"creation_date":1677240348,"post_id":68566040,"comment_id":133303388,"body_markdown":"This is a nice simple approach indeed, I am wondering if and how you did find it and if you evaluated it against other rather complex methods like laplacian variance and/or other high level approaches?","body":"This is a nice simple approach indeed, I am wondering if and how you did find it and if you evaluated it against other rather complex methods like laplacian variance and/or other high level approaches?"},{"owner":{"account_id":290537,"reputation":13348,"user_id":592144,"display_name":"CSmith"},"score":0,"creation_date":1677266000,"post_id":68566040,"comment_id":133310514,"body_markdown":"@Thomas indeed this isn&#39;t my own formula/technique but one I found documented in a Standard document related to check image processing (i.e. financial documents).  Because our implementation runs on mobile devices we needed something highly performant so there was no evaluation of other methods.  The above has been very reliable for us","body":"@Thomas indeed this isn&#39;t my own formula/technique but one I found documented in a Standard document related to check image processing (i.e. financial documents).  Because our implementation runs on mobile devices we needed something highly performant so there was no evaluation of other methods.  The above has been very reliable for us"}],"tags":[],"owner":{"account_id":290537,"reputation":13348,"user_id":592144,"display_name":"CSmith"},"comment_count":4,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1627647019,"creation_date":1627498848,"answer_id":68566040,"question_id":68565533,"body_markdown":"Measuring image focus/blur involves iterating of the pixels of the bitmap, or at least a portion thereof.\r\n\r\nWhile you don&#39;t need OpenCV to iterate over the pixels of a bitmap on Android, its not for the faint of heart.  Doing so in a performant way would require you to drop into JNI native code, or perhaps a technology like RenderScript, as iterating over pixels in Java or Kotlin might prove too slow.\r\n\r\nThere are many algorithms and techniques for measuring focus, or sharpness, or contrast, this is one I&#39;ve used with reasonable success.\r\n\r\nLuma is the luminosity of a pixel, i.e. grayscale pixel value.  You&#39;ll want to convert each pixel to a grayscale value for this focus measure.  e.g. using the NTSC formula:\r\n\r\n    pixelLuma = (red * 0.299) + (green * 0.587) + (blue * 0.114)\r\n\r\n&gt; Here is a suggested formula to measure focus score:\r\n\r\n    FocusScore =  Max({Video_Gradient}) / {Gray_Level_Dynamic_Range} * {Pixel_Pitch}\r\n\r\n\r\n**Max{Video_Gradient}** = a measure of the *maximum* luminosity difference between adjacent pixels (x,y) across the bitmap.\r\n\r\ne.g.:\r\n\r\nhorizontally measure `pixel[x] - pixel[x+1]`\r\n\r\nvertically measure `pixel[y] - pixel[y+1]`\r\n\r\n   \r\n\r\n **{Gray_Level_Dynamic_Range}** = difference between average of N lightest pixels and N darkest pixels across the bitmap.  A typical value for N is 64, in my case working on images around 1200w x 500h.  Smaller images should use smaller N.\r\n\r\n**{Pixel_Pitch}** = 1 / DPI = 1/200 = 0.005\r\n\r\n\r\nThis will result in a score, higher values are more in focus.  You can determine a reasonable threshold.\r\n\r\nHere is a code snippet written in C:\r\n\r\n&gt;  - width = width of bitmap \r\n&gt;  - height = height of bitmap \r\n&gt;  - pixels = an array of bytes of size (width * height) holding pixel luminosity values\r\n&gt;  - VFOCUS_N = 64\r\n\r\n    int gradientHorizontal[256];\r\n    int *pGradientHorizontal = gradientHorizontal;\r\n    int gradientVertical[256];\r\n    int *pGradientVertical = gradientVertical;\r\n    int luminanceHistogram[256];\r\n    int *pLuminance = luminanceHistogram;\r\n    int maxGradient = 0;\r\n    \r\n    for (int i = 0;i &lt; 256;i++)\r\n    {\r\n        gradientHorizontal[i] = 0;\r\n        gradientVertical[i] = 0;\r\n        luminanceHistogram[i] = 0;\r\n    }\r\n    \r\n    // pixel by pixel math...\r\n    for (nRow = 0; nRow &lt; height-1; nRow++)\r\n    {\r\n        nRowOffset = nRow * width;\r\n        nNextRowOffset = (nRow+1) * width;\r\n    \r\n        for (nCol = 0; nCol &lt; width-1; nCol++)\r\n        {\r\n            int gC = pixels[nRowOffset + nCol];\r\n            int gH = abs(gC - pixels[nRowOffset + nCol + 1]);\r\n            int gV = abs(gC - pixels[nNextRowOffset + nCol]);\r\n            pLuminance[gC]++;\r\n            pGradientHorizontal[gH]++;\r\n            pGradientVertical[gV]++;\r\n        }\r\n    }\r\n    \r\n    // find max gradient\r\n    for (int i = 255;i &gt;= 0;i--)\r\n    {\r\n        // first one with a value\r\n        if ((gradientHorizontal[i] &gt; 0) || (gradientVertical[i] &gt; 0))\r\n        {\r\n            maxGradient = i;\r\n            break;\r\n        }\r\n    }\r\n    \r\n    // calculate dynamic range\r\n    int rangeLow = 0;\r\n    int rangeHi = 0;\r\n    int p;\r\n    p = 0;\r\n    for (int i = 0;i &lt; 256;i++)\r\n    {\r\n        if (luminanceHistogram[i] &gt; 0)\r\n        {\r\n            if (p + luminanceHistogram[i] &gt; VFOCUS_N)\r\n            {\r\n                rangeLow += (i * (VFOCUS_N - p));\r\n                p = VFOCUS_N;\r\n                break;\r\n            }\r\n    \r\n            p += luminanceHistogram[i];\r\n            rangeLow += (i * luminanceHistogram[i]);\r\n        }\r\n    }\r\n    if (p)\r\n        rangeLow /= p;\r\n    \r\n    p = 0;\r\n    for (int i = 255;i &gt;= 0;i--)\r\n    {\r\n        if (luminanceHistogram[i] &gt; 0)\r\n        {\r\n            if (p + luminanceHistogram[i] &gt; VFOCUS_N)\r\n            {\r\n                rangeHi += (i * (VFOCUS_N - p));\r\n                p = VFOCUS_N;\r\n                break;\r\n            }\r\n    \r\n            p += luminanceHistogram[i];\r\n            rangeHi += (i * luminanceHistogram[i]);\r\n        }\r\n    }\r\n    if (p)\r\n        rangeHi /= p;\r\n    \r\n    float mFocusScore = (float)fmin((float)maxGradient / (fabs((float)rangeHi - (float)rangeLow) * 0.005), 100.00);\r\n\r\n\r\n\r\nLow focus scores means a blurry image.  Values close to or in excess of 100 indicate a sharp image, the code above caps the score at 100.","title":"Is there any way to detect image is Blurry after capturing from Camera in Android (Except OpenCV )","body":"<p>Measuring image focus/blur involves iterating of the pixels of the bitmap, or at least a portion thereof.</p>\n<p>While you don't need OpenCV to iterate over the pixels of a bitmap on Android, its not for the faint of heart.  Doing so in a performant way would require you to drop into JNI native code, or perhaps a technology like RenderScript, as iterating over pixels in Java or Kotlin might prove too slow.</p>\n<p>There are many algorithms and techniques for measuring focus, or sharpness, or contrast, this is one I've used with reasonable success.</p>\n<p>Luma is the luminosity of a pixel, i.e. grayscale pixel value.  You'll want to convert each pixel to a grayscale value for this focus measure.  e.g. using the NTSC formula:</p>\n<pre><code>pixelLuma = (red * 0.299) + (green * 0.587) + (blue * 0.114)\n</code></pre>\n<blockquote>\n<p>Here is a suggested formula to measure focus score:</p>\n</blockquote>\n<pre><code>FocusScore =  Max({Video_Gradient}) / {Gray_Level_Dynamic_Range} * {Pixel_Pitch}\n</code></pre>\n<p><strong>Max{Video_Gradient}</strong> = a measure of the <em>maximum</em> luminosity difference between adjacent pixels (x,y) across the bitmap.</p>\n<p>e.g.:</p>\n<p>horizontally measure <code>pixel[x] - pixel[x+1]</code></p>\n<p>vertically measure <code>pixel[y] - pixel[y+1]</code></p>\n<p><strong>{Gray_Level_Dynamic_Range}</strong> = difference between average of N lightest pixels and N darkest pixels across the bitmap.  A typical value for N is 64, in my case working on images around 1200w x 500h.  Smaller images should use smaller N.</p>\n<p><strong>{Pixel_Pitch}</strong> = 1 / DPI = 1/200 = 0.005</p>\n<p>This will result in a score, higher values are more in focus.  You can determine a reasonable threshold.</p>\n<p>Here is a code snippet written in C:</p>\n<blockquote>\n<ul>\n<li>width = width of bitmap</li>\n<li>height = height of bitmap</li>\n<li>pixels = an array of bytes of size (width * height) holding pixel luminosity values</li>\n<li>VFOCUS_N = 64</li>\n</ul>\n</blockquote>\n<pre><code>int gradientHorizontal[256];\nint *pGradientHorizontal = gradientHorizontal;\nint gradientVertical[256];\nint *pGradientVertical = gradientVertical;\nint luminanceHistogram[256];\nint *pLuminance = luminanceHistogram;\nint maxGradient = 0;\n\nfor (int i = 0;i &lt; 256;i++)\n{\n    gradientHorizontal[i] = 0;\n    gradientVertical[i] = 0;\n    luminanceHistogram[i] = 0;\n}\n\n// pixel by pixel math...\nfor (nRow = 0; nRow &lt; height-1; nRow++)\n{\n    nRowOffset = nRow * width;\n    nNextRowOffset = (nRow+1) * width;\n\n    for (nCol = 0; nCol &lt; width-1; nCol++)\n    {\n        int gC = pixels[nRowOffset + nCol];\n        int gH = abs(gC - pixels[nRowOffset + nCol + 1]);\n        int gV = abs(gC - pixels[nNextRowOffset + nCol]);\n        pLuminance[gC]++;\n        pGradientHorizontal[gH]++;\n        pGradientVertical[gV]++;\n    }\n}\n\n// find max gradient\nfor (int i = 255;i &gt;= 0;i--)\n{\n    // first one with a value\n    if ((gradientHorizontal[i] &gt; 0) || (gradientVertical[i] &gt; 0))\n    {\n        maxGradient = i;\n        break;\n    }\n}\n\n// calculate dynamic range\nint rangeLow = 0;\nint rangeHi = 0;\nint p;\np = 0;\nfor (int i = 0;i &lt; 256;i++)\n{\n    if (luminanceHistogram[i] &gt; 0)\n    {\n        if (p + luminanceHistogram[i] &gt; VFOCUS_N)\n        {\n            rangeLow += (i * (VFOCUS_N - p));\n            p = VFOCUS_N;\n            break;\n        }\n\n        p += luminanceHistogram[i];\n        rangeLow += (i * luminanceHistogram[i]);\n    }\n}\nif (p)\n    rangeLow /= p;\n\np = 0;\nfor (int i = 255;i &gt;= 0;i--)\n{\n    if (luminanceHistogram[i] &gt; 0)\n    {\n        if (p + luminanceHistogram[i] &gt; VFOCUS_N)\n        {\n            rangeHi += (i * (VFOCUS_N - p));\n            p = VFOCUS_N;\n            break;\n        }\n\n        p += luminanceHistogram[i];\n        rangeHi += (i * luminanceHistogram[i]);\n    }\n}\nif (p)\n    rangeHi /= p;\n\nfloat mFocusScore = (float)fmin((float)maxGradient / (fabs((float)rangeHi - (float)rangeLow) * 0.005), 100.00);\n</code></pre>\n<p>Low focus scores means a blurry image.  Values close to or in excess of 100 indicate a sharp image, the code above caps the score at 100.</p>\n"}],"owner":{"account_id":12911776,"reputation":55,"user_id":9337248,"display_name":"Sagar Sah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3538,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697560294,"creation_date":1627496266,"question_id":68565533,"body_markdown":"I am working with Camera2 API and want to detect captured image is blurry or clear, i used OpenCV for this but result is not satisfactory and it increases APK size 3 times, So is there any way to detect blurry?","title":"Is there any way to detect image is Blurry after capturing from Camera in Android (Except OpenCV )","body":"<p>I am working with Camera2 API and want to detect captured image is blurry or clear, i used OpenCV for this but result is not satisfactory and it increases APK size 3 times, So is there any way to detect blurry?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1424245,"reputation":272193,"user_id":1348195,"accept_rate":88,"display_name":"Benjamin Gruenbaum"},"score":8,"creation_date":1382849169,"post_id":19614695,"comment_id":29117250,"body_markdown":"`Math.ceil` - if you have a problem like this in the future you can read the generated JavaDoc of the relevant library. In this case Math","body":"<code>Math.ceil</code> - if you have a problem like this in the future you can read the generated JavaDoc of the relevant library. In this case Math"},{"owner":{"account_id":3321430,"reputation":61779,"user_id":2792531,"accept_rate":79,"display_name":"nhgrif"},"score":0,"creation_date":1382849670,"post_id":19614695,"comment_id":29117311,"body_markdown":"Even if you didn&#39;t feel like RTFM, `Math.round(yourNum+0.5)` works.","body":"Even if you didn&#39;t feel like RTFM, <code>Math.round(yourNum+0.5)</code> works."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1382858672,"post_id":19614695,"comment_id":29118676,"body_markdown":"@nhgrif Not quite as `0.0` will be rounded up to `1` this is the same as rounding down and adding 1.","body":"@nhgrif Not quite as <code>0.0</code> will be rounded up to <code>1</code> this is the same as rounding down and adding 1."}],"answers":[{"comments":[{"owner":{"account_id":167224,"reputation":789,"user_id":391896,"accept_rate":59,"display_name":"Zachary Vance"},"score":0,"creation_date":1398189096,"post_id":19614709,"comment_id":35534256,"body_markdown":"If you can quote from the link, it helps people find the entire answer on Stack Overflow.","body":"If you can quote from the link, it helps people find the entire answer on Stack Overflow."},{"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balažic"},"score":6,"creation_date":1434236696,"post_id":19614709,"comment_id":49694597,"body_markdown":"_ceil_ returns a _double_, he asked for _int_","body":"<i>ceil</i> returns a <i>double</i>, he asked for <i>int</i>"},{"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balažic"},"score":1,"creation_date":1434318439,"post_id":19614709,"comment_id":49714297,"body_markdown":"@tabz100 I (and I am sure the OP too) used the word &quot;int&quot; as a java data-type, not a mathematical term. So a cast or something else that gives an _int_ is missing from the answer.","body":"@tabz100 I (and I am sure the OP too) used the word &quot;int&quot; as a java data-type, not a mathematical term. So a cast or something else that gives an <i>int</i> is missing from the answer."}],"tags":[],"owner":{"account_id":2108629,"reputation":1473,"user_id":1874353,"display_name":"tabz100"},"comment_count":3,"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1526404286,"creation_date":1382849211,"answer_id":19614709,"question_id":19614695,"body_markdown":"You can use `Math.ceil()` method.\r\n\r\nSee JavaDoc link: https://docs.oracle.com/javase/10/docs/api/java/lang/Math.html#ceil(double)\r\n\r\nFrom the docs:\r\n\r\n**ceil**\r\n\r\n    public static double ceil(double a)\r\nReturns the smallest (closest to negative infinity) double value that is greater than or equal to the argument and is equal to a mathematical integer. Special cases:\r\n\r\n - If the argument value is already equal to a mathematical integer, then the result is the same as the argument.\r\n - If the argument is NaN or an infinity or positive zero or negative zero, then the result is the same as the argument.\r\n - If the argument value is less than zero but greater than -1.0, then the result is negative zero.\r\n\r\nNote that the value of Math.ceil(x) is exactly the value of -Math.floor(-x).\r\n\r\n**Parameters:**\r\n\r\n - a - a value.\r\n\r\n**Returns:**\r\n\r\nThe smallest (closest to negative infinity) floating-point value that is greater than or equal to the argument and is equal to a mathematical integer.","title":"Always Round UP a Double","body":"<p>You can use <code>Math.ceil()</code> method.</p>\n\n<p>See JavaDoc link: <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Math.html#ceil(double)\" rel=\"noreferrer\">https://docs.oracle.com/javase/10/docs/api/java/lang/Math.html#ceil(double)</a></p>\n\n<p>From the docs:</p>\n\n<p><strong>ceil</strong></p>\n\n<pre><code>public static double ceil(double a)\n</code></pre>\n\n<p>Returns the smallest (closest to negative infinity) double value that is greater than or equal to the argument and is equal to a mathematical integer. Special cases:</p>\n\n<ul>\n<li>If the argument value is already equal to a mathematical integer, then the result is the same as the argument.</li>\n<li>If the argument is NaN or an infinity or positive zero or negative zero, then the result is the same as the argument.</li>\n<li>If the argument value is less than zero but greater than -1.0, then the result is negative zero.</li>\n</ul>\n\n<p>Note that the value of Math.ceil(x) is exactly the value of -Math.floor(-x).</p>\n\n<p><strong>Parameters:</strong></p>\n\n<ul>\n<li>a - a value.</li>\n</ul>\n\n<p><strong>Returns:</strong></p>\n\n<p>The smallest (closest to negative infinity) floating-point value that is greater than or equal to the argument and is equal to a mathematical integer.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1382863466,"post_id":19615083,"comment_id":29119498,"body_markdown":"This is back to front.","body":"This is back to front."}],"tags":[],"owner":{"account_id":3496365,"reputation":35,"user_id":2924441,"display_name":"Muhammad Ahmed"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1382854214,"creation_date":1382853009,"answer_id":19615083,"question_id":19614695,"body_markdown":"`Math.ceil()` will give you the closest lowest value if you want it to be rounded to largest closest values you should use `Math.floor()`","title":"Always Round UP a Double","body":"<p><code>Math.ceil()</code> will give you the closest lowest value if you want it to be rounded to largest closest values you should use <code>Math.floor()</code></p>\n"},{"tags":[],"owner":{"account_id":4675735,"reputation":1,"user_id":3786153,"display_name":"Lostkiefer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403967110,"creation_date":1403967110,"answer_id":24467997,"question_id":19614695,"body_markdown":"    private int roundUP(double d){\r\n        double dAbs = Math.abs(d);\r\n        int i = (int) dAbs;\r\n        double result = dAbs - (double) i;\r\n        if(result==0.0){ \r\n            return (int) d;\r\n        }else{\r\n            return (int) d&lt;0 ? -(i+1) : i+1;          \r\n        }\r\n    }\r\n\r\n\r\nGood job ! ;)","title":"Always Round UP a Double","body":"<pre><code>private int roundUP(double d){\n    double dAbs = Math.abs(d);\n    int i = (int) dAbs;\n    double result = dAbs - (double) i;\n    if(result==0.0){ \n        return (int) d;\n    }else{\n        return (int) d&lt;0 ? -(i+1) : i+1;          \n    }\n}\n</code></pre>\n\n<p>Good job ! ;)</p>\n"},{"tags":[],"owner":{"account_id":5132802,"reputation":349,"user_id":4112413,"display_name":"maral04"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1418653675,"creation_date":1418653675,"answer_id":27486279,"question_id":19614695,"body_markdown":"In simple words, \r\n\r\n - `Math.ceil` will always **round UP** or as said above, in **excess**.  \r\n - `Math.round` will round up or down depending on the decimals.\r\n  - If the decimal is **equal or higher than 5**, then it&#39;s **rounded up**. \r\n     - decimal =&gt; 5. (1,5 = 2)\r\n  - If the decimal is **less than 5**, then it&#39;s **rounded down**. \r\n     - decimal &lt; 5. (1,45 = 1)\r\n\r\nExamples of `Math.ceil` and `Math.round`: \r\n \r\nThe code Below would return:  \r\nCost, without Ceil 2.2 and with Ceil 3 (int), 3.0 (double). If we round it: 2\r\n\r\n        int m2 = 2200;\r\n        double rate = 1000.0;\r\n        \r\n        int costceil = (int)Math.ceil(m2/rate);\r\n        double costdouble = m2/rate;\r\n        double costdoubleceil = Math.ceil(m2/rate);\r\n        int costrounded = (int)Math.round(m2/rate);\r\n        System.out.println(&quot;Cost, without Ceil &quot;+costdouble+&quot; and with Ceil &quot;+\r\n                costceil+&quot;(int), &quot;+costdoubleceil+&quot;(double). If we round it: &quot;+costrounded);\r\nIf we change the value of m2 to for example **2499**, the result would be:\r\nCost, without Ceil 2.499 and with Ceil 3 (int), 3.0 (double). If we round it: 2  \r\nIf we change the value of m2 to for example **2550**, the result would be:  \r\nCost, without Ceil 2.55 and with Ceil 3 (int), 3.0 (double). If we round it: 3\r\n\r\nHope it helps. (Information extracted from previous answers, i just wanted to make it clearer).","title":"Always Round UP a Double","body":"<p>In simple words, </p>\n\n<ul>\n<li><code>Math.ceil</code> will always <strong>round UP</strong> or as said above, in <strong>excess</strong>.  </li>\n<li><code>Math.round</code> will round up or down depending on the decimals.\n<ul>\n<li>If the decimal is <strong>equal or higher than 5</strong>, then it's <strong>rounded up</strong>. \n<ul>\n<li>decimal => 5. (1,5 = 2)</li>\n</ul></li>\n<li>If the decimal is <strong>less than 5</strong>, then it's <strong>rounded down</strong>. \n<ul>\n<li>decimal &lt; 5. (1,45 = 1)</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>Examples of <code>Math.ceil</code> and <code>Math.round</code>: </p>\n\n<p>The code Below would return:<br>\nCost, without Ceil 2.2 and with Ceil 3 (int), 3.0 (double). If we round it: 2</p>\n\n<pre><code>    int m2 = 2200;\n    double rate = 1000.0;\n\n    int costceil = (int)Math.ceil(m2/rate);\n    double costdouble = m2/rate;\n    double costdoubleceil = Math.ceil(m2/rate);\n    int costrounded = (int)Math.round(m2/rate);\n    System.out.println(\"Cost, without Ceil \"+costdouble+\" and with Ceil \"+\n            costceil+\"(int), \"+costdoubleceil+\"(double). If we round it: \"+costrounded);\n</code></pre>\n\n<p>If we change the value of m2 to for example <strong>2499</strong>, the result would be:\nCost, without Ceil 2.499 and with Ceil 3 (int), 3.0 (double). If we round it: 2<br>\nIf we change the value of m2 to for example <strong>2550</strong>, the result would be:<br>\nCost, without Ceil 2.55 and with Ceil 3 (int), 3.0 (double). If we round it: 3</p>\n\n<p>Hope it helps. (Information extracted from previous answers, i just wanted to make it clearer).</p>\n"},{"tags":[],"owner":{"account_id":4531341,"reputation":3677,"user_id":3681727,"accept_rate":45,"display_name":"Tunji_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437676768,"creation_date":1437676768,"answer_id":31595544,"question_id":19614695,"body_markdown":"My method is relatively simple, hope it works for you.\r\n\r\nIn my case I have a row of objects that can only hold 3 items and I must adjust the number of rows I have to accommodate the items.\r\n\r\nSo I have some Double numberOfRows, I then use numberOfRows.intValue() to get an int value for numberOfRows.\r\n\r\nif the int value I get is less than numberOfRows, I add 1 to numberOfRows to round it up, else the value I get from numberOfRows.intValue() is the answer I want.\r\n\r\nI wrote this simple for loop to test it out:\r\n \r\n    \tfor(int numberOfItems = 0; numberOfItems &lt; 16; numberOfItems++) {\r\n\t\t\tDouble numberOfRows = numberOfItems / 3.0;\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Number of rows are: &quot; + numberOfRows);\r\n\t\t\tSystem.out.println(&quot;Number of items are: &quot; + numberOfItems);\r\n\t\t\tif(numberOfRows.intValue() &lt; numberOfRows) {\r\n\t\t\t\tSystem.out.println(&quot;int number of rows are: &quot; + (numberOfRows.intValue() + 1));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;int value of rows are: &quot; + numberOfRows.intValue());\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println();\r\n\t\t}","title":"Always Round UP a Double","body":"<p>My method is relatively simple, hope it works for you.</p>\n\n<p>In my case I have a row of objects that can only hold 3 items and I must adjust the number of rows I have to accommodate the items.</p>\n\n<p>So I have some Double numberOfRows, I then use numberOfRows.intValue() to get an int value for numberOfRows.</p>\n\n<p>if the int value I get is less than numberOfRows, I add 1 to numberOfRows to round it up, else the value I get from numberOfRows.intValue() is the answer I want.</p>\n\n<p>I wrote this simple for loop to test it out:</p>\n\n<pre><code>    for(int numberOfItems = 0; numberOfItems &lt; 16; numberOfItems++) {\n        Double numberOfRows = numberOfItems / 3.0;\n\n        System.out.println(\"Number of rows are: \" + numberOfRows);\n        System.out.println(\"Number of items are: \" + numberOfItems);\n        if(numberOfRows.intValue() &lt; numberOfRows) {\n            System.out.println(\"int number of rows are: \" + (numberOfRows.intValue() + 1));\n        }\n        else {\n            System.out.println(\"int value of rows are: \" + numberOfRows.intValue());\n        }\n        System.out.println();\n        System.out.println();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4778916,"reputation":678,"user_id":3871673,"accept_rate":83,"display_name":"trinity420"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450700610,"creation_date":1450700216,"answer_id":34395511,"question_id":19614695,"body_markdown":"Short example without using *Math.ceil()*.\r\n\r\n    public double roundUp(double d){\r\n\t\treturn d &gt; (int)d ? (int)d + 1 : d;\r\n\t}\r\n\r\n\r\n**Exaplanation:**\r\nCompare operand to rounded down operand using typecast, if greater return rounded down argument + 1 (means round up) else unchanged operand.\r\n\r\n**Example in Pseudocode**\r\n\r\n    double x = 3.01\r\n    int roundDown = (int)x   // roundDown = 3\r\n    if(x &gt; roundDown)        // 3.01 &gt; 3\r\n        return roundDown + 1 // return 3.0 + 1.0 = 4.0\r\n    else\r\n        return x             // x equals roundDown\r\n\r\nAnyway you should use `Math.ceil()`. This is only meant to be a simple example of how you could do it by yourself.","title":"Always Round UP a Double","body":"<p>Short example without using <em>Math.ceil()</em>.</p>\n\n<pre><code>public double roundUp(double d){\n    return d &gt; (int)d ? (int)d + 1 : d;\n}\n</code></pre>\n\n<p><strong>Exaplanation:</strong>\nCompare operand to rounded down operand using typecast, if greater return rounded down argument + 1 (means round up) else unchanged operand.</p>\n\n<p><strong>Example in Pseudocode</strong></p>\n\n<pre><code>double x = 3.01\nint roundDown = (int)x   // roundDown = 3\nif(x &gt; roundDown)        // 3.01 &gt; 3\n    return roundDown + 1 // return 3.0 + 1.0 = 4.0\nelse\n    return x             // x equals roundDown\n</code></pre>\n\n<p>Anyway you should use <code>Math.ceil()</code>. This is only meant to be a simple example of how you could do it by yourself.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1509341339,"creation_date":1509341339,"answer_id":47008606,"question_id":19614695,"body_markdown":"# tl;dr\r\n\r\n    BigDecimal( &quot;3.2&quot; ).setScale( 0 , RoundingMode.CEILING )\r\n\r\n&gt;4\r\n\r\n# `BigDecimal` \r\n\r\nIf you want [accuracy rather than performance][1], avoid [floating point][2] technology. That means avoiding `float`, `Float`, `double`, `Double`. For accuracy, use [`BigDecimal`][3] class.\r\n\r\nOn a `BigDecimal`, [set the scale][4], the number of digits to the right of the decimal place. If you want no decimal fraction, set scale to zero. And specify a [rounding mode][5]. To always round an fraction upwards, use [`RoundingMode.CEILING`][6], documented as:\r\n\r\n&gt; Rounding mode to round towards positive infinity. If the result is positive, behaves as for RoundingMode.UP; if negative, behaves as for RoundingMode.DOWN. Note that this rounding mode never decreases the calculated value. So for example, 1.1 becomes 2, and your 3.2 becomes 4. \r\n\r\n    BigDecimal bd = new BigDecimal( &quot;3.2&quot; ) ;\r\n    BigDecimal bdRounded = bd.setScale( 0 , RoundingMode.CEILING ) ;\r\n    String output = bdRounded.toString() ; \r\n    System.out.println( &quot;bdRounded.toString(): &quot; + bdRounded ) ;  // 4\r\n\r\n&gt;4\r\n\r\nSee this [code run live at IdeOne.com][7].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\r\n  [2]: https://en.wikipedia.org/wiki/Floating-point_arithmetic\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/math/BigDecimal.html\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/math/BigDecimal.html#setScale-int-java.math.RoundingMode-\r\n  [5]: https://docs.oracle.com/javase/9/docs/api/java/math/RoundingMode.html\r\n  [6]: https://docs.oracle.com/javase/9/docs/api/java/math/RoundingMode.html#CEILING\r\n  [7]: https://www.ideone.com/g1Rqxj","title":"Always Round UP a Double","body":"<h1>tl;dr</h1>\n\n<pre><code>BigDecimal( \"3.2\" ).setScale( 0 , RoundingMode.CEILING )\n</code></pre>\n\n<blockquote>\n  <p>4</p>\n</blockquote>\n\n<h1><code>BigDecimal</code></h1>\n\n<p>If you want <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\" rel=\"noreferrer\">accuracy rather than performance</a>, avoid <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic\" rel=\"noreferrer\">floating point</a> technology. That means avoiding <code>float</code>, <code>Float</code>, <code>double</code>, <code>Double</code>. For accuracy, use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\"><code>BigDecimal</code></a> class.</p>\n\n<p>On a <code>BigDecimal</code>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/math/BigDecimal.html#setScale-int-java.math.RoundingMode-\" rel=\"noreferrer\">set the scale</a>, the number of digits to the right of the decimal place. If you want no decimal fraction, set scale to zero. And specify a <a href=\"https://docs.oracle.com/javase/9/docs/api/java/math/RoundingMode.html\" rel=\"noreferrer\">rounding mode</a>. To always round an fraction upwards, use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/math/RoundingMode.html#CEILING\" rel=\"noreferrer\"><code>RoundingMode.CEILING</code></a>, documented as:</p>\n\n<blockquote>\n  <p>Rounding mode to round towards positive infinity. If the result is positive, behaves as for RoundingMode.UP; if negative, behaves as for RoundingMode.DOWN. Note that this rounding mode never decreases the calculated value. So for example, 1.1 becomes 2, and your 3.2 becomes 4. </p>\n</blockquote>\n\n<pre><code>BigDecimal bd = new BigDecimal( \"3.2\" ) ;\nBigDecimal bdRounded = bd.setScale( 0 , RoundingMode.CEILING ) ;\nString output = bdRounded.toString() ; \nSystem.out.println( \"bdRounded.toString(): \" + bdRounded ) ;  // 4\n</code></pre>\n\n<blockquote>\n  <p>4</p>\n</blockquote>\n\n<p>See this <a href=\"https://www.ideone.com/g1Rqxj\" rel=\"noreferrer\">code run live at IdeOne.com</a>.</p>\n"},{"tags":[],"owner":{"account_id":4220877,"reputation":364,"user_id":3455701,"display_name":"Tunde Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654281866,"creation_date":1654281866,"answer_id":72493934,"question_id":19614695,"body_markdown":"```Math.ceil``` did not work for me. It keeps rounding down when I cast back to ````long````. Below is my hack:\r\n\r\n````\r\nlong pages = (userCnt % size) == 0 ? (userCnt / size) : (userCnt / size) + 1;\r\n````\r\nSimply check if ````Even```` or ````Odd```` and if ````Odd````, add ````1```` to the result.  ","title":"Always Round UP a Double","body":"<p><code>Math.ceil</code> did not work for me. It keeps rounding down when I cast back to <code>long</code>. Below is my hack:</p>\n<pre><code>long pages = (userCnt % size) == 0 ? (userCnt / size) : (userCnt / size) + 1;\n</code></pre>\n<p>Simply check if <code>Even</code> or <code>Odd</code> and if <code>Odd</code>, add <code>1</code> to the result.</p>\n"},{"tags":[],"owner":{"account_id":10647346,"reputation":5559,"user_id":7839518,"display_name":"Tonnie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697558476,"creation_date":1697558476,"answer_id":77310543,"question_id":19614695,"body_markdown":"It is even much easier in Kotlin using **`kotlin.math.ceil`** in an extension function.\r\n\r\n    fun Double.roundUpDoubleToInt(): Int {\r\n        return kotlin.math.ceil(this)\r\n                .toInt()\r\n    }\r\n\r\nThese are the various returned results:\r\n\r\n    fun main() {\r\n        val a = 3.5\r\n        val b = 3.6\r\n        val c = 3.1\r\n        val d = 3.01\r\n        val e = 3.0\r\n    \r\n        println(a.roundUpDoubleToInt()) //=&gt; 4\r\n        println(b.roundUpDoubleToInt()) //=&gt; 4\r\n        println(c.roundUpDoubleToInt()) //=&gt; 4\r\n        println(d.roundUpDoubleToInt()) //=&gt; 4\r\n        println(e.roundUpDoubleToInt()) //=&gt; 3\r\n    \r\n    }\r\n\r\nAlternatively, you can always `round-off UP` or `round-off DOWN` with **`0.5`** being the cut-off i.e. round up if **`&gt;= 0.5`** or round down if **`&lt; 0.5`**.\r\n\r\nThis is the logic written in Kotlin.\r\n\r\n    fun Double.roundOffDoubleToInt():Int  {\r\n    \r\n        val intValue = this.toInt()\r\n        val fractionValue = this - intValue\r\n    \r\n    \r\n        return if (fractionValue &gt;= 0.5) intValue +1 else intValue\r\n    \r\n    }\r\n\r\nThese are the results:\r\n\r\n    fun main() {\r\n        val a = 3.5\r\n        val b = 3.6\r\n        val c = 3.1\r\n        val d = 3.01\r\n        val e = 3.0\r\n    \r\n        println(a.roundOffDoubleToInt()) //=&gt; 4\r\n        println(b.roundOffDoubleToInt()) //=&gt; 4\r\n        println(c.roundOffDoubleToInt()) //=&gt; 3\r\n        println(d.roundOffDoubleToInt()) //=&gt; 3\r\n        println(e.roundOffDoubleToInt()) //=&gt; 3\r\n    }\r\n\r\nCheers ....\r\n","title":"Always Round UP a Double","body":"<p>It is even much easier in Kotlin using <strong><code>kotlin.math.ceil</code></strong> in an extension function.</p>\n<pre><code>fun Double.roundUpDoubleToInt(): Int {\n    return kotlin.math.ceil(this)\n            .toInt()\n}\n</code></pre>\n<p>These are the various returned results:</p>\n<pre><code>fun main() {\n    val a = 3.5\n    val b = 3.6\n    val c = 3.1\n    val d = 3.01\n    val e = 3.0\n\n    println(a.roundUpDoubleToInt()) //=&gt; 4\n    println(b.roundUpDoubleToInt()) //=&gt; 4\n    println(c.roundUpDoubleToInt()) //=&gt; 4\n    println(d.roundUpDoubleToInt()) //=&gt; 4\n    println(e.roundUpDoubleToInt()) //=&gt; 3\n\n}\n</code></pre>\n<p>Alternatively, you can always <code>round-off UP</code> or <code>round-off DOWN</code> with <strong><code>0.5</code></strong> being the cut-off i.e. round up if <strong><code>&gt;= 0.5</code></strong> or round down if <strong><code>&lt; 0.5</code></strong>.</p>\n<p>This is the logic written in Kotlin.</p>\n<pre><code>fun Double.roundOffDoubleToInt():Int  {\n\n    val intValue = this.toInt()\n    val fractionValue = this - intValue\n\n\n    return if (fractionValue &gt;= 0.5) intValue +1 else intValue\n\n}\n</code></pre>\n<p>These are the results:</p>\n<pre><code>fun main() {\n    val a = 3.5\n    val b = 3.6\n    val c = 3.1\n    val d = 3.01\n    val e = 3.0\n\n    println(a.roundOffDoubleToInt()) //=&gt; 4\n    println(b.roundOffDoubleToInt()) //=&gt; 4\n    println(c.roundOffDoubleToInt()) //=&gt; 3\n    println(d.roundOffDoubleToInt()) //=&gt; 3\n    println(e.roundOffDoubleToInt()) //=&gt; 3\n}\n</code></pre>\n<p>Cheers ....</p>\n"}],"owner":{"account_id":2753566,"reputation":1296,"user_id":2372321,"accept_rate":56,"display_name":"sparklyllama"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105180,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":19614709,"answer_count":9,"score":36,"last_activity_date":1697558476,"creation_date":1382849064,"question_id":19614695,"body_markdown":"How could I always round up a `double` to an `int`, and never round it down.\r\nI know of `Math.round(double)`, but I want it to always round up.\r\nSo if it was `3.2`, it gets rounded to 4.\r\n","title":"Always Round UP a Double","body":"<p>How could I always round up a <code>double</code> to an <code>int</code>, and never round it down.\nI know of <code>Math.round(double)</code>, but I want it to always round up.\nSo if it was <code>3.2</code>, it gets rounded to 4.</p>\n"},{"tags":["java","spring-boot","gradle","build.gradle","snakeyaml"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1693410193,"post_id":77005954,"comment_id":135757998,"body_markdown":"Well yeah, the dependency tree in fact tells you that `snakeyaml` 1.3.3 is a dependency of `sprint-boot-starter-validation` 3.1.1","body":"Well yeah, the dependency tree in fact tells you that <code>snakeyaml</code> 1.3.3 is a dependency of <code>sprint-boot-starter-validation</code> 3.1.1"},{"owner":{"account_id":20095970,"reputation":27,"user_id":14735502,"display_name":"tdog"},"score":0,"creation_date":1693423101,"post_id":77005954,"comment_id":135760643,"body_markdown":"Yes, and of Swagger Code gen. The question is how i can prevent it from loading the sub dependency","body":"Yes, and of Swagger Code gen. The question is how i can prevent it from loading the sub dependency"},{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1693492874,"post_id":77005954,"comment_id":135771032,"body_markdown":"You can force Gradle to use a specific version.  Examples using `resolutionStrategy` can be found in various other SO question and elsewhere if you search for gradle force dependency version:  https://stackoverflow.com/questions/28444016/how-can-i-force-gradle-to-set-the-same-version-for-two-dependencies  You can also sometimes get away by importing the transitive and placing a `!` and the end of the version.  You just have to make sure your change of version doesn&#39;t break the thing including it.. that is, 1.33 -&gt; 2.0 is a breaking change in snakeyaml.  Make sure your code doesn&#39;t break!","body":"You can force Gradle to use a specific version.  Examples using <code>resolutionStrategy</code> can be found in various other SO question and elsewhere if you search for gradle force dependency version:  <a href=\"https://stackoverflow.com/questions/28444016/how-can-i-force-gradle-to-set-the-same-version-for-two-dependencies\" title=\"how can i force gradle to set the same version for two dependencies\">stackoverflow.com/questions/28444016/&hellip;</a>  You can also sometimes get away by importing the transitive and placing a <code>!</code> and the end of the version.  You just have to make sure your change of version doesn&#39;t break the thing including it.. that is, 1.33 -&gt; 2.0 is a breaking change in snakeyaml.  Make sure your code doesn&#39;t break!"}],"owner":{"account_id":20095970,"reputation":27,"user_id":14735502,"display_name":"tdog"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697557829,"creation_date":1693381967,"question_id":77005954,"body_markdown":"The problem I have is that in my Spring Boot project snake yaml version 1.33 is still downloaded though I upgraded the snake yaml version to 2.0.\r\n\r\nI deleted the .gradle/caches folder and built my project new.\r\n\r\nHere is some information:\r\n\r\nbuild.gradle:\r\n\r\n    \r\n    plugins {\r\n        id &#39;java-platform&#39;\r\n        id &#39;org.springframework.boot&#39; version &quot;3.1.1&quot; apply false\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n        id &quot;org.openapi.generator&quot; version &quot;6.6.0&quot; apply false\r\n        id &#39;com.gorylenko.gradle-git-properties&#39; version &#39;2.4.1&#39; apply(false)\r\n        id &#39;com.yupzip.wsdl2java&#39; version &#39;3.0.0&#39; apply false\r\n    }\r\n    \r\n    version = currentVersion\r\n    \r\n    javaPlatform {\r\n        allowDependencies()\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            mavenLocal()\r\n            maven {\r\n                credentials {\r\n                    username = &quot;${artifactoryUser}&quot;\r\n                    password = &quot;${artifactoryPassword}&quot;\r\n                }\r\n                url &quot;${artifactoryUrl}/XYZ-maven&quot;\r\n            }\r\n        }\r\n    }\r\n    \r\n    subprojects {\r\n        // java language and source defaults\r\n        apply plugin: &quot;java-library&quot;\r\n        apply plugin: &#39;org.springframework.boot&#39;\r\n        apply plugin: &#39;io.spring.dependency-management&#39;\r\n    \r\n        sourceCompatibility = 17\r\n        targetCompatibility = 17\r\n        compileJava.options.encoding = &#39;UTF-8&#39;\r\n    \r\n        // jar target names\r\n        version = &quot;${currentVersion}&quot;\r\n        archivesBaseName = rootProject.getName() + it.path.replace(&quot;:&quot;, &quot;-&quot;)\r\n    \r\n        compileJava.dependsOn(processResources)\r\n    \r\n        dependencyManagement {\r\n            imports {\r\n                mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:2022.0.3&quot;\r\n                mavenBom &quot;org.apache.cxf:cxf-bom:4.0.1&quot;\r\n            }\r\n        }\r\n    \r\n        bootJar {\r\n            enabled = &#39;application&#39; == it.name\r\n        }\r\n    \r\n        dependencies {\r\n            // enable referencing dependencies for the gradle scopes\r\n            implementation platform(rootProject)\r\n            testCompileOnly platform(rootProject)\r\n            annotationProcessor platform(rootProject)\r\n            testAnnotationProcessor platform(rootProject)\r\n    \r\n            compileOnly &quot;org.mapstruct:mapstruct:1.5.5.Final&quot;\r\n            compileOnly &quot;org.projectlombok:lombok&quot;\r\n    \r\n            compileOnly &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\r\n    \r\n            testCompileOnly &quot;org.projectlombok:lombok&quot;\r\n            testAnnotationProcessor &quot;org.projectlombok:lombok&quot;\r\n            implementation &#39;org.projectlombok:lombok-mapstruct-binding:0.2.0&#39;\r\n    \r\n            annotationProcessor &quot;org.projectlombok:lombok&quot;\r\n            annotationProcessor &quot;org.mapstruct:mapstruct-processor:1.5.5.Final&quot;\r\n            annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\r\n            annotationProcessor &quot;org.hibernate.validator:hibernate-validator-annotation-processor&quot;\r\n    \r\n            api &#39;de.XYZ-framework-spring-3:23.4.11&#39;\r\n            api &quot;org.springframework.boot:spring-boot-starter&quot;\r\n            api &quot;org.springframework.boot:spring-boot-starter-json&quot;\r\n            api &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n            api &quot;org.springframework.boot:spring-boot-starter-aop&quot;\r\n            api &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n            api &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n            api &#39;org.springframework.boot:spring-boot-actuator-autoconfigure&#39;\r\n    \r\n            api &quot;org.springframework.cloud:spring-cloud-starter-config&quot;\r\n    \r\n            // apache commons\r\n            api &#39;org.apache.commons:commons-text:1.10.0&#39;\r\n            api &#39;org.apache.commons:commons-lang3&#39;\r\n            api &#39;org.apache.commons:commons-collections4&#39;\r\n    \r\n            api &quot;com.google.code.findbugs:jsr305:3.0.2&quot;\r\n            api &#39;org.springdoc:springdoc-openapi-ui:1.6.14&#39;\r\n            api &quot;com.fasterxml.jackson.core:jackson-databind&quot;\r\n    \r\n            api &#39;com.github.vandeseer:easytable:0.8.5&#39;\r\n    \r\n            //\r\n            // TESTING\r\n            //\r\n    \r\n            // spring test without junit4\r\n            testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n        }\r\n    \r\n        configurations.configureEach {\r\n            resolutionStrategy.dependencySubstitution {\r\n                substitute module(&#39;org.yaml:snakeyaml&#39;) using module(&#39;org.yaml:snakeyaml:2.0&#39;) withoutClassifier() because(&#39;version 1.33 is vulnerable&#39;)\r\n            }\r\n        }\r\n    \r\n        clean {\r\n            delete &quot;out&quot;\r\n            delete &quot;bin&quot;\r\n        }\r\n    \r\n        // ide support\r\n        apply plugin: &#39;idea&#39;\r\n    \r\n        test {\r\n            useJUnitPlatform()\r\n        }\r\n    \r\n    }\r\n\r\nThis a part of the dependency tree:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter deleting .gradle/caches and newly generating:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSo the problem is that \r\n\r\n    org.springframework.boot:spring-boot-starter:3.1.1\r\n\r\nand `io.swagger.core.v3:swagger-core:2.2.7`\r\n\r\nhave snake yaml version 1.33 as sub dependencies.\r\n\r\nI already tried excluding it some way like:\r\n\r\n    dependencies {\r\n    // Exclude snakeyaml version 1.33 from swagger-core\r\n    api(&quot;io.swagger.core.v3:swagger-core:2.2.7&quot;) {\r\n        exclude group: &#39;org.yaml&#39;, module: &#39;snakeyaml&#39;, version: &#39;1.33&#39;\r\n    }\r\n\r\n    // Exclude snakeyaml version 1.33 from spring-boot-starter\r\n    api(&quot;org.springframework.boot:spring-boot-starter:3.1.1&quot;) {\r\n        exclude group: &#39;org.yaml&#39;, module: &#39;snakeyaml&#39;, version: &#39;1.33&#39;\r\n    }\r\n\r\nbut when deleting the .gradle/caches folder and building it all new it still downloads snake version 1.33.\r\n\r\n  [1]: https://i.stack.imgur.com/2NqG5.png\r\n  [2]: https://i.stack.imgur.com/wQONh.png","title":"Snake yaml 1.33 still downloading, though changed to 2.0","body":"<p>The problem I have is that in my Spring Boot project snake yaml version 1.33 is still downloaded though I upgraded the snake yaml version to 2.0.</p>\n<p>I deleted the .gradle/caches folder and built my project new.</p>\n<p>Here is some information:</p>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'java-platform'\n    id 'org.springframework.boot' version &quot;3.1.1&quot; apply false\n    id 'io.spring.dependency-management' version '1.1.0'\n    id &quot;org.openapi.generator&quot; version &quot;6.6.0&quot; apply false\n    id 'com.gorylenko.gradle-git-properties' version '2.4.1' apply(false)\n    id 'com.yupzip.wsdl2java' version '3.0.0' apply false\n}\n\nversion = currentVersion\n\njavaPlatform {\n    allowDependencies()\n}\n\nallprojects {\n    repositories {\n        mavenLocal()\n        maven {\n            credentials {\n                username = &quot;${artifactoryUser}&quot;\n                password = &quot;${artifactoryPassword}&quot;\n            }\n            url &quot;${artifactoryUrl}/XYZ-maven&quot;\n        }\n    }\n}\n\nsubprojects {\n    // java language and source defaults\n    apply plugin: &quot;java-library&quot;\n    apply plugin: 'org.springframework.boot'\n    apply plugin: 'io.spring.dependency-management'\n\n    sourceCompatibility = 17\n    targetCompatibility = 17\n    compileJava.options.encoding = 'UTF-8'\n\n    // jar target names\n    version = &quot;${currentVersion}&quot;\n    archivesBaseName = rootProject.getName() + it.path.replace(&quot;:&quot;, &quot;-&quot;)\n\n    compileJava.dependsOn(processResources)\n\n    dependencyManagement {\n        imports {\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:2022.0.3&quot;\n            mavenBom &quot;org.apache.cxf:cxf-bom:4.0.1&quot;\n        }\n    }\n\n    bootJar {\n        enabled = 'application' == it.name\n    }\n\n    dependencies {\n        // enable referencing dependencies for the gradle scopes\n        implementation platform(rootProject)\n        testCompileOnly platform(rootProject)\n        annotationProcessor platform(rootProject)\n        testAnnotationProcessor platform(rootProject)\n\n        compileOnly &quot;org.mapstruct:mapstruct:1.5.5.Final&quot;\n        compileOnly &quot;org.projectlombok:lombok&quot;\n\n        compileOnly &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\n\n        testCompileOnly &quot;org.projectlombok:lombok&quot;\n        testAnnotationProcessor &quot;org.projectlombok:lombok&quot;\n        implementation 'org.projectlombok:lombok-mapstruct-binding:0.2.0'\n\n        annotationProcessor &quot;org.projectlombok:lombok&quot;\n        annotationProcessor &quot;org.mapstruct:mapstruct-processor:1.5.5.Final&quot;\n        annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\n        annotationProcessor &quot;org.hibernate.validator:hibernate-validator-annotation-processor&quot;\n\n        api 'de.XYZ-framework-spring-3:23.4.11'\n        api &quot;org.springframework.boot:spring-boot-starter&quot;\n        api &quot;org.springframework.boot:spring-boot-starter-json&quot;\n        api 'org.springframework.boot:spring-boot-starter-web'\n        api &quot;org.springframework.boot:spring-boot-starter-aop&quot;\n        api 'org.springframework.boot:spring-boot-starter-validation'\n        api 'org.springframework.boot:spring-boot-starter-actuator'\n        api 'org.springframework.boot:spring-boot-actuator-autoconfigure'\n\n        api &quot;org.springframework.cloud:spring-cloud-starter-config&quot;\n\n        // apache commons\n        api 'org.apache.commons:commons-text:1.10.0'\n        api 'org.apache.commons:commons-lang3'\n        api 'org.apache.commons:commons-collections4'\n\n        api &quot;com.google.code.findbugs:jsr305:3.0.2&quot;\n        api 'org.springdoc:springdoc-openapi-ui:1.6.14'\n        api &quot;com.fasterxml.jackson.core:jackson-databind&quot;\n\n        api 'com.github.vandeseer:easytable:0.8.5'\n\n        //\n        // TESTING\n        //\n\n        // spring test without junit4\n        testImplementation('org.springframework.boot:spring-boot-starter-test')\n    }\n\n    configurations.configureEach {\n        resolutionStrategy.dependencySubstitution {\n            substitute module('org.yaml:snakeyaml') using module('org.yaml:snakeyaml:2.0') withoutClassifier() because('version 1.33 is vulnerable')\n        }\n    }\n\n    clean {\n        delete &quot;out&quot;\n        delete &quot;bin&quot;\n    }\n\n    // ide support\n    apply plugin: 'idea'\n\n    test {\n        useJUnitPlatform()\n    }\n\n}\n</code></pre>\n<p>This a part of the dependency tree:</p>\n<p><a href=\"https://i.stack.imgur.com/2NqG5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2NqG5.png\" alt=\"enter image description here\" /></a></p>\n<p>After deleting .gradle/caches and newly generating:</p>\n<p><a href=\"https://i.stack.imgur.com/wQONh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wQONh.png\" alt=\"enter image description here\" /></a></p>\n<p>So the problem is that</p>\n<pre><code>org.springframework.boot:spring-boot-starter:3.1.1\n</code></pre>\n<p>and <code>io.swagger.core.v3:swagger-core:2.2.7</code></p>\n<p>have snake yaml version 1.33 as sub dependencies.</p>\n<p>I already tried excluding it some way like:</p>\n<pre><code>dependencies {\n// Exclude snakeyaml version 1.33 from swagger-core\napi(&quot;io.swagger.core.v3:swagger-core:2.2.7&quot;) {\n    exclude group: 'org.yaml', module: 'snakeyaml', version: '1.33'\n}\n\n// Exclude snakeyaml version 1.33 from spring-boot-starter\napi(&quot;org.springframework.boot:spring-boot-starter:3.1.1&quot;) {\n    exclude group: 'org.yaml', module: 'snakeyaml', version: '1.33'\n}\n</code></pre>\n<p>but when deleting the .gradle/caches folder and building it all new it still downloads snake version 1.33.</p>\n"},{"tags":["java","if-statement","input","while-loop","count"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1697557666,"post_id":77310430,"comment_id":136293656,"body_markdown":"Also, `count++` is in the wrong place. Think about what it should do","body":"Also, <code>count++</code> is in the wrong place. Think about what it should do"}],"owner":{"account_id":27509206,"reputation":31,"user_id":20991423,"display_name":"scarz.101"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697557933,"answer_count":0,"score":0,"last_activity_date":1697557579,"creation_date":1697557579,"question_id":77310430,"body_markdown":"I have the following code in java:\r\n\r\n    public void userControlledLoop()\r\n    {\r\n        Scanner reader = new Scanner(System.in);\r\n        int total = 0;\r\n        int count = 0;\r\n        \r\n        System.out.println(&quot;Enter a number: &quot;);\r\n        int number = reader.nextInt();\r\n        total += number;\r\n        \r\n        System.out.println(&quot;Would you like to enter another number type y or n: &quot;);\r\n        String answer = reader.next();\r\n\r\n        while (answer != &quot;n&quot;)\r\n        {\r\n            System.out.println(&quot;Enter a number: &quot;);\r\n            number = reader.nextInt();\r\n            total += number;\r\n            \r\n            System.out.println(&quot;Would you like to enter another number type y or n: &quot;);\r\n            answer = reader.next();\r\n            \r\n            if (answer != &quot;y&quot;)\r\n            {\r\n                System.out.println(&quot;Goodbye&quot;);\r\n                break;\r\n            }\r\n        }\r\n        // Only thing missing from here is the average. In order to work out the average \r\n        // i need to keep track of the number of inputs and then divide the total by that\r\n        count++;\r\n        System.out.println(total);\r\n    }\r\n\r\nMy main goal is to ask the user to enter a number of their choice and then ask the user if they want to input another number. The user must reply with &quot;y&quot; or &quot;n&quot;. \r\n\r\nEach time the user enters their number it is added to the total variable so i can later use it to work out the average.\r\n\r\nI also have a count variable which is intended to keep track of the users input by incrementation (i saw in another stack question). However, this does not work and the function breaks after only 2 iterations. \r\n\r\nI am trying to get some advice on how i could make the code work or if people recommend i start from scratch. ","title":"getting the count of user inputs and using it to get the average in java","body":"<p>I have the following code in java:</p>\n<pre><code>public void userControlledLoop()\n{\n    Scanner reader = new Scanner(System.in);\n    int total = 0;\n    int count = 0;\n    \n    System.out.println(&quot;Enter a number: &quot;);\n    int number = reader.nextInt();\n    total += number;\n    \n    System.out.println(&quot;Would you like to enter another number type y or n: &quot;);\n    String answer = reader.next();\n\n    while (answer != &quot;n&quot;)\n    {\n        System.out.println(&quot;Enter a number: &quot;);\n        number = reader.nextInt();\n        total += number;\n        \n        System.out.println(&quot;Would you like to enter another number type y or n: &quot;);\n        answer = reader.next();\n        \n        if (answer != &quot;y&quot;)\n        {\n            System.out.println(&quot;Goodbye&quot;);\n            break;\n        }\n    }\n    // Only thing missing from here is the average. In order to work out the average \n    // i need to keep track of the number of inputs and then divide the total by that\n    count++;\n    System.out.println(total);\n}\n</code></pre>\n<p>My main goal is to ask the user to enter a number of their choice and then ask the user if they want to input another number. The user must reply with &quot;y&quot; or &quot;n&quot;.</p>\n<p>Each time the user enters their number it is added to the total variable so i can later use it to work out the average.</p>\n<p>I also have a count variable which is intended to keep track of the users input by incrementation (i saw in another stack question). However, this does not work and the function breaks after only 2 iterations.</p>\n<p>I am trying to get some advice on how i could make the code work or if people recommend i start from scratch.</p>\n"},{"tags":["java","spring","spring-boot","soap"],"answers":[{"tags":[],"owner":{"account_id":5469536,"reputation":120,"user_id":4349288,"display_name":"uBreckner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697557233,"creation_date":1697557233,"answer_id":77310402,"question_id":76921381,"body_markdown":"After getting really on my nerves, i checked which version of Spring Boot was working and which wasn&#39;t. I discovered that its not only the 3.1.x branch which is suffering from this but also 3.0.x from 3.0.8 onward.&lt;br&gt;&lt;br&gt; \r\nReviewing the upgraded dependencies in this release and their respective updates the breaking change seems to be related to [this bug][1] ans should be fixed in [this MR][2] without release as of now. So for now downgrading the org.glassfish.jaxb dependencies to 4.0.2 solves the problem.\r\n\r\n\r\n  [1]: https://github.com/eclipse-ee4j/jaxb-ri/issues/1731\r\n  [2]: https://github.com/eclipse-ee4j/jaxb-ri/pull/1752","title":"Is there a way to disable namespaces inside a complexType in a soap request?","body":"<p>After getting really on my nerves, i checked which version of Spring Boot was working and which wasn't. I discovered that its not only the 3.1.x branch which is suffering from this but also 3.0.x from 3.0.8 onward.<br><br>\nReviewing the upgraded dependencies in this release and their respective updates the breaking change seems to be related to <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/issues/1731\" rel=\"nofollow noreferrer\">this bug</a> ans should be fixed in <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/pull/1752\" rel=\"nofollow noreferrer\">this MR</a> without release as of now. So for now downgrading the org.glassfish.jaxb dependencies to 4.0.2 solves the problem.</p>\n"}],"owner":{"account_id":5469536,"reputation":120,"user_id":4349288,"display_name":"uBreckner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77310402,"answer_count":1,"score":0,"last_activity_date":1697557233,"creation_date":1692274169,"question_id":76921381,"body_markdown":"I have 2 Java Webservices talking to each other via SOAP, both are using Spring Boot 3.0.7 on JDK17. Now i updated one of the services to Spring Boot 3.1.2 and they can&#39;t communicate with each other anymore.\r\n&lt;br&gt;The exception thrown is:\r\n```org.apache.cxf.interceptor.Fault: Unmarshalling Error: unexpected element```\r\n&lt;br&gt;&lt;br&gt;\r\nAfter some digging using LoggingInterceptors I found out that the two Spring Versions are marshalling/unmarshalling the soap messages in different ways. Here examples for method calls of updateWorkflowConfiguration :&lt;br&gt;\r\nSpring 3.0.7:\r\n```\r\n&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;soap:Body&gt;\r\n        &lt;ns2:updateWorkflowConfiguration xmlns:ns2=&quot;http://some.package.structure/&quot;&gt;\r\n            &lt;workflowConfiguration&gt;\r\n                &lt;accountId&gt;0&lt;/accountId&gt;\r\n                &lt;comment&gt;asd&lt;/comment&gt;\r\n                &lt;dateRange&gt;0&lt;/dateRange&gt;\r\n                &lt;id&gt;1&lt;/id&gt;\r\n                &lt;systemId&gt;0&lt;/systemId&gt;\r\n            &lt;/workflowConfiguration&gt;\r\n        &lt;/ns2:updateWorkflowConfiguration&gt;\r\n    &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n```\r\n\r\nSpring 3.1.2:\r\n```\r\n&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;soap:Body&gt;\r\n        &lt;ns2:updateWorkflowConfiguration xmlns:ns2=&quot;http://some.package.structure/&quot;&gt;\r\n            &lt;workflowConfiguration&gt;\r\n                &lt;ns2:accountId&gt;0&lt;/ns2:accountId&gt;\r\n                &lt;ns2:comment&gt;asd&lt;/ns2:comment&gt;\r\n                &lt;ns2:dateRange&gt;0&lt;/ns2:dateRange&gt;\r\n                &lt;ns2:id&gt;1&lt;/ns2:id&gt;\r\n                &lt;ns2:systemId&gt;0&lt;/ns2:systemId&gt;\r\n            &lt;/workflowConfiguration&gt;\r\n        &lt;/ns2:updateWorkflowConfiguration&gt;\r\n    &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n```\r\nThe only difference is the (not) referenced namespace ```ns2``` in the bean of type ```workflowConfiguration```. The Bean is as simple as its gets with no annotations whatsoever which would influence the outcome of the SOAP Message. &lt;br&gt;\r\nThe CXF dependencies are in both cases the same:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cxf-spring-boot-starter-jaxws&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThese two services are just the tip of the iceberg as there are close to 60 projects with dependencies on one or the other service. So a simultaneous update to the new spring version is not possible.&lt;br&gt;&lt;br&gt;\r\nUntil now i found nothing to define how the namespace is added to an element. Is there some possibility to configure or switch between the &quot;old&quot; (pre 3.1.2) and the new way? \r\n","title":"Is there a way to disable namespaces inside a complexType in a soap request?","body":"<p>I have 2 Java Webservices talking to each other via SOAP, both are using Spring Boot 3.0.7 on JDK17. Now i updated one of the services to Spring Boot 3.1.2 and they can't communicate with each other anymore.\n<br>The exception thrown is:\n<code>org.apache.cxf.interceptor.Fault: Unmarshalling Error: unexpected element</code>\n<br><br>\nAfter some digging using LoggingInterceptors I found out that the two Spring Versions are marshalling/unmarshalling the soap messages in different ways. Here examples for method calls of updateWorkflowConfiguration :<br>\nSpring 3.0.7:</p>\n<pre><code>&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;soap:Body&gt;\n        &lt;ns2:updateWorkflowConfiguration xmlns:ns2=&quot;http://some.package.structure/&quot;&gt;\n            &lt;workflowConfiguration&gt;\n                &lt;accountId&gt;0&lt;/accountId&gt;\n                &lt;comment&gt;asd&lt;/comment&gt;\n                &lt;dateRange&gt;0&lt;/dateRange&gt;\n                &lt;id&gt;1&lt;/id&gt;\n                &lt;systemId&gt;0&lt;/systemId&gt;\n            &lt;/workflowConfiguration&gt;\n        &lt;/ns2:updateWorkflowConfiguration&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>Spring 3.1.2:</p>\n<pre><code>&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;soap:Body&gt;\n        &lt;ns2:updateWorkflowConfiguration xmlns:ns2=&quot;http://some.package.structure/&quot;&gt;\n            &lt;workflowConfiguration&gt;\n                &lt;ns2:accountId&gt;0&lt;/ns2:accountId&gt;\n                &lt;ns2:comment&gt;asd&lt;/ns2:comment&gt;\n                &lt;ns2:dateRange&gt;0&lt;/ns2:dateRange&gt;\n                &lt;ns2:id&gt;1&lt;/ns2:id&gt;\n                &lt;ns2:systemId&gt;0&lt;/ns2:systemId&gt;\n            &lt;/workflowConfiguration&gt;\n        &lt;/ns2:updateWorkflowConfiguration&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>The only difference is the (not) referenced namespace <code>ns2</code> in the bean of type <code>workflowConfiguration</code>. The Bean is as simple as its gets with no annotations whatsoever which would influence the outcome of the SOAP Message. <br>\nThe CXF dependencies are in both cases the same:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-spring-boot-starter-jaxws&lt;/artifactId&gt;\n    &lt;version&gt;4.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>These two services are just the tip of the iceberg as there are close to 60 projects with dependencies on one or the other service. So a simultaneous update to the new spring version is not possible.<br><br>\nUntil now i found nothing to define how the namespace is added to an element. Is there some possibility to configure or switch between the &quot;old&quot; (pre 3.1.2) and the new way?</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697464038,"post_id":77302472,"comment_id":136279576,"body_markdown":"From my tests it does work, it doesn&#39;t work for each exception which is then handled by the default one. You are actually using webflux and don&#39;t have regular Spring Web on the classpath?","body":"From my tests it does work, it doesn&#39;t work for each exception which is then handled by the default one. You are actually using webflux and don&#39;t have regular Spring Web on the classpath?"},{"owner":{"account_id":29683727,"reputation":1,"user_id":22749825,"display_name":"Johan Sj&#246;berg"},"score":0,"creation_date":1697478393,"post_id":77302472,"comment_id":136282266,"body_markdown":"I am using spring-web as a dependency. It is mainly used to have access to classes like HttpStatus, UriBuilderFactory etc. I am using WebFlux, whole application is reactive and using mono/flux.","body":"I am using spring-web as a dependency. It is mainly used to have access to classes like HttpStatus, UriBuilderFactory etc. I am using WebFlux, whole application is reactive and using mono/flux."},{"owner":{"account_id":29683727,"reputation":1,"user_id":22749825,"display_name":"Johan Sj&#246;berg"},"score":0,"creation_date":1697546300,"post_id":77302472,"comment_id":136291155,"body_markdown":"@M.Deinum For what types of exceptions does it work for you? If you have an example I can do a test myself. One example for where it does not work in my case would be when one is sending a request to an API using the incorrect HTTP method.","body":"@M.Deinum For what types of exceptions does it work for you? If you have an example I can do a test myself. One example for where it does not work in my case would be when one is sending a request to an API using the incorrect HTTP method."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697546721,"post_id":77302472,"comment_id":136291239,"body_markdown":"The sample used was for validation. Make sure you don&#39;t have anything in your code that disables auto-configuration and rendering the `spring.webflux.problemdetails.enabled`, things like `@EnableWebFlux` or importing the configuration etc. which will disable things like this.","body":"The sample used was for validation. Make sure you don&#39;t have anything in your code that disables auto-configuration and rendering the <code>spring.webflux.problemdetails.enabled</code>, things like <code>@EnableWebFlux</code> or importing the configuration etc. which will disable things like this."},{"owner":{"account_id":29683727,"reputation":1,"user_id":22749825,"display_name":"Johan Sj&#246;berg"},"score":0,"creation_date":1697556393,"post_id":77302472,"comment_id":136293421,"body_markdown":"@M.Deinum Thanks! this actually identified the issue we had. We had `@EnableWebFlux` configured which disabled the auto configuration, so the configuration was never read.","body":"@M.Deinum Thanks! this actually identified the issue we had. We had <code>@EnableWebFlux</code> configured which disabled the auto configuration, so the configuration was never read."}],"answers":[{"tags":[],"owner":{"account_id":29683727,"reputation":1,"user_id":22749825,"display_name":"Johan Sj&#246;berg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697556796,"creation_date":1697556796,"answer_id":77310358,"question_id":77302472,"body_markdown":"Issue was that our configuration class was annotated with `@EnableWebFlux` annotation which disabled the auto configuration. By removing `@EnableWebFlux`annotation and adding the `@EnableAutoConfiguration` annotation to our configuration class we fixed the issue.\r\n\r\nSo with this change the spring application property `spring.webflux.problemdetails.enabled` was read by spring boot auto configuration and an instance of `ProblemDetailsExceptionHandler` was available for handling exceptions which means we got proper RFC 7807 formatting for error responses.","title":"How to enable RFC 7807 error response format in spring boot 3 and WebFlux?","body":"<p>Issue was that our configuration class was annotated with <code>@EnableWebFlux</code> annotation which disabled the auto configuration. By removing <code>@EnableWebFlux</code>annotation and adding the <code>@EnableAutoConfiguration</code> annotation to our configuration class we fixed the issue.</p>\n<p>So with this change the spring application property <code>spring.webflux.problemdetails.enabled</code> was read by spring boot auto configuration and an instance of <code>ProblemDetailsExceptionHandler</code> was available for handling exceptions which means we got proper RFC 7807 formatting for error responses.</p>\n"}],"owner":{"account_id":29683727,"reputation":1,"user_id":22749825,"display_name":"Johan Sj&#246;berg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697556796,"creation_date":1697463558,"question_id":77302472,"body_markdown":"I have an issue enabling the RFC 7807 format to be used by my spring boot (v3.1.14) webflux application controllers. I am wondering what the proper way is to configure the RFC 7807 format for HTTP error responses from the two different options I have found.\r\n1.  Following spring framework documentation by implementing controller advice, https://docs.spring.io/spring-framework/reference/web/webflux/ann-rest-exceptions.html#webflux-ann-rest-exceptions-render.\r\n&gt; To enable RFC 7807 responses for Spring WebFlux exceptions and for any ErrorResponseException, extend ResponseEntityExceptionHandler and declare it as an @ControllerAdvice in Spring configuration. The handler has an @ExceptionHandler method that handles any ErrorResponse exception, which includes all built-in web exceptions. You can add more exception handling methods, and use a protected method to map any exception to a ProblemDetail.\r\n2. Using [spring.webflux.problemdetails.enabled](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.web.spring.webflux.problemdetails.enabled) spring boot 3 application property for WebFlux. This application property has the following description:\r\n&gt; Whether RFC 7807 Problem Details support should be enabled.\r\n\r\nThe only way I can get it to work is by following the spring framework documentation and implementing my own ExceptionHandler\r\n\r\nSo if I create a ControllerAdvice like the following:\r\n\r\n```java\r\n@RestControllerAdvice\r\npublic class MyControllerExceptionHandler extends ResponseEntityExceptionHandler {}\r\n```\r\n\r\nThen I get proper RFC 7807 format for all the different failure cases I test e.g. validation errors on payload, bad method etc.\r\n\r\nWhen testing to set the [spring.webflux.problemdetails.enabled](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.web.spring.webflux.problemdetails.enabled) spring boot 3 application property does not seem to change anything in error response formatting though. Instead [auto configuration](https://github.com/spring-projects/spring-boot/blob/3ed1f1a064a10e53adc2ad8c0b46a4b2c148ee21/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/error/ErrorWebFluxAutoConfiguration.java#L63-L72) ensures the `DefaultErrorWebExceptionHandler` is used, which does not use RFC 7807 format.\r\n\r\nI expected that enabling `spring.webflux.problemdetails.enabled` actually would configure spring boot to use RFC 7807 format by default in all the error responses. What is `spring.webflux.problemdetails.enabled` actually used for and what is the proper way to configure RFC 7807 format for error response on a Spring Boot WebFlux application?\r\n\r\nI found a similar question already:\r\nhttps://stackoverflow.com/questions/74888192/how-to-enable-problem-details-rfc-7807-in-spring-boot-3\r\n\r\nbut from my testing enabling `spring.webflux.problemdetails.enabled` does not work and that question is for spring mvc and `spring.mvc.problemdetails.enabled`","title":"How to enable RFC 7807 error response format in spring boot 3 and WebFlux?","body":"<p>I have an issue enabling the RFC 7807 format to be used by my spring boot (v3.1.14) webflux application controllers. I am wondering what the proper way is to configure the RFC 7807 format for HTTP error responses from the two different options I have found.</p>\n<ol>\n<li>Following spring framework documentation by implementing controller advice, <a href=\"https://docs.spring.io/spring-framework/reference/web/webflux/ann-rest-exceptions.html#webflux-ann-rest-exceptions-render\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/reference/web/webflux/ann-rest-exceptions.html#webflux-ann-rest-exceptions-render</a>.</li>\n</ol>\n<blockquote>\n<p>To enable RFC 7807 responses for Spring WebFlux exceptions and for any ErrorResponseException, extend ResponseEntityExceptionHandler and declare it as an @ControllerAdvice in Spring configuration. The handler has an @ExceptionHandler method that handles any ErrorResponse exception, which includes all built-in web exceptions. You can add more exception handling methods, and use a protected method to map any exception to a ProblemDetail.\n2. Using <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.web.spring.webflux.problemdetails.enabled\" rel=\"nofollow noreferrer\">spring.webflux.problemdetails.enabled</a> spring boot 3 application property for WebFlux. This application property has the following description:\nWhether RFC 7807 Problem Details support should be enabled.</p>\n</blockquote>\n<p>The only way I can get it to work is by following the spring framework documentation and implementing my own ExceptionHandler</p>\n<p>So if I create a ControllerAdvice like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class MyControllerExceptionHandler extends ResponseEntityExceptionHandler {}\n</code></pre>\n<p>Then I get proper RFC 7807 format for all the different failure cases I test e.g. validation errors on payload, bad method etc.</p>\n<p>When testing to set the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.web.spring.webflux.problemdetails.enabled\" rel=\"nofollow noreferrer\">spring.webflux.problemdetails.enabled</a> spring boot 3 application property does not seem to change anything in error response formatting though. Instead <a href=\"https://github.com/spring-projects/spring-boot/blob/3ed1f1a064a10e53adc2ad8c0b46a4b2c148ee21/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/error/ErrorWebFluxAutoConfiguration.java#L63-L72\" rel=\"nofollow noreferrer\">auto configuration</a> ensures the <code>DefaultErrorWebExceptionHandler</code> is used, which does not use RFC 7807 format.</p>\n<p>I expected that enabling <code>spring.webflux.problemdetails.enabled</code> actually would configure spring boot to use RFC 7807 format by default in all the error responses. What is <code>spring.webflux.problemdetails.enabled</code> actually used for and what is the proper way to configure RFC 7807 format for error response on a Spring Boot WebFlux application?</p>\n<p>I found a similar question already:\n<a href=\"https://stackoverflow.com/questions/74888192/how-to-enable-problem-details-rfc-7807-in-spring-boot-3\">How to enable problem details (RFC 7807) in Spring Boot 3?</a></p>\n<p>but from my testing enabling <code>spring.webflux.problemdetails.enabled</code> does not work and that question is for spring mvc and <code>spring.mvc.problemdetails.enabled</code></p>\n"},{"tags":["java","android"],"owner":{"account_id":19588697,"reputation":1,"user_id":14336231,"display_name":"sebcz44k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697556622,"creation_date":1697556622,"question_id":77310330,"body_markdown":"I have the following code in java:\r\n\r\n```\r\nvolume = (SeekBar) findViewById(R.id.seekBar);\r\naudiomanager = (AudioManager) getSystemService(AUDIO_SERVICE);\r\nint maxVol = audiomanager.getStreamMaxVolume(AudioManager.STREAM_MUSIC);\r\nint currentVol = audiomanager.getStreamVolume(AudioManager.STREAM_MUSIC);\r\nvolume.setMax(maxVol);\r\nvolume.setProgress(currentVol);\r\nvolume.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n                @Override\r\n                public void onProgressChanged(SeekBar seekBar, int progress, boolean b) {\r\n                    audiomanager.setStreamVolume(AudioManager.STREAM_MUSIC, progress, 0);\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onStopTrackingTouch(SeekBar seekBar) {\r\n\r\n                }\r\n            });\r\n```\r\n\r\neverything works fine, the only problem I have is I would like it not to manipulate overall phone&#39;s sounds volume. When i move the seekbar, sounds volume on the phone is changing also. Is there a way i can change volume of music playing in app, no matter what&#39;s the overall sounds volume? \r\nFor example:\r\nUser has seekbar set on maximum value but since they have muted overall phone&#39;s sounds the music will not be audible\r\n\r\n\r\n                                                                          .","title":"How can i change volume without manipulating overall phone&#39;s sounds volume","body":"<p>I have the following code in java:</p>\n<pre><code>volume = (SeekBar) findViewById(R.id.seekBar);\naudiomanager = (AudioManager) getSystemService(AUDIO_SERVICE);\nint maxVol = audiomanager.getStreamMaxVolume(AudioManager.STREAM_MUSIC);\nint currentVol = audiomanager.getStreamVolume(AudioManager.STREAM_MUSIC);\nvolume.setMax(maxVol);\nvolume.setProgress(currentVol);\nvolume.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n                @Override\n                public void onProgressChanged(SeekBar seekBar, int progress, boolean b) {\n                    audiomanager.setStreamVolume(AudioManager.STREAM_MUSIC, progress, 0);\n\n                }\n\n                @Override\n                public void onStartTrackingTouch(SeekBar seekBar) {\n\n                }\n\n                @Override\n                public void onStopTrackingTouch(SeekBar seekBar) {\n\n                }\n            });\n</code></pre>\n<p>everything works fine, the only problem I have is I would like it not to manipulate overall phone's sounds volume. When i move the seekbar, sounds volume on the phone is changing also. Is there a way i can change volume of music playing in app, no matter what's the overall sounds volume?\nFor example:\nUser has seekbar set on maximum value but since they have muted overall phone's sounds the music will not be audible</p>\n<pre><code>                                                                      .\n</code></pre>\n"},{"tags":["java","spring","spring-boot","configurationproperties"],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697556533,"creation_date":1697556533,"answer_id":77310321,"question_id":77309727,"body_markdown":"you need define StringToMapConverter\r\n\r\n   \r\n\r\n    @Component\r\n    @ConfigurationPropertiesBinding\r\n    public class StringToMapConverter implements Converter&lt;String, Map&lt;String,String&gt;&gt;{\r\n        private final ObjectMapper objectMapper = new ObjectMapper();\r\n        @Override\r\n        public Map&lt;String, String&gt; convert(String source) {\r\n            try {\r\n                return objectMapper.readValue(source,new TypeReference&lt;&gt;(){});\r\n            } catch (JsonProcessingException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }","title":"Use @DefaultValue annotation with Map type for Spring Configuration Properties class","body":"<p>you need define StringToMapConverter</p>\n<pre><code>@Component\n@ConfigurationPropertiesBinding\npublic class StringToMapConverter implements Converter&lt;String, Map&lt;String,String&gt;&gt;{\n    private final ObjectMapper objectMapper = new ObjectMapper();\n    @Override\n    public Map&lt;String, String&gt; convert(String source) {\n        try {\n            return objectMapper.readValue(source,new TypeReference&lt;&gt;(){});\n        } catch (JsonProcessingException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29692434,"reputation":3,"user_id":22756525,"display_name":"dgr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77310321,"answer_count":1,"score":0,"last_activity_date":1697556533,"creation_date":1697551510,"question_id":77309727,"body_markdown":"I am creating `@ConfigurationProperties` classes for use in a Spring Boot application. We want to have immutable classes so we have no setters and we are using the `@ConstructorBinding` annotation. Within the constructor we are using the `@DefaultValue` annotation to set default property values. With simple property types this works fine. However, if the property is a Map I cannot find any way to use this annotation to set the default value. Essentially, I want to know how to put in &lt;PLACEHOLDER&gt; below:\r\n\r\n```\r\nimport lombok.Getter;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.context.properties.ConstructorBinding;\r\nimport org.springframework.boot.context.properties.bind.DefaultValue;\r\n\r\nimport java.util.Map;\r\n\r\n@ConfigurationProperties(prefix = &quot;props&quot;)\r\n@ConstructorBinding\r\n@Getter\r\npublic class MyProperties {\r\n\r\n    private final Map&lt;String, String&gt; mapProperty;\r\n\r\n    public MyProperties(@DefaultValue(&lt;PLACEHOLDER&gt;) Map&lt;String, String&gt; mapProperty) {\r\n        this.mapProperty = mapProperty;\r\n    }\r\n}\r\n```\r\n\r\nI have tried using syntax similar to what would be required to populate a list, e.g. `@DefaultValue(value = {&quot;a=b&quot;, &quot;c=d&quot;})` or `@DefaultValue(value = {&quot;a:b&quot;, &quot;c:d&quot;})`. I have also tried using the Spring Expression Language for inline maps, e.g. `@DefaultValue(&quot;{a:&#39;b&#39;}&quot;)`. None of these approaches seem to work, Spring fails to bind the value to the properties object and the object is not created. \r\n\r\nIs it not possible to use this annotation to set the default value for a Map?\r\n\r\nI know that I could perform a null check in the constructor and assign a default map. I don&#39;t want to use that approach because we are using the generated metadata for documentation. ","title":"Use @DefaultValue annotation with Map type for Spring Configuration Properties class","body":"<p>I am creating <code>@ConfigurationProperties</code> classes for use in a Spring Boot application. We want to have immutable classes so we have no setters and we are using the <code>@ConstructorBinding</code> annotation. Within the constructor we are using the <code>@DefaultValue</code> annotation to set default property values. With simple property types this works fine. However, if the property is a Map I cannot find any way to use this annotation to set the default value. Essentially, I want to know how to put in  below:</p>\n<pre><code>import lombok.Getter;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.context.properties.ConstructorBinding;\nimport org.springframework.boot.context.properties.bind.DefaultValue;\n\nimport java.util.Map;\n\n@ConfigurationProperties(prefix = &quot;props&quot;)\n@ConstructorBinding\n@Getter\npublic class MyProperties {\n\n    private final Map&lt;String, String&gt; mapProperty;\n\n    public MyProperties(@DefaultValue(&lt;PLACEHOLDER&gt;) Map&lt;String, String&gt; mapProperty) {\n        this.mapProperty = mapProperty;\n    }\n}\n</code></pre>\n<p>I have tried using syntax similar to what would be required to populate a list, e.g. <code>@DefaultValue(value = {&quot;a=b&quot;, &quot;c=d&quot;})</code> or <code>@DefaultValue(value = {&quot;a:b&quot;, &quot;c:d&quot;})</code>. I have also tried using the Spring Expression Language for inline maps, e.g. <code>@DefaultValue(&quot;{a:'b'}&quot;)</code>. None of these approaches seem to work, Spring fails to bind the value to the properties object and the object is not created.</p>\n<p>Is it not possible to use this annotation to set the default value for a Map?</p>\n<p>I know that I could perform a null check in the constructor and assign a default map. I don't want to use that approach because we are using the generated metadata for documentation.</p>\n"},{"tags":["elasticsearch","java"],"answers":[{"tags":[],"owner":{"account_id":8078747,"reputation":102,"user_id":6120764,"display_name":"Dunggeon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537955352,"creation_date":1537955352,"answer_id":52514799,"question_id":52380110,"body_markdown":"Finally , I got the answer of my above query. The problem was due to dynamic mapping during indexing in Elasticsearch. Better use your own mapping and do sorting on **long** type field (In my case I was trying to sort on the basis of **keyword**(string) field type).","title":"Elasticsearch sorting using java API","body":"<p>Finally , I got the answer of my above query. The problem was due to dynamic mapping during indexing in Elasticsearch. Better use your own mapping and do sorting on <strong>long</strong> type field (In my case I was trying to sort on the basis of <strong>keyword</strong>(string) field type).</p>\n"},{"comments":[{"owner":{"account_id":3243367,"reputation":156,"user_id":2735741,"display_name":"David"},"score":0,"creation_date":1570036365,"post_id":52515137,"comment_id":102790578,"body_markdown":"This does not respect accentuation","body":"This does not respect accentuation"}],"tags":[],"owner":{"account_id":9864184,"reputation":145,"user_id":7306175,"accept_rate":25,"display_name":"Shashank Gutha"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1537970658,"creation_date":1537956303,"answer_id":52515137,"question_id":52380110,"body_markdown":"As totalEmployee was analyzed field, elastic requries field data value as true to perform sort operation. Instead you can use totalEmployee.keyword to achieve desired results.\r\n\r\nBelow is the working code.\r\n\r\n\r\n    QueryBuilder qb = QueryBuilders.matchAllQuery();\r\n    \r\n    SearchResponse response = client.prepareSearch(&quot;index_db&quot;).setTypes(&quot;departments&quot;)\r\n                        .addSort(SortBuilders.fieldSort(&quot;totalEmployee.keyword&quot;)\r\n                        .order(SortOrder.ASC)).setQuery(qb)\r\n                        .setSize(100).execute().actionGet();\r\n    \r\n    for(SearchHit hits : response.getHits())\r\n    {\r\n         System.out.print(&quot;id = &quot; + hits.getId());\r\n         System.out.println(hits.getSourceAsString());\r\n    }","title":"Elasticsearch sorting using java API","body":"<p>As totalEmployee was analyzed field, elastic requries field data value as true to perform sort operation. Instead you can use totalEmployee.keyword to achieve desired results.</p>\n\n<p>Below is the working code.</p>\n\n<pre><code>QueryBuilder qb = QueryBuilders.matchAllQuery();\n\nSearchResponse response = client.prepareSearch(\"index_db\").setTypes(\"departments\")\n                    .addSort(SortBuilders.fieldSort(\"totalEmployee.keyword\")\n                    .order(SortOrder.ASC)).setQuery(qb)\n                    .setSize(100).execute().actionGet();\n\nfor(SearchHit hits : response.getHits())\n{\n     System.out.print(\"id = \" + hits.getId());\n     System.out.println(hits.getSourceAsString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":97313,"reputation":6321,"user_id":264028,"accept_rate":75,"display_name":"Joaqu&#237;n L. Robles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697555981,"creation_date":1697555981,"answer_id":77310255,"question_id":52380110,"body_markdown":"You can specify sort options in the search request:\r\n\r\n```java\r\nSearchRequest request = SearchRequest.of(req -&gt; req\r\n  .index(indexName)\r\n  .query(query)\r\n  .sort(SortOptions.of(so -&gt; so\r\n    .field(f -&gt; f\r\n      .field(sortField)\r\n      .order(SortOrder.Asc)\r\n    )\r\n  ))\r\n);\r\n```","title":"Elasticsearch sorting using java API","body":"<p>You can specify sort options in the search request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SearchRequest request = SearchRequest.of(req -&gt; req\n  .index(indexName)\n  .query(query)\n  .sort(SortOptions.of(so -&gt; so\n    .field(f -&gt; f\n      .field(sortField)\n      .order(SortOrder.Asc)\n    )\n  ))\n);\n</code></pre>\n"}],"owner":{"account_id":8078747,"reputation":102,"user_id":6120764,"display_name":"Dunggeon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15115,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52515137,"answer_count":3,"score":4,"last_activity_date":1697555981,"creation_date":1537251719,"question_id":52380110,"body_markdown":"I am trying to sort my document based on totalEmployee field, where index is **index_db** , the type is **departments** and a field is **totalEmployee** \r\n\r\n    QueryBuilder qb = QueryBuilders.matchAllQuery();\r\n    \t\t\tSearchResponse response = client.prepareSearch(&quot;index_db&quot;).setTypes(&quot;departments&quot;)\r\n    \t\t\t\t\t.addSort(SortBuilders.fieldSort(&quot;totalEmployee&quot;).order(SortOrder.ASC)).setQuery(qb)\r\n    \t\t\t\t\t.setSize(100).execute().actionGet();\r\n    \t\t\tfor(SearchHit hits :response.getHits()) {\r\n    \t\t\t\tSystem.out.print(&quot;id = &quot;+hits.getId());\r\n    \t\t\t\tSystem.out.println(hits.getSourceAsString());\r\n    \t\t\t}\r\n\r\nBut I am getting error : \r\n\r\n`Exception in thread &quot;main&quot; Failed to execute phase [query], all shards failed; shardFailures {[q9B7Qs-DSXWC14pjc5zlNg][index_db][0]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested:` \r\n\r\n`IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }{[q9B7Qs-DSXWC14pjc5zlNg][index_db][1]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested: IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }{[q9B7Qs-DSXWC14pjc5zlNg][piyush_db][2]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested: IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }{[q9B7Qs-DSXWC14pjc5zlNg][piyush_db][3]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested: IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }{[q9B7Qs-DSXWC14pjc5zlNg][piyush_db][4]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested: IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }`\r\n\r\n","title":"Elasticsearch sorting using java API","body":"<p>I am trying to sort my document based on totalEmployee field, where index is <strong>index_db</strong> , the type is <strong>departments</strong> and a field is <strong>totalEmployee</strong> </p>\n\n<pre><code>QueryBuilder qb = QueryBuilders.matchAllQuery();\n            SearchResponse response = client.prepareSearch(\"index_db\").setTypes(\"departments\")\n                    .addSort(SortBuilders.fieldSort(\"totalEmployee\").order(SortOrder.ASC)).setQuery(qb)\n                    .setSize(100).execute().actionGet();\n            for(SearchHit hits :response.getHits()) {\n                System.out.print(\"id = \"+hits.getId());\n                System.out.println(hits.getSourceAsString());\n            }\n</code></pre>\n\n<p>But I am getting error : </p>\n\n<p><code>Exception in thread \"main\" Failed to execute phase [query], all shards failed; shardFailures {[q9B7Qs-DSXWC14pjc5zlNg][index_db][0]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested:</code> </p>\n\n<p><code>IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }{[q9B7Qs-DSXWC14pjc5zlNg][index_db][1]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested: IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }{[q9B7Qs-DSXWC14pjc5zlNg][piyush_db][2]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested: IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }{[q9B7Qs-DSXWC14pjc5zlNg][piyush_db][3]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested: IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }{[q9B7Qs-DSXWC14pjc5zlNg][piyush_db][4]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested: IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }</code></p>\n"},{"tags":["java","deb","jpackage"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1685618889,"post_id":76380876,"comment_id":134686933,"body_markdown":"Seems to be a bug in QApt: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=986010 -- you can check that the description inside the package itself is ok by taking it apart using `ar x hello.deb` and looking at the control file.","body":"Seems to be a bug in QApt: <a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=986010\" rel=\"nofollow noreferrer\">bugs.debian.org/cgi-bin/bugreport.cgi?bug=986010</a> -- you can check that the description inside the package itself is ok by taking it apart using <code>ar x hello.deb</code> and looking at the control file."},{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":0,"creation_date":1685637890,"post_id":76380876,"comment_id":134691840,"body_markdown":"@teapot418 I noticed that several deb packages from various vendors have this issue. However, I think i found _solution_ by using multiline description. See my answer.","body":"@teapot418 I noticed that several deb packages from various vendors have this issue. However, I think i found <i>solution</i> by using multiline description. See my answer."}],"answers":[{"tags":[],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697555779,"creation_date":1685638096,"answer_id":76384084,"question_id":76380876,"body_markdown":"A solution to this problem might be to use multi-line description. First line is then bold text and second line is below it, altough bug still remains when using single-line description.\r\n  \r\n    jpackage -t deb \\\r\n    --app-version 1.0.0 \\\r\n    --icon books256.png \\\r\n    --name hello \\\r\n    --description &#39;first line\r\n    second line&#39; \\\r\n    --dest target/jpackage_outputdir/ \\\r\n    --temp target/jpackage_tempdir \\\r\n    --input target/jpackage_inputdir \\\r\n    --main-class core.Main \\\r\n    --main-jar jarfile.jar \\\r\n    --linux-menu-group Office \\\r\n    --linux-shortcut\r\n\r\n[![solution][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wvafC.png\r\n\r\n**EDIT:**\r\n\r\nThis &quot;fix&quot; breaks desktop icon on Ubuntu (22.04). It is not shown under &quot;Show applications&quot; in gnome desktop.","title":"Description bug in DEB file created by jpackage when opened with QApt installer","body":"<p>A solution to this problem might be to use multi-line description. First line is then bold text and second line is below it, altough bug still remains when using single-line description.</p>\n<pre><code>jpackage -t deb \\\n--app-version 1.0.0 \\\n--icon books256.png \\\n--name hello \\\n--description 'first line\nsecond line' \\\n--dest target/jpackage_outputdir/ \\\n--temp target/jpackage_tempdir \\\n--input target/jpackage_inputdir \\\n--main-class core.Main \\\n--main-jar jarfile.jar \\\n--linux-menu-group Office \\\n--linux-shortcut\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wvafC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wvafC.png\" alt=\"solution\" /></a></p>\n<p><strong>EDIT:</strong></p>\n<p>This &quot;fix&quot; breaks desktop icon on Ubuntu (22.04). It is not shown under &quot;Show applications&quot; in gnome desktop.</p>\n"}],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697555779,"creation_date":1685614589,"question_id":76380876,"body_markdown":"Adding description with `--description` while creating deb package on linux creates deb file, which when opened with `QApt package installer` (double click installation) shows defined text in description section, which seems like a *bold header* and underneath there is that description again with first character stripped:\r\n\r\n[![example][1]][1]\r\n\r\nCommand:\r\n\r\n    jpackage -t deb \\\r\n    --app-version 1.0.0 \\\r\n    --icon books256.png \\\r\n    --name hello \\\r\n    --description &#39;my testing text&#39; \\\r\n    --dest target/jpackage_outputdir/ \\\r\n    --temp target/jpackage_tempdir \\\r\n    --input target/jpackage_inputdir \\\r\n    --main-class core.Main \\\r\n    --main-jar jarfile.jar \\\r\n    --linux-menu-group Office \\\r\n    --linux-shortcut\r\n\r\nIs there a way to prevent this *unprofessional* look by finely setting *bold header* and text underneath separately or at least by removing this duplication in description section?\r\n\r\nUsing Kubuntu 23.0.4, JDK - openjdk 17.0.7 2023-04-18 LTS\r\n\r\n  [1]: https://i.stack.imgur.com/fm2Eo.png","title":"Description bug in DEB file created by jpackage when opened with QApt installer","body":"<p>Adding description with <code>--description</code> while creating deb package on linux creates deb file, which when opened with <code>QApt package installer</code> (double click installation) shows defined text in description section, which seems like a <em>bold header</em> and underneath there is that description again with first character stripped:</p>\n<p><a href=\"https://i.stack.imgur.com/fm2Eo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fm2Eo.png\" alt=\"example\" /></a></p>\n<p>Command:</p>\n<pre><code>jpackage -t deb \\\n--app-version 1.0.0 \\\n--icon books256.png \\\n--name hello \\\n--description 'my testing text' \\\n--dest target/jpackage_outputdir/ \\\n--temp target/jpackage_tempdir \\\n--input target/jpackage_inputdir \\\n--main-class core.Main \\\n--main-jar jarfile.jar \\\n--linux-menu-group Office \\\n--linux-shortcut\n</code></pre>\n<p>Is there a way to prevent this <em>unprofessional</em> look by finely setting <em>bold header</em> and text underneath separately or at least by removing this duplication in description section?</p>\n<p>Using Kubuntu 23.0.4, JDK - openjdk 17.0.7 2023-04-18 LTS</p>\n"},{"tags":["java","inheritance","equals","hashcode"],"comments":[{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":5,"creation_date":1697493841,"post_id":77305179,"comment_id":136284528,"body_markdown":"delete the id field in ChildEntity, you&#39;re shadowing/hiding the parent one.","body":"delete the id field in ChildEntity, you&#39;re shadowing/hiding the parent one."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697515547,"creation_date":1697498607,"answer_id":77305421,"question_id":77305179,"body_markdown":"If you really need `private Long id;` in the subclass, name it something else other than the same name as another field in the superclass. \r\n\r\nSee Wikipedia: [*Variable shadowing*](https://en.wikipedia.org/wiki/Variable_shadowing)","title":"How to use equals &amp; hashcode from generic parent class in child classes?","body":"<p>If you really need <code>private Long id;</code> in the subclass, name it something else other than the same name as another field in the superclass.</p>\n<p>See Wikipedia: <a href=\"https://en.wikipedia.org/wiki/Variable_shadowing\" rel=\"nofollow noreferrer\"><em>Variable shadowing</em></a></p>\n"}],"owner":{"account_id":22940848,"reputation":29,"user_id":17073644,"display_name":"PRD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1697508643,"answer_count":1,"score":-1,"last_activity_date":1697555293,"creation_date":1697493711,"question_id":77305179,"body_markdown":"I have many Entity classes in my project, and to avoid overriding the equals and hashCode methods in each one, I want to inherit them from a parent class where these methods are already implemented. Since the equals and hashCode methods of Entity classes should be based on the ID field, which is unique for each instance.\r\n\r\n``` @AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic abstract class ParentEntity&lt;ID&gt; {\r\n\r\n    private ID id;\r\n\r\n   \r\n    @Override\r\n    public boolean equals(final Object o) {\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass()) {\r\n            return false;\r\n        }\r\n        ParentEntity&lt;?&gt; that = (ParentEntity&lt;?&gt;) o;\r\n        return Objects.equals(id, that.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ChildEntity extends ParentEntity&lt;Long&gt; {\r\n\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n\r\n}\r\n```\r\n\r\nBut when i test it: \r\n```\r\nChildEntity childEntity = new ChildEntity(4L, &quot;Cheese&quot;);\r\nChildEntity childEntity1 = new ChildEntity(4L, &quot;Bread&quot;);\r\nChildEntity childEntity2 = new ChildEntity(1L, &quot;Milk&quot;);\r\n\r\nSystem.out.println(childEntity.equals(childEntity1)); // output true\r\nSystem.out.println(childEntity.equals(childEntity2)); // output true\r\n```\r\n\r\nIn debug, I see that ParentEntity.id is null in every child entity instance but I don&#39;t understand why. Please help.","title":"How to use equals &amp; hashcode from generic parent class in child classes?","body":"<p>I have many Entity classes in my project, and to avoid overriding the equals and hashCode methods in each one, I want to inherit them from a parent class where these methods are already implemented. Since the equals and hashCode methods of Entity classes should be based on the ID field, which is unique for each instance.</p>\n<pre><code>@NoArgsConstructor\n@Getter\n@Setter\npublic abstract class ParentEntity&lt;ID&gt; {\n\n    private ID id;\n\n   \n    @Override\n    public boolean equals(final Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (o == null || getClass() != o.getClass()) {\n            return false;\n        }\n        ParentEntity&lt;?&gt; that = (ParentEntity&lt;?&gt;) o;\n        return Objects.equals(id, that.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id);\n    }\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ChildEntity extends ParentEntity&lt;Long&gt; {\n\n    private Long id;\n\n    private String name;\n\n\n}\n</code></pre>\n<p>But when i test it:</p>\n<pre><code>ChildEntity childEntity = new ChildEntity(4L, &quot;Cheese&quot;);\nChildEntity childEntity1 = new ChildEntity(4L, &quot;Bread&quot;);\nChildEntity childEntity2 = new ChildEntity(1L, &quot;Milk&quot;);\n\nSystem.out.println(childEntity.equals(childEntity1)); // output true\nSystem.out.println(childEntity.equals(childEntity2)); // output true\n</code></pre>\n<p>In debug, I see that ParentEntity.id is null in every child entity instance but I don't understand why. Please help.</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"score":0,"creation_date":1605266126,"post_id":64807292,"comment_id":114604333,"body_markdown":"We too got this error mesage after upgrading from Spring 5.2.9 to 5.3.1.","body":"We too got this error mesage after upgrading from Spring 5.2.9 to 5.3.1."},{"owner":{"account_id":1861004,"reputation":558,"user_id":1685590,"accept_rate":60,"display_name":"AnarchoEnte"},"score":0,"creation_date":1606998121,"post_id":64807292,"comment_id":115136774,"body_markdown":"We&#39;ve the same issue here after updating :(","body":"We&#39;ve the same issue here after updating :("}],"answers":[{"comments":[{"owner":{"account_id":1861004,"reputation":558,"user_id":1685590,"accept_rate":60,"display_name":"AnarchoEnte"},"score":0,"creation_date":1606998157,"post_id":64820444,"comment_id":115136787,"body_markdown":"I tried to explicitly add the javax-servlet-api 3.1.0 version into my pom.xml but the behavior didn&#39;t change, still got the same error","body":"I tried to explicitly add the javax-servlet-api 3.1.0 version into my pom.xml but the behavior didn&#39;t change, still got the same error"},{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1652990926,"post_id":64820444,"comment_id":127748366,"body_markdown":"For me it was to update javax-servlet-api from 3.1.0 to 4.0.1 &#129335;&#127995;‍♂️","body":"For me it was to update javax-servlet-api from 3.1.0 to 4.0.1 🤷🏻‍♂️"}],"tags":[],"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605268522,"creation_date":1605268522,"answer_id":64820444,"question_id":64807292,"body_markdown":"Can you please try to downgrade javax.servlet-api to 3.1.0 and see if that solves your problem? That seems to have solved our issue.\r\n","title":"Handler dispatch failed; nested exception is java.lang.NoSuchMethodError","body":"<p>Can you please try to downgrade javax.servlet-api to 3.1.0 and see if that solves your problem? That seems to have solved our issue.</p>\n"},{"tags":[],"owner":{"account_id":13059720,"reputation":458,"user_id":9437342,"display_name":"deloyar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613555511,"creation_date":1613555511,"answer_id":66239471,"question_id":64807292,"body_markdown":"You should upgrade the runtime environment. In your current runtime version of Java EE javax.servlet.http.HttpServletRequest does not contain a method with the name getHttpServletMapping. Java EE 8 Introduce the method getHttpServletMapping.Or make sure that you are using the same version for development and runtime.\r\nReferences: [JAVA EE github docs][1][Apache Tomcat docs][2]\r\n\r\n\r\n  [1]: https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpServletRequest.html#getHttpServletMapping--\r\n  [2]: https://tomcat.apache.org/tomcat-9.0-doc/servletapi/javax/servlet/http/HttpServletRequest.html#getHttpServletMapping--","title":"Handler dispatch failed; nested exception is java.lang.NoSuchMethodError","body":"<p>You should upgrade the runtime environment. In your current runtime version of Java EE javax.servlet.http.HttpServletRequest does not contain a method with the name getHttpServletMapping. Java EE 8 Introduce the method getHttpServletMapping.Or make sure that you are using the same version for development and runtime.\nReferences: <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpServletRequest.html#getHttpServletMapping--\" rel=\"nofollow noreferrer\">JAVA EE github docs</a><a href=\"https://tomcat.apache.org/tomcat-9.0-doc/servletapi/javax/servlet/http/HttpServletRequest.html#getHttpServletMapping--\" rel=\"nofollow noreferrer\">Apache Tomcat docs</a></p>\n"}],"owner":{"account_id":17275827,"reputation":41,"user_id":12510474,"display_name":"Dull"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9312,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1697555175,"creation_date":1605196592,"question_id":64807292,"body_markdown":"\r\n**Message** \r\n\r\n    Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: &#39;javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()&#39;\r\n\r\n\r\n**Description**\r\n\r\n    The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n**Exception**\r\n\r\n    org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: &#39;javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()&#39;\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1076)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:626)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\r\n**Root Cause**\r\n\r\n\r\n    java.lang.NoSuchMethodError: &#39;javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()&#39;\r\n    \torg.springframework.web.util.UrlPathHelper.skipServletPathDetermination(UrlPathHelper.java:265)\r\n    \torg.springframework.web.util.UrlPathHelper.getLookupPathForRequest(UrlPathHelper.java:250)\r\n    \torg.springframework.web.util.UrlPathHelper.resolveAndCacheLookupPath(UrlPathHelper.java:199)\r\n    \torg.springframework.web.servlet.handler.AbstractHandlerMapping.initLookupPath(AbstractHandlerMapping.java:567)\r\n    \torg.springframework.web.servlet.handler.AbstractUrlHandlerMapping.getHandlerInternal(AbstractUrlHandlerMapping.java:136)\r\n    \torg.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:491)\r\n    \torg.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1255)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1037)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:626)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\r\n\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mvc-1&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;mvc-1&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;junit.version&gt;5.6.2&lt;/junit.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.0&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.0&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n**CODE**\r\n\r\n[General structure][1]\r\n\r\n\r\n[WEB-INF][2]\r\n[Access][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/su5Y1.png\r\n  [2]: https://i.stack.imgur.com/LXIST.png\r\n  [3]: https://i.stack.imgur.com/xxZjG.png","title":"Handler dispatch failed; nested exception is java.lang.NoSuchMethodError","body":"<p><strong>Message</strong></p>\n<pre><code>Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: 'javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()'\n</code></pre>\n<p><strong>Description</strong></p>\n<pre><code>The server encountered an unexpected condition that prevented it from fulfilling the request.\n</code></pre>\n<p><strong>Exception</strong></p>\n<pre><code>org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: 'javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()'\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1076)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n</code></pre>\n<p><strong>Root Cause</strong></p>\n<pre><code>java.lang.NoSuchMethodError: 'javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()'\n    org.springframework.web.util.UrlPathHelper.skipServletPathDetermination(UrlPathHelper.java:265)\n    org.springframework.web.util.UrlPathHelper.getLookupPathForRequest(UrlPathHelper.java:250)\n    org.springframework.web.util.UrlPathHelper.resolveAndCacheLookupPath(UrlPathHelper.java:199)\n    org.springframework.web.servlet.handler.AbstractHandlerMapping.initLookupPath(AbstractHandlerMapping.java:567)\n    org.springframework.web.servlet.handler.AbstractUrlHandlerMapping.getHandlerInternal(AbstractUrlHandlerMapping.java:136)\n    org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:491)\n    org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1255)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1037)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mvc-1&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mvc-1&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;junit.version&gt;5.6.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>CODE</strong></p>\n<p><a href=\"https://i.stack.imgur.com/su5Y1.png\" rel=\"nofollow noreferrer\">General structure</a></p>\n<p><a href=\"https://i.stack.imgur.com/LXIST.png\" rel=\"nofollow noreferrer\">WEB-INF</a>\n<a href=\"https://i.stack.imgur.com/xxZjG.png\" rel=\"nofollow noreferrer\">Access</a></p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1229964,"reputation":1,"user_id":1194759,"display_name":"xaia"},"score":0,"creation_date":1328623432,"post_id":9177525,"comment_id":11545843,"body_markdown":"oh im sorry i forgot to write =).... it is in java...please help. ive used for loop but it doesnt work","body":"oh im sorry i forgot to write =).... it is in java...please help. ive used for loop but it doesnt work"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1328624752,"post_id":9177525,"comment_id":11546397,"body_markdown":"Can you show what you tried, and explain in what way it didn&#39;t work?","body":"Can you show what you tried, and explain in what way it didn&#39;t work?"}],"answers":[{"comments":[{"owner":{"account_id":1229964,"reputation":1,"user_id":1194759,"display_name":"xaia"},"score":0,"creation_date":1328624114,"post_id":9177628,"comment_id":11546129,"body_markdown":"am i gonna add this as it is???? sorry=) im new at this i still dont know much about java....can you give me a whole source code... your help is appreciated =)","body":"am i gonna add this as it is???? sorry=) im new at this i still dont know much about java....can you give me a whole source code... your help is appreciated =)"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1328624703,"post_id":9177628,"comment_id":11546370,"body_markdown":"This isn&#39;t any particular language; at the time of writing, you hadn&#39;t specified a language.","body":"This isn&#39;t any particular language; at the time of writing, you hadn&#39;t specified a language."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1328625696,"post_id":9177628,"comment_id":11546763,"body_markdown":"You want a single loop, and use that index for both strings.  As w/ my pseudocode above, you&#39;ll need to check for each index if that value is in each string before printing, and print a space instead if it is not.  Something like &quot;if i &lt; achar.length System.out.print(a char[i]) else System.out.print(&quot; &quot;);&quot;.  ANd don&#39;t print a &quot;\\n&quot; between the characters; that&#39;s a newline.","body":"You want a single loop, and use that index for both strings.  As w/ my pseudocode above, you&#39;ll need to check for each index if that value is in each string before printing, and print a space instead if it is not.  Something like &quot;if i &lt; achar.length System.out.print(a char[i]) else System.out.print(&quot; &quot;);&quot;.  ANd don&#39;t print a &quot;\\n&quot; between the characters; that&#39;s a newline."},{"owner":{"account_id":1229964,"reputation":1,"user_id":1194759,"display_name":"xaia"},"score":0,"creation_date":1328688806,"post_id":9177628,"comment_id":11563757,"body_markdown":"i still have difficulty developing it =( can any one show me a whole source code it is in java programming..... im still learning and i am not yet that familiar with java","body":"i still have difficulty developing it =( can any one show me a whole source code it is in java programming..... im still learning and i am not yet that familiar with java"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1328706657,"post_id":9177628,"comment_id":11569624,"body_markdown":"Still waiting to see how far you&#39;ve gotten","body":"Still waiting to see how far you&#39;ve gotten"},{"owner":{"account_id":1229964,"reputation":1,"user_id":1194759,"display_name":"xaia"},"score":0,"creation_date":1329121995,"post_id":9177628,"comment_id":11665907,"body_markdown":"&lt;/br&gt;I&#39;ve used single for  loop and it actually displayed 2 strings vertically but the problem is.. if the string is longer than the other there comes the error.....","body":"&lt;/br&gt;I&#39;ve used single for  loop and it actually displayed 2 strings vertically but the problem is.. if the string is longer than the other there comes the error....."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1329142655,"post_id":9177628,"comment_id":11672444,"body_markdown":"@xaia: Instead of blindly getting each character to assign to letter/letter1, for each, if the index is too big, assign the variable a space instead (this is what the print...if...else was doing in my pseudo-code).  Alternately, keep your loop as is, but change it to continue while BOTH I &amp; j are small enough.  Then, just print the remaining part of the longer string.","body":"@xaia: Instead of blindly getting each character to assign to letter/letter1, for each, if the index is too big, assign the variable a space instead (this is what the print...if...else was doing in my pseudo-code).  Alternately, keep your loop as is, but change it to continue while BOTH I &amp; j are small enough.  Then, just print the remaining part of the longer string."}],"tags":[],"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328623413,"creation_date":1328623413,"answer_id":9177628,"question_id":9177525,"body_markdown":"    for i in 0..max(length(s1),length(s2))-1:\r\n        print &quot; &quot; if i &gt;= length(s1) else s1[i];\r\n        print &quot; &quot;\r\n        print &quot; &quot; if i &gt;= length(s2) else s2[i];\r\n        print &quot;\\n&quot;\r\n\r\n","title":"Printing two or more strings in vertical form in java","body":"<pre><code>for i in 0..max(length(s1),length(s2))-1:\n    print \" \" if i &gt;= length(s1) else s1[i];\n    print \" \"\n    print \" \" if i &gt;= length(s2) else s2[i];\n    print \"\\n\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1658143567,"post_id":73019627,"comment_id":128969705,"body_markdown":"Sorry that I answered it so late. I didn&#39;t check the time when the question was asked. It just came into my feed today and I answered it.","body":"Sorry that I answered it so late. I didn&#39;t check the time when the question was asked. It just came into my feed today and I answered it."}],"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658145455,"creation_date":1658134260,"answer_id":73019627,"question_id":9177525,"body_markdown":"If you still haven&#39;t got the solution.\r\n\r\n 1. Find the string with max length (`input` or `input1`)\r\n 2. Iterate to that max length and print the data.\r\n 3. If the two strings are not having the same length, there will be a point where the `charAt` method will not be having a specific index. So before calling the `charAt` method, always check whether the current index is less than the respective string&#39;s length, if not then just print an empty space `&#39; &#39;`.","title":"Printing two or more strings in vertical form in java","body":"<p>If you still haven't got the solution.</p>\n<ol>\n<li>Find the string with max length (<code>input</code> or <code>input1</code>)</li>\n<li>Iterate to that max length and print the data.</li>\n<li>If the two strings are not having the same length, there will be a point where the <code>charAt</code> method will not be having a specific index. So before calling the <code>charAt</code> method, always check whether the current index is less than the respective string's length, if not then just print an empty space <code>' '</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681677909,"creation_date":1681677909,"answer_id":76030254,"question_id":9177525,"body_markdown":"Be simple!\r\n\r\n 1. Find the word with the max length\r\n 2. In the loop print the `i`th character\r\n 3. In case given word&#39;s length is less than `i`, then print `space`.\r\n\r\n```java\r\npublic static void printVertical(List&lt;String&gt; words) {\r\n    int max = words.stream().mapToInt(String::length).max().orElse(0);\r\n\r\n    for (int i = 0, j = 0; i &lt; max; i++, j = 0) {\r\n        for (String word : words) {\r\n            if (j++ != 0)\r\n                System.out.print(&#39; &#39;);\r\n\r\n            if (i &lt; word.length())\r\n                System.out.print(word.charAt(i));\r\n            else\r\n                System.out.print(&#39; &#39;);\r\n        }\r\n\r\n        System.out.println();\r\n    }\r\n}\r\n```","title":"Printing two or more strings in vertical form in java","body":"<p>Be simple!</p>\n<ol>\n<li>Find the word with the max length</li>\n<li>In the loop print the <code>i</code>th character</li>\n<li>In case given word's length is less than <code>i</code>, then print <code>space</code>.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public static void printVertical(List&lt;String&gt; words) {\n    int max = words.stream().mapToInt(String::length).max().orElse(0);\n\n    for (int i = 0, j = 0; i &lt; max; i++, j = 0) {\n        for (String word : words) {\n            if (j++ != 0)\n                System.out.print(' ');\n\n            if (i &lt; word.length())\n                System.out.print(word.charAt(i));\n            else\n                System.out.print(' ');\n        }\n\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684378311,"creation_date":1684377991,"answer_id":76277398,"question_id":9177525,"body_markdown":"This is fairly straight forward in Java.\r\n```java\r\nvoid print() {\r\n    Scanner scanner = new Scanner(System.in);\r\n    char[] stringA = scanner.nextLine().toCharArray();\r\n    char[] stringB = scanner.nextLine().toCharArray();\r\n    scanner.close();\r\n    char A, B;\r\n    int length = Math.max(stringA.length, stringB.length);\r\n    for (int index = 0; index &lt; length; index++) {\r\n        A = index &lt; stringA.length ? stringA[index] : &#39; &#39;;\r\n        B = index &lt; stringB.length ? stringB[index] : &#39; &#39;;\r\n        System.out.printf(&quot;%s %s%n&quot;, A, B);\r\n    }\r\n}\r\n```","title":"Printing two or more strings in vertical form in java","body":"<p>This is fairly straight forward in Java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void print() {\n    Scanner scanner = new Scanner(System.in);\n    char[] stringA = scanner.nextLine().toCharArray();\n    char[] stringB = scanner.nextLine().toCharArray();\n    scanner.close();\n    char A, B;\n    int length = Math.max(stringA.length, stringB.length);\n    for (int index = 0; index &lt; length; index++) {\n        A = index &lt; stringA.length ? stringA[index] : ' ';\n        B = index &lt; stringB.length ? stringB[index] : ' ';\n        System.out.printf(&quot;%s %s%n&quot;, A, B);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1229964,"reputation":1,"user_id":1194759,"display_name":"xaia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1697555175,"creation_date":1328623037,"question_id":9177525,"body_markdown":"Please help me generate a program that will prompt the user to enter 2 strings and display them vertically. The output must be like this: \r\n\r\n    Enter 1st and 2nd String:\r\n    First\r\n    Second\r\n    \r\n    F  S\r\n    i  e\r\n    r  c\r\n    s  o\r\n    t  n\r\n       d\r\n\r\nThe attempted code:\r\n\r\n    import java.util.Scanner;\r\n    public class MyCode\r\n    {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter a string&quot;);\r\n    \t\tString input = in.nextLine();\r\n    \t\tString input1=in.nextLine();\r\n    \t\tint i =0;\r\n    \t\tint j=0;\r\n    \r\n    \t\tfor(i = 0,j=0; i &lt; input.length()||j&lt;input1.length(); i++,j++) {\r\n    \t\t\tchar letter = input.charAt(i);\r\n    \t\t\tchar letter1=input1.charAt(j);\r\n    \t\t\tSystem.out.println(letter + &quot; &quot;+letter1);\r\n    \t\t}\r\n    \t}\r\n    }","title":"Printing two or more strings in vertical form in java","body":"<p>Please help me generate a program that will prompt the user to enter 2 strings and display them vertically. The output must be like this: </p>\n\n<pre><code>Enter 1st and 2nd String:\nFirst\nSecond\n\nF  S\ni  e\nr  c\ns  o\nt  n\n   d\n</code></pre>\n\n<p>The attempted code:</p>\n\n<pre><code>import java.util.Scanner;\npublic class MyCode\n{\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        System.out.println(\"Enter a string\");\n        String input = in.nextLine();\n        String input1=in.nextLine();\n        int i =0;\n        int j=0;\n\n        for(i = 0,j=0; i &lt; input.length()||j&lt;input1.length(); i++,j++) {\n            char letter = input.charAt(i);\n            char letter1=input1.charAt(j);\n            System.out.println(letter + \" \"+letter1);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","amazon-dynamodb","spring-bean"],"comments":[{"owner":{"account_id":5494862,"reputation":665,"user_id":4366358,"accept_rate":44,"display_name":"OEH"},"score":0,"creation_date":1544528213,"post_id":53723303,"comment_id":94300095,"body_markdown":"Have you tried to annotate AgentRepository with @Component ?","body":"Have you tried to annotate AgentRepository with @Component ?"},{"owner":{"account_id":10227675,"reputation":2181,"user_id":7549615,"accept_rate":65,"display_name":"Vino"},"score":0,"creation_date":1544528393,"post_id":53723303,"comment_id":94300214,"body_markdown":"Previously when I tried I did not use `@Component` annotation to read write from DynamoDB. But nevertheless I tried now as you mentioned and it does not work.","body":"Previously when I tried I did not use <code>@Component</code> annotation to read write from DynamoDB. But nevertheless I tried now as you mentioned and it does not work."},{"owner":{"account_id":5494862,"reputation":665,"user_id":4366358,"accept_rate":44,"display_name":"OEH"},"score":0,"creation_date":1544529038,"post_id":53723303,"comment_id":94300563,"body_markdown":"Regarding your question if the bean is already registered you can print all the bean in the context via using the method getBeanDefinitionNames() of \nApplicationContext object. Via printing them in the console you can see which beans keys are used. There are several example in the web so I won t share it here","body":"Regarding your question if the bean is already registered you can print all the bean in the context via using the method getBeanDefinitionNames() of  ApplicationContext object. Via printing them in the console you can see which beans keys are used. There are several example in the web so I won t share it here"},{"owner":{"account_id":10016972,"reputation":452,"user_id":7407895,"display_name":"venkat"},"score":0,"creation_date":1544529297,"post_id":53723303,"comment_id":94300717,"body_markdown":"Can you please add [@Repository] or [@Service] annotations to your AgentRepository class and try? and also your AgentRepository is an interface, is there any use case to use interface instead of classes.","body":"Can you please add [@Repository] or [@Service] annotations to your AgentRepository class and try? and also your AgentRepository is an interface, is there any use case to use interface instead of classes."},{"owner":{"account_id":4346696,"reputation":3286,"user_id":3548468,"accept_rate":75,"display_name":"kkesley"},"score":0,"creation_date":1566175394,"post_id":53723303,"comment_id":101561516,"body_markdown":"Hi, did you solve this? I just encountered the same problem!","body":"Hi, did you solve this? I just encountered the same problem!"},{"owner":{"account_id":10227675,"reputation":2181,"user_id":7549615,"accept_rate":65,"display_name":"Vino"},"score":0,"creation_date":1566179753,"post_id":53723303,"comment_id":101562093,"body_markdown":"Actually no because I had switch from using DynamoDB. When switched the DB the problem disappeared. But the hacky way to fix it is to add `spring.main.allow-bean-definition-overriding=true` as mentioned in the answers.","body":"Actually no because I had switch from using DynamoDB. When switched the DB the problem disappeared. But the hacky way to fix it is to add <code>spring.main.allow-bean-definition-overriding=true</code> as mentioned in the answers."},{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":0,"creation_date":1581340288,"post_id":53723303,"comment_id":106388128,"body_markdown":"Sadly any other answer address the fact about **why** this problem starts to happen. In the theory the best resolution could start identifying why/how you have two beans.","body":"Sadly any other answer address the fact about <b>why</b> this problem starts to happen. In the theory the best resolution could start identifying why/how you have two beans."}],"answers":[{"comments":[{"owner":{"account_id":10227675,"reputation":2181,"user_id":7549615,"accept_rate":65,"display_name":"Vino"},"score":6,"creation_date":1544529720,"post_id":53723731,"comment_id":94300933,"body_markdown":"Hey thank you for your answer. But may I know why I should override the bean? I am sure I am only creating only one bean of `AgentRepository`. So whats being overridden?","body":"Hey thank you for your answer. But may I know why I should override the bean? I am sure I am only creating only one bean of <code>AgentRepository</code>. So whats being overridden?"},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":3,"creation_date":1544529859,"post_id":53723731,"comment_id":94301021,"body_markdown":"Read that exception that is _not_ what it is complianing about. It is complaining about the `DynamoDBRepositoryFactoryBean` bean.\n\nI assume it is already being registered via the boot application and `@EnableDynamoDBRepositories(basePackageClasses = {AgentRepository.class})` isn&#39;t required.\n\nAlso to whomever downvoted its common to explain why.","body":"Read that exception that is <i>not</i> what it is complianing about. It is complaining about the <code>DynamoDBRepositoryFactoryBean</code> bean.  I assume it is already being registered via the boot application and <code>@EnableDynamoDBRepositories(basePackageClasses = {AgentRepository.class})</code> isn&#39;t required.  Also to whomever downvoted its common to explain why."},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":1,"creation_date":1544530423,"post_id":53723731,"comment_id":94301293,"body_markdown":"Opinion that it&#39;s dirty given it is a feature in Spring Framework, and widely used. Removing the `EnableDynamoDBRepositories(basePackageClasses = {AgentRepository.class})` my resolve it but I don&#39;t have access to a Dynamo setup if I had to guess it may be triggering creation of the bean again but if it doesn&#39;t resolve it I&#39;d raise an issue on and provide an example.","body":"Opinion that it&#39;s dirty given it is a feature in Spring Framework, and widely used. Removing the <code>EnableDynamoDBRepositories(basePackageClasses = {AgentRepository.class})</code> my resolve it but I don&#39;t have access to a Dynamo setup if I had to guess it may be triggering creation of the bean again but if it doesn&#39;t resolve it I&#39;d raise an issue on and provide an example."},{"owner":{"account_id":10227675,"reputation":2181,"user_id":7549615,"accept_rate":65,"display_name":"Vino"},"score":0,"creation_date":1544531794,"post_id":53723731,"comment_id":94302045,"body_markdown":"@DarrenForsythe FYI I tried removing `@EnableDynamoDBRepositories` and removed the overriding property too but the problem still persists. So I think the said annotation is needed regardless.","body":"@DarrenForsythe FYI I tried removing <code>@EnableDynamoDBRepositories</code> and removed the overriding property too but the problem still persists. So I think the said annotation is needed regardless."},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1544532151,"post_id":53723731,"comment_id":94302234,"body_markdown":"I assume that&#39;s a third party lib given the package, I&#39;d reach out to the maintainers with a quick example. Likely was relying on the overriding capabilities","body":"I assume that&#39;s a third party lib given the package, I&#39;d reach out to the maintainers with a quick example. Likely was relying on the overriding capabilities"},{"owner":{"account_id":2800331,"reputation":1729,"user_id":2408683,"accept_rate":67,"display_name":"Shell Scott"},"score":0,"creation_date":1580998976,"post_id":53723731,"comment_id":106289195,"body_markdown":"@DarrenForsythe Forsythe how to tell spring to use that configuration you mentioned, e.g yaml","body":"@DarrenForsythe Forsythe how to tell spring to use that configuration you mentioned, e.g yaml"},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1581118285,"post_id":53723731,"comment_id":106336176,"body_markdown":"@ShellScott that is dependant on if you&#39;re using `application.yml` or not. Spring Externalized configuration documentation can explain the many ways to pass configuration rpoperties","body":"@ShellScott that is dependant on if you&#39;re using <code>application.yml</code> or not. Spring Externalized configuration documentation can explain the many ways to pass configuration rpoperties"},{"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"score":0,"creation_date":1624525284,"post_id":53723731,"comment_id":120384464,"body_markdown":"I believe this is a very risky workaround that could lead to indeterministic behaviour. Better to resolve the underlying issue which is that Spring is trying to create these repositories twice. Most likely caused by misconfiguration or non-compatible versions of spring-data-dynamodb / spring-boot / spring-data","body":"I believe this is a very risky workaround that could lead to indeterministic behaviour. Better to resolve the underlying issue which is that Spring is trying to create these repositories twice. Most likely caused by misconfiguration or non-compatible versions of spring-data-dynamodb / spring-boot / spring-data"}],"tags":[],"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"comment_count":8,"down_vote_count":2,"up_vote_count":173,"is_accepted":true,"score":171,"last_activity_date":1558290461,"creation_date":1544529488,"answer_id":53723731,"question_id":53723303,"body_markdown":"Bean overriding has to be enabled since Spring Boot 2.1,\n\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1-Release-Notes\n\n&gt; Bean Overriding\n&gt;\n&gt;Bean overriding has been disabled by default to prevent a bean being accidentally overridden. If you are relying on overriding, you will need to set spring.main.allow-bean-definition-overriding to true.\n\nSet\n\n    spring.main.allow-bean-definition-overriding=true\n\nor yml,\n\n    spring:\n       main:\n         allow-bean-definition-overriding: true\n    \nto enable overriding again.\n\nEdit, \n\nBean Overriding is based of the name of the bean not its type. e.g.\n\n```\n@Bean\npublic ClassA class(){\n   return new ClassA();\n}\n\n@Bean\npublic ClassB class(){\n   return new ClassB();\n}\n```\n\nWill cause this error in &gt; 2.1, by default bean names are taken from the method name. Renaming the method or adding the `name` attribute to the `Bean` annotation will be a valid fix. \n","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>Bean overriding has to be enabled since Spring Boot 2.1,</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1-Release-Notes\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1-Release-Notes</a></p>\n<blockquote>\n<p>Bean Overriding</p>\n<p>Bean overriding has been disabled by default to prevent a bean being accidentally overridden. If you are relying on overriding, you will need to set spring.main.allow-bean-definition-overriding to true.</p>\n</blockquote>\n<p>Set</p>\n<pre><code>spring.main.allow-bean-definition-overriding=true\n</code></pre>\n<p>or yml,</p>\n<pre><code>spring:\n   main:\n     allow-bean-definition-overriding: true\n</code></pre>\n<p>to enable overriding again.</p>\n<p>Edit,</p>\n<p>Bean Overriding is based of the name of the bean not its type. e.g.</p>\n<pre><code>@Bean\npublic ClassA class(){\n   return new ClassA();\n}\n\n@Bean\npublic ClassB class(){\n   return new ClassB();\n}\n</code></pre>\n<p>Will cause this error in &gt; 2.1, by default bean names are taken from the method name. Renaming the method or adding the <code>name</code> attribute to the <code>Bean</code> annotation will be a valid fix.</p>\n"},{"comments":[{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":2,"creation_date":1581118225,"post_id":60097261,"comment_id":106336163,"body_markdown":"Note that if its a Test bean your solution is pretty much the same, don&#39;t rely on bean naming. rename it, use primary if required to inject it","body":"Note that if its a Test bean your solution is pretty much the same, don&#39;t rely on bean naming. rename it, use primary if required to inject it"},{"owner":{"account_id":14519119,"reputation":456,"user_id":10487253,"display_name":"junior"},"score":0,"creation_date":1622119678,"post_id":60097261,"comment_id":119702816,"body_markdown":"Can you explain why this was necessary?","body":"Can you explain why this was necessary?"},{"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"score":0,"creation_date":1664461060,"post_id":60097261,"comment_id":130481447,"body_markdown":"Yeah this is basically not necessary for a test. If you want to not have this issue you need to make sure your SpringBootTest is not picking up by default the main Application context if you have a specific on for your tests.","body":"Yeah this is basically not necessary for a test. If you want to not have this issue you need to make sure your SpringBootTest is not picking up by default the main Application context if you have a specific on for your tests."}],"tags":[],"owner":{"account_id":2800331,"reputation":1729,"user_id":2408683,"accept_rate":67,"display_name":"Shell Scott"},"comment_count":3,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1580999367,"creation_date":1580999367,"answer_id":60097261,"question_id":53723303,"body_markdown":"Enable bean overriding with such approach for example\r\n\r\n    @SpringBootTest(properties = &quot;spring.main.allow-bean-definition-overriding=true&quot;)\r\n\r\nor \r\n\r\n    @SpringBootApplication (properties = &quot;spring.main.allow-bean-definition-overriding=true&quot;)","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>Enable bean overriding with such approach for example</p>\n\n<pre><code>@SpringBootTest(properties = \"spring.main.allow-bean-definition-overriding=true\")\n</code></pre>\n\n<p>or </p>\n\n<pre><code>@SpringBootApplication (properties = \"spring.main.allow-bean-definition-overriding=true\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"score":1,"creation_date":1624526773,"post_id":61898744,"comment_id":120385127,"body_markdown":"Yeah that fixes the problem but it ties your code to the persistence provider (MongoDB) which defeats the purpose of JPA.","body":"Yeah that fixes the problem but it ties your code to the persistence provider (MongoDB) which defeats the purpose of JPA."},{"owner":{"account_id":16517935,"reputation":678,"user_id":11934850,"display_name":"Sascha Doerdelmann"},"score":0,"creation_date":1624965008,"post_id":61898744,"comment_id":120495730,"body_markdown":"@AhmadAbdelghany, I am aware of that but I simply wanted to provide another option for developers that do not want to change a global option to fix al local problem.","body":"@AhmadAbdelghany, I am aware of that but I simply wanted to provide another option for developers that do not want to change a global option to fix al local problem."}],"tags":[],"owner":{"account_id":16517935,"reputation":678,"user_id":11934850,"display_name":"Sascha Doerdelmann"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1589914870,"creation_date":1589914870,"answer_id":61898744,"question_id":53723303,"body_markdown":"I think I had the same problem with MongoDB. At least the error message looked exactly the same and I also had just one repository for the MongoDB, something like this:\r\n\r\n    public interface MyClassMongoRepository extends MongoRepository&lt;MyClass, Long&gt; {\r\n    }\r\n\r\nThe problem had been caused by class MyClass which had been used in another database before. Spring silently created some JpaRepository before creating the MongoRepository. Both repositories had the same name which caused the conflict.\r\n\r\nSolution was to make a copy of MyClass, move it into the package of the MongoRepository and remove any JPA-specific annotations.","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>I think I had the same problem with MongoDB. At least the error message looked exactly the same and I also had just one repository for the MongoDB, something like this:</p>\n\n<pre><code>public interface MyClassMongoRepository extends MongoRepository&lt;MyClass, Long&gt; {\n}\n</code></pre>\n\n<p>The problem had been caused by class MyClass which had been used in another database before. Spring silently created some JpaRepository before creating the MongoRepository. Both repositories had the same name which caused the conflict.</p>\n\n<p>Solution was to make a copy of MyClass, move it into the package of the MongoRepository and remove any JPA-specific annotations.</p>\n"},{"comments":[{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1627822021,"post_id":62681183,"comment_id":121253587,"body_markdown":"yes, I can confirm that adding an extra @Configuration bean with @EnableJpaRepositories(basePackages = {&quot;A.repository&quot;, &quot;A.common.repository&quot;}), solved the issue in my case (I had Repository objects defined both in my main project (package A.repository), and in an intermediate library referenced by that project (package A.common.repository))","body":"yes, I can confirm that adding an extra @Configuration bean with @EnableJpaRepositories(basePackages = {&quot;A.repository&quot;, &quot;A.common.repository&quot;}), solved the issue in my case (I had Repository objects defined both in my main project (package A.repository), and in an intermediate library referenced by that project (package A.common.repository))"}],"tags":[],"owner":{"account_id":10460077,"reputation":441,"user_id":7711123,"display_name":"leurer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593621706,"creation_date":1593620597,"answer_id":62681183,"question_id":53723303,"body_markdown":"I just stumbled across the same issue while trying to add a PostgreSQL database via spring-data-jdbc to an existing project wich was already using a MongoDB.\r\n\r\nIt seems like the problem was that the repositories for MongoDB and PostgreSQL were scanned by both modules (spring-mongo and spring-jdbc). They both try to create some beans and clash.\r\n\r\nIn my case the MongoDB repositories and the PostgreSQL repositories were in the same package.\r\n\r\nThe accepted answer solved the problem for me -\r\nbut i kind of got a hint from this startup logs:\r\n\r\n```\r\nFinished Spring Data repository scanning in 319ms. Found 4 repository interfaces\r\nFinished Spring Data repository scanning in 319ms. Found 5 repository interfaces\r\n```\r\n\r\nThis is weird because i only have 1 repository for PostgreSQL and 4 for MongoDB. \r\n\r\nI moved the PostgreSQL repository into a different package than the MongoDB repository and configured the base package of the PostgreSQL repositories to the new package.\r\nIn my case:\r\n```\r\n@EnableJdbcRepositories(basePackageClasses = MyOnlyPostgreSQLRepository.class) // TODO: Use the real package or a dedicated base class\r\n```\r\n\r\nThis solved the issue for me (no property set for bean overriding - which i prefer). The startups logs also show the correct amount of repositories now (1 and 4).\r\n\r\n","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>I just stumbled across the same issue while trying to add a PostgreSQL database via spring-data-jdbc to an existing project wich was already using a MongoDB.</p>\n<p>It seems like the problem was that the repositories for MongoDB and PostgreSQL were scanned by both modules (spring-mongo and spring-jdbc). They both try to create some beans and clash.</p>\n<p>In my case the MongoDB repositories and the PostgreSQL repositories were in the same package.</p>\n<p>The accepted answer solved the problem for me -\nbut i kind of got a hint from this startup logs:</p>\n<pre><code>Finished Spring Data repository scanning in 319ms. Found 4 repository interfaces\nFinished Spring Data repository scanning in 319ms. Found 5 repository interfaces\n</code></pre>\n<p>This is weird because i only have 1 repository for PostgreSQL and 4 for MongoDB.</p>\n<p>I moved the PostgreSQL repository into a different package than the MongoDB repository and configured the base package of the PostgreSQL repositories to the new package.\nIn my case:</p>\n<pre><code>@EnableJdbcRepositories(basePackageClasses = MyOnlyPostgreSQLRepository.class) // TODO: Use the real package or a dedicated base class\n</code></pre>\n<p>This solved the issue for me (no property set for bean overriding - which i prefer). The startups logs also show the correct amount of repositories now (1 and 4).</p>\n"},{"tags":[],"owner":{"account_id":1986063,"reputation":391,"user_id":1781257,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621236838,"creation_date":1621236838,"answer_id":67565627,"question_id":53723303,"body_markdown":"In my case was that 2 maven depenencies were defined with the same Bean in it.\r\nI found this when issuing a `mvn dependency:tree` for all my projects.","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>In my case was that 2 maven depenencies were defined with the same Bean in it.\nI found this when issuing a <code>mvn dependency:tree</code> for all my projects.</p>\n"},{"tags":[],"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624526592,"creation_date":1624526592,"answer_id":68113029,"question_id":53723303,"body_markdown":"I came across this same issue, the problem was that multiple repository factories were trying to register all repositories interfaces with them. In my case, it was `JpaRepositoryFactoryBean` &amp; `DynamoDBRepositoryFactoryBean`. As mentioned in other answers, you could see that on the logs indicated by:\r\n\r\n    [INFO] Bootstrapping Spring Data DynamoDB repositories in DEFAULT mode.\r\n    [INFO] Finished Spring Data repository scanning in 64ms. Found 2 DynamoDB repository interfaces.\r\n    [INFO] Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n\r\nSolution is:\r\n1. Make sure you are using compatible versions of spring-data-dynamodb / spring-boot / spring-data by checking the [compatibility matrix][1]\r\n2. Make sure each repository is created only once. In my case, I had to add \r\n\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableAutoConfiguration(exclude = {\r\n       DataSourceAutoConfiguration.class,\r\n       DataSourceTransactionManagerAutoConfiguration.class,\r\n       HibernateJpaAutoConfiguration.class})\r\n```\r\nThe config may differ in different versions and depending on how many repositories you have in your application. It may be helpful to read about [Multi-Repository-configuration][2]\r\n\r\n\r\n  [1]: https://github.com/derjust/spring-data-dynamodb#version--spring-framework-compatibility\r\n  [2]: https://github.com/derjust/spring-data-dynamodb/wiki/Multi-Repository-configuration","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>I came across this same issue, the problem was that multiple repository factories were trying to register all repositories interfaces with them. In my case, it was <code>JpaRepositoryFactoryBean</code> &amp; <code>DynamoDBRepositoryFactoryBean</code>. As mentioned in other answers, you could see that on the logs indicated by:</p>\n<pre><code>[INFO] Bootstrapping Spring Data DynamoDB repositories in DEFAULT mode.\n[INFO] Finished Spring Data repository scanning in 64ms. Found 2 DynamoDB repository interfaces.\n[INFO] Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n</code></pre>\n<p>Solution is:</p>\n<ol>\n<li>Make sure you are using compatible versions of spring-data-dynamodb / spring-boot / spring-data by checking the <a href=\"https://github.com/derjust/spring-data-dynamodb#version--spring-framework-compatibility\" rel=\"nofollow noreferrer\">compatibility matrix</a></li>\n<li>Make sure each repository is created only once. In my case, I had to add</li>\n</ol>\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration(exclude = {\n       DataSourceAutoConfiguration.class,\n       DataSourceTransactionManagerAutoConfiguration.class,\n       HibernateJpaAutoConfiguration.class})\n</code></pre>\n<p>The config may differ in different versions and depending on how many repositories you have in your application. It may be helpful to read about <a href=\"https://github.com/derjust/spring-data-dynamodb/wiki/Multi-Repository-configuration\" rel=\"nofollow noreferrer\">Multi-Repository-configuration</a></p>\n"},{"tags":[],"owner":{"account_id":25850661,"reputation":11,"user_id":19584699,"display_name":"Debabrata Das"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658298008,"creation_date":1658298008,"answer_id":73046790,"question_id":53723303,"body_markdown":"you can use \r\nspring.main.allow-bean-definition-overriding=true in application.properties file \r\n\r\nor \r\n\r\nuse @SpringBootApplication (properties = &quot;spring.main.allow-bean-definition-overriding=true&quot;)","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>you can use\nspring.main.allow-bean-definition-overriding=true in application.properties file</p>\n<p>or</p>\n<p>use @SpringBootApplication (properties = &quot;spring.main.allow-bean-definition-overriding=true&quot;)</p>\n"},{"tags":[],"owner":{"account_id":3244972,"reputation":1535,"user_id":2736818,"accept_rate":86,"display_name":"Jithin U. Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675927537,"creation_date":1675927537,"answer_id":75395414,"question_id":53723303,"body_markdown":"This error message is indicating that you have multiple bean definitions with the same name defined in your application. In Spring framework, each bean must have a unique name within the application context.\r\n\r\n\r\nTo resolve this issue, you should rename one of the classes or its bean definition, so that each bean definition has a unique name. You can do this by using the &quot;name&quot; attribute in the @Component, @Repository, or @Service annotations.","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>This error message is indicating that you have multiple bean definitions with the same name defined in your application. In Spring framework, each bean must have a unique name within the application context.</p>\n<p>To resolve this issue, you should rename one of the classes or its bean definition, so that each bean definition has a unique name. You can do this by using the &quot;name&quot; attribute in the @Component, @Repository, or @Service annotations.</p>\n"}],"owner":{"account_id":10227675,"reputation":2181,"user_id":7549615,"accept_rate":65,"display_name":"Vino"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152877,"favorite_count":0,"down_vote_count":0,"up_vote_count":103,"accepted_answer_id":53723731,"answer_count":8,"score":103,"last_activity_date":1697554628,"creation_date":1544528023,"question_id":53723303,"body_markdown":"I am trying to setup DynamoDB locally with Spring Boot. Initially I got the setup working and was able to write/save to DynamoDB via a repository. From that point I added more classes to build my application. Now when I try to start my application, I get the following exception:\r\n\r\n&gt; `org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name &#39;agentRepository&#39; defined in null: Cannot register bean definition [Root bean: class [org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] for bean &#39;agentRepository&#39;: There is already [Root bean: class [org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] bound.`\r\n\r\nI have searched SO and internet extensively but there were no any useful solution to this. The error message is misleading as well.\r\n\r\nMy project is of the following hierarchy\r\n\r\n    ai.test.as\r\n      - as\r\n          - agent\r\n              - business\r\n              - intent\r\n              - exception\r\n              - Agent.java\r\n              - AgentDTO.java\r\n              - AgentRespository.java\r\n              - AgentController.java\r\n              - AgentService.java\r\n              - AgentServiceImpl.java\r\n      - config\r\n         - DynamoDBConfig.java\r\n\r\nDynamoDBConfig.java\r\n\r\n    package ai.test.as.config;\r\n    \r\n    import ai.test.as.agent.AgentRepository;\r\n    import ai.test.as.agent.intent.template.TemplateRepository;\r\n    import com.amazonaws.auth.AWSCredentials;\r\n    import com.amazonaws.auth.BasicAWSCredentials;\r\n    import com.amazonaws.services.dynamodbv2.AmazonDynamoDB;\r\n    import com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient;\r\n    import org.socialsignin.spring.data.dynamodb.repository.config.EnableDynamoDBRepositories;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    @EnableDynamoDBRepositories(basePackageClasses = {AgentRepository.class})\r\n    public class DynamoDBConfig\r\n    {\r\n        @Value(&quot;${aws.dynamodb.endpoint}&quot;)\r\n        private String dynamoDBEndpoint;\r\n    \r\n        @Value(&quot;${aws.auth.accesskey}&quot;)\r\n        private String awsAccessKey;\r\n    \r\n        @Value(&quot;${aws.auth.secretkey}&quot;)\r\n        private String awsSecretKey;\r\n    \r\n        @Bean\r\n        public AmazonDynamoDB amazonDynamoDB()\r\n        {\r\n            AmazonDynamoDB dynamoDB = new AmazonDynamoDBClient(getAwsCredentials());\r\n            dynamoDB.setEndpoint(dynamoDBEndpoint);\r\n    \r\n            return dynamoDB;\r\n        }\r\n    \r\n        @Bean\r\n        public AWSCredentials getAwsCredentials()\r\n        {\r\n            return new BasicAWSCredentials(awsAccessKey, awsSecretKey);\r\n        }\r\n    }\r\n\r\nAgentRepository.java\r\n\r\n    package ai.test.as.agent;\r\n    \r\n    import ai.test.as.agent.Agent;\r\n    import org.socialsignin.spring.data.dynamodb.repository.EnableScan;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    \r\n    @EnableScan\r\n    public interface AgentRepository extends CrudRepository&lt;Agent, String&gt;\r\n    {\r\n    }\r\n\r\nAgentController.java (Where AgentRepository is used)\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/v1/agents&quot;)\r\n    public class AgentController\r\n    {\r\n        @Autowired\r\n        private AgentRepository agentRepository;\r\n    \r\n        @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)\r\n        public void test()\r\n        {\r\n            Agent agent = new Agent();\r\n            agent.setAgentNumber(&quot;123456&quot;);\r\n            agent.setId(1);\r\n    \r\n            agentRepository.save(agent);\r\n        }\r\n    }\r\n\r\n Spring suggests the following:\r\n`&gt; The bean &#39;agentRepository&#39;, defined in null, could not be registered. A bean with that name has already been defined in null and overriding is disabled`.\r\n\r\nWhat does `null` mean here? Is it because something wrong in my application config? Also how is it possible that it is already registered?\r\n\r\nPlease give me some pointers because I so confused about my next steps.\r\n","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>I am trying to setup DynamoDB locally with Spring Boot. Initially I got the setup working and was able to write/save to DynamoDB via a repository. From that point I added more classes to build my application. Now when I try to start my application, I get the following exception:</p>\n\n<blockquote>\n  <p><code>org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'agentRepository' defined in null: Cannot register bean definition [Root bean: class [org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] for bean 'agentRepository': There is already [Root bean: class [org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] bound.</code></p>\n</blockquote>\n\n<p>I have searched SO and internet extensively but there were no any useful solution to this. The error message is misleading as well.</p>\n\n<p>My project is of the following hierarchy</p>\n\n<pre><code>ai.test.as\n  - as\n      - agent\n          - business\n          - intent\n          - exception\n          - Agent.java\n          - AgentDTO.java\n          - AgentRespository.java\n          - AgentController.java\n          - AgentService.java\n          - AgentServiceImpl.java\n  - config\n     - DynamoDBConfig.java\n</code></pre>\n\n<p>DynamoDBConfig.java</p>\n\n<pre><code>package ai.test.as.config;\n\nimport ai.test.as.agent.AgentRepository;\nimport ai.test.as.agent.intent.template.TemplateRepository;\nimport com.amazonaws.auth.AWSCredentials;\nimport com.amazonaws.auth.BasicAWSCredentials;\nimport com.amazonaws.services.dynamodbv2.AmazonDynamoDB;\nimport com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient;\nimport org.socialsignin.spring.data.dynamodb.repository.config.EnableDynamoDBRepositories;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@EnableDynamoDBRepositories(basePackageClasses = {AgentRepository.class})\npublic class DynamoDBConfig\n{\n    @Value(\"${aws.dynamodb.endpoint}\")\n    private String dynamoDBEndpoint;\n\n    @Value(\"${aws.auth.accesskey}\")\n    private String awsAccessKey;\n\n    @Value(\"${aws.auth.secretkey}\")\n    private String awsSecretKey;\n\n    @Bean\n    public AmazonDynamoDB amazonDynamoDB()\n    {\n        AmazonDynamoDB dynamoDB = new AmazonDynamoDBClient(getAwsCredentials());\n        dynamoDB.setEndpoint(dynamoDBEndpoint);\n\n        return dynamoDB;\n    }\n\n    @Bean\n    public AWSCredentials getAwsCredentials()\n    {\n        return new BasicAWSCredentials(awsAccessKey, awsSecretKey);\n    }\n}\n</code></pre>\n\n<p>AgentRepository.java</p>\n\n<pre><code>package ai.test.as.agent;\n\nimport ai.test.as.agent.Agent;\nimport org.socialsignin.spring.data.dynamodb.repository.EnableScan;\nimport org.springframework.data.repository.CrudRepository;\n\n@EnableScan\npublic interface AgentRepository extends CrudRepository&lt;Agent, String&gt;\n{\n}\n</code></pre>\n\n<p>AgentController.java (Where AgentRepository is used)</p>\n\n<pre><code>@RestController\n@RequestMapping(value = \"/v1/agents\")\npublic class AgentController\n{\n    @Autowired\n    private AgentRepository agentRepository;\n\n    @RequestMapping(value = \"/test\", method = RequestMethod.POST)\n    public void test()\n    {\n        Agent agent = new Agent();\n        agent.setAgentNumber(\"123456\");\n        agent.setId(1);\n\n        agentRepository.save(agent);\n    }\n}\n</code></pre>\n\n<p>Spring suggests the following:\n<code>&gt; The bean 'agentRepository', defined in null, could not be registered. A bean with that name has already been defined in null and overriding is disabled</code>.</p>\n\n<p>What does <code>null</code> mean here? Is it because something wrong in my application config? Also how is it possible that it is already registered?</p>\n\n<p>Please give me some pointers because I so confused about my next steps.</p>\n"},{"tags":["java","sql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":1156684,"reputation":2981,"user_id":1137103,"accept_rate":88,"display_name":"Behnam Safari"},"score":1,"creation_date":1697542427,"post_id":77308567,"comment_id":136290385,"body_markdown":"try `@GeneratedValue(strategy = GenerationType.IDENTITY)` but we need more details on code, annotations you use and errors you get","body":"try <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> but we need more details on code, annotations you use and errors you get"},{"owner":{"account_id":29313159,"reputation":193,"user_id":22458461,"display_name":"fforfabio"},"score":0,"creation_date":1697543873,"post_id":77308567,"comment_id":136290663,"body_markdown":"Could you update your question inserting EntityA? Just to have more details.","body":"Could you update your question inserting EntityA? Just to have more details."}],"owner":{"account_id":2852205,"reputation":891,"user_id":2449161,"accept_rate":80,"display_name":"2dor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697554451,"creation_date":1697541691,"question_id":77308567,"body_markdown":"I have a table A that has `id` defined as the following:\r\n````\r\n    id BIGINT NOT NULL CONSTRAINT PK_table_A PRIMARY KEY \r\n       DEFAULT (NEXT VALUE FOR sequence_table_a),\r\n````\r\nI can not change this. In my Spring Boot application if I put `EntityA` with generated value or sequence generator on id, then Hibernate will not let me persist the new objects because SQL definition sees that I am trying to manually add id.  \r\nThe _exception_ is \r\n````\r\nSQL Error: 544, SQLState: S0001\r\n2023-10-17 14:21:56.531 ERROR 35652 --- [   scheduling-1]\r\n    o.h.engine.jdbc.spi.SqlExceptionHelper   : \r\n    Cannot insert explicit value for identity column in table &#39;table_a&#39; \r\n    when IDENTITY_INSERT is set to OFF.\r\n````\r\nIf I remove the generated sequence annotations and just let `@Id`, Hibernate tells me that I need to manually set values (it does not see the default setting on the table).  \r\n\r\nHow do I fix this? ","title":"How to disable Hibernate checking for id value","body":"<p>I have a table A that has <code>id</code> defined as the following:</p>\n<pre><code>    id BIGINT NOT NULL CONSTRAINT PK_table_A PRIMARY KEY \n       DEFAULT (NEXT VALUE FOR sequence_table_a),\n</code></pre>\n<p>I can not change this. In my Spring Boot application if I put <code>EntityA</code> with generated value or sequence generator on id, then Hibernate will not let me persist the new objects because SQL definition sees that I am trying to manually add id.<br />\nThe <em>exception</em> is</p>\n<pre><code>SQL Error: 544, SQLState: S0001\n2023-10-17 14:21:56.531 ERROR 35652 --- [   scheduling-1]\n    o.h.engine.jdbc.spi.SqlExceptionHelper   : \n    Cannot insert explicit value for identity column in table 'table_a' \n    when IDENTITY_INSERT is set to OFF.\n</code></pre>\n<p>If I remove the generated sequence annotations and just let <code>@Id</code>, Hibernate tells me that I need to manually set values (it does not see the default setting on the table).</p>\n<p>How do I fix this?</p>\n"},{"tags":["java","spring-boot","jms","activemq-artemis","messagebroker"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":1,"creation_date":1697550011,"post_id":77308814,"comment_id":136291969,"body_markdown":"What you&#39;re seeing is the expected behavior. See related questions [here](https://stackoverflow.com/questions/59089777/jms-message-lost-when-receiver-is-not-available) and [here](https://stackoverflow.com/questions/21073479/activemq-with-jms-topic-some-messages-not-dequeued-by-consumer) and [here](https://stackoverflow.com/questions/12114462/dropping-messages-when-listening-to-a-jms-topic).","body":"What you&#39;re seeing is the expected behavior. See related questions <a href=\"https://stackoverflow.com/questions/59089777/jms-message-lost-when-receiver-is-not-available\">here</a> and <a href=\"https://stackoverflow.com/questions/21073479/activemq-with-jms-topic-some-messages-not-dequeued-by-consumer\">here</a> and <a href=\"https://stackoverflow.com/questions/12114462/dropping-messages-when-listening-to-a-jms-topic\">here</a>."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":1,"creation_date":1697561768,"post_id":77308814,"comment_id":136294329,"body_markdown":"If your subscriber is active then when a message is sent to the topic it will be immediately dispatched to the subscriber and consumed which means you won&#39;t see it on the broker&#39;s web console. If you disable the subscriber, as you did with the queue, then the message will simply be discarded in accordance with JMS topic (i.e. pub/sub) semantics. Therefore, either way you won&#39;t be able to see the message via the broker&#39;s web console unless you configure something like a non-exclusive divert like Domenico mentioned in his answer. Again, as far as I can tell, you&#39;re seeing the expected behavior.","body":"If your subscriber is active then when a message is sent to the topic it will be immediately dispatched to the subscriber and consumed which means you won&#39;t see it on the broker&#39;s web console. If you disable the subscriber, as you did with the queue, then the message will simply be discarded in accordance with JMS topic (i.e. pub/sub) semantics. Therefore, either way you won&#39;t be able to see the message via the broker&#39;s web console unless you configure something like a non-exclusive divert like Domenico mentioned in his answer. Again, as far as I can tell, you&#39;re seeing the expected behavior."}],"answers":[{"tags":[],"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697552532,"creation_date":1697546865,"answer_id":77309135,"question_id":77308814,"body_markdown":"The property `spring.jms.pub-sub-domain` configure how JmsTemplate and JmsMessageListenerContainer work, see the [doc][1].\r\n\r\nWhen `spring.jms.pub-sub-domain= false` the destination is a JMS Queue so any sent messages can be received at any time.\r\n\r\nWhen `spring.jms.pub-sub-domain= true` the destination is a JMS Topic so any sent messages can be received only from the current subscribers. This explains why you don&#39;t see the messages on the console if there are no subscribers.\r\n\r\nWhen a messages is received by client it is removed from the server queue. You could use a [non exclusive divert][2] to send a copy of a message to another address when it is received.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/messaging-jms/\r\n  [2]: https://activemq.apache.org/components/artemis/documentation/latest/diverts.html#non-exclusive-divert","title":"Cannot see Pub/Sub message on ActiveMQ Artemis console","body":"<p>The property <code>spring.jms.pub-sub-domain</code> configure how JmsTemplate and JmsMessageListenerContainer work, see the <a href=\"https://spring.io/guides/gs/messaging-jms/\" rel=\"nofollow noreferrer\">doc</a>.</p>\n<p>When <code>spring.jms.pub-sub-domain= false</code> the destination is a JMS Queue so any sent messages can be received at any time.</p>\n<p>When <code>spring.jms.pub-sub-domain= true</code> the destination is a JMS Topic so any sent messages can be received only from the current subscribers. This explains why you don't see the messages on the console if there are no subscribers.</p>\n<p>When a messages is received by client it is removed from the server queue. You could use a <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/diverts.html#non-exclusive-divert\" rel=\"nofollow noreferrer\">non exclusive divert</a> to send a copy of a message to another address when it is received.</p>\n"}],"owner":{"account_id":14711026,"reputation":633,"user_id":10624378,"display_name":"CoderJammer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77309135,"answer_count":1,"score":0,"last_activity_date":1697553872,"creation_date":1697544085,"question_id":77308814,"body_markdown":"I&#39;m studying JMS using the book *Spring Boot Messaging* by Felipe Gutierrez (2017).\r\n\r\nIt illustrates several patterns about message driven programming but, arriving at brokers, it explain Java / Spring Boot messaging with Apache ActiveMQ.\r\n\r\nIt says that the code explained will work with any other broker so I installed ActiveMQ Artemis.\r\n\r\nI have a very simpe source code, the *config*:\r\n```java\r\n@Configuration\r\npublic class JmsConfig {\r\n\r\n  @Bean\r\n  public MessageConverter jacksonJmsMessageConverter() {\r\n    MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n    converter.setTargetType(MessageType.TEXT);\r\n    converter.setTypeIdPropertyName(&quot;_class_&quot;); // This value can be anything, it will save the JSON class name and it must be the same for sender/receiver\r\n    return converter;\r\n  }\r\n}\r\n```\r\na *Sender* class:\r\n```java\r\n@Component\r\npublic class Sender  {\r\n\r\n  private final JmsTemplate jmsTemplate;\r\n\r\n  public Sender(JmsTemplate jmsTemplate){\r\n    this.jmsTemplate = jmsTemplate;\r\n  }\r\n\r\n  public void sendMessage(String destination, String message){\r\n    this.jmsTemplate.convertAndSend(&quot;test-destination&quot;, message);\r\n  } \r\n}\r\n```\r\nand a *Receiver*:\r\n```java\r\n....\r\n@JmsListener(destination = &quot;test-destinaton&quot;)\r\npublic void consumeTopicOne(String message) {\r\n  log.info(&quot;Received Message Queue/Topic1: &quot; + message);\r\n}\r\n....\r\n```\r\nThe `application.properties` file is as follows:\r\n```\r\nspring.artemis.mode=native\r\nspring.artemis.embedded.enabled=false\r\nspring.artemis.broker-url=tcp://localhost:61616\r\nspring.artemis.user=admin\r\nspring.artemis.password=admin\r\n\r\nspring.jms.pub-sub-domain=false\r\n```\r\nN.B.: The main class doesn&#39;t have the `@EnableJms` annotation.\r\n\r\nNow, I manage to send a message using &quot;point to point&quot; pattern (queue) and see it in my console **just if I commented out the receiver**:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf I click on message count I can see the text (with also other option). But if I try to switch to Publisher/Subscriber method, setting true this property (according to the book):\r\n```\r\nspring.jms.pub-sub-domain=true\r\n```\r\nThe application runs fine and the message will be sent and received but there is no way for me to see it on the console! Even if I commented out the receiver (as I did for the queue) I still cant see the message sent.\r\n\r\nTherefore, speaking about the *queue*: why I see the message only if it isn&#39;t received yet? It may be useful to have a history of sent messages..\r\n\r\nSpeaking about the *Pub/Sub*: Why I can&#39;t see nothing on my consolle regardless of whether the message is consumed or not?\r\n \r\nAbout the book.. maybe I have to change it?\r\n\r\n\r\n----------------------------------------------------\r\nThanks for all your replies.\r\n\r\nI check the discussions @justin-bertram posted to me and I read:\r\n\r\n&gt; Since you&#39;re sending your message to a JMS topic you will be subject\r\n&gt; to publish/subscribe semantics. Publish/subscribe semantics dictate\r\n&gt; that messages are only placed in valid subscriptions. When your\r\n&gt; subscriber is offline it has no valid subscription on the broker to\r\n&gt; receive the messages therefore it will miss the messages sent to it\r\n&gt; when it is offline.\r\n&gt; \r\n&gt; You can use a durable subscriber to receive messages when the\r\n&gt; subscriber is offline\r\n\r\nIsn&#39;t this a valid subscription:\r\n\r\n    @JmsListener(destination = &quot;test-destinaton&quot;)\r\n    public void consumeTopicOne(String message) {\r\n       log.info(&quot;Received Message Queue/Topic1: &quot; + message);\r\n    }\r\n\r\nThe example is taken directly from the book and I found others quite clear and very similar to mine, [here][2] for example.\r\n\r\nI will try with a client server architecture but It seems quite strange that I can&#39;t put (for example purpose) Publisher and Subscribers in same project.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FxOxi.jpg\r\n  [2]: https://gist.github.com/NrktSLL/76132a04d05ceeb567977315a35bf788","title":"Cannot see Pub/Sub message on ActiveMQ Artemis console","body":"<p>I'm studying JMS using the book <em>Spring Boot Messaging</em> by Felipe Gutierrez (2017).</p>\n<p>It illustrates several patterns about message driven programming but, arriving at brokers, it explain Java / Spring Boot messaging with Apache ActiveMQ.</p>\n<p>It says that the code explained will work with any other broker so I installed ActiveMQ Artemis.</p>\n<p>I have a very simpe source code, the <em>config</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JmsConfig {\n\n  @Bean\n  public MessageConverter jacksonJmsMessageConverter() {\n    MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n    converter.setTargetType(MessageType.TEXT);\n    converter.setTypeIdPropertyName(&quot;_class_&quot;); // This value can be anything, it will save the JSON class name and it must be the same for sender/receiver\n    return converter;\n  }\n}\n</code></pre>\n<p>a <em>Sender</em> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Sender  {\n\n  private final JmsTemplate jmsTemplate;\n\n  public Sender(JmsTemplate jmsTemplate){\n    this.jmsTemplate = jmsTemplate;\n  }\n\n  public void sendMessage(String destination, String message){\n    this.jmsTemplate.convertAndSend(&quot;test-destination&quot;, message);\n  } \n}\n</code></pre>\n<p>and a <em>Receiver</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>....\n@JmsListener(destination = &quot;test-destinaton&quot;)\npublic void consumeTopicOne(String message) {\n  log.info(&quot;Received Message Queue/Topic1: &quot; + message);\n}\n....\n</code></pre>\n<p>The <code>application.properties</code> file is as follows:</p>\n<pre><code>spring.artemis.mode=native\nspring.artemis.embedded.enabled=false\nspring.artemis.broker-url=tcp://localhost:61616\nspring.artemis.user=admin\nspring.artemis.password=admin\n\nspring.jms.pub-sub-domain=false\n</code></pre>\n<p>N.B.: The main class doesn't have the <code>@EnableJms</code> annotation.</p>\n<p>Now, I manage to send a message using &quot;point to point&quot; pattern (queue) and see it in my console <strong>just if I commented out the receiver</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/FxOxi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FxOxi.jpg\" alt=\"enter image description here\" /></a></p>\n<p>If I click on message count I can see the text (with also other option). But if I try to switch to Publisher/Subscriber method, setting true this property (according to the book):</p>\n<pre><code>spring.jms.pub-sub-domain=true\n</code></pre>\n<p>The application runs fine and the message will be sent and received but there is no way for me to see it on the console! Even if I commented out the receiver (as I did for the queue) I still cant see the message sent.</p>\n<p>Therefore, speaking about the <em>queue</em>: why I see the message only if it isn't received yet? It may be useful to have a history of sent messages..</p>\n<p>Speaking about the <em>Pub/Sub</em>: Why I can't see nothing on my consolle regardless of whether the message is consumed or not?</p>\n<p>About the book.. maybe I have to change it?</p>\n<hr />\n<p>Thanks for all your replies.</p>\n<p>I check the discussions @justin-bertram posted to me and I read:</p>\n<blockquote>\n<p>Since you're sending your message to a JMS topic you will be subject\nto publish/subscribe semantics. Publish/subscribe semantics dictate\nthat messages are only placed in valid subscriptions. When your\nsubscriber is offline it has no valid subscription on the broker to\nreceive the messages therefore it will miss the messages sent to it\nwhen it is offline.</p>\n<p>You can use a durable subscriber to receive messages when the\nsubscriber is offline</p>\n</blockquote>\n<p>Isn't this a valid subscription:</p>\n<pre><code>@JmsListener(destination = &quot;test-destinaton&quot;)\npublic void consumeTopicOne(String message) {\n   log.info(&quot;Received Message Queue/Topic1: &quot; + message);\n}\n</code></pre>\n<p>The example is taken directly from the book and I found others quite clear and very similar to mine, <a href=\"https://gist.github.com/NrktSLL/76132a04d05ceeb567977315a35bf788\" rel=\"nofollow noreferrer\">here</a> for example.</p>\n<p>I will try with a client server architecture but It seems quite strange that I can't put (for example purpose) Publisher and Subscribers in same project.</p>\n"},{"tags":["java","url","uri","sftp","apache-commons-vfs"],"comments":[{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":2,"creation_date":1428588861,"post_id":29539422,"comment_id":47233768,"body_markdown":"Does your password contain any symbols?","body":"Does your password contain any symbols?"},{"owner":{"account_id":5765761,"reputation":91,"user_id":4550775,"display_name":"Karan Patel"},"score":2,"creation_date":1428656600,"post_id":29539422,"comment_id":47265098,"body_markdown":"Yes it contain special character @","body":"Yes it contain special character @"}],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1566831388,"creation_date":1428667807,"answer_id":29561086,"question_id":29539422,"body_markdown":"If your password contains `@`, the URL parser considers it a userinfo/hostname separator. It then scans for a hostname, stopping on the next `@`, which separates the actual hostname. Next it checks that the first character after the hostname is `/`, what it is not, as it is `@`. The logic does not make much sense to me, but explains the confusing error message\r\n\r\n&gt; Expecting / to follow the hostname in URI\r\n\r\nBut in any case, even if the logic was better, you cannot have a literal `@` in your password or username. You have to URL-encode it to `%40`.\r\n\r\nIf your username/password is variable, you should better encode it generically using the [`UriParser.encode`](https://commons.apache.org/proper/commons-vfs/commons-vfs2/apidocs/org/apache/commons/vfs2/provider/UriParser.html#encode-java.lang.String-):\r\n\r\n    public static String encode(String decodedStr)\r\n\r\nNote that the comment in the documentation is wrong. It says the method *&quot;Removes %nn encodings from a string.&quot;*, while it actually adds them.","title":"&quot;Expecting / to follow the hostname in URI&quot; exception when password contains @","body":"<p>If your password contains <code>@</code>, the URL parser considers it a userinfo/hostname separator. It then scans for a hostname, stopping on the next <code>@</code>, which separates the actual hostname. Next it checks that the first character after the hostname is <code>/</code>, what it is not, as it is <code>@</code>. The logic does not make much sense to me, but explains the confusing error message</p>\n\n<blockquote>\n  <p>Expecting / to follow the hostname in URI</p>\n</blockquote>\n\n<p>But in any case, even if the logic was better, you cannot have a literal <code>@</code> in your password or username. You have to URL-encode it to <code>%40</code>.</p>\n\n<p>If your username/password is variable, you should better encode it generically using the <a href=\"https://commons.apache.org/proper/commons-vfs/commons-vfs2/apidocs/org/apache/commons/vfs2/provider/UriParser.html#encode-java.lang.String-\" rel=\"nofollow noreferrer\"><code>UriParser.encode</code></a>:</p>\n\n<pre><code>public static String encode(String decodedStr)\n</code></pre>\n\n<p>Note that the comment in the documentation is wrong. It says the method <em>\"Removes %nn encodings from a string.\"</em>, while it actually adds them.</p>\n"},{"tags":[],"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1428690454,"creation_date":1428690454,"answer_id":29568361,"question_id":29539422,"body_markdown":"As @martin-prikryl&#39;s answer states, certain characters can&#39;t appear in their raw form in the username and password fields, or else they will make the URI invalid.\r\n\r\nThe root cause here is that you&#39;re using simple string concatenation to construct the URI:\r\n\r\n    String sftpUri= &quot;sftp://&quot; + userId + &quot;:&quot; + password + &quot;@&quot; + serverAddress + &quot;/&quot;\r\n    + remoteDirectory+ fileToFTP;\r\n\r\nJava has [URI][1] and [URL][2] classes which can be used to construct URIs and URLs from individual fields. They will handle encoding each field properly. You should use one of them instead of rolling your own logic:\r\n\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    \r\n    public class URITest {\r\n    \r\n        public static void main(String[] args) throws URISyntaxException {\r\n            String user = &quot;user&quot;;\r\n            String passwd = &quot;p@ss/ord&quot;;\r\n            String host = &quot;example.com&quot;;\r\n            String path = &quot;/some/path&quot;;\r\n            \r\n            String userInfo = user + &quot;:&quot; + passwd;\r\n            URI uri = new URI(&quot;sftp&quot;, userInfo, host, -1,\r\n                    path, null, null);\r\n            System.out.println(uri.toString());\r\n        }\r\n    }\r\n\r\nThis prints:\r\n\r\n    sftp://user:p%40ss%2Ford@example.com/some/path\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/URI.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/net/URL.html","title":"&quot;Expecting / to follow the hostname in URI&quot; exception when password contains @","body":"<p>As @martin-prikryl's answer states, certain characters can't appear in their raw form in the username and password fields, or else they will make the URI invalid.</p>\n\n<p>The root cause here is that you're using simple string concatenation to construct the URI:</p>\n\n<pre><code>String sftpUri= \"sftp://\" + userId + \":\" + password + \"@\" + serverAddress + \"/\"\n+ remoteDirectory+ fileToFTP;\n</code></pre>\n\n<p>Java has <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/URI.html\" rel=\"noreferrer\">URI</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/URL.html\" rel=\"noreferrer\">URL</a> classes which can be used to construct URIs and URLs from individual fields. They will handle encoding each field properly. You should use one of them instead of rolling your own logic:</p>\n\n<pre><code>import java.net.URI;\nimport java.net.URISyntaxException;\n\npublic class URITest {\n\n    public static void main(String[] args) throws URISyntaxException {\n        String user = \"user\";\n        String passwd = \"p@ss/ord\";\n        String host = \"example.com\";\n        String path = \"/some/path\";\n\n        String userInfo = user + \":\" + passwd;\n        URI uri = new URI(\"sftp\", userInfo, host, -1,\n                path, null, null);\n        System.out.println(uri.toString());\n    }\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>sftp://user:p%40ss%2Ford@example.com/some/path\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20207745,"reputation":1,"user_id":14821651,"display_name":"Muthamilselvan V"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697553810,"creation_date":1697483808,"answer_id":77304457,"question_id":29539422,"body_markdown":"I got this error while trying to connect file connector in *WSO2 EI 6.6.0*. \r\nFirst I tried the below one and got the error\r\n\r\n```json\r\n{\r\n    &quot;source&quot;: &quot;ftp://username:Pass@word@host/home/In/Test.pdf&quot;\r\n}\r\n```\r\n\r\nThen I passed `@` as `%40` in password then it is working fine. And the issue is because of `@` is also using to separate hostname so if we pass `@` in password this is taking as host separator\r\n\r\nPlease use like the below:\r\n\r\n```json\r\n{ \r\n    &quot;source&quot;: &quot;ftp://username:Pass%40word@host/home/In/Test.pdf&quot;\r\n}\r\n```","title":"&quot;Expecting / to follow the hostname in URI&quot; exception when password contains @","body":"<p>I got this error while trying to connect file connector in <em>WSO2 EI 6.6.0</em>.\nFirst I tried the below one and got the error</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;source&quot;: &quot;ftp://username:Pass@word@host/home/In/Test.pdf&quot;\n}\n</code></pre>\n<p>Then I passed <code>@</code> as <code>%40</code> in password then it is working fine. And the issue is because of <code>@</code> is also using to separate hostname so if we pass <code>@</code> in password this is taking as host separator</p>\n<p>Please use like the below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ \n    &quot;source&quot;: &quot;ftp://username:Pass%40word@host/home/In/Test.pdf&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":5765761,"reputation":91,"user_id":4550775,"display_name":"Karan Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9045,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1697553810,"creation_date":1428584976,"question_id":29539422,"body_markdown":"I am trying to copy local system file to server\r\n\r\n    package classes;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.InputStream;\r\n    import java.util.Properties;\r\n    import org.apache.commons.vfs.FileObject;\r\n    import org.apache.commons.vfs.FileSystemOptions;\r\n    import org.apache.commons.vfs.Selectors;\r\n    import org.apache.commons.vfs.impl.StandardFileSystemManager;\r\n    import org.apache.commons.vfs.provider.sftp.SftpFileSystemConfigBuilder;\r\n    public class SendMyFiles {\r\n     public static void main(String[] args) {\r\n      SendMyFiles sendMyFiles = new SendMyFiles();\r\n      String fileToFTP = &quot;zcol_30092013.xls&quot;;\r\n      sendMyFiles.startFTP(fileToFTP);\r\n     }\r\n     public boolean startFTP(String fileToFTP){\r\n      Properties prop = new Properties();\r\n      InputStream in = getClass().getResourceAsStream(&quot;/config.properties&quot;);\r\n      StandardFileSystemManager manager = new StandardFileSystemManager();\r\n      try {\r\n       prop.load(in);\r\n       String serverAddress = prop.getProperty(&quot;serverAddress&quot;).trim();\r\n       String userId = prop.getProperty(&quot;userId&quot;).trim();\r\n       String password = prop.getProperty(&quot;password&quot;).trim();\r\n       String remoteDirectory = prop.getProperty(&quot;remoteDirectory&quot;).trim();\r\n       String localDirectory = prop.getProperty(&quot;localDirectory&quot;).trim();\r\n       System.out.println(&quot;Cheking values &quot;+serverAddress+&quot; &quot;+userId+&quot; &quot;+password+&quot; &quot;+remoteDirectory+&quot; &quot;+localDirectory);\r\n       //check if the file exists\r\n       String filepath = localDirectory;\r\n       System.out.println(&quot;filepath &quot;+filepath);\r\n       File file = new File(filepath);\r\n       System.out.println(file+&quot; &quot;+file.exists());\r\n       if (!file.exists())\r\n        throw new RuntimeException(&quot;Error. Local file not found&quot;);\r\n       //Initializes the file manager\r\n       manager.init();\r\n       //Setup our SFTP configuration\r\n       FileSystemOptions opts = new FileSystemOptions();\r\n       SftpFileSystemConfigBuilder.getInstance().setStrictHostKeyChecking(\r\n         opts, &quot;no&quot;);\r\n       SftpFileSystemConfigBuilder.getInstance().setUserDirIsRoot(opts, true);\r\n       SftpFileSystemConfigBuilder.getInstance().setTimeout(opts, 10000);\r\n       //Create the SFTP URI using the host name, userid, password,  remote path and file name\r\n        String sftpUri= &quot;sftp://&quot; + userId + &quot;:&quot; + password + &quot;@&quot; + serverAddress + &quot;/&quot;\r\n        + remoteDirectory+ fileToFTP;\r\n       // Create local file object\r\n        System.out.println(&quot;sftp uri &quot;+sftpUri);\r\n       System.out.println(file.getAbsolutePath());\r\n       FileObject localFile = manager.resolveFile(file.getAbsolutePath());\r\n       // Create remote file object\r\n       FileObject remoteFile = manager.resolveFile(sftpUri, opts);\r\n       // Copy local file to sftp server\r\n       remoteFile.copyFrom(localFile, Selectors.SELECT_SELF);\r\n       System.out.println(&quot;File upload successful&quot;);\r\n      }\r\n      catch (Exception ex) {\r\n       ex.printStackTrace();\r\n       return false;\r\n      }\r\n      finally {\r\n       manager.close();\r\n      }\r\n      return true;\r\n     } \r\n    }\r\n\r\nWhile executing the code getting below exception:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    org.apache.commons.vfs.FileSystemException: Invalid absolute URI &quot;sftp://vmsorbit:***@172.16.16.148/universe/files/zcol_30092013.xls&quot;.\r\n    \tat org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:62)\r\n    \tat org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:692)\r\n    \tat org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:620)\r\n    \tat classes.SendMyFiles.startFTP(SendMyFiles.java:67)\r\n    \tat classes.SendMyFiles.main(SendMyFiles.java:23)\r\n    Caused by: org.apache.commons.vfs.FileSystemException: Expecting / to follow the hostname in URI &quot;sftp://vmsorbit:***@172.16.16.148/universe/files/zcol_30092013.xls&quot;.\r\n    \tat org.apache.commons.vfs.provider.HostFileNameParser.extractToPath(HostFileNameParser.java:155)\r\n    \tat org.apache.commons.vfs.provider.URLFileNameParser.parseUri(URLFileNameParser.java:49)\r\n    \tat org.apache.commons.vfs.provider.AbstractFileProvider.parseUri(AbstractFileProvider.java:188)\r\n    \tat org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:58)\r\n    \t... 4 more\r\n\r\ngetting error at line\r\n\r\n    FileObject localFile = manager.resolveFile(file.getAbsolutePath());\r\n\r\nThe password contains special character `@`.\r\n","title":"&quot;Expecting / to follow the hostname in URI&quot; exception when password contains @","body":"<p>I am trying to copy local system file to server</p>\n\n<pre><code>package classes;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.InputStream;\nimport java.util.Properties;\nimport org.apache.commons.vfs.FileObject;\nimport org.apache.commons.vfs.FileSystemOptions;\nimport org.apache.commons.vfs.Selectors;\nimport org.apache.commons.vfs.impl.StandardFileSystemManager;\nimport org.apache.commons.vfs.provider.sftp.SftpFileSystemConfigBuilder;\npublic class SendMyFiles {\n public static void main(String[] args) {\n  SendMyFiles sendMyFiles = new SendMyFiles();\n  String fileToFTP = \"zcol_30092013.xls\";\n  sendMyFiles.startFTP(fileToFTP);\n }\n public boolean startFTP(String fileToFTP){\n  Properties prop = new Properties();\n  InputStream in = getClass().getResourceAsStream(\"/config.properties\");\n  StandardFileSystemManager manager = new StandardFileSystemManager();\n  try {\n   prop.load(in);\n   String serverAddress = prop.getProperty(\"serverAddress\").trim();\n   String userId = prop.getProperty(\"userId\").trim();\n   String password = prop.getProperty(\"password\").trim();\n   String remoteDirectory = prop.getProperty(\"remoteDirectory\").trim();\n   String localDirectory = prop.getProperty(\"localDirectory\").trim();\n   System.out.println(\"Cheking values \"+serverAddress+\" \"+userId+\" \"+password+\" \"+remoteDirectory+\" \"+localDirectory);\n   //check if the file exists\n   String filepath = localDirectory;\n   System.out.println(\"filepath \"+filepath);\n   File file = new File(filepath);\n   System.out.println(file+\" \"+file.exists());\n   if (!file.exists())\n    throw new RuntimeException(\"Error. Local file not found\");\n   //Initializes the file manager\n   manager.init();\n   //Setup our SFTP configuration\n   FileSystemOptions opts = new FileSystemOptions();\n   SftpFileSystemConfigBuilder.getInstance().setStrictHostKeyChecking(\n     opts, \"no\");\n   SftpFileSystemConfigBuilder.getInstance().setUserDirIsRoot(opts, true);\n   SftpFileSystemConfigBuilder.getInstance().setTimeout(opts, 10000);\n   //Create the SFTP URI using the host name, userid, password,  remote path and file name\n    String sftpUri= \"sftp://\" + userId + \":\" + password + \"@\" + serverAddress + \"/\"\n    + remoteDirectory+ fileToFTP;\n   // Create local file object\n    System.out.println(\"sftp uri \"+sftpUri);\n   System.out.println(file.getAbsolutePath());\n   FileObject localFile = manager.resolveFile(file.getAbsolutePath());\n   // Create remote file object\n   FileObject remoteFile = manager.resolveFile(sftpUri, opts);\n   // Copy local file to sftp server\n   remoteFile.copyFrom(localFile, Selectors.SELECT_SELF);\n   System.out.println(\"File upload successful\");\n  }\n  catch (Exception ex) {\n   ex.printStackTrace();\n   return false;\n  }\n  finally {\n   manager.close();\n  }\n  return true;\n } \n}\n</code></pre>\n\n<p>While executing the code getting below exception:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>org.apache.commons.vfs.FileSystemException: Invalid absolute URI \"sftp://vmsorbit:***@172.16.16.148/universe/files/zcol_30092013.xls\".\n    at org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:62)\n    at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:692)\n    at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:620)\n    at classes.SendMyFiles.startFTP(SendMyFiles.java:67)\n    at classes.SendMyFiles.main(SendMyFiles.java:23)\nCaused by: org.apache.commons.vfs.FileSystemException: Expecting / to follow the hostname in URI \"sftp://vmsorbit:***@172.16.16.148/universe/files/zcol_30092013.xls\".\n    at org.apache.commons.vfs.provider.HostFileNameParser.extractToPath(HostFileNameParser.java:155)\n    at org.apache.commons.vfs.provider.URLFileNameParser.parseUri(URLFileNameParser.java:49)\n    at org.apache.commons.vfs.provider.AbstractFileProvider.parseUri(AbstractFileProvider.java:188)\n    at org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:58)\n    ... 4 more\n</code></pre>\n\n<p>getting error at line</p>\n\n<pre><code>FileObject localFile = manager.resolveFile(file.getAbsolutePath());\n</code></pre>\n\n<p>The password contains special character <code>@</code>.</p>\n"},{"tags":["java","design-patterns"],"answers":[{"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1697591454,"post_id":77309975,"comment_id":136298119,"body_markdown":"[Static factory methods](https://stackoverflow.com/tags/static-factory/info) are an entirely separate pattern from the [Factory Method Pattern](https://stackoverflow.com/tags/factory-method/info) in the GoF Book. Also beware that classes naming themselves XYZFactory or similar often implement none of the published patterns at all. Popular frameworks like to incorporate famous pattern names as a means of self promotion.","body":"<a href=\"https://stackoverflow.com/tags/static-factory/info\">Static factory methods</a> are an entirely separate pattern from the <a href=\"https://stackoverflow.com/tags/factory-method/info\">Factory Method Pattern</a> in the GoF Book. Also beware that classes naming themselves XYZFactory or similar often implement none of the published patterns at all. Popular frameworks like to incorporate famous pattern names as a means of self promotion."}],"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697553686,"creation_date":1697553686,"answer_id":77309975,"question_id":77308750,"body_markdown":"&gt;Is the factory method in the factory method pattern part of a dedicated factory object or part of the business object where I want to use the method?\r\n\r\nBoth are acceptable.  If it’s part of the business object class, it needs to be a static method.\r\n\r\n&gt;…does the object become a factory itself\r\n\r\nNo.  Think of real-world factories:  a car is not a factory and does not make more cars.  A can of soup does not make more cans of soup.\r\n\r\nFor examples of *factory methods,* look at [NumberFormat.getNumberInstance](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/NumberFormat.html#getNumberInstance()) and [DateFormat.getDateTimeInstance](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/DateFormat.html#getDateTimeInstance()).  Factory methods are static methods which may be present on the same class, but because they are static, they are not methods of any actual object.\r\n\r\nSometimes factory logic is complex enough that it requires a separate *factory class.*  Examples of this are the [DocumentBuilderFactory](https://docs.oracle.com/en/java/javase/21/docs/api/java.xml/javax/xml/parsers/DocumentBuilderFactory.html) and [DriverManager](https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/DriverManager.html).\r\n\r\nIn nearly all cases, the objects produced by the factory do not have factory methods for creating the same type of object.&lt;sup&gt;†&lt;/sup&gt;\r\n\r\n* NumberFormat.getNumberInstance is a static method which creates a NumberFormat, but a NumberFormat object is not capable of producing NumberFormats.\r\n* DateFormat.getDateTimeInstance is a static method which creates a DateFormat, but a DateFormat object is not capable of producing DateFormats.\r\n* A DocumentBuilderFactory is an object which creates DocumentBuilders, but DocumentBuilder objects are not capable of producing more DocumentBuilders.\r\n* DriverManager.getConnection creates Connection objects, but Connection objects are not capable of producing more Connection objects.\r\n\r\n&gt;In the first case I don&#39;t see the advantage of a factory method over a simple factory object where I can e.g. `animalFactory.createDog()`.\r\n\r\nHaving factory methods as static methods of the target class is convenient.  They’re easier for new developers to find, since it doesn’t require knowing to look for a separate factory class.  And it makes the overall public API a little more compact.  Other than those things, there isn’t a significant advantage.\r\n\r\n&lt;sup&gt;† There are some cases where this isn’t true;  *immutable* objects may have non-static methods which produce different immutable objects, like String.replace, LocalDate.plusDays, and URI.resolve.  These aren’t usually considered factory methods, but they’re similar.&lt;/sup&gt;\r\n","title":"Which class implements the factory method?","body":"<blockquote>\n<p>Is the factory method in the factory method pattern part of a dedicated factory object or part of the business object where I want to use the method?</p>\n</blockquote>\n<p>Both are acceptable.  If it’s part of the business object class, it needs to be a static method.</p>\n<blockquote>\n<p>…does the object become a factory itself</p>\n</blockquote>\n<p>No.  Think of real-world factories:  a car is not a factory and does not make more cars.  A can of soup does not make more cans of soup.</p>\n<p>For examples of <em>factory methods,</em> look at <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/NumberFormat.html#getNumberInstance()\" rel=\"nofollow noreferrer\">NumberFormat.getNumberInstance</a> and <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/DateFormat.html#getDateTimeInstance()\" rel=\"nofollow noreferrer\">DateFormat.getDateTimeInstance</a>.  Factory methods are static methods which may be present on the same class, but because they are static, they are not methods of any actual object.</p>\n<p>Sometimes factory logic is complex enough that it requires a separate <em>factory class.</em>  Examples of this are the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.xml/javax/xml/parsers/DocumentBuilderFactory.html\" rel=\"nofollow noreferrer\">DocumentBuilderFactory</a> and <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/DriverManager.html\" rel=\"nofollow noreferrer\">DriverManager</a>.</p>\n<p>In nearly all cases, the objects produced by the factory do not have factory methods for creating the same type of object.<sup>†</sup></p>\n<ul>\n<li>NumberFormat.getNumberInstance is a static method which creates a NumberFormat, but a NumberFormat object is not capable of producing NumberFormats.</li>\n<li>DateFormat.getDateTimeInstance is a static method which creates a DateFormat, but a DateFormat object is not capable of producing DateFormats.</li>\n<li>A DocumentBuilderFactory is an object which creates DocumentBuilders, but DocumentBuilder objects are not capable of producing more DocumentBuilders.</li>\n<li>DriverManager.getConnection creates Connection objects, but Connection objects are not capable of producing more Connection objects.</li>\n</ul>\n<blockquote>\n<p>In the first case I don't see the advantage of a factory method over a simple factory object where I can e.g. <code>animalFactory.createDog()</code>.</p>\n</blockquote>\n<p>Having factory methods as static methods of the target class is convenient.  They’re easier for new developers to find, since it doesn’t require knowing to look for a separate factory class.  And it makes the overall public API a little more compact.  Other than those things, there isn’t a significant advantage.</p>\n<p><sup>† There are some cases where this isn’t true;  <em>immutable</em> objects may have non-static methods which produce different immutable objects, like String.replace, LocalDate.plusDays, and URI.resolve.  These aren’t usually considered factory methods, but they’re similar.</sup></p>\n"}],"owner":{"account_id":4617439,"reputation":488,"user_id":3743424,"accept_rate":9,"display_name":"cobby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697553686,"creation_date":1697543464,"question_id":77308750,"body_markdown":"Is the factory method in the factory method pattern part of a dedicated factory object or part of the business object where I want to use the method?\r\n\r\nBasically, will I need to inject a factory object from where I create objects or does the object become a factory itself and I simply call the implemented method to create an object?\r\n\r\nIn the first case I don&#39;t see the advantage of a factory method over a simple factory object where I can e.g. `animalFactory.createDog()`.","title":"Which class implements the factory method?","body":"<p>Is the factory method in the factory method pattern part of a dedicated factory object or part of the business object where I want to use the method?</p>\n<p>Basically, will I need to inject a factory object from where I create objects or does the object become a factory itself and I simply call the implemented method to create an object?</p>\n<p>In the first case I don't see the advantage of a factory method over a simple factory object where I can e.g. <code>animalFactory.createDog()</code>.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":3,"creation_date":1697549421,"post_id":77309344,"comment_id":136291838,"body_markdown":"Have you tried solving it? Are you stuck on your attempt? If so, show your code and we can try to help.","body":"Have you tried solving it? Are you stuck on your attempt? If so, show your code and we can try to help."},{"owner":{"account_id":24538769,"reputation":29,"user_id":18449424,"display_name":"IPCZ"},"score":0,"creation_date":1697551200,"post_id":77309344,"comment_id":136292215,"body_markdown":"I tried solving it but after a while I realized I didn&#39;t know what I was doing","body":"I tried solving it but after a while I realized I didn&#39;t know what I was doing"}],"answers":[{"tags":[],"owner":{"account_id":8818198,"reputation":1021,"user_id":6588943,"display_name":"Melvin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697553585,"creation_date":1697553585,"answer_id":77309968,"question_id":77309344,"body_markdown":"It is not that difficult. Like always in programming you need to have an idea what you want to do. Lets look at your example.\r\n\r\nYou start with the last number of the first row of your matrix. It is the 3.\r\n**Rotating by 45&#176; means, you go down one row and right one column.** This is out of bounds and the first line is done (you can add a line-feed).\r\n\r\nThen you move to the next number in the first row which is before 3. That is the 2.\r\nYou rotate as written above and get the 6. This is the last number of this line and you add the line-feed).\r\n\r\nYou iterate till the first number of the first row and then you take all starting numbers of the rows and do the same like above. This gives us for the third line the numbers 1, 5 and 9.\r\n\r\nA code to solve this could be like this:\r\n\r\n    static int[][] matrix;\r\n    \r\n    public static void printLine(Point p) {\r\n        // this solves the one row down, one column right algorithm\r\n        try {\r\n            for (int i3=p.x; i3&lt;matrix[0].length; i3++) {\r\n                System.out.print(matrix[i3][p.y++]);\r\n            }\r\n        } catch(ArrayIndexOutOfBoundsException ex) {}   // stops, when last number in row is reached\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        matrix = new int[][] { {1,2,3}, {4,5,6}, {7,8,9} };\r\n    \r\n        // the two iterations\r\n\r\n        for (int i1=matrix[0].length-1; i1&gt;0; i1--) {\r\n            printLine(new Point(0, i1));\r\n        }\r\n        for (int i2=0; i2&lt;matrix.length; i2++) {\r\n            printLine(new Point(i2,0));\r\n        }        \r\n    }\r\n\r\nPS: Surely we could calculate the bounds of the array correctly and without try-catch, but you get the idea behind it.","title":"How to rotate a 2D Array anticlockwise by 45&#186; Java","body":"<p>It is not that difficult. Like always in programming you need to have an idea what you want to do. Lets look at your example.</p>\n<p>You start with the last number of the first row of your matrix. It is the 3.\n<strong>Rotating by 45° means, you go down one row and right one column.</strong> This is out of bounds and the first line is done (you can add a line-feed).</p>\n<p>Then you move to the next number in the first row which is before 3. That is the 2.\nYou rotate as written above and get the 6. This is the last number of this line and you add the line-feed).</p>\n<p>You iterate till the first number of the first row and then you take all starting numbers of the rows and do the same like above. This gives us for the third line the numbers 1, 5 and 9.</p>\n<p>A code to solve this could be like this:</p>\n<pre><code>static int[][] matrix;\n\npublic static void printLine(Point p) {\n    // this solves the one row down, one column right algorithm\n    try {\n        for (int i3=p.x; i3&lt;matrix[0].length; i3++) {\n            System.out.print(matrix[i3][p.y++]);\n        }\n    } catch(ArrayIndexOutOfBoundsException ex) {}   // stops, when last number in row is reached\n    System.out.println(&quot;&quot;);\n}\n\npublic static void main(String[] args) {\n    matrix = new int[][] { {1,2,3}, {4,5,6}, {7,8,9} };\n\n    // the two iterations\n\n    for (int i1=matrix[0].length-1; i1&gt;0; i1--) {\n        printLine(new Point(0, i1));\n    }\n    for (int i2=0; i2&lt;matrix.length; i2++) {\n        printLine(new Point(i2,0));\n    }        \n}\n</code></pre>\n<p>PS: Surely we could calculate the bounds of the array correctly and without try-catch, but you get the idea behind it.</p>\n"}],"owner":{"account_id":24538769,"reputation":29,"user_id":18449424,"display_name":"IPCZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77309968,"answer_count":1,"score":-1,"last_activity_date":1697553585,"creation_date":1697548656,"question_id":77309344,"body_markdown":"I want to rotate a 2d array by 45&#186; so I can be able to split it and run the split array on 2 threads. Basically the input looks like this \r\n\r\n1 2 3  \r\n4 5 6  \r\n7 8 9  \r\n\r\nAnd the output should look like this  \r\n3  \r\n2 6  \r\n1 5 9  \r\n4 8  \r\n7 ","title":"How to rotate a 2D Array anticlockwise by 45&#186; Java","body":"<p>I want to rotate a 2d array by 45º so I can be able to split it and run the split array on 2 threads. Basically the input looks like this</p>\n<p>1 2 3<br />\n4 5 6<br />\n7 8 9</p>\n<p>And the output should look like this<br />\n3<br />\n2 6<br />\n1 5 9<br />\n4 8<br />\n7</p>\n"},{"tags":["java","http","asynchronous","load-testing","completable-future"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1651304000,"post_id":72066501,"comment_id":127336716,"body_markdown":"My suggestion for you is to look into `ExecutorService` instead of while loops as a start.  As well look into https://hc.apache.org/httpcomponents-client-4.5.x/current/httpclient/apidocs/org/apache/http/impl/conn/PoolingHttpClientConnectionManager.html for Apache HttpClient","body":"My suggestion for you is to look into <code>ExecutorService</code> instead of while loops as a start.  As well look into <a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/current/httpclient/apidocs/org/apache/http/impl/conn/PoolingHttpClientConnectionManager.html\" rel=\"nofollow noreferrer\">hc.apache.org/httpcomponents-client-4.5.x/current/httpclient&zwnj;&#8203;/&hellip;</a> for Apache HttpClient"}],"answers":[{"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1651447561,"post_id":72066573,"comment_id":127361455,"body_markdown":"Lol, I love the suggestion (and a year or 2 down the road, this will be the best answer), but this sounds like a team that needs to get something implemented for PROD in the next 2 weeks. Currently, the solution you proposed is not (easily) available for implementing. I would edit your answer to more clearly explain how this isn&#39;t (easily) available at the moment.","body":"Lol, I love the suggestion (and a year or 2 down the road, this will be the best answer), but this sounds like a team that needs to get something implemented for PROD in the next 2 weeks. Currently, the solution you proposed is not (easily) available for implementing. I would edit your answer to more clearly explain how this isn&#39;t (easily) available at the moment."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1651448152,"post_id":72066573,"comment_id":127361516,"body_markdown":"@davidalayachew Thanks for the feedback. I added more links in the first paragraph, for more details. Builds of Java with Project Loom technologies *are* available now, and quite easily obtained as with any JDK. Those builds are not intended for production use, and Loom is evolving, hence my wording “preview” and “experimental”. As for what is appropriate to the OP’s situation and timeline, I’ll not guess. That is the job of the OP and their team of colleagues.","body":"@davidalayachew Thanks for the feedback. I added more links in the first paragraph, for more details. Builds of Java with Project Loom technologies <i>are</i> available now, and quite easily obtained as with any JDK. Those builds are not intended for production use, and Loom is evolving, hence my wording “preview” and “experimental”. As for what is appropriate to the OP’s situation and timeline, I’ll not guess. That is the job of the OP and their team of colleagues."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697553133,"creation_date":1651304235,"answer_id":72066573,"question_id":72066501,"body_markdown":"# Virtual threads\r\n\r\n[Virtual threads][1] ([fibers][2]) is a new feature in [Java 21][3]. This is part of [*Project Loom*][4]. \r\n\r\nIn conventional Java concurrency, threads in Java are mapped directly one-to-one with host OS threads. The problem is that when code running in a thread blocks, the thread blocks too. That thread pauses until the executing code is unblocked. So much of the time a thread may go unused, sitting idle, while waiting for a call to storage I/O, network I/O, database access, etc. to return. \r\n\r\nIn contrast, many of the proposed *virtual* threads are mapped to each “real” thread provided by the host OS. When the code being executed by a virtual thread blocks, the virtual threads is “parked”, set aside, while another virtual thread takes its place on the host OS thread. When the prior virtual thread’s task is no longer blocked, it gets assigned again to a host OS thread for continued execution. \r\n\r\nThis parking and unparking is extremely efficient. This means you can have thousands, even millions, of simultaneous threads. \r\n\r\nSo you could set up your hundreds of HTTP requests as individual `Runnable`/`Callable`tasks, and then submit them all to an appropriate executor service for immediate execution.  \r\n\r\n\r\n----------\r\n\r\nBy the way, Java now includes a [new HTTP client][5] library. \r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/444\r\n  [2]: https://en.wikipedia.org/wiki/Fiber_(computer_science)\r\n  [3]: https://en.m.wikipedia.org/wiki/Java_version_history#Java_21\r\n  [4]: https://wiki.openjdk.java.net/display/loom/Main\r\n  [5]: https://openjdk.java.net/jeps/321","title":"Sending large amounts of HTTP requests concurrently with a small number of threads","body":"<h1>Virtual threads</h1>\n<p><a href=\"https://openjdk.java.net/jeps/444\" rel=\"nofollow noreferrer\">Virtual threads</a> (<a href=\"https://en.wikipedia.org/wiki/Fiber_(computer_science)\" rel=\"nofollow noreferrer\">fibers</a>) is a new feature in <a href=\"https://en.m.wikipedia.org/wiki/Java_version_history#Java_21\" rel=\"nofollow noreferrer\">Java 21</a>. This is part of <a href=\"https://wiki.openjdk.java.net/display/loom/Main\" rel=\"nofollow noreferrer\"><em>Project Loom</em></a>.</p>\n<p>In conventional Java concurrency, threads in Java are mapped directly one-to-one with host OS threads. The problem is that when code running in a thread blocks, the thread blocks too. That thread pauses until the executing code is unblocked. So much of the time a thread may go unused, sitting idle, while waiting for a call to storage I/O, network I/O, database access, etc. to return.</p>\n<p>In contrast, many of the proposed <em>virtual</em> threads are mapped to each “real” thread provided by the host OS. When the code being executed by a virtual thread blocks, the virtual threads is “parked”, set aside, while another virtual thread takes its place on the host OS thread. When the prior virtual thread’s task is no longer blocked, it gets assigned again to a host OS thread for continued execution.</p>\n<p>This parking and unparking is extremely efficient. This means you can have thousands, even millions, of simultaneous threads.</p>\n<p>So you could set up your hundreds of HTTP requests as individual <code>Runnable</code>/<code>Callable</code>tasks, and then submit them all to an appropriate executor service for immediate execution.</p>\n<hr />\n<p>By the way, Java now includes a <a href=\"https://openjdk.java.net/jeps/321\" rel=\"nofollow noreferrer\">new HTTP client</a> library.</p>\n"}],"owner":{"account_id":15348866,"reputation":111,"user_id":11073310,"display_name":"bklxxjjz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1739,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1697553133,"creation_date":1651303384,"question_id":72066501,"body_markdown":"We have the need to **send large amounts of HTTP requests to a server endpoint concurrently (hundreds of requests per second)** continuously for some time, in our Java code. The server takes ~4-5 seconds to respond to each request.\r\n\r\nThe underlying code is making those requests using Apache HttpClient (classic). Since this client is blocking, I&#39;m having to use large amounts of threads (in a `ExecutorService.newFixedThreadPool()`) to send requests concurrently in order to achieve the goal: start these threads, where each thread basically does something like this:\r\n```\r\nwhile (time_elapsed &lt; 3600 seconds) {\r\n    sendHttpRequest(); // this takes ~4-5 seconds, during which the current thread is blocked due to the nature of Apache \r\n}\r\n```\r\n\r\nThere are 2 problems: \r\n- as the server responds to each HTTP call in 4-5 seconds, theoretically we will need 400-500 threads in order to send ~100 requests/second, but this huge amount of threads will consume lots of resources, and will leads to a lot of context switch as well as other problems, so in practice they won&#39;t really send as many as 100 requests/second\r\n- as each thread has to wait until the current request to finish (4-5 seconds) before sending the next, we can&#39;t control the precise number of requests we send every second.\r\n\r\nThis would have been easy if we have the flexibility to switch to async http clients like [Apache HttpAsyncClient](https://hc.apache.org/httpcomponents-asyncclient-4.1.x/index.html) or [async-http-client](https://github.com/AsyncHttpClient/async-http-client), but unfortunately we can&#39;t due to the codebase&#39;s limitation.\r\n\r\nMy question is, is there another way to achieve hundreds of concurrent requests/second, **with a small number of threads and without using an async HTTP client**? Is CompletableFuture an option?","title":"Sending large amounts of HTTP requests concurrently with a small number of threads","body":"<p>We have the need to <strong>send large amounts of HTTP requests to a server endpoint concurrently (hundreds of requests per second)</strong> continuously for some time, in our Java code. The server takes ~4-5 seconds to respond to each request.</p>\n<p>The underlying code is making those requests using Apache HttpClient (classic). Since this client is blocking, I'm having to use large amounts of threads (in a <code>ExecutorService.newFixedThreadPool()</code>) to send requests concurrently in order to achieve the goal: start these threads, where each thread basically does something like this:</p>\n<pre><code>while (time_elapsed &lt; 3600 seconds) {\n    sendHttpRequest(); // this takes ~4-5 seconds, during which the current thread is blocked due to the nature of Apache \n}\n</code></pre>\n<p>There are 2 problems:</p>\n<ul>\n<li>as the server responds to each HTTP call in 4-5 seconds, theoretically we will need 400-500 threads in order to send ~100 requests/second, but this huge amount of threads will consume lots of resources, and will leads to a lot of context switch as well as other problems, so in practice they won't really send as many as 100 requests/second</li>\n<li>as each thread has to wait until the current request to finish (4-5 seconds) before sending the next, we can't control the precise number of requests we send every second.</li>\n</ul>\n<p>This would have been easy if we have the flexibility to switch to async http clients like <a href=\"https://hc.apache.org/httpcomponents-asyncclient-4.1.x/index.html\" rel=\"nofollow noreferrer\">Apache HttpAsyncClient</a> or <a href=\"https://github.com/AsyncHttpClient/async-http-client\" rel=\"nofollow noreferrer\">async-http-client</a>, but unfortunately we can't due to the codebase's limitation.</p>\n<p>My question is, is there another way to achieve hundreds of concurrent requests/second, <strong>with a small number of threads and without using an async HTTP client</strong>? Is CompletableFuture an option?</p>\n"},{"tags":["java","spring","validation"],"comments":[{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":1,"creation_date":1697457090,"post_id":77300261,"comment_id":136278206,"body_markdown":"@ interfaces do not have implementations, they&#39;re just markers. They are used in other classes however - for validators that&#39;s a Validator class - https://docs.jboss.org/hibernate/stable/validator/api/org/hibernate/validator/internal/constraintvalidators/hv/UUIDValidator.html is the one of interest here. You could try debugging there to check if it&#39;s called at all (both at startup and when changing the property at runtime just to see how it behaves)","body":"@ interfaces do not have implementations, they&#39;re just markers. They are used in other classes however - for validators that&#39;s a Validator class - <a href=\"https://docs.jboss.org/hibernate/stable/validator/api/org/hibernate/validator/internal/constraintvalidators/hv/UUIDValidator.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/stable/validator/api/org/hibernate/&zwnj;&#8203;&hellip;</a> is the one of interest here. You could try debugging there to check if it&#39;s called at all (both at startup and when changing the property at runtime just to see how it behaves)"},{"owner":{"account_id":16983645,"reputation":21,"user_id":12284928,"display_name":"dja"},"score":0,"creation_date":1697551035,"post_id":77300261,"comment_id":136292180,"body_markdown":"Thanks for the clarification. So I found out that I can &quot;search for usages&quot; to find the appropriate Validator class.","body":"Thanks for the clarification. So I found out that I can &quot;search for usages&quot; to find the appropriate Validator class."}],"answers":[{"tags":[],"owner":{"account_id":16983645,"reputation":21,"user_id":12284928,"display_name":"dja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697552644,"creation_date":1697552134,"answer_id":77309801,"question_id":77300261,"body_markdown":"I found out the following: \r\n\r\nUsing jdk11\r\n========\r\nI get no compilation errors in the IDE and I can start the application and it does not halt at any places inside the UUIDValidator. However if I try to run *mvn install* I get the following error:\r\n```\r\n[ERROR] \tpackage m365.graph.client;\r\n[ERROR] \t^\r\n[ERROR] The type jakarta.validation.Payload cannot be resolved. It is indirectly referenced from required .class files\r\n```\r\nWhich is not the config class itself but a class using the config.\r\n\r\nUsing jdk17\r\n========\r\nSince we wanted to move to 17 anyways I finished the upgrade and tried it here as well, since I knew that you can&#39;t use javax.annotation there anymore. And in this case everything works as expected. It correctly stops at the initilize breakpoint in the UUIDValidator and also in the config a wrong UUID gets validated throwing an error.\r\n\r\n**Does however someone know why I got this confusing error using jdk11 and only when running mvn?** ","title":"@UUID hibernate validator doesn&#39;t validate on application start","body":"<p>I found out the following:</p>\n<h1>Using jdk11</h1>\n<p>I get no compilation errors in the IDE and I can start the application and it does not halt at any places inside the UUIDValidator. However if I try to run <em>mvn install</em> I get the following error:</p>\n<pre><code>[ERROR]     package m365.graph.client;\n[ERROR]     ^\n[ERROR] The type jakarta.validation.Payload cannot be resolved. It is indirectly referenced from required .class files\n</code></pre>\n<p>Which is not the config class itself but a class using the config.</p>\n<h1>Using jdk17</h1>\n<p>Since we wanted to move to 17 anyways I finished the upgrade and tried it here as well, since I knew that you can't use javax.annotation there anymore. And in this case everything works as expected. It correctly stops at the initilize breakpoint in the UUIDValidator and also in the config a wrong UUID gets validated throwing an error.</p>\n<p><strong>Does however someone know why I got this confusing error using jdk11 and only when running mvn?</strong></p>\n"}],"owner":{"account_id":16983645,"reputation":21,"user_id":12284928,"display_name":"dja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77309801,"answer_count":1,"score":0,"last_activity_date":1697552644,"creation_date":1697442925,"question_id":77300261,"body_markdown":"I try to use a validation on UUIDs using Spring.\r\n\r\nWhen I use a Pattern directly at the configuration class as shown in the code and type in a wrong UUID in the yaml it correctly prints an error on the validation at startup of my application:\r\n\r\n```\r\n@Validated\r\n@Configuration\r\n@Getter\r\n@Setter\r\n@ConfigurationProperties\r\npublic class ClientConfig {\r\n\r\n\t@Pattern(regexp = &quot;[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}&quot;)\r\n\t@Nonnull\r\n\tprivate String clientId;\r\n\r\n}\r\n```\r\n\r\nIf I use the answers provided [here][1] and extract the pattern into a self implemented @interface it works as well. But if I try to use the annotation from hibernate, so switching to this:\r\n\r\n```\r\n\t@org.hibernate.validator.constraints.UUID\r\n\t@Nonnull\r\n\tprivate String clientId;\r\n```\r\n\r\nThen my application doesn&#39;t validate the property in the yaml anymore and won&#39;t fire any errors on startup. \r\n\r\nWhat am I missing for hibernate? Do I need to register some extra annotation processor to get it working and how?\r\n\r\nI am a bit new to the @interfaces, also I don&#39;t get how to easily find the implementation classes behind the interface.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37320870/is-there-a-uuid-validator-annotation","title":"@UUID hibernate validator doesn&#39;t validate on application start","body":"<p>I try to use a validation on UUIDs using Spring.</p>\n<p>When I use a Pattern directly at the configuration class as shown in the code and type in a wrong UUID in the yaml it correctly prints an error on the validation at startup of my application:</p>\n<pre><code>@Validated\n@Configuration\n@Getter\n@Setter\n@ConfigurationProperties\npublic class ClientConfig {\n\n    @Pattern(regexp = &quot;[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}&quot;)\n    @Nonnull\n    private String clientId;\n\n}\n</code></pre>\n<p>If I use the answers provided <a href=\"https://stackoverflow.com/questions/37320870/is-there-a-uuid-validator-annotation\">here</a> and extract the pattern into a self implemented @interface it works as well. But if I try to use the annotation from hibernate, so switching to this:</p>\n<pre><code>    @org.hibernate.validator.constraints.UUID\n    @Nonnull\n    private String clientId;\n</code></pre>\n<p>Then my application doesn't validate the property in the yaml anymore and won't fire any errors on startup.</p>\n<p>What am I missing for hibernate? Do I need to register some extra annotation processor to get it working and how?</p>\n<p>I am a bit new to the @interfaces, also I don't get how to easily find the implementation classes behind the interface.</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":5201495,"reputation":19,"user_id":16359040,"display_name":"Mohammed Khadeer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697552114,"creation_date":1697552114,"question_id":77309797,"body_markdown":"\r\n 1.In the database or in the console,the fileName field shows NULL but the file or image is uploading in the directory.\r\n\r\n\r\n\r\n2. search functionality is not working.when i type in the input and search it shows nothing but in the url i can see the desire search path example :http://localhost:8081/search?keyword=test here, the test is the keyword or a fileName i want to search.\r\n```\r\n[![File in Db](https://i.stack.imgur.com/lv907.png)](https://i.stack.imgur.com/lv907.png)\r\n[![Search](https://i.stack.imgur.com/ldf82.png)](https://i.stack.imgur.com/ldf82.png)\r\n``` \r\n    ```\r\n    Entity\r\n    ```\r\n    @Entity\r\n    @Table(name=&quot;User_Management&quot;)\r\n    public class User {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \tprivate String email;\r\n    \tprivate String codicefiscale;\r\n    \tprivate String documents;\r\n    \tprivate String description;\r\n    \tprivate String gender;\r\n    \tprivate String city;\r\n    \tprivate String fileName;\r\n    \t@Column(length = 15)\r\n    \tprivate long phone;\r\n    \r\n    \t// getter and setter\r\n           ....\r\n    ```\r\n    Repository\r\n    ```\r\n    @Repository\r\n    public interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\r\n    \r\n    \t@Query(&quot;SELECT u FROM User u WHERE CONCAT(u.name, u.email) LIKE %:keyword%&quot;)\r\n        List&lt;User&gt; search(String keyword);\r\n    \t\r\n    }\r\n    \r\n    ```\r\n    Service Interface and implementation\r\n    ```\r\n    public interface UserService {\r\n    \t\r\n    \tList&lt;User&gt; findAllUsers();\r\n    \tUser get(int id);\r\n    \tUser addUser(User user);\r\n    \tUser updateOrSave(User user);\r\n    \tvoid delete(int id);\r\n    \tUser view(User user);\r\n    \t\r\n    \tList&lt;User&gt; listSearch(String keyword);\r\n    \r\n    }\r\n    \r\n    @Service\r\n    public class UserServiceImpl implements UserService {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate UserRepo userRepo;\r\n    \r\n    \tpublic UserServiceImpl(UserRepo userRepo) {\r\n    \t\tsuper();\r\n    \t\tthis.userRepo = userRepo;\r\n    \t}\r\n    \tpublic UserRepo getUserRepo() {\r\n    \t\treturn userRepo;\r\n    \t}\r\n    \tpublic void setUserRepo(UserRepo userRepo) {\r\n    \t\tthis.userRepo = userRepo;\r\n    \t}\r\n    \r\n    \t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic List&lt;User&gt; findAllUsers() {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\treturn this.userRepo.findAll();\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic User get(int id) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\treturn this.userRepo.findById(id).get();\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic User addUser(User user) {\r\n    \t\t\t\r\n    \t\t\t\t\treturn this.userRepo.save(user);\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic User updateOrSave(User user) {\r\n    \t\t\t\t\treturn this.userRepo.save(user);\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void delete(int id) {\r\n    \t\t\t\t\t this.userRepo.deleteById(id);;\r\n    \t\t\t\t \r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t//search functionality\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic List&lt;User&gt; listSearch(String keyword) {\r\n    \t\t\t\t\tList&lt;User&gt; search = this.userRepo.search(keyword);\r\n    \t\t\t\t\treturn search;\r\n    \t\t\t\t\t\r\n    //\t\t\t\t\t if (keyword != null) {\r\n    //\t\t\t\t            return userRepo.search(keyword)\r\n    //\t\t\t\t        }\r\n    //\t\t\t\t        return userRepo.findAll();\r\n    \t\t\t\t}\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic User view(User user) {\r\n    \t\t\t\t return this.userRepo.save(user);\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\r\n    \r\n    }\r\n    ```\r\n    Controller\r\n    ```\r\n    @Controller\r\n    //@RequestMapping(&quot;/users&quot;)\r\n    public class MyController {\r\n    \t\r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(MyController.class);\r\n    \t\r\n    \t@Autowired\r\n    \tprivate UserService userService;\r\n    \t\r\n    \tpublic MyController(UserService userService) {\r\n    \t\tsuper();\r\n    \t\tthis.userService = userService;\r\n    \t}\r\n    \r\n    \tpublic UserService getUserService() {\r\n    \t\treturn userService;\r\n    \t}\r\n    \r\n    \tpublic void setUserService(UserService userService) {\r\n    \t\tthis.userService = userService;\r\n    \t}\r\n    \r\n    \t\r\n    \t\r\n    \t// Normal home page\r\n    \t\t@GetMapping(&quot;/&quot;)\r\n    \t\tpublic String Home()\r\n    \t\t{\r\n    \t\t\treturn &quot;home&quot;;\r\n    \t\t}\r\n    \t\r\n    \t//   listing all the Users in a new Page.\r\n    \t\t@GetMapping(&quot;/manage&quot;)\r\n    \t\tpublic String ManageTheUsersList(Model m)\r\n    \t\t{\r\n    \t\t\tList&lt;User&gt; findAllUsers = this.userService.findAllUsers();\r\n    \t\t\tm.addAttribute(&quot;ListUser&quot;, findAllUsers);\r\n    \t\t\t m.addAttribute(&quot;title&quot;,&quot;User Management System&quot;);\r\n    \t\t\treturn &quot;manageForm&quot;;\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t//  Show Add new User page\r\n    \t\t@GetMapping(&quot;/addnewuser&quot;)\r\n    \t\tpublic String addnewuser(Model m)\r\n    \t\t{\r\n    \t\t\tm.addAttribute(&quot;user&quot;, new User());\r\n    \t\t\tm.addAttribute(&quot;title&quot;,&quot;User Management System&quot;);\r\n    \t\t\treturn &quot;addForm&quot;;\r\n    \t\t} \r\n    \t\t\r\n    \t\t\r\n    \t\t// save the Data from Add new User page\r\n    \t\t@PostMapping(&quot;/saveaddeduser&quot;)\r\n    \t\tpublic String addnewuser(@ModelAttribute(&quot;user&quot;) User user,@RequestParam(&quot;files&quot;) MultipartFile file,\r\n    \t\t\t\tModel m, RedirectAttributes ra,HttpSession session,@RequestParam(&quot;gender&quot;) String gender)\r\n    \t\t{\r\n    \t\t\tString uploads = System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources/static/files&quot;;\r\n    \t\t\tSystem.out.println(System.getProperty(&quot;user.dir&quot;));\r\n    \r\n    \t\t\r\n    \t try {\r\n    \t\t String originalFilename = file.getOriginalFilename();//ex:- abc.png\r\n    \t\t Path Fullpath = Paths.get(uploads+File.separator+originalFilename);// /src/main/resource...abc.png\r\n    \t\t Files.write(Fullpath,file.getBytes());\r\n    \t\t m.addAttribute(originalFilename, Fullpath);\r\n    \t     m.addAttribute(&quot;message&quot;,&quot;uploaded files :&quot; + Fullpath.toString());\r\n    \t\t \r\n    \t\t this.userService.addUser(user);\r\n    \t\t ra.addFlashAttribute(&quot;message&quot;,&quot;User is successfully added !!&quot;);\r\n    \t\t\tSystem.out.println(user);\r\n    \t\tm.addAttribute(&quot;title&quot;,&quot;User Management System&quot;);\r\n    \t\t\t\r\n    \t\t }catch(Exception e) {\r\n    \t\t\t e.printStackTrace();\r\n    \t\t }\r\n    \t\treturn &quot;redirect:/manage&quot;;\r\n    \t }\r\n    \t //@RequestMapping(path = {&quot;/search&quot;})\r\n    \t\t@GetMapping(&quot;/search&quot;)\r\n    \t\t    public String Searching(@Param(&quot;keyword&quot;) String keyword,Model m) {\r\n    \t\t\t\r\n    \t\t\t// logger.info(&quot;Before Receiving search request for keyword:{}&quot;, keyword);\r\n    \t\t\t \r\n    \t\t        List&lt;User&gt; listSearch = userService.listSearch(keyword);\r\n    \t\t        \r\n    \t\t      //  logger.info(&quot;Received search request for keyword:{}&quot;, listSearch);\r\n    \t\t        \r\n    \t\t        \r\n    \t\t        m.addAttribute(&quot;listSearch&quot;, listSearch);\r\n    \t\t        m.addAttribute(&quot;keyword&quot;, keyword);\r\n    \t\t        \r\n    \t\t        System.out.println(listSearch);\r\n    \t\t        System.out.println(keyword);\r\n    \t\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           \r\n    \t\t\t\treturn &quot;manageForm&quot;; \r\n    \t\t    }\r\n    \t}\r\n    \r\n    ```\r\n    Html\r\n    ```\r\n    &lt;form th:action=&quot;@{/saveaddeduser}&quot; method=&quot;post&quot; th:object=&quot;${user}&quot; class=&quot;mt-2&quot;\r\n    \t\t\t\tenctype=&quot;multipart/form-data&quot;&gt;\r\n    \t&lt;!-- Files--&gt;\r\n    \t&lt;div class=&quot;custom-file mb-3&quot;&gt;\r\n    \t&lt;input type=&quot;file&quot; class=&quot;form-control&quot; name=&quot;files&quot; aria-label=&quot;file example&quot;\r\n    \tplaceholder=&quot;Carta d&#39;Identita&quot; &gt;\r\n    \t&lt;div class=&quot;invalid-feedback&quot;&gt;Example invalid form file feedback&lt;/div&gt;\r\n    \t&lt;/div&gt;\r\n    ...\r\n    ```\r\n    pom.xml\r\n    ```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Employee_management&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Employee_management&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;","title":"MultipartFile says Null and search does not work","body":"<p>1.In the database or in the console,the fileName field shows NULL but the file or image is uploading in the directory.</p>\n<ol start=\"2\">\n<li>search functionality is not working.when i type in the input and search it shows nothing but in the url i can see the desire search path example :http://localhost:8081/search?keyword=test here, the test is the keyword or a fileName i want to search.</li>\n</ol>\n<pre><code>[![File in Db](https://i.stack.imgur.com/lv907.png)](https://i.stack.imgur.com/lv907.png)\n[![Search](https://i.stack.imgur.com/ldf82.png)](https://i.stack.imgur.com/ldf82.png)\n</code></pre>\n<pre><code>```\nEntity\n```\n@Entity\n@Table(name=&quot;User_Management&quot;)\npublic class User {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String name;\n    private String email;\n    private String codicefiscale;\n    private String documents;\n    private String description;\n    private String gender;\n    private String city;\n    private String fileName;\n    @Column(length = 15)\n    private long phone;\n\n    // getter and setter\n       ....\n```\nRepository\n```\n@Repository\npublic interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\n\n    @Query(&quot;SELECT u FROM User u WHERE CONCAT(u.name, u.email) LIKE %:keyword%&quot;)\n    List&lt;User&gt; search(String keyword);\n    \n}\n\n```\nService Interface and implementation\n```\npublic interface UserService {\n    \n    List&lt;User&gt; findAllUsers();\n    User get(int id);\n    User addUser(User user);\n    User updateOrSave(User user);\n    void delete(int id);\n    User view(User user);\n    \n    List&lt;User&gt; listSearch(String keyword);\n\n}\n\n@Service\npublic class UserServiceImpl implements UserService {\n    \n    @Autowired\n    private UserRepo userRepo;\n\n    public UserServiceImpl(UserRepo userRepo) {\n        super();\n        this.userRepo = userRepo;\n    }\n    public UserRepo getUserRepo() {\n        return userRepo;\n    }\n    public void setUserRepo(UserRepo userRepo) {\n        this.userRepo = userRepo;\n    }\n\n    \n                @Override\n                public List&lt;User&gt; findAllUsers() {\n                    \n                    return this.userRepo.findAll();\n                }\n            \n                @Override\n                public User get(int id) {\n                    \n                    return this.userRepo.findById(id).get();\n                }\n            \n                @Override\n                public User addUser(User user) {\n            \n                    return this.userRepo.save(user);\n                }\n            \n                @Override\n                public User updateOrSave(User user) {\n                    return this.userRepo.save(user);\n                        \n                }\n            \n                @Override\n                public void delete(int id) {\n                     this.userRepo.deleteById(id);;\n                 \n                }\n            \n                            \n                //search functionality\n                @Override\n                public List&lt;User&gt; listSearch(String keyword) {\n                    List&lt;User&gt; search = this.userRepo.search(keyword);\n                    return search;\n                    \n//                   if (keyword != null) {\n//                          return userRepo.search(keyword)\n//                      }\n//                      return userRepo.findAll();\n                }\n                @Override\n                public User view(User user) {\n                 return this.userRepo.save(user);\n                }\n            \n    \n\n}\n```\nController\n```\n@Controller\n//@RequestMapping(&quot;/users&quot;)\npublic class MyController {\n    \n    private static final Logger logger = LoggerFactory.getLogger(MyController.class);\n    \n    @Autowired\n    private UserService userService;\n    \n    public MyController(UserService userService) {\n        super();\n        this.userService = userService;\n    }\n\n    public UserService getUserService() {\n        return userService;\n    }\n\n    public void setUserService(UserService userService) {\n        this.userService = userService;\n    }\n\n    \n    \n    // Normal home page\n        @GetMapping(&quot;/&quot;)\n        public String Home()\n        {\n            return &quot;home&quot;;\n        }\n    \n    //   listing all the Users in a new Page.\n        @GetMapping(&quot;/manage&quot;)\n        public String ManageTheUsersList(Model m)\n        {\n            List&lt;User&gt; findAllUsers = this.userService.findAllUsers();\n            m.addAttribute(&quot;ListUser&quot;, findAllUsers);\n             m.addAttribute(&quot;title&quot;,&quot;User Management System&quot;);\n            return &quot;manageForm&quot;;\n        }\n        \n        \n        //  Show Add new User page\n        @GetMapping(&quot;/addnewuser&quot;)\n        public String addnewuser(Model m)\n        {\n            m.addAttribute(&quot;user&quot;, new User());\n            m.addAttribute(&quot;title&quot;,&quot;User Management System&quot;);\n            return &quot;addForm&quot;;\n        } \n        \n        \n        // save the Data from Add new User page\n        @PostMapping(&quot;/saveaddeduser&quot;)\n        public String addnewuser(@ModelAttribute(&quot;user&quot;) User user,@RequestParam(&quot;files&quot;) MultipartFile file,\n                Model m, RedirectAttributes ra,HttpSession session,@RequestParam(&quot;gender&quot;) String gender)\n        {\n            String uploads = System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources/static/files&quot;;\n            System.out.println(System.getProperty(&quot;user.dir&quot;));\n\n        \n     try {\n         String originalFilename = file.getOriginalFilename();//ex:- abc.png\n         Path Fullpath = Paths.get(uploads+File.separator+originalFilename);// /src/main/resource...abc.png\n         Files.write(Fullpath,file.getBytes());\n         m.addAttribute(originalFilename, Fullpath);\n         m.addAttribute(&quot;message&quot;,&quot;uploaded files :&quot; + Fullpath.toString());\n         \n         this.userService.addUser(user);\n         ra.addFlashAttribute(&quot;message&quot;,&quot;User is successfully added !!&quot;);\n            System.out.println(user);\n        m.addAttribute(&quot;title&quot;,&quot;User Management System&quot;);\n            \n         }catch(Exception e) {\n             e.printStackTrace();\n         }\n        return &quot;redirect:/manage&quot;;\n     }\n     //@RequestMapping(path = {&quot;/search&quot;})\n        @GetMapping(&quot;/search&quot;)\n            public String Searching(@Param(&quot;keyword&quot;) String keyword,Model m) {\n            \n            // logger.info(&quot;Before Receiving search request for keyword:{}&quot;, keyword);\n             \n                List&lt;User&gt; listSearch = userService.listSearch(keyword);\n                \n              //  logger.info(&quot;Received search request for keyword:{}&quot;, listSearch);\n                \n                \n                m.addAttribute(&quot;listSearch&quot;, listSearch);\n                m.addAttribute(&quot;keyword&quot;, keyword);\n                \n                System.out.println(listSearch);\n                System.out.println(keyword);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \n                return &quot;manageForm&quot;; \n            }\n    }\n\n```\nHtml\n```\n&lt;form th:action=&quot;@{/saveaddeduser}&quot; method=&quot;post&quot; th:object=&quot;${user}&quot; class=&quot;mt-2&quot;\n                enctype=&quot;multipart/form-data&quot;&gt;\n    &lt;!-- Files--&gt;\n    &lt;div class=&quot;custom-file mb-3&quot;&gt;\n    &lt;input type=&quot;file&quot; class=&quot;form-control&quot; name=&quot;files&quot; aria-label=&quot;file example&quot;\n    placeholder=&quot;Carta d'Identita&quot; &gt;\n    &lt;div class=&quot;invalid-feedback&quot;&gt;Example invalid form file feedback&lt;/div&gt;\n    &lt;/div&gt;\n...\n```\npom.xml\n```\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com&lt;/groupId&gt;\n    &lt;artifactId&gt;Employee_management&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Employee_management&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","mockito","junit5","springmockito"],"comments":[{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1697546787,"post_id":77308941,"comment_id":136291251,"body_markdown":"By default a mock returns null for every method (that returns an Object). You need to tell a mock what to return. More details look here: https://stackoverflow.com/questions/74459521/why-i-cant-save-anything-in-my-mocked-repository/74460108#74460108","body":"By default a mock returns null for every method (that returns an Object). You need to tell a mock what to return. More details look here: <a href=\"https://stackoverflow.com/questions/74459521/why-i-cant-save-anything-in-my-mocked-repository/74460108#74460108\" title=\"why i cant save anything in my mocked repository\">stackoverflow.com/questions/74459521/&hellip;</a>"},{"owner":{"account_id":29056682,"reputation":11,"user_id":22258320,"display_name":"AktionScript"},"score":0,"creation_date":1697547308,"post_id":77308941,"comment_id":136291361,"body_markdown":"Tried lenient().when(soapConnector.callservice(\n          &quot;target&quot;, requestSpy,\n          faultType, exception, false)).then(i -&gt; {\n            return response;\n          }); \nor even with thenAnswer returns null","body":"Tried lenient().when(soapConnector.callservice(           &quot;target&quot;, requestSpy,           faultType, exception, false)).then(i -&gt; {             return response;           });  or even with thenAnswer returns null"},{"owner":{"account_id":29056682,"reputation":11,"user_id":22258320,"display_name":"AktionScript"},"score":0,"creation_date":1697547607,"post_id":77308941,"comment_id":136291416,"body_markdown":"thenReturn will show the following error:\nOngoingStubbing&lt;JAXBElement&lt;capture#1-of ?&gt;&gt; is not applicable for the arguments (JAXBElement&lt;capture#3-of ?&gt;)","body":"thenReturn will show the following error: OngoingStubbing&lt;JAXBElement&lt;capture#1-of ?&gt;&gt; is not applicable for the arguments (JAXBElement&lt;capture#3-of ?&gt;)"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1697961027,"post_id":77308941,"comment_id":136343116,"body_markdown":"I doubt that your production code calls the method with a spy and with two consumer mocks.","body":"I doubt that your production code calls the method with a spy and with two consumer mocks."}],"answers":[{"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697551241,"creation_date":1697550871,"answer_id":77309624,"question_id":77308941,"body_markdown":"If you want to mock a method with parameters mockito uses the equal method to compare the parameters. If they equal the parameters the mock is called with, the mock returns the value. If there is no match found, your mock will return null. In your case the equality check will never return true since some of the parameters are local to your testcase, and thus the mock returns null.\r\n\r\nExamples to explain this better:\r\n\r\nAssume following class:\r\n\r\n\tclass Dummy {\r\n\t\t\tpublic String doSomething(String argument) {\r\n\t\t\t\treturn &quot;&quot;;\r\n\t\t\t}\r\n\t}\r\n\r\nin our test we do: \r\n\r\n\r\n\t@Test\r\n\tpublic void test() {\r\n\t\tDummy dummy = mock(Dummy.class);\r\n\r\n\t\twhen(dummy.doSomething(&quot;foo&quot;)).thenReturn(&quot;bar&quot;);\r\n\r\n\t\tSystem.out.println(dummy.doSomething(&quot;foo&quot;)); // Will print bar\r\n\t\tSystem.out.println(dummy.doSomething(&quot;something else&quot;)); // will print null\r\n\t}\r\n\r\nAs we can see only if the argument matches our mock returns the specified value.\r\n\r\nComming back to your case, specifically requestSpy is not equal to request in the actual code, neither are both the consumer mocks since they are local variables and also are mocks.\r\n\r\nI am not quite sure what you are trying to do but it&#39;s not necessary to pass mocks while mocking a function. A possible way to correctly mock you function would be:\r\n \r\n    Mockito&lt;JAXBElement&lt;?&gt;&gt;.when(soapConnector.callservice(\r\n              eq(&quot;target&quot;), any(),\r\n              any(), any(), eq(false))).thenReturn(response);\r\n\r\nThis way we ensure the parameters target and false are provided and don&#39;t really care for the other parameters. If you want to check on the parameters use an ArgumentCaptor.\r\n\r\nAlso notice how I explicitly defined the Generic-Parameter to the when()-function to ensure the typing ist correct.\r\n\r\nUsed static imports:\r\n\r\n    import static org.mockito.ArgumentMatchers.any;\r\n    import static org.mockito.ArgumentMatchers.eq;","title":"Mock method which contain functions as well as object as parameters?","body":"<p>If you want to mock a method with parameters mockito uses the equal method to compare the parameters. If they equal the parameters the mock is called with, the mock returns the value. If there is no match found, your mock will return null. In your case the equality check will never return true since some of the parameters are local to your testcase, and thus the mock returns null.</p>\n<p>Examples to explain this better:</p>\n<p>Assume following class:</p>\n<pre><code>class Dummy {\n        public String doSomething(String argument) {\n            return &quot;&quot;;\n        }\n}\n</code></pre>\n<p>in our test we do:</p>\n<pre><code>@Test\npublic void test() {\n    Dummy dummy = mock(Dummy.class);\n\n    when(dummy.doSomething(&quot;foo&quot;)).thenReturn(&quot;bar&quot;);\n\n    System.out.println(dummy.doSomething(&quot;foo&quot;)); // Will print bar\n    System.out.println(dummy.doSomething(&quot;something else&quot;)); // will print null\n}\n</code></pre>\n<p>As we can see only if the argument matches our mock returns the specified value.</p>\n<p>Comming back to your case, specifically requestSpy is not equal to request in the actual code, neither are both the consumer mocks since they are local variables and also are mocks.</p>\n<p>I am not quite sure what you are trying to do but it's not necessary to pass mocks while mocking a function. A possible way to correctly mock you function would be:</p>\n<pre><code>Mockito&lt;JAXBElement&lt;?&gt;&gt;.when(soapConnector.callservice(\n          eq(&quot;target&quot;), any(),\n          any(), any(), eq(false))).thenReturn(response);\n</code></pre>\n<p>This way we ensure the parameters target and false are provided and don't really care for the other parameters. If you want to check on the parameters use an ArgumentCaptor.</p>\n<p>Also notice how I explicitly defined the Generic-Parameter to the when()-function to ensure the typing ist correct.</p>\n<p>Used static imports:</p>\n<pre><code>import static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.ArgumentMatchers.eq;\n</code></pre>\n"}],"owner":{"account_id":29056682,"reputation":11,"user_id":22258320,"display_name":"AktionScript"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697551241,"creation_date":1697545272,"question_id":77308941,"body_markdown":"Writing Junit unit testcase, I am  trying to mock method callservice using Mockito. \r\n\r\n```\r\npublic CompletableFuture&lt;String&gt; getInfo(String something) \r\n{\r\n\r\nCompletableFuture&lt;String&gt; future = new CompletableFuture&lt;&gt;();\r\nJAXBElement&lt;Class1&gt; request = SoapRequests\r\n        .buildRequest(str1, str2);\r\n\t\t\r\nConsumer&lt;Exception&gt; exception = ex-&gt;{\r\nfuture.complete(&quot;exception&quot;);  \r\n}\r\n\r\nConsumer&lt;FaultType&gt; fault = fault-&gt;{\r\nfuture.complete(&quot;exception&quot;,FaultType.class);  \r\n}\r\n\r\nString target=&quot;target&quot;;\r\n\r\nJAXBElement&lt;?&gt; element = soapConnector.callservice(\r\n        target, request,\r\n        fault, ex, false);\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI have tried the following way. But, it is always return with null element\r\n\r\n```\r\nJAXBElement&lt;?&gt; response = jaxbUnmarshaller.unmarshal(&quot;xmlString&quot;,\r\n          SomeClass12.class);\r\n\r\nJAXBElement&lt;SomeClass&gt; request = SoapRequests\r\n          .buildRequest(&quot;&quot;, &quot;&quot;, &quot;&quot;);\r\nJAXBElement&lt;SomeClass&gt; requestSpy = spy(request);\t\t  \r\n\r\nConsumer&lt;FaultType&gt; faultType = mock(Consumer.class);\r\nConsumer&lt;Exception&gt; exception = mock(Consumer.class);\r\n\r\n lenient().when(soapConnector.callservice(\r\n          &quot;target&quot;, requestSpy,\r\n          faultType, exception, false)).thenAnswer(i-&gt;response);\r\n```\r\n","title":"Mock method which contain functions as well as object as parameters?","body":"<p>Writing Junit unit testcase, I am  trying to mock method callservice using Mockito.</p>\n<pre><code>public CompletableFuture&lt;String&gt; getInfo(String something) \n{\n\nCompletableFuture&lt;String&gt; future = new CompletableFuture&lt;&gt;();\nJAXBElement&lt;Class1&gt; request = SoapRequests\n        .buildRequest(str1, str2);\n        \nConsumer&lt;Exception&gt; exception = ex-&gt;{\nfuture.complete(&quot;exception&quot;);  \n}\n\nConsumer&lt;FaultType&gt; fault = fault-&gt;{\nfuture.complete(&quot;exception&quot;,FaultType.class);  \n}\n\nString target=&quot;target&quot;;\n\nJAXBElement&lt;?&gt; element = soapConnector.callservice(\n        target, request,\n        fault, ex, false);\n\n}\n</code></pre>\n<p>I have tried the following way. But, it is always return with null element</p>\n<pre><code>JAXBElement&lt;?&gt; response = jaxbUnmarshaller.unmarshal(&quot;xmlString&quot;,\n          SomeClass12.class);\n\nJAXBElement&lt;SomeClass&gt; request = SoapRequests\n          .buildRequest(&quot;&quot;, &quot;&quot;, &quot;&quot;);\nJAXBElement&lt;SomeClass&gt; requestSpy = spy(request);         \n\nConsumer&lt;FaultType&gt; faultType = mock(Consumer.class);\nConsumer&lt;Exception&gt; exception = mock(Consumer.class);\n\n lenient().when(soapConnector.callservice(\n          &quot;target&quot;, requestSpy,\n          faultType, exception, false)).thenAnswer(i-&gt;response);\n</code></pre>\n"},{"tags":["java","android","wear-os"],"owner":{"account_id":17961238,"reputation":23,"user_id":13052163,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697551117,"creation_date":1697551117,"question_id":77309661,"body_markdown":"I am working on an android wear app. I would like to implement the CurvedTextView in my NestedScrollView. Outside of the NestedScrollView the CurvedTextView is displayed. \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.wear.widget.BoxInsetLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/mainConstraintLayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;?attr/colorBackground&quot;\r\n    tools:context=&quot;.Activitys.MainActivity2&quot;\r\n    tools:deviceIds=&quot;wear&quot;&gt;\r\n\r\n    &lt;androidx.core.widget.NestedScrollView\r\n        android:id=&quot;@+id/mainNestedScrollView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:fadingEdgeLength=&quot;30dp&quot;\r\n        android:requiresFadingEdge=&quot;vertical&quot;\r\n        android:scrollbars=&quot;vertical&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;androidx.wear.widget.CurvedTextView\r\n                android:id=&quot;@+id/textViewClock&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textColor=&quot;@color/colorText&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                tools:text=&quot;12:00&quot; /&gt;\r\n\r\n\r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:id=&quot;@+id/mainRecyclerView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@+id/mainButtonMenu&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```\r\n\r\n\r\nI tried to put the CurvedTextView into an ArcLayout but it doesn&#39;t help","title":"Curved textview is not displayed","body":"<p>I am working on an android wear app. I would like to implement the CurvedTextView in my NestedScrollView. Outside of the NestedScrollView the CurvedTextView is displayed.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.wear.widget.BoxInsetLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/mainConstraintLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;?attr/colorBackground&quot;\n    tools:context=&quot;.Activitys.MainActivity2&quot;\n    tools:deviceIds=&quot;wear&quot;&gt;\n\n    &lt;androidx.core.widget.NestedScrollView\n        android:id=&quot;@+id/mainNestedScrollView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:fadingEdgeLength=&quot;30dp&quot;\n        android:requiresFadingEdge=&quot;vertical&quot;\n        android:scrollbars=&quot;vertical&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;androidx.wear.widget.CurvedTextView\n                android:id=&quot;@+id/textViewClock&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:textColor=&quot;@color/colorText&quot;\n                android:textStyle=&quot;bold&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                tools:text=&quot;12:00&quot; /&gt;\n\n\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/mainRecyclerView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:layout_constraintBottom_toTopOf=&quot;@+id/mainButtonMenu&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>I tried to put the CurvedTextView into an ArcLayout but it doesn't help</p>\n"},{"tags":["java","date","calendar"],"comments":[{"owner":{"account_id":75676,"reputation":15039,"user_id":217019,"accept_rate":89,"display_name":"Mateusz Dymczyk"},"score":25,"creation_date":1314224412,"post_id":7182996,"comment_id":8624160,"body_markdown":"actually getMonth() on Date is deprecated since forever ;)","body":"actually getMonth() on Date is deprecated since forever ;)"},{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":6,"creation_date":1314224418,"post_id":7182996,"comment_id":8624165,"body_markdown":"@slhck: Deprecated. As of JDK version 1.1, replaced by Calendar.get(Calendar.MONTH).","body":"@slhck: Deprecated. As of JDK version 1.1, replaced by Calendar.get(Calendar.MONTH)."},{"owner":{"account_id":193393,"reputation":37045,"user_id":435093,"accept_rate":83,"display_name":"slhck"},"score":0,"creation_date":1314224483,"post_id":7182996,"comment_id":8624180,"body_markdown":"@adarshr That&#39;s why I didn&#39;t write an answer. So much for a specific and well-researched question!","body":"@adarshr That&#39;s why I didn&#39;t write an answer. So much for a specific and well-researched question!"},{"owner":{"account_id":289540,"reputation":3854,"user_id":590574,"display_name":"Serabe"},"score":4,"creation_date":1314224568,"post_id":7182996,"comment_id":8624210,"body_markdown":"@Zenzen I don&#39;t see the problem in using a deprecated method in a mostly deprecated class.","body":"@Zenzen I don&#39;t see the problem in using a deprecated method in a mostly deprecated class."},{"owner":{"account_id":289540,"reputation":3854,"user_id":590574,"display_name":"Serabe"},"score":1,"creation_date":1314224637,"post_id":7182996,"comment_id":8624230,"body_markdown":"@Muhd if you are working with dates, help yourself and use [joda](http://joda-time.sourceforge.net/) or any other library.","body":"@Muhd if you are working with dates, help yourself and use <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">joda</a> or any other library."},{"owner":{"account_id":200841,"reputation":24595,"user_id":446921,"accept_rate":98,"display_name":"Muhd"},"score":0,"creation_date":1314224700,"post_id":7182996,"comment_id":8624251,"body_markdown":"@slhck I like using Stack Overflow as a reference, and this was missing so I asked.","body":"@slhck I like using Stack Overflow as a reference, and this was missing so I asked."},{"owner":{"account_id":75676,"reputation":15039,"user_id":217019,"accept_rate":89,"display_name":"Mateusz Dymczyk"},"score":1,"creation_date":1314225656,"post_id":7182996,"comment_id":8624492,"body_markdown":"@Serabe: the problem is that there are better solutions (ones that at least aren&#39;t deprecated). And getMonth has been deprecated for like 14 years now and it&#39;s been deprecated for a reason.","body":"@Serabe: the problem is that there are better solutions (ones that at least aren&#39;t deprecated). And getMonth has been deprecated for like 14 years now and it&#39;s been deprecated for a reason."},{"owner":{"account_id":289540,"reputation":3854,"user_id":590574,"display_name":"Serabe"},"score":1,"creation_date":1314225848,"post_id":7182996,"comment_id":8624535,"body_markdown":"@Zenzen: it was a joke regarding the use of a class whose methods are mostly deprecated (22 out of 33, including constructors). Sorry for the misunderstood.","body":"@Zenzen: it was a joke regarding the use of a class whose methods are mostly deprecated (22 out of 33, including constructors). Sorry for the misunderstood."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659112259,"post_id":7182996,"comment_id":129223428,"body_markdown":"Seriously, when this question was asked 11 years ago there often was no way around using `Date`, but today no one should. We have [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"Seriously, when this question was asked 11 years ago there often was no way around using <code>Date</code>, but today no one should. We have <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"comments":[{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":185,"creation_date":1314224646,"post_id":7183009,"comment_id":8624235,"body_markdown":"Note that `Calendar.MONTH` is for no apparent reasons ZERO based, ie January==0. Now that&#39;s documented just fine in the API, but it&#39;s still confusing as hell for first time users. I&#39;ve yet to find anyone who could tell me why they went with that - maybe time for a new SO question myself (though I fear there isn&#39;t any great background to that :/ )","body":"Note that <code>Calendar.MONTH</code> is for no apparent reasons ZERO based, ie January==0. Now that&#39;s documented just fine in the API, but it&#39;s still confusing as hell for first time users. I&#39;ve yet to find anyone who could tell me why they went with that - maybe time for a new SO question myself (though I fear there isn&#39;t any great background to that :/ )"},{"owner":{"account_id":200841,"reputation":24595,"user_id":446921,"accept_rate":98,"display_name":"Muhd"},"score":5,"creation_date":1314225428,"post_id":7183009,"comment_id":8624437,"body_markdown":"@Voo Date.getMonth() method was zero based, which is probably the main reason Calendar.MONTH is as well.","body":"@Voo Date.getMonth() method was zero based, which is probably the main reason Calendar.MONTH is as well."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":1,"creation_date":1314225752,"post_id":7183009,"comment_id":8624517,"body_markdown":"@Muhd Sure after all it was the replacement. But that only shifts the question around to why was Date.getMonth() zero based? Imo a horrible design, especially since days start at one (they could at least be consistent!). I assume it was just some oversight in a not especially well designed API (both Date and Calendar) to begin with. But maybe there&#39;s some precedent - it just seems strange to me and has caused problems to more than one beginner in my experience.","body":"@Muhd Sure after all it was the replacement. But that only shifts the question around to why was Date.getMonth() zero based? Imo a horrible design, especially since days start at one (they could at least be consistent!). I assume it was just some oversight in a not especially well designed API (both Date and Calendar) to begin with. But maybe there&#39;s some precedent - it just seems strange to me and has caused problems to more than one beginner in my experience."},{"owner":{"account_id":75676,"reputation":15039,"user_id":217019,"accept_rate":89,"display_name":"Mateusz Dymczyk"},"score":2,"creation_date":1314226161,"post_id":7183009,"comment_id":8624599,"body_markdown":"Actually it&#39;s been asked already here on SO (and not only). The bottom line is tnat it&#39;s a result of badly designed API. I mean as you mentioned the whole Date class is a joke. Fun fact is that not only Java suffers from this problem - iirc JavaScript&#39;s Date getMonth() also starts with a 0!","body":"Actually it&#39;s been asked already here on SO (and not only). The bottom line is tnat it&#39;s a result of badly designed API. I mean as you mentioned the whole Date class is a joke. Fun fact is that not only Java suffers from this problem - iirc JavaScript&#39;s Date getMonth() also starts with a 0!"},{"owner":{"account_id":2187770,"reputation":1558,"user_id":1935753,"accept_rate":88,"display_name":"Hele"},"score":1,"creation_date":1375752883,"post_id":7183009,"comment_id":26444896,"body_markdown":"@Voo `getYear()` is also, &quot;for no apparent reasons&quot;, subtracted by 1900.","body":"@Voo <code>getYear()</code> is also, &quot;for no apparent reasons&quot;, subtracted by 1900."},{"owner":{"account_id":13777,"reputation":149170,"user_id":27862,"accept_rate":61,"display_name":"user123444555621"},"score":0,"creation_date":1408573421,"post_id":7183009,"comment_id":39646389,"body_markdown":"@MateuszDymczyk Turns out JS&#39;s Date [is just a clone of Java&#39;s](http://www.jwz.org/blog/2010/10/every-day-i-learn-something-new-and-stupid/#comment-1048)","body":"@MateuszDymczyk Turns out JS&#39;s Date <a href=\"http://www.jwz.org/blog/2010/10/every-day-i-learn-something-new-and-stupid/#comment-1048\" rel=\"nofollow noreferrer\">is just a clone of Java&#39;s</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1434872167,"post_id":7183009,"comment_id":49956628,"body_markdown":"**CAUTION** This Answer fails to address the issue of time zone. For date-time values around the end of the month, the resulting month number could swing either way to past month or next month depending on the JVM’s current default time zone. Better to explicitly specify the desired/expected time zone.","body":"<b>CAUTION</b> This Answer fails to address the issue of time zone. For date-time values around the end of the month, the resulting month number could swing either way to past month or next month depending on the JVM’s current default time zone. Better to explicitly specify the desired/expected time zone."},{"owner":{"account_id":13731053,"reputation":135,"user_id":9908563,"display_name":"Thomas Pires"},"score":0,"creation_date":1602924374,"post_id":7183009,"comment_id":113877715,"body_markdown":"Best answer for lower api (In my case api 21)","body":"Best answer for lower api (In my case api 21)"},{"owner":{"account_id":4018212,"reputation":531,"user_id":7225946,"accept_rate":83,"display_name":"Lavandysh"},"score":0,"creation_date":1628693221,"post_id":7183009,"comment_id":121490541,"body_markdown":"For some reason this returns 7 for september here. Doesn&#39;t make sense. If I take a look at the calendar object start date is set for february. Doesn&#39;t make sense, no matter how I look at it.","body":"For some reason this returns 7 for september here. Doesn&#39;t make sense. If I take a look at the calendar object start date is set for february. Doesn&#39;t make sense, no matter how I look at it."}],"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"comment_count":9,"down_vote_count":2,"up_vote_count":334,"is_accepted":false,"score":332,"last_activity_date":1697550923,"creation_date":1314224393,"answer_id":7183009,"question_id":7182996,"body_markdown":"\r\n    java.util.Date date = new Date();\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setTime(date);\r\n    int month = cal.get(Calendar.MONTH);","title":"Java: Get month Integer from Date","body":"<pre><code>java.util.Date date = new Date();\nCalendar cal = Calendar.getInstance();\ncal.setTime(date);\nint month = cal.get(Calendar.MONTH);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1406589418,"post_id":25005370,"comment_id":38881329,"body_markdown":"Even simpler, just ask the `DateTime` object’s for its month. `int month = dateTime.getMonthOfYear();`","body":"Even simpler, just ask the <code>DateTime</code> object’s for its month. <code>int month = dateTime.getMonthOfYear();</code>"},{"owner":{"account_id":2752498,"reputation":540,"user_id":2371560,"display_name":"ssoward"},"score":0,"creation_date":1406671469,"post_id":25005370,"comment_id":38919204,"body_markdown":"Good call Basil, I have updated the code. However, I like the `.toString(&quot;MM&quot;)` as it shows there are more possibilities than just &quot;MM&quot;.","body":"Good call Basil, I have updated the code. However, I like the <code>.toString(&quot;MM&quot;)</code> as it shows there are more possibilities than just &quot;MM&quot;."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1434872413,"post_id":25005370,"comment_id":49956683,"body_markdown":"This answer ignores the crucial issue of time zone. See my comments on Question and sibling Answer. I suggest passing a `DateTimeZone` object to that DateTime constructor: `DateTimeZone.forID( &quot;America/Montreal&quot; )`.","body":"This answer ignores the crucial issue of time zone. See my comments on Question and sibling Answer. I suggest passing a <code>DateTimeZone</code> object to that DateTime constructor: <code>DateTimeZone.forID( &quot;America&#47;Montreal&quot; )</code>."}],"tags":[],"owner":{"account_id":2752498,"reputation":540,"user_id":2371560,"display_name":"ssoward"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1434871819,"creation_date":1406586511,"answer_id":25005370,"question_id":7182996,"body_markdown":"# Joda-Time\n\nAlternatively, with the [Joda-Time][1] [`DateTime`][2] class.\r\n\r\n    //convert date to datetime\r\n    DateTime datetime = new DateTime(date);\r\n    int month = Integer.parseInt(datetime.toString(&quot;MM&quot;))\r\n\r\n…or…\r\n\r\n    int month = dateTime.getMonthOfYear();\r\n\r\n\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/\r\n  [2]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html","title":"Java: Get month Integer from Date","body":"<h1>Joda-Time</h1>\n\n<p>Alternatively, with the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\" rel=\"noreferrer\"><code>DateTime</code></a> class.</p>\n\n<pre><code>//convert date to datetime\nDateTime datetime = new DateTime(date);\nint month = Integer.parseInt(datetime.toString(\"MM\"))\n</code></pre>\n\n<p>…or…</p>\n\n<pre><code>int month = dateTime.getMonthOfYear();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":200841,"reputation":24595,"user_id":446921,"accept_rate":98,"display_name":"Muhd"},"score":6,"creation_date":1431532293,"post_id":30203918,"comment_id":48543328,"body_markdown":"2 problems with your answer: one is that you can make a date with current time by doing `new Date()` without `System.currentTimeMillis`. The other is that getMonth is deprecated.","body":"2 problems with your answer: one is that you can make a date with current time by doing <code>new Date()</code> without <code>System.currentTimeMillis</code>. The other is that getMonth is deprecated."},{"owner":{"account_id":2738449,"reputation":14392,"user_id":2360535,"accept_rate":64,"display_name":"twlkyao"},"score":0,"creation_date":1431600017,"post_id":30203918,"comment_id":48572416,"body_markdown":"@Muhd So what is the best solution?","body":"@Muhd So what is the best solution?"},{"owner":{"account_id":2738449,"reputation":14392,"user_id":2360535,"accept_rate":64,"display_name":"twlkyao"},"score":0,"creation_date":1431662859,"post_id":30203918,"comment_id":48603117,"body_markdown":"@Muhd The System.currentTimeMillis() I added here was to indicate that here is a long type, and you can specific the date.","body":"@Muhd The System.currentTimeMillis() I added here was to indicate that here is a long type, and you can specific the date."},{"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"score":4,"creation_date":1434381101,"post_id":30203918,"comment_id":49741034,"body_markdown":"Date::getMonth was already deprecated in Java 1.1 (http://www.cs.mun.ca/~michael/java/jdk1.1-beta2-docs/api/java.util.Date.html#getMonth%28%29)","body":"Date::getMonth was already deprecated in Java 1.1 (<a href=\"http://www.cs.mun.ca/~michael/java/jdk1.1-beta2-docs/api/java.util.Date.html#getMonth%28%29\" rel=\"nofollow noreferrer\">cs.mun.ca/~michael/java/jdk1.1-beta2-docs/api/&hellip;</a>)"},{"owner":{"account_id":1460463,"reputation":1273,"user_id":1374929,"accept_rate":92,"display_name":"Glorious Kale"},"score":0,"creation_date":1612529014,"post_id":30203918,"comment_id":116801791,"body_markdown":"Deprecated in Java 12","body":"Deprecated in Java 12"}],"tags":[],"owner":{"account_id":2738449,"reputation":14392,"user_id":2360535,"accept_rate":64,"display_name":"twlkyao"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1431478921,"creation_date":1431478921,"answer_id":30203918,"question_id":7182996,"body_markdown":"    Date mDate = new Date(System.currentTimeMillis());\r\n    mDate.getMonth() + 1\r\n\r\nThe returned value starts from 0, so you should add one to the result.","title":"Java: Get month Integer from Date","body":"<pre><code>Date mDate = new Date(System.currentTimeMillis());\nmDate.getMonth() + 1\n</code></pre>\n\n<p>The returned value starts from 0, so you should add one to the result.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1434871605,"post_id":30847992,"comment_id":49956542,"body_markdown":"Good answer. Note to the reader: You may want to specify a time zone rather than rely on the call for default shown in the Answer. A new day (and month) dawns earlier in Paris, for example, than Montr&#233;al. If you care specifically about Montr&#233;al, the use `ZoneId.of( &quot;America/Montreal&quot; )`.","body":"Good answer. Note to the reader: You may want to specify a time zone rather than rely on the call for default shown in the Answer. A new day (and month) dawns earlier in Paris, for example, than Montr&#233;al. If you care specifically about Montr&#233;al, the use <code>ZoneId.of( &quot;America&#47;Montreal&quot; )</code>."},{"owner":{"display_name":"user813853"},"score":1,"creation_date":1434873328,"post_id":30847992,"comment_id":49956871,"body_markdown":"I just want to add that there is a great article about the introduction of *java.time* api http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html","body":"I just want to add that there is a great article about the introduction of <i>java.time</i> api <a href=\"http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/articles/java/&hellip;</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1482792938,"post_id":30847992,"comment_id":69876894,"body_markdown":"By the way, another note to the reader: You can also get a **[`Month`](http://docs.oracle.com/javase/8/docs/api/java/time/Month.html) enum object** rather than a mere integer number. `Month m = localDate.gotMonth();` See [`LocalDate::getMonth`](http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#getMonth--) method. Using objects such as this makes your code self-documenting, ensures type-safety, and guarantees valid values. See [Enum tutorial](https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html) by Oracle.","body":"By the way, another note to the reader: You can also get a <b><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Month.html\" rel=\"nofollow noreferrer\"><code>Month</code></a> enum object</b> rather than a mere integer number. <code>Month m = localDate.gotMonth();</code> See <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#getMonth--\" rel=\"nofollow noreferrer\"><code>LocalDate::getMonth</code></a> method. Using objects such as this makes your code self-documenting, ensures type-safety, and guarantees valid values. See <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">Enum tutorial</a> by Oracle."},{"owner":{"account_id":1474388,"reputation":5265,"user_id":1385174,"accept_rate":60,"display_name":"Adam"},"score":1,"creation_date":1487945755,"post_id":30847992,"comment_id":72025503,"body_markdown":"if you use `date.toInstant()` and you happen to be working with a `java.sql.Date` (the child of `java.util.Date`) then you will get an `UnsupportedOperationException`. Try `new java.sql.Date(src.getTime()).toLocalDate()`","body":"if you use <code>date.toInstant()</code> and you happen to be working with a <code>java.sql.Date</code> (the child of <code>java.util.Date</code>) then you will get an <code>UnsupportedOperationException</code>. Try <code>new java.sql.Date(src.getTime()).toLocalDate()</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1490255701,"post_id":30847992,"comment_id":73032807,"body_markdown":"@Adam Much easier to convert to/from [`java.sql.Date`](https://docs.oracle.com/javase/8/docs/api/java/sql/Date.html) by using the new conversion methods added to that old class. `java.sql.Date.valueOf( myLocalDate )` and `myJavaSqlDate.toLocalDate()`  Also, JDBC drivers updated for JDBC 4.2 or later no longer need `java.sql` types, and can directly address `java.time` types via the `ResultSet::getObject` and `PreparedStatement::setObject` methods.","body":"@Adam Much easier to convert to/from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Date.html\" rel=\"nofollow noreferrer\"><code>java.sql.Date</code></a> by using the new conversion methods added to that old class. <code>java.sql.Date.valueOf( myLocalDate )</code> and <code>myJavaSqlDate.toLocalDate()</code>  Also, JDBC drivers updated for JDBC 4.2 or later no longer need <code>java.sql</code> types, and can directly address <code>java.time</code> types via the <code>ResultSet::getObject</code> and <code>PreparedStatement::setObject</code> methods."},{"owner":{"account_id":1474388,"reputation":5265,"user_id":1385174,"accept_rate":60,"display_name":"Adam"},"score":0,"creation_date":1490274844,"post_id":30847992,"comment_id":73046112,"body_markdown":"Good to know about JDBC 4.2 and I agree with you, but the warning about the `UnsupportedOperationException` applies unless you are absolutely sure you&#39;re not going to be passed `java.sql.Date` when you use `java.util.Date::toInstant`. A poor implementation when they wrote `java.sql.Date`, IMHO.","body":"Good to know about JDBC 4.2 and I agree with you, but the warning about the <code>UnsupportedOperationException</code> applies unless you are absolutely sure you&#39;re not going to be passed <code>java.sql.Date</code> when you use <code>java.util.Date::toInstant</code>. A poor implementation when they wrote <code>java.sql.Date</code>, IMHO."}],"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"comment_count":6,"down_vote_count":1,"up_vote_count":88,"is_accepted":true,"score":87,"last_activity_date":1512963575,"creation_date":1434379105,"answer_id":30847992,"question_id":7182996,"body_markdown":"# java.time (Java 8)\r\n\r\nYou can also use the [java.time package](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) in Java 8 and convert your [`java.util.Date`](http://docs.oracle.com/javase/8/docs/api/java/util/Date.html) object to a [`java.time.LocalDate`](http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) object and then just use the [`getMonthValue()`](http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#getMonthValue--) method.\r\n\r\n    Date date = new Date();\r\n    LocalDate localDate = date.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\r\n    int month = localDate.getMonthValue();\r\n\r\nNote that month values are here given from 1 to 12 contrary to `cal.get(Calendar.MONTH)` in adarshr&#39;s answer which gives values from 0 to 11.\r\n\r\nBut as Basil Bourque said in the comments, the preferred way is to get a [`Month`](http://docs.oracle.com/javase/8/docs/api/java/time/Month.html) enum object with the [`LocalDate::getMonth`](http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#getMonth--) method. ","title":"Java: Get month Integer from Date","body":"<h1>java.time (Java 8)</h1>\n\n<p>You can also use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time package</a> in Java 8 and convert your <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a> object to a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>java.time.LocalDate</code></a> object and then just use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#getMonthValue--\" rel=\"noreferrer\"><code>getMonthValue()</code></a> method.</p>\n\n<pre><code>Date date = new Date();\nLocalDate localDate = date.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\nint month = localDate.getMonthValue();\n</code></pre>\n\n<p>Note that month values are here given from 1 to 12 contrary to <code>cal.get(Calendar.MONTH)</code> in adarshr's answer which gives values from 0 to 11.</p>\n\n<p>But as Basil Bourque said in the comments, the preferred way is to get a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Month.html\" rel=\"noreferrer\"><code>Month</code></a> enum object with the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#getMonth--\" rel=\"noreferrer\"><code>LocalDate::getMonth</code></a> method. </p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1523740529,"creation_date":1452905819,"answer_id":34822338,"question_id":7182996,"body_markdown":"# tl;dr\r\n\r\n    myUtilDate.toInstant()                          // Convert from legacy class to modern. `Instant` is a point on the timeline in UTC.\r\n              .atZone(                              // Adjust from UTC to a particular time zone to determine date. Renders a `ZonedDateTime` object. \r\n                  ZoneId.of( &quot;America/Montreal&quot; )   // Better to specify desired/expected zone explicitly than rely implicitly on the JVM’s current default time zone.\r\n              )                                     // Returns a `ZonedDateTime` object.\r\n              .getMonthValue()                      // Extract a month number. Returns a `int` number.\r\n\r\n# `java.time` Details\r\n\r\n[The Answer](https://stackoverflow.com/a/30847992/642706) by Ortomala Lokni for using [java.time][1] is correct. And you *should* be using java.time as it is a gigantic improvement over the old java.util.Date/.Calendar classes. See the [Oracle Tutorial][2] on java.time.\r\n\r\nI&#39;ll add some code showing how to use java.time without regard to java.util.Date, for when you are starting out with fresh code.\r\n\r\nUsing java.time in a nutshell… An [`Instant`][3] is a moment on the timeline in UTC. Apply a time zone ([`ZoneId`][4]) to get a [`ZonedDateTime`][5]. \r\n\r\nThe [`Month`](http://docs.oracle.com/javase/8/docs/api/java/time/Month.html) class is a sophisticated [enum][6] to represent a month in general. That enum has handy methods such as getting a localized name. And rest assured that the month number in java.time is a sane one, 1-12, not the zero-based nonsense (0-11) found in java.util.Date/.Calendar.\r\n\r\nTo get the current date-time, [time zone][7] is crucial. At any moment the date is *not* the same around the world. Therefore the month is not the same around the world if near the ending/beginning of the month.\r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );  // Or &#39;ZoneOffset.UTC&#39;.\r\n    ZonedDateTime now = ZonedDateTime.now( zoneId );\r\n    Month month = now.getMonth(); \r\n    int monthNumber = month.getValue(); // Answer to the Question.\r\n    String monthName = month.getDisplayName( TextStyle.FULL , Locale.CANADA_FRENCH );\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/datetime/TOC.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\r\n  [5]: http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [6]: http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [7]: https://en.wikipedia.org/wiki/Time_zone","title":"Java: Get month Integer from Date","body":"<h1>tl;dr</h1>\n\n<pre><code>myUtilDate.toInstant()                          // Convert from legacy class to modern. `Instant` is a point on the timeline in UTC.\n          .atZone(                              // Adjust from UTC to a particular time zone to determine date. Renders a `ZonedDateTime` object. \n              ZoneId.of( \"America/Montreal\" )   // Better to specify desired/expected zone explicitly than rely implicitly on the JVM’s current default time zone.\n          )                                     // Returns a `ZonedDateTime` object.\n          .getMonthValue()                      // Extract a month number. Returns a `int` number.\n</code></pre>\n\n<h1><code>java.time</code> Details</h1>\n\n<p><a href=\"https://stackoverflow.com/a/30847992/642706\">The Answer</a> by Ortomala Lokni for using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> is correct. And you <em>should</em> be using java.time as it is a gigantic improvement over the old java.util.Date/.Calendar classes. See the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Oracle Tutorial</a> on java.time.</p>\n\n<p>I'll add some code showing how to use java.time without regard to java.util.Date, for when you are starting out with fresh code.</p>\n\n<p>Using java.time in a nutshell… An <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> is a moment on the timeline in UTC. Apply a time zone (<a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"noreferrer\"><code>ZoneId</code></a>) to get a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a>. </p>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Month.html\" rel=\"noreferrer\"><code>Month</code></a> class is a sophisticated <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"noreferrer\">enum</a> to represent a month in general. That enum has handy methods such as getting a localized name. And rest assured that the month number in java.time is a sane one, 1-12, not the zero-based nonsense (0-11) found in java.util.Date/.Calendar.</p>\n\n<p>To get the current date-time, <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"noreferrer\">time zone</a> is crucial. At any moment the date is <em>not</em> the same around the world. Therefore the month is not the same around the world if near the ending/beginning of the month.</p>\n\n<pre><code>ZoneId zoneId = ZoneId.of( \"America/Montreal\" );  // Or 'ZoneOffset.UTC'.\nZonedDateTime now = ZonedDateTime.now( zoneId );\nMonth month = now.getMonth(); \nint monthNumber = month.getValue(); // Answer to the Question.\nString monthName = month.getDisplayName( TextStyle.FULL , Locale.CANADA_FRENCH );\n</code></pre>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"comments":[{"owner":{"account_id":2369251,"reputation":837,"user_id":2074238,"accept_rate":25,"display_name":"Tzegenos"},"score":0,"creation_date":1530648074,"post_id":35657061,"comment_id":89307517,"body_markdown":"You are the mother! / Είσαι η μάνα!","body":"You are the mother! / Είσαι η μάνα!"}],"tags":[],"owner":{"account_id":2224914,"reputation":335,"user_id":1963909,"accept_rate":62,"display_name":"Badr DRAIFI"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1520863070,"creation_date":1456504578,"answer_id":35657061,"question_id":7182996,"body_markdown":"If you can&#39;t use Joda time and you still live in the dark world :) ( Java 5 or lower ) you can enjoy this : \r\n\r\nNote: Make sure your date is allready made by the format : dd/MM/YYYY\r\n\r\n    /**\r\n    Make an int Month from a date\r\n    */\r\n    public static int getMonthInt(Date date) {\r\n\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM&quot;);\r\n        return Integer.parseInt(dateFormat.format(date));\r\n    }\r\n\r\n    /**\r\n    Make an int Year from a date\r\n    */\r\n    public static int getYearInt(Date date) {\r\n\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy&quot;);\r\n        return Integer.parseInt(dateFormat.format(date));\r\n    }\r\n\r\n","title":"Java: Get month Integer from Date","body":"<p>If you can't use Joda time and you still live in the dark world :) ( Java 5 or lower ) you can enjoy this : </p>\n\n<p>Note: Make sure your date is allready made by the format : dd/MM/YYYY</p>\n\n<pre><code>/**\nMake an int Month from a date\n*/\npublic static int getMonthInt(Date date) {\n\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"MM\");\n    return Integer.parseInt(dateFormat.format(date));\n}\n\n/**\nMake an int Year from a date\n*/\npublic static int getYearInt(Date date) {\n\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy\");\n    return Integer.parseInt(dateFormat.format(date));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":236549,"reputation":2564,"user_id":504112,"accept_rate":55,"display_name":"gumuruh"},"score":1,"creation_date":1608868363,"post_id":39270198,"comment_id":115704339,"body_markdown":"is this 0 for january or 1?","body":"is this 0 for january or 1?"},{"owner":{"account_id":1460463,"reputation":1273,"user_id":1374929,"accept_rate":92,"display_name":"Glorious Kale"},"score":0,"creation_date":1612528822,"post_id":39270198,"comment_id":116801712,"body_markdown":"This only returns single-digit values i.e. you can&#39;t form a mm dd value from it without using date or calendar","body":"This only returns single-digit values i.e. you can&#39;t form a mm dd value from it without using date or calendar"}],"tags":[],"owner":{"account_id":9073333,"reputation":331,"user_id":6755701,"display_name":"Ketan Chitale"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1520862749,"creation_date":1472728938,"answer_id":39270198,"question_id":7182996,"body_markdown":"If you use **Java 8** date api, you can directly get it in one line!\r\n\r\n    LocalDate today = LocalDate.now();\r\n    int month = today.getMonthValue();\r\n\r\n \t       ","title":"Java: Get month Integer from Date","body":"<p>If you use <strong>Java 8</strong> date api, you can directly get it in one line!</p>\n\n<pre><code>LocalDate today = LocalDate.now();\nint month = today.getMonthValue();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659112107,"post_id":73163085,"comment_id":129223380,"body_markdown":"May also use `YearMonth.now()` or `MonthDay.now()`. And may pass a `ZoneId` to the `now` method to make it clear that the operation is time zone dependent.","body":"May also use <code>YearMonth.now()</code> or <code>MonthDay.now()</code>. And may pass a <code>ZoneId</code> to the <code>now</code> method to make it clear that the operation is time zone dependent."}],"tags":[],"owner":{"account_id":4903002,"reputation":1493,"user_id":3950587,"accept_rate":100,"display_name":"Shailesh Vikram Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659343624,"creation_date":1659079827,"answer_id":73163085,"question_id":7182996,"body_markdown":"If we use java.time.LocalDate api, we can get month number in integer in single line:\r\n\r\n    import java.time.LocalDate;\r\n    ...\r\n    int currentMonthNumber = LocalDate.now().getMonthValue(); //OR\r\n    LocalDate scoringDate = LocalDate.parse(&quot;2022-07-01&quot;).getMonthValue(); //for String date\r\n\r\nFor example today&#39;s date is 29-July-2022, output will be 7.","title":"Java: Get month Integer from Date","body":"<p>If we use java.time.LocalDate api, we can get month number in integer in single line:</p>\n<pre><code>import java.time.LocalDate;\n...\nint currentMonthNumber = LocalDate.now().getMonthValue(); //OR\nLocalDate scoringDate = LocalDate.parse(&quot;2022-07-01&quot;).getMonthValue(); //for String date\n</code></pre>\n<p>For example today's date is 29-July-2022, output will be 7.</p>\n"}],"owner":{"account_id":200841,"reputation":24595,"user_id":446921,"accept_rate":98,"display_name":"Muhd"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464399,"favorite_count":0,"down_vote_count":3,"up_vote_count":200,"accepted_answer_id":30847992,"answer_count":8,"score":197,"last_activity_date":1697550923,"creation_date":1314224281,"question_id":7182996,"body_markdown":"How do I get the month as an integer from a Date object (`java.util.Date`)?","title":"Java: Get month Integer from Date","body":"<p>How do I get the month as an integer from a Date object (<code>java.util.Date</code>)?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9798,"page":119,"page_size":100}
