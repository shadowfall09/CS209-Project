{"items":[{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1693321393,"post_id":77001271,"comment_id":135743596,"body_markdown":"This is very likely because of integer over- / underflow. You use values that are very close to integers minimum value, so when you compare them by simply using the `-` operator you will get wrong results.","body":"This is very likely because of integer over- / underflow. You use values that are very close to integers minimum value, so when you compare them by simply using the <code>-</code> operator you will get wrong results."},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1693321525,"post_id":77001271,"comment_id":135743624,"body_markdown":"Try to change`(a,b)-&gt;a[0]-b[0]` to  `(a,b)-&gt;Integer.compare(a[0], b[0])`  and see if it fixes your problem.","body":"Try to change<code>(a,b)-&gt;a[0]-b[0]</code> to  <code>(a,b)-&gt;Integer.compare(a[0], b[0])</code>  and see if it fixes your problem."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1693334363,"post_id":77001271,"comment_id":135746269,"body_markdown":"@OHGODSPIDERS is right. `-2147483646 - 2147483646` overflows to `4`, which means that the sorting thinks that `2147483646` is __larger__ than `2147483646`.","body":"@OHGODSPIDERS is right. <code>-2147483646 - 2147483646</code> overflows to <code>4</code>, which means that the sorting thinks that <code>2147483646</code> is <b>larger</b> than <code>2147483646</code>."}],"owner":{"account_id":28549447,"reputation":11,"user_id":21854530,"display_name":"Sakshi Rautela"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693321162,"creation_date":1693320640,"question_id":77001271,"body_markdown":"The comparator method is giving positive value first then negative:\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\nclass FindMinArrowShots {\r\n    public static int findMinArrowShots(int[][] points) {\r\n        if(points.length&lt;=1){\r\n            return points.length;\r\n        }\r\n        Arrays.sort(points,(a,b)-&gt;a[0]-b[0]);\r\n        for(int i=0;i&lt;points.length;i++){\r\n            System.out.println(points[i][0] + &quot;,&quot; + points[i][1]+&quot; &quot;);\r\n\r\n        }\r\n        int compare=Integer.MAX_VALUE;\r\n        int shots=1;\r\n        for (int i=0;i&lt;points.length;i++) {\r\n            if(points[i][0]&gt;compare){\r\n                compare=points[i][1];\r\n                shots++;\r\n            }\r\n            compare=Math.min(compare,points[i][1]);\r\n        }\r\n        return shots;\r\n\r\n    }\r\n    public static void main(String[] args) {\r\n        System.out.println(findMinArrowShots(new int[][]{{-2147483646,-2147483645 } ,{ 2147483646,2147483647 } }));\r\n    }\r\n}\r\n```\r\n\r\ne.g. the input \r\n`(new int[][]{{-2147483646,-2147483645}, {2147483646, 2147483647}})`\r\n\r\nis giving the output \r\n`{{ 2147483646,2147483647 },{-2147483646,-2147483645 }}`\r\n\r\n\r\nAlso the input \r\n`(new int[][]{{-2147483646,-2147483645 }, {2147483646, 2147483647}})`\r\n\r\nis giving the output\r\n`{{ 2147483646,2147483647}, {-2147483646,-2147483645 }}`\r\ninstead of\r\n`{{-2147483646,-2147483645}, { 2147483646, 2147483647 }}` ","title":"Why is the comparator method giving positive value first then negative?","body":"<p>The comparator method is giving positive value first then negative:</p>\n<pre><code>import java.util.Arrays;\n\nclass FindMinArrowShots {\n    public static int findMinArrowShots(int[][] points) {\n        if(points.length&lt;=1){\n            return points.length;\n        }\n        Arrays.sort(points,(a,b)-&gt;a[0]-b[0]);\n        for(int i=0;i&lt;points.length;i++){\n            System.out.println(points[i][0] + &quot;,&quot; + points[i][1]+&quot; &quot;);\n\n        }\n        int compare=Integer.MAX_VALUE;\n        int shots=1;\n        for (int i=0;i&lt;points.length;i++) {\n            if(points[i][0]&gt;compare){\n                compare=points[i][1];\n                shots++;\n            }\n            compare=Math.min(compare,points[i][1]);\n        }\n        return shots;\n\n    }\n    public static void main(String[] args) {\n        System.out.println(findMinArrowShots(new int[][]{{-2147483646,-2147483645 } ,{ 2147483646,2147483647 } }));\n    }\n}\n</code></pre>\n<p>e.g. the input\n<code>(new int[][]{{-2147483646,-2147483645}, {2147483646, 2147483647}})</code></p>\n<p>is giving the output\n<code>{{ 2147483646,2147483647 },{-2147483646,-2147483645 }}</code></p>\n<p>Also the input\n<code>(new int[][]{{-2147483646,-2147483645 }, {2147483646, 2147483647}})</code></p>\n<p>is giving the output\n<code>{{ 2147483646,2147483647}, {-2147483646,-2147483645 }}</code>\ninstead of\n<code>{{-2147483646,-2147483645}, { 2147483646, 2147483647 }}</code></p>\n"},{"tags":["java","sorting","selenium-webdriver"],"owner":{"account_id":8475811,"reputation":21,"user_id":6357584,"display_name":"kc29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693320864,"creation_date":1693320864,"question_id":77001298,"body_markdown":"I&#39;m trying to write a Selenium test to validate primary and secondary sorting within a table. My table includes a Name and Date/Time column. I need to verify that the date/time column is sorted in descending order and then by Name in ascending order. My code below works except for if the date is the same with a different time. How do I get it to factor in the time? For reference, I&#39;m using Selenium 4.11.0 and Java 11. \r\n\r\nHere is a snippet of my code. \r\n\r\n    public void primaryAndSecondarySorting(List&lt;String&gt; col1, List&lt;String&gt; col2, int sortType){\r\n    List&lt;String&gt; concat = new ArrayList&lt;&gt;();\r\n    for(int i = 0; i &lt; col1.size(); i++){\r\n        concat.add(col1.get(i).concat(&quot;|&quot;).concat(col2.get(i)));\r\n    }       \r\n    \r\n    List&lt;String&gt; expected = new ArrayList&lt;String&gt;(concat);\r\n    Collections.sort(expected, sortType == 1 ? Collections.reverseOrder(String::compareTo) : String::compareTo);\r\n    assertTrue(concat.equals(expected));\r\n}\r\n\r\nOutput:\r\n\r\nconcat{08/03/2023 2:31 PM|ABI, JOXXX, 06/13/2023 1:22 PM|BEE, STXXX, 06/06/2023 10:07 AM|AAXX, JEXXX, 06/06/2023 9:36 AM|BEE, FRXXX}\r\n\r\nexpected{08/03/2023 2:31 PM|ABI, JOXXX, 06/13/2023 1:22 PM|BEE, STXXX, 06/06/2023 9:36 AM|BEE, FRXXX, 06/06/2023 10:07 AM|AAXX, JEXXX}","title":"Selenium Testing of Primary and Secondary sorting with a date","body":"<p>I'm trying to write a Selenium test to validate primary and secondary sorting within a table. My table includes a Name and Date/Time column. I need to verify that the date/time column is sorted in descending order and then by Name in ascending order. My code below works except for if the date is the same with a different time. How do I get it to factor in the time? For reference, I'm using Selenium 4.11.0 and Java 11.</p>\n<p>Here is a snippet of my code.</p>\n<pre><code>public void primaryAndSecondarySorting(List&lt;String&gt; col1, List&lt;String&gt; col2, int sortType){\nList&lt;String&gt; concat = new ArrayList&lt;&gt;();\nfor(int i = 0; i &lt; col1.size(); i++){\n    concat.add(col1.get(i).concat(&quot;|&quot;).concat(col2.get(i)));\n}       \n\nList&lt;String&gt; expected = new ArrayList&lt;String&gt;(concat);\nCollections.sort(expected, sortType == 1 ? Collections.reverseOrder(String::compareTo) : String::compareTo);\nassertTrue(concat.equals(expected));\n</code></pre>\n<p>}</p>\n<p>Output:</p>\n<p>concat{08/03/2023 2:31 PM|ABI, JOXXX, 06/13/2023 1:22 PM|BEE, STXXX, 06/06/2023 10:07 AM|AAXX, JEXXX, 06/06/2023 9:36 AM|BEE, FRXXX}</p>\n<p>expected{08/03/2023 2:31 PM|ABI, JOXXX, 06/13/2023 1:22 PM|BEE, STXXX, 06/06/2023 9:36 AM|BEE, FRXXX, 06/06/2023 10:07 AM|AAXX, JEXXX}</p>\n"},{"tags":["java","unit-testing","junit","mockito","tdd"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692090445,"post_id":76904635,"comment_id":135574461,"body_markdown":"You can use `Matchers.eq` to match a specific parameter value","body":"You can use <code>Matchers.eq</code> to match a specific parameter value"},{"owner":{"account_id":5759686,"reputation":315,"user_id":4546488,"display_name":"obela06"},"score":0,"creation_date":1692091300,"post_id":76904635,"comment_id":135574605,"body_markdown":"Hi @Jorn, can you show me an example to explain me how can i us Matchers.eq with my two parameters SAVE or UPDATE","body":"Hi @Jorn, can you show me an example to explain me how can i us Matchers.eq with my two parameters SAVE or UPDATE"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692091395,"post_id":76904635,"comment_id":135574624,"body_markdown":"There are a ton of examples for that available on Google","body":"There are a ton of examples for that available on Google"},{"owner":{"account_id":5759686,"reputation":315,"user_id":4546488,"display_name":"obela06"},"score":0,"creation_date":1692091670,"post_id":76904635,"comment_id":135574673,"body_markdown":"@Jorn, in can do this example : verify( messageInTopic, times(1))sendMessage(result.getId(),eq( Msg.SAVE),eq( Msg.UPDATE)); my sendMessage method must have two arguments , the id and the string Msg.SAVE or Msg.UPDATE.","body":"@Jorn, in can do this example : verify( messageInTopic, times(1))sendMessage(result.getId(),eq( Msg.SAVE),eq( Msg.UPDATE)); my sendMessage method must have two arguments , the id and the string Msg.SAVE or Msg.UPDATE."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1692100252,"post_id":76904635,"comment_id":135576184,"body_markdown":"You are mocking _everything_, even your service! What are you actually testing? Correct, _nothing_ except your mock setup. Your real `CustomerService.saveCustomer` logic is never executed (and thus `sendMessage` never called)","body":"You are mocking <i>everything</i>, even your service! What are you actually testing? Correct, <i>nothing</i> except your mock setup. Your real <code>CustomerService.saveCustomer</code> logic is never executed (and thus <code>sendMessage</code> never called)"}],"answers":[{"tags":[],"owner":{"account_id":29142851,"reputation":21,"user_id":22325451,"display_name":"Keji C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692133898,"creation_date":1692133898,"answer_id":76909143,"question_id":76904635,"body_markdown":"@knittl has it correct. Your verify call is correct. The problem is you&#39;re mocking the class you&#39;re trying to test. When you call `mock(CustomerService.class)`, Mockito is actually creating a class that stubs all the methods (i.e. overrides them and returns a default):\r\n```\r\nclass CustomerServiceMock extends CustomerService {\r\n  ...\r\n  @Override\r\n  public Customer saveCustomer(Customer savedCustomer) {\r\n    // Stub\r\n    return null;\r\n  }\r\n  ...\r\n}\r\n```\r\nSo `customerService.saveCustomer(customer)` will return null since customerService is actually a CustomerServiceMock. `assertEquals(result, customer)` will fail because of this. The solution is to replace `customerService = mock(CustomerService.class);` with `customerService = new CustomerService(customerRepository, messageInTopic)`. Note that customerRepository and messageInTopic are the mocks you&#39;ve declared.\r\n\r\nHOWEVER, your assertEqual should still fail because of these lines. \r\n```\r\nwhen(customerRepository.findCustomerByEmail(customer.getEmail())\r\n        .thenReturn(Optional.of(customerEntity));\r\nwhen(customerRepository.save(customerEntity)).thenReturn(customerEntity);\r\n```\r\nThese make it so that `saveCustomer(customer)` returns the mock `customerEntity`.\r\n\r\n 1. the `assertEquals` fails because `customerEntity` does not match `customer`.\r\n 2. the `verify(messageInTopic ...` also won&#39;t work because `sendMessage(result.getId(),Msg.SAVE)` is equivalent to `sendMessage(null, Msg.SAVE)`. This is because `customerEntity` is a `mock(Customer.class)`, which means that `customerEntity.getId` looks like this:\r\n```\r\nclass CustomerMock extends Customer {\r\n...\r\n\r\n  public String getId() {\r\n    // Stub\r\n    return null;\r\n  }\r\n...\r\n}\r\n```\r\nThere are many ways to fix this. My recommendation is to just remove `customerEntity` and use `customer` like so:\r\n```\r\nwhen(customerRepository.findCustomerByEmail(customer.getEmail())\r\n        .thenReturn(Optional.of(customer));\r\nwhen(customerRepository.save(customer)).thenReturn(customer);\r\n```\r\nThis will make it so that saveCustomer returns `customer` so that the assertEqual passes. It will also make it so that `savedCustomer.getId()` and `result.getId()` are equal. `findCustomerByEmail` is supposed to return the real customer anyways, so this makes the most sense to me.\r\n\r\n---\r\nAlso just as an FYI: Matchers.eq and just directly using the argument are functionally the same, so it won&#39;t change anything:\r\n```\r\nverify(messageInTopic, times(1)).sendMessage(result.getId(),Msg.SAVE);\r\nverify(messageInTopic, times(1)).sendMessage(Matchers.eq(result.getId()), Matchers.eq(Msg.SAVE));\r\n```\r\nSo why use Matchers.eq at all? Well let&#39;s say you only want to verify that sendMessage is called with Msg.SAVE vs. Msg.UPDATE and you don&#39;t care about the id. The problem is that you CANNOT mix matchers and direct arguments, so this doesn&#39;t work:\r\n```\r\nverify(messageInTopic, times(1)).sendMessage(Matchers.any(), Msg.SAVE);\r\n```\r\nBut this will work:\r\n```\r\nverify(messageInTopic, times(1)).sendMessage(Matchers.any(), Matchers.eq(Msg.SAVE));\r\n```\r\n---\r\nAlso as a second FYI, there are many different ways to verify arguments. Here&#39;s a post with information about all the different ways: https://stackoverflow.com/questions/3555472/mockito-verify-method-arguments. This is especially important if you want to verify arguments that are objects.","title":"How to verify that a specific method was called with this parameter or another parameter using mockito?","body":"<p>@knittl has it correct. Your verify call is correct. The problem is you're mocking the class you're trying to test. When you call <code>mock(CustomerService.class)</code>, Mockito is actually creating a class that stubs all the methods (i.e. overrides them and returns a default):</p>\n<pre><code>class CustomerServiceMock extends CustomerService {\n  ...\n  @Override\n  public Customer saveCustomer(Customer savedCustomer) {\n    // Stub\n    return null;\n  }\n  ...\n}\n</code></pre>\n<p>So <code>customerService.saveCustomer(customer)</code> will return null since customerService is actually a CustomerServiceMock. <code>assertEquals(result, customer)</code> will fail because of this. The solution is to replace <code>customerService = mock(CustomerService.class);</code> with <code>customerService = new CustomerService(customerRepository, messageInTopic)</code>. Note that customerRepository and messageInTopic are the mocks you've declared.</p>\n<p>HOWEVER, your assertEqual should still fail because of these lines.</p>\n<pre><code>when(customerRepository.findCustomerByEmail(customer.getEmail())\n        .thenReturn(Optional.of(customerEntity));\nwhen(customerRepository.save(customerEntity)).thenReturn(customerEntity);\n</code></pre>\n<p>These make it so that <code>saveCustomer(customer)</code> returns the mock <code>customerEntity</code>.</p>\n<ol>\n<li>the <code>assertEquals</code> fails because <code>customerEntity</code> does not match <code>customer</code>.</li>\n<li>the <code>verify(messageInTopic ...</code> also won't work because <code>sendMessage(result.getId(),Msg.SAVE)</code> is equivalent to <code>sendMessage(null, Msg.SAVE)</code>. This is because <code>customerEntity</code> is a <code>mock(Customer.class)</code>, which means that <code>customerEntity.getId</code> looks like this:</li>\n</ol>\n<pre><code>class CustomerMock extends Customer {\n...\n\n  public String getId() {\n    // Stub\n    return null;\n  }\n...\n}\n</code></pre>\n<p>There are many ways to fix this. My recommendation is to just remove <code>customerEntity</code> and use <code>customer</code> like so:</p>\n<pre><code>when(customerRepository.findCustomerByEmail(customer.getEmail())\n        .thenReturn(Optional.of(customer));\nwhen(customerRepository.save(customer)).thenReturn(customer);\n</code></pre>\n<p>This will make it so that saveCustomer returns <code>customer</code> so that the assertEqual passes. It will also make it so that <code>savedCustomer.getId()</code> and <code>result.getId()</code> are equal. <code>findCustomerByEmail</code> is supposed to return the real customer anyways, so this makes the most sense to me.</p>\n<hr />\n<p>Also just as an FYI: Matchers.eq and just directly using the argument are functionally the same, so it won't change anything:</p>\n<pre><code>verify(messageInTopic, times(1)).sendMessage(result.getId(),Msg.SAVE);\nverify(messageInTopic, times(1)).sendMessage(Matchers.eq(result.getId()), Matchers.eq(Msg.SAVE));\n</code></pre>\n<p>So why use Matchers.eq at all? Well let's say you only want to verify that sendMessage is called with Msg.SAVE vs. Msg.UPDATE and you don't care about the id. The problem is that you CANNOT mix matchers and direct arguments, so this doesn't work:</p>\n<pre><code>verify(messageInTopic, times(1)).sendMessage(Matchers.any(), Msg.SAVE);\n</code></pre>\n<p>But this will work:</p>\n<pre><code>verify(messageInTopic, times(1)).sendMessage(Matchers.any(), Matchers.eq(Msg.SAVE));\n</code></pre>\n<hr />\n<p>Also as a second FYI, there are many different ways to verify arguments. Here's a post with information about all the different ways: <a href=\"https://stackoverflow.com/questions/3555472/mockito-verify-method-arguments\">Mockito. Verify method arguments</a>. This is especially important if you want to verify arguments that are objects.</p>\n"},{"tags":[],"owner":{"account_id":748890,"reputation":9396,"user_id":730754,"accept_rate":50,"display_name":"Eduardo Y&#225;&#241;ez Parareda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693320714,"creation_date":1693320714,"answer_id":77001281,"question_id":76904635,"body_markdown":"There are several ways to do it. For example, using captors:\r\n\r\nFirst declare a captor of the argument you want to check in the test class:\r\n\r\n    @Captor\r\n    private ArgumentCaptor&lt;Msg.class&gt; msgCaptor;\r\n\r\nThen in the test, verify and assert the correct value:\r\n\r\n    verify(messageInTopic).sendMessage(result.getId(), msgCaptor.capture());\r\n    // If using org.assertj.core.api.Assertions.assertThat;\r\n    assertThat(msgCaptor.getValue()).isEqualTo(Msg.SAVE);","title":"How to verify that a specific method was called with this parameter or another parameter using mockito?","body":"<p>There are several ways to do it. For example, using captors:</p>\n<p>First declare a captor of the argument you want to check in the test class:</p>\n<pre><code>@Captor\nprivate ArgumentCaptor&lt;Msg.class&gt; msgCaptor;\n</code></pre>\n<p>Then in the test, verify and assert the correct value:</p>\n<pre><code>verify(messageInTopic).sendMessage(result.getId(), msgCaptor.capture());\n// If using org.assertj.core.api.Assertions.assertThat;\nassertThat(msgCaptor.getValue()).isEqualTo(Msg.SAVE);\n</code></pre>\n"}],"owner":{"account_id":5759686,"reputation":315,"user_id":4546488,"display_name":"obela06"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693320714,"creation_date":1692090403,"question_id":76904635,"body_markdown":"How to verify that my sendMessage method is called with Msg.SAVE or with Msg.UPDATE using mockito&#39;s verify method.\r\n\r\n    @Service\r\n    public class CustomerService {\r\n    private final CustomerRepository customerRepository;\r\n    private final SendMessageInTopic messageInTopic;\r\n    public CustomerService (CustomerRepository customerRepository,  SendMessageInTopic messageInTopic) \r\n     {\r\n        this.customerRepository = customerRepository;\r\n        this.messageInTopic= messageInTopic;\r\n     }\r\n    \r\n    public Customer saveCustomer(Customer savedCustomer) {\r\n            Customer customer =    customerRepository\r\n                    .findCustomerByEmail(savedCustomer.getEmail());\r\n    \r\n            if(customer != null) {\r\n                customer.setFirstName(savedCustomer.getFirstName());\r\n                customer.setLastName(savedCustomer.getLastName());\r\n                customer.setPhoneNumber(savedCustomer.getPhoneNumber());\r\n                messageInTopic.sendMessage(savedCustomer.getId(),Msg.SAVE)\r\n            } else {\r\n                customer = new Customer();\r\n                customer.setFirstName(savedCustomer.getFirstName());\r\n                customer.setLastName(savedCustomer.getLastName());\r\n                customer.setEmail(savedCustomer.getEmail());\r\n                customer.setPhoneNumber(savedCustomer.getPhoneNumber());\r\n                messageInTopic.sendMessage(savedCustomer.getId(),Msg.Update)\r\n            }\r\n            return customerRepository.save(customer);\r\n        }\r\n    }\r\n\r\n    public class CustomerServiceTest{\r\n    private final CustomerRepository customerRepository = mock(CustomerRepository.class);\r\n    private final CustomerService customerService = mock(CustomerService.class);\r\n    private final SendMessageInTopic  messageInTopic = mock(SendMessageInTopic.class);\r\n    private final CustomerMapper customerMapper = mock(CustomerMapper.class);\r\n        @Test\r\n        void whenSaveCustomerThenMsgSAVEOrUPDATE() {\r\n        // Given\r\n    \r\n        final var customerId = &quot;123456&quot;;\r\n        final var customer =\r\n            new CustomerDto(ensUserId, &#39;james&#39;, &#39;GREWAN&#39;, &#39;32766666&#39;, &#39;j.grewan@gree.com&#39;);\r\n    \r\n        final customerEntity = mock(Customer.class);\r\n    \r\n        when(customerRepository.findCustomerByEmail(customer.getEmail())\r\n            .thenReturn(Optional.of(customerEntity));\r\n        when(customerRepository.save(customerEntity)).thenReturn(customerEntity);\r\n        when(customerMapper.toDto(customerEntity)).thenReturn(customer);\r\n    \r\n        // When\r\n    \r\n        final var result = customrService.saveCustomer(customer);\r\n    \r\n        // Then\r\n    \r\n        assertEquals(result, customer);\r\n        verify(messageInTopic, times(1)).sendMessage(result.getId(),Msg.SAVE);\r\n      }\r\n    }\r\n\r\n**verify(messageInTopic, times(1)).sendMessage(result.getId(),Msg.SAVE);** : This is where I will test if I call my sendMessage method with the Msg.SAVE parameter in the create case or the Msg.UPDATE parameter in the update case.\r\n\r\nhow to do this test please ?\r\n","title":"How to verify that a specific method was called with this parameter or another parameter using mockito?","body":"<p>How to verify that my sendMessage method is called with Msg.SAVE or with Msg.UPDATE using mockito's verify method.</p>\n<pre><code>@Service\npublic class CustomerService {\nprivate final CustomerRepository customerRepository;\nprivate final SendMessageInTopic messageInTopic;\npublic CustomerService (CustomerRepository customerRepository,  SendMessageInTopic messageInTopic) \n {\n    this.customerRepository = customerRepository;\n    this.messageInTopic= messageInTopic;\n }\n\npublic Customer saveCustomer(Customer savedCustomer) {\n        Customer customer =    customerRepository\n                .findCustomerByEmail(savedCustomer.getEmail());\n\n        if(customer != null) {\n            customer.setFirstName(savedCustomer.getFirstName());\n            customer.setLastName(savedCustomer.getLastName());\n            customer.setPhoneNumber(savedCustomer.getPhoneNumber());\n            messageInTopic.sendMessage(savedCustomer.getId(),Msg.SAVE)\n        } else {\n            customer = new Customer();\n            customer.setFirstName(savedCustomer.getFirstName());\n            customer.setLastName(savedCustomer.getLastName());\n            customer.setEmail(savedCustomer.getEmail());\n            customer.setPhoneNumber(savedCustomer.getPhoneNumber());\n            messageInTopic.sendMessage(savedCustomer.getId(),Msg.Update)\n        }\n        return customerRepository.save(customer);\n    }\n}\n\npublic class CustomerServiceTest{\nprivate final CustomerRepository customerRepository = mock(CustomerRepository.class);\nprivate final CustomerService customerService = mock(CustomerService.class);\nprivate final SendMessageInTopic  messageInTopic = mock(SendMessageInTopic.class);\nprivate final CustomerMapper customerMapper = mock(CustomerMapper.class);\n    @Test\n    void whenSaveCustomerThenMsgSAVEOrUPDATE() {\n    // Given\n\n    final var customerId = &quot;123456&quot;;\n    final var customer =\n        new CustomerDto(ensUserId, 'james', 'GREWAN', '32766666', 'j.grewan@gree.com');\n\n    final customerEntity = mock(Customer.class);\n\n    when(customerRepository.findCustomerByEmail(customer.getEmail())\n        .thenReturn(Optional.of(customerEntity));\n    when(customerRepository.save(customerEntity)).thenReturn(customerEntity);\n    when(customerMapper.toDto(customerEntity)).thenReturn(customer);\n\n    // When\n\n    final var result = customrService.saveCustomer(customer);\n\n    // Then\n\n    assertEquals(result, customer);\n    verify(messageInTopic, times(1)).sendMessage(result.getId(),Msg.SAVE);\n  }\n}\n</code></pre>\n<p><strong>verify(messageInTopic, times(1)).sendMessage(result.getId(),Msg.SAVE);</strong> : This is where I will test if I call my sendMessage method with the Msg.SAVE parameter in the create case or the Msg.UPDATE parameter in the update case.</p>\n<p>how to do this test please ?</p>\n"},{"tags":["java","asynchronous","nio","java-io"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1594456061,"post_id":62842128,"comment_id":111137073,"body_markdown":"Taking aside the fact that NIO could be implemented more efficiently by the JDK in the future or on some platforms, there is still the aspect of &quot;what is the benefit of providing a facility as part of the standard library when I and everyone else can just implement the same thing independently by myself&quot;. Unless you can do better than the standard library, it would be a waste of time. Even if you can do better, it would need to be quite a bit better in order to justify the effort.","body":"Taking aside the fact that NIO could be implemented more efficiently by the JDK in the future or on some platforms, there is still the aspect of &quot;what is the benefit of providing a facility as part of the standard library when I and everyone else can just implement the same thing independently by myself&quot;. Unless you can do better than the standard library, it would be a waste of time. Even if you can do better, it would need to be quite a bit better in order to justify the effort."},{"owner":{"account_id":2453365,"reputation":333,"user_id":2139101,"accept_rate":95,"display_name":"Peter"},"score":0,"creation_date":1594459577,"post_id":62842128,"comment_id":111137944,"body_markdown":"@Thilo I didn&#39;t mean to reimplement the wheel, but for example, encrypting a file via Streams and offloading it to a thread pool seems 100 times easier than implementing encryption using async callbacks. The future JDK improvement is a valid argument, but right now what is the benefit?","body":"@Thilo I didn&#39;t mean to reimplement the wheel, but for example, encrypting a file via Streams and offloading it to a thread pool seems 100 times easier than implementing encryption using async callbacks. The future JDK improvement is a valid argument, but right now what is the benefit?"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1594461506,"post_id":62842128,"comment_id":111138413,"body_markdown":"That is a very odd argument. I would expect that streaming library to take care of efficient use of NIO under the hood already, and that should be 100 times easier than manually messing around with a thread pool. If encrypting a file via streams takes more than a couple of lines of code then I would start looking for another library.","body":"That is a very odd argument. I would expect that streaming library to take care of efficient use of NIO under the hood already, and that should be 100 times easier than manually messing around with a thread pool. If encrypting a file via streams takes more than a couple of lines of code then I would start looking for another library."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":3,"creation_date":1594462472,"post_id":62842128,"comment_id":111138649,"body_markdown":"Now that I am thinking about how I would actually do that, no such library comes to mind. Could be that I have been in Scala-land for too long. Maybe there is a hole to be filled. But my point was that NIO is not something to use directly, but something that libraries like Netty or Reactive Streams would use internally.","body":"Now that I am thinking about how I would actually do that, no such library comes to mind. Could be that I have been in Scala-land for too long. Maybe there is a hole to be filled. But my point was that NIO is not something to use directly, but something that libraries like Netty or Reactive Streams would use internally."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":3,"creation_date":1594463674,"post_id":62842128,"comment_id":111138939,"body_markdown":"After Googling for a while, I only found this in the Reactor library: https://projectreactor.io/docs/netty/release/api/reactor/netty/ByteBufFlux.html#fromPath-java.nio.file.Path-   Creates a Flux of buffers being read from a file path using NIO via Netty.  So yeah, unless you are already using this Reactor library this is a bit too much effort.","body":"After Googling for a while, I only found this in the Reactor library: <a href=\"https://projectreactor.io/docs/netty/release/api/reactor/netty/ByteBufFlux.html#fromPath-java.nio.file.Path-\" rel=\"nofollow noreferrer\">projectreactor.io/docs/netty/release/api/reactor/netty/&hellip;</a>   Creates a Flux of buffers being read from a file path using NIO via Netty.  So yeah, unless you are already using this Reactor library this is a bit too much effort."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1594464145,"post_id":62842128,"comment_id":111139043,"body_markdown":"Akka Streams also does this: https://doc.akka.io/docs/akka/current/stream/stream-io.html#streaming-file-io","body":"Akka Streams also does this: <a href=\"https://doc.akka.io/docs/akka/current/stream/stream-io.html#streaming-file-io\" rel=\"nofollow noreferrer\">doc.akka.io/docs/akka/current/stream/&hellip;</a>"},{"owner":{"account_id":2453365,"reputation":333,"user_id":2139101,"accept_rate":95,"display_name":"Peter"},"score":0,"creation_date":1594464378,"post_id":62842128,"comment_id":111139098,"body_markdown":"@Thilo staying with the encryption example, with AsynchronousFileChannel it took me like 150 lines of code, messing with cipher update, cipher doFinal, maintaining read/write position, etc, while it&#39;s two lines with CipherOutputStream. I&#39;m using Reactor + Spring, but sometimes their implementations are surprising as well, like FilePart&#39;s &quot;reactive&quot; transferTo method: https://github.com/spring-projects/spring-framework/blob/b16f6fa4564658615363f9206edf726a492b6083/spring-web/src/main/java/org/springframework/http/codec/multipart/SynchronossPartHttpMessageReader.java#L467","body":"@Thilo staying with the encryption example, with AsynchronousFileChannel it took me like 150 lines of code, messing with cipher update, cipher doFinal, maintaining read/write position, etc, while it&#39;s two lines with CipherOutputStream. I&#39;m using Reactor + Spring, but sometimes their implementations are surprising as well, like FilePart&#39;s &quot;reactive&quot; transferTo method: <a href=\"https://github.com/spring-projects/spring-framework/blob/b16f6fa4564658615363f9206edf726a492b6083/spring-web/src/main/java/org/springframework/http/codec/multipart/SynchronossPartHttpMessageReader.java#L467\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/blob/&hellip;</a>"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":2,"creation_date":1594465510,"post_id":62842128,"comment_id":111139402,"body_markdown":"&quot;Akka Streams also does this&quot;. Well, maybe not. The documentation talks about having a dedicated pool for blocking IO, so probably no NIO in there either :-/   Could be that the pragmatic approach of not doing either, but just have straight blocking IO on the main thread is good enough? How hard can you hit that disk before it becomes a bottleneck for parallelism that you cannot get past anyway?","body":"&quot;Akka Streams also does this&quot;. Well, maybe not. The documentation talks about having a dedicated pool for blocking IO, so probably no NIO in there either :-/   Could be that the pragmatic approach of not doing either, but just have straight blocking IO on the main thread is good enough? How hard can you hit that disk before it becomes a bottleneck for parallelism that you cannot get past anyway?"},{"owner":{"account_id":2453365,"reputation":333,"user_id":2139101,"accept_rate":95,"display_name":"Peter"},"score":0,"creation_date":1594466314,"post_id":62842128,"comment_id":111139596,"body_markdown":"This is the loop I&#39;ve got into a few weeks ago, I hope I didn&#39;t ruin your life as well. :D Thank you for reading and commenting this much about it.","body":"This is the loop I&#39;ve got into a few weeks ago, I hope I didn&#39;t ruin your life as well. :D Thank you for reading and commenting this much about it."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":2,"creation_date":1594466419,"post_id":62842128,"comment_id":111139617,"body_markdown":"Start with whatever is the easiest to program, understand, debug. Focus on the application logic. Most likely it will be perfectly fine performance-wise. If not, only then go in and revisit.","body":"Start with whatever is the easiest to program, understand, debug. Focus on the application logic. Most likely it will be perfectly fine performance-wise. If not, only then go in and revisit."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1594988568,"post_id":62842128,"comment_id":111326974,"body_markdown":"As Knuth is quoted as saying *“The real problem is that programmers have spent far too much time worrying about efficiency in the wrong places and at the wrong times; premature optimization is the root of all evil (or at least most of it) in programming.”* - Read more about premature optimization [here](https://stackify.com/premature-optimization-evil).","body":"As Knuth is quoted as saying <i>“The real problem is that programmers have spent far too much time worrying about efficiency in the wrong places and at the wrong times; premature optimization is the root of all evil (or at least most of it) in programming.”</i> - Read more about premature optimization <a href=\"https://stackify.com/premature-optimization-evil\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":4787547,"reputation":5568,"user_id":3867574,"accept_rate":43,"display_name":"Serg M Ten"},"score":1,"creation_date":1595197291,"post_id":62842128,"comment_id":111383511,"body_markdown":"I benchmarked it myself some time ago and found that Async File NIO has no obvious performance advantages but quite a few added complexity. See results [here](https://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/40597140#40597140).","body":"I benchmarked it myself some time ago and found that Async File NIO has no obvious performance advantages but quite a few added complexity. See results <a href=\"https://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/40597140#40597140\">here</a>."},{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1603982917,"post_id":62842128,"comment_id":114213180,"body_markdown":"This is a duplicate of [non-blocking IO vs async IO and implementation in Java](https://stackoverflow.com/q/25099640/476716)","body":"This is a duplicate of <a href=\"https://stackoverflow.com/q/25099640/476716\">non-blocking IO vs async IO and implementation in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1666966890,"creation_date":1603982396,"answer_id":64593351,"question_id":62842128,"body_markdown":"It&#39;s mostly about handrolling your buffer sizes. In that way, you can save a _lot_ of memory, but only if you&#39;re trying to handle a lot (many thousands) of simultaneous connections.\r\n\r\nFirst some simplifications and caveats:\r\n\r\n* I&#39;m going to assume a non-boneheaded scheduler. There are some OSes that just do a really poor job of juggling thousands of threads. There is no inherent reason that an OS will fall down when a user process fires up 1000 full threads, but some OSes do anyway. NIO can help there, but that&#39;s a bit of an unfair comparison - usually you should just upgrade your OS. Pretty much any linux, and I believe win10 definitely don&#39;t have issues with this many threads, but some old linux port on an ARM hack, or something like windows 7 - that might cause problems.\r\n\r\n* I&#39;m going to assume you&#39;re using NIO to deal with incoming TCP/IP connections (e.g. a web server, or IRC server, something like that). The same principles apply if you&#39;re trying to read 1000 files simultaneously, but note that you do need to think about where the bottleneck lies. For example, reading 1000 files simultaneously from a single disk is a pointless exercise - that just slows things down as you&#39;re making life harder for the disk (this counts double if it&#39;s a spinning disk). For networking, especially if you&#39;re on a fast pipe, the bottleneck is not the pipe or your network card, which makes &#39;handle 1000s of connections simultaneously&#39; a good example. In fact, I&#39;m going to use as example a chat server where 1000 people all connect to one giant chatroom. The job is to receive text messages from anybody connected and send them out to everybody.\r\n\r\n## The synchronous model\r\n\r\nIn the synchronous model, life is relatively simple: We&#39;ll make 2001 threads:\r\n\r\n* 1 thread to listen for new incoming TCP connections on a socket. This thread will create the 2 &#39;handler&#39; threads and go back to listening for new connections.\r\n* per user a thread that reads from the socket until it sees an enter symbol. If it sees this, it will take all text received so far, and notify all 1000 &#39;sender&#39; threads with this new string that needs to be sent out.\r\n* per user a thread that will send out the strings in a buffer of &#39;text messages to send out&#39;. If there&#39;s nothing left to send it will wait until a new message is delivered to it.\r\n\r\nEach individual moving piece is easily programmed. Some tactical use of a single `java.util.concurrent` datatype, or even some basic `synchronized()` blocks will ensure we don&#39;t run into any race conditions. I envision maybe 1 page of code for each piece.\r\n\r\nBut, we do have 2001 threads. Each thread has a stack. In JVMs, each thread gets the same size stack [EDITED]unless you explicitly define the stack size when you create a [thread](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html#%3Cinit%3E(java.lang.ThreadGroup,java.lang.Runnable,java.lang.String,long)) - you should absolutely be doing this if you&#39;re going to spin off 2000 threads like in this example, and make them as small as you can reasonably get away with [/EDITED], by default you configure how large these stacks are with the `-Xss` parameter. You can make them as small as, say, 128k, but even then that&#39;s still `128k * 2001` = ~256MB  __just for the stacks__ ([EDIT] These days you can make them a lot smaller, maybe 32k even - this synchronous model would work totally fine, you need a lot more threads before this model becomes untenable![/EDIT]), we haven&#39;t covered any of the heap (all those strings that people are sending back and forth, stuck in send queues), or the app itself, or the JVM basics.\r\n\r\nUnder the hood, what&#39;s going to happen to the CPU which has, say, 16 cores, is that there are 2001 threads and each thread has its own set of conditions which would result in it waking up. For the receivers it&#39;s data coming in over the pipe, for the senders its either the network card indicating it is ready to send another packet (in case it&#39;s waiting to push data down the line), or waiting for a `obj.wait()` call to get notified (the threads that receive text from the users would add that string to all the queues of each of the 1000 senders and then notify them all).\r\n\r\nThat&#39;s a lot of context switching: A thread wakes up, sees `Joe: Hello, everybody, good morning!` in the buffer, turns that into a packet, blits it to the memory buffer of the network card (this is all extremely fast, it&#39;s just CPU and memory interacting), and will fall back asleep, for example. The CPU core will then move on and find another thread that is ready to do some work.\r\n\r\nCPU cores have on-core caches; in fact, there&#39;s a hierarchy. There&#39;s main RAM, then L3 cache, L2 cache, on-core cache - and a CPU cannot really operate on RAM anymore in modern architecture, they need for the infrastructure around the chip to realize that it needs to read or write to memory that is on a page that isn&#39;t in one of these caches, then the CPU will just freeze for a while until the infra can copy over that page of RAM into one of the caches.\r\n\r\nEvery time a core switches, it is highly likely that it needs to load a new page, and that can take many hundreds of cycles where the CPU is twiddling its thumbs. A badly written scheduler would cause a lot more of this than is needed. If you read about advantages of NIO, often &#39;those context switches are expensive!&#39; comes up - this is more or less what they are talking about (but, spoiler alert: The async model also suffers from this!)\r\n\r\n## The async model\r\n\r\nIn the synchronous model, the job of figuring out which of the 1000 connected users is ready for stuff to happen is &#39;stuck&#39; in threads waiting on events; the OS is juggling those 1000 threads and will wake up threads when there&#39;s stuff to do.\r\n\r\nIn the async model we switch it up: We still have threads, but far fewer (one to two for each core is a good idea). That&#39;s far fewer threads than connected users: Each thread is responsible for _ALL_ the connections, instead of only for 1 connection. That means each thread will do the job of checking which of the connected users have stuff to do (their network pipe has data to read, or is ready for us to push more data down the wire to them).\r\n\r\nThe difference is in what the thread asks the OS:\r\n\r\n* [synchronous] Okay, I want to go to sleep until this one connection sends data to me.\r\n* [async] Okay, I want to go to sleep until one of these thousand connections either sends data to me, or I registered that I&#39;m waiting for the network buffer to clear because I have more data to send, and the network is clear, or the socketlistener has a new user connecting.\r\n\r\nThere is no inherent speed or design advantage to either model - we&#39;re just shifting the job around between app and OS.\r\n\r\nOne advantage often touted for NIO is that you don&#39;t need to &#39;worry&#39; about race conditions, synchronizing, concurrency-safe data structures. This is a commonly repeated falsehood: CPUs have many cores, so if your non-blocking app only ever makes one thread, the vast majority of your CPU will just sit there idle doing nothing, that is highly inefficient.\r\n\r\nThe great upside here is: Hey, only 16 threads. That&#39;s `128k * 16` = 2MB of stack space. That&#39;s in __stark__ contrast to the 256MB that the sync model took! However, a different thing now happens: In the synchronous model, a lot of state info about a connection is &#39;stuck&#39; in that stack. For example, if I write this:\r\n\r\nLet&#39;s assume the protocol is: client sends 1 int, it&#39;s the # of bytes in the message, and then that many bytes, which is the message, UTF-8 encoded.\r\n\r\n```\r\n// synchronous code\r\nint size = readInt();\r\nbyte[] buffer = new byte[size];\r\nint pos = 0;\r\nwhile (pos &lt; size) {\r\n    int r = input.read(buffer, pos, size - pos);\r\n    if (r == -1) throw new IOException(&quot;Client hung up&quot;);\r\n    pos += r;\r\n}\r\nsendMessage(username + &quot;: &quot; + new String(buffer, StandardCharsets.UTF_8));\r\n```\r\n\r\nWhen running this, the thread is most likely going to end up blocking on that `read` call to the inputstream, as that will involve talking to the network card and moving some bytes from its memory buffers into this process&#39;s buffers to get the job done. Whilst its frozen, the pointer to that byte array, the `size` variable, `r`, etcetera are all in stack.\r\n\r\nIn the async model, it doesn&#39;t work that way. In the async model, you get data given to you, and you get given whatever is there, and you must then handle this because if you don&#39;t, that data is gone.\r\n\r\nSo, in the async model you get, say, half of the `Hello everybody, good morning!` message. You get the bytes that represent `Hello eve` and that&#39;s it. For that matter, you got the total byte length of this message already and need to remember that, as well as the half you received so far. You need to __explicitly__ make an object and store this stuff somewhere.\r\n\r\n__Here&#39;s the key point: With the synchronous model, a lot of your state info is in stacks. In the async model, you make the data structures to store this state yourself__.\r\n\r\nAnd because you make these yourself, they can be dynamically sized, and generally far smaller: You just need ~4 bytes to store size, another 8 or so for a pointer to the byte array, a handful for the username pointer and that&#39;s about it. That&#39;s orders of magnitude less than the `128k` that stack is taking to store that stuff.\r\n\r\nNow, another theoretical benefit is that you don&#39;t get the context switch - instead of the CPU and OS having to swap to another thread when a read() call has no data left to give you because the network card is waiting for data, it&#39;s now the thread&#39;s job to go: Okay, no problem - I shall move on to another context object.\r\n\r\nBut that&#39;s a red herring - it doesn&#39;t matter if the OS is juggling 1000 context concepts (1000 threads), or if your application is juggling 1000 context concepts (these &#39;tracker&#39; objects). It&#39;s still 1000 connections and everybody chatting away, so every time your thread moves on to check another context object and fill its byte array with more data, most likely it&#39;s still a cache miss and the CPU is still going to twiddle its thumbs for hundreds of cycles whilst the hardware infrastructure pulls the appropriate page from main RAM into the caches. So that part is not nearly as relevant, though the fact that the context objects are smaller is going to reduce cache misses somewhat.\r\n\r\nThat gets us back to: The primary benefit is that you get to handroll those buffers, and in so doing, you can both make them far smaller, and size them dynamically.\r\n\r\n## The downsides of async\r\n\r\nThere&#39;s a reason we have garbage collected languages. There is a reason we don&#39;t write all our code in assembler. Carefully managing all these finicky details by hand is usually not worth it. And so it is here: Often that benefit is not worth it. But just like GFX drivers and kernel cores have a ton of machine code, and drivers tend to be written in hand-managed memory environments, there are cases where careful management of those buffers is very much worth it.\r\n\r\nThe cost is high, though.\r\n\r\nImagine a theoretical programming language with the following properties:\r\n\r\n* Each function is either red or blue.\r\n* A red function can call blue or red functions, no problem.\r\n* A blue function can also call both, but if a blue function calls a red function, you have a bug that is almost impossible to test for but will kill your performance on realistic loads. Blue can call red functions only by going out of their way to define both the call and the response to the result of the call separately and injecting this pair into a queue.\r\n* functions tend not to document their colour.\r\n* Some system functions are red.\r\n* Your function must be blue.\r\n\r\nThis seems like an __utterly boneheaded disaster of a language__, no? _But that&#39;s exactly the world you live in when writing async code!_\r\n\r\nThe problem is: Within async code, you cannot call a blocking function because if it blocks, hey, that&#39;s one of only 16 threads that is now blocked, and that immediately means your CPU is now doing 1/16ths nothing. If all 16 threads end up in that blocking part the CPU is literally doing nothing at all and everything is frozen. You just can&#39;t do it.\r\n\r\nThere is a ton of stuff that blocks: Opening files, even touching a class never touched before (that class needs to be loaded from the jar from disk, verified, and linked), so much as looking at a database, doing a quick network check, sometimes asking for the current time will do it. Even logging at debug level might do it (if that ends up writing to disk, voila - blocking operation).\r\n\r\nDo you know of any logging framework that either promises to fire up a separate thread to process logs onto disk, or goes out of its way to document if it blocks or not? I don&#39;t know of any, either.\r\n\r\nSo, methods that block are red, your async handlers are blue. Tada - that&#39;s why async is so incredibly difficult to truly get right.\r\n\r\n## The executive summary\r\n\r\nWriting async code well is a real pain due to the coloured functions issue. It&#39;s also not on its face faster - in fact, it&#39;s usually slower. Async can win big if you want to run many thousands of operations simultaneously and the amount of storage required to track the relevant state data for each individual operation is small, because you get to handroll that buffer instead of being forced into relying on 1 stack per thread.\r\n\r\nIf you have some money left over, well, a developer salary buys you __a lot of sticks of RAM__, so usually the right option is to go with threads and just opt for a box with a lot of RAM if you want to handle many simultaneous connections.\r\n\r\nNote that sites like youtube, facebook, etc effectively take the &#39;toss money at RAM&#39; solution - they shard their product so that many simple and cheap computers work together to serve up a website. Don&#39;t knock it.\r\n\r\nExamples where async can really shine is the chat app I&#39;ve described in this answer. Another is, say, you receiving a short message, and all you do is hash it, encrypt the hash, and respond with it (To hash, you don&#39;t need to remember all the bytes flowing in, you can just toss each byte into the hasher which has constant memory load, and when the bytes are all sent, voila, you have your hash). You&#39;re looking for little state per operation and not much CPU power either relative to the speed at which the data is provided.\r\n\r\nSome bad examples: are a system where you need to do a bunch of DB queries (you&#39;d need an async way to talk to your DB, and in general DBs are bad at trying to run 1000 queries simultaneously), a bitcoin mining operation (the bitcoin mining is the bottleneck, there&#39;s no point trying to handle thousands of connections simultaneously on one machine).\r\n","title":"What&#39;s the benefit of Async File NIO in Java?","body":"<p>It's mostly about handrolling your buffer sizes. In that way, you can save a <em>lot</em> of memory, but only if you're trying to handle a lot (many thousands) of simultaneous connections.</p>\n<p>First some simplifications and caveats:</p>\n<ul>\n<li><p>I'm going to assume a non-boneheaded scheduler. There are some OSes that just do a really poor job of juggling thousands of threads. There is no inherent reason that an OS will fall down when a user process fires up 1000 full threads, but some OSes do anyway. NIO can help there, but that's a bit of an unfair comparison - usually you should just upgrade your OS. Pretty much any linux, and I believe win10 definitely don't have issues with this many threads, but some old linux port on an ARM hack, or something like windows 7 - that might cause problems.</p>\n</li>\n<li><p>I'm going to assume you're using NIO to deal with incoming TCP/IP connections (e.g. a web server, or IRC server, something like that). The same principles apply if you're trying to read 1000 files simultaneously, but note that you do need to think about where the bottleneck lies. For example, reading 1000 files simultaneously from a single disk is a pointless exercise - that just slows things down as you're making life harder for the disk (this counts double if it's a spinning disk). For networking, especially if you're on a fast pipe, the bottleneck is not the pipe or your network card, which makes 'handle 1000s of connections simultaneously' a good example. In fact, I'm going to use as example a chat server where 1000 people all connect to one giant chatroom. The job is to receive text messages from anybody connected and send them out to everybody.</p>\n</li>\n</ul>\n<h2>The synchronous model</h2>\n<p>In the synchronous model, life is relatively simple: We'll make 2001 threads:</p>\n<ul>\n<li>1 thread to listen for new incoming TCP connections on a socket. This thread will create the 2 'handler' threads and go back to listening for new connections.</li>\n<li>per user a thread that reads from the socket until it sees an enter symbol. If it sees this, it will take all text received so far, and notify all 1000 'sender' threads with this new string that needs to be sent out.</li>\n<li>per user a thread that will send out the strings in a buffer of 'text messages to send out'. If there's nothing left to send it will wait until a new message is delivered to it.</li>\n</ul>\n<p>Each individual moving piece is easily programmed. Some tactical use of a single <code>java.util.concurrent</code> datatype, or even some basic <code>synchronized()</code> blocks will ensure we don't run into any race conditions. I envision maybe 1 page of code for each piece.</p>\n<p>But, we do have 2001 threads. Each thread has a stack. In JVMs, each thread gets the same size stack [EDITED]unless you explicitly define the stack size when you create a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html#%3Cinit%3E(java.lang.ThreadGroup,java.lang.Runnable,java.lang.String,long)\" rel=\"nofollow noreferrer\">thread</a> - you should absolutely be doing this if you're going to spin off 2000 threads like in this example, and make them as small as you can reasonably get away with [/EDITED], by default you configure how large these stacks are with the <code>-Xss</code> parameter. You can make them as small as, say, 128k, but even then that's still <code>128k * 2001</code> = ~256MB  <strong>just for the stacks</strong> ([EDIT] These days you can make them a lot smaller, maybe 32k even - this synchronous model would work totally fine, you need a lot more threads before this model becomes untenable![/EDIT]), we haven't covered any of the heap (all those strings that people are sending back and forth, stuck in send queues), or the app itself, or the JVM basics.</p>\n<p>Under the hood, what's going to happen to the CPU which has, say, 16 cores, is that there are 2001 threads and each thread has its own set of conditions which would result in it waking up. For the receivers it's data coming in over the pipe, for the senders its either the network card indicating it is ready to send another packet (in case it's waiting to push data down the line), or waiting for a <code>obj.wait()</code> call to get notified (the threads that receive text from the users would add that string to all the queues of each of the 1000 senders and then notify them all).</p>\n<p>That's a lot of context switching: A thread wakes up, sees <code>Joe: Hello, everybody, good morning!</code> in the buffer, turns that into a packet, blits it to the memory buffer of the network card (this is all extremely fast, it's just CPU and memory interacting), and will fall back asleep, for example. The CPU core will then move on and find another thread that is ready to do some work.</p>\n<p>CPU cores have on-core caches; in fact, there's a hierarchy. There's main RAM, then L3 cache, L2 cache, on-core cache - and a CPU cannot really operate on RAM anymore in modern architecture, they need for the infrastructure around the chip to realize that it needs to read or write to memory that is on a page that isn't in one of these caches, then the CPU will just freeze for a while until the infra can copy over that page of RAM into one of the caches.</p>\n<p>Every time a core switches, it is highly likely that it needs to load a new page, and that can take many hundreds of cycles where the CPU is twiddling its thumbs. A badly written scheduler would cause a lot more of this than is needed. If you read about advantages of NIO, often 'those context switches are expensive!' comes up - this is more or less what they are talking about (but, spoiler alert: The async model also suffers from this!)</p>\n<h2>The async model</h2>\n<p>In the synchronous model, the job of figuring out which of the 1000 connected users is ready for stuff to happen is 'stuck' in threads waiting on events; the OS is juggling those 1000 threads and will wake up threads when there's stuff to do.</p>\n<p>In the async model we switch it up: We still have threads, but far fewer (one to two for each core is a good idea). That's far fewer threads than connected users: Each thread is responsible for <em>ALL</em> the connections, instead of only for 1 connection. That means each thread will do the job of checking which of the connected users have stuff to do (their network pipe has data to read, or is ready for us to push more data down the wire to them).</p>\n<p>The difference is in what the thread asks the OS:</p>\n<ul>\n<li>[synchronous] Okay, I want to go to sleep until this one connection sends data to me.</li>\n<li>[async] Okay, I want to go to sleep until one of these thousand connections either sends data to me, or I registered that I'm waiting for the network buffer to clear because I have more data to send, and the network is clear, or the socketlistener has a new user connecting.</li>\n</ul>\n<p>There is no inherent speed or design advantage to either model - we're just shifting the job around between app and OS.</p>\n<p>One advantage often touted for NIO is that you don't need to 'worry' about race conditions, synchronizing, concurrency-safe data structures. This is a commonly repeated falsehood: CPUs have many cores, so if your non-blocking app only ever makes one thread, the vast majority of your CPU will just sit there idle doing nothing, that is highly inefficient.</p>\n<p>The great upside here is: Hey, only 16 threads. That's <code>128k * 16</code> = 2MB of stack space. That's in <strong>stark</strong> contrast to the 256MB that the sync model took! However, a different thing now happens: In the synchronous model, a lot of state info about a connection is 'stuck' in that stack. For example, if I write this:</p>\n<p>Let's assume the protocol is: client sends 1 int, it's the # of bytes in the message, and then that many bytes, which is the message, UTF-8 encoded.</p>\n<pre><code>// synchronous code\nint size = readInt();\nbyte[] buffer = new byte[size];\nint pos = 0;\nwhile (pos &lt; size) {\n    int r = input.read(buffer, pos, size - pos);\n    if (r == -1) throw new IOException(&quot;Client hung up&quot;);\n    pos += r;\n}\nsendMessage(username + &quot;: &quot; + new String(buffer, StandardCharsets.UTF_8));\n</code></pre>\n<p>When running this, the thread is most likely going to end up blocking on that <code>read</code> call to the inputstream, as that will involve talking to the network card and moving some bytes from its memory buffers into this process's buffers to get the job done. Whilst its frozen, the pointer to that byte array, the <code>size</code> variable, <code>r</code>, etcetera are all in stack.</p>\n<p>In the async model, it doesn't work that way. In the async model, you get data given to you, and you get given whatever is there, and you must then handle this because if you don't, that data is gone.</p>\n<p>So, in the async model you get, say, half of the <code>Hello everybody, good morning!</code> message. You get the bytes that represent <code>Hello eve</code> and that's it. For that matter, you got the total byte length of this message already and need to remember that, as well as the half you received so far. You need to <strong>explicitly</strong> make an object and store this stuff somewhere.</p>\n<p><strong>Here's the key point: With the synchronous model, a lot of your state info is in stacks. In the async model, you make the data structures to store this state yourself</strong>.</p>\n<p>And because you make these yourself, they can be dynamically sized, and generally far smaller: You just need ~4 bytes to store size, another 8 or so for a pointer to the byte array, a handful for the username pointer and that's about it. That's orders of magnitude less than the <code>128k</code> that stack is taking to store that stuff.</p>\n<p>Now, another theoretical benefit is that you don't get the context switch - instead of the CPU and OS having to swap to another thread when a read() call has no data left to give you because the network card is waiting for data, it's now the thread's job to go: Okay, no problem - I shall move on to another context object.</p>\n<p>But that's a red herring - it doesn't matter if the OS is juggling 1000 context concepts (1000 threads), or if your application is juggling 1000 context concepts (these 'tracker' objects). It's still 1000 connections and everybody chatting away, so every time your thread moves on to check another context object and fill its byte array with more data, most likely it's still a cache miss and the CPU is still going to twiddle its thumbs for hundreds of cycles whilst the hardware infrastructure pulls the appropriate page from main RAM into the caches. So that part is not nearly as relevant, though the fact that the context objects are smaller is going to reduce cache misses somewhat.</p>\n<p>That gets us back to: The primary benefit is that you get to handroll those buffers, and in so doing, you can both make them far smaller, and size them dynamically.</p>\n<h2>The downsides of async</h2>\n<p>There's a reason we have garbage collected languages. There is a reason we don't write all our code in assembler. Carefully managing all these finicky details by hand is usually not worth it. And so it is here: Often that benefit is not worth it. But just like GFX drivers and kernel cores have a ton of machine code, and drivers tend to be written in hand-managed memory environments, there are cases where careful management of those buffers is very much worth it.</p>\n<p>The cost is high, though.</p>\n<p>Imagine a theoretical programming language with the following properties:</p>\n<ul>\n<li>Each function is either red or blue.</li>\n<li>A red function can call blue or red functions, no problem.</li>\n<li>A blue function can also call both, but if a blue function calls a red function, you have a bug that is almost impossible to test for but will kill your performance on realistic loads. Blue can call red functions only by going out of their way to define both the call and the response to the result of the call separately and injecting this pair into a queue.</li>\n<li>functions tend not to document their colour.</li>\n<li>Some system functions are red.</li>\n<li>Your function must be blue.</li>\n</ul>\n<p>This seems like an <strong>utterly boneheaded disaster of a language</strong>, no? <em>But that's exactly the world you live in when writing async code!</em></p>\n<p>The problem is: Within async code, you cannot call a blocking function because if it blocks, hey, that's one of only 16 threads that is now blocked, and that immediately means your CPU is now doing 1/16ths nothing. If all 16 threads end up in that blocking part the CPU is literally doing nothing at all and everything is frozen. You just can't do it.</p>\n<p>There is a ton of stuff that blocks: Opening files, even touching a class never touched before (that class needs to be loaded from the jar from disk, verified, and linked), so much as looking at a database, doing a quick network check, sometimes asking for the current time will do it. Even logging at debug level might do it (if that ends up writing to disk, voila - blocking operation).</p>\n<p>Do you know of any logging framework that either promises to fire up a separate thread to process logs onto disk, or goes out of its way to document if it blocks or not? I don't know of any, either.</p>\n<p>So, methods that block are red, your async handlers are blue. Tada - that's why async is so incredibly difficult to truly get right.</p>\n<h2>The executive summary</h2>\n<p>Writing async code well is a real pain due to the coloured functions issue. It's also not on its face faster - in fact, it's usually slower. Async can win big if you want to run many thousands of operations simultaneously and the amount of storage required to track the relevant state data for each individual operation is small, because you get to handroll that buffer instead of being forced into relying on 1 stack per thread.</p>\n<p>If you have some money left over, well, a developer salary buys you <strong>a lot of sticks of RAM</strong>, so usually the right option is to go with threads and just opt for a box with a lot of RAM if you want to handle many simultaneous connections.</p>\n<p>Note that sites like youtube, facebook, etc effectively take the 'toss money at RAM' solution - they shard their product so that many simple and cheap computers work together to serve up a website. Don't knock it.</p>\n<p>Examples where async can really shine is the chat app I've described in this answer. Another is, say, you receiving a short message, and all you do is hash it, encrypt the hash, and respond with it (To hash, you don't need to remember all the bytes flowing in, you can just toss each byte into the hasher which has constant memory load, and when the bytes are all sent, voila, you have your hash). You're looking for little state per operation and not much CPU power either relative to the speed at which the data is provided.</p>\n<p>Some bad examples: are a system where you need to do a bunch of DB queries (you'd need an async way to talk to your DB, and in general DBs are bad at trying to run 1000 queries simultaneously), a bitcoin mining operation (the bitcoin mining is the bottleneck, there's no point trying to handle thousands of connections simultaneously on one machine).</p>\n"},{"tags":[],"owner":{"account_id":324398,"reputation":1260,"user_id":644949,"accept_rate":14,"display_name":"Vipresh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693320469,"creation_date":1693320469,"answer_id":77001247,"question_id":62842128,"body_markdown":"According to the javadoc https://docs.oracle.com/javase/7/docs/api/java/nio/channels/AsynchronousChannelGroup.html#withThreadPool(java.util.concurrent.ExecutorService) this threadpool is used to run completion handlers https://docs.oracle.com/javase/7/docs/api/java/nio/channels/CompletionHandler.html - the handlers used to process IO events not actual IO. \r\nAs i understand in node.js we have single event loop - in java we have ability to run callbacks concurrently in threads of this Thread pool. ","title":"What&#39;s the benefit of Async File NIO in Java?","body":"<p>According to the javadoc <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/AsynchronousChannelGroup.html#withThreadPool(java.util.concurrent.ExecutorService)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/nio/channels/AsynchronousChannelGroup.html#withThreadPool(java.util.concurrent.ExecutorService)</a> this threadpool is used to run completion handlers <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/CompletionHandler.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/nio/channels/CompletionHandler.html</a> - the handlers used to process IO events not actual IO.\nAs i understand in node.js we have single event loop - in java we have ability to run callbacks concurrently in threads of this Thread pool.</p>\n"}],"owner":{"account_id":2453365,"reputation":333,"user_id":2139101,"accept_rate":95,"display_name":"Peter"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2166,"favorite_count":0,"down_vote_count":1,"up_vote_count":17,"accepted_answer_id":64593351,"answer_count":2,"score":16,"last_activity_date":1693320469,"creation_date":1594414440,"question_id":62842128,"body_markdown":"According to the documentation of [AsynchronousFileChannel][1] and [AsynchronousChannelGroup][2], async NIO is using a dedicated thread pool where &quot;IO events are handled&quot;. I couldn&#39;t find any clear statement what &quot;handling&quot; means in this context but according to [this][3], I&#39;m pretty sure that at the end of the day, blocking occurs on those dedicated threads. To narrow things down, I&#39;m using Linux and based on [Alex Yursha&#39;s][3] answer, there is no such thing as non-blocking IO on it, only Windows supports it on some levels. \r\n\r\nMy question is: what is the benefit of using async NIO versus synchronous IO running on a dedicated thread pool created by myself? Considering the introduced complexity, what would be a scenario when it would still worth to implement?   \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/channels/AsynchronousFileChannel.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/nio/channels/AsynchronousChannelGroup.html\r\n  [3]: https://stackoverflow.com/questions/25099640/non-blocking-io-vs-async-io-and-implementation-in-java","title":"What&#39;s the benefit of Async File NIO in Java?","body":"<p>According to the documentation of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/AsynchronousFileChannel.html\" rel=\"noreferrer\">AsynchronousFileChannel</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/AsynchronousChannelGroup.html\" rel=\"noreferrer\">AsynchronousChannelGroup</a>, async NIO is using a dedicated thread pool where &quot;IO events are handled&quot;. I couldn't find any clear statement what &quot;handling&quot; means in this context but according to <a href=\"https://stackoverflow.com/questions/25099640/non-blocking-io-vs-async-io-and-implementation-in-java\">this</a>, I'm pretty sure that at the end of the day, blocking occurs on those dedicated threads. To narrow things down, I'm using Linux and based on <a href=\"https://stackoverflow.com/questions/25099640/non-blocking-io-vs-async-io-and-implementation-in-java\">Alex Yursha's</a> answer, there is no such thing as non-blocking IO on it, only Windows supports it on some levels.</p>\n<p>My question is: what is the benefit of using async NIO versus synchronous IO running on a dedicated thread pool created by myself? Considering the introduced complexity, what would be a scenario when it would still worth to implement?</p>\n"},{"tags":["java","android","cordova-plugins"],"answers":[{"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693320394,"creation_date":1693320394,"answer_id":77001238,"question_id":77001201,"body_markdown":"https://web.dev/appcache-removal/#android-webviews\r\n\r\n&gt; Some developers of Android applications use Chrome WebView to display\r\n&gt; web content, and might also use AppCache. However, it&#39;s not possible\r\n&gt; to enable an origin trial for a WebView. In light of that, Chrome\r\n&gt; WebView will support AppCache without an origin trial until the final\r\n&gt; removal takes place, expected in Chrome 90.\r\n\r\nBut take a look at: https://developer.android.com/reference/android/webkit/WebSettings\r\n\r\nCache Mode:\r\n\r\nhttps://developer.android.com/reference/android/webkit/WebSettings#setCacheMode(int)\r\n\r\n&gt; Overrides the way the cache is used. The way the cache is used is\r\n&gt; based on the navigation type. For a normal page load, the cache is\r\n&gt; checked and content is re-validated as needed. When navigating back,\r\n&gt; content is not revalidated, instead the content is just retrieved from\r\n&gt; the cache. This method allows the client to override this behavior by\r\n&gt; specifying one of LOAD_DEFAULT, LOAD_CACHE_ELSE_NETWORK, LOAD_NO_CACHE\r\n&gt; or LOAD_CACHE_ONLY. The default value is LOAD_DEFAULT.\r\n\r\n\r\nAlso someone else asked similar here: https://stackoverflow.com/questions/73488108/websettings-setappcacheenabled-deprecated-what-to-use-instead","title":"Replace for Android website.websettings.setAppCacheEnabled()","body":"<p><a href=\"https://web.dev/appcache-removal/#android-webviews\" rel=\"nofollow noreferrer\">https://web.dev/appcache-removal/#android-webviews</a></p>\n<blockquote>\n<p>Some developers of Android applications use Chrome WebView to display\nweb content, and might also use AppCache. However, it's not possible\nto enable an origin trial for a WebView. In light of that, Chrome\nWebView will support AppCache without an origin trial until the final\nremoval takes place, expected in Chrome 90.</p>\n</blockquote>\n<p>But take a look at: <a href=\"https://developer.android.com/reference/android/webkit/WebSettings\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/webkit/WebSettings</a></p>\n<p>Cache Mode:</p>\n<p><a href=\"https://developer.android.com/reference/android/webkit/WebSettings#setCacheMode(int)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/webkit/WebSettings#setCacheMode(int)</a></p>\n<blockquote>\n<p>Overrides the way the cache is used. The way the cache is used is\nbased on the navigation type. For a normal page load, the cache is\nchecked and content is re-validated as needed. When navigating back,\ncontent is not revalidated, instead the content is just retrieved from\nthe cache. This method allows the client to override this behavior by\nspecifying one of LOAD_DEFAULT, LOAD_CACHE_ELSE_NETWORK, LOAD_NO_CACHE\nor LOAD_CACHE_ONLY. The default value is LOAD_DEFAULT.</p>\n</blockquote>\n<p>Also someone else asked similar here: <a href=\"https://stackoverflow.com/questions/73488108/websettings-setappcacheenabled-deprecated-what-to-use-instead\">Websettings.SetAppCacheEnabled deprecated, what to use instead?</a></p>\n"}],"owner":{"account_id":14264129,"reputation":78,"user_id":10303908,"display_name":"Pedro Santos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693320394,"creation_date":1693320118,"question_id":77001201,"body_markdown":"I use a cordova libry that uses Android native website.websettings.setAppCacheEnabled().\r\nIt has been removed from API 33 and the libry stop to work. \r\nIs there any other way to replace this method?","title":"Replace for Android website.websettings.setAppCacheEnabled()","body":"<p>I use a cordova libry that uses Android native website.websettings.setAppCacheEnabled().\nIt has been removed from API 33 and the libry stop to work.\nIs there any other way to replace this method?</p>\n"},{"tags":["java","junit","command-line","classpath","junit5"],"comments":[{"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"score":1,"creation_date":1548790098,"post_id":54409727,"comment_id":95666765,"body_markdown":"Please enumerate all JAR files located in the &quot;lib&quot; directory. Like: `java -jar ... -cp lib/apache-commons-x.jar:another-tool.jar:out --scan-class-path`","body":"Please enumerate all JAR files located in the &quot;lib&quot; directory. Like: <code>java -jar ... -cp lib&#47;apache-commons-x.jar:another-tool.jar:out --scan-class-path</code>"},{"owner":{"account_id":5170435,"reputation":191,"user_id":4139116,"accept_rate":67,"display_name":"Nat G"},"score":0,"creation_date":1548798200,"post_id":54409727,"comment_id":95670168,"body_markdown":"@Sormuras that worked, thanks!","body":"@Sormuras that worked, thanks!"},{"owner":{"account_id":1459673,"reputation":1958,"user_id":1374322,"accept_rate":88,"display_name":"JockX"},"score":0,"creation_date":1602350018,"post_id":54409727,"comment_id":113695129,"body_markdown":"@Sormuras wildcard jars can be loaded to java classpath with -cp argument like this: \n `java -cp &quot;.;lib\\*&quot; org.junit.platform.console.ConsoleLauncher --scan-class-path` . Not sure why junit&#39;s `-cp` does not work in an equivalent way.","body":"@Sormuras wildcard jars can be loaded to java classpath with -cp argument like this:   <code>java -cp &quot;.;lib\\*&quot; org.junit.platform.console.ConsoleLauncher --scan-class-path</code> . Not sure why junit&#39;s <code>-cp</code> does not work in an equivalent way."}],"answers":[{"tags":[],"owner":{"account_id":5170435,"reputation":191,"user_id":4139116,"accept_rate":67,"display_name":"Nat G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1548798455,"creation_date":1548798455,"answer_id":54430101,"question_id":54409727,"body_markdown":"Based on @Sormuras comment, adding the specific jar used to the classpath works. However, this doesn&#39;t seem like an ideal solution if many dependencies are used: \r\n\r\n`$ java -jar lib/junit-platform-console-standalone-1.3.2.jar -cp lib/commons-io-2.6.jar:out --scan-class-path`","title":"JUnit5 ConsoleLauncher NoClassDefFoundError","body":"<p>Based on @Sormuras comment, adding the specific jar used to the classpath works. However, this doesn't seem like an ideal solution if many dependencies are used: </p>\n\n<p><code>$ java -jar lib/junit-platform-console-standalone-1.3.2.jar -cp lib/commons-io-2.6.jar:out --scan-class-path</code></p>\n"},{"tags":[],"owner":{"account_id":5211690,"reputation":561,"user_id":4167902,"display_name":"Vincz777"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693320233,"creation_date":1693320233,"answer_id":77001216,"question_id":54409727,"body_markdown":"I had the same issue then I changed the command to:\r\n\r\n    java -cp lib/*:out org.junit.platform.console.ConsoleLauncher --scan-class-path\r\n\r\nwith `lib` folder containing the `junit-platform-console-standalone` JAR and it worked. ","title":"JUnit5 ConsoleLauncher NoClassDefFoundError","body":"<p>I had the same issue then I changed the command to:</p>\n<pre><code>java -cp lib/*:out org.junit.platform.console.ConsoleLauncher --scan-class-path\n</code></pre>\n<p>with <code>lib</code> folder containing the <code>junit-platform-console-standalone</code> JAR and it worked.</p>\n"}],"owner":{"account_id":5170435,"reputation":191,"user_id":4139116,"accept_rate":67,"display_name":"Nat G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54430101,"answer_count":2,"score":0,"last_activity_date":1693320233,"creation_date":1548706985,"question_id":54409727,"body_markdown":"My test file uses Commons IO library:\r\n\r\n    import org.apache.commons.io.FileUtils;\r\n    ...\r\n    @Test\r\n    public void testExampleEvalOutput_dataset() throws IOException {\r\n    \t\r\n        File file1 = FileUtils.getFile(pathToProject + pathToExampleResults + &quot;exampleEvalOutput_dataset.csv&quot;);\r\n        File file2 = FileUtils.getFile(pathToProject + pathToYourResults + &quot;exampleEvalOutput_dataset.csv&quot;);\r\n        assertEquals(true, FileUtils.contentEquals(file1, file2));\r\n    }\r\n\r\nTests work when I run from Eclipse.\r\n\r\nTrying to run from command line. Compile test file:\r\n\r\n`$ mkdir out`\r\n\r\nCommons IO jar is in `lib` directory, along with JUnit ConsoleLauncher jar.\r\n\r\n`$ javac -d out -cp &quot;lib/*&quot; path/to/ExampleEvalTests.java`\r\n\r\nCompiling works.\r\n\r\nHowever, the library is not picked up at runtime:\r\n\r\n`$ java -jar lib/junit-platform-console-standalone-1.3.2.jar -cp lib:out/ --scan-class-path`\r\n\r\n    JUnit Vintage:ExampleEvalTests:testExampleEvalOutput_dataset\r\n    MethodSource [className = &#39;org.company.test.ExampleEvalTests&#39;, methodName = &#39;testExampleEvalOutput_dataset&#39;, methodParameterTypes = &#39;&#39;]\r\n    =&gt; java.lang.NoClassDefFoundError: org/apache/commons/io/FileUtils\r\n       org.company.test.ExampleEvalTests.testExampleEvalOutput_dataset(ExampleEvalTests.java:27)\r\n       java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n       java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n       java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n       java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n       org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n       org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n       org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n       org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n       org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n       [...]\r\n\r\nDirectory structure:\r\n\r\n`lib\r\norg\r\n  company\r\n    test\r\nout`\r\n\r\n\r\nHow do I get the executable in `out` to pick up `lib`?\r\n ","title":"JUnit5 ConsoleLauncher NoClassDefFoundError","body":"<p>My test file uses Commons IO library:</p>\n\n<pre><code>import org.apache.commons.io.FileUtils;\n...\n@Test\npublic void testExampleEvalOutput_dataset() throws IOException {\n\n    File file1 = FileUtils.getFile(pathToProject + pathToExampleResults + \"exampleEvalOutput_dataset.csv\");\n    File file2 = FileUtils.getFile(pathToProject + pathToYourResults + \"exampleEvalOutput_dataset.csv\");\n    assertEquals(true, FileUtils.contentEquals(file1, file2));\n}\n</code></pre>\n\n<p>Tests work when I run from Eclipse.</p>\n\n<p>Trying to run from command line. Compile test file:</p>\n\n<p><code>$ mkdir out</code></p>\n\n<p>Commons IO jar is in <code>lib</code> directory, along with JUnit ConsoleLauncher jar.</p>\n\n<p><code>$ javac -d out -cp \"lib/*\" path/to/ExampleEvalTests.java</code></p>\n\n<p>Compiling works.</p>\n\n<p>However, the library is not picked up at runtime:</p>\n\n<p><code>$ java -jar lib/junit-platform-console-standalone-1.3.2.jar -cp lib:out/ --scan-class-path</code></p>\n\n<pre><code>JUnit Vintage:ExampleEvalTests:testExampleEvalOutput_dataset\nMethodSource [className = 'org.company.test.ExampleEvalTests', methodName = 'testExampleEvalOutput_dataset', methodParameterTypes = '']\n=&gt; java.lang.NoClassDefFoundError: org/apache/commons/io/FileUtils\n   org.company.test.ExampleEvalTests.testExampleEvalOutput_dataset(ExampleEvalTests.java:27)\n   java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n   java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n   java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n   java.base/java.lang.reflect.Method.invoke(Method.java:564)\n   org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n   org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n   org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n   org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n   org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n   [...]\n</code></pre>\n\n<p>Directory structure:</p>\n\n<p><code>lib\norg\n  company\n    test\nout</code></p>\n\n<p>How do I get the executable in <code>out</code> to pick up <code>lib</code>?</p>\n"},{"tags":["java","etl","export-to-csv","pentaho","pentaho-data-integration"],"answers":[{"tags":[],"owner":{"account_id":2546260,"reputation":526,"user_id":2816941,"display_name":"HeikkiVesanto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693319664,"creation_date":1693319664,"answer_id":77001143,"question_id":76483018,"body_markdown":"Try ticking the &quot;Fast data dump (no formatting)&quot; box in the Content section of Text file output step.","title":"How to solve Pentaho text file output error - Requested array size exceeds VM limit","body":"<p>Try ticking the &quot;Fast data dump (no formatting)&quot; box in the Content section of Text file output step.</p>\n"}],"owner":{"account_id":2730902,"reputation":13,"user_id":2354719,"display_name":"Shailesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693319664,"creation_date":1686835886,"question_id":76483018,"body_markdown":"I am exporting data by suing &quot;table input&quot; step to &quot;text_file_output&quot; step into csv file, but failing to export even 10 records in the csv file because of **&quot;java.lang.OutOfMemoryError: Requested array size exceeds VM limit&quot;**\r\nMy spoon.bat file has below parameters already set but no luck yet.\r\n```PENTAHO_DI_JAVA_OPTIONS=&quot;-Xms1024m&quot; &quot;-Xmx2048m&quot; &quot;-XX:MaxPermSize=256m&quot; &quot;-XX:+UseCompressedOops&quot; &quot;-XX:+HeapDumpOnOutOfMemoryError&quot;```\r\n\r\n[In this transformation, exporting data to excel works okay but performance is bad for 10k+ records ,\r\nso used alternate way as text file output with csv extension, tested with sample data and it worked for 10k records in few seconds only but for new data it&#39;s failing even for 1 record.\r\nTried with increasing heap size as Xms 2GB and Xmx 4 GB but no luck ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A9w6g.png\r\n\r\n\r\n","title":"How to solve Pentaho text file output error - Requested array size exceeds VM limit","body":"<p>I am exporting data by suing &quot;table input&quot; step to &quot;text_file_output&quot; step into csv file, but failing to export even 10 records in the csv file because of <strong>&quot;java.lang.OutOfMemoryError: Requested array size exceeds VM limit&quot;</strong>\nMy spoon.bat file has below parameters already set but no luck yet.\n<code>PENTAHO_DI_JAVA_OPTIONS=&quot;-Xms1024m&quot; &quot;-Xmx2048m&quot; &quot;-XX:MaxPermSize=256m&quot; &quot;-XX:+UseCompressedOops&quot; &quot;-XX:+HeapDumpOnOutOfMemoryError&quot;</code></p>\n<p><a href=\"https://i.stack.imgur.com/A9w6g.png\" rel=\"nofollow noreferrer\">In this transformation, exporting data to excel works okay but performance is bad for 10k+ records ,\nso used alternate way as text file output with csv extension, tested with sample data and it worked for 10k records in few seconds only but for new data it's failing even for 1 record.\nTried with increasing heap size as Xms 2GB and Xmx 4 GB but no luck </a></p>\n"},{"tags":["java","sql","oracle","jdbc"],"comments":[{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":1,"creation_date":1428691392,"post_id":29568472,"comment_id":47286525,"body_markdown":"_Why_ don&#39;t you want to use an `OUT` variable in the procedure? How could the variable move over JDBC otherwise?","body":"<i>Why</i> don&#39;t you want to use an <code>OUT</code> variable in the procedure? How could the variable move over JDBC otherwise?"},{"owner":{"account_id":6228,"reputation":228269,"user_id":10397,"display_name":"Justin Cave"},"score":1,"creation_date":1428691847,"post_id":29568472,"comment_id":47286730,"body_markdown":"You can&#39;t.  But your goal doesn&#39;t seem to make sense.  A stored procedure runs on the database server.  It can only write to a memory buffer on the client.  If you don&#39;t expose an API to return that data to the client (such as using an OUT parameter), the client can&#39;t possibly access memory that is internal to the server.  You could come up with a more obscure/ complicated method to return the data but I don&#39;t see why you&#39;d want to.","body":"You can&#39;t.  But your goal doesn&#39;t seem to make sense.  A stored procedure runs on the database server.  It can only write to a memory buffer on the client.  If you don&#39;t expose an API to return that data to the client (such as using an OUT parameter), the client can&#39;t possibly access memory that is internal to the server.  You could come up with a more obscure/ complicated method to return the data but I don&#39;t see why you&#39;d want to."}],"answers":[{"tags":[],"owner":{"account_id":6093646,"reputation":862,"user_id":4755179,"display_name":"Vincent"},"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1428766804,"creation_date":1428735383,"answer_id":29575064,"question_id":29568472,"body_markdown":"Change your procedure to a function as:\r\n\r\n    FUNCTION SOME_FUNCTION\r\n    RETURN VARCHAR2\r\n    IS\r\n    BEGIN\r\n     -- Do some processing here....\r\n     RETURN &#39;output:&#39; || ....;\r\n    END;\r\n\r\nBack in java land:\r\n\r\n    CallableStatement cs = connection.prepareCall(&quot;{? = call SOME_FUNCTION}&quot;);\r\n    cs.registerOutParameter(1, String);\r\n    cs.executeUpdate();\r\n    system.out.println(cs.getString(1));\r\n\r\n\r\nThere is no other way.  You got ORACLE, you got the IDE console. There is no relationship between the two. To get data back from the database, you have to use a function to return a value, you could argue that returning values as out parameters is the same thing, and while both WILL get a value back, your code will be much more intuitive to others.  It says, this call returns something.\r\n\r\nThat said, you can call the method in SQL developer and print as follows:\r\n\r\n    DECLARE\r\n        result varchar2;\r\n    BEGIN\r\n        result := SOME_FUNCTION;\r\n        DBMS_OUTPUT.PUTLINE(result);\r\n    END;","title":"Print stored procedure message directly to Java console","body":"<p>Change your procedure to a function as:</p>\n\n<pre><code>FUNCTION SOME_FUNCTION\nRETURN VARCHAR2\nIS\nBEGIN\n -- Do some processing here....\n RETURN 'output:' || ....;\nEND;\n</code></pre>\n\n<p>Back in java land:</p>\n\n<pre><code>CallableStatement cs = connection.prepareCall(\"{? = call SOME_FUNCTION}\");\ncs.registerOutParameter(1, String);\ncs.executeUpdate();\nsystem.out.println(cs.getString(1));\n</code></pre>\n\n<p>There is no other way.  You got ORACLE, you got the IDE console. There is no relationship between the two. To get data back from the database, you have to use a function to return a value, you could argue that returning values as out parameters is the same thing, and while both WILL get a value back, your code will be much more intuitive to others.  It says, this call returns something.</p>\n\n<p>That said, you can call the method in SQL developer and print as follows:</p>\n\n<pre><code>DECLARE\n    result varchar2;\nBEGIN\n    result := SOME_FUNCTION;\n    DBMS_OUTPUT.PUTLINE(result);\nEND;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2381693,"reputation":721,"user_id":2083581,"display_name":"Marcio J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693319292,"creation_date":1693319292,"answer_id":77001096,"question_id":29568472,"body_markdown":"If you are doing this for debug purposes, you can just use a table to store the value you want:\r\n\r\n``` lang-sql\r\n...\r\nBEGIN\t\r\n    UPDATE MY_TABLE \r\n    SET MY_COLUMN = &#39;hello&#39;\r\n    WHERE ID = 123456;\r\n    COMMIT;    \r\n    -- Rest of stored procedure code\r\nEND;\r\n```\r\n\r\nThen check the value in that table after you run the stored procedure.\r\n","title":"Print stored procedure message directly to Java console","body":"<p>If you are doing this for debug purposes, you can just use a table to store the value you want:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>...\nBEGIN   \n    UPDATE MY_TABLE \n    SET MY_COLUMN = 'hello'\n    WHERE ID = 123456;\n    COMMIT;    \n    -- Rest of stored procedure code\nEND;\n</code></pre>\n<p>Then check the value in that table after you run the stored procedure.</p>\n"}],"owner":{"account_id":2880509,"reputation":87,"user_id":2471555,"accept_rate":75,"display_name":"Avinash Jethy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9347,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":29575064,"answer_count":2,"score":4,"last_activity_date":1693319292,"creation_date":1428690932,"question_id":29568472,"body_markdown":"I have a stored procedure where I am using\r\n\r\n    dbms_output.put_line(&#39; output&#39; || outVar);\r\n\r\nI want to print same output directly in Java console (directly from stored proc) without using below code to get `outVar` :\r\n\r\n    callableStatement.registerOutParameter(1, String);\r\n    system.out.println(callableStatement.getString());\r\n","title":"Print stored procedure message directly to Java console","body":"<p>I have a stored procedure where I am using</p>\n\n<pre><code>dbms_output.put_line(' output' || outVar);\n</code></pre>\n\n<p>I want to print same output directly in Java console (directly from stored proc) without using below code to get <code>outVar</code> :</p>\n\n<pre><code>callableStatement.registerOutParameter(1, String);\nsystem.out.println(callableStatement.getString());\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693312897,"post_id":77000175,"comment_id":135741601,"body_markdown":"This doesn&#39;t look like the [right command](https://ericplayground.com/2015/06/07/how-to-configure-geany-to-run-java/)","body":"This doesn&#39;t look like the <a href=\"https://ericplayground.com/2015/06/07/how-to-configure-geany-to-run-java/\" rel=\"nofollow noreferrer\">right command</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693321606,"post_id":77000175,"comment_id":135743649,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":23835944,"reputation":1,"user_id":17841681,"display_name":"lahiru madushan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693319032,"creation_date":1693311799,"question_id":77000175,"body_markdown":"When I try to run a java file from geany it shows that,\r\n\r\n```\r\n20:14:08: Cannot execute build command &quot;cmd.exe /Q /C ^&quot;C:\\Program^ Files\\Geany\\libexec\\geany\\geany-run-helper^&quot;^ ^&quot;G:\\Lahiru^&quot;^ 0^ java^ ^&quot;Example^&quot;&quot;:\r\n\r\nOperation did not complete successfully because the file contains a virus or potentially unwanted software. Check the Terminal setting in Preferences\r\n```\r\n\r\nWhat is the reason for this issue?\r\n\r\nI attempted to reinstall the software twice, but the problem persisted. Additionally, I disabled the Avast software for one hour, yet the issue remained unresolved.","title":"cannot run a java file in geany","body":"<p>When I try to run a java file from geany it shows that,</p>\n<pre><code>20:14:08: Cannot execute build command &quot;cmd.exe /Q /C ^&quot;C:\\Program^ Files\\Geany\\libexec\\geany\\geany-run-helper^&quot;^ ^&quot;G:\\Lahiru^&quot;^ 0^ java^ ^&quot;Example^&quot;&quot;:\n\nOperation did not complete successfully because the file contains a virus or potentially unwanted software. Check the Terminal setting in Preferences\n</code></pre>\n<p>What is the reason for this issue?</p>\n<p>I attempted to reinstall the software twice, but the problem persisted. Additionally, I disabled the Avast software for one hour, yet the issue remained unresolved.</p>\n"},{"tags":["java","google-app-engine","junit","task-queue"],"answers":[{"tags":[],"owner":{"account_id":3252144,"reputation":476,"user_id":2742117,"display_name":"John Muraguri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495460843,"creation_date":1495460843,"answer_id":44114571,"question_id":40716781,"body_markdown":"I was experiencing the &quot;The specified queue is unknown&quot; error. After looking at this solution https://stackoverflow.com/a/11200214/2742117, I fixed it by adding this to my base test class\r\n\r\n    private static String dir;\r\n    static {\r\n      dir = System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/webapp/WEB-INF/queue.xml&quot;;\r\n      System.out.println(dir);\r\n    }\r\n\r\n    protected final LocalServiceTestHelper helper =\r\n      new LocalServiceTestHelper(\r\n          //some other configurations removed for brevity...\r\n          new LocalTaskQueueTestConfig().setQueueXmlPath(dir)\r\n      );\r\n\r\nAfter this my tests were able to work with my non default queue.","title":"Google App Engine: Exception while using TaskQueue with JUnit test cases","body":"<p>I was experiencing the \"The specified queue is unknown\" error. After looking at this solution <a href=\"https://stackoverflow.com/a/11200214/2742117\">https://stackoverflow.com/a/11200214/2742117</a>, I fixed it by adding this to my base test class</p>\n\n<pre><code>private static String dir;\nstatic {\n  dir = System.getProperty(\"user.dir\") + \"/src/main/webapp/WEB-INF/queue.xml\";\n  System.out.println(dir);\n}\n\nprotected final LocalServiceTestHelper helper =\n  new LocalServiceTestHelper(\n      //some other configurations removed for brevity...\n      new LocalTaskQueueTestConfig().setQueueXmlPath(dir)\n  );\n</code></pre>\n\n<p>After this my tests were able to work with my non default queue.</p>\n"},{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693318309,"creation_date":1693318309,"answer_id":77000985,"question_id":40716781,"body_markdown":"I was getting this issue not in my unit tests, but in actuality. In the end I had to actually add the new queue in my queue.xml\r\n\r\n\t&lt;queue&gt;\r\n\t\t&lt;name&gt;myNewQueue&lt;/name&gt;\r\n\t\t&lt;rate&gt;100/s&lt;/rate&gt;\r\n\t\t&lt;max-concurrent-requests&gt;100&lt;/max-concurrent-requests&gt;\r\n\t\t&lt;retry-parameters&gt;\r\n\t\t\t&lt;task-age-limit&gt;300h&lt;/task-age-limit&gt;\r\n\t\t\t&lt;min-backoff-seconds&gt;10&lt;/min-backoff-seconds&gt;\r\n\t\t\t&lt;max-backoff-seconds&gt;200&lt;/max-backoff-seconds&gt;\r\n\t\t\t&lt;max-doublings&gt;0&lt;/max-doublings&gt;\r\n\t\t&lt;/retry-parameters&gt;\r\n\t\t&lt;target&gt;my-queue-service&lt;/target&gt;\r\n\t&lt;/queue&gt;","title":"Google App Engine: Exception while using TaskQueue with JUnit test cases","body":"<p>I was getting this issue not in my unit tests, but in actuality. In the end I had to actually add the new queue in my queue.xml</p>\n<pre><code>&lt;queue&gt;\n    &lt;name&gt;myNewQueue&lt;/name&gt;\n    &lt;rate&gt;100/s&lt;/rate&gt;\n    &lt;max-concurrent-requests&gt;100&lt;/max-concurrent-requests&gt;\n    &lt;retry-parameters&gt;\n        &lt;task-age-limit&gt;300h&lt;/task-age-limit&gt;\n        &lt;min-backoff-seconds&gt;10&lt;/min-backoff-seconds&gt;\n        &lt;max-backoff-seconds&gt;200&lt;/max-backoff-seconds&gt;\n        &lt;max-doublings&gt;0&lt;/max-doublings&gt;\n    &lt;/retry-parameters&gt;\n    &lt;target&gt;my-queue-service&lt;/target&gt;\n&lt;/queue&gt;\n</code></pre>\n"}],"owner":{"account_id":6372775,"reputation":1407,"user_id":4944711,"accept_rate":61,"display_name":"Abhishek Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":914,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1693318309,"creation_date":1479720623,"question_id":40716781,"body_markdown":"I want to call task queue from Junit Test cases. my code is:\r\n\t\r\n\r\n    @Test\r\n    \tpublic void monthlyCronTest1() throws Exception {\r\n    ....\r\n           Queue queue = QueueFactory.getQueue(&quot;updateVcoCron&quot;);\r\n           TaskOptions options = TaskOptions.Builder.withUrl(String.format(&quot;/api/v1/users/update/validation/points&quot;)).method(TaskOptions.Method.GET);\r\n            \t\t\toptions.param(&quot;pageNumber&quot;, String.valueOf(pageNumber));\r\n            \t\t\toptions.param(&quot;validatableBrands&quot;, validatableBrands);\r\n              queue.add(options); // this line throw exception\r\n    ......\r\n    }\r\n\r\nhere I am getting error:\r\n\r\n\r\n     Exception:java.lang.IllegalStateException: The specified queue is unknown : updateVcoCron\r\n        [junit] 1577867 INFO  org.quartz.impl.StdSchedulerFactory  - Quartz scheduler &#39;DefaultQuartzScheduler&#39; initialized f\r\n    rom default resource file in Quartz package: &#39;quartz.properties&#39;\r\n        [junit] 1577867 INFO  org.quartz.impl.StdSchedulerFactory  - Quartz scheduler version: UNKNOWN.UNKNOWN.UNKNOWN\r\n        [junit] 1577867 INFO  org.quartz.core.QuartzScheduler  - Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.\r\n\r\n2) If I use default Queue like:\r\n\r\n       Queue queue = QueueFactory.getDefaultQueue();\r\nI get different error.\r\n\r\n\t\r\n\r\n        [junit] com.google.apphosting.api.ApiProxy$ApplicationException: ApplicationError: 2: Received exception executing h\r\n    ttp method GET against URL http://localhost:8080/api/v1/users/update/validation/points?pageNumber=1&amp;validatableBrands=Vi\r\n    rgin+Trains: Connection to http://localhost:8080 refused\r\n        [junit]     at com.google.appengine.api.urlfetch.dev.LocalURLFetchService.fetch(LocalURLFetchService.java:412)\r\n        [junit]     at com.google.appengine.api.taskqueue.dev.LocalTaskQueue$UrlFetchServiceLocalTaskQueueCallback.execute(L\r\n    ocalTaskQueue.java:701)\r\n        [junit]     at com.google.appengine.api.taskqueue.dev.UrlFetchJob.execute(UrlFetchJob.java:90)\r\n        [junit]     at org.quartz.core.JobRunShell.run(JobRunShell.java:203)\r\n        [junit]     at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:520)\r\n        [junit] 432275 ERROR org.quartz.core.ErrorLogger  - Job (default.task-1a8a7b8a-db49-432e-ac3d-cce784211b8a threw an\r\n    exception.\r\n\r\n\r\nMy queue.xml is in the below path:\r\n------------------------\r\nsrc/main/webapp/WEB-INF.\r\n\r\nNow my question: is there any configuration left for JUnit environment? why it is not picking queue.xml? Please help here. \r\n","title":"Google App Engine: Exception while using TaskQueue with JUnit test cases","body":"<p>I want to call task queue from Junit Test cases. my code is:</p>\n\n<pre><code>@Test\n    public void monthlyCronTest1() throws Exception {\n....\n       Queue queue = QueueFactory.getQueue(\"updateVcoCron\");\n       TaskOptions options = TaskOptions.Builder.withUrl(String.format(\"/api/v1/users/update/validation/points\")).method(TaskOptions.Method.GET);\n                    options.param(\"pageNumber\", String.valueOf(pageNumber));\n                    options.param(\"validatableBrands\", validatableBrands);\n          queue.add(options); // this line throw exception\n......\n}\n</code></pre>\n\n<p>here I am getting error:</p>\n\n<pre><code> Exception:java.lang.IllegalStateException: The specified queue is unknown : updateVcoCron\n    [junit] 1577867 INFO  org.quartz.impl.StdSchedulerFactory  - Quartz scheduler 'DefaultQuartzScheduler' initialized f\nrom default resource file in Quartz package: 'quartz.properties'\n    [junit] 1577867 INFO  org.quartz.impl.StdSchedulerFactory  - Quartz scheduler version: UNKNOWN.UNKNOWN.UNKNOWN\n    [junit] 1577867 INFO  org.quartz.core.QuartzScheduler  - Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.\n</code></pre>\n\n<p>2) If I use default Queue like:</p>\n\n<pre><code>   Queue queue = QueueFactory.getDefaultQueue();\n</code></pre>\n\n<p>I get different error.</p>\n\n<pre><code>    [junit] com.google.apphosting.api.ApiProxy$ApplicationException: ApplicationError: 2: Received exception executing h\nttp method GET against URL http://localhost:8080/api/v1/users/update/validation/points?pageNumber=1&amp;validatableBrands=Vi\nrgin+Trains: Connection to http://localhost:8080 refused\n    [junit]     at com.google.appengine.api.urlfetch.dev.LocalURLFetchService.fetch(LocalURLFetchService.java:412)\n    [junit]     at com.google.appengine.api.taskqueue.dev.LocalTaskQueue$UrlFetchServiceLocalTaskQueueCallback.execute(L\nocalTaskQueue.java:701)\n    [junit]     at com.google.appengine.api.taskqueue.dev.UrlFetchJob.execute(UrlFetchJob.java:90)\n    [junit]     at org.quartz.core.JobRunShell.run(JobRunShell.java:203)\n    [junit]     at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:520)\n    [junit] 432275 ERROR org.quartz.core.ErrorLogger  - Job (default.task-1a8a7b8a-db49-432e-ac3d-cce784211b8a threw an\nexception.\n</code></pre>\n\n<h2>My queue.xml is in the below path:</h2>\n\n<p>src/main/webapp/WEB-INF.</p>\n\n<p>Now my question: is there any configuration left for JUnit environment? why it is not picking queue.xml? Please help here. </p>\n"},{"tags":["java","soap","saaj"],"comments":[{"owner":{"account_id":52873,"reputation":2689,"user_id":158037,"display_name":"user158037"},"score":0,"creation_date":1660840483,"post_id":71428192,"comment_id":129634098,"body_markdown":"If anyone else finds this question you might want to check https://stackoverflow.com/a/66421487/158037 or other answers in that question.","body":"If anyone else finds this question you might want to check <a href=\"https://stackoverflow.com/a/66421487/158037\">stackoverflow.com/a/66421487/158037</a> or other answers in that question."}],"answers":[{"tags":[],"owner":{"account_id":26950012,"reputation":31,"user_id":20519386,"display_name":"Dovile"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668597969,"creation_date":1668597969,"answer_id":74459669,"question_id":71428192,"body_markdown":"For my Java 17 SoapMessageCreationException was solved with these dependencies\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n","title":"Unable to create SAAJ meta-factory in Java 17","body":"<p>For my Java 17 SoapMessageCreationException was solved with these dependencies</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29322443,"reputation":1,"user_id":22465705,"display_name":"Rendz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693318096,"creation_date":1693317644,"answer_id":77000887,"question_id":71428192,"body_markdown":"The dependencies above helped to resolve the error below after upgrading to java 17 from java 11:\r\n\r\n    Caused by: org.w3c.dom.DOMException: HIERARCHY_REQUEST_ERR: An attempt was made to insert a node where it is not permitted.\r\n                at java.xml/com.sun.org.apache.xerces.internal.dom.CoreDocumentImpl.insertBefore(CoreDocumentImpl.java:439)\r\n                at java.xml/com.sun.org.apache.xerces.internal.dom.NodeImpl.appendChild(NodeImpl.java:230)","title":"Unable to create SAAJ meta-factory in Java 17","body":"<p>The dependencies above helped to resolve the error below after upgrading to java 17 from java 11:</p>\n<pre><code>Caused by: org.w3c.dom.DOMException: HIERARCHY_REQUEST_ERR: An attempt was made to insert a node where it is not permitted.\n            at java.xml/com.sun.org.apache.xerces.internal.dom.CoreDocumentImpl.insertBefore(CoreDocumentImpl.java:439)\n            at java.xml/com.sun.org.apache.xerces.internal.dom.NodeImpl.appendChild(NodeImpl.java:230)\n</code></pre>\n"}],"owner":{"account_id":7691896,"reputation":793,"user_id":5827891,"accept_rate":50,"display_name":"DarkCrow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7198,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1693318096,"creation_date":1646932481,"question_id":71428192,"body_markdown":"I&#39;m getting the following error while starting my spring boot application\r\n\r\n    Caused by: org.springframework.ws.soap.SoapMessageCreationException: Could not create SAAJ MessageFactory: Unable to create SAAJ meta-factoryProvider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found; nested exception is javax.xml.soap.SOAPException: Unable to create SAAJ meta-factoryProvider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found\r\n    \tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.afterPropertiesSet(SaajSoapMessageFactory.java:156)\r\n    \tat org.springframework.ws.support.DefaultStrategiesHelper.instantiateBean(DefaultStrategiesHelper.java:182)\r\n    \t... 103 more\r\n    Caused by: javax.xml.soap.SOAPException: Unable to create SAAJ meta-factoryProvider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found\r\n    \tat javax.xml.soap.SAAJMetaFactory.getInstance(SAAJMetaFactory.java:94)\r\n    \tat javax.xml.soap.MessageFactory.newInstance(MessageFactory.java:138)\r\n    \tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.afterPropertiesSet(SaajSoapMessageFactory.java:139)\r\n    \t... 104 more\r\n\r\n\r\nHere is my dependency\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n                &lt;artifactId&gt;saaj-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nI&#39;m the spring boot application in Java 17. Am I missing anything here?","title":"Unable to create SAAJ meta-factory in Java 17","body":"<p>I'm getting the following error while starting my spring boot application</p>\n<pre><code>Caused by: org.springframework.ws.soap.SoapMessageCreationException: Could not create SAAJ MessageFactory: Unable to create SAAJ meta-factoryProvider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found; nested exception is javax.xml.soap.SOAPException: Unable to create SAAJ meta-factoryProvider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found\n    at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.afterPropertiesSet(SaajSoapMessageFactory.java:156)\n    at org.springframework.ws.support.DefaultStrategiesHelper.instantiateBean(DefaultStrategiesHelper.java:182)\n    ... 103 more\nCaused by: javax.xml.soap.SOAPException: Unable to create SAAJ meta-factoryProvider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found\n    at javax.xml.soap.SAAJMetaFactory.getInstance(SAAJMetaFactory.java:94)\n    at javax.xml.soap.MessageFactory.newInstance(MessageFactory.java:138)\n    at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.afterPropertiesSet(SaajSoapMessageFactory.java:139)\n    ... 104 more\n</code></pre>\n<p>Here is my dependency</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n            &lt;artifactId&gt;saaj-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n            &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n            &lt;version&gt;1.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I'm the spring boot application in Java 17. Am I missing anything here?</p>\n"},{"tags":["java","list","algorithm","dynamic-programming","greedy"],"comments":[{"owner":{"account_id":29068972,"reputation":69,"user_id":22267832,"display_name":"Yu Xing"},"score":1,"creation_date":1693040515,"post_id":76979392,"comment_id":135709630,"body_markdown":"Sorry I made a mistake, and now I have modified this question.","body":"Sorry I made a mistake, and now I have modified this question."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1693098999,"post_id":76979392,"comment_id":135715176,"body_markdown":"Thank you for the edit. That does clear things up. But, now, can you tell us about what you tried, and your thoughts about why it might not have worked? Please include Java code of your attempt, if you are able.","body":"Thank you for the edit. That does clear things up. But, now, can you tell us about what you tried, and your thoughts about why it might not have worked? Please include Java code of your attempt, if you are able."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1693245379,"post_id":76979392,"comment_id":135732242,"body_markdown":"That information should be in the question body. The admins here don&#39;t want comments to be used for chat.","body":"That information should be in the question body. The admins here don&#39;t want comments to be used for chat."},{"owner":{"account_id":29068972,"reputation":69,"user_id":22267832,"display_name":"Yu Xing"},"score":0,"creation_date":1693318133,"post_id":76979392,"comment_id":135742811,"body_markdown":"Ok, I put my information to the body","body":"Ok, I put my information to the body"}],"answers":[{"tags":[],"owner":{"account_id":29068972,"reputation":69,"user_id":22267832,"display_name":"Yu Xing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693318095,"creation_date":1693318095,"answer_id":77000951,"question_id":76979392,"body_markdown":"My approach is to use a map to record the occurrence count of each number. If there is a number that appears only once or there are at least three different numbers in total, I will return the length of the array. Otherwise, if the scenario is similar to &quot;1 2 1 2 1 2 1 2&quot;, I will return the length of the array divided by 2 plus 1 (each deletion triggers an automatic removal, reducing the length by 2; when the length reaches 2, two deletions can be performed). But I wonder if it is right and how to prove it. ","title":"Finding the Maximum and Minimum Number of Operations to Delete all Element in a Circular List","body":"<p>My approach is to use a map to record the occurrence count of each number. If there is a number that appears only once or there are at least three different numbers in total, I will return the length of the array. Otherwise, if the scenario is similar to &quot;1 2 1 2 1 2 1 2&quot;, I will return the length of the array divided by 2 plus 1 (each deletion triggers an automatic removal, reducing the length by 2; when the length reaches 2, two deletions can be performed). But I wonder if it is right and how to prove it.</p>\n"}],"owner":{"account_id":29068972,"reputation":69,"user_id":22267832,"display_name":"Yu Xing"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1693318095,"creation_date":1692984392,"question_id":76979392,"body_markdown":"In a circular list of length n, where a1 is adjacent to a2, a2 is adjacent to a3, and an is adjacent to a1. Each operation can delete one number, after each deletion, if there exists adjacent equal numbers, one of them will be automaticlly deleted until there are no adjacent equal numbers in the list. \r\n\r\nFor example, consider a circular list [1, 2, 3, 2]. If we delete the number 3, one of the adjacent 2&#39;s will be automatically deleted, resulting in [1, 2]. If we then delete the number 2, the list becomes [1]. Finally 1 is deleted, and the operation number is 3, because automatically deletions are not included.\r\n\r\nI would like to know the maximum and minimum number of operations required to delete all the elements in the circular list. What are the approaches or algorithms that can be used to solve this problem efficiently? Java code is better.","title":"Finding the Maximum and Minimum Number of Operations to Delete all Element in a Circular List","body":"<p>In a circular list of length n, where a1 is adjacent to a2, a2 is adjacent to a3, and an is adjacent to a1. Each operation can delete one number, after each deletion, if there exists adjacent equal numbers, one of them will be automaticlly deleted until there are no adjacent equal numbers in the list.</p>\n<p>For example, consider a circular list [1, 2, 3, 2]. If we delete the number 3, one of the adjacent 2's will be automatically deleted, resulting in [1, 2]. If we then delete the number 2, the list becomes [1]. Finally 1 is deleted, and the operation number is 3, because automatically deletions are not included.</p>\n<p>I would like to know the maximum and minimum number of operations required to delete all the elements in the circular list. What are the approaches or algorithms that can be used to solve this problem efficiently? Java code is better.</p>\n"},{"tags":["java","spring","spring-boot","pom.xml","parent-pom"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1693315756,"post_id":77000629,"comment_id":135742252,"body_markdown":"What do you mean by external jar? Share your pom so we can see the Maven configurations of the project.","body":"What do you mean by external jar? Share your pom so we can see the Maven configurations of the project."}],"owner":{"account_id":29036119,"reputation":1,"user_id":22241987,"display_name":"Tarique Aziz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693317544,"answer_count":0,"score":0,"last_activity_date":1693317603,"creation_date":1693315410,"question_id":77000629,"body_markdown":"I have included an external JAR and plugin in my pom.xml file using Maven, but when I to build and generate a WAR file, the generated WAR file does not contain the external JAR. How can I resolve this issue?\r\n\r\n\r\n    &lt;dependencies&gt;\r\n       &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.abbyy.FCEngine&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;FCEngine&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t&lt;scope&gt;system&lt;/scope&gt;\r\n    &lt;systemPath&gt;${basedir}\\src\\lib\\com.abbyy.FCEngine.jar&lt;/systemPath&gt;\r\n       &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;  \r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/pluginManagement&gt; \r\n     &lt;/build&gt;\r\n\r\n","title":"Why Maven External JARs are not present in WAR file after build?","body":"<p>I have included an external JAR and plugin in my pom.xml file using Maven, but when I to build and generate a WAR file, the generated WAR file does not contain the external JAR. How can I resolve this issue?</p>\n<pre><code>&lt;dependencies&gt;\n   &lt;dependency&gt;\n    &lt;groupId&gt;com.abbyy.FCEngine&lt;/groupId&gt;\n    &lt;artifactId&gt;FCEngine&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n&lt;systemPath&gt;${basedir}\\src\\lib\\com.abbyy.FCEngine.jar&lt;/systemPath&gt;\n   &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n    &lt;pluginManagement&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;  \n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/pluginManagement&gt; \n &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":448411,"reputation":585,"user_id":842590,"accept_rate":78,"display_name":"Lucy Brennan"},"score":0,"creation_date":1347864280,"post_id":12446316,"comment_id":16748806,"body_markdown":"Thanks for all the information, however I knew all that already. I know which JRE is being used when I run &#39;java&#39; in the command line. I know that I am using &#39;JavaSE-1.6&#39; in Eclipse because it says so. But I don&#39;t know which implementation of JavaSE-1.6 that is (e.g. Oracle?), and I don&#39;t know how to use that exact implementation to execute smth from command line (where is it on the file system?).","body":"Thanks for all the information, however I knew all that already. I know which JRE is being used when I run &#39;java&#39; in the command line. I know that I am using &#39;JavaSE-1.6&#39; in Eclipse because it says so. But I don&#39;t know which implementation of JavaSE-1.6 that is (e.g. Oracle?), and I don&#39;t know how to use that exact implementation to execute smth from command line (where is it on the file system?)."},{"owner":{"account_id":448411,"reputation":585,"user_id":842590,"accept_rate":78,"display_name":"Lucy Brennan"},"score":0,"creation_date":1347864354,"post_id":12446316,"comment_id":16748833,"body_markdown":"Obviously, if I install JRE myself and set Eclipse up to use that one,  I can answer the two above questions. But I don&#39;t know for the defaultly present JREs, e.g. &#39;JavaSE-1.6&#39;.","body":"Obviously, if I install JRE myself and set Eclipse up to use that one,  I can answer the two above questions. But I don&#39;t know for the defaultly present JREs, e.g. &#39;JavaSE-1.6&#39;."}],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1347793196,"creation_date":1347793196,"answer_id":12446331,"question_id":12446316,"body_markdown":"It is up to your configuration.\r\n\r\nGo to Windows/Preferences, then check: \r\n\r\nJava/Installed JREs and Java/Compiler/\r\n\r\nYou can also override your settings per project: project preferences, Java Compiler.\r\n","title":"Which Java is Eclipse using?","body":"<p>It is up to your configuration.</p>\n\n<p>Go to Windows/Preferences, then check: </p>\n\n<p>Java/Installed JREs and Java/Compiler/</p>\n\n<p>You can also override your settings per project: project preferences, Java Compiler.</p>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402042114,"creation_date":1347798854,"answer_id":12446898,"question_id":12446316,"body_markdown":"Eclipse gives you an option to select the `JDK` on **per project basis** as well as **for All projects.**\r\n\r\n\r\n**For All projects :**\r\n\r\nWindows ---&gt; Preferences ---&gt; Java Compiler ---&gt; Compiler compliance level ---&gt; Select the JDK you wish to work with.\r\n\r\n\r\n**For Specific projects :**\r\n\r\n\r\nProject ---&gt; Properties ---&gt; Java Compiler ---&gt; Compiler compliance level ---&gt; Select the JDK you wish to work with.\r\n\r\n\r\nThe settings for the specific project is given priority over the All project settings...\r\n","title":"Which Java is Eclipse using?","body":"<p>Eclipse gives you an option to select the <code>JDK</code> on <strong>per project basis</strong> as well as <strong>for All projects.</strong></p>\n\n<p><strong>For All projects :</strong></p>\n\n<p>Windows ---> Preferences ---> Java Compiler ---> Compiler compliance level ---> Select the JDK you wish to work with.</p>\n\n<p><strong>For Specific projects :</strong></p>\n\n<p>Project ---> Properties ---> Java Compiler ---> Compiler compliance level ---> Select the JDK you wish to work with.</p>\n\n<p>The settings for the specific project is given priority over the All project settings...</p>\n"},{"tags":[],"owner":{"account_id":221930,"reputation":381,"user_id":480179,"display_name":"Iman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1693316933,"creation_date":1347799881,"answer_id":12446993,"question_id":12446316,"body_markdown":"If you want to know \r\n+ where is **Java located in** your **system**,\r\nrun it in terminal `whereis java`.\r\n\r\n+ which **Java** is **used in** your **system**, run it in terminal `which java`.\r\n\r\n+ what **Java version** is **used by default**, run it in terminal `java --version`\r\n+ which **JDK** is **used in Eclipse**, refer to `Project-&gt;Properties-&gt;Java Compiler`\r\n+ which **JRE** is **used in Eclipse**, refer to `Windows-&gt;Preferences-&gt;Installed JREs`","title":"Which Java is Eclipse using?","body":"<p>If you want to know</p>\n<ul>\n<li><p>where is <strong>Java located in</strong> your <strong>system</strong>,\nrun it in terminal <code>whereis java</code>.</p>\n</li>\n<li><p>which <strong>Java</strong> is <strong>used in</strong> your <strong>system</strong>, run it in terminal <code>which java</code>.</p>\n</li>\n<li><p>what <strong>Java version</strong> is <strong>used by default</strong>, run it in terminal <code>java --version</code></p>\n</li>\n<li><p>which <strong>JDK</strong> is <strong>used in Eclipse</strong>, refer to <code>Project-&gt;Properties-&gt;Java Compiler</code></p>\n</li>\n<li><p>which <strong>JRE</strong> is <strong>used in Eclipse</strong>, refer to <code>Windows-&gt;Preferences-&gt;Installed JREs</code></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":964327,"reputation":6305,"user_id":988052,"display_name":"TacticalCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1347800690,"creation_date":1347800690,"answer_id":12447086,"question_id":12446316,"body_markdown":"*(this is too long for a comment)*\r\n\r\n&gt; Let say I want to use that same JRE to execute my Java program from\r\n&gt; command line, how do I find the &#39;java&#39; executable?\r\n\r\nOn Linux the java executable is the first executable named &quot;java&quot; found on your path.\r\n\r\nFor example:\r\n\r\n    ... $  echo $PATH\r\n    /home/f/jdk1.6.0_33/bin:/usr/local/bin:/usr/bin:/bin\r\n    ... $  which java\r\n    /home/f/jdk1.6.0_33/bin/java\r\n \r\nYou can install as many JRE/JDK as you want.  You can even trivially create user accounts with Java (*e.g.* a user account for development) and users account without Java (*e.g.* a user account without Java that you&#39;d use only for browsing the Web [see comment]).\r\n\r\nIf you try to launch Eclipse when the $PATH doesn&#39;t contain any Java executable and if you didn&#39;t install any JRE/JDK inside *~/eclipse/*, then Eclipse shall complain and refuse to launch:\r\n\r\n*&quot;A JRE or JDK must installed in order to launch Eclipse&quot;*\r\n\r\nAt that point and if you did install Java, you can simply add it to the $PATH and Eclipse shall launch:\r\n\r\n    ... $  export PATH=~/jdk1.6.0_33/bin:$PATH\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Which Java is Eclipse using?","body":"<p><em>(this is too long for a comment)</em></p>\n\n<blockquote>\n  <p>Let say I want to use that same JRE to execute my Java program from\n  command line, how do I find the 'java' executable?</p>\n</blockquote>\n\n<p>On Linux the java executable is the first executable named \"java\" found on your path.</p>\n\n<p>For example:</p>\n\n<pre><code>... $  echo $PATH\n/home/f/jdk1.6.0_33/bin:/usr/local/bin:/usr/bin:/bin\n... $  which java\n/home/f/jdk1.6.0_33/bin/java\n</code></pre>\n\n<p>You can install as many JRE/JDK as you want.  You can even trivially create user accounts with Java (<em>e.g.</em> a user account for development) and users account without Java (<em>e.g.</em> a user account without Java that you'd use only for browsing the Web [see comment]).</p>\n\n<p>If you try to launch Eclipse when the $PATH doesn't contain any Java executable and if you didn't install any JRE/JDK inside <em>~/eclipse/</em>, then Eclipse shall complain and refuse to launch:</p>\n\n<p><em>\"A JRE or JDK must installed in order to launch Eclipse\"</em></p>\n\n<p>At that point and if you did install Java, you can simply add it to the $PATH and Eclipse shall launch:</p>\n\n<pre><code>... $  export PATH=~/jdk1.6.0_33/bin:$PATH\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5684267,"reputation":1025,"user_id":4494324,"accept_rate":100,"display_name":"IndianerJones"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1452509540,"creation_date":1452509540,"answer_id":34719678,"question_id":12446316,"body_markdown":"While you are in Eclipse:\r\n\r\n- Open Help -&gt; About Eclipse \r\n- click on Installation Details\r\n- select the Tab Configuration\r\n\r\nsearch for the entry\r\n\r\n    eclipse.vm=\r\n\r\nthere should be the path to the used JRE.","title":"Which Java is Eclipse using?","body":"<p>While you are in Eclipse:</p>\n\n<ul>\n<li>Open Help -> About Eclipse </li>\n<li>click on Installation Details</li>\n<li>select the Tab Configuration</li>\n</ul>\n\n<p>search for the entry</p>\n\n<pre><code>eclipse.vm=\n</code></pre>\n\n<p>there should be the path to the used JRE.</p>\n"}],"owner":{"account_id":448411,"reputation":585,"user_id":842590,"accept_rate":78,"display_name":"Lucy Brennan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7420,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1693316933,"creation_date":1347792974,"question_id":12446316,"body_markdown":"I downloaded &#39;Eclipse IDE for Java EE Developers&#39; for Linux from eclipse.org. I am able to write, compile and run Java programs. But I don&#39;t understand what JDK / JRE is being used. \r\n\r\nIf I start a new &#39;Java Project&#39; I can choose which JRE to use, but if I choose for instance &#39;JavaSE-1.6&#39; I still don&#39;t know what that is? Oracle? IBM? And I don&#39;t know where that JRE is in my file system. \r\n\r\nLet&#39;s say I want to use that same JRE to execute my Java program from command line, how do I find the &#39;java&#39; executable?\r\n\r\n","title":"Which Java is Eclipse using?","body":"<p>I downloaded 'Eclipse IDE for Java EE Developers' for Linux from eclipse.org. I am able to write, compile and run Java programs. But I don't understand what JDK / JRE is being used. </p>\n\n<p>If I start a new 'Java Project' I can choose which JRE to use, but if I choose for instance 'JavaSE-1.6' I still don't know what that is? Oracle? IBM? And I don't know where that JRE is in my file system. </p>\n\n<p>Let's say I want to use that same JRE to execute my Java program from command line, how do I find the 'java' executable?</p>\n"},{"tags":["java","spring","spring-boot","twilio","twilio-api"],"comments":[{"owner":{"account_id":2258060,"reputation":3689,"user_id":1988798,"accept_rate":83,"display_name":"Gaurav"},"score":0,"creation_date":1693312164,"post_id":76999571,"comment_id":135741406,"body_markdown":"It seems to me that you are missing `EnableConfigurationProperties` on TwilioProperties due to which its instance is set of null values which of course is not acceptable by Twilio. Can you debug it and verify this behaviour ? What are the values passed to service ?","body":"It seems to me that you are missing <code>EnableConfigurationProperties</code> on TwilioProperties due to which its instance is set of null values which of course is not acceptable by Twilio. Can you debug it and verify this behaviour ? What are the values passed to service ?"},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1693312328,"post_id":76999571,"comment_id":135741460,"body_markdown":"I have checked all the properties in console using Logger. No value is null and I am not getting any NullPointerException. A TwilioConfig object has been autowired in Service class. It holds all the values. Please correct me if I misunderstood something you specified. Thanks!","body":"I have checked all the properties in console using Logger. No value is null and I am not getting any NullPointerException. A TwilioConfig object has been autowired in Service class. It holds all the values. Please correct me if I misunderstood something you specified. Thanks!"},{"owner":{"account_id":2258060,"reputation":3689,"user_id":1988798,"accept_rate":83,"display_name":"Gaurav"},"score":0,"creation_date":1693312538,"post_id":76999571,"comment_id":135741504,"body_markdown":"Then I am afraid, you need to debug into Twilio VerificationCreator source code to see why it is throwing the exception.","body":"Then I am afraid, you need to debug into Twilio VerificationCreator source code to see why it is throwing the exception."},{"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"score":0,"creation_date":1693313400,"post_id":76999571,"comment_id":135741705,"body_markdown":"Can you check that the value of `twilioConfig.getMessagingServiceSid()` is &quot;VAXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;?","body":"Can you check that the value of <code>twilioConfig.getMessagingServiceSid()</code> is &quot;VAXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;?"},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1693313698,"post_id":76999571,"comment_id":135741764,"body_markdown":"Yes its a non-null string not starting, but not starting with V- MG97d8XXXXXXXXXXXXXXX99bd82e16e745 found under- Messaging-&gt;Services.","body":"Yes its a non-null string not starting, but not starting with V- MG97d8XXXXXXXXXXXXXXX99bd82e16e745 found under- Messaging-&gt;Services."}],"answers":[{"tags":[],"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693314390,"creation_date":1693313940,"answer_id":77000447,"question_id":76999571,"body_markdown":"You need to use a service SID that starts with `VA`.\r\n\r\nYou want to use the **&quot;Verify (VA)&quot;** service but you are using the `SID` for the **&quot;Messaging (MG)&quot;** service.\r\n\r\nThere are some more mistakes (if you don&#39;t do it on purpose);\r\n\r\n- Your `TwilioInitializer` class is creating a service for the **Verify Service** every time you run your code. *If you do this on purpose, it&#39;s fine, but if you do it unknowingly; you don&#39;t need to create a service every time.*\r\n\r\n- You only need to run the `Twilio.init(...);` block once, you don&#39;t need to run it in every method.","title":"com.twilio.exception.ApiException: Invalid parameter: Spring Boot","body":"<p>You need to use a service SID that starts with <code>VA</code>.</p>\n<p>You want to use the <strong>&quot;Verify (VA)&quot;</strong> service but you are using the <code>SID</code> for the <strong>&quot;Messaging (MG)&quot;</strong> service.</p>\n<p>There are some more mistakes (if you don't do it on purpose);</p>\n<ul>\n<li><p>Your <code>TwilioInitializer</code> class is creating a service for the <strong>Verify Service</strong> every time you run your code. <em>If you do this on purpose, it's fine, but if you do it unknowingly; you don't need to create a service every time.</em></p>\n</li>\n<li><p>You only need to run the <code>Twilio.init(...);</code> block once, you don't need to run it in every method.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77000447,"answer_count":1,"score":0,"last_activity_date":1693316780,"creation_date":1693306613,"question_id":76999571,"body_markdown":"I am working on a **SpringBoot** project, where I want to implement **Mobile Number OTP Verification** using **Twilio.** I am using the following versions-  \r\n 1. Spring: 6\r\n 2. SpringBoot: 3.1.3\r\n 3. Java: 17\r\n 4. Twilio-\r\n ```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.twilio.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;twilio&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;9.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nI referred the following docs and implemented accordingly-  \r\nhttps://www.twilio.com/docs/verify/api#user-verification-workflow\r\nand  https://www.twilio.com/blog/phone-number-verification-java-spring-boot-verify-totp.  \r\n\r\nMy code-  \r\n**Config-** I have verified all the ids and tokens\r\n```\r\n\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\n@ConfigurationProperties(&quot;twilio&quot;)\r\npublic class TwilioConfig {\r\n    private String accountSid;\r\n    private String authToken;\r\n    private String trialNumber;\r\n\r\n    private String messagingServiceSid;\r\n\r\n    public void setAccountSid(String accountSid) {\r\n        this.accountSid = accountSid;\r\n    }\r\n\r\n    public void setAuthToken(String authToken) {\r\n        this.authToken = authToken;\r\n    }\r\n\r\n    public void setTrialNumber(String trialNumber) {\r\n        this.trialNumber = trialNumber;\r\n    }\r\n\r\n    public void setMessagingServiceSid(String messagingServiceSid) {\r\n        this.messagingServiceSid = messagingServiceSid;\r\n    }\r\n\r\n    public TwilioConfig(){\r\n\r\n    }\r\n\r\n    public String getAccountSid() {\r\n        return accountSid;\r\n    }\r\n\r\n    public String getAuthToken() {\r\n        return authToken;\r\n    }\r\n\r\n    public String getTrialNumber() {\r\n        return trialNumber;\r\n    }\r\n\r\n    public String getMessagingServiceSid() {\r\n        return messagingServiceSid;\r\n    }\r\n\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;TwilioConfig{&quot; +\r\n                &quot;accountSid=&#39;&quot; + accountSid + &#39;\\&#39;&#39; +\r\n                &quot;, authToken=&#39;&quot; + authToken + &#39;\\&#39;&#39; +\r\n                &quot;, trialNumber=&#39;&quot; + trialNumber + &#39;\\&#39;&#39; +\r\n                &quot;, messagingServiceSid=&#39;&quot; + messagingServiceSid + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n**Twilio Initializer-**\r\n```\r\nimport com.twilio.Twilio;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class TwilioInitializer {\r\n\r\n    Logger logger= LoggerFactory.getLogger(TwilioInitializer.class);\r\n\r\n    private final TwilioConfig twilioConfig;\r\n\r\n    @Autowired\r\n    public TwilioInitializer(TwilioConfig twilioConfig) {\r\n        this.twilioConfig = twilioConfig;\r\n        logger.info(&quot;Initializing Twilio&quot;);\r\n        Twilio.init(\r\n                twilioConfig.getAccountSid(),\r\n                twilioConfig.getAuthToken()\r\n        );\r\n        com.twilio.rest.verify.v2.Service service = com.twilio.rest.verify.v2.Service.creator(&quot;My First Verify Service&quot;).create();\r\n        logger.info(&quot;Twilio initialized&quot;);\r\n\r\n    }\r\n}\r\n```\r\nand, **Service-**  \r\n```\r\nimport com.twilio.Twilio;\r\nimport com.twilio.rest.verify.v2.service.Verification;\r\nimport com.twilio.rest.verify.v2.service.VerificationCheck;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.time.LocalDateTime;\r\n\r\n@Service\r\npublic class SmsSenderImpl implements SmsSender {\r\n    private final Logger logger = LoggerFactory.getLogger(SmsSenderImpl.class);\r\n\r\n    private final TwilioConfig twilioConfig;\r\n\r\n    @Autowired\r\n    public SmsSenderImpl(TwilioConfig twilioConfig) {\r\n        this.twilioConfig = twilioConfig;\r\n    }\r\n\r\n    @Override\r\n    public void sendSms(SmsRequest smsRequest) {\r\n        Twilio.init(twilioConfig.getAccountSid(), twilioConfig.getAuthToken());\r\n\r\n        String phoneNumber = &quot;+91&quot; + smsRequest.getPhoneNumber().trim();\r\n        try {\r\n            logger.info(&quot;twilioConfig: &quot; + twilioConfig);\r\n            logger.info(&quot;Sending otp: &quot; + smsRequest);\r\n            Verification verification = Verification.creator(twilioConfig.getMessagingServiceSid(), // this is your verification sid\r\n                    phoneNumber, //this is your Twilio verified recipient phone number\r\n                    &quot;sms&quot; // this is your channel type\r\n            ).create();\r\n\r\n            logger.info(&quot;Verification status: &quot; + verification.getStatus());\r\n\r\n            logger.info(&quot;OTP has been successfully generated, and awaits your verification {}&quot;, LocalDateTime.now());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void verifyOTP(String otp, String to) {\r\n        Twilio.init(twilioConfig.getAccountSid(), twilioConfig.getAuthToken());\r\n        logger.info(&quot;Verifying otp: &quot; + otp);\r\n\r\n        try {\r\n\r\n            VerificationCheck verificationCheck = VerificationCheck.creator(twilioConfig.getMessagingServiceSid()).setTo(to.trim()).setCode(otp.trim()).create();\r\n\r\n            logger.info(&quot;verify otp, Verification status: &quot; + verificationCheck.getStatus());\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n**Problem-**\r\nWhen I use the method- **sendSms** in service layer, I get the following error-\r\n```\r\ncom.twilio.exception.ApiException: Invalid parameter\r\n\tat com.twilio.rest.verify.v2.service.VerificationCreator.create(VerificationCreator.java:184)\r\n\tat com.twilio.rest.verify.v2.service.VerificationCreator.create(VerificationCreator.java:32)\r\n\tat com.twilio.base.Creator.create(Creator.java:40)\r\n```\r\n\r\nI have chosen the service-  \r\nMessaging-&gt;Services-&gt;New-Service-&gt; Service Type- **&quot;Verify Users&quot;**.\r\n[![enter image description here][1]][1]\r\nI am not able to understand where is the issue. I have also created a service on Twilio and tested it on using https://console.twilio.com/us1/develop/sms/try-it-out/send-an-sms. But, I am getting error in the code and I can&#39;t find the issue. Please help!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IIQxJ.png","title":"com.twilio.exception.ApiException: Invalid parameter: Spring Boot","body":"<p>I am working on a <strong>SpringBoot</strong> project, where I want to implement <strong>Mobile Number OTP Verification</strong> using <strong>Twilio.</strong> I am using the following versions-</p>\n<ol>\n<li>Spring: 6</li>\n<li>SpringBoot: 3.1.3</li>\n<li>Java: 17</li>\n<li>Twilio-</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n           &lt;groupId&gt;com.twilio.sdk&lt;/groupId&gt;\n           &lt;artifactId&gt;twilio&lt;/artifactId&gt;\n           &lt;version&gt;9.11.0&lt;/version&gt;\n       &lt;/dependency&gt;\n</code></pre>\n<p>I referred the following docs and implemented accordingly-<br />\n<a href=\"https://www.twilio.com/docs/verify/api#user-verification-workflow\" rel=\"nofollow noreferrer\">https://www.twilio.com/docs/verify/api#user-verification-workflow</a>\nand  <a href=\"https://www.twilio.com/blog/phone-number-verification-java-spring-boot-verify-totp\" rel=\"nofollow noreferrer\">https://www.twilio.com/blog/phone-number-verification-java-spring-boot-verify-totp</a>.</p>\n<p>My code-<br />\n<strong>Config-</strong> I have verified all the ids and tokens</p>\n<pre><code>\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@ConfigurationProperties(&quot;twilio&quot;)\npublic class TwilioConfig {\n    private String accountSid;\n    private String authToken;\n    private String trialNumber;\n\n    private String messagingServiceSid;\n\n    public void setAccountSid(String accountSid) {\n        this.accountSid = accountSid;\n    }\n\n    public void setAuthToken(String authToken) {\n        this.authToken = authToken;\n    }\n\n    public void setTrialNumber(String trialNumber) {\n        this.trialNumber = trialNumber;\n    }\n\n    public void setMessagingServiceSid(String messagingServiceSid) {\n        this.messagingServiceSid = messagingServiceSid;\n    }\n\n    public TwilioConfig(){\n\n    }\n\n    public String getAccountSid() {\n        return accountSid;\n    }\n\n    public String getAuthToken() {\n        return authToken;\n    }\n\n    public String getTrialNumber() {\n        return trialNumber;\n    }\n\n    public String getMessagingServiceSid() {\n        return messagingServiceSid;\n    }\n\n\n    @Override\n    public String toString() {\n        return &quot;TwilioConfig{&quot; +\n                &quot;accountSid='&quot; + accountSid + '\\'' +\n                &quot;, authToken='&quot; + authToken + '\\'' +\n                &quot;, trialNumber='&quot; + trialNumber + '\\'' +\n                &quot;, messagingServiceSid='&quot; + messagingServiceSid + '\\'' +\n                '}';\n    }\n}\n\n</code></pre>\n<p><strong>Twilio Initializer-</strong></p>\n<pre><code>import com.twilio.Twilio;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class TwilioInitializer {\n\n    Logger logger= LoggerFactory.getLogger(TwilioInitializer.class);\n\n    private final TwilioConfig twilioConfig;\n\n    @Autowired\n    public TwilioInitializer(TwilioConfig twilioConfig) {\n        this.twilioConfig = twilioConfig;\n        logger.info(&quot;Initializing Twilio&quot;);\n        Twilio.init(\n                twilioConfig.getAccountSid(),\n                twilioConfig.getAuthToken()\n        );\n        com.twilio.rest.verify.v2.Service service = com.twilio.rest.verify.v2.Service.creator(&quot;My First Verify Service&quot;).create();\n        logger.info(&quot;Twilio initialized&quot;);\n\n    }\n}\n</code></pre>\n<p>and, <strong>Service-</strong></p>\n<pre><code>import com.twilio.Twilio;\nimport com.twilio.rest.verify.v2.service.Verification;\nimport com.twilio.rest.verify.v2.service.VerificationCheck;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.time.LocalDateTime;\n\n@Service\npublic class SmsSenderImpl implements SmsSender {\n    private final Logger logger = LoggerFactory.getLogger(SmsSenderImpl.class);\n\n    private final TwilioConfig twilioConfig;\n\n    @Autowired\n    public SmsSenderImpl(TwilioConfig twilioConfig) {\n        this.twilioConfig = twilioConfig;\n    }\n\n    @Override\n    public void sendSms(SmsRequest smsRequest) {\n        Twilio.init(twilioConfig.getAccountSid(), twilioConfig.getAuthToken());\n\n        String phoneNumber = &quot;+91&quot; + smsRequest.getPhoneNumber().trim();\n        try {\n            logger.info(&quot;twilioConfig: &quot; + twilioConfig);\n            logger.info(&quot;Sending otp: &quot; + smsRequest);\n            Verification verification = Verification.creator(twilioConfig.getMessagingServiceSid(), // this is your verification sid\n                    phoneNumber, //this is your Twilio verified recipient phone number\n                    &quot;sms&quot; // this is your channel type\n            ).create();\n\n            logger.info(&quot;Verification status: &quot; + verification.getStatus());\n\n            logger.info(&quot;OTP has been successfully generated, and awaits your verification {}&quot;, LocalDateTime.now());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void verifyOTP(String otp, String to) {\n        Twilio.init(twilioConfig.getAccountSid(), twilioConfig.getAuthToken());\n        logger.info(&quot;Verifying otp: &quot; + otp);\n\n        try {\n\n            VerificationCheck verificationCheck = VerificationCheck.creator(twilioConfig.getMessagingServiceSid()).setTo(to.trim()).setCode(otp.trim()).create();\n\n            logger.info(&quot;verify otp, Verification status: &quot; + verificationCheck.getStatus());\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n\n}\n\n</code></pre>\n<p><strong>Problem-</strong>\nWhen I use the method- <strong>sendSms</strong> in service layer, I get the following error-</p>\n<pre><code>com.twilio.exception.ApiException: Invalid parameter\n    at com.twilio.rest.verify.v2.service.VerificationCreator.create(VerificationCreator.java:184)\n    at com.twilio.rest.verify.v2.service.VerificationCreator.create(VerificationCreator.java:32)\n    at com.twilio.base.Creator.create(Creator.java:40)\n</code></pre>\n<p>I have chosen the service-<br />\nMessaging-&gt;Services-&gt;New-Service-&gt; Service Type- <strong>&quot;Verify Users&quot;</strong>.\n<a href=\"https://i.stack.imgur.com/IIQxJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IIQxJ.png\" alt=\"enter image description here\" /></a>\nI am not able to understand where is the issue. I have also created a service on Twilio and tested it on using <a href=\"https://console.twilio.com/us1/develop/sms/try-it-out/send-an-sms\" rel=\"nofollow noreferrer\">https://console.twilio.com/us1/develop/sms/try-it-out/send-an-sms</a>. But, I am getting error in the code and I can't find the issue. Please help!</p>\n"},{"tags":["java","plugins","minecraft"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1693294723,"post_id":76995803,"comment_id":135738063,"body_markdown":"Welcome on StackOverflow. You&#39;re talking about the tab completion?","body":"Welcome on StackOverflow. You&#39;re talking about the tab completion?"},{"owner":{"account_id":25239528,"reputation":11,"user_id":19073581,"display_name":"Senne"},"score":0,"creation_date":1693300917,"post_id":76995803,"comment_id":135739242,"body_markdown":"Yes, but I asked in the PaperMC discord and the TabCompleteEvent doesn&#39;t work on vanilla commands","body":"Yes, but I asked in the PaperMC discord and the TabCompleteEvent doesn&#39;t work on vanilla commands"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693305641,"post_id":76995803,"comment_id":135740078,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":25239528,"reputation":11,"user_id":19073581,"display_name":"Senne"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1693316715,"creation_date":1693254169,"question_id":76995803,"body_markdown":"I am trying to add suggestions (more options in tab complete) to the items part of the Minecraft give command with brigadier from PaperMC. Their is almost no doc for this and I can&#39;t figure it out. \r\n\r\nI want to add custom items to the tab complete list of the give command.\r\n\r\nI tried manually looking into the command tree you get from the AsyncPlayerSendCommandsEvent event. I found a CommandNode with the name items in the give command, but I couldn&#39;t find where to add arguments.","title":"add suggestions to Minecraft give command with PaperMC","body":"<p>I am trying to add suggestions (more options in tab complete) to the items part of the Minecraft give command with brigadier from PaperMC. Their is almost no doc for this and I can't figure it out.</p>\n<p>I want to add custom items to the tab complete list of the give command.</p>\n<p>I tried manually looking into the command tree you get from the AsyncPlayerSendCommandsEvent event. I found a CommandNode with the name items in the give command, but I couldn't find where to add arguments.</p>\n"},{"tags":["java","amazon-sqs","temporal-workflow"],"comments":[{"owner":{"account_id":3447097,"reputation":4331,"user_id":2887657,"display_name":"James"},"score":0,"creation_date":1693315389,"post_id":76991343,"comment_id":135742158,"body_markdown":"Why are you increasing the `WorkflowTaskTimeout` to 1 minute?","body":"Why are you increasing the <code>WorkflowTaskTimeout</code> to 1 minute?"}],"answers":[{"tags":[],"owner":{"account_id":3447097,"reputation":4331,"user_id":2887657,"display_name":"James"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693316574,"creation_date":1693316574,"answer_id":77000768,"question_id":76991343,"body_markdown":"Your Workflow is using a `LinkedBlockingQueue`.\r\n\r\nThat can&#39;t work, because that causes execution to block entirely, preventing completion of the Workflow Task, which ends up timing out.\r\n\r\nHere is a pertinent snippet from [Temporal&#39;s Dev Guide](https://docs.temporal.io/dev-guide/java/foundations#workflow-logic-requirements):\r\n\r\n&gt; Do not use synchronization, locks, or other standard Java blocking concurrency-related classes besides those provided by the Workflow class. There is no need for explicit synchronization because multi-threaded code inside a Workflow is executed one thread at a time and under a global lock.\r\n&gt; - Call Workflow.sleep instead of Thread.sleep.\r\n&gt; - Use Promise and CompletablePromise instead of Future and CompletableFuture.\r\n&gt; - Use WorkflowQueue instead of BlockingQueue.\r\n\r\nThe `WorkflowQueue` class internally uses `Workflow.await` rather than Java&#39;s synchronization primitives, so that wait periods (eg. `poll()`) do not block completion of the current Workflow Task.\r\n\r\nOnce that is fixed, you may also want to reset your `WorkflowTaskTimeout` to its default value (ie. default is 10 seconds, but just remove the `setWorkflowTaskTimeout(...)` call).","title":"Temporal Workflow start workflows with same id in fifo queue and WorkflowTaskTimeout","body":"<p>Your Workflow is using a <code>LinkedBlockingQueue</code>.</p>\n<p>That can't work, because that causes execution to block entirely, preventing completion of the Workflow Task, which ends up timing out.</p>\n<p>Here is a pertinent snippet from <a href=\"https://docs.temporal.io/dev-guide/java/foundations#workflow-logic-requirements\" rel=\"nofollow noreferrer\">Temporal's Dev Guide</a>:</p>\n<blockquote>\n<p>Do not use synchronization, locks, or other standard Java blocking concurrency-related classes besides those provided by the Workflow class. There is no need for explicit synchronization because multi-threaded code inside a Workflow is executed one thread at a time and under a global lock.</p>\n<ul>\n<li>Call Workflow.sleep instead of Thread.sleep.</li>\n<li>Use Promise and CompletablePromise instead of Future and CompletableFuture.</li>\n<li>Use WorkflowQueue instead of BlockingQueue.</li>\n</ul>\n</blockquote>\n<p>The <code>WorkflowQueue</code> class internally uses <code>Workflow.await</code> rather than Java's synchronization primitives, so that wait periods (eg. <code>poll()</code>) do not block completion of the current Workflow Task.</p>\n<p>Once that is fixed, you may also want to reset your <code>WorkflowTaskTimeout</code> to its default value (ie. default is 10 seconds, but just remove the <code>setWorkflowTaskTimeout(...)</code> call).</p>\n"}],"owner":{"account_id":15684809,"reputation":35,"user_id":11317798,"display_name":"Mykhailo Yablon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693316574,"creation_date":1693212975,"question_id":76991343,"body_markdown":"I&#39;m currently working with the Temporal workflow framework and the Java Temporal SDK. My setup involves an AWS SQS listener that triggers a Temporal workflow. The messages received by the listener contain a sourceId. Based on this sourceId, I need to start Temporal workflows in a queue. However, if there is already a running workflow for the same sourceId, I want to add the new message to a FIFO queue and wait for the previous workflow to complete.\r\nHere&#39;s an overview of the relevant parts of my code:\r\n\r\n\r\n\r\n```\r\n@SqsListener(value = QueueName.PROCESSING_QUEUE,\r\n      deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\r\npublic void receive(ProcessingMessage message) {\r\n    var workflowId = createWorkflowId(message.getSourceId());\r\n    var options = WorkflowOptions.newBuilder()\r\n        .setTaskQueue(STARTER_WORKFLOW_QUEUE)\r\n        .setWorkflowId(workflowId)\r\n        .setWorkflowTaskTimeout(Duration.of(1, ChronoUnit.MINUTES))\r\n        .build();\r\n    log.info(&quot;Starting workflow with id - {}&quot;, workflowId);\r\n    var workflow = workflowClient.newUntypedWorkflowStub(&quot;RecordStarterWorkflow&quot;, options);\r\n    workflow.signalWithStart(&quot;putNewEmployee&quot;, new Object[]{message}, new Object[]{});\r\n}\r\n```\r\nAnd my RecordStarterWorkflow class\r\n\r\n```\r\nprivate final LinkedBlockingQueue&lt;SingleEnrollmentProcessingMessage&gt; employeeMessages\r\n      = new LinkedBlockingQueue&lt;&gt;();\r\n\r\n@Override\r\npublic void startWorkflow() {\r\n    do {\r\n        var message = employeeMessages.poll();\r\n        var childWorkflow = Workflow.newChildWorkflowStub(SomeWorkflow.class, options);\r\n        try {\r\n            childWorkflow.startWorkflow(message);\r\n        } catch (Exception exception) {\r\n            log.error(&quot;Workflow failed. Workflow id:{} | Message:{}&quot;, options.getWorkflowId(),\r\n                exception.getMessage());\r\n        }\r\n    } while (!employeeMessages.isEmpty());\r\n    log.info(&quot;Processing finished&quot;);\r\n}\r\n\r\n@Override\r\n@SneakyThrows\r\npublic void putNewEmployee(ProcessingMessage message) {\r\n    log.debug(&quot;Received signal with message: {}&quot;, message);\r\n    this.employeeMessages.add(message);\r\n}\r\n```\r\nThe above code works well when processing two sourceId messages. However, as I attempt to scale it and send three or more messages via AWS SQS, I start encountering Timeout exceptions in my workflow execution. This eventually leads to long-running workflows and performance degradation.\r\nI&#39;m seeking advice on how to effectively scale my Temporal workflow processing while avoiding these Timeout exceptions. I suspect that the way I&#39;m handling child workflows and their execution might be causing the issue. If anyone has insights, recommendations, or alternative approaches that could help me address this scaling challenge, I would greatly appreciate your input.\r\n","title":"Temporal Workflow start workflows with same id in fifo queue and WorkflowTaskTimeout","body":"<p>I'm currently working with the Temporal workflow framework and the Java Temporal SDK. My setup involves an AWS SQS listener that triggers a Temporal workflow. The messages received by the listener contain a sourceId. Based on this sourceId, I need to start Temporal workflows in a queue. However, if there is already a running workflow for the same sourceId, I want to add the new message to a FIFO queue and wait for the previous workflow to complete.\nHere's an overview of the relevant parts of my code:</p>\n<pre><code>@SqsListener(value = QueueName.PROCESSING_QUEUE,\n      deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\npublic void receive(ProcessingMessage message) {\n    var workflowId = createWorkflowId(message.getSourceId());\n    var options = WorkflowOptions.newBuilder()\n        .setTaskQueue(STARTER_WORKFLOW_QUEUE)\n        .setWorkflowId(workflowId)\n        .setWorkflowTaskTimeout(Duration.of(1, ChronoUnit.MINUTES))\n        .build();\n    log.info(&quot;Starting workflow with id - {}&quot;, workflowId);\n    var workflow = workflowClient.newUntypedWorkflowStub(&quot;RecordStarterWorkflow&quot;, options);\n    workflow.signalWithStart(&quot;putNewEmployee&quot;, new Object[]{message}, new Object[]{});\n}\n</code></pre>\n<p>And my RecordStarterWorkflow class</p>\n<pre><code>private final LinkedBlockingQueue&lt;SingleEnrollmentProcessingMessage&gt; employeeMessages\n      = new LinkedBlockingQueue&lt;&gt;();\n\n@Override\npublic void startWorkflow() {\n    do {\n        var message = employeeMessages.poll();\n        var childWorkflow = Workflow.newChildWorkflowStub(SomeWorkflow.class, options);\n        try {\n            childWorkflow.startWorkflow(message);\n        } catch (Exception exception) {\n            log.error(&quot;Workflow failed. Workflow id:{} | Message:{}&quot;, options.getWorkflowId(),\n                exception.getMessage());\n        }\n    } while (!employeeMessages.isEmpty());\n    log.info(&quot;Processing finished&quot;);\n}\n\n@Override\n@SneakyThrows\npublic void putNewEmployee(ProcessingMessage message) {\n    log.debug(&quot;Received signal with message: {}&quot;, message);\n    this.employeeMessages.add(message);\n}\n</code></pre>\n<p>The above code works well when processing two sourceId messages. However, as I attempt to scale it and send three or more messages via AWS SQS, I start encountering Timeout exceptions in my workflow execution. This eventually leads to long-running workflows and performance degradation.\nI'm seeking advice on how to effectively scale my Temporal workflow processing while avoiding these Timeout exceptions. I suspect that the way I'm handling child workflows and their execution might be causing the issue. If anyone has insights, recommendations, or alternative approaches that could help me address this scaling challenge, I would greatly appreciate your input.</p>\n"},{"tags":["java","struts2","parameter-passing","chain","model-driven"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693316131,"creation_date":1357062095,"answer_id":14112680,"question_id":14111092,"body_markdown":"Put your data into the session or use parameters with a result as described [here][1] and [there][2].\r\n\r\n&gt;Parameters can be passed to results using the params attribute. The value of this attribute is a string array with an even number of elements in the form {&quot;key0&quot;, &quot;value0, &quot;key1&quot;, &quot;value1&quot; ... &quot;keyN&quot;, &quot;valueN&quot;}. For example:\r\n\r\n&gt;      @Action(value=&quot;/different/url&quot;,\r\n        results={@Result(name=&quot;success&quot;, type=&quot;httpheader&quot;, params={&quot;status&quot;, &quot;500&quot;, &quot;errorMessage&quot;, &quot;Internal Error&quot;})}\r\n      )\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/WW/Parameters+in+configuration+results\r\n  [2]: https://struts.apache.org/plugins/convention/#result-annotation\r\n","title":"Struts 2 - Passing parameters between action are lost when second action works with form","body":"<p>Put your data into the session or use parameters with a result as described <a href=\"https://cwiki.apache.org/confluence/display/WW/Parameters+in+configuration+results\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://struts.apache.org/plugins/convention/#result-annotation\" rel=\"nofollow noreferrer\">there</a>.</p>\n<blockquote>\n<p>Parameters can be passed to results using the params attribute. The value of this attribute is a string array with an even number of elements in the form {&quot;key0&quot;, &quot;value0, &quot;key1&quot;, &quot;value1&quot; ... &quot;keyN&quot;, &quot;valueN&quot;}. For example:</p>\n</blockquote>\n<blockquote>\n<pre><code> @Action(value=&quot;/different/url&quot;,\n</code></pre>\n</blockquote>\n<pre><code>    results={@Result(name=&quot;success&quot;, type=&quot;httpheader&quot;, params={&quot;status&quot;, &quot;500&quot;, &quot;errorMessage&quot;, &quot;Internal Error&quot;})}\n  )\n</code></pre>\n"}],"owner":{"account_id":1848393,"reputation":37,"user_id":1675543,"display_name":"PeeNpee PeePeen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3867,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14112680,"answer_count":1,"score":1,"last_activity_date":1693316131,"creation_date":1357048761,"question_id":14111092,"body_markdown":"I have two action classes which work with same model over `ModelDriven` interface.\r\n**Every action class works with form**. \r\nI need to store values to same model in both actions.\r\n\r\nFrom first action class(after validation), I pass modeldriven model into second class through:\r\n\r\n    @Result(name = &quot;success&quot;, location = &quot;action2&quot;, type = &quot;chain&quot;)\r\n\r\nIn second action class, I show values, which has been store into model in first action.\r\n\r\nThis works fine, but when I execute form submit in second action, stored values\r\nfrom first action are lost.\r\n\r\n**So, data from first action are stored only for first call second action.**\r\n\r\nIs there any solution to achieve this?\r\n\r\n","title":"Struts 2 - Passing parameters between action are lost when second action works with form","body":"<p>I have two action classes which work with same model over <code>ModelDriven</code> interface.\n<strong>Every action class works with form</strong>. \nI need to store values to same model in both actions.</p>\n\n<p>From first action class(after validation), I pass modeldriven model into second class through:</p>\n\n<pre><code>@Result(name = \"success\", location = \"action2\", type = \"chain\")\n</code></pre>\n\n<p>In second action class, I show values, which has been store into model in first action.</p>\n\n<p>This works fine, but when I execute form submit in second action, stored values\nfrom first action are lost.</p>\n\n<p><strong>So, data from first action are stored only for first call second action.</strong></p>\n\n<p>Is there any solution to achieve this?</p>\n"},{"tags":["java","algorithm","random","game-development"],"comments":[{"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"score":1,"creation_date":1693307082,"post_id":76999591,"comment_id":135740326,"body_markdown":"Please add some source code for better context.","body":"Please add some source code for better context."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1693307144,"post_id":76999591,"comment_id":135740350,"body_markdown":"What you already tried?","body":"What you already tried?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693307157,"post_id":76999591,"comment_id":135740353,"body_markdown":"Have you considered the obvious and simple method of creating a new random position if the one generated was already taken?","body":"Have you considered the obvious and simple method of creating a new random position if the one generated was already taken?"},{"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"score":0,"creation_date":1693307305,"post_id":76999591,"comment_id":135740379,"body_markdown":"@Kayaman yes, but it is not optimized","body":"@Kayaman yes, but it is not optimized"},{"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"score":0,"creation_date":1693307438,"post_id":76999591,"comment_id":135740397,"body_markdown":"@DiegoBorba to use HashSet","body":"@DiegoBorba to use HashSet"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693307537,"post_id":76999591,"comment_id":135740412,"body_markdown":"It doesn&#39;t matter if it&#39;s not optimized, neither is the rest of your code.","body":"It doesn&#39;t matter if it&#39;s not optimized, neither is the rest of your code."},{"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"score":0,"creation_date":1693307652,"post_id":76999591,"comment_id":135740435,"body_markdown":"@Kayaman why? I always felt the opposite.","body":"@Kayaman why? I always felt the opposite."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693307874,"post_id":76999591,"comment_id":135740481,"body_markdown":"You&#39;re writing a battleship game where you generate positions rarely. There&#39;s no real performance benefits to be had. You&#39;re also overengineering this, making a simple issue into a complex.","body":"You&#39;re writing a battleship game where you generate positions rarely. There&#39;s no real performance benefits to be had. You&#39;re also overengineering this, making a simple issue into a complex."},{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1693307998,"post_id":76999591,"comment_id":135740511,"body_markdown":"Premature optimization is a bad thing. Make it work first!","body":"Premature optimization is a bad thing. Make it work first!"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693308045,"post_id":76999591,"comment_id":135740521,"body_markdown":"Stupid optimization is a bad thing. Unfortunately all programmers go through the same &quot;what if every line were optimized&quot; idea when they start and don&#39;t understand what &quot;performance&quot; means, before they get a job and have to provide actual results.","body":"Stupid optimization is a bad thing. Unfortunately all programmers go through the same &quot;what if every line were optimized&quot; idea when they start and don&#39;t understand what &quot;performance&quot; means, before they get a job and have to provide actual results."},{"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"score":0,"creation_date":1693308258,"post_id":76999591,"comment_id":135740570,"body_markdown":"@Kayaman you are right, I&#39;d better make different logic, but still, I was wondering how it can be optimized","body":"@Kayaman you are right, I&#39;d better make different logic, but still, I was wondering how it can be optimized"},{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1693308417,"post_id":76999591,"comment_id":135740610,"body_markdown":"If you don&#39;t want to iterate random tries, then you can keep a list of valid positions. Remove entries from this list as they become invalid. Select a random value from this list.","body":"If you don&#39;t want to iterate random tries, then you can keep a list of valid positions. Remove entries from this list as they become invalid. Select a random value from this list."},{"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"score":0,"creation_date":1693308656,"post_id":76999591,"comment_id":135740663,"body_markdown":"@Sam I thought about it, but it is less optimized, in game user can pick cells count, and what if I have 10000000000 cells, and I will place only 3 ships? and in java the ArrayList.remove() is O(n) (because it&#39;s backend is the simple array)","body":"@Sam I thought about it, but it is less optimized, in game user can pick cells count, and what if I have 10000000000 cells, and I will place only 3 ships? and in java the ArrayList.remove() is O(n) (because it&#39;s backend is the simple array)"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1693308910,"post_id":76999591,"comment_id":135740721,"body_markdown":"Please provide `Cell` class and the enum class used in `switch(d)`.","body":"Please provide <code>Cell</code> class and the enum class used in <code>switch(d)</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693309198,"post_id":76999591,"comment_id":135740792,"body_markdown":"You have to identify your problem first, before you can search for solutions. Even if the generated start positions are unique, it doesn’t guaranty that the ships which extend over multiple cells won’t overlap. Further note that with your current strategy of restricting the start position, certain legal placements are impossible (e.g. a vertical ship close to the right border or a horizontal ship close to the lower border [or upper border when you direction is upward]).","body":"You have to identify your problem first, before you can search for solutions. Even if the generated start positions are unique, it doesn’t guaranty that the ships which extend over multiple cells won’t overlap. Further note that with your current strategy of restricting the start position, certain legal placements are impossible (e.g. a vertical ship close to the right border or a horizontal ship close to the lower border [or upper border when you direction is upward])."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1693309538,"post_id":76999591,"comment_id":135740863,"body_markdown":"@user502233: No real battleship game has 10000000000 cells, so you&#39;re moving the goal post. One important skill you will need to develop is to find out &quot;what is needed&quot;: do I need this code to be able to handle very large number of sparsely populated cells? (then the &quot;try random, repeate if occupied&quot; method works fine) or do I need to do be able to handle &quot;normal battleship dimensions&quot;? Because writing the code that can handle all of these equally well is most certainly wasted effort: it&#39;s not needed.","body":"@user502233: No real battleship game has 10000000000 cells, so you&#39;re moving the goal post. One important skill you will need to develop is to find out &quot;what is needed&quot;: do I need this code to be able to handle very large number of sparsely populated cells? (then the &quot;try random, repeate if occupied&quot; method works fine) or do I need to do be able to handle &quot;normal battleship dimensions&quot;? Because writing the code that can handle all of these equally well is most certainly wasted effort: it&#39;s not needed."},{"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"score":0,"creation_date":1693310036,"post_id":76999591,"comment_id":135740958,"body_markdown":"@JoachimSauer thank you, I am going to make  more flexible design (for follower ideas) and less absolute solution.","body":"@JoachimSauer thank you, I am going to make  more flexible design (for follower ideas) and less absolute solution."},{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1693311991,"post_id":76999591,"comment_id":135741371,"body_markdown":"There are a few paths to pick from here. Either you go for a optimistic approach (let&#39;s try this box, is it valid?) or a pessimistic approach (keeping track of what valid choices there are). Keeping track of valid choices can either be whitelisting or blacklisting. These options all come with price, and that price varies with size and filling rate. No one size fits all here.","body":"There are a few paths to pick from here. Either you go for a optimistic approach (let&#39;s try this box, is it valid?) or a pessimistic approach (keeping track of what valid choices there are). Keeping track of valid choices can either be whitelisting or blacklisting. These options all come with price, and that price varies with size and filling rate. No one size fits all here."},{"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"score":0,"creation_date":1693312272,"post_id":76999591,"comment_id":135741441,"body_markdown":"@Sam, I decide to use the optimistic approach, and make the hasColision method for Cells(no Cell) class then iterate over the collection of Cells(no Cell) and  call hasColision method","body":"@Sam, I decide to use the optimistic approach, and make the hasColision method for Cells(no Cell) class then iterate over the collection of Cells(no Cell) and  call hasColision method"}],"answers":[{"tags":[],"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693316039,"creation_date":1693315996,"answer_id":77000695,"question_id":76999591,"body_markdown":"I come up with a really good algorithm, but to understand this, you will know the work and feature of LCG. I have NoneRepeatRandomPairs class, and `int[] getPair(int first)` method in it, that class is storing a HashMap with integer key and LCG like Randomizer value in it, when you  request a new random pair giving an int, it gets the neccesery LCG(at your provided key) from HashMap, and return your provided int with new generated, if the LCG&#39;s period is passed then the key is changing inner  LCG with other from the same HashMap, and the `int[] getPair(int first)` is giving the redirected integer and another integer genereted by it&#39;s LCG","title":"How to get non repeating random number pairs,elements can repeat","body":"<p>I come up with a really good algorithm, but to understand this, you will know the work and feature of LCG. I have NoneRepeatRandomPairs class, and <code>int[] getPair(int first)</code> method in it, that class is storing a HashMap with integer key and LCG like Randomizer value in it, when you  request a new random pair giving an int, it gets the neccesery LCG(at your provided key) from HashMap, and return your provided int with new generated, if the LCG's period is passed then the key is changing inner  LCG with other from the same HashMap, and the <code>int[] getPair(int first)</code> is giving the redirected integer and another integer genereted by it's LCG</p>\n"}],"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693316039,"creation_date":1693306862,"question_id":76999591,"body_markdown":"I&#39;m currently programming a  BattleShip game in Java, I randomly generate x, then y for the first cell of the ship,\r\n\r\n```Java\r\npublic class Cell implements Comparable&lt;Cell&gt; {\r\n\r\n\r\n    private final int x;\r\n    private final int y;\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n\r\n    public int getY() {\r\n        return y;\r\n    }\r\n\r\n    Cell(int xc, int yc) {\r\n        x = xc;\r\n        y = yc;\r\n    }\r\n\r\n\r\n    public Cell continueWithDirection(Direction d) {\r\n        switch (d) {\r\n            case ROW -&gt; {\r\n                return new Cell(x + 1, y);\r\n            }\r\n\r\n            case COLUMN -&gt; {\r\n                return new Cell(x, y + 1);\r\n            }\r\n        }\r\n        ;\r\n\r\n        return new Cell(x, y);\r\n    }\r\n}\r\n\r\n//file 2\r\n\r\nimport java.util.Random;\r\n\r\npublic enum Direction {\r\n    ROW,\r\n    COLUMN;\r\n\r\n  private static final Random randomizer=new Random();\r\n  \r\n    static Direction random(){\r\n        boolean b = randomizer.nextBoolean();\r\n        if (b) {\r\n            return Direction.ROW;\r\n        } else {\r\n            return Direction.COLUMN;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```Java\r\nCell[] cells = new Cell[size];\r\ncells[0] = new Cell(randomizer.nextInt(getAreaWidth() - size + 1), randomizer.nextInt(getAreaHeight() - size + 1));\r\n\r\nfor (int i = 1; i &lt; cells.length; i++) {\r\n\tcells[i] = cells[i - 1].continueWithDirection(getDirection());\r\n}\r\n\r\nreturn cells;\r\n```\r\n\r\n and then choose a random direction (either up or right) for the other 2 cells of the ship\r\n the first cell is placed from 0 to `bound-shipSize + 1` x and y bound, so I guarantee that all ships will be placed in the border area, but how do I implement random coordinate generation without repeating the same x and y together.  I thought to randomly generate only the first ship, then just randomly go in some direction from the ship and put a new ship, but even so I have to store an array of all ships, and detect collisions.  How can I better implement this algorithm","title":"How to get non repeating random number pairs,elements can repeat","body":"<p>I'm currently programming a  BattleShip game in Java, I randomly generate x, then y for the first cell of the ship,</p>\n<pre><code>public class Cell implements Comparable&lt;Cell&gt; {\n\n\n    private final int x;\n    private final int y;\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    Cell(int xc, int yc) {\n        x = xc;\n        y = yc;\n    }\n\n\n    public Cell continueWithDirection(Direction d) {\n        switch (d) {\n            case ROW -&gt; {\n                return new Cell(x + 1, y);\n            }\n\n            case COLUMN -&gt; {\n                return new Cell(x, y + 1);\n            }\n        }\n        ;\n\n        return new Cell(x, y);\n    }\n}\n\n//file 2\n\nimport java.util.Random;\n\npublic enum Direction {\n    ROW,\n    COLUMN;\n\n  private static final Random randomizer=new Random();\n  \n    static Direction random(){\n        boolean b = randomizer.nextBoolean();\n        if (b) {\n            return Direction.ROW;\n        } else {\n            return Direction.COLUMN;\n        }\n    }\n}\n</code></pre>\n<pre><code>Cell[] cells = new Cell[size];\ncells[0] = new Cell(randomizer.nextInt(getAreaWidth() - size + 1), randomizer.nextInt(getAreaHeight() - size + 1));\n\nfor (int i = 1; i &lt; cells.length; i++) {\n    cells[i] = cells[i - 1].continueWithDirection(getDirection());\n}\n\nreturn cells;\n</code></pre>\n<p>and then choose a random direction (either up or right) for the other 2 cells of the ship\nthe first cell is placed from 0 to <code>bound-shipSize + 1</code> x and y bound, so I guarantee that all ships will be placed in the border area, but how do I implement random coordinate generation without repeating the same x and y together.  I thought to randomly generate only the first ship, then just randomly go in some direction from the ship and put a new ship, but even so I have to store an array of all ships, and detect collisions.  How can I better implement this algorithm</p>\n"},{"tags":["java","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":9902388,"reputation":189,"user_id":7332002,"display_name":"Muhammad Aasharib Nawshad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693315931,"creation_date":1693315931,"answer_id":77000688,"question_id":76921843,"body_markdown":"**ERROR REASON:**\r\nIn your AndroidManifest.xml you have to provide default activity. But in your case you have commented out \r\n\r\n    &lt;intent-filter&gt;\r\n           &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n           &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n\r\nwhich is needed to be provided to default activity. \r\n\r\n**SOLUTION:**\r\njust uncomment or add these lines to your activity tag. Hopefully this solution will work.","title":"Error running &#39;app&#39; Unable to determine activity name","body":"<p><strong>ERROR REASON:</strong>\nIn your AndroidManifest.xml you have to provide default activity. But in your case you have commented out</p>\n<pre><code>&lt;intent-filter&gt;\n       &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n       &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n<p>which is needed to be provided to default activity.</p>\n<p><strong>SOLUTION:</strong>\njust uncomment or add these lines to your activity tag. Hopefully this solution will work.</p>\n"}],"owner":{"account_id":16430837,"reputation":181,"user_id":11869740,"display_name":"Yunus Emrah Ulu&#231;ay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4695,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":77000688,"answer_count":1,"score":2,"last_activity_date":1693315931,"creation_date":1692277783,"question_id":76921843,"body_markdown":"I am working on Android Studio. I have created a Tabbed View Activity by first creating an Empty Activity. When I try to run the project I got the error below. I tried to Clean Project, Build Project, Invalidating Caches and updating the Gradle Version. But I still getting the error. How can I proceed ? \r\n[![error_img][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oh3yO.png\r\n\r\n\r\nbuild.gradle.kts(Module) : \r\n\r\n    plugins {\r\n        id(&quot;com.android.application&quot;)\r\n    }\r\n    \r\n    android {\r\n        namespace = &quot;com.yunusulucay.myapplication&quot;\r\n        compileSdk = 33\r\n    \r\n        defaultConfig {\r\n            applicationId = &quot;com.yunusulucay.myapplication&quot;\r\n            minSdk = 24\r\n            targetSdk = 33\r\n            versionCode = 1\r\n            versionName = &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                isMinifyEnabled = false\r\n                proguardFiles(getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;), &quot;proguard-rules.pro&quot;)\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility = JavaVersion.VERSION_11\r\n            targetCompatibility = JavaVersion.VERSION_11\r\n        }\r\n        buildFeatures {\r\n            viewBinding = true\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\r\n        implementation(&quot;com.google.android.material:material:1.9.0&quot;)\r\n        implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\r\n        implementation(&quot;androidx.lifecycle:lifecycle-livedata-ktx:2.5.1&quot;)\r\n        implementation(&quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1&quot;)\r\n        testImplementation(&quot;junit:junit:4.13.2&quot;)\r\n        androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\r\n        androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\r\n    }\r\n\r\nAndroidManifest.xml : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n            android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.MyApplication&quot;\r\n            tools:targetApi=&quot;31&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:label=&quot;@string/title_activity_main&quot;\r\n                android:theme=&quot;@style/Theme.MyApplication.AppBarOverlay&quot;\r\n                &gt;\r\n    \r\n    &lt;!--            &lt;intent-filter&gt;--&gt;\r\n    &lt;!--                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;--&gt;\r\n    &lt;!--                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;--&gt;\r\n    \r\n    &lt;!--            &lt;/intent-filter&gt;--&gt;\r\n    \r\n            &lt;/activity&gt;\r\n       &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n","title":"Error running &#39;app&#39; Unable to determine activity name","body":"<p>I am working on Android Studio. I have created a Tabbed View Activity by first creating an Empty Activity. When I try to run the project I got the error below. I tried to Clean Project, Build Project, Invalidating Caches and updating the Gradle Version. But I still getting the error. How can I proceed ?\n<a href=\"https://i.stack.imgur.com/oh3yO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oh3yO.png\" alt=\"error_img\" /></a></p>\n<p>build.gradle.kts(Module) :</p>\n<pre><code>plugins {\n    id(&quot;com.android.application&quot;)\n}\n\nandroid {\n    namespace = &quot;com.yunusulucay.myapplication&quot;\n    compileSdk = 33\n\n    defaultConfig {\n        applicationId = &quot;com.yunusulucay.myapplication&quot;\n        minSdk = 24\n        targetSdk = 33\n        versionCode = 1\n        versionName = &quot;1.0&quot;\n\n        testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            isMinifyEnabled = false\n            proguardFiles(getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;), &quot;proguard-rules.pro&quot;)\n        }\n    }\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_11\n        targetCompatibility = JavaVersion.VERSION_11\n    }\n    buildFeatures {\n        viewBinding = true\n    }\n}\n\ndependencies {\n\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\n    implementation(&quot;com.google.android.material:material:1.9.0&quot;)\n    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\n    implementation(&quot;androidx.lifecycle:lifecycle-livedata-ktx:2.5.1&quot;)\n    implementation(&quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1&quot;)\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\n}\n</code></pre>\n<p>AndroidManifest.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyApplication&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;false&quot;\n            android:label=&quot;@string/title_activity_main&quot;\n            android:theme=&quot;@style/Theme.MyApplication.AppBarOverlay&quot;\n            &gt;\n\n&lt;!--            &lt;intent-filter&gt;--&gt;\n&lt;!--                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;--&gt;\n&lt;!--                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;--&gt;\n\n&lt;!--            &lt;/intent-filter&gt;--&gt;\n\n        &lt;/activity&gt;\n   &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9733,"reputation":98806,"user_id":18103,"accept_rate":68,"display_name":"skiphoppy"},"score":6,"creation_date":1346866749,"post_id":12286871,"comment_id":16480626,"body_markdown":"Please specify how Class.forName() &quot;didn&#39;t work.&quot;","body":"Please specify how Class.forName() &quot;didn&#39;t work.&quot;"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1346866824,"post_id":12286871,"comment_id":16480654,"body_markdown":"If Class.forName() didn&#39;t work, its very likely that a) the class name is not right b) you got an error message but didn&#39;t know what it meant so you ignored it. ;)","body":"If Class.forName() didn&#39;t work, its very likely that a) the class name is not right b) you got an error message but didn&#39;t know what it meant so you ignored it. ;)"},{"owner":{"account_id":1324014,"reputation":5651,"user_id":1311351,"display_name":"Colin D"},"score":1,"creation_date":1346867094,"post_id":12286871,"comment_id":16480764,"body_markdown":"Post your error message! and post the code where you tried using `Class.forName()`","body":"Post your error message! and post the code where you tried using <code>Class.forName()</code>"}],"answers":[{"tags":[],"owner":{"account_id":65096,"reputation":15637,"user_id":191797,"accept_rate":100,"display_name":"Piyush Mattoo"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1346866933,"creation_date":1346866933,"answer_id":12286949,"question_id":12286871,"body_markdown":"    Class&lt;?&gt; classType = Class.forName(className);\r\n\r\nMake sure `className` is fully qualified class name like `com.package.class` Also, please share your error message that you see.","title":"How to convert String type to Class type in java","body":"<pre><code>Class&lt;?&gt; classType = Class.forName(className);\n</code></pre>\n\n<p>Make sure <code>className</code> is fully qualified class name like <code>com.package.class</code> Also, please share your error message that you see.</p>\n"},{"tags":[],"owner":{"account_id":1443308,"reputation":6387,"user_id":1362735,"accept_rate":50,"display_name":"heretolearn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346870025,"creation_date":1346868115,"answer_id":12287231,"question_id":12286871,"body_markdown":"If the fully-qualified name of a class is available, it is possible to get the corresponding Class using the static method Class.forName().\r\n\r\nEg:\r\n\r\n    Class c = Class.forName(&quot;com.duke.MyLocaleServiceProvider&quot;); \r\n\r\n&gt; **Note:** Make sure the parameter you provide for the function is fully qualified class name like com.package.class \r\n\r\n\r\n[Check here](http://docs.oracle.com/javase/tutorial/reflect/class/classNew.html) for any reference.\r\n\r\n**EDIT:**\r\n\r\nYou could also try using `loadClass()` method.\r\n\r\nEg:\r\n\r\n     ClassLoader cl;\r\n     Class c = cl.loadClass(name);\r\n\r\nIt is invoked by the Java virtual machine to resolve class references.\r\n\r\n**Syntax:**\r\n\r\n    public Class&lt;?&gt; loadClass(String name)\r\n                       throws ClassNotFoundException\r\n\r\n[For details on ClassLoader check here](http://docs.oracle.com/javase/6/docs/api/java/lang/ClassLoader.html)\r\n\r\n[Here](http://www.java2s.com/Code/Java/Reflection/ConvertagivenStringintotheappropriateClass.htm)\r\nis an implementation of ClassLoader.","title":"How to convert String type to Class type in java","body":"<p>If the fully-qualified name of a class is available, it is possible to get the corresponding Class using the static method Class.forName().</p>\n\n<p>Eg:</p>\n\n<pre><code>Class c = Class.forName(\"com.duke.MyLocaleServiceProvider\"); \n</code></pre>\n\n<blockquote>\n  <p><strong>Note:</strong> Make sure the parameter you provide for the function is fully qualified class name like com.package.class </p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/reflect/class/classNew.html\" rel=\"nofollow\">Check here</a> for any reference.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>You could also try using <code>loadClass()</code> method.</p>\n\n<p>Eg:</p>\n\n<pre><code> ClassLoader cl;\n Class c = cl.loadClass(name);\n</code></pre>\n\n<p>It is invoked by the Java virtual machine to resolve class references.</p>\n\n<p><strong>Syntax:</strong></p>\n\n<pre><code>public Class&lt;?&gt; loadClass(String name)\n                   throws ClassNotFoundException\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/ClassLoader.html\" rel=\"nofollow\">For details on ClassLoader check here</a></p>\n\n<p><a href=\"http://www.java2s.com/Code/Java/Reflection/ConvertagivenStringintotheappropriateClass.htm\" rel=\"nofollow\">Here</a>\nis an implementation of ClassLoader.</p>\n"},{"tags":[],"owner":{"account_id":11400119,"reputation":11,"user_id":8357329,"display_name":"Pranay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500897557,"creation_date":1500894400,"answer_id":45279012,"question_id":12286871,"body_markdown":"Please try as following.\r\n\r\n    String str = &quot;RequiredClassName&quot;;    \r\n    Class &lt;?&gt; Cref = Class .forName(&quot;PackageNaem.&quot;+str );","title":"How to convert String type to Class type in java","body":"<p>Please try as following.</p>\n\n<pre><code>String str = \"RequiredClassName\";    \nClass &lt;?&gt; Cref = Class .forName(\"PackageNaem.\"+str );\n</code></pre>\n"}],"owner":{"account_id":1814350,"reputation":163,"user_id":1649770,"accept_rate":75,"display_name":"Bipin Wanchoo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58207,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":12286949,"answer_count":3,"score":15,"last_activity_date":1693315654,"creation_date":1346866627,"question_id":12286871,"body_markdown":"I want to print all the class names in a package and also to print the corresponding attributes and their data types in each package.\r\n\r\nIn one code, I am able to get the classnames in the form of string.\r\nIn another code I am able to get the attributes and their data types using `Classname.class.getAttribute();`\r\n\r\nHowever I want to merge the two codes. Since in the first code I got the classnames in the form of string , I can&#39;t use `Classname.class.getAttribute()` since here `Classname` will be of type `String`.\r\n\r\nSo I want a method which will convert the &quot;Classname&quot; from `String` type to `Class` type.\r\n\r\nI tried `Class.forName()` but it didn&#39;t work.","title":"How to convert String type to Class type in java","body":"<p>I want to print all the class names in a package and also to print the corresponding attributes and their data types in each package.</p>\n\n<p>In one code, I am able to get the classnames in the form of string.\nIn another code I am able to get the attributes and their data types using <code>Classname.class.getAttribute();</code></p>\n\n<p>However I want to merge the two codes. Since in the first code I got the classnames in the form of string , I can't use <code>Classname.class.getAttribute()</code> since here <code>Classname</code> will be of type <code>String</code>.</p>\n\n<p>So I want a method which will convert the \"Classname\" from <code>String</code> type to <code>Class</code> type.</p>\n\n<p>I tried <code>Class.forName()</code> but it didn't work.</p>\n"},{"tags":["java","spring-boot","rest","spring-security","dynamic-permissions"],"answers":[{"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693315598,"creation_date":1681203430,"answer_id":75984075,"question_id":75983493,"body_markdown":"My Opinion: Change your Security Concept!\r\n\r\n1) Use JWT to secure your endpoint!\r\n2) You can create Role-Based Permissions which are Stored in your Datbase and if you make a Request so the Roles will load from your Database -&gt; Which are combined with UserDetailsService from Springboot Library\r\n3) in your RESTController you can then use `@RolesAllowed(&quot;ROLE_EDITOR&quot;)`\r\n\r\nfor more Information look at this website:\r\n\r\nhttps://www.codejava.net/frameworks/spring-boot/spring-security-jwt-role-based-authorization\r\n","title":"Securing REST API Endpoints in Spring Boot with Spring Security: Handling Dynamically Changing Permissions","body":"<p>My Opinion: Change your Security Concept!</p>\n<ol>\n<li>Use JWT to secure your endpoint!</li>\n<li>You can create Role-Based Permissions which are Stored in your Datbase and if you make a Request so the Roles will load from your Database -&gt; Which are combined with UserDetailsService from Springboot Library</li>\n<li>in your RESTController you can then use <code>@RolesAllowed(&quot;ROLE_EDITOR&quot;)</code></li>\n</ol>\n<p>for more Information look at this website:</p>\n<p><a href=\"https://www.codejava.net/frameworks/spring-boot/spring-security-jwt-role-based-authorization\" rel=\"nofollow noreferrer\">https://www.codejava.net/frameworks/spring-boot/spring-security-jwt-role-based-authorization</a></p>\n"}],"owner":{"display_name":"user15773347"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693315598,"creation_date":1681198698,"question_id":75983493,"body_markdown":"I&#39;m building a REST API using Spring Boot and Spring Security for my application. I have different roles and permissions defined in my system, and I want to secure my API endpoints based on these permissions. However, I have a requirement where the permissions for certain endpoints can change dynamically at runtime, without requiring a server restart or application redeployment.\r\n\r\nI&#39;ve looked into using `@PreAuthorize` and `@PostAuthorize` annotations provided by Spring Security, but they seem to work only with fixed permissions defined in the code or configuration files. I need a solution that allows me to handle dynamically changing permissions for my API endpoints without restarting the application.\r\n\r\nIs there a way to achieve this using Spring Boot and Spring Security? How can I implement a solution that allows me to handle dynamically changing permissions for my REST API endpoints in Spring Boot without requiring a server restart or application redeployment?","title":"Securing REST API Endpoints in Spring Boot with Spring Security: Handling Dynamically Changing Permissions","body":"<p>I'm building a REST API using Spring Boot and Spring Security for my application. I have different roles and permissions defined in my system, and I want to secure my API endpoints based on these permissions. However, I have a requirement where the permissions for certain endpoints can change dynamically at runtime, without requiring a server restart or application redeployment.</p>\n<p>I've looked into using <code>@PreAuthorize</code> and <code>@PostAuthorize</code> annotations provided by Spring Security, but they seem to work only with fixed permissions defined in the code or configuration files. I need a solution that allows me to handle dynamically changing permissions for my API endpoints without restarting the application.</p>\n<p>Is there a way to achieve this using Spring Boot and Spring Security? How can I implement a solution that allows me to handle dynamically changing permissions for my REST API endpoints in Spring Boot without requiring a server restart or application redeployment?</p>\n"},{"tags":["java","md5","md5sum"],"answers":[{"tags":[],"owner":{"account_id":17046253,"reputation":79,"user_id":12333037,"display_name":"Tomer Yogev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693315420,"creation_date":1693315420,"answer_id":77000630,"question_id":67171935,"body_markdown":"Had the same issue, I think the reason is that in OpenJDK 8 the JIT compiler is initialized after `premain` is called for java agents. This means the md5 calculation is running in interpreter-mode. This was fixed in OpenJDK 10: https://bugs.openjdk.org/browse/JDK-7018422.","title":"java md5 is slow in javaagent mode","body":"<p>Had the same issue, I think the reason is that in OpenJDK 8 the JIT compiler is initialized after <code>premain</code> is called for java agents. This means the md5 calculation is running in interpreter-mode. This was fixed in OpenJDK 10: <a href=\"https://bugs.openjdk.org/browse/JDK-7018422\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-7018422</a>.</p>\n"}],"owner":{"account_id":8224865,"reputation":1686,"user_id":6187459,"accept_rate":8,"display_name":"twogoods"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693315420,"creation_date":1618888212,"question_id":67171935,"body_markdown":"     public static void main(String[] args) {\r\n        File f = new File(args[0]);\r\n        System.out.println(&quot;1: &quot; + DownloadUtils.getMD5(f));\r\n        System.out.println(&quot;2: &quot; + DownloadUtils.getMD5InJava(f));\r\n        System.out.println(&quot;3: &quot; + DownloadUtils.getMD5InJava2(f));\r\n    }\r\n\r\n    public static void premain(String args, Instrumentation inst) {\r\n        File f = new File(args);\r\n        System.out.println(&quot;1: &quot; + DownloadUtils.getMD5(f));\r\n        System.out.println(&quot;2: &quot; + DownloadUtils.getMD5InJava(f));\r\n        System.out.println(&quot;3: &quot; + DownloadUtils.getMD5InJava2(f));\r\n        System.exit(1);\r\n    }\r\nmd5:\r\n\r\n    public static String getMD5(File file) {\r\n        long start = System.currentTimeMillis();\r\n        try {\r\n            // fast-md5\r\n            return MD5.asHex(MD5.getHash(file));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return &quot;&quot;;\r\n        } finally {\r\n            System.out.println(&quot;checkout md5 cost  : &quot; + (System.currentTimeMillis() - start));\r\n        }\r\n    }\r\n\r\n    public static String getMD5InJava(File file) {\r\n        long start = System.currentTimeMillis();\r\n        BigInteger bi = null;\r\n        try {\r\n            byte[] buffer = new byte[8192];\r\n            int len = 0;\r\n            MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            FileInputStream fis = new FileInputStream(file);\r\n            while ((len = fis.read(buffer)) != -1) {\r\n                md.update(buffer, 0, len);\r\n            }\r\n            fis.close();\r\n            byte[] b = md.digest();\r\n            bi = new BigInteger(1, b);\r\n        } catch (NoSuchAlgorithmException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        String md5 = bi.toString(16);\r\n        if (md5.length() == 31) {\r\n            return &quot;0&quot; + md5;\r\n        }\r\n        System.out.println(&quot;checkout md5 cost  : &quot; + (System.currentTimeMillis() - start));\r\n        return md5;\r\n    }\r\n\r\n    public static String getMD5InJava2(File file) {\r\n        long start = System.currentTimeMillis();\r\n        MessageDigest md = null;\r\n        try {\r\n            md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            md.update(Files.readAllBytes(Paths.get(file.getPath())));\r\n            byte[] digest = md.digest();\r\n            String md5 = DatatypeConverter.printHexBinary(digest).toUpperCase();\r\n            return md5;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return &quot;&quot;;\r\n        } finally {\r\n            System.out.println(&quot;checkout md5 cost  : &quot; + (System.currentTimeMillis() - start));\r\n        }\r\n    }\r\n\r\n and package a test.jar\r\n\r\nrun `java -jar test.jar /root/bigfile.jar`  (bigfile.jar 100M) , and output:\r\n\r\n    checkout md5 cost  : 558\r\n    1: ac6e30dfb8493bb21dfb9cd51beac152\r\n    checkout md5 cost  : 537\r\n    2: ac6e30dfb8493bb21dfb9cd51beac152\r\n    checkout md5 cost  : 692\r\n    3: AC6E30DFB8493BB21DFB9CD51BEAC152\r\n\r\nrun `java -javaagent:test.jar=/root/bigfile.jar -jar demo.jar` ，and output:\r\n\r\n    checkout md5 cost  : 7582\r\n    1: ac6e30dfb8493bb21dfb9cd51beac152\r\n    checkout md5 cost  : 17506\r\n    2: ac6e30dfb8493bb21dfb9cd51beac152\r\n    checkout md5 cost  : 17360\r\n    3: AC6E30DFB8493BB21DFB9CD51BEAC152\r\n\r\nWhy md5 in javaagent is so slow?","title":"java md5 is slow in javaagent mode","body":"<pre><code> public static void main(String[] args) {\n    File f = new File(args[0]);\n    System.out.println(&quot;1: &quot; + DownloadUtils.getMD5(f));\n    System.out.println(&quot;2: &quot; + DownloadUtils.getMD5InJava(f));\n    System.out.println(&quot;3: &quot; + DownloadUtils.getMD5InJava2(f));\n}\n\npublic static void premain(String args, Instrumentation inst) {\n    File f = new File(args);\n    System.out.println(&quot;1: &quot; + DownloadUtils.getMD5(f));\n    System.out.println(&quot;2: &quot; + DownloadUtils.getMD5InJava(f));\n    System.out.println(&quot;3: &quot; + DownloadUtils.getMD5InJava2(f));\n    System.exit(1);\n}\n</code></pre>\n<p>md5:</p>\n<pre><code>public static String getMD5(File file) {\n    long start = System.currentTimeMillis();\n    try {\n        // fast-md5\n        return MD5.asHex(MD5.getHash(file));\n    } catch (IOException e) {\n        e.printStackTrace();\n        return &quot;&quot;;\n    } finally {\n        System.out.println(&quot;checkout md5 cost  : &quot; + (System.currentTimeMillis() - start));\n    }\n}\n\npublic static String getMD5InJava(File file) {\n    long start = System.currentTimeMillis();\n    BigInteger bi = null;\n    try {\n        byte[] buffer = new byte[8192];\n        int len = 0;\n        MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\n        FileInputStream fis = new FileInputStream(file);\n        while ((len = fis.read(buffer)) != -1) {\n            md.update(buffer, 0, len);\n        }\n        fis.close();\n        byte[] b = md.digest();\n        bi = new BigInteger(1, b);\n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    String md5 = bi.toString(16);\n    if (md5.length() == 31) {\n        return &quot;0&quot; + md5;\n    }\n    System.out.println(&quot;checkout md5 cost  : &quot; + (System.currentTimeMillis() - start));\n    return md5;\n}\n\npublic static String getMD5InJava2(File file) {\n    long start = System.currentTimeMillis();\n    MessageDigest md = null;\n    try {\n        md = MessageDigest.getInstance(&quot;MD5&quot;);\n        md.update(Files.readAllBytes(Paths.get(file.getPath())));\n        byte[] digest = md.digest();\n        String md5 = DatatypeConverter.printHexBinary(digest).toUpperCase();\n        return md5;\n    } catch (Exception e) {\n        e.printStackTrace();\n        return &quot;&quot;;\n    } finally {\n        System.out.println(&quot;checkout md5 cost  : &quot; + (System.currentTimeMillis() - start));\n    }\n}\n</code></pre>\n<p>and package a test.jar</p>\n<p>run <code>java -jar test.jar /root/bigfile.jar</code>  (bigfile.jar 100M) , and output:</p>\n<pre><code>checkout md5 cost  : 558\n1: ac6e30dfb8493bb21dfb9cd51beac152\ncheckout md5 cost  : 537\n2: ac6e30dfb8493bb21dfb9cd51beac152\ncheckout md5 cost  : 692\n3: AC6E30DFB8493BB21DFB9CD51BEAC152\n</code></pre>\n<p>run <code>java -javaagent:test.jar=/root/bigfile.jar -jar demo.jar</code> ，and output:</p>\n<pre><code>checkout md5 cost  : 7582\n1: ac6e30dfb8493bb21dfb9cd51beac152\ncheckout md5 cost  : 17506\n2: ac6e30dfb8493bb21dfb9cd51beac152\ncheckout md5 cost  : 17360\n3: AC6E30DFB8493BB21DFB9CD51BEAC152\n</code></pre>\n<p>Why md5 in javaagent is so slow?</p>\n"},{"tags":["java","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693315943,"post_id":77000619,"comment_id":135742310,"body_markdown":"By manually, do you mean with `OPTIMISTIC_FORCE_INCREMENT`?","body":"By manually, do you mean with <code>OPTIMISTIC_FORCE_INCREMENT</code>?"}],"owner":{"account_id":3157873,"reputation":55,"user_id":2669823,"display_name":"Navpreet Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693315270,"creation_date":1693315270,"question_id":77000619,"body_markdown":"I came across an issue while upgrading Hibernate Core from 4.1 to 5.6.\r\nHibernate moved from `HbmBinder` to `ModelBinder` for constructing entities (and their properties) from the `*.hbm.xml` file. For the version property, in `HbmBinder`, if the \r\n`&quot;optimistic-lock&quot;` attribute in the hbm file is set to true or null, it will make `isIncludedInOptimisticLocking` for version true. Now, in `ModelBinder`, hibernate is using the `VersionAttributeSourceImpl` class for the version property. In this class, the return value of the `isIncludedInOptimisticLocking` method is hardcoded to false and cannot be changed. My code has very critical business logic that changes an entity&#39;s version property manually.\r\nNow when I am running Junit, which updates the version manually, I am getting an exception as entity is getting dirty since property is changed, but since version is not part of optimistic locking, the update SQL is not getting generated and the SQL is coming out null, which is causing NPE. Is there any way I can override the `isIncludedInOptimisticLocking` method behaviour and return true so that I can achieve the previous behaviour?","title":"Modify isIncludedInOptimisticLocking property value of VersionAttributeSourceImpl class in Hibernate 5.6.15.Final","body":"<p>I came across an issue while upgrading Hibernate Core from 4.1 to 5.6.\nHibernate moved from <code>HbmBinder</code> to <code>ModelBinder</code> for constructing entities (and their properties) from the <code>*.hbm.xml</code> file. For the version property, in <code>HbmBinder</code>, if the\n<code>&quot;optimistic-lock&quot;</code> attribute in the hbm file is set to true or null, it will make <code>isIncludedInOptimisticLocking</code> for version true. Now, in <code>ModelBinder</code>, hibernate is using the <code>VersionAttributeSourceImpl</code> class for the version property. In this class, the return value of the <code>isIncludedInOptimisticLocking</code> method is hardcoded to false and cannot be changed. My code has very critical business logic that changes an entity's version property manually.\nNow when I am running Junit, which updates the version manually, I am getting an exception as entity is getting dirty since property is changed, but since version is not part of optimistic locking, the update SQL is not getting generated and the SQL is coming out null, which is causing NPE. Is there any way I can override the <code>isIncludedInOptimisticLocking</code> method behaviour and return true so that I can achieve the previous behaviour?</p>\n"},{"tags":["java","swing","graphics2d"],"owner":{"account_id":29118402,"reputation":3,"user_id":22306589,"display_name":"Tech of the Absence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693315023,"creation_date":1693295612,"question_id":76998349,"body_markdown":"I want to paint a radial gradient with color dodge effect (just like in photoshop or pixel art)using Swing library.\r\n\r\nI have tried just rendering standart radial gradient in `paint(Graphics)` method:\r\n```java\r\npaint(Graphics g){\r\n\t((Graphics2D)g).setPaint(new RadialGradientPaint(getWidth()/2,getHeight()/2,getHeight(),new float[]{0,1},new Color[]{new Color(255,245,235,150),new Color(255,245,235,0)}\r\n\tg.fillRect(0,0,getWidth(),getHeight());\r\n}\r\n```\r\n...but it is not &quot;realistic&quot; enought.\r\n\r\nJust for understanding of what I am trying to achieve:  \r\n\r\ncolor dodge gradient over image (required):\r\n\r\n[![https://i.stack.imgur.com/qQW0m.png][1]][1]\r\n\r\nnormal gradient over the same image (unwanted):\r\n\r\n[![https://i.stack.imgur.com/xqj32.png][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qQW0m.png\r\n  [2]: https://i.stack.imgur.com/xqj32.png","title":"How to create radial gradient with &quot;color dodge&quot; effect?","body":"<p>I want to paint a radial gradient with color dodge effect (just like in photoshop or pixel art)using Swing library.</p>\n<p>I have tried just rendering standart radial gradient in <code>paint(Graphics)</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>paint(Graphics g){\n    ((Graphics2D)g).setPaint(new RadialGradientPaint(getWidth()/2,getHeight()/2,getHeight(),new float[]{0,1},new Color[]{new Color(255,245,235,150),new Color(255,245,235,0)}\n    g.fillRect(0,0,getWidth(),getHeight());\n}\n</code></pre>\n<p>...but it is not &quot;realistic&quot; enought.</p>\n<p>Just for understanding of what I am trying to achieve:</p>\n<p>color dodge gradient over image (required):</p>\n<p><a href=\"https://i.stack.imgur.com/qQW0m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qQW0m.png\" alt=\"https://i.stack.imgur.com/qQW0m.png\" /></a></p>\n<p>normal gradient over the same image (unwanted):</p>\n<p><a href=\"https://i.stack.imgur.com/xqj32.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xqj32.png\" alt=\"https://i.stack.imgur.com/xqj32.png\" /></a></p>\n"},{"tags":["java","hibernate","jpa","jpql"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1693231289,"post_id":76993439,"comment_id":135729268,"body_markdown":"You have what look like very very different entities using the same table, but with different IDs? There is no version that will work, as nothing uniquely identifies a row across all the different entity types- how do you define such a table? That root Entity really should have a simple Id that defines the ID for all rows regardless of type. If not, then what you have are completely disparate entities - use MappedSuperclass and define the table on each subclass. Treat your ParamCodes as a proper entity and it should work - your query is missing an &quot;id&quot; embeddable property for the ParamCodesId","body":"You have what look like very very different entities using the same table, but with different IDs? There is no version that will work, as nothing uniquely identifies a row across all the different entity types- how do you define such a table? That root Entity really should have a simple Id that defines the ID for all rows regardless of type. If not, then what you have are completely disparate entities - use MappedSuperclass and define the table on each subclass. Treat your ParamCodes as a proper entity and it should work - your query is missing an &quot;id&quot; embeddable property for the ParamCodesId"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1693231479,"post_id":76993439,"comment_id":135729307,"body_markdown":"Is this the real code? The query `SELECT e FROM ParamCodes e WHERE e.id in (:ids)` doesn&#39;t look right at all as the class `ParamCodes` you shared doesn&#39;t have an `id` field. I have the impression you have  a bunch of small mapping errors that have snowballed into something that is tricky to grok. Also you must remove `@Data` from your entities. It adds an equals and hashcode that will produce weird behaviour. If you are new to hibernate, please spend time reading a book and the manual as it&#39;s a complex technology.","body":"Is this the real code? The query <code>SELECT e FROM ParamCodes e WHERE e.id in (:ids)</code> doesn&#39;t look right at all as the class <code>ParamCodes</code> you shared doesn&#39;t have an <code>id</code> field. I have the impression you have  a bunch of small mapping errors that have snowballed into something that is tricky to grok. Also you must remove <code>@Data</code> from your entities. It adds an equals and hashcode that will produce weird behaviour. If you are new to hibernate, please spend time reading a book and the manual as it&#39;s a complex technology."}],"answers":[{"tags":[],"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693315007,"creation_date":1693315007,"answer_id":77000580,"question_id":76993439,"body_markdown":"The solution I&#39;ve found is to remove the @Inheritance from the `Entity` class.\\\r\nWithout it the HQL is not able to interpret the query bellow because the `e.id` is not mapped anymore to the getId from the `Entity` :\r\n```SQL\r\nSELECT e FROM ParamCodes e WHERE e.id in (:ids)\r\n```\r\nInstead I just remove the `.id` since `e` by itself is already used as a `ParamCodesId` by hibernate so the query now look like : \r\n```SQL\r\nSELECT e FROM ParamCodes e WHERE e in (:ids)\r\n```\r\n\r\nAnd the `Entity` class now only have the `@MappedSuperClass` annotation and the abstract `getId` method is removed since it&#39;s not used anymore  : \r\n```java\r\n@MappedSuperclass\r\npublic abstract class Entity implements Serializable {\r\n\r\n    @Getter\r\n    @Setter\r\n    @Column(name = &quot;USER_CREATION&quot;, insertable = true, updatable = false)\r\n    private String auditUtilisateurCreation;\r\n\r\n    ...\r\n}\r\n```","title":"Hibernate JPA generic IdField not detected after updating hibernate version","body":"<p>The solution I've found is to remove the @Inheritance from the <code>Entity</code> class.<br />\nWithout it the HQL is not able to interpret the query bellow because the <code>e.id</code> is not mapped anymore to the getId from the <code>Entity</code> :</p>\n<pre><code>SELECT e FROM ParamCodes e WHERE e.id in (:ids)\n</code></pre>\n<p>Instead I just remove the <code>.id</code> since <code>e</code> by itself is already used as a <code>ParamCodesId</code> by hibernate so the query now look like :</p>\n<pre><code>SELECT e FROM ParamCodes e WHERE e in (:ids)\n</code></pre>\n<p>And the <code>Entity</code> class now only have the <code>@MappedSuperClass</code> annotation and the abstract <code>getId</code> method is removed since it's not used anymore  :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedSuperclass\npublic abstract class Entity implements Serializable {\n\n    @Getter\n    @Setter\n    @Column(name = &quot;USER_CREATION&quot;, insertable = true, updatable = false)\n    private String auditUtilisateurCreation;\n\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77000580,"answer_count":1,"score":0,"last_activity_date":1693315007,"creation_date":1693230811,"question_id":76993439,"body_markdown":"I&#39;m migrating my app from an old version of hibernate to a more recent one (6.0.2.Final)\r\n\r\nIn my code, I have a parent entity class that group all columns that are generic between tables and define a generic getter to get an IdClass instance for each tables : \r\n\r\nParent class : \r\n```java\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@MappedSuperclass\r\npublic abstract class Entity implements Serializable {\r\n\r\n    @Getter\r\n    @Setter\r\n    @Column(name = &quot;USER_CREATION&quot;, insertable = true, updatable = false)\r\n    private String auditUtilisateurCreation;\r\n\r\n    ...\r\n\r\n\t//Refer to the IdClass object of the classes \r\n    public abstract Object getId();\r\n\r\n    ...\r\n}\r\n```\r\n\r\nEntity class : \r\n```java\r\n@Entity\r\n@Table(name = &quot;PARAM_CODES&quot;)\r\n@IdClass(ParamCodesId.class)\r\n@Data\r\npublic class ParamCodes extends Entity {\r\n    @Id\r\n    @Column(name = &quot;FIELD&quot;)\r\n    private String field;\r\n\r\n    @Id\r\n    @Column(name = &quot;CODE&quot;)\r\n    private String code;\r\n\r\n    @Column(name = &quot;ORDER&quot;)\r\n    private Long order;\r\n\t\r\n\t...\r\n\r\n   \r\n    @Override\r\n    public ParamCodeLibelleId getId() {\r\n        return new ParamCodesId(field, code);\r\n    }\r\n}\r\n```\r\n\r\nId class :\r\n```java\r\n@Data\r\n@EqualsAndHashCode(of = {&quot;field&quot;, &quot;code&quot; })\r\n@ToString(of = { &quot;field&quot;, &quot;code&quot; })\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class ParamCodesId implements Serializable {\r\n    private String field;\r\n    private String code;\r\n}\r\n```\r\n\r\nAfter the upgrade I now have a message telling me that `An entity cannot be annotated with both @Inheritance and @MappedSuperclass, @Inheritance will be ignored`\r\nI&#39;ve tried few things :\r\n - Keeping only the @MappedSuperclass on Entity =&gt; The Id column is not found in my query\r\n - Keeping only the @Inheritance on Entity =&gt; The columns from Entity (like USER_CREATION) are not found while updating the database\r\n - Adding a column named id as @Transient in the child class =&gt; Not queryable by my request\r\n - Adding a column named id as @Column(name = &quot;id&quot;, insertable = false, updatable = false) in the child class =&gt; Unknown column id in field list\r\n\r\nI&#39;m unable to find a way to have both the generic fields like USER_CREATION and the id still be detected by requests like :\r\n\r\n```java \r\n@Repository\r\npublic class JpaParamCodeLibelleRepository {\r\n\r\n\t...\r\n\r\n    @Transactional(propagation = Propagation.MANDATORY)\r\n    public List&lt;ParamCodes&gt; getExisingEntity(List&lt;ParamCodesId&gt; ids) {\r\n        Query querySelect = getEntityManager().createQuery(&quot;SELECT e FROM ParamCodes e WHERE e.id in (:ids)&quot;, ParamCodes.class);\r\n        return querySelect.setParameter(&quot;ids&quot;, ids).getResultList();\r\n    }\r\n}\r\n```\r\n\r\nWhat&#39;s the right way to do this ? ","title":"Hibernate JPA generic IdField not detected after updating hibernate version","body":"<p>I'm migrating my app from an old version of hibernate to a more recent one (6.0.2.Final)</p>\n<p>In my code, I have a parent entity class that group all columns that are generic between tables and define a generic getter to get an IdClass instance for each tables :</p>\n<p>Parent class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@MappedSuperclass\npublic abstract class Entity implements Serializable {\n\n    @Getter\n    @Setter\n    @Column(name = &quot;USER_CREATION&quot;, insertable = true, updatable = false)\n    private String auditUtilisateurCreation;\n\n    ...\n\n    //Refer to the IdClass object of the classes \n    public abstract Object getId();\n\n    ...\n}\n</code></pre>\n<p>Entity class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;PARAM_CODES&quot;)\n@IdClass(ParamCodesId.class)\n@Data\npublic class ParamCodes extends Entity {\n    @Id\n    @Column(name = &quot;FIELD&quot;)\n    private String field;\n\n    @Id\n    @Column(name = &quot;CODE&quot;)\n    private String code;\n\n    @Column(name = &quot;ORDER&quot;)\n    private Long order;\n    \n    ...\n\n   \n    @Override\n    public ParamCodeLibelleId getId() {\n        return new ParamCodesId(field, code);\n    }\n}\n</code></pre>\n<p>Id class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@EqualsAndHashCode(of = {&quot;field&quot;, &quot;code&quot; })\n@ToString(of = { &quot;field&quot;, &quot;code&quot; })\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ParamCodesId implements Serializable {\n    private String field;\n    private String code;\n}\n</code></pre>\n<p>After the upgrade I now have a message telling me that <code>An entity cannot be annotated with both @Inheritance and @MappedSuperclass, @Inheritance will be ignored</code>\nI've tried few things :</p>\n<ul>\n<li>Keeping only the @MappedSuperclass on Entity =&gt; The Id column is not found in my query</li>\n<li>Keeping only the @Inheritance on Entity =&gt; The columns from Entity (like USER_CREATION) are not found while updating the database</li>\n<li>Adding a column named id as @Transient in the child class =&gt; Not queryable by my request</li>\n<li>Adding a column named id as @Column(name = &quot;id&quot;, insertable = false, updatable = false) in the child class =&gt; Unknown column id in field list</li>\n</ul>\n<p>I'm unable to find a way to have both the generic fields like USER_CREATION and the id still be detected by requests like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic class JpaParamCodeLibelleRepository {\n\n    ...\n\n    @Transactional(propagation = Propagation.MANDATORY)\n    public List&lt;ParamCodes&gt; getExisingEntity(List&lt;ParamCodesId&gt; ids) {\n        Query querySelect = getEntityManager().createQuery(&quot;SELECT e FROM ParamCodes e WHERE e.id in (:ids)&quot;, ParamCodes.class);\n        return querySelect.setParameter(&quot;ids&quot;, ids).getResultList();\n    }\n}\n</code></pre>\n<p>What's the right way to do this ?</p>\n"},{"tags":["java","android","arrays"],"comments":[{"owner":{"account_id":123783,"reputation":595,"user_id":318460,"display_name":"Narmo"},"score":0,"creation_date":1682018771,"post_id":76055686,"comment_id":134154054,"body_markdown":"Try to move all your processing from `onTextChanged` to `afterTextChanged` and assign `palabra` to `editable.toString().trim()`. Maybe it will help.","body":"Try to move all your processing from <code>onTextChanged</code> to <code>afterTextChanged</code> and assign <code>palabra</code> to <code>editable.toString().trim()</code>. Maybe it will help."},{"owner":{"account_id":27959189,"reputation":1,"user_id":21351414,"display_name":"FELIPE EDUARDO ROJAS"},"score":0,"creation_date":1682432322,"post_id":76055686,"comment_id":134212419,"body_markdown":"I tried that and it didn&#39;t work either, finally I made a method to manage the filter with a button but it&#39;s not filling my spinner hahahaha","body":"I tried that and it didn&#39;t work either, finally I made a method to manage the filter with a button but it&#39;s not filling my spinner hahahaha"}],"answers":[{"tags":[],"owner":{"account_id":20866182,"reputation":114,"user_id":15327167,"display_name":"Saif Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693314979,"creation_date":1693314979,"answer_id":77000575,"question_id":76055686,"body_markdown":"    Txtbuscar.addTextChangedListener(new TextWatcher() {\r\n        @Override\r\n        public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n        }\r\n    \r\n        @Override\r\n        public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n            String inputText = charSequence.toString().trim();\r\n            String[] keywords = inputText.split(&quot;\\\\s+&quot;);\r\n    \r\n            Log.d(&quot;TextWatcher&quot;, &quot;Input keywords: &quot; + Arrays.toString(keywords));\r\n    \r\n            if (clientesAdapter != null) {\r\n                clientesAdapter.getFilter().filterByKeywords(keywords);\r\n                ClienteAfectado.setSelection(0);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void afterTextChanged(Editable editable) {\r\n        }\r\n    });\r\n    \r\n    ## let&#39;s verify the filtering process within your adapter&#39;s filterByKeywords ##\r\n    public void filterByKeywords(String[] keywords) {\r\n        filteredClientes.clear();\r\n    \r\n        for (Cliente cliente : originalClientes) {\r\n            boolean matchesAllKeywords = true;\r\n    \r\n            for (String keyword : keywords) {\r\n                if (!cliente.getName().toLowerCase().contains(keyword.toLowerCase())) {\r\n                    matchesAllKeywords = false;\r\n                    break;\r\n                }\r\n            }\r\n    \r\n            if (matchesAllKeywords) {\r\n                filteredClientes.add(cliente);\r\n            }\r\n        }\r\n    \r\n        Log.d(&quot;Filter&quot;, &quot;Filtered clients: &quot; + filteredClientes.toString());\r\n    \r\n        notifyDataSetChanged();\r\n    }\r\n    \r\n    \r\n    \r\n    ----------\r\n\r\n","title":"Real time text filtering","body":"<pre><code>Txtbuscar.addTextChangedListener(new TextWatcher() {\n    @Override\n    public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n    }\n\n    @Override\n    public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n        String inputText = charSequence.toString().trim();\n        String[] keywords = inputText.split(&quot;\\\\s+&quot;);\n\n        Log.d(&quot;TextWatcher&quot;, &quot;Input keywords: &quot; + Arrays.toString(keywords));\n\n        if (clientesAdapter != null) {\n            clientesAdapter.getFilter().filterByKeywords(keywords);\n            ClienteAfectado.setSelection(0);\n        }\n    }\n\n    @Override\n    public void afterTextChanged(Editable editable) {\n    }\n});\n\n## let's verify the filtering process within your adapter's filterByKeywords ##\npublic void filterByKeywords(String[] keywords) {\n    filteredClientes.clear();\n\n    for (Cliente cliente : originalClientes) {\n        boolean matchesAllKeywords = true;\n\n        for (String keyword : keywords) {\n            if (!cliente.getName().toLowerCase().contains(keyword.toLowerCase())) {\n                matchesAllKeywords = false;\n                break;\n            }\n        }\n\n        if (matchesAllKeywords) {\n            filteredClientes.add(cliente);\n        }\n    }\n\n    Log.d(&quot;Filter&quot;, &quot;Filtered clients: &quot; + filteredClientes.toString());\n\n    notifyDataSetChanged();\n}\n\n\n\n----------\n</code></pre>\n"}],"owner":{"account_id":27959189,"reputation":1,"user_id":21351414,"display_name":"FELIPE EDUARDO ROJAS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693314979,"creation_date":1681914384,"question_id":76055686,"body_markdown":"What happens is that currently my filter searches for one word and I need to search for texts with more than one word and I don&#39;t know how to do it.\r\n\r\n&#180;&#180;&#180;\r\n\r\n        Txtbuscar.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                //String palabra = Txtbuscar.getText().toString().trim();\r\n                String palabra = charSequence.toString().trim();\r\n                //Filtra los clientes seg&#250;n el texto que se va ingresando en tiempo real\r\n                if (clientesAdapter != null) {\r\n                    clientesAdapter.getFilter().filter(palabra);\r\n                    // Resetea la selecci&#243;n del Spinner\r\n                    ClienteAfectado.setSelection(0);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n            }\r\n        });\r\n&#180;&#180;&#180;\r\n\r\n\r\nI don&#39;t know what I&#39;m missing :s, I debugged the theme and according to andorid studio the variable text is taking all the text even if they are 2 words, but still my spinner doesn&#39;t fill me with the results, basically it says that they don&#39;t exist.\r\n\r\nMy idea is that this editText will help me to filter the results.","title":"Real time text filtering","body":"<p>What happens is that currently my filter searches for one word and I need to search for texts with more than one word and I don't know how to do it.</p>\n<p>´´´</p>\n<pre><code>    Txtbuscar.addTextChangedListener(new TextWatcher() {\n        @Override\n        public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n        }\n\n        @Override\n        public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n            //String palabra = Txtbuscar.getText().toString().trim();\n            String palabra = charSequence.toString().trim();\n            //Filtra los clientes según el texto que se va ingresando en tiempo real\n            if (clientesAdapter != null) {\n                clientesAdapter.getFilter().filter(palabra);\n                // Resetea la selección del Spinner\n                ClienteAfectado.setSelection(0);\n            }\n        }\n\n        @Override\n        public void afterTextChanged(Editable editable) {\n        }\n    });\n</code></pre>\n<p>´´´</p>\n<p>I don't know what I'm missing :s, I debugged the theme and according to andorid studio the variable text is taking all the text even if they are 2 words, but still my spinner doesn't fill me with the results, basically it says that they don't exist.</p>\n<p>My idea is that this editText will help me to filter the results.</p>\n"},{"tags":["java","mongodb","spring-boot","docker","docker-networking"],"comments":[{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1692717121,"post_id":76951015,"comment_id":135660862,"body_markdown":"Since you are using [tag:spring-boot], I would expect properties like `SPRING_DATA_MONGODB_HOST=mongo` and `SPRING_DATA_MONGODB_PORT=27017` or an `application.yml`. In the example you provided I don&#39;t see an `application.yml` copied into the docker image, nor a `docker run` command with these environment variables. Could you clarify how you set your environment variables when you run locally? It&#39;s not clear what `MONGO_URL` means.","body":"Since you are using <a href=\"https://stackoverflow.com/questions/tagged/spring-boot\">spring-boot</a>, I would expect properties like <code>SPRING_DATA_MONGODB_HOST=mongo</code> and <code>SPRING_DATA_MONGODB_PORT=27017</code> or an <code>application.yml</code>. In the example you provided I don&#39;t see an <code>application.yml</code> copied into the docker image, nor a <code>docker run</code> command with these environment variables. Could you clarify how you set your environment variables when you run locally? It&#39;s not clear what <code>MONGO_URL</code> means."},{"owner":{"account_id":19564503,"reputation":41,"user_id":14317040,"display_name":"Alien6306"},"score":0,"creation_date":1692797940,"post_id":76951015,"comment_id":135673172,"body_markdown":"@WLefever thanks for your comment. this is my application props for `mongodb` when i run locally: `spring.data.mongodb.uri=${MONGO_URL:mongodb://localhost:27017/dev}` . `MONGO_URL` sets an environment variable inside the container. `mongo` is precisely the name that I gave to the MongoDB container with the `--name=mongo` flag","body":"@WLefever thanks for your comment. this is my application props for <code>mongodb</code> when i run locally: <code>spring.data.mongodb.uri=${MONGO_URL:mongodb:&#47;&#47;localhost:2701&zwnj;&#8203;7&#47;dev}</code> . <code>MONGO_URL</code> sets an environment variable inside the container. <code>mongo</code> is precisely the name that I gave to the MongoDB container with the <code>--name=mongo</code> flag"}],"answers":[{"tags":[],"owner":{"account_id":19564503,"reputation":41,"user_id":14317040,"display_name":"Alien6306"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693314944,"creation_date":1693314944,"answer_id":77000572,"question_id":76951015,"body_markdown":"This configurations solved my issue - \r\n\r\ndocker-compose:\r\n\r\n`version: &#39;3.1&#39;\r\nservices:\r\n  mongodb:\r\n    image: mongo\r\n    container_name: &quot;mongodb&quot;\r\n    ports:\r\n      - &#39;27017:27017&#39;\r\n    networks:\r\n      - myapp\r\n  myapp:\r\n    image: myuser/myapp:1.0.0\r\n    environment:\r\n      - MONGO_URL=mongodb://mongodb:27017/dev\r\n    container_name: &quot;myapp&quot;\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    depends_on:\r\n      - mongodb\r\n    networks:\r\n      - myapp\r\nnetworks:\r\n  myapp:\r\n`\r\n\r\n.properties:\r\n\r\n`spring.data.mongodb.uri=${MONGO_URL:mongodb://mongodb:27017/dev}`\r\n","title":"MongoSocketOpenException in Spring-Boot Application","body":"<p>This configurations solved my issue -</p>\n<p>docker-compose:</p>\n<p><code>version: '3.1' services: mongodb: image: mongo container_name: &quot;mongodb&quot; ports: - '27017:27017' networks: - myapp myapp: image: myuser/myapp:1.0.0 environment: - MONGO_URL=mongodb://mongodb:27017/dev container_name: &quot;myapp&quot; ports: - &quot;8080:8080&quot; depends_on: - mongodb networks: - myapp networks: myapp: </code></p>\n<p>.properties:</p>\n<p><code>spring.data.mongodb.uri=${MONGO_URL:mongodb://mongodb:27017/dev}</code></p>\n"}],"owner":{"account_id":19564503,"reputation":41,"user_id":14317040,"display_name":"Alien6306"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77000572,"answer_count":1,"score":1,"last_activity_date":1693314944,"creation_date":1692689546,"question_id":76951015,"body_markdown":"I&#39;m trying to run my app on Docker. Problem is that when I&#39;m running image of `mongo`, it works perfectly. But then I&#39;m running myapp image which using `mongo` as a db, it gives `com.mongodb.MongoSocketOpenException: Exception opening socket`. By the way I&#39;m creating both of them under the same network.\r\n\r\nException\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNote: when I run myapp from my local it works perfectly. Problem is just about image of my app. I can`t understand what is difference? Why dos it give this error?\r\n\r\nFirst command, that run mongo image:\r\n\r\n    docker run --name=mongo --rm --network=mynet  -p 27017:27017 mongo\r\n\r\nSecond command, that run myapp image: \r\n\r\n    docker run --name=myapp --rm --network=mynet  -p 8088:8080 -e MONGO_URL=mongodb://mongo:27017 myapp\r\n\r\nInspection of mynet network:\r\n                     \r\n    &quot;Name&quot;:&quot;enote&quot;,\r\n    &quot;Id&quot;:&quot;95c6704778676fded0f856b2f905d60544bf67a83910b96193f00ef6a23730be&quot;,\r\n    &quot;Created&quot;:&quot;2023-08-21T07:59:34.479354749Z&quot;,\r\n    &quot;Scope&quot;:&quot;local&quot;,\r\n    &quot;Driver&quot;:&quot;bridge&quot;,\r\n    &quot;EnableIPv6&quot;:false,\r\n    &quot;IPAM&quot;:{\r\n       &quot;Driver&quot;:&quot;default&quot;,\r\n       &quot;Options&quot;:{\r\n          \r\n       },\r\n       &quot;Config&quot;:[\r\n          {\r\n             &quot;Subnet&quot;:&quot;172.22.0.0/16&quot;,\r\n             &quot;Gateway&quot;:&quot;172.22.0.1&quot;\r\n          }\r\n       ]\r\n    },\r\n    &quot;Internal&quot;:false,\r\n    &quot;Attachable&quot;:false,\r\n    &quot;Ingress&quot;:false,\r\n    &quot;ConfigFrom&quot;:{\r\n       &quot;Network&quot;:&quot;&quot;\r\n    },\r\n    &quot;ConfigOnly&quot;:false,\r\n    &quot;Containers&quot;:{\r\n       &quot;bf1bd274fcfdd61f93afc8be87d3542f1cefe81d62587a3d669b09b06cef2e84&quot;:{\r\n          &quot;Name&quot;:&quot;enote-java&quot;,\r\n          &quot;EndpointID&quot;:&quot;af36329326a5ce2c0ac3b24d1dc60c63d27a22e2df2b50c5469094bae21b8a05&quot;,\r\n          &quot;MacAddress&quot;:&quot;02:42:ac:16:00:03&quot;,\r\n          &quot;IPv4Address&quot;:&quot;172.22.0.3/16&quot;,\r\n          &quot;IPv6Address&quot;:&quot;&quot;\r\n       },\r\n       &quot;fa44ba0e009744610ec7f93ff7c04078692d853714193e2dc542cfe2ed815845&quot;:{\r\n          &quot;Name&quot;:&quot;mongo&quot;,\r\n          &quot;EndpointID&quot;:&quot;89be69458e5614976622731e89351f93cd406f8f1dfdc474480310039b8c4a74&quot;,\r\n          &quot;MacAddress&quot;:&quot;02:42:ac:16:00:02&quot;,\r\n          &quot;IPv4Address&quot;:&quot;172.22.0.2/16&quot;,\r\n          &quot;IPv6Address&quot;:&quot;&quot;\r\n       }\r\n    },\r\n    &quot;Options&quot;:{\r\n       \r\n    },\r\n    &quot;Labels&quot;:{\r\n       \r\n    }\r\n\r\nDockerfile of myapp:\r\n\r\n    FROM adoptopenjdk/openjdk11:jdk-11.0.2.9-slim\r\n    WORKDIR /opt\r\n    ENV PORT 8080\r\n    EXPOSE 8080\r\n    COPY target/*.jar /opt/app.jar\r\n    ENTRYPOINT exec java -jar app.jar\r\n\r\n  [1]: https://i.stack.imgur.com/tVURz.png","title":"MongoSocketOpenException in Spring-Boot Application","body":"<p>I'm trying to run my app on Docker. Problem is that when I'm running image of <code>mongo</code>, it works perfectly. But then I'm running myapp image which using <code>mongo</code> as a db, it gives <code>com.mongodb.MongoSocketOpenException: Exception opening socket</code>. By the way I'm creating both of them under the same network.</p>\n<p>Exception</p>\n<p><a href=\"https://i.stack.imgur.com/tVURz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tVURz.png\" alt=\"enter image description here\" /></a></p>\n<p>Note: when I run myapp from my local it works perfectly. Problem is just about image of my app. I can`t understand what is difference? Why dos it give this error?</p>\n<p>First command, that run mongo image:</p>\n<pre><code>docker run --name=mongo --rm --network=mynet  -p 27017:27017 mongo\n</code></pre>\n<p>Second command, that run myapp image:</p>\n<pre><code>docker run --name=myapp --rm --network=mynet  -p 8088:8080 -e MONGO_URL=mongodb://mongo:27017 myapp\n</code></pre>\n<p>Inspection of mynet network:</p>\n<pre><code>&quot;Name&quot;:&quot;enote&quot;,\n&quot;Id&quot;:&quot;95c6704778676fded0f856b2f905d60544bf67a83910b96193f00ef6a23730be&quot;,\n&quot;Created&quot;:&quot;2023-08-21T07:59:34.479354749Z&quot;,\n&quot;Scope&quot;:&quot;local&quot;,\n&quot;Driver&quot;:&quot;bridge&quot;,\n&quot;EnableIPv6&quot;:false,\n&quot;IPAM&quot;:{\n   &quot;Driver&quot;:&quot;default&quot;,\n   &quot;Options&quot;:{\n      \n   },\n   &quot;Config&quot;:[\n      {\n         &quot;Subnet&quot;:&quot;172.22.0.0/16&quot;,\n         &quot;Gateway&quot;:&quot;172.22.0.1&quot;\n      }\n   ]\n},\n&quot;Internal&quot;:false,\n&quot;Attachable&quot;:false,\n&quot;Ingress&quot;:false,\n&quot;ConfigFrom&quot;:{\n   &quot;Network&quot;:&quot;&quot;\n},\n&quot;ConfigOnly&quot;:false,\n&quot;Containers&quot;:{\n   &quot;bf1bd274fcfdd61f93afc8be87d3542f1cefe81d62587a3d669b09b06cef2e84&quot;:{\n      &quot;Name&quot;:&quot;enote-java&quot;,\n      &quot;EndpointID&quot;:&quot;af36329326a5ce2c0ac3b24d1dc60c63d27a22e2df2b50c5469094bae21b8a05&quot;,\n      &quot;MacAddress&quot;:&quot;02:42:ac:16:00:03&quot;,\n      &quot;IPv4Address&quot;:&quot;172.22.0.3/16&quot;,\n      &quot;IPv6Address&quot;:&quot;&quot;\n   },\n   &quot;fa44ba0e009744610ec7f93ff7c04078692d853714193e2dc542cfe2ed815845&quot;:{\n      &quot;Name&quot;:&quot;mongo&quot;,\n      &quot;EndpointID&quot;:&quot;89be69458e5614976622731e89351f93cd406f8f1dfdc474480310039b8c4a74&quot;,\n      &quot;MacAddress&quot;:&quot;02:42:ac:16:00:02&quot;,\n      &quot;IPv4Address&quot;:&quot;172.22.0.2/16&quot;,\n      &quot;IPv6Address&quot;:&quot;&quot;\n   }\n},\n&quot;Options&quot;:{\n   \n},\n&quot;Labels&quot;:{\n   \n}\n</code></pre>\n<p>Dockerfile of myapp:</p>\n<pre><code>FROM adoptopenjdk/openjdk11:jdk-11.0.2.9-slim\nWORKDIR /opt\nENV PORT 8080\nEXPOSE 8080\nCOPY target/*.jar /opt/app.jar\nENTRYPOINT exec java -jar app.jar\n</code></pre>\n"},{"tags":["java","parameters","struts2","ognl","xml-configuration"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1379596059,"post_id":18710193,"comment_id":27890313,"body_markdown":"What do you mean by &quot;showing it as regular text&quot;?","body":"What do you mean by &quot;showing it as regular text&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378784726,"creation_date":1378784726,"answer_id":18710386,"question_id":18710193,"body_markdown":"Note sure what exactly you mean by It shows `${app_Id}` as regular text.Struts2 provide this flexibility where you can set `param` values dynamically.\r\n\r\nAll you need to set these values in your action class and you are all set to use them as a place holder.\r\n\r\n    public class MyAction extends ActionSupport {\r\n       private int app_Id;\r\n        \r\n       public String execute() {\r\n          // you execute logic\r\n     \r\n          this.app_Id= 123;\r\n          return SUCCESS;\r\n       }\r\n     \r\n     // getter and setter for app_Id\r\n    }\r\n\r\nAnd you can use this `app_Id` in your result configuration \r\n\r\n     &lt;action name=&quot;TestApp_*&quot; class=&quot;test.TestApp&quot; method=&quot;{1}&quot;&gt;\r\n           &lt;param name=&quot;app_Id&quot;&gt;${app_Id}&lt;/param&gt;\r\n           &lt;result name=&quot;input&quot;&gt;WEB-INF/jsp/test/testView.jsp&lt;/result&gt;\r\n    &lt;/action&gt;\r\n\r\nyou can get more details [parameters-in-configuration-results][1]\r\n\r\n\r\n  [1]: http://struts.apache.org/release/2.3.x/docs/parameters-in-configuration-results.html","title":"How to dynamically set the value to a static parameter in Struts 2","body":"<p>Note sure what exactly you mean by It shows <code>${app_Id}</code> as regular text.Struts2 provide this flexibility where you can set <code>param</code> values dynamically.</p>\n\n<p>All you need to set these values in your action class and you are all set to use them as a place holder.</p>\n\n<pre><code>public class MyAction extends ActionSupport {\n   private int app_Id;\n\n   public String execute() {\n      // you execute logic\n\n      this.app_Id= 123;\n      return SUCCESS;\n   }\n\n // getter and setter for app_Id\n}\n</code></pre>\n\n<p>And you can use this <code>app_Id</code> in your result configuration </p>\n\n<pre><code> &lt;action name=\"TestApp_*\" class=\"test.TestApp\" method=\"{1}\"&gt;\n       &lt;param name=\"app_Id\"&gt;${app_Id}&lt;/param&gt;\n       &lt;result name=\"input\"&gt;WEB-INF/jsp/test/testView.jsp&lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n\n<p>you can get more details <a href=\"http://struts.apache.org/release/2.3.x/docs/parameters-in-configuration-results.html\" rel=\"nofollow\">parameters-in-configuration-results</a></p>\n"},{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378800145,"creation_date":1378800145,"answer_id":18713555,"question_id":18710193,"body_markdown":"You probably have written (erroneusly) the getter by hand, instead of letting the IDE do it for you.\r\n\r\nA variable `app_Id;` must have a getter `getApp_Id()`, while you could have something like `getapp_Id()` or `get_app_Id()`... but how are we supposed to know it if you don&#39;t post your Action code ?!\r\n\r\nAlso, consider to change your variables (from now on) to respect the convention, that wants them camelCased, instead that underscore-separated... then `appId` for the variable and `getAppId()` for the getter.\r\n\r\n","title":"How to dynamically set the value to a static parameter in Struts 2","body":"<p>You probably have written (erroneusly) the getter by hand, instead of letting the IDE do it for you.</p>\n\n<p>A variable <code>app_Id;</code> must have a getter <code>getApp_Id()</code>, while you could have something like <code>getapp_Id()</code> or <code>get_app_Id()</code>... but how are we supposed to know it if you don't post your Action code ?!</p>\n\n<p>Also, consider to change your variables (from now on) to respect the convention, that wants them camelCased, instead that underscore-separated... then <code>appId</code> for the variable and <code>getAppId()</code> for the getter.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1618682906,"creation_date":1378802875,"answer_id":18714396,"question_id":18710193,"body_markdown":"Look at the [`staticParams` interceptor][1]. \r\n\r\n&gt;This interceptor populates the action with the static parameters defined in the action configuration. If the action implements `Parameterizable`, a map of the static parameters will be also be passed directly to the action. The static params will be added to the request params map, unless `merge` is set to `false`.\r\n&gt;\r\n&gt;Parameters are typically defined with `&lt;param&gt;` elements within `struts.xml`.\r\n\r\nIt shows how to configure this interceptor to your action configuration. \r\n\r\n**For example:**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;action name=&quot;someAction&quot; class=&quot;com.examples.SomeAction&quot;&gt;\r\n        &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;\r\n             &lt;param name=&quot;staticParams.parse&quot;&gt;true&lt;/param&gt;\r\n             &lt;param name=&quot;staticParams.overwrite&quot;&gt;false&lt;/param&gt;\r\n        &lt;/interceptor-ref&gt;\r\n        &lt;param name=&quot;num&quot;&gt;${numValue}&lt;/param&gt;\r\n        &lt;result name=&quot;success&quot;&gt;good_result.ftl&lt;/result&gt;\r\n    &lt;/action&gt;\r\n\r\nThis enables the interceptor to *parse* parameter values for OGNL expression from the action configuration. \r\n\r\n  [1]: https://struts.apache.org/core-developers/static-parameters-interceptor.html\r\n\r\n","title":"How to dynamically set the value to a static parameter in Struts 2","body":"<p>Look at the <a href=\"https://struts.apache.org/core-developers/static-parameters-interceptor.html\" rel=\"nofollow noreferrer\"><code>staticParams</code> interceptor</a>.</p>\n<blockquote>\n<p>This interceptor populates the action with the static parameters defined in the action configuration. If the action implements <code>Parameterizable</code>, a map of the static parameters will be also be passed directly to the action. The static params will be added to the request params map, unless <code>merge</code> is set to <code>false</code>.</p>\n<p>Parameters are typically defined with <code>&lt;param&gt;</code> elements within <code>struts.xml</code>.</p>\n</blockquote>\n<p>It shows how to configure this interceptor to your action configuration.</p>\n<p><strong>For example:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;someAction&quot; class=&quot;com.examples.SomeAction&quot;&gt;\n    &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;\n         &lt;param name=&quot;staticParams.parse&quot;&gt;true&lt;/param&gt;\n         &lt;param name=&quot;staticParams.overwrite&quot;&gt;false&lt;/param&gt;\n    &lt;/interceptor-ref&gt;\n    &lt;param name=&quot;num&quot;&gt;${numValue}&lt;/param&gt;\n    &lt;result name=&quot;success&quot;&gt;good_result.ftl&lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n<p>This enables the interceptor to <em>parse</em> parameter values for OGNL expression from the action configuration.</p>\n"},{"tags":[],"owner":{"account_id":3259438,"reputation":1802,"user_id":2745277,"accept_rate":60,"display_name":"Pratik Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378893001,"creation_date":1378893001,"answer_id":18737924,"question_id":18710193,"body_markdown":"try to do it like this way..\r\n\r\n    \r\n\r\n    &lt;result type=&quot;redirect&quot;&gt;\r\n        &lt;param name=&quot;location&quot;&gt;WEB-INF/jsp/test/testView.jsp&lt;/param&gt;\r\n        &lt;param name=&quot;inputName&quot;&gt;app_Id&lt;/param&gt;\r\n    &lt;/result&gt;\r\n\r\nin the jsp page you can directly use this value like\r\n\r\n    &lt;s:properties value=&quot;app_Id&quot;&gt;\r\n\r\ntry this.","title":"How to dynamically set the value to a static parameter in Struts 2","body":"<p>try to do it like this way..</p>\n\n<pre><code>&lt;result type=\"redirect\"&gt;\n    &lt;param name=\"location\"&gt;WEB-INF/jsp/test/testView.jsp&lt;/param&gt;\n    &lt;param name=\"inputName\"&gt;app_Id&lt;/param&gt;\n&lt;/result&gt;\n</code></pre>\n\n<p>in the jsp page you can directly use this value like</p>\n\n<pre><code>&lt;s:properties value=\"app_Id\"&gt;\n</code></pre>\n\n<p>try this.</p>\n"}],"owner":{"account_id":1597565,"reputation":1,"user_id":1479280,"display_name":"Storm Rider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1693314618,"creation_date":1378783039,"question_id":18710193,"body_markdown":"I was wondering, is it possible to dynamically set value to static parameter\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;action name=&quot;TestApp_*&quot; class=&quot;test.TestApp&quot; method=&quot;{1}&quot;&gt;\r\n   \t   &lt;param name=&quot;app_Id&quot;&gt;Dynamic value here&lt;/param&gt;\r\n       &lt;result name=&quot;input&quot;&gt;WEB-INF/jsp/test/testView.jsp&lt;/result&gt;\r\n    &lt;/action&gt;\r\n\r\nI tried\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;action name=&quot;TestApp_*&quot; class=&quot;test.TestApp&quot; method=&quot;{1}&quot;&gt;\r\n   \t   &lt;param name=&quot;app_Id&quot;&gt;${app_Id}&lt;/param&gt;\r\n       &lt;result name=&quot;input&quot;&gt;WEB-INF/jsp/test/testView.jsp&lt;/result&gt;\r\n    &lt;/action&gt;\r\n\r\nNot working. It shows `${app_Id}` as regular text.\r\n\r\n","title":"How to dynamically set the value to a static parameter in Struts 2","body":"<p>I was wondering, is it possible to dynamically set value to static parameter</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=\"TestApp_*\" class=\"test.TestApp\" method=\"{1}\"&gt;\n   &lt;param name=\"app_Id\"&gt;Dynamic value here&lt;/param&gt;\n   &lt;result name=\"input\"&gt;WEB-INF/jsp/test/testView.jsp&lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n\n<p>I tried</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=\"TestApp_*\" class=\"test.TestApp\" method=\"{1}\"&gt;\n   &lt;param name=\"app_Id\"&gt;${app_Id}&lt;/param&gt;\n   &lt;result name=\"input\"&gt;WEB-INF/jsp/test/testView.jsp&lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n\n<p>Not working. It shows <code>${app_Id}</code> as regular text.</p>\n"},{"tags":["java","format","java.util.scanner"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1693277815,"post_id":76997032,"comment_id":135736191,"body_markdown":"`System.out.printf(&quot;%.2f C= %.2f F&quot;, celsius, fahrenheit);`?","body":"<code>System.out.printf(&quot;%.2f C= %.2f F&quot;, celsius, fahrenheit);</code>?"}],"answers":[{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693314516,"creation_date":1693314516,"answer_id":77000519,"question_id":76997032,"body_markdown":"You&#39;re on the right track using the `printf` method for formatting. However, the format string you provided to `printf` is incomplete. \r\n\r\nThe `printf` method allows you to specify placeholders in the format string and then provide the arguments to replace those placeholders.\r\n\r\nHere&#39;s how you can modify your code to get the desired output:\r\n\r\n1. The format string should be: `&quot;%.2f C = %.2f F\\n&quot;`\r\n2. Provide both `celsius` and `fahrenheit` as arguments to `printf`.\r\n\r\nHere&#39;s the corrected part of your code:\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Celcius2Farenheit {\r\n    \r\n        public static void main(String[] args) {\r\n            double celsius, fahrenheit;\r\n            Scanner scanner;\r\n            scanner = new Scanner(System.in);\r\n            System.out.println(&quot;Please enter a temperature in celsius:&quot;);\r\n            celsius = scanner.nextDouble();\r\n            fahrenheit = (9.0 / 5.0) * celsius + 32;\r\n            System.out.printf(&quot;%.2f C = %.2f F\\n&quot;, celsius, fahrenheit);\r\n        }\r\n        \r\n    }\r\n\r\n \r\n\r\nNow, if you enter a value like `21`, it will correctly print: `21.00 C = 69.80 F`.","title":"Include input in output print line","body":"<p>You're on the right track using the <code>printf</code> method for formatting. However, the format string you provided to <code>printf</code> is incomplete.</p>\n<p>The <code>printf</code> method allows you to specify placeholders in the format string and then provide the arguments to replace those placeholders.</p>\n<p>Here's how you can modify your code to get the desired output:</p>\n<ol>\n<li>The format string should be: <code>&quot;%.2f C = %.2f F\\n&quot;</code></li>\n<li>Provide both <code>celsius</code> and <code>fahrenheit</code> as arguments to <code>printf</code>.</li>\n</ol>\n<p>Here's the corrected part of your code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Celcius2Farenheit {\n\n    public static void main(String[] args) {\n        double celsius, fahrenheit;\n        Scanner scanner;\n        scanner = new Scanner(System.in);\n        System.out.println(&quot;Please enter a temperature in celsius:&quot;);\n        celsius = scanner.nextDouble();\n        fahrenheit = (9.0 / 5.0) * celsius + 32;\n        System.out.printf(&quot;%.2f C = %.2f F\\n&quot;, celsius, fahrenheit);\n    }\n    \n}\n</code></pre>\n<p>Now, if you enter a value like <code>21</code>, it will correctly print: <code>21.00 C = 69.80 F</code>.</p>\n"}],"owner":{"account_id":29318418,"reputation":3,"user_id":22462585,"display_name":"Rs2023"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77000519,"answer_count":1,"score":0,"last_activity_date":1693314516,"creation_date":1693277636,"question_id":76997032,"body_markdown":"I am trying to get my code to print results out as &quot;21.0 C = 69.80 F&quot; but I can&#39;t get it to include the initial celsius input or limit it to the second decimal wihout error codes. This is for homework so I want to know where I&#39;m going wrong, and what I need to add or remove to be able to format my System.out.print\r\n\r\n\r\n```\r\npublic class Celcius2Farenheit {\r\n\r\n        /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        double celsius, fahrenheit;\r\n        Scanner scanner;\r\n        scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter a temperature in celsius:&quot;);\r\n        celsius = scanner.nextDouble();\r\n        fahrenheit = (9.0 / 5.0) * celsius + 32;\r\n        System.out.printf(&quot;%.2f&quot;  + fahrenheit);\r\n        \r\n    }\r\n    \r\n}\r\n```","title":"Include input in output print line","body":"<p>I am trying to get my code to print results out as &quot;21.0 C = 69.80 F&quot; but I can't get it to include the initial celsius input or limit it to the second decimal wihout error codes. This is for homework so I want to know where I'm going wrong, and what I need to add or remove to be able to format my System.out.print</p>\n<pre><code>public class Celcius2Farenheit {\n\n        /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        double celsius, fahrenheit;\n        Scanner scanner;\n        scanner = new Scanner(System.in);\n        System.out.println(&quot;Please enter a temperature in celsius:&quot;);\n        celsius = scanner.nextDouble();\n        fahrenheit = (9.0 / 5.0) * celsius + 32;\n        System.out.printf(&quot;%.2f&quot;  + fahrenheit);\n        \n    }\n    \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1422212365,"post_id":28140193,"comment_id":44651955,"body_markdown":"I do not know but I guess OOP or Not OOP this is a question?","body":"I do not know but I guess OOP or Not OOP this is a question?"},{"owner":{"account_id":2661104,"reputation":1914,"user_id":2300769,"accept_rate":89,"display_name":"Hugo Sousa"},"score":12,"creation_date":1422212419,"post_id":28140193,"comment_id":44651972,"body_markdown":"I don&#39;t know too, but the API Note may explain something: `This method exists to be used as a Predicate, filter(Objects::isNull)`.","body":"I don&#39;t know too, but the API Note may explain something: <code>This method exists to be used as a Predicate, filter(Objects::isNull)</code>."}],"answers":[{"tags":[],"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"down_vote_count":0,"up_vote_count":104,"is_accepted":true,"score":104,"last_activity_date":1422212441,"creation_date":1422212441,"answer_id":28140226,"question_id":28140193,"body_markdown":"From [the JavaDoc of the method](http://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#isNull-java.lang.Object-):\r\n\r\n&gt; API Note:\r\n&gt;     This method exists to be used as a `Predicate`, `filter(Objects::isNull)`","title":"Purpose of Objects.isNull(...) / Objects.nonNull(...)","body":"<p>From <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#isNull-java.lang.Object-\">the JavaDoc of the method</a>:</p>\n\n<blockquote>\n  <p>API Note:\n      This method exists to be used as a <code>Predicate</code>, <code>filter(Objects::isNull)</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693314420,"creation_date":1693296411,"answer_id":76998431,"question_id":28140193,"body_markdown":"Elaborating the above answer further with an example. Given a list of strings, `Objects.isNull` and `Objects.nonNull` can be used to filter out the `null` and `non null` values respectively from the list.\r\n\r\n\r\n    List&lt;String&gt; stringList = Arrays.asList(&quot;T&quot;, null, &quot;S&quot;);\r\n    \r\n    // Filter out all the elements that are not null.    \r\n    stringList.stream().filter(Objects::nonNull).collect(Collectors.toList()); // &quot;T&quot;,&quot;S&quot;\r\n    \r\n    // Filter out all the null elements.\r\n    stringList.stream().filter(Objects::isNull).collect(Collectors.toList()); // null\r\n\r\n","title":"Purpose of Objects.isNull(...) / Objects.nonNull(...)","body":"<p>Elaborating the above answer further with an example. Given a list of strings, <code>Objects.isNull</code> and <code>Objects.nonNull</code> can be used to filter out the <code>null</code> and <code>non null</code> values respectively from the list.</p>\n<pre><code>List&lt;String&gt; stringList = Arrays.asList(&quot;T&quot;, null, &quot;S&quot;);\n\n// Filter out all the elements that are not null.    \nstringList.stream().filter(Objects::nonNull).collect(Collectors.toList()); // &quot;T&quot;,&quot;S&quot;\n\n// Filter out all the null elements.\nstringList.stream().filter(Objects::isNull).collect(Collectors.toList()); // null\n</code></pre>\n"}],"owner":{"account_id":910051,"reputation":3554,"user_id":944099,"accept_rate":90,"display_name":"babanin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38516,"favorite_count":0,"down_vote_count":1,"up_vote_count":62,"accepted_answer_id":28140226,"answer_count":2,"score":61,"last_activity_date":1693314420,"creation_date":1422212243,"question_id":28140193,"body_markdown":"What is the purpose of \r\n\r\n    Objects.isNull(x) \r\n\r\nif we can simply write \r\n\r\n    x == null\r\n\r\n?\r\n\r\nSame for \r\n\r\n    Objects.nonNull(...)\r\n\r\nand\r\n\r\n    x != null","title":"Purpose of Objects.isNull(...) / Objects.nonNull(...)","body":"<p>What is the purpose of </p>\n\n<pre><code>Objects.isNull(x) \n</code></pre>\n\n<p>if we can simply write </p>\n\n<pre><code>x == null\n</code></pre>\n\n<p>?</p>\n\n<p>Same for </p>\n\n<pre><code>Objects.nonNull(...)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>x != null\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tomcat"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1585575592,"post_id":60931718,"comment_id":107800419,"body_markdown":"see if u can set properties like this https://stackoverflow.com/questions/51703746/setting-relaxedquerychars-for-embedded-tomcat/51703955#51703955","body":"see if u can set properties like this <a href=\"https://stackoverflow.com/questions/51703746/setting-relaxedquerychars-for-embedded-tomcat/51703955#51703955\" title=\"setting relaxedquerychars for embedded tomcat\">stackoverflow.com/questions/51703746/&hellip;</a>"},{"owner":{"account_id":1825316,"reputation":138,"user_id":1658288,"display_name":"Yonatan Alon"},"score":0,"creation_date":1585576894,"post_id":60931718,"comment_id":107801200,"body_markdown":"@pvpkiran I have already tried, to no avail.\nYou can refer to the tomcat instance in the way specified in that question, but you can only provide an internal tomcat executor this way:\n\nTomcatWebServer server = (TomcatWebServer)factory.getWebServer();\n        server.getTomcat().getService().addExecutor(/*Only allows org.apache.catalina.Executor*/);","body":"@pvpkiran I have already tried, to no avail. You can refer to the tomcat instance in the way specified in that question, but you can only provide an internal tomcat executor this way:  TomcatWebServer server = (TomcatWebServer)factory.getWebServer();         server.getTomcat().getService().addExecutor(/*Only allows org.apache.catalina.Executor*/);"}],"answers":[{"tags":[],"owner":{"account_id":14127085,"reputation":121,"user_id":10379094,"display_name":"Joseph"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1591666137,"creation_date":1591666137,"answer_id":62273613,"question_id":60931718,"body_markdown":"I looked up some source code (see `TomcatServletWebServerFactory.java`/`ServletWebServerFactoryConfiguration.java`) and found a way to do that.\r\n\r\n    @Bean\r\n    public TomcatProtocolHandlerCustomizer&lt;?&gt; tomcatProtocolHandlerCustomizer() {\r\n        return protocolHandler -&gt; {\r\n            protocolHandler.setExecutor(...);\r\n        };\r\n    }\r\n","title":"How can I customize spring boot embedded tomcat thread pool?","body":"<p>I looked up some source code (see <code>TomcatServletWebServerFactory.java</code>/<code>ServletWebServerFactoryConfiguration.java</code>) and found a way to do that.</p>\n\n<pre><code>@Bean\npublic TomcatProtocolHandlerCustomizer&lt;?&gt; tomcatProtocolHandlerCustomizer() {\n    return protocolHandler -&gt; {\n        protocolHandler.setExecutor(...);\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":435422,"reputation":147,"user_id":821990,"display_name":"danidacila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675079993,"creation_date":1674831543,"answer_id":75259842,"question_id":60931718,"body_markdown":"I needed to customize Tomcat also.\r\nI ended up with a code like this:\r\n\r\n    @Component\r\n    public class TomcatCustomizer extends TomcatServletWebServerFactory {\r\n      @Override\r\n      protected void postProcessContext(Context context) {\r\n        Engine engine = (Engine) context.getParent().getParent();\r\n        Service service = engine.getService();\r\n        Server server = service.getServer();\r\n        Connector connector = service.findConnectors()[0];\r\n      }\r\n    }\r\n\r\nYou can then set different properties of the server, service, engine, connector.\r\nFrom the object service you can also access the executor and change it.\r\nThis part I never tried.\r\nWhatever you change it will override and complete the spring-boot configuration, you will not loose the spring-boot config.\r\n\r\nAs Yonatan mentioned one can add an executor with\r\nservice.addExecutor(...)\r\nthere is also a method from removing an executor.\r\n\r\nI needed this kind of detailed access to the configuration because I needed to configure the server.getGlobalNamingResources().\r\nAlso to add a JAASRealm and a Valve.\r\nI do not see how one could achieve complete config access with just the customize method.","title":"How can I customize spring boot embedded tomcat thread pool?","body":"<p>I needed to customize Tomcat also.\nI ended up with a code like this:</p>\n<pre><code>@Component\npublic class TomcatCustomizer extends TomcatServletWebServerFactory {\n  @Override\n  protected void postProcessContext(Context context) {\n    Engine engine = (Engine) context.getParent().getParent();\n    Service service = engine.getService();\n    Server server = service.getServer();\n    Connector connector = service.findConnectors()[0];\n  }\n}\n</code></pre>\n<p>You can then set different properties of the server, service, engine, connector.\nFrom the object service you can also access the executor and change it.\nThis part I never tried.\nWhatever you change it will override and complete the spring-boot configuration, you will not loose the spring-boot config.</p>\n<p>As Yonatan mentioned one can add an executor with\nservice.addExecutor(...)\nthere is also a method from removing an executor.</p>\n<p>I needed this kind of detailed access to the configuration because I needed to configure the server.getGlobalNamingResources().\nAlso to add a JAASRealm and a Valve.\nI do not see how one could achieve complete config access with just the customize method.</p>\n"},{"tags":[],"owner":{"account_id":1825316,"reputation":138,"user_id":1658288,"display_name":"Yonatan Alon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693314181,"creation_date":1674955227,"answer_id":75272047,"question_id":60931718,"body_markdown":"Considering two and a half years have passed since I originally asked this question, I think it is time that I shared our solution for the benefit of anyone that might read this in the future.\r\n\r\nWe ended up writing a custom component that implements [WebServerFactoryCustomizer][1]. Spring Boot will scan for all beans before starting its embedded Tomcat server. If it detects a bean that implements this interface, it will invoke the `customize()` method and pass the server factory as an argument to the function.\r\n\r\nFrom there, it was straightforward:\r\n\r\n```\r\npackage your.pack.age.name;\r\n\r\nimport org.apache.catalina.core.StandardThreadExecutor;\r\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\nimport org.springframework.boot.web.embedded.tomcat.TomcatWebServer;\r\nimport org.springframework.boot.web.server.WebServerFactoryCustomizer;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class TomcatServerConfig implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\r\n    private final StandardThreadExecutor customExecutor;\r\n\r\n    public TomcatServerConfig() {\r\n        this.customExecutor = YourExecutorImplementation();\r\n    }\r\n\r\n    @Override\r\n    public void customize(TomcatServletWebServerFactory factory) {\r\n\t\t/*This web server is the Tomcat server embedded in Spring Boot*/\r\n\t\tTomcatWebServer webServer = (TomcatWebServer)factory.getWebServer()\r\n        webServer.getTomcat().getService().addExecutor(this.customExecutor);\r\n    }\r\n}\r\n```\r\n\r\n(The actual code we used was simplified here, for the sake of a clear answer)\r\n\r\nIt is also worth noting that similar code needs to be written for the Tomcat Connectors, using [TomcatConnectorCustomizer][2]:\r\n\r\n```\r\npackage your.pack.age.name;\r\n\r\nimport org.apache.catalina.connector.Connector;\r\nimport org.springframework.boot.web.embedded.tomcat.TomcatConnectorCustomizer;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class TomcatConnectorConfig implements TomcatConnectorCustomizer {\r\n    private final StandardThreadExecutor customExecutor;\r\n\r\n    public TomcatConnectorConfig() {\r\n        this.customExecutor = YourExecutorImplementation();\r\n    }\r\n\r\n    @Override\r\n    public void customize(Connector connector) {\r\n         connector.getProtocolHandler().setExecutor(this.customExecutor);\r\n    }\r\n}\r\n```\r\n\r\n\r\nFor convenience, I am adding a skeletal custom implementation of a thread executor:\r\n\r\n```\r\nimport org.apache.catalina.LifecycleException;\r\nimport org.apache.catalina.core.StandardThreadExecutor;\r\n\r\npublic class HTTPThreadExecutor extends StandardThreadExecutor {\r\n    public HTTPThreadExecutor() {\r\n        super();\r\n\r\n        /* Custom constructor code here */\r\n    }\r\n\r\n    @Override\r\n    protected void startInternal() throws LifecycleException {\r\n        super.startInternal();\r\n\r\n        /* Any work you need done upon startup */\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/server/WebServerFactoryCustomizer.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/embedded/tomcat/TomcatConnectorCustomizer.html","title":"How can I customize spring boot embedded tomcat thread pool?","body":"<p>Considering two and a half years have passed since I originally asked this question, I think it is time that I shared our solution for the benefit of anyone that might read this in the future.</p>\n<p>We ended up writing a custom component that implements <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/server/WebServerFactoryCustomizer.html\" rel=\"nofollow noreferrer\">WebServerFactoryCustomizer</a>. Spring Boot will scan for all beans before starting its embedded Tomcat server. If it detects a bean that implements this interface, it will invoke the <code>customize()</code> method and pass the server factory as an argument to the function.</p>\n<p>From there, it was straightforward:</p>\n<pre><code>package your.pack.age.name;\n\nimport org.apache.catalina.core.StandardThreadExecutor;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.embedded.tomcat.TomcatWebServer;\nimport org.springframework.boot.web.server.WebServerFactoryCustomizer;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class TomcatServerConfig implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\n    private final StandardThreadExecutor customExecutor;\n\n    public TomcatServerConfig() {\n        this.customExecutor = YourExecutorImplementation();\n    }\n\n    @Override\n    public void customize(TomcatServletWebServerFactory factory) {\n        /*This web server is the Tomcat server embedded in Spring Boot*/\n        TomcatWebServer webServer = (TomcatWebServer)factory.getWebServer()\n        webServer.getTomcat().getService().addExecutor(this.customExecutor);\n    }\n}\n</code></pre>\n<p>(The actual code we used was simplified here, for the sake of a clear answer)</p>\n<p>It is also worth noting that similar code needs to be written for the Tomcat Connectors, using <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/embedded/tomcat/TomcatConnectorCustomizer.html\" rel=\"nofollow noreferrer\">TomcatConnectorCustomizer</a>:</p>\n<pre><code>package your.pack.age.name;\n\nimport org.apache.catalina.connector.Connector;\nimport org.springframework.boot.web.embedded.tomcat.TomcatConnectorCustomizer;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class TomcatConnectorConfig implements TomcatConnectorCustomizer {\n    private final StandardThreadExecutor customExecutor;\n\n    public TomcatConnectorConfig() {\n        this.customExecutor = YourExecutorImplementation();\n    }\n\n    @Override\n    public void customize(Connector connector) {\n         connector.getProtocolHandler().setExecutor(this.customExecutor);\n    }\n}\n</code></pre>\n<p>For convenience, I am adding a skeletal custom implementation of a thread executor:</p>\n<pre><code>import org.apache.catalina.LifecycleException;\nimport org.apache.catalina.core.StandardThreadExecutor;\n\npublic class HTTPThreadExecutor extends StandardThreadExecutor {\n    public HTTPThreadExecutor() {\n        super();\n\n        /* Custom constructor code here */\n    }\n\n    @Override\n    protected void startInternal() throws LifecycleException {\n        super.startInternal();\n\n        /* Any work you need done upon startup */\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1825316,"reputation":138,"user_id":1658288,"display_name":"Yonatan Alon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2712,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1693314181,"creation_date":1585575191,"question_id":60931718,"body_markdown":"Tomcat architecture is comprised of the following elements: Server =&gt; Service =&gt; Engine =&gt; Host =&gt; Context \r\n[![tomcat architecture][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/jDm7m.png\r\n\r\n\r\nWhen configuring a standard Tomcat server, we can configure a custom thread pool by specifying the following in our server.xml file: (below is pseudo-code)\r\n\r\n``` \r\n&lt;Server&gt;\r\n  &lt;Service name=&quot;Catalina&quot;&gt;\r\n    &lt;Connector port=&quot;8080&quot;/&gt;\r\n    &lt;Executor name=&quot;custom-pool&quot; className=&quot;my.package.poolImplementation&quot; /&gt;\r\n    &lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot;&gt;  \r\n      &lt;Here be more elements /&gt;\r\n    &lt;/Engine&gt;\r\n  &lt;/Service&gt;\r\n&lt;/Server&gt;\r\n``` \r\n\r\n(specifically, the **Executor name=&quot;custom-pool&quot; className=&quot;my.package.poolImplementation&quot;**)\r\n\r\nHow do I configure Spring Boot to allow the same behaviour **programmatically** ? &lt;br /&gt;\r\n(WITHOUT using Spring configuration files)&lt;br /&gt;\r\n\r\nNo matter where i searched, or how hard I tried, I couldn&#39;t find any answer or example.&lt;br /&gt;\r\nThanks in advance&lt;br /&gt;","title":"How can I customize spring boot embedded tomcat thread pool?","body":"<p>Tomcat architecture is comprised of the following elements: Server => Service => Engine => Host => Context \n<a href=\"https://i.stack.imgur.com/jDm7m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jDm7m.png\" alt=\"tomcat architecture\"></a></p>\n\n<p>When configuring a standard Tomcat server, we can configure a custom thread pool by specifying the following in our server.xml file: (below is pseudo-code)</p>\n\n<pre><code>&lt;Server&gt;\n  &lt;Service name=\"Catalina\"&gt;\n    &lt;Connector port=\"8080\"/&gt;\n    &lt;Executor name=\"custom-pool\" className=\"my.package.poolImplementation\" /&gt;\n    &lt;Engine name=\"Catalina\" defaultHost=\"localhost\"&gt;  \n      &lt;Here be more elements /&gt;\n    &lt;/Engine&gt;\n  &lt;/Service&gt;\n&lt;/Server&gt;\n</code></pre>\n\n<p>(specifically, the <strong>Executor name=\"custom-pool\" className=\"my.package.poolImplementation\"</strong>)</p>\n\n<p>How do I configure Spring Boot to allow the same behaviour <strong>programmatically</strong> ? <br />\n(WITHOUT using Spring configuration files)<br /></p>\n\n<p>No matter where i searched, or how hard I tried, I couldn't find any answer or example.<br />\nThanks in advance<br /></p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1693108628,"post_id":76985638,"comment_id":135715602,"body_markdown":"Since your operands are all single characters, I suggest using method [indexOf](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(int,int)) (in class `java.lang.String`). I also suggest that you [edit] your question and post some sample postfix expressions along with your expected resulting prefix expressions for those postfix expressions.","body":"Since your operands are all single characters, I suggest using method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(int,int)\" rel=\"nofollow noreferrer\">indexOf</a> (in class <code>java.lang.String</code>). I also suggest that you <a href=\"https://stackoverflow.com/posts/76985638/edit\">edit</a> your question and post some sample postfix expressions along with your expected resulting prefix expressions for those postfix expressions."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693109447,"post_id":76985638,"comment_id":135715626,"body_markdown":"Format _Postfix_ before the _StringTokenizer_,  `Postfix = Postfix.replace(&quot;+&quot;, &quot; + &quot;).replaceAll(&quot; +&quot;, &quot; &quot;);`.","body":"Format <i>Postfix</i> before the <i>StringTokenizer</i>,  <code>Postfix = Postfix.replace(&quot;+&quot;, &quot; + &quot;).replaceAll(&quot; +&quot;, &quot; &quot;);</code>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1693109943,"post_id":76985638,"comment_id":135715647,"body_markdown":"Should the result of converting `AB + CD+*` to prefix be: `*+AB+CD`?","body":"Should the result of converting <code>AB + CD+*</code> to prefix be: <code>*+AB+CD</code>?"},{"owner":{"account_id":23372427,"reputation":21,"user_id":17443029,"display_name":"Aziz Aljuaid"},"score":0,"creation_date":1693118204,"post_id":76985638,"comment_id":135716099,"body_markdown":"Yes, that&#39;s how the result should be","body":"Yes, that&#39;s how the result should be"}],"answers":[{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693314124,"creation_date":1693314124,"answer_id":77000467,"question_id":76985638,"body_markdown":"The problem with your code is that it assumes that every token in the postfix expression is separated by a space. So when you have a postfix expression like `&quot;AB + CD+*&quot;`, the StringTokenizer will tokenize it as `[&quot;AB&quot;, &quot;+&quot;, &quot;CD+*&quot;]` instead of `[&quot;A&quot;, &quot;B&quot;, &quot;+&quot;, &quot;C&quot;, &quot;D&quot;, &quot;+&quot;, &quot;*&quot;]`.\r\n\r\nTo correctly tokenize this expression, you&#39;ll need a different approach. You can scan through each character in the postfix expression string and decide whether it&#39;s an operand or an operator.\r\n\r\nHere&#39;s a modified version of your code:\r\n\r\n \r\n\r\n        \r\n    import java.util.Scanner;\r\n    import java.util.Stack;\r\n    \r\n    class PostfixToPrefix {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n    \r\n            System.out.println(&quot;Enter a postfix expression (e.g. AB + CD + *):&quot;);\r\n            String postfix = sc.nextLine();\r\n    \r\n            try {\r\n                String prefix = PostfixToPrefix.Postfix_To_Prefix(postfix);\r\n                System.out.println(&quot;The prefix expression is:&quot;);\r\n                System.out.println(prefix);\r\n            } catch (SyntaxError e) {\r\n                System.out.println(&quot;Error: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    \r\n        public static String Postfix_To_Prefix(String Postfix) throws SyntaxError {\r\n    \r\n            // Declare the operand stack\r\n            Stack&lt;String&gt; operand = new Stack&lt;&gt;();\r\n    \r\n            for (int i = 0; i &lt; Postfix.length(); i++) {\r\n                char ch = Postfix.charAt(i);\r\n    \r\n                // Skip spaces\r\n                if (ch == &#39; &#39;) {\r\n                    continue;\r\n                }\r\n    \r\n                // If the character is an operand, push it into the stack\r\n                if (If_Operand(ch)) {\r\n                    operand.push(String.valueOf(ch));\r\n                } else { \r\n                    // If the character is an operator, pop two operands\r\n                    String operand2 = operand.pop();\r\n                    String operand1 = operand.pop();\r\n                    String expression = ch + &quot; &quot; + operand1 + &quot; &quot; + operand2; \r\n                    operand.push(expression);\r\n                }\r\n            }\r\n    \r\n            // Throw syntax error if empty stack is popped\r\n            if (operand.isEmpty()) {\r\n                throw new SyntaxError(&quot;Stack is empty&quot;);\r\n            }\r\n            String Expression = operand.pop(); \r\n    \r\n            // Throw syntax error if the stack is not empty after the conversion is complete\r\n            if (!operand.isEmpty()) {\r\n                throw new SyntaxError(&quot;Stack is not empty&quot;);\r\n            }\r\n    \r\n            return Expression; \r\n        }\r\n    \r\n        // Helper method to decide if the character is an operand\r\n        private static boolean If_Operand(char ch) {\r\n            return ch != &#39;+&#39; &amp;&amp; ch != &#39;-&#39; &amp;&amp; ch != &#39;/&#39; &amp;&amp; ch != &#39;*&#39;;\r\n        }\r\n    \r\n    }\r\n    \r\n    class SyntaxError extends Exception {\r\n        public SyntaxError(String message) {\r\n            super(message);\r\n        }\r\n        \r\n    \r\n    }\r\n\r\nThe output for the `AB + CD+*` would be: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nNote that:\r\n1. The method `If_Operand` now takes a `char` as an argument instead of a `String`.\r\n2. Instead of tokenizing the input string, we loop through each character and process it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7iLte.png","title":"how to parse through the expression if it has no space?","body":"<p>The problem with your code is that it assumes that every token in the postfix expression is separated by a space. So when you have a postfix expression like <code>&quot;AB + CD+*&quot;</code>, the StringTokenizer will tokenize it as <code>[&quot;AB&quot;, &quot;+&quot;, &quot;CD+*&quot;]</code> instead of <code>[&quot;A&quot;, &quot;B&quot;, &quot;+&quot;, &quot;C&quot;, &quot;D&quot;, &quot;+&quot;, &quot;*&quot;]</code>.</p>\n<p>To correctly tokenize this expression, you'll need a different approach. You can scan through each character in the postfix expression string and decide whether it's an operand or an operator.</p>\n<p>Here's a modified version of your code:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Stack;\n\nclass PostfixToPrefix {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n\n        System.out.println(&quot;Enter a postfix expression (e.g. AB + CD + *):&quot;);\n        String postfix = sc.nextLine();\n\n        try {\n            String prefix = PostfixToPrefix.Postfix_To_Prefix(postfix);\n            System.out.println(&quot;The prefix expression is:&quot;);\n            System.out.println(prefix);\n        } catch (SyntaxError e) {\n            System.out.println(&quot;Error: &quot; + e.getMessage());\n        }\n    }\n\n    public static String Postfix_To_Prefix(String Postfix) throws SyntaxError {\n\n        // Declare the operand stack\n        Stack&lt;String&gt; operand = new Stack&lt;&gt;();\n\n        for (int i = 0; i &lt; Postfix.length(); i++) {\n            char ch = Postfix.charAt(i);\n\n            // Skip spaces\n            if (ch == ' ') {\n                continue;\n            }\n\n            // If the character is an operand, push it into the stack\n            if (If_Operand(ch)) {\n                operand.push(String.valueOf(ch));\n            } else { \n                // If the character is an operator, pop two operands\n                String operand2 = operand.pop();\n                String operand1 = operand.pop();\n                String expression = ch + &quot; &quot; + operand1 + &quot; &quot; + operand2; \n                operand.push(expression);\n            }\n        }\n\n        // Throw syntax error if empty stack is popped\n        if (operand.isEmpty()) {\n            throw new SyntaxError(&quot;Stack is empty&quot;);\n        }\n        String Expression = operand.pop(); \n\n        // Throw syntax error if the stack is not empty after the conversion is complete\n        if (!operand.isEmpty()) {\n            throw new SyntaxError(&quot;Stack is not empty&quot;);\n        }\n\n        return Expression; \n    }\n\n    // Helper method to decide if the character is an operand\n    private static boolean If_Operand(char ch) {\n        return ch != '+' &amp;&amp; ch != '-' &amp;&amp; ch != '/' &amp;&amp; ch != '*';\n    }\n\n}\n\nclass SyntaxError extends Exception {\n    public SyntaxError(String message) {\n        super(message);\n    }\n    \n\n}\n</code></pre>\n<p>The output for the <code>AB + CD+*</code> would be:</p>\n<p><a href=\"https://i.stack.imgur.com/7iLte.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7iLte.png\" alt=\"enter image description here\" /></a></p>\n<p>Note that:</p>\n<ol>\n<li>The method <code>If_Operand</code> now takes a <code>char</code> as an argument instead of a <code>String</code>.</li>\n<li>Instead of tokenizing the input string, we loop through each character and process it.</li>\n</ol>\n"}],"owner":{"account_id":23372427,"reputation":21,"user_id":17443029,"display_name":"Aziz Aljuaid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693314124,"creation_date":1693108031,"question_id":76985638,"body_markdown":"I&#39;m working on a project to convert postfix to prefix. The code works fine if I add spaces between the operands and operators, but it will not if the characters are have no space between. The sample i used is &quot;AB + CD+*&quot;\r\n\r\nhere is my code. \r\n```\r\nclass PostfixToPrefix {\r\n\t\r\n\tpublic static String Postfix_To_Prefix (String Postfix) throws SyntaxError {\r\n\t\t\r\n\t\t// declare the operand stack \r\n\t\tStack&lt;String&gt; operand = new Stack&lt;&gt;(); \r\n\t\t\r\n\t\t// declare the tokenize function \r\n\t\tStringTokenizer tokens = new StringTokenizer (Postfix);\r\n\t\t\r\n\t\t// while loop to get the next token while there are more tokens \r\n\t\twhile (tokens.hasMoreTokens()) {\r\n\t\t\tString token = tokens.nextToken();\r\n\t\t\t\r\n\t\t\t// if the token is an operand push into the stack \r\n\t\t\tif(If_Operand(token)) {\r\n\t\t\t\toperand.push(token);\r\n\t\t\t} \r\n\t\t\telse { // if the token is an operator pop two operands \r\n\t\t\t\tString operand2 = operand.pop();\r\n\t\t\t\tString operand1 = operand.pop(); \r\n\t\t\t\tString experssion = token + &quot; &quot; + operand1 + &quot; &quot; + operand2; // create a string with an operator followed by the two operands\r\n\t\t\t\toperand.push(experssion); \r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// syntax error is thrown if empty stack is popped\r\n\t\t\tif(operand.isEmpty()) {\r\n\t\t\t\tthrow new SyntaxError(&quot;Stack is empty&quot;); \r\n\t\t\t}\r\n\t\t\t \tString Experssion = operand.pop(); // pop the prefix expression into a string \r\n\t\t\t \t \r\n\t\t\t // syntax error is thrown if the stack is not empty after the conversion is complete\r\n\t\t   if(!operand.isEmpty()) {\r\n\t\t\t   throw new SyntaxError(&quot; Stack is not Empty &quot;); \r\n\t\t   }\r\n\t\t     \t\r\n\t\t   \r\n\t\t   return Experssion; //return the prefix expression \r\n\t}\r\n\t\r\n\t// helper method to decide if the token is  an operand\r\n\tprivate static boolean If_Operand(String token) {\r\n\t\treturn !token.equals(&quot;+&quot;) &amp;&amp; !token.equals(&quot;-&quot;) &amp;&amp; !token.equals(&quot;/&quot;) &amp;&amp; !token.equals(&quot;*&quot;); \r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nI tried the split method and it did not work. \r\nI appreciate your feedback. ","title":"how to parse through the expression if it has no space?","body":"<p>I'm working on a project to convert postfix to prefix. The code works fine if I add spaces between the operands and operators, but it will not if the characters are have no space between. The sample i used is &quot;AB + CD+*&quot;</p>\n<p>here is my code.</p>\n<pre><code>class PostfixToPrefix {\n    \n    public static String Postfix_To_Prefix (String Postfix) throws SyntaxError {\n        \n        // declare the operand stack \n        Stack&lt;String&gt; operand = new Stack&lt;&gt;(); \n        \n        // declare the tokenize function \n        StringTokenizer tokens = new StringTokenizer (Postfix);\n        \n        // while loop to get the next token while there are more tokens \n        while (tokens.hasMoreTokens()) {\n            String token = tokens.nextToken();\n            \n            // if the token is an operand push into the stack \n            if(If_Operand(token)) {\n                operand.push(token);\n            } \n            else { // if the token is an operator pop two operands \n                String operand2 = operand.pop();\n                String operand1 = operand.pop(); \n                String experssion = token + &quot; &quot; + operand1 + &quot; &quot; + operand2; // create a string with an operator followed by the two operands\n                operand.push(experssion); \n            }\n        }\n        \n        // syntax error is thrown if empty stack is popped\n            if(operand.isEmpty()) {\n                throw new SyntaxError(&quot;Stack is empty&quot;); \n            }\n                String Experssion = operand.pop(); // pop the prefix expression into a string \n                 \n             // syntax error is thrown if the stack is not empty after the conversion is complete\n           if(!operand.isEmpty()) {\n               throw new SyntaxError(&quot; Stack is not Empty &quot;); \n           }\n                \n           \n           return Experssion; //return the prefix expression \n    }\n    \n    // helper method to decide if the token is  an operand\n    private static boolean If_Operand(String token) {\n        return !token.equals(&quot;+&quot;) &amp;&amp; !token.equals(&quot;-&quot;) &amp;&amp; !token.equals(&quot;/&quot;) &amp;&amp; !token.equals(&quot;*&quot;); \n    }\n\n}\n\n</code></pre>\n<p>I tried the split method and it did not work.\nI appreciate your feedback.</p>\n"},{"tags":["java","nd4j"],"answers":[{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693314075,"creation_date":1693314075,"answer_id":77000462,"question_id":76984199,"body_markdown":"Nd4j maintainer here. If you want to read just use a map over a spark data frame, have each step create a row and then combine the final result using Nd4j.concat(..).\r\n\r\n\r\n If you can, consider converting to arrow first and then using the nd4j-arrow converter.It uses the tensor abstraction which didn&#39;t seem to get as much support as I hoped. You can find that here:\r\nhttps://github.com/deeplearning4j/deeplearning4j/blob/master/nd4j/nd4j-serde/nd4j-arrow/src/main/java/org/nd4j/arrow/ArrowSerde.java#L42\r\n\r\n\r\nFeel free to file an issue over on the dl4j repository and I can take a look at other recommendations for you as well.","title":"Create INDArray (ND4J) from csv or spark data frame","body":"<p>Nd4j maintainer here. If you want to read just use a map over a spark data frame, have each step create a row and then combine the final result using Nd4j.concat(..).</p>\n<p>If you can, consider converting to arrow first and then using the nd4j-arrow converter.It uses the tensor abstraction which didn't seem to get as much support as I hoped. You can find that here:\n<a href=\"https://github.com/deeplearning4j/deeplearning4j/blob/master/nd4j/nd4j-serde/nd4j-arrow/src/main/java/org/nd4j/arrow/ArrowSerde.java#L42\" rel=\"nofollow noreferrer\">https://github.com/deeplearning4j/deeplearning4j/blob/master/nd4j/nd4j-serde/nd4j-arrow/src/main/java/org/nd4j/arrow/ArrowSerde.java#L42</a></p>\n<p>Feel free to file an issue over on the dl4j repository and I can take a look at other recommendations for you as well.</p>\n"}],"owner":{"account_id":28023604,"reputation":3,"user_id":21404004,"display_name":"Lukas Tycho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77000462,"answer_count":1,"score":0,"last_activity_date":1693314075,"creation_date":1693072550,"question_id":76984199,"body_markdown":"I want to use ND4J purely as linear algebra library and would like to create an INDArray directly from either a csv file or a spark dataframe without having to create an intermediate Java collection on-heap. I tried to find a solution everywhere but couldn’t find anything. ","title":"Create INDArray (ND4J) from csv or spark data frame","body":"<p>I want to use ND4J purely as linear algebra library and would like to create an INDArray directly from either a csv file or a spark dataframe without having to create an intermediate Java collection on-heap. I tried to find a solution everywhere but couldn’t find anything.</p>\n"},{"tags":["java","android","flutter","flutter-dependencies"],"comments":[{"owner":{"account_id":10387585,"reputation":1596,"user_id":7660084,"display_name":"Mr Special"},"score":0,"creation_date":1578477447,"post_id":59511692,"comment_id":105447925,"body_markdown":"I face the same problem, i comes from code. add ur code the file have GoogleMap widget. Maybe I can help u","body":"I face the same problem, i comes from code. add ur code the file have GoogleMap widget. Maybe I can help u"}],"answers":[{"tags":[],"owner":{"account_id":16165029,"reputation":561,"user_id":11670217,"display_name":"Tasnim"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1579409261,"creation_date":1579409261,"answer_id":59807226,"question_id":59511692,"body_markdown":"I have also got the same error for android but my code works after following these steps:\r\n\r\n 1. Clean App data &amp; Uninstall the current app.\r\n 2. Run flutter clean &amp; flutter build.\r\n 3. Run Your App again","title":"google maps Trying to create a platform view of unregistered type","body":"<p>I have also got the same error for android but my code works after following these steps:</p>\n\n<ol>\n<li>Clean App data &amp; Uninstall the current app.</li>\n<li>Run flutter clean &amp; flutter build.</li>\n<li>Run Your App again</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2247474,"reputation":4806,"user_id":1980510,"accept_rate":64,"display_name":"John Alexander Betts"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1693314006,"creation_date":1593479268,"answer_id":62648855,"question_id":59511692,"body_markdown":"Your `minSdkVersion` must be greater than 20\r\n\r\n    1. flutter clean\r\n    2. flutter run\r\n\r\nSolved my issue","title":"google maps Trying to create a platform view of unregistered type","body":"<p>Your <code>minSdkVersion</code> must be greater than 20</p>\n<pre><code>1. flutter clean\n2. flutter run\n</code></pre>\n<p>Solved my issue</p>\n"},{"tags":[],"owner":{"account_id":20031024,"reputation":11,"user_id":14683792,"display_name":"Nilo Sebastian Vila Zamora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606004645,"creation_date":1606001090,"answer_id":64949166,"question_id":59511692,"body_markdown":"Replace in `MainActivity.kt` the next import:  \r\n`import io.flutter.app.FlutterActivity`  \r\nfor:  \r\n`import io.flutter.embedding.android.FlutterActivity`\r\n\r\nThis solve the problem!","title":"google maps Trying to create a platform view of unregistered type","body":"<p>Replace in <code>MainActivity.kt</code> the next import:<br />\n<code>import io.flutter.app.FlutterActivity</code><br />\nfor:<br />\n<code>import io.flutter.embedding.android.FlutterActivity</code></p>\n<p>This solve the problem!</p>\n"}],"owner":{"account_id":6729416,"reputation":1648,"user_id":5186340,"accept_rate":38,"display_name":"Mahmoud Niypoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13983,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1693314006,"creation_date":1577542622,"question_id":59511692,"body_markdown":"I have App I&#39;m working on it&#39;s working as good before I Upgrading pre 1.12 Android projects , not it&#39;s give me a error `google maps Trying to create a platform view of unregistered type`\r\n\r\nand map working good in IOS with same google api key that i used in android\r\n\r\nI have did `flutter clean` more than one and uninstall app and use different emulator, the error is same \r\n \r\n\r\n**androidManifest.xml**\r\n  \r\n\r\n      &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;come.example.appid&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n        &lt;!-- Speech To Text configration --&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot;/&gt;\r\n        &lt;!-- Geolocator Configration Start --&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n        &lt;!-- Geolocator Configration end --&gt;\r\n        &lt;!-- Local Notification --&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\r\n        &lt;!-- Local Notification --&gt;\r\n    \r\n        &lt;application\r\n            tools:replace=&quot;android:label&quot;\r\n            android:label=&quot;appname&quot;\r\n            android:icon=&quot;@mipmap/launcher_icon&quot;&gt;\r\n    \r\n            &lt;!-- Google Maps --&gt;\r\n            &lt;meta-data android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n                 android:value=&quot;APIKeyyyyyyyyyyyy-xxxxxxxx&quot;/&gt;\r\n              \r\n            &lt;!-- Google Maps --&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\r\n                android:value=&quot;@string/default_notification_channel_id&quot;/&gt;\r\n    \r\n            &lt;!-- Facebook Configration Start --&gt;\r\n            &lt;!-- &lt;meta-data android:name=&quot;com.facebook.sdk.ApplicationId&quot;\r\n                android:value=&quot;@string/facebook_app_id&quot;/&gt; --&gt;\r\n    \r\n    \r\n            &lt;activity android:name=&quot;com.facebook.FacebookActivity&quot;\r\n                android:configChanges=\r\n                        &quot;keyboard|keyboardHidden|screenLayout|screenSize|orientation&quot;\r\n                android:label=&quot;@string/app_name&quot; /&gt;\r\n    \r\n            &lt;activity\r\n                android:name=&quot;com.facebook.CustomTabActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                \r\n                &lt;!-- FCM Configration start --&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;FLUTTER_NOTIFICATION_CLICK&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n                &lt;!-- FCM Configration end --&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                    &lt;data android:scheme=&quot;@string/fb_login_protocol_scheme&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;!-- Facebook Configration end --&gt;\r\n    \r\n            &lt;!-- Local Notification --&gt;\r\n            &lt;receiver android:name=&quot;com.dexterous.flutterlocalnotifications.ScheduledNotificationReceiver&quot; /&gt;\r\n            &lt;receiver android:name=&quot;com.dexterous.flutterlocalnotifications.ScheduledNotificationBootReceiver&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;&gt;&lt;/action&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n    \r\n    \r\n            &lt;activity\r\n                android:name=&quot;io.flutter.embedding.android.FlutterActivity&quot;\r\n                android:theme=&quot;@style/LaunchTheme&quot;\r\n                android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\r\n                android:hardwareAccelerated=&quot;true&quot;\r\n                android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n    \r\n                &lt;!-- Specify that the launch screen should continue being displayed --&gt;\r\n                &lt;!-- until Flutter renders its first frame. --&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;io.flutter.embedding.android.SplashScreenDrawable&quot;\r\n                    android:resource=&quot;@drawable/launch_background&quot; /&gt;\r\n    \r\n                &lt;!-- Theme to apply as soon as Flutter begins rendering frames --&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\r\n                    android:resource=&quot;@style/NormalTheme&quot;\r\n                    /&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n    \r\n            &lt;meta-data\r\n                android:name=&quot;flutterEmbedding&quot;\r\n                android:value=&quot;2&quot; /&gt;\r\n    \r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\n\r\n\r\n**the error is**\r\n\r\n&gt;    E/flutter ( 8262): [ERROR:flutter/lib/ui/ui_dart_state.cc(157)]\r\n&gt; Unhandled Exception: PlatformException(error,\r\n&gt; java.lang.IllegalStateException: Trying to create a platform view of\r\n&gt; unregistered type: plugins.flutter.io/google_maps E/flutter ( 8262):\r\n&gt; \tat\r\n&gt; io.flutter.plugin.platform.PlatformViewsController$1.createPlatformView(PlatformViewsController.java:91)\r\n&gt; E/flutter ( 8262): \tat\r\n&gt; io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.create(PlatformViewsChannel.java:96)\r\n&gt; E/flutter ( 8262): \tat\r\n&gt; io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.onMethodCall(PlatformViewsChannel.java:60)\r\n&gt; E/flutter ( 8262): \tat\r\n&gt; io.flutter.plugin.common.MethodChannel$IncomingMethodCallHandler.onMessage(MethodChannel.java:231)\r\n&gt; E/flutter ( 8262):","title":"google maps Trying to create a platform view of unregistered type","body":"<p>I have App I'm working on it's working as good before I Upgrading pre 1.12 Android projects , not it's give me a error <code>google maps Trying to create a platform view of unregistered type</code></p>\n\n<p>and map working good in IOS with same google api key that i used in android</p>\n\n<p>I have did <code>flutter clean</code> more than one and uninstall app and use different emulator, the error is same </p>\n\n<p><strong>androidManifest.xml</strong></p>\n\n<pre><code>  &lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    package=\"come.example.appid\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n    &lt;!-- Speech To Text configration --&gt;\n    &lt;uses-permission android:name=\"android.permission.RECORD_AUDIO\"/&gt;\n    &lt;!-- Geolocator Configration Start --&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\n    &lt;!-- Geolocator Configration end --&gt;\n    &lt;!-- Local Notification --&gt;\n    &lt;uses-permission android:name=\"android.permission.VIBRATE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\"/&gt;\n    &lt;!-- Local Notification --&gt;\n\n    &lt;application\n        tools:replace=\"android:label\"\n        android:label=\"appname\"\n        android:icon=\"@mipmap/launcher_icon\"&gt;\n\n        &lt;!-- Google Maps --&gt;\n        &lt;meta-data android:name=\"com.google.android.geo.API_KEY\"\n             android:value=\"APIKeyyyyyyyyyyyy-xxxxxxxx\"/&gt;\n\n        &lt;!-- Google Maps --&gt;\n        &lt;meta-data\n            android:name=\"com.google.firebase.messaging.default_notification_channel_id\"\n            android:value=\"@string/default_notification_channel_id\"/&gt;\n\n        &lt;!-- Facebook Configration Start --&gt;\n        &lt;!-- &lt;meta-data android:name=\"com.facebook.sdk.ApplicationId\"\n            android:value=\"@string/facebook_app_id\"/&gt; --&gt;\n\n\n        &lt;activity android:name=\"com.facebook.FacebookActivity\"\n            android:configChanges=\n                    \"keyboard|keyboardHidden|screenLayout|screenSize|orientation\"\n            android:label=\"@string/app_name\" /&gt;\n\n        &lt;activity\n            android:name=\"com.facebook.CustomTabActivity\"\n            android:exported=\"true\"&gt;\n\n            &lt;!-- FCM Configration start --&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"FLUTTER_NOTIFICATION_CLICK\" /&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n            &lt;/intent-filter&gt;\n            &lt;!-- FCM Configration end --&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n                &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n                &lt;data android:scheme=\"@string/fb_login_protocol_scheme\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;!-- Facebook Configration end --&gt;\n\n        &lt;!-- Local Notification --&gt;\n        &lt;receiver android:name=\"com.dexterous.flutterlocalnotifications.ScheduledNotificationReceiver\" /&gt;\n        &lt;receiver android:name=\"com.dexterous.flutterlocalnotifications.ScheduledNotificationBootReceiver\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.BOOT_COMPLETED\"&gt;&lt;/action&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n\n        &lt;activity\n            android:name=\"io.flutter.embedding.android.FlutterActivity\"\n            android:theme=\"@style/LaunchTheme\"\n            android:configChanges=\"orientation|keyboardHidden|keyboard|screenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode\"\n            android:hardwareAccelerated=\"true\"\n            android:windowSoftInputMode=\"adjustResize\"&gt;\n\n            &lt;!-- Specify that the launch screen should continue being displayed --&gt;\n            &lt;!-- until Flutter renders its first frame. --&gt;\n            &lt;meta-data\n                android:name=\"io.flutter.embedding.android.SplashScreenDrawable\"\n                android:resource=\"@drawable/launch_background\" /&gt;\n\n            &lt;!-- Theme to apply as soon as Flutter begins rendering frames --&gt;\n            &lt;meta-data\n                android:name=\"io.flutter.embedding.android.NormalTheme\"\n                android:resource=\"@style/NormalTheme\"\n                /&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\"/&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n\n        &lt;meta-data\n            android:name=\"flutterEmbedding\"\n            android:value=\"2\" /&gt;\n\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p><strong>the error is</strong></p>\n\n<blockquote>\n  <p>E/flutter ( 8262): [ERROR:flutter/lib/ui/ui_dart_state.cc(157)]\n  Unhandled Exception: PlatformException(error,\n  java.lang.IllegalStateException: Trying to create a platform view of\n  unregistered type: plugins.flutter.io/google_maps E/flutter ( 8262):\n    at\n  io.flutter.plugin.platform.PlatformViewsController$1.createPlatformView(PlatformViewsController.java:91)\n  E/flutter ( 8262):    at\n  io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.create(PlatformViewsChannel.java:96)\n  E/flutter ( 8262):    at\n  io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.onMethodCall(PlatformViewsChannel.java:60)\n  E/flutter ( 8262):    at\n  io.flutter.plugin.common.MethodChannel$IncomingMethodCallHandler.onMessage(MethodChannel.java:231)\n  E/flutter ( 8262):</p>\n</blockquote>\n"},{"tags":["java","spring","jpa","spring-data-jpa","spring-transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1693312733,"post_id":77000272,"comment_id":135741555,"body_markdown":"Transactions across HTTP is what you want and what doesn&#39;t exists. You need to write logic to do a compensating transaction (i.e. remove the committed stuff).","body":"Transactions across HTTP is what you want and what doesn&#39;t exists. You need to write logic to do a compensating transaction (i.e. remove the committed stuff)."},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1693312756,"post_id":77000272,"comment_id":135741562,"body_markdown":"You meant SpringBoot 3.1.2? Most of Spring Source libs are at 6 now.","body":"You meant SpringBoot 3.1.2? Most of Spring Source libs are at 6 now."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1693326882,"post_id":77000272,"comment_id":135744823,"body_markdown":"What you want might fall into what is called a distributed transaction, where the XA transaction manager handles the multiple transactions for you. See https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-jta.html as a start, and there are demos on the various options. The threads though probably should not be asynchronous - They must be able to all participate in the same transactional scope, and the transaction manager handle splitting it out into multiple XA resources. Though if all schemas on in the same DB, can they not just use the same connection/transaction?","body":"What you want might fall into what is called a distributed transaction, where the XA transaction manager handles the multiple transactions for you. See <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-jta.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.0.x/reference/html/&hellip;</a> as a start, and there are demos on the various options. The threads though probably should not be asynchronous - They must be able to all participate in the same transactional scope, and the transaction manager handle splitting it out into multiple XA resources. Though if all schemas on in the same DB, can they not just use the same connection/transaction?"}],"owner":{"account_id":29321815,"reputation":1,"user_id":22465237,"display_name":"Errori"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693313143,"creation_date":1693312604,"question_id":77000272,"body_markdown":"(Using Springboot 3.1.2)\r\nI have a service (Foo) that will call 1-3 other services (Bar, Bizz, Buzz) asynchronously. Bar Bizz and Buzz will all commit similar data across 1-3 schemas in a database. I want it so that if a transaction fails in one for any reason, we can rollback the other schemas, and if it succeeds in all 3 we save it in all 3.\r\n\r\nI have tried putting an @Transaction around the main service Foo, however that doesn&#39;t work with mulithreadding. I have made Bar, Bizz, and Buzz all @Transactional but once their main logic ends it will commit the Transaction before the threads are joined in Foo. Is there an easy way in Spring to have parity between different transactions? Or will I have to use a more basic approach with JDBC to handle commits?","title":"Multithreaded Transaction Parity in Spring Using Spring JPA and Transactions","body":"<p>(Using Springboot 3.1.2)\nI have a service (Foo) that will call 1-3 other services (Bar, Bizz, Buzz) asynchronously. Bar Bizz and Buzz will all commit similar data across 1-3 schemas in a database. I want it so that if a transaction fails in one for any reason, we can rollback the other schemas, and if it succeeds in all 3 we save it in all 3.</p>\n<p>I have tried putting an @Transaction around the main service Foo, however that doesn't work with mulithreadding. I have made Bar, Bizz, and Buzz all @Transactional but once their main logic ends it will commit the Transaction before the threads are joined in Foo. Is there an easy way in Spring to have parity between different transactions? Or will I have to use a more basic approach with JDBC to handle commits?</p>\n"},{"tags":["java","json","tibco","tibco-business-works","tibco-designer"],"answers":[{"tags":[],"owner":{"account_id":11149560,"reputation":372,"user_id":8183257,"display_name":"EmmanuelM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693313008,"creation_date":1693313008,"answer_id":77000323,"question_id":76997195,"body_markdown":"To handle this scenario you need to do the following :\r\n\r\n. Create an XML schema that would match the structure of the target JSON document\r\n. Map the source schema to the target schema using the &#39;For Each / Group-by&#39; option\r\n\r\nUse of the group-by option is explained in BusinessWorks Process Design Guide, in chapter 8 &#39;Mapping and Transformation&#39; and in section Examples of Mappings (See &#39;Converting a List Into a Grouped List&#39;).\r\n\r\n. Finally convert the XML to JSON with the XML to JSON activity\r\n\r\n","title":"JSON to replace element name dynamically with value","body":"<p>To handle this scenario you need to do the following :</p>\n<p>. Create an XML schema that would match the structure of the target JSON document\n. Map the source schema to the target schema using the 'For Each / Group-by' option</p>\n<p>Use of the group-by option is explained in BusinessWorks Process Design Guide, in chapter 8 'Mapping and Transformation' and in section Examples of Mappings (See 'Converting a List Into a Grouped List').</p>\n<p>. Finally convert the XML to JSON with the XML to JSON activity</p>\n"}],"owner":{"account_id":16418974,"reputation":13,"user_id":11860711,"display_name":"abhishek karan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693313008,"creation_date":1693280766,"question_id":76997195,"body_markdown":"TIBCO BW 5.14\r\nI have below input records:\r\n\r\n    \r\n```\r\n&lt;Record&gt;\r\n    \t&lt;TESTID&gt;1&lt;/TESTID&gt;\r\n    \t&lt;SCHEDULEDAY&gt;2023-08-22&lt;/SCHEDULEDAY&gt;\r\n    \t&lt;CUSTID&gt;5&lt;/CUSTID&gt;\r\n    \t&lt;MOBILENUMBER&gt;222222222&lt;/MOBILENUMBER&gt;\r\n    \t&lt;RADIONUM&gt;12345&lt;/RADIONUM&gt;\r\n    &lt;/Record&gt;\r\n    &lt;Record&gt;\r\n    \t&lt;TESTID&gt;2&lt;/TESTID&gt;\r\n    \t&lt;SCHEDULEDAY&gt;2023-08-22&lt;/SCHEDULEDAY&gt;\r\n    \t&lt;CUSTID&gt;5&lt;/CUSTID&gt;\r\n    \t&lt;MOBILENUMBER&gt;222222222&lt;/MOBILENUMBER&gt;\r\n    \t&lt;RADIONUM&gt;12345&lt;/RADIONUM&gt;\r\n    &lt;/Record&gt;\r\n    &lt;Record&gt;\r\n    \t&lt;TESTID&gt;3&lt;/TESTID&gt;\r\n    \t&lt;SCHEDULEDAY&gt;2023-08-26&lt;/SCHEDULEDAY&gt;\r\n    \t&lt;CUSTID&gt;6&lt;/CUSTID&gt;\r\n    \t&lt;MOBILENUMBER&gt;222222222&lt;/MOBILENUMBER&gt;\r\n    \t&lt;RADIONUM&gt;12345&lt;/RADIONUM&gt;\r\n    &lt;/Record&gt;\r\n```\r\nI want to use SCHEDULEDAY from above request and create JSON like this, where SCHEDULEDAY is used as element tag and both records of same SCHEDULEDAY  are combined in jSON output.\r\n\r\nOutput JSON:\r\n    \r\n```\r\n{\r\n      &quot;finalData&quot;: {\r\n\t &quot;2023-08-22&quot;: [\r\n\t\t{\r\n\t\t\t&quot;TESTID&quot;: 1,\r\n\t\t\t&quot;CUSTID&quot;: 5,\r\n\t\t\t&quot;Mobile&quot;: 1232434345,\r\n\t\t\t&quot;radioNum&quot;: 11\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;TESTID&quot;: 3,\r\n\t\t\t&quot;CUSTID&quot;: 5,\r\n\t\t\t&quot;Mobile&quot;: 4545454524,\r\n\t\t\t&quot;radioNum&quot;: 22\r\n\t\t}\r\n\t],\r\n\t &quot;2023-08-26&quot;: [\r\n\t\t{\r\n\t\t\t&quot;TESTID&quot;: 5,\r\n\t\t\t&quot;CUSTID&quot;: 6,\r\n\t\t\t&quot;Mobile&quot;: 4543466759,\r\n\t\t\t&quot;radioNum&quot;: 33\r\n\t\t}\r\n\t]\r\n\t}\r\n}\r\n```\r\n\r\n[enter image description here](https://i.stack.imgur.com/BWePS.png)\r\n\r\nI tried iterating it over the SCHEDULDAY in TIBCO BW and then used parse json to convert the XML to JSON but its not returning the data as not sure how it can be achieved.","title":"JSON to replace element name dynamically with value","body":"<p>TIBCO BW 5.14\nI have below input records:</p>\n<pre><code>&lt;Record&gt;\n        &lt;TESTID&gt;1&lt;/TESTID&gt;\n        &lt;SCHEDULEDAY&gt;2023-08-22&lt;/SCHEDULEDAY&gt;\n        &lt;CUSTID&gt;5&lt;/CUSTID&gt;\n        &lt;MOBILENUMBER&gt;222222222&lt;/MOBILENUMBER&gt;\n        &lt;RADIONUM&gt;12345&lt;/RADIONUM&gt;\n    &lt;/Record&gt;\n    &lt;Record&gt;\n        &lt;TESTID&gt;2&lt;/TESTID&gt;\n        &lt;SCHEDULEDAY&gt;2023-08-22&lt;/SCHEDULEDAY&gt;\n        &lt;CUSTID&gt;5&lt;/CUSTID&gt;\n        &lt;MOBILENUMBER&gt;222222222&lt;/MOBILENUMBER&gt;\n        &lt;RADIONUM&gt;12345&lt;/RADIONUM&gt;\n    &lt;/Record&gt;\n    &lt;Record&gt;\n        &lt;TESTID&gt;3&lt;/TESTID&gt;\n        &lt;SCHEDULEDAY&gt;2023-08-26&lt;/SCHEDULEDAY&gt;\n        &lt;CUSTID&gt;6&lt;/CUSTID&gt;\n        &lt;MOBILENUMBER&gt;222222222&lt;/MOBILENUMBER&gt;\n        &lt;RADIONUM&gt;12345&lt;/RADIONUM&gt;\n    &lt;/Record&gt;\n</code></pre>\n<p>I want to use SCHEDULEDAY from above request and create JSON like this, where SCHEDULEDAY is used as element tag and both records of same SCHEDULEDAY  are combined in jSON output.</p>\n<p>Output JSON:</p>\n<pre><code>{\n      &quot;finalData&quot;: {\n     &quot;2023-08-22&quot;: [\n        {\n            &quot;TESTID&quot;: 1,\n            &quot;CUSTID&quot;: 5,\n            &quot;Mobile&quot;: 1232434345,\n            &quot;radioNum&quot;: 11\n        },\n        {\n            &quot;TESTID&quot;: 3,\n            &quot;CUSTID&quot;: 5,\n            &quot;Mobile&quot;: 4545454524,\n            &quot;radioNum&quot;: 22\n        }\n    ],\n     &quot;2023-08-26&quot;: [\n        {\n            &quot;TESTID&quot;: 5,\n            &quot;CUSTID&quot;: 6,\n            &quot;Mobile&quot;: 4543466759,\n            &quot;radioNum&quot;: 33\n        }\n    ]\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/BWePS.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried iterating it over the SCHEDULDAY in TIBCO BW and then used parse json to convert the XML to JSON but its not returning the data as not sure how it can be achieved.</p>\n"},{"tags":["java","tdlib"],"answers":[{"tags":[],"owner":{"account_id":4338649,"reputation":41,"user_id":3542519,"display_name":"Cavallium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688661062,"creation_date":1688661062,"answer_id":76630871,"question_id":76619973,"body_markdown":"The first stacktrace says that you don&#39;t have libc++ installed: `libc++.so.1: No such file or directory`\r\n\r\nYou are using the following classifiers that require libc++: `linux_amd64_ssl1` and `linux_amd64_ssl3`.\r\n\r\nIf you don&#39;t have libc++ and you don&#39;t want to install it, you should choose the following classifiers instead: `linux_amd64_gcc_ssl1` and `linux_amd64_gcc_ssl3`","title":"Can&#39;t use TDLight (TDLib fork) in Java","body":"<p>The first stacktrace says that you don't have libc++ installed: <code>libc++.so.1: No such file or directory</code></p>\n<p>You are using the following classifiers that require libc++: <code>linux_amd64_ssl1</code> and <code>linux_amd64_ssl3</code>.</p>\n<p>If you don't have libc++ and you don't want to install it, you should choose the following classifiers instead: <code>linux_amd64_gcc_ssl1</code> and <code>linux_amd64_gcc_ssl3</code></p>\n"},{"tags":[],"owner":{"account_id":26062283,"reputation":1,"user_id":20076740,"display_name":"Artem Melikhov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693312541,"creation_date":1693312541,"answer_id":77000260,"question_id":76619973,"body_markdown":"Faced the same problem. The reason may be that your `openjdk:17-alpine` image does not have the required openssl version. Try updating openssl like [here](https://askubuntu.com/a/1102966/683621). It helped me and this [guy](https://github.com/tdlight-team/tdlight-java/issues/10).\r\n\r\n    FROM  openjdk:17-jdk-slim-bullseye\r\n    #Perl is required to install openssl\r\n    RUN apt-get update \\\r\n        &amp;&amp; apt-get install -y ca-certificates wget bash \\\r\n        &amp;&amp; apt-get -qy install perl\r\n\r\n    #Remove current openssl\r\n    RUN apt-get -y remove openssl\r\n\r\n    #This is required to run “tar” command\r\n    RUN apt-get -qy install gcc\r\n\r\n    RUN apt-get -q update &amp;&amp; apt-get -qy install wget make &amp;&amp; \\\r\n        wget https://www.openssl.org/source/openssl-1.1.1g.tar.gz &amp;&amp;  \\\r\n        tar -zxf openssl-1.1.1g.tar.gz &amp;&amp; cd openssl-1.1.1g &amp;&amp; \\\r\n        ./config &amp;&amp; \\\r\n        make install\r\n\r\n    WORKDIR /app\r\n\r\n    ADD build/libs/*.jar /app/libs/\r\n    ADD build/resources/* /app/resources/\r\n\r\n    ENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;, &quot;java ${JAVA_OPTS} -jar /app/libs/example.jar&quot;]","title":"Can&#39;t use TDLight (TDLib fork) in Java","body":"<p>Faced the same problem. The reason may be that your <code>openjdk:17-alpine</code> image does not have the required openssl version. Try updating openssl like <a href=\"https://askubuntu.com/a/1102966/683621\">here</a>. It helped me and this <a href=\"https://github.com/tdlight-team/tdlight-java/issues/10\" rel=\"nofollow noreferrer\">guy</a>.</p>\n<pre><code>FROM  openjdk:17-jdk-slim-bullseye\n#Perl is required to install openssl\nRUN apt-get update \\\n    &amp;&amp; apt-get install -y ca-certificates wget bash \\\n    &amp;&amp; apt-get -qy install perl\n\n#Remove current openssl\nRUN apt-get -y remove openssl\n\n#This is required to run “tar” command\nRUN apt-get -qy install gcc\n\nRUN apt-get -q update &amp;&amp; apt-get -qy install wget make &amp;&amp; \\\n    wget https://www.openssl.org/source/openssl-1.1.1g.tar.gz &amp;&amp;  \\\n    tar -zxf openssl-1.1.1g.tar.gz &amp;&amp; cd openssl-1.1.1g &amp;&amp; \\\n    ./config &amp;&amp; \\\n    make install\n\nWORKDIR /app\n\nADD build/libs/*.jar /app/libs/\nADD build/resources/* /app/resources/\n\nENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;, &quot;java ${JAVA_OPTS} -jar /app/libs/example.jar&quot;]\n</code></pre>\n"}],"owner":{"account_id":7561019,"reputation":184,"user_id":5738610,"display_name":"Pavel Krizhanovskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693312541,"creation_date":1688557380,"question_id":76619973,"body_markdown":"please help. 2 days wasted for this problem :(\r\n\r\nI&#39;m creating Telegram bot in Java using https://github.com/tdlight-team/tdlight.  \r\nI created Gradle project, built jar, and now trying to run it in Docker image `FROM openjdk:17-alpine`\r\n\r\nSome important things from `build.gradle`:\r\n```\r\nbuildscript {\r\n    apply from: &#39;versions.gradle&#39;\r\n    repositories {\r\n        mavenCentral()\r\n        maven { url &quot;https://plugins.gradle.org/m2/&quot; }\r\n        maven { url &quot;https://mvn.mchv.eu/repository/mchv/&quot; }\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;)\r\n        classpath(&quot;org.jetbrains.kotlin:kotlin-stdlib-common:$kotlin_version&quot;)\r\n    }\r\n}\r\nplugins {\r\n    id &#39;org.jetbrains.kotlin.jvm&#39; version &quot;$kotlin_version&quot;\r\n    id &#39;org.jetbrains.kotlin.plugin.serialization&#39; version &quot;$kotlin_version&quot;\r\n    id &quot;com.github.johnrengelman.shadow&quot; version &#39;7.1.2&#39;\r\n}\r\ndependencies {\r\n//    implementation &quot;org.telegram:telegrambots:${versions.telegram}&quot;\r\n    implementation platform(&quot;it.tdlight:tdlight-java-bom:${versions.tdLight}&quot;)\r\n    implementation group: &#39;it.tdlight&#39;, name: &#39;tdlight-java&#39;, classifier: &#39;jdk8&#39; // Java 8 is supported if you use the following dependency classifier: `jdk8`\r\n//    implementation group: &#39;it.tdlight&#39;, name: &#39;tdlight-natives&#39;, classifier: &#39;linux_amd64_gcc_ssl1&#39;\r\n//    implementation group: &#39;it.tdlight&#39;, name: &#39;tdlight-natives&#39;, classifier: &#39;linux_amd64_gcc_ssl3&#39;\r\n    implementation group: &#39;it.tdlight&#39;, name: &#39;tdlight-natives&#39;, classifier: &#39;windows_amd64&#39;\r\n    implementation group: &#39;it.tdlight&#39;, name: &#39;tdlight-natives&#39;, classifier: &#39;linux_amd64_ssl1&#39;\r\n    implementation group: &#39;it.tdlight&#39;, name: &#39;tdlight-natives&#39;, classifier: &#39;linux_amd64_ssl3&#39;\r\n\r\n    implementation &quot;com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:${versions.jackson}&quot;\r\n    implementation &quot;com.fasterxml.jackson.core:jackson-databind:${versions.jackson}&quot;\r\n    implementation &quot;com.sksamuel.hoplite:hoplite-core:${versions.hoplite}&quot; //to read properties\r\n    implementation &quot;com.sksamuel.hoplite:hoplite-yaml:${versions.hoplite}&quot; //to read yaml-properties\r\n\r\n//...\r\n\r\nkotlin {\r\n    jvmToolchain(11)\r\n}\r\n\r\ncompileKotlin {\r\n    kotlinOptions.jvmTarget = &#39;11&#39;\r\n}\r\n\r\ncompileTestKotlin {\r\n    kotlinOptions.jvmTarget = &#39;11&#39;\r\n}\r\n\r\njar {\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;name.nepavel.otus.watchbot.MainKt&#39;\r\n    }\r\n}\r\n\r\nshadowJar {\r\n    archiveVersion.set(project.version)\r\n}\r\n\r\n```\r\nAlmost everything is exactly as in TDLight `readme.md`.\r\nThen I connected to Docker container&#39;s shell and run:  \r\n`docker run -v D:\\:/d -it --entrypoint /bin/sh --name open17 norg/openjdk-17`  \r\n```\r\n/ # java -version\r\nopenjdk version &quot;17-ea&quot; 2021-09-14\r\nOpenJDK Runtime Environment (build 17-ea+14)\r\nOpenJDK 64-Bit Server VM (build 17-ea+14, mixed mode, sharing)\r\n```  \r\n`java -jar /d/work/otus/repos/watchbot/build/libs/watchbot-1.0-SNAPSHOT-all.jar`  \r\nAnd got a long stacktrace:\r\n```\r\nException in thread &quot;main&quot; it.tdlight.util.UnsupportedNativeLibraryException: Failed to load TDLight native libraries\r\n        at it.tdlight.util.Native.loadLibrary(Native.java:65)\r\n        at it.tdlight.util.Native.loadNativesInternal(Native.java:37)\r\n        at it.tdlight.Init.init(Init.java:53)\r\n        at name.nepavel.otus.watchbot.MainKt.main(Main.kt:43)\r\n        at name.nepavel.otus.watchbot.MainKt.main(Main.kt)\r\nCaused by: java.lang.IllegalArgumentException: Failed to load any of the given libraries: [tdjni.linux_amd64_ssl1, tdjni.linux_amd64_ssl3, tdjni.linux_amd64_gcc_ssl1, tdjni.linux_amd64_gcc_ssl3]\r\n        at it.tdlight.util.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:132)\r\n        at it.tdlight.util.Native.loadLibrary(Native.java:55)\r\n        ... 4 more\r\n        Suppressed: java.lang.UnsatisfiedLinkError: /tmp/tdlight-java-natives15557113517622973995/libtdjni.linux_amd64_ssl16069453053884461735.so: Error loading shared library libc++.so.1: No such file or directory (needed by /tmp/tdlight-java-natives15557113517622973995/libtdjni.linux_amd64_ssl16069453053884461735.so)\r\n                at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n                at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:383)\r\n                at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:227)\r\n                at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:169)\r\n                at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2383)\r\n                at java.base/java.lang.Runtime.load0(Runtime.java:746)\r\n                at java.base/java.lang.System.load(System.java:1857)\r\n                at it.tdlight.util.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:21)\r\n                at it.tdlight.util.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:439)\r\n                at it.tdlight.util.NativeLibraryLoader.load(NativeLibraryLoader.java:236)\r\n                at it.tdlight.util.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:123)\r\n                ... 5 more\r\n                Suppressed: java.lang.UnsatisfiedLinkError: /tmp/tdlight-java-natives15557113517622973995/libtdjni.linux_amd64_ssl16069453053884461735.so: Error loading shared library libc++.so.1: No such file or directory (needed by /tmp/tdlight-java-natives15557113517622973995/libtdjni.linux_amd64_ssl16069453053884461735.so)\r\n                        at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n                        at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:383)\r\n                        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:227)\r\n                        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:169)\r\n                        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2383)\r\n                        at java.base/java.lang.Runtime.load0(Runtime.java:746)\r\n                        at java.base/java.lang.System.load(System.java:1857)\r\n                        at it.tdlight.util.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:21)\r\n                        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n                        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n                        at it.tdlight.util.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:468)\r\n                        at it.tdlight.util.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:431)\r\n                        ... 7 more\r\n                Suppressed: java.lang.UnsatisfiedLinkError: no tdjni.linux_amd64_ssl1 in java.library.path: /usr/lib:/usr/lib/bin\r\n                        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2423)\r\n                        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:808)\r\n                        at java.base/java.lang.System.loadLibrary(System.java:1893)\r\n                        at it.tdlight.util.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:23)\r\n                        at it.tdlight.util.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:439)\r\n                        at it.tdlight.util.NativeLibraryLoader.load(NativeLibraryLoader.java:179)\r\n                        ... 6 more\r\n                        Suppressed: java.lang.UnsatisfiedLinkError: no tdjni.linux_amd64_ssl1 in java.library.path: /usr/lib:/usr/lib/bin\r\n                                at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2423)\r\n                                at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:808)\r\n                                at java.base/java.lang.System.loadLibrary(System.java:1893)\r\n                                at it.tdlight.util.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:23)\r\n                                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n                                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n                                at it.tdlight.util.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:468)\r\n                                at it.tdlight.util.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:431)\r\n                                ... 7 more\r\n\r\n... ... ...\r\n\r\nSuppressed: java.lang.UnsatisfiedLinkError: could not load a native library: tdjni\r\n                at it.tdlight.util.NativeLibraryLoader.load(NativeLibraryLoader.java:257)\r\n                at it.tdlight.util.Native.loadLibrary(Native.java:58)\r\n                ... 4 more\r\n        Caused by: java.io.FileNotFoundException: META-INF/tdlightjni/libtdjni.so\r\n                at it.tdlight.util.NativeLibraryLoader.load(NativeLibraryLoader.java:204)\r\n                ... 5 more\r\n                Suppressed: java.lang.UnsatisfiedLinkError: no tdjni in java.library.path: /usr/lib:/usr/lib/bin\r\n                        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2423)\r\n                        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:808)\r\n                        at java.base/java.lang.System.loadLibrary(System.java:1893)\r\n                        at it.tdlight.util.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:23)\r\n                        at it.tdlight.util.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:439)\r\n                        at it.tdlight.util.NativeLibraryLoader.load(NativeLibraryLoader.java:179)\r\n                        ... 5 more\r\n                        Suppressed: java.lang.UnsatisfiedLinkError: no tdjni in java.library.path: /usr/lib:/usr/lib/bin\r\n                                at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2423)\r\n                                at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:808)\r\n                                at java.base/java.lang.System.loadLibrary(System.java:1893)\r\n                                at it.tdlight.util.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:23)\r\n                                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n                                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n                                at it.tdlight.util.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:468)\r\n                                at it.tdlight.util.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:431)\r\n                                ... 6 more\r\n```\r\nThis means that precompiled natives are not accessible in my jar file. Then I decided to build `tdjni` native inside my Docker image. I took the build commands from here: https://tdlight-team.github.io/tdlight/build.html?language=Kotlin  \r\nand created the following Dockerfile:\r\n```\r\nFROM openjdk:17-alpine\r\nARG VER=$VER\r\nENV VER=$VER\r\nENV JAVA_OPTS=-Xmx1g\r\nRUN echo &quot;Version = $VER&quot;\r\nRUN echo &quot;JAVA_HOME = $JAVA_HOME&quot;\r\n\r\nRUN apk update &amp;&amp; \\\r\n    apk upgrade &amp;&amp; \\\r\n    apk add --update alpine-sdk linux-headers git zlib-dev openssl-dev gperf php cmake openjdk8 &amp;&amp; \\\r\n    git clone https://github.com/tdlight-team/tdlight.git &amp;&amp; \\\r\n    cd tdlight &amp;&amp; \\\r\n    rm -rf build &amp;&amp; \\\r\n    mkdir build &amp;&amp; \\\r\n    cd build &amp;&amp; \\\r\n    cmake -DCMAKE_BUILD_TYPE=Release -DJAVA_HOME=/usr/lib/jvm/java-1.8-openjdk/ -DCMAKE_INSTALL_PREFIX:PATH=../example/java/td -DTD_ENABLE_JNI=ON .. &amp;&amp; \\\r\n    cmake --build . --target install &amp;&amp; \\\r\n    cd .. &amp;&amp; \\\r\n    cd example/java &amp;&amp; \\\r\n    rm -rf build &amp;&amp; \\\r\n    mkdir build &amp;&amp; \\\r\n    cd build &amp;&amp; \\\r\n    cmake -DCMAKE_BUILD_TYPE=Release -DJAVA_HOME=/usr/lib/jvm/java-1.8-openjdk/ -DCMAKE_INSTALL_PREFIX:PATH=/usr/local -DTd_DIR:PATH=$(readlink -f ../td/lib/cmake/Td) .. &amp;&amp; \\\r\n    cmake --build . --target install &amp;&amp; \\\r\n    cd ../../.. &amp;&amp; \\\r\n    cd .. &amp;&amp; \\\r\n    ls -l /usr/local\r\n\r\nCMD [&quot;/bin/sh&quot;]\r\n```\r\n**But result remained the same.**  \r\nThen I specified the path to my built `tdjni` when starting jar inside new container:  \r\n`java -Djava.library.path=/usr/local:/usr/local/bin -jar /d/work/otus/repos/watchbot/build/libs/watchbot-1.0-SNAPSHOT-all.jar`  \r\nLibrary was found this time:\r\n```\r\n[ 1][t 0][1688555466.113252401][tl_jni_object.cpp:39]   Can&#39;t find class [org/drinkless/tdlib/Client]\r\nFATAL ERROR in native method: Can&#39;t find class [org/drinkless/tdlib/Client]\r\n        at jdk.internal.loader.NativeLibraries.load(java.base@17-ea/Native Method)\r\n        at jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(java.base@17-ea/NativeLibraries.java:383)\r\n        at jdk.internal.loader.NativeLibraries.loadLibrary(java.base@17-ea/NativeLibraries.java:227)\r\n        - locked &lt;0x0000000083d6d970&gt; (a java.util.HashSet)\r\n        at jdk.internal.loader.NativeLibraries.loadLibrary(java.base@17-ea/NativeLibraries.java:169)\r\n        at jdk.internal.loader.NativeLibraries.findFromPaths(java.base@17-ea/NativeLibraries.java:310)\r\n        at jdk.internal.loader.NativeLibraries.loadLibrary(java.base@17-ea/NativeLibraries.java:282)\r\n        at java.lang.ClassLoader.loadLibrary(java.base@17-ea/ClassLoader.java:2416)\r\n        at java.lang.Runtime.loadLibrary0(java.base@17-ea/Runtime.java:808)\r\n        at java.lang.System.loadLibrary(java.base@17-ea/System.java:1893)\r\n        at it.tdlight.util.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:23)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(java.base@17-ea/Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(java.base@17-ea/NativeMethodAccessorImpl.java:78)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(java.base@17-ea/DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(java.base@17-ea/Method.java:568)\r\n        at it.tdlight.util.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:468)\r\n        at it.tdlight.util.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:431)\r\n        at it.tdlight.util.NativeLibraryLoader.load(NativeLibraryLoader.java:179)\r\n        at it.tdlight.util.Native.loadLibrary(Native.java:58)\r\n        at it.tdlight.util.Native.loadNativesInternal(Native.java:37)\r\n        at it.tdlight.Init.init(Init.java:53)\r\n        at name.nepavel.otus.watchbot.MainKt.main(Main.kt:43)\r\n        at name.nepavel.otus.watchbot.MainKt.main(Main.kt)\r\nAborted\r\n```\r\nWhy it requires `org/drinkless/tdlib/Client` while I&#39;m using TDLight, which should contain TDLib API? I decided to &quot;show him&quot; where the TDLib compiled Java classes are located (they were created by build commands):  \r\n`java -Djava.library.path=/usr/local:/usr/local/bin -cp /d/work/otus/repos/watchbot/build/libs/watchbot-1.0-SNAPSHOT-all.jar:/usr/local/bin name.nepavel.otus.watchbot.MainKt`  \r\nand got:\r\n```\r\n11:12:21.898 [main] ERROR it.tdlight.TDLight - Can&#39;t set verbosity level on startup\r\njava.lang.UnsatisfiedLinkError: &#39;it.tdlight.jni.TdApi$Object it.tdlight.tdnative.NativeClient.nativeClientExecute(it.tdlight.jni.TdApi$Function)&#39;\r\n        at it.tdlight.tdnative.NativeClient.nativeClientExecute(Native Method) ~[watchbot-1.0-SNAPSHOT-all.jar:?]\r\n        at it.tdlight.NativeClientAccess.execute(NativeClientAccess.java:14) ~[watchbot-1.0-SNAPSHOT-all.jar:?]\r\n        at it.tdlight.Init.init(Init.java:56) [watchbot-1.0-SNAPSHOT-all.jar:?]\r\n        at name.nepavel.otus.watchbot.MainKt.main(Main.kt:43) [watchbot-1.0-SNAPSHOT-all.jar:?]\r\n        at name.nepavel.otus.watchbot.MainKt.main(Main.kt) [watchbot-1.0-SNAPSHOT-all.jar:?]\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &#39;int it.tdlight.tdnative.NativeClient.createNativeClient()&#39;\r\n        at it.tdlight.tdnative.NativeClient.createNativeClient(Native Method)\r\n        at it.tdlight.NativeClientAccess.create(NativeClientAccess.java:10)\r\n        at it.tdlight.InternalClient.createAndRegisterClient(InternalClient.java:160)\r\n        at it.tdlight.InternalClient.initialize(InternalClient.java:149)\r\n        at it.tdlight.AutoCleaningTelegramClient.initialize(AutoCleaningTelegramClient.java:46)\r\n        at name.nepavel.otus.watchbot.MainKt.main(Main.kt:48)\r\n        at name.nepavel.otus.watchbot.MainKt.main(Main.kt)\r\n```\r\nNow it looks like TDLight expects another version of TDLib native (as far as I can see). What am I doing wrong? How to make it work?\r\n\r\nI have tried different base images, different JAVA_HOME, different JDK from 11 to 17, \r\ndifferent TDLight dependencies in build.gradle, but nothing changed. I suppose that the mistake is small and stupid, but I can&#39;t find it by myself.","title":"Can&#39;t use TDLight (TDLib fork) in Java","body":"<p>please help. 2 days wasted for this problem :(</p>\n<p>I'm creating Telegram bot in Java using <a href=\"https://github.com/tdlight-team/tdlight\" rel=\"nofollow noreferrer\">https://github.com/tdlight-team/tdlight</a>.<br />\nI created Gradle project, built jar, and now trying to run it in Docker image <code>FROM openjdk:17-alpine</code></p>\n<p>Some important things from <code>build.gradle</code>:</p>\n<pre><code>buildscript {\n    apply from: 'versions.gradle'\n    repositories {\n        mavenCentral()\n        maven { url &quot;https://plugins.gradle.org/m2/&quot; }\n        maven { url &quot;https://mvn.mchv.eu/repository/mchv/&quot; }\n        jcenter()\n    }\n    dependencies {\n        classpath(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;)\n        classpath(&quot;org.jetbrains.kotlin:kotlin-stdlib-common:$kotlin_version&quot;)\n    }\n}\nplugins {\n    id 'org.jetbrains.kotlin.jvm' version &quot;$kotlin_version&quot;\n    id 'org.jetbrains.kotlin.plugin.serialization' version &quot;$kotlin_version&quot;\n    id &quot;com.github.johnrengelman.shadow&quot; version '7.1.2'\n}\ndependencies {\n//    implementation &quot;org.telegram:telegrambots:${versions.telegram}&quot;\n    implementation platform(&quot;it.tdlight:tdlight-java-bom:${versions.tdLight}&quot;)\n    implementation group: 'it.tdlight', name: 'tdlight-java', classifier: 'jdk8' // Java 8 is supported if you use the following dependency classifier: `jdk8`\n//    implementation group: 'it.tdlight', name: 'tdlight-natives', classifier: 'linux_amd64_gcc_ssl1'\n//    implementation group: 'it.tdlight', name: 'tdlight-natives', classifier: 'linux_amd64_gcc_ssl3'\n    implementation group: 'it.tdlight', name: 'tdlight-natives', classifier: 'windows_amd64'\n    implementation group: 'it.tdlight', name: 'tdlight-natives', classifier: 'linux_amd64_ssl1'\n    implementation group: 'it.tdlight', name: 'tdlight-natives', classifier: 'linux_amd64_ssl3'\n\n    implementation &quot;com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:${versions.jackson}&quot;\n    implementation &quot;com.fasterxml.jackson.core:jackson-databind:${versions.jackson}&quot;\n    implementation &quot;com.sksamuel.hoplite:hoplite-core:${versions.hoplite}&quot; //to read properties\n    implementation &quot;com.sksamuel.hoplite:hoplite-yaml:${versions.hoplite}&quot; //to read yaml-properties\n\n//...\n\nkotlin {\n    jvmToolchain(11)\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = '11'\n}\n\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = '11'\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'name.nepavel.otus.watchbot.MainKt'\n    }\n}\n\nshadowJar {\n    archiveVersion.set(project.version)\n}\n\n</code></pre>\n<p>Almost everything is exactly as in TDLight <code>readme.md</code>.\nThen I connected to Docker container's shell and run:<br />\n<code>docker run -v D:\\:/d -it --entrypoint /bin/sh --name open17 norg/openjdk-17</code></p>\n<pre><code>/ # java -version\nopenjdk version &quot;17-ea&quot; 2021-09-14\nOpenJDK Runtime Environment (build 17-ea+14)\nOpenJDK 64-Bit Server VM (build 17-ea+14, mixed mode, sharing)\n</code></pre>\n<p><code>java -jar /d/work/otus/repos/watchbot/build/libs/watchbot-1.0-SNAPSHOT-all.jar</code><br />\nAnd got a long stacktrace:</p>\n<pre><code>Exception in thread &quot;main&quot; it.tdlight.util.UnsupportedNativeLibraryException: Failed to load TDLight native libraries\n        at it.tdlight.util.Native.loadLibrary(Native.java:65)\n        at it.tdlight.util.Native.loadNativesInternal(Native.java:37)\n        at it.tdlight.Init.init(Init.java:53)\n        at name.nepavel.otus.watchbot.MainKt.main(Main.kt:43)\n        at name.nepavel.otus.watchbot.MainKt.main(Main.kt)\nCaused by: java.lang.IllegalArgumentException: Failed to load any of the given libraries: [tdjni.linux_amd64_ssl1, tdjni.linux_amd64_ssl3, tdjni.linux_amd64_gcc_ssl1, tdjni.linux_amd64_gcc_ssl3]\n        at it.tdlight.util.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:132)\n        at it.tdlight.util.Native.loadLibrary(Native.java:55)\n        ... 4 more\n        Suppressed: java.lang.UnsatisfiedLinkError: /tmp/tdlight-java-natives15557113517622973995/libtdjni.linux_amd64_ssl16069453053884461735.so: Error loading shared library libc++.so.1: No such file or directory (needed by /tmp/tdlight-java-natives15557113517622973995/libtdjni.linux_amd64_ssl16069453053884461735.so)\n                at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n                at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:383)\n                at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:227)\n                at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:169)\n                at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2383)\n                at java.base/java.lang.Runtime.load0(Runtime.java:746)\n                at java.base/java.lang.System.load(System.java:1857)\n                at it.tdlight.util.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:21)\n                at it.tdlight.util.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:439)\n                at it.tdlight.util.NativeLibraryLoader.load(NativeLibraryLoader.java:236)\n                at it.tdlight.util.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:123)\n                ... 5 more\n                Suppressed: java.lang.UnsatisfiedLinkError: /tmp/tdlight-java-natives15557113517622973995/libtdjni.linux_amd64_ssl16069453053884461735.so: Error loading shared library libc++.so.1: No such file or directory (needed by /tmp/tdlight-java-natives15557113517622973995/libtdjni.linux_amd64_ssl16069453053884461735.so)\n                        at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n                        at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:383)\n                        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:227)\n                        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:169)\n                        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2383)\n                        at java.base/java.lang.Runtime.load0(Runtime.java:746)\n                        at java.base/java.lang.System.load(System.java:1857)\n                        at it.tdlight.util.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:21)\n                        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n                        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n                        at it.tdlight.util.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:468)\n                        at it.tdlight.util.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:431)\n                        ... 7 more\n                Suppressed: java.lang.UnsatisfiedLinkError: no tdjni.linux_amd64_ssl1 in java.library.path: /usr/lib:/usr/lib/bin\n                        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2423)\n                        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:808)\n                        at java.base/java.lang.System.loadLibrary(System.java:1893)\n                        at it.tdlight.util.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:23)\n                        at it.tdlight.util.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:439)\n                        at it.tdlight.util.NativeLibraryLoader.load(NativeLibraryLoader.java:179)\n                        ... 6 more\n                        Suppressed: java.lang.UnsatisfiedLinkError: no tdjni.linux_amd64_ssl1 in java.library.path: /usr/lib:/usr/lib/bin\n                                at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2423)\n                                at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:808)\n                                at java.base/java.lang.System.loadLibrary(System.java:1893)\n                                at it.tdlight.util.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:23)\n                                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n                                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n                                at it.tdlight.util.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:468)\n                                at it.tdlight.util.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:431)\n                                ... 7 more\n\n... ... ...\n\nSuppressed: java.lang.UnsatisfiedLinkError: could not load a native library: tdjni\n                at it.tdlight.util.NativeLibraryLoader.load(NativeLibraryLoader.java:257)\n                at it.tdlight.util.Native.loadLibrary(Native.java:58)\n                ... 4 more\n        Caused by: java.io.FileNotFoundException: META-INF/tdlightjni/libtdjni.so\n                at it.tdlight.util.NativeLibraryLoader.load(NativeLibraryLoader.java:204)\n                ... 5 more\n                Suppressed: java.lang.UnsatisfiedLinkError: no tdjni in java.library.path: /usr/lib:/usr/lib/bin\n                        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2423)\n                        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:808)\n                        at java.base/java.lang.System.loadLibrary(System.java:1893)\n                        at it.tdlight.util.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:23)\n                        at it.tdlight.util.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:439)\n                        at it.tdlight.util.NativeLibraryLoader.load(NativeLibraryLoader.java:179)\n                        ... 5 more\n                        Suppressed: java.lang.UnsatisfiedLinkError: no tdjni in java.library.path: /usr/lib:/usr/lib/bin\n                                at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2423)\n                                at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:808)\n                                at java.base/java.lang.System.loadLibrary(System.java:1893)\n                                at it.tdlight.util.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:23)\n                                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n                                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n                                at it.tdlight.util.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:468)\n                                at it.tdlight.util.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:431)\n                                ... 6 more\n</code></pre>\n<p>This means that precompiled natives are not accessible in my jar file. Then I decided to build <code>tdjni</code> native inside my Docker image. I took the build commands from here: <a href=\"https://tdlight-team.github.io/tdlight/build.html?language=Kotlin\" rel=\"nofollow noreferrer\">https://tdlight-team.github.io/tdlight/build.html?language=Kotlin</a><br />\nand created the following Dockerfile:</p>\n<pre><code>FROM openjdk:17-alpine\nARG VER=$VER\nENV VER=$VER\nENV JAVA_OPTS=-Xmx1g\nRUN echo &quot;Version = $VER&quot;\nRUN echo &quot;JAVA_HOME = $JAVA_HOME&quot;\n\nRUN apk update &amp;&amp; \\\n    apk upgrade &amp;&amp; \\\n    apk add --update alpine-sdk linux-headers git zlib-dev openssl-dev gperf php cmake openjdk8 &amp;&amp; \\\n    git clone https://github.com/tdlight-team/tdlight.git &amp;&amp; \\\n    cd tdlight &amp;&amp; \\\n    rm -rf build &amp;&amp; \\\n    mkdir build &amp;&amp; \\\n    cd build &amp;&amp; \\\n    cmake -DCMAKE_BUILD_TYPE=Release -DJAVA_HOME=/usr/lib/jvm/java-1.8-openjdk/ -DCMAKE_INSTALL_PREFIX:PATH=../example/java/td -DTD_ENABLE_JNI=ON .. &amp;&amp; \\\n    cmake --build . --target install &amp;&amp; \\\n    cd .. &amp;&amp; \\\n    cd example/java &amp;&amp; \\\n    rm -rf build &amp;&amp; \\\n    mkdir build &amp;&amp; \\\n    cd build &amp;&amp; \\\n    cmake -DCMAKE_BUILD_TYPE=Release -DJAVA_HOME=/usr/lib/jvm/java-1.8-openjdk/ -DCMAKE_INSTALL_PREFIX:PATH=/usr/local -DTd_DIR:PATH=$(readlink -f ../td/lib/cmake/Td) .. &amp;&amp; \\\n    cmake --build . --target install &amp;&amp; \\\n    cd ../../.. &amp;&amp; \\\n    cd .. &amp;&amp; \\\n    ls -l /usr/local\n\nCMD [&quot;/bin/sh&quot;]\n</code></pre>\n<p><strong>But result remained the same.</strong><br />\nThen I specified the path to my built <code>tdjni</code> when starting jar inside new container:<br />\n<code>java -Djava.library.path=/usr/local:/usr/local/bin -jar /d/work/otus/repos/watchbot/build/libs/watchbot-1.0-SNAPSHOT-all.jar</code><br />\nLibrary was found this time:</p>\n<pre><code>[ 1][t 0][1688555466.113252401][tl_jni_object.cpp:39]   Can't find class [org/drinkless/tdlib/Client]\nFATAL ERROR in native method: Can't find class [org/drinkless/tdlib/Client]\n        at jdk.internal.loader.NativeLibraries.load(java.base@17-ea/Native Method)\n        at jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(java.base@17-ea/NativeLibraries.java:383)\n        at jdk.internal.loader.NativeLibraries.loadLibrary(java.base@17-ea/NativeLibraries.java:227)\n        - locked &lt;0x0000000083d6d970&gt; (a java.util.HashSet)\n        at jdk.internal.loader.NativeLibraries.loadLibrary(java.base@17-ea/NativeLibraries.java:169)\n        at jdk.internal.loader.NativeLibraries.findFromPaths(java.base@17-ea/NativeLibraries.java:310)\n        at jdk.internal.loader.NativeLibraries.loadLibrary(java.base@17-ea/NativeLibraries.java:282)\n        at java.lang.ClassLoader.loadLibrary(java.base@17-ea/ClassLoader.java:2416)\n        at java.lang.Runtime.loadLibrary0(java.base@17-ea/Runtime.java:808)\n        at java.lang.System.loadLibrary(java.base@17-ea/System.java:1893)\n        at it.tdlight.util.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:23)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(java.base@17-ea/Native Method)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(java.base@17-ea/NativeMethodAccessorImpl.java:78)\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(java.base@17-ea/DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(java.base@17-ea/Method.java:568)\n        at it.tdlight.util.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:468)\n        at it.tdlight.util.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:431)\n        at it.tdlight.util.NativeLibraryLoader.load(NativeLibraryLoader.java:179)\n        at it.tdlight.util.Native.loadLibrary(Native.java:58)\n        at it.tdlight.util.Native.loadNativesInternal(Native.java:37)\n        at it.tdlight.Init.init(Init.java:53)\n        at name.nepavel.otus.watchbot.MainKt.main(Main.kt:43)\n        at name.nepavel.otus.watchbot.MainKt.main(Main.kt)\nAborted\n</code></pre>\n<p>Why it requires <code>org/drinkless/tdlib/Client</code> while I'm using TDLight, which should contain TDLib API? I decided to &quot;show him&quot; where the TDLib compiled Java classes are located (they were created by build commands):<br />\n<code>java -Djava.library.path=/usr/local:/usr/local/bin -cp /d/work/otus/repos/watchbot/build/libs/watchbot-1.0-SNAPSHOT-all.jar:/usr/local/bin name.nepavel.otus.watchbot.MainKt</code><br />\nand got:</p>\n<pre><code>11:12:21.898 [main] ERROR it.tdlight.TDLight - Can't set verbosity level on startup\njava.lang.UnsatisfiedLinkError: 'it.tdlight.jni.TdApi$Object it.tdlight.tdnative.NativeClient.nativeClientExecute(it.tdlight.jni.TdApi$Function)'\n        at it.tdlight.tdnative.NativeClient.nativeClientExecute(Native Method) ~[watchbot-1.0-SNAPSHOT-all.jar:?]\n        at it.tdlight.NativeClientAccess.execute(NativeClientAccess.java:14) ~[watchbot-1.0-SNAPSHOT-all.jar:?]\n        at it.tdlight.Init.init(Init.java:56) [watchbot-1.0-SNAPSHOT-all.jar:?]\n        at name.nepavel.otus.watchbot.MainKt.main(Main.kt:43) [watchbot-1.0-SNAPSHOT-all.jar:?]\n        at name.nepavel.otus.watchbot.MainKt.main(Main.kt) [watchbot-1.0-SNAPSHOT-all.jar:?]\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: 'int it.tdlight.tdnative.NativeClient.createNativeClient()'\n        at it.tdlight.tdnative.NativeClient.createNativeClient(Native Method)\n        at it.tdlight.NativeClientAccess.create(NativeClientAccess.java:10)\n        at it.tdlight.InternalClient.createAndRegisterClient(InternalClient.java:160)\n        at it.tdlight.InternalClient.initialize(InternalClient.java:149)\n        at it.tdlight.AutoCleaningTelegramClient.initialize(AutoCleaningTelegramClient.java:46)\n        at name.nepavel.otus.watchbot.MainKt.main(Main.kt:48)\n        at name.nepavel.otus.watchbot.MainKt.main(Main.kt)\n</code></pre>\n<p>Now it looks like TDLight expects another version of TDLib native (as far as I can see). What am I doing wrong? How to make it work?</p>\n<p>I have tried different base images, different JAVA_HOME, different JDK from 11 to 17,\ndifferent TDLight dependencies in build.gradle, but nothing changed. I suppose that the mistake is small and stupid, but I can't find it by myself.</p>\n"},{"tags":["java","android","usb","hid"],"owner":{"account_id":22916246,"reputation":3,"user_id":17052799,"display_name":"Yonatan Shkolsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693311465,"creation_date":1693311465,"question_id":77000135,"body_markdown":"I am working on a smart home system in Android that controls electronic devices.\r\n For my Android project, I&#39;ve utilized what I believe to be the USB relay board ([USB Relay 2 Channel ][2]) to manage various purifiers. These purifiers are connected to several Android devices, all integrated into my smart home system.\r\nI got help on how to communicate with this board from this post : [POST][1]\r\n\r\nHowever, I&#39;ve come across an unusual issue. Every few days, the relay stops responding to the commands I send. To address this problem, I&#39;ve attempted the following troubleshooting steps:\r\n\r\n1. Closing and reopening the app.\r\n2. Switching to different Android devices.\r\n3. Trying different relay boards. \r\n\r\nUnfortunately, none of these steps have proven effective. The only actions that have resolved the issue are rebooting the Android device or disconnecting and reconnecting the relay board.\r\n\r\nI&#39;m eager to know if anyone else has encountered this particular bug. Is there a restart command for this board that could potentially &quot;wake it up&quot;?\r\n\r\nI&#39;ve included the code snippet below, which I use to set the relay state within my project:\r\n\r\n\r\n    private int setRelay(E_RELAY_NUMBER_TYPES relayChannel, boolean state, int retries) throws IOException {\r\n        int status;\r\n        do {\r\n            byte channelValue = relayChannel == E_RELAY_NUMBER_TYPES.CHANNEL_1 ? (byte) 0x01 : (byte) 0x02;\r\n            if (state) {\r\n                byte[] openRelayBuffer = {(byte) 0xff, channelValue, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00};\r\n                status = deviceConnection.controlTransfer(0x21, 0x09, 0x0300, 0x00, openRelayBuffer, openRelayBuffer.length, 500);\r\n            } else {\r\n                byte[] closeRelayBuffer = {(byte) 0xfd, channelValue, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00};\r\n                status = deviceConnection.controlTransfer(0x21, 0x01, 0x0300, 0x00, closeRelayBuffer, closeRelayBuffer.length, 500);\r\n            }\r\n        } while ((status &lt; 0) &amp;&amp; connect() &amp;&amp; retries++ &lt; 5);\r\n        return status;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33364402/control-relay-over-usb-from-android\r\n  [2]: https://www.ebay.com/itm/273207402810?hash=item3f9c6e213a:g:~tkAAOSwojBdbkIm&amp;amdata=enc%3AAQAIAAABIDZkBo4mqYvUWNggICFbC0qqhbVc4GmPhba%2B4kMwFnwL71yn2q%2FkO1JdXIC1Ym4VSBChezwq5RhTCHKbyyxK8dwfrPurF8Z3j0%2Bolx0UMaROxSWvmT9d0%2FYJK5Ync5cciMjmKmJtiCMrnRfvKugOYB33vlffe1WXi8gVz4uWtQPJpaKPryn8LCVASEmuztuIgm0ogceRRW2ov5SiZiGJhoaO6MFIYPs5vIO4H686KP7nZXHb%2BPCUvYbtNaRROT8cTYoKlIqak1mEWYTLG%2BTv6le5onuInGyG%2FApuT2XXuZz3%2FWC9UnChCQxSNik86Yc5DkJDHYCcCKa4P7B6BbDiXXdgBjFh%2BWrtn%2FbQSSvw6cmAoMUvkmFPoLWu%2F69R5lIRKA%3D%3D%7Ctkp%3ABk9SR_qpu4LIYg","title":"Manage relay control through USB within a smart home setup","body":"<p>I am working on a smart home system in Android that controls electronic devices.\nFor my Android project, I've utilized what I believe to be the USB relay board (<a href=\"https://www.ebay.com/itm/273207402810?hash=item3f9c6e213a:g:%7EtkAAOSwojBdbkIm&amp;amdata=enc%3AAQAIAAABIDZkBo4mqYvUWNggICFbC0qqhbVc4GmPhba%2B4kMwFnwL71yn2q%2FkO1JdXIC1Ym4VSBChezwq5RhTCHKbyyxK8dwfrPurF8Z3j0%2Bolx0UMaROxSWvmT9d0%2FYJK5Ync5cciMjmKmJtiCMrnRfvKugOYB33vlffe1WXi8gVz4uWtQPJpaKPryn8LCVASEmuztuIgm0ogceRRW2ov5SiZiGJhoaO6MFIYPs5vIO4H686KP7nZXHb%2BPCUvYbtNaRROT8cTYoKlIqak1mEWYTLG%2BTv6le5onuInGyG%2FApuT2XXuZz3%2FWC9UnChCQxSNik86Yc5DkJDHYCcCKa4P7B6BbDiXXdgBjFh%2BWrtn%2FbQSSvw6cmAoMUvkmFPoLWu%2F69R5lIRKA%3D%3D%7Ctkp%3ABk9SR_qpu4LIYg\" rel=\"nofollow noreferrer\">USB Relay 2 Channel </a>) to manage various purifiers. These purifiers are connected to several Android devices, all integrated into my smart home system.\nI got help on how to communicate with this board from this post : <a href=\"https://stackoverflow.com/questions/33364402/control-relay-over-usb-from-android\">POST</a></p>\n<p>However, I've come across an unusual issue. Every few days, the relay stops responding to the commands I send. To address this problem, I've attempted the following troubleshooting steps:</p>\n<ol>\n<li>Closing and reopening the app.</li>\n<li>Switching to different Android devices.</li>\n<li>Trying different relay boards.</li>\n</ol>\n<p>Unfortunately, none of these steps have proven effective. The only actions that have resolved the issue are rebooting the Android device or disconnecting and reconnecting the relay board.</p>\n<p>I'm eager to know if anyone else has encountered this particular bug. Is there a restart command for this board that could potentially &quot;wake it up&quot;?</p>\n<p>I've included the code snippet below, which I use to set the relay state within my project:</p>\n<pre><code>private int setRelay(E_RELAY_NUMBER_TYPES relayChannel, boolean state, int retries) throws IOException {\n    int status;\n    do {\n        byte channelValue = relayChannel == E_RELAY_NUMBER_TYPES.CHANNEL_1 ? (byte) 0x01 : (byte) 0x02;\n        if (state) {\n            byte[] openRelayBuffer = {(byte) 0xff, channelValue, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00};\n            status = deviceConnection.controlTransfer(0x21, 0x09, 0x0300, 0x00, openRelayBuffer, openRelayBuffer.length, 500);\n        } else {\n            byte[] closeRelayBuffer = {(byte) 0xfd, channelValue, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00};\n            status = deviceConnection.controlTransfer(0x21, 0x01, 0x0300, 0x00, closeRelayBuffer, closeRelayBuffer.length, 500);\n        }\n    } while ((status &lt; 0) &amp;&amp; connect() &amp;&amp; retries++ &lt; 5);\n    return status;\n}\n</code></pre>\n"},{"tags":["java","spring","junit"],"answers":[{"tags":[],"owner":{"account_id":10919701,"reputation":543,"user_id":8026433,"accept_rate":100,"display_name":"Mike K."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1598057097,"creation_date":1598057097,"answer_id":63531566,"question_id":63530656,"body_markdown":"Just make a new test and have it call springBeanPointcut()","title":"How do you write a JUnit test for an empty function Pointcut","body":"<p>Just make a new test and have it call springBeanPointcut()</p>\n"},{"tags":[],"owner":{"account_id":357773,"reputation":169,"user_id":698151,"accept_rate":42,"display_name":"Saran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693311294,"creation_date":1693311294,"answer_id":77000112,"question_id":63530656,"body_markdown":"Try this\r\n\r\n    @SpringBootTest\r\n    class LoggingTest {\r\n    \r\n        @Autowired\r\n        private Logging log;\r\n        \r\n        @Test\r\n        void springBeanPointcutTest(){\r\n            log.springBeanPointcut();\r\n            assertTrue(true);\r\n        }\r\n    }","title":"How do you write a JUnit test for an empty function Pointcut","body":"<p>Try this</p>\n<pre><code>@SpringBootTest\nclass LoggingTest {\n\n    @Autowired\n    private Logging log;\n    \n    @Test\n    void springBeanPointcutTest(){\n        log.springBeanPointcut();\n        assertTrue(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18510598,"reputation":305,"user_id":13485891,"display_name":"Stormy Weather"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":63531566,"answer_count":2,"score":1,"last_activity_date":1693311294,"creation_date":1598047926,"question_id":63530656,"body_markdown":"I am trying to write a JUnit test for this method. I am not familiar with Pointcut. Any advice? \r\n\r\n```\r\n /**\r\n     * Pointcut that matches all repositories, services and Web REST endpoints.\r\n     */\r\n    @Pointcut(&quot;within(@org.springframework.stereotype.Repository *)&quot; +\r\n        &quot; || within(@org.springframework.stereotype.Service *)&quot; +\r\n        &quot; || within(@org.springframework.web.bind.annotation.RestController *)&quot;)\r\n    public void springBeanPointcut() {\r\n        // Method is empty as this is just a Pointcut, the implementations are in the advices.\r\n    }\r\n```","title":"How do you write a JUnit test for an empty function Pointcut","body":"<p>I am trying to write a JUnit test for this method. I am not familiar with Pointcut. Any advice?</p>\n<pre><code> /**\n     * Pointcut that matches all repositories, services and Web REST endpoints.\n     */\n    @Pointcut(&quot;within(@org.springframework.stereotype.Repository *)&quot; +\n        &quot; || within(@org.springframework.stereotype.Service *)&quot; +\n        &quot; || within(@org.springframework.web.bind.annotation.RestController *)&quot;)\n    public void springBeanPointcut() {\n        // Method is empty as this is just a Pointcut, the implementations are in the advices.\n    }\n</code></pre>\n"},{"tags":["java","pojo","jsonschema2pojo"],"owner":{"account_id":16421928,"reputation":1,"user_id":11862917,"display_name":"Gjorgi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693311213,"creation_date":1693310530,"question_id":77000024,"body_markdown":"The folowing json was turned into an enum with version 1.0.2 but not with any version after that.\r\n\r\n```\r\n{\r\n  &quot;title&quot;: &quot;ApiErrorCode&quot;,\r\n  &quot;description&quot;: &quot;&quot;,\r\n  &quot;type&quot;: &quot;integer&quot;,\r\n  &quot;format&quot;: &quot;int32&quot;,\r\n  &quot;existingJavaType&quot;: &quot;java.lang.Integer&quot;,\r\n  &quot;javaType&quot;: &quot;com.hristovski.gjorgi.api.ApiErrorCode&quot;,\r\n  &quot;enum&quot;: [\r\n    400,\r\n    402,\r\n    403,\r\n    404,\r\n    500,\r\n    503\r\n  ],\r\n  &quot;javaEnumNames&quot;: [\r\n    &quot;BAD_REQUEST&quot;,\r\n    &quot;INSUFFICIENT_FUNDS&quot;,\r\n    &quot;FORBIDDEN&quot;,\r\n    &quot;NOT_FOUND&quot;,\r\n    &quot;SERVER_ERROR&quot;,\r\n    &quot;SERVICE_UNAVAILABLE&quot;\r\n  ]\r\n}\r\n```\r\n\r\n\r\nMaven is not building it, online and CLI tools also return empty POJO.\r\nBy checking the code it is stated that javaEnumNames cannot me used with javaEnums and it is not.\r\nI cannot find anything that should stop the code from generationg a class file, but it returns empty.\r\n\r\nIn the cli I included DEBUG logs, and they are also not telling me anything.\r\n\r\nThe expected class is\r\n\r\n\r\n```\r\n\r\npackage com.hristovski.gjorgi.api;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonValue;\r\n\r\n\r\n/**\r\n * ApiErrorCode\r\n * &lt;p&gt;\r\n * \r\n * \r\n */\r\npublic enum ApiErrorCode {\r\n\r\n    BAD_REQUEST(400),\r\n    INSUFFICIENT_FUNDS(402),\r\n    FORBIDDEN(403),\r\n    NOT_FOUND(404),\r\n    SERVER_ERROR(500),\r\n    SERVICE_UNAVAILABLE(503);\r\n    private final Integer value;\r\n    private final static Map&lt;Integer, ApiErrorCode&gt; CONSTANTS = new HashMap&lt;Integer, ApiErrorCode&gt;();\r\n\r\n    static {\r\n        for (ApiErrorCode c: values()) {\r\n            CONSTANTS.put(c.value, c);\r\n        }\r\n    }\r\n\r\n    private ApiErrorCode(Integer value) {\r\n        this.value = value;\r\n    }\r\n\r\n    @JsonValue\r\n    public Integer value() {\r\n        return this.value;\r\n    }\r\n\r\n    @JsonCreator\r\n    public static ApiErrorCode fromValue(Integer value) {\r\n        ApiErrorCode constant = CONSTANTS.get(value);\r\n        if (constant == null) {\r\n            throw new IllegalArgumentException((value +&quot;&quot;));\r\n        } else {\r\n            return constant;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\nI have more examples of code that has the same issue.","title":"We have bult ENUM with jsonschema2pojo 1.0.2 but the same json is not created now","body":"<p>The folowing json was turned into an enum with version 1.0.2 but not with any version after that.</p>\n<pre><code>{\n  &quot;title&quot;: &quot;ApiErrorCode&quot;,\n  &quot;description&quot;: &quot;&quot;,\n  &quot;type&quot;: &quot;integer&quot;,\n  &quot;format&quot;: &quot;int32&quot;,\n  &quot;existingJavaType&quot;: &quot;java.lang.Integer&quot;,\n  &quot;javaType&quot;: &quot;com.hristovski.gjorgi.api.ApiErrorCode&quot;,\n  &quot;enum&quot;: [\n    400,\n    402,\n    403,\n    404,\n    500,\n    503\n  ],\n  &quot;javaEnumNames&quot;: [\n    &quot;BAD_REQUEST&quot;,\n    &quot;INSUFFICIENT_FUNDS&quot;,\n    &quot;FORBIDDEN&quot;,\n    &quot;NOT_FOUND&quot;,\n    &quot;SERVER_ERROR&quot;,\n    &quot;SERVICE_UNAVAILABLE&quot;\n  ]\n}\n</code></pre>\n<p>Maven is not building it, online and CLI tools also return empty POJO.\nBy checking the code it is stated that javaEnumNames cannot me used with javaEnums and it is not.\nI cannot find anything that should stop the code from generationg a class file, but it returns empty.</p>\n<p>In the cli I included DEBUG logs, and they are also not telling me anything.</p>\n<p>The expected class is</p>\n<pre><code>\npackage com.hristovski.gjorgi.api;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonValue;\n\n\n/**\n * ApiErrorCode\n * &lt;p&gt;\n * \n * \n */\npublic enum ApiErrorCode {\n\n    BAD_REQUEST(400),\n    INSUFFICIENT_FUNDS(402),\n    FORBIDDEN(403),\n    NOT_FOUND(404),\n    SERVER_ERROR(500),\n    SERVICE_UNAVAILABLE(503);\n    private final Integer value;\n    private final static Map&lt;Integer, ApiErrorCode&gt; CONSTANTS = new HashMap&lt;Integer, ApiErrorCode&gt;();\n\n    static {\n        for (ApiErrorCode c: values()) {\n            CONSTANTS.put(c.value, c);\n        }\n    }\n\n    private ApiErrorCode(Integer value) {\n        this.value = value;\n    }\n\n    @JsonValue\n    public Integer value() {\n        return this.value;\n    }\n\n    @JsonCreator\n    public static ApiErrorCode fromValue(Integer value) {\n        ApiErrorCode constant = CONSTANTS.get(value);\n        if (constant == null) {\n            throw new IllegalArgumentException((value +&quot;&quot;));\n        } else {\n            return constant;\n        }\n    }\n\n}\n\n</code></pre>\n<p>I have more examples of code that has the same issue.</p>\n"},{"tags":["java","github","codeql"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1693093534,"post_id":76959231,"comment_id":135714840,"body_markdown":"Maven should be [installed by default](https://github.com/actions/runner-images/blob/main/images/linux/Ubuntu2204-Readme.md#project-management) on the GitHub hosted runners. Could you try adding a [setup-java](https://github.com/actions/setup-java) step before running CodeQL and see if that solves the issue?","body":"Maven should be <a href=\"https://github.com/actions/runner-images/blob/main/images/linux/Ubuntu2204-Readme.md#project-management\" rel=\"nofollow noreferrer\">installed by default</a> on the GitHub hosted runners. Could you try adding a <a href=\"https://github.com/actions/setup-java\" rel=\"nofollow noreferrer\">setup-java</a> step before running CodeQL and see if that solves the issue?"},{"owner":{"account_id":13524734,"reputation":66,"user_id":9756856,"display_name":"D&#225;niel Kőcs"},"score":0,"creation_date":1693201047,"post_id":76959231,"comment_id":135723605,"body_markdown":"It is not really clear how this tool would install Maven. I copied this part to the code, it failed as the &#39;mvn&#39; command is not present on the system: &quot;steps:\n- uses: actions/checkout@v3\n- uses: actions/setup-java@v3\n  with:\n    distribution: &#39;temurin&#39;\n    java-version: &#39;17&#39;\n    cache: &#39;maven&#39;\n- name: Build with Maven\n  run: mvn -B package --file pom.xml&quot;. Should I use some other config to install?","body":"It is not really clear how this tool would install Maven. I copied this part to the code, it failed as the &#39;mvn&#39; command is not present on the system: &quot;steps: - uses: actions/checkout@v3 - uses: actions/setup-java@v3   with:     distribution: &#39;temurin&#39;     java-version: &#39;17&#39;     cache: &#39;maven&#39; - name: Build with Maven   run: mvn -B package --file pom.xml&quot;. Should I use some other config to install?"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1693253946,"post_id":76959231,"comment_id":135733713,"body_markdown":"Sorry it seems you are right; I assumed maybe the exception message is actually about `mvn` failing due to a missing JDK, but it indeed looks like it cannot even find `mvn` in the first place. Is your GitHub repository public, or if not could you please create a small public demo repository showing the issue?","body":"Sorry it seems you are right; I assumed maybe the exception message is actually about <code>mvn</code> failing due to a missing JDK, but it indeed looks like it cannot even find <code>mvn</code> in the first place. Is your GitHub repository public, or if not could you please create a small public demo repository showing the issue?"},{"owner":{"account_id":13524734,"reputation":66,"user_id":9756856,"display_name":"D&#225;niel Kőcs"},"score":0,"creation_date":1693310703,"post_id":76959231,"comment_id":135741115,"body_markdown":"Issue was found. It seems that the runners used for these repos are built by different images, hence maven was needed to be installed manually.","body":"Issue was found. It seems that the runners used for these repos are built by different images, hence maven was needed to be installed manually."}],"answers":[{"tags":[],"owner":{"account_id":13524734,"reputation":66,"user_id":9756856,"display_name":"D&#225;niel Kőcs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693310922,"creation_date":1693310922,"answer_id":77000070,"question_id":76959231,"body_markdown":"The runners used for this repository and many more were built with minimalistic images. Java and maven needed to be installed manually. For java [https://github.com/actions/setup-java][1] is working and for maven we used `sudo apt-get install -y maven`\r\nAfter these steps Autobuild step and code scan was successful.\r\n\r\n\r\n  [1]: https://github.com/actions/setup-java","title":"Codeql failing to scan github repository storing only java code","body":"<p>The runners used for this repository and many more were built with minimalistic images. Java and maven needed to be installed manually. For java <a href=\"https://github.com/actions/setup-java\" rel=\"nofollow noreferrer\">https://github.com/actions/setup-java</a> is working and for maven we used <code>sudo apt-get install -y maven</code>\nAfter these steps Autobuild step and code scan was successful.</p>\n"}],"owner":{"account_id":13524734,"reputation":66,"user_id":9756856,"display_name":"D&#225;niel Kőcs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693310922,"creation_date":1692775923,"question_id":76959231,"body_markdown":"I&#39;m trying to scan java code with codeql.\r\nIn my repo I have some class files:\r\n\r\n```\r\nsrc/com/org/proj/Main.java\r\nsrc/com/org/proj/Task.java\r\n```\r\nIt&#39;s very simple and was built by Eclipse and I only exported the executable *.jar file from it before.\r\n\r\nNow as I&#39;m trying to scan this by codeql, it was trying to autobuild it without success. After investigating it online I understood that only specific type of projects can work with autobuild hence I went back to Eclipes and converted my project to maven.\r\nNow autobuild.sh (the one used by autobuild) is trying to execute a &#39;mvn&#39; command which I would assume should work and code scan should be successful, but it seems that &#39;mvn&#39; is not found on the system (I thought this is included during the initialization step or somewhere else).\r\nI tried to find a solution how to install maven before executing the autobuild step, but didn&#39;t find solution.\r\nThe error looks like this:\r\n\r\n```\r\n  /opt/hostedtoolcache/CodeQL/2.12.6-20230403/x64/codeql/codeql version --format=terse\r\n  2.12.6\r\n  /opt/hostedtoolcache/CodeQL/2.12.6-20230403/x64/codeql/java/tools/autobuild.sh\r\n  Picked up JAVA_TOOL_OPTIONS:  -Dhttp.keepAlive=false -Dmaven.wagon.http.pool=false\r\n  [2023-08-23 07:27:32] Build directory is .\r\n  [2023-08-23 07:27:32] [autobuild] &gt; mvn clean package -f &quot;pom.xml&quot; -B -V -e -Dfindbugs.skip -Dcheckstyle.skip -Dpmd.skip=true -Dspotbugs.skip -Denforcer.skip -Dmaven.javadoc.skip -DskipTests -Dmaven.test.skip.exec -Dlicense.skip=true -Drat.skip=true -Dspotless.check.skip=true \r\n  Error: 8-23 07:27:32] [autobuild] [ERROR] Error executing command mvn clean package -f &quot;pom.xml&quot; -B -V -e -Dfindbugs.skip -Dcheckstyle.skip -Dpmd.skip=true -Dspotbugs.skip -Denforcer.skip -Dmaven.javadoc.skip -DskipTests -Dmaven.test.skip.exec -Dlicense.skip=true -Drat.skip=true -Dspotless.check.skip=true \r\n                                            com.semmle.util.exception.ResourceError: IOException while executing process with args: [mvn, clean, package, -f, pom.xml, -B, -V, -e, -Dfindbugs.skip, -Dcheckstyle.skip, -Dpmd.skip=true, -Dspotbugs.skip, -Denforcer.skip, -Dmaven.javadoc.skip, -DskipTests, -Dmaven.test.skip.exec, -Dlicense.skip=true, -Drat.skip=true, -Dspotless.check.skip=true]\r\n                                            (eventual cause: IOException &quot;error=2, No such file or directory&quot;)\r\n                                            \tat com.semmle.util.process.AbstractProcessBuilder.execute(AbstractProcessBuilder.java:258)\r\n                                            \tat com.semmle.util.process.AbstractProcessBuilder.execute(AbstractProcessBuilder.java:198)\r\n                                            \tat com.semmle.util.data.CommandLine.run(CommandLine.java:274)\r\n                                            \tat com.semmle.autobuild.AutoBuild.deduceAndRunBuildCommands(AutoBuild.java:189)\r\n                                            \tat com.semmle.autobuild.AutoBuild.runApi(AutoBuild.java:147)\r\n                                            \tat com.semmle.util.process.CliCommand.run(CliCommand.java:62)\r\n                                            \tat com.semmle.util.process.CliCommand.safeRun(CliCommand.java:79)\r\n                                            \tat com.semmle.util.process.VerbCliTool.runImpl(VerbCliTool.java:169)\r\n                                            \tat com.semmle.util.process.VerbCliTool.run(VerbCliTool.java:68)\r\n                                            \tat com.semmle.autobuild.Main.mainApi(Main.java:80)\r\n                                            \tat com.semmle.autobuild.Main.main(Main.java:59)\r\n                                            Caused by: java.io.IOException: Cannot run program &quot;mvn&quot; (in directory &quot;.&quot;): error=2, No such file or directory\r\n                                            \tat java.base/java.lang.ProcessBuilder.start(Unknown Source)\r\n                                            \tat java.base/java.lang.ProcessBuilder.start(Unknown Source)\r\n                                            \tat com.semmle.util.process.AbstractProcessBuilder.execute(AbstractProcessBuilder.java:231)\r\n                                            \t... 10 common frames omitted\r\n                                            Caused by: java.io.IOException: error=2, No such file or directory\r\n                                            \tat java.base/java.lang.ProcessImpl.forkAndExec(Native Method)\r\n                                            \tat java.base/java.lang.ProcessImpl.&lt;init&gt;(Unknown Source)\r\n                                            \tat java.base/java.lang.ProcessImpl.start(Unknown Source)\r\n                                            \t... 13 common frames omitted\r\n  Error: We were unable to automatically build your code. Please replace the call to the autobuild action with your custom build steps. Failure invoking /opt/hostedtoolcache/CodeQL/2.12.6-20230403/x64/codeql/java/tools/autobuild.sh with arguments .\r\n  \r\n        Exit code 254 and error was:\r\n  \r\n        Picked up JAVA_TOOL_OPTIONS:  -Dhttp.keepAlive=false -Dmaven.wagon.http.pool=false\r\n  \r\n```\r\n\r\nand my codeql.yml file looks like this (right now):\r\n\r\n```\r\n# For most projects, this workflow file will not need changing; you simply need\r\n# to commit it to your repository.\r\n#\r\n# You may wish to alter this file to override the set of languages analyzed,\r\n# or to provide custom queries or build logic.\r\n#\r\n# ******** NOTE ********\r\n# We have attempted to detect the languages in your repository. Please check\r\n# the `language` matrix defined below to confirm you have the correct set of\r\n# supported CodeQL languages.\r\n#\r\nname: &quot;CodeQL&quot;\r\n\r\non:\r\n  push:\r\n    branches: [ &quot;master&quot; ]\r\n  pull_request:\r\n    # The branches below must be a subset of the branches above\r\n    branches: [ &quot;master&quot; ]\r\n\r\njobs:\r\n  analyze:\r\n    name: Analyze\r\n    runs-on: [ubuntu-latest]\r\n    permissions:\r\n      actions: read\r\n      contents: read\r\n      security-events: write\r\n\r\n    strategy:\r\n      fail-fast: false\r\n      matrix:\r\n        language: [ &#39;java&#39; ]\r\n        # CodeQL supports [ &#39;cpp&#39;, &#39;csharp&#39;, &#39;go&#39;, &#39;java&#39;, &#39;javascript&#39;, &#39;python&#39;, &#39;ruby&#39; ]\r\n        # Use only &#39;java&#39; to analyze code written in Java, Kotlin or both\r\n        # Use only &#39;javascript&#39; to analyze code written in JavaScript, TypeScript or both\r\n        # Learn more about CodeQL language support at https://aka.ms/codeql-docs/language-support\r\n\r\n    steps:\r\n    - name: Checkout repository\r\n      uses: actions/checkout@v3\r\n\r\n    # Initializes the CodeQL tools for scanning.\r\n    - name: Initialize CodeQL\r\n      uses: github/codeql-action/init@v2\r\n      with:\r\n        languages: ${{ matrix.language }}\r\n        # If you wish to specify custom queries, you can do so here or in a config file.\r\n        # By default, queries listed here will override any specified in a config file.\r\n        # Prefix the list here with &quot;+&quot; to use these queries and those in the config file.\r\n\r\n        # Details on CodeQL&#39;s query packs refer to : https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning#using-queries-in-ql-packs\r\n        # queries: security-extended,security-and-quality\r\n\r\n\r\n    # Autobuild attempts to build any compiled languages  (C/C++, C#, Go, or Java).\r\n    # If this step fails, then you should remove it and run the build manually (see below)\r\n    - name: Autobuild\r\n      uses: github/codeql-action/autobuild@v2\r\n\r\n    # ℹ️ Command-line programs to run using the OS shell.\r\n    # &#128218; See https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idstepsrun\r\n\r\n    #   If the Autobuild fails above, remove it and uncomment the following three lines.\r\n    #   modify them (or add more) to build your code if your project, please refer to the EXAMPLE below for guidance.\r\n\r\n    #- run: |\r\n    #   echo &quot;Skipping build, it is not needed...&quot;\r\n    #   ls -lR .\r\n    #   sudo apt install maven\r\n    #   mvn clean install\r\n\r\n    - name: Perform CodeQL Analysis\r\n      uses: github/codeql-action/analyze@v2\r\n      with:\r\n        category: &quot;/language:${{matrix.language}}&quot;\r\n\r\n```\r\n\r\n\r\nI tried to skip the autobuild, but in that case the analyse step is just failing with the following error:\r\n\r\n```\r\n  /opt/hostedtoolcache/CodeQL/2.12.6-20230403/x64/codeql/codeql database finalize --finalize-dataset --threads=8 --ram=14984 /runner/_work/_temp/codeql_databases/java\r\n  CodeQL detected code written in Java but could not process any of it. Review our troubleshooting guide at https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/troubleshooting-the-codeql-workflow#no-code-found-during-the-build.\r\n  Error: No code found during the build. Please see:\r\n  https://docs.github.com/en/github/finding-security-vulnerabilities-and-errors-in-your-code/troubleshooting-code-scanning#no-code-found-during-the-build\r\n```\r\nI tried to build it manually, but I was not able to install maven (I guess executing install commands won&#39;t work this way)","title":"Codeql failing to scan github repository storing only java code","body":"<p>I'm trying to scan java code with codeql.\nIn my repo I have some class files:</p>\n<pre><code>src/com/org/proj/Main.java\nsrc/com/org/proj/Task.java\n</code></pre>\n<p>It's very simple and was built by Eclipse and I only exported the executable *.jar file from it before.</p>\n<p>Now as I'm trying to scan this by codeql, it was trying to autobuild it without success. After investigating it online I understood that only specific type of projects can work with autobuild hence I went back to Eclipes and converted my project to maven.\nNow autobuild.sh (the one used by autobuild) is trying to execute a 'mvn' command which I would assume should work and code scan should be successful, but it seems that 'mvn' is not found on the system (I thought this is included during the initialization step or somewhere else).\nI tried to find a solution how to install maven before executing the autobuild step, but didn't find solution.\nThe error looks like this:</p>\n<pre><code>  /opt/hostedtoolcache/CodeQL/2.12.6-20230403/x64/codeql/codeql version --format=terse\n  2.12.6\n  /opt/hostedtoolcache/CodeQL/2.12.6-20230403/x64/codeql/java/tools/autobuild.sh\n  Picked up JAVA_TOOL_OPTIONS:  -Dhttp.keepAlive=false -Dmaven.wagon.http.pool=false\n  [2023-08-23 07:27:32] Build directory is .\n  [2023-08-23 07:27:32] [autobuild] &gt; mvn clean package -f &quot;pom.xml&quot; -B -V -e -Dfindbugs.skip -Dcheckstyle.skip -Dpmd.skip=true -Dspotbugs.skip -Denforcer.skip -Dmaven.javadoc.skip -DskipTests -Dmaven.test.skip.exec -Dlicense.skip=true -Drat.skip=true -Dspotless.check.skip=true \n  Error: 8-23 07:27:32] [autobuild] [ERROR] Error executing command mvn clean package -f &quot;pom.xml&quot; -B -V -e -Dfindbugs.skip -Dcheckstyle.skip -Dpmd.skip=true -Dspotbugs.skip -Denforcer.skip -Dmaven.javadoc.skip -DskipTests -Dmaven.test.skip.exec -Dlicense.skip=true -Drat.skip=true -Dspotless.check.skip=true \n                                            com.semmle.util.exception.ResourceError: IOException while executing process with args: [mvn, clean, package, -f, pom.xml, -B, -V, -e, -Dfindbugs.skip, -Dcheckstyle.skip, -Dpmd.skip=true, -Dspotbugs.skip, -Denforcer.skip, -Dmaven.javadoc.skip, -DskipTests, -Dmaven.test.skip.exec, -Dlicense.skip=true, -Drat.skip=true, -Dspotless.check.skip=true]\n                                            (eventual cause: IOException &quot;error=2, No such file or directory&quot;)\n                                                at com.semmle.util.process.AbstractProcessBuilder.execute(AbstractProcessBuilder.java:258)\n                                                at com.semmle.util.process.AbstractProcessBuilder.execute(AbstractProcessBuilder.java:198)\n                                                at com.semmle.util.data.CommandLine.run(CommandLine.java:274)\n                                                at com.semmle.autobuild.AutoBuild.deduceAndRunBuildCommands(AutoBuild.java:189)\n                                                at com.semmle.autobuild.AutoBuild.runApi(AutoBuild.java:147)\n                                                at com.semmle.util.process.CliCommand.run(CliCommand.java:62)\n                                                at com.semmle.util.process.CliCommand.safeRun(CliCommand.java:79)\n                                                at com.semmle.util.process.VerbCliTool.runImpl(VerbCliTool.java:169)\n                                                at com.semmle.util.process.VerbCliTool.run(VerbCliTool.java:68)\n                                                at com.semmle.autobuild.Main.mainApi(Main.java:80)\n                                                at com.semmle.autobuild.Main.main(Main.java:59)\n                                            Caused by: java.io.IOException: Cannot run program &quot;mvn&quot; (in directory &quot;.&quot;): error=2, No such file or directory\n                                                at java.base/java.lang.ProcessBuilder.start(Unknown Source)\n                                                at java.base/java.lang.ProcessBuilder.start(Unknown Source)\n                                                at com.semmle.util.process.AbstractProcessBuilder.execute(AbstractProcessBuilder.java:231)\n                                                ... 10 common frames omitted\n                                            Caused by: java.io.IOException: error=2, No such file or directory\n                                                at java.base/java.lang.ProcessImpl.forkAndExec(Native Method)\n                                                at java.base/java.lang.ProcessImpl.&lt;init&gt;(Unknown Source)\n                                                at java.base/java.lang.ProcessImpl.start(Unknown Source)\n                                                ... 13 common frames omitted\n  Error: We were unable to automatically build your code. Please replace the call to the autobuild action with your custom build steps. Failure invoking /opt/hostedtoolcache/CodeQL/2.12.6-20230403/x64/codeql/java/tools/autobuild.sh with arguments .\n  \n        Exit code 254 and error was:\n  \n        Picked up JAVA_TOOL_OPTIONS:  -Dhttp.keepAlive=false -Dmaven.wagon.http.pool=false\n  \n</code></pre>\n<p>and my codeql.yml file looks like this (right now):</p>\n<pre><code># For most projects, this workflow file will not need changing; you simply need\n# to commit it to your repository.\n#\n# You may wish to alter this file to override the set of languages analyzed,\n# or to provide custom queries or build logic.\n#\n# ******** NOTE ********\n# We have attempted to detect the languages in your repository. Please check\n# the `language` matrix defined below to confirm you have the correct set of\n# supported CodeQL languages.\n#\nname: &quot;CodeQL&quot;\n\non:\n  push:\n    branches: [ &quot;master&quot; ]\n  pull_request:\n    # The branches below must be a subset of the branches above\n    branches: [ &quot;master&quot; ]\n\njobs:\n  analyze:\n    name: Analyze\n    runs-on: [ubuntu-latest]\n    permissions:\n      actions: read\n      contents: read\n      security-events: write\n\n    strategy:\n      fail-fast: false\n      matrix:\n        language: [ 'java' ]\n        # CodeQL supports [ 'cpp', 'csharp', 'go', 'java', 'javascript', 'python', 'ruby' ]\n        # Use only 'java' to analyze code written in Java, Kotlin or both\n        # Use only 'javascript' to analyze code written in JavaScript, TypeScript or both\n        # Learn more about CodeQL language support at https://aka.ms/codeql-docs/language-support\n\n    steps:\n    - name: Checkout repository\n      uses: actions/checkout@v3\n\n    # Initializes the CodeQL tools for scanning.\n    - name: Initialize CodeQL\n      uses: github/codeql-action/init@v2\n      with:\n        languages: ${{ matrix.language }}\n        # If you wish to specify custom queries, you can do so here or in a config file.\n        # By default, queries listed here will override any specified in a config file.\n        # Prefix the list here with &quot;+&quot; to use these queries and those in the config file.\n\n        # Details on CodeQL's query packs refer to : https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning#using-queries-in-ql-packs\n        # queries: security-extended,security-and-quality\n\n\n    # Autobuild attempts to build any compiled languages  (C/C++, C#, Go, or Java).\n    # If this step fails, then you should remove it and run the build manually (see below)\n    - name: Autobuild\n      uses: github/codeql-action/autobuild@v2\n\n    # ℹ️ Command-line programs to run using the OS shell.\n    # 📚 See https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idstepsrun\n\n    #   If the Autobuild fails above, remove it and uncomment the following three lines.\n    #   modify them (or add more) to build your code if your project, please refer to the EXAMPLE below for guidance.\n\n    #- run: |\n    #   echo &quot;Skipping build, it is not needed...&quot;\n    #   ls -lR .\n    #   sudo apt install maven\n    #   mvn clean install\n\n    - name: Perform CodeQL Analysis\n      uses: github/codeql-action/analyze@v2\n      with:\n        category: &quot;/language:${{matrix.language}}&quot;\n\n</code></pre>\n<p>I tried to skip the autobuild, but in that case the analyse step is just failing with the following error:</p>\n<pre><code>  /opt/hostedtoolcache/CodeQL/2.12.6-20230403/x64/codeql/codeql database finalize --finalize-dataset --threads=8 --ram=14984 /runner/_work/_temp/codeql_databases/java\n  CodeQL detected code written in Java but could not process any of it. Review our troubleshooting guide at https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/troubleshooting-the-codeql-workflow#no-code-found-during-the-build.\n  Error: No code found during the build. Please see:\n  https://docs.github.com/en/github/finding-security-vulnerabilities-and-errors-in-your-code/troubleshooting-code-scanning#no-code-found-during-the-build\n</code></pre>\n<p>I tried to build it manually, but I was not able to install maven (I guess executing install commands won't work this way)</p>\n"},{"tags":["java","spring","certificate","x509"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1674908099,"post_id":39471044,"comment_id":132816645,"body_markdown":"Does this answer your question? [How to get the certificate into the X509 filter (Spring Security)?](https://stackoverflow.com/questions/1102721/how-to-get-the-certificate-into-the-x509-filter-spring-security)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1102721/how-to-get-the-certificate-into-the-x509-filter-spring-security\">How to get the certificate into the X509 filter (Spring Security)?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3441831,"reputation":346,"user_id":2883604,"accept_rate":50,"display_name":"djointster"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1473835885,"creation_date":1473772791,"answer_id":39471169,"question_id":39471044,"body_markdown":"You have to get it from the `HttpServletRequest`.\n\nYou can check the answer to this question: [How to get the certificate into the X509 filter (Spring Security)?][1]:\n\n\n&gt; No you can&#39;t get it that way.  You need to grab it from the HttpServletRequest:\n&gt;\n&gt;     X509Certificate[] certs = (X509Certificate[])HttpServletRequest.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;);\n\nThis was the post I was trying to point you to, written by Gandalf.\n\nAnd this was the original &lt;a href=&quot;https://stackoverflow.com/questions/1102721/how-to-get-the-certificate-into-the-x509-filter-spring-security/1104385&quot;&gt;question&lt;/a&gt;\n\n\n  [1]: https://stackoverflow.com/questions/1102721/how-to-get-the-certificate-into-the-x509-filter-spring-security/1104385#1104385","title":"Spring Boot - Reading x509 client certificate from HTTP request","body":"<p>You have to get it from the <code>HttpServletRequest</code>.</p>\n<p>You can check the answer to this question: <a href=\"https://stackoverflow.com/questions/1102721/how-to-get-the-certificate-into-the-x509-filter-spring-security/1104385#1104385\">How to get the certificate into the X509 filter (Spring Security)?</a>:</p>\n<blockquote>\n<p>No you can't get it that way.  You need to grab it from the HttpServletRequest:</p>\n<pre><code>X509Certificate[] certs = (X509Certificate[])HttpServletRequest.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;);\n</code></pre>\n</blockquote>\n<p>This was the post I was trying to point you to, written by Gandalf.</p>\n<p>And this was the original <a href=\"https://stackoverflow.com/questions/1102721/how-to-get-the-certificate-into-the-x509-filter-spring-security/1104385\">question</a></p>\n"},{"tags":[],"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693310326,"creation_date":1693310326,"answer_id":77000005,"question_id":39471044,"body_markdown":"When you upgrade to Spring Boot 3.x the servlet request attribute has been renamed to be consistent with the renamed `javax` to `jakarta` packages. So now it&#39;s:\r\n```java\r\nrequest.getAttribute(&quot;jakarta.servlet.request.X509Certificate&quot;)\r\n```","title":"Spring Boot - Reading x509 client certificate from HTTP request","body":"<p>When you upgrade to Spring Boot 3.x the servlet request attribute has been renamed to be consistent with the renamed <code>javax</code> to <code>jakarta</code> packages. So now it's:</p>\n<pre class=\"lang-java prettyprint-override\"><code>request.getAttribute(&quot;jakarta.servlet.request.X509Certificate&quot;)\n</code></pre>\n"}],"owner":{"account_id":9162309,"reputation":141,"user_id":6813253,"accept_rate":56,"display_name":"MissBonbon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14390,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":39471169,"answer_count":2,"score":5,"last_activity_date":1693310326,"creation_date":1473772418,"question_id":39471044,"body_markdown":"How to receive a x509 certificate from client? I&#39;m using Java&#39;s Spring-Boot-Framework with embedded tomcat. For protyping I configured this with Java SE: \n\n&gt; HttpsExchange httpsExchange = (HttpsExchange) httpReq;\n&gt;\n&gt; name = httpsExchange.getSSLSession().getPeerPrincipal().getName();\n\nA user gave me a reference to do this here (down below)\n\n    \n    @RequestMapping(value = &quot;/grab&quot;)\n    public void grabCert(HttpServletRequest servletRequest) {\n        Certificate[] certs = \n                (Certificate[]) servletRequest.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;);\n    }\n\nBut I&#39;m not able to get some certificate! Maybe because I&#39;m using tomcat, and it is handling all SSL-Connections. So that no certificate is receiving my application. What I have to do, to get the clients certificate? The client certificate is used to get https connection. I need some information from the subject of the certificate. Thanks.\n\n","title":"Spring Boot - Reading x509 client certificate from HTTP request","body":"<p>How to receive a x509 certificate from client? I'm using Java's Spring-Boot-Framework with embedded tomcat. For protyping I configured this with Java SE:</p>\n<blockquote>\n<p>HttpsExchange httpsExchange = (HttpsExchange) httpReq;</p>\n<p>name = httpsExchange.getSSLSession().getPeerPrincipal().getName();</p>\n</blockquote>\n<p>A user gave me a reference to do this here (down below)</p>\n<pre><code>@RequestMapping(value = &quot;/grab&quot;)\npublic void grabCert(HttpServletRequest servletRequest) {\n    Certificate[] certs = \n            (Certificate[]) servletRequest.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;);\n}\n</code></pre>\n<p>But I'm not able to get some certificate! Maybe because I'm using tomcat, and it is handling all SSL-Connections. So that no certificate is receiving my application. What I have to do, to get the clients certificate? The client certificate is used to get https connection. I need some information from the subject of the certificate. Thanks.</p>\n"},{"tags":["java","tomcat","apache-axis","apache-httpclient-4.x","apache-commons-httpclient"],"answers":[{"tags":[],"owner":{"account_id":29220110,"reputation":1,"user_id":22386001,"display_name":"Harsha Vardhan Sai T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693310079,"creation_date":1693310079,"answer_id":76999972,"question_id":76918353,"body_markdown":"It works by modifying the code while method execution. You can pass a context variable that can help you authenticate when the method executes.","title":"java.net.SocketException: Connection reset by peer (Write failed) after migrating to Http Client 4.x from 4.x","body":"<p>It works by modifying the code while method execution. You can pass a context variable that can help you authenticate when the method executes.</p>\n"}],"owner":{"account_id":29220110,"reputation":1,"user_id":22386001,"display_name":"Harsha Vardhan Sai T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76999972,"answer_count":1,"score":0,"last_activity_date":1693310079,"creation_date":1692243817,"question_id":76918353,"body_markdown":"Recently I migrated from Apache Commons Http Client 3.x to the new Apache 4.x http client. Everything was replaced like Multithreaded Http Client Connection Manager to PoolingHttpClientManager. Everything works except for uploading large files. It enters a put method that takes path and Input stream and it fails when I try to upload a large file. This is the behavior only when I put my program on cloud it works fine If I create it as exe file and install it &amp; also in eclipse environment it works fine. I am using the webdav functionality of tomcat and in cloud webdav server is placed behind proxy. \r\nThe following is the code of putMethod used for uploading files\r\n\r\n```\r\n    HttpPut method = null;\r\n    try\r\n    {\r\n      method = new HttpPut(this.encodePath(path));\r\n      setProxy(method);\r\n    }\r\n    catch (MalformedURLException | URISyntaxException ex)\r\n    {\r\n      throw new HttpURIException();\r\n    }\r\n\r\n    String contentType = getGetContentType();\r\n    if ((contentType != null) &amp;&amp; (contentType.length() &gt; 0))\r\n    {\r\n      method.setHeader(&quot;Content-Type&quot;, contentType);\r\n    }\r\n    InputStreamEntity ise = new InputStreamEntity(inputStream);\r\n    ise.setChunked(true);\r\n    ise.setContentType(contentType);\r\n    BufferedHttpEntity bhe = new BufferedHttpEntity(ise);\r\n    method.setEntity(bhe);\r\n    try\r\n    {\r\n      HttpResponse response = this.client.execute(method);\r\n      return (response.getStatusLine().getStatusCode() &gt;= 200) &amp;&amp; (response.getStatusLine().getStatusCode() &lt; 300);\r\n    }\r\n    finally\r\n    {\r\n      method.releaseConnection();\r\n    }\r\n  }\r\n\r\n```\r\n\r\nThe following is the stack trace of the error\r\n\r\n```\r\nERROR - FileUploadHandler     - IO Error while file upload. java.net.SocketException: Connection reset by peer (Write failed) at java.net.SocketOutputStream.socketWrite0(Native Method) ~[?:?] at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110) ~[?:?] at java.net.SocketOutputStream.write(SocketOutputStream.java:150) ~[?:?] at org.apache.http.impl.io.SessionOutputBufferImpl.streamWrite(SessionOutputBufferImpl.java:124) ~[httpcore-4.4.13.jar:4.4.13] at org.apache.http.impl.io.SessionOutputBufferImpl.write(SessionOutputBufferImpl.java:160) ~[httpcore-4.4.13.jar:4.4.13] at org.apache.http.impl.io.ContentLengthOutputStream.write(ContentLengthOutputStream.java:113) ~[httpcore-4.4.13.jar:4.4.13] at org.apache.http.impl.io.ContentLengthOutputStream.write(ContentLengthOutputStream.java:120) ~[httpcore-4.4.13.jar:4.4.13] at org.apache.http.entity.BufferedHttpEntity.writeTo(BufferedHttpEntity.java:105) ~[httpcore-4.4.13.jar:4.4.13] at org.apache.http.impl.DefaultBHttpClientConnection.sendRequestEntity(DefaultBHttpClientConnection.java:156) ~[httpcore-4.4.13.jar:4.4.13] at org.apache.http.protocol.HttpRequestExecutor.doSendRequest(HttpRequestExecutor.java:238) ~[httpcore-4.4.13.jar:4.4.13] at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:123) ~[httpcore-4.4.13.jar:4.4.13] at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.13.jar:4.5.13] at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13] at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13] at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13] at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13] at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13] at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[httpclient-4.5.13.jar:4.5.13] at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar:4.5.13]\r\n```\r\n\r\nIn the latest client I am using the following way to create a new client\r\n\r\n\r\n```\r\n    PoolingHttpClientConnectionManager conManager = new PoolingHttpClientConnectionManager();\r\n    connectionManager.setMaxTotal(40);\r\n    connectionManager.setDefaultMaxPerRoute(20);\r\n    RequestConfig defaultRequestConfig = RequestConfig.custom().setConnectTimeout(CONNECTION_TIMEOUT).build();\r\n\r\n    SocketConfig socketConfig = SocketConfig.custom().setSoTimeout(SO_TIMEOUT).build();\r\n\r\n    HttpRequestRetryHandler retryHandler = new DefaultHttpRequestRetryHandler(HTTPMETHOD_RETRY_COUNT, false);\r\n\r\n    HttpClientBuilder clientBuilder = HttpClients.custom().useSystemProperties().setConnectionManager(conManager).setDefaultRequestConfig(defaultRequestConfig).setDefaultSocketConfig(socketConfig).setRetryHandler(retryHandler);\r\n\r\n      credentials = new UsernamePasswordCredentials(userName, password);\r\n      CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n\r\n      credentialsProvider.setCredentials(getAuthScope(aHttpUrl), credentials);\r\n\r\n      clientBuilder.setDefaultCredentialsProvider(credentialsProvider);\r\n    boolean shouldUseProxy = isProxy(aConfig);\r\n\r\n    String proxyHost = System.getProperty(PROPERTY_PROXY_HOST);\r\n    if (shouldUseProxy)\r\n    {\r\n      String proxyPort = System.getProperty(PROPERTY_PROXY_PORT, &quot;80&quot;);\r\n      HttpHost proxyHosts = new HttpHost(proxyHost, Integer.parseInt(proxyPort));\r\n      RequestConfig config = RequestConfig.copy(defaultRequestConfig).setProxy(proxyHosts).build();\r\n      clientBuilder.setDefaultRequestConfig(config);\r\n    }\r\n```\r\nIs there something I should add or modify?\r\nor should I change some timeout settings for the proxy server?\r\nVia code I set the timeouts to 5000 and retry count to 3.\r\n\r\nWith the same configurations it worked with old http client.\r\n\r\nI tried various ways of modifying the input stream and tried to implement custom input stream too.","title":"java.net.SocketException: Connection reset by peer (Write failed) after migrating to Http Client 4.x from 4.x","body":"<p>Recently I migrated from Apache Commons Http Client 3.x to the new Apache 4.x http client. Everything was replaced like Multithreaded Http Client Connection Manager to PoolingHttpClientManager. Everything works except for uploading large files. It enters a put method that takes path and Input stream and it fails when I try to upload a large file. This is the behavior only when I put my program on cloud it works fine If I create it as exe file and install it &amp; also in eclipse environment it works fine. I am using the webdav functionality of tomcat and in cloud webdav server is placed behind proxy.\nThe following is the code of putMethod used for uploading files</p>\n<pre><code>    HttpPut method = null;\n    try\n    {\n      method = new HttpPut(this.encodePath(path));\n      setProxy(method);\n    }\n    catch (MalformedURLException | URISyntaxException ex)\n    {\n      throw new HttpURIException();\n    }\n\n    String contentType = getGetContentType();\n    if ((contentType != null) &amp;&amp; (contentType.length() &gt; 0))\n    {\n      method.setHeader(&quot;Content-Type&quot;, contentType);\n    }\n    InputStreamEntity ise = new InputStreamEntity(inputStream);\n    ise.setChunked(true);\n    ise.setContentType(contentType);\n    BufferedHttpEntity bhe = new BufferedHttpEntity(ise);\n    method.setEntity(bhe);\n    try\n    {\n      HttpResponse response = this.client.execute(method);\n      return (response.getStatusLine().getStatusCode() &gt;= 200) &amp;&amp; (response.getStatusLine().getStatusCode() &lt; 300);\n    }\n    finally\n    {\n      method.releaseConnection();\n    }\n  }\n\n</code></pre>\n<p>The following is the stack trace of the error</p>\n<pre><code>ERROR - FileUploadHandler     - IO Error while file upload. java.net.SocketException: Connection reset by peer (Write failed) at java.net.SocketOutputStream.socketWrite0(Native Method) ~[?:?] at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110) ~[?:?] at java.net.SocketOutputStream.write(SocketOutputStream.java:150) ~[?:?] at org.apache.http.impl.io.SessionOutputBufferImpl.streamWrite(SessionOutputBufferImpl.java:124) ~[httpcore-4.4.13.jar:4.4.13] at org.apache.http.impl.io.SessionOutputBufferImpl.write(SessionOutputBufferImpl.java:160) ~[httpcore-4.4.13.jar:4.4.13] at org.apache.http.impl.io.ContentLengthOutputStream.write(ContentLengthOutputStream.java:113) ~[httpcore-4.4.13.jar:4.4.13] at org.apache.http.impl.io.ContentLengthOutputStream.write(ContentLengthOutputStream.java:120) ~[httpcore-4.4.13.jar:4.4.13] at org.apache.http.entity.BufferedHttpEntity.writeTo(BufferedHttpEntity.java:105) ~[httpcore-4.4.13.jar:4.4.13] at org.apache.http.impl.DefaultBHttpClientConnection.sendRequestEntity(DefaultBHttpClientConnection.java:156) ~[httpcore-4.4.13.jar:4.4.13] at org.apache.http.protocol.HttpRequestExecutor.doSendRequest(HttpRequestExecutor.java:238) ~[httpcore-4.4.13.jar:4.4.13] at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:123) ~[httpcore-4.4.13.jar:4.4.13] at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.13.jar:4.5.13] at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13] at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13] at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13] at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13] at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13] at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[httpclient-4.5.13.jar:4.5.13] at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar:4.5.13]\n</code></pre>\n<p>In the latest client I am using the following way to create a new client</p>\n<pre><code>    PoolingHttpClientConnectionManager conManager = new PoolingHttpClientConnectionManager();\n    connectionManager.setMaxTotal(40);\n    connectionManager.setDefaultMaxPerRoute(20);\n    RequestConfig defaultRequestConfig = RequestConfig.custom().setConnectTimeout(CONNECTION_TIMEOUT).build();\n\n    SocketConfig socketConfig = SocketConfig.custom().setSoTimeout(SO_TIMEOUT).build();\n\n    HttpRequestRetryHandler retryHandler = new DefaultHttpRequestRetryHandler(HTTPMETHOD_RETRY_COUNT, false);\n\n    HttpClientBuilder clientBuilder = HttpClients.custom().useSystemProperties().setConnectionManager(conManager).setDefaultRequestConfig(defaultRequestConfig).setDefaultSocketConfig(socketConfig).setRetryHandler(retryHandler);\n\n      credentials = new UsernamePasswordCredentials(userName, password);\n      CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n\n      credentialsProvider.setCredentials(getAuthScope(aHttpUrl), credentials);\n\n      clientBuilder.setDefaultCredentialsProvider(credentialsProvider);\n    boolean shouldUseProxy = isProxy(aConfig);\n\n    String proxyHost = System.getProperty(PROPERTY_PROXY_HOST);\n    if (shouldUseProxy)\n    {\n      String proxyPort = System.getProperty(PROPERTY_PROXY_PORT, &quot;80&quot;);\n      HttpHost proxyHosts = new HttpHost(proxyHost, Integer.parseInt(proxyPort));\n      RequestConfig config = RequestConfig.copy(defaultRequestConfig).setProxy(proxyHosts).build();\n      clientBuilder.setDefaultRequestConfig(config);\n    }\n</code></pre>\n<p>Is there something I should add or modify?\nor should I change some timeout settings for the proxy server?\nVia code I set the timeouts to 5000 and retry count to 3.</p>\n<p>With the same configurations it worked with old http client.</p>\n<p>I tried various ways of modifying the input stream and tried to implement custom input stream too.</p>\n"},{"tags":["java","spring","jwt","authorization"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693290218,"post_id":76997223,"comment_id":135737284,"body_markdown":"if you will change the authority setter method, somethig like this `authority.setAuthority(&quot;ROLE_&quot; + AuthorityType.ESSENTIAL);`  or `authority.setAuthority(&quot;SCOPE_&quot; + AuthorityType.ESSENTIAL);` , i think it is going to work.","body":"if you will change the authority setter method, somethig like this <code>authority.setAuthority(&quot;ROLE_&quot; + AuthorityType.ESSENTIAL);</code>  or <code>authority.setAuthority(&quot;SCOPE_&quot; + AuthorityType.ESSENTIAL);</code> , i think it is going to work."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693290661,"post_id":76997223,"comment_id":135737351,"body_markdown":"What is `jwt` here? You aren&#39;t creating it anywhere. You are also creating a user, but where are you adding it to the userservice (or using mocking to return it)? Looks like you think creating some objects randomly will make it work, instead of binding it together.","body":"What is <code>jwt</code> here? You aren&#39;t creating it anywhere. You are also creating a user, but where are you adding it to the userservice (or using mocking to return it)? Looks like you think creating some objects randomly will make it work, instead of binding it together."},{"owner":{"account_id":8567660,"reputation":3,"user_id":6419675,"display_name":"Patrick Kim"},"score":0,"creation_date":1693295441,"post_id":76997223,"comment_id":135738186,"body_markdown":"@M.Deinum Sorry I forgot to add them, I&#39;ve updated the code.","body":"@M.Deinum Sorry I forgot to add them, I&#39;ve updated the code."},{"owner":{"account_id":8567660,"reputation":3,"user_id":6419675,"display_name":"Patrick Kim"},"score":0,"creation_date":1693295567,"post_id":76997223,"comment_id":135738208,"body_markdown":"@AndreiLisa I&#39;ve changed the authority type to String and changed it to set it to `&quot;SCOPE_&quot; + AuthorityType.ESSENTIAL` but it still produced the same error where the Granted Authorities inside JwtAuthenticationToken being empty","body":"@AndreiLisa I&#39;ve changed the authority type to String and changed it to set it to <code>&quot;SCOPE_&quot; + AuthorityType.ESSENTIAL</code> but it still produced the same error where the Granted Authorities inside JwtAuthenticationToken being empty"},{"owner":{"account_id":7427975,"reputation":537,"user_id":9862795,"display_name":"GoranLegenda"},"score":0,"creation_date":1693298088,"post_id":76997223,"comment_id":135738737,"body_markdown":"can you show your AuthorityType Enum as well?","body":"can you show your AuthorityType Enum as well?"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693298108,"post_id":76997223,"comment_id":135738742,"body_markdown":"can you parse your JWT token ?  and see if there are `authorities` that you wait `.hasAnyAuthority(&quot;ESSENTIAL&quot;, &quot;PREMIUM&quot;)` on [jwt](https://jwt.io/) for example","body":"can you parse your JWT token ?  and see if there are <code>authorities</code> that you wait <code>.hasAnyAuthority(&quot;ESSENTIAL&quot;, &quot;PREMIUM&quot;)</code> on <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt</a> for example"},{"owner":{"account_id":8567660,"reputation":3,"user_id":6419675,"display_name":"Patrick Kim"},"score":0,"creation_date":1693298669,"post_id":76997223,"comment_id":135738853,"body_markdown":"@GoranLegenda Okay, added.","body":"@GoranLegenda Okay, added."},{"owner":{"account_id":8567660,"reputation":3,"user_id":6419675,"display_name":"Patrick Kim"},"score":0,"creation_date":1693298723,"post_id":76997223,"comment_id":135738863,"body_markdown":"@AndreiLisa Do you mean the deserialized jwt body? Here&#39;s the payload: ```{\n  &quot;sub&quot;: &quot;honggildong&quot;,\n  &quot;authorities&quot;: [{&quot;authority&quot;: &quot;SCOPE_ESSENTIAL&quot;},{&quot;authority&quot;: &quot;SCOPE_TRIAL&quot;}],\n  &quot;iat&quot;: 1693298585,\n  &quot;exp&quot;: 1693300385\n}```","body":"@AndreiLisa Do you mean the deserialized jwt body? Here&#39;s the payload: <code>{   &quot;sub&quot;: &quot;honggildong&quot;,   &quot;authorities&quot;: [{&quot;authority&quot;: &quot;SCOPE_ESSENTIAL&quot;},{&quot;authority&quot;: &quot;SCOPE_TRIAL&quot;}],   &quot;iat&quot;: 1693298585,   &quot;exp&quot;: 1693300385 }</code>"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693300179,"post_id":76997223,"comment_id":135739119,"body_markdown":"also please provide your `jwtDecoder()`  method for full understanding of your flow.","body":"also please provide your <code>jwtDecoder()</code>  method for full understanding of your flow."},{"owner":{"account_id":8567660,"reputation":3,"user_id":6419675,"display_name":"Patrick Kim"},"score":0,"creation_date":1693300531,"post_id":76997223,"comment_id":135739176,"body_markdown":"@AndreiLisa Yup added","body":"@AndreiLisa Yup added"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693300962,"post_id":76997223,"comment_id":135739252,"body_markdown":"on  method  `loadUserByUsername` change the .`map`  function to `                    .map(authority -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot; + authority.getAuthority().toString()))\n          .collect(Collectors.toList());`","body":"on  method  <code>loadUserByUsername</code> change the .<code>map</code>  function to `                    .map(authority -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot; + authority.getAuthority().toString()))           .collect(Collectors.toList());`"},{"owner":{"account_id":8567660,"reputation":3,"user_id":6419675,"display_name":"Patrick Kim"},"score":0,"creation_date":1693302152,"post_id":76997223,"comment_id":135739469,"body_markdown":"@AndreiLisa I did and it&#39;s still the same... I also tried to change the `Authority` entity&#39;s `authority` to hold `String` type but that also produced the same error.","body":"@AndreiLisa I did and it&#39;s still the same... I also tried to change the <code>Authority</code> entity&#39;s <code>authority</code> to hold <code>String</code> type but that also produced the same error."},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693305567,"post_id":76997223,"comment_id":135740070,"body_markdown":"ok, i `m going to check this code implementation and after it. I will be able to give a result with an answer to this question.","body":"ok, i `m going to check this code implementation and after it. I will be able to give a result with an answer to this question."}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693309625,"creation_date":1693309625,"answer_id":76999916,"question_id":76997223,"body_markdown":"To make your implementation to work, you should also declare/configure an authentication converter.\r\n\r\nSomething like this:\r\n\r\n    @Component\r\n    public class JwtAuthConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\r\n    \r\n      private JwtGrantedAuthoritiesConverter jwtGrantedAuthoritiesConverter;\r\n    \r\n      public JwtAuthConverter() {\r\n        this.jwtGrantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\r\n      }\r\n    \r\n      @Override\r\n      public AbstractAuthenticationToken convert(Jwt jwt) {\r\n        Collection&lt;GrantedAuthority&gt; authorities = Stream.concat(\r\n            jwtGrantedAuthoritiesConverter.convert(jwt).stream(),\r\n            extractAuthorities(jwt).stream()).collect(Collectors.toSet());\r\n        return new JwtAuthenticationToken(jwt, authorities, getPrincipalClaimName(jwt));\r\n      }\r\n    \r\n      private String getPrincipalClaimName(Jwt jwt) {\r\n        return jwt.getClaim(JwtClaimNames.SUB);\r\n      }\r\n    \r\n      private Collection&lt;GrantedAuthority&gt; extractAuthorities(Jwt jwt) {\r\n        if (jwt.getClaim(&quot;authorities&quot;) != null) {\r\n          Map&lt;String, Object&gt; realmAccess = jwt.getClaim(&quot;authorities&quot;);\r\n          ObjectMapper mapper = new ObjectMapper();\r\n          List&lt;String&gt; roles = mapper.convertValue(realmAccess.get(&quot;authority&quot;),\r\n              new TypeReference&lt;List&lt;String&gt;&gt;() {\r\n              });\r\n          return roles.stream().map(role -&gt; new SimpleGrantedAuthority(&quot;SCOPE_&quot; + role))\r\n              .collect(Collectors.toList());\r\n        }\r\n        return new ArrayList&lt;&gt;();\r\n      }\r\n    }\r\n\r\nAnd also construct token with the `authorities` field something like this:\r\n\r\n    &quot;authorities&quot;: {\r\n        &quot;authority&quot;: [\r\n            &quot;SCOPE_ESSENTIAL&quot;\r\n              ...\r\n          ]\r\n         }\r\n\r\nAfter all of this changes in  In `SecurityConfig {...}` class add next one field \r\n\r\n     private final JwtAuthConverter jwtAuthConverter;\r\n\r\nAlso in `filterChain` you should add this convertor:\r\n\r\nreplace: \r\n\r\n    .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt(jwt -&gt; jwt.decoder(jwtDecoder())))\r\n\r\nTO\r\n\r\n    oauth2ResourceServer(oauth2 -&gt;\r\n    \r\n            oauth2.jwt(jwt -&gt; {\r\n    \r\n                jwt.decoder(jwtDecoder());\r\n                jwt.jwtAuthenticationConverter(jwtAuthConverter);\r\n            }));\r\n\r\n \r\n\r\n\r\n\r\n\r\n","title":"Spring JWT authentication with &quot;.hasAuthority()&quot; returning &quot;insufficient scope&quot; error","body":"<p>To make your implementation to work, you should also declare/configure an authentication converter.</p>\n<p>Something like this:</p>\n<pre><code>@Component\npublic class JwtAuthConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\n\n  private JwtGrantedAuthoritiesConverter jwtGrantedAuthoritiesConverter;\n\n  public JwtAuthConverter() {\n    this.jwtGrantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\n  }\n\n  @Override\n  public AbstractAuthenticationToken convert(Jwt jwt) {\n    Collection&lt;GrantedAuthority&gt; authorities = Stream.concat(\n        jwtGrantedAuthoritiesConverter.convert(jwt).stream(),\n        extractAuthorities(jwt).stream()).collect(Collectors.toSet());\n    return new JwtAuthenticationToken(jwt, authorities, getPrincipalClaimName(jwt));\n  }\n\n  private String getPrincipalClaimName(Jwt jwt) {\n    return jwt.getClaim(JwtClaimNames.SUB);\n  }\n\n  private Collection&lt;GrantedAuthority&gt; extractAuthorities(Jwt jwt) {\n    if (jwt.getClaim(&quot;authorities&quot;) != null) {\n      Map&lt;String, Object&gt; realmAccess = jwt.getClaim(&quot;authorities&quot;);\n      ObjectMapper mapper = new ObjectMapper();\n      List&lt;String&gt; roles = mapper.convertValue(realmAccess.get(&quot;authority&quot;),\n          new TypeReference&lt;List&lt;String&gt;&gt;() {\n          });\n      return roles.stream().map(role -&gt; new SimpleGrantedAuthority(&quot;SCOPE_&quot; + role))\n          .collect(Collectors.toList());\n    }\n    return new ArrayList&lt;&gt;();\n  }\n}\n</code></pre>\n<p>And also construct token with the <code>authorities</code> field something like this:</p>\n<pre><code>&quot;authorities&quot;: {\n    &quot;authority&quot;: [\n        &quot;SCOPE_ESSENTIAL&quot;\n          ...\n      ]\n     }\n</code></pre>\n<p>After all of this changes in  In <code>SecurityConfig {...}</code> class add next one field</p>\n<pre><code> private final JwtAuthConverter jwtAuthConverter;\n</code></pre>\n<p>Also in <code>filterChain</code> you should add this convertor:</p>\n<p>replace:</p>\n<pre><code>.oauth2ResourceServer(oauth2 -&gt; oauth2.jwt(jwt -&gt; jwt.decoder(jwtDecoder())))\n</code></pre>\n<p>TO</p>\n<pre><code>oauth2ResourceServer(oauth2 -&gt;\n\n        oauth2.jwt(jwt -&gt; {\n\n            jwt.decoder(jwtDecoder());\n            jwt.jwtAuthenticationConverter(jwtAuthConverter);\n        }));\n</code></pre>\n"}],"owner":{"account_id":8567660,"reputation":3,"user_id":6419675,"display_name":"Patrick Kim"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76999916,"answer_count":1,"score":0,"last_activity_date":1693309625,"creation_date":1693281343,"question_id":76997223,"body_markdown":"I&#39;m using JWT as authentication for Spring right now. I&#39;m also using a custom `AppUser` entity with custom `Authority`. \r\n\r\nHere&#39;s the code for these entities:\r\n\r\n**AppUser entity**\r\n```java\r\n@Entity\r\n@Table(name=&quot;app_user&quot;)\r\npublic class AppUser {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name=&quot;id&quot;)\r\n    private int id;\r\n\r\n    ...\r\n\r\n    @NotNull\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name=&quot;authority_id&quot;, columnDefinition = &quot;INT NOT NULL&quot;)\r\n    private Set&lt;Authority&gt; authorities = new HashSet&lt;&gt;();\r\n    ...\r\n}\r\n```\r\n\r\n**Authority entity**\r\n```java\r\n@Entity\r\n@Table(name=&quot;authority&quot;)\r\npublic class Authority {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name=&quot;id&quot;)\r\n    private int id;\r\n\r\n    @NotNull\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name=&quot;authority&quot;, columnDefinition =\r\n            &quot;ENUM(&#39;TRIAL&#39;, &#39;ESSENTIAL&#39;, &#39;PREMIUM&#39;, &#39;ADMIN&#39;) NOT NULL DEFAULT &#39;TRIAL&#39;&quot;)\r\n    private AuthorityType authority = AuthorityType.TRIAL;\r\n\r\n    @JsonBackReference\r\n    @NotNull\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name=&quot;app_user_id&quot;, columnDefinition = &quot;INT NOT NULL&quot;)\r\n    private AppUser appUser;\r\n    ...\r\n}\r\n```\r\n\r\nAlso here&#39;s my security config and custom UserDetailsServcie:\r\n\r\n**SecurityConfig**\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    private AuthenticationProvider authenticationProvider;\r\n    private JwtSecretProvider jwtSecretProvider;\r\n\r\n    @Autowired\r\n    public SecurityConfig(AuthenticationProvider authenticationProvider, JwtSecretProvider jwtSecretProvider) {\r\n        this.authenticationProvider = authenticationProvider;\r\n        this.jwtSecretProvider = jwtSecretProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n        AuthenticationManagerBuilder authenticationManagerBuilder =\r\n                http.getSharedObject(AuthenticationManagerBuilder.class);\r\n        authenticationManagerBuilder.authenticationProvider(authenticationProvider);\r\n        return authenticationManagerBuilder.build();\r\n    }\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return web -&gt; {\r\n            web.ignoring().requestMatchers(HttpMethod.POST, &quot;/user&quot;, &quot;/user/login&quot;);\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf(AbstractHttpConfigurer::disable)\r\n                .formLogin(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(HttpMethod.POST, &quot;/user&quot;).permitAll()\r\n                        .requestMatchers(&quot;/user/login&quot;).permitAll()\r\n                        .anyRequest().hasAnyAuthority(&quot;ESSENTIAL&quot;, &quot;PREMIUM&quot;)\r\n                )\r\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt(jwt -&gt; jwt.decoder(jwtDecoder())))\r\n                .httpBasic(Customizer.withDefaults());\r\n        return http.build();\r\n    }\r\n```\r\n\r\n**CustomUserDetailsService**\r\n```java\r\n@Service\r\npublic class CustomUserDetailsService implements UserDetailsService {\r\n\r\n    private AppUserRepository appUserRepository;\r\n\r\n    @Autowired\r\n    public void setAppUserRepository(AppUserRepository appUserRepository) {\r\n        this.appUserRepository = appUserRepository;\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        Optional&lt;AppUser&gt; optionalAppUser = appUserRepository.findByUsername(username);\r\n        if (optionalAppUser.isEmpty())\r\n            throw new UsernameNotFoundException(&quot;User not found while trying to load user&quot;);\r\n\r\n        AppUser appUser = optionalAppUser.get();\r\n\r\n        List&lt;GrantedAuthority&gt; authorities = appUser.getAuthority()\r\n                .stream()\r\n                .map(authority -&gt; new SimpleGrantedAuthority(authority.getAuthority().name()))\r\n                .collect(Collectors.toList());\r\n\r\n        return User.builder()\r\n                .username(appUser.getUsername())\r\n                .password(appUser.getEncryptedPassword().replace(&quot;{bcrypt}&quot;, &quot;&quot;))\r\n                .authorities(authorities)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\n\r\nand this is my error response when I call the url with `MockMvc` for `/journals`:\r\n\r\n**API call**\r\n```java\r\n@Test\r\n    void checkIfCreatesJournal() throws Exception {\r\n        appUser = new AppUser();\r\n        appUser.setUsername(&quot;honggildong&quot;);\r\n        appUser.setEmail(&quot;a@a.com&quot;);\r\n        appUser.setEncryptedPassword(&quot;asdfasdfasdf123!&quot;);\r\n        Authority authority = new Authority();\r\n        authority.setAuthority(AuthorityType.ESSENTIAL);\r\n        authority.setAppUser(appUser);\r\n        appUser.setAuthority(new HashSet&lt;&gt;(List.of(authority)));\r\n\r\n        appUserService.createAppUser(appUser);\r\n        jwt = jwtUtil.generateToken(appUser.getUsername());\r\n\r\n        String content = objectMapper.writeValueAsString(journalMap);\r\n\r\n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;/journals&quot;)\r\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\r\n                .content(content)\r\n                .contentType(MediaType.APPLICATION_JSON))\r\n                .andDo(MockMvcResultHandlers.print())\r\n                .andExpect(MockMvcResultMatchers.status().isOk());\r\n\r\n        assertThat(journalService.getPaginatedJournals(appUser, 0, 1)\r\n                .getContent().get(0).getStockPrice()).isEqualTo(235.38);\r\n    }\r\n```\r\n\r\n**JwtUtil**\r\n```java\r\n@Component\r\npublic class JwtUtil {\r\n\r\n    private final int expirationTime = 50 * 60 * 60 * 10;\r\n    private CustomUserDetailsService customUserDetailsService;\r\n\r\n    @Autowired\r\n    public JwtUtil(CustomUserDetailsService customUserDetailsService) {\r\n        this.customUserDetailsService = customUserDetailsService;\r\n        SignatureAlgorithm signatureAlgorithm = SignatureAlgorithm.HS256;\r\n        secret = Keys.secretKeyFor(signatureAlgorithm).getEncoded();\r\n    }\r\n\r\n    public String generateToken(String username) {\r\n        UserDetails userDetails = customUserDetailsService.loadUserByUsername(username);\r\n        return createToken(userDetails);\r\n    }\r\n\r\n    private String createToken(UserDetails userDetails) {\r\n        return Jwts.builder()\r\n                .setSubject(userDetails.getUsername())\r\n                .claim(&quot;authorities&quot;, userDetails.getAuthorities())\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis() + expirationTime))\r\n                .signWith(Keys.hmacShaKeyFor(secret), SignatureAlgorithm.HS256)\r\n                .compact();\r\n    }\r\n\r\n    ...\r\n}\r\n```\r\n\r\n**CustomUserDetailsService**\r\n```java\r\n@Service\r\npublic class CustomUserDetailsService implements UserDetailsService {\r\n\r\n    private AppUserRepository appUserRepository;\r\n\r\n    @Autowired\r\n    public void setAppUserRepository(AppUserRepository appUserRepository) {\r\n        this.appUserRepository = appUserRepository;\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        Optional&lt;AppUser&gt; optionalAppUser = appUserRepository.findByUsername(username);\r\n        if (optionalAppUser.isEmpty())\r\n            throw new UsernameNotFoundException(&quot;User not found while trying to load user&quot;);\r\n\r\n        AppUser appUser = optionalAppUser.get();\r\n\r\n        List&lt;GrantedAuthority&gt; authorities = appUser.getAuthority()\r\n                .stream()\r\n                .map(authority -&gt; new SimpleGrantedAuthority(authority.getAuthority().toString()))\r\n                .collect(Collectors.toList());\r\n\r\n        return User.builder()\r\n                .username(appUser.getUsername())\r\n                .password(appUser.getEncryptedPassword().replace(&quot;{bcrypt}&quot;, &quot;&quot;))\r\n                .authorities(authorities)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\n**AuthorityType Enum**\r\n```java\r\npublic enum AuthorityType {\r\n    TRIAL,\r\n    ESSENTIAL,\r\n    PREMIUM,\r\n    ADMIN;\r\n}\r\n```\r\n\r\n**JwtDecoder**\r\n```java\r\n@Bean\r\n    public JwtDecoder jwtDecoder() {\r\n        return NimbusJwtDecoder.withSecretKey(\r\n                new SecretKeySpec(jwtSecretProvider.getSecretKey(), SignatureAlgorithm.HS256.getValue())\r\n        ).build();\r\n    }\r\n```\r\n\r\n**JwtSecretProvider**\r\n```java\r\nprivate String secret;\r\n\r\npublic JwtSecretProvider() {\r\n    secret = Keys.secretKeyFor(signatureAlgorithm).getEncoded();\r\n}\r\n@Override\r\n    public byte[] getSecretKey() {\r\n        return secret;\r\n    }\r\n```\r\n\r\nand the error being:\r\n\r\n```\r\nJwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@77bce91c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[]]\r\n\r\n[WWW-Authenticate:&quot;Bearer error=&quot;insufficient_scope&quot;, error_description=&quot;The request requires higher privileges than provided by the access token.&quot;, error_uri=&quot;https://tools.ietf.org/html/rfc6750#section-3.1&quot;&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;0&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\r\n```","title":"Spring JWT authentication with &quot;.hasAuthority()&quot; returning &quot;insufficient scope&quot; error","body":"<p>I'm using JWT as authentication for Spring right now. I'm also using a custom <code>AppUser</code> entity with custom <code>Authority</code>.</p>\n<p>Here's the code for these entities:</p>\n<p><strong>AppUser entity</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;app_user&quot;)\npublic class AppUser {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private int id;\n\n    ...\n\n    @NotNull\n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name=&quot;authority_id&quot;, columnDefinition = &quot;INT NOT NULL&quot;)\n    private Set&lt;Authority&gt; authorities = new HashSet&lt;&gt;();\n    ...\n}\n</code></pre>\n<p><strong>Authority entity</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;authority&quot;)\npublic class Authority {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private int id;\n\n    @NotNull\n    @Enumerated(EnumType.STRING)\n    @Column(name=&quot;authority&quot;, columnDefinition =\n            &quot;ENUM('TRIAL', 'ESSENTIAL', 'PREMIUM', 'ADMIN') NOT NULL DEFAULT 'TRIAL'&quot;)\n    private AuthorityType authority = AuthorityType.TRIAL;\n\n    @JsonBackReference\n    @NotNull\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name=&quot;app_user_id&quot;, columnDefinition = &quot;INT NOT NULL&quot;)\n    private AppUser appUser;\n    ...\n}\n</code></pre>\n<p>Also here's my security config and custom UserDetailsServcie:</p>\n<p><strong>SecurityConfig</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    private AuthenticationProvider authenticationProvider;\n    private JwtSecretProvider jwtSecretProvider;\n\n    @Autowired\n    public SecurityConfig(AuthenticationProvider authenticationProvider, JwtSecretProvider jwtSecretProvider) {\n        this.authenticationProvider = authenticationProvider;\n        this.jwtSecretProvider = jwtSecretProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder authenticationManagerBuilder =\n                http.getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder.authenticationProvider(authenticationProvider);\n        return authenticationManagerBuilder.build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return web -&gt; {\n            web.ignoring().requestMatchers(HttpMethod.POST, &quot;/user&quot;, &quot;/user/login&quot;);\n        };\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf(AbstractHttpConfigurer::disable)\n                .formLogin(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(HttpMethod.POST, &quot;/user&quot;).permitAll()\n                        .requestMatchers(&quot;/user/login&quot;).permitAll()\n                        .anyRequest().hasAnyAuthority(&quot;ESSENTIAL&quot;, &quot;PREMIUM&quot;)\n                )\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt(jwt -&gt; jwt.decoder(jwtDecoder())))\n                .httpBasic(Customizer.withDefaults());\n        return http.build();\n    }\n</code></pre>\n<p><strong>CustomUserDetailsService</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class CustomUserDetailsService implements UserDetailsService {\n\n    private AppUserRepository appUserRepository;\n\n    @Autowired\n    public void setAppUserRepository(AppUserRepository appUserRepository) {\n        this.appUserRepository = appUserRepository;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Optional&lt;AppUser&gt; optionalAppUser = appUserRepository.findByUsername(username);\n        if (optionalAppUser.isEmpty())\n            throw new UsernameNotFoundException(&quot;User not found while trying to load user&quot;);\n\n        AppUser appUser = optionalAppUser.get();\n\n        List&lt;GrantedAuthority&gt; authorities = appUser.getAuthority()\n                .stream()\n                .map(authority -&gt; new SimpleGrantedAuthority(authority.getAuthority().name()))\n                .collect(Collectors.toList());\n\n        return User.builder()\n                .username(appUser.getUsername())\n                .password(appUser.getEncryptedPassword().replace(&quot;{bcrypt}&quot;, &quot;&quot;))\n                .authorities(authorities)\n                .build();\n    }\n}\n</code></pre>\n<p>and this is my error response when I call the url with <code>MockMvc</code> for <code>/journals</code>:</p>\n<p><strong>API call</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n    void checkIfCreatesJournal() throws Exception {\n        appUser = new AppUser();\n        appUser.setUsername(&quot;honggildong&quot;);\n        appUser.setEmail(&quot;a@a.com&quot;);\n        appUser.setEncryptedPassword(&quot;asdfasdfasdf123!&quot;);\n        Authority authority = new Authority();\n        authority.setAuthority(AuthorityType.ESSENTIAL);\n        authority.setAppUser(appUser);\n        appUser.setAuthority(new HashSet&lt;&gt;(List.of(authority)));\n\n        appUserService.createAppUser(appUser);\n        jwt = jwtUtil.generateToken(appUser.getUsername());\n\n        String content = objectMapper.writeValueAsString(journalMap);\n\n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;/journals&quot;)\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\n                .content(content)\n                .contentType(MediaType.APPLICATION_JSON))\n                .andDo(MockMvcResultHandlers.print())\n                .andExpect(MockMvcResultMatchers.status().isOk());\n\n        assertThat(journalService.getPaginatedJournals(appUser, 0, 1)\n                .getContent().get(0).getStockPrice()).isEqualTo(235.38);\n    }\n</code></pre>\n<p><strong>JwtUtil</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JwtUtil {\n\n    private final int expirationTime = 50 * 60 * 60 * 10;\n    private CustomUserDetailsService customUserDetailsService;\n\n    @Autowired\n    public JwtUtil(CustomUserDetailsService customUserDetailsService) {\n        this.customUserDetailsService = customUserDetailsService;\n        SignatureAlgorithm signatureAlgorithm = SignatureAlgorithm.HS256;\n        secret = Keys.secretKeyFor(signatureAlgorithm).getEncoded();\n    }\n\n    public String generateToken(String username) {\n        UserDetails userDetails = customUserDetailsService.loadUserByUsername(username);\n        return createToken(userDetails);\n    }\n\n    private String createToken(UserDetails userDetails) {\n        return Jwts.builder()\n                .setSubject(userDetails.getUsername())\n                .claim(&quot;authorities&quot;, userDetails.getAuthorities())\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + expirationTime))\n                .signWith(Keys.hmacShaKeyFor(secret), SignatureAlgorithm.HS256)\n                .compact();\n    }\n\n    ...\n}\n</code></pre>\n<p><strong>CustomUserDetailsService</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class CustomUserDetailsService implements UserDetailsService {\n\n    private AppUserRepository appUserRepository;\n\n    @Autowired\n    public void setAppUserRepository(AppUserRepository appUserRepository) {\n        this.appUserRepository = appUserRepository;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Optional&lt;AppUser&gt; optionalAppUser = appUserRepository.findByUsername(username);\n        if (optionalAppUser.isEmpty())\n            throw new UsernameNotFoundException(&quot;User not found while trying to load user&quot;);\n\n        AppUser appUser = optionalAppUser.get();\n\n        List&lt;GrantedAuthority&gt; authorities = appUser.getAuthority()\n                .stream()\n                .map(authority -&gt; new SimpleGrantedAuthority(authority.getAuthority().toString()))\n                .collect(Collectors.toList());\n\n        return User.builder()\n                .username(appUser.getUsername())\n                .password(appUser.getEncryptedPassword().replace(&quot;{bcrypt}&quot;, &quot;&quot;))\n                .authorities(authorities)\n                .build();\n    }\n}\n</code></pre>\n<p><strong>AuthorityType Enum</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum AuthorityType {\n    TRIAL,\n    ESSENTIAL,\n    PREMIUM,\n    ADMIN;\n}\n</code></pre>\n<p><strong>JwtDecoder</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n    public JwtDecoder jwtDecoder() {\n        return NimbusJwtDecoder.withSecretKey(\n                new SecretKeySpec(jwtSecretProvider.getSecretKey(), SignatureAlgorithm.HS256.getValue())\n        ).build();\n    }\n</code></pre>\n<p><strong>JwtSecretProvider</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>private String secret;\n\npublic JwtSecretProvider() {\n    secret = Keys.secretKeyFor(signatureAlgorithm).getEncoded();\n}\n@Override\n    public byte[] getSecretKey() {\n        return secret;\n    }\n</code></pre>\n<p>and the error being:</p>\n<pre><code>JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@77bce91c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[]]\n\n[WWW-Authenticate:&quot;Bearer error=&quot;insufficient_scope&quot;, error_description=&quot;The request requires higher privileges than provided by the access token.&quot;, error_uri=&quot;https://tools.ietf.org/html/rfc6750#section-3.1&quot;&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;0&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693309770,"post_id":76999905,"comment_id":135740913,"body_markdown":"i think you should to check it [migrating-from-springfox](https://springdoc.org/migrating-from-springfox.html)","body":"i think you should to check it <a href=\"https://springdoc.org/migrating-from-springfox.html\" rel=\"nofollow noreferrer\">migrating-from-springfox</a>"}],"owner":{"account_id":29250764,"reputation":1,"user_id":22410182,"display_name":"Amos00"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693309560,"creation_date":1693309560,"question_id":76999905,"body_markdown":"I updated project from java 12 to 17 and after I updated and migrated whole project, now it&#39;s turn to rewrite configuration for spring security. This is my swagger config and he should be replaced with OpenAPI config.\r\n\r\n```\r\npublic class SwaggerConfig {\r\n\r\n    private final String API_AUTH_SCHEME_NAME = &quot;API Bearer Token&quot;;\r\n    private final String BASIC_AUTH_SCHEME_NAME = &quot;basicAuth&quot;;\r\n\r\n    @Profile(&quot;!security&quot;)\r\n    @Bean\r\n    public Docket api() {\r\n        return basicApi();\r\n    }\r\n\r\n    @Profile(&quot;security&quot;)\r\n    @Bean\r\n    public Docket securedApi() {\r\n        return basicApi()\r\n            .securitySchemes(Arrays.asList(authEndpointScheme(), apiEndpointAuthScheme()))\r\n            .securityContexts(Arrays.asList(authEndpointSecurityContext(), apiEndpointSecurityContext()));\r\n    }\r\n\r\n    private SecurityContext authEndpointSecurityContext() {\r\n        return SecurityContext.builder()\r\n            .securityReferences(Collections.singletonList(authEndpointReference()))\r\n            .forPaths(PathSelectors.ant(&quot;/api/auth/token&quot;))\r\n            .build();\r\n    }\r\n\r\n    private SecurityContext apiEndpointSecurityContext() {\r\n        return SecurityContext.builder()\r\n            .securityReferences(Collections.singletonList(apiAuthEndpointReference()))\r\n            .forPaths(PathSelectors.regex(&quot;/api/(?!auth).*&quot;))\r\n            .build();\r\n    }\r\n\r\n    private SecurityScheme authEndpointScheme() {\r\n        return new BasicAuth(BASIC_AUTH_SCHEME_NAME);\r\n    }\r\n\r\n    private SecurityScheme apiEndpointAuthScheme() {\r\n        return new ApiKey(API_AUTH_SCHEME_NAME, HttpHeaders.AUTHORIZATION, &quot;header&quot;);\r\n    }\r\n\r\n    private SecurityReference authEndpointReference() {\r\n        return new SecurityReference(BASIC_AUTH_SCHEME_NAME, new AuthorizationScope[0]);\r\n    }\r\n\r\n    private SecurityReference apiAuthEndpointReference() {\r\n        return new SecurityReference(API_AUTH_SCHEME_NAME, new AuthorizationScope[0]);\r\n    }\r\n```\r\n\r\nNow I have to replace this config with OpenAPI config with springdoc.\r\nCan someone help me?","title":"Migrating from SpringFox to SpringDoc problem with SwaggerConfig","body":"<p>I updated project from java 12 to 17 and after I updated and migrated whole project, now it's turn to rewrite configuration for spring security. This is my swagger config and he should be replaced with OpenAPI config.</p>\n<pre><code>public class SwaggerConfig {\n\n    private final String API_AUTH_SCHEME_NAME = &quot;API Bearer Token&quot;;\n    private final String BASIC_AUTH_SCHEME_NAME = &quot;basicAuth&quot;;\n\n    @Profile(&quot;!security&quot;)\n    @Bean\n    public Docket api() {\n        return basicApi();\n    }\n\n    @Profile(&quot;security&quot;)\n    @Bean\n    public Docket securedApi() {\n        return basicApi()\n            .securitySchemes(Arrays.asList(authEndpointScheme(), apiEndpointAuthScheme()))\n            .securityContexts(Arrays.asList(authEndpointSecurityContext(), apiEndpointSecurityContext()));\n    }\n\n    private SecurityContext authEndpointSecurityContext() {\n        return SecurityContext.builder()\n            .securityReferences(Collections.singletonList(authEndpointReference()))\n            .forPaths(PathSelectors.ant(&quot;/api/auth/token&quot;))\n            .build();\n    }\n\n    private SecurityContext apiEndpointSecurityContext() {\n        return SecurityContext.builder()\n            .securityReferences(Collections.singletonList(apiAuthEndpointReference()))\n            .forPaths(PathSelectors.regex(&quot;/api/(?!auth).*&quot;))\n            .build();\n    }\n\n    private SecurityScheme authEndpointScheme() {\n        return new BasicAuth(BASIC_AUTH_SCHEME_NAME);\n    }\n\n    private SecurityScheme apiEndpointAuthScheme() {\n        return new ApiKey(API_AUTH_SCHEME_NAME, HttpHeaders.AUTHORIZATION, &quot;header&quot;);\n    }\n\n    private SecurityReference authEndpointReference() {\n        return new SecurityReference(BASIC_AUTH_SCHEME_NAME, new AuthorizationScope[0]);\n    }\n\n    private SecurityReference apiAuthEndpointReference() {\n        return new SecurityReference(API_AUTH_SCHEME_NAME, new AuthorizationScope[0]);\n    }\n</code></pre>\n<p>Now I have to replace this config with OpenAPI config with springdoc.\nCan someone help me?</p>\n"},{"tags":["java","visual-studio-code","jsp","servlets"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1693291064,"post_id":76997856,"comment_id":135737409,"body_markdown":"please put all the relevant file in the question as formatted text, not links to files/external sources","body":"please put all the relevant file in the question as formatted text, not links to files/external sources"},{"owner":{"account_id":27580800,"reputation":11,"user_id":21050055,"display_name":"Shoone"},"score":0,"creation_date":1693291173,"post_id":76997856,"comment_id":135737418,"body_markdown":"Ok, just a moment","body":"Ok, just a moment"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693295828,"creation_date":1693295828,"answer_id":76998371,"question_id":76997856,"body_markdown":"If you want to get hot reloading of `.jsp` files, you can install the [**Deploy**][1] extension and follow the steps below.\r\n\r\n 1. After downloading the extension, add the following configuration in ***settings.json***.\r\n\r\n    ```\r\n        &quot;deploy&quot;: {\r\n            &quot;packages&quot;: [\r\n                {\r\n                    &quot;name&quot;: &quot;frontend&quot;,\r\n                    &quot;description&quot;: &quot;All files in webapp&quot;,\r\n                    &quot;files&quot;: [\r\n                        &quot;src/main/webapp/*&quot;,\r\n                        &quot;src/main/webapp/*/*&quot;,\r\n                        &quot;src/main/webapp/*.*&quot;,\r\n                        &quot;src/main/webapp/*/*.*&quot;,\r\n                        &quot;src/main/webapp/*/*/*.*&quot;,\r\n                        &quot;src/main/webapp/*/*/*/*.*&quot;,\r\n                        &quot;src/main/webapp/*/*/*/*/*.*&quot;,\r\n                        &quot;src/main/webapp/*/*/*/*/*&quot;,\r\n                        &quot;src/main/webapp/*/*/*/*/*/*.*&quot;,\r\n                    ],\r\n                    &quot;exclude&quot;: [\r\n                        &quot;src/main/webapp/test/*&quot;\r\n                    ],\r\n                    &quot;deployOnSave&quot;: true,\r\n                    &quot;useTargetList&quot;: true,\r\n                    &quot;button&quot;: {\r\n                        &quot;text&quot;: &quot;Deploy&quot;,\r\n                        &quot;tooltip&quot;: &quot;Click here to deploy frontend to hotsite&quot;,\r\n                        &quot;targets&quot;: [ &quot;HOTSITE&quot; ]\r\n                    },\r\n                }\r\n            ],\r\n            &quot;targets&quot;: [\r\n                {\r\n                    &quot;type&quot;: &quot;local&quot;,\r\n                    &quot;name&quot;: &quot;HOTSITE&quot;,\r\n                    &quot;description&quot;: &quot;A local folder&quot;,\r\n                    &quot;dir&quot;: &quot;target/DETE/&quot;,\r\n                    &quot;mappings&quot;: [\r\n                        {\r\n                            &quot;source&quot;: &quot;src/main/webapp&quot;,\r\n                            &quot;isRegEx&quot;: false,\r\n                            &quot;target&quot;: &quot;/&quot;\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    ```\r\n\r\n 2. After the addition is complete, click the `Deploy` button that appears in the status bar below.\r\n\r\n    [![enter image description here][2]][2]\r\n\r\n 3. Right-click on the tomcat server and select `Add Deployment`\r\n\r\n    [![enter image description here][3]][3]\r\n\r\n 4. Select `Exploded`\r\n\r\n    [![enter image description here][4]][4]\r\n\r\n 5. Select the **DETE** folder generated by just clicking `Deploy` in the explorer\r\n\r\n    [![enter image description here][5]][5]\r\n\r\n 6. Type `http://localhost:8080/DETE` in the browser address bar and press Enter\r\n\r\n    [![enter image description here][6]][6]\r\n\r\n    *Or right-click on tomcat and select `Server Actions...` --&gt; `Show in Browser...` --&gt; `http://localhost:8080/DETE`*\r\n\r\n 7. Modify `.jsp` to add a line of content\r\n   [![enter image description here][7]][7]\r\n\r\n 8. Refreshing the page shows the changed content.\r\n   [![enter image description here][8]][8]\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=mkloubert.vs-deploy\r\n  [2]: https://i.stack.imgur.com/Yelc6.png\r\n  [3]: https://i.stack.imgur.com/MHBjr.png\r\n  [4]: https://i.stack.imgur.com/5okoR.png\r\n  [5]: https://i.stack.imgur.com/c2whq.png\r\n  [6]: https://i.stack.imgur.com/MifGe.png\r\n  [7]: https://i.stack.imgur.com/sfeHL.png\r\n  [8]: https://i.stack.imgur.com/f2Rqw.png\r\n\r\n\r\n\r\n\r\n\r\n","title":"Setting up VS Code for Java web development","body":"<p>If you want to get hot reloading of <code>.jsp</code> files, you can install the <a href=\"https://marketplace.visualstudio.com/items?itemName=mkloubert.vs-deploy\" rel=\"nofollow noreferrer\"><strong>Deploy</strong></a> extension and follow the steps below.</p>\n<ol>\n<li><p>After downloading the extension, add the following configuration in <em><strong>settings.json</strong></em>.</p>\n<pre><code>    &quot;deploy&quot;: {\n        &quot;packages&quot;: [\n            {\n                &quot;name&quot;: &quot;frontend&quot;,\n                &quot;description&quot;: &quot;All files in webapp&quot;,\n                &quot;files&quot;: [\n                    &quot;src/main/webapp/*&quot;,\n                    &quot;src/main/webapp/*/*&quot;,\n                    &quot;src/main/webapp/*.*&quot;,\n                    &quot;src/main/webapp/*/*.*&quot;,\n                    &quot;src/main/webapp/*/*/*.*&quot;,\n                    &quot;src/main/webapp/*/*/*/*.*&quot;,\n                    &quot;src/main/webapp/*/*/*/*/*.*&quot;,\n                    &quot;src/main/webapp/*/*/*/*/*&quot;,\n                    &quot;src/main/webapp/*/*/*/*/*/*.*&quot;,\n                ],\n                &quot;exclude&quot;: [\n                    &quot;src/main/webapp/test/*&quot;\n                ],\n                &quot;deployOnSave&quot;: true,\n                &quot;useTargetList&quot;: true,\n                &quot;button&quot;: {\n                    &quot;text&quot;: &quot;Deploy&quot;,\n                    &quot;tooltip&quot;: &quot;Click here to deploy frontend to hotsite&quot;,\n                    &quot;targets&quot;: [ &quot;HOTSITE&quot; ]\n                },\n            }\n        ],\n        &quot;targets&quot;: [\n            {\n                &quot;type&quot;: &quot;local&quot;,\n                &quot;name&quot;: &quot;HOTSITE&quot;,\n                &quot;description&quot;: &quot;A local folder&quot;,\n                &quot;dir&quot;: &quot;target/DETE/&quot;,\n                &quot;mappings&quot;: [\n                    {\n                        &quot;source&quot;: &quot;src/main/webapp&quot;,\n                        &quot;isRegEx&quot;: false,\n                        &quot;target&quot;: &quot;/&quot;\n                    }\n                ]\n            }\n        ]\n    }\n</code></pre>\n</li>\n<li><p>After the addition is complete, click the <code>Deploy</code> button that appears in the status bar below.</p>\n<p><a href=\"https://i.stack.imgur.com/Yelc6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yelc6.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Right-click on the tomcat server and select <code>Add Deployment</code></p>\n<p><a href=\"https://i.stack.imgur.com/MHBjr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MHBjr.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Select <code>Exploded</code></p>\n<p><a href=\"https://i.stack.imgur.com/5okoR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5okoR.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Select the <strong>DETE</strong> folder generated by just clicking <code>Deploy</code> in the explorer</p>\n<p><a href=\"https://i.stack.imgur.com/c2whq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c2whq.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Type <code>http://localhost:8080/DETE</code> in the browser address bar and press Enter</p>\n<p><a href=\"https://i.stack.imgur.com/MifGe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MifGe.png\" alt=\"enter image description here\" /></a></p>\n<p><em>Or right-click on tomcat and select <code>Server Actions...</code> --&gt; <code>Show in Browser...</code> --&gt; <code>http://localhost:8080/DETE</code></em></p>\n</li>\n<li><p>Modify <code>.jsp</code> to add a line of content\n<a href=\"https://i.stack.imgur.com/sfeHL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sfeHL.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Refreshing the page shows the changed content.\n<a href=\"https://i.stack.imgur.com/f2Rqw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f2Rqw.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":27580800,"reputation":11,"user_id":21050055,"display_name":"Shoone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693309503,"creation_date":1693291016,"question_id":76997856,"body_markdown":"I want to setup my pure Java web project in VS Code. My project directory looks like this:\r\n\r\n![screenshot from VS Code][1]\r\n\r\n    .vscode\r\n    WEB-INF\r\n     ..../classes/com/example/HelloWorldServlet.java\r\n    ..../lib/servlet-api.jar\r\n    ....web.xml\r\n    .classpath\r\n    index.jsp\r\n\r\n\r\nI have added my project to **webapps** folder in tomcat installation folder and when I go to localhost:8080/manager/html I can see /Project_1 as one of the applications: ![tomcat webapp manager][2]\r\n\r\nIf I go to *localhost:8080/Project_1* it shows me the contents of a body on index.jsp file, but when I edit the file it will not update, not even after tomcat restart. What am I missing? Also I have a servlet as you can see as one of my files and I specified a route for it but gives me 404  when I go on *localhost:8080/Project_1/hello*: [web.xml file][3]\r\n\r\nFiles:\r\n- web.xml: \r\n```xml\r\n    &lt;web-app&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;HelloWorldServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.example.HelloWorldServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;HelloWorldServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n- .classpath\r\n\r\n```xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;classpath&gt;\r\n    &lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER&quot;/&gt;\r\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/servlet-api.jar&quot;/&gt;\r\n    &lt;!-- Any other dependencies you might have --&gt;\r\n&lt;/classpath&gt;\r\n```\r\n\r\n- index.jsp\r\n\r\n```xml\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\npageEncoding=&quot;UTF-8&quot; %&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n  &lt;head&gt;\r\n    &lt;title&gt;Hello JSP&lt;/title&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n    &lt;h1&gt;Hello World from JSP&lt;/h1&gt;\r\n    &lt;h1&gt;Hello World from JSP&lt;/h1&gt;\r\n    &lt;h1&gt;Hello World from JSP&lt;/h1&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n- HelloWorldServlet.java\r\n```\r\npackage com.example;\r\n\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.*;\r\nimport java.io.*;\r\n\r\npublic class HelloWorldServlet extends HttpServlet {\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        response.setContentType(&quot;text/html&quot;);\r\n        PrintWriter out = response.getWriter();\r\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\r\n        out.println(&quot;&lt;h1&gt;Hello World from Servlet&lt;/h1&gt;&quot;);\r\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GK2Xv.png\r\n  [2]: https://i.stack.imgur.com/VYAzh.png\r\n  [3]: https://i.stack.imgur.com/LZOMh.png","title":"Setting up VS Code for Java web development","body":"<p>I want to setup my pure Java web project in VS Code. My project directory looks like this:</p>\n<p><img src=\"https://i.stack.imgur.com/GK2Xv.png\" alt=\"screenshot from VS Code\" /></p>\n<pre><code>.vscode\nWEB-INF\n ..../classes/com/example/HelloWorldServlet.java\n..../lib/servlet-api.jar\n....web.xml\n.classpath\nindex.jsp\n</code></pre>\n<p>I have added my project to <strong>webapps</strong> folder in tomcat installation folder and when I go to localhost:8080/manager/html I can see /Project_1 as one of the applications: <img src=\"https://i.stack.imgur.com/VYAzh.png\" alt=\"tomcat webapp manager\" /></p>\n<p>If I go to <em>localhost:8080/Project_1</em> it shows me the contents of a body on index.jsp file, but when I edit the file it will not update, not even after tomcat restart. What am I missing? Also I have a servlet as you can see as one of my files and I specified a route for it but gives me 404  when I go on <em>localhost:8080/Project_1/hello</em>: <a href=\"https://i.stack.imgur.com/LZOMh.png\" rel=\"nofollow noreferrer\">web.xml file</a></p>\n<p>Files:</p>\n<ul>\n<li>web.xml:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;web-app&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;HelloWorldServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.example.HelloWorldServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;HelloWorldServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<ul>\n<li>.classpath</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER&quot;/&gt;\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/servlet-api.jar&quot;/&gt;\n    &lt;!-- Any other dependencies you might have --&gt;\n&lt;/classpath&gt;\n</code></pre>\n<ul>\n<li>index.jsp</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\npageEncoding=&quot;UTF-8&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Hello JSP&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Hello World from JSP&lt;/h1&gt;\n    &lt;h1&gt;Hello World from JSP&lt;/h1&gt;\n    &lt;h1&gt;Hello World from JSP&lt;/h1&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<ul>\n<li>HelloWorldServlet.java</li>\n</ul>\n<pre><code>package com.example;\n\nimport javax.servlet.*;\nimport javax.servlet.http.*;\nimport java.io.*;\n\npublic class HelloWorldServlet extends HttpServlet {\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        response.setContentType(&quot;text/html&quot;);\n        PrintWriter out = response.getWriter();\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\n        out.println(&quot;&lt;h1&gt;Hello World from Servlet&lt;/h1&gt;&quot;);\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","spring-batch","large-data"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692215636,"post_id":76916505,"comment_id":135594974,"body_markdown":"*however my table doesn&#39;t have a numeric column to keep track of the row position.* What makes you think you need a *numeric* column?","body":"<i>however my table doesn&#39;t have a numeric column to keep track of the row position.</i> What makes you think you need a <i>numeric</i> column?"},{"owner":{"account_id":29030834,"reputation":1,"user_id":22237801,"display_name":"Avinash B"},"score":0,"creation_date":1692216293,"post_id":76916505,"comment_id":135595076,"body_markdown":"As per [this](https://keyholesoftware.com/2020/08/18/utilizing-spring-batch-for-large-dataset-summarization/) JdbcPagingItemReader uses SqlPagingQueryProviderFoctoryBean which needs a sortKey. The sortKey internally uses &#39;greater than&#39; to start the next iteration of reads.","body":"As per <a href=\"https://keyholesoftware.com/2020/08/18/utilizing-spring-batch-for-large-dataset-summarization/\" rel=\"nofollow noreferrer\">this</a> JdbcPagingItemReader uses SqlPagingQueryProviderFoctoryBean which needs a sortKey. The sortKey internally uses &#39;greater than&#39; to start the next iteration of reads."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692216434,"post_id":76916505,"comment_id":135595106,"body_markdown":"So why would it be unable to sort a date column?","body":"So why would it be unable to sort a date column?"},{"owner":{"account_id":29030834,"reputation":1,"user_id":22237801,"display_name":"Avinash B"},"score":0,"creation_date":1692217251,"post_id":76916505,"comment_id":135595254,"body_markdown":"Yes! You are right. This seems doable. Then what about from a error handling perspective? It will divide the rows as per the pageSize rather than day. And if an error occurs, I&#39;ll have to log the query of each read and then restart the job from that row, correct (Is this a correct approach?) ?","body":"Yes! You are right. This seems doable. Then what about from a error handling perspective? It will divide the rows as per the pageSize rather than day. And if an error occurs, I&#39;ll have to log the query of each read and then restart the job from that row, correct (Is this a correct approach?) ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692217659,"post_id":76916505,"comment_id":135595334,"body_markdown":"Oops - might have to rethink: [It is important to have a unique key constraint on the sort key to guarantee that no data is lost between executions.](https://medium.com/spring-boot-framework/spring-batch-pagination-with-jdbcpagingitemreader-8226855a53d)","body":"Oops - might have to rethink: <a href=\"https://medium.com/spring-boot-framework/spring-batch-pagination-with-jdbcpagingitemreader-8226855a53d\" rel=\"nofollow noreferrer\">It is important to have a unique key constraint on the sort key to guarantee that no data is lost between executions.</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692257783,"post_id":76916505,"comment_id":135599431,"body_markdown":"Why not just regular chunk processing? Spring Batch will record the chunk it broke at and you can just continue processing. You could even write a chunk/item listener which writes the wrong/failed records to file or a different table so you can retry/fix those. Your attempt to add splitting by day seems to only complicate what Spring Batch already offers out-of-the-box.","body":"Why not just regular chunk processing? Spring Batch will record the chunk it broke at and you can just continue processing. You could even write a chunk/item listener which writes the wrong/failed records to file or a different table so you can retry/fix those. Your attempt to add splitting by day seems to only complicate what Spring Batch already offers out-of-the-box."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693309130,"creation_date":1693309130,"answer_id":76999852,"question_id":76916505,"body_markdown":"A regular fault-tolerant chunk-oriented step should be enough, and restartability will be handled for you by Spring Batch. \r\n\r\nIf your issue is performance, then you can try a multi-threaded step (but you lose restartability). Otherwise, you can use partitioning (just fix your partitioning logic and make sure to have reasonably sized partitions). With partitioning, restarting a failed job will only reprocess failed partitions.","title":"Reading, processing and writing a large number of records (30 million) from a table by splitting the job by days using Spring Batch","body":"<p>A regular fault-tolerant chunk-oriented step should be enough, and restartability will be handled for you by Spring Batch.</p>\n<p>If your issue is performance, then you can try a multi-threaded step (but you lose restartability). Otherwise, you can use partitioning (just fix your partitioning logic and make sure to have reasonably sized partitions). With partitioning, restarting a failed job will only reprocess failed partitions.</p>\n"}],"owner":{"account_id":29030834,"reputation":1,"user_id":22237801,"display_name":"Avinash B"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693309130,"creation_date":1692213853,"question_id":76916505,"body_markdown":"I have a requirement to read data from table A, process them with some custom business logic and them write the processed data into another table B using Spring Batch.\r\n\r\nThe number of rows that are required to read are around 30 million in table A. So, in order to break this down to manageable parts (error handling, tracking etc), the plan is to read all the rows that belong to a day (Table A has a date column), process them and then batch insert into table B (I pass in start and end date for my job from which I calculate the number of days the table has to be read.). This way any exception occurs in any of the days, I can isolate the issue and restart my job from the non read rows only. Basically the goal is to break them into manageable pieces (split the job as per day), write them day by day and if any error occurs in between, I can restart my job from the day the error has occurred. Now for this reason I&#39;d prefer if the batch writing is sequential.\r\n\r\nSo in Spring Batch, my plan is to implement a calculate the number of days (say x) I need to process, invoke the reader x many times (this can be parallel) (reader returns list of objects of varying size) , process x times (returns list of processed objects) and then hands over the list of processed objects to the writer. The writer is invoked x times and batch writes the processed objects into Table B (this needs to be sequential).\r\n\r\nI&#39;ve searched quite a bit about this but couldn&#39;t find anything that can be usable in my use case. One article suggested JDBPCPagingItemReader (an alternative approach), however my table doesn&#39;t have a numeric column to keep track of the row position.\r\n\r\nI have also considered using a tasklet for this approach, however due to the large size of data, I found it inviable to store the data in stepExecutionContext (the combined size of all stepExecutionContext would be huge). I&#39;d rather want spring batch to handle the data as it is designed to handle large amounts of data.\r\n \r\nDespite my sequential requirement, I was able to get it somewhat working using a Partitioner. I have calculated the number of days between two dates and added them to the executionContext map. The reader is able read x many times, process it x many times but the writer is stuck in an infinite loop (still not viable from a debugging standpoint).\r\n\r\n\r\n\r\n\r\nHere is the job config, partitioner and reader coder:\r\n\r\n\r\n```\r\npublic class DataLoadJobConfig {\r\n    public final JobBuilderFactory jobBuilderFactory;\r\n    public final StepBuilderFactory stepBuilderFactory;\r\n    \r\n    @Bean\r\n    public Job CustomerJob() {\r\n        return jobBuilderFactory\r\n                .get(&quot;customerJob&quot;)\r\n                .flow(partitioningStep())\r\n                .end()\r\n                .build();\r\n    }\r\n    \r\n    @Bean\r\n    public Step partitioningStep() {\r\n        return stepBuilderFactory\r\n                .get(&quot;partitioningStep&quot;)\r\n                .partitioner(&quot;partitioningStep&quot;, partitioner())\r\n                .partitionHandler(partitionHandler())\r\n                .build();\r\n                \r\n    }\r\n\r\n    private Partitioner partitioner() {\r\n        LocalDate startDate = LocalDate.now();\r\n        LocalDate endDate = LocalDate.now();\r\n        DatePartitioner datePartitioner = new DatePartitioner();\r\n        datePartitioner.setStartDate(startDate);\r\n        datePartitioner.setEndDate(endDate);\r\n        return datePartitioner;\r\n    }\r\n\r\n    private PartitionHandler partitionHandler() {\r\n        TaskExecutorPartitionHandler partitionHandler = new TaskExecutorPartitionHandler();\r\n        partitionHandler.setStep(slaveStep());\r\n        return partitionHandler;\r\n    }\r\n\r\n    private Step slaveStep() {\r\n        return stepBuilderFactory\r\n                .get(&quot;slaveStep&quot;)\r\n                .&lt;List&lt;TableAEntity&gt;, List&lt;TableBEntity&gt;&gt;chunk(1) // not sure what the chunk size would be as for each day the result size would be different\r\n                .reader(reader())\r\n                .processor(processor())\r\n                .writer(writer())\r\n                .build();\r\n    }\r\n\r\n    private ItemWriter&lt;? super List&lt;TableBEntity&gt;&gt; writer() {\r\n    }\r\n\r\n    private ItemProcessor&lt;? super List&lt;TableAEntity&gt;,? extends List&lt;TableBEntity&gt;&gt; processor() {\r\n    }\r\n\r\n    private ItemReader&lt;? extends List&lt;TableAEntity&gt;&gt; reader() {\r\n    }\r\n}\r\n```\r\n\r\nCustom Partitioner\r\n```\r\npublic class DatePartitioner implements Partitioner {\r\n    private LocalDate startDate;\r\n    private LocalDate endDate;\r\n\r\n    public void setStartDate(LocalDate startDate) {\r\n        this.startDate = startDate;\r\n    }\r\n\r\n    public void setEndDate(LocalDate endDate) {\r\n        this.endDate = endDate;\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;String, ExecutionContext&gt; partition(int gridSize) {\r\n        Map&lt;String, ExecutionContext&gt; executionContextMap = new HashMap&lt;&gt;();\r\n        LocalDate currentDate = startDate;\r\n        int i = 0;\r\n        while (!currentDate.equals(endDate)) {\r\n            ExecutionContext context = new ExecutionContext();\r\n            context.put(&quot;day&quot;, currentDate);\r\n            executionContextMap.put(&quot;partition_&quot; + i, context);\r\n            currentDate = currentDate.plusDays(1);\r\n            i++;\r\n        }\r\n        return executionContextMap;\r\n    }\r\n}\r\n```\r\n\r\nFrom an architectural point of view is dividing the dataset into day partitions, the correct approach? If it isn&#39;t is there any better way to approach this problem? \r\nOr is this approach even possible in Spring Batch? Does Spring batch support designing your custom data pipeline? (where I can keep readers parallel but writers sequential?).\r\nOr in the tasklet approach, how can I make spring handle the large amounts of data instead of me storing it manually in the stepExecutionContext?\r\nAlso in this case I&#39;m thinking I don&#39;t need chunk size as its dynamic and depends on how many records I&#39;m getting for a day. In this case how do I work around chunk size?\r\n\r\nIf I&#39;m thinking about this from a wrong perspective please educate me. Don&#39;t hesitate to be critical. Thank you!\r\n","title":"Reading, processing and writing a large number of records (30 million) from a table by splitting the job by days using Spring Batch","body":"<p>I have a requirement to read data from table A, process them with some custom business logic and them write the processed data into another table B using Spring Batch.</p>\n<p>The number of rows that are required to read are around 30 million in table A. So, in order to break this down to manageable parts (error handling, tracking etc), the plan is to read all the rows that belong to a day (Table A has a date column), process them and then batch insert into table B (I pass in start and end date for my job from which I calculate the number of days the table has to be read.). This way any exception occurs in any of the days, I can isolate the issue and restart my job from the non read rows only. Basically the goal is to break them into manageable pieces (split the job as per day), write them day by day and if any error occurs in between, I can restart my job from the day the error has occurred. Now for this reason I'd prefer if the batch writing is sequential.</p>\n<p>So in Spring Batch, my plan is to implement a calculate the number of days (say x) I need to process, invoke the reader x many times (this can be parallel) (reader returns list of objects of varying size) , process x times (returns list of processed objects) and then hands over the list of processed objects to the writer. The writer is invoked x times and batch writes the processed objects into Table B (this needs to be sequential).</p>\n<p>I've searched quite a bit about this but couldn't find anything that can be usable in my use case. One article suggested JDBPCPagingItemReader (an alternative approach), however my table doesn't have a numeric column to keep track of the row position.</p>\n<p>I have also considered using a tasklet for this approach, however due to the large size of data, I found it inviable to store the data in stepExecutionContext (the combined size of all stepExecutionContext would be huge). I'd rather want spring batch to handle the data as it is designed to handle large amounts of data.</p>\n<p>Despite my sequential requirement, I was able to get it somewhat working using a Partitioner. I have calculated the number of days between two dates and added them to the executionContext map. The reader is able read x many times, process it x many times but the writer is stuck in an infinite loop (still not viable from a debugging standpoint).</p>\n<p>Here is the job config, partitioner and reader coder:</p>\n<pre><code>public class DataLoadJobConfig {\n    public final JobBuilderFactory jobBuilderFactory;\n    public final StepBuilderFactory stepBuilderFactory;\n    \n    @Bean\n    public Job CustomerJob() {\n        return jobBuilderFactory\n                .get(&quot;customerJob&quot;)\n                .flow(partitioningStep())\n                .end()\n                .build();\n    }\n    \n    @Bean\n    public Step partitioningStep() {\n        return stepBuilderFactory\n                .get(&quot;partitioningStep&quot;)\n                .partitioner(&quot;partitioningStep&quot;, partitioner())\n                .partitionHandler(partitionHandler())\n                .build();\n                \n    }\n\n    private Partitioner partitioner() {\n        LocalDate startDate = LocalDate.now();\n        LocalDate endDate = LocalDate.now();\n        DatePartitioner datePartitioner = new DatePartitioner();\n        datePartitioner.setStartDate(startDate);\n        datePartitioner.setEndDate(endDate);\n        return datePartitioner;\n    }\n\n    private PartitionHandler partitionHandler() {\n        TaskExecutorPartitionHandler partitionHandler = new TaskExecutorPartitionHandler();\n        partitionHandler.setStep(slaveStep());\n        return partitionHandler;\n    }\n\n    private Step slaveStep() {\n        return stepBuilderFactory\n                .get(&quot;slaveStep&quot;)\n                .&lt;List&lt;TableAEntity&gt;, List&lt;TableBEntity&gt;&gt;chunk(1) // not sure what the chunk size would be as for each day the result size would be different\n                .reader(reader())\n                .processor(processor())\n                .writer(writer())\n                .build();\n    }\n\n    private ItemWriter&lt;? super List&lt;TableBEntity&gt;&gt; writer() {\n    }\n\n    private ItemProcessor&lt;? super List&lt;TableAEntity&gt;,? extends List&lt;TableBEntity&gt;&gt; processor() {\n    }\n\n    private ItemReader&lt;? extends List&lt;TableAEntity&gt;&gt; reader() {\n    }\n}\n</code></pre>\n<p>Custom Partitioner</p>\n<pre><code>public class DatePartitioner implements Partitioner {\n    private LocalDate startDate;\n    private LocalDate endDate;\n\n    public void setStartDate(LocalDate startDate) {\n        this.startDate = startDate;\n    }\n\n    public void setEndDate(LocalDate endDate) {\n        this.endDate = endDate;\n    }\n\n    @Override\n    public Map&lt;String, ExecutionContext&gt; partition(int gridSize) {\n        Map&lt;String, ExecutionContext&gt; executionContextMap = new HashMap&lt;&gt;();\n        LocalDate currentDate = startDate;\n        int i = 0;\n        while (!currentDate.equals(endDate)) {\n            ExecutionContext context = new ExecutionContext();\n            context.put(&quot;day&quot;, currentDate);\n            executionContextMap.put(&quot;partition_&quot; + i, context);\n            currentDate = currentDate.plusDays(1);\n            i++;\n        }\n        return executionContextMap;\n    }\n}\n</code></pre>\n<p>From an architectural point of view is dividing the dataset into day partitions, the correct approach? If it isn't is there any better way to approach this problem?\nOr is this approach even possible in Spring Batch? Does Spring batch support designing your custom data pipeline? (where I can keep readers parallel but writers sequential?).\nOr in the tasklet approach, how can I make spring handle the large amounts of data instead of me storing it manually in the stepExecutionContext?\nAlso in this case I'm thinking I don't need chunk size as its dynamic and depends on how many records I'm getting for a day. In this case how do I work around chunk size?</p>\n<p>If I'm thinking about this from a wrong perspective please educate me. Don't hesitate to be critical. Thank you!</p>\n"},{"tags":["java","jms","ibm-mq","mainframe"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":1,"creation_date":1693282272,"post_id":76997212,"comment_id":135736543,"body_markdown":"Where is the code where you create the `connection`?","body":"Where is the code where you create the <code>connection</code>?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1693283713,"post_id":76997212,"comment_id":135736652,"body_markdown":"`MessageConsumer.receive(long timeout)`: &quot;**Returns:**\n    the next message produced for this message consumer, or null if the timeout expires or this message consumer is concurrently closed&quot;.","body":"<code>MessageConsumer.receive(long timeout)</code>: &quot;<b>Returns:</b>     the next message produced for this message consumer, or null if the timeout expires or this message consumer is concurrently closed&quot;."},{"owner":{"account_id":29272689,"reputation":27,"user_id":22427101,"display_name":"SRA"},"score":0,"creation_date":1693288073,"post_id":76997212,"comment_id":135737003,"body_markdown":"Because of the IBM migration, the previously used connection pool manager is no longer supported. As a result, I need to identify an alternative approach for sending messages, so I used JMS .so I considering that the old code was sending messages in the following manner.","body":"Because of the IBM migration, the previously used connection pool manager is no longer supported. As a result, I need to identify an alternative approach for sending messages, so I used JMS .so I considering that the old code was sending messages in the following manner."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1693288302,"post_id":76997212,"comment_id":135737031,"body_markdown":"And you got a timeout or concurrent close, like it says in the Javadoc I quoted. What&#39;s your question?","body":"And you got a timeout or concurrent close, like it says in the Javadoc I quoted. What&#39;s your question?"}],"answers":[{"tags":[],"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693301123,"creation_date":1693300280,"answer_id":76998827,"question_id":76997212,"body_markdown":"As you have a time out on `receive`\r\n\r\n```Java\r\n\r\nMessage replyMessage = consumer.receive(replyTimeout * 1000);\r\n\r\n```\r\n\r\n`replyMessage` will return `null` after 1 second of waiting, if no message is found.\r\n\r\nThere are a couple of reasons why a message may not be found. \r\n\r\n1. There is no message on the replyTo queue. The reply application hasn&#39;t run or it hasn&#39;t committed its response.\r\n\r\n2. The reply message doesn&#39;t have the correlation ID set to the message ID of the original message. You don&#39;t share the reply code, so it&#39;s difficult to say why.\r\n\r\nNo message would be found as you have code that has a selector on the correlation ID.\r\n\r\n```Java\r\n\r\nString selector=&quot;JMSCorrelationID=&#39;&quot;+messageID+&quot;&#39;&quot;;\r\nlogger.info(&quot;Selecting reply based on selector &quot; + selector);\r\n// Receive a message from reply queue\r\nMessageConsumer consumer = session.createConsumer(replyQueue,selector);\r\n\r\n```\r\n\r\n","title":"getting NULL response from IBM MQ","body":"<p>As you have a time out on <code>receive</code></p>\n<pre><code>\nMessage replyMessage = consumer.receive(replyTimeout * 1000);\n\n</code></pre>\n<p><code>replyMessage</code> will return <code>null</code> after 1 second of waiting, if no message is found.</p>\n<p>There are a couple of reasons why a message may not be found.</p>\n<ol>\n<li><p>There is no message on the replyTo queue. The reply application hasn't run or it hasn't committed its response.</p>\n</li>\n<li><p>The reply message doesn't have the correlation ID set to the message ID of the original message. You don't share the reply code, so it's difficult to say why.</p>\n</li>\n</ol>\n<p>No message would be found as you have code that has a selector on the correlation ID.</p>\n<pre><code>\nString selector=&quot;JMSCorrelationID='&quot;+messageID+&quot;'&quot;;\nlogger.info(&quot;Selecting reply based on selector &quot; + selector);\n// Receive a message from reply queue\nMessageConsumer consumer = session.createConsumer(replyQueue,selector);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693308903,"creation_date":1693308903,"answer_id":76999830,"question_id":76997212,"body_markdown":"You have not called [`start()`][1] on the `Connection` to cause messages to flow to your consumer.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/Connection.html#start--","title":"getting NULL response from IBM MQ","body":"<p>You have not called <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Connection.html#start--\" rel=\"nofollow noreferrer\"><code>start()</code></a> on the <code>Connection</code> to cause messages to flow to your consumer.</p>\n"}],"owner":{"account_id":29272689,"reputation":27,"user_id":22427101,"display_name":"SRA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1693308903,"creation_date":1693281137,"question_id":76997212,"body_markdown":"I am sending a request to IBM MQ and receiving a response using JMS. However, I am currently receiving a null response, even though there is a text message Or byte message present on the mainframe. Can you help me understand why I am getting a null value.\r\n\r\nMy code is like this. \r\nI declared the username, CICS transaction code, request queue name, and reply queue name before this code.&quot; \r\n```\r\ntry {\r\n\t\t\tlogger.info(&quot;doCicsRequestReply ::: Getting JMS connections  &quot;);\r\n\t\t\tHashtable&lt;String, String&gt; environment = new Hashtable&lt;String, String&gt;();\r\n\r\n\t\t\tenvironment.put(Context.INITIAL_CONTEXT_FACTORY,\r\n\t\t\t\t\t&quot;com.ibm.websphere.naming.WsnInitialContextFactory&quot;);\r\n\r\n\t\t\t// Setup JNDI context\r\n\t\t\tContext context = new InitialContext(environment);\r\n\r\n\t\t\t// Look up connection factory and destination queue\r\n\t\t\tConnectionFactory connectionFactory = (ConnectionFactory) context\r\n\t\t\t\t\t.lookup(&quot;jms/MQCF&quot;);\r\n\t\t\t\r\n\t\t\t// creating request Queue\r\n\t\t\tDestination requestQueue = (Destination) context\r\n\t\t\t\t\t.lookup(requestQueueName);\r\n\r\n\t\t\tConnection connection = connectionFactory.createConnection();\r\n\t\t\tSession session = connection.createSession(false,\r\n\t\t\t\t\tSession.AUTO_ACKNOWLEDGE);\r\n\t\t\tlogger.info(&quot;getJMSConnection:: JMS connections  created ...&quot;);\r\n\r\n\t\r\n\t\t\t((JmsDestination) requestQueue).setIntProperty(\r\n\t\t\t\t\tWMQConstants.WMQ_MQMD_MESSAGE_CONTEXT,\r\n\t\t\t\t\tWMQConstants.WMQ_MDCTX_SET_IDENTITY_CONTEXT);\r\n\t\t\t\r\n\t\t\tlogger.info(&quot;doCicsRequestReply: Request  queue created  &quot;);\r\n\t\t\t\r\n\t\t\t// creating response queue\r\n\t\t\tDestination replyQueue = (Destination) context\r\n\t\t\t\t\t.lookup(replyToQueueName);\r\n\t\t\t//Destination.setBooleanProperty(WMQConstants.WMQ_MQMD_WRITE_ENABLED, true);\r\n\r\n\t\t\t// closing the context\r\n\t\t\tcontext.close();\r\n\t\t\t// Create connection, session, and producer\r\n\t\t\tMessageProducer producer = session.createProducer(requestQueue);\r\n\t\t\tlogger.info(&quot;doCicsRequestReply: Request and response queue created  &quot;);\r\n\t\t\t\r\n\t\t\t// Setting up request headers and message\r\n\t\t\tBytesMessage message = session.createBytesMessage();\r\n\t\t\t// Request Headers\r\n\t\t\tmessage.setJMSMessageID(MQConstants.MQMI_NONE.toString());\r\n\t\t\tmessage.setJMSCorrelationIDAsBytes(MQConstants.MQCI_NEW_SESSION);\r\n\t\t\tmessage.setJMSReplyTo(replyQueue);\r\n\t\t\tmessage.setStringProperty(&quot;JMS_IBM_MQMD_UserIdentifier&quot;, racfUserid);\r\n\t\t\tmessage.setIntProperty(&quot;JMS_IBM_MQMD_CodedCharSetId&quot;,\r\n\t\t\t\t\tCHARSET_IBM500);\r\n\t\t\tmessage.setStringProperty(&quot;JMS_IBM_MQMD_Format&quot;,\r\n\t\t\t\t\tMQConstants.MQFMT_CICS);\r\n\t\t\tmessage.setIntProperty(&quot;JMS_IBM_MQMD_Encoding&quot;, messageEncoding);\r\n\t\t\tmessage.setIntProperty(&quot;JMS_IBM_MQMD_Persistence&quot;, persistence);\r\n\r\n\t\t\tlogger.info(&quot;doCicsRequestReply: Request header setup completed.. &quot;);\r\n\r\n\t\t\tbyte blanks[] = new byte[8];\r\n\t\t\tfor (int i = 0; i &lt; blanks.length; i++)\r\n\t\t\t\tblanks[i] = (byte) &#39; &#39;;\r\n\r\n\t\t\t// Construct the CIH header as a byte array\r\n\t\t\tByteArrayOutputStream outBytes = new ByteArrayOutputStream();\r\n\t\t\tDataOutputStream outData = new DataOutputStream(outBytes);\r\n\r\n\t\t\toutData.writeBytes(&quot;CIH &quot;); // MQCHAR strucId\r\n\t\t\toutData.writeInt(2); // MQLONG version\r\n\t\t\toutData.writeInt(180); // MQLONG strucLength\r\n\t\t\toutData.writeInt(messageEncoding); // MQLONG encoding\r\n\t\t\toutData.writeInt(CHARSET_IBM500); // MQLONG CodedCharSetId;\r\n\t\t\toutData.writeBytes(MQConstants.MQFMT_STRING); // MQCHAR8 Format;\r\n\t\t\toutData.writeInt(4); // MQLONG Flags;\r\n\t\t\toutData.writeInt(0); // MQLONG ReturnCode;\r\n\t\t\toutData.writeInt(0); // MQLONG CompCode;\r\n\t\t\t//-----continues the remaining code \r\n\r\n\t\t\t// ---- make sure progName is exactly 8 characters\r\n\t\t\tStringBuffer pgmName = new StringBuffer(progName);\r\n\t\t\tfor (int i = pgmName.length(); i &lt; 8; i++)\r\n\t\t\t\tpgmName.append(&#39; &#39;);\r\n\t\t\t// ---- write program name followed by commarea\r\n\t\t\toutData.writeBytes(pgmName.substring(0, 8)); \r\n\t\t\toutData.writeBytes(commArea);\r\n\t\t\t\r\n\t\t\tlogger.info(&quot;doCicsRequestReply: Setting byte message..&quot;);\r\n\t\t\tbyte[] cihRequestMessage = outBytes.toByteArray();\r\n\t\t\tmessage.writeBytes(cihRequestMessage);\r\n\r\n\t\t\tlogger.info(&quot;doCicsRequestReply: Request body completed&quot;);\r\n\t\t\tlogger.info(&quot;doCicsRequestReply: Request message:&quot;+outBytes);\r\n\t\t\t\r\n\t\t\t// Send the message to queue..\r\n\t\t\tproducer.send(message);\r\n\t\t\tlogger.info(&quot;doCicsRequestReply: Request to sent to queue:&quot;+message);\r\n\t\t\t\r\n\t\t\tString messageID = message.getJMSMessageID();\r\n\t\t\tString selector=&quot;JMSCorrelationID=&#39;&quot;+messageID+&quot;&#39;&quot;;\r\n\t\t\tlogger.info(&quot;Selecting reply based on selector &quot; + selector);\r\n\t\t\t// Receive a message from reply queue\r\n\t\t\tMessageConsumer consumer = session.createConsumer(replyQueue,selector);\r\n\t\t\t//MessageConsumer consumer = session.createConsumer(replyQueue);\r\n\t\t\tlogger.info(&quot;doCicsRequestReply: create consumer for response... &quot;);\r\n\t\t\t\r\n\t\t\tMessage replyMessage = consumer.receive(replyTimeout * 1000);\r\n\r\n\t\t\tlogger.info(&quot;doCicsRequestReply: Response received... : &quot;+replyMessage);\r\n\r\n\t\t\tif(replyMessage==null)\r\n\t\t\t{\r\n\t\t\t\tlogger.info(&quot;doCicsRequestReply: its a null value... &quot;);\r\n\t\t\t\tresponseMessage = &quot;null&quot;;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse if (replyMessage instanceof TextMessage) {\r\n\t\t\t\t\r\n\t\t\t\tlogger.info(&quot; Reply from CICS server.. TextMessage &quot;);\r\n\t\t\t\tString replText = ((TextMessage) replyMessage).getText();\r\n\t\t\t\tlogger.info(&quot; Reply from CICS server.. &quot; + replText);\r\n\t\t\t\tresponseMessage = replText;\r\n\t\t\t\t\r\n\t\t\t}else if (replyMessage instanceof BytesMessage) {\r\n\t\t\t\t\r\n\t\t\t\tlogger.info(&quot; Reply from CICS server.. TextMessage &quot;);\r\n\t\t\t\t\r\n\t\t\t\tBytesMessage bytesMessage = (BytesMessage) replyMessage;\r\n\t\t\t\t\r\n\t\t\t\tint length = (int) bytesMessage.getBodyLength();\r\n\t\t\t\t\r\n\t\t\t\tlogger.info(&quot; Reply from CICS server.. getBodyLength:: &quot;+length);\r\n\t\t\t\t\r\n\t\t\t\tbyte[] messageBytes = new byte[length];\r\n\t\t\t\t\r\n\t\t\t\tbytesMessage.readBytes(messageBytes);\r\n\t\t\t\t\r\n\t\t\t\tString textMessage = new String(messageBytes, &quot;UTF-8&quot;);\r\n\t\t\t\t\r\n\t\t\t\tlogger.info(&quot; Reply from CICS server.. &quot; + textMessage);\r\n\t\t\t\t\r\n\t\t\t\tresponseMessage = textMessage;\r\n\t\t\t\t","title":"getting NULL response from IBM MQ","body":"<p>I am sending a request to IBM MQ and receiving a response using JMS. However, I am currently receiving a null response, even though there is a text message Or byte message present on the mainframe. Can you help me understand why I am getting a null value.</p>\n<p>My code is like this.\nI declared the username, CICS transaction code, request queue name, and reply queue name before this code.&quot;</p>\n<pre><code>try {\n            logger.info(&quot;doCicsRequestReply ::: Getting JMS connections  &quot;);\n            Hashtable&lt;String, String&gt; environment = new Hashtable&lt;String, String&gt;();\n\n            environment.put(Context.INITIAL_CONTEXT_FACTORY,\n                    &quot;com.ibm.websphere.naming.WsnInitialContextFactory&quot;);\n\n            // Setup JNDI context\n            Context context = new InitialContext(environment);\n\n            // Look up connection factory and destination queue\n            ConnectionFactory connectionFactory = (ConnectionFactory) context\n                    .lookup(&quot;jms/MQCF&quot;);\n            \n            // creating request Queue\n            Destination requestQueue = (Destination) context\n                    .lookup(requestQueueName);\n\n            Connection connection = connectionFactory.createConnection();\n            Session session = connection.createSession(false,\n                    Session.AUTO_ACKNOWLEDGE);\n            logger.info(&quot;getJMSConnection:: JMS connections  created ...&quot;);\n\n    \n            ((JmsDestination) requestQueue).setIntProperty(\n                    WMQConstants.WMQ_MQMD_MESSAGE_CONTEXT,\n                    WMQConstants.WMQ_MDCTX_SET_IDENTITY_CONTEXT);\n            \n            logger.info(&quot;doCicsRequestReply: Request  queue created  &quot;);\n            \n            // creating response queue\n            Destination replyQueue = (Destination) context\n                    .lookup(replyToQueueName);\n            //Destination.setBooleanProperty(WMQConstants.WMQ_MQMD_WRITE_ENABLED, true);\n\n            // closing the context\n            context.close();\n            // Create connection, session, and producer\n            MessageProducer producer = session.createProducer(requestQueue);\n            logger.info(&quot;doCicsRequestReply: Request and response queue created  &quot;);\n            \n            // Setting up request headers and message\n            BytesMessage message = session.createBytesMessage();\n            // Request Headers\n            message.setJMSMessageID(MQConstants.MQMI_NONE.toString());\n            message.setJMSCorrelationIDAsBytes(MQConstants.MQCI_NEW_SESSION);\n            message.setJMSReplyTo(replyQueue);\n            message.setStringProperty(&quot;JMS_IBM_MQMD_UserIdentifier&quot;, racfUserid);\n            message.setIntProperty(&quot;JMS_IBM_MQMD_CodedCharSetId&quot;,\n                    CHARSET_IBM500);\n            message.setStringProperty(&quot;JMS_IBM_MQMD_Format&quot;,\n                    MQConstants.MQFMT_CICS);\n            message.setIntProperty(&quot;JMS_IBM_MQMD_Encoding&quot;, messageEncoding);\n            message.setIntProperty(&quot;JMS_IBM_MQMD_Persistence&quot;, persistence);\n\n            logger.info(&quot;doCicsRequestReply: Request header setup completed.. &quot;);\n\n            byte blanks[] = new byte[8];\n            for (int i = 0; i &lt; blanks.length; i++)\n                blanks[i] = (byte) ' ';\n\n            // Construct the CIH header as a byte array\n            ByteArrayOutputStream outBytes = new ByteArrayOutputStream();\n            DataOutputStream outData = new DataOutputStream(outBytes);\n\n            outData.writeBytes(&quot;CIH &quot;); // MQCHAR strucId\n            outData.writeInt(2); // MQLONG version\n            outData.writeInt(180); // MQLONG strucLength\n            outData.writeInt(messageEncoding); // MQLONG encoding\n            outData.writeInt(CHARSET_IBM500); // MQLONG CodedCharSetId;\n            outData.writeBytes(MQConstants.MQFMT_STRING); // MQCHAR8 Format;\n            outData.writeInt(4); // MQLONG Flags;\n            outData.writeInt(0); // MQLONG ReturnCode;\n            outData.writeInt(0); // MQLONG CompCode;\n            //-----continues the remaining code \n\n            // ---- make sure progName is exactly 8 characters\n            StringBuffer pgmName = new StringBuffer(progName);\n            for (int i = pgmName.length(); i &lt; 8; i++)\n                pgmName.append(' ');\n            // ---- write program name followed by commarea\n            outData.writeBytes(pgmName.substring(0, 8)); \n            outData.writeBytes(commArea);\n            \n            logger.info(&quot;doCicsRequestReply: Setting byte message..&quot;);\n            byte[] cihRequestMessage = outBytes.toByteArray();\n            message.writeBytes(cihRequestMessage);\n\n            logger.info(&quot;doCicsRequestReply: Request body completed&quot;);\n            logger.info(&quot;doCicsRequestReply: Request message:&quot;+outBytes);\n            \n            // Send the message to queue..\n            producer.send(message);\n            logger.info(&quot;doCicsRequestReply: Request to sent to queue:&quot;+message);\n            \n            String messageID = message.getJMSMessageID();\n            String selector=&quot;JMSCorrelationID='&quot;+messageID+&quot;'&quot;;\n            logger.info(&quot;Selecting reply based on selector &quot; + selector);\n            // Receive a message from reply queue\n            MessageConsumer consumer = session.createConsumer(replyQueue,selector);\n            //MessageConsumer consumer = session.createConsumer(replyQueue);\n            logger.info(&quot;doCicsRequestReply: create consumer for response... &quot;);\n            \n            Message replyMessage = consumer.receive(replyTimeout * 1000);\n\n            logger.info(&quot;doCicsRequestReply: Response received... : &quot;+replyMessage);\n\n            if(replyMessage==null)\n            {\n                logger.info(&quot;doCicsRequestReply: its a null value... &quot;);\n                responseMessage = &quot;null&quot;;\n            }\n            \n            else if (replyMessage instanceof TextMessage) {\n                \n                logger.info(&quot; Reply from CICS server.. TextMessage &quot;);\n                String replText = ((TextMessage) replyMessage).getText();\n                logger.info(&quot; Reply from CICS server.. &quot; + replText);\n                responseMessage = replText;\n                \n            }else if (replyMessage instanceof BytesMessage) {\n                \n                logger.info(&quot; Reply from CICS server.. TextMessage &quot;);\n                \n                BytesMessage bytesMessage = (BytesMessage) replyMessage;\n                \n                int length = (int) bytesMessage.getBodyLength();\n                \n                logger.info(&quot; Reply from CICS server.. getBodyLength:: &quot;+length);\n                \n                byte[] messageBytes = new byte[length];\n                \n                bytesMessage.readBytes(messageBytes);\n                \n                String textMessage = new String(messageBytes, &quot;UTF-8&quot;);\n                \n                logger.info(&quot; Reply from CICS server.. &quot; + textMessage);\n                \n                responseMessage = textMessage;\n                \n</code></pre>\n"},{"tags":["java","vaadin7"],"answers":[{"tags":[],"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693308377,"creation_date":1693308377,"answer_id":76999771,"question_id":76999181,"body_markdown":"You can&#39;t implement a file download like that. The Vaadin client is expecting a specifically formatted response. You can use a FileDownloader extension instead: https://vaadin.com/docs/v8/framework/articles/LettingTheUserDownloadAFile","title":"Downloading a file using Vaadin","body":"<p>You can't implement a file download like that. The Vaadin client is expecting a specifically formatted response. You can use a FileDownloader extension instead: <a href=\"https://vaadin.com/docs/v8/framework/articles/LettingTheUserDownloadAFile\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/v8/framework/articles/LettingTheUserDownloadAFile</a></p>\n"}],"owner":{"account_id":26019398,"reputation":19,"user_id":19727296,"display_name":"Abikrish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76999771,"answer_count":1,"score":1,"last_activity_date":1693308377,"creation_date":1693303113,"question_id":76999181,"body_markdown":"Here is my code to try to download a file using Vaadin. \r\nThe button function is added within a component. \r\n```\r\nButton button = new Button(&quot;Generate&quot;);\r\n@Override\r\npublic void buttonClick(ClickEvent event) {\r\ntry{\r\n    VaadinResponse resp = VaadinService.getCurrentResponse();\r\n\tHttpServletResponse response = (HttpServletResponse) resp;\r\n    response.setContentType(&quot;text/csv&quot;);\r\n\tresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;Report.csv\\&quot;&quot;);\r\n    OutputStream outputStream = response.getOutputStream();\r\n    String outputResult = &quot;Id,name,dept,salary\\n&quot;;\r\n    outputStream.write(outputResult.getBytes());\r\n\toutputStream.flush();\r\n\toutputStream.close();\r\n}catch(Exception e){\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nBut I get the following error [Invalid JSON response from server:Id,name,dept,salary][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6zI6u.png\r\n\r\nPlease help in identifying where I have gone wrong.\r\n\r\nThanks","title":"Downloading a file using Vaadin","body":"<p>Here is my code to try to download a file using Vaadin.\nThe button function is added within a component.</p>\n<pre><code>Button button = new Button(&quot;Generate&quot;);\n@Override\npublic void buttonClick(ClickEvent event) {\ntry{\n    VaadinResponse resp = VaadinService.getCurrentResponse();\n    HttpServletResponse response = (HttpServletResponse) resp;\n    response.setContentType(&quot;text/csv&quot;);\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;Report.csv\\&quot;&quot;);\n    OutputStream outputStream = response.getOutputStream();\n    String outputResult = &quot;Id,name,dept,salary\\n&quot;;\n    outputStream.write(outputResult.getBytes());\n    outputStream.flush();\n    outputStream.close();\n}catch(Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n<p>But I get the following error <a href=\"https://i.stack.imgur.com/6zI6u.png\" rel=\"nofollow noreferrer\">Invalid JSON response from server:Id,name,dept,salary</a></p>\n<p>Please help in identifying where I have gone wrong.</p>\n<p>Thanks</p>\n"},{"tags":["java","exception","try-catch","throw","throws"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630183124,"creation_date":1630179457,"answer_id":68967612,"question_id":68967595,"body_markdown":"This is correct.\r\n\r\nWhen an exception is thrown, you have only two options - either `catch`ing or allowing it to be thrown upwards to the caller. Ultimately, if it&#39;s never caught, the thread will terminate.","title":"Can we say that the try-catch block is the only way to handle an exception in java?","body":"<p>This is correct.</p>\n<p>When an exception is thrown, you have only two options - either <code>catch</code>ing or allowing it to be thrown upwards to the caller. Ultimately, if it's never caught, the thread will terminate.</p>\n"},{"tags":[],"owner":{"account_id":22593160,"reputation":11,"user_id":16775929,"display_name":"Mmm Tasty Mmm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630179782,"creation_date":1630179782,"answer_id":68967645,"question_id":68967595,"body_markdown":"Yeah I would agree mostly agree. \r\n\r\n - You can catch the exception, and then the exception and handle that (possibly with use of a finally block as well so maybe mention that).\r\n - Throw upwards again.\r\n - If you&#39;re doing threading you can also set the uncaught exception behavior, so you could &quot;handle&quot; the exception that way in a sense, but that is a specific situation and not always applicable. ","title":"Can we say that the try-catch block is the only way to handle an exception in java?","body":"<p>Yeah I would agree mostly agree.</p>\n<ul>\n<li>You can catch the exception, and then the exception and handle that (possibly with use of a finally block as well so maybe mention that).</li>\n<li>Throw upwards again.</li>\n<li>If you're doing threading you can also set the uncaught exception behavior, so you could &quot;handle&quot; the exception that way in a sense, but that is a specific situation and not always applicable.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630181414,"creation_date":1630181040,"answer_id":68967766,"question_id":68967595,"body_markdown":"Exceptions are handled with `try-catch` block which wraps the code throwing an exception. No matter how it&#39;s issued with `throw` clause or indirectly via calling a method which has `throws` in the method signature. If the method throws an exception and does not declare it in the method signature then this is kind of *unchecked* exceptions. These exceptions are handled the same way as *checked* exceptions that you have to catch or declare to be thrown.\r\n\r\nSee more about exceptions in [Java Tutorial][1].\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html","title":"Can we say that the try-catch block is the only way to handle an exception in java?","body":"<p>Exceptions are handled with <code>try-catch</code> block which wraps the code throwing an exception. No matter how it's issued with <code>throw</code> clause or indirectly via calling a method which has <code>throws</code> in the method signature. If the method throws an exception and does not declare it in the method signature then this is kind of <em>unchecked</em> exceptions. These exceptions are handled the same way as <em>checked</em> exceptions that you have to catch or declare to be thrown.</p>\n<p>See more about exceptions in <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">Java Tutorial</a>.</p>\n"},{"tags":[],"owner":{"account_id":13597557,"reputation":358,"user_id":9809131,"display_name":"Timur Efimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630268323,"creation_date":1630186199,"answer_id":68968259,"question_id":68967595,"body_markdown":"Shortly, answer ordered like that:\r\n 1. try-catch\r\n 2. Thread::setUncaughtExceptionHandler\r\n 3. ThreadGroup::uncaughtException(Thread, Throwable)\r\n 4. *[Globally]* Thread.setDefaultUncaughtExceptionHandler(UncaughtExceptionHandler)\r\n\r\n*Please note*, that this list is more about JVM mechanisms rather then &#39;frameworks&#39;.\r\n\r\nIf you want more I believe you can play with code below and see docs of used methods and classes.\r\n```\r\npublic static void main(String[] args) throws InterruptedException {\r\n    System.out.println(&quot;START main&quot;);\r\n\r\n    Thread.setDefaultUncaughtExceptionHandler((t, e) -&gt; {\r\n        System.err.println(&quot;Thread.setDefaultUncaughtExceptionHandler&quot;);\r\n    });\r\n    Thread.currentThread().setUncaughtExceptionHandler((t, e) -&gt; {\r\n        System.err.println(&quot;thread[main].uncaughtException&quot;);\r\n    });\r\n\r\n    java.util.concurrent.ThreadFactory threadFactory = r -&gt; {\r\n        ThreadGroup g = new ThreadGroup(&quot;eta&quot;) {\r\n            @Override\r\n            public void uncaughtException(Thread t, Throwable e) {\r\n                System.err.println(&quot;threadGroup.uncaughtException&quot;);\r\n            }\r\n        };\r\n        Thread thread = new Thread(g, r);\r\n        thread.setUncaughtExceptionHandler((t, e) -&gt; {\r\n            System.err.println(&quot;thread.uncaughtException&quot;);\r\n        });\r\n        return thread;\r\n//            return new Thread(r);\r\n    };\r\n\r\n    threadFactory.newThread(() -&gt; {\r\n        System.out.println(&quot;START newThread logic&quot;);\r\n        throw new RuntimeException();\r\n    }).start();\r\n\r\n    if (true) throw new RuntimeException();\r\n}\r\n```\r\n\r\nOuputs:\r\n```\r\nSTART main\r\nSTART newThread logic\r\nthread[main].uncaughtException\r\nthread.uncaughtException\r\n```\r\n","title":"Can we say that the try-catch block is the only way to handle an exception in java?","body":"<p>Shortly, answer ordered like that:</p>\n<ol>\n<li>try-catch</li>\n<li>Thread::setUncaughtExceptionHandler</li>\n<li>ThreadGroup::uncaughtException(Thread, Throwable)</li>\n<li><em>[Globally]</em> Thread.setDefaultUncaughtExceptionHandler(UncaughtExceptionHandler)</li>\n</ol>\n<p><em>Please note</em>, that this list is more about JVM mechanisms rather then 'frameworks'.</p>\n<p>If you want more I believe you can play with code below and see docs of used methods and classes.</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    System.out.println(&quot;START main&quot;);\n\n    Thread.setDefaultUncaughtExceptionHandler((t, e) -&gt; {\n        System.err.println(&quot;Thread.setDefaultUncaughtExceptionHandler&quot;);\n    });\n    Thread.currentThread().setUncaughtExceptionHandler((t, e) -&gt; {\n        System.err.println(&quot;thread[main].uncaughtException&quot;);\n    });\n\n    java.util.concurrent.ThreadFactory threadFactory = r -&gt; {\n        ThreadGroup g = new ThreadGroup(&quot;eta&quot;) {\n            @Override\n            public void uncaughtException(Thread t, Throwable e) {\n                System.err.println(&quot;threadGroup.uncaughtException&quot;);\n            }\n        };\n        Thread thread = new Thread(g, r);\n        thread.setUncaughtExceptionHandler((t, e) -&gt; {\n            System.err.println(&quot;thread.uncaughtException&quot;);\n        });\n        return thread;\n//            return new Thread(r);\n    };\n\n    threadFactory.newThread(() -&gt; {\n        System.out.println(&quot;START newThread logic&quot;);\n        throw new RuntimeException();\n    }).start();\n\n    if (true) throw new RuntimeException();\n}\n</code></pre>\n<p>Ouputs:</p>\n<pre><code>START main\nSTART newThread logic\nthread[main].uncaughtException\nthread.uncaughtException\n</code></pre>\n"}],"owner":{"account_id":14736382,"reputation":1,"user_id":11102356,"display_name":"kevinyyh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1693307963,"creation_date":1630179286,"question_id":68967595,"body_markdown":"So basically, if we use the `throws` keyword in a method signature, we are passing the handling responsibility to the caller method; if we use the `throw` keyword, we are explicitly throwing an exception. Both `throws` and `throw` are not ways to handle an exception. Only the statements in the `catch` block can be considered the way to handle an exception since our program won&#39;t terminate since we have handled the exception. Am I getting it correctly? Since in Java interviews we are always asked how do we handle exceptions in Java.","title":"Can we say that the try-catch block is the only way to handle an exception in java?","body":"<p>So basically, if we use the <code>throws</code> keyword in a method signature, we are passing the handling responsibility to the caller method; if we use the <code>throw</code> keyword, we are explicitly throwing an exception. Both <code>throws</code> and <code>throw</code> are not ways to handle an exception. Only the statements in the <code>catch</code> block can be considered the way to handle an exception since our program won't terminate since we have handled the exception. Am I getting it correctly? Since in Java interviews we are always asked how do we handle exceptions in Java.</p>\n"},{"tags":["java","android","flutter","gradle","google-ads-api"],"answers":[{"tags":[],"owner":{"display_name":"user17302177"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693307882,"creation_date":1693307808,"answer_id":76999706,"question_id":76999379,"body_markdown":"Kindly Add Mobile dependencies google_mobile_ads Hope you known how to use\r\n\r\n    dependencies:\r\n      google_mobile_ads: ^3.0.0","title":"getting error while building android apps from flutter with android ads plugin","body":"<p>Kindly Add Mobile dependencies google_mobile_ads Hope you known how to use</p>\n<pre><code>dependencies:\n  google_mobile_ads: ^3.0.0\n</code></pre>\n"}],"owner":{"account_id":27925632,"reputation":11,"user_id":21324806,"display_name":"rishabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693307882,"creation_date":1693304960,"question_id":76999379,"body_markdown":"this is the error which i get while running the command flutter build apk --release \r\n```\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:google_mobile_ads&#39;.\r\n&gt; Could not create an instance of type com.android.build.api.variant.impl.LibraryVariantBuilderImpl.\r\n   &gt; Namespace not specified. Please specify a namespace in the module&#39;s build.gradle file like so:\r\n\r\n     android {\r\n         namespace &#39;com.example.namespace&#39;\r\n     }\r\n```\r\nbut i have it in my gradle file . i am giving here my app level build.gradle file\r\n```\r\nplugins {\r\n    id &quot;com.android.application&quot;\r\n    id &quot;kotlin-android&quot;\r\n    id &quot;dev.flutter.flutter-gradle-plugin&quot;\r\n}\r\n\r\ndef localProperties = new Properties()\r\ndef localPropertiesFile = rootProject.file(&#39;local.properties&#39;)\r\nif (localPropertiesFile.exists()) {\r\n    localPropertiesFile.withReader(&#39;UTF-8&#39;) { reader -&gt;\r\n        localProperties.load(reader)\r\n    }\r\n}\r\n\r\ndef flutterVersionCode = localProperties.getProperty(&#39;flutter.versionCode&#39;)\r\nif (flutterVersionCode == null) {\r\n    flutterVersionCode = &#39;1&#39;\r\n}\r\n\r\ndef flutterVersionName = localProperties.getProperty(&#39;flutter.versionName&#39;)\r\nif (flutterVersionName == null) {\r\n    flutterVersionName = &#39;1.0&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &quot;com.example.tripp&quot;\r\n    compileSdkVersion = 33\r\n    ndkVersion flutter.ndkVersion\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n    }\r\n\r\n    defaultConfig {\r\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\r\n        applicationId &quot;com.busdekho.tripp&quot;\r\n        // You can update the following values to match your application needs.\r\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-gradle-build-configuration.\r\n        minSdkVersion 33\r\n        targetSdkVersion flutter.targetSdkVersion\r\n        versionCode flutterVersionCode.toInteger()\r\n        versionName flutterVersionName\r\n        \r\n        buildFeatures {\r\n        buildConfig = true\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            // TODO: Add your own signing config for the release build.\r\n            // Signing with the debug keys for now, so `flutter run --release` works.\r\n            signingConfig signingConfigs.debug\r\n        }\r\n    }\r\n}\r\n\r\nflutter {\r\n    source &#39;../..&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.google.android.gms:play-services-ads:22.3.0&#39;\r\n}\r\n\r\n\r\n```\r\nthe below one is my project level gradle file which have small additions\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &#39;1.7.10&#39;\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:8.0.0&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\n\r\nrootProject.buildDir = &#39;../build&#39;\r\nsubprojects {\r\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\r\n}\r\nsubprojects {\r\n    project.evaluationDependsOn(&#39;:app&#39;)\r\n}\r\n\r\ntasks.register(&quot;clean&quot;, Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n```\r\ncan any one help me in solving this problem . i am also giving you the complete error code that i am get in cmd\r\n```\r\nPS C:\\Users\\hp\\Desktop\\myprojects\\tripp&gt; flutter build apk --release\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:google_mobile_ads&#39;.\r\n&gt; Could not create an instance of type com.android.build.api.variant.impl.LibraryVariantBuilderImpl.\r\n   &gt; Namespace not specified. Please specify a namespace in the module&#39;s build.gradle file like so:\r\n\r\n     android {\r\n         namespace &#39;com.example.namespace&#39;\r\n     }\r\n\r\n     If the package attribute is specified in the source AndroidManifest.xml, it can be migrated automatically to the namespace value in the build.gradle file using the AGP Upgrade Assistant; please refer to https://developer.android.com/studio/build/agp-upgrade-assistant for more information.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 2s\r\nRunning Gradle task &#39;assembleRelease&#39;...                            3.3s\r\nGradle task assembleRelease failed with exit code 1\r\nPS C:\\Users\\hp\\Desktop\\myprojects\\tripp&gt;\r\n```","title":"getting error while building android apps from flutter with android ads plugin","body":"<p>this is the error which i get while running the command flutter build apk --release</p>\n<pre><code>* What went wrong:\nA problem occurred configuring project ':google_mobile_ads'.\n&gt; Could not create an instance of type com.android.build.api.variant.impl.LibraryVariantBuilderImpl.\n   &gt; Namespace not specified. Please specify a namespace in the module's build.gradle file like so:\n\n     android {\n         namespace 'com.example.namespace'\n     }\n</code></pre>\n<p>but i have it in my gradle file . i am giving here my app level build.gradle file</p>\n<pre><code>plugins {\n    id &quot;com.android.application&quot;\n    id &quot;kotlin-android&quot;\n    id &quot;dev.flutter.flutter-gradle-plugin&quot;\n}\n\ndef localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\nandroid {\n    namespace &quot;com.example.tripp&quot;\n    compileSdkVersion = 33\n    ndkVersion flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.busdekho.tripp&quot;\n        // You can update the following values to match your application needs.\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-gradle-build-configuration.\n        minSdkVersion 33\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        \n        buildFeatures {\n        buildConfig = true\n        }\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation 'com.google.android.gms:play-services-ads:22.3.0'\n}\n\n\n</code></pre>\n<p>the below one is my project level gradle file which have small additions</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.7.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:8.0.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntasks.register(&quot;clean&quot;, Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n<p>can any one help me in solving this problem . i am also giving you the complete error code that i am get in cmd</p>\n<pre><code>PS C:\\Users\\hp\\Desktop\\myprojects\\tripp&gt; flutter build apk --release\n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring project ':google_mobile_ads'.\n&gt; Could not create an instance of type com.android.build.api.variant.impl.LibraryVariantBuilderImpl.\n   &gt; Namespace not specified. Please specify a namespace in the module's build.gradle file like so:\n\n     android {\n         namespace 'com.example.namespace'\n     }\n\n     If the package attribute is specified in the source AndroidManifest.xml, it can be migrated automatically to the namespace value in the build.gradle file using the AGP Upgrade Assistant; please refer to https://developer.android.com/studio/build/agp-upgrade-assistant for more information.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2s\nRunning Gradle task 'assembleRelease'...                            3.3s\nGradle task assembleRelease failed with exit code 1\nPS C:\\Users\\hp\\Desktop\\myprojects\\tripp&gt;\n</code></pre>\n"},{"tags":["java","cucumber"],"owner":{"account_id":2826604,"reputation":1637,"user_id":2429136,"accept_rate":58,"display_name":"Bomin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693307567,"creation_date":1693297437,"question_id":76998549,"body_markdown":"I have multiple feature files in my Cucumber tests, such as feature1, feature2, and feature3. \r\n\r\nOur framework is set to enable parallel test execution by default. \r\nHowever, the execution of feature3 could potentially affect feature1 and feature2. \r\n\r\nHow can I prioritize running feature1 and feature2 first, followed by feature3?","title":"How to define sequence of my cucumber tests","body":"<p>I have multiple feature files in my Cucumber tests, such as feature1, feature2, and feature3.</p>\n<p>Our framework is set to enable parallel test execution by default.\nHowever, the execution of feature3 could potentially affect feature1 and feature2.</p>\n<p>How can I prioritize running feature1 and feature2 first, followed by feature3?</p>\n"},{"tags":["java","plugins","jetbrains-ide","intellij-plugin"],"comments":[{"owner":{"account_id":23787849,"reputation":89,"user_id":17799636,"display_name":"Yasin Sahin"},"score":2,"creation_date":1693312636,"post_id":76997345,"comment_id":135741525,"body_markdown":"What is the error exactly? Can you please provide the error message, too?","body":"What is the error exactly? Can you please provide the error message, too?"}],"owner":{"account_id":26112941,"reputation":11,"user_id":19806518,"display_name":"microDreamSheep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693307535,"creation_date":1693284288,"question_id":76997345,"body_markdown":"When I create the project, I try to use the `psiAugmentProvider`, but there is some error from the IDEA:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis are my `depends`:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nMore information: my Java JDK version is 17, and the SDK is cloned from the idea-community. I can&#39;t even use the `PsiAugmentProvider` class in Java.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\nI am a beginner of the plugin development. I would be appreciated if someone can give me some useful information. If you need some more details about the problem, please tell me and I will provide it.\r\n\r\nI tried to see if I needed to add other dependencies, but all failed.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1xCBd.png\r\n  [2]: https://i.stack.imgur.com/Oxdbn.png\r\n  [3]: https://i.stack.imgur.com/uQP5B.png\r\n  [4]: https://i.stack.imgur.com/84MZR.png\r\n  [5]: https://i.stack.imgur.com/W08ae.png","title":"I cant use psiAugmentProvider in a JetBrains plugin project","body":"<p>When I create the project, I try to use the <code>psiAugmentProvider</code>, but there is some error from the IDEA:</p>\n<p><a href=\"https://i.stack.imgur.com/1xCBd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1xCBd.png\" alt=\"enter image description here\" /></a></p>\n<p>This are my <code>depends</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/Oxdbn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oxdbn.png\" alt=\"enter image description here\" /></a></p>\n<p>More information: my Java JDK version is 17, and the SDK is cloned from the idea-community. I can't even use the <code>PsiAugmentProvider</code> class in Java.</p>\n<p><a href=\"https://i.stack.imgur.com/uQP5B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uQP5B.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/84MZR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/84MZR.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/W08ae.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W08ae.png\" alt=\"enter image description here\" /></a></p>\n<p>I am a beginner of the plugin development. I would be appreciated if someone can give me some useful information. If you need some more details about the problem, please tell me and I will provide it.</p>\n<p>I tried to see if I needed to add other dependencies, but all failed.</p>\n"},{"tags":["java","smtp","keycloak"],"owner":{"account_id":10116325,"reputation":418,"user_id":7474878,"display_name":"Isvoran Andrei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693307294,"creation_date":1693307294,"question_id":76999632,"body_markdown":"I have an endpoint that uses the keycloak java admin client to test the SMTP connection\r\n\r\n    @SneakyThrows\r\n    @Override\r\n    @PreAuthorize(&quot;hasAuthority(&#39;&quot; + WRITE_SMTP_CONFIGURATION + &quot;&#39;)&quot;)\r\n    public void testSMTPConfiguration(@RequestBody Map&lt;String, String&gt; smtpConfigurationModel) {\r\n        \r\n        var response = realmService.realm(TenantContext.getTenantId()).testSMTPConnection(smtpConfigurationModel);\r\n        log.info(&quot;Test SMTP email status {}&quot;, response.getStatus());\r\n    }\r\n\r\n`realmService.realm(TenantContext.getTenantId())` this just returns the `RealmResource` on which I am calling the `testSMTPConnection` method on.\r\n\r\nThis will always result in a `500 Internal Server error`.\r\n\r\nHowever, if I&#39;m going in keycloak and using the **Test Connection** button from the UI it successfully sends the email to my gmail account. I am using the same configuration both on the endpoint and on the realm.\r\n\r\n    Server: smtp.gmail.com\r\n    Port: 587\r\n    Start TLS: true\r\n    SSL: false\r\n    Auth: true\r\n    Email/password\r\n\r\nAny idea why the method does not work but the button in Keycloak realm settings does?","title":"Keycloak testSMTPConnection results in 500 Internal Error","body":"<p>I have an endpoint that uses the keycloak java admin client to test the SMTP connection</p>\n<pre><code>@SneakyThrows\n@Override\n@PreAuthorize(&quot;hasAuthority('&quot; + WRITE_SMTP_CONFIGURATION + &quot;')&quot;)\npublic void testSMTPConfiguration(@RequestBody Map&lt;String, String&gt; smtpConfigurationModel) {\n    \n    var response = realmService.realm(TenantContext.getTenantId()).testSMTPConnection(smtpConfigurationModel);\n    log.info(&quot;Test SMTP email status {}&quot;, response.getStatus());\n}\n</code></pre>\n<p><code>realmService.realm(TenantContext.getTenantId())</code> this just returns the <code>RealmResource</code> on which I am calling the <code>testSMTPConnection</code> method on.</p>\n<p>This will always result in a <code>500 Internal Server error</code>.</p>\n<p>However, if I'm going in keycloak and using the <strong>Test Connection</strong> button from the UI it successfully sends the email to my gmail account. I am using the same configuration both on the endpoint and on the realm.</p>\n<pre><code>Server: smtp.gmail.com\nPort: 587\nStart TLS: true\nSSL: false\nAuth: true\nEmail/password\n</code></pre>\n<p>Any idea why the method does not work but the button in Keycloak realm settings does?</p>\n"},{"tags":["java","android","android-studio","trusted-execution-environment"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1649008544,"post_id":71728211,"comment_id":126761873,"body_markdown":"You don&#39;t implement TEE, you use it as [part of Android OS on supported hardware](https://developer.android.com/training/articles/keystore#HardwareSecurityModule) Not clear if you&#39;ve seen: [Android Developers - Security with Data](https://developer.android.com/topic/security/data)","body":"You don&#39;t implement TEE, you use it as <a href=\"https://developer.android.com/training/articles/keystore#HardwareSecurityModule\" rel=\"nofollow noreferrer\">part of Android OS on supported hardware</a> Not clear if you&#39;ve seen: <a href=\"https://developer.android.com/topic/security/data\" rel=\"nofollow noreferrer\">Android Developers - Security with Data</a>"}],"owner":{"account_id":24812179,"reputation":11,"user_id":18693495,"display_name":"Manohar Kontham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693306887,"creation_date":1649006089,"question_id":71728211,"body_markdown":"I am working on a mobile vault app in Android, I&#39;m new to this field (TEE), and I have searched a lot about how to implement Trusty TEE but did not find any tutorial.\r\n\r\n\r\n\r\n1. How can I implement Google Trusty TEE in an android app, how do I enable it? Any links or tutorials?\r\n\r\n2. If not Google Trusty TEE, which TEE can I use?","title":"Google Trusty TEE implementation","body":"<p>I am working on a mobile vault app in Android, I'm new to this field (TEE), and I have searched a lot about how to implement Trusty TEE but did not find any tutorial.</p>\n<ol>\n<li><p>How can I implement Google Trusty TEE in an android app, how do I enable it? Any links or tutorials?</p>\n</li>\n<li><p>If not Google Trusty TEE, which TEE can I use?</p>\n</li>\n</ol>\n"},{"tags":["java","spring-boot","hibernate","sqlite","maven"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1693305774,"post_id":76999442,"comment_id":135740100,"body_markdown":"*NoSuchFieldError* indicates incompatible libraries. In your case between hibernate and spring-orm","body":"<i>NoSuchFieldError</i> indicates incompatible libraries. In your case between hibernate and spring-orm"},{"owner":{"account_id":1509736,"reputation":582,"user_id":1412161,"accept_rate":86,"display_name":"grange"},"score":0,"creation_date":1693305797,"post_id":76999442,"comment_id":135740104,"body_markdown":"Duplicate of https://stackoverflow.com/questions/70416129/java-lang-nosuchfielderror-before-transaction-completion","body":"Duplicate of <a href=\"https://stackoverflow.com/questions/70416129/java-lang-nosuchfielderror-before-transaction-completion\" title=\"java lang nosuchfielderror before transaction completion\">stackoverflow.com/questions/70416129/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1509736,"reputation":582,"user_id":1412161,"accept_rate":86,"display_name":"grange"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693306140,"creation_date":1693306140,"answer_id":76999502,"question_id":76999442,"body_markdown":"You&#39;re trying to get the latest version of Spring Boot running with net.kemitix:sqlite-dialect version 0.1.0. This library uses hibernate-core 3.6.8 from 2011 as compile dependency (see here: https://mvnrepository.com/artifact/net.kemitix/sqlite-dialect/0.1.0)\r\n\r\nYou could try the dependency described on Baeldung instead: https://www.baeldung.com/spring-boot-sqlite","title":"Error creating bean with name &#39;entityManagerFactory&#39; java maven springboot with sqlite DB","body":"<p>You're trying to get the latest version of Spring Boot running with net.kemitix:sqlite-dialect version 0.1.0. This library uses hibernate-core 3.6.8 from 2011 as compile dependency (see here: <a href=\"https://mvnrepository.com/artifact/net.kemitix/sqlite-dialect/0.1.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/net.kemitix/sqlite-dialect/0.1.0</a>)</p>\n<p>You could try the dependency described on Baeldung instead: <a href=\"https://www.baeldung.com/spring-boot-sqlite\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-sqlite</a></p>\n"}],"owner":{"account_id":16817171,"reputation":25,"user_id":12158704,"display_name":"Katarok Virus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76999502,"answer_count":1,"score":0,"last_activity_date":1693306140,"creation_date":1693305532,"question_id":76999442,"body_markdown":"Hello I am learning how to create a webapp using java maven with springboot and a sqlite DB. \r\n\r\nBut for some reason, I can&#39;t get it to work. I get this error \r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: BEFORE_TRANSACTION_COMPLETION\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.3.jar:3.1.3]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.3.jar:3.1.3]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.3.jar:3.1.3]\r\n        at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.1.3.jar:3.1.3]\r\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.0.11.jar:6.0.11]\r\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.0.11.jar:6.0.11]\r\n        at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406) ~[spring-boot-3.1.3.jar:3.1.3]\r\n        at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545) ~[spring-boot-test-3.1.3.jar:3.1.3]\r\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.1.3.jar:3.1.3]\r\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.1.3.jar:3.1.3]\r\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187) ~[spring-test-6.0.11.jar:6.0.11]\r\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119) ~[spring-test-6.0.11.jar:6.0.11]\r\n        at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127) ~[spring-test-6.0.11.jar:6.0.11]\r\n        at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191) ~[spring-test-6.0.11.jar:6.0.11]\r\n        at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130) ~[spring-test-6.0.11.jar:6.0.11]\r\n        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241) ~[spring-test-6.0.11.jar:6.0.11]\r\n        at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-6.0.11.jar:6.0.11]\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\r\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n        at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]\r\n        at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\r\n        at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\r\n        at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n        at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n        at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n        at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50) ~[surefire-junit-platform-3.0.0.jar:3.0.0]\r\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184) ~[surefire-junit-platform-3.0.0.jar:3.0.0]\r\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148) ~[surefire-junit-platform-3.0.0.jar:3.0.0]\r\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122) ~[surefire-junit-platform-3.0.0.jar:3.0.0]\r\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.0.0.jar:3.0.0]\r\n        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.0.0.jar:3.0.0]\r\n        at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.0.0.jar:3.0.0]\r\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.0.0.jar:3.0.0]\r\nCaused by: java.lang.NoSuchFieldError: BEFORE_TRANSACTION_COMPLETION\r\n        at org.hibernate.resource.jdbc.spi.PhysicalConnectionHandlingMode.&lt;clinit&gt;(PhysicalConnectionHandlingMode.java:50) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n        at org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter.buildJpaPropertyMap(HibernateJpaVendorAdapter.java:162) ~[spring-orm-6.0.11.jar:6.0.11]\r\n        at org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter.getJpaPropertyMap(HibernateJpaVendorAdapter.java:132) ~[spring-orm-6.0.11.jar:6.0.11]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:365) ~[spring-orm-6.0.11.jar:6.0.11]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\r\n        ... 94 common frames omitted\r\n```\r\n\r\nHere is my pom.xml \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.mywebapp&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;server&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;server&lt;/name&gt;\r\n\t&lt;description&gt;Server for my Web App&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/net.kemitix/sqlite-dialect --&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;net.kemitix&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;sqlite-dialect&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;0.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n        \t&lt;version&gt;3.34.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.javassist/javassist --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.29.2-GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nAnd my application.properties \r\n\r\n```\r\nspring.datasource.url=jdbc:sqlite:src/main/resources/database/database.db\r\nspring.datasource.driver-class-name=org.sqlite.JDBC\r\nspring.jpa.database-platform=org.sqlite.hibernate.dialect.SQLiteDialect\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=none\r\n```\r\n\r\nI haven&#39;t made any changes to the java code since I haven&#39;t even got the springboot to compile yet. \r\nbut here it is. \r\n\r\n```\r\npackage com.mywebapp.server;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class ServerApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ServerApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nIf you have any inputs, I need help. \r\n\r\nThank you for your time :) Have a great day\r\n\r\n\r\n\r\n\r\nFor springboot project to compile.","title":"Error creating bean with name &#39;entityManagerFactory&#39; java maven springboot with sqlite DB","body":"<p>Hello I am learning how to create a webapp using java maven with springboot and a sqlite DB.</p>\n<p>But for some reason, I can't get it to work. I get this error</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: BEFORE_TRANSACTION_COMPLETION\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.3.jar:3.1.3]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.3.jar:3.1.3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.3.jar:3.1.3]\n        at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.1.3.jar:3.1.3]\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.0.11.jar:6.0.11]\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.0.11.jar:6.0.11]\n        at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406) ~[spring-boot-3.1.3.jar:3.1.3]\n        at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545) ~[spring-boot-test-3.1.3.jar:3.1.3]\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.1.3.jar:3.1.3]\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.1.3.jar:3.1.3]\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187) ~[spring-test-6.0.11.jar:6.0.11]\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119) ~[spring-test-6.0.11.jar:6.0.11]\n        at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127) ~[spring-test-6.0.11.jar:6.0.11]\n        at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191) ~[spring-test-6.0.11.jar:6.0.11]\n        at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130) ~[spring-test-6.0.11.jar:6.0.11]\n        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241) ~[spring-test-6.0.11.jar:6.0.11]\n        at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-6.0.11.jar:6.0.11]\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n        at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]\n        at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\n        at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\n        at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n        at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n        at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n        at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50) ~[surefire-junit-platform-3.0.0.jar:3.0.0]\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184) ~[surefire-junit-platform-3.0.0.jar:3.0.0]\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148) ~[surefire-junit-platform-3.0.0.jar:3.0.0]\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122) ~[surefire-junit-platform-3.0.0.jar:3.0.0]\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.0.0.jar:3.0.0]\n        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.0.0.jar:3.0.0]\n        at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.0.0.jar:3.0.0]\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.0.0.jar:3.0.0]\nCaused by: java.lang.NoSuchFieldError: BEFORE_TRANSACTION_COMPLETION\n        at org.hibernate.resource.jdbc.spi.PhysicalConnectionHandlingMode.&lt;clinit&gt;(PhysicalConnectionHandlingMode.java:50) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n        at org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter.buildJpaPropertyMap(HibernateJpaVendorAdapter.java:162) ~[spring-orm-6.0.11.jar:6.0.11]\n        at org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter.getJpaPropertyMap(HibernateJpaVendorAdapter.java:132) ~[spring-orm-6.0.11.jar:6.0.11]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:365) ~[spring-orm-6.0.11.jar:6.0.11]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\n        ... 94 common frames omitted\n</code></pre>\n<p>Here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.mywebapp&lt;/groupId&gt;\n    &lt;artifactId&gt;server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;server&lt;/name&gt;\n    &lt;description&gt;Server for my Web App&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/net.kemitix/sqlite-dialect --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.kemitix&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-dialect&lt;/artifactId&gt;\n            &lt;version&gt;0.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.34.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.javassist/javassist --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n            &lt;version&gt;3.29.2-GA&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>And my application.properties</p>\n<pre><code>spring.datasource.url=jdbc:sqlite:src/main/resources/database/database.db\nspring.datasource.driver-class-name=org.sqlite.JDBC\nspring.jpa.database-platform=org.sqlite.hibernate.dialect.SQLiteDialect\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=none\n</code></pre>\n<p>I haven't made any changes to the java code since I haven't even got the springboot to compile yet.\nbut here it is.</p>\n<pre><code>package com.mywebapp.server;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class ServerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ServerApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>If you have any inputs, I need help.</p>\n<p>Thank you for your time :) Have a great day</p>\n<p>For springboot project to compile.</p>\n"},{"tags":["java","jersey"],"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693305845,"creation_date":1693305845,"question_id":76999474,"body_markdown":"We have some code that was written a while ago that acts as an SSL client but only does server-authenticated SSL:\r\n\r\n```\r\nprotected String retrieveResponse(String request) throws IOException {\r\n\t\tClient client = setupConnection();\r\n\t\tWebResource fileResource = client.resource(this.config.getAREndpoint());\r\n\t\treturn fileResource.accept(MediaType.APPLICATION_XML).type(MediaType.TEXT_XML).post(String.class, request);\r\n\t}\r\n\t\r\n\tprotected Client setupConnection() throws IOException {\r\n\t\ttry {\r\n\t\t\t// set up the client configuration &amp; service\r\n\t\t\tClient client = new ClientBuilder(\r\n\t\t\t\t\tnew PropertyEncryptorDecryptor(Base64.decode(this.config.getFedConfig().getEncryptionKey())))\r\n\t\t\t\t\t\t.createClient(&quot;TLSv1.2&quot;,\r\n\t\t\t\t\t\t\tthis.config.getConfig().getSSLClientKeyStoreFile(), \r\n\t\t\t\t\t\t\tthis.config.getConfig().getSSLClientKeyStoreAlias(),\r\n\t\t\t\t\t\t\tthis.config.getConfig().getSSLClientKeyStorePassword(), \r\n\t\t\t\t\t\t\tthis.config.getConfig().getSSLClientKeyStoreType(), \r\n\t\t\t\t\t\t\tthis.config.getConfig().getSSLTrustStoreFile(), \r\n\t\t\t\t\t\t\tthis.config.getConfig().getSSLTrustStorePassword(), \r\n\t\t\t\t\t\t\tthis.config.getConfig().getSSLTrustStoreType());\r\n\t\t\t\r\n\t\t\t// to avoid messing with the common code, obtaining the properties and resetting\r\n\t\t\t// the hostname verifier\r\n\t\t\tHTTPSProperties properties = (HTTPSProperties) client.getProperties().get(HTTPSProperties.PROPERTY_HTTPS_PROPERTIES);\r\n\t\t\tHostnameVerifier hostnameVerifier = new HostnameVerifier() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic boolean verify(String hostname, SSLSession session) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tclient.getProperties().put(HTTPSProperties.PROPERTY_HTTPS_PROPERTIES, new HTTPSProperties(hostnameVerifier, properties.getSSLContext()));\r\n\t\t\tclient.setConnectTimeout(this.config.getFederationConnectTimeout().intValue());\r\n\t\t\tclient.setReadTimeout(this.config.getFederationReadTimeout().intValue());\r\n\t\t\treturn client;\r\n\t\t} catch (Exception e) {\r\n\t\t\tString errorMessage = &quot;Unable to initialize Jersey Client&quot;;\r\n\t\t\tlogger.error(errorMessage);\r\n\t\t\tthrow new RuntimeException(errorMessage, e);\r\n\t\t}\r\n\r\n```\r\nNow, I want to modify the above code so that it does client certificate authentication (i.e, where the client sends a client cert to the server and establish a 2-way SSL connection).\r\n\r\nCan anyone tell me what I need to modify to do that?\r\n\r\nThanks,\r\nJim","title":"How to modify Jersey client code to do client certificate authentication?","body":"<p>We have some code that was written a while ago that acts as an SSL client but only does server-authenticated SSL:</p>\n<pre><code>protected String retrieveResponse(String request) throws IOException {\n        Client client = setupConnection();\n        WebResource fileResource = client.resource(this.config.getAREndpoint());\n        return fileResource.accept(MediaType.APPLICATION_XML).type(MediaType.TEXT_XML).post(String.class, request);\n    }\n    \n    protected Client setupConnection() throws IOException {\n        try {\n            // set up the client configuration &amp; service\n            Client client = new ClientBuilder(\n                    new PropertyEncryptorDecryptor(Base64.decode(this.config.getFedConfig().getEncryptionKey())))\n                        .createClient(&quot;TLSv1.2&quot;,\n                            this.config.getConfig().getSSLClientKeyStoreFile(), \n                            this.config.getConfig().getSSLClientKeyStoreAlias(),\n                            this.config.getConfig().getSSLClientKeyStorePassword(), \n                            this.config.getConfig().getSSLClientKeyStoreType(), \n                            this.config.getConfig().getSSLTrustStoreFile(), \n                            this.config.getConfig().getSSLTrustStorePassword(), \n                            this.config.getConfig().getSSLTrustStoreType());\n            \n            // to avoid messing with the common code, obtaining the properties and resetting\n            // the hostname verifier\n            HTTPSProperties properties = (HTTPSProperties) client.getProperties().get(HTTPSProperties.PROPERTY_HTTPS_PROPERTIES);\n            HostnameVerifier hostnameVerifier = new HostnameVerifier() {\n                @Override\n                public boolean verify(String hostname, SSLSession session) {\n                    return true;\n                }\n            };\n            \n            client.getProperties().put(HTTPSProperties.PROPERTY_HTTPS_PROPERTIES, new HTTPSProperties(hostnameVerifier, properties.getSSLContext()));\n            client.setConnectTimeout(this.config.getFederationConnectTimeout().intValue());\n            client.setReadTimeout(this.config.getFederationReadTimeout().intValue());\n            return client;\n        } catch (Exception e) {\n            String errorMessage = &quot;Unable to initialize Jersey Client&quot;;\n            logger.error(errorMessage);\n            throw new RuntimeException(errorMessage, e);\n        }\n\n</code></pre>\n<p>Now, I want to modify the above code so that it does client certificate authentication (i.e, where the client sends a client cert to the server and establish a 2-way SSL connection).</p>\n<p>Can anyone tell me what I need to modify to do that?</p>\n<p>Thanks,\nJim</p>\n"},{"tags":["java","database","hibernate","version"],"owner":{"account_id":7470082,"reputation":87,"user_id":5678371,"accept_rate":50,"display_name":"CJunior"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693305496,"creation_date":1693304465,"question_id":76999328,"body_markdown":"So, in my MySQL Database I work with version columns, whose parameter in the Java Classes that represent each table are annotated with the @Version.\r\n\r\nWhenever I try to update something twice, I get an error stating this: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction.\r\n\r\nI noticed this happens because when I update the object, the version in the database table increments, but on my side I still have the old version with me, causing the problem when submitting my second update (let&#39;s say my version keeps up being 1 and on the Database it is 2 already). While debugging, I noticed that the save()/saveAll() method do not return the new version (are they supposed to?) that is incremented.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is the implementation of the persistence layer where I save this activationList\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NW02y.png\r\n  [2]: https://i.stack.imgur.com/XmoXr.png\r\n\r\n    @Entity\r\n    @Table(name = &quot;CO_PAR_ACTIVATION_DIFFUSION_ENTITE&quot;)\r\n    public class ActivationDiffusionEntiteDb extends AbstractDatabaseObject {\r\n    \r\n        private static final long serialVersionUID = -6355794857690807029L;\r\n        @Id\r\n        @SequenceGenerator(name = &quot;TCO_ACTENT_GENERATOR&quot;, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;TCO_ACTENT_GENERATOR&quot;)\r\n        private Long id;\r\n    \r\n        (...)\r\n    \r\n        @Version\r\n        private Long version;\r\n\r\nThe object that I am saving.\r\n\r\nTLDR: Want to know if there is a nicer way to get the updated database row versions without having to read the database again, since saveAll()/save() repository method do not return me the new versions.\r\n\r\nThank you.","title":"Working with JPA/Crud Repository and @Version annotation at the same time","body":"<p>So, in my MySQL Database I work with version columns, whose parameter in the Java Classes that represent each table are annotated with the @Version.</p>\n<p>Whenever I try to update something twice, I get an error stating this: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction.</p>\n<p>I noticed this happens because when I update the object, the version in the database table increments, but on my side I still have the old version with me, causing the problem when submitting my second update (let's say my version keeps up being 1 and on the Database it is 2 already). While debugging, I noticed that the save()/saveAll() method do not return the new version (are they supposed to?) that is incremented.</p>\n<p><a href=\"https://i.stack.imgur.com/XmoXr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XmoXr.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the implementation of the persistence layer where I save this activationList</p>\n<pre><code>@Entity\n@Table(name = &quot;CO_PAR_ACTIVATION_DIFFUSION_ENTITE&quot;)\npublic class ActivationDiffusionEntiteDb extends AbstractDatabaseObject {\n\n    private static final long serialVersionUID = -6355794857690807029L;\n    @Id\n    @SequenceGenerator(name = &quot;TCO_ACTENT_GENERATOR&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;TCO_ACTENT_GENERATOR&quot;)\n    private Long id;\n\n    (...)\n\n    @Version\n    private Long version;\n</code></pre>\n<p>The object that I am saving.</p>\n<p>TLDR: Want to know if there is a nicer way to get the updated database row versions without having to read the database again, since saveAll()/save() repository method do not return me the new versions.</p>\n<p>Thank you.</p>\n"},{"tags":["java","jsr305"],"comments":[{"owner":{"account_id":92150,"reputation":8806,"user_id":252676,"accept_rate":88,"display_name":"Charlie Collins"},"score":1,"creation_date":1266874640,"post_id":2289694,"comment_id":2282120,"body_markdown":"I would accept the answer you left Kevin, but I can&#39;t find a place in those articles where it says definitively they will be in Java 7, or not? (And I had reviewed that info, briefly, before posting the question actually.) Did you see a specific mention in there that they *will* be included (as indicated in your answer)? Thanks in advance for your help.","body":"I would accept the answer you left Kevin, but I can&#39;t find a place in those articles where it says definitively they will be in Java 7, or not? (And I had reviewed that info, briefly, before posting the question actually.) Did you see a specific mention in there that they <i>will</i> be included (as indicated in your answer)? Thanks in advance for your help."},{"owner":{"account_id":92150,"reputation":8806,"user_id":252676,"accept_rate":88,"display_name":"Charlie Collins"},"score":1,"creation_date":1274977261,"post_id":2289694,"comment_id":2975606,"body_markdown":"After this much time, and some other efforts to figure out exactly what&#39;s up, I&#39;m awarding the best answer, the only answer, the &quot;answer&quot; distinction. ;)","body":"After this much time, and some other efforts to figure out exactly what&#39;s up, I&#39;m awarding the best answer, the only answer, the &quot;answer&quot; distinction. ;)"},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1518541157,"post_id":2289694,"comment_id":84544999,"body_markdown":"Java 9: https://stackoverflow.com/questions/37598775/jsr-305-annotations-replacement-for-java-9","body":"Java 9: <a href=\"https://stackoverflow.com/questions/37598775/jsr-305-annotations-replacement-for-java-9\" title=\"jsr 305 annotations replacement for java 9\">stackoverflow.com/questions/37598775/&hellip;</a>"},{"owner":{"account_id":66439,"reputation":23650,"user_id":194894,"accept_rate":94,"display_name":"Flow"},"score":0,"creation_date":1554720029,"post_id":2289694,"comment_id":97841777,"body_markdown":"Mark Reinhold [recently commented on another SO post that](https://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use#comment90023610_42695253) &quot;JSR 305, which would’ve standardized javax.annotation.NonNull, never completed because its spec lead went AWOL.&quot;","body":"Mark Reinhold <a href=\"https://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use#comment90023610_42695253\">recently commented on another SO post that</a> &quot;JSR 305, which would’ve standardized javax.annotation.NonNull, never completed because its spec lead went AWOL.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1266507763,"creation_date":1266506836,"answer_id":2289736,"question_id":2289694,"body_markdown":"According to Alex Millers [Java 7 blog][1], JSR-308 (and 305) are scheduled to go in to Java 7.  Perhaps he will show up here and give you more information.\r\n\r\n\r\n  [1]: http://tech.puredanger.com/java7#jsr308","title":"What is the status of JSR 305?","body":"<p>According to Alex Millers <a href=\"http://tech.puredanger.com/java7#jsr308\" rel=\"nofollow noreferrer\">Java 7 blog</a>, JSR-308 (and 305) are scheduled to go in to Java 7.  Perhaps he will show up here and give you more information.</p>\n"},{"tags":[],"owner":{"account_id":330601,"reputation":24990,"user_id":654801,"display_name":"sbridges"},"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1572944515,"creation_date":1394081569,"answer_id":22215289,"question_id":2289694,"body_markdown":"As described in this [answer][1], [JSR-305][2] proposes new annotations such as [@NonNull][3], while [JSR-308][4] proposes allowing annotations in new places such as on generic declarations. \r\n\r\nQuoting [JSR 308][4] page:\r\n\r\n&gt;…this document does not propose any annotations, merely specifying where they can appear in Java code.\r\n\r\nJSR 308 (annotations in new places) is included in [java 8][5] under [JEP 104][6].\r\n\r\nAs of 2017, [JSR 305][2] (new annotations) continues to carry official status of “Dormant”.  A [question][7] about it&#39;s status in the google group has been unanswered since 2010.  \r\n\r\nThere is a reference implementation of the JSR-305 annotations [here][8] which is used by many projects, including guava.  With maven you can use the JSR-305 reference implementation by adding this to your pom:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsr305&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1476757/jsr305-vs-jsr308-java-type-anotations-which-is-going-to-be-the-standard/1477275#1477275\r\n  [2]: https://jcp.org/en/jsr/detail?id=305\r\n  [3]: https://code.google.com/p/jsr-305/source/browse/trunk/ri/src/main/java/javax/annotation/Nonnull.java\r\n  [4]: https://jcp.org/en/jsr/detail?id=308\r\n  [5]: http://openjdk.java.net/projects/jdk8/features\r\n  [6]: http://openjdk.java.net/jeps/104\r\n  [7]: https://groups.google.com/forum/#!topic/jsr-305/4vqYTAuWncY\r\n  [8]: https://code.google.com/p/jsr-305/source/browse/#svn/trunk/ri/src/main/java/javax/annotation","title":"What is the status of JSR 305?","body":"<p>As described in this <a href=\"https://stackoverflow.com/questions/1476757/jsr305-vs-jsr308-java-type-anotations-which-is-going-to-be-the-standard/1477275#1477275\">answer</a>, <a href=\"https://jcp.org/en/jsr/detail?id=305\" rel=\"noreferrer\">JSR-305</a> proposes new annotations such as <a href=\"https://code.google.com/p/jsr-305/source/browse/trunk/ri/src/main/java/javax/annotation/Nonnull.java\" rel=\"noreferrer\">@NonNull</a>, while <a href=\"https://jcp.org/en/jsr/detail?id=308\" rel=\"noreferrer\">JSR-308</a> proposes allowing annotations in new places such as on generic declarations. </p>\n\n<p>Quoting <a href=\"https://jcp.org/en/jsr/detail?id=308\" rel=\"noreferrer\">JSR 308</a> page:</p>\n\n<blockquote>\n  <p>…this document does not propose any annotations, merely specifying where they can appear in Java code.</p>\n</blockquote>\n\n<p>JSR 308 (annotations in new places) is included in <a href=\"http://openjdk.java.net/projects/jdk8/features\" rel=\"noreferrer\">java 8</a> under <a href=\"http://openjdk.java.net/jeps/104\" rel=\"noreferrer\">JEP 104</a>.</p>\n\n<p>As of 2017, <a href=\"https://jcp.org/en/jsr/detail?id=305\" rel=\"noreferrer\">JSR 305</a> (new annotations) continues to carry official status of “Dormant”.  A <a href=\"https://groups.google.com/forum/#!topic/jsr-305/4vqYTAuWncY\" rel=\"noreferrer\">question</a> about it's status in the google group has been unanswered since 2010.  </p>\n\n<p>There is a reference implementation of the JSR-305 annotations <a href=\"https://code.google.com/p/jsr-305/source/browse/#svn/trunk/ri/src/main/java/javax/annotation\" rel=\"noreferrer\">here</a> which is used by many projects, including guava.  With maven you can use the JSR-305 reference implementation by adding this to your pom:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\n    &lt;artifactId&gt;jsr305&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user41871"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1394083271,"creation_date":1394082367,"answer_id":22215466,"question_id":2289694,"body_markdown":"JSR 305 will not be part of Java 8:\r\n\r\n* Java 8 is [still scheduled for March 18, 2014][1].\r\n* JSR 305 [remains dormant as of March 5, 2014][2].\r\n\r\n  [1]: http://www.javaworld.com/article/2087442/java-se/full-speed-ahead-oracle-to-ship-java-8-in-march-even-with-bugs.html\r\n  [2]: https://jcp.org/en/jsr/detail?id=305","title":"What is the status of JSR 305?","body":"<p>JSR 305 will not be part of Java 8:</p>\n\n<ul>\n<li>Java 8 is <a href=\"http://www.javaworld.com/article/2087442/java-se/full-speed-ahead-oracle-to-ship-java-8-in-march-even-with-bugs.html\">still scheduled for March 18, 2014</a>.</li>\n<li>JSR 305 <a href=\"https://jcp.org/en/jsr/detail?id=305\">remains dormant as of March 5, 2014</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1659920,"reputation":22819,"user_id":1528401,"display_name":"Glen Best"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1394522430,"creation_date":1394522430,"answer_id":22318900,"question_id":2289694,"body_markdown":"Java 8 is described by JSR 337: the specification has reached Final status: [see here][1].\r\n\r\n - JSR 308 is definitely in\r\n - JSR 305 is definitely out\r\n\r\n  [1]: https://jcp.org/en/jsr/detail?id=337","title":"What is the status of JSR 305?","body":"<p>Java 8 is described by JSR 337: the specification has reached Final status: <a href=\"https://jcp.org/en/jsr/detail?id=337\" rel=\"noreferrer\">see here</a>.</p>\n\n<ul>\n<li>JSR 308 is definitely in</li>\n<li>JSR 305 is definitely out</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3424877,"reputation":679,"user_id":2870889,"accept_rate":40,"display_name":"mancze"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1620294193,"creation_date":1620293745,"answer_id":67415527,"question_id":2289694,"body_markdown":"- Status of [JSR 305 is Dormant][1]. \r\n- JSR 305 was tightly connected to the [FindBugs project][2]. \r\n- FindBugs project [was announced as dead][4]. \r\n- The successor of FindBugs is [SpotBugs][3]. \r\n- It was &quot;branched off&quot; by Andrey Loskutov, one of the former [members of the FindBugs development team][5].\r\n- [Announcement of the SpotBugs project][6].\r\n- SpotBugs project is [active][7].\r\n\r\nIf you are concerned about nullability annotations then I would recommend using the ones provided by SpotBugs project from the `edu.umd.cs.findbugs.annotations` namespace. These days it should be supported by most linters or IDEs. It&#39;s not as nice as proposed `javax.annotation` in JSR 305, but remember that JSR 305 was never approved and actually no `jar` file with classes was ever attached to JSR 305 proposal.\r\n\r\nFew more interesting articles regarding this:\r\n - https://nipafx.dev/jsr-305-java-9/#modular-project\r\n - https://dzone.com/articles/when-to-use-jsr-305-for-nullability-in-java\r\n\r\n**JSR 305 vs JSR 308**\r\n\r\nThere is barely any relation between JSR 305 and JSR 308. JSR 308 is about ability to apply annotations to generics (java type arguments). JSR 308 has been incorporated as part of Java SE 8.\r\n\r\nThe only link is that both JSRs are related to a two distinct projects (FindBugs and [Checker Framework][8]) which are touching null-safety and nullability annotations topic.\r\n\r\nBy content the JSRs are no way related. \r\n\r\n  [1]: https://jcp.org/en/jsr/detail?id=305\r\n  [2]: http://findbugs.sourceforge.net/index.html\r\n  [3]: https://spotbugs.github.io/\r\n  [4]: https://mailman.cs.umd.edu/pipermail/findbugs-discuss/2016-November/004321.html\r\n  [5]: http://findbugs.sourceforge.net/team.html\r\n  [6]: https://mailman.cs.umd.edu/pipermail/findbugs-discuss/2017-September/004383.html\r\n  [7]: https://github.com/spotbugs/spotbugs/releases\r\n  [8]: https://checkerframework.org/","title":"What is the status of JSR 305?","body":"<ul>\n<li>Status of <a href=\"https://jcp.org/en/jsr/detail?id=305\" rel=\"noreferrer\">JSR 305 is Dormant</a>.</li>\n<li>JSR 305 was tightly connected to the <a href=\"http://findbugs.sourceforge.net/index.html\" rel=\"noreferrer\">FindBugs project</a>.</li>\n<li>FindBugs project <a href=\"https://mailman.cs.umd.edu/pipermail/findbugs-discuss/2016-November/004321.html\" rel=\"noreferrer\">was announced as dead</a>.</li>\n<li>The successor of FindBugs is <a href=\"https://spotbugs.github.io/\" rel=\"noreferrer\">SpotBugs</a>.</li>\n<li>It was &quot;branched off&quot; by Andrey Loskutov, one of the former <a href=\"http://findbugs.sourceforge.net/team.html\" rel=\"noreferrer\">members of the FindBugs development team</a>.</li>\n<li><a href=\"https://mailman.cs.umd.edu/pipermail/findbugs-discuss/2017-September/004383.html\" rel=\"noreferrer\">Announcement of the SpotBugs project</a>.</li>\n<li>SpotBugs project is <a href=\"https://github.com/spotbugs/spotbugs/releases\" rel=\"noreferrer\">active</a>.</li>\n</ul>\n<p>If you are concerned about nullability annotations then I would recommend using the ones provided by SpotBugs project from the <code>edu.umd.cs.findbugs.annotations</code> namespace. These days it should be supported by most linters or IDEs. It's not as nice as proposed <code>javax.annotation</code> in JSR 305, but remember that JSR 305 was never approved and actually no <code>jar</code> file with classes was ever attached to JSR 305 proposal.</p>\n<p>Few more interesting articles regarding this:</p>\n<ul>\n<li><a href=\"https://nipafx.dev/jsr-305-java-9/#modular-project\" rel=\"noreferrer\">https://nipafx.dev/jsr-305-java-9/#modular-project</a></li>\n<li><a href=\"https://dzone.com/articles/when-to-use-jsr-305-for-nullability-in-java\" rel=\"noreferrer\">https://dzone.com/articles/when-to-use-jsr-305-for-nullability-in-java</a></li>\n</ul>\n<p><strong>JSR 305 vs JSR 308</strong></p>\n<p>There is barely any relation between JSR 305 and JSR 308. JSR 308 is about ability to apply annotations to generics (java type arguments). JSR 308 has been incorporated as part of Java SE 8.</p>\n<p>The only link is that both JSRs are related to a two distinct projects (FindBugs and <a href=\"https://checkerframework.org/\" rel=\"noreferrer\">Checker Framework</a>) which are touching null-safety and nullability annotations topic.</p>\n<p>By content the JSRs are no way related.</p>\n"}],"owner":{"account_id":92150,"reputation":8806,"user_id":252676,"accept_rate":88,"display_name":"Charlie Collins"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55875,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":22215289,"answer_count":5,"score":113,"last_activity_date":1693305129,"creation_date":1266506581,"question_id":2289694,"body_markdown":"I have seen the question https://stackoverflow.com/questions/1476757/jsr305-vs-jsr308-java-type-anotations-which-is-going-to-be-the-standard and I understand the difference between [JSR 308][1] and [JSR 305][2]. \r\n\r\nI also understand that, at this time, 308 is slated for Java 7, and 305 is not, and I am curious about the overall status of 305.\r\n\r\nSpecifically, I am using [Google Collections][3] and [JSR-305][4] in some of my projects (in a similar manner to what [one of the Guice best practices advocates][5]) and was wondering if there is a more &quot;future direction&quot;-friendly approach I should be using instead. I am planning to also ask about this on the JSR-305 group, but that group does not have much activity and I was just wondering if anyone here had any more info.\r\n\r\n\r\n  [1]: https://jcp.org/en/jsr/detail?id=308\r\n  [2]: https://jcp.org/en/jsr/detail?id=305\r\n  [3]: http://code.google.com/p/google-collections/\r\n  [4]: http://code.google.com/p/jsr-305/\r\n  [5]: http://code.google.com/p/google-guice/wiki/UseNullable","title":"What is the status of JSR 305?","body":"<p>I have seen the question <a href=\"https://stackoverflow.com/questions/1476757/jsr305-vs-jsr308-java-type-anotations-which-is-going-to-be-the-standard\">JSR305 vs. JSR308 (Java Type Anotations) - Which is going to be the standard?</a> and I understand the difference between <a href=\"https://jcp.org/en/jsr/detail?id=308\" rel=\"noreferrer\">JSR 308</a> and <a href=\"https://jcp.org/en/jsr/detail?id=305\" rel=\"noreferrer\">JSR 305</a>. </p>\n\n<p>I also understand that, at this time, 308 is slated for Java 7, and 305 is not, and I am curious about the overall status of 305.</p>\n\n<p>Specifically, I am using <a href=\"http://code.google.com/p/google-collections/\" rel=\"noreferrer\">Google Collections</a> and <a href=\"http://code.google.com/p/jsr-305/\" rel=\"noreferrer\">JSR-305</a> in some of my projects (in a similar manner to what <a href=\"http://code.google.com/p/google-guice/wiki/UseNullable\" rel=\"noreferrer\">one of the Guice best practices advocates</a>) and was wondering if there is a more \"future direction\"-friendly approach I should be using instead. I am planning to also ask about this on the JSR-305 group, but that group does not have much activity and I was just wondering if anyone here had any more info.</p>\n"},{"tags":["java","eclipse","eclipse-rcp"],"answers":[{"tags":[],"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395569764,"creation_date":1395569764,"answer_id":22589492,"question_id":22589302,"body_markdown":"In Java version &gt;= 6, you should not need to add them explicitly.       \r\nThey are part of the JDK. Just try to skip adding them, maybe   \r\nthe list of instructions is outdated.   \r\n\r\nBefore Java 6, you would have needed to add this jar, I think: **jsr250-api-1.0.jar**.\r\n\r\nhttp://central.maven.org/maven2/javax/annotation/jsr250-api/1.0/\r\n\r\nhttp://download.java.net/maven/2/javax/annotation/jsr250-api/1.0/\r\n\r\n","title":"Where is javax.annotation","body":"<p>In Java version >= 6, you should not need to add them explicitly.<br>\nThey are part of the JDK. Just try to skip adding them, maybe<br>\nthe list of instructions is outdated.   </p>\n\n<p>Before Java 6, you would have needed to add this jar, I think: <strong>jsr250-api-1.0.jar</strong>.</p>\n\n<p><a href=\"http://central.maven.org/maven2/javax/annotation/jsr250-api/1.0/\" rel=\"nofollow\">http://central.maven.org/maven2/javax/annotation/jsr250-api/1.0/</a></p>\n\n<p><a href=\"http://download.java.net/maven/2/javax/annotation/jsr250-api/1.0/\" rel=\"nofollow\">http://download.java.net/maven/2/javax/annotation/jsr250-api/1.0/</a></p>\n"},{"tags":[],"owner":{"account_id":3554748,"reputation":906,"user_id":2968763,"display_name":"Stefan Gro&#223;mann"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1657820995,"creation_date":1420649569,"answer_id":27824439,"question_id":22589302,"body_markdown":"The dependency including version:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n      \t&lt;version&gt;1.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSee: http://mvnrepository.com/artifact/javax.annotation/javax.annotation-api\r\n\r\nOr for the newer `jakarta.annotation`:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n       &lt;version&gt;1.3.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSee: https://mvnrepository.com/artifact/jakarta.annotation/jakarta.annotation-api\r\n\r\nThe Java Common Annotations Module java.xml.ws.annotation was deprecated in Java version 9 and was removed in java version 11. If this leads to a problem you could try to add javax.annotation.\r\n\r\nThe Javadocs for Java 8 can be found here:\r\nhttp://docs.oracle.com/javase/8/docs/api/javax/annotation/package-summary.html","title":"Where is javax.annotation","body":"<p>The dependency including version:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>See: <a href=\"http://mvnrepository.com/artifact/javax.annotation/javax.annotation-api\" rel=\"noreferrer\">http://mvnrepository.com/artifact/javax.annotation/javax.annotation-api</a></p>\n<p>Or for the newer <code>jakarta.annotation</code>:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n   &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n   &lt;version&gt;1.3.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>See: <a href=\"https://mvnrepository.com/artifact/jakarta.annotation/jakarta.annotation-api\" rel=\"noreferrer\">https://mvnrepository.com/artifact/jakarta.annotation/jakarta.annotation-api</a></p>\n<p>The Java Common Annotations Module java.xml.ws.annotation was deprecated in Java version 9 and was removed in java version 11. If this leads to a problem you could try to add javax.annotation.</p>\n<p>The Javadocs for Java 8 can be found here:\n<a href=\"http://docs.oracle.com/javase/8/docs/api/javax/annotation/package-summary.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/docs/api/javax/annotation/package-summary.html</a></p>\n"},{"tags":[],"owner":{"account_id":43047,"reputation":12737,"user_id":125663,"accept_rate":100,"display_name":"Alice Purcell"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1596453014,"creation_date":1479209854,"answer_id":40608907,"question_id":22589302,"body_markdown":"Your comment indicates this is for Guava, so you want [the JSR305 library][1], which extends the `javax` package.\r\n\r\n*2020 Update*: Note that [this library breaks the Oracle licensing agreement][2] and Guava has since moved to [checkerframework&#39;s Nullable annotation][3].\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.code.findbugs/jsr305\r\n  [2]: https://github.com/google/guava/issues/2960\r\n  [3]: https://checkerframework.org/api/org/checkerframework/checker/nullness/qual/Nullable.html","title":"Where is javax.annotation","body":"<p>Your comment indicates this is for Guava, so you want <a href=\"https://mvnrepository.com/artifact/com.google.code.findbugs/jsr305\" rel=\"nofollow noreferrer\">the JSR305 library</a>, which extends the <code>javax</code> package.</p>\n<p><em>2020 Update</em>: Note that <a href=\"https://github.com/google/guava/issues/2960\" rel=\"nofollow noreferrer\">this library breaks the Oracle licensing agreement</a> and Guava has since moved to <a href=\"https://checkerframework.org/api/org/checkerframework/checker/nullness/qual/Nullable.html\" rel=\"nofollow noreferrer\">checkerframework's Nullable annotation</a>.</p>\n"},{"tags":[],"owner":{"account_id":7488627,"reputation":951,"user_id":5754267,"accept_rate":29,"display_name":"Dr. Div"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1596642112,"creation_date":1596642112,"answer_id":63268748,"question_id":22589302,"body_markdown":"Not sure if this is still relevant, but for Java 8, I had to add the two following Maven dependencies in order to get javax.annotation.concurrent.ThreadSafe to work:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsr305&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; ","title":"Where is javax.annotation","body":"<p>Not sure if this is still relevant, but for Java 8, I had to add the two following Maven dependencies in order to get javax.annotation.concurrent.ThreadSafe to work:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\n        &lt;artifactId&gt;jsr305&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13678477,"reputation":299,"user_id":9869394,"display_name":"Dinushika Rathnayake"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650280258,"creation_date":1650280258,"answer_id":71911018,"question_id":22589302,"body_markdown":"Javax annotations include in this dependency. This is latest version at the moment.\r\n\r\nFor maven\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jsr305&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor gradle\r\n\r\n    compile(&#39;com.google.code.findbugs:jsr305:3.0.2&#39;)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rRnjG.png","title":"Where is javax.annotation","body":"<p>Javax annotations include in this dependency. This is latest version at the moment.</p>\n<p>For maven</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\n&lt;artifactId&gt;jsr305&lt;/artifactId&gt;\n&lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For gradle</p>\n<pre><code>compile('com.google.code.findbugs:jsr305:3.0.2')\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/rRnjG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rRnjG.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693305042,"creation_date":1693305042,"answer_id":76999389,"question_id":22589302,"body_markdown":"In case you are looking for `nullable` annotations, [JSpecify](https://jspecify.dev/) is the modern way to go.\r\n\r\nThey have [`@Nullable`](https://jspecify.dev/docs/user-guide#nullable)\r\n\r\n```java\r\nstatic void print(@Nullable String x) {\r\n  System.out.println(String.valueOf(x));\r\n}\r\n```\r\n\r\nMore interestingly, they have [`@NullMarked`](https://jspecify.dev/docs/user-guide#nullmarked), which states that the whole thing is checked for nullness. If there is no `@Nullable` marking, the assurance is that there is no `null` appearing.\r\n\r\n```java\r\n@NullMarked\r\npublic class Strings {\r\n  public static String nullToEmpty(@Nullable String x) {\r\n    return (x == null) ? &quot;&quot; : x;\r\n  }\r\n\r\n  public static int spaceIndex(String x) {\r\n    return x.indexOf(&#39; &#39;);\r\n  }\r\n}\r\n```","title":"Where is javax.annotation","body":"<p>In case you are looking for <code>nullable</code> annotations, <a href=\"https://jspecify.dev/\" rel=\"nofollow noreferrer\">JSpecify</a> is the modern way to go.</p>\n<p>They have <a href=\"https://jspecify.dev/docs/user-guide#nullable\" rel=\"nofollow noreferrer\"><code>@Nullable</code></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>static void print(@Nullable String x) {\n  System.out.println(String.valueOf(x));\n}\n</code></pre>\n<p>More interestingly, they have <a href=\"https://jspecify.dev/docs/user-guide#nullmarked\" rel=\"nofollow noreferrer\"><code>@NullMarked</code></a>, which states that the whole thing is checked for nullness. If there is no <code>@Nullable</code> marking, the assurance is that there is no <code>null</code> appearing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NullMarked\npublic class Strings {\n  public static String nullToEmpty(@Nullable String x) {\n    return (x == null) ? &quot;&quot; : x;\n  }\n\n  public static int spaceIndex(String x) {\n    return x.indexOf(' ');\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4122473,"reputation":473,"user_id":3382420,"display_name":"Respect2All"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82344,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"answer_count":6,"score":40,"last_activity_date":1693305042,"creation_date":1395568598,"question_id":22589302,"body_markdown":"Ok, so this is probably a NooB question (I&#39;m more of a C++ guy), but I&#39;m lost in the java woods and its frameworks forests...\r\n\r\nI&#39;m trying to look into eclipse RCP development. For that I&#39;m following this well-known tutorial:\r\nhttp://www.vogella.com/tutorials/EclipseRCP/article.html\r\n\r\nAt step 15 I need to add the following dependency packages to import in my bundle.\r\njavax.annotation\r\njavax.injection\r\n\r\nThe problem is that I cannot select these (they are not in the selection list)\r\nI do have javax.el javax.servlet.* and javax.xml.*\r\n\r\nLooking at\r\nhttp://docs.oracle.com/javase/7/docs/api/overview-summary.html\r\nsuggests that this should be part of the standard java.\r\n\r\nWhat obvious mistake am I missing?\r\n\r\n","title":"Where is javax.annotation","body":"<p>Ok, so this is probably a NooB question (I'm more of a C++ guy), but I'm lost in the java woods and its frameworks forests...</p>\n\n<p>I'm trying to look into eclipse RCP development. For that I'm following this well-known tutorial:\n<a href=\"http://www.vogella.com/tutorials/EclipseRCP/article.html\" rel=\"noreferrer\">http://www.vogella.com/tutorials/EclipseRCP/article.html</a></p>\n\n<p>At step 15 I need to add the following dependency packages to import in my bundle.\njavax.annotation\njavax.injection</p>\n\n<p>The problem is that I cannot select these (they are not in the selection list)\nI do have javax.el javax.servlet.* and javax.xml.*</p>\n\n<p>Looking at\n<a href=\"http://docs.oracle.com/javase/7/docs/api/overview-summary.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/overview-summary.html</a>\nsuggests that this should be part of the standard java.</p>\n\n<p>What obvious mistake am I missing?</p>\n"},{"tags":["java","email","smtp","jakarta-mail"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1508992630,"post_id":46945925,"comment_id":80838997,"body_markdown":"How do you connect using a mail client?","body":"How do you connect using a mail client?"},{"owner":{"account_id":29412,"reputation":5855,"user_id":79450,"accept_rate":100,"display_name":"Catchwa"},"score":0,"creation_date":1508993084,"post_id":46945925,"comment_id":80839152,"body_markdown":"Can you telnet to the server?","body":"Can you telnet to the server?"},{"owner":{"account_id":11815855,"reputation":63,"user_id":8646077,"accept_rate":91,"display_name":"CorporateSlave"},"score":0,"creation_date":1509005344,"post_id":46945925,"comment_id":80845041,"body_markdown":"@ScaryWombat, just eclipse and catchwa yes I can telnet","body":"@ScaryWombat, just eclipse and catchwa yes I can telnet"}],"answers":[{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508999793,"creation_date":1508999793,"answer_id":46947374,"question_id":46945925,"body_markdown":"I *think* you&#39;re asking how to set the &quot;helo&quot; value when using JavaMail.  If that&#39;s your question, then the answer is to set the [`mail.smtp.localhost`][1] property.\r\n\r\n(If that&#39;s not your question, then please ask again.)\r\n\r\n\r\n  [1]: https://javaee.github.io/javamail/docs/api/com/sun/mail/smtp/package-summary.html#mail.smtp.localhost","title":"Mail property needed for helo","body":"<p>I <em>think</em> you're asking how to set the \"helo\" value when using JavaMail.  If that's your question, then the answer is to set the <a href=\"https://javaee.github.io/javamail/docs/api/com/sun/mail/smtp/package-summary.html#mail.smtp.localhost\" rel=\"nofollow noreferrer\"><code>mail.smtp.localhost</code></a> property.</p>\n\n<p>(If that's not your question, then please ask again.)</p>\n"}],"owner":{"account_id":11815855,"reputation":63,"user_id":8646077,"accept_rate":91,"display_name":"CorporateSlave"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693405808,"answer_count":1,"score":0,"last_activity_date":1693304967,"creation_date":1508992514,"question_id":46945925,"body_markdown":"The sysad gave this to me as I cannot use our SMTP server. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PvCVB.png\r\n\r\n\r\nStacktrace:\r\n\r\n    javax.mail.MessagingException: Could not connect to SMTP host: mail.value-exch.com, port: 25, response: -1\r\n    \tat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1270)\r\n    \tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:370)\r\n    \tat javax.mail.Service.connect(Service.java:275)\r\n    \tat javax.mail.Service.connect(Service.java:156)\r\n    \tat javax.mail.Service.connect(Service.java:105)\r\n    \tat javax.mail.Transport.send0(Transport.java:168)\r\n    \tat javax.mail.Transport.send(Transport.java:98)\r\n\r\n\r\nShould I add anything besides this ones? Like for the helo?\r\n\r\n      properties.setProperty(&quot;mail.smtp.host&quot;, host); \r\n      properties.setProperty(&quot;mail.smtp.port&quot;, port);\r\n\r\n","title":"Mail property needed for helo","body":"<p>The sysad gave this to me as I cannot use our SMTP server. </p>\n\n<p><a href=\"https://i.stack.imgur.com/PvCVB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PvCVB.png\" alt=\"enter image description here\"></a></p>\n\n<p>Stacktrace:</p>\n\n<pre><code>javax.mail.MessagingException: Could not connect to SMTP host: mail.value-exch.com, port: 25, response: -1\n    at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1270)\n    at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:370)\n    at javax.mail.Service.connect(Service.java:275)\n    at javax.mail.Service.connect(Service.java:156)\n    at javax.mail.Service.connect(Service.java:105)\n    at javax.mail.Transport.send0(Transport.java:168)\n    at javax.mail.Transport.send(Transport.java:98)\n</code></pre>\n\n<p>Should I add anything besides this ones? Like for the helo?</p>\n\n<pre><code>  properties.setProperty(\"mail.smtp.host\", host); \n  properties.setProperty(\"mail.smtp.port\", port);\n</code></pre>\n"},{"tags":["java","for-loop","nested-for-loop"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1693307394,"post_id":76999004,"comment_id":135740390,"body_markdown":"How should the rhombus appear if height and weight are not equal?  That is, should the lower-left corner always be at column 0?\n\np.s. Generate the String of stars once.  Use meaningful variable names.","body":"How should the rhombus appear if height and weight are not equal?  That is, should the lower-left corner always be at column 0?  p.s. Generate the String of stars once.  Use meaningful variable names."},{"owner":{"account_id":29257041,"reputation":1,"user_id":22415008,"display_name":"Gangadhar Yande"},"score":0,"creation_date":1693412256,"post_id":76999004,"comment_id":135758420,"body_markdown":"Thanks I will keep that in mind for using meaningful variable names","body":"Thanks I will keep that in mind for using meaningful variable names"}],"answers":[{"tags":[],"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693302204,"creation_date":1693302204,"answer_id":76999069,"question_id":76999004,"body_markdown":"Something like this would do it:\r\n\r\n    for (int i = 5; i &gt; 0; i--) {\r\n        System.out.println(&quot; &quot;.repeat(i) + &quot;*&quot;.repeat(5));\r\n    }\r\n\r\nThe `repeat` method on the String object is &quot;new&quot; since Java 11.","title":"Is there any other way to print solid rhombus with * using for loops","body":"<p>Something like this would do it:</p>\n<pre><code>for (int i = 5; i &gt; 0; i--) {\n    System.out.println(&quot; &quot;.repeat(i) + &quot;*&quot;.repeat(5));\n}\n</code></pre>\n<p>The <code>repeat</code> method on the String object is &quot;new&quot; since Java 11.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693304056,"creation_date":1693303728,"answer_id":76999253,"question_id":76999004,"body_markdown":"You do it almost right. Just one tiny mistake in the first loop. \r\n```java\r\npublic static void printSolidRhombus(int height, int width) {\r\n    String stars = &quot;*&quot;.repeat(width);\r\n\r\n    while (height-- &gt; 0) {\r\n        for (int i = 0; i &lt;= height; i++)\r\n            System.out.print(&#39; &#39;);\r\n\r\n        System.out.println(stars);\r\n    }\r\n}\r\n```\r\n\r\nWhen you call `printSolidRhombus(5, 7)` you get:\r\n```\r\n     *******\r\n    *******\r\n   *******\r\n  *******\r\n *******\r\n```\r\n \r\n***P.S.** I would remove on space column from the patter, to make the last row like `*******`*","title":"Is there any other way to print solid rhombus with * using for loops","body":"<p>You do it almost right. Just one tiny mistake in the first loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void printSolidRhombus(int height, int width) {\n    String stars = &quot;*&quot;.repeat(width);\n\n    while (height-- &gt; 0) {\n        for (int i = 0; i &lt;= height; i++)\n            System.out.print(' ');\n\n        System.out.println(stars);\n    }\n}\n</code></pre>\n<p>When you call <code>printSolidRhombus(5, 7)</code> you get:</p>\n<pre><code>     *******\n    *******\n   *******\n  *******\n *******\n</code></pre>\n<p><em><strong>P.S.</strong> I would remove on space column from the patter, to make the last row like <code>*******</code></em></p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693304610,"creation_date":1693304610,"answer_id":76999342,"question_id":76999004,"body_markdown":"You could do it recursively without any loops:\r\n\r\n```\r\nstatic void recursive(String prefix, String suffix) {\r\n  System.out.println(prefix + suffix);\r\n  if (prefix.length() &gt; 1) {\r\n    recursive(prefix.substring(1), suffix);\r\n  }\r\n}\r\n\r\npublic static void main(String[] args) {\r\n  recursive(&quot;     &quot;, &quot;*****&quot;);\r\n}\r\n```","title":"Is there any other way to print solid rhombus with * using for loops","body":"<p>You could do it recursively without any loops:</p>\n<pre><code>static void recursive(String prefix, String suffix) {\n  System.out.println(prefix + suffix);\n  if (prefix.length() &gt; 1) {\n    recursive(prefix.substring(1), suffix);\n  }\n}\n\npublic static void main(String[] args) {\n  recursive(&quot;     &quot;, &quot;*****&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":29257041,"reputation":1,"user_id":22415008,"display_name":"Gangadhar Yande"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1693304610,"creation_date":1693301729,"question_id":76999004,"body_markdown":"I am leaning Java, trying to solve the patterns in Java using for loop\r\n[Solid Rhombus](https://i.stack.imgur.com/lkaq4.png).\r\n\r\nPrint Format:\r\n\r\n    line 1 :5 Spaces *****(5 Stars) then \r\n    Line 2 :4 Spaces *****\r\n    line 3 :3 Spaces *****\r\n    Line 4 :2 Spaces *****\r\n    Line 5 :1 Space *****\r\n\r\nI tried for loop with nested for loop as below\r\n\r\n```\r\npublic class SolidRombus {\r\n  public static void main(String[] args) {\r\n        int n = 5;\r\n        int m = 5;\r\n        for (int i = 1; i &lt;= n; i++) {\r\n\r\n            for (int j = 1; j &lt;= m-i+1; j++) {\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            for (int j = 1; j &lt;= m; j++) {\r\n                System.out.print(&quot;*&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIs there any other way to print same Star-pattern using only for-loop with less statements in Java?\r\n","title":"Is there any other way to print solid rhombus with * using for loops","body":"<p>I am leaning Java, trying to solve the patterns in Java using for loop\n<a href=\"https://i.stack.imgur.com/lkaq4.png\" rel=\"nofollow noreferrer\">Solid Rhombus</a>.</p>\n<p>Print Format:</p>\n<pre><code>line 1 :5 Spaces *****(5 Stars) then \nLine 2 :4 Spaces *****\nline 3 :3 Spaces *****\nLine 4 :2 Spaces *****\nLine 5 :1 Space *****\n</code></pre>\n<p>I tried for loop with nested for loop as below</p>\n<pre><code>public class SolidRombus {\n  public static void main(String[] args) {\n        int n = 5;\n        int m = 5;\n        for (int i = 1; i &lt;= n; i++) {\n\n            for (int j = 1; j &lt;= m-i+1; j++) {\n                System.out.print(&quot; &quot;);\n            }\n            for (int j = 1; j &lt;= m; j++) {\n                System.out.print(&quot;*&quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>Is there any other way to print same Star-pattern using only for-loop with less statements in Java?</p>\n"},{"tags":["java","web-services","jakarta-ee","jboss7.x"],"comments":[{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1311324378,"post_id":6787503,"comment_id":8054497,"body_markdown":"To me it looks like an app server issue. I&#39;m not an experienced JBoss user, but all app servers I&#39;ve seen so far initialize the servlet context listener(s) first, then the servlets. Are your Web Services located in a different WAR file?","body":"To me it looks like an app server issue. I&#39;m not an experienced JBoss user, but all app servers I&#39;ve seen so far initialize the servlet context listener(s) first, then the servlets. Are your Web Services located in a different WAR file?"},{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":3,"creation_date":1311324462,"post_id":6787503,"comment_id":8054517,"body_markdown":"BTW: Sine JEE6 a Startup EJB annotation is available as well... in the case you use EJBs: http://download.oracle.com/javaee/6/api/javax/ejb/Startup.html","body":"BTW: Sine JEE6 a Startup EJB annotation is available as well... in the case you use EJBs: <a href=\"http://download.oracle.com/javaee/6/api/javax/ejb/Startup.html\" rel=\"nofollow noreferrer\">download.oracle.com/javaee/6/api/javax/ejb/Startup.html</a>"},{"owner":{"account_id":212639,"reputation":583,"user_id":465583,"accept_rate":67,"display_name":"DXTR66"},"score":0,"creation_date":1311324554,"post_id":6787503,"comment_id":8054543,"body_markdown":"Nope, the servlet (which would do the startup process) and the webservices are in the same war. And I am also think that this might be a JB AS7 related issue, never the less I was interessted if there is maybe a better, standardized way, of handling startup stuff :).","body":"Nope, the servlet (which would do the startup process) and the webservices are in the same war. And I am also think that this might be a JB AS7 related issue, never the less I was interessted if there is maybe a better, standardized way, of handling startup stuff :)."},{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1311324858,"post_id":6787503,"comment_id":8054623,"body_markdown":"No, I think ServletContextListener is the right way to do it. I used it several times in the past and never found a better solution.","body":"No, I think ServletContextListener is the right way to do it. I used it several times in the past and never found a better solution."},{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1311324972,"post_id":6787503,"comment_id":8054656,"body_markdown":"Not your JBoss version and GateIn related, but maybe there is a difference when it comes to hot deployment (e.g. in eclipse environment):http://community.jboss.org/thread/157804","body":"Not your JBoss version and GateIn related, but maybe there is a difference when it comes to hot deployment (e.g. in eclipse environment):<a href=\"http://community.jboss.org/thread/157804\" rel=\"nofollow noreferrer\">community.jboss.org/thread/157804</a>"}],"answers":[{"tags":[],"owner":{"account_id":441184,"reputation":2753,"user_id":831145,"display_name":"powerMicha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1311326662,"creation_date":1311326662,"answer_id":6788024,"question_id":6787503,"body_markdown":"If your webservices are annotated like this\r\n\r\n    @javax.jws.WebService(...)\r\n    public interface YourServiceEndpoint\r\n\r\nthey are no *real* servlets yet, but JBoss (Jax-WS) will turn them into a startup.\r\n\r\nI am using jboss-4.2.3 and I am also getting these messages before my `ServletContextListner` is called.\r\n\r\n    [org.jboss.wsf.framework.management.DefaultEndpointRegistry] register: jboss.ws:context=crm,endpoint=YourService\r\n\r\n\r\nBut I wonder, if this webservice is available before the complete application has started because nearly at the end of deployment I get following messages\r\n\r\n    [org.jboss.wsf.stack.jbws.WSDLFilePublisher]  WSDL published to: ... YourServlet(..).wsdl\r\n\r\nSo I would guess, that this is a jboss related issue. Maybe we should test on another app server to proof so.","title":"&quot;Standardized&quot; way of handling the lifecycle of a Java EE application","body":"<p>If your webservices are annotated like this</p>\n\n<pre><code>@javax.jws.WebService(...)\npublic interface YourServiceEndpoint\n</code></pre>\n\n<p>they are no <em>real</em> servlets yet, but JBoss (Jax-WS) will turn them into a startup.</p>\n\n<p>I am using jboss-4.2.3 and I am also getting these messages before my <code>ServletContextListner</code> is called.</p>\n\n<pre><code>[org.jboss.wsf.framework.management.DefaultEndpointRegistry] register: jboss.ws:context=crm,endpoint=YourService\n</code></pre>\n\n<p>But I wonder, if this webservice is available before the complete application has started because nearly at the end of deployment I get following messages</p>\n\n<pre><code>[org.jboss.wsf.stack.jbws.WSDLFilePublisher]  WSDL published to: ... YourServlet(..).wsdl\n</code></pre>\n\n<p>So I would guess, that this is a jboss related issue. Maybe we should test on another app server to proof so.</p>\n"},{"tags":[],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693304216,"creation_date":1693304216,"answer_id":76999305,"question_id":6787503,"body_markdown":"I did it with the following bean on WebLogic 14 with Java EE 8 API\r\n\r\n```java\r\n@Singleton\r\n@Startup\r\npublic class MyApplicationLifecycleListener {\r\n\r\n    @PostConstruct\r\n    public void init(){}\r\n\r\n    @PreDestroy\r\n    public void destroy(){}\r\n\r\n}\r\n```\r\n\r\nI had the same problem as the OP with my runtime, and I was looking for decouple my code from vendor-specific libraries.\r\n\r\nFollowing the comments, and with the help of `javax:javaee-api` which can be found on Maven I superseded WebLogic&#39;s `ApplicationLifecycleListener` thus removing the dependency from the POM and all the rest of the problems it takes along.\r\n\r\nI would expect this to work on JBoss too.","title":"&quot;Standardized&quot; way of handling the lifecycle of a Java EE application","body":"<p>I did it with the following bean on WebLogic 14 with Java EE 8 API</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Singleton\n@Startup\npublic class MyApplicationLifecycleListener {\n\n    @PostConstruct\n    public void init(){}\n\n    @PreDestroy\n    public void destroy(){}\n\n}\n</code></pre>\n<p>I had the same problem as the OP with my runtime, and I was looking for decouple my code from vendor-specific libraries.</p>\n<p>Following the comments, and with the help of <code>javax:javaee-api</code> which can be found on Maven I superseded WebLogic's <code>ApplicationLifecycleListener</code> thus removing the dependency from the POM and all the rest of the problems it takes along.</p>\n<p>I would expect this to work on JBoss too.</p>\n"}],"owner":{"account_id":212639,"reputation":583,"user_id":465583,"accept_rate":67,"display_name":"DXTR66"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1420,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1693304216,"creation_date":1311323648,"question_id":6787503,"body_markdown":"When developing an Java EE Application, I often came across the &#39;problem&#39; to do stuff when the application is started, stopped etc. Now for Weblogic for example, there is a mechanism for that (the application life-cycle listener). But if you want to keep your application free from stuff that is app. server specific, you have to find a different solution. Some recommend using a servlet that is loaded on start-up, and &quot;abuse&quot; the `init()`/`destroy()`. \r\n\r\nOthers say use a `ServletContextListener`. To me, the last one sounds best (according to the java doc for &lt;a href=&quot;http://download.oracle.com/javaee/6/api/index.html?javax/servlet/ServletContextListener.html&quot;&gt;`ServletContextListener`&lt;/a&gt;. Unfortunately, today I tried JBoss 7, where it seems that jax-ws webservices are initialized before any other `Servlet`, thus before the `ServletContextListener` gets a notification.\r\n\r\nLong story short - am I just facing some app server specific issues here - or is there any &quot;more appropriate&quot;, standardized Java EE way to register things, do stuff, before any webservice, servlet, whatsoever is initialized?","title":"&quot;Standardized&quot; way of handling the lifecycle of a Java EE application","body":"<p>When developing an Java EE Application, I often came across the 'problem' to do stuff when the application is started, stopped etc. Now for Weblogic for example, there is a mechanism for that (the application life-cycle listener). But if you want to keep your application free from stuff that is app. server specific, you have to find a different solution. Some recommend using a servlet that is loaded on start-up, and \"abuse\" the <code>init()</code>/<code>destroy()</code>. </p>\n\n<p>Others say use a <code>ServletContextListener</code>. To me, the last one sounds best (according to the java doc for <a href=\"http://download.oracle.com/javaee/6/api/index.html?javax/servlet/ServletContextListener.html\" rel=\"nofollow\"><code>ServletContextListener</code></a>. Unfortunately, today I tried JBoss 7, where it seems that jax-ws webservices are initialized before any other <code>Servlet</code>, thus before the <code>ServletContextListener</code> gets a notification.</p>\n\n<p>Long story short - am I just facing some app server specific issues here - or is there any \"more appropriate\", standardized Java EE way to register things, do stuff, before any webservice, servlet, whatsoever is initialized?</p>\n"},{"tags":["java","reactjs","typescript"],"answers":[{"tags":[],"owner":{"account_id":29320739,"reputation":1,"user_id":22464401,"display_name":"Samarjit Sen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693303952,"creation_date":1693303952,"answer_id":76999274,"question_id":75481934,"body_markdown":"Under - Visual Studio Code,\r\nClick on &quot;Extensions&quot; button from left bar last one / Ctrl + Shift + X (by shortcut),\r\nSearch - &#39;react snippets&#39;,\r\nInstall - ES7+ React/Redux/React-Native snippets.\r\nDone - now &#39;rafce&#39; shortcut will work. \r\n[enter image description here][1]\r\n\r\n\r\n[1]: https://i.stack.imgur.com/kBqrx.jpg\r\n\r\n- Thank You.","title":"React-Typescript - &#39;rafce&#39; shortcut not working in VS Code","body":"<p>Under - Visual Studio Code,\nClick on &quot;Extensions&quot; button from left bar last one / Ctrl + Shift + X (by shortcut),\nSearch - 'react snippets',\nInstall - ES7+ React/Redux/React-Native snippets.\nDone - now 'rafce' shortcut will work.\n<a href=\"https://i.stack.imgur.com/kBqrx.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<ul>\n<li>Thank You.</li>\n</ul>\n"}],"owner":{"account_id":27616082,"reputation":61,"user_id":21078113,"display_name":"chaitanya vardhan kopanati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693303952,"creation_date":1676623121,"question_id":75481934,"body_markdown":"I was install the React snippets extension in VSCode using with this link:-&gt;**https://marketplace.visualstudio.com/items?itemName=dsznajder.es7-react-js-snippets**\r\nAfter i add the extension.But ***i want typescript extension command***, when i did used ***rafce*** it&#39;s only use for creating normal functional component only,What is the problem? How do I fix it?","title":"React-Typescript - &#39;rafce&#39; shortcut not working in VS Code","body":"<p>I was install the React snippets extension in VSCode using with this link:-&gt;<strong><a href=\"https://marketplace.visualstudio.com/items?itemName=dsznajder.es7-react-js-snippets\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=dsznajder.es7-react-js-snippets</a></strong>\nAfter i add the extension.But <em><strong>i want typescript extension command</strong></em>, when i did used <em><strong>rafce</strong></em> it's only use for creating normal functional component only,What is the problem? How do I fix it?</p>\n"},{"tags":["java","git","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1693307091,"post_id":76999236,"comment_id":135740329,"body_markdown":"You might be able to `git checkout .` to restore an entire directory from source control.","body":"You might be able to <code>git checkout .</code> to restore an entire directory from source control."}],"owner":{"account_id":19534758,"reputation":31,"user_id":14293770,"display_name":"rwd762"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693303557,"creation_date":1693303557,"question_id":76999236,"body_markdown":"Following problem: I have a Java EE application that runs inside a docker container.\r\nIn my run-configurations i have set up a couple of mounts.\r\nYesterday i tried to mount a single pdf file from my repo, located in my directory for jsf controllers (just for convenience), to the tmp directory in my container.\r\n\r\nSo eventually in my mounts I wanted to do something like this:\r\nproject/.../.../controller/file.pdf /tmp/file.pdf\r\n\r\nBy accident however, I ended up doing this:\r\nproject/.../.../controller/ /tmp/\r\n\r\nObviously all my class files inside the controller directory were mounted to /tmp/ and were deleted from my repo.\r\nAfter I detected my mistake I deleted all files from my mount since they shouldn&#39;t have been there at all but that also meant that they were gone for good.\r\n\r\nAll those changes are in git, so technically i could try to reverse it, but in my case over 1000 files have been changed by this.\r\n\r\nIs there another way to undo this step or am I left with using git and trying to reset the changes?\r\n\r\nThanks a lot in advance :)\r\n\r\n","title":"Intellij + Docker: Restore deleted files after wrong mount","body":"<p>Following problem: I have a Java EE application that runs inside a docker container.\nIn my run-configurations i have set up a couple of mounts.\nYesterday i tried to mount a single pdf file from my repo, located in my directory for jsf controllers (just for convenience), to the tmp directory in my container.</p>\n<p>So eventually in my mounts I wanted to do something like this:\nproject/.../.../controller/file.pdf /tmp/file.pdf</p>\n<p>By accident however, I ended up doing this:\nproject/.../.../controller/ /tmp/</p>\n<p>Obviously all my class files inside the controller directory were mounted to /tmp/ and were deleted from my repo.\nAfter I detected my mistake I deleted all files from my mount since they shouldn't have been there at all but that also meant that they were gone for good.</p>\n<p>All those changes are in git, so technically i could try to reverse it, but in my case over 1000 files have been changed by this.</p>\n<p>Is there another way to undo this step or am I left with using git and trying to reset the changes?</p>\n<p>Thanks a lot in advance :)</p>\n"},{"tags":["java","spring","serialization","redis","redisinsights"],"answers":[{"tags":[],"owner":{"account_id":24952335,"reputation":81,"user_id":18816989,"display_name":"Viktar Starastsenka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693303128,"creation_date":1693303128,"answer_id":76999183,"question_id":76967274,"body_markdown":"what delimiter do you use in key names?\r\nI tried a key name with double quotes and used a colon as a delimiter, and it worked fine.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WmeVl.png","title":"Redis Insight shows keys with their doublequotes when using a Spring App","body":"<p>what delimiter do you use in key names?\nI tried a key name with double quotes and used a colon as a delimiter, and it worked fine.\n<a href=\"https://i.stack.imgur.com/WmeVl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WmeVl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27225904,"reputation":3,"user_id":20754419,"display_name":"go_with_christ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693303128,"creation_date":1692863998,"question_id":76967274,"body_markdown":"Yo, \r\n\r\nI was using a redis client in node js with Redis insight and everything was smooth. Now I&#39;m trying a Spring App with Jedis however every key I insert is surrounded by doublequotes which makes the Tree view feature of Redis insight to not work. \r\n\r\nHere is my template config:\r\n```java\r\n    @Bean\r\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(@Nonnull RedisConnectionFactory redisConnectionFactory) {\r\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n        template.setConnectionFactory(redisConnectionFactory);\r\n        template.setDefaultSerializer(new GenericJackson2JsonRedisSerializer());\r\n        return template;\r\n    }\r\n```\r\n\r\n\r\n\r\nI thought maybe something was wrong with the serializer, so I even tried something like this\r\n```java\r\ntemplate.setStringSerializer(new GenericToStringSerializer&lt;&gt;(String.class));\r\n```\r\nHowever this doesn&#39;t seem a serializer issue since I checked the bytes and everything looks fine. \r\n\r\nSearched Redis Insight settings for a little bit and couldn&#39;t find anything, any ideas?\r\n\r\n[Using Spring and Jedis](https://prnt.sc/9Hiw6ZoUxHeK)\r\n\r\n[Same app using node redis](https://prnt.sc/0sY7rZ-OZkm9)","title":"Redis Insight shows keys with their doublequotes when using a Spring App","body":"<p>Yo,</p>\n<p>I was using a redis client in node js with Redis insight and everything was smooth. Now I'm trying a Spring App with Jedis however every key I insert is surrounded by doublequotes which makes the Tree view feature of Redis insight to not work.</p>\n<p>Here is my template config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(@Nonnull RedisConnectionFactory redisConnectionFactory) {\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(redisConnectionFactory);\n        template.setDefaultSerializer(new GenericJackson2JsonRedisSerializer());\n        return template;\n    }\n</code></pre>\n<p>I thought maybe something was wrong with the serializer, so I even tried something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>template.setStringSerializer(new GenericToStringSerializer&lt;&gt;(String.class));\n</code></pre>\n<p>However this doesn't seem a serializer issue since I checked the bytes and everything looks fine.</p>\n<p>Searched Redis Insight settings for a little bit and couldn't find anything, any ideas?</p>\n<p><a href=\"https://prnt.sc/9Hiw6ZoUxHeK\" rel=\"nofollow noreferrer\">Using Spring and Jedis</a></p>\n<p><a href=\"https://prnt.sc/0sY7rZ-OZkm9\" rel=\"nofollow noreferrer\">Same app using node redis</a></p>\n"},{"tags":["java","json","retrofit2"],"comments":[{"owner":{"account_id":172168,"reputation":3185,"user_id":400026,"accept_rate":75,"display_name":"Daniel Voina"},"score":0,"creation_date":1516784179,"post_id":48418261,"comment_id":83826284,"body_markdown":"Are you sure that &quot;Application/Json&quot; is ok in @Headers? I would use &quot;application/json&quot; as content type as it is usually spelled (and also in RFC)","body":"Are you sure that &quot;Application/Json&quot; is ok in @Headers? I would use &quot;application/json&quot; as content type as it is usually spelled (and also in RFC)"},{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1516784368,"post_id":48418261,"comment_id":83826416,"body_markdown":"I believe Retrofit already sets the content-type header. Could you try again without the entire `@Headers( { ... } )` above that method? Also, could you post the server code of the `api/v1.0/let/fmir` end point? (or at least its method signature)","body":"I believe Retrofit already sets the content-type header. Could you try again without the entire <code>@Headers( { ... } )</code> above that method? Also, could you post the server code of the <code>api&#47;v1.0&#47;let&#47;fmir</code> end point? (or at least its method signature)"},{"owner":{"account_id":12798753,"reputation":43,"user_id":9260740,"display_name":"Vitaly Morozov"},"score":0,"creation_date":1516784938,"post_id":48418261,"comment_id":83826794,"body_markdown":"@DanielVoina, yes, I tried use in lowercase also, and debug Retrofit execution - it ignores case.","body":"@DanielVoina, yes, I tried use in lowercase also, and debug Retrofit execution - it ignores case."},{"owner":{"account_id":12798753,"reputation":43,"user_id":9260740,"display_name":"Vitaly Morozov"},"score":0,"creation_date":1516785260,"post_id":48418261,"comment_id":83826996,"body_markdown":"@BartKiers, 1. &quot;Could you try again without the entire `@Headers( { ... } )` above that method?&quot; - I tried - unfortunately the same. 2. I&#39;ll try to find the code - it will takes some time.","body":"@BartKiers, 1. &quot;Could you try again without the entire <code>@Headers( { ... } )</code> above that method?&quot; - I tried - unfortunately the same. 2. I&#39;ll try to find the code - it will takes some time."},{"owner":{"account_id":12798753,"reputation":43,"user_id":9260740,"display_name":"Vitaly Morozov"},"score":0,"creation_date":1516786615,"post_id":48418261,"comment_id":83827878,"body_markdown":"@BartKiers here is method signature: `@ApiOperation(&quot;Some description&quot;)\n@POST\n@Path(&quot;fmir&quot;)\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\n@ApiResponses(value = {\n\t@ApiResponse(code = 200, message = &quot;ОК&quot;),\n\t@ApiResponse(code = 400, message = &quot;some message&quot;),\n\t@ApiResponse(code = 500, message = &quot;some message&quot;)\n})\npublic List&lt;Letter&gt; getLet(\n\t@ApiParam(value = &quot;Authorization header&quot;) @HeaderParam(HttpHeaders.AUTHORIZATION) final String authorization,\n\t@Context ContainerRequestContext context,\n\tfinal List&lt;String&gt; letterIds\n) {}\n`","body":"@BartKiers here is method signature: <code>@ApiOperation(&quot;Some description&quot;) @POST @Path(&quot;fmir&quot;) @Produces(MediaType.APPLICATION_JSON) @Consumes(MediaType.APPLICATION_JSON) @ApiResponses(value = { \t@ApiResponse(code = 200, message = &quot;ОК&quot;), \t@ApiResponse(code = 400, message = &quot;some message&quot;), \t@ApiResponse(code = 500, message = &quot;some message&quot;) }) public List&lt;Letter&gt; getLet( \t@ApiParam(value = &quot;Authorization header&quot;) @HeaderParam(HttpHeaders.AUTHORIZATION) final String authorization, \t@Context ContainerRequestContext context, \tfinal List&lt;String&gt; letterIds ) {} </code>"}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1516787723,"creation_date":1516787723,"answer_id":48419459,"question_id":48418261,"body_markdown":"Since the server endpoint expects a list of strings, I think your client will need to send this as well (an not send a string):\r\n\r\nSo, try this:\r\n\r\n    public interface ApiService {\r\n    \r\n        @POST( &quot;let/fmir&quot; )\r\n        @Headers( {\r\n                &quot;Accept-Encoding: gzip,deflate&quot;,\r\n                &quot;Content-Type: Application/Json;charset=UTF-8&quot;,\r\n                &quot;Accept: Application/Json&quot;,\r\n                &quot;User-Agent: Retrofit 2.3.0&quot;\r\n        } )\r\n        Call&lt;LetPOJO&gt; fmir(\r\n                @Header( &quot;Authorization&quot; ) String authorization,\r\n                @Body List&lt;String&gt; body\r\n        );\r\n    }\r\n\r\n    ...\r\n\r\n    ApiService apiService = ApiServiceProvider.createApiService();\r\n    Call&lt;LetPOJO&gt; call = apiService.fmir(\r\n        &quot;Basic NDUhg4234OQ==&quot;,\r\n        Arrays.asList(&quot;L___1&quot;, &quot;L___2&quot;, &quot;L___3&quot;, &quot;L___4&quot;)\r\n    );","title":"Retrofit2 - getting 400 bad request on POST with body","body":"<p>Since the server endpoint expects a list of strings, I think your client will need to send this as well (an not send a string):</p>\n\n<p>So, try this:</p>\n\n<pre><code>public interface ApiService {\n\n    @POST( \"let/fmir\" )\n    @Headers( {\n            \"Accept-Encoding: gzip,deflate\",\n            \"Content-Type: Application/Json;charset=UTF-8\",\n            \"Accept: Application/Json\",\n            \"User-Agent: Retrofit 2.3.0\"\n    } )\n    Call&lt;LetPOJO&gt; fmir(\n            @Header( \"Authorization\" ) String authorization,\n            @Body List&lt;String&gt; body\n    );\n}\n\n...\n\nApiService apiService = ApiServiceProvider.createApiService();\nCall&lt;LetPOJO&gt; call = apiService.fmir(\n    \"Basic NDUhg4234OQ==\",\n    Arrays.asList(\"L___1\", \"L___2\", \"L___3\", \"L___4\")\n);\n</code></pre>\n"}],"owner":{"account_id":12798753,"reputation":43,"user_id":9260740,"display_name":"Vitaly Morozov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9858,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48419459,"answer_count":1,"score":4,"last_activity_date":1693302714,"creation_date":1516783779,"question_id":48418261,"body_markdown":"I&#39;m using Retrofit2.\r\nSend a POST request with body (as a JSON array), but getting the &quot;**400 Bad Request**&quot;.\r\nMeanwhile sending the request from ***SoapUI*** and my http client (based on ***HttpURLConnection***) works fine.\r\n\r\nAPI Interface for the service:\r\n\r\n    public interface ApiService {\r\n    \r\n        @POST( &quot;let/fmir&quot; )\r\n        @Headers( {\r\n                &quot;Accept-Encoding: gzip,deflate&quot;,\r\n                &quot;Content-Type: Application/Json;charset=UTF-8&quot;,\r\n                &quot;Accept: Application/Json&quot;,\r\n                &quot;User-Agent: Retrofit 2.3.0&quot;\r\n        } )\r\n        Call&lt;LetPOJO&gt; fmir(\r\n                @Header( &quot;Authorization&quot; ) String authorization,\r\n                @Body String body\r\n        );\r\n    }\r\n\r\nAPI service provider:\r\n\r\n    public class ApiServiceProvider {\r\n    \r\n        public ApiService createApiService() {\r\n            // Prepare the Retrofit logger\r\n            HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\r\n            interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n            OkHttpClient client = new OkHttpClient.Builder().addInterceptor( interceptor).build();\r\n    \r\n            // Build the Retrofit\r\n            Retrofit retrofit = new Retrofit.Builder()\r\n                    .baseUrl( &quot;http://1.1.1.1:3040/api/v1.0/&quot; )\r\n                    .client( client )\r\n                    .addConverterFactory( JacksonConverterFactory.create() );\r\n                    .build();\r\n            return retrofit.create( ApiService.class );\r\n        }\r\n    }\r\n\r\nInvoke service by declared API (input data were obfuscated):\r\n\r\n    ApiService apiService = ApiServiceProvider.createApiService();\r\n    Call&lt;LetPOJO&gt; call = apiService.fmir(\r\n        &quot;Basic NDUhg4234OQ==&quot;,\r\n        &quot;[\\&quot;L___1\\&quot;,\\&quot;L___2\\&quot;,\\&quot;L___3\\&quot;,\\&quot;L___4\\&quot;]&quot;\r\n    );\r\n\r\nLog of Retrofit interceptor:\r\n\r\n    янв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: --&gt; POST http://1.1.1.1:3040/api/v1.0/let/fmir\r\n    янв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: Content-Type: Application/Json;charset=UTF-8\r\n    янв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: Content-Length: 139\r\n    янв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: Accept-Encoding: gzip,deflate\r\n    янв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: Accept: Application/Json\r\n    янв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: User-Agent: Retrofit 2.3.0\r\n    янв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: Authorization: Basic NDUhg4234OQ==\r\n    янв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: \r\n    янв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: &quot;[\\&quot;L___1\\&quot;,\\&quot;L___2\\&quot;,\\&quot;L___3\\&quot;,\\&quot;L___4\\&quot;]&quot;\r\n    янв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: --&gt; END POST (139-byte body)\r\n    янв 24, 2018 10:12:39 AM okhttp3.internal.platform.Platform log INFO: &lt;-- 400 Bad Request http://1.1.1.1:3040/api/v1.0/let/fmir (121ms)\r\n    янв 24, 2018 10:12:39 AM okhttp3.internal.platform.Platform log INFO: Vary: Accept-Encoding\r\n    янв 24, 2018 10:12:39 AM okhttp3.internal.platform.Platform log INFO: Content-Encoding: gzip\r\n    янв 24, 2018 10:12:39 AM okhttp3.internal.platform.Platform log INFO: Content-Type: text/plain\r\n    янв 24, 2018 10:12:39 AM okhttp3.internal.platform.Platform log INFO: Date: Wed, 24 Jan 2018 07:12:39 GMT\r\n    янв 24, 2018 10:12:39 AM okhttp3.internal.platform.Platform log INFO: Connection: close\r\n    янв 24, 2018 10:12:39 AM okhttp3.internal.platform.Platform log INFO: Content-Length: 192\r\n    янв 24, 2018 10:12:39 AM okhttp3.internal.platform.Platform log INFO: &lt;-- END HTTP (encoded body omitted)\r\n\r\nResponse&#39;s *Content-Type* is ***text/plain***, but expected **Application/Json**\r\n\r\nFor example, working SoapUI&#39;s request/response:\r\nThe request:\r\n\r\n    POST http://1.1.1.1:3040/api/v1.0/let/fmir HTTP/1.1\r\n    Accept-Encoding: gzip,deflate\r\n    Content-Type: application/json;charset=UTF-8\r\n    Authorization: Basic NDUhg4234OQ==\r\n    Content-Length: 129\r\n    Host: 1.1.1.1:3040\r\n    Connection: Keep-Alive\r\n    User-Agent: Apache-HttpClient/4.1.1 (java 1.5)\r\n\r\nAnd its response:\r\n\r\n    HTTP/1.1 200 OK\r\n    Vary: Accept-Encoding\r\n    Content-Encoding: gzip\r\n    Content-Type: application/json\r\n    Date: Wed, 24 Jan 2018 08:33:12 GMT\r\n    Content-Length: 689\r\n    \r\n    [{&quot;id&quot;:&quot;L___1&quot;}]\r\n\r\nThe body is obfuscated also. \r\nAs we can see *Content-Type: **application/json***\r\n\r\nWhen I sending via **HttpURLConnection** - HTTP headers of the request are the same also and works fine:\r\n\r\n - Authorization\r\n - Content-Type\r\n - Accept\r\n\r\nHowever, GET request with Queries works fine via Retrofit.\r\n\r\nI not found any solutions for this problem. In some cases propose to use `@Header` annotation as a method argument - but behaviour is the same.\r\n\r\nThis is the server endpoint:\r\n\r\n    @ApiOperation(&quot;Some description&quot;) \r\n    @POST @Path(&quot;fmir&quot;) \r\n    @Produces(MediaType.APPLICATION_JSON) \r\n    @Consumes(MediaType.APPLICATION_JSON) \r\n    @ApiResponses(value = { \r\n      @ApiResponse(code = 200, message = &quot;ОК&quot;), \r\n      @ApiResponse(code = 400, message = &quot;some message&quot;), \r\n      @ApiResponse(code = 500, message = &quot;some message&quot;) \r\n    }) \r\n    public List&lt;Letter&gt; getLet(\r\n        @ApiParam(value = &quot;Authorization header&quot;) \r\n        @HeaderParam(HttpHeaders.AUTHORIZATION) final String authorization, \r\n        @Context ContainerRequestContext context, \r\n        final List&lt;String&gt; letterIds) {\r\n      // ...\r\n    }","title":"Retrofit2 - getting 400 bad request on POST with body","body":"<p>I'm using Retrofit2.\nSend a POST request with body (as a JSON array), but getting the \"<strong>400 Bad Request</strong>\".\nMeanwhile sending the request from <strong><em>SoapUI</em></strong> and my http client (based on <strong><em>HttpURLConnection</em></strong>) works fine.</p>\n\n<p>API Interface for the service:</p>\n\n<pre><code>public interface ApiService {\n\n    @POST( \"let/fmir\" )\n    @Headers( {\n            \"Accept-Encoding: gzip,deflate\",\n            \"Content-Type: Application/Json;charset=UTF-8\",\n            \"Accept: Application/Json\",\n            \"User-Agent: Retrofit 2.3.0\"\n    } )\n    Call&lt;LetPOJO&gt; fmir(\n            @Header( \"Authorization\" ) String authorization,\n            @Body String body\n    );\n}\n</code></pre>\n\n<p>API service provider:</p>\n\n<pre><code>public class ApiServiceProvider {\n\n    public ApiService createApiService() {\n        // Prepare the Retrofit logger\n        HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\n        interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n        OkHttpClient client = new OkHttpClient.Builder().addInterceptor( interceptor).build();\n\n        // Build the Retrofit\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl( \"http://1.1.1.1:3040/api/v1.0/\" )\n                .client( client )\n                .addConverterFactory( JacksonConverterFactory.create() );\n                .build();\n        return retrofit.create( ApiService.class );\n    }\n}\n</code></pre>\n\n<p>Invoke service by declared API (input data were obfuscated):</p>\n\n<pre><code>ApiService apiService = ApiServiceProvider.createApiService();\nCall&lt;LetPOJO&gt; call = apiService.fmir(\n    \"Basic NDUhg4234OQ==\",\n    \"[\\\"L___1\\\",\\\"L___2\\\",\\\"L___3\\\",\\\"L___4\\\"]\"\n);\n</code></pre>\n\n<p>Log of Retrofit interceptor:</p>\n\n<pre><code>янв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: --&gt; POST http://1.1.1.1:3040/api/v1.0/let/fmir\nянв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: Content-Type: Application/Json;charset=UTF-8\nянв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: Content-Length: 139\nянв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: Accept-Encoding: gzip,deflate\nянв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: Accept: Application/Json\nянв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: User-Agent: Retrofit 2.3.0\nянв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: Authorization: Basic NDUhg4234OQ==\nянв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: \nянв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: \"[\\\"L___1\\\",\\\"L___2\\\",\\\"L___3\\\",\\\"L___4\\\"]\"\nянв 24, 2018 10:12:38 AM okhttp3.internal.platform.Platform log INFO: --&gt; END POST (139-byte body)\nянв 24, 2018 10:12:39 AM okhttp3.internal.platform.Platform log INFO: &lt;-- 400 Bad Request http://1.1.1.1:3040/api/v1.0/let/fmir (121ms)\nянв 24, 2018 10:12:39 AM okhttp3.internal.platform.Platform log INFO: Vary: Accept-Encoding\nянв 24, 2018 10:12:39 AM okhttp3.internal.platform.Platform log INFO: Content-Encoding: gzip\nянв 24, 2018 10:12:39 AM okhttp3.internal.platform.Platform log INFO: Content-Type: text/plain\nянв 24, 2018 10:12:39 AM okhttp3.internal.platform.Platform log INFO: Date: Wed, 24 Jan 2018 07:12:39 GMT\nянв 24, 2018 10:12:39 AM okhttp3.internal.platform.Platform log INFO: Connection: close\nянв 24, 2018 10:12:39 AM okhttp3.internal.platform.Platform log INFO: Content-Length: 192\nянв 24, 2018 10:12:39 AM okhttp3.internal.platform.Platform log INFO: &lt;-- END HTTP (encoded body omitted)\n</code></pre>\n\n<p>Response's <em>Content-Type</em> is <strong><em>text/plain</em></strong>, but expected <strong>Application/Json</strong></p>\n\n<p>For example, working SoapUI's request/response:\nThe request:</p>\n\n<pre><code>POST http://1.1.1.1:3040/api/v1.0/let/fmir HTTP/1.1\nAccept-Encoding: gzip,deflate\nContent-Type: application/json;charset=UTF-8\nAuthorization: Basic NDUhg4234OQ==\nContent-Length: 129\nHost: 1.1.1.1:3040\nConnection: Keep-Alive\nUser-Agent: Apache-HttpClient/4.1.1 (java 1.5)\n</code></pre>\n\n<p>And its response:</p>\n\n<pre><code>HTTP/1.1 200 OK\nVary: Accept-Encoding\nContent-Encoding: gzip\nContent-Type: application/json\nDate: Wed, 24 Jan 2018 08:33:12 GMT\nContent-Length: 689\n\n[{\"id\":\"L___1\"}]\n</code></pre>\n\n<p>The body is obfuscated also. \nAs we can see <em>Content-Type: <strong>application/json</em></strong></p>\n\n<p>When I sending via <strong>HttpURLConnection</strong> - HTTP headers of the request are the same also and works fine:</p>\n\n<ul>\n<li>Authorization</li>\n<li>Content-Type</li>\n<li>Accept</li>\n</ul>\n\n<p>However, GET request with Queries works fine via Retrofit.</p>\n\n<p>I not found any solutions for this problem. In some cases propose to use <code>@Header</code> annotation as a method argument - but behaviour is the same.</p>\n\n<p>This is the server endpoint:</p>\n\n<pre><code>@ApiOperation(\"Some description\") \n@POST @Path(\"fmir\") \n@Produces(MediaType.APPLICATION_JSON) \n@Consumes(MediaType.APPLICATION_JSON) \n@ApiResponses(value = { \n  @ApiResponse(code = 200, message = \"ОК\"), \n  @ApiResponse(code = 400, message = \"some message\"), \n  @ApiResponse(code = 500, message = \"some message\") \n}) \npublic List&lt;Letter&gt; getLet(\n    @ApiParam(value = \"Authorization header\") \n    @HeaderParam(HttpHeaders.AUTHORIZATION) final String authorization, \n    @Context ContainerRequestContext context, \n    final List&lt;String&gt; letterIds) {\n  // ...\n}\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":10093689,"reputation":116,"user_id":7538954,"display_name":"AngeLOL"},"score":0,"creation_date":1693285827,"post_id":76997417,"comment_id":135736792,"body_markdown":"Have you added the dependency to your code?","body":"Have you added the dependency to your code?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693297957,"post_id":76997417,"comment_id":135738718,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1693302351,"post_id":76997417,"comment_id":135739513,"body_markdown":"The error in the title differs from the error in your question body. The error in the title is explained in the first duplicate. The error in the question body is due to using a modular project, but your `module-info.java` does not contain `requires java.sql;` (see also the second duplicate).","body":"The error in the title differs from the error in your question body. The error in the title is explained in the first duplicate. The error in the question body is due to using a modular project, but your <code>module-info.java</code> does not contain <code>requires java.sql;</code> (see also the second duplicate)."}],"owner":{"account_id":29318839,"reputation":1,"user_id":22462897,"display_name":"samadhan patil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693302284,"answer_count":0,"score":0,"last_activity_date":1693302391,"creation_date":1693285162,"question_id":76997417,"body_markdown":"I&#39;m encountering a ClassNotFoundException when trying to connect to a MySQL database in my Java program. Here&#39;s the error message I&#39;m getting:\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: java/sql/Driver\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:375)\r\n\tat hello/hello.world.main(world.java:8)\r\nCaused by: java.lang.ClassNotFoundException: java.sql.Driver\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)\r\n\t... 12 more\r\n```\r\n\r\n","title":"ClassNotFoundException for com.mysql.cj.jdbc.Driver in Java Program","body":"<p>I'm encountering a ClassNotFoundException when trying to connect to a MySQL database in my Java program. Here's the error message I'm getting:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: java/sql/Driver\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:375)\n    at hello/hello.world.main(world.java:8)\nCaused by: java.lang.ClassNotFoundException: java.sql.Driver\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)\n    ... 12 more\n</code></pre>\n"},{"tags":["java","android","kotlin","memory","jvm"],"answers":[{"tags":[],"owner":{"account_id":19662480,"reputation":11,"user_id":14393636,"display_name":"xoxoxo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693302026,"creation_date":1693302026,"answer_id":76999045,"question_id":76998968,"body_markdown":"Yes, it may occur. try using ErrorCatch Exception.\r\n\r\n        try {\r\n            val rl: RelativeLayout = RelativeLayout(this)\r\n\r\n        } catch (e: OutOfMemoryError) {\r\n            println(e.toString)\r\n        }","title":"can programatic creation of android artifacts (relativelayout, button etc) fail in Kotlin/Java due to OutOfMemoryError","body":"<p>Yes, it may occur. try using ErrorCatch Exception.</p>\n<pre><code>    try {\n        val rl: RelativeLayout = RelativeLayout(this)\n\n    } catch (e: OutOfMemoryError) {\n        println(e.toString)\n    }\n</code></pre>\n"}],"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1693302026,"creation_date":1693301472,"question_id":76998968,"body_markdown":"When I create a RelativeLayout(or a Button, textview etc) in Android programmatically:\r\n\r\n    val rl: RelativeLayout = RelativeLayout (this)\r\n\r\nNow, can there be a scenario when the OS is not able to allocate any memory to create the RelativeLayout? If yes then How to handle it? \r\n\r\nIn the [documentation][1], it is not mentioned anywhere if it will return null in this scenario (which I think it won&#39;t as rl is non-nullable and the above code doesn&#39;t give any compilation error) or if it will give an OutOfMemoryError exception and I have to use a try-catch to handle it. \r\n\r\nIs this behavior documented anywhere?\r\n \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/RelativeLayout#RelativeLayout(android.content.Context)","title":"can programatic creation of android artifacts (relativelayout, button etc) fail in Kotlin/Java due to OutOfMemoryError","body":"<p>When I create a RelativeLayout(or a Button, textview etc) in Android programmatically:</p>\n<pre><code>val rl: RelativeLayout = RelativeLayout (this)\n</code></pre>\n<p>Now, can there be a scenario when the OS is not able to allocate any memory to create the RelativeLayout? If yes then How to handle it?</p>\n<p>In the <a href=\"https://developer.android.com/reference/android/widget/RelativeLayout#RelativeLayout(android.content.Context)\" rel=\"nofollow noreferrer\">documentation</a>, it is not mentioned anywhere if it will return null in this scenario (which I think it won't as rl is non-nullable and the above code doesn't give any compilation error) or if it will give an OutOfMemoryError exception and I have to use a try-catch to handle it.</p>\n<p>Is this behavior documented anywhere?</p>\n"},{"tags":["java","smtp","html-email"],"comments":[{"owner":{"display_name":"user166390"},"score":2,"creation_date":1324096654,"post_id":8542616,"comment_id":10582996,"body_markdown":"You didn&#39;t greet the server correctly :(","body":"You didn&#39;t greet the server correctly :("},{"owner":{"account_id":141656,"reputation":1378,"user_id":1340362,"accept_rate":37,"display_name":"Pedantic"},"score":0,"creation_date":1324097414,"post_id":8542616,"comment_id":10583065,"body_markdown":"Hi thanks for answering, please help me for this.I am new for SMTP server configuration.","body":"Hi thanks for answering, please help me for this.I am new for SMTP server configuration."},{"owner":{"display_name":"user166390"},"score":1,"creation_date":1324098034,"post_id":8542616,"comment_id":10583119,"body_markdown":"Perhaps *slightly* related http://stackoverflow.com/questions/4934373/invalid-helo-name-in-javamail","body":"Perhaps <i>slightly</i> related <a href=\"http://stackoverflow.com/questions/4934373/invalid-helo-name-in-javamail\" title=\"invalid helo name in javamail\">stackoverflow.com/questions/4934373/&hellip;</a>"},{"owner":{"display_name":"user166390"},"score":0,"creation_date":1324098098,"post_id":8542616,"comment_id":10583124,"body_markdown":"Remember, you can always &quot;telnet&quot; into the SMTP server and try issuing HELO commands to see what works/fails.","body":"Remember, you can always &quot;telnet&quot; into the SMTP server and try issuing HELO commands to see what works/fails."},{"owner":{"account_id":468289,"reputation":178176,"user_id":874188,"accept_rate":62,"display_name":"tripleee"},"score":4,"creation_date":1346922409,"post_id":8542616,"comment_id":16496608,"body_markdown":"`&quot;Your email client does not support HTML messages&quot;` is wrong, it should be `&quot;Your email client is configured to prefer what you prefer instead of what we prefer you to prefer&quot;`.","body":"<code>&quot;Your email client does not support HTML messages&quot;</code> is wrong, it should be <code>&quot;Your email client is configured to prefer what you prefer instead of what we prefer you to prefer&quot;</code>."}],"answers":[{"tags":[],"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1324098057,"creation_date":1324098057,"answer_id":8542707,"question_id":8542616,"body_markdown":"This should be handled by the administrator of your mail server, not by you. Talk to whoever told you to connect to that mail server.","title":"550 Access denied - Invalid HELO name","body":"<p>This should be handled by the administrator of your mail server, not by you. Talk to whoever told you to connect to that mail server.</p>\n"},{"tags":[],"owner":{"account_id":379713,"reputation":1242,"user_id":733267,"display_name":"Hontv&#225;ri Levente"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1324199212,"creation_date":1324196824,"answer_id":8550609,"question_id":8542616,"body_markdown":"Maybe this will help:\r\n&lt;pre&gt;\r\nemail.getMailSession().getProperties().setProperty(&quot;mail.smtp.localhost&quot;, &quot;www.example.com&quot;);\r\n&lt;/pre&gt;\r\n\r\nOf course replace www.example.com with the domain name of your host from where you send the mail. \r\n\r\nHowever, as David Schwartz wrote, your mail configuration is not perfect either. Nowdays we do not submit mails to port 25. Port 587 is used for submission, which has  more relaxed rules, although it may be necessary to authenticate yourself if your IP address is not white listed. Follow the link which was given by pst in his comment.\r\n\r\nIt is strange that JavaMail alone works, while Apache Commons Email does not, because I guess Commons Email also used JavaMail. This may indicate a bug somewhere but it would require further investigation. \r\n\r\nOne of your problem is that you do not know the exact HELO name you are sending. The following code may help to determine it, otherwise call your mail administrator (especially because he may advise you on port 587).\r\n&lt;pre&gt;\r\nemail.getMailSession().setDebug(true);\r\n&lt;/pre&gt;","title":"550 Access denied - Invalid HELO name","body":"<p>Maybe this will help:</p>\n\n<pre>\nemail.getMailSession().getProperties().setProperty(\"mail.smtp.localhost\", \"www.example.com\");\n</pre>\n\n<p>Of course replace www.example.com with the domain name of your host from where you send the mail. </p>\n\n<p>However, as David Schwartz wrote, your mail configuration is not perfect either. Nowdays we do not submit mails to port 25. Port 587 is used for submission, which has  more relaxed rules, although it may be necessary to authenticate yourself if your IP address is not white listed. Follow the link which was given by pst in his comment.</p>\n\n<p>It is strange that JavaMail alone works, while Apache Commons Email does not, because I guess Commons Email also used JavaMail. This may indicate a bug somewhere but it would require further investigation. </p>\n\n<p>One of your problem is that you do not know the exact HELO name you are sending. The following code may help to determine it, otherwise call your mail administrator (especially because he may advise you on port 587).</p>\n\n<pre>\nemail.getMailSession().setDebug(true);\n</pre>\n"},{"tags":[],"owner":{"account_id":1816428,"reputation":41,"user_id":1651425,"display_name":"Mohammad Obada ALJabban"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1346923018,"creation_date":1346922180,"answer_id":12296545,"question_id":8542616,"body_markdown":"I&#39;ve faced the same problem, and when i pass the name of client host everything became ok\r\ni&#39;ve add this line in my code:\r\n    \r\n    props.put(&quot;mail.smtp.localhost&quot;, client or host name which connect to mail server);\r\n\r\nGood Luck :)","title":"550 Access denied - Invalid HELO name","body":"<p>I've faced the same problem, and when i pass the name of client host everything became ok\ni've add this line in my code:</p>\n\n<pre><code>props.put(\"mail.smtp.localhost\", client or host name which connect to mail server);\n</code></pre>\n\n<p>Good Luck :)</p>\n"},{"tags":[],"owner":{"account_id":1975632,"reputation":497,"user_id":1773483,"display_name":"Prateek Mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609704322,"creation_date":1609704322,"answer_id":65554392,"question_id":8542616,"body_markdown":"I was getting same error, it was fixed after enabling below properties:\r\n\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n    spring.mail.properties.mail.smtp.starttls.required=true\r\n    spring.mail.properties.mail.smtp.auth=true","title":"550 Access denied - Invalid HELO name","body":"<p>I was getting same error, it was fixed after enabling below properties:</p>\n<pre><code>spring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.starttls.required=true\nspring.mail.properties.mail.smtp.auth=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5398574,"reputation":121,"user_id":4299024,"display_name":"Akbar jan- JEE developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693301944,"creation_date":1693301944,"answer_id":76999030,"question_id":8542616,"body_markdown":"I fixed the issue as:\r\nif the from email adress&#39;s server part is xyz.com e.g(john@xyz.com) \r\nthen add this property \r\n\r\n props.put(&quot;mail.smtp.localhost&quot;, &quot;xyz.com&quot;); \r\n\r\nWorked perfectly with me.","title":"550 Access denied - Invalid HELO name","body":"<p>I fixed the issue as:\nif the from email adress's server part is xyz.com e.g(john@xyz.com)\nthen add this property</p>\n<p>props.put(&quot;mail.smtp.localhost&quot;, &quot;xyz.com&quot;);</p>\n<p>Worked perfectly with me.</p>\n"}],"owner":{"account_id":141656,"reputation":1378,"user_id":1340362,"accept_rate":37,"display_name":"Pedantic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9829,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1693301944,"creation_date":1324096539,"question_id":8542616,"body_markdown":"I am using apace common mail API for sending html emails. following is my code.\r\n\r\n    public void sendHTMLMail(String to, String subject, String message , String from) throws EmailException\r\n    \t{\r\n    \t\t\r\n    \t\t  HtmlEmail email = new HtmlEmail();\r\n    \t\t  email.setHostName(SMTP_HOST_NAME);\r\n    \t\t  email.addTo(to);\r\n    \t\t  email.setFrom(from, &quot;just-flick&quot;);\r\n    \t\t  email.setSubject(subject);\r\n    \t\t  email.setSmtpPort(25);\r\n    \t\t  email.setHtmlMsg(message);\r\n    \t\t  email.setTextMsg(&quot;Your email client does not support HTML messages&quot;);\r\n    \t\t  email.send();\r\n    \t\t\r\n    \t}\r\n\r\nBut while running the program I am getting following error.\r\n\r\n    Exception in thread &quot;main&quot; org.apache.commons.mail.EmailException: Sending the e\r\n    mail to the following server failed : mail.just-flick.com:25\r\n    \tat org.apache.commons.mail.Email.sendMimeMessage(Email.java:1242)\r\n    \tat org.apache.commons.mail.Email.send(Email.java:1267)\r\n    \tat bseller.mail.SendMail.sendHTMLMail(SendMail.java:105)\r\n    \tat bseller.mail.SendMail.main(SendMail.java:31)\r\n    Caused by: com.sun.mail.smtp.SMTPSendFailedException: 550 Access denied - Invali\r\n    d HELO name (See RFC2821 4.1.1.1)\r\n    \r\n    \tat com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:1388)\r\n    \tat com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:959)\r\n    \tat com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:583)\r\n    \tat javax.mail.Transport.send0(Transport.java:169)\r\n    \tat javax.mail.Transport.send(Transport.java:98)\r\n    \tat org.apache.commons.mail.Email.sendMimeMessage(Email.java:1232)\r\n    \t... 3 more\r\n\r\n\r\nPlease help me to configure this problem.\r\n\r\nThanks\r\n","title":"550 Access denied - Invalid HELO name","body":"<p>I am using apace common mail API for sending html emails. following is my code.</p>\n\n<pre><code>public void sendHTMLMail(String to, String subject, String message , String from) throws EmailException\n    {\n\n          HtmlEmail email = new HtmlEmail();\n          email.setHostName(SMTP_HOST_NAME);\n          email.addTo(to);\n          email.setFrom(from, \"just-flick\");\n          email.setSubject(subject);\n          email.setSmtpPort(25);\n          email.setHtmlMsg(message);\n          email.setTextMsg(\"Your email client does not support HTML messages\");\n          email.send();\n\n    }\n</code></pre>\n\n<p>But while running the program I am getting following error.</p>\n\n<pre><code>Exception in thread \"main\" org.apache.commons.mail.EmailException: Sending the e\nmail to the following server failed : mail.just-flick.com:25\n    at org.apache.commons.mail.Email.sendMimeMessage(Email.java:1242)\n    at org.apache.commons.mail.Email.send(Email.java:1267)\n    at bseller.mail.SendMail.sendHTMLMail(SendMail.java:105)\n    at bseller.mail.SendMail.main(SendMail.java:31)\nCaused by: com.sun.mail.smtp.SMTPSendFailedException: 550 Access denied - Invali\nd HELO name (See RFC2821 4.1.1.1)\n\n    at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:1388)\n    at com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:959)\n    at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:583)\n    at javax.mail.Transport.send0(Transport.java:169)\n    at javax.mail.Transport.send(Transport.java:98)\n    at org.apache.commons.mail.Email.sendMimeMessage(Email.java:1232)\n    ... 3 more\n</code></pre>\n\n<p>Please help me to configure this problem.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","string","batch-file","cmd","fart"],"comments":[{"owner":{"account_id":165169,"reputation":55845,"user_id":388389,"accept_rate":87,"display_name":"npocmaka"},"score":1,"creation_date":1398760854,"post_id":23359371,"comment_id":35777259,"body_markdown":"Try -c switch `C --c-style       Allow C-style extended characters (\\xFF\\0\\t\\n\\r\\\\ etc.)\n`","body":"Try -c switch <code>C --c-style       Allow C-style extended characters (\\xFF\\0\\t\\n\\r\\\\ etc.) </code>"}],"answers":[{"tags":[],"owner":{"account_id":165169,"reputation":55845,"user_id":388389,"accept_rate":87,"display_name":"npocmaka"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1404905995,"creation_date":1398770633,"answer_id":23363293,"question_id":23359371,"body_markdown":"Ok, try with -C option\r\n\r\n    -C --c-style       Allow C-style extended characters (\\xFF\\0\\t\\n\\r\\\\ etc.)","title":"remove slash , blackslash using FART","body":"<p>Ok, try with -C option</p>\n\n<pre><code>-C --c-style       Allow C-style extended characters (\\xFF\\0\\t\\n\\r\\\\ etc.)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4722654,"reputation":21,"user_id":3820145,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404904349,"creation_date":1404904349,"answer_id":24652162,"question_id":23359371,"body_markdown":"Try this \r\n\r\n    Fart.exe --remove --c-style myFile.txt &quot;\\/&quot; \r\n\r\n","title":"remove slash , blackslash using FART","body":"<p>Try this </p>\n\n<pre><code>Fart.exe --remove --c-style myFile.txt \"\\/\" \n</code></pre>\n"},{"tags":[],"owner":{"account_id":21805552,"reputation":21,"user_id":16104038,"display_name":"rzickler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693301553,"creation_date":1693300647,"answer_id":76998869,"question_id":23359371,"body_markdown":"For everyone trying to replace `/` with `\\`:\r\n\r\n    fart.exe -C &quot;your_file.txt&quot; &quot;\\/&quot; &quot;\\\\\\\\&quot;","title":"remove slash , blackslash using FART","body":"<p>For everyone trying to replace <code>/</code> with <code>\\</code>:</p>\n<pre><code>fart.exe -C &quot;your_file.txt&quot; &quot;\\/&quot; &quot;\\\\\\\\&quot;\n</code></pre>\n"}],"owner":{"account_id":1437810,"reputation":2352,"user_id":1358817,"display_name":"Exorcismus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2726,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23363293,"answer_count":3,"score":4,"last_activity_date":1693301553,"creation_date":1398759965,"question_id":23359371,"body_markdown":"how can i remove/replace &quot;/&quot; from a text file ? am using FART for this , it&#39;s working okey for all the characters but for some reason it doesn&#39;t see the &quot;/&quot; character \r\n\r\n    Fart.exe --remove myFile.txt &quot;/&quot; ","title":"remove slash , blackslash using FART","body":"<p>how can i remove/replace \"/\" from a text file ? am using FART for this , it's working okey for all the characters but for some reason it doesn't see the \"/\" character </p>\n\n<pre><code>Fart.exe --remove myFile.txt \"/\" \n</code></pre>\n"},{"tags":["java","database","ldap","unboundid-ldap-sdk"],"comments":[{"owner":{"account_id":5504458,"reputation":791,"user_id":4374481,"display_name":"Palamino"},"score":0,"creation_date":1553188820,"post_id":55285063,"comment_id":97301745,"body_markdown":"Try changing your filter to &quot;(&amp;(objectClass=Users)(memberOf=User))&quot;, but replace the &quot;memberOf&quot; with the name of the attribute your LDAP server uses to represent the group name.  Active Directory uses &quot;memberOf&quot; while Novell Directory uses &quot;groupMembership&quot;, so your LDAP server may differ.","body":"Try changing your filter to &quot;(&amp;(objectClass=Users)(memberOf=User))&quot;, but replace the &quot;memberOf&quot; with the name of the attribute your LDAP server uses to represent the group name.  Active Directory uses &quot;memberOf&quot; while Novell Directory uses &quot;groupMembership&quot;, so your LDAP server may differ."},{"owner":{"account_id":15453009,"reputation":245,"user_id":11147894,"display_name":"jose azevedo"},"score":0,"creation_date":1553190935,"post_id":55285063,"comment_id":97302832,"body_markdown":"Sorry but i tried in many ways but it doesnt retrieve me nothing, i tried to replace with both ways, i put a sample a LDAP dn on my question","body":"Sorry but i tried in many ways but it doesnt retrieve me nothing, i tried to replace with both ways, i put a sample a LDAP dn on my question"},{"owner":{"account_id":31959,"reputation":10608,"user_id":88122,"accept_rate":0,"display_name":"jwilleke"},"score":0,"creation_date":1553334383,"post_id":55285063,"comment_id":97352003,"body_markdown":"Do you want all the users within the &quot;OU=Users&quot; and that are members of what Group?  Are you using Active Directory?","body":"Do you want all the users within the &quot;OU=Users&quot; and that are members of what Group?  Are you using Active Directory?"},{"owner":{"account_id":15453009,"reputation":245,"user_id":11147894,"display_name":"jose azevedo"},"score":0,"creation_date":1553337847,"post_id":55285063,"comment_id":97352871,"body_markdown":"Yes I&#39;m using active directory.Well i just want all the users of the OU=Users.","body":"Yes I&#39;m using active directory.Well i just want all the users of the OU=Users."},{"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"score":1,"creation_date":1585239770,"post_id":55285063,"comment_id":107697641,"body_markdown":"Did you find any solution to this? I have similar requirement now.","body":"Did you find any solution to this? I have similar requirement now."}],"answers":[{"tags":[],"owner":{"account_id":14833320,"reputation":11,"user_id":10712211,"display_name":"Vasilii Kovalev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693301498,"creation_date":1693301498,"answer_id":76998973,"question_id":55285063,"body_markdown":"You may try something close to:\r\n\r\n    fun exaple(baseDN: String = &quot;DC=dc1,DC=dc2&quot;, groupName = &quot;groupName&quot;) {\r\n        val groupDN = &quot;CN=$groupName,CN=Users,$baseDN&quot;\r\n\r\n        val filterForUsersInGroup = Filter.createANDFilter(\r\n            Filter.createEqualityFilter(&quot;objectClass&quot;, &quot;user&quot;),\r\n            Filter.createEqualityFilter(&quot;memberOf&quot;, groupDN)\r\n        )\r\n\r\n        client.search(baseDN, SearchScope.ONE, filterForUsersInGroup)\r\n    }","title":"Search all the users with a certain group in LDAP using unboundid","body":"<p>You may try something close to:</p>\n<pre><code>fun exaple(baseDN: String = &quot;DC=dc1,DC=dc2&quot;, groupName = &quot;groupName&quot;) {\n    val groupDN = &quot;CN=$groupName,CN=Users,$baseDN&quot;\n\n    val filterForUsersInGroup = Filter.createANDFilter(\n        Filter.createEqualityFilter(&quot;objectClass&quot;, &quot;user&quot;),\n        Filter.createEqualityFilter(&quot;memberOf&quot;, groupDN)\n    )\n\n    client.search(baseDN, SearchScope.ONE, filterForUsersInGroup)\n}\n</code></pre>\n"}],"owner":{"account_id":15453009,"reputation":245,"user_id":11147894,"display_name":"jose azevedo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":971,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693301498,"creation_date":1553185638,"question_id":55285063,"body_markdown":"Im trying to get all entities with the &quot;OU=Users&quot;.\r\nRight now i can get all the entities but i just wanted the entities that belong to the group User.\r\n\r\nI have tried to change my search request but everything failed:\r\n\r\n    SearchRequest searchRequest = new SearchRequest(ldapConfig.getBaseDn(), SearchScope.SUB,\r\n\t\t\t\t\tFilter.createEqualityFilter(&quot;(objectClass=Users)&quot;, &quot;person&quot;));\r\n\r\n\r\nHere is the full code:\r\n\r\n    SearchRequest searchRequest = new SearchRequest(ldapConfig.getBaseDn(), SearchScope.SUB,\r\n\t\t\t\t\tFilter.createEqualityFilter(&quot;(objectClass=Users)&quot;, &quot;person&quot;));\r\n\t\t\tASN1OctetString resumeCookie = null;\r\n\t\t\twhile (true) {\r\n\t\t\t\tsearchRequest.setControls(new SimplePagedResultsControl(10, resumeCookie));\r\n\t\t\t\tSearchResult searchResult = ldapConnection.search(searchRequest);\r\n\t\t\t\tnumSearches++;\r\n\t\t\t\ttotalEntriesReturned += searchResult.getEntryCount();\r\n\t\t\t\tfor (SearchResultEntry e : searchResult.getSearchEntries()) {\r\n\t\t\t\t\tSystem.out.println(e.getDN());\r\n\t\t\t\t}\r\n\t\t\t\tcont++;\r\n\t\t\t\tLDAPTestUtils.assertHasControl(searchResult, SimplePagedResultsControl.PAGED_RESULTS_OID);\r\n\t\t\t\tSimplePagedResultsControl responseControl = SimplePagedResultsControl.get(searchResult);\r\n\t\t\t\tif (responseControl.moreResultsToReturn()) {\r\n\t\t\t\t\t// The resume cookie can be included in the simple paged results\r\n\t\t\t\t\t// control included in the next search to get the next page of results.\r\n\t\t\t\t\tresumeCookie = responseControl.getCookie();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\r\n\r\nLdap sample:\r\n\r\n    CN=name,OU=Users,OU=group2,OU=group3,OU=group4,OU=group5,DC=dc1,DC=dc2\r\n\r\n","title":"Search all the users with a certain group in LDAP using unboundid","body":"<p>Im trying to get all entities with the \"OU=Users\".\nRight now i can get all the entities but i just wanted the entities that belong to the group User.</p>\n\n<p>I have tried to change my search request but everything failed:</p>\n\n<pre><code>SearchRequest searchRequest = new SearchRequest(ldapConfig.getBaseDn(), SearchScope.SUB,\n                Filter.createEqualityFilter(\"(objectClass=Users)\", \"person\"));\n</code></pre>\n\n<p>Here is the full code:</p>\n\n<pre><code>SearchRequest searchRequest = new SearchRequest(ldapConfig.getBaseDn(), SearchScope.SUB,\n                Filter.createEqualityFilter(\"(objectClass=Users)\", \"person\"));\n        ASN1OctetString resumeCookie = null;\n        while (true) {\n            searchRequest.setControls(new SimplePagedResultsControl(10, resumeCookie));\n            SearchResult searchResult = ldapConnection.search(searchRequest);\n            numSearches++;\n            totalEntriesReturned += searchResult.getEntryCount();\n            for (SearchResultEntry e : searchResult.getSearchEntries()) {\n                System.out.println(e.getDN());\n            }\n            cont++;\n            LDAPTestUtils.assertHasControl(searchResult, SimplePagedResultsControl.PAGED_RESULTS_OID);\n            SimplePagedResultsControl responseControl = SimplePagedResultsControl.get(searchResult);\n            if (responseControl.moreResultsToReturn()) {\n                // The resume cookie can be included in the simple paged results\n                // control included in the next search to get the next page of results.\n                resumeCookie = responseControl.getCookie();\n            } else {\n                break;\n            }\n</code></pre>\n\n<p>Ldap sample:</p>\n\n<pre><code>CN=name,OU=Users,OU=group2,OU=group3,OU=group4,OU=group5,DC=dc1,DC=dc2\n</code></pre>\n"},{"tags":["java","kotlin","ktor"],"answers":[{"tags":[],"owner":{"account_id":19118793,"reputation":5178,"user_id":13963150,"display_name":"Aleksei Tirman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1693301494,"creation_date":1618232773,"answer_id":67058931,"question_id":67054276,"body_markdown":"You can also get a remote host from the request&#39;s origin: `call.request.origin.remoteHost`, but it returns the IP address in not every case either.\r\n\r\nTo get the IP address use the `call.request.origin.remoteAddress` property.","title":"How to get Client IP with ktor","body":"<p>You can also get a remote host from the request's origin: <code>call.request.origin.remoteHost</code>, but it returns the IP address in not every case either.</p>\n<p>To get the IP address use the <code>call.request.origin.remoteAddress</code> property.</p>\n"}],"owner":{"account_id":20078118,"reputation":149,"user_id":14721395,"display_name":"Infinity_dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3255,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":67058931,"answer_count":1,"score":6,"last_activity_date":1693301494,"creation_date":1618212903,"question_id":67054276,"body_markdown":"Hey i tried to get the ip of the client with ktor.\r\n\r\nI used the method\r\n```\r\nthis.context.request.local.remoteHost\r\n```\r\n\r\n(this.context is an Instance of ApplicationCall)\r\n\r\nHow can i get the real ip an not something like &quot;********.dip0.t-ipconnect.de&quot;","title":"How to get Client IP with ktor","body":"<p>Hey i tried to get the ip of the client with ktor.</p>\n<p>I used the method</p>\n<pre><code>this.context.request.local.remoteHost\n</code></pre>\n<p>(this.context is an Instance of ApplicationCall)</p>\n<p>How can i get the real ip an not something like &quot;********.dip0.t-ipconnect.de&quot;</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1693290734,"post_id":76997821,"comment_id":135737359,"body_markdown":"When is the first element printed? After `printKthToLast` for the second element has finished. When is the second element then printed? After `printKthToLast` for the third element has finished, etc.","body":"When is the first element printed? After <code>printKthToLast</code> for the second element has finished. When is the second element then printed? After <code>printKthToLast</code> for the third element has finished, etc."}],"answers":[{"tags":[],"owner":{"account_id":10182408,"reputation":13,"user_id":7518671,"display_name":"HaVaio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693290909,"creation_date":1693290909,"answer_id":76997850,"question_id":76997821,"body_markdown":"In the given recursive code:\r\n\r\n 1. The recursion traverses to the end of the linked list.\r\n    \r\n 2. As recursion returns from the end to the beginning, it increments an\r\n    &quot;index&quot; counting nodes from the tail.\r\n    \r\n 3. When &quot;index&quot; equals &quot;k&quot;, it prints the node&#39;s value, which is the\r\n    kth node from the end.\r\n\r\nYour confusion is because while recursion goes deep to the end, as it returns, it&#39;s essentially counting backwards from the tail to the head of the list.","title":"Why this &quot;printKthToLast&quot; recursion (java) starts from end to beginning?","body":"<p>In the given recursive code:</p>\n<ol>\n<li><p>The recursion traverses to the end of the linked list.</p>\n</li>\n<li><p>As recursion returns from the end to the beginning, it increments an\n&quot;index&quot; counting nodes from the tail.</p>\n</li>\n<li><p>When &quot;index&quot; equals &quot;k&quot;, it prints the node's value, which is the\nkth node from the end.</p>\n</li>\n</ol>\n<p>Your confusion is because while recursion goes deep to the end, as it returns, it's essentially counting backwards from the tail to the head of the list.</p>\n"},{"tags":[],"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693301145,"creation_date":1693296252,"answer_id":76998414,"question_id":76997821,"body_markdown":"When you reach a statement, it has to be evaluated completely before the program can continue to the next one.\r\n\r\nFor methods, that means they need to be entered and returned from by reaching the end of the method, a `return` statement or raising an exception. Only then a statement that consists of a method call is considered &quot;evaluated&quot;.\r\n\r\nNow, in your case you have this:\r\n\r\n    int index = printKthToLast(head.next, k) + 1;\r\n    if (index == k) {\r\n        System.out.println(k + &quot;th to last node is &quot; + head.data);\r\n    }\r\n\r\nFirst comes `printKthToLast(head.next, k) + 1;` and only after that you print  your result. That means in order to reach the printing statement, the statement before has to be evaluated completely, which will start the recursive chain.\r\n\r\nSo the flow is something like this:\r\n\r\n    printKthToLast(head.next, k)\r\n    |   printKthToLast(head.next.next, k)\r\n    |   |   printKthToLast(head.next.next.next, k)\r\n    |   |   |   ......\r\n    |   |   |   printKthToLast(head...next, k)\r\n    |   |   |   System.out.println(head...data) // innermost method, prints the last element\r\n    |   |   |   return index\r\n    |   |   |   ......\r\n    |   |   System.out.println(head.next.next.data)\r\n    |   |   return index\r\n    |   System.out.println(head.next.data)\r\n    |   return index\r\n    System.out.println(head.data)\r\n    return index\r\n\r\nAs you can see the last element is printed first, then the innermost method is actually finished and returns to the previous method and so on, until you&#39;ve reached the &quot;outermost&quot; method.","title":"Why this &quot;printKthToLast&quot; recursion (java) starts from end to beginning?","body":"<p>When you reach a statement, it has to be evaluated completely before the program can continue to the next one.</p>\n<p>For methods, that means they need to be entered and returned from by reaching the end of the method, a <code>return</code> statement or raising an exception. Only then a statement that consists of a method call is considered &quot;evaluated&quot;.</p>\n<p>Now, in your case you have this:</p>\n<pre><code>int index = printKthToLast(head.next, k) + 1;\nif (index == k) {\n    System.out.println(k + &quot;th to last node is &quot; + head.data);\n}\n</code></pre>\n<p>First comes <code>printKthToLast(head.next, k) + 1;</code> and only after that you print  your result. That means in order to reach the printing statement, the statement before has to be evaluated completely, which will start the recursive chain.</p>\n<p>So the flow is something like this:</p>\n<pre><code>printKthToLast(head.next, k)\n|   printKthToLast(head.next.next, k)\n|   |   printKthToLast(head.next.next.next, k)\n|   |   |   ......\n|   |   |   printKthToLast(head...next, k)\n|   |   |   System.out.println(head...data) // innermost method, prints the last element\n|   |   |   return index\n|   |   |   ......\n|   |   System.out.println(head.next.next.data)\n|   |   return index\n|   System.out.println(head.next.data)\n|   return index\nSystem.out.println(head.data)\nreturn index\n</code></pre>\n<p>As you can see the last element is printed first, then the innermost method is actually finished and returns to the previous method and so on, until you've reached the &quot;outermost&quot; method.</p>\n"}],"owner":{"account_id":9859458,"reputation":45,"user_id":7302953,"display_name":"Lucas Bacciotti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76998414,"answer_count":2,"score":1,"last_activity_date":1693301145,"creation_date":1693290585,"question_id":76997821,"body_markdown":"I am studying algorithms and I am still tackling this doubt for some time.\r\nI understand the concept behind recursions, but what I don&#39;t get is why this code below starts counting from end to begin of the Linked List:\r\n\r\n    public static int printKthToLast(LinkedListNode head, int k) {\r\n        if (head == null) {\r\n            return 0;\r\n        }\r\n        int index = printKthToLast(head.next, k) + 1;\r\n        if (index == k) {\r\n            System.out.println(k + &quot;th to last node is &quot; + head.data);\r\n        }\r\n        return index;\r\n    }\r\n\r\nLook: if I want to find out the 2nd to the last item, and my linked list is {10,20,30,40}, the answer is 30. But if index is added every iteration, the index would be (2) and then the result is 20.\r\n\r\nI understand that the code is (some how) starting from end, and this makes sense, because the second item from the end is 30. But I do not see where I tell &quot;start from the end&quot;. It is something on the recursion I didn&#39;t get yet.","title":"Why this &quot;printKthToLast&quot; recursion (java) starts from end to beginning?","body":"<p>I am studying algorithms and I am still tackling this doubt for some time.\nI understand the concept behind recursions, but what I don't get is why this code below starts counting from end to begin of the Linked List:</p>\n<pre><code>public static int printKthToLast(LinkedListNode head, int k) {\n    if (head == null) {\n        return 0;\n    }\n    int index = printKthToLast(head.next, k) + 1;\n    if (index == k) {\n        System.out.println(k + &quot;th to last node is &quot; + head.data);\n    }\n    return index;\n}\n</code></pre>\n<p>Look: if I want to find out the 2nd to the last item, and my linked list is {10,20,30,40}, the answer is 30. But if index is added every iteration, the index would be (2) and then the result is 20.</p>\n<p>I understand that the code is (some how) starting from end, and this makes sense, because the second item from the end is 30. But I do not see where I tell &quot;start from the end&quot;. It is something on the recursion I didn't get yet.</p>\n"},{"tags":["java","jwt","playframework"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1693321549,"post_id":76998930,"comment_id":135743632,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":7546002,"reputation":2027,"user_id":5729023,"accept_rate":100,"display_name":"Andrew Nolan"},"score":1,"creation_date":1693363524,"post_id":76998930,"comment_id":135749553,"body_markdown":"You will want to look at Action composition to help drive using JWT authentication. https://www.playframework.com/documentation/2.8.x/JavaActionsComposition. This https://dzone.com/articles/jwt-authentication-with-play-framework is a few years old and for older version of Play, but the general idea.","body":"You will want to look at Action composition to help drive using JWT authentication. <a href=\"https://www.playframework.com/documentation/2.8.x/JavaActionsComposition\" rel=\"nofollow noreferrer\">playframework.com/documentation/2.8.x/JavaActionsComposition</a>&zwnj;&#8203;. This <a href=\"https://dzone.com/articles/jwt-authentication-with-play-framework\" rel=\"nofollow noreferrer\">dzone.com/articles/jwt-authentication-with-play-framework</a> is a few years old and for older version of Play, but the general idea."},{"owner":{"account_id":9600116,"reputation":51,"user_id":7127964,"display_name":"Archa"},"score":0,"creation_date":1696837169,"post_id":76998930,"comment_id":136198993,"body_markdown":"Don&#39;t know for sure what you want, but Play! comes with default support for JWT, just create a new session and it will be created as JWT","body":"Don&#39;t know for sure what you want, but Play! comes with default support for JWT, just create a new session and it will be created as JWT"},{"owner":{"account_id":11174137,"reputation":61,"user_id":8200261,"display_name":"Tomas Zeman"},"score":0,"creation_date":1697397982,"post_id":76998930,"comment_id":136271923,"body_markdown":"Please check this example Controller with login API example producing JWT token and Action protected by checking JWT  Bearer token: https://github.com/ertra/play-framework-by-example/blob/master/app/controllers/APIWithTokenExampleController.java","body":"Please check this example Controller with login API example producing JWT token and Action protected by checking JWT  Bearer token: <a href=\"https://github.com/ertra/play-framework-by-example/blob/master/app/controllers/APIWithTokenExampleController.java\" rel=\"nofollow noreferrer\">github.com/ertra/play-framework-by-example/blob/master/app/&hellip;</a>"}],"owner":{"account_id":25957203,"reputation":21,"user_id":19674392,"display_name":"Siddarth K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693301110,"creation_date":1693301110,"question_id":76998930,"body_markdown":"I am new to the Java Play framework and I have created API&#39;s to handle employee information. I want to secure my API&#39;s with JWT authentication.\r\n\r\nI am trying to add JWT authentication but I am not able to understand how to start with and not getting any references. Thank you","title":"How to add JWT authentication for Java play framework application","body":"<p>I am new to the Java Play framework and I have created API's to handle employee information. I want to secure my API's with JWT authentication.</p>\n<p>I am trying to add JWT authentication but I am not able to understand how to start with and not getting any references. Thank you</p>\n"},{"tags":["java","spring","kubernetes","spring-cloud-kubernetes"],"comments":[{"owner":{"account_id":9099844,"reputation":4743,"user_id":6772373,"display_name":"Mike Tung"},"score":0,"creation_date":1611540921,"post_id":65878137,"comment_id":116476855,"body_markdown":"You can setup a spring profile for kubernetes and another for local development.","body":"You can setup a spring profile for kubernetes and another for local development."},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1611541076,"post_id":65878137,"comment_id":116476886,"body_markdown":"I did, I have a application-local.properties. the message and the increased startup time come from this","body":"I did, I have a application-local.properties. the message and the increased startup time come from this"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1611541175,"post_id":65878137,"comment_id":116476906,"body_markdown":"`spring.cloud.kubernetes.enabled=false`","body":"<code>spring.cloud.kubernetes.enabled=false</code>"},{"owner":{"account_id":11580831,"reputation":2836,"user_id":8484783,"display_name":"Marc"},"score":0,"creation_date":1611541234,"post_id":65878137,"comment_id":116476921,"body_markdown":"Can you show your application properties?","body":"Can you show your application properties?"}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1611541297,"creation_date":1611541297,"answer_id":65878188,"question_id":65878137,"body_markdown":"As the [documentation says][1], you can do that by adding:\r\n\r\n\r\n    spring.cloud.kubernetes.enabled=false\r\n\r\nthat, in turn, could be an environment property that you can enable/disable per environment. \r\n\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/index.html#kubernetes-ecosystem-awareness","title":"Disable Spring Cloud Kubernetes in local","body":"<p>As the <a href=\"https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/index.html#kubernetes-ecosystem-awareness\" rel=\"noreferrer\">documentation says</a>, you can do that by adding:</p>\n<pre><code>spring.cloud.kubernetes.enabled=false\n</code></pre>\n<p>that, in turn, could be an environment property that you can enable/disable per environment.</p>\n"},{"tags":[],"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636904699,"creation_date":1636904699,"answer_id":69964604,"question_id":65878137,"body_markdown":"What worked for me was adding the `spring.cloud.kubernetes.enabled=false` property in the `boostrap.properties/yaml` file and not in the `application.properties/yaml` file.","title":"Disable Spring Cloud Kubernetes in local","body":"<p>What worked for me was adding the <code>spring.cloud.kubernetes.enabled=false</code> property in the <code>boostrap.properties/yaml</code> file and not in the <code>application.properties/yaml</code> file.</p>\n"},{"tags":[],"owner":{"account_id":9535555,"reputation":429,"user_id":7085856,"display_name":"Gustavo Marquez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669157712,"creation_date":1669157712,"answer_id":74539903,"question_id":65878137,"body_markdown":"Create the file &quot;bootstrap.properties&quot; into the resources folder\r\n\r\nThen add the following lines:\r\n\r\n    spring.cloud.kubernetes.enabled=false\r\n    spring.cloud.kubernetes.discovery.enabled=false\r\n\r\n","title":"Disable Spring Cloud Kubernetes in local","body":"<p>Create the file &quot;bootstrap.properties&quot; into the resources folder</p>\n<p>Then add the following lines:</p>\n<pre><code>spring.cloud.kubernetes.enabled=false\nspring.cloud.kubernetes.discovery.enabled=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6733567,"reputation":21,"user_id":5189072,"display_name":"Hai.Ngo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693300546,"creation_date":1693300546,"answer_id":76998854,"question_id":65878137,"body_markdown":"In case using Spring Cloud Kubernetes 3.0.x, set property in application.properties/ bootstrap.yaml:\r\n\r\n    spring.main.cloud-platform: NONE\r\n\r\nI built app successfully at LOCAL without above setup but SERVER failed.\r\nBecause I upgraded to spring-cloud-kubernetes 3.0.x","title":"Disable Spring Cloud Kubernetes in local","body":"<p>In case using Spring Cloud Kubernetes 3.0.x, set property in application.properties/ bootstrap.yaml:</p>\n<pre><code>spring.main.cloud-platform: NONE\n</code></pre>\n<p>I built app successfully at LOCAL without above setup but SERVER failed.\nBecause I upgraded to spring-cloud-kubernetes 3.0.x</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9553,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":65878188,"answer_count":4,"score":6,"last_activity_date":1693300546,"creation_date":1611540835,"question_id":65878137,"body_markdown":"Small question on how to disable Spring Cloud Kubernetes in local mode please.\r\n\r\nThe project is a simple SpringBoot + SpringCloud project deployed in Kubernetes.\r\nHence, there is this dependency in the class path:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-kubernetes-fabric8&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nAnd when we deployed the app in a Kubernetes environment, everything is fine.\r\nHowever, the same app run in local mode will yield this warning, but most of all, a 20 seconds increased start time.\r\n\r\n```\r\no.s.c.k.f.Fabric8AutoConfiguration       : No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)\r\n```\r\n\r\nIn local, while removing the dependency entirely, things are &quot;back to normal&quot;. The message disappears, and the start up time comes back down.\r\n\r\nHowever, commenting and uncommenting the dependency based on the local environment might not be the best solution. \r\n\r\nIs there a property to **disable Spring Cloud Kubernetes entirely** that I can configure in local please?\r\n\r\nThank you","title":"Disable Spring Cloud Kubernetes in local","body":"<p>Small question on how to disable Spring Cloud Kubernetes in local mode please.</p>\n<p>The project is a simple SpringBoot + SpringCloud project deployed in Kubernetes.\nHence, there is this dependency in the class path:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-kubernetes-fabric8&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And when we deployed the app in a Kubernetes environment, everything is fine.\nHowever, the same app run in local mode will yield this warning, but most of all, a 20 seconds increased start time.</p>\n<pre><code>o.s.c.k.f.Fabric8AutoConfiguration       : No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)\n</code></pre>\n<p>In local, while removing the dependency entirely, things are &quot;back to normal&quot;. The message disappears, and the start up time comes back down.</p>\n<p>However, commenting and uncommenting the dependency based on the local environment might not be the best solution.</p>\n<p>Is there a property to <strong>disable Spring Cloud Kubernetes entirely</strong> that I can configure in local please?</p>\n<p>Thank you</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":4097010,"reputation":19097,"user_id":3363481,"display_name":"earthw0rmjim"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1516969755,"creation_date":1465822298,"answer_id":37790333,"question_id":37790198,"body_markdown":"You could define an empty layout in your XML where you would like you dynamic content to be and add it&#39;s content from code.\r\n\r\nSomething like this:\r\n\r\n    &lt;android.support.design.widget.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n    \r\n        &lt;android.support.v7.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;?attr/colorPrimary&quot;\r\n            app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot; /&gt;\r\n    &lt;/android.support.design.widget.AppBarLayout&gt;\r\n    \r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/dynamic_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    \r\n    &lt;android.support.design.widget.FloatingActionButton\r\n        android:id=&quot;@+id/fab&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;bottom|end&quot;\r\n        android:layout_margin=&quot;@dimen/fab_margin&quot;\r\n        android:src=&quot;@android:drawable/ic_dialog_email&quot; /&gt;\r\n\r\nAnd then, from your code:\r\n    \r\n    // get ahold of the instance of your layout\r\n    LinearLayout dynamicContent = (LinearLayout) findViewById(R.id.dynamic_content);\r\n\r\n    // assuming your Wizard content is in content_wizard.xml\r\n    View wizardView = getLayoutInflater()\r\n        .inflate(R.layout.content_wizard, dynamicContent, false);\r\n\r\n    // add the inflated View to the layout\r\n    dynamicContent.addView(wizardView);","title":"How to dynamically include a layout in Android?","body":"<p>You could define an empty layout in your XML where you would like you dynamic content to be and add it's content from code.</p>\n\n<p>Something like this:</p>\n\n<pre><code>&lt;android.support.design.widget.AppBarLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n    &lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"?attr/actionBarSize\"\n        android:background=\"?attr/colorPrimary\"\n        app:popupTheme=\"@style/AppTheme.PopupOverlay\" /&gt;\n&lt;/android.support.design.widget.AppBarLayout&gt;\n\n&lt;LinearLayout\n    android:id=\"@+id/dynamic_content\"\n    android:orientation=\"vertical\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\" /&gt;\n\n&lt;android.support.design.widget.FloatingActionButton\n    android:id=\"@+id/fab\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"bottom|end\"\n    android:layout_margin=\"@dimen/fab_margin\"\n    android:src=\"@android:drawable/ic_dialog_email\" /&gt;\n</code></pre>\n\n<p>And then, from your code:</p>\n\n<pre><code>// get ahold of the instance of your layout\nLinearLayout dynamicContent = (LinearLayout) findViewById(R.id.dynamic_content);\n\n// assuming your Wizard content is in content_wizard.xml\nView wizardView = getLayoutInflater()\n    .inflate(R.layout.content_wizard, dynamicContent, false);\n\n// add the inflated View to the layout\ndynamicContent.addView(wizardView);\n</code></pre>\n"}],"owner":{"account_id":1594873,"reputation":745,"user_id":1477303,"accept_rate":100,"display_name":"Jerfeson Guerreiro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12555,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":37790333,"answer_count":1,"score":13,"last_activity_date":1693300490,"creation_date":1465821872,"question_id":37790198,"body_markdown":"I wanted to include a dynamic content to take advantage of all layout already created without having to have an xml with all the features for each actitivy.\r\n\r\nI noticed that the android has an &lt;include&gt; wanted to use this to determine what will be my content, according to the activity accessed.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.design.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        tools:context=&quot;br.com.p21sistemas.certidao21.MainActivity&quot;&gt;\r\n    \r\n        &lt;android.support.design.widget.AppBarLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n    \r\n            &lt;android.support.v7.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;?attr/colorPrimary&quot;\r\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot; /&gt;\r\n    \r\n        &lt;/android.support.design.widget.AppBarLayout&gt;\r\n    \r\n        &lt;include android:id=&quot;@+id/content&quot; layout=&quot;@layout/content_??????&quot; /&gt; \r\n    \r\n        &lt;android.support.design.widget.FloatingActionButton\r\n            android:id=&quot;@+id/fab&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;bottom|end&quot;\r\n            android:layout_margin=&quot;@dimen/fab_margin&quot;\r\n            android:src=&quot;@android:drawable/ic_dialog_email&quot; /&gt;\r\n    \r\n----------\r\n\r\n    public class WizardActivity extends AppCompatActivity {\r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main); // main xml\r\n    \r\n            // Something I do not know what may include my content content_wizard\r\n        }\r\n    \r\n    }","title":"How to dynamically include a layout in Android?","body":"<p>I wanted to include a dynamic content to take advantage of all layout already created without having to have an xml with all the features for each actitivy.</p>\n\n<p>I noticed that the android has an  wanted to use this to determine what will be my content, according to the activity accessed.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    tools:context=\"br.com.p21sistemas.certidao21.MainActivity\"&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n        &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:background=\"?attr/colorPrimary\"\n            app:popupTheme=\"@style/AppTheme.PopupOverlay\" /&gt;\n\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n    &lt;include android:id=\"@+id/content\" layout=\"@layout/content_??????\" /&gt; \n\n    &lt;android.support.design.widget.FloatingActionButton\n        android:id=\"@+id/fab\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"bottom|end\"\n        android:layout_margin=\"@dimen/fab_margin\"\n        android:src=\"@android:drawable/ic_dialog_email\" /&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>public class WizardActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main); // main xml\n\n        // Something I do not know what may include my content content_wizard\n    }\n\n}\n</code></pre>\n"},{"tags":["java","lotus-domino","lotusscript"],"comments":[{"owner":{"account_id":433475,"reputation":2306,"user_id":818824,"accept_rate":49,"display_name":"D.Bugger"},"score":0,"creation_date":1693340222,"post_id":76998694,"comment_id":135747306,"body_markdown":"Did you try to fully close and then reopen the database in the Notes client?","body":"Did you try to fully close and then reopen the database in the Notes client?"},{"owner":{"account_id":17353525,"reputation":5513,"user_id":12571484,"display_name":"Adam"},"score":0,"creation_date":1693468225,"post_id":76998694,"comment_id":135765686,"body_markdown":"I did. I&#39;ve got in the habit of that when developing Lotusscript which sometimes needs to clear the cache","body":"I did. I&#39;ve got in the habit of that when developing Lotusscript which sometimes needs to clear the cache"},{"owner":{"account_id":3554508,"reputation":435,"user_id":2968579,"display_name":"Tom Van Aken"},"score":0,"creation_date":1693816761,"post_id":76998694,"comment_id":135805387,"body_markdown":"Make sure you also close the application in the designer (not only the Notes Client). Sometimes the cache is not cleared when the database is still open in Domino Designer.","body":"Make sure you also close the application in the designer (not only the Notes Client). Sometimes the cache is not cleared when the database is still open in Domino Designer."},{"owner":{"account_id":17353525,"reputation":5513,"user_id":12571484,"display_name":"Adam"},"score":0,"creation_date":1693854079,"post_id":76998694,"comment_id":135812023,"body_markdown":"Is there a workaround as this tedious at best?","body":"Is there a workaround as this tedious at best?"}],"owner":{"account_id":17353525,"reputation":5513,"user_id":12571484,"display_name":"Adam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693300088,"creation_date":1693298962,"question_id":76998694,"body_markdown":"I&#39;m running a small snippet of Java from a script library (see image below) in an `.nsf` that&#39;s used to resize images that users attach to documents. \r\n\r\n[![example code location][1]][1]\r\n\r\nThe code is called from Lotusscript via LS2J. The Lotusscript code itself is called via a form button with a document in edit mode.\r\n\r\nAs I&#39;m going along testing this I&#39;m finding that any code changes are not running (i.e. it&#39;s running the previous code revision). I&#39;ve tried:\r\n\r\n - Saving the Java in the script library\r\n - Recompiling the Java in the script library \r\n - Recompiling the Lotuscript (obviously not likely to work but worth a shot anyway)\r\n - Cleaning and rebuilding the entire project.\r\n\r\nThe only thing that seems to forces the current code to run is when I restart the Notes client. Although the database in on the server, I&#39;m assuming that the code itself runs on the Notes client.\r\n\r\nIs there a way to force the Notes client to use the latest code changes without a Notes client restart? \r\n\r\nI&#39;m running HCL Notes client / Domino Designer 12.0.2. The server is 12.0.1FP1.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qMqSE.jpg","title":"Java in script library called from Lotusscript via LS2J - updated Java requires Notes client restart","body":"<p>I'm running a small snippet of Java from a script library (see image below) in an <code>.nsf</code> that's used to resize images that users attach to documents.</p>\n<p><a href=\"https://i.stack.imgur.com/qMqSE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qMqSE.jpg\" alt=\"example code location\" /></a></p>\n<p>The code is called from Lotusscript via LS2J. The Lotusscript code itself is called via a form button with a document in edit mode.</p>\n<p>As I'm going along testing this I'm finding that any code changes are not running (i.e. it's running the previous code revision). I've tried:</p>\n<ul>\n<li>Saving the Java in the script library</li>\n<li>Recompiling the Java in the script library</li>\n<li>Recompiling the Lotuscript (obviously not likely to work but worth a shot anyway)</li>\n<li>Cleaning and rebuilding the entire project.</li>\n</ul>\n<p>The only thing that seems to forces the current code to run is when I restart the Notes client. Although the database in on the server, I'm assuming that the code itself runs on the Notes client.</p>\n<p>Is there a way to force the Notes client to use the latest code changes without a Notes client restart?</p>\n<p>I'm running HCL Notes client / Domino Designer 12.0.2. The server is 12.0.1FP1.</p>\n"},{"tags":["java","android","youtube-api","video-streaming","android-youtube-api"],"owner":{"account_id":10946134,"reputation":11,"user_id":8044193,"display_name":"The Kishan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693300058,"creation_date":1693300058,"question_id":76998809,"body_markdown":"I a using youtube andoird player API. Video is not playing in the player. \r\nIn the player screen error showing that - &quot;There was a problem with server [400] (playback ID XXXXXXX) Tap to retry&quot;\r\nand in the log - &quot;Error screen presenter should be present &quot;\r\nWhen i click on try or reload this screen, error is coming everytime.\r\nAny solution?\r\n\r\nYouTubePlayerSupportFragment youTubePlayerSupportFragment = this.youTubePlayerFragment;\r\n        if (youTubePlayerSupportFragment != null) {\r\n            youTubePlayerSupportFragment.initialize(Constant.YOUTUBE_KEY, new YouTubePlayer.OnInitializedListener() {\r\n              \r\n\r\n                @Override // com.google.android.youtube.player.YouTubePlayer.OnInitializedListener\r\n                public void onInitializationSuccess(YouTubePlayer.Provider provider, YouTubePlayer player, boolean wasRestored) {\r\n                    if (!wasRestored) {\r\n                        NewSeriesDescActivity newSeriesDescActivity = NewSeriesDescActivity.this;\r\n                        newSeriesDescActivity.youTubePlayer = player;\r\n                        newSeriesDescActivity.youTubePlayer.setPlayerStyle(YouTubePlayer.PlayerStyle.CHROMELESS);\r\n                        NewSeriesDescActivity.this.youTubePlayer.cueVideo(&quot;zu1ZOm6SmdQ&quot;);\r\n                        new Handler().postDelayed(new Runnable() {\r\n                            /* class uautv.net.Activity.NewSeriesDescActivity.AnonymousClass6.AnonymousClass1 */\r\n\r\n                            public void run() {\r\n                                try {\r\n                                    if (NewSeriesDescActivity.this.youTubePlayer != null) {\r\n                                        NewSeriesDescActivity.this.youTubePlayer.play();\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n                                    }\r\n                                } catch (Exception e) {\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                        }, AdaptiveTrackSelection.DEFAULT_MIN_TIME_BETWEEN_BUFFER_REEVALUTATION_MS);\r\n                    }\r\n                }","title":"Error screen presenter should be present - Youtube android player api","body":"<p>I a using youtube andoird player API. Video is not playing in the player.\nIn the player screen error showing that - &quot;There was a problem with server [400] (playback ID XXXXXXX) Tap to retry&quot;\nand in the log - &quot;Error screen presenter should be present &quot;\nWhen i click on try or reload this screen, error is coming everytime.\nAny solution?</p>\n<p>YouTubePlayerSupportFragment youTubePlayerSupportFragment = this.youTubePlayerFragment;\nif (youTubePlayerSupportFragment != null) {\nyouTubePlayerSupportFragment.initialize(Constant.YOUTUBE_KEY, new YouTubePlayer.OnInitializedListener() {</p>\n<pre><code>            @Override // com.google.android.youtube.player.YouTubePlayer.OnInitializedListener\n            public void onInitializationSuccess(YouTubePlayer.Provider provider, YouTubePlayer player, boolean wasRestored) {\n                if (!wasRestored) {\n                    NewSeriesDescActivity newSeriesDescActivity = NewSeriesDescActivity.this;\n                    newSeriesDescActivity.youTubePlayer = player;\n                    newSeriesDescActivity.youTubePlayer.setPlayerStyle(YouTubePlayer.PlayerStyle.CHROMELESS);\n                    NewSeriesDescActivity.this.youTubePlayer.cueVideo(&quot;zu1ZOm6SmdQ&quot;);\n                    new Handler().postDelayed(new Runnable() {\n                        /* class uautv.net.Activity.NewSeriesDescActivity.AnonymousClass6.AnonymousClass1 */\n\n                        public void run() {\n                            try {\n                                if (NewSeriesDescActivity.this.youTubePlayer != null) {\n                                    NewSeriesDescActivity.this.youTubePlayer.play();\n                                        \n                                }\n                            } catch (Exception e) {         \n                            \n                                e.printStackTrace();\n                            }\n                        }\n                    }, AdaptiveTrackSelection.DEFAULT_MIN_TIME_BETWEEN_BUFFER_REEVALUTATION_MS);\n                }\n            }\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":8960981,"reputation":941,"user_id":6683642,"accept_rate":55,"display_name":"Md Zahid Raza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472748069,"creation_date":1472747603,"answer_id":39276671,"question_id":39272610,"body_markdown":"Inside your CategoryRepository Implementation class, add this method\r\n\r\n    public Category findAll(Date dateModified) {\r\n    \tCriteriaBuilder builder = em.getCriteriaBuilder();\r\n    \tCriteriaQuery&lt;Category&gt; query = builder.createQuery(Category.class);\r\n    \tRoot&lt;Category&gt; category = query.from(Category.class);\r\n    \t\r\n    \tParameterExpression&lt;Date&gt; dateParam = builder.parameter(Date.class);\r\n    \tquery.select(category).where(builder.greaterThan(category.get(Category_.recipes).get(Recipe_.dateModified), dateParam));\r\n    \t\r\n    \treturn em.createQuery(query)\r\n    \t\t\t.setParameter(dateParam, dateModified)\r\n    \t\t\t.getSingleResult();\r\n    }\r\n\r\nMetaModel classes are used in code above. If do not have meta model classes generated than add this plugin in pom file to autogenerate metamodel classes..\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;2.2.4&lt;/version&gt;\r\n       &lt;executions&gt;\r\n    \t &lt;execution&gt;\r\n    \t   &lt;id&gt;process&lt;/id&gt;\r\n    \t   &lt;goals&gt;\r\n    \t\t &lt;goal&gt;process&lt;/goal&gt;\r\n    \t   &lt;/goals&gt;\r\n    \t   &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t   &lt;configuration&gt;\r\n    \t\t &lt;processors&gt;\r\n    \t\t   &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\r\n    \t\t &lt;/processors&gt;\r\n    \t   &lt;/configuration&gt;\r\n    \t &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n       &lt;dependencies&gt;\r\n    \t &lt;dependency&gt;\r\n    \t   &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t   &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n    \t   &lt;version&gt;5.2.2.Final&lt;/version&gt;\r\n    \t &lt;/dependency&gt;\r\n       &lt;/dependencies&gt;\r\n     &lt;/plugin&gt;","title":"Spring Data JPA Specification for a OneToMany Relationship","body":"<p>Inside your CategoryRepository Implementation class, add this method</p>\n\n<pre><code>public Category findAll(Date dateModified) {\n    CriteriaBuilder builder = em.getCriteriaBuilder();\n    CriteriaQuery&lt;Category&gt; query = builder.createQuery(Category.class);\n    Root&lt;Category&gt; category = query.from(Category.class);\n\n    ParameterExpression&lt;Date&gt; dateParam = builder.parameter(Date.class);\n    query.select(category).where(builder.greaterThan(category.get(Category_.recipes).get(Recipe_.dateModified), dateParam));\n\n    return em.createQuery(query)\n            .setParameter(dateParam, dateModified)\n            .getSingleResult();\n}\n</code></pre>\n\n<p>MetaModel classes are used in code above. If do not have meta model classes generated than add this plugin in pom file to autogenerate metamodel classes..</p>\n\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\n   &lt;version&gt;2.2.4&lt;/version&gt;\n   &lt;executions&gt;\n     &lt;execution&gt;\n       &lt;id&gt;process&lt;/id&gt;\n       &lt;goals&gt;\n         &lt;goal&gt;process&lt;/goal&gt;\n       &lt;/goals&gt;\n       &lt;phase&gt;generate-sources&lt;/phase&gt;\n       &lt;configuration&gt;\n         &lt;processors&gt;\n           &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\n         &lt;/processors&gt;\n       &lt;/configuration&gt;\n     &lt;/execution&gt;\n   &lt;/executions&gt;\n   &lt;dependencies&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n       &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n       &lt;version&gt;5.2.2.Final&lt;/version&gt;\n     &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5962474,"reputation":1635,"user_id":4687221,"accept_rate":91,"display_name":"SEY_91"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472748649,"creation_date":1472748649,"answer_id":39276947,"question_id":39272610,"body_markdown":"try this one :\r\n\r\n  \r\n\r\n      public class RecipeSpec {\r\n        \r\n         public static Specification&lt;Category&gt; byDateModified(Date date) {\r\n           return new Specification&lt;Category&gt;() {\r\n        \r\n        \tpublic Predicate toPredicate(Root&lt;Category&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n        \t\tList&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\r\n        \r\n        \t\tfinal Path&lt;Collection&lt;Recipe&gt;&gt; recipes = root.get(Recipe_.recipes);\r\n                final Path&lt;Date&gt; dateModified = recipes.get(Recipe_.dateModified);\r\n             return builder.greaterThan(dateModified, date);\r\n            };\r\n        \r\n        }\r\n\r\nAnd also make sure your entities are mapped correctly:\r\n\r\n-you are using mappedby but the association is unidirectional!\r\n\r\n-The collection&lt;Recipe&gt; must be initialized.\r\n\r\n-Use Date (instead of timestamp) and add @Temporal annotation!\r\n\r\n    @Entity    \r\n    public class Category {\r\n    \r\n        private int id;\r\n        private String name;\r\n    \r\n        //@OneToMany(mappedBy = &quot;categories&quot;) \r\n        @OneToMany\r\n        @JoinColumn(name=&quot;categoryId&quot;)\r\n        private Collection&lt;Recipe&gt; recipes = new ArrayList&lt;Recipe&gt;();\r\n    }\r\n    \r\n    @Entity\r\n    public class Recipe {\r\n    \r\n        private int id;\r\n        private String name;\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        private Date dateModified;\r\n    \r\n    }","title":"Spring Data JPA Specification for a OneToMany Relationship","body":"<p>try this one :</p>\n\n<pre><code>  public class RecipeSpec {\n\n     public static Specification&lt;Category&gt; byDateModified(Date date) {\n       return new Specification&lt;Category&gt;() {\n\n        public Predicate toPredicate(Root&lt;Category&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\n\n            final Path&lt;Collection&lt;Recipe&gt;&gt; recipes = root.get(Recipe_.recipes);\n            final Path&lt;Date&gt; dateModified = recipes.get(Recipe_.dateModified);\n         return builder.greaterThan(dateModified, date);\n        };\n\n    }\n</code></pre>\n\n<p>And also make sure your entities are mapped correctly:</p>\n\n<p>-you are using mappedby but the association is unidirectional!</p>\n\n<p>-The collection must be initialized.</p>\n\n<p>-Use Date (instead of timestamp) and add @Temporal annotation!</p>\n\n<pre><code>@Entity    \npublic class Category {\n\n    private int id;\n    private String name;\n\n    //@OneToMany(mappedBy = \"categories\") \n    @OneToMany\n    @JoinColumn(name=\"categoryId\")\n    private Collection&lt;Recipe&gt; recipes = new ArrayList&lt;Recipe&gt;();\n}\n\n@Entity\npublic class Recipe {\n\n    private int id;\n    private String name;\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date dateModified;\n\n}\n</code></pre>\n"}],"owner":{"account_id":4474454,"reputation":579,"user_id":3639896,"accept_rate":75,"display_name":"silverhawk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8257,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693300020,"creation_date":1472735895,"question_id":39272610,"body_markdown":"I have a problem with getting List entity Categories using Spring data JPA specifications. I need to get all Categories with their Recipes where `Recipe.dateModified` greater then some date. I don&#39;t know how to create my Predicate which would fill `Collection&lt;Recipe&gt;` in each category only those recipes that greater than this date.\r\n\r\n    @Entity    \r\n    public class Category {\r\n\r\n        private int id;\r\n        private String name;\r\n\r\n        @OneToMany(mappedBy = &quot;categories&quot;)\r\n        private Collection&lt;Recipe&gt; recipes;\r\n    }\r\n\r\n    @Entity\r\n    public class Recipe {\r\n\r\n        private int id;\r\n        private String name;\r\n\r\n        private Timestamp dateModified;\r\n\r\n    }\r\n\r\nIn `CategoryService` I getting `List&lt;Category&gt;` using Specification:\r\n\r\n    @Service   \r\n    public class CategoryService {\r\n    \r\n        @Autowired\r\n        private CategoryRepository categoryRepository;\r\n    \r\n        public List&lt;Category&gt; findAll(Date date) {\r\n            return categoryRepository.findAll(where(byDateModified(date)));\r\n        }\r\n        \r\n    }\r\n\r\nI would write Specification like this, but this does not working.\r\n\r\n    public class RecipeSpec {\r\n    \r\n        public static Specification&lt;Category&gt; byDateModified(Date date) {\r\n            return (root, query, builder) -&gt; {\r\n                final Join&lt;Category, Recipe&gt; recipe = root.join(Category_.recipes, JoinType.LEFT);\r\n                return builder.greaterThan(recipe.get(Recipe_.dateModified), date);\r\n            };\r\n        }\r\n    \r\n    }","title":"Spring Data JPA Specification for a OneToMany Relationship","body":"<p>I have a problem with getting List entity Categories using Spring data JPA specifications. I need to get all Categories with their Recipes where <code>Recipe.dateModified</code> greater then some date. I don't know how to create my Predicate which would fill <code>Collection&lt;Recipe&gt;</code> in each category only those recipes that greater than this date.</p>\n\n<pre><code>@Entity    \npublic class Category {\n\n    private int id;\n    private String name;\n\n    @OneToMany(mappedBy = \"categories\")\n    private Collection&lt;Recipe&gt; recipes;\n}\n\n@Entity\npublic class Recipe {\n\n    private int id;\n    private String name;\n\n    private Timestamp dateModified;\n\n}\n</code></pre>\n\n<p>In <code>CategoryService</code> I getting <code>List&lt;Category&gt;</code> using Specification:</p>\n\n<pre><code>@Service   \npublic class CategoryService {\n\n    @Autowired\n    private CategoryRepository categoryRepository;\n\n    public List&lt;Category&gt; findAll(Date date) {\n        return categoryRepository.findAll(where(byDateModified(date)));\n    }\n\n}\n</code></pre>\n\n<p>I would write Specification like this, but this does not working.</p>\n\n<pre><code>public class RecipeSpec {\n\n    public static Specification&lt;Category&gt; byDateModified(Date date) {\n        return (root, query, builder) -&gt; {\n            final Join&lt;Category, Recipe&gt; recipe = root.join(Category_.recipes, JoinType.LEFT);\n            return builder.greaterThan(recipe.get(Recipe_.dateModified), date);\n        };\n    }\n\n}\n</code></pre>\n"},{"tags":["java","email","arrays","jakarta-mail"],"comments":[{"owner":{"account_id":164146,"reputation":3624,"user_id":1651840,"accept_rate":82,"display_name":"OkieOth"},"score":1,"creation_date":1401789116,"post_id":24011942,"comment_id":37009115,"body_markdown":"string.getBytes(Charset.forName(&quot;UTF-8&quot;)); looks for me wrong - I test it later","body":"string.getBytes(Charset.forName(&quot;UTF-8&quot;)); looks for me wrong - I test it later"},{"owner":{"account_id":2200953,"reputation":3860,"user_id":2661700,"accept_rate":86,"display_name":"Yubaraj"},"score":0,"creation_date":1401789504,"post_id":24011942,"comment_id":37009365,"body_markdown":"Thanks @OkieOth I saw this http://stackoverflow.com/questions/18571223/convert-java-string-to-byte-array . You can also take reference.","body":"Thanks @OkieOth I saw this <a href=\"http://stackoverflow.com/questions/18571223/convert-java-string-to-byte-array\" title=\"convert java string to byte array\">stackoverflow.com/questions/18571223/&hellip;</a> . You can also take reference."},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1401790205,"post_id":24011942,"comment_id":37009780,"body_markdown":"silly idea, but shouldn&#39;t the &quot;0x&quot;-prefix be removed from your string?","body":"silly idea, but shouldn&#39;t the &quot;0x&quot;-prefix be removed from your string?"},{"owner":{"account_id":2200953,"reputation":3860,"user_id":2661700,"accept_rate":86,"display_name":"Yubaraj"},"score":0,"creation_date":1401790261,"post_id":24011942,"comment_id":37009828,"body_markdown":"Do you mean `255044462D312E330A25` instead of `0x255044462D312E330A25` ?. @injecteer","body":"Do you mean <code>255044462D312E330A25</code> instead of <code>0x255044462D312E330A25</code> ?. @injecteer"},{"owner":{"account_id":164146,"reputation":3624,"user_id":1651840,"accept_rate":82,"display_name":"OkieOth"},"score":0,"creation_date":1401791638,"post_id":24011942,"comment_id":37010679,"body_markdown":"What database type has your column that holds the PDF?","body":"What database type has your column that holds the PDF?"},{"owner":{"account_id":2200953,"reputation":3860,"user_id":2661700,"accept_rate":86,"display_name":"Yubaraj"},"score":0,"creation_date":1401791869,"post_id":24011942,"comment_id":37010830,"body_markdown":"I have entity which holds value as `byte[]` and m using SQL database as `varbinary(max)` column type","body":"I have entity which holds value as <code>byte[]</code> and m using SQL database as <code>varbinary(max)</code> column type"},{"owner":{"account_id":164146,"reputation":3624,"user_id":1651840,"accept_rate":82,"display_name":"OkieOth"},"score":0,"creation_date":1401794442,"post_id":24011942,"comment_id":37012447,"body_markdown":"Try at first that your can serialisation and deserialisation the same byte array like your getPDFByteStream function.","body":"Try at first that your can serialisation and deserialisation the same byte array like your getPDFByteStream function."},{"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"score":1,"creation_date":1401800686,"post_id":24011942,"comment_id":37016418,"body_markdown":"Can you do an `Arrays.equals(bytesFromDb, bytesFromPdf)` just to make sure that you actually get the same byte array from the database and from the PDF? Also, use `Arrays.toString(bytesFromDb)` and `Arrays.toString(bytesFromPdf)` to compare them manually.","body":"Can you do an <code>Arrays.equals(bytesFromDb, bytesFromPdf)</code> just to make sure that you actually get the same byte array from the database and from the PDF? Also, use <code>Arrays.toString(bytesFromDb)</code> and <code>Arrays.toString(bytesFromPdf)</code> to compare them manually."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1693300376,"post_id":24011942,"comment_id":135739152,"body_markdown":"Please add the resulting eml file to the question, so that we can see how the email looks after you added the PDF.","body":"Please add the resulting eml file to the question, so that we can see how the email looks after you added the PDF."}],"answers":[{"tags":[],"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401791394,"creation_date":1401791394,"answer_id":24012846,"question_id":24011942,"body_markdown":"This\r\n\r\n    byte[] bytes=&quot;0x255044462D312E330A25AAABAC&quot;.getBytes();\r\n\r\nwill also encode the leading &quot;0x&quot;. Furthermore, it seems that you are trying to convert from hexadecimal values to a byte array, whereas this method would convert the character values to bytes.\r\n\r\nI believe what you are looking for is \r\n\r\n    byte[] bytes = java.xml.bind.DatatypeConverter.parseHexBinary(&quot;255044462D312E330A25AAABAC&quot;);\r\n\r\nTry that.","title":"Send email with attachment which contains byte[] via java mail","body":"<p>This</p>\n\n<pre><code>byte[] bytes=\"0x255044462D312E330A25AAABAC\".getBytes();\n</code></pre>\n\n<p>will also encode the leading \"0x\". Furthermore, it seems that you are trying to convert from hexadecimal values to a byte array, whereas this method would convert the character values to bytes.</p>\n\n<p>I believe what you are looking for is </p>\n\n<pre><code>byte[] bytes = java.xml.bind.DatatypeConverter.parseHexBinary(\"255044462D312E330A25AAABAC\");\n</code></pre>\n\n<p>Try that.</p>\n"},{"tags":[],"owner":{"account_id":164146,"reputation":3624,"user_id":1651840,"accept_rate":82,"display_name":"OkieOth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401793162,"creation_date":1401793162,"answer_id":24013436,"question_id":24011942,"body_markdown":"Imo, it&#39;s a problem of String conversion ...\r\nThe following example illustrates a way - maybe not the smartest :-D\r\n\r\n    public class TestString2Binary {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString testText=&quot;This is \\n a sample&quot;;\r\n    \t\tSystem.out.println(&quot;String.toString(): &quot;);\r\n    \t\tSystem.out.println(testText);\r\n    \t\tbyte[] b=testText.getBytes();\r\n    \t\tSystem.out.println(&quot;byte[]-toString(): &quot;);\r\n    \t\tSystem.out.println(b);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;byte[] values - toString(): &quot;);\r\n    \t\tfor (byte x:b) {\r\n    \t\t\tif (x&lt;100)\r\n    \t\t\t\tSystem.out.print(&quot;0&quot;+x);\r\n    \t\t\telse\r\n    \t\t\t\tSystem.out.print(x);\r\n    \t\t}\r\n    \t\r\n    \t\tString s=&quot;084104105115032105115032010032097032115097109112108101&quot;;\r\n    \t\tSystem.out.println(&quot;imo the back converting to String goes wrong:&quot;);\r\n    \t\tSystem.out.println(s.getBytes());\r\n    \t\tSystem.out.println(new String(s.getBytes()));\r\n    \t\tSystem.out.println(s.getBytes(Charset.forName(&quot;UTF-8&quot;)));\r\n    \t\tSystem.out.println(new String(s.getBytes(Charset.forName(&quot;UTF-8&quot;))));\r\n    \r\n    \t\tint recoveredBLength=s.length()/3;\r\n    \t\tbyte[] recoveredB=new byte[recoveredBLength];\r\n    \t\tfor (int i=0;i&lt;recoveredBLength;i++) {\r\n    \t\t\tString part=s.substring(i*3,(i*3)+3);\r\n    \t\t\trecoveredB[i]=Byte.parseByte(part);\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;the original string: &quot;);\r\n    \t\tSystem.out.println(new String(recoveredB));\r\n    \r\n    \t\r\n    \t}\r\n    }","title":"Send email with attachment which contains byte[] via java mail","body":"<p>Imo, it's a problem of String conversion ...\nThe following example illustrates a way - maybe not the smartest :-D</p>\n\n<pre><code>public class TestString2Binary {\n    public static void main(String[] args) {\n        String testText=\"This is \\n a sample\";\n        System.out.println(\"String.toString(): \");\n        System.out.println(testText);\n        byte[] b=testText.getBytes();\n        System.out.println(\"byte[]-toString(): \");\n        System.out.println(b);\n\n        System.out.println(\"byte[] values - toString(): \");\n        for (byte x:b) {\n            if (x&lt;100)\n                System.out.print(\"0\"+x);\n            else\n                System.out.print(x);\n        }\n\n        String s=\"084104105115032105115032010032097032115097109112108101\";\n        System.out.println(\"imo the back converting to String goes wrong:\");\n        System.out.println(s.getBytes());\n        System.out.println(new String(s.getBytes()));\n        System.out.println(s.getBytes(Charset.forName(\"UTF-8\")));\n        System.out.println(new String(s.getBytes(Charset.forName(\"UTF-8\"))));\n\n        int recoveredBLength=s.length()/3;\n        byte[] recoveredB=new byte[recoveredBLength];\n        for (int i=0;i&lt;recoveredBLength;i++) {\n            String part=s.substring(i*3,(i*3)+3);\n            recoveredB[i]=Byte.parseByte(part);\n        }\n\n        System.out.println(\"the original string: \");\n        System.out.println(new String(recoveredB));\n\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2200953,"reputation":3860,"user_id":2661700,"accept_rate":86,"display_name":"Yubaraj"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13805,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1693300020,"creation_date":1401788715,"question_id":24011942,"body_markdown":"I have following `byte[]` which comes from database.\r\n\r\n    0x255044462D312E330A25AAABAC\r\n\r\n**Note: above byte array is sample full file is not here because of length.** \r\n\r\n**UPDATE:**\r\n\r\nBut I am getting like `[B@7ffd10fa` format\r\n\r\n***\r\n\r\n - Before you see code please read here:\r\n\r\nWhen I send `bytes` which returns `getPdfByteStream()` method it sends attachment in email like original file. But when I get from database and send it sends corrupted file.\r\n\r\n***\r\n\r\n**UPDATE:**\r\n\r\n*Entity.class*\r\n\r\n    @Lob\r\n    @Column(name = &quot;ATTACHED_FILE&quot;)\r\n    private byte[] attachedFile;\r\n\r\n    //getter()/setter();\r\n\r\n\r\n**Code which sends email**\r\n\r\n     try {\r\n            MimeBodyPart textBodyPart = new MimeBodyPart();\r\n            textBodyPart.setText(content);\r\n\r\n           //byte[] bytes = getPDFByteStream(); //Returns byte[] reading local drive file\r\n           \r\n            \r\n             **UPDATE:**\r\n             \r\n            //bytes[] bytes=entity.getAttachedFile(); // It gets value from entity.\r\n\r\n            /**\r\n            ** It is getting like &quot;[B@7ffd10fa&quot; format but m storing on database like &quot;0x255044462D312E330A25&quot; format\r\n            **/\r\n\r\n            String string=&quot;0x255044462D312E330A25&quot;;\r\n            byte[] bytes =string.getBytes(Charset.forName(&quot;UTF-8&quot;));\r\n            System.out.println(&quot;bytes &quot; + bytes.toString());\r\n\r\n            DataSource dataSource = new ByteArrayDataSource(bytes, &quot;application/pdf&quot;);\r\n            MimeBodyPart pdfBodyPart = new MimeBodyPart();\r\n            pdfBodyPart.setDataHandler(new DataHandler(dataSource));\r\n            pdfBodyPart.setFileName(&quot;bankAdminReport.pdf&quot;);\r\n\r\n            MimeMultipart mimeMultipart = new MimeMultipart();\r\n            mimeMultipart.addBodyPart(textBodyPart);\r\n            mimeMultipart.addBodyPart(pdfBodyPart);\r\n\r\n            InternetAddress iaSender = new InternetAddress(sender);\r\n            InternetAddress iaRecipient = new InternetAddress(recipient);\r\n\r\n            MimeMessage mimeMessage = new MimeMessage(session);\r\n            mimeMessage.setSender(iaSender);\r\n            mimeMessage.setSubject(subject);\r\n            mimeMessage.setRecipient(Message.RecipientType.TO, iaRecipient);\r\n            mimeMessage.setContent(mimeMultipart);\r\n\r\n            Transport.send(mimeMessage);\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n\r\n    \r\n\r\n\r\n\r\n**getPDFByteStream() method**\r\n\r\n    public static byte[] getPDFByteStream() throws IOException {\r\n        File file = new File(&quot;C:\\\\pdf\\\\bankAdminReport.pdf&quot;);\r\n\r\n        byte[] b = new byte[(int) file.length()];\r\n        try {\r\n            FileInputStream fileInputStream = new FileInputStream(file);\r\n            fileInputStream.read(b);\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;File Not Found.&quot;);\r\n            e.printStackTrace();\r\n        } catch (IOException e1) {\r\n            System.out.println(&quot;Error Reading The File.&quot;);\r\n            e1.printStackTrace();\r\n        }\r\n        return b;\r\n    }\r\n\r\nCan anyone guide me.\r\n\r\n\r\n\r\n&gt;The main problem is when I send file reading from local drive it sends perfectly. but if I send getting from database or any local variable file corrupts.\r\n\r\nPlease comment below if you have any query regarding question.\r\nThanks. ","title":"Send email with attachment which contains byte[] via java mail","body":"<p>I have following <code>byte[]</code> which comes from database.</p>\n\n<pre><code>0x255044462D312E330A25AAABAC\n</code></pre>\n\n<p><strong>Note: above byte array is sample full file is not here because of length.</strong> </p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>But I am getting like <code>[B@7ffd10fa</code> format</p>\n\n<hr>\n\n<ul>\n<li>Before you see code please read here:</li>\n</ul>\n\n<p>When I send <code>bytes</code> which returns <code>getPdfByteStream()</code> method it sends attachment in email like original file. But when I get from database and send it sends corrupted file.</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong></p>\n\n<p><em>Entity.class</em></p>\n\n<pre><code>@Lob\n@Column(name = \"ATTACHED_FILE\")\nprivate byte[] attachedFile;\n\n//getter()/setter();\n</code></pre>\n\n<p><strong>Code which sends email</strong></p>\n\n<pre><code> try {\n        MimeBodyPart textBodyPart = new MimeBodyPart();\n        textBodyPart.setText(content);\n\n       //byte[] bytes = getPDFByteStream(); //Returns byte[] reading local drive file\n\n\n         **UPDATE:**\n\n        //bytes[] bytes=entity.getAttachedFile(); // It gets value from entity.\n\n        /**\n        ** It is getting like \"[B@7ffd10fa\" format but m storing on database like \"0x255044462D312E330A25\" format\n        **/\n\n        String string=\"0x255044462D312E330A25\";\n        byte[] bytes =string.getBytes(Charset.forName(\"UTF-8\"));\n        System.out.println(\"bytes \" + bytes.toString());\n\n        DataSource dataSource = new ByteArrayDataSource(bytes, \"application/pdf\");\n        MimeBodyPart pdfBodyPart = new MimeBodyPart();\n        pdfBodyPart.setDataHandler(new DataHandler(dataSource));\n        pdfBodyPart.setFileName(\"bankAdminReport.pdf\");\n\n        MimeMultipart mimeMultipart = new MimeMultipart();\n        mimeMultipart.addBodyPart(textBodyPart);\n        mimeMultipart.addBodyPart(pdfBodyPart);\n\n        InternetAddress iaSender = new InternetAddress(sender);\n        InternetAddress iaRecipient = new InternetAddress(recipient);\n\n        MimeMessage mimeMessage = new MimeMessage(session);\n        mimeMessage.setSender(iaSender);\n        mimeMessage.setSubject(subject);\n        mimeMessage.setRecipient(Message.RecipientType.TO, iaRecipient);\n        mimeMessage.setContent(mimeMultipart);\n\n        Transport.send(mimeMessage);\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n</code></pre>\n\n<p><strong>getPDFByteStream() method</strong></p>\n\n<pre><code>public static byte[] getPDFByteStream() throws IOException {\n    File file = new File(\"C:\\\\pdf\\\\bankAdminReport.pdf\");\n\n    byte[] b = new byte[(int) file.length()];\n    try {\n        FileInputStream fileInputStream = new FileInputStream(file);\n        fileInputStream.read(b);\n    } catch (FileNotFoundException e) {\n        System.out.println(\"File Not Found.\");\n        e.printStackTrace();\n    } catch (IOException e1) {\n        System.out.println(\"Error Reading The File.\");\n        e1.printStackTrace();\n    }\n    return b;\n}\n</code></pre>\n\n<p>Can anyone guide me.</p>\n\n<blockquote>\n  <p>The main problem is when I send file reading from local drive it sends perfectly. but if I send getting from database or any local variable file corrupts.</p>\n</blockquote>\n\n<p>Please comment below if you have any query regarding question.\nThanks. </p>\n"},{"tags":["java","amazon-web-services","aws-sdk","amazon-emr"],"owner":{"account_id":19963040,"reputation":401,"user_id":14630182,"display_name":"Arjun C E"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693299899,"creation_date":1693299899,"question_id":76998794,"body_markdown":"I need to retrieve a list of EC2 instance types supported by EMR. I collected the list of all ec2 instance type for a particular region using this\r\n```\r\n        AmazonEC2 ec2Client = AmazonEC2ClientBuilder.standard()\r\n                .withRegion(Regions.US_WEST_2)\r\n                .build();\r\n        DescribeInstanceTypesRequest describeInstanceTypesRequest = new DescribeInstanceTypesRequest();\r\n\r\n        do{\r\n            DescribeInstanceTypesResult describeInstanceTypesResult = ec2Client.describeInstanceTypes(describeInstanceTypesRequest);\r\n\r\n            for (InstanceTypeInfo instanceTypeInfo : describeInstanceTypesResult.getInstanceTypes()) {\r\n                \r\n                    instances.add(instanceTypeInfo.getInstanceType());\r\n               \r\n            }\r\n            describeInstanceTypesRequest.setNextToken(describeInstanceTypesResult.getNextToken());\r\n        } while (describeInstanceTypesRequest.getNextToken() != null);\r\n```\r\n\r\nNot all of these instance type are supported by EMR. Is there a way to filter out only those that are supported by EMR?","title":"AWS EC2 instance types supported by EMR","body":"<p>I need to retrieve a list of EC2 instance types supported by EMR. I collected the list of all ec2 instance type for a particular region using this</p>\n<pre><code>        AmazonEC2 ec2Client = AmazonEC2ClientBuilder.standard()\n                .withRegion(Regions.US_WEST_2)\n                .build();\n        DescribeInstanceTypesRequest describeInstanceTypesRequest = new DescribeInstanceTypesRequest();\n\n        do{\n            DescribeInstanceTypesResult describeInstanceTypesResult = ec2Client.describeInstanceTypes(describeInstanceTypesRequest);\n\n            for (InstanceTypeInfo instanceTypeInfo : describeInstanceTypesResult.getInstanceTypes()) {\n                \n                    instances.add(instanceTypeInfo.getInstanceType());\n               \n            }\n            describeInstanceTypesRequest.setNextToken(describeInstanceTypesResult.getNextToken());\n        } while (describeInstanceTypesRequest.getNextToken() != null);\n</code></pre>\n<p>Not all of these instance type are supported by EMR. Is there a way to filter out only those that are supported by EMR?</p>\n"},{"tags":["java","switch-statement","java-13"],"answers":[{"tags":[],"owner":{"account_id":17241267,"reputation":98,"user_id":12483921,"display_name":"flytex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590328243,"creation_date":1581466443,"answer_id":60179266,"question_id":60179163,"body_markdown":"Short answer, no, java does not support multiple assignment in any way as far as I&#39;m aware.\r\nA workaround could be to buld a container class in witch to store both a string and bool.\r\n\r\nexample \r\n```\r\nclass Response \r\n{\r\n    String message;\r\n    boolean found;\r\n}\r\n```\r\nand return a object containing both.\r\n\r\nOr potentially you could use an array and type casting, or a differently structured statement.\r\n\r\n```\r\n\r\nswitch(num) {\r\n    case 0: \r\n        val1 = true;\r\n        val2 = &quot;zero!&quot;\r\n        break;\r\n    case 1: \r\n        val1 = true;\r\n        val2 = &quot;one!&quot;\r\n        break;\r\n    default: \r\n        val1 = false;\r\n        val2 = &quot;unknown :/&quot;\r\n        break;\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Can there be multiple value assignments for the enhanced switch statement?","body":"<p>Short answer, no, java does not support multiple assignment in any way as far as I'm aware.\nA workaround could be to buld a container class in witch to store both a string and bool.</p>\n\n<p>example </p>\n\n<pre><code>class Response \n{\n    String message;\n    boolean found;\n}\n</code></pre>\n\n<p>and return a object containing both.</p>\n\n<p>Or potentially you could use an array and type casting, or a differently structured statement.</p>\n\n<pre><code>\nswitch(num) {\n    case 0: \n        val1 = true;\n        val2 = \"zero!\"\n        break;\n    case 1: \n        val1 = true;\n        val2 = \"one!\"\n        break;\n    default: \n        val1 = false;\n        val2 = \"unknown :/\"\n        break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1581466801,"creation_date":1581466801,"answer_id":60179307,"question_id":60179163,"body_markdown":"There&#39;s no tuple unpacking in Java. A quick alternative that still uses a switch expression could use a custom class (using [`Pair`](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html) in the following example):\r\n\r\n\tPair&lt;Boolean, String&gt; val = switch (num) {\r\n\t    case 0 -&gt; Pair.of(true, &quot;zero!&quot;);\r\n\t    case 1 -&gt; Pair.of(true, &quot;one!&quot;);\r\n\t    default -&gt; Pair.of(false, &quot;unknown :/&quot;);\r\n\t};\r\n\r\n\tboolean val1 = val.getLeft();\r\n\tString val2 = val.getRight();","title":"Can there be multiple value assignments for the enhanced switch statement?","body":"<p>There's no tuple unpacking in Java. A quick alternative that still uses a switch expression could use a custom class (using <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html\" rel=\"nofollow noreferrer\"><code>Pair</code></a> in the following example):</p>\n\n<pre><code>Pair&lt;Boolean, String&gt; val = switch (num) {\n    case 0 -&gt; Pair.of(true, \"zero!\");\n    case 1 -&gt; Pair.of(true, \"one!\");\n    default -&gt; Pair.of(false, \"unknown :/\");\n};\n\nboolean val1 = val.getLeft();\nString val2 = val.getRight();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1581480823,"creation_date":1581476328,"answer_id":60180440,"question_id":60179163,"body_markdown":"Since you are already on Java-13, I would suggest refraining from using an additional library to represent a tuple and make use of[`Map.entry`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Map.html#entry(K,V))(introduced in Java-9) with the syntactic sugar of local variable type `var` inferred.\r\n\r\n    var entry = switch (num) {\r\n        case 0 -&gt; Map.entry(true, &quot;zero!&quot;);\r\n        case 1 -&gt; Map.entry(true, &quot;one!&quot;);\r\n        default -&gt; Map.entry(false, &quot;unknown :/&quot;);\r\n    };\r\n    boolean val1 = entry.getKey();\r\n    String val2 = entry.getValue();","title":"Can there be multiple value assignments for the enhanced switch statement?","body":"<p>Since you are already on Java-13, I would suggest refraining from using an additional library to represent a tuple and make use of<a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Map.html#entry(K,V)\" rel=\"noreferrer\"><code>Map.entry</code></a>(introduced in Java-9) with the syntactic sugar of local variable type <code>var</code> inferred.</p>\n\n<pre><code>var entry = switch (num) {\n    case 0 -&gt; Map.entry(true, \"zero!\");\n    case 1 -&gt; Map.entry(true, \"one!\");\n    default -&gt; Map.entry(false, \"unknown :/\");\n};\nboolean val1 = entry.getKey();\nString val2 = entry.getValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1581521619,"creation_date":1581521619,"answer_id":60191823,"question_id":60179163,"body_markdown":"There’s not necessarily a benefit in cramming the initialization of two variables into one statement. Compare with\r\n\r\n    var val1 = switch(num) { case 0, 1 -&gt; true; default -&gt; false; };\r\n    var val2 = switch(num) { case 0 -&gt; &quot;zero!&quot;; case 1 -&gt; &quot;one!&quot;; default -&gt; &quot;unknown :/&quot;; };\r\n\r\nBut for completeness, the new `switch` syntax does allow assignments too:\r\n\r\n    boolean val1;\r\n    String val2;\r\n    switch(num) {\r\n        case 0 -&gt; { val1 = true; val2 = &quot;zero!&quot;; }\r\n        case 1 -&gt; { val1 = true; val2 = &quot;one!&quot;; }\r\n        default -&gt; { val1 = false; val2 = &quot;unknown :/&quot;; }\r\n    }\r\n\r\nYou could also use the expression form to provide the initializer to one variable and assign the other\r\n\r\n    boolean val1;\r\n    String val2 = switch(num) {\r\n        case 0 -&gt; { val1 = true; yield &quot;zero!&quot;; }\r\n        case 1 -&gt; { val1 = true; yield &quot;one!&quot;; }\r\n        default -&gt; { val1 = false; yield &quot;unknown :/&quot;; }\r\n    };\r\n\r\nbut I wouldn’t be surprised if you don’t like it. For this specific example, it would also work to just use\r\n\r\n    var val2 = switch(num) { case 0 -&gt; &quot;zero!&quot;; case 1 -&gt; &quot;one!&quot;; default -&gt; &quot;unknown :/&quot;; };\r\n    var val1 = !val2.equals(&quot;unknown :/&quot;);\r\n","title":"Can there be multiple value assignments for the enhanced switch statement?","body":"<p>There’s not necessarily a benefit in cramming the initialization of two variables into one statement. Compare with</p>\n\n<pre><code>var val1 = switch(num) { case 0, 1 -&gt; true; default -&gt; false; };\nvar val2 = switch(num) { case 0 -&gt; \"zero!\"; case 1 -&gt; \"one!\"; default -&gt; \"unknown :/\"; };\n</code></pre>\n\n<p>But for completeness, the new <code>switch</code> syntax does allow assignments too:</p>\n\n<pre><code>boolean val1;\nString val2;\nswitch(num) {\n    case 0 -&gt; { val1 = true; val2 = \"zero!\"; }\n    case 1 -&gt; { val1 = true; val2 = \"one!\"; }\n    default -&gt; { val1 = false; val2 = \"unknown :/\"; }\n}\n</code></pre>\n\n<p>You could also use the expression form to provide the initializer to one variable and assign the other</p>\n\n<pre><code>boolean val1;\nString val2 = switch(num) {\n    case 0 -&gt; { val1 = true; yield \"zero!\"; }\n    case 1 -&gt; { val1 = true; yield \"one!\"; }\n    default -&gt; { val1 = false; yield \"unknown :/\"; }\n};\n</code></pre>\n\n<p>but I wouldn’t be surprised if you don’t like it. For this specific example, it would also work to just use</p>\n\n<pre><code>var val2 = switch(num) { case 0 -&gt; \"zero!\"; case 1 -&gt; \"one!\"; default -&gt; \"unknown :/\"; };\nvar val1 = !val2.equals(\"unknown :/\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693299844,"creation_date":1693299844,"answer_id":76998787,"question_id":60179163,"body_markdown":"Another option (introduced as a preview feature in Java 14 and became a standard feature since Java 16) is to use a record as the container of the two values you wish to return.\r\n\r\nThis reduces the boilerplate code you&#39;d have to write in order to create a regular class that holds the two values, while providing better readability compared to using the `Map.Entry` or `Pair` classes.\r\n\r\n    record Something (boolean boolField, String strField) {};\r\n    \r\n    var result = switch(num) {\r\n        case 0 -&gt; new Something (true, &quot;zero!&quot;);\r\n        case 1 -&gt; new Something (true, &quot;one!&quot;);\r\n        default -&gt; new Something (false, &quot;unknown :/&quot;);\r\n    };\r\n    boolean val1 = result.boolField ();\r\n    String val2 =  result.strField ();\r\n\r\nNote that instead of `Something`, `boolField` and `strField` you should use meaningful names that describe the purpose of this record and its fields.\r\n","title":"Can there be multiple value assignments for the enhanced switch statement?","body":"<p>Another option (introduced as a preview feature in Java 14 and became a standard feature since Java 16) is to use a record as the container of the two values you wish to return.</p>\n<p>This reduces the boilerplate code you'd have to write in order to create a regular class that holds the two values, while providing better readability compared to using the <code>Map.Entry</code> or <code>Pair</code> classes.</p>\n<pre><code>record Something (boolean boolField, String strField) {};\n\nvar result = switch(num) {\n    case 0 -&gt; new Something (true, &quot;zero!&quot;);\n    case 1 -&gt; new Something (true, &quot;one!&quot;);\n    default -&gt; new Something (false, &quot;unknown :/&quot;);\n};\nboolean val1 = result.boolField ();\nString val2 =  result.strField ();\n</code></pre>\n<p>Note that instead of <code>Something</code>, <code>boolField</code> and <code>strField</code> you should use meaningful names that describe the purpose of this record and its fields.</p>\n"}],"owner":{"account_id":17742053,"reputation":91,"user_id":12882118,"display_name":"Allen Liao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":60179307,"answer_count":5,"score":7,"last_activity_date":1693299844,"creation_date":1581465691,"question_id":60179163,"body_markdown":"I&#39;m trying to initialize two variables with an enhanced switch statement:\r\n``` java\r\nint num = //something\r\n\r\nboolean val1;\r\nString val2;\r\n\r\nval1, val2 = switch(num) {\r\n    case 0 -&gt; (true, &quot;zero!&quot;);\r\n    case 1 -&gt; (true, &quot;one!&quot;);\r\n    default -&gt; (false, &quot;unknown :/&quot;);\r\n}\r\n```\r\n\r\nIs this possible?","title":"Can there be multiple value assignments for the enhanced switch statement?","body":"<p>I'm trying to initialize two variables with an enhanced switch statement:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>int num = //something\n\nboolean val1;\nString val2;\n\nval1, val2 = switch(num) {\n    case 0 -&gt; (true, \"zero!\");\n    case 1 -&gt; (true, \"one!\");\n    default -&gt; (false, \"unknown :/\");\n}\n</code></pre>\n\n<p>Is this possible?</p>\n"},{"tags":["java","android","cordova","gradle"],"answers":[{"tags":[],"owner":{"account_id":2151109,"reputation":2159,"user_id":1907453,"accept_rate":25,"display_name":"Nagendra Badiganti"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693299722,"creation_date":1693299722,"answer_id":76998771,"question_id":76943940,"body_markdown":"Cordova Android 12 supports AGP_VERSION 7.4.2. And they bumped the Java version. In your case, Gradle JDK version 1.8 =&gt; 11 or 17 should fix the issue\r\n\r\nhttps://cordova.apache.org/announcements/2023/05/22/cordova-android-12.0.0.html\r\n\r\nhttps://github.com/apache/cordova-android/pull/1539","title":"cordova - Could not resolve com.android.tools.build:gradle:7.4.2","body":"<p>Cordova Android 12 supports AGP_VERSION 7.4.2. And they bumped the Java version. In your case, Gradle JDK version 1.8 =&gt; 11 or 17 should fix the issue</p>\n<p><a href=\"https://cordova.apache.org/announcements/2023/05/22/cordova-android-12.0.0.html\" rel=\"nofollow noreferrer\">https://cordova.apache.org/announcements/2023/05/22/cordova-android-12.0.0.html</a></p>\n<p><a href=\"https://github.com/apache/cordova-android/pull/1539\" rel=\"nofollow noreferrer\">https://github.com/apache/cordova-android/pull/1539</a></p>\n"}],"owner":{"account_id":5249234,"reputation":77,"user_id":4193981,"display_name":"Kirti Umrigar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":882,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76998771,"answer_count":1,"score":3,"last_activity_date":1693299722,"creation_date":1692609531,"question_id":76943940,"body_markdown":"While Build the bundle using cordova command, i am getting following error:\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;project name&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.2.\r\n     Required by:\r\n         project :\r\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.2 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.6&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:7.4.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:7.4.2 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:7.4.2 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:7.4.2 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/7.6/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 10s\r\nCommand failed with exit code 1: D:\\project_name\\platforms\\android\\gradlew -b D:\\project_name\\platforms\\android\\build.gradle :app:bundleRelease\r\n```\r\n\r\n**Gradle version:**&lt;br/&gt;\r\nGradle 8.3&lt;br/&gt;\r\nKotlin:       1.9.0&lt;br/&gt;\r\nGroovy:       3.0.17&lt;br/&gt;\r\nAnt:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023&lt;br/&gt;\r\nJVM:          1.8.0_301 (Oracle Corporation 25.301-b09)&lt;br/&gt;\r\nOS:           Windows 10 10.0 amd64\r\n\r\n\r\n**Java version:**&lt;br/&gt;\r\njava version &quot;20.0.2&quot; 2023-07-18&lt;br/&gt;\r\nJava(TM) SE Runtime Environment (build 20.0.2+9-78)&lt;br/&gt;\r\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.2+9-78, mixed mode, sharing)","title":"cordova - Could not resolve com.android.tools.build:gradle:7.4.2","body":"<p>While Build the bundle using cordova command, i am getting following error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'project name'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.2.\n     Required by:\n         project :\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.2 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.6' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:7.4.2 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:7.4.2 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:7.4.2 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:7.4.2 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.6/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 10s\nCommand failed with exit code 1: D:\\project_name\\platforms\\android\\gradlew -b D:\\project_name\\platforms\\android\\build.gradle :app:bundleRelease\n</code></pre>\n<p><strong>Gradle version:</strong><br/>\nGradle 8.3<br/>\nKotlin:       1.9.0<br/>\nGroovy:       3.0.17<br/>\nAnt:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023<br/>\nJVM:          1.8.0_301 (Oracle Corporation 25.301-b09)<br/>\nOS:           Windows 10 10.0 amd64</p>\n<p><strong>Java version:</strong><br/>\njava version &quot;20.0.2&quot; 2023-07-18<br/>\nJava(TM) SE Runtime Environment (build 20.0.2+9-78)<br/>\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.2+9-78, mixed mode, sharing)</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1532132433,"post_id":51451705,"comment_id":89873716,"body_markdown":"`shutdown` is not blocking, it will only prevent any new tasks from been added to the service","body":"<code>shutdown</code> is not blocking, it will only prevent any new tasks from been added to the service"}],"answers":[{"tags":[],"owner":{"account_id":11715536,"reputation":4839,"user_id":8576169,"display_name":"Bedla"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1532134066,"creation_date":1532132402,"answer_id":51451777,"question_id":51451705,"body_markdown":"`AtomicInteger` is thread safe, but you have called `AtomicInteger#get` before all tasks finished. `ExecutorService#shutdown` is not waiting for tasks to finish.\r\n\r\nSee [`ExecutorService#shutdown` docs](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#shutdown()):\r\n\r\n&gt; This method does not wait for previously submitted tasks to complete execution. Use awaitTermination to do that.\r\n\r\nUse\r\n\r\n    service.awaitTermination(10, TimeUnit.SECONDS)\r\n\r\nto wait for all tasks finished.","title":"Multithreading with AtomicInteger and ExecutorService not working","body":"<p><code>AtomicInteger</code> is thread safe, but you have called <code>AtomicInteger#get</code> before all tasks finished. <code>ExecutorService#shutdown</code> is not waiting for tasks to finish.</p>\n\n<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#shutdown()\" rel=\"nofollow noreferrer\"><code>ExecutorService#shutdown</code> docs</a>:</p>\n\n<blockquote>\n  <p>This method does not wait for previously submitted tasks to complete execution. Use awaitTermination to do that.</p>\n</blockquote>\n\n<p>Use</p>\n\n<pre><code>service.awaitTermination(10, TimeUnit.SECONDS)\n</code></pre>\n\n<p>to wait for all tasks finished.</p>\n"}],"owner":{"account_id":5867855,"reputation":13,"user_id":4621180,"display_name":"Harshil Garg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51451777,"answer_count":1,"score":1,"last_activity_date":1693299696,"creation_date":1532131607,"question_id":51451705,"body_markdown":"    public class SynchroExample {\r\n\r\n       public final AtomicInteger integer = new AtomicInteger(0);\r\n\r\n       private ExecutorService service = Executors.newFixedThreadPool(100);\r\n\r\n       public void syn() {\r\n          for (int i = 0; i &lt; 1000; i++) {\r\n              service.submit(() -&gt; {\r\n                  integer.incrementAndGet();\r\n              });\r\n           }\r\n           service.shutdown();\r\n           System.out.println(integer.get());\r\n       }\r\n\r\n       public static void main(String [] args) {\r\n          SynchroExample ex = new SynchroExample();\r\n           ex.syn();\r\n        }\r\n    }\r\n\r\n\r\nCan someone please explain why this code doesn&#39;t work? I was under the impression that AtomicInteger is threadsafe. And this code is not returning 1000.","title":"Multithreading with AtomicInteger and ExecutorService not working","body":"<pre><code>public class SynchroExample {\n\n   public final AtomicInteger integer = new AtomicInteger(0);\n\n   private ExecutorService service = Executors.newFixedThreadPool(100);\n\n   public void syn() {\n      for (int i = 0; i &lt; 1000; i++) {\n          service.submit(() -&gt; {\n              integer.incrementAndGet();\n          });\n       }\n       service.shutdown();\n       System.out.println(integer.get());\n   }\n\n   public static void main(String [] args) {\n      SynchroExample ex = new SynchroExample();\n       ex.syn();\n    }\n}\n</code></pre>\n\n<p>Can someone please explain why this code doesn't work? I was under the impression that AtomicInteger is threadsafe. And this code is not returning 1000.</p>\n"},{"tags":["java","regex","string","markdown","apache-poi-4"],"comments":[{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1693299453,"post_id":76998721,"comment_id":135738991,"body_markdown":"Remove `/` at the start and `/g` at the end.","body":"Remove <code>&#47;</code> at the start and <code>&#47;g</code> at the end."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1693299864,"post_id":76998721,"comment_id":135739061,"body_markdown":"Just `\\*\\s+\\w+` can meet your requirement. Check [this demo](https://regex101.com/r/XL7nQe/1). And, [here](https://regex101.com/r/XL7nQe/1/codegen?language=java) you can get the generated Java code.","body":"Just <code>\\*\\s+\\w+</code> can meet your requirement. Check <a href=\"https://regex101.com/r/XL7nQe/1\" rel=\"nofollow noreferrer\">this demo</a>. And, <a href=\"https://regex101.com/r/XL7nQe/1/codegen?language=java\" rel=\"nofollow noreferrer\">here</a> you can get the generated Java code."},{"owner":{"account_id":28242228,"reputation":9,"user_id":21589845,"display_name":"Furqan Ahmed"},"score":0,"creation_date":1693304205,"post_id":76998721,"comment_id":135739840,"body_markdown":"@ArvindKumarAvinash your regex is not working for the string &quot;This is a paragraph with bulletpoints. * Bulletpoint1 and some text * Bulletpoint2 * Bulletpoint3 and this is some another text.&quot; It is just extracting &quot;* Bulletpoint1 * Bulletpoint2 * Bulletpoint3&quot;, However, I am looking for bulletpoints with long strings that contains multiple words. Any guidance would be highly appreciated.","body":"@ArvindKumarAvinash your regex is not working for the string &quot;This is a paragraph with bulletpoints. * Bulletpoint1 and some text * Bulletpoint2 * Bulletpoint3 and this is some another text.&quot; It is just extracting &quot;* Bulletpoint1 * Bulletpoint2 * Bulletpoint3&quot;, However, I am looking for bulletpoints with long strings that contains multiple words. Any guidance would be highly appreciated."},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1693305754,"post_id":76998721,"comment_id":135740096,"body_markdown":"Your current regex implies support for various bullet point types. In that case, you can probably use a pattern like `&quot;(?s)(?:\\\\d\\\\.|[a-z]\\\\)|\\\\*|[A-Z]\\\\.|[IVX]+\\\\.)\\\\s++(?:(?!(?:\\\\d\\\\.|[a-z]\\\\)|\\\\*|[A-Z]\\\\.|[IVX]+\\\\.)\\\\s).)*&quot;`","body":"Your current regex implies support for various bullet point types. In that case, you can probably use a pattern like <code>&quot;(?s)(?:\\\\d\\\\.|[a-z]\\\\)|\\\\*|[A-Z]\\\\.|[IVX]+\\\\.)\\\\s++(?:(?!(?&zwnj;&#8203;:\\\\d\\\\.|[a-z]\\\\)|\\\\*&zwnj;&#8203;|[A-Z]\\\\.|[IVX]+\\\\.)&zwnj;&#8203;\\\\s).)*&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":11485730,"reputation":407,"user_id":8418469,"display_name":"prabu naresh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693299464,"creation_date":1693299464,"answer_id":76998751,"question_id":76998721,"body_markdown":"The regex pattern you&#39;ve provided, \r\n\r\n    /\\\\d\\\\.\\\\s+|[a-z]\\\\)\\\\s+|(\\\\s\\\\*\\\\s+|[A-Z]\\\\.\\\\s+)|[IVX]+\\\\.\\\\s+/g \r\n\r\nappears to be quite complex and may not correctly match the markdown bulletpoints. Let&#39;s simplify the pattern to achieve your desired result.\r\n\r\n    private List&lt;String&gt; extractMarkdownListUsingRegex(String markdownName) {\r\n        String paragraphText = this.paragraph.getText();\r\n        List&lt;String&gt; markdown = new ArrayList&lt;&gt;();\r\n        String regex = &quot;\\\\*\\\\s+[^*]+&quot;;\r\n        Pattern pattern = Pattern.compile(regex);\r\n        Matcher matcher = pattern.matcher(paragraphText);\r\n        while (matcher.find()) {\r\n            markdown.add(matcher.group());\r\n        }\r\n        return markdown;\r\n    }\r\n\r\nWith this regex pattern, it should correctly match lines that start with an asterisk followed by a space and then capture everything until the next asterisk.\r\n\r\n\r\n","title":"Regular expression not extracting the matched substring from the actual string","body":"<p>The regex pattern you've provided,</p>\n<pre><code>/\\\\d\\\\.\\\\s+|[a-z]\\\\)\\\\s+|(\\\\s\\\\*\\\\s+|[A-Z]\\\\.\\\\s+)|[IVX]+\\\\.\\\\s+/g \n</code></pre>\n<p>appears to be quite complex and may not correctly match the markdown bulletpoints. Let's simplify the pattern to achieve your desired result.</p>\n<pre><code>private List&lt;String&gt; extractMarkdownListUsingRegex(String markdownName) {\n    String paragraphText = this.paragraph.getText();\n    List&lt;String&gt; markdown = new ArrayList&lt;&gt;();\n    String regex = &quot;\\\\*\\\\s+[^*]+&quot;;\n    Pattern pattern = Pattern.compile(regex);\n    Matcher matcher = pattern.matcher(paragraphText);\n    while (matcher.find()) {\n        markdown.add(matcher.group());\n    }\n    return markdown;\n}\n</code></pre>\n<p>With this regex pattern, it should correctly match lines that start with an asterisk followed by a space and then capture everything until the next asterisk.</p>\n"}],"owner":{"account_id":28242228,"reputation":9,"user_id":21589845,"display_name":"Furqan Ahmed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1693299464,"creation_date":1693299219,"question_id":76998721,"body_markdown":"Following is the string from which I need to extract the markdown bulletpoints.\r\n\r\n    This is a paragraph with bulletpoints. * Bulletpoint1 * Bulletpoint2 * Bulletpoint3 and this is some another text.\r\nI want to extract &quot;* Bulletpoint1 * Bulletpoint2 * Bulletpoint3&quot; as a substring from the actual string. Following is the code to extract the substring.\r\n\r\n\tprivate List&lt;String&gt; extractMarkdownListUsingRegex(String markdownName) {\r\n\t\tString paragraphText = this.paragraph.getText();\r\n\t\tList&lt;String&gt; markdown = new ArrayList&lt;String&gt;();\r\n\t\tString regex = regexMap.get(markdownName);\r\n\t\tPattern pattern = Pattern.compile(regex);\r\n\t\tMatcher matcher = pattern.matcher(paragraphText);\r\n\t\twhile(matcher.find()) {\r\n\t\t\tmarkdown.add(matcher.group());\r\n\t\t}\r\n\t\treturn markdown;\r\n\t}\r\n\r\nThe regex is as follows:\r\n\r\n    regexMap.put(&quot;bulletpoints&quot;, &quot;/\\\\d\\\\.\\\\s+|[a-z]\\\\)\\\\s+|(\\\\s\\\\*\\\\s+|[A-Z]\\\\.\\\\s+)|[IVX]+\\\\.\\\\s+/g&quot;);\r\n\r\nThe above code is extracting \r\n\r\n&gt; [*, *, *]\r\n\r\ninstead of \r\n\r\n&gt; [* Bulletpoint1, * Bulletpoint2, * Bulletpoint3]\r\n\r\nCan anyone please guide me where I am going wrong in this regard?","title":"Regular expression not extracting the matched substring from the actual string","body":"<p>Following is the string from which I need to extract the markdown bulletpoints.</p>\n<pre><code>This is a paragraph with bulletpoints. * Bulletpoint1 * Bulletpoint2 * Bulletpoint3 and this is some another text.\n</code></pre>\n<p>I want to extract &quot;* Bulletpoint1 * Bulletpoint2 * Bulletpoint3&quot; as a substring from the actual string. Following is the code to extract the substring.</p>\n<pre><code>private List&lt;String&gt; extractMarkdownListUsingRegex(String markdownName) {\n    String paragraphText = this.paragraph.getText();\n    List&lt;String&gt; markdown = new ArrayList&lt;String&gt;();\n    String regex = regexMap.get(markdownName);\n    Pattern pattern = Pattern.compile(regex);\n    Matcher matcher = pattern.matcher(paragraphText);\n    while(matcher.find()) {\n        markdown.add(matcher.group());\n    }\n    return markdown;\n}\n</code></pre>\n<p>The regex is as follows:</p>\n<pre><code>regexMap.put(&quot;bulletpoints&quot;, &quot;/\\\\d\\\\.\\\\s+|[a-z]\\\\)\\\\s+|(\\\\s\\\\*\\\\s+|[A-Z]\\\\.\\\\s+)|[IVX]+\\\\.\\\\s+/g&quot;);\n</code></pre>\n<p>The above code is extracting</p>\n<blockquote>\n<p>[*, *, *]</p>\n</blockquote>\n<p>instead of</p>\n<blockquote>\n<p>[* Bulletpoint1, * Bulletpoint2, * Bulletpoint3]</p>\n</blockquote>\n<p>Can anyone please guide me where I am going wrong in this regard?</p>\n"},{"tags":["java","hibernate","orm"],"comments":[{"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"score":0,"creation_date":1400004422,"post_id":3274958,"comment_id":36299925,"body_markdown":"So nobody actually answers the question:  (is the data) actually saved in the database ?...","body":"So nobody actually answers the question:  (is the data) actually saved in the database ?..."}],"answers":[{"tags":[],"owner":{"display_name":"user333306"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279445048,"creation_date":1279445048,"answer_id":3274977,"question_id":3274958,"body_markdown":"Yes every 20 loop, sql is generated and executed for the unsaved objects. Your should also set batch mode to 20 to increase performances.","title":"Question about Hibernate session.flush()","body":"<p>Yes every 20 loop, sql is generated and executed for the unsaved objects. Your should also set batch mode to 20 to increase performances.</p>\n"},{"tags":[],"owner":{"account_id":169148,"reputation":3473,"user_id":395072,"display_name":"Manish Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1279462695,"creation_date":1279450879,"answer_id":3275248,"question_id":3274958,"body_markdown":"    // Assume List to be of 50 \r\n    for (int i = 0; i &lt; 50 ; i++) {\r\n            Car c = new Car( car.get(i).getId(),car.get(i).getName() );\r\n            getCurrentSession().save(c);\r\n    \t// 20 car Objects which are saved in memory syncronizes with DB \r\n\t\t\tif (i % 20 == 0)\r\n\t\t\t\tgetCurrentSession().flush();\r\n\r\n    }\r\n\r\nFew more pointers regarding why the flushing should match batch size \r\nTo enable batching you need to set the jdbc batch size \r\n\r\n    // In your case \r\n    hibernate.jdbc.batch_size =20\r\n\r\nOne common pitfall in using batching is if you are using single object update or insert this goes fine.But in case \r\nyou are using mutiple objects leading to multiple inserts /updates then you will have to explicitly set the sorting mechanism.\r\n\r\nFor example \r\n\r\n    // Assume List to be of 50 \r\n        for (int i = 0; i &lt; 50 ; i++) {\r\n                Car c = new Car( car.get(i).getId(),car.get(i).getName() );\r\n    \t\t// Adding accessory also in the card here\r\n    \t\t\tAccessories a=new Accessories(&quot;I am new one&quot;);\r\n    \t\t\tc.add(a);\r\n    \t\t// Now you got two entities to be persisted . car and accessory \r\n    \t\t// Two SQL inserts \r\n                getCurrentSession().save(c);\r\n        \t// 20 car Objects which are saved in memory syncronizes with DB \r\n        \t// Flush here clears the car objects from 1st level JVM cache\r\n    \t\t\tif (i % 20 == 0)\r\n     \t\t\tgetCurrentSession().flush();\r\n                        getCurrentSession().clear();\r\n        }\r\n\r\n\t\r\n\r\nHere in this case \r\n\ttwo sql are generated \r\n\t1 for insert in car \r\n\t1 for insert in accessory \r\n\r\nFor proper batching you will have to set the \r\n\r\n    &lt;prop  key=&quot;hibernate.order_inserts&quot;&gt;true&lt;/prop&gt;\r\n\r\nso that all the inserts for car is sorted together and all inserts of accessories are sorted together.By doing so you will have 20 inserts firing in a batch rather then 1 sql firing at a time.\r\n\r\nFor different operation under one transaction, you can have a look at http://docs.jboss.org/hibernate/core/3.2/api/org/hibernate/event/def/AbstractFlushingEventListener.html\r\n\r\n\r\n","title":"Question about Hibernate session.flush()","body":"<pre><code>// Assume List to be of 50 \nfor (int i = 0; i &lt; 50 ; i++) {\n        Car c = new Car( car.get(i).getId(),car.get(i).getName() );\n        getCurrentSession().save(c);\n    // 20 car Objects which are saved in memory syncronizes with DB \n        if (i % 20 == 0)\n            getCurrentSession().flush();\n\n}\n</code></pre>\n\n<p>Few more pointers regarding why the flushing should match batch size \nTo enable batching you need to set the jdbc batch size </p>\n\n<pre><code>// In your case \nhibernate.jdbc.batch_size =20\n</code></pre>\n\n<p>One common pitfall in using batching is if you are using single object update or insert this goes fine.But in case \nyou are using mutiple objects leading to multiple inserts /updates then you will have to explicitly set the sorting mechanism.</p>\n\n<p>For example </p>\n\n<pre><code>// Assume List to be of 50 \n    for (int i = 0; i &lt; 50 ; i++) {\n            Car c = new Car( car.get(i).getId(),car.get(i).getName() );\n        // Adding accessory also in the card here\n            Accessories a=new Accessories(\"I am new one\");\n            c.add(a);\n        // Now you got two entities to be persisted . car and accessory \n        // Two SQL inserts \n            getCurrentSession().save(c);\n        // 20 car Objects which are saved in memory syncronizes with DB \n        // Flush here clears the car objects from 1st level JVM cache\n            if (i % 20 == 0)\n            getCurrentSession().flush();\n                    getCurrentSession().clear();\n    }\n</code></pre>\n\n<p>Here in this case \n    two sql are generated \n    1 for insert in car \n    1 for insert in accessory </p>\n\n<p>For proper batching you will have to set the </p>\n\n<pre><code>&lt;prop  key=\"hibernate.order_inserts\"&gt;true&lt;/prop&gt;\n</code></pre>\n\n<p>so that all the inserts for car is sorted together and all inserts of accessories are sorted together.By doing so you will have 20 inserts firing in a batch rather then 1 sql firing at a time.</p>\n\n<p>For different operation under one transaction, you can have a look at <a href=\"http://docs.jboss.org/hibernate/core/3.2/api/org/hibernate/event/def/AbstractFlushingEventListener.html\" rel=\"nofollow noreferrer\">http://docs.jboss.org/hibernate/core/3.2/api/org/hibernate/event/def/AbstractFlushingEventListener.html</a></p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":1,"up_vote_count":55,"is_accepted":true,"score":54,"last_activity_date":1279464535,"creation_date":1279460606,"answer_id":3275733,"question_id":3274958,"body_markdown":"From the javadoc of [`Session#flush`][1]:\r\n\r\n&gt; Force this session to flush. Must be\r\n&gt; called at the end of a unit of work,\r\n&gt; before committing the transaction and\r\n&gt; closing the session (depending on\r\n&gt; [flush-mode][2], [Transaction.commit()][3] \r\n&gt; calls this method).\r\n&gt; \r\n&gt; *Flushing* is the process of synchronizing the underlying\r\n&gt; persistent store with persistable\r\n&gt; state held in memory.\r\n\r\nIn other words, `flush` tells Hibernate to execute the SQL statements needed to synchronize the JDBC connection&#39;s state with the state of objects held in the session-level cache. And the condition `if (i % 20 == 0)` will make it happen for every `i` multiple of 20.\r\n\r\nBut, still, the new `Car` instances will be held in the session-level cache and, for big `myList.size()`, you&#39;re going to eat all memory and ultimately get an `OutOfMemoryException`. To avoid this situation, the pattern described in the documentation is to `flush` **AND** `clear` the session at regular intervals (same size as the JDBC batch size) to persist the changes and then detach the instances so that they can be garbage collected:\r\n\r\n&gt; ### [13.1. Batch inserts][4]\r\n&gt; \r\n&gt; When making new objects persistent\r\n&gt; flush() and then clear() the session\r\n&gt; regularly in order to control the size\r\n&gt; of the first-level cache.\r\n&gt; \r\n&gt;     Session session = sessionFactory.openSession();\r\n&gt;     Transaction tx = session.beginTransaction();\r\n&gt;        \r\n&gt;     for ( int i=0; i&lt;100000; i++ ) {\r\n&gt;         Customer customer = new Customer(.....);\r\n&gt;         session.save(customer);\r\n&gt;         if ( i % 20 == 0 ) { //20, same as the JDBC batch size\r\n&gt;             //flush a batch of inserts and release memory:\r\n&gt;             session.flush();\r\n&gt;             session.clear();\r\n&gt;         }\r\n&gt;     }\r\n&gt;        \r\n&gt;     tx.commit();\r\n&gt;     session.close();\r\n\r\nThe documentation mentions in the same chapter how to set the JDBC batch size.\r\n\r\n### See also\r\n\r\n- [10.10. Flushing the Session][5]\r\n- [Chapter 13\\. Batch processing][6]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/stable/core/api/org/hibernate/Session.html#flush%28%29\r\n  [2]: http://docs.jboss.org/hibernate/stable/core/api/org/hibernate/Session.html#setFlushMode(org.hibernate.FlushMode)\r\n  [3]: http://docs.jboss.org/hibernate/stable/core/api/org/hibernate/Transaction.html#commit()\r\n  [4]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/batch.html#batch-inserts\r\n  [5]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/objectstate.html#objectstate-flushing\r\n  [6]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/batch.html","title":"Question about Hibernate session.flush()","body":"<p>From the javadoc of <a href=\"http://docs.jboss.org/hibernate/stable/core/api/org/hibernate/Session.html#flush%28%29\" rel=\"noreferrer\"><code>Session#flush</code></a>:</p>\n\n<blockquote>\n  <p>Force this session to flush. Must be\n  called at the end of a unit of work,\n  before committing the transaction and\n  closing the session (depending on\n  <a href=\"http://docs.jboss.org/hibernate/stable/core/api/org/hibernate/Session.html#setFlushMode(org.hibernate.FlushMode)\" rel=\"noreferrer\">flush-mode</a>, <a href=\"http://docs.jboss.org/hibernate/stable/core/api/org/hibernate/Transaction.html#commit()\" rel=\"noreferrer\">Transaction.commit()</a> \n  calls this method).</p>\n  \n  <p><em>Flushing</em> is the process of synchronizing the underlying\n  persistent store with persistable\n  state held in memory.</p>\n</blockquote>\n\n<p>In other words, <code>flush</code> tells Hibernate to execute the SQL statements needed to synchronize the JDBC connection's state with the state of objects held in the session-level cache. And the condition <code>if (i % 20 == 0)</code> will make it happen for every <code>i</code> multiple of 20.</p>\n\n<p>But, still, the new <code>Car</code> instances will be held in the session-level cache and, for big <code>myList.size()</code>, you're going to eat all memory and ultimately get an <code>OutOfMemoryException</code>. To avoid this situation, the pattern described in the documentation is to <code>flush</code> <strong>AND</strong> <code>clear</code> the session at regular intervals (same size as the JDBC batch size) to persist the changes and then detach the instances so that they can be garbage collected:</p>\n\n<blockquote>\n  <h3><a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/batch.html#batch-inserts\" rel=\"noreferrer\">13.1. Batch inserts</a></h3>\n  \n  <p>When making new objects persistent\n  flush() and then clear() the session\n  regularly in order to control the size\n  of the first-level cache.</p>\n\n<pre><code>Session session = sessionFactory.openSession();\nTransaction tx = session.beginTransaction();\n\nfor ( int i=0; i&lt;100000; i++ ) {\n    Customer customer = new Customer(.....);\n    session.save(customer);\n    if ( i % 20 == 0 ) { //20, same as the JDBC batch size\n        //flush a batch of inserts and release memory:\n        session.flush();\n        session.clear();\n    }\n}\n\ntx.commit();\nsession.close();\n</code></pre>\n</blockquote>\n\n<p>The documentation mentions in the same chapter how to set the JDBC batch size.</p>\n\n<h3>See also</h3>\n\n<ul>\n<li><a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/objectstate.html#objectstate-flushing\" rel=\"noreferrer\">10.10. Flushing the Session</a></li>\n<li><a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/batch.html\" rel=\"noreferrer\">Chapter 13. Batch processing</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":121574,"reputation":11440,"user_id":314763,"accept_rate":77,"display_name":"frictionlesspulley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693298900,"creation_date":1279485278,"answer_id":3277156,"question_id":3274958,"body_markdown":"Depends on how the FlushMode is set up.\r\n\r\nIn default configuration, Hibernate tries to sync up with the database at three locations.\r\n\r\n    1. before querying data\r\n    2. on committing a transaction\r\n    3. explicitly calling flush\r\n\r\nIf the `FlushMode` is set as FlushMode.Manual, the programmer is informing hibernate that he/she will handle when to pass the data to the database. Under this configuration, \r\nthe `session.flush()` call will save the object instances to the database.\r\n\r\nA `session.clear()` call can actually be used to clear the persistence context.","title":"Question about Hibernate session.flush()","body":"<p>Depends on how the FlushMode is set up.</p>\n<p>In default configuration, Hibernate tries to sync up with the database at three locations.</p>\n<pre><code>1. before querying data\n2. on committing a transaction\n3. explicitly calling flush\n</code></pre>\n<p>If the <code>FlushMode</code> is set as FlushMode.Manual, the programmer is informing hibernate that he/she will handle when to pass the data to the database. Under this configuration,\nthe <code>session.flush()</code> call will save the object instances to the database.</p>\n<p>A <code>session.clear()</code> call can actually be used to clear the persistence context.</p>\n"}],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66263,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":3275733,"answer_count":4,"score":29,"last_activity_date":1693298900,"creation_date":1279444640,"question_id":3274958,"body_markdown":"I want to inquire about what actually the flush method does in the following case:\r\n\r\n    for (int i = 0; i &lt; myList.size(); i++) {\r\n    \tCar c = new Car( car.get(i).getId(),car.get(i).getName() );\r\n        getCurrentSession().save(c);\r\n    \tif (i % 20 == 0)\r\n    \t\tgetCurrentSession().flush();\r\n    }\r\n\r\nDoes this means that after the iteration 20, the cache is flushed, and then the 20 held memory objects are actually saved in the database ?\r\n\r\nCan someone please explain to me what will happen when the condition is true.","title":"Question about Hibernate session.flush()","body":"<p>I want to inquire about what actually the flush method does in the following case:</p>\n\n<pre><code>for (int i = 0; i &lt; myList.size(); i++) {\n    Car c = new Car( car.get(i).getId(),car.get(i).getName() );\n    getCurrentSession().save(c);\n    if (i % 20 == 0)\n        getCurrentSession().flush();\n}\n</code></pre>\n\n<p>Does this means that after the iteration 20, the cache is flushed, and then the 20 held memory objects are actually saved in the database ?</p>\n\n<p>Can someone please explain to me what will happen when the condition is true.</p>\n"},{"tags":["java","android"],"owner":{"account_id":9694452,"reputation":11,"user_id":7191404,"display_name":"Yusuf_sust"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693298402,"creation_date":1693289420,"question_id":76997724,"body_markdown":"I want to save my `MediaMuxer` data in memory. Anybody can help me what is the actual procedure to do that.\r\n\r\nI used filedescriptor but got `IllegalStateException` when starting the muxer. I used the solution from\r\nhttps://stackoverflow.com/questions/46917506/create-an-in-memory-filedescriptor/62651005#62651005\r\n\r\nHere is my code\r\n\r\n    public void onStartButtonClick(View view) throws IOException {\r\n        int FRAME_RATE = 30;\r\n        int IFRAME_INTERVAL = 5;\r\n\r\n        try {\r\n    \r\n            String name = context\r\n                    .getFileStreamPath(&quot;socket-&quot; + UUID.randomUUID())\r\n                    .getAbsolutePath();\r\n            LocalSocketAddress address = new LocalSocketAddress(name,  LocalSocketAddress.Namespace.FILESYSTEM);\r\n    \r\n            // Bind a server to the socket.\r\n            LocalSocket server = new LocalSocket(LocalSocket.SOCKET_STREAM);\r\n            server.bind(address);\r\n            LocalServerSocket serverWrapper;\r\n            try {\r\n                serverWrapper = new LocalServerSocket(server.getFileDescriptor());\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n            // Connect a client to the socket.\r\n            LocalSocket client = new LocalSocket(LocalSocket.SOCKET_STREAM);\r\n            client.connect(address);\r\n    \r\n            // Start a thread to read from the server socket.\r\n            Thread x = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    LocalSocket socket;\r\n                    try {\r\n                        socket = serverWrapper.accept();\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                    try {\r\n                        InputStream input = socket.getInputStream();\r\n                        byte[] buffer = new byte[100000];\r\n                        input.read(buffer);\r\n                        input.close();\r\n                        Log.d(&quot;MainActivity&quot;, &quot; data&quot; + new String(buffer));\r\n    \r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n             \r\n                }\r\n            });\r\n            x.start();\r\n    \r\n           \r\n            FileDescriptor fd = client.getFileDescriptor();\r\n    \r\n            String text = &quot;MemoryFile Text&quot;;\r\n    \r\n            MediaMuxer mediaMuxer = new MediaMuxer(fd, MediaMuxer.OutputFormat.MUXER_OUTPUT_MPEG_4);\r\n    \r\n            MediaFormat mediaFormat = MediaFormat.createVideoFormat(MediaFormat.MIMETYPE_VIDEO_AVC, 640, 480);\r\n    \r\n            // Configure media format\r\n            mediaFormat.setInteger(MediaFormat.KEY_COLOR_FORMAT, MediaCodecInfo.CodecCapabilities.COLOR_FormatSurface);\r\n            mediaFormat.setInteger(MediaFormat.KEY_BIT_RATE, 2000000);\r\n            mediaFormat.setInteger(MediaFormat.KEY_FRAME_RATE, FRAME_RATE);\r\n            mediaFormat.setInteger(MediaFormat.KEY_I_FRAME_INTERVAL, IFRAME_INTERVAL);\r\n    \r\n            // Create the encoder and input surface\r\n            MediaCodec mediaCodec = MediaCodec.createEncoderByType(MediaFormat.MIMETYPE_VIDEO_AVC);\r\n            mediaCodec.configure(mediaFormat, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE);\r\n            Surface inputSurface = mediaCodec.createInputSurface();\r\n            mediaCodec.start();\r\n    \r\n            // Render text frames onto the input surface\r\n            Canvas canvas = inputSurface.lockCanvas(null);\r\n            Paint paint = new Paint();\r\n            paint.setColor(Color.WHITE);\r\n            paint.setTextSize(40);\r\n            canvas.drawColor(Color.BLACK);\r\n            canvas.drawText(text, 100, 240, paint);\r\n            inputSurface.unlockCanvasAndPost(canvas);\r\n    \r\n            // Encode and mux frames\r\n            MediaCodec.BufferInfo bufferInfo = new MediaCodec.BufferInfo();\r\n            ByteBuffer[] outputBuffers = mediaCodec.getOutputBuffers();\r\n            boolean muxing = true;\r\n    \r\n            while (muxing) {\r\n                int encoderStatus = mediaCodec.dequeueOutputBuffer(bufferInfo, -1);\r\n                if (encoderStatus &gt;= 0) {\r\n                    ByteBuffer encodedData = outputBuffers[encoderStatus];\r\n    \r\n                    if ((bufferInfo.flags &amp; MediaCodec.BUFFER_FLAG_CODEC_CONFIG) != 0) {\r\n                        bufferInfo.size = 0;\r\n                    }\r\n    \r\n                    if (bufferInfo.size != 0) {\r\n                        encodedData.position(bufferInfo.offset);\r\n                        encodedData.limit(bufferInfo.offset + bufferInfo.size);\r\n                        mediaMuxer.writeSampleData(0, encodedData, bufferInfo);\r\n                    }\r\n    \r\n                    mediaCodec.releaseOutputBuffer(encoderStatus, false);\r\n    \r\n                    if ((bufferInfo.flags &amp; MediaCodec.BUFFER_FLAG_END_OF_STREAM) != 0) {\r\n                        break;\r\n                    }\r\n                } else if (encoderStatus == MediaCodec.INFO_OUTPUT_FORMAT_CHANGED) {\r\n                    // Configure the media format for the muxer\r\n                    MediaFormat outputFormat = mediaCodec.getOutputFormat();\r\n                    mediaMuxer.addTrack(outputFormat);\r\n                    mediaMuxer.start();\r\n                }\r\n            }\r\n    \r\n            mediaMuxer.stop();\r\n            mediaMuxer.release();\r\n            mediaCodec.stop();\r\n            mediaCodec.release();\r\n            serverWrapper.close();\r\n            server.close();\r\n            client.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            Log.e(&quot;MainActivity&quot;, e.toString());\r\n    \r\n        }\r\n\r\n    }","title":"How to use FileDescriptor in MediaMuxer","body":"<p>I want to save my <code>MediaMuxer</code> data in memory. Anybody can help me what is the actual procedure to do that.</p>\n<p>I used filedescriptor but got <code>IllegalStateException</code> when starting the muxer. I used the solution from\n<a href=\"https://stackoverflow.com/questions/46917506/create-an-in-memory-filedescriptor/62651005#62651005\">Create an in-memory FileDescriptor</a></p>\n<p>Here is my code</p>\n<pre><code>public void onStartButtonClick(View view) throws IOException {\n    int FRAME_RATE = 30;\n    int IFRAME_INTERVAL = 5;\n\n    try {\n\n        String name = context\n                .getFileStreamPath(&quot;socket-&quot; + UUID.randomUUID())\n                .getAbsolutePath();\n        LocalSocketAddress address = new LocalSocketAddress(name,  LocalSocketAddress.Namespace.FILESYSTEM);\n\n        // Bind a server to the socket.\n        LocalSocket server = new LocalSocket(LocalSocket.SOCKET_STREAM);\n        server.bind(address);\n        LocalServerSocket serverWrapper;\n        try {\n            serverWrapper = new LocalServerSocket(server.getFileDescriptor());\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n        // Connect a client to the socket.\n        LocalSocket client = new LocalSocket(LocalSocket.SOCKET_STREAM);\n        client.connect(address);\n\n        // Start a thread to read from the server socket.\n        Thread x = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                LocalSocket socket;\n                try {\n                    socket = serverWrapper.accept();\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n                try {\n                    InputStream input = socket.getInputStream();\n                    byte[] buffer = new byte[100000];\n                    input.read(buffer);\n                    input.close();\n                    Log.d(&quot;MainActivity&quot;, &quot; data&quot; + new String(buffer));\n\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n         \n            }\n        });\n        x.start();\n\n       \n        FileDescriptor fd = client.getFileDescriptor();\n\n        String text = &quot;MemoryFile Text&quot;;\n\n        MediaMuxer mediaMuxer = new MediaMuxer(fd, MediaMuxer.OutputFormat.MUXER_OUTPUT_MPEG_4);\n\n        MediaFormat mediaFormat = MediaFormat.createVideoFormat(MediaFormat.MIMETYPE_VIDEO_AVC, 640, 480);\n\n        // Configure media format\n        mediaFormat.setInteger(MediaFormat.KEY_COLOR_FORMAT, MediaCodecInfo.CodecCapabilities.COLOR_FormatSurface);\n        mediaFormat.setInteger(MediaFormat.KEY_BIT_RATE, 2000000);\n        mediaFormat.setInteger(MediaFormat.KEY_FRAME_RATE, FRAME_RATE);\n        mediaFormat.setInteger(MediaFormat.KEY_I_FRAME_INTERVAL, IFRAME_INTERVAL);\n\n        // Create the encoder and input surface\n        MediaCodec mediaCodec = MediaCodec.createEncoderByType(MediaFormat.MIMETYPE_VIDEO_AVC);\n        mediaCodec.configure(mediaFormat, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE);\n        Surface inputSurface = mediaCodec.createInputSurface();\n        mediaCodec.start();\n\n        // Render text frames onto the input surface\n        Canvas canvas = inputSurface.lockCanvas(null);\n        Paint paint = new Paint();\n        paint.setColor(Color.WHITE);\n        paint.setTextSize(40);\n        canvas.drawColor(Color.BLACK);\n        canvas.drawText(text, 100, 240, paint);\n        inputSurface.unlockCanvasAndPost(canvas);\n\n        // Encode and mux frames\n        MediaCodec.BufferInfo bufferInfo = new MediaCodec.BufferInfo();\n        ByteBuffer[] outputBuffers = mediaCodec.getOutputBuffers();\n        boolean muxing = true;\n\n        while (muxing) {\n            int encoderStatus = mediaCodec.dequeueOutputBuffer(bufferInfo, -1);\n            if (encoderStatus &gt;= 0) {\n                ByteBuffer encodedData = outputBuffers[encoderStatus];\n\n                if ((bufferInfo.flags &amp; MediaCodec.BUFFER_FLAG_CODEC_CONFIG) != 0) {\n                    bufferInfo.size = 0;\n                }\n\n                if (bufferInfo.size != 0) {\n                    encodedData.position(bufferInfo.offset);\n                    encodedData.limit(bufferInfo.offset + bufferInfo.size);\n                    mediaMuxer.writeSampleData(0, encodedData, bufferInfo);\n                }\n\n                mediaCodec.releaseOutputBuffer(encoderStatus, false);\n\n                if ((bufferInfo.flags &amp; MediaCodec.BUFFER_FLAG_END_OF_STREAM) != 0) {\n                    break;\n                }\n            } else if (encoderStatus == MediaCodec.INFO_OUTPUT_FORMAT_CHANGED) {\n                // Configure the media format for the muxer\n                MediaFormat outputFormat = mediaCodec.getOutputFormat();\n                mediaMuxer.addTrack(outputFormat);\n                mediaMuxer.start();\n            }\n        }\n\n        mediaMuxer.stop();\n        mediaMuxer.release();\n        mediaCodec.stop();\n        mediaCodec.release();\n        serverWrapper.close();\n        server.close();\n        client.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n        Log.e(&quot;MainActivity&quot;, e.toString());\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","image","bmp","bytebuffer"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693277503,"post_id":76997003,"comment_id":135736170,"body_markdown":"The [`ImageIO`](https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/javax/imageio/package-summary.html) library supports `bmp` - See [Writing/Saving an Image](https://docs.oracle.com/javase/tutorial/2d/images/saveimage.html) for more details","body":"The <a href=\"https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/javax/imageio/package-summary.html\" rel=\"nofollow noreferrer\"><code>ImageIO</code></a> library supports <code>bmp</code> - See <a href=\"https://docs.oracle.com/javase/tutorial/2d/images/saveimage.html\" rel=\"nofollow noreferrer\">Writing/Saving an Image</a> for more details"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1693277904,"post_id":76997003,"comment_id":135736199,"body_markdown":"The problem could be that Java byte buffers default to big-endian formatted integers while the BMP file format uses little-endian format.","body":"The problem could be that Java byte buffers default to big-endian formatted integers while the BMP file format uses little-endian format."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1693295720,"post_id":76997003,"comment_id":135738251,"body_markdown":"It seems a bit odd that you&#39;re calling ByteBuffer.wrap each time instead of just re-using the other one. Are you sure your writing the bmp format correctly? It seems like the writing code is good though. You can set the [byte order](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/ByteBuffer.html#order(java.nio.ByteOrder)) for the byte buffer. How are you checking the resulting image is incorrect?","body":"It seems a bit odd that you&#39;re calling ByteBuffer.wrap each time instead of just re-using the other one. Are you sure your writing the bmp format correctly? It seems like the writing code is good though. You can set the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/ByteBuffer.html#order(java.nio.ByteOrder)\" rel=\"nofollow noreferrer\">byte order</a> for the byte buffer. How are you checking the resulting image is incorrect?"}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693298315,"creation_date":1693298315,"answer_id":76998644,"question_id":76997003,"body_markdown":"There are two problems with this. 1st the bmp should be little endian. 2nd You were missing a header. \r\n\r\n\r\nHere is how I changed the header method so that it would create a black bmp file.\r\n\r\n    private byte[] createHeader() {\r\n        byte[] header = new byte[54];\r\n        \r\n        ByteBuffer buffer = ByteBuffer.wrap(header);\r\n        buffer.order(ByteOrder.LITTLE_ENDIAN);\r\n        buffer.put((byte)&#39;B&#39;);\r\n\t\tbuffer.put((byte)&#39;M&#39;);\r\n        buffer.putInt(fileSize);\r\n        buffer.putInt(0); //missing\r\n        buffer.putInt(dataBegin);\r\n        \r\n        buffer.putInt(headSize);\r\n        buffer.putInt(width);\r\n        buffer.putInt(heigth);\r\n        buffer.putShort(layers);\r\n        buffer.putShort(pixelSize);\r\n        buffer.putInt(compresion);\r\n        buffer.putInt(0); // ignored\r\n        buffer.putInt(horizontalResolution);\r\n        buffer.putInt(verticalResolution);\r\n        buffer.putInt(colorTableSize);\r\n        buffer.putInt(countMainColor);\r\n        \r\n        return header;\r\n    }\r\n\r\nI used [this](https://dev.to/muiz6/c-how-to-write-a-bitmap-image-from-scratch-1k6m) as a reference for the bmp header.","title":"Create BMP File with byte array","body":"<p>There are two problems with this. 1st the bmp should be little endian. 2nd You were missing a header.</p>\n<p>Here is how I changed the header method so that it would create a black bmp file.</p>\n<pre><code>private byte[] createHeader() {\n    byte[] header = new byte[54];\n    \n    ByteBuffer buffer = ByteBuffer.wrap(header);\n    buffer.order(ByteOrder.LITTLE_ENDIAN);\n    buffer.put((byte)'B');\n    buffer.put((byte)'M');\n    buffer.putInt(fileSize);\n    buffer.putInt(0); //missing\n    buffer.putInt(dataBegin);\n    \n    buffer.putInt(headSize);\n    buffer.putInt(width);\n    buffer.putInt(heigth);\n    buffer.putShort(layers);\n    buffer.putShort(pixelSize);\n    buffer.putInt(compresion);\n    buffer.putInt(0); // ignored\n    buffer.putInt(horizontalResolution);\n    buffer.putInt(verticalResolution);\n    buffer.putInt(colorTableSize);\n    buffer.putInt(countMainColor);\n    \n    return header;\n}\n</code></pre>\n<p>I used <a href=\"https://dev.to/muiz6/c-how-to-write-a-bitmap-image-from-scratch-1k6m\" rel=\"nofollow noreferrer\">this</a> as a reference for the bmp header.</p>\n"}],"owner":{"account_id":27128240,"reputation":11,"user_id":20670859,"display_name":"Julian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693298315,"creation_date":1693277199,"question_id":76997003,"body_markdown":"I have a problem with the code, the idea is to create an image in black, and then make color changes. At the moment the only thing I want to do is to create the black image using the ByteBuffer class, but when I run the image is corrupted.\r\nThis is the code\r\n\r\n```\r\npackage co.edu.uptc.persistence;\r\n\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.nio.ByteBuffer;\r\n\r\npublic class BMFile {\r\n\tprivate String fileName;\r\n\tprivate int width;\r\n\tprivate int heigth;\r\n\tprivate int imageSize;\r\n\tprivate int fileSize;\r\n\r\n\tprivate String fileType;\r\n\tprivate short reserved1;\r\n\tprivate short reserved2;\r\n\tprivate int dataBegin;\r\n\tprivate int headSize;\r\n\tprivate short layers;\r\n\tprivate short pixelSize;\r\n\tprivate int compresion;\r\n\tprivate int horizontalResolution;\r\n\tprivate int verticalResolution;\r\n\tprivate int colorTableSize;\r\n\tprivate int countMainColor;\r\n\tprivate int adjustment;\r\n\r\n\tpublic BMFile(String fileName, int width, int heigth) {\r\n\t\tthis.fileName = fileName;\r\n\r\n\t\tthis.width = width;\r\n\t\tthis.heigth = heigth;\r\n\t\timageSize = width * heigth * 3;\r\n\t\tfileSize = imageSize + 54;\r\n\r\n\t\tfileType = &quot;BM&quot;;\r\n\t\treserved1 = 0;\r\n\t\treserved2 = 0;\r\n\t\tdataBegin = 54;\r\n\t\theadSize = 40;\r\n\t\tlayers = 1;\r\n\t\tpixelSize = 24;\r\n\t\tcompresion = 0;\r\n\t\thorizontalResolution = 0;\r\n\t\tverticalResolution = 0;\r\n\t\tcolorTableSize = 0;\r\n\t\tcountMainColor = 0;\r\n\t}\r\n\r\n\tpublic void saveFile() throws Exception {\r\n\t\tcreateFile(fileName, createHeader(), createImage());\r\n\t}\r\n\r\n\tprivate void createFile(String objectFile, byte[] header, byte[] image) throws Exception {\r\n\t\ttry (FileOutputStream fuente = new FileOutputStream(objectFile)) {\r\n\t\t\tfuente.write(header);\r\n\t\t\tfuente.write(image);\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\tSystem.out.println(&quot;eroooooorrrr&quot;);\r\n\t\t\tthrow new Exception(&quot;Ha ocurrido un error archivo no encontrado&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;eroooooorrrr&quot;);\r\n\t\t\tthrow new Exception(&quot;Ha ocurrido un error I/O&quot;);\r\n\t\t}\r\n\t}\r\n\r\n    private byte[] createHeader() {\r\n        byte[] header = new byte[54];\r\n        \r\n        header[0] = &#39;B&#39;;\r\n        header[1] = &#39;M&#39;;\r\n        ByteBuffer.wrap(header, 2, 4).putInt(fileSize);\r\n        ByteBuffer.wrap(header, 10, 4).putInt(dataBegin);\r\n        ByteBuffer.wrap(header, 14, 4).putInt(headSize);\r\n        ByteBuffer.wrap(header, 18, 4).putInt(width);\r\n        ByteBuffer.wrap(header, 22, 4).putInt(heigth);\r\n        ByteBuffer.wrap(header, 26, 2).putShort(layers);\r\n        ByteBuffer.wrap(header, 28, 2).putShort(pixelSize);\r\n        ByteBuffer.wrap(header, 30, 4).putInt(compresion);\r\n        ByteBuffer.wrap(header, 34, 4).putInt(imageSize);\r\n        ByteBuffer.wrap(header, 38, 4).putInt(horizontalResolution);\r\n        ByteBuffer.wrap(header, 42, 4).putInt(verticalResolution);\r\n        ByteBuffer.wrap(header, 46, 4).putInt(colorTableSize);\r\n        ByteBuffer.wrap(header, 50, 4).putInt(countMainColor);\r\n        \r\n        return header;\r\n    }\r\n\r\n\tprivate byte[] createImage() {\r\n\t\tbyte[] image = new byte[this.imageSize];\r\n\t\tfor (int i = 0; i &lt; image.length; i += 3) {\r\n\t\t\timage[i] = 0;\r\n\t\t\timage[i + 1] = 0;\r\n\t\t\timage[i + 2] = (byte) 0;\r\n\t\t}\r\n\t\treturn image;\r\n\t}\r\n\t\r\n```\r\n\r\nWhen I look at the image properties I notice that the image size is fine, but the rest for some reason fails.\r\n\r\nAs I said before, the idea is to create a black image, and then modify the createImage method to set other colors, but the image is corrupted.","title":"Create BMP File with byte array","body":"<p>I have a problem with the code, the idea is to create an image in black, and then make color changes. At the moment the only thing I want to do is to create the black image using the ByteBuffer class, but when I run the image is corrupted.\nThis is the code</p>\n<pre><code>package co.edu.uptc.persistence;\n\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\n\npublic class BMFile {\n    private String fileName;\n    private int width;\n    private int heigth;\n    private int imageSize;\n    private int fileSize;\n\n    private String fileType;\n    private short reserved1;\n    private short reserved2;\n    private int dataBegin;\n    private int headSize;\n    private short layers;\n    private short pixelSize;\n    private int compresion;\n    private int horizontalResolution;\n    private int verticalResolution;\n    private int colorTableSize;\n    private int countMainColor;\n    private int adjustment;\n\n    public BMFile(String fileName, int width, int heigth) {\n        this.fileName = fileName;\n\n        this.width = width;\n        this.heigth = heigth;\n        imageSize = width * heigth * 3;\n        fileSize = imageSize + 54;\n\n        fileType = &quot;BM&quot;;\n        reserved1 = 0;\n        reserved2 = 0;\n        dataBegin = 54;\n        headSize = 40;\n        layers = 1;\n        pixelSize = 24;\n        compresion = 0;\n        horizontalResolution = 0;\n        verticalResolution = 0;\n        colorTableSize = 0;\n        countMainColor = 0;\n    }\n\n    public void saveFile() throws Exception {\n        createFile(fileName, createHeader(), createImage());\n    }\n\n    private void createFile(String objectFile, byte[] header, byte[] image) throws Exception {\n        try (FileOutputStream fuente = new FileOutputStream(objectFile)) {\n            fuente.write(header);\n            fuente.write(image);\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;eroooooorrrr&quot;);\n            throw new Exception(&quot;Ha ocurrido un error archivo no encontrado&quot;);\n        } catch (IOException e) {\n            System.out.println(&quot;eroooooorrrr&quot;);\n            throw new Exception(&quot;Ha ocurrido un error I/O&quot;);\n        }\n    }\n\n    private byte[] createHeader() {\n        byte[] header = new byte[54];\n        \n        header[0] = 'B';\n        header[1] = 'M';\n        ByteBuffer.wrap(header, 2, 4).putInt(fileSize);\n        ByteBuffer.wrap(header, 10, 4).putInt(dataBegin);\n        ByteBuffer.wrap(header, 14, 4).putInt(headSize);\n        ByteBuffer.wrap(header, 18, 4).putInt(width);\n        ByteBuffer.wrap(header, 22, 4).putInt(heigth);\n        ByteBuffer.wrap(header, 26, 2).putShort(layers);\n        ByteBuffer.wrap(header, 28, 2).putShort(pixelSize);\n        ByteBuffer.wrap(header, 30, 4).putInt(compresion);\n        ByteBuffer.wrap(header, 34, 4).putInt(imageSize);\n        ByteBuffer.wrap(header, 38, 4).putInt(horizontalResolution);\n        ByteBuffer.wrap(header, 42, 4).putInt(verticalResolution);\n        ByteBuffer.wrap(header, 46, 4).putInt(colorTableSize);\n        ByteBuffer.wrap(header, 50, 4).putInt(countMainColor);\n        \n        return header;\n    }\n\n    private byte[] createImage() {\n        byte[] image = new byte[this.imageSize];\n        for (int i = 0; i &lt; image.length; i += 3) {\n            image[i] = 0;\n            image[i + 1] = 0;\n            image[i + 2] = (byte) 0;\n        }\n        return image;\n    }\n    \n</code></pre>\n<p>When I look at the image properties I notice that the image size is fine, but the rest for some reason fails.</p>\n<p>As I said before, the idea is to create a black image, and then modify the createImage method to set other colors, but the image is corrupted.</p>\n"},{"tags":["java","swing","textures","rounding","raycasting"],"owner":{"account_id":26451193,"reputation":21,"user_id":20094401,"display_name":"ambolakabloa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693297708,"creation_date":1693297145,"question_id":76998515,"body_markdown":" I am trying to implement a raycasting algorithm in Java to render a 3D scene using 2D textures. I followed the tutorial from [here](https://github.com/vinibiavatti1/RayCastingTutorial/wiki/) and modified the code to suit my needs. However, when I run the program, the texture appears jagged and distorted, as shown in the screenshot[![image 1](https://i.stack.imgur.com/9xRoT.png)](https://i.stack.imgur.com/9xRoT.png).\r\n\r\nHere is the code that I use for raycasting and drawing the pixel columns:\r\n\r\n``` \r\nvoid rayCasting() { double rayAngle = player.viewAng - player.hFOV; for (int i = 0; i &lt; projector.pW; i++, rayAngle += player.incrementAngle) { double dx = Math.cos(Math.toRadians(rayAngle)) / precision, dy = Math.sin(Math.toRadians(rayAngle)) / precision; double rayX = player.x, rayY = player.y; do { rayX += dx; rayY += dy; } while (map[(int) rayY][(int) rayX] != 1); double distance = Math.sqrt(Math.pow(player.x - rayX, 2) + Math.pow(player.y - rayY, 2)); distance *= Math.cos(Math.toRadians(player.viewAng - rayAngle)); int wallHeight = (int) (projector.hpH / distance); Texture text = textures.get(1); int texturePosX = (int) (text.tW * (rayX + rayY) % text.tW); int[] floor = new int[] { i, projector.hpH + wallHeight, i, projector.pH }; int[] ceiling = new int[] { i, 0, i, projector.hpH - wallHeight }; pixelColumns[i].setVariables(i, wallHeight, texturePosX, floor, ceiling); pixelColumns[i].getTextureStrip(text); } repaint(); }class PixelColumn { int x, y, wallHeight, texturePosX; int[] floor = null, ceiling = null; int[][] strips = null; Color[] colors = null;\r\n\r\n\tpublic void setVariables(int x, int wallHeight, int texturePosX, int[] floor, int[] ceiling) {\r\n\t\tthis.x = x;\r\n\t\tthis.wallHeight = wallHeight;\r\n\t\tthis.texturePosX = texturePosX;\r\n\t\tthis.floor = floor;\r\n\t\tthis.ceiling = ceiling;\r\n\t}\r\n\r\n\tvoid getTextureStrip(Texture texture) {\r\n\t\tint yInc = wallHeight * 2 / texture.tH;\r\n\t\ty = projector.hpH - wallHeight;\r\n\t\tcolors = new Color[texture.tH];\r\n\t\tstrips = new int[texture.tH][4];\r\n\t\tfor (int i = 0; i &lt; texture.tH; i++, y += yInc) {\r\n\t\t\tcolors[i] = texture.colors[texture.bitmap[i][texturePosX]];\r\n\t\t\tstrips[i] = new int[] { x, y, x, y + yInc };\r\n\t\t}\r\n\t\tint gapFiller = Math.abs((projector.hpH - wallHeight) - y);\r\n\t\tstrips[texture.tH - 1][3] += gapFiller;\r\n\t}\r\n\r\n\tvoid drawPixelColumn(Graphics g2d) {\r\n\t\tg2d.setColor(Color.black);\r\n\t\tg2d.fillRect(ceiling[0], ceiling[1], 1, ceiling[3] - ceiling[1]);\r\n\t\tint n = strips.length;\r\n\t\tfor (int j = 0; j &lt; n; j++) {\r\n\t\t\tg2d.setColor(colors[j]);\r\n\t\t\tg2d.fillRect(strips[j][0], strips[j][1], 1, strips[j][3] - strips[j][1]);\r\n\t\t}\r\n\t\tg2d.setColor(Color.green);\r\n\t\tg2d.fillRect(floor[0], floor[1], 1, floor[3] - floor[1]);\r\n\t}\r\n}\r\n```\r\nin paintComponent I loop over all the PixelColumn objects and pass the Graphics2D object to a PixelColumn&#39;s drawPixelColumn method, also I want you to notice gapFiller in drawPixelColumn, before adding it to the final part of the texture strip, I found out there were gaps between the texture strips and floor as shown here, [![image 2](https://i.stack.imgur.com/4UCaH.png)](https://i.stack.imgur.com/4UCaH.png)\r\nso a cheap way to solve this was to add the gap to the final part of the texture strip but that doesn&#39;t deny the fact I am doing something wrong, even though before I added textures I was getting smooth walls like this, [![image 3](https://i.stack.imgur.com/RkwFw.png)](https://i.stack.imgur.com/RkwFw.png)\r\nAgain any help would be appreciated and I apologize for my poor english.","title":"How to fix jagged texture in raycasting algorithm in Java?","body":"<p>I am trying to implement a raycasting algorithm in Java to render a 3D scene using 2D textures. I followed the tutorial from <a href=\"https://github.com/vinibiavatti1/RayCastingTutorial/wiki/\" rel=\"nofollow noreferrer\">here</a> and modified the code to suit my needs. However, when I run the program, the texture appears jagged and distorted, as shown in the screenshot<a href=\"https://i.stack.imgur.com/9xRoT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9xRoT.png\" alt=\"image 1\" /></a>.</p>\n<p>Here is the code that I use for raycasting and drawing the pixel columns:</p>\n<pre><code>void rayCasting() { double rayAngle = player.viewAng - player.hFOV; for (int i = 0; i &lt; projector.pW; i++, rayAngle += player.incrementAngle) { double dx = Math.cos(Math.toRadians(rayAngle)) / precision, dy = Math.sin(Math.toRadians(rayAngle)) / precision; double rayX = player.x, rayY = player.y; do { rayX += dx; rayY += dy; } while (map[(int) rayY][(int) rayX] != 1); double distance = Math.sqrt(Math.pow(player.x - rayX, 2) + Math.pow(player.y - rayY, 2)); distance *= Math.cos(Math.toRadians(player.viewAng - rayAngle)); int wallHeight = (int) (projector.hpH / distance); Texture text = textures.get(1); int texturePosX = (int) (text.tW * (rayX + rayY) % text.tW); int[] floor = new int[] { i, projector.hpH + wallHeight, i, projector.pH }; int[] ceiling = new int[] { i, 0, i, projector.hpH - wallHeight }; pixelColumns[i].setVariables(i, wallHeight, texturePosX, floor, ceiling); pixelColumns[i].getTextureStrip(text); } repaint(); }class PixelColumn { int x, y, wallHeight, texturePosX; int[] floor = null, ceiling = null; int[][] strips = null; Color[] colors = null;\n\n    public void setVariables(int x, int wallHeight, int texturePosX, int[] floor, int[] ceiling) {\n        this.x = x;\n        this.wallHeight = wallHeight;\n        this.texturePosX = texturePosX;\n        this.floor = floor;\n        this.ceiling = ceiling;\n    }\n\n    void getTextureStrip(Texture texture) {\n        int yInc = wallHeight * 2 / texture.tH;\n        y = projector.hpH - wallHeight;\n        colors = new Color[texture.tH];\n        strips = new int[texture.tH][4];\n        for (int i = 0; i &lt; texture.tH; i++, y += yInc) {\n            colors[i] = texture.colors[texture.bitmap[i][texturePosX]];\n            strips[i] = new int[] { x, y, x, y + yInc };\n        }\n        int gapFiller = Math.abs((projector.hpH - wallHeight) - y);\n        strips[texture.tH - 1][3] += gapFiller;\n    }\n\n    void drawPixelColumn(Graphics g2d) {\n        g2d.setColor(Color.black);\n        g2d.fillRect(ceiling[0], ceiling[1], 1, ceiling[3] - ceiling[1]);\n        int n = strips.length;\n        for (int j = 0; j &lt; n; j++) {\n            g2d.setColor(colors[j]);\n            g2d.fillRect(strips[j][0], strips[j][1], 1, strips[j][3] - strips[j][1]);\n        }\n        g2d.setColor(Color.green);\n        g2d.fillRect(floor[0], floor[1], 1, floor[3] - floor[1]);\n    }\n}\n</code></pre>\n<p>in paintComponent I loop over all the PixelColumn objects and pass the Graphics2D object to a PixelColumn's drawPixelColumn method, also I want you to notice gapFiller in drawPixelColumn, before adding it to the final part of the texture strip, I found out there were gaps between the texture strips and floor as shown here, <a href=\"https://i.stack.imgur.com/4UCaH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4UCaH.png\" alt=\"image 2\" /></a>\nso a cheap way to solve this was to add the gap to the final part of the texture strip but that doesn't deny the fact I am doing something wrong, even though before I added textures I was getting smooth walls like this, <a href=\"https://i.stack.imgur.com/RkwFw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RkwFw.png\" alt=\"image 3\" /></a>\nAgain any help would be appreciated and I apologize for my poor english.</p>\n"},{"tags":["java","listview","javafx","loading","saving-data"],"answers":[{"tags":[],"owner":{"account_id":5211089,"reputation":2867,"user_id":4167500,"display_name":"JKostikiadis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1505739379,"creation_date":1505739379,"answer_id":46279855,"question_id":46279684,"body_markdown":"Giving it a good look I believe the problem is that the &#39;home&#39; controller ( which name should start with capital letter ) is null. In order to access your controller you need to do something like this :\r\n\r\n    FXMLLoader loader = new FXMLLoader(this.getClass().getResource(&quot;/fxml/home.fxml&quot;));\r\n    \t\t\r\n    Parent root = loader.load();\r\n    controller = loader.getController();","title":"Error Saving &amp; Loading Items from a ListView in javaFX 8","body":"<p>Giving it a good look I believe the problem is that the 'home' controller ( which name should start with capital letter ) is null. In order to access your controller you need to do something like this :</p>\n\n<pre><code>FXMLLoader loader = new FXMLLoader(this.getClass().getResource(\"/fxml/home.fxml\"));\n\nParent root = loader.load();\ncontroller = loader.getController();\n</code></pre>\n"}],"owner":{"account_id":8917332,"reputation":1087,"user_id":6655405,"accept_rate":50,"display_name":"Stelios Papamichail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":723,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1505739935,"accepted_answer_id":46279855,"answer_count":1,"score":0,"last_activity_date":1693297395,"creation_date":1505738895,"question_id":46279684,"body_markdown":"I have a listView inside which i&#39;m displaying an item of type Card.After closing the application I want to extract those Card objects and save them to a .txt file.However, it seems like the List&lt;Card&gt; testingList and ListPropeprty&lt;Card&gt; listProperty are empty and this is-from what I understand- the reason why I get a NullPointerException.I&#39;ve tried figuring this whole error thing out but I am overwhelmed.Hopefully someone here can help me:\r\n\r\nHere is my Card.java:\r\n\r\n    package com.spdesigns.dokkancardspreview.model;\r\n\r\n    import javafx.scene.image.Image;\r\n\r\n    public class Card {\r\n\r\n    private String mName;\r\n    private String mDescription;\r\n    private Image mMainImage;\r\n    private Image mSecondaryImage;\r\n    private String mMainImagePath;\r\n    private String mSecondaryImagePath;\r\n\r\n    public Card(String name, String description, Image mainImage, Image secondaryImage) {\r\n        mName = name;\r\n        mDescription = description;\r\n        mMainImage = mainImage;\r\n        mSecondaryImage = secondaryImage;\r\n    }\r\n\r\n    public Card(String name, String description , String mainImagePath, String secondaryImagePath) {\r\n        new Card(name,description,new Image(mainImagePath),new Image(secondaryImagePath));\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return mName + &quot; | &quot; + mDescription;\r\n    }\r\n\r\n    public Image getmMainImage() {\r\n        return mMainImage;\r\n    }\r\n\r\n    public Image getmSecondaryImage() {\r\n        return mSecondaryImage;\r\n    }\r\n\r\n    public String getName() {\r\n        return mName;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return mDescription;\r\n    }\r\n}\r\n\r\n\r\nHere is my home.java(controller):\r\n\r\n    package com.spdesigns.dokkancardspreview.controllers;\r\n\r\n    import com.spdesigns.dokkancardspreview.model.Card;\r\n\r\n    import javafx.beans.property.ListProperty;\r\n    import javafx.beans.property.SimpleListProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n\r\n    import java.io.*;\r\n    import java.util.List;\r\n    import java.net.URL;\r\n    import java.util.ArrayList;\r\n    import java.util.ResourceBundle;\r\n\r\n    public class home implements Initializable {\r\n\r\n    private Card hit = new Card(&quot;Hit&quot;,&quot;Expanding Possibility&quot;,\r\n            new Image(&quot;/images/hit_main.jpg&quot;) , new Image(&quot;/images/hit_secondary.jpg&quot;));\r\n\r\n    private boolean clickedAgain = false;\r\n\r\n    @FXML\r\n    private Button arrowButton;\r\n    @FXML\r\n    private ImageView imageView;\r\n\r\n    @FXML\r\n    private ImageView arrow;\r\n\r\n    @FXML\r\n    private ListView listView;\r\n\r\n    protected List&lt;Card&gt; testingList = new ArrayList&lt;Card&gt;();\r\n\r\n        protected ListProperty&lt;Card&gt; listProperty = new SimpleListProperty&lt;Card&gt;();\r\n\r\n\r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        addCard(hit);\r\n        //testingList.add(&quot;test2&quot;);\r\n\r\n        listView.itemsProperty().bind(listProperty);\r\n        // wrapping our list in an observable list and then pass that observableList to the ListProperty isntance\r\n        listProperty.set(FXCollections.observableArrayList(testingList));\r\n\r\n        // Handle listView selection changes\r\n        listView.getSelectionModel().selectedItemProperty().addListener(((observable, oldValue, newValue) -&gt; {\r\n            System.out.println(&quot;ListView item clicked!&quot;);\r\n            imageView.setImage(new Image(hit.getmMainImage().impl_getUrl()));\r\n            arrow.setVisible(true);\r\n            arrowButton.setVisible(true);\r\n        }));\r\n\r\n        arrow.translateYProperty().set(283f);\r\n        arrowButton.translateYProperty().set(283f);\r\n        arrow.setRotate(180);\r\n        arrow.setVisible(false);\r\n        arrowButton.setVisible(false);\r\n    }\r\n\r\n    public void handleShowDetails(ActionEvent actionEvent) {\r\n        System.out.println(&quot;Button Clicked!&quot;);\r\n        if(clickedAgain) {\r\n            imageView.setImage(new Image(hit.getmMainImage().impl_getUrl()));\r\n            arrow.setRotate(180);\r\n            clickedAgain = false;\r\n        } else {\r\n            imageView.setImage(new Image(hit.getmSecondaryImage().impl_getUrl()));\r\n            arrow.setRotate(360);\r\n            clickedAgain = true;\r\n        }\r\n    }\r\n\r\n    // Saving\r\n    public void exportTo(String fileName) {\r\n        try(\r\n                FileOutputStream fos = new FileOutputStream(fileName);\r\n                PrintWriter writer = new PrintWriter(fos);\r\n        ){\r\n            for(Card card : testingList) {\r\n                writer.printf(&quot;%s|%s|%s|%s/n&quot;,card.getName(),card.getDescription(),\r\n                        card.getmMainImage().impl_getUrl(),card.getmSecondaryImage().impl_getUrl());\r\n            }\r\n        } catch (IOException ioe) { // If the file couldn&#39;t be opened\r\n            System.out.printf(&quot;Problem saving: %s/n&quot;, fileName);\r\n            ioe.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // Loading\r\n    public void importFrom(String fileName) {\r\n        try(\r\n                FileInputStream fis = new FileInputStream(fileName);\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(fis));\r\n        ){\r\n            String line;\r\n            while((line = reader.readLine()) != null) {\r\n                String[] args = line.split(&quot;\\\\|&quot;);\r\n                this.addCard(new Card(args[0],args[1],args[2],args[3]));\r\n            }\r\n        } catch (IOException ioe) {\r\n            System.out.printf(&quot;Problem loading: %S/n&quot; , fileName);\r\n            ioe.printStackTrace();\r\n        }\r\n        System.out.printf(&quot;%s loaded&quot;,testingList.get(0).toString());\r\n    }\r\n\r\n    public void addCard(Card card) {\r\n        testingList.add(card);\r\n    }\r\n\r\n    public void printTestingList() {\r\n        for (Card card : testingList) {\r\n            System.out.println(card.toString());\r\n        }\r\n    }\r\n}\r\n\r\n\r\nMy Main.java:\r\n\r\n    package com.spdesigns.dokkancardspreview;\r\n\r\n    import com.spdesigns.dokkancardspreview.controllers.home;\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n\r\n    import java.io.File;\r\n\r\n    public class Main extends Application {\r\n\r\n    private home controller;\r\n    private File file = new File(&quot;CardsCollection.txt&quot;);\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception{\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/fxml/home.fxml&quot;));\r\n        primaryStage.setTitle(&quot;Dokkan Battle Card Preview&quot;);\r\n        primaryStage.setScene(new Scene(root, 900, 700));\r\n        primaryStage.setResizable(false);\r\n        // Loading cards\r\n        primaryStage.show();\r\n        try {\r\n            if(!file.exists()) {\r\n                file.createNewFile();\r\n            }\r\n            controller.importFrom(&quot;CardsCollection.txt&quot;);\r\n        } catch (NullPointerException npe) {\r\n            System.out.println(&quot;Error loading file!&quot;);\r\n            npe.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        System.out.println(&quot;App is closing!&quot;);\r\n        // Saving before exiting\r\n        try {\r\n            controller.exportTo(&quot;CardsCollection.txt&quot;);\r\n        } catch (NullPointerException npe) {\r\n            System.out.println(&quot;Problem saving file!&quot;);\r\n            npe.printStackTrace();\r\n        }\r\n        controller.printTestingList();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n    }\r\n\r\nPS: I&#39;ve also tried writing to the file manually but that didn&#39;t work either!\r\n","title":"Error Saving &amp; Loading Items from a ListView in javaFX 8","body":"<p>I have a listView inside which i'm displaying an item of type Card.After closing the application I want to extract those Card objects and save them to a .txt file.However, it seems like the List testingList and ListPropeprty listProperty are empty and this is-from what I understand- the reason why I get a NullPointerException.I've tried figuring this whole error thing out but I am overwhelmed.Hopefully someone here can help me:</p>\n<p>Here is my Card.java:</p>\n<pre><code>package com.spdesigns.dokkancardspreview.model;\n\nimport javafx.scene.image.Image;\n\npublic class Card {\n\nprivate String mName;\nprivate String mDescription;\nprivate Image mMainImage;\nprivate Image mSecondaryImage;\nprivate String mMainImagePath;\nprivate String mSecondaryImagePath;\n\npublic Card(String name, String description, Image mainImage, Image secondaryImage) {\n    mName = name;\n    mDescription = description;\n    mMainImage = mainImage;\n    mSecondaryImage = secondaryImage;\n}\n\npublic Card(String name, String description , String mainImagePath, String secondaryImagePath) {\n    new Card(name,description,new Image(mainImagePath),new Image(secondaryImagePath));\n}\n\n@Override\npublic String toString() {\n    return mName + &quot; | &quot; + mDescription;\n}\n\npublic Image getmMainImage() {\n    return mMainImage;\n}\n\npublic Image getmSecondaryImage() {\n    return mSecondaryImage;\n}\n\npublic String getName() {\n    return mName;\n}\n\npublic String getDescription() {\n    return mDescription;\n}\n</code></pre>\n<p>}</p>\n<p>Here is my home.java(controller):</p>\n<pre><code>package com.spdesigns.dokkancardspreview.controllers;\n\nimport com.spdesigns.dokkancardspreview.model.Card;\n\nimport javafx.beans.property.ListProperty;\nimport javafx.beans.property.SimpleListProperty;\nimport javafx.collections.FXCollections;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ListView;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\n\nimport java.io.*;\nimport java.util.List;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.ResourceBundle;\n\npublic class home implements Initializable {\n\nprivate Card hit = new Card(&quot;Hit&quot;,&quot;Expanding Possibility&quot;,\n        new Image(&quot;/images/hit_main.jpg&quot;) , new Image(&quot;/images/hit_secondary.jpg&quot;));\n\nprivate boolean clickedAgain = false;\n\n@FXML\nprivate Button arrowButton;\n@FXML\nprivate ImageView imageView;\n\n@FXML\nprivate ImageView arrow;\n\n@FXML\nprivate ListView listView;\n\nprotected List&lt;Card&gt; testingList = new ArrayList&lt;Card&gt;();\n\n    protected ListProperty&lt;Card&gt; listProperty = new SimpleListProperty&lt;Card&gt;();\n\n\n@Override\npublic void initialize(URL location, ResourceBundle resources) {\n    addCard(hit);\n    //testingList.add(&quot;test2&quot;);\n\n    listView.itemsProperty().bind(listProperty);\n    // wrapping our list in an observable list and then pass that observableList to the ListProperty isntance\n    listProperty.set(FXCollections.observableArrayList(testingList));\n\n    // Handle listView selection changes\n    listView.getSelectionModel().selectedItemProperty().addListener(((observable, oldValue, newValue) -&gt; {\n        System.out.println(&quot;ListView item clicked!&quot;);\n        imageView.setImage(new Image(hit.getmMainImage().impl_getUrl()));\n        arrow.setVisible(true);\n        arrowButton.setVisible(true);\n    }));\n\n    arrow.translateYProperty().set(283f);\n    arrowButton.translateYProperty().set(283f);\n    arrow.setRotate(180);\n    arrow.setVisible(false);\n    arrowButton.setVisible(false);\n}\n\npublic void handleShowDetails(ActionEvent actionEvent) {\n    System.out.println(&quot;Button Clicked!&quot;);\n    if(clickedAgain) {\n        imageView.setImage(new Image(hit.getmMainImage().impl_getUrl()));\n        arrow.setRotate(180);\n        clickedAgain = false;\n    } else {\n        imageView.setImage(new Image(hit.getmSecondaryImage().impl_getUrl()));\n        arrow.setRotate(360);\n        clickedAgain = true;\n    }\n}\n\n// Saving\npublic void exportTo(String fileName) {\n    try(\n            FileOutputStream fos = new FileOutputStream(fileName);\n            PrintWriter writer = new PrintWriter(fos);\n    ){\n        for(Card card : testingList) {\n            writer.printf(&quot;%s|%s|%s|%s/n&quot;,card.getName(),card.getDescription(),\n                    card.getmMainImage().impl_getUrl(),card.getmSecondaryImage().impl_getUrl());\n        }\n    } catch (IOException ioe) { // If the file couldn't be opened\n        System.out.printf(&quot;Problem saving: %s/n&quot;, fileName);\n        ioe.printStackTrace();\n    }\n}\n\n// Loading\npublic void importFrom(String fileName) {\n    try(\n            FileInputStream fis = new FileInputStream(fileName);\n            BufferedReader reader = new BufferedReader(new InputStreamReader(fis));\n    ){\n        String line;\n        while((line = reader.readLine()) != null) {\n            String[] args = line.split(&quot;\\\\|&quot;);\n            this.addCard(new Card(args[0],args[1],args[2],args[3]));\n        }\n    } catch (IOException ioe) {\n        System.out.printf(&quot;Problem loading: %S/n&quot; , fileName);\n        ioe.printStackTrace();\n    }\n    System.out.printf(&quot;%s loaded&quot;,testingList.get(0).toString());\n}\n\npublic void addCard(Card card) {\n    testingList.add(card);\n}\n\npublic void printTestingList() {\n    for (Card card : testingList) {\n        System.out.println(card.toString());\n    }\n}\n</code></pre>\n<p>}</p>\n<p>My Main.java:</p>\n<pre><code>package com.spdesigns.dokkancardspreview;\n\nimport com.spdesigns.dokkancardspreview.controllers.home;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.File;\n\npublic class Main extends Application {\n\nprivate home controller;\nprivate File file = new File(&quot;CardsCollection.txt&quot;);\n\n@Override\npublic void start(Stage primaryStage) throws Exception{\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;/fxml/home.fxml&quot;));\n    primaryStage.setTitle(&quot;Dokkan Battle Card Preview&quot;);\n    primaryStage.setScene(new Scene(root, 900, 700));\n    primaryStage.setResizable(false);\n    // Loading cards\n    primaryStage.show();\n    try {\n        if(!file.exists()) {\n            file.createNewFile();\n        }\n        controller.importFrom(&quot;CardsCollection.txt&quot;);\n    } catch (NullPointerException npe) {\n        System.out.println(&quot;Error loading file!&quot;);\n        npe.printStackTrace();\n    }\n}\n\n@Override\npublic void stop() {\n    System.out.println(&quot;App is closing!&quot;);\n    // Saving before exiting\n    try {\n        controller.exportTo(&quot;CardsCollection.txt&quot;);\n    } catch (NullPointerException npe) {\n        System.out.println(&quot;Problem saving file!&quot;);\n        npe.printStackTrace();\n    }\n    controller.printTestingList();\n}\n\npublic static void main(String[] args) {\n    launch(args);\n}\n}\n</code></pre>\n<p>PS: I've also tried writing to the file manually but that didn't work either!</p>\n"},{"tags":["java","maven","cucumber","pom.xml","bdd"],"answers":[{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693297220,"creation_date":1693297220,"answer_id":76998523,"question_id":76997302,"body_markdown":" To get the name of the currently executing feature file in a Cucumber-Java test, one common approach is to use a `Before` hook and extract details from the `Scenario` object that&#39;s provided to the hook method.\r\n\r\nThe example below demonstrates how you can get the feature file name and tags:       \r\n    \r\n    import cucumber.api.Scenario;\r\n        import cucumber.api.java.Before;\r\n        \r\n        public class Hooks {\r\n        \r\n            @Before\r\n            public void beforeScenario(Scenario scenario) {\r\n                String featureName = &quot;Feature &quot;;\r\n                String rawFeatureName = scenario.getId().split(&quot;;&quot;)[0].replace(&quot;-&quot;,&quot; &quot;);\r\n                featureName = featureName + rawFeatureName.substring(0, 1).toUpperCase() + rawFeatureName.substring(1);\r\n                \r\n                // print the feature name\r\n                System.out.println(&quot;Feature Name: &quot; + featureName);\r\n        \r\n                // print scenario&#39;s tags\r\n                for (String tag : scenario.getSourceTagNames()) {\r\n                    System.out.println(&quot;Tag: &quot; + tag);\r\n                }\r\n            }\r\n        }\r\n\r\nA few notes:\r\n\r\n- scenario.getId() returns a string that contains the feature file&#39;s path and name. Splitting this string by &quot;;&quot; gives an array, where the first element is a &quot;slugified&quot; version of the feature name.\r\nWe then manipulate the slugified feature name to transform it back into a more readable feature name.\r\n\r\n- scenario.getSourceTagNames() returns a set of tags for the scenario.\r\nThis approach works for many older versions of Cucumber, especially if you&#39;re on Java 8. But remember that the exact methods available and their behaviors can vary depending on the specific version of the Cucumber library you are using.\r\n","title":"How to get current feature file name running in java8 and older dependencies?","body":"<p>To get the name of the currently executing feature file in a Cucumber-Java test, one common approach is to use a <code>Before</code> hook and extract details from the <code>Scenario</code> object that's provided to the hook method.</p>\n<p>The example below demonstrates how you can get the feature file name and tags:</p>\n<pre><code>import cucumber.api.Scenario;\n    import cucumber.api.java.Before;\n    \n    public class Hooks {\n    \n        @Before\n        public void beforeScenario(Scenario scenario) {\n            String featureName = &quot;Feature &quot;;\n            String rawFeatureName = scenario.getId().split(&quot;;&quot;)[0].replace(&quot;-&quot;,&quot; &quot;);\n            featureName = featureName + rawFeatureName.substring(0, 1).toUpperCase() + rawFeatureName.substring(1);\n            \n            // print the feature name\n            System.out.println(&quot;Feature Name: &quot; + featureName);\n    \n            // print scenario's tags\n            for (String tag : scenario.getSourceTagNames()) {\n                System.out.println(&quot;Tag: &quot; + tag);\n            }\n        }\n    }\n</code></pre>\n<p>A few notes:</p>\n<ul>\n<li><p>scenario.getId() returns a string that contains the feature file's path and name. Splitting this string by &quot;;&quot; gives an array, where the first element is a &quot;slugified&quot; version of the feature name.\nWe then manipulate the slugified feature name to transform it back into a more readable feature name.</p>\n</li>\n<li><p>scenario.getSourceTagNames() returns a set of tags for the scenario.\nThis approach works for many older versions of Cucumber, especially if you're on Java 8. But remember that the exact methods available and their behaviors can vary depending on the specific version of the Cucumber library you are using.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":29318772,"reputation":11,"user_id":22462844,"display_name":"Krittika Agrawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693297220,"creation_date":1693283278,"question_id":76997302,"body_markdown":"How to get current feature file name running in java using DriverFactory class or runner file for older dependencies version and java 8?\r\n\r\nI tried using Feature Scenario but it didn&#39;t work for me. Is there any way we can fetch the current name of feature file or maybe tags dynamically while running?","title":"How to get current feature file name running in java8 and older dependencies?","body":"<p>How to get current feature file name running in java using DriverFactory class or runner file for older dependencies version and java 8?</p>\n<p>I tried using Feature Scenario but it didn't work for me. Is there any way we can fetch the current name of feature file or maybe tags dynamically while running?</p>\n"},{"tags":["java","google-drive-api"],"owner":{"account_id":4087594,"reputation":31,"user_id":3356512,"display_name":"LouM&#233;ou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693297094,"creation_date":1693297094,"question_id":76998509,"body_markdown":"I am facing the following issue when downloaded file from a personal drive.\r\n\r\nI download - using *java google drive API v3* - a file from a drive I am connected to (still using APIs). I have followed provided samples from [official documentation](https://developers.google.com/drive/api/quickstart/java).\r\n\r\nThe code to download file is\r\n\r\n```\r\ntry(OutputStream os = Files.newOutputStream(res)) {\r\n  drive.files().get(fileId).executeMediaAndDownloadTo(os);\r\n}\r\n```\r\n\r\n\r\nIssue is related to the downloaded file content.\r\n\r\nIndeed, most of the time, its content is not the latest version (but a previous one).\r\n\r\nI don&#39;t understand the behavior yet, but I noticed this :\r\n- I upload a *docx* file to my drive\r\n- I modify it (adding text, changing styles, ...)\r\n- I wait for *google drive page/tab* statut *document has been saved* (**checked cloud** icon)\r\n- I launch my java program to download the file.\r\n--&gt; I&#39;ve got the original file.\r\n- I close google drive tab (in which document was modified) and relauch my program\r\n--&gt; downloaded document is the good one (holding changes). \r\n\r\n\r\nIs there anything wrong in my process ?\r\n- some cache issue ?\r\n- can we check file statut through google APIs ?\r\n- ...\r\n\r\nI will appreciate any help, thank you \r\nNicolas","title":"Google drive API (java) : Downloaded file is not the latest version","body":"<p>I am facing the following issue when downloaded file from a personal drive.</p>\n<p>I download - using <em>java google drive API v3</em> - a file from a drive I am connected to (still using APIs). I have followed provided samples from <a href=\"https://developers.google.com/drive/api/quickstart/java\" rel=\"nofollow noreferrer\">official documentation</a>.</p>\n<p>The code to download file is</p>\n<pre><code>try(OutputStream os = Files.newOutputStream(res)) {\n  drive.files().get(fileId).executeMediaAndDownloadTo(os);\n}\n</code></pre>\n<p>Issue is related to the downloaded file content.</p>\n<p>Indeed, most of the time, its content is not the latest version (but a previous one).</p>\n<p>I don't understand the behavior yet, but I noticed this :</p>\n<ul>\n<li>I upload a <em>docx</em> file to my drive</li>\n<li>I modify it (adding text, changing styles, ...)</li>\n<li>I wait for <em>google drive page/tab</em> statut <em>document has been saved</em> (<strong>checked cloud</strong> icon)</li>\n<li>I launch my java program to download the file.\n--&gt; I've got the original file.</li>\n<li>I close google drive tab (in which document was modified) and relauch my program\n--&gt; downloaded document is the good one (holding changes).</li>\n</ul>\n<p>Is there anything wrong in my process ?</p>\n<ul>\n<li>some cache issue ?</li>\n<li>can we check file statut through google APIs ?</li>\n<li>...</li>\n</ul>\n<p>I will appreciate any help, thank you\nNicolas</p>\n"},{"tags":["java","archunit"],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693296719,"creation_date":1693296719,"answer_id":76998464,"question_id":76994729,"body_markdown":"ArchUnit supports the concept of [meta-annoations](https://www.javadoc.io/static/com.tngtech.archunit/archunit/1.1.0/com/tngtech/archunit/lang/syntax/elements/ClassesShould.html#beMetaAnnotatedWith(java.lang.Class)), i.e. annotations declared on other annotations. As this includes direct annotations, you need to exclude those explicitly if you don&#39;t want `@interface Custom` to be considered a violation:\r\n```java\r\n    ArchRule rule =\r\n        noClasses()\r\n            .that().areNotAnnotatedWith(Qualifier.class)\r\n            .should().beMetaAnnotatedWith(Qualifier.class);\r\n```","title":"Is there a way to enforce a restrict a class to not have an annotation of a class that is annotated by a Qualifier Annotation using ArchUnit?","body":"<p>ArchUnit supports the concept of <a href=\"https://www.javadoc.io/static/com.tngtech.archunit/archunit/1.1.0/com/tngtech/archunit/lang/syntax/elements/ClassesShould.html#beMetaAnnotatedWith(java.lang.Class)\" rel=\"nofollow noreferrer\">meta-annoations</a>, i.e. annotations declared on other annotations. As this includes direct annotations, you need to exclude those explicitly if you don't want <code>@interface Custom</code> to be considered a violation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ArchRule rule =\n        noClasses()\n            .that().areNotAnnotatedWith(Qualifier.class)\n            .should().beMetaAnnotatedWith(Qualifier.class);\n</code></pre>\n"}],"owner":{"account_id":19049159,"reputation":121,"user_id":13907719,"display_name":"Codinggeek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693296719,"creation_date":1693242189,"question_id":76994729,"body_markdown":"Want to enforce a restriction on a class to not have an annotation of a class that is annotated by a Qualifier Annotation using ArchUnit \r\nBelow are my classes\r\n\r\n```\r\n@javax.inject.Qualifier\r\n@Retention(RUNTIME)\r\n@Target({TYPE, METHOD, FIELD, PARAMETER})\r\nPublic @Interface Custom\r\n```\r\n\r\n```\r\n@Custom\r\nclass Test(){\r\n}\r\n\r\n```\r\nIn above classes, I have an annotation name *Custom* which is annotated with Qualifier.\r\nNow, I want to restrict the usage of *Custom* annotation to any other class (because Annotation *Custom* is annotated with *Qualifier*)\r\n\r\nUsing Java reflection I am able to restrict it. Below is the code\r\n```\r\nSet&lt;Class&lt;?&gt;&gt; qualifierClasses = Reflections.getTypesAnnotatedWith(Qualifier.class);\r\nfor (Class&lt;?&gt; qualifierclass : qualifierClasses) {\r\nSet&lt;Class&lt;?&gt;&gt; classes = Reflections.getTypesAnnotatedWith((Class&lt;? extends Annotation&gt;) qualifierclass);\r\nif (CollectionUtils.isNotEmpty(qualifiedClasses)) {\r\n      System.out.println(&quot;Code Violation found&quot;)\r\n}\r\n```\r\n\r\n\r\nbut I want to implement the same using ArchUnit\r\n\r\n","title":"Is there a way to enforce a restrict a class to not have an annotation of a class that is annotated by a Qualifier Annotation using ArchUnit?","body":"<p>Want to enforce a restriction on a class to not have an annotation of a class that is annotated by a Qualifier Annotation using ArchUnit\nBelow are my classes</p>\n<pre><code>@javax.inject.Qualifier\n@Retention(RUNTIME)\n@Target({TYPE, METHOD, FIELD, PARAMETER})\nPublic @Interface Custom\n</code></pre>\n<pre><code>@Custom\nclass Test(){\n}\n\n</code></pre>\n<p>In above classes, I have an annotation name <em>Custom</em> which is annotated with Qualifier.\nNow, I want to restrict the usage of <em>Custom</em> annotation to any other class (because Annotation <em>Custom</em> is annotated with <em>Qualifier</em>)</p>\n<p>Using Java reflection I am able to restrict it. Below is the code</p>\n<pre><code>Set&lt;Class&lt;?&gt;&gt; qualifierClasses = Reflections.getTypesAnnotatedWith(Qualifier.class);\nfor (Class&lt;?&gt; qualifierclass : qualifierClasses) {\nSet&lt;Class&lt;?&gt;&gt; classes = Reflections.getTypesAnnotatedWith((Class&lt;? extends Annotation&gt;) qualifierclass);\nif (CollectionUtils.isNotEmpty(qualifiedClasses)) {\n      System.out.println(&quot;Code Violation found&quot;)\n}\n</code></pre>\n<p>but I want to implement the same using ArchUnit</p>\n"},{"tags":["java","junit4","allure"],"answers":[{"tags":[],"owner":{"account_id":26875431,"reputation":9,"user_id":20456759,"display_name":"Dassy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693296686,"creation_date":1693296666,"answer_id":76998455,"question_id":76990981,"body_markdown":"I found the solution:\r\n `&lt;skipTests&gt;true&lt;/skipTests&gt;` need to be false,\r\nand `maven-surefire-plugin` version was not fit","title":"Allure +Junit 4 - allure-results folder is not created","body":"<p>I found the solution:\n<code>&lt;skipTests&gt;true&lt;/skipTests&gt;</code> need to be false,\nand <code>maven-surefire-plugin</code> version was not fit</p>\n"}],"owner":{"account_id":26875431,"reputation":9,"user_id":20456759,"display_name":"Dassy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693296686,"creation_date":1693209849,"question_id":76990981,"body_markdown":"I&#39;m trying to use allure with junit 4\r\nI added relevant items to pom file, but the allure-resultfolder is not created\r\nwhen I run `mvn clean test -Dtest=allurejunit4.class &amp;&amp; mvn allure:report`\r\nI get `[ERROR] Directory C:\\Users\\testing\\sanity\\target\\allure-results not found.`\r\n\r\nI added to pom :\r\nin dependecies:\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;allure-junit4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${allure.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nin plugins:\r\n```\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.12.0&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0-M9&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;skipTests&gt;true&lt;/skipTests&gt;\r\n\t\t\t\t\t&lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t&lt;argLine&gt;-javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;&lt;/argLine&gt;\r\n\t\t\t\t\t&lt;properties&gt;\r\n\t\t\t\t\t\t&lt;property&gt;\r\n\t\t\t\t\t\t\t&lt;name&gt;listener&lt;/name&gt;\t\t\r\n                     \r\n  &lt;value&gt;io.qameta.allure.junit4.AllureJunit4&lt;/value&gt;\r\n\t\t\t\t\t\t&lt;/property&gt;\r\n\t\t\t\t\t&lt;/properties&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\nafter I update maven and run `mvn clean test -Dtest=allurejunit4.class &amp;&amp; mvn allure:report`\r\nI get:\r\n```\r\n[INFO] Generate Allure report to C:\\Users\\git\\testing\\target\\site/allure-maven-plugin\r\n[ERROR] Directory C:\\Users\\git\\testing\\target\\allure-results not found.\r\n[WARNING] Allure report was skipped because there is no results directories found.\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  8.579 s\r\n[INFO] Finished at: 2023-08-28T09:13:47+03:00\r\n[INFO] ----------------------------------------------------------\r\n```\r\n","title":"Allure +Junit 4 - allure-results folder is not created","body":"<p>I'm trying to use allure with junit 4\nI added relevant items to pom file, but the allure-resultfolder is not created\nwhen I run <code>mvn clean test -Dtest=allurejunit4.class &amp;&amp; mvn allure:report</code>\nI get <code>[ERROR] Directory C:\\Users\\testing\\sanity\\target\\allure-results not found.</code></p>\n<p>I added to pom :\nin dependecies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-junit4&lt;/artifactId&gt;\n            &lt;version&gt;${allure.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>in plugins:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n                &lt;version&gt;2.12.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M9&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\n                    &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                    &lt;argLine&gt;-javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;&lt;/argLine&gt;\n                    &lt;properties&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;listener&lt;/name&gt;       \n                     \n  &lt;value&gt;io.qameta.allure.junit4.AllureJunit4&lt;/value&gt;\n                        &lt;/property&gt;\n                    &lt;/properties&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>after I update maven and run <code>mvn clean test -Dtest=allurejunit4.class &amp;&amp; mvn allure:report</code>\nI get:</p>\n<pre><code>[INFO] Generate Allure report to C:\\Users\\git\\testing\\target\\site/allure-maven-plugin\n[ERROR] Directory C:\\Users\\git\\testing\\target\\allure-results not found.\n[WARNING] Allure report was skipped because there is no results directories found.\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  8.579 s\n[INFO] Finished at: 2023-08-28T09:13:47+03:00\n[INFO] ----------------------------------------------------------\n</code></pre>\n"},{"tags":["java","spring-boot","apache-httpclient-5.x","spring-boot-3"],"owner":{"account_id":5048606,"reputation":313,"user_id":4053840,"accept_rate":11,"display_name":"Ivajlo Iliev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693296459,"creation_date":1693296459,"question_id":76998435,"body_markdown":"I am working on migrating a Spring Boot Application from Spring Boot 2.x/Java 11 to Spring Boot 3.x/Java 17.\r\nIn one of the classes I have the following code:\r\n```\r\nvar httpTransport = new ApacheHttpTransport(httpClient);\r\n```\r\nwhere HttpClient is \r\n```\r\norg.apache.hc.client5.http.classic.HttpClient\r\n```\r\ninstance, as Spring Boot 3.x supports JakartaEE 9 and 10.But the constructor of the\r\n```\r\ncom.google.api.client.http.apache.v2.ApacheHttpTransport\r\n```\r\nis expecting instance of\r\n``` \r\norg.apache.http.client.HttpClient\r\n``` \r\nSo I am wondering how to handle this issue, as I do not find this google library implemented with org.apache.hc.client5.http classes?\r\n\r\n","title":"How to handle com.google.api.client.http.apache.v2.ApacheHttpTransport usage in Spring Boot 3/java 17?","body":"<p>I am working on migrating a Spring Boot Application from Spring Boot 2.x/Java 11 to Spring Boot 3.x/Java 17.\nIn one of the classes I have the following code:</p>\n<pre><code>var httpTransport = new ApacheHttpTransport(httpClient);\n</code></pre>\n<p>where HttpClient is</p>\n<pre><code>org.apache.hc.client5.http.classic.HttpClient\n</code></pre>\n<p>instance, as Spring Boot 3.x supports JakartaEE 9 and 10.But the constructor of the</p>\n<pre><code>com.google.api.client.http.apache.v2.ApacheHttpTransport\n</code></pre>\n<p>is expecting instance of</p>\n<pre><code>org.apache.http.client.HttpClient\n</code></pre>\n<p>So I am wondering how to handle this issue, as I do not find this google library implemented with org.apache.hc.client5.http classes?</p>\n"},{"tags":["java","spring-boot","maven","pom.xml","maven-surefire-plugin"],"comments":[{"owner":{"account_id":25888334,"reputation":27,"user_id":20918292,"display_name":"Soumya"},"score":0,"creation_date":1693287155,"post_id":76997323,"comment_id":135736905,"body_markdown":"Please suggest anything needs to be changed in the pom.xml or in the configuration files","body":"Please suggest anything needs to be changed in the pom.xml or in the configuration files"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1693289289,"post_id":76997323,"comment_id":135737156,"body_markdown":"can you also provide the `pom` file ? just update the question","body":"can you also provide the <code>pom</code> file ? just update the question"},{"owner":{"account_id":4441392,"reputation":3262,"user_id":3615862,"accept_rate":100,"display_name":"ThisaruG"},"score":0,"creation_date":1693295276,"post_id":76997323,"comment_id":135738158,"body_markdown":"Seems like your tests are failing. Maybe disable the tests first and try to run again?","body":"Seems like your tests are failing. Maybe disable the tests first and try to run again?"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1693299737,"post_id":76997323,"comment_id":135739039,"body_markdown":"Normally there&#39;s some output above the `BUILD FAILURE` message that indicates why the build failed. As long as that isn&#39;t included, we cannot answer the question. Also, if the build fails due to a failing test, then we also need the relevant code for that test (the source and test code). For now I&#39;m voting to close this question as it&#39;s missing debugging details.","body":"Normally there&#39;s some output above the <code>BUILD FAILURE</code> message that indicates why the build failed. As long as that isn&#39;t included, we cannot answer the question. Also, if the build fails due to a failing test, then we also need the relevant code for that test (the source and test code). For now I&#39;m voting to close this question as it&#39;s missing debugging details."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1693324548,"post_id":76997323,"comment_id":135744339,"body_markdown":"First I would suggest to upgrade to most recent version of maven-surefire-plugin (3.1.2) https://maven.apache.org/surefire/maven-surefire-plugin/index.html","body":"First I would suggest to upgrade to most recent version of maven-surefire-plugin (3.1.2) <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/index.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/index.html</a>"}],"owner":{"account_id":25888334,"reputation":27,"user_id":20918292,"display_name":"Soumya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1693295244,"creation_date":1693283809,"question_id":76997323,"body_markdown":"I am getting the below mentioned error while I am upgrading from jdk8 to jdk17.\r\n\r\n**Output from the terminal:**\r\n\r\n```lang-shell\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time: 5.938 s\r\n[INFO] Finished at: 2023-08-29T09:35:50+05:30\r\n[INFO] Final Memory: 31M/120M\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test (default-test)   on project test1: Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test failed\r\n```\r\n\r\n**This is the output after the changes in the pom.xml:**\r\n\r\n```lang-shell\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time: 18.344 s\r\n[INFO] Finished at: 2023-08-29T09:45:45+05:30\r\n[INFO] Final Memory: 30M/114M\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M3:test (default-test) on project test1: There are test failures.\r\n```\r\n    \r\nI have tried changing the version of maven-surefire-plugins i.e, version changed from 2.19.1 to 3.0.0-M3\r\n\r\n    ","title":"I am unable to solve the maven build errors","body":"<p>I am getting the below mentioned error while I am upgrading from jdk8 to jdk17.</p>\n<p><strong>Output from the terminal:</strong></p>\n<pre class=\"lang-shell prettyprint-override\"><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 5.938 s\n[INFO] Finished at: 2023-08-29T09:35:50+05:30\n[INFO] Final Memory: 31M/120M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test (default-test)   on project test1: Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test failed\n</code></pre>\n<p><strong>This is the output after the changes in the pom.xml:</strong></p>\n<pre class=\"lang-shell prettyprint-override\"><code>[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 18.344 s\n[INFO] Finished at: 2023-08-29T09:45:45+05:30\n[INFO] Final Memory: 30M/114M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M3:test (default-test) on project test1: There are test failures.\n</code></pre>\n<p>I have tried changing the version of maven-surefire-plugins i.e, version changed from 2.19.1 to 3.0.0-M3</p>\n"},{"tags":["java","keycloak"],"answers":[{"tags":[],"owner":{"account_id":2012150,"reputation":339,"user_id":1800344,"display_name":"gna"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653039113,"creation_date":1653039113,"answer_id":72316655,"question_id":72316313,"body_markdown":"You mention you have java version 17 installed, but it appears there is also a java version 8 installed on your machine (class file version 52.0)\r\n\r\nFollowing the link you provided, that keycloak version requires at least java version 11 (class file version 55.0)\r\n\r\nTo set the proper java version on windows, set your JAVA_HOME environment variable to the full path of your required java version, ex: &#39;C:\\Program Files\\java\\jre-17.0.3.1&#39; (change this to the path on your system).\r\n\r\nAlso edit your PATH variable and add the &#39;%JAVA_HOME%\\bin&#39; folder to it. Make sure there is only one java version in your PATH variable.\r\n\r\nVerify which version is enabled in a CMD prompt by typing (open a new prompt after you make changes to your variables):\r\n\r\n&gt; java --version\r\n\r\nSee details related to which class file version is related to which java version: [java version vs class file version][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.1-200-B.2","title":"Keycloak 18.0.0 Installation - Java error","body":"<p>You mention you have java version 17 installed, but it appears there is also a java version 8 installed on your machine (class file version 52.0)</p>\n<p>Following the link you provided, that keycloak version requires at least java version 11 (class file version 55.0)</p>\n<p>To set the proper java version on windows, set your JAVA_HOME environment variable to the full path of your required java version, ex: 'C:\\Program Files\\java\\jre-17.0.3.1' (change this to the path on your system).</p>\n<p>Also edit your PATH variable and add the '%JAVA_HOME%\\bin' folder to it. Make sure there is only one java version in your PATH variable.</p>\n<p>Verify which version is enabled in a CMD prompt by typing (open a new prompt after you make changes to your variables):</p>\n<blockquote>\n<p>java --version</p>\n</blockquote>\n<p>See details related to which class file version is related to which java version: <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.1-200-B.2\" rel=\"nofollow noreferrer\">java version vs class file version</a></p>\n"},{"tags":[],"owner":{"account_id":15204618,"reputation":37,"user_id":10971505,"display_name":"iamgoddey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693295085,"creation_date":1693295085,"answer_id":76998286,"question_id":72316313,"body_markdown":"Check your $JAVA_HOME and see. It still references the old Java. use the \r\n`export JAVA_HOME=/usr/lib/jvm/java-19-openjdk-amd64/bin/java` or current and you should be able to install it","title":"Keycloak 18.0.0 Installation - Java error","body":"<p>Check your $JAVA_HOME and see. It still references the old Java. use the\n<code>export JAVA_HOME=/usr/lib/jvm/java-19-openjdk-amd64/bin/java</code> or current and you should be able to install it</p>\n"}],"owner":{"account_id":13575464,"reputation":41,"user_id":9792950,"display_name":"FDE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5436,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693295085,"creation_date":1653037641,"question_id":72316313,"body_markdown":"I would like to install Keycloak on a Windows 10 machine. \r\nThe installation guide can be found here:\r\nhttps://www.keycloak.org/getting-started/getting-started-zip\r\nAfter I have unzipped the file an run bin/kc.bat start-dev the following Java error appears:\r\n\r\n&quot;Error: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: io/quarkus/bootstrap/runner/QuarkusEntryPoint has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0&quot;\r\n\r\nI am new to Java, what does it mean and how can I fix this issue?\r\nI already have checked installation guides on Youtube etc. but those are referring to a file, which is called &quot;Standalone&quot; which does not exist anymore. \r\n\r\nI am using the following Java Distribution:\r\njava version &quot;17.0.3.1&quot; 2022-04-22 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.3.1+2-LTS-6)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.3.1+2-LTS-6, mixed mode, sharing)\r\n\r\nAny help, even link recommendations would be great. \r\n","title":"Keycloak 18.0.0 Installation - Java error","body":"<p>I would like to install Keycloak on a Windows 10 machine.\nThe installation guide can be found here:\n<a href=\"https://www.keycloak.org/getting-started/getting-started-zip\" rel=\"nofollow noreferrer\">https://www.keycloak.org/getting-started/getting-started-zip</a>\nAfter I have unzipped the file an run bin/kc.bat start-dev the following Java error appears:</p>\n<p>&quot;Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: io/quarkus/bootstrap/runner/QuarkusEntryPoint has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0&quot;</p>\n<p>I am new to Java, what does it mean and how can I fix this issue?\nI already have checked installation guides on Youtube etc. but those are referring to a file, which is called &quot;Standalone&quot; which does not exist anymore.</p>\n<p>I am using the following Java Distribution:\njava version &quot;17.0.3.1&quot; 2022-04-22 LTS\nJava(TM) SE Runtime Environment (build 17.0.3.1+2-LTS-6)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.3.1+2-LTS-6, mixed mode, sharing)</p>\n<p>Any help, even link recommendations would be great.</p>\n"},{"tags":["java","arrays","string","duplicates","boolean"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1693287549,"post_id":76997532,"comment_id":135736951,"body_markdown":"You forgot to actually ask a question. Please [edit] to add more info. Also, if you encounter an exception, post the exception stacktrace along with your question.","body":"You forgot to actually ask a question. Please <a href=\"https://stackoverflow.com/posts/76997532/edit\">edit</a> to add more info. Also, if you encounter an exception, post the exception stacktrace along with your question."},{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1693288209,"post_id":76997532,"comment_id":135737020,"body_markdown":"Why have you used recursion at first place?","body":"Why have you used recursion at first place?"}],"answers":[{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693288413,"creation_date":1693288413,"answer_id":76997635,"question_id":76997532,"body_markdown":"Your implementation only works for small case letters since you have used the condition:\r\n\r\n    if (map[currChar - &#39;a&#39;])\r\n\r\nIf you use upper case letters, the ascii values for those will be greater than that of `a`. So, `currChar - a` will result in a negative number resulting in array index out of bound exception.","title":"Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException in java","body":"<p>Your implementation only works for small case letters since you have used the condition:</p>\n<pre><code>if (map[currChar - 'a'])\n</code></pre>\n<p>If you use upper case letters, the ascii values for those will be greater than that of <code>a</code>. So, <code>currChar - a</code> will result in a negative number resulting in array index out of bound exception.</p>\n"},{"tags":[],"owner":{"account_id":27634086,"reputation":1,"user_id":21092381,"display_name":"Fazlan Fowmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693288581,"creation_date":1693288581,"answer_id":76997649,"question_id":76997532,"body_markdown":"public class RemoveDuplicatesExample {\r\n\r\n    // I have assumed that the character range is lowercase English letters\r\n   \r\n static boolean[] map = new boolean[26]; \r\n\r\n/*Here I have initialized the array  map where it&#39;s size needs to be determined here, I&#39;m accessing 26 lowercase english alphabet letters */\r\n\r\n    public static void removeDuplicates(String str, int idx, String newString) {\r\n        if (idx == str.length()) {\r\n            System.out.println(newString);\r\n            return;\r\n        }\r\n        char currChar = str.charAt(idx);\r\n        if (map[currChar - &#39;a&#39;]) {\r\n            removeDuplicates(str, idx + 1, newString);\r\n        } else {\r\n            newString += currChar;\r\n            map[currChar - &#39;a&#39;] = true;\r\n            removeDuplicates(str, idx + 1, newString);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String company = &quot;Inxee&quot;;\r\n        removeDuplicates(company, 0, &quot;&quot;);\r\n    }\r\n}\r\n","title":"Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException in java","body":"<p>public class RemoveDuplicatesExample {</p>\n<pre><code>// I have assumed that the character range is lowercase English letters\n</code></pre>\n<p>static boolean[] map = new boolean[26];</p>\n<p>/*Here I have initialized the array  map where it's size needs to be determined here, I'm accessing 26 lowercase english alphabet letters */</p>\n<pre><code>public static void removeDuplicates(String str, int idx, String newString) {\n    if (idx == str.length()) {\n        System.out.println(newString);\n        return;\n    }\n    char currChar = str.charAt(idx);\n    if (map[currChar - 'a']) {\n        removeDuplicates(str, idx + 1, newString);\n    } else {\n        newString += currChar;\n        map[currChar - 'a'] = true;\n        removeDuplicates(str, idx + 1, newString);\n    }\n}\n\npublic static void main(String[] args) {\n    String company = &quot;Inxee&quot;;\n    removeDuplicates(company, 0, &quot;&quot;);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":5490286,"reputation":1,"user_id":4363833,"display_name":"danushka eranga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693288673,"creation_date":1693288673,"answer_id":76997656,"question_id":76997532,"body_markdown":"This will work for you. Only 2 lines need to be changed.\r\n\r\n    public static void removeDuplicates(String str, int idx, String newString) {\r\n        if (idx == str.length()) {\r\n            System.out.println(newString);\r\n            return;\r\n        }\r\n        char currChar = str.charAt(idx);\r\n        if (newString.indexOf(currChar) &gt;= 0) {\r\n            removeDuplicates(str, idx + 1, newString);\r\n        } else {\r\n            newString += currChar;\r\n            removeDuplicates(str, idx + 1, newString);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String company = &quot;Inxee&quot;;\r\n        String newString = &quot;&quot;;\r\n        removeDuplicates(company, 0, newString);\r\n        System.out.println(newString);\r\n    }","title":"Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException in java","body":"<p>This will work for you. Only 2 lines need to be changed.</p>\n<pre><code>public static void removeDuplicates(String str, int idx, String newString) {\n    if (idx == str.length()) {\n        System.out.println(newString);\n        return;\n    }\n    char currChar = str.charAt(idx);\n    if (newString.indexOf(currChar) &gt;= 0) {\n        removeDuplicates(str, idx + 1, newString);\n    } else {\n        newString += currChar;\n        removeDuplicates(str, idx + 1, newString);\n    }\n}\n\npublic static void main(String[] args) {\n    String company = &quot;Inxee&quot;;\n    String newString = &quot;&quot;;\n    removeDuplicates(company, 0, newString);\n    System.out.println(newString);\n}\n</code></pre>\n"}],"owner":{"account_id":15181007,"reputation":1,"user_id":10954269,"display_name":"Parvez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693291129,"answer_count":3,"score":0,"last_activity_date":1693295029,"creation_date":1693286923,"question_id":76997532,"body_markdown":"I am an Intermediate in programming. I&#39;m a few weeks into my first programming class, so please bear with me. I am not a person to ask for help, so I have searched for an answer extensively with no luck. This is also my first time posting anything in any type of forum, so if my question structure is off I&#39;m sorry and I will correct for future posts.\r\n```java\r\npublic class removeDuplicate5 {\r\n    public static boolean[] map = new boolean[26];\r\n\r\n    public static void removeDuplicates(String str, int idx, String newString) {\r\n        if (idx == str.length()) {\r\n            System.out.println(newString);\r\n            return;\r\n        }\r\n        char currChar = str.charAt(idx);\r\n        if (map[currChar - &#39;a&#39;]) {\r\n            removeDuplicates(str, idx + 1, newString);\r\n        } else {\r\n            newString += currChar;\r\n            map[currChar - &#39;a&#39;] = true;\r\n            removeDuplicates(str, idx + 1, newString);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String company = &quot;Inxee&quot;;\r\n        removeDuplicates(company, 0, &quot;&quot;);\r\n    }\r\n}\r\n```","title":"Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException in java","body":"<p>I am an Intermediate in programming. I'm a few weeks into my first programming class, so please bear with me. I am not a person to ask for help, so I have searched for an answer extensively with no luck. This is also my first time posting anything in any type of forum, so if my question structure is off I'm sorry and I will correct for future posts.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class removeDuplicate5 {\n    public static boolean[] map = new boolean[26];\n\n    public static void removeDuplicates(String str, int idx, String newString) {\n        if (idx == str.length()) {\n            System.out.println(newString);\n            return;\n        }\n        char currChar = str.charAt(idx);\n        if (map[currChar - 'a']) {\n            removeDuplicates(str, idx + 1, newString);\n        } else {\n            newString += currChar;\n            map[currChar - 'a'] = true;\n            removeDuplicates(str, idx + 1, newString);\n        }\n    }\n\n    public static void main(String[] args) {\n        String company = &quot;Inxee&quot;;\n        removeDuplicates(company, 0, &quot;&quot;);\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9777,"page":215,"page_size":100}
