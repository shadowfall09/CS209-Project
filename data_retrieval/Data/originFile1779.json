{"items":[{"tags":["java","date","kotlin","datetime"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1638899779,"post_id":70264573,"comment_id":124208669,"body_markdown":"I would *start* by abandoning `Date` and `Calendar` - use the java.time classes and this will be much easier. But you&#39;re not trying to &quot;change time zone without changing offset&quot; - you&#39;re trying to change *offset* without changing *local time*... which is exactly what `OffsetDateTime.withOffsetSameLocal​` does. (And `OffsetDateTime` is the right type to use - you have a local date/time and an offset; you don&#39;t have a time zone.)","body":"I would <i>start</i> by abandoning <code>Date</code> and <code>Calendar</code> - use the java.time classes and this will be much easier. But you&#39;re not trying to &quot;change time zone without changing offset&quot; - you&#39;re trying to change <i>offset</i> without changing <i>local time</i>... which is exactly what <code>OffsetDateTime.withOffsetSameLocal​</code> does. (And <code>OffsetDateTime</code> is the right type to use - you have a local date/time and an offset; you don&#39;t have a time zone.)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638904182,"post_id":70264573,"comment_id":124210351,"body_markdown":"When it’s 2021-12-07T00:00:00.595+0530 in India, it is still only 2021-12-06 Pacific Time (2021-12-06T10:30:00-08:00, more precisely). Do you still want `2021-12-07T00:00:00-08:00`? You can have that, of course.","body":"When it’s 2021-12-07T00:00:00.595+0530 in India, it is still only 2021-12-06 Pacific Time (2021-12-06T10:30:00-08:00, more precisely). Do you still want <code>2021-12-07T00:00:00-08:00</code>? You can have that, of course."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638905208,"creation_date":1638904827,"answer_id":70265828,"question_id":70264573,"body_markdown":"## java.time\r\n\r\nI recommend that you use java.time, the modern Java date and time API, for your date and time work. Please excuse my Java syntax.\r\n\r\n\t\tString forBackend = LocalDate.now(ZoneId.systemDefault())\r\n\t\t\t\t.atStartOfDay(ZoneId.of(&quot;America/Los_Angeles&quot;))\r\n\t\t\t\t.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME);\r\n\t\tSystem.out.println(forBackend);\r\n\r\nI ran this code in Asia/Kolkata time zone just now (within the first hour after midnight on 2021-12-08). The output was:\r\n\r\n&gt; 2021-12-08T00:00:00-08:00\r\n\r\nA `LocalDate` is a date without time of day or time zone, so `LocalDate.now()` just gives us the current day in India (when Asia/Kolkata is our default time zone) without time of day. Then the call to `atStartOfDay()` gives us the start if the same date in America/Los_Angeles time zone. Finally the format you asked for is built in, so we are using the predefined formatter and not writing our own format pattern string.\r\n\r\nWhen summer time (DST) begins in North America, the offset will be `-07:00` instead.","title":"change offset without changing local time","body":"<h2>java.time</h2>\n<p>I recommend that you use java.time, the modern Java date and time API, for your date and time work. Please excuse my Java syntax.</p>\n<pre><code>    String forBackend = LocalDate.now(ZoneId.systemDefault())\n            .atStartOfDay(ZoneId.of(&quot;America/Los_Angeles&quot;))\n            .format(DateTimeFormatter.ISO_OFFSET_DATE_TIME);\n    System.out.println(forBackend);\n</code></pre>\n<p>I ran this code in Asia/Kolkata time zone just now (within the first hour after midnight on 2021-12-08). The output was:</p>\n<blockquote>\n<p>2021-12-08T00:00:00-08:00</p>\n</blockquote>\n<p>A <code>LocalDate</code> is a date without time of day or time zone, so <code>LocalDate.now()</code> just gives us the current day in India (when Asia/Kolkata is our default time zone) without time of day. Then the call to <code>atStartOfDay()</code> gives us the start if the same date in America/Los_Angeles time zone. Finally the format you asked for is built in, so we are using the predefined formatter and not writing our own format pattern string.</p>\n<p>When summer time (DST) begins in North America, the offset will be <code>-07:00</code> instead.</p>\n"}],"owner":{"account_id":9893053,"reputation":875,"user_id":7399212,"display_name":"Ashutosh Soni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70265828,"answer_count":1,"score":0,"last_activity_date":1639013178,"creation_date":1638898554,"question_id":70264573,"body_markdown":"I have a date that is in IST format. Which is something like the \r\n\r\n    2021-12-07T00:00:00.595+0530\r\n\r\nI have the following code for the above output\r\n\r\n        val fromtTime = Date()\r\n        val startOfDay = fromtTime.startOfDay()\r\n    \r\n\r\n        val dateFormat = SimpleDateFormat(\r\n            &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZZZZZ&quot;\r\n        )\r\n\r\n        val startOfDate = dateFormat.format(startOfDay)\r\n\r\nstartOfDay is just and extenstion function which is something like this\r\n\r\n    fun Date.startOfDay(): Date {\r\n        val now = Calendar.getInstance()\r\n        now.time = this\r\n        now.set(Calendar.HOUR_OF_DAY, 0)\r\n        now.set(Calendar.MINUTE, 0)\r\n        now.set(Calendar.SECOND, 0)\r\n        return now.time\r\n    }\r\n\r\nBut, what the backend really wants is in the below format with -8:00. \r\n\r\n    2021-12-07T00:00:00-08:00\r\n\r\nIs there any way I can format it to have **-08:00** in the end of the string whenever I select the timezone as &quot;America/Los_Angeles&quot;, because &quot;America/Los_Angeles&quot; is supposed to have the timezone which is -8 hours from the GMT. ","title":"change offset without changing local time","body":"<p>I have a date that is in IST format. Which is something like the</p>\n<pre><code>2021-12-07T00:00:00.595+0530\n</code></pre>\n<p>I have the following code for the above output</p>\n<pre><code>    val fromtTime = Date()\n    val startOfDay = fromtTime.startOfDay()\n\n\n    val dateFormat = SimpleDateFormat(\n        &quot;yyyy-MM-dd'T'HH:mm:ss.SSSZZZZZ&quot;\n    )\n\n    val startOfDate = dateFormat.format(startOfDay)\n</code></pre>\n<p>startOfDay is just and extenstion function which is something like this</p>\n<pre><code>fun Date.startOfDay(): Date {\n    val now = Calendar.getInstance()\n    now.time = this\n    now.set(Calendar.HOUR_OF_DAY, 0)\n    now.set(Calendar.MINUTE, 0)\n    now.set(Calendar.SECOND, 0)\n    return now.time\n}\n</code></pre>\n<p>But, what the backend really wants is in the below format with -8:00.</p>\n<pre><code>2021-12-07T00:00:00-08:00\n</code></pre>\n<p>Is there any way I can format it to have <strong>-08:00</strong> in the end of the string whenever I select the timezone as &quot;America/Los_Angeles&quot;, because &quot;America/Los_Angeles&quot; is supposed to have the timezone which is -8 hours from the GMT.</p>\n"},{"tags":["java","tomcat","jersey"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1639022380,"post_id":70283678,"comment_id":124244043,"body_markdown":"Unless you are using Jersey 3.x, you need to use Tomcat 9.0 (cf. [this question](https://stackoverflow.com/q/66806582/11748454)). Moreover your `web.xml` will neither be packaged nor read by Tomcat. You need a `web.xml`-less Jersey project.","body":"Unless you are using Jersey 3.x, you need to use Tomcat 9.0 (cf. <a href=\"https://stackoverflow.com/q/66806582/11748454\">this question</a>). Moreover your <code>web.xml</code> will neither be packaged nor read by Tomcat. You need a <code>web.xml</code>-less Jersey project."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1639023022,"post_id":70283678,"comment_id":124244132,"body_markdown":"Do you have many resources in `src/main/webapp`?","body":"Do you have many resources in <code>src&#47;main&#47;webapp</code>?"}],"owner":{"account_id":3764517,"reputation":1588,"user_id":3128369,"accept_rate":55,"display_name":"buzoherbert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639013099,"creation_date":1639013099,"question_id":70283678,"body_markdown":"I am trying to migrate a Jersey Tomcat project into Embedded Tomcat with the Shadow Plugin to simplify deployment.\r\n\r\nI based my changes on [this tutorial][1] . It is for Spring, so I skipped the Spring specific parts.\r\n\r\nThe main changes are the addition to the Embedded Tomcat and Shadow Plugin dependencies to build.gradle.kts ...\r\n\r\n    plugins {\r\n        id(&quot;java&quot;)\r\n        id(&quot;maven-publish&quot;)\r\n        id(&quot;application&quot;)\r\n        id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.1.0&quot;\r\n    }\r\n\r\n    dependencies {\r\n        .\r\n        .\r\n        .\r\n        implementation(&quot;org.apache.tomcat.embed:tomcat-embed-jasper:10.0.12&quot;)\r\n    }\r\n\r\n\r\n... and the creation of the Main class as follows:\r\n\r\n    import org.apache.catalina.startup.Tomcat;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class Main {\r\n        private static final int PORT = 8080;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            String appBase = &quot;.&quot;;\r\n            Tomcat tomcat = new Tomcat();\r\n            tomcat.setBaseDir(createTempDir());\r\n            tomcat.setPort(PORT);\r\n            tomcat.getHost().setAppBase(appBase);\r\n            tomcat.addWebapp(&quot;&quot;, appBase);\r\n            tomcat.start();\r\n            tomcat.getServer().await();\r\n        }\r\n    \r\n        // based on AbstractEmbeddedServletContainerFactory\r\n        private static String createTempDir() {\r\n            try {\r\n                File tempDir = File.createTempFile(&quot;tomcat.&quot;, &quot;.&quot; + PORT);\r\n                tempDir.delete();\r\n                tempDir.mkdir();\r\n                tempDir.deleteOnExit();\r\n                return tempDir.getAbsolutePath();\r\n            } catch (IOException ex) {\r\n                throw new RuntimeException(\r\n                        &quot;Unable to create tempDir. java.io.tmpdir is set to &quot; + System.getProperty(&quot;java.io.tmpdir&quot;),\r\n                        ex\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\nWhen I try to run or debug this either from the cli or from IntelliJ I get no build errors and IntelliJ reports that the app is running. However, I can&#39;t reach any of the endpoints of the server.\r\n\r\nI do get this warning:\r\n\r\n    Dec 08, 2021 6:57:15 PM org.apache.catalina.startup.ContextConfig getDefaultWebXmlFragment\r\n    INFO: No global web.xml found\r\n\r\nThe project does have a global web.xml located in `src/main/webapp/WEB-INF/web.xml`, but it doesn&#39;t seem to be recognized.\r\n\r\nIt seems like Shadow is not loading my code into the Tomcat server. Is there something missing to link Shadow Plugin &gt; Embedded Tomcat &gt; My Jersey project?\r\n\r\n\r\n  [1]: https://auth0.com/blog/spring-5-embedded-tomcat-8-gradle-tutorial/","title":"Migrating Jersey project to embeded Tomcat and Shadow plugin","body":"<p>I am trying to migrate a Jersey Tomcat project into Embedded Tomcat with the Shadow Plugin to simplify deployment.</p>\n<p>I based my changes on <a href=\"https://auth0.com/blog/spring-5-embedded-tomcat-8-gradle-tutorial/\" rel=\"nofollow noreferrer\">this tutorial</a> . It is for Spring, so I skipped the Spring specific parts.</p>\n<p>The main changes are the addition to the Embedded Tomcat and Shadow Plugin dependencies to build.gradle.kts ...</p>\n<pre><code>plugins {\n    id(&quot;java&quot;)\n    id(&quot;maven-publish&quot;)\n    id(&quot;application&quot;)\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.1.0&quot;\n}\n\ndependencies {\n    .\n    .\n    .\n    implementation(&quot;org.apache.tomcat.embed:tomcat-embed-jasper:10.0.12&quot;)\n}\n</code></pre>\n<p>... and the creation of the Main class as follows:</p>\n<pre><code>import org.apache.catalina.startup.Tomcat;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class Main {\n    private static final int PORT = 8080;\n\n    public static void main(String[] args) throws Exception {\n        String appBase = &quot;.&quot;;\n        Tomcat tomcat = new Tomcat();\n        tomcat.setBaseDir(createTempDir());\n        tomcat.setPort(PORT);\n        tomcat.getHost().setAppBase(appBase);\n        tomcat.addWebapp(&quot;&quot;, appBase);\n        tomcat.start();\n        tomcat.getServer().await();\n    }\n\n    // based on AbstractEmbeddedServletContainerFactory\n    private static String createTempDir() {\n        try {\n            File tempDir = File.createTempFile(&quot;tomcat.&quot;, &quot;.&quot; + PORT);\n            tempDir.delete();\n            tempDir.mkdir();\n            tempDir.deleteOnExit();\n            return tempDir.getAbsolutePath();\n        } catch (IOException ex) {\n            throw new RuntimeException(\n                    &quot;Unable to create tempDir. java.io.tmpdir is set to &quot; + System.getProperty(&quot;java.io.tmpdir&quot;),\n                    ex\n            );\n        }\n    }\n}\n</code></pre>\n<p>When I try to run or debug this either from the cli or from IntelliJ I get no build errors and IntelliJ reports that the app is running. However, I can't reach any of the endpoints of the server.</p>\n<p>I do get this warning:</p>\n<pre><code>Dec 08, 2021 6:57:15 PM org.apache.catalina.startup.ContextConfig getDefaultWebXmlFragment\nINFO: No global web.xml found\n</code></pre>\n<p>The project does have a global web.xml located in <code>src/main/webapp/WEB-INF/web.xml</code>, but it doesn't seem to be recognized.</p>\n<p>It seems like Shadow is not loading my code into the Tomcat server. Is there something missing to link Shadow Plugin &gt; Embedded Tomcat &gt; My Jersey project?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1639002827,"post_id":70282475,"comment_id":124240561,"body_markdown":"That means one of the lists are empty.","body":"That means one of the lists are empty."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639002805,"creation_date":1639002805,"answer_id":70282535,"question_id":70282475,"body_markdown":"Don&#39;t shove a lambda on one gigantic line; it is now extremely hard to figure out where the exception is trying to point your attention to. Add some newlines to that thing! You&#39;re not iterating the list, you&#39;re calling forEach.\r\n\r\nThe `.get()` call at the very end is the likely culprit: Your stream operation ended up with 0 things; asking the &#39;maximum&#39; out of 0 things results in no value.\r\nOne of the `One` instances has a zero-length `familyAge`.","title":"java.util.NoSuchElementException when iterating the List","body":"<p>Don't shove a lambda on one gigantic line; it is now extremely hard to figure out where the exception is trying to point your attention to. Add some newlines to that thing! You're not iterating the list, you're calling forEach.</p>\n<p>The <code>.get()</code> call at the very end is the likely culprit: Your stream operation ended up with 0 things; asking the 'maximum' out of 0 things results in no value.\nOne of the <code>One</code> instances has a zero-length <code>familyAge</code>.</p>\n"},{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639006697,"creation_date":1639006697,"answer_id":70283037,"question_id":70282475,"body_markdown":"`max` is returning an `Optional`. Calling `get` on an optional is usually a bad idea. `Optional` is used to wrap values that could potentially be `null` and if `get` would return null it throws a `NoSuchElementException` instead. A better solution could look something like this\r\n\r\n    myList1.stream()\r\n        .forEach(list1 -&gt; list1.getFamilyAge().stream()                    \r\n            .max(Comparator.comparing(FamilyAge::getAId))\r\n                .ifPresent(familyAge -&gt; /* do something with family age*/));\r\n\r\nAs the name suggests ifPresent is only executed if the object is present.","title":"java.util.NoSuchElementException when iterating the List","body":"<p><code>max</code> is returning an <code>Optional</code>. Calling <code>get</code> on an optional is usually a bad idea. <code>Optional</code> is used to wrap values that could potentially be <code>null</code> and if <code>get</code> would return null it throws a <code>NoSuchElementException</code> instead. A better solution could look something like this</p>\n<pre><code>myList1.stream()\n    .forEach(list1 -&gt; list1.getFamilyAge().stream()                    \n        .max(Comparator.comparing(FamilyAge::getAId))\n            .ifPresent(familyAge -&gt; /* do something with family age*/));\n</code></pre>\n<p>As the name suggests ifPresent is only executed if the object is present.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639012913,"creation_date":1639012913,"answer_id":70283657,"question_id":70282475,"body_markdown":"Never use `get()` unless you’re *sure* there will be something in the stream.\r\n\r\neither code:\r\n\r\n    .max(…).orElse(null)\r\n\r\nOr code:\r\n\r\n    .max(…).ifPresent(x -&gt; /* do something */)\r\n\r\nTo handle the case where there isn’t a max because the stream is empty.","title":"java.util.NoSuchElementException when iterating the List","body":"<p>Never use <code>get()</code> unless you’re <em>sure</em> there will be something in the stream.</p>\n<p>either code:</p>\n<pre><code>.max(…).orElse(null)\n</code></pre>\n<p>Or code:</p>\n<pre><code>.max(…).ifPresent(x -&gt; /* do something */)\n</code></pre>\n<p>To handle the case where there isn’t a max because the stream is empty.</p>\n"}],"owner":{"account_id":11884292,"reputation":43,"user_id":8697117,"display_name":"user8697117"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1639012913,"creation_date":1639002400,"question_id":70282475,"body_markdown":"I am trying to iterate the list and check the max value to get that object. \r\n\r\n    Class One{\r\n    //properties\r\n    private int id;\r\n    private boolean isInsurance;\r\n    private List&lt;FamilyAge&gt; familyAge;\r\n    }\r\n    class FamilyAge{\r\n    private Long aId;\r\n    private String holder1;\r\n    private String holder2;\r\n    ..\r\n    }\r\nAbove are the sample class objects iterating below.\r\n\r\n        List&lt;One&gt; myList1 = getAllRequiredData();\r\n            myList1.stream().forEach(list1 -&gt; list1.getFamilyAge().stream()\r\n                                         .max(Comparator.comparing(FamilyAge::getAId)).get()); \r\n             //java.util.NoSuchElementException: No value present\r\n\r\nI want to filter or get only one object of FamilyAge which has max of aId. With the above iteration logic it is throwing java.util.NoSuchElementException.","title":"java.util.NoSuchElementException when iterating the List","body":"<p>I am trying to iterate the list and check the max value to get that object.</p>\n<pre><code>Class One{\n//properties\nprivate int id;\nprivate boolean isInsurance;\nprivate List&lt;FamilyAge&gt; familyAge;\n}\nclass FamilyAge{\nprivate Long aId;\nprivate String holder1;\nprivate String holder2;\n..\n}\n</code></pre>\n<p>Above are the sample class objects iterating below.</p>\n<pre><code>    List&lt;One&gt; myList1 = getAllRequiredData();\n        myList1.stream().forEach(list1 -&gt; list1.getFamilyAge().stream()\n                                     .max(Comparator.comparing(FamilyAge::getAId)).get()); \n         //java.util.NoSuchElementException: No value present\n</code></pre>\n<p>I want to filter or get only one object of FamilyAge which has max of aId. With the above iteration logic it is throwing java.util.NoSuchElementException.</p>\n"},{"tags":["java","spring","spring-boot","docker","elasticsearch"],"comments":[{"owner":{"account_id":14301063,"reputation":754,"user_id":10330374,"display_name":"Nick"},"score":0,"creation_date":1638976980,"post_id":70275781,"comment_id":124231180,"body_markdown":"It is not an issue in docker compose since your spring app container just gets restarted till it manages to connect to elasticsearch. For production cluster environments you can also depend on `restart-on-failure` or you would be adding readiness probe (i.e in kubernetes deployment file) that will be attempting to connect to elasticsearch.","body":"It is not an issue in docker compose since your spring app container just gets restarted till it manages to connect to elasticsearch. For production cluster environments you can also depend on <code>restart-on-failure</code> or you would be adding readiness probe (i.e in kubernetes deployment file) that will be attempting to connect to elasticsearch."},{"owner":{"account_id":12587763,"reputation":1458,"user_id":9155889,"display_name":"nonNumericalFloat"},"score":0,"creation_date":1638989088,"post_id":70275781,"comment_id":124236242,"body_markdown":"I am aware of this. It just pollutes logs a lot and is a common problem if you have multiple services.","body":"I am aware of this. It just pollutes logs a lot and is a common problem if you have multiple services."}],"answers":[{"tags":[],"owner":{"account_id":20057415,"reputation":13897,"user_id":14704799,"display_name":"gohm&#39;c"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639011394,"creation_date":1638975688,"answer_id":70277139,"question_id":70275781,"body_markdown":"Use [wait-for-it](https://github.com/vishnubob/wait-for-it) to track the readiness of your elasticsearch service **before** starting your application. Example create a bash file:\r\n\r\n    #!/bin/bash\r\n    set -e\r\n    ./wait-for-it.sh -t 10 &lt;your elasticsearch service&gt;:9200\r\n    exec &lt;your application&gt;\r\n\r\nYour Dockerfile may look like:\r\n\r\n    COPY . ./\r\n    RUN chmod +x ./wait-for-it.sh ./&lt;your bash file&gt;.sh\r\n    ENTRYPOINT [&quot;./&lt;your bash file&gt;&quot;]","title":"Spring Boot wait for Elasticsearch to start","body":"<p>Use <a href=\"https://github.com/vishnubob/wait-for-it\" rel=\"nofollow noreferrer\">wait-for-it</a> to track the readiness of your elasticsearch service <strong>before</strong> starting your application. Example create a bash file:</p>\n<pre><code>#!/bin/bash\nset -e\n./wait-for-it.sh -t 10 &lt;your elasticsearch service&gt;:9200\nexec &lt;your application&gt;\n</code></pre>\n<p>Your Dockerfile may look like:</p>\n<pre><code>COPY . ./\nRUN chmod +x ./wait-for-it.sh ./&lt;your bash file&gt;.sh\nENTRYPOINT [&quot;./&lt;your bash file&gt;&quot;]\n</code></pre>\n"}],"owner":{"account_id":12587763,"reputation":1458,"user_id":9155889,"display_name":"nonNumericalFloat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639011394,"creation_date":1638969943,"question_id":70275781,"body_markdown":"I&#39;m using Spring Boot (2.3) &amp; Elasticsearch (7.14.1) in a Docker setup. I always used `depends_on` in my docker-compose.yml to wait for Elasticsearch before starting the Spring Boot application. (Now as this is removed in docker 3.*!?! this won&#39;t work.)\r\n\r\n-&gt; **How can I check the availability of Elasticsearch before initializing my Spring Boot application?**\r\n\r\n - Can I do this using the Spring-jdbc [DatabaseStartupValidator][1]?\r\n - Can I do this using Docker health-checks?\r\n\r\nFYI: Application works regularly when starting through docker-compose. Spring just fails several times &amp; is restarted until all ES repositories can be initialized.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/support/DatabaseStartupValidator.html","title":"Spring Boot wait for Elasticsearch to start","body":"<p>I'm using Spring Boot (2.3) &amp; Elasticsearch (7.14.1) in a Docker setup. I always used <code>depends_on</code> in my docker-compose.yml to wait for Elasticsearch before starting the Spring Boot application. (Now as this is removed in docker 3.*!?! this won't work.)</p>\n<p>-&gt; <strong>How can I check the availability of Elasticsearch before initializing my Spring Boot application?</strong></p>\n<ul>\n<li>Can I do this using the Spring-jdbc <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/support/DatabaseStartupValidator.html\" rel=\"nofollow noreferrer\">DatabaseStartupValidator</a>?</li>\n<li>Can I do this using Docker health-checks?</li>\n</ul>\n<p>FYI: Application works regularly when starting through docker-compose. Spring just fails several times &amp; is restarted until all ES repositories can be initialized.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":49071,"reputation":8670,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":0,"creation_date":1639009226,"post_id":70283281,"comment_id":124241956,"body_markdown":"You might consider looking at the JDK&#39;s Map interface and HashMap class to see an example of how to do this sort of thing.","body":"You might consider looking at the JDK&#39;s Map interface and HashMap class to see an example of how to do this sort of thing."},{"owner":{"account_id":9028118,"reputation":731,"user_id":8696281,"display_name":"noobie2023"},"score":0,"creation_date":1639009605,"post_id":70283281,"comment_id":124242039,"body_markdown":"@Charlie Thanks, I just took a look. We specify the key-value types in `Map&lt;K, V&gt;` when we create an instance, but on the other hand, how may I enforce the type when defining the concrete class? Is this not possible as interface uses `&lt;K, V&gt;` instead of concrete classes in `&lt;&gt;`?","body":"@Charlie Thanks, I just took a look. We specify the key-value types in <code>Map&lt;K, V&gt;</code> when we create an instance, but on the other hand, how may I enforce the type when defining the concrete class? Is this not possible as interface uses <code>&lt;K, V&gt;</code> instead of concrete classes in <code>&lt;&gt;</code>?"},{"owner":{"account_id":49071,"reputation":8670,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":0,"creation_date":1639010002,"post_id":70283281,"comment_id":124242110,"body_markdown":"Why limit the concrete implementation&#39;s types?","body":"Why limit the concrete implementation&#39;s types?"},{"owner":{"account_id":9028118,"reputation":731,"user_id":8696281,"display_name":"noobie2023"},"score":0,"creation_date":1639010158,"post_id":70283281,"comment_id":124242135,"body_markdown":"@Charlie I wanted to create a concrete cache class for a specific API, we have a couple of different APIs and each API has different caching implementation.","body":"@Charlie I wanted to create a concrete cache class for a specific API, we have a couple of different APIs and each API has different caching implementation."}],"answers":[{"tags":[],"owner":{"account_id":2663825,"reputation":21876,"user_id":2302862,"accept_rate":100,"display_name":"Siguza"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639009975,"creation_date":1639009975,"answer_id":70283382,"question_id":70283281,"body_markdown":"By putting `&lt;&gt;` after the name of the class that you&#39;re defining, you&#39;re declaring tokens to be used as generics. But you don&#39;t want that, you just want to fill existing generic type arguments.\r\n\r\nSo just omit the first pair of `&lt;&gt;`:\r\n\r\n    public class LocalCache implements IGenericCache&lt;CacheKey, Map&lt;String, List&lt;String&gt;&gt;&gt;","title":"Specify Map in Java generics","body":"<p>By putting <code>&lt;&gt;</code> after the name of the class that you're defining, you're declaring tokens to be used as generics. But you don't want that, you just want to fill existing generic type arguments.</p>\n<p>So just omit the first pair of <code>&lt;&gt;</code>:</p>\n<pre><code>public class LocalCache implements IGenericCache&lt;CacheKey, Map&lt;String, List&lt;String&gt;&gt;&gt;\n</code></pre>\n"}],"owner":{"account_id":9028118,"reputation":731,"user_id":8696281,"display_name":"noobie2023"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70283382,"answer_count":1,"score":1,"last_activity_date":1639009975,"creation_date":1639009073,"question_id":70283281,"body_markdown":"I have the following interface:\r\n```\r\npublic interface IGenericCache&lt;K, V&gt; {\r\n\r\n    void put(K key, V value);\r\n\r\n    V get(K key);\r\n\r\n}\r\n\r\n```\r\n\r\nThen I want to create a concrete class that takes `CacheKey` object as input and `Map&lt;String, List&lt;String&gt;&gt;` object as output. A **conceptual** example is as follows:\r\n\r\n```\r\npublic class LocalCache&lt;CacheKey, Map&lt;String, List&lt;String&gt;&gt;&gt; implements IGenericCache&lt;CacheKey, Map&lt;String, List&lt;String&gt;&gt;&gt; {\r\n\r\n    @Override\r\n    public void put(CacheKey key, Map&lt;String, List&lt;String&gt;&gt; value) {\r\n        // TODO\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;String, List&lt;String&gt;&gt; get(CacheKey key) {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nWhere `CacheKey` is like:\r\n```\r\n@Data // lombok annotation\r\npublic class CacheKey {\r\n    private final String attr1;\r\n    private final String attr2;\r\n}\r\n```\r\n\r\nI have seen red wavy lines from IDE by using the implementation in the example above. But I couldn&#39;t fin the correct format to match the generics `&lt;K, V&gt;` in the interface.\r\n\r\nCould anyone good at Java please correct me? Thank you in advance!","title":"Specify Map in Java generics","body":"<p>I have the following interface:</p>\n<pre><code>public interface IGenericCache&lt;K, V&gt; {\n\n    void put(K key, V value);\n\n    V get(K key);\n\n}\n\n</code></pre>\n<p>Then I want to create a concrete class that takes <code>CacheKey</code> object as input and <code>Map&lt;String, List&lt;String&gt;&gt;</code> object as output. A <strong>conceptual</strong> example is as follows:</p>\n<pre><code>public class LocalCache&lt;CacheKey, Map&lt;String, List&lt;String&gt;&gt;&gt; implements IGenericCache&lt;CacheKey, Map&lt;String, List&lt;String&gt;&gt;&gt; {\n\n    @Override\n    public void put(CacheKey key, Map&lt;String, List&lt;String&gt;&gt; value) {\n        // TODO\n    }\n\n    @Override\n    public Map&lt;String, List&lt;String&gt;&gt; get(CacheKey key) {\n        return null;\n    }\n}\n</code></pre>\n<p>Where <code>CacheKey</code> is like:</p>\n<pre><code>@Data // lombok annotation\npublic class CacheKey {\n    private final String attr1;\n    private final String attr2;\n}\n</code></pre>\n<p>I have seen red wavy lines from IDE by using the implementation in the example above. But I couldn't fin the correct format to match the generics <code>&lt;K, V&gt;</code> in the interface.</p>\n<p>Could anyone good at Java please correct me? Thank you in advance!</p>\n"},{"tags":["java","spring","spring-boot","spring-aop"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637749957,"post_id":70094292,"comment_id":123907688,"body_markdown":"Add `@Component` to your aspect and well that is it. Nothing more nothing less.","body":"Add <code>@Component</code> to your aspect and well that is it. Nothing more nothing less."},{"owner":{"account_id":23439200,"reputation":1,"user_id":17496910,"display_name":"4ra1n"},"score":0,"creation_date":1637751538,"post_id":70094292,"comment_id":123908320,"body_markdown":"I know that the @Component annotation needs to be configured under normal circumstances, but I need to configure it during runtime instead of scanning the configuration at startup","body":"I know that the @Component annotation needs to be configured under normal circumstances, but I need to configure it during runtime instead of scanning the configuration at startup"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637751663,"post_id":70094292,"comment_id":123908379,"body_markdown":"That won&#39;t work in this case, as proxies are generated at startup. So you cannot add an aspect while the application is running and expect than suddently proxies be created for those beans. So normally it would be doable with an aspect you can add the bean but the AOP won&#39;t be applied.","body":"That won&#39;t work in this case, as proxies are generated at startup. So you cannot add an aspect while the application is running and expect than suddently proxies be created for those beans. So normally it would be doable with an aspect you can add the bean but the AOP won&#39;t be applied."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1637765376,"post_id":70094292,"comment_id":123914060,"body_markdown":"_&quot;I need to configure it during runtime instead of scanning the configuration at startup&quot;_ - please explain why. This looks like an [XY problem](https://meta.stackexchange.com/a/66378/309898) situation, because you are explaining your technical idea of **how** you think the problem should be solved rather than **what** you need and **why** you need it.","body":"<i>&quot;I need to configure it during runtime instead of scanning the configuration at startup&quot;</i> - please explain why. This looks like an <a href=\"https://meta.stackexchange.com/a/66378/309898\">XY problem</a> situation, because you are explaining your technical idea of <b>how</b> you think the problem should be solved rather than <b>what</b> you need and <b>why</b> you need it."},{"owner":{"account_id":23439200,"reputation":1,"user_id":17496910,"display_name":"4ra1n"},"score":0,"creation_date":1637810533,"post_id":70094292,"comment_id":123927309,"body_markdown":"I am engaged in Java security research and want to find a way to dynamically configure AOP to execute malicious code.So I want to find a way to make AOP effective after registering the beans configured by AOP.","body":"I am engaged in Java security research and want to find a way to dynamically configure AOP to execute malicious code.So I want to find a way to make AOP effective after registering the beans configured by AOP."},{"owner":{"account_id":23439200,"reputation":1,"user_id":17496910,"display_name":"4ra1n"},"score":0,"creation_date":1637811097,"post_id":70094292,"comment_id":123927388,"body_markdown":"If there is a deserialization vulnerability in the application, the hacker can trigger the function of registering AOP through a maliciously constructed object, and then execute malicious code","body":"If there is a deserialization vulnerability in the application, the hacker can trigger the function of registering AOP through a maliciously constructed object, and then execute malicious code"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1640741866,"post_id":70094292,"comment_id":124648070,"body_markdown":"This question is still listed as unanswered, even though I wrote an answer and linked to two related topics with example code. Please inspect my answer, then either accept and upvote it or comment on it if you do not understand it. Thank you.","body":"This question is still listed as unanswered, even though I wrote an answer and linked to two related topics with example code. Please inspect my answer, then either accept and upvote it or comment on it if you do not understand it. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639009707,"creation_date":1639009707,"answer_id":70283347,"question_id":70094292,"body_markdown":"Your `private Advisor config()` should be `@Bean public Advisor config()`, then it would work, but only while wiring the application.\r\n\r\nSee [this piece of code](https://github.com/kriegaex/SO_AJ_SpringDynamicAdviceRegistration/blob/fef5d461128bd4013c7c30bee256db05ca0d6094/src/main/java/de/scrum_master/performancemonitor/AopConfiguration.java#L25-L31) on GitHub for an example, which I used in update 3 of [this answer](https://stackoverflow.com/a/49080647/1082681). You can clone the project and experiment with it.\r\n\r\nAnother example can be found in [this question](https://stackoverflow.com/q/69207046/1082681). You just need to apply the correction from my answer in order to make it work.\r\n\r\nI do not think it gets any more dynamic than that, but I am by no means a Spring expert.","title":"How to Dynamically Configure Spring AOP","body":"<p>Your <code>private Advisor config()</code> should be <code>@Bean public Advisor config()</code>, then it would work, but only while wiring the application.</p>\n<p>See <a href=\"https://github.com/kriegaex/SO_AJ_SpringDynamicAdviceRegistration/blob/fef5d461128bd4013c7c30bee256db05ca0d6094/src/main/java/de/scrum_master/performancemonitor/AopConfiguration.java#L25-L31\" rel=\"nofollow noreferrer\">this piece of code</a> on GitHub for an example, which I used in update 3 of <a href=\"https://stackoverflow.com/a/49080647/1082681\">this answer</a>. You can clone the project and experiment with it.</p>\n<p>Another example can be found in <a href=\"https://stackoverflow.com/q/69207046/1082681\">this question</a>. You just need to apply the correction from my answer in order to make it work.</p>\n<p>I do not think it gets any more dynamic than that, but I am by no means a Spring expert.</p>\n"}],"owner":{"account_id":23439200,"reputation":1,"user_id":17496910,"display_name":"4ra1n"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1047,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639009707,"creation_date":1637749042,"question_id":70094292,"body_markdown":"Now there is a need to add a bean to the spring container during program operation. This bean is the configuration class of spring AOP. How to make the configuration take effect.\r\n\r\nI know that the @Component annotation needs to be configured under normal circumstances, but I need to configure it during runtime instead of scanning the configuration at startup\r\n\r\nAt first, I wrote this\r\n```java\r\n    @Aspect\r\n    public class ParamAspect {\r\n    \r\n        private static String result;\r\n    \r\n        @Pointcut(&quot;execution(public * com.example.aop.*.*(String))&quot;)\r\n        public void doOperation() {...}\r\n    \r\n    \r\n        @Before(&quot;doOperation()&quot;)\r\n        public void before(JoinPoint joinPoint) throws Exception {...}\r\n\r\n    \r\n        @AfterReturning(returning = &quot;object&quot;, pointcut = &quot;doOperation()&quot;)\r\n        public void doAfterReturning(Object object) {...}\r\n    }\r\n```\r\n\r\nregistry the bean\r\n```java\r\n        DefaultListableBeanFactory beanFactory = (DefaultListableBeanFactory) beanFactoryField.get(ctx);\r\n\r\n        BeanDefinitionRegistry beanDefReg = beanFactory;\r\n        BeanDefinitionBuilder beanDefBuilder = BeanDefinitionBuilder.genericBeanDefinition(ParamAspect.class);\r\n        BeanDefinition beanDef = beanDefBuilder.getBeanDefinition();\r\n        if (!beanDefReg.containsBeanDefinition(&quot;theBean&quot;)) {\r\n            beanDefReg.registerBeanDefinition(&quot;theBean&quot;, beanDef);\r\n        }\r\n```\r\nBut I find it doesn&#39;t work\r\nThen I try the method provided online\r\n```java\r\npublic class Config {\r\n    private Advisor config(){\r\n        AspectJExpressionPointcut pointcut = new AspectJExpressionPointcut();\r\n        pointcut.setExpression(&quot;execution(public * com.example.aop.*.*(String))&quot;);\r\n        return   new DefaultPointcutAdvisor(pointcut, new MyMethodInterceptor());\r\n    }\r\n}\r\n\r\npublic class MyMethodInterceptor implements MethodInterceptor {\r\n    @Override\r\n    public Object invoke(MethodInvocation invocation) throws Throwable {\r\n    ...\r\n    }\r\n}\r\n```\r\nand change class\r\n```java\r\n        BeanDefinitionBuilder beanDefBuilder = BeanDefinitionBuilder.genericBeanDefinition(Config.class);\r\n```\r\nIt still doesn&#39;t work\r\n\r\nI am engaged in Java security research and want to find a way to dynamically configure AOP to execute malicious code.So I want to find a way to make AOP effective after registering the beans configured by AOP.\r\n\r\nIf there is a deserialization vulnerability in the application, the hacker can trigger the function of registering AOP through a maliciously constructed object, and then execute malicious code.\r\n","title":"How to Dynamically Configure Spring AOP","body":"<p>Now there is a need to add a bean to the spring container during program operation. This bean is the configuration class of spring AOP. How to make the configuration take effect.</p>\n<p>I know that the @Component annotation needs to be configured under normal circumstances, but I need to configure it during runtime instead of scanning the configuration at startup</p>\n<p>At first, I wrote this</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Aspect\n    public class ParamAspect {\n    \n        private static String result;\n    \n        @Pointcut(&quot;execution(public * com.example.aop.*.*(String))&quot;)\n        public void doOperation() {...}\n    \n    \n        @Before(&quot;doOperation()&quot;)\n        public void before(JoinPoint joinPoint) throws Exception {...}\n\n    \n        @AfterReturning(returning = &quot;object&quot;, pointcut = &quot;doOperation()&quot;)\n        public void doAfterReturning(Object object) {...}\n    }\n</code></pre>\n<p>registry the bean</p>\n<pre class=\"lang-java prettyprint-override\"><code>        DefaultListableBeanFactory beanFactory = (DefaultListableBeanFactory) beanFactoryField.get(ctx);\n\n        BeanDefinitionRegistry beanDefReg = beanFactory;\n        BeanDefinitionBuilder beanDefBuilder = BeanDefinitionBuilder.genericBeanDefinition(ParamAspect.class);\n        BeanDefinition beanDef = beanDefBuilder.getBeanDefinition();\n        if (!beanDefReg.containsBeanDefinition(&quot;theBean&quot;)) {\n            beanDefReg.registerBeanDefinition(&quot;theBean&quot;, beanDef);\n        }\n</code></pre>\n<p>But I find it doesn't work\nThen I try the method provided online</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Config {\n    private Advisor config(){\n        AspectJExpressionPointcut pointcut = new AspectJExpressionPointcut();\n        pointcut.setExpression(&quot;execution(public * com.example.aop.*.*(String))&quot;);\n        return   new DefaultPointcutAdvisor(pointcut, new MyMethodInterceptor());\n    }\n}\n\npublic class MyMethodInterceptor implements MethodInterceptor {\n    @Override\n    public Object invoke(MethodInvocation invocation) throws Throwable {\n    ...\n    }\n}\n</code></pre>\n<p>and change class</p>\n<pre class=\"lang-java prettyprint-override\"><code>        BeanDefinitionBuilder beanDefBuilder = BeanDefinitionBuilder.genericBeanDefinition(Config.class);\n</code></pre>\n<p>It still doesn't work</p>\n<p>I am engaged in Java security research and want to find a way to dynamically configure AOP to execute malicious code.So I want to find a way to make AOP effective after registering the beans configured by AOP.</p>\n<p>If there is a deserialization vulnerability in the application, the hacker can trigger the function of registering AOP through a maliciously constructed object, and then execute malicious code.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":13721490,"reputation":9809,"user_id":9901261,"display_name":"Arundeep Chohan"},"score":1,"creation_date":1639018287,"post_id":70283330,"comment_id":124243449,"body_markdown":"Try switching to  private static final WebDriver driver ; and then driver = new ChromeDriver(options) to access the private variable inside the functions.","body":"Try switching to  private static final WebDriver driver ; and then driver = new ChromeDriver(options) to access the private variable inside the functions."},{"owner":{"account_id":23419335,"reputation":108,"user_id":17479815,"display_name":"Yan"},"score":0,"creation_date":1639034146,"post_id":70283330,"comment_id":124246242,"body_markdown":"driver.manage().window().fullscreen(); did you try this function ?","body":"driver.manage().window().fullscreen(); did you try this function ?"}],"owner":{"account_id":16837449,"reputation":125,"user_id":12173707,"display_name":"stiggy008"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639009547,"creation_date":1639009547,"question_id":70283330,"body_markdown":"I&#39;ve searched around for awhile now and it seems like i just need to add chrome options to get selenium to go into headless mode. I am quite new and i maybe missing something but i&#39;ve tried the adding the code below into my scripts in to various areas and it doesn&#39;t seem to work. \r\n\r\n```  \r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;window-size=1400,800&quot;);\r\noptions.addArguments(&quot;headless&quot;);\r\n```\r\n\r\nI&#39;ve tried the following\r\n```import org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport org.testng.annotations.AfterSuite;\r\nimport org.testng.annotations.BeforeSuite;\r\nimport org.testng.annotations.Test;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\npublic class TestPlan {\r\n\r\n    private static final WebDriver driver = new ChromeDriver();\r\n\r\n    @BeforeSuite\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, Utils.CHROME_DRIVER_LOCATION);\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;window-size=1400,800&quot;);\r\n        options.addArguments(&quot;headless&quot;);\r\n        WebDriver driver = new ChromeDriver(options);\r\n        WebDriverWait wait = new WebDriverWait(driver, 30);\r\n    }\r\n    \r\n    @Test(testName = &quot;Login Page&quot;)\r\n    public static void wikiLogin() {\r\n        driver.get(Utils.WIKI_LOGIN_URL);\r\n        WikiLogin wikilogin = new WikiLogin(driver);\r\n        wikilogin.loginButton();\r\n    }   \r\n\r\n```\r\n\r\nand \r\n\r\n```\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport org.testng.annotations.AfterSuite;\r\nimport org.testng.annotations.BeforeSuite;\r\nimport org.testng.annotations.Test;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\npublic class TestPlan {\r\n\r\n    private static final WebDriver driver = new ChromeDriver();\r\n\r\n    @BeforeSuite\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, Utils.CHROME_DRIVER_LOCATION);\r\n        WebDriverWait wait = new WebDriverWait(driver, 30);\r\n    }\r\n\r\n    @Test(testName = &quot;Login Page&quot;)\r\n    public static void wikiLogin() {\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;window-size=1400,800&quot;);\r\n        options.addArguments(&quot;headless&quot;);\r\n        WebDriver driver = new ChromeDriver(options);\r\n        driver.get(Utils.WIKI_LOGIN_URL);\r\n        WikiLogin wikilogin = new WikiLogin(driver);\r\n        wikilogin.loginButton();\r\n    }\r\n\r\nWith no success. Would appreciate some help. Thanks!","title":"Cannot get Java Selenium in headless mode","body":"<p>I've searched around for awhile now and it seems like i just need to add chrome options to get selenium to go into headless mode. I am quite new and i maybe missing something but i've tried the adding the code below into my scripts in to various areas and it doesn't seem to work.</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;window-size=1400,800&quot;);\noptions.addArguments(&quot;headless&quot;);\n</code></pre>\n<p>I've tried the following</p>\n<pre><code>import org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.BeforeSuite;\nimport org.testng.annotations.Test;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class TestPlan {\n\n    private static final WebDriver driver = new ChromeDriver();\n\n    @BeforeSuite\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, Utils.CHROME_DRIVER_LOCATION);\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;window-size=1400,800&quot;);\n        options.addArguments(&quot;headless&quot;);\n        WebDriver driver = new ChromeDriver(options);\n        WebDriverWait wait = new WebDriverWait(driver, 30);\n    }\n    \n    @Test(testName = &quot;Login Page&quot;)\n    public static void wikiLogin() {\n        driver.get(Utils.WIKI_LOGIN_URL);\n        WikiLogin wikilogin = new WikiLogin(driver);\n        wikilogin.loginButton();\n    }   \n\n</code></pre>\n<p>and</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.BeforeSuite;\nimport org.testng.annotations.Test;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class TestPlan {\n\n    private static final WebDriver driver = new ChromeDriver();\n\n    @BeforeSuite\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, Utils.CHROME_DRIVER_LOCATION);\n        WebDriverWait wait = new WebDriverWait(driver, 30);\n    }\n\n    @Test(testName = &quot;Login Page&quot;)\n    public static void wikiLogin() {\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;window-size=1400,800&quot;);\n        options.addArguments(&quot;headless&quot;);\n        WebDriver driver = new ChromeDriver(options);\n        driver.get(Utils.WIKI_LOGIN_URL);\n        WikiLogin wikilogin = new WikiLogin(driver);\n        wikilogin.loginButton();\n    }\n\nWith no success. Would appreciate some help. Thanks!\n</code></pre>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1665499616,"post_id":70282984,"comment_id":130712279,"body_markdown":"@azurefrog - That doesn&#39;t explain it.  In fact `ch[]` is parsed as an array *type*; i.e. an array of some (unresolvable) **type** `ch`.  And the only valid syntax for a `&lt;type&gt; . &lt;something&gt;` is `&lt;type&gt; . class`.  Hence the weird message about expecting `.class` !!","body":"@azurefrog - That doesn&#39;t explain it.  In fact <code>ch[]</code> is parsed as an array <i>type</i>; i.e. an array of some (unresolvable) <b>type</b> <code>ch</code>.  And the only valid syntax for a <code>&lt;type&gt; . &lt;something&gt;</code> is <code>&lt;type&gt; . class</code>.  Hence the weird message about expecting <code>.class</code> !!"}],"answers":[{"tags":[],"owner":{"display_name":"user16397759"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639007170,"creation_date":1639007170,"answer_id":70283096,"question_id":70282984,"body_markdown":"Your bug-fixed class:\r\n\r\n    public class Uppercase{\r\n    public static void main(String[] args){\r\n        Scanner userWord = new Scanner(System.in);\r\n        System.out.println(&quot;Enter a word&quot;);\r\n\r\n        String word = userWord.nextLine();\r\n\r\n        System.out.println(&quot;There are &quot; + numUppercase(word) + &quot;uppercase letters&quot;);\r\n    }\r\n\r\n    public static int numUppercase(String s){\r\n        char[] ch = new char[s.length()];\r\n\r\n        for (int i = 0; i &lt; s.length(); i++){\r\n            ch[i] = s.charAt(i);\r\n\r\n            int uppercase = 0;\r\n            for (int j = 0; j &lt; ch.length; j++){\r\n                if(ch[j] &gt; 64 &amp;&amp; ch[j] &lt; 91){\r\n                    uppercase++;\r\n                }\r\n            }\r\n            return uppercase;\r\n        }\r\n        return 0;\r\n    }}","title":"Java &#39;error: class expected&#39; when usig array length method","body":"<p>Your bug-fixed class:</p>\n<pre><code>public class Uppercase{\npublic static void main(String[] args){\n    Scanner userWord = new Scanner(System.in);\n    System.out.println(&quot;Enter a word&quot;);\n\n    String word = userWord.nextLine();\n\n    System.out.println(&quot;There are &quot; + numUppercase(word) + &quot;uppercase letters&quot;);\n}\n\npublic static int numUppercase(String s){\n    char[] ch = new char[s.length()];\n\n    for (int i = 0; i &lt; s.length(); i++){\n        ch[i] = s.charAt(i);\n\n        int uppercase = 0;\n        for (int j = 0; j &lt; ch.length; j++){\n            if(ch[j] &gt; 64 &amp;&amp; ch[j] &lt; 91){\n                uppercase++;\n            }\n        }\n        return uppercase;\n    }\n    return 0;\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639009342,"creation_date":1639009342,"answer_id":70283308,"question_id":70282984,"body_markdown":"Aside from the typo, the calculation of the uppercase letters is incorrect.\r\n\r\nFirst, there&#39;s no need to create `ch` array, copy the characters from the input string, and then check the chars in `ch` array.\r\n\r\nSecond, an assumption that the uppercase letters reside in the range `[65, 90]` is applicable only to English letters.  There are several `Character::isUpperCase` methods to check if a [character](https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isUpperCase-char-) or a [Unicode codepoint](https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isUpperCase-int-) is upper case.  `Character::isUpperCase(char c)` has been existing for a while since Java 1.0.\r\n\r\nSo, that being said, an example counting uppercase letters could be as follows:\r\n```java\r\npublic static int numUpperCase(String s) {\r\n    int num = 0;\r\n    if (s != null) {\r\n        for (char c : s.toCharArray()) {\r\n            if (Character.isUpperCase(c)) num++;\r\n        }\r\n    }\r\n    return num;\r\n}\r\n```\r\nA oneliner using Stream API:\r\n```java\r\nstatic int numUpperCase(String str) {\r\n    return Optional.ofNullable(str)\r\n           .map(s -&gt; (int) s.chars().filter(Character::isUpperCase).count())\r\n           .orElse(0); // if input string is null\r\n}\r\n```","title":"Java &#39;error: class expected&#39; when usig array length method","body":"<p>Aside from the typo, the calculation of the uppercase letters is incorrect.</p>\n<p>First, there's no need to create <code>ch</code> array, copy the characters from the input string, and then check the chars in <code>ch</code> array.</p>\n<p>Second, an assumption that the uppercase letters reside in the range <code>[65, 90]</code> is applicable only to English letters.  There are several <code>Character::isUpperCase</code> methods to check if a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isUpperCase-char-\" rel=\"nofollow noreferrer\">character</a> or a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isUpperCase-int-\" rel=\"nofollow noreferrer\">Unicode codepoint</a> is upper case.  <code>Character::isUpperCase(char c)</code> has been existing for a while since Java 1.0.</p>\n<p>So, that being said, an example counting uppercase letters could be as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int numUpperCase(String s) {\n    int num = 0;\n    if (s != null) {\n        for (char c : s.toCharArray()) {\n            if (Character.isUpperCase(c)) num++;\n        }\n    }\n    return num;\n}\n</code></pre>\n<p>A oneliner using Stream API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int numUpperCase(String str) {\n    return Optional.ofNullable(str)\n           .map(s -&gt; (int) s.chars().filter(Character::isUpperCase).count())\n           .orElse(0); // if input string is null\n}\n</code></pre>\n"}],"owner":{"account_id":19212693,"reputation":1,"user_id":14038163,"display_name":"Kari Jr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665499277,"answer_count":2,"score":0,"last_activity_date":1639009342,"creation_date":1639006298,"question_id":70282984,"body_markdown":"I am doing an assignment for my Java class that requires me to write a program that displays the number of uppercase letters in a string. I am getting the error on my line 26 (for (int i = 0; i &lt; ch[].length; i++){) any help would be appreciated.\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Uppercase{\r\n\tpublic static void main(String[] args){\r\n\t\tchar[] newWord;\r\n\t\tScanner userWord = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter a word&quot;);\r\n\t\t\r\n\t\tString word = userWord.nextLine();\r\n\t\t\r\n\t\tSystem.out.println(&quot;There are &quot; + newWord.numUppercase(word) + &quot;uppercase letters&quot;);\r\n\t}\r\n\t\r\n\tpublic int numUppercase(String s){\r\n\t\tchar[] ch = new char[s.length()];\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; s.length(); i++){\r\n\t\t\tch[i] = s.charAt(i);\r\n\t\t\t\r\n\t\tint uppercase = 0;\r\n\t\tfor (int i = 0; i &lt; ch[].length; i++){\r\n\t\t\tif(ch[i].valueOf() &gt; 64 &amp;&amp; ch[i].valueOf() &lt; 91){\r\n\t\t\t\tuppercase++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn uppercase;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"Java &#39;error: class expected&#39; when usig array length method","body":"<p>I am doing an assignment for my Java class that requires me to write a program that displays the number of uppercase letters in a string. I am getting the error on my line 26 (for (int i = 0; i &lt; ch[].length; i++){) any help would be appreciated.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Uppercase{\n    public static void main(String[] args){\n        char[] newWord;\n        Scanner userWord = new Scanner(System.in);\n        System.out.println(&quot;Enter a word&quot;);\n        \n        String word = userWord.nextLine();\n        \n        System.out.println(&quot;There are &quot; + newWord.numUppercase(word) + &quot;uppercase letters&quot;);\n    }\n    \n    public int numUppercase(String s){\n        char[] ch = new char[s.length()];\n        \n        for (int i = 0; i &lt; s.length(); i++){\n            ch[i] = s.charAt(i);\n            \n        int uppercase = 0;\n        for (int i = 0; i &lt; ch[].length; i++){\n            if(ch[i].valueOf() &gt; 64 &amp;&amp; ch[i].valueOf() &lt; 91){\n                uppercase++;\n            }\n        }\n        return uppercase;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","json","yaml"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1400522508,"post_id":23744216,"comment_id":36502678,"body_markdown":"Using a POJO would allow you to use existing libraries, and probably do it automatically. Otherwise get yourself a YAML parser, go over it manually, and create the transformed JSON manually too.","body":"Using a POJO would allow you to use existing libraries, and probably do it automatically. Otherwise get yourself a YAML parser, go over it manually, and create the transformed JSON manually too."},{"owner":{"account_id":56360,"reputation":2249,"user_id":168802,"accept_rate":88,"display_name":"Freddy"},"score":0,"creation_date":1400523095,"post_id":23744216,"comment_id":36502985,"body_markdown":"What are you looking for? Reading your post I can only see what you don&#39;t want to do. What are you pre-pared to do? Sorry, -1 for lack of showing any attempt to resolve this problem. All I see is here is my problem, please solve it for me.","body":"What are you looking for? Reading your post I can only see what you don&#39;t want to do. What are you pre-pared to do? Sorry, -1 for lack of showing any attempt to resolve this problem. All I see is here is my problem, please solve it for me."},{"owner":{"account_id":1204476,"reputation":5633,"user_id":1174467,"display_name":"superEb"},"score":1,"creation_date":1400523283,"post_id":23744216,"comment_id":36503079,"body_markdown":"I know [Jackson can read and write YAML](http://www.cowtowncoder.com/blog/archives/2012/05/entry_474.html). Maybe use `new ObjectMapper(new YAMLFactory())` for reading YAML into map structures and then `new ObjectMapper()` for writing JSON?","body":"I know <a href=\"http://www.cowtowncoder.com/blog/archives/2012/05/entry_474.html\" rel=\"nofollow noreferrer\">Jackson can read and write YAML</a>. Maybe use <code>new ObjectMapper(new YAMLFactory())</code> for reading YAML into map structures and then <code>new ObjectMapper()</code> for writing JSON?"},{"owner":{"account_id":1714732,"reputation":1389,"user_id":1572072,"accept_rate":80,"display_name":"Miguel A. Carrasco"},"score":0,"creation_date":1400524315,"post_id":23744216,"comment_id":36503592,"body_markdown":"Thanks for your suggestion superEb, I didn&#39;t know that Jackson can read YAMLs","body":"Thanks for your suggestion superEb, I didn&#39;t know that Jackson can read YAMLs"},{"owner":{"account_id":1714732,"reputation":1389,"user_id":1572072,"accept_rate":80,"display_name":"Miguel A. Carrasco"},"score":0,"creation_date":1400525780,"post_id":23744216,"comment_id":36504355,"body_markdown":"@Freddy I added more info about the specific problem I&#39;m trying to solve.","body":"@Freddy I added more info about the specific problem I&#39;m trying to solve."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":1,"creation_date":1400628765,"post_id":23744216,"comment_id":36555699,"body_markdown":"Surely there&#39;s some tool that will convert YAML to Maps and Lists.  Once so converted it&#39;s trivial to generate the corresponding JSON.","body":"Surely there&#39;s some tool that will convert YAML to Maps and Lists.  Once so converted it&#39;s trivial to generate the corresponding JSON."},{"owner":{"account_id":59096,"reputation":16386,"user_id":176841,"accept_rate":75,"display_name":"jberryman"},"score":0,"creation_date":1500336382,"post_id":23744216,"comment_id":77279837,"body_markdown":"Keep in mind that YAML is a superset of JSON, so you can&#39;t _in general_ do what you&#39;re asking for","body":"Keep in mind that YAML is a superset of JSON, so you can&#39;t <i>in general</i> do what you&#39;re asking for"}],"answers":[{"tags":[],"owner":{"account_id":1714732,"reputation":1389,"user_id":1572072,"accept_rate":80,"display_name":"Miguel A. Carrasco"},"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1400649940,"creation_date":1400649940,"answer_id":23774617,"question_id":23744216,"body_markdown":"Thanks to HotLicks tip (in the question comments) I finally achieve the conversion using the libraries [org.json][1] and [SnakeYAML][2] in this way:\r\n\r\n    private static String convertToJson(String yamlString) {\r\n        Yaml yaml= new Yaml();\r\n        Map&lt;String,Object&gt; map= (Map&lt;String, Object&gt;) yaml.load(yamlString);\r\n\r\n        JSONObject jsonObject=new JSONObject(map);\r\n        return jsonObject.toString();\r\n    }\r\n\r\nI don&#39;t know if it&#39;s the best way to do it, but it works for me.\r\n\r\n  [1]: http://www.json.org/java/\r\n  [2]: https://code.google.com/p/snakeyaml/","title":"How do I convert from YAML to JSON in Java?","body":"<p>Thanks to HotLicks tip (in the question comments) I finally achieve the conversion using the libraries <a href=\"http://www.json.org/java/\">org.json</a> and <a href=\"https://code.google.com/p/snakeyaml/\">SnakeYAML</a> in this way:</p>\n\n<pre><code>private static String convertToJson(String yamlString) {\n    Yaml yaml= new Yaml();\n    Map&lt;String,Object&gt; map= (Map&lt;String, Object&gt;) yaml.load(yamlString);\n\n    JSONObject jsonObject=new JSONObject(map);\n    return jsonObject.toString();\n}\n</code></pre>\n\n<p>I don't know if it's the best way to do it, but it works for me.</p>\n"},{"tags":[],"owner":{"account_id":5961990,"reputation":51,"user_id":4686884,"display_name":"Todor Kisov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1442402858,"creation_date":1442402858,"answer_id":32607306,"question_id":23744216,"body_markdown":"Big thanks to Miguel A. Carrasco he infact has solved the issue. But his version is restrictive. His code fails if root is list or primitive value. Most general solution is:\r\n\r\n    private static String convertToJson(String yamlString) {\r\n        Yaml yaml= new Yaml();\r\n        Object obj = yaml.load(yamlString);\r\n    \r\n        return JSONValue.toJSONString(obj);\r\n    }\r\n\r\n","title":"How do I convert from YAML to JSON in Java?","body":"<p>Big thanks to Miguel A. Carrasco he infact has solved the issue. But his version is restrictive. His code fails if root is list or primitive value. Most general solution is:</p>\n\n<pre><code>private static String convertToJson(String yamlString) {\n    Yaml yaml= new Yaml();\n    Object obj = yaml.load(yamlString);\n\n    return JSONValue.toJSONString(obj);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":200610,"reputation":52306,"user_id":446554,"accept_rate":73,"display_name":"Cory Klein"},"down_vote_count":0,"up_vote_count":87,"is_accepted":true,"score":87,"last_activity_date":1524841479,"creation_date":1468008669,"answer_id":38274671,"question_id":23744216,"body_markdown":"Here is an implementation that uses Jackson:\r\n\r\n    String convertYamlToJson(String yaml) {\r\n        ObjectMapper yamlReader = new ObjectMapper(new YAMLFactory());\r\n        Object obj = yamlReader.readValue(yaml, Object.class);\r\n\r\n        ObjectMapper jsonWriter = new ObjectMapper();\r\n        return jsonWriter.writeValueAsString(obj);\r\n    }\r\n\r\nRequires:\r\n\r\n    compile(&#39;com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.7.4&#39;)","title":"How do I convert from YAML to JSON in Java?","body":"<p>Here is an implementation that uses Jackson:</p>\n\n<pre><code>String convertYamlToJson(String yaml) {\n    ObjectMapper yamlReader = new ObjectMapper(new YAMLFactory());\n    Object obj = yamlReader.readValue(yaml, Object.class);\n\n    ObjectMapper jsonWriter = new ObjectMapper();\n    return jsonWriter.writeValueAsString(obj);\n}\n</code></pre>\n\n<p>Requires:</p>\n\n<pre><code>compile('com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.7.4')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5994477,"reputation":366,"user_id":4925944,"display_name":"JonathanT"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1472544583,"creation_date":1472544583,"answer_id":39222102,"question_id":23744216,"body_markdown":"I found the example did not produce correct values when converting Swagger (OpenAPI) YAML to JSON.  I wrote the following routine:\r\n\r\n      private static Object _convertToJson(Object o) throws JSONException {\r\n        if (o instanceof Map) {\r\n          Map&lt;Object, Object&gt; map = (Map&lt;Object, Object&gt;) o;\r\n    \r\n          JSONObject result = new JSONObject();\r\n    \r\n          for (Map.Entry&lt;Object, Object&gt; stringObjectEntry : map.entrySet()) {\r\n            String key = stringObjectEntry.getKey().toString();\r\n    \r\n            result.put(key, _convertToJson(stringObjectEntry.getValue()));\r\n          }\r\n    \r\n          return result;\r\n        } else if (o instanceof ArrayList) {\r\n          ArrayList arrayList = (ArrayList) o;\r\n          JSONArray result = new JSONArray();\r\n    \r\n          for (Object arrayObject : arrayList) {\r\n            result.put(_convertToJson(arrayObject));\r\n          }\r\n    \r\n          return result;\r\n        } else if (o instanceof String) {\r\n          return o;\r\n        } else if (o instanceof Boolean) {\r\n          return o;\r\n        } else {\r\n          log.error(&quot;Unsupported class [{0}]&quot;, o.getClass().getName());\r\n          return o;\r\n        }\r\n      }\r\n\r\nThen I could use SnakeYAML to load and output the JSON with the following:\r\n\r\n    Yaml yaml= new Yaml();\r\n    Map&lt;String,Object&gt; map= (Map&lt;String, Object&gt;) yaml.load(yamlString);\r\n    \r\n    JSONObject jsonObject = (JSONObject) _convertToJson(map);\r\n    System.out.println(jsonObject.toString(2));\r\n\r\n","title":"How do I convert from YAML to JSON in Java?","body":"<p>I found the example did not produce correct values when converting Swagger (OpenAPI) YAML to JSON.  I wrote the following routine:</p>\n\n<pre><code>  private static Object _convertToJson(Object o) throws JSONException {\n    if (o instanceof Map) {\n      Map&lt;Object, Object&gt; map = (Map&lt;Object, Object&gt;) o;\n\n      JSONObject result = new JSONObject();\n\n      for (Map.Entry&lt;Object, Object&gt; stringObjectEntry : map.entrySet()) {\n        String key = stringObjectEntry.getKey().toString();\n\n        result.put(key, _convertToJson(stringObjectEntry.getValue()));\n      }\n\n      return result;\n    } else if (o instanceof ArrayList) {\n      ArrayList arrayList = (ArrayList) o;\n      JSONArray result = new JSONArray();\n\n      for (Object arrayObject : arrayList) {\n        result.put(_convertToJson(arrayObject));\n      }\n\n      return result;\n    } else if (o instanceof String) {\n      return o;\n    } else if (o instanceof Boolean) {\n      return o;\n    } else {\n      log.error(\"Unsupported class [{0}]\", o.getClass().getName());\n      return o;\n    }\n  }\n</code></pre>\n\n<p>Then I could use SnakeYAML to load and output the JSON with the following:</p>\n\n<pre><code>Yaml yaml= new Yaml();\nMap&lt;String,Object&gt; map= (Map&lt;String, Object&gt;) yaml.load(yamlString);\n\nJSONObject jsonObject = (JSONObject) _convertToJson(map);\nSystem.out.println(jsonObject.toString(2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5379853,"reputation":535,"user_id":4285435,"display_name":"MarkAddison"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489529113,"creation_date":1489529113,"answer_id":42797444,"question_id":23744216,"body_markdown":"I was directed to this question when searching for a solution to the same issue.\r\n\r\nI also stumbled upon the following article [https://dzone.com/articles/read-yaml-in-java-with-jackson][1]\r\n\r\nIt seems Jackson JSON library has a YAML extension based upon SnakeYAML.\r\nAs Jackson is one of the de facto libraries for JSON I thought that I should link this here.\r\n\r\n\r\n  [1]: https://dzone.com/articles/read-yaml-in-java-with-jackson","title":"How do I convert from YAML to JSON in Java?","body":"<p>I was directed to this question when searching for a solution to the same issue.</p>\n\n<p>I also stumbled upon the following article <a href=\"https://dzone.com/articles/read-yaml-in-java-with-jackson\" rel=\"nofollow noreferrer\">https://dzone.com/articles/read-yaml-in-java-with-jackson</a></p>\n\n<p>It seems Jackson JSON library has a YAML extension based upon SnakeYAML.\nAs Jackson is one of the de facto libraries for JSON I thought that I should link this here.</p>\n"},{"tags":[],"owner":{"account_id":12828488,"reputation":11,"user_id":9280559,"display_name":"Dan R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517165349,"creation_date":1517165349,"answer_id":48490088,"question_id":23744216,"body_markdown":"Thanks, Miguel! Your example helped a lot. I didn&#39;t want to use the &#39;JSON-java&#39; library. I prefer GSON. But it wasn&#39;t hard to translate the logic from JSON-java over to GSON&#39;s domain model. A single function can do the trick:\r\n\r\n    /**\r\n\t * Wraps the object returned by the Snake YAML parser into a GSON JsonElement \r\n\t * representation.  This is similar to the logic in the wrap() function of:\r\n\t * \r\n\t * https://github.com/stleary/JSON-java/blob/master/JSONObject.java\r\n\t */\r\n\tpublic static JsonElement wrapSnakeObject(Object o) {\r\n\t\t\r\n\t\t//NULL =&gt; JsonNull\r\n\t\tif (o == null)\r\n\t\t\treturn JsonNull.INSTANCE;\r\n\t\t\r\n\t\t// Collection =&gt; JsonArray\r\n\t\tif (o instanceof Collection) {\r\n\t\t\tJsonArray array = new JsonArray();\r\n\t\t\tfor (Object childObj : (Collection&lt;?&gt;)o)\r\n\t\t\t\tarray.add(wrapSnakeObject(childObj));\r\n\t\t\treturn array;\r\n        }\r\n\t\t\r\n\t\t// Array =&gt; JsonArray\r\n        if (o.getClass().isArray()) {\r\n            JsonArray array = new JsonArray();\r\n            \r\n            int length = Array.getLength(array);\r\n            for (int i=0; i&lt;length; i++)\r\n                array.add(wrapSnakeObject(Array.get(array, i)));\r\n            \r\n            return array;\r\n        }\r\n        \r\n        // Map =&gt; JsonObject\r\n        if (o instanceof Map) {\r\n            Map&lt;?, ?&gt; map = (Map&lt;?, ?&gt;)o;\r\n            \r\n            JsonObject jsonObject = new JsonObject();\r\n            for (final Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\r\n                final String name = String.valueOf(entry.getKey());\r\n            \tfinal Object value = entry.getValue();\r\n                jsonObject.add(name, wrapSnakeObject(value));\r\n            }\r\n            \r\n            return jsonObject;\r\n        }\r\n\t\t\r\n        // everything else =&gt; JsonPrimitive\r\n        if (o instanceof String)\r\n        \treturn new JsonPrimitive((String)o);\r\n        if (o instanceof Number)\r\n        \treturn new JsonPrimitive((Number)o);\r\n        if (o instanceof Character)\r\n        \treturn new JsonPrimitive((Character)o);\r\n        if (o instanceof Boolean)\r\n        \treturn new JsonPrimitive((Boolean)o);\r\n        \r\n        // otherwise.. string is a good guess\r\n        return new JsonPrimitive(String.valueOf(o));\r\n\t}\r\n\r\nThen you can parse a JsonElement from a YAML String with:\r\n\r\n    Yaml yaml = new Yaml();\r\n\tMap&lt;String, Object&gt; yamlMap = yaml.load(yamlString);\r\n\tJsonElement jsonElem = wrapSnakeObject(yamlMap);\r\n\r\nand print it out with:\r\n\r\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n\tSystem.out.println(gson.toJson(jsonElem));\r\n\r\n","title":"How do I convert from YAML to JSON in Java?","body":"<p>Thanks, Miguel! Your example helped a lot. I didn't want to use the 'JSON-java' library. I prefer GSON. But it wasn't hard to translate the logic from JSON-java over to GSON's domain model. A single function can do the trick:</p>\n\n<pre><code>/**\n * Wraps the object returned by the Snake YAML parser into a GSON JsonElement \n * representation.  This is similar to the logic in the wrap() function of:\n * \n * https://github.com/stleary/JSON-java/blob/master/JSONObject.java\n */\npublic static JsonElement wrapSnakeObject(Object o) {\n\n    //NULL =&gt; JsonNull\n    if (o == null)\n        return JsonNull.INSTANCE;\n\n    // Collection =&gt; JsonArray\n    if (o instanceof Collection) {\n        JsonArray array = new JsonArray();\n        for (Object childObj : (Collection&lt;?&gt;)o)\n            array.add(wrapSnakeObject(childObj));\n        return array;\n    }\n\n    // Array =&gt; JsonArray\n    if (o.getClass().isArray()) {\n        JsonArray array = new JsonArray();\n\n        int length = Array.getLength(array);\n        for (int i=0; i&lt;length; i++)\n            array.add(wrapSnakeObject(Array.get(array, i)));\n\n        return array;\n    }\n\n    // Map =&gt; JsonObject\n    if (o instanceof Map) {\n        Map&lt;?, ?&gt; map = (Map&lt;?, ?&gt;)o;\n\n        JsonObject jsonObject = new JsonObject();\n        for (final Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\n            final String name = String.valueOf(entry.getKey());\n            final Object value = entry.getValue();\n            jsonObject.add(name, wrapSnakeObject(value));\n        }\n\n        return jsonObject;\n    }\n\n    // everything else =&gt; JsonPrimitive\n    if (o instanceof String)\n        return new JsonPrimitive((String)o);\n    if (o instanceof Number)\n        return new JsonPrimitive((Number)o);\n    if (o instanceof Character)\n        return new JsonPrimitive((Character)o);\n    if (o instanceof Boolean)\n        return new JsonPrimitive((Boolean)o);\n\n    // otherwise.. string is a good guess\n    return new JsonPrimitive(String.valueOf(o));\n}\n</code></pre>\n\n<p>Then you can parse a JsonElement from a YAML String with:</p>\n\n<pre><code>Yaml yaml = new Yaml();\nMap&lt;String, Object&gt; yamlMap = yaml.load(yamlString);\nJsonElement jsonElem = wrapSnakeObject(yamlMap);\n</code></pre>\n\n<p>and print it out with:</p>\n\n<pre><code>Gson gson = new GsonBuilder().setPrettyPrinting().create();\nSystem.out.println(gson.toJson(jsonElem));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":476761,"reputation":24593,"user_id":887836,"accept_rate":96,"display_name":"Alexander Oh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636015438,"creation_date":1636015438,"answer_id":69836464,"question_id":23744216,"body_markdown":"Using Gson: \r\n\r\n    var yaml = new YAML();\r\n    var gson = new Gson();        \r\n    var reader = new FileReader(path.toFile());\r\n    var obj = yaml.load(reader);\r\n    var writer = new StringWriter();\r\n    gson.toJson(obj, writer);\r\n    String result = writer.toString();\r\n\r\n","title":"How do I convert from YAML to JSON in Java?","body":"<p>Using Gson:</p>\n<pre><code>var yaml = new YAML();\nvar gson = new Gson();        \nvar reader = new FileReader(path.toFile());\nvar obj = yaml.load(reader);\nvar writer = new StringWriter();\ngson.toJson(obj, writer);\nString result = writer.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7557673,"reputation":928,"user_id":5736627,"display_name":"Elias Meireles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639009178,"creation_date":1639009178,"answer_id":70283292,"question_id":23744216,"body_markdown":"Spring boot with kotlin to return a yaml file content as json data\r\n\r\n    package br.com.sportplace.controller\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper\r\n    import com.fasterxml.jackson.dataformat.yaml.YAMLFactory\r\n    import org.springframework.http.HttpStatus\r\n    import org.springframework.http.ResponseEntity\r\n    import org.springframework.web.bind.annotation.GetMapping\r\n    import org.springframework.web.bind.annotation.RequestMapping\r\n    import org.springframework.web.bind.annotation.RestController\r\n    import java.io.InputStream\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(value = [&quot;resources/docs&quot;])\r\n    class DocsController {\r\n\r\n\r\n        @GetMapping(produces = [&quot;application/json&quot;])\r\n        fun load(): ResponseEntity&lt;Any&gt; {\r\n            return getResourceFileAsString()\r\n        }\r\n\r\n        fun getResourceFileAsString(): ResponseEntity&lt;Any&gt; {\r\n            val inputStream = getResourceFileAsInputStream(&quot;openapi/api.yaml&quot;)\r\n            return if (inputStream != null) {\r\n                val objectMapper = ObjectMapper(YAMLFactory())\r\n                ResponseEntity.ok(objectMapper.readValue(inputStream, Any::class.java))\r\n            } else {\r\n                ResponseEntity(ErrorResponse(), HttpStatus.INTERNAL_SERVER_ERROR)\r\n            }\r\n        }\r\n\r\n        fun getResourceFileAsInputStream(fileName: String?): InputStream? {\r\n            val classLoader = DocsController::class.java.classLoader\r\n            return classLoader.getResourceAsStream(fileName)\r\n        }\r\n\r\n        private data class ErrorResponse(\r\n            val message: String = &quot;Failed to load resource file&quot;,\r\n            val success: Boolean = false,\r\n            val timestamp: Long = System.currentTimeMillis()\r\n        )\r\n    }\r\n\r\n\r\n        ","title":"How do I convert from YAML to JSON in Java?","body":"<p>Spring boot with kotlin to return a yaml file content as json data</p>\n<pre><code>package br.com.sportplace.controller\n\nimport com.fasterxml.jackson.databind.ObjectMapper\nimport com.fasterxml.jackson.dataformat.yaml.YAMLFactory\nimport org.springframework.http.HttpStatus\nimport org.springframework.http.ResponseEntity\nimport org.springframework.web.bind.annotation.GetMapping\nimport org.springframework.web.bind.annotation.RequestMapping\nimport org.springframework.web.bind.annotation.RestController\nimport java.io.InputStream\n\n\n@RestController\n@RequestMapping(value = [&quot;resources/docs&quot;])\nclass DocsController {\n\n\n    @GetMapping(produces = [&quot;application/json&quot;])\n    fun load(): ResponseEntity&lt;Any&gt; {\n        return getResourceFileAsString()\n    }\n\n    fun getResourceFileAsString(): ResponseEntity&lt;Any&gt; {\n        val inputStream = getResourceFileAsInputStream(&quot;openapi/api.yaml&quot;)\n        return if (inputStream != null) {\n            val objectMapper = ObjectMapper(YAMLFactory())\n            ResponseEntity.ok(objectMapper.readValue(inputStream, Any::class.java))\n        } else {\n            ResponseEntity(ErrorResponse(), HttpStatus.INTERNAL_SERVER_ERROR)\n        }\n    }\n\n    fun getResourceFileAsInputStream(fileName: String?): InputStream? {\n        val classLoader = DocsController::class.java.classLoader\n        return classLoader.getResourceAsStream(fileName)\n    }\n\n    private data class ErrorResponse(\n        val message: String = &quot;Failed to load resource file&quot;,\n        val success: Boolean = false,\n        val timestamp: Long = System.currentTimeMillis()\n    )\n}\n\n\n    \n</code></pre>\n"}],"owner":{"account_id":1714732,"reputation":1389,"user_id":1572072,"accept_rate":80,"display_name":"Miguel A. Carrasco"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70442,"favorite_count":0,"down_vote_count":2,"up_vote_count":46,"accepted_answer_id":38274671,"answer_count":8,"score":44,"last_activity_date":1639009178,"creation_date":1400522236,"question_id":23744216,"body_markdown":"I just want to convert a string that contains a yaml into another string that contains the corrseponding converted json using Java.\r\n\r\nFor example supose that I have the content of this yaml\r\n\r\n    ---\r\n    paper:\r\n       uuid: 8a8cbf60-e067-11e3-8b68-0800200c9a66\r\n       name: On formally undecidable propositions of Principia Mathematica and related systems I.\r\n       author: Kurt G&#246;del.\r\n    tags:\r\n       - tag:\r\n           uuid: 98fb0d90-e067-11e3-8b68-0800200c9a66\r\n           name: Mathematics\r\n       - tag:\r\n           uuid: 3f25f680-e068-11e3-8b68-0800200c9a66\r\n           name: Logic\r\n\r\n\r\nin a String called yamlDoc:\r\n\r\n    String yamlDoc = &quot;---\\npaper:\\n   uuid: 8a... etc...&quot;;\r\n\r\nI want some method that can convert the yaml String into another String with the corresponding json, i.e. the following code\r\n\r\n    String yamlDoc = &quot;---\\npaper:\\n   uuid: 8a... etc...&quot;;\r\n    String json = convertToJson(yamlDoc); // I want this method\r\n    System.out.println(json);\r\n\r\nshould print:\r\n\r\n    {\r\n        &quot;paper&quot;: {\r\n            &quot;uuid&quot;: &quot;8a8cbf60-e067-11e3-8b68-0800200c9a66&quot;,\r\n            &quot;name&quot;: &quot;On formally undecidable propositions of Principia Mathematica and related systems I.&quot;,\r\n            &quot;author&quot;: &quot;Kurt G&#246;del.&quot;\r\n        },\r\n        &quot;tags&quot;: [\r\n            {\r\n                &quot;tag&quot;: {\r\n                    &quot;uuid&quot;: &quot;98fb0d90-e067-11e3-8b68-0800200c9a66&quot;,\r\n                    &quot;name&quot;: &quot;Mathematics&quot;\r\n                }\r\n            },\r\n            {\r\n                &quot;tag&quot;: {\r\n                    &quot;uuid&quot;: &quot;3f25f680-e068-11e3-8b68-0800200c9a66&quot;,\r\n                    &quot;name&quot;: &quot;Logic&quot;\r\n                }\r\n            }\r\n        ]\r\n    }\r\n\r\nI want to know if exists something similar to the **convertToJson()** method in this example.\r\n\r\nI tried to achieve this using [SnakeYAML][1], so this code \r\n\r\n     Yaml yaml = new Yaml();\r\n     Map&lt;String,Object&gt; map = (Map&lt;String, Object&gt;) yaml.load(yamlDoc);\r\n     \r\n\r\nconstructs a map that contain the parsed YAML structure (using nested Maps). Then if there is a parser that can convert a map into a json String it will solve my problem, but I didn&#39;t find something like that neither.\r\n\r\n\r\nAny response will be greatly appreciated.\r\n\r\n\r\n  [1]: https://code.google.com/p/snakeyaml/ &quot;SnakeYAML&quot;\r\n","title":"How do I convert from YAML to JSON in Java?","body":"<p>I just want to convert a string that contains a yaml into another string that contains the corrseponding converted json using Java.</p>\n\n<p>For example supose that I have the content of this yaml</p>\n\n<pre><code>---\npaper:\n   uuid: 8a8cbf60-e067-11e3-8b68-0800200c9a66\n   name: On formally undecidable propositions of Principia Mathematica and related systems I.\n   author: Kurt Gödel.\ntags:\n   - tag:\n       uuid: 98fb0d90-e067-11e3-8b68-0800200c9a66\n       name: Mathematics\n   - tag:\n       uuid: 3f25f680-e068-11e3-8b68-0800200c9a66\n       name: Logic\n</code></pre>\n\n<p>in a String called yamlDoc:</p>\n\n<pre><code>String yamlDoc = \"---\\npaper:\\n   uuid: 8a... etc...\";\n</code></pre>\n\n<p>I want some method that can convert the yaml String into another String with the corresponding json, i.e. the following code</p>\n\n<pre><code>String yamlDoc = \"---\\npaper:\\n   uuid: 8a... etc...\";\nString json = convertToJson(yamlDoc); // I want this method\nSystem.out.println(json);\n</code></pre>\n\n<p>should print:</p>\n\n<pre><code>{\n    \"paper\": {\n        \"uuid\": \"8a8cbf60-e067-11e3-8b68-0800200c9a66\",\n        \"name\": \"On formally undecidable propositions of Principia Mathematica and related systems I.\",\n        \"author\": \"Kurt Gödel.\"\n    },\n    \"tags\": [\n        {\n            \"tag\": {\n                \"uuid\": \"98fb0d90-e067-11e3-8b68-0800200c9a66\",\n                \"name\": \"Mathematics\"\n            }\n        },\n        {\n            \"tag\": {\n                \"uuid\": \"3f25f680-e068-11e3-8b68-0800200c9a66\",\n                \"name\": \"Logic\"\n            }\n        }\n    ]\n}\n</code></pre>\n\n<p>I want to know if exists something similar to the <strong>convertToJson()</strong> method in this example.</p>\n\n<p>I tried to achieve this using <a href=\"https://code.google.com/p/snakeyaml/\" rel=\"noreferrer\" title=\"SnakeYAML\">SnakeYAML</a>, so this code </p>\n\n<pre><code> Yaml yaml = new Yaml();\n Map&lt;String,Object&gt; map = (Map&lt;String, Object&gt;) yaml.load(yamlDoc);\n</code></pre>\n\n<p>constructs a map that contain the parsed YAML structure (using nested Maps). Then if there is a parser that can convert a map into a json String it will solve my problem, but I didn't find something like that neither.</p>\n\n<p>Any response will be greatly appreciated.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1639009085,"post_id":70283147,"comment_id":124241932,"body_markdown":"Why does `Mazda` get moved to the first index? What&#39;s the point of storing `Volvo` at the end before truncating? Why don&#39;t you make the copy inside the `if`?","body":"Why does <code>Mazda</code> get moved to the first index? What&#39;s the point of storing <code>Volvo</code> at the end before truncating? Why don&#39;t you make the copy inside the <code>if</code>?"},{"owner":{"account_id":21800719,"reputation":15,"user_id":16099626,"display_name":"Rori2000"},"score":0,"creation_date":1639009717,"post_id":70283147,"comment_id":124242059,"body_markdown":"Unfortunately, this is the layout that I am meant to use. The execution program wants it that way. But to answer your first question, Mazda gets moved to the first index because it swaps places with Volvo. So Volvo gets moved to the last index and Mazda the first.","body":"Unfortunately, this is the layout that I am meant to use. The execution program wants it that way. But to answer your first question, Mazda gets moved to the first index because it swaps places with Volvo. So Volvo gets moved to the last index and Mazda the first."}],"answers":[{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639008584,"creation_date":1639008584,"answer_id":70283237,"question_id":70283147,"body_markdown":"Why not create a variable to store whether you have found the candidate or not? Then, if the variable says that you have not found it, the second loop can be avoided. For example,\r\n\r\n       ...\r\n       boolean foundCandidate = false; // initialized to &quot;did not find it&quot; \r\n       for( int i = 0; i &lt; carRegister.length; i++ ) {\r\n           String s = carRegister[i];\r\n           if( s.equals( candidate ) ) {\r\n              // changed if found\r\n              foundCandidate = true;\r\n              ...\r\n\r\n       // now, you can avoid this loop (and modifying carRegister) if it is not necessary\r\n       if( foundCanidate) {\r\n          ...\r\n       }","title":"Removing elements from an array in Java","body":"<p>Why not create a variable to store whether you have found the candidate or not? Then, if the variable says that you have not found it, the second loop can be avoided. For example,</p>\n<pre><code>   ...\n   boolean foundCandidate = false; // initialized to &quot;did not find it&quot; \n   for( int i = 0; i &lt; carRegister.length; i++ ) {\n       String s = carRegister[i];\n       if( s.equals( candidate ) ) {\n          // changed if found\n          foundCandidate = true;\n          ...\n\n   // now, you can avoid this loop (and modifying carRegister) if it is not necessary\n   if( foundCanidate) {\n      ...\n   }\n</code></pre>\n"}],"owner":{"account_id":21800719,"reputation":15,"user_id":16099626,"display_name":"Rori2000"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70283237,"answer_count":1,"score":0,"last_activity_date":1639008584,"creation_date":1639007666,"question_id":70283147,"body_markdown":"    public void removeElement( String candidate ) {\r\n        \r\n    \t// hitta elementet som ska tas bort och placera det sist i arrayen\r\n    \tfor( int i = 0; i &lt; carRegister.length; i++ ) {\r\n    \t\tString s = carRegister[i];\r\n    \t\tif( s.equals( candidate ) ) {\r\n    \t\t\t// byt plats med sista elementet\r\n    \t\t\tString temp = carRegister[carRegister.length-1];\r\n    \t\t\tcarRegister[carRegister.length-1] = s;\r\n    \t\t\tcarRegister[i] = temp;\r\n    \t\t}\t\t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \t// Ta bort elementet genom att kopiera &#246;ver alla utom sista elementet till en ny array\r\n    \tString[] tempArray = new String[carRegister.length-1];\r\n    \tfor( int i = 0 ; i &lt; carRegister.length-1; i++ ) {\r\n    \t\ttempArray[i] = carRegister[i];\r\n    \t}\r\n    \t\r\n    \t// den nya arrayen tilldelas arrayen carRegister\r\n    \tcarRegister = tempArray;\r\n    }\r\n\r\nMy problem with the code is that I do not find a way to prevent the copying from the second for loop if the user input (candidate) does not match any of the elements in the array. As you can see it removes Mazda even though the input is &quot;Tesla&quot;. I don&#39;t know how to stop it from removing the last element in the array in this case.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3vtvY.png","title":"Removing elements from an array in Java","body":"<pre><code>public void removeElement( String candidate ) {\n    \n    // hitta elementet som ska tas bort och placera det sist i arrayen\n    for( int i = 0; i &lt; carRegister.length; i++ ) {\n        String s = carRegister[i];\n        if( s.equals( candidate ) ) {\n            // byt plats med sista elementet\n            String temp = carRegister[carRegister.length-1];\n            carRegister[carRegister.length-1] = s;\n            carRegister[i] = temp;\n        }           \n    }\n    \n    \n    // Ta bort elementet genom att kopiera över alla utom sista elementet till en ny array\n    String[] tempArray = new String[carRegister.length-1];\n    for( int i = 0 ; i &lt; carRegister.length-1; i++ ) {\n        tempArray[i] = carRegister[i];\n    }\n    \n    // den nya arrayen tilldelas arrayen carRegister\n    carRegister = tempArray;\n}\n</code></pre>\n<p>My problem with the code is that I do not find a way to prevent the copying from the second for loop if the user input (candidate) does not match any of the elements in the array. As you can see it removes Mazda even though the input is &quot;Tesla&quot;. I don't know how to stop it from removing the last element in the array in this case.<a href=\"https://i.stack.imgur.com/3vtvY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3vtvY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","oop","arraylist"],"answers":[{"tags":[],"owner":{"account_id":19238625,"reputation":1937,"user_id":14059097,"display_name":"Cyril G."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596773524,"creation_date":1596773524,"answer_id":63295078,"question_id":63295053,"body_markdown":"Use add with index as first parameter: public void add(int index, E element)","title":"How to append into first element of Arraylist?","body":"<p>Use add with index as first parameter: public void add(int index, E element)</p>\n"},{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596774172,"creation_date":1596774172,"answer_id":63295161,"question_id":63295053,"body_markdown":"Use the `get` method to read the first element from the list, and the `set` method to write the modified value. Read the API documentation to see what methods are available for lists: https://docs.oracle.com/javase/10/docs/api/java/util/List.html\r\n\r\n```\r\nString firstItem = list.get(0);\r\nlist.set(0, firstItem + &quot; 99&quot;);","title":"How to append into first element of Arraylist?","body":"<p>Use the <code>get</code> method to read the first element from the list, and the <code>set</code> method to write the modified value. Read the API documentation to see what methods are available for lists: <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/List.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/10/docs/api/java/util/List.html</a></p>\n<pre><code>String firstItem = list.get(0);\nlist.set(0, firstItem + &quot; 99&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19226838,"reputation":253,"user_id":14049546,"display_name":"Jonathan Locke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596775442,"creation_date":1596775442,"answer_id":63295347,"question_id":63295053,"body_markdown":"You might want to consider a LinkedList where insertion is cheaper if this list is very big.","title":"How to append into first element of Arraylist?","body":"<p>You might want to consider a LinkedList where insertion is cheaper if this list is very big.</p>\n"},{"tags":[],"owner":{"account_id":11050835,"reputation":201,"user_id":8115355,"display_name":"TravelerVihaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639008182,"creation_date":1596782370,"answer_id":63296519,"question_id":63295053,"body_markdown":"You can use ```LinkedList.addFirst()``` which has the best performance. But you have to remember, that you are obligated to declare instance your list as ```LinkedList```, instead of a more universal interface ```List```.\r\n\r\nThe second way is to use two arguments ```List.add(int index, E Element)``` method. Then you can have your list declared as ```List```.","title":"How to append into first element of Arraylist?","body":"<p>You can use <code>LinkedList.addFirst()</code> which has the best performance. But you have to remember, that you are obligated to declare instance your list as <code>LinkedList</code>, instead of a more universal interface <code>List</code>.</p>\n<p>The second way is to use two arguments <code>List.add(int index, E Element)</code> method. Then you can have your list declared as <code>List</code>.</p>\n"}],"owner":{"account_id":19244601,"reputation":9,"user_id":14063884,"display_name":"chinmay karangutkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1596812412,"answer_count":4,"score":-2,"last_activity_date":1639008182,"creation_date":1596773364,"question_id":63295053,"body_markdown":"For eg:- my Arraylist is :-\r\n**[S1 10 20 12, S2 11 21 13, S3 13 10 12]**\r\nThus i want to add extra element **(99)** in first place keeping previous ones as they were **[S1 10 20 12]**\r\nMy output should be [S1 10 20 12 **99**, S2 11 21 13, S3 13 10 12]\r\n","title":"How to append into first element of Arraylist?","body":"<p>For eg:- my Arraylist is :-\n<strong>[S1 10 20 12, S2 11 21 13, S3 13 10 12]</strong>\nThus i want to add extra element <strong>(99)</strong> in first place keeping previous ones as they were <strong>[S1 10 20 12]</strong>\nMy output should be [S1 10 20 12 <strong>99</strong>, S2 11 21 13, S3 13 10 12]</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1638718464,"post_id":70235690,"comment_id":124156983,"body_markdown":"Read the docs.  https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html#list()   &quot;If this abstract pathname does not denote a directory, then this method returns null. &quot;","body":"Read the docs.  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html#list()\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io&zwnj;&#8203;/&hellip;</a>   &quot;If this abstract pathname does not denote a directory, then this method returns null. &quot;"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639008133,"creation_date":1638718119,"answer_id":70235773,"question_id":70235690,"body_markdown":"The problem is getting the count when the directory list is null will fail on the first line. Add a test that sets `fileCount` to zero in that case. Like,\r\n\r\n    File[] logFiles = directory.listFiles();\r\n    int fileCount = (logFiles == null) ? 0 : logFiles.length;\r\n    for (int i = 0; i &lt; fileCount; i++) { // &lt;-- this is safe\r\n        File f = logFiles[i];\r\n        System.out.println(f);\r\n    }","title":"Skip folder if it does not exists using java","body":"<p>The problem is getting the count when the directory list is null will fail on the first line. Add a test that sets <code>fileCount</code> to zero in that case. Like,</p>\n<pre><code>File[] logFiles = directory.listFiles();\nint fileCount = (logFiles == null) ? 0 : logFiles.length;\nfor (int i = 0; i &lt; fileCount; i++) { // &lt;-- this is safe\n    File f = logFiles[i];\n    System.out.println(f);\n}\n</code></pre>\n"}],"owner":{"account_id":23212951,"reputation":23,"user_id":17306162,"display_name":"unanonymous56"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70235773,"answer_count":1,"score":-1,"last_activity_date":1639008133,"creation_date":1638717415,"question_id":70235690,"body_markdown":"I have created a property file in java named prop.properties inside eclipse.\r\n\r\nIn prop.properties file, I have added below lines:-\r\nusers = user1,user2,user3\r\n\r\nwhere user1 , user2 and user3 are folders.\r\n\r\nI have created directory named TestDir which contains,\r\nuser1,user3 folders\r\n\r\nSuppose if user2 folder is not present in TestDir, I have to skip that and consider the other folder.\r\n\r\nI have used the below code,\r\n\r\n    int fileCount = directory.list().length;\r\n    File[] logFiles = directory.listFiles();\r\n    \t\t\tif (logFiles != null) {\r\n    \t\t\t\tfor (File f : logFiles) {\r\n    \t\t\t\tSystem.out.println(f);\r\n    \t\t\t\t}\r\n    }\r\n\r\nBut I am getting error. The error is,\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read the array length because the return value of &quot;java.io.File.list()&quot; is null\r\n\r\nCan someone help with resolution","title":"Skip folder if it does not exists using java","body":"<p>I have created a property file in java named prop.properties inside eclipse.</p>\n<p>In prop.properties file, I have added below lines:-\nusers = user1,user2,user3</p>\n<p>where user1 , user2 and user3 are folders.</p>\n<p>I have created directory named TestDir which contains,\nuser1,user3 folders</p>\n<p>Suppose if user2 folder is not present in TestDir, I have to skip that and consider the other folder.</p>\n<p>I have used the below code,</p>\n<pre><code>int fileCount = directory.list().length;\nFile[] logFiles = directory.listFiles();\n            if (logFiles != null) {\n                for (File f : logFiles) {\n                System.out.println(f);\n                }\n}\n</code></pre>\n<p>But I am getting error. The error is,</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read the array length because the return value of &quot;java.io.File.list()&quot; is null\n</code></pre>\n<p>Can someone help with resolution</p>\n"},{"tags":["java","exception","noclassdeffounderror","ini4j"],"answers":[{"tags":[],"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435783035,"creation_date":1435783035,"answer_id":31171190,"question_id":31171113,"body_markdown":"You also need to specify the -classpath option when you run the program. Java will not automatically pick up the jar files that you passed when you compiled your code.","title":"Getting &#39;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/ini4j/Ini&#39; error after succesfully compiling source file from the CLI","body":"<p>You also need to specify the -classpath option when you run the program. Java will not automatically pick up the jar files that you passed when you compiled your code.</p>\n"},{"tags":[],"owner":{"account_id":175699,"reputation":585,"user_id":405887,"accept_rate":50,"display_name":"Ego"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1435785828,"creation_date":1435785828,"answer_id":31171949,"question_id":31171113,"body_markdown":"The correct answer  for my situation appears to be:\r\n    java -cp .:ini4j-0.5.4.jar Driver\r\nThanks for pointing me in the correct direction guys!!!!  Using an IDE causes one to forget stuff like this.   I really appreciate it!!!!  Thanks!!!!!","title":"Getting &#39;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/ini4j/Ini&#39; error after succesfully compiling source file from the CLI","body":"<p>The correct answer  for my situation appears to be:\n    java -cp .:ini4j-0.5.4.jar Driver\nThanks for pointing me in the correct direction guys!!!!  Using an IDE causes one to forget stuff like this.   I really appreciate it!!!!  Thanks!!!!!</p>\n"},{"tags":[],"owner":{"account_id":23587170,"reputation":1,"user_id":17625484,"display_name":"Adrian Zetak"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1639007791,"creation_date":1638964974,"answer_id":70274701,"question_id":31171113,"body_markdown":"Look at *Elipse-&gt;Properties-&gt;JavaBuildPath-&gt;Libraries*\r\nlist of extended JARs have to be in CLASSPATH\r\n\r\n[please check for more info][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CaOkx.png","title":"Getting &#39;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/ini4j/Ini&#39; error after succesfully compiling source file from the CLI","body":"<p>Look at <em>Elipse-&gt;Properties-&gt;JavaBuildPath-&gt;Libraries</em>\nlist of extended JARs have to be in CLASSPATH</p>\n<p><a href=\"https://i.stack.imgur.com/CaOkx.png\" rel=\"nofollow noreferrer\">please check for more info</a></p>\n"}],"owner":{"account_id":175699,"reputation":585,"user_id":405887,"accept_rate":50,"display_name":"Ego"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1595,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":31171949,"answer_count":3,"score":-1,"last_activity_date":1639007791,"creation_date":1435782746,"question_id":31171113,"body_markdown":"Background:\r\nI am trying to use ini4j for the purpose of parsing config files in the ini format.\r\n\r\nI run the command:\r\njavac -classpath ini4j-0.5.4.jar   Driver.java\r\nand the compilation goes smoothly...however when I attempt to run the program running:\r\njava Driver\r\nI get this error: \r\n\r\n`    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/ini4j/Ini\r\n\tat Clock.main(Clock.java:13)\r\n    Caused by: java.lang.ClassNotFoundException: org.ini4j.Ini\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n\t... 1 more`\r\n\r\nFrom what I understand this error is a product of the jvm being able to find the class file being referenced in the error and failing.  I checked the ini4j jar file and confirmed that the Ini.class file does in fact exist.   Can anyone please tell me what am I missing here ?\r\n\r\nThe following is my source code:\r\n\r\n    import java.util.Map;   \r\n    import java.io.IOException;\r\n    import java.io.File;\r\n    import org.ini4j.* ;\r\n    public class Driver{\r\n        public static void main(String[] args){\r\n    \t    System.out.println(&quot;running in Clock-J main()&quot;);\r\n    \t    String fileName = &quot;./test.ini&quot; ;\r\n    \t    File fileObject = new File(fileName);\r\n    \t    try{\r\n    \t\t    Ini ini = new Ini(fileObject);\r\n    \t    }catch(IOException e){\r\n    \t\t    String exception = e.toString() ;\r\n    \t\t    e.printStackTrace();\r\n    \t    }\r\n         }\r\n    }","title":"Getting &#39;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/ini4j/Ini&#39; error after succesfully compiling source file from the CLI","body":"<p>Background:\nI am trying to use ini4j for the purpose of parsing config files in the ini format.</p>\n\n<p>I run the command:\njavac -classpath ini4j-0.5.4.jar   Driver.java\nand the compilation goes smoothly...however when I attempt to run the program running:\njava Driver\nI get this error: </p>\n\n<p><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/ini4j/Ini\n    at Clock.main(Clock.java:13)\n    Caused by: java.lang.ClassNotFoundException: org.ini4j.Ini\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    ... 1 more</code></p>\n\n<p>From what I understand this error is a product of the jvm being able to find the class file being referenced in the error and failing.  I checked the ini4j jar file and confirmed that the Ini.class file does in fact exist.   Can anyone please tell me what am I missing here ?</p>\n\n<p>The following is my source code:</p>\n\n<pre><code>import java.util.Map;   \nimport java.io.IOException;\nimport java.io.File;\nimport org.ini4j.* ;\npublic class Driver{\n    public static void main(String[] args){\n        System.out.println(\"running in Clock-J main()\");\n        String fileName = \"./test.ini\" ;\n        File fileObject = new File(fileName);\n        try{\n            Ini ini = new Ini(fileObject);\n        }catch(IOException e){\n            String exception = e.toString() ;\n            e.printStackTrace();\n        }\n     }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":400660,"reputation":4729,"user_id":766755,"display_name":"Michael Krause"},"score":0,"creation_date":1639009304,"post_id":70283143,"comment_id":124241970,"body_markdown":"Welcome to StackOverflow!  I would start by adding some debug logging in your RecogitionListener#onError and RecognitionListener#onResults methods to see what&#39;s getting called.  Alternatively, you can run the debugger and put breakpoints on these methods and see what&#39;s going on that way.","body":"Welcome to StackOverflow!  I would start by adding some debug logging in your RecogitionListener#onError and RecognitionListener#onResults methods to see what&#39;s getting called.  Alternatively, you can run the debugger and put breakpoints on these methods and see what&#39;s going on that way."},{"owner":{"account_id":21556100,"reputation":1,"user_id":15891316,"display_name":"Zaka"},"score":0,"creation_date":1639013853,"post_id":70283143,"comment_id":124242726,"body_markdown":"I am sorry i didn&#39;t get you told me can you explain more","body":"I am sorry i didn&#39;t get you told me can you explain more"},{"owner":{"account_id":400660,"reputation":4729,"user_id":766755,"display_name":"Michael Krause"},"score":0,"creation_date":1639026534,"post_id":70283143,"comment_id":124244677,"body_markdown":"You should add logging to your code to help you debug it.  Please read about how to [write and view logs with logcat](https://developer.android.com/studio/debug/am-logcat) and the [logcat command tool](https://developer.android.com/studio/command-line/logcat) for more information.","body":"You should add logging to your code to help you debug it.  Please read about how to <a href=\"https://developer.android.com/studio/debug/am-logcat\" rel=\"nofollow noreferrer\">write and view logs with logcat</a> and the <a href=\"https://developer.android.com/studio/command-line/logcat\" rel=\"nofollow noreferrer\">logcat command tool</a> for more information."}],"owner":{"account_id":21556100,"reputation":1,"user_id":15891316,"display_name":"Zaka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639007635,"creation_date":1639007635,"question_id":70283143,"body_markdown":"Today i am posting my first question here in stackoverflow. \r\nMy app&#39;s subject is speech to text application all the app is working but the text doen&#39;t appear in its zone after saying the speech. So i am here asking you all for help.\r\n Belong my xml file :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/edittext&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:hint=&quot;Tap Mic to Speak&quot;\r\n        android:padding=&quot;20dp&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n    &lt;ImageButton\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/edittext&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:padding=&quot;40dp&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        android:src=&quot;@drawable/ic_baseline_mic_24&quot; /&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\nAnd my main code:\r\n\r\n\r\n       package com.example.translationapp;\r\n\r\n\r\n       \r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        checkPermission();\r\n\r\n        final EditText edittext = findViewById(R.id.edittext);\r\n\r\n        final SpeechRecognizer mSpeechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\r\n\r\n\r\n        final Intent mSpeechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n        mSpeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,\r\n                RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n        mSpeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE,\r\n                Locale.getDefault());\r\n\r\n\r\n        mSpeechRecognizer.setRecognitionListener(new RecognitionListener() {\r\n            @Override\r\n            public void onReadyForSpeech(Bundle bundle) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onBeginningOfSpeech() {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onRmsChanged(float v) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onBufferReceived(byte[] bytes) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onEndOfSpeech() {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onError(int i) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onResults(Bundle bundle) {\r\n                //getting all the matches\r\n                ArrayList&lt;String&gt; matches = bundle\r\n                        .getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\r\n\r\n                //displaying the first match\r\n                if (matches != null) {\r\n                    edittext.setText(matches.get(0));\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onPartialResults(Bundle bundle) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onEvent(int i, Bundle bundle) {\r\n\r\n            }\r\n        });\r\n\r\n        findViewById(R.id.button).setOnTouchListener(new View.OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View view, MotionEvent motionEvent) {\r\n                switch (motionEvent.getAction()) {\r\n                    case MotionEvent.ACTION_UP:\r\n                        mSpeechRecognizer.stopListening();\r\n                        edittext.setHint(&quot;You will see input here&quot;);\r\n                        break;\r\n\r\n                    case MotionEvent.ACTION_DOWN:\r\n                        mSpeechRecognizer.startListening(mSpeechRecognizerIntent);\r\n                        edittext.setText(&quot;&quot;);\r\n                        edittext.setHint(&quot;Listening...&quot;);\r\n                        break;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void checkPermission() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            if (!(ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED)) {\r\n                Intent intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS,\r\n                        Uri.parse(&quot;package:&quot; + getPackageName()));\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\n     \r\nSo please again and thank you all for your time.\r\n\r\n\r\n","title":"Text doen&#39;t appear after speech in adroid studio","body":"<p>Today i am posting my first question here in stackoverflow.\nMy app's subject is speech to text application all the app is working but the text doen't appear in its zone after saying the speech. So i am here asking you all for help.\nBelong my xml file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;EditText\n    android:id=&quot;@+id/edittext&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_centerInParent=&quot;true&quot;\n    android:hint=&quot;Tap Mic to Speak&quot;\n    android:padding=&quot;20dp&quot;\n    android:textColor=&quot;#000000&quot;\n    android:textSize=&quot;20sp&quot; /&gt;\n\n&lt;ImageButton\n    android:id=&quot;@+id/button&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_below=&quot;@+id/edittext&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:padding=&quot;40dp&quot;\n    android:background=&quot;@color/white&quot;\n    android:src=&quot;@drawable/ic_baseline_mic_24&quot; /&gt;\n\n    &lt;/RelativeLayout&gt;\n</code></pre>\n<p>And my main code:</p>\n<pre><code>   package com.example.translationapp;\n\n\n   \n\n\npublic class MainActivity extends AppCompatActivity {\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    checkPermission();\n\n    final EditText edittext = findViewById(R.id.edittext);\n\n    final SpeechRecognizer mSpeechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\n\n\n    final Intent mSpeechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n    mSpeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,\n            RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n    mSpeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE,\n            Locale.getDefault());\n\n\n    mSpeechRecognizer.setRecognitionListener(new RecognitionListener() {\n        @Override\n        public void onReadyForSpeech(Bundle bundle) {\n\n        }\n\n        @Override\n        public void onBeginningOfSpeech() {\n\n        }\n\n        @Override\n        public void onRmsChanged(float v) {\n\n        }\n\n        @Override\n        public void onBufferReceived(byte[] bytes) {\n\n        }\n\n        @Override\n        public void onEndOfSpeech() {\n\n        }\n\n        @Override\n        public void onError(int i) {\n\n        }\n\n        @Override\n        public void onResults(Bundle bundle) {\n            //getting all the matches\n            ArrayList&lt;String&gt; matches = bundle\n                    .getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\n\n            //displaying the first match\n            if (matches != null) {\n                edittext.setText(matches.get(0));\n            }\n        }\n\n        @Override\n        public void onPartialResults(Bundle bundle) {\n\n        }\n\n        @Override\n        public void onEvent(int i, Bundle bundle) {\n\n        }\n    });\n\n    findViewById(R.id.button).setOnTouchListener(new View.OnTouchListener() {\n        @Override\n        public boolean onTouch(View view, MotionEvent motionEvent) {\n            switch (motionEvent.getAction()) {\n                case MotionEvent.ACTION_UP:\n                    mSpeechRecognizer.stopListening();\n                    edittext.setHint(&quot;You will see input here&quot;);\n                    break;\n\n                case MotionEvent.ACTION_DOWN:\n                    mSpeechRecognizer.startListening(mSpeechRecognizerIntent);\n                    edittext.setText(&quot;&quot;);\n                    edittext.setHint(&quot;Listening...&quot;);\n                    break;\n            }\n            return false;\n        }\n    });\n}\n\n\nprivate void checkPermission() {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        if (!(ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED)) {\n            Intent intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS,\n                    Uri.parse(&quot;package:&quot; + getPackageName()));\n            startActivity(intent);\n            finish();\n        }\n    }\n}\n}\n\n \n</code></pre>\n<p>So please again and thank you all for your time.</p>\n"},{"tags":["java","json","retrofit"],"comments":[{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":1,"creation_date":1639006341,"post_id":70282956,"comment_id":124241394,"body_markdown":"Doin&#39;t include links to crap; we assume it is an attempt to give us a virus.  Simplify the JSON and include it in the question.","body":"Doin&#39;t include links to crap; we assume it is an attempt to give us a virus.  Simplify the JSON and include it in the question."},{"owner":{"account_id":23593043,"reputation":1,"user_id":17630533,"display_name":"Gabriel"},"score":0,"creation_date":1639006539,"post_id":70282956,"comment_id":124241425,"body_markdown":"sorry about that, fixed.","body":"sorry about that, fixed."}],"owner":{"account_id":23593043,"reputation":1,"user_id":17630533,"display_name":"Gabriel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639007228,"creation_date":1639006018,"question_id":70282956,"body_markdown":"I&#39;m currently working on an end of the semester project. It is an android app that would function as both a music database and shop, and I am using the MusicBrainz API to fetch the information on releases and artists.\r\n\r\nUnfortunately, I&#39;m stuck on a very vital part of my project: the API itself. I keep getting this error\r\n\r\n    java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\r\n\r\nLooking around online, I discovered that this was because the JSON itself was badly written, however, looking again and using a JSON validator made me realise that this was not the case. Here is the json I&#39;m trying to fetch\r\n\r\n    {\r\n    \t&quot;ipis&quot;: [],\r\n    \t&quot;type&quot;: &quot;Group&quot;,\r\n    \t&quot;life-span&quot;: {\r\n    \t\t&quot;end&quot;: &quot;2017-02-04&quot;,\r\n    \t\t&quot;begin&quot;: &quot;1969&quot;,\r\n    \t\t&quot;ended&quot;: true\r\n    \t},\r\n    \t&quot;area&quot;: {\r\n    \t\t&quot;name&quot;: &quot;United Kingdom&quot;,\r\n    \t\t&quot;id&quot;: &quot;8a754a16-0027-3a29-b6d7-2b40ea0481ed&quot;,\r\n    \t\t&quot;type&quot;: null,\r\n    \t\t&quot;disambiguation&quot;: &quot;&quot;,\r\n    \t\t&quot;iso-3166-1-codes&quot;: [&quot;GB&quot;],\r\n    \t\t&quot;type-id&quot;: null,\r\n    \t\t&quot;sort-name&quot;: &quot;United Kingdom&quot;\r\n    \t},\r\n    \t&quot;disambiguation&quot;: &quot;&quot;,\r\n    \t&quot;type-id&quot;: &quot;e431f5f6-b5d2-343d-8b36-72607fffb74b&quot;,\r\n    \t&quot;isnis&quot;: [&quot;0000000123694269&quot;],\r\n    \t&quot;name&quot;: &quot;Black Sabbath&quot;,\r\n    \t&quot;begin_area&quot;: {\r\n    \t\t&quot;name&quot;: &quot;Birmingham&quot;,\r\n    \t\t&quot;type&quot;: null,\r\n    \t\t&quot;id&quot;: &quot;226c4dca-ef2a-4d4b-ba25-4118d116557a&quot;,\r\n    \t\t&quot;disambiguation&quot;: &quot;&quot;,\r\n    \t\t&quot;type-id&quot;: null,\r\n    \t\t&quot;sort-name&quot;: &quot;Birmingham&quot;,\r\n    \t\t&quot;iso-3166-2-codes&quot;: [&quot;GB-BIR&quot;]\r\n    \t},\r\n    \t&quot;id&quot;: &quot;5182c1d9-c7d2-4dad-afa0-ccfeada921a8&quot;,\r\n    \t&quot;gender-id&quot;: null,\r\n    \t&quot;end-area&quot;: {\r\n    \t\t&quot;name&quot;: &quot;Birmingham&quot;,\r\n    \t\t&quot;id&quot;: &quot;226c4dca-ef2a-4d4b-ba25-4118d116557a&quot;,\r\n    \t\t&quot;type&quot;: null,\r\n    \t\t&quot;disambiguation&quot;: &quot;&quot;,\r\n    \t\t&quot;type-id&quot;: null,\r\n    \t\t&quot;iso-3166-2-codes&quot;: [&quot;GB-BIR&quot;],\r\n    \t\t&quot;sort-name&quot;: &quot;Birmingham&quot;\r\n    \t},\r\n    \t&quot;begin-area&quot;: {\r\n    \t\t&quot;name&quot;: &quot;Birmingham&quot;,\r\n    \t\t&quot;type&quot;: null,\r\n    \t\t&quot;id&quot;: &quot;226c4dca-ef2a-4d4b-ba25-4118d116557a&quot;,\r\n    \t\t&quot;disambiguation&quot;: &quot;&quot;,\r\n    \t\t&quot;type-id&quot;: null,\r\n    \t\t&quot;sort-name&quot;: &quot;Birmingham&quot;,\r\n    \t\t&quot;iso-3166-2-codes&quot;: [&quot;GB-BIR&quot;]\r\n    \t},\r\n    \t&quot;country&quot;: &quot;GB&quot;,\r\n    \t&quot;sort-name&quot;: &quot;Black Sabbath&quot;,\r\n    \t&quot;gender&quot;: null,\r\n    \t&quot;end_area&quot;: {\r\n    \t\t&quot;name&quot;: &quot;Birmingham&quot;,\r\n    \t\t&quot;id&quot;: &quot;226c4dca-ef2a-4d4b-ba25-4118d116557a&quot;,\r\n    \t\t&quot;type&quot;: null,\r\n    \t\t&quot;disambiguation&quot;: &quot;&quot;,\r\n    \t\t&quot;type-id&quot;: null,\r\n    \t\t&quot;iso-3166-2-codes&quot;: [&quot;GB-BIR&quot;],\r\n    \t\t&quot;sort-name&quot;: &quot;Birmingham&quot;\r\n    \t}\r\n    }\r\n\r\nand here is part of my code:\r\n\r\nMy main method:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        private  static  final String TAG = &quot;Mainactivity&quot;;\r\n    \r\n        JSONPlaceHolderArtist artistJSON;\r\n        Button b;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            artistJSON = MusicBrainzAPI.getClient().create(JSONPlaceHolderArtist.class);\r\n            b = findViewById(R.id.button);\r\n            b.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    getArtist();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void getArtist() {\r\n            Call&lt;ArtistAPI&gt; call = artistJSON.getArtist(&quot;5182c1d9-c7d2-4dad-afa0-ccfeada921a8&quot;);\r\n            call.enqueue(new Callback&lt;ArtistAPI&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;ArtistAPI&gt; call, Response&lt;ArtistAPI&gt; response) {\r\n                    Log.e(TAG,&quot;on response: &quot; + response.body());\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;ArtistAPI&gt; call, Throwable t) {\r\n                    Log.i(TAG, &quot;on failure: &quot; + t.getLocalizedMessage());\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nThe ArtistAPI class:\r\n\r\n\r\n    public class ArtistAPI {\r\n    \r\n        String id, name, country, begin, end;\r\n        Boolean ended;\r\n    \r\n        public String getArtistID() {\r\n            return id;\r\n        }\r\n    \r\n        public String getArtistName() {\r\n        [...]\r\n\r\nThe Retrofit interface:\r\n\r\n    public interface JSONPlaceHolderArtist {\r\n    \r\n        @GET(&quot;/artist/{id}/name?fmt=json&quot;)\r\n        Call&lt;ArtistAPI&gt; getArtist(@Path(&quot;id&quot;) String id);\r\n    }\r\nand the API:\r\n\r\n    public class MusicBrainzAPI {\r\n    \r\n        private static final String BASE_URL = &quot;https://musicbrainz.org/ws/2/&quot;;\r\n        private static Retrofit retrofit = null;\r\n    \r\n        public static Retrofit getClient() {\r\n            if (retrofit == null) {\r\n                Gson gson = new GsonBuilder().setLenient().create();\r\n                retrofit = new Retrofit.Builder().baseUrl(BASE_URL).\r\n                        addConverterFactory(GsonConverterFactory.create(gson)).build();\r\n            }\r\n            return retrofit;\r\n        }\r\n    }\r\n\r\nAny help? Thanks in advance!\r\n\r\n\r\n  [1]: https://musicbrainz.org/ws/2/artist/5182c1d9-c7d2-4dad-afa0-ccfeada921a8/name?fmt=json\r\n","title":"&quot;Expected BEGIN_OBJECT but was STRING&quot; error despite JSON being valid","body":"<p>I'm currently working on an end of the semester project. It is an android app that would function as both a music database and shop, and I am using the MusicBrainz API to fetch the information on releases and artists.</p>\n<p>Unfortunately, I'm stuck on a very vital part of my project: the API itself. I keep getting this error</p>\n<pre><code>java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\n</code></pre>\n<p>Looking around online, I discovered that this was because the JSON itself was badly written, however, looking again and using a JSON validator made me realise that this was not the case. Here is the json I'm trying to fetch</p>\n<pre><code>{\n    &quot;ipis&quot;: [],\n    &quot;type&quot;: &quot;Group&quot;,\n    &quot;life-span&quot;: {\n        &quot;end&quot;: &quot;2017-02-04&quot;,\n        &quot;begin&quot;: &quot;1969&quot;,\n        &quot;ended&quot;: true\n    },\n    &quot;area&quot;: {\n        &quot;name&quot;: &quot;United Kingdom&quot;,\n        &quot;id&quot;: &quot;8a754a16-0027-3a29-b6d7-2b40ea0481ed&quot;,\n        &quot;type&quot;: null,\n        &quot;disambiguation&quot;: &quot;&quot;,\n        &quot;iso-3166-1-codes&quot;: [&quot;GB&quot;],\n        &quot;type-id&quot;: null,\n        &quot;sort-name&quot;: &quot;United Kingdom&quot;\n    },\n    &quot;disambiguation&quot;: &quot;&quot;,\n    &quot;type-id&quot;: &quot;e431f5f6-b5d2-343d-8b36-72607fffb74b&quot;,\n    &quot;isnis&quot;: [&quot;0000000123694269&quot;],\n    &quot;name&quot;: &quot;Black Sabbath&quot;,\n    &quot;begin_area&quot;: {\n        &quot;name&quot;: &quot;Birmingham&quot;,\n        &quot;type&quot;: null,\n        &quot;id&quot;: &quot;226c4dca-ef2a-4d4b-ba25-4118d116557a&quot;,\n        &quot;disambiguation&quot;: &quot;&quot;,\n        &quot;type-id&quot;: null,\n        &quot;sort-name&quot;: &quot;Birmingham&quot;,\n        &quot;iso-3166-2-codes&quot;: [&quot;GB-BIR&quot;]\n    },\n    &quot;id&quot;: &quot;5182c1d9-c7d2-4dad-afa0-ccfeada921a8&quot;,\n    &quot;gender-id&quot;: null,\n    &quot;end-area&quot;: {\n        &quot;name&quot;: &quot;Birmingham&quot;,\n        &quot;id&quot;: &quot;226c4dca-ef2a-4d4b-ba25-4118d116557a&quot;,\n        &quot;type&quot;: null,\n        &quot;disambiguation&quot;: &quot;&quot;,\n        &quot;type-id&quot;: null,\n        &quot;iso-3166-2-codes&quot;: [&quot;GB-BIR&quot;],\n        &quot;sort-name&quot;: &quot;Birmingham&quot;\n    },\n    &quot;begin-area&quot;: {\n        &quot;name&quot;: &quot;Birmingham&quot;,\n        &quot;type&quot;: null,\n        &quot;id&quot;: &quot;226c4dca-ef2a-4d4b-ba25-4118d116557a&quot;,\n        &quot;disambiguation&quot;: &quot;&quot;,\n        &quot;type-id&quot;: null,\n        &quot;sort-name&quot;: &quot;Birmingham&quot;,\n        &quot;iso-3166-2-codes&quot;: [&quot;GB-BIR&quot;]\n    },\n    &quot;country&quot;: &quot;GB&quot;,\n    &quot;sort-name&quot;: &quot;Black Sabbath&quot;,\n    &quot;gender&quot;: null,\n    &quot;end_area&quot;: {\n        &quot;name&quot;: &quot;Birmingham&quot;,\n        &quot;id&quot;: &quot;226c4dca-ef2a-4d4b-ba25-4118d116557a&quot;,\n        &quot;type&quot;: null,\n        &quot;disambiguation&quot;: &quot;&quot;,\n        &quot;type-id&quot;: null,\n        &quot;iso-3166-2-codes&quot;: [&quot;GB-BIR&quot;],\n        &quot;sort-name&quot;: &quot;Birmingham&quot;\n    }\n}\n</code></pre>\n<p>and here is part of my code:</p>\n<p>My main method:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private  static  final String TAG = &quot;Mainactivity&quot;;\n\n    JSONPlaceHolderArtist artistJSON;\n    Button b;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        artistJSON = MusicBrainzAPI.getClient().create(JSONPlaceHolderArtist.class);\n        b = findViewById(R.id.button);\n        b.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                getArtist();\n            }\n        });\n    }\n\n    private void getArtist() {\n        Call&lt;ArtistAPI&gt; call = artistJSON.getArtist(&quot;5182c1d9-c7d2-4dad-afa0-ccfeada921a8&quot;);\n        call.enqueue(new Callback&lt;ArtistAPI&gt;() {\n            @Override\n            public void onResponse(Call&lt;ArtistAPI&gt; call, Response&lt;ArtistAPI&gt; response) {\n                Log.e(TAG,&quot;on response: &quot; + response.body());\n            }\n\n            @Override\n            public void onFailure(Call&lt;ArtistAPI&gt; call, Throwable t) {\n                Log.i(TAG, &quot;on failure: &quot; + t.getLocalizedMessage());\n            }\n        });\n    }\n}\n</code></pre>\n<p>The ArtistAPI class:</p>\n<pre><code>public class ArtistAPI {\n\n    String id, name, country, begin, end;\n    Boolean ended;\n\n    public String getArtistID() {\n        return id;\n    }\n\n    public String getArtistName() {\n    [...]\n</code></pre>\n<p>The Retrofit interface:</p>\n<pre><code>public interface JSONPlaceHolderArtist {\n\n    @GET(&quot;/artist/{id}/name?fmt=json&quot;)\n    Call&lt;ArtistAPI&gt; getArtist(@Path(&quot;id&quot;) String id);\n}\n</code></pre>\n<p>and the API:</p>\n<pre><code>public class MusicBrainzAPI {\n\n    private static final String BASE_URL = &quot;https://musicbrainz.org/ws/2/&quot;;\n    private static Retrofit retrofit = null;\n\n    public static Retrofit getClient() {\n        if (retrofit == null) {\n            Gson gson = new GsonBuilder().setLenient().create();\n            retrofit = new Retrofit.Builder().baseUrl(BASE_URL).\n                    addConverterFactory(GsonConverterFactory.create(gson)).build();\n        }\n        return retrofit;\n    }\n}\n</code></pre>\n<p>Any help? Thanks in advance!</p>\n"},{"tags":["java","csv","export-to-csv","filewriter"],"comments":[{"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":"ʀᴀʜɪʟ"},"score":0,"creation_date":1638800614,"post_id":70246758,"comment_id":124177194,"body_markdown":"Please add the text of your CSV file showing the rows and columns as you wish to add.","body":"Please add the text of your CSV file showing the rows and columns as you wish to add."},{"owner":{"account_id":18833175,"reputation":45,"user_id":13736489,"display_name":"Sebastian Halik"},"score":0,"creation_date":1638801206,"post_id":70246758,"comment_id":124177472,"body_markdown":"https://imgur.com/oxm4LQJ\n\nSomething like that. And the 3rd iteration will be in 4th row.","body":"<a href=\"https://imgur.com/oxm4LQJ\" rel=\"nofollow noreferrer\">imgur.com/oxm4LQJ</a>  Something like that. And the 3rd iteration will be in 4th row."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638854433,"creation_date":1638836147,"answer_id":70253504,"question_id":70246758,"body_markdown":"For something like this, it is a good idea to use an existing Java CSV library.  One possibility is [Apache Commons CSV](https://commons.apache.org/proper/commons-csv/).  &quot;Google is your friend&quot; if you want to find tutorials or other alternatives.\r\n\r\nBut if you wanted to &quot;roll your own&quot; code, there are various ways to do it.  The simplest way to change your code so that it records multiple rows in the CSV would be to change\r\n\r\n      new FileWriter(&quot;statistic.csv&quot;);\r\n\r\nto\r\n\r\n      new FileWriter(&quot;statistic.csv&quot;, true);\r\n\r\nThat opens the file in &quot;append&quot; mode, and the new row will be added at the end of the file instead of replacing the existing row.\r\n\r\nYou should also use Java 7+ *try with resources* to manage the `FileWriter`.  That will make sure that the `FileWriter` is always properly closed.\r\n\r\nIf you want to get fancy with CSV headers, more efficient file handling, etc, you will need to write your own `CSVWriter` class.  But if you are doing that, you would be better off using a library someone has already designed, written and tested.  (See above!)","title":"Write in specific row via FileWriter Java","body":"<p>For something like this, it is a good idea to use an existing Java CSV library.  One possibility is <a href=\"https://commons.apache.org/proper/commons-csv/\" rel=\"nofollow noreferrer\">Apache Commons CSV</a>.  &quot;Google is your friend&quot; if you want to find tutorials or other alternatives.</p>\n<p>But if you wanted to &quot;roll your own&quot; code, there are various ways to do it.  The simplest way to change your code so that it records multiple rows in the CSV would be to change</p>\n<pre><code>  new FileWriter(&quot;statistic.csv&quot;);\n</code></pre>\n<p>to</p>\n<pre><code>  new FileWriter(&quot;statistic.csv&quot;, true);\n</code></pre>\n<p>That opens the file in &quot;append&quot; mode, and the new row will be added at the end of the file instead of replacing the existing row.</p>\n<p>You should also use Java 7+ <em>try with resources</em> to manage the <code>FileWriter</code>.  That will make sure that the <code>FileWriter</code> is always properly closed.</p>\n<p>If you want to get fancy with CSV headers, more efficient file handling, etc, you will need to write your own <code>CSVWriter</code> class.  But if you are doing that, you would be better off using a library someone has already designed, written and tested.  (See above!)</p>\n"}],"owner":{"account_id":18833175,"reputation":45,"user_id":13736489,"display_name":"Sebastian Halik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":798,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70253504,"answer_count":1,"score":0,"last_activity_date":1639007189,"creation_date":1638799587,"question_id":70246758,"body_markdown":"I have some data that I want to write. \r\nCode:\r\n\r\n    private void saveStats(int early, int infected, int recovered, int deads, int notInfected, int vaccinated, int iteration){\r\n        try\r\n        {\r\n            FileWriter txt = new FileWriter(&quot;statistic.csv&quot;);\r\n\r\n            txt.write((String.valueOf(early)));\r\n            txt.write(&quot;;&quot;);\r\n            txt.write(String.valueOf(infected));\r\n            txt.write(&quot;;&quot;);\r\n            txt.write((String.valueOf(recovered)));\r\n            txt.write(&quot;;&quot;);\r\n            txt.write((String.valueOf(deads)));\r\n            txt.write(&quot;;&quot;);\r\n            txt.write((String.valueOf(notInfected)));\r\n            txt.write(&quot;;&quot;);\r\n            txt.write((String.valueOf(vaccinated)));\r\n            txt.write(&quot;\\n&quot;);\r\n            txt.close();\r\n\r\n        } catch (IOException ex)\r\n        {\r\n            ex.printStackTrace();\r\n            System.out.println(&quot;Error!&quot;);\r\n        }\r\n    }\r\n\r\nI will use this function to save the iteration number and some additional data; for example:\r\n\r\nIteration Infected Recovered Dead NotInfected Vaccinated\r\n---------------------------------------------------------\r\n\r\n1 200 300 400 500\r\n\r\n2 300 400 600 900\r\n\r\netc\r\n\r\nA perfect solution would have the first row of the file hold names for each column, similar to what&#39;s written above.","title":"Write in specific row via FileWriter Java","body":"<p>I have some data that I want to write.\nCode:</p>\n<pre><code>private void saveStats(int early, int infected, int recovered, int deads, int notInfected, int vaccinated, int iteration){\n    try\n    {\n        FileWriter txt = new FileWriter(&quot;statistic.csv&quot;);\n\n        txt.write((String.valueOf(early)));\n        txt.write(&quot;;&quot;);\n        txt.write(String.valueOf(infected));\n        txt.write(&quot;;&quot;);\n        txt.write((String.valueOf(recovered)));\n        txt.write(&quot;;&quot;);\n        txt.write((String.valueOf(deads)));\n        txt.write(&quot;;&quot;);\n        txt.write((String.valueOf(notInfected)));\n        txt.write(&quot;;&quot;);\n        txt.write((String.valueOf(vaccinated)));\n        txt.write(&quot;\\n&quot;);\n        txt.close();\n\n    } catch (IOException ex)\n    {\n        ex.printStackTrace();\n        System.out.println(&quot;Error!&quot;);\n    }\n}\n</code></pre>\n<p>I will use this function to save the iteration number and some additional data; for example:</p>\n<h2>Iteration Infected Recovered Dead NotInfected Vaccinated</h2>\n<p>1 200 300 400 500</p>\n<p>2 300 400 600 900</p>\n<p>etc</p>\n<p>A perfect solution would have the first row of the file hold names for each column, similar to what's written above.</p>\n"},{"tags":["java","hashtable"],"comments":[{"owner":{"account_id":4768650,"reputation":1454,"user_id":3854096,"accept_rate":100,"display_name":"Nick Clark"},"score":0,"creation_date":1639005916,"post_id":70282920,"comment_id":124241311,"body_markdown":"Please add more information to this post, such as the language you&#39;re writing in and what you&#39;ve tried.","body":"Please add more information to this post, such as the language you&#39;re writing in and what you&#39;ve tried."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639006953,"creation_date":1639006953,"answer_id":70283071,"question_id":70282920,"body_markdown":"You can do it like this.\r\n- `map.get(key)` returns the value.\r\n- the `getName()` and `getNumber()` are getters in the class to return their respective values.\r\n```\r\nYourClass instance = map.get(key);\r\nString name = instance.getName();\r\nString number = instance.getNumber();\r\n```\r\nor you can access the instance directly without an intermediate assignment.\r\n```\r\nmap.get(key).getName() or map.get(key).getNumber();\r\n```\r\nThe `Value@2c6a3f77` is the default return of `toString()` when you don&#39;t override it.  You can change that by doing something like this in your class.\r\n```\r\n@Override\r\npublic String toString() {\r\n   return name + &quot;, &quot; + number;\r\n}","title":"Given Key in HashTable how do I return the value if my value have multiple data types","body":"<p>You can do it like this.</p>\n<ul>\n<li><code>map.get(key)</code> returns the value.</li>\n<li>the <code>getName()</code> and <code>getNumber()</code> are getters in the class to return their respective values.</li>\n</ul>\n<pre><code>YourClass instance = map.get(key);\nString name = instance.getName();\nString number = instance.getNumber();\n</code></pre>\n<p>or you can access the instance directly without an intermediate assignment.</p>\n<pre><code>map.get(key).getName() or map.get(key).getNumber();\n</code></pre>\n<p>The <code>Value@2c6a3f77</code> is the default return of <code>toString()</code> when you don't override it.  You can change that by doing something like this in your class.</p>\n<pre><code>@Override\npublic String toString() {\n   return name + &quot;, &quot; + number;\n}\n</code></pre>\n"}],"owner":{"account_id":19846741,"reputation":1,"user_id":14579485,"display_name":"Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639006953,"creation_date":1639005722,"question_id":70282920,"body_markdown":"If for example, I have a hashtable with &lt;Key, Value&gt; where Value is a class with both:\r\n\r\nString Name;\r\nint Number;\r\n\r\nGiven a specific Key, how do I return a Value&#39;s Name or Number only? \r\n\r\nCurrently, I can find the Key in the hashtable and return its Value but what it returns is &quot;Value@2c6a3f77&quot; \r\nI&#39;m guessing that the @... is an index associated with how the program stores the data. \r\n","title":"Given Key in HashTable how do I return the value if my value have multiple data types","body":"<p>If for example, I have a hashtable with &lt;Key, Value&gt; where Value is a class with both:</p>\n<p>String Name;\nint Number;</p>\n<p>Given a specific Key, how do I return a Value's Name or Number only?</p>\n<p>Currently, I can find the Key in the hashtable and return its Value but what it returns is &quot;Value@2c6a3f77&quot;\nI'm guessing that the @... is an index associated with how the program stores the data.</p>\n"},{"tags":["java","spring","spring-boot","file","bigdata"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1639005334,"post_id":70282836,"comment_id":124241196,"body_markdown":"Profile your code to find out which part is slow. For instance, is it still slow if you don&#39;t call `doSomethinsWithTheList`? If it isn&#39;t , optimise that.","body":"Profile your code to find out which part is slow. For instance, is it still slow if you don&#39;t call <code>doSomethinsWithTheList</code>? If it isn&#39;t , optimise that."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1639005641,"post_id":70282836,"comment_id":124241268,"body_markdown":"fundamentally, this is a good scenario for using multiple threads and/or multiple processes. If that doesn&#39;t get you there, you can think about using multiple machines (i.e. Hadoop) https://hadoop.apache.org/","body":"fundamentally, this is a good scenario for using multiple threads and/or multiple processes. If that doesn&#39;t get you there, you can think about using multiple machines (i.e. Hadoop) <a href=\"https://hadoop.apache.org/\" rel=\"nofollow noreferrer\">hadoop.apache.org</a>"},{"owner":{"account_id":23592701,"reputation":11,"user_id":17630227,"display_name":"yoyo8"},"score":0,"creation_date":1639006080,"post_id":70282836,"comment_id":124241338,"body_markdown":"@tgdavies doSomethinsWithTheList is just a function that i call, it&#39;s the generating list part that&#39;s slow, as it checks over 100K lines per object","body":"@tgdavies doSomethinsWithTheList is just a function that i call, it&#39;s the generating list part that&#39;s slow, as it checks over 100K lines per object"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639006390,"post_id":70282836,"comment_id":124241401,"body_markdown":"If you simply read through the file, and don&#39;t do anything at all with the lines, is performance ok?","body":"If you simply read through the file, and don&#39;t do anything at all with the lines, is performance ok?"},{"owner":{"account_id":23592701,"reputation":11,"user_id":17630227,"display_name":"yoyo8"},"score":0,"creation_date":1639006862,"post_id":70282836,"comment_id":124241485,"body_markdown":"yes i think it&#39;s the constant lines comparing that&#39;s causing slowness","body":"yes i think it&#39;s the constant lines comparing that&#39;s causing slowness"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639007640,"post_id":70282836,"comment_id":124241623,"body_markdown":"So if you do the comparisons, but don&#39;t add the lines to the list, then performance is bad. If you remove the comparisons, and do nothing with the lines, it&#39;s OK?","body":"So if you do the comparisons, but don&#39;t add the lines to the list, then performance is bad. If you remove the comparisons, and do nothing with the lines, it&#39;s OK?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1639007859,"post_id":70282836,"comment_id":124241672,"body_markdown":"`substring` creates a new object, so if you use `startsWith` and only use `substring` when the prefix changes that may help.","body":"<code>substring</code> creates a new object, so if you use <code>startsWith</code> and only use <code>substring</code> when the prefix changes that may help."}],"owner":{"account_id":23592701,"reputation":11,"user_id":17630227,"display_name":"yoyo8"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639006431,"creation_date":1639005112,"question_id":70282836,"body_markdown":"I have this app where i process a very large file, Extract the lines that have the same first 5 characters (i call this currentlineId ), use them to create an object and do something with it, example sample of the file contents:\r\n\r\n```\r\nAZDFS12345678998765432345678\r\nAZDFS09876545432345678987654\r\nAZDFS34568987654567890987654\r\nAZDFS12345670987654345678998\r\nAZDFS12345098734567765123456\r\n// the lines above have the same first 5 characters, they create Object1.\r\n\r\n\r\nFGHJUY121324\r\nFGHJUY089909\r\nFGHJUYTTUTUU\r\n//same for the lines above, they create Object2.\r\n```\r\n\r\nNB: the lines will always be in an order where lines with the same first 5 will always be together (abover/below each other) so i wonn&#39;t have lines all over the place\r\n\r\nMy current function code: \r\n```\r\n private void processScpFile(File file) {\r\n        LOGGER.info(&quot;Processing File: {} &quot;, file.getName());\r\n\r\n        try (var br = new BufferedReader(new FileReader(file))) {\r\n\r\n            String currentLine;\r\n            String lastLineId = null;\r\n            List&lt;String&gt; similarLineIdsList = new ArrayList&lt;&gt;();\r\n\r\n            while ((currentLine = br.readLine()) != null) {\r\n\r\n                if (StringUtils.isEmpty(lastLineId)) {\r\n                    lastLineId = currentLine.substring(0,5);\r\n                }\r\n\r\n                if (lastLineId.equals(currentLine.substring(0,5))) {\r\n                    similarLineIdsList.add(currentLine);\r\n                }\r\n\r\n                else if (!lastLineId.equals(currentLine.substring(0,5))) {\r\n\r\n\r\n                    doSomethinsWithTheList(similarLineIdsList);\r\n\r\n                    similarLineIdsList.clear();\r\n\r\n                    similarLineIdsList.add(currentLine);\r\n                    lastLineId= currentLine.substring(0,5);\r\n                }\r\n            }\r\n\r\n            doSomethinsWithTheList(similarLineIdsList);\r\n\r\n        }\r\n        catch (IOException e) {\r\n            LOGGER.error(&quot;Couldn&#39;t read file, {}&quot;, e.getMessage(), e);\r\n        }\r\n    }\r\n```\r\nNow this has worked well up until now, but going forward i have to process files where i would have for instance over 100k lines with same first 5, which makes this process very slow.\r\nPlease do you have any suggestion on haow to make this process faster, thank you\r\n\r\nEdit: just to be precise it&#39;s the generating the list with the same first 5 chars that&#39;s slower as the number of similar lines gets larger.","title":"Spring Boot java: Process/Compare lines of very large file","body":"<p>I have this app where i process a very large file, Extract the lines that have the same first 5 characters (i call this currentlineId ), use them to create an object and do something with it, example sample of the file contents:</p>\n<pre><code>AZDFS12345678998765432345678\nAZDFS09876545432345678987654\nAZDFS34568987654567890987654\nAZDFS12345670987654345678998\nAZDFS12345098734567765123456\n// the lines above have the same first 5 characters, they create Object1.\n\n\nFGHJUY121324\nFGHJUY089909\nFGHJUYTTUTUU\n//same for the lines above, they create Object2.\n</code></pre>\n<p>NB: the lines will always be in an order where lines with the same first 5 will always be together (abover/below each other) so i wonn't have lines all over the place</p>\n<p>My current function code:</p>\n<pre><code> private void processScpFile(File file) {\n        LOGGER.info(&quot;Processing File: {} &quot;, file.getName());\n\n        try (var br = new BufferedReader(new FileReader(file))) {\n\n            String currentLine;\n            String lastLineId = null;\n            List&lt;String&gt; similarLineIdsList = new ArrayList&lt;&gt;();\n\n            while ((currentLine = br.readLine()) != null) {\n\n                if (StringUtils.isEmpty(lastLineId)) {\n                    lastLineId = currentLine.substring(0,5);\n                }\n\n                if (lastLineId.equals(currentLine.substring(0,5))) {\n                    similarLineIdsList.add(currentLine);\n                }\n\n                else if (!lastLineId.equals(currentLine.substring(0,5))) {\n\n\n                    doSomethinsWithTheList(similarLineIdsList);\n\n                    similarLineIdsList.clear();\n\n                    similarLineIdsList.add(currentLine);\n                    lastLineId= currentLine.substring(0,5);\n                }\n            }\n\n            doSomethinsWithTheList(similarLineIdsList);\n\n        }\n        catch (IOException e) {\n            LOGGER.error(&quot;Couldn't read file, {}&quot;, e.getMessage(), e);\n        }\n    }\n</code></pre>\n<p>Now this has worked well up until now, but going forward i have to process files where i would have for instance over 100k lines with same first 5, which makes this process very slow.\nPlease do you have any suggestion on haow to make this process faster, thank you</p>\n<p>Edit: just to be precise it's the generating the list with the same first 5 chars that's slower as the number of similar lines gets larger.</p>\n"},{"tags":["java","android","canvas","drawtext"],"comments":[{"owner":{"account_id":183046,"reputation":39445,"user_id":418183,"accept_rate":100,"display_name":"Octavian Helm"},"score":21,"creation_date":1296937257,"post_id":4909367,"comment_id":5466788,"body_markdown":"Every time you put *Android* in the question title a kitten will die so please stop doing that. Thanks.","body":"Every time you put <i>Android</i> in the question title a kitten will die so please stop doing that. Thanks."},{"owner":{"account_id":3549117,"reputation":5794,"user_id":2964379,"accept_rate":86,"display_name":"0101100101"},"score":1,"creation_date":1596159536,"post_id":4909367,"comment_id":111730180,"body_markdown":"9 years later, this question and the accepted answer are still relevant","body":"9 years later, this question and the accepted answer are still relevant"}],"answers":[{"tags":[],"owner":{"account_id":92247,"reputation":6925,"user_id":252871,"accept_rate":60,"display_name":"SteelBytes"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1342276024,"creation_date":1296961170,"answer_id":4911234,"question_id":4909367,"body_markdown":"using mPaint.getTextBounds() you can ask how big the text will be when drawn, then using that info you can calc where you want to draw it.","title":"How to align text vertically?","body":"<p>using mPaint.getTextBounds() you can ask how big the text will be when drawn, then using that info you can calc where you want to draw it.</p>\n"},{"tags":[],"owner":{"account_id":1115247,"reputation":257,"user_id":1104751,"display_name":"gauravjain0102"},"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1324232676,"creation_date":1324231128,"answer_id":8553604,"question_id":4909367,"body_markdown":"Based on steelbytes&#39; response, the updated code would look something like:\r\n\r\n    void drawHelloRectangle(Canvas c, int topLeftX, int topLeftY, int width, int height) {\r\n        Paint mPaint = new Paint();\r\n        // height of &#39;Hello World&#39;; height*0.7 looks good\r\n        int fontHeight = (int)(height*0.7);\r\n    \r\n        mPaint.setColor(COLOR_RED);\r\n        mPaint.setStyle(Style.FILL);\r\n        c.drawRect( topLeftX, topLeftY, topLeftX+width, topLeftY+height, mPaint);\r\n    \r\n        mPaint.setTextSize(fontHeight);\r\n        mPaint.setColor(COLOR_BLACK);\r\n        mPaint.setTextAlign(Align.CENTER);\r\n        String textToDraw = new String(&quot;Hello World&quot;);\r\n        Rect bounds = new Rect();\r\n        mPaint.getTextBounds(textToDraw, 0, textToDraw.length(), bounds);\r\n        c.drawText(textToDraw, topLeftX+width/2, topLeftY+height/2+(bounds.bottom-bounds.top)/2, mPaint);\r\n    }","title":"How to align text vertically?","body":"<p>Based on steelbytes' response, the updated code would look something like:</p>\n\n<pre><code>void drawHelloRectangle(Canvas c, int topLeftX, int topLeftY, int width, int height) {\n    Paint mPaint = new Paint();\n    // height of 'Hello World'; height*0.7 looks good\n    int fontHeight = (int)(height*0.7);\n\n    mPaint.setColor(COLOR_RED);\n    mPaint.setStyle(Style.FILL);\n    c.drawRect( topLeftX, topLeftY, topLeftX+width, topLeftY+height, mPaint);\n\n    mPaint.setTextSize(fontHeight);\n    mPaint.setColor(COLOR_BLACK);\n    mPaint.setTextAlign(Align.CENTER);\n    String textToDraw = new String(\"Hello World\");\n    Rect bounds = new Rect();\n    mPaint.getTextBounds(textToDraw, 0, textToDraw.length(), bounds);\n    c.drawText(textToDraw, topLeftX+width/2, topLeftY+height/2+(bounds.bottom-bounds.top)/2, mPaint);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":476340,"reputation":319,"user_id":887199,"display_name":"QQchurch"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1427875235,"creation_date":1334972888,"answer_id":10255500,"question_id":4909367,"body_markdown":"    textY = topLeftY + height/2 - (mPaint.descent() + mPaint.ascent()) / 2\r\n\r\nThe distance from &quot;baseline&quot; to &quot;center&quot;  should be  `-(mPaint.descent() + mPaint.ascent()) / 2`\r\n","title":"How to align text vertically?","body":"<pre><code>textY = topLeftY + height/2 - (mPaint.descent() + mPaint.ascent()) / 2\n</code></pre>\n\n<p>The distance from \"baseline\" to \"center\"  should be  <code>-(mPaint.descent() + mPaint.ascent()) / 2</code></p>\n"},{"tags":[],"owner":{"account_id":344194,"reputation":2152,"user_id":676369,"accept_rate":36,"display_name":"Exterminator13"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1342653077,"creation_date":1342653077,"answer_id":11551705,"question_id":4909367,"body_markdown":"    public static PointF getTextCenterToDraw(String text, RectF region, Paint paint) {\r\n\t\tRect textBounds = new Rect();\r\n\t\tpaint.getTextBounds(text, 0, text.length(), textBounds);\r\n\t\tfloat x = region.centerX() - textBounds.width() * 0.4f;\r\n\t\tfloat y = region.centerY() + textBounds.height() * 0.4f;\r\n\t\treturn new PointF(x, y);\r\n\t}\r\n\r\nUsage:\r\n\r\n    PointF p = getTextCenterToDraw(text, rect, paint);\r\n    canvas.drawText(text, p.x, p.y, paint);","title":"How to align text vertically?","body":"<pre><code>public static PointF getTextCenterToDraw(String text, RectF region, Paint paint) {\n    Rect textBounds = new Rect();\n    paint.getTextBounds(text, 0, text.length(), textBounds);\n    float x = region.centerX() - textBounds.width() * 0.4f;\n    float y = region.centerY() + textBounds.height() * 0.4f;\n    return new PointF(x, y);\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>PointF p = getTextCenterToDraw(text, rect, paint);\ncanvas.drawText(text, p.x, p.y, paint);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":116235,"reputation":1735,"user_id":304876,"display_name":"Pierre-Luc Paour"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1366116802,"creation_date":1366116802,"answer_id":16037608,"question_id":4909367,"body_markdown":"Since drawing text at Y means that the **baseline** of the text will end up Y pixels down from the origin, what you need to do when you want to center text within a rectangle of `(width, height)` dimensions is:\r\n\r\n    paint.setTextAlign(Paint.Align.CENTER);  // centers horizontally\r\n    canvas.drawText(text, width / 2, (height - paint.ascent()) / 2, paint);\r\n\r\nKeep in mind that the ascent is negative (which explains the minus sign).\r\n\r\nThis does not take the descent into account, which is usually what you want (the ascent is generally the height of caps above the baseline).","title":"How to align text vertically?","body":"<p>Since drawing text at Y means that the <strong>baseline</strong> of the text will end up Y pixels down from the origin, what you need to do when you want to center text within a rectangle of <code>(width, height)</code> dimensions is:</p>\n\n<pre><code>paint.setTextAlign(Paint.Align.CENTER);  // centers horizontally\ncanvas.drawText(text, width / 2, (height - paint.ascent()) / 2, paint);\n</code></pre>\n\n<p>Keep in mind that the ascent is negative (which explains the minus sign).</p>\n\n<p>This does not take the descent into account, which is usually what you want (the ascent is generally the height of caps above the baseline).</p>\n"},{"tags":[],"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"down_vote_count":1,"up_vote_count":125,"is_accepted":true,"score":124,"last_activity_date":1446284653,"creation_date":1406368026,"answer_id":24969713,"question_id":4909367,"body_markdown":"Example to centre on `cx` and `cy`:\r\n==\r\n\r\n    private final Rect textBounds = new Rect(); //don&#39;t new this up in a draw method\r\n\r\n    public void drawTextCentred(Canvas canvas, Paint paint, String text, float cx, float cy){\r\n      paint.getTextBounds(text, 0, text.length(), textBounds);\r\n      canvas.drawText(text, cx - textBounds.exactCenterX(), cy - textBounds.exactCenterY(), paint);\r\n    }\r\n\r\nWhy doesn&#39;t `height()/2f` work the same?\r\n==\r\n\r\n`exactCentre()` = `(top + bottom) / 2f`.\r\n\r\n`height()/2f` = `(bottom - top) / 2f`\r\n\r\nThese would only yield the same result when `top` is `0`. This may be the case for some fonts at all sizes, or other fonts at some sizes, but not for all fonts at all sizes.","title":"How to align text vertically?","body":"<h1>Example to centre on <code>cx</code> and <code>cy</code>:</h1>\n\n<pre><code>private final Rect textBounds = new Rect(); //don't new this up in a draw method\n\npublic void drawTextCentred(Canvas canvas, Paint paint, String text, float cx, float cy){\n  paint.getTextBounds(text, 0, text.length(), textBounds);\n  canvas.drawText(text, cx - textBounds.exactCenterX(), cy - textBounds.exactCenterY(), paint);\n}\n</code></pre>\n\n<h1>Why doesn't <code>height()/2f</code> work the same?</h1>\n\n<p><code>exactCentre()</code> = <code>(top + bottom) / 2f</code>.</p>\n\n<p><code>height()/2f</code> = <code>(bottom - top) / 2f</code></p>\n\n<p>These would only yield the same result when <code>top</code> is <code>0</code>. This may be the case for some fonts at all sizes, or other fonts at some sizes, but not for all fonts at all sizes.</p>\n"},{"tags":[],"owner":{"account_id":7127861,"reputation":494,"user_id":5450198,"display_name":"N. Osil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525279314,"creation_date":1525279314,"answer_id":50139610,"question_id":4909367,"body_markdown":"I stumbled on this question when trying to solve my issue, and @Weston&#39;s answer works fine with me.\r\n\r\nIn case of Kotlin:\r\n&lt;!-- lang-swift --&gt;\r\n  \r\n    private fun drawText(canvas: Canvas) {\r\n        paint.textSize = 80f\r\n        val text = &quot;Hello!&quot;\r\n        val textBounds = Rect()\r\n        paint.getTextBounds(text, 0, text.length, textBounds);\r\n        canvas.drawText(text, cx- textBounds.exactCenterX(), cy - textBounds.exactCenterY(), paint);\r\n        //in case of another Rect as a container:\r\n        //canvas.drawText(text, containerRect.exactCenterX()- textBounds.exactCenterX(), containerRect.exactCenterY() - textBounds.exactCenterY(), paint);\r\n    }\r\n\r\n","title":"How to align text vertically?","body":"<p>I stumbled on this question when trying to solve my issue, and @Weston's answer works fine with me.</p>\n\n<p>In case of Kotlin:\n</p>\n\n<pre><code>private fun drawText(canvas: Canvas) {\n    paint.textSize = 80f\n    val text = \"Hello!\"\n    val textBounds = Rect()\n    paint.getTextBounds(text, 0, text.length, textBounds);\n    canvas.drawText(text, cx- textBounds.exactCenterX(), cy - textBounds.exactCenterY(), paint);\n    //in case of another Rect as a container:\n    //canvas.drawText(text, containerRect.exactCenterX()- textBounds.exactCenterX(), containerRect.exactCenterY() - textBounds.exactCenterY(), paint);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38832,"reputation":1112,"user_id":111711,"display_name":"Benoit Jadinon"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1534348732,"creation_date":1534348427,"answer_id":51862157,"question_id":4909367,"body_markdown":"Here is a SkiaSharp C# extension method for anyone looking for it\r\n&lt;!-- language: c# --&gt;\r\n\r\n    public static void DrawTextCenteredVertically(this SKCanvas canvas, string text, SKPaint paint, SKPoint point)\r\n    {\r\n        var textY = point.Y + (((-paint.FontMetrics.Ascent + paint.FontMetrics.Descent) / 2) - paint.FontMetrics.Descent);\r\n        canvas.DrawText(text, point.X, textY, paint);\r\n    }\r\n","title":"How to align text vertically?","body":"<p>Here is a SkiaSharp C# extension method for anyone looking for it\n</p>\n\n<pre><code>public static void DrawTextCenteredVertically(this SKCanvas canvas, string text, SKPaint paint, SKPoint point)\n{\n    var textY = point.Y + (((-paint.FontMetrics.Ascent + paint.FontMetrics.Descent) / 2) - paint.FontMetrics.Descent);\n    canvas.DrawText(text, point.X, textY, paint);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9519176,"reputation":111,"user_id":7074602,"display_name":"Emre Hamurcu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615365342,"creation_date":1615365342,"answer_id":66561070,"question_id":4909367,"body_markdown":"    private final Rect textBounds = new Rect();//No need o create again\r\n\r\n    public void drawTextCentred(Canvas canvas, Paint paint, String text, float cx, float cy, float desiredWidth) {\r\n        final float testTextSize = 48f;\r\n        paint.setTextSize(testTextSize);\r\n        Rect bounds = new Rect();\r\n        paint.getTextBounds(text, 0, text.length(), bounds);\r\n        float desiredTextSize = testTextSize * desiredWidth / bounds.width();\r\n        paint.setTextSize(desiredTextSize);\r\n        paint.getTextBounds(text, 0, text.length(), textBounds);\r\n        paint.setTextAlign(Paint.Align.CENTER);\r\n        canvas.drawText(text, cx, cy - textBounds.exactCenterY(), paint);\r\n    }","title":"How to align text vertically?","body":"<pre><code>private final Rect textBounds = new Rect();//No need o create again\n\npublic void drawTextCentred(Canvas canvas, Paint paint, String text, float cx, float cy, float desiredWidth) {\n    final float testTextSize = 48f;\n    paint.setTextSize(testTextSize);\n    Rect bounds = new Rect();\n    paint.getTextBounds(text, 0, text.length(), bounds);\n    float desiredTextSize = testTextSize * desiredWidth / bounds.width();\n    paint.setTextSize(desiredTextSize);\n    paint.getTextBounds(text, 0, text.length(), textBounds);\n    paint.setTextAlign(Paint.Align.CENTER);\n    canvas.drawText(text, cx, cy - textBounds.exactCenterY(), paint);\n}\n</code></pre>\n"}],"owner":{"account_id":284765,"reputation":1191,"user_id":583075,"accept_rate":50,"display_name":"Leszek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45992,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":24969713,"answer_count":9,"score":51,"last_activity_date":1639005355,"creation_date":1296936609,"question_id":4909367,"body_markdown":"Target: Android &gt;= 1.6 on a pure Canvas.\r\n\r\nSuppose I want to write a function that will draw a (width, height) large red rectangle and then draw a black *Hello World* text inside. I want the text to be visually in the center of the rectangle. So let&#39;s try:\r\n\r\n    void drawHelloRectangle(Canvas c, int topLeftX, \r\n            int topLeftY, int width, int height) {\r\n        Paint mPaint = new Paint();\r\n        // height of &#39;Hello World&#39;; height*0.7 looks good\r\n        int fontHeight = (int)(height*0.7);\r\n    \r\n        mPaint.setColor(COLOR_RED);\r\n        mPaint.setStyle(Style.FILL);\r\n        c.drawRect( topLeftX, topLeftY, topLeftX+width, topLeftY+height, mPaint);\r\n    \r\n        mPaint.setTextSize(fontHeight);\r\n        mPaint.setColor(COLOR_BLACK);\r\n        mPaint.setTextAlign(Align.CENTER);\r\n        c.drawText( &quot;Hello World&quot;, topLeftX+width/2, ????, mPaint);\r\n    }\r\n   \r\nNow I don&#39;t know what to put in drawText&#39;s argument marked by `????`, i.e. I don&#39;t know how to vertically align the text. \r\n\r\nSomething like\r\n\r\n&gt; ???? = topLeftY + height/2 +\r\n&gt; fontHeight/2 - fontHeight/8;\r\n\r\nappears to work more or less ok, but there must be a better way.","title":"How to align text vertically?","body":"<p>Target: Android >= 1.6 on a pure Canvas.</p>\n\n<p>Suppose I want to write a function that will draw a (width, height) large red rectangle and then draw a black <em>Hello World</em> text inside. I want the text to be visually in the center of the rectangle. So let's try:</p>\n\n<pre><code>void drawHelloRectangle(Canvas c, int topLeftX, \n        int topLeftY, int width, int height) {\n    Paint mPaint = new Paint();\n    // height of 'Hello World'; height*0.7 looks good\n    int fontHeight = (int)(height*0.7);\n\n    mPaint.setColor(COLOR_RED);\n    mPaint.setStyle(Style.FILL);\n    c.drawRect( topLeftX, topLeftY, topLeftX+width, topLeftY+height, mPaint);\n\n    mPaint.setTextSize(fontHeight);\n    mPaint.setColor(COLOR_BLACK);\n    mPaint.setTextAlign(Align.CENTER);\n    c.drawText( \"Hello World\", topLeftX+width/2, ????, mPaint);\n}\n</code></pre>\n\n<p>Now I don't know what to put in drawText's argument marked by <code>????</code>, i.e. I don't know how to vertically align the text. </p>\n\n<p>Something like</p>\n\n<blockquote>\n  <p>???? = topLeftY + height/2 +\n  fontHeight/2 - fontHeight/8;</p>\n</blockquote>\n\n<p>appears to work more or less ok, but there must be a better way.</p>\n"},{"tags":["java","android","date","datetime-format","simpledateformat"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638962378,"post_id":70273322,"comment_id":124225244,"body_markdown":"Consider throwing away the long outmoded and notoriously troublesome `SimpleDateFormat` and friends. See if you either can use [desugaring](https://developer.android.com/studio/write/java8-support-table) or add [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) to your Android project, in order to use java.time, the modern Java date and time API. It is so much nicer to work with.","body":"Consider throwing away the long outmoded and notoriously troublesome <code>SimpleDateFormat</code> and friends. See if you either can use <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugaring</a> or add <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> to your Android project, in order to use java.time, the modern Java date and time API. It is so much nicer to work with."}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638959148,"creation_date":1638959148,"answer_id":70273426,"question_id":70273322,"body_markdown":"I don&#39;t know a pre-existing date format that does what you want. So you have to do the conditional cases yourself.\r\n\r\nIf the date is in the &quot;today&quot; range (however you want to define that, regarding time zones etc.), generate the text using the &quot;Today&quot; format. If outside, use the generic format.","title":"Java Changing date format for a specific day","body":"<p>I don't know a pre-existing date format that does what you want. So you have to do the conditional cases yourself.</p>\n<p>If the date is in the &quot;today&quot; range (however you want to define that, regarding time zones etc.), generate the text using the &quot;Today&quot; format. If outside, use the generic format.</p>\n"},{"tags":[],"owner":{"account_id":10872350,"reputation":63,"user_id":7993836,"display_name":"Hocine Kheddadji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638960325,"creation_date":1638959661,"answer_id":70273534,"question_id":70273322,"body_markdown":"if you are using java +8, you can use Date/Time API (LocalDate) to calculate the difference between two date and check if its the same date or not, based of the comparison choose your format [Java Date Format][1]\r\n\r\n  [1]: https://howtodoinjava.com/java/date-time/resolverstyle-strict-date-parsing/","title":"Java Changing date format for a specific day","body":"<p>if you are using java +8, you can use Date/Time API (LocalDate) to calculate the difference between two date and check if its the same date or not, based of the comparison choose your format <a href=\"https://howtodoinjava.com/java/date-time/resolverstyle-strict-date-parsing/\" rel=\"nofollow noreferrer\">Java Date Format</a></p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638965907,"creation_date":1638965907,"answer_id":70274892,"question_id":70273322,"body_markdown":"## java.time\r\n\r\nThis requires two formatters and an `if` statement.\r\n\r\nConsider using java.time, the modern Java date and time API, for your date and time work. Let’s first declare the two formatters.\r\n\r\n    private static final DateTimeFormatter TODAY_FORMATTER\r\n            = DateTimeFormatter.ofPattern(&quot;&#39;Today,&#39; HH:mm&quot;, Locale.ENGLISH);\r\n    private static final DateTimeFormatter ANOTHER_DAY_FORMATTER\r\n            = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy, HH:mm&quot;, Locale.ENGLISH);\r\n\r\nTo try them out with different dates and times:\r\n\r\n        LocalDateTime[] dateTimes = {\r\n                LocalDateTime.of(2021, Month.DECEMBER, 7, 23, 45),\r\n                LocalDateTime.of(2021, Month.DECEMBER, 8, 12, 34),\r\n                LocalDateTime.of(2021, Month.DECEMBER, 9, 04, 23)\r\n        };\r\n\r\n        LocalDate today = LocalDate.now(ZoneId.systemDefault());\r\n        for (LocalDateTime ldt : dateTimes) {\r\n            String formattedDateTime;\r\n            if (ldt.toLocalDate().isEqual(today)) {\r\n                formattedDateTime = ldt.format(TODAY_FORMATTER);\r\n            }\r\n            else {\r\n                formattedDateTime = ldt.format(ANOTHER_DAY_FORMATTER);\r\n            }\r\n            System.out.println(formattedDateTime);\r\n        }\r\n\r\nWhen I ran today (December 8 in my time zone), I got:\r\n\r\n&gt;     07.12.2021, 23:45\r\n&gt;     Today, 12:34\r\n&gt;     09.12.2021, 04:23\r\n\r\nIf you insist on being old-fashioned, I am sure the same trick will work with `SimpleDateFormat`. You will of course have a non-trivial task of determining whether the date is today or not.","title":"Java Changing date format for a specific day","body":"<h2>java.time</h2>\n<p>This requires two formatters and an <code>if</code> statement.</p>\n<p>Consider using java.time, the modern Java date and time API, for your date and time work. Let’s first declare the two formatters.</p>\n<pre><code>private static final DateTimeFormatter TODAY_FORMATTER\n        = DateTimeFormatter.ofPattern(&quot;'Today,' HH:mm&quot;, Locale.ENGLISH);\nprivate static final DateTimeFormatter ANOTHER_DAY_FORMATTER\n        = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy, HH:mm&quot;, Locale.ENGLISH);\n</code></pre>\n<p>To try them out with different dates and times:</p>\n<pre><code>    LocalDateTime[] dateTimes = {\n            LocalDateTime.of(2021, Month.DECEMBER, 7, 23, 45),\n            LocalDateTime.of(2021, Month.DECEMBER, 8, 12, 34),\n            LocalDateTime.of(2021, Month.DECEMBER, 9, 04, 23)\n    };\n\n    LocalDate today = LocalDate.now(ZoneId.systemDefault());\n    for (LocalDateTime ldt : dateTimes) {\n        String formattedDateTime;\n        if (ldt.toLocalDate().isEqual(today)) {\n            formattedDateTime = ldt.format(TODAY_FORMATTER);\n        }\n        else {\n            formattedDateTime = ldt.format(ANOTHER_DAY_FORMATTER);\n        }\n        System.out.println(formattedDateTime);\n    }\n</code></pre>\n<p>When I ran today (December 8 in my time zone), I got:</p>\n<blockquote>\n<pre><code>07.12.2021, 23:45\nToday, 12:34\n09.12.2021, 04:23\n</code></pre>\n</blockquote>\n<p>If you insist on being old-fashioned, I am sure the same trick will work with <code>SimpleDateFormat</code>. You will of course have a non-trivial task of determining whether the date is today or not.</p>\n"}],"owner":{"account_id":17996054,"reputation":175,"user_id":13079051,"display_name":"r3cc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70274892,"answer_count":3,"score":-1,"last_activity_date":1639005058,"creation_date":1638958739,"question_id":70273322,"body_markdown":"I want to write today&#39;s date in the following format using SimpleDateFormat:\r\n\r\nToday, 13:14\r\n\r\nOn other days, I want to print it as date and time:\r\n\r\n06.12.2021, 12:59\r\n\r\nI can write in date and time format for previous days, but not in &quot;Today [HOUR]&quot; format during the day.\r\n\r\n`textViewDate.setText(new SimpleDateFormat(&quot;dd.MM.yyyy HH:mm&quot;)`\r\n\r\nPlease guide. Thank you.\r\n","title":"Java Changing date format for a specific day","body":"<p>I want to write today's date in the following format using SimpleDateFormat:</p>\n<p>Today, 13:14</p>\n<p>On other days, I want to print it as date and time:</p>\n<p>06.12.2021, 12:59</p>\n<p>I can write in date and time format for previous days, but not in &quot;Today [HOUR]&quot; format during the day.</p>\n<p><code>textViewDate.setText(new SimpleDateFormat(&quot;dd.MM.yyyy HH:mm&quot;)</code></p>\n<p>Please guide. Thank you.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1638991681,"post_id":70275764,"comment_id":124237111,"body_markdown":"Your question is unclear, you talk about `service1.get` And `service2.store` but later in your last example you are calling `service1.get` and `service.get(flux)` instead. Please update your question to have a correct code example including all return types from the functions. Do they return `error` or do they return `empty` and if different parts go wrong how do you wish the errors to be handled.","body":"Your question is unclear, you talk about <code>service1.get</code> And <code>service2.store</code> but later in your last example you are calling <code>service1.get</code> and <code>service.get(flux)</code> instead. Please update your question to have a correct code example including all return types from the functions. Do they return <code>error</code> or do they return <code>empty</code> and if different parts go wrong how do you wish the errors to be handled."},{"owner":{"account_id":165659,"reputation":1912,"user_id":389294,"accept_rate":58,"display_name":"misco"},"score":0,"creation_date":1638992282,"post_id":70275764,"comment_id":124237341,"body_markdown":"sorry, I fixed the example, and added details about error handling. It should be clear now.","body":"sorry, I fixed the example, and added details about error handling. It should be clear now."}],"answers":[{"tags":[],"owner":{"account_id":10597743,"reputation":949,"user_id":7805773,"accept_rate":67,"display_name":"BrianM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639005009,"creation_date":1639005009,"answer_id":70282823,"question_id":70275764,"body_markdown":"Isnt it also strange to have Flux as a parameter in service2.store? I&#39;m guessing that you just want to do `service1.get().collectList()` so you have a Mono&lt;List&gt; of the result of service1.\r\nAfterwards you could just do a flatmap? e.g. \r\n```\r\nservice1.get()\r\n    .collectList()\r\n    .flatmap(service2::store) // .flatmap(list -&gt; service2.store(list)\r\n    .doOnError(e -&gt; log.error(e.getMessage))\r\n```","title":"Proper reactive operator for two methods","body":"<p>Isnt it also strange to have Flux as a parameter in service2.store? I'm guessing that you just want to do <code>service1.get().collectList()</code> so you have a Mono of the result of service1.\nAfterwards you could just do a flatmap? e.g.</p>\n<pre><code>service1.get()\n    .collectList()\n    .flatmap(service2::store) // .flatmap(list -&gt; service2.store(list)\n    .doOnError(e -&gt; log.error(e.getMessage))\n</code></pre>\n"}],"owner":{"account_id":165659,"reputation":1912,"user_id":389294,"accept_rate":58,"display_name":"misco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639005009,"creation_date":1638969871,"question_id":70275764,"body_markdown":"I have two methods dependent on each other.\r\n\r\n    Flux&lt;DataBuffer&gt; flux = service1.get();\r\n    Mono&lt;String&gt; s = service2.store(flux);\r\n\r\n`service1.get()` returns `Flux&lt;DataBuffer&gt;` or `Flux.error` in case unsuccessful get operation.\r\n\r\n`service2.store(Flux&lt;DataBuffer&gt; flux)` return `Mono&lt;String&gt;` or `Mono.error` in case unsuccessful store operation.\r\n\r\nService2 is reactive feign client, it stores data to file and returns reference.\r\n\r\nI need to make service2 calling dependent on service1, but I want to preserve the param Flux&lt;DataBuffer&gt; and call each method just once.\r\nThe aim is to call `service2.store` just in case successful response from `service1.get`.\r\n\r\nE.g.\r\n\r\n    public Mono&lt;String&gt; mainMethod() {\r\n        return service1.get()\r\n          .unknownOperator(flux -&gt; service2.store(flux))\r\n          .doOnError(e -&gt; log.error(e.getMessage));\r\n    }\r\n\r\nCan you advise me the right operator instead of `unknownOperator`.\r\n\r\nError should be handled such way:\r\n1. error in `service1.get` should be logged and returned from mainMethod. `service2.store` cannot be called.\r\n2. error in `service2.store` should be logged and returned from mainMethod.","title":"Proper reactive operator for two methods","body":"<p>I have two methods dependent on each other.</p>\n<pre><code>Flux&lt;DataBuffer&gt; flux = service1.get();\nMono&lt;String&gt; s = service2.store(flux);\n</code></pre>\n<p><code>service1.get()</code> returns <code>Flux&lt;DataBuffer&gt;</code> or <code>Flux.error</code> in case unsuccessful get operation.</p>\n<p><code>service2.store(Flux&lt;DataBuffer&gt; flux)</code> return <code>Mono&lt;String&gt;</code> or <code>Mono.error</code> in case unsuccessful store operation.</p>\n<p>Service2 is reactive feign client, it stores data to file and returns reference.</p>\n<p>I need to make service2 calling dependent on service1, but I want to preserve the param Flux and call each method just once.\nThe aim is to call <code>service2.store</code> just in case successful response from <code>service1.get</code>.</p>\n<p>E.g.</p>\n<pre><code>public Mono&lt;String&gt; mainMethod() {\n    return service1.get()\n      .unknownOperator(flux -&gt; service2.store(flux))\n      .doOnError(e -&gt; log.error(e.getMessage));\n}\n</code></pre>\n<p>Can you advise me the right operator instead of <code>unknownOperator</code>.</p>\n<p>Error should be handled such way:</p>\n<ol>\n<li>error in <code>service1.get</code> should be logged and returned from mainMethod. <code>service2.store</code> cannot be called.</li>\n<li>error in <code>service2.store</code> should be logged and returned from mainMethod.</li>\n</ol>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1638985181,"post_id":70279380,"comment_id":124234801,"body_markdown":"You want `map()` instead of `forEach()`.","body":"You want <code>map()</code> instead of <code>forEach()</code>."},{"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1638985643,"post_id":70279380,"comment_id":124234966,"body_markdown":"Well then I get a compiler error: &quot;_no instance(s) of type variable(s) R exist so that void conforms to R_&quot;. I think because changing it to `.map(addition -&gt; addition.setProcessedAt(now))` doesn&#39;t have a return value?","body":"Well then I get a compiler error: &quot;<i>no instance(s) of type variable(s) R exist so that void conforms to R</i>&quot;. I think because changing it to <code>.map(addition -&gt; addition.setProcessedAt(now))</code> doesn&#39;t have a return value?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1638986067,"post_id":70279380,"comment_id":124235153,"body_markdown":"Yeah, you need to return a value from the `map()`. You can do it with `peek()`, but it&#39;s a bit iffy, since it&#39;s not really supposed to be modifying things.","body":"Yeah, you need to return a value from the <code>map()</code>. You can do it with <code>peek()</code>, but it&#39;s a bit iffy, since it&#39;s not really supposed to be modifying things."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638985261,"creation_date":1638985261,"answer_id":70279420,"question_id":70279380,"body_markdown":"You may use [`Stream.peek`][1], it allows to apply an operation on each element and doesn&#39;t keep the result (if there is any) and resume the stream\r\n\r\n    List&lt;Fizzbuzz&gt; additions = latestList.stream()\r\n        .filter(latest -&gt; !currentList.contains(latest))\r\n        .peek(addition -&gt; addition.setProcessedAt(now))\r\n        .collect(Collectors.toList());\r\n\r\n\r\nTo a apply a modifying operation, that would transform the data into something else, you need [`Stream.map`][2]\r\n\r\n [1]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)\r\n\r\n [2]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)","title":"Conditionally modifying collections inline using Java Streams","body":"<p>You may use <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>Stream.peek</code></a>, it allows to apply an operation on each element and doesn't keep the result (if there is any) and resume the stream</p>\n<pre><code>List&lt;Fizzbuzz&gt; additions = latestList.stream()\n    .filter(latest -&gt; !currentList.contains(latest))\n    .peek(addition -&gt; addition.setProcessedAt(now))\n    .collect(Collectors.toList());\n</code></pre>\n<p>To a apply a modifying operation, that would transform the data into something else, you need <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Stream.map</code></a></p>\n"},{"tags":[],"owner":{"account_id":7102562,"reputation":173,"user_id":5433503,"display_name":"vaibhav shanker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638985923,"creation_date":1638985923,"answer_id":70279566,"question_id":70279380,"body_markdown":"You need to create Instant as a final variable to use it in lamda expression\r\n","title":"Conditionally modifying collections inline using Java Streams","body":"<p>You need to create Instant as a final variable to use it in lamda expression</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639003930,"creation_date":1639003525,"answer_id":70282644,"question_id":70279380,"body_markdown":"## A *set operation* and List.forEach()\r\n\r\nStreams should not have side effects. Therefore you should not modify any stream element from within a stream operation. So I recommend that you don’t use streams at all for your two requirements.\r\n\r\n        List&lt;Fizzbuzz&gt; additions = new ArrayList&lt;&gt;(latestList);\r\n        additions.removeAll(currentList);\r\n        Instant now = Instant.now();\r\n        additions.forEach(addition -&gt; addition.setProcessedAt(now));\r\n\r\nThe first two lines find the fizzbuzzes from `latestList` that are not in `currentList`.  The `removeAll` method is referred to as a *set operation*, not because it works on sets, but because it is used for finding the something like the *set difference* between two collections (in this case two lists). (Other set operations are `addAll()` for a union and `retainAll()` for an intersection.)\r\n\r\nThen the last two lines set `processedAt` as required.","title":"Conditionally modifying collections inline using Java Streams","body":"<h2>A <em>set operation</em> and List.forEach()</h2>\n<p>Streams should not have side effects. Therefore you should not modify any stream element from within a stream operation. So I recommend that you don’t use streams at all for your two requirements.</p>\n<pre><code>    List&lt;Fizzbuzz&gt; additions = new ArrayList&lt;&gt;(latestList);\n    additions.removeAll(currentList);\n    Instant now = Instant.now();\n    additions.forEach(addition -&gt; addition.setProcessedAt(now));\n</code></pre>\n<p>The first two lines find the fizzbuzzes from <code>latestList</code> that are not in <code>currentList</code>.  The <code>removeAll</code> method is referred to as a <em>set operation</em>, not because it works on sets, but because it is used for finding the something like the <em>set difference</em> between two collections (in this case two lists). (Other set operations are <code>addAll()</code> for a union and <code>retainAll()</code> for an intersection.)</p>\n<p>Then the last two lines set <code>processedAt</code> as required.</p>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70279420,"answer_count":3,"score":1,"last_activity_date":1639003930,"creation_date":1638985091,"question_id":70279380,"body_markdown":"Java 11 here. I have a 2 `List&lt;Fizzbuzz&gt;` instances, `latest` and `current`. The &quot;latest&quot; list is the list of _latest_ Fizzbuzzes, hot off the press. The &quot;current&quot; list is the list of Fizbuzzes that I have in my database. I am comparing these lists.\r\n\r\nI need to compare these lists and create a 3rd list, `additions`, which contains any Fizzbuzzes from the `latest` list that are not found inside the `current` list. Its a list of &quot;new&quot; Fizzbuzzes that the database does not have on record.\r\n\r\nFurthermore, I need to set each addition&#39;s `processedAt` field (`Instant`) to the same current date/time. I&#39;d like to try and accomplish this all inline using the Java Stream API. I can accomplish this the &quot;old fashioned&quot; way:\r\n```\r\nList&lt;Fizzbuzz&gt; latestList = getFromFile();\r\nList&lt;Fizzbuzz&gt; currentList = getFromDatabase();\r\nList&lt;Fizzbuzz&gt; additions = new ArrayList&lt;&gt;();\r\nInstant now = Instant.now();\r\nfor (Fizzbuzz latest : latestList) {\r\n    if (!currentList.contains(latest)) {\r\n        latest.setProcessedAt(now);\r\n        additions.add(latest);\r\n    }\r\n}\r\n```\r\n\r\nMy best attempt using the Java Stream API is:\r\n```\r\nList&lt;Fizzbuzz&gt; latestList = getFromFile();\r\nList&lt;Fizzbuzz&gt; currentList = getFromDatabase();\r\nInstant now = Instant.now();\r\nList&lt;Fizzbuzz&gt; additions = latestList.stream()\r\n    .filter(latest -&gt; !currentList.contains(latest))\r\n    .forEach(addition -&gt; {\r\n        addition.setProcessedAt(now);\r\n    })\r\n    .collect(Collectors.toList());\r\n```\r\n\r\nThis generates a compiler error because `forEach` doesn&#39;t return anything. Can anyone spot where I&#39;m going awry?","title":"Conditionally modifying collections inline using Java Streams","body":"<p>Java 11 here. I have a 2 <code>List&lt;Fizzbuzz&gt;</code> instances, <code>latest</code> and <code>current</code>. The &quot;latest&quot; list is the list of <em>latest</em> Fizzbuzzes, hot off the press. The &quot;current&quot; list is the list of Fizbuzzes that I have in my database. I am comparing these lists.</p>\n<p>I need to compare these lists and create a 3rd list, <code>additions</code>, which contains any Fizzbuzzes from the <code>latest</code> list that are not found inside the <code>current</code> list. Its a list of &quot;new&quot; Fizzbuzzes that the database does not have on record.</p>\n<p>Furthermore, I need to set each addition's <code>processedAt</code> field (<code>Instant</code>) to the same current date/time. I'd like to try and accomplish this all inline using the Java Stream API. I can accomplish this the &quot;old fashioned&quot; way:</p>\n<pre><code>List&lt;Fizzbuzz&gt; latestList = getFromFile();\nList&lt;Fizzbuzz&gt; currentList = getFromDatabase();\nList&lt;Fizzbuzz&gt; additions = new ArrayList&lt;&gt;();\nInstant now = Instant.now();\nfor (Fizzbuzz latest : latestList) {\n    if (!currentList.contains(latest)) {\n        latest.setProcessedAt(now);\n        additions.add(latest);\n    }\n}\n</code></pre>\n<p>My best attempt using the Java Stream API is:</p>\n<pre><code>List&lt;Fizzbuzz&gt; latestList = getFromFile();\nList&lt;Fizzbuzz&gt; currentList = getFromDatabase();\nInstant now = Instant.now();\nList&lt;Fizzbuzz&gt; additions = latestList.stream()\n    .filter(latest -&gt; !currentList.contains(latest))\n    .forEach(addition -&gt; {\n        addition.setProcessedAt(now);\n    })\n    .collect(Collectors.toList());\n</code></pre>\n<p>This generates a compiler error because <code>forEach</code> doesn't return anything. Can anyone spot where I'm going awry?</p>\n"},{"tags":["java","gson","bukkit"],"comments":[{"owner":{"account_id":8927372,"reputation":804,"user_id":6661222,"accept_rate":60,"display_name":"retrovius"},"score":0,"creation_date":1693919711,"post_id":70278950,"comment_id":135820718,"body_markdown":"Did you ever figure out a way to do this? I&#39;m trying to do the exact same thing.","body":"Did you ever figure out a way to do this? I&#39;m trying to do the exact same thing."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639003803,"creation_date":1639003803,"answer_id":70282681,"question_id":70278950,"body_markdown":"The issue is most likely that `ItemStack.deserialize` expects `&quot;meta&quot;` [to be an instance of `ItemMeta`](https://hub.spigotmc.org/stash/projects/SPIGOT/repos/bukkit/browse/src/main/java/org/bukkit/inventory/ItemStack.java?at=ffd8b28939b4ec84855f8a10c93463ec113def13#526). However because you are telling Gson to deserialize the data as `Map&lt;String, Object&gt;`, it does not know about this requirement and deserializes the `&quot;meta&quot;` property value as `Map` instead.\r\n\r\nYou could possibly work around this by writing a custom Gson `TypeAdapter` which handles this, but it might be still rather brittle.\r\n\r\nMaybe you can in some way use `ConfigurationSection` for serialization as shown [here](https://www.spigotmc.org/threads/how-do-i-get-save-an-itemstack-from-to-my-config.362120/#post-3328511), but I don&#39;t know how well that works or if it is the proper (and safe) solution to this.","title":"How to correctly deserialize ItemStack?","body":"<p>The issue is most likely that <code>ItemStack.deserialize</code> expects <code>&quot;meta&quot;</code> <a href=\"https://hub.spigotmc.org/stash/projects/SPIGOT/repos/bukkit/browse/src/main/java/org/bukkit/inventory/ItemStack.java?at=ffd8b28939b4ec84855f8a10c93463ec113def13#526\" rel=\"nofollow noreferrer\">to be an instance of <code>ItemMeta</code></a>. However because you are telling Gson to deserialize the data as <code>Map&lt;String, Object&gt;</code>, it does not know about this requirement and deserializes the <code>&quot;meta&quot;</code> property value as <code>Map</code> instead.</p>\n<p>You could possibly work around this by writing a custom Gson <code>TypeAdapter</code> which handles this, but it might be still rather brittle.</p>\n<p>Maybe you can in some way use <code>ConfigurationSection</code> for serialization as shown <a href=\"https://www.spigotmc.org/threads/how-do-i-get-save-an-itemstack-from-to-my-config.362120/#post-3328511\" rel=\"nofollow noreferrer\">here</a>, but I don't know how well that works or if it is the proper (and safe) solution to this.</p>\n"}],"owner":{"account_id":22554667,"reputation":111,"user_id":16743260,"display_name":"Bennnii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639003803,"creation_date":1638982991,"question_id":70278950,"body_markdown":"I&#39;m working on a way to save ItemStacks in a MySQL-Database. The serializing and saving works fine but if I deserialize it, I just get the Item without the ItemMeta (e.g. Item isn&#39;t enchanted after deserializing).\r\n\r\nHas anyone an idea how to deserialize it correctly? I found much about this on the internet but everything was outdatet and hasn&#39;t worked with 1.16.4.\r\n\r\n**My functions:**\r\n\r\n    private static String itemStackToString(ItemStack item) {\r\n        Gson gson = new Gson();\r\n        return gson.toJson(item.serialize());\r\n    }\r\n\r\n    private static ItemStack stringToItemStack(String str) {\r\n        Gson gson = new Gson();\r\n        Map&lt;String, Object&gt; map = gson.fromJson(str, new TypeToken&lt;Map&lt;String, Object&gt;(){}.getType());\r\n        return ItemStack.deserialize(map);\r\n    }","title":"How to correctly deserialize ItemStack?","body":"<p>I'm working on a way to save ItemStacks in a MySQL-Database. The serializing and saving works fine but if I deserialize it, I just get the Item without the ItemMeta (e.g. Item isn't enchanted after deserializing).</p>\n<p>Has anyone an idea how to deserialize it correctly? I found much about this on the internet but everything was outdatet and hasn't worked with 1.16.4.</p>\n<p><strong>My functions:</strong></p>\n<pre><code>private static String itemStackToString(ItemStack item) {\n    Gson gson = new Gson();\n    return gson.toJson(item.serialize());\n}\n\nprivate static ItemStack stringToItemStack(String str) {\n    Gson gson = new Gson();\n    Map&lt;String, Object&gt; map = gson.fromJson(str, new TypeToken&lt;Map&lt;String, Object&gt;(){}.getType());\n    return ItemStack.deserialize(map);\n}\n</code></pre>\n"},{"tags":["java","kotlin","gradle","dsl","gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":9403276,"reputation":1111,"user_id":8422138,"display_name":"Eddie Lopez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639003713,"creation_date":1639003713,"answer_id":70282670,"question_id":70281389,"body_markdown":"Check Kotlin Symbol Processing (KSP), which is the newest tool/API to write compiler plugins or processors. With it, you can write a plugin that parses the CDM library and generates the DSL, making it available right away to the client app. This would happen during the client project build phase, producing a local and unique DSL based on the CDM version.\r\n\r\nhttps://www.youtube.com/watch?v=bv-VyGM3HCY\r\n\r\nhttps://kotlinlang.org/docs/ksp-overview.html ","title":"Code generator as a gradle plugin or dependency","body":"<p>Check Kotlin Symbol Processing (KSP), which is the newest tool/API to write compiler plugins or processors. With it, you can write a plugin that parses the CDM library and generates the DSL, making it available right away to the client app. This would happen during the client project build phase, producing a local and unique DSL based on the CDM version.</p>\n<p><a href=\"https://www.youtube.com/watch?v=bv-VyGM3HCY\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=bv-VyGM3HCY</a></p>\n<p><a href=\"https://kotlinlang.org/docs/ksp-overview.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/ksp-overview.html</a></p>\n"}],"owner":{"account_id":12341582,"reputation":31,"user_id":9004533,"display_name":"Vincent Jug&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639003713,"creation_date":1638995583,"question_id":70281389,"body_markdown":"I&#39;ve written a code generator https://github.com/vjuge/cdmdsl which uses gradle&#39;s buildSrc  to generate some kotlin DSL code, from a financial model library named &#39;CDM&#39; https://regnosys.jfrog.io/artifactory/libs-snapshot\r\n\r\nIt&#39;s using java&#39;s reflection capacity to generate the DSL dynamically (the model change quite often, new types are introduced, properties are changed/removed, etc.)\r\n\r\nIt is working fine, and thus we can include this DSL to manipulate the model easily, from inside any java-based applications.\r\n\r\nThe drawback today is that I need to regularly build and deploy versions of my DSL in order to follow CDM releases. This is a bit annoying and not sustainable.\r\n\r\nI wonder if there is any way to make my project able to build &#39;on-the-fly&#39;, as a dependency:\r\n1. An application would implement two dependencies : this DSL + CDM lib\r\n2. The application would set the wanted CDM dependency version\r\n3. The DSL would be used like a gradle plugin to generate the code based on the corresponding cdm version at application&#39;s build time\r\n\r\nHopefully my description is clear enough!","title":"Code generator as a gradle plugin or dependency","body":"<p>I've written a code generator <a href=\"https://github.com/vjuge/cdmdsl\" rel=\"nofollow noreferrer\">https://github.com/vjuge/cdmdsl</a> which uses gradle's buildSrc  to generate some kotlin DSL code, from a financial model library named 'CDM' <a href=\"https://regnosys.jfrog.io/artifactory/libs-snapshot\" rel=\"nofollow noreferrer\">https://regnosys.jfrog.io/artifactory/libs-snapshot</a></p>\n<p>It's using java's reflection capacity to generate the DSL dynamically (the model change quite often, new types are introduced, properties are changed/removed, etc.)</p>\n<p>It is working fine, and thus we can include this DSL to manipulate the model easily, from inside any java-based applications.</p>\n<p>The drawback today is that I need to regularly build and deploy versions of my DSL in order to follow CDM releases. This is a bit annoying and not sustainable.</p>\n<p>I wonder if there is any way to make my project able to build 'on-the-fly', as a dependency:</p>\n<ol>\n<li>An application would implement two dependencies : this DSL + CDM lib</li>\n<li>The application would set the wanted CDM dependency version</li>\n<li>The DSL would be used like a gradle plugin to generate the code based on the corresponding cdm version at application's build time</li>\n</ol>\n<p>Hopefully my description is clear enough!</p>\n"},{"tags":["java","multithreading","intellij-idea"],"comments":[{"owner":{"account_id":18284469,"reputation":140,"user_id":13312696,"display_name":"Gius"},"score":0,"creation_date":1639001733,"post_id":70282321,"comment_id":124240269,"body_markdown":"Post your code so we can see what could be the problem. If the program involves multithreading, remember that the output can change executing multiple times if you don&#39;t differently cover this behavior.","body":"Post your code so we can see what could be the problem. If the program involves multithreading, remember that the output can change executing multiple times if you don&#39;t differently cover this behavior."},{"owner":{"account_id":182885,"reputation":121,"user_id":417905,"display_name":"Matt Vickery"},"score":1,"creation_date":1639001769,"post_id":70282321,"comment_id":124240286,"body_markdown":"Hi, welcome to stackoverflow. I’m afraid you’re going to have to be far more specific with detail before anyone is going to be in a position to be able to help you.","body":"Hi, welcome to stackoverflow. I’m afraid you’re going to have to be far more specific with detail before anyone is going to be in a position to be able to help you."},{"owner":{"account_id":20091934,"reputation":1,"user_id":14732227,"display_name":"syed zaid bin haris"},"score":0,"creation_date":1639003040,"post_id":70282321,"comment_id":124240619,"body_markdown":"I have added parts of the files which I think are relevant. sry for the late reply.\nAnd @Gius you are right, the program did change it outputs once.","body":"I have added parts of the files which I think are relevant. sry for the late reply. And @Gius you are right, the program did change it outputs once."},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1639004084,"post_id":70282321,"comment_id":124240883,"body_markdown":"Possibly unrelated but instead of `Paths.get(currentPath.toString(),filename);` it&#39;s better to do `currentPath.resolve(filename)`","body":"Possibly unrelated but instead of <code>Paths.get(currentPath.toString(),filename);</code> it&#39;s better to do <code>currentPath.resolve(filename)</code>"},{"owner":{"account_id":20091934,"reputation":1,"user_id":14732227,"display_name":"syed zaid bin haris"},"score":0,"creation_date":1639005203,"post_id":70282321,"comment_id":124241170,"body_markdown":"@BenAnderson ,tried that, it doesnt work.","body":"@BenAnderson ,tried that, it doesnt work."}],"owner":{"account_id":20091934,"reputation":1,"user_id":14732227,"display_name":"syed zaid bin haris"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639002970,"creation_date":1639001352,"question_id":70282321,"body_markdown":"A friend of mine was having some issues with her project,she sent the files for me to debug. I am not sure but from the looks of it she doesn&#39;t use any ide, so when I got the files I made an Intellij project and copy pasted the files there.\r\n\r\nWhen I ran the files on intellij it gave me a filenotfound exception, that was not been given in cmd.So I added the correct file path.\r\n\r\nthe file involves multithreading.\r\n\r\nAfter that, I ran the file on intellij and it gave the desired output.\r\n\r\nHowever, the file is giving a completely different output if I run it from cmd. \r\n\r\n    //This is the part from main where a thread is being made \r\n    Event e = new Restart(gc, 0, filename);\r\n        gc.addEvent(e);\r\n        new Thread(e).start();\r\n\r\nIn the restart class there is where the issue was:\r\n\r\n    public void getEvents(String filename) {\r\n\r\n    // open the file and read it using Scanner\r\n    try {\r\n      /** The file containing event details */\r\n      File myFile = new File(filename);\r\n      /** The Scanner object to read file */\r\n      Scanner myReader = new Scanner(myFile);\r\n      /** Current event being analyzed by Scanner */\r\n      String myEvent;\r\n      /** The delay with which the event will occur in ms  */\r\n      long delayTime;\r\n\r\n\r\n\r\n      while ((myReader.hasNextLine()) \r\n        &amp;&amp; ((myEvent = myReader.nextLine()) != null)) {\r\n        int equal = myEvent.indexOf(&#39;=&#39;);\r\n        int comma = myEvent.indexOf(&#39;,&#39;);\r\n        String className = myEvent.substring(equal+1, comma);\r\n        myEvent = myEvent.substring(comma+1);\r\n        Event e;\r\n        \r\n        if (myEvent.contains(&quot;rings&quot;)) {\r\n          equal = myEvent.indexOf(&quot;=&quot;);\r\n          comma = myEvent.indexOf(&quot;,&quot;);\r\n          delayTime = Long.parseLong(myEvent.substring(equal+1, comma));\r\n          myEvent = myEvent.substring(comma+1);\r\n          equal = myEvent.indexOf(&quot;=&quot;);\r\n          int rings = Integer.parseInt(myEvent.substring(equal+1));\r\n          e = new Bell(delayTime);\r\n          gc.addEvent(e);\r\n          new Thread(e).start();\r\n          while(rings-- &gt; 1) {\r\n            e = new Bell(delayTime += 2000);\r\n            gc.addEvent(e);\r\n            new Thread(e).start();\r\n          }\r\n        } \r\n        else {\r\n          equal = myEvent.indexOf(&quot;=&quot;);\r\n          delayTime = Long.parseLong(myEvent.substring(equal+1));\r\n          Class&lt;Event&gt; myClass = (Class&lt;Event&gt;)Class.forName(&quot;tme4.&quot; + className);\r\n          Constructor&lt;Event&gt; ctor = myClass.getConstructor(long.class);\r\n          e = ctor.newInstance(delayTime);\r\n          gc.addEvent(e);\r\n          new Thread(e).start();\r\n        }\r\n      }\r\n\r\n      myReader.close();\r\n    } catch (Exception e) {\r\n      e.printStackTrace();;\r\n    }\r\n  }\r\n\r\n\r\nI only changed the first few lines:\r\nFrom This:\r\n\r\n     File myFile = new File(filename);\r\n      /** The Scanner object to read file */\r\n      Scanner myReader = new Scanner(myFile);\r\n\r\n     Path currentPath = Paths.get(System.getProperty(&quot;user.dir&quot;));\r\n      Path filePath = Paths.get(currentPath.toString(),filename);\r\nTo This:\r\n  \r\n\r\n    filePath=Paths.get(&quot;C:\\\\Users\\\\Admin\\\\IdeaProjects\\\\summayah\\\\src\\\\examples1.txt&quot;);\r\n      System.out.println(filePath);\r\n      File myFile = new File(filename);\r\n      /** The Scanner object to read file */\r\n      Scanner myReader = new Scanner(myFile);\r\n\r\n\r\n\r\nCan someone kindly help me? Thanks in advance","title":"Same File giving different output on intellij and cmd","body":"<p>A friend of mine was having some issues with her project,she sent the files for me to debug. I am not sure but from the looks of it she doesn't use any ide, so when I got the files I made an Intellij project and copy pasted the files there.</p>\n<p>When I ran the files on intellij it gave me a filenotfound exception, that was not been given in cmd.So I added the correct file path.</p>\n<p>the file involves multithreading.</p>\n<p>After that, I ran the file on intellij and it gave the desired output.</p>\n<p>However, the file is giving a completely different output if I run it from cmd.</p>\n<pre><code>//This is the part from main where a thread is being made \nEvent e = new Restart(gc, 0, filename);\n    gc.addEvent(e);\n    new Thread(e).start();\n</code></pre>\n<p>In the restart class there is where the issue was:</p>\n<pre><code>public void getEvents(String filename) {\n\n// open the file and read it using Scanner\ntry {\n  /** The file containing event details */\n  File myFile = new File(filename);\n  /** The Scanner object to read file */\n  Scanner myReader = new Scanner(myFile);\n  /** Current event being analyzed by Scanner */\n  String myEvent;\n  /** The delay with which the event will occur in ms  */\n  long delayTime;\n\n\n\n  while ((myReader.hasNextLine()) \n    &amp;&amp; ((myEvent = myReader.nextLine()) != null)) {\n    int equal = myEvent.indexOf('=');\n    int comma = myEvent.indexOf(',');\n    String className = myEvent.substring(equal+1, comma);\n    myEvent = myEvent.substring(comma+1);\n    Event e;\n    \n    if (myEvent.contains(&quot;rings&quot;)) {\n      equal = myEvent.indexOf(&quot;=&quot;);\n      comma = myEvent.indexOf(&quot;,&quot;);\n      delayTime = Long.parseLong(myEvent.substring(equal+1, comma));\n      myEvent = myEvent.substring(comma+1);\n      equal = myEvent.indexOf(&quot;=&quot;);\n      int rings = Integer.parseInt(myEvent.substring(equal+1));\n      e = new Bell(delayTime);\n      gc.addEvent(e);\n      new Thread(e).start();\n      while(rings-- &gt; 1) {\n        e = new Bell(delayTime += 2000);\n        gc.addEvent(e);\n        new Thread(e).start();\n      }\n    } \n    else {\n      equal = myEvent.indexOf(&quot;=&quot;);\n      delayTime = Long.parseLong(myEvent.substring(equal+1));\n      Class&lt;Event&gt; myClass = (Class&lt;Event&gt;)Class.forName(&quot;tme4.&quot; + className);\n      Constructor&lt;Event&gt; ctor = myClass.getConstructor(long.class);\n      e = ctor.newInstance(delayTime);\n      gc.addEvent(e);\n      new Thread(e).start();\n    }\n  }\n\n  myReader.close();\n} catch (Exception e) {\n  e.printStackTrace();;\n}\n</code></pre>\n<p>}</p>\n<p>I only changed the first few lines:\nFrom This:</p>\n<pre><code> File myFile = new File(filename);\n  /** The Scanner object to read file */\n  Scanner myReader = new Scanner(myFile);\n\n Path currentPath = Paths.get(System.getProperty(&quot;user.dir&quot;));\n  Path filePath = Paths.get(currentPath.toString(),filename);\n</code></pre>\n<p>To This:</p>\n<pre><code>filePath=Paths.get(&quot;C:\\\\Users\\\\Admin\\\\IdeaProjects\\\\summayah\\\\src\\\\examples1.txt&quot;);\n  System.out.println(filePath);\n  File myFile = new File(filename);\n  /** The Scanner object to read file */\n  Scanner myReader = new Scanner(myFile);\n</code></pre>\n<p>Can someone kindly help me? Thanks in advance</p>\n"},{"tags":["java","android","database","sqlite"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":3,"creation_date":1639003811,"post_id":70282456,"comment_id":124240821,"body_markdown":"SQLite in Android is not designed for large BLOB columns like that. I strongly recommend hat you store your images as ordinary files, and perhaps store the filenames in the database.","body":"SQLite in Android is not designed for large BLOB columns like that. I strongly recommend hat you store your images as ordinary files, and perhaps store the filenames in the database."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1639003833,"post_id":70282456,"comment_id":124240827,"body_markdown":"Consider storing the URI in DB (rather than the actual content), and fetch the actual image only when it needs to be displayed.","body":"Consider storing the URI in DB (rather than the actual content), and fetch the actual image only when it needs to be displayed."},{"owner":{"account_id":15207348,"reputation":66,"user_id":10973298,"display_name":"Mohsen Mashkour"},"score":0,"creation_date":1639006831,"post_id":70282456,"comment_id":124241475,"body_markdown":"I know this way but in case of deleting the images from the memory the data will be damaged. And the user will loose a part of his data.","body":"I know this way but in case of deleting the images from the memory the data will be damaged. And the user will loose a part of his data."}],"owner":{"account_id":15207348,"reputation":66,"user_id":10973298,"display_name":"Mohsen Mashkour"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639002307,"creation_date":1639002307,"question_id":70282456,"body_markdown":"I&#39;m trying to build a notebook app using the SQLite database. everything works ok but whenever the images larger than 1MB Is added to the row of the database there won&#39;t be any new row shown on the recyclerView. while i delete all the items of the database it will work again correctly.\r\n\r\nthe question is how can i save images larger than 1MB in my database?\r\n \r\n\r\n**this is the main database:**\r\n\r\n    public class MainDatabase extends SQLiteOpenHelper {\r\n    private Context context;\r\n    private SQLiteDatabase sqLiteDatabase;\r\n    private static final String DATABASE_NAME = &quot;MainDatabase.db&quot;;\r\n    private static final int DATABASE_VERSION = 1;\r\n\r\n    /// memo library\r\n    private static final String TABLE_NAME_MEMO = &quot;memo_library&quot;;\r\n    private static final String MEMO_ID = &quot;memo_id&quot;;\r\n    private static final String MEMO_TITLE = &quot;memo_title&quot;;\r\n    private static final String MEMO_MEMO = &quot;memo_memo&quot;;\r\n    private static final String MEMO_DATE = &quot;memo_date&quot;;\r\n    private static final String MEMO_IMAGE = &quot;memo_image&quot;;\r\n    private static final String MEMO_LOCATION = &quot;memo_location&quot;;\r\n\r\n    /// tasks library\r\n\r\n    public MainDatabase(@Nullable Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n        this.context = context;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n        try {\r\n            String memo_query = &quot;CREATE TABLE &quot; + TABLE_NAME_MEMO +\r\n                    &quot; (&quot; + MEMO_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                    MEMO_TITLE + &quot; VARCHAR, &quot; +\r\n                    MEMO_MEMO + &quot; TEXT, &quot; +\r\n                    MEMO_DATE + &quot; VARCHAR, &quot; +\r\n                    MEMO_IMAGE + &quot; BLOB NOT NULL, &quot; +\r\n                    MEMO_LOCATION + &quot; VARCHAR);&quot;;\r\n            sqLiteDatabase.execSQL(memo_query);\r\n\r\n        } catch (Exception e) {\r\n            Toast.makeText(context, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n**this is the method to insert the data:**\r\n\r\n// add data method:\r\n\r\n    void addMemo(MemoData memoData) {\r\n        try {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n            ContentValues contentValues = new ContentValues();\r\n\r\n            contentValues.put(MEMO_TITLE, memoData.getTitle());\r\n            contentValues.put(MEMO_MEMO, memoData.getMemo());\r\n            contentValues.put(MEMO_DATE, memoData.getDate());\r\n            contentValues.put(MEMO_IMAGE, convertImage(memoData));\r\n            contentValues.put(MEMO_LOCATION, memoData.getLocation());\r\n\r\n            long result = db.insert(TABLE_NAME_MEMO, null, contentValues);\r\n            if (result == -1) {\r\n                Toast.makeText(context, &quot;Failed to save&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(context, &quot;Successfully Saved&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        } catch (Exception e) {\r\n            Toast.makeText(context, &quot;Memo Exception:  &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\n\r\n**this is the part of the code that i wrote to add the image through its path:**\r\n\r\n     private byte[] convertImage(MemoData memoData) {\r\n        Bitmap bitmap = null;\r\n        ByteArrayOutputStream stream = null;\r\n\r\n        if (memoData.getImage() != null){ // memoData is a class which i put the path of the image as String object in it\r\n        Uri uri = Uri.parse(memoData.getImage());\r\n\r\n            try {\r\n                InputStream inputStream = context.getContentResolver().openInputStream(uri);\r\n                bitmap = BitmapFactory.decodeStream(inputStream);\r\n\r\n\r\n\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }else {\r\n            bitmap = BitmapFactory.decodeResource(context.getResources(), R.drawable.header1);\r\n        }\r\n\r\n\r\n        stream = new ByteArrayOutputStream();\r\n        assert bitmap != null;\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\r\n\r\n        //assert stream != null;\r\n        return stream.toByteArray();\r\n       //return new byte[0];\r\n    }\r\n","title":"how can save images larger than 1MB on sqlite database android?","body":"<p>I'm trying to build a notebook app using the SQLite database. everything works ok but whenever the images larger than 1MB Is added to the row of the database there won't be any new row shown on the recyclerView. while i delete all the items of the database it will work again correctly.</p>\n<p>the question is how can i save images larger than 1MB in my database?</p>\n<p><strong>this is the main database:</strong></p>\n<pre><code>public class MainDatabase extends SQLiteOpenHelper {\nprivate Context context;\nprivate SQLiteDatabase sqLiteDatabase;\nprivate static final String DATABASE_NAME = &quot;MainDatabase.db&quot;;\nprivate static final int DATABASE_VERSION = 1;\n\n/// memo library\nprivate static final String TABLE_NAME_MEMO = &quot;memo_library&quot;;\nprivate static final String MEMO_ID = &quot;memo_id&quot;;\nprivate static final String MEMO_TITLE = &quot;memo_title&quot;;\nprivate static final String MEMO_MEMO = &quot;memo_memo&quot;;\nprivate static final String MEMO_DATE = &quot;memo_date&quot;;\nprivate static final String MEMO_IMAGE = &quot;memo_image&quot;;\nprivate static final String MEMO_LOCATION = &quot;memo_location&quot;;\n\n/// tasks library\n\npublic MainDatabase(@Nullable Context context) {\n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    this.context = context;\n}\n\n@Override\npublic void onCreate(SQLiteDatabase sqLiteDatabase) {\n    try {\n        String memo_query = &quot;CREATE TABLE &quot; + TABLE_NAME_MEMO +\n                &quot; (&quot; + MEMO_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n                MEMO_TITLE + &quot; VARCHAR, &quot; +\n                MEMO_MEMO + &quot; TEXT, &quot; +\n                MEMO_DATE + &quot; VARCHAR, &quot; +\n                MEMO_IMAGE + &quot; BLOB NOT NULL, &quot; +\n                MEMO_LOCATION + &quot; VARCHAR);&quot;;\n        sqLiteDatabase.execSQL(memo_query);\n\n    } catch (Exception e) {\n        Toast.makeText(context, e.getMessage(), Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p><strong>this is the method to insert the data:</strong></p>\n<p>// add data method:</p>\n<pre><code>void addMemo(MemoData memoData) {\n    try {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues contentValues = new ContentValues();\n\n        contentValues.put(MEMO_TITLE, memoData.getTitle());\n        contentValues.put(MEMO_MEMO, memoData.getMemo());\n        contentValues.put(MEMO_DATE, memoData.getDate());\n        contentValues.put(MEMO_IMAGE, convertImage(memoData));\n        contentValues.put(MEMO_LOCATION, memoData.getLocation());\n\n        long result = db.insert(TABLE_NAME_MEMO, null, contentValues);\n        if (result == -1) {\n            Toast.makeText(context, &quot;Failed to save&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(context, &quot;Successfully Saved&quot;, Toast.LENGTH_SHORT).show();\n        }\n    } catch (Exception e) {\n        Toast.makeText(context, &quot;Memo Exception:  &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p><strong>this is the part of the code that i wrote to add the image through its path:</strong></p>\n<pre><code> private byte[] convertImage(MemoData memoData) {\n    Bitmap bitmap = null;\n    ByteArrayOutputStream stream = null;\n\n    if (memoData.getImage() != null){ // memoData is a class which i put the path of the image as String object in it\n    Uri uri = Uri.parse(memoData.getImage());\n\n        try {\n            InputStream inputStream = context.getContentResolver().openInputStream(uri);\n            bitmap = BitmapFactory.decodeStream(inputStream);\n\n\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }else {\n        bitmap = BitmapFactory.decodeResource(context.getResources(), R.drawable.header1);\n    }\n\n\n    stream = new ByteArrayOutputStream();\n    assert bitmap != null;\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\n\n    //assert stream != null;\n    return stream.toByteArray();\n   //return new byte[0];\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1638998559,"post_id":70281824,"comment_id":124239289,"body_markdown":"I don&#39;t think you can use `reduce()`. Subtraction is not associative.","body":"I don&#39;t think you can use <code>reduce()</code>. Subtraction is not associative."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1638998848,"post_id":70281824,"comment_id":124239377,"body_markdown":"But you can do something like `Stream.of(book2, bookN).reduce(CountData::increase).map(book1::decrease).orElse(book1)`","body":"But you can do something like <code>Stream.of(book2, bookN).reduce(CountData::increase).map(book1::decrease).orEl&zwnj;&#8203;se(book1)</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1639126349,"post_id":70281824,"comment_id":124273918,"body_markdown":"There is no point in processing two objects with a `Stream` in this way. Whatever you write into the body of the reduction function would do its job better and simpler without the surrounding `Stream` operation, when just applied to the two objects directly.","body":"There is no point in processing two objects with a <code>Stream</code> in this way. Whatever you write into the body of the reduction function would do its job better and simpler without the surrounding <code>Stream</code> operation, when just applied to the two objects directly."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639002269,"creation_date":1639002269,"answer_id":70282445,"question_id":70281824,"body_markdown":"The following ad hoc solution uses a single-element stream of `book2` to be subtracted from a seed initialized with `book1` values:\r\n```java\r\nCount reduced = Stream.of(book2)\r\n    .reduce(new Count(book1.getWords(), book1.getCharacters()), Count::decrease);\r\n```\r\nHere value of `book1` is not affected.\r\n\r\nHowever, for this specific case this can be done without Stream API:\r\n```java\r\nCount reduced = new Count(book1.getWords(), book1.getCharacters())\r\n        .decrease(book2);\r\n```","title":"Decrease two custom objects values using reduce operation","body":"<p>The following ad hoc solution uses a single-element stream of <code>book2</code> to be subtracted from a seed initialized with <code>book1</code> values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Count reduced = Stream.of(book2)\n    .reduce(new Count(book1.getWords(), book1.getCharacters()), Count::decrease);\n</code></pre>\n<p>Here value of <code>book1</code> is not affected.</p>\n<p>However, for this specific case this can be done without Stream API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Count reduced = new Count(book1.getWords(), book1.getCharacters())\n        .decrease(book2);\n</code></pre>\n"}],"owner":{"account_id":9582475,"reputation":179,"user_id":7116503,"accept_rate":75,"display_name":"pcCC28"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639002269,"creation_date":1638998218,"question_id":70281824,"body_markdown":"I have a custom object like the following one.\r\n```\r\npublic class Count {\r\n    private int words;\r\n    private int characters;\r\n    //getters &amp; setters &amp;&amp; all args constructor\r\n\r\n    void Count decrease(Count other) {\r\n       this.words -= other.words;\r\n       this.characters -= other.characters; \r\n       return this;\r\n    }\r\n}\r\n```\r\nI want to achieve the next result, e.g:\r\n\r\nCount book1 = new Count(10, 35);\r\n\r\nCount book2 = new Count(6, 10);\r\n\r\nthe result would be:\r\nCount result = Count(4, 25) -&gt; ([10-6], [35-10])\r\n\r\nI tried this solution but it didn&#39;t work.\r\n\r\n`Stream.of(book1, book2).reduce(new CountData(), CountData::decrease)`\r\n\r\nIt&#39;s possible to achieve this result using reduce operation or another stream operation from java &gt;=8 ?","title":"Decrease two custom objects values using reduce operation","body":"<p>I have a custom object like the following one.</p>\n<pre><code>public class Count {\n    private int words;\n    private int characters;\n    //getters &amp; setters &amp;&amp; all args constructor\n\n    void Count decrease(Count other) {\n       this.words -= other.words;\n       this.characters -= other.characters; \n       return this;\n    }\n}\n</code></pre>\n<p>I want to achieve the next result, e.g:</p>\n<p>Count book1 = new Count(10, 35);</p>\n<p>Count book2 = new Count(6, 10);</p>\n<p>the result would be:\nCount result = Count(4, 25) -&gt; ([10-6], [35-10])</p>\n<p>I tried this solution but it didn't work.</p>\n<p><code>Stream.of(book1, book2).reduce(new CountData(), CountData::decrease)</code></p>\n<p>It's possible to achieve this result using reduce operation or another stream operation from java &gt;=8 ?</p>\n"},{"tags":["java","eclipse","findbugs"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1638981037,"post_id":70277771,"comment_id":124233046,"body_markdown":"Are you sure that you have the plugin installed in your Eclipse library and that it is on the build path?","body":"Are you sure that you have the plugin installed in your Eclipse library and that it is on the build path?"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1638985564,"post_id":70277771,"comment_id":124234937,"body_markdown":"Imports would have to be something in the .classpath rather than .projects","body":"Imports would have to be something in the .classpath rather than .projects"},{"owner":{"account_id":202924,"reputation":7699,"user_id":450274,"accept_rate":63,"display_name":"Asken"},"score":0,"creation_date":1638995979,"post_id":70277771,"comment_id":124238467,"body_markdown":"@HovercraftFullOfEels I&#39;m for sure not sure :) How do I make sure of that?","body":"@HovercraftFullOfEels I&#39;m for sure not sure :) How do I make sure of that?"}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639002002,"creation_date":1639002002,"answer_id":70282404,"question_id":70277771,"body_markdown":"The first part of a jar name, using the usual naming convention for imported jars, is a reverse of the url where the jar originates. So in this case, given &quot;edu.umd&quot; I did a search for &quot;umd.edu&quot; and came to the site for the University of Maryland.\r\n\r\nFrom their, using their search field, I entered keywords derived from the rest of the name: &quot;findbugs plugin&quot;. The keyword &quot;eclipse&quot; would have also be a good try. The results of the search showed that UMD has [an Eclipse plugin called findbugs][1].\r\n\r\nTo load a plugin, in Eclipse, on the tab &quot;Help&quot; select &quot;Eclipse Marketplace&quot;. From there, enter &quot;findbugs&quot;. The plugin that you are missing will likely be one of the first shown. I believe in this case it is called &quot;FindBugs Eclipse Plugin 3.0.1&quot;. If you install this, the error will likely disappear.\r\n\r\nIt might be worth checking first to see if the plugin is already installed. To do this, click on the &quot;Help&quot; tab the &quot;About&quot; at the bottom. (It probably says &quot;About Eclipse&quot;--I&#39;m using a variant of Eclipse so mine says &quot;About Spring Tool Suite 4&quot; so I can&#39;t give you the exact phrase you will see.) From the popup that appears, there should be a button &quot;Installation Details&quot;. Click this for yet another popup and on this one, there should be a tab for &quot;Plug-ins&quot;. Clicking this should give you a list of all your current plug-ins.\r\n\r\nGiven the elapsed time, sometimes things go stale, so you may actually have an older version of the plugin. If so, it will require updating or reinstalling. Also, depending on the age of the code you are trying to run, your code may need some modification if it&#39;s attempting to use deprecated/deleted elements of the plug-in. So you might not be totally out of the woods yet. However, Eclipse should give you the error messages needed for determining the next steps if that is the case.\r\n\r\nBut there IS a good chance adding the plug-in to your Eclipse IDE will be sufficient to get the code running again.\r\n\r\n  [1]: https://findbugs.cs.umd.edu/eclipse/","title":"Trying to compile an old Java project but missing resources and I don&#39;t know how to include them","body":"<p>The first part of a jar name, using the usual naming convention for imported jars, is a reverse of the url where the jar originates. So in this case, given &quot;edu.umd&quot; I did a search for &quot;umd.edu&quot; and came to the site for the University of Maryland.</p>\n<p>From their, using their search field, I entered keywords derived from the rest of the name: &quot;findbugs plugin&quot;. The keyword &quot;eclipse&quot; would have also be a good try. The results of the search showed that UMD has <a href=\"https://findbugs.cs.umd.edu/eclipse/\" rel=\"nofollow noreferrer\">an Eclipse plugin called findbugs</a>.</p>\n<p>To load a plugin, in Eclipse, on the tab &quot;Help&quot; select &quot;Eclipse Marketplace&quot;. From there, enter &quot;findbugs&quot;. The plugin that you are missing will likely be one of the first shown. I believe in this case it is called &quot;FindBugs Eclipse Plugin 3.0.1&quot;. If you install this, the error will likely disappear.</p>\n<p>It might be worth checking first to see if the plugin is already installed. To do this, click on the &quot;Help&quot; tab the &quot;About&quot; at the bottom. (It probably says &quot;About Eclipse&quot;--I'm using a variant of Eclipse so mine says &quot;About Spring Tool Suite 4&quot; so I can't give you the exact phrase you will see.) From the popup that appears, there should be a button &quot;Installation Details&quot;. Click this for yet another popup and on this one, there should be a tab for &quot;Plug-ins&quot;. Clicking this should give you a list of all your current plug-ins.</p>\n<p>Given the elapsed time, sometimes things go stale, so you may actually have an older version of the plugin. If so, it will require updating or reinstalling. Also, depending on the age of the code you are trying to run, your code may need some modification if it's attempting to use deprecated/deleted elements of the plug-in. So you might not be totally out of the woods yet. However, Eclipse should give you the error messages needed for determining the next steps if that is the case.</p>\n<p>But there IS a good chance adding the plug-in to your Eclipse IDE will be sufficient to get the code running again.</p>\n"}],"owner":{"account_id":202924,"reputation":7699,"user_id":450274,"accept_rate":63,"display_name":"Asken"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639002002,"creation_date":1638978266,"question_id":70277771,"body_markdown":"Very new to Java. I have some old code I&#39;m looking at and I have a problem with `findbugs`. I&#39;m using Eclipse and a regular Java project. I&#39;ve installed it using the `Install new software` from the `Help` menu but now I don&#39;t know how to continue. I can see that it&#39;s added to the `.project` file too.\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;projectDescription&gt;\r\n\t\t&lt;name&gt;My Project&lt;/name&gt;\r\n\t\t&lt;comment&gt;&lt;/comment&gt;\r\n\t\t&lt;projects&gt;\r\n\t\t&lt;/projects&gt;\r\n\t\t&lt;buildSpec&gt;\r\n\t\t\t&lt;buildCommand&gt;\r\n\t\t\t\t&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t&lt;/buildCommand&gt;\r\n\t\t\t&lt;buildCommand&gt;\r\n\t\t\t\t&lt;name&gt;edu.umd.cs.findbugs.plugin.eclipse.findbugsBuilder&lt;/name&gt;\r\n\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t&lt;/buildCommand&gt;\r\n\t\t&lt;/buildSpec&gt;\r\n\t\t&lt;natures&gt;\r\n\t\t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n\t\t\t&lt;nature&gt;edu.umd.cs.findbugs.plugin.eclipse.findbugsNature&lt;/nature&gt;\r\n\t\t&lt;/natures&gt;\r\n\t&lt;/projectDescription&gt;\r\n\r\n`.classpath`\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;classpath&gt;\r\n\t\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-16&quot;&gt;\r\n\t\t\t&lt;attributes&gt;\r\n\t\t\t\t&lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t&lt;/attributes&gt;\r\n\t\t&lt;/classpathentry&gt;\r\n\t\t&lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n\t\t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n\t&lt;/classpath&gt;\r\n\r\nI get the below unresolved error.\r\n\r\n[![enter image description here][1]][1]\r\n    \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2McJE.png","title":"Trying to compile an old Java project but missing resources and I don&#39;t know how to include them","body":"<p>Very new to Java. I have some old code I'm looking at and I have a problem with <code>findbugs</code>. I'm using Eclipse and a regular Java project. I've installed it using the <code>Install new software</code> from the <code>Help</code> menu but now I don't know how to continue. I can see that it's added to the <code>.project</code> file too.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;projectDescription&gt;\n    &lt;name&gt;My Project&lt;/name&gt;\n    &lt;comment&gt;&lt;/comment&gt;\n    &lt;projects&gt;\n    &lt;/projects&gt;\n    &lt;buildSpec&gt;\n        &lt;buildCommand&gt;\n            &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n            &lt;arguments&gt;\n            &lt;/arguments&gt;\n        &lt;/buildCommand&gt;\n        &lt;buildCommand&gt;\n            &lt;name&gt;edu.umd.cs.findbugs.plugin.eclipse.findbugsBuilder&lt;/name&gt;\n            &lt;arguments&gt;\n            &lt;/arguments&gt;\n        &lt;/buildCommand&gt;\n    &lt;/buildSpec&gt;\n    &lt;natures&gt;\n        &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n        &lt;nature&gt;edu.umd.cs.findbugs.plugin.eclipse.findbugsNature&lt;/nature&gt;\n    &lt;/natures&gt;\n&lt;/projectDescription&gt;\n</code></pre>\n<p><code>.classpath</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-16&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\n&lt;/classpath&gt;\n</code></pre>\n<p>I get the below unresolved error.</p>\n<p><a href=\"https://i.stack.imgur.com/2McJE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2McJE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","endpoint","okta","http-status-code-400","okta-api"],"comments":[{"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"score":0,"creation_date":1638984951,"post_id":70279298,"comment_id":124234690,"body_markdown":"Does it work fine, if you start your flow from your application rather? Configuring Okta to support &quot;IdP&quot; initiated flow for OIDC might be bit tricky. But I&#39;d definitely recommend you to log all the calls you make to Okta, so that you can restore the flow. So far it&#39;s not clear from your explanation what it is","body":"Does it work fine, if you start your flow from your application rather? Configuring Okta to support &quot;IdP&quot; initiated flow for OIDC might be bit tricky. But I&#39;d definitely recommend you to log all the calls you make to Okta, so that you can restore the flow. So far it&#39;s not clear from your explanation what it is"},{"owner":{"account_id":7788252,"reputation":37,"user_id":5892233,"display_name":"AAPJ"},"score":0,"creation_date":1638986016,"post_id":70279298,"comment_id":124235130,"body_markdown":"When I hit my application URL, each time it always takes me to OKTA login page and my application opens correctly on entering credential and authenticated by okta.\n\nCan you tell me what do you mean by restore the flow?","body":"When I hit my application URL, each time it always takes me to OKTA login page and my application opens correctly on entering credential and authenticated by okta.  Can you tell me what do you mean by restore the flow?"},{"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"score":0,"creation_date":1638994712,"post_id":70279298,"comment_id":124238056,"body_markdown":"I&#39;d suggest then to stick to the flow which is working. Or are you expecting your users to log into Okta first to click the chicklet to log into your app? By default, OIDC application do not support the latter flow in Okta. I&#39;m sorry, I haven&#39;t understood your question `Can you tell me what do you mean by restore the flow?`","body":"I&#39;d suggest then to stick to the flow which is working. Or are you expecting your users to log into Okta first to click the chicklet to log into your app? By default, OIDC application do not support the latter flow in Okta. I&#39;m sorry, I haven&#39;t understood your question <code>Can you tell me what do you mean by restore the flow?</code>"}],"answers":[{"tags":[],"owner":{"account_id":7788252,"reputation":37,"user_id":5892233,"display_name":"AAPJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639001629,"creation_date":1639001629,"answer_id":70282352,"question_id":70279298,"body_markdown":"Thanks for the response Philipp.\r\n\r\nFound the issue. Looks like okta code is becoming invalid when tab is closed and when i try to use the old okta code it threw me 400 error. Changed my code flow to get new okta code whenever the application is triggered from okta dashboard. That solved the problem.","title":"OKTA issue while application is logging in","body":"<p>Thanks for the response Philipp.</p>\n<p>Found the issue. Looks like okta code is becoming invalid when tab is closed and when i try to use the old okta code it threw me 400 error. Changed my code flow to get new okta code whenever the application is triggered from okta dashboard. That solved the problem.</p>\n"}],"owner":{"account_id":7788252,"reputation":37,"user_id":5892233,"display_name":"AAPJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639001629,"creation_date":1638984603,"question_id":70279298,"body_markdown":"I am using [Authorization grant type-authorization code][1] in my java application (not sping boot).\r\n\r\nI have the below issue.\r\n\r\n 1. In browser enter okta server url\r\n 2. okta authenticates\r\n 3. now it enters into okta console and shows all the applications that user have proper access to\r\n 4. I clicked on my application → it takes me to my application properly.\r\n 5. I just clicked X to close the tab.\r\n 6. Then again I clicked on application, its not returning access token and id token. It throws 400 error when i call /token endpoint.\r\n 7. Then I clicked on X to close the tab.\r\n 8. I did the same step 6 &amp; 7, it worked good…\r\n 9. Again step 6 &amp; 7, it throws me 400 error.\r\n\r\nI am seeing the below message.\r\n\r\n    java.io.IOException: Server returned HTTP response code: 400 for URL: https://XXX.oktapreview.com/oauth2/&lt;auth_id&gt;/v1/token\r\n\r\nSummary, it works good alternatively. I am not sure what is happening.\r\n\r\nWhen I check log in okta server, there is no scope defined when it throws 400 error. It passes scopes correctly alternatively. Is this something to do with this issue?\r\nimage\r\n\r\n\r\n  [1]: https://developer.okta.com/docs/guides/implement-grant-type/authcode/main/\r\n","title":"OKTA issue while application is logging in","body":"<p>I am using <a href=\"https://developer.okta.com/docs/guides/implement-grant-type/authcode/main/\" rel=\"nofollow noreferrer\">Authorization grant type-authorization code</a> in my java application (not sping boot).</p>\n<p>I have the below issue.</p>\n<ol>\n<li>In browser enter okta server url</li>\n<li>okta authenticates</li>\n<li>now it enters into okta console and shows all the applications that user have proper access to</li>\n<li>I clicked on my application → it takes me to my application properly.</li>\n<li>I just clicked X to close the tab.</li>\n<li>Then again I clicked on application, its not returning access token and id token. It throws 400 error when i call /token endpoint.</li>\n<li>Then I clicked on X to close the tab.</li>\n<li>I did the same step 6 &amp; 7, it worked good…</li>\n<li>Again step 6 &amp; 7, it throws me 400 error.</li>\n</ol>\n<p>I am seeing the below message.</p>\n<pre><code>java.io.IOException: Server returned HTTP response code: 400 for URL: https://XXX.oktapreview.com/oauth2/&lt;auth_id&gt;/v1/token\n</code></pre>\n<p>Summary, it works good alternatively. I am not sure what is happening.</p>\n<p>When I check log in okta server, there is no scope defined when it throws 400 error. It passes scopes correctly alternatively. Is this something to do with this issue?\nimage</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-security-oauth2"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1638913998,"post_id":70267320,"comment_id":124213750,"body_markdown":"Please read: [Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question) --- Please [edit] the question and remove the nonsense-text. --- Why would you expect that the `AuthenticationManager` is anything but `null`?","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a> --- Please <a href=\"https://stackoverflow.com/posts/70267320/edit\">edit</a> the question and remove the nonsense-text. --- Why would you expect that the <code>AuthenticationManager</code> is anything but <code>null</code>?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1638944418,"post_id":70267320,"comment_id":124219511,"body_markdown":"There is no `@Autowired` on that field so how should Spring know it should autowire that field?","body":"There is no <code>@Autowired</code> on that field so how should Spring know it should autowire that field?"}],"answers":[{"tags":[],"owner":{"account_id":16121117,"reputation":147,"user_id":11637083,"display_name":"Serhat Yıldırım"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1638914910,"creation_date":1638914206,"answer_id":70267408,"question_id":70267320,"body_markdown":"can you try this annotation in WebSecurityConfig class \r\n```\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n```","title":"this.authenticationManager&quot; is null","body":"<p>can you try this annotation in WebSecurityConfig class</p>\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22002419,"reputation":79,"user_id":16273950,"display_name":"Marouen Ghozzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639000888,"creation_date":1639000888,"answer_id":70282250,"question_id":70267320,"body_markdown":"this is resolved .\r\n\r\nMy mistake is a wrong package path .","title":"this.authenticationManager&quot; is null","body":"<p>this is resolved .</p>\n<p>My mistake is a wrong package path .</p>\n"}],"owner":{"account_id":22002419,"reputation":79,"user_id":16273950,"display_name":"Marouen Ghozzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639000888,"creation_date":1638913542,"question_id":70267320,"body_markdown":"    @CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\n    @RestController\r\n    @RequestMapping(&quot;/api/auth/&quot;)\r\n    public class LoginController {\r\n    \tprivate AuthenticationManager authenticationManager;\r\n    \r\n    \tJwtTokenProvider jwtTokenProvider;\r\n    \r\n    \tpublic JwtTokenProvider jwtTokenProvider() {\r\n    \t\treturn jwtTokenProvider;\r\n    \t}\r\n    \r\n    \t@Autowired\r\n    \tUserRepository users;\r\n    \r\n    \t@Autowired\r\n    \tprivate CustomUserDetailsService userService;\r\n    \r\n    \t@SuppressWarnings(&quot;rawtypes&quot;)\r\n    \t@PostMapping(&quot;/login&quot;)\r\n    \tpublic ResponseEntity login(@RequestBody AuthBody data) {\r\n    \t\ttry {\r\n    \t\t\tString username = data.getEmail();\r\n    \t\t\tauthenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, data.getPassword()));\r\n    \t\t\tString token = jwtTokenProvider.createToken(username, this.users.findByEmail(username).getRoles());\r\n    \t\t\tMap&lt;Object, Object&gt; model = new HashMap&lt;&gt;();\r\n    \t\t\tmodel.put(&quot;username&quot;, username);\r\n    \t\t\tmodel.put(&quot;token&quot;, token);\r\n    \t\t\t// return ResponseEntity.ok(model);\r\n    \t\t\treturn new ResponseEntity&lt;&gt;(model.toString(), HttpStatus.OK);\r\n    \r\n    \t\t} catch (AuthenticationException e) {\r\n    \t\t\tthrow new BadCredentialsException(&quot;Invalid email/password supplied&quot;);\r\n    \t\t}\r\n    \t}\r\n        }\r\n\r\nMy webSecurityConfig : \r\n\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \t@Bean( name = BeanIds.AUTHENTICATION_MANAGER)\r\n    \t@Override\r\n    \tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n    \t\treturn super.authenticationManagerBean() ;\r\n    \t}\r\n    \t@Autowired\r\n    \tJwtTokenProvider jwtTokenProvider;\r\n    \r\n    \t@Override\r\n    \tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tUserDetailsService userDetailsService = mongoUserDetails();\r\n    \t\tauth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder());\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp.httpBasic().disable().csrf().disable().sessionManagement()\r\n    \t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().authorizeRequests()\r\n    \t\t\t\t.antMatchers(&quot;/api/auth/login&quot;).permitAll().antMatchers(&quot;/api/auth/register&quot;).permitAll()\r\n    \t\t\t\t.antMatchers(&quot;/api/products/**&quot;).hasAuthority(&quot;ADMIN&quot;).anyRequest().authenticated().and().csrf()\r\n    \t\t\t\t.disable().exceptionHandling().authenticationEntryPoint(unauthorizedEntryPoint()).and()\r\n    \t\t\t\t.apply(new JwtConfigurer(jwtTokenProvider));\r\n    \t\thttp.cors();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configure(WebSecurity web) throws Exception {\r\n    \t\tweb.ignoring().antMatchers(&quot;/**&quot;);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic PasswordEncoder bCryptPasswordEncoder() {\r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t@Bean\r\n    \tpublic AuthenticationEntryPoint unauthorizedEntryPoint() {\r\n    \t\treturn (request, response, authException) -&gt; response.sendError(HttpServletResponse.SC_UNAUTHORIZED,\r\n    \t\t\t\t&quot;Unauthorized&quot;);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic UserDetailsService mongoUserDetails() {\r\n    \t\treturn new CustomUserDetailsService();\r\n    \t}\r\n    }\r\n\r\nI&#39;m alaway getting null pointer exception on `authentiticationMnager.authenticate`!\r\n\r\nI&#39;m using spring security v 1.1.1 release and jjwt version 0.9.1 .\r\n\r\nThe authenticationManager is always null.\r\n\r\n\r\n","title":"this.authenticationManager&quot; is null","body":"<pre><code>@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\n@RestController\n@RequestMapping(&quot;/api/auth/&quot;)\npublic class LoginController {\n    private AuthenticationManager authenticationManager;\n\n    JwtTokenProvider jwtTokenProvider;\n\n    public JwtTokenProvider jwtTokenProvider() {\n        return jwtTokenProvider;\n    }\n\n    @Autowired\n    UserRepository users;\n\n    @Autowired\n    private CustomUserDetailsService userService;\n\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity login(@RequestBody AuthBody data) {\n        try {\n            String username = data.getEmail();\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, data.getPassword()));\n            String token = jwtTokenProvider.createToken(username, this.users.findByEmail(username).getRoles());\n            Map&lt;Object, Object&gt; model = new HashMap&lt;&gt;();\n            model.put(&quot;username&quot;, username);\n            model.put(&quot;token&quot;, token);\n            // return ResponseEntity.ok(model);\n            return new ResponseEntity&lt;&gt;(model.toString(), HttpStatus.OK);\n\n        } catch (AuthenticationException e) {\n            throw new BadCredentialsException(&quot;Invalid email/password supplied&quot;);\n        }\n    }\n    }\n</code></pre>\n<p>My webSecurityConfig :</p>\n<pre><code>public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Bean( name = BeanIds.AUTHENTICATION_MANAGER)\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean() ;\n    }\n    @Autowired\n    JwtTokenProvider jwtTokenProvider;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        UserDetailsService userDetailsService = mongoUserDetails();\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder());\n\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.httpBasic().disable().csrf().disable().sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().authorizeRequests()\n                .antMatchers(&quot;/api/auth/login&quot;).permitAll().antMatchers(&quot;/api/auth/register&quot;).permitAll()\n                .antMatchers(&quot;/api/products/**&quot;).hasAuthority(&quot;ADMIN&quot;).anyRequest().authenticated().and().csrf()\n                .disable().exceptionHandling().authenticationEntryPoint(unauthorizedEntryPoint()).and()\n                .apply(new JwtConfigurer(jwtTokenProvider));\n        http.cors();\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/**&quot;);\n    }\n\n    @Bean\n    public PasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n\n\n    @Bean\n    public AuthenticationEntryPoint unauthorizedEntryPoint() {\n        return (request, response, authException) -&gt; response.sendError(HttpServletResponse.SC_UNAUTHORIZED,\n                &quot;Unauthorized&quot;);\n    }\n\n    @Bean\n    public UserDetailsService mongoUserDetails() {\n        return new CustomUserDetailsService();\n    }\n}\n</code></pre>\n<p>I'm alaway getting null pointer exception on <code>authentiticationMnager.authenticate</code>!</p>\n<p>I'm using spring security v 1.1.1 release and jjwt version 0.9.1 .</p>\n<p>The authenticationManager is always null.</p>\n"},{"tags":["java","swing","user-interface","textfield"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638999374,"post_id":70281980,"comment_id":124239550,"body_markdown":"Since you&#39;ve not provided a [mcve] which demonstrates your issue (or even a code snippet which would actually compile), I&#39;m forced to guess that `ID` is declared locally to the context of the constructor, making it inaccessible to the `actionPerformed` method.  If that&#39;s the case then, `ID` should be made an instance field instead","body":"Since you&#39;ve not provided a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates your issue (or even a code snippet which would actually compile), I&#39;m forced to guess that <code>ID</code> is declared locally to the context of the constructor, making it inaccessible to the <code>actionPerformed</code> method.  If that&#39;s the case then, <code>ID</code> should be made an instance field instead"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1638999396,"post_id":70281980,"comment_id":124239555,"body_markdown":"Yes, `.getText()` is how you extract text from a JTextField. That it doesn&#39;t work suggests that you&#39;ve got a bug in your code somewhere, likely within this code: *&quot;i omitted all the less relevant parts of the code, but I will add them if necessary.&quot;*.  I suggest that you show more code, specifically a [mre] -- please read the link to see *exactly* what this is and why it can help you and us.","body":"Yes, <code>.getText()</code> is how you extract text from a JTextField. That it doesn&#39;t work suggests that you&#39;ve got a bug in your code somewhere, likely within this code: <i>&quot;i omitted all the less relevant parts of the code, but I will add them if necessary.&quot;</i>.  I suggest that you show more code, specifically a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> -- please read the link to see <i>exactly</i> what this is and why it can help you and us."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1638999424,"post_id":70281980,"comment_id":124239569,"body_markdown":"As an aside, you will want to learn and use [Java naming conventions](http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java). Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others.","body":"As an aside, you will want to learn and use <a href=\"http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java\" rel=\"nofollow noreferrer\">Java naming conventions</a>. Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1639011779,"post_id":70281980,"comment_id":124242419,"body_markdown":"(1-) 1)  In your last question it was also suggested that variable names should NOT start with an upper case character. These conventions are used in every text book or tutorial I have ever seen.  We should NOT have to repeat suggestions. Our time can be better spent helping others. 2) In this example you are using &quot;setSize()`. The tutorial link you were also given yesterday contains plenty of examples. None of them use that method. It is the job of the layout managers. Learn by example or you will continue to have basic problems.","body":"(1-) 1)  In your last question it was also suggested that variable names should NOT start with an upper case character. These conventions are used in every text book or tutorial I have ever seen.  We should NOT have to repeat suggestions. Our time can be better spent helping others. 2) In this example you are using &quot;setSize()`. The tutorial link you were also given yesterday contains plenty of examples. None of them use that method. It is the job of the layout managers. Learn by example or you will continue to have basic problems."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638999493,"creation_date":1638999493,"answer_id":70282025,"question_id":70281980,"body_markdown":"        if(e.getSource().equals(&quot;Iscrizione&quot;)) {\r\n            //setId(ID.getText());\r\n        }\r\n\r\nThis is always going to be false. e.getSource() returns a Component and Component.equals(String) will always be false;","title":"how do I retrive a text, from a JTextField?","body":"<pre><code>    if(e.getSource().equals(&quot;Iscrizione&quot;)) {\n        //setId(ID.getText());\n    }\n</code></pre>\n<p>This is always going to be false. e.getSource() returns a Component and Component.equals(String) will always be false;</p>\n"}],"owner":{"account_id":13094811,"reputation":1,"user_id":9461031,"display_name":"to ma tpo pa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1639000375,"creation_date":1638999193,"question_id":70281980,"body_markdown":"this is the code. which create a GUI.\r\n\r\nI need to make a function that works if I press the button\r\n```\r\npackage View;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.event.WindowListener;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.JFrame;\r\nimport modulo.Test;\r\n\r\npublic class InterfacciaGrafica extends JFrame  implements ActionListener {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tpublic InterfacciaGrafica(String ArrayClienti[]){\r\n\t\tthis.setTitle(&quot;BiKar Prenotazioni&quot;);\r\n\t\tthis.setSize( 300,200);\r\n\t\tthis.setBackground(Color.black);\r\n\t\tthis.setForeground(Color.black);\r\n\t\tthis.setLayout(new BorderLayout());\r\n\t\t\r\n\t\t  \r\n\t\tPannelloIscrizione PannelloIscrizione = new PannelloIscrizione(ArrayClienti);\r\n\t\tthis.add(PannelloIscrizione,BorderLayout.CENTER);\r\n\t\tPannelloIscrizione.setVisible(true);\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\t\r\n}\r\n```\r\n```\r\npackage View;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Container;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.*;\r\n\r\nimport modulo.PatenteTypes;\r\npublic class PannelloIscrizione extends JPanel  implements ActionListener{\r\n\t\r\n\tprivate static final AbstractButton ID = null;\r\n\tColor Arancione = new Color(255, 175, 0);\r\n\tint eta;\r\n\tString nome;\r\n\tString cognome;\r\n\tString id;\r\n\tString tipoPatente;\r\n\tString tipoCliente;\r\n\t\r\n\tpublic PannelloIscrizione(String ArrayClienti[]) {\r\n\t\tthis.setLayout(new BorderLayout());\r\n\t\tthis.setBackground(Color.black);\r\n\t\tthis.setForeground(Color.orange);\r\n\t\t\r\n\t\tContainer ContainerCentro = new Container();\r\n\t\tContainerCentro.setSize(200, 100);\r\n\t\t\r\n\t\tJComboBox TipoCliente = new JComboBox(ArrayClienti);\r\n\t\tJTextField Nome = new JTextField(20);\r\n\t\tJTextField Cognome = new JTextField(20);\r\n\t\tJTextArea ID = new JTextArea(id);\r\n\t\tJTextField Eta = new JTextField(2);\r\n\t\tJComboBox&lt;PatenteTypes&gt; TipoPatente= new JComboBox&lt;PatenteTypes&gt;(PatenteTypes.values());\r\n\t\tJButton Iscrizione = new JButton(&quot;Iscriviti&quot;);\r\n\t\t\r\n\t\tContainerCentro.setLayout(new BorderLayout());\t\r\n\t\tthis.add(ContainerCentro, BorderLayout.CENTER);\r\n\t\t\r\n\t\tContainerCentro.setBackground(Color.black);\r\n\t\tContainerCentro.setForeground(Color.black);\r\n\t\t\r\n\t\tContainerCentro.add(ID,BorderLayout.WEST);\r\n\t\tContainerCentro.add(Eta, BorderLayout.EAST);\r\n\t\tContainerCentro.add(TipoPatente,BorderLayout.CENTER);\r\n\r\n\t\tID.setBackground(Arancione);\r\n\t\tID.setForeground(Color.black);\r\n\t\tEta.setBackground(Arancione);\r\n\t\tEta.setForeground(Color.black);\r\n\t\tTipoPatente.setBackground(Arancione);\r\n\t\tTipoPatente.setForeground(Color.black);\r\n\t\t\r\n\t\tContainer ContainerNord = new Container();\r\n\t\tContainerNord.setLayout(new BorderLayout());\r\n\t\tthis.add(ContainerNord, BorderLayout.NORTH);\r\n\t\tContainerNord.setSize(200, 100);\r\n\t\tContainerNord.add(TipoCliente,BorderLayout.WEST);\r\n\t\tContainerNord.add(Nome, BorderLayout.CENTER);\r\n\t\tContainerNord.add(Cognome, BorderLayout.EAST);\r\n\t\t\r\n\t\tContainerNord.setBackground(Color.black);\r\n\t\tContainerNord.setForeground(Color.black);\r\n\t\tTipoCliente.setBackground(Arancione);\r\n\t\tTipoCliente.setForeground(Color.black);\r\n\t\tNome.setBackground(Arancione);\r\n\t\tNome.setForeground(Color.black);\r\n\t\tCognome.setBackground(Arancione);\r\n\t\tCognome.setForeground(Color.black);\r\n\r\n\t\tContainer ContainerSud = new Container();\r\n\t\tContainerSud.setLayout(new BorderLayout());\r\n\t\tthis.add(ContainerSud, BorderLayout.SOUTH);\r\n\t\tContainerSud.setBackground(Color.black);\r\n\t\tContainerSud.setForeground(Color.black);\r\n\t\tContainerSud.add(Iscrizione, BorderLayout.CENTER);\r\n\t\tIscrizione.setBackground(Arancione);\r\n\t\tIscrizione.setForeground(Color.black);\r\n\t\t\r\n\t\t\r\n\t\r\n\t\t\r\n\t\r\n\t\tContainerCentro.setVisible(true);\r\n\t\tContainerNord.setVisible(true);\r\n\t\tContainerSud.setVisible(true);\r\n\t\tTipoCliente.setVisible(true);\r\n\t\tID.setVisible(true);\r\n\t\tEta.setVisible(true);\r\n\t\tTipoPatente.setVisible(true);\r\n\t\tNome.setVisible(false);\r\n\t\tCognome.setVisible(false);\r\n\t\tIscrizione.setVisible(true);\r\n\t\t\r\n\t\r\n\t    Iscrizione.addActionListener(this);\r\n\t   \r\n\r\n\t\r\n}\r\n\tpublic int getEta() {\r\n\t\treturn eta;\r\n\t}\r\n\tpublic void setEta(int eta) {\r\n\t\tthis.eta = eta;\r\n\t}\r\n\tpublic String getNome() {\r\n\t\treturn nome;\r\n\t}\r\n\tpublic void setNome(String nome) {\r\n\t\tthis.nome = nome;\r\n\t}\r\n\tpublic String getCognome() {\r\n\t\treturn cognome;\r\n\t}\r\n\tpublic void setCognome(String cognome) {\r\n\t\tthis.cognome = cognome;\r\n\t}\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getTipoPatente() {\r\n\t\treturn tipoPatente;\r\n\t}\r\n\tpublic void setTipoPatente(String tipoPatente) {\r\n\t\tthis.tipoPatente = tipoPatente;\r\n\t}\r\n\tpublic String getTipoCliente() {\r\n\t\treturn tipoCliente;\r\n\t}\r\n\tpublic void setTipoCliente(String tipoCliente) {\r\n\t\tthis.tipoCliente = tipoCliente;\r\n\t}\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif(e.getSource().equals(Iscrizione)) {\r\n\t\t\t\r\n\t\t\tsetId(ID.getText());\r\n\t\t\tSystem.out.println(ID.getText());\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\ni want to write some text in the JTextField from my GUI, then once the button in clicked, I want the text to become the value of the attribute id of my class. but getText doesn&#39;t work\r\n\r\nThe first class declare my Frame, inside of it there is a Panel that contains a few text field.\r\n\r\n","title":"how do I retrive a text, from a JTextField?","body":"<p>this is the code. which create a GUI.</p>\n<p>I need to make a function that works if I press the button</p>\n<pre><code>package View;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.event.WindowListener;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JFrame;\nimport modulo.Test;\n\npublic class InterfacciaGrafica extends JFrame  implements ActionListener {\n\n    private static final long serialVersionUID = 1L;\n\n    public InterfacciaGrafica(String ArrayClienti[]){\n        this.setTitle(&quot;BiKar Prenotazioni&quot;);\n        this.setSize( 300,200);\n        this.setBackground(Color.black);\n        this.setForeground(Color.black);\n        this.setLayout(new BorderLayout());\n        \n          \n        PannelloIscrizione PannelloIscrizione = new PannelloIscrizione(ArrayClienti);\n        this.add(PannelloIscrizione,BorderLayout.CENTER);\n        PannelloIscrizione.setVisible(true);\n        \n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n    \n}\n</code></pre>\n<pre><code>package View;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.*;\n\nimport modulo.PatenteTypes;\npublic class PannelloIscrizione extends JPanel  implements ActionListener{\n    \n    private static final AbstractButton ID = null;\n    Color Arancione = new Color(255, 175, 0);\n    int eta;\n    String nome;\n    String cognome;\n    String id;\n    String tipoPatente;\n    String tipoCliente;\n    \n    public PannelloIscrizione(String ArrayClienti[]) {\n        this.setLayout(new BorderLayout());\n        this.setBackground(Color.black);\n        this.setForeground(Color.orange);\n        \n        Container ContainerCentro = new Container();\n        ContainerCentro.setSize(200, 100);\n        \n        JComboBox TipoCliente = new JComboBox(ArrayClienti);\n        JTextField Nome = new JTextField(20);\n        JTextField Cognome = new JTextField(20);\n        JTextArea ID = new JTextArea(id);\n        JTextField Eta = new JTextField(2);\n        JComboBox&lt;PatenteTypes&gt; TipoPatente= new JComboBox&lt;PatenteTypes&gt;(PatenteTypes.values());\n        JButton Iscrizione = new JButton(&quot;Iscriviti&quot;);\n        \n        ContainerCentro.setLayout(new BorderLayout());  \n        this.add(ContainerCentro, BorderLayout.CENTER);\n        \n        ContainerCentro.setBackground(Color.black);\n        ContainerCentro.setForeground(Color.black);\n        \n        ContainerCentro.add(ID,BorderLayout.WEST);\n        ContainerCentro.add(Eta, BorderLayout.EAST);\n        ContainerCentro.add(TipoPatente,BorderLayout.CENTER);\n\n        ID.setBackground(Arancione);\n        ID.setForeground(Color.black);\n        Eta.setBackground(Arancione);\n        Eta.setForeground(Color.black);\n        TipoPatente.setBackground(Arancione);\n        TipoPatente.setForeground(Color.black);\n        \n        Container ContainerNord = new Container();\n        ContainerNord.setLayout(new BorderLayout());\n        this.add(ContainerNord, BorderLayout.NORTH);\n        ContainerNord.setSize(200, 100);\n        ContainerNord.add(TipoCliente,BorderLayout.WEST);\n        ContainerNord.add(Nome, BorderLayout.CENTER);\n        ContainerNord.add(Cognome, BorderLayout.EAST);\n        \n        ContainerNord.setBackground(Color.black);\n        ContainerNord.setForeground(Color.black);\n        TipoCliente.setBackground(Arancione);\n        TipoCliente.setForeground(Color.black);\n        Nome.setBackground(Arancione);\n        Nome.setForeground(Color.black);\n        Cognome.setBackground(Arancione);\n        Cognome.setForeground(Color.black);\n\n        Container ContainerSud = new Container();\n        ContainerSud.setLayout(new BorderLayout());\n        this.add(ContainerSud, BorderLayout.SOUTH);\n        ContainerSud.setBackground(Color.black);\n        ContainerSud.setForeground(Color.black);\n        ContainerSud.add(Iscrizione, BorderLayout.CENTER);\n        Iscrizione.setBackground(Arancione);\n        Iscrizione.setForeground(Color.black);\n        \n        \n    \n        \n    \n        ContainerCentro.setVisible(true);\n        ContainerNord.setVisible(true);\n        ContainerSud.setVisible(true);\n        TipoCliente.setVisible(true);\n        ID.setVisible(true);\n        Eta.setVisible(true);\n        TipoPatente.setVisible(true);\n        Nome.setVisible(false);\n        Cognome.setVisible(false);\n        Iscrizione.setVisible(true);\n        \n    \n        Iscrizione.addActionListener(this);\n       \n\n    \n}\n    public int getEta() {\n        return eta;\n    }\n    public void setEta(int eta) {\n        this.eta = eta;\n    }\n    public String getNome() {\n        return nome;\n    }\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n    public String getCognome() {\n        return cognome;\n    }\n    public void setCognome(String cognome) {\n        this.cognome = cognome;\n    }\n    public String getId() {\n        return id;\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n    public String getTipoPatente() {\n        return tipoPatente;\n    }\n    public void setTipoPatente(String tipoPatente) {\n        this.tipoPatente = tipoPatente;\n    }\n    public String getTipoCliente() {\n        return tipoCliente;\n    }\n    public void setTipoCliente(String tipoCliente) {\n        this.tipoCliente = tipoCliente;\n    }\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource().equals(Iscrizione)) {\n            \n            setId(ID.getText());\n            System.out.println(ID.getText());\n        }\n    }\n\n}\n</code></pre>\n<p>i want to write some text in the JTextField from my GUI, then once the button in clicked, I want the text to become the value of the attribute id of my class. but getText doesn't work</p>\n<p>The first class declare my Frame, inside of it there is a Panel that contains a few text field.</p>\n"},{"tags":["java","active-directory","ldap","jndi"],"answers":[{"tags":[],"owner":{"account_id":1239958,"reputation":39014,"user_id":1202807,"display_name":"Gabriel Luci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639000350,"creation_date":1639000350,"answer_id":70282163,"question_id":70274518,"body_markdown":"&gt; so i have the rights to read and write a user, but when i want to create a user it says i have no permission\r\n\r\nRead, write and create are 3 separate permissions. A user can have write permissions to existing objects, but not have permission to create a new object. Those permissions can be set differently on each OU.","title":"Adding User on LDAP via JNDI (Java) -&gt; NoPermissionError","body":"<blockquote>\n<p>so i have the rights to read and write a user, but when i want to create a user it says i have no permission</p>\n</blockquote>\n<p>Read, write and create are 3 separate permissions. A user can have write permissions to existing objects, but not have permission to create a new object. Those permissions can be set differently on each OU.</p>\n"}],"owner":{"account_id":19265986,"reputation":3,"user_id":14080920,"display_name":"lordfabii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639000350,"creation_date":1638964192,"question_id":70274518,"body_markdown":"First i want to explain what i want to do and how the code is looking:\r\n\r\nI want to add a User via JNDI on my LDAP with JAVA, i added following code:\r\n\r\n```\r\npublic void addUser(String firstName, String lastName, String number) throws NamingException {\r\n\t\tProperties initialProperties = new Properties();\r\n\t\tinitialProperties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n\t\tinitialProperties.put(Context.PROVIDER_URL, &quot;***&quot;);\r\n\t\tinitialProperties.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\r\n\t\tinitialProperties.put(Context.SECURITY_PRINCIPAL, &quot;***&quot;);\r\n\t\tinitialProperties.put(Context.SECURITY_CREDENTIALS, &quot;***&quot;);\r\n\t\tDirContext context = new InitialDirContext(initialProperties);\r\n\t\t\r\n\t\tBasicAttributes attributes = new BasicAttributes();\r\n\t\tAttribute attribute = new BasicAttribute(&quot;objectClass&quot;);\r\n\t\tattribute.add(&quot;top&quot;);\r\n\t\tattribute.add(&quot;person&quot;);\r\n\t\tattribute.add(&quot;organizationalPerson&quot;);\r\n\t\tattribute.add(&quot;inetOrgPerson&quot;);\r\n\t\tAttribute sn = new BasicAttribute(&quot;sn&quot;);\r\n\t\tAttribute cn = new BasicAttribute(&quot;cn&quot;);\r\n\t\tsn.add(lastName);\r\n\t\tcn.add(firstName);\r\n\t\tattributes.put(sn);\r\n\t\tattributes.put(cn);\r\n\t\tattributes.put(attribute);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tcontext.createSubcontext(&quot;***&quot;, attributes);\r\n\t\t} catch(NamingException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nWhen i call the method i get following error:\r\n\r\n    javax.naming.NoPermissionException: [LDAP: error code 50 - 00000005: SecErr: DSID-031528D2, problem 4003 (INSUFF_ACCESS_RIGHTS), data 0\r\n\r\nWhich makes no sense in my point of view because i created two other methods, one for getting all the users which works and one for editing a user which works too, so i have the rights to read and write a user, but when i want to create a user it says i have no permission ?\r\n\r\nDo anyone else had this problem?\r\nIs there any configuration on the Administrator user necessary on the LDAP? But the Administrator should be have all rights?\r\n\r\nI hope anyone can help me! :)\r\n\r\nGreetings,\r\n\r\nFabian.","title":"Adding User on LDAP via JNDI (Java) -&gt; NoPermissionError","body":"<p>First i want to explain what i want to do and how the code is looking:</p>\n<p>I want to add a User via JNDI on my LDAP with JAVA, i added following code:</p>\n<pre><code>public void addUser(String firstName, String lastName, String number) throws NamingException {\n        Properties initialProperties = new Properties();\n        initialProperties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\n        initialProperties.put(Context.PROVIDER_URL, &quot;***&quot;);\n        initialProperties.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\n        initialProperties.put(Context.SECURITY_PRINCIPAL, &quot;***&quot;);\n        initialProperties.put(Context.SECURITY_CREDENTIALS, &quot;***&quot;);\n        DirContext context = new InitialDirContext(initialProperties);\n        \n        BasicAttributes attributes = new BasicAttributes();\n        Attribute attribute = new BasicAttribute(&quot;objectClass&quot;);\n        attribute.add(&quot;top&quot;);\n        attribute.add(&quot;person&quot;);\n        attribute.add(&quot;organizationalPerson&quot;);\n        attribute.add(&quot;inetOrgPerson&quot;);\n        Attribute sn = new BasicAttribute(&quot;sn&quot;);\n        Attribute cn = new BasicAttribute(&quot;cn&quot;);\n        sn.add(lastName);\n        cn.add(firstName);\n        attributes.put(sn);\n        attributes.put(cn);\n        attributes.put(attribute);\n        \n        try {\n            context.createSubcontext(&quot;***&quot;, attributes);\n        } catch(NamingException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>When i call the method i get following error:</p>\n<pre><code>javax.naming.NoPermissionException: [LDAP: error code 50 - 00000005: SecErr: DSID-031528D2, problem 4003 (INSUFF_ACCESS_RIGHTS), data 0\n</code></pre>\n<p>Which makes no sense in my point of view because i created two other methods, one for getting all the users which works and one for editing a user which works too, so i have the rights to read and write a user, but when i want to create a user it says i have no permission ?</p>\n<p>Do anyone else had this problem?\nIs there any configuration on the Administrator user necessary on the LDAP? But the Administrator should be have all rights?</p>\n<p>I hope anyone can help me! :)</p>\n<p>Greetings,</p>\n<p>Fabian.</p>\n"},{"tags":["java","owl","jena","ontology"],"answers":[{"tags":[],"owner":{"account_id":17506630,"reputation":84,"user_id":12695709,"display_name":"Petr Křemen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639000200,"creation_date":1639000200,"answer_id":70282144,"question_id":70281813,"body_markdown":"Try this (replace the property URI accordingly):\r\n\r\n    final Property p = model.createObjectProperty(&quot;http://example.org/Treated_by&quot;);\r\n    final RDFNode object = i.getPropertyValue(p);\r\n\r\n","title":"Accessing Object Property for Individual using Apache Jena","body":"<p>Try this (replace the property URI accordingly):</p>\n<pre><code>final Property p = model.createObjectProperty(&quot;http://example.org/Treated_by&quot;);\nfinal RDFNode object = i.getPropertyValue(p);\n</code></pre>\n"}],"owner":{"account_id":22020577,"reputation":3,"user_id":16289458,"display_name":"Ahmed Medhat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70282144,"answer_count":1,"score":0,"last_activity_date":1639000200,"creation_date":1638998155,"question_id":70281813,"body_markdown":"I have created an OWL ontology using Prot&#233;g&#233;, describing a patient database system. I am now attempting to develop a Java code using Apache Jena to read the OWL file I created, then perform a number of operations on it. My primary goal is to get my code to be able to find a specific Individual by name (Patient name for example) and then access a specific Object Property for that individual, and output its value. For example, A patient &quot;John&quot; has an object property &quot;Treated_By&quot; which corresponds to another individual &quot;Amy&quot; (Amy is an individual of type doctor). However, I have been unable to figure out which Jena method is used to retrieve Object property values from a certain individual.\r\n\r\nHere is my code (Please ignore comments, they are fragments of previous attempts for this task):\r\n\r\n    public class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t    OntModel model = ModelFactory.createOntologyModel(OntModelSpec.OWL_MEM);\r\n\t    String fileName = &quot;C:/Users/Ahmed Medhat/Documents/assignment1ontv3.0.owl&quot;;\r\n\r\n\t    try {\r\n\t        InputStream inputStream = new FileInputStream(fileName);\r\n\t        model.read(inputStream, &quot;RDF/XML&quot;);\r\n\t        //model.read(inputStream, &quot;OWL/XML&quot;);\r\n\t        inputStream.close();\r\n\t    } catch (Exception e) {\r\n\t        System.out.println(e.getMessage());\r\n\t    }\r\n\t    Scanner sc = new Scanner(System.in);\r\n\t    System.out.println(&quot;Enter Patient Name: &quot;);\r\n\t    String patientName = sc.next();\r\n\r\n\t    ExtendedIterator&lt;Individual&gt; itI = model.listIndividuals();\r\n\r\n\t    while (itI.hasNext()) {\r\n\t        Individual i = itI.next();\r\n\t        String localName = i.getLocalName();\r\n\t        //System.out.println(patientName);\r\n\t        //System.out.println(localName);\r\n\t        if(localName.equals(patientName))\r\n\t        {\r\n\t        \t//System.out.println(&quot;Conditional Code Accessed.&quot;);\r\n\t        \tOntClass Class = i.getOntClass();\r\n\t        \tSystem.out.println(&quot;Patient Disease is: &quot; + Class.listDeclaredProperties());\r\n\t        }\r\n\t        System.out.println(&quot;Failed.&quot;);\r\n\t    }\r\n\t}\r\n\r\n\r\n\r\n\t}\r\n\r\n","title":"Accessing Object Property for Individual using Apache Jena","body":"<p>I have created an OWL ontology using Protégé, describing a patient database system. I am now attempting to develop a Java code using Apache Jena to read the OWL file I created, then perform a number of operations on it. My primary goal is to get my code to be able to find a specific Individual by name (Patient name for example) and then access a specific Object Property for that individual, and output its value. For example, A patient &quot;John&quot; has an object property &quot;Treated_By&quot; which corresponds to another individual &quot;Amy&quot; (Amy is an individual of type doctor). However, I have been unable to figure out which Jena method is used to retrieve Object property values from a certain individual.</p>\n<p>Here is my code (Please ignore comments, they are fragments of previous attempts for this task):</p>\n<pre><code>public class Main {\n\npublic static void main(String[] args) {\n    OntModel model = ModelFactory.createOntologyModel(OntModelSpec.OWL_MEM);\n    String fileName = &quot;C:/Users/Ahmed Medhat/Documents/assignment1ontv3.0.owl&quot;;\n\n    try {\n        InputStream inputStream = new FileInputStream(fileName);\n        model.read(inputStream, &quot;RDF/XML&quot;);\n        //model.read(inputStream, &quot;OWL/XML&quot;);\n        inputStream.close();\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n    }\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Enter Patient Name: &quot;);\n    String patientName = sc.next();\n\n    ExtendedIterator&lt;Individual&gt; itI = model.listIndividuals();\n\n    while (itI.hasNext()) {\n        Individual i = itI.next();\n        String localName = i.getLocalName();\n        //System.out.println(patientName);\n        //System.out.println(localName);\n        if(localName.equals(patientName))\n        {\n            //System.out.println(&quot;Conditional Code Accessed.&quot;);\n            OntClass Class = i.getOntClass();\n            System.out.println(&quot;Patient Disease is: &quot; + Class.listDeclaredProperties());\n        }\n        System.out.println(&quot;Failed.&quot;);\n    }\n}\n\n\n\n}\n</code></pre>\n"},{"tags":["java","jboss","ejb"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1639077580,"post_id":70281479,"comment_id":124263155,"body_markdown":"What container are you running in? Are you using something like Arquillian?","body":"What container are you running in? Are you using something like Arquillian?"}],"answers":[{"tags":[],"owner":{"account_id":2483288,"reputation":699,"user_id":11097900,"display_name":"Don Ha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638999883,"creation_date":1638999883,"answer_id":70282086,"question_id":70281479,"body_markdown":"most common reason for this this error to occur is the EJB is not initialized  or not deployed at all to the server that hosts it. Look at the logs on both client and server side to make sure all necessary components are initialized and running.","title":"Invoking EJB method from JUnit - &quot;No such EJB method&quot;","body":"<p>most common reason for this this error to occur is the EJB is not initialized  or not deployed at all to the server that hosts it. Look at the logs on both client and server side to make sure all necessary components are initialized and running.</p>\n"}],"owner":{"account_id":7087694,"reputation":11,"user_id":5423991,"display_name":"MushroomHunter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638999883,"creation_date":1638996155,"question_id":70281479,"body_markdown":"I&#39;m trying to call a method on a remote EJB in a JUnit test that will run SQL against a DB and return results.  Here&#39;s the message from the exception:\r\n\r\njava.lang.IllegalArgumentException: No such EJB method org.jboss.ejb.client.EJBMethodLocator@3c2f505 found on SiViewDBFacadeEAR-0.0.1-SNAPSHOT/SiViewDBFacadeEJB-0.0.1-SNAPSHOT/SiViewMMDBAccessBean\r\n\r\nFirst of all, this error seems to be intermittent.  I have a couple different methods in the EJB that run different SQL and return results as a HashMap.  In my JUnit test I was calling these methods back to back and I was noticing that the call to the second method was always failing even if I switched the order of the calls.  Just recently I tried calling the exact same method twice and it comes back the first time but fails the second time.\r\n\r\nDoes this problem signature ring a bell with anyone.  I&#39;m somewhat new to working with EJBs but this problem seems strange in its inconsistent nature.\r\n\r\nThanks all.","title":"Invoking EJB method from JUnit - &quot;No such EJB method&quot;","body":"<p>I'm trying to call a method on a remote EJB in a JUnit test that will run SQL against a DB and return results.  Here's the message from the exception:</p>\n<p>java.lang.IllegalArgumentException: No such EJB method org.jboss.ejb.client.EJBMethodLocator@3c2f505 found on SiViewDBFacadeEAR-0.0.1-SNAPSHOT/SiViewDBFacadeEJB-0.0.1-SNAPSHOT/SiViewMMDBAccessBean</p>\n<p>First of all, this error seems to be intermittent.  I have a couple different methods in the EJB that run different SQL and return results as a HashMap.  In my JUnit test I was calling these methods back to back and I was noticing that the call to the second method was always failing even if I switched the order of the calls.  Just recently I tried calling the exact same method twice and it comes back the first time but fails the second time.</p>\n<p>Does this problem signature ring a bell with anyone.  I'm somewhat new to working with EJBs but this problem seems strange in its inconsistent nature.</p>\n<p>Thanks all.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":471365,"reputation":6432,"user_id":879114,"accept_rate":89,"display_name":"Zavior"},"score":0,"creation_date":1350336504,"post_id":12904284,"comment_id":17479955,"body_markdown":"Have you checked this with a debugger step by step?","body":"Have you checked this with a debugger step by step?"},{"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"score":5,"creation_date":1350336559,"post_id":12904284,"comment_id":17479980,"body_markdown":"Use doubles in your division calculations, i.e. `(1.0 / n)`.","body":"Use doubles in your division calculations, i.e. <code>(1.0 &#47; n)</code>."},{"owner":{"account_id":1843558,"reputation":7606,"user_id":1672458,"accept_rate":71,"display_name":"vaindil"},"score":0,"creation_date":1350336577,"post_id":12904284,"comment_id":17479995,"body_markdown":"Yes, I did. It&#39;s difficult for me to follow recursion problems through a debugger, however, as there are so many levels that it&#39;s tough to follow what&#39;s going on.","body":"Yes, I did. It&#39;s difficult for me to follow recursion problems through a debugger, however, as there are so many levels that it&#39;s tough to follow what&#39;s going on."},{"owner":{"account_id":38095,"reputation":55749,"user_id":109122,"accept_rate":75,"display_name":"RBarryYoung"},"score":0,"creation_date":1350336939,"post_id":12904284,"comment_id":17480116,"body_markdown":"You may also want to protect against the infinite recursion you&#39;ll get if a zero or negative number is mistakenly passed for `n`.","body":"You may also want to protect against the infinite recursion you&#39;ll get if a zero or negative number is mistakenly passed for <code>n</code>."},{"owner":{"account_id":1843558,"reputation":7606,"user_id":1672458,"accept_rate":71,"display_name":"vaindil"},"score":0,"creation_date":1350337069,"post_id":12904284,"comment_id":17480160,"body_markdown":"Yeah, I would normally make the base case `if(n &lt;= 1) {`, but this is for an online submission system and for some reason it&#39;s only accepting what I currently have.","body":"Yeah, I would normally make the base case <code>if(n &lt;= 1) {</code>, but this is for an online submission system and for some reason it&#39;s only accepting what I currently have."}],"answers":[{"tags":[],"owner":{"account_id":8372,"reputation":225282,"user_id":15055,"accept_rate":80,"display_name":"Claudiu"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1350336506,"creation_date":1350336506,"answer_id":12904297,"question_id":12904284,"body_markdown":"You want to use floating point division:\r\n\r\n    public static double harmonic(int n) {\r\n        if(n == 1.0) {\r\n            return 1.0;\r\n        } else {\r\n            return (1.0 / n) + (1.0 / harmonic(n - 1.0));\r\n        }\r\n    }\r\n\r\nThat is: `1/2` is `0`; `1/2.0` is `0.5`.","title":"Harmonic sequence recursion","body":"<p>You want to use floating point division:</p>\n\n<pre><code>public static double harmonic(int n) {\n    if(n == 1.0) {\n        return 1.0;\n    } else {\n        return (1.0 / n) + (1.0 / harmonic(n - 1.0));\n    }\n}\n</code></pre>\n\n<p>That is: <code>1/2</code> is <code>0</code>; <code>1/2.0</code> is <code>0.5</code>.</p>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1350337095,"creation_date":1350336540,"answer_id":12904309,"question_id":12904284,"body_markdown":"Thats because integer division gives integer result. \r\n\r\nSo, `1/2 == 0`\r\n\r\nYou can use rather use `floating-point` division like this: -\r\n\r\n    if(n == 1.0) {\r\n        return 1.0;\r\n    } else {\r\n        return (1.0 / n) + harmonic(n - 1); // Should be `harmonic(n - 1)`\r\n    }\r\n","title":"Harmonic sequence recursion","body":"<p>Thats because integer division gives integer result. </p>\n\n<p>So, <code>1/2 == 0</code></p>\n\n<p>You can use rather use <code>floating-point</code> division like this: -</p>\n\n<pre><code>if(n == 1.0) {\n    return 1.0;\n} else {\n    return (1.0 / n) + harmonic(n - 1); // Should be `harmonic(n - 1)`\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1413789,"reputation":61252,"user_id":1553090,"accept_rate":89,"display_name":"paddy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1350336549,"creation_date":1350336549,"answer_id":12904312,"question_id":12904284,"body_markdown":"You need to use doubles.  Right now, you&#39;re doing `1 / n`, both of which are integers.  Change it to:\r\n\r\n    return (1.0 / n) + (1.0 / harmonic(n - 1));\r\n\r\n","title":"Harmonic sequence recursion","body":"<p>You need to use doubles.  Right now, you're doing <code>1 / n</code>, both of which are integers.  Change it to:</p>\n\n<pre><code>return (1.0 / n) + (1.0 / harmonic(n - 1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350336640,"creation_date":1350336640,"answer_id":12904335,"question_id":12904284,"body_markdown":"Use doubles in your division calculations.  Currently, everything is cast to ints, losing any floating-point precision you would normally expect.\r\n\r\n    public static double harmonic(int n) {\r\n        if (n == 1) {\r\n            return 1;\r\n        } else {\r\n            return (1.0 / n) + (1.0 / harmonic(n - 1));\r\n        }\r\n    }\r\n","title":"Harmonic sequence recursion","body":"<p>Use doubles in your division calculations.  Currently, everything is cast to ints, losing any floating-point precision you would normally expect.</p>\n\n<pre><code>public static double harmonic(int n) {\n    if (n == 1) {\n        return 1;\n    } else {\n        return (1.0 / n) + (1.0 / harmonic(n - 1));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":325446,"reputation":17129,"user_id":646634,"accept_rate":100,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1350338214,"creation_date":1350336647,"answer_id":12904340,"question_id":12904284,"body_markdown":"Well, for one, you don&#39;t want to return `(1 / n) + (1 / harmonic(n - 1))`, but also you need to use `double` arithmetic:\r\n\r\n    public static double harmonic(int n) {\r\n        if(n == 1) {\r\n            return 1.0;\r\n        } else {\r\n            return (1.0 / n) + harmonic(n - 1);\r\n        }\r\n    }\r\n\r\nIf you left it as `1 / harmonic` you&#39;d return another function entirely:\r\n\r\n&gt; (1 / n) + 1 / ( 1 / (n - 1) + 1 / ( 1 / (n - 2) + 1 / (...) ) )\r\n\r\nThat is a very confusing function to figure out, btw, but I think (with my 3rd time editing it) I got it right this time.","title":"Harmonic sequence recursion","body":"<p>Well, for one, you don't want to return <code>(1 / n) + (1 / harmonic(n - 1))</code>, but also you need to use <code>double</code> arithmetic:</p>\n\n<pre><code>public static double harmonic(int n) {\n    if(n == 1) {\n        return 1.0;\n    } else {\n        return (1.0 / n) + harmonic(n - 1);\n    }\n}\n</code></pre>\n\n<p>If you left it as <code>1 / harmonic</code> you'd return another function entirely:</p>\n\n<blockquote>\n  <p>(1 / n) + 1 / ( 1 / (n - 1) + 1 / ( 1 / (n - 2) + 1 / (...) ) )</p>\n</blockquote>\n\n<p>That is a very confusing function to figure out, btw, but I think (with my 3rd time editing it) I got it right this time.</p>\n"},{"tags":[],"owner":{"account_id":555620,"reputation":185,"user_id":1161711,"accept_rate":80,"display_name":"Seid.M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390866979,"creation_date":1390866979,"answer_id":21394290,"question_id":12904284,"body_markdown":"the recursion part should not include *1/harmonic(n-1)*\r\nit should be \r\n\r\n       public static double harmonic(int n)\r\n      {\r\n        double harm = 0.0;\r\n        if (n == 1) {\r\n            return 1.0;\r\n        }\r\n        else {\r\n            harm = harm + (1.0 / n) +  harmonic(n - 1);\r\n        }\r\n        return harm;\r\n\r\n    }","title":"Harmonic sequence recursion","body":"<p>the recursion part should not include <em>1/harmonic(n-1)</em>\nit should be </p>\n\n<pre><code>   public static double harmonic(int n)\n  {\n    double harm = 0.0;\n    if (n == 1) {\n        return 1.0;\n    }\n    else {\n        harm = harm + (1.0 / n) +  harmonic(n - 1);\n    }\n    return harm;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":199620,"reputation":3325,"user_id":445058,"accept_rate":20,"display_name":"Hrishikesh Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451891791,"creation_date":1451891791,"answer_id":34586327,"question_id":12904284,"body_markdown":"    /**\r\n     * Created by hrishikesh.mishra on 04/01/16.\r\n     *\r\n     * Describe a recursive algorithm\r\n     * for computing the nth Harmonic number,\r\n     * defined as Hn = ∑ n k=1 1/k.\r\n     *\r\n     */\r\n    public class HarmonicNumber {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            System.out.println(&quot;Sum up to 1: &quot;  + sum(1));\r\n            System.out.println(&quot;Sum up to 2: &quot;  + sum(2));\r\n            System.out.println(&quot;Sum up to 3: &quot;  + sum(3));\r\n            System.out.println(&quot;Sum up to 4: &quot;  + sum(4));\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Summation with recursive method.\r\n         * @param n\r\n         * @return\r\n         */\r\n        public static double sum(int n){\r\n            if(n &lt;= 1)\r\n                return 1;\r\n            else\r\n                return ((double) 1/n) + sum(n - 1);\r\n        }\r\n    }","title":"Harmonic sequence recursion","body":"<pre><code>/**\n * Created by hrishikesh.mishra on 04/01/16.\n *\n * Describe a recursive algorithm\n * for computing the nth Harmonic number,\n * defined as Hn = ∑ n k=1 1/k.\n *\n */\npublic class HarmonicNumber {\n\n\n    public static void main(String[] args) {\n\n        System.out.println(\"Sum up to 1: \"  + sum(1));\n        System.out.println(\"Sum up to 2: \"  + sum(2));\n        System.out.println(\"Sum up to 3: \"  + sum(3));\n        System.out.println(\"Sum up to 4: \"  + sum(4));\n    }\n\n\n    /**\n     * Summation with recursive method.\n     * @param n\n     * @return\n     */\n    public static double sum(int n){\n        if(n &lt;= 1)\n            return 1;\n        else\n            return ((double) 1/n) + sum(n - 1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14673596,"reputation":1,"user_id":10597419,"display_name":"Mahmoud"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1541177372,"creation_date":1541177372,"answer_id":53122771,"question_id":12904284,"body_markdown":"     public static double harmonic(int n)\r\n       {\r\n          if (n==1)\r\n          return 1/n;\r\n          else return 1/n + harmonic(n-1);\r\n       }","title":"Harmonic sequence recursion","body":"<pre><code> public static double harmonic(int n)\n   {\n      if (n==1)\n      return 1/n;\n      else return 1/n + harmonic(n-1);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22152031,"reputation":23,"user_id":16400413,"display_name":"voxelfox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638999001,"creation_date":1638999001,"answer_id":70281956,"question_id":12904284,"body_markdown":"This is my implementation of the harmonic number recursion.\r\n\r\n    double harmonic(int n){\r\n\t\r\n\t    if(n == 1)return 1;\r\n\t    else return 1.0 / n + harmonic(n - 1);\r\n\t\r\n    }","title":"Harmonic sequence recursion","body":"<p>This is my implementation of the harmonic number recursion.</p>\n<pre><code>double harmonic(int n){\n\n    if(n == 1)return 1;\n    else return 1.0 / n + harmonic(n - 1);\n\n}\n</code></pre>\n"}],"owner":{"account_id":1843558,"reputation":7606,"user_id":1672458,"accept_rate":71,"display_name":"vaindil"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20519,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":12904340,"answer_count":9,"score":11,"last_activity_date":1638999001,"creation_date":1350336453,"question_id":12904284,"body_markdown":"I&#39;m really getting the hang of recursion (or so I think), but this problem is tripping me up.  I&#39;m trying to return 1 + 1/2 + 1/3 + ... + 1/n, but no matter what I try the method returns 1.0. I cannot for the life of me figure out what&#39;s wrong.\r\n\r\n    public static double harmonic(int n) {\r\n        if(n == 1) {\r\n            return 1;\r\n        } else {\r\n            return (1 / n) + (1 / harmonic(n - 1));\r\n        }\r\n    }","title":"Harmonic sequence recursion","body":"<p>I'm really getting the hang of recursion (or so I think), but this problem is tripping me up.  I'm trying to return 1 + 1/2 + 1/3 + ... + 1/n, but no matter what I try the method returns 1.0. I cannot for the life of me figure out what's wrong.</p>\n\n<pre><code>public static double harmonic(int n) {\n    if(n == 1) {\n        return 1;\n    } else {\n        return (1 / n) + (1 / harmonic(n - 1));\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","focus"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1638966630,"post_id":70274875,"comment_id":124226798,"body_markdown":"From the [`Component#requestFocus()`](https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#requestFocus--) Javadoc: &quot;_This component must be displayable, focusable, visible and all of its ancestors (with the exception of the top-level Window) must be visible for the request to be granted._&quot; - So, are your components already visible? We can&#39;t tell since you didn&#39;t provide a [mre]. Also, the Javadoc also notes that: &quot;_Because the focus behavior of this method is platform-dependent, developers are strongly encouraged to use requestFocusInWindow when possible._&quot;","body":"From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#requestFocus--\" rel=\"nofollow noreferrer\"><code>Component#requestFocus()</code></a> Javadoc: &quot;<i>This component must be displayable, focusable, visible and all of its ancestors (with the exception of the top-level Window) must be visible for the request to be granted.</i>&quot; - So, are your components already visible? We can&#39;t tell since you didn&#39;t provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Also, the Javadoc also notes that: &quot;<i>Because the focus behavior of this method is platform-dependent, developers are strongly encouraged to use requestFocusInWindow when possible.</i>&quot;"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1638969185,"post_id":70274875,"comment_id":124227793,"body_markdown":"I addition to the sage advice of @maloomeister, note that the panel will not be displayed until some time after the constructor is called and that a request to gain focus will *always* fail if a component is not currently displayed.","body":"I addition to the sage advice of @maloomeister, note that the panel will not be displayed until some time after the constructor is called and that a request to gain focus will <i>always</i> fail if a component is not currently displayed."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1638977071,"post_id":70274875,"comment_id":124231223,"body_markdown":"Why would you set focus on a JLabel? By default it is set unfocusable for a reason. Users expect a component to have focus only if you can somehow interact with the component. If you really need to set focus on some other component before it is added to the frame then check out the `RequestFocusListener` found in [Dialog Focus](https://tips4java.wordpress.com/2010/03/14/dialog-focus/)","body":"Why would you set focus on a JLabel? By default it is set unfocusable for a reason. Users expect a component to have focus only if you can somehow interact with the component. If you really need to set focus on some other component before it is added to the frame then check out the <code>RequestFocusListener</code> found in <a href=\"https://tips4java.wordpress.com/2010/03/14/dialog-focus/\" rel=\"nofollow noreferrer\">Dialog Focus</a>"}],"owner":{"account_id":23554736,"reputation":23,"user_id":17596905,"display_name":"Alcor717"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638998771,"creation_date":1638965817,"question_id":70274875,"body_markdown":"I am trying to stablish the focus in the label &quot;test&quot;, but it remains on the item &quot;play&quot;.\r\n\r\n    public class GamePanel extends JPanel {\r\n      public GamePanel() {\r\n        super();\r\n        addItem(&quot;play&quot;,new ActionPlay());\r\n        addItem(&quot;setings&quot;,new ActionSetings());\r\n        addItem(&quot;exit&quot;,new ActionExit());\r\n        JLabel label=new JLabel(&quot;test&quot;);\r\n        label.setFocusable(true);\r\n        add(label);\r\n        label.requestFocus();\r\n      }\r\n    \r\n      public void addItem(String name, AbstractAction action) {\r\n        add(new Item(name, action));\r\n      }\r\n    }\r\nAny ideas on why is this happening?\r\nThanks in advance.","title":"Why is the focus request not working in this code?","body":"<p>I am trying to stablish the focus in the label &quot;test&quot;, but it remains on the item &quot;play&quot;.</p>\n<pre><code>public class GamePanel extends JPanel {\n  public GamePanel() {\n    super();\n    addItem(&quot;play&quot;,new ActionPlay());\n    addItem(&quot;setings&quot;,new ActionSetings());\n    addItem(&quot;exit&quot;,new ActionExit());\n    JLabel label=new JLabel(&quot;test&quot;);\n    label.setFocusable(true);\n    add(label);\n    label.requestFocus();\n  }\n\n  public void addItem(String name, AbstractAction action) {\n    add(new Item(name, action));\n  }\n}\n</code></pre>\n<p>Any ideas on why is this happening?\nThanks in advance.</p>\n"},{"tags":["java","graph","out-of-memory","directed-graph"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1638927561,"post_id":70268708,"comment_id":124216548,"body_markdown":"Where does the profiler say the memory goes?","body":"Where does the profiler say the memory goes?"},{"owner":{"account_id":16474516,"reputation":55,"user_id":14336933,"display_name":"potroast12"},"score":0,"creation_date":1638928426,"post_id":70268708,"comment_id":124216694,"body_markdown":"I&#39;ve added what the full error says to the original post.","body":"I&#39;ve added what the full error says to the original post."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1638947278,"post_id":70268708,"comment_id":124220211,"body_markdown":"If something is taking up your memory and you don’t know what, you use a profiler to find out what it is. Visualvm and netbeans are two free options.","body":"If something is taking up your memory and you don’t know what, you use a profiler to find out what it is. Visualvm and netbeans are two free options."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1638947287,"post_id":70268708,"comment_id":124220215,"body_markdown":"With [mre] you are likely to get quick and helpful [answers](https://stackoverflow.com/q/70250999/3992939).  Please add hard-coded test data to the mre, and mark the line that throws the exception.","body":"With <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> you are likely to get quick and helpful <a href=\"https://stackoverflow.com/q/70250999/3992939\">answers</a>.  Please add hard-coded test data to the mre, and mark the line that throws the exception."},{"owner":{"account_id":16474516,"reputation":55,"user_id":14336933,"display_name":"potroast12"},"score":0,"creation_date":1638986357,"post_id":70268708,"comment_id":124235256,"body_markdown":"I believe the error was fixed with the help of Turtle&#39;s answer, but it is still slow. I&#39;ve added a minimal reproducible example.","body":"I believe the error was fixed with the help of Turtle&#39;s answer, but it is still slow. I&#39;ve added a minimal reproducible example."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1639032429,"post_id":70268708,"comment_id":124245812,"body_markdown":"`srcAdj.size()`  there is no `size()` method in `Bag`","body":"<code>srcAdj.size()</code>  there is no <code>size()</code> method in <code>Bag</code>"}],"answers":[{"tags":[],"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638981547,"creation_date":1638981547,"answer_id":70278594,"question_id":70268708,"body_markdown":"Even for a small dense graph there can be many unique paths from a `src` node. I tested for this input `[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]` there are `16777216` unique paths from all nodes. So you can expect *OOM* for bigger inputs. one way is to update the `longestPath` as soon as a path is found instead of adding it to the list. \r\n\r\nChange this to later.\r\n\r\n    addtoCount(current.size());\r\n\r\nto\r\n\r\n    longestPath = Math.max(longestPath, current.size());\r\n\r\nMake sure `longestPath` is `global` and initialized to `0` before every test case.","title":"How to speed up Depth First Search method?","body":"<p>Even for a small dense graph there can be many unique paths from a <code>src</code> node. I tested for this input <code>[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]</code> there are <code>16777216</code> unique paths from all nodes. So you can expect <em>OOM</em> for bigger inputs. one way is to update the <code>longestPath</code> as soon as a path is found instead of adding it to the list.</p>\n<p>Change this to later.</p>\n<pre><code>addtoCount(current.size());\n</code></pre>\n<p>to</p>\n<pre><code>longestPath = Math.max(longestPath, current.size());\n</code></pre>\n<p>Make sure <code>longestPath</code> is <code>global</code> and initialized to <code>0</code> before every test case.</p>\n"},{"tags":[],"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638998606,"creation_date":1638998606,"answer_id":70281891,"question_id":70268708,"body_markdown":"Well, I do not know JAVA but that is an incredible lot of code for doing a simple thing such as depth first search.\r\n\r\nIn C++ it is done like this:\r\n\r\n        void cPathFinder::depthFirst(\r\n            int v)\r\n        {\r\n            // initialize visited flag for each node in graph\r\n            myPath.clear();\r\n            myPath.resize(nodeCount(), 0);\r\n\r\n            // start recursive search from starting node\r\n            depthRecurse(v, visitor);\r\n        }\r\n\r\n        void cPathFinder::depthRecurse(\r\n            int v )\r\n        {\r\n\r\n            // remember this node has been visited\r\n            myPath[v] = 1;\r\n\r\n            // look for new adjacent nodes\r\n            for (int w : adjacent(v))\r\n                if (!myPath[w])\r\n                {\r\n                    // search from new node\r\n                    depthRecurse(w);\r\n                }\r\n        }\r\n","title":"How to speed up Depth First Search method?","body":"<p>Well, I do not know JAVA but that is an incredible lot of code for doing a simple thing such as depth first search.</p>\n<p>In C++ it is done like this:</p>\n<pre><code>    void cPathFinder::depthFirst(\n        int v)\n    {\n        // initialize visited flag for each node in graph\n        myPath.clear();\n        myPath.resize(nodeCount(), 0);\n\n        // start recursive search from starting node\n        depthRecurse(v, visitor);\n    }\n\n    void cPathFinder::depthRecurse(\n        int v )\n    {\n\n        // remember this node has been visited\n        myPath[v] = 1;\n\n        // look for new adjacent nodes\n        for (int w : adjacent(v))\n            if (!myPath[w])\n            {\n                // search from new node\n                depthRecurse(w);\n            }\n    }\n</code></pre>\n"}],"owner":{"account_id":16474516,"reputation":55,"user_id":14336933,"display_name":"potroast12"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70278594,"answer_count":2,"score":0,"last_activity_date":1638998606,"creation_date":1638924867,"question_id":70268708,"body_markdown":"I&#39;m trying to do a Depth First Search of my graph, and something is slowing it down quite a lot and I&#39;m not sure what.\r\n\r\nHere is my Bag code:\r\n```\r\nimport java.util.Iterator;\r\nimport java.util.NoSuchElementException;\r\n\r\npublic class Bag&lt;Item&gt; implements Iterable&lt;Item&gt; {\r\n    private Node&lt;Item&gt; first;    // beginning of bag\r\n    private Node&lt;Item&gt; end;\r\n    private int n;               // number of elements in bag\r\n    public int label;\r\n    public int edges;\r\n\r\n    public static class Node&lt;Item&gt; {\r\n        private Item item;\t\t\t\t\t\r\n        private Node&lt;Item&gt; next;\r\n        public int label;\r\n        public int edges;\r\n    }\r\n\r\n    public Bag() {\r\n        first = null;\t\t\t\t\t\t\t// empty bag initialized\r\n        end = null;\r\n        n = 0;\r\n    }\r\n    \r\n    public void add(Item item) {\r\n    \tif (n==0) {\r\n    \t\tNode&lt;Item&gt; head = new Node&lt;Item&gt;();\t\t// if bag is empty\r\n    \t\tfirst = head;\r\n    \t\tend = head;\r\n    \t\thead.item = item;\t\t\t// new node both first and end of bag\r\n    \t\tedges++;\r\n    \t\tn++;\r\n    \t}\r\n    \telse {\r\n            Node&lt;Item&gt; oldlast = end;\t\t\t// old last assigned to end of node\r\n            Node&lt;Item&gt; last = new Node&lt;Item&gt;();\r\n            last.item = item;\r\n            oldlast.next = last;\t\t\t\t// new node added after old last\r\n            end = last;\r\n            n++;\t\t\t\t\t\t\t\t\t// size increased\r\n            edges++;\r\n    \t}\r\n    }\r\n\r\n    public Iterator&lt;Item&gt; iterator()  {\r\n        return new LinkedIterator(first);  \t\t\t// returns an iterator that iterates over the items in this bag in arbitrary order\r\n    }\r\n\r\n\r\n    public class LinkedIterator implements Iterator&lt;Item&gt; {\r\n        private Node&lt;Item&gt; current;\r\n\r\n        public LinkedIterator(Node&lt;Item&gt; first) {\r\n            current = first;\t\t\t\t\t\t\t\t\t\t\t// iterator starts at head of bag\r\n        }\r\n\r\n        public boolean hasNext()  { return current != null;                     }\r\n        public void remove()      { throw new UnsupportedOperationException();  }\r\n\r\n        public Item next() {\r\n            if (!hasNext()) throw new NoSuchElementException();\t\t\t\t// if there is next item, current is moved to next\r\n            Item item = current.item;\r\n            current = current.next; \r\n            return item;\t\t\t\t\t\t\t\t\t\t// item is returned\r\n        }\r\n    }\r\n}\r\n```\r\nHere is my driver:\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Random;\r\n\r\npublic class Driver {\r\n\t\r\n\tpublic static ArrayList&lt;Integer&gt; randomNum(int howMany) {\r\n\t\tArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;(howMany);   \r\n\t\tRandom randomGenerator = new Random();\r\n\t\twhile (numbers.size() &lt; howMany) {\r\n\t\t\tint rand_int = randomGenerator.nextInt(10000);\r\n\t\t\tif (!numbers.contains(rand_int)) {\r\n\t\t\t\tnumbers.add(rand_int);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn numbers;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tArrayList&lt;Integer&gt; num = randomNum(100);\r\n\t\tGraph G = new Graph(num);\r\n\t\tSystem.out.println(&quot;The length of longest path for this sequence with graph is: &quot; +  G.dfsStart(num));\r\n\t}\r\n}\r\n```\r\n\r\nI send an ArrayList of random integers to my dfsStart method from the driver, which looks at all the different paths for each starting node in my graph. my DepthFirstSearch method calls the getAdjList for each starting node to find its neighbors using my Bag adj, and then works its way down each path before backtracking.\r\n\r\nHere is my Graph code, containing my longest path method:\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.NoSuchElementException;\r\n\r\npublic class Graph {\r\n\r\n    public final int V;\t\t\t\t\t\t// initializing variables and data structures\r\n    public Bag&lt;Integer&gt;[] adj;\r\n    public int longestPath;\r\n\t\r\n\tpublic Graph(ArrayList&lt;Integer&gt; numbers) {\r\n        \r\n        try {\r\n        \tlongestPath = 0;\r\n            this.V = numbers.size();\r\n            adj = (Bag&lt;Integer&gt;[]) new Bag[V];\t\t\t\t\t\t// bag initialized\r\n            for (int v = 0; v &lt; V; v++) {\r\n                adj[v] = new Bag&lt;Integer&gt;();\t\t\t\t\t\t\t\r\n            }\r\n            for (int i = 0; i &lt; V; i++) {\r\n                adj[i].label = numbers.get(i);\r\n                int j = (i + 1);\r\n                while (j &lt; numbers.size()) {\r\n                \tif (numbers.get(i) &lt; numbers.get(j)) {\r\n                \t\taddEdge(i, numbers.get(j));\r\n                \t}\r\n                \tj++;\r\n                }\r\n            }\r\n        }\r\n        catch (NoSuchElementException e) {\r\n            throw new IllegalArgumentException(&quot;invalid input format in Graph constructor&quot;, e);\r\n        }\r\n\t}\r\n\r\n\t\r\n\tpublic void addEdge(int index, int num) {\t\t\t\t\t\t\t\t\t\t\t\r\n        adj[index].add(num);\t\t\t\r\n\t}\r\n\r\n\tpublic int getIndex(int num) {\r\n\t\tfor (int i = 0; i &lt; adj.length; i++) {\r\n\t\t\tif (adj[i].label == num) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Bag&lt;Integer&gt; getAdjList(int source) {\r\n\t    Bag&lt;Integer&gt; adjList = null;\r\n\t    for (Bag&lt;Integer&gt; list : adj) {\r\n\t        if (list.label == source) {\r\n\t            adjList = list;\r\n\t            break;\r\n\t        }\r\n\t    }\r\n\t    return adjList;\r\n\t}\r\n\t\r\n\tpublic int dfsStart(ArrayList&lt;Integer&gt; numbers) {\r\n\t\tfor (int i=0;i&lt;numbers.size();i++) {\r\n\t\t    // Print all paths from current node\r\n\t\t    depthFirstSearch(numbers.get(i),new ArrayList&lt;&gt;(300));\r\n\t\t}\r\n\t\treturn longestPath;\r\n\t}\r\n\t\r\n\tpublic void depthFirstSearch(int src, ArrayList&lt;Integer&gt; current) {\r\n\t\tcurrent.add(src);\r\n\t    Bag&lt;Integer&gt; srcAdj = getAdjList(src);\r\n\t    if (srcAdj.size() == 0) {\r\n\t        // Leaf node\r\n\t        // Print this path\r\n\t    \tlongestPath = Math.max(longestPath, current.size());\r\n\t    }\r\n\t    for (int links : srcAdj) {\r\n\t        depthFirstSearch(links, current);\r\n\t    }\r\n\t    current.remove(current.size()-1);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nI believe the suggestion below helped get rid of the error, but it is still unbelievably slow when trying to find the longest path in a graph of more than 150 vertices.","title":"How to speed up Depth First Search method?","body":"<p>I'm trying to do a Depth First Search of my graph, and something is slowing it down quite a lot and I'm not sure what.</p>\n<p>Here is my Bag code:</p>\n<pre><code>import java.util.Iterator;\nimport java.util.NoSuchElementException;\n\npublic class Bag&lt;Item&gt; implements Iterable&lt;Item&gt; {\n    private Node&lt;Item&gt; first;    // beginning of bag\n    private Node&lt;Item&gt; end;\n    private int n;               // number of elements in bag\n    public int label;\n    public int edges;\n\n    public static class Node&lt;Item&gt; {\n        private Item item;                  \n        private Node&lt;Item&gt; next;\n        public int label;\n        public int edges;\n    }\n\n    public Bag() {\n        first = null;                           // empty bag initialized\n        end = null;\n        n = 0;\n    }\n    \n    public void add(Item item) {\n        if (n==0) {\n            Node&lt;Item&gt; head = new Node&lt;Item&gt;();     // if bag is empty\n            first = head;\n            end = head;\n            head.item = item;           // new node both first and end of bag\n            edges++;\n            n++;\n        }\n        else {\n            Node&lt;Item&gt; oldlast = end;           // old last assigned to end of node\n            Node&lt;Item&gt; last = new Node&lt;Item&gt;();\n            last.item = item;\n            oldlast.next = last;                // new node added after old last\n            end = last;\n            n++;                                    // size increased\n            edges++;\n        }\n    }\n\n    public Iterator&lt;Item&gt; iterator()  {\n        return new LinkedIterator(first);           // returns an iterator that iterates over the items in this bag in arbitrary order\n    }\n\n\n    public class LinkedIterator implements Iterator&lt;Item&gt; {\n        private Node&lt;Item&gt; current;\n\n        public LinkedIterator(Node&lt;Item&gt; first) {\n            current = first;                                            // iterator starts at head of bag\n        }\n\n        public boolean hasNext()  { return current != null;                     }\n        public void remove()      { throw new UnsupportedOperationException();  }\n\n        public Item next() {\n            if (!hasNext()) throw new NoSuchElementException();             // if there is next item, current is moved to next\n            Item item = current.item;\n            current = current.next; \n            return item;                                        // item is returned\n        }\n    }\n}\n</code></pre>\n<p>Here is my driver:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Random;\n\npublic class Driver {\n    \n    public static ArrayList&lt;Integer&gt; randomNum(int howMany) {\n        ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;(howMany);   \n        Random randomGenerator = new Random();\n        while (numbers.size() &lt; howMany) {\n            int rand_int = randomGenerator.nextInt(10000);\n            if (!numbers.contains(rand_int)) {\n                numbers.add(rand_int);\n            }\n        }\n        return numbers;\n    }\n    \n    public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; num = randomNum(100);\n        Graph G = new Graph(num);\n        System.out.println(&quot;The length of longest path for this sequence with graph is: &quot; +  G.dfsStart(num));\n    }\n}\n</code></pre>\n<p>I send an ArrayList of random integers to my dfsStart method from the driver, which looks at all the different paths for each starting node in my graph. my DepthFirstSearch method calls the getAdjList for each starting node to find its neighbors using my Bag adj, and then works its way down each path before backtracking.</p>\n<p>Here is my Graph code, containing my longest path method:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.NoSuchElementException;\n\npublic class Graph {\n\n    public final int V;                     // initializing variables and data structures\n    public Bag&lt;Integer&gt;[] adj;\n    public int longestPath;\n    \n    public Graph(ArrayList&lt;Integer&gt; numbers) {\n        \n        try {\n            longestPath = 0;\n            this.V = numbers.size();\n            adj = (Bag&lt;Integer&gt;[]) new Bag[V];                      // bag initialized\n            for (int v = 0; v &lt; V; v++) {\n                adj[v] = new Bag&lt;Integer&gt;();                            \n            }\n            for (int i = 0; i &lt; V; i++) {\n                adj[i].label = numbers.get(i);\n                int j = (i + 1);\n                while (j &lt; numbers.size()) {\n                    if (numbers.get(i) &lt; numbers.get(j)) {\n                        addEdge(i, numbers.get(j));\n                    }\n                    j++;\n                }\n            }\n        }\n        catch (NoSuchElementException e) {\n            throw new IllegalArgumentException(&quot;invalid input format in Graph constructor&quot;, e);\n        }\n    }\n\n    \n    public void addEdge(int index, int num) {                                           \n        adj[index].add(num);            \n    }\n\n    public int getIndex(int num) {\n        for (int i = 0; i &lt; adj.length; i++) {\n            if (adj[i].label == num) {\n                return i;\n            }\n        }\n        return -1;\n        \n    }\n    \n    public Bag&lt;Integer&gt; getAdjList(int source) {\n        Bag&lt;Integer&gt; adjList = null;\n        for (Bag&lt;Integer&gt; list : adj) {\n            if (list.label == source) {\n                adjList = list;\n                break;\n            }\n        }\n        return adjList;\n    }\n    \n    public int dfsStart(ArrayList&lt;Integer&gt; numbers) {\n        for (int i=0;i&lt;numbers.size();i++) {\n            // Print all paths from current node\n            depthFirstSearch(numbers.get(i),new ArrayList&lt;&gt;(300));\n        }\n        return longestPath;\n    }\n    \n    public void depthFirstSearch(int src, ArrayList&lt;Integer&gt; current) {\n        current.add(src);\n        Bag&lt;Integer&gt; srcAdj = getAdjList(src);\n        if (srcAdj.size() == 0) {\n            // Leaf node\n            // Print this path\n            longestPath = Math.max(longestPath, current.size());\n        }\n        for (int links : srcAdj) {\n            depthFirstSearch(links, current);\n        }\n        current.remove(current.size()-1);\n    }\n\n}\n\n</code></pre>\n<p>I believe the suggestion below helped get rid of the error, but it is still unbelievably slow when trying to find the longest path in a graph of more than 150 vertices.</p>\n"},{"tags":["java","android","http","websocket","okhttp"],"comments":[{"owner":{"account_id":3817793,"reputation":3642,"user_id":3166697,"display_name":"Dima Kozhevin"},"score":0,"creation_date":1506535717,"post_id":46454222,"comment_id":79864557,"body_markdown":"Possible duplicate of [How to create simple okhttp3 websocket connection?](https://stackoverflow.com/questions/39416209/how-to-create-simple-okhttp3-websocket-connection)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/39416209/how-to-create-simple-okhttp3-websocket-connection\">How to create simple okhttp3 websocket connection?</a>"},{"owner":{"account_id":9971919,"reputation":337,"user_id":7377682,"display_name":"Ali Yusuf"},"score":0,"creation_date":1507449889,"post_id":46454222,"comment_id":80207541,"body_markdown":"Alternative way without RxJava https://stackoverflow.com/a/46628736/7377682","body":"Alternative way without RxJava <a href=\"https://stackoverflow.com/a/46628736/7377682\">stackoverflow.com/a/46628736/7377682</a>"}],"answers":[{"tags":[],"owner":{"account_id":7848785,"reputation":475,"user_id":5932895,"display_name":"KongJing"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1506657477,"creation_date":1506657477,"answer_id":46481585,"question_id":46454222,"body_markdown":"recommend you this way [RxWebSocket][1]\r\n\r\n\r\n  [1]: https://github.com/dhhAndroid/RxWebSocket","title":"Sending messages from Android Websocket client","body":"<p>recommend you this way <a href=\"https://github.com/dhhAndroid/RxWebSocket\" rel=\"nofollow noreferrer\">RxWebSocket</a></p>\n"}],"owner":{"account_id":11867740,"reputation":11,"user_id":8684808,"display_name":"J.Terry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4945,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638998296,"creation_date":1506534645,"question_id":46454222,"body_markdown":"I want to send a message from Android okhttp3 websocket client, not just echoing the messages coming from the server. here is my websocket class:\r\n\r\n     // Websocket\r\n     public final class EchoWebSocketListener extends WebSocketListener {\r\n         private static final int NORMAL_CLOSURE_STATUS = 1000;\r\n         @Override\r\n         public void onOpen(WebSocket webSocket, Response response) {\r\n             webSocket.send(message);\r\n         }\r\n         @Override\r\n         public void onMessage(WebSocket webSocket, String text) {\r\n             printer(&quot;text&quot;);\r\n         }\r\n         @Override\r\n         public void onClosing(WebSocket webSocket, int code, String reason) {\r\n             webSocket.close(NORMAL_CLOSURE_STATUS, null);\r\n         }\r\n         @Override\r\n         public void onFailure(WebSocket webSocket, Throwable t, Response response) {\r\n\r\n         }\r\n         public void send(WebSocket webSocket) {\r\n           webSocket.send(finalMessage);\r\n         }\r\n     }\r\nAnd here is how I call it from the onCreate method: \r\n\r\n    client= new OkHttpClient();\r\n    Request request = new Request.Builder().url(Url).build();\r\n    EchoWebSocketListener listener = new EchoWebSocketListener();\r\n    webso = myClient.newWebSocket(request, listener);\r\n    client.dispatcher().executorService().shutdown();\r\n\r\nI tried to make an object to the class and call a function I named it &#39;send&#39;:\r\n\r\n    EchoWebSocketListener object = new EchoWebSocketListener ()\r\n    object.send(webso)\r\nBut that&#39;s not working?","title":"Sending messages from Android Websocket client","body":"<p>I want to send a message from Android okhttp3 websocket client, not just echoing the messages coming from the server. here is my websocket class:</p>\n<pre><code> // Websocket\n public final class EchoWebSocketListener extends WebSocketListener {\n     private static final int NORMAL_CLOSURE_STATUS = 1000;\n     @Override\n     public void onOpen(WebSocket webSocket, Response response) {\n         webSocket.send(message);\n     }\n     @Override\n     public void onMessage(WebSocket webSocket, String text) {\n         printer(&quot;text&quot;);\n     }\n     @Override\n     public void onClosing(WebSocket webSocket, int code, String reason) {\n         webSocket.close(NORMAL_CLOSURE_STATUS, null);\n     }\n     @Override\n     public void onFailure(WebSocket webSocket, Throwable t, Response response) {\n\n     }\n     public void send(WebSocket webSocket) {\n       webSocket.send(finalMessage);\n     }\n }\n</code></pre>\n<p>And here is how I call it from the onCreate method:</p>\n<pre><code>client= new OkHttpClient();\nRequest request = new Request.Builder().url(Url).build();\nEchoWebSocketListener listener = new EchoWebSocketListener();\nwebso = myClient.newWebSocket(request, listener);\nclient.dispatcher().executorService().shutdown();\n</code></pre>\n<p>I tried to make an object to the class and call a function I named it 'send':</p>\n<pre><code>EchoWebSocketListener object = new EchoWebSocketListener ()\nobject.send(webso)\n</code></pre>\n<p>But that's not working?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639528918,"post_id":70281076,"comment_id":124370532,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638997292,"creation_date":1638994433,"answer_id":70281176,"question_id":70281076,"body_markdown":"Edit: I noticed your test inherits your class under test `Calculator`. Don&#39;t do that! Instead, create a `private Calculator` field in your Test class and instantiate it in the `setUp()` method of the test.\r\n\r\nAlso, don&#39;t pass a file name to your Calculator. Instead, pass an InputStream, so that you can load it from a file, from the network, from a string or even from the terminal.\r\n\r\nDo not use a constructor in your class, use a `@Before setUp()` method instead.\r\n\r\nFirst, this is how I would load test data from a file (if I have to):\r\n - if possible, paste it directly in a string inside the test.\r\n - if not feasible, create a test resource file under `src/test/resources`, for example name it `src/test.txt`. **But remember, this is slow!**\r\nThen load the resource like this in your test:\r\n```\r\npublic class CalculatorTest {\r\n    private Calculator calculator;\r\n\r\n    @Before\r\n    void setUp() throws IOException {\r\n        try {\r\n            InputStream in = getContextClassLoader().getResourceAsStream(&quot;src/file.txt&quot;);\r\n            calculator = new Calculator(in);\r\n            ...\r\n```\r\n\r\nTests should be self contained, you should not be passing parameters from the outside.\r\n\r\nIf you need some kind of configuration, you can use system properties like so:\r\n```java\r\nProperties props = System.getProperties();\r\nprops.setProperty(&quot;my.path&quot;, &quot;/tmp/mytest&quot;);\r\n```\r\nOr you can define them in your pom.xml as explained [here](https://stackoverflow.com/questions/39750348/how-to-add-vm-args-using-pom-xml-plugin):\r\n```xml\r\n&lt;property&gt;\r\n      &lt;jvm.options&gt;-Dmy.path=/tmp/mytest&lt;/jvm.options&gt;\r\n&lt;/property&gt;\r\n\r\n[...]\r\n&lt;build&gt;\r\n  [...]\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;configuration&gt;\r\n         &lt;compilerArgs&gt;\r\n              &lt;arg&gt;${jvm.options}&lt;/arg&gt;\r\n         &lt;/compilerArgs&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n       &lt;configuration&gt;\r\n            &lt;argLine&gt;${jvm.options}&lt;/argLine&gt;\r\n       &lt;/configuration&gt;\r\n     &lt;/plugin&gt;\r\n   &lt;/plugins&gt;\r\n   [...]\r\n&lt;/build&gt;\r\n[...]\r\n```\r\n\r\nAlso, the tests are not run via your main() method, that&#39;s why you cannot pass parameters from there. JUnit has its own main class and method.","title":"Maven Java Test method&#39;s with getters","body":"<p>Edit: I noticed your test inherits your class under test <code>Calculator</code>. Don't do that! Instead, create a <code>private Calculator</code> field in your Test class and instantiate it in the <code>setUp()</code> method of the test.</p>\n<p>Also, don't pass a file name to your Calculator. Instead, pass an InputStream, so that you can load it from a file, from the network, from a string or even from the terminal.</p>\n<p>Do not use a constructor in your class, use a <code>@Before setUp()</code> method instead.</p>\n<p>First, this is how I would load test data from a file (if I have to):</p>\n<ul>\n<li>if possible, paste it directly in a string inside the test.</li>\n<li>if not feasible, create a test resource file under <code>src/test/resources</code>, for example name it <code>src/test.txt</code>. <strong>But remember, this is slow!</strong>\nThen load the resource like this in your test:</li>\n</ul>\n<pre><code>public class CalculatorTest {\n    private Calculator calculator;\n\n    @Before\n    void setUp() throws IOException {\n        try {\n            InputStream in = getContextClassLoader().getResourceAsStream(&quot;src/file.txt&quot;);\n            calculator = new Calculator(in);\n            ...\n</code></pre>\n<p>Tests should be self contained, you should not be passing parameters from the outside.</p>\n<p>If you need some kind of configuration, you can use system properties like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties props = System.getProperties();\nprops.setProperty(&quot;my.path&quot;, &quot;/tmp/mytest&quot;);\n</code></pre>\n<p>Or you can define them in your pom.xml as explained <a href=\"https://stackoverflow.com/questions/39750348/how-to-add-vm-args-using-pom-xml-plugin\">here</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property&gt;\n      &lt;jvm.options&gt;-Dmy.path=/tmp/mytest&lt;/jvm.options&gt;\n&lt;/property&gt;\n\n[...]\n&lt;build&gt;\n  [...]\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n       &lt;configuration&gt;\n         &lt;compilerArgs&gt;\n              &lt;arg&gt;${jvm.options}&lt;/arg&gt;\n         &lt;/compilerArgs&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n    &lt;plugin&gt;\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n       &lt;configuration&gt;\n            &lt;argLine&gt;${jvm.options}&lt;/argLine&gt;\n       &lt;/configuration&gt;\n     &lt;/plugin&gt;\n   &lt;/plugins&gt;\n   [...]\n&lt;/build&gt;\n[...]\n</code></pre>\n<p>Also, the tests are not run via your main() method, that's why you cannot pass parameters from there. JUnit has its own main class and method.</p>\n"}],"owner":{"display_name":"user15661417"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638997292,"creation_date":1638993888,"question_id":70281076,"body_markdown":" - Its my first projet in Maven, i have code like in below and, How can\r\n   i edit my code to run tests, with parameters that I sorted in main. I\r\n   wonna to write test with parameters **a** and **b**, I tried getters\r\n   but didnt work. How can I extract this varaibles ?\r\n\r\n**MAIN**\r\n```\r\nimport org.junit.Before;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.function.ToIntBiFunction;\r\n\r\nimport static jdk.xml.internal.SecuritySupport.getContextClassLoader;\r\n\r\npublic class Calculator {\r\n    private Calculator calculator;\r\n\r\n    @Before\r\n    void setUp() throws IOException{\r\n        try {\r\n            InputStream in = getContextClassLoader().getResourceAsStream(&quot;src/file.txt&quot;);\r\n            calculator = new Calculator(in);\r\n            List&lt;String&gt; list = Files.readAllLines(Paths.get(&quot;src/file.txt&quot;));\r\n            int apply = Integer.valueOf(list.get(list.size() - 1).split(&quot; &quot;)[1]);\r\n            Map&lt;String, ToIntBiFunction&lt;Integer, Integer&gt;&gt; map = prepMap();\r\n            for (int i = 0; i &lt; list.size() - 1; i++) {\r\n                apply = map.get(list.get(i).split(&quot; &quot;)[0]).applyAsInt(apply, Integer.valueOf(list.get(i).split(&quot; &quot;)[1]));\r\n            }\r\n            System.out.println(apply);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public int add(int a, int b) {\r\n        return a+b; }\r\n\r\n    public int subtract(int a, int b) {\r\n        return a-b;\r\n    }\r\n\r\n    public int multiply(int a, int b) {\r\n        return a*b;\r\n    }\r\n\r\n    public int divide(int a, int b) {\r\n        return a/b;\r\n    }\r\n\r\n    public Map&lt;String, ToIntBiFunction&lt;Integer, Integer&gt;&gt; prepMap() {\r\n        Map&lt;String, ToIntBiFunction&lt;Integer, Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;multiply&quot;, (a, b) -&gt; a * b);\r\n        map.put(&quot;add&quot;, (a, b) -&gt; a + b);\r\n        map.put(&quot;devide&quot;, (a, b) -&gt; {\r\n            if (b == 0) {\r\n                System.out.println(&quot;deviding by 0\\nskiping this opperation&quot;);\r\n                return a;\r\n            }\r\n            return a / b;\r\n        });\r\n        map.put(&quot;subtract&quot;, (a, b) -&gt; a - b);\r\n        return map;\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n**Example for testing file**\r\nadd 2\r\nmultiply 3\r\napply 10\r\n\r\n**My Tests**\r\n```\r\n\r\nimport org.junit.Assert;\r\nimport org.junit.BeforeClass;\r\nimport org.junit.Test;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Scanner;\r\nimport java.util.function.ToIntBiFunction;\r\nimport java.util.logging.Logger;\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\npublic class CalculatorTests extends Calculator{\r\n    private static Logger LOGGER = Logger.getLogger(&quot;InfoLogging&quot;);\r\n    private String path= &quot;src/file.txt&quot;;\r\n\r\n    public CalculatorTests(String path) {\r\n        super(path);\r\n    }\r\n\r\n\r\n    @Test\r\n    public void testAdd() {\r\n        LOGGER.info(&quot;Running When Case1: testAdd&quot;);\r\n        //given\r\n        Calculator calculator = new Calculator(path);\r\n        //when\r\n        Scanner sc1 = new Scanner(path);\r\n        Scanner sc2 = new Scanner(path);\r\n        int result = calculator.add(10, 2);\r\n        //then\r\n        assertThat(result).isEqualTo(12);\r\n    }\r\n    @Test\r\n    public void testSubtract() {\r\n        LOGGER.info(&quot;Running When Case2: testSubtract&quot;);\r\n\r\n        //given\r\n        Calculator calculator = new Calculator(path);\r\n\r\n        //when\r\n        int result = calculator.subtract(3, 1);\r\n\r\n        //then\r\n        assertThat(result).isEqualTo(2);\r\n    }\r\n    @Test\r\n    public void testMultiply() {\r\n        LOGGER.info(&quot;Running When Case3: testMultiply&quot;);\r\n\r\n        //given\r\n        Calculator calculator = new Calculator(path);\r\n\r\n        //when\r\n        int result = calculator.multiply(12, 3);\r\n\r\n        //then\r\n        assertThat(result).isEqualTo(36);\r\n    }\r\n    @Test\r\n    public void testDivide() {\r\n        LOGGER.info(&quot;Running When Case4: testDivide&quot;);\r\n        //given\r\n        Calculator calculator = new Calculator(path);\r\n\r\n        //when\r\n        int result = calculator.divide(4,2);\r\n\r\n        //then\r\n        assertThat(result).isEqualTo(2);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI was trying with scanners too but didnt worked, and now I have no idea what to change in code to make it work. I search for ansers but couldnt find any, thats why im writing here, dont hate me pls :(","title":"Maven Java Test method&#39;s with getters","body":"<ul>\n<li>Its my first projet in Maven, i have code like in below and, How can\ni edit my code to run tests, with parameters that I sorted in main. I\nwonna to write test with parameters <strong>a</strong> and <strong>b</strong>, I tried getters\nbut didnt work. How can I extract this varaibles ?</li>\n</ul>\n<p><strong>MAIN</strong></p>\n<pre><code>import org.junit.Before;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.function.ToIntBiFunction;\n\nimport static jdk.xml.internal.SecuritySupport.getContextClassLoader;\n\npublic class Calculator {\n    private Calculator calculator;\n\n    @Before\n    void setUp() throws IOException{\n        try {\n            InputStream in = getContextClassLoader().getResourceAsStream(&quot;src/file.txt&quot;);\n            calculator = new Calculator(in);\n            List&lt;String&gt; list = Files.readAllLines(Paths.get(&quot;src/file.txt&quot;));\n            int apply = Integer.valueOf(list.get(list.size() - 1).split(&quot; &quot;)[1]);\n            Map&lt;String, ToIntBiFunction&lt;Integer, Integer&gt;&gt; map = prepMap();\n            for (int i = 0; i &lt; list.size() - 1; i++) {\n                apply = map.get(list.get(i).split(&quot; &quot;)[0]).applyAsInt(apply, Integer.valueOf(list.get(i).split(&quot; &quot;)[1]));\n            }\n            System.out.println(apply);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public int add(int a, int b) {\n        return a+b; }\n\n    public int subtract(int a, int b) {\n        return a-b;\n    }\n\n    public int multiply(int a, int b) {\n        return a*b;\n    }\n\n    public int divide(int a, int b) {\n        return a/b;\n    }\n\n    public Map&lt;String, ToIntBiFunction&lt;Integer, Integer&gt;&gt; prepMap() {\n        Map&lt;String, ToIntBiFunction&lt;Integer, Integer&gt;&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;multiply&quot;, (a, b) -&gt; a * b);\n        map.put(&quot;add&quot;, (a, b) -&gt; a + b);\n        map.put(&quot;devide&quot;, (a, b) -&gt; {\n            if (b == 0) {\n                System.out.println(&quot;deviding by 0\\nskiping this opperation&quot;);\n                return a;\n            }\n            return a / b;\n        });\n        map.put(&quot;subtract&quot;, (a, b) -&gt; a - b);\n        return map;\n    }\n\n}\n\n\n\n</code></pre>\n<p><strong>Example for testing file</strong>\nadd 2\nmultiply 3\napply 10</p>\n<p><strong>My Tests</strong></p>\n<pre><code>\nimport org.junit.Assert;\nimport org.junit.BeforeClass;\nimport org.junit.Test;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Scanner;\nimport java.util.function.ToIntBiFunction;\nimport java.util.logging.Logger;\nimport static org.assertj.core.api.Assertions.assertThat;\n\npublic class CalculatorTests extends Calculator{\n    private static Logger LOGGER = Logger.getLogger(&quot;InfoLogging&quot;);\n    private String path= &quot;src/file.txt&quot;;\n\n    public CalculatorTests(String path) {\n        super(path);\n    }\n\n\n    @Test\n    public void testAdd() {\n        LOGGER.info(&quot;Running When Case1: testAdd&quot;);\n        //given\n        Calculator calculator = new Calculator(path);\n        //when\n        Scanner sc1 = new Scanner(path);\n        Scanner sc2 = new Scanner(path);\n        int result = calculator.add(10, 2);\n        //then\n        assertThat(result).isEqualTo(12);\n    }\n    @Test\n    public void testSubtract() {\n        LOGGER.info(&quot;Running When Case2: testSubtract&quot;);\n\n        //given\n        Calculator calculator = new Calculator(path);\n\n        //when\n        int result = calculator.subtract(3, 1);\n\n        //then\n        assertThat(result).isEqualTo(2);\n    }\n    @Test\n    public void testMultiply() {\n        LOGGER.info(&quot;Running When Case3: testMultiply&quot;);\n\n        //given\n        Calculator calculator = new Calculator(path);\n\n        //when\n        int result = calculator.multiply(12, 3);\n\n        //then\n        assertThat(result).isEqualTo(36);\n    }\n    @Test\n    public void testDivide() {\n        LOGGER.info(&quot;Running When Case4: testDivide&quot;);\n        //given\n        Calculator calculator = new Calculator(path);\n\n        //when\n        int result = calculator.divide(4,2);\n\n        //then\n        assertThat(result).isEqualTo(2);\n    }\n}\n\n</code></pre>\n<p>I was trying with scanners too but didnt worked, and now I have no idea what to change in code to make it work. I search for ansers but couldnt find any, thats why im writing here, dont hate me pls :(</p>\n"},{"tags":["java","spring","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":9728098,"reputation":161,"user_id":7214251,"display_name":"Granit Krasniqi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638997272,"creation_date":1638997272,"answer_id":70281666,"question_id":70270815,"body_markdown":"You can do it by using ContextConfiguration and injecting ApplicationContext or injecting directly your beans @Autowired AWSCredentialsProvider awsCredentials as properties.\r\nExample below uses ApplicationContext directly.\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @ContextConfiguration(classes = { ABCConfig.class })\r\n    class ABCConfigUnitTest {\r\n    \r\n        @Autowired\r\n        ApplicationContext context;\r\n    \r\n        @Test\r\n        void givenImportedBeans_whenGettingEach_shallFindIt() {\r\n            assertThatBeanExists(&quot;aWSCredentials&quot;, AWSCredentialsProvider.class);\r\n        }\r\n    \r\n        private void assertThatBeanExists(String beanName, Class&lt;?&gt; beanClass) {\r\n            Assertions.assertTrue(context.containsBean(beanName));\r\n            Assertions.assertNotNull(context.getBean(beanClass));\r\n        }\r\n    }","title":"How to test @Configuration and @Bean in a Spring Boot Application?","body":"<p>You can do it by using ContextConfiguration and injecting ApplicationContext or injecting directly your beans @Autowired AWSCredentialsProvider awsCredentials as properties.\nExample below uses ApplicationContext directly.</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = { ABCConfig.class })\nclass ABCConfigUnitTest {\n\n    @Autowired\n    ApplicationContext context;\n\n    @Test\n    void givenImportedBeans_whenGettingEach_shallFindIt() {\n        assertThatBeanExists(&quot;aWSCredentials&quot;, AWSCredentialsProvider.class);\n    }\n\n    private void assertThatBeanExists(String beanName, Class&lt;?&gt; beanClass) {\n        Assertions.assertTrue(context.containsBean(beanName));\n        Assertions.assertNotNull(context.getBean(beanClass));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8411933,"reputation":2532,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6907,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638997272,"creation_date":1638944821,"question_id":70270815,"body_markdown":"I&#39;m new to Spring Boot. I need to write JUnit test cases for the below class.\r\nWhat is the efficient way to write a unit test case for @Configuration and @Bean annotation?\r\n\r\n```\r\n@Configuration\r\npublic class ABCConfig {\r\n\t\r\n\t@Autowired\r\n\tprivate AwsApplicationProperties AwsApplicationProperties;\r\n\tList&lt;AmazonSNS&gt; amazonSNSClientArray = new ArrayList&lt;&gt;();\r\n\t\r\n\t@Bean\r\n\tpublic List&lt;AmazonSNS&gt; amazonSnsClient() {\r\n\t  //some code here\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AWSCredentialsProvider aWSCredentials(String awsAccessKeyId, String awsSecretKeyId) {\t\t\r\n\t\treturn new AWSStaticCredentialsProvider(new BasicAWSCredentials(awsAccessKeyId, awsSecretKeyId));\r\n\t}\r\n}\r\n```\r\n\r\nCan some one help? Thank you for your time.","title":"How to test @Configuration and @Bean in a Spring Boot Application?","body":"<p>I'm new to Spring Boot. I need to write JUnit test cases for the below class.\nWhat is the efficient way to write a unit test case for @Configuration and @Bean annotation?</p>\n<pre><code>@Configuration\npublic class ABCConfig {\n    \n    @Autowired\n    private AwsApplicationProperties AwsApplicationProperties;\n    List&lt;AmazonSNS&gt; amazonSNSClientArray = new ArrayList&lt;&gt;();\n    \n    @Bean\n    public List&lt;AmazonSNS&gt; amazonSnsClient() {\n      //some code here\n    }\n    \n    @Bean\n    public AWSCredentialsProvider aWSCredentials(String awsAccessKeyId, String awsSecretKeyId) {        \n        return new AWSStaticCredentialsProvider(new BasicAWSCredentials(awsAccessKeyId, awsSecretKeyId));\n    }\n}\n</code></pre>\n<p>Can some one help? Thank you for your time.</p>\n"},{"tags":["java","java.util.logging"],"comments":[{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1638993404,"post_id":70280813,"comment_id":124237681,"body_markdown":"If I run this it prints me the 50000 a&#39;s to the console... how are you running this?","body":"If I run this it prints me the 50000 a&#39;s to the console... how are you running this?"},{"owner":{"account_id":1788150,"reputation":19947,"user_id":1748450,"accept_rate":79,"display_name":"Chin"},"score":0,"creation_date":1638993450,"post_id":70280813,"comment_id":124237702,"body_markdown":"I&#39;m running it from Eclipse","body":"I&#39;m running it from Eclipse"},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1638993660,"post_id":70280813,"comment_id":124237749,"body_markdown":"`it doesn&#39;t write anything to the log file` Do you mean the console?\nCould you post a screenshot?\nI think that&#39;s a problem with the Eclipse output, because I tried it with IntelliJ and with cmd, both works.","body":"<code>it doesn&#39;t write anything to the log file</code> Do you mean the console? Could you post a screenshot? I think that&#39;s a problem with the Eclipse output, because I tried it with IntelliJ and with cmd, both works."},{"owner":{"account_id":1788150,"reputation":19947,"user_id":1748450,"accept_rate":79,"display_name":"Chin"},"score":0,"creation_date":1638993709,"post_id":70280813,"comment_id":124237755,"body_markdown":"I mean the log file on disk, since I&#39;m using `FileHandler`","body":"I mean the log file on disk, since I&#39;m using <code>FileHandler</code>"},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1638993856,"post_id":70280813,"comment_id":124237801,"body_markdown":"@Chin I copied your code and run it... but it doesn&#39;t generate a log file anywhere","body":"@Chin I copied your code and run it... but it doesn&#39;t generate a log file anywhere"},{"owner":{"account_id":1788150,"reputation":19947,"user_id":1748450,"accept_rate":79,"display_name":"Chin"},"score":0,"creation_date":1638993942,"post_id":70280813,"comment_id":124237833,"body_markdown":"I think the default location is your home directory, but you can also specify a path directly","body":"I think the default location is your home directory, but you can also specify a path directly"}],"answers":[{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638997208,"creation_date":1638995947,"answer_id":70281428,"question_id":70280813,"body_markdown":"The `FileHandler` has a limit as described in its [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/FileHandler.html): \r\n&gt;*\\&lt;handler-name&gt;.limit specifies an approximate maximum amount to write (in bytes) to any one file. If this is zero, then there is no limit. (Defaults to no limit).*\r\n\r\nIt states the default as being no limit, but the limit is set by the `logging.properties` file found in the used JRE/JDK installation directory. On my system, Java 8 or Java 17, this file contains the line \r\n````\r\njava.util.logging.FileHandler.limit = 50000\r\n````\r\nsetting the limit to 50000.\r\n\r\nPossible solutions:  \r\n- set the limit in the constructor of `FileHandler`, e.g:  \r\n````\r\nnew FileHandler(&quot;%h/java%u.log&quot;, 0, 1);  // using the default file pattern\r\n```` \r\n- having a different configuration file (`logging.properties`) with adjusted limit, specified by the `java.util.logging.config.file` system property.\r\n","title":"How to output long line with FileHandler?","body":"<p>The <code>FileHandler</code> has a limit as described in its <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/FileHandler.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p><em>&lt;handler-name&gt;.limit specifies an approximate maximum amount to write (in bytes) to any one file. If this is zero, then there is no limit. (Defaults to no limit).</em></p>\n</blockquote>\n<p>It states the default as being no limit, but the limit is set by the <code>logging.properties</code> file found in the used JRE/JDK installation directory. On my system, Java 8 or Java 17, this file contains the line</p>\n<pre><code>java.util.logging.FileHandler.limit = 50000\n</code></pre>\n<p>setting the limit to 50000.</p>\n<p>Possible solutions:</p>\n<ul>\n<li>set the limit in the constructor of <code>FileHandler</code>, e.g:</li>\n</ul>\n<pre><code>new FileHandler(&quot;%h/java%u.log&quot;, 0, 1);  // using the default file pattern\n</code></pre>\n<ul>\n<li>having a different configuration file (<code>logging.properties</code>) with adjusted limit, specified by the <code>java.util.logging.config.file</code> system property.</li>\n</ul>\n"}],"owner":{"account_id":1788150,"reputation":19947,"user_id":1748450,"accept_rate":79,"display_name":"Chin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70281428,"answer_count":1,"score":0,"last_activity_date":1638997208,"creation_date":1638992405,"question_id":70280813,"body_markdown":"For lines that are not too long, `FileHandler` works fine. But if the line is decently long, it doesn&#39;t write anything to the log file. For example here is the code that tries to write a line of 50k characters:\r\n\r\n```\r\npublic class LoggerExample {\r\n\r\n    private static final Logger LOGGER = Logger.getLogger(LoggerExample.class.getName());\r\n    public static void main(String[] args) throws SecurityException, IOException {\r\n        FileHandler fileHandler = new FileHandler();\r\n        fileHandler.setFormatter(new SimpleFormatter());\r\n        LOGGER.addHandler(fileHandler);\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; 5000; i++) {\r\n            sb.append(&quot;aaaaaaaaaa&quot;);\r\n        }\r\n        LOGGER.info(sb.toString());\r\n    }\r\n}\r\n\r\n```\r\nIs there a way to make this work?","title":"How to output long line with FileHandler?","body":"<p>For lines that are not too long, <code>FileHandler</code> works fine. But if the line is decently long, it doesn't write anything to the log file. For example here is the code that tries to write a line of 50k characters:</p>\n<pre><code>public class LoggerExample {\n\n    private static final Logger LOGGER = Logger.getLogger(LoggerExample.class.getName());\n    public static void main(String[] args) throws SecurityException, IOException {\n        FileHandler fileHandler = new FileHandler();\n        fileHandler.setFormatter(new SimpleFormatter());\n        LOGGER.addHandler(fileHandler);\n\n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; 5000; i++) {\n            sb.append(&quot;aaaaaaaaaa&quot;);\n        }\n        LOGGER.info(sb.toString());\n    }\n}\n\n</code></pre>\n<p>Is there a way to make this work?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1638998360,"post_id":70281644,"comment_id":124239239,"body_markdown":"What do you have in class  `Department`? It&#39;s mapped right? or try to add an attr in your count like this `select new edu.university.management.model.StudentsPerDepartment( d.name,  count( s.{ANY_ATTR_TO_COUNT_FROM_DEPARTMENT} ) )`.... Or try add package referencie into `Department` like `from some.package.Department d`","body":"What do you have in class  <code>Department</code>? It&#39;s mapped right? or try to add an attr in your count like this <code>select new edu.university.management.model.StudentsPerDepartment( d.name,  count( s.{ANY_ATTR_TO_COUNT_FROM_DEPARTMENT} ) )</code>.... Or try add package referencie into <code>Department</code> like <code>from some.package.Department d</code>"},{"owner":{"account_id":12528915,"reputation":49,"user_id":9117796,"display_name":"Hamdi"},"score":0,"creation_date":1639001796,"post_id":70281644,"comment_id":124240301,"body_markdown":"@DilermandoLima yes class `Department` is mapped and it only has two fields {`id`, `name`}, and i also tried to replace the object with an attribute in the count like this: `select new edu.university.management.model.StudentsPerDepartment(d.name, count(s.id))` but still without luck","body":"@DilermandoLima yes class <code>Department</code> is mapped and it only has two fields {<code>id</code>, <code>name</code>}, and i also tried to replace the object with an attribute in the count like this: <code>select new edu.university.management.model.StudentsPerDepartment(d.name&zwnj;&#8203;, count(s.id))</code> but still without luck"}],"owner":{"account_id":12528915,"reputation":49,"user_id":9117796,"display_name":"Hamdi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638997192,"creation_date":1638997192,"question_id":70281644,"body_markdown":"I&#39;ve been trying to expose some services through the Spring `JPARepository` interface\r\nSo I created a StudentRepo like this:\r\n\r\n    package edu.university.management.dao;\r\n    \r\n    import java.util.List;\r\n    \r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.rest.core.annotation.RestResource;\r\n    \r\n    import edu.university.management.model.Student;\r\n    import edu.university.management.model.StudentsPerDepartment;\r\n    \r\n    public interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\r\n    \t\r\n    \t@RestResource(path = &quot;/byDeptOrdered&quot;)\r\n    \t//@Query(&quot;select s from Student s where s.department.name = &#39;Informatique&#39; order by s.entryDate desc&quot;)\r\n    \tpublic List&lt;Student&gt; findByDepartment_NameOrderByEntryDateDesc(String deptName);\r\n    \t\r\n    \t\r\n    \t@RestResource(path = &quot;/topStudents&quot;)\r\n    \t@Query(&quot;select s&quot;\r\n    \t\t\t+ &quot; from Student s&quot;\r\n    \t\t\t+ &quot; where s.mark = (&quot;\r\n    \t\t\t\t+ &quot;select max(s.mark)&quot;\r\n    \t\t\t\t+ &quot; from Student s&quot;\r\n    \t\t\t+ &quot;)&quot;)\r\n    \tpublic List&lt;Student&gt; topStudents();\r\n    \t\r\n    \t@RestResource(path = &quot;/studentsPerDept&quot;)\r\n    \t@Query(&quot;select new edu.university.management.model.StudentsPerDepartment(d.name, count(s))&quot;\r\n    \t\t\t+ &quot; from Department d&quot;\r\n    \t\t\t+ &quot; left join&quot;\r\n    \t\t\t+ &quot; d.students s&quot;\r\n    \t\t\t+ &quot; group by d.name&quot;)\r\n    \tpublic List&lt;StudentsPerDepartment&gt; studentCountPerDepartment();\r\n    }\r\n\r\nFor the last service `studentCountPerDepartment` I used a class based `projection` to avoid returning an `array` of Objects,\r\n\r\nStudentsPerDepartment:\r\n\r\n    package edu.university.management.model;\r\n    \r\n    \r\n    public class StudentsPerDepartment {\r\n    \r\n    \tprivate String departmentName;\r\n    \tprivate Long studentCount;\r\n    \t\r\n    \tpublic StudentsPerDepartment(String departmentName, Long studentCount) {\r\n    \t\tsuper();\r\n    \t\tthis.departmentName = departmentName;\r\n    \t\tthis.studentCount = studentCount;\r\n    \t}\r\n    \r\n    \tpublic String getDepartmentName() {\r\n    \t\treturn departmentName;\r\n    \t}\r\n    \r\n    \tpublic Long getStudentCount() {\r\n    \t\treturn studentCount;\r\n    \t}\r\n    \r\n    }\r\n\r\nBut when i invoke the service i get this error:\r\n\r\n    org.springframework.data.mapping.MappingException: Cannot get or create PersistentEntity for type edu.university.management.model.StudentsPerDepartment! PersistentEntities knows about 2 MappingContext instances and therefore cannot identify a single responsible one. Please configure the initialEntitySet through an entity scan using the base package in your configuration to pre initialize contexts.\r\n\r\nAny ideas guys?\r\n\r\nThank you.\r\n\t\r\n\r\n\r\n","title":"Cannot get or create PersistentEntity for type","body":"<p>I've been trying to expose some services through the Spring <code>JPARepository</code> interface\nSo I created a StudentRepo like this:</p>\n<pre><code>package edu.university.management.dao;\n\nimport java.util.List;\n\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.rest.core.annotation.RestResource;\n\nimport edu.university.management.model.Student;\nimport edu.university.management.model.StudentsPerDepartment;\n\npublic interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\n    \n    @RestResource(path = &quot;/byDeptOrdered&quot;)\n    //@Query(&quot;select s from Student s where s.department.name = 'Informatique' order by s.entryDate desc&quot;)\n    public List&lt;Student&gt; findByDepartment_NameOrderByEntryDateDesc(String deptName);\n    \n    \n    @RestResource(path = &quot;/topStudents&quot;)\n    @Query(&quot;select s&quot;\n            + &quot; from Student s&quot;\n            + &quot; where s.mark = (&quot;\n                + &quot;select max(s.mark)&quot;\n                + &quot; from Student s&quot;\n            + &quot;)&quot;)\n    public List&lt;Student&gt; topStudents();\n    \n    @RestResource(path = &quot;/studentsPerDept&quot;)\n    @Query(&quot;select new edu.university.management.model.StudentsPerDepartment(d.name, count(s))&quot;\n            + &quot; from Department d&quot;\n            + &quot; left join&quot;\n            + &quot; d.students s&quot;\n            + &quot; group by d.name&quot;)\n    public List&lt;StudentsPerDepartment&gt; studentCountPerDepartment();\n}\n</code></pre>\n<p>For the last service <code>studentCountPerDepartment</code> I used a class based <code>projection</code> to avoid returning an <code>array</code> of Objects,</p>\n<p>StudentsPerDepartment:</p>\n<pre><code>package edu.university.management.model;\n\n\npublic class StudentsPerDepartment {\n\n    private String departmentName;\n    private Long studentCount;\n    \n    public StudentsPerDepartment(String departmentName, Long studentCount) {\n        super();\n        this.departmentName = departmentName;\n        this.studentCount = studentCount;\n    }\n\n    public String getDepartmentName() {\n        return departmentName;\n    }\n\n    public Long getStudentCount() {\n        return studentCount;\n    }\n\n}\n</code></pre>\n<p>But when i invoke the service i get this error:</p>\n<pre><code>org.springframework.data.mapping.MappingException: Cannot get or create PersistentEntity for type edu.university.management.model.StudentsPerDepartment! PersistentEntities knows about 2 MappingContext instances and therefore cannot identify a single responsible one. Please configure the initialEntitySet through an entity scan using the base package in your configuration to pre initialize contexts.\n</code></pre>\n<p>Any ideas guys?</p>\n<p>Thank you.</p>\n"},{"tags":["java","itext7"],"answers":[{"tags":[],"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638997162,"creation_date":1638997162,"answer_id":70281637,"question_id":69991790,"body_markdown":"This does seem to be a bug in iText.\r\n\r\nAs a workaround you can provide a proper bold font instead of using the bold simulation with `setBold()`. In fact, providing a proper bold font is the recommended way of making your text look bold since bold simulation produces inferior result in terms of output quality.\r\n\r\nThe only modification needs to be done in your `Style` object since you already made use of the styles for proper reusage!\r\n\r\n```\r\nStyle style = new Style().setFont(PdfFontFactory.createFont(StandardFonts.HELVETICA_BOLD));\r\n```\r\n\r\nVisual result:\r\n\r\n[![result][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a422H.png","title":"Cells&#39; text does not render and warning &quot;Element does not fit current area&quot;","body":"<p>This does seem to be a bug in iText.</p>\n<p>As a workaround you can provide a proper bold font instead of using the bold simulation with <code>setBold()</code>. In fact, providing a proper bold font is the recommended way of making your text look bold since bold simulation produces inferior result in terms of output quality.</p>\n<p>The only modification needs to be done in your <code>Style</code> object since you already made use of the styles for proper reusage!</p>\n<pre><code>Style style = new Style().setFont(PdfFontFactory.createFont(StandardFonts.HELVETICA_BOLD));\n</code></pre>\n<p>Visual result:</p>\n<p><a href=\"https://i.stack.imgur.com/a422H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a422H.png\" alt=\"result\" /></a></p>\n"}],"owner":{"account_id":23356908,"reputation":13,"user_id":17429755,"display_name":"Eram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":973,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70281637,"answer_count":1,"score":0,"last_activity_date":1638997162,"creation_date":1637076100,"question_id":69991790,"body_markdown":"I&#39;m making a table with iText 7.2.0 (Java 8, Windows Server 2016).\r\n\r\nThe table needs to not overflow (be wider than the page), but it is OK to break cells event in the middle of a word if necessary.\r\n\r\nSome of the cell&#39;s text does not render and I get this warning:\r\n&gt; [main] WARN com.itextpdf.layout.renderer.RootRenderer - Element does not fit current area.\r\n\r\nIf I change the text just a bit (like replace &quot;i&quot; with &quot;I&quot;) it works.\r\n\r\nHow can I fix it? Is it a bug in my code or in iText?\r\n\r\n```java\r\nimport java.io.FileNotFoundException;\r\n\r\nimport com.itextpdf.kernel.pdf.PdfDocument;\r\nimport com.itextpdf.kernel.pdf.PdfWriter;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.layout.Style;\r\nimport com.itextpdf.layout.element.Cell;\r\nimport com.itextpdf.layout.element.Paragraph;\r\nimport com.itextpdf.layout.element.Table;\r\nimport com.itextpdf.layout.element.Text;\r\nimport com.itextpdf.layout.properties.UnitValue;\r\n\r\npublic class Main {\r\n\tprivate static void makeCell(Table table, Style style, String text) {\r\n\t\tCell c = new Cell();\r\n\t\tParagraph p = new Paragraph();\r\n\t\tText t = new Text(text);\r\n\t\tc.addStyle(style);\r\n\t\tp.add(t);\r\n\t\tc.add(p);\r\n\t\ttable.addCell(c);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\t\tPdfWriter writer = new PdfWriter(&quot;C:\\\\Temp\\\\test.pdf&quot;);\r\n\t\tPdfDocument pdf = new PdfDocument(writer);\r\n\t\ttry (Document document = new Document(pdf)) {\r\n\t\t\tStyle style = new Style().setBold();\r\n\t\t\tTable table = new Table(UnitValue.createPercentArray(9));\r\n\t\t\ttable.useAllAvailableWidth();\r\n\t\t\ttable.setFixedLayout();\r\n\t\t\t\r\n\t\t\tmakeCell(table, style, &quot;Description&quot;);\r\n\t\t\tmakeCell(table, style, &quot;DescrIption&quot;); /* Capital I */\r\n\t\t\tmakeCell(table, style, &quot;Description&quot;);\r\n\t\t\tmakeCell(table, style, &quot;Description&quot;);\r\n\t\t\tmakeCell(table, style, &quot;Description&quot;);\r\n\t\t\tmakeCell(table, style, &quot;DescrIption&quot;); /* Capital I */\r\n\t\t\tmakeCell(table, style, &quot;Description&quot;);\r\n\t\t\tmakeCell(table, style, &quot;Description&quot;);\r\n\t\t\tmakeCell(table, style, &quot;Description&quot;);\r\n\t\t\t\r\n\t\t\tdocument.add(table);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\n[Result][1] - The cells with &quot;Description&quot; do not render, the cell with &quot;DescrIption&quot; render.\r\n\r\n![][1]\r\n\r\n  [1]: https://i.stack.imgur.com/CYKbm.png","title":"Cells&#39; text does not render and warning &quot;Element does not fit current area&quot;","body":"<p>I'm making a table with iText 7.2.0 (Java 8, Windows Server 2016).</p>\n<p>The table needs to not overflow (be wider than the page), but it is OK to break cells event in the middle of a word if necessary.</p>\n<p>Some of the cell's text does not render and I get this warning:</p>\n<blockquote>\n<p>[main] WARN com.itextpdf.layout.renderer.RootRenderer - Element does not fit current area.</p>\n</blockquote>\n<p>If I change the text just a bit (like replace &quot;i&quot; with &quot;I&quot;) it works.</p>\n<p>How can I fix it? Is it a bug in my code or in iText?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileNotFoundException;\n\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.Style;\nimport com.itextpdf.layout.element.Cell;\nimport com.itextpdf.layout.element.Paragraph;\nimport com.itextpdf.layout.element.Table;\nimport com.itextpdf.layout.element.Text;\nimport com.itextpdf.layout.properties.UnitValue;\n\npublic class Main {\n    private static void makeCell(Table table, Style style, String text) {\n        Cell c = new Cell();\n        Paragraph p = new Paragraph();\n        Text t = new Text(text);\n        c.addStyle(style);\n        p.add(t);\n        c.add(p);\n        table.addCell(c);\n    }\n    \n    public static void main(String[] args) throws FileNotFoundException {\n        PdfWriter writer = new PdfWriter(&quot;C:\\\\Temp\\\\test.pdf&quot;);\n        PdfDocument pdf = new PdfDocument(writer);\n        try (Document document = new Document(pdf)) {\n            Style style = new Style().setBold();\n            Table table = new Table(UnitValue.createPercentArray(9));\n            table.useAllAvailableWidth();\n            table.setFixedLayout();\n            \n            makeCell(table, style, &quot;Description&quot;);\n            makeCell(table, style, &quot;DescrIption&quot;); /* Capital I */\n            makeCell(table, style, &quot;Description&quot;);\n            makeCell(table, style, &quot;Description&quot;);\n            makeCell(table, style, &quot;Description&quot;);\n            makeCell(table, style, &quot;DescrIption&quot;); /* Capital I */\n            makeCell(table, style, &quot;Description&quot;);\n            makeCell(table, style, &quot;Description&quot;);\n            makeCell(table, style, &quot;Description&quot;);\n            \n            document.add(table);\n        }\n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CYKbm.png\" rel=\"nofollow noreferrer\">Result</a> - The cells with &quot;Description&quot; do not render, the cell with &quot;DescrIption&quot; render.</p>\n<p><img src=\"https://i.stack.imgur.com/CYKbm.png\" alt=\"\" /></p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"score":1,"creation_date":1441806832,"post_id":32481345,"comment_id":52823726,"body_markdown":"Did you try finding a JAR file containing the sources? Also, are you using maven?","body":"Did you try finding a JAR file containing the sources? Also, are you using maven?"}],"answers":[{"tags":[],"owner":{"account_id":5550123,"reputation":807,"user_id":4403525,"accept_rate":40,"display_name":"Jkike"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441806643,"creation_date":1441806643,"answer_id":32481409,"question_id":32481345,"body_markdown":"You need a java decompiler, like jd-gui http://jd.benow.ca/","title":"Decompile jar file to use it as a project in intellij","body":"<p>You need a java decompiler, like jd-gui <a href=\"http://jd.benow.ca/\" rel=\"nofollow\">http://jd.benow.ca/</a></p>\n"},{"tags":[],"owner":{"account_id":1384688,"reputation":1,"user_id":2064073,"display_name":"Deepak Jangid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499384477,"creation_date":1499384477,"answer_id":44960429,"question_id":32481345,"body_markdown":"use jd-gui and copy the source code in intellij. also normally with decomiplation your code will have multiple localobject and you have to deal with it","title":"Decompile jar file to use it as a project in intellij","body":"<p>use jd-gui and copy the source code in intellij. also normally with decomiplation your code will have multiple localobject and you have to deal with it</p>\n"}],"owner":{"account_id":3879823,"reputation":743,"user_id":3212710,"accept_rate":33,"display_name":"Venkata Ramireddy CH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18333,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1638996786,"creation_date":1441806491,"question_id":32481345,"body_markdown":"I have a jar file but not source code. I had some issue with this code which is not working as expected. So I want to decompile it use it as a project in intellij. Could you please let me know how can I do that?","title":"Decompile jar file to use it as a project in intellij","body":"<p>I have a jar file but not source code. I had some issue with this code which is not working as expected. So I want to decompile it use it as a project in intellij. Could you please let me know how can I do that?</p>\n"},{"tags":["java","swing","serialization","jcombobox"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1638996385,"post_id":70281461,"comment_id":124238619,"body_markdown":"Does this answer your question? [Dynamically adding items to a JComboBox](https://stackoverflow.com/questions/7387299/dynamically-adding-items-to-a-jcombobox)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7387299/dynamically-adding-items-to-a-jcombobox\">Dynamically adding items to a JComboBox</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638996728,"post_id":70281461,"comment_id":124238727,"body_markdown":"You have at least two questions.  But, yes, if you want to update a `JComboBox`, then you need to update the `ComboBoxModel`, take a look at [`DefaultComboBoxModel`](https://docs.oracle.com/javase/10/docs/api/javax/swing/DefaultComboBoxModel.html) as starting point as this can do it for you.  Personally, when you add a new substance, I would save it to the &quot;data source&quot; first, I would then use some kind of observer pattern to generate a notification that the data source has been modified in some way so that interested parties can take appropriate actions.","body":"You have at least two questions.  But, yes, if you want to update a <code>JComboBox</code>, then you need to update the <code>ComboBoxModel</code>, take a look at <a href=\"https://docs.oracle.com/javase/10/docs/api/javax/swing/DefaultComboBoxModel.html\" rel=\"nofollow noreferrer\"><code>DefaultComboBoxModel</code></a> as starting point as this can do it for you.  Personally, when you add a new substance, I would save it to the &quot;data source&quot; first, I would then use some kind of observer pattern to generate a notification that the data source has been modified in some way so that interested parties can take appropriate actions."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638996796,"post_id":70281461,"comment_id":124238747,"body_markdown":"This suggests that either the &quot;substance data store&quot; needs to be a singleton or injected directly into all parts of the app that may need to use it (ie dependency injection).  Pros and cons to either approach.  And any case, the question is to broad and any answer would be vague and overly generalised","body":"This suggests that either the &quot;substance data store&quot; needs to be a singleton or injected directly into all parts of the app that may need to use it (ie dependency injection).  Pros and cons to either approach.  And any case, the question is to broad and any answer would be vague and overly generalised"},{"owner":{"account_id":5287137,"reputation":41,"user_id":4220735,"display_name":"Tree"},"score":0,"creation_date":1638998100,"post_id":70281461,"comment_id":124239172,"body_markdown":"@MadProgrammer I&#39;d like the data source to simply be &quot;substances.txt&quot; or something to that effect. So from what I understand, I could make the string Set of substances observable, thus if I add a substance to that Set, I could update both the `ComboBoxModel` as well as my saved &quot;substances.txt&quot; file with the new substance, given both are observers to the Set? Or do you mean that the &quot;substances.txt&quot; should be the observable? Apologies for perhaps simple questions, I&#39;m new to Swing.","body":"@MadProgrammer I&#39;d like the data source to simply be &quot;substances.txt&quot; or something to that effect. So from what I understand, I could make the string Set of substances observable, thus if I add a substance to that Set, I could update both the <code>ComboBoxModel</code> as well as my saved &quot;substances.txt&quot; file with the new substance, given both are observers to the Set? Or do you mean that the &quot;substances.txt&quot; should be the observable? Apologies for perhaps simple questions, I&#39;m new to Swing."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1638999508,"post_id":70281461,"comment_id":124239605,"body_markdown":"Conceptually, this isn&#39;t a Swing issue, this is a basic &quot;design&quot; issue (which is why software engineering has some core design patterns).  The &quot;data store&quot; or &quot;data manager&quot; would be observable, but it would be responsible for keeping the physical store up-to-date as well as managing the in memory store.  How this is done is implementation detail and for the most part, consumers of the service, won&#39;t care","body":"Conceptually, this isn&#39;t a Swing issue, this is a basic &quot;design&quot; issue (which is why software engineering has some core design patterns).  The &quot;data store&quot; or &quot;data manager&quot; would be observable, but it would be responsible for keeping the physical store up-to-date as well as managing the in memory store.  How this is done is implementation detail and for the most part, consumers of the service, won&#39;t care"}],"owner":{"account_id":5287137,"reputation":41,"user_id":4220735,"display_name":"Tree"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638996052,"creation_date":1638996052,"question_id":70281461,"body_markdown":"I&#39;m creating a medication logger in Swing, which has a custom JPanel for new entries. The panel has a few fields for time and such, one of which being the substance taken, which is just a string from a JComboBox. Substances are to be added through my own menu bar class, which collects a new substance to add from a JOptionPane input dialog. I pass the collected value to the menu bar controller, and from there, I&#39;m not sure how I would both dynamically add it to the JComboList in the new entry JPanel class so it updates the view, and also ensure that the substance is being saved to a file, so I can read that file and populate the JComboBox when opening up the application.\r\n\r\nIt seems that a possible solution would be to first load any added substances from the file on open into a Set, and then populate the selections in the JComboBox from the values in the Set. Then, when adding a substance from the menu bar, add it to both the JComboBox so the view is current, and the Set the JComboBox was created from, so that upon close, I can simply save the Set using a FileOutputStream.\r\n\r\nI&#39;m currently not defining any model for the combo box and instead simply initialize it directly from a (currently hardcoded) set, but it seems like using a MutableComboBoxModel to initialize the JComboBox and add new substances to would help me accomplish this? Is this the correct way to go about this? Or is there a better method I could try? \r\n\r\nThanks for your time.","title":"Dynamically adding, saving, and loading JComboBox items","body":"<p>I'm creating a medication logger in Swing, which has a custom JPanel for new entries. The panel has a few fields for time and such, one of which being the substance taken, which is just a string from a JComboBox. Substances are to be added through my own menu bar class, which collects a new substance to add from a JOptionPane input dialog. I pass the collected value to the menu bar controller, and from there, I'm not sure how I would both dynamically add it to the JComboList in the new entry JPanel class so it updates the view, and also ensure that the substance is being saved to a file, so I can read that file and populate the JComboBox when opening up the application.</p>\n<p>It seems that a possible solution would be to first load any added substances from the file on open into a Set, and then populate the selections in the JComboBox from the values in the Set. Then, when adding a substance from the menu bar, add it to both the JComboBox so the view is current, and the Set the JComboBox was created from, so that upon close, I can simply save the Set using a FileOutputStream.</p>\n<p>I'm currently not defining any model for the combo box and instead simply initialize it directly from a (currently hardcoded) set, but it seems like using a MutableComboBoxModel to initialize the JComboBox and add new substances to would help me accomplish this? Is this the correct way to go about this? Or is there a better method I could try?</p>\n<p>Thanks for your time.</p>\n"},{"tags":["java","floating-point","byte","unsigned"],"comments":[{"owner":{"account_id":350198,"reputation":15550,"user_id":685923,"accept_rate":70,"display_name":"Ed Staub"},"score":1,"creation_date":1318530272,"post_id":7758460,"comment_id":9444432,"body_markdown":"Every answer here is badly flawed, IMHO, because everyone is guessing that the input is in one format or another.  All that&#39;s known is that it is &quot;unsigned bytes&quot;.  Datos, you&#39;re going to have to be more explicit about the input format if you want a good answer.  For example, I could be an idiot and assume that you meant that the input is (mathematically) integers in the range 0-255.  But then why would you want to convert it to a float?  Etc... the possible guesses are endless.  Best would be some examples: show input bytes and numeric value represented.","body":"Every answer here is badly flawed, IMHO, because everyone is guessing that the input is in one format or another.  All that&#39;s known is that it is &quot;unsigned bytes&quot;.  Datos, you&#39;re going to have to be more explicit about the input format if you want a good answer.  For example, I could be an idiot and assume that you meant that the input is (mathematically) integers in the range 0-255.  But then why would you want to convert it to a float?  Etc... the possible guesses are endless.  Best would be some examples: show input bytes and numeric value represented."},{"owner":{"account_id":474882,"reputation":20894,"user_id":884862,"accept_rate":100,"display_name":"Louis Ricci"},"score":0,"creation_date":1318530801,"post_id":7758460,"comment_id":9444580,"body_markdown":"It&#39;s more troubling that an answer that&#39;s clearly wrong &quot;8 bytes for a float&quot; &quot;shifting by multiples of 4 instead of 8 bits&quot; has been voted up to the correct answer. @Ed Staub, you can come up with corner cases and force yourself to misunderstand practically anything, but normal people assume the most general/simplest solution when they hit a question that isn&#39;t completely detailed.","body":"It&#39;s more troubling that an answer that&#39;s clearly wrong &quot;8 bytes for a float&quot; &quot;shifting by multiples of 4 instead of 8 bits&quot; has been voted up to the correct answer. @Ed Staub, you can come up with corner cases and force yourself to misunderstand practically anything, but normal people assume the most general/simplest solution when they hit a question that isn&#39;t completely detailed."},{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":0,"creation_date":1318531246,"post_id":7758460,"comment_id":9444710,"body_markdown":"Voting to close, as the question is misleading and the answers even more so.","body":"Voting to close, as the question is misleading and the answers even more so."},{"owner":{"account_id":350198,"reputation":15550,"user_id":685923,"accept_rate":70,"display_name":"Ed Staub"},"score":0,"creation_date":1318531438,"post_id":7758460,"comment_id":9444759,"body_markdown":"@LastCoder - I was presenting that as an extreme case - I thought the &quot;I could be an idiot&quot; made that clear to anyone who...  The point is that the data could be coming from any kind of hardware in any kind of representation - often nothing remotely like IEEE-754.  The fact that he wants it internally represented as a float says nothing about the format on the wire.","body":"@LastCoder - I was presenting that as an extreme case - I thought the &quot;I could be an idiot&quot; made that clear to anyone who...  The point is that the data could be coming from any kind of hardware in any kind of representation - often nothing remotely like IEEE-754.  The fact that he wants it internally represented as a float says nothing about the format on the wire."}],"answers":[{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1318533138,"creation_date":1318529418,"answer_id":7758497,"question_id":7758460,"body_markdown":"Yes.  [`Float.intBitsToFloat`](http://download.oracle.com/javase/7/docs/api/java/lang/Float.html#intBitsToFloat%28int%29) takes 32 bits as an int and converts it to a float.\n\nAll you need to do first is convert your four bytes to an `int` using the normal shift and or operations appropriate to the endianness of your data.  For example,\n\n    float f = Float.intBitsToFloat(\n        (barr[0] &amp; 0xff)\n        | ((barr[1] &amp; 0xff) &lt;&lt; 8)\n        | ((barr[2] &amp; 0xff) &lt;&lt; 16)\n        | ((barr[7] &amp; 0xff) &lt;&lt; 24));\n\nYou can also use [`FloatBuffer`](http://download.oracle.com/javase/1.4.2/docs/api/java/nio/ByteBuffer.html#asFloatBuffer%28%29) depending on how you are receiving the data.\n\n&gt;     public abstract FloatBuffer asFloatBuffer()\n&gt;\n&gt; Creates a view of this byte buffer as a float buffer.\n\nNote, that &quot;the device [is] sending me data as unsigned bytes&quot; is not true.  The data is sending you bytes, and Java represents them as **signed** bytes.  Java does not have an unsigned byte type.\n\nhttp://download.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\n\n&gt; **byte**: The byte data type is an **8-bit signed** two&#39;s complement integer. It has a minimum value of -128 and a maximum value of 127 (inclusive). ","title":"How to get float from unsigned bytes in Java?","body":"<p>Yes.  <a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/Float.html#intBitsToFloat%28int%29\" rel=\"nofollow noreferrer\"><code>Float.intBitsToFloat</code></a> takes 32 bits as an int and converts it to a float.</p>\n<p>All you need to do first is convert your four bytes to an <code>int</code> using the normal shift and or operations appropriate to the endianness of your data.  For example,</p>\n<pre><code>float f = Float.intBitsToFloat(\n    (barr[0] &amp; 0xff)\n    | ((barr[1] &amp; 0xff) &lt;&lt; 8)\n    | ((barr[2] &amp; 0xff) &lt;&lt; 16)\n    | ((barr[7] &amp; 0xff) &lt;&lt; 24));\n</code></pre>\n<p>You can also use <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/nio/ByteBuffer.html#asFloatBuffer%28%29\" rel=\"nofollow noreferrer\"><code>FloatBuffer</code></a> depending on how you are receiving the data.</p>\n<blockquote>\n<pre><code>public abstract FloatBuffer asFloatBuffer()\n</code></pre>\n<p>Creates a view of this byte buffer as a float buffer.</p>\n</blockquote>\n<p>Note, that &quot;the device [is] sending me data as unsigned bytes&quot; is not true.  The data is sending you bytes, and Java represents them as <strong>signed</strong> bytes.  Java does not have an unsigned byte type.</p>\n<p><a href=\"http://download.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">http://download.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a></p>\n<blockquote>\n<p><strong>byte</strong>: The byte data type is an <strong>8-bit signed</strong> two's complement integer. It has a minimum value of -128 and a maximum value of 127 (inclusive).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":231844,"reputation":15697,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1318529490,"creation_date":1318529490,"answer_id":7758510,"question_id":7758460,"body_markdown":"How abt http://download.oracle.com/javase/1.4.2/docs/api/java/io/DataInputStream.html#readFloat() ?\r\n\r\nAlthough I would usually just lookup how it&#39;s implemented and then do it myself to avoid any overhead.","title":"How to get float from unsigned bytes in Java?","body":"<p>How abt <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/io/DataInputStream.html#readFloat\" rel=\"nofollow\">http://download.oracle.com/javase/1.4.2/docs/api/java/io/DataInputStream.html#readFloat</a>() ?</p>\n\n<p>Although I would usually just lookup how it's implemented and then do it myself to avoid any overhead.</p>\n"},{"tags":[],"owner":{"account_id":474882,"reputation":20894,"user_id":884862,"accept_rate":100,"display_name":"Louis Ricci"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1638995934,"creation_date":1318529500,"answer_id":7758511,"question_id":7758460,"body_markdown":"    Float.intBitsToFloat(int bits);\r\n\r\nTo get the int you just concatenate the bytes of the array into an integer\r\n\r\nbig-endian:\r\n\r\n    int myInt = (byte[0] &lt;&lt; 24) |\r\n    ((byte[1] &amp; 0xff) &lt;&lt; 16) |\r\n    ((byte[2] &amp; 0xff) &lt;&lt; |\r\n    (byte[3] &amp; 0xff);\r\n\r\nlittle-endian:\r\n\r\n    int myInt = (byte[3] &lt;&lt; 24) |\r\n    ((byte[2] &amp; 0xff) &lt;&lt; 16) |\r\n    ((byte[1] &amp; 0xff) &lt;&lt; |\r\n    (byte[0] &amp; 0xff);\r\n\r\n\r\nYou should have taken the 2 seconds to search google.\r\nhttps://www.google.com/?q=java+byte+array+to+float","title":"How to get float from unsigned bytes in Java?","body":"<pre><code>Float.intBitsToFloat(int bits);\n</code></pre>\n<p>To get the int you just concatenate the bytes of the array into an integer</p>\n<p>big-endian:</p>\n<pre><code>int myInt = (byte[0] &lt;&lt; 24) |\n((byte[1] &amp; 0xff) &lt;&lt; 16) |\n((byte[2] &amp; 0xff) &lt;&lt; |\n(byte[3] &amp; 0xff);\n</code></pre>\n<p>little-endian:</p>\n<pre><code>int myInt = (byte[3] &lt;&lt; 24) |\n((byte[2] &amp; 0xff) &lt;&lt; 16) |\n((byte[1] &amp; 0xff) &lt;&lt; |\n(byte[0] &amp; 0xff);\n</code></pre>\n<p>You should have taken the 2 seconds to search google.\n<a href=\"https://www.google.com/?q=java+byte+array+to+float\" rel=\"nofollow noreferrer\">https://www.google.com/?q=java+byte+array+to+float</a></p>\n"}],"owner":{"display_name":"user921275"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4828,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":7758497,"answer_count":3,"score":3,"last_activity_date":1638995934,"creation_date":1318529239,"question_id":7758460,"body_markdown":"I am communicating with some device and this device sending me data as unsigned bytes. And I need to convert these bytes to float in Java. Is there any way?\r\n\r\nThank you very much.","title":"How to get float from unsigned bytes in Java?","body":"<p>I am communicating with some device and this device sending me data as unsigned bytes. And I need to convert these bytes to float in Java. Is there any way?</p>\n\n<p>Thank you very much.</p>\n"},{"tags":["java","websocket","embedded-jetty","jetty-9"],"answers":[{"tags":[],"owner":{"account_id":6668,"reputation":2931,"user_id":11303,"accept_rate":71,"display_name":"Cosimo"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1638995756,"creation_date":1565271804,"answer_id":57414075,"question_id":57414074,"body_markdown":"By tracing back the jetty-server versions to the first one that causes this issue, I found that it&#39;s jetty-server version `9.4.16.v20190411`, whose release notes mention the following:\r\n\r\n```\r\njetty-9.4.16.v20190411 - 11 April 2019\r\n ...\r\n + 3464 Split SslContextFactory into Client and Server\r\n ...\r\n```\r\n\r\nGiven the class name, I figured I needed to add `jetty-util` to my dependencies (`pom.xml`), so I did:\r\n\r\n```\r\n&lt;!-- pom.xml --&gt;\r\n...\r\n&lt;properties&gt;\r\n  &lt;jetty.version&gt;9.4.19.v20190610&lt;/jetty.version&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n  &lt;version&gt;${jetty.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- Needed for the SSLContextFactory$Client class --&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jetty-util&lt;/artifactId&gt;\r\n  &lt;version&gt;${jetty.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nCompilation and startup now work again with the newest Jetty.\r\n","title":"org.eclipse.jetty.util.ssl.SslContextFactory$Client ClassNotFoundException upgrading to Jetty Server 9.4.16","body":"<p>By tracing back the jetty-server versions to the first one that causes this issue, I found that it's jetty-server version <code>9.4.16.v20190411</code>, whose release notes mention the following:</p>\n<pre><code>jetty-9.4.16.v20190411 - 11 April 2019\n ...\n + 3464 Split SslContextFactory into Client and Server\n ...\n</code></pre>\n<p>Given the class name, I figured I needed to add <code>jetty-util</code> to my dependencies (<code>pom.xml</code>), so I did:</p>\n<pre><code>&lt;!-- pom.xml --&gt;\n...\n&lt;properties&gt;\n  &lt;jetty.version&gt;9.4.19.v20190610&lt;/jetty.version&gt;\n&lt;/properties&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n  &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n  &lt;version&gt;${jetty.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Needed for the SSLContextFactory$Client class --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n  &lt;artifactId&gt;jetty-util&lt;/artifactId&gt;\n  &lt;version&gt;${jetty.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Compilation and startup now work again with the newest Jetty.</p>\n"}],"owner":{"account_id":6668,"reputation":2931,"user_id":11303,"accept_rate":71,"display_name":"Cosimo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7949,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57414075,"answer_count":1,"score":4,"last_activity_date":1638995756,"creation_date":1565271804,"question_id":57414074,"body_markdown":"I have a working application that&#39;s been using jetty-server version `9.4.15.v20190215`. Due to a vulnerability scan that found issues in jetty-server dependencies, I looked into upgrading my app to use jetty-server `9.4.19-v20190610`, the latest release as I&#39;m writing this.\r\n\r\nI tried to compile the application again, and I&#39;m getting this error during startup:\r\n\r\n```[2019-08-08 15:28:07.170+0200] [main] INFO  org.eclipse.jetty.util.log - Logging initialized @248ms to org.eclipse.jetty.util.log.Slf4jLog\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/eclipse/jetty/util/ssl/SslContextFactory$Client\r\n\tat org.eclipse.jetty.websocket.client.HttpClientProvider.get(HttpClientProvider.java:49)\r\n\tat org.eclipse.jetty.websocket.client.WebSocketClient.&lt;init&gt;(WebSocketClient.java:261)\r\n\tat org.eclipse.jetty.websocket.jsr356.ClientContainer.&lt;init&gt;(ClientContainer.java:140)\r\n\tat org.eclipse.jetty.websocket.jsr356.server.ServerContainer.&lt;init&gt;(ServerContainer.java:94)\r\n\tat org.eclipse.jetty.websocket.jsr356.server.deploy.WebSocketServerContainerInitializer.configureContext(WebSocketServerContainerInitializer.java:152)\r\n\tat it.kahoot.merlin.jetty.JettyServer.main(JettyServer.java:53)\r\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jetty.util.ssl.SslContextFactory$Client\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\t... 6 more\r\n```\r\n\r\nI understand the class `org.eclipse.jetty.util.ssl.SslContextFactory$Client` is not found anymore.\r\n\r\nHow do I proceed?\r\n","title":"org.eclipse.jetty.util.ssl.SslContextFactory$Client ClassNotFoundException upgrading to Jetty Server 9.4.16","body":"<p>I have a working application that's been using jetty-server version <code>9.4.15.v20190215</code>. Due to a vulnerability scan that found issues in jetty-server dependencies, I looked into upgrading my app to use jetty-server <code>9.4.19-v20190610</code>, the latest release as I'm writing this.</p>\n\n<p>I tried to compile the application again, and I'm getting this error during startup:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/eclipse/jetty/util/ssl/SslContextFactory$Client\n    at org.eclipse.jetty.websocket.client.HttpClientProvider.get(HttpClientProvider.java:49)\n    at org.eclipse.jetty.websocket.client.WebSocketClient.&lt;init&gt;(WebSocketClient.java:261)\n    at org.eclipse.jetty.websocket.jsr356.ClientContainer.&lt;init&gt;(ClientContainer.java:140)\n    at org.eclipse.jetty.websocket.jsr356.server.ServerContainer.&lt;init&gt;(ServerContainer.java:94)\n    at org.eclipse.jetty.websocket.jsr356.server.deploy.WebSocketServerContainerInitializer.configureContext(WebSocketServerContainerInitializer.java:152)\n    at it.kahoot.merlin.jetty.JettyServer.main(JettyServer.java:53)\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jetty.util.ssl.SslContextFactory$Client\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 6 more\n</code></pre>\n\n<p>I understand the class <code>org.eclipse.jetty.util.ssl.SslContextFactory$Client</code> is not found anymore.</p>\n\n<p>How do I proceed?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638995650,"creation_date":1638995650,"answer_id":70281398,"question_id":70278889,"body_markdown":"So a current number should be printed in its line, then it is excluded and all the following numbers are printed, with the current number passed on as a prefix to be included in further printings.\r\n\r\nThe number of sets is 2&lt;sup&gt;n&lt;/sup&gt; - 1, where `n` is the length of the input array.\r\n\r\nThus, the following recursive solution can be developed:\r\n```java\r\nstatic void printSubArray(int ... arr) {\r\n    printSubArray(&quot;&quot;, -1, arr);\r\n}\r\n\r\nstatic void printSubArray(String prefix, int ix, int ... arr) {\r\n    for (int i = ix + 1; i &lt; arr.length; i++) {\r\n        System.out.println(prefix + arr[i]);\r\n        printSubArray(prefix + arr[i] + &quot; &quot;, i, arr);\r\n    }\r\n}\r\n```\r\nFor the input `printSubArray(1, 2, 3)` it prints:\r\n```\r\n1\r\n1 2\r\n1 2 3\r\n1 3\r\n2\r\n2 3\r\n3\r\n```\r\nFor the input `printSubArray(1, 2, 3, 4)` it prints:\r\n```java\r\n1\r\n1 2\r\n1 2 3\r\n1 2 3 4\r\n1 2 4\r\n1 3\r\n1 3 4\r\n1 4\r\n2\r\n2 3\r\n2 3 4\r\n2 4\r\n3\r\n3 4\r\n4\r\n```","title":"Printing all possible sub array from define array","body":"<p>So a current number should be printed in its line, then it is excluded and all the following numbers are printed, with the current number passed on as a prefix to be included in further printings.</p>\n<p>The number of sets is 2<sup>n</sup> - 1, where <code>n</code> is the length of the input array.</p>\n<p>Thus, the following recursive solution can be developed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void printSubArray(int ... arr) {\n    printSubArray(&quot;&quot;, -1, arr);\n}\n\nstatic void printSubArray(String prefix, int ix, int ... arr) {\n    for (int i = ix + 1; i &lt; arr.length; i++) {\n        System.out.println(prefix + arr[i]);\n        printSubArray(prefix + arr[i] + &quot; &quot;, i, arr);\n    }\n}\n</code></pre>\n<p>For the input <code>printSubArray(1, 2, 3)</code> it prints:</p>\n<pre><code>1\n1 2\n1 2 3\n1 3\n2\n2 3\n3\n</code></pre>\n<p>For the input <code>printSubArray(1, 2, 3, 4)</code> it prints:</p>\n<pre class=\"lang-java prettyprint-override\"><code>1\n1 2\n1 2 3\n1 2 3 4\n1 2 4\n1 3\n1 3 4\n1 4\n2\n2 3\n2 3 4\n2 4\n3\n3 4\n4\n</code></pre>\n"}],"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638995650,"creation_date":1638982740,"question_id":70278889,"body_markdown":"I am trying to print all possible sub array from define list. For doing that I am using below code\r\n\r\n    static void printSubArray(int arr[]) {\r\n    \t\tint n = arr.length;\r\n    \r\n    \t\tfor (int i = 0; i &lt; n; i++) {\r\n    \t\t\tfor (int j = i; j &lt; n; j++) {\r\n    \t\t\t\tfor (int k = i; k &lt;= j; k++) {\r\n    \t\t\t\t\tSystem.out.print(arr[k] + &quot; &quot;);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tSystem.out.println();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\nTried above code some extend its working but not printing all the possible array. \r\nFor example please find below example:\r\n\r\nInput:: \r\nint a[] = { 1, 2, 3 };\r\n\r\nOutput::\r\n\r\n    1 \r\n    1 2 \r\n    1 2 3 \r\n    2 \r\n    2 3 \r\n    3 \r\n\r\nAs we can see in the output few of the subarray is missing like 1, 3.\r\n\r\nCan some one please  help on this\r\n","title":"Printing all possible sub array from define array","body":"<p>I am trying to print all possible sub array from define list. For doing that I am using below code</p>\n<pre><code>static void printSubArray(int arr[]) {\n        int n = arr.length;\n\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = i; j &lt; n; j++) {\n                for (int k = i; k &lt;= j; k++) {\n                    System.out.print(arr[k] + &quot; &quot;);\n                }\n\n                System.out.println();\n            }\n        }\n    }\n</code></pre>\n<p>Tried above code some extend its working but not printing all the possible array.\nFor example please find below example:</p>\n<p>Input::\nint a[] = { 1, 2, 3 };</p>\n<p>Output::</p>\n<pre><code>1 \n1 2 \n1 2 3 \n2 \n2 3 \n3 \n</code></pre>\n<p>As we can see in the output few of the subarray is missing like 1, 3.</p>\n<p>Can some one please  help on this</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":472002,"reputation":2120,"user_id":880181,"accept_rate":75,"display_name":"Tanim reja"},"score":0,"creation_date":1460203603,"post_id":36516402,"comment_id":60638533,"body_markdown":"post your nav_view xml code please..","body":"post your nav_view xml code please.."},{"owner":{"account_id":472002,"reputation":2120,"user_id":880181,"accept_rate":75,"display_name":"Tanim reja"},"score":0,"creation_date":1460203796,"post_id":36516402,"comment_id":60638594,"body_markdown":"are u sure that your user_email is not empty","body":"are u sure that your user_email is not empty"},{"owner":{"account_id":7883066,"reputation":975,"user_id":5956259,"accept_rate":53,"display_name":"Vaibhav Agarwal"},"score":0,"creation_date":1460204353,"post_id":36516402,"comment_id":60638756,"body_markdown":"@Tanimreja I have been able to remove the duplicity of navigation header by removing &quot;app:headerLayout=&quot;@layout/nav_header_home_screen&quot; from nav view xml. I guess I was inflating it twice, both in xml as well as in java.....but email is still not working..user_email gets value from edittext view in another activity..","body":"@Tanimreja I have been able to remove the duplicity of navigation header by removing &quot;app:headerLayout=&quot;@layout/nav_header_home_screen&quot; from nav view xml. I guess I was inflating it twice, both in xml as well as in java.....but email is still not working..user_email gets value from edittext view in another activity.."},{"owner":{"account_id":472002,"reputation":2120,"user_id":880181,"accept_rate":75,"display_name":"Tanim reja"},"score":0,"creation_date":1460205031,"post_id":36516402,"comment_id":60638981,"body_markdown":"if you added that header view in xml then dont need to inflate it again in java code... make sure that u are getting value of user_email from shardpreference .... using debug or Log.e..","body":"if you added that header view in xml then dont need to inflate it again in java code... make sure that u are getting value of user_email from shardpreference .... using debug or Log.e.."}],"answers":[{"tags":[],"owner":{"account_id":6233118,"reputation":239,"user_id":4849200,"accept_rate":70,"display_name":"Waylan Punch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523352158,"creation_date":1466957831,"answer_id":38040542,"question_id":36516402,"body_markdown":"Use this:\r\n\r\n    View navheaderView = navigationView.getHeaderView(0);","title":"Navigation header inflating twice on programmatically setting textview","body":"<p>Use this:</p>\n\n<pre><code>View navheaderView = navigationView.getHeaderView(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13087385,"reputation":45,"user_id":9455972,"display_name":"Lavanya Manoj"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1523352117,"creation_date":1523348328,"answer_id":49748688,"question_id":36516402,"body_markdown":"Use the code below. It works for me.\r\n\r\n    View navheaderView =  navigationView.inflateHeaderView(R.layout.nav_header_home_screen);\r\n    navigationView.addHeaderView(navheaderView);","title":"Navigation header inflating twice on programmatically setting textview","body":"<p>Use the code below. It works for me.</p>\n\n<pre><code>View navheaderView =  navigationView.inflateHeaderView(R.layout.nav_header_home_screen);\nnavigationView.addHeaderView(navheaderView);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22367965,"reputation":1,"user_id":16583449,"display_name":"Neil Kabara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638995613,"creation_date":1638995613,"answer_id":70281392,"question_id":36516402,"body_markdown":"Try doing this:\r\n\r\nView navheaderView = navigationView.inflateHeaderView(R.layout.nav_header_home_screen, false);","title":"Navigation header inflating twice on programmatically setting textview","body":"<p>Try doing this:</p>\n<p>View navheaderView = navigationView.inflateHeaderView(R.layout.nav_header_home_screen, false);</p>\n"}],"owner":{"account_id":7883066,"reputation":975,"user_id":5956259,"accept_rate":53,"display_name":"Vaibhav Agarwal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":681,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1638995613,"creation_date":1460202905,"question_id":36516402,"body_markdown":"I am trying to set up Name and email textview in navigation header in default Navigation Activity using `inflateHeaderView`. However, this is causing the header to inflate twice (one on the another). Also, email is not appearing in the navigation header programmatically. I have used same method for name textview and it works fine. Here is my &quot;HomeScreen.java&quot; code:\r\n\r\n    public class HomeScreen extends AppCompatActivity\r\n            implements NavigationView.OnNavigationItemSelectedListener {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_home_screen);\r\n            Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n            toolbar.setTitle(&quot;ThirdEye&quot;);\r\n            setSupportActionBar(toolbar);\r\n    \r\n            DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n            ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                    this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n            drawer.setDrawerListener(toggle);\r\n            toggle.syncState();\r\n    \r\n            NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);\r\n            navigationView.setNavigationItemSelectedListener(this);\r\n    \r\n            //programmatically setting navigation header name and email:\r\n            View navheaderView = navigationView.inflateHeaderView(R.layout.nav_header_home_screen);\r\n            TextView userName = (TextView) navheaderView.findViewById(R.id.navheader_name);\r\n            TextView userEmail = (TextView) navheaderView.findViewById(R.id.email);\r\n            SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(getApplication());\r\n            String user_name = sharedPreferences.getString(&quot;username&quot;, &quot;&quot;);\r\n            String user_email = sharedPreferences.getString(&quot;user_email&quot;,&quot;&quot;);\r\n            userName.setText(user_name);\r\n            userEmail.setText(user_email);\r\n    \r\n        }\r\n\r\nAny helps??","title":"Navigation header inflating twice on programmatically setting textview","body":"<p>I am trying to set up Name and email textview in navigation header in default Navigation Activity using <code>inflateHeaderView</code>. However, this is causing the header to inflate twice (one on the another). Also, email is not appearing in the navigation header programmatically. I have used same method for name textview and it works fine. Here is my \"HomeScreen.java\" code:</p>\n\n<pre><code>public class HomeScreen extends AppCompatActivity\n        implements NavigationView.OnNavigationItemSelectedListener {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home_screen);\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n        toolbar.setTitle(\"ThirdEye\");\n        setSupportActionBar(toolbar);\n\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n                this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n        drawer.setDrawerListener(toggle);\n        toggle.syncState();\n\n        NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);\n        navigationView.setNavigationItemSelectedListener(this);\n\n        //programmatically setting navigation header name and email:\n        View navheaderView = navigationView.inflateHeaderView(R.layout.nav_header_home_screen);\n        TextView userName = (TextView) navheaderView.findViewById(R.id.navheader_name);\n        TextView userEmail = (TextView) navheaderView.findViewById(R.id.email);\n        SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(getApplication());\n        String user_name = sharedPreferences.getString(\"username\", \"\");\n        String user_email = sharedPreferences.getString(\"user_email\",\"\");\n        userName.setText(user_name);\n        userEmail.setText(user_email);\n\n    }\n</code></pre>\n\n<p>Any helps??</p>\n"},{"tags":["java","spring-boot","model-view-controller","multipartfile"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":1,"creation_date":1638992016,"post_id":70280107,"comment_id":124237236,"body_markdown":"Does this answer your question? [How to set &#39;Content-Disposition&#39; and &#39;Filename&#39; when using FileSystemResource to force a file download file?](https://stackoverflow.com/questions/16601428/how-to-set-content-disposition-and-filename-when-using-filesystemresource-to)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16601428/how-to-set-content-disposition-and-filename-when-using-filesystemresource-to\">How to set &#39;Content-Disposition&#39; and &#39;Filename&#39; when using FileSystemResource to force a file download file?</a>"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638995461,"creation_date":1638994429,"answer_id":70281175,"question_id":70280107,"body_markdown":"Please try this, comments inline:\r\n\r\n\tpackage com.example;\r\n\r\n\timport java.io.IOException;\r\n\timport java.security.Principal;\r\n\timport java.util.Date;\r\n\timport org.apache.commons.io.IOUtils;\r\n\timport org.springframework.core.io.FileSystemResource;\r\n\timport org.springframework.http.HttpHeaders;\r\n\timport org.springframework.http.HttpStatus;\r\n\timport org.springframework.http.MediaType;\r\n\timport org.springframework.http.ResponseEntity;\r\n\timport org.springframework.stereotype.Controller;\r\n\timport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n\r\n\t@Controller\r\n\tpublic class SomeController {\r\n\r\n\t  @GetMapping(\r\n\t\t  value = &quot;/get-image-with-media-type&quot;,\r\n\t\t  produces = MediaType.IMAGE_JPEG_VALUE\r\n\t  ) // we can inject user like this (can be null, when not secured):\r\n\t  public ResponseEntity&lt;byte[]&gt; getImageWithMediaType(Principal user) throws IOException {\r\n\t\t// XXXResource is the &quot;spring way&quot;, FileSystem- alternatively: ClassPath-, ServletContext-, ...\r\n\t\tFileSystemResource fsr = new FileSystemResource(&quot;/path/to/some/image.jpg&quot;);\r\n\t\tHttpHeaders responseHeaders = new HttpHeaders();\r\n\t\tresponseHeaders.set(HttpHeaders.CONTENT_DISPOSITION,\r\n\t\t\t// for direct downlad &quot;inline&quot;, for &quot;save as&quot; dialog &quot;attachment&quot; (browser dependent)\r\n\t\t\t// filename placeholders: %1$s: user id string, 2$tY: year 4 digits, 2$tm: month 2 digits, %2$td day of month 2 digits\r\n\t\t\tString.format(&quot;inline; filename=\\&quot;%1$s-%2$tY-%2$tm-%2$td-image.jpg\\&quot;&quot;,\r\n\t\t\t\t// user name, current (server) date:\r\n\t\t\t\tuser == null ? &quot;anonymous&quot; : user.getName(), new Date()));\r\n\r\n        // and fire:\r\n\t\treturn new ResponseEntity&lt;&gt;(\r\n            IOUtils.toByteArray(fsr.getInputStream()),\r\n            responseHeaders,\r\n            HttpStatus.OK\r\n\t\t);\r\n\t  }\r\n\t}\r\n\r\nRelevant reference:\r\n\r\n- [Method Arguments(Principal)](https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-arguments)\r\n- [Formatter](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html)\r\n- [ResponseEntity(+ headers sample)](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html)\r\n- [RFC2616](https://www.w3.org/Protocols/rfc2616/rfc2616-sec19.html) (Section 19.5.1 Content-Disposition)\r\n\r\nWith `ContentDisposition` it can look (just) like:\r\n\r\n    responseHeaders.setContentDisposition(\r\n      ContentDisposition\r\n        .inline()// or .attachment()\r\n        .filename(// format file name:\r\n          String.format(\r\n            &quot;%1$s-%2$tY-%2$tm-%2$td-image.jpg&quot;,\r\n            user == null ? &quot;anonymous&quot; : user.getName(),\r\n            new Date()\r\n          )\r\n        )\r\n        .build()\r\n    );\r\n\r\nTYVM: https://stackoverflow.com/q/16601428/592355\r\n","title":"Can Spring Boot set the name of a file being downloaded from a controller endpoint?","body":"<p>Please try this, comments inline:</p>\n<pre><code>package com.example;\n\nimport java.io.IOException;\nimport java.security.Principal;\nimport java.util.Date;\nimport org.apache.commons.io.IOUtils;\nimport org.springframework.core.io.FileSystemResource;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n\n@Controller\npublic class SomeController {\n\n  @GetMapping(\n      value = &quot;/get-image-with-media-type&quot;,\n      produces = MediaType.IMAGE_JPEG_VALUE\n  ) // we can inject user like this (can be null, when not secured):\n  public ResponseEntity&lt;byte[]&gt; getImageWithMediaType(Principal user) throws IOException {\n    // XXXResource is the &quot;spring way&quot;, FileSystem- alternatively: ClassPath-, ServletContext-, ...\n    FileSystemResource fsr = new FileSystemResource(&quot;/path/to/some/image.jpg&quot;);\n    HttpHeaders responseHeaders = new HttpHeaders();\n    responseHeaders.set(HttpHeaders.CONTENT_DISPOSITION,\n        // for direct downlad &quot;inline&quot;, for &quot;save as&quot; dialog &quot;attachment&quot; (browser dependent)\n        // filename placeholders: %1$s: user id string, 2$tY: year 4 digits, 2$tm: month 2 digits, %2$td day of month 2 digits\n        String.format(&quot;inline; filename=\\&quot;%1$s-%2$tY-%2$tm-%2$td-image.jpg\\&quot;&quot;,\n            // user name, current (server) date:\n            user == null ? &quot;anonymous&quot; : user.getName(), new Date()));\n\n    // and fire:\n    return new ResponseEntity&lt;&gt;(\n        IOUtils.toByteArray(fsr.getInputStream()),\n        responseHeaders,\n        HttpStatus.OK\n    );\n  }\n}\n</code></pre>\n<p>Relevant reference:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-arguments\" rel=\"nofollow noreferrer\">Method Arguments(Principal)</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html\" rel=\"nofollow noreferrer\">ResponseEntity(+ headers sample)</a></li>\n<li><a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec19.html\" rel=\"nofollow noreferrer\">RFC2616</a> (Section 19.5.1 Content-Disposition)</li>\n</ul>\n<p>With <code>ContentDisposition</code> it can look (just) like:</p>\n<pre><code>responseHeaders.setContentDisposition(\n  ContentDisposition\n    .inline()// or .attachment()\n    .filename(// format file name:\n      String.format(\n        &quot;%1$s-%2$tY-%2$tm-%2$td-image.jpg&quot;,\n        user == null ? &quot;anonymous&quot; : user.getName(),\n        new Date()\n      )\n    )\n    .build()\n);\n</code></pre>\n<p>TYVM: <a href=\"https://stackoverflow.com/q/16601428/592355\">How to set &#39;Content-Disposition&#39; and &#39;Filename&#39; when using FileSystemResource to force a file download file?</a></p>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2441,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70281175,"answer_count":1,"score":4,"last_activity_date":1638995461,"creation_date":1638988646,"question_id":70280107,"body_markdown":"Java 11 and Spring Boot 2.5.x here. I understand that I can set up a controller to return the contents of a file like so:\r\n```\r\n@GetMapping(\r\n  value = &quot;/get-image-with-media-type&quot;,\r\n  produces = MediaType.IMAGE_JPEG_VALUE\r\n)\r\npublic @ResponseBody byte[] getImageWithMediaType() throws IOException {\r\n    InputStream in = getClass()\r\n      .getResourceAsStream(&quot;/path/to/some/image.jpg&quot;);\r\n    return IOUtils.toByteArray(in);\r\n}\r\n```\r\n\r\nBut what if I want to control the name of the file that is sent back? For instance, on the server-side the file name might be stored as &quot;_image.jpg_&quot; but say I want to have it returned as &quot;`&lt;userId&gt;-&lt;YYYY-mm-DD&gt;-image.jpg`&quot;, where `&lt;userId&gt;` is the user ID of the authenticated user making the request, and where `&lt;YYYY-mm-DD&gt;` is the date the request is made at?\r\n\r\nFor instance, if user 123 made the request on 12/10/2021, the file would be downloaded as &quot;_123-2021-12-10-image.jpg_&quot; and if user 234 made the request on 1/17/2022 it would be downloaded as &quot;_234-2022-01-17-image.jpg_&quot;. Is this possible to control on the Spring/Java/server-side, or is it up to the HTTP client (browser, PostMan, whatever) to decide on the file name?","title":"Can Spring Boot set the name of a file being downloaded from a controller endpoint?","body":"<p>Java 11 and Spring Boot 2.5.x here. I understand that I can set up a controller to return the contents of a file like so:</p>\n<pre><code>@GetMapping(\n  value = &quot;/get-image-with-media-type&quot;,\n  produces = MediaType.IMAGE_JPEG_VALUE\n)\npublic @ResponseBody byte[] getImageWithMediaType() throws IOException {\n    InputStream in = getClass()\n      .getResourceAsStream(&quot;/path/to/some/image.jpg&quot;);\n    return IOUtils.toByteArray(in);\n}\n</code></pre>\n<p>But what if I want to control the name of the file that is sent back? For instance, on the server-side the file name might be stored as &quot;<em>image.jpg</em>&quot; but say I want to have it returned as &quot;<code>&lt;userId&gt;-&lt;YYYY-mm-DD&gt;-image.jpg</code>&quot;, where <code>&lt;userId&gt;</code> is the user ID of the authenticated user making the request, and where <code>&lt;YYYY-mm-DD&gt;</code> is the date the request is made at?</p>\n<p>For instance, if user 123 made the request on 12/10/2021, the file would be downloaded as &quot;<em>123-2021-12-10-image.jpg</em>&quot; and if user 234 made the request on 1/17/2022 it would be downloaded as &quot;<em>234-2022-01-17-image.jpg</em>&quot;. Is this possible to control on the Spring/Java/server-side, or is it up to the HTTP client (browser, PostMan, whatever) to decide on the file name?</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":7978180,"reputation":2736,"user_id":6020610,"accept_rate":60,"display_name":"Amarjit Dhillon"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1510226349,"creation_date":1510226349,"answer_id":47200504,"question_id":47197744,"body_markdown":"The number of slots is typically proportional to the number of available CPU cores of each TaskManager. As a general recommendation, the number of available CPU cores is a good default for taskmanager.numberOfTaskSlots.\r\n","title":"Confused about FLINK task slot","body":"<p>The number of slots is typically proportional to the number of available CPU cores of each TaskManager. As a general recommendation, the number of available CPU cores is a good default for taskmanager.numberOfTaskSlots.</p>\n"},{"tags":[],"owner":{"account_id":10032250,"reputation":305,"user_id":9644934,"display_name":"Janukowitsch"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1532071195,"creation_date":1532071195,"answer_id":51437155,"question_id":47197744,"body_markdown":"The answer might come late. But:\r\n\r\nA Taskmanager (TM) is a JVM process, whereas a Taskslot (TS) is a Thread within the respective JVM process (TM). The managed memory of a TM is equally split up between the TS within a TM. No CPU isolation happens between the slots, just the managed memory is divided.\r\nMoreover, TS in the same TM share TCP connections (via multiplexing) and heartbeat messages. They may also share data sets and data structures, thus reducing the per-task overhead.\r\n\r\nSource: https://ci.apache.org/projects/flink/flink-docs-release-1.5/concepts/runtime.html#task-slots-and-resources","title":"Confused about FLINK task slot","body":"<p>The answer might come late. But:</p>\n\n<p>A Taskmanager (TM) is a JVM process, whereas a Taskslot (TS) is a Thread within the respective JVM process (TM). The managed memory of a TM is equally split up between the TS within a TM. No CPU isolation happens between the slots, just the managed memory is divided.\nMoreover, TS in the same TM share TCP connections (via multiplexing) and heartbeat messages. They may also share data sets and data structures, thus reducing the per-task overhead.</p>\n\n<p>Source: <a href=\"https://ci.apache.org/projects/flink/flink-docs-release-1.5/concepts/runtime.html#task-slots-and-resources\" rel=\"noreferrer\">https://ci.apache.org/projects/flink/flink-docs-release-1.5/concepts/runtime.html#task-slots-and-resources</a></p>\n"},{"tags":[],"owner":{"account_id":972674,"reputation":211,"user_id":994874,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548243739,"creation_date":1548243739,"answer_id":54326479,"question_id":47197744,"body_markdown":"Each worker (TaskManager) is a JVM process, and may execute one or more subtasks in separate threads. To control how many tasks a worker accepts, a worker has so called task slots (at least one).\r\n\r\nhttps://ci.apache.org/projects/flink/flink-docs-master/concepts/runtime.html#task-slots-and-resources\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gaBq1.png","title":"Confused about FLINK task slot","body":"<p>Each worker (TaskManager) is a JVM process, and may execute one or more subtasks in separate threads. To control how many tasks a worker accepts, a worker has so called task slots (at least one).</p>\n\n<p><a href=\"https://ci.apache.org/projects/flink/flink-docs-master/concepts/runtime.html#task-slots-and-resources\" rel=\"nofollow noreferrer\">https://ci.apache.org/projects/flink/flink-docs-master/concepts/runtime.html#task-slots-and-resources</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/gaBq1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gaBq1.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":2475686,"reputation":196,"user_id":2156384,"accept_rate":25,"display_name":"Qoobee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573181345,"creation_date":1573181345,"answer_id":58759678,"question_id":47197744,"body_markdown":"@Janukowitsch&#39;s answer is good.\r\nAdditionally, a TS represents a fixed subset of resources of the TM. One TS can take **more than 1 thread**. Actually one subtask/task is executed by one thread. Multiple subtasks/tasks can be deployed in the same slot.","title":"Confused about FLINK task slot","body":"<p>@Janukowitsch's answer is good.\nAdditionally, a TS represents a fixed subset of resources of the TM. One TS can take <strong>more than 1 thread</strong>. Actually one subtask/task is executed by one thread. Multiple subtasks/tasks can be deployed in the same slot.</p>\n"},{"tags":[],"owner":{"account_id":134196,"reputation":1462,"user_id":336152,"accept_rate":50,"display_name":"Alex Fedulov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638995379,"creation_date":1638995379,"answer_id":70281350,"question_id":47197744,"body_markdown":"I would like to address some inconsistencies in the previous answers:\r\n\r\n&gt; TaskSlot is a Thread \r\n\r\nWith default settings TaskSlot != Thread. TaskSlot = Thread only if slot sharing is disabled. Slot sharing is an optimization that is on by default and, in most cases, you would want to keep it that way. It is more precise to say that each Operator Chain gets a separate Thread [[1]] spawn for its execution. \r\n\r\n&gt;a TS represents a fixed subset of resources of the TM\r\n\r\nThis is not the case. A Task Slot is purely a scheduling concept that gives some control over how many Operators or Operator Chains will be placed on which task manager. There is no guaranteed allocation of a fixed set of resources to a Task Slot. For instance, if you have a Task Manager with 5 cores and 5GB of RAM which is assigned two Task Slots, those slots will be &quot;competing&quot; for both the CPU and the memory - they are not split in any fixed manner.\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/concepts/flink-architecture/#task-slots-and-resources","title":"Confused about FLINK task slot","body":"<p>I would like to address some inconsistencies in the previous answers:</p>\n<blockquote>\n<p>TaskSlot is a Thread</p>\n</blockquote>\n<p>With default settings TaskSlot != Thread. TaskSlot = Thread only if slot sharing is disabled. Slot sharing is an optimization that is on by default and, in most cases, you would want to keep it that way. It is more precise to say that each Operator Chain gets a separate Thread [<a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/concepts/flink-architecture/#task-slots-and-resources\" rel=\"nofollow noreferrer\">1</a>] spawn for its execution.</p>\n<blockquote>\n<p>a TS represents a fixed subset of resources of the TM</p>\n</blockquote>\n<p>This is not the case. A Task Slot is purely a scheduling concept that gives some control over how many Operators or Operator Chains will be placed on which task manager. There is no guaranteed allocation of a fixed set of resources to a Task Slot. For instance, if you have a Task Manager with 5 cores and 5GB of RAM which is assigned two Task Slots, those slots will be &quot;competing&quot; for both the CPU and the memory - they are not split in any fixed manner.</p>\n"}],"owner":{"account_id":3260129,"reputation":2839,"user_id":2745856,"accept_rate":83,"display_name":"Brutal_JL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6715,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":51437155,"answer_count":5,"score":9,"last_activity_date":1638995379,"creation_date":1510218390,"question_id":47197744,"body_markdown":"I know a task manager could have several task slots. \r\n\r\nBut, what is a task slot ? A JVM process or an object in memory or a thread?","title":"Confused about FLINK task slot","body":"<p>I know a task manager could have several task slots. </p>\n\n<p>But, what is a task slot ? A JVM process or an object in memory or a thread?</p>\n"},{"tags":["java","spring-boot","api","rest","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":9728098,"reputation":161,"user_id":7214251,"display_name":"Granit Krasniqi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638995203,"creation_date":1638995203,"answer_id":70281308,"question_id":70277946,"body_markdown":"Based on my understanding of your requirements, a possible solution could be creating another entity (table) MovieSeatReservation and creating a One to Many relationship from your Entity. It could look like this: (You can replace Entity class name with your real entity name)\r\n\r\n    @Entity\r\n    public class Entity {\r\n        \r\n        @Id\r\n        @GeneratedValue\r\n        private Long movieId;\r\n        private String movieName;\r\n        private String cinemaName;\r\n        private String cinemaHall;\r\n        @OneToMany\r\n        private List&lt;MovieSeatReservation&gt; reservedSeatsStatus;\r\n    \r\n        // getters and setters\r\n    }\r\n\r\n    @Entity\r\n    public class MovieSeatReservation {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n     \r\n        private boolean isReserved;\r\n     \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;movie_id&quot;)\r\n        private Entity entity;\r\n    \r\n        // getters and setters\r\n    \r\n    }","title":"How to send ArrayList or Sets&lt;Integer&gt; as list filtering in Request Body or URL in PUT Request","body":"<p>Based on my understanding of your requirements, a possible solution could be creating another entity (table) MovieSeatReservation and creating a One to Many relationship from your Entity. It could look like this: (You can replace Entity class name with your real entity name)</p>\n<pre><code>@Entity\npublic class Entity {\n    \n    @Id\n    @GeneratedValue\n    private Long movieId;\n    private String movieName;\n    private String cinemaName;\n    private String cinemaHall;\n    @OneToMany\n    private List&lt;MovieSeatReservation&gt; reservedSeatsStatus;\n\n    // getters and setters\n}\n\n@Entity\npublic class MovieSeatReservation {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n \n    private boolean isReserved;\n \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;movie_id&quot;)\n    private Entity entity;\n\n    // getters and setters\n\n}\n</code></pre>\n"}],"owner":{"account_id":13532979,"reputation":21,"user_id":17627206,"display_name":"Szymon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638995203,"creation_date":1638978971,"question_id":70277946,"body_markdown":"I&#39;m trying to write a controller that will function as multiple seat reservation.The Integers list is used for filtering.\r\nMy Entity looks like this:\r\n```\r\n@Entity\r\n@Id\r\nprivate movieId;\r\nprivate String movieName;\r\nprivate String cinemaName;\r\nprivate String cinemaHall;\r\nprivate Intger seatingPlace;\r\nprivate boolean booked;\r\n```\r\nHow Can I pass list or sets in request body to access multiple update seatingPlace. Did I modyfing Enity or connect in smthing relation?\r\n\r\nAcutally my multipleUpdate API works using JPA Query findByMovieNameAndCinemaNameAndcinemaHall and return me list wchich \r\nI checking isnt Empty and cheking (field boolean booked) if true so ok u can booked them.\r\nAnd after that i want filter by passing List seatingPlace and change  boolen to false.\r\n\r\n\r\n","title":"How to send ArrayList or Sets&lt;Integer&gt; as list filtering in Request Body or URL in PUT Request","body":"<p>I'm trying to write a controller that will function as multiple seat reservation.The Integers list is used for filtering.\nMy Entity looks like this:</p>\n<pre><code>@Entity\n@Id\nprivate movieId;\nprivate String movieName;\nprivate String cinemaName;\nprivate String cinemaHall;\nprivate Intger seatingPlace;\nprivate boolean booked;\n</code></pre>\n<p>How Can I pass list or sets in request body to access multiple update seatingPlace. Did I modyfing Enity or connect in smthing relation?</p>\n<p>Acutally my multipleUpdate API works using JPA Query findByMovieNameAndCinemaNameAndcinemaHall and return me list wchich\nI checking isnt Empty and cheking (field boolean booked) if true so ok u can booked them.\nAnd after that i want filter by passing List seatingPlace and change  boolen to false.</p>\n"},{"tags":["java","selenium","testing","websocket","automation-testing"],"comments":[{"owner":{"account_id":352743,"reputation":2565,"user_id":689991,"accept_rate":91,"display_name":"Quazi Irfan"},"score":0,"creation_date":1638995451,"post_id":70281279,"comment_id":124238309,"body_markdown":"We need to see the code in question.","body":"We need to see the code in question."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1638996124,"post_id":70281279,"comment_id":124238528,"body_markdown":"The server does the receiving, so you can&#39;t do that client side.  You&#39;d need access to the server-side code to verify that a message was received from the client.  (which is where Selenium is... it controls the browser which is the client) If there is a response back from the server that is processed and populated in the DOM you can check that client-side.  In general, websockets would be used for things like chats or other multi-user interactions.","body":"The server does the receiving, so you can&#39;t do that client side.  You&#39;d need access to the server-side code to verify that a message was received from the client.  (which is where Selenium is... it controls the browser which is the client) If there is a response back from the server that is processed and populated in the DOM you can check that client-side.  In general, websockets would be used for things like chats or other multi-user interactions."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1638996471,"post_id":70281279,"comment_id":124238651,"body_markdown":"You could collect what&#39;s going out of the client, but that does not guarantee that the server received it.  &quot;Wireshark&quot; might be good for that.  Did they at least give you a format/structure for the data being sent here?","body":"You could collect what&#39;s going out of the client, but that does not guarantee that the server received it.  &quot;Wireshark&quot; might be good for that.  Did they at least give you a format/structure for the data being sent here?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1638998673,"post_id":70281279,"comment_id":124239316,"body_markdown":"I found some code here that would at least check for websocket received, websocket sent on the client side.  Local and remote webdrivers have different methods for this: https://gist.github.com/sahajamit/c2d6827736f2b267a8d08c41e559ad24","body":"I found some code here that would at least check for websocket received, websocket sent on the client side.  Local and remote webdrivers have different methods for this: <a href=\"https://gist.github.com/sahajamit/c2d6827736f2b267a8d08c41e559ad24\" rel=\"nofollow noreferrer\">gist.github.com/sahajamit/c2d6827736f2b267a8d08c41e559ad24</a>"}],"owner":{"account_id":23591873,"reputation":1,"user_id":17629534,"display_name":"JG3ro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638995059,"creation_date":1638995059,"question_id":70281279,"body_markdown":"I&#39;m working on a project where I am being required to automate some tests using JAVA. I need to validate that an event message is being received each time that an action is performed.\r\n\r\nI asked the developer about it and told me the messages are sent in a payload each time an action is done (eg. click on a button) and is being sent through websockets. \r\n\r\nI&#39;m kind of new since I used to be a manual tester, but is it possible to get those messages?","title":"Getting an event message from a payload from the sockets","body":"<p>I'm working on a project where I am being required to automate some tests using JAVA. I need to validate that an event message is being received each time that an action is performed.</p>\n<p>I asked the developer about it and told me the messages are sent in a payload each time an action is done (eg. click on a button) and is being sent through websockets.</p>\n<p>I'm kind of new since I used to be a manual tester, but is it possible to get those messages?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1638994020,"post_id":70281077,"comment_id":124237860,"body_markdown":"Did you check what `inputWithSpaces` is for `&quot;7+54&quot;`?","body":"Did you check what <code>inputWithSpaces</code> is for <code>&quot;7+54&quot;</code>?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638994082,"post_id":70281077,"comment_id":124237886,"body_markdown":"Your &quot;space injection&quot; workflow is making `7+54` into `7 + 5 4`, so it&#39;s not working.  I&#39;d suggesting using a `Scanner` instead","body":"Your &quot;space injection&quot; workflow is making <code>7+54</code> into <code>7 + 5 4</code>, so it&#39;s not working.  I&#39;d suggesting using a <code>Scanner</code> instead"},{"owner":{"account_id":23350243,"reputation":29,"user_id":17423907,"display_name":"JOEGREEN"},"score":0,"creation_date":1638994131,"post_id":70281077,"comment_id":124237901,"body_markdown":"i think it convert it into &quot;7 + 5 4&quot;","body":"i think it convert it into &quot;7 + 5 4&quot;"},{"owner":{"account_id":23350243,"reputation":29,"user_id":17423907,"display_name":"JOEGREEN"},"score":0,"creation_date":1638994248,"post_id":70281077,"comment_id":124237931,"body_markdown":"@MadProgrammer could u give me more info about using Scanner in this case?","body":"@MadProgrammer could u give me more info about using Scanner in this case?"},{"owner":{"account_id":198018,"reputation":8276,"user_id":442451,"accept_rate":100,"display_name":"GriffeyDog"},"score":0,"creation_date":1638994303,"post_id":70281077,"comment_id":124237951,"body_markdown":"Why don&#39;t you just split the original input string on the four operators (+-*/), instead of injecting spaces?","body":"Why don&#39;t you just split the original input string on the four operators (+-*/), instead of injecting spaces?"},{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":0,"creation_date":1638995361,"post_id":70281077,"comment_id":124238279,"body_markdown":"Even if you got the answer you looking for, ill suggest you to use javascript engine for these kind of calcs. \n\nSystem.out.println(new ScriptEngineManager().getEngineByName(&quot;JavaScript&quot;).eval(input));","body":"Even if you got the answer you looking for, ill suggest you to use javascript engine for these kind of calcs.   System.out.println(new ScriptEngineManager().getEngineByName(&quot;JavaScript&quot;).eval(inp&zwnj;&#8203;ut));"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638994223,"creation_date":1638994223,"answer_id":70281137,"question_id":70281077,"body_markdown":"### Issue\r\n\r\n&gt;  the compiler does not recognize &quot;4&quot;\r\n\r\nNot at all, only your code is a fault `sum[2]` takes one char, the `5`, not `54`. If you have given `12+15` it wouldn&#39;t have worked at all.\r\n\r\n---\r\n\r\n### Solution\r\n\r\nThe **minimal** change would be the regex `\\D` for non-digit. It would put spaces around the operator \r\n\r\n    input.replaceAll(&quot;\\\\D&quot;, &quot; $0 &quot;)\r\n\r\n    &quot;15+50&quot;   &gt;&gt;   [&quot;15&quot;, &quot;+&quot;, &quot;50&quot;]\r\n\r\n\r\nThe **best** would be to directly split the 3 parts\r\n\r\n\r\n    String input = &quot;15+50&quot;;\r\n    String[] sum = input.split(&quot;(?=\\\\D)|(?&lt;=\\\\D)&quot;);\r\n\r\n    long num1 = Integer.parseInt(sum[0]);\r\n    String operator = sum[1];\r\n    long num2 = Integer.parseInt(sum[2]);\r\n\r\n    switch (operator.charAt(0)) {\r\n        case &#39;+&#39; -&gt; System.out.println(num1 + num2);\r\n        case &#39;-&#39; -&gt; System.out.println(num1 - num2);\r\n        case &#39;*&#39; -&gt; System.out.println(num1 * num2);\r\n        default -&gt; System.out.println(num1 / num2);\r\n    }\r\n\r\n","title":"A question about a single-line calculator in java?","body":"<h3>Issue</h3>\n<blockquote>\n<p>the compiler does not recognize &quot;4&quot;</p>\n</blockquote>\n<p>Not at all, only your code is a fault <code>sum[2]</code> takes one char, the <code>5</code>, not <code>54</code>. If you have given <code>12+15</code> it wouldn't have worked at all.</p>\n<hr />\n<h3>Solution</h3>\n<p>The <strong>minimal</strong> change would be the regex <code>\\D</code> for non-digit. It would put spaces around the operator</p>\n<pre><code>input.replaceAll(&quot;\\\\D&quot;, &quot; $0 &quot;)\n\n&quot;15+50&quot;   &gt;&gt;   [&quot;15&quot;, &quot;+&quot;, &quot;50&quot;]\n</code></pre>\n<p>The <strong>best</strong> would be to directly split the 3 parts</p>\n<pre><code>String input = &quot;15+50&quot;;\nString[] sum = input.split(&quot;(?=\\\\D)|(?&lt;=\\\\D)&quot;);\n\nlong num1 = Integer.parseInt(sum[0]);\nString operator = sum[1];\nlong num2 = Integer.parseInt(sum[2]);\n\nswitch (operator.charAt(0)) {\n    case '+' -&gt; System.out.println(num1 + num2);\n    case '-' -&gt; System.out.println(num1 - num2);\n    case '*' -&gt; System.out.println(num1 * num2);\n    default -&gt; System.out.println(num1 / num2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638994300,"creation_date":1638994300,"answer_id":70281153,"question_id":70281077,"body_markdown":"You should split before and after non-digits.\r\n\r\nReplace:\r\n\r\n    String inputWithSpaces = input.replaceAll(&quot;.(?=.)&quot;, &quot;$0 &quot;);\r\n    String sum[] =inputWithSpaces .split(&quot; &quot;);\r\n\r\nWith:\r\n\r\n    String sum[] = input.split(&quot;(?=\\\\D)|(?&lt;=\\\\D)&quot;);\r\n\r\nRegex breakdown:\r\n\r\n- `(?=\\\\D)` means &quot;the next character is a non-digit&quot;\r\n- `|` is the regex logical `OR` operator\r\n- `(?&lt;=\\\\D)` means &quot;the preceding character is a non-digit&quot;\r\n\r\n","title":"A question about a single-line calculator in java?","body":"<p>You should split before and after non-digits.</p>\n<p>Replace:</p>\n<pre><code>String inputWithSpaces = input.replaceAll(&quot;.(?=.)&quot;, &quot;$0 &quot;);\nString sum[] =inputWithSpaces .split(&quot; &quot;);\n</code></pre>\n<p>With:</p>\n<pre><code>String sum[] = input.split(&quot;(?=\\\\D)|(?&lt;=\\\\D)&quot;);\n</code></pre>\n<p>Regex breakdown:</p>\n<ul>\n<li><code>(?=\\\\D)</code> means &quot;the next character is a non-digit&quot;</li>\n<li><code>|</code> is the regex logical <code>OR</code> operator</li>\n<li><code>(?&lt;=\\\\D)</code> means &quot;the preceding character is a non-digit&quot;</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638994806,"creation_date":1638994806,"answer_id":70281244,"question_id":70281077,"body_markdown":"I think most people forget that `Scanner` is meant for parsing mixed input, not just user input.\r\n\r\nFor example, you could easily verify and parse your input using something like...\r\n\r\n    String input = &quot;7+54&quot;;\r\n\r\n    Scanner parser = new Scanner(input).useDelimiter(&quot;&quot;);\r\n    if (!parser.hasNextInt()) {\r\n        System.out.println(&quot;Expecting int value&quot;);\r\n        return;\r\n    }\r\n    int lhs = parser.nextInt();\r\n\r\n    if (!parser.hasNext()) {\r\n        System.out.println(&quot;Expecting operator&quot;);\r\n        return;\r\n    }\r\n    String operator = parser.next();\r\n\r\n    if (!parser.hasNextInt()) {\r\n        System.out.println(&quot;Expecting int value&quot;);\r\n        return;\r\n    }\r\n    int rhs = parser.nextInt();\r\n\r\n    System.out.println(lhs + &quot; &quot; + operator + &quot; &quot; + rhs);\r\n\r\nWhich will output `7 + 54`","title":"A question about a single-line calculator in java?","body":"<p>I think most people forget that <code>Scanner</code> is meant for parsing mixed input, not just user input.</p>\n<p>For example, you could easily verify and parse your input using something like...</p>\n<pre><code>String input = &quot;7+54&quot;;\n\nScanner parser = new Scanner(input).useDelimiter(&quot;&quot;);\nif (!parser.hasNextInt()) {\n    System.out.println(&quot;Expecting int value&quot;);\n    return;\n}\nint lhs = parser.nextInt();\n\nif (!parser.hasNext()) {\n    System.out.println(&quot;Expecting operator&quot;);\n    return;\n}\nString operator = parser.next();\n\nif (!parser.hasNextInt()) {\n    System.out.println(&quot;Expecting int value&quot;);\n    return;\n}\nint rhs = parser.nextInt();\n\nSystem.out.println(lhs + &quot; &quot; + operator + &quot; &quot; + rhs);\n</code></pre>\n<p>Which will output <code>7 + 54</code></p>\n"}],"owner":{"account_id":23350243,"reputation":29,"user_id":17423907,"display_name":"JOEGREEN"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70281137,"answer_count":3,"score":0,"last_activity_date":1638994806,"creation_date":1638993890,"question_id":70281077,"body_markdown":"so, I was trying to solve a question about creating a single line calculator on code forces that takes the input in just one line as following &quot;1+2&quot; and outputs the answer 3 \r\nmy code works fine with single digits \r\nbut when it comes to double digits as the following :\r\n&quot;7+54&quot; gives &quot;12&quot; and that indicates that the compiler does not recognize &quot;4&quot; so why is that happening ?\r\n\r\nalso, I want to note that the accepted format of the calculator on code forces is for example &#39;1+2&#39; not     &quot;1 + 2&quot; that is why I used this line of code```String inputWithSpaces = input.replaceAll(&quot;.(?=.)&quot;, &quot;$0 &quot;); ```that separates between the string characters with spaces. I did that because if i wrote &quot;1+2&quot;no spaces\r\nthis gave me error\r\n\r\n\r\n\r\n\r\n\r\n```\r\nimport java.util.*;\r\n \r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    Scanner in = new Scanner(System.in);\r\n      \r\n String input = in.nextLine();\r\n        String inputWithSpaces = input.replaceAll(&quot;.(?=.)&quot;, &quot;$0 &quot;); // this code gives spaces to string input to be accepted in parseINT\r\n            String sum[] =inputWithSpaces .split(&quot; &quot;);\r\n            /*  i took the whole expression in one single string line then i splitted it and\r\nstored it in an array called sum , then by parseInt i was able to identify the type of each element in the arrays indexes\r\ni couldnot identify the operator as char as i cant convert string into char so , i used char O=operator.charAt(0) to conv the string into\r\nchar\r\n \r\n             */\r\n \r\n            long num1 = Integer.parseInt(sum[0]);\r\n            String operator = sum[1];\r\n            long num2 = Integer.parseInt(sum[2]);\r\n \r\n            char O = operator.charAt(0);  \r\n            switch (O) {\r\n                case &#39;+&#39;:\r\n                    System.out.println(num1 + num2);\r\n                    break;\r\n                case &#39;-&#39;:\r\n                    System.out.println(num1 - num2);\r\n                    break;\r\n                case &#39;*&#39;:\r\n                    System.out.println(num1 * num2);\r\n                    break;\r\n                default:\r\n                    System.out.println(num1 / num2);\r\n                    break;\r\n            }\r\n  }\r\n} \r\n```\r\n","title":"A question about a single-line calculator in java?","body":"<p>so, I was trying to solve a question about creating a single line calculator on code forces that takes the input in just one line as following &quot;1+2&quot; and outputs the answer 3\nmy code works fine with single digits\nbut when it comes to double digits as the following :\n&quot;7+54&quot; gives &quot;12&quot; and that indicates that the compiler does not recognize &quot;4&quot; so why is that happening ?</p>\n<p>also, I want to note that the accepted format of the calculator on code forces is for example '1+2' not     &quot;1 + 2&quot; that is why I used this line of code<code>String inputWithSpaces = input.replaceAll(&quot;.(?=.)&quot;, &quot;$0 &quot;); </code>that separates between the string characters with spaces. I did that because if i wrote &quot;1+2&quot;no spaces\nthis gave me error</p>\n<pre><code>import java.util.*;\n \npublic class Main {\n  public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n      \n String input = in.nextLine();\n        String inputWithSpaces = input.replaceAll(&quot;.(?=.)&quot;, &quot;$0 &quot;); // this code gives spaces to string input to be accepted in parseINT\n            String sum[] =inputWithSpaces .split(&quot; &quot;);\n            /*  i took the whole expression in one single string line then i splitted it and\nstored it in an array called sum , then by parseInt i was able to identify the type of each element in the arrays indexes\ni couldnot identify the operator as char as i cant convert string into char so , i used char O=operator.charAt(0) to conv the string into\nchar\n \n             */\n \n            long num1 = Integer.parseInt(sum[0]);\n            String operator = sum[1];\n            long num2 = Integer.parseInt(sum[2]);\n \n            char O = operator.charAt(0);  \n            switch (O) {\n                case '+':\n                    System.out.println(num1 + num2);\n                    break;\n                case '-':\n                    System.out.println(num1 - num2);\n                    break;\n                case '*':\n                    System.out.println(num1 * num2);\n                    break;\n                default:\n                    System.out.println(num1 / num2);\n                    break;\n            }\n  }\n} \n</code></pre>\n"},{"tags":["java","plugins","enums","minecraft","noclassdeffounderror"],"comments":[{"owner":{"account_id":352743,"reputation":2565,"user_id":689991,"accept_rate":91,"display_name":"Quazi Irfan"},"score":0,"creation_date":1638995320,"post_id":70281228,"comment_id":124238267,"body_markdown":"Please show the content of `&lt;dependency&gt;` tag from you maven build file.","body":"Please show the content of <code>&lt;dependency&gt;</code> tag from you maven build file."},{"owner":{"account_id":22988680,"reputation":65,"user_id":17114506,"display_name":"Sebastian Sole"},"score":0,"creation_date":1638995589,"post_id":70281228,"comment_id":124238351,"body_markdown":"`\n        &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;inventive-repo&lt;/id&gt;\n      &lt;url&gt;https://repo.inventivetalent.org/content/groups/public&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n      &lt;id&gt;jitpack.io&lt;/id&gt;\n      &lt;url&gt;https://jitpack.io&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n`\n\n\nI dont know how to format this...","body":"`         &lt;repositories&gt;     &lt;repository&gt;       &lt;id&gt;inventive-repo&lt;/id&gt;       &lt;url&gt;<a href=\"https://repo.inventivetalent.org/content/groups/public&lt;/url\" rel=\"nofollow noreferrer\">repo.inventivetalent.org/content/groups/public&lt;/url</a>&gt;     &lt;/repository&gt;     &lt;repository&gt;       &lt;id&gt;jitpack.io&lt;/id&gt;       &lt;url&gt;<a href=\"https://jitpack.io&lt;/url\" rel=\"nofollow noreferrer\">jitpack.io&lt;/url</a>&gt;     &lt;/repository&gt;   &lt;/repositories&gt; `   I dont know how to format this..."},{"owner":{"account_id":352743,"reputation":2565,"user_id":689991,"accept_rate":91,"display_name":"Quazi Irfan"},"score":0,"creation_date":1638996282,"post_id":70281228,"comment_id":124238576,"body_markdown":"Please update your question instead of adding to comment. Also, I find the the xml to add GlowAPI github repo through jitpack is [different](https://pastebin.com/ttWDbGWe) form what you&#39;ve posted.","body":"Please update your question instead of adding to comment. Also, I find the the xml to add GlowAPI github repo through jitpack is <a href=\"https://pastebin.com/ttWDbGWe\" rel=\"nofollow noreferrer\">different</a> form what you&#39;ve posted."},{"owner":{"account_id":22988680,"reputation":65,"user_id":17114506,"display_name":"Sebastian Sole"},"score":0,"creation_date":1638997000,"post_id":70281228,"comment_id":124238830,"body_markdown":"I have already done this. This is what I have done from the beginning","body":"I have already done this. This is what I have done from the beginning"},{"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"score":0,"creation_date":1653654163,"post_id":70281228,"comment_id":127909018,"body_markdown":"Does this answer your question? [What causes and what are the differences between NoClassDefFoundError and ClassNotFoundException?](https://stackoverflow.com/questions/1457863/what-causes-and-what-are-the-differences-between-noclassdeffounderror-and-classn)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1457863/what-causes-and-what-are-the-differences-between-noclassdeffounderror-and-classn\">What causes and what are the differences between NoClassDefFoundError and ClassNotFoundException?</a>"}],"owner":{"account_id":22988680,"reputation":65,"user_id":17114506,"display_name":"Sebastian Sole"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638994710,"creation_date":1638994710,"question_id":70281228,"body_markdown":"I am creating a spigot plugin and using an API called GlowAPI. The command I am trying to run is GlowAPI.setGlowing(Player player, GlowAPI.Color color, Collection&lt;? extends Player&gt; receivers). \r\n\r\nThe command is able to be called, but crashes when trying to get the GlowAPI.Color (which is a public static enum in the same package as the GlowAPI class), because &quot;NoClassDefError&quot;. Below are snippets of my calls, my pom.xml, GlowAPI&#39;s enum and my error.\r\n\r\nMy Error:\r\n\r\n`[21:54:48] [Server thread/WARN]: [MinecraftManhunt] Task #5 for MinecraftManhunt v1.3.3.9 generated an exception\r\njava.lang.NoClassDefFoundError: Could not initialize class org.inventivetalent.glow.GlowAPI$Color\r\n\tat com.yoonicode.minecraftmanhuntplus.TaskManager.showGlow(TaskManager.java:92) ~[?:?]\r\n\tat com.yoonicode.minecraftmanhuntplus.PluginCommands$5.run(PluginCommands.java:178) ~[?:?]\r\n\tat org.bukkit.craftbukkit.v1_18_R1.scheduler.CraftTask.run(CraftTask.java:82) ~[spigot-1.18-R0.1-SNAPSHOT.jar:3342-Spigot-3c40a6c-03b7252]\r\n\tat org.bukkit.craftbukkit.v1_18_R1.scheduler.CraftScheduler.mainThreadHeartbeat(CraftScheduler.java:415) ~[spigot-1.18-R0.1-SNAPSHOT.jar:3342-Spigot-3c40a6c-03b7252]\r\n\tat net.minecraft.server.MinecraftServer.b(MinecraftServer.java:1255) ~[spigot-1.18-R0.1-SNAPSHOT.jar:3342-Spigot-3c40a6c-03b7252]\r\n\tat net.minecraft.server.dedicated.DedicatedServer.b(DedicatedServer.java:428) ~[spigot-1.18-R0.1-SNAPSHOT.jar:3342-Spigot-3c40a6c-03b7252]\r\n\tat net.minecraft.server.MinecraftServer.a(MinecraftServer.java:1206) ~[spigot-1.18-R0.1-SNAPSHOT.jar:3342-Spigot-3c40a6c-03b7252]\r\n\tat net.minecraft.server.MinecraftServer.w(MinecraftServer.java:1034) ~[spigot-1.18-R0.1-SNAPSHOT.jar:3342-Spigot-3c40a6c-03b7252]\r\n\tat net.minecraft.server.MinecraftServer.lambda$0(MinecraftServer.java:304) ~[spigot-1.18-R0.1-SNAPSHOT.jar:3342-Spigot-3c40a6c-03b7252]\r\n\tat java.lang.Thread.run(Thread.java:833) [?:?]\r\n`\r\n\r\nMy Call:\r\n\r\n        \r\n        for (Player player : main.runners)\r\n            GlowAPI.setGlowing(player, Color.GREEN, main.runners);\r\n        for (Player player : main.hunters)\r\n            GlowAPI.setGlowing(player, Color.GREEN, main.hunters);\r\n\r\n\r\nI don&#39;t understand why this is not working. The GlowAPI.setGlowing() is being called, but it can&#39;t seem to use the Color enum. \r\n\r\nMy pom.xml:\r\n\r\n        &lt;repository&gt;\r\n            &lt;id&gt;inventive-repo&lt;/id&gt;\r\n            &lt;url&gt;https://repo.inventivetalent.org/content/groups/public&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jitpack.io&lt;/id&gt;\r\n            &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n\r\nTheir enum:\r\n        \r\n        public static enum Color {\r\n        BLACK(0, &quot;0&quot;),\r\n        DARK_BLUE(1, &quot;1&quot;),\r\n        DARK_GREEN(2, &quot;2&quot;),\r\n        DARK_AQUA(3, &quot;3&quot;),\r\n        DARK_RED(4, &quot;4&quot;),\r\n        DARK_PURPLE(5, &quot;5&quot;),\r\n        GOLD(6, &quot;6&quot;),\r\n        GRAY(7, &quot;7&quot;),\r\n        DARK_GRAY(8, &quot;8&quot;),\r\n        BLUE(9, &quot;9&quot;),\r\n        GREEN(10, &quot;a&quot;),\r\n        AQUA(11, &quot;b&quot;),\r\n        RED(12, &quot;c&quot;),\r\n        PURPLE(13, &quot;d&quot;),\r\n        YELLOW(14, &quot;e&quot;),\r\n        WHITE(15, &quot;f&quot;),\r\n        NONE(-1, &quot;&quot;);\r\n\r\nI&#39;ve never come across this error and I don&#39;t know what I&#39;m doing wrong or why this is being thrown. How can I fix this?","title":"NoClassDefError when accessing an Enum (org.inventivetalent.glow)","body":"<p>I am creating a spigot plugin and using an API called GlowAPI. The command I am trying to run is GlowAPI.setGlowing(Player player, GlowAPI.Color color, Collection&lt;? extends Player&gt; receivers).</p>\n<p>The command is able to be called, but crashes when trying to get the GlowAPI.Color (which is a public static enum in the same package as the GlowAPI class), because &quot;NoClassDefError&quot;. Below are snippets of my calls, my pom.xml, GlowAPI's enum and my error.</p>\n<p>My Error:</p>\n<p><code>[21:54:48] [Server thread/WARN]: [MinecraftManhunt] Task #5 for MinecraftManhunt v1.3.3.9 generated an exception java.lang.NoClassDefFoundError: Could not initialize class org.inventivetalent.glow.GlowAPI$Color at com.yoonicode.minecraftmanhuntplus.TaskManager.showGlow(TaskManager.java:92) ~[?:?] at com.yoonicode.minecraftmanhuntplus.PluginCommands$5.run(PluginCommands.java:178) ~[?:?] at org.bukkit.craftbukkit.v1_18_R1.scheduler.CraftTask.run(CraftTask.java:82) ~[spigot-1.18-R0.1-SNAPSHOT.jar:3342-Spigot-3c40a6c-03b7252] at org.bukkit.craftbukkit.v1_18_R1.scheduler.CraftScheduler.mainThreadHeartbeat(CraftScheduler.java:415) ~[spigot-1.18-R0.1-SNAPSHOT.jar:3342-Spigot-3c40a6c-03b7252] at net.minecraft.server.MinecraftServer.b(MinecraftServer.java:1255) ~[spigot-1.18-R0.1-SNAPSHOT.jar:3342-Spigot-3c40a6c-03b7252] at net.minecraft.server.dedicated.DedicatedServer.b(DedicatedServer.java:428) ~[spigot-1.18-R0.1-SNAPSHOT.jar:3342-Spigot-3c40a6c-03b7252] at net.minecraft.server.MinecraftServer.a(MinecraftServer.java:1206) ~[spigot-1.18-R0.1-SNAPSHOT.jar:3342-Spigot-3c40a6c-03b7252] at net.minecraft.server.MinecraftServer.w(MinecraftServer.java:1034) ~[spigot-1.18-R0.1-SNAPSHOT.jar:3342-Spigot-3c40a6c-03b7252] at net.minecraft.server.MinecraftServer.lambda$0(MinecraftServer.java:304) ~[spigot-1.18-R0.1-SNAPSHOT.jar:3342-Spigot-3c40a6c-03b7252] at java.lang.Thread.run(Thread.java:833) [?:?] </code></p>\n<p>My Call:</p>\n<pre><code>    for (Player player : main.runners)\n        GlowAPI.setGlowing(player, Color.GREEN, main.runners);\n    for (Player player : main.hunters)\n        GlowAPI.setGlowing(player, Color.GREEN, main.hunters);\n</code></pre>\n<p>I don't understand why this is not working. The GlowAPI.setGlowing() is being called, but it can't seem to use the Color enum.</p>\n<p>My pom.xml:</p>\n<pre><code>    &lt;repository&gt;\n        &lt;id&gt;inventive-repo&lt;/id&gt;\n        &lt;url&gt;https://repo.inventivetalent.org/content/groups/public&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;jitpack.io&lt;/id&gt;\n        &lt;url&gt;https://jitpack.io&lt;/url&gt;\n    &lt;/repository&gt;\n</code></pre>\n<p>Their enum:</p>\n<pre><code>    public static enum Color {\n    BLACK(0, &quot;0&quot;),\n    DARK_BLUE(1, &quot;1&quot;),\n    DARK_GREEN(2, &quot;2&quot;),\n    DARK_AQUA(3, &quot;3&quot;),\n    DARK_RED(4, &quot;4&quot;),\n    DARK_PURPLE(5, &quot;5&quot;),\n    GOLD(6, &quot;6&quot;),\n    GRAY(7, &quot;7&quot;),\n    DARK_GRAY(8, &quot;8&quot;),\n    BLUE(9, &quot;9&quot;),\n    GREEN(10, &quot;a&quot;),\n    AQUA(11, &quot;b&quot;),\n    RED(12, &quot;c&quot;),\n    PURPLE(13, &quot;d&quot;),\n    YELLOW(14, &quot;e&quot;),\n    WHITE(15, &quot;f&quot;),\n    NONE(-1, &quot;&quot;);\n</code></pre>\n<p>I've never come across this error and I don't know what I'm doing wrong or why this is being thrown. How can I fix this?</p>\n"},{"tags":["java","android","bitmap","opengl-es"],"answers":[{"tags":[],"owner":{"account_id":5577567,"reputation":3383,"user_id":4420543,"accept_rate":56,"display_name":"andras"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1635326594,"creation_date":1485984368,"answer_id":41990056,"question_id":41982577,"body_markdown":"**First**\r\n\r\nBitmap to texture\r\n\r\nSource: \r\n\r\nhttp://www.learnopengles.com/android-lesson-four-introducing-basic-texturing/\r\n\r\n````\r\n\r\n  public static int loadTexture(final Context context, final int resourceId){\r\n\r\n    final int[] textureHandle = new int[1];\r\n \r\n    GLES20.glGenTextures(1, textureHandle, 0);\r\n \r\n    if (textureHandle[0] != 0)\r\n    {\r\n        final BitmapFactory.Options options = new BitmapFactory.Options();\r\n        options.inScaled = false;   // No pre-scaling\r\n \r\n        // Read in the resource\r\n        final Bitmap bitmap = BitmapFactory.decodeResource(context.getResources(), resourceId, options);\r\n \r\n        // Bind to the texture in OpenGL\r\n        GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, textureHandle[0]);\r\n \r\n        // Set filtering\r\n        GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MIN_FILTER, GLES20.GL_NEAREST);\r\n        GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MAG_FILTER, GLES20.GL_NEAREST);\r\n \r\n        // Load the bitmap into the bound texture.\r\n        GLUtils.texImage2D(GLES20.GL_TEXTURE_2D, 0, bitmap, 0);\r\n \r\n        // Recycle the bitmap, since its data has been loaded into OpenGL.\r\n        bitmap.recycle();\r\n    }\r\n \r\n    if (textureHandle[0] == 0)\r\n    {\r\n        throw new RuntimeException(&quot;Error loading texture.&quot;);\r\n    }\r\n \r\n    return textureHandle[0];\r\n}\r\n````\r\n\r\n\r\nTexture to bitmap:\r\n\r\nSource: \r\n\r\nhttps://stackoverflow.com/questions/24421290/how-do-you-convert-opengl-texture-back-to-bitmap-in-android\r\n\r\n**Second**\r\n\r\nThere is also a save option in the SO link I linked.","title":"OpenGL on Android - Convert a Bitmap to a Texture, and save a Texture","body":"<p><strong>First</strong></p>\n<p>Bitmap to texture</p>\n<p>Source:</p>\n<p><a href=\"http://www.learnopengles.com/android-lesson-four-introducing-basic-texturing/\" rel=\"nofollow noreferrer\">http://www.learnopengles.com/android-lesson-four-introducing-basic-texturing/</a></p>\n<pre><code>\n  public static int loadTexture(final Context context, final int resourceId){\n\n    final int[] textureHandle = new int[1];\n \n    GLES20.glGenTextures(1, textureHandle, 0);\n \n    if (textureHandle[0] != 0)\n    {\n        final BitmapFactory.Options options = new BitmapFactory.Options();\n        options.inScaled = false;   // No pre-scaling\n \n        // Read in the resource\n        final Bitmap bitmap = BitmapFactory.decodeResource(context.getResources(), resourceId, options);\n \n        // Bind to the texture in OpenGL\n        GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, textureHandle[0]);\n \n        // Set filtering\n        GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MIN_FILTER, GLES20.GL_NEAREST);\n        GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MAG_FILTER, GLES20.GL_NEAREST);\n \n        // Load the bitmap into the bound texture.\n        GLUtils.texImage2D(GLES20.GL_TEXTURE_2D, 0, bitmap, 0);\n \n        // Recycle the bitmap, since its data has been loaded into OpenGL.\n        bitmap.recycle();\n    }\n \n    if (textureHandle[0] == 0)\n    {\n        throw new RuntimeException(&quot;Error loading texture.&quot;);\n    }\n \n    return textureHandle[0];\n}\n</code></pre>\n<p>Texture to bitmap:</p>\n<p>Source:</p>\n<p><a href=\"https://stackoverflow.com/questions/24421290/how-do-you-convert-opengl-texture-back-to-bitmap-in-android\">How do you convert opengl texture back to bitmap in android?</a></p>\n<p><strong>Second</strong></p>\n<p>There is also a save option in the SO link I linked.</p>\n"},{"tags":[],"owner":{"account_id":5297962,"reputation":474,"user_id":4228589,"display_name":"Michael N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638994170,"creation_date":1638994170,"answer_id":70281124,"question_id":41982577,"body_markdown":"Here&#39;s a Kotlin version of Mohamed&#39;s answer\r\n\r\n\r\n    /**\r\n     * Load Texture from Bitmap\r\n     **/\r\n    \r\n    fun loadTexture(context: Context, resourceId: Int) : Int {\r\n    \r\n        val textureHandle : IntArray = IntArray(1)\r\n    \r\n        GLES20.glGenTextures(1, textureHandle, 0)\r\n    \r\n        if (textureHandle[0] != 0)\r\n        {\r\n            val options : BitmapFactory.Options = BitmapFactory.Options()\r\n            \r\n            options.inScaled = false   // No pre-scaling\r\n    \r\n            // Read in the resource\r\n            \r\n            val bitmap = BitmapFactory.decodeResource(context.getResources(), resourceId, options)\r\n    \r\n            // Bind to the texture in OpenGL\r\n            \r\n            GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, textureHandle[0])\r\n    \r\n            // Set filtering\r\n    \r\n            GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MIN_FILTER, GLES20.GL_NEAREST)\r\n            GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MAG_FILTER, GLES20.GL_NEAREST)\r\n    \r\n            // Load the bitmap into the bound texture.\r\n    \r\n            GLUtils.texImage2D(GLES20.GL_TEXTURE_2D, 0, bitmap, 0)\r\n    \r\n            // Recycle the bitmap, since its data has been loaded into OpenGL.\r\n    \r\n            bitmap.recycle()\r\n    \r\n        }\r\n    \r\n        if (textureHandle[0] == 0) {\r\n    \r\n            throw RuntimeException(&quot;Error loading texture.&quot;)\r\n    \r\n        }\r\n    \r\n        return textureHandle[0]\r\n    \r\n    }","title":"OpenGL on Android - Convert a Bitmap to a Texture, and save a Texture","body":"<p>Here's a Kotlin version of Mohamed's answer</p>\n<pre><code>/**\n * Load Texture from Bitmap\n **/\n\nfun loadTexture(context: Context, resourceId: Int) : Int {\n\n    val textureHandle : IntArray = IntArray(1)\n\n    GLES20.glGenTextures(1, textureHandle, 0)\n\n    if (textureHandle[0] != 0)\n    {\n        val options : BitmapFactory.Options = BitmapFactory.Options()\n        \n        options.inScaled = false   // No pre-scaling\n\n        // Read in the resource\n        \n        val bitmap = BitmapFactory.decodeResource(context.getResources(), resourceId, options)\n\n        // Bind to the texture in OpenGL\n        \n        GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, textureHandle[0])\n\n        // Set filtering\n\n        GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MIN_FILTER, GLES20.GL_NEAREST)\n        GLES20.glTexParameteri(GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MAG_FILTER, GLES20.GL_NEAREST)\n\n        // Load the bitmap into the bound texture.\n\n        GLUtils.texImage2D(GLES20.GL_TEXTURE_2D, 0, bitmap, 0)\n\n        // Recycle the bitmap, since its data has been loaded into OpenGL.\n\n        bitmap.recycle()\n\n    }\n\n    if (textureHandle[0] == 0) {\n\n        throw RuntimeException(&quot;Error loading texture.&quot;)\n\n    }\n\n    return textureHandle[0]\n\n}\n</code></pre>\n"}],"owner":{"account_id":10155659,"reputation":21,"user_id":7500827,"display_name":"TheMagicDon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7522,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1638994170,"creation_date":1485960403,"question_id":41982577,"body_markdown":"Me and my team are currently developping an Android app to do fast live and non-live image processing.\r\n\r\nWe are facing two problems:\r\n\r\nFirst, we would like to convert a Bitmap into a Texture to process the picture with OpenGL shaders, and then convert it back into a Bitmap. We tried some implementations unsuccesfully, as using the GLUtils.texImage2D function inside a SurfaceTexture and a Renderer. \r\n\r\nOur second problem is that we don&#39;t currently know how to save a Texture on our live camera activity. We use an OnFrameAvailableListener in which we process the images. But as for now, we can&#39;t keep the original Texture. \r\n\r\nWe hope someone can provide an answer to our problem. Thanks in advance ! \r\n","title":"OpenGL on Android - Convert a Bitmap to a Texture, and save a Texture","body":"<p>Me and my team are currently developping an Android app to do fast live and non-live image processing.</p>\n\n<p>We are facing two problems:</p>\n\n<p>First, we would like to convert a Bitmap into a Texture to process the picture with OpenGL shaders, and then convert it back into a Bitmap. We tried some implementations unsuccesfully, as using the GLUtils.texImage2D function inside a SurfaceTexture and a Renderer. </p>\n\n<p>Our second problem is that we don't currently know how to save a Texture on our live camera activity. We use an OnFrameAvailableListener in which we process the images. But as for now, we can't keep the original Texture. </p>\n\n<p>We hope someone can provide an answer to our problem. Thanks in advance ! </p>\n"},{"tags":["java","android","xml"],"owner":{"account_id":16939065,"reputation":61,"user_id":12251373,"display_name":"Jaime Oliv&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638993940,"creation_date":1638993940,"question_id":70281088,"body_markdown":"I have read loads of threads about changing the button&#39;s alpha in Android Studio without affecting the text, but I want to know if there is any possibility of doing the opposite. I would like to animate a transition where, once clicked, the text in the button slowly fades out.\r\nI know this can be done using a TextView and a background, but I want to know if there is a way for buttons, because I don&#39;t want to lose its style and that can&#39;t be applied to TextViews.\r\nThank you!","title":"Change button text alpha without changing background","body":"<p>I have read loads of threads about changing the button's alpha in Android Studio without affecting the text, but I want to know if there is any possibility of doing the opposite. I would like to animate a transition where, once clicked, the text in the button slowly fades out.\nI know this can be done using a TextView and a background, but I want to know if there is a way for buttons, because I don't want to lose its style and that can't be applied to TextViews.\nThank you!</p>\n"},{"tags":["java","spring-boot","logging","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638989741,"creation_date":1638989741,"answer_id":70280317,"question_id":70279838,"body_markdown":"Your root logger is still set on `INFO`, and your `com.authenticationservice` logger is on `TRACE`, both have level IDs lower then 850, so any log statements with a higher level will not be written.\r\n\r\nHowever, i would suggest to not use a custom log level, but rather a specific logger name and configure that one then. E.g. like this:\r\n\r\nIn your AuthenticationService.java:\r\n\r\n    private static final org.apache.logging.log4j.Logger logger = LogManager.getLogger(&quot;login&quot;);\r\n\r\nIn your log4j2-spring.xml:\r\n\r\n    &lt;Logger name=&quot;login&quot; level=&quot;info&quot;&gt; // Note, that you should have the same level configured than what you use in the code to log the messages\r\n      &lt;AppenderRef ref=&quot;RollingFile&quot; /&gt;\r\n    &lt;/Logger&gt;\r\n\r\nThis would write all login related logs in the log file configured at `RollingFile`. With that solution you are a lot more flexible than with using a custom level, since you can redirect this to separate files, combine the statements with other loggers etc.","title":"Save custom level logs into file in Spring Boot","body":"<p>Your root logger is still set on <code>INFO</code>, and your <code>com.authenticationservice</code> logger is on <code>TRACE</code>, both have level IDs lower then 850, so any log statements with a higher level will not be written.</p>\n<p>However, i would suggest to not use a custom log level, but rather a specific logger name and configure that one then. E.g. like this:</p>\n<p>In your AuthenticationService.java:</p>\n<pre><code>private static final org.apache.logging.log4j.Logger logger = LogManager.getLogger(&quot;login&quot;);\n</code></pre>\n<p>In your log4j2-spring.xml:</p>\n<pre><code>&lt;Logger name=&quot;login&quot; level=&quot;info&quot;&gt; // Note, that you should have the same level configured than what you use in the code to log the messages\n  &lt;AppenderRef ref=&quot;RollingFile&quot; /&gt;\n&lt;/Logger&gt;\n</code></pre>\n<p>This would write all login related logs in the log file configured at <code>RollingFile</code>. With that solution you are a lot more flexible than with using a custom level, since you can redirect this to separate files, combine the statements with other loggers etc.</p>\n"}],"owner":{"account_id":16915720,"reputation":105,"user_id":12233772,"display_name":"Luca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":848,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638992724,"creation_date":1638987283,"question_id":70279838,"body_markdown":"I want to save the infos of the logins that have succeded into a log file, I thought of creating a new level of logging and save into the log file only the logs with that specific level.\r\nThis is how I tried but I can&#39;t have it work properly:\r\n\r\nlog4j2-spring.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout\r\n                    pattern=&quot;%style{%d{ISO8601}}{white} %highlight{%-5level }[%style{%t}{bright,blue}] %style{%C{1.}}{bright,yellow}: %msg%n%throwable&quot; /&gt;\r\n        &lt;/Console&gt;\r\n\r\n        &lt;RollingFile name=&quot;RollingFile&quot;\r\n                     fileName=&quot;./logs/historicLog.log&quot;\r\n                     filePattern=&quot;./logs/$${date:yyyy-MM}/spring-boot-logger-log4j2-%d{-dd-MMMM-yyyy}-%i.log.gz&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                \r\n                &lt;OnStartupTriggeringPolicy /&gt;\r\n                &lt;SizeBasedTriggeringPolicy\r\n                        size=&quot;10 MB&quot; /&gt;\r\n                &lt;TimeBasedTriggeringPolicy /&gt;\r\n            &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;RollingFile&quot; /&gt;\r\n        &lt;/Root&gt;\r\n\r\n        &lt;Logger name=&quot;login&quot; level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;RollingFile&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n    &lt;/Loggers&gt;\r\n\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nbuild.gradle dependencies:\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;org.springframework.cloud:spring-cloud-config-server:3.0.5&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web:2.6.1&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-log4j2&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator:2.6.1&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test:2.6.1&#39;\r\n}\r\n\r\nconfigurations.implementation {\r\n    exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n}\r\n```\r\n\r\n\r\nAuthenticationService.java\r\n```\r\nprivate static final org.apache.logging.log4j.Logger logger = LogManager.getLogger(AuthenticationServiceApplication.class);\r\n....\r\nlogger.log(Level.forName(&quot;login&quot;, 850), user.getUsername() + &quot; logged in as admin&quot;);\r\n\r\n```\r\n\r\nThank you in advance.","title":"Save custom level logs into file in Spring Boot","body":"<p>I want to save the infos of the logins that have succeded into a log file, I thought of creating a new level of logging and save into the log file only the logs with that specific level.\nThis is how I tried but I can't have it work properly:</p>\n<p>log4j2-spring.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout\n                    pattern=&quot;%style{%d{ISO8601}}{white} %highlight{%-5level }[%style{%t}{bright,blue}] %style{%C{1.}}{bright,yellow}: %msg%n%throwable&quot; /&gt;\n        &lt;/Console&gt;\n\n        &lt;RollingFile name=&quot;RollingFile&quot;\n                     fileName=&quot;./logs/historicLog.log&quot;\n                     filePattern=&quot;./logs/$${date:yyyy-MM}/spring-boot-logger-log4j2-%d{-dd-MMMM-yyyy}-%i.log.gz&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                \n                &lt;OnStartupTriggeringPolicy /&gt;\n                &lt;SizeBasedTriggeringPolicy\n                        size=&quot;10 MB&quot; /&gt;\n                &lt;TimeBasedTriggeringPolicy /&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n\n\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n            &lt;AppenderRef ref=&quot;RollingFile&quot; /&gt;\n        &lt;/Root&gt;\n\n        &lt;Logger name=&quot;login&quot; level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;RollingFile&quot; /&gt;\n        &lt;/Logger&gt;\n    &lt;/Loggers&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n<p>build.gradle dependencies:</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.cloud:spring-cloud-config-server:3.0.5'\n    implementation 'org.springframework.boot:spring-boot-starter-web:2.6.1'\n    implementation 'org.springframework.boot:spring-boot-starter-log4j2'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator:2.6.1'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test:2.6.1'\n}\n\nconfigurations.implementation {\n    exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n}\n</code></pre>\n<p>AuthenticationService.java</p>\n<pre><code>private static final org.apache.logging.log4j.Logger logger = LogManager.getLogger(AuthenticationServiceApplication.class);\n....\nlogger.log(Level.forName(&quot;login&quot;, 850), user.getUsername() + &quot; logged in as admin&quot;);\n\n</code></pre>\n<p>Thank you in advance.</p>\n"},{"tags":["java","docker","artifacts"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1638992853,"post_id":70280864,"comment_id":124237507,"body_markdown":"I agree with you assesment.","body":"I agree with you assesment."},{"owner":{"account_id":252240,"reputation":18364,"user_id":530160,"accept_rate":69,"display_name":"Nick ODell"},"score":1,"creation_date":1638992968,"post_id":70280864,"comment_id":124237549,"body_markdown":"I assume that he means that you&#39;re producing an image with the library already installed, and then other Dockerfiles can use that image in their `FROM` attribute - not that the image would be useful by itself.","body":"I assume that he means that you&#39;re producing an image with the library already installed, and then other Dockerfiles can use that image in their <code>FROM</code> attribute - not that the image would be useful by itself."},{"owner":{"account_id":462194,"reputation":5746,"user_id":864369,"accept_rate":100,"display_name":"Dan W"},"score":1,"creation_date":1638993006,"post_id":70280864,"comment_id":124237561,"body_markdown":"My guess is the Architect wants you to build a custom Test Container that can easily be spun up in testing scenarios (which may or may not be Java based) - https://www.testcontainers.org/","body":"My guess is the Architect wants you to build a custom Test Container that can easily be spun up in testing scenarios (which may or may not be Java based) - <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">testcontainers.org</a>"},{"owner":{"account_id":4262348,"reputation":86,"user_id":3486382,"display_name":"user3486382"},"score":0,"creation_date":1638994795,"post_id":70280864,"comment_id":124238084,"body_markdown":"@NickODell I think that&#39;s the part I wasn&#39;t understanding, thank you.  I&#39;ve used docker a lot for running the actual tests, but not for library management.","body":"@NickODell I think that&#39;s the part I wasn&#39;t understanding, thank you.  I&#39;ve used docker a lot for running the actual tests, but not for library management."},{"owner":{"account_id":4262348,"reputation":86,"user_id":3486382,"display_name":"user3486382"},"score":0,"creation_date":1638994872,"post_id":70280864,"comment_id":124238124,"body_markdown":"@DanW Yes, that&#39;s the case, and I understand that part, but what I&#39;m talking about isn&#39;t the test project, it&#39;s the framework that the test projects use.","body":"@DanW Yes, that&#39;s the case, and I understand that part, but what I&#39;m talking about isn&#39;t the test project, it&#39;s the framework that the test projects use."}],"owner":{"account_id":4262348,"reputation":86,"user_id":3486382,"display_name":"user3486382"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638992664,"creation_date":1638992664,"question_id":70280864,"body_markdown":"**Situation**: I&#39;ve recently started work as an Automation Engineer at a new company.  The company&#39;s philosophy is to dockerize everything, which is great.  I am creating a new Java-based test framework that all of our down-stream test projects will depend on for pulling in common code, managing test tool versions, etc., using Gradle to produce a static Java JAR library.  This is something I&#39;ve done at several companies before with some success.\r\n\r\n**Problem**: The company&#39;s chief architect wants me to dockerize the JAR file that is produced and use that container/image as the dependency for the down-stream Java-based test projects, instead of storing it in a typical static-library-repo like CodeArtifact/Artifactory/etc.  The image would be versioned in our Docker image repo.\r\n\r\n**Question**: Is it possible to do this, without adding a file-server app to the container?\r\n\r\n*I don&#39;t believe it to be a good idea, even if it works, because we&#39;re adding complexity wrapped around a simple jar that could be stored in a static file artifact server like AWS CodeArtifact (we&#39;re on AWS already), although I will take any differing opinions under advisement, if offered.  Maybe I&#39;m just missing something here and I can&#39;t see out of the box I&#39;ve always used...*","title":"Is it possible to use a Docker Container as a repository for a static Java library?","body":"<p><strong>Situation</strong>: I've recently started work as an Automation Engineer at a new company.  The company's philosophy is to dockerize everything, which is great.  I am creating a new Java-based test framework that all of our down-stream test projects will depend on for pulling in common code, managing test tool versions, etc., using Gradle to produce a static Java JAR library.  This is something I've done at several companies before with some success.</p>\n<p><strong>Problem</strong>: The company's chief architect wants me to dockerize the JAR file that is produced and use that container/image as the dependency for the down-stream Java-based test projects, instead of storing it in a typical static-library-repo like CodeArtifact/Artifactory/etc.  The image would be versioned in our Docker image repo.</p>\n<p><strong>Question</strong>: Is it possible to do this, without adding a file-server app to the container?</p>\n<p><em>I don't believe it to be a good idea, even if it works, because we're adding complexity wrapped around a simple jar that could be stored in a static file artifact server like AWS CodeArtifact (we're on AWS already), although I will take any differing opinions under advisement, if offered.  Maybe I'm just missing something here and I can't see out of the box I've always used...</em></p>\n"},{"tags":["java","android","sqlite","foreign-keys","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638992604,"creation_date":1638992139,"answer_id":70280763,"question_id":70279827,"body_markdown":"The parent column needs to be the column that forms the relationship between the two. That is it should be the `fk_lensId` column.\r\n\r\nSo :-\r\n\r\n    public class WearWithLens {\r\n        @Embedded\r\n        public Wear wear;\r\n    \r\n        @Relation(\r\n                parentColumn = &quot;fk_lensId&quot;,\r\n                entityColumn = &quot;lensId&quot;\r\n        )\r\n        public Lens lens;\r\n    }\r\n\r\nAs an example \r\n- not using `LiveData&lt;WearWithLens&gt; getWearWithLensByWearId(int wearId);` but instead `WearWithLens getWearWithLensByWearId(int wearId);` for convenience and brevity.\r\n- using your classes/entities with getters and setters added and also additional constructors to reduce the coding \r\n- and obviously the @Relationship as above.\r\n\r\nWith the following :-\r\n\r\n        db = TheDatabase.getInstance(this);\r\n        dao = db.getAllDao();\r\n\r\n        int l1id = (int) dao.insert(new Lens(&quot;Lens1&quot;));\r\n        int l2id = (int) dao.insert(new Lens(&quot;Lens2&quot;));\r\n        int l3id = (int) dao.insert(new Lens(&quot;Lens3&quot;));\r\n\r\n        dao.insert(new Wear(&quot;Wear1 child of Lens1&quot;,l1id));\r\n        dao.insert(new Wear(&quot;Wear2 child of Lens1&quot;,l1id));\r\n        dao.insert(new Wear(&quot;Wear3 child of Lens1&quot;,l1id));\r\n        dao.insert(new Wear(&quot;Wear4 child of Lens2&quot;,l2id));\r\n        dao.insert(new Wear(&quot;Wear5 child of Lens2&quot;,l2id));\r\n        dao.insert(new Wear(&quot;Wear6 child of Lens2&quot;,l2id));\r\n        dao.insert(new Wear(&quot;Wear7 child of Lens3&quot;,l3id));\r\n\r\n        for (Wear wear: dao.getAllWears()) {\r\n            WearWithLens currentWearWithLens = dao.getWearWithLensByWearId(wear.getWearId());\r\n            Log.d(&quot;DBINFO&quot;,&quot;Current Wear is &quot; + currentWearWithLens.wear.getName() + &quot; parent Lens is &quot; + currentWearWithLens.lens.getName());\r\n        }\r\n\r\nThe Result is:-\r\n\r\n    2021-12-09 06:34:58.105 D/DBINFO: Current Wear is Wear1 child of Lens1 parent Lens is Lens1\r\n    2021-12-09 06:34:58.110 D/DBINFO: Current Wear is Wear2 child of Lens1 parent Lens is Lens1\r\n    2021-12-09 06:34:58.112 D/DBINFO: Current Wear is Wear3 child of Lens1 parent Lens is Lens1\r\n    2021-12-09 06:34:58.114 D/DBINFO: Current Wear is Wear4 child of Lens2 parent Lens is Lens2\r\n    2021-12-09 06:34:58.115 D/DBINFO: Current Wear is Wear5 child of Lens2 parent Lens is Lens2\r\n    2021-12-09 06:34:58.116 D/DBINFO: Current Wear is Wear6 child of Lens2 parent Lens is Lens2\r\n    2021-12-09 06:34:58.120 D/DBINFO: Current Wear is Wear7 child of Lens3 parent Lens is Lens3\r\n\r\n","title":"Query 1:many relation in Android Room","body":"<p>The parent column needs to be the column that forms the relationship between the two. That is it should be the <code>fk_lensId</code> column.</p>\n<p>So :-</p>\n<pre><code>public class WearWithLens {\n    @Embedded\n    public Wear wear;\n\n    @Relation(\n            parentColumn = &quot;fk_lensId&quot;,\n            entityColumn = &quot;lensId&quot;\n    )\n    public Lens lens;\n}\n</code></pre>\n<p>As an example</p>\n<ul>\n<li>not using <code>LiveData&lt;WearWithLens&gt; getWearWithLensByWearId(int wearId);</code> but instead <code>WearWithLens getWearWithLensByWearId(int wearId);</code> for convenience and brevity.</li>\n<li>using your classes/entities with getters and setters added and also additional constructors to reduce the coding</li>\n<li>and obviously the @Relationship as above.</li>\n</ul>\n<p>With the following :-</p>\n<pre><code>    db = TheDatabase.getInstance(this);\n    dao = db.getAllDao();\n\n    int l1id = (int) dao.insert(new Lens(&quot;Lens1&quot;));\n    int l2id = (int) dao.insert(new Lens(&quot;Lens2&quot;));\n    int l3id = (int) dao.insert(new Lens(&quot;Lens3&quot;));\n\n    dao.insert(new Wear(&quot;Wear1 child of Lens1&quot;,l1id));\n    dao.insert(new Wear(&quot;Wear2 child of Lens1&quot;,l1id));\n    dao.insert(new Wear(&quot;Wear3 child of Lens1&quot;,l1id));\n    dao.insert(new Wear(&quot;Wear4 child of Lens2&quot;,l2id));\n    dao.insert(new Wear(&quot;Wear5 child of Lens2&quot;,l2id));\n    dao.insert(new Wear(&quot;Wear6 child of Lens2&quot;,l2id));\n    dao.insert(new Wear(&quot;Wear7 child of Lens3&quot;,l3id));\n\n    for (Wear wear: dao.getAllWears()) {\n        WearWithLens currentWearWithLens = dao.getWearWithLensByWearId(wear.getWearId());\n        Log.d(&quot;DBINFO&quot;,&quot;Current Wear is &quot; + currentWearWithLens.wear.getName() + &quot; parent Lens is &quot; + currentWearWithLens.lens.getName());\n    }\n</code></pre>\n<p>The Result is:-</p>\n<pre><code>2021-12-09 06:34:58.105 D/DBINFO: Current Wear is Wear1 child of Lens1 parent Lens is Lens1\n2021-12-09 06:34:58.110 D/DBINFO: Current Wear is Wear2 child of Lens1 parent Lens is Lens1\n2021-12-09 06:34:58.112 D/DBINFO: Current Wear is Wear3 child of Lens1 parent Lens is Lens1\n2021-12-09 06:34:58.114 D/DBINFO: Current Wear is Wear4 child of Lens2 parent Lens is Lens2\n2021-12-09 06:34:58.115 D/DBINFO: Current Wear is Wear5 child of Lens2 parent Lens is Lens2\n2021-12-09 06:34:58.116 D/DBINFO: Current Wear is Wear6 child of Lens2 parent Lens is Lens2\n2021-12-09 06:34:58.120 D/DBINFO: Current Wear is Wear7 child of Lens3 parent Lens is Lens3\n</code></pre>\n"}],"owner":{"account_id":15906876,"reputation":53,"user_id":11477844,"display_name":"Zudy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70280763,"answer_count":1,"score":1,"last_activity_date":1638992604,"creation_date":1638987213,"question_id":70279827,"body_markdown":"I am using Room in my Android App (Java) and there I have two entities with a 1:many relation.\r\n\r\n**Lens entity**\r\nOne lens can have multiple wears. \r\n\r\n    @Entity(tableName = &quot;lens_table&quot;)\r\n    public class Lens {\r\n    \r\n        @PrimaryKey(autoGenerate = true)\r\n        private int lensId;\r\n        private String name;\r\n    }\r\n\r\n   \r\n**Wear entity**\r\nOne wear can only relate to one lens.\r\n\r\n    @Entity(tableName = &quot;wear_table&quot;,\r\n            foreignKeys = {@ForeignKey(\r\n                    entity = Lens.class,\r\n                    parentColumns = &quot;lensId&quot;,\r\n                    childColumns = &quot;fk_lensId&quot;,\r\n                    onDelete = ForeignKey.CASCADE)},\r\n            indices = {@Index(&quot;fk_lensId&quot;)})\r\n    public class Wear {\r\n    \r\n        @PrimaryKey(autoGenerate = true)\r\n        private int wearId;\r\n        private String name;\r\n        private int fk_lensId;\r\n    }\r\n\r\nSo far so good. I am fine with the &quot;standard&quot; queries (create, get all, update, delete,...) so far, where a lot of documentation is around. I also was successful implementing the query to get all lenses with their wears based on below relation. \r\n\r\n    public class LensWithWears {\r\n    \r\n        @Embedded\r\n        public Lens lens;\r\n    \r\n        @Relation(\r\n                parentColumn = &quot;lensId&quot;,\r\n                entityColumn = &quot;fk_lensId&quot;\r\n        )\r\n        public List&lt;Wear&gt; wears;\r\n    }\r\n\r\n\r\nBut now I need to query the following information: \r\n\r\n&gt; Get a single wear with the associated lens by looking up the wearId\r\n\r\n\r\nThe relationship class I am currently using looks like following: \r\n\r\n    public class WearWithLens {\r\n        @Embedded\r\n        public Wear wear;\r\n    \r\n        @Relation(\r\n                parentColumn = &quot;wearId&quot;,\r\n                entityColumn = &quot;lensId&quot;\r\n        )\r\n        public Lens lens;\r\n    }\r\n\r\nAnd the Dao Query looks like that: \r\n\r\n    @Query(&quot;SELECT * FROM wear_table WHERE wearId = :wearId LIMIT 1&quot;)\r\n    LiveData&lt;WearWithLens&gt; getWearWithLensByWearId(int wearId);\r\n\r\nMy code obviously does not work, otherwise I would not ask...\r\nThe problem is, that an object WearWithLens is returned, but the lens object in it is always null. \r\n\r\nIn other words, I would like to query a Wear, which has a 1:1 relation to a lens and get both objects together in the class WearWithLens.\r\n\r\nCan somebody tell me how the query should look like?\r\n\r\nThanks!\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Query 1:many relation in Android Room","body":"<p>I am using Room in my Android App (Java) and there I have two entities with a 1:many relation.</p>\n<p><strong>Lens entity</strong>\nOne lens can have multiple wears.</p>\n<pre><code>@Entity(tableName = &quot;lens_table&quot;)\npublic class Lens {\n\n    @PrimaryKey(autoGenerate = true)\n    private int lensId;\n    private String name;\n}\n</code></pre>\n<p><strong>Wear entity</strong>\nOne wear can only relate to one lens.</p>\n<pre><code>@Entity(tableName = &quot;wear_table&quot;,\n        foreignKeys = {@ForeignKey(\n                entity = Lens.class,\n                parentColumns = &quot;lensId&quot;,\n                childColumns = &quot;fk_lensId&quot;,\n                onDelete = ForeignKey.CASCADE)},\n        indices = {@Index(&quot;fk_lensId&quot;)})\npublic class Wear {\n\n    @PrimaryKey(autoGenerate = true)\n    private int wearId;\n    private String name;\n    private int fk_lensId;\n}\n</code></pre>\n<p>So far so good. I am fine with the &quot;standard&quot; queries (create, get all, update, delete,...) so far, where a lot of documentation is around. I also was successful implementing the query to get all lenses with their wears based on below relation.</p>\n<pre><code>public class LensWithWears {\n\n    @Embedded\n    public Lens lens;\n\n    @Relation(\n            parentColumn = &quot;lensId&quot;,\n            entityColumn = &quot;fk_lensId&quot;\n    )\n    public List&lt;Wear&gt; wears;\n}\n</code></pre>\n<p>But now I need to query the following information:</p>\n<blockquote>\n<p>Get a single wear with the associated lens by looking up the wearId</p>\n</blockquote>\n<p>The relationship class I am currently using looks like following:</p>\n<pre><code>public class WearWithLens {\n    @Embedded\n    public Wear wear;\n\n    @Relation(\n            parentColumn = &quot;wearId&quot;,\n            entityColumn = &quot;lensId&quot;\n    )\n    public Lens lens;\n}\n</code></pre>\n<p>And the Dao Query looks like that:</p>\n<pre><code>@Query(&quot;SELECT * FROM wear_table WHERE wearId = :wearId LIMIT 1&quot;)\nLiveData&lt;WearWithLens&gt; getWearWithLensByWearId(int wearId);\n</code></pre>\n<p>My code obviously does not work, otherwise I would not ask...\nThe problem is, that an object WearWithLens is returned, but the lens object in it is always null.</p>\n<p>In other words, I would like to query a Wear, which has a 1:1 relation to a lens and get both objects together in the class WearWithLens.</p>\n<p>Can somebody tell me how the query should look like?</p>\n<p>Thanks!</p>\n"},{"tags":["java","hibernate","spring-data","querydsl","row-number"],"comments":[{"owner":{"account_id":367147,"reputation":117,"user_id":713139,"accept_rate":88,"display_name":"Arun Selva"},"score":0,"creation_date":1574843330,"post_id":40744385,"comment_id":104370366,"body_markdown":"Its long back but can you remember how did you fix this issue. Any suggestions.?!","body":"Its long back but can you remember how did you fix this issue. Any suggestions.?!"}],"answers":[{"tags":[],"owner":{"account_id":2408521,"reputation":3734,"user_id":2104280,"accept_rate":78,"display_name":"Jan-Willem Gmelig Meyling"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591289903,"creation_date":1591289903,"answer_id":62200160,"question_id":40744385,"body_markdown":"Window functions are not included in the JPQL specification and as such not available in any JPA implementation. You could register these functions yourself using [custom functions](https://stackoverflow.com/a/41369853/2104280).\r\n\r\nHowever, after this, these functions still won&#39;t be accessible in QueryDSL. You&#39;re stealing from the `SQLExpressions` here to obtain a window expression. These methods live in `SQLExpressions` for a reason: they only work with `querydsl-sql` and not with `querydsl-jpa` (again, because JPA itself does not support window functions). So after registering your custom function, you will still have to extend `JPQLTemplates` to include the template for your custom window function.\r\n\r\nYou&#39;d do this like this:\r\n\r\n```\r\npublic class MyTemplates extends JPQLTemplates {\r\n\r\n    public MyTemplates() {\r\n        add(SQLOps.ROWNUMBER, &quot;ROW_NUMBER({0})&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd then use it as follows:\r\n\r\n```java\r\nnew JPAQuery(entityManager, new MyTemplates()).from(entity).select(rowNumber())\r\n```\r\n\r\nWith the Spring integration in the middle however, the templates are somewhat more difficult to bind to the query I think.\r\n\r\n\r\n----------\r\n\r\n\r\nAlternatively you could look into the [`blaze-persistence-querydsl`](https://persistence.blazebit.com/documentation/1.5/core/manual/en_US/#querydsl-integration) extension, which has out of the box support for window functions (and many other features) for JPQL. For example:\r\n\r\n```java\r\nQCat cat = QCat.cat;\r\n\r\nBlazeJPAQuery&lt;Tuple&gt; query = new BlazeJPAQuery&lt;Tuple&gt;(entityManager, criteriaBuilderFactory).from(cat)\r\n    .select(cat.name, JPQLNextExpressions.rowNumber(), JPQLNextExpressions.lastValue(cat.name).over().partitionBy(cat.id));\r\n\r\nList&lt;Tuple&gt; fetch = query.fetch();\r\n```","title":"QueryDSL 4 with RowNumber Window function","body":"<p>Window functions are not included in the JPQL specification and as such not available in any JPA implementation. You could register these functions yourself using <a href=\"https://stackoverflow.com/a/41369853/2104280\">custom functions</a>.</p>\n\n<p>However, after this, these functions still won't be accessible in QueryDSL. You're stealing from the <code>SQLExpressions</code> here to obtain a window expression. These methods live in <code>SQLExpressions</code> for a reason: they only work with <code>querydsl-sql</code> and not with <code>querydsl-jpa</code> (again, because JPA itself does not support window functions). So after registering your custom function, you will still have to extend <code>JPQLTemplates</code> to include the template for your custom window function.</p>\n\n<p>You'd do this like this:</p>\n\n<pre><code>public class MyTemplates extends JPQLTemplates {\n\n    public MyTemplates() {\n        add(SQLOps.ROWNUMBER, \"ROW_NUMBER({0})\");\n    }\n\n}\n</code></pre>\n\n<p>And then use it as follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>new JPAQuery(entityManager, new MyTemplates()).from(entity).select(rowNumber())\n</code></pre>\n\n<p>With the Spring integration in the middle however, the templates are somewhat more difficult to bind to the query I think.</p>\n\n<hr>\n\n<p>Alternatively you could look into the <a href=\"https://persistence.blazebit.com/documentation/1.5/core/manual/en_US/#querydsl-integration\" rel=\"nofollow noreferrer\"><code>blaze-persistence-querydsl</code></a> extension, which has out of the box support for window functions (and many other features) for JPQL. For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>QCat cat = QCat.cat;\n\nBlazeJPAQuery&lt;Tuple&gt; query = new BlazeJPAQuery&lt;Tuple&gt;(entityManager, criteriaBuilderFactory).from(cat)\n    .select(cat.name, JPQLNextExpressions.rowNumber(), JPQLNextExpressions.lastValue(cat.name).over().partitionBy(cat.id));\n\nList&lt;Tuple&gt; fetch = query.fetch();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20149986,"reputation":13,"user_id":14777530,"display_name":"Айша Абылгазы"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638992511,"creation_date":1638992511,"answer_id":70280836,"question_id":40744385,"body_markdown":"Sorry for being late but I had the same problem, I resolved it by adding configuration files from [there][1] \r\n\r\n\r\n  [1]: https://persistence.blazebit.com/documentation/1.6/core/manual/en_US/index.html#environments-spring\r\nthen injected CriteriaBuilderFactory \r\n\r\n     @Inject\r\n    CriteriaBuilderFactory cbf; \r\nAt the beginning and then write any query with window function like this \r\n\r\n    QProductHistory his =QProductHistory.productHistory;\r\n    SimpleExpression&lt;Long&gt; rown =  JPQLNextExpressions.rowNumber().over().partitionBy(his.esn).as(&quot;rown&quot;);\r\n    BlazeJPAQuery&lt;Tuple&gt; bl_qry = new BlazeJPAQuery&lt;Tuple&gt;(entityManager, cbf).from(his)\r\n                .select(his.esn, rown);\r\n\r\n        List&lt;Tuple&gt; fetch = bl_qry.fetch();\r\n\r\n   \r\n\r\n    ","title":"QueryDSL 4 with RowNumber Window function","body":"<p>Sorry for being late but I had the same problem, I resolved it by adding configuration files from <a href=\"https://persistence.blazebit.com/documentation/1.6/core/manual/en_US/index.html#environments-spring\" rel=\"nofollow noreferrer\">there</a></p>\n<p>then injected CriteriaBuilderFactory</p>\n<pre><code> @Inject\nCriteriaBuilderFactory cbf; \n</code></pre>\n<p>At the beginning and then write any query with window function like this</p>\n<pre><code>QProductHistory his =QProductHistory.productHistory;\nSimpleExpression&lt;Long&gt; rown =  JPQLNextExpressions.rowNumber().over().partitionBy(his.esn).as(&quot;rown&quot;);\nBlazeJPAQuery&lt;Tuple&gt; bl_qry = new BlazeJPAQuery&lt;Tuple&gt;(entityManager, cbf).from(his)\n            .select(his.esn, rown);\n\n    List&lt;Tuple&gt; fetch = bl_qry.fetch();\n</code></pre>\n"}],"owner":{"account_id":3534641,"reputation":2826,"user_id":2953261,"accept_rate":94,"display_name":"Leonel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3352,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1638992511,"creation_date":1479824686,"question_id":40744385,"body_markdown":"I&#39;m using query dsl with spring data.\r\n\r\nEnvironment:\r\n\r\n        &lt;querydsl-apt.version&gt;4.1.4&lt;/querydsl-apt.version&gt;\r\n        &lt;querydsl-jpa.version&gt;4.1.4&lt;/querydsl-jpa.version&gt;\r\n        &lt;querydsl-sql.version&gt;4.1.4&lt;/querydsl-sql.version&gt;\r\n        &lt;spring&gt;4.3.3.RELEASE&lt;/spring&gt;\r\n\r\n\r\nQuery:\r\n\r\n    JPAQueryFactory query = new JPAQueryFactory(getEntityManager());\r\n\r\n    SimpleExpression&lt;Long&gt; rowNumber = SQLExpressions.rowNumber()\r\n            .over()\r\n            .orderBy(qServiceExecution.updatedAt.asc()).as(&quot;rowNumber&quot;);\r\n\r\n    List&lt;Tuple&gt; response = query.select(qServiceExecution.id, SQLExpressions.rowNumber()\r\n                    .over()\r\n                    .orderBy(qServiceExecution.updatedAt.asc()))\r\n            .from(qServiceExecution)\r\n            .fetch();\r\n\r\n\r\nException:\r\n\r\n    Root cause: java.lang.IllegalArgumentException: No pattern found for ROWNUMBER\r\n    \tat com.querydsl.core.support.SerializerBase.visitOperation(SerializerBase.java:280) ~[querydsl-core-4.1.4.jar:na]\r\n    \tat com.querydsl.jpa.JPQLSerializer.visitOperation(JPQLSerializer.java:437) ~[querydsl-jpa-4.1.4.jar:na]\r\n    \tat com.querydsl.core.support.SerializerBase.visit(SerializerBase.java:231) ~[querydsl-core-4.1.4.jar:na]\r\n    \tat com.querydsl.core.support.SerializerBase.visit(SerializerBase.java:31) ~[querydsl-core-4.1.4.jar:na]\r\n\r\n\r\n\r\n    Spring error: No pattern found for ROWNUMBER; nested exception is java.lang.IllegalArgumentException: No pattern found for ROWNUMBER\r\n    \tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:384) ~[spring-orm-4.3.3.RELEASE.jar:4.3.3.RELEASE]\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-4.3.3.RELEASE.jar:4.3.3.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:491) ~[spring-orm-4.3.3.RELEASE.jar:4.3.3.RELEASE]\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.3.3.RELEASE.jar:4.3.3.RELEASE]\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.3.3.RELEASE.jar:4.3.3.RELEASE]\r\n\r\n\r\nQuery DSL documentation: http://www.querydsl.com/static/querydsl/latest/reference/html/ch02s03.html#d0e1276\r\n\r\nOther stack overflow question: https://stackoverflow.com/questions/30797892/querydsl-window-functions\r\n\r\nAny suggestion?","title":"QueryDSL 4 with RowNumber Window function","body":"<p>I'm using query dsl with spring data.</p>\n\n<p>Environment:</p>\n\n<pre><code>    &lt;querydsl-apt.version&gt;4.1.4&lt;/querydsl-apt.version&gt;\n    &lt;querydsl-jpa.version&gt;4.1.4&lt;/querydsl-jpa.version&gt;\n    &lt;querydsl-sql.version&gt;4.1.4&lt;/querydsl-sql.version&gt;\n    &lt;spring&gt;4.3.3.RELEASE&lt;/spring&gt;\n</code></pre>\n\n<p>Query:</p>\n\n<pre><code>JPAQueryFactory query = new JPAQueryFactory(getEntityManager());\n\nSimpleExpression&lt;Long&gt; rowNumber = SQLExpressions.rowNumber()\n        .over()\n        .orderBy(qServiceExecution.updatedAt.asc()).as(\"rowNumber\");\n\nList&lt;Tuple&gt; response = query.select(qServiceExecution.id, SQLExpressions.rowNumber()\n                .over()\n                .orderBy(qServiceExecution.updatedAt.asc()))\n        .from(qServiceExecution)\n        .fetch();\n</code></pre>\n\n<p>Exception:</p>\n\n<pre><code>Root cause: java.lang.IllegalArgumentException: No pattern found for ROWNUMBER\n    at com.querydsl.core.support.SerializerBase.visitOperation(SerializerBase.java:280) ~[querydsl-core-4.1.4.jar:na]\n    at com.querydsl.jpa.JPQLSerializer.visitOperation(JPQLSerializer.java:437) ~[querydsl-jpa-4.1.4.jar:na]\n    at com.querydsl.core.support.SerializerBase.visit(SerializerBase.java:231) ~[querydsl-core-4.1.4.jar:na]\n    at com.querydsl.core.support.SerializerBase.visit(SerializerBase.java:31) ~[querydsl-core-4.1.4.jar:na]\n\n\n\nSpring error: No pattern found for ROWNUMBER; nested exception is java.lang.IllegalArgumentException: No pattern found for ROWNUMBER\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:384) ~[spring-orm-4.3.3.RELEASE.jar:4.3.3.RELEASE]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-4.3.3.RELEASE.jar:4.3.3.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:491) ~[spring-orm-4.3.3.RELEASE.jar:4.3.3.RELEASE]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.3.3.RELEASE.jar:4.3.3.RELEASE]\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.3.3.RELEASE.jar:4.3.3.RELEASE]\n</code></pre>\n\n<p>Query DSL documentation: <a href=\"http://www.querydsl.com/static/querydsl/latest/reference/html/ch02s03.html#d0e1276\" rel=\"nofollow noreferrer\">http://www.querydsl.com/static/querydsl/latest/reference/html/ch02s03.html#d0e1276</a></p>\n\n<p>Other stack overflow question: <a href=\"https://stackoverflow.com/questions/30797892/querydsl-window-functions\">QueryDSL Window functions</a></p>\n\n<p>Any suggestion?</p>\n"},{"tags":["java","android","kotlin","kotlin-coroutines"],"comments":[{"owner":{"account_id":11172549,"reputation":124,"user_id":8199125,"display_name":"Ali Babadi"},"score":0,"creation_date":1638988418,"post_id":70279940,"comment_id":124236017,"body_markdown":"For every `functionCall()` , it creates new Job, so that&#39;s why one of jobs still continue to do the work.","body":"For every <code>functionCall()</code> , it creates new Job, so that&#39;s why one of jobs still continue to do the work."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1638990306,"post_id":70279940,"comment_id":124236649,"body_markdown":"By launching your inner job from a new coroutine scope, it is not a child job of the coroutine that calls `functionCall()`. It is completely independent. You should not be creating a new `MainScope()` to use inside your suspend function unless you explicitly want it to be a separate coroutine with no manageable lifecycle or relation to the coroutine that calls this function.","body":"By launching your inner job from a new coroutine scope, it is not a child job of the coroutine that calls <code>functionCall()</code>. It is completely independent. You should not be creating a new <code>MainScope()</code> to use inside your suspend function unless you explicitly want it to be a separate coroutine with no manageable lifecycle or relation to the coroutine that calls this function."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1638990436,"post_id":70279940,"comment_id":124236689,"body_markdown":"It is generally a code smell to use `MainScope().launch` or `CoroutineScope().launch` because there&#39;s no point in creating a new CoroutineScope if you aren&#39;t going to reference it anywhere so you can manage its lifecycle. You might as well use GlobalScope then.","body":"It is generally a code smell to use <code>MainScope().launch</code> or <code>CoroutineScope().launch</code> because there&#39;s no point in creating a new CoroutineScope if you aren&#39;t going to reference it anywhere so you can manage its lifecycle. You might as well use GlobalScope then."},{"owner":{"account_id":20642250,"reputation":23,"user_id":15154621,"display_name":"misfit"},"score":0,"creation_date":1638990441,"post_id":70279940,"comment_id":124236692,"body_markdown":"@AliBabadi What should I do to prevent this? Should I assign functionCall to a variable and then run the 2 &#39;isActive&#39; and &#39;cancelAndJoin()&#39; ?","body":"@AliBabadi What should I do to prevent this? Should I assign functionCall to a variable and then run the 2 &#39;isActive&#39; and &#39;cancelAndJoin()&#39; ?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1638990581,"post_id":70279940,"comment_id":124236737,"body_markdown":"It&#39;s hard to say what you should do because it&#39;s not clear what you&#39;re trying to accomplish by launching a job and then immediately cancelling it.","body":"It&#39;s hard to say what you should do because it&#39;s not clear what you&#39;re trying to accomplish by launching a job and then immediately cancelling it."},{"owner":{"account_id":20642250,"reputation":23,"user_id":15154621,"display_name":"misfit"},"score":0,"creation_date":1638991045,"post_id":70279940,"comment_id":124236910,"body_markdown":"@tenfour04 I am wanting to completely cancel the coroutine if a button is clicked. The button triggers that if statement to call. Inside of the coroutine is a block of code that retries a service connection but if the button is clicked cancels the entire thing.","body":"@tenfour04 I am wanting to completely cancel the coroutine if a button is clicked. The button triggers that if statement to call. Inside of the coroutine is a block of code that retries a service connection but if the button is clicked cancels the entire thing."},{"owner":{"account_id":20642250,"reputation":23,"user_id":15154621,"display_name":"misfit"},"score":0,"creation_date":1638991348,"post_id":70279940,"comment_id":124236995,"body_markdown":"@tenfour04 Would really appreciate if you have any suggestions as I&#39;m not very familiar with coroutines :(","body":"@tenfour04 Would really appreciate if you have any suggestions as I&#39;m not very familiar with coroutines :("}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638992394,"creation_date":1638992394,"answer_id":70280812,"question_id":70279940,"body_markdown":"Since this is Android, you should launch your UI-related coroutines from `lifecycleScope`. If you have a job that needs to survive screen rotations, you should launch it from inside a ViewModel from `viewModelScope`, and it must not touch any UI elements.\r\n\r\nIf you want to cancel a specific coroutine when an event happens, you should store that coroutine Job in a property so you can call `cancel()` on it. So a typical pattern inside an Activity for example might be:\r\n\r\n```\r\nprivate var fooJob: Job? = null\r\n\r\nprivate fun fooSomething() {\r\n    fooJob = lifecycleScope.launch {\r\n        repeat(5) {\r\n            delay(1000)\r\n            Log.i(&quot;count&quot;, it.toString())\r\n        }\r\n    }\r\n}\r\n\r\nprivate fun cancelCurrentFoo() {\r\n    fooJob?.cancel()\r\n}\r\n```\r\n\r\nSuppose you have a coroutine job you can start by calling one of the functions of your ViewModel, but you want the Activity/Fragment to be able to cancel it early. Then you expose a function that returns the coroutine Job:\r\n\r\n```\r\nfun foo() = viewModelScope.launch {\r\n    repeat(5) {\r\n        delay(1000)\r\n        Log.i(&quot;count&quot;, it.toString())\r\n    }\r\n}\r\n```\r\nThe Activity can call this function and it gets a Job instance in return that it can call `cancel()` on whenever it wants.","title":"Coroutine job completing even after cancellation from external function","body":"<p>Since this is Android, you should launch your UI-related coroutines from <code>lifecycleScope</code>. If you have a job that needs to survive screen rotations, you should launch it from inside a ViewModel from <code>viewModelScope</code>, and it must not touch any UI elements.</p>\n<p>If you want to cancel a specific coroutine when an event happens, you should store that coroutine Job in a property so you can call <code>cancel()</code> on it. So a typical pattern inside an Activity for example might be:</p>\n<pre><code>private var fooJob: Job? = null\n\nprivate fun fooSomething() {\n    fooJob = lifecycleScope.launch {\n        repeat(5) {\n            delay(1000)\n            Log.i(&quot;count&quot;, it.toString())\n        }\n    }\n}\n\nprivate fun cancelCurrentFoo() {\n    fooJob?.cancel()\n}\n</code></pre>\n<p>Suppose you have a coroutine job you can start by calling one of the functions of your ViewModel, but you want the Activity/Fragment to be able to cancel it early. Then you expose a function that returns the coroutine Job:</p>\n<pre><code>fun foo() = viewModelScope.launch {\n    repeat(5) {\n        delay(1000)\n        Log.i(&quot;count&quot;, it.toString())\n    }\n}\n</code></pre>\n<p>The Activity can call this function and it gets a Job instance in return that it can call <code>cancel()</code> on whenever it wants.</p>\n"}],"owner":{"account_id":20642250,"reputation":23,"user_id":15154621,"display_name":"misfit"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70280812,"answer_count":1,"score":0,"last_activity_date":1638992394,"creation_date":1638987779,"question_id":70279940,"body_markdown":"I have this function:\r\n```\r\nsuspend fun functionCall(): Job {\r\n      return MainScope().launch {\r\n       var i = 0\r\n       while(i &lt; 3) {\r\n         i++\r\n         delay(3000)\r\n         yield()\r\n      }\r\n     }\r\n    cancel()\r\n}\r\n```\r\n\r\nAnd I am calling from an external function when a button is clicked:\r\n```\r\nMainScope().launch {\r\n   if(functionCall().isActive) {\r\n      functionCall().cancelAndJoin()\r\n   }\r\n}\r\n```\r\n\r\nBoth of these functions are being run in a repository class.\r\nAnd it is still iterating through the whole while loop even after the above if statement is triggered. What I&#39;m noticing while debugging is &quot;i&quot; is also being reset to 0 which could indicate the job is being triggered more than once but it is definitely being triggered only once so I&#39;m confused about what is happening.\r\n\r\nWhat I want to happen is after that if statement for the entire job to cancel and for the entire function to return and run no more code. \r\n\r\nI&#39;ve also tried while(ensureActive) and the same thing is happening.\r\n\r\nHow do I do this?","title":"Coroutine job completing even after cancellation from external function","body":"<p>I have this function:</p>\n<pre><code>suspend fun functionCall(): Job {\n      return MainScope().launch {\n       var i = 0\n       while(i &lt; 3) {\n         i++\n         delay(3000)\n         yield()\n      }\n     }\n    cancel()\n}\n</code></pre>\n<p>And I am calling from an external function when a button is clicked:</p>\n<pre><code>MainScope().launch {\n   if(functionCall().isActive) {\n      functionCall().cancelAndJoin()\n   }\n}\n</code></pre>\n<p>Both of these functions are being run in a repository class.\nAnd it is still iterating through the whole while loop even after the above if statement is triggered. What I'm noticing while debugging is &quot;i&quot; is also being reset to 0 which could indicate the job is being triggered more than once but it is definitely being triggered only once so I'm confused about what is happening.</p>\n<p>What I want to happen is after that if statement for the entire job to cancel and for the entire function to return and run no more code.</p>\n<p>I've also tried while(ensureActive) and the same thing is happening.</p>\n<p>How do I do this?</p>\n"},{"tags":["java","floating-point","integer","precision"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1638991965,"post_id":70280678,"comment_id":124237216,"body_markdown":"Printing `b+myFloat` (*before* you change `b`) might give you a clue.","body":"Printing <code>b+myFloat</code> (<i>before</i> you change <code>b</code>) might give you a clue."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1638991987,"post_id":70280678,"comment_id":124237224,"body_markdown":"https://cs.stackexchange.com/questions/119225/why-is-there-a-precision-loss-for-floating-point-numbers","body":"<a href=\"https://cs.stackexchange.com/questions/119225/why-is-there-a-precision-loss-for-floating-point-numbers\" title=\"why is there a precision loss for floating point numbers\">cs.stackexchange.com/questions/119225/&hellip;</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1638992182,"post_id":70280678,"comment_id":124237290,"body_markdown":"This doesn&#39;t necessarily seem surprising, given the imprecision of `float`.","body":"This doesn&#39;t necessarily seem surprising, given the imprecision of <code>float</code>."}],"owner":{"account_id":1033642,"reputation":681,"user_id":1041451,"accept_rate":88,"display_name":"ernirulez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1638992346,"answer_count":0,"score":0,"last_activity_date":1638992353,"creation_date":1638991695,"question_id":70280678,"body_markdown":"Check this code:\r\n```\r\n    public static void checkBug() {\r\n        int a = 16763383;\r\n        int b = 16763383;\r\n\r\n        float myFloat = 222778.0f;\r\n        int myInt = 222778;\r\n\r\n        a += myInt;\r\n        b += myFloat;\r\n        System.out.println(&quot;A is : &quot; + a + &quot; and B is: &quot; + b);\r\n    }\r\n```\r\nThe result is `A is : 16986161 and B is: 16986160`\r\n\r\nWhy this discrepancy? I have been testing with many values of `a`, `b`, `myFloat` and `myInt` but I could no find any proper explanation why it happens with these particular values.\r\nAlso, I can execute/compile `b += myFloat;` but I cannot do it with `b = b + myFloat;`.","title":"Java bug/inconsistency adding float and int values","body":"<p>Check this code:</p>\n<pre><code>    public static void checkBug() {\n        int a = 16763383;\n        int b = 16763383;\n\n        float myFloat = 222778.0f;\n        int myInt = 222778;\n\n        a += myInt;\n        b += myFloat;\n        System.out.println(&quot;A is : &quot; + a + &quot; and B is: &quot; + b);\n    }\n</code></pre>\n<p>The result is <code>A is : 16986161 and B is: 16986160</code></p>\n<p>Why this discrepancy? I have been testing with many values of <code>a</code>, <code>b</code>, <code>myFloat</code> and <code>myInt</code> but I could no find any proper explanation why it happens with these particular values.\nAlso, I can execute/compile <code>b += myFloat;</code> but I cannot do it with <code>b = b + myFloat;</code>.</p>\n"},{"tags":["java","json","amazon-web-services","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":50234,"reputation":3526,"user_id":149789,"display_name":"wwadge"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1481113440,"creation_date":1481113440,"answer_id":41017427,"question_id":41014518,"body_markdown":"Yes, you&#39;re pretty much dealing with bytes here so whatever format these bytes represent has no impact at all. \r\n\r\nIn your java app, convert whatever object you have into bytes then stream that out directly (or write to a file first, then upload). Sample code:\r\n\r\n     ObjectMapper objectMapper = new ObjectMapper(); \r\n     byte[] bytesToWrite = objectMapper.writeValueAsBytes(yourObject)\r\n\r\n     ObjectMetadata omd = new ObjectMetadata();\r\n     omd.setContentLength(bytesToWrite.length);\r\n     transferManager.upload(bucketName, filename, new ByteArrayInputStream(bytesToWrite), omd);\r\n\r\nThe java client can be found here: https://aws.amazon.com/sdk-for-java/","title":"Storing JSON into Amazon S3 with Java","body":"<p>Yes, you're pretty much dealing with bytes here so whatever format these bytes represent has no impact at all. </p>\n\n<p>In your java app, convert whatever object you have into bytes then stream that out directly (or write to a file first, then upload). Sample code:</p>\n\n<pre><code> ObjectMapper objectMapper = new ObjectMapper(); \n byte[] bytesToWrite = objectMapper.writeValueAsBytes(yourObject)\n\n ObjectMetadata omd = new ObjectMetadata();\n omd.setContentLength(bytesToWrite.length);\n transferManager.upload(bucketName, filename, new ByteArrayInputStream(bytesToWrite), omd);\n</code></pre>\n\n<p>The java client can be found here: <a href=\"https://aws.amazon.com/sdk-for-java/\" rel=\"noreferrer\">https://aws.amazon.com/sdk-for-java/</a></p>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1556045602,"creation_date":1556045602,"answer_id":55817688,"question_id":41014518,"body_markdown":"Yes.\r\n\r\nJust use [putObject(String bucketName, String key, String content)][1], passing your JSON String for `content`.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html#putObject-java.lang.String-java.lang.String-java.lang.String-","title":"Storing JSON into Amazon S3 with Java","body":"<p>Yes.</p>\n\n<p>Just use <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html#putObject-java.lang.String-java.lang.String-java.lang.String-\" rel=\"noreferrer\">putObject(String bucketName, String key, String content)</a>, passing your JSON String for <code>content</code>.</p>\n"}],"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30625,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":41017427,"answer_count":2,"score":10,"last_activity_date":1638992123,"creation_date":1481105071,"question_id":41014518,"body_markdown":"Is it possible to store JSON data into Amazon S3? Lets say that I want to store this JSON data:\r\n\r\n    {\r\n        &quot;glossary&quot;: {\r\n            &quot;title&quot;: &quot;example glossary&quot;,\r\n    \t\t&quot;GlossDiv&quot;: {\r\n                &quot;title&quot;: &quot;S&quot;,\r\n    \t\t\t&quot;GlossList&quot;: {\r\n                    &quot;GlossEntry&quot;: {\r\n                        &quot;ID&quot;: &quot;SGML&quot;,\r\n    \t\t\t\t\t&quot;SortAs&quot;: &quot;SGML&quot;,\r\n    \t\t\t\t\t&quot;GlossTerm&quot;: &quot;Standard Generalized Markup Language&quot;,\r\n    \t\t\t\t\t&quot;Acronym&quot;: &quot;SGML&quot;,\r\n    \t\t\t\t\t&quot;Abbrev&quot;: &quot;ISO 8879:1986&quot;,\r\n    \t\t\t\t\t&quot;GlossDef&quot;: {\r\n                            &quot;para&quot;: &quot;A meta-markup language, used to create markup languages such as DocBook.&quot;,\r\n    \t\t\t\t\t\t&quot;GlossSeeAlso&quot;: [&quot;GML&quot;, &quot;XML&quot;]\r\n                        },\r\n    \t\t\t\t\t&quot;GlossSee&quot;: &quot;markup&quot;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI checked [here](https://stackoverflow.com/questions/17086553/its-possible-to-store-json-on-amazon-s3​) says it is possible but then it is using jQuery but I could not find the corrresponding thing in Java. Even if it is possible, in what form will the JSON be stored? Will it be dumped into a file?","title":"Storing JSON into Amazon S3 with Java","body":"<p>Is it possible to store JSON data into Amazon S3? Lets say that I want to store this JSON data:</p>\n\n<pre><code>{\n    \"glossary\": {\n        \"title\": \"example glossary\",\n        \"GlossDiv\": {\n            \"title\": \"S\",\n            \"GlossList\": {\n                \"GlossEntry\": {\n                    \"ID\": \"SGML\",\n                    \"SortAs\": \"SGML\",\n                    \"GlossTerm\": \"Standard Generalized Markup Language\",\n                    \"Acronym\": \"SGML\",\n                    \"Abbrev\": \"ISO 8879:1986\",\n                    \"GlossDef\": {\n                        \"para\": \"A meta-markup language, used to create markup languages such as DocBook.\",\n                        \"GlossSeeAlso\": [\"GML\", \"XML\"]\n                    },\n                    \"GlossSee\": \"markup\"\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I checked <a href=\"https://stackoverflow.com/questions/17086553/its-possible-to-store-json-on-amazon-s3%E2%80%8B\">here</a> says it is possible but then it is using jQuery but I could not find the corrresponding thing in Java. Even if it is possible, in what form will the JSON be stored? Will it be dumped into a file?</p>\n"},{"tags":["java","junit5","junit5-extension-model"],"answers":[{"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638991861,"creation_date":1638991861,"answer_id":70280708,"question_id":70278052,"body_markdown":"As you can see by its package name `org.junit.platform.engine.TestDescriptor` is not part of JUnit Jupiter API which has `org.junit.jupiter.api` as its base package. Moreover, `org.junit.platform.engine` is not even imported by the API.\r\n\r\nSo the sad answer is you cannot get at the test descriptor, at least not without some dirty and unstable reflection. I am, however, quite sure that the underlying reason you have for wanting access can be mitigated in a different way. So what is it you’d like to achieve?","title":"Junit 5 extension - how to access testDescriptor","body":"<p>As you can see by its package name <code>org.junit.platform.engine.TestDescriptor</code> is not part of JUnit Jupiter API which has <code>org.junit.jupiter.api</code> as its base package. Moreover, <code>org.junit.platform.engine</code> is not even imported by the API.</p>\n<p>So the sad answer is you cannot get at the test descriptor, at least not without some dirty and unstable reflection. I am, however, quite sure that the underlying reason you have for wanting access can be mitigated in a different way. So what is it you’d like to achieve?</p>\n"}],"owner":{"account_id":9689959,"reputation":31,"user_id":7188326,"display_name":"nir gallner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638992064,"creation_date":1638979315,"question_id":70278052,"body_markdown":"I am writing an extension for a test using @ParameterizedTest. My test looks like:\r\n\r\n    @ParameterizedTest\r\n    @ValueSource(strings={&quot;string1&quot;, &quot;string2&quot;})\r\n    public void test1(String name){\r\n        System.out.println(name);\r\n    }\r\n\r\nIn the extensions, how do I get the TestDesciptor to find out which invocation in currently active?\r\n\r\n    public class MyExtension implements BeforeEachCallBack{\r\n       \r\n     @Override\r\n     public void beforeEach(ExtensionContext extensionContext)   \r\n         //  What to do here? extensionContext.?\r\n     }\r\n    }","title":"Junit 5 extension - how to access testDescriptor","body":"<p>I am writing an extension for a test using @ParameterizedTest. My test looks like:</p>\n<pre><code>@ParameterizedTest\n@ValueSource(strings={&quot;string1&quot;, &quot;string2&quot;})\npublic void test1(String name){\n    System.out.println(name);\n}\n</code></pre>\n<p>In the extensions, how do I get the TestDesciptor to find out which invocation in currently active?</p>\n<pre><code>public class MyExtension implements BeforeEachCallBack{\n   \n @Override\n public void beforeEach(ExtensionContext extensionContext)   \n     //  What to do here? extensionContext.?\n }\n}\n</code></pre>\n"},{"tags":["java","regex","firefox","text","properties"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1638995531,"post_id":70280639,"comment_id":124238335,"body_markdown":"That’s a JavaScript file.  You need a JavaScript engine to parse it properly.  Using regex will work in some cases but will eventually fail.","body":"That’s a JavaScript file.  You need a JavaScript engine to parse it properly.  Using regex will work in some cases but will eventually fail."},{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1639004156,"post_id":70280639,"comment_id":124240905,"body_markdown":"@VGR It can&#39;t be parsed with plain Java?","body":"@VGR It can&#39;t be parsed with plain Java?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1639015538,"post_id":70280639,"comment_id":124242993,"body_markdown":"Not with any existing class.  You can certainly write your own parser in Java, but a regular expression won’t be enough.  Consider this:  what if a string value contains a double-quote character?","body":"Not with any existing class.  You can certainly write your own parser in Java, but a regular expression won’t be enough.  Consider this:  what if a string value contains a double-quote character?"},{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1639022107,"post_id":70280639,"comment_id":124243996,"body_markdown":"@VGR I don&#39;t think double-quote characters are acceptable values in `prefs.js` or `user.js` but could potentially be an issue when writing a more generalized parser..","body":"@VGR I don&#39;t think double-quote characters are acceptable values in <code>prefs.js</code> or <code>user.js</code> but could potentially be an issue when writing a more generalized parser.."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1639030120,"post_id":70280639,"comment_id":124245306,"body_markdown":"My prefs.js has this line in it: `user_pref(&quot;browser.newtabpage.pinned&quot;, &quot;[{\\&quot;url\\&quot;:\\&quot;https://amazon.com\\&quot;,\\&quot;label\\&quot;:\\&quot;@amazon\\&quot;,\\&quot;searchTopSite\\&quot;:true}]&quot;);`","body":"My prefs.js has this line in it: <code>user_pref(&quot;browser.newtabpage.pinned&quot;, &quot;[{\\&quot;url\\&quot;:\\&quot;https:&#47;&#47;amazon.com\\&quot;,\\&quot;label\\&quot;:\\&quot;@amazon\\&quot;,\\&quot;se&zwnj;&#8203;archTopSite\\&quot;:true}]&zwnj;&#8203;&quot;);</code>"}],"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1638991966,"creation_date":1638991503,"question_id":70280639,"body_markdown":"I&#39;m able to read/write to file with standard `key=value` syntax using `java.Util.Properties` class with the following code:\r\n\r\n\tProperties properties = new Properties();\r\n\tproperties.load(new InputStreamReader(fileInputStream, Charset.forName(&quot;UTF-8&quot;)));\r\n\r\n    properties.setProperty(key, value);\r\n\r\n\r\nHowever, I&#39;d like to read/edit the `user.js` file of `Firefox` profile which contains custom properties syntax:\r\n\r\n    PREFIX     KEY                        VALUE\r\n    user_pref(&quot;browser.tabs.warnOnClose&quot;, true);\r\n    user_pref(&quot;browser.tabs.warnOnCloseOtherTabs&quot;, true);\r\n    user_pref(&quot;browser.laterrun.bookkeeping.profileCreationTime&quot;, 1638899590);\r\n    user_pref(&quot;browser.laterrun.bookkeeping.sessionCount&quot;, 3);\r\n    user_pref(&quot;dom.push.userAgentID&quot;, &quot;dd6709b4XXXXXX517f7bf9e78&quot;);\r\n\r\nNotice how each property contains some standard **prefix** (i.e, *user_pref(&quot;*), a **key** (i.e, *browser.tabs.warnOnClose*) and a **value** (i.e, *true*, *1638899590*, *&quot;dd6709b4XXXXXX517f7bf9e78&quot;*).\r\n\r\n\r\nI guess this can be achieved with `RegEx` but I&#39;d prefer to solve this in a simpler way if possible.\r\n\r\nIs it possible to achieve this directly with the `Java Properties` class or must I use `RegEx`?\r\n\r\nThanks","title":"Read/Write to File with Custom Properties Syntax using Java Properties Class?","body":"<p>I'm able to read/write to file with standard <code>key=value</code> syntax using <code>java.Util.Properties</code> class with the following code:</p>\n<pre><code>Properties properties = new Properties();\nproperties.load(new InputStreamReader(fileInputStream, Charset.forName(&quot;UTF-8&quot;)));\n\nproperties.setProperty(key, value);\n</code></pre>\n<p>However, I'd like to read/edit the <code>user.js</code> file of <code>Firefox</code> profile which contains custom properties syntax:</p>\n<pre><code>PREFIX     KEY                        VALUE\nuser_pref(&quot;browser.tabs.warnOnClose&quot;, true);\nuser_pref(&quot;browser.tabs.warnOnCloseOtherTabs&quot;, true);\nuser_pref(&quot;browser.laterrun.bookkeeping.profileCreationTime&quot;, 1638899590);\nuser_pref(&quot;browser.laterrun.bookkeeping.sessionCount&quot;, 3);\nuser_pref(&quot;dom.push.userAgentID&quot;, &quot;dd6709b4XXXXXX517f7bf9e78&quot;);\n</code></pre>\n<p>Notice how each property contains some standard <strong>prefix</strong> (i.e, <em>user_pref(&quot;</em>), a <strong>key</strong> (i.e, <em>browser.tabs.warnOnClose</em>) and a <strong>value</strong> (i.e, <em>true</em>, <em>1638899590</em>, <em>&quot;dd6709b4XXXXXX517f7bf9e78&quot;</em>).</p>\n<p>I guess this can be achieved with <code>RegEx</code> but I'd prefer to solve this in a simpler way if possible.</p>\n<p>Is it possible to achieve this directly with the <code>Java Properties</code> class or must I use <code>RegEx</code>?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","junit","mockito"],"comments":[{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":0,"creation_date":1459209927,"post_id":36273195,"comment_id":60173378,"body_markdown":"Two quick points.  If `HomeController` is the point you&#39;re attempting to inject mocks into, you should annotate with `@InjectMocks`.  Secondly, try using `doReturn(vertexes).when(returnGraph).getVertexes();` instead of the similar call you have.","body":"Two quick points.  If <code>HomeController</code> is the point you&#39;re attempting to inject mocks into, you should annotate with <code>@InjectMocks</code>.  Secondly, try using <code>doReturn(vertexes).when(returnGraph).getVertexes();</code> instead of the similar call you have."},{"owner":{"account_id":4708698,"reputation":1254,"user_id":3809938,"accept_rate":44,"display_name":"user3809938"},"score":0,"creation_date":1459210677,"post_id":36273195,"comment_id":60173598,"body_markdown":"It says: The method doReturn(Map&lt;String,Vertex&gt;) is undefined for the type HomeControllerTest","body":"It says: The method doReturn(Map&lt;String,Vertex&gt;) is undefined for the type HomeControllerTest"},{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":0,"creation_date":1459212086,"post_id":36273195,"comment_id":60174014,"body_markdown":"You `static import` the method (like you have with `when`).  `import static org.mockito.Mockito.doReturn;`","body":"You <code>static import</code> the method (like you have with <code>when</code>).  <code>import static org.mockito.Mockito.doReturn;</code>"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1459214526,"post_id":36273195,"comment_id":60174505,"body_markdown":"And you almost *certainly* want to add that object to the model, not the session.","body":"And you almost <i>certainly</i> want to add that object to the model, not the session."}],"answers":[{"tags":[],"owner":{"account_id":3542644,"reputation":3919,"user_id":2959331,"display_name":"Sanj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459212929,"creation_date":1459212929,"answer_id":36273638,"question_id":36273195,"body_markdown":"    @RunWith(SpringJUnit4ClassRunner.class)\r\n    public class HomeControllerTest {\r\n    \r\n    @Mock\r\n    Graph returnGraph;\r\n    \r\n    @Mock\r\n    Map&lt;String,Vertex&gt; vertexes;\r\n    \r\n    @Mock\r\n    HttpSession session;\r\n    \r\n    @InjectMocks\r\n    HomeController homeController;\r\n    \r\n    @Before\r\n    public void setUp() {\r\n        MockitoAnnotations.initMocks(this);\r\n       \r\n    \r\n    }\r\n    \r\n    @Test\r\n    public void testgoToHomePage(){\r\n        when(returnGraph.getVertexes()).thenReturn(vertexes);\r\n        assertEquals(&quot;home&quot;, homeController.goToHomePage(session));\r\n    }\r\n    \r\n    }","title":"How to test a spring mvc controller","body":"<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\npublic class HomeControllerTest {\n\n@Mock\nGraph returnGraph;\n\n@Mock\nMap&lt;String,Vertex&gt; vertexes;\n\n@Mock\nHttpSession session;\n\n@InjectMocks\nHomeController homeController;\n\n@Before\npublic void setUp() {\n    MockitoAnnotations.initMocks(this);\n\n\n}\n\n@Test\npublic void testgoToHomePage(){\n    when(returnGraph.getVertexes()).thenReturn(vertexes);\n    assertEquals(\"home\", homeController.goToHomePage(session));\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3218308,"reputation":140,"user_id":2716347,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459232694,"creation_date":1459218130,"answer_id":36274295,"question_id":36273195,"body_markdown":"You have to use these annotations: `@RunWith(SpringJUnit4ClassRunner.class)`, `@WebAppConfiguration`\r\n\r\nIf using JavaConfig: `@ContextConfiguration(classes = MyWebConfig.class)`\r\n\r\nA complete working example : http://www.logicbig.com/tutorials/spring-framework/spring-web-mvc/spring-mvc-unit-testing/","title":"How to test a spring mvc controller","body":"<p>You have to use these annotations: <code>@RunWith(SpringJUnit4ClassRunner.class)</code>, <code>@WebAppConfiguration</code></p>\n\n<p>If using JavaConfig: <code>@ContextConfiguration(classes = MyWebConfig.class)</code></p>\n\n<p>A complete working example : <a href=\"http://www.logicbig.com/tutorials/spring-framework/spring-web-mvc/spring-mvc-unit-testing/\" rel=\"nofollow\">http://www.logicbig.com/tutorials/spring-framework/spring-web-mvc/spring-mvc-unit-testing/</a></p>\n"},{"tags":[],"owner":{"account_id":4218661,"reputation":1045,"user_id":3453976,"accept_rate":68,"display_name":"xierui"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638991786,"creation_date":1459222074,"answer_id":36274869,"question_id":36273195,"body_markdown":"You may try the Spring MVC Test Framework, here is the [current documentation][1] or [archive documentation][2]\r\n\r\nYou can test your controller like this:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration\r\n    public abstract class HomeControllerTest {\r\n\r\n        @Autowired\r\n        protected WebApplicationContext context;\r\n\r\n        @Resource(name=&quot;returnGraph&quot;)\r\n        Graph returnGraph;\r\n\r\n        protected MockMvc mockMvc;\r\n\r\n        @Test\r\n        public void testgoToHomePage(){\r\n            this.mockMvc.perform(get(&quot;/&quot;)\r\n               .andExpect(status().isOk())\r\n               .andExpect(content().string(&quot;home&quot;));\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html\r\n  [2]: https://web.archive.org/web/20161115070456/http://docs.spring.io/spring-framework/docs/3.2.0.BUILD-SNAPSHOT/reference/htmlsingle/#spring-mvc-test-framework","title":"How to test a spring mvc controller","body":"<p>You may try the Spring MVC Test Framework, here is the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html\" rel=\"nofollow noreferrer\">current documentation</a> or <a href=\"https://web.archive.org/web/20161115070456/http://docs.spring.io/spring-framework/docs/3.2.0.BUILD-SNAPSHOT/reference/htmlsingle/#spring-mvc-test-framework\" rel=\"nofollow noreferrer\">archive documentation</a></p>\n<p>You can test your controller like this:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\npublic abstract class HomeControllerTest {\n\n    @Autowired\n    protected WebApplicationContext context;\n\n    @Resource(name=&quot;returnGraph&quot;)\n    Graph returnGraph;\n\n    protected MockMvc mockMvc;\n\n    @Test\n    public void testgoToHomePage(){\n        this.mockMvc.perform(get(&quot;/&quot;)\n           .andExpect(status().isOk())\n           .andExpect(content().string(&quot;home&quot;));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4708698,"reputation":1254,"user_id":3809938,"accept_rate":44,"display_name":"user3809938"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4453,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1638991786,"creation_date":1459209508,"question_id":36273195,"body_markdown":"I have the following controller:\r\n\r\n    @Controller\r\n    public class HomeController {\r\n\t    @Resource(name=&quot;returnGraph&quot;)\r\n    \tGraph returnGraph;\r\n\t    \r\n        @RequestMapping(&quot;/&quot;)\r\n    \tpublic String goToHomePage(HttpSession session){\r\n\t    \tsession.setAttribute(&quot;sm&quot;, returnGraph.getVertexes());\r\n\t\t    return &quot;home&quot;;\r\n\t\t}\r\n    }\r\n\r\nI tried the following j unit test but it didnt work:\r\n\r\n    public class HomeControllerTest {\r\n\t\r\n\t    @Mock\r\n    \tGraph returnGraph;\r\n\t    @Mock\r\n    \tMap&lt;String,Vertex&gt; vertexes;\r\n\t    @Mock\r\n    \tHttpSession session;\r\n\t\r\n\t    HomeController homeController;\r\n\t\r\n    \t@Before\r\n\t    public void setUp() {\r\n\t\t    MockitoAnnotations.initMocks(this);\r\n    \t\thomeController = new HomeController();\r\n\t    }\r\n\r\n    \t@Test\r\n\t    public void testgoToHomePage(){\r\n    \t\twhen(returnGraph.getVertexes()).thenReturn(vertexes);\r\n\t    \tassertEquals(&quot;home&quot;, homeController.goToHomePage(session));\r\n    \t}\r\n    }\r\n\r\nIt says I have null pointer exception at.\r\n    \r\n    session.setAttribute(&quot;sm&quot;, returnGraph.getVertexes());\r\n\r\nHowever I am not sure why? I am not sure what more I can do about this, how exactly do I deal with the session.setAttribute. ","title":"How to test a spring mvc controller","body":"<p>I have the following controller:</p>\n\n<pre><code>@Controller\npublic class HomeController {\n    @Resource(name=\"returnGraph\")\n    Graph returnGraph;\n\n    @RequestMapping(\"/\")\n    public String goToHomePage(HttpSession session){\n        session.setAttribute(\"sm\", returnGraph.getVertexes());\n        return \"home\";\n    }\n}\n</code></pre>\n\n<p>I tried the following j unit test but it didnt work:</p>\n\n<pre><code>public class HomeControllerTest {\n\n    @Mock\n    Graph returnGraph;\n    @Mock\n    Map&lt;String,Vertex&gt; vertexes;\n    @Mock\n    HttpSession session;\n\n    HomeController homeController;\n\n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n        homeController = new HomeController();\n    }\n\n    @Test\n    public void testgoToHomePage(){\n        when(returnGraph.getVertexes()).thenReturn(vertexes);\n        assertEquals(\"home\", homeController.goToHomePage(session));\n    }\n}\n</code></pre>\n\n<p>It says I have null pointer exception at.</p>\n\n<pre><code>session.setAttribute(\"sm\", returnGraph.getVertexes());\n</code></pre>\n\n<p>However I am not sure why? I am not sure what more I can do about this, how exactly do I deal with the session.setAttribute. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1638959166,"post_id":70273284,"comment_id":124224086,"body_markdown":"`getArmor(X).getItem()` returns an incompatible type so you can&#39;t cast it into an instance of `ArmorItem`.\nI would recommend removing the casting and debug through the code. If you set the breakpoints correct or some prints you can get the original item type. So in general you have wrong type assumptions here. Not every item is a armor item so you need to add a instance/type check there and what to do if it is a different type.","body":"<code>getArmor(X).getItem()</code> returns an incompatible type so you can&#39;t cast it into an instance of <code>ArmorItem</code>. I would recommend removing the casting and debug through the code. If you set the breakpoints correct or some prints you can get the original item type. So in general you have wrong type assumptions here. Not every item is a armor item so you need to add a instance/type check there and what to do if it is a different type."}],"answers":[{"tags":[],"owner":{"account_id":5583247,"reputation":498,"user_id":4424668,"display_name":"edean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638959419,"creation_date":1638959096,"answer_id":70273412,"question_id":70273284,"body_markdown":"I&#39;m not really into minecraft modding, however it seems, that you are retrieving with `getArmor`-Getters the Armor-Pieces of a Player Character. If the player does not wear any armor in a slot, I suppose, you won&#39;t receive an instance of `ArmorItem` and instead receive an `AirItem` (basically an empty slot). \r\n\r\nTherefore, you might need to actually check for the instance type, you receive. Just the same way, you check in `public void inventoryTick` if `entity` is an instance of type `Player`. \r\n\r\nResulting implementation might look something like this: \r\n```java\r\nprivate int howmanyarmor(ArmorMaterial material, Player player) {\r\n        int numberofarmor = 0;\r\n        Item bootsItem = player.getInventory().getArmor(0).getItem();\r\n        if (bootsItem instanceof ArmorItem) {\r\n            ArmorItem boots = (ArmorItem)bootsItem;\r\n            ItemStack boots2 = player.getInventory().getArmor(0);\r\n            if (!boots2.isEmpty()) {\r\n                if (boots.getMaterial() == material){\r\n                    numberofarmor =+ 1;\r\n                }}\r\n        }\r\n        // [... re-do for remaining slots ...]\r\n        return numberofarmor;\r\n    }\r\n```","title":"Caused by: java.lang.ClassCastException: class net.minecraft.world.item.AirItem cannot be cast to class net.minecraft.world.item.ArmorItem","body":"<p>I'm not really into minecraft modding, however it seems, that you are retrieving with <code>getArmor</code>-Getters the Armor-Pieces of a Player Character. If the player does not wear any armor in a slot, I suppose, you won't receive an instance of <code>ArmorItem</code> and instead receive an <code>AirItem</code> (basically an empty slot).</p>\n<p>Therefore, you might need to actually check for the instance type, you receive. Just the same way, you check in <code>public void inventoryTick</code> if <code>entity</code> is an instance of type <code>Player</code>.</p>\n<p>Resulting implementation might look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int howmanyarmor(ArmorMaterial material, Player player) {\n        int numberofarmor = 0;\n        Item bootsItem = player.getInventory().getArmor(0).getItem();\n        if (bootsItem instanceof ArmorItem) {\n            ArmorItem boots = (ArmorItem)bootsItem;\n            ItemStack boots2 = player.getInventory().getArmor(0);\n            if (!boots2.isEmpty()) {\n                if (boots.getMaterial() == material){\n                    numberofarmor =+ 1;\n                }}\n        }\n        // [... re-do for remaining slots ...]\n        return numberofarmor;\n    }\n</code></pre>\n"}],"owner":{"account_id":23585900,"reputation":11,"user_id":17624350,"display_name":"E2Z1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":883,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70273412,"answer_count":1,"score":0,"last_activity_date":1638991764,"creation_date":1638958532,"question_id":70273284,"body_markdown":"I have been programming Minecraft Mods for 3 weeks and have a question.\r\nI want, the variable distance is how much armor you put on.\r\nThis is my code:\r\n\r\n\r\n\r\n\r\n\r\n\r\n    package com.E2Z1.pickaxemod.item.custom;\r\n\r\n    import net.minecraft.world.entity.Entity;\r\n    import net.minecraft.world.entity.EquipmentSlot;\r\n    import net.minecraft.world.entity.player.Player;\r\n    import net.minecraft.world.item.ArmorItem;\r\n    import net.minecraft.world.item.ArmorMaterial;\r\n    import net.minecraft.world.item.ItemStack;\r\n    import net.minecraft.world.level.Level;\r\n    import com.E2Z1.pickaxemod.item.ModArmorMaterial;\r\n\r\n\r\n    public class ModArmorItem extends ArmorItem {\r\n        public ModArmorItem(ArmorMaterial material, EquipmentSlot slot, Properties settings) {\r\n            super(material, slot, settings);\r\n        }\r\n\r\n        @Override\r\n        public void inventoryTick(ItemStack stack, Level world, Entity entity, int slot,\r\n    boolean selected) {\r\n            if(!world.isClientSide()) {\r\n                if(entity instanceof Player) {\r\n                    Player player = (Player)entity;\r\n\r\n                    GlobalVar.distance = howmanyarmor(ModArmorMaterial.PICKAXE_ARMOR, player);\r\n\r\n                }\r\n            }\r\n\r\n            super.inventoryTick(stack, world, entity, slot, selected);\r\n        }\r\n\r\n\r\n        private int howmanyarmor(ArmorMaterial material, Player player) {\r\n            ArmorItem boots = ((ArmorItem)player.getInventory().getArmor(0).getItem());\r\n            ArmorItem leggings = ((ArmorItem)player.getInventory().getArmor(1).getItem());\r\n            ArmorItem breastplate = ((ArmorItem)player.getInventory().getArmor(2).getItem());\r\n            ArmorItem helmet = ((ArmorItem)player.getInventory().getArmor(3).getItem());\r\n            ItemStack boots2 = player.getInventory().getArmor(0);\r\n            ItemStack leggings2 = player.getInventory().getArmor(1);\r\n            ItemStack breastplate2 = player.getInventory().getArmor(2);\r\n            ItemStack helmet2 = player.getInventory().getArmor(3);\r\n            int numberofarmor = 0;\r\n            if (!helmet2.isEmpty()) {\r\n                if (helmet.getMaterial() == material){\r\n                    numberofarmor =+ 1;\r\n                }}\r\n            if (!breastplate2.isEmpty()) {\r\n                if (breastplate.getMaterial() == material){\r\n                    numberofarmor =+ 1;\r\n                }}\r\n            if (!leggings2.isEmpty()) {\r\n                if (leggings.getMaterial() == material){\r\n                    numberofarmor =+ 1;\r\n                }}\r\n            if (!boots2.isEmpty()) {\r\n                if (boots.getMaterial() == material){\r\n                    numberofarmor =+ 1;\r\n                }}\r\n\r\n            return numberofarmor;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nWhen I start the world this error comes:\r\n\r\n    Caused by: java.lang.ClassCastException: class net.minecraft.world.item.AirItem cannot be cast to class net.minecraft.world.item.ArmorItem (net.minecraft.world.item.AirItem and net.minecraft.world.item.ArmorItem are in module minecraft@1.17.1 of loader &#39;TRANSFORMER&#39; @2c8662ac)\r\n\r\n\r\n\r\nForge Version: 37.0.104\r\nMinecraft Version: 1.17.1\r\n\r\n(Sorry for the bad english)\r\n\r\nI hope you can help","title":"Caused by: java.lang.ClassCastException: class net.minecraft.world.item.AirItem cannot be cast to class net.minecraft.world.item.ArmorItem","body":"<p>I have been programming Minecraft Mods for 3 weeks and have a question.\nI want, the variable distance is how much armor you put on.\nThis is my code:</p>\n<pre><code>package com.E2Z1.pickaxemod.item.custom;\n\nimport net.minecraft.world.entity.Entity;\nimport net.minecraft.world.entity.EquipmentSlot;\nimport net.minecraft.world.entity.player.Player;\nimport net.minecraft.world.item.ArmorItem;\nimport net.minecraft.world.item.ArmorMaterial;\nimport net.minecraft.world.item.ItemStack;\nimport net.minecraft.world.level.Level;\nimport com.E2Z1.pickaxemod.item.ModArmorMaterial;\n\n\npublic class ModArmorItem extends ArmorItem {\n    public ModArmorItem(ArmorMaterial material, EquipmentSlot slot, Properties settings) {\n        super(material, slot, settings);\n    }\n\n    @Override\n    public void inventoryTick(ItemStack stack, Level world, Entity entity, int slot,\nboolean selected) {\n        if(!world.isClientSide()) {\n            if(entity instanceof Player) {\n                Player player = (Player)entity;\n\n                GlobalVar.distance = howmanyarmor(ModArmorMaterial.PICKAXE_ARMOR, player);\n\n            }\n        }\n\n        super.inventoryTick(stack, world, entity, slot, selected);\n    }\n\n\n    private int howmanyarmor(ArmorMaterial material, Player player) {\n        ArmorItem boots = ((ArmorItem)player.getInventory().getArmor(0).getItem());\n        ArmorItem leggings = ((ArmorItem)player.getInventory().getArmor(1).getItem());\n        ArmorItem breastplate = ((ArmorItem)player.getInventory().getArmor(2).getItem());\n        ArmorItem helmet = ((ArmorItem)player.getInventory().getArmor(3).getItem());\n        ItemStack boots2 = player.getInventory().getArmor(0);\n        ItemStack leggings2 = player.getInventory().getArmor(1);\n        ItemStack breastplate2 = player.getInventory().getArmor(2);\n        ItemStack helmet2 = player.getInventory().getArmor(3);\n        int numberofarmor = 0;\n        if (!helmet2.isEmpty()) {\n            if (helmet.getMaterial() == material){\n                numberofarmor =+ 1;\n            }}\n        if (!breastplate2.isEmpty()) {\n            if (breastplate.getMaterial() == material){\n                numberofarmor =+ 1;\n            }}\n        if (!leggings2.isEmpty()) {\n            if (leggings.getMaterial() == material){\n                numberofarmor =+ 1;\n            }}\n        if (!boots2.isEmpty()) {\n            if (boots.getMaterial() == material){\n                numberofarmor =+ 1;\n            }}\n\n        return numberofarmor;\n    }\n}\n</code></pre>\n<p>When I start the world this error comes:</p>\n<pre><code>Caused by: java.lang.ClassCastException: class net.minecraft.world.item.AirItem cannot be cast to class net.minecraft.world.item.ArmorItem (net.minecraft.world.item.AirItem and net.minecraft.world.item.ArmorItem are in module minecraft@1.17.1 of loader 'TRANSFORMER' @2c8662ac)\n</code></pre>\n<p>Forge Version: 37.0.104\nMinecraft Version: 1.17.1</p>\n<p>(Sorry for the bad english)</p>\n<p>I hope you can help</p>\n"},{"tags":["java","spring-boot","spring-restcontroller"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1570875633,"post_id":58353039,"comment_id":103060069,"body_markdown":"You should NOT use EnableWebMvc in Spring Boot. https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-switch-off-default-mvc-configuration, https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-spring-mvc-auto-configuration","body":"You should NOT use EnableWebMvc in Spring Boot. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-switch-off-default-mvc-configuration\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>, <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-spring-mvc-auto-configuration\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":991364,"reputation":2697,"user_id":1008572,"accept_rate":73,"display_name":"Rox"},"score":0,"creation_date":1570875855,"post_id":58353039,"comment_id":103060123,"body_markdown":"Thanks! That was the issue! If you post that as an answer, I will mark it as correct.","body":"Thanks! That was the issue! If you post that as an answer, I will mark it as correct."}],"answers":[{"tags":[],"owner":{"account_id":16738341,"reputation":2203,"user_id":12098768,"display_name":"Richard Woods"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570875797,"creation_date":1570875797,"answer_id":58353135,"question_id":58353039,"body_markdown":"Static resources usually go under /src/main/resources to get onto the classpath in the maven standard project layout, and Spring Boot should serve all files under /static (/src/main/resources/static) without any `addResourceHandler()` application configuration.\r\n\r\nhttps://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\r\n\r\n","title":"Trying to serve static content from my SpringBoot app, but it fails","body":"<p>Static resources usually go under /src/main/resources to get onto the classpath in the maven standard project layout, and Spring Boot should serve all files under /static (/src/main/resources/static) without any <code>addResourceHandler()</code> application configuration.</p>\n\n<p><a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html</a></p>\n"},{"tags":[],"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570875936,"creation_date":1570875936,"answer_id":58353160,"question_id":58353039,"body_markdown":"I think you are missing your **resources** folder, your folder structure should look like\r\n\r\n  \r\n\r\n    MyApp/\r\n        src/\r\n          main/\r\n      \t\tresources/\r\n              static/index.html\r\n              static/img/image.png\r\n\r\n\r\n","title":"Trying to serve static content from my SpringBoot app, but it fails","body":"<p>I think you are missing your <strong>resources</strong> folder, your folder structure should look like</p>\n\n<pre><code>MyApp/\n    src/\n      main/\n        resources/\n          static/index.html\n          static/img/image.png\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1570876186,"creation_date":1570876186,"answer_id":58353191,"question_id":58353039,"body_markdown":"You should NOT use EnableWebMvc in Spring Boot. See [the][1] [documentation][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-switch-off-default-mvc-configuration\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-spring-mvc-auto-configuration","title":"Trying to serve static content from my SpringBoot app, but it fails","body":"<p>You should NOT use EnableWebMvc in Spring Boot. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-switch-off-default-mvc-configuration\" rel=\"nofollow noreferrer\">the</a> <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-spring-mvc-auto-configuration\" rel=\"nofollow noreferrer\">documentation</a></p>\n"},{"tags":[],"owner":{"account_id":15754783,"reputation":618,"user_id":11368263,"display_name":"yash sugandh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570876317,"creation_date":1570876317,"answer_id":58353208,"question_id":58353039,"body_markdown":"This is mentioned in the Spring Boot [Documentation][1], under the spring mvc section you can use WebMvcConfigurer, but you do not need to do @EnableWebMvc\r\n\r\nSo you should remove the @EnableWebMvc annotation!\r\n\r\n    //@EnableWebMvc Remove this\r\n    @RestController\r\n    public class MyRestController implements WebMvcConfigurer {\r\n    \r\n       @Override\r\n       public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n           registry.addResourceHandler(&quot;/static/**&quot;)\r\n                   .addResourceLocations(&quot;classpath:/static&quot;)\r\n                   .addResourceLocations(&quot;file:/static&quot;);\r\n       }\r\n    \r\n       @PostMapping(path = &quot;/hello&quot;)\r\n       public MyResponse hello(@RequestBody() MyBody body,\r\n                             HttpServletRequest request) {\r\n           return new MyResponse(&quot;Hello &quot; + request.getRemoteAddr());\r\n       }\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/","title":"Trying to serve static content from my SpringBoot app, but it fails","body":"<p>This is mentioned in the Spring Boot <a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/\" rel=\"nofollow noreferrer\">Documentation</a>, under the spring mvc section you can use WebMvcConfigurer, but you do not need to do @EnableWebMvc</p>\n\n<p>So you should remove the @EnableWebMvc annotation!</p>\n\n<pre><code>//@EnableWebMvc Remove this\n@RestController\npublic class MyRestController implements WebMvcConfigurer {\n\n   @Override\n   public void addResourceHandlers(ResourceHandlerRegistry registry) {\n       registry.addResourceHandler(\"/static/**\")\n               .addResourceLocations(\"classpath:/static\")\n               .addResourceLocations(\"file:/static\");\n   }\n\n   @PostMapping(path = \"/hello\")\n   public MyResponse hello(@RequestBody() MyBody body,\n                         HttpServletRequest request) {\n       return new MyResponse(\"Hello \" + request.getRemoteAddr());\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1049806,"reputation":552,"user_id":1054014,"display_name":"Hinotori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638991156,"creation_date":1638991156,"answer_id":70280572,"question_id":58353039,"body_markdown":"I have a blog application that receives uploaded images in a folder that can be outside static/. \r\n\r\n    MyApp/\r\n    src/\r\n      main/\r\n        resources/\r\n              static/\r\n                  css/\r\n                  javascript/\r\n                  images/\r\n              blog/\r\n                  1-blogpost/ (here are the uploaded images)\r\n                  2-blogpost/ (here are the uploaded images)\r\n                  (... and so on)\r\n\r\nSo i made this in Kotlin with Spring Boot:\r\n\r\n    @Configuration\r\n    class WebConfiguration : WebMvcConfigurer {\r\n\t\r\n\t    private val logger = loggerFactory.getLogger(WebConfiguration::class.java)\r\n\r\n\t    override fun addResourceHandlers(registry: ResourceHandlerRegistry) {\r\n\t\t    logger.info(&quot;####### Entering ResourceHandlers configurations #######&quot;)\r\n    \t\tregistry.addResourceHandler(&quot;/**&quot;).addResourceLocations(&quot;classpath:/static/&quot;)\r\n\t    \tregistry.addResourceHandler(&quot;/blog/**&quot;).addResourceLocations(&quot;file:src/main/resources/blog/&quot;)\r\n    \t}\r\n\r\n\t    @Bean\r\n    \tfun restTemplate() : RestTemplate {\r\n\t    \treturn RestTemplate()\r\n\t    }\r\n    }\r\n","title":"Trying to serve static content from my SpringBoot app, but it fails","body":"<p>I have a blog application that receives uploaded images in a folder that can be outside static/.</p>\n<pre><code>MyApp/\nsrc/\n  main/\n    resources/\n          static/\n              css/\n              javascript/\n              images/\n          blog/\n              1-blogpost/ (here are the uploaded images)\n              2-blogpost/ (here are the uploaded images)\n              (... and so on)\n</code></pre>\n<p>So i made this in Kotlin with Spring Boot:</p>\n<pre><code>@Configuration\nclass WebConfiguration : WebMvcConfigurer {\n\n    private val logger = loggerFactory.getLogger(WebConfiguration::class.java)\n\n    override fun addResourceHandlers(registry: ResourceHandlerRegistry) {\n        logger.info(&quot;####### Entering ResourceHandlers configurations #######&quot;)\n        registry.addResourceHandler(&quot;/**&quot;).addResourceLocations(&quot;classpath:/static/&quot;)\n        registry.addResourceHandler(&quot;/blog/**&quot;).addResourceLocations(&quot;file:src/main/resources/blog/&quot;)\n    }\n\n    @Bean\n    fun restTemplate() : RestTemplate {\n        return RestTemplate()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":991364,"reputation":2697,"user_id":1008572,"accept_rate":73,"display_name":"Rox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58353191,"answer_count":5,"score":0,"last_activity_date":1638991156,"creation_date":1570874951,"question_id":58353039,"body_markdown":"I want to serve static files from my SpringBoot application. I have this very simple controller that I wish does the stuff:\r\n\r\n    @EnableWebMvc\r\n    @RestController\r\n    public class MyRestController implements WebMvcConfigurer {\r\n\r\n       @Override\r\n       public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n           registry.addResourceHandler(&quot;/static/**&quot;)\r\n                   .addResourceLocations(&quot;classpath:/static&quot;)\r\n                   .addResourceLocations(&quot;file:/static&quot;);\r\n       }\r\n\r\n       @PostMapping(path = &quot;/hello&quot;)\r\n       public MyResponse hello(@RequestBody() MyBody body,\r\n                             HttpServletRequest request) {\r\n           return new MyResponse(&quot;Hello &quot; + request.getRemoteAddr());\r\n       }\r\n    }\r\n\r\nMy index.html file resides in the *static* folder:\r\n    \r\n    MyApp/\r\n       src/\r\n          main/\r\n             static/index.html\r\n             static/img/image.png\r\n\r\nWhen I do a GET request with curl to http://localhost:8080 the I get response code 404 in return and the server states `No mapping for GET /`.\r\nI expect that the index.html file is returned. \r\n\r\nSending a POST request to `http://localhost:8080/hello` with a `MyBody` object as a json body works though!\r\n\r\nWhat have I done wrong?\r\n\r\nI have read this [blogpost][1] from the Spring site, but it seems quiet old since that post was published in 2013. Maybe it works different today? \r\n\r\n\r\n  [1]: https://spring.io/blog/2013/12/19/serving-static-web-content-with-spring-boot","title":"Trying to serve static content from my SpringBoot app, but it fails","body":"<p>I want to serve static files from my SpringBoot application. I have this very simple controller that I wish does the stuff:</p>\n\n<pre><code>@EnableWebMvc\n@RestController\npublic class MyRestController implements WebMvcConfigurer {\n\n   @Override\n   public void addResourceHandlers(ResourceHandlerRegistry registry) {\n       registry.addResourceHandler(\"/static/**\")\n               .addResourceLocations(\"classpath:/static\")\n               .addResourceLocations(\"file:/static\");\n   }\n\n   @PostMapping(path = \"/hello\")\n   public MyResponse hello(@RequestBody() MyBody body,\n                         HttpServletRequest request) {\n       return new MyResponse(\"Hello \" + request.getRemoteAddr());\n   }\n}\n</code></pre>\n\n<p>My index.html file resides in the <em>static</em> folder:</p>\n\n<pre><code>MyApp/\n   src/\n      main/\n         static/index.html\n         static/img/image.png\n</code></pre>\n\n<p>When I do a GET request with curl to <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">http://localhost:8080</a> the I get response code 404 in return and the server states <code>No mapping for GET /</code>.\nI expect that the index.html file is returned. </p>\n\n<p>Sending a POST request to <code>http://localhost:8080/hello</code> with a <code>MyBody</code> object as a json body works though!</p>\n\n<p>What have I done wrong?</p>\n\n<p>I have read this <a href=\"https://spring.io/blog/2013/12/19/serving-static-web-content-with-spring-boot\" rel=\"nofollow noreferrer\">blogpost</a> from the Spring site, but it seems quiet old since that post was published in 2013. Maybe it works different today? </p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1638991410,"post_id":70280385,"comment_id":124237023,"body_markdown":"You can do this in one line with a regex: `String strout = str.replaceAll(&quot;(\\\\w+)&quot;, &quot;\\&quot;$1\\&quot;&quot;);`  source: [Re-add strings with qoutations](https://stackoverflow.com/q/37550074/16653700) - Mason Smith","body":"You can do this in one line with a regex: <code>String strout = str.replaceAll(&quot;(\\\\w+)&quot;, &quot;\\&quot;$1\\&quot;&quot;);</code>  source: <a href=\"https://stackoverflow.com/q/37550074/16653700\">Re-add strings with qoutations</a> - Mason Smith"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1638991543,"post_id":70280385,"comment_id":124237068,"body_markdown":"What you are doing can be safer/stronger if make use of encodeURI (https://stackoverflow.com/questions/607176/java-equivalent-to-javascripts-encodeuricomponent-that-produces-identical-outpu)","body":"What you are doing can be safer/stronger if make use of encodeURI (<a href=\"https://stackoverflow.com/questions/607176/java-equivalent-to-javascripts-encodeuricomponent-that-produces-identical-outpu\" title=\"java equivalent to javascripts encodeuricomponent that produces identical outpu\">stackoverflow.com/questions/607176/&hellip;</a>)"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1638992943,"post_id":70280385,"comment_id":124237544,"body_markdown":"`str.replaceAll(&quot;[^,]+&quot;, &quot;\\&quot;$0\\&quot;&quot;)`","body":"<code>str.replaceAll(&quot;[^,]+&quot;, &quot;\\&quot;$0\\&quot;&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1638991121,"creation_date":1638990717,"answer_id":70280495,"question_id":70280385,"body_markdown":"You can use `split` and use `stream`:\r\n\r\n    public static String covert(String str) {\r\n        return Arrays.stream(str.split(&quot;,&quot;))\r\n                .map(s -&gt; s.isEmpty() ? s : &#39;&quot;&#39; + s + &#39;&quot;&#39;)\r\n                .collect(Collectors.joining(&quot;,&quot;));\r\n    }\r\n\r\nThen:\r\n\r\n    String str = &quot;the,quick,brown,,,,,fox,jumped,,,over,the,lazy,dog&quot;;\r\n\r\n    System.out.println(covert(str));\r\n\r\nOutput:\r\n\r\n    &quot;the&quot;,&quot;quick&quot;,&quot;brown&quot;,,,,,&quot;fox&quot;,&quot;jumped&quot;,,,&quot;over&quot;,&quot;the&quot;,&quot;lazy&quot;,&quot;dog&quot;\r\n\r\n","title":"Enclose each string in a comma separated string in double quotes","body":"<p>You can use <code>split</code> and use <code>stream</code>:</p>\n<pre><code>public static String covert(String str) {\n    return Arrays.stream(str.split(&quot;,&quot;))\n            .map(s -&gt; s.isEmpty() ? s : '&quot;' + s + '&quot;')\n            .collect(Collectors.joining(&quot;,&quot;));\n}\n</code></pre>\n<p>Then:</p>\n<pre><code>String str = &quot;the,quick,brown,,,,,fox,jumped,,,over,the,lazy,dog&quot;;\n\nSystem.out.println(covert(str));\n</code></pre>\n<p>Output:</p>\n<pre><code>&quot;the&quot;,&quot;quick&quot;,&quot;brown&quot;,,,,,&quot;fox&quot;,&quot;jumped&quot;,,,&quot;over&quot;,&quot;the&quot;,&quot;lazy&quot;,&quot;dog&quot;\n</code></pre>\n"}],"owner":{"account_id":462157,"reputation":226,"user_id":864309,"accept_rate":50,"display_name":"user864309"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1890,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70280495,"answer_count":1,"score":1,"last_activity_date":1638991121,"creation_date":1638990051,"question_id":70280385,"body_markdown":"I am working on a requirement where I need to enclose the individual strings in a comma-separated string in double-quotes while leaving the empty strings.\r\n\r\nEg : The string **the,quick,brown,,,,,fox,jumped,,,over,the,lazy,dog** should be converted to **&quot;the&quot;,&quot;quick&quot;,&quot;brown&quot;,,,,,&quot;fox&quot;,&quot;jumped&quot;,,,&quot;over&quot;,&quot;the&quot;,&quot;lazy&quot;,&quot;dog&quot;**\r\n\r\nI have this piece of code that works. But wondering whether there is a better way to do this. btw, I am on JDK 8.\r\n\r\n```\r\nString str = &quot;the,quick,brown,,,,,fox,jumped,,,over,the,lazy,dog&quot;;\r\n//split the string\r\nList&lt;String&gt; list = Arrays.asList(str.split(&quot;,&quot;, -1));\r\n// add double quotes around each list item and collect it as a comma separated string\r\nString strout = list.stream().collect(Collectors.joining(&quot;\\&quot;,\\&quot;&quot;, &quot;\\&quot;&quot;, &quot;\\&quot;&quot;));\r\n//replace two consecutive double quotes with a empty string\r\nstrout = strout.replaceAll(&quot;\\&quot;\\&quot;&quot;, &quot;&quot;);\r\nSystem.out.println(strout);\r\n```","title":"Enclose each string in a comma separated string in double quotes","body":"<p>I am working on a requirement where I need to enclose the individual strings in a comma-separated string in double-quotes while leaving the empty strings.</p>\n<p>Eg : The string <strong>the,quick,brown,,,,,fox,jumped,,,over,the,lazy,dog</strong> should be converted to <strong>&quot;the&quot;,&quot;quick&quot;,&quot;brown&quot;,,,,,&quot;fox&quot;,&quot;jumped&quot;,,,&quot;over&quot;,&quot;the&quot;,&quot;lazy&quot;,&quot;dog&quot;</strong></p>\n<p>I have this piece of code that works. But wondering whether there is a better way to do this. btw, I am on JDK 8.</p>\n<pre><code>String str = &quot;the,quick,brown,,,,,fox,jumped,,,over,the,lazy,dog&quot;;\n//split the string\nList&lt;String&gt; list = Arrays.asList(str.split(&quot;,&quot;, -1));\n// add double quotes around each list item and collect it as a comma separated string\nString strout = list.stream().collect(Collectors.joining(&quot;\\&quot;,\\&quot;&quot;, &quot;\\&quot;&quot;, &quot;\\&quot;&quot;));\n//replace two consecutive double quotes with a empty string\nstrout = strout.replaceAll(&quot;\\&quot;\\&quot;&quot;, &quot;&quot;);\nSystem.out.println(strout);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1638969255,"post_id":70275541,"comment_id":124227817,"body_markdown":"Seems odd that you update the x coordinate of each point and then you use the updated value to calculate the new y coordinate.","body":"Seems odd that you update the x coordinate of each point and then you use the updated value to calculate the new y coordinate."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1638969357,"post_id":70275541,"comment_id":124227859,"body_markdown":"@khelwood has sharp eyes!","body":"@khelwood has sharp eyes!"},{"owner":{"display_name":"user17059077"},"score":0,"creation_date":1638969773,"post_id":70275541,"comment_id":124228012,"body_markdown":"@khelwood that is, I have to create new objects with calculated new coordinates.","body":"@khelwood that is, I have to create new objects with calculated new coordinates."},{"owner":{"display_name":"user17059077"},"score":0,"creation_date":1638969793,"post_id":70275541,"comment_id":124228019,"body_markdown":"@khelwood but how do I output them to the console then?","body":"@khelwood but how do I output them to the console then?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1638969881,"post_id":70275541,"comment_id":124228059,"body_markdown":"You create a temporary variable to hold the x value, and then assign it to `A.x` *after* calculating `A.y`. Same for `B.x`, and `C.x`. As an aside, you will want to learn and use [Java naming conventions](http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java). Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others.","body":"You create a temporary variable to hold the x value, and then assign it to <code>A.x</code> <i>after</i> calculating <code>A.y</code>. Same for <code>B.x</code>, and <code>C.x</code>. As an aside, you will want to learn and use <a href=\"http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java\" rel=\"nofollow noreferrer\">Java naming conventions</a>. Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others."},{"owner":{"display_name":"user17059077"},"score":0,"creation_date":1638970073,"post_id":70275541,"comment_id":124228137,"body_markdown":"@HovercraftFullOfEels yes, I&#39;d rather create a temporary variable, it will be easier, thank you.","body":"@HovercraftFullOfEels yes, I&#39;d rather create a temporary variable, it will be easier, thank you."}],"owner":{"display_name":"user17059077"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638990350,"creation_date":1638968909,"question_id":70275541,"body_markdown":"I want to calculate the coordinates of the points of the triangle when rotated by 45 degrees.\r\nI decided to use this formula.but I don&#39;t understand where I made a mistake, since I kind of wrote everything correctly.\r\nWhile for the x coordinates I get the correct results, but the problem is with y.\r\ncan you tell me what I was wrong about?thank you in advance.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    class Point {\r\n    \t Double x;\r\n    \t Double y;\r\n    \r\n    \tpublic Point(double x, double y) {\r\n    \r\n    \t\tthis.setX(x);\r\n    \t\tthis.setY(y);\r\n    \t\t}\r\n    \r\n    \t\tpublic double getX() {\r\n    \t\treturn x;\r\n    \t\t}\r\n    \t\tpublic void setX(double x) {\r\n    \t\t\tthis.x = x;\r\n    \t\t}\r\n    \t\tpublic double getY() {\r\n    \t\t\treturn y;\r\n    \t\t}\r\n    \t\tpublic void setY(double y) {\r\n    \t\t\tthis.y = y;\r\n    \t\t\t}\r\n    \t\tpublic Point() {\r\n    \t\t\tx=0.0;\r\n    \t\t\ty=0.0;\r\n    \t\t\t\r\n    \t\t}\r\n    \t    public String toString() {\r\n    \t        \r\n    \t        return x + &quot; &quot; + y + &quot;\\n&quot;;\r\n    \t    }\r\n    \t}\r\n    \r\n    class Triangle{\r\n    \tpublic Point A;\r\n    \tpublic Point B;\r\n    \tpublic Point C;\r\n    \t\r\n    \tpublic Triangle (Point _a, Point _b,Point _c) {\r\n    \t\tA=_a;\r\n    \t\tB=_b;\r\n    \t\tC=_c;\r\n    \t\t\r\n    \r\n    \r\n    \r\n        public void sd_alfa(double d) {\r\n        \tPoint CG=new Point((A.x+B.x+C.x)/3.0,(A.y+B.y+C.y)/3.0);\r\n        \tA.x=CG.x+(A.x-CG.x)*Math.cos(d)-(A.y-CG.y)*Math.sin(d);\r\n        \tA.y=CG.y+(A.x-CG.x)*Math.sin(d)+(A.y-CG.y)*Math.cos(d);\r\n        \tB.x=CG.x+(B.x-CG.x)*Math.cos(d)-(B.y-CG.y)*Math.sin(d);\r\n        \tB.y=CG.y+(B.x-CG.x)*Math.sin(d)+(B.y-CG.y)*Math.cos(d);\r\n        \tC.x=CG.x+(C.x-CG.x)*Math.cos(d)-(C.y-CG.y)*Math.sin(d);\r\n        \tC.y=CG.y+(C.x-CG.x)*Math.sin(d)+(C.y-CG.y)*Math.cos(d);\r\n        }\r\n        public String Draw() {\r\n            \r\n            return &quot; &quot;+&quot;A &quot;+ A + &quot; &quot;+ &quot;B &quot;+ B + &quot; &quot;+ &quot;C &quot;+ C;\r\n        }\r\n    \t\r\n    }\r\n    \r\n    public class EightLab {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n            Point a = new Point(1,1);\r\n            Point b = new Point(3,3);\r\n            Point c = new Point(3,1);\r\n            System.out.println(&quot;A = &quot; + a.toString());\r\n            Triangle T = new Triangle(a, b, c);\r\n            System.out.println(&quot;Triangle = \\n&quot; + T.Draw());\r\n            //T.sd_up(2.0);\r\n          //  System.out.println(&quot;Triangle = \\n&quot; + T.Draw());\r\n            T.sd_alfa(Math.toRadians(45.0));\r\n            System.out.println(&quot;Triangle = \\n&quot; + T.Draw());\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nMy result:\r\n\r\n\r\n&gt;  A 1.8619288125423017 0.8619288125423017\r\n&gt; \r\n&gt;  B 1.8619288125423021 2.276142374915397\r\n&gt; \r\n&gt;  C 3.276142374915397 1.8619288125423017\r\n\r\nThe result I want to get:\r\n\r\n&gt; 1.8633095244169 0.25578643762691\r\n&gt; \r\n&gt; 1.8633095244169 3.0842135623731\r\n&gt; \r\n&gt; 3.27752308679 1.67\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lQTVs.png\r\n","title":"the formula gives an incorrect result (turning a point by a given angle)","body":"<p>I want to calculate the coordinates of the points of the triangle when rotated by 45 degrees.\nI decided to use this formula.but I don't understand where I made a mistake, since I kind of wrote everything correctly.\nWhile for the x coordinates I get the correct results, but the problem is with y.\ncan you tell me what I was wrong about?thank you in advance.</p>\n<p><a href=\"https://i.stack.imgur.com/lQTVs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lQTVs.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>class Point {\n     Double x;\n     Double y;\n\n    public Point(double x, double y) {\n\n        this.setX(x);\n        this.setY(y);\n        }\n\n        public double getX() {\n        return x;\n        }\n        public void setX(double x) {\n            this.x = x;\n        }\n        public double getY() {\n            return y;\n        }\n        public void setY(double y) {\n            this.y = y;\n            }\n        public Point() {\n            x=0.0;\n            y=0.0;\n            \n        }\n        public String toString() {\n            \n            return x + &quot; &quot; + y + &quot;\\n&quot;;\n        }\n    }\n\nclass Triangle{\n    public Point A;\n    public Point B;\n    public Point C;\n    \n    public Triangle (Point _a, Point _b,Point _c) {\n        A=_a;\n        B=_b;\n        C=_c;\n        \n\n\n\n    public void sd_alfa(double d) {\n        Point CG=new Point((A.x+B.x+C.x)/3.0,(A.y+B.y+C.y)/3.0);\n        A.x=CG.x+(A.x-CG.x)*Math.cos(d)-(A.y-CG.y)*Math.sin(d);\n        A.y=CG.y+(A.x-CG.x)*Math.sin(d)+(A.y-CG.y)*Math.cos(d);\n        B.x=CG.x+(B.x-CG.x)*Math.cos(d)-(B.y-CG.y)*Math.sin(d);\n        B.y=CG.y+(B.x-CG.x)*Math.sin(d)+(B.y-CG.y)*Math.cos(d);\n        C.x=CG.x+(C.x-CG.x)*Math.cos(d)-(C.y-CG.y)*Math.sin(d);\n        C.y=CG.y+(C.x-CG.x)*Math.sin(d)+(C.y-CG.y)*Math.cos(d);\n    }\n    public String Draw() {\n        \n        return &quot; &quot;+&quot;A &quot;+ A + &quot; &quot;+ &quot;B &quot;+ B + &quot; &quot;+ &quot;C &quot;+ C;\n    }\n    \n}\n\npublic class EightLab {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Point a = new Point(1,1);\n        Point b = new Point(3,3);\n        Point c = new Point(3,1);\n        System.out.println(&quot;A = &quot; + a.toString());\n        Triangle T = new Triangle(a, b, c);\n        System.out.println(&quot;Triangle = \\n&quot; + T.Draw());\n        //T.sd_up(2.0);\n      //  System.out.println(&quot;Triangle = \\n&quot; + T.Draw());\n        T.sd_alfa(Math.toRadians(45.0));\n        System.out.println(&quot;Triangle = \\n&quot; + T.Draw());\n\n    }\n\n}\n</code></pre>\n<p>My result:</p>\n<blockquote>\n<p>A 1.8619288125423017 0.8619288125423017</p>\n<p>B 1.8619288125423021 2.276142374915397</p>\n<p>C 3.276142374915397 1.8619288125423017</p>\n</blockquote>\n<p>The result I want to get:</p>\n<blockquote>\n<p>1.8633095244169 0.25578643762691</p>\n<p>1.8633095244169 3.0842135623731</p>\n<p>3.27752308679 1.67</p>\n</blockquote>\n"},{"tags":["java","radio-button"],"comments":[{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1638988114,"post_id":70279872,"comment_id":124235907,"body_markdown":"Please reformat your code","body":"Please reformat your code"},{"owner":{"account_id":17002054,"reputation":105,"user_id":12299208,"display_name":"Sayan Dasgupta"},"score":0,"creation_date":1638988504,"post_id":70279872,"comment_id":124236042,"body_markdown":"please reformat the code.  or  try by putting some println in the controller and alerts in the html or jsp whatever you are using","body":"please reformat the code.  or  try by putting some println in the controller and alerts in the html or jsp whatever you are using"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1638990265,"post_id":70279872,"comment_id":124236634,"body_markdown":"I should start a GoFundMe for the time I spent formatting this. Good grief!!","body":"I should start a GoFundMe for the time I spent formatting this. Good grief!!"}],"owner":{"account_id":19437647,"reputation":1,"user_id":14216756,"display_name":"Johnny basha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638990335,"creation_date":1638987450,"question_id":70279872,"body_markdown":"I am creating a quiz app and it contains four options when the user    clicked the option it is not being recorded \r\n\r\n    &lt;ul&gt;\r\n        &lt;c:forEach var=&quot;question&quot; items=&quot;${questions}&quot;&gt;\r\n            &lt;h2 class=&quot;qestion&quot;&gt;${question.quesDescription}&lt;/h2&gt;\r\n            &lt;li&gt;\r\n\t\t\t\t&lt;input type=&quot;hidden&quot; name=&quot;questionId&quot; value=&quot;${question.quesId}&quot;/&gt;&lt;br/&gt;\r\n\t\t\t\t&lt;input type=&quot;radio&quot; name=&quot;question_${question.quesId}&quot; value=&quot;${question.option1}&quot;/&gt;\r\n\t\t\t\t&lt;input type=&quot;radio&quot; name=&quot;question_${question.quesId}&quot; value=&quot;${question.option2}&quot;/&gt;${question.option2}&lt;br/&gt;\r\n\t\t\t\t&lt;input type=&quot;radio&quot; name=&quot;question_${question.quesId}&quot; value=&quot;${question.option3}&quot;/&gt;${question.option3}&lt;br/&gt;\r\n\t\t\t\t&lt;input type=&quot;radio&quot; name=&quot;question_${question.quesId}&quot; value=&quot;${question.option4}&quot;/&gt;${question.option4}&lt;br/&gt;\r\n\t\t\t&lt;/li&gt;\r\n\t\t&lt;/c:forEach&gt;\r\n    &lt;/ul&gt;\r\n\r\n\r\n----------\r\n\r\n\r\n   \r\n   \t@GetMapping(&quot;/getResult&quot;)\r\n\tpublic ModelAndView getResult(HttpServletRequest req) {\r\n\t\tint stdid = Integer.parseInt(req.getParameter(&quot;studentId&quot;));\r\n\t\tint subid = Integer.parseInt(req.getParameter(&quot;subjectId&quot;));\r\n\r\n\t\tModelAndView mv = new ModelAndView();\r\n\t\tString[] questionIds = req.getParameterValues(&quot;questionId&quot;);\r\n\t\tdouble result=0.0;\r\n\r\n\t\t\tfor (String questionId : questionIds) {\r\n\t\t\t\tint quesid = Integer.parseInt(questionId);\r\n\t\t\t\tQuestions q = quesrepo.getQuestionsById(quesid);\r\n\t\t\t\tString selectedOption = req.getParameter(&quot;question_&quot; + questionId);\r\n\t\t\t\tString correctOption = q.getCorrectOption();\r\n\r\n\t\t\t\tif (selectedOption == null) {\r\n\t\t\t\t\tselectedOption = &quot;&quot;;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (selectedOption.equals(correctOption)) {\r\n\t\t\t\t\tresult += 1.0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult -= 0.25;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\tResults res = new Results();\r\n\t\tres.setStdId(stdid);\r\n\t\tres.setSubId(subid);\r\n\t\tres.setScore(result);\r\n   \t\tresrepo.save(res);\r\n\t\tmv.addObject(&quot;result&quot;, result);\r\n   \t\tmv.setViewName(&quot;results&quot;);\r\n\t\treturn mv; \t\r\n\t}\r\n\r\n\r\nHow to get the selected option? I am unable to get the option selected by user!!\r\n","title":"how to set the radiobutton value and get the selected value in spring mvc","body":"<p>I am creating a quiz app and it contains four options when the user    clicked the option it is not being recorded</p>\n<pre><code>&lt;ul&gt;\n    &lt;c:forEach var=&quot;question&quot; items=&quot;${questions}&quot;&gt;\n        &lt;h2 class=&quot;qestion&quot;&gt;${question.quesDescription}&lt;/h2&gt;\n        &lt;li&gt;\n            &lt;input type=&quot;hidden&quot; name=&quot;questionId&quot; value=&quot;${question.quesId}&quot;/&gt;&lt;br/&gt;\n            &lt;input type=&quot;radio&quot; name=&quot;question_${question.quesId}&quot; value=&quot;${question.option1}&quot;/&gt;\n            &lt;input type=&quot;radio&quot; name=&quot;question_${question.quesId}&quot; value=&quot;${question.option2}&quot;/&gt;${question.option2}&lt;br/&gt;\n            &lt;input type=&quot;radio&quot; name=&quot;question_${question.quesId}&quot; value=&quot;${question.option3}&quot;/&gt;${question.option3}&lt;br/&gt;\n            &lt;input type=&quot;radio&quot; name=&quot;question_${question.quesId}&quot; value=&quot;${question.option4}&quot;/&gt;${question.option4}&lt;br/&gt;\n        &lt;/li&gt;\n    &lt;/c:forEach&gt;\n&lt;/ul&gt;\n</code></pre>\n<hr />\n<pre><code>@GetMapping(&quot;/getResult&quot;)\npublic ModelAndView getResult(HttpServletRequest req) {\n    int stdid = Integer.parseInt(req.getParameter(&quot;studentId&quot;));\n    int subid = Integer.parseInt(req.getParameter(&quot;subjectId&quot;));\n\n    ModelAndView mv = new ModelAndView();\n    String[] questionIds = req.getParameterValues(&quot;questionId&quot;);\n    double result=0.0;\n\n        for (String questionId : questionIds) {\n            int quesid = Integer.parseInt(questionId);\n            Questions q = quesrepo.getQuestionsById(quesid);\n            String selectedOption = req.getParameter(&quot;question_&quot; + questionId);\n            String correctOption = q.getCorrectOption();\n\n            if (selectedOption == null) {\n                selectedOption = &quot;&quot;;\n            }\n\n            if (selectedOption.equals(correctOption)) {\n                result += 1.0;\n            } else {\n                result -= 0.25;\n            }\n        }\n\n    Results res = new Results();\n    res.setStdId(stdid);\n    res.setSubId(subid);\n    res.setScore(result);\n    resrepo.save(res);\n    mv.addObject(&quot;result&quot;, result);\n    mv.setViewName(&quot;results&quot;);\n    return mv;  \n}\n</code></pre>\n<p>How to get the selected option? I am unable to get the option selected by user!!</p>\n"},{"tags":["java","unit-testing","mocking","mockito","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1445295494,"creation_date":1445295106,"answer_id":33225274,"question_id":33225195,"body_markdown":"I would definitely take the approach of adding a constructor to allow the `SimpleJdbcCall` to be injected directly.\r\n\r\n    MyClass(SimpleJdbcCall simpleJdbcCall) {\r\n      this.simpleJdbcCall = simpleJdbcCall;\r\n    }\r\n\r\n(and probably invoke that constructor from the one which currently invokes `new`).\r\n\r\nThis isn&#39;t &quot;hackish&quot;, it is simply [Dependency Injection](https://en.wikipedia.org/wiki/Dependency_injection). I&#39;d argue that making the class testable without needing to test the workings of `SimpleJdbcCall` is a definite improvement.\r\n\r\nInvoking `new` in the constructor makes testing harder because it is a tight static coupling to the class being instantiated.\r\n\r\nI found [Miško Hevery&#39;s blog post](http://misko.hevery.com/code-reviewers-guide/flaw-constructor-does-real-work/) on this topic very interesting.","title":"How can I unit test a class that uses SimpleJdbcCall","body":"<p>I would definitely take the approach of adding a constructor to allow the <code>SimpleJdbcCall</code> to be injected directly.</p>\n\n<pre><code>MyClass(SimpleJdbcCall simpleJdbcCall) {\n  this.simpleJdbcCall = simpleJdbcCall;\n}\n</code></pre>\n\n<p>(and probably invoke that constructor from the one which currently invokes <code>new</code>).</p>\n\n<p>This isn't \"hackish\", it is simply <a href=\"https://en.wikipedia.org/wiki/Dependency_injection\" rel=\"nofollow\">Dependency Injection</a>. I'd argue that making the class testable without needing to test the workings of <code>SimpleJdbcCall</code> is a definite improvement.</p>\n\n<p>Invoking <code>new</code> in the constructor makes testing harder because it is a tight static coupling to the class being instantiated.</p>\n\n<p>I found <a href=\"http://misko.hevery.com/code-reviewers-guide/flaw-constructor-does-real-work/\" rel=\"nofollow\">Miško Hevery's blog post</a> on this topic very interesting.</p>\n"},{"tags":[],"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445461517,"creation_date":1445460802,"answer_id":33269029,"question_id":33225195,"body_markdown":"My first recommendation would be to *not* unit test it; write an *integration* test, which actually executes the stored function in the Oracle database (but rollback the transaction).\r\n\r\nOtherwise, you can mock the `SimpleJdbcCall` class, with the code under test as is, by using PowerMockito or JMockit.\r\n\r\nExample test with JMockit:\r\n\r\n    @Mocked DataSource ds;\r\n    @Mocked SimpleJdbcCall dbCall;\r\n\r\n    @Test\r\n    public void verifyDbCall() {\r\n        String value = new MyClass(ds).getValue(&quot;some input&quot;);\r\n\r\n        // assert on value\r\n\r\n        new Verifications() {{\r\n            SqlParameterSource params;\r\n            dbCall.executeFunction(String.class, params = withCapture());\r\n            // JUnit asserts on `params`\r\n        }};\r\n    }","title":"How can I unit test a class that uses SimpleJdbcCall","body":"<p>My first recommendation would be to <em>not</em> unit test it; write an <em>integration</em> test, which actually executes the stored function in the Oracle database (but rollback the transaction).</p>\n\n<p>Otherwise, you can mock the <code>SimpleJdbcCall</code> class, with the code under test as is, by using PowerMockito or JMockit.</p>\n\n<p>Example test with JMockit:</p>\n\n<pre><code>@Mocked DataSource ds;\n@Mocked SimpleJdbcCall dbCall;\n\n@Test\npublic void verifyDbCall() {\n    String value = new MyClass(ds).getValue(\"some input\");\n\n    // assert on value\n\n    new Verifications() {{\n        SqlParameterSource params;\n        dbCall.executeFunction(String.class, params = withCapture());\n        // JUnit asserts on `params`\n    }};\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445461306,"creation_date":1445461306,"answer_id":33269184,"question_id":33225195,"body_markdown":"Add an extra constructor:\r\n\r\n    /*test*/ MyClass(final SimpleJdbcCall call) {\r\n        simpleJdbcCall = call\r\n            .withoutProcedureColumnMetaDataAccess()\r\n            .withCatalogName(&quot;MY_ORACLE_PACKAGE&quot;)\r\n            .withFunctionName(&quot;GET_VALUE&quot;)\r\n            .withReturnValue()\r\n            .declareParameters(\r\n                new SqlOutParameter(&quot;RESULT&quot;, Types.VARCHAR))\r\n            .declareParameters(\r\n                new SqlParameter(&quot;P_VAR1_NAME&quot;, Types.VARCHAR))\r\n            .declareParameters(\r\n                new SqlParameter(&quot;P_VAR2_NAME&quot;, Types.VARCHAR))\r\n            .useInParameterNames(&quot;P_VAR1_NAME&quot;, &quot;P_VAR2_NAME&quot;);\r\n    }\r\n\r\nThis one is package private, so other classes in the same package (=tests) can call it. This way, a test can create an instance that has `executeFunction()` overridden. You can return fake results in the method or test the state of the object.\r\n\r\nThat means your code still configures the object; the test just passes a &quot;POJO&quot; which the code under test fills out.\r\n\r\nThis way, you don&#39;t have to write a lot of code - the default implementation does most of the work for you.\r\n\r\nAlternatively, allow to call a constructor with the interface `SimpleJdbcCallOperations` which means you need a powerful mocking framework or write a lot of boiler plate code.\r\n\r\nOther alternatives: Use a mock JDBC driver. These are usually hard to set up, cause spurious test failures, when a test fails, you often don&#39;t really know why, ...\r\n\r\nOr an in-memory database. They come with a whole bunch of problems (you need to load test data which you need to manufacture and maintain).\r\n\r\nThat&#39;s why I try to avoid the round-trip through the JDBC layer when I can. Assume that JDBC and the database works - other people have tested this code. If you do it again, you&#39;re just wasting your time.\r\n\r\nRelated:\r\n\r\n* http://blog.pdark.de/2015/07/15/replacing-integration-with-unit-tests/\r\n* http://blog.pdark.de/2009/06/05/testing-the-impossible-inserting-into-database/\r\n* http://blog.pdark.de/2008/07/26/testing-with-databases/","title":"How can I unit test a class that uses SimpleJdbcCall","body":"<p>Add an extra constructor:</p>\n\n<pre><code>/*test*/ MyClass(final SimpleJdbcCall call) {\n    simpleJdbcCall = call\n        .withoutProcedureColumnMetaDataAccess()\n        .withCatalogName(\"MY_ORACLE_PACKAGE\")\n        .withFunctionName(\"GET_VALUE\")\n        .withReturnValue()\n        .declareParameters(\n            new SqlOutParameter(\"RESULT\", Types.VARCHAR))\n        .declareParameters(\n            new SqlParameter(\"P_VAR1_NAME\", Types.VARCHAR))\n        .declareParameters(\n            new SqlParameter(\"P_VAR2_NAME\", Types.VARCHAR))\n        .useInParameterNames(\"P_VAR1_NAME\", \"P_VAR2_NAME\");\n}\n</code></pre>\n\n<p>This one is package private, so other classes in the same package (=tests) can call it. This way, a test can create an instance that has <code>executeFunction()</code> overridden. You can return fake results in the method or test the state of the object.</p>\n\n<p>That means your code still configures the object; the test just passes a \"POJO\" which the code under test fills out.</p>\n\n<p>This way, you don't have to write a lot of code - the default implementation does most of the work for you.</p>\n\n<p>Alternatively, allow to call a constructor with the interface <code>SimpleJdbcCallOperations</code> which means you need a powerful mocking framework or write a lot of boiler plate code.</p>\n\n<p>Other alternatives: Use a mock JDBC driver. These are usually hard to set up, cause spurious test failures, when a test fails, you often don't really know why, ...</p>\n\n<p>Or an in-memory database. They come with a whole bunch of problems (you need to load test data which you need to manufacture and maintain).</p>\n\n<p>That's why I try to avoid the round-trip through the JDBC layer when I can. Assume that JDBC and the database works - other people have tested this code. If you do it again, you're just wasting your time.</p>\n\n<p>Related:</p>\n\n<ul>\n<li><a href=\"http://blog.pdark.de/2015/07/15/replacing-integration-with-unit-tests/\" rel=\"nofollow\">http://blog.pdark.de/2015/07/15/replacing-integration-with-unit-tests/</a></li>\n<li><a href=\"http://blog.pdark.de/2009/06/05/testing-the-impossible-inserting-into-database/\" rel=\"nofollow\">http://blog.pdark.de/2009/06/05/testing-the-impossible-inserting-into-database/</a></li>\n<li><a href=\"http://blog.pdark.de/2008/07/26/testing-with-databases/\" rel=\"nofollow\">http://blog.pdark.de/2008/07/26/testing-with-databases/</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1691406,"reputation":1159,"user_id":1553661,"accept_rate":58,"display_name":"Java_Alert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478591656,"creation_date":1478591656,"answer_id":40481626,"question_id":33225195,"body_markdown":"I did it using [http://www.jmock.org/][1]\r\n\r\n\r\n  [1]: http://www.jmock.org/ \r\n\r\n\r\nXML configuration - \r\n    &lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    \r\n    &lt;bean id=&quot;simpleJDBCCall&quot; class=&quot;org.springframework.jdbc.core.simple.SimpleJdbcCall&quot;&gt;\r\n        &lt;property name=&quot;jdbcTemplate&quot; ref=&quot;jdbcTemplate&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\nJava File -\r\n\r\n    @Autowired\r\n    private SimpleJdbcCall jdbcCall;\r\n\r\nTest Class -\r\n\r\n    simpleJDBCCall = mockingContext.mock(SimpleJdbcCall.class);\r\n    mockingContext.checking(new Expectations() {\r\n\t\t    { \r\n\t\t    \toneOf(simpleJDBCCall).withSchemaName(&quot;test&quot;);\r\n\t\t    \twill(returnValue(simpleJDBCCall));\r\n\t\t    \toneOf(simpleJDBCCall).withCatalogName(&quot;test&quot;);\r\n\t\t    \twill(returnValue(simpleJDBCCall));\r\n\t\t    \toneOf(simpleJDBCCall).withProcedureName(ProcedureNames.TEST);\r\n\t\t    \twill(returnValue(simpleJDBCCall));\r\n\t\t    \toneOf(simpleJDBCCall).execute(5);\r\n\t\t    \twill(returnValue(testMap));\r\n\t\t    }\r\n\r\n","title":"How can I unit test a class that uses SimpleJdbcCall","body":"<p>I did it using <a href=\"http://www.jmock.org/\" rel=\"nofollow noreferrer\">http://www.jmock.org/</a></p>\n\n<p>XML configuration - \n    \n        \n    </p>\n\n<pre><code>&lt;bean id=\"simpleJDBCCall\" class=\"org.springframework.jdbc.core.simple.SimpleJdbcCall\"&gt;\n    &lt;property name=\"jdbcTemplate\" ref=\"jdbcTemplate\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Java File -</p>\n\n<pre><code>@Autowired\nprivate SimpleJdbcCall jdbcCall;\n</code></pre>\n\n<p>Test Class -</p>\n\n<pre><code>simpleJDBCCall = mockingContext.mock(SimpleJdbcCall.class);\nmockingContext.checking(new Expectations() {\n        { \n            oneOf(simpleJDBCCall).withSchemaName(\"test\");\n            will(returnValue(simpleJDBCCall));\n            oneOf(simpleJDBCCall).withCatalogName(\"test\");\n            will(returnValue(simpleJDBCCall));\n            oneOf(simpleJDBCCall).withProcedureName(ProcedureNames.TEST);\n            will(returnValue(simpleJDBCCall));\n            oneOf(simpleJDBCCall).execute(5);\n            will(returnValue(testMap));\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3148189,"reputation":658,"user_id":2662234,"display_name":"Jeff E"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548869418,"creation_date":1548869418,"answer_id":54446275,"question_id":33225195,"body_markdown":"I too prefer not to inject 15 different SimpleJdbcCalls into my repository, so I bite the bullet and add this to my test setup method:\r\n\r\n    DatabaseMetaData metaData = mock(DatabaseMetaData.class);\r\n    Connection con = mock(Connection.class);\r\n    when(con.getMetaData()).thenReturn(metaData);\r\n    DataSource ds = mock(DataSource.class);\r\n    when(ds.getConnection()).thenReturn(con);\r\n    jdbcTemplate = mock(JdbcTemplate.class);\r\n    when(jdbcTemplate.getDataSource()).thenReturn(ds);\r\n","title":"How can I unit test a class that uses SimpleJdbcCall","body":"<p>I too prefer not to inject 15 different SimpleJdbcCalls into my repository, so I bite the bullet and add this to my test setup method:</p>\n\n<pre><code>DatabaseMetaData metaData = mock(DatabaseMetaData.class);\nConnection con = mock(Connection.class);\nwhen(con.getMetaData()).thenReturn(metaData);\nDataSource ds = mock(DataSource.class);\nwhen(ds.getConnection()).thenReturn(con);\njdbcTemplate = mock(JdbcTemplate.class);\nwhen(jdbcTemplate.getDataSource()).thenReturn(ds);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":413789,"reputation":1139,"user_id":787622,"display_name":"howserss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638990330,"creation_date":1638972715,"answer_id":70276441,"question_id":33225195,"body_markdown":"Just wanted to share after scouring Google for some help and only finding partial solution and more questions than answers.\r\nI was able to test with this code. The bean for my repository which is the class under test injects a SimpleJDBCCall into the constructor.  Inside the bean when it creates the SimpleJDBCCall it uses a JDBCTemplate as the argument.  In my test I found you can just pass a datasource directly to the SimpleJdbcCall.\r\nI also had to use a spy SimpleJDBCCall instead of a mock.  It would error on the\r\nwithSchemaName in my repo code without that.  Probbaly something I was doing wrong but I have not figured it out yet.  (Names have been changed to protect the innocent.)\r\n\r\n    public void multiAccountSearchReport_test() throws SQLException {\r\n        DatabaseMetaData databaseMetaData = mock(DatabaseMetaData.class);\r\n        Connection con = mock(Connection.class);\r\n        DataSource datasource = mock(DataSource.class);\r\n        SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(datasource);\r\n        SimpleJdbcCall simpleJdbcCallSpy = spy(simpleJdbcCall);\r\n\r\n        \r\n        when(datasource.getConnection()).thenReturn(con);\r\n        when(con.getMetaData()).thenReturn(databaseMetaData);\r\n        when(simpleJdbcCallSpy.withCatalogName(any())).thenReturn(simpleJdbcCallSpy);\r\n        when(simpleJdbcCallSpy.withProcedureName(any())).thenReturn(simpleJdbcCallSpy);\r\n        when(simpleJdbcCallSpy.withSchemaName(any())).thenReturn(simpleJdbcCallSpy);\r\n\r\n        SalesRepository repo = new SalesRepository(simpleJdbcCallSpy);\r\n        MultiAccountSearchParameters parms = new MultiAccountSearchParameters();\r\n        Map&lt;String, Object&gt; linkedList = new LinkedCaseInsensitiveMap&lt;&gt;();\r\n        List listInner= new ArrayList&lt;&gt;();\r\n        linkedList.put(&quot;ID&quot;, &quot;1001&quot;);\r\n        linkedList.put(&quot;FIRST_NAME&quot;, &quot;first_name&quot;);\r\n        linkedList.put(&quot;LAST_NAME&quot;, &quot;last_name&quot;);\r\n        linkedList.put(&quot;ADDRESS&quot;, &quot;address&quot;);\r\n        listInner.add(linkedList);\r\n        Map map = new LinkedHashMap&lt;String,Object&gt;();\r\n        map.put(&quot;result-list-1&quot;,listInner);\r\n\r\n\r\n        doReturn(map).when(simpleJdbcCallSpy).execute((SqlParameterSource)any());\r\n        parms.setApcApproval(&quot;1&quot;);\r\n        List&lt;Map&lt;String,String&gt;&gt; response = null;\r\n        try {\r\n            response = repo.multiAccountSearchReport(parms);\r\n        }catch(Exception ex) {\r\n            String message = ex.getMessage();\r\n        }\r\n\r\n        assertEquals(response.get(0).get(&quot;ID&quot;),&quot;1001&quot;);\r\n\r\n    }","title":"How can I unit test a class that uses SimpleJdbcCall","body":"<p>Just wanted to share after scouring Google for some help and only finding partial solution and more questions than answers.\nI was able to test with this code. The bean for my repository which is the class under test injects a SimpleJDBCCall into the constructor.  Inside the bean when it creates the SimpleJDBCCall it uses a JDBCTemplate as the argument.  In my test I found you can just pass a datasource directly to the SimpleJdbcCall.\nI also had to use a spy SimpleJDBCCall instead of a mock.  It would error on the\nwithSchemaName in my repo code without that.  Probbaly something I was doing wrong but I have not figured it out yet.  (Names have been changed to protect the innocent.)</p>\n<pre><code>public void multiAccountSearchReport_test() throws SQLException {\n    DatabaseMetaData databaseMetaData = mock(DatabaseMetaData.class);\n    Connection con = mock(Connection.class);\n    DataSource datasource = mock(DataSource.class);\n    SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(datasource);\n    SimpleJdbcCall simpleJdbcCallSpy = spy(simpleJdbcCall);\n\n    \n    when(datasource.getConnection()).thenReturn(con);\n    when(con.getMetaData()).thenReturn(databaseMetaData);\n    when(simpleJdbcCallSpy.withCatalogName(any())).thenReturn(simpleJdbcCallSpy);\n    when(simpleJdbcCallSpy.withProcedureName(any())).thenReturn(simpleJdbcCallSpy);\n    when(simpleJdbcCallSpy.withSchemaName(any())).thenReturn(simpleJdbcCallSpy);\n\n    SalesRepository repo = new SalesRepository(simpleJdbcCallSpy);\n    MultiAccountSearchParameters parms = new MultiAccountSearchParameters();\n    Map&lt;String, Object&gt; linkedList = new LinkedCaseInsensitiveMap&lt;&gt;();\n    List listInner= new ArrayList&lt;&gt;();\n    linkedList.put(&quot;ID&quot;, &quot;1001&quot;);\n    linkedList.put(&quot;FIRST_NAME&quot;, &quot;first_name&quot;);\n    linkedList.put(&quot;LAST_NAME&quot;, &quot;last_name&quot;);\n    linkedList.put(&quot;ADDRESS&quot;, &quot;address&quot;);\n    listInner.add(linkedList);\n    Map map = new LinkedHashMap&lt;String,Object&gt;();\n    map.put(&quot;result-list-1&quot;,listInner);\n\n\n    doReturn(map).when(simpleJdbcCallSpy).execute((SqlParameterSource)any());\n    parms.setApcApproval(&quot;1&quot;);\n    List&lt;Map&lt;String,String&gt;&gt; response = null;\n    try {\n        response = repo.multiAccountSearchReport(parms);\n    }catch(Exception ex) {\n        String message = ex.getMessage();\n    }\n\n    assertEquals(response.get(0).get(&quot;ID&quot;),&quot;1001&quot;);\n\n}\n</code></pre>\n"}],"owner":{"account_id":222326,"reputation":361,"user_id":2808767,"accept_rate":50,"display_name":"Matt Malone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7239,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":6,"score":7,"last_activity_date":1638990330,"creation_date":1445294699,"question_id":33225195,"body_markdown":"I have a class that looks like this:\r\n\r\n    public class MyClass {\r\n\r\n        private final SimpleJdbcCall simpleJdbcCall;\r\n    \r\n        public MyClass(final DataSource dataSource) {\r\n            this(new JdbcTemplate(dataSource));\r\n        }\r\n    \r\n        public MyClass(final JdbcTemplate template) {\r\n            simpleJdbcCall = new SimpleJdbcCall(template)\r\n                .withoutProcedureColumnMetaDataAccess()\r\n                .withCatalogName(&quot;MY_ORACLE_PACKAGE&quot;)\r\n                .withFunctionName(&quot;GET_VALUE&quot;)\r\n                .withReturnValue()\r\n                .declareParameters(\r\n                    new SqlOutParameter(&quot;RESULT&quot;, Types.VARCHAR))\r\n                .declareParameters(\r\n                    new SqlParameter(&quot;P_VAR1_NAME&quot;, Types.VARCHAR))\r\n                .declareParameters(\r\n                    new SqlParameter(&quot;P_VAR2_NAME&quot;, Types.VARCHAR))\r\n                .useInParameterNames(&quot;P_VAR1_NAME&quot;, &quot;P_VAR2_NAME&quot;);\r\n        }\r\n    \r\n        private String getValue(final String input) {\r\n            final SqlParameterSource params = new MapSqlParameterSource()\r\n                .addValue(&quot;P_VAR1_NAME&quot;, input, Types.VARCHAR)\r\n                .addValue(&quot;P_VAR2_NAME&quot;, null, Types.VARCHAR);\r\n            return simpleJdbcCall.executeFunction(String.class, params);\r\n        }\r\n    }\r\n\r\n\r\nIt works as expected, but I want to write a unit test for it and it&#39;s driving me crazy. I&#39;ve tried mocking the JdbcTemplate (Mockito), but that leads to mocking connections, metadata, etc, and I get lost about the time callable statement factories come into play.\r\n\r\nI guess I could write it so that the SimpleJdbcCall is passed as a parameter to a new constructor and then mock that, but that feels hackish. I&#39;d prefer the test not affect the class unless it&#39;s to improve it.\r\n\r\nI&#39;d like to keep using this SimpleJdbcCall API. It writes the SQL for me so I don&#39;t have to mix SQL and Java, but I would also really like to test this thing without having to write 1000 lines of code. Can anyone see a good way to test this?","title":"How can I unit test a class that uses SimpleJdbcCall","body":"<p>I have a class that looks like this:</p>\n\n<pre><code>public class MyClass {\n\n    private final SimpleJdbcCall simpleJdbcCall;\n\n    public MyClass(final DataSource dataSource) {\n        this(new JdbcTemplate(dataSource));\n    }\n\n    public MyClass(final JdbcTemplate template) {\n        simpleJdbcCall = new SimpleJdbcCall(template)\n            .withoutProcedureColumnMetaDataAccess()\n            .withCatalogName(\"MY_ORACLE_PACKAGE\")\n            .withFunctionName(\"GET_VALUE\")\n            .withReturnValue()\n            .declareParameters(\n                new SqlOutParameter(\"RESULT\", Types.VARCHAR))\n            .declareParameters(\n                new SqlParameter(\"P_VAR1_NAME\", Types.VARCHAR))\n            .declareParameters(\n                new SqlParameter(\"P_VAR2_NAME\", Types.VARCHAR))\n            .useInParameterNames(\"P_VAR1_NAME\", \"P_VAR2_NAME\");\n    }\n\n    private String getValue(final String input) {\n        final SqlParameterSource params = new MapSqlParameterSource()\n            .addValue(\"P_VAR1_NAME\", input, Types.VARCHAR)\n            .addValue(\"P_VAR2_NAME\", null, Types.VARCHAR);\n        return simpleJdbcCall.executeFunction(String.class, params);\n    }\n}\n</code></pre>\n\n<p>It works as expected, but I want to write a unit test for it and it's driving me crazy. I've tried mocking the JdbcTemplate (Mockito), but that leads to mocking connections, metadata, etc, and I get lost about the time callable statement factories come into play.</p>\n\n<p>I guess I could write it so that the SimpleJdbcCall is passed as a parameter to a new constructor and then mock that, but that feels hackish. I'd prefer the test not affect the class unless it's to improve it.</p>\n\n<p>I'd like to keep using this SimpleJdbcCall API. It writes the SQL for me so I don't have to mix SQL and Java, but I would also really like to test this thing without having to write 1000 lines of code. Can anyone see a good way to test this?</p>\n"},{"tags":["java","hibernate","jdbc","informix","clob"],"comments":[{"owner":{"account_id":8423,"reputation":735986,"user_id":15168,"accept_rate":100,"display_name":"Jonathan Leffler"},"score":0,"creation_date":1638473646,"post_id":70186206,"comment_id":124104574,"body_markdown":"Informix JDBC 3.50 is pretty ancient, and unlikely to still be supported (so fixes are unlikely to be available).  So, you&#39;ll probably need to look for workarounds.  I&#39;m not a Java programmer (I don&#39;t even drink much coffee — tea is the preferred caffeine source here), which limits the help I can give.  You&#39;ve not shown any example code that loads data into a data structure for insertion into the database, AFAICT.  What you&#39;ve shown looks to me like configuration data.  You say &#39;truncated XML is stored&#39; — can you illustrate?  What did you try to insert and what got inserted?","body":"Informix JDBC 3.50 is pretty ancient, and unlikely to still be supported (so fixes are unlikely to be available).  So, you&#39;ll probably need to look for workarounds.  I&#39;m not a Java programmer (I don&#39;t even drink much coffee — tea is the preferred caffeine source here), which limits the help I can give.  You&#39;ve not shown any example code that loads data into a data structure for insertion into the database, AFAICT.  What you&#39;ve shown looks to me like configuration data.  You say &#39;truncated XML is stored&#39; — can you illustrate?  What did you try to insert and what got inserted?"},{"owner":{"account_id":8423,"reputation":735986,"user_id":15168,"accept_rate":100,"display_name":"Jonathan Leffler"},"score":0,"creation_date":1638473937,"post_id":70186206,"comment_id":124104685,"body_markdown":"Are you using an 11.50 Informix database?  What version are you using, and on which platform?  Is your database locale `de_de.utf-8`?  What is the client locale set to?","body":"Are you using an 11.50 Informix database?  What version are you using, and on which platform?  Is your database locale <code>de_de.utf-8</code>?  What is the client locale set to?"},{"owner":{"account_id":350168,"reputation":172,"user_id":685885,"accept_rate":100,"display_name":"Brinal"},"score":0,"creation_date":1638535134,"post_id":70186206,"comment_id":124120610,"body_markdown":"The Informix version is 12.10.UC9. The locale set to en_us.utf-8 ? Does locale matters for clob? The same characters entered in varchar works without causing any issues. The problem is only with the clob data type. \nI went through this link, seems like locale matters for clob. https://www.ibm.com/docs/en/informix-servers/12.10?topic=type-multibyte-characters-clob\n\nBut I tried to enter the same xml from plain vanilla sql i.e from FILETOCLOB fn and this worked as well.","body":"The Informix version is 12.10.UC9. The locale set to en_us.utf-8 ? Does locale matters for clob? The same characters entered in varchar works without causing any issues. The problem is only with the clob data type.  I went through this link, seems like locale matters for clob. <a href=\"https://www.ibm.com/docs/en/informix-servers/12.10?topic=type-multibyte-characters-clob\" rel=\"nofollow noreferrer\">ibm.com/docs/en/informix-servers/&hellip;</a>  But I tried to enter the same xml from plain vanilla sql i.e from FILETOCLOB fn and this worked as well."}],"answers":[{"tags":[],"owner":{"account_id":10532082,"reputation":1978,"user_id":7761106,"display_name":"jsagrera"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638440320,"creation_date":1638440320,"answer_id":70197661,"question_id":70186206,"body_markdown":"Are you sure you are passing a correct UTF8 value? \r\nUsually when you get truncation is because the encoding is wrong. \r\n\r\nI tried inserting the UTF8 string &#39;F&#252;&#223;e&#39; (46 C3BC C39F 65) with a simple Java console app and it behaves as expected. \r\n\r\n    D:\\Infx\\ids1410&gt;chcp 65001\r\n    Active code page: 65001\r\n    \r\n    D:\\Infx\\ids1410&gt;java com.informix.jdbc.Version\r\n    IBM Informix JDBC Driver Version 3.50.JC9X3\r\n    \r\n    D:\\Infx\\ids1410&gt;javac -encoding utf8 clob.java\r\n\r\n    D:\\Infx\\ids1410&gt;od -tcx1 clob.txt\r\n    0000000000     F               e\r\n                  46  C3  BC  C3  9F  65\r\n    0000000006\r\n          \r\n    D:\\Infx\\ids1410&gt;java -Dfile.encoding=UTF-8 clob\r\n    \r\n    --F&#252;&#223;e--F&#252;&#223;e--\r\n    \r\n    D:\\Infx\\ids1410&gt;oncheck -pp utf8:t1 256\r\n    addr             stamp    chksum nslots flag type         frptr frcnt next     prev\r\n    2:4566           36224780 acf0   1      1    DATA         106   3982  0        0\r\n            slot ptr   len   flg\r\n            1    24    82    0\r\n    slot   1:\r\n        0:  6 46 c3 bc c3 9f 65  0  0  0  1  0  0  0 d9 c8   .FC&lt;C.e.......YH\r\n       16: b7 a6  3  0  0  0  3  0  0  0  3  0  0  0 a1 f8   7&amp;............!x\r\n       32: 10 61  0  0  0  0  1  0  0  0  0  0  0  0  0  0   .a..............\r\n       48:  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0   ................\r\n       64:  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0   ................\r\n       80:  0  0                                             ................\r\n    \r\n    D:\\Infx\\ids1410&gt;dbaccess utf8 -\r\n    \r\n    Database selected.\r\n    \r\n    &gt; unload to t1.unl select * from t1;\r\n    \r\n    1 row(s) unloaded.\r\n    \r\n    &gt; !od -x t1.unl\r\n    0000000000      C346    C3BC    659F    307C    362C    632C    6F6C    3162\r\n    0000000020      3031    2E66    6138    7C31    000A\r\n    0000000031\r\n    &gt; !cat t1.unl\r\n    F&#252;&#223;e|0,6,clob110f.8a1|\r\n    &gt; !od -x clob110f.8a1\r\n    0000000000      C346    C3BC    659F\r\n    0000000006\r\n    &gt; !cat clob110f.8a1\r\n    F&#252;&#223;e&gt;\r\n    &gt;\r\n\r\nI don&#39;t have 3.50.JC9 at hand, but 3.50.JC8 and 3.50.JC9X3 did the same so I&#39;m sure the &#39;vanilla&#39; 3.50.JC9 will work too.\r\n\r\nMaybe you can try the console app with your xml data (make sure it is in UTF8) and see if it still gets corrupted or not.\r\n\r\n    // ----- clob.java -----\r\n    import java.sql.*;\r\n    import java.io.*;\r\n    import com.informix.jdbc.*; \r\n    \r\n    public class clob {\r\n      \r\n      public static void main(String[] args) {\r\n    \r\n        Connection con = null; \r\n    \r\n        try {\r\n    \r\n    \t\tInputStreamReader isr = new InputStreamReader( System.in );\r\n    \t\tBufferedReader stdin = new BufferedReader( isr );\r\n    \r\n    \t\tClass.forName(&quot;com.informix.jdbc.IfxDriver&quot;);\r\n    \t\tcon = DriverManager.getConnection(&quot;jdbc:informix-sqli://420ito:9091/utf8:INFORMIXSERVER=ids1410;user=informix;password=mypassw;DB_LOCALE=en_US.utf8;SQLIDEBUG=pp&quot;);\r\n    \r\n    \t\tSystem.out.println (&quot;&quot;);\r\n    \r\n    \t\tStatement stm1 = con.createStatement();\r\n    \t\ttry {\r\n    \t\t\t\tstm1.executeUpdate (&quot;drop table  t1;&quot;); \r\n    \t\t} catch (Exception ex) {}\r\n    \t\t\r\n    \t\tstm1.executeUpdate (&quot;create table t1  (c1 varchar(20), c2 clob);&quot;);\r\n              \r\n            PreparedStatement ps = con.prepareStatement(&quot;insert into  t1 values (&#39;F&#252;&#223;e&#39;,?);&quot;);\r\n    \t\t\r\n            FileInputStream fis = new FileInputStream(&quot;clob.txt&quot;);\r\n            BufferedInputStream dataStream = new BufferedInputStream(fis);\r\n            ps.setAsciiStream(1, dataStream, dataStream.available());\r\n    \t\tps.execute();\r\n    \t\tps.close();\r\n    \r\n            PreparedStatement ps2 = con.prepareStatement(&quot;select * from t1;&quot;);\r\n    \t\tIfxResultSet resultSet = (IfxResultSet) ps2.executeQuery();\r\n            while (resultSet.next()) {\r\n                System.out.format(&quot;--%s--%s--\\n&quot;,resultSet.getString(1),resultSet.getString(2));\r\n                try {\r\n                } catch ( Exception ex ) {};\r\n            }\r\n    \r\n    \t\tresultSet.releaseBlob();\r\n    \t\tps2.close();\r\n    \t\t\r\n    \t\t((IfxSqliConnect) con).releaseBlob();\r\n          \r\n        } catch (Exception ex) {\r\n          ex.printStackTrace();\r\n          if (ex instanceof SQLException) {\r\n            SQLException sqlex = (SQLException) ex;\r\n            System.out.println (&quot;Message: &quot; + sqlex.getMessage());\r\n        }\r\n       }\r\n      }\r\n    }\r\n    // ----- clob.java -----\r\n\r\nIf it works the issue maybe in how Hibernate handles that data.","title":"Informix db clob with utf-8 characters stores incomplete data","body":"<p>Are you sure you are passing a correct UTF8 value?\nUsually when you get truncation is because the encoding is wrong.</p>\n<p>I tried inserting the UTF8 string 'Füße' (46 C3BC C39F 65) with a simple Java console app and it behaves as expected.</p>\n<pre><code>D:\\Infx\\ids1410&gt;chcp 65001\nActive code page: 65001\n\nD:\\Infx\\ids1410&gt;java com.informix.jdbc.Version\nIBM Informix JDBC Driver Version 3.50.JC9X3\n\nD:\\Infx\\ids1410&gt;javac -encoding utf8 clob.java\n\nD:\\Infx\\ids1410&gt;od -tcx1 clob.txt\n0000000000     F               e\n              46  C3  BC  C3  9F  65\n0000000006\n      \nD:\\Infx\\ids1410&gt;java -Dfile.encoding=UTF-8 clob\n\n--Füße--Füße--\n\nD:\\Infx\\ids1410&gt;oncheck -pp utf8:t1 256\naddr             stamp    chksum nslots flag type         frptr frcnt next     prev\n2:4566           36224780 acf0   1      1    DATA         106   3982  0        0\n        slot ptr   len   flg\n        1    24    82    0\nslot   1:\n    0:  6 46 c3 bc c3 9f 65  0  0  0  1  0  0  0 d9 c8   .FC&lt;C.e.......YH\n   16: b7 a6  3  0  0  0  3  0  0  0  3  0  0  0 a1 f8   7&amp;............!x\n   32: 10 61  0  0  0  0  1  0  0  0  0  0  0  0  0  0   .a..............\n   48:  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0   ................\n   64:  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0   ................\n   80:  0  0                                             ................\n\nD:\\Infx\\ids1410&gt;dbaccess utf8 -\n\nDatabase selected.\n\n&gt; unload to t1.unl select * from t1;\n\n1 row(s) unloaded.\n\n&gt; !od -x t1.unl\n0000000000      C346    C3BC    659F    307C    362C    632C    6F6C    3162\n0000000020      3031    2E66    6138    7C31    000A\n0000000031\n&gt; !cat t1.unl\nFüße|0,6,clob110f.8a1|\n&gt; !od -x clob110f.8a1\n0000000000      C346    C3BC    659F\n0000000006\n&gt; !cat clob110f.8a1\nFüße&gt;\n&gt;\n</code></pre>\n<p>I don't have 3.50.JC9 at hand, but 3.50.JC8 and 3.50.JC9X3 did the same so I'm sure the 'vanilla' 3.50.JC9 will work too.</p>\n<p>Maybe you can try the console app with your xml data (make sure it is in UTF8) and see if it still gets corrupted or not.</p>\n<pre><code>// ----- clob.java -----\nimport java.sql.*;\nimport java.io.*;\nimport com.informix.jdbc.*; \n\npublic class clob {\n  \n  public static void main(String[] args) {\n\n    Connection con = null; \n\n    try {\n\n        InputStreamReader isr = new InputStreamReader( System.in );\n        BufferedReader stdin = new BufferedReader( isr );\n\n        Class.forName(&quot;com.informix.jdbc.IfxDriver&quot;);\n        con = DriverManager.getConnection(&quot;jdbc:informix-sqli://420ito:9091/utf8:INFORMIXSERVER=ids1410;user=informix;password=mypassw;DB_LOCALE=en_US.utf8;SQLIDEBUG=pp&quot;);\n\n        System.out.println (&quot;&quot;);\n\n        Statement stm1 = con.createStatement();\n        try {\n                stm1.executeUpdate (&quot;drop table  t1;&quot;); \n        } catch (Exception ex) {}\n        \n        stm1.executeUpdate (&quot;create table t1  (c1 varchar(20), c2 clob);&quot;);\n          \n        PreparedStatement ps = con.prepareStatement(&quot;insert into  t1 values ('Füße',?);&quot;);\n        \n        FileInputStream fis = new FileInputStream(&quot;clob.txt&quot;);\n        BufferedInputStream dataStream = new BufferedInputStream(fis);\n        ps.setAsciiStream(1, dataStream, dataStream.available());\n        ps.execute();\n        ps.close();\n\n        PreparedStatement ps2 = con.prepareStatement(&quot;select * from t1;&quot;);\n        IfxResultSet resultSet = (IfxResultSet) ps2.executeQuery();\n        while (resultSet.next()) {\n            System.out.format(&quot;--%s--%s--\\n&quot;,resultSet.getString(1),resultSet.getString(2));\n            try {\n            } catch ( Exception ex ) {};\n        }\n\n        resultSet.releaseBlob();\n        ps2.close();\n        \n        ((IfxSqliConnect) con).releaseBlob();\n      \n    } catch (Exception ex) {\n      ex.printStackTrace();\n      if (ex instanceof SQLException) {\n        SQLException sqlex = (SQLException) ex;\n        System.out.println (&quot;Message: &quot; + sqlex.getMessage());\n    }\n   }\n  }\n}\n// ----- clob.java -----\n</code></pre>\n<p>If it works the issue maybe in how Hibernate handles that data.</p>\n"},{"tags":[],"owner":{"account_id":350168,"reputation":172,"user_id":685885,"accept_rate":100,"display_name":"Brinal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638990146,"creation_date":1638908633,"answer_id":70266502,"question_id":70186206,"body_markdown":"Issue still exists in creating Clob in Hibernate. Somehow, Hibernate not able to calculate the string length based on UTF-8  characters. When you have these kind of special character, you need ``` layoutXML.getBytes(&quot;utf-8&quot;).length ``` instead ``` layoutXML.length() ```. This difference is actually causing the truncation.\r\n\r\nHowever, I skipped the entire conversion overhead  all together, just by declaring  &#39;layoutxml&#39; as String in POJO instead of java.sql.Clob. For this I upgraded the hibernate version to 5.6.1.Final.\r\n\r\nWith 3.5.2-Final hibernate verison, even this approach doesn’t  work. \r\n\r\nNote: Declaring CLOB entries as Strings in POJO has its own disadvantages related to performance.\r\n\r\n","title":"Informix db clob with utf-8 characters stores incomplete data","body":"<p>Issue still exists in creating Clob in Hibernate. Somehow, Hibernate not able to calculate the string length based on UTF-8  characters. When you have these kind of special character, you need <code>layoutXML.getBytes(&quot;utf-8&quot;).length</code> instead <code>layoutXML.length()</code>. This difference is actually causing the truncation.</p>\n<p>However, I skipped the entire conversion overhead  all together, just by declaring  'layoutxml' as String in POJO instead of java.sql.Clob. For this I upgraded the hibernate version to 5.6.1.Final.</p>\n<p>With 3.5.2-Final hibernate verison, even this approach doesn’t  work.</p>\n<p>Note: Declaring CLOB entries as Strings in POJO has its own disadvantages related to performance.</p>\n"}],"owner":{"account_id":350168,"reputation":172,"user_id":685885,"accept_rate":100,"display_name":"Brinal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638990146,"creation_date":1638369695,"question_id":70186206,"body_markdown":"I am facing a problem with my Informix db while storing CLOB data with UTF-8 charset data.\r\nThe regular varchar datatype with UTF-8 characters is storing without any issue; however, when I store the data as a CLOB and data (in my case XML) contains utf-8 characters, only truncated XML is stored.\r\n\r\nExample Characters: german umlaut  \r\nInformix db character encoding is set to utf-8. \r\n\r\nBelow is my hbm file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-mapping PUBLIC\r\n       &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n        &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\r\n&lt;hibernate-mapping package=&quot;com.test.adapter.persistence.bean&quot;&gt;\r\n\t&lt;class name=&quot;MediaLayoutConfigPojo&quot; table=&quot;medialayoutconfig&quot;&gt;\r\n\t\t&lt;id name=&quot;dbId&quot; type=&quot;int&quot; column=&quot;id&quot;&gt;\r\n\t\t\t&lt;generator class=&quot;native&quot; /&gt;\r\n\t\t&lt;/id&gt;\r\n\t\t&lt;property name=&quot;layoutxml&quot; type=&quot;clob&quot; column=&quot;layoutxml&quot; /&gt; \r\n\t\t&lt;property name=&quot;name&quot; type=&quot;string&quot; column=&quot;name&quot; /&gt;\r\n\t\t&lt;property name=&quot;description&quot; type=&quot;string&quot; column=&quot;description&quot; /&gt;\r\n\t\t&lt;property name=&quot;layouttype&quot; type=&quot;string&quot; column=&quot;layouttype&quot; /&gt; \t\r\n\t&lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\nSQL driver class is \r\n```\r\n&lt;property name=&quot;connection.driver_class&quot;&gt;com.informix.jdbc.IfxDriver&lt;/property&gt;\r\n&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.InformixDialect&lt;/property&gt;\r\n```\r\nI am using the ifxjdbc-3.50.JC9.jar JDBC driver (unfortunately, I&#39;m stuck with it; upgrading it may cause additional breakages since it&#39;s a legacy application).\r\n\r\nHibernate version used is: hibernate-core-3.6.3.Final.jar\r\n\r\nI went through this link https://hibernate.atlassian.net/browse/HHH-6127. Not sure If I am hitting the same issue in driver class.\r\n\r\nMy table definition and sample data I am trying store and what exactly stored in given below:\r\n\r\n\r\nHere is my table definition:\r\n``` \r\nColumn name          Type                                    Nulls\r\n\r\nid                   serial                                  no\r\nlayouttype           varchar(32,0)                           no\r\nname                 lvarchar(256)                           no\r\ndescription          lvarchar(512)                           yes\r\nlayoutxml            clob                                    no\r\n```\r\nThis the data I am trying to insert into CLOB layoutxml:\r\n\r\n```\r\n&lt;MediaPropertiesLayout&gt;&lt;name&gt;Система&lt;/name&gt;&lt;description&gt;&lt;/description&gt;&lt;header&gt;&lt;entry&gt;&lt;showInPopOver/&gt;&lt;displayName&gt;Система&lt;/displayName&gt;&lt;mediaProperty&gt;callVariable1&lt;/mediaProperty&gt;&lt;uiEditable&gt;false&lt;/uiEditable&gt;&lt;/entry&gt;&lt;/header&gt;&lt;column&gt;&lt;/column&gt;&lt;column&gt;&lt;/column&gt;&lt;uri&gt;&lt;/uri&gt;&lt;/MediaPropertiesLayout&gt;\r\n```\r\n\r\nActual data stored in layoutxml (CLOB)\r\n``` \r\n&lt;MediaPropertiesLayout&gt;&lt;name&gt;Система&lt;/name&gt;&lt;description&gt;&lt;/description&gt;&lt;header&gt;&lt;entry&gt;&lt;showInPopOver/&gt;&lt;displayName&gt;Система&lt;/displayName&gt;&lt;mediaProperty&gt;callVariable1&lt;/mediaProperty&gt;&lt;uiEditable&gt;false&lt;/uiEditable&gt;&lt;/entry&gt;&lt;/header&gt;&lt;column&gt;&lt;/column&gt;&lt;column&gt;&lt;/column&gt;&lt;uri&gt;\r\n```\r\ni.e. Closing tags for ``` uri ``` and  ``` MediaPropertiesLayout ``` is truncated. This will vary depending upon the UTF-8 characters I use. If I use larger string instead of &quot;Система&quot;, then truncation will be at different place.\r\n\r\nAny pointer will be great help.\r\n","title":"Informix db clob with utf-8 characters stores incomplete data","body":"<p>I am facing a problem with my Informix db while storing CLOB data with UTF-8 charset data.\nThe regular varchar datatype with UTF-8 characters is storing without any issue; however, when I store the data as a CLOB and data (in my case XML) contains utf-8 characters, only truncated XML is stored.</p>\n<p>Example Characters: german umlaut<br />\nInformix db character encoding is set to utf-8.</p>\n<p>Below is my hbm file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC\n       &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n        &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;hibernate-mapping package=&quot;com.test.adapter.persistence.bean&quot;&gt;\n    &lt;class name=&quot;MediaLayoutConfigPojo&quot; table=&quot;medialayoutconfig&quot;&gt;\n        &lt;id name=&quot;dbId&quot; type=&quot;int&quot; column=&quot;id&quot;&gt;\n            &lt;generator class=&quot;native&quot; /&gt;\n        &lt;/id&gt;\n        &lt;property name=&quot;layoutxml&quot; type=&quot;clob&quot; column=&quot;layoutxml&quot; /&gt; \n        &lt;property name=&quot;name&quot; type=&quot;string&quot; column=&quot;name&quot; /&gt;\n        &lt;property name=&quot;description&quot; type=&quot;string&quot; column=&quot;description&quot; /&gt;\n        &lt;property name=&quot;layouttype&quot; type=&quot;string&quot; column=&quot;layouttype&quot; /&gt;    \n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>SQL driver class is</p>\n<pre><code>&lt;property name=&quot;connection.driver_class&quot;&gt;com.informix.jdbc.IfxDriver&lt;/property&gt;\n&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.InformixDialect&lt;/property&gt;\n</code></pre>\n<p>I am using the ifxjdbc-3.50.JC9.jar JDBC driver (unfortunately, I'm stuck with it; upgrading it may cause additional breakages since it's a legacy application).</p>\n<p>Hibernate version used is: hibernate-core-3.6.3.Final.jar</p>\n<p>I went through this link <a href=\"https://hibernate.atlassian.net/browse/HHH-6127\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-6127</a>. Not sure If I am hitting the same issue in driver class.</p>\n<p>My table definition and sample data I am trying store and what exactly stored in given below:</p>\n<p>Here is my table definition:</p>\n<pre><code>Column name          Type                                    Nulls\n\nid                   serial                                  no\nlayouttype           varchar(32,0)                           no\nname                 lvarchar(256)                           no\ndescription          lvarchar(512)                           yes\nlayoutxml            clob                                    no\n</code></pre>\n<p>This the data I am trying to insert into CLOB layoutxml:</p>\n<pre><code>&lt;MediaPropertiesLayout&gt;&lt;name&gt;Система&lt;/name&gt;&lt;description&gt;&lt;/description&gt;&lt;header&gt;&lt;entry&gt;&lt;showInPopOver/&gt;&lt;displayName&gt;Система&lt;/displayName&gt;&lt;mediaProperty&gt;callVariable1&lt;/mediaProperty&gt;&lt;uiEditable&gt;false&lt;/uiEditable&gt;&lt;/entry&gt;&lt;/header&gt;&lt;column&gt;&lt;/column&gt;&lt;column&gt;&lt;/column&gt;&lt;uri&gt;&lt;/uri&gt;&lt;/MediaPropertiesLayout&gt;\n</code></pre>\n<p>Actual data stored in layoutxml (CLOB)</p>\n<pre><code>&lt;MediaPropertiesLayout&gt;&lt;name&gt;Система&lt;/name&gt;&lt;description&gt;&lt;/description&gt;&lt;header&gt;&lt;entry&gt;&lt;showInPopOver/&gt;&lt;displayName&gt;Система&lt;/displayName&gt;&lt;mediaProperty&gt;callVariable1&lt;/mediaProperty&gt;&lt;uiEditable&gt;false&lt;/uiEditable&gt;&lt;/entry&gt;&lt;/header&gt;&lt;column&gt;&lt;/column&gt;&lt;column&gt;&lt;/column&gt;&lt;uri&gt;\n</code></pre>\n<p>i.e. Closing tags for <code>uri</code> and  <code>MediaPropertiesLayout</code> is truncated. This will vary depending upon the UTF-8 characters I use. If I use larger string instead of &quot;Система&quot;, then truncation will be at different place.</p>\n<p>Any pointer will be great help.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":217187,"reputation":2224,"user_id":472866,"accept_rate":38,"display_name":"avances123"},"score":6,"creation_date":1465473029,"post_id":2493415,"comment_id":62921465,"body_markdown":"In Arch Linux , this happens when you only install eclipse-common package, you must install eclipse-java or eclipse-cpp packages as well","body":"In Arch Linux , this happens when you only install eclipse-common package, you must install eclipse-java or eclipse-cpp packages as well"},{"owner":{"display_name":"user6538026"},"score":0,"creation_date":1469513199,"post_id":2493415,"comment_id":64552938,"body_markdown":"@avances123, Thanks I was really confused. I installed eclipse from Software store :)","body":"@avances123, Thanks I was really confused. I installed eclipse from Software store :)"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1432641063,"creation_date":1269271671,"answer_id":2493470,"question_id":2493415,"body_markdown":"The `/configuration/config.ini` file should contain `org.eclipse.core.runtime@start` in the commaseparated `osgi.bundles` property. Here is the default `osgi.bundles` property, maybe it was (accidently) changed during some upgrade:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    osgi.bundles=org.eclipse.equinox.common@2:start,org.eclipse.update.configurator@3:start,org.eclipse.core.runtime@start\r\n\r\nYou can if necessary override it by setting it as VM argument in `/eclipse.ini`:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    -Dosgi.bundles=org.eclipse.equinox.common@2:start,org.eclipse.update.configurator@3:start,org.eclipse.core.runtime@start\r\n","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>The <code>/configuration/config.ini</code> file should contain <code>org.eclipse.core.runtime@start</code> in the commaseparated <code>osgi.bundles</code> property. Here is the default <code>osgi.bundles</code> property, maybe it was (accidently) changed during some upgrade:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>osgi.bundles=org.eclipse.equinox.common@2:start,org.eclipse.update.configurator@3:start,org.eclipse.core.runtime@start\n</code></pre>\n\n<p>You can if necessary override it by setting it as VM argument in <code>/eclipse.ini</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>-Dosgi.bundles=org.eclipse.equinox.common@2:start,org.eclipse.update.configurator@3:start,org.eclipse.core.runtime@start\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72159,"reputation":9614,"user_id":208446,"accept_rate":89,"display_name":"mohdajami"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1269271803,"creation_date":1269271803,"answer_id":2493492,"question_id":2493415,"body_markdown":"try running it from the Command Line as:\r\n    \r\n     &gt;eclipse -clean\r\n\r\nOr, you could run it using `java` instead of the default `javaw`, here:\r\n\r\n     &gt;eclipse -vm c:\\jdks\\java_1.5\\jre\\bin\\java.exe\r\n","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>try running it from the Command Line as:</p>\n\n<pre><code> &gt;eclipse -clean\n</code></pre>\n\n<p>Or, you could run it using <code>java</code> instead of the default <code>javaw</code>, here:</p>\n\n<pre><code> &gt;eclipse -vm c:\\jdks\\java_1.5\\jre\\bin\\java.exe\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10517,"reputation":9630,"user_id":19911,"accept_rate":80,"display_name":"Sandman"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1297465778,"creation_date":1297465778,"answer_id":4974971,"question_id":2493415,"body_markdown":"I have had the same problem, and here&#39;s how I solved it: I added the plugin &quot;org.eclipse.core.runtime&quot; in the &quot;plugins&quot; section on the &quot;configuration&quot; tab of the .product editor. I set it&#39;s start level to default and auto-start to true. I removed other plugins. My reasoning was this: Eclipse is complaining that the org.eclipse.core.runtime isn&#39;t started, so let&#39;s make sure that it does start, and that it&#39;s the only plugin that&#39;s starting.\r\n\r\nMy application ran fine after I did this. I then inspected the config.ini to see what changed, and saw that org.eclipse.core.runtime was now changed to org.eclipse.core.runtime@start. This is consistent with BalusC&#39;s suggestion, I just did it from the .product editor.","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>I have had the same problem, and here's how I solved it: I added the plugin \"org.eclipse.core.runtime\" in the \"plugins\" section on the \"configuration\" tab of the .product editor. I set it's start level to default and auto-start to true. I removed other plugins. My reasoning was this: Eclipse is complaining that the org.eclipse.core.runtime isn't started, so let's make sure that it does start, and that it's the only plugin that's starting.</p>\n\n<p>My application ran fine after I did this. I then inspected the config.ini to see what changed, and saw that org.eclipse.core.runtime was now changed to org.eclipse.core.runtime@start. This is consistent with BalusC's suggestion, I just did it from the .product editor.</p>\n"},{"tags":[],"owner":{"account_id":209456,"reputation":4012,"user_id":460472,"accept_rate":70,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1378996357,"creation_date":1325996177,"answer_id":8775340,"question_id":2493415,"body_markdown":"The accepted answer above is correct, except for it&#39;s not completely clear.\r\n\r\nYou need to add the following line to the bottom of the eclipse.ini file:\r\n\r\n    -Dosgi.bundles=org.eclipse.equinox.common@2:start,org.eclipse.update.configurator@3:start,org.eclipse.core.runtime@\r\n","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>The accepted answer above is correct, except for it's not completely clear.</p>\n\n<p>You need to add the following line to the bottom of the eclipse.ini file:</p>\n\n<pre><code>-Dosgi.bundles=org.eclipse.equinox.common@2:start,org.eclipse.update.configurator@3:start,org.eclipse.core.runtime@\n</code></pre>\n"},{"tags":[],"owner":{"account_id":941734,"reputation":799,"user_id":969698,"display_name":"evandor"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1331218114,"creation_date":1331218114,"answer_id":9619481,"question_id":2493415,"body_markdown":"Adding my two cents for those searching for &quot;**Ensure that the org.eclipse.core.runtime bundle is resolved and started**&quot;: \r\n\r\nAdding &quot;arbitrary&quot; bundles to the list of bundles just *because it seems that they are missing* is not always the best solution. Sometimes it can get quite frustrating, because those new plugins might depend on other missing bundles, which need even more bundles and so on... \r\n\r\nSo, before adding a new dependency to the list of required bundles, make sure you understand why the bundle is needed (the debugger is your friend!). \r\n\r\nThis question here doesn&#39;t provide enough information to make this a valid answer in all cases, but if you encounter the message that the *org.eclipse.core.runtime is missing*, try setting the **eclipse.application.launchDefault** system property to **false**, especially if you try to run an application which is not an &quot;eclipse application&quot; (but maybe just a headless runtime on top of equinox).\r\n\r\nThis link might come in handy: &lt;http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fmisc%2Fruntime-options.html&gt;, look for the eclipse.application.launchDefault system property.","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>Adding my two cents for those searching for \"<strong>Ensure that the org.eclipse.core.runtime bundle is resolved and started</strong>\": </p>\n\n<p>Adding \"arbitrary\" bundles to the list of bundles just <em>because it seems that they are missing</em> is not always the best solution. Sometimes it can get quite frustrating, because those new plugins might depend on other missing bundles, which need even more bundles and so on... </p>\n\n<p>So, before adding a new dependency to the list of required bundles, make sure you understand why the bundle is needed (the debugger is your friend!). </p>\n\n<p>This question here doesn't provide enough information to make this a valid answer in all cases, but if you encounter the message that the <em>org.eclipse.core.runtime is missing</em>, try setting the <strong>eclipse.application.launchDefault</strong> system property to <strong>false</strong>, especially if you try to run an application which is not an \"eclipse application\" (but maybe just a headless runtime on top of equinox).</p>\n\n<p>This link might come in handy: <a href=\"http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fmisc%2Fruntime-options.html\">http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fmisc%2Fruntime-options.html</a>, look for the eclipse.application.launchDefault system property.</p>\n"},{"tags":[],"owner":{"account_id":977677,"reputation":1685,"user_id":998245,"display_name":"Ricardo Rivaldo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1347397314,"creation_date":1347397314,"answer_id":12377856,"question_id":2493415,"body_markdown":"I got this problem with Mac OS Lion, after transfer OS/Data from an older machine to a new one. \r\n\r\nSolved deleting the old eclipse folder (which I have in Applications folder) and copy eclipse folder again (same version, same unpacked zip file, no changes).","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>I got this problem with Mac OS Lion, after transfer OS/Data from an older machine to a new one. </p>\n\n<p>Solved deleting the old eclipse folder (which I have in Applications folder) and copy eclipse folder again (same version, same unpacked zip file, no changes).</p>\n"},{"tags":[],"owner":{"account_id":2097962,"reputation":9,"user_id":1866324,"display_name":"LuisF"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1354280666,"creation_date":1354279384,"answer_id":13645538,"question_id":2493415,"body_markdown":"I&#39;ve been downloaded the &quot;SDK ADT Bundle for Windows&quot; adt-bundle-windows-x86.zip to &quot;Documents and settings\\myusername\\My Documents\\Downloads&quot;  and tried to unzip to a folder c:\\Android \r\n\r\nWhen all seems to be decompressed I saw some files where missing in the destination folder including the eclipse.ini.\r\n\r\nI solved this by renaming `adt-bundle-windows-x86.zip` to a short name `adt.zip`, moving it to c:\\ and repeating the decompression. \r\n\r\nAll is due to bad treatment of long file-names in windows ","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>I've been downloaded the \"SDK ADT Bundle for Windows\" adt-bundle-windows-x86.zip to \"Documents and settings\\myusername\\My Documents\\Downloads\"  and tried to unzip to a folder c:\\Android </p>\n\n<p>When all seems to be decompressed I saw some files where missing in the destination folder including the eclipse.ini.</p>\n\n<p>I solved this by renaming <code>adt-bundle-windows-x86.zip</code> to a short name <code>adt.zip</code>, moving it to c:\\ and repeating the decompression. </p>\n\n<p>All is due to bad treatment of long file-names in windows </p>\n"},{"tags":[],"owner":{"account_id":10272,"reputation":2703,"user_id":19308,"accept_rate":83,"display_name":"Joshua Drake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354810938,"creation_date":1354810938,"answer_id":13747956,"question_id":2493415,"body_markdown":"For those coming here having tried to run the application from a Windows command line, or batch file, and possibly those receiving the stated error message in a Rational Clear Case log file:\r\n\r\nThe PATH is very important to the processing of config files, and the following was required for me:\r\n\r\n    START &quot;Clear Case&quot; /D&quot;C:\\Program Files (x86)\\Rational\\ClearQuest\\rcp\\&quot; &quot;C:\\Program Files (x86)\\Rational\\ClearQuest\\rcp\\clearquest.exe&quot;\r\n\r\nnote the **/D** option.","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>For those coming here having tried to run the application from a Windows command line, or batch file, and possibly those receiving the stated error message in a Rational Clear Case log file:</p>\n\n<p>The PATH is very important to the processing of config files, and the following was required for me:</p>\n\n<pre><code>START \"Clear Case\" /D\"C:\\Program Files (x86)\\Rational\\ClearQuest\\rcp\\\" \"C:\\Program Files (x86)\\Rational\\ClearQuest\\rcp\\clearquest.exe\"\n</code></pre>\n\n<p>note the <strong>/D</strong> option.</p>\n"},{"tags":[],"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365171740,"creation_date":1365171740,"answer_id":15836371,"question_id":2493415,"body_markdown":"Adding to a well-populated page:\r\n\r\nI had this come up when I tried to move the eclipse installation to a different location on my drive.  I tried grepping for the old directory path in the package, thinking perhaps I could fix it with sed, but the path was written in multiple formats and even found in binary files.  I gave up, made a fresh install, and re-installed my plugins.  \r\n\r\n(Here&#39;s a [question about moving an eclipse installation][1], but it didn&#39;t give me enough to make it work.)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11554381/moving-eclipse-installation-directory-causes-problems","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>Adding to a well-populated page:</p>\n\n<p>I had this come up when I tried to move the eclipse installation to a different location on my drive.  I tried grepping for the old directory path in the package, thinking perhaps I could fix it with sed, but the path was written in multiple formats and even found in binary files.  I gave up, made a fresh install, and re-installed my plugins.  </p>\n\n<p>(Here's a <a href=\"https://stackoverflow.com/questions/11554381/moving-eclipse-installation-directory-causes-problems\">question about moving an eclipse installation</a>, but it didn't give me enough to make it work.)</p>\n"},{"tags":[],"owner":{"account_id":2014144,"reputation":41,"user_id":1801851,"display_name":"shawn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1550482543,"creation_date":1373597608,"answer_id":17606773,"question_id":2493415,"body_markdown":"This error happen cause you deleted the config.ini file while you deleted the plugins.  So, when it can not find configuration in config.ini when eclipse lauching， then it use default  configuration which is not fit with your os. The following steps solve you problem:\r\n   \r\n  1. Delete setting in configuration folder.\r\n    \r\n  2. create a new config.ini file.\r\n    \r\n  3. copy following setting and save:\r\n    \r\n  4. \r\n        osgi.splashPath = platform:/base/plugins/org.eclipse.platform  \r\n        osgi.bundles=org.eclipse.equinox.common@2:start, org.eclipse.update.configurator@3:start, org.eclipse.core.runtime@start  \r\n        eclipse.product=org.eclipse.sdk.ide  \r\n        osgi.instance.area.default=@user.home/workspace  \r\n        eof=eof  \r\n    \r\n  5. restart eclipse.","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>This error happen cause you deleted the config.ini file while you deleted the plugins.  So, when it can not find configuration in config.ini when eclipse lauching， then it use default  configuration which is not fit with your os. The following steps solve you problem:</p>\n\n<ol>\n<li><p>Delete setting in configuration folder.</p></li>\n<li><p>create a new config.ini file.</p></li>\n<li><p>copy following setting and save:</p></li>\n<li><pre><code>osgi.splashPath = platform:/base/plugins/org.eclipse.platform  \nosgi.bundles=org.eclipse.equinox.common@2:start, org.eclipse.update.configurator@3:start, org.eclipse.core.runtime@start  \neclipse.product=org.eclipse.sdk.ide  \nosgi.instance.area.default=@user.home/workspace  \neof=eof  \n</code></pre></li>\n<li><p>restart eclipse.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3981966,"reputation":31,"user_id":3283655,"display_name":"user3283655"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550482454,"creation_date":1391773178,"answer_id":21626817,"question_id":2493415,"body_markdown":"shawn: My eclipse have started when I extended bundles:\r\n\r\n    osgi.bundles=org.eclipse.equinox.common@2:start, org.eclipse.update.configurator@3:start, org.eclipse.core.runtime@start, org.eclipse.equinox.ds@start, org.eclipse.equinox.event@start   ","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>shawn: My eclipse have started when I extended bundles:</p>\n\n<pre><code>osgi.bundles=org.eclipse.equinox.common@2:start, org.eclipse.update.configurator@3:start, org.eclipse.core.runtime@start, org.eclipse.equinox.ds@start, org.eclipse.equinox.event@start   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":122104,"reputation":293,"user_id":315683,"accept_rate":50,"display_name":"kyzen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401460210,"creation_date":1401460210,"answer_id":23957031,"question_id":2493415,"body_markdown":"I tried all the methods proposed here. I finally deleted the eclipse folder, extracted it again and now everything works perfectly.  ","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>I tried all the methods proposed here. I finally deleted the eclipse folder, extracted it again and now everything works perfectly.  </p>\n"},{"tags":[],"owner":{"account_id":5045467,"reputation":1,"user_id":4051613,"display_name":"Aman"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1410977676,"creation_date":1410977676,"answer_id":25897577,"question_id":2493415,"body_markdown":"delete processcenter.ini at location similar to:\r\nC:\\IBM\\IntegrationDesigner\\v8.5\\iid\r\nand then once IDE comes up, go to windows preference and put in the correct URL.","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>delete processcenter.ini at location similar to:\nC:\\IBM\\IntegrationDesigner\\v8.5\\iid\nand then once IDE comes up, go to windows preference and put in the correct URL.</p>\n"},{"tags":[],"owner":{"account_id":5733286,"reputation":375,"user_id":4528185,"display_name":"PepsiGoose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435837197,"creation_date":1435837197,"answer_id":31183628,"question_id":2493415,"body_markdown":"I received this message trying to run STS 3.7.0 on java 6 jdk, after pointing to java jdk 7 (-vm param in STS.ini) the issue disappeared.","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>I received this message trying to run STS 3.7.0 on java 6 jdk, after pointing to java jdk 7 (-vm param in STS.ini) the issue disappeared.</p>\n"},{"tags":[],"owner":{"account_id":3391785,"reputation":2102,"user_id":2846469,"display_name":"user2846469"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479898882,"creation_date":1479898882,"answer_id":40762633,"question_id":2493415,"body_markdown":"For me, what eventually did the trick was adding `-clean` at the start of eclipse.ini","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>For me, what eventually did the trick was adding <code>-clean</code> at the start of eclipse.ini</p>\n"},{"tags":[],"owner":{"account_id":5393216,"reputation":571,"user_id":4295123,"accept_rate":69,"display_name":"Ardit Meti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508009647,"creation_date":1508009647,"answer_id":46748568,"question_id":2493415,"body_markdown":"I got this problem somewhere on the logs and I saw that my java version was not 1.8 somehow. Upgrading it again to 1.8 solved my problem.","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>I got this problem somewhere on the logs and I saw that my java version was not 1.8 somehow. Upgrading it again to 1.8 solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":10407465,"reputation":4443,"user_id":7673964,"display_name":"Lucky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534176564,"creation_date":1534176564,"answer_id":51826524,"question_id":2493415,"body_markdown":"In the Windows environment, running Eclipse as Administrator solved the issue. (Right click&gt;Run as Administrator)","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>In the Windows environment, running Eclipse as Administrator solved the issue. (Right click>Run as Administrator)</p>\n"},{"tags":[],"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544068467,"creation_date":1544068467,"answer_id":53644407,"question_id":2493415,"body_markdown":"Download new eclipse or spring suite and open old workspace into new eclipse or STS","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>Download new eclipse or spring suite and open old workspace into new eclipse or STS</p>\n"},{"tags":[],"owner":{"account_id":10647340,"reputation":163,"user_id":7839513,"display_name":"Mohammed Javad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548072232,"creation_date":1548072232,"answer_id":54289597,"question_id":2493415,"body_markdown":"For me installing the `jdk 1.8` solved the issue.","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>For me installing the <code>jdk 1.8</code> solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":1085686,"reputation":16,"user_id":2291432,"display_name":"Ramzi Njeim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570636184,"creation_date":1570636184,"answer_id":58307903,"question_id":2493415,"body_markdown":"If none of the above answers works for you, try the following:\r\nGet the &quot;org.eclipse.equinox.simpleconfigurator&quot; and the &quot;org.eclipse.update&quot; folders found under the &quot;eclipse\\configuration&quot; from a working Eclipse instance (can be the stock Eclipse downloaded from their website) and replace them in your Eclipse installation directory.\r\nThis fixed it for me.","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>If none of the above answers works for you, try the following:\nGet the \"org.eclipse.equinox.simpleconfigurator\" and the \"org.eclipse.update\" folders found under the \"eclipse\\configuration\" from a working Eclipse instance (can be the stock Eclipse downloaded from their website) and replace them in your Eclipse installation directory.\nThis fixed it for me.</p>\n"},{"tags":[],"owner":{"account_id":15832854,"reputation":707,"user_id":11423630,"display_name":"Shubham"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1572504003,"creation_date":1572504003,"answer_id":58638039,"question_id":2493415,"body_markdown":"in my opinion, if after trying all solution nothing wors then simply delete eclipse folder from your C://use/{pc}/eclipse and then again install the same eclipse . You will get all your data no need to worry.\r\n\r\nThis happens because of unexpected shutdown of your eclipse","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>in my opinion, if after trying all solution nothing wors then simply delete eclipse folder from your C://use/{pc}/eclipse and then again install the same eclipse . You will get all your data no need to worry.</p>\n\n<p>This happens because of unexpected shutdown of your eclipse</p>\n"},{"tags":[],"owner":{"account_id":5195924,"reputation":180,"user_id":4157239,"display_name":"xdevx32"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608554279,"creation_date":1608554279,"answer_id":65392929,"question_id":2493415,"body_markdown":"I tried all the answers above, but none of them worked for me, so I was forced to try something else. I just removed the whole package with settings org.eclipse.Java and it worked fine, starts again like before and even keeps all settings like color themes and others. Worked like charm.\r\n\r\nOn Linux or Mac go to /home/{your_user_name}/.var/app and run the following command:\r\n\r\n     rm -r org.eclipse.Java\r\n\r\nOn Windows just find the same directory and move it to Trash.\r\n\r\n\r\nAfter this is done, the settings and the errors are deleted, so Eclipse will start and re-create them with the proper settings.\r\n\r\nWhen Eclipse starts it will ask for the workspace directory. When specified, everything works like before.\r\n\r\n","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>I tried all the answers above, but none of them worked for me, so I was forced to try something else. I just removed the whole package with settings org.eclipse.Java and it worked fine, starts again like before and even keeps all settings like color themes and others. Worked like charm.</p>\n<p>On Linux or Mac go to /home/{your_user_name}/.var/app and run the following command:</p>\n<pre><code> rm -r org.eclipse.Java\n</code></pre>\n<p>On Windows just find the same directory and move it to Trash.</p>\n<p>After this is done, the settings and the errors are deleted, so Eclipse will start and re-create them with the proper settings.</p>\n<p>When Eclipse starts it will ask for the workspace directory. When specified, everything works like before.</p>\n"},{"tags":[],"owner":{"account_id":7442031,"reputation":3314,"user_id":5659521,"display_name":"Amit Meena"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625155526,"creation_date":1625155526,"answer_id":68213526,"question_id":2493415,"body_markdown":"if you face this in 2021 or later better check that you have jdk 11 installed and is configured correctly. I downloaded the latest eclipse-jee-2021-06-R-win32-x86_64 and on running i got this issue. I checked the java version on my system and it was: 1.8 I downloaded the latest OpenJDK 11 configured it (JAVA_HOME in an environment variable and &lt;JAVAHOME/bin entry in PATH environment varaible&gt;) and the issue is gone. ","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>if you face this in 2021 or later better check that you have jdk 11 installed and is configured correctly. I downloaded the latest eclipse-jee-2021-06-R-win32-x86_64 and on running i got this issue. I checked the java version on my system and it was: 1.8 I downloaded the latest OpenJDK 11 configured it (JAVA_HOME in an environment variable and &lt;JAVAHOME/bin entry in PATH environment varaible&gt;) and the issue is gone.</p>\n"},{"tags":[],"owner":{"account_id":150281,"reputation":99,"user_id":363359,"display_name":"SteveM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638990126,"creation_date":1638990126,"answer_id":70280398,"question_id":2493415,"body_markdown":"The only thing that worked for me was to run Eclipse using JAVA from the command line.\r\n\r\n    C:\\Development_Tools\\eclipse\\java-2021-092\\eclipse&gt;java -jar plugins/org.eclipse.equinox.launcher_1.6.300.v20210813-1054.jar\r\n\r\nThis was executed from the folder where eclipse.exe resides.\r\n\r\nI made my own shortcut for this and now use that shortcut instead of the one produced when installing Eclipse from their website.\r\n","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>The only thing that worked for me was to run Eclipse using JAVA from the command line.</p>\n<pre><code>C:\\Development_Tools\\eclipse\\java-2021-092\\eclipse&gt;java -jar plugins/org.eclipse.equinox.launcher_1.6.300.v20210813-1054.jar\n</code></pre>\n<p>This was executed from the folder where eclipse.exe resides.</p>\n<p>I made my own shortcut for this and now use that shortcut instead of the one produced when installing Eclipse from their website.</p>\n"}],"owner":{"account_id":87077,"reputation":25964,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191939,"favorite_count":0,"down_vote_count":1,"up_vote_count":66,"accepted_answer_id":2493470,"answer_count":24,"score":65,"last_activity_date":1638990126,"creation_date":1269271365,"question_id":2493415,"body_markdown":"When ever I try to launch my eclipse I am getting the following exception an its not coming up.\r\n\r\n    java.lang.IllegalStateException: Unable to acquire application service. Ensure that the org.eclipse.core.runtime bundle is resolved and started (see config.ini).                                                                         \r\n      at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74)\r\n      at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368)\r\n      at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)\r\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n      at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\t  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\t  at java.lang.reflect.Method.invoke(Unknown Source)\r\n\t  at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559)\r\n\t  at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514)\r\n\t  at org.eclipse.equinox.launcher.Main.run(Main.java:1311)\r\n\r\nNeed help.\r\nThanks.","title":"&quot;Unable to acquire application service&quot; error while launching Eclipse","body":"<p>When ever I try to launch my eclipse I am getting the following exception an its not coming up.</p>\n\n<pre><code>java.lang.IllegalStateException: Unable to acquire application service. Ensure that the org.eclipse.core.runtime bundle is resolved and started (see config.ini).                                                                         \n  at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74)\n  at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368)\n  at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.lang.reflect.Method.invoke(Unknown Source)\n  at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559)\n  at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514)\n  at org.eclipse.equinox.launcher.Main.run(Main.java:1311)\n</code></pre>\n\n<p>Need help.\nThanks.</p>\n"},{"tags":["java","mysql","macos","docker"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1638975454,"post_id":70276803,"comment_id":124230509,"body_markdown":"The database is not yet properly set up. Read the docker image documentation for details","body":"The database is not yet properly set up. Read the docker image documentation for details"},{"owner":{"account_id":9269537,"reputation":722,"user_id":6883983,"display_name":"Roman Lototskyi"},"score":0,"creation_date":1638976008,"post_id":70276803,"comment_id":124230743,"body_markdown":"I have been using this database for 3 month, I need to add one more database. How it could be not properly set up if I use it ?","body":"I have been using this database for 3 month, I need to add one more database. How it could be not properly set up if I use it ?"},{"owner":{"account_id":22224832,"reputation":8094,"user_id":16461952,"display_name":"Ergest Basha"},"score":0,"creation_date":1638981062,"post_id":70276803,"comment_id":124233066,"body_markdown":"Did you check the user privileges ?","body":"Did you check the user privileges ?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1638981381,"post_id":70276803,"comment_id":124233209,"body_markdown":"You need to use credentials for a MySQL user that is allowed to create new databases.","body":"You need to use credentials for a MySQL user that is allowed to create new databases."},{"owner":{"account_id":9269537,"reputation":722,"user_id":6883983,"display_name":"Roman Lototskyi"},"score":0,"creation_date":1639049367,"post_id":70276803,"comment_id":124251599,"body_markdown":"Thanks @Thorbj&#248;rnRavnAndersen . It helped. Before I tried to use credentials from first database and it failed. When I tried to use credentials for MySQL it succeeded.","body":"Thanks @Thorbj&#248;rnRavnAndersen . It helped. Before I tried to use credentials from first database and it failed. When I tried to use credentials for MySQL it succeeded."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1639170052,"post_id":70276803,"comment_id":124289088,"body_markdown":"Do you understand what happened and why?","body":"Do you understand what happened and why?"}],"answers":[{"tags":[],"owner":{"account_id":23392466,"reputation":631,"user_id":17456955,"display_name":"RP.S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638974874,"creation_date":1638974874,"answer_id":70276932,"question_id":70276803,"body_markdown":"error is privileges;\\\r\ntry create a user and grant some privileges;\r\n","title":"How to add one more mysql database on docker container locally","body":"<p>error is privileges;<br />\ntry create a user and grant some privileges;</p>\n"}],"owner":{"account_id":9269537,"reputation":722,"user_id":6883983,"display_name":"Roman Lototskyi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1638989766,"creation_date":1638974322,"question_id":70276803,"body_markdown":"I have tried to add one more mysql database on docker locally. However I receive this error: Caused by: `java.sql.SQLSyntaxErrorException: Access denied`; you need (at least one of) the CREATE USER privilege(s) for this operation \r\nwhen I try to execute this line of code:\r\n\r\n    statement.execute(&quot;CREATE DATABASE database_name&quot;); \r\n\r\nDo someone know a simple way to do this ? \r\n","title":"How to add one more mysql database on docker container locally","body":"<p>I have tried to add one more mysql database on docker locally. However I receive this error: Caused by: <code>java.sql.SQLSyntaxErrorException: Access denied</code>; you need (at least one of) the CREATE USER privilege(s) for this operation\nwhen I try to execute this line of code:</p>\n<pre><code>statement.execute(&quot;CREATE DATABASE database_name&quot;); \n</code></pre>\n<p>Do someone know a simple way to do this ?</p>\n"},{"tags":["java","reactive-programming","project-reactor"],"comments":[{"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"score":0,"creation_date":1638796467,"post_id":70244840,"comment_id":124175507,"body_markdown":"Spring Data provides a reactive client for ES. Why do you use the blocking client?","body":"Spring Data provides a reactive client for ES. Why do you use the blocking client?"},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1638797126,"post_id":70244840,"comment_id":124175793,"body_markdown":"@lkatiforis The issue with that has been that when using the reactive client, it makes N calls before the subscriber has a chance to finish the first. I asked this question specifically to fix that. That said, this question is general and not elasticsearch specific. https://stackoverflow.com/questions/70204206/how-do-i-create-a-flux-using-generate-wrapping-calls-that-return-a-mono","body":"@lkatiforis The issue with that has been that when using the reactive client, it makes N calls before the subscriber has a chance to finish the first. I asked this question specifically to fix that. That said, this question is general and not elasticsearch specific. <a href=\"https://stackoverflow.com/questions/70204206/how-do-i-create-a-flux-using-generate-wrapping-calls-that-return-a-mono\" title=\"how do i create a flux using generate wrapping calls that return a mono\">stackoverflow.com/questions/70204206/&hellip;</a>"},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1638884676,"post_id":70244840,"comment_id":124202142,"body_markdown":"@lkatiforis Event with the reactive client, I would ideally like to make the second search request while the first is being processed by the subscriber so that the next SearchResponse is ready when the subscriber is ready for it rather than waiting for the subscriber to be ready before calling elastic. Does that make sense or am I thinking of it incorrectly?","body":"@lkatiforis Event with the reactive client, I would ideally like to make the second search request while the first is being processed by the subscriber so that the next SearchResponse is ready when the subscriber is ready for it rather than waiting for the subscriber to be ready before calling elastic. Does that make sense or am I thinking of it incorrectly?"},{"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"score":0,"creation_date":1638885400,"post_id":70244840,"comment_id":124202499,"body_markdown":"If I understood correctly, you are using the ES Search After API with PIT. I believe you need the response(sort value, PIT) from the previous call in order to make the next one right?","body":"If I understood correctly, you are using the ES Search After API with PIT. I believe you need the response(sort value, PIT) from the previous call in order to make the next one right?"},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1638894011,"post_id":70244840,"comment_id":124206365,"body_markdown":"@lkatiforis Correct. Ideally the flux would 1) query ES and wait for the response 2) once response is received release it to the subscriber but ALSO make the next search request.  My thought is that the producer would always be one query ahead of the subscriber so that the subscriber does not have to wait for the next query after processing the first. However, I don&#39;t want to use create that would pull N responses. I only want it to be exactly one query ahead of the subscriber.","body":"@lkatiforis Correct. Ideally the flux would 1) query ES and wait for the response 2) once response is received release it to the subscriber but ALSO make the next search request.  My thought is that the producer would always be one query ahead of the subscriber so that the subscriber does not have to wait for the next query after processing the first. However, I don&#39;t want to use create that would pull N responses. I only want it to be exactly one query ahead of the subscriber."}],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638989703,"creation_date":1638790505,"question_id":70244840,"body_markdown":"I have created a `Flux` that uses `subscribeOn(Subscribers.boundedElastic)`. It is wrapping an `Iterator` I have created. What I would like is for the `Flux` to request the next element in a worker thread while the `Subscriber` is working on the current result. Ideally the `Flux` would call hasNext() -&gt; next() -&gt; hasNext() THEN send the result of the next() call to the subscriber. I tried doing this with `publish(2)` thinking the pre-fetch of 2 would do the trick but didn&#39;t seem to do what I wanted. Here is the code for creating the Flux.\r\n\r\n```\r\n\r\n  @Override\r\n  public Flux&lt;SearchResponse&gt; createDeepQueryFlux(@NonNull PITSearchInput input) {\r\n    validator.validate(input);\r\n    return Flux.&lt;SearchResponse, PointInTimeIterator&gt;generate(\r\n            () -&gt; new PointInTimeIterator(forwardingRestHighLevelClient, input),\r\n            (deepQueryIterator, sink) -&gt; {\r\n                log.info(&quot;Generate called&quot;);\r\n              if (deepQueryIterator.hasNext()) {\r\n                sink.next(deepQueryIterator.next());\r\n              } else {\r\n                sink.complete();\r\n              }\r\n              return deepQueryIterator;\r\n            },\r\n            (deepQueryIterator) -&gt; deepQueryIterator.shutdown())\r\n        .subscribeOn(Schedulers.boundedElastic());\r\n  }\r\n```","title":"How to have Flux always request one element ahead","body":"<p>I have created a <code>Flux</code> that uses <code>subscribeOn(Subscribers.boundedElastic)</code>. It is wrapping an <code>Iterator</code> I have created. What I would like is for the <code>Flux</code> to request the next element in a worker thread while the <code>Subscriber</code> is working on the current result. Ideally the <code>Flux</code> would call hasNext() -&gt; next() -&gt; hasNext() THEN send the result of the next() call to the subscriber. I tried doing this with <code>publish(2)</code> thinking the pre-fetch of 2 would do the trick but didn't seem to do what I wanted. Here is the code for creating the Flux.</p>\n<pre><code>\n  @Override\n  public Flux&lt;SearchResponse&gt; createDeepQueryFlux(@NonNull PITSearchInput input) {\n    validator.validate(input);\n    return Flux.&lt;SearchResponse, PointInTimeIterator&gt;generate(\n            () -&gt; new PointInTimeIterator(forwardingRestHighLevelClient, input),\n            (deepQueryIterator, sink) -&gt; {\n                log.info(&quot;Generate called&quot;);\n              if (deepQueryIterator.hasNext()) {\n                sink.next(deepQueryIterator.next());\n              } else {\n                sink.complete();\n              }\n              return deepQueryIterator;\n            },\n            (deepQueryIterator) -&gt; deepQueryIterator.shutdown())\n        .subscribeOn(Schedulers.boundedElastic());\n  }\n</code></pre>\n"},{"tags":["java","multithreading","spring","spring-mvc","transactions"],"comments":[{"owner":{"account_id":4011731,"reputation":448,"user_id":3304903,"accept_rate":75,"display_name":"Dulaj Atapattu"},"score":0,"creation_date":1507195666,"post_id":26277572,"comment_id":80117080,"body_markdown":"I think this will help for you. [Spring Transaction Management Over Multiple Threads](https://dzone.com/articles/spring-transaction-management-over-multiple-thread-1)","body":"I think this will help for you. <a href=\"https://dzone.com/articles/spring-transaction-management-over-multiple-thread-1\" rel=\"nofollow noreferrer\">Spring Transaction Management Over Multiple Threads</a>"},{"owner":{"account_id":2937533,"reputation":1848,"user_id":2516131,"accept_rate":25,"display_name":"Chamly Idunil"},"score":0,"creation_date":1591125414,"post_id":26277572,"comment_id":109935930,"body_markdown":"@DulajAtapattu do you example complete working code","body":"@DulajAtapattu do you example complete working code"},{"owner":{"account_id":4011731,"reputation":448,"user_id":3304903,"accept_rate":75,"display_name":"Dulaj Atapattu"},"score":0,"creation_date":1591525959,"post_id":26277572,"comment_id":110083674,"body_markdown":"Do you mean in the DZone blog? Yes!","body":"Do you mean in the DZone blog? Yes!"}],"answers":[{"tags":[],"owner":{"account_id":5151331,"reputation":186,"user_id":4125873,"display_name":"Neelam Mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412866846,"creation_date":1412866846,"answer_id":26281738,"question_id":26277572,"body_markdown":"\r\nService method should to be the one that starts the transactions\r\n\r\nService Method \r\n\r\n    public class Service{\r\n    // define dao1,dao2,dao3\r\n    @Transactional\r\n    public someMethod(){\r\n       dao1.someUpdate();\r\n       dao2.someUpdate();\r\n       dao3.someUpdate();\r\n    }\r\n    }\r\n\r\nDao1.class\r\n\r\n\r\n     public class Dao1{\r\n        \r\n          @Transactional (propagation = Propagation.MANDATORY)\r\n          public someUpdate(){\r\n          \r\n          }\r\n        }\r\n\r\nSimilarly the Dao2 and Dao3\r\n\r\nsomeUpdate() will use the transaction started by someMethod() of the Service.class\r\n","title":"Using Spring Transactions with multiple threads","body":"<p>Service method should to be the one that starts the transactions</p>\n\n<p>Service Method </p>\n\n<pre><code>public class Service{\n// define dao1,dao2,dao3\n@Transactional\npublic someMethod(){\n   dao1.someUpdate();\n   dao2.someUpdate();\n   dao3.someUpdate();\n}\n}\n</code></pre>\n\n<p>Dao1.class</p>\n\n<pre><code> public class Dao1{\n\n      @Transactional (propagation = Propagation.MANDATORY)\n      public someUpdate(){\n\n      }\n    }\n</code></pre>\n\n<p>Similarly the Dao2 and Dao3</p>\n\n<p>someUpdate() will use the transaction started by someMethod() of the Service.class</p>\n"},{"tags":[],"owner":{"account_id":6776158,"reputation":213,"user_id":5217847,"accept_rate":80,"display_name":"Vicky Desai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638989675,"creation_date":1510926876,"answer_id":47352233,"question_id":26277572,"body_markdown":"This can be achieved by keeping transaction at thread level. However u would require a shared object between all those threads. This shared object will keep a track of status of all this threads and notify them if either fails. If failure notification is recieved by this threads they themselves can throw an exception and their transaction will be rollbacked.\r\n\r\n## Example code\r\nCode in individual threads\r\n```java\r\n    @Transactional(rollbackFor = Exception.class)\r\n\tpublic void saveData(Product product, ProductStatusObject productStatusObject) throws Exception {\r\n\t\tproductDao.persist(product);\r\n\t\tif(product.getId() == 5) {\r\n\t\t\tproductStatusObject.updateCounter(false);\r\n\t\t} else {\r\n\t\t\tproductStatusObject.updateCounter(true);\r\n\t\t}\r\n\t\tif(!productStatusObject.getStatus()) {\r\n\t\t\tthrow new Exception();\r\n\t\t}\r\n\t}\r\n```\r\nCode in shared class\r\n```java\r\n    private final int  totalThreads;\r\n\r\n\tprivate int executedThreads = 0;\r\n\tprivate Boolean finalStatus = true;\r\n\t\r\n    public ProductStatusObject(int totalThreads) {\r\n\t\tthis.totalThreads = totalThreads;\r\n\t}\r\n\t\r\n\tpublic synchronized void updateCounter(Boolean threadStatus) throws InterruptedException {\r\n\t\texecutedThreads ++;\r\n\t\tif(!threadStatus) {\r\n\t\t\tthis.finalStatus = false;\r\n\t\t}\r\n\t\tif(totalThreads == executedThreads) {\r\n\t\t\tnotifyAll();\r\n\t\t} else {\r\n\t\t\twait();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic synchronized Boolean getStatus() {\r\n\t\treturn finalStatus;\r\n\t}\r\n```\r\n\r\nHere the failure condition is if any of thread is saving data with id 5 all threads will rollback their code. Else all will succeed","title":"Using Spring Transactions with multiple threads","body":"<p>This can be achieved by keeping transaction at thread level. However u would require a shared object between all those threads. This shared object will keep a track of status of all this threads and notify them if either fails. If failure notification is recieved by this threads they themselves can throw an exception and their transaction will be rollbacked.</p>\n<h2>Example code</h2>\n<p>Code in individual threads</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Transactional(rollbackFor = Exception.class)\n    public void saveData(Product product, ProductStatusObject productStatusObject) throws Exception {\n        productDao.persist(product);\n        if(product.getId() == 5) {\n            productStatusObject.updateCounter(false);\n        } else {\n            productStatusObject.updateCounter(true);\n        }\n        if(!productStatusObject.getStatus()) {\n            throw new Exception();\n        }\n    }\n</code></pre>\n<p>Code in shared class</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private final int  totalThreads;\n\n    private int executedThreads = 0;\n    private Boolean finalStatus = true;\n    \n    public ProductStatusObject(int totalThreads) {\n        this.totalThreads = totalThreads;\n    }\n    \n    public synchronized void updateCounter(Boolean threadStatus) throws InterruptedException {\n        executedThreads ++;\n        if(!threadStatus) {\n            this.finalStatus = false;\n        }\n        if(totalThreads == executedThreads) {\n            notifyAll();\n        } else {\n            wait();\n        }\n        \n    }\n    \n    public synchronized Boolean getStatus() {\n        return finalStatus;\n    }\n</code></pre>\n<p>Here the failure condition is if any of thread is saving data with id 5 all threads will rollback their code. Else all will succeed</p>\n"}],"owner":{"account_id":5150296,"reputation":21,"user_id":4125085,"display_name":"Dibjot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17114,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1528884775,"answer_count":2,"score":0,"last_activity_date":1638989675,"creation_date":1412854983,"question_id":26277572,"body_markdown":"I have been asked this question many times and is bugging me for long now.\r\n\r\nWe have a service class with 3 DAO methods updating 3 different tables.\r\nThe design is such that update to all three tables should be atomic.\r\nI have 3 threads invoking my service class separately and for each DAO method update, \r\nhow do I use Spring transactions or any transaction manager to keep all threads (operations) under a single transaction ??\r\nAny ideas or pointers to documentation ??\r\nThanks !!","title":"Using Spring Transactions with multiple threads","body":"<p>I have been asked this question many times and is bugging me for long now.</p>\n\n<p>We have a service class with 3 DAO methods updating 3 different tables.\nThe design is such that update to all three tables should be atomic.\nI have 3 threads invoking my service class separately and for each DAO method update, \nhow do I use Spring transactions or any transaction manager to keep all threads (operations) under a single transaction ??\nAny ideas or pointers to documentation ??\nThanks !!</p>\n"},{"tags":["java","android-studio","nfc","bottomnavigationview","onpause"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1638973157,"post_id":70276070,"comment_id":124229471,"body_markdown":"My understanding of `enableForegroundDispatch` is that it gives your Activity priority for handling NFC intents while the Activity is in the foreground. E.g. if a tag is discovered that could be handled by more than one app, then you get to handle it first. So disabling foreground dispatch disables that prioritization, but it doesn&#39;t stop NFC intents from being sent to your app. If you only want to use NFC while in the foreground then it sounds like you should be using reader mode instead of registering for intents.","body":"My understanding of <code>enableForegroundDispatch</code> is that it gives your Activity priority for handling NFC intents while the Activity is in the foreground. E.g. if a tag is discovered that could be handled by more than one app, then you get to handle it first. So disabling foreground dispatch disables that prioritization, but it doesn&#39;t stop NFC intents from being sent to your app. If you only want to use NFC while in the foreground then it sounds like you should be using reader mode instead of registering for intents."},{"owner":{"account_id":23325808,"reputation":11,"user_id":17402989,"display_name":"e5lite"},"score":0,"creation_date":1638973485,"post_id":70276070,"comment_id":124229618,"body_markdown":"@Michael what would I have to change in order to do so?","body":"@Michael what would I have to change in order to do so?"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1638973975,"post_id":70276070,"comment_id":124229824,"body_markdown":"Call `enableReaderMode` and `disableReaderMode` at appropriate times (e.g. onResume and onPause). One of the arguments to `enableReaderMode` is a callback that will be invoked when an NFC tag is discovered.","body":"Call <code>enableReaderMode</code> and <code>disableReaderMode</code> at appropriate times (e.g. onResume and onPause). One of the arguments to <code>enableReaderMode</code> is a callback that will be invoked when an NFC tag is discovered."},{"owner":{"account_id":23325808,"reputation":11,"user_id":17402989,"display_name":"e5lite"},"score":0,"creation_date":1638974296,"post_id":70276070,"comment_id":124229977,"body_markdown":"@Michael I already tried that earlier and implemented the line ```nfcAdapter.disableReaderMode(this)```, which did not change anything. It still executed the NFC-Method!","body":"@Michael I already tried that earlier and implemented the line <code>nfcAdapter.disableReaderMode(this)</code>, which did not change anything. It still executed the NFC-Method!"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1638974460,"post_id":70276070,"comment_id":124230057,"body_markdown":"Remove any NFC intent filters from your manifest. And get rid of the foreground dispatch code.","body":"Remove any NFC intent filters from your manifest. And get rid of the foreground dispatch code."}],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638989525,"creation_date":1638989525,"answer_id":70280282,"question_id":70276070,"body_markdown":"If you really want to just make it look like scanning is happening in just one of your Activities then really what you need to do is silently handle NFC in all your other Activities.\r\n\r\nThis is because it NFC events are actually detected and processed in the System NFC App/Service and if you have have not asked them to be forwarded to your Foreground App then the System NFC App/Service will likely to handle the Tag data itself and do something with it (open another App or open it&#39;s own dialog to display the content of the Tag).\r\n\r\nSo just disabling it in your Scan Activity is just allowing other Actions to happen and not actually stopping NFC processing from happening.\r\n\r\nAs the old API of `enableForegroundDispatch` gives you very little control and have no control over the NFC event sound the system generate, then you need to use the better API of `enableReaderMode`.\r\n\r\nSo in All Activities `enableReaderMode` in `onResume` and `disableReaderMode` in `onPause`. You would set it to capture all Tag Technologies and to turn off NFC sounds.\r\n\r\nThen when you want an Activity not to respond to NFC Tags the `onTagDiscovered` is just an empty method. So system silently sends any Tag discovered event to your App for it to ignore.\r\n\r\nThen in the &quot;Scan.activity&quot; the `onTagDiscovered` method does your NFC processing. (And then should do the sound notification itself instead of the system)\r\n\r\nYou should also have a Broadcast receiver to `enableReaderMode` when the NFC is turned on while you App is in the Foreground (Using the NFC quick settings does not pause your App).\r\n\r\nYou don&#39;t need any Intent filters unless you want you App started by an NFC card with a certain type of data.\r\n\r\n\r\nExample Broadcast receiver and `enableReaderMode` in this answer \r\nhttps://stackoverflow.com/a/59397667/2373819 \r\n\r\nThis silent capture of all NFC events in all non NFC activities is how I do it in my App (you can create a template class by extending the normal Activity class with the code for the silent handling of NFC and then use this as the base for your Activity classes)","title":"NFC-Reader: disableForegroundDispatch() doesn&#39;t work","body":"<p>If you really want to just make it look like scanning is happening in just one of your Activities then really what you need to do is silently handle NFC in all your other Activities.</p>\n<p>This is because it NFC events are actually detected and processed in the System NFC App/Service and if you have have not asked them to be forwarded to your Foreground App then the System NFC App/Service will likely to handle the Tag data itself and do something with it (open another App or open it's own dialog to display the content of the Tag).</p>\n<p>So just disabling it in your Scan Activity is just allowing other Actions to happen and not actually stopping NFC processing from happening.</p>\n<p>As the old API of <code>enableForegroundDispatch</code> gives you very little control and have no control over the NFC event sound the system generate, then you need to use the better API of <code>enableReaderMode</code>.</p>\n<p>So in All Activities <code>enableReaderMode</code> in <code>onResume</code> and <code>disableReaderMode</code> in <code>onPause</code>. You would set it to capture all Tag Technologies and to turn off NFC sounds.</p>\n<p>Then when you want an Activity not to respond to NFC Tags the <code>onTagDiscovered</code> is just an empty method. So system silently sends any Tag discovered event to your App for it to ignore.</p>\n<p>Then in the &quot;Scan.activity&quot; the <code>onTagDiscovered</code> method does your NFC processing. (And then should do the sound notification itself instead of the system)</p>\n<p>You should also have a Broadcast receiver to <code>enableReaderMode</code> when the NFC is turned on while you App is in the Foreground (Using the NFC quick settings does not pause your App).</p>\n<p>You don't need any Intent filters unless you want you App started by an NFC card with a certain type of data.</p>\n<p>Example Broadcast receiver and <code>enableReaderMode</code> in this answer\n<a href=\"https://stackoverflow.com/a/59397667/2373819\">https://stackoverflow.com/a/59397667/2373819</a></p>\n<p>This silent capture of all NFC events in all non NFC activities is how I do it in my App (you can create a template class by extending the normal Activity class with the code for the silent handling of NFC and then use this as the base for your Activity classes)</p>\n"}],"owner":{"account_id":23325808,"reputation":11,"user_id":17402989,"display_name":"e5lite"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638989525,"creation_date":1638971252,"question_id":70276070,"body_markdown":"I am developing an application that requires the use of an **NFC-Reader**. However, the NFC-Reader should just run when using the Scan Activity. \r\n\r\nI already implemented an `onPause()` method, including `disableForegroundDispatch()` which also gets performed when switching to a different activity which can be verified by \r\n\r\n    System.out.println(&quot;pause!!!&quot;);\r\n\r\nSo surprisingly, at least for me, one is still able to scan an NFC-Chip in different activities which forwards one back to the Scan-Activity.\r\n\r\nAny help is highly appreciated!!! :D\r\n\r\nHere&#39;s the source code (Scan.activity), in case that help solving the problem):\r\n\r\n\r\n```\r\npackage com.example.bnm_10112021;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.MenuItem;\r\n\r\n\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialog;\r\nimport com.google.android.material.navigation.NavigationBarView;\r\n\r\nimport android.app.PendingIntent;\r\nimport android.content.Context;\r\nimport android.content.IntentFilter;\r\nimport android.nfc.NdefMessage;\r\nimport android.nfc.NfcAdapter;\r\nimport android.nfc.Tag;\r\nimport android.os.Parcelable;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\nimport org.w3c.dom.Text;\r\n\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.util.concurrent.ExecutionException;\r\n\r\npublic class Scan extends AppCompatActivity {\r\n\r\n\r\n    public static final String Error_Detected = &quot;No NFC Tag Detected&quot;;\r\n    public static final String Write_Success = &quot;Text Written Successfully!&quot;;\r\n    public static final String Write_Error = &quot;Error during Writing, Try Again!&quot;;\r\n    NfcAdapter nfcAdapter;\r\n    PendingIntent pendingIntent;\r\n    IntentFilter writingTagFilters[];\r\n    boolean writeMode;\r\n    Tag myTag;\r\n    Context context;\r\n    TextView edit_message;\r\n    TextView nfc_contents;\r\n    Button ActivateButton;\r\n\r\n    BottomNavigationView bottomNavigationItemView;\r\n\r\n    **//Erstellung des dbConnection-Objekts**\r\n    public DatabaseConnection dbConnector = new DatabaseConnection();\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_scan);\r\n\r\n        bottomNavigationItemView = findViewById(R.id.navigator);\r\n        bottomNavigationItemView.setSelectedItemId(R.id.scan);\r\n\r\n        nfc_contents = (TextView) findViewById(R.id.nfc_contents);\r\n        context = this;\r\n        nfcAdapter = NfcAdapter.getDefaultAdapter(this);\r\n        /**if(nfcAdapter == null){\r\n            Toast.makeText(this, &quot;This device does not support NFC&quot;, Toast.LENGTH_SHORT).show();\r\n            finish();\r\n        }**/\r\n        readFromIntent(getIntent());readFromIntent(getIntent());\r\n        pendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), 0);\r\n        IntentFilter tagDetected = new IntentFilter(NfcAdapter.ACTION_TAG_DISCOVERED);\r\n        tagDetected.addCategory(Intent.CATEGORY_DEFAULT);\r\n\r\n\r\n\r\n\r\n    //DOKU, VERALTET!!!!\r\n        bottomNavigationItemView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                int id = item.getItemId();\r\n                switch (id){\r\n                    case R.id.settings:\r\n                        startActivity(new Intent(getApplicationContext(),Settings.class));\r\n                        overridePendingTransition(0,0);\r\n                        return true;\r\n                    case R.id.stats:\r\n                        startActivity(new Intent(getApplicationContext(),Statistics.class));\r\n                        overridePendingTransition(0,0);\r\n                        return true;\r\n                    case R.id.scan:\r\n                        return true;\r\n                    case R.id.wash:\r\n                        startActivity(new Intent(getApplicationContext(),Wash.class));\r\n                        overridePendingTransition(0,0);\r\n                        return true;\r\n                    case R.id.mycloset:\r\n                        startActivity(new Intent(getApplicationContext(),MyCloset.class));\r\n                        overridePendingTransition(0,0);\r\n                        return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    //String: Parameter an doInBackground; Void: Parameter an publishProgress bzw. onProgressUpdate; String[]: Parameter von doInBackground an onPostExecute\r\n    private class DauertLange extends AsyncTask&lt;String, Void, String[]&gt; {\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            //Loading Animation\r\n            System.out.println(&quot;Vorher&quot;);\r\n        }\r\n\r\n        @Override\r\n        protected String[] doInBackground(String... pStrings) {\r\n            //publishProgress();\r\n            String sN = pStrings[0];\r\n            String tN = pStrings[1];\r\n            String bd = pStrings[2];\r\n            String z = pStrings[3];\r\n            System.out.println(tN);\r\n\r\n            String[] rueckgabe = dbConnector.select(sN,tN,bd,z);\r\n            return rueckgabe;\r\n        }\r\n\r\n       /** protected void onProgressUpdate(){\r\n            bottomSheetDialog.setContentView(R.layout.layout_bottom_sheet_loading);\r\n\r\n        }**/\r\n        protected void onPostExecute() {\r\n            super.onPreExecute();\r\n            //Loading Animation\r\n            System.out.println(&quot;Nacher&quot;);\r\n        }\r\n    }\r\n\r\n    private void readFromIntent(Intent intent) {\r\n        String action = intent.getAction();\r\n        if (NfcAdapter.ACTION_TAG_DISCOVERED.equals(action)\r\n                || NfcAdapter.ACTION_TECH_DISCOVERED.equals(action)\r\n                || NfcAdapter.ACTION_NDEF_DISCOVERED.equals(action)) {\r\n            Parcelable[] rawMsgs = intent.getParcelableArrayExtra(NfcAdapter.EXTRA_NDEF_MESSAGES);\r\n            NdefMessage[] msgs = null;\r\n            if (rawMsgs != null) {\r\n                msgs = new NdefMessage[rawMsgs.length];\r\n                for (int i = 0; i &lt; rawMsgs.length; i++) {\r\n                    msgs[i] = (NdefMessage) rawMsgs[i];\r\n                }\r\n            }\r\n            buildTagViews(msgs);\r\n        }\r\n    }\r\n    private void buildTagViews(NdefMessage[] msgs) {\r\n        if (msgs == null || msgs.length == 0) return;\r\n\r\n        String text = &quot;&quot;;\r\n        byte[] payload = msgs[0].getRecords()[0].getPayload();\r\n        String textEncoding = ((payload[0] &amp; 128) == 0) ? &quot;UTF-8&quot; : &quot;UTF-16&quot;; // Get the Text Encoding\r\n        int languageCodeLength = payload[0] &amp; 0063; // Get the Language Code, e.g. &quot;en&quot;\r\n\r\n        try {\r\n            // Get the Text\r\n            text = new String(payload, languageCodeLength + 1, payload.length - languageCodeLength - 1, textEncoding);\r\n        } catch (UnsupportedEncodingException e) {\r\n            Log.e(&quot;UnsupportedEncoding&quot;, e.toString());\r\n        }\r\n\r\n        System.out.println(text);\r\n        String chipID = text;\r\n\r\n\r\n        /**String rueckgabe = dbConnector.select(&quot;Seriennummer&quot;,&quot;Chips&quot;,&quot;NFCID = &#39;&quot; + chipID + &quot;&#39;&quot;);\r\n        System.out.println(rueckgabe);\r\n        String ausgabe = dbConnector.select(&quot;Art&quot;,&quot;Kleidungstypen&quot;,&quot;Seriennummer = &#39;&quot; + rueckgabe + &quot;&#39;&quot;);\r\n        System.out.println(ausgabe);\r\n        nfc_contents.setText(ausgabe);**/\r\n\r\n        final BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(\r\n\r\n                Scan.this, R.style.BottomSheetDialogTheme\r\n        );\r\n        View bottomSheetView = LayoutInflater.from(getApplicationContext())\r\n                .inflate(\r\n                        R.layout.layout_bottom_sheet,\r\n                        null\r\n\r\n                );\r\n        bottomSheetDialog.setContentView(bottomSheetView);\r\n        bottomSheetDialog.show();\r\n\r\n        //bottomSheetDialog.setContentView(R.layout.layout_bottom_sheet_loading);\r\n\r\n        LinearLayout ll = bottomSheetView.findViewById(R.id.bottomSheetContainer);\r\n\r\n        //Textfelder identifzieren\r\n        TextView tvBezeichnung = ll.findViewById(R.id.tvBezeichnung);\r\n        TextView tvMarke = ll.findViewById(R.id.tvMarke);\r\n        TextView tvColor = ll.findViewById(R.id.tvColor);\r\n        TextView tvSize = ll.findViewById(R.id.tvSize);\r\n        TextView tvHerkunft = ll.findViewById(R.id.tvHerkunft);\r\n\r\n\r\n        //Datenbankverbindung &#252;ber AsyncTask mit Array als R&#252;ckgabe\r\n        String[] farbe = new String[10];\r\n        try {\r\n            farbe = new DauertLange().execute(&quot;Kleidungstypen.Bezeichnung, Kleidungstypen.Marke, Kleidungstypen.Farbe, Kleidungstypen.Size, Kleidungstypen.Herkunft&quot;,&quot;Kleidungstypen INNER JOIN Chips ON Kleidungstypen.Seriennummer = Chips.Seriennummer&quot;, &quot;NFCID = &#39;&quot; + chipID + &quot;&#39;&quot;,&quot;5&quot;).get();\r\n        } catch (ExecutionException e) {\r\n            e.printStackTrace();\r\n            bottomSheetDialog.dismiss();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n            bottomSheetDialog.dismiss();\r\n        }\r\n\r\n        //Inhalte der Textfelder mit Daten aus DB setzen\r\n        tvBezeichnung.setText(farbe[0]);\r\n        tvMarke.setText(farbe[1]);\r\n        tvColor.setText(farbe[2]);\r\n        tvSize.setText(farbe[3]);\r\n        tvHerkunft.setText(&quot;Made in &quot; + farbe[4]);\r\n\r\n        //RoundedImageView img = ll.findViewById(R.id.image111);\r\n        //img.setImageURI(uri);\r\n\r\n\r\n        bottomSheetView.findViewById(R.id.addToCloset).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                bottomSheetDialog.dismiss();\r\n            }\r\n        });\r\n        //bottomSheetDialog.setContentView(bottomSheetView);\r\n        //bottomSheetDialog.show();\r\n\r\n    }\r\n\r\n    protected void onNewIntent(Intent intent) {\r\n        super.onNewIntent(intent);\r\n        setIntent(intent);\r\n        readFromIntent(intent);\r\n        if (NfcAdapter.ACTION_TAG_DISCOVERED.equals(intent.getAction())) {\r\n            myTag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onPause(){\r\n        System.out.println(&quot;pause!!!&quot;);\r\n        super.onPause();\r\n        nfcAdapter.disableForegroundDispatch(this);\r\n        nfcAdapter.disableReaderMode(this);\r\n    }\r\n\r\n    @Override\r\n    public void onResume(){\r\n        super.onResume();\r\n        nfcAdapter.enableForegroundDispatch(this, pendingIntent, writingTagFilters, null);\r\n    }\r\n\r\n\r\n\r\n}\r\n","title":"NFC-Reader: disableForegroundDispatch() doesn&#39;t work","body":"<p>I am developing an application that requires the use of an <strong>NFC-Reader</strong>. However, the NFC-Reader should just run when using the Scan Activity.</p>\n<p>I already implemented an <code>onPause()</code> method, including <code>disableForegroundDispatch()</code> which also gets performed when switching to a different activity which can be verified by</p>\n<pre><code>System.out.println(&quot;pause!!!&quot;);\n</code></pre>\n<p>So surprisingly, at least for me, one is still able to scan an NFC-Chip in different activities which forwards one back to the Scan-Activity.</p>\n<p>Any help is highly appreciated!!! :D</p>\n<p>Here's the source code (Scan.activity), in case that help solving the problem):</p>\n<pre><code>package com.example.bnm_10112021;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.MenuItem;\n\n\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\nimport com.google.android.material.bottomsheet.BottomSheetDialog;\nimport com.google.android.material.navigation.NavigationBarView;\n\nimport android.app.PendingIntent;\nimport android.content.Context;\nimport android.content.IntentFilter;\nimport android.nfc.NdefMessage;\nimport android.nfc.NfcAdapter;\nimport android.nfc.Tag;\nimport android.os.Parcelable;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport org.w3c.dom.Text;\n\nimport java.io.UnsupportedEncodingException;\nimport java.util.concurrent.ExecutionException;\n\npublic class Scan extends AppCompatActivity {\n\n\n    public static final String Error_Detected = &quot;No NFC Tag Detected&quot;;\n    public static final String Write_Success = &quot;Text Written Successfully!&quot;;\n    public static final String Write_Error = &quot;Error during Writing, Try Again!&quot;;\n    NfcAdapter nfcAdapter;\n    PendingIntent pendingIntent;\n    IntentFilter writingTagFilters[];\n    boolean writeMode;\n    Tag myTag;\n    Context context;\n    TextView edit_message;\n    TextView nfc_contents;\n    Button ActivateButton;\n\n    BottomNavigationView bottomNavigationItemView;\n\n    **//Erstellung des dbConnection-Objekts**\n    public DatabaseConnection dbConnector = new DatabaseConnection();\n\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_scan);\n\n        bottomNavigationItemView = findViewById(R.id.navigator);\n        bottomNavigationItemView.setSelectedItemId(R.id.scan);\n\n        nfc_contents = (TextView) findViewById(R.id.nfc_contents);\n        context = this;\n        nfcAdapter = NfcAdapter.getDefaultAdapter(this);\n        /**if(nfcAdapter == null){\n            Toast.makeText(this, &quot;This device does not support NFC&quot;, Toast.LENGTH_SHORT).show();\n            finish();\n        }**/\n        readFromIntent(getIntent());readFromIntent(getIntent());\n        pendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), 0);\n        IntentFilter tagDetected = new IntentFilter(NfcAdapter.ACTION_TAG_DISCOVERED);\n        tagDetected.addCategory(Intent.CATEGORY_DEFAULT);\n\n\n\n\n    //DOKU, VERALTET!!!!\n        bottomNavigationItemView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                int id = item.getItemId();\n                switch (id){\n                    case R.id.settings:\n                        startActivity(new Intent(getApplicationContext(),Settings.class));\n                        overridePendingTransition(0,0);\n                        return true;\n                    case R.id.stats:\n                        startActivity(new Intent(getApplicationContext(),Statistics.class));\n                        overridePendingTransition(0,0);\n                        return true;\n                    case R.id.scan:\n                        return true;\n                    case R.id.wash:\n                        startActivity(new Intent(getApplicationContext(),Wash.class));\n                        overridePendingTransition(0,0);\n                        return true;\n                    case R.id.mycloset:\n                        startActivity(new Intent(getApplicationContext(),MyCloset.class));\n                        overridePendingTransition(0,0);\n                        return true;\n                }\n                return false;\n            }\n        });\n    }\n\n    //String: Parameter an doInBackground; Void: Parameter an publishProgress bzw. onProgressUpdate; String[]: Parameter von doInBackground an onPostExecute\n    private class DauertLange extends AsyncTask&lt;String, Void, String[]&gt; {\n\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n            //Loading Animation\n            System.out.println(&quot;Vorher&quot;);\n        }\n\n        @Override\n        protected String[] doInBackground(String... pStrings) {\n            //publishProgress();\n            String sN = pStrings[0];\n            String tN = pStrings[1];\n            String bd = pStrings[2];\n            String z = pStrings[3];\n            System.out.println(tN);\n\n            String[] rueckgabe = dbConnector.select(sN,tN,bd,z);\n            return rueckgabe;\n        }\n\n       /** protected void onProgressUpdate(){\n            bottomSheetDialog.setContentView(R.layout.layout_bottom_sheet_loading);\n\n        }**/\n        protected void onPostExecute() {\n            super.onPreExecute();\n            //Loading Animation\n            System.out.println(&quot;Nacher&quot;);\n        }\n    }\n\n    private void readFromIntent(Intent intent) {\n        String action = intent.getAction();\n        if (NfcAdapter.ACTION_TAG_DISCOVERED.equals(action)\n                || NfcAdapter.ACTION_TECH_DISCOVERED.equals(action)\n                || NfcAdapter.ACTION_NDEF_DISCOVERED.equals(action)) {\n            Parcelable[] rawMsgs = intent.getParcelableArrayExtra(NfcAdapter.EXTRA_NDEF_MESSAGES);\n            NdefMessage[] msgs = null;\n            if (rawMsgs != null) {\n                msgs = new NdefMessage[rawMsgs.length];\n                for (int i = 0; i &lt; rawMsgs.length; i++) {\n                    msgs[i] = (NdefMessage) rawMsgs[i];\n                }\n            }\n            buildTagViews(msgs);\n        }\n    }\n    private void buildTagViews(NdefMessage[] msgs) {\n        if (msgs == null || msgs.length == 0) return;\n\n        String text = &quot;&quot;;\n        byte[] payload = msgs[0].getRecords()[0].getPayload();\n        String textEncoding = ((payload[0] &amp; 128) == 0) ? &quot;UTF-8&quot; : &quot;UTF-16&quot;; // Get the Text Encoding\n        int languageCodeLength = payload[0] &amp; 0063; // Get the Language Code, e.g. &quot;en&quot;\n\n        try {\n            // Get the Text\n            text = new String(payload, languageCodeLength + 1, payload.length - languageCodeLength - 1, textEncoding);\n        } catch (UnsupportedEncodingException e) {\n            Log.e(&quot;UnsupportedEncoding&quot;, e.toString());\n        }\n\n        System.out.println(text);\n        String chipID = text;\n\n\n        /**String rueckgabe = dbConnector.select(&quot;Seriennummer&quot;,&quot;Chips&quot;,&quot;NFCID = '&quot; + chipID + &quot;'&quot;);\n        System.out.println(rueckgabe);\n        String ausgabe = dbConnector.select(&quot;Art&quot;,&quot;Kleidungstypen&quot;,&quot;Seriennummer = '&quot; + rueckgabe + &quot;'&quot;);\n        System.out.println(ausgabe);\n        nfc_contents.setText(ausgabe);**/\n\n        final BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(\n\n                Scan.this, R.style.BottomSheetDialogTheme\n        );\n        View bottomSheetView = LayoutInflater.from(getApplicationContext())\n                .inflate(\n                        R.layout.layout_bottom_sheet,\n                        null\n\n                );\n        bottomSheetDialog.setContentView(bottomSheetView);\n        bottomSheetDialog.show();\n\n        //bottomSheetDialog.setContentView(R.layout.layout_bottom_sheet_loading);\n\n        LinearLayout ll = bottomSheetView.findViewById(R.id.bottomSheetContainer);\n\n        //Textfelder identifzieren\n        TextView tvBezeichnung = ll.findViewById(R.id.tvBezeichnung);\n        TextView tvMarke = ll.findViewById(R.id.tvMarke);\n        TextView tvColor = ll.findViewById(R.id.tvColor);\n        TextView tvSize = ll.findViewById(R.id.tvSize);\n        TextView tvHerkunft = ll.findViewById(R.id.tvHerkunft);\n\n\n        //Datenbankverbindung über AsyncTask mit Array als Rückgabe\n        String[] farbe = new String[10];\n        try {\n            farbe = new DauertLange().execute(&quot;Kleidungstypen.Bezeichnung, Kleidungstypen.Marke, Kleidungstypen.Farbe, Kleidungstypen.Size, Kleidungstypen.Herkunft&quot;,&quot;Kleidungstypen INNER JOIN Chips ON Kleidungstypen.Seriennummer = Chips.Seriennummer&quot;, &quot;NFCID = '&quot; + chipID + &quot;'&quot;,&quot;5&quot;).get();\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n            bottomSheetDialog.dismiss();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n            bottomSheetDialog.dismiss();\n        }\n\n        //Inhalte der Textfelder mit Daten aus DB setzen\n        tvBezeichnung.setText(farbe[0]);\n        tvMarke.setText(farbe[1]);\n        tvColor.setText(farbe[2]);\n        tvSize.setText(farbe[3]);\n        tvHerkunft.setText(&quot;Made in &quot; + farbe[4]);\n\n        //RoundedImageView img = ll.findViewById(R.id.image111);\n        //img.setImageURI(uri);\n\n\n        bottomSheetView.findViewById(R.id.addToCloset).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                bottomSheetDialog.dismiss();\n            }\n        });\n        //bottomSheetDialog.setContentView(bottomSheetView);\n        //bottomSheetDialog.show();\n\n    }\n\n    protected void onNewIntent(Intent intent) {\n        super.onNewIntent(intent);\n        setIntent(intent);\n        readFromIntent(intent);\n        if (NfcAdapter.ACTION_TAG_DISCOVERED.equals(intent.getAction())) {\n            myTag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\n        }\n    }\n\n    @Override\n    public void onPause(){\n        System.out.println(&quot;pause!!!&quot;);\n        super.onPause();\n        nfcAdapter.disableForegroundDispatch(this);\n        nfcAdapter.disableReaderMode(this);\n    }\n\n    @Override\n    public void onResume(){\n        super.onResume();\n        nfcAdapter.enableForegroundDispatch(this, pendingIntent, writingTagFilters, null);\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":["java","list","set","compare"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1638918933,"post_id":70268048,"comment_id":124215031,"body_markdown":"`list.set(1, null)`?","body":"<code>list.set(1, null)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3099769,"reputation":11,"user_id":2624209,"display_name":"DJNote"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638919142,"creation_date":1638919142,"answer_id":70268125,"question_id":70268048,"body_markdown":"I&#39;m not exactly sure what your list looks like, but in general you can set an element to null by doing the following\r\n\r\nIf your existing list in java had the name list\r\ni.e. ```List&lt;Integer&gt; list = new ArrayList&lt;&gt;();```\r\n\r\nthen you can make an element null by the following command\r\n```list.set(i, null)```\r\nWhere i is the index you are looking at.\r\n\r\nIf you&#39;re having trouble knowing how to do something in java, I recommend looking at the javadocs, in this case I looked at the javadocs for ArrayList. (https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html)\r\n\r\n","title":"How to make a particular element null in a list","body":"<p>I'm not exactly sure what your list looks like, but in general you can set an element to null by doing the following</p>\n<p>If your existing list in java had the name list\ni.e. <code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();</code></p>\n<p>then you can make an element null by the following command\n<code>list.set(i, null)</code>\nWhere i is the index you are looking at.</p>\n<p>If you're having trouble knowing how to do something in java, I recommend looking at the javadocs, in this case I looked at the javadocs for ArrayList. (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html</a>)</p>\n"}],"owner":{"account_id":23580803,"reputation":1,"user_id":17619853,"display_name":"Gita1985"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638989446,"creation_date":1638918500,"question_id":70268048,"body_markdown":"I have a requirement to create a list from the existing list Existing List is row-1[d1,12,p1]row-2[d1,13,p1]row-3[d1,14,p1]row-4[d2,15,p2] row-5[d2,16,p2].In the new list I need to replace the p1 in the row-2 with null, and p2 in the row-5 with null means for any number of rows starting with d1, only the first row should have p1 and the rest of the rows the p1 should be null and the same goes with d2..dn.In the new list I need to make the second entry of the element P1 as null.","title":"How to make a particular element null in a list","body":"<p>I have a requirement to create a list from the existing list Existing List is row-1[d1,12,p1]row-2[d1,13,p1]row-3[d1,14,p1]row-4[d2,15,p2] row-5[d2,16,p2].In the new list I need to replace the p1 in the row-2 with null, and p2 in the row-5 with null means for any number of rows starting with d1, only the first row should have p1 and the rest of the rows the p1 should be null and the same goes with d2..dn.In the new list I need to make the second entry of the element P1 as null.</p>\n"},{"tags":["java","hibernate","jpa","orm","hibernate-jpa"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638989406,"creation_date":1638976741,"answer_id":70277401,"question_id":70276637,"body_markdown":"You can&#39;t do that with `entityManager.remove()` but you can use `executeUpdate()`:\r\n\r\n    Query q = entitiyManager.createQuery(&quot;delete from MyEntity m where m.id in :ids)&quot;);\r\n    q.setParameter(&quot;id&quot;, &lt;list of ids&gt;);\r\n    q.executeUpdate();\r\n\r\nRead more in the documentation: https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#batch-bulk-hql-update-delete","title":"How can I make sql generated by Hibernate use in operators over equality operators","body":"<p>You can't do that with <code>entityManager.remove()</code> but you can use <code>executeUpdate()</code>:</p>\n<pre><code>Query q = entitiyManager.createQuery(&quot;delete from MyEntity m where m.id in :ids)&quot;);\nq.setParameter(&quot;id&quot;, &lt;list of ids&gt;);\nq.executeUpdate();\n</code></pre>\n<p>Read more in the documentation: <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#batch-bulk-hql-update-delete\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#batch-bulk-hql-update-delete</a></p>\n"}],"owner":{"account_id":8839940,"reputation":31,"user_id":6602712,"accept_rate":67,"display_name":"MrClamps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70277401,"answer_count":1,"score":0,"last_activity_date":1638989406,"creation_date":1638973588,"question_id":70276637,"body_markdown":"What I want is a way for Hibernate to generate 1 statement to delete all children, instead of 1 statement per child.\r\n\r\nIf I have a relationship between Entity A and B , where A is the parent and B can be many children.\r\nIf I use annotations such as OrphanRemoval or OnCascade delete on the entity relationship, when I delete the parent the sql that gets automatically generated says \r\n\r\n    delete from table where id=?  - per child\r\n\r\nWhat I want Hibernate to do is generate sql like\r\n\r\n    delete from table where id in (child1,child1)\r\n\r\nIs there an annotation or setting I can use to do this easily?\r\n\r\nI feel I&#39;m not the first person to run into this issue, but I cant find any way to solve it other then writing my own sql and removing the annotations.","title":"How can I make sql generated by Hibernate use in operators over equality operators","body":"<p>What I want is a way for Hibernate to generate 1 statement to delete all children, instead of 1 statement per child.</p>\n<p>If I have a relationship between Entity A and B , where A is the parent and B can be many children.\nIf I use annotations such as OrphanRemoval or OnCascade delete on the entity relationship, when I delete the parent the sql that gets automatically generated says</p>\n<pre><code>delete from table where id=?  - per child\n</code></pre>\n<p>What I want Hibernate to do is generate sql like</p>\n<pre><code>delete from table where id in (child1,child1)\n</code></pre>\n<p>Is there an annotation or setting I can use to do this easily?</p>\n<p>I feel I'm not the first person to run into this issue, but I cant find any way to solve it other then writing my own sql and removing the annotations.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":13042702,"reputation":503,"user_id":9425556,"display_name":"jamesngyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638901396,"creation_date":1638901051,"answer_id":70265106,"question_id":70264633,"body_markdown":"If it&#39;s not manadatory for you to pass the entire CustomFilterRequest object as a single parameter, how about the following?\r\n\r\n    @Query(\r\n      value = &quot;SELECT e.empname,c.countryName,r.RegionName\r\n      FROM Employee e,Country c, Region r\r\n      WHERE e.countryId=c.countryId\r\n      AND c.regionId=r.regionId\r\n      AND e.employeeId IN :empIds\r\n      AND c.countryId IN :countryIds\r\n      AND r.regionId IN :regionIds&quot;, \r\n      nativeQuery = true)\r\n    Collection&lt;Object&gt; findAllActiveUsersNative(\r\n      @Param(&quot;empIds&quot;) List&lt;Long&gt; empIds,\r\n      @Param(&quot;countryIds&quot;) List&lt;Long&gt; countryIds,\r\n      @Param(&quot;regionIds&quot;) List&lt;Long&gt; regionIds,\r\n      Pageable pageable);\r\n\r\nAnd then in your service class:\r\n\r\n    repository.findAllActiveUsersNative(\r\n      customFilterRequest.getEmpIds(),\r\n      customFilterRequest.getCountryIds(),\r\n      customFilterRequest.getRegionIds(),\r\n      pageable);","title":"How to pass multiple query parameters in @Query in Spring Data JPA?","body":"<p>If it's not manadatory for you to pass the entire CustomFilterRequest object as a single parameter, how about the following?</p>\n<pre><code>@Query(\n  value = &quot;SELECT e.empname,c.countryName,r.RegionName\n  FROM Employee e,Country c, Region r\n  WHERE e.countryId=c.countryId\n  AND c.regionId=r.regionId\n  AND e.employeeId IN :empIds\n  AND c.countryId IN :countryIds\n  AND r.regionId IN :regionIds&quot;, \n  nativeQuery = true)\nCollection&lt;Object&gt; findAllActiveUsersNative(\n  @Param(&quot;empIds&quot;) List&lt;Long&gt; empIds,\n  @Param(&quot;countryIds&quot;) List&lt;Long&gt; countryIds,\n  @Param(&quot;regionIds&quot;) List&lt;Long&gt; regionIds,\n  Pageable pageable);\n</code></pre>\n<p>And then in your service class:</p>\n<pre><code>repository.findAllActiveUsersNative(\n  customFilterRequest.getEmpIds(),\n  customFilterRequest.getCountryIds(),\n  customFilterRequest.getRegionIds(),\n  pageable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10414444,"reputation":151,"user_id":7679007,"display_name":"fkrsc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638989291,"creation_date":1638989291,"answer_id":70280248,"question_id":70264633,"body_markdown":"  You can use [SpEL expressions][1].\r\n\r\n      @Query(\r\n          value = &quot;SELECT e.empname,c.countryName,r.RegionName\r\n          FROM Employee e,Country c, Region r\r\n          WHERE e.countryId=c.countryId\r\n          AND c.regionId=r.regionId\r\n          AND e.employeeId IN (:#{#request.empIds})\r\n          AND c.countryId IN (:#{#request.countryIds})\r\n          AND r.regionId IN (:#{#request.regionIds})&quot;, \r\n          nativeQuery = true)\r\n        Collection&lt;Object&gt; findAllActiveUsersNative(CustomFilterRequest request,Pageable pageable);\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query.spel-expressions","title":"How to pass multiple query parameters in @Query in Spring Data JPA?","body":"<p>You can use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query.spel-expressions\" rel=\"nofollow noreferrer\">SpEL expressions</a>.</p>\n<pre><code>  @Query(\n      value = &quot;SELECT e.empname,c.countryName,r.RegionName\n      FROM Employee e,Country c, Region r\n      WHERE e.countryId=c.countryId\n      AND c.regionId=r.regionId\n      AND e.employeeId IN (:#{#request.empIds})\n      AND c.countryId IN (:#{#request.countryIds})\n      AND r.regionId IN (:#{#request.regionIds})&quot;, \n      nativeQuery = true)\n    Collection&lt;Object&gt; findAllActiveUsersNative(CustomFilterRequest request,Pageable pageable);\n</code></pre>\n"}],"owner":{"account_id":23526594,"reputation":249,"user_id":17573032,"display_name":"Mohsin M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6598,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1638989291,"creation_date":1638898827,"question_id":70264633,"body_markdown":"I am using `nativeQuery` in my repository which fetches data from multiple tables using join and it also checks for inputs sent by the user within the query. My `Repository` layer looks something like:\r\n\r\n    @Query(\r\n      value = &quot;SELECT e.empname,c.countryName,r.RegionName\r\n      FROM Employee e,Country c, Region r\r\n      WHERE e.countryId=c.countryId\r\n      AND c.regionId=r.regionId\r\n      AND e.employeeId IN (:empIds)\r\n      AND c.countryId IN (:countryIds)\r\n      AND r.regionId IN (:regionIds)&quot;, \r\n      nativeQuery = true)\r\n    Collection&lt;Object&gt; findAllActiveUsersNative(CustomFilterRequest request,Pageable pageable);\r\n\r\nFollowing is my filter `Class` which are lists of IDs sent from the UI and this list properties of class should be sent to query for further filtering.\r\n\r\n    class CustomFilterRequest{\r\n    List&lt;Long&gt; empIds,\r\n    List&lt;Long&gt; countryIds,\r\n    List&lt;Long&gt; regionIds,\r\n    }\r\n\r\nI know there&#39;s `@Param` which can be used for sending individual query parameters but how to send multiple query parameters as in the scenario mentioned above? Is there any way to map properties of this class to query parameters in the `nativeQuery` of `@Query`?","title":"How to pass multiple query parameters in @Query in Spring Data JPA?","body":"<p>I am using <code>nativeQuery</code> in my repository which fetches data from multiple tables using join and it also checks for inputs sent by the user within the query. My <code>Repository</code> layer looks something like:</p>\n<pre><code>@Query(\n  value = &quot;SELECT e.empname,c.countryName,r.RegionName\n  FROM Employee e,Country c, Region r\n  WHERE e.countryId=c.countryId\n  AND c.regionId=r.regionId\n  AND e.employeeId IN (:empIds)\n  AND c.countryId IN (:countryIds)\n  AND r.regionId IN (:regionIds)&quot;, \n  nativeQuery = true)\nCollection&lt;Object&gt; findAllActiveUsersNative(CustomFilterRequest request,Pageable pageable);\n</code></pre>\n<p>Following is my filter <code>Class</code> which are lists of IDs sent from the UI and this list properties of class should be sent to query for further filtering.</p>\n<pre><code>class CustomFilterRequest{\nList&lt;Long&gt; empIds,\nList&lt;Long&gt; countryIds,\nList&lt;Long&gt; regionIds,\n}\n</code></pre>\n<p>I know there's <code>@Param</code> which can be used for sending individual query parameters but how to send multiple query parameters as in the scenario mentioned above? Is there any way to map properties of this class to query parameters in the <code>nativeQuery</code> of <code>@Query</code>?</p>\n"},{"tags":["java","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638989169,"creation_date":1638989169,"answer_id":70280220,"question_id":70275344,"body_markdown":"Please try this:\r\n\r\n    PDPageContentStream cs = new PDPageContentStream(doc, page, PDPageContentStream.AppendMode.APPEND, true, true);            int rotation = page.getRotation();\r\n\tswitch (rotation)\r\n\t{\r\n\t\tcase 90:\r\n\t\t\twidth = page.getMediaBox().getHeight();\r\n\t\t\theight = page.getMediaBox().getWidth();\r\n\t\t\tcs.transform(Matrix.getRotateInstance(Math.toRadians(90), height, 0));\r\n\t\t\tbreak;\r\n\t\tcase 180:\r\n\t\t\tcs.transform(Matrix.getRotateInstance(Math.toRadians(180), width, height));\r\n\t\t\tbreak;\r\n\t\tcase 270:\r\n\t\t\twidth = page.getMediaBox().getHeight();\r\n\t\t\theight = page.getMediaBox().getWidth();\r\n\t\t\tcs.transform(Matrix.getRotateInstance(Math.toRadians(270), 0, width));\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\nthen continue with your stuff. Don&#39;t forget to close the content stream. The code above is taken from the `AddWatermarkText.java` example from the source code download.","title":"how to rotate pdf page and set origin","body":"<p>Please try this:</p>\n<pre><code>PDPageContentStream cs = new PDPageContentStream(doc, page, PDPageContentStream.AppendMode.APPEND, true, true);            int rotation = page.getRotation();\nswitch (rotation)\n{\n    case 90:\n        width = page.getMediaBox().getHeight();\n        height = page.getMediaBox().getWidth();\n        cs.transform(Matrix.getRotateInstance(Math.toRadians(90), height, 0));\n        break;\n    case 180:\n        cs.transform(Matrix.getRotateInstance(Math.toRadians(180), width, height));\n        break;\n    case 270:\n        width = page.getMediaBox().getHeight();\n        height = page.getMediaBox().getWidth();\n        cs.transform(Matrix.getRotateInstance(Math.toRadians(270), 0, width));\n        break;\n    default:\n        break;\n}\n</code></pre>\n<p>then continue with your stuff. Don't forget to close the content stream. The code above is taken from the <code>AddWatermarkText.java</code> example from the source code download.</p>\n"}],"owner":{"account_id":13293455,"reputation":55,"user_id":9597256,"display_name":"dkalna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70280220,"answer_count":1,"score":2,"last_activity_date":1638989237,"creation_date":1638968017,"question_id":70275344,"body_markdown":"i&#39;m trying to rotate every landscape page in document, so all pages are portrait orientation. i&#39;m using apache pdfbox for that.\r\n\r\n    PDPage page = document.getPage(pageIndex);\r\n    PDRectangle mediaBox = page.getMediaBox();\r\n    if(mediaBox.getWidth() &gt; mediaBox.getHeight()) {\r\n      page.setRotation(270);\r\n    }\r\n\r\nthis works fine, page is rotated. now, the problem is, that after i send document to printer, it will put some marks on it (see image1).\r\n\r\n[![printer marks on portrait (not rotated) page][1]][1]\r\n\r\non rotated page however marks appear on wrong position. like it would appear on landscape page (see image2). \r\n\r\n[![printer marks on rotated page][2]][2]\r\n\r\ni think it has something to do with origin. do you have any ideas how to set origin, so that printer mark appears on right place? \r\n\r\nthank you and best regards\r\nDalibor\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XDHsZ.png\r\n  [2]: https://i.stack.imgur.com/Gj3wK.png","title":"how to rotate pdf page and set origin","body":"<p>i'm trying to rotate every landscape page in document, so all pages are portrait orientation. i'm using apache pdfbox for that.</p>\n<pre><code>PDPage page = document.getPage(pageIndex);\nPDRectangle mediaBox = page.getMediaBox();\nif(mediaBox.getWidth() &gt; mediaBox.getHeight()) {\n  page.setRotation(270);\n}\n</code></pre>\n<p>this works fine, page is rotated. now, the problem is, that after i send document to printer, it will put some marks on it (see image1).</p>\n<p><a href=\"https://i.stack.imgur.com/XDHsZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XDHsZ.png\" alt=\"printer marks on portrait (not rotated) page\" /></a></p>\n<p>on rotated page however marks appear on wrong position. like it would appear on landscape page (see image2).</p>\n<p><a href=\"https://i.stack.imgur.com/Gj3wK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gj3wK.png\" alt=\"printer marks on rotated page\" /></a></p>\n<p>i think it has something to do with origin. do you have any ideas how to set origin, so that printer mark appears on right place?</p>\n<p>thank you and best regards\nDalibor</p>\n"},{"tags":["java","guava"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1638988162,"post_id":70280003,"comment_id":124235927,"body_markdown":"Have you tried fixing your hashcode logic so it&#39;s not &quot;different every time&quot;?","body":"Have you tried fixing your hashcode logic so it&#39;s not &quot;different every time&quot;?"},{"owner":{"account_id":1423187,"reputation":9906,"user_id":1347366,"accept_rate":84,"display_name":"Green goblin"},"score":0,"creation_date":1638988243,"post_id":70280003,"comment_id":124235970,"body_markdown":"Currently, I haven&#39;t written any logic for calculating hash. Sort of relying on Google Guava to do that for me (which is not working)","body":"Currently, I haven&#39;t written any logic for calculating hash. Sort of relying on Google Guava to do that for me (which is not working)"}],"answers":[{"tags":[],"owner":{"account_id":87760,"reputation":14178,"user_id":243203,"accept_rate":77,"display_name":"Kurru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638988529,"creation_date":1638988529,"answer_id":70280086,"question_id":70280003,"body_markdown":"You should implement appropriate hashcode and equals methods on your custom java class.\r\n\r\nGuava does not understand the inner details of your class and relies on meaningful implementations of equals and hashcode. These objects should also be effectively immutable once they are added to the cache or else bad things may happen.\r\n\r\nMost code generators can generate good equals/hashcodes for you, or you could also use [AutoValue][1]. \r\n\r\n\r\n  [1]: https://github.com/google/auto/blob/master/value/userguide/index.md","title":"Using Google Guava CacheLoader for custom class as Key","body":"<p>You should implement appropriate hashcode and equals methods on your custom java class.</p>\n<p>Guava does not understand the inner details of your class and relies on meaningful implementations of equals and hashcode. These objects should also be effectively immutable once they are added to the cache or else bad things may happen.</p>\n<p>Most code generators can generate good equals/hashcodes for you, or you could also use <a href=\"https://github.com/google/auto/blob/master/value/userguide/index.md\" rel=\"nofollow noreferrer\">AutoValue</a>.</p>\n"}],"owner":{"account_id":1423187,"reputation":9906,"user_id":1347366,"accept_rate":84,"display_name":"Green goblin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":865,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638988944,"creation_date":1638988105,"question_id":70280003,"body_markdown":"I am trying to use Google Guava CacheLoader for custom class as Key.\r\n\r\n```\r\n@Value.Immutable\r\npublic interface RecordAggregatorRequest {\r\n    String name();\r\n\r\n    String date();\r\n}\r\n\r\n\r\nprivate final LoadingCache&lt;RecordAggregatorRequest, Map&lt;String, Record&gt;&gt; recordsCache = CacheBuilder.newBuilder()\r\n            .expireAfterWrite(Duration.ofMinutes(30))\r\n            .build(CacheLoader.from(recordAggregator::getRecords));\r\n```\r\n\r\nAnd then calling like:\r\n```\r\nfinal Map&lt;String, Record&gt; recordsMap = recordsCache.get(aggregatorRequest);\r\n```\r\n\r\n`recordAggregator::getRecords` is being called every time. I suspect it is because hashcode for `RecordAggregatorRequest` key is different every time even though the member values are same. Is there a way to make it work for the custom class as Key?","title":"Using Google Guava CacheLoader for custom class as Key","body":"<p>I am trying to use Google Guava CacheLoader for custom class as Key.</p>\n<pre><code>@Value.Immutable\npublic interface RecordAggregatorRequest {\n    String name();\n\n    String date();\n}\n\n\nprivate final LoadingCache&lt;RecordAggregatorRequest, Map&lt;String, Record&gt;&gt; recordsCache = CacheBuilder.newBuilder()\n            .expireAfterWrite(Duration.ofMinutes(30))\n            .build(CacheLoader.from(recordAggregator::getRecords));\n</code></pre>\n<p>And then calling like:</p>\n<pre><code>final Map&lt;String, Record&gt; recordsMap = recordsCache.get(aggregatorRequest);\n</code></pre>\n<p><code>recordAggregator::getRecords</code> is being called every time. I suspect it is because hashcode for <code>RecordAggregatorRequest</code> key is different every time even though the member values are same. Is there a way to make it work for the custom class as Key?</p>\n"},{"tags":["java","spring-boot","component-scan"],"answers":[{"tags":[],"owner":{"account_id":17599760,"reputation":126,"user_id":12769984,"display_name":"hsoj48"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638988668,"creation_date":1638988668,"answer_id":70280109,"question_id":70278861,"body_markdown":"The key is in the regex.  Let&#39;s assume you want to exclude all classes except one named ```MyClass```.  You can use a negative lookahead to exclude it from the regex match.  Try the following.\r\n\r\n```\r\n@ComponentScan(\r\n    excludeFilters = {\r\n    @ComponentScan.Filter(\r\n        type = FilterType.REGEX,\r\n        pattern =\r\n            &quot;(?!.*MyClass)com\\\\.base\\\\.package\\\\..*&quot;\r\n    )\r\n)\r\n```","title":"Spring boot @ComponentScan. How to exclude all packages from scan except one subpackage or class?","body":"<p>The key is in the regex.  Let's assume you want to exclude all classes except one named <code>MyClass</code>.  You can use a negative lookahead to exclude it from the regex match.  Try the following.</p>\n<pre><code>@ComponentScan(\n    excludeFilters = {\n    @ComponentScan.Filter(\n        type = FilterType.REGEX,\n        pattern =\n            &quot;(?!.*MyClass)com\\\\.base\\\\.package\\\\..*&quot;\n    )\n)\n</code></pre>\n"}],"owner":{"account_id":22320687,"reputation":33,"user_id":16543359,"display_name":"Developer1234567"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70280109,"answer_count":1,"score":0,"last_activity_date":1638988668,"creation_date":1638982620,"question_id":70278861,"body_markdown":"    @ComponentScan(\r\n        excludeFilters = {\r\n        @ComponentScan.Filter(\r\n            type = FilterType.REGEX,\r\n            pattern =\r\n                &quot;com.base.package.*&quot;\r\n        )\r\n    )\r\nUnder com.base.package. there is a class that I do not want to be excluded, how can I include this single class?\r\n\r\n","title":"Spring boot @ComponentScan. How to exclude all packages from scan except one subpackage or class?","body":"<pre><code>@ComponentScan(\n    excludeFilters = {\n    @ComponentScan.Filter(\n        type = FilterType.REGEX,\n        pattern =\n            &quot;com.base.package.*&quot;\n    )\n)\n</code></pre>\n<p>Under com.base.package. there is a class that I do not want to be excluded, how can I include this single class?</p>\n"},{"tags":["java","command-line","windows-services"],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1228234984,"creation_date":1228234984,"answer_id":334564,"question_id":334471,"body_markdown":"During startup, create a file with [File.deleteOnExit()](http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html#deleteOnExit()).\r\n\r\nCheck for the existence of the file in your scripts.","title":"Need a way to check status of Windows service programmatically","body":"<p>During startup, create a file with <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html#deleteOnExit()\" rel=\"nofollow noreferrer\">File.deleteOnExit()</a>.</p>\n\n<p>Check for the existence of the file in your scripts.</p>\n"},{"tags":[],"owner":{"account_id":10092,"reputation":151,"user_id":18902,"display_name":"David"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1228235088,"creation_date":1228235088,"answer_id":334576,"question_id":334471,"body_markdown":"I have been dealing with installers for years and the trick is to create your own EXE and call it on setup. This offers good flexibility like displaying precise error messages in the event an error occurs, and have success-based return values so your installer knows about what happened.\r\n\r\nHere&#39;s how to start, stop and query states for windows services (C++):\r\nhttp://msdn.microsoft.com/en-us/library/ms684941(VS.85).aspx\r\n(VB and C# offers similar functions)","title":"Need a way to check status of Windows service programmatically","body":"<p>I have been dealing with installers for years and the trick is to create your own EXE and call it on setup. This offers good flexibility like displaying precise error messages in the event an error occurs, and have success-based return values so your installer knows about what happened.</p>\n\n<p>Here's how to start, stop and query states for windows services (C++):\n<a href=\"http://msdn.microsoft.com/en-us/library/ms684941(VS.85).aspx\" rel=\"nofollow noreferrer\">http://msdn.microsoft.com/en-us/library/ms684941(VS.85).aspx</a>\n(VB and C# offers similar functions)</p>\n"},{"tags":[],"owner":{"account_id":2047,"reputation":8017,"user_id":2819,"accept_rate":67,"display_name":"Yuval"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1329323290,"creation_date":1228236145,"answer_id":334632,"question_id":334471,"body_markdown":"here&#39;s what I had to do. It&#39;s ugly, but it works beautifully.\r\n\r\n    String STATE_PREFIX = &quot;STATE              : &quot;;\r\n\r\n    String s = runProcess(&quot;sc query \\&quot;&quot;+serviceName+&quot;\\&quot;&quot;);\r\n    // check that the temp string contains the status prefix\r\n    int ix = s.indexOf(STATE_PREFIX);\r\n    if (ix &gt;= 0) {\r\n\t  // compare status number to one of the states\r\n\t  String stateStr = s.substring(ix+STATE_PREFIX.length(), ix+STATE_PREFIX.length() + 1);\r\n      int state = Integer.parseInt(stateStr);\r\n      switch(state) {\r\n        case (1): // service stopped\r\n          break;\r\n        case (4): // service started\r\n          break;\r\n       }\r\n    }\r\n`runProcess` is a private method that runs the given string as a command line process and returns the resulting output. As I said, ugly, but works. Hope this helps.","title":"Need a way to check status of Windows service programmatically","body":"<p>here's what I had to do. It's ugly, but it works beautifully.</p>\n\n<pre><code>String STATE_PREFIX = \"STATE              : \";\n\nString s = runProcess(\"sc query \\\"\"+serviceName+\"\\\"\");\n// check that the temp string contains the status prefix\nint ix = s.indexOf(STATE_PREFIX);\nif (ix &gt;= 0) {\n  // compare status number to one of the states\n  String stateStr = s.substring(ix+STATE_PREFIX.length(), ix+STATE_PREFIX.length() + 1);\n  int state = Integer.parseInt(stateStr);\n  switch(state) {\n    case (1): // service stopped\n      break;\n    case (4): // service started\n      break;\n   }\n}\n</code></pre>\n\n<p><code>runProcess</code> is a private method that runs the given string as a command line process and returns the resulting output. As I said, ugly, but works. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":18534,"reputation":681,"user_id":42541,"accept_rate":80,"display_name":"borq"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1228240023,"creation_date":1228240023,"answer_id":334825,"question_id":334471,"body_markdown":"I have had some luck in the past with the Java Service Wrapper. Depending upon your situation you may need to pay in order to use it. But it offers a clean solution that supports Java and could be used in the InstallAnywhere environment with (I think) little trouble. This will also allow you to support services on Unix boxes as well.\r\n\r\nhttp://wrapper.tanukisoftware.org/doc/english/download.jsp\r\n\r\n\r\n","title":"Need a way to check status of Windows service programmatically","body":"<p>I have had some luck in the past with the Java Service Wrapper. Depending upon your situation you may need to pay in order to use it. But it offers a clean solution that supports Java and could be used in the InstallAnywhere environment with (I think) little trouble. This will also allow you to support services on Unix boxes as well.</p>\n\n<p><a href=\"http://wrapper.tanukisoftware.org/doc/english/download.jsp\" rel=\"nofollow noreferrer\">http://wrapper.tanukisoftware.org/doc/english/download.jsp</a></p>\n"},{"tags":[],"owner":{"display_name":"Curt Bushko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1228245177,"creation_date":1228245177,"answer_id":335090,"question_id":334471,"body_markdown":"A shot in the dark but take a look at your Install Anywhere java documentation.\r\n\r\nSpecifically, \r\n\r\n&lt;Install Anywhere directory&gt;/javadoc/com/installshield/wizard/platform/win32/Win32Service.html\r\n\r\nThe class:\r\n    \r\n    com.installshield.wizard.platform.win32\r\n    Interface Win32Service\r\n    \r\n    All Superinterfaces:\r\n        Service \r\n\r\n\r\n\r\nThe method:\r\n    \r\n    public NTServiceStatus queryNTServiceStatus(String name)\r\n                                         throws ServiceException\r\n    \r\n        Calls the Win32 QueryServiceStatus to retrieve the status of the specified service. See the Win32 documentation for this API for more information.\r\n    \r\n        Parameters:\r\n            name - The internal name of the service. \r\n        Throws:\r\n            ServiceException\r\n\r\n","title":"Need a way to check status of Windows service programmatically","body":"<p>A shot in the dark but take a look at your Install Anywhere java documentation.</p>\n\n<p>Specifically, </p>\n\n<p>/javadoc/com/installshield/wizard/platform/win32/Win32Service.html</p>\n\n<p>The class:</p>\n\n<pre><code>com.installshield.wizard.platform.win32\nInterface Win32Service\n\nAll Superinterfaces:\n    Service \n</code></pre>\n\n<p>The method:</p>\n\n<pre><code>public NTServiceStatus queryNTServiceStatus(String name)\n                                     throws ServiceException\n\n    Calls the Win32 QueryServiceStatus to retrieve the status of the specified service. See the Win32 documentation for this API for more information.\n\n    Parameters:\n        name - The internal name of the service. \n    Throws:\n        ServiceException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1228306936,"creation_date":1228306936,"answer_id":336949,"question_id":334471,"body_markdown":"You can create a small VBS on-th-fly, launch it and capture its return code.\r\n\r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    \r\n    public class VBSUtils {\r\n      private VBSUtils() {  }\r\n    \r\n      public static boolean isServiceRunning(String serviceName) {\r\n        try {\r\n            File file = File.createTempFile(&quot;realhowto&quot;,&quot;.vbs&quot;);\r\n            file.deleteOnExit();\r\n            FileWriter fw = new java.io.FileWriter(file);\r\n    \r\n            String vbs = &quot;Set sh = CreateObject(\\&quot;Shell.Application\\&quot;) \\n&quot;\r\n                       + &quot;If sh.IsServiceRunning(\\&quot;&quot;+ serviceName +&quot;\\&quot;) Then \\n&quot;\r\n                       + &quot;   wscript.Quit(1) \\n&quot;\r\n                       + &quot;End If \\n&quot;\r\n                       + &quot;wscript.Quit(0) \\n&quot;;\r\n            fw.write(vbs);\r\n            fw.close();\r\n            Process p = Runtime.getRuntime().exec(&quot;wscript &quot; + file.getPath());\r\n            p.waitFor();\r\n            return (p.exitValue() == 1);\r\n        }\r\n        catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n        return false;\r\n      }\r\n    \r\n    \r\n      public static void main(String[] args){\r\n        //\r\n        // DEMO\r\n        //\r\n        String result = &quot;&quot;;\r\n        msgBox(&quot;Check if service &#39;Themes&#39; is running (should be yes)&quot;);\r\n        result = isServiceRunning(&quot;Themes&quot;) ? &quot;&quot; : &quot; NOT &quot;;\r\n        msgBox(&quot;service &#39;Themes&#39; is &quot; + result + &quot; running &quot;);\r\n    \r\n        msgBox(&quot;Check if service &#39;foo&#39; is running (should be no)&quot;);\r\n        result = isServiceRunning(&quot;foo&quot;) ? &quot;&quot; : &quot; NOT &quot;;\r\n        msgBox(&quot;service &#39;foo&#39; is &quot; + result + &quot; running &quot;);\r\n      }\r\n    \r\n      public static void msgBox(String msg) {\r\n        javax.swing.JOptionPane.showConfirmDialog((java.awt.Component)\r\n           null, msg, &quot;VBSUtils&quot;, javax.swing.JOptionPane.DEFAULT_OPTION);\r\n      }\r\n    }","title":"Need a way to check status of Windows service programmatically","body":"<p>You can create a small VBS on-th-fly, launch it and capture its return code.</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileWriter;\n\npublic class VBSUtils {\n  private VBSUtils() {  }\n\n  public static boolean isServiceRunning(String serviceName) {\n    try {\n        File file = File.createTempFile(\"realhowto\",\".vbs\");\n        file.deleteOnExit();\n        FileWriter fw = new java.io.FileWriter(file);\n\n        String vbs = \"Set sh = CreateObject(\\\"Shell.Application\\\") \\n\"\n                   + \"If sh.IsServiceRunning(\\\"\"+ serviceName +\"\\\") Then \\n\"\n                   + \"   wscript.Quit(1) \\n\"\n                   + \"End If \\n\"\n                   + \"wscript.Quit(0) \\n\";\n        fw.write(vbs);\n        fw.close();\n        Process p = Runtime.getRuntime().exec(\"wscript \" + file.getPath());\n        p.waitFor();\n        return (p.exitValue() == 1);\n    }\n    catch(Exception e){\n        e.printStackTrace();\n    }\n    return false;\n  }\n\n\n  public static void main(String[] args){\n    //\n    // DEMO\n    //\n    String result = \"\";\n    msgBox(\"Check if service 'Themes' is running (should be yes)\");\n    result = isServiceRunning(\"Themes\") ? \"\" : \" NOT \";\n    msgBox(\"service 'Themes' is \" + result + \" running \");\n\n    msgBox(\"Check if service 'foo' is running (should be no)\");\n    result = isServiceRunning(\"foo\") ? \"\" : \" NOT \";\n    msgBox(\"service 'foo' is \" + result + \" running \");\n  }\n\n  public static void msgBox(String msg) {\n    javax.swing.JOptionPane.showConfirmDialog((java.awt.Component)\n       null, msg, \"VBSUtils\", javax.swing.JOptionPane.DEFAULT_OPTION);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41750,"reputation":345,"user_id":121421,"accept_rate":0,"display_name":"Wil S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1287705481,"creation_date":1287705481,"answer_id":3992927,"question_id":334471,"body_markdown":"Here&#39;s a straignt C# / P/Invoke solution.\r\n\r\n            /// &lt;summary&gt;\r\n        /// Returns true if the specified service is running, or false if it is not present or not running.\r\n        /// &lt;/summary&gt;\r\n        /// &lt;param name=&quot;serviceName&quot;&gt;Name of the service to check.&lt;/param&gt;\r\n        /// &lt;returns&gt;Returns true if the specified service is running, or false if it is not present or not running.&lt;/returns&gt;\r\n        static bool IsServiceRunning(string serviceName)\r\n        {\r\n            bool rVal = false;\r\n            try\r\n            {\r\n                IntPtr smHandle = NativeMethods.OpenSCManager(null, null, NativeMethods.ServiceAccess.ENUMERATE_SERVICE);\r\n                if (smHandle != IntPtr.Zero)\r\n                {\r\n                    IntPtr svHandle = NativeMethods.OpenService(smHandle, serviceName, NativeMethods.ServiceAccess.ENUMERATE_SERVICE);\r\n                    if (svHandle != IntPtr.Zero)\r\n                    {\r\n                        NativeMethods.SERVICE_STATUS servStat = new NativeMethods.SERVICE_STATUS();\r\n                        if (NativeMethods.QueryServiceStatus(svHandle, servStat))\r\n                        {\r\n                            rVal = servStat.dwCurrentState == NativeMethods.ServiceState.Running;\r\n                        }\r\n                        NativeMethods.CloseServiceHandle(svHandle);\r\n                    }\r\n                    NativeMethods.CloseServiceHandle(smHandle);\r\n                }\r\n            }\r\n            catch (System.Exception )\r\n            {\r\n\r\n            }\r\n            return rVal;\r\n        }\r\n\r\n    public static class NativeMethods\r\n    {\r\n        [DllImport(&quot;AdvApi32&quot;)]\r\n        public static extern IntPtr OpenSCManager(string machineName, string databaseName, ServiceAccess access);\r\n        [DllImport(&quot;AdvApi32&quot;)]\r\n        public static extern IntPtr OpenService(IntPtr serviceManagerHandle, string serviceName, ServiceAccess access);\r\n        [DllImport(&quot;AdvApi32&quot;)]\r\n        public static extern bool CloseServiceHandle(IntPtr serviceHandle);\r\n        [DllImport(&quot;AdvApi32&quot;)]\r\n        public static extern bool QueryServiceStatus(IntPtr serviceHandle, [Out] SERVICE_STATUS status);\r\n\r\n        [Flags]\r\n        public enum ServiceAccess : uint\r\n        {\r\n            ALL_ACCESS = 0xF003F,\r\n            CREATE_SERVICE = 0x2,\r\n            CONNECT = 0x1,\r\n            ENUMERATE_SERVICE = 0x4,\r\n            LOCK = 0x8,\r\n            MODIFY_BOOT_CONFIG = 0x20,\r\n            QUERY_LOCK_STATUS = 0x10,\r\n            GENERIC_READ = 0x80000000,\r\n            GENERIC_WRITE = 0x40000000,\r\n            GENERIC_EXECUTE = 0x20000000,\r\n            GENERIC_ALL = 0x10000000\r\n        }\r\n\r\n        public enum ServiceState\r\n        {\r\n            Stopped = 1,\r\n            StopPending = 3,\r\n            StartPending = 2,\r\n            Running = 4,\r\n            Paused = 7,\r\n            PausePending =6,\r\n            ContinuePending=5\r\n        }\r\n\r\n        [StructLayout(LayoutKind.Sequential, Pack = 1)]\r\n        public class SERVICE_STATUS\r\n        {\r\n            public int dwServiceType;\r\n            public ServiceState dwCurrentState;\r\n            public int dwControlsAccepted;\r\n            public int dwWin32ExitCode;\r\n            public int dwServiceSpecificExitCode;\r\n            public int dwCheckPoint;\r\n            public int dwWaitHint;\r\n        };\r\n    }\r\n","title":"Need a way to check status of Windows service programmatically","body":"<p>Here's a straignt C# / P/Invoke solution.</p>\n\n<pre><code>        /// &lt;summary&gt;\n    /// Returns true if the specified service is running, or false if it is not present or not running.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"serviceName\"&gt;Name of the service to check.&lt;/param&gt;\n    /// &lt;returns&gt;Returns true if the specified service is running, or false if it is not present or not running.&lt;/returns&gt;\n    static bool IsServiceRunning(string serviceName)\n    {\n        bool rVal = false;\n        try\n        {\n            IntPtr smHandle = NativeMethods.OpenSCManager(null, null, NativeMethods.ServiceAccess.ENUMERATE_SERVICE);\n            if (smHandle != IntPtr.Zero)\n            {\n                IntPtr svHandle = NativeMethods.OpenService(smHandle, serviceName, NativeMethods.ServiceAccess.ENUMERATE_SERVICE);\n                if (svHandle != IntPtr.Zero)\n                {\n                    NativeMethods.SERVICE_STATUS servStat = new NativeMethods.SERVICE_STATUS();\n                    if (NativeMethods.QueryServiceStatus(svHandle, servStat))\n                    {\n                        rVal = servStat.dwCurrentState == NativeMethods.ServiceState.Running;\n                    }\n                    NativeMethods.CloseServiceHandle(svHandle);\n                }\n                NativeMethods.CloseServiceHandle(smHandle);\n            }\n        }\n        catch (System.Exception )\n        {\n\n        }\n        return rVal;\n    }\n\npublic static class NativeMethods\n{\n    [DllImport(\"AdvApi32\")]\n    public static extern IntPtr OpenSCManager(string machineName, string databaseName, ServiceAccess access);\n    [DllImport(\"AdvApi32\")]\n    public static extern IntPtr OpenService(IntPtr serviceManagerHandle, string serviceName, ServiceAccess access);\n    [DllImport(\"AdvApi32\")]\n    public static extern bool CloseServiceHandle(IntPtr serviceHandle);\n    [DllImport(\"AdvApi32\")]\n    public static extern bool QueryServiceStatus(IntPtr serviceHandle, [Out] SERVICE_STATUS status);\n\n    [Flags]\n    public enum ServiceAccess : uint\n    {\n        ALL_ACCESS = 0xF003F,\n        CREATE_SERVICE = 0x2,\n        CONNECT = 0x1,\n        ENUMERATE_SERVICE = 0x4,\n        LOCK = 0x8,\n        MODIFY_BOOT_CONFIG = 0x20,\n        QUERY_LOCK_STATUS = 0x10,\n        GENERIC_READ = 0x80000000,\n        GENERIC_WRITE = 0x40000000,\n        GENERIC_EXECUTE = 0x20000000,\n        GENERIC_ALL = 0x10000000\n    }\n\n    public enum ServiceState\n    {\n        Stopped = 1,\n        StopPending = 3,\n        StartPending = 2,\n        Running = 4,\n        Paused = 7,\n        PausePending =6,\n        ContinuePending=5\n    }\n\n    [StructLayout(LayoutKind.Sequential, Pack = 1)]\n    public class SERVICE_STATUS\n    {\n        public int dwServiceType;\n        public ServiceState dwCurrentState;\n        public int dwControlsAccepted;\n        public int dwWin32ExitCode;\n        public int dwServiceSpecificExitCode;\n        public int dwCheckPoint;\n        public int dwWaitHint;\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1445337,"reputation":779,"user_id":1364048,"display_name":"mms"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1390389830,"creation_date":1390389830,"answer_id":21281573,"question_id":334471,"body_markdown":"Based on the other answers I constructed the following code to check for Windows Service status:\r\n\r\n    public void checkService() {\r\n      String serviceName = &quot;myService&quot;;  \r\n    \r\n      try {\r\n    \tProcess process = new ProcessBuilder(&quot;C:\\\\Windows\\\\System32\\\\sc.exe&quot;, &quot;query&quot; , serviceName ).start();\r\n    \tInputStream is = process.getInputStream();\r\n    \tInputStreamReader isr = new InputStreamReader(is);\r\n    \tBufferedReader br = new BufferedReader(isr);\r\n    \r\n    \tString line;\r\n    \tString scOutput = &quot;&quot;;\r\n    \t\r\n        // Append the buffer lines into one string\r\n    \twhile ((line = br.readLine()) != null) {\r\n    \t\tscOutput +=  line + &quot;\\n&quot; ;\r\n    \t}\r\n    \r\n    \tif (scOutput.contains(&quot;STATE&quot;)) {\r\n    \t\tif (scOutput.contains(&quot;RUNNING&quot;)) {\r\n    \t\t\tSystem.out.println(&quot;Service running&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Service stopped&quot;);\r\n    \t\t}\t\t\r\n    \t} else {\r\n    \t\tSystem.out.println(&quot;Unknown service&quot;);\r\n    \t}\r\n      } catch (IOException e) {\r\n    \te.printStackTrace();\r\n      } \r\n    }","title":"Need a way to check status of Windows service programmatically","body":"<p>Based on the other answers I constructed the following code to check for Windows Service status:</p>\n\n<pre><code>public void checkService() {\n  String serviceName = \"myService\";  \n\n  try {\n    Process process = new ProcessBuilder(\"C:\\\\Windows\\\\System32\\\\sc.exe\", \"query\" , serviceName ).start();\n    InputStream is = process.getInputStream();\n    InputStreamReader isr = new InputStreamReader(is);\n    BufferedReader br = new BufferedReader(isr);\n\n    String line;\n    String scOutput = \"\";\n\n    // Append the buffer lines into one string\n    while ((line = br.readLine()) != null) {\n        scOutput +=  line + \"\\n\" ;\n    }\n\n    if (scOutput.contains(\"STATE\")) {\n        if (scOutput.contains(\"RUNNING\")) {\n            System.out.println(\"Service running\");\n        } else {\n            System.out.println(\"Service stopped\");\n        }       \n    } else {\n        System.out.println(\"Unknown service\");\n    }\n  } catch (IOException e) {\n    e.printStackTrace();\n  } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9902388,"reputation":189,"user_id":7332002,"display_name":"Muhammad Aasharib Nawshad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597244333,"creation_date":1597244333,"answer_id":63379279,"question_id":334471,"body_markdown":"Simply call this method to check the status of service whether running or not.\r\n\r\n    public boolean checkIfServiceRunning(String serviceName) {\r\n        Process process;\r\n        try {\r\n          process = Runtime.getRuntime().exec(&quot;sc query &quot; + serviceName);\r\n          Scanner reader = new Scanner(process.getInputStream(), &quot;UTF-8&quot;);\r\n          while(reader.hasNextLine()) {\r\n\t\t\t if(reader.nextLine().contains(&quot;RUNNING&quot;)) {\r\n               return true;\r\n\t\t\t }\r\n\t\t  }\r\n         } catch (IOException e) {\r\n\t\t     e.printStackTrace();\r\n         }            \r\n\t     return false;\r\n    }\r\n\r\n","title":"Need a way to check status of Windows service programmatically","body":"<p>Simply call this method to check the status of service whether running or not.</p>\n<pre><code>public boolean checkIfServiceRunning(String serviceName) {\n    Process process;\n    try {\n      process = Runtime.getRuntime().exec(&quot;sc query &quot; + serviceName);\n      Scanner reader = new Scanner(process.getInputStream(), &quot;UTF-8&quot;);\n      while(reader.hasNextLine()) {\n         if(reader.nextLine().contains(&quot;RUNNING&quot;)) {\n           return true;\n         }\n      }\n     } catch (IOException e) {\n         e.printStackTrace();\n     }            \n     return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7667723,"reputation":41,"user_id":5810983,"display_name":"Arun Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638988378,"creation_date":1638978432,"answer_id":70277801,"question_id":334471,"body_markdown":"I improvised on the given solutions, to make it locale independent.\r\nComparing the string &quot;RUNNING&quot; would not work in systems with non-english locales as [Alejandro Gonz&#225;lez rightly pointed out](https://stackoverflow.com/questions/334471/need-a-way-to-check-status-of-windows-service-programmatically/70277801#comment105877673_334632).\r\n\r\nI made use of **sc interrogate** and look for the status codes returned by it. \r\n\r\nMainly, the service can have 3 states:-\r\n\r\n1 - Not available\r\n\r\n    [SC] OpenService FAILED 1060: The specified service does not exist as an installed service.\r\n\r\n\r\n2 - Not running\r\n\r\n    ([SC] ControlService FAILED 1062: The service has not been started)\r\n\r\n3 - Running\r\n\r\n        TYPE               : 10  WIN32_OWN_PROCESS\r\n        STATE              : 2  START_PENDING\r\n                                (NOT_STOPPABLE, NOT_PAUSABLE, IGNORES_SHUTDOWN)\r\n        WIN32_EXIT_CODE    : 0  (0x0)\r\n        SERVICE_EXIT_CODE  : 0  (0x0)\r\n        CHECKPOINT         : 0x0\r\n        WAIT_HINT          : 0x7d0\r\n        PID                : 21100code here\r\n\r\nSo using them in following code, gives us the desired result :-\r\n\r\n\r\n    public static void checkBackgroundService(String serviceName) {\r\n        Process process;\r\n        try {\r\n            process = Runtime.getRuntime().exec(&quot;sc interrogate &quot; + serviceName);\r\n            Scanner reader = new Scanner(process.getInputStream(), &quot;UTF-8&quot;);\r\n            StringBuffer buffer = new StringBuffer();\r\n            while (reader.hasNextLine()) {\r\n                buffer.append(reader.nextLine());\r\n            }\r\n            System.out.println(buffer.toString());\r\n                if (buffer.toString().contains(&quot;1060:&quot;)) {\r\n                    System.out.println(&quot;Specified Service does not exist&quot;);\r\n                } else if (buffer.toString().contains(&quot;1062:&quot;)) {\r\n                    System.out.println(&quot;Specified Service is not started (not running)&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Specified Service is running&quot;);\r\n                }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n","title":"Need a way to check status of Windows service programmatically","body":"<p>I improvised on the given solutions, to make it locale independent.\nComparing the string &quot;RUNNING&quot; would not work in systems with non-english locales as <a href=\"https://stackoverflow.com/questions/334471/need-a-way-to-check-status-of-windows-service-programmatically/70277801#comment105877673_334632\">Alejandro González rightly pointed out</a>.</p>\n<p>I made use of <strong>sc interrogate</strong> and look for the status codes returned by it.</p>\n<p>Mainly, the service can have 3 states:-</p>\n<p>1 - Not available</p>\n<pre><code>[SC] OpenService FAILED 1060: The specified service does not exist as an installed service.\n</code></pre>\n<p>2 - Not running</p>\n<pre><code>([SC] ControlService FAILED 1062: The service has not been started)\n</code></pre>\n<p>3 - Running</p>\n<pre><code>    TYPE               : 10  WIN32_OWN_PROCESS\n    STATE              : 2  START_PENDING\n                            (NOT_STOPPABLE, NOT_PAUSABLE, IGNORES_SHUTDOWN)\n    WIN32_EXIT_CODE    : 0  (0x0)\n    SERVICE_EXIT_CODE  : 0  (0x0)\n    CHECKPOINT         : 0x0\n    WAIT_HINT          : 0x7d0\n    PID                : 21100code here\n</code></pre>\n<p>So using them in following code, gives us the desired result :-</p>\n<pre><code>public static void checkBackgroundService(String serviceName) {\n    Process process;\n    try {\n        process = Runtime.getRuntime().exec(&quot;sc interrogate &quot; + serviceName);\n        Scanner reader = new Scanner(process.getInputStream(), &quot;UTF-8&quot;);\n        StringBuffer buffer = new StringBuffer();\n        while (reader.hasNextLine()) {\n            buffer.append(reader.nextLine());\n        }\n        System.out.println(buffer.toString());\n            if (buffer.toString().contains(&quot;1060:&quot;)) {\n                System.out.println(&quot;Specified Service does not exist&quot;);\n            } else if (buffer.toString().contains(&quot;1062:&quot;)) {\n                System.out.println(&quot;Specified Service is not started (not running)&quot;);\n            } else {\n                System.out.println(&quot;Specified Service is running&quot;);\n            }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18518,"reputation":710,"user_id":42489,"accept_rate":92,"display_name":"Troy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30456,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":334632,"answer_count":10,"score":13,"last_activity_date":1638988378,"creation_date":1228233859,"question_id":334471,"body_markdown":"Here is the situation:\r\n\r\nI have been called upon to work with InstallAnywhere 8, a Java-based installer IDE, of sorts, that allows starting and stopping of windows services, but has no built-in method to query their states.  Fortunately, it allows you to create custom actions in Java which can be called at any time during the installation process (by way of what I consider to be a rather convoluted API).  \r\n\r\nI just need something that will tell me if a specific service is started or stopped.\r\n\r\nThe IDE also allows calling batch scripts, so this is an option as well, although once the script is run, there is almost no way to verify that it succeeded, so I&#39;m trying to avoid that.\r\n\r\nAny suggestions or criticisms are welcome.","title":"Need a way to check status of Windows service programmatically","body":"<p>Here is the situation:</p>\n\n<p>I have been called upon to work with InstallAnywhere 8, a Java-based installer IDE, of sorts, that allows starting and stopping of windows services, but has no built-in method to query their states.  Fortunately, it allows you to create custom actions in Java which can be called at any time during the installation process (by way of what I consider to be a rather convoluted API).  </p>\n\n<p>I just need something that will tell me if a specific service is started or stopped.</p>\n\n<p>The IDE also allows calling batch scripts, so this is an option as well, although once the script is run, there is almost no way to verify that it succeeded, so I'm trying to avoid that.</p>\n\n<p>Any suggestions or criticisms are welcome.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1638986947,"post_id":70279704,"comment_id":124235453,"body_markdown":"*&quot;Every example I&#39;ve found indicates this format is valid.&quot;* Can you give an example where it works? You are trying to format an integer with two decimal places, which doesn&#39;t make sense.","body":"<i>&quot;Every example I&#39;ve found indicates this format is valid.&quot;</i> Can you give an example where it works? You are trying to format an integer with two decimal places, which doesn&#39;t make sense."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1639001756,"post_id":70279704,"comment_id":124240282,"body_markdown":"By the way, you might be interested in the [`DayOfYear`](https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/DayOfYear.html) class available in the *ThreeTen-Extra* library.","body":"By the way, you might be interested in the <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/DayOfYear.html\" rel=\"nofollow noreferrer\"><code>DayOfYear</code></a> class available in the <i>ThreeTen-Extra</i> library."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1639001941,"post_id":70279704,"comment_id":124240352,"body_markdown":"“Julian” is a common misnomer for tracking dates as year with day-of-year. [*Ordinal date*](https://en.m.wikipedia.org/wiki/Ordinal_date) is a better term. A [Julian day](https://en.m.wikipedia.org/wiki/Julian_day) is a different thing.","body":"“Julian” is a common misnomer for tracking dates as year with day-of-year. <a href=\"https://en.m.wikipedia.org/wiki/Ordinal_date\" rel=\"nofollow noreferrer\"><i>Ordinal date</i></a> is a better term. A <a href=\"https://en.m.wikipedia.org/wiki/Julian_day\" rel=\"nofollow noreferrer\">Julian day</a> is a different thing."},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1639061792,"post_id":70279704,"comment_id":124256671,"body_markdown":"That is what they call it in JD Edwards. Not my term.","body":"That is what they call it in JD Edwards. Not my term."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1638987935,"creation_date":1638987607,"answer_id":70279912,"question_id":70279704,"body_markdown":"The problem is that `%.2d` doesn&#39;t make sense, as that specifies the precision of fractional numbers (number of decimals after the point), while integers by definition do not have fractional values. You&#39;re probably thinking of `%02d` and `%03d`, but that only specifies the minimum width.\r\n\r\nInstead, use `java.time.DateTimeFormatter`:\r\n\r\n```java\r\nvar date = LocalDate.of(2021, 12, 8);\r\nvar formatter = DateTimeFormatter.ofPattern(&quot;yyDDD&quot;);\r\nSystem.out.println(&quot;1&quot; + formatter.format(date));\r\n```\r\n\r\nIf the century is fixed (always 1), then you can also use pattern `&quot;&#39;1&#39;yyDDD&quot;` and do away with the concatenation.","title":"How do I format an integer with a specific set of digits?","body":"<p>The problem is that <code>%.2d</code> doesn't make sense, as that specifies the precision of fractional numbers (number of decimals after the point), while integers by definition do not have fractional values. You're probably thinking of <code>%02d</code> and <code>%03d</code>, but that only specifies the minimum width.</p>\n<p>Instead, use <code>java.time.DateTimeFormatter</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var date = LocalDate.of(2021, 12, 8);\nvar formatter = DateTimeFormatter.ofPattern(&quot;yyDDD&quot;);\nSystem.out.println(&quot;1&quot; + formatter.format(date));\n</code></pre>\n<p>If the century is fixed (always 1), then you can also use pattern <code>&quot;'1'yyDDD&quot;</code> and do away with the concatenation.</p>\n"}],"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70279912,"answer_count":1,"score":3,"last_activity_date":1638987935,"creation_date":1638986630,"question_id":70279704,"body_markdown":"I am writing a method that will take a `java.time.LocalDate` and produce a Julian date variant. The Julian date variant format is as follows:\r\n\r\n`CYYDDD`\r\n\r\nWhere `C` is the century, `YY` is the 2 digit year and `DDD` is the 3 digit day-of-year. Today (December 8, 2021) translates into 121342.\r\n\r\nI&#39;m using a `java.util.Formatter` to format the values from the `LocalDate` as follows:\r\n\r\n      private int calculateJDEDate(LocalDate date) {\r\n        StringBuilder sb = new StringBuilder();\r\n        Formatter fmt = new Formatter(sb);\r\n\r\n        // Format 2 digit year.\r\n        fmt.format(&quot;%.2d&quot;, date.getYear()).close();\r\n\r\n        // fmt.format(&quot;1%1$.2d%2$.3d&quot;, date.getYear(), date.getDayOfYear()).close();\r\n\r\n        return Integer.parseInt(sb.toString());\r\n      }\r\n\r\nThe `getYear()` and `getDayOfYear()` methods both return an int value.\r\n\r\nWhen I attempt to run this, I get the following exception:\r\n\r\n    Exception in thread &quot;main&quot; java.util.IllegalFormatPrecisionException: 2\r\n    \tat java.base/java.util.Formatter$FormatSpecifier.checkInteger(Formatter.java:3138)\r\n    \tat java.base/java.util.Formatter$FormatSpecifier.&lt;init&gt;(Formatter.java:2874)\r\n    \tat java.base/java.util.Formatter.parse(Formatter.java:2713)\r\n    \tat java.base/java.util.Formatter.format(Formatter.java:2655)\r\n    \tat java.base/java.util.Formatter.format(Formatter.java:2609)\r\n    \tat com.fossfloors.f55hubdt.Main.calculateJDEDate(Main.java:104)\r\n    \tat com.fossfloors.f55hubdt.Main.calculateDateData(Main.java:96)\r\n    \tat com.fossfloors.f55hubdt.Main.lambda$0(Main.java:129)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n    \tat java.base/java.util.stream.LongPipeline$1$1.accept(LongPipeline.java:177)\r\n    \tat java.base/java.util.stream.Streams$RangeLongSpliterator.forEachRemaining(Streams.java:228)\r\n    \tat java.base/java.util.Spliterator$OfLong.forEachRemaining(Spliterator.java:763)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEachOrdered(ReferencePipeline.java:502)\r\n    \tat com.fossfloors.f55hubdt.Main.main(Main.java:128)\r\n\r\nI don&#39;t understand what is wrong. Every example I&#39;ve found indicates this format is valid.\r\n\r\nThis is sort of a secondary question, but does the formatter allow for leading characters (like leading zeros)? I can&#39;t seem to find information on doing that.\r\n","title":"How do I format an integer with a specific set of digits?","body":"<p>I am writing a method that will take a <code>java.time.LocalDate</code> and produce a Julian date variant. The Julian date variant format is as follows:</p>\n<p><code>CYYDDD</code></p>\n<p>Where <code>C</code> is the century, <code>YY</code> is the 2 digit year and <code>DDD</code> is the 3 digit day-of-year. Today (December 8, 2021) translates into 121342.</p>\n<p>I'm using a <code>java.util.Formatter</code> to format the values from the <code>LocalDate</code> as follows:</p>\n<pre><code>  private int calculateJDEDate(LocalDate date) {\n    StringBuilder sb = new StringBuilder();\n    Formatter fmt = new Formatter(sb);\n\n    // Format 2 digit year.\n    fmt.format(&quot;%.2d&quot;, date.getYear()).close();\n\n    // fmt.format(&quot;1%1$.2d%2$.3d&quot;, date.getYear(), date.getDayOfYear()).close();\n\n    return Integer.parseInt(sb.toString());\n  }\n</code></pre>\n<p>The <code>getYear()</code> and <code>getDayOfYear()</code> methods both return an int value.</p>\n<p>When I attempt to run this, I get the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.IllegalFormatPrecisionException: 2\n    at java.base/java.util.Formatter$FormatSpecifier.checkInteger(Formatter.java:3138)\n    at java.base/java.util.Formatter$FormatSpecifier.&lt;init&gt;(Formatter.java:2874)\n    at java.base/java.util.Formatter.parse(Formatter.java:2713)\n    at java.base/java.util.Formatter.format(Formatter.java:2655)\n    at java.base/java.util.Formatter.format(Formatter.java:2609)\n    at com.fossfloors.f55hubdt.Main.calculateJDEDate(Main.java:104)\n    at com.fossfloors.f55hubdt.Main.calculateDateData(Main.java:96)\n    at com.fossfloors.f55hubdt.Main.lambda$0(Main.java:129)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.LongPipeline$1$1.accept(LongPipeline.java:177)\n    at java.base/java.util.stream.Streams$RangeLongSpliterator.forEachRemaining(Streams.java:228)\n    at java.base/java.util.Spliterator$OfLong.forEachRemaining(Spliterator.java:763)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEachOrdered(ReferencePipeline.java:502)\n    at com.fossfloors.f55hubdt.Main.main(Main.java:128)\n</code></pre>\n<p>I don't understand what is wrong. Every example I've found indicates this format is valid.</p>\n<p>This is sort of a secondary question, but does the formatter allow for leading characters (like leading zeros)? I can't seem to find information on doing that.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1638984821,"post_id":70279229,"comment_id":124234628,"body_markdown":"Why the DV? Not a duplicate, is on topic, is a high quality question and provides enough detail to reproduce and answer the question.","body":"Why the DV? Not a duplicate, is on topic, is a high quality question and provides enough detail to reproduce and answer the question."}],"answers":[{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638985675,"creation_date":1638985675,"answer_id":70279511,"question_id":70279229,"body_markdown":"Streams are used either\r\n- To modify the contents of the stream elements, or \r\n- To produce another stream from it, or \r\n- To iterate over the elements and do something that doesn&#39;t affect the elements of **this** stream.\r\n\r\nSince your use case is the last type, the logical operation is simply `forEach(..)`. (I know it is a dampener :-), but that is how the use case is.)\r\n\r\n```java\r\nfoobarList.forEach( fb -&gt; {\r\n    if (foobarMap.containsKey(fb)) {\r\n\t    foobarMap.get(fb).add(msg);\r\n\t} else {\r\n\t     foobarMap.put(fb, Collections.singletonList(msg));\r\n\t}\r\n} );\r\n```","title":"Conditionally merging list of Java objects into a map via Stream API","body":"<p>Streams are used either</p>\n<ul>\n<li>To modify the contents of the stream elements, or</li>\n<li>To produce another stream from it, or</li>\n<li>To iterate over the elements and do something that doesn't affect the elements of <strong>this</strong> stream.</li>\n</ul>\n<p>Since your use case is the last type, the logical operation is simply <code>forEach(..)</code>. (I know it is a dampener :-), but that is how the use case is.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>foobarList.forEach( fb -&gt; {\n    if (foobarMap.containsKey(fb)) {\n        foobarMap.get(fb).add(msg);\n    } else {\n         foobarMap.put(fb, Collections.singletonList(msg));\n    }\n} );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638987834,"creation_date":1638987834,"answer_id":70279947,"question_id":70279229,"body_markdown":"As noticed by @Sree Kumar, you should use `forEach()`.\r\n\r\nHowever, I would suggest leveraging the `Map.merge()` method:\r\n\r\n\r\n    foobarList.forEach(fb -&gt; foobarMap.merge(fb, Collections.singletonList(msg),\r\n            (l1, l2) -&gt; Stream.concat(l1.stream(), l2.stream()).toList()));","title":"Conditionally merging list of Java objects into a map via Stream API","body":"<p>As noticed by @Sree Kumar, you should use <code>forEach()</code>.</p>\n<p>However, I would suggest leveraging the <code>Map.merge()</code> method:</p>\n<pre><code>foobarList.forEach(fb -&gt; foobarMap.merge(fb, Collections.singletonList(msg),\n        (l1, l2) -&gt; Stream.concat(l1.stream(), l2.stream()).toList()));\n</code></pre>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70279511,"answer_count":2,"score":-1,"last_activity_date":1638987834,"creation_date":1638984311,"question_id":70279229,"body_markdown":"Java 11 here. I have a `List&lt;Foobar&gt;` as well as a `Map&lt;Foobar,List&lt;String&gt;&gt;`.\r\n\r\nI would like to iterate over the list and:\r\n\r\n- if the current `Foobar` is a key in the map, and a specific string (_&quot;Can&#39;t please everyone&quot;_) to that entry&#39;s value list\r\n- if the current `Foobar` is not a key in the map, and it as a new key, with a value that is an `ArrayList` consisting of a single string with the same value\r\n\r\nI can accomplish this like so:\r\n```\r\nList&lt;Foobar&gt; foobarList = getSomehow();\r\nMap&lt;Foobar,List&lt;String&gt;&gt; foobarMap = getItSomehow();\r\nString msg = &quot;Can&#39;t please everyone&quot;;\r\nfor (Foobar fb : foobarList) {\r\n    if (foobarMap.containsKey(fb)) {\r\n        foobarMap.get(fb).add(msg);\r\n    } else {\r\n        foobarMap.put(fb, Collections.singletonList(msg));\r\n    }\r\n}\r\n```\r\n\r\nThis works great, but I&#39;m trying to get this to work using the Java Stream API. My best attempt thus far:\r\n```\r\nList&lt;Foobar&gt; foobarList = getSomehow();\r\nMap&lt;Foobar,List&lt;String&gt;&gt; foobarMap = getItSomehow();\r\nString msg = &quot;Can&#39;t please everyone&quot;;\r\nfoobarList.stream()\r\n    .filter(fb -&gt; foobarMap.containsKey(fb))\r\n        .map(fb -&gt; foobarMap.get(fb).add(msg))\r\n    .filter(fb -&gt; !foobarMap.containsKey(fb))\r\n        .map(fb -&gt; foobarMap.put(fb. Collections.singleton(msg));\r\n```\r\n\r\nYields several compiler errors. Can anyone spot where I&#39;m going awry?","title":"Conditionally merging list of Java objects into a map via Stream API","body":"<p>Java 11 here. I have a <code>List&lt;Foobar&gt;</code> as well as a <code>Map&lt;Foobar,List&lt;String&gt;&gt;</code>.</p>\n<p>I would like to iterate over the list and:</p>\n<ul>\n<li>if the current <code>Foobar</code> is a key in the map, and a specific string (<em>&quot;Can't please everyone&quot;</em>) to that entry's value list</li>\n<li>if the current <code>Foobar</code> is not a key in the map, and it as a new key, with a value that is an <code>ArrayList</code> consisting of a single string with the same value</li>\n</ul>\n<p>I can accomplish this like so:</p>\n<pre><code>List&lt;Foobar&gt; foobarList = getSomehow();\nMap&lt;Foobar,List&lt;String&gt;&gt; foobarMap = getItSomehow();\nString msg = &quot;Can't please everyone&quot;;\nfor (Foobar fb : foobarList) {\n    if (foobarMap.containsKey(fb)) {\n        foobarMap.get(fb).add(msg);\n    } else {\n        foobarMap.put(fb, Collections.singletonList(msg));\n    }\n}\n</code></pre>\n<p>This works great, but I'm trying to get this to work using the Java Stream API. My best attempt thus far:</p>\n<pre><code>List&lt;Foobar&gt; foobarList = getSomehow();\nMap&lt;Foobar,List&lt;String&gt;&gt; foobarMap = getItSomehow();\nString msg = &quot;Can't please everyone&quot;;\nfoobarList.stream()\n    .filter(fb -&gt; foobarMap.containsKey(fb))\n        .map(fb -&gt; foobarMap.get(fb).add(msg))\n    .filter(fb -&gt; !foobarMap.containsKey(fb))\n        .map(fb -&gt; foobarMap.put(fb. Collections.singleton(msg));\n</code></pre>\n<p>Yields several compiler errors. Can anyone spot where I'm going awry?</p>\n"},{"tags":["java","reactor"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1638856281,"post_id":70255410,"comment_id":124192377,"body_markdown":"Where is this code? In `main`? I suspect you’re simply not waiting for it to output","body":"Where is this code? In <code>main</code>? I suspect you’re simply not waiting for it to output"},{"owner":{"account_id":15745212,"reputation":17,"user_id":11361299,"display_name":"光明的心"},"score":0,"creation_date":1638863511,"post_id":70255410,"comment_id":124194226,"body_markdown":"But, I don&#39;t have any output in main for this code","body":"But, I don&#39;t have any output in main for this code"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1638891756,"post_id":70255410,"comment_id":124205449,"body_markdown":"You have to block `main()` until user input `System.in.read();`. Just after this `subscribe()`! you problem that you app exits earlier than an execution happens in your `Flux`","body":"You have to block <code>main()</code> until user input <code>System.in.read();</code>. Just after this <code>subscribe()</code>! you problem that you app exits earlier than an execution happens in your <code>Flux</code>"},{"owner":{"account_id":15745212,"reputation":17,"user_id":11361299,"display_name":"光明的心"},"score":0,"creation_date":1638925943,"post_id":70255410,"comment_id":124216309,"body_markdown":"Ok, That&#39;s the problem.  Thanks!","body":"Ok, That&#39;s the problem.  Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638987376,"creation_date":1638987376,"answer_id":70279857,"question_id":70255410,"body_markdown":"You have to block `main()` until user input `System.in.read();`. Just after this `subscribe()`! Your problem that you app exits earlier than an execution happens in your `Flux`.","title":"Flux Don&#39;t output any result","body":"<p>You have to block <code>main()</code> until user input <code>System.in.read();</code>. Just after this <code>subscribe()</code>! Your problem that you app exits earlier than an execution happens in your <code>Flux</code>.</p>\n"}],"owner":{"account_id":15745212,"reputation":17,"user_id":11361299,"display_name":"光明的心"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70279857,"answer_count":1,"score":-1,"last_activity_date":1638987376,"creation_date":1638855661,"question_id":70255410,"body_markdown":"I started learning java reactor 3. The following code can&#39;t output any results.\r\n```\r\n  Flux.create(sink -&gt; {\r\n           \r\n            sink.next(&quot;produce a number： &quot; + Math.random() * 100);\r\n            // sink.complete();\r\n        }).publishOn(Schedulers.elastic())\r\n                .subscribe(\r\n                      consumer -&gt; System.out.println(Thread.currentThread().getName() + consumer),\r\n                        error -&gt; System.out.println(&quot;error！&quot; + error),\r\n                        () -&gt; {\r\n                            System.out.println(&quot;task complete！&quot;);\r\n                        });\r\n```\r\n","title":"Flux Don&#39;t output any result","body":"<p>I started learning java reactor 3. The following code can't output any results.</p>\n<pre><code>  Flux.create(sink -&gt; {\n           \n            sink.next(&quot;produce a number： &quot; + Math.random() * 100);\n            // sink.complete();\n        }).publishOn(Schedulers.elastic())\n                .subscribe(\n                      consumer -&gt; System.out.println(Thread.currentThread().getName() + consumer),\n                        error -&gt; System.out.println(&quot;error！&quot; + error),\n                        () -&gt; {\n                            System.out.println(&quot;task complete！&quot;);\n                        });\n</code></pre>\n"},{"tags":["java","spring","spring-cloud-stream","spring-cloud-dataflow"],"comments":[{"owner":{"account_id":2365019,"reputation":5194,"user_id":2070861,"accept_rate":100,"display_name":"sobychacko"},"score":0,"creation_date":1638805506,"post_id":70242824,"comment_id":124179309,"body_markdown":"How can we reproduce the issue in a standalone manner in a minimal way? It sounds like you can reproduce it simply by running the HTTP source using `java -jar...`.","body":"How can we reproduce the issue in a standalone manner in a minimal way? It sounds like you can reproduce it simply by running the HTTP source using <code>java -jar...</code>."},{"owner":{"account_id":1310933,"reputation":12625,"user_id":1258949,"accept_rate":69,"display_name":"Harish Ambady"},"score":0,"creation_date":1638974023,"post_id":70242824,"comment_id":124229847,"body_markdown":"@sobychacko I have updated the question with steps to reproduce it minimally.","body":"@sobychacko I have updated the question with steps to reproduce it minimally."}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638987262,"creation_date":1638987262,"answer_id":70279834,"question_id":70242824,"body_markdown":"Thank you for raising this!\r\n\r\nIt turns out that `HttpSupplierConfiguration` for that HTTP Source application doesn&#39;t take into account a `ServerCodecConfigurer` auto-configured by Spring Boot, including the mentioned `spring.codec.max-in-memory-size` property.\r\n\r\nI have a fix like this: https://github.com/spring-cloud/stream-applications/pull/204, which is going to be merged soon. \r\n\r\nUnfortunately there is no easy workaround for the out-of-the-box application. \r\nYou may consider to implement your own source application with the custom HTTP Inbound Endpoint.","title":"Spring cloud data flow http source kafka application request body memory size issue","body":"<p>Thank you for raising this!</p>\n<p>It turns out that <code>HttpSupplierConfiguration</code> for that HTTP Source application doesn't take into account a <code>ServerCodecConfigurer</code> auto-configured by Spring Boot, including the mentioned <code>spring.codec.max-in-memory-size</code> property.</p>\n<p>I have a fix like this: <a href=\"https://github.com/spring-cloud/stream-applications/pull/204\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/stream-applications/pull/204</a>, which is going to be merged soon.</p>\n<p>Unfortunately there is no easy workaround for the out-of-the-box application.\nYou may consider to implement your own source application with the custom HTTP Inbound Endpoint.</p>\n"}],"owner":{"account_id":1310933,"reputation":12625,"user_id":1258949,"accept_rate":69,"display_name":"Harish Ambady"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70279834,"answer_count":1,"score":1,"last_activity_date":1638987262,"creation_date":1638780349,"question_id":70242824,"body_markdown":"I&#39;m facing an issue with the HTTP source app in a spring cloud data flow stream.\r\n\r\n```\r\norg.springframework.core.io.buffer.DataBufferLimitException: Exceeded limit on max bytes to buffer : 262144\r\n\tat org.springframework.core.io.buffer.LimitedDataBufferList.raiseLimitException(LimitedDataBufferList.java:98) ~[spring-core-5.3.10.jar:5.3.10]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\r\nError has been observed at the following site(s):\r\n\t|_ checkpoint ? org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\r\n\t|_ checkpoint ? org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\r\n\t|_ checkpoint ? org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\r\n\t|_ checkpoint ? org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\r\n\t|_ checkpoint ? org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\r\n\t|_ checkpoint ? org.springframework.security.web.server.context.ReactorContextWebFilter [DefaultWebFilterChain]\r\n\t|_ checkpoint ? org.springframework.security.web.server.header.HttpHeaderWriterWebFilter [DefaultWebFilterChain]\r\n\t|_ checkpoint ? org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]\r\n\t|_ checkpoint ? org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]\r\n\t|_ checkpoint ? org.springframework.cloud.sleuth.instrument.web.TraceWebFilter [DefaultWebFilterChain]\r\n\t|_ checkpoint ? org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\r\n\t|_ checkpoint ? HTTP POST &quot;/&quot; [ExceptionHandlingWebHandler]\r\n```\r\n\r\nThis happens when I try to post an HTTP request with huge body size to the HTTP endpoint.\r\n\r\nI have tried setting the following property in the deployment which didn&#39;t help me:\r\n\r\n```\r\napp.http.spring.codec.max-in-memory-size: 10MB\r\n```\r\n\r\nspring cloud starter HTTP Kafka source app version used is 3.1.1\r\n\r\nDoes anyone have a clue about how to fix this?\r\n\r\nThis can be reproduced minimally in a standalone manner like below\r\n\r\n 1. Download jar from: https://mvnrepository.com/artifact/org.springframework.cloud.stream.app/http-source-kafka/3.1.1\r\n 1. Run a Kafka instance locally on port 9092 and create a topic named &quot;output&quot;.\r\n 1. Run the jar with `java -jar http-source-kafka-3.1.1.jar`\r\n 1. Make an HTTP post request to localhost:8080 with request body size greater than 700KB","title":"Spring cloud data flow http source kafka application request body memory size issue","body":"<p>I'm facing an issue with the HTTP source app in a spring cloud data flow stream.</p>\n<pre><code>org.springframework.core.io.buffer.DataBufferLimitException: Exceeded limit on max bytes to buffer : 262144\n    at org.springframework.core.io.buffer.LimitedDataBufferList.raiseLimitException(LimitedDataBufferList.java:98) ~[spring-core-5.3.10.jar:5.3.10]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\nError has been observed at the following site(s):\n    |_ checkpoint ? org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\n    |_ checkpoint ? org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\n    |_ checkpoint ? org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\n    |_ checkpoint ? org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\n    |_ checkpoint ? org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\n    |_ checkpoint ? org.springframework.security.web.server.context.ReactorContextWebFilter [DefaultWebFilterChain]\n    |_ checkpoint ? org.springframework.security.web.server.header.HttpHeaderWriterWebFilter [DefaultWebFilterChain]\n    |_ checkpoint ? org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]\n    |_ checkpoint ? org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]\n    |_ checkpoint ? org.springframework.cloud.sleuth.instrument.web.TraceWebFilter [DefaultWebFilterChain]\n    |_ checkpoint ? org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\n    |_ checkpoint ? HTTP POST &quot;/&quot; [ExceptionHandlingWebHandler]\n</code></pre>\n<p>This happens when I try to post an HTTP request with huge body size to the HTTP endpoint.</p>\n<p>I have tried setting the following property in the deployment which didn't help me:</p>\n<pre><code>app.http.spring.codec.max-in-memory-size: 10MB\n</code></pre>\n<p>spring cloud starter HTTP Kafka source app version used is 3.1.1</p>\n<p>Does anyone have a clue about how to fix this?</p>\n<p>This can be reproduced minimally in a standalone manner like below</p>\n<ol>\n<li>Download jar from: <a href=\"https://mvnrepository.com/artifact/org.springframework.cloud.stream.app/http-source-kafka/3.1.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework.cloud.stream.app/http-source-kafka/3.1.1</a></li>\n<li>Run a Kafka instance locally on port 9092 and create a topic named &quot;output&quot;.</li>\n<li>Run the jar with <code>java -jar http-source-kafka-3.1.1.jar</code></li>\n<li>Make an HTTP post request to localhost:8080 with request body size greater than 700KB</li>\n</ol>\n"},{"tags":["java","sockets","networking"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1638995884,"post_id":70279347,"comment_id":124238434,"body_markdown":"`while ((fromServer = input.readLine()) != null) {System.out.println(fromServer); }` this just loops reading lines from the server and printing them until the socket closes. I don&#39;t know what you&#39;re trying to do here.","body":"<code>while ((fromServer = input.readLine()) != null) {System.out.println(fromServer); }</code> this just loops reading lines from the server and printing them until the socket closes. I don&#39;t know what you&#39;re trying to do here."},{"owner":{"account_id":23590222,"reputation":25,"user_id":17628118,"display_name":"kes92"},"score":0,"creation_date":1639090901,"post_id":70279347,"comment_id":124267343,"body_markdown":"@PresidentJamesK.Polk That was my intention, for the client to loop reading lines received from the server until all lines were read. Then after all the lines were read, break the loop so the client could &#39;guess&#39; again. I&#39;m a novice at socket programming though, is there a better way to accomplish this?","body":"@PresidentJamesK.Polk That was my intention, for the client to loop reading lines received from the server until all lines were read. Then after all the lines were read, break the loop so the client could &#39;guess&#39; again. I&#39;m a novice at socket programming though, is there a better way to accomplish this?"}],"answers":[{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638987210,"creation_date":1638987210,"answer_id":70279825,"question_id":70279347,"body_markdown":"This is due to a small design issue in your program. When clients and servers talk to each other, there should be a **protocol**, that is, a message structure using which it becomes clear when the remote application has completed its message. Otherwise, you may end up waiting on the input stream when nothing is being sent. That is what is happening here.\r\n\r\nSo, here is a changed code for only the communication part in your classes. The server will end its message with the word `over`. When the client sees the word, it doesn&#39;t try to read from the socket input anymore.\r\n\r\nThe exact lines added are commented with `CHANGED`.\r\n\r\n## Server\r\n```java\r\nwhile( true ){\r\n    System.out.println( &quot;Test&quot; );\r\n    clientResponse = input.readLine();\r\n\tif( clientResponse.equals( &quot;Bye.&quot; ) || clientResponse.equals( &quot;java&quot; ) ){\r\n\t\tbreak;\r\n\t}\r\n\telse{\r\n\t\tserverReponse = &quot;Guess again\\n&quot;;\r\n\t\tserverReponse += &quot;Here&#39;s a hint\\n&quot;;\r\n\r\n\t\t/* CHANGED: \r\n         * (a) A newline after the hint character\r\n         * (b) Add a message completion marker that the client also understands. */\r\n\t\tserverReponse += guess.charAt( counter ) + &quot;\\n&quot;;\r\n\t\tserverReponse += &quot;over&quot;;\r\n\t\toutput.println( serverReponse );\r\n\t\tcounter++;\r\n\t}\r\n}\r\n```\r\n\r\n## Client\r\n```java\r\nwhile (true) {\r\n    String msg = scanner.nextLine();\r\n    output.println(msg);\r\n    while ((fromServer = input.readLine()) != null) {\r\n        /* CHANGED: If the response is completed, break and to go back to accepting the user input. */\r\n        if( fromServer.equalsIgnoreCase( &quot;over&quot; ) ) break;\r\n        System.out.println(fromServer);\r\n    }\r\n}\r\n```","title":"Simple Java client and server socket setup breaks message loop after one iteration","body":"<p>This is due to a small design issue in your program. When clients and servers talk to each other, there should be a <strong>protocol</strong>, that is, a message structure using which it becomes clear when the remote application has completed its message. Otherwise, you may end up waiting on the input stream when nothing is being sent. That is what is happening here.</p>\n<p>So, here is a changed code for only the communication part in your classes. The server will end its message with the word <code>over</code>. When the client sees the word, it doesn't try to read from the socket input anymore.</p>\n<p>The exact lines added are commented with <code>CHANGED</code>.</p>\n<h2>Server</h2>\n<pre class=\"lang-java prettyprint-override\"><code>while( true ){\n    System.out.println( &quot;Test&quot; );\n    clientResponse = input.readLine();\n    if( clientResponse.equals( &quot;Bye.&quot; ) || clientResponse.equals( &quot;java&quot; ) ){\n        break;\n    }\n    else{\n        serverReponse = &quot;Guess again\\n&quot;;\n        serverReponse += &quot;Here's a hint\\n&quot;;\n\n        /* CHANGED: \n         * (a) A newline after the hint character\n         * (b) Add a message completion marker that the client also understands. */\n        serverReponse += guess.charAt( counter ) + &quot;\\n&quot;;\n        serverReponse += &quot;over&quot;;\n        output.println( serverReponse );\n        counter++;\n    }\n}\n</code></pre>\n<h2>Client</h2>\n<pre class=\"lang-java prettyprint-override\"><code>while (true) {\n    String msg = scanner.nextLine();\n    output.println(msg);\n    while ((fromServer = input.readLine()) != null) {\n        /* CHANGED: If the response is completed, break and to go back to accepting the user input. */\n        if( fromServer.equalsIgnoreCase( &quot;over&quot; ) ) break;\n        System.out.println(fromServer);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23590222,"reputation":25,"user_id":17628118,"display_name":"kes92"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70279825,"answer_count":1,"score":0,"last_activity_date":1638987210,"creation_date":1638984891,"question_id":70279347,"body_markdown":"I have a very simple client/server setup as a type of &quot;Guess the word&quot; game. The server prompts the client to guess a word, the client enters their guess and sends it back to the server, if the guess is incorrect the server will send the first letter of the word, then second, and so on for each incorrect guess. This loop is supposed to continue until the client guesses the word or types &#39;Bye.&#39;. \r\n\r\nThe issue with my code is that the first loop will work only. Then it stops functioning. I&#39;ve tried adjusting the while loop setup, switching between while(input.readLine() != null) or while(true) but it just will not work.\r\n\r\n\r\nClient:\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\nimport java.util.Scanner;\r\n\r\npublic class MatchingClient {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String hostName = &quot;localhost&quot;;\r\n        int portNum = 8015;\r\n\r\n        try (\r\n                Socket guessSocket = new Socket(hostName, portNum);\r\n                PrintWriter output =\r\n                        new PrintWriter(guessSocket.getOutputStream(), true);\r\n                BufferedReader input =\r\n                        new BufferedReader(\r\n                                new InputStreamReader(guessSocket.getInputStream()));\r\n        ) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            String fromServer;\r\n            System.out.println(input.readLine());\r\n            while (true) {\r\n                String msg = scanner.nextLine();\r\n                output.println(msg);\r\n                while ((fromServer = input.readLine()) != null) {\r\n                    System.out.println(fromServer);\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nServer:\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PrintWriter;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class MatchingServer {\r\n\r\n    public static void main(String[] args) {\r\n        String guess = &quot;java&quot;;\r\n        int portNum = 8015;\r\n        try (\r\n                ServerSocket serverSocket = new ServerSocket(portNum);\r\n                Socket clientSocket = serverSocket.accept();\r\n                PrintWriter output =\r\n                        new PrintWriter(clientSocket.getOutputStream(), true);\r\n                BufferedReader input = new BufferedReader(\r\n                        new InputStreamReader(clientSocket.getInputStream()));\r\n        ){\r\n            // Initiate conversation with client\r\n            System.out.println(&quot;Client connected&quot;);\r\n            output.println(&quot;Make a guess: &quot;);\r\n            int counter = 0;\r\n            String clientResponse;\r\n            String serverReponse;\r\n\r\n                while (true) {\r\n                    System.out.println(&quot;Test&quot;);\r\n                    clientResponse = input.readLine();\r\n                    if (clientResponse.equals(&quot;Bye.&quot;) || clientResponse.equals(&quot;java&quot;)) {\r\n                        break;\r\n                    } else {\r\n                        serverReponse = &quot;Guess again&quot;;\r\n                        serverReponse += &quot;\\nHere&#39;s a hint\\n&quot;;\r\n                        serverReponse += guess.charAt(counter);\r\n                        output.println(serverReponse);\r\n                        counter++;\r\n                    }\r\n                }\r\n\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Exception caught when trying to listen on port &quot;\r\n                    + portNum + &quot; or listening for a connection&quot;);\r\n            System.out.println(e.getMessage());\r\n        }\r\n        }\r\n    }\r\n```","title":"Simple Java client and server socket setup breaks message loop after one iteration","body":"<p>I have a very simple client/server setup as a type of &quot;Guess the word&quot; game. The server prompts the client to guess a word, the client enters their guess and sends it back to the server, if the guess is incorrect the server will send the first letter of the word, then second, and so on for each incorrect guess. This loop is supposed to continue until the client guesses the word or types 'Bye.'.</p>\n<p>The issue with my code is that the first loop will work only. Then it stops functioning. I've tried adjusting the while loop setup, switching between while(input.readLine() != null) or while(true) but it just will not work.</p>\n<p>Client:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.util.Scanner;\n\npublic class MatchingClient {\n\n    public static void main(String[] args) throws IOException {\n        String hostName = &quot;localhost&quot;;\n        int portNum = 8015;\n\n        try (\n                Socket guessSocket = new Socket(hostName, portNum);\n                PrintWriter output =\n                        new PrintWriter(guessSocket.getOutputStream(), true);\n                BufferedReader input =\n                        new BufferedReader(\n                                new InputStreamReader(guessSocket.getInputStream()));\n        ) {\n            Scanner scanner = new Scanner(System.in);\n            String fromServer;\n            System.out.println(input.readLine());\n            while (true) {\n                String msg = scanner.nextLine();\n                output.println(msg);\n                while ((fromServer = input.readLine()) != null) {\n                    System.out.println(fromServer);\n                }\n            }\n\n        }\n\n    }\n}\n</code></pre>\n<p>Server:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class MatchingServer {\n\n    public static void main(String[] args) {\n        String guess = &quot;java&quot;;\n        int portNum = 8015;\n        try (\n                ServerSocket serverSocket = new ServerSocket(portNum);\n                Socket clientSocket = serverSocket.accept();\n                PrintWriter output =\n                        new PrintWriter(clientSocket.getOutputStream(), true);\n                BufferedReader input = new BufferedReader(\n                        new InputStreamReader(clientSocket.getInputStream()));\n        ){\n            // Initiate conversation with client\n            System.out.println(&quot;Client connected&quot;);\n            output.println(&quot;Make a guess: &quot;);\n            int counter = 0;\n            String clientResponse;\n            String serverReponse;\n\n                while (true) {\n                    System.out.println(&quot;Test&quot;);\n                    clientResponse = input.readLine();\n                    if (clientResponse.equals(&quot;Bye.&quot;) || clientResponse.equals(&quot;java&quot;)) {\n                        break;\n                    } else {\n                        serverReponse = &quot;Guess again&quot;;\n                        serverReponse += &quot;\\nHere's a hint\\n&quot;;\n                        serverReponse += guess.charAt(counter);\n                        output.println(serverReponse);\n                        counter++;\n                    }\n                }\n\n        } catch (IOException e) {\n            System.out.println(&quot;Exception caught when trying to listen on port &quot;\n                    + portNum + &quot; or listening for a connection&quot;);\n            System.out.println(e.getMessage());\n        }\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1638987408,"post_id":70279786,"comment_id":124235641,"body_markdown":"You should almost always prefer `List&lt;Resource&gt;` to `Resource[]`. It just makes life easier.","body":"You should almost always prefer <code>List&lt;Resource&gt;</code> to <code>Resource[]</code>. It just makes life easier."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1638987457,"post_id":70279786,"comment_id":124235657,"body_markdown":"Need more information about your machine. Is this Windows? If so, why `c/tmp`? Do you have a full path? Have you tried `file:`?","body":"Need more information about your machine. Is this Windows? If so, why <code>c&#47;tmp</code>? Do you have a full path? Have you tried <code>file:</code>?"},{"owner":{"account_id":4068406,"reputation":15,"user_id":3342450,"display_name":"Kalsid"},"score":0,"creation_date":1638987871,"post_id":70279786,"comment_id":124235815,"body_markdown":"Yes its a windows machine. I have my pdf files located in `c://tmp` folder. I just tried using file: infront of file path in application.properties \nIts giving me an empty array","body":"Yes its a windows machine. I have my pdf files located in <code>c:&#47;&#47;tmp</code> folder. I just tried using file: infront of file path in application.properties  Its giving me an empty array"}],"owner":{"account_id":4068406,"reputation":15,"user_id":3342450,"display_name":"Kalsid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638987031,"creation_date":1638987031,"question_id":70279786,"body_markdown":"I&#39;m trying to use spring&#39;s Resource interface to read files from local machine using spring boot project. I specified the file path in application.properties \r\n\r\n    filePath=c/tmp/*.pdf\r\n\r\nand trying to read using @value annotation in the code. \r\n\r\n    @Value(&quot;${filePath:}&quot;)\r\n\tprivate Resource[] filePath;\r\n\r\nHowever when I try to run the app its giving me the following error\r\n\r\n&gt; cannot be resolved to URL because it does not exist\r\n\r\nCan someone help me understand on how to properly read files from external folder which is not in a classpath and specified in application.properties file?","title":"How to use Resource[] in spring to read files from windows file system specified in application.properties","body":"<p>I'm trying to use spring's Resource interface to read files from local machine using spring boot project. I specified the file path in application.properties</p>\n<pre><code>filePath=c/tmp/*.pdf\n</code></pre>\n<p>and trying to read using @value annotation in the code.</p>\n<pre><code>@Value(&quot;${filePath:}&quot;)\nprivate Resource[] filePath;\n</code></pre>\n<p>However when I try to run the app its giving me the following error</p>\n<blockquote>\n<p>cannot be resolved to URL because it does not exist</p>\n</blockquote>\n<p>Can someone help me understand on how to properly read files from external folder which is not in a classpath and specified in application.properties file?</p>\n"},{"tags":["java","arrayindexoutofboundsexception"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":3,"creation_date":1638982745,"post_id":70278863,"comment_id":124233821,"body_markdown":"Move the check `if(luettu.equals(&quot;lopeta&quot;))` before the string splitting and accessing of `osat`","body":"Move the check <code>if(luettu.equals(&quot;lopeta&quot;))</code> before the string splitting and accessing of <code>osat</code>"},{"owner":{"account_id":15718627,"reputation":506,"user_id":11342159,"display_name":"Shivansh Narayan"},"score":0,"creation_date":1638983112,"post_id":70278863,"comment_id":124233960,"body_markdown":"You should add the actual error with line number.","body":"You should add the actual error with line number."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":3,"creation_date":1638983138,"post_id":70278863,"comment_id":124233971,"body_markdown":"The computer is not wrong. If your code throws an IndexOutOfBoundsException then the index **is** out of bounds. There is no use believing otherwise.","body":"The computer is not wrong. If your code throws an IndexOutOfBoundsException then the index <b>is</b> out of bounds. There is no use believing otherwise."}],"answers":[{"tags":[],"owner":{"account_id":19862371,"reputation":46,"user_id":14550472,"display_name":"nps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638986759,"creation_date":1638986759,"answer_id":70279729,"question_id":70278863,"body_markdown":"\r\n     String[] osat = luettu.split(&quot; &quot;);\r\n     String komento = osat[0];\r\n     int maara = Integer.valueOf(osat[1]);\r\n\r\nYou&#39;re splitting the string based on space (&quot; &quot;). Now when there is the string &quot;lopeta 0&quot; you get the array [&quot;lopeta&quot;,&quot;0&quot;]. When you do osat[1] you get &quot;0&quot;, but when you only have string &quot;lopeta&quot; and you split the string the resulting array has only 1 element [&quot;lopeta&quot;]. So you&#39;ll get ArrayIndexoutOfBoundsException because there is no 2nd element.\r\n\r\nEither you can check the size of the array before accessing the element or if you have an idea about exceptions you can use a try, catch block to handle.","title":"Index out of bounds despite not being out of bounds?","body":"<pre><code> String[] osat = luettu.split(&quot; &quot;);\n String komento = osat[0];\n int maara = Integer.valueOf(osat[1]);\n</code></pre>\n<p>You're splitting the string based on space (&quot; &quot;). Now when there is the string &quot;lopeta 0&quot; you get the array [&quot;lopeta&quot;,&quot;0&quot;]. When you do osat[1] you get &quot;0&quot;, but when you only have string &quot;lopeta&quot; and you split the string the resulting array has only 1 element [&quot;lopeta&quot;]. So you'll get ArrayIndexoutOfBoundsException because there is no 2nd element.</p>\n<p>Either you can check the size of the array before accessing the element or if you have an idea about exceptions you can use a try, catch block to handle.</p>\n"}],"owner":{"account_id":23589962,"reputation":1,"user_id":17627898,"display_name":"kinkkelaade"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638986759,"creation_date":1638982636,"question_id":70278863,"body_markdown":"I&#39;m making a java program for schoolwork where you can add, move and remove stuff from containers. I have to use commands like &quot;add 100&quot; &quot;remove 50&quot;. The stop command &quot;lopeta&quot; is only one word, but other commands have two parts, command and int. When I use the stop command, I get Index out of bounds error, but everything else works. I guess it&#39;s because the stop command only has the word and no int, but how do I prevent this error from happening? It works if I use &quot;lopeta 0&quot;, but I want to only use &quot;lopeta&quot;. Sorry the names are in finnish but I hope you can make sense of this.\r\nHere&#39;s my code\r\n\r\n            String luettu = lukija.nextLine();\r\n            String[] osat = luettu.split(&quot; &quot;);\r\n            String komento = osat[0];\r\n            int maara = Integer.valueOf(osat[1]);\r\n            if(luettu.equals(&quot;lopeta&quot;)) {\r\n                    break;\r\n                } \r\n            if(komento.equals(&quot;lisaa&quot;)) {\r\n                if(maara &lt; 0) {\r\n                    ensimmainen = ensimmainen + 0;\r\n                } else {\r\n                    ensimmainen = ensimmainen + maara;\r\n                }\r\n                if(ensimmainen &gt; 100) {\r\n                    ensimmainen = 100;\r\n                }\r\n            } else if (komento.equals(&quot;siirra&quot;)) {\r\n                if(maara &lt; 0) {\r\n                    ensimmainen = ensimmainen + 0;\r\n                } if(maara &gt; ensimmainen) {\r\n                    ensimmainen = 0;\r\n                } if (toinen + maara &gt; 100) {\r\n                    toinen = 100;\r\n                } else {\r\n                    ensimmainen = ensimmainen - maara;\r\n                    toinen = toinen + maara;\r\n                }\r\n            } else if (komento.equals(&quot;poista&quot;)) {\r\n                if(maara &gt; toinen) {\r\n                    toinen = 0;\r\n                } else {\r\n                    toinen = toinen - maara;\r\n                }\r\n            }\r\n\r\n\r\n","title":"Index out of bounds despite not being out of bounds?","body":"<p>I'm making a java program for schoolwork where you can add, move and remove stuff from containers. I have to use commands like &quot;add 100&quot; &quot;remove 50&quot;. The stop command &quot;lopeta&quot; is only one word, but other commands have two parts, command and int. When I use the stop command, I get Index out of bounds error, but everything else works. I guess it's because the stop command only has the word and no int, but how do I prevent this error from happening? It works if I use &quot;lopeta 0&quot;, but I want to only use &quot;lopeta&quot;. Sorry the names are in finnish but I hope you can make sense of this.\nHere's my code</p>\n<pre><code>        String luettu = lukija.nextLine();\n        String[] osat = luettu.split(&quot; &quot;);\n        String komento = osat[0];\n        int maara = Integer.valueOf(osat[1]);\n        if(luettu.equals(&quot;lopeta&quot;)) {\n                break;\n            } \n        if(komento.equals(&quot;lisaa&quot;)) {\n            if(maara &lt; 0) {\n                ensimmainen = ensimmainen + 0;\n            } else {\n                ensimmainen = ensimmainen + maara;\n            }\n            if(ensimmainen &gt; 100) {\n                ensimmainen = 100;\n            }\n        } else if (komento.equals(&quot;siirra&quot;)) {\n            if(maara &lt; 0) {\n                ensimmainen = ensimmainen + 0;\n            } if(maara &gt; ensimmainen) {\n                ensimmainen = 0;\n            } if (toinen + maara &gt; 100) {\n                toinen = 100;\n            } else {\n                ensimmainen = ensimmainen - maara;\n                toinen = toinen + maara;\n            }\n        } else if (komento.equals(&quot;poista&quot;)) {\n            if(maara &gt; toinen) {\n                toinen = 0;\n            } else {\n                toinen = toinen - maara;\n            }\n        }\n</code></pre>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1638987240,"post_id":70279631,"comment_id":124235568,"body_markdown":"Without a [mcve], this question is unanswerable.  Note, the issues are only with URI encoding, so an mcve would only need logic for that as well as complete, valid test data, no JavaFX would be required at all.  For general info on valid URL characters, see: [Which characters make a URL invalid?](https://stackoverflow.com/questions/1547899/which-characters-make-a-url-invalid)","body":"Without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, this question is unanswerable.  Note, the issues are only with URI encoding, so an mcve would only need logic for that as well as complete, valid test data, no JavaFX would be required at all.  For general info on valid URL characters, see: <a href=\"https://stackoverflow.com/questions/1547899/which-characters-make-a-url-invalid\">Which characters make a URL invalid?</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1638988412,"post_id":70279631,"comment_id":124236016,"body_markdown":"You don&#39;t need awt functions for your logic, you can (and should) just use JavaFX functions: [HostServices.showDocument(String uri)](https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/HostServices.html#showDocument(java.lang.String)).  Even though the argument to the preferred function is a string, it should still only use a valid URI format and characters as specified in the link on the prior comment.","body":"You don&#39;t need awt functions for your logic, you can (and should) just use JavaFX functions: <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/HostServices.html#showDocument(java.lang.String)\" rel=\"nofollow noreferrer\">HostServices.showDocument(String uri)</a>.  Even though the argument to the preferred function is a string, it should still only use a valid URI format and characters as specified in the link on the prior comment."},{"owner":{"account_id":23529112,"reputation":1,"user_id":17575090,"display_name":"Falrym"},"score":1,"creation_date":1638992190,"post_id":70279631,"comment_id":124237295,"body_markdown":"Yeah thanks host services works. I spent a lot of time on this and everything I found was someone having a space in a URL.","body":"Yeah thanks host services works. I spent a lot of time on this and everything I found was someone having a space in a URL."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1638995098,"post_id":70279631,"comment_id":124238185,"body_markdown":"You may be interested in this [url encoding tutorial](https://www.baeldung.com/java-url-encoding-decoding) and the java [UrlEncoder](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLEncoder.html), in case you need to deal with urls which contain characters which cannot be interpreted unless they are encoded (though you wouldn&#39;t want to pass a fully encoded url to host services, e.g. only encode stuff in query string portions, otherwise it wouldn&#39;t understand the protocol).","body":"You may be interested in this <a href=\"https://www.baeldung.com/java-url-encoding-decoding\" rel=\"nofollow noreferrer\">url encoding tutorial</a> and the java <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLEncoder.html\" rel=\"nofollow noreferrer\">UrlEncoder</a>, in case you need to deal with urls which contain characters which cannot be interpreted unless they are encoded (though you wouldn&#39;t want to pass a fully encoded url to host services, e.g. only encode stuff in query string portions, otherwise it wouldn&#39;t understand the protocol)."}],"owner":{"account_id":23529112,"reputation":1,"user_id":17575090,"display_name":"Falrym"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638986668,"creation_date":1638986238,"question_id":70279631,"body_markdown":"I have a method that returns 5 Strings of URLs. It then puts the URLs into string variables for the event handler buttons to open the URL. \r\n\r\nI get the error: \r\n\r\n    Illegal character in query at index 67. \r\n\r\nIf I put the actual string URL, the button opens it:\r\n\r\n    &quot;https://www.youtube.com/watch?v=-BPMacaIwqg&amp;ab_channel=DryBarComedy,&quot; \r\n\r\nFrom my understanding, if the string variable contains the same string, it should open the link but it doesn&#39;t. Why?\r\n\r\n    public void returnVideoUrls() throws IOException {\r\n        UIController returnedFormats = new UIController();\r\n\r\n        // returns list of urls\r\n        // stores urls into an arraylist\r\n        ArrayList&lt;String&gt; formattedCode = returnedFormats.combineVideosUrl(videoText.getText());\r\n\r\n        //puts each url into a string\r\n        String yes1 = formattedCode.get(0);\r\n        String yes2 = formattedCode.get(1);\r\n        String yes3 = formattedCode.get(2);\r\n        String yes4 = formattedCode.get(3);\r\n        String yes5 = formattedCode.get(4);\r\n\r\n        //each event handler opens the link\r\n        videoButton1.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            public void handle(ActionEvent event){\r\n                try {\r\n                    Desktop.getDesktop().browse(new URI(yes1));\r\n                } catch (IOException | URISyntaxException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n\r\n        videoButton2.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            public void handle(ActionEvent event){\r\n                try {\r\n                    Desktop.getDesktop().browse(new URI(yes2));\r\n                } catch (IOException | URISyntaxException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n\r\n        videoButton3.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            public void handle(ActionEvent event){\r\n                try {\r\n                    Desktop.getDesktop().browse(new URI(yes3));\r\n                } catch (IOException | URISyntaxException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n\r\n        videoButton4.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            public void handle(ActionEvent event){\r\n                try {\r\n                    Desktop.getDesktop().browse(new URI(yes4));\r\n                } catch (IOException | URISyntaxException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n\r\n        videoButton5.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            public void handle(ActionEvent event){\r\n                try {\r\n                    Desktop.getDesktop().browse(new URI(yes5));\r\n                } catch (IOException | URISyntaxException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    }","title":"java.net.URISyntaxException: Illegal character in query at index 67 On Intellij platform (Java FX)","body":"<p>I have a method that returns 5 Strings of URLs. It then puts the URLs into string variables for the event handler buttons to open the URL.</p>\n<p>I get the error:</p>\n<pre><code>Illegal character in query at index 67. \n</code></pre>\n<p>If I put the actual string URL, the button opens it:</p>\n<pre><code>&quot;https://www.youtube.com/watch?v=-BPMacaIwqg&amp;ab_channel=DryBarComedy,&quot; \n</code></pre>\n<p>From my understanding, if the string variable contains the same string, it should open the link but it doesn't. Why?</p>\n<pre><code>public void returnVideoUrls() throws IOException {\n    UIController returnedFormats = new UIController();\n\n    // returns list of urls\n    // stores urls into an arraylist\n    ArrayList&lt;String&gt; formattedCode = returnedFormats.combineVideosUrl(videoText.getText());\n\n    //puts each url into a string\n    String yes1 = formattedCode.get(0);\n    String yes2 = formattedCode.get(1);\n    String yes3 = formattedCode.get(2);\n    String yes4 = formattedCode.get(3);\n    String yes5 = formattedCode.get(4);\n\n    //each event handler opens the link\n    videoButton1.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n        public void handle(ActionEvent event){\n            try {\n                Desktop.getDesktop().browse(new URI(yes1));\n            } catch (IOException | URISyntaxException e) {\n                e.printStackTrace();\n            }\n        }\n    });\n\n    videoButton2.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n        public void handle(ActionEvent event){\n            try {\n                Desktop.getDesktop().browse(new URI(yes2));\n            } catch (IOException | URISyntaxException e) {\n                e.printStackTrace();\n            }\n        }\n    });\n\n    videoButton3.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n        public void handle(ActionEvent event){\n            try {\n                Desktop.getDesktop().browse(new URI(yes3));\n            } catch (IOException | URISyntaxException e) {\n                e.printStackTrace();\n            }\n        }\n    });\n\n    videoButton4.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n        public void handle(ActionEvent event){\n            try {\n                Desktop.getDesktop().browse(new URI(yes4));\n            } catch (IOException | URISyntaxException e) {\n                e.printStackTrace();\n            }\n        }\n    });\n\n    videoButton5.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n        public void handle(ActionEvent event){\n            try {\n                Desktop.getDesktop().browse(new URI(yes5));\n            } catch (IOException | URISyntaxException e) {\n                e.printStackTrace();\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","html","xpath","jsoup"],"answers":[{"tags":[],"owner":{"account_id":17698173,"reputation":15901,"user_id":12848411,"display_name":"Md. Fazlul Hoque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638975002,"creation_date":1638975002,"answer_id":70276969,"question_id":70276243,"body_markdown":"You can try this.\r\n\r\n    //h2/following-sibling::text()\r\n\r\nOutput:\r\n\r\nnode:\r\n\r\n&lt;body&gt; Some text. &lt;h2&gt;A Heading&lt;/h2&gt; I would like to know how to specify an XPath expression for this text. &lt;h2&gt;Another Heading&lt;/h2&gt; Some more text. &lt;/body&gt;\r\n&lt;body&gt; Some text. &lt;h2&gt;A Heading&lt;/h2&gt; I would like to know how to specify an XPath expression for this text. &lt;h2&gt;Another Heading&lt;/h2&gt; Some \r\n\r\ntext value:\r\n\r\n    I would like to know how to specify an XPath expression for this text.\r\n    Some more text.","title":"HTML extract bare text node following H2 element in Body","body":"<p>You can try this.</p>\n<pre><code>//h2/following-sibling::text()\n</code></pre>\n<p>Output:</p>\n<p>node:</p>\n Some text. <h2>A Heading</h2> I would like to know how to specify an XPath expression for this text. <h2>Another Heading</h2> Some more text. \n Some text. <h2>A Heading</h2> I would like to know how to specify an XPath expression for this text. <h2>Another Heading</h2> Some \n<p>text value:</p>\n<pre><code>I would like to know how to specify an XPath expression for this text.\nSome more text.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3741908,"reputation":103,"user_id":3111529,"display_name":"Eddie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638986110,"creation_date":1638986110,"answer_id":70279603,"question_id":70276243,"body_markdown":"If I understand the question correctly, you want to select just the content under &quot;A Heading&quot; not both headings.\r\n\r\nTo achieve that goal, this should work:\r\n\r\n//h2[text()=&#39;A Heading&#39;]/following-sibling::text()[1]","title":"HTML extract bare text node following H2 element in Body","body":"<p>If I understand the question correctly, you want to select just the content under &quot;A Heading&quot; not both headings.</p>\n<p>To achieve that goal, this should work:</p>\n<p>//h2[text()='A Heading']/following-sibling::text()[1]</p>\n"}],"owner":{"account_id":21535210,"reputation":47,"user_id":17085543,"display_name":"Jeff Higgins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70276969,"answer_count":2,"score":0,"last_activity_date":1638986110,"creation_date":1638971947,"question_id":70276243,"body_markdown":"Attempting to extract the value of a text node within html body element. It immediately follows a known h2 tag which  I can find using h2[text() = &#39;A Heading&#39;]. But I cannot figure out how to get the following text node, that is the text &quot;I would like to know how to specify an XPath expression for this text.&quot; in the following example.\r\n\r\nAm using Java and JSoup, but any tool, preferably Java based\r\n\r\nAny assistance appreciated.\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n  &lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;title&gt;Finding Text following H2 tag&lt;/title&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n    Some text.\r\n    &lt;h2&gt;A Heading&lt;/h2&gt;\r\n    I would like to know how to specify an \r\n    XPath expression for this text.\r\n    &lt;h2&gt;Another Heading&lt;/h2&gt;\r\n    Some more text.\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"HTML extract bare text node following H2 element in Body","body":"<p>Attempting to extract the value of a text node within html body element. It immediately follows a known h2 tag which  I can find using h2[text() = 'A Heading']. But I cannot figure out how to get the following text node, that is the text &quot;I would like to know how to specify an XPath expression for this text.&quot; in the following example.</p>\n<p>Am using Java and JSoup, but any tool, preferably Java based</p>\n<p>Any assistance appreciated.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n  &lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;title&gt;Finding Text following H2 tag&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    Some text.\n    &lt;h2&gt;A Heading&lt;/h2&gt;\n    I would like to know how to specify an \n    XPath expression for this text.\n    &lt;h2&gt;Another Heading&lt;/h2&gt;\n    Some more text.\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","hashmap","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1638928371,"post_id":70268996,"comment_id":124216689,"body_markdown":"You can&#39;t &quot;keep the stream going&quot; after it&#39;s been collected. If you need to reference the map, store it in a variable and then call `forEach()`.","body":"You can&#39;t &quot;keep the stream going&quot; after it&#39;s been collected. If you need to reference the map, store it in a variable and then call <code>forEach()</code>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1638928464,"post_id":70268996,"comment_id":124216702,"body_markdown":"If you really want to avoid the extra variable, you can do `collectingAndThen(toMap(...), map -&gt; map.forEach(...))`.","body":"If you really want to avoid the extra variable, you can do <code>collectingAndThen(toMap(...), map -&gt; map.forEach(...))</code>."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1638928736,"post_id":70268996,"comment_id":124216747,"body_markdown":"&quot;I don&#39;t have to &quot;kill&quot; the stream, i.e. save the Map to a variable&quot; - collect() is a terminal op, there is no stream after it.","body":"&quot;I don&#39;t have to &quot;kill&quot; the stream, i.e. save the Map to a variable&quot; - collect() is a terminal op, there is no stream after it."},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":1,"creation_date":1638935468,"post_id":70268996,"comment_id":124217861,"body_markdown":"@shmosel i think this is what i wanted , if you post your comment as answer I&quot;ll accept as best answer thank you","body":"@shmosel i think this is what i wanted , if you post your comment as answer I&quot;ll accept as best answer thank you"}],"answers":[{"tags":[],"owner":{"account_id":17585365,"reputation":194,"user_id":12758199,"display_name":"The_Java_Guy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638930295,"creation_date":1638930295,"answer_id":70269183,"question_id":70268996,"body_markdown":"The `collect` operation in `Stream` is a terminal operation. So there is no `Stream` after `collect`. You would have to do something like below.\r\n```\r\nvar myMap = myHashSet.stream().\r\n.filter(i -&gt; i != null)\r\n.collectors(Collectors.toMap(key -&gt; &quot;key&quot;, val -&gt; &quot;val&quot;);\r\n\r\nmyMap.forEach((k,v) -&gt; {\r\n\r\n   // HERE IS WHERE I WANT TO CALL THE MAP CREATED ABOVE\r\n   if( MAP.contains(&quot;someRandomValue&quot;) {\r\n    \r\n    }\r\n\r\n\r\n}));\r\n```\r\n\r\nBelow article describes about the available intermediate operations in `Stream`.\r\n\r\nhttps://www.javacodegeeks.com/2020/04/java-8-stream-intermediate-operations-methods-examples.html","title":"Java 8 Streams - Call &quot;map&quot; during stream operations without saving to variable","body":"<p>The <code>collect</code> operation in <code>Stream</code> is a terminal operation. So there is no <code>Stream</code> after <code>collect</code>. You would have to do something like below.</p>\n<pre><code>var myMap = myHashSet.stream().\n.filter(i -&gt; i != null)\n.collectors(Collectors.toMap(key -&gt; &quot;key&quot;, val -&gt; &quot;val&quot;);\n\nmyMap.forEach((k,v) -&gt; {\n\n   // HERE IS WHERE I WANT TO CALL THE MAP CREATED ABOVE\n   if( MAP.contains(&quot;someRandomValue&quot;) {\n    \n    }\n\n\n}));\n</code></pre>\n<p>Below article describes about the available intermediate operations in <code>Stream</code>.</p>\n<p><a href=\"https://www.javacodegeeks.com/2020/04/java-8-stream-intermediate-operations-methods-examples.html\" rel=\"nofollow noreferrer\">https://www.javacodegeeks.com/2020/04/java-8-stream-intermediate-operations-methods-examples.html</a></p>\n"},{"tags":[],"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638985243,"creation_date":1638985243,"answer_id":70279413,"question_id":70268996,"body_markdown":"I solved this with @shmosel&#39;s help using `collectingAndThen`. This was the closest to what I wanted to do.\r\n\r\n```\r\nmyArrayList.stream().\r\n.collect(Collectors.collectingAndThen(Collectors.toMap(key -&gt; key.getName(), val -&gt; val), map -&gt; map.forEach((key, val) -&gt; System.out.println(map.contains(key)));\r\n```","title":"Java 8 Streams - Call &quot;map&quot; during stream operations without saving to variable","body":"<p>I solved this with @shmosel's help using <code>collectingAndThen</code>. This was the closest to what I wanted to do.</p>\n<pre><code>myArrayList.stream().\n.collect(Collectors.collectingAndThen(Collectors.toMap(key -&gt; key.getName(), val -&gt; val), map -&gt; map.forEach((key, val) -&gt; System.out.println(map.contains(key)));\n</code></pre>\n"}],"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":566,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1638985243,"creation_date":1638928236,"question_id":70268996,"body_markdown":"I could not find many answers to this, though I suppose its not possible, but I was curious - is there anyway in Java8 streams to &quot;refer&quot; or to &quot;call&quot; the HashMap that is created via the `.collectors(Collectors.toMap(key -&gt; &quot;key&quot;, val -&gt; &quot;val&quot;)`? I know I can save this resultant reduction which creates the Map to `Map&lt;String, String&gt; myMap` variable, but I still had to perform operations on this resultant HashMap and I wanted to keep the stream going, so I wanted to do something like this:\r\n\r\n```\r\nmyHashSet.stream().\r\n.filter(i -&gt; i != null)\r\n.collectors(Collectors.toMap(key -&gt; &quot;key&quot;, val -&gt; &quot;val&quot;)\r\n.forEach((k,v) -&gt; {\r\n\r\n   // HERE IS WHERE I WANT TO CALL THE MAP CREATED ABOVE\r\n   if( MAP.contains(&quot;someRandomValue&quot;) {\r\n    \r\n    }\r\n\r\n\r\n}));\r\n\r\n```\r\n\r\nI&#39;m assuming you can&#39;t do this, but I was hoping there was some method or something so I don&#39;t have to &quot;kill&quot; the stream, i.e. save the Map to a variable, then proceed to stream it out again etc...","title":"Java 8 Streams - Call &quot;map&quot; during stream operations without saving to variable","body":"<p>I could not find many answers to this, though I suppose its not possible, but I was curious - is there anyway in Java8 streams to &quot;refer&quot; or to &quot;call&quot; the HashMap that is created via the <code>.collectors(Collectors.toMap(key -&gt; &quot;key&quot;, val -&gt; &quot;val&quot;)</code>? I know I can save this resultant reduction which creates the Map to <code>Map&lt;String, String&gt; myMap</code> variable, but I still had to perform operations on this resultant HashMap and I wanted to keep the stream going, so I wanted to do something like this:</p>\n<pre><code>myHashSet.stream().\n.filter(i -&gt; i != null)\n.collectors(Collectors.toMap(key -&gt; &quot;key&quot;, val -&gt; &quot;val&quot;)\n.forEach((k,v) -&gt; {\n\n   // HERE IS WHERE I WANT TO CALL THE MAP CREATED ABOVE\n   if( MAP.contains(&quot;someRandomValue&quot;) {\n    \n    }\n\n\n}));\n\n</code></pre>\n<p>I'm assuming you can't do this, but I was hoping there was some method or something so I don't have to &quot;kill&quot; the stream, i.e. save the Map to a variable, then proceed to stream it out again etc...</p>\n"},{"tags":["java","android","android-studio","android-activity"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":2,"creation_date":1638983915,"post_id":70279034,"comment_id":124234265,"body_markdown":"Probably `onResume()` gets called multiple times, and as soon as you have 15 of them running, you&#39;ll get about one hit per second.","body":"Probably <code>onResume()</code> gets called multiple times, and as soon as you have 15 of them running, you&#39;ll get about one hit per second."},{"owner":{"account_id":23442360,"reputation":23,"user_id":17499695,"display_name":"Xkav1e"},"score":0,"creation_date":1638984999,"post_id":70279034,"comment_id":124234718,"body_markdown":"Hi @JayC667, yep, I have found one additional onResume(); and that was what was causing the issue.\n\nWould you please add your comment as an answer to mark it? Thank you.","body":"Hi @JayC667, yep, I have found one additional onResume(); and that was what was causing the issue.  Would you please add your comment as an answer to mark it? Thank you."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1638985659,"post_id":70279034,"comment_id":124234975,"body_markdown":"David&#39;s answer is even better, more detailed. Simply hit him with the points ;-)","body":"David&#39;s answer is even better, more detailed. Simply hit him with the points ;-)"}],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638985026,"creation_date":1638985026,"answer_id":70279364,"question_id":70279034,"body_markdown":"As @JayC667 says, you post this every time `onResume()` is called. So you will have multiple copies of this running. To prevent that, you can either post your `Runnable` in `onCreate()` or make sure that you remove any posted `Runnable` in `onPause()`.\r\n","title":"A loop action every 15 seconds it starts ok but lately it runs every second","body":"<p>As @JayC667 says, you post this every time <code>onResume()</code> is called. So you will have multiple copies of this running. To prevent that, you can either post your <code>Runnable</code> in <code>onCreate()</code> or make sure that you remove any posted <code>Runnable</code> in <code>onPause()</code>.</p>\n"}],"owner":{"account_id":23442360,"reputation":23,"user_id":17499695,"display_name":"Xkav1e"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70279364,"answer_count":1,"score":2,"last_activity_date":1638985026,"creation_date":1638983359,"question_id":70279034,"body_markdown":"I have a loop in my MainActivity.java:\r\n\r\n    public class MainActivity &lt;...&gt; {\r\n    \tHandler handler = new Handler();\r\n    \tRunnable runnable;\r\n    \tint delay = 15000;\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n    \t//super.onResume();\r\n    \r\n    \thandler.postDelayed(runnable = new Runnable() {\r\n    \t\tpublic void run() {\r\n    \t\t\thandler.postDelayed(runnable, delay);\r\n    \t\t\tLog.d(&quot;myTag&quot;, &quot;This is my message&quot;);\r\n    \t\t}\r\n    \t}, delay);\r\n    \tsuper.onResume();\r\n    \r\n    }\r\n\r\nAs said, at the beginning, the action runs every 15 seconds (not exact, sometimes 13, sometimes 16, etc., but as it keeps running) at some point starts to run every second:\r\n\r\nLogcat of last entries:\r\n\r\n    2021-12-08 18:06:35.329 25533-25533/com.app.xxxx D/myTag: This is my message\r\n    2021-12-08 18:06:38.135 25533-25533/com.app.xxxx D/myTag: This is my message\r\n    2021-12-08 18:06:39.318 25533-25533/com.app.xxxx D/myTag: This is my message\r\n    2021-12-08 18:06:39.667 25533-25533/com.app.xxxx D/myTag: This is my message\r\n    2021-12-08 18:06:48.967 25533-25533/com.app.xxxx D/myTag: This is my message\r\n    2021-12-08 18:06:50.330 25533-25533/com.app.xxxx D/myTag: This is my message\r\n    2021-12-08 18:06:53.138 25533-25533/com.app.xxxx D/myTag: This is my message\r\n    2021-12-08 18:06:54.320 25533-25533/com.app.xxxx D/myTag: This is my message\r\n    2021-12-08 18:06:54.669 25533-25533/com.app.xxxx D/myTag: This is my message\r\n    2021-12-08 18:07:03.968 25533-25533/com.app.xxxx D/myTag: This is my message\r\n    2021-12-08 18:07:05.332 25533-25533/com.app.xxxx D/myTag: This is my message\r\n    2021-12-08 18:07:08.140 25533-25533/com.app.xxxx D/myTag: This is my message\r\n\r\nAny ideas? Why is this happening?","title":"A loop action every 15 seconds it starts ok but lately it runs every second","body":"<p>I have a loop in my MainActivity.java:</p>\n<pre><code>public class MainActivity &lt;...&gt; {\n    Handler handler = new Handler();\n    Runnable runnable;\n    int delay = 15000;\n}\n\n@Override\npublic void onResume() {\n    //super.onResume();\n\n    handler.postDelayed(runnable = new Runnable() {\n        public void run() {\n            handler.postDelayed(runnable, delay);\n            Log.d(&quot;myTag&quot;, &quot;This is my message&quot;);\n        }\n    }, delay);\n    super.onResume();\n\n}\n</code></pre>\n<p>As said, at the beginning, the action runs every 15 seconds (not exact, sometimes 13, sometimes 16, etc., but as it keeps running) at some point starts to run every second:</p>\n<p>Logcat of last entries:</p>\n<pre><code>2021-12-08 18:06:35.329 25533-25533/com.app.xxxx D/myTag: This is my message\n2021-12-08 18:06:38.135 25533-25533/com.app.xxxx D/myTag: This is my message\n2021-12-08 18:06:39.318 25533-25533/com.app.xxxx D/myTag: This is my message\n2021-12-08 18:06:39.667 25533-25533/com.app.xxxx D/myTag: This is my message\n2021-12-08 18:06:48.967 25533-25533/com.app.xxxx D/myTag: This is my message\n2021-12-08 18:06:50.330 25533-25533/com.app.xxxx D/myTag: This is my message\n2021-12-08 18:06:53.138 25533-25533/com.app.xxxx D/myTag: This is my message\n2021-12-08 18:06:54.320 25533-25533/com.app.xxxx D/myTag: This is my message\n2021-12-08 18:06:54.669 25533-25533/com.app.xxxx D/myTag: This is my message\n2021-12-08 18:07:03.968 25533-25533/com.app.xxxx D/myTag: This is my message\n2021-12-08 18:07:05.332 25533-25533/com.app.xxxx D/myTag: This is my message\n2021-12-08 18:07:08.140 25533-25533/com.app.xxxx D/myTag: This is my message\n</code></pre>\n<p>Any ideas? Why is this happening?</p>\n"},{"tags":["java","multithreading","thread-safety"],"comments":[{"owner":{"account_id":2406691,"reputation":18212,"user_id":2102956,"display_name":"Pushpesh Kumar Rajwanshi"},"score":2,"creation_date":1552454079,"post_id":55134811,"comment_id":97010361,"body_markdown":"You only need to synchronize when multiple threads share a resource and if each thread has got its own copy of object, you don&#39;t need synchronization.","body":"You only need to synchronize when multiple threads share a resource and if each thread has got its own copy of object, you don&#39;t need synchronization."},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":2,"creation_date":1552454101,"post_id":55134811,"comment_id":97010365,"body_markdown":"If each incoming thread has its own instance of the class, then you _don&#39;t_ need to worry about thread safety, assuming only that thread which owns the instance would be accessing it.","body":"If each incoming thread has its own instance of the class, then you <i>don&#39;t</i> need to worry about thread safety, assuming only that thread which owns the instance would be accessing it."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1552454110,"post_id":55134811,"comment_id":97010368,"body_markdown":"This is a *really* complicated question. The simple answer is to make the class immutable (all fields final), which is thread-safe and a good idea whenever practical anyway.","body":"This is a <i>really</i> complicated question. The simple answer is to make the class immutable (all fields final), which is thread-safe and a good idea whenever practical anyway."},{"owner":{"account_id":15291410,"reputation":596,"user_id":11032808,"display_name":"Akash Shah"},"score":0,"creation_date":1552454135,"post_id":55134811,"comment_id":97010376,"body_markdown":"https://dzone.com/articles/7-techniques-for-thread-safe-classes","body":"<a href=\"https://dzone.com/articles/7-techniques-for-thread-safe-classes\" rel=\"nofollow noreferrer\">dzone.com/articles/7-techniques-for-thread-safe-classes</a>"}],"answers":[{"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1552456666,"creation_date":1552454404,"answer_id":55134892,"question_id":55134811,"body_markdown":"The way you presented it, if each thread has its one copy, then it can be called thread-safe, as maximum of accessing threads is one.\r\n\r\nAnother thing - if you declare your fields as `private` and create the instance of that class as `final`, then it&#39;s immutable (`final User user = new User(...)`). There are no setters, so the object cannot be modified as well as it cannot change its reference. If you wanted to keep the immutability, you would have to make setters return a new instance of this object with changed fields.\r\n\r\n@markspace noticed, that better approach would be to declare fields as final, because if you use the previous one and make `User` a member of some class, it won&#39;t work (unless final).","title":"How to make java class thread safe?","body":"<p>The way you presented it, if each thread has its one copy, then it can be called thread-safe, as maximum of accessing threads is one.</p>\n\n<p>Another thing - if you declare your fields as <code>private</code> and create the instance of that class as <code>final</code>, then it's immutable (<code>final User user = new User(...)</code>). There are no setters, so the object cannot be modified as well as it cannot change its reference. If you wanted to keep the immutability, you would have to make setters return a new instance of this object with changed fields.</p>\n\n<p>@markspace noticed, that better approach would be to declare fields as final, because if you use the previous one and make <code>User</code> a member of some class, it won't work (unless final).</p>\n"},{"tags":[],"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638984720,"creation_date":1552458795,"answer_id":55135738,"question_id":55134811,"body_markdown":"For a class to be thread safe, no matter how many threads are accessing it, its invariants and post-conditions should hold true. \r\n\r\nFor this class, although there are no write methods, you still need to synchronize the reads. This is because the compiler can cache the state variables (in this case `name` and `phone`) for each thread (remember each thread has its own set of registers). Thus, if one thread updates the value of any of the state variables, the other thread may not see it and it may read a stale value.\r\n\r\nA very easy way do avoid this would be to make the state variables `volatile`. It&#39;s a weak synchronization primitive though, and does not provide atomic behavior like `synchronized` does.\r\n\r\nHere&#39;s the proper way to make this class thread safe: \r\n\r\n     class User {\r\n    \r\n        GuardedBy(&quot;this&quot;)String name;\r\n        GuardedBy(&quot;this&quot;)String phone;\r\n    \r\n        public synchronized String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public synchronized String getPhone() {\r\n            return phone;\r\n        }\r\n    \r\n    }\r\n\r\nNote: Each state variable can use a different lock, depending upon your requirements. I have assumed that somehow both of these variables participate in an invariant together.\r\n\r\nWeak synchronization:\r\n\r\n     class User {\r\n    \r\n        volatile String name;\r\n        volatile String phone;\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public String getPhone() {\r\n            return phone;\r\n        }\r\n    \r\n    }\r\n\r\nFor `synchronized` methods, every time a thread invokes them, it flushes its cache and reads the latest value from memory, and every time it exists a `synchronized` method, it puts the latest values of the variables in memory.\r\n\r\nStale reads can be even more dangerous with `64b` `double` and `long`, as writes and reads to these data type in Java is not atomic, and can be done in 2 `32b` operations. This can lead to some very bad consequences.\r\n\r\nEdit: Just saw that each thread will have its own copy of the object. In that case, no synchronization is needed.","title":"How to make java class thread safe?","body":"<p>For a class to be thread safe, no matter how many threads are accessing it, its invariants and post-conditions should hold true.</p>\n<p>For this class, although there are no write methods, you still need to synchronize the reads. This is because the compiler can cache the state variables (in this case <code>name</code> and <code>phone</code>) for each thread (remember each thread has its own set of registers). Thus, if one thread updates the value of any of the state variables, the other thread may not see it and it may read a stale value.</p>\n<p>A very easy way do avoid this would be to make the state variables <code>volatile</code>. It's a weak synchronization primitive though, and does not provide atomic behavior like <code>synchronized</code> does.</p>\n<p>Here's the proper way to make this class thread safe:</p>\n<pre><code> class User {\n\n    GuardedBy(&quot;this&quot;)String name;\n    GuardedBy(&quot;this&quot;)String phone;\n\n    public synchronized String getName() {\n        return name;\n    }\n\n    public synchronized String getPhone() {\n        return phone;\n    }\n\n}\n</code></pre>\n<p>Note: Each state variable can use a different lock, depending upon your requirements. I have assumed that somehow both of these variables participate in an invariant together.</p>\n<p>Weak synchronization:</p>\n<pre><code> class User {\n\n    volatile String name;\n    volatile String phone;\n\n    public String getName() {\n        return name;\n    }\n\n    public String getPhone() {\n        return phone;\n    }\n\n}\n</code></pre>\n<p>For <code>synchronized</code> methods, every time a thread invokes them, it flushes its cache and reads the latest value from memory, and every time it exists a <code>synchronized</code> method, it puts the latest values of the variables in memory.</p>\n<p>Stale reads can be even more dangerous with <code>64b</code> <code>double</code> and <code>long</code>, as writes and reads to these data type in Java is not atomic, and can be done in 2 <code>32b</code> operations. This can lead to some very bad consequences.</p>\n<p>Edit: Just saw that each thread will have its own copy of the object. In that case, no synchronization is needed.</p>\n"},{"tags":[],"owner":{"account_id":6630058,"reputation":730,"user_id":5119030,"accept_rate":71,"display_name":"Mikheil Zhghenti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552477212,"creation_date":1552477212,"answer_id":55141051,"question_id":55134811,"body_markdown":"Thread Safe Class means that every changes (getting/setting values) into your `POJO` class are made `Thread Safely`.\r\n\r\nIt can be achieved by synchronization mechanism.\r\n\r\nThe general solution is to use **keyword** `synchronized` on the methods or even on your any private logically used object for this purpose. \r\n\r\nThis **keyword** just locks the object and you are guaranteed that only one thread will be available to access this method at any given time.\r\n\r\nBut the best practice (optimized solution) is to reduce code critical section and don&#39;t always use `synchronized` for an easy/&quot;fast&quot; solution.","title":"How to make java class thread safe?","body":"<p>Thread Safe Class means that every changes (getting/setting values) into your <code>POJO</code> class are made <code>Thread Safely</code>.</p>\n\n<p>It can be achieved by synchronization mechanism.</p>\n\n<p>The general solution is to use <strong>keyword</strong> <code>synchronized</code> on the methods or even on your any private logically used object for this purpose. </p>\n\n<p>This <strong>keyword</strong> just locks the object and you are guaranteed that only one thread will be available to access this method at any given time.</p>\n\n<p>But the best practice (optimized solution) is to reduce code critical section and don't always use <code>synchronized</code> for an easy/\"fast\" solution.</p>\n"}],"owner":{"account_id":1685193,"reputation":667,"user_id":1548650,"accept_rate":86,"display_name":"Manish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12701,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":55134892,"answer_count":3,"score":8,"last_activity_date":1638984720,"creation_date":1552453974,"question_id":55134811,"body_markdown":"I have a java class as below\r\n\r\n   \r\n\r\n     class User {\r\n        \r\n        String name;\r\n        String phone;\r\n        \r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public String getPhone() {\r\n            return phone;\r\n        }\r\n      \r\n    }\r\n\r\nThe way this class is used is, for every thread 1 object of this User class is created. Now since there is one copy of object for every thread, can i call this class as thread safe?\r\n\r\nDo I need to synchronize these methods?","title":"How to make java class thread safe?","body":"<p>I have a java class as below</p>\n\n<pre><code> class User {\n\n    String name;\n    String phone;\n\n    public String getName() {\n        return name;\n    }\n\n    public String getPhone() {\n        return phone;\n    }\n\n}\n</code></pre>\n\n<p>The way this class is used is, for every thread 1 object of this User class is created. Now since there is one copy of object for every thread, can i call this class as thread safe?</p>\n\n<p>Do I need to synchronize these methods?</p>\n"},{"tags":["java","function","constructor"],"comments":[{"owner":{"account_id":22410493,"reputation":13,"user_id":16619344,"display_name":"Crossager"},"score":0,"creation_date":1638981339,"post_id":70278331,"comment_id":124233188,"body_markdown":"I don&#39;t think you quite understood my question. I want to get the function that would return if you typed MyClass::new. Not an actual instance.","body":"I don&#39;t think you quite understood my question. I want to get the function that would return if you typed MyClass::new. Not an actual instance."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1638982290,"post_id":70278331,"comment_id":124233640,"body_markdown":"It&#39;s _possible_, but you almost never would want to actually do it. Are you asking for mere curiosity or because you&#39;re [trying to solve a specific problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem)?","body":"It&#39;s <i>possible</i>, but you almost never would want to actually do it. Are you asking for mere curiosity or because you&#39;re <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">trying to solve a specific problem</a>?"},{"owner":{"account_id":22410493,"reputation":13,"user_id":16619344,"display_name":"Crossager"},"score":0,"creation_date":1638982360,"post_id":70278331,"comment_id":124233670,"body_markdown":"I&#39;m doing some trickery with Minecraft plugin development and some internal Minecraft stuff needs this. Pardon my bad question asking skills, this is the first time I&#39;ve used stack overflow","body":"I&#39;m doing some trickery with Minecraft plugin development and some internal Minecraft stuff needs this. Pardon my bad question asking skills, this is the first time I&#39;ve used stack overflow"},{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":0,"creation_date":1638984160,"post_id":70278331,"comment_id":124234363,"body_markdown":"`Class&lt;MyClass&gt; c = MyClass.class; Function&lt;String, MyClass&gt; func = (String s) -&gt; { try { return c.getConstructor(String.class).newInstance(s); } catch (Exception e) { return null; } }; func.apply(&quot;test&quot;);`","body":"<code>Class&lt;MyClass&gt; c = MyClass.class; Function&lt;String, MyClass&gt; func = (String s) -&gt; { try { return c.getConstructor(String.class).newInstance(s); } catch (Exception e) { return null; } }; func.apply(&quot;test&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638984719,"creation_date":1638984233,"answer_id":70279209,"question_id":70278331,"body_markdown":"Using reflection, an instance of `Constructor&lt;MyClass&gt;` may be retrieved, but it is not convertible to `Function&lt;String, MyClass&gt;` directly.\r\n\r\nBut there method [`Constructor::newInstance`](https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Constructor.html#newInstance-java.lang.Object...-) but it throws several checked exceptions.  Therefore, a special functional interface supporting checked exceptions needs to be used instead of plain `Function`: \r\n```java\r\n@FunctionalInterface\r\npublic interface FunctionWithExceptions&lt;T, R, E extends Exception&gt; {\r\n    R apply(T t) throws E;\r\n}\r\n```\r\n\r\nThen the reference to the constructor&#39;s `newInstance` method may be created and used:\r\n```java\r\npublic class MyClass {\r\n    public MyClass(String str) {\r\n        System.out.println(str);\r\n    }\r\n\r\n    public static void main(String[] args) throws ReflectiveOperationException {\r\n        Function&lt;String, MyClass&gt; cons = MyClass::new;\r\n        System.out.println(cons);\r\n        cons.apply(&quot;Test lambda&quot;);\r\n\r\n        Constructor&lt;MyClass&gt; constructor = MyClass.class.getDeclaredConstructor(String.class);\r\n\r\n        System.out.println(constructor);\r\n        constructor.newInstance(&quot;Test constructor&quot;);\r\n\r\n        FunctionWithExceptions&lt;String, MyClass, ReflectiveOperationException&gt; funCons = constructor::newInstance;\r\n        System.out.println(funCons);\r\n        funCons.apply(&quot;Test reference to constructor newInstance&quot;);\r\n\r\n    }\r\n}\r\n```\r\nOutput:\r\n```java\r\nMyClass$$Lambda$14/0x0000000800066840@67b92f0a\r\nTest lambda\r\npublic MyClass(java.lang.String)\r\nTest constructor\r\nMyClass$$Lambda$15/0x0000000800066c40@61f8bee4\r\nTest reference to constructor newInstance\r\n```","title":"Can you get constructor function from an unknown class?","body":"<p>Using reflection, an instance of <code>Constructor&lt;MyClass&gt;</code> may be retrieved, but it is not convertible to <code>Function&lt;String, MyClass&gt;</code> directly.</p>\n<p>But there method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Constructor.html#newInstance-java.lang.Object...-\" rel=\"nofollow noreferrer\"><code>Constructor::newInstance</code></a> but it throws several checked exceptions.  Therefore, a special functional interface supporting checked exceptions needs to be used instead of plain <code>Function</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface FunctionWithExceptions&lt;T, R, E extends Exception&gt; {\n    R apply(T t) throws E;\n}\n</code></pre>\n<p>Then the reference to the constructor's <code>newInstance</code> method may be created and used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n    public MyClass(String str) {\n        System.out.println(str);\n    }\n\n    public static void main(String[] args) throws ReflectiveOperationException {\n        Function&lt;String, MyClass&gt; cons = MyClass::new;\n        System.out.println(cons);\n        cons.apply(&quot;Test lambda&quot;);\n\n        Constructor&lt;MyClass&gt; constructor = MyClass.class.getDeclaredConstructor(String.class);\n\n        System.out.println(constructor);\n        constructor.newInstance(&quot;Test constructor&quot;);\n\n        FunctionWithExceptions&lt;String, MyClass, ReflectiveOperationException&gt; funCons = constructor::newInstance;\n        System.out.println(funCons);\n        funCons.apply(&quot;Test reference to constructor newInstance&quot;);\n\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyClass$$Lambda$14/0x0000000800066840@67b92f0a\nTest lambda\npublic MyClass(java.lang.String)\nTest constructor\nMyClass$$Lambda$15/0x0000000800066c40@61f8bee4\nTest reference to constructor newInstance\n</code></pre>\n"}],"owner":{"account_id":22410493,"reputation":13,"user_id":16619344,"display_name":"Crossager"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70279209,"answer_count":1,"score":1,"last_activity_date":1638984719,"creation_date":1638980519,"question_id":70278331,"body_markdown":"Hey so I recently discovered this new thing in java, it allows you to reference static methods or constructors as a function. If a constructor looks like this\r\n\r\n    public MyClass(String str){\r\n        System.out.println(str);\r\n    }\r\n\r\nYou would be able to do something like this `MyClass::new` and it would then return java.util.function.Function&lt;String, MyClass&gt;. I was wondering if there was a way to get this function from the Class object of the class. So like \r\n\r\n    Class&lt;?&gt; class = MyClass.class;\r\n    // VVV Like this\r\n    Function&lt;String, MyClass&gt; func = class::new;\r\n\r\nor is it not possible. If you know how or if it even is possible, please let me know. Any help is appreciated.","title":"Can you get constructor function from an unknown class?","body":"<p>Hey so I recently discovered this new thing in java, it allows you to reference static methods or constructors as a function. If a constructor looks like this</p>\n<pre><code>public MyClass(String str){\n    System.out.println(str);\n}\n</code></pre>\n<p>You would be able to do something like this <code>MyClass::new</code> and it would then return java.util.function.Function&lt;String, MyClass&gt;. I was wondering if there was a way to get this function from the Class object of the class. So like</p>\n<pre><code>Class&lt;?&gt; class = MyClass.class;\n// VVV Like this\nFunction&lt;String, MyClass&gt; func = class::new;\n</code></pre>\n<p>or is it not possible. If you know how or if it even is possible, please let me know. Any help is appreciated.</p>\n"},{"tags":["java","maven","maven-archetype"],"owner":{"account_id":317746,"reputation":1391,"user_id":634594,"display_name":"gtosto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638984509,"creation_date":1596450225,"question_id":63227689,"body_markdown":"https://maven.apache.org/guides/mini/guide-creating-archetypes.html describes how to create a simple maven archetype and that&#39;s is pretty clear, I am here to ask if there is a way (and in case how) to manipulate properties defined in the archetype-descriptor. \r\n\r\nIn particular, how to get capitalized values of some properties? (without regard how user write them)\r\n\r\nFor example\r\n\r\n```xml\r\n&lt;archetype-descriptor name=&quot;example&quot; xmlns=&quot;http://maven.apache.org/plugins/maven-archetype-plugin/archetype-descriptor/1.0.0&quot; &gt;\r\n    \r\n  &lt;requiredProperties&gt;\r\n    &lt;requiredProperty key=&quot;name&quot;&gt;\r\n    &lt;/requiredProperty&gt;\r\n  &lt;/requiredProperties&gt;\r\n```\r\nI&#39;d like to have the value of key **name** capitalized ","title":"Get capitalized keys in maven archetypes","body":"<p><a href=\"https://maven.apache.org/guides/mini/guide-creating-archetypes.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-creating-archetypes.html</a> describes how to create a simple maven archetype and that's is pretty clear, I am here to ask if there is a way (and in case how) to manipulate properties defined in the archetype-descriptor.</p>\n<p>In particular, how to get capitalized values of some properties? (without regard how user write them)</p>\n<p>For example</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;archetype-descriptor name=&quot;example&quot; xmlns=&quot;http://maven.apache.org/plugins/maven-archetype-plugin/archetype-descriptor/1.0.0&quot; &gt;\n    \n  &lt;requiredProperties&gt;\n    &lt;requiredProperty key=&quot;name&quot;&gt;\n    &lt;/requiredProperty&gt;\n  &lt;/requiredProperties&gt;\n</code></pre>\n<p>I'd like to have the value of key <strong>name</strong> capitalized</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8213,"page":1779,"page_size":100}
