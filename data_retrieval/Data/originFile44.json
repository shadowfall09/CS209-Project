{"items":[{"tags":["java","hibernate","jpa","one-to-many"],"answers":[{"tags":[],"owner":{"account_id":58340,"reputation":208,"user_id":174666,"display_name":"Richard Perfect"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1258943409,"creation_date":1258943409,"answer_id":1780826,"question_id":1780299,"body_markdown":"Found the answer, - it was around getting the right combinations of nullable and insertable. Also had to make the &quot;child index&quot; at Integer so that it could be nullable, and there&#39;s also an &quot;optional&quot; flag in the following as well.\r\n\r\n    public class PolicyRoot extends BordereauxBaseDomainModel {\r\n    \r\n         private List&lt;Policy&gt; policyList = new ArrayList&lt;Policy&gt;();\r\n    \r\n        @OneToMany(cascade=CascadeType.ALL)\r\n        @IndexColumn(name=&quot;policy_sequence&quot;, nullable=false, base=0)\r\n        @JoinColumn(name=&quot;policy_root_oid&quot;, nullable=false)\r\n        public List&lt;Policy&gt; getPolicyList() {\r\n            return policyList;\r\n        }\r\n    \r\n        public void setPolicyList(List&lt;Policy&gt; policyList) {\r\n            this.policyList = policyList;\r\n        }\r\n    }\r\n    \r\n    \r\n    public class Policy extends BordereauxBaseDomainModel {\r\n    \r\n        /** The position of this policy record within the list of policy&#39;s belong to the parent PolicyRoot    */\r\n        private Integer policySequence;\r\n        \r\n        /** Birectional pointer to parent */\r\n        private PolicyRoot policyRoot;\r\n    \r\n    \t@Column(name=&quot;policy_sequence&quot;, insertable=false, updatable=false)\r\n        public Integer getPolicySequence() {\r\n            return policySequence;\r\n        }\r\n    \r\n        public void setPolicySequence(Integer policySequence) {\r\n            this.policySequence = policySequence;\r\n        }\r\n        \r\n        @ManyToOne(optional=false)\r\n    \t@JoinColumn(name=&quot;policy_root_oid&quot;, insertable=false, updatable=false, nullable=false)\r\n        public PolicyRoot getPolicyRoot() {\r\n    \t\treturn policyRoot;\r\n    \t}\r\n    \r\n    \tpublic void setPolicyRoot(PolicyRoot policyRoot) {\r\n    \t\tthis.policyRoot = policyRoot;\r\n    \t}\r\n    }\r\n\r\n\r\nFound the answers on the following page after searching Google for a while.\r\n\r\nhttp://opensource.atlassian.com/projects/hibernate/browse/HHH-4390\r\n","title":"How to get Hibernate JPA to manage list index automagically?","body":"<p>Found the answer, - it was around getting the right combinations of nullable and insertable. Also had to make the \"child index\" at Integer so that it could be nullable, and there's also an \"optional\" flag in the following as well.</p>\n\n<pre><code>public class PolicyRoot extends BordereauxBaseDomainModel {\n\n     private List&lt;Policy&gt; policyList = new ArrayList&lt;Policy&gt;();\n\n    @OneToMany(cascade=CascadeType.ALL)\n    @IndexColumn(name=\"policy_sequence\", nullable=false, base=0)\n    @JoinColumn(name=\"policy_root_oid\", nullable=false)\n    public List&lt;Policy&gt; getPolicyList() {\n        return policyList;\n    }\n\n    public void setPolicyList(List&lt;Policy&gt; policyList) {\n        this.policyList = policyList;\n    }\n}\n\n\npublic class Policy extends BordereauxBaseDomainModel {\n\n    /** The position of this policy record within the list of policy's belong to the parent PolicyRoot    */\n    private Integer policySequence;\n\n    /** Birectional pointer to parent */\n    private PolicyRoot policyRoot;\n\n    @Column(name=\"policy_sequence\", insertable=false, updatable=false)\n    public Integer getPolicySequence() {\n        return policySequence;\n    }\n\n    public void setPolicySequence(Integer policySequence) {\n        this.policySequence = policySequence;\n    }\n\n    @ManyToOne(optional=false)\n    @JoinColumn(name=\"policy_root_oid\", insertable=false, updatable=false, nullable=false)\n    public PolicyRoot getPolicyRoot() {\n        return policyRoot;\n    }\n\n    public void setPolicyRoot(PolicyRoot policyRoot) {\n        this.policyRoot = policyRoot;\n    }\n}\n</code></pre>\n\n<p>Found the answers on the following page after searching Google for a while.</p>\n\n<p><a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-4390\" rel=\"nofollow noreferrer\">http://opensource.atlassian.com/projects/hibernate/browse/HHH-4390</a></p>\n"},{"comments":[{"owner":{"account_id":335,"reputation":118442,"user_id":419,"accept_rate":90,"display_name":"Kev"},"score":3,"creation_date":1348007097,"post_id":12484258,"comment_id":16799250,"body_markdown":"Be careful when posting copy and paste boilerplate/verbatim answers to multiple questions, these tend to be flagged as &quot;spammy&quot; by the community. If you&#39;re doing this then it usually means the questions are duplicates so flag them as such instead: http://stackoverflow.com/a/12484278/419","body":"Be careful when posting copy and paste boilerplate/verbatim answers to multiple questions, these tend to be flagged as &quot;spammy&quot; by the community. If you&#39;re doing this then it usually means the questions are duplicates so flag them as such instead: <a href=\"http://stackoverflow.com/a/12484278/419\">stackoverflow.com/a/12484278/419</a>"}],"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1347999138,"creation_date":1347999138,"answer_id":12484258,"question_id":1780299,"body_markdown":"Do something like this:\r\n\r\n\r\n    @Entity\r\n    class Parent {\r\n\r\n        @OneToMany\r\n        @IndexColumn(name = &quot;index_column&quot;)\r\n        List&lt;Child&gt; children;\r\n    }\r\n\r\n    @Entity\r\n    class Child {\r\n\r\n        @ManyToOne\r\n        Parent parent;\r\n        @Column(name = &quot;index_column&quot;)\r\n        Integer index;\r\n\r\n        @PrePersist\r\n        @PreUpdate\r\n        private void prepareIndex() {\r\n            if (parent != null) {\r\n                index = parent.children.indexOf(this);\r\n            }\r\n        }\r\n    }\r\n","title":"How to get Hibernate JPA to manage list index automagically?","body":"<p>Do something like this:</p>\n\n<pre><code>@Entity\nclass Parent {\n\n    @OneToMany\n    @IndexColumn(name = \"index_column\")\n    List&lt;Child&gt; children;\n}\n\n@Entity\nclass Child {\n\n    @ManyToOne\n    Parent parent;\n    @Column(name = \"index_column\")\n    Integer index;\n\n    @PrePersist\n    @PreUpdate\n    private void prepareIndex() {\n        if (parent != null) {\n            index = parent.children.indexOf(this);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700676908,"creation_date":1662971793,"answer_id":73686536,"question_id":1780299,"body_markdown":"I&#39;m going to post this answer since I recently had the same issue and this question, although outdated, keeps coming up in the researches.\r\n\r\nThe [@IndexColumn][1] annotation was deprecated a long time ago. In fact, it is actually recommended to use the [@OrderColumn][2] annotation instead. This second annotation not only simplifies the syntax without having to specify the `base` attribute, but it also avoids declaring an extra field in the detail class (the `policySequence` field within the `Policy` class in this case). This is because, with the `@OrderColumn` annotation, Hibernate automatically understands to declare a field in the `Policy` table, name it with the annotation&#39;s attribute `name` and initialize it with the index that the object covers within the List.\r\n\r\nHere is the updated version of the previous snippet:\r\n\r\n```\r\n@Table(name = &quot;Policy_Root&quot;)\r\npublic class PolicyRoot extends BaseDomainModel {\r\n\r\n    private List&lt;Policy&gt; policyList = new ArrayList&lt;Policy&gt;();\r\n\r\n    @OneToMany(targetEntity = Policy.class, mappedBy = &quot;policyRoot&quot;, cascade = CascadeType.ALL)\r\n    @OrderColumn(name = &quot;policy_sequence&quot;, nullable = false)\r\n    public List&lt;Policy&gt; getPolicyList() {\r\n        return policyList;\r\n    }\r\n\r\n    public void setPolicyList(List&lt;Policy&gt; policyList) {\r\n        this.policyList = policyList;\r\n    }\r\n\r\n    public void addPolicy(Policy policy) {\r\n        policyList.add(policy);\r\n        policy.setPolicyRoot(this);\r\n    }\r\n\r\n    public void addPolicy(int sequence, Policy policy) {\r\n        policyList.add(sequence, policy);\r\n        policy.setPolicyRoot(this);\r\n    }\r\n}\r\n\r\n@Entity()\r\n@Table(name = &quot;Policy&quot;)\r\npublic class Policy extends BaseDomainModel {\r\n\r\n    //No need to declare the policySequence field\r\n\r\n    /** Birectional pointer to parent */\r\n    private PolicyRoot policyRoot;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;policy_root_oid&quot;, nullable=false)\r\n    public PolicyRoot getPolicyRoot() {\r\n        return policyRoot;\r\n    }\r\n\r\n    public void setPolicyRoot(PolicyRoot policyRoot) {\r\n        this.policyRoot = policyRoot;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.4/javadocs/org/hibernate/annotations/IndexColumn.html\r\n  [2]: https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/OrderColumn.html","title":"How to get Hibernate JPA to manage list index automagically?","body":"<p>I'm going to post this answer since I recently had the same issue and this question, although outdated, keeps coming up in the researches.</p>\n<p>The <a href=\"https://docs.jboss.org/hibernate/orm/5.4/javadocs/org/hibernate/annotations/IndexColumn.html\" rel=\"nofollow noreferrer\">@IndexColumn</a> annotation was deprecated a long time ago. In fact, it is actually recommended to use the <a href=\"https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/OrderColumn.html\" rel=\"nofollow noreferrer\">@OrderColumn</a> annotation instead. This second annotation not only simplifies the syntax without having to specify the <code>base</code> attribute, but it also avoids declaring an extra field in the detail class (the <code>policySequence</code> field within the <code>Policy</code> class in this case). This is because, with the <code>@OrderColumn</code> annotation, Hibernate automatically understands to declare a field in the <code>Policy</code> table, name it with the annotation's attribute <code>name</code> and initialize it with the index that the object covers within the List.</p>\n<p>Here is the updated version of the previous snippet:</p>\n<pre><code>@Table(name = &quot;Policy_Root&quot;)\npublic class PolicyRoot extends BaseDomainModel {\n\n    private List&lt;Policy&gt; policyList = new ArrayList&lt;Policy&gt;();\n\n    @OneToMany(targetEntity = Policy.class, mappedBy = &quot;policyRoot&quot;, cascade = CascadeType.ALL)\n    @OrderColumn(name = &quot;policy_sequence&quot;, nullable = false)\n    public List&lt;Policy&gt; getPolicyList() {\n        return policyList;\n    }\n\n    public void setPolicyList(List&lt;Policy&gt; policyList) {\n        this.policyList = policyList;\n    }\n\n    public void addPolicy(Policy policy) {\n        policyList.add(policy);\n        policy.setPolicyRoot(this);\n    }\n\n    public void addPolicy(int sequence, Policy policy) {\n        policyList.add(sequence, policy);\n        policy.setPolicyRoot(this);\n    }\n}\n\n@Entity()\n@Table(name = &quot;Policy&quot;)\npublic class Policy extends BaseDomainModel {\n\n    //No need to declare the policySequence field\n\n    /** Birectional pointer to parent */\n    private PolicyRoot policyRoot;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;policy_root_oid&quot;, nullable=false)\n    public PolicyRoot getPolicyRoot() {\n        return policyRoot;\n    }\n\n    public void setPolicyRoot(PolicyRoot policyRoot) {\n        this.policyRoot = policyRoot;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":58340,"reputation":208,"user_id":174666,"display_name":"Richard Perfect"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8708,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1700676908,"creation_date":1258929808,"question_id":1780299,"body_markdown":"How do I setup a basic OneToMany relationship using a List and get Hibernate JPA to manage the sequence index number of the list automagically? Can this be done?\r\n\r\nThis is my test case (more or less);\r\n\r\n    @Table(name=&quot;Policy_Root&quot;)\r\n    public class PolicyRoot extends BaseDomainModel {\r\n    \r\n        private List&lt;Policy&gt; policyList = new ArrayList&lt;Policy&gt;();\r\n    \r\n        @OneToMany(targetEntity=Policy.class, mappedBy=&quot;policyRoot&quot;, cascade=CascadeType.ALL)\r\n        @IndexColumn(name=&quot;policy_sequence&quot;, base=0, nullable=false)\r\n        public List&lt;Policy&gt; getPolicyList() {\r\n            return policyList;\r\n        }\r\n    \r\n        public void setPolicyList(List&lt;Policy&gt; policyList) {\r\n            this.policyList = policyList;\r\n        }\r\n        \r\n        public void addPolicy(Policy policy) {\r\n        \tpolicyList.add(policy);\r\n        \tpolicy.setPolicyRoot(this);\r\n        }\r\n        \r\n        public void addPolicy(int sequence, Policy policy) {\r\n        \tpolicyList.add(sequence, policy);\r\n        \tpolicy.setPolicyRoot(this);\r\n        }\r\n    }\r\n    \r\n    @Entity()\r\n    @Table(name=&quot;Policy&quot;)\r\n    public class Policy extends BaseDomainModel {\r\n    \r\n        /** The position of this policy record within the list of policy&#39;s belong to the parent PolicyRoot    */\r\n        private int policySequence;\r\n        \r\n        /** Birectional pointer to parent */\r\n        private PolicyRoot policyRoot;\r\n    \r\n    \t@Column(name=&quot;policy_sequence&quot;)\r\n        public int getPolicySequence() {\r\n            return policySequence;\r\n        }\r\n    \r\n        public void setPolicySequence(int policySequence) {\r\n            this.policySequence = policySequence;\r\n        }\r\n        \r\n        @ManyToOne\r\n    \t@JoinColumn(name=&quot;policy_root_oid&quot;, nullable=false)\r\n        public PolicyRoot getPolicyRoot() {\r\n    \t\treturn policyRoot;\r\n    \t}\r\n    \r\n    \tpublic void setPolicyRoot(PolicyRoot policyRoot) {\r\n    \t\tthis.policyRoot = policyRoot;\r\n    \t}\r\n    }\r\n    \r\n    \r\n    \t@Test\r\n    \tpublic void testCreation() {\r\n    \t\tPolicy policy1 = new Policy();\r\n    \t\tPolicy policy2 = new Policy();\r\n    \t\t\r\n    \t\t// Uncomment the following and the test case works - but I don&#39;t want to manage the sequence numbers\r\n    \t\t//policy2.setPolicySequence(1);\r\n    \t\t\r\n    \t\tPolicyRoot policyRoot = new PolicyRoot();\r\n    \t\tpolicyRoot.addPolicy(policy1);\r\n    \t\tpolicyRoot.addPolicy(policy2);\r\n    \t\t\r\n    \t\tServiceImplFacade.getPersistenceFacade().persistSingleItem(policyRoot);\r\n    \t\tLong oid = policyRoot.getOid();\r\n    \t\tPolicyRoot policyRootFromDB = ServiceImplFacade.getPersistenceFacade().getEntityManager().find(PolicyRoot.class, oid);\r\n    \t\t\r\n    \t\tassertEquals(2, policyRootFromDB.getPolicyList().size());\r\n    \t}\r\n\r\n\r\nIf I uncomment the policy2.setPolicySequence(1); line then the test case passes, but I don&#39;t think I need to do this. I want Hibernate to do this for me. My understanding is that it can, but if it can&#39;t then knowing that it can&#39;t would be a good answer as well.\r\n\r\nI&#39;ve tried various combinations of setting nullable, insertable and updateable but I may have missed one.\r\n\r\nIs this possible? - If so how?\r\n\r\n\r\n\r\n\r\n","title":"How to get Hibernate JPA to manage list index automagically?","body":"<p>How do I setup a basic OneToMany relationship using a List and get Hibernate JPA to manage the sequence index number of the list automagically? Can this be done?</p>\n\n<p>This is my test case (more or less);</p>\n\n<pre><code>@Table(name=\"Policy_Root\")\npublic class PolicyRoot extends BaseDomainModel {\n\n    private List&lt;Policy&gt; policyList = new ArrayList&lt;Policy&gt;();\n\n    @OneToMany(targetEntity=Policy.class, mappedBy=\"policyRoot\", cascade=CascadeType.ALL)\n    @IndexColumn(name=\"policy_sequence\", base=0, nullable=false)\n    public List&lt;Policy&gt; getPolicyList() {\n        return policyList;\n    }\n\n    public void setPolicyList(List&lt;Policy&gt; policyList) {\n        this.policyList = policyList;\n    }\n\n    public void addPolicy(Policy policy) {\n        policyList.add(policy);\n        policy.setPolicyRoot(this);\n    }\n\n    public void addPolicy(int sequence, Policy policy) {\n        policyList.add(sequence, policy);\n        policy.setPolicyRoot(this);\n    }\n}\n\n@Entity()\n@Table(name=\"Policy\")\npublic class Policy extends BaseDomainModel {\n\n    /** The position of this policy record within the list of policy's belong to the parent PolicyRoot    */\n    private int policySequence;\n\n    /** Birectional pointer to parent */\n    private PolicyRoot policyRoot;\n\n    @Column(name=\"policy_sequence\")\n    public int getPolicySequence() {\n        return policySequence;\n    }\n\n    public void setPolicySequence(int policySequence) {\n        this.policySequence = policySequence;\n    }\n\n    @ManyToOne\n    @JoinColumn(name=\"policy_root_oid\", nullable=false)\n    public PolicyRoot getPolicyRoot() {\n        return policyRoot;\n    }\n\n    public void setPolicyRoot(PolicyRoot policyRoot) {\n        this.policyRoot = policyRoot;\n    }\n}\n\n\n    @Test\n    public void testCreation() {\n        Policy policy1 = new Policy();\n        Policy policy2 = new Policy();\n\n        // Uncomment the following and the test case works - but I don't want to manage the sequence numbers\n        //policy2.setPolicySequence(1);\n\n        PolicyRoot policyRoot = new PolicyRoot();\n        policyRoot.addPolicy(policy1);\n        policyRoot.addPolicy(policy2);\n\n        ServiceImplFacade.getPersistenceFacade().persistSingleItem(policyRoot);\n        Long oid = policyRoot.getOid();\n        PolicyRoot policyRootFromDB = ServiceImplFacade.getPersistenceFacade().getEntityManager().find(PolicyRoot.class, oid);\n\n        assertEquals(2, policyRootFromDB.getPolicyList().size());\n    }\n</code></pre>\n\n<p>If I uncomment the policy2.setPolicySequence(1); line then the test case passes, but I don't think I need to do this. I want Hibernate to do this for me. My understanding is that it can, but if it can't then knowing that it can't would be a good answer as well.</p>\n\n<p>I've tried various combinations of setting nullable, insertable and updateable but I may have missed one.</p>\n\n<p>Is this possible? - If so how?</p>\n"},{"tags":["java","unit-testing","junit","mockito","junit5"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1700672856,"post_id":77531510,"comment_id":136684371,"body_markdown":"What language are you actually using?  What do you mean by reified?  You&#39;re using bits of Kotlin syntax, and I&#39;m not certain what version of Mockito in Java actually has a function called `mock()` with no arguments, because [this Javadoc](https://site.mockito.org/javadoc/current/org/mockito/Mockito.html) doesn&#39;t have such a method.","body":"What language are you actually using?  What do you mean by reified?  You&#39;re using bits of Kotlin syntax, and I&#39;m not certain what version of Mockito in Java actually has a function called <code>mock()</code> with no arguments, because <a href=\"https://site.mockito.org/javadoc/current/org/mockito/Mockito.html\" rel=\"nofollow noreferrer\">this Javadoc</a> doesn&#39;t have such a method."},{"owner":{"account_id":19235116,"reputation":638,"user_id":14056227,"display_name":"Gabriel Andrade"},"score":0,"creation_date":1700674681,"post_id":77531510,"comment_id":136684702,"body_markdown":"@LouisWasserman I&#39;m using Java. It&#39;s how Mockito&#39;s docs refer to the trick used to type infer ```mock()``` without specifing the class. Sorry if I confused the question somehow during my explanation, I&#39;ll make sure to clarify further if necessary. However, ever since version 4.9 of mockito-core it does have a ```mock()``` method with no arguments: [https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#mock(T...)](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#mock(T...))","body":"@LouisWasserman I&#39;m using Java. It&#39;s how Mockito&#39;s docs refer to the trick used to type infer <code>mock()</code> without specifing the class. Sorry if I confused the question somehow during my explanation, I&#39;ll make sure to clarify further if necessary. However, ever since version 4.9 of mockito-core it does have a <code>mock()</code> method with no arguments: <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#mock(T...)\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.mockito/mockito-core/latest/org/m&zwnj;&#8203;ockito/Mockito.html#&zwnj;&#8203;mock(T...)</a>"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700675705,"creation_date":1700675262,"answer_id":77532157,"question_id":77531510,"body_markdown":"The &quot;trick&quot; being used to reify generics does not work transitively: you cannot _yourself_ use generics and expect the trick to work.\r\n\r\n```\r\npublic static &lt;T extends ParentClass&gt; void withMockedConstruction(\r\n      Execution&lt;T&gt; execution) {\r\n    T mock = mock();\r\n```\r\n\r\nAt runtime, `T` is erased to `ParentClass`, and therefore `mock()` will reify `ParentClass`, not `T`.  (I suppose the implication is that this is a specific case where `@SafeVarargs` is actually wrong.)\r\n\r\nYou could _perhaps_ identify the parameter type of the lambda, potentially with a custom functional interface with a default method adopting a trick like [this one](https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/reflect/TypeToken.html#%3Cinit%3E(java.lang.Class)), but at that point you&#39;re not saving much of anything compared to simply passing the `Class`, since you must always specify the lambda argument type using parentheses.","title":"Mockito&#39;s reified mock method typing the mock as the superclass instead of generic type","body":"<p>The &quot;trick&quot; being used to reify generics does not work transitively: you cannot <em>yourself</em> use generics and expect the trick to work.</p>\n<pre><code>public static &lt;T extends ParentClass&gt; void withMockedConstruction(\n      Execution&lt;T&gt; execution) {\n    T mock = mock();\n</code></pre>\n<p>At runtime, <code>T</code> is erased to <code>ParentClass</code>, and therefore <code>mock()</code> will reify <code>ParentClass</code>, not <code>T</code>.  (I suppose the implication is that this is a specific case where <code>@SafeVarargs</code> is actually wrong.)</p>\n<p>You could <em>perhaps</em> identify the parameter type of the lambda, potentially with a custom functional interface with a default method adopting a trick like <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/reflect/TypeToken.html#%3Cinit%3E(java.lang.Class)\" rel=\"nofollow noreferrer\">this one</a>, but at that point you're not saving much of anything compared to simply passing the <code>Class</code>, since you must always specify the lambda argument type using parentheses.</p>\n"}],"owner":{"account_id":19235116,"reputation":638,"user_id":14056227,"display_name":"Gabriel Andrade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77532157,"answer_count":1,"score":0,"last_activity_date":1700675705,"creation_date":1700669428,"question_id":77531510,"body_markdown":"I want to provide a simpler interface (utility method) to mock a construction of a class we often need mocked in many tests because it&#39;s constructed by a third party library. This class is generic typed and has a method that return it&#39;s generics (```ClassIWantMockedConstructor&lt;T&gt; { whatever(): T }```). The utility method is something like this:\r\n\r\n```java\r\npublic interface Execution&lt;T extends ParentClass&gt; {\r\n    void execute(T mock) throws Exception;\r\n}\r\n    \r\npublic static &lt;T extends ParentClass&gt; void withMockedConstruction(Execution&lt;T&gt; execution) {\r\n    T mock = mock();\r\n    try (@SuppressWarnings(&quot;unused&quot;) MockedConstruction&lt;?&gt; construction = mockConstruction(\r\n            ClassIWantMockedConstructor.class,\r\n            (mocked, ctx) -&gt; when(mocked.whatever()).thenReturn(mock)\r\n    )) {\r\n        execution.execute(mock);\r\n    } catch (Throwable t) {\r\n        throw new RuntimeException(&quot;Unexpected error during tests, please check the tests&quot;, t);\r\n    }\r\n}\r\n```\r\n\r\nHowever, if I use ```withMockedConstruction``` passing an lambda typed with a child class of ParentClass, then ```T``` is still typed as ```ParentClass```. Which will cause a ```ClassCastException``` later down the line. Example:\r\n```java\r\n// When called like this\r\nwithMockedConstruction((ChildClass mockService) -&gt; { ... });\r\n\r\n// Then debugging\r\npublic static &lt;T extends ParentClass&gt; void withMockedConstruction(Execution&lt;T&gt; execution) {\r\n    T mock = mock(); // mock = Mock for ParentClass, T reified as ParentClass\r\n    ...\r\n        execution.execute(mock); // throws ClassCastException\r\n}\r\n```\r\n\r\nThe only way I could overcome this was by specifying manually a class for the mock, thus changing the signature to require the class as following:\r\n```java\r\n// Change signature to this:\r\npublic static &lt;T extends ParentClass&gt; void withMockedConstruction(Class&lt;T&gt; clazz, Execution&lt;T&gt; execution) {\r\n    T mock = mock(clazz); // mock = Mock for ChildClass normally\r\n    ...\r\n}\r\n\r\n// Calling like this, works as intended\r\nwithMockedConstruction(ChildClass.class, mockService -&gt; { ... });\r\n```\r\n\r\nIs there any way to achieved this result by using only refied?\r\nCan I force it somehow to check the refied type of a lambda function any way?\r\nIs using the class the best solution in this scenario?","title":"Mockito&#39;s reified mock method typing the mock as the superclass instead of generic type","body":"<p>I want to provide a simpler interface (utility method) to mock a construction of a class we often need mocked in many tests because it's constructed by a third party library. This class is generic typed and has a method that return it's generics (<code>ClassIWantMockedConstructor&lt;T&gt; { whatever(): T }</code>). The utility method is something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Execution&lt;T extends ParentClass&gt; {\n    void execute(T mock) throws Exception;\n}\n    \npublic static &lt;T extends ParentClass&gt; void withMockedConstruction(Execution&lt;T&gt; execution) {\n    T mock = mock();\n    try (@SuppressWarnings(&quot;unused&quot;) MockedConstruction&lt;?&gt; construction = mockConstruction(\n            ClassIWantMockedConstructor.class,\n            (mocked, ctx) -&gt; when(mocked.whatever()).thenReturn(mock)\n    )) {\n        execution.execute(mock);\n    } catch (Throwable t) {\n        throw new RuntimeException(&quot;Unexpected error during tests, please check the tests&quot;, t);\n    }\n}\n</code></pre>\n<p>However, if I use <code>withMockedConstruction</code> passing an lambda typed with a child class of ParentClass, then <code>T</code> is still typed as <code>ParentClass</code>. Which will cause a <code>ClassCastException</code> later down the line. Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// When called like this\nwithMockedConstruction((ChildClass mockService) -&gt; { ... });\n\n// Then debugging\npublic static &lt;T extends ParentClass&gt; void withMockedConstruction(Execution&lt;T&gt; execution) {\n    T mock = mock(); // mock = Mock for ParentClass, T reified as ParentClass\n    ...\n        execution.execute(mock); // throws ClassCastException\n}\n</code></pre>\n<p>The only way I could overcome this was by specifying manually a class for the mock, thus changing the signature to require the class as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Change signature to this:\npublic static &lt;T extends ParentClass&gt; void withMockedConstruction(Class&lt;T&gt; clazz, Execution&lt;T&gt; execution) {\n    T mock = mock(clazz); // mock = Mock for ChildClass normally\n    ...\n}\n\n// Calling like this, works as intended\nwithMockedConstruction(ChildClass.class, mockService -&gt; { ... });\n</code></pre>\n<p>Is there any way to achieved this result by using only refied?\nCan I force it somehow to check the refied type of a lambda function any way?\nIs using the class the best solution in this scenario?</p>\n"},{"tags":["java","serial-port","scale","hardware","point-of-sale"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700586704,"post_id":77523413,"comment_id":136671883,"body_markdown":"Why would you omit the make and model of the hardware from this question? You should, btw, *never* put application code, *particularly* IO code, into the ctor of your class","body":"Why would you omit the make and model of the hardware from this question? You should, btw, <i>never</i> put application code, <i>particularly</i> IO code, into the ctor of your class"},{"owner":{"account_id":28347380,"reputation":1,"user_id":21679354,"display_name":"Trung Kien Nguyen"},"score":0,"creation_date":1700597686,"post_id":77523413,"comment_id":136673743,"body_markdown":"Thank you for your advice. I have updated my question with the make and model of the electronic scale. Regarding the placement of the I/O code in the constructor, I understand your concern. This setup is currently just for my initial testing purposes to see if the electronic scale responds at all. I plan to refactor the code for better structure and error handling once I confirm the basic communication.","body":"Thank you for your advice. I have updated my question with the make and model of the electronic scale. Regarding the placement of the I/O code in the constructor, I understand your concern. This setup is currently just for my initial testing purposes to see if the electronic scale responds at all. I plan to refactor the code for better structure and error handling once I confirm the basic communication."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1700602038,"post_id":77523413,"comment_id":136674407,"body_markdown":"You probably need to consult the manual to find out what any communication protocols it has and how they work","body":"You probably need to consult the manual to find out what any communication protocols it has and how they work"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700676842,"post_id":77523413,"comment_id":136685044,"body_markdown":"*Specifically, when I pressed the &#39;s&#39; and &#39;w&#39; keys on the PuTTY terminal* And how did you come to this information? There&#39;s very little point in guessing the protocol but the expected input might need to be terminated by some kind of line separator, in which case, you&#39;d be advised to open a `PrintWriter` on the `OutputStream`","body":"<i>Specifically, when I pressed the &#39;s&#39; and &#39;w&#39; keys on the PuTTY terminal</i> And how did you come to this information? There&#39;s very little point in guessing the protocol but the expected input might need to be terminated by some kind of line separator, in which case, you&#39;d be advised to open a <code>PrintWriter</code> on the <code>OutputStream</code>"}],"owner":{"account_id":28347380,"reputation":1,"user_id":21679354,"display_name":"Trung Kien Nguyen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700674868,"creation_date":1700575272,"question_id":77523413,"body_markdown":"I am working on a project where I need to connect an electronic scale (T-Scale QTP 15MR) to my computer using a RS232-to-USB converter and read data from it using Java. I am certain about the COM port and the baud rate settings being correct. I have successfully opened the port using `serialPort.openPort();`. However, I&#39;m not receiving any data from the scale. I&#39;m wondering if I need to send any specific commands to the scale to initiate data transmission. Below is the code snippet I&#39;m using:\r\n\r\n```\r\npublic class Scale {\r\n\r\n    SerialPort serialPort;\r\n    String dataBuffer;\r\n\r\n    public Scale(String portName, int baudRate) {\r\n        try {\r\n            serialPort = SerialPort.getCommPort(portName);\r\n            serialPort.setBaudRate(baudRate);\r\n            serialPort.setNumDataBits(8);\r\n            serialPort.setNumStopBits(SerialPort.ONE_STOP_BIT);\r\n            serialPort.setParity(SerialPort.NO_PARITY);\r\n\r\n            serialPort.openPort();\r\n\r\n            if (serialPort.isOpen()) {\r\n                System.out.println(&quot;Port is opened&quot;);\r\n\r\n                serialPort.addDataListener(new SerialPortDataListener() {\r\n                    @Override\r\n                    public int getListeningEvents() {\r\n                        return SerialPort.LISTENING_EVENT_DATA_RECEIVED;\r\n                    }\r\n\r\n                    @Override\r\n                    public void serialEvent(SerialPortEvent serialPortEvent) {\r\n                        byte[] newData = serialPortEvent.getReceivedData();\r\n                        for (byte newDatum : newData) {\r\n                            dataBuffer += (char) newDatum;\r\n                            System.out.println(dataBuffer);\r\n                        }\r\n                    }\r\n                });\r\n            } else System.out.println(&quot;Port Open Failure&quot;);\r\n        } catch (Exception b) {\r\n            b.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen I call\r\n`new Scale(&quot;COM4&quot;, 9600);`\r\n\r\nMy questions are:\r\n\r\n1. Do electronic scales typically require specific commands to start sending data?\r\n2. Is there anything obviously missing or incorrect in my implementation that could be preventing data reception?\r\nAny insights or suggestions would be greatly appreciated.\r\n\r\nThank you!\r\n\r\nI attempted to connect an electronic scale to my computer using a RS232 to USB converter. Using the jSerialComm library in Java, I established a connection with the correct COM port and configured the baud rate. I expected that upon opening the port and setting up a DataListener, I would receive data from the scale through this Serial connection. However, even though the port opened successfully without any errors, I am not receiving any data from the scale. I am uncertain if I need to send a specific command to initiate the data transmission from the scale. I am seeking assistance from the community to better understand this issue and find a resolution.\r\n\r\n\r\nUPDATE\r\n\r\n&quot;I&#39;ve made further progress by using PuTTY to send data to the scale, and I successfully received responses. Specifically, when I pressed the &#39;s&#39; and &#39;w&#39; keys on the PuTTY terminal, the scale returned the expected results, as shown in the attached image. This indicates that the scale does respond to specific commands.\r\n[enter image description here][1]\r\nHowever, when I try to replicate this in my Java application using the following code:\r\n\r\n    private void sendSignal(String s) {\r\n        OutputStream os = serialPort.getOutputStream();\r\n        try {\r\n            os.write(s.getBytes());\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nAnd then calling `this.sendSignal(&quot;sw&quot;)`. I receive a null response instead of the expected data from the scale. It seems like there is a discrepancy in how the data is being sent or processed between PuTTY and my application. I would appreciate any insights or suggestions on how to troubleshoot this issue and successfully send commands from my Java application, similar to how it works in PuTTY.&quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9JJBn.png","title":"Java RS232 to USB Connection: No Data Received from Electronic Scale","body":"<p>I am working on a project where I need to connect an electronic scale (T-Scale QTP 15MR) to my computer using a RS232-to-USB converter and read data from it using Java. I am certain about the COM port and the baud rate settings being correct. I have successfully opened the port using <code>serialPort.openPort();</code>. However, I'm not receiving any data from the scale. I'm wondering if I need to send any specific commands to the scale to initiate data transmission. Below is the code snippet I'm using:</p>\n<pre><code>public class Scale {\n\n    SerialPort serialPort;\n    String dataBuffer;\n\n    public Scale(String portName, int baudRate) {\n        try {\n            serialPort = SerialPort.getCommPort(portName);\n            serialPort.setBaudRate(baudRate);\n            serialPort.setNumDataBits(8);\n            serialPort.setNumStopBits(SerialPort.ONE_STOP_BIT);\n            serialPort.setParity(SerialPort.NO_PARITY);\n\n            serialPort.openPort();\n\n            if (serialPort.isOpen()) {\n                System.out.println(&quot;Port is opened&quot;);\n\n                serialPort.addDataListener(new SerialPortDataListener() {\n                    @Override\n                    public int getListeningEvents() {\n                        return SerialPort.LISTENING_EVENT_DATA_RECEIVED;\n                    }\n\n                    @Override\n                    public void serialEvent(SerialPortEvent serialPortEvent) {\n                        byte[] newData = serialPortEvent.getReceivedData();\n                        for (byte newDatum : newData) {\n                            dataBuffer += (char) newDatum;\n                            System.out.println(dataBuffer);\n                        }\n                    }\n                });\n            } else System.out.println(&quot;Port Open Failure&quot;);\n        } catch (Exception b) {\n            b.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Then I call\n<code>new Scale(&quot;COM4&quot;, 9600);</code></p>\n<p>My questions are:</p>\n<ol>\n<li>Do electronic scales typically require specific commands to start sending data?</li>\n<li>Is there anything obviously missing or incorrect in my implementation that could be preventing data reception?\nAny insights or suggestions would be greatly appreciated.</li>\n</ol>\n<p>Thank you!</p>\n<p>I attempted to connect an electronic scale to my computer using a RS232 to USB converter. Using the jSerialComm library in Java, I established a connection with the correct COM port and configured the baud rate. I expected that upon opening the port and setting up a DataListener, I would receive data from the scale through this Serial connection. However, even though the port opened successfully without any errors, I am not receiving any data from the scale. I am uncertain if I need to send a specific command to initiate the data transmission from the scale. I am seeking assistance from the community to better understand this issue and find a resolution.</p>\n<p>UPDATE</p>\n<p>&quot;I've made further progress by using PuTTY to send data to the scale, and I successfully received responses. Specifically, when I pressed the 's' and 'w' keys on the PuTTY terminal, the scale returned the expected results, as shown in the attached image. This indicates that the scale does respond to specific commands.\n<a href=\"https://i.stack.imgur.com/9JJBn.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nHowever, when I try to replicate this in my Java application using the following code:</p>\n<pre><code>private void sendSignal(String s) {\n    OutputStream os = serialPort.getOutputStream();\n    try {\n        os.write(s.getBytes());\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>And then calling <code>this.sendSignal(&quot;sw&quot;)</code>. I receive a null response instead of the expected data from the scale. It seems like there is a discrepancy in how the data is being sent or processed between PuTTY and my application. I would appreciate any insights or suggestions on how to troubleshoot this issue and successfully send commands from my Java application, similar to how it works in PuTTY.&quot;</p>\n"},{"tags":["java","json","mongodb","updates","localdate"],"answers":[{"tags":[],"owner":{"account_id":12047607,"reputation":370,"user_id":9744390,"display_name":"Devesh Lohumi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700674767,"creation_date":1700674767,"answer_id":77532108,"question_id":77532023,"body_markdown":"Try using\r\n```\r\nCourse_details.$.Status\r\n```\r\n\r\nAlso maybe worthwhile changing from `MongoException` to `Exception` to catch any other exceptions that may be thrown, or catch others in another catch block. ","title":"updating a field in MongoDb using Java Sync driver","body":"<p>Try using</p>\n<pre><code>Course_details.$.Status\n</code></pre>\n<p>Also maybe worthwhile changing from <code>MongoException</code> to <code>Exception</code> to catch any other exceptions that may be thrown, or catch others in another catch block.</p>\n"}],"owner":{"account_id":12698288,"reputation":1,"user_id":9225997,"display_name":"Jean pierre Atanas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700674767,"creation_date":1700673926,"question_id":77532023,"body_markdown":"I have tried to update a field in the MongoDB database namely the &quot;Status&quot; field (of type integer) only between two dates FromDate and ToDate. \r\n\r\nno errors or warnings were obtained, however, the update is not reflected in the database.\r\n\r\n[The form containing the data to be updated ...](https://i.stack.imgur.com/Hi5WL.png)\r\n\r\n```\r\nJson File [{\r\n  &quot;_id&quot;: {\r\n    &quot;$oid&quot;: &quot;6523d6f1af7d835017c39fcf&quot;\r\n  },\r\n  &quot;StudentName&quot;: &quot;John Doe&quot;,\r\n  &quot;TutoringCourse&quot;: &quot;Excel&quot;,\r\n  &quot;Course_details&quot;: [\r\n    {\r\n      &quot;DateOfClass&quot;: &quot;2023-03-21T00:00:00.000+00:00&quot;,\r\n      &quot;SessionStart&quot;: &quot;16:00&quot;,\r\n      &quot;SessionEnd&quot;: &quot;18:00&quot;,\r\n      &quot;HourlyWage&quot;: 12.5,\r\n      &quot;Duration&quot;: 2,\r\n      &quot;Cost&quot;: 25,\r\n      &quot;Status&quot;: 1,\r\n      &quot;Notes&quot;: &quot;&quot;\r\n    },\r\n    {\r\n      &quot;DateOfClass&quot;: &quot;2023-03-31T00:00:00.000+00:00&quot;,\r\n      &quot;SessionStart&quot;: &quot;15:00&quot;,\r\n      &quot;SessionEnd&quot;: &quot;17:00&quot;,\r\n      &quot;HourlyWage&quot;: 12.5,\r\n      &quot;Duration&quot;: 2,\r\n      &quot;Cost&quot;: 25,\r\n      &quot;Status&quot;: 1,\r\n      &quot;Notes&quot;: &quot;&quot;\r\n    },..]\r\n}...]\r\n\r\nJava code:\r\n\tpublic void UpdateOneCourseDetailsPerIntervalOfDate() {\r\n\r\n\tList &lt;Bson&gt; updateOperation = new ArrayList&lt;Bson&gt;() ;\r\n\tBson update4,update5,update6,update7,update8,update9,update10;\r\n//t[2] editbox with FromDate , t[3] editbox with ToDate\r\n\tLocalDate FromDate = LocalDate.parse(t[2].getText());\r\n\tLocalDate ToDate = LocalDate.parse(t[3].getText());\r\n\t//nameList contains students names\r\n\tif(nameList.contains(t[0].getText()) &amp;&amp; !t[0].getText().isEmpty()) {\r\n\t\tIterator&lt;String&gt; iterator = SelectedFieldsItems.iterator();\r\n\t\twhile (iterator.hasNext())\r\n\t\t{\r\n\t\t\tString tmp = iterator.next();\r\n\t\t\tif(tmp instanceof String &amp;&amp; tmp != &quot;&quot;) {\r\n\t\t\t\r\n\t\t\tif(tmp == &quot;SessionStart&quot;) {\r\n\t\t\t\tupdate4 = Updates.set(&quot;Course_details.$[].SessionStart&quot;, t[4].getText());\r\n\t\t\t\tupdateOperation.add(update4);\r\n\t\t\t}\r\n\t\t\tif(tmp == &quot;SessionEnd&quot;) {\r\n\t\t\t\tupdate5 = Updates.set(&quot;Course_details.$[].SessionEnd&quot;, t[5].getText());\r\n\t\t\t\tupdateOperation.add(update5);\r\n\t\t\t}\r\n\t\t\tif(tmp == &quot;HourlyWage&quot;) {\r\n\t\t\t\tupdate6 = Updates.set(&quot;Course_details.$[].HourlyWage&quot;, t[6].getText());\r\n\t\t\t\tupdateOperation.add(update6);\r\n\t\t\t}\r\n\t\t\tif(tmp == &quot;Duration&quot;) {\r\n\t\t\t\tupdate7 = Updates.set(&quot;Course_details.$[].Duration&quot;, t[7].getText());\r\n\t\t\t\tupdateOperation.add(update7);\r\n\t\t\t}\r\n\t\t\tif(tmp == &quot;Cost&quot;) {\r\n\t\t\t\tupdate8 = Updates.set(&quot;Course_details.$[].Cost&quot;, t[8].getText());\r\n\t\t\t\tupdateOperation.add(update8);\r\n\t\t\t}\r\n\t\t\tif(tmp == &quot;Status&quot;) {\r\n\t\t\t\tupdate9 = Updates.set(&quot;Course_details.$[].Status&quot;, t[9].getText());\r\n\t\t\t\tupdateOperation.add(update9);\r\n\t\t\t\t}\r\n\t\t\tif(tmp == &quot;Notes&quot;) {\r\n\t\t\t\tupdate10 = Updates.set(&quot;Course_details.$[].Notes&quot;, t10.getText());\r\n\t\t\t\tupdateOperation.add(update10);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tJOptionPane.showMessageDialog(this,&quot;No fields are selected...&quot; ,&quot;Update failed operation&quot;,JOptionPane.INFORMATION_MESSAGE);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\r\n\t\t}//while loop\r\n\t\t\r\n\t   try{\r\n    \t\tDBConnection db = new DBConnection();\r\n    \t\tBson query = Filters.and(Filters.eq(&quot;StudentName&quot;, t[0].getText()),Filters.lte(&quot;Course_details.$[].DateOfClass&quot;, ToDate),\r\n\t\t\t\t\tFilters.gte(&quot;Course_details.$[].DateOfClass&quot;,FromDate));\r\n\r\n    \t\tUpdateResult r = db.getCollection().updateMany(query, Updates.combine(updateOperation));\r\n    \t\tstatusBar.setMessage(&quot;fields updated - count: &quot; + r.getMatchedCount());\r\n\t\t\t}\r\n        catch (MongoException me) {\r\n        \tstatusBar.setMessage(&quot;Unable to update fields: &quot; + me);\r\n        \t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tstatusBar.setMessage(&quot;Student is not in database!&quot;);\r\n\t\t\tJOptionPane.showMessageDialog(this,&quot;Student is not in database! please Check student name...&quot; ,&quot;Not in Database&quot;,JOptionPane.INFORMATION_MESSAGE);\r\n\t\t}\r\n\t\t\t\r\n}\r\n```\r\n\r\nThe date field in MongoDb is : \r\n\r\n[collection image in mongoDB](https://i.stack.imgur.com/OQZgI.png)","title":"updating a field in MongoDb using Java Sync driver","body":"<p>I have tried to update a field in the MongoDB database namely the &quot;Status&quot; field (of type integer) only between two dates FromDate and ToDate.</p>\n<p>no errors or warnings were obtained, however, the update is not reflected in the database.</p>\n<p><a href=\"https://i.stack.imgur.com/Hi5WL.png\" rel=\"nofollow noreferrer\">The form containing the data to be updated ...</a></p>\n<pre><code>Json File [{\n  &quot;_id&quot;: {\n    &quot;$oid&quot;: &quot;6523d6f1af7d835017c39fcf&quot;\n  },\n  &quot;StudentName&quot;: &quot;John Doe&quot;,\n  &quot;TutoringCourse&quot;: &quot;Excel&quot;,\n  &quot;Course_details&quot;: [\n    {\n      &quot;DateOfClass&quot;: &quot;2023-03-21T00:00:00.000+00:00&quot;,\n      &quot;SessionStart&quot;: &quot;16:00&quot;,\n      &quot;SessionEnd&quot;: &quot;18:00&quot;,\n      &quot;HourlyWage&quot;: 12.5,\n      &quot;Duration&quot;: 2,\n      &quot;Cost&quot;: 25,\n      &quot;Status&quot;: 1,\n      &quot;Notes&quot;: &quot;&quot;\n    },\n    {\n      &quot;DateOfClass&quot;: &quot;2023-03-31T00:00:00.000+00:00&quot;,\n      &quot;SessionStart&quot;: &quot;15:00&quot;,\n      &quot;SessionEnd&quot;: &quot;17:00&quot;,\n      &quot;HourlyWage&quot;: 12.5,\n      &quot;Duration&quot;: 2,\n      &quot;Cost&quot;: 25,\n      &quot;Status&quot;: 1,\n      &quot;Notes&quot;: &quot;&quot;\n    },..]\n}...]\n\nJava code:\n    public void UpdateOneCourseDetailsPerIntervalOfDate() {\n\n    List &lt;Bson&gt; updateOperation = new ArrayList&lt;Bson&gt;() ;\n    Bson update4,update5,update6,update7,update8,update9,update10;\n//t[2] editbox with FromDate , t[3] editbox with ToDate\n    LocalDate FromDate = LocalDate.parse(t[2].getText());\n    LocalDate ToDate = LocalDate.parse(t[3].getText());\n    //nameList contains students names\n    if(nameList.contains(t[0].getText()) &amp;&amp; !t[0].getText().isEmpty()) {\n        Iterator&lt;String&gt; iterator = SelectedFieldsItems.iterator();\n        while (iterator.hasNext())\n        {\n            String tmp = iterator.next();\n            if(tmp instanceof String &amp;&amp; tmp != &quot;&quot;) {\n            \n            if(tmp == &quot;SessionStart&quot;) {\n                update4 = Updates.set(&quot;Course_details.$[].SessionStart&quot;, t[4].getText());\n                updateOperation.add(update4);\n            }\n            if(tmp == &quot;SessionEnd&quot;) {\n                update5 = Updates.set(&quot;Course_details.$[].SessionEnd&quot;, t[5].getText());\n                updateOperation.add(update5);\n            }\n            if(tmp == &quot;HourlyWage&quot;) {\n                update6 = Updates.set(&quot;Course_details.$[].HourlyWage&quot;, t[6].getText());\n                updateOperation.add(update6);\n            }\n            if(tmp == &quot;Duration&quot;) {\n                update7 = Updates.set(&quot;Course_details.$[].Duration&quot;, t[7].getText());\n                updateOperation.add(update7);\n            }\n            if(tmp == &quot;Cost&quot;) {\n                update8 = Updates.set(&quot;Course_details.$[].Cost&quot;, t[8].getText());\n                updateOperation.add(update8);\n            }\n            if(tmp == &quot;Status&quot;) {\n                update9 = Updates.set(&quot;Course_details.$[].Status&quot;, t[9].getText());\n                updateOperation.add(update9);\n                }\n            if(tmp == &quot;Notes&quot;) {\n                update10 = Updates.set(&quot;Course_details.$[].Notes&quot;, t10.getText());\n                updateOperation.add(update10);\n                }\n            }\n            else\n            {\n                JOptionPane.showMessageDialog(this,&quot;No fields are selected...&quot; ,&quot;Update failed operation&quot;,JOptionPane.INFORMATION_MESSAGE);\n                return;\n            }\n    \n        }//while loop\n        \n       try{\n            DBConnection db = new DBConnection();\n            Bson query = Filters.and(Filters.eq(&quot;StudentName&quot;, t[0].getText()),Filters.lte(&quot;Course_details.$[].DateOfClass&quot;, ToDate),\n                    Filters.gte(&quot;Course_details.$[].DateOfClass&quot;,FromDate));\n\n            UpdateResult r = db.getCollection().updateMany(query, Updates.combine(updateOperation));\n            statusBar.setMessage(&quot;fields updated - count: &quot; + r.getMatchedCount());\n            }\n        catch (MongoException me) {\n            statusBar.setMessage(&quot;Unable to update fields: &quot; + me);\n            }\n        }\n        else\n        {\n            statusBar.setMessage(&quot;Student is not in database!&quot;);\n            JOptionPane.showMessageDialog(this,&quot;Student is not in database! please Check student name...&quot; ,&quot;Not in Database&quot;,JOptionPane.INFORMATION_MESSAGE);\n        }\n            \n}\n</code></pre>\n<p>The date field in MongoDb is :</p>\n<p><a href=\"https://i.stack.imgur.com/OQZgI.png\" rel=\"nofollow noreferrer\">collection image in mongoDB</a></p>\n"},{"tags":["java","spring-webflux","spring-boot-actuator"],"owner":{"account_id":23688461,"reputation":1,"user_id":17713087,"display_name":"user17713087"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700674509,"creation_date":1700674509,"question_id":77532079,"body_markdown":"this is the error:\r\n\r\n```\r\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1271)\r\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:494)     \r\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:349)         \r\n```\r\n\r\ngradle:\r\n\r\n```\r\nplugins {\r\n    id &quot;io.mateo.cxf-codegen&quot; version &quot;1.0.1&quot;\r\n}\r\n\r\next {\r\n    jacksonXmlVersion = &#39;2.13.3&#39;\r\n    resilience4jVersion = &#39;1.7.1&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation project(&#39;:domain-model&#39;)\r\n    implementation project.ext.webflux\r\n    implementation project.ext.mapstruct\r\n    annotationProcessor project.ext.mapstructprocessor\r\n    implementation(&quot;javax.xml.ws:jaxws-api:2.3.1&quot;)\r\n    implementation(&#39;javax.jws:javax.jws-api:1.1&#39;)\r\n    implementation(&quot;com.sun.xml.messaging.saaj:saaj-impl:2.0.1&quot;)\r\n    implementation(&quot;javax.xml.bind:jaxb-api:2.3.0&quot;)\r\n\r\n    implementation (&#39;org.springframework.boot:spring-boot-starter-aop:2.7.8&#39;)\r\n    implementation (&quot;io.github.resilience4j:resilience4j-spring-boot2:${resilience4jVersion}&quot;)\r\n    implementation (&quot;io.github.resilience4j:resilience4j-reactor:${resilience4jVersion}&quot;)\r\n    implementation (&#39;org.springframework.boot:spring-boot-starter-actuator:2.7.8&#39;)\r\n\r\n    implementation(&quot;com.sun.activation:javax.activation:1.2.0&quot;)\r\n    implementation(&quot;org.glassfish.jaxb:jaxb-runtime:2.3.3&quot;)\r\n    implementation(&quot;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:${jacksonXmlVersion}&quot;)\r\n    implementation(&quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:${jacksonXmlVersion}&quot;)\r\n    cxfCodegen (&quot;jakarta.xml.ws:jakarta.xml.ws-api:2.3.3&quot;)\r\n    cxfCodegen (&quot;jakarta.annotation:jakarta.annotation-api:1.3.5&quot;)\r\n}\r\n```\r\n\r\nIt is a project based on a hexagonal architecture, mainly oriented to webflux\r\n\r\nThe project is autoconfigured, how can I make it so that it only uses the actuator reactive beans?","title":"reactive.result.method.annotation.RequestMappingHandlerMapping available: expected single matching bean but found 2: ,controllerEndpointHandlerMapping","body":"<p>this is the error:</p>\n<pre><code>at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1271)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:494)     \nat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:349)         \n</code></pre>\n<p>gradle:</p>\n<pre><code>plugins {\n    id &quot;io.mateo.cxf-codegen&quot; version &quot;1.0.1&quot;\n}\n\next {\n    jacksonXmlVersion = '2.13.3'\n    resilience4jVersion = '1.7.1'\n}\n\ndependencies {\n    implementation project(':domain-model')\n    implementation project.ext.webflux\n    implementation project.ext.mapstruct\n    annotationProcessor project.ext.mapstructprocessor\n    implementation(&quot;javax.xml.ws:jaxws-api:2.3.1&quot;)\n    implementation('javax.jws:javax.jws-api:1.1')\n    implementation(&quot;com.sun.xml.messaging.saaj:saaj-impl:2.0.1&quot;)\n    implementation(&quot;javax.xml.bind:jaxb-api:2.3.0&quot;)\n\n    implementation ('org.springframework.boot:spring-boot-starter-aop:2.7.8')\n    implementation (&quot;io.github.resilience4j:resilience4j-spring-boot2:${resilience4jVersion}&quot;)\n    implementation (&quot;io.github.resilience4j:resilience4j-reactor:${resilience4jVersion}&quot;)\n    implementation ('org.springframework.boot:spring-boot-starter-actuator:2.7.8')\n\n    implementation(&quot;com.sun.activation:javax.activation:1.2.0&quot;)\n    implementation(&quot;org.glassfish.jaxb:jaxb-runtime:2.3.3&quot;)\n    implementation(&quot;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:${jacksonXmlVersion}&quot;)\n    implementation(&quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:${jacksonXmlVersion}&quot;)\n    cxfCodegen (&quot;jakarta.xml.ws:jakarta.xml.ws-api:2.3.3&quot;)\n    cxfCodegen (&quot;jakarta.annotation:jakarta.annotation-api:1.3.5&quot;)\n}\n</code></pre>\n<p>It is a project based on a hexagonal architecture, mainly oriented to webflux</p>\n<p>The project is autoconfigured, how can I make it so that it only uses the actuator reactive beans?</p>\n"},{"tags":["java","file-io"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1427277347,"post_id":29252341,"comment_id":46708442,"body_markdown":"Evidently host platform API used (because of the atomicity).","body":"Evidently host platform API used (because of the atomicity)."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1427277802,"post_id":29252341,"comment_id":46708735,"body_markdown":"In 2015 you don&#39;t want to use that anyway; use java.nio.file and `Files.createFile()`. At least it will throw a meaningful exception if it fails, unlike `File`&#39;s `.createNewFile()`.","body":"In 2015 you don&#39;t want to use that anyway; use java.nio.file and <code>Files.createFile()</code>. At least it will throw a meaningful exception if it fails, unlike <code>File</code>&#39;s <code>.createNewFile()</code>."}],"answers":[{"comments":[{"owner":{"account_id":5877017,"reputation":2197,"user_id":4627565,"accept_rate":100,"display_name":"Bionix1441"},"score":0,"creation_date":1427282498,"post_id":29252633,"comment_id":46711511,"body_markdown":"Is the implementation of native methods as well in the OpenJDK repository ?","body":"Is the implementation of native methods as well in the OpenJDK repository ?"},{"owner":{"account_id":3892970,"reputation":11166,"user_id":3222695,"display_name":"nikis"},"score":1,"creation_date":1427282976,"post_id":29252633,"comment_id":46711791,"body_markdown":"@Bionix1441 sure, take a look here http://stackoverflow.com/questions/12594046/java-native-method-source-code","body":"@Bionix1441 sure, take a look here <a href=\"http://stackoverflow.com/questions/12594046/java-native-method-source-code\" title=\"java native method source code\">stackoverflow.com/questions/12594046/&hellip;</a>"},{"owner":{"account_id":3892970,"reputation":11166,"user_id":3222695,"display_name":"nikis"},"score":1,"creation_date":1427284229,"post_id":29252633,"comment_id":46712581,"body_markdown":"@Bionix1441 I&#39;ve made and edit and added a link to the source file","body":"@Bionix1441 I&#39;ve made and edit and added a link to the source file"}],"tags":[],"owner":{"account_id":3892970,"reputation":11166,"user_id":3222695,"display_name":"nikis"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1427284188,"creation_date":1427277904,"answer_id":29252633,"question_id":29252341,"body_markdown":"You can take a look at the `OpenJDK` repository. What you are looking for is [this][1]. By looking into it, you can find, that this method calls `FileSystem.createFileExclusively(java.lang.String)`, where `FileSystem` is an abstract class and the concrete instance is obtained via `FileSystem.getFileSystem()` which is native method, specific for different platforms.\r\n\r\n**EDIT** Example for Win32 File System is [here][2] \r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/io/File.java#File.createNewFile%28%29\r\n  [2]: http://hg.openjdk.java.net/jdk6/jdk6/jdk/file/c228a234a3f3/src/windows/native/java/io/Win32FileSystem_md.c#l263","title":"How does createNewFile() work internally?","body":"<p>You can take a look at the <code>OpenJDK</code> repository. What you are looking for is <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/io/File.java#File.createNewFile%28%29\" rel=\"nofollow\">this</a>. By looking into it, you can find, that this method calls <code>FileSystem.createFileExclusively(java.lang.String)</code>, where <code>FileSystem</code> is an abstract class and the concrete instance is obtained via <code>FileSystem.getFileSystem()</code> which is native method, specific for different platforms.</p>\n\n<p><strong>EDIT</strong> Example for Win32 File System is <a href=\"http://hg.openjdk.java.net/jdk6/jdk6/jdk/file/c228a234a3f3/src/windows/native/java/io/Win32FileSystem_md.c#l263\" rel=\"nofollow\">here</a> </p>\n"}],"owner":{"account_id":5877017,"reputation":2197,"user_id":4627565,"accept_rate":100,"display_name":"Bionix1441"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":29252633,"answer_count":1,"score":0,"last_activity_date":1700674209,"creation_date":1427277113,"question_id":29252341,"body_markdown":"createNewFile():\r\n\r\n&gt; Atomically creates a new, empty file named by this abstract pathname\r\n&gt; if and only if a file with this name does not yet exist. The check for\r\n&gt; the existence of the file and the creation of the file if it does not\r\n&gt; exist are a single operation that is atomic with respect to all other\r\n&gt; filesystem activities that might affect the file.\r\n\r\nHow does it know if a file can be created or not? Does it depend on the host platform?","title":"How does createNewFile() work internally?","body":"<p>createNewFile():</p>\n<blockquote>\n<p>Atomically creates a new, empty file named by this abstract pathname\nif and only if a file with this name does not yet exist. The check for\nthe existence of the file and the creation of the file if it does not\nexist are a single operation that is atomic with respect to all other\nfilesystem activities that might affect the file.</p>\n</blockquote>\n<p>How does it know if a file can be created or not? Does it depend on the host platform?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":29509417,"reputation":41,"user_id":22614791,"display_name":"edith finch"},"score":0,"creation_date":1700659654,"post_id":77530312,"comment_id":136681563,"body_markdown":"Your code is not what i needed because 2.25 should be 225% not 125% but i removed the -1 and it worked. the issue is when it&#39;s only 1 digit. Example 1.08 shows 108% i want it to show 8%.","body":"Your code is not what i needed because 2.25 should be 225% not 125% but i removed the -1 and it worked. the issue is when it&#39;s only 1 digit. Example 1.08 shows 108% i want it to show 8%."},{"owner":{"account_id":13817170,"reputation":1662,"user_id":9973516,"display_name":"Ada"},"score":0,"creation_date":1700659744,"post_id":77530312,"comment_id":136681581,"body_markdown":"@edithfinch In your question you said this: `2.25 into 125%` , maybe change your question if this is not your desired behavior?","body":"@edithfinch In your question you said this: <code>2.25 into 125%</code> , maybe change your question if this is not your desired behavior?"},{"owner":{"account_id":29509417,"reputation":41,"user_id":22614791,"display_name":"edith finch"},"score":0,"creation_date":1700659842,"post_id":77530312,"comment_id":136681600,"body_markdown":"I&#39;m sorry i got confused. It&#39;s correct. 1.08 should show 8%, 1.50 should show 50%, 2.50 should show 150%. So ignore my last comment. I did some change to final int percentage = (int) ((number - 1) * 100); but it give me issues with numbers like 1.07 or 1.40","body":"I&#39;m sorry i got confused. It&#39;s correct. 1.08 should show 8%, 1.50 should show 50%, 2.50 should show 150%. So ignore my last comment. I did some change to final int percentage = (int) ((number - 1) * 100); but it give me issues with numbers like 1.07 or 1.40"},{"owner":{"account_id":13817170,"reputation":1662,"user_id":9973516,"display_name":"Ada"},"score":0,"creation_date":1700660151,"post_id":77530312,"comment_id":136681658,"body_markdown":"Changed my answer to give the correct output.","body":"Changed my answer to give the correct output."},{"owner":{"account_id":29509417,"reputation":41,"user_id":22614791,"display_name":"edith finch"},"score":0,"creation_date":1700660353,"post_id":77530312,"comment_id":136681693,"body_markdown":"Thanks for your answer but 2.15 shows 215% and 1.15 shows 14%","body":"Thanks for your answer but 2.15 shows 215% and 1.15 shows 14%"},{"owner":{"account_id":13817170,"reputation":1662,"user_id":9973516,"display_name":"Ada"},"score":0,"creation_date":1700660964,"post_id":77530312,"comment_id":136681825,"body_markdown":"I think now it should work, I fixed the rounding error.","body":"I think now it should work, I fixed the rounding error."},{"owner":{"account_id":29509417,"reputation":41,"user_id":22614791,"display_name":"edith finch"},"score":0,"creation_date":1700661020,"post_id":77530312,"comment_id":136681838,"body_markdown":"Works fine now. I got it before u but ill prefer your solution. Thanks a lot!","body":"Works fine now. I got it before u but ill prefer your solution. Thanks a lot!"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700663067,"post_id":77530312,"comment_id":136682241,"body_markdown":"@edithfinch Works fine? strange, I bet that for the input `2.25` it will print `225%`, and not `125%` as requested","body":"@edithfinch Works fine? strange, I bet that for the input <code>2.25</code> it will print <code>225%</code>, and not <code>125%</code> as requested"},{"owner":{"account_id":13817170,"reputation":1662,"user_id":9973516,"display_name":"Ada"},"score":0,"creation_date":1700663800,"post_id":77530312,"comment_id":136682401,"body_markdown":"@user85421 The first comment on my answer shows that the question was mistyped, the desired output for 2.25 is actually 225%. Note sure why they didn&#39;t update their question","body":"@user85421 The first comment on my answer shows that the question was mistyped, the desired output for 2.25 is actually 225%. Note sure why they didn&#39;t update their question"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1700664017,"post_id":77530312,"comment_id":136682458,"body_markdown":"@Ada I am aware of that, but in a [later comment](https://stackoverflow.com/questions/77530277/convert-double-into-percentage/77530312?noredirect=1#comment136681600_77530312) they state: &quot;*2.50 should show 150%. So **ignore my last comment**.*&quot; (emphasis added) -- Edith: I  think you must first decide what you want and then eventually edit the question!","body":"@Ada I am aware of that, but in a <a href=\"https://stackoverflow.com/questions/77530277/convert-double-into-percentage/77530312?noredirect=1#comment136681600_77530312\">later comment</a> they state: &quot;<i>2.50 should show 150%. So <b>ignore my last comment</b>.</i>&quot; (emphasis added) -- Edith: I  think you must first decide what you want and then eventually edit the question!"},{"owner":{"account_id":13817170,"reputation":1662,"user_id":9973516,"display_name":"Ada"},"score":0,"creation_date":1700664865,"post_id":77530312,"comment_id":136682616,"body_markdown":"@user85421 Thanks, I missed that! Fixed my answer.","body":"@user85421 Thanks, I missed that! Fixed my answer."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700670972,"post_id":77530312,"comment_id":136683960,"body_markdown":"@Ada, just use _[Math#floor](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Math.html#floor(double))_ here.","body":"@Ada, just use <i><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Math.html#floor(double)\" rel=\"nofollow noreferrer\">Math#floor</a></i> here."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1700738948,"post_id":77530312,"comment_id":136692767,"body_markdown":"Any reader, please be warned to **not** use `Math.floor()`: for example `double n = 1.40; int i = (int) Math.floor((n - 1) * 100)` will result in `39`, not `40` !  ((`1.40` is actually internally saved like `1.3999999...`))","body":"Any reader, please be warned to <b>not</b> use <code>Math.floor()</code>: for example <code>double n = 1.40; int i = (int) Math.floor((n - 1) * 100)</code> will result in <code>39</code>, not <code>40</code> !  ((<code>1.40</code> is actually internally saved like <code>1.3999999...</code>))"}],"tags":[],"owner":{"account_id":13817170,"reputation":1662,"user_id":9973516,"display_name":"Ada"},"comment_count":13,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1700664812,"creation_date":1700659467,"answer_id":77530312,"question_id":77530277,"body_markdown":"You can do it like this:\r\n```java\r\ndouble number = 1.15;\r\n\r\nint percentage = (int) Math.round((number - 1) * 100);\r\n\r\nSystem.out.println(percentage + &quot;%&quot;); // Output: 15%\r\n```\r\nTo convert a decimal numbers to its percentage representation as a percentage of 1 you need to subtract 1 first.","title":"Convert double into percentage","body":"<p>You can do it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double number = 1.15;\n\nint percentage = (int) Math.round((number - 1) * 100);\n\nSystem.out.println(percentage + &quot;%&quot;); // Output: 15%\n</code></pre>\n<p>To convert a decimal numbers to its percentage representation as a percentage of 1 you need to subtract 1 first.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700671856,"creation_date":1700670927,"answer_id":77531698,"question_id":77530277,"body_markdown":"&gt; _&quot;... How can i convert example 1.07 into 7%, 1.50 into 50%, 2.25 into 125% e.t.c. ...&quot;_\r\n\r\nThis appears to be _a &amp;minus; 1_, where _a_ is the value.\r\n\r\nHere is an example.\r\n\r\n```java\r\ndouble[] a = { 1.07, 1.50, 2.25 };\r\nfor (int i = 0, n = a.length; i &lt; n; i++)\r\n    a[i] = (a[i] - 1) * 100;\r\n```\r\n\r\nTo print the value, use the _[Formatter](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Formatter.html)_ class.\r\n\r\n```java\r\nSystem.out.printf(&quot;%.0f%%&quot;, Math.floor(a[2]));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n125%\r\n```\r\n\r\nAlternately, use the _[NumberFormat](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/NumberFormat.html)_ class.\\\r\nNote, this will multiply the value by _100_.\r\n\r\n```java\r\ndouble[] a = { 1.07, 1.50, 2.25 };\r\nNumberFormat f = NumberFormat.getPercentInstance();\r\nf.setRoundingMode(RoundingMode.FLOOR);\r\nf.setMaximumFractionDigits(0);\r\n```\r\n\r\n```java\r\nSystem.out.println(f.format(a[2] - 1));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n125%\r\n```","title":"Convert double into percentage","body":"<blockquote>\n<p><em>&quot;... How can i convert example 1.07 into 7%, 1.50 into 50%, 2.25 into 125% e.t.c. ...&quot;</em></p>\n</blockquote>\n<p>This appears to be <em>a − 1</em>, where <em>a</em> is the value.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[] a = { 1.07, 1.50, 2.25 };\nfor (int i = 0, n = a.length; i &lt; n; i++)\n    a[i] = (a[i] - 1) * 100;\n</code></pre>\n<p>To print the value, use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a></em> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;%.0f%%&quot;, Math.floor(a[2]));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>125%\n</code></pre>\n<p>Alternately, use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/NumberFormat.html\" rel=\"nofollow noreferrer\">NumberFormat</a></em> class.<br />\nNote, this will multiply the value by <em>100</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[] a = { 1.07, 1.50, 2.25 };\nNumberFormat f = NumberFormat.getPercentInstance();\nf.setRoundingMode(RoundingMode.FLOOR);\nf.setMaximumFractionDigits(0);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(f.format(a[2] - 1));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>125%\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700674112,"creation_date":1700673106,"answer_id":77531923,"question_id":77530277,"body_markdown":"Do not use `NumberFormat.getInstance()` for this.  The correct method for it is [NumberFormat.getPercentInstance](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/NumberFormat.html#getPercentInstance()).\r\n\r\nExample code:\r\n\r\n    private final NumberFormat PERCENTAGE_FORMAT = NumberFormat.getPercentInstance();\r\n\r\n    public void run() {\r\n        double value = 1.07;\r\n        String percentage = PERCENTAGE_FORMAT.format(value - 1);\r\n        System.out.println(percentage);\r\n    }\r\n\r\nNo need to append a `%` character.  And as a bonus, it will work in all languages without any additional effort on your part.\r\n\r\nNote:  NumberFormat is not thread-safe, so using a shared static instance is not advisable. Even a non-static field may be a problem, if a single instance of your class is used by multiple threads;  creating the NumberFormat inside the method would address this.\r\n","title":"Convert double into percentage","body":"<p>Do not use <code>NumberFormat.getInstance()</code> for this.  The correct method for it is <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/NumberFormat.html#getPercentInstance()\" rel=\"nofollow noreferrer\">NumberFormat.getPercentInstance</a>.</p>\n<p>Example code:</p>\n<pre><code>private final NumberFormat PERCENTAGE_FORMAT = NumberFormat.getPercentInstance();\n\npublic void run() {\n    double value = 1.07;\n    String percentage = PERCENTAGE_FORMAT.format(value - 1);\n    System.out.println(percentage);\n}\n</code></pre>\n<p>No need to append a <code>%</code> character.  And as a bonus, it will work in all languages without any additional effort on your part.</p>\n<p>Note:  NumberFormat is not thread-safe, so using a shared static instance is not advisable. Even a non-static field may be a problem, if a single instance of your class is used by multiple threads;  creating the NumberFormat inside the method would address this.</p>\n"}],"owner":{"account_id":29509417,"reputation":41,"user_id":22614791,"display_name":"edith finch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77530312,"answer_count":3,"score":0,"last_activity_date":1700674112,"creation_date":1700659173,"question_id":77530277,"body_markdown":"How can i convert example 1.07 into 7%, 1.50 into 50%, 2.25 into 125% e.t.c.\r\n\r\nMy code so far and it&#39;s not working:\r\n\r\n    private static final NumberFormat PERCENTAGE_FORMAT = NumberFormat.getInstance();\r\n    PERCENTAGE_FORMAT.setMaximumFractionDigits(0);\r\n    PERCENTAGE_FORMAT.format(1.07, &quot;%&quot;)","title":"Convert double into percentage","body":"<p>How can i convert example 1.07 into 7%, 1.50 into 50%, 2.25 into 125% e.t.c.</p>\n<p>My code so far and it's not working:</p>\n<pre><code>private static final NumberFormat PERCENTAGE_FORMAT = NumberFormat.getInstance();\nPERCENTAGE_FORMAT.setMaximumFractionDigits(0);\nPERCENTAGE_FORMAT.format(1.07, &quot;%&quot;)\n</code></pre>\n"},{"tags":["java","html","templates","freemarker"],"answers":[{"tags":[],"owner":{"account_id":27675716,"reputation":61,"user_id":21125580,"display_name":"Meet Mendapara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700673587,"creation_date":1700673587,"answer_id":77531990,"question_id":77531762,"body_markdown":" The &#39;+&#39; operator in FreeMarker is used to concatenate strings. Your syntax is a little strange, though. This is how to concatenate strings in FreeMarker the right way:\r\n\r\n    &lt;@spring.messageText &quot;resource.bundle.key&quot; + dataModel.value, &quot;undefined&quot;/&gt;\r\nIn this example, the value of ${dataModel.value} is concatenated with the constant string &quot;resource.bundle.key&quot;. ${} around dataModel.value inside the string is not required.\r\n\r\nYou can use brackets to ensure that there are no problems with the concatenation:\r\n\r\n    &lt;@spring.messageText (&quot;resource.bundle.key&quot; + dataModel.value), &quot;undefined&quot;/&gt;\r\nThis clearly states the order of operations.\r\n\r\nThe spring.messageText macro receives the concatenated string that results in both scenarios. Verify that the key created by concatenating &quot;resource.bundle.key&quot; with the value of dataModel.value is present in your resource bundle.\r\n\r\n","title":"How to concatene 2 strings in Freemarker template","body":"<p>The '+' operator in FreeMarker is used to concatenate strings. Your syntax is a little strange, though. This is how to concatenate strings in FreeMarker the right way:</p>\n<pre><code>&lt;@spring.messageText &quot;resource.bundle.key&quot; + dataModel.value, &quot;undefined&quot;/&gt;\n</code></pre>\n<p>In this example, the value of ${dataModel.value} is concatenated with the constant string &quot;resource.bundle.key&quot;. ${} around dataModel.value inside the string is not required.</p>\n<p>You can use brackets to ensure that there are no problems with the concatenation:</p>\n<pre><code>&lt;@spring.messageText (&quot;resource.bundle.key&quot; + dataModel.value), &quot;undefined&quot;/&gt;\n</code></pre>\n<p>This clearly states the order of operations.</p>\n<p>The spring.messageText macro receives the concatenated string that results in both scenarios. Verify that the key created by concatenating &quot;resource.bundle.key&quot; with the value of dataModel.value is present in your resource bundle.</p>\n"}],"owner":{"account_id":3346587,"reputation":674,"user_id":2811635,"accept_rate":62,"display_name":"Ousmane MBINTE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77531990,"answer_count":1,"score":0,"last_activity_date":1700673587,"creation_date":1700671480,"question_id":77531762,"body_markdown":"I try to concatane 2 strings in my Freemarker template. The first one it&#39;s a constant and the second one come from the data model and I use the concatened string to get a label in the resource bundle. I try several combinaisons but they&#39;re worked \r\n\r\n    &lt;@spring.messageText &quot;resource.bundle.key&quot; + ${dataModel.value}, &quot;undefined&quot;/&gt;\r\n    &lt;@spring.messageText ${&quot;resource.bundle.key&quot; + ${dataModel.value}}, &quot;undefined&quot;/&gt;\r\n\r\nthx","title":"How to concatene 2 strings in Freemarker template","body":"<p>I try to concatane 2 strings in my Freemarker template. The first one it's a constant and the second one come from the data model and I use the concatened string to get a label in the resource bundle. I try several combinaisons but they're worked</p>\n<pre><code>&lt;@spring.messageText &quot;resource.bundle.key&quot; + ${dataModel.value}, &quot;undefined&quot;/&gt;\n&lt;@spring.messageText ${&quot;resource.bundle.key&quot; + ${dataModel.value}}, &quot;undefined&quot;/&gt;\n</code></pre>\n<p>thx</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":7675884,"reputation":221,"user_id":5816787,"accept_rate":60,"display_name":"Diaconu Liviu"},"score":0,"creation_date":1466693951,"post_id":37994899,"comment_id":63434066,"body_markdown":"please excuse me with my questions. Why certain things are working android devices? And what do you recommend? replace bundle?","body":"please excuse me with my questions. Why certain things are working android devices? And what do you recommend? replace bundle?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1466698033,"post_id":37994899,"comment_id":63437074,"body_markdown":"@DiaconuLiviu, I cannot be certain what is the best solution for your particular situation, because the larger scope is unclear.  The answers to the other SO question I linked have some advice that you should consider, however.","body":"@DiaconuLiviu, I cannot be certain what is the best solution for your particular situation, because the larger scope is unclear.  The answers to the other SO question I linked have some advice that you should consider, however."},{"owner":{"account_id":7675884,"reputation":221,"user_id":5816787,"accept_rate":60,"display_name":"Diaconu Liviu"},"score":0,"creation_date":1466699435,"post_id":37994899,"comment_id":63437947,"body_markdown":"I solved a string url was not valid, java wrong pages each.","body":"I solved a string url was not valid, java wrong pages each."}],"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1466693025,"creation_date":1466693025,"answer_id":37994899,"question_id":37994639,"body_markdown":"The stack trace seems pretty clearly to point to the anonymous inner class instantiated for variable `mOnClickListener`.  This is the first inner class, in source order, appearing in class `TorrentPlayerFragment` (as indicated by the stack trace), and it contains an invocation of the method reported as throwing the NPE: `android.os.Bundle.getString(java.lang.String)`.  Specifically,\r\n\r\n                Bundle args = getArguments();\r\n                mStreamUrl  = args.getString(&quot;url&quot;);\r\n\r\nIt seems pretty likely that `getArguments()` is returning `null` in the affected environment.  This seems related to https://stackoverflow.com/questions/16561817/android-fragment-getarguments-returns-null, but I cannot be confident that the circumstances or solutions are the same.","title":"java.lang.NullPointerException error only from Galaxy samsung","body":"<p>The stack trace seems pretty clearly to point to the anonymous inner class instantiated for variable <code>mOnClickListener</code>.  This is the first inner class, in source order, appearing in class <code>TorrentPlayerFragment</code> (as indicated by the stack trace), and it contains an invocation of the method reported as throwing the NPE: <code>android.os.Bundle.getString(java.lang.String)</code>.  Specifically,</p>\n\n<pre><code>            Bundle args = getArguments();\n            mStreamUrl  = args.getString(\"url\");\n</code></pre>\n\n<p>It seems pretty likely that <code>getArguments()</code> is returning <code>null</code> in the affected environment.  This seems related to <a href=\"https://stackoverflow.com/questions/16561817/android-fragment-getarguments-returns-null\">Android Fragment getArguments() returns null</a>, but I cannot be confident that the circumstances or solutions are the same.</p>\n"}],"owner":{"account_id":7675884,"reputation":221,"user_id":5816787,"accept_rate":60,"display_name":"Diaconu Liviu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4753,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37994899,"answer_count":1,"score":1,"last_activity_date":1700673306,"creation_date":1466692367,"question_id":37994639,"body_markdown":"I received some reports of this error, but I have test equipment and everything goes right. Strange is that all error reports are sent from mobile samsung.\r\nAny idea what could be if I can not resolve it?\r\nerror code:\r\n   \r\n\r\n    &#218;ltimo informe\r\n    18 de jun. 4:57\r\n    Informes de esta semana\r\n    1\r\n    Informes totales\r\n    1\r\n    Versi&#243;n de la aplicaci&#243;n\r\n     \r\n    25\r\n    1\r\n    Versi&#243;n de Android\r\n     \r\n    Android 5.1\r\n    1\r\n    Dispositivo\r\n    Galaxy S6 Edge+ (zenlte) 1\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String android.os.Bundle.getString(java.lang.String)&#39; on a null object reference\r\n    \tat ro.vrt.videoplayerstreaming.TorrentPlayerFragment$1.onClick(TorrentPlayerFragment.java:107)\r\n    \tat android.view.View.performClick(View.java:5254)\r\n    \tat android.widget.TextView.performClick(TextView.java:10557)\r\n    \tat android.view.View$PerformClick.run(View.java:21203)\r\n    \tat android.os.Handler.handleCallback(Handler.java:739)\r\n    \tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n    \tat android.os.Looper.loop(Looper.java:145)\r\n    \tat android.app.ActivityThread.main(ActivityThread.java:6897)\r\n    \tat java.lang.reflect.Method.invoke(Native Method)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:372)\r\n    \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1404)\r\n    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1199)\r\n\r\n\r\n\r\nJava:\r\n\r\n        @SuppressLint(&quot;SetTextI18n&quot;)\r\n    public class TorrentPlayerFragment  extends Fragment  implements TorrentListener {\r\n    \r\n    \r\n        private Button button2;\r\n        private Button button;\r\n        private ProgressBar progressBar;\r\n        private TorrentStream torrentStream;\r\n    \r\n        String mStreamUrl;\r\n    \r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            View v = inflater.inflate(R.layout.activity_torrent_player_fragment, container, false);\r\n    \r\n    \r\n            mStreamUrl = ((EditText) v.findViewById(R.id.bTorrentUrl)).getText().toString();\r\n    \r\n            String action = getActivity().getIntent().getAction();\r\n            Uri data = getActivity().getIntent().getData();\r\n            if (action != null &amp;&amp; action.equals(Intent.ACTION_VIEW) &amp;&amp; data != null) {\r\n                try {\r\n                    mStreamUrl = URLDecoder.decode(data.toString(), &quot;utf-8&quot;);\r\n                } catch (UnsupportedEncodingException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            TorrentOptions torrentOptions = new TorrentOptions.Builder()\r\n                    .saveLocation(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS))\r\n                    .removeFilesAfterStop(true)\r\n                    .build();\r\n    \r\n            torrentStream = TorrentStream.init(torrentOptions);\r\n            torrentStream.addListener(this);\r\n    \r\n            button2 = (Button) v.findViewById(R.id.button2);\r\n            button2.setVisibility(View.GONE);\r\n    \r\n            button = (Button) v.findViewById(R.id.button);\r\n            button.setOnClickListener(mOnClickListener);\r\n            progressBar = (ProgressBar) v.findViewById(R.id.progress);\r\n    \r\n            progressBar.setMax(100);\r\n    \r\n    \r\n    \r\n            return v;\r\n    \r\n    \r\n        }\r\n        @Override\r\n        public void onResume() {\r\n            super.onResume();\r\n        }\r\n    \r\n        View.OnClickListener mOnClickListener = new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                progressBar.setProgress(0);\r\n                if(torrentStream.isStreaming()) {\r\n                    torrentStream.stopStream();\r\n                    button.setText(&quot;Start stream&quot;);\r\n                    button2.setVisibility(View.GONE);\r\n                    return;\r\n                }\r\n                Bundle args = getArguments();\r\n                mStreamUrl  = args.getString(&quot;url&quot;);\r\n                torrentStream.startStream(mStreamUrl);\r\n                button2.setVisibility(View.GONE);\r\n                button.setText(&quot;Stop stream&quot;);\r\n            }\r\n        };\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void onStreamPrepared(Torrent torrent) {\r\n            Log.d(&quot;Torrent&quot;, &quot;OnStreamPrepared&quot;);\r\n            torrent.startDownload();\r\n        }\r\n    \r\n        @Override\r\n        public void onStreamStarted(Torrent torrent) {\r\n            Log.d(&quot;Torrent&quot;, &quot;onStreamStarted&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onStreamError(Torrent torrent, Exception e) {\r\n            Log.e(&quot;Torrent&quot;, &quot;onStreamError&quot;, e);\r\n            button.setText(&quot;Start stream&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onStreamReady(Torrent torrent) {\r\n            progressBar.setProgress(100);\r\n            Log.d(&quot;Torrent&quot;, &quot;onStreamReady: &quot; + torrent.getVideoFile());\r\n    \r\n    \r\n            final String UrlFinalTorrent = torrent.getVideoFile().toString();\r\n    \r\n            button2.setVisibility(View.VISIBLE);\r\n    \r\n            button2.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(getActivity(), MainActivity.class);\r\n                    intent.putExtra(&quot;url&quot;, UrlFinalTorrent);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n        @Override\r\n        public void onStreamProgress(Torrent torrent, StreamStatus status) {\r\n            if(status.bufferProgress &lt;= 100 &amp;&amp; progressBar.getProgress() &lt; 100 &amp;&amp; progressBar.getProgress() != status.bufferProgress) {\r\n                Log.d(&quot;Torrent&quot;, &quot;Progress: &quot; + status.bufferProgress);\r\n                progressBar.setProgress(status.bufferProgress);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onStreamStopped() {\r\n            Log.d(&quot;Torrent&quot;, &quot;onStreamStopped&quot;);\r\n        }\r\n    }\r\n\r\nI think the problem comes from here:\r\n\r\n            final String UrlFinalTorrent = torrent.getVideoFile().toString();\r\n\r\n        button2.setVisibility(View.VISIBLE);\r\n\r\n        button2.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(getActivity(), MainActivity.class);\r\n                intent.putExtra(&quot;url&quot;, UrlFinalTorrent);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\nbut as I said I tried everything on android devices and on the emulator and things are working. But this error appears on Samsung devices.\r\nThank you.\r\n\r\n","title":"java.lang.NullPointerException error only from Galaxy samsung","body":"<p>I received some reports of this error, but I have test equipment and everything goes right. Strange is that all error reports are sent from mobile samsung.\nAny idea what could be if I can not resolve it?\nerror code:</p>\n\n<pre><code>Último informe\n18 de jun. 4:57\nInformes de esta semana\n1\nInformes totales\n1\nVersión de la aplicación\n\n25\n1\nVersión de Android\n\nAndroid 5.1\n1\nDispositivo\nGalaxy S6 Edge+ (zenlte) 1\njava.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.os.Bundle.getString(java.lang.String)' on a null object reference\n    at ro.vrt.videoplayerstreaming.TorrentPlayerFragment$1.onClick(TorrentPlayerFragment.java:107)\n    at android.view.View.performClick(View.java:5254)\n    at android.widget.TextView.performClick(TextView.java:10557)\n    at android.view.View$PerformClick.run(View.java:21203)\n    at android.os.Handler.handleCallback(Handler.java:739)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:145)\n    at android.app.ActivityThread.main(ActivityThread.java:6897)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1404)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1199)\n</code></pre>\n\n<p>Java:</p>\n\n<pre><code>    @SuppressLint(\"SetTextI18n\")\npublic class TorrentPlayerFragment  extends Fragment  implements TorrentListener {\n\n\n    private Button button2;\n    private Button button;\n    private ProgressBar progressBar;\n    private TorrentStream torrentStream;\n\n    String mStreamUrl;\n\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View v = inflater.inflate(R.layout.activity_torrent_player_fragment, container, false);\n\n\n        mStreamUrl = ((EditText) v.findViewById(R.id.bTorrentUrl)).getText().toString();\n\n        String action = getActivity().getIntent().getAction();\n        Uri data = getActivity().getIntent().getData();\n        if (action != null &amp;&amp; action.equals(Intent.ACTION_VIEW) &amp;&amp; data != null) {\n            try {\n                mStreamUrl = URLDecoder.decode(data.toString(), \"utf-8\");\n            } catch (UnsupportedEncodingException e) {\n                e.printStackTrace();\n            }\n        }\n\n        TorrentOptions torrentOptions = new TorrentOptions.Builder()\n                .saveLocation(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS))\n                .removeFilesAfterStop(true)\n                .build();\n\n        torrentStream = TorrentStream.init(torrentOptions);\n        torrentStream.addListener(this);\n\n        button2 = (Button) v.findViewById(R.id.button2);\n        button2.setVisibility(View.GONE);\n\n        button = (Button) v.findViewById(R.id.button);\n        button.setOnClickListener(mOnClickListener);\n        progressBar = (ProgressBar) v.findViewById(R.id.progress);\n\n        progressBar.setMax(100);\n\n\n\n        return v;\n\n\n    }\n    @Override\n    public void onResume() {\n        super.onResume();\n    }\n\n    View.OnClickListener mOnClickListener = new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            progressBar.setProgress(0);\n            if(torrentStream.isStreaming()) {\n                torrentStream.stopStream();\n                button.setText(\"Start stream\");\n                button2.setVisibility(View.GONE);\n                return;\n            }\n            Bundle args = getArguments();\n            mStreamUrl  = args.getString(\"url\");\n            torrentStream.startStream(mStreamUrl);\n            button2.setVisibility(View.GONE);\n            button.setText(\"Stop stream\");\n        }\n    };\n\n\n\n    @Override\n    public void onStreamPrepared(Torrent torrent) {\n        Log.d(\"Torrent\", \"OnStreamPrepared\");\n        torrent.startDownload();\n    }\n\n    @Override\n    public void onStreamStarted(Torrent torrent) {\n        Log.d(\"Torrent\", \"onStreamStarted\");\n    }\n\n    @Override\n    public void onStreamError(Torrent torrent, Exception e) {\n        Log.e(\"Torrent\", \"onStreamError\", e);\n        button.setText(\"Start stream\");\n    }\n\n    @Override\n    public void onStreamReady(Torrent torrent) {\n        progressBar.setProgress(100);\n        Log.d(\"Torrent\", \"onStreamReady: \" + torrent.getVideoFile());\n\n\n        final String UrlFinalTorrent = torrent.getVideoFile().toString();\n\n        button2.setVisibility(View.VISIBLE);\n\n        button2.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                Intent intent = new Intent(getActivity(), MainActivity.class);\n                intent.putExtra(\"url\", UrlFinalTorrent);\n                startActivity(intent);\n            }\n        });\n\n\n    }\n    @Override\n    public void onStreamProgress(Torrent torrent, StreamStatus status) {\n        if(status.bufferProgress &lt;= 100 &amp;&amp; progressBar.getProgress() &lt; 100 &amp;&amp; progressBar.getProgress() != status.bufferProgress) {\n            Log.d(\"Torrent\", \"Progress: \" + status.bufferProgress);\n            progressBar.setProgress(status.bufferProgress);\n        }\n    }\n\n    @Override\n    public void onStreamStopped() {\n        Log.d(\"Torrent\", \"onStreamStopped\");\n    }\n}\n</code></pre>\n\n<p>I think the problem comes from here:</p>\n\n<pre><code>        final String UrlFinalTorrent = torrent.getVideoFile().toString();\n\n    button2.setVisibility(View.VISIBLE);\n\n    button2.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View v) {\n            Intent intent = new Intent(getActivity(), MainActivity.class);\n            intent.putExtra(\"url\", UrlFinalTorrent);\n            startActivity(intent);\n        }\n    });\n</code></pre>\n\n<p>but as I said I tried everything on android devices and on the emulator and things are working. But this error appears on Samsung devices.\nThank you.</p>\n"},{"tags":["java","generics","casting"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1699924412,"post_id":77477609,"comment_id":136589366,"body_markdown":"They are not the same. In one case you are casting to `UnaryOperator&lt;T&gt;`, and in the other case you are casting to `UnaryOperator&lt;String&gt;`.  A &quot;why&quot; question like this isn&#39;t really answerable, because for every explanation I give, you can keep asking &quot;why is *that* the case?&quot; and we will be here forever. Can you describe what kind of answer you are looking for, and also show what you already know, so that we have some common ground?","body":"They are not the same. In one case you are casting to <code>UnaryOperator&lt;T&gt;</code>, and in the other case you are casting to <code>UnaryOperator&lt;String&gt;</code>.  A &quot;why&quot; question like this isn&#39;t really answerable, because for every explanation I give, you can keep asking &quot;why is <i>that</i> the case?&quot; and we will be here forever. Can you describe what kind of answer you are looking for, and also show what you already know, so that we have some common ground?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1699925452,"post_id":77477609,"comment_id":136589449,"body_markdown":"Of course, no one should do this in practice anyway.  The compiler warns that such code is unsafe for a reason.  Most typed generic casts are unsafe.  There is always a better way.","body":"Of course, no one should do this in practice anyway.  The compiler warns that such code is unsafe for a reason.  Most typed generic casts are unsafe.  There is always a better way."}],"answers":[{"tags":[],"owner":{"account_id":16217924,"reputation":23,"user_id":11710253,"display_name":"KevinJDK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699924816,"creation_date":1699924816,"answer_id":77477693,"question_id":77477609,"body_markdown":"I think in the second code snip it doesn&#39;t compile because the cast to `UnaryOperator&lt;String&gt;` would be unsafe and is not allowed to compile because of this. The `identityFunction()` is safe because it uses type erasure allowing it to work with generic types. The cast `(UnaryOperator&lt;T&gt;) IDENTITY_FN` is safe because of type erasure. At runtime, the Java type system erases the type variable T and replaces it with its bound or Object if it&#39;s unbounded. So at runtime, `UnaryOperator&lt;T&gt;` just becomes `UnaryOperator`, and `IDENTITY_FN` can be safely cast to this raw type.\r\n\r\nWhen you assign the result of `identityFunction()` to a variable of a specific type like `UnaryOperator&lt;String&gt;`, the Java compiler checks that the types are compatible. ","title":"Java : casting and generics","body":"<p>I think in the second code snip it doesn't compile because the cast to <code>UnaryOperator&lt;String&gt;</code> would be unsafe and is not allowed to compile because of this. The <code>identityFunction()</code> is safe because it uses type erasure allowing it to work with generic types. The cast <code>(UnaryOperator&lt;T&gt;) IDENTITY_FN</code> is safe because of type erasure. At runtime, the Java type system erases the type variable T and replaces it with its bound or Object if it's unbounded. So at runtime, <code>UnaryOperator&lt;T&gt;</code> just becomes <code>UnaryOperator</code>, and <code>IDENTITY_FN</code> can be safely cast to this raw type.</p>\n<p>When you assign the result of <code>identityFunction()</code> to a variable of a specific type like <code>UnaryOperator&lt;String&gt;</code>, the Java compiler checks that the types are compatible.</p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700673261,"creation_date":1700673261,"answer_id":77531942,"question_id":77477609,"body_markdown":"The cast of the expression `IDENTITY_FN` (which has type `UnaryOperator&lt;Object&gt;`) to type `UnaryOperator&lt;String&gt;` is disallowed at compile time because it is provably impossible for something to be both a `UnaryOperator&lt;Object&gt;` and a `UnaryOperator&lt;String&gt;` at the same time (i.e. there cannot be any type that is a subtype of both). Generic type arguments are invariant, so although `String` is a subtype of `Object`, `UnaryOperator&lt;String&gt;` is not a subtype of `UnaryOperator&lt;Object&gt;`, nor vice versa. And if an implementing class inherits from `UnaryOperator` twice, it is not allowed to inherit it with different type arguments in the two inheritances.\r\n\r\nOn the other hand, the cast of `IDENTITY_FN` (which has type `UnaryOperator&lt;Object&gt;`) to type `UnaryOperator&lt;T&gt;` is *not* disallowed at compile time, because it is possible for something to be a `UnaryOperator&lt;Object&gt;` and a `UnaryOperator&lt;T&gt;` at the same time -- namely, if `T` were `Object`, then `UnaryOperator&lt;Object&gt;` would be a subtype of both. Although it&#39;s also possible for this cast to be incorrect (i.e. when `T` is anything other than `Object`), since there is at least one case where it could be valid, the compiler cannot disallow it.","title":"Java : casting and generics","body":"<p>The cast of the expression <code>IDENTITY_FN</code> (which has type <code>UnaryOperator&lt;Object&gt;</code>) to type <code>UnaryOperator&lt;String&gt;</code> is disallowed at compile time because it is provably impossible for something to be both a <code>UnaryOperator&lt;Object&gt;</code> and a <code>UnaryOperator&lt;String&gt;</code> at the same time (i.e. there cannot be any type that is a subtype of both). Generic type arguments are invariant, so although <code>String</code> is a subtype of <code>Object</code>, <code>UnaryOperator&lt;String&gt;</code> is not a subtype of <code>UnaryOperator&lt;Object&gt;</code>, nor vice versa. And if an implementing class inherits from <code>UnaryOperator</code> twice, it is not allowed to inherit it with different type arguments in the two inheritances.</p>\n<p>On the other hand, the cast of <code>IDENTITY_FN</code> (which has type <code>UnaryOperator&lt;Object&gt;</code>) to type <code>UnaryOperator&lt;T&gt;</code> is <em>not</em> disallowed at compile time, because it is possible for something to be a <code>UnaryOperator&lt;Object&gt;</code> and a <code>UnaryOperator&lt;T&gt;</code> at the same time -- namely, if <code>T</code> were <code>Object</code>, then <code>UnaryOperator&lt;Object&gt;</code> would be a subtype of both. Although it's also possible for this cast to be incorrect (i.e. when <code>T</code> is anything other than <code>Object</code>), since there is at least one case where it could be valid, the compiler cannot disallow it.</p>\n"}],"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77531942,"answer_count":2,"score":1,"last_activity_date":1700673261,"creation_date":1699922761,"question_id":77477609,"body_markdown":"I have some understanding issue with generics\r\n\r\nI have this variable : `private static final UnaryOperator&lt;Object&gt; IDENTITY_FN = t -&gt; t;`\r\n\r\nI don&#39;t understand why this code compiles :\r\n\r\n    public static &lt;T&gt; UnaryOperator&lt;T&gt; identityFunction() {\r\n            return (UnaryOperator&lt;T&gt;) IDENTITY_FN;\r\n        }\r\n    \r\n    UnaryOperator&lt;String&gt; fn = identityFunction();\r\n\r\nBut... this code doesn&#39;t compile :\r\n\r\n    UnaryOperator&lt;String&gt; fn = (UnaryOperator&lt;String&gt;) IDENTITY_FN;\r\n\r\nIt looks basically the same for me","title":"Java : casting and generics","body":"<p>I have some understanding issue with generics</p>\n<p>I have this variable : <code>private static final UnaryOperator&lt;Object&gt; IDENTITY_FN = t -&gt; t;</code></p>\n<p>I don't understand why this code compiles :</p>\n<pre><code>public static &lt;T&gt; UnaryOperator&lt;T&gt; identityFunction() {\n        return (UnaryOperator&lt;T&gt;) IDENTITY_FN;\n    }\n\nUnaryOperator&lt;String&gt; fn = identityFunction();\n</code></pre>\n<p>But... this code doesn't compile :</p>\n<pre><code>UnaryOperator&lt;String&gt; fn = (UnaryOperator&lt;String&gt;) IDENTITY_FN;\n</code></pre>\n<p>It looks basically the same for me</p>\n"},{"tags":["java","class","methods","naming"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":3,"creation_date":1700671353,"post_id":77531696,"comment_id":136684055,"body_markdown":"Does this answer your question? [Purpose of a constructor in Java?](https://stackoverflow.com/questions/19941825/purpose-of-a-constructor-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19941825/purpose-of-a-constructor-in-java\">Purpose of a constructor in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700671835,"creation_date":1700671038,"answer_id":77531706,"question_id":77531696,"body_markdown":"`Animal` in this case isn&#39;t technically a method - it&#39;s a [constructor](https://en.wikipedia.org/wiki/Constructor_(object-oriented_programming)) - a special function that&#39;s called when you construct an instance using the `new` operator.\r\n\r\nYou can recognize it by the fact it shares the name of the class and has no return type.\r\n\r\nHaving said that, you definitely **can** have a method with the same name as the class the contains it. It&#39;s a bad practice because it may confuse people reading the code to think it&#39;s a constructor, but it&#39;s 100% possible.","title":"Why are the class and method names the same?","body":"<p><code>Animal</code> in this case isn't technically a method - it's a <a href=\"https://en.wikipedia.org/wiki/Constructor_(object-oriented_programming)\" rel=\"nofollow noreferrer\">constructor</a> - a special function that's called when you construct an instance using the <code>new</code> operator.</p>\n<p>You can recognize it by the fact it shares the name of the class and has no return type.</p>\n<p>Having said that, you definitely <strong>can</strong> have a method with the same name as the class the contains it. It's a bad practice because it may confuse people reading the code to think it's a constructor, but it's 100% possible.</p>\n"},{"tags":[],"owner":{"account_id":12628242,"reputation":233,"user_id":9180837,"display_name":"Sayed Sajad Hosseini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700671248,"creation_date":1700671248,"answer_id":77531733,"question_id":77531696,"body_markdown":" We can have a method name same as a class name in Java but it is not a good practice to do so. but in here the **Animal** is not just a normal method it is a constructor.","title":"Why are the class and method names the same?","body":"<p>We can have a method name same as a class name in Java but it is not a good practice to do so. but in here the <strong>Animal</strong> is not just a normal method it is a constructor.</p>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700673233,"post_id":77531890,"comment_id":136684441,"body_markdown":"a constructor without arguments is not necessarily a *default constructor*! A *default constructor*, is the constructor created by the compiler if no other is given in code. It usually has no arguments, but if we declare a no-args constructor it is not the *default* one ([JLS 8.8.9. Default Constructor](https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.8.9))","body":"a constructor without arguments is not necessarily a <i>default constructor</i>! A <i>default constructor</i>, is the constructor created by the compiler if no other is given in code. It usually has no arguments, but if we declare a no-args constructor it is not the <i>default</i> one (<a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.8.9\" rel=\"nofollow noreferrer\">JLS 8.8.9. Default Constructor</a>)"},{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1700675063,"post_id":77531890,"comment_id":136684762,"body_markdown":"It&#39;s same (synonymous). Compiler creates *default constructor* which is no-args one. So, why it&#39;s not the default one if I provide it explicitly? You have literally taken words from the JLS, but read also how it defines four points of the default constructor created by compiler. P. S. `public Person() { }` **is** the default constructor for `class Person { }` (unless there is other constructor defined and no-args one omitted purposefully, in which case, default constructor won&#39;t be generated) disregarding of whether it&#39;s created explicitly by programmer or implicitly by compiler.","body":"It&#39;s same (synonymous). Compiler creates <i>default constructor</i> which is no-args one. So, why it&#39;s not the default one if I provide it explicitly? You have literally taken words from the JLS, but read also how it defines four points of the default constructor created by compiler. P. S. <code>public Person() { }</code> <b>is</b> the default constructor for <code>class Person { }</code> (unless there is other constructor defined and no-args one omitted purposefully, in which case, default constructor won&#39;t be generated) disregarding of whether it&#39;s created explicitly by programmer or implicitly by compiler."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700676049,"post_id":77531890,"comment_id":136684913,"body_markdown":"because if *we* declare such a constructor, it is not the *default constructor* - it is called *default* because the compiler creates it in lack of any other *declared* constructor, and, as explained in the JLS, the *default constructor* may get one parameter (even if it does not appear to be there) - yourself see the 2nd point of the  four points you mentioned","body":"because if <i>we</i> declare such a constructor, it is not the <i>default constructor</i> - it is called <i>default</i> because the compiler creates it in lack of any other <i>declared</i> constructor, and, as explained in the JLS, the <i>default constructor</i> may get one parameter (even if it does not appear to be there) - yourself see the 2nd point of the  four points you mentioned"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700677100,"post_id":77531890,"comment_id":136685086,"body_markdown":"a counterexample: `Person() { System.out.println(&quot;constructor&quot;); }` is a no-args constructor, but see the 4th point of the four points mentioned in the JLS (and please, don&#39;t insinuate that I cannot or did not read! Or that I cannot read in-between the lines...)","body":"a counterexample: <code>Person() { System.out.println(&quot;constructor&quot;); }</code> is a no-args constructor, but see the 4th point of the four points mentioned in the JLS (and please, don&#39;t insinuate that I cannot or did not read! Or that I cannot read in-between the lines...)"}],"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700672744,"creation_date":1700672744,"answer_id":77531890,"question_id":77531696,"body_markdown":"[Constructors](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8) are special kind constructs in Java. They are not methods, they are nor members, but a special constructs that are used to initialize instances of the surrounding class.\r\n\r\nYou can identify constructor with the following parts:\r\n- It has no return type;\r\n- It may declare parameters, but may also be without any of them (this is called default, a.k.a. no-args constructor);\r\n- Constructor name **must** be exactly as same as its surrounding class name;\r\n- Constructors, in most of cases, are used to initialize member variables (fields) with `this.` prefix.\r\n\r\nFew notes about constructors (from the JLS):\r\n- Constructor declarations are not members. They are never inherited and therefore are not subject to hiding or overriding;\r\n- Constructors are invoked by class instance creation expressions. E.g. if the class is `class Person`, its instance creation expression with default constructor will be `new Person();`.\r\n\r\nFor example:\r\n```java\r\npublic class Person {\r\n\r\n    private int age;\r\n    private String name;\r\n\r\n    // This is a default / no-args constructor\r\n    public Person() {\r\n    }\r\n\r\n    // This is a constructor with two parameters\r\n    public Person(int age, String name) {\r\n        this.age = age;\r\n        this.name = name;\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    \r\n    public static void main(String[] args) {\r\n        Person p1 = new Person();\r\n        Person p2 = new Person(15, &quot;John&quot;);\r\n    }\r\n\r\n}\r\n```","title":"Why are the class and method names the same?","body":"<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8\" rel=\"nofollow noreferrer\">Constructors</a> are special kind constructs in Java. They are not methods, they are nor members, but a special constructs that are used to initialize instances of the surrounding class.</p>\n<p>You can identify constructor with the following parts:</p>\n<ul>\n<li>It has no return type;</li>\n<li>It may declare parameters, but may also be without any of them (this is called default, a.k.a. no-args constructor);</li>\n<li>Constructor name <strong>must</strong> be exactly as same as its surrounding class name;</li>\n<li>Constructors, in most of cases, are used to initialize member variables (fields) with <code>this.</code> prefix.</li>\n</ul>\n<p>Few notes about constructors (from the JLS):</p>\n<ul>\n<li>Constructor declarations are not members. They are never inherited and therefore are not subject to hiding or overriding;</li>\n<li>Constructors are invoked by class instance creation expressions. E.g. if the class is <code>class Person</code>, its instance creation expression with default constructor will be <code>new Person();</code>.</li>\n</ul>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n\n    private int age;\n    private String name;\n\n    // This is a default / no-args constructor\n    public Person() {\n    }\n\n    // This is a constructor with two parameters\n    public Person(int age, String name) {\n        this.age = age;\n        this.name = name;\n    }\n}\n\npublic class Main {\n    \n    public static void main(String[] args) {\n        Person p1 = new Person();\n        Person p2 = new Person(15, &quot;John&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":29834355,"reputation":11,"user_id":22864070,"display_name":"amir"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1700673187,"accepted_answer_id":77531706,"answer_count":3,"score":0,"last_activity_date":1700672744,"creation_date":1700670914,"question_id":77531696,"body_markdown":"I have just started learning Java. today, during training, I saw some code that had the same method and class name. I wanted to know how such a thing is possible? does the (public Animal) part work as a method here? \r\n\r\n```java\r\npublic class Animal {\r\n    public Animal() {\r\n        System.out.println(“I am an Animal”);\r\n    }\r\n}\r\n```\r\nIn fact, I never expected that the name of the Class and the Method are the same.","title":"Why are the class and method names the same?","body":"<p>I have just started learning Java. today, during training, I saw some code that had the same method and class name. I wanted to know how such a thing is possible? does the (public Animal) part work as a method here?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Animal {\n    public Animal() {\n        System.out.println(“I am an Animal”);\n    }\n}\n</code></pre>\n<p>In fact, I never expected that the name of the Class and the Method are the same.</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":14572332,"reputation":360,"user_id":10525284,"display_name":"HuserB1989"},"score":0,"creation_date":1589288609,"post_id":61752020,"comment_id":109228654,"body_markdown":"Hello Mats. Did you try to hit ‘mvn clean install’ before/after reimporting the dependency?","body":"Hello Mats. Did you try to hit ‘mvn clean install’ before/after reimporting the dependency?"},{"owner":{"account_id":9620777,"reputation":233,"user_id":7142109,"display_name":"Mats"},"score":0,"creation_date":1589288755,"post_id":61752020,"comment_id":109228738,"body_markdown":"@HuserB1989 yes is did","body":"@HuserB1989 yes is did"},{"owner":{"account_id":4949717,"reputation":1119,"user_id":3984101,"accept_rate":60,"display_name":"Nipun Thathsara"},"score":1,"creation_date":1589299159,"post_id":61752020,"comment_id":109235644,"body_markdown":"Regarding your command line attempt, check what&#39;s the JDK that maven is referring to by `mvn -version`. Because that might be different from what&#39;s running in the IDE. Also, shall we pass `-e` to check if we can get a detailed stack trace of the failure.","body":"Regarding your command line attempt, check what&#39;s the JDK that maven is referring to by <code>mvn -version</code>. Because that might be different from what&#39;s running in the IDE. Also, shall we pass <code>-e</code> to check if we can get a detailed stack trace of the failure."},{"owner":{"account_id":9620777,"reputation":233,"user_id":7142109,"display_name":"Mats"},"score":0,"creation_date":1589299821,"post_id":61752020,"comment_id":109236062,"body_markdown":"@NipunThathsara When I ran `mvn -version` I got `jre1.8`. That is obviously wrong, but how do I change it?","body":"@NipunThathsara When I ran <code>mvn -version</code> I got <code>jre1.8</code>. That is obviously wrong, but how do I change it?"},{"owner":{"account_id":4949717,"reputation":1119,"user_id":3984101,"accept_rate":60,"display_name":"Nipun Thathsara"},"score":1,"creation_date":1589300087,"post_id":61752020,"comment_id":109236219,"body_markdown":"@Mats, try changing the `JAVA_HOME` and test in a new terminal. (Or source the respective profile for the changes to make effect)","body":"@Mats, try changing the <code>JAVA_HOME</code> and test in a new terminal. (Or source the respective profile for the changes to make effect)"},{"owner":{"account_id":9620777,"reputation":233,"user_id":7142109,"display_name":"Mats"},"score":0,"creation_date":1589301650,"post_id":61752020,"comment_id":109237162,"body_markdown":"@NipunThathsara Thank you! That worked. I managed to get the `mvn -version` to `13.0.2`. Now the compile works and I can run the application from the command line. However, I still have the same error when trying to run from IntelliJ.","body":"@NipunThathsara Thank you! That worked. I managed to get the <code>mvn -version</code> to <code>13.0.2</code>. Now the compile works and I can run the application from the command line. However, I still have the same error when trying to run from IntelliJ."},{"owner":{"account_id":4949717,"reputation":1119,"user_id":3984101,"accept_rate":60,"display_name":"Nipun Thathsara"},"score":0,"creation_date":1589301877,"post_id":61752020,"comment_id":109237290,"body_markdown":"@Mats, Can you please attach the build log to see the detailed failure?","body":"@Mats, Can you please attach the build log to see the detailed failure?"},{"owner":{"account_id":9620777,"reputation":233,"user_id":7142109,"display_name":"Mats"},"score":0,"creation_date":1589302634,"post_id":61752020,"comment_id":109237747,"body_markdown":"@NipunThathsara I added the build log as well as the run configuration I have set up to the bottom of the main  post","body":"@NipunThathsara I added the build log as well as the run configuration I have set up to the bottom of the main  post"},{"owner":{"account_id":4949717,"reputation":1119,"user_id":3984101,"accept_rate":60,"display_name":"Nipun Thathsara"},"score":0,"creation_date":1589303267,"post_id":61752020,"comment_id":109238087,"body_markdown":"issue seems to be `Unrecognized option: --module-path` and you can try the answer provided here. https://stackoverflow.com/questions/55855335/javafx-and-maven-in-intellij-java-home-set-but-unrecognized-option-module-pa   Give it a try.","body":"issue seems to be <code>Unrecognized option: --module-path</code> and you can try the answer provided here. <a href=\"https://stackoverflow.com/questions/55855335/javafx-and-maven-in-intellij-java-home-set-but-unrecognized-option-module-pa\" title=\"javafx and maven in intellij java home set but unrecognized option module pa\">stackoverflow.com/questions/55855335/&hellip;</a>   Give it a try."},{"owner":{"account_id":9620777,"reputation":233,"user_id":7142109,"display_name":"Mats"},"score":0,"creation_date":1589305596,"post_id":61752020,"comment_id":109239343,"body_markdown":"@NipunThathsara\nIf I understand correctly, I am already doing the things described as the solution you gave. But it put me on the right track, and I found the solution. \nThe solution was to add this line to my `javafx-maven-plugin` inside the `&lt;configuration&gt; ` tags:\n`&lt;executable&gt;C:\\Program Files\\Java\\jdk-13.0.2\\bin\\java&lt;/executable&gt;`","body":"@NipunThathsara If I understand correctly, I am already doing the things described as the solution you gave. But it put me on the right track, and I found the solution.  The solution was to add this line to my <code>javafx-maven-plugin</code> inside the <code>&lt;configuration&gt; </code> tags: <code>&lt;executable&gt;C:\\Program Files\\Java\\jdk-13.0.2\\bin\\java&lt;&#47;executable&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":9620777,"reputation":233,"user_id":7142109,"display_name":"Mats"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1589306318,"creation_date":1589306318,"answer_id":61758740,"question_id":61752020,"body_markdown":" After much back and forth, I found the solution [here][1]:\r\n\r\nUnder the last step of `JavaFx with IntelliJ &gt; Non modular with Maven` it states:\r\n\r\n - **Note:** In case JAVA_HOME is not set to 14, running from the Maven\r\n   Projects window might fail. To avoid it, you can add the correct java\r\n   command to the javafx-maven-plugin:\r\n   `&lt;configuration&gt;&lt;executable&gt;/path/to/jdk-12/bin/java&lt;/executable&gt;&lt;/configuration&gt;`.\r\n\r\nAs my JAVA_HOME is set to 13.0.2, this solution applies to me.\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/#maven","title":"Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.1:run (default-cli) after removing dependency","body":"<p>After much back and forth, I found the solution <a href=\"https://openjfx.io/openjfx-docs/#maven\" rel=\"noreferrer\">here</a>:</p>\n\n<p>Under the last step of <code>JavaFx with IntelliJ &gt; Non modular with Maven</code> it states:</p>\n\n<ul>\n<li><strong>Note:</strong> In case JAVA_HOME is not set to 14, running from the Maven\nProjects window might fail. To avoid it, you can add the correct java\ncommand to the javafx-maven-plugin:\n<code>&lt;configuration&gt;&lt;executable&gt;/path/to/jdk-12/bin/java&lt;/executable&gt;&lt;/configuration&gt;</code>.</li>\n</ul>\n\n<p>As my JAVA_HOME is set to 13.0.2, this solution applies to me.</p>\n"},{"tags":[],"owner":{"account_id":15473463,"reputation":29,"user_id":11162782,"display_name":"Oliver Emanuel S Netto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662262788,"creation_date":1662262788,"answer_id":73596642,"question_id":61752020,"body_markdown":"In my case, I needed to configure it like this:\r\n```\r\n                &lt;configuration&gt;\r\n                    &lt;jlinkExecutable&gt;/home/myuser/java/jdk-11/bin/jlink&lt;/jlinkExecutable&gt;\r\n                &lt;/configuration&gt;\r\n```\r\n\r\nmy complete pom file looked like this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testes-diversos-javafx&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;testes-diversos-javafx&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\r\n            &lt;version&gt;11.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\r\n            &lt;version&gt;11.3.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\r\n            &lt;version&gt;12.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;eu.hansolo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tilesfx&lt;/artifactId&gt;\r\n            &lt;version&gt;11.48&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;jlinkExecutable&gt;/home/myuser/java/jdk-11/bin/jlink&lt;/jlinkExecutable&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;\r\n                                com.example.testesdiversosjavafx/com.example.testesdiversosjavafx.HelloApplication\r\n                            &lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n","title":"Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.1:run (default-cli) after removing dependency","body":"<p>In my case, I needed to configure it like this:</p>\n<pre><code>                &lt;configuration&gt;\n                    &lt;jlinkExecutable&gt;/home/myuser/java/jdk-11/bin/jlink&lt;/jlinkExecutable&gt;\n                &lt;/configuration&gt;\n</code></pre>\n<p>my complete pom file looked like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;testes-diversos-javafx&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;testes-diversos-javafx&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\n            &lt;version&gt;11.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\n            &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\n            &lt;version&gt;11.3.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\n            &lt;version&gt;12.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\n            &lt;version&gt;0.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;eu.hansolo&lt;/groupId&gt;\n            &lt;artifactId&gt;tilesfx&lt;/artifactId&gt;\n            &lt;version&gt;11.48&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;jlinkExecutable&gt;/home/myuser/java/jdk-11/bin/jlink&lt;/jlinkExecutable&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;\n                                com.example.testesdiversosjavafx/com.example.testesdiversosjavafx.HelloApplication\n                            &lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5238279,"reputation":323,"user_id":4186189,"display_name":"Daniel Maldonado"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700672613,"creation_date":1700672613,"answer_id":77531875,"question_id":61752020,"body_markdown":"Check the JAVA_HOME and MAVEN_HOME in your environment before playing around with the configuration.  Also the $PATH value.  I had both of mine set to the wrong paths and ran into all kinds of issues including this one.  I would think the IDE (IntelliJ) would isolate the project by using a configuration specifically for the project but it did not.  As soon as I set those to valid values and restarted IntelliJ most of the issues on my project/system went away.","title":"Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.1:run (default-cli) after removing dependency","body":"<p>Check the JAVA_HOME and MAVEN_HOME in your environment before playing around with the configuration.  Also the $PATH value.  I had both of mine set to the wrong paths and ran into all kinds of issues including this one.  I would think the IDE (IntelliJ) would isolate the project by using a configuration specifically for the project but it did not.  As soon as I set those to valid values and restarted IntelliJ most of the issues on my project/system went away.</p>\n"}],"owner":{"account_id":9620777,"reputation":233,"user_id":7142109,"display_name":"Mats"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15565,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61758740,"answer_count":3,"score":3,"last_activity_date":1700672613,"creation_date":1589287377,"question_id":61752020,"body_markdown":"I have a JavaFX Maven project that suddenly threw an error after removing a dependency. The dependency was added only a couple minutes prior and is not and was not used or referenced by any code in the project. No other files than the `pom` file have been touched since adding the dependency. I did update/reimport the `pom` file.\r\n\r\nThe code worked as expected before and while dependency was added, only stopped when removing the dependency.\r\n\r\n**The error is as follows:**\r\n\r\n    Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.1:run (default-cli) on project computer: Error: Command execution failed. Process exited with an error: 1 (Exit value: 1)\r\n    org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n\r\n**Here is my pom file with the dependency I removed:**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;computer&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;14&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n                &lt;version&gt;14&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- This is the dependency I removed\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n                &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            --&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;release&gt;11&lt;/release&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.0.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;org.computer.App&lt;/mainClass&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n**Edit:**\r\nFor additional information:\r\nwhen reimporting the dependency, it is still not working.\r\n\r\n**Edit 2:**\r\nI tried running from the command prompt instead. Now I get this error:\r\n\r\n    No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\r\n\r\nI have the java 13.0.2 jdk installed, and it worked properly before.\r\n\r\n**Edit 3:**\r\n\r\nI have now tried to reinstall Intellij, the java 13.0.2 JDK, Maven, and set up fresh environment variables. Nothing works. Even brand new JavaFX Maven projects won&#39;t work now.\r\n\r\n**This is the run configuration in IntelliJ:**\r\n\r\n    clean:clean javafx:compile javafx:run -f pom.xml -f pom.xml -f pom.xml\r\n\r\n**Build Log when running in intelliJ:**\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-13.0.2\\bin\\java.exe&quot; -Dmaven.multiModuleProjectDirectory=C:\\Users\\mats\\Documents\\intellij-projects\\computer &quot;-Dmaven.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2\\plugins\\maven\\lib\\maven3&quot; &quot;-Dclassworlds.conf=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2\\plugins\\maven\\lib\\maven3\\bin\\m2.conf&quot; &quot;-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2\\plugins\\maven\\lib\\maven-event-listener.jar&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2\\lib\\idea_rt.jar=50370:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds-2.6.0.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds.license&quot; org.codehaus.classworlds.Launcher -Didea.version2020.1.1 clean:clean javafx:compile javafx:run -f pom.xml -f pom.xml\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ------------------------&lt; org.example:computer &gt;------------------------\r\n    [INFO] Building computer 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-cli) @ computer ---\r\n    [INFO] Deleting C:\\Users\\mats\\Documents\\intellij-projects\\computer\\target\r\n    [INFO] \r\n    [INFO] --- javafx-maven-plugin:0.0.1:compile (default-cli) @ computer ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 2 resources\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 14 source files to C:\\Users\\mats\\Documents\\intellij-projects\\computer\\target\\classes\r\n    [INFO] /C:/Users/mats/Documents/intellij-projects/computer/src/main/java/org/computer/io/WriteToCSV.java: C:\\Users\\mats\\Documents\\intellij-projects\\computer\\src\\main\\java\\org\\computer\\io\\WriteToCSV.java uses unchecked or unsafe operations.\r\n    [INFO] /C:/Users/mats/Documents/intellij-projects/computer/src/main/java/org/computer/io/WriteToCSV.java: Recompile with -Xlint:unchecked for details.\r\n    [INFO] \r\n    [INFO] --- javafx-maven-plugin:0.0.1:run (default-cli) @ computer ---\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n    Unrecognized option: --module-path\r\n    [ERROR] Command execution failed.\r\n    org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n        at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n        at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n        at org.openjfx.JavaFXRunMojo.executeCommandLine (JavaFXRunMojo.java:525)\r\n        at org.openjfx.JavaFXRunMojo.executeCommandLine (JavaFXRunMojo.java:487)\r\n        at org.openjfx.JavaFXRunMojo.execute (JavaFXRunMojo.java:168)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:567)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n    \tat org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)\r\n    \tat org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)\r\n    \tat org.openjfx.JavaFXRunMojo.executeCommandLine(JavaFXRunMojo.java:525)\r\n    \tat org.openjfx.JavaFXRunMojo.executeCommandLine(JavaFXRunMojo.java:487)\r\n    \tat org.openjfx.JavaFXRunMojo.execute(JavaFXRunMojo.java:168)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n    \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n    \tat org.codehaus.classworlds.Launcher.main(Launcher.java:47)\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  5.314 s\r\n    [INFO] Finished at: 2020-05-12T18:47:29+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.1:run (default-cli) on project computer: Error: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n","title":"Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.1:run (default-cli) after removing dependency","body":"<p>I have a JavaFX Maven project that suddenly threw an error after removing a dependency. The dependency was added only a couple minutes prior and is not and was not used or referenced by any code in the project. No other files than the <code>pom</code> file have been touched since adding the dependency. I did update/reimport the <code>pom</code> file.</p>\n\n<p>The code worked as expected before and while dependency was added, only stopped when removing the dependency.</p>\n\n<p><strong>The error is as follows:</strong></p>\n\n<pre><code>Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.1:run (default-cli) on project computer: Error: Command execution failed. Process exited with an error: 1 (Exit value: 1)\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n</code></pre>\n\n<p><strong>Here is my pom file with the dependency I removed:</strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;computer&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- This is the dependency I removed\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        --&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;org.computer.App&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>Edit:</strong>\nFor additional information:\nwhen reimporting the dependency, it is still not working.</p>\n\n<p><strong>Edit 2:</strong>\nI tried running from the command prompt instead. Now I get this error:</p>\n\n<pre><code>No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\n</code></pre>\n\n<p>I have the java 13.0.2 jdk installed, and it worked properly before.</p>\n\n<p><strong>Edit 3:</strong></p>\n\n<p>I have now tried to reinstall Intellij, the java 13.0.2 JDK, Maven, and set up fresh environment variables. Nothing works. Even brand new JavaFX Maven projects won't work now.</p>\n\n<p><strong>This is the run configuration in IntelliJ:</strong></p>\n\n<pre><code>clean:clean javafx:compile javafx:run -f pom.xml -f pom.xml -f pom.xml\n</code></pre>\n\n<p><strong>Build Log when running in intelliJ:</strong></p>\n\n<pre><code>\"C:\\Program Files\\Java\\jdk-13.0.2\\bin\\java.exe\" -Dmaven.multiModuleProjectDirectory=C:\\Users\\mats\\Documents\\intellij-projects\\computer \"-Dmaven.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2\\plugins\\maven\\lib\\maven3\" \"-Dclassworlds.conf=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2\\plugins\\maven\\lib\\maven3\\bin\\m2.conf\" \"-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2\\plugins\\maven\\lib\\maven-event-listener.jar\" \"-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2\\lib\\idea_rt.jar=50370:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2\\bin\" -Dfile.encoding=UTF-8 -classpath \"C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds-2.6.0.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds.license\" org.codehaus.classworlds.Launcher -Didea.version2020.1.1 clean:clean javafx:compile javafx:run -f pom.xml -f pom.xml\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------------&lt; org.example:computer &gt;------------------------\n[INFO] Building computer 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-cli) @ computer ---\n[INFO] Deleting C:\\Users\\mats\\Documents\\intellij-projects\\computer\\target\n[INFO] \n[INFO] --- javafx-maven-plugin:0.0.1:compile (default-cli) @ computer ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 2 resources\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 14 source files to C:\\Users\\mats\\Documents\\intellij-projects\\computer\\target\\classes\n[INFO] /C:/Users/mats/Documents/intellij-projects/computer/src/main/java/org/computer/io/WriteToCSV.java: C:\\Users\\mats\\Documents\\intellij-projects\\computer\\src\\main\\java\\org\\computer\\io\\WriteToCSV.java uses unchecked or unsafe operations.\n[INFO] /C:/Users/mats/Documents/intellij-projects/computer/src/main/java/org/computer/io/WriteToCSV.java: Recompile with -Xlint:unchecked for details.\n[INFO] \n[INFO] --- javafx-maven-plugin:0.0.1:run (default-cli) @ computer ---\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\nUnrecognized option: --module-path\n[ERROR] Command execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\n    at org.openjfx.JavaFXRunMojo.executeCommandLine (JavaFXRunMojo.java:525)\n    at org.openjfx.JavaFXRunMojo.executeCommandLine (JavaFXRunMojo.java:487)\n    at org.openjfx.JavaFXRunMojo.execute (JavaFXRunMojo.java:168)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:567)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)\n    at org.openjfx.JavaFXRunMojo.executeCommandLine(JavaFXRunMojo.java:525)\n    at org.openjfx.JavaFXRunMojo.executeCommandLine(JavaFXRunMojo.java:487)\n    at org.openjfx.JavaFXRunMojo.execute(JavaFXRunMojo.java:168)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main(Launcher.java:47)\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  5.314 s\n[INFO] Finished at: 2020-05-12T18:47:29+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.1:run (default-cli) on project computer: Error: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","jsp","struts2","ognl","struts-tags"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1636724535,"post_id":69931725,"comment_id":123639581,"body_markdown":"Yes, it is possible. Accessing session variables is covered in the [Struts 2 Tags documentation tree](https://struts.apache.org/tag-developers/) in multiple places, but it might be best to take a quick step back and review the [OGNL overview](https://struts.apache.org/tag-developers/ognl).","body":"Yes, it is possible. Accessing session variables is covered in the <a href=\"https://struts.apache.org/tag-developers/\" rel=\"nofollow noreferrer\">Struts 2 Tags documentation tree</a> in multiple places, but it might be best to take a quick step back and review the <a href=\"https://struts.apache.org/tag-developers/ognl\" rel=\"nofollow noreferrer\">OGNL overview</a>."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636725511,"creation_date":1636725511,"answer_id":69944065,"question_id":69931725,"body_markdown":"Struts2 tags cannot work without associated filer. If you use Struts tags in JSP make sure you read first about [tags][2].\r\n\r\nThe session map can be injected into the action if it is `SessionAware`.\r\n\r\n&gt;If you want to put some object like an `user` to the session you can use authentication interceptor like  [this][1]. \r\n&gt;\r\n&gt;It checks if an `user` in session and let the action invoke, otherwise it returns a `login` result. \r\n&gt;\r\n&gt;The user might want to login several times under different accounts, so you should not restrict him/her from doing it. \r\n\r\nIn the JSP you could check the `user` in session with the [`&lt;s:if&gt;` tag][3] using a `#session` context variable.\r\n\r\n&lt;!-- language: lang-xhtml --&gt;\r\n\r\n    &lt;s:if test=&quot;#session.user == null&quot;&gt;\r\n     &lt;s:a action=&quot;login&quot;&gt;Login&lt;/s:a&gt;\r\n    &lt;/s:if&gt;\r\n    &lt;s:else&gt;\r\n      &lt;s:a action=&quot;logout&quot;&gt;Logout&lt;/s:a&gt;\r\n    &lt;/s:else&gt;   \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16256030/573032\r\n  [2]: https://struts.apache.org/tag-developers\r\n  [3]: https://struts.apache.org/tag-developers/if-tag.html","title":"Using &lt;s:if&gt; tag to check if the user is in session in Struts 2","body":"<p>Struts2 tags cannot work without associated filer. If you use Struts tags in JSP make sure you read first about <a href=\"https://struts.apache.org/tag-developers\" rel=\"nofollow noreferrer\">tags</a>.</p>\n<p>The session map can be injected into the action if it is <code>SessionAware</code>.</p>\n<blockquote>\n<p>If you want to put some object like an <code>user</code> to the session you can use authentication interceptor like  <a href=\"https://stackoverflow.com/a/16256030/573032\">this</a>.</p>\n<p>It checks if an <code>user</code> in session and let the action invoke, otherwise it returns a <code>login</code> result.</p>\n<p>The user might want to login several times under different accounts, so you should not restrict him/her from doing it.</p>\n</blockquote>\n<p>In the JSP you could check the <code>user</code> in session with the <a href=\"https://struts.apache.org/tag-developers/if-tag.html\" rel=\"nofollow noreferrer\"><code>&lt;s:if&gt;</code> tag</a> using a <code>#session</code> context variable.</p>\n<pre class=\"lang-xhtml prettyprint-override\"><code>&lt;s:if test=&quot;#session.user == null&quot;&gt;\n &lt;s:a action=&quot;login&quot;&gt;Login&lt;/s:a&gt;\n&lt;/s:if&gt;\n&lt;s:else&gt;\n  &lt;s:a action=&quot;logout&quot;&gt;Logout&lt;/s:a&gt;\n&lt;/s:else&gt;   \n</code></pre>\n"}],"owner":{"account_id":23270622,"reputation":3,"user_id":17355524,"display_name":"Jdvlp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700672596,"creation_date":1636648079,"question_id":69931725,"body_markdown":"I&#39;d like to know if it&#39;s possible to check with the `&lt;s:if&gt;` tag of Struts 2 if the user is in session.\r\n\r\nIf the user is in session, I need it to be shown `Logout` otherwise `Login`.\r\n\r\nI use the interface `SessionAware` for login action and this class `User`.\r\n\r\n\r\n    package it.pwm.wynd.pojo.user;\r\n    \r\n    \r\n    public class User implements java.io.Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate Integer idUser;\r\n    \tprivate String name;\r\n    \tprivate String username;\r\n    \tprivate String password;\r\n    \tprivate String email;\r\n    \r\n    \tpublic User() {\r\n    \t}\r\n    \r\n    \tpublic User(String name, String username, String password, String email) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.username = username;\r\n    \t\tthis.password = password;\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \tpublic Integer getIdUser() {\r\n    \t\treturn this.idUser;\r\n    \t}\r\n    \r\n    \tpublic void setIdUser(Integer idUser) {\r\n    \t\tthis.idUser = idUser;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn this.name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getUsername() {\r\n    \t\treturn this.username;\r\n    \t}\r\n    \r\n    \tpublic void setUsername(String username) {\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn this.password;\r\n    \t}\r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn this.email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n","title":"Using &lt;s:if&gt; tag to check if the user is in session in Struts 2","body":"<p>I'd like to know if it's possible to check with the <code>&lt;s:if&gt;</code> tag of Struts 2 if the user is in session.</p>\n<p>If the user is in session, I need it to be shown <code>Logout</code> otherwise <code>Login</code>.</p>\n<p>I use the interface <code>SessionAware</code> for login action and this class <code>User</code>.</p>\n<pre><code>package it.pwm.wynd.pojo.user;\n\n\npublic class User implements java.io.Serializable {\n\n    private static final long serialVersionUID = 1L;\n    private Integer idUser;\n    private String name;\n    private String username;\n    private String password;\n    private String email;\n\n    public User() {\n    }\n\n    public User(String name, String username, String password, String email) {\n        this.name = name;\n        this.username = username;\n        this.password = password;\n        this.email = email;\n    }\n\n    public Integer getIdUser() {\n        return this.idUser;\n    }\n\n    public void setIdUser(Integer idUser) {\n        this.idUser = idUser;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getUsername() {\n        return this.username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return this.password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getEmail() {\n        return this.email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","checker-framework"],"answers":[{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700672559,"creation_date":1700672559,"answer_id":77531868,"question_id":77525744,"body_markdown":"&gt; It is not my code hence I cannot add the @Nullable annotation to it\r\n\r\nYou can write annotations for third-party libraries in a [stub file](https://checkerframework.org/manual/#stub).  The [Checker Framework manual](https://checkerframework.org/manual/#annotating-libraries) says:\r\n\r\n&quot;Write annotations in a “stub file”, if you do not have access to the source code.&quot;\r\n\r\n&gt; Is there a way to apply the Nullness Checker only to my own package?\r\n\r\nYou can use the `-AskipUses` command-line argument.  The [Checker Framework manual](https://checkerframework.org/manual/#askipuses) says:\r\n\r\n&quot;Set the `-AskipUses` command-line option to a regular expression that matches fully-qualified class names (not file names) for which warnings and errors should be suppressed. Or, set the `-AonlyUses` command-line option to a regular expression that matches fully-qualified class names (not file names) for which warnings and errors should be emitted; warnings about uses of all other classes will be suppressed.&quot;\r\n\r\nThe Checker Framework also supports [`-AskipDefs` and `-AonlyDefs`](https://checkerframework.org/manual/#askipdefs).\r\n","title":"How to exclude 3rd party classes when using the NullnessChecker from the checker framework?","body":"<blockquote>\n<p>It is not my code hence I cannot add the @Nullable annotation to it</p>\n</blockquote>\n<p>You can write annotations for third-party libraries in a <a href=\"https://checkerframework.org/manual/#stub\" rel=\"nofollow noreferrer\">stub file</a>.  The <a href=\"https://checkerframework.org/manual/#annotating-libraries\" rel=\"nofollow noreferrer\">Checker Framework manual</a> says:</p>\n<p>&quot;Write annotations in a “stub file”, if you do not have access to the source code.&quot;</p>\n<blockquote>\n<p>Is there a way to apply the Nullness Checker only to my own package?</p>\n</blockquote>\n<p>You can use the <code>-AskipUses</code> command-line argument.  The <a href=\"https://checkerframework.org/manual/#askipuses\" rel=\"nofollow noreferrer\">Checker Framework manual</a> says:</p>\n<p>&quot;Set the <code>-AskipUses</code> command-line option to a regular expression that matches fully-qualified class names (not file names) for which warnings and errors should be suppressed. Or, set the <code>-AonlyUses</code> command-line option to a regular expression that matches fully-qualified class names (not file names) for which warnings and errors should be emitted; warnings about uses of all other classes will be suppressed.&quot;</p>\n<p>The Checker Framework also supports <a href=\"https://checkerframework.org/manual/#askipdefs\" rel=\"nofollow noreferrer\"><code>-AskipDefs</code> and <code>-AonlyDefs</code></a>.</p>\n"}],"owner":{"account_id":968335,"reputation":1099,"user_id":991368,"accept_rate":75,"display_name":"cp5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77531868,"answer_count":1,"score":1,"last_activity_date":1700672559,"creation_date":1700598417,"question_id":77525744,"body_markdown":"I am trying to use the `NullnessChecker` from the checker framework. I have a java project building it with gradle and kotlin.\r\n\r\nThe idea is to have as little boiler plate coding as I can therefore having everything by default as nonnull and then override where nulls are required (for parameters, return arguments and instance variables).\r\n\r\nI have the following config in my `build.gradle.kts` file:\r\n\r\n    import org.checkerframework.gradle.plugin.CheckerFrameworkExtension\r\n\r\n    plugins {\r\n        id(&quot;java&quot;)\r\n        id(&quot;org.checkerframework&quot;) version &quot;0.6.35&quot;\r\n    }\r\n    \r\n    configure&lt;CheckerFrameworkExtension&gt; {\r\n        excludeTests = false\r\n        checkers = listOf(&quot;org.checkerframework.checker.nullness.NullnessChecker&quot;)\r\n    }\r\n\r\nThis works well and if I pass a null as a parameter the build fails and where needed I can add the @Nullable annotation to skipp the check.\r\n\r\nI however have calls to 3rd party classes like:\r\n\r\n    // Where I pass a null argument as the 2nd parameter\r\n    javax.xml.transform.TransformerFactory.newInstance(&quot;...&quot;, null); \r\n\r\nIt is not my code hence I cannot add the @Nullable annotation to it and the checkerframework fails indicating that I cannot pass a null here.\r\n\r\nIs there a way to get around this or apply the`NullnessChecker` only to my own package? ","title":"How to exclude 3rd party classes when using the NullnessChecker from the checker framework?","body":"<p>I am trying to use the <code>NullnessChecker</code> from the checker framework. I have a java project building it with gradle and kotlin.</p>\n<p>The idea is to have as little boiler plate coding as I can therefore having everything by default as nonnull and then override where nulls are required (for parameters, return arguments and instance variables).</p>\n<p>I have the following config in my <code>build.gradle.kts</code> file:</p>\n<pre><code>import org.checkerframework.gradle.plugin.CheckerFrameworkExtension\n\nplugins {\n    id(&quot;java&quot;)\n    id(&quot;org.checkerframework&quot;) version &quot;0.6.35&quot;\n}\n\nconfigure&lt;CheckerFrameworkExtension&gt; {\n    excludeTests = false\n    checkers = listOf(&quot;org.checkerframework.checker.nullness.NullnessChecker&quot;)\n}\n</code></pre>\n<p>This works well and if I pass a null as a parameter the build fails and where needed I can add the @Nullable annotation to skipp the check.</p>\n<p>I however have calls to 3rd party classes like:</p>\n<pre><code>// Where I pass a null argument as the 2nd parameter\njavax.xml.transform.TransformerFactory.newInstance(&quot;...&quot;, null); \n</code></pre>\n<p>It is not my code hence I cannot add the @Nullable annotation to it and the checkerframework fails indicating that I cannot pass a null here.</p>\n<p>Is there a way to get around this or apply the<code>NullnessChecker</code> only to my own package?</p>\n"},{"tags":["java","spring","security","spring-security","struts2"],"answers":[{"comments":[{"owner":{"account_id":4579313,"reputation":913,"user_id":3716870,"accept_rate":67,"display_name":"ponder275"},"score":0,"creation_date":1495211683,"post_id":44071010,"comment_id":75173951,"body_markdown":"I&#39;ve clarified what I need to do.  Will Single Sign On work?  Reading through the material it wasn&#39;t clear to me it would work if the logon is done independent of the Websphere app and I wasn&#39;t sure I could pass on all of the registration information with Single Sign On.","body":"I&#39;ve clarified what I need to do.  Will Single Sign On work?  Reading through the material it wasn&#39;t clear to me it would work if the logon is done independent of the Websphere app and I wasn&#39;t sure I could pass on all of the registration information with Single Sign On."},{"owner":{"account_id":1732446,"reputation":10591,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"score":0,"creation_date":1495211861,"post_id":44071010,"comment_id":75174040,"body_markdown":"@ponder275 The point of SSO is authenticating once and using the authorization permissions of each app. Not to transfer your authorization info on an explicit way.","body":"@ponder275 The point of SSO is authenticating once and using the authorization permissions of each app. Not to transfer your authorization info on an explicit way."}],"tags":[],"owner":{"account_id":1732446,"reputation":10591,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495199393,"creation_date":1495199393,"answer_id":44071010,"question_id":44070914,"body_markdown":"You should configure both apps to use Single Sign On.\r\n\r\nHere&#39;s a tutorial for Websphere.\r\n\r\nhttp://www.redbooks.ibm.com/redpapers/pdfs/redp4192.pdf","title":"Secure method of passing sign-in information from a Struts Action to a different app","body":"<p>You should configure both apps to use Single Sign On.</p>\n\n<p>Here's a tutorial for Websphere.</p>\n\n<p><a href=\"http://www.redbooks.ibm.com/redpapers/pdfs/redp4192.pdf\" rel=\"nofollow noreferrer\">http://www.redbooks.ibm.com/redpapers/pdfs/redp4192.pdf</a></p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495263352,"creation_date":1495263352,"answer_id":44082891,"question_id":44070914,"body_markdown":"If you pass sign in information via https it&#39;s secure way. Don&#39;t pass it in url however. Use http post method to submit this information to the application. But because you use a web service to register/authenticate a user then you need invoke this web service from you application using http client, etc. If you invoke the service from the client you application never know if the user is registered/authenticated.\r\n\r\nRecommended to use some security framework i.e. Spring Security which allows to use different methods for authentication/registration/authorization. It requires integration struts2 with spring via [spring plugin][1].\r\n\r\nFor the rest see [How to integrate Spring Security and Struts2][2]. Or read the book [Spring Security 3.x Cookbook by Anjana Mankale][3].\r\n\r\n\r\n  [1]: https://struts.apache.org/docs/spring-plugin.html\r\n  [2]: https://stackoverflow.com/q/14333999/573032\r\n  [3]: https://www.packtpub.com/mapt/book/application_development/9781782167525/2/ch02lvl1sec19/Integrating+Struts+2+with+Spring+Security","title":"Secure method of passing sign-in information from a Struts Action to a different app","body":"<p>If you pass sign in information via https it's secure way. Don't pass it in url however. Use http post method to submit this information to the application. But because you use a web service to register/authenticate a user then you need invoke this web service from you application using http client, etc. If you invoke the service from the client you application never know if the user is registered/authenticated.</p>\n\n<p>Recommended to use some security framework i.e. Spring Security which allows to use different methods for authentication/registration/authorization. It requires integration struts2 with spring via <a href=\"https://struts.apache.org/docs/spring-plugin.html\" rel=\"nofollow noreferrer\">spring plugin</a>.</p>\n\n<p>For the rest see <a href=\"https://stackoverflow.com/q/14333999/573032\">How to integrate Spring Security and Struts2</a>. Or read the book <a href=\"https://www.packtpub.com/mapt/book/application_development/9781782167525/2/ch02lvl1sec19/Integrating+Struts+2+with+Spring+Security\" rel=\"nofollow noreferrer\">Spring Security 3.x Cookbook by Anjana Mankale</a>.</p>\n"}],"owner":{"account_id":4579313,"reputation":913,"user_id":3716870,"accept_rate":67,"display_name":"ponder275"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700672551,"creation_date":1495199105,"question_id":44070914,"body_markdown":"I&#39;ve an app which allows users to sign in and then passes their sign in information to the app of their choice.  All the apps are written in Java and use Struts 2 and run on Websphere. What is the most secure way to pass in the sign in information?  I can pass it in the URL using HTTPS but that still leaves the information available in the browser history.   \r\n\r\n**EDIT:**\r\n\r\nThe sign-in app actually calls a web service which registers the user which collects their personal information, verifies their identity and passes the information back to the sign-in app.  The web service stores all of the registration information.  I would like to pass all of the registration information to the app so the user does not have to reenter it and to insure the information stored by the web service is identical to the information stored in the app.","title":"Secure method of passing sign-in information from a Struts Action to a different app","body":"<p>I've an app which allows users to sign in and then passes their sign in information to the app of their choice.  All the apps are written in Java and use Struts 2 and run on Websphere. What is the most secure way to pass in the sign in information?  I can pass it in the URL using HTTPS but that still leaves the information available in the browser history.</p>\n<p><strong>EDIT:</strong></p>\n<p>The sign-in app actually calls a web service which registers the user which collects their personal information, verifies their identity and passes the information back to the sign-in app.  The web service stores all of the registration information.  I would like to pass all of the registration information to the app so the user does not have to reenter it and to insure the information stored by the web service is identical to the information stored in the app.</p>\n"},{"tags":["java","authentication","session","struts2","httpsession"],"comments":[{"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"score":0,"creation_date":1387267128,"post_id":20628621,"comment_id":30875449,"body_markdown":"How exactly are you maintaining sessions ?","body":"How exactly are you maintaining sessions ?"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616274758,"creation_date":1387270321,"answer_id":20629671,"question_id":20628621,"body_markdown":"The session is already managed in Struts2. \r\n\r\nIf you want to put some object like an user to the session you can use authentication interceptor like  [this][1]. \r\n\r\nIt checks if an user in session and let the action invoke, otherwise it returns a `login` result. \r\n\r\nThe user might want to login several times under different accounts, so you should not restrict him/her from doing it. \r\n\r\nIn the JSP you could check the user in session with the `if` tag using a `#session` context variable.\r\n\r\n    &lt;s:if test=&quot;#session.user == null&quot;&gt;\r\n     &lt;s:a action=&quot;login&quot;&gt;&lt;s:text name=&quot;label.enter&quot;/&gt;&lt;/s:a&gt;\r\n    &lt;/s:if&gt;\r\n    &lt;s:else&gt;\r\n      &lt;s:a action=&quot;logout&quot;&gt;&lt;s:text name=&quot;label.exit&quot;/&gt;&lt;/s:a&gt;\r\n    &lt;/s:else&gt;   \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16256030/573032","title":"How to check if user is logged in with Struts 2","body":"<p>The session is already managed in Struts2.</p>\n<p>If you want to put some object like an user to the session you can use authentication interceptor like  <a href=\"https://stackoverflow.com/a/16256030/573032\">this</a>.</p>\n<p>It checks if an user in session and let the action invoke, otherwise it returns a <code>login</code> result.</p>\n<p>The user might want to login several times under different accounts, so you should not restrict him/her from doing it.</p>\n<p>In the JSP you could check the user in session with the <code>if</code> tag using a <code>#session</code> context variable.</p>\n<pre><code>&lt;s:if test=&quot;#session.user == null&quot;&gt;\n &lt;s:a action=&quot;login&quot;&gt;&lt;s:text name=&quot;label.enter&quot;/&gt;&lt;/s:a&gt;\n&lt;/s:if&gt;\n&lt;s:else&gt;\n  &lt;s:a action=&quot;logout&quot;&gt;&lt;s:text name=&quot;label.exit&quot;/&gt;&lt;/s:a&gt;\n&lt;/s:else&gt;   \n</code></pre>\n"}],"owner":{"account_id":3740269,"reputation":187,"user_id":3110178,"accept_rate":0,"display_name":"Praful Jha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700672513,"creation_date":1387266307,"question_id":20628621,"body_markdown":"I&#39;m not able to manage a session with Struts2 . \r\n\r\nIf I login successfully and if I click the URL of login again, it again asks for login. \r\n\r\nI want it to be *logged in* untill timeout doesn&#39;t happens.","title":"How to check if user is logged in with Struts 2","body":"<p>I'm not able to manage a session with Struts2 .</p>\n<p>If I login successfully and if I click the URL of login again, it again asks for login.</p>\n<p>I want it to be <em>logged in</em> untill timeout doesn't happens.</p>\n"},{"tags":["java","spring-boot","keycloak"],"answers":[{"tags":[],"owner":{"account_id":14829651,"reputation":115,"user_id":10709485,"display_name":"wazowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700672421,"creation_date":1700672421,"answer_id":77531852,"question_id":77504428,"body_markdown":"The problem was that in createRealm(...) the users are saved differently (Keycloak&#39;s admin API). However, my main issue was that the client has a `clientId` property as well as an `id` property. The Keycloak UI shows that the clientId is whatever you set it to be, for example `whatever-app` and the `id` was a random UUID generated by keycloak.\r\n\r\nThe fix to the problem : \r\n\r\n        ClientRepresentation clientRepresentation = new ClientRepresentation();\r\n        // Note : Keycloak clients have both a clientId and an id property. In this service clientId = id.\r\n        // The clientId is a given property from application.yml while id is a UUID generated by Keycloak\r\n        // In some API calls to Keycloak, it used the ID instead of the clientID i.e: realmResource.clients().get(ID)\r\n        // Hence it is crucial to set both to the same value (CLIENT_ID) to avoid complexity\r\n        clientRepresentation.setId(CLIENT_ID);\r\n        clientRepresentation.setClientId(CLIENT_ID);\r\n\r\nMake sure to `clientRepresentation.setId(CLIENT_ID);` or in your case to use the id instead of clientId for operations like \r\n\r\n    RoleRepresentation clientRole = realmResource.clients().get(CLIENT_ID).roles().get(role).toRepresentation();","title":"Keycloak not adding client role on user creation","body":"<p>The problem was that in createRealm(...) the users are saved differently (Keycloak's admin API). However, my main issue was that the client has a <code>clientId</code> property as well as an <code>id</code> property. The Keycloak UI shows that the clientId is whatever you set it to be, for example <code>whatever-app</code> and the <code>id</code> was a random UUID generated by keycloak.</p>\n<p>The fix to the problem :</p>\n<pre><code>    ClientRepresentation clientRepresentation = new ClientRepresentation();\n    // Note : Keycloak clients have both a clientId and an id property. In this service clientId = id.\n    // The clientId is a given property from application.yml while id is a UUID generated by Keycloak\n    // In some API calls to Keycloak, it used the ID instead of the clientID i.e: realmResource.clients().get(ID)\n    // Hence it is crucial to set both to the same value (CLIENT_ID) to avoid complexity\n    clientRepresentation.setId(CLIENT_ID);\n    clientRepresentation.setClientId(CLIENT_ID);\n</code></pre>\n<p>Make sure to <code>clientRepresentation.setId(CLIENT_ID);</code> or in your case to use the id instead of clientId for operations like</p>\n<pre><code>RoleRepresentation clientRole = realmResource.clients().get(CLIENT_ID).roles().get(role).toRepresentation();\n</code></pre>\n"}],"owner":{"account_id":14829651,"reputation":115,"user_id":10709485,"display_name":"wazowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77531852,"answer_count":1,"score":0,"last_activity_date":1700672421,"creation_date":1700252368,"question_id":77504428,"body_markdown":"Versions : Keycloak 22.04, Spring-Boot 3 + Spring Security\r\n\r\nI have a spring-boot service connected to an existing mongodb with a users collection. I made a KeycloakInitializerRunner that initializes keycloak with the current users in the mongodb collection. So far everything works great. I have mapped users to their client roles and groups (which I call affiliation). In the Keycloak UI I see everything setup perfectly.\r\n\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    @Component\r\n    public class KeycloakInitializerRunner implements CommandLineRunner {\r\n\r\n    private final KeycloakService keycloakService;\r\n\r\n    @Override\r\n    public void run(String... args) {\r\n        log.info(&quot;Initializing &#39;{}&#39; realm in Keycloak ...&quot;, keycloakService.getRealmName());\r\n\r\n        keycloakService.initializeKeycloak();\r\n\r\n        log.info(&quot;&#39;{}&#39; initialization completed successfully!&quot;, keycloakService.getRealmName());\r\n        }\r\n    }\r\n\r\nIn my KeycloakService, I have logic that reads a user from the userRepository and maps it to create a UserRepresentation. The same logic that the KeycloakInitializerRunner uses is shared with a UserController where I am trying to /user/createUser. When I send a request to create a new user with exactly the same logic, this time, everything works well except it does not add the appropriate client roles I have defined in the request.\r\n\r\nI will put relevant code from my KeycloakService here:\r\n\r\n    public void initializeKeycloak() {\r\n        // Initialization logic\r\n        Optional&lt;RealmRepresentation&gt; representationOptional = keycloakAdmin.realms()\r\n                .findAll()\r\n                .stream()\r\n                .filter(r -&gt; r.getRealm().equals(REALM_NAME))\r\n                .findAny();\r\n\r\n        if (representationOptional.isPresent()) {\r\n            log.info(&quot;Removing already pre-configured &#39;{}&#39; realm&quot;, REALM_NAME);\r\n            keycloakAdmin.realm(REALM_NAME).remove();\r\n        }\r\n\r\n        RealmRepresentation realmRepresentation = createRealmRepresentation();\r\n\r\n        Set&lt;String&gt; affiliations = userRepository.findAllAsStream()\r\n                .map(User::getAffiliation)\r\n                .filter(affiliation -&gt; affiliation != null &amp;&amp; affiliation.getName() != null)\r\n                .map(CcgAffiliation::getName)\r\n                .collect(Collectors.toSet());\r\n\r\n        List&lt;GroupRepresentation&gt; groupRepresentations = createGroupRepresentations(affiliations);\r\n\r\n        List&lt;UserRepresentation&gt; userRepresentations = createUserRepresentations(groupRepresentations);\r\n\r\n        createRealm(realmRepresentation, groupRepresentations, userRepresentations);\r\n\r\n        testKeycloakIntegration();\r\n    }\r\n\r\n    private List&lt;UserRepresentation&gt; createUserRepresentations(List&lt;GroupRepresentation&gt; groupRepresentations) {\r\n        return userRepository.findAllAsStream()\r\n                .map(user -&gt; {\r\n                    UserRepresentation userRepresentation = createUserRepresentation(user);\r\n\r\n                    addUserToGroups(user, userRepresentation, groupRepresentations);\r\n\r\n                    return userRepresentation;\r\n                })\r\n                .toList();\r\n    }\r\n    \r\n    private UserRepresentation createUserRepresentation(User user) {\r\n        CredentialRepresentation credentialRepresentation = new CredentialRepresentation();\r\n        credentialRepresentation.setType(CredentialRepresentation.PASSWORD);\r\n        credentialRepresentation.setValue(&quot;admin&quot;);\r\n\r\n        UserRepresentation userRepresentation = new UserRepresentation();\r\n        userRepresentation.setUsername(user.getUsername());\r\n        userRepresentation.setEmail(user.getEmail());\r\n        userRepresentation.setLastName(user.getLastName());\r\n        userRepresentation.setFirstName(user.getFirstName());\r\n        userRepresentation.setEnabled(true);\r\n        userRepresentation.setCredentials(List.of(credentialRepresentation));\r\n        userRepresentation.setClientRoles(getClientRoles(CLIENT_ID, user)); // FIXME: WHY DOES NOT WORK ON /USER/CREATEUSER ???\r\n        userRepresentation.setEmailVerified(true);\r\n        userRepresentation.setCreatedTimestamp(Instant.now().toEpochMilli());\r\n\r\n        return userRepresentation;\r\n    }\r\n\r\nUserController\r\n\r\n    @PostMapping(value = &quot;/user/registerUser&quot;, consumes = &quot;multipart/form-data&quot;, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;Void&gt; registerUser(\r\n            @RequestParam(&quot;user&quot;) String userTemp,\r\n            @RequestParam(value = &quot;file&quot;, required = false) MultipartFile file\r\n            ) {\r\n        try {\r\n            User user = StaticObjectMapper.toObject(userTemp, User.class);\r\n            \r\n            // deleted irrelevant code\r\n\r\n            userRepository.save(user);\r\n\r\n            // Create user in Keycloak\r\n            keycloakService.createKeycloakUser(user);\r\n\r\n            return ResponseEntity.ok().build();\r\n        } catch (Exception e) {\r\n            LOGGER.error(e.getMessage());\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n        }\r\n    }\r\n\r\nI know best practice is to have a single entity managing my users, but this is a proof of concept that is almost working for my use case. The issue here is Keycloak not acting the same when createKeycloakUser is called. Any help is welcome.\r\n","title":"Keycloak not adding client role on user creation","body":"<p>Versions : Keycloak 22.04, Spring-Boot 3 + Spring Security</p>\n<p>I have a spring-boot service connected to an existing mongodb with a users collection. I made a KeycloakInitializerRunner that initializes keycloak with the current users in the mongodb collection. So far everything works great. I have mapped users to their client roles and groups (which I call affiliation). In the Keycloak UI I see everything setup perfectly.</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\n@Component\npublic class KeycloakInitializerRunner implements CommandLineRunner {\n\nprivate final KeycloakService keycloakService;\n\n@Override\npublic void run(String... args) {\n    log.info(&quot;Initializing '{}' realm in Keycloak ...&quot;, keycloakService.getRealmName());\n\n    keycloakService.initializeKeycloak();\n\n    log.info(&quot;'{}' initialization completed successfully!&quot;, keycloakService.getRealmName());\n    }\n}\n</code></pre>\n<p>In my KeycloakService, I have logic that reads a user from the userRepository and maps it to create a UserRepresentation. The same logic that the KeycloakInitializerRunner uses is shared with a UserController where I am trying to /user/createUser. When I send a request to create a new user with exactly the same logic, this time, everything works well except it does not add the appropriate client roles I have defined in the request.</p>\n<p>I will put relevant code from my KeycloakService here:</p>\n<pre><code>public void initializeKeycloak() {\n    // Initialization logic\n    Optional&lt;RealmRepresentation&gt; representationOptional = keycloakAdmin.realms()\n            .findAll()\n            .stream()\n            .filter(r -&gt; r.getRealm().equals(REALM_NAME))\n            .findAny();\n\n    if (representationOptional.isPresent()) {\n        log.info(&quot;Removing already pre-configured '{}' realm&quot;, REALM_NAME);\n        keycloakAdmin.realm(REALM_NAME).remove();\n    }\n\n    RealmRepresentation realmRepresentation = createRealmRepresentation();\n\n    Set&lt;String&gt; affiliations = userRepository.findAllAsStream()\n            .map(User::getAffiliation)\n            .filter(affiliation -&gt; affiliation != null &amp;&amp; affiliation.getName() != null)\n            .map(CcgAffiliation::getName)\n            .collect(Collectors.toSet());\n\n    List&lt;GroupRepresentation&gt; groupRepresentations = createGroupRepresentations(affiliations);\n\n    List&lt;UserRepresentation&gt; userRepresentations = createUserRepresentations(groupRepresentations);\n\n    createRealm(realmRepresentation, groupRepresentations, userRepresentations);\n\n    testKeycloakIntegration();\n}\n\nprivate List&lt;UserRepresentation&gt; createUserRepresentations(List&lt;GroupRepresentation&gt; groupRepresentations) {\n    return userRepository.findAllAsStream()\n            .map(user -&gt; {\n                UserRepresentation userRepresentation = createUserRepresentation(user);\n\n                addUserToGroups(user, userRepresentation, groupRepresentations);\n\n                return userRepresentation;\n            })\n            .toList();\n}\n\nprivate UserRepresentation createUserRepresentation(User user) {\n    CredentialRepresentation credentialRepresentation = new CredentialRepresentation();\n    credentialRepresentation.setType(CredentialRepresentation.PASSWORD);\n    credentialRepresentation.setValue(&quot;admin&quot;);\n\n    UserRepresentation userRepresentation = new UserRepresentation();\n    userRepresentation.setUsername(user.getUsername());\n    userRepresentation.setEmail(user.getEmail());\n    userRepresentation.setLastName(user.getLastName());\n    userRepresentation.setFirstName(user.getFirstName());\n    userRepresentation.setEnabled(true);\n    userRepresentation.setCredentials(List.of(credentialRepresentation));\n    userRepresentation.setClientRoles(getClientRoles(CLIENT_ID, user)); // FIXME: WHY DOES NOT WORK ON /USER/CREATEUSER ???\n    userRepresentation.setEmailVerified(true);\n    userRepresentation.setCreatedTimestamp(Instant.now().toEpochMilli());\n\n    return userRepresentation;\n}\n</code></pre>\n<p>UserController</p>\n<pre><code>@PostMapping(value = &quot;/user/registerUser&quot;, consumes = &quot;multipart/form-data&quot;, produces = &quot;application/json&quot;)\npublic ResponseEntity&lt;Void&gt; registerUser(\n        @RequestParam(&quot;user&quot;) String userTemp,\n        @RequestParam(value = &quot;file&quot;, required = false) MultipartFile file\n        ) {\n    try {\n        User user = StaticObjectMapper.toObject(userTemp, User.class);\n        \n        // deleted irrelevant code\n\n        userRepository.save(user);\n\n        // Create user in Keycloak\n        keycloakService.createKeycloakUser(user);\n\n        return ResponseEntity.ok().build();\n    } catch (Exception e) {\n        LOGGER.error(e.getMessage());\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n    }\n}\n</code></pre>\n<p>I know best practice is to have a single entity managing my users, but this is a proof of concept that is almost working for my use case. The issue here is Keycloak not acting the same when createKeycloakUser is called. Any help is welcome.</p>\n"},{"tags":["java","jsp","validation","struts2","struts"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1359142600,"post_id":14529016,"comment_id":20259974,"body_markdown":"Are you using Struts 1 or 2?","body":"Are you using Struts 1 or 2?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1359146980,"post_id":14529016,"comment_id":20261879,"body_markdown":"Also see [How to post error messages to the HTML from Struts2 outside of Action class](http://stackoverflow.com/questions/13554962/how-to-post-error-messages-to-the-html-from-struts2-outside-of-action-class)","body":"Also see <a href=\"http://stackoverflow.com/questions/13554962/how-to-post-error-messages-to-the-html-from-struts2-outside-of-action-class\">How to post error messages to the HTML from Struts2 outside of Action class</a>"}],"answers":[{"tags":[],"owner":{"account_id":238645,"reputation":7389,"user_id":507675,"accept_rate":74,"display_name":"chad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359146645,"creation_date":1359146645,"answer_id":14530073,"question_id":14529016,"body_markdown":"I would say you definitely don&#39;t want the login logic in the validate method; that&#39;s for validating data. \r\n\r\nI would suggest that if your login fails, just expose a data property on the action like:\r\n\r\n    execute () {\r\n    \r\n       boolean authenticated = login( getUsername(), getPassword() );\r\n       setLoginValid( authenticated );\r\n       \r\n       if ( authenticated ) \r\n          result = SUCCESS;\r\n       else \r\n          result = FAILURE;\r\n    \r\n       return result;\r\n    \r\n    }\r\n\r\nAnd then in your login.jsp, simply wrap a message about bad credentials in the struts if tag, with a test on the loginValid property.\r\n","title":"How to know from which class a request has been received","body":"<p>I would say you definitely don't want the login logic in the validate method; that's for validating data. </p>\n\n<p>I would suggest that if your login fails, just expose a data property on the action like:</p>\n\n<pre><code>execute () {\n\n   boolean authenticated = login( getUsername(), getPassword() );\n   setLoginValid( authenticated );\n\n   if ( authenticated ) \n      result = SUCCESS;\n   else \n      result = FAILURE;\n\n   return result;\n\n}\n</code></pre>\n\n<p>And then in your login.jsp, simply wrap a message about bad credentials in the struts if tag, with a test on the loginValid property.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622284785,"creation_date":1359149851,"answer_id":14530788,"question_id":14529016,"body_markdown":"The purpose of the validation framework is to check field values to be valid to prevent unexpected errors while executing the action. \r\n\r\nIt is a good practice to separate the validation logic from the business logic. Authentication has nothing to do with validation logic. It is a separate process provided by security mechanisms. Of course you can create the action or interceptor that performs authentication, and as with any action you can configure it for validation.\r\n\r\nIn Struts2 it&#39;s even more simplified by applying a [`validation` interceptor][1] is a part of the job for processing request. In more sophisticated scenarios authentication becomes a part of the business logic, but the method to validate the input fields renames the same. If your action is only do is authenticating then you may not require the validation to process authentication. \r\n\r\nTo your second question: all you need is to `addActionError(getText(&quot;error.key&quot;))` to invalidate the action. Then return to the result where `&lt;s:actionerror&gt;` to display the message.   \r\n\r\nWhat is more important the validation logic remains the same if you decide to move it to the action. In this case the only thing you have to do is to remove the validation stack. The only reason of such *validation* is to return the result that is different than `&quot;input&quot;`.\r\n\r\n  [1]: https://struts.apache.org/core-developers/validation-interceptor.html\r\n","title":"How to know from which class a request has been received","body":"<p>The purpose of the validation framework is to check field values to be valid to prevent unexpected errors while executing the action.</p>\n<p>It is a good practice to separate the validation logic from the business logic. Authentication has nothing to do with validation logic. It is a separate process provided by security mechanisms. Of course you can create the action or interceptor that performs authentication, and as with any action you can configure it for validation.</p>\n<p>In Struts2 it's even more simplified by applying a <a href=\"https://struts.apache.org/core-developers/validation-interceptor.html\" rel=\"nofollow noreferrer\"><code>validation</code> interceptor</a> is a part of the job for processing request. In more sophisticated scenarios authentication becomes a part of the business logic, but the method to validate the input fields renames the same. If your action is only do is authenticating then you may not require the validation to process authentication.</p>\n<p>To your second question: all you need is to <code>addActionError(getText(&quot;error.key&quot;))</code> to invalidate the action. Then return to the result where <code>&lt;s:actionerror&gt;</code> to display the message.</p>\n<p>What is more important the validation logic remains the same if you decide to move it to the action. In this case the only thing you have to do is to remove the validation stack. The only reason of such <em>validation</em> is to return the result that is different than <code>&quot;input&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1359172215,"creation_date":1359153354,"answer_id":14531438,"question_id":14529016,"body_markdown":"Authentication belongs in the action, not in validation, IMO.\r\n\r\nI *might* consider using XML or annotation validations for the fields themselves and put the login attempt in `validate()`, but the code is small, and I&#39;d be pretty comfortable with it either way.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public String execute() {\r\n        if (userService.loginValid(username, password) {\r\n            return SUCCESS;\r\n        }\r\n\r\n        addActionError(getText(&quot;login.failure&quot;));\r\n        return FAILURE;\r\n    }\r\n\r\nI would use the framework&#39;s support for action-level error messages rather than using a flag (and I wouldn&#39;t *duplicate* that flag with a local if I did), and I strongly recommend using something you can inject to do the actual logging in to make testing easier.\r\n\r\nUsing the `validate()` approach makes things pretty tight:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public void validate() {\r\n        if (!userService.loginValid(username, password)) {\r\n            addActionError(getText(&quot;login.failure&quot;));\r\n        }\r\n    }\r\n\r\nAssuming you define reasonable &quot;input&quot; and &quot;success&quot; results that might be all you need. If developers looking at the code are familiar with the framework the `validate()` version is relatively clear.\r\n\r\nIf you&#39;re not interested in using XML or annotation validations, you can do that manually as well. That *definitely* belongs in `validate()`, and for common utility methods like this, static imports make the code still relatively concise:\r\n\r\n    public void validate() {\r\n        boolean tryLogin = true;\r\n\r\n        if (isBlank(username)) {\r\n            addFieldError(&quot;username&quot;, getText(&quot;login.username.required&quot;));\r\n            tryLogin = false;\r\n        }\r\n\r\n        if (isBlank(password)) {\r\n            addFieldError(&quot;password&quot;, getText(&quot;login.password.required&quot;));\r\n            tryLogin = false;\r\n        }\r\n\r\n        if (tryLogin &amp;&amp; !userService.loginValid(username, password)) {\r\n            addActionError(getText(&quot;login.failure&quot;));\r\n        }\r\n    }\r\n\r\n(I added the `tryLogin` flag to avoid seeing the error message for a login that will obviously fail, although this could be handled in other ways as well. Post-login processing elided.)","title":"How to know from which class a request has been received","body":"<p>Authentication belongs in the action, not in validation, IMO.</p>\n\n<p>I <em>might</em> consider using XML or annotation validations for the fields themselves and put the login attempt in <code>validate()</code>, but the code is small, and I'd be pretty comfortable with it either way.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public String execute() {\n    if (userService.loginValid(username, password) {\n        return SUCCESS;\n    }\n\n    addActionError(getText(\"login.failure\"));\n    return FAILURE;\n}\n</code></pre>\n\n<p>I would use the framework's support for action-level error messages rather than using a flag (and I wouldn't <em>duplicate</em> that flag with a local if I did), and I strongly recommend using something you can inject to do the actual logging in to make testing easier.</p>\n\n<p>Using the <code>validate()</code> approach makes things pretty tight:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void validate() {\n    if (!userService.loginValid(username, password)) {\n        addActionError(getText(\"login.failure\"));\n    }\n}\n</code></pre>\n\n<p>Assuming you define reasonable \"input\" and \"success\" results that might be all you need. If developers looking at the code are familiar with the framework the <code>validate()</code> version is relatively clear.</p>\n\n<p>If you're not interested in using XML or annotation validations, you can do that manually as well. That <em>definitely</em> belongs in <code>validate()</code>, and for common utility methods like this, static imports make the code still relatively concise:</p>\n\n<pre><code>public void validate() {\n    boolean tryLogin = true;\n\n    if (isBlank(username)) {\n        addFieldError(\"username\", getText(\"login.username.required\"));\n        tryLogin = false;\n    }\n\n    if (isBlank(password)) {\n        addFieldError(\"password\", getText(\"login.password.required\"));\n        tryLogin = false;\n    }\n\n    if (tryLogin &amp;&amp; !userService.loginValid(username, password)) {\n        addActionError(getText(\"login.failure\"));\n    }\n}\n</code></pre>\n\n<p>(I added the <code>tryLogin</code> flag to avoid seeing the error message for a login that will obviously fail, although this could be handled in other ways as well. Post-login processing elided.)</p>\n"}],"owner":{"account_id":948533,"reputation":2812,"user_id":975234,"accept_rate":75,"display_name":"Rebooting"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":14531438,"answer_count":3,"score":0,"last_activity_date":1700672366,"creation_date":1359142160,"question_id":14529016,"body_markdown":"I have a `login.jsp` page in my application. I&#39;m using Struts 2 and a simple `validate()` method to validate my form. I have two questions:\r\n\r\n1. `validate()` method in my form bean class validates the form. I.e checks for empty fields etc. If I need to check my username and password combination should I do this inside `validate()` or in my action class? \r\n\r\n2. If I am doing the same in my `Action` class, correct combination leads to success page. I want the incorrect combination to lead to my JSP page along with the error message: &quot;Incorrect combination&quot;. How can I check in my JSP page that the request has come from action class so that it can print the error message &quot;Incorrect combination&quot;?","title":"How to know from which class a request has been received","body":"<p>I have a <code>login.jsp</code> page in my application. I'm using Struts 2 and a simple <code>validate()</code> method to validate my form. I have two questions:</p>\n<ol>\n<li><p><code>validate()</code> method in my form bean class validates the form. I.e checks for empty fields etc. If I need to check my username and password combination should I do this inside <code>validate()</code> or in my action class?</p>\n</li>\n<li><p>If I am doing the same in my <code>Action</code> class, correct combination leads to success page. I want the incorrect combination to lead to my JSP page along with the error message: &quot;Incorrect combination&quot;. How can I check in my JSP page that the request has come from action class so that it can print the error message &quot;Incorrect combination&quot;?</p>\n</li>\n</ol>\n"},{"tags":["java","maven","jaxb"],"comments":[{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1700670720,"post_id":77530239,"comment_id":136683901,"body_markdown":"Hello there, I&#39;m looking at your problem. If there&#39;s an issue, I&#39;ll log it in github and provide a PR to fix it if possible to fix it. We are planning a 4.0.1 release soon","body":"Hello there, I&#39;m looking at your problem. If there&#39;s an issue, I&#39;ll log it in github and provide a PR to fix it if possible to fix it. We are planning a 4.0.1 release soon"}],"answers":[{"tags":[],"owner":{"account_id":1010706,"reputation":1264,"user_id":1023341,"display_name":"gkephorus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700658758,"creation_date":1700658758,"answer_id":77530240,"question_id":77530239,"body_markdown":"This is due to the fact that the plugin only honors the first ```namespace:prefix``` from the bindings.\r\n\r\nIn my particular case I could get by by finding all the targetNamespaces of each schema file and only mentioning this in the bindings like this:\r\n\r\n    &lt;!-- OrderService --&gt;\r\n    &lt;bindings schemaLocation=&quot;OrderService-v1.1.xsd&quot;&gt;\r\n        &lt;bindings&gt;\r\n            &lt;namespace:prefix name=&quot;&quot; namespaceURI=&quot;http://types.theberlinbakery.com/v1_2&quot; /&gt;\r\n        &lt;/bindings&gt;\r\n    &lt;/bindings&gt;\r\n    &lt;!-- Partner --&gt;\r\n    &lt;bindings schemaLocation=&quot;Partner-v1.0.xsd&quot;&gt;\r\n        &lt;bindings&gt;\r\n            &lt;namespace:prefix name=&quot;v1p0&quot; namespaceURI=&quot;http://types.theberlinbakery.com/v1_0&quot; /&gt;\r\n        &lt;/bindings&gt;\r\n    &lt;/bindings&gt;\r\n\r\nand so on.\r\n\r\nConsequence is also that the attribute namespaceURI is totally useless in the bindings-file.\r\n\r\nAll demonstrated in ```master```-branch of github repo [proof-jaxb-namespace-prefix-plugin][1]\r\n\r\n\r\n  [1]: https://github.com/gkfirst8/proof-jaxb-namespace-prefix-plugin","title":"Why can&#39;t I use multiple namespace:prefix for one package-info.java via urn:jaxb.jvnet.org:plugin:namespace-prefix Maven plugin","body":"<p>This is due to the fact that the plugin only honors the first <code>namespace:prefix</code> from the bindings.</p>\n<p>In my particular case I could get by by finding all the targetNamespaces of each schema file and only mentioning this in the bindings like this:</p>\n<pre><code>&lt;!-- OrderService --&gt;\n&lt;bindings schemaLocation=&quot;OrderService-v1.1.xsd&quot;&gt;\n    &lt;bindings&gt;\n        &lt;namespace:prefix name=&quot;&quot; namespaceURI=&quot;http://types.theberlinbakery.com/v1_2&quot; /&gt;\n    &lt;/bindings&gt;\n&lt;/bindings&gt;\n&lt;!-- Partner --&gt;\n&lt;bindings schemaLocation=&quot;Partner-v1.0.xsd&quot;&gt;\n    &lt;bindings&gt;\n        &lt;namespace:prefix name=&quot;v1p0&quot; namespaceURI=&quot;http://types.theberlinbakery.com/v1_0&quot; /&gt;\n    &lt;/bindings&gt;\n&lt;/bindings&gt;\n</code></pre>\n<p>and so on.</p>\n<p>Consequence is also that the attribute namespaceURI is totally useless in the bindings-file.</p>\n<p>All demonstrated in <code>master</code>-branch of github repo <a href=\"https://github.com/gkfirst8/proof-jaxb-namespace-prefix-plugin\" rel=\"nofollow noreferrer\">proof-jaxb-namespace-prefix-plugin</a></p>\n"},{"comments":[{"owner":{"account_id":1010706,"reputation":1264,"user_id":1023341,"display_name":"gkephorus"},"score":0,"creation_date":1700775082,"post_id":77531841,"comment_id":136698355,"body_markdown":"Indeed the Wiki is clear. I&#39;m not sure where I got the namespaceURI from but it would help if you&#39;re suggestion in this answer would be a reality, thanks. (Thought my project is done with my answer.)","body":"Indeed the Wiki is clear. I&#39;m not sure where I got the namespaceURI from but it would help if you&#39;re suggestion in this answer would be a reality, thanks. (Thought my project is done with my answer.)"},{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1700778126,"post_id":77531841,"comment_id":136698636,"body_markdown":"Created https://github.com/highsource/jaxb-tools/issues/457 issue in jaxb-tools. I&#39;ll check it if possible to do it without breaking anything","body":"Created <a href=\"https://github.com/highsource/jaxb-tools/issues/457\" rel=\"nofollow noreferrer\">github.com/highsource/jaxb-tools/issues/457</a> issue in jaxb-tools. I&#39;ll check it if possible to do it without breaking anything"}],"tags":[],"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700672310,"creation_date":1700672310,"answer_id":77531841,"question_id":77530239,"body_markdown":"By quickly modifying the plugin behaviour, I get this generated :\r\n\r\n```java\r\n@jakarta.xml.bind.annotation.XmlSchema(namespace = &quot;http://types.theberlinbakery.com/v1_1&quot;, elementFormDefault = jakarta.xml.bind.annotation.XmlNsForm.QUALIFIED, xmlns = {\r\n    @jakarta.xml.bind.annotation.XmlNs(namespaceURI = &quot;http://types.theberlinbakery.com/v1_2&quot;, prefix = &quot;&quot;),\r\n    @jakarta.xml.bind.annotation.XmlNs(namespaceURI = &quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, prefix = &quot;soapenv&quot;),\r\n    @jakarta.xml.bind.annotation.XmlNs(namespaceURI = &quot;http://types.theberlinbakery.com/v1_0&quot;, prefix = &quot;v1p0&quot;)\r\n})\r\npackage com.intershop.iom.typesv1_1;\r\n```\r\n\r\nIs it what you&#39;re expecting ?\r\n\r\nAlso seeing the [wiki page][1], the example is not expecting to read any namespaceURI : the goal is to define a prefix for the current namespace.\r\n\r\n\r\n  [1]: https://github.com/highsource/jaxb-tools/wiki/JAXB2-Namespace-Prefix-Plugin","title":"Why can&#39;t I use multiple namespace:prefix for one package-info.java via urn:jaxb.jvnet.org:plugin:namespace-prefix Maven plugin","body":"<p>By quickly modifying the plugin behaviour, I get this generated :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@jakarta.xml.bind.annotation.XmlSchema(namespace = &quot;http://types.theberlinbakery.com/v1_1&quot;, elementFormDefault = jakarta.xml.bind.annotation.XmlNsForm.QUALIFIED, xmlns = {\n    @jakarta.xml.bind.annotation.XmlNs(namespaceURI = &quot;http://types.theberlinbakery.com/v1_2&quot;, prefix = &quot;&quot;),\n    @jakarta.xml.bind.annotation.XmlNs(namespaceURI = &quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, prefix = &quot;soapenv&quot;),\n    @jakarta.xml.bind.annotation.XmlNs(namespaceURI = &quot;http://types.theberlinbakery.com/v1_0&quot;, prefix = &quot;v1p0&quot;)\n})\npackage com.intershop.iom.typesv1_1;\n</code></pre>\n<p>Is it what you're expecting ?</p>\n<p>Also seeing the <a href=\"https://github.com/highsource/jaxb-tools/wiki/JAXB2-Namespace-Prefix-Plugin\" rel=\"nofollow noreferrer\">wiki page</a>, the example is not expecting to read any namespaceURI : the goal is to define a prefix for the current namespace.</p>\n"}],"owner":{"account_id":1010706,"reputation":1264,"user_id":1023341,"display_name":"gkephorus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700672310,"creation_date":1700658758,"question_id":77530239,"body_markdown":"When I use these bindings:\r\n\r\n    &lt;bindings schemaLocation=&quot;OrderStateService-v1.0.xsd&quot;&gt;\r\n        &lt;bindings&gt;\r\n            &lt;namespace:prefix name=&quot;&quot; namespaceURI=&quot;http://types.theberlinbakery.com/v1_2&quot; /&gt;\r\n            &lt;namespace:prefix name=&quot;soapenv&quot; namespaceURI=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; /&gt;\r\n            &lt;namespace:prefix name=&quot;v1p0&quot; namespaceURI=&quot;http://types.theberlinbakery.com/v1_0&quot; /&gt;\r\n            &lt;namespace:prefix name=&quot;v1p1&quot; namespaceURI=&quot;http://types.theberlinbakery.com/v1_1&quot; /&gt;\r\n        &lt;/bindings&gt;\r\n    &lt;/bindings&gt;\r\n\r\nwhile using the [namespace-prefix plugin in Maven][1].\r\n\r\nI notice I only get the first one in this list applied in my package-info.java:\r\n\r\n    @jakarta.xml.bind.annotation.XmlSchema(namespace = &quot;http://types.theberlinbakery.com/v1_2&quot;, elementFormDefault = jakarta.xml.bind.annotation.XmlNsForm.QUALIFIED, xmlns = {\r\n        @jakarta.xml.bind.annotation.XmlNs(namespaceURI = &quot;http://types.theberlinbakery.com/v1_2&quot;, prefix = &quot;&quot;)\r\n    })\r\n    package com.intershop.iom.typesv1_2;\r\n\r\nWhere I would expect all of them being applied:\r\n\r\n    @jakarta.xml.bind.annotation.XmlSchema(namespace = &quot;http://types.theberlinbakery.com/v1_2&quot;, elementFormDefault = jakarta.xml.bind.annotation.XmlNsForm.QUALIFIED, xmlns = {\r\n        @jakarta.xml.bind.annotation.XmlNs(namespaceURI = &quot;http://types.theberlinbakery.com/v1_2&quot;, prefix = &quot;&quot;)\r\n        @jakarta.xml.bind.annotation.XmlNs(namespaceURI = &quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, prefix = &quot;soapenv&quot;)\r\n        @jakarta.xml.bind.annotation.XmlNs(namespaceURI = &quot;http://types.theberlinbakery.com/v1_0&quot;, prefix = &quot;v1p0&quot;)\r\n        @jakarta.xml.bind.annotation.XmlNs(namespaceURI = &quot;http://types.theberlinbakery.com/v1_1&quot;, prefix = &quot;v1p1&quot;)\r\n    })\r\n    package com.intershop.iom.typesv1_2;\r\n\r\nAll demonstrated in branch ```that-which-does-not-work``` on github repo: [proof-jaxb-namespace-prefix-plugin][2]\r\n\r\nHow come?\r\n\r\n\r\n  [1]: https://github.com/highsource/jaxb-tools/wiki/JAXB2-Namespace-Prefix-Plugin\r\n  [2]: https://github.com/gkfirst8/proof-jaxb-namespace-prefix-plugin","title":"Why can&#39;t I use multiple namespace:prefix for one package-info.java via urn:jaxb.jvnet.org:plugin:namespace-prefix Maven plugin","body":"<p>When I use these bindings:</p>\n<pre><code>&lt;bindings schemaLocation=&quot;OrderStateService-v1.0.xsd&quot;&gt;\n    &lt;bindings&gt;\n        &lt;namespace:prefix name=&quot;&quot; namespaceURI=&quot;http://types.theberlinbakery.com/v1_2&quot; /&gt;\n        &lt;namespace:prefix name=&quot;soapenv&quot; namespaceURI=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; /&gt;\n        &lt;namespace:prefix name=&quot;v1p0&quot; namespaceURI=&quot;http://types.theberlinbakery.com/v1_0&quot; /&gt;\n        &lt;namespace:prefix name=&quot;v1p1&quot; namespaceURI=&quot;http://types.theberlinbakery.com/v1_1&quot; /&gt;\n    &lt;/bindings&gt;\n&lt;/bindings&gt;\n</code></pre>\n<p>while using the <a href=\"https://github.com/highsource/jaxb-tools/wiki/JAXB2-Namespace-Prefix-Plugin\" rel=\"nofollow noreferrer\">namespace-prefix plugin in Maven</a>.</p>\n<p>I notice I only get the first one in this list applied in my package-info.java:</p>\n<pre><code>@jakarta.xml.bind.annotation.XmlSchema(namespace = &quot;http://types.theberlinbakery.com/v1_2&quot;, elementFormDefault = jakarta.xml.bind.annotation.XmlNsForm.QUALIFIED, xmlns = {\n    @jakarta.xml.bind.annotation.XmlNs(namespaceURI = &quot;http://types.theberlinbakery.com/v1_2&quot;, prefix = &quot;&quot;)\n})\npackage com.intershop.iom.typesv1_2;\n</code></pre>\n<p>Where I would expect all of them being applied:</p>\n<pre><code>@jakarta.xml.bind.annotation.XmlSchema(namespace = &quot;http://types.theberlinbakery.com/v1_2&quot;, elementFormDefault = jakarta.xml.bind.annotation.XmlNsForm.QUALIFIED, xmlns = {\n    @jakarta.xml.bind.annotation.XmlNs(namespaceURI = &quot;http://types.theberlinbakery.com/v1_2&quot;, prefix = &quot;&quot;)\n    @jakarta.xml.bind.annotation.XmlNs(namespaceURI = &quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, prefix = &quot;soapenv&quot;)\n    @jakarta.xml.bind.annotation.XmlNs(namespaceURI = &quot;http://types.theberlinbakery.com/v1_0&quot;, prefix = &quot;v1p0&quot;)\n    @jakarta.xml.bind.annotation.XmlNs(namespaceURI = &quot;http://types.theberlinbakery.com/v1_1&quot;, prefix = &quot;v1p1&quot;)\n})\npackage com.intershop.iom.typesv1_2;\n</code></pre>\n<p>All demonstrated in branch <code>that-which-does-not-work</code> on github repo: <a href=\"https://github.com/gkfirst8/proof-jaxb-namespace-prefix-plugin\" rel=\"nofollow noreferrer\">proof-jaxb-namespace-prefix-plugin</a></p>\n<p>How come?</p>\n"},{"tags":["java","spring","spring-boot","mocking","integration-testing"],"comments":[{"owner":{"account_id":4200044,"reputation":3510,"user_id":3440376,"display_name":"tan9"},"score":0,"creation_date":1487043115,"post_id":40563409,"comment_id":71595841,"body_markdown":"You can inject mock and call initialization code by hand as described in this answer: http://stackoverflow.com/a/31587946/3440376","body":"You can inject mock and call initialization code by hand as described in this answer: <a href=\"http://stackoverflow.com/a/31587946/3440376\">stackoverflow.com/a/31587946/3440376</a>"},{"owner":{"account_id":139814,"reputation":16854,"user_id":345648,"accept_rate":48,"display_name":"Alexander Taylor"},"score":0,"creation_date":1647048237,"post_id":40563409,"comment_id":126282540,"body_markdown":"Thanks for the workaround. Using `Answers.CALLS_REAL_METHODS` I was able provide a fake implementation in a subclass taking effect before the set up of other beans, and avoid use of `@Primary`.","body":"Thanks for the workaround. Using <code>Answers.CALLS_REAL_METHODS</code> I was able provide a fake implementation in a subclass taking effect before the set up of other beans, and avoid use of <code>@Primary</code>."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1700672245,"post_id":40563409,"comment_id":136684256,"body_markdown":"I&#39;ve added your edit as a standalone answer, as that&#39;s basically what it is: https://stackoverflow.com/a/77531830/1108305","body":"I&#39;ve added your edit as a standalone answer, as that&#39;s basically what it is: <a href=\"https://stackoverflow.com/a/77531830/1108305\">stackoverflow.com/a/77531830/1108305</a>"}],"answers":[{"tags":[],"owner":{"account_id":6502278,"reputation":1449,"user_id":5032575,"display_name":"Ahmed Sayed"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1555086190,"creation_date":1555086190,"answer_id":55655914,"question_id":40563409,"body_markdown":"I think that it&#39;s due to the way you autowire your dependencies. Take a look at [this][1] (specially the part about &#39;Fix #1: Solve your design and make your dependencies visible&#39;). That way you can also avoid using the `@PostConstruct` and just use the constructor instead.\r\n\r\n\r\n  [1]: https://tedvinke.wordpress.com/2014/02/13/mockito-why-you-should-not-use-injectmocks-annotation-to-autowire-fields/","title":"Configure @MockBean component before application start","body":"<p>I think that it's due to the way you autowire your dependencies. Take a look at <a href=\"https://tedvinke.wordpress.com/2014/02/13/mockito-why-you-should-not-use-injectmocks-annotation-to-autowire-fields/\" rel=\"nofollow noreferrer\">this</a> (specially the part about 'Fix #1: Solve your design and make your dependencies visible'). That way you can also avoid using the <code>@PostConstruct</code> and just use the constructor instead.</p>\n"},{"tags":[],"owner":{"account_id":3953719,"reputation":1153,"user_id":3263041,"display_name":"Florian Lopes"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1564563451,"creation_date":1564563451,"answer_id":57286893,"question_id":40563409,"body_markdown":"Spring&#39;s initialization is triggered before `@Before` Mockito&#39;s annotation so the mock is not initialized at the time the `@PostConstruct` annotated method is executed.\r\n\r\nTry to &#39;delay&#39; your system detection using `@Lazy` annotation on the `SystemTypeDetector` component. Use your `SystemTypeDetector` where you need it, keep in mind that you cannot trigger this detection in a `@PostConstruct` or equivalent hook.","title":"Configure @MockBean component before application start","body":"<p>Spring's initialization is triggered before <code>@Before</code> Mockito's annotation so the mock is not initialized at the time the <code>@PostConstruct</code> annotated method is executed.</p>\n\n<p>Try to 'delay' your system detection using <code>@Lazy</code> annotation on the <code>SystemTypeDetector</code> component. Use your <code>SystemTypeDetector</code> where you need it, keep in mind that you cannot trigger this detection in a <code>@PostConstruct</code> or equivalent hook.</p>\n"},{"comments":[{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":1,"creation_date":1600364405,"post_id":57324469,"comment_id":113072342,"body_markdown":"This is not relevant to the question. The question is about MockBean for spring-boot tests, not simple mocking in a regular JUnit test.","body":"This is not relevant to the question. The question is about MockBean for spring-boot tests, not simple mocking in a regular JUnit test."}],"tags":[],"owner":{"account_id":7016676,"reputation":163,"user_id":5377759,"display_name":"Niki.Max"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1564746273,"creation_date":1564741071,"answer_id":57324469,"question_id":40563409,"body_markdown":"What U are using, is good for a unit tests: \r\n\r\n    org.mockito.Mockito#when()\r\n\r\nTry to use the following methods for mocking spring beans when the context is spined-up:\r\n\r\n    org.mockito.BDDMockito#given()\r\nIf u are using @SpyBean, then u should use another syntax:\r\n\r\n    willReturn(Arrays.asList(val1, val2))\r\n            .given(service).getEntities(any());\r\n\r\n ","title":"Configure @MockBean component before application start","body":"<p>What U are using, is good for a unit tests: </p>\n\n<pre><code>org.mockito.Mockito#when()\n</code></pre>\n\n<p>Try to use the following methods for mocking spring beans when the context is spined-up:</p>\n\n<pre><code>org.mockito.BDDMockito#given()\n</code></pre>\n\n<p>If u are using @SpyBean, then u should use another syntax:</p>\n\n<pre><code>willReturn(Arrays.asList(val1, val2))\n        .given(service).getEntities(any());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5955558,"reputation":714,"user_id":4682359,"display_name":"Chris Ociepa"},"score":3,"creation_date":1604422293,"post_id":58517289,"comment_id":114340441,"body_markdown":"it worked after setting `spring.main.allow-bean-definition-overriding=true`","body":"it worked after setting <code>spring.main.allow-bean-definition-overriding=true</code>"},{"owner":{"account_id":5973459,"reputation":774,"user_id":4695118,"accept_rate":0,"display_name":"Andrew Sneck"},"score":0,"creation_date":1627566151,"post_id":58517289,"comment_id":121194598,"body_markdown":"this is working in Spring Boot 2.0.9... as it is in the original answer","body":"this is working in Spring Boot 2.0.9... as it is in the original answer"},{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1638353081,"post_id":58517289,"comment_id":124063341,"body_markdown":"this works, but how to change the stub for every test case ?","body":"this works, but how to change the stub for every test case ?"},{"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"score":1,"creation_date":1638365611,"post_id":58517289,"comment_id":124068094,"body_markdown":"Move `when` out from the `@Bean` annotated method, and call `reset` on this bean in `@BeforeEach` method.","body":"Move <code>when</code> out from the <code>@Bean</code> annotated method, and call <code>reset</code> on this bean in <code>@BeforeEach</code> method."},{"owner":{"account_id":13546853,"reputation":351,"user_id":9999594,"display_name":"Ben"},"score":0,"creation_date":1688028505,"post_id":58517289,"comment_id":135019676,"body_markdown":"If you, like me, write a test with a limited Spring context, ie. `@SpringBootTest(classes = {...})`, you have to add `@ContextConfiguration(classes = {DemoApplicationTests.TestConfig.class})` to your test class as well for the bean to be autowirable.","body":"If you, like me, write a test with a limited Spring context, ie. <code>@SpringBootTest(classes = {...})</code>, you have to add <code>@ContextConfiguration(classes = {DemoApplicationTests.TestConfig.class})</code> to your test class as well for the bean to be autowirable."}],"tags":[],"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"comment_count":5,"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1571814577,"creation_date":1571814577,"answer_id":58517289,"question_id":40563409,"body_markdown":"In this case you need to configure mocks in a way we used to do it before `@MockBean` was introduced - by specifying manually a `@Primary` bean that will replace the original one in the context.\r\n\r\n```java\r\n@SpringBootTest\r\nclass DemoApplicationTests {\r\n\r\n\t@TestConfiguration\r\n\tpublic static class TestConfig {\r\n\r\n\t\t@Bean\r\n\t\t@Primary\r\n\t\tpublic SystemTypeDetector mockSystemTypeDetector() {\r\n\t\t\tSystemTypeDetector std = mock(SystemTypeDetector.class);\r\n\t\t\twhen(std.getSystemType()).thenReturn(TYPE_C);\r\n\t\t\treturn std;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Autowired\r\n\tprivate SystemTypeDetector systemTypeDetector;\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t\tassertThat(systemTypeDetector.getSystemType()).isEqualTo(TYPE_C);\r\n\t}\r\n}\r\n```\r\n\r\nSince `@TestConfiguration` class is a static inner class it will be picked automatically only by this test. Complete mock behaviour that you would put into `@Before` has to be moved to method that initialises a bean.","title":"Configure @MockBean component before application start","body":"<p>In this case you need to configure mocks in a way we used to do it before <code>@MockBean</code> was introduced - by specifying manually a <code>@Primary</code> bean that will replace the original one in the context.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass DemoApplicationTests {\n\n    @TestConfiguration\n    public static class TestConfig {\n\n        @Bean\n        @Primary\n        public SystemTypeDetector mockSystemTypeDetector() {\n            SystemTypeDetector std = mock(SystemTypeDetector.class);\n            when(std.getSystemType()).thenReturn(TYPE_C);\n            return std;\n        }\n\n    }\n\n    @Autowired\n    private SystemTypeDetector systemTypeDetector;\n\n    @Test\n    void contextLoads() {\n        assertThat(systemTypeDetector.getSystemType()).isEqualTo(TYPE_C);\n    }\n}\n</code></pre>\n\n<p>Since <code>@TestConfiguration</code> class is a static inner class it will be picked automatically only by this test. Complete mock behaviour that you would put into <code>@Before</code> has to be moved to method that initialises a bean.</p>\n"},{"tags":[],"owner":{"account_id":19476520,"reputation":101,"user_id":14247812,"display_name":"wk."},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1599660138,"creation_date":1599660138,"answer_id":63813340,"question_id":40563409,"body_markdown":"You can use the following trick:\r\n\r\n    @Configuration\r\n    public class Config {\r\n\r\n        @Bean\r\n        public BeanA beanA() {\r\n            return new BeanA();\r\n        }\r\n\r\n        @Bean\r\n        public BeanB beanB() {\r\n            return new BeanB(beanA());\r\n        }\r\n    }\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @ContextConfiguration(classes = {TestConfig.class, Config.class})\r\n    public class ConfigTest {\r\n\r\n        @Configuration\r\n        static class TestConfig {\r\n\r\n            @MockBean\r\n            BeanA beanA;\r\n\r\n            @PostConstruct\r\n            void setUp() {\r\n                when(beanA.someMethod()).thenReturn(...);\r\n            }\r\n        }\r\n    }\r\n\r\nAt least it&#39;s working for `spring-boot-2.1.9.RELEASE`","title":"Configure @MockBean component before application start","body":"<p>You can use the following trick:</p>\n<pre><code>@Configuration\npublic class Config {\n\n    @Bean\n    public BeanA beanA() {\n        return new BeanA();\n    }\n\n    @Bean\n    public BeanB beanB() {\n        return new BeanB(beanA());\n    }\n}\n\n@RunWith(SpringRunner.class)\n@ContextConfiguration(classes = {TestConfig.class, Config.class})\npublic class ConfigTest {\n\n    @Configuration\n    static class TestConfig {\n\n        @MockBean\n        BeanA beanA;\n\n        @PostConstruct\n        void setUp() {\n            when(beanA.someMethod()).thenReturn(...);\n        }\n    }\n}\n</code></pre>\n<p>At least it's working for <code>spring-boot-2.1.9.RELEASE</code></p>\n"},{"comments":[{"owner":{"account_id":5973459,"reputation":774,"user_id":4695118,"accept_rate":0,"display_name":"Andrew Sneck"},"score":0,"creation_date":1627565956,"post_id":67619484,"comment_id":121194493,"body_markdown":"I used solution for creating mock from Maciej Walkowiak and this injection worked for me in Spring Boot 2.0.9 -&gt; use Autowired on mocked instance instead MockBean","body":"I used solution for creating mock from Maciej Walkowiak and this injection worked for me in Spring Boot 2.0.9 -&gt; use Autowired on mocked instance instead MockBean"},{"owner":{"account_id":4078845,"reputation":1503,"user_id":3349753,"accept_rate":80,"display_name":"Aditya Ekbote"},"score":0,"creation_date":1669832816,"post_id":67619484,"comment_id":131735080,"body_markdown":"Super vote up this answer! You saved my day!","body":"Super vote up this answer! You saved my day!"}],"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1621510559,"creation_date":1621510215,"answer_id":67619484,"question_id":40563409,"body_markdown":"I was able to fix it like this\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = MyWebApplication.class, webEnvironment = RANDOM_PORT)\r\npublic class IntegrationTestNrOne {\r\n    // this inner class must be static!\r\n    @TestConfiguration\r\n    public static class EarlyConfiguration {\r\n       @MockBean \r\n       private SystemTypeDetector systemTypeDetectorMock;\r\n\r\n       @PostConstruct \r\n       public void initMock(){\r\n          Mockito.when(systemTypeDetectorMock.getSystemType()).thenReturn(TYPE_C);\r\n       }\r\n    }\r\n\r\n    // here we can inject the bean created by EarlyConfiguration\r\n    @Autowired \r\n    private SystemTypeDetector systemTypeDetectorMock;\r\n\r\n    @Autowired\r\n    private SomeOtherComponent someOtherComponent;\r\n\r\n    @Test \r\n    public void testNrOne(){\r\n       someOtherComponent.doStuff();\r\n    }\r\n}\r\n```\r\n","title":"Configure @MockBean component before application start","body":"<p>I was able to fix it like this</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = MyWebApplication.class, webEnvironment = RANDOM_PORT)\npublic class IntegrationTestNrOne {\n    // this inner class must be static!\n    @TestConfiguration\n    public static class EarlyConfiguration {\n       @MockBean \n       private SystemTypeDetector systemTypeDetectorMock;\n\n       @PostConstruct \n       public void initMock(){\n          Mockito.when(systemTypeDetectorMock.getSystemType()).thenReturn(TYPE_C);\n       }\n    }\n\n    // here we can inject the bean created by EarlyConfiguration\n    @Autowired \n    private SystemTypeDetector systemTypeDetectorMock;\n\n    @Autowired\n    private SomeOtherComponent someOtherComponent;\n\n    @Test \n    public void testNrOne(){\n       someOtherComponent.doStuff();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700672195,"creation_date":1700672195,"answer_id":77531830,"question_id":40563409,"body_markdown":"For your specific case (as you mentioned in an edit to your answer), as a workaround you can use `@MockBean(answer = CALLS_REAL_METHODS)`.  This will use the actual method implementation at startup.  Then within tests that need to mock out the value, you can specify mocks as normal.","title":"Configure @MockBean component before application start","body":"<p>For your specific case (as you mentioned in an edit to your answer), as a workaround you can use <code>@MockBean(answer = CALLS_REAL_METHODS)</code>.  This will use the actual method implementation at startup.  Then within tests that need to mock out the value, you can specify mocks as normal.</p>\n"}],"owner":{"account_id":1376453,"reputation":4124,"user_id":1310372,"accept_rate":41,"display_name":"Marcel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47679,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"answer_count":7,"score":52,"last_activity_date":1700672195,"creation_date":1478957807,"question_id":40563409,"body_markdown":"I have a Spring Boot 1.4.2 application. Some code that is used during startup looks like this:\r\n\r\n    @Component \r\n    class SystemTypeDetector{\r\n        public enum SystemType{ TYPE_A, TYPE_B, TYPE_C }\r\n        public SystemType getSystemType(){ return ... }\r\n    }\r\n\r\n    @Component \r\n    public class SomeOtherComponent{\r\n        @Autowired \r\n        private SystemTypeDetector systemTypeDetector;\r\n        @PostConstruct \r\n        public void startup(){\r\n            switch(systemTypeDetector.getSystemType()){   // &lt;-- NPE here in test\r\n            case TYPE_A: ...\r\n            case TYPE_B: ...\r\n            case TYPE_C: ...\r\n            }\r\n        }\r\n    }\r\n\r\nThere is a component that determines the system type. This component is used during startup from other components. In production, everything works fine.\r\n\r\nNow I want to add some integration tests using Spring 1.4&#39;s `@MockBean`.\r\n\r\nThe test looks like this:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = MyWebApplication.class, webEnvironment = RANDOM_PORT)\r\n    public class IntegrationTestNrOne {\r\n        @MockBean \r\n        private SystemTypeDetector systemTypeDetectorMock;\r\n\r\n        @Before \r\n        public void initMock(){\r\n           Mockito.when(systemTypeDetectorMock.getSystemType()).thenReturn(TYPE_C);\r\n        }\r\n\r\n        @Test \r\n        public void testNrOne(){\r\n          // ...\r\n        }\r\n    }\r\n\r\nBasically, the mocking works fine. My systemTypeDetectorMock is used and if I call &lt;code&gt;getSystemType&lt;/code&gt; -&gt; &lt;code&gt;TYPE_C&lt;/code&gt; is returned.\r\n\r\n**The problem** is that the application doesn&#39;t start. Currently springs working order seems to be:\r\n\r\n1. create all Mocks (without configuration all methods return null)\r\n2. start the application\r\n3. call `@Before`-methods (where the mocks would be configured)\r\n4. start test\r\n\r\nMy problem is that the application starts with an uninitialized mock. So the call to &lt;code&gt;getSystemType()&lt;/code&gt; returns null.\r\n\r\nMy question is: How can I configure the mocks *before* application startup?\r\n\r\n**EDIT:** \r\nIf somebody has the same problem, one *workaround* is to use &lt;code&gt;@MockBean(answer = CALLS_REAL_METHODS)&lt;/code&gt;. This calls the real component and in my case, the system starts up. After startup, I can change the mock behavior.","title":"Configure @MockBean component before application start","body":"<p>I have a Spring Boot 1.4.2 application. Some code that is used during startup looks like this:</p>\n<pre><code>@Component \nclass SystemTypeDetector{\n    public enum SystemType{ TYPE_A, TYPE_B, TYPE_C }\n    public SystemType getSystemType(){ return ... }\n}\n\n@Component \npublic class SomeOtherComponent{\n    @Autowired \n    private SystemTypeDetector systemTypeDetector;\n    @PostConstruct \n    public void startup(){\n        switch(systemTypeDetector.getSystemType()){   // &lt;-- NPE here in test\n        case TYPE_A: ...\n        case TYPE_B: ...\n        case TYPE_C: ...\n        }\n    }\n}\n</code></pre>\n<p>There is a component that determines the system type. This component is used during startup from other components. In production, everything works fine.</p>\n<p>Now I want to add some integration tests using Spring 1.4's <code>@MockBean</code>.</p>\n<p>The test looks like this:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = MyWebApplication.class, webEnvironment = RANDOM_PORT)\npublic class IntegrationTestNrOne {\n    @MockBean \n    private SystemTypeDetector systemTypeDetectorMock;\n\n    @Before \n    public void initMock(){\n       Mockito.when(systemTypeDetectorMock.getSystemType()).thenReturn(TYPE_C);\n    }\n\n    @Test \n    public void testNrOne(){\n      // ...\n    }\n}\n</code></pre>\n<p>Basically, the mocking works fine. My systemTypeDetectorMock is used and if I call <code>getSystemType</code> -&gt; <code>TYPE_C</code> is returned.</p>\n<p><strong>The problem</strong> is that the application doesn't start. Currently springs working order seems to be:</p>\n<ol>\n<li>create all Mocks (without configuration all methods return null)</li>\n<li>start the application</li>\n<li>call <code>@Before</code>-methods (where the mocks would be configured)</li>\n<li>start test</li>\n</ol>\n<p>My problem is that the application starts with an uninitialized mock. So the call to <code>getSystemType()</code> returns null.</p>\n<p>My question is: How can I configure the mocks <em>before</em> application startup?</p>\n<p><strong>EDIT:</strong>\nIf somebody has the same problem, one <em>workaround</em> is to use <code>@MockBean(answer = CALLS_REAL_METHODS)</code>. This calls the real component and in my case, the system starts up. After startup, I can change the mock behavior.</p>\n"},{"tags":["java","spring","freemarker"],"comments":[{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1700553501,"post_id":77517473,"comment_id":136665619,"body_markdown":"You are configuring FreeMarker independently of Spring, so it has no chance to add its own things to the model. You have to use the template support of Spring.","body":"You are configuring FreeMarker independently of Spring, so it has no chance to add its own things to the model. You have to use the template support of Spring."},{"owner":{"account_id":3346587,"reputation":674,"user_id":2811635,"accept_rate":62,"display_name":"Ousmane MBINTE"},"score":0,"creation_date":1700663353,"post_id":77517473,"comment_id":136682294,"body_markdown":"Hello, I changed my implementation to use Spring and even in the ViewResolver I set the  viewResolver.setExposeSpringMacroHelpers(true); I always get the same error.","body":"Hello, I changed my implementation to use Spring and even in the ViewResolver I set the  viewResolver.setExposeSpringMacroHelpers(true); I always get the same error."},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1700682897,"post_id":77517473,"comment_id":136685990,"body_markdown":"You aren&#39;t using the `Configuration` that Spring created above. But, even if you do, if it&#39;s not a Web MVC view, it won&#39;t work. `springMacroRequestContext` is added to the model in `org.springframework.web.servlet.view.freemarker.FreeMarkerView`, which is used by Spring when you return the template name in a Spring Web controller. Even if you create the `springMacroRequestContext` yourself, it&#39;s a `org.springframework.web.servlet.support.RequestContext` that needs a `HttpServletRequest`.","body":"You aren&#39;t using the <code>Configuration</code> that Spring created above. But, even if you do, if it&#39;s not a Web MVC view, it won&#39;t work. <code>springMacroRequestContext</code> is added to the model in <code>org.springframework.web.servlet.view.freemarker.FreeMarkerVi&zwnj;&#8203;ew</code>, which is used by Spring when you return the template name in a Spring Web controller. Even if you create the <code>springMacroRequestContext</code> yourself, it&#39;s a <code>org.springframework.web.servlet.support.RequestContext</code> that needs a <code>HttpServletRequest</code>."}],"owner":{"account_id":3346587,"reputation":674,"user_id":2811635,"accept_rate":62,"display_name":"Ousmane MBINTE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700671648,"creation_date":1700497449,"question_id":77517473,"body_markdown":"When I try to display label from resource bundle in HTML Freemarker template using Spring MVC I get a null error on the springMacroRequestContext. I use the spring.ftl macros to have some commons util methods, and I define a ViewResolver with the setExposeSpringMacroHelpers at true to expose the RequestContext in macros.\r\n\r\nConfiguration :\r\n\r\n    package com.omb;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    import org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer;\r\n    import org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class FreeMarkerConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Bean\r\n        public FreeMarkerViewResolver viewResolver() {\r\n            FreeMarkerViewResolver viewResolver = new FreeMarkerViewResolver();\r\n            viewResolver.setExposeSpringMacroHelpers(true);\r\n            viewResolver.setExposeRequestAttributes(true);\r\n            viewResolver.setPrefix(&quot;&quot;);\r\n            viewResolver.setSuffix(&quot;.ftl&quot;);\r\n            viewResolver.setContentType(&quot;text/html;charset=UTF-8&quot;);\r\n            return viewResolver;\r\n        }\r\n    \r\n        @Bean\r\n        public FreeMarkerConfigurer freemarkerConfig() {\r\n            FreeMarkerConfigurer configurer = new FreeMarkerConfigurer();\r\n            configurer.setDefaultEncoding(&quot;UTF-8&quot;);\r\n            configurer.setTemplateLoaderPath(&quot;/WEB-INF/views/ftl/&quot;);\r\n    \r\n            Properties settings = new Properties();\r\n            settings.setProperty(&quot;auto_import&quot;, &quot;/spring.ftl as spring&quot;);\r\n            settings.setProperty(&quot;incompatible_improvements&quot;, &quot;2.3.32&quot;);\r\n            settings.setProperty(&quot;template_exception_handler&quot;, &quot;rethrow&quot;);\r\n            configurer.setFreemarkerSettings(settings);\r\n            return configurer;\r\n        }\r\n    }\r\n\r\n\r\nInject the configuration in my generator service :\r\n\r\n    @Autowired\r\n    private FreeMarkerConfiguration freeMarkerConfiguration;\r\n\r\nAnd call it like this : \r\n\r\n    public static byte[] generateDoc(String templateName, String templateDocument, Map&lt;String, Object&gt; objects, Map&lt;String, Object&gt; params, FreeMarkerConfiguration configuration) throws IOException, TemplateException {\r\n            ConverterProperties converterProperties = getConverterProperties();\r\n    \r\n            Template template = new Template(templateName, new StringReader(templateDocument),  configuration.freemarkerConfig().createConfiguration());\r\n    \r\n            try (ByteArrayOutputStream out = new ByteArrayOutputStream()) {\r\n                Writer writer = new OutputStreamWriter(out);\r\n    \r\n                Environment env = template.createProcessingEnvironment(objects, writer);\r\n                populateEnvironnment(env);\r\n                env.process();\r\n    \r\n                ByteArrayOutputStream fos = new ByteArrayOutputStream();\r\n                PdfDocument output = new PdfDocument(new PdfWriter(fos));\r\n                output.setDefaultPageSize((PageSize) ownParams.get(PAGE_SIZE));\r\n    \r\n                try (ByteArrayInputStream in = new ByteArrayInputStream(out.toByteArray())) {\r\n                    HtmlConverter.convertToPdf(in, output, converterProperties);\r\n                }\r\n                return fos.toByteArray();\r\n            }\r\n        }\r\n\r\nHTML template :\r\n\r\n    &lt;#import &quot;/spring.ftl&quot; as spring/&gt;\r\n    \r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    \r\n    &lt;body&gt;\r\n    &lt;@spring.messageText &quot;resource.bundle.key&quot;/&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nError :\r\n\r\n    The following has evaluated to null or missing:\r\n    ==&gt; springMacroRequestContext  [in template &quot;spring.ftl&quot; at line 28, column 24]\r\n    \r\n    ----\r\n    Tip: If the failing expression is known to legally refer to something that&#39;s sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use &lt;#if myOptionalVar??&gt;when-present&lt;#else&gt;when-missing&lt;/#if&gt;. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??\r\n    ----\r\n    \r\n    ----\r\n    FTL stack trace (&quot;~&quot; means nesting-related):\r\n    \t- Failed at: ${springMacroRequestContext.getMessag...  [in template &quot;spring.ftl&quot; in macro &quot;message&quot; at line 28, column 22]\r\n    \t- Reached through: @spring.message &quot;sale.enum.TravelPass...  [in template &quot;MY_TEMPLATE&quot; at line 7, column 9]\r\n    ----\r\n    FreeMarker template error:\r\n    The following has evaluated to null or missing:\r\n    ==&gt; springMacroRequestContext  [in template &quot;spring.ftl&quot; at line 28, column 24]\r\n    \r\n    ----\r\n    Tip: If the failing expression is known to legally refer to something that&#39;s sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use &lt;#if myOptionalVar??&gt;when-present&lt;#else&gt;when-missing&lt;/#if&gt;. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??\r\n    ----\r\n    \r\n    ----\r\n    FTL stack trace (&quot;~&quot; means nesting-related):\r\n    \t- Failed at: ${springMacroRequestContext.getMessag...  [in template &quot;spring.ftl&quot; in macro &quot;message&quot; at line 28, column 22]\r\n    \t- Reached through: @spring.message &quot;resource.bundle.key...  [in template &quot;MY_TEMPLATE&quot; at line 53, column 9]\r\n    ----\r\n    \r\n    Java stack trace (for programmers):\r\n    ----\r\n    freemarker.core.InvalidReferenceException: [... Exception message was already printed; see it above ...]\r\n    \tat freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)\r\n    \tat freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)\r\n    \tat freemarker.core.UnexpectedTypeException.&lt;init&gt;(UnexpectedTypeException.java:48)\r\n    \tat freemarker.core.NonHashException.&lt;init&gt;(NonHashException.java:49)\r\n    \tat freemarker.core.Dot._eval(Dot.java:48)\r\n\r\n\r\nI found a woraround solution using the add of RequestContext in the data model map but it&#39;s not very clean solution \r\n\r\n    HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\r\n    map.put(&quot;springMacroRequestContext&quot;, new RequestContext(request, null, null, null));","title":"Freemarker get null during evaluation of spring message in the spring.ftl springMacroRequestContext function","body":"<p>When I try to display label from resource bundle in HTML Freemarker template using Spring MVC I get a null error on the springMacroRequestContext. I use the spring.ftl macros to have some commons util methods, and I define a ViewResolver with the setExposeSpringMacroHelpers at true to expose the RequestContext in macros.</p>\n<p>Configuration :</p>\n<pre><code>package com.omb;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer;\nimport org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver;\n\nimport java.util.Properties;\n\n@Configuration\n@EnableWebMvc\npublic class FreeMarkerConfiguration implements WebMvcConfigurer {\n\n    @Bean\n    public FreeMarkerViewResolver viewResolver() {\n        FreeMarkerViewResolver viewResolver = new FreeMarkerViewResolver();\n        viewResolver.setExposeSpringMacroHelpers(true);\n        viewResolver.setExposeRequestAttributes(true);\n        viewResolver.setPrefix(&quot;&quot;);\n        viewResolver.setSuffix(&quot;.ftl&quot;);\n        viewResolver.setContentType(&quot;text/html;charset=UTF-8&quot;);\n        return viewResolver;\n    }\n\n    @Bean\n    public FreeMarkerConfigurer freemarkerConfig() {\n        FreeMarkerConfigurer configurer = new FreeMarkerConfigurer();\n        configurer.setDefaultEncoding(&quot;UTF-8&quot;);\n        configurer.setTemplateLoaderPath(&quot;/WEB-INF/views/ftl/&quot;);\n\n        Properties settings = new Properties();\n        settings.setProperty(&quot;auto_import&quot;, &quot;/spring.ftl as spring&quot;);\n        settings.setProperty(&quot;incompatible_improvements&quot;, &quot;2.3.32&quot;);\n        settings.setProperty(&quot;template_exception_handler&quot;, &quot;rethrow&quot;);\n        configurer.setFreemarkerSettings(settings);\n        return configurer;\n    }\n}\n</code></pre>\n<p>Inject the configuration in my generator service :</p>\n<pre><code>@Autowired\nprivate FreeMarkerConfiguration freeMarkerConfiguration;\n</code></pre>\n<p>And call it like this :</p>\n<pre><code>public static byte[] generateDoc(String templateName, String templateDocument, Map&lt;String, Object&gt; objects, Map&lt;String, Object&gt; params, FreeMarkerConfiguration configuration) throws IOException, TemplateException {\n        ConverterProperties converterProperties = getConverterProperties();\n\n        Template template = new Template(templateName, new StringReader(templateDocument),  configuration.freemarkerConfig().createConfiguration());\n\n        try (ByteArrayOutputStream out = new ByteArrayOutputStream()) {\n            Writer writer = new OutputStreamWriter(out);\n\n            Environment env = template.createProcessingEnvironment(objects, writer);\n            populateEnvironnment(env);\n            env.process();\n\n            ByteArrayOutputStream fos = new ByteArrayOutputStream();\n            PdfDocument output = new PdfDocument(new PdfWriter(fos));\n            output.setDefaultPageSize((PageSize) ownParams.get(PAGE_SIZE));\n\n            try (ByteArrayInputStream in = new ByteArrayInputStream(out.toByteArray())) {\n                HtmlConverter.convertToPdf(in, output, converterProperties);\n            }\n            return fos.toByteArray();\n        }\n    }\n</code></pre>\n<p>HTML template :</p>\n<pre><code>&lt;#import &quot;/spring.ftl&quot; as spring/&gt;\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;body&gt;\n&lt;@spring.messageText &quot;resource.bundle.key&quot;/&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Error :</p>\n<pre><code>The following has evaluated to null or missing:\n==&gt; springMacroRequestContext  [in template &quot;spring.ftl&quot; at line 28, column 24]\n\n----\nTip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use &lt;#if myOptionalVar??&gt;when-present&lt;#else&gt;when-missing&lt;/#if&gt;. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??\n----\n\n----\nFTL stack trace (&quot;~&quot; means nesting-related):\n    - Failed at: ${springMacroRequestContext.getMessag...  [in template &quot;spring.ftl&quot; in macro &quot;message&quot; at line 28, column 22]\n    - Reached through: @spring.message &quot;sale.enum.TravelPass...  [in template &quot;MY_TEMPLATE&quot; at line 7, column 9]\n----\nFreeMarker template error:\nThe following has evaluated to null or missing:\n==&gt; springMacroRequestContext  [in template &quot;spring.ftl&quot; at line 28, column 24]\n\n----\nTip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use &lt;#if myOptionalVar??&gt;when-present&lt;#else&gt;when-missing&lt;/#if&gt;. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??\n----\n\n----\nFTL stack trace (&quot;~&quot; means nesting-related):\n    - Failed at: ${springMacroRequestContext.getMessag...  [in template &quot;spring.ftl&quot; in macro &quot;message&quot; at line 28, column 22]\n    - Reached through: @spring.message &quot;resource.bundle.key...  [in template &quot;MY_TEMPLATE&quot; at line 53, column 9]\n----\n\nJava stack trace (for programmers):\n----\nfreemarker.core.InvalidReferenceException: [... Exception message was already printed; see it above ...]\n    at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)\n    at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)\n    at freemarker.core.UnexpectedTypeException.&lt;init&gt;(UnexpectedTypeException.java:48)\n    at freemarker.core.NonHashException.&lt;init&gt;(NonHashException.java:49)\n    at freemarker.core.Dot._eval(Dot.java:48)\n</code></pre>\n<p>I found a woraround solution using the add of RequestContext in the data model map but it's not very clean solution</p>\n<pre><code>HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\nmap.put(&quot;springMacroRequestContext&quot;, new RequestContext(request, null, null, null));\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1498737489,"post_id":44824382,"comment_id":76628807,"body_markdown":"That will only work if Spring Boot is allowed to configure security, if you are messing around with Security yourself, that property won&#39;t do anything. Also make sure you are on a version of Spring Boot that supports that property.","body":"That will only work if Spring Boot is allowed to configure security, if you are messing around with Security yourself, that property won&#39;t do anything. Also make sure you are on a version of Spring Boot that supports that property."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1498737691,"post_id":44824382,"comment_id":76628973,"body_markdown":"I&#39;m on newest `-1.5.4` and I only added the `configure()` method to disable the csrf. If I remove that method completely, the property is still not taken into account. The only custom security config is with `configure(AuthenticationManagerBuilder auth)` that I use to set `BCryptPasswordEncoder`. But that should not impact the csrf.","body":"I&#39;m on newest <code>-1.5.4</code> and I only added the <code>configure()</code> method to disable the csrf. If I remove that method completely, the property is still not taken into account. The only custom security config is with <code>configure(AuthenticationManagerBuilder auth)</code> that I use to set <code>BCryptPasswordEncoder</code>. But that should not impact the csrf."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1498737783,"post_id":44824382,"comment_id":76629034,"body_markdown":"That depends, if you have `@EnableWebMvc` on it that will disable auto configuration.","body":"That depends, if you have <code>@EnableWebMvc</code> on it that will disable auto configuration."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1498737959,"post_id":44824382,"comment_id":76629166,"body_markdown":"`@SpringBootApplication` is my only annotation. And I&#39;m extending `WebSecurityConfigurerAdapter`. Maybe that&#39;s the cause?","body":"<code>@SpringBootApplication</code> is my only annotation. And I&#39;m extending <code>WebSecurityConfigurerAdapter</code>. Maybe that&#39;s the cause?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1498738761,"post_id":44824382,"comment_id":76629840,"body_markdown":"Are you using Spring Boot? As that isn&#39;t really clear from your question...","body":"Are you using Spring Boot? As that isn&#39;t really clear from your question..."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1498743318,"post_id":44824382,"comment_id":76633523,"body_markdown":"Yes, added spring-boot to tags.","body":"Yes, added spring-boot to tags."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1498744028,"post_id":44824382,"comment_id":76634073,"body_markdown":"Did you enable basic authentication (which is the default) or did you disable that... Also the default is to disable csrf protection so you must have some additional security configuration (properties or classes) that disables the default setup.","body":"Did you enable basic authentication (which is the default) or did you disable that... Also the default is to disable csrf protection so you must have some additional security configuration (properties or classes) that disables the default setup."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1498744234,"post_id":44824382,"comment_id":76634250,"body_markdown":"I have `security.basic.enabled=true` and using maven `spring-boot-starter-security`.","body":"I have <code>security.basic.enabled=true</code> and using maven <code>spring-boot-starter-security</code>."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1498744497,"post_id":44824382,"comment_id":76634496,"body_markdown":"Then I&#39;m out of ideas. There is too little information too help you. imho you have something in the code that disables the default configuration (could be something you have or additional dependencies) however with the little information in the question that is hard to tell.","body":"Then I&#39;m out of ideas. There is too little information too help you. imho you have something in the code that disables the default configuration (could be something you have or additional dependencies) however with the little information in the question that is hard to tell."}],"answers":[{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1501319794,"post_id":45383128,"comment_id":77735802,"body_markdown":"Thanks, that&#39;s a great idea. Though it still not explains why the crsf configuration is not entirely disabled by just setting the configuration property.","body":"Thanks, that&#39;s a great idea. Though it still not explains why the crsf configuration is not entirely disabled by just setting the configuration property."},{"owner":{"account_id":3906953,"reputation":11659,"user_id":3233398,"accept_rate":9,"display_name":"EliuX"},"score":0,"creation_date":1501439141,"post_id":45383128,"comment_id":77766642,"body_markdown":"An issue should be raised in their Spring github and/or jira","body":"An issue should be raised in their Spring github and/or jira"},{"owner":{"account_id":3906953,"reputation":11659,"user_id":3233398,"accept_rate":9,"display_name":"EliuX"},"score":0,"creation_date":1511820647,"post_id":45383128,"comment_id":81997824,"body_markdown":"In the [Spring Security documenation for CSRF](https://docs.spring.io/spring-security/site/docs/current/reference/html/csrf.html) it says that by default its on and to disable it you must do it by Java or xml code. The `.properties` attribute is something that should be implemented by [Spring Boot](https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html): An issue opened in [Spring Boot](https://github.com/spring-projects/spring-boot/issues/11170)","body":"In the <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html/csrf.html\" rel=\"nofollow noreferrer\">Spring Security documenation for CSRF</a> it says that by default its on and to disable it you must do it by Java or xml code. The <code>.properties</code> attribute is something that should be implemented by <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">Spring Boot</a>: An issue opened in <a href=\"https://github.com/spring-projects/spring-boot/issues/11170\" rel=\"nofollow noreferrer\">Spring Boot</a>"},{"owner":{"account_id":4248662,"reputation":843,"user_id":3476492,"accept_rate":89,"display_name":"01000001"},"score":3,"creation_date":1574282849,"post_id":45383128,"comment_id":104181317,"body_markdown":"CSRF is enabled by default as of Spring Security 4.0. https://docs.spring.io/spring-security/site/docs/4.2.1.RELEASE/reference/htmlsingle/#csrf-configure","body":"CSRF is enabled by default as of Spring Security 4.0. <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.1.RELEASE/reference/htmlsingle/#csrf-configure\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/4.2.1.RELEASE/&hellip;</a>"},{"owner":{"account_id":5242589,"reputation":270,"user_id":4189222,"display_name":"Hiren"},"score":0,"creation_date":1587105751,"post_id":45383128,"comment_id":108382370,"body_markdown":"Suppose I kept it &quot;disable&quot; via external configuration &amp; I am running my app. Now at some point of time I want to &quot;enable&quot;  CSRF so I changed property to TRUE and hit the /refresh end point, but does that mean that Spring container will again call &quot;configure&quot; method of &quot;AuthConfig&quot; ? If not then I need to either re-stage my app or restart my app so new configuration is loaded by spring container.","body":"Suppose I kept it &quot;disable&quot; via external configuration &amp; I am running my app. Now at some point of time I want to &quot;enable&quot;  CSRF so I changed property to TRUE and hit the /refresh end point, but does that mean that Spring container will again call &quot;configure&quot; method of &quot;AuthConfig&quot; ? If not then I need to either re-stage my app or restart my app so new configuration is loaded by spring container."}],"tags":[],"owner":{"account_id":3906953,"reputation":11659,"user_id":3233398,"accept_rate":9,"display_name":"EliuX"},"comment_count":5,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1700671605,"creation_date":1501280120,"answer_id":45383128,"question_id":44824382,"body_markdown":"As the `WebSecurityConfigurerAdapter` uses an imperative approach you can inject the value of the `security.enable-csrf` variable and disable CSRF  when it be false. You are right, I think this should work out of the box.\r\n\r\n    @Configuration\r\n    public class AuthConfig extends WebSecurityConfigurerAdapter {\r\n        @Autowired\r\n        private UserDetailsService userDetailsService;\r\n\r\n        @Value(&quot;${security.enable-csrf}&quot;)\r\n        private boolean csrfEnabled;\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(new BCryptPasswordEncoder());\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n           super.configure(http);\r\n\r\n           if(!csrfEnabled)\r\n           {\r\n             http.csrf().disable();\r\n           }\r\n        }\r\n    }\r\n\r\nWhat I did was to set that variable to false in my application.yml for when I had a *dev* spring profile active, although you could create a profile called *nosecurity* for such purposes too. It eases this process a lot:\r\n\r\n--- application.yml ---\r\n\r\n    # Production configuration\r\n    server:\r\n      port: ${server.web.port}\r\n    admin.email: ${admin.email}\r\n    #etc\r\n    ---\r\n    spring:\r\n      profiles: dev\r\n    \r\n    security.enable-csrf: false\r\n    \r\n    #other Development configurations\r\n\r\nI hope it suits your needs\r\n\r\nUpdate on Dec 17th of 2017\r\n----------------------------\r\n\r\nBased on a [comment of a Spring Boot member][1] this issue is fixed on new versions of Spring: I had it on version `1.5.2.RELEASE` but it seems that in version [1.5.9.RELEASE][2] (the latest stable one to the date before version 2) its already fixed and by default **csrf** is disabled and it can be enabled with `security.enable_csrf: true`. Therefore a possible solution could be just upgrading to version `1.5.9.RELEASE`, before making a major one to version 2 where the architecture might be quite more different. \r\n\r\n\r\nUpdate on Jun 02nd of 2023\r\n----------------------------\r\nThe method `http.csrf` requires now a customizer of type `Customizer&lt;CsrfConfigurer&lt;HttpSecurity&gt;&gt;` to configure csrf.\r\nTherefore, instead of:\r\n\r\n```\r\nhttp.csrf().disable();\r\n```\r\n\r\nyou should use\r\n\r\n```\r\nhttp.csrf(AbstractHttpConfigurer::disable);\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/11170#issuecomment-350805732\r\n  [2]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-dependencies/1.5.9.RELEASE","title":"How to disable csrf in Spring using application.properties?","body":"<p>As the <code>WebSecurityConfigurerAdapter</code> uses an imperative approach you can inject the value of the <code>security.enable-csrf</code> variable and disable CSRF  when it be false. You are right, I think this should work out of the box.</p>\n<pre><code>@Configuration\npublic class AuthConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Value(&quot;${security.enable-csrf}&quot;)\n    private boolean csrfEnabled;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(new BCryptPasswordEncoder());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n       super.configure(http);\n\n       if(!csrfEnabled)\n       {\n         http.csrf().disable();\n       }\n    }\n}\n</code></pre>\n<p>What I did was to set that variable to false in my application.yml for when I had a <em>dev</em> spring profile active, although you could create a profile called <em>nosecurity</em> for such purposes too. It eases this process a lot:</p>\n<p>--- application.yml ---</p>\n<pre><code># Production configuration\nserver:\n  port: ${server.web.port}\nadmin.email: ${admin.email}\n#etc\n---\nspring:\n  profiles: dev\n\nsecurity.enable-csrf: false\n\n#other Development configurations\n</code></pre>\n<p>I hope it suits your needs</p>\n<h2>Update on Dec 17th of 2017</h2>\n<p>Based on a <a href=\"https://github.com/spring-projects/spring-boot/issues/11170#issuecomment-350805732\" rel=\"nofollow noreferrer\">comment of a Spring Boot member</a> this issue is fixed on new versions of Spring: I had it on version <code>1.5.2.RELEASE</code> but it seems that in version <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-dependencies/1.5.9.RELEASE\" rel=\"nofollow noreferrer\">1.5.9.RELEASE</a> (the latest stable one to the date before version 2) its already fixed and by default <strong>csrf</strong> is disabled and it can be enabled with <code>security.enable_csrf: true</code>. Therefore a possible solution could be just upgrading to version <code>1.5.9.RELEASE</code>, before making a major one to version 2 where the architecture might be quite more different.</p>\n<h2>Update on Jun 02nd of 2023</h2>\n<p>The method <code>http.csrf</code> requires now a customizer of type <code>Customizer&lt;CsrfConfigurer&lt;HttpSecurity&gt;&gt;</code> to configure csrf.\nTherefore, instead of:</p>\n<pre><code>http.csrf().disable();\n</code></pre>\n<p>you should use</p>\n<pre><code>http.csrf(AbstractHttpConfigurer::disable);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3906953,"reputation":11659,"user_id":3233398,"accept_rate":9,"display_name":"EliuX"},"score":0,"creation_date":1513571486,"post_id":47671182,"comment_id":82689285,"body_markdown":"It seems that for versions like 1.5.9 or superior this is fixed.","body":"It seems that for versions like 1.5.9 or superior this is fixed."}],"tags":[],"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1513003945,"creation_date":1512553528,"answer_id":47671182,"question_id":44824382,"body_markdown":"**An update:**\r\n\r\nLooks like there is an issue with disabling CSRF using application.properties on spring-boot 1.x (and thanks to Eliux for openning this [case][1]).\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/11170\r\n\r\nSo my solution for **spring-boot 1.5.7** with an embedded tomcat is disabling CSRF via **SecurityConfig** class (note that this way I keep the tomcat ootb basic authentication):\r\n\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t    @Override\r\n\t    protected void configure(HttpSecurity http) throws Exception {\r\n\t\t    // Note: \r\n\t\t    // Use this to enable the tomcat basic authentication (tomcat popup rather than spring login page)\r\n\t\t    // Note that the CSRf token is disabled for all requests (change it as you wish...)\r\n\t\t    http.csrf().disable().authorizeRequests().anyRequest().authenticated().and().httpBasic();\r\n\t    }\r\n\t\r\n\t    @Autowired\r\n\t    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            // Add here any custom code you need in order to get the credentials from the user...  \r\n  \t        auth.inMemoryAuthentication()\r\n        \t    .withUser(&quot;myUserName&quot;)\r\n        \t    .password(&quot;myPassword&quot;)\r\n        \t    .roles(&quot;USER&quot;);\r\n\t    }\r\n    } ","title":"How to disable csrf in Spring using application.properties?","body":"<p><strong>An update:</strong></p>\n\n<p>Looks like there is an issue with disabling CSRF using application.properties on spring-boot 1.x (and thanks to Eliux for openning this <a href=\"https://github.com/spring-projects/spring-boot/issues/11170\" rel=\"noreferrer\">case</a>).</p>\n\n<p>So my solution for <strong>spring-boot 1.5.7</strong> with an embedded tomcat is disabling CSRF via <strong>SecurityConfig</strong> class (note that this way I keep the tomcat ootb basic authentication):</p>\n\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // Note: \n        // Use this to enable the tomcat basic authentication (tomcat popup rather than spring login page)\n        // Note that the CSRf token is disabled for all requests (change it as you wish...)\n        http.csrf().disable().authorizeRequests().anyRequest().authenticated().and().httpBasic();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        // Add here any custom code you need in order to get the credentials from the user...  \n        auth.inMemoryAuthentication()\n            .withUser(\"myUserName\")\n            .password(\"myPassword\")\n            .roles(\"USER\");\n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5216633,"reputation":199,"user_id":4171374,"display_name":"Larry Ricker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651933634,"creation_date":1651933634,"answer_id":72153430,"question_id":44824382,"body_markdown":"Was able to disable it with the following line in the spring-security.xml file:\r\n\r\n\r\n&lt;security:csrf disabled=&quot;true&quot;/&gt;","title":"How to disable csrf in Spring using application.properties?","body":"<p>Was able to disable it with the following line in the spring-security.xml file:</p>\n<p>&lt;security:csrf disabled=&quot;true&quot;/&gt;</p>\n"},{"tags":[],"owner":{"account_id":2026230,"reputation":103,"user_id":1811136,"display_name":"Emmy Steven"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1686052853,"creation_date":1686052853,"answer_id":76414424,"question_id":44824382,"body_markdown":"For Spring Boot 3.1.0 (spring-boot-starter-web) use the code snippet below\r\n\r\n```\r\nhttp.csrf(AbstractHttpConfigurer::disable);\r\n```\r\n&lt;br&gt;\r\n\r\nFor Spring Boot 3.1.0 (spring-boot-starter-webflux) use the code snippet below\r\n```\r\nhttp.csrf(ServerHttpSecurity.CsrfSpec::disable);\r\n```\r\n","title":"How to disable csrf in Spring using application.properties?","body":"<p>For Spring Boot 3.1.0 (spring-boot-starter-web) use the code snippet below</p>\n<pre><code>http.csrf(AbstractHttpConfigurer::disable);\n</code></pre>\n<br>\n<p>For Spring Boot 3.1.0 (spring-boot-starter-webflux) use the code snippet below</p>\n<pre><code>http.csrf(ServerHttpSecurity.CsrfSpec::disable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24070332,"reputation":41,"user_id":18046340,"display_name":"Mars"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693819412,"creation_date":1693819412,"answer_id":77036527,"question_id":44824382,"body_markdown":"For Spring Boot 3. It helped me:\r\n\r\n```\r\nhttp.csrf(csrf -&gt; csrf.disable());\r\n```","title":"How to disable csrf in Spring using application.properties?","body":"<p>For Spring Boot 3. It helped me:</p>\n<pre><code>http.csrf(csrf -&gt; csrf.disable());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29683999,"reputation":21,"user_id":22750045,"display_name":"Pavel Azarenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697551643,"creation_date":1697464323,"answer_id":77302556,"question_id":44824382,"body_markdown":"I guess:\r\nspring-security 6.1.4\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                // ...\r\n                .csrf((csrf) -&gt; csrf\r\n                    .ignoringRequestMatchers(&quot;/api/*&quot;)\r\n                );\r\n            return http.build();\r\n        }\r\n    }\r\n\r\n\r\nOr\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n    \t\t\t// ...\r\n    \t\t\t.csrf((csrf) -&gt; csrf.disable());\r\n    \t\treturn http.build();\r\n    \t}\r\n    }\r\n\r\n\r\nSee: [*Disable CSRF Protection*][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/exploits/csrf.html#disable-csrf","title":"How to disable csrf in Spring using application.properties?","body":"<p>I guess:\nspring-security 6.1.4</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n            // ...\n            .csrf((csrf) -&gt; csrf\n                .ignoringRequestMatchers(&quot;/api/*&quot;)\n            );\n        return http.build();\n    }\n}\n</code></pre>\n<p>Or</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n            // ...\n            .csrf((csrf) -&gt; csrf.disable());\n        return http.build();\n    }\n}\n</code></pre>\n<p>See: <a href=\"https://docs.spring.io/spring-security/reference/servlet/exploits/csrf.html#disable-csrf\" rel=\"nofollow noreferrer\"><em>Disable CSRF Protection</em></a></p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88451,"favorite_count":0,"down_vote_count":1,"up_vote_count":32,"accepted_answer_id":45383128,"answer_count":6,"score":31,"last_activity_date":1700671605,"creation_date":1498737099,"question_id":44824382,"body_markdown":"The following property exists:\r\n\r\n`security.enable-csrf=false`\r\n\r\nBUT csrf protection is still on if I add the property to `application.properties`.\r\n\r\nWhat works is to disable it programatically.\r\n\r\nBut I&#39;d prefer properties configuration. Why could it not be working?\r\n\r\n    @Configuration\r\n    public class AuthConfig extends WebSecurityConfigurerAdapter {\r\n    \t@Autowired\r\n    \tprivate UserDetailsService userDetailsService;\r\n    \r\n    \t@Override\r\n    \tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tauth.userDetailsService(userDetailsService).passwordEncoder(new BCryptPasswordEncoder());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\tsuper.configure(http);\r\n    \t\thttp.csrf().disable();\r\n    \r\n    \t}\r\n    }","title":"How to disable csrf in Spring using application.properties?","body":"<p>The following property exists:</p>\n\n<p><code>security.enable-csrf=false</code></p>\n\n<p>BUT csrf protection is still on if I add the property to <code>application.properties</code>.</p>\n\n<p>What works is to disable it programatically.</p>\n\n<p>But I'd prefer properties configuration. Why could it not be working?</p>\n\n<pre><code>@Configuration\npublic class AuthConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(new BCryptPasswordEncoder());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http.csrf().disable();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","tcp"],"owner":{"account_id":28945377,"reputation":11,"user_id":22171067,"display_name":"Yohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700671412,"creation_date":1700671412,"question_id":77531751,"body_markdown":"&gt; Upon selecting &#39;Register&#39; in the terminal when running the client code, the system only displays &quot;Registering with the system...&quot; without allowing any input for the registration details.\r\n&gt;\r\n&gt;   \r\n&gt; I attempted to implement a client-server application for an online banking system. When I ran the client and chose the &#39;Register&#39; option, I expected to be prompted to input registration details like name, email, password, etc., but instead, the terminal just displayed &quot;Registering with the system...&quot; without allowing me to input any details.\r\n\r\n&gt;   \r\n&gt; Client side\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.Socket;\r\nimport java.util.Scanner;\r\n\r\npublic class Client {\r\n    public static void main(String[] args) {\r\n        try (Scanner input = new Scanner(System.in)) {\r\n            Socket clientSocket;\r\n            PrintWriter out;\r\n            BufferedReader in;\r\n            String message;\r\n            String option;\r\n\r\n            clientSocket = new Socket(&quot;127.0.0.1&quot;, 8080);\r\n            out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n            in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n\r\n            while (true) {\r\n                message = in.readLine();\r\n                System.out.println(message);\r\n\r\n                option = input.nextLine();\r\n                out.println(option);\r\n\r\n                if (option.equals(&quot;1&quot;)) {\r\n                    registerUser(input, out, in);\r\n                    break;\r\n                } else if (option.equals(&quot;2&quot;)) {\r\n                    // Implement login functionality here\r\n                    break;\r\n                } else if (option.equals(&quot;9&quot;)) {\r\n                    System.out.println(&quot;Goodbye!&quot;);\r\n                    break;\r\n                } else {\r\n                    System.out.println(&quot;Invalid option selected.&quot;);\r\n                }\r\n            }\r\n\r\n            clientSocket.close(); // Close the connection after finishing the conversation\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void registerUser(Scanner input, PrintWriter out, BufferedReader in) {\r\n        try {\r\n            sendMessage(out, &quot;Enter name:&quot;);\r\n            String name = input.nextLine();\r\n            out.println(name);\r\n\r\n            sendMessage(out, &quot;Enter PPS number:&quot;);\r\n            String ppsNumber = input.nextLine();\r\n            out.println(ppsNumber);\r\n\r\n            sendMessage(out, &quot;Enter email:&quot;);\r\n            String email = input.nextLine();\r\n            out.println(email);\r\n\r\n            sendMessage(out, &quot;Enter password:&quot;);\r\n            String password = input.nextLine();\r\n            out.println(password);\r\n\r\n            sendMessage(out, &quot;Enter address:&quot;);\r\n            String address = input.nextLine();\r\n            out.println(address);\r\n\r\n            // Server will handle the registration logic and respond with registration status\r\n            String registrationStatus = in.readLine();\r\n            System.out.println(registrationStatus);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void sendMessage(PrintWriter out, String msg) {\r\n        out.println(msg);\r\n    }\r\n}\r\n```\r\n\r\n&gt; Server Side\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.ArrayList;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\n\r\npublic class TCPServer {\r\n    private ServerSocket serverSocket;\r\n    private ConcurrentHashMap&lt;String, BankUser&gt; users;\r\n    private ArrayList&lt;Transaction&gt; transactions;\r\n    private BufferedReader in;\r\n    private PrintWriter out;\r\n\r\n    public TCPServer(int port) {\r\n        try {\r\n            serverSocket = new ServerSocket(port);\r\n            users = new ConcurrentHashMap&lt;&gt;();\r\n            transactions = new ArrayList&lt;&gt;();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void startServer() {\r\n        System.out.println(&quot;Server started. Waiting for connections...&quot;);\r\n        try {\r\n            while (true) {\r\n                Socket clientSocket = serverSocket.accept();\r\n                out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n                in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n                handleBankingOperations(clientSocket);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int portNumber = 8080;\r\n        TCPServer server = new TCPServer(portNumber);\r\n        server.startServer();\r\n    }\r\n\r\n    public void handleBankingOperations(Socket clientSocket) {\r\n        try {\r\n            boolean isAuthenticated = false;\r\nBankUser loggedInUser = null;\r\n\r\nwhile (true) {\r\n    sendMessage(&quot;Please enter 1 to Register with the system\\nPlease enter 2 to Log in to the online banking system\\nPlease enter 9 to Quit&quot;);\r\n    String userInput = in.readLine();\r\n\r\n    if (userInput.equals(&quot;1&quot;)) {\r\n        registerUser();\r\n    } else if (userInput.equals(&quot;2&quot;)) {\r\n        sendMessage(&quot;Enter email:&quot;);\r\n        String email = in.readLine();\r\n        sendMessage(&quot;Enter password:&quot;);\r\n        String password = in.readLine();\r\n\r\n        loggedInUser = loginUser(email, password);\r\n        if (loggedInUser != null) {\r\n            isAuthenticated = true;\r\n            sendMessage(&quot;Login successful!&quot;);\r\n        } else {\r\n            sendMessage(&quot;Login failed. Please try again.&quot;);\r\n        }\r\n    } else if (userInput.equals(&quot;9&quot;)) {\r\n        sendMessage(&quot;Goodbye!&quot;);\r\n        break;\r\n    } else {\r\n        sendMessage(&quot;Invalid option. Please try again.&quot;);\r\n    }\r\n\r\n    if (isAuthenticated) {\r\n        break; // Break from the initial loop after successful authentication\r\n    }\r\n}\r\n\r\n// Ensure authentication was successful before proceeding\r\nif (isAuthenticated) {\r\n    while (true) {\r\n        sendMessage(&quot;Please enter 1 to Register with the system\\nPlease enter 2 to Log in to the online banking system\\nPlease enter 9 to Quit&quot;);\r\n        String userInput = in.readLine();\r\n        System.out.println(&quot;Received user input: &quot; + userInput);\r\n\r\n        if (userInput.equals(&quot;1&quot;)) {\r\n            System.out.println(&quot;User selected option 1: Register&quot;);\r\n            registerUser();\r\n        } else if (userInput.equals(&quot;2&quot;)) {\r\n            System.out.println(&quot;User selected option 2: Login&quot;);\r\n            // ... (existing code remains unchanged)\r\n        } else if (userInput.equals(&quot;9&quot;)) {\r\n            sendMessage(&quot;Goodbye!&quot;);\r\n            System.out.println(&quot;User selected option 9: Quit&quot;);\r\n            break;\r\n        } else {\r\n            sendMessage(&quot;Invalid option. Please try again.&quot;);\r\n            System.out.println(&quot;Invalid option: &quot; + userInput);\r\n        }\r\n    }\r\n}\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                in.close();\r\n                out.close();\r\n                clientSocket.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void registerUser() {\r\n        try {\r\n            sendMessage(&quot;Enter name:&quot;);\r\n            String name = in.readLine();\r\n\r\n            sendMessage(&quot;Enter PPS number:&quot;);\r\n            String ppsNumber = in.readLine();\r\n\r\n            sendMessage(&quot;Enter email:&quot;);\r\n            String email = in.readLine();\r\n\r\n            sendMessage(&quot;Enter password:&quot;);\r\n            String password = in.readLine();\r\n\r\n            sendMessage(&quot;Enter address:&quot;);\r\n            String address = in.readLine();\r\n\r\n            double initialBalance = 0.0;\r\n\r\n            BankUser newUser = new BankUser(name, ppsNumber, email, password, address, initialBalance);\r\n            users.putIfAbsent(email, newUser);\r\n\r\n            sendMessage(&quot;User registered successfully!&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private BankUser loginUser(String email, String password) {\r\n        BankUser user = users.get(email);\r\n        if (user != null &amp;&amp; user.getPassword().equals(password)) {\r\n            return user;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private void lodgeMoney(BankUser user) {\r\n        try {\r\n            sendMessage(&quot;Enter amount to lodge:&quot;);\r\n            double amount = Double.parseDouble(in.readLine());\r\n\r\n            user.deposit(amount);\r\n\r\n            Transaction transaction = new Transaction(user, &quot;Lodged money&quot;, amount);\r\n            transactions.add(transaction);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void retrieveAllUsers() {\r\n        // Logic to retrieve and display all registered users\r\n    }\r\n\r\n    private void transferMoney(BankUser sender) {\r\n        try {\r\n            sendMessage(&quot;Enter recipient&#39;s email:&quot;);\r\n            String recipientEmail = in.readLine();\r\n            BankUser recipient = users.get(recipientEmail);\r\n\r\n            if (recipient != null) {\r\n                sendMessage(&quot;Enter amount to transfer:&quot;);\r\n                double amount = Double.parseDouble(in.readLine());\r\n\r\n                if (sender.getBalance() &gt;= amount) {\r\n                    sender.withdraw(amount);\r\n                    recipient.deposit(amount);\r\n\r\n                    Transaction transaction = new Transaction(sender, recipient, &quot;Transferred money&quot;, amount);\r\n                    transactions.add(transaction);\r\n                } else {\r\n                    sendMessage(&quot;Insufficient funds for transfer.&quot;);\r\n                }\r\n            } else {\r\n                sendMessage(&quot;Recipient not found.&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void viewAllTransactions() {\r\n        // Logic to view all transactions\r\n    }\r\n\r\n    private void updateUserPassword(BankUser user) {\r\n        try {\r\n            sendMessage(&quot;Enter new password:&quot;);\r\n            String newPassword = in.readLine();\r\n\r\n            user.setPassword(newPassword);\r\n\r\n            sendMessage(&quot;Password updated successfully!&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void sendMessage(String msg) {\r\n        out.println(msg);\r\n    }\r\n}\r\n```","title":"Client-side Issue: Unable to Input Registration Details After Choosing &#39;Register&#39; Option in Terminal","body":"<blockquote>\n<p>Upon selecting 'Register' in the terminal when running the client code, the system only displays &quot;Registering with the system...&quot; without allowing any input for the registration details.</p>\n<p>I attempted to implement a client-server application for an online banking system. When I ran the client and chose the 'Register' option, I expected to be prompted to input registration details like name, email, password, etc., but instead, the terminal just displayed &quot;Registering with the system...&quot; without allowing me to input any details.</p>\n</blockquote>\n<blockquote>\n<p>Client side</p>\n</blockquote>\n<pre><code>import java.io.*;\nimport java.net.Socket;\nimport java.util.Scanner;\n\npublic class Client {\n    public static void main(String[] args) {\n        try (Scanner input = new Scanner(System.in)) {\n            Socket clientSocket;\n            PrintWriter out;\n            BufferedReader in;\n            String message;\n            String option;\n\n            clientSocket = new Socket(&quot;127.0.0.1&quot;, 8080);\n            out = new PrintWriter(clientSocket.getOutputStream(), true);\n            in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n\n            while (true) {\n                message = in.readLine();\n                System.out.println(message);\n\n                option = input.nextLine();\n                out.println(option);\n\n                if (option.equals(&quot;1&quot;)) {\n                    registerUser(input, out, in);\n                    break;\n                } else if (option.equals(&quot;2&quot;)) {\n                    // Implement login functionality here\n                    break;\n                } else if (option.equals(&quot;9&quot;)) {\n                    System.out.println(&quot;Goodbye!&quot;);\n                    break;\n                } else {\n                    System.out.println(&quot;Invalid option selected.&quot;);\n                }\n            }\n\n            clientSocket.close(); // Close the connection after finishing the conversation\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void registerUser(Scanner input, PrintWriter out, BufferedReader in) {\n        try {\n            sendMessage(out, &quot;Enter name:&quot;);\n            String name = input.nextLine();\n            out.println(name);\n\n            sendMessage(out, &quot;Enter PPS number:&quot;);\n            String ppsNumber = input.nextLine();\n            out.println(ppsNumber);\n\n            sendMessage(out, &quot;Enter email:&quot;);\n            String email = input.nextLine();\n            out.println(email);\n\n            sendMessage(out, &quot;Enter password:&quot;);\n            String password = input.nextLine();\n            out.println(password);\n\n            sendMessage(out, &quot;Enter address:&quot;);\n            String address = input.nextLine();\n            out.println(address);\n\n            // Server will handle the registration logic and respond with registration status\n            String registrationStatus = in.readLine();\n            System.out.println(registrationStatus);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void sendMessage(PrintWriter out, String msg) {\n        out.println(msg);\n    }\n}\n</code></pre>\n<blockquote>\n<p>Server Side</p>\n</blockquote>\n<pre><code>import java.io.*;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.ArrayList;\nimport java.util.concurrent.ConcurrentHashMap;\n\npublic class TCPServer {\n    private ServerSocket serverSocket;\n    private ConcurrentHashMap&lt;String, BankUser&gt; users;\n    private ArrayList&lt;Transaction&gt; transactions;\n    private BufferedReader in;\n    private PrintWriter out;\n\n    public TCPServer(int port) {\n        try {\n            serverSocket = new ServerSocket(port);\n            users = new ConcurrentHashMap&lt;&gt;();\n            transactions = new ArrayList&lt;&gt;();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void startServer() {\n        System.out.println(&quot;Server started. Waiting for connections...&quot;);\n        try {\n            while (true) {\n                Socket clientSocket = serverSocket.accept();\n                out = new PrintWriter(clientSocket.getOutputStream(), true);\n                in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n                handleBankingOperations(clientSocket);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        int portNumber = 8080;\n        TCPServer server = new TCPServer(portNumber);\n        server.startServer();\n    }\n\n    public void handleBankingOperations(Socket clientSocket) {\n        try {\n            boolean isAuthenticated = false;\nBankUser loggedInUser = null;\n\nwhile (true) {\n    sendMessage(&quot;Please enter 1 to Register with the system\\nPlease enter 2 to Log in to the online banking system\\nPlease enter 9 to Quit&quot;);\n    String userInput = in.readLine();\n\n    if (userInput.equals(&quot;1&quot;)) {\n        registerUser();\n    } else if (userInput.equals(&quot;2&quot;)) {\n        sendMessage(&quot;Enter email:&quot;);\n        String email = in.readLine();\n        sendMessage(&quot;Enter password:&quot;);\n        String password = in.readLine();\n\n        loggedInUser = loginUser(email, password);\n        if (loggedInUser != null) {\n            isAuthenticated = true;\n            sendMessage(&quot;Login successful!&quot;);\n        } else {\n            sendMessage(&quot;Login failed. Please try again.&quot;);\n        }\n    } else if (userInput.equals(&quot;9&quot;)) {\n        sendMessage(&quot;Goodbye!&quot;);\n        break;\n    } else {\n        sendMessage(&quot;Invalid option. Please try again.&quot;);\n    }\n\n    if (isAuthenticated) {\n        break; // Break from the initial loop after successful authentication\n    }\n}\n\n// Ensure authentication was successful before proceeding\nif (isAuthenticated) {\n    while (true) {\n        sendMessage(&quot;Please enter 1 to Register with the system\\nPlease enter 2 to Log in to the online banking system\\nPlease enter 9 to Quit&quot;);\n        String userInput = in.readLine();\n        System.out.println(&quot;Received user input: &quot; + userInput);\n\n        if (userInput.equals(&quot;1&quot;)) {\n            System.out.println(&quot;User selected option 1: Register&quot;);\n            registerUser();\n        } else if (userInput.equals(&quot;2&quot;)) {\n            System.out.println(&quot;User selected option 2: Login&quot;);\n            // ... (existing code remains unchanged)\n        } else if (userInput.equals(&quot;9&quot;)) {\n            sendMessage(&quot;Goodbye!&quot;);\n            System.out.println(&quot;User selected option 9: Quit&quot;);\n            break;\n        } else {\n            sendMessage(&quot;Invalid option. Please try again.&quot;);\n            System.out.println(&quot;Invalid option: &quot; + userInput);\n        }\n    }\n}\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                in.close();\n                out.close();\n                clientSocket.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private void registerUser() {\n        try {\n            sendMessage(&quot;Enter name:&quot;);\n            String name = in.readLine();\n\n            sendMessage(&quot;Enter PPS number:&quot;);\n            String ppsNumber = in.readLine();\n\n            sendMessage(&quot;Enter email:&quot;);\n            String email = in.readLine();\n\n            sendMessage(&quot;Enter password:&quot;);\n            String password = in.readLine();\n\n            sendMessage(&quot;Enter address:&quot;);\n            String address = in.readLine();\n\n            double initialBalance = 0.0;\n\n            BankUser newUser = new BankUser(name, ppsNumber, email, password, address, initialBalance);\n            users.putIfAbsent(email, newUser);\n\n            sendMessage(&quot;User registered successfully!&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private BankUser loginUser(String email, String password) {\n        BankUser user = users.get(email);\n        if (user != null &amp;&amp; user.getPassword().equals(password)) {\n            return user;\n        }\n        return null;\n    }\n\n    private void lodgeMoney(BankUser user) {\n        try {\n            sendMessage(&quot;Enter amount to lodge:&quot;);\n            double amount = Double.parseDouble(in.readLine());\n\n            user.deposit(amount);\n\n            Transaction transaction = new Transaction(user, &quot;Lodged money&quot;, amount);\n            transactions.add(transaction);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void retrieveAllUsers() {\n        // Logic to retrieve and display all registered users\n    }\n\n    private void transferMoney(BankUser sender) {\n        try {\n            sendMessage(&quot;Enter recipient's email:&quot;);\n            String recipientEmail = in.readLine();\n            BankUser recipient = users.get(recipientEmail);\n\n            if (recipient != null) {\n                sendMessage(&quot;Enter amount to transfer:&quot;);\n                double amount = Double.parseDouble(in.readLine());\n\n                if (sender.getBalance() &gt;= amount) {\n                    sender.withdraw(amount);\n                    recipient.deposit(amount);\n\n                    Transaction transaction = new Transaction(sender, recipient, &quot;Transferred money&quot;, amount);\n                    transactions.add(transaction);\n                } else {\n                    sendMessage(&quot;Insufficient funds for transfer.&quot;);\n                }\n            } else {\n                sendMessage(&quot;Recipient not found.&quot;);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void viewAllTransactions() {\n        // Logic to view all transactions\n    }\n\n    private void updateUserPassword(BankUser user) {\n        try {\n            sendMessage(&quot;Enter new password:&quot;);\n            String newPassword = in.readLine();\n\n            user.setPassword(newPassword);\n\n            sendMessage(&quot;Password updated successfully!&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void sendMessage(String msg) {\n        out.println(msg);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":0,"down_vote_count":1,"up_vote_count":68,"is_accepted":true,"score":67,"last_activity_date":1688753427,"creation_date":1452409771,"answer_id":34702982,"question_id":34702252,"body_markdown":"No, I don&#39;t think it&#39;s OK.\r\n\r\nWhile a `List` is guaranteed to be an `Iterable` an `Iterable` may not be a `List`. This means that if you do cast an `Iterable` to a `List` it may fail at runtime. Even if it works, there&#39;s no guarantee that it will continue to work in the future as it could change in new versions of Spring Data JPA without breaking the interface&#39;s contract.\r\n\r\nInstead of using a cast, you should declare your own query methods that return `List`.\r\n\r\nAlternatively you may use `Streamable.of(iterable).toList()` for doing the conversion. [This answer][1] also contains some background why `Iterable` was chosen as the return type for these methods.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67413334/66686","title":"Spring-Data JPA CrudRepository returns Iterable, is it OK to cast this to List?","body":"<p>No, I don't think it's OK.</p>\n<p>While a <code>List</code> is guaranteed to be an <code>Iterable</code> an <code>Iterable</code> may not be a <code>List</code>. This means that if you do cast an <code>Iterable</code> to a <code>List</code> it may fail at runtime. Even if it works, there's no guarantee that it will continue to work in the future as it could change in new versions of Spring Data JPA without breaking the interface's contract.</p>\n<p>Instead of using a cast, you should declare your own query methods that return <code>List</code>.</p>\n<p>Alternatively you may use <code>Streamable.of(iterable).toList()</code> for doing the conversion. <a href=\"https://stackoverflow.com/a/67413334/66686\">This answer</a> also contains some background why <code>Iterable</code> was chosen as the return type for these methods.</p>\n"},{"comments":[{"owner":{"account_id":5439978,"reputation":1863,"user_id":4328316,"accept_rate":67,"display_name":"james_s_tayler"},"score":9,"creation_date":1452419916,"post_id":34704058,"comment_id":57153993,"body_markdown":"Cool. I just took a look at the documentation now. JpaRepository extends PagingAndSortingRepository which extends CrudRepository which extends Repository. So it kinda builds on the others. Neat. Yeah, I think the cleanest solution is to switch to JpaRepository.","body":"Cool. I just took a look at the documentation now. JpaRepository extends PagingAndSortingRepository which extends CrudRepository which extends Repository. So it kinda builds on the others. Neat. Yeah, I think the cleanest solution is to switch to JpaRepository."},{"owner":{"account_id":268527,"reputation":2133,"user_id":557335,"accept_rate":45,"display_name":"eav"},"score":3,"creation_date":1489674966,"post_id":34704058,"comment_id":72783147,"body_markdown":"this unfortunatelly does not work always. -&gt; for example when you&#39;re using a `PagingAndSortingRepository` it is inherited from the `CrudRepository`.","body":"this unfortunatelly does not work always. -&gt; for example when you&#39;re using a <code>PagingAndSortingRepository</code> it is inherited from the <code>CrudRepository</code>."}],"tags":[],"owner":{"account_id":255080,"reputation":15519,"user_id":534877,"accept_rate":65,"display_name":"Robert Niestroj"},"comment_count":2,"down_vote_count":1,"up_vote_count":137,"is_accepted":false,"score":136,"last_activity_date":1452419248,"creation_date":1452419248,"answer_id":34704058,"question_id":34702252,"body_markdown":"You mentioned `[spring-data-jpa]` so i guess you use JPA. In this case use [`JpaRepository`][1] instead of `CrudRepository` where the methods return `List`&#39;s like you want it.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html","title":"Spring-Data JPA CrudRepository returns Iterable, is it OK to cast this to List?","body":"<p>You mentioned <code>[spring-data-jpa]</code> so i guess you use JPA. In this case use <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\"><code>JpaRepository</code></a> instead of <code>CrudRepository</code> where the methods return <code>List</code>'s like you want it.</p>\n"},{"comments":[{"owner":{"account_id":15730055,"reputation":189,"user_id":11350619,"display_name":"Shade"},"score":1,"creation_date":1610621736,"post_id":51051312,"comment_id":116192955,"body_markdown":"Why we don&#39;t need to actually implement &quot;List&lt;Data&gt; findAll()&quot;","body":"Why we don&#39;t need to actually implement &quot;List&lt;Data&gt; findAll()&quot;"},{"owner":{"account_id":12295410,"reputation":621,"user_id":8971198,"display_name":"Biga"},"score":2,"creation_date":1613682752,"post_id":51051312,"comment_id":117158853,"body_markdown":"Hi Shade.... Spring Data knows how to implement this. We explain what to do using the method declaration and Spring Data do the implementation. Like query methods with filters for example. See https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods","body":"Hi Shade.... Spring Data knows how to implement this. We explain what to do using the method declaration and Spring Data do the implementation. Like query methods with filters for example. See <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":5751648,"reputation":1624,"user_id":4541141,"accept_rate":55,"display_name":"Newbie"},"score":0,"creation_date":1686733347,"post_id":51051312,"comment_id":134838395,"body_markdown":"@Biga But why when I would like to override `findById` to not return the Optional, I get error `The return type is incompatible with CrudRepository&lt;MyEntity,String&gt;.findById(String)`?","body":"@Biga But why when I would like to override <code>findById</code> to not return the Optional, I get error <code>The return type is incompatible with CrudRepository&lt;MyEntity,String&gt;.findById(String)</code>?"}],"tags":[],"owner":{"account_id":12295410,"reputation":621,"user_id":8971198,"display_name":"Biga"},"comment_count":3,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1530046878,"creation_date":1530046878,"answer_id":51051312,"question_id":34702252,"body_markdown":"Your interface can still extends the *CrudRepository*, you can just add a new method findAll returning a list. Like example below:\r\n\r\n    @Repository\r\n    public interface DataRepository extends CrudRepository&lt;Data, Long&gt; {\r\n\r\n        @Override\r\n        List&lt;Data&gt; findAll();\r\n\r\n    }\r\n\r\nIf you have an &quot;abstract&quot; repository to be extended by all your repositories, you can add this method too, so it will has effect to all your repositories. Like example below:\r\n\r\n\r\n    @NoRepositoryBean\r\n    public interface GenericRepository&lt;T&gt; extends CrudRepository&lt;T, Long&gt; {\r\n\r\n        @Override\r\n        List&lt;T&gt; findAll();\r\n\r\n    }\r\n\r\n","title":"Spring-Data JPA CrudRepository returns Iterable, is it OK to cast this to List?","body":"<p>Your interface can still extends the <em>CrudRepository</em>, you can just add a new method findAll returning a list. Like example below:</p>\n\n<pre><code>@Repository\npublic interface DataRepository extends CrudRepository&lt;Data, Long&gt; {\n\n    @Override\n    List&lt;Data&gt; findAll();\n\n}\n</code></pre>\n\n<p>If you have an \"abstract\" repository to be extended by all your repositories, you can add this method too, so it will has effect to all your repositories. Like example below:</p>\n\n<pre><code>@NoRepositoryBean\npublic interface GenericRepository&lt;T&gt; extends CrudRepository&lt;T, Long&gt; {\n\n    @Override\n    List&lt;T&gt; findAll();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":255080,"reputation":15519,"user_id":534877,"accept_rate":65,"display_name":"Robert Niestroj"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1645523944,"creation_date":1645523944,"answer_id":71219216,"question_id":34702252,"body_markdown":"Starting from Spring Data 3 there is another option: `ListCrudRepository`. \r\n\r\nThis blog post covers why `CrudRepository` chose `Iterable` instead of `List`. \r\n\r\nhttps://spring.io/blog/2022/02/22/announcing-listcrudrepository-friends-for-spring-data-3-0","title":"Spring-Data JPA CrudRepository returns Iterable, is it OK to cast this to List?","body":"<p>Starting from Spring Data 3 there is another option: <code>ListCrudRepository</code>.</p>\n<p>This blog post covers why <code>CrudRepository</code> chose <code>Iterable</code> instead of <code>List</code>.</p>\n<p><a href=\"https://spring.io/blog/2022/02/22/announcing-listcrudrepository-friends-for-spring-data-3-0\" rel=\"noreferrer\">https://spring.io/blog/2022/02/22/announcing-listcrudrepository-friends-for-spring-data-3-0</a></p>\n"},{"tags":[],"owner":{"account_id":3581078,"reputation":374,"user_id":2989287,"display_name":"Wheelchair Geek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658674401,"creation_date":1658674401,"answer_id":73099457,"question_id":34702252,"body_markdown":"Hi I know I am late to the party here but if you want to convert an Iterable to a Collection you can do it this way. \r\n\r\n    private &lt;T&gt; Collection&lt;T&gt; map(final Iterable&lt;T&gt; iterable) {\r\n    \t\treturn StreamSupport.stream(iterable.spliterator(), false)\r\n    \t\t\t\t\t\t\t.collect(Collectors.toCollection(HashSet::new));\r\n    \t}\r\nAfter that, du can get a List by .stream().toList(); on the Collection. Hope it helps ","title":"Spring-Data JPA CrudRepository returns Iterable, is it OK to cast this to List?","body":"<p>Hi I know I am late to the party here but if you want to convert an Iterable to a Collection you can do it this way.</p>\n<pre><code>private &lt;T&gt; Collection&lt;T&gt; map(final Iterable&lt;T&gt; iterable) {\n        return StreamSupport.stream(iterable.spliterator(), false)\n                            .collect(Collectors.toCollection(HashSet::new));\n    }\n</code></pre>\n<p>After that, du can get a List by .stream().toList(); on the Collection. Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":20858204,"reputation":81,"user_id":17176420,"display_name":"Christian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661847085,"creation_date":1661847085,"answer_id":73539117,"question_id":34702252,"body_markdown":"Simply, you can make your repository to extend JpaRepository not CrudRepository. This will work perfectly. Here findAll returns a List not an Iterable.","title":"Spring-Data JPA CrudRepository returns Iterable, is it OK to cast this to List?","body":"<p>Simply, you can make your repository to extend JpaRepository not CrudRepository. This will work perfectly. Here findAll returns a List not an Iterable.</p>\n"},{"tags":[],"owner":{"account_id":1323279,"reputation":787,"user_id":1268630,"accept_rate":42,"display_name":"ErEcTuS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700671365,"creation_date":1700671365,"answer_id":77531744,"question_id":34702252,"body_markdown":"I don&#39;t know if this can help anyone in the future, but in your @Repository inteface, you could extend *ListCrudRepository* instead of *CrudRepository*\r\n\r\n    public interface StudentRepository extends ListCrudRepository&lt;student, Integer&gt; {\r\n    }\r\n\r\nThen in your controller you can just get a List:\r\n\r\n        @GetMapping(&quot;&quot;)\r\n        List&lt;student&gt; findAll() {\r\n            return studentRepository.findAll();\r\n        }","title":"Spring-Data JPA CrudRepository returns Iterable, is it OK to cast this to List?","body":"<p>I don't know if this can help anyone in the future, but in your @Repository inteface, you could extend <em>ListCrudRepository</em> instead of <em>CrudRepository</em></p>\n<pre><code>public interface StudentRepository extends ListCrudRepository&lt;student, Integer&gt; {\n}\n</code></pre>\n<p>Then in your controller you can just get a List:</p>\n<pre><code>    @GetMapping(&quot;&quot;)\n    List&lt;student&gt; findAll() {\n        return studentRepository.findAll();\n    }\n</code></pre>\n"}],"owner":{"account_id":5439978,"reputation":1863,"user_id":4328316,"accept_rate":67,"display_name":"james_s_tayler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79560,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":34702982,"answer_count":7,"score":55,"last_activity_date":1700671365,"creation_date":1452402091,"question_id":34702252,"body_markdown":"I&#39;m writing a code-gen tool to generate backend wiring code for Spring Boot applications using Spring Data JPA and it&#39;s mildly annoying me that the methods in the `CrudRepository` return `Iterable` rather than `List`, as `Iterable` doesn&#39;t provide quite enough functionality, but `List` does, so I&#39;m looking for the best way to convert the `Iterable` into a `List`.\r\n\r\nI saw [this post](https://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection) on changing an `Iterable` to a `Collection` and I was wondering, rather than using a library like Guava or implementing my own function to do the conversion, why not just cast it to `List`? Is there something wrong with doing that that I don&#39;t know about?\r\n\r\n**Edit**:\r\nI ask because since it&#39;s a code-gen tool it&#39;s not reasonable to make it generate code that introduces dependencies on 3rd party libraries, and writing my own function to do the conversion also isn&#39;t really reasonable because it would have to live somewhere and I&#39;d rather not have that in the generated code. A simple cast will work, if a little ugly, but just wondered if there&#39;s something I&#39;m missing?","title":"Spring-Data JPA CrudRepository returns Iterable, is it OK to cast this to List?","body":"<p>I'm writing a code-gen tool to generate backend wiring code for Spring Boot applications using Spring Data JPA and it's mildly annoying me that the methods in the <code>CrudRepository</code> return <code>Iterable</code> rather than <code>List</code>, as <code>Iterable</code> doesn't provide quite enough functionality, but <code>List</code> does, so I'm looking for the best way to convert the <code>Iterable</code> into a <code>List</code>.</p>\n<p>I saw <a href=\"https://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection\">this post</a> on changing an <code>Iterable</code> to a <code>Collection</code> and I was wondering, rather than using a library like Guava or implementing my own function to do the conversion, why not just cast it to <code>List</code>? Is there something wrong with doing that that I don't know about?</p>\n<p><strong>Edit</strong>:\nI ask because since it's a code-gen tool it's not reasonable to make it generate code that introduces dependencies on 3rd party libraries, and writing my own function to do the conversion also isn't really reasonable because it would have to live somewhere and I'd rather not have that in the generated code. A simple cast will work, if a little ugly, but just wondered if there's something I'm missing?</p>\n"},{"tags":["java","migration","pdf-generation","pdf-reactor"],"owner":{"account_id":1533946,"reputation":944,"user_id":1430463,"accept_rate":80,"display_name":"Valeriane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700670918,"creation_date":1700670549,"question_id":77531652,"body_markdown":"In my project I&#39;m using pdfreactor for generating PDF from HTML file.\r\n\r\nI migrated my project pdfreactor from java 8 -&gt; 17\r\n\r\nEverything is ok, except, code js (into my .html) doesnot executes.\r\n(My script js add class attributes to any tag)\r\n\r\nIs this security problem?\r\n\r\nI enable JS in my config by :\r\n\r\n    setJavaScriptSettings(new Configuration.JavaScriptSettings().setEnabled(true));\r\n\r\nbut It does not works\r\n","title":"Javascript not executed by pdfreactor","body":"<p>In my project I'm using pdfreactor for generating PDF from HTML file.</p>\n<p>I migrated my project pdfreactor from java 8 -&gt; 17</p>\n<p>Everything is ok, except, code js (into my .html) doesnot executes.\n(My script js add class attributes to any tag)</p>\n<p>Is this security problem?</p>\n<p>I enable JS in my config by :</p>\n<pre><code>setJavaScriptSettings(new Configuration.JavaScriptSettings().setEnabled(true));\n</code></pre>\n<p>but It does not works</p>\n"},{"tags":["java","spring-boot","hibernate","kotlin","oracle11g"],"answers":[{"comments":[{"owner":{"account_id":3449513,"reputation":243,"user_id":3534759,"accept_rate":75,"display_name":"user3534759"},"score":0,"creation_date":1700651929,"post_id":77528262,"comment_id":136680192,"body_markdown":"got you.. but is there anyway in jpa query ? or something like below would help ?        \n SELECT * FROM RSV_PALT rp  WHERE ( lpad(DEPT_I,3,0) ||&#39;-&#39;||lpad(CLASS_I,2,0)||&#39;-&#39;||lpad(ITEM_I,4,0)  ) IN  (&#39;002-02-0284&#39;,&#39;029-00-0100&#39;)","body":"got you.. but is there anyway in jpa query ? or something like below would help ?          SELECT * FROM RSV_PALT rp  WHERE ( lpad(DEPT_I,3,0) ||&#39;-&#39;||lpad(CLASS_I,2,0)||&#39;-&#39;||lpad(ITEM_I,4,0)  ) IN  (&#39;002-02-0284&#39;,&#39;029-00-0100&#39;)"},{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1700652356,"post_id":77528262,"comment_id":136680268,"body_markdown":"@user3534759 I mostly do Oracle and not Spring/JPA so I can tell you why you are getting the error but you really need a Spring expert to give you the best solution. You can search the internet for `jpa sql in expression` which may lead you to [this answer](https://stackoverflow.com/q/42530677/1509264). In Oracle, you could also do: `WHERE (dept_i, class_i, item_i) IN ((2,2,284), (29,0,100))` but I&#39;m not sure if Spring/JPA supports binding values to `IN` expressions with multiple terms.","body":"@user3534759 I mostly do Oracle and not Spring/JPA so I can tell you why you are getting the error but you really need a Spring expert to give you the best solution. You can search the internet for <code>jpa sql in expression</code> which may lead you to <a href=\"https://stackoverflow.com/q/42530677/1509264\">this answer</a>. In Oracle, you could also do: <code>WHERE (dept_i, class_i, item_i) IN ((2,2,284), (29,0,100))</code> but I&#39;m not sure if Spring/JPA supports binding values to <code>IN</code> expressions with multiple terms."}],"tags":[],"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700641489,"creation_date":1700640676,"answer_id":77528262,"question_id":77527739,"body_markdown":"You define the query using:\r\n\r\n```lang-java\r\n@Query(\r\n  nativeQuery = true,\r\n  value = &quot;SELECT PALT_I &quot; +\r\n          &quot;FROM RSV_PALT &quot; +\r\n          &quot;WHERE (:whereClause) AND STAT_C NOT IN (&#39;PL&#39;, &#39;CN&#39;) &quot; +\r\n          &quot;ORDER BY PALT_I &quot;\r\n)\r\nfun getContainers(\r\n  @Param(&quot;whereClause&quot;) whereClause: String\r\n): List&lt;TableName&gt;\r\n```\r\n\r\nThe bind variable `:whereClause` is a placeholder for a single scalar value which is passed directly to the database and is not used to build the query as part of a template string.\r\n\r\nTherefore, when the database evaluates the string it is the equivalent of evaluating:\r\n\r\n```lang-sql\r\nSELECT PALT_I\r\nFROM   RSV_PALT\r\nWHERE  (&#39;some text&#39;)\r\nAND    STAT_C NOT IN (&#39;PL&#39;, &#39;CN&#39;)\r\nORDER BY PALT_I\r\n```\r\n\r\nand `WHERE (&#39;some text&#39;)` is an invalid SQL expression as it is missing a relational operator because the database is expecting `WHERE (&#39;some text&#39; = &#39;some other text&#39;)`.\r\n\r\nTo fix it you need to generate the dynamic query text as part of the string and use bind variables to pass only values into the query and not trying to add the dynamic part of the query using bind variables.\r\n\r\nSomething like:\r\n\r\n```lang-java\r\n@Query(\r\n  nativeQuery = true,\r\n  value = &quot;SELECT PALT_I &quot; +\r\n          &quot;FROM   RSV_PALT &quot; +\r\n          &quot;WHERE  (DEPT_I = :departmentId OR :departmentId IS NULL) &quot; +\r\n          &quot;AND    (CLASS_I = :classId OR :classId IS NULL) &quot; +\r\n          &quot;AND    (ITEM_I = :itemId OR :itemId IS NULL) &quot;+\r\n          &quot;AND    STAT_C NOT IN (&#39;PL&#39;, &#39;CN&#39;) &quot; +\r\n          &quot;ORDER BY PALT_I &quot;\r\n)\r\n```\r\n\r\nand then always pass `departmentId`, `classId` and `itemId` into the query but pass `NULL` values when you do not want to filter on them.","title":"where clause queryString giving SQL Error: 920, SQLState: 42000 in Oracle DB","body":"<p>You define the query using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(\n  nativeQuery = true,\n  value = &quot;SELECT PALT_I &quot; +\n          &quot;FROM RSV_PALT &quot; +\n          &quot;WHERE (:whereClause) AND STAT_C NOT IN ('PL', 'CN') &quot; +\n          &quot;ORDER BY PALT_I &quot;\n)\nfun getContainers(\n  @Param(&quot;whereClause&quot;) whereClause: String\n): List&lt;TableName&gt;\n</code></pre>\n<p>The bind variable <code>:whereClause</code> is a placeholder for a single scalar value which is passed directly to the database and is not used to build the query as part of a template string.</p>\n<p>Therefore, when the database evaluates the string it is the equivalent of evaluating:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT PALT_I\nFROM   RSV_PALT\nWHERE  ('some text')\nAND    STAT_C NOT IN ('PL', 'CN')\nORDER BY PALT_I\n</code></pre>\n<p>and <code>WHERE ('some text')</code> is an invalid SQL expression as it is missing a relational operator because the database is expecting <code>WHERE ('some text' = 'some other text')</code>.</p>\n<p>To fix it you need to generate the dynamic query text as part of the string and use bind variables to pass only values into the query and not trying to add the dynamic part of the query using bind variables.</p>\n<p>Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(\n  nativeQuery = true,\n  value = &quot;SELECT PALT_I &quot; +\n          &quot;FROM   RSV_PALT &quot; +\n          &quot;WHERE  (DEPT_I = :departmentId OR :departmentId IS NULL) &quot; +\n          &quot;AND    (CLASS_I = :classId OR :classId IS NULL) &quot; +\n          &quot;AND    (ITEM_I = :itemId OR :itemId IS NULL) &quot;+\n          &quot;AND    STAT_C NOT IN ('PL', 'CN') &quot; +\n          &quot;ORDER BY PALT_I &quot;\n)\n</code></pre>\n<p>and then always pass <code>departmentId</code>, <code>classId</code> and <code>itemId</code> into the query but pass <code>NULL</code> values when you do not want to filter on them.</p>\n"},{"tags":[],"owner":{"account_id":3449513,"reputation":243,"user_id":3534759,"accept_rate":75,"display_name":"user3534759"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700670527,"creation_date":1700670527,"answer_id":77531651,"question_id":77527739,"body_markdown":"I found out a way to do it.\r\n\r\n    @Repository\r\n    open class RepositoryClass @Autowired constructor(\r\n    private val entityManager: EntityManager) {\r\n\r\n    open fun getContainers(whereClause: String): List&lt;yourClass&gt; {\r\n        val nativeQuery = &quot;&quot;&quot;\r\n            SELECT PALT_I\r\n            FROM tableName\r\n            WHERE STAT_C NOT IN (&#39;A&#39;, &#39;B&#39;)\r\n            AND $whereClause\r\n            ORDER BY PALT_I\r\n        &quot;&quot;&quot;.trimIndent()\r\n\r\n        return entityManager.createNativeQuery(nativeQuery, yourClass::class.java).resultList as List&lt;yourClass&gt;\r\n    }\r\n}","title":"where clause queryString giving SQL Error: 920, SQLState: 42000 in Oracle DB","body":"<p>I found out a way to do it.</p>\n<pre><code>@Repository\nopen class RepositoryClass @Autowired constructor(\nprivate val entityManager: EntityManager) {\n\nopen fun getContainers(whereClause: String): List&lt;yourClass&gt; {\n    val nativeQuery = &quot;&quot;&quot;\n        SELECT PALT_I\n        FROM tableName\n        WHERE STAT_C NOT IN ('A', 'B')\n        AND $whereClause\n        ORDER BY PALT_I\n    &quot;&quot;&quot;.trimIndent()\n\n    return entityManager.createNativeQuery(nativeQuery, yourClass::class.java).resultList as List&lt;yourClass&gt;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":3449513,"reputation":243,"user_id":3534759,"accept_rate":75,"display_name":"user3534759"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77528262,"answer_count":2,"score":1,"last_activity_date":1700670728,"creation_date":1700634695,"question_id":77527739,"body_markdown":"I have below code trying to fetch some data from Oracle DB tableName based on post request sent. \r\n\r\nI form query queryString using all post request inputs by appending over a loop, then send this queryString as whereClause parameter to Query in repository class.\r\n   \r\n    POST REQUEST:\r\n   \r\n    {\r\n      &quot;list&quot;: [&quot;002-02-0284&quot;,&quot;029-00-0100&quot;]\r\n    }\r\n\r\n    @PostMapping(“/fetch”)\r\n    fun sync(@RequestBody @Valid DataRequest: request): ResponseEntity&lt;SyncResponse&gt; {\r\n\r\n       val list = request.list\r\n\r\n       return ResponseEntity(service.getContainers(list), HttpStatus.ACCEPTED)\r\n    }\r\n\r\n\r\n      fun getContainers(list: List&lt;String&gt;){\r\n\r\n      val conditions = mutableListOf&lt;String&gt;()\r\n\r\n      for (item in list) {\r\n        val values = extractValues(item)\r\n        val departmentId = values[0]\r\n        val classId = values[1]\r\n        val itemId = values[2]\r\n        conditions.add(&quot;(DEPT_I = :departmentId AND CLASS_I = :classId AND ITEM_I = :itemId)&quot;)\r\n      }\r\n\r\n       val whereClause = conditions.joinToString(&quot; OR &quot;)\r\n\r\n       println(&quot;--&lt; whereClause --&gt; $whereClause&quot;)\r\n\r\n       val responseList = service.getContainers(whereClause)\r\n     }\r\n\r\n      fun extractValues(item: String): Array&lt;Int&gt; {\r\n         return item.split(&quot;-&quot;).map { it.toInt() }.toTypedArray()\r\n      }\r\n\r\n      fun getContainers(whereClause: String): List&lt;yourClass&gt; {\r\n        return repository.getContainers(queryString)\r\n      }\r\n\r\n    @Query(\r\n    nativeQuery = true,\r\n    value = &quot;SELECT PALT_I &quot; +\r\n        &quot;FROM tableName &quot; +\r\n        &quot;WHERE (:whereClause) AND STAT_C NOT IN (&#39;PL&#39;, &#39;CN&#39;) &quot; +\r\n        &quot;ORDER BY PALT_I &quot;\r\n      )\r\n      fun getContainers(\r\n      @param(&quot;whereClause&quot;) whereClause: String): List&lt;tableName&gt;\r\n\r\n\r\nI am seeing error as below\r\n\r\nHibernate: SELECT PALT_I, SIZE_C, AREA_C, DEPT_I, CLASS_I, ITEM_I, AISLE_I, BIN_I, LVL_I, PALT_UNIT_Q, AVAIL_PALT_UNIT_Q, PALT_PEND_POST_Q,PALT_PEND_PULL_Q, PALT_PEND_PTWY_Q, PULL_PALT_UNIT_Q, VCP_Q, SSP_Q, PALT_Q, CTN_PER_PALT_Q, EXPIRE_D, LOT_I, HOLD_STAT_C, STAT_C, MODF_USER_ID, MODF_PGM_N, MODF_TS FROM RSV_PALT WHERE (?) AND STAT_C NOT IN (&#39;PL&#39;, &#39;CN&#39;) ORDER BY PALT_I\r\n\r\nHibernate: select inventoryi0_.container_id as container_id1_6_0_, inventoryi0_.update_timestamp as update_timestamp2_6_0_ from inventory_in_progress inventoryi0_ where inventoryi0_.container_id=?\r\nHibernate: select inventoryi0_.container_id as container_id1_6_0_, inventoryi0_.update_timestamp as update_timestamp2_6_0_ from inventory_in_progress inventoryi0_ where inventoryi0_.container_id=?\r\n\r\n[WARN] 2023-11-22 11:25:42,993 http-nio-8080-exec-1 org.hibernate.engine.jdbc.spi.SqlExceptionHelper - {X-API-ID=3283db6f-ef50-4d04-be5b-45ed5751432d, X-CORRELATION-ID=3283db6f-ef50-4d04-be5b-45ed5751432d, team=Ole} - **SQL Error: 920, SQLState: 42000**\r\n\r\n[ERROR] 2023-11-22 11:25:42,994 http-nio-8080-exec-1 org.hibernate.engine.jdbc.spi.SqlExceptionHelper - {X-API-ID=3283db6f-ef50-4d04-be5b-45ed5751432d, X-CORRELATION-ID=3283db6f-ef50-4d04-be5b-45ed5751432d, team=Ole} - **ORA-00920: invalid relational operator**\r\n\r\nany help is greatly appreciated. Thank you.","title":"where clause queryString giving SQL Error: 920, SQLState: 42000 in Oracle DB","body":"<p>I have below code trying to fetch some data from Oracle DB tableName based on post request sent.</p>\n<p>I form query queryString using all post request inputs by appending over a loop, then send this queryString as whereClause parameter to Query in repository class.</p>\n<pre><code>POST REQUEST:\n\n{\n  &quot;list&quot;: [&quot;002-02-0284&quot;,&quot;029-00-0100&quot;]\n}\n\n@PostMapping(“/fetch”)\nfun sync(@RequestBody @Valid DataRequest: request): ResponseEntity&lt;SyncResponse&gt; {\n\n   val list = request.list\n\n   return ResponseEntity(service.getContainers(list), HttpStatus.ACCEPTED)\n}\n\n\n  fun getContainers(list: List&lt;String&gt;){\n\n  val conditions = mutableListOf&lt;String&gt;()\n\n  for (item in list) {\n    val values = extractValues(item)\n    val departmentId = values[0]\n    val classId = values[1]\n    val itemId = values[2]\n    conditions.add(&quot;(DEPT_I = :departmentId AND CLASS_I = :classId AND ITEM_I = :itemId)&quot;)\n  }\n\n   val whereClause = conditions.joinToString(&quot; OR &quot;)\n\n   println(&quot;--&lt; whereClause --&gt; $whereClause&quot;)\n\n   val responseList = service.getContainers(whereClause)\n }\n\n  fun extractValues(item: String): Array&lt;Int&gt; {\n     return item.split(&quot;-&quot;).map { it.toInt() }.toTypedArray()\n  }\n\n  fun getContainers(whereClause: String): List&lt;yourClass&gt; {\n    return repository.getContainers(queryString)\n  }\n\n@Query(\nnativeQuery = true,\nvalue = &quot;SELECT PALT_I &quot; +\n    &quot;FROM tableName &quot; +\n    &quot;WHERE (:whereClause) AND STAT_C NOT IN ('PL', 'CN') &quot; +\n    &quot;ORDER BY PALT_I &quot;\n  )\n  fun getContainers(\n  @param(&quot;whereClause&quot;) whereClause: String): List&lt;tableName&gt;\n</code></pre>\n<p>I am seeing error as below</p>\n<p>Hibernate: SELECT PALT_I, SIZE_C, AREA_C, DEPT_I, CLASS_I, ITEM_I, AISLE_I, BIN_I, LVL_I, PALT_UNIT_Q, AVAIL_PALT_UNIT_Q, PALT_PEND_POST_Q,PALT_PEND_PULL_Q, PALT_PEND_PTWY_Q, PULL_PALT_UNIT_Q, VCP_Q, SSP_Q, PALT_Q, CTN_PER_PALT_Q, EXPIRE_D, LOT_I, HOLD_STAT_C, STAT_C, MODF_USER_ID, MODF_PGM_N, MODF_TS FROM RSV_PALT WHERE (?) AND STAT_C NOT IN ('PL', 'CN') ORDER BY PALT_I</p>\n<p>Hibernate: select inventoryi0_.container_id as container_id1_6_0_, inventoryi0_.update_timestamp as update_timestamp2_6_0_ from inventory_in_progress inventoryi0_ where inventoryi0_.container_id=?\nHibernate: select inventoryi0_.container_id as container_id1_6_0_, inventoryi0_.update_timestamp as update_timestamp2_6_0_ from inventory_in_progress inventoryi0_ where inventoryi0_.container_id=?</p>\n<p>[WARN] 2023-11-22 11:25:42,993 http-nio-8080-exec-1 org.hibernate.engine.jdbc.spi.SqlExceptionHelper - {X-API-ID=3283db6f-ef50-4d04-be5b-45ed5751432d, X-CORRELATION-ID=3283db6f-ef50-4d04-be5b-45ed5751432d, team=Ole} - <strong>SQL Error: 920, SQLState: 42000</strong></p>\n<p>[ERROR] 2023-11-22 11:25:42,994 http-nio-8080-exec-1 org.hibernate.engine.jdbc.spi.SqlExceptionHelper - {X-API-ID=3283db6f-ef50-4d04-be5b-45ed5751432d, X-CORRELATION-ID=3283db6f-ef50-4d04-be5b-45ed5751432d, team=Ole} - <strong>ORA-00920: invalid relational operator</strong></p>\n<p>any help is greatly appreciated. Thank you.</p>\n"},{"tags":["java","encoding","xss","owasp","antixsslibrary"],"owner":{"account_id":6075630,"reputation":1,"user_id":7430759,"display_name":"Sangram G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700670457,"creation_date":1700647920,"question_id":77529012,"body_markdown":"How can I handle situations where the encoded value from the XSS filter implemented with org.owasp.encoder.Encode.forHtml(UserInput), needs to be decoded for specific use cases such as  populating HTML displays, displaying alert boxes, or filling text areas where single quotes and special characters.\r\n\r\nHow can I ensure that the encoded values from the XSS filter, which uses org.owasp.encoder.Encode.forHtml(UserInput), produce the expected output without encoding for various use cases across multiple screens, without having to manually include a decoding function on each page?\r\n\r\n\r\nWhat will be the correct way?\r\n\r\nI have tried with decoding functions for the particular variable value   using in java class or scriptlet\r\n  userinput= StringEscapeUtils.unescapeHtml4(unserinput);\r\n\r\nand in Javascript\r\n\r\n\t\tlet text = document.Form.textArea.value;\r\n\t\tlet textarea = document.createElement(&#39;textarea&#39;);\r\n\t\ttext = text.replace(/&amp;amp;#39;/g, String.fromCharCode(39)); // single quote\r\n\t \ttext = text.replace(/&amp;amp;#34;/g, String.fromCharCode(34)); // double quote\r\n\t        text = text.replace(/&amp;amp;gt;/g, String.fromCharCode(62)); // greater than\r\n\t        text = text.replace(/&amp;lt;/g, String.fromCharCode(60)); // less than\r\n\t        text = text.replace(/&amp;amp;/g, &#39;&amp;&#39;); // less than\r\n\t        textarea.innerHTML = text;\r\n\t\tdocument.Form.textArea.value=textarea.value;\r\n\r\n\r\nBut it is not possible to write at multiple pages or multiple places at frontend side since my application is vast and having more than 100 pages.\r\n\r\n\r\nSo what could be the possible ways?\r\n\t\t\r\n","title":"XSS Filter encoding and decoding","body":"<p>How can I handle situations where the encoded value from the XSS filter implemented with org.owasp.encoder.Encode.forHtml(UserInput), needs to be decoded for specific use cases such as  populating HTML displays, displaying alert boxes, or filling text areas where single quotes and special characters.</p>\n<p>How can I ensure that the encoded values from the XSS filter, which uses org.owasp.encoder.Encode.forHtml(UserInput), produce the expected output without encoding for various use cases across multiple screens, without having to manually include a decoding function on each page?</p>\n<p>What will be the correct way?</p>\n<p>I have tried with decoding functions for the particular variable value   using in java class or scriptlet\nuserinput= StringEscapeUtils.unescapeHtml4(unserinput);</p>\n<p>and in Javascript</p>\n<pre><code>    let text = document.Form.textArea.value;\n    let textarea = document.createElement('textarea');\n    text = text.replace(/&amp;amp;#39;/g, String.fromCharCode(39)); // single quote\n    text = text.replace(/&amp;amp;#34;/g, String.fromCharCode(34)); // double quote\n        text = text.replace(/&amp;amp;gt;/g, String.fromCharCode(62)); // greater than\n        text = text.replace(/&amp;lt;/g, String.fromCharCode(60)); // less than\n        text = text.replace(/&amp;amp;/g, '&amp;'); // less than\n        textarea.innerHTML = text;\n    document.Form.textArea.value=textarea.value;\n</code></pre>\n<p>But it is not possible to write at multiple pages or multiple places at frontend side since my application is vast and having more than 100 pages.</p>\n<p>So what could be the possible ways?</p>\n"},{"tags":["java","docker","datastax"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1683951391,"post_id":76241041,"comment_id":134448940,"body_markdown":"You need to get the logs from the container which failed to start, and see what the problem is. Does that version work if you start it yourself, in docker?","body":"You need to get the logs from the container which failed to start, and see what the problem is. Does that version work if you start it yourself, in docker?"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1683951928,"post_id":76241041,"comment_id":134448979,"body_markdown":"I believe you need to add `.withEnv(&quot;DS_LICENSE&quot;, &quot;accept&quot;)` to container build chain","body":"I believe you need to add <code>.withEnv(&quot;DS_LICENSE&quot;, &quot;accept&quot;)</code> to container build chain"},{"owner":{"account_id":24256934,"reputation":47,"user_id":18207142,"display_name":"Cris Manrique"},"score":0,"creation_date":1684030155,"post_id":76241041,"comment_id":134456385,"body_markdown":"@AndreyB.Panfilov That worked! How did you know? I didn&#39;t see any documentation for this anywhere ;(","body":"@AndreyB.Panfilov That worked! How did you know? I didn&#39;t see any documentation for this anywhere ;("},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1684030301,"post_id":76241041,"comment_id":134456394,"body_markdown":"that is mentioned in https://hub.docker.com/r/datastax/dse-server. `DS_LICENSE`: **Required**. Set to accept to acknowledge that you agree with the terms of the DataStax license. To show the license, set the variable `DS_LICENSE` to the value `accept`. **The image only starts if the variable set to accept**.","body":"that is mentioned in <a href=\"https://hub.docker.com/r/datastax/dse-server\" rel=\"nofollow noreferrer\">hub.docker.com/r/datastax/dse-server</a>. <code>DS_LICENSE</code>: <b>Required</b>. Set to accept to acknowledge that you agree with the terms of the DataStax license. To show the license, set the variable <code>DS_LICENSE</code> to the value <code>accept</code>. <b>The image only starts if the variable set to accept</b>."}],"answers":[{"tags":[],"owner":{"account_id":18073120,"reputation":1,"user_id":22966215,"display_name":"Maksym Pedych"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700670431,"creation_date":1700670213,"answer_id":77531622,"question_id":76241041,"body_markdown":"According to the [documentation][1], `DS_LICENSE=accept` environment variable has to be presented. \r\n\r\n&gt; Examples Create a DSE database container:\r\n&gt; `docker run -e DS_LICENSE=accept --name my-dse -d datastax/dse-server:&lt;version tag&gt;`\r\n\r\nTry the following approach:\r\n\r\n    DockerImageName myImage = DockerImageName.parse(&quot;artifactory.aexp.com/dockerproxy/datastax/dse-server:5.1.10&quot;)\r\n            .asCompatibleSubstituteFor(&quot;cassandra&quot;);\r\n\r\n    CassandraContainer cassandraContainer = new CassandraContainer&lt;&gt;(myImage)\r\n            .withEnv(&quot;DS_LICENSE&quot;, &quot;accept&quot;);\r\n\r\n    cassandraContainer.start();\r\n\r\n\r\n  [1]: https://hub.docker.com/r/datastax/dse-server","title":"How to set up test container with datastax enterprise cassandra?","body":"<p>According to the <a href=\"https://hub.docker.com/r/datastax/dse-server\" rel=\"nofollow noreferrer\">documentation</a>, <code>DS_LICENSE=accept</code> environment variable has to be presented.</p>\n<blockquote>\n<p>Examples Create a DSE database container:\n<code>docker run -e DS_LICENSE=accept --name my-dse -d datastax/dse-server:&lt;version tag&gt;</code></p>\n</blockquote>\n<p>Try the following approach:</p>\n<pre><code>DockerImageName myImage = DockerImageName.parse(&quot;artifactory.aexp.com/dockerproxy/datastax/dse-server:5.1.10&quot;)\n        .asCompatibleSubstituteFor(&quot;cassandra&quot;);\n\nCassandraContainer cassandraContainer = new CassandraContainer&lt;&gt;(myImage)\n        .withEnv(&quot;DS_LICENSE&quot;, &quot;accept&quot;);\n\ncassandraContainer.start();\n</code></pre>\n"}],"owner":{"account_id":24256934,"reputation":47,"user_id":18207142,"display_name":"Cris Manrique"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700670431,"creation_date":1683951214,"question_id":76241041,"body_markdown":"I can set up test containers with a regular version of cassandra, but trying to use a DSE version throws this error\r\n\r\n```org.testcontainers.shaded.org.awaitility.core.ConditionTimeoutException: org.testcontainers.containers.GenericContainer expected the predicate to return &lt;true&gt; but it returned &lt;false&gt; for input of &lt;InspectContainerResponse(```\r\n\r\n\r\nThis is my current set up that is failing\r\n```\r\n\r\n@TestConfiguration\r\nclass TestContainer {\r\n  private static final String ROC_KEYSPACE = &quot;cksdgmdp1&quot;;\r\n  private static CassandraContainer cassandraRocContainer;\r\n  private static final String DSE_IMAGE_VERSION =\r\n          &quot;artifactory.aexp.com/dockerproxy/datastax/dse-server:5.1.10&quot;;\r\n  @BeforeAll\r\n  static void setupCassandraConnectionProperties() {\r\n    System.setProperty(&quot;spring.profiles.active&quot;, &quot;e0&quot;);\r\n    System.setProperty(&quot;spring.profiles.env&quot;, &quot;e0&quot;);\r\n  }\r\n\r\n  @Bean(&quot;cassandraRocSession&quot;)\r\n  public CassandraSession getCassandraRocSession() {\r\n    DockerImageName myImage =\r\n        DockerImageName.parse(DSE_IMAGE_VERSION)\r\n            .asCompatibleSubstituteFor(&quot;cassandra&quot;);\r\n\r\n    cassandraRocContainer =\r\n        (CassandraContainer)\r\n            new CassandraContainer(myImage)\r\n                .withInitScript(getCqlScript(ROC_KEYSPACE))\r\n                .withExposedPorts(9042);\r\n    // start container\r\n    cassandraRocContainer.start();\r\n    // create cluster object from container\r\n    Cluster cluster =\r\n        Cluster.builder()\r\n            .addContactPoint(cassandraRocContainer.getHost())\r\n            .withPort(cassandraRocContainer.getMappedPort(9042))\r\n            .withCredentials(&quot;&quot;, &quot;&quot;)\r\n            .build();\r\n\r\n    // create session from newly created keyspace\r\n    Session session = cluster.connect(ROC_KEYSPACE);\r\n    return new CassandraSession(session, ROC_KEYSPACE);\r\n  }\r\n\r\n  public String getCqlScript(String keyspace) {\r\n    return String.format(&quot;%s.cql&quot;, keyspace);\r\n  }\r\n\r\n  @AfterAll\r\n  static void shutdown() {\r\n    cassandraRocContainer.close();\r\n  }\r\n}\r\n```\r\n\r\nIf i change that ```DSE_IMAGE_VERSION``` to ```cassandra:3.11.4``` then it works fine but I need to use a DSE version. I&#39;m not sure what to try to be honest, I am pretty new with both DSE and containers. \r\n","title":"How to set up test container with datastax enterprise cassandra?","body":"<p>I can set up test containers with a regular version of cassandra, but trying to use a DSE version throws this error</p>\n<p><code>org.testcontainers.shaded.org.awaitility.core.ConditionTimeoutException: org.testcontainers.containers.GenericContainer expected the predicate to return &lt;true&gt; but it returned &lt;false&gt; for input of &lt;InspectContainerResponse(</code></p>\n<p>This is my current set up that is failing</p>\n<pre><code>\n@TestConfiguration\nclass TestContainer {\n  private static final String ROC_KEYSPACE = &quot;cksdgmdp1&quot;;\n  private static CassandraContainer cassandraRocContainer;\n  private static final String DSE_IMAGE_VERSION =\n          &quot;artifactory.aexp.com/dockerproxy/datastax/dse-server:5.1.10&quot;;\n  @BeforeAll\n  static void setupCassandraConnectionProperties() {\n    System.setProperty(&quot;spring.profiles.active&quot;, &quot;e0&quot;);\n    System.setProperty(&quot;spring.profiles.env&quot;, &quot;e0&quot;);\n  }\n\n  @Bean(&quot;cassandraRocSession&quot;)\n  public CassandraSession getCassandraRocSession() {\n    DockerImageName myImage =\n        DockerImageName.parse(DSE_IMAGE_VERSION)\n            .asCompatibleSubstituteFor(&quot;cassandra&quot;);\n\n    cassandraRocContainer =\n        (CassandraContainer)\n            new CassandraContainer(myImage)\n                .withInitScript(getCqlScript(ROC_KEYSPACE))\n                .withExposedPorts(9042);\n    // start container\n    cassandraRocContainer.start();\n    // create cluster object from container\n    Cluster cluster =\n        Cluster.builder()\n            .addContactPoint(cassandraRocContainer.getHost())\n            .withPort(cassandraRocContainer.getMappedPort(9042))\n            .withCredentials(&quot;&quot;, &quot;&quot;)\n            .build();\n\n    // create session from newly created keyspace\n    Session session = cluster.connect(ROC_KEYSPACE);\n    return new CassandraSession(session, ROC_KEYSPACE);\n  }\n\n  public String getCqlScript(String keyspace) {\n    return String.format(&quot;%s.cql&quot;, keyspace);\n  }\n\n  @AfterAll\n  static void shutdown() {\n    cassandraRocContainer.close();\n  }\n}\n</code></pre>\n<p>If i change that <code>DSE_IMAGE_VERSION</code> to <code>cassandra:3.11.4</code> then it works fine but I need to use a DSE version. I'm not sure what to try to be honest, I am pretty new with both DSE and containers.</p>\n"},{"tags":["java","spring-boot","mockito","junit5"],"comments":[{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1700668528,"post_id":77531150,"comment_id":136683461,"body_markdown":"Depending on the profile you are using for tests different application.yml might be loaded that does contain a different list. Did you set a debug breakpoint in the line of your first if condition to check what the stringList actually contains?","body":"Depending on the profile you are using for tests different application.yml might be loaded that does contain a different list. Did you set a debug breakpoint in the line of your first if condition to check what the stringList actually contains?"},{"owner":{"account_id":10490611,"reputation":295,"user_id":10703088,"display_name":"Dan"},"score":0,"creation_date":1700668820,"post_id":77531150,"comment_id":136683509,"body_markdown":"I do have 2 different file properties, but I only load one of the two, which is the only one to contain ```custom.properties.list```. I did, and the list contains ```&quot;${custom.properties.list}&quot;``` as the only value in my list, which matches none of the values I set in my properties file","body":"I do have 2 different file properties, but I only load one of the two, which is the only one to contain <code>custom.properties.list</code>. I did, and the list contains <code>&quot;${custom.properties.list}&quot;</code> as the only value in my list, which matches none of the values I set in my properties file"}],"answers":[{"tags":[],"owner":{"account_id":10490611,"reputation":295,"user_id":10703088,"display_name":"Dan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700669934,"creation_date":1700669543,"answer_id":77531526,"question_id":77531150,"body_markdown":"All I had to do was creating a test.properties in my test file (making sure the path is the same that the one in the /src/main directory), and marking my test class with the following annotation ```@TestPropertySource(locations = &quot;classpath:test.properties&quot;)```. \r\nThis annotation means that the ```test.properties``` will override properties file that are in the main directory. Problem solved, all my test are successful.  ","title":"Junit 5 : Testing if condition involving private property in controller","body":"<p>All I had to do was creating a test.properties in my test file (making sure the path is the same that the one in the /src/main directory), and marking my test class with the following annotation <code>@TestPropertySource(locations = &quot;classpath:test.properties&quot;)</code>.\nThis annotation means that the <code>test.properties</code> will override properties file that are in the main directory. Problem solved, all my test are successful.</p>\n"}],"owner":{"account_id":10490611,"reputation":295,"user_id":10703088,"display_name":"Dan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1700669934,"creation_date":1700666219,"question_id":77531150,"body_markdown":"I&#39;m trying to write a Junit test for the following controller:\r\n\r\n\r\n```java\r\n@Value(&quot;${custom.properties.list}&quot;)\r\nprivate List&lt;String&gt; stringList;\r\n\r\nfinal DataService dataService;\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; createValue(\r\n\t\t\t@Valid @RequestBody final ObjectDto dto,\r\n\t\t\t@RequestHeader(value = &quot;headerField&quot;) final String headerValue) {\r\n\r\n\t\tif (this.stringList.stream().noneMatch(headerValue::startsWith)) {\r\n\t\t\treturn ResponseEntity.status(HttpStatus.FORBIDDEN).body(&quot;error 403&quot;);\r\n\t\t}\r\n\r\n\t\tLong idResult = this.dataService.create(dto, headerValue);\r\n\r\n\t\tif (Objects.equals(idResult, -1L)) {\r\n\t\t\treturn ResponseEntity.status(HttpStatus.204).body(&quot;error 204&quot;);\r\n\t\t}\r\n\r\n\t\treturn new ResponseEntity&lt;&gt;(idResult, HttpStatus.CREATED);\r\n\t}\r\n\r\n```\r\n\r\nlet&#39;s say that ```stringList``` contains values ```&quot;ABC&quot;, &quot;EFG&quot;, &quot;HIJ&quot;```.\r\nI&#39;m testing that ```headerValue``` starts with one of the values from the list to either return a code 201 or 204.\r\n\r\nMy Junit test is the following:\r\n\r\n```java\r\n    @Test\r\n    void testCreateValue_1() throws Exception {\r\n\r\n        String requestBody = new String(Files.readAllBytes(Paths.get(&quot;src/test/resources/post/postRequest_1.json&quot;)));\r\n\r\n        MyObjectData data = mapper.readValue(requestBody, MyObjectData.class);\r\n\r\n        Mockito.when(dataService.create(data, &quot;ABC&quot;)).thenReturn(1L);\r\n\r\n        mvc.perform(post(&quot;/&quot;)\r\n                        .header(&quot;Nom-Application&quot;, &quot;ABC&quot;)\r\n                        .content(requestBody)\r\n                        .contentType(MediaType.APPLICATION_JSON))\r\n                .andDo(print())\r\n                .andExpect(MockMvcResultMatchers.status().isCreated());\r\n    }\r\n```\r\n\r\nI am not sure why as I&#39;m quite new to Junit testing, but running my test fails returns a code 403.\r\nI&#39;ve tried to create the list in my controller test class like I did it my controller class, but it doesn&#39;t work. \r\n\r\nWhat should I do for my test to pass and return a code 201 ? \r\n\r\nEDIT: Or maybe is has to do with getting my stringList from a properties file ?\r\n\r\nEDIT 2 : I realised that the only value in ```stringList``` when I launch my test is ```&quot;${custom.properties.list}&quot;```, so the answer to my previous edit is &quot;yes&quot;. Is there any way I can update that value in my test class ?","title":"Junit 5 : Testing if condition involving private property in controller","body":"<p>I'm trying to write a Junit test for the following controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${custom.properties.list}&quot;)\nprivate List&lt;String&gt; stringList;\n\nfinal DataService dataService;\n\n    @PostMapping(&quot;/&quot;)\n    public ResponseEntity&lt;?&gt; createValue(\n            @Valid @RequestBody final ObjectDto dto,\n            @RequestHeader(value = &quot;headerField&quot;) final String headerValue) {\n\n        if (this.stringList.stream().noneMatch(headerValue::startsWith)) {\n            return ResponseEntity.status(HttpStatus.FORBIDDEN).body(&quot;error 403&quot;);\n        }\n\n        Long idResult = this.dataService.create(dto, headerValue);\n\n        if (Objects.equals(idResult, -1L)) {\n            return ResponseEntity.status(HttpStatus.204).body(&quot;error 204&quot;);\n        }\n\n        return new ResponseEntity&lt;&gt;(idResult, HttpStatus.CREATED);\n    }\n\n</code></pre>\n<p>let's say that <code>stringList</code> contains values <code>&quot;ABC&quot;, &quot;EFG&quot;, &quot;HIJ&quot;</code>.\nI'm testing that <code>headerValue</code> starts with one of the values from the list to either return a code 201 or 204.</p>\n<p>My Junit test is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    void testCreateValue_1() throws Exception {\n\n        String requestBody = new String(Files.readAllBytes(Paths.get(&quot;src/test/resources/post/postRequest_1.json&quot;)));\n\n        MyObjectData data = mapper.readValue(requestBody, MyObjectData.class);\n\n        Mockito.when(dataService.create(data, &quot;ABC&quot;)).thenReturn(1L);\n\n        mvc.perform(post(&quot;/&quot;)\n                        .header(&quot;Nom-Application&quot;, &quot;ABC&quot;)\n                        .content(requestBody)\n                        .contentType(MediaType.APPLICATION_JSON))\n                .andDo(print())\n                .andExpect(MockMvcResultMatchers.status().isCreated());\n    }\n</code></pre>\n<p>I am not sure why as I'm quite new to Junit testing, but running my test fails returns a code 403.\nI've tried to create the list in my controller test class like I did it my controller class, but it doesn't work.</p>\n<p>What should I do for my test to pass and return a code 201 ?</p>\n<p>EDIT: Or maybe is has to do with getting my stringList from a properties file ?</p>\n<p>EDIT 2 : I realised that the only value in <code>stringList</code> when I launch my test is <code>&quot;${custom.properties.list}&quot;</code>, so the answer to my previous edit is &quot;yes&quot;. Is there any way I can update that value in my test class ?</p>\n"},{"tags":["java","stock","maximum-profit-problem"],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700669344,"creation_date":1700669344,"answer_id":77531502,"question_id":77530358,"body_markdown":"You&#39;re looking for local minimums and maximums.  I&#39;m not going to write the code, but here&#39;s an outline of one algorithm.\r\n\r\n    Save the first price\r\n    Iterate through the array starting with the second element\r\n        Is the current price less than the previous price\r\n            Have you already bought stock\r\n                Sell at the previous price\r\n            else\r\n                Save the current price\r\n        else\r\n            Have you already bought stock\r\n                continue\r\n            else\r\n                Buy with the saved price.","title":"Maximize profit from buying and selling stocks with multiple transactions","body":"<p>You're looking for local minimums and maximums.  I'm not going to write the code, but here's an outline of one algorithm.</p>\n<pre><code>Save the first price\nIterate through the array starting with the second element\n    Is the current price less than the previous price\n        Have you already bought stock\n            Sell at the previous price\n        else\n            Save the current price\n    else\n        Have you already bought stock\n            continue\n        else\n            Buy with the saved price.\n</code></pre>\n"}],"owner":{"account_id":27640003,"reputation":21,"user_id":21097123,"display_name":"Sri Murugan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700669344,"creation_date":1700659852,"question_id":77530358,"body_markdown":"I am working on a problem where I need to maximize profit from buying and selling stocks with multiple transactions. The task is to find and return the maximum profit achievable given an integer array `prices`, where `prices[i]` is the price of a stock on the `ith` day.\r\n\r\nExamples:\r\n\r\nExample 1:\r\n\r\n```\r\nInput: prices = [7,1,5,3,6,4]\r\nOutput: 7\r\nExplanation: Buy on day 2 (price = 1) and sell on day 3 (price = 5), profit = 5-1 = 4. Then buy on day 4 (price = 3) and sell on day 5 (price = 6), profit = 6-3 = 3. Total profit is 4 + 3 = 7.\r\n\r\n```\r\nExample 2:\r\n\r\n```\r\nInput: prices = [1,2,3,4,5]\r\nOutput: 4\r\nExplanation: Buy on day 1 (price = 1) and sell on day 5 (price = 5), profit = 5-1 = 4. Total profit is 4.\r\n```\r\n\r\nExample 3:\r\n\r\n```\r\nInput: prices = [7,6,4,3,1]\r\nOutput: 0\r\nExplanation: There is no way to make a positive profit, so we never buy the stock to achieve the maximum profit of 0.\r\n```\r\n\r\nConstraints:\r\n\r\n```\r\n1 &lt;= prices.length &lt;= 3 * 10^4\r\n0 &lt;= prices[i] &lt;= 10^4\r\n```\r\n\r\nI have implemented a solution in Java, but it&#39;s not giving the correct output for all cases. Here&#39;s the current implementation:\r\n\r\n```\r\nclass Solution {\r\n    public int maxProfit(int[] prices) {\r\n        int overall_profit = 0;\r\n        boolean isBought = false;\r\n        int track = 0;\r\n        for(int i = 0; i &lt; prices.length - 1; i++){\r\n            int profit = 0;\r\n            if(prices[i+1] &gt; prices[i]){\r\n                profit += prices[i+1] - prices[i];\r\n                if(!isBought){\r\n                    isBought = true;\r\n                    track = i;\r\n                }\r\n                i++;\r\n            }\r\n            if(profit &gt; overall_profit){\r\n                overall_profit = profit;\r\n            }\r\n            if(isBought){\r\n                isBought = false;\r\n                i = track;\r\n            }\r\n        }\r\n        return overall_profit;\r\n    }\r\n}\r\n```\r\n\r\nI would appreciate any insights or suggestions on how to improve the current implementation to correctly solve the problem. Thank you!","title":"Maximize profit from buying and selling stocks with multiple transactions","body":"<p>I am working on a problem where I need to maximize profit from buying and selling stocks with multiple transactions. The task is to find and return the maximum profit achievable given an integer array <code>prices</code>, where <code>prices[i]</code> is the price of a stock on the <code>ith</code> day.</p>\n<p>Examples:</p>\n<p>Example 1:</p>\n<pre><code>Input: prices = [7,1,5,3,6,4]\nOutput: 7\nExplanation: Buy on day 2 (price = 1) and sell on day 3 (price = 5), profit = 5-1 = 4. Then buy on day 4 (price = 3) and sell on day 5 (price = 6), profit = 6-3 = 3. Total profit is 4 + 3 = 7.\n\n</code></pre>\n<p>Example 2:</p>\n<pre><code>Input: prices = [1,2,3,4,5]\nOutput: 4\nExplanation: Buy on day 1 (price = 1) and sell on day 5 (price = 5), profit = 5-1 = 4. Total profit is 4.\n</code></pre>\n<p>Example 3:</p>\n<pre><code>Input: prices = [7,6,4,3,1]\nOutput: 0\nExplanation: There is no way to make a positive profit, so we never buy the stock to achieve the maximum profit of 0.\n</code></pre>\n<p>Constraints:</p>\n<pre><code>1 &lt;= prices.length &lt;= 3 * 10^4\n0 &lt;= prices[i] &lt;= 10^4\n</code></pre>\n<p>I have implemented a solution in Java, but it's not giving the correct output for all cases. Here's the current implementation:</p>\n<pre><code>class Solution {\n    public int maxProfit(int[] prices) {\n        int overall_profit = 0;\n        boolean isBought = false;\n        int track = 0;\n        for(int i = 0; i &lt; prices.length - 1; i++){\n            int profit = 0;\n            if(prices[i+1] &gt; prices[i]){\n                profit += prices[i+1] - prices[i];\n                if(!isBought){\n                    isBought = true;\n                    track = i;\n                }\n                i++;\n            }\n            if(profit &gt; overall_profit){\n                overall_profit = profit;\n            }\n            if(isBought){\n                isBought = false;\n                i = track;\n            }\n        }\n        return overall_profit;\n    }\n}\n</code></pre>\n<p>I would appreciate any insights or suggestions on how to improve the current implementation to correctly solve the problem. Thank you!</p>\n"},{"tags":["java","amazon-web-services","maven","aws-xray"],"owner":{"account_id":14402741,"reputation":161,"user_id":10403839,"display_name":"Dominique M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700669022,"creation_date":1700669022,"question_id":77531468,"body_markdown":"I would like to use [Powertools Tracing library][1] for my Lambda. However, I am having issues setting things up. \r\n\r\nAccording to their documentation, the aspectj-maven-plugin (dev.aspectj) should be added as a plugin. However, this causes compilation issues (related to Lombok). The exact logs are shown below this point.\r\n```\r\n[INFO] --- aspectj:1.13.1:compile (default) @ &lt;module-name&gt; ---\r\n[INFO] Showing AJC message detail for messages of types: [error, warning, fail]\r\n[WARNING] You aren&#39;t using a compiler supported by lombok, so lombok will not work and has been disabled.\r\nYour processor is: org.aspectj.org.eclipse.jdt.internal.compiler.apt.dispatch.BatchProcessingEnvImpl\r\nLombok supports: OpenJDK javac, ECJ\r\n\t&lt;unknown source file&gt;:&lt;no line information&gt;\r\n[ERROR] log cannot be resolved\r\n```\r\n\r\nMaven section for **aspectj-maven-plugin**\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.13.1&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;17&lt;/source&gt;\r\n        &lt;target&gt;17&lt;/target&gt;\r\n        &lt;complianceLevel&gt;17&lt;/complianceLevel&gt;\r\n        &lt;aspectLibraries&gt;\r\n            &lt;aspectLibrary&gt;\r\n                &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powertools-tracing&lt;/artifactId&gt;\r\n            &lt;/aspectLibrary&gt;\r\n        &lt;/aspectLibraries&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;compile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI have already followed some advice, such as adding `-Djps.track.ap.dependencies=false` to the Compiler settings of IntelliJ, which did not make a difference (I assumed that it had something to do with the warning issued by Lombok). \r\n\r\nI can&#39;t find the exact same issue, but please let me know if you see a flaw in the way I set things up.\r\n\r\n\r\n  [1]: https://docs.powertools.aws.dev/lambda/java/core/tracing/","title":"Using AWS Powertools Tracing library with Java 17","body":"<p>I would like to use <a href=\"https://docs.powertools.aws.dev/lambda/java/core/tracing/\" rel=\"nofollow noreferrer\">Powertools Tracing library</a> for my Lambda. However, I am having issues setting things up.</p>\n<p>According to their documentation, the aspectj-maven-plugin (dev.aspectj) should be added as a plugin. However, this causes compilation issues (related to Lombok). The exact logs are shown below this point.</p>\n<pre><code>[INFO] --- aspectj:1.13.1:compile (default) @ &lt;module-name&gt; ---\n[INFO] Showing AJC message detail for messages of types: [error, warning, fail]\n[WARNING] You aren't using a compiler supported by lombok, so lombok will not work and has been disabled.\nYour processor is: org.aspectj.org.eclipse.jdt.internal.compiler.apt.dispatch.BatchProcessingEnvImpl\nLombok supports: OpenJDK javac, ECJ\n    &lt;unknown source file&gt;:&lt;no line information&gt;\n[ERROR] log cannot be resolved\n</code></pre>\n<p>Maven section for <strong>aspectj-maven-plugin</strong></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\n    &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.13.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;17&lt;/source&gt;\n        &lt;target&gt;17&lt;/target&gt;\n        &lt;complianceLevel&gt;17&lt;/complianceLevel&gt;\n        &lt;aspectLibraries&gt;\n            &lt;aspectLibrary&gt;\n                &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\n                &lt;artifactId&gt;powertools-tracing&lt;/artifactId&gt;\n            &lt;/aspectLibrary&gt;\n        &lt;/aspectLibraries&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I have already followed some advice, such as adding <code>-Djps.track.ap.dependencies=false</code> to the Compiler settings of IntelliJ, which did not make a difference (I assumed that it had something to do with the warning issued by Lombok).</p>\n<p>I can't find the exact same issue, but please let me know if you see a flaw in the way I set things up.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":84287,"reputation":44609,"user_id":235710,"accept_rate":94,"display_name":"Adil Shaikh"},"score":0,"creation_date":1395920715,"post_id":22686586,"comment_id":34562455,"body_markdown":"`CurryBiConsumer` needs to be a functional interface","body":"<code>CurryBiConsumer</code> needs to be a functional interface"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1395921533,"post_id":22686586,"comment_id":34563036,"body_markdown":"What version of java 8 are you using? your code compiles and runs as expected on my machine. Have you tried to run it with `java -jar` instead of through eclipse?","body":"What version of java 8 are you using? your code compiles and runs as expected on my machine. Have you tried to run it with <code>java -jar</code> instead of through eclipse?"},{"owner":{"account_id":2347441,"reputation":67550,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"score":0,"creation_date":1395922373,"post_id":22686586,"comment_id":34563674,"body_markdown":"Just curious, why would you want to extend functional interfaces, it seems not so smart to do so in my opinion.","body":"Just curious, why would you want to extend functional interfaces, it seems not so smart to do so in my opinion."},{"owner":{"account_id":1324501,"reputation":9325,"user_id":1269640,"accept_rate":59,"display_name":"Salomon BRYS"},"score":0,"creation_date":1395934236,"post_id":22686586,"comment_id":34572960,"body_markdown":"I find extending functional interfaces to add default method very handy. They remain functional interfaces and you can add behaviour to them.\nLine 34 is `CurryBiConsumer&lt;String, Integer&gt; bc = Main::display;`","body":"I find extending functional interfaces to add default method very handy. They remain functional interfaces and you can add behaviour to them. Line 34 is <code>CurryBiConsumer&lt;String, Integer&gt; bc = Main::display;</code>"}],"answers":[{"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1395921869,"post_id":22686985,"comment_id":34563288,"body_markdown":"Can you reproduce the issue?","body":"Can you reproduce the issue?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1395922064,"post_id":22686985,"comment_id":34563439,"body_markdown":"In Eclipse, yes; with javac, no. It&#39;s an Eclipse bug.","body":"In Eclipse, yes; with javac, no. It&#39;s an Eclipse bug."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1395923197,"post_id":22686985,"comment_id":34564266,"body_markdown":"Apropos Java 8 bugs, have you followed this question yesterday, where it turns out that `javac` compiles `(i) -&gt; i++` into `(i) -&gt; i+1`? http://stackoverflow.com/questions/22648079/lambda-behaving-differently-than-anonymous-inner-class","body":"Apropos Java 8 bugs, have you followed this question yesterday, where it turns out that <code>javac</code> compiles <code>(i) -&gt; i++</code> into <code>(i) -&gt; i+1</code>? <a href=\"http://stackoverflow.com/questions/22648079/lambda-behaving-differently-than-anonymous-inner-class\" title=\"lambda behaving differently than anonymous inner class\">stackoverflow.com/questions/22648079/&hellip;</a>"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1410498661,"post_id":22686985,"comment_id":40357484,"body_markdown":"Too late to report it, I have Luna and it doesn&#39;t reproduce there.","body":"Too late to report it, I have Luna and it doesn&#39;t reproduce there."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1410498686,"creation_date":1395921653,"answer_id":22686985,"question_id":22686586,"body_markdown":"Set the system property `jdk.internal.lambda.dumpProxyClasses` to point to a directory on your filesystem. You&#39;ll get the bytecode of the synthesized anonymous class `com/test8/Main$$Lambda$1` dumped to that location. Open that class file with `javap` to see what has happened. You should find two declarations of the same method there.\n\n### Update\n\nThis is the `javap` output produced by the above procedure, when compiled with Eclipse:\n\n&lt;pre&gt;final class test.Main$$Lambda$1 implements test.Main$CurryBiConsumer {\n  public void accept(java.lang.Object, java.lang.Object);\n    Code:\n       0: aload_1       \n       1: checkcast     #14                 // class java/lang/String\n       4: aload_2       \n       5: checkcast     #16                 // class java/lang/Integer\n       8: invokestatic  #22                 // Method test/Main.lambda$0:(Ljava/lang/String;Ljava/lang/Integer;)V\n      11: return        \n\n  public void accept(java.lang.Object, java.lang.Object);\n    Code:\n       0: aload_1       \n       1: checkcast     #14                 // class java/lang/String\n       4: aload_2       \n       5: checkcast     #16                 // class java/lang/Integer\n       8: invokestatic  #22                 // Method test/Main.lambda$0:(Ljava/lang/String;Ljava/lang/Integer;)V\n      11: return        \n}&lt;/pre&gt;\n\n\nAnd this is how it should be, and what `javac` does:\n\n&lt;pre&gt;final class test.Main$$Lambda$1 implements test.Main$CurryBiConsumer {\n  public void accept(java.lang.Object, java.lang.Object);\n    Code:\n       0: aload_1       \n       1: checkcast     #14                 // class java/lang/String\n       4: aload_2       \n       5: checkcast     #16                 // class java/lang/Integer\n       8: invokevirtual #20                 // Method java/lang/Integer.intValue:()I\n      11: invokestatic  #26                 // Method test/Main.display:(Ljava/lang/String;I)V\n      14: return        \n}&lt;/pre&gt;\n\n\nConclusion: this is an issue with the Eclipse JDT compiler. Someone should report it :)\n\n## Update\n\nAs of Eclipse Luna this bug has been fixed.","title":"Java 8: Duplicate method name&amp;signature lambda","body":"<p>Set the system property <code>jdk.internal.lambda.dumpProxyClasses</code> to point to a directory on your filesystem. You'll get the bytecode of the synthesized anonymous class <code>com/test8/Main$$Lambda$1</code> dumped to that location. Open that class file with <code>javap</code> to see what has happened. You should find two declarations of the same method there.</p>\n<h3>Update</h3>\n<p>This is the <code>javap</code> output produced by the above procedure, when compiled with Eclipse:</p>\n<pre>final class test.Main$$Lambda$1 implements test.Main$CurryBiConsumer {\n  public void accept(java.lang.Object, java.lang.Object);\n    Code:\n       0: aload_1       \n       1: checkcast     #14                 // class java/lang/String\n       4: aload_2       \n       5: checkcast     #16                 // class java/lang/Integer\n       8: invokestatic  #22                 // Method test/Main.lambda$0:(Ljava/lang/String;Ljava/lang/Integer;)V\n      11: return        \n\n  public void accept(java.lang.Object, java.lang.Object);\n    Code:\n       0: aload_1       \n       1: checkcast     #14                 // class java/lang/String\n       4: aload_2       \n       5: checkcast     #16                 // class java/lang/Integer\n       8: invokestatic  #22                 // Method test/Main.lambda$0:(Ljava/lang/String;Ljava/lang/Integer;)V\n      11: return        \n}</pre>\n<p>And this is how it should be, and what <code>javac</code> does:</p>\n<pre>final class test.Main$$Lambda$1 implements test.Main$CurryBiConsumer {\n  public void accept(java.lang.Object, java.lang.Object);\n    Code:\n       0: aload_1       \n       1: checkcast     #14                 // class java/lang/String\n       4: aload_2       \n       5: checkcast     #16                 // class java/lang/Integer\n       8: invokevirtual #20                 // Method java/lang/Integer.intValue:()I\n      11: invokestatic  #26                 // Method test/Main.display:(Ljava/lang/String;I)V\n      14: return        \n}</pre>\n<p>Conclusion: this is an issue with the Eclipse JDT compiler. Someone should report it :)</p>\n<h2>Update</h2>\n<p>As of Eclipse Luna this bug has been fixed.</p>\n"},{"tags":[],"owner":{"account_id":1083227,"reputation":178,"user_id":1079614,"display_name":"irbian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700668805,"creation_date":1700668805,"answer_id":77531448,"question_id":22686586,"body_markdown":"In my case, changing the JRE Runtime installed in eclipse solved the issue","title":"Java 8: Duplicate method name&amp;signature lambda","body":"<p>In my case, changing the JRE Runtime installed in eclipse solved the issue</p>\n"}],"owner":{"account_id":1324501,"reputation":9325,"user_id":1269640,"accept_rate":59,"display_name":"Salomon BRYS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7959,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":22686985,"answer_count":2,"score":10,"last_activity_date":1700668805,"creation_date":1395920584,"question_id":22686586,"body_markdown":"I was playing around with Java 8 lambdas, method references and interface default methods to explore the wonderful world of currying, and then I got this Java error I cannot understand.\r\n\r\nHere is the code :\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tpublic class Main {\r\n\t\r\n\t\tpublic interface CurryBiConsumer&lt;T, U&gt; extends BiConsumer&lt;T, U&gt; {\r\n\t\t\tdefault public CurryConsumer&lt;U&gt; curryFirst(T t) {\r\n\t\t\t\treturn (u) -&gt; accept(t, u);\r\n\t\t\t}\r\n\t\t\tdefault public CurryConsumer&lt;T&gt; currySecond(U u) {\r\n\t\t\t\treturn (t) -&gt; accept(t, u);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic interface CurryConsumer&lt;T&gt; extends Consumer&lt;T&gt; {\r\n\t\t\tdefault public Runnable curry(T t) {\r\n\t\t\t\treturn () -&gt; accept(t);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tstatic void execute(Runnable r) {\r\n\t\t\tSystem.out.println(&quot;BEFORE&quot;);\r\n\t\t\tr.run();\r\n\t\t\tSystem.out.println(&quot;AFTER&quot;);\r\n\t\t}\r\n\t\r\n\t\tstatic void display(String str, int count) {\r\n\t\t\tSystem.out.println(&quot;DISP: &quot; + str + &quot; &quot; + count);\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tCurryBiConsumer&lt;String, Integer&gt; bc = Main::display;\r\n\t\r\n\t\t\texecute(bc.curryFirst(&quot;Salomon&quot;).curry(42));\r\n\t\t}\r\n\t}\r\n\r\nEclipse gives me no error but when I run it, I get this runtime error :\r\n\r\n\tException in thread &quot;main&quot; java.lang.BootstrapMethodError: call site initialization exception\r\n\t\tat java.lang.invoke.CallSite.makeSite(CallSite.java:328)\r\n\t\tat java.lang.invoke.MethodHandleNatives.linkCallSite(MethodHandleNatives.java:296)\r\n\t\tat com.test8.Main.main(Main.java:34)\r\n\tCaused by: java.lang.ClassFormatError: Duplicate method name&amp;signature in class file com/test8/Main$$Lambda$1\r\n\t\tat sun.misc.Unsafe.defineAnonymousClass(Native Method)\r\n\t\tat java.lang.invoke.InnerClassLambdaMetafactory.spinInnerClass(InnerClassLambdaMetafactory.java:324)\r\n\t\tat java.lang.invoke.InnerClassLambdaMetafactory.buildCallSite(InnerClassLambdaMetafactory.java:194)\r\n\t\tat java.lang.invoke.LambdaMetafactory.altMetafactory(LambdaMetafactory.java:473)\r\n\t\tat java.lang.invoke.CallSite.makeSite(CallSite.java:301)\r\n\t\t... 2 more\r\n\r\nCan someone explain What is this error, why it is happening and how to get around it ?\r\n\r\nThanks :)","title":"Java 8: Duplicate method name&amp;signature lambda","body":"<p>I was playing around with Java 8 lambdas, method references and interface default methods to explore the wonderful world of currying, and then I got this Java error I cannot understand.</p>\n\n<p>Here is the code :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public interface CurryBiConsumer&lt;T, U&gt; extends BiConsumer&lt;T, U&gt; {\n        default public CurryConsumer&lt;U&gt; curryFirst(T t) {\n            return (u) -&gt; accept(t, u);\n        }\n        default public CurryConsumer&lt;T&gt; currySecond(U u) {\n            return (t) -&gt; accept(t, u);\n        }\n    }\n\n    public interface CurryConsumer&lt;T&gt; extends Consumer&lt;T&gt; {\n        default public Runnable curry(T t) {\n            return () -&gt; accept(t);\n        }\n    }\n\n    static void execute(Runnable r) {\n        System.out.println(\"BEFORE\");\n        r.run();\n        System.out.println(\"AFTER\");\n    }\n\n    static void display(String str, int count) {\n        System.out.println(\"DISP: \" + str + \" \" + count);\n    }\n\n    public static void main(String[] args) {\n        CurryBiConsumer&lt;String, Integer&gt; bc = Main::display;\n\n        execute(bc.curryFirst(\"Salomon\").curry(42));\n    }\n}\n</code></pre>\n\n<p>Eclipse gives me no error but when I run it, I get this runtime error :</p>\n\n<pre><code>Exception in thread \"main\" java.lang.BootstrapMethodError: call site initialization exception\n    at java.lang.invoke.CallSite.makeSite(CallSite.java:328)\n    at java.lang.invoke.MethodHandleNatives.linkCallSite(MethodHandleNatives.java:296)\n    at com.test8.Main.main(Main.java:34)\nCaused by: java.lang.ClassFormatError: Duplicate method name&amp;signature in class file com/test8/Main$$Lambda$1\n    at sun.misc.Unsafe.defineAnonymousClass(Native Method)\n    at java.lang.invoke.InnerClassLambdaMetafactory.spinInnerClass(InnerClassLambdaMetafactory.java:324)\n    at java.lang.invoke.InnerClassLambdaMetafactory.buildCallSite(InnerClassLambdaMetafactory.java:194)\n    at java.lang.invoke.LambdaMetafactory.altMetafactory(LambdaMetafactory.java:473)\n    at java.lang.invoke.CallSite.makeSite(CallSite.java:301)\n    ... 2 more\n</code></pre>\n\n<p>Can someone explain What is this error, why it is happening and how to get around it ?</p>\n\n<p>Thanks :)</p>\n"},{"tags":["java","eclipse","eclipse-plugin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700671880,"post_id":77531419,"comment_id":136684168,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1700672562,"post_id":77531419,"comment_id":136684311,"body_markdown":"You have to use `IProxyService` to get the Eclipse proxy info (example [here](https://stackoverflow.com/q/3160435/2670892)) - are you doing that?","body":"You have to use <code>IProxyService</code> to get the Eclipse proxy info (example <a href=\"https://stackoverflow.com/q/3160435/2670892\">here</a>) - are you doing that?"},{"owner":{"account_id":28503619,"reputation":11,"user_id":21814549,"display_name":"pikachugb"},"score":0,"creation_date":1700722523,"post_id":77531419,"comment_id":136689764,"body_markdown":"@greg-449 I saw that I can take those settings with IProxyServer, but firstly I tried to set them manually on the HttpClient, just for testing purposes and it just doesn&#39;t work","body":"@greg-449 I saw that I can take those settings with IProxyServer, but firstly I tried to set them manually on the HttpClient, just for testing purposes and it just doesn&#39;t work"}],"owner":{"account_id":28503619,"reputation":11,"user_id":21814549,"display_name":"pikachugb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700668620,"creation_date":1700668620,"question_id":77531419,"body_markdown":"I am developing an eclipse plugin and recently I found a bug which is getting painful since I&#39;m not finding a proper solution - my eclipse plugin is made so that it has to get some information from an site from external web. The problem is that when using proxy (with username and password - and ONLY when authentication is required), my plugin is not taking into consideration the user and the pass for the proxy and I get 407 Authentication Required as a response to each HttpRequest executed (for e.g. a corporate proxy that has to be added in order to get to the external web)  \r\nIf for example I&#39;m trying to use a proxy without user and password, everything is working fine.\r\n\r\nMy question is - does anyone encounter this before? Do I have to somehow pass the host, port, user, pass to the HttpClient from the IDE? If not, why does it work without authentication and not working with it?\r\n\r\nAny ideas would be very helpful!  \r\nThanks alot! :)\r\n\r\nI tested to see if the connection is getting through the proxy and it is (of course without the user and pass). I noticed the calls in the logs of the proxy server.\r\n\r\nSome additional info would be that the connectivity to that specific website is made through a service layer that is imported as a maven dependency in the project (also written by me). The funny part is that I use the exact same service layer for the Eclipse plugin, but also for an Intellij plugin and in the Intellij one, everything is working properly and I don&#39;t get the 407 Authentication Required. (the calls are made exactly the same because they both use the same service layer).","title":"Eclipse plugin not using proxy (407 authentication required)","body":"<p>I am developing an eclipse plugin and recently I found a bug which is getting painful since I'm not finding a proper solution - my eclipse plugin is made so that it has to get some information from an site from external web. The problem is that when using proxy (with username and password - and ONLY when authentication is required), my plugin is not taking into consideration the user and the pass for the proxy and I get 407 Authentication Required as a response to each HttpRequest executed (for e.g. a corporate proxy that has to be added in order to get to the external web)<br />\nIf for example I'm trying to use a proxy without user and password, everything is working fine.</p>\n<p>My question is - does anyone encounter this before? Do I have to somehow pass the host, port, user, pass to the HttpClient from the IDE? If not, why does it work without authentication and not working with it?</p>\n<p>Any ideas would be very helpful!<br />\nThanks alot! :)</p>\n<p>I tested to see if the connection is getting through the proxy and it is (of course without the user and pass). I noticed the calls in the logs of the proxy server.</p>\n<p>Some additional info would be that the connectivity to that specific website is made through a service layer that is imported as a maven dependency in the project (also written by me). The funny part is that I use the exact same service layer for the Eclipse plugin, but also for an Intellij plugin and in the Intellij one, everything is working properly and I don't get the 407 Authentication Required. (the calls are made exactly the same because they both use the same service layer).</p>\n"},{"tags":["java","multithreading","locking","cpu","synchronized"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1700654800,"post_id":77529612,"comment_id":136680713,"body_markdown":"CPUs switch between threads **all the time**. However, if a thread is waiting for a lock, it will be waiting, and will not be scheduled by the OS thread scheduler.","body":"CPUs switch between threads <b>all the time</b>. However, if a thread is waiting for a lock, it will be waiting, and will not be scheduled by the OS thread scheduler."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700655777,"post_id":77529612,"comment_id":136680863,"body_markdown":"you can start by checking the Java Language Specification [8.4.3.6. synchronized Methods](https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4.3.6)","body":"you can start by checking the Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4.3.6\" rel=\"nofollow noreferrer\">8.4.3.6. synchronized Methods</a>"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1700658352,"post_id":77529612,"comment_id":136681272,"body_markdown":"The CPU switches execution only between threads that are in RUNNABLE status. A thread waiting on a lock is in WAITING status. Whatever happens, a thread doesn&#39;t just abandon its task. It continues from the same point afterwards, unless it&#39;s terminated.","body":"The CPU switches execution only between threads that are in RUNNABLE status. A thread waiting on a lock is in WAITING status. Whatever happens, a thread doesn&#39;t just abandon its task. It continues from the same point afterwards, unless it&#39;s terminated."},{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1700659215,"post_id":77529612,"comment_id":136681460,"body_markdown":"@RealSkeptic Thanks for reply! But what&#39;s happen when thread1 finishes the execution of the synchronized method? The thread2 will change the status from WAITING to RUNNABLE at the exact time when thread1 unlock the lock? Or just thread1 unlock the lock and thread2 becomes RUNNABLE, but thread1 could continue doing something else until CPU switches the execution to thread2?","body":"@RealSkeptic Thanks for reply! But what&#39;s happen when thread1 finishes the execution of the synchronized method? The thread2 will change the status from WAITING to RUNNABLE at the exact time when thread1 unlock the lock? Or just thread1 unlock the lock and thread2 becomes RUNNABLE, but thread1 could continue doing something else until CPU switches the execution to thread2?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1700659327,"post_id":77529612,"comment_id":136681495,"body_markdown":"Unlocking the lock *causes* the waiting thread to become RUNNABLE. You write as though you think it’s just a coincidence.","body":"Unlocking the lock <i>causes</i> the waiting thread to become RUNNABLE. You write as though you think it’s just a coincidence."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701858079,"post_id":77529612,"comment_id":136826132,"body_markdown":"Yes, when thread1 unlocks the lock, the thread2 becomes RUNNABLE, but thread1 will usually continue doing something else until CPU switches the execution to thread2. It’s even possible that thread1 enters a `synchronized` block for the same object again and thread2 doesn’t get the CPU in-between.","body":"Yes, when thread1 unlocks the lock, the thread2 becomes RUNNABLE, but thread1 will usually continue doing something else until CPU switches the execution to thread2. It’s even possible that thread1 enters a <code>synchronized</code> block for the same object again and thread2 doesn’t get the CPU in-between."}],"answers":[{"comments":[{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1701630510,"post_id":77531263,"comment_id":136796952,"body_markdown":"Thank you for explanation! So this scheduler is a part of OS and it has some native threads and it decides which threads to run. Are these native threads? And also there are other threads created by JVM and JVM will map these Java threads with the OS threads. Is that correct?","body":"Thank you for explanation! So this scheduler is a part of OS and it has some native threads and it decides which threads to run. Are these native threads? And also there are other threads created by JVM and JVM will map these Java threads with the OS threads. Is that correct?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701857932,"post_id":77531263,"comment_id":136826104,"body_markdown":"In common implementations like the HotSpot&#160;JVM, the JVM implements `synchronized` itself, including the wait queue management. Only when removing a native thread from scheduling or readding it, a system call will be made. @elvis So called “platform threads” are mapped 1:1 to native threads. “Virtual threads”, introduced with Java&#160;21, will be mapped n:m to platform threads.","body":"In common implementations like the HotSpot JVM, the JVM implements <code>synchronized</code> itself, including the wait queue management. Only when removing a native thread from scheduling or readding it, a system call will be made. @elvis So called “platform threads” are mapped 1:1 to native threads. “Virtual threads”, introduced with Java 21, will be mapped n:m to platform threads."},{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1702035172,"post_id":77531263,"comment_id":136851127,"body_markdown":"@Holger can you tell me if the platform threads are created and managed by JVM and native threads are created and managed by the thread scheduler of the OS? Thanks!","body":"@Holger can you tell me if the platform threads are created and managed by JVM and native threads are created and managed by the thread scheduler of the OS? Thanks!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1702040864,"post_id":77531263,"comment_id":136851991,"body_markdown":"@elvis A thread scheduler does not create threads, it distributes the available CPU time to the threads. A platform thread is a `Thread` instance that maps 1:1 to a native thread and may even be seen as a synonym, depending on the context. So, e.g. `new Thread(…).start()` creates a platform thread and a native thread if you want to view them as different things.","body":"@elvis A thread scheduler does not create threads, it distributes the available CPU time to the threads. A platform thread is a <code>Thread</code> instance that maps 1:1 to a native thread and may even be seen as a synonym, depending on the context. So, e.g. <code>new Thread(…).start()</code> creates a platform thread and a native thread if you want to view them as different things."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1702042096,"post_id":77531263,"comment_id":136852174,"body_markdown":"@elvis, A threading _library_  can create threads, and a scheduler can be part of that library. But, the scheduler is not the part that is responsible for making new threads. Holger said the scheduler &quot;distributes the available CPU.&quot; The _OS_ scheduler does that by choosing which native thread will be the next to run on any given CPU whenever there is an opportunity to switch. Likewise, the JVM&#39;s virtual thread scheduler decides which virtual thread will be the next to run on a given native thread. (Or,... platform thread? I don&#39;t have such a keen awareness of the difference.)","body":"@elvis, A threading <i>library</i>  can create threads, and a scheduler can be part of that library. But, the scheduler is not the part that is responsible for making new threads. Holger said the scheduler &quot;distributes the available CPU.&quot; The <i>OS</i> scheduler does that by choosing which native thread will be the next to run on any given CPU whenever there is an opportunity to switch. Likewise, the JVM&#39;s virtual thread scheduler decides which virtual thread will be the next to run on a given native thread. (Or,... platform thread? I don&#39;t have such a keen awareness of the difference.)"}],"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1700667238,"creation_date":1700667238,"answer_id":77531263,"question_id":77529612,"body_markdown":"You&#39;re missing part of the picture. It&#39;s what people call, &quot;[the scheduler](https://en.wikipedia.org/wiki/Scheduling_(computing)).&quot; It&#39;s the component of the operating system that is responsible to decide which threads to run and when and for how long.\r\n\r\n&gt; How CPU switches the execution from one thread to another to access a lock resource in Java?\r\n\r\nIt doesn&#39;t. That&#39;s not the CPU&#39;s job. The CPU just executes simple instructions, one after the other, until it gets [_interrupted_](https://en.wikipedia.org/wiki/Interrupt) by some external hardware event. Then it switches, not to another thread, but to an [_interrupt handler_ routine](https://en.wikipedia.org/wiki/Interrupt_handler) in the operating system.\r\n\r\nOne of the external interrupt sources is a _(heartbeat) timer_ that interrupts on a regular schedule—somewhere between tens of times per second to thousands of times, depending on the OS. Each time the heart beats/timer ticks, the interrupt handler calls the scheduler, and the scheduler decides which program thread should be the next to run upon return from the interrupt.\r\n\r\nThe scheduler has a collection of so-called &quot;[queues](https://en.wikipedia.org/wiki/Queue_(abstract_data_type)),&quot; which may or may not be actual [_FIFO queues_](https://en.wikipedia.org/wiki/FIFO_(computing_and_electronics)), and every live thread in the system belongs to exactly one queue. The most important queue is the [_run queue_](https://en.wikipedia.org/wiki/Run_queue), which contains all of the threads that are, &quot;ready-to-run.&quot; If some thread is in the run queue, then that means the only reason it is not actually running is, it&#39;s waiting for the scheduler to put it on a CPU.\r\n\r\nBefore the OS returns from the timer interrupt, the scheduler picks a thread from the run queue to be the one that will run next. The queue is never empty because even when no application thread is ready-to-run, the system&#39;s [_idle thread_](https://en.wikipedia.org/wiki/System_Idle_Process) always is ready.\r\n\r\n&gt; only one thread will execute this method at a time because it&#39;s synchronized. The other thread is blocked and cannot execute the method until the first thread will finish the execution.\r\n\r\nYour program&#39;s threads must make a [system call](https://en.wikipedia.org/wiki/System_call) to lock the object before they can enter the synchronized block, and if your thread B tries it when the object already is locked, the OS will move it to a &quot;wait queue&quot; that is associated with to that object. The thread no longer will be runnable. If the heartbeat subsequently ticks while your thread A actually is running, then the scheduler won&#39;t even try to restart thread B because thread B is not in the run queue. If thread A is the _only_ runnable thread (no other running programs) then the heartbeat interrupt will return to thread A.\r\n\r\nWhen thread A unlocks the object, that&#39;s another system call. And, when any object is unlocked, the scheduler will move at least one thread (maybe all of the threads, it depends on the scheduler&#39;s [_policy_](https://en.wikipedia.org/wiki/Scheduling_(computing)#Scheduling_disciplines)) from the corresponding wait queue to the run queue. Your thread B now is eligible to run again though, whether the system call returns immediately to thread B or back to thread A again depends (once more) on the scheduler policy.","title":"How CPU switches the execution from one thread to another to access a lock resource in Java?","body":"<p>You're missing part of the picture. It's what people call, &quot;<a href=\"https://en.wikipedia.org/wiki/Scheduling_(computing)\" rel=\"nofollow noreferrer\">the scheduler</a>.&quot; It's the component of the operating system that is responsible to decide which threads to run and when and for how long.</p>\n<blockquote>\n<p>How CPU switches the execution from one thread to another to access a lock resource in Java?</p>\n</blockquote>\n<p>It doesn't. That's not the CPU's job. The CPU just executes simple instructions, one after the other, until it gets <a href=\"https://en.wikipedia.org/wiki/Interrupt\" rel=\"nofollow noreferrer\"><em>interrupted</em></a> by some external hardware event. Then it switches, not to another thread, but to an <a href=\"https://en.wikipedia.org/wiki/Interrupt_handler\" rel=\"nofollow noreferrer\"><em>interrupt handler</em> routine</a> in the operating system.</p>\n<p>One of the external interrupt sources is a <em>(heartbeat) timer</em> that interrupts on a regular schedule—somewhere between tens of times per second to thousands of times, depending on the OS. Each time the heart beats/timer ticks, the interrupt handler calls the scheduler, and the scheduler decides which program thread should be the next to run upon return from the interrupt.</p>\n<p>The scheduler has a collection of so-called &quot;<a href=\"https://en.wikipedia.org/wiki/Queue_(abstract_data_type)\" rel=\"nofollow noreferrer\">queues</a>,&quot; which may or may not be actual <a href=\"https://en.wikipedia.org/wiki/FIFO_(computing_and_electronics)\" rel=\"nofollow noreferrer\"><em>FIFO queues</em></a>, and every live thread in the system belongs to exactly one queue. The most important queue is the <a href=\"https://en.wikipedia.org/wiki/Run_queue\" rel=\"nofollow noreferrer\"><em>run queue</em></a>, which contains all of the threads that are, &quot;ready-to-run.&quot; If some thread is in the run queue, then that means the only reason it is not actually running is, it's waiting for the scheduler to put it on a CPU.</p>\n<p>Before the OS returns from the timer interrupt, the scheduler picks a thread from the run queue to be the one that will run next. The queue is never empty because even when no application thread is ready-to-run, the system's <a href=\"https://en.wikipedia.org/wiki/System_Idle_Process\" rel=\"nofollow noreferrer\"><em>idle thread</em></a> always is ready.</p>\n<blockquote>\n<p>only one thread will execute this method at a time because it's synchronized. The other thread is blocked and cannot execute the method until the first thread will finish the execution.</p>\n</blockquote>\n<p>Your program's threads must make a <a href=\"https://en.wikipedia.org/wiki/System_call\" rel=\"nofollow noreferrer\">system call</a> to lock the object before they can enter the synchronized block, and if your thread B tries it when the object already is locked, the OS will move it to a &quot;wait queue&quot; that is associated with to that object. The thread no longer will be runnable. If the heartbeat subsequently ticks while your thread A actually is running, then the scheduler won't even try to restart thread B because thread B is not in the run queue. If thread A is the <em>only</em> runnable thread (no other running programs) then the heartbeat interrupt will return to thread A.</p>\n<p>When thread A unlocks the object, that's another system call. And, when any object is unlocked, the scheduler will move at least one thread (maybe all of the threads, it depends on the scheduler's <a href=\"https://en.wikipedia.org/wiki/Scheduling_(computing)#Scheduling_disciplines\" rel=\"nofollow noreferrer\"><em>policy</em></a>) from the corresponding wait queue to the run queue. Your thread B now is eligible to run again though, whether the system call returns immediately to thread B or back to thread A again depends (once more) on the scheduler policy.</p>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77531263,"answer_count":1,"score":0,"last_activity_date":1700667238,"creation_date":1700653074,"question_id":77529612,"body_markdown":"I&#39;m learning about multi-threading in Java and I have a short question. \r\nI have a synchronized block or method and 2 (or more) threads. And I have only one CPU with only one core, so the 2 threads will work sequentially when CPU decides to switch from one thread to another.\r\n\r\n    public synchronized void doSomething() {\r\n        // do something\r\n    }\r\n\r\n\r\nSo, only one thread will execute this method at a time because it&#39;s synchronized. The other thread is blocked and cannot execute the method until the first thread will finish the execution. \r\n\r\nI think there are 2 situations, the CPU could switch the execution from thread1 to thread2 before thread1 finished the execution of doSomething(). If the CPU will do that, it means that thread1 will stop it&#39;s execution of the doSomething() and will let it unfinished, the thread2 will see that doSomething() is locked because thread1 executes it. After that I think CPU will switch back to thread1 and continue executing doSomething(). And until CPU will switch back to thread2 maybe thread1 will start executing doSomething() another time.\r\n\r\nAnd the second situation when thread1 executes doSomething() and thread2 is blocked the entire period when thread1 executes the method. And after thread1 finishes execution of doSomething() the CPU will switch to thread2 and that thread will start execution of doSOmething() because at that moment the method is not locked.\r\n\r\nCan someone explain me what is the correct situation?\r\n","title":"How CPU switches the execution from one thread to another to access a lock resource in Java?","body":"<p>I'm learning about multi-threading in Java and I have a short question.\nI have a synchronized block or method and 2 (or more) threads. And I have only one CPU with only one core, so the 2 threads will work sequentially when CPU decides to switch from one thread to another.</p>\n<pre><code>public synchronized void doSomething() {\n    // do something\n}\n</code></pre>\n<p>So, only one thread will execute this method at a time because it's synchronized. The other thread is blocked and cannot execute the method until the first thread will finish the execution.</p>\n<p>I think there are 2 situations, the CPU could switch the execution from thread1 to thread2 before thread1 finished the execution of doSomething(). If the CPU will do that, it means that thread1 will stop it's execution of the doSomething() and will let it unfinished, the thread2 will see that doSomething() is locked because thread1 executes it. After that I think CPU will switch back to thread1 and continue executing doSomething(). And until CPU will switch back to thread2 maybe thread1 will start executing doSomething() another time.</p>\n<p>And the second situation when thread1 executes doSomething() and thread2 is blocked the entire period when thread1 executes the method. And after thread1 finishes execution of doSomething() the CPU will switch to thread2 and that thread will start execution of doSOmething() because at that moment the method is not locked.</p>\n<p>Can someone explain me what is the correct situation?</p>\n"},{"tags":["java","swing","jbutton","jtextfield","documentlistener"],"comments":[{"owner":{"account_id":2325393,"reputation":9581,"user_id":2040040,"accept_rate":93,"display_name":"johnchen902"},"score":4,"creation_date":1371379925,"post_id":17132452,"comment_id":24793461,"body_markdown":"BTW, I&#39;ll use `loginbt.setEnabled(name.getText().length()!=0);`","body":"BTW, I&#39;ll use <code>loginbt.setEnabled(name.getText().length()!=0);</code>"},{"owner":{"account_id":22392451,"reputation":119,"user_id":16613644,"display_name":"Gantendo"},"score":0,"creation_date":1700907138,"post_id":17132452,"comment_id":136711452,"body_markdown":"@johnchen902 `loginbt.setEnabled(name.getText().isEmpty());`","body":"@johnchen902 <code>loginbt.setEnabled(name.getText().isEmpty());</code>"}],"answers":[{"comments":[{"owner":{"account_id":1715095,"reputation":1324,"user_id":1572356,"accept_rate":94,"display_name":"boxed__l"},"score":0,"creation_date":1389652050,"post_id":17132498,"comment_id":31747467,"body_markdown":"I wanted to ask whether the procedure changes if the button were to depend on more than 1 text field. Would I use the same logic to define the action or is there some other way with less code? Thanks for your time!!","body":"I wanted to ask whether the procedure changes if the button were to depend on more than 1 text field. Would I use the same logic to define the action or is there some other way with less code? Thanks for your time!!"},{"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"score":0,"creation_date":1389676528,"post_id":17132498,"comment_id":31754185,"body_markdown":"Then you create one `DocumentListener` implementation which handles that button and add them as listeners to all the textboxes?","body":"Then you create one <code>DocumentListener</code> implementation which handles that button and add them as listeners to all the textboxes?"},{"owner":{"account_id":1715095,"reputation":1324,"user_id":1572356,"accept_rate":94,"display_name":"boxed__l"},"score":0,"creation_date":1389701513,"post_id":17132498,"comment_id":31765609,"body_markdown":"yes..thanks..forgot basic stuff: [how to write document listener](http://docs.oracle.com/javase/tutorial/uiswing/events/documentlistener.html)","body":"yes..thanks..forgot basic stuff: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/events/documentlistener.html\" rel=\"nofollow noreferrer\">how to write document listener</a>"}],"tags":[],"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"comment_count":3,"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1371380498,"creation_date":1371379675,"answer_id":17132498,"question_id":17132452,"body_markdown":"For that you need to add change listener (a `DocumentListener` which reacts for change in the text) for your `JTextField`, and within `actionPerformed()`, you need to update the `loginButton` to enabled/disabled depending on the whether the `JTextfield` is empty or not. \r\n\r\nBelow is what I found from this [thread][1].\r\n\r\n\r\n    yourJTextField.getDocument().addDocumentListener(new DocumentListener() {\r\n      public void changedUpdate(DocumentEvent e) {\r\n        changed();\r\n      }\r\n      public void removeUpdate(DocumentEvent e) {\r\n        changed();\r\n      }\r\n      public void insertUpdate(DocumentEvent e) {\r\n        changed();\r\n      }\r\n    \r\n      public void changed() {\r\n         if (yourJTextField.getText().equals(&quot;&quot;)){\r\n           loginButton.setEnabled(false);\r\n         }\r\n         else {\r\n           loginButton.setEnabled(true);\r\n        }\r\n    \r\n      }\r\n    });\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3953208/value-change-listener-to-jtextfield","title":"Java - Check if JTextField is empty or not","body":"<p>For that you need to add change listener (a <code>DocumentListener</code> which reacts for change in the text) for your <code>JTextField</code>, and within <code>actionPerformed()</code>, you need to update the <code>loginButton</code> to enabled/disabled depending on the whether the <code>JTextfield</code> is empty or not. </p>\n\n<p>Below is what I found from this <a href=\"https://stackoverflow.com/questions/3953208/value-change-listener-to-jtextfield\">thread</a>.</p>\n\n<pre><code>yourJTextField.getDocument().addDocumentListener(new DocumentListener() {\n  public void changedUpdate(DocumentEvent e) {\n    changed();\n  }\n  public void removeUpdate(DocumentEvent e) {\n    changed();\n  }\n  public void insertUpdate(DocumentEvent e) {\n    changed();\n  }\n\n  public void changed() {\n     if (yourJTextField.getText().equals(\"\")){\n       loginButton.setEnabled(false);\n     }\n     else {\n       loginButton.setEnabled(true);\n    }\n\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1308022,"reputation":9735,"user_id":1256583,"display_name":"darijan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476552615,"creation_date":1371379693,"answer_id":17132502,"question_id":17132452,"body_markdown":"Well, the code that renders the button enabled/disabled: \r\n\r\n    if(name.getText().equals(&quot;&quot;)) {\r\n        loginbt.setEnabled(false);\r\n    }else {\r\n        loginbt.setEnabled(true);\r\n    }\r\n\r\nmust be written in `javax.swing.event.ChangeListener` and attached to the field (see [here][1]). A change in field&#39;s value should trigger the listener to reevaluate the object state. What did you expect?\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/javax/swing/AbstractButton.java#AbstractButton.addChangeListener%28javax.swing.event.ChangeListener%29","title":"Java - Check if JTextField is empty or not","body":"<p>Well, the code that renders the button enabled/disabled: </p>\n\n<pre><code>if(name.getText().equals(\"\")) {\n    loginbt.setEnabled(false);\n}else {\n    loginbt.setEnabled(true);\n}\n</code></pre>\n\n<p>must be written in <code>javax.swing.event.ChangeListener</code> and attached to the field (see <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/javax/swing/AbstractButton.java#AbstractButton.addChangeListener%28javax.swing.event.ChangeListener%29\" rel=\"nofollow\">here</a>). A change in field's value should trigger the listener to reevaluate the object state. What did you expect?</p>\n"},{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1371379728,"creation_date":1371379728,"answer_id":17132509,"question_id":17132452,"body_markdown":"What you need is something called Document Listener. See [How to Write a Document Listener][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/events/documentlistener.html","title":"Java - Check if JTextField is empty or not","body":"<p>What you need is something called Document Listener. See <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/events/documentlistener.html\" rel=\"nofollow\">How to Write a Document Listener</a>.</p>\n"},{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1371400771,"post_id":17132583,"comment_id":24798146,"body_markdown":"-1 A DocumentListener is the preferred approach. There is rarely a reason to use a KeyListener. That is old design when using AWT. Also the code would not work anyway because no text has been added to the Document when the keyPressed event is generated, so the length will still be 0 when the first event is fired.","body":"-1 A DocumentListener is the preferred approach. There is rarely a reason to use a KeyListener. That is old design when using AWT. Also the code would not work anyway because no text has been added to the Document when the keyPressed event is generated, so the length will still be 0 when the first event is fired."},{"owner":{"account_id":2817477,"reputation":1,"user_id":2464082,"display_name":"Nikos"},"score":1,"creation_date":1371412052,"post_id":17132583,"comment_id":24801073,"body_markdown":"Thanks for the correction,i will see the DocumentListener in the future","body":"Thanks for the correction,i will see the DocumentListener in the future"}],"tags":[],"owner":{"account_id":2817477,"reputation":1,"user_id":2464082,"display_name":"Nikos"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1371380325,"creation_date":1371380325,"answer_id":17132583,"question_id":17132452,"body_markdown":"Try with keyListener in your textfield\r\n\r\n    \r\n    jTextField.addKeyListener(new KeyListener() {\r\n\r\n            @Override\r\n            public void keyTyped(KeyEvent e) {\r\n            }\r\n\r\n            @Override\r\n            public void keyPressed(KeyEvent e) {\r\n                if (text.getText().length() &gt;= 1) {\r\n                    button.setEnabled(true);\r\n                } else {\r\n                    button.setEnabled(false);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void keyReleased(KeyEvent e) {\r\n            }\r\n\r\n        });","title":"Java - Check if JTextField is empty or not","body":"<p>Try with keyListener in your textfield</p>\n\n<pre><code>jTextField.addKeyListener(new KeyListener() {\n\n        @Override\n        public void keyTyped(KeyEvent e) {\n        }\n\n        @Override\n        public void keyPressed(KeyEvent e) {\n            if (text.getText().length() &gt;= 1) {\n                button.setEnabled(true);\n            } else {\n                button.setEnabled(false);\n            }\n        }\n\n        @Override\n        public void keyReleased(KeyEvent e) {\n        }\n\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2596073,"reputation":1302,"user_id":2249738,"display_name":"Aneeq Anwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371380749,"creation_date":1371380749,"answer_id":17132645,"question_id":17132452,"body_markdown":"Try this\r\n\r\n    if(name.getText() != null &amp;&amp; name.getText().equals(&quot;&quot;))\r\n    {\r\n            loginbt.setEnabled(false);\r\n    }\r\n    else\r\n    {\r\n            loginbt.setEnabled(true);\r\n    }","title":"Java - Check if JTextField is empty or not","body":"<p>Try this</p>\n\n<pre><code>if(name.getText() != null &amp;&amp; name.getText().equals(\"\"))\n{\n        loginbt.setEnabled(false);\n}\nelse\n{\n        loginbt.setEnabled(true);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1264721,"reputation":1210,"user_id":1222271,"accept_rate":33,"display_name":"Boris Karloff"},"score":0,"creation_date":1609791741,"post_id":22119878,"comment_id":115928223,"body_markdown":"Nice. I like this.","body":"Nice. I like this."}],"tags":[],"owner":{"account_id":4104827,"reputation":71,"user_id":3369245,"display_name":"user3369245"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1393706727,"creation_date":1393705383,"answer_id":22119878,"question_id":17132452,"body_markdown":"To Check JTextFiled is empty or not condition:\r\n\r\n    if( (billnotf.getText().length()==0)||(billtabtf.getText().length()==0))","title":"Java - Check if JTextField is empty or not","body":"<p>To Check JTextFiled is empty or not condition:</p>\n\n<pre><code>if( (billnotf.getText().length()==0)||(billtabtf.getText().length()==0))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3792147,"reputation":29,"user_id":3148337,"display_name":"user3148337"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415589059,"creation_date":1415589059,"answer_id":26836134,"question_id":17132452,"body_markdown":"use the following code :\r\n\r\n\r\n    if(name.getText().equals(&quot;&quot;))\r\n    {\r\n    loginbt.disable();\r\n    }\r\n\r\n","title":"Java - Check if JTextField is empty or not","body":"<p>use the following code :</p>\n\n<pre><code>if(name.getText().equals(\"\"))\n{\nloginbt.disable();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5344270,"reputation":470,"user_id":4260254,"display_name":"xulo"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1654112154,"creation_date":1422779087,"answer_id":28260842,"question_id":17132452,"body_markdown":"The following will return true if the JTextField `name` does not contain text:\r\n\r\n`name.getText().isEmpty();`","title":"Java - Check if JTextField is empty or not","body":"<p>The following will return true if the JTextField <code>name</code> does not contain text:</p>\n<p><code>name.getText().isEmpty();</code></p>\n"},{"comments":[{"owner":{"account_id":2393141,"reputation":13869,"user_id":2092587,"display_name":"Trinimon"},"score":0,"creation_date":1428609973,"post_id":29547517,"comment_id":47247414,"body_markdown":"Cold you please explain why you think that this is a solution?","body":"Cold you please explain why you think that this is a solution?"}],"tags":[],"owner":{"account_id":6115845,"reputation":363,"user_id":4770922,"display_name":"Sijo Jose"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428610988,"creation_date":1428608549,"answer_id":29547517,"question_id":17132452,"body_markdown":"    if(name.getText().hashCode() != 0){\r\n        JOptionPane.showMessageDialog(null, &quot;not empty&quot;);\r\n    }\r\n    else{\r\n        JOptionPane.showMessageDialog(null, &quot;empty&quot;);\r\n    }","title":"Java - Check if JTextField is empty or not","body":"<pre><code>if(name.getText().hashCode() != 0){\n    JOptionPane.showMessageDialog(null, \"not empty\");\n}\nelse{\n    JOptionPane.showMessageDialog(null, \"empty\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"score":0,"creation_date":1697806049,"post_id":58614074,"comment_id":136329437,"body_markdown":"Note that isBlank() works since Java 11.","body":"Note that isBlank() works since Java 11."}],"tags":[],"owner":{"account_id":9718007,"reputation":2031,"user_id":7207673,"display_name":"Juan-Kabbali"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572376817,"creation_date":1572376817,"answer_id":58614074,"question_id":17132452,"body_markdown":"you can use ```isEmpty()``` or ```isBlank()``` methods regarding what you need.\r\n\r\n---\r\nReturns true if, and only if, length() is 0.\r\n```\r\nthis.name.getText().isEmpty();\r\n```\r\n----\r\nReturns true if the string is empty or contains only white space codepoints, otherwise false\r\n```\r\nthis.name.getText().isBlank();\r\n```","title":"Java - Check if JTextField is empty or not","body":"<p>you can use <code>isEmpty()</code> or <code>isBlank()</code> methods regarding what you need.</p>\n\n<hr>\n\n<p>Returns true if, and only if, length() is 0.</p>\n\n<pre><code>this.name.getText().isEmpty();\n</code></pre>\n\n<hr>\n\n<p>Returns true if the string is empty or contains only white space codepoints, otherwise false</p>\n\n<pre><code>this.name.getText().isBlank();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7465632,"reputation":14579,"user_id":5675325,"accept_rate":85,"display_name":"Tiago Martins Peres"},"score":0,"creation_date":1576932234,"post_id":59436111,"comment_id":105056961,"body_markdown":"Hi @HarinduLakshan, please consider adding more information to improve the quality of the answer.","body":"Hi @HarinduLakshan, please consider adding more information to improve the quality of the answer."},{"owner":{"account_id":1312133,"reputation":3175,"user_id":1259924,"accept_rate":73,"display_name":"Greg Brown"},"score":0,"creation_date":1669557891,"post_id":59436111,"comment_id":131663475,"body_markdown":"This answer has multiple issues. It doesn&#39;t clearly address the question, the variable names don&#39;t adhere to Java conventions, and it uses hashCode() rather than isEmpty() to check for missing values. It also contains unnecessary comments.","body":"This answer has multiple issues. It doesn&#39;t clearly address the question, the variable names don&#39;t adhere to Java conventions, and it uses hashCode() rather than isEmpty() to check for missing values. It also contains unnecessary comments."}],"tags":[],"owner":{"account_id":15327350,"reputation":25,"user_id":11058108,"display_name":"Harindu Lakshan"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1576932475,"creation_date":1576930635,"answer_id":59436111,"question_id":17132452,"body_markdown":"```java\r\nprivate void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n    // Submit Button        \r\n    \r\n    String Fname = jTextField1.getText();\r\n    String Lname = jTextField2.getText();\r\n    String Desig = jTextField3.getText();\r\n    String Nic = jTextField4.getText();\r\n    String Phone = jTextField5.getText();\r\n    String Add = jTextArea1.getText();\r\n    String Dob = jTextField6.getText();\r\n    // String Gender;\r\n    // Image\r\n        \r\n    if (Fname.hashCode() == 0 || Lname.hashCode() == 0 || Desig.hashCode() == 0 || Nic.hashCode() == 0 || Phone.hashCode() == 0 || Add.hashCode() == 0)\r\n    {\r\n        JOptionPane.showMessageDialog(null, &quot;Some fields are empty!&quot;);\r\n    }\r\n    else\r\n    {\r\n        JOptionPane.showMessageDialog(null, &quot;OK&quot;);\r\n    }\r\n}\r\n```","title":"Java - Check if JTextField is empty or not","body":"<pre class=\"lang-java prettyprint-override\"><code>private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    // Submit Button        \n\n    String Fname = jTextField1.getText();\n    String Lname = jTextField2.getText();\n    String Desig = jTextField3.getText();\n    String Nic = jTextField4.getText();\n    String Phone = jTextField5.getText();\n    String Add = jTextArea1.getText();\n    String Dob = jTextField6.getText();\n    // String Gender;\n    // Image\n\n    if (Fname.hashCode() == 0 || Lname.hashCode() == 0 || Desig.hashCode() == 0 || Nic.hashCode() == 0 || Phone.hashCode() == 0 || Add.hashCode() == 0)\n    {\n        JOptionPane.showMessageDialog(null, \"Some fields are empty!\");\n    }\n    else\n    {\n        JOptionPane.showMessageDialog(null, \"OK\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23030907,"reputation":1,"user_id":17150404,"display_name":"elgijo421"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653901000,"creation_date":1653901000,"answer_id":72431672,"question_id":17132452,"body_markdown":"Try this one and change booleans statements around.   \r\n    \r\n    String text = name.getText(); \r\n    if(!text.isEmpty()) {\r\n        loginbt.setEnabled(true);\r\n    }else {\r\n        loginbt.setEnabled(false);\r\n    }\r\n\r\nIn my action method it worked fine.\r\n\r\n    public void actionPerformed(ActionEvent e){\r\n        String inputText = e.getActionCommand();\r\n        String itext = text1.getText();\r\n        if(inputText.equals(&quot;Submit&quot;) &amp;&amp; !itext.isEmpty()){\r\n            label1.setText(text1.getText());\r\n            text1.setText(&quot;&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Java - Check if JTextField is empty or not","body":"<p>Try this one and change booleans statements around.</p>\n<pre><code>String text = name.getText(); \nif(!text.isEmpty()) {\n    loginbt.setEnabled(true);\n}else {\n    loginbt.setEnabled(false);\n}\n</code></pre>\n<p>In my action method it worked fine.</p>\n<pre><code>public void actionPerformed(ActionEvent e){\n    String inputText = e.getActionCommand();\n    String itext = text1.getText();\n    if(inputText.equals(&quot;Submit&quot;) &amp;&amp; !itext.isEmpty()){\n        label1.setText(text1.getText());\n        text1.setText(&quot;&quot;);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":1,"creation_date":1700671617,"post_id":77531241,"comment_id":136684101,"body_markdown":"Your answer doesn&#39;t add much to the existing ones. `String.valueOf` is not needed here since `getText` already returns a `String` object.","body":"Your answer doesn&#39;t add much to the existing ones. <code>String.valueOf</code> is not needed here since <code>getText</code> already returns a <code>String</code> object."}],"tags":[],"owner":{"account_id":29967740,"reputation":1,"user_id":22965904,"display_name":"Xaice"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700667048,"creation_date":1700667048,"answer_id":77531241,"question_id":17132452,"body_markdown":"You can use \r\n\r\n\r\n\r\n\r\n`loginbt = new JButton(&quot;Login&quot;);\r\n    loginbt.addActionListener(new loginHandler());\r\n    add(loginbt);\r\n\r\n    if(String.valueOf(name.getText()).isEmpty() {\r\n        loginbt.setEnabled(false);\r\n    }else {\r\n        loginbt.setEnabled(true);\r\n    }\r\n`\r\n","title":"Java - Check if JTextField is empty or not","body":"<p>You can use</p>\n<p>`loginbt = new JButton(&quot;Login&quot;);\nloginbt.addActionListener(new loginHandler());\nadd(loginbt);</p>\n<pre><code>if(String.valueOf(name.getText()).isEmpty() {\n    loginbt.setEnabled(false);\n}else {\n    loginbt.setEnabled(true);\n}\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":2874317,"reputation":572,"user_id":2466858,"accept_rate":58,"display_name":"ColdStormy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250182,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":17132498,"answer_count":13,"score":34,"last_activity_date":1700667048,"creation_date":1371379409,"question_id":17132452,"body_markdown":"So I got know this is a popular question and already found the solution. But when I try this it doesn&#39;t work properly.\r\n\r\nMy JTextField is empty and the button isn&#39;t enabled. When I write something in my textfield the button doesn&#39;t get enabled. \r\n\r\nSo my program should check this field every second whether it&#39;s empty or not. As soon as someone writes something into the textfield the button should be enabled.^^\r\n\r\n    loginbt = new JButton(&quot;Login&quot;);\r\n        loginbt.addActionListener(new loginHandler());\r\n        add(loginbt);\r\n        \r\n        if(name.getText().equals(&quot;&quot;)) {\r\n        \tloginbt.setEnabled(false);\r\n        }else {\r\n        \tloginbt.setEnabled(true);\r\n        }","title":"Java - Check if JTextField is empty or not","body":"<p>So I got know this is a popular question and already found the solution. But when I try this it doesn't work properly.</p>\n\n<p>My JTextField is empty and the button isn't enabled. When I write something in my textfield the button doesn't get enabled. </p>\n\n<p>So my program should check this field every second whether it's empty or not. As soon as someone writes something into the textfield the button should be enabled.^^</p>\n\n<pre><code>loginbt = new JButton(\"Login\");\n    loginbt.addActionListener(new loginHandler());\n    add(loginbt);\n\n    if(name.getText().equals(\"\")) {\n        loginbt.setEnabled(false);\n    }else {\n        loginbt.setEnabled(true);\n    }\n</code></pre>\n"},{"tags":["java","eclipse","performance","java-8"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":6,"creation_date":1651005266,"post_id":72020186,"comment_id":127257835,"body_markdown":"In general, Java is downwards-compatible, i.e. everything should run on a newer version. In reality, though, some parts of programs rely on implementation details, .... The easiest way would most probably be to try it out.","body":"In general, Java is downwards-compatible, i.e. everything should run on a newer version. In reality, though, some parts of programs rely on implementation details, .... The easiest way would most probably be to try it out."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1651006726,"post_id":72020186,"comment_id":127258270,"body_markdown":"Java is backward compatible, however if you use reflection your code may not be due to the introduction of sealed packages.","body":"Java is backward compatible, however if you use reflection your code may not be due to the introduction of sealed packages."},{"owner":{"account_id":7262620,"reputation":301,"user_id":5538685,"display_name":"ZaneK"},"score":0,"creation_date":1651012415,"post_id":72020186,"comment_id":127259615,"body_markdown":"@Bohemian is there any way to find those packages in question? How do we know what to look for?","body":"@Bohemian is there any way to find those packages in question? How do we know what to look for?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":5,"creation_date":1651015392,"post_id":72020186,"comment_id":127260181,"body_markdown":"The only way to be sure is to try it and see.  The problem is not finding the packages.  The problem is determining whether the application you are trying to run uses them in particular (bad!) ways that no longer work.  And it isn&#39;t just the application.  You also need to consider the application&#39;s dependencies.","body":"The only way to be sure is to try it and see.  The problem is not finding the packages.  The problem is determining whether the application you are trying to run uses them in particular (bad!) ways that no longer work.  And it isn&#39;t just the application.  You also need to consider the application&#39;s dependencies."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700667020,"creation_date":1651014320,"answer_id":72021492,"question_id":72020186,"body_markdown":"Java 8 is still available, as the first Long-Term Support (LTS) version. The current release is Update 331. I would suggest starting with the latest update of Java 8. \r\n\r\nBe aware that Java 8 is not receiving regular updates for the public except for critical security patches. You may want to consider paying for a support contract from any number of vendors such as Azul Systems or Oracle to get support including possible additional updates releases through the rest of this decade. \r\n\r\nGenerally Java apps will run on later versions of Java without any modifications needed. The Java team at Oracle and the [OpenJDK][1] community place a very high priority on preserving that compatibility. \r\n\r\nHowever, there are exceptions to the compatibility policy. In particular: Java 9 introduced the [Java Platform Module System][2] which caused some problems in some apps. And in later versions of Java some libraries that were previously bundled are now removed. Some of those removed libraries were transferred to the [Jakarta EE][3] project at the Eclipse Foundation. Some were abandoned for lack of interest such as [CORBA][4].\r\n\r\nSome few parts of Java that were for years marked as “deprecated for eventual removal” have now been removed. \r\n\r\nIf you consider moving beyond Java 8, I suggest your first step be sitting down to read through the Release Notes for every release of Java. They are quite well-written. They should alert you to any issues that may affect your app. \r\n\r\nFYI, Java 21 is the latest LTS version. Java 21 is current, as of 2023-11. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [2]: https://en.wikipedia.org/wiki/Java_Platform_Module_System\r\n  [3]: https://en.wikipedia.org/wiki/Jakarta_EE\r\n  [4]: https://en.wikipedia.org/wiki/Common_Object_Request_Broker_Architecture","title":"Can I run a java program built using Java 8 (.192) using JRE 17, or does everything (JRE, JVM, JDK) have to be on the correct Java 8 version first?","body":"<p>Java 8 is still available, as the first Long-Term Support (LTS) version. The current release is Update 331. I would suggest starting with the latest update of Java 8.</p>\n<p>Be aware that Java 8 is not receiving regular updates for the public except for critical security patches. You may want to consider paying for a support contract from any number of vendors such as Azul Systems or Oracle to get support including possible additional updates releases through the rest of this decade.</p>\n<p>Generally Java apps will run on later versions of Java without any modifications needed. The Java team at Oracle and the <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> community place a very high priority on preserving that compatibility.</p>\n<p>However, there are exceptions to the compatibility policy. In particular: Java 9 introduced the <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">Java Platform Module System</a> which caused some problems in some apps. And in later versions of Java some libraries that were previously bundled are now removed. Some of those removed libraries were transferred to the <a href=\"https://en.wikipedia.org/wiki/Jakarta_EE\" rel=\"nofollow noreferrer\">Jakarta EE</a> project at the Eclipse Foundation. Some were abandoned for lack of interest such as <a href=\"https://en.wikipedia.org/wiki/Common_Object_Request_Broker_Architecture\" rel=\"nofollow noreferrer\">CORBA</a>.</p>\n<p>Some few parts of Java that were for years marked as “deprecated for eventual removal” have now been removed.</p>\n<p>If you consider moving beyond Java 8, I suggest your first step be sitting down to read through the Release Notes for every release of Java. They are quite well-written. They should alert you to any issues that may affect your app.</p>\n<p>FYI, Java 21 is the latest LTS version. Java 21 is current, as of 2023-11.</p>\n"},{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1651016989,"post_id":72021681,"comment_id":127260428,"body_markdown":"There are 4 things that &quot;break&quot; backwards compatibility : a) Deep reflection - use of `setAccessible()` to invoke internal methods. May or may not work with some command line arguments. b) Use of internal packages - may work when adding some command line parameters. c) Use of things that have been removed/renamed. Includes internal packages that don&#39;t exist anymore. That is the hardest work work around. d) Assuming specific implementations, such as `ClassLoader.getSystemClassLoader()` to be a subclass of `URLClassLoader`.","body":"There are 4 things that &quot;break&quot; backwards compatibility : a) Deep reflection - use of <code>setAccessible()</code> to invoke internal methods. May or may not work with some command line arguments. b) Use of internal packages - may work when adding some command line parameters. c) Use of things that have been removed/renamed. Includes internal packages that don&#39;t exist anymore. That is the hardest work work around. d) Assuming specific implementations, such as <code>ClassLoader.getSystemClassLoader()</code> to be a subclass of <code>URLClassLoader</code>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1651017460,"post_id":72021681,"comment_id":127260501,"body_markdown":"And possibly other things too.  But they only way to know for sure is to try it.  And that is the main &quot;take away&quot; for the OP.  Try it!","body":"And possibly other things too.  But they only way to know for sure is to try it.  And that is the main &quot;take away&quot; for the OP.  Try it!"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1651017582,"post_id":72021681,"comment_id":127260520,"body_markdown":"Right, forgot about setting `static final` fields for example. By the way, [that never worked anyway](https://gist.github.com/DasBrain/ca16053f8e073c8a883bee66302c2fee).","body":"Right, forgot about setting <code>static final</code> fields for example. By the way, <a href=\"https://gist.github.com/DasBrain/ca16053f8e073c8a883bee66302c2fee\" rel=\"nofollow noreferrer\">that never worked anyway</a>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1651017827,"post_id":72021681,"comment_id":127260560,"body_markdown":"I&#39;m thinking of functionality that got disabled or removed at various points; e.g. applets, JWS, some of the XML libraries ... support for insecure versions of SSL / TLS.  Basil&#39;s answer lists some more.","body":"I&#39;m thinking of functionality that got disabled or removed at various points; e.g. applets, JWS, some of the XML libraries ... support for insecure versions of SSL / TLS.  Basil&#39;s answer lists some more."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651016587,"creation_date":1651016232,"answer_id":72021681,"question_id":72020186,"body_markdown":"&gt; I have a program for work that I&#39;m told will only use Java version 8 update 192 to run correctly. \r\n\r\nI would doubt the accuracy of that statement.  I would say that *someone* is making a statement without evidence ... if that is what they actually said.\r\n\r\nMaybe a more accurate statement is that the program is only *known to run* on that particular version ...\r\n\r\nAnyway, it will probably run on a later version of Java 8, or Java 11.  Java 17 is less certain because of the issue of package sealing / blocking of access to internal packages that occurred in Java 16.  (Some of the sealing / blocking started in Java 9 ... but there are easy workarounds ...)\r\n\r\nQ: Do you need a JRE?\r\n\r\nA: No.  A JDK will work just as well.  (A JDK distro *includes* a JRE.)  But unless there are strong counter-indications, you need the latest version of Java 8, 11 or 17.  Java 8 u192 is years out of date.\r\n\r\nThe only way to be sure that the application will work on a particular version of Java is to try it.  In general, there are no shortcuts.","title":"Can I run a java program built using Java 8 (.192) using JRE 17, or does everything (JRE, JVM, JDK) have to be on the correct Java 8 version first?","body":"<blockquote>\n<p>I have a program for work that I'm told will only use Java version 8 update 192 to run correctly.</p>\n</blockquote>\n<p>I would doubt the accuracy of that statement.  I would say that <em>someone</em> is making a statement without evidence ... if that is what they actually said.</p>\n<p>Maybe a more accurate statement is that the program is only <em>known to run</em> on that particular version ...</p>\n<p>Anyway, it will probably run on a later version of Java 8, or Java 11.  Java 17 is less certain because of the issue of package sealing / blocking of access to internal packages that occurred in Java 16.  (Some of the sealing / blocking started in Java 9 ... but there are easy workarounds ...)</p>\n<p>Q: Do you need a JRE?</p>\n<p>A: No.  A JDK will work just as well.  (A JDK distro <em>includes</em> a JRE.)  But unless there are strong counter-indications, you need the latest version of Java 8, 11 or 17.  Java 8 u192 is years out of date.</p>\n<p>The only way to be sure that the application will work on a particular version of Java is to try it.  In general, there are no shortcuts.</p>\n"},{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651017075,"creation_date":1651017075,"answer_id":72021772,"question_id":72020186,"body_markdown":"As in the other answers, an application built for Java 8 will *probably* work fine in Java 17, with some caveats, but if you absolutely need the final product to run under Java 8, go get a real Java 8 runtime and set it up in your IDE. Building a Java application for any specific Java version is best done by having an actual copy of that runtime present, preferably a JDK. By having an exact version of its standard library to compile against, you can avoid accidentally referring to packages, classes, and methods added to, or removed from, later versions. You can get an OpenJDK build of Java 8 from https://adoptium.net/?variant=openjdk8 . Be sure to ask your co-worker why they&#39;re mentioning an outdated patch version.\r\n\r\nAdditionally, keep in mind that Eclipse is itself a large Java application. Running it requires Java, and a growing number of downloads include a Java runtime for that simple reason, even the ones that do not include Java development tools. You don&#39;t have to compile your code against that version of Java, though--you probably don&#39;t even want to since JDK downloads will include JavaDoc for the standard library, among other useful extras.","title":"Can I run a java program built using Java 8 (.192) using JRE 17, or does everything (JRE, JVM, JDK) have to be on the correct Java 8 version first?","body":"<p>As in the other answers, an application built for Java 8 will <em>probably</em> work fine in Java 17, with some caveats, but if you absolutely need the final product to run under Java 8, go get a real Java 8 runtime and set it up in your IDE. Building a Java application for any specific Java version is best done by having an actual copy of that runtime present, preferably a JDK. By having an exact version of its standard library to compile against, you can avoid accidentally referring to packages, classes, and methods added to, or removed from, later versions. You can get an OpenJDK build of Java 8 from <a href=\"https://adoptium.net/?variant=openjdk8\" rel=\"nofollow noreferrer\">https://adoptium.net/?variant=openjdk8</a> . Be sure to ask your co-worker why they're mentioning an outdated patch version.</p>\n<p>Additionally, keep in mind that Eclipse is itself a large Java application. Running it requires Java, and a growing number of downloads include a Java runtime for that simple reason, even the ones that do not include Java development tools. You don't have to compile your code against that version of Java, though--you probably don't even want to since JDK downloads will include JavaDoc for the standard library, among other useful extras.</p>\n"}],"owner":{"account_id":7262620,"reputation":301,"user_id":5538685,"display_name":"ZaneK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11123,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1700667020,"creation_date":1651005074,"question_id":72020186,"body_markdown":"I have a program for work that I&#39;m told will only use Java version 8 update 192 to run correctly. When I downloaded eclipse, it&#39;s suggesting that I use JRE 17.0.2 but I recalled my coworker saying I need Java 8 update 192 otherwise it won&#39;t work. Does the JRE version matter? Is it irrelevant?\r\n\r\nPerhaps I need to download JRE 8.192? I&#39;m not sure. Any help would be appreciated.","title":"Can I run a java program built using Java 8 (.192) using JRE 17, or does everything (JRE, JVM, JDK) have to be on the correct Java 8 version first?","body":"<p>I have a program for work that I'm told will only use Java version 8 update 192 to run correctly. When I downloaded eclipse, it's suggesting that I use JRE 17.0.2 but I recalled my coworker saying I need Java 8 update 192 otherwise it won't work. Does the JRE version matter? Is it irrelevant?</p>\n<p>Perhaps I need to download JRE 8.192? I'm not sure. Any help would be appreciated.</p>\n"},{"tags":["java","micronaut"],"answers":[{"tags":[],"owner":{"account_id":5674062,"reputation":66,"user_id":4487887,"display_name":"Dyjah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700666856,"creation_date":1700666856,"answer_id":77531216,"question_id":76409447,"body_markdown":"According to Micronaut documentation https://docs.micronaut.io/latest/guide/#propertySource], at `Property Value Binding`:\r\n\r\n&gt; Note that these property references should be in kebab case (lowercase and \r\n&gt; hyphen-separated) when placing references in code or in placeholder\r\n&gt; values. For example, use micronaut.server.default-charset and not\r\n&gt; micronaut.server.defaultCharset.\r\n&gt; \r\n&gt; The Micronaut framework still allows specifying the latter in\r\n&gt; configuration, but normalizes the properties into kebab case form to\r\n&gt; optimize memory consumption and reduce complexity when resolving properties. \r\n\r\nMicronaut is picky about configuration properties and there&#39;s not much you can do about it.\r\n\r\nThe preferred way is to use kebab case in your Micronaut configuration file.","title":"Micronaut @EachProperty converts camel case variable names to kebab case from configuration file","body":"<p>According to Micronaut documentation <a href=\"https://docs.micronaut.io/latest/guide/#propertySource%5D\" rel=\"nofollow noreferrer\">https://docs.micronaut.io/latest/guide/#propertySource]</a>, at <code>Property Value Binding</code>:</p>\n<blockquote>\n<p>Note that these property references should be in kebab case (lowercase and\nhyphen-separated) when placing references in code or in placeholder\nvalues. For example, use micronaut.server.default-charset and not\nmicronaut.server.defaultCharset.</p>\n<p>The Micronaut framework still allows specifying the latter in\nconfiguration, but normalizes the properties into kebab case form to\noptimize memory consumption and reduce complexity when resolving properties.</p>\n</blockquote>\n<p>Micronaut is picky about configuration properties and there's not much you can do about it.</p>\n<p>The preferred way is to use kebab case in your Micronaut configuration file.</p>\n"}],"owner":{"account_id":21169945,"reputation":55,"user_id":15566482,"display_name":"Ikbal Rasimov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700666856,"creation_date":1685993077,"question_id":76409447,"body_markdown":"I&#39;m facing an issue with Micronaut&#39;s @EachProperty annotation. It seems that when using @EachProperty to map configuration properties, the variable names in the annotated class are being converted to kebab case, even if they are originally in camel case in the configuration file.\r\n\r\nThis behavior is causing inconsistencies and making it difficult to maintain a consistent naming convention between the configuration file and the annotated class. Ideally, I would expect the variable names to be preserved in their original format as they appear in the configuration file.\r\n\r\nHas anyone else encountered this issue with Micronaut&#39;s @EachProperty? Is there a known solution or workaround to preserve the raw format of variable names from the configuration file?","title":"Micronaut @EachProperty converts camel case variable names to kebab case from configuration file","body":"<p>I'm facing an issue with Micronaut's @EachProperty annotation. It seems that when using @EachProperty to map configuration properties, the variable names in the annotated class are being converted to kebab case, even if they are originally in camel case in the configuration file.</p>\n<p>This behavior is causing inconsistencies and making it difficult to maintain a consistent naming convention between the configuration file and the annotated class. Ideally, I would expect the variable names to be preserved in their original format as they appear in the configuration file.</p>\n<p>Has anyone else encountered this issue with Micronaut's @EachProperty? Is there a known solution or workaround to preserve the raw format of variable names from the configuration file?</p>\n"},{"tags":["java","opencv","video-capture","opencv3.0"],"comments":[{"owner":{"account_id":6698505,"reputation":723,"user_id":5165833,"display_name":"arxakoulini"},"score":0,"creation_date":1523008673,"post_id":49683729,"comment_id":86391854,"body_markdown":"maybe because of JavaFX? have you tried to save the image? still the same?","body":"maybe because of JavaFX? have you tried to save the image? still the same?"},{"owner":{"account_id":13304915,"reputation":11,"user_id":9605088,"display_name":"Xanslayer"},"score":0,"creation_date":1523009782,"post_id":49683729,"comment_id":86392583,"body_markdown":"When I save the image on my pc it comes out fine it&#39;s only on the jpanel that it&#39;s gets cut off","body":"When I save the image on my pc it comes out fine it&#39;s only on the jpanel that it&#39;s gets cut off"},{"owner":{"account_id":6698505,"reputation":723,"user_id":5165833,"display_name":"arxakoulini"},"score":0,"creation_date":1523011002,"post_id":49683729,"comment_id":86393365,"body_markdown":"This means it&#39;s because of you GUI/JavaFX code. Try to resize both the image and the pane/container to the same size","body":"This means it&#39;s because of you GUI/JavaFX code. Try to resize both the image and the pane/container to the same size"},{"owner":{"account_id":13304915,"reputation":11,"user_id":9605088,"display_name":"Xanslayer"},"score":0,"creation_date":1523013458,"post_id":49683729,"comment_id":86394881,"body_markdown":"i tried setting them both to the same size in the drawimage but it still cuts out for some strange reason","body":"i tried setting them both to the same size in the drawimage but it still cuts out for some strange reason"}],"answers":[{"tags":[],"owner":{"account_id":16791642,"reputation":1,"user_id":12139138,"display_name":"Croy265"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700666116,"creation_date":1700666041,"answer_id":77531130,"question_id":49683729,"body_markdown":"I realize this question was asked five years ago, but I noticed it hasn&#39;t been addressed, and I believe this may still be helpful to anyone coming across this issue. \r\n\r\nI&#39;ve made a small modification to your **jButton1ActionPerformed** method to achieve what you want. In the jButton1ActionPerformed method, I set these dimensions using the **set** method on the VideoCapture object.\r\n\r\n\r\n    public class GestureRecognition extends javax.swing.JFrame {\r\n\t\r\n\t  private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {\r\n                                         \r\n    \t\twebSource =new VideoCapture(0);\r\n\t\t    webSource.set(Videoio.CAP_PROP_FRAME_WIDTH, CANVAS_INITIAL_WIDTH);\r\n       \t\twebSource.set(Videoio.CAP_PROP_FRAME_HEIGHT, CANVAS_INITIAL_HEIGHT);\r\n    \t\tmyThread = new DaemonThread();\r\n            Thread t = new Thread(myThread);\r\n            t.setDaemon(true);\r\n            myThread.runnable = true;\r\n            t.start();\r\n            jButton1.setEnabled(false);  //start button\r\n           \tjButton2.setEnabled(true);  // stop button\r\n    \t}\r\n\r\n        // Rest of the code\r\n    }\r\n\r\n\r\n    \r\n\r\n\r\n","title":"Java OpenCV Video capture cut off","body":"<p>I realize this question was asked five years ago, but I noticed it hasn't been addressed, and I believe this may still be helpful to anyone coming across this issue.</p>\n<p>I've made a small modification to your <strong>jButton1ActionPerformed</strong> method to achieve what you want. In the jButton1ActionPerformed method, I set these dimensions using the <strong>set</strong> method on the VideoCapture object.</p>\n<pre><code>public class GestureRecognition extends javax.swing.JFrame {\n\n  private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {\n                                     \n        webSource =new VideoCapture(0);\n        webSource.set(Videoio.CAP_PROP_FRAME_WIDTH, CANVAS_INITIAL_WIDTH);\n        webSource.set(Videoio.CAP_PROP_FRAME_HEIGHT, CANVAS_INITIAL_HEIGHT);\n        myThread = new DaemonThread();\n        Thread t = new Thread(myThread);\n        t.setDaemon(true);\n        myThread.runnable = true;\n        t.start();\n        jButton1.setEnabled(false);  //start button\n        jButton2.setEnabled(true);  // stop button\n    }\n\n    // Rest of the code\n}\n</code></pre>\n"}],"owner":{"account_id":13304915,"reputation":11,"user_id":9605088,"display_name":"Xanslayer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700666116,"creation_date":1522976614,"question_id":49683729,"body_markdown":"i am Brand new to OpenCV in java been trying to create an image capture program which both records the user and allows images to be moved to the captured image area on the GUI, my only issue is the recording seems to be cut off even when I specified a region for where it should be displayed, any help will be highly appricated.\r\n\r\n\r\n\r\n\r\n\r\n    package gesture.recognition;\r\n    import com.sun.xml.internal.ws.api.Component;\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.awt.Image;\r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.*;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.border.EtchedBorder;\r\n    import javax.swing.border.TitledBorder;\r\n    import javax.swing.*;\r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.MatOfByte;\r\n    import org.opencv.core.Size;\r\n    import org.opencv.imgcodecs.Imgcodecs;\r\n    import org.opencv.imgproc.Imgproc;\r\n    import org.opencv.videoio.VideoCapture;\r\n    import static org.opencv.videoio.Videoio.CV_CAP_PROP_FRAME_HEIGHT;\r\n    import static org.opencv.videoio.Videoio.CV_CAP_PROP_FRAME_WIDTH;\r\n    \r\n    public class GestureRecognition extends javax.swing.JFrame {\r\n        private DaemonThread myThread = null;\r\n        int count = 0;\r\n        VideoCapture webSource = null;\r\n        Mat vid = new Mat();\r\n        MatOfByte mem = new MatOfByte();\r\n        int CANVAS_INITIAL_WIDTH =400;\r\n        int CANVAS_INITIAL_HEIGHT =500;\r\n        int Video_display=400;\r\n        int Button_Area=200;\r\n        float h,s,v;\r\n        int alpha,r,g,b;\r\n        BufferedImage img = null;\r\n        File f = null;\r\n        Mat hsv = new Mat();\r\n    \r\n        class Canvas extends JPanel\r\n        {\r\n            // Called every time there is a change in the canvas contents.\r\n            public void paintComponent(Graphics g)\r\n            {\r\n                super.paintComponent(g);        \r\n                draw(g);\r\n        \r\n        \r\n            }\r\n        } \r\n    \r\n        class DaemonThread implements Runnable\r\n        {\r\n        protected volatile boolean runnable = false;\r\n    \r\n        @Override\r\n        public  void run()\r\n        {\r\n            synchronized(this)\r\n            {\r\n                while(runnable)\r\n                {\r\n                    if(webSource.grab())\r\n                    {\r\n    \t\t    \ttry\r\n                            {\r\n                                webSource.retrieve(vid);\r\n                                Imgcodecs.imencode(&quot;.jpg&quot;, vid, mem);\r\n    \t\t\t    Image im = ImageIO.read(new ByteArrayInputStream(mem.toArray()));\r\n    \r\n    \t\t\t    BufferedImage buff = (BufferedImage) im;\r\n    \t\t\t    Graphics g=freehandSliderPanel.getGraphics();\r\n                                if (g.drawImage(im, 0, 0, null));\r\n    //\t\t\t    if (g.drawImage(buff,0, 0, getWidth(), getHeight() -150 , 0 , 0, buff.getWidth(), buff.getHeight(),null))\r\n\r\n      \r\n    \t\t\t    \r\n    \t\t\t    if(runnable == false)\r\n                                {\r\n    \t\t\t    \tSystem.out.println(&quot;Going to wait()&quot;);\r\n    \t\t\t    \tthis.wait();\r\n    \t\t\t    }\r\n    \t\t\t }\r\n    \t\t\t catch(IOException | InterruptedException ex)\r\n                             {\r\n    \t\t\t    System.out.println(&quot;Error&quot;);\r\n                             }\r\n                    }\r\n                }\r\n            }\r\n         }\r\n       }\r\n            \r\n            private Canvas canvas;\r\n            private JPanel controlPanel;\r\n            private JPanel messageArea;\r\n            private JButton jButton1;\r\n            private JPanel freehandSliderPanel;\r\n            \r\n            public GestureRecognition() \r\n        {\r\n            setTitle(&quot;Gesture Recognition&quot;);\r\n            setLayout(new BorderLayout());  // Layout manager for the frame.\r\n            \r\n            // Canvas\r\n            canvas = new Canvas();\r\n            canvas.setBorder(new TitledBorder(new EtchedBorder(), &quot;Video&quot;));\r\n            canvas.setPreferredSize(new Dimension(CANVAS_INITIAL_WIDTH, CANVAS_INITIAL_HEIGHT));\r\n            add(canvas, BorderLayout.WEST);\r\n            \r\n            controlPanel = new JPanel();\r\n              controlPanel.setBorder(new TitledBorder(new EtchedBorder(), &quot;Picture&quot;));\r\n              controlPanel.setPreferredSize(new Dimension(Video_display, CANVAS_INITIAL_HEIGHT));\r\n              // the following two lines put the control panel in a scroll pane (nicer?).      \r\n              JScrollPane controlPanelScrollPane = new JScrollPane(controlPanel);\r\n              controlPanelScrollPane.setPreferredSize(new Dimension(Video_display + 30, CANVAS_INITIAL_HEIGHT));\r\n            add(controlPanelScrollPane, BorderLayout.EAST);\r\n            \r\n            messageArea = new JPanel();\r\n            messageArea.setBackground(canvas.getBackground());\r\n            messageArea.setBorder(new TitledBorder(new EtchedBorder(), &quot;Message Area&quot;));\r\n            messageArea.setPreferredSize(new Dimension(Video_display + CANVAS_INITIAL_WIDTH, Button_Area));\r\n            add(messageArea, BorderLayout.SOUTH);\r\n            \r\n            jButton1 = new JButton(&quot;Start Video&quot;);\r\n              jButton1.setPreferredSize(new Dimension(Button_Area - 10, 50));\r\n            messageArea.add(jButton1);\r\n            \r\n            \r\n            \r\n            freehandSliderPanel = new JPanel();\r\n              freehandSliderPanel.setPreferredSize(new Dimension(CANVAS_INITIAL_WIDTH - 20, 90));\r\n              canvas.setLayout(new GridLayout(0, 1));\r\n              freehandSliderPanel.setBorder(new TitledBorder(new EtchedBorder(), &quot;Display&quot;));\r\n            canvas.add(freehandSliderPanel,BorderLayout.CENTER);\r\n            \r\n            \r\n            \r\n            \r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            \r\n            pack();\r\n            setLocationRelativeTo(null);\r\n            setVisible(true);\r\n            \r\n            jButton1.setText(&quot;Video Capture&quot;);\r\n            jButton1.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    jButton1ActionPerformed(evt);\r\n                }\r\n            });\r\n        }\r\n            \r\n            \r\n            void draw(Graphics g)\r\n        {\r\n          \r\n        }// end draw method \r\n            \r\n            \r\n            \r\n       private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        webSource =new VideoCapture(0);\r\n        myThread = new DaemonThread();\r\n                Thread t = new Thread(myThread);\r\n                t.setDaemon(true);\r\n                myThread.runnable = true;\r\n                t.start();\r\n    \t\t\t jButton1.setEnabled(false);  //start button\r\n    //            jButton2.setEnabled(true);  // stop button\r\n        }\r\n       public static void main(String args[]) {\r\n            System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n            GestureRecognition GestureRecognitionInstance = new GestureRecognition();\r\n            \r\n            /*Create and display the form */\r\n    /*        java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n    \r\n                }\r\n            });\r\n    */    }\r\n        \r\n    }\r\n\r\nSo far it displays the GUI but as you can see it simply cuts off the image like so\r\n\r\n[Example image][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T7TkU.png\r\n","title":"Java OpenCV Video capture cut off","body":"<p>i am Brand new to OpenCV in java been trying to create an image capture program which both records the user and allows images to be moved to the captured image area on the GUI, my only issue is the recording seems to be cut off even when I specified a region for where it should be displayed, any help will be highly appricated.</p>\n\n<pre><code>package gesture.recognition;\nimport com.sun.xml.internal.ws.api.Component;\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.awt.*;\nimport java.io.ByteArrayInputStream;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.border.EtchedBorder;\nimport javax.swing.border.TitledBorder;\nimport javax.swing.*;\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.MatOfByte;\nimport org.opencv.core.Size;\nimport org.opencv.imgcodecs.Imgcodecs;\nimport org.opencv.imgproc.Imgproc;\nimport org.opencv.videoio.VideoCapture;\nimport static org.opencv.videoio.Videoio.CV_CAP_PROP_FRAME_HEIGHT;\nimport static org.opencv.videoio.Videoio.CV_CAP_PROP_FRAME_WIDTH;\n\npublic class GestureRecognition extends javax.swing.JFrame {\n    private DaemonThread myThread = null;\n    int count = 0;\n    VideoCapture webSource = null;\n    Mat vid = new Mat();\n    MatOfByte mem = new MatOfByte();\n    int CANVAS_INITIAL_WIDTH =400;\n    int CANVAS_INITIAL_HEIGHT =500;\n    int Video_display=400;\n    int Button_Area=200;\n    float h,s,v;\n    int alpha,r,g,b;\n    BufferedImage img = null;\n    File f = null;\n    Mat hsv = new Mat();\n\n    class Canvas extends JPanel\n    {\n        // Called every time there is a change in the canvas contents.\n        public void paintComponent(Graphics g)\n        {\n            super.paintComponent(g);        \n            draw(g);\n\n\n        }\n    } \n\n    class DaemonThread implements Runnable\n    {\n    protected volatile boolean runnable = false;\n\n    @Override\n    public  void run()\n    {\n        synchronized(this)\n        {\n            while(runnable)\n            {\n                if(webSource.grab())\n                {\n                try\n                        {\n                            webSource.retrieve(vid);\n                            Imgcodecs.imencode(\".jpg\", vid, mem);\n                Image im = ImageIO.read(new ByteArrayInputStream(mem.toArray()));\n\n                BufferedImage buff = (BufferedImage) im;\n                Graphics g=freehandSliderPanel.getGraphics();\n                            if (g.drawImage(im, 0, 0, null));\n//              if (g.drawImage(buff,0, 0, getWidth(), getHeight() -150 , 0 , 0, buff.getWidth(), buff.getHeight(),null))\n\n\n\n                if(runnable == false)\n                            {\n                    System.out.println(\"Going to wait()\");\n                    this.wait();\n                }\n             }\n             catch(IOException | InterruptedException ex)\n                         {\n                System.out.println(\"Error\");\n                         }\n                }\n            }\n        }\n     }\n   }\n\n        private Canvas canvas;\n        private JPanel controlPanel;\n        private JPanel messageArea;\n        private JButton jButton1;\n        private JPanel freehandSliderPanel;\n\n        public GestureRecognition() \n    {\n        setTitle(\"Gesture Recognition\");\n        setLayout(new BorderLayout());  // Layout manager for the frame.\n\n        // Canvas\n        canvas = new Canvas();\n        canvas.setBorder(new TitledBorder(new EtchedBorder(), \"Video\"));\n        canvas.setPreferredSize(new Dimension(CANVAS_INITIAL_WIDTH, CANVAS_INITIAL_HEIGHT));\n        add(canvas, BorderLayout.WEST);\n\n        controlPanel = new JPanel();\n          controlPanel.setBorder(new TitledBorder(new EtchedBorder(), \"Picture\"));\n          controlPanel.setPreferredSize(new Dimension(Video_display, CANVAS_INITIAL_HEIGHT));\n          // the following two lines put the control panel in a scroll pane (nicer?).      \n          JScrollPane controlPanelScrollPane = new JScrollPane(controlPanel);\n          controlPanelScrollPane.setPreferredSize(new Dimension(Video_display + 30, CANVAS_INITIAL_HEIGHT));\n        add(controlPanelScrollPane, BorderLayout.EAST);\n\n        messageArea = new JPanel();\n        messageArea.setBackground(canvas.getBackground());\n        messageArea.setBorder(new TitledBorder(new EtchedBorder(), \"Message Area\"));\n        messageArea.setPreferredSize(new Dimension(Video_display + CANVAS_INITIAL_WIDTH, Button_Area));\n        add(messageArea, BorderLayout.SOUTH);\n\n        jButton1 = new JButton(\"Start Video\");\n          jButton1.setPreferredSize(new Dimension(Button_Area - 10, 50));\n        messageArea.add(jButton1);\n\n\n\n        freehandSliderPanel = new JPanel();\n          freehandSliderPanel.setPreferredSize(new Dimension(CANVAS_INITIAL_WIDTH - 20, 90));\n          canvas.setLayout(new GridLayout(0, 1));\n          freehandSliderPanel.setBorder(new TitledBorder(new EtchedBorder(), \"Display\"));\n        canvas.add(freehandSliderPanel,BorderLayout.CENTER);\n\n\n\n\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        pack();\n        setLocationRelativeTo(null);\n        setVisible(true);\n\n        jButton1.setText(\"Video Capture\");\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton1ActionPerformed(evt);\n            }\n        });\n    }\n\n\n        void draw(Graphics g)\n    {\n\n    }// end draw method \n\n\n\n   private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    webSource =new VideoCapture(0);\n    myThread = new DaemonThread();\n            Thread t = new Thread(myThread);\n            t.setDaemon(true);\n            myThread.runnable = true;\n            t.start();\n             jButton1.setEnabled(false);  //start button\n//            jButton2.setEnabled(true);  // stop button\n    }\n   public static void main(String args[]) {\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n        GestureRecognition GestureRecognitionInstance = new GestureRecognition();\n\n        /*Create and display the form */\n/*        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n\n            }\n        });\n*/    }\n\n}\n</code></pre>\n\n<p>So far it displays the GUI but as you can see it simply cuts off the image like so</p>\n\n<p><a href=\"https://i.stack.imgur.com/T7TkU.png\" rel=\"nofollow noreferrer\">Example image</a> </p>\n"},{"tags":["java","https","basic-authentication","http-status-code-403","rest-assured"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1700730261,"post_id":77531069,"comment_id":136691032,"body_markdown":"Check in runtime (either with `println` or with debug mode) that you retrieve the values you expect from `getenv`","body":"Check in runtime (either with <code>println</code> or with debug mode) that you retrieve the values you expect from <code>getenv</code>"}],"owner":{"account_id":17447487,"reputation":29,"user_id":12648202,"display_name":"Poo M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700665591,"creation_date":1700665591,"question_id":77531069,"body_markdown":"I&#39;m getting 403 forbidden error when trying to send https Post request that requires basic auth. The request is running fine on Postman but not using Rest Assured. Below is the code. I&#39;m passing username and password as part of environment variables in edit configuration in IntelliJ so as to hide the data. Please can someone suggest what could be the reason for failure? Thanks.\r\n```\r\n             given()\r\n\t\t\t    .auth()\r\n\t\t\t\t.basic(System.getenv(&quot;USERNAME&quot;), System.getenv(&quot;PASSWORD&quot;))*/\r\n\t\t\t\t.spec( requestSpecification )\r\n\t\t\t\t.accept( &quot;application/json&quot; )\r\n\t\t\t\t.when()\r\n\t\t\t\t.body( request )\r\n\t\t\t\t.post( uri );\r\n```","title":"Getting 403 Forbidden for HTTPS Post request that requires Basic Auth in Rest Assured","body":"<p>I'm getting 403 forbidden error when trying to send https Post request that requires basic auth. The request is running fine on Postman but not using Rest Assured. Below is the code. I'm passing username and password as part of environment variables in edit configuration in IntelliJ so as to hide the data. Please can someone suggest what could be the reason for failure? Thanks.</p>\n<pre><code>             given()\n                .auth()\n                .basic(System.getenv(&quot;USERNAME&quot;), System.getenv(&quot;PASSWORD&quot;))*/\n                .spec( requestSpecification )\n                .accept( &quot;application/json&quot; )\n                .when()\n                .body( request )\n                .post( uri );\n</code></pre>\n"},{"tags":["java","maven","karate"],"comments":[{"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"score":0,"creation_date":1700662647,"post_id":77530666,"comment_id":136682162,"body_markdown":"Did you maybe set anything in your settings.xml?","body":"Did you maybe set anything in your settings.xml?"},{"owner":{"account_id":6840238,"reputation":1540,"user_id":5260883,"accept_rate":48,"display_name":"Parashuram"},"score":0,"creation_date":1700662904,"post_id":77530666,"comment_id":136682211,"body_markdown":"I haven&#39;t touched anything else. Is there a way to reset it?","body":"I haven&#39;t touched anything else. Is there a way to reset it?"},{"owner":{"account_id":6840238,"reputation":1540,"user_id":5260883,"accept_rate":48,"display_name":"Parashuram"},"score":0,"creation_date":1700663262,"post_id":77530666,"comment_id":136682276,"body_markdown":"There is one observation that while create a project, when I select Catalog as &quot;Maven Central&quot; then no archetypes are getting autoloaded. And the machine on which it works, this list is getting populated. Now I am not sure why that list not populating on my machine.","body":"There is one observation that while create a project, when I select Catalog as &quot;Maven Central&quot; then no archetypes are getting autoloaded. And the machine on which it works, this list is getting populated. Now I am not sure why that list not populating on my machine."},{"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"score":0,"creation_date":1700663337,"post_id":77530666,"comment_id":136682292,"body_markdown":"Have you tried building the project from the command line?","body":"Have you tried building the project from the command line?"},{"owner":{"account_id":6840238,"reputation":1540,"user_id":5260883,"accept_rate":48,"display_name":"Parashuram"},"score":0,"creation_date":1700663769,"post_id":77530666,"comment_id":136682394,"body_markdown":"yes. that also did not help","body":"yes. that also did not help"},{"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"score":0,"creation_date":1700665043,"post_id":77530666,"comment_id":136682659,"body_markdown":"Can you add the entire pom.xml?","body":"Can you add the entire pom.xml?"},{"owner":{"account_id":6840238,"reputation":1540,"user_id":5260883,"accept_rate":48,"display_name":"Parashuram"},"score":0,"creation_date":1700665455,"post_id":77530666,"comment_id":136682753,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/256024/discussion-between-parashuram-and-reg).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/256024/discussion-between-parashuram-and-reg\">continue this discussion in chat</a>."},{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1700665907,"post_id":77530666,"comment_id":136682860,"body_markdown":"most likely your local maven repo (cache) is corrupted. just remove the `~/.m2/repository/com/intuit/karate` folder and try again - where `~` is your user home folder","body":"most likely your local maven repo (cache) is corrupted. just remove the <code>~&#47;.m2&#47;repository&#47;com&#47;intuit&#47;karate</code> folder and try again - where <code>~</code> is your user home folder"},{"owner":{"account_id":6840238,"reputation":1540,"user_id":5260883,"accept_rate":48,"display_name":"Parashuram"},"score":0,"creation_date":1700714777,"post_id":77530666,"comment_id":136689087,"body_markdown":"Thanks Peter for the suggestion as many others also suggested the same but unfortunately that has also not helped.","body":"Thanks Peter for the suggestion as many others also suggested the same but unfortunately that has also not helped."},{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":1,"creation_date":1700844792,"post_id":77530666,"comment_id":136706559,"body_markdown":"don&#39;t use the archetype then, use the github template, it is the same thing: https://github.com/karatelabs/karate-template","body":"don&#39;t use the archetype then, use the github template, it is the same thing: <a href=\"https://github.com/karatelabs/karate-template\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate-template</a>"},{"owner":{"account_id":6840238,"reputation":1540,"user_id":5260883,"accept_rate":48,"display_name":"Parashuram"},"score":0,"creation_date":1701095554,"post_id":77530666,"comment_id":136728992,"body_markdown":"Great, this has worked. Thanks!","body":"Great, this has worked. Thanks!"}],"owner":{"account_id":6840238,"reputation":1540,"user_id":5260883,"accept_rate":48,"display_name":"Parashuram"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1700665400,"creation_date":1700662380,"question_id":77530666,"body_markdown":"I am trying to create a maven project using archetype for Karate framework. I have Java 17 and below is snapshot of project creation.\r\n[![enter image description here][1]][1]\r\n\r\nThis creates project successfully but it fails in sync with below issue.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis looks to be issue on my machine only as on others machine its working and I am not able to figure it out what settings I am missing. Can someone knows about this issue plz?\r\n\r\nBelow is the POM.\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n \r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;karate-testing&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;maven.compiler.version&gt;3.11.0&lt;/maven.compiler.version&gt;\r\n        &lt;maven.surefire.version&gt;3.0.0&lt;/maven.surefire.version&gt;\r\n        &lt;karate.version&gt;1.4.1&lt;/karate.version&gt;\r\n    &lt;/properties&gt;    \r\n\r\n    &lt;dependencies&gt;         \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;${karate.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\t\t\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;testResources&gt;\r\n            &lt;testResource&gt;\r\n                &lt;directory&gt;src/test/java&lt;/directory&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/testResource&gt;\r\n        &lt;/testResources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;          \r\n        &lt;/plugins&gt;        \r\n    &lt;/build&gt;       \r\n    \r\n&lt;/project&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/oF9H1.png\r\n  [2]: https://i.stack.imgur.com/LBMDp.png","title":"Karate core dependency issue in maven project","body":"<p>I am trying to create a maven project using archetype for Karate framework. I have Java 17 and below is snapshot of project creation.\n<a href=\"https://i.stack.imgur.com/oF9H1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oF9H1.png\" alt=\"enter image description here\" /></a></p>\n<p>This creates project successfully but it fails in sync with below issue.</p>\n<p><a href=\"https://i.stack.imgur.com/LBMDp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LBMDp.png\" alt=\"enter image description here\" /></a></p>\n<p>This looks to be issue on my machine only as on others machine its working and I am not able to figure it out what settings I am missing. Can someone knows about this issue plz?</p>\n<p>Below is the POM.</p>\n<p>\n4.0.0</p>\n<pre><code>&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;karate-testing&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;maven.compiler.version&gt;3.11.0&lt;/maven.compiler.version&gt;\n    &lt;maven.surefire.version&gt;3.0.0&lt;/maven.surefire.version&gt;\n    &lt;karate.version&gt;1.4.1&lt;/karate.version&gt;\n&lt;/properties&gt;    \n\n&lt;dependencies&gt;         \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n        &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\n        &lt;version&gt;${karate.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;       \n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;testResources&gt;\n        &lt;testResource&gt;\n            &lt;directory&gt;src/test/java&lt;/directory&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/testResource&gt;\n    &lt;/testResources&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;          \n    &lt;/plugins&gt;        \n&lt;/build&gt;       \n</code></pre>\n\n"},{"tags":["python","java","testing","squish"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685699841,"post_id":76380443,"comment_id":134700880,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":22763381,"reputation":1,"user_id":16921832,"display_name":"Joel Duffie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700665395,"creation_date":1700665180,"answer_id":77531013,"question_id":76380443,"body_markdown":"I had a similar problem, but Qt doesn&#39;t document this very well in the API documentation, which is very annoying. I had to dig through my squish directory to find the answer. I opened the folder in VSCode and did a search for &quot;primaryButton&quot;. I found a file called `mouseconstants.def` (at `SQUISH_DIR/sdk/common`), inside which I found multiple mouse buttons defined as integers. Each is set to a power of 2, which I suppose makes sense, as I believe they&#39;re reading the mouseButton parameter as a byte, so each button is associated with a specific bit flag. Nevertheless, here are the values:\r\n\r\n```\r\nSQUISH_CONSTANT(LeftButton, 1)\r\nSQUISH_CONSTANT(MiddleButton, 2)\r\nSQUISH_CONSTANT(RightButton, 4)\r\nSQUISH_CONSTANT(Wheel, 8)\r\nSQUISH_CONSTANT(PrimaryButton, 16)\r\nSQUISH_CONSTANT(SecondaryButton, 32)\r\nSQUISH_CONSTANT(XButton1, 64)\r\nSQUISH_CONSTANT(XButton2, 128)\r\n```\r\n\r\nTo solve your problem, I would try to use `16` whenever you need a primary (&quot;left&quot;) button, and `32` whenever you need a secondary (&quot;right&quot;) click.\r\n\r\nThis may only work on Windows, as there&#39;s this note on [Squish&#39;s API][1]:\r\n\r\n&gt; Note: Windows test suites also support two more possible mouse button\r\n&gt; specifiers, MouseButton.PrimaryButton and MouseButton.SecondaryButton.\r\n&gt; These values respect the global Windows setting used to swap the mouse\r\n&gt; buttons. If the buttons are not swapped (the default), the left button\r\n&gt; is the primary button. Otherwise, the right button is the primary\r\n&gt; button.\r\n\r\n\r\n  [1]: https://doc.qt.io/squish/squish-api.html#squish-api-function-parameters","title":"Squish GUI testing for Java, use windows primary mouse button rather than set mouse button manually?","body":"<p>I had a similar problem, but Qt doesn't document this very well in the API documentation, which is very annoying. I had to dig through my squish directory to find the answer. I opened the folder in VSCode and did a search for &quot;primaryButton&quot;. I found a file called <code>mouseconstants.def</code> (at <code>SQUISH_DIR/sdk/common</code>), inside which I found multiple mouse buttons defined as integers. Each is set to a power of 2, which I suppose makes sense, as I believe they're reading the mouseButton parameter as a byte, so each button is associated with a specific bit flag. Nevertheless, here are the values:</p>\n<pre><code>SQUISH_CONSTANT(LeftButton, 1)\nSQUISH_CONSTANT(MiddleButton, 2)\nSQUISH_CONSTANT(RightButton, 4)\nSQUISH_CONSTANT(Wheel, 8)\nSQUISH_CONSTANT(PrimaryButton, 16)\nSQUISH_CONSTANT(SecondaryButton, 32)\nSQUISH_CONSTANT(XButton1, 64)\nSQUISH_CONSTANT(XButton2, 128)\n</code></pre>\n<p>To solve your problem, I would try to use <code>16</code> whenever you need a primary (&quot;left&quot;) button, and <code>32</code> whenever you need a secondary (&quot;right&quot;) click.</p>\n<p>This may only work on Windows, as there's this note on <a href=\"https://doc.qt.io/squish/squish-api.html#squish-api-function-parameters\" rel=\"nofollow noreferrer\">Squish's API</a>:</p>\n<blockquote>\n<p>Note: Windows test suites also support two more possible mouse button\nspecifiers, MouseButton.PrimaryButton and MouseButton.SecondaryButton.\nThese values respect the global Windows setting used to swap the mouse\nbuttons. If the buttons are not swapped (the default), the left button\nis the primary button. Otherwise, the right button is the primary\nbutton.</p>\n</blockquote>\n"}],"owner":{"account_id":28726381,"reputation":1,"user_id":21999148,"display_name":"LJenkins"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700665395,"creation_date":1685611519,"question_id":76380443,"body_markdown":"My workplace uses Squish for testing our Java gui, and I recently had an issue where no tests would run properly on my machine, we eventually worked out that this was due to the fact that I use a left-handed mouse, and on windows have set right-click as my primary mouse button. However our squish setup seems to manually call left click, I&#39;m looking to find a way to make squish respect the primary mouse button as set by windows? We use python as our scripting language for Squish tests.\r\n\r\nAny help on this front would be appreciated, its definitely an edge-case, but one that took long enough to solve that we don&#39;t want to run into it again.","title":"Squish GUI testing for Java, use windows primary mouse button rather than set mouse button manually?","body":"<p>My workplace uses Squish for testing our Java gui, and I recently had an issue where no tests would run properly on my machine, we eventually worked out that this was due to the fact that I use a left-handed mouse, and on windows have set right-click as my primary mouse button. However our squish setup seems to manually call left click, I'm looking to find a way to make squish respect the primary mouse button as set by windows? We use python as our scripting language for Squish tests.</p>\n<p>Any help on this front would be appreciated, its definitely an edge-case, but one that took long enough to solve that we don't want to run into it again.</p>\n"},{"tags":["java","oracle","netbeans","oracle-sqldeveloper"],"comments":[{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":0,"creation_date":1461336837,"post_id":36790835,"comment_id":61168340,"body_markdown":"we use some netbeans stuff","body":"we use some netbeans stuff"},{"owner":{"account_id":1416480,"reputation":1055,"user_id":1342044,"accept_rate":11,"display_name":"soulemane moumie"},"score":0,"creation_date":1461340795,"post_id":36790835,"comment_id":61171042,"body_markdown":"@thatjeffsmith can you elaborate more on your comment ? We are really blocked by this error....","body":"@thatjeffsmith can you elaborate more on your comment ? We are really blocked by this error...."},{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":0,"creation_date":1461502582,"post_id":36790835,"comment_id":61218102,"body_markdown":"SQLDev is largely built on JDeveloper IDE Platform. That platform also has some Netbeans components included. Your error generally sounds like a &#39;bad install&#39; - it got extracted in such a way that one or more of the files or components couldn&#39;t be found.","body":"SQLDev is largely built on JDeveloper IDE Platform. That platform also has some Netbeans components included. Your error generally sounds like a &#39;bad install&#39; - it got extracted in such a way that one or more of the files or components couldn&#39;t be found."}],"answers":[{"comments":[{"owner":{"account_id":339486,"reputation":131,"user_id":668997,"accept_rate":17,"display_name":"banzai"},"score":0,"creation_date":1581997590,"post_id":36799582,"comment_id":106614827,"body_markdown":"thanks, this is work then i want to add more trick, if this instalation on child folder please check your parent folder, the name of parent could not use any symbol, just within space, number and (upper or lower) font.","body":"thanks, this is work then i want to add more trick, if this instalation on child folder please check your parent folder, the name of parent could not use any symbol, just within space, number and (upper or lower) font."}],"tags":[],"owner":{"account_id":1416480,"reputation":1055,"user_id":1342044,"accept_rate":11,"display_name":"soulemane moumie"},"comment_count":1,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1461344617,"creation_date":1461344617,"answer_id":36799582,"question_id":36790835,"body_markdown":"Finally got the way out after some dirty hours. Initially I extracted the sqldeveloper zip in a nested directory. \r\n\r\ni.e: E://A/B/C/sqldeveloper.  \r\nstarting sqldeveloper gui from the above directory threw erros.\r\n\r\nSolution:\r\n\r\n - Go in C:\\users\\**UserName**\\AppData\\Roaming : delete SQL Developer and sqldeveloper folders\r\n  \r\n - Extract the Sql Developer zip in a new non nested directory. i.e: E://\r\n - Start it and should work now\r\n\r\nReference: https://community.oracle.com/thread/3870680?start=0&amp;tstart=0\r\n\r\n\r\n ","title":"Oracle Sql developer error: could not install some modules","body":"<p>Finally got the way out after some dirty hours. Initially I extracted the sqldeveloper zip in a nested directory. </p>\n\n<p>i.e: E://A/B/C/sqldeveloper.<br>\nstarting sqldeveloper gui from the above directory threw erros.</p>\n\n<p>Solution:</p>\n\n<ul>\n<li><p>Go in C:\\users**UserName**\\AppData\\Roaming : delete SQL Developer and sqldeveloper folders</p></li>\n<li><p>Extract the Sql Developer zip in a new non nested directory. i.e: E://</p></li>\n<li>Start it and should work now</li>\n</ul>\n\n<p>Reference: <a href=\"https://community.oracle.com/thread/3870680?start=0&amp;tstart=0\" rel=\"noreferrer\">https://community.oracle.com/thread/3870680?start=0&amp;tstart=0</a></p>\n"},{"comments":[{"owner":{"account_id":1648470,"reputation":168,"user_id":1519522,"display_name":"aff"},"score":0,"creation_date":1581907070,"post_id":60152119,"comment_id":106581254,"body_markdown":"I have similar error and your solution works for me.","body":"I have similar error and your solution works for me."}],"tags":[],"owner":{"account_id":1254376,"reputation":31,"user_id":1214171,"display_name":"Sasha Raskind"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1581343587,"creation_date":1581343587,"answer_id":60152119,"question_id":36790835,"body_markdown":"In my case it was enough to change JDK pass to Java 8 in the \r\nC:\\Users\\YourName\\AppData\\Roaming\\sqldeveloper\\19.2.1\\product.conf file:\r\nSetJavaHome C:\\Program Files\\Java\\jdk1.8.0_202\r\n\r\nI have Java 13 as default and although SQL developer complained at startup it worked OK with it until I started it and went away from the computer, so I missed the warning screen. After that it started to show the &quot;could not install the modules&quot; error. ","title":"Oracle Sql developer error: could not install some modules","body":"<p>In my case it was enough to change JDK pass to Java 8 in the \nC:\\Users\\YourName\\AppData\\Roaming\\sqldeveloper\\19.2.1\\product.conf file:\nSetJavaHome C:\\Program Files\\Java\\jdk1.8.0_202</p>\n\n<p>I have Java 13 as default and although SQL developer complained at startup it worked OK with it until I started it and went away from the computer, so I missed the warning screen. After that it started to show the \"could not install the modules\" error. </p>\n"},{"tags":[],"owner":{"account_id":13651188,"reputation":79,"user_id":10605742,"display_name":"nivalderramas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593961700,"creation_date":1593961700,"answer_id":62742444,"question_id":36790835,"body_markdown":"For those that are working on a linux machine, for me worked just changing the jdk version that I&#39;m currently using. I change went to the path `usr/lib/jvm/` and look for the versions that my pc have. Then in `~/.sqldeveloper/&quot;yourversion&quot;/product.conf` I changed the Java home to java-8-openjdk (It was using the 11 version)","title":"Oracle Sql developer error: could not install some modules","body":"<p>For those that are working on a linux machine, for me worked just changing the jdk version that I'm currently using. I change went to the path <code>usr/lib/jvm/</code> and look for the versions that my pc have. Then in <code>~/.sqldeveloper/&quot;yourversion&quot;/product.conf</code> I changed the Java home to java-8-openjdk (It was using the 11 version)</p>\n"},{"tags":[],"owner":{"account_id":12419926,"reputation":68,"user_id":9047446,"display_name":"Muhammad Aaref Al-Shami"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622728540,"creation_date":1622728540,"answer_id":67822813,"question_id":36790835,"body_markdown":"Based on [This][1] I just deleted `mypath\\sqldeveloper\\netbeans\\platform\\modules\\org-netbeans-core-windows.jar` and it works fine for me.\r\n\r\n\r\n  [1]: http://netbeans-org.1045718.n5.nabble.com/Could-not-install-some-modules-td3323098.html","title":"Oracle Sql developer error: could not install some modules","body":"<p>Based on <a href=\"http://netbeans-org.1045718.n5.nabble.com/Could-not-install-some-modules-td3323098.html\" rel=\"nofollow noreferrer\">This</a> I just deleted <code>mypath\\sqldeveloper\\netbeans\\platform\\modules\\org-netbeans-core-windows.jar</code> and it works fine for me.</p>\n"},{"tags":[],"owner":{"account_id":34561,"reputation":8464,"user_id":97745,"accept_rate":86,"display_name":"crowne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625245605,"creation_date":1625245605,"answer_id":68228977,"question_id":36790835,"body_markdown":"I found that I was getting this error after I reinstalled java while keeping an instance of sqldeveloper running.\r\nAfter I ended the running instance, then I could start a new instance.\r\n","title":"Oracle Sql developer error: could not install some modules","body":"<p>I found that I was getting this error after I reinstalled java while keeping an instance of sqldeveloper running.\nAfter I ended the running instance, then I could start a new instance.</p>\n"},{"comments":[{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1659400781,"post_id":73131842,"comment_id":129280877,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/32343141)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/32343141\">From Review</a>"}],"tags":[],"owner":{"account_id":25904096,"reputation":1,"user_id":19629424,"display_name":"long giang th&#224;nh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658890951,"creation_date":1658890951,"answer_id":73131842,"question_id":36790835,"body_markdown":"This is tricky, so when the could not install some modules board shows up, click the disable modules and continue, then immediately open the app again it should work :)))\r\n","title":"Oracle Sql developer error: could not install some modules","body":"<p>This is tricky, so when the could not install some modules board shows up, click the disable modules and continue, then immediately open the app again it should work :)))</p>\n"},{"comments":[{"owner":{"account_id":1889592,"reputation":1805,"user_id":1708042,"display_name":"user1708042"},"score":0,"creation_date":1668606311,"post_id":73539151,"comment_id":131445959,"body_markdown":"I clenad all the folders that were named system_cache* under the current version folder, I had to do it after using for a while the graalvm that used I guess different formats in the cache","body":"I clenad all the folders that were named system_cache* under the current version folder, I had to do it after using for a while the graalvm that used I guess different formats in the cache"},{"owner":{"account_id":1715941,"reputation":460,"user_id":1572996,"display_name":"Kelly Thomas"},"score":2,"creation_date":1693989424,"post_id":73539151,"comment_id":135830819,"body_markdown":"I was able to remove the `C:\\Users\\&lt;name&gt;\\AppData\\Roaming\\SQL Developer\\system&lt;version&gt;\\system_cache\\config` directory to resolve this error while still keeping my saved connections.","body":"I was able to remove the <code>C:\\Users\\&lt;name&gt;\\AppData\\Roaming\\SQL Developer\\system&lt;version&gt;\\system_cache\\config</code> directory to resolve this error while still keeping my saved connections."}],"tags":[],"owner":{"account_id":106399,"reputation":391,"user_id":283458,"display_name":"gouderadrian"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1661847233,"creation_date":1661847233,"answer_id":73539151,"question_id":36790835,"body_markdown":"This is a very old post but I have had the same issue recently on version 22.2, and this might help.\r\n\r\n**WARNING: You may lose important settings with this solution.**\r\n Try deleting the *system cache* under *C:\\Users\\&lt;your_user_name&gt;\\AppData\\Roaming\\SQL Developer\\\\{whatever}*\r\n(or simply everything in that folder). This solved the problem for me, but obviously you do lose configuration settings, connections, and so on, ie, everything you&#39;ve ever done in SQL Developer - so be careful.","title":"Oracle Sql developer error: could not install some modules","body":"<p>This is a very old post but I have had the same issue recently on version 22.2, and this might help.</p>\n<p><strong>WARNING: You may lose important settings with this solution.</strong>\nTry deleting the <em>system cache</em> under <em>C:\\Users&lt;your_user_name&gt;\\AppData\\Roaming\\SQL Developer\\{whatever}</em>\n(or simply everything in that folder). This solved the problem for me, but obviously you do lose configuration settings, connections, and so on, ie, everything you've ever done in SQL Developer - so be careful.</p>\n"},{"comments":[{"owner":{"account_id":302544,"reputation":30455,"user_id":610979,"accept_rate":92,"display_name":"Frank Schmitt"},"score":1,"creation_date":1668177066,"post_id":73572414,"comment_id":131349165,"body_markdown":"Worked for me, as well. To restore your connections, you can backup system&lt;version&gt;\\o.jdeveloper.db.connection\\connections.json and copy it back after removing the folder and starting SQL Developer once.","body":"Worked for me, as well. To restore your connections, you can backup system&lt;version&gt;\\o.jdeveloper.db.connection\\connections.json and copy it back after removing the folder and starting SQL Developer once."}],"tags":[],"owner":{"account_id":3226155,"reputation":51,"user_id":2722487,"display_name":"Thomas"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662048200,"creation_date":1662048200,"answer_id":73572414,"question_id":36790835,"body_markdown":"In my case renaming/deleting only this folder was good enough:\r\nC:\\Users\\*username*\\AppData\\Roaming\\SQL Developer\\system22.2.0.173.2018\\\r\nThis way I could still import old connections after starting sqldeveloper again","title":"Oracle Sql developer error: could not install some modules","body":"<p>In my case renaming/deleting only this folder was good enough:\nC:\\Users*username*\\AppData\\Roaming\\SQL Developer\\system22.2.0.173.2018<br />\nThis way I could still import old connections after starting sqldeveloper again</p>\n"},{"tags":[],"owner":{"account_id":3242884,"reputation":347,"user_id":2735423,"display_name":"Chris K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673443522,"creation_date":1673443522,"answer_id":75083775,"question_id":36790835,"body_markdown":"The solution in my case was to unzip the SQL developer in a directory without special characters. \r\n\r\nAt first, I had exported it in a directory that included the hash (`#`) symbol. \r\n\r\nI now have it in a nested directory again, without any special characters, and it works as expected. ","title":"Oracle Sql developer error: could not install some modules","body":"<p>The solution in my case was to unzip the SQL developer in a directory without special characters.</p>\n<p>At first, I had exported it in a directory that included the hash (<code>#</code>) symbol.</p>\n<p>I now have it in a nested directory again, without any special characters, and it works as expected.</p>\n"},{"tags":[],"owner":{"account_id":4904233,"reputation":248,"user_id":3951415,"display_name":"Arash moradabadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695634594,"creation_date":1695634594,"answer_id":77171493,"question_id":36790835,"body_markdown":"To optimize the answer of all others which is to delete the cached files, deleting the files under `Module` folder is enough. The whole address is as `C:\\Users\\&lt;YOUR_USERNAME&gt;\\AppData\\Roaming\\SQL Developer\\system&lt;YOUR_SQLDEVELOPER_VERSION&gt;\\system_cache\\config\\Modules`. Delete whatever exists in that folder.","title":"Oracle Sql developer error: could not install some modules","body":"<p>To optimize the answer of all others which is to delete the cached files, deleting the files under <code>Module</code> folder is enough. The whole address is as <code>C:\\Users\\&lt;YOUR_USERNAME&gt;\\AppData\\Roaming\\SQL Developer\\system&lt;YOUR_SQLDEVELOPER_VERSION&gt;\\system_cache\\config\\Modules</code>. Delete whatever exists in that folder.</p>\n"},{"tags":[],"owner":{"account_id":1481624,"reputation":135,"user_id":1390866,"display_name":"Alexander Sch&#228;l"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695799693,"creation_date":1695799693,"answer_id":77185405,"question_id":36790835,"body_markdown":"generalized folder to remove in Windows (e.g. Amazon WorkSpace) Clients:\r\n\r\n    %USERPROFILE%\\AppData\\Roaming\\SQL Developer\\","title":"Oracle Sql developer error: could not install some modules","body":"<p>generalized folder to remove in Windows (e.g. Amazon WorkSpace) Clients:</p>\n<pre><code>%USERPROFILE%\\AppData\\Roaming\\SQL Developer\\\n</code></pre>\n"}],"owner":{"account_id":1416480,"reputation":1055,"user_id":1342044,"accept_rate":11,"display_name":"soulemane moumie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63324,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":36799582,"answer_count":11,"score":13,"last_activity_date":1700665385,"creation_date":1461319567,"question_id":36790835,"body_markdown":"I have downloaded a fresh copy of sqldeveloper (**sqldeveloper-4.1.3.20.78-no-jre**) from the Oracle website. When I unzip it and lauch the GUI, I keep getting the following error  message: \r\n\r\n&gt; Warning - could not install some modules: Dynamic Module Config - No\r\n&gt; module providing the capability org.netbeans.Netbinox could be found.\r\n\r\n\r\n\r\nMy system:\r\n\r\n - Windows 7 32 bit Hp Probook.\r\n - Jdk 1.6 , 1.7, 1.8 available in java/jdk\r\n   subdirectory.\r\n - Netbeans 8.0.2 installed\r\n\r\n  [1]: http://i.stack.imgur.com/6VDp3.jpg","title":"Oracle Sql developer error: could not install some modules","body":"<p>I have downloaded a fresh copy of sqldeveloper (<strong>sqldeveloper-4.1.3.20.78-no-jre</strong>) from the Oracle website. When I unzip it and lauch the GUI, I keep getting the following error  message: </p>\n\n<blockquote>\n  <p>Warning - could not install some modules: Dynamic Module Config - No\n  module providing the capability org.netbeans.Netbinox could be found.</p>\n</blockquote>\n\n<p>My system:</p>\n\n<ul>\n<li>Windows 7 32 bit Hp Probook.</li>\n<li>Jdk 1.6 , 1.7, 1.8 available in java/jdk\nsubdirectory.</li>\n<li>Netbeans 8.0.2 installed</li>\n</ul>\n"},{"tags":["java","maxent","biomod2"],"comments":[{"owner":{"account_id":29618503,"reputation":1,"user_id":22700062,"display_name":"JY Xie"},"score":0,"creation_date":1696670127,"post_id":77249120,"comment_id":136185390,"body_markdown":"When I use other version R, the error were:  \nGetting predictions...Error in file(file, &quot;rt&quot;) : cannot open the connection\nIn addition: Warning messages:\n1: executing %dopar% sequentially: no parallel backend registered \n2: In file(file, &quot;rt&quot;) :\n  cannot open file &#39;F:/1_SDM/Species/Species/models/1696670049/Species_allData_RUN1_MAXENT_outputs/Species_allData_RUN1_Pred_swd.csv&#39;: No such file or directory","body":"When I use other version R, the error were:   Getting predictions...Error in file(file, &quot;rt&quot;) : cannot open the connection In addition: Warning messages: 1: executing %dopar% sequentially: no parallel backend registered  2: In file(file, &quot;rt&quot;) :   cannot open file &#39;F:/1_SDM/Species/Species/models/1696670049/Species_allData_&zwnj;&#8203;RUN1_MAXENT_outputs/&zwnj;&#8203;Species_allData_RUN1&zwnj;&#8203;_Pred_swd.csv&#39;: No such file or directory"}],"answers":[{"tags":[],"owner":{"account_id":27423048,"reputation":11,"user_id":20921102,"display_name":"m10"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700665172,"creation_date":1700665172,"answer_id":77531011,"question_id":77249120,"body_markdown":"When the error report &quot;cannot open the connection&quot; is because the file cannot be found.\r\nHere are some solutions you can try:\r\n1. put double &quot;\\\\&quot; in the path to maxent.jar\r\n2. put the maxent.jar in your working directory\r\n3. change the path to maxent.jar with something with no numbers or strange characters\r\n\r\nIn my case I&#39;ve solved by putting the following instruction: \r\n\r\n    path_to_maxent.jar = paste(system.file(package=&quot;dismo&quot;), &quot;/java&quot;, sep=&#39;&#39;)\r\n\r\nhope it will help!","title":"Error in file when running Maxent in biomod2","body":"<p>When the error report &quot;cannot open the connection&quot; is because the file cannot be found.\nHere are some solutions you can try:</p>\n<ol>\n<li>put double &quot;\\&quot; in the path to maxent.jar</li>\n<li>put the maxent.jar in your working directory</li>\n<li>change the path to maxent.jar with something with no numbers or strange characters</li>\n</ol>\n<p>In my case I've solved by putting the following instruction:</p>\n<pre><code>path_to_maxent.jar = paste(system.file(package=&quot;dismo&quot;), &quot;/java&quot;, sep='')\n</code></pre>\n<p>hope it will help!</p>\n"}],"owner":{"account_id":29618503,"reputation":1,"user_id":22700062,"display_name":"JY Xie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700665172,"creation_date":1696669698,"question_id":77249120,"body_markdown":"When I run Maxent in biomod2, I meet the error, although I have tried many solutions which people have solved their similar problem, but they didn&#39;t work with my code. I have tried to change the file path of maxent.jar without any spaces or change the system environmental variables(following:http://modata.ceoe.udel.edu/dev/dhaulsee/class_rcode/r_pkgmanuals/MAXENT4R_directions.pdf), but they don&#39;t help me for my trouble.\r\n\r\n`this is my code and parameters\r\n#######################Defining Models Options using default options\r\nsdm.opt.default = BIOMOD_ModelingOptions( MAXENT = list( path_to_maxent.jar = &quot;F:/1_SDM/maxent.jar&quot;))`\r\n  \r\n      `####################Constrcut sdm models by setting parameters\r\n       Bio.mod.all = BIOMOD_Modeling( bm.format = Sp.biomod.data,\r\n                                 models = &quot;MAXENT&quot;,\r\n                                 models.pa = Sp.biomod.data@data.species,\r\n                                 bm.options = sdm.opt.default,\r\n                                 CV.strategy = &#39;random&#39;,\r\n                                 #Number of Evaluation run\r\n                                 CV.nb.rep = 1,\r\n                                 #80% of data train the model\r\n                                 CV.perc = 0.8,\r\n                                 #models  be  calibrated and validated over the whole dataset\r\n                                 CV.do.full.models = F,\r\n                                 #Below arg is whether control the weight?\r\n                                 weights=NULL,\r\n                                 #absences will be weighted equally to the presences\r\n                                 prevalence = 0.5,\r\n                                 #Set model evaluations methods\r\n                                 metric.eval = mode.eva,\r\n                                 #Number of permutation to estimate variable importance\r\n                                 var.import = 1,\r\n                                 nb.cpu =1,\r\n                                 do.progress =T)`\r\n\r\nthis the errors:\r\n    `Model=MAXENT\r\n\t&gt; MAXENT modeling...\r\n\t\tCreating Maxent Temp Proj Data...\r\n      Getting predictions...Error in file(file, &quot;rt&quot;) : cannot open the connection`\r\n     `Getting predictor contributions...Error in file(fname, &quot;r&quot;) : cannot open the connection\r\n     Error in { : task 1 failed - &quot;Unable to make model prediction&quot;`\r\n\r\n\r\nIf anyone could help me treat the problem, I will great grateful!!!!","title":"Error in file when running Maxent in biomod2","body":"<p>When I run Maxent in biomod2, I meet the error, although I have tried many solutions which people have solved their similar problem, but they didn't work with my code. I have tried to change the file path of maxent.jar without any spaces or change the system environmental variables(following:<a href=\"http://modata.ceoe.udel.edu/dev/dhaulsee/class_rcode/r_pkgmanuals/MAXENT4R_directions.pdf\" rel=\"nofollow noreferrer\">http://modata.ceoe.udel.edu/dev/dhaulsee/class_rcode/r_pkgmanuals/MAXENT4R_directions.pdf</a>), but they don't help me for my trouble.</p>\n<p><code>this is my code and parameters #######################Defining Models Options using default options sdm.opt.default = BIOMOD_ModelingOptions( MAXENT = list( path_to_maxent.jar = &quot;F:/1_SDM/maxent.jar&quot;))</code></p>\n<pre><code>  `####################Constrcut sdm models by setting parameters\n   Bio.mod.all = BIOMOD_Modeling( bm.format = Sp.biomod.data,\n                             models = &quot;MAXENT&quot;,\n                             models.pa = Sp.biomod.data@data.species,\n                             bm.options = sdm.opt.default,\n                             CV.strategy = 'random',\n                             #Number of Evaluation run\n                             CV.nb.rep = 1,\n                             #80% of data train the model\n                             CV.perc = 0.8,\n                             #models  be  calibrated and validated over the whole dataset\n                             CV.do.full.models = F,\n                             #Below arg is whether control the weight?\n                             weights=NULL,\n                             #absences will be weighted equally to the presences\n                             prevalence = 0.5,\n                             #Set model evaluations methods\n                             metric.eval = mode.eva,\n                             #Number of permutation to estimate variable importance\n                             var.import = 1,\n                             nb.cpu =1,\n                             do.progress =T)`\n</code></pre>\n<p>this the errors:\n<code>Model=MAXENT &gt; MAXENT modeling... Creating Maxent Temp Proj Data... Getting predictions...Error in file(file, &quot;rt&quot;) : cannot open the connection</code>\n<code>Getting predictor contributions...Error in file(fname, &quot;r&quot;) : cannot open the connection Error in { : task 1 failed - &quot;Unable to make model prediction&quot;</code></p>\n<p>If anyone could help me treat the problem, I will great grateful!!!!</p>\n"},{"tags":["java","boolean","switch-statement","compiler-errors"],"comments":[{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":3,"creation_date":1274715278,"post_id":2898068,"comment_id":2947428,"body_markdown":"Just a side note, your `GameContract` method could simply be `return HomeNewGame &amp;&amp; AwayNewGame`.","body":"Just a side note, your <code>GameContract</code> method could simply be <code>return HomeNewGame &amp;&amp; AwayNewGame</code>."},{"owner":{"account_id":127226,"reputation":8262,"user_id":324249,"accept_rate":96,"display_name":"iTEgg"},"score":0,"creation_date":1274716241,"post_id":2898068,"comment_id":2947570,"body_markdown":"thanks for all the info. im trying to learn C# and Java, and this is something they process differently.","body":"thanks for all the info. im trying to learn C# and Java, and this is something they process differently."}],"answers":[{"comments":[{"owner":{"account_id":136552,"reputation":341,"user_id":340119,"display_name":"John Smith"},"score":0,"creation_date":1274715513,"post_id":2898090,"comment_id":2947469,"body_markdown":"byte and short, and anything with a narrowing cast (long, float double)","body":"byte and short, and anything with a narrowing cast (long, float double)"},{"owner":{"account_id":112835,"reputation":9845,"user_id":297484,"display_name":"chris"},"score":2,"creation_date":1274715537,"post_id":2898090,"comment_id":2947477,"body_markdown":"oh, and it seems that java7 might even (FINALLY) include support for switching on String too! yay! http://tech.puredanger.com/java7/#switch","body":"oh, and it seems that java7 might even (FINALLY) include support for switching on String too! yay! <a href=\"http://tech.puredanger.com/java7/#switch\" rel=\"nofollow noreferrer\">tech.puredanger.com/java7/#switch</a>"}],"tags":[],"owner":{"account_id":112835,"reputation":9845,"user_id":297484,"display_name":"chris"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1274715295,"creation_date":1274714911,"answer_id":2898090,"question_id":2898068,"body_markdown":"you don&#39;t want to `switch` on a boolean, just use a simple `if`/`else`\r\n\r\n    if (status) {\r\n      ....\r\n    } else {\r\n      ....\r\n    }\r\n\r\nedit : `switch` is only used for `int`s, `char`s, or `enum`s (i think that&#39;s all, maybe there are others?)\r\nedit edit : it seems `short` and `byte` are also valid types for switching, as well as the boxed versions of all of these (`Integer`, `Short`, etc etc)","title":"Java Switch Incompatible Types Boolean Int","body":"<p>you don't want to <code>switch</code> on a boolean, just use a simple <code>if</code>/<code>else</code></p>\n\n<pre><code>if (status) {\n  ....\n} else {\n  ....\n}\n</code></pre>\n\n<p>edit : <code>switch</code> is only used for <code>int</code>s, <code>char</code>s, or <code>enum</code>s (i think that's all, maybe there are others?)\nedit edit : it seems <code>short</code> and <code>byte</code> are also valid types for switching, as well as the boxed versions of all of these (<code>Integer</code>, <code>Short</code>, etc etc)</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1274714939,"creation_date":1274714939,"answer_id":2898096,"question_id":2898068,"body_markdown":"Can&#39;t use boolean in switch, only int.  Please read the Java docs for the switch statement.\r\n","title":"Java Switch Incompatible Types Boolean Int","body":"<p>Can't use boolean in switch, only int.  Please read the Java docs for the switch statement.</p>\n"},{"tags":[],"owner":{"account_id":36976,"reputation":3059,"user_id":105604,"accept_rate":75,"display_name":"D&#243;nal Boyle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1274716414,"creation_date":1274715099,"answer_id":2898110,"question_id":2898068,"body_markdown":"In Java, switch only works for byte, short, char, int and enum. For booleans you should use if/else as there are a very limited number of states.","title":"Java Switch Incompatible Types Boolean Int","body":"<p>In Java, switch only works for byte, short, char, int and enum. For booleans you should use if/else as there are a very limited number of states.</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1274715120,"creation_date":1274715120,"answer_id":2898114,"question_id":2898068,"body_markdown":"You can&#39;t switch on a `boolean` (which only have 2 values anyway):\r\n\r\nThe Java Language Specification clearly specifies what type of expression can be `switch`-ed on.\r\n\r\n### [JLS 14.11 The switch statement](http://java.sun.com/docs/books/jls/third_edition/html/statements.html#14.11)\r\n\r\n\r\n&gt;     SwitchStatement:\r\n        switch ( Expression ) SwitchBlock\r\n\r\n&gt;The type of the `Expression` must be `char`, `byte`, `short`, `int`, `Character`, `Byte`, `Short`, `Integer`, or an `enum` type, or a compile-time error occurs.\r\n\r\nIt is a lot more readable and concise to simply use an `if` statement to distinguish the two cases of `boolean`.","title":"Java Switch Incompatible Types Boolean Int","body":"<p>You can't switch on a <code>boolean</code> (which only have 2 values anyway):</p>\n\n<p>The Java Language Specification clearly specifies what type of expression can be <code>switch</code>-ed on.</p>\n\n<h3><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/statements.html#14.11\" rel=\"noreferrer\">JLS 14.11 The switch statement</a></h3>\n\n<blockquote>\n<pre><code>SwitchStatement:\n    switch ( Expression ) SwitchBlock\n</code></pre>\n  \n  <p>The type of the <code>Expression</code> must be <code>char</code>, <code>byte</code>, <code>short</code>, <code>int</code>, <code>Character</code>, <code>Byte</code>, <code>Short</code>, <code>Integer</code>, or an <code>enum</code> type, or a compile-time error occurs.</p>\n</blockquote>\n\n<p>It is a lot more readable and concise to simply use an <code>if</code> statement to distinguish the two cases of <code>boolean</code>.</p>\n"},{"tags":[],"owner":{"account_id":136552,"reputation":341,"user_id":340119,"display_name":"John Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1274715190,"creation_date":1274715190,"answer_id":2898127,"question_id":2898068,"body_markdown":"Switch takes an integer value, and a boolean cannot be converted to an integer.\r\n\r\nIn java, a boolean is a type in its own right, and not implicitly convertible to any other type (except Boolean).","title":"Java Switch Incompatible Types Boolean Int","body":"<p>Switch takes an integer value, and a boolean cannot be converted to an integer.</p>\n\n<p>In java, a boolean is a type in its own right, and not implicitly convertible to any other type (except Boolean).</p>\n"},{"tags":[],"owner":{"account_id":1971246,"reputation":21,"user_id":1770108,"display_name":"Shailesh Saxena"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1351050309,"creation_date":1351048993,"answer_id":13042552,"question_id":2898068,"body_markdown":"Switch statements in Java can use byte, short, char, and int (note: not long) primitive data types or their corresponding wrapper types. Starting with J2SE 5.0, it became possible to use enum types. Starting with Java SE 7, it became possible to use Strings.\r\n\r\n","title":"Java Switch Incompatible Types Boolean Int","body":"<p>Switch statements in Java can use byte, short, char, and int (note: not long) primitive data types or their corresponding wrapper types. Starting with J2SE 5.0, it became possible to use enum types. Starting with Java SE 7, it became possible to use Strings.</p>\n"}],"owner":{"account_id":127226,"reputation":8262,"user_id":324249,"accept_rate":96,"display_name":"iTEgg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":2898114,"answer_count":6,"score":1,"last_activity_date":1700664619,"creation_date":1274714738,"question_id":2898068,"body_markdown":"I have the following class:\r\n\r\n    public class NewGameContract {\r\n\r\n      public boolean HomeNewGame = false;\r\n      public boolean AwayNewGame = false;\r\n\r\n      public boolean GameContract() {\r\n        if (HomeNewGame &amp;&amp; AwayNewGame){\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n      }\r\n    }\r\n\r\nWhen I try to use it like so:\r\n\r\n    if (networkConnection) {\r\n      connect4GameModel.newGameContract.HomeNewGame = true;\r\n      boolean status = connect4GameModel.newGameContract.GameContract();\r\n\r\n      switch (status) {\r\n        case true: break;\r\n        case false: break;\r\n      }\r\n      \r\n      return;\r\n    }\r\n\r\nI am getting the error:\r\n\r\n    incompatible types found: boolean required: int on the following\r\n    `switch (status)` code.\r\n\r\nWhat am I doing wrong?","title":"Java Switch Incompatible Types Boolean Int","body":"<p>I have the following class:</p>\n<pre><code>public class NewGameContract {\n\n  public boolean HomeNewGame = false;\n  public boolean AwayNewGame = false;\n\n  public boolean GameContract() {\n    if (HomeNewGame &amp;&amp; AwayNewGame){\n        return true;\n    } else {\n        return false;\n    }\n  }\n}\n</code></pre>\n<p>When I try to use it like so:</p>\n<pre><code>if (networkConnection) {\n  connect4GameModel.newGameContract.HomeNewGame = true;\n  boolean status = connect4GameModel.newGameContract.GameContract();\n\n  switch (status) {\n    case true: break;\n    case false: break;\n  }\n  \n  return;\n}\n</code></pre>\n<p>I am getting the error:</p>\n<pre><code>incompatible types found: boolean required: int on the following\n`switch (status)` code.\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","android","file","wifi","p2p"],"comments":[{"owner":{"account_id":7526728,"reputation":548,"user_id":5716626,"accept_rate":100,"display_name":"Cosmin Oprea"},"score":0,"creation_date":1700663337,"post_id":77530558,"comment_id":136682291,"body_markdown":"could you start the debugger and go line by line, to see where it freezes ?","body":"could you start the debugger and go line by line, to see where it freezes ?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1700665956,"post_id":77530558,"comment_id":136682866,"body_markdown":"You are likely getting an `android.os.NetworkOnMainThreadException` - search on this term in [android] and should get some solutions.  You should inspect your logcat to verify this exception trace since you do not handle it and the activity will stop and display this information.","body":"You are likely getting an <code>android.os.NetworkOnMainThreadException</code> - search on this term in [android] and should get some solutions.  You should inspect your logcat to verify this exception trace since you do not handle it and the activity will stop and display this information."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700672764,"post_id":77530558,"comment_id":136684350,"body_markdown":"`All permissions for the application are registered.` You do not need any permission to use ACTION_OPEN_DOCUMENT.","body":"<code>All permissions for the application are registered.</code> You do not need any permission to use ACTION_OPEN_DOCUMENT."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700672822,"post_id":77530558,"comment_id":136684363,"body_markdown":"We do not believe that your app freezes when the user has not yet selected a file.","body":"We do not believe that your app freezes when the user has not yet selected a file."}],"answers":[{"comments":[{"owner":{"account_id":19293500,"reputation":95,"user_id":14102903,"display_name":"dev.tejasb"},"score":0,"creation_date":1700675627,"post_id":77530866,"comment_id":136684858,"body_markdown":"this sure is the answer here.","body":"this sure is the answer here."}],"tags":[],"owner":{"account_id":2636726,"reputation":456,"user_id":2281175,"display_name":"Amit Kumar"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1700664000,"creation_date":1700664000,"answer_id":77530866,"question_id":77530558,"body_markdown":"You should call ```sendFile(selectedFileUri, info);```\r\n\r\nmethod in background-thread/AsyncTask\r\n\r\nor else the file read &amp; write operation will block the main thread result in UI/APP freezes. \r\n\r\nHappy Coding!! ","title":"Why the app freezes when selecting a file?","body":"<p>You should call <code>sendFile(selectedFileUri, info);</code></p>\n<p>method in background-thread/AsyncTask</p>\n<p>or else the file read &amp; write operation will block the main thread result in UI/APP freezes.</p>\n<p>Happy Coding!!</p>\n"}],"owner":{"account_id":29966965,"reputation":1,"user_id":22965329,"display_name":"AlexGoooner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700664000,"creation_date":1700661490,"question_id":77530558,"body_markdown":"I&#39;m writing an application where the function of transferring files between phones via WiFi P2P should be implemented. My phones see each other and connect correctly, but when I select a file in the file manager, the phone just freezes and nothing happens, it doesn’t write any errors in the logcat, or in the console in general. All permissions for the application are registered. What could be the problem?\r\nI am attaching the code that describes the method for sending the file\r\n`your text`\r\n```\r\n btnSend.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n                intent.setType(&quot;*/*&quot;);\r\n                intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, false);\r\n                intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n                startActivityForResult(intent, PICK_FILE_REQUEST_CODE);\r\n\r\n            }\r\n        });\r\n```\r\n\r\n\r\n```\r\nprivate void sendFile(Uri fileUri, HostInfo info) {\r\n        checkPermission();\r\n           String hostAddress = null;\r\n        if (info!= null &amp;&amp; info.groupOwnerAddress != null){\r\n            hostAddress = info.groupOwnerAddress;\r\n        }\r\n        if (hostAddress == null){\r\n            Log.e(TAG, &quot;Host adress is null&quot;);\r\n            return;\r\n        }\r\n            int port = 0;\r\n            int buffersize = 1024;\r\n        try(Socket socket = new Socket()) {\r\n            socket.bind(null);\r\n            socket.connect(new InetSocketAddress(hostAddress, socket.getLocalPort()), 5000);\r\n            checkPermission();\r\n            //  try (FileInputStream fileInputStream = new FileInputStream(file);\r\n\r\n           try (InputStream inputStream = getContentResolver().openInputStream(fileUri);\r\n            OutputStream outputStream = socket.getOutputStream()){\r\n               File file = new File(fileUri.getPath());\r\n                byte[] nameBuffer = file.getName().getBytes();\r\n                outputStream.write(nameBuffer.length);\r\n                outputStream.write(nameBuffer, 0, nameBuffer.length);\r\n                System.out.println(file.getPath());\r\n                long fileSize = file.length();\r\n                outputStream.write((byte) ((fileSize &gt;&gt; 24) &amp; 0xFF));\r\n                outputStream.write((byte) ((fileSize &gt;&gt; 16) &amp; 0xFF));\r\n                outputStream.write((byte) ((fileSize &gt;&gt; 8) &amp; 0xFF));\r\n                outputStream.write((byte) (fileSize &amp; 0xFF));\r\n\r\n                byte[] buffer = new byte[buffersize];\r\n                int bytesRead;\r\n                while ((bytesRead = inputStream.read(buffer)) != -1){\r\n                    outputStream.write(buffer, 0, bytesRead);\r\n                }\r\n                outputStream.flush();\r\n                socket.close();\r\n            }\r\n        }catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n```\r\n\r\n```\r\n@Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == PICK_FILE_REQUEST_CODE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\r\n            Uri selectedFileUri = data.getData();\r\n            HostInfo info = new HostInfo();\r\n            info.groupOwnerAddress = &quot;192.168.49.1&quot;;\r\n            sendFile(selectedFileUri, info);\r\n\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\nAt first there was a problem that when selecting a file it would display No such file or directory, but by slightly correcting the code I got rid of this error, but now the phone just freezes","title":"Why the app freezes when selecting a file?","body":"<p>I'm writing an application where the function of transferring files between phones via WiFi P2P should be implemented. My phones see each other and connect correctly, but when I select a file in the file manager, the phone just freezes and nothing happens, it doesn’t write any errors in the logcat, or in the console in general. All permissions for the application are registered. What could be the problem?\nI am attaching the code that describes the method for sending the file\n<code>your text</code></p>\n<pre><code> btnSend.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n                intent.setType(&quot;*/*&quot;);\n                intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, false);\n                intent.addCategory(Intent.CATEGORY_OPENABLE);\n                startActivityForResult(intent, PICK_FILE_REQUEST_CODE);\n\n            }\n        });\n</code></pre>\n<pre><code>private void sendFile(Uri fileUri, HostInfo info) {\n        checkPermission();\n           String hostAddress = null;\n        if (info!= null &amp;&amp; info.groupOwnerAddress != null){\n            hostAddress = info.groupOwnerAddress;\n        }\n        if (hostAddress == null){\n            Log.e(TAG, &quot;Host adress is null&quot;);\n            return;\n        }\n            int port = 0;\n            int buffersize = 1024;\n        try(Socket socket = new Socket()) {\n            socket.bind(null);\n            socket.connect(new InetSocketAddress(hostAddress, socket.getLocalPort()), 5000);\n            checkPermission();\n            //  try (FileInputStream fileInputStream = new FileInputStream(file);\n\n           try (InputStream inputStream = getContentResolver().openInputStream(fileUri);\n            OutputStream outputStream = socket.getOutputStream()){\n               File file = new File(fileUri.getPath());\n                byte[] nameBuffer = file.getName().getBytes();\n                outputStream.write(nameBuffer.length);\n                outputStream.write(nameBuffer, 0, nameBuffer.length);\n                System.out.println(file.getPath());\n                long fileSize = file.length();\n                outputStream.write((byte) ((fileSize &gt;&gt; 24) &amp; 0xFF));\n                outputStream.write((byte) ((fileSize &gt;&gt; 16) &amp; 0xFF));\n                outputStream.write((byte) ((fileSize &gt;&gt; 8) &amp; 0xFF));\n                outputStream.write((byte) (fileSize &amp; 0xFF));\n\n                byte[] buffer = new byte[buffersize];\n                int bytesRead;\n                while ((bytesRead = inputStream.read(buffer)) != -1){\n                    outputStream.write(buffer, 0, bytesRead);\n                }\n                outputStream.flush();\n                socket.close();\n            }\n        }catch (IOException e){\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n<pre><code>@Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == PICK_FILE_REQUEST_CODE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\n            Uri selectedFileUri = data.getData();\n            HostInfo info = new HostInfo();\n            info.groupOwnerAddress = &quot;192.168.49.1&quot;;\n            sendFile(selectedFileUri, info);\n\n        }\n    }\n</code></pre>\n<p>At first there was a problem that when selecting a file it would display No such file or directory, but by slightly correcting the code I got rid of this error, but now the phone just freezes</p>\n"},{"tags":["java","maven","pom.xml"],"owner":{"account_id":22857199,"reputation":15,"user_id":17001874,"display_name":"ZeyennaStudy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700663911,"creation_date":1700661180,"question_id":77530517,"body_markdown":"I can&#39;t resolve this error, can you helpe me ?\r\nThis my code to pom.xml\r\nThank you for your help ! I&#39;ts very complicate for me to resolve this bug\r\n\r\n     &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;archive&gt;\r\n                                &lt;manifest&gt;\r\n                                    &lt;mainClass&gt;\r\n                                        com.parkit.parkingsystem.App\r\n                                    &lt;/mainClass&gt;\r\n                                &lt;/manifest&gt;\r\n                            &lt;/archive&gt;\r\n                            &lt;descriptorRefs&gt;\r\n                                &lt;descriptorRef&gt;executable-jar-with-dependencies&lt;/descriptorRef&gt;\r\n                            &lt;/descriptorRefs&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n\r\n\r\n   ","title":"Error reading assemblies: Descriptor with ID &#39;executable-jar-with-dependencies&#39; not found","body":"<p>I can't resolve this error, can you helpe me ?\nThis my code to pom.xml\nThank you for your help ! I'ts very complicate for me to resolve this bug</p>\n<pre><code> &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;\n                                    com.parkit.parkingsystem.App\n                                &lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                        &lt;descriptorRefs&gt;\n                            &lt;descriptorRef&gt;executable-jar-with-dependencies&lt;/descriptorRef&gt;\n                        &lt;/descriptorRefs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":5674062,"reputation":66,"user_id":4487887,"display_name":"Dyjah"},"score":0,"creation_date":1700664052,"post_id":77530794,"comment_id":136682465,"body_markdown":"It seems the error is because you are trying to insert a String value with size greater than the configured one in the DB. What are the sizes of your String columns?","body":"It seems the error is because you are trying to insert a String value with size greater than the configured one in the DB. What are the sizes of your String columns?"},{"owner":{"account_id":1305744,"reputation":75,"user_id":1254783,"accept_rate":80,"display_name":"masm"},"score":0,"creation_date":1700669970,"post_id":77530794,"comment_id":136683724,"body_markdown":"Hello Dyjah! I didn&#39;t set size for columns, so they are using default 255\nAnd I did a test removing boolean admin information from Entity and SQL and the script works :(","body":"Hello Dyjah! I didn&#39;t set size for columns, so they are using default 255 And I did a test removing boolean admin information from Entity and SQL and the script works :("},{"owner":{"account_id":5674062,"reputation":66,"user_id":4487887,"display_name":"Dyjah"},"score":0,"creation_date":1700762056,"post_id":77530794,"comment_id":136696794,"body_markdown":"What is the data type of `admin` in the DB? What DB are you using?","body":"What is the data type of <code>admin</code> in the DB? What DB are you using?"}],"owner":{"account_id":1305744,"reputation":75,"user_id":1254783,"accept_rate":80,"display_name":"masm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700663387,"creation_date":1700663387,"question_id":77530794,"body_markdown":"I&#39;m using Spring Data and JPA and need to map an attribute with YesNoConverter, but when I try to insert something in DB, an error is thrown\r\n\r\nI&#39;m using the last version of Spring\r\n\r\n**Part of my Entity**\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;USERS&quot;)\r\n    public class User {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name=&quot;USER_ID&quot;)\r\n    private Long id;\r\n\r\n    @Column(name=&quot;USERNAME&quot;)\r\n    @NotEmpty\r\n    private String username;\r\n    ...\r\n    @Basic\r\n    @Column(name=&quot;ADMIN&quot;)\r\n    @Convert(converter = YesNoConverter.class)\r\n    private boolean admin;\r\n    `\r\nWhen I try to insert somenthing like:\r\n`\r\ninsert into users (user_id, username, password, first_name, last_name, admin) values (1, &#39;mickey&#39;, &#39;$2a$10$kSqU.ek5pDRMMK21tHJlceS1xOc9Kna4F0DD2ZwQH/LAzH0ML0p6.&#39;, &#39;Mickey&#39;, &#39;Mouse&#39;, false);\r\n`\r\n\r\nI always revieve this error message\r\n\r\n\r\n\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;insert into users (user_id, username, password, first_name, last_name, admin) values (1, &#39;mickey&#39;, &#39;$2a$10$kSqU.ek5pDRMMK21tHJlceS1xOc9Kna4F0DD2ZwQH/LAzH0ML0p6.&#39;, &#39;Mickey&#39;, &#39;Mouse&#39;, False)&quot; via JDBC [data exception: string data, right truncation]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.tool.schema.internal.Helper.applyScript(Helper.java:255) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportFiles(SchemaCreatorImpl.java:650) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:569) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:184) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:254) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:293) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1458) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.13.jar:6.0.13]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.13.jar:6.0.13]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.13.jar:6.0.13]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.13.jar:6.0.13]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat com.masm.quickpoll.QuickPollApplication.main(QuickPollApplication.java:10) ~[classes/:na]\r\nCaused by: java.sql.SQLDataException: data exception: string data, right truncation\r\n\tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.7.2.jar:2.7.2]\r\n\tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.7.2.jar:2.7.2]\r\n\tat org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source) ~[hsqldb-2.7.2.jar:2.7.2]\r\n\tat org.hsqldb.jdbc.JDBCStatement.execute(Unknown Source) ~[hsqldb-2.7.2.jar:2.7.2]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\t... 39 common frames omitted\r\n\r\n```\r\n\r\nCan anyone help me?","title":"Problem with attribute mapped YesNoConverter","body":"<p>I'm using Spring Data and JPA and need to map an attribute with YesNoConverter, but when I try to insert something in DB, an error is thrown</p>\n<p>I'm using the last version of Spring</p>\n<p><strong>Part of my Entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;USERS&quot;)\npublic class User {\n\n@Id\n@GeneratedValue\n@Column(name=&quot;USER_ID&quot;)\nprivate Long id;\n\n@Column(name=&quot;USERNAME&quot;)\n@NotEmpty\nprivate String username;\n...\n@Basic\n@Column(name=&quot;ADMIN&quot;)\n@Convert(converter = YesNoConverter.class)\nprivate boolean admin;\n`\n</code></pre>\n<p>When I try to insert somenthing like:\n<code>insert into users (user_id, username, password, first_name, last_name, admin) values (1, 'mickey', '$2a$10$kSqU.ek5pDRMMK21tHJlceS1xOc9Kna4F0DD2ZwQH/LAzH0ML0p6.', 'Mickey', 'Mouse', false);</code></p>\n<p>I always revieve this error message</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;insert into users (user_id, username, password, first_name, last_name, admin) values (1, 'mickey', '$2a$10$kSqU.ek5pDRMMK21tHJlceS1xOc9Kna4F0DD2ZwQH/LAzH0ML0p6.', 'Mickey', 'Mouse', False)&quot; via JDBC [data exception: string data, right truncation]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.tool.schema.internal.Helper.applyScript(Helper.java:255) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportFiles(SchemaCreatorImpl.java:650) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:569) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:184) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:254) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:293) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1458) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.13.jar:6.0.13]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.13.jar:6.0.13]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.13.jar:6.0.13]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.13.jar:6.0.13]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]\n    at com.masm.quickpoll.QuickPollApplication.main(QuickPollApplication.java:10) ~[classes/:na]\nCaused by: java.sql.SQLDataException: data exception: string data, right truncation\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.7.2.jar:2.7.2]\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.7.2.jar:2.7.2]\n    at org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source) ~[hsqldb-2.7.2.jar:2.7.2]\n    at org.hsqldb.jdbc.JDBCStatement.execute(Unknown Source) ~[hsqldb-2.7.2.jar:2.7.2]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    ... 39 common frames omitted\n\n</code></pre>\n<p>Can anyone help me?</p>\n"},{"tags":["java","spring-boot","spring-mvc","swagger","coding-style"],"answers":[{"tags":[],"owner":{"account_id":23220522,"reputation":28,"user_id":17312822,"display_name":"Romario"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700663150,"creation_date":1700663150,"answer_id":77530765,"question_id":77451256,"body_markdown":"I assume you use spring boot, is it correct?\r\nIf yes, have you tried to add\r\n\r\n    spring.mvc.pathmatch.matching-strategy: ant_path_matcher\r\n\r\nin your **application.yaml** file?\r\n\r\nalso, consider to use \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n        &lt;version&gt;insert_version_here&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\ninstead of 2 *springfox* dependencies\r\n\r\nI had the same issue, but since I have spring boot 2.7 and use actuator I had to migrate to \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt; \r\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;insert_version_here&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nSome additional refactoring was required but *springfox* actually has a lot of bugs, so it was easier to migrate to *springdoc* than maintain *springfox* implementation.","title":"configuring swagger in springboot aplc getting error","body":"<p>I assume you use spring boot, is it correct?\nIf yes, have you tried to add</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy: ant_path_matcher\n</code></pre>\n<p>in your <strong>application.yaml</strong> file?</p>\n<p>also, consider to use</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n    &lt;version&gt;insert_version_here&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>instead of 2 <em>springfox</em> dependencies</p>\n<p>I had the same issue, but since I have spring boot 2.7 and use actuator I had to migrate to</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt; \n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;insert_version_here&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Some additional refactoring was required but <em>springfox</em> actually has a lot of bugs, so it was easier to migrate to <em>springdoc</em> than maintain <em>springfox</em> implementation.</p>\n"}],"owner":{"account_id":29861554,"reputation":11,"user_id":22885093,"display_name":"Naveen Chowdary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700663150,"creation_date":1699515213,"question_id":77451256,"body_markdown":"I am trying to configure swagger in my spring application getting this error:\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;org.springframework.web.servlet.mvc.method.RequestMappingInfo.getPatternsCondition()&quot; is null\r\n\tat springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:113) ~[springfox-spi-2.4.0.jar:2.4.0]\r\n\tat springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:110) ~[springfox-spi-2.4.0.jar:2.4.0]\r\n```\r\n\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n  \r\nUsing Spring 2.4.17.\r\n\r\nI am trying to configure swagger in Spring but i got above error.","title":"configuring swagger in springboot aplc getting error","body":"<p>I am trying to configure swagger in my spring application getting this error:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;org.springframework.web.servlet.mvc.method.RequestMappingInfo.getPatternsCondition()&quot; is null\n    at springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:113) ~[springfox-spi-2.4.0.jar:2.4.0]\n    at springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:110) ~[springfox-spi-2.4.0.jar:2.4.0]\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Using Spring 2.4.17.</p>\n<p>I am trying to configure swagger in Spring but i got above error.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700659114,"post_id":77530254,"comment_id":136681442,"body_markdown":"Looks like you&#39;ve got a badly named file. What does `dir &#39;C:\\Users\\PC.m2\\repository\\net\\minidev\\json-smart\\maven-metadata-https:\\sss.jfrog.io\\resolver-status.properties&#39;` give you?","body":"Looks like you&#39;ve got a badly named file. What does <code>dir &#39;C:\\Users\\PC.m2\\repository\\net\\minidev\\json-smart\\maven-meta&zwnj;&#8203;data-https:\\sss.jfro&zwnj;&#8203;g.io\\resolver-status&zwnj;&#8203;.properties&#39;</code> give you?"},{"owner":{"account_id":29966594,"reputation":11,"user_id":22965032,"display_name":"Sathsara Wijekulasuriya"},"score":0,"creation_date":1700659471,"post_id":77530254,"comment_id":136681528,"body_markdown":"There is no file on this path.","body":"There is no file on this path."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700659812,"post_id":77530254,"comment_id":136681595,"body_markdown":"I would be tempted to search for the string or the plain last part of the file name (resolver-status.properties) but that&#39;s really just investigative. Someone here might know what&#39;s actually behind this problem","body":"I would be tempted to search for the string or the plain last part of the file name (resolver-status.properties) but that&#39;s really just investigative. Someone here might know what&#39;s actually behind this problem"},{"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"score":0,"creation_date":1700740515,"post_id":77530254,"comment_id":136693014,"body_markdown":"Does the issue persist? That file might have been removed since then by git or Maven. Based on the error it was there at some point and was most likely malformed.","body":"Does the issue persist? That file might have been removed since then by git or Maven. Based on the error it was there at some point and was most likely malformed."}],"owner":{"account_id":29966594,"reputation":11,"user_id":22965032,"display_name":"Sathsara Wijekulasuriya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700662819,"creation_date":1700658958,"question_id":77530254,"body_markdown":"I tried to execute `mvn clean install` command in cloned repository from git. But I got this error message while executing above command. \r\n\r\n**Illegal char &lt;:&gt; at index 76: C:\\Users\\PC\\.m2\\repository\\net\\minidev\\json-smart\\maven-metadata-https:\\sss.jfrog.io\\resolver-status.properties**\r\n\r\n\r\nI tried to download dependencies in pom.xml file.","title":"Maven clean install Failed (Illegal char &lt;:&gt; at index 76:)","body":"<p>I tried to execute <code>mvn clean install</code> command in cloned repository from git. But I got this error message while executing above command.</p>\n<p><strong>Illegal char &lt;:&gt; at index 76: C:\\Users\\PC.m2\\repository\\net\\minidev\\json-smart\\maven-metadata-https:\\sss.jfrog.io\\resolver-status.properties</strong></p>\n<p>I tried to download dependencies in pom.xml file.</p>\n"},{"tags":["java","authentication","jsp"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1700672002,"post_id":77530685,"comment_id":136684195,"body_markdown":"Does [this](https://stackoverflow.com/a/35100391/573032) answer help you?","body":"Does <a href=\"https://stackoverflow.com/a/35100391/573032\">this</a> answer help you?"}],"owner":{"account_id":29963392,"reputation":1,"user_id":22962503,"display_name":"moumou yi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700662504,"creation_date":1700662504,"question_id":77530685,"body_markdown":"[enter image description here](https://i.stack.imgur.com/2eHEc.png)\r\nI am searching for a long time on net. But no use. Please help or try to give some ideas how to achieve this.this login in.jsp cant jump \r\n\r\n\r\nthe page I expected to jump to another page,but it cant,console has the worning about quirk mode,I cant solve it .please forgive my poor English\r\n","title":"java about login in .jsp cant jump","body":"<p><a href=\"https://i.stack.imgur.com/2eHEc.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI am searching for a long time on net. But no use. Please help or try to give some ideas how to achieve this.this login in.jsp cant jump</p>\n<p>the page I expected to jump to another page,but it cant,console has the worning about quirk mode,I cant solve it .please forgive my poor English</p>\n"},{"tags":["java","spring","spring-boot","spring-test","spring-web"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1456910639,"post_id":35742920,"comment_id":59159575,"body_markdown":"Switch the order of the imports, they are parsed in the way they are read, so the later ones override the previous ones.","body":"Switch the order of the imports, they are parsed in the way they are read, so the later ones override the previous ones."},{"owner":{"account_id":1192900,"reputation":3556,"user_id":1165292,"accept_rate":69,"display_name":"mvlupan"},"score":0,"creation_date":1456910824,"post_id":35742920,"comment_id":59159723,"body_markdown":"Tried it ...same thing. I`ll update my question to reflect the changes","body":"Tried it ...same thing. I`ll update my question to reflect the changes"},{"owner":{"account_id":341912,"reputation":1589,"user_id":672780,"accept_rate":100,"display_name":"LoganMzz"},"score":0,"creation_date":1504192788,"post_id":35742920,"comment_id":78929705,"body_markdown":"Possible duplicate of [Overriding an Autowired Bean in Unit Tests](https://stackoverflow.com/questions/28605833/overriding-an-autowired-bean-in-unit-tests)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/28605833/overriding-an-autowired-bean-in-unit-tests\">Overriding an Autowired Bean in Unit Tests</a>"}],"answers":[{"comments":[{"owner":{"account_id":1192900,"reputation":3556,"user_id":1165292,"accept_rate":69,"display_name":"mvlupan"},"score":2,"creation_date":1456923865,"post_id":35746352,"comment_id":59169195,"body_markdown":"I tried the second suggestion and it works great. Thanks for the hint..I feel this is the &quot;correct&quot; way to go.","body":"I tried the second suggestion and it works great. Thanks for the hint..I feel this is the &quot;correct&quot; way to go."},{"owner":{"account_id":444896,"reputation":1010,"user_id":837005,"accept_rate":50,"display_name":"DaddyMoe"},"score":2,"creation_date":1546451063,"post_id":35746352,"comment_id":94858380,"body_markdown":"Thanks.  Option 1 worked for me with a simple `@Primary` annotation on my TestMock Bean which took precedent over the Production one for `@Autowire` of fields in my Test classes.  Apart from this `@Primary` annotation, no other change was required.","body":"Thanks.  Option 1 worked for me with a simple <code>@Primary</code> annotation on my TestMock Bean which took precedent over the Production one for <code>@Autowire</code> of fields in my Test classes.  Apart from this <code>@Primary</code> annotation, no other change was required."},{"owner":{"account_id":164143,"reputation":4830,"user_id":386718,"accept_rate":92,"display_name":"Stijn Van Bael"},"score":0,"creation_date":1611673201,"post_id":35746352,"comment_id":116522803,"body_markdown":"This is the way. When using `@Primary`, make sure to use `@Configuration` and not `@TestConfiguration`. Also `@Primary` seems to clash with `@LocalServerPort` in the same configuration class.","body":"This is the way. When using <code>@Primary</code>, make sure to use <code>@Configuration</code> and not <code>@TestConfiguration</code>. Also <code>@Primary</code> seems to clash with <code>@LocalServerPort</code> in the same configuration class."},{"owner":{"account_id":1371468,"reputation":5748,"user_id":1306546,"accept_rate":79,"display_name":"Rens Verhage"},"score":1,"creation_date":1619798538,"post_id":35746352,"comment_id":119021913,"body_markdown":"Note that when using `@Primary`, this doesn&#39;t prevent both beans from being created. That said, `@Primary` is not suitable when there is some `@PostConstruct` initialization code you don&#39;t want to execute.","body":"Note that when using <code>@Primary</code>, this doesn&#39;t prevent both beans from being created. That said, <code>@Primary</code> is not suitable when there is some <code>@PostConstruct</code> initialization code you don&#39;t want to execute."},{"owner":{"account_id":9786023,"reputation":180,"user_id":7252334,"display_name":"Markus"},"score":3,"creation_date":1632747296,"post_id":35746352,"comment_id":122568962,"body_markdown":"This solution does not work when production code contains multiple such beans and one of them is already marked as `@Primary` (while others use @Qualifier). This solution essentially abuses the disambiguation mechanism for something it isn&#39;t intended for.","body":"This solution does not work when production code contains multiple such beans and one of them is already marked as <code>@Primary</code> (while others use @Qualifier). This solution essentially abuses the disambiguation mechanism for something it isn&#39;t intended for."},{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":0,"creation_date":1633420316,"post_id":35746352,"comment_id":122747961,"body_markdown":"Marcus, This answer was workaround before Spring Boot introduced @MockedBean annotation. So this answer is outdated and you should follow accepted one.","body":"Marcus, This answer was workaround before Spring Boot introduced @MockedBean annotation. So this answer is outdated and you should follow accepted one."},{"owner":{"account_id":5650328,"reputation":1113,"user_id":4471199,"display_name":"RoBeaToZ"},"score":0,"creation_date":1646736026,"post_id":35746352,"comment_id":126192257,"body_markdown":"Worked for me with static inner class and `@TestConfiguration`","body":"Worked for me with static inner class and <code>@TestConfiguration</code>"}],"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"comment_count":7,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1575247120,"creation_date":1456919278,"answer_id":35746352,"question_id":35742920,"body_markdown":"1.\r\nYou can use `@Primary` annotation:\r\n\r\n    @Configuration\r\n    public class MockRestTemplateConfiguration {\r\n    \r\n        @Bean\r\n        @Primary\r\n        public RestTemplate restTemplate() {\r\n            return Mockito.mock(RestTemplate.class)\r\n        }\r\n    }\r\n\r\nBTW, I wrote [blog post about faking Spring bean][1]\r\n\r\n2.\r\nBut I would suggest to take a look at [Spring RestTemplate testing support][2]. This would be simple example:\r\n      \r\n      private MockRestServiceServer mockServer;\r\n\r\n      @Autowired\r\n      private RestTemplate restTemplate;\r\n    \r\n      @Autowired\r\n      private UsersClient usersClient;\r\n    \r\n      @BeforeMethod\r\n      public void init() {\r\n        mockServer = MockRestServiceServer.createServer(restTemplate);\r\n      }\r\n\r\n      @Test\r\n      public void testSingleGet() throws Exception {\r\n        // GIVEN\r\n        int testingIdentifier = 0;\r\n        mockServer.expect(requestTo(USERS_URL + &quot;/&quot; + testingIdentifier))\r\n          .andExpect(method(HttpMethod.GET))\r\n          .andRespond(withSuccess(TEST_RECORD0, MediaType.APPLICATION_JSON));\r\n\r\n    \r\n        // WHEN\r\n        User user = usersClient.getUser(testingIdentifier);\r\n    \r\n        // THEN\r\n        mockServer.verify();\r\n        assertEquals(user.getName(), USER0_NAME);\r\n        assertEquals(user.getEmail(), USER0_EMAIL);\r\n      }\r\n\r\nMore examples can be found in [my Github repo here][3]\r\n\r\n\r\n  [1]: https://lkrnac.net/blog/2015/12/mock-spring-bean-v2/\r\n  [2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#spring-mvc-test-client\r\n  [3]: https://github.com/lkrnac/book-eiws-code-samples/blob/master/04-rest/0404-rest-boot-client/src/test/java/net/lkrnac/book/eiws/chapter04/client/RestClientBootApplicationTest.java\r\n","title":"Overriding beans in Integration tests","body":"<p>1.\nYou can use <code>@Primary</code> annotation:</p>\n\n<pre><code>@Configuration\npublic class MockRestTemplateConfiguration {\n\n    @Bean\n    @Primary\n    public RestTemplate restTemplate() {\n        return Mockito.mock(RestTemplate.class)\n    }\n}\n</code></pre>\n\n<p>BTW, I wrote <a href=\"https://lkrnac.net/blog/2015/12/mock-spring-bean-v2/\" rel=\"noreferrer\">blog post about faking Spring bean</a></p>\n\n<p>2.\nBut I would suggest to take a look at <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#spring-mvc-test-client\" rel=\"noreferrer\">Spring RestTemplate testing support</a>. This would be simple example:</p>\n\n<pre><code>  private MockRestServiceServer mockServer;\n\n  @Autowired\n  private RestTemplate restTemplate;\n\n  @Autowired\n  private UsersClient usersClient;\n\n  @BeforeMethod\n  public void init() {\n    mockServer = MockRestServiceServer.createServer(restTemplate);\n  }\n\n  @Test\n  public void testSingleGet() throws Exception {\n    // GIVEN\n    int testingIdentifier = 0;\n    mockServer.expect(requestTo(USERS_URL + \"/\" + testingIdentifier))\n      .andExpect(method(HttpMethod.GET))\n      .andRespond(withSuccess(TEST_RECORD0, MediaType.APPLICATION_JSON));\n\n\n    // WHEN\n    User user = usersClient.getUser(testingIdentifier);\n\n    // THEN\n    mockServer.verify();\n    assertEquals(user.getName(), USER0_NAME);\n    assertEquals(user.getEmail(), USER0_EMAIL);\n  }\n</code></pre>\n\n<p>More examples can be found in <a href=\"https://github.com/lkrnac/book-eiws-code-samples/blob/master/04-rest/0404-rest-boot-client/src/test/java/net/lkrnac/book/eiws/chapter04/client/RestClientBootApplicationTest.java\" rel=\"noreferrer\">my Github repo here</a></p>\n"},{"comments":[{"owner":{"account_id":1192900,"reputation":3556,"user_id":1165292,"accept_rate":69,"display_name":"mvlupan"},"score":1,"creation_date":1483530197,"post_id":41455418,"comment_id":70131399,"body_markdown":"agree that this is the way to go in most cases. The down-side that I found with this approach is that you will lose the benefit of Context caching in your next test class. To make our integrations tests as fast as possible we extend  one class whenever possible.","body":"agree that this is the way to go in most cases. The down-side that I found with this approach is that you will lose the benefit of Context caching in your next test class. To make our integrations tests as fast as possible we extend  one class whenever possible."},{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":1,"creation_date":1483541367,"post_id":41455418,"comment_id":70138796,"body_markdown":"true, but sometimes there&#39;s no other way. E.g. when you need to fake external services.","body":"true, but sometimes there&#39;s no other way. E.g. when you need to fake external services."},{"owner":{"account_id":424764,"reputation":2897,"user_id":804954,"display_name":"notclive"},"score":0,"creation_date":1495061789,"post_id":41455418,"comment_id":75098670,"body_markdown":"The annotation is @MockBean, see https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-mocking-beans","body":"The annotation is @MockBean, see <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-mocking-beans\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":3906953,"reputation":11659,"user_id":3233398,"accept_rate":9,"display_name":"EliuX"},"score":0,"creation_date":1514337211,"post_id":41455418,"comment_id":82939505,"body_markdown":"This is a good solution, but my problem cannot be solved this way because I am doing AOP security-related testing.","body":"This is a good solution, but my problem cannot be solved this way because I am doing AOP security-related testing."},{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":0,"creation_date":1514366032,"post_id":41455418,"comment_id":82947167,"body_markdown":"If you use AOP proxies, I recommend looking into my other answer, where I linked Github repository. That repository contains example how to mock AOP proxied Spring bean.","body":"If you use AOP proxies, I recommend looking into my other answer, where I linked Github repository. That repository contains example how to mock AOP proxied Spring bean."},{"owner":{"account_id":2513760,"reputation":840,"user_id":2185612,"accept_rate":33,"display_name":"WeGa"},"score":0,"creation_date":1633934574,"post_id":41455418,"comment_id":122882380,"body_markdown":"This solution is hard to apply, when the mocked bean is passed as a parameter, and you don&#39;t know exactly, what methods will be called. For example, if you need to mock java.time.Clock to Clock.fixed() instance","body":"This solution is hard to apply, when the mocked bean is passed as a parameter, and you don&#39;t know exactly, what methods will be called. For example, if you need to mock java.time.Clock to Clock.fixed() instance"},{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":0,"creation_date":1633952235,"post_id":41455418,"comment_id":122888814,"body_markdown":"@WeGa, don&#39;t understand your comment. I suggest to create separate question with exact example and somebody would answer directly your example. I am sure it is possible with `MockedBean` annotation.","body":"@WeGa, don&#39;t understand your comment. I suggest to create separate question with exact example and somebody would answer directly your example. I am sure it is possible with <code>MockedBean</code> annotation."},{"owner":{"account_id":2513760,"reputation":840,"user_id":2185612,"accept_rate":33,"display_name":"WeGa"},"score":0,"creation_date":1634130447,"post_id":41455418,"comment_id":122943214,"body_markdown":"@luboskrnac, actually, it&#39;s a statement, not a question. With MockBean annotation you replace bean with mock object which behaviour is undefined unless you explicitly provide it with `Mockito.when(mockBean.doSmth).then_`. In my example above, Clock is an object with rich api, in test, I want for it to be fixed moment of time, and it should behave like that with every method it has. With MockBean it wouild be pain in the neck to implement","body":"@luboskrnac, actually, it&#39;s a statement, not a question. With MockBean annotation you replace bean with mock object which behaviour is undefined unless you explicitly provide it with <code>Mockito.when(mockBean.doSmth).then_</code>. In my example above, Clock is an object with rich api, in test, I want for it to be fixed moment of time, and it should behave like that with every method it has. With MockBean it wouild be pain in the neck to implement"}],"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"comment_count":8,"down_vote_count":1,"up_vote_count":58,"is_accepted":true,"score":57,"last_activity_date":1495086026,"creation_date":1483497845,"answer_id":41455418,"question_id":35742920,"body_markdown":"Since Spring Boot 1.4.x there is an option to use `@MockBean` annotation to fake Spring beans.\r\n\r\n**Reaction on comment:**\r\n\r\nTo keep context in cache do not use `@DirtiesContext`, but use `@ContextConfiguration(name = &quot;contextWithFakeBean&quot;)` and it will create separate context, while it will keep default context in cache. Spring will  keep both (or how many contexts you have) in cache. \r\n\r\nOur build is this way, where most of the tests are using default non-poluted config, but we have 4-5 tests that are faking beans. Default context is nicely reused","title":"Overriding beans in Integration tests","body":"<p>Since Spring Boot 1.4.x there is an option to use <code>@MockBean</code> annotation to fake Spring beans.</p>\n\n<p><strong>Reaction on comment:</strong></p>\n\n<p>To keep context in cache do not use <code>@DirtiesContext</code>, but use <code>@ContextConfiguration(name = \"contextWithFakeBean\")</code> and it will create separate context, while it will keep default context in cache. Spring will  keep both (or how many contexts you have) in cache. </p>\n\n<p>Our build is this way, where most of the tests are using default non-poluted config, but we have 4-5 tests that are faking beans. Default context is nicely reused</p>\n"},{"comments":[{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":1,"creation_date":1616140979,"post_id":51619288,"comment_id":117914496,"body_markdown":"In my case it&#180;s the other way round","body":"In my case it&#180;s the other way round"},{"owner":{"account_id":2137291,"reputation":121,"user_id":1896730,"display_name":"JyotiKumarPoddar"},"score":0,"creation_date":1650372522,"post_id":51619288,"comment_id":127095083,"body_markdown":"you need to add   spring.main.allow-bean-definition-overriding=true","body":"you need to add   spring.main.allow-bean-definition-overriding=true"}],"tags":[],"owner":{"account_id":4972328,"reputation":949,"user_id":3999686,"display_name":"Torsten"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1557760898,"creation_date":1533059490,"answer_id":51619288,"question_id":35742920,"body_markdown":"*Getting a little deeper into it, **see my second answer**.*\r\n\r\nI solved the Problem using \r\n\r\n    @SpringBootTest(classes = {AppConfiguration.class, AppTestConfiguration.class})\r\n\r\ninstead of\r\n    \r\n    @Import({ AppConfiguration.class, AppTestConfiguration.class });\r\n\r\nIn my case the Test is not in the same package as the App. So I need to specify the AppConfiguration.class (or the App.class) explicit. If you use the same package in the test, than I guess you could just write\r\n   \r\n    @SpringBootTest(classes = AppTestConfiguration.class)\r\n\r\ninstead of (not working)\r\n\r\n    @Import(AppTestConfiguration.class );\r\n\r\nIt is pretty wired to see that this is so different. Maybe some one can explain this. I could not find any good answers until now. You might think, `@Import(...)` is not picked up if `@SpringBootTests`is present, but in the log the overriding bean shows up. But just the wrong way around.\r\n\r\nBy the way, using `@TestConfiguration` instead `@Configuration` also makes no difference.","title":"Overriding beans in Integration tests","body":"<p><em>Getting a little deeper into it, <strong>see my second answer</strong>.</em></p>\n\n<p>I solved the Problem using </p>\n\n<pre><code>@SpringBootTest(classes = {AppConfiguration.class, AppTestConfiguration.class})\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>@Import({ AppConfiguration.class, AppTestConfiguration.class });\n</code></pre>\n\n<p>In my case the Test is not in the same package as the App. So I need to specify the AppConfiguration.class (or the App.class) explicit. If you use the same package in the test, than I guess you could just write</p>\n\n<pre><code>@SpringBootTest(classes = AppTestConfiguration.class)\n</code></pre>\n\n<p>instead of (not working)</p>\n\n<pre><code>@Import(AppTestConfiguration.class );\n</code></pre>\n\n<p>It is pretty wired to see that this is so different. Maybe some one can explain this. I could not find any good answers until now. You might think, <code>@Import(...)</code> is not picked up if <code>@SpringBootTests</code>is present, but in the log the overriding bean shows up. But just the wrong way around.</p>\n\n<p>By the way, using <code>@TestConfiguration</code> instead <code>@Configuration</code> also makes no difference.</p>\n"},{"comments":[{"owner":{"account_id":1726786,"reputation":2131,"user_id":1581266,"accept_rate":83,"display_name":"eugen-fried"},"score":0,"creation_date":1578490082,"post_id":54688138,"comment_id":105454740,"body_markdown":"Disclaimer: this annotation is not supported in earlier Spring versions, it is available since Spring Boot 1.4.0","body":"Disclaimer: this annotation is not supported in earlier Spring versions, it is available since Spring Boot 1.4.0"},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":13,"creation_date":1601599232,"post_id":54688138,"comment_id":113464677,"body_markdown":"So what does &quot;override&quot; mean if even overridden beans will be created?","body":"So what does &quot;override&quot; mean if even overridden beans will be created?"},{"owner":{"account_id":23949,"reputation":63054,"user_id":60518,"accept_rate":59,"display_name":"Tim B&#252;the"},"score":0,"creation_date":1648753517,"post_id":54688138,"comment_id":126711460,"body_markdown":"I think `AppConfig`and `AppTestConfig` should be classes, not methods. E.g. ```@Configuration\npublic class AppConfig { \n    // Define any beans\n}```","body":"I think <code>AppConfig</code>and <code>AppTestConfig</code> should be classes, not methods. E.g. <code>@Configuration public class AppConfig {      &#47;&#47; Define any beans }</code>"},{"owner":{"account_id":397729,"reputation":430,"user_id":762023,"display_name":"coderazzi"},"score":3,"creation_date":1649408691,"post_id":54688138,"comment_id":126872894,"body_markdown":"It works nicely, but if you are overriding beans, since Spring Boot 2.1 the bean overriding feature is disabled by default, and you need to use the property: &quot;spring.main.allow-bean-definition-overriding=true&quot;","body":"It works nicely, but if you are overriding beans, since Spring Boot 2.1 the bean overriding feature is disabled by default, and you need to use the property: &quot;spring.main.allow-bean-definition-overriding=true&quot;"}],"tags":[],"owner":{"account_id":4972328,"reputation":949,"user_id":3999686,"display_name":"Torsten"},"comment_count":4,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1554119795,"creation_date":1550139896,"answer_id":54688138,"question_id":35742920,"body_markdown":"The Problem in your configuration is that you are using `@Configuration` for your test configuration. This will replace your main configuration. Instead use **`@TestConfiguration`** which will append (override) your main configuration.\r\n\r\n[46.3.2 Detecting Test Configuration][1]\r\n&gt; If you want to customize the primary configuration, you can use a\r\n&gt; nested @TestConfiguration class. Unlike a nested @Configuration class,\r\n&gt; which would be used instead of your application’s primary\r\n&gt; configuration, a nested @TestConfiguration class is used in addition\r\n&gt; to your application’s primary configuration.\r\n\r\nExample using SpringBoot:\r\n\r\n**Main class**  \r\n\r\n    @SpringBootApplication() // Will scan for @Components and @Configs in package tree\r\n    public class Main{\r\n    }\r\n\r\n**Main config**\r\n \r\n    @Configuration\r\n    public void AppConfig() { \r\n        // Define any beans\r\n    }\r\n\r\n**Test config**\r\n\r\n    @TestConfiguration\r\n    public void AppTestConfig(){\r\n        // override beans for testing\r\n    } \r\n\r\n**Test class**\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @Import(AppTestConfig.class)\r\n    @SpringBootTest\r\n    public void AppTest() {\r\n        // use @MockBean if you like\r\n    }\r\n\r\nNote: Be aware, that all Beans will be created, even those that you override. Use `@Profile` if you wish not to instantiate a `@Configuration`.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-detecting-config","title":"Overriding beans in Integration tests","body":"<p>The Problem in your configuration is that you are using <code>@Configuration</code> for your test configuration. This will replace your main configuration. Instead use <strong><code>@TestConfiguration</code></strong> which will append (override) your main configuration.</p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-detecting-config\" rel=\"noreferrer\">46.3.2 Detecting Test Configuration</a></p>\n\n<blockquote>\n  <p>If you want to customize the primary configuration, you can use a\n  nested @TestConfiguration class. Unlike a nested @Configuration class,\n  which would be used instead of your application’s primary\n  configuration, a nested @TestConfiguration class is used in addition\n  to your application’s primary configuration.</p>\n</blockquote>\n\n<p>Example using SpringBoot:</p>\n\n<p><strong>Main class</strong>  </p>\n\n<pre><code>@SpringBootApplication() // Will scan for @Components and @Configs in package tree\npublic class Main{\n}\n</code></pre>\n\n<p><strong>Main config</strong></p>\n\n<pre><code>@Configuration\npublic void AppConfig() { \n    // Define any beans\n}\n</code></pre>\n\n<p><strong>Test config</strong></p>\n\n<pre><code>@TestConfiguration\npublic void AppTestConfig(){\n    // override beans for testing\n} \n</code></pre>\n\n<p><strong>Test class</strong></p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@Import(AppTestConfig.class)\n@SpringBootTest\npublic void AppTest() {\n    // use @MockBean if you like\n}\n</code></pre>\n\n<p>Note: Be aware, that all Beans will be created, even those that you override. Use <code>@Profile</code> if you wish not to instantiate a <code>@Configuration</code>.</p>\n"},{"tags":[],"owner":{"account_id":5648860,"reputation":9049,"user_id":4470135,"accept_rate":54,"display_name":"yuranos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554358550,"creation_date":1554358550,"answer_id":55509055,"question_id":35742920,"body_markdown":"Check [this][1] answer along with others provided in that thread.\r\nIt&#39;s about overriding bean in Spring Boot 2.X, where this option was disabled by default. It also has some ideas about how to use Bean Definition DSL if you decided to take that path.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/55472911/4470135","title":"Overriding beans in Integration tests","body":"<p>Check <a href=\"https://stackoverflow.com/a/55472911/4470135\">this</a> answer along with others provided in that thread.\nIt's about overriding bean in Spring Boot 2.X, where this option was disabled by default. It also has some ideas about how to use Bean Definition DSL if you decided to take that path.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1565010637,"creation_date":1565010637,"answer_id":57359316,"question_id":35742920,"body_markdown":"`@MockBean` and bean overriding used by the OP are two complementary approaches.  \r\n\r\nYou want to use `@MockBean` to create a mock and forget the real implementation : generally you do that for slice testing or integration testing that doesn&#39;t load some beans which class(es) you are testing depend on and **that you don&#39;t want to test these beans in integration**.    \r\nSpring makes them by default `null`, you will mock the minimal behavior for them to fulfill your test.  \r\n\r\n`@WebMvcTest` requires very often that strategy as you don&#39;t want to test the whole layers and `@SpringBootTest` may also require that if you specify only a subset of your beans configuration in the test configuration.   \r\n\r\nOn the other hand, sometimes you want to perform an integration test with as many real components as possible, so you don&#39;t want to use `@MockBean` but you want to override slightly a behavior, a dependency or define a new scope for a bean, in this case, the approach to follow is bean overriding : \r\n\r\n    @SpringBootTest({&quot;spring.main.allow-bean-definition-overriding=true&quot;})\r\n    @Import(FooTest.OverrideBean.class)\r\n    public class FooTest{    \r\n    \r\n        @Test\r\n        public void getFoo() throws Exception {\r\n            // ...     \r\n        }\r\n    \r\n        @TestConfiguration\r\n        public static class OverrideBean {    \r\n    \r\n            // change the bean scope to SINGLETON\r\n            @Bean\r\n            @Scope(ConfigurableBeanFactory.SINGLETON)\r\n            public Bar bar() {\r\n                 return new Bar();\r\n            }\r\n\r\n            // use a stub for a bean \r\n            @Bean\r\n            public FooBar BarFoo() {\r\n                 return new BarFooStub();\r\n            }\r\n\r\n            // use a stub for the dependency of a bean \r\n            @Bean\r\n            public FooBar fooBar() {\r\n                 return new FooBar(new StubDependency());\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Overriding beans in Integration tests","body":"<p><code>@MockBean</code> and bean overriding used by the OP are two complementary approaches.  </p>\n\n<p>You want to use <code>@MockBean</code> to create a mock and forget the real implementation : generally you do that for slice testing or integration testing that doesn't load some beans which class(es) you are testing depend on and <strong>that you don't want to test these beans in integration</strong>.<br>\nSpring makes them by default <code>null</code>, you will mock the minimal behavior for them to fulfill your test.  </p>\n\n<p><code>@WebMvcTest</code> requires very often that strategy as you don't want to test the whole layers and <code>@SpringBootTest</code> may also require that if you specify only a subset of your beans configuration in the test configuration.   </p>\n\n<p>On the other hand, sometimes you want to perform an integration test with as many real components as possible, so you don't want to use <code>@MockBean</code> but you want to override slightly a behavior, a dependency or define a new scope for a bean, in this case, the approach to follow is bean overriding : </p>\n\n<pre><code>@SpringBootTest({\"spring.main.allow-bean-definition-overriding=true\"})\n@Import(FooTest.OverrideBean.class)\npublic class FooTest{    \n\n    @Test\n    public void getFoo() throws Exception {\n        // ...     \n    }\n\n    @TestConfiguration\n    public static class OverrideBean {    \n\n        // change the bean scope to SINGLETON\n        @Bean\n        @Scope(ConfigurableBeanFactory.SINGLETON)\n        public Bar bar() {\n             return new Bar();\n        }\n\n        // use a stub for a bean \n        @Bean\n        public FooBar BarFoo() {\n             return new BarFooStub();\n        }\n\n        // use a stub for the dependency of a bean \n        @Bean\n        public FooBar fooBar() {\n             return new FooBar(new StubDependency());\n        }\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8220042,"reputation":181,"user_id":6184926,"display_name":"Jakub Moravec"},"score":0,"creation_date":1651051294,"post_id":64258454,"comment_id":127268019,"body_markdown":"This helped me a lot, thanks!","body":"This helped me a lot, thanks!"},{"owner":{"account_id":5733229,"reputation":546,"user_id":4528146,"display_name":"Tasos Zervos"},"score":4,"creation_date":1652202609,"post_id":64258454,"comment_id":127547960,"body_markdown":"Is it [] or {} in:\n`@SpringBootTest(properties = [&quot;spring.main.allow-bean-definition-overriding=true&quot;])`","body":"Is it [] or {} in: <code>@SpringBootTest(properties = [&quot;spring.main.allow-bean-definition-overriding=true&quot;])</code>"}],"tags":[],"owner":{"account_id":15532897,"reputation":574,"user_id":11205852,"display_name":"ynerdy"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1619678990,"creation_date":1602144949,"answer_id":64258454,"question_id":35742920,"body_markdown":"With @Primary annotation, Bean overriding works with Spring Boot 1.5.X but fails with Spring Boot 2.1.X it throw error:\r\n\r\n    Invalid bean definition with name &#39;testBean&#39; defined in sample..ConfigTest$SpringConfig:.. \r\n    There is already .. defined in class path resource [TestConfig.class]] bound\r\n\r\nPlease add below `properties=` which will instruct Spring explicitly to allow overriding, it is self explainatory.\r\n\r\n    @SpringBootTest(properties = [&quot;spring.main.allow-bean-definition-overriding=true&quot;])\r\n\r\n\r\nUPDATE: You can add the same property in application-test.yml (file name depend upon what test profile name you are tests with)","title":"Overriding beans in Integration tests","body":"<p>With @Primary annotation, Bean overriding works with Spring Boot 1.5.X but fails with Spring Boot 2.1.X it throw error:</p>\n<pre><code>Invalid bean definition with name 'testBean' defined in sample..ConfigTest$SpringConfig:.. \nThere is already .. defined in class path resource [TestConfig.class]] bound\n</code></pre>\n<p>Please add below <code>properties=</code> which will instruct Spring explicitly to allow overriding, it is self explainatory.</p>\n<pre><code>@SpringBootTest(properties = [&quot;spring.main.allow-bean-definition-overriding=true&quot;])\n</code></pre>\n<p>UPDATE: You can add the same property in application-test.yml (file name depend upon what test profile name you are tests with)</p>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1616141418,"creation_date":1616141418,"answer_id":66704560,"question_id":35742920,"body_markdown":"I&#180;ve declared an inner configuration class within my test because I wanted to overwrite just a single method\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class FileNotificationWebhookTest{\r\n    \r\n        public static class FileNotificationWebhookTestConfiguration {\r\n            @Bean\r\n            @Primary\r\n            public FileJobRequestConverter fileJobRequestConverter() {\r\n                return new FileJobRequestConverter() {\r\n                    @Override\r\n                    protected File resolveWindowsPath(String path) {\r\n                        return new File(path);\r\n                    }\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\nHowever,\r\n\r\nDeclaring the configuration in **@SpringBootTest did not work**:\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,classes = {FileNotificationWebhookTest.FileNotificationWebhookTestConfiguration.class})\r\n\r\nor annotating the test configuration with **@Configuration did not work**:\r\n\r\n\r\n\r\n    @Configuration\r\n    public static class FileNotificationWebhookTestConfiguration {\r\n    \r\n    }\r\n\r\nand was leading to\r\n\r\n&gt; Caused by: org.springframework.context.ApplicationContextException:\r\n&gt; Unable to start web server; nested exception is\r\n&gt; org.springframework.context.ApplicationContextException: Unable to\r\n&gt; start ServletWebServerApplicationContext due to missing\r\n&gt; ServletWebServerFactory bean.\r\n\r\n\r\n**What did work for me ( contrary to some other posts here) was using @Import**\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @Import(FileNotificationWebhookTest.FileNotificationWebhookTestConfiguration.class)\r\n    class FileNotificationWebhookTest {\r\n    \r\n    }\r\n\r\n\r\nUsing Spring: 5.3.3 with Spring-Boot-Starter: 2.4.2","title":"Overriding beans in Integration tests","body":"<p>I´ve declared an inner configuration class within my test because I wanted to overwrite just a single method</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class FileNotificationWebhookTest{\n\n    public static class FileNotificationWebhookTestConfiguration {\n        @Bean\n        @Primary\n        public FileJobRequestConverter fileJobRequestConverter() {\n            return new FileJobRequestConverter() {\n                @Override\n                protected File resolveWindowsPath(String path) {\n                    return new File(path);\n                }\n            };\n        }\n    }\n}\n</code></pre>\n<p>However,</p>\n<p>Declaring the configuration in <strong>@SpringBootTest did not work</strong>:</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,classes = {FileNotificationWebhookTest.FileNotificationWebhookTestConfiguration.class})\n</code></pre>\n<p>or annotating the test configuration with <strong>@Configuration did not work</strong>:</p>\n<pre><code>@Configuration\npublic static class FileNotificationWebhookTestConfiguration {\n\n}\n</code></pre>\n<p>and was leading to</p>\n<blockquote>\n<p>Caused by: org.springframework.context.ApplicationContextException:\nUnable to start web server; nested exception is\norg.springframework.context.ApplicationContextException: Unable to\nstart ServletWebServerApplicationContext due to missing\nServletWebServerFactory bean.</p>\n</blockquote>\n<p><strong>What did work for me ( contrary to some other posts here) was using @Import</strong></p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@Import(FileNotificationWebhookTest.FileNotificationWebhookTestConfiguration.class)\nclass FileNotificationWebhookTest {\n\n}\n</code></pre>\n<p>Using Spring: 5.3.3 with Spring-Boot-Starter: 2.4.2</p>\n"},{"comments":[{"owner":{"account_id":236518,"reputation":3191,"user_id":504060,"accept_rate":71,"display_name":"kiltek"},"score":0,"creation_date":1658732697,"post_id":68601188,"comment_id":129114669,"body_markdown":"this did work for me, i do not know why, its just spring magic","body":"this did work for me, i do not know why, its just spring magic"}],"tags":[],"owner":{"account_id":4393877,"reputation":6964,"user_id":3581539,"accept_rate":48,"display_name":"Kirill"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1627726862,"creation_date":1627726862,"answer_id":68601188,"question_id":35742920,"body_markdown":"`@MockBean` creates Mockito mock instead of production build. \r\n\r\nIf you do not want to use Mockito, but provide a replacement in some other way (i.e. by disabling some features of bean with feature toggles), I suggest using combination of `@TestConfiguration` (since Spring Boot 1.4.0) and `@Primary` annotation.\r\n\r\n`@TestConfiguration` will load your default context and apply your `@TestConfiguration` piece in addition to it. Adding `@Primary` will force your mocked RestTemplate to be injected to it&#39;s dependents.\r\n\r\nSee simplified example below:\r\n\r\n```\r\n@SpringBootTest\r\npublic class ServiceTest {\r\n\r\n    @TestConfiguration\r\n    static class AdditionalCfg {\r\n        @Primary\r\n        @Bean\r\n        RestTemplate rt() {\r\n            return new RestTemplate() {\r\n                @Override\r\n                public String exec() {\r\n                    return &quot;Test rest template&quot;;\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n    @Autowired\r\n    MyService myService;\r\n\r\n    @Test\r\n    void contextLoads() {\r\n       assertThat(myService.invoke()).isEqualTo(&quot;Test rest template&quot;);\r\n    }\r\n}\r\n\r\n```","title":"Overriding beans in Integration tests","body":"<p><code>@MockBean</code> creates Mockito mock instead of production build.</p>\n<p>If you do not want to use Mockito, but provide a replacement in some other way (i.e. by disabling some features of bean with feature toggles), I suggest using combination of <code>@TestConfiguration</code> (since Spring Boot 1.4.0) and <code>@Primary</code> annotation.</p>\n<p><code>@TestConfiguration</code> will load your default context and apply your <code>@TestConfiguration</code> piece in addition to it. Adding <code>@Primary</code> will force your mocked RestTemplate to be injected to it's dependents.</p>\n<p>See simplified example below:</p>\n<pre><code>@SpringBootTest\npublic class ServiceTest {\n\n    @TestConfiguration\n    static class AdditionalCfg {\n        @Primary\n        @Bean\n        RestTemplate rt() {\n            return new RestTemplate() {\n                @Override\n                public String exec() {\n                    return &quot;Test rest template&quot;;\n                }\n            };\n        }\n    }\n\n    @Autowired\n    MyService myService;\n\n    @Test\n    void contextLoads() {\n       assertThat(myService.invoke()).isEqualTo(&quot;Test rest template&quot;);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678397359,"creation_date":1646523216,"answer_id":71366706,"question_id":35742920,"body_markdown":"The simplest solution I found was to set this property in (test) application.properties:\r\n\r\n```\r\nspring.main.allow-bean-definition-overriding=true\r\n```\r\n\r\nThis will enable overriding of beans.\r\n\r\nNext, create a configuration class in test, and annotate your bean with:\r\n\r\n```java\r\n@Bean\r\n@Primary\r\n```\r\n\r\nThis way, this bean will override your usual bean when running tests.","title":"Overriding beans in Integration tests","body":"<p>The simplest solution I found was to set this property in (test) application.properties:</p>\n<pre><code>spring.main.allow-bean-definition-overriding=true\n</code></pre>\n<p>This will enable overriding of beans.</p>\n<p>Next, create a configuration class in test, and annotate your bean with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Primary\n</code></pre>\n<p>This way, this bean will override your usual bean when running tests.</p>\n"},{"tags":[],"owner":{"account_id":313626,"reputation":1356,"user_id":628371,"display_name":"Joachim Lous"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1659619549,"creation_date":1659619549,"answer_id":73236803,"question_id":35742920,"body_markdown":"This is super weird.  \r\n\r\nIn my case, (Spring Boot 2.6.7), I could simply @Import MyTestConfiguration containing a custom @Primary @Bean into my @SpringBootTest, and everything worked.\r\n\r\nRight until I needed to explicitly name my bean.\r\n*Then* I suddenly had to resort to \r\n\r\n    @SpringBootTest(\r\n        properties = [&quot;spring.main.allow-bean-definition-overriding=true&quot;],\r\n        classes = [MyTestConfig::class],\r\n    )\r\n","title":"Overriding beans in Integration tests","body":"<p>This is super weird.</p>\n<p>In my case, (Spring Boot 2.6.7), I could simply @Import MyTestConfiguration containing a custom @Primary @Bean into my @SpringBootTest, and everything worked.</p>\n<p>Right until I needed to explicitly name my bean.\n<em>Then</em> I suddenly had to resort to</p>\n<pre><code>@SpringBootTest(\n    properties = [&quot;spring.main.allow-bean-definition-overriding=true&quot;],\n    classes = [MyTestConfig::class],\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17749076,"reputation":71,"user_id":12887709,"display_name":"Dimitrije Glisic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700662270,"creation_date":1700662270,"answer_id":77530653,"question_id":35742920,"body_markdown":"This works for me in Spring Boot 3.0.6\r\n\r\n    @SpringBootTest\r\n    class HappyCaseIT {\r\n    \r\n      @Test\r\n      void testHappyCase() {\r\n        ...\r\n      }\r\n    \r\n    }\r\n    \r\n    @SpringBootTest\r\n    // this will override what you specify but other stuff from the ApplicationContext is preserved\r\n    @Import(ErrorCaseIT.TestConfig.class)\r\n    class ErrorCaseIT {\r\n      @TestConfiguration\r\n      static class TestConfig {\r\n        // override what you want here\r\n    \t@Primary\r\n        @Bean\r\n        public Foo foo() {\r\n          ...\r\n        }\r\n      }\r\n    \r\n      @Test\r\n      public void testErrorCase() {\r\n    \t  ...\r\n      }\r\n    \r\n    }\r\n\r\n","title":"Overriding beans in Integration tests","body":"<p>This works for me in Spring Boot 3.0.6</p>\n<pre><code>@SpringBootTest\nclass HappyCaseIT {\n\n  @Test\n  void testHappyCase() {\n    ...\n  }\n\n}\n\n@SpringBootTest\n// this will override what you specify but other stuff from the ApplicationContext is preserved\n@Import(ErrorCaseIT.TestConfig.class)\nclass ErrorCaseIT {\n  @TestConfiguration\n  static class TestConfig {\n    // override what you want here\n    @Primary\n    @Bean\n    public Foo foo() {\n      ...\n    }\n  }\n\n  @Test\n  public void testErrorCase() {\n      ...\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1192900,"reputation":3556,"user_id":1165292,"accept_rate":69,"display_name":"mvlupan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148146,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"accepted_answer_id":41455418,"answer_count":12,"score":126,"last_activity_date":1700662270,"creation_date":1456910305,"question_id":35742920,"body_markdown":"For my Spring-Boot app I provide a RestTemplate though a @Configuration file so I can add sensible defaults(ex Timeouts). For my integration tests I would like to mock the RestTemplate as I dont want to connect to external services - I know what responses to expect. I tried providing a different implementation in the integration-test package in the hope that the latter will override the real implementation , but checking the logs it`s the other way around : the real implementation overrides the test one. &lt;br/&gt;&lt;br/&gt;&lt;b&gt; How can I make sure the one from the TestConfig is the one used?&lt;/b&gt;\r\n\r\nThis is my config file :\r\n\r\n    @Configuration\r\n    public class RestTemplateProvider {\r\n\r\n        private static final int DEFAULT_SERVICE_TIMEOUT = 5_000;\r\n\r\n        @Bean\r\n        public RestTemplate restTemplate(){\r\n            return new RestTemplate(buildClientConfigurationFactory());\r\n        }\r\n\r\n        private ClientHttpRequestFactory buildClientConfigurationFactory() {\r\n            HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\r\n            factory.setReadTimeout(DEFAULT_SERVICE_TIMEOUT);\r\n            factory.setConnectTimeout(DEFAULT_SERVICE_TIMEOUT);\r\n            return factory;\r\n        }\r\n    }\r\n\r\nIntegration test:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = TestConfiguration.class)\r\n    @WebAppConfiguration\r\n    @ActiveProfiles(&quot;it&quot;)\r\n    public abstract class IntegrationTest {}\r\n\r\nTestConfiguration class:\r\n\r\n    @Configuration\r\n    @Import({Application.class, MockRestTemplateConfiguration.class})\r\n    public class TestConfiguration {}\r\n\r\nAnd finally MockRestTemplateConfiguration\r\n\r\n    @Configuration\r\n    public class MockRestTemplateConfiguration {\r\n    \r\n        @Bean\r\n        public RestTemplate restTemplate() {\r\n            return Mockito.mock(RestTemplate.class)\r\n        }\r\n    }","title":"Overriding beans in Integration tests","body":"<p>For my Spring-Boot app I provide a RestTemplate though a @Configuration file so I can add sensible defaults(ex Timeouts). For my integration tests I would like to mock the RestTemplate as I dont want to connect to external services - I know what responses to expect. I tried providing a different implementation in the integration-test package in the hope that the latter will override the real implementation , but checking the logs it`s the other way around : the real implementation overrides the test one. <br/><br/><b> How can I make sure the one from the TestConfig is the one used?</b></p>\n\n<p>This is my config file :</p>\n\n<pre><code>@Configuration\npublic class RestTemplateProvider {\n\n    private static final int DEFAULT_SERVICE_TIMEOUT = 5_000;\n\n    @Bean\n    public RestTemplate restTemplate(){\n        return new RestTemplate(buildClientConfigurationFactory());\n    }\n\n    private ClientHttpRequestFactory buildClientConfigurationFactory() {\n        HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\n        factory.setReadTimeout(DEFAULT_SERVICE_TIMEOUT);\n        factory.setConnectTimeout(DEFAULT_SERVICE_TIMEOUT);\n        return factory;\n    }\n}\n</code></pre>\n\n<p>Integration test:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = TestConfiguration.class)\n@WebAppConfiguration\n@ActiveProfiles(\"it\")\npublic abstract class IntegrationTest {}\n</code></pre>\n\n<p>TestConfiguration class:</p>\n\n<pre><code>@Configuration\n@Import({Application.class, MockRestTemplateConfiguration.class})\npublic class TestConfiguration {}\n</code></pre>\n\n<p>And finally MockRestTemplateConfiguration</p>\n\n<pre><code>@Configuration\npublic class MockRestTemplateConfiguration {\n\n    @Bean\n    public RestTemplate restTemplate() {\n        return Mockito.mock(RestTemplate.class)\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","spring-jdbc"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1700662252,"post_id":77530617,"comment_id":136682076,"body_markdown":"Remove the for loop and don&#39;t create an array. Instead write a `BatchPreparedStatementSetter`. Creating the array in the arraylist is slow.","body":"Remove the for loop and don&#39;t create an array. Instead write a <code>BatchPreparedStatementSetter</code>. Creating the array in the arraylist is slow."},{"owner":{"account_id":8633322,"reputation":218433,"user_id":6464308,"display_name":"Laurenz Albe"},"score":1,"creation_date":1700665417,"post_id":77530617,"comment_id":136682742,"body_markdown":"Or use `COPY`, that will perform best.","body":"Or use <code>COPY</code>, that will perform best."},{"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"score":0,"creation_date":1700673177,"post_id":77530617,"comment_id":136684430,"body_markdown":"@LaurenzAlbe can you give me an example of how to use COPY?","body":"@LaurenzAlbe can you give me an example of how to use COPY?"},{"owner":{"account_id":8633322,"reputation":218433,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1700722562,"post_id":77530617,"comment_id":136689770,"body_markdown":"https://jdbc.postgresql.org/documentation/server-prepare/#copymanager","body":"<a href=\"https://jdbc.postgresql.org/documentation/server-prepare/#copymanager\" rel=\"nofollow noreferrer\">jdbc.postgresql.org/documentation/server-prepare/#copymanage&zwnj;&#8203;r</a>"}],"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700661946,"creation_date":1700661946,"question_id":77530617,"body_markdown":"I have around 60k records which I want to insert into my Postgres database.\r\nI&#39;m doing a batch update. It is taking more than 30 minutes to insert the records.\r\n\r\nWe are using Hikari for connection pooling. \r\nBelow is the Hikari configuration.\r\n\r\n    HikariConfig hikariConfig = new HikariConfig();\r\n    // Set all the custom configuration.\r\n    hikariConfig.setUsername(username);\r\n    hikariConfig.setPassword(password);\r\n    hikariConfig.setJdbcUrl(&quot;jdbc:postgresql://&quot; + dbHost + &quot;:&quot; + dbPort + &quot;/&quot; + dbName + &quot;?useServerPrepStmts=false&amp;rewriteBatchedStatements=true&quot;);\r\n    hikariConfig.setAutoCommit(false);\r\n    hikariConfig.setConnectionTimeout(Long.parseLong(connectionTimeout)); // 5000\r\n    hikariConfig.setDriverClassName(driverClass); // org.postgresql.Driver\r\n    hikariConfig.setPoolName(poolName); // HikariPool-Write\r\n    hikariConfig.setMaxLifetime(Long.parseLong(maxLifeTime)); // 30000\r\n    hikariConfig.setMaximumPoolSize(Integer.parseInt(maxPoolSize)); // 20\r\n\r\nCode:\r\n \r\n\r\n     public void insertAuditBatch(final List&lt;AuditData&gt; auditList{\r\n    \r\n      String auditQuery = &quot;INSERT into audit_tbl(id,resource,resource_id,updated_by,previous_state,current_state,operation,updated,parent_id&quot;) VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?)&quot;;\r\n    \r\n      for (AuditData auditData : auditList) {\r\n    \r\n        Object[] values = new Object[] {auditData.getId(), auditData.getResource(), auditData.getResourceId(), \r\n        auditData.getUpdatedBy(), auditData.getPreviousState(), auditData.getCurrentState(), \r\n        auditData.getOperationType().name(), auditData.getUpdated(), auditData.getParentId()};\r\n            \r\n        batch.add(values);\r\n        }\r\n    \r\n        int[] argTypes = new int[9];\r\n        argTypes[0] = Types.OTHER;\r\n        argTypes[1] = Types.VARCHAR;\r\n        argTypes[2] = Types.VARCHAR;\r\n        argTypes[3] = Types.VARCHAR;\r\n        argTypes[4] = Types.OTHER;\r\n        argTypes[5] = Types.OTHER;\r\n        argTypes[6] = Types.VARCHAR;\r\n        argTypes[7] = Types.OTHER;\r\n        argTypes[8] = Types.VARCHAR;\r\n    \r\n      int[] res = writeJdbcTemplate.batchUpdate(auditQuery, batch, argTypes);\r\n      \r\n      }\r\nI referred to these articles\r\n\r\n    https://docs.spring.io/spring-framework/reference/data-access/jdbc/advanced.html\r\n    https://stackoverflow.com/questions/20360574/why-springs-jdbctemplate-batchupdate-so-slow\r\n\r\n","title":"JDBCTemplate batchUpdate() is too slow to insert the 60k records in postgres DB","body":"<p>I have around 60k records which I want to insert into my Postgres database.\nI'm doing a batch update. It is taking more than 30 minutes to insert the records.</p>\n<p>We are using Hikari for connection pooling.\nBelow is the Hikari configuration.</p>\n<pre><code>HikariConfig hikariConfig = new HikariConfig();\n// Set all the custom configuration.\nhikariConfig.setUsername(username);\nhikariConfig.setPassword(password);\nhikariConfig.setJdbcUrl(&quot;jdbc:postgresql://&quot; + dbHost + &quot;:&quot; + dbPort + &quot;/&quot; + dbName + &quot;?useServerPrepStmts=false&amp;rewriteBatchedStatements=true&quot;);\nhikariConfig.setAutoCommit(false);\nhikariConfig.setConnectionTimeout(Long.parseLong(connectionTimeout)); // 5000\nhikariConfig.setDriverClassName(driverClass); // org.postgresql.Driver\nhikariConfig.setPoolName(poolName); // HikariPool-Write\nhikariConfig.setMaxLifetime(Long.parseLong(maxLifeTime)); // 30000\nhikariConfig.setMaximumPoolSize(Integer.parseInt(maxPoolSize)); // 20\n</code></pre>\n<p>Code:</p>\n<pre><code> public void insertAuditBatch(final List&lt;AuditData&gt; auditList{\n\n  String auditQuery = &quot;INSERT into audit_tbl(id,resource,resource_id,updated_by,previous_state,current_state,operation,updated,parent_id&quot;) VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?)&quot;;\n\n  for (AuditData auditData : auditList) {\n\n    Object[] values = new Object[] {auditData.getId(), auditData.getResource(), auditData.getResourceId(), \n    auditData.getUpdatedBy(), auditData.getPreviousState(), auditData.getCurrentState(), \n    auditData.getOperationType().name(), auditData.getUpdated(), auditData.getParentId()};\n        \n    batch.add(values);\n    }\n\n    int[] argTypes = new int[9];\n    argTypes[0] = Types.OTHER;\n    argTypes[1] = Types.VARCHAR;\n    argTypes[2] = Types.VARCHAR;\n    argTypes[3] = Types.VARCHAR;\n    argTypes[4] = Types.OTHER;\n    argTypes[5] = Types.OTHER;\n    argTypes[6] = Types.VARCHAR;\n    argTypes[7] = Types.OTHER;\n    argTypes[8] = Types.VARCHAR;\n\n  int[] res = writeJdbcTemplate.batchUpdate(auditQuery, batch, argTypes);\n  \n  }\n</code></pre>\n<p>I referred to these articles</p>\n<pre><code>https://docs.spring.io/spring-framework/reference/data-access/jdbc/advanced.html\nhttps://stackoverflow.com/questions/20360574/why-springs-jdbctemplate-batchupdate-so-slow\n</code></pre>\n"},{"tags":["java","arrays","generics","integer"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1700660203,"post_id":77530376,"comment_id":136681665,"body_markdown":"Not generically. `int[]` and `Integer[]` are unrelated types.","body":"Not generically. <code>int[]</code> and <code>Integer[]</code> are unrelated types."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1700660377,"post_id":77530376,"comment_id":136681702,"body_markdown":"Generic type T can&#39;t represent primitive type which means that `T[]` can&#39;t represent `int[]`.","body":"Generic type T can&#39;t represent primitive type which means that <code>T[]</code> can&#39;t represent <code>int[]</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1700660629,"post_id":77530376,"comment_id":136681749,"body_markdown":"&quot;But I can pass an int or a number directly to a method that takes in an Integer&quot; that is because of autoboxing which works for converting primitive types and its object representations like `int` and `Integer`. BUT there is no autoboxing for arrays (even of primitive type).","body":"&quot;But I can pass an int or a number directly to a method that takes in an Integer&quot; that is because of autoboxing which works for converting primitive types and its object representations like <code>int</code> and <code>Integer</code>. BUT there is no autoboxing for arrays (even of primitive type)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700660637,"post_id":77530376,"comment_id":136681752,"body_markdown":"Out of interest, what would be the point in using anything other than the largest possible floating point type? Why genericize?","body":"Out of interest, what would be the point in using anything other than the largest possible floating point type? Why genericize?"},{"owner":{"account_id":23811671,"reputation":21,"user_id":17820402,"display_name":"Also Grinding For Reputation"},"score":0,"creation_date":1700660661,"post_id":77530376,"comment_id":136681758,"body_markdown":"So there is technically no actual way to fix this issue?","body":"So there is technically no actual way to fix this issue?"},{"owner":{"account_id":23811671,"reputation":21,"user_id":17820402,"display_name":"Also Grinding For Reputation"},"score":0,"creation_date":1700660727,"post_id":77530376,"comment_id":136681773,"body_markdown":"@g00se really depends on what the user wants, he wants a double he can easily return a double, I do not have an exact reason but it would be cool (at least for me) to implement it ;)","body":"@g00se really depends on what the user wants, he wants a double he can easily return a double, I do not have an exact reason but it would be cool (at least for me) to implement it ;)"},{"owner":{"account_id":23811671,"reputation":21,"user_id":17820402,"display_name":"Also Grinding For Reputation"},"score":0,"creation_date":1700660814,"post_id":77530376,"comment_id":136681794,"body_markdown":"And yes I do understand the fact that they could just cast it to a different type but it really doesn&#39;t hurt to implement it :)","body":"And yes I do understand the fact that they could just cast it to a different type but it really doesn&#39;t hurt to implement it :)"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1700660860,"post_id":77530376,"comment_id":136681802,"body_markdown":"As the int-&gt;Integer conversion is called (auto-)boxing, this may be useful: https://stackoverflow.com/questions/2585907/is-there-a-built-in-java-method-to-box-an-array","body":"As the int-&gt;Integer conversion is called (auto-)boxing, this may be useful: <a href=\"https://stackoverflow.com/questions/2585907/is-there-a-built-in-java-method-to-box-an-array\" title=\"is there a built in java method to box an array\">stackoverflow.com/questions/2585907/&hellip;</a>"},{"owner":{"account_id":23811671,"reputation":21,"user_id":17820402,"display_name":"Also Grinding For Reputation"},"score":0,"creation_date":1700661524,"post_id":77530376,"comment_id":136681927,"body_markdown":"I want to pass the values directly. Well, I could make methods, but I mentioned in my question that I&#39;m using generics, all the methods and values use the type (which extends number btw). If I made methods it would require me to make one for all types (because I want this thing to return the type they wont and they dont have to cast it to anything) and it would go all crazy.","body":"I want to pass the values directly. Well, I could make methods, but I mentioned in my question that I&#39;m using generics, all the methods and values use the type (which extends number btw). If I made methods it would require me to make one for all types (because I want this thing to return the type they wont and they dont have to cast it to anything) and it would go all crazy."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700661668,"post_id":77530376,"comment_id":136681962,"body_markdown":"That&#39;s all well and good, but so far there are no methods of any substance. As soon as you add some which concern calculation, then you&#39;ll probably find type checking is required. Try it!","body":"That&#39;s all well and good, but so far there are no methods of any substance. As soon as you add some which concern calculation, then you&#39;ll probably find type checking is required. Try it!"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700662296,"post_id":77530376,"comment_id":136682088,"body_markdown":"&quot;*using generics*&quot; ==&gt; no primitives","body":"&quot;<i>using generics</i>&quot; ==&gt; no primitives"},{"owner":{"account_id":23811671,"reputation":21,"user_id":17820402,"display_name":"Also Grinding For Reputation"},"score":0,"creation_date":1700665272,"post_id":77530376,"comment_id":136682716,"body_markdown":"Sure @g00se thanks!","body":"Sure @g00se thanks!"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700670094,"post_id":77530376,"comment_id":136683748,"body_markdown":"@AlsoGrindingForReputation, you should find no deviation in using an _Integer_ _array_, over an _int_ _array_.","body":"@AlsoGrindingForReputation, you should find no deviation in using an <i>Integer</i> <i>array</i>, over an <i>int</i> <i>array</i>."},{"owner":{"account_id":23811671,"reputation":21,"user_id":17820402,"display_name":"Also Grinding For Reputation"},"score":0,"creation_date":1700725917,"post_id":77530376,"comment_id":136690224,"body_markdown":"@Reilas having to use `Integer.valueOf()` is quite annoying to type but ig it dont matter :shrug:","body":"@Reilas having to use <code>Integer.valueOf()</code> is quite annoying to type but ig it dont matter :shrug:"}],"owner":{"account_id":23811671,"reputation":21,"user_id":17820402,"display_name":"Also Grinding For Reputation"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700661569,"creation_date":1700659957,"question_id":77530376,"body_markdown":"I am trying to take a few steps back and work on some simple math functions like vectors just for fun (So technically I&#39;m not in search of any library). I wanted to add a feature where you can pass an array of 3 number in order to set the values.\r\n\r\n```\r\npublic class Vector3 &lt;T&gt; extends Vectors {\r\n\t\r\n\tprivate T x;\r\n\tprivate T y;\r\n\tprivate T z;\r\n\t\r\n\tVector3() {}\r\n\t\r\n\tpublic Vector3&lt;T&gt; set(T x, T y, T z) {\r\n\t\tthis.x=x;\r\n\t\tthis.y=y;\r\n\t\tthis.z=z;\r\n\t\t\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic Vector3&lt;T&gt; set(T[] arr) {\r\n\t\t\r\n\t\tif(arr.length &gt; 3) throw new InvalidParameterException(&quot;Cannot use array with length greater than 3&quot;);\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tif(i == 0) x = arr[i];\r\n\t\t\telse if(i == 1) y = arr[i];\r\n\t\t\telse if(i == 2) z = arr[i];\r\n\t\t}\r\n\t\t\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\tpublic T getX() {\r\n\t\treturn x;\r\n\t}\r\n\tpublic T getY() {\r\n\t\treturn y;\r\n\t}\r\n\tpublic T getZ() {\r\n\t\treturn z;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nWell, this code allows the class to be easily implemented using `Vector3&lt;Integer&gt; vec = new Vector3&lt;Integer&gt;()`. So, the issue with the set method is I have to use an array of the `Integer` class instead of the primitive `int`. Is it possible for me to just use an array of normal int?","title":"Integer - Cannot pass int[] in an Integer[] method","body":"<p>I am trying to take a few steps back and work on some simple math functions like vectors just for fun (So technically I'm not in search of any library). I wanted to add a feature where you can pass an array of 3 number in order to set the values.</p>\n<pre><code>public class Vector3 &lt;T&gt; extends Vectors {\n    \n    private T x;\n    private T y;\n    private T z;\n    \n    Vector3() {}\n    \n    public Vector3&lt;T&gt; set(T x, T y, T z) {\n        this.x=x;\n        this.y=y;\n        this.z=z;\n        \n        return this;\n    }\n\n    public Vector3&lt;T&gt; set(T[] arr) {\n        \n        if(arr.length &gt; 3) throw new InvalidParameterException(&quot;Cannot use array with length greater than 3&quot;);\n        \n        for (int i = 0; i &lt; arr.length; i++) {\n            if(i == 0) x = arr[i];\n            else if(i == 1) y = arr[i];\n            else if(i == 2) z = arr[i];\n        }\n        \n        return this;\n    }\n    \n    public T getX() {\n        return x;\n    }\n    public T getY() {\n        return y;\n    }\n    public T getZ() {\n        return z;\n    }\n}\n\n</code></pre>\n<p>Well, this code allows the class to be easily implemented using <code>Vector3&lt;Integer&gt; vec = new Vector3&lt;Integer&gt;()</code>. So, the issue with the set method is I have to use an array of the <code>Integer</code> class instead of the primitive <code>int</code>. Is it possible for me to just use an array of normal int?</p>\n"},{"tags":["java","javadoc","maven-javadoc-plugin"],"answers":[{"comments":[{"owner":{"account_id":937113,"reputation":1128,"user_id":965847,"accept_rate":69,"display_name":"kosta5"},"score":0,"creation_date":1700661098,"post_id":75624419,"comment_id":136681850,"body_markdown":"this does not work. I tested with maven-javadoc-plugin 3.6.2.","body":"this does not work. I tested with maven-javadoc-plugin 3.6.2."},{"owner":{"account_id":937113,"reputation":1128,"user_id":965847,"accept_rate":69,"display_name":"kosta5"},"score":0,"creation_date":1700661107,"post_id":75624419,"comment_id":136681853,"body_markdown":"only working work around for me is","body":"only working work around for me is"}],"tags":[],"owner":{"account_id":18149327,"reputation":29,"user_id":20118902,"display_name":"velicanaydin"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677829705,"creation_date":1677829705,"answer_id":75624419,"question_id":73893137,"body_markdown":"For anyone struggling, maven-javadoc-plugin&#39;s documentation says use the additionalOption tag with -J flag([ref][1]) but in my case it didn&#39;t pass the flag. So I used the plugin with the configuration below:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n        &lt;additionalJOption&gt;\r\n           --add-exports java.base/jdk.internal.reflect=ALL-UNNAMED\r\n        &lt;/additionalJOption&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                &lt;phase&gt;install&lt;/phase&gt;\r\n                &lt;goals&gt;&lt;goal&gt;jar&lt;/goal&gt;&lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#additionalJOptions","title":"Javadoc with Java17 gives package X is declared in module Y error","body":"<p>For anyone struggling, maven-javadoc-plugin's documentation says use the additionalOption tag with -J flag(<a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#additionalJOptions\" rel=\"nofollow noreferrer\">ref</a>) but in my case it didn't pass the flag. So I used the plugin with the configuration below:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;configuration&gt;\n    &lt;additionalJOption&gt;\n       --add-exports java.base/jdk.internal.reflect=ALL-UNNAMED\n    &lt;/additionalJOption&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;attach-javadocs&lt;/id&gt;\n            &lt;phase&gt;install&lt;/phase&gt;\n            &lt;goals&gt;&lt;goal&gt;jar&lt;/goal&gt;&lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":937113,"reputation":1128,"user_id":965847,"accept_rate":69,"display_name":"kosta5"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700661169,"creation_date":1700661169,"answer_id":77530514,"question_id":73893137,"body_markdown":"The only workaround I was able to get together is this:\r\n\r\n    &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.6.2&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;!-- this is a workaround until accessing not exported packages is available for javadoc--&gt;\r\n            &lt;!-- see the following --&gt;\r\n            &lt;!-- https://bugs.openjdk.org/browse/JDK-8212233?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aall-tabpanel --&gt;\r\n            &lt;!-- https://stackoverflow.com/questions/62206112/maven-javadoc-plugin-how-to-update-the-module-path-dynamically --&gt;\r\n            &lt;!-- https://stackoverflow.com/questions/73893137/javadoc-with-java17-gives-package-x-is-declared-in-module-y-error --&gt;\r\n            &lt;source&gt;8&lt;/source&gt;\r\n            &lt;target&gt;8&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;","title":"Javadoc with Java17 gives package X is declared in module Y error","body":"<p>The only workaround I was able to get together is this:</p>\n<pre><code>&lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.6.2&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;!-- this is a workaround until accessing not exported packages is available for javadoc--&gt;\n        &lt;!-- see the following --&gt;\n        &lt;!-- https://bugs.openjdk.org/browse/JDK-8212233?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aall-tabpanel --&gt;\n        &lt;!-- https://stackoverflow.com/questions/62206112/maven-javadoc-plugin-how-to-update-the-module-path-dynamically --&gt;\n        &lt;!-- https://stackoverflow.com/questions/73893137/javadoc-with-java17-gives-package-x-is-declared-in-module-y-error --&gt;\n        &lt;source&gt;8&lt;/source&gt;\n        &lt;target&gt;8&lt;/target&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":18149327,"reputation":29,"user_id":20118902,"display_name":"velicanaydin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1700661169,"creation_date":1664443165,"question_id":73893137,"body_markdown":"I&#39;m using maven-javadoc-plugin to produce Javadoc with Java 17. Since there is a class in my code that uses jdk.internal.reflect.Reflection class, Javadoc gives an error. I tried using &lt;additionalJOption&gt; to pass --add-opens flag but it&#39;s no use.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                &lt;phase&gt;install&lt;/phase&gt;\r\n                &lt;goals&gt;&lt;goal&gt;jar&lt;/goal&gt;&lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIt get the error below.\r\n\r\n    import jdk.internal.reflect.Reflection;\r\n    [ERROR]                    ^\r\n    [ERROR]   (package jdk.internal.reflect is declared in module java.base, which does not \r\n    export it to the unnamed module)\r\n    [ERROR] 1 error\r\n    [ERROR]\r\n    [ERROR] Command line was: cmd.exe /X /C &quot;&quot;C:\\Program Files\\Java\\jdk-17.0.1\\bin\\javadoc.exe&quot; @options @packages&quot;\r\n\r\n\r\n\r\n","title":"Javadoc with Java17 gives package X is declared in module Y error","body":"<p>I'm using maven-javadoc-plugin to produce Javadoc with Java 17. Since there is a class in my code that uses jdk.internal.reflect.Reflection class, Javadoc gives an error. I tried using  to pass --add-opens flag but it's no use.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;attach-javadocs&lt;/id&gt;\n            &lt;phase&gt;install&lt;/phase&gt;\n            &lt;goals&gt;&lt;goal&gt;jar&lt;/goal&gt;&lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>It get the error below.</p>\n<pre><code>import jdk.internal.reflect.Reflection;\n[ERROR]                    ^\n[ERROR]   (package jdk.internal.reflect is declared in module java.base, which does not \nexport it to the unnamed module)\n[ERROR] 1 error\n[ERROR]\n[ERROR] Command line was: cmd.exe /X /C &quot;&quot;C:\\Program Files\\Java\\jdk-17.0.1\\bin\\javadoc.exe&quot; @options @packages&quot;\n</code></pre>\n"},{"tags":["java","parsing"],"comments":[{"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"score":0,"creation_date":1345561770,"post_id":12057853,"comment_id":16102053,"body_markdown":"May i know why you required that?","body":"May i know why you required that?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1345562158,"post_id":12057853,"comment_id":16102251,"body_markdown":"Perhaps `InetAddress.getByName(&quot;123.45.55.34&quot;)` is more useful than the address as an `int` value.","body":"Perhaps <code>InetAddress.getByName(&quot;123.45.55.34&quot;)</code> is more useful than the address as an <code>int</code> value."},{"owner":{"account_id":1725373,"reputation":139,"user_id":1580187,"accept_rate":0,"display_name":"Brane"},"score":0,"creation_date":1345563034,"post_id":12057853,"comment_id":16102685,"body_markdown":"@PeterLawrey thanks for your reply, I am having problem with parsing the dotted IP numbers in my queries. I have updated my question :)","body":"@PeterLawrey thanks for your reply, I am having problem with parsing the dotted IP numbers in my queries. I have updated my question :)"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1345563319,"post_id":12057853,"comment_id":16102823,"body_markdown":"You can use the hashCode() returned by this expression but its a bit of a hack.","body":"You can use the hashCode() returned by this expression but its a bit of a hack."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1345563907,"post_id":12057853,"comment_id":16103106,"body_markdown":"Your latest edit made most of the answers useless. Please consider asking new questions when making major semantic changes through edits","body":"Your latest edit made most of the answers useless. Please consider asking new questions when making major semantic changes through edits"},{"owner":{"account_id":1725373,"reputation":139,"user_id":1580187,"accept_rate":0,"display_name":"Brane"},"score":0,"creation_date":1345564381,"post_id":12057853,"comment_id":16103324,"body_markdown":"Mr lUkas, thanks for your remark however all the answers have been helpful :)","body":"Mr lUkas, thanks for your remark however all the answers have been helpful :)"},{"owner":{"account_id":946,"reputation":18105,"user_id":1247,"accept_rate":91,"display_name":"Mike Deck"},"score":0,"creation_date":1345566475,"post_id":12057853,"comment_id":16104264,"body_markdown":"@Brane, the problem is now when someone else finds this question none of the answers will make sense in the context of how the question is currently worded. If you had instead created a new question all of the existing answers would continue to be valuable to future users who are having the problem you originally described.","body":"@Brane, the problem is now when someone else finds this question none of the answers will make sense in the context of how the question is currently worded. If you had instead created a new question all of the existing answers would continue to be valuable to future users who are having the problem you originally described."},{"owner":{"account_id":1725373,"reputation":139,"user_id":1580187,"accept_rate":0,"display_name":"Brane"},"score":0,"creation_date":1345567117,"post_id":12057853,"comment_id":16104511,"body_markdown":"thanks @ Mike Deck, i was asked to provide more detailed if you do read at the top of this thread `May i know why you required that? – Quoi 1 hour ago` In all fairness if you think it&#39;s anyhow a mess please just delete your own code. thanks :)","body":"thanks @ Mike Deck, i was asked to provide more detailed if you do read at the top of this thread <code>May i know why you required that? – Quoi 1 hour ago</code> In all fairness if you think it&#39;s anyhow a mess please just delete your own code. thanks :)"},{"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1673867609,"post_id":12057853,"comment_id":132585695,"body_markdown":"I agree with Mike, now the question seems unclear","body":"I agree with Mike, now the question seems unclear"}],"answers":[{"comments":[{"owner":{"account_id":21808,"reputation":10725,"user_id":2660952,"accept_rate":76,"display_name":"Kai Huppmann"},"score":0,"creation_date":1345561885,"post_id":12057933,"comment_id":16102123,"body_markdown":"This is also what I thought he wants to know","body":"This is also what I thought he wants to know"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1345561926,"post_id":12057933,"comment_id":16102147,"body_markdown":"@KaI: Yes, it&#39;s called an educated guess :-)","body":"@KaI: Yes, it&#39;s called an educated guess :-)"},{"owner":{"account_id":1725373,"reputation":139,"user_id":1580187,"accept_rate":0,"display_name":"Brane"},"score":0,"creation_date":1345562902,"post_id":12057933,"comment_id":16102624,"body_markdown":"@LukasEder thanks for your reply, I am having problem with parsing the dotted IP numbers in my queries. I have updated my question :)","body":"@LukasEder thanks for your reply, I am having problem with parsing the dotted IP numbers in my queries. I have updated my question :)"},{"owner":{"account_id":1725373,"reputation":139,"user_id":1580187,"accept_rate":0,"display_name":"Brane"},"score":0,"creation_date":1345564164,"post_id":12057933,"comment_id":16103221,"body_markdown":"@ :) it is the simplest manner I could have started explaining, :)","body":"@ :) it is the simplest manner I could have started explaining, :)"},{"owner":{"account_id":467709,"reputation":3040,"user_id":873263,"accept_rate":86,"display_name":"Aaron Blenkush"},"score":2,"creation_date":1389226983,"post_id":12057933,"comment_id":31576514,"body_markdown":"Of course, you&#39;ll want to use `long` or you&#39;re going to overflow the `int` and get incorrect values for any IP above `127.255.255.255` ;-)","body":"Of course, you&#39;ll want to use <code>long</code> or you&#39;re going to overflow the <code>int</code> and get incorrect values for any IP above <code>127.255.255.255</code> ;-)"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":5,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1389247185,"creation_date":1345561774,"answer_id":12057933,"question_id":12057853,"body_markdown":"You&#39;re likely to want to do this:\r\n\r\n    // Parse IP parts into an int array\r\n    int[] ip = new int[4];\r\n    String[] parts = &quot;123.45.55.34&quot;.split(&quot;\\\\.&quot;);\r\n\r\n    for (int i = 0; i &lt; 4; i++) {\r\n        ip[i] = Integer.parseInt(parts[i]);\r\n    }\r\n\r\nOr this:\r\n\r\n    // Add the above IP parts into an int number representing your IP \r\n    // in a 32-bit binary form\r\n    long ipNumbers = 0;\r\n    for (int i = 0; i &lt; 4; i++) {\r\n        ipNumbers += ip[i] &lt;&lt; (24 - (8 * i));\r\n    }\r\n\r\nOf course, as [others have suggested][1], using [`InetAddress`][2] might be more appropriate than doing things yourself...\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12057944/521799\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html","title":"How to convert string (IP numbers) to Integer in Java","body":"<p>You're likely to want to do this:</p>\n\n<pre><code>// Parse IP parts into an int array\nint[] ip = new int[4];\nString[] parts = \"123.45.55.34\".split(\"\\\\.\");\n\nfor (int i = 0; i &lt; 4; i++) {\n    ip[i] = Integer.parseInt(parts[i]);\n}\n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>// Add the above IP parts into an int number representing your IP \n// in a 32-bit binary form\nlong ipNumbers = 0;\nfor (int i = 0; i &lt; 4; i++) {\n    ipNumbers += ip[i] &lt;&lt; (24 - (8 * i));\n}\n</code></pre>\n\n<p>Of course, as <a href=\"https://stackoverflow.com/a/12057944/521799\">others have suggested</a>, using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html\" rel=\"noreferrer\"><code>InetAddress</code></a> might be more appropriate than doing things yourself...</p>\n"},{"comments":[{"owner":{"account_id":1725373,"reputation":139,"user_id":1580187,"accept_rate":0,"display_name":"Brane"},"score":0,"creation_date":1345564673,"post_id":12057944,"comment_id":16103459,"body_markdown":"salut @ dystroy, Comment this code that you have provided pourra s&#39;appliquer to my question, I have plus de precision to the question. merci monsieur :)","body":"salut @ dystroy, Comment this code that you have provided pourra s&#39;appliquer to my question, I have plus de precision to the question. merci monsieur :)"},{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":0,"creation_date":1345565532,"post_id":12057944,"comment_id":16103882,"body_markdown":"This is a really different question now. I edited my answer but this starts to be a mess...","body":"This is a really different question now. I edited my answer but this starts to be a mess..."},{"owner":{"account_id":46333,"reputation":56186,"user_id":136829,"display_name":"Glenn Maynard"},"score":3,"creation_date":1427302715,"post_id":12057944,"comment_id":46725735,"body_markdown":"Using getByName is probably a bad idea if all you&#39;re meaning to do is parse an IP address, since if you&#39;re given a hostname instead you&#39;ll suddenly be doing synchronous network I/O.","body":"Using getByName is probably a bad idea if all you&#39;re meaning to do is parse an IP address, since if you&#39;re given a hostname instead you&#39;ll suddenly be doing synchronous network I/O."}],"tags":[],"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"comment_count":3,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1345565248,"creation_date":1345561810,"answer_id":12057944,"question_id":12057853,"body_markdown":"You can do it for an IP V4 adress as the parts are just the four bytes of the integer version.\r\n\r\nDo this to convert an [InetAdress][1] to its integer representation :\r\n\r\n    int result = 0;  \r\n    for (byte b: inetAdress.getAddress())  \r\n    {  \r\n        result = result &lt;&lt; 8 | (b &amp; 0xFF);  \r\n    }\r\n\r\n**Note that you shouldn&#39;t use 32 bits integers for IP addresses now, as we&#39;re entering the era of IPV6 addresses.**\r\n\r\nEDIT : to parse a string like &quot;123.45.55.34&quot; to something useful in java, you may use `INetAddress.getByName(yourString)`\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/net/InetAddress.html","title":"How to convert string (IP numbers) to Integer in Java","body":"<p>You can do it for an IP V4 adress as the parts are just the four bytes of the integer version.</p>\n\n<p>Do this to convert an <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/net/InetAddress.html\" rel=\"noreferrer\">InetAdress</a> to its integer representation :</p>\n\n<pre><code>int result = 0;  \nfor (byte b: inetAdress.getAddress())  \n{  \n    result = result &lt;&lt; 8 | (b &amp; 0xFF);  \n}\n</code></pre>\n\n<p><strong>Note that you shouldn't use 32 bits integers for IP addresses now, as we're entering the era of IPV6 addresses.</strong></p>\n\n<p>EDIT : to parse a string like \"123.45.55.34\" to something useful in java, you may use <code>INetAddress.getByName(yourString)</code></p>\n"},{"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1345562590,"post_id":12058129,"comment_id":16102467,"body_markdown":"Octal? As in `192.168.0.1`? ;-)","body":"Octal? As in <code>192.168.0.1</code>? ;-)"},{"owner":{"account_id":946,"reputation":18105,"user_id":1247,"accept_rate":91,"display_name":"Mike Deck"},"score":0,"creation_date":1345562832,"post_id":12058129,"comment_id":16102593,"body_markdown":"@LukasEder, wow, I must be losing it. I fixed the answer, thanks for the heads up.","body":"@LukasEder, wow, I must be losing it. I fixed the answer, thanks for the heads up."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1345563066,"post_id":12058129,"comment_id":16102699,"body_markdown":"Well, for a short moment, I was worried myself, if some fact had slipped by my memory ;-)","body":"Well, for a short moment, I was worried myself, if some fact had slipped by my memory ;-)"}],"tags":[],"owner":{"account_id":946,"reputation":18105,"user_id":1247,"accept_rate":91,"display_name":"Mike Deck"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1345562785,"creation_date":1345562433,"answer_id":12058129,"question_id":12057853,"body_markdown":"You need to realize that an IPv4 address in the form 123.45.55.34 is actually 4 three digit numbers representing each byte of the address. Parsing the entire string all at once won&#39;t work.\r\n\r\nOthers have mentioned using an `InetAddress`, but if all you have is a string representation of the IP you can&#39;t easily instantiate an `InetAddress` as far as I know.\r\n\r\nWhat you can do is something like the following:\r\n\r\n\r\n\tpublic static int parseIp(String address) {\r\n\t\tint result = 0;\r\n\t\t\r\n\t\t// iterate over each octet\r\n\t\tfor(String part : address.split(Pattern.quote(&quot;.&quot;))) {\r\n\t\t\t// shift the previously parsed bits over by 1 byte\r\n\t\t\tresult = result &lt;&lt; 8;\r\n\t\t\t// set the low order bits to the current octet\r\n\t\t\tresult |= Integer.parseInt(part);\r\n\t\t}\r\n\t\treturn result;\r\n\t}","title":"How to convert string (IP numbers) to Integer in Java","body":"<p>You need to realize that an IPv4 address in the form 123.45.55.34 is actually 4 three digit numbers representing each byte of the address. Parsing the entire string all at once won't work.</p>\n\n<p>Others have mentioned using an <code>InetAddress</code>, but if all you have is a string representation of the IP you can't easily instantiate an <code>InetAddress</code> as far as I know.</p>\n\n<p>What you can do is something like the following:</p>\n\n<pre><code>public static int parseIp(String address) {\n    int result = 0;\n\n    // iterate over each octet\n    for(String part : address.split(Pattern.quote(\".\"))) {\n        // shift the previously parsed bits over by 1 byte\n        result = result &lt;&lt; 8;\n        // set the low order bits to the current octet\n        result |= Integer.parseInt(part);\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5456506,"reputation":441,"user_id":4339756,"display_name":"Arthur Xu"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1513060406,"creation_date":1513060406,"answer_id":47766603,"question_id":12057853,"body_markdown":"`IPAddressUtil#textToNumericFormatV4` performs better than `String#split` to get bytes of ip, besides, it checks if the ip is valid\r\n\r\n     public int intOfIpV4(String ip) {\r\n            int result = 0;\r\n            byte[] bytes = IPAddressUtil.textToNumericFormatV4(ip);\r\n            if (bytes == null) {\r\n                return result;\r\n            }\r\n            for (byte b : bytes) {\r\n                result = result &lt;&lt; 8 | (b &amp; 0xFF);\r\n            }\r\n            return result;\r\n        }\r\n\r\n","title":"How to convert string (IP numbers) to Integer in Java","body":"<p><code>IPAddressUtil#textToNumericFormatV4</code> performs better than <code>String#split</code> to get bytes of ip, besides, it checks if the ip is valid</p>\n\n<pre><code> public int intOfIpV4(String ip) {\n        int result = 0;\n        byte[] bytes = IPAddressUtil.textToNumericFormatV4(ip);\n        if (bytes == null) {\n            return result;\n        }\n        for (byte b : bytes) {\n            result = result &lt;&lt; 8 | (b &amp; 0xFF);\n        }\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":104791,"reputation":7582,"user_id":279982,"accept_rate":84,"display_name":"atoMerz"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524309940,"creation_date":1524309940,"answer_id":49955252,"question_id":12057853,"body_markdown":"    System.out.println(\r\n            ByteBuffer.allocate(Integer.BYTES)\r\n            .put(InetAddress.getByName(&quot;0.0.1.0&quot;).getAddress())\r\n            .getInt(0));\r\n\r\nOutput:  \r\n\r\n&gt; 256","title":"How to convert string (IP numbers) to Integer in Java","body":"<pre><code>System.out.println(\n        ByteBuffer.allocate(Integer.BYTES)\n        .put(InetAddress.getByName(\"0.0.1.0\").getAddress())\n        .getInt(0));\n</code></pre>\n\n<p>Output:  </p>\n\n<blockquote>\n  <p>256</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1578180432,"creation_date":1578180432,"answer_id":59595725,"question_id":12057853,"body_markdown":"[The IPAddress Java library](https://seancfoley.github.io/IPAddress/) supports both IPv4 and IPv6 in a polymorphic manner. Disclaimer: I am the project manager of that library.\r\n\r\nThe following code works with both IPv4 and IPv6 addresses.  Using your example IPv4 address:\r\n```java\r\nIPAddress addr = new IPAddressString(&quot;123.45.55.34&quot;).getAddress();\r\nBigInteger value = addr.getValue(); // 2066560802\r\n```\r\nIf IPv4, you can just go straight to an int value:\r\n```java\r\nif(addr.isIPv4()) {\r\n    int val = addr.toIPv4().intValue(); // 2066560802\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"How to convert string (IP numbers) to Integer in Java","body":"<p><a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"noreferrer\">The IPAddress Java library</a> supports both IPv4 and IPv6 in a polymorphic manner. Disclaimer: I am the project manager of that library.</p>\n\n<p>The following code works with both IPv4 and IPv6 addresses.  Using your example IPv4 address:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>IPAddress addr = new IPAddressString(\"123.45.55.34\").getAddress();\nBigInteger value = addr.getValue(); // 2066560802\n</code></pre>\n\n<p>If IPv4, you can just go straight to an int value:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if(addr.isIPv4()) {\n    int val = addr.toIPv4().intValue(); // 2066560802\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27529196,"reputation":11,"user_id":21008023,"display_name":"Tim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673714671,"creation_date":1673714671,"answer_id":75119598,"question_id":12057853,"body_markdown":"I think you might be misunderstanding your own problem.  Are you trying to convert that into a single int value?  If you are doing that then the premise of your question is wrong because IP numbers are not one number but multiple byte values.  It isn&#39;t 123,456,789,000 but rather byte 123 byte 455 byte 789 and byte 000.   I know that these are not real byte numbers but the point is is that this is not 123 billion 456 million 789 thousand,000.  It seems to me that you are treating the entire thing as a single integer and that isn&#39;t the case with IP addresses.","title":"How to convert string (IP numbers) to Integer in Java","body":"<p>I think you might be misunderstanding your own problem.  Are you trying to convert that into a single int value?  If you are doing that then the premise of your question is wrong because IP numbers are not one number but multiple byte values.  It isn't 123,456,789,000 but rather byte 123 byte 455 byte 789 and byte 000.   I know that these are not real byte numbers but the point is is that this is not 123 billion 456 million 789 thousand,000.  It seems to me that you are treating the entire thing as a single integer and that isn't the case with IP addresses.</p>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700662467,"post_id":76929641,"comment_id":136682124,"body_markdown":"sorry, but your last edit is making code harder to read/understand, not helpful, and probably no real advantage","body":"sorry, but your last edit is making code harder to read/understand, not helpful, and probably no real advantage"}],"tags":[],"owner":{"account_id":6678507,"reputation":334,"user_id":5152432,"display_name":"Marco Carlo Moriggi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700661153,"creation_date":1692364042,"answer_id":76929641,"question_id":12057853,"body_markdown":"Sorry for reopening an old queston, but to me seems like it&#39;s missing a possible valid and performant solution:\r\n\r\n```java\r\nstatic int ipV4ToInt(int a1, int a2, int a3, int a4){\r\n  return (a1 &lt;&lt; 24) ^ (a2 &lt;&lt; 16) ^ (a3 &lt;&lt; 8) ^ a4;\r\n}\r\n```\r\n\r\nthen you can add parsing and validation:\r\n\r\n```java\r\nclass MyAwesomeIPv4Utils {\r\n  private MyAwesomeIPv4Utils(){} // It&#39;s a library, sorry OOP addicted...\r\n\r\n  static int validateIpPart(int n){\r\n    if (n == (n &amp; 255))\r\n      return n;\r\n    throw new IllegalArgumentException(&quot;Invalid IP v4 part: &quot; + n);\r\n  }\r\n  \r\n  static int validateIpPart(String p){\r\n    return validateIpPart(Integer.parseInt(p));\r\n  }\r\n  \r\n  static int internalIpV4ToInt(int a1, int a2, int a3, int a4){\r\n    // let validation outside, just for performance reasons (e.g. inlining and lazy evaluation): it can be made by the caller\r\n    return (a1 &lt;&lt; 24) ^ (a2 &lt;&lt; 16) ^ (a3 &lt;&lt; 8) ^ a4;\r\n  }\r\n  \r\n  // this can be made public as it handles the validation, and can be used to directly create int when you know the addresses at comple time\r\n  public static int ipV4ToInt(int a1, int a2, int a3, int a4){\r\n    return internalIpV4ToInt(\r\n      validateIpPart(a1),\r\n      validateIpPart(a2),\r\n      validateIpPart(a3),\r\n      validateIpPart(a4)\r\n    );\r\n  }\r\n  \r\n  // this can be exposed too, as it handles both validation and parsing\r\n  public static int ipV4ToInt(String ipStr){\r\n    Objects.requireNonNull(ipStr, &quot;null IP Address&quot;);\r\n    // If you prefer you can make this Pattern a static variable, to create it just once and shared (Patterns are thread-safe), but be careful with it&#39;s instantiation as it can be null at the first invokation of this static method\r\n    final Pattern ipPattern = Pattern.compile(&quot;(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})&quot;);\r\n    final Matcher m = ipPattern.matcher(ipStr);\r\n    if (!m.matches())\r\n      throw new IllegalArgumentException(&quot;Invalid IP v4 address: &quot; + ipStr);\r\n\r\n    return internalIpV4ToInt(\r\n      validateIpPart(m.group(1)),\r\n      validateIpPart(m.group(2)),\r\n      validateIpPart(m.group(3)),\r\n      validateIpPart(m.group(4))\r\n    );\r\n  }\r\n}\r\n```","title":"How to convert string (IP numbers) to Integer in Java","body":"<p>Sorry for reopening an old queston, but to me seems like it's missing a possible valid and performant solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int ipV4ToInt(int a1, int a2, int a3, int a4){\n  return (a1 &lt;&lt; 24) ^ (a2 &lt;&lt; 16) ^ (a3 &lt;&lt; 8) ^ a4;\n}\n</code></pre>\n<p>then you can add parsing and validation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyAwesomeIPv4Utils {\n  private MyAwesomeIPv4Utils(){} // It's a library, sorry OOP addicted...\n\n  static int validateIpPart(int n){\n    if (n == (n &amp; 255))\n      return n;\n    throw new IllegalArgumentException(&quot;Invalid IP v4 part: &quot; + n);\n  }\n  \n  static int validateIpPart(String p){\n    return validateIpPart(Integer.parseInt(p));\n  }\n  \n  static int internalIpV4ToInt(int a1, int a2, int a3, int a4){\n    // let validation outside, just for performance reasons (e.g. inlining and lazy evaluation): it can be made by the caller\n    return (a1 &lt;&lt; 24) ^ (a2 &lt;&lt; 16) ^ (a3 &lt;&lt; 8) ^ a4;\n  }\n  \n  // this can be made public as it handles the validation, and can be used to directly create int when you know the addresses at comple time\n  public static int ipV4ToInt(int a1, int a2, int a3, int a4){\n    return internalIpV4ToInt(\n      validateIpPart(a1),\n      validateIpPart(a2),\n      validateIpPart(a3),\n      validateIpPart(a4)\n    );\n  }\n  \n  // this can be exposed too, as it handles both validation and parsing\n  public static int ipV4ToInt(String ipStr){\n    Objects.requireNonNull(ipStr, &quot;null IP Address&quot;);\n    // If you prefer you can make this Pattern a static variable, to create it just once and shared (Patterns are thread-safe), but be careful with it's instantiation as it can be null at the first invokation of this static method\n    final Pattern ipPattern = Pattern.compile(&quot;(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})&quot;);\n    final Matcher m = ipPattern.matcher(ipStr);\n    if (!m.matches())\n      throw new IllegalArgumentException(&quot;Invalid IP v4 address: &quot; + ipStr);\n\n    return internalIpV4ToInt(\n      validateIpPart(m.group(1)),\n      validateIpPart(m.group(2)),\n      validateIpPart(m.group(3)),\n      validateIpPart(m.group(4))\n    );\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1725373,"reputation":139,"user_id":1580187,"accept_rate":0,"display_name":"Brane"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44249,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"answer_count":8,"score":13,"last_activity_date":1700661153,"creation_date":1345561529,"question_id":12057853,"body_markdown":"Example:      \r\n    \r\n    // using Integer.parseInt\r\n    int i = Integer.parseInt(&quot;123&quot;);\r\n\r\nHow would you do the same for?\r\n                      \r\n    // using Integer.parseInt\r\n    int i = Integer.parseInt(&quot;123.45.55.34&quot;);\r\n\r\n ","title":"How to convert string (IP numbers) to Integer in Java","body":"<p>Example:      </p>\n\n<pre><code>// using Integer.parseInt\nint i = Integer.parseInt(\"123\");\n</code></pre>\n\n<p>How would you do the same for?</p>\n\n<pre><code>// using Integer.parseInt\nint i = Integer.parseInt(\"123.45.55.34\");\n</code></pre>\n"},{"tags":["java","jooq"],"answers":[{"comments":[{"owner":{"account_id":22335253,"reputation":23,"user_id":16555951,"display_name":"Chiral Systems"},"score":0,"creation_date":1700656868,"post_id":77529764,"comment_id":136681033,"body_markdown":"Lukas, thanks for the prompt reply, I am absolutely brand new to JOOQ so would really appreciate the correct syntax for the failing values example above. Working my way through tutorials and the pdf.","body":"Lukas, thanks for the prompt reply, I am absolutely brand new to JOOQ so would really appreciate the correct syntax for the failing values example above. Working my way through tutorials and the pdf."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1700657532,"post_id":77529764,"comment_id":136681129,"body_markdown":"@ChiralSystems: *you just have to wrap your bind value using DSL.val() explicitly* really just means wrap `256` using `DSL.val()`","body":"@ChiralSystems: <i>you just have to wrap your bind value using DSL.val() explicitly</i> really just means wrap <code>256</code> using <code>DSL.val()</code>"},{"owner":{"account_id":22335253,"reputation":23,"user_id":16555951,"display_name":"Chiral Systems"},"score":0,"creation_date":1700657803,"post_id":77529764,"comment_id":136681183,"body_markdown":"I tried this `int x = dslContext.insertInto(APPOINTMENTTYPE, APPOINTMENTTYPE.ID, APPOINTMENTTYPE.BLUE).values(DSL.val(APPOINTMENTTYPE_SEQ.nextval()), 255).execute();`  but get the error `Cannot resolve method &#39;values(Param&lt;T&gt;, int)&#39;`","body":"I tried this <code>int x = dslContext.insertInto(APPOINTMENTTYPE, APPOINTMENTTYPE.ID, APPOINTMENTTYPE.BLUE).values(DSL.val(APPOINTMENTTYPE_SEQ.nex&zwnj;&#8203;tval()), 255).execute();</code>  but get the error <code>Cannot resolve method &#39;values(Param&lt;T&gt;, int)&#39;</code>"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1700658568,"post_id":77529764,"comment_id":136681312,"body_markdown":"OK, now wrap `255` using `DSL.val()`, as in `DSL.val(255)`. I don&#39;t know how else I can phrase this :) You can also click on the links I provided, and read those pages...","body":"OK, now wrap <code>255</code> using <code>DSL.val()</code>, as in <code>DSL.val(255)</code>. I don&#39;t know how else I can phrase this :) You can also click on the links I provided, and read those pages..."},{"owner":{"account_id":22335253,"reputation":23,"user_id":16555951,"display_name":"Chiral Systems"},"score":0,"creation_date":1700658980,"post_id":77529764,"comment_id":136681413,"body_markdown":"I tried that already based on your comment about having bind value combinations. so `int x = dslContext.insertInto(APPOINTMENTTYPE, APPOINTMENTTYPE.ID, APPOINTMENTTYPE.BLUE).values(DSL.val(APPOINTMENTTYPE_SEQ.nextval()), DSL.val(255)).execute();` but get the error `Cannot resolve method &#39;values(Param&lt;T&gt;, Param&lt;Integer&gt;)&#39;`. I am using jooq 3.18.7 in a spring boot 3.1.5 project","body":"I tried that already based on your comment about having bind value combinations. so <code>int x = dslContext.insertInto(APPOINTMENTTYPE, APPOINTMENTTYPE.ID, APPOINTMENTTYPE.BLUE).values(DSL.val(APPOINTMENTTYPE_SEQ.nex&zwnj;&#8203;tval()), DSL.val(255)).execute();</code> but get the error <code>Cannot resolve method &#39;values(Param&lt;T&gt;, Param&lt;Integer&gt;)&#39;</code>. I am using jooq 3.18.7 in a spring boot 3.1.5 project"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1700659726,"post_id":77529764,"comment_id":136681575,"body_markdown":"`APPOINTMENTTYPE_SEQ.nextval()`  is an expression of type `Field&lt;T&gt;`. It is already of the correct type for the `values(Field&lt;T1&gt;, Field&lt;T2&gt;)` overload. Why did you try to wrap it? Only bind values need to be wrapped to pass them to that overload.","body":"<code>APPOINTMENTTYPE_SEQ.nextval()</code>  is an expression of type <code>Field&lt;T&gt;</code>. It is already of the correct type for the <code>values(Field&lt;T1&gt;, Field&lt;T2&gt;)</code> overload. Why did you try to wrap it? Only bind values need to be wrapped to pass them to that overload."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1700659981,"post_id":77529764,"comment_id":136681629,"body_markdown":"Anyway, I just added the correct answer. I don&#39;t know how else to explain this. Perhaps it &quot;clicks&quot; once you see it?","body":"Anyway, I just added the correct answer. I don&#39;t know how else to explain this. Perhaps it &quot;clicks&quot; once you see it?"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700659938,"creation_date":1700654369,"answer_id":77529764,"question_id":77529642,"body_markdown":"There are only two sets of overloads of the `values()` clause:\r\n\r\n- One where all arguments are bind values, i.e. `values(T1, T2, ...)`\r\n- One where all arguments are expressions, i.e. `values(Field&lt;T1&gt;, Field&lt;T2&gt;, ...)`\r\n\r\nIf arbitrary combinations of bind values and expressions were to be supported, we&#39;d quickly get a prohibitive (exponential!) number of combinations in an already big API.\r\n\r\nAs such, in your case, you just have to wrap your bind value using `DSL.val()` explicitly, i.e. `DSL.val(255)`. I.e. like this:\r\n\r\n```java\r\nint x = dslContext\r\n    .insertInto(APPOINTMENTTYPE, APPOINTMENTTYPE.ID, APPOINTMENTTYPE.BLUE)\r\n    .values(APPOINTMENTTYPE_SEQ.nextval(), DSL.val(255))\r\n    .execute();\r\n```\r\n\r\nSee also:\r\n\r\n- https://www.jooq.org/doc/latest/manual/sql-building/bind-values/indexed-parameters/\r\n- https://stackoverflow.com/q/67522537/521799\r\n\r\nThis limitation obviously doesn&#39;t affect methods with fixed sets of arguments, such as `set()`","title":"JOOQ sequences in insertinto, set vs values","body":"<p>There are only two sets of overloads of the <code>values()</code> clause:</p>\n<ul>\n<li>One where all arguments are bind values, i.e. <code>values(T1, T2, ...)</code></li>\n<li>One where all arguments are expressions, i.e. <code>values(Field&lt;T1&gt;, Field&lt;T2&gt;, ...)</code></li>\n</ul>\n<p>If arbitrary combinations of bind values and expressions were to be supported, we'd quickly get a prohibitive (exponential!) number of combinations in an already big API.</p>\n<p>As such, in your case, you just have to wrap your bind value using <code>DSL.val()</code> explicitly, i.e. <code>DSL.val(255)</code>. I.e. like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int x = dslContext\n    .insertInto(APPOINTMENTTYPE, APPOINTMENTTYPE.ID, APPOINTMENTTYPE.BLUE)\n    .values(APPOINTMENTTYPE_SEQ.nextval(), DSL.val(255))\n    .execute();\n</code></pre>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://www.jooq.org/doc/latest/manual/sql-building/bind-values/indexed-parameters/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/sql-building/bind-values/indexed-parameters/</a></li>\n<li><a href=\"https://stackoverflow.com/q/67522537/521799\">How do I create a Field&lt;T&gt; from a value T in jOOQ, explicitly?</a></li>\n</ul>\n<p>This limitation obviously doesn't affect methods with fixed sets of arguments, such as <code>set()</code></p>\n"}],"owner":{"account_id":22335253,"reputation":23,"user_id":16555951,"display_name":"Chiral Systems"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77529764,"answer_count":1,"score":1,"last_activity_date":1700659938,"creation_date":1700653431,"question_id":77529642,"body_markdown":"I have a simple table with a seqence.\r\nWhen I use sequence.nextval() in the insertInto .set method everything is fine. \r\nWhen I use sequence.nextval() in the insertInto .values method with just the sequence, specifiend again everything is fine.\r\nWhen I use sequence.nextval() in the insertInto .values method with more than the sequence, specifiend, I get an error.\r\n\r\nThis is OK\r\n```\r\n\r\n        int w = dslContext\r\n                .insertInto(APPOINTMENTTYPE)\r\n                .set(APPOINTMENTTYPE.MC, 501559436L)\r\n                .set(APPOINTMENTTYPE.ID, HIBERNATE_SEQUENCE.nextval())\r\n                .set(APPOINTMENTTYPE.NAME, &quot;test name&quot;)\r\n                .set(APPOINTMENTTYPE.DESCRIPTION, &quot;test description&quot;)\r\n                .set(APPOINTMENTTYPE.BLUE, 255)\r\n                .set(APPOINTMENTTYPE.GREEN, 255)\r\n                .set(APPOINTMENTTYPE.RED, 255)\r\n                .set(APPOINTMENTTYPE.REMINDERINTERVAL, 1)\r\n                .execute();\r\n\r\n```\r\nThis is also OK\r\n\r\n```\r\n\r\n        int x = dslContext.insertInto(APPOINTMENTTYPE, \r\nAPPOINTMENTTYPE.ID).values(APPOINTMENTTYPE_SEQ.nextval()).execute();\r\n\r\n```\r\nThis gives the error `Cannot resolve method &#39;values(Field&lt;Long&gt;, int)&#39;`\r\n\r\n```\r\n\r\n        int y = dslContext.insertInto(APPOINTMENTTYPE, APPOINTMENTTYPE.ID, APPOINTMENTTYPE.BLUE).values(APPOINTMENTTYPE_SEQ.nextval(), 255).execute();\r\n\r\n```\r\n\r\n\r\n","title":"JOOQ sequences in insertinto, set vs values","body":"<p>I have a simple table with a seqence.\nWhen I use sequence.nextval() in the insertInto .set method everything is fine.\nWhen I use sequence.nextval() in the insertInto .values method with just the sequence, specifiend again everything is fine.\nWhen I use sequence.nextval() in the insertInto .values method with more than the sequence, specifiend, I get an error.</p>\n<p>This is OK</p>\n<pre><code>\n        int w = dslContext\n                .insertInto(APPOINTMENTTYPE)\n                .set(APPOINTMENTTYPE.MC, 501559436L)\n                .set(APPOINTMENTTYPE.ID, HIBERNATE_SEQUENCE.nextval())\n                .set(APPOINTMENTTYPE.NAME, &quot;test name&quot;)\n                .set(APPOINTMENTTYPE.DESCRIPTION, &quot;test description&quot;)\n                .set(APPOINTMENTTYPE.BLUE, 255)\n                .set(APPOINTMENTTYPE.GREEN, 255)\n                .set(APPOINTMENTTYPE.RED, 255)\n                .set(APPOINTMENTTYPE.REMINDERINTERVAL, 1)\n                .execute();\n\n</code></pre>\n<p>This is also OK</p>\n<pre><code>\n        int x = dslContext.insertInto(APPOINTMENTTYPE, \nAPPOINTMENTTYPE.ID).values(APPOINTMENTTYPE_SEQ.nextval()).execute();\n\n</code></pre>\n<p>This gives the error <code>Cannot resolve method 'values(Field&lt;Long&gt;, int)'</code></p>\n<pre><code>\n        int y = dslContext.insertInto(APPOINTMENTTYPE, APPOINTMENTTYPE.ID, APPOINTMENTTYPE.BLUE).values(APPOINTMENTTYPE_SEQ.nextval(), 255).execute();\n\n</code></pre>\n"},{"tags":["java","docker","maven","dockerfile","docker-api"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1700662406,"post_id":77530366,"comment_id":136682111,"body_markdown":"You should avoid trying to dynamically start containers if at all possible.  Can you have some orchestration tool start all of the containers at once, maybe using Docker Compose or a similar tool?","body":"You should avoid trying to dynamically start containers if at all possible.  Can you have some orchestration tool start all of the containers at once, maybe using Docker Compose or a similar tool?"},{"owner":{"account_id":17167711,"reputation":21,"user_id":12425573,"display_name":"CtrlShiftEscape"},"score":0,"creation_date":1700663670,"post_id":77530366,"comment_id":136682367,"body_markdown":"Yes, the other containers are started with a docker-compose. But I need Module2 to dynamically manage the Module1 containers. The application is an onion routing application and Module2 handles the onion nodes a message has to go through, with Module1 being the node application. So Module2 needs to dynamically create onion nodes in new, seperate containers.","body":"Yes, the other containers are started with a docker-compose. But I need Module2 to dynamically manage the Module1 containers. The application is an onion routing application and Module2 handles the onion nodes a message has to go through, with Module1 being the node application. So Module2 needs to dynamically create onion nodes in new, seperate containers."},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1700664088,"post_id":77530366,"comment_id":136682470,"body_markdown":"In the workflow you&#39;re describing, you need to check out and compile source code on a request; start a container, correctly managing its networking and the container lifecycle; and safely manage access to the Docker socket, which can easily be used to compromise the entire host.  That&#39;s not easy.  Do you have a solid understanding of Docker already; for example, can you explain which directory you&#39;re in for the &quot;module1&quot; container, why that relative path is correct, and how the other Dockerfile got there?","body":"In the workflow you&#39;re describing, you need to check out and compile source code on a request; start a container, correctly managing its networking and the container lifecycle; and safely manage access to the Docker socket, which can easily be used to compromise the entire host.  That&#39;s not easy.  Do you have a solid understanding of Docker already; for example, can you explain which directory you&#39;re in for the &quot;module1&quot; container, why that relative path is correct, and how the other Dockerfile got there?"},{"owner":{"account_id":17167711,"reputation":21,"user_id":12425573,"display_name":"CtrlShiftEscape"},"score":0,"creation_date":1700665118,"post_id":77530366,"comment_id":136682677,"body_markdown":"Not sure what you mean exactly, but within Module2, I try to compile the Module1 code to an image and start the image within ParentModule/Module2/src/main/java/onion/Application.java. For that I need the Dockerfile of Module1, which is located in ParentModule/Module1/Dockerfile. So the relative path `../../../../../Module1/Dockerfile` should be correct. The Dockerfile for Module2 is not really relevant here, since it is managed by an outer docker-compose that starts Module2 in its own container. Or doesn&#39;t the path based approach work since the module2 container doesn&#39;t have access to module1?","body":"Not sure what you mean exactly, but within Module2, I try to compile the Module1 code to an image and start the image within ParentModule/Module2/src/main/java/onion/Application.java. For that I need the Dockerfile of Module1, which is located in ParentModule/Module1/Dockerfile. So the relative path <code>..&#47;..&#47;..&#47;..&#47;..&#47;Module1&#47;Dockerfile</code> should be correct. The Dockerfile for Module2 is not really relevant here, since it is managed by an outer docker-compose that starts Module2 in its own container. Or doesn&#39;t the path based approach work since the module2 container doesn&#39;t have access to module1?"},{"owner":{"account_id":17167711,"reputation":21,"user_id":12425573,"display_name":"CtrlShiftEscape"},"score":0,"creation_date":1700665327,"post_id":77530366,"comment_id":136682729,"body_markdown":"Would it make more sense to combine Module1 and Module2 into one unified module? So that within the container of Module2, I still have access to the source code of Module1 and can create an image via a Dockerfile.","body":"Would it make more sense to combine Module1 and Module2 into one unified module? So that within the container of Module2, I still have access to the source code of Module1 and can create an image via a Dockerfile."},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1700665711,"post_id":77530366,"comment_id":136682822,"body_markdown":"Why do you need to dynamically compile the image?","body":"Why do you need to dynamically compile the image?"},{"owner":{"account_id":17167711,"reputation":21,"user_id":12425573,"display_name":"CtrlShiftEscape"},"score":0,"creation_date":1700677773,"post_id":77530366,"comment_id":136685210,"body_markdown":"I guess I dont need to dynamically compile the image every time, it&#39;s sufficient for me to know the already compiled image id of Module1 in Module2. Or can I create a container via the docker-api with a name:tag as well, instead of the image id? I haven&#39;t found anything regardning that online. I can&#39;t really assume that the image id of module1 will stay the same. Any help that pushes me in the right direction is appreciated, thanks.","body":"I guess I dont need to dynamically compile the image every time, it&#39;s sufficient for me to know the already compiled image id of Module1 in Module2. Or can I create a container via the docker-api with a name:tag as well, instead of the image id? I haven&#39;t found anything regardning that online. I can&#39;t really assume that the image id of module1 will stay the same. Any help that pushes me in the right direction is appreciated, thanks."}],"owner":{"account_id":17167711,"reputation":21,"user_id":12425573,"display_name":"CtrlShiftEscape"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700659900,"creation_date":1700659900,"question_id":77530366,"body_markdown":"My issue is the following: I have a maven parent-module &amp; several submodules architecture, with each module being a dockerized, fully independent application. \r\n\r\nThis is the architecture:\r\n\r\n```\r\n -ParentMoule\r\n  |\r\n  |-Module1\r\n  | |\r\n  | |-src/...\r\n  | |-pom.xml\r\n  | |-Dockerfile\r\n  | \r\n  |\r\n  |-Module2\r\n  | |\r\n  | |-src/...\r\n  | |-pom.xml\r\n  | |-Dockerfile\r\n  | \r\n  |-several more modules\r\n  |\r\n  |_pom.xml\r\n```\r\n\r\nNow I want to use the java docker-api in Module2 to start, manage and stop containers running instances of Module1. For that, I use the docker-api and need access to the Dockerfile of Module1, in order to create an image and start new instances in new containers.\r\n\r\nSo how do I access the Dockerfile of Module1 in Module2?  \r\n\r\n\r\n\r\nThis purely path based approach doesn&#39;t work:\r\n\r\n```\r\nString image = dockerClient.buildImageCmd()\r\n                .withDockerfile(new File(&quot;../../../../../chainNode/Dockerfile&quot;))\r\n                .exec(new BuildImageResultCallback())\r\n                .awaitImageId();\r\n```\r\n\r\nI get a &quot;Caused by: java.lang.IllegalArgumentException: Dockerfile does not exist&quot;, so it obv. doesn&#39;t find it. \r\n\r\nFull stack trace:\r\n\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;config&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Dockerfile does not exist\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160) ~[spring-beans-5.3.1.jar:5.3.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.3.1.jar:5.3.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1780) ~[spring-beans-5.3.1.jar:5.3.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:609) ~[spring-beans-5.3.1.jar:5.3.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.1.jar:5.3.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:925) ~[spring-context-5.3.1.jar:5.3.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588) ~[spring-context-5.3.1.jar:5.3.1]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.0.jar:2.4.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.0.jar:2.4.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.0.jar:2.4.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.0.jar:2.4.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-2.4.0.jar:2.4.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-2.4.0.jar:2.4.0]\r\n\tat onion.DirectoryNodeApplication.main(DirectoryNodeApplication.java:14) ~[classes/:na]\r\nCaused by: java.lang.IllegalArgumentException: Dockerfile does not exist\r\n\tat com.github.dockerjava.core.command.BuildImageCmdImpl.withDockerfile(BuildImageCmdImpl.java:331) ~[docker-java-core-3.3.3.jar:na]\r\n\tat com.github.dockerjava.core.command.BuildImageCmdImpl.withDockerfile(BuildImageCmdImpl.java:22) ~[docker-java-core-3.3.3.jar:na]\r\n\tat onion.Config.buildAndInitChainNodeContainers(Config.java:46) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.1.jar:5.3.1]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157) ~[spring-beans-5.3.1.jar:5.3.1]\r\n\t... 19 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\nNeither does including Module1 as a dependency in the pom of Module2 work. How do I access the Dockerfile of Module1?","title":"Using docker-api in java to start containers within a maven submodule","body":"<p>My issue is the following: I have a maven parent-module &amp; several submodules architecture, with each module being a dockerized, fully independent application.</p>\n<p>This is the architecture:</p>\n<pre><code> -ParentMoule\n  |\n  |-Module1\n  | |\n  | |-src/...\n  | |-pom.xml\n  | |-Dockerfile\n  | \n  |\n  |-Module2\n  | |\n  | |-src/...\n  | |-pom.xml\n  | |-Dockerfile\n  | \n  |-several more modules\n  |\n  |_pom.xml\n</code></pre>\n<p>Now I want to use the java docker-api in Module2 to start, manage and stop containers running instances of Module1. For that, I use the docker-api and need access to the Dockerfile of Module1, in order to create an image and start new instances in new containers.</p>\n<p>So how do I access the Dockerfile of Module1 in Module2?</p>\n<p>This purely path based approach doesn't work:</p>\n<pre><code>String image = dockerClient.buildImageCmd()\n                .withDockerfile(new File(&quot;../../../../../chainNode/Dockerfile&quot;))\n                .exec(new BuildImageResultCallback())\n                .awaitImageId();\n</code></pre>\n<p>I get a &quot;Caused by: java.lang.IllegalArgumentException: Dockerfile does not exist&quot;, so it obv. doesn't find it.</p>\n<p>Full stack trace:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'config': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Dockerfile does not exist\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1780) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:609) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:925) ~[spring-context-5.3.1.jar:5.3.1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588) ~[spring-context-5.3.1.jar:5.3.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-2.4.0.jar:2.4.0]\n    at onion.DirectoryNodeApplication.main(DirectoryNodeApplication.java:14) ~[classes/:na]\nCaused by: java.lang.IllegalArgumentException: Dockerfile does not exist\n    at com.github.dockerjava.core.command.BuildImageCmdImpl.withDockerfile(BuildImageCmdImpl.java:331) ~[docker-java-core-3.3.3.jar:na]\n    at com.github.dockerjava.core.command.BuildImageCmdImpl.withDockerfile(BuildImageCmdImpl.java:22) ~[docker-java-core-3.3.3.jar:na]\n    at onion.Config.buildAndInitChainNodeContainers(Config.java:46) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157) ~[spring-beans-5.3.1.jar:5.3.1]\n    ... 19 common frames omitted\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>Neither does including Module1 as a dependency in the pom of Module2 work. How do I access the Dockerfile of Module1?</p>\n"},{"tags":["java","spring-boot","google-drive-api","google-oauth","google-api-java-client"],"answers":[{"comments":[{"owner":{"account_id":29966479,"reputation":1,"user_id":22964945,"display_name":"lohan"},"score":0,"creation_date":1700662115,"post_id":77530341,"comment_id":136682052,"body_markdown":"Sorry, still the same","body":"Sorry, still the same"},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1700667436,"post_id":77530341,"comment_id":136683194,"body_markdown":"Did it pop up and request authorization again?","body":"Did it pop up and request authorization again?"},{"owner":{"account_id":29966479,"reputation":1,"user_id":22964945,"display_name":"lohan"},"score":1,"creation_date":1700677527,"post_id":77530341,"comment_id":136685154,"body_markdown":"Fixed, I just need to add both scopes to the credential. As the app get info from Sheets and then from Drive. I was creating 2 different credentials with different scopes. But I&#39;ve realized after @DalmTo comment the token it will be generated only with the Sheets scope :/ So, the solution is add both scopes to the credential the first time so the token have the correct privileges. Thanks :)","body":"Fixed, I just need to add both scopes to the credential. As the app get info from Sheets and then from Drive. I was creating 2 different credentials with different scopes. But I&#39;ve realized after @DalmTo comment the token it will be generated only with the Sheets scope :/ So, the solution is add both scopes to the credential the first time so the token have the correct privileges. Thanks :)"}],"tags":[],"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700659730,"creation_date":1700659730,"answer_id":77530341,"question_id":77530152,"body_markdown":"go to TOKENS_DIRECTORY_PATH And delete the file there.\r\n\r\nYou previously authorized your application then changed the scope.\r\n\r\nYour app needs to request authorization of the user again and request the new scope.\r\n","title":"Google Drive credential returns 403 insufficientPermissions","body":"<p>go to TOKENS_DIRECTORY_PATH And delete the file there.</p>\n<p>You previously authorized your application then changed the scope.</p>\n<p>Your app needs to request authorization of the user again and request the new scope.</p>\n"}],"owner":{"account_id":29966479,"reputation":1,"user_id":22964945,"display_name":"lohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700659786,"creation_date":1700658036,"question_id":77530152,"body_markdown":"I&#39;m trying to get a list of files&#39; data from Drive.\r\nFollowing the google&#39;s example didn&#39;t work.\r\n\r\nThis is an example of my code:\r\n\r\n``` \r\nprivate static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\r\n\r\nprivate Drive createDriveService() throws IOException, GeneralSecurityException\r\n    {\r\n        final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n        InputStream in = ImageImpl.class.getResourceAsStream(USER_CREDENTIALS_FILE_PATH);\r\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n\r\n        // Build flow and trigger user authorization request.\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, Collections.singleton(DriveScopes.DRIVE))\r\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                .setAccessType(&quot;offline&quot;)\r\n                .build();\r\n        Credential credential = new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver()).authorize(&quot;user&quot;);\r\n        return new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, credential)\r\n                .setApplicationName(applicationName)\r\n                .build();\r\n    }\r\n\r\n    public void listFiles() throws IOException, GeneralSecurityException\r\n    {\r\n        Drive service = createDriveService();\r\n        FileList result = service.files().list()\r\n                .setPageSize(10)\r\n                .setFields(&quot;nextPageToken, files(id, name)&quot;)\r\n                .execute();\r\n        List&lt;File&gt; files = result.getFiles();\r\n    }\r\n```\r\nOutput:\r\n\r\n```\r\ncom.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden\r\nGET https://www.googleapis.com/drive/v3/files?fields=nextPageToken,%20files(id,%20name)&amp;pageSize=10\r\n{\r\n  &quot;code&quot;: 403,\r\n  &quot;details&quot;: [\r\n    {\r\n      &quot;@type&quot;: &quot;type.googleapis.com/google.rpc.ErrorInfo&quot;,\r\n      &quot;reason&quot;: &quot;ACCESS_TOKEN_SCOPE_INSUFFICIENT&quot;,\r\n      &quot;domain&quot;: &quot;googleapis.com&quot;,\r\n      &quot;metadata&quot;: {\r\n        &quot;service&quot;: &quot;drive.googleapis.com&quot;,\r\n        &quot;method&quot;: &quot;google.apps.drive.v3.DriveFiles.List&quot;\r\n      }\r\n    }\r\n  ],\r\n  &quot;errors&quot;: [\r\n    {\r\n      &quot;domain&quot;: &quot;global&quot;,\r\n      &quot;message&quot;: &quot;Insufficient Permission&quot;,\r\n      &quot;reason&quot;: &quot;insufficientPermissions&quot;\r\n    }\r\n  ],\r\n  &quot;message&quot;: &quot;Request had insufficient authentication scopes.&quot;,\r\n  &quot;status&quot;: &quot;PERMISSION_DENIED&quot;\r\n}\r\n```\r\n\r\nAny ideas?\r\n\r\nI&#39;ve tried test the Query here -&gt; https://developers.google.com/drive/api/reference/rest/v2/files/list and works ok, but not locally\r\nAlso, I&#39;m using the same credential to have access to a Sheet by ID and works, so that tells me the authentication it&#39;s fine, the only difference is the scope.","title":"Google Drive credential returns 403 insufficientPermissions","body":"<p>I'm trying to get a list of files' data from Drive.\nFollowing the google's example didn't work.</p>\n<p>This is an example of my code:</p>\n<pre><code>private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\n\nprivate Drive createDriveService() throws IOException, GeneralSecurityException\n    {\n        final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n        InputStream in = ImageImpl.class.getResourceAsStream(USER_CREDENTIALS_FILE_PATH);\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n        // Build flow and trigger user authorization request.\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, Collections.singleton(DriveScopes.DRIVE))\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n                .setAccessType(&quot;offline&quot;)\n                .build();\n        Credential credential = new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver()).authorize(&quot;user&quot;);\n        return new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, credential)\n                .setApplicationName(applicationName)\n                .build();\n    }\n\n    public void listFiles() throws IOException, GeneralSecurityException\n    {\n        Drive service = createDriveService();\n        FileList result = service.files().list()\n                .setPageSize(10)\n                .setFields(&quot;nextPageToken, files(id, name)&quot;)\n                .execute();\n        List&lt;File&gt; files = result.getFiles();\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden\nGET https://www.googleapis.com/drive/v3/files?fields=nextPageToken,%20files(id,%20name)&amp;pageSize=10\n{\n  &quot;code&quot;: 403,\n  &quot;details&quot;: [\n    {\n      &quot;@type&quot;: &quot;type.googleapis.com/google.rpc.ErrorInfo&quot;,\n      &quot;reason&quot;: &quot;ACCESS_TOKEN_SCOPE_INSUFFICIENT&quot;,\n      &quot;domain&quot;: &quot;googleapis.com&quot;,\n      &quot;metadata&quot;: {\n        &quot;service&quot;: &quot;drive.googleapis.com&quot;,\n        &quot;method&quot;: &quot;google.apps.drive.v3.DriveFiles.List&quot;\n      }\n    }\n  ],\n  &quot;errors&quot;: [\n    {\n      &quot;domain&quot;: &quot;global&quot;,\n      &quot;message&quot;: &quot;Insufficient Permission&quot;,\n      &quot;reason&quot;: &quot;insufficientPermissions&quot;\n    }\n  ],\n  &quot;message&quot;: &quot;Request had insufficient authentication scopes.&quot;,\n  &quot;status&quot;: &quot;PERMISSION_DENIED&quot;\n}\n</code></pre>\n<p>Any ideas?</p>\n<p>I've tried test the Query here -&gt; <a href=\"https://developers.google.com/drive/api/reference/rest/v2/files/list\" rel=\"nofollow noreferrer\">https://developers.google.com/drive/api/reference/rest/v2/files/list</a> and works ok, but not locally\nAlso, I'm using the same credential to have access to a Sheet by ID and works, so that tells me the authentication it's fine, the only difference is the scope.</p>\n"},{"tags":["java","restfb"],"comments":[{"owner":{"account_id":1466941,"reputation":1440,"user_id":1379528,"display_name":"Norbert"},"score":0,"creation_date":1700734333,"post_id":77530156,"comment_id":136691855,"body_markdown":"Because you try to use a bad access token, Facebook sends an error of Type OAuthException. So RestFB converts this in a FacebookOAuthException. So far everythin is right. You and your application has to handle this situation and do something, because there is no autoheal for bad access tokens. Maybe you have to show some dialog or somehting. That&#39;s what you can do in your exception handling.","body":"Because you try to use a bad access token, Facebook sends an error of Type OAuthException. So RestFB converts this in a FacebookOAuthException. So far everythin is right. You and your application has to handle this situation and do something, because there is no autoheal for bad access tokens. Maybe you have to show some dialog or somehting. That&#39;s what you can do in your exception handling."}],"owner":{"account_id":12377973,"reputation":242,"user_id":10053673,"display_name":"user10053673"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700659613,"creation_date":1700658047,"question_id":77530156,"body_markdown":"When usign the RestFB SDK and a wrong or expired token when authenticating, the application crashes. It can&#39;t be handled by a try/catch block. Does anyone know how to fix this?\r\n\r\n    public static void main(String[] args) {\r\n        FacebookClient facebookClient = null;\r\n        String _pageAccessToken = &quot;0000&quot;;\r\n\r\n        if (!&quot;&quot;.equals(_pageAccessToken)) {\r\n            try{\r\n                facebookClient = new DefaultFacebookClient(_pageAccessToken, Version.VERSION_18_0);\r\n            }catch (FacebookOAuthException ex1) {\r\n                String msg = &quot;Authentication error ...&quot;;\r\n            }catch (Exception ex2){\r\n                String msg= &quot;Authentication error ...&quot;;\r\n            }catch (Throwable th1){\r\n                String msg= &quot;Authentication error ...&quot;;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\nMessage:\r\n\r\n        Exception in thread &quot;main&quot; com.restfb.exception.FacebookOAuthException: Received Facebook error response of type OAuthException: The access token could not be decrypted (code 190, subcode null) &#39;null - null&#39;\r\n\tat com.restfb.exception.generator.DefaultFacebookExceptionGenerator$DefaultGraphFacebookExceptionMapper.exceptionForTypeAndMessage(DefaultFacebookExceptionGenerator.java:181)\r\n\tat com.restfb.exception.generator.DefaultFacebookExceptionGenerator.throwFacebookResponseStatusExceptionIfNecessary(DefaultFacebookExceptionGenerator.java:65)\r\n\tat com.restfb.DefaultFacebookClient.makeRequestAndProcessResponse(DefaultFacebookClient.java:850)\r\n\tat com.restfb.DefaultFacebookClient.makeRequest(DefaultFacebookClient.java:766)\r\n\tat com.restfb.DefaultFacebookClient.makeRequest(DefaultFacebookClient.java:722)\r\n\tat com.restfb.DefaultFacebookClient.publish(DefaultFacebookClient.java:353)\r\n\tat com.restfb.DefaultFacebookClient.publish(DefaultFacebookClient.java:373)\r\n\r\npom.xml\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.restfb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;restfb&lt;/artifactId&gt;\r\n            &lt;version&gt;2023.15.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nHow to prevent the app from crashing?","title":"How to handle FacebookOAuthException in restFB and Java?","body":"<p>When usign the RestFB SDK and a wrong or expired token when authenticating, the application crashes. It can't be handled by a try/catch block. Does anyone know how to fix this?</p>\n<pre><code>public static void main(String[] args) {\n    FacebookClient facebookClient = null;\n    String _pageAccessToken = &quot;0000&quot;;\n\n    if (!&quot;&quot;.equals(_pageAccessToken)) {\n        try{\n            facebookClient = new DefaultFacebookClient(_pageAccessToken, Version.VERSION_18_0);\n        }catch (FacebookOAuthException ex1) {\n            String msg = &quot;Authentication error ...&quot;;\n        }catch (Exception ex2){\n            String msg= &quot;Authentication error ...&quot;;\n        }catch (Throwable th1){\n            String msg= &quot;Authentication error ...&quot;;\n        }\n\n    }\n}\n</code></pre>\n<p>Message:</p>\n<pre><code>    Exception in thread &quot;main&quot; com.restfb.exception.FacebookOAuthException: Received Facebook error response of type OAuthException: The access token could not be decrypted (code 190, subcode null) 'null - null'\nat com.restfb.exception.generator.DefaultFacebookExceptionGenerator$DefaultGraphFacebookExceptionMapper.exceptionForTypeAndMessage(DefaultFacebookExceptionGenerator.java:181)\nat com.restfb.exception.generator.DefaultFacebookExceptionGenerator.throwFacebookResponseStatusExceptionIfNecessary(DefaultFacebookExceptionGenerator.java:65)\nat com.restfb.DefaultFacebookClient.makeRequestAndProcessResponse(DefaultFacebookClient.java:850)\nat com.restfb.DefaultFacebookClient.makeRequest(DefaultFacebookClient.java:766)\nat com.restfb.DefaultFacebookClient.makeRequest(DefaultFacebookClient.java:722)\nat com.restfb.DefaultFacebookClient.publish(DefaultFacebookClient.java:353)\nat com.restfb.DefaultFacebookClient.publish(DefaultFacebookClient.java:373)\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.restfb&lt;/groupId&gt;\n        &lt;artifactId&gt;restfb&lt;/artifactId&gt;\n        &lt;version&gt;2023.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>How to prevent the app from crashing?</p>\n"},{"tags":["java","android","unity-game-engine","gradle","sdk"],"owner":{"display_name":"user17747683"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1700659324,"creation_date":1653565688,"question_id":72391329,"body_markdown":"While building an application for Android, I came across an error that read: &#39;gradle build error. Please see Console&#39;.\r\n\r\nAnd when I saw the console, I did not understand the words.\r\n\r\nThis is the collapsed error:\r\n\r\n```CommandInvokationFailure: Gradle build failed. \r\nD:/UnityInstalled/Unity/Editor/2019.4.39f1/Editor/Data/PlaybackEngines/AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;D:\\UnityInstalled\\New folder\\gradle-6.9.2-all\\gradle-6.9.2\\lib\\gradle-launcher-6.9.2.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleRelease&quot;\r\n\r\nstderr[\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:launcher&#39;.\r\n&gt; Could not resolve all artifacts for configuration &#39;:launcher:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:3.4.0.\r\n     Required by:\r\n         project :launcher\r\n      &gt; Could not resolve com.android.tools.build:gradle:3.4.0.\r\n         &gt; Could not get resource &#39;https://jcenter.bintray.com/com/android/tools/build/gradle/3.4.0/gradle-3.4.0.pom&#39;.\r\n            &gt; Could not GET &#39;https://jcenter.bintray.com/com/android/tools/build/gradle/3.4.0/gradle-3.4.0.pom&#39;. Received status code 403 from server: Forbidden\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 2s\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\r\n]\r\nstdout[\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/6.9.2/userguide/command_line_interface.html#sec:command_line_warnings\r\n]\r\nexit code: 1\r\nUnityEditor.Android.Command.WaitForProgramToRun (UnityEditor.Utils.Program p, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\r\nUnityEditor.Android.Command.Run (System.Diagnostics.ProcessStartInfo psi, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\r\nUnityEditor.Android.Command.Run (System.String command, System.String args, System.String workingdir, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\r\nUnityEditor.Android.AndroidJavaTools.RunJava (System.String args, System.String workingdir, System.Action`1[T] progress, System.String error) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\r\nUnityEditor.Android.GradleWrapper.Run (UnityEditor.Android.AndroidJavaTools javaTools, System.String workingdir, System.String task, System.Action`1[T] progress) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\r\nRethrow as GradleInvokationException: Gradle build failed\r\nUnityEditor.Android.GradleWrapper.Run (UnityEditor.Android.AndroidJavaTools javaTools, System.String workingdir, System.String task, System.Action`1[T] progress) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\r\nUnityEditor.Android.PostProcessor.Tasks.BuildGradleProject.Execute (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\r\nUnityEditor.Android.PostProcessor.PostProcessRunner.RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\r\nRethrow as BuildFailedException: Exception of type &#39;UnityEditor.Build.BuildFailedException&#39; was thrown.\r\nUnityEditor.Android.PostProcessor.CancelPostProcess.AbortBuild (System.String title, System.String message, System.Exception ex) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\r\nUnityEditor.Android.PostProcessor.PostProcessRunner.RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\r\nUnityEditor.Android.PostProcessAndroidPlayer.PostProcess (UnityEditor.BuildTarget target, System.String stagingAreaData, System.String stagingArea, System.String playerPackage, System.String installPath, System.String companyName, System.String productName, UnityEditor.BuildOptions options, UnityEditor.RuntimeClassRegistry usedClassRegistry, UnityEditor.Build.Reporting.BuildReport report) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\r\nUnityEditor.Android.AndroidBuildPostprocessor.PostProcess (UnityEditor.Modules.BuildPostProcessArgs args, UnityEditor.BuildProperties&amp; outProperties) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\r\nUnityEditor.PostprocessBuildPlayer.Postprocess (UnityEditor.BuildTargetGroup targetGroup, UnityEditor.BuildTarget target, System.String installPath, System.String companyName, System.String productName, System.Int32 width, System.Int32 height, UnityEditor.BuildOptions options, UnityEditor.RuntimeClassRegistry usedClassRegistry, UnityEditor.Build.Reporting.BuildReport report) (at &lt;c1da2d3b31364fe390649500fcb0efe5&gt;:0)\r\nUnityEngine.GUIUtility:ProcessEvent(Int32, IntPtr)\r\n```","title":"Unity Gradle build failed error on Android building","body":"<p>While building an application for Android, I came across an error that read: 'gradle build error. Please see Console'.</p>\n<p>And when I saw the console, I did not understand the words.</p>\n<p>This is the collapsed error:</p>\n<pre><code>D:/UnityInstalled/Unity/Editor/2019.4.39f1/Editor/Data/PlaybackEngines/AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;D:\\UnityInstalled\\New folder\\gradle-6.9.2-all\\gradle-6.9.2\\lib\\gradle-launcher-6.9.2.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleRelease&quot;\n\nstderr[\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring project ':launcher'.\n&gt; Could not resolve all artifacts for configuration ':launcher:classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:3.4.0.\n     Required by:\n         project :launcher\n      &gt; Could not resolve com.android.tools.build:gradle:3.4.0.\n         &gt; Could not get resource 'https://jcenter.bintray.com/com/android/tools/build/gradle/3.4.0/gradle-3.4.0.pom'.\n            &gt; Could not GET 'https://jcenter.bintray.com/com/android/tools/build/gradle/3.4.0/gradle-3.4.0.pom'. Received status code 403 from server: Forbidden\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2s\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\n]\nstdout[\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.9.2/userguide/command_line_interface.html#sec:command_line_warnings\n]\nexit code: 1\nUnityEditor.Android.Command.WaitForProgramToRun (UnityEditor.Utils.Program p, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\nUnityEditor.Android.Command.Run (System.Diagnostics.ProcessStartInfo psi, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\nUnityEditor.Android.Command.Run (System.String command, System.String args, System.String workingdir, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\nUnityEditor.Android.AndroidJavaTools.RunJava (System.String args, System.String workingdir, System.Action`1[T] progress, System.String error) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\nUnityEditor.Android.GradleWrapper.Run (UnityEditor.Android.AndroidJavaTools javaTools, System.String workingdir, System.String task, System.Action`1[T] progress) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\nRethrow as GradleInvokationException: Gradle build failed\nUnityEditor.Android.GradleWrapper.Run (UnityEditor.Android.AndroidJavaTools javaTools, System.String workingdir, System.String task, System.Action`1[T] progress) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\nUnityEditor.Android.PostProcessor.Tasks.BuildGradleProject.Execute (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\nUnityEditor.Android.PostProcessor.PostProcessRunner.RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\nRethrow as BuildFailedException: Exception of type 'UnityEditor.Build.BuildFailedException' was thrown.\nUnityEditor.Android.PostProcessor.CancelPostProcess.AbortBuild (System.String title, System.String message, System.Exception ex) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\nUnityEditor.Android.PostProcessor.PostProcessRunner.RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\nUnityEditor.Android.PostProcessAndroidPlayer.PostProcess (UnityEditor.BuildTarget target, System.String stagingAreaData, System.String stagingArea, System.String playerPackage, System.String installPath, System.String companyName, System.String productName, UnityEditor.BuildOptions options, UnityEditor.RuntimeClassRegistry usedClassRegistry, UnityEditor.Build.Reporting.BuildReport report) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\nUnityEditor.Android.AndroidBuildPostprocessor.PostProcess (UnityEditor.Modules.BuildPostProcessArgs args, UnityEditor.BuildProperties&amp; outProperties) (at &lt;dd2e71f8d45046b88d6d3169a8084aec&gt;:0)\nUnityEditor.PostprocessBuildPlayer.Postprocess (UnityEditor.BuildTargetGroup targetGroup, UnityEditor.BuildTarget target, System.String installPath, System.String companyName, System.String productName, System.Int32 width, System.Int32 height, UnityEditor.BuildOptions options, UnityEditor.RuntimeClassRegistry usedClassRegistry, UnityEditor.Build.Reporting.BuildReport report) (at &lt;c1da2d3b31364fe390649500fcb0efe5&gt;:0)\nUnityEngine.GUIUtility:ProcessEvent(Int32, IntPtr)\n</code></pre>\n"},{"tags":["java","android","audio","uri","albumart"],"answers":[{"tags":[],"owner":{"account_id":2122430,"reputation":576,"user_id":1885415,"display_name":"Srishti Roy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700659217,"creation_date":1413442923,"answer_id":26398102,"question_id":24687228,"body_markdown":"```   \r\n String[] columns = { android.provider.MediaStore.Audio.Albums._ID,\r\n                   android.provider. MediaStore.Audio.Albums.ALBUM,android.provider.MediaStore.Audio.Albums.ALBUM_ART };\r\n    \t\tint album_column_index=0;\r\n            Cursor cursor = getActivity().managedQuery(\r\n                    MediaStore.Audio.Albums.EXTERNAL_CONTENT_URI, columns, null,\r\n                    null, null);\r\n    \r\n            if (cursor.moveToFirst()) {\r\n                do {\r\n                \t\r\n                    \r\n                    arrAlbumNAme.add( cursor.getString(cursor\r\n                            .getColumnIndex(android.provider.MediaStore.Audio.Albums.ALBUM)));\r\n                    album_column_index = cursor.getColumnIndexOrThrow(android.provider.MediaStore.Audio.Albums._ID);\r\n                    //cursor.moveToPosition(position);\r\n                    albumID = cursor.getInt(album_column_index);\r\n                    Uri sArtworkUri = Uri.parse(&quot;content://media/external/audio/albumart&quot;);\r\n                    Uri uri = ContentUris.withAppendedId(sArtworkUri, albumID);\r\n                    arrAlbumArt.add(cursor.getString(cursor\r\n                            .getColumnIndex(android.provider.MediaStore.Audio.Albums.ALBUM_ART)));\r\n    \r\n                } while (cursor.moveToNext());\r\n            }\r\n\r\n\r\nInside adapter\r\nholder.image_icon.setImageUri(arrAlbumArt.get(position));\r\n```","title":"How to fetch Cover Art for MEDIA (MediaStore.Audio.Media) in android (API 19)","body":"<pre><code> String[] columns = { android.provider.MediaStore.Audio.Albums._ID,\n                   android.provider. MediaStore.Audio.Albums.ALBUM,android.provider.MediaStore.Audio.Albums.ALBUM_ART };\n            int album_column_index=0;\n            Cursor cursor = getActivity().managedQuery(\n                    MediaStore.Audio.Albums.EXTERNAL_CONTENT_URI, columns, null,\n                    null, null);\n    \n            if (cursor.moveToFirst()) {\n                do {\n                    \n                    \n                    arrAlbumNAme.add( cursor.getString(cursor\n                            .getColumnIndex(android.provider.MediaStore.Audio.Albums.ALBUM)));\n                    album_column_index = cursor.getColumnIndexOrThrow(android.provider.MediaStore.Audio.Albums._ID);\n                    //cursor.moveToPosition(position);\n                    albumID = cursor.getInt(album_column_index);\n                    Uri sArtworkUri = Uri.parse(&quot;content://media/external/audio/albumart&quot;);\n                    Uri uri = ContentUris.withAppendedId(sArtworkUri, albumID);\n                    arrAlbumArt.add(cursor.getString(cursor\n                            .getColumnIndex(android.provider.MediaStore.Audio.Albums.ALBUM_ART)));\n    \n                } while (cursor.moveToNext());\n            }\n\n\nInside adapter\nholder.image_icon.setImageUri(arrAlbumArt.get(position));\n</code></pre>\n"}],"owner":{"account_id":4692626,"reputation":378,"user_id":3798373,"accept_rate":71,"display_name":"Sneppy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700659217,"creation_date":1405030672,"question_id":24687228,"body_markdown":"So i&#39;m trying to build a very simple music player (I started working with android just a few days ago). Till now I wrote the code to retrieve songs informations. However I&#39;m not able to retrieve the album art for every single media.\r\nI know there is a column ALBUM_ART in MediaStore.Audio.Album (I tried to retrieve the Album art for each album and it worked), but I want to assign the album art to each song and I don&#39;t know how to do it.\r\nSurfing the net I found this kind of code:\r\n\r\n    Uri sArtworkUri = Uri.parse(&quot;content://media/external/audio/albumart&quot;);\r\n    Uri albumArtUri = ContentUris.withAppendedId(sArtworkUri, albumId);\r\nBut it doesn&#39;t seem to work, all I get is `null`. Can someone explain me how to retrieve the album art for each song?","title":"How to fetch Cover Art for MEDIA (MediaStore.Audio.Media) in android (API 19)","body":"<p>So i'm trying to build a very simple music player (I started working with android just a few days ago). Till now I wrote the code to retrieve songs informations. However I'm not able to retrieve the album art for every single media.\nI know there is a column ALBUM_ART in MediaStore.Audio.Album (I tried to retrieve the Album art for each album and it worked), but I want to assign the album art to each song and I don't know how to do it.\nSurfing the net I found this kind of code:</p>\n\n<pre><code>Uri sArtworkUri = Uri.parse(\"content://media/external/audio/albumart\");\nUri albumArtUri = ContentUris.withAppendedId(sArtworkUri, albumId);\n</code></pre>\n\n<p>But it doesn't seem to work, all I get is <code>null</code>. Can someone explain me how to retrieve the album art for each song?</p>\n"},{"tags":["java","jar","executable-jar"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1344902641,"post_id":11943948,"comment_id":15912061,"body_markdown":"Sounds like the Jar is corrupt in some way, possibly missing the Manifest entry.","body":"Sounds like the Jar is corrupt in some way, possibly missing the Manifest entry."},{"owner":{"account_id":1095084,"reputation":2277,"user_id":1088846,"accept_rate":100,"display_name":"Jochen"},"score":0,"creation_date":1344903078,"post_id":11943948,"comment_id":15912143,"body_markdown":"You should show how you created the JARs, what&#39;s in them and how you try to run the program. The Java code is irrelevant here.","body":"You should show how you created the JARs, what&#39;s in them and how you try to run the program. The Java code is irrelevant here."},{"owner":{"account_id":1481109,"reputation":717,"user_id":1390487,"accept_rate":72,"display_name":"MattS"},"score":0,"creation_date":1344903127,"post_id":11943948,"comment_id":15912157,"body_markdown":"Have you tried relaunching elcipse and recompiling? Sometimes Eclipse has does some strange things that can be avoided by relaunching.","body":"Have you tried relaunching elcipse and recompiling? Sometimes Eclipse has does some strange things that can be avoided by relaunching."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1344903612,"post_id":11943948,"comment_id":15912248,"body_markdown":"I find the code difficult to read and think about. And what&#39;s the point of having everything in a static main function and having a single instance method to clear the console?","body":"I find the code difficult to read and think about. And what&#39;s the point of having everything in a static main function and having a single instance method to clear the console?"},{"owner":{"account_id":1436908,"reputation":3313,"user_id":1358079,"accept_rate":50,"display_name":"Joseph Smith"},"score":0,"creation_date":1344904173,"post_id":11943948,"comment_id":15912348,"body_markdown":"MadProgrammer: How can I fix this?\nJochen: Will Do. I&#39;ll edit it now.\nMattS: Yes i&#39;ve tried that multiple times\nDave: Because I&#39;ve only scratched the surface of Java and i dont really know what &quot;beautiful&quot; code looks like :)","body":"MadProgrammer: How can I fix this? Jochen: Will Do. I&#39;ll edit it now. MattS: Yes i&#39;ve tried that multiple times Dave: Because I&#39;ve only scratched the surface of Java and i dont really know what &quot;beautiful&quot; code looks like :)"},{"owner":{"account_id":1137241,"reputation":2389,"user_id":1122053,"accept_rate":40,"display_name":"Logan"},"score":0,"creation_date":1344911810,"post_id":11943948,"comment_id":15913679,"body_markdown":"At the command line are you in the same folder as the jar file when you try to run java -jar Calculator.jar?","body":"At the command line are you in the same folder as the jar file when you try to run java -jar Calculator.jar?"},{"owner":{"account_id":1436908,"reputation":3313,"user_id":1358079,"accept_rate":50,"display_name":"Joseph Smith"},"score":0,"creation_date":1345002994,"post_id":11943948,"comment_id":15944760,"body_markdown":"Yes I have placed the .jar file on my desktop, this is the line exactly - C:\\Users\\jsmit1061\\Desktop","body":"Yes I have placed the .jar file on my desktop, this is the line exactly - C:\\Users\\jsmit1061\\Desktop"},{"owner":{"account_id":1436908,"reputation":3313,"user_id":1358079,"accept_rate":50,"display_name":"Joseph Smith"},"score":1,"creation_date":1345680853,"post_id":11943948,"comment_id":16143685,"body_markdown":"I have no answers to my problem, i answered it myself, and there is no way to show my appreciation in the comments, other than thanking them via reply. Please Reread your comment.","body":"I have no answers to my problem, i answered it myself, and there is no way to show my appreciation in the comments, other than thanking them via reply. Please Reread your comment."},{"owner":{"account_id":1290293,"reputation":1725,"user_id":1242531,"accept_rate":79,"display_name":"Spacemonkey"},"score":0,"creation_date":1372775543,"post_id":11943948,"comment_id":25313641,"body_markdown":"This error message is displayed also when trying to launch a folder and not a `.jar` file.","body":"This error message is displayed also when trying to launch a folder and not a <code>.jar</code> file."},{"owner":{"account_id":13806412,"reputation":1766,"user_id":9965155,"display_name":"PinkBanter"},"score":1,"creation_date":1582725176,"post_id":11943948,"comment_id":106875957,"body_markdown":"I was able to solve it by passing absolute path for the jar file after the command &quot;java -jar /home/aboslute_path_to_the_jar_file.jar&quot;. Hope it helps.","body":"I was able to solve it by passing absolute path for the jar file after the command &quot;java -jar /home/aboslute_path_to_the_jar_file.jar&quot;. Hope it helps."},{"owner":{"account_id":9494006,"reputation":313,"user_id":7057761,"display_name":"RobZ"},"score":0,"creation_date":1602780943,"post_id":11943948,"comment_id":113835601,"body_markdown":"happened to me when i had the jar open in one terminal window, would&#39;t allow write to directory, then opened up another terminal and tried to run the same jar","body":"happened to me when i had the jar open in one terminal window, would&#39;t allow write to directory, then opened up another terminal and tried to run the same jar"},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":0,"creation_date":1604377707,"post_id":11943948,"comment_id":114322656,"body_markdown":"for me it was a silly typo.. i was giving  lambok.jar instead of lombok.jar","body":"for me it was a silly typo.. i was giving  lambok.jar instead of lombok.jar"}],"answers":[{"comments":[{"owner":{"account_id":1067588,"reputation":6430,"user_id":1067688,"accept_rate":71,"display_name":"Anastasios Andronidis"},"score":80,"creation_date":1405032113,"post_id":11963966,"comment_id":38279858,"body_markdown":"Can someone explain why this happened?","body":"Can someone explain why this happened?"},{"owner":{"account_id":1379639,"reputation":1672,"user_id":1312937,"accept_rate":82,"display_name":"Aiden Fry"},"score":12,"creation_date":1410256962,"post_id":11963966,"comment_id":40248542,"body_markdown":"Sounds like it could have been a file permissions issue, however total guess.","body":"Sounds like it could have been a file permissions issue, however total guess."},{"owner":{"account_id":2014616,"reputation":555,"user_id":1802213,"display_name":"serkan"},"score":0,"creation_date":1431181456,"post_id":11963966,"comment_id":48390799,"body_markdown":"sometimes it happens in mac. if I copy ms bat file to sh and modify it to make it work in mac, i get the same error. It is better to create new sh file in mac to get rid of the problem. The reason should be hidden chars in ms file.","body":"sometimes it happens in mac. if I copy ms bat file to sh and modify it to make it work in mac, i get the same error. It is better to create new sh file in mac to get rid of the problem. The reason should be hidden chars in ms file."},{"owner":{"account_id":4635147,"reputation":3707,"user_id":3756593,"display_name":"Rik"},"score":2,"creation_date":1465897325,"post_id":11963966,"comment_id":63080933,"body_markdown":"I had a similar issue on WIndows, using cygwin. So cygwin uses different paths than windows `/cygdrive/c/` vs `C:\\ ` I fixed this by using `realpath --relative-to=$(pwd) path/to/jarfile` So it will always enforce a relative path iso using `/cygdrive/c/.../path/to/jarfile`","body":"I had a similar issue on WIndows, using cygwin. So cygwin uses different paths than windows <code>&#47;cygdrive&#47;c&#47;</code> vs <code>C:\\ </code> I fixed this by using <code>realpath --relative-to=$(pwd) path&#47;to&#47;jarfile</code> So it will always enforce a relative path iso using <code>&#47;cygdrive&#47;c&#47;...&#47;path&#47;to&#47;jarfile</code>"},{"owner":{"account_id":7715641,"reputation":487,"user_id":5843514,"accept_rate":86,"display_name":"Ori Wiesel"},"score":1,"creation_date":1511334400,"post_id":11963966,"comment_id":81811654,"body_markdown":"I had the same problem, with my jar too, i accidentally mistyped the path of the jar","body":"I had the same problem, with my jar too, i accidentally mistyped the path of the jar"},{"owner":{"account_id":10775305,"reputation":668,"user_id":7927573,"display_name":"Oguzhan Cevik"},"score":1,"creation_date":1529518729,"post_id":11963966,"comment_id":88907012,"body_markdown":"Try original path of the jar file.","body":"Try original path of the jar file."},{"owner":{"account_id":2780361,"reputation":4421,"user_id":2393012,"accept_rate":78,"display_name":"Manish Patel"},"score":1,"creation_date":1564563013,"post_id":11963966,"comment_id":101068439,"body_markdown":"It&#39;s because when you changed the location, you had to name the specific path to jar","body":"It&#39;s because when you changed the location, you had to name the specific path to jar"},{"owner":{"account_id":4852923,"reputation":586,"user_id":3914764,"accept_rate":67,"display_name":"Dmitry"},"score":1,"creation_date":1568283426,"post_id":11963966,"comment_id":102229049,"body_markdown":"@Rik Your comment is helpful although it won&#39;t work in dos paths and java file in cygwin path. The solution here will be `java -jar $(cygpath -a -d \\`realpath --relative-to=$(pwd) $HOME/opt/javafile.jar\\`)`","body":"@Rik Your comment is helpful although it won&#39;t work in dos paths and java file in cygwin path. The solution here will be <code>java -jar $(cygpath -a -d `realpath --relative-to=$(pwd) $HOME&#47;opt&#47;javafile.jar`)</code>"},{"owner":{"account_id":1503775,"reputation":18065,"user_id":1407656,"accept_rate":81,"display_name":"toniedzwiedz"},"score":0,"creation_date":1685540752,"post_id":11963966,"comment_id":134674601,"body_markdown":"I&#39;ve seen this happen with jar files inside `Documents` or `Desktop` folders on Mac and Windows. It allegedly has to do with some security mechanism aimed to prevent non-technical users from executing downloaded files. In our case the jar was executed by a Gradle build so this was at the bottom of a pretty long stack trace.","body":"I&#39;ve seen this happen with jar files inside <code>Documents</code> or <code>Desktop</code> folders on Mac and Windows. It allegedly has to do with some security mechanism aimed to prevent non-technical users from executing downloaded files. In our case the jar was executed by a Gradle build so this was at the bottom of a pretty long stack trace."}],"tags":[],"owner":{"account_id":1436908,"reputation":3313,"user_id":1358079,"accept_rate":50,"display_name":"Joseph Smith"},"comment_count":9,"down_vote_count":12,"up_vote_count":99,"is_accepted":true,"score":87,"last_activity_date":1507880484,"creation_date":1345003507,"answer_id":11963966,"question_id":11943948,"body_markdown":"**Fixed**\r\n\r\nI just placed it in a different folder and it worked.","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p><strong>Fixed</strong></p>\n\n<p>I just placed it in a different folder and it worked.</p>\n"},{"comments":[{"owner":{"account_id":7527661,"reputation":440,"user_id":5717198,"display_name":"Abhijay Kumar"},"score":1,"creation_date":1555914572,"post_id":25866331,"comment_id":98249841,"body_markdown":"This is the correct answer. The .jar extension must be appended to the jar file name.","body":"This is the correct answer. The .jar extension must be appended to the jar file name."},{"owner":{"account_id":71054,"reputation":4136,"user_id":205546,"accept_rate":80,"display_name":"Alan B"},"score":57,"creation_date":1570443321,"post_id":25866331,"comment_id":102902270,"body_markdown":"It&#39;s not always the correct answer, I&#39;m appending it and it doesn&#39;t work.","body":"It&#39;s not always the correct answer, I&#39;m appending it and it doesn&#39;t work."},{"owner":{"account_id":103070,"reputation":137,"user_id":1727025,"display_name":"Willy Makend"},"score":1,"creation_date":1571849964,"post_id":25866331,"comment_id":103379729,"body_markdown":"In my case I thought it was a file while it was a folder on the console. The jar file was in a folder that has the same name.","body":"In my case I thought it was a file while it was a folder on the console. The jar file was in a folder that has the same name."},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1676849470,"post_id":25866331,"comment_id":133215174,"body_markdown":"This is always the incorrect Answer for this Question - the Question mentioned using the `.jar` extension; it wasn&#39;t missing.  Although this Answer may help in some similar situations, it wasn&#39;t the answer to this Question&#39;s particular situation.","body":"This is always the incorrect Answer for this Question - the Question mentioned using the <code>.jar</code> extension; it wasn&#39;t missing.  Although this Answer may help in some similar situations, it wasn&#39;t the answer to this Question&#39;s particular situation."},{"owner":{"account_id":2871578,"reputation":1037,"user_id":2464815,"display_name":"Sasha Bond"},"score":0,"creation_date":1699039312,"post_id":25866331,"comment_id":136485802,"body_markdown":"in the original question person already put `java -jar Calculator.jar`, so what is the point of that &quot;add extension&quot; note?","body":"in the original question person already put <code>java -jar Calculator.jar</code>, so what is the point of that &quot;add extension&quot; note?"}],"tags":[],"owner":{"account_id":3927726,"reputation":1341,"user_id":3247449,"display_name":"Vinay Kadalagi"},"comment_count":5,"down_vote_count":4,"up_vote_count":121,"is_accepted":false,"score":117,"last_activity_date":1555923496,"creation_date":1410863160,"answer_id":25866331,"question_id":11943948,"body_markdown":"I had encountered this issue when I had run my Jar file as \r\n\r\n**`java -jar TestJar`**\r\n\r\ninstead of \r\n\r\n**`java -jar TestJar.jar`**\r\n\r\nMissing the extension **.jar** also causes this issue.","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>I had encountered this issue when I had run my Jar file as </p>\n\n<p><strong><code>java -jar TestJar</code></strong></p>\n\n<p>instead of </p>\n\n<p><strong><code>java -jar TestJar.jar</code></strong></p>\n\n<p>Missing the extension <strong>.jar</strong> also causes this issue.</p>\n"},{"tags":[],"owner":{"account_id":352002,"reputation":3871,"user_id":688843,"accept_rate":87,"display_name":"Buffalo"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1436947597,"creation_date":1436947597,"answer_id":31424829,"question_id":11943948,"body_markdown":"It can also happen if you don&#39;t properly supply your list of parameters. Here&#39;s what I was doing: \r\n\r\n    java -jar test@gmail.com testing_subject file.txt test_send_emails.jar\r\n\r\nInstead of the correct version: \r\n\r\n    java -jar test_send_emails.jar test@gmail.com testing_subject file.txt","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>It can also happen if you don't properly supply your list of parameters. Here's what I was doing: </p>\n\n<pre><code>java -jar test@gmail.com testing_subject file.txt test_send_emails.jar\n</code></pre>\n\n<p>Instead of the correct version: </p>\n\n<pre><code>java -jar test_send_emails.jar test@gmail.com testing_subject file.txt\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4657561,"reputation":386,"user_id":3772716,"accept_rate":50,"display_name":"Timothy"},"score":0,"creation_date":1487525150,"post_id":32426647,"comment_id":71813332,"body_markdown":"The quotations did the trick for me since I also had spaces inbetween. I then tried it without spaces in the path and without quotation marks and then it worked also","body":"The quotations did the trick for me since I also had spaces inbetween. I then tried it without spaces in the path and without quotation marks and then it worked also"},{"owner":{"account_id":7957910,"reputation":344,"user_id":6006571,"display_name":"sophievda"},"score":0,"creation_date":1572277080,"post_id":32426647,"comment_id":103500810,"body_markdown":"Anno 2019: This solution helped for me, with quotation marks! Without quotation marks and without spaces it doesn&#39;t work in my case.","body":"Anno 2019: This solution helped for me, with quotation marks! Without quotation marks and without spaces it doesn&#39;t work in my case."}],"tags":[],"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"comment_count":2,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1584214349,"creation_date":1441562701,"answer_id":32426647,"question_id":11943948,"body_markdown":"I had the same issue when trying to launch the jar file. The path contained a space, so I had to place quotes around. Instead of:\r\n\r\n    java -jar C:\\Path to File\\myJar.jar\r\ni had to write\r\n\r\n    java -jar &quot;C:\\Path to File\\myJar.jar&quot;\r\n","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>I had the same issue when trying to launch the jar file. The path contained a space, so I had to place quotes around. Instead of:</p>\n\n<pre><code>java -jar C:\\Path to File\\myJar.jar\n</code></pre>\n\n<p>i had to write</p>\n\n<pre><code>java -jar \"C:\\Path to File\\myJar.jar\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4901553,"reputation":171,"user_id":3949607,"accept_rate":75,"display_name":"Huxwell"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1444297937,"creation_date":1444297937,"answer_id":33012348,"question_id":11943948,"body_markdown":"For me it happens if you use native Polish chars in foldername that is in the PATH.\r\nSo maybe using untypical chars was the reason of the problem.","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>For me it happens if you use native Polish chars in foldername that is in the PATH.\nSo maybe using untypical chars was the reason of the problem.</p>\n"},{"comments":[{"owner":{"account_id":4842254,"reputation":313,"user_id":3906982,"accept_rate":29,"display_name":"Mayank Kumar"},"score":0,"creation_date":1536324534,"post_id":33310868,"comment_id":91394589,"body_markdown":"Thanks, mine too was named as apktool.jar.jar","body":"Thanks, mine too was named as apktool.jar.jar"},{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1655290912,"post_id":33310868,"comment_id":128296039,"body_markdown":"Thanks. The first step was what I needed. And second part was a typo while writing filename.","body":"Thanks. The first step was what I needed. And second part was a typo while writing filename."}],"tags":[],"owner":{"account_id":7175665,"reputation":179,"user_id":5481694,"display_name":"Leon thomas"},"comment_count":2,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1445634222,"creation_date":1445631992,"answer_id":33310868,"question_id":11943948,"body_markdown":"Just came across the same problem trying to make a bad USB...\r\n\r\nI tried to run this command in admin cmd\r\n\r\n    java -jar c:\\fw\\ducky\\duckencode.jar -I c:\\fw\\ducky\\HelloWorld.txt  -o c:\\fw\\ducky\\inject.bin\r\n\r\nBut got this error:\r\n\r\n    Error: unable to access jarfile c:\\fw\\ducky\\duckencode.jar\r\n\r\n**Solution**\r\n\r\n**1st step**\r\n\r\nRight click the jarfile in question. Click properties. \r\nClick the unblock tab in bottom right corner.\r\nThe file was blocked, because it was downloaded and not created on my PC.\r\n\r\n**2nd step**\r\n\r\nIn the cmd I changed the directory to where the jar file is located.\r\n\r\n    cd C:\\fw\\ducky\\\r\n\r\nThen I typed `dir` and saw the file was named `duckencode.jar.jar`\r\n\r\nSo in cmd I changed the original command to reference the file with `.jar.jar`\r\n\r\n    java -jar c:\\fw\\ducky\\duckencode.jar.jar -I c:\\fw\\ducky\\HelloWorld.txt  -o c:\\fw\\ducky\\inject.bin\r\n\r\nThat command executed without error messages and the inject.bin I was trying to create was now located in the directory.\r\n\r\nHope this helps.\r\n\r\n","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>Just came across the same problem trying to make a bad USB...</p>\n\n<p>I tried to run this command in admin cmd</p>\n\n<pre><code>java -jar c:\\fw\\ducky\\duckencode.jar -I c:\\fw\\ducky\\HelloWorld.txt  -o c:\\fw\\ducky\\inject.bin\n</code></pre>\n\n<p>But got this error:</p>\n\n<pre><code>Error: unable to access jarfile c:\\fw\\ducky\\duckencode.jar\n</code></pre>\n\n<p><strong>Solution</strong></p>\n\n<p><strong>1st step</strong></p>\n\n<p>Right click the jarfile in question. Click properties. \nClick the unblock tab in bottom right corner.\nThe file was blocked, because it was downloaded and not created on my PC.</p>\n\n<p><strong>2nd step</strong></p>\n\n<p>In the cmd I changed the directory to where the jar file is located.</p>\n\n<pre><code>cd C:\\fw\\ducky\\\n</code></pre>\n\n<p>Then I typed <code>dir</code> and saw the file was named <code>duckencode.jar.jar</code></p>\n\n<p>So in cmd I changed the original command to reference the file with <code>.jar.jar</code></p>\n\n<pre><code>java -jar c:\\fw\\ducky\\duckencode.jar.jar -I c:\\fw\\ducky\\HelloWorld.txt  -o c:\\fw\\ducky\\inject.bin\n</code></pre>\n\n<p>That command executed without error messages and the inject.bin I was trying to create was now located in the directory.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":436,"reputation":2078,"user_id":557,"accept_rate":100,"display_name":"MattSayar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447889515,"creation_date":1447889515,"answer_id":33792557,"question_id":11943948,"body_markdown":"My particular issue was caused because I was working with directories that involved symbolic links (shortcuts). Consequently, trying `java -jar ../../myJar.jar` didn&#39;t work because I wasn&#39;t where I thought I was. \r\n\r\nDisregarding relative file paths fixed it right up.","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>My particular issue was caused because I was working with directories that involved symbolic links (shortcuts). Consequently, trying <code>java -jar ../../myJar.jar</code> didn't work because I wasn't where I thought I was. </p>\n\n<p>Disregarding relative file paths fixed it right up.</p>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1455705886,"creation_date":1455705886,"answer_id":35454416,"question_id":11943948,"body_markdown":"sometime it happens when you try to (run or create) a .jar file under /libs folder by right click it in android studio. you can select the dropdown in top of android stuio and change it to **app**. This will work\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/M3rWV.png","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>sometime it happens when you try to (run or create) a .jar file under /libs folder by right click it in android studio. you can select the dropdown in top of android stuio and change it to <strong>app</strong>. This will work</p>\n\n<p><a href=\"https://i.stack.imgur.com/M3rWV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M3rWV.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":4498330,"reputation":974,"user_id":4329912,"display_name":"Pubudu"},"score":0,"creation_date":1467212561,"post_id":36002043,"comment_id":63640559,"body_markdown":"Thanks for this. Need to give the full path in Linux as well, if trying to run it from a different directory.","body":"Thanks for this. Need to give the full path in Linux as well, if trying to run it from a different directory."},{"owner":{"account_id":7957910,"reputation":344,"user_id":6006571,"display_name":"sophievda"},"score":0,"creation_date":1572277581,"post_id":36002043,"comment_id":103501053,"body_markdown":"This answer is partly a duplicate of an already given answer on this question. This is the earlier answer with the same method: full quoted path.\n[Sep 6 &#39;15](https://stackoverflow.com/a/32426647/6006571) by @benez","body":"This answer is partly a duplicate of an already given answer on this question. This is the earlier answer with the same method: full quoted path. <a href=\"https://stackoverflow.com/a/32426647/6006571\">Sep 6 &#39;15</a> by @benez"}],"tags":[],"owner":{"account_id":8324,"reputation":10946,"user_id":14952,"accept_rate":83,"display_name":"Robert Brown"},"comment_count":2,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1458011708,"creation_date":1458011708,"answer_id":36002043,"question_id":11943948,"body_markdown":"[Possibly Windows only]\r\n\r\n\r\nBeware of spaces in the path, even when your jar is in the current working directory.  For example, for me this was failing:\r\n\r\n    java -jar myjar.jar\r\n\r\nI was able to fix this by givng the full, quoted path to the jar:\r\n\r\n    java -jar &quot;%~dp0\\myjar.jar&quot; \r\n\r\n\r\nCredit goes to [this answer][1] for setting me on the right path....\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17064031/14952%20%22this%20answer","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>[Possibly Windows only]</p>\n\n<p>Beware of spaces in the path, even when your jar is in the current working directory.  For example, for me this was failing:</p>\n\n<pre><code>java -jar myjar.jar\n</code></pre>\n\n<p>I was able to fix this by givng the full, quoted path to the jar:</p>\n\n<pre><code>java -jar \"%~dp0\\myjar.jar\" \n</code></pre>\n\n<p>Credit goes to <a href=\"https://stackoverflow.com/a/17064031/14952%20%22this%20answer\">this answer</a> for setting me on the right path....</p>\n"},{"tags":[],"owner":{"account_id":258794,"reputation":12266,"user_id":541208,"accept_rate":85,"display_name":"TankorSmash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459361120,"creation_date":1459361120,"answer_id":36316401,"question_id":11943948,"body_markdown":"I had a similar problem where TextMate or something replaced the double quotes with the unicode double quotes.\r\n\r\n Changing my `SELENIUM_SERVER_JAR` from the unicode double quotes to regular double quotes  and that solved my problem.","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>I had a similar problem where TextMate or something replaced the double quotes with the unicode double quotes.</p>\n\n<p>Changing my <code>SELENIUM_SERVER_JAR</code> from the unicode double quotes to regular double quotes  and that solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":8666315,"reputation":11,"user_id":6486707,"display_name":"felipe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466372350,"creation_date":1466372350,"answer_id":37912108,"question_id":11943948,"body_markdown":"this is because you are looking for the file in the wrong path\r\n1. look for the path of the folder where you placed the file\r\n2. change the directory cd in cmd use the right path","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>this is because you are looking for the file in the wrong path\n1. look for the path of the folder where you placed the file\n2. change the directory cd in cmd use the right path</p>\n"},{"comments":[{"owner":{"account_id":1540749,"reputation":163,"user_id":1435491,"accept_rate":86,"display_name":"Rhyuk"},"score":0,"creation_date":1492786547,"post_id":38773690,"comment_id":74143801,"body_markdown":"I was having this exact issue in CygWin! Thank you forever!","body":"I was having this exact issue in CygWin! Thank you forever!"},{"owner":{"account_id":7450965,"reputation":1416,"user_id":5665753,"display_name":"Jason Slobotski"},"score":1,"creation_date":1525467845,"post_id":38773690,"comment_id":87383479,"body_markdown":"In cases where you need cygwin to use windows formatted paths instead of cygwin paths you can use the cygpath -w /path/here command to convert the path to the windows equivalent.","body":"In cases where you need cygwin to use windows formatted paths instead of cygwin paths you can use the cygpath -w /path/here command to convert the path to the windows equivalent."},{"owner":{"account_id":7555,"reputation":32361,"user_id":13169,"accept_rate":89,"display_name":"Roberto Bonvallet"},"score":0,"creation_date":1525733552,"post_id":38773690,"comment_id":87464511,"body_markdown":"@JasonSlobotski thanks for the tip, I think your comment should be an answer on its own.","body":"@JasonSlobotski thanks for the tip, I think your comment should be an answer on its own."}],"tags":[],"owner":{"account_id":2438929,"reputation":4089,"user_id":2128014,"accept_rate":80,"display_name":"radumanolescu"},"comment_count":3,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1470331136,"creation_date":1470331136,"answer_id":38773690,"question_id":11943948,"body_markdown":"I had this issue under CygWin in Windows. I have read elsewhere that Java does not understand the CygWin paths (`/cygdrive/c/some/dir` instead of `C:\\some\\dir`) - so I used a relative path instead: `../../some/dir/sbt-launch.jar`.","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>I had this issue under CygWin in Windows. I have read elsewhere that Java does not understand the CygWin paths (<code>/cygdrive/c/some/dir</code> instead of <code>C:\\some\\dir</code>) - so I used a relative path instead: <code>../../some/dir/sbt-launch.jar</code>.</p>\n"},{"tags":[],"owner":{"account_id":5096313,"reputation":61,"user_id":4087491,"display_name":"Bastian C&#225;ceres Pino"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1479233910,"creation_date":1479233910,"answer_id":40616959,"question_id":11943948,"body_markdown":"This worked for me.\r\n\r\n    cd /path/to/the/jar/\r\n    \r\n    java -jar ./Calculator.jar","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>This worked for me.</p>\n\n<pre><code>cd /path/to/the/jar/\n\njava -jar ./Calculator.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4888417,"reputation":9,"user_id":7361832,"display_name":"Sayid Bro"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1483247264,"creation_date":1483247264,"answer_id":41413492,"question_id":11943948,"body_markdown":"In my issue to access directory from Command line (in windows) this error \r\n\r\n&gt; &quot;unnable to access ...&quot;\r\n\r\n because wrong file extension \r\n\r\n&gt; file.jar.jar\r\n\r\n ! , so change it to correct one \r\n\r\n&gt; file.jar\r\n\r\n :) good luck","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>In my issue to access directory from Command line (in windows) this error </p>\n\n<blockquote>\n  <p>\"unnable to access ...\"</p>\n</blockquote>\n\n<p>because wrong file extension </p>\n\n<blockquote>\n  <p>file.jar.jar</p>\n</blockquote>\n\n<p>! , so change it to correct one </p>\n\n<blockquote>\n  <p>file.jar</p>\n</blockquote>\n\n<p>:) good luck</p>\n"},{"comments":[{"owner":{"account_id":5805883,"reputation":12821,"user_id":4578513,"accept_rate":15,"display_name":"AIM Digital Technologies"},"score":0,"creation_date":1489989532,"post_id":41788075,"comment_id":72893771,"body_markdown":"after doing this, my unable to access jar file issue resolved.","body":"after doing this, my unable to access jar file issue resolved."}],"tags":[],"owner":{"account_id":7221876,"reputation":10567,"user_id":5512020,"accept_rate":75,"display_name":"suku"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485067279,"creation_date":1485067279,"answer_id":41788075,"question_id":11943948,"body_markdown":"In my case the suggested file name to be used was `jarFile*.jar` in the command line. The file in the folder was `jarFile-1.2.3.jar` . So I renamed the file to `jarFile`. Then I used `jarFile.jar` instead of `jarFile*.jar` and then the problem got resolved","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>In my case the suggested file name to be used was <code>jarFile*.jar</code> in the command line. The file in the folder was <code>jarFile-1.2.3.jar</code> . So I renamed the file to <code>jarFile</code>. Then I used <code>jarFile.jar</code> instead of <code>jarFile*.jar</code> and then the problem got resolved</p>\n"},{"tags":[],"owner":{"account_id":11341443,"reputation":11,"user_id":8315373,"display_name":"user8315373"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500212625,"creation_date":1500212625,"answer_id":45129269,"question_id":11943948,"body_markdown":"I use NetBeans and had the same issue. After I ran build and clean project my program was executable. The Java documentation says that the build/clean command is for rebuilding the project from scratch basically and removing any past compiles. I hope this helps. Also, I&#39;d read the documentation. Oracle has NetBeans and Java learning trails. Very helpful. Good luck!","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>I use NetBeans and had the same issue. After I ran build and clean project my program was executable. The Java documentation says that the build/clean command is for rebuilding the project from scratch basically and removing any past compiles. I hope this helps. Also, I'd read the documentation. Oracle has NetBeans and Java learning trails. Very helpful. Good luck!</p>\n"},{"tags":[],"owner":{"account_id":1468119,"reputation":15037,"user_id":1380406,"accept_rate":38,"display_name":"cosbor11"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506030763,"creation_date":1506030763,"answer_id":46353702,"question_id":11943948,"body_markdown":"Maybe you have specified the wrong version of your jar.","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>Maybe you have specified the wrong version of your jar.</p>\n"},{"comments":[{"owner":{"account_id":78456,"reputation":570,"user_id":223290,"accept_rate":60,"display_name":"nick fox"},"score":0,"creation_date":1507890297,"post_id":46727738,"comment_id":80401429,"body_markdown":"see also https://stackoverflow.com/questions/4833052/how-do-i-remove-the-extended-attributes-on-a-file-in-mac-os-x and https://superuser.com/questions/526920/how-to-remove-quarantine-from-file-permissions-in-os-x","body":"see also <a href=\"https://stackoverflow.com/questions/4833052/how-do-i-remove-the-extended-attributes-on-a-file-in-mac-os-x\" title=\"how do i remove the extended attributes on a file in mac os x\">stackoverflow.com/questions/4833052/&hellip;</a> and <a href=\"https://superuser.com/questions/526920/how-to-remove-quarantine-from-file-permissions-in-os-x\" title=\"how to remove quarantine from file permissions in os x\">superuser.com/questions/526920/&hellip;</a>"}],"tags":[],"owner":{"account_id":78456,"reputation":570,"user_id":223290,"accept_rate":60,"display_name":"nick fox"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1507890276,"creation_date":1507890276,"answer_id":46727738,"question_id":11943948,"body_markdown":"If you are using OSX, downloaded files are tagged with a security flag that prevents unsigned applications from running.\r\n\r\nto check this you can view extended attributes on the file\r\n\r\n\r\n    $ ls -l@\r\n    -rw-r--r--@ 1 dave  staff  17663235 13 Oct 11:08 server-0.28.2-java8.jar\r\n    com.apple.metadata:kMDItemWhereFroms         619\r\n    com.apple.quarantine          68\r\n\r\n\r\nYou can then clear the attributes with\r\n\r\n    xattr -c file.jar","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>If you are using OSX, downloaded files are tagged with a security flag that prevents unsigned applications from running.</p>\n\n<p>to check this you can view extended attributes on the file</p>\n\n<pre><code>$ ls -l@\n-rw-r--r--@ 1 dave  staff  17663235 13 Oct 11:08 server-0.28.2-java8.jar\ncom.apple.metadata:kMDItemWhereFroms         619\ncom.apple.quarantine          68\n</code></pre>\n\n<p>You can then clear the attributes with</p>\n\n<pre><code>xattr -c file.jar\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2185890,"reputation":2302,"user_id":1934317,"display_name":"awd"},"score":2,"creation_date":1509441367,"post_id":47031378,"comment_id":81009772,"body_markdown":"this does not answer the question, you should use comments to ask for more information.","body":"this does not answer the question, you should use comments to ask for more information."}],"tags":[],"owner":{"account_id":12135718,"reputation":21,"user_id":8861258,"display_name":"assaf"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509445465,"creation_date":1509440246,"answer_id":47031378,"question_id":11943948,"body_markdown":"It can happen on a windows machine when you have spaces in the names of the folder. The solution would be to enter the path between &quot; &quot;. \r\nFor example:\r\n\r\n    java -jar c:\\my folder\\x.jar    --&gt; \r\n    java -jar &quot;c:\\my folder\\x.jar&quot;","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>It can happen on a windows machine when you have spaces in the names of the folder. The solution would be to enter the path between \" \". \nFor example:</p>\n\n<pre><code>java -jar c:\\my folder\\x.jar    --&gt; \njava -jar \"c:\\my folder\\x.jar\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3965515,"reputation":2640,"user_id":3271600,"accept_rate":27,"display_name":"GvSharma"},"score":0,"creation_date":1564686951,"post_id":49281410,"comment_id":101123145,"body_markdown":"what about mac?","body":"what about mac?"}],"tags":[],"owner":{"account_id":100879,"reputation":1276,"user_id":271703,"accept_rate":62,"display_name":"Gico"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521040475,"creation_date":1521040475,"answer_id":49281410,"question_id":11943948,"body_markdown":"To avoid any permission issues, try to run it as administrator. This worked for me on Win10. ","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>To avoid any permission issues, try to run it as administrator. This worked for me on Win10. </p>\n"},{"tags":[],"owner":{"account_id":14338087,"reputation":320,"user_id":10356952,"display_name":"not_Prince"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540279706,"creation_date":1540277653,"answer_id":52942872,"question_id":11943948,"body_markdown":"I know this thread is years ago and issue was fixed too. But I hope this would helps someone else in future since I&#39;ve encountered some similar issues while I tried to install Oracle WebLogic 12c and Oracle OFR in which its installer is in `.jar` format. For mine case, it was either didn&#39;t wrap the JDK directory in quotes or simply typo.\r\n\r\nRun `Command Prompt` as administrator and execute the command in this format. Double check the sentence if there is typo.\r\n\r\n&gt; `&quot;C:\\Program Files\\Java\\jdk1.xxxxx\\bin\\java&quot; -jar C:\\Users\\xxx\\Downloads\\xxx.jar`\r\n\r\n\r\nIf it shows something like `JRE 1.xxx is not a valid JDK Java Home`, make sure the System variables for `JAVA_HOME` in Environment Variables is pointing to the correct JDK directory. JDK 1.8 or above is recommended (2018).\r\n\r\nA useful thread here, you may refer it: [Why its showing your JDK c:program files\\java\\jre7 is not a valid JDK while instaling weblogic server?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37001407/why-its-showing-your-jdk-cprogram-files-java-jre7-is-not-a-valid-jdk-while-inst","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>I know this thread is years ago and issue was fixed too. But I hope this would helps someone else in future since I've encountered some similar issues while I tried to install Oracle WebLogic 12c and Oracle OFR in which its installer is in <code>.jar</code> format. For mine case, it was either didn't wrap the JDK directory in quotes or simply typo.</p>\n\n<p>Run <code>Command Prompt</code> as administrator and execute the command in this format. Double check the sentence if there is typo.</p>\n\n<blockquote>\n  <p><code>\"C:\\Program Files\\Java\\jdk1.xxxxx\\bin\\java\" -jar C:\\Users\\xxx\\Downloads\\xxx.jar</code></p>\n</blockquote>\n\n<p>If it shows something like <code>JRE 1.xxx is not a valid JDK Java Home</code>, make sure the System variables for <code>JAVA_HOME</code> in Environment Variables is pointing to the correct JDK directory. JDK 1.8 or above is recommended (2018).</p>\n\n<p>A useful thread here, you may refer it: <a href=\"https://stackoverflow.com/questions/37001407/why-its-showing-your-jdk-cprogram-files-java-jre7-is-not-a-valid-jdk-while-inst\">Why its showing your JDK c:program files\\java\\jre7 is not a valid JDK while instaling weblogic server?</a></p>\n"},{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1601727132,"creation_date":1545805361,"answer_id":53928183,"question_id":11943948,"body_markdown":"I had a similar problem and I even tried running my CMD with administrator rights, but it did not solve the problem.\r\n\r\nThe basic thing is to make sure to change the **Directory** in cmd to the **current directory** where your jar file is.\r\n\r\nDo the following steps:\r\n\r\n\r\n1. Copy jar file to Desktop.\r\n\r\n2. Run CMD\r\n\r\n3. Type command `cd desktop`\r\n\r\n4. Then type `java -jar filename.jar`\r\n\r\nThis should work.\r\n______________________________________________________\r\n\r\n**Edit**: From JDK-11 onwards ( [JEP 330][1]: Launch Single-File Source-Code Programs )\r\n\r\nSince Java 11, java command line tool has been able to run a single-file source-code directly. e.g.\r\n\r\n    java filename.java\r\n\r\n  [1]: https://openjdk.java.net/jeps/330","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>I had a similar problem and I even tried running my CMD with administrator rights, but it did not solve the problem.</p>\n<p>The basic thing is to make sure to change the <strong>Directory</strong> in cmd to the <strong>current directory</strong> where your jar file is.</p>\n<p>Do the following steps:</p>\n<ol>\n<li><p>Copy jar file to Desktop.</p>\n</li>\n<li><p>Run CMD</p>\n</li>\n<li><p>Type command <code>cd desktop</code></p>\n</li>\n<li><p>Then type <code>java -jar filename.jar</code></p>\n</li>\n</ol>\n<p>This should work.</p>\n<hr />\n<p><strong>Edit</strong>: From JDK-11 onwards ( <a href=\"https://openjdk.java.net/jeps/330\" rel=\"nofollow noreferrer\">JEP 330</a>: Launch Single-File Source-Code Programs )</p>\n<p>Since Java 11, java command line tool has been able to run a single-file source-code directly. e.g.</p>\n<pre><code>java filename.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4388090,"reputation":1,"user_id":3577514,"display_name":"Nick_Stubborn_Mex."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557865717,"creation_date":1557865717,"answer_id":56138147,"question_id":11943948,"body_markdown":"Have you tried to run it under administrator privoleges? \r\nmeaning, running the command in &quot;Run As&quot; and then select administrator with proper admin credentials \r\n\r\nworked for me ","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>Have you tried to run it under administrator privoleges? \nmeaning, running the command in \"Run As\" and then select administrator with proper admin credentials </p>\n\n<p>worked for me </p>\n"},{"tags":[],"owner":{"account_id":6569222,"reputation":53,"user_id":8303386,"display_name":"Kinglee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563874655,"creation_date":1563872005,"answer_id":57160258,"question_id":11943948,"body_markdown":"I was trying this:\r\n\r\nAfter giving the file read, write, execute priviledges: \r\n\r\n`chmod 777 java-repl.jar`\r\n\r\n`alias jr=&quot;java -jar $HOME/Dev/java-repl/java-repl.jar&quot;`\r\n\r\nUnable to access bla bla..., this was on Mac OS though\r\n\r\nSo I tried this:\r\n\r\n`alias jr=&quot;cd $HOME/Dev/java-repl/ &amp;&amp; java -jar java-repl.jar&quot;`\r\n\r\n","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>I was trying this:</p>\n\n<p>After giving the file read, write, execute priviledges: </p>\n\n<p><code>chmod 777 java-repl.jar</code></p>\n\n<p><code>alias jr=\"java -jar $HOME/Dev/java-repl/java-repl.jar\"</code></p>\n\n<p>Unable to access bla bla..., this was on Mac OS though</p>\n\n<p>So I tried this:</p>\n\n<p><code>alias jr=\"cd $HOME/Dev/java-repl/ &amp;&amp; java -jar java-repl.jar\"</code></p>\n"},{"tags":[],"owner":{"account_id":15885424,"reputation":1,"user_id":11461929,"display_name":"mouf low"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1564855206,"creation_date":1564849237,"answer_id":57340116,"question_id":11943948,"body_markdown":"first I created a variable `%JAVA_HOME% :`\r\n\r\nWhen you downloaded the file, make sure to check `UNBLOCK TAB` in file properties as shown above in &quot;maartencls&quot; post .\r\n\r\n    c:\\users\\my user\\downloads\\location of the file\\all&gt; java -jar yourfilename.jar\r\n\r\nhope this will resolve the issue :)","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>first I created a variable <code>%JAVA_HOME% :</code></p>\n\n<p>When you downloaded the file, make sure to check <code>UNBLOCK TAB</code> in file properties as shown above in \"maartencls\" post .</p>\n\n<pre><code>c:\\users\\my user\\downloads\\location of the file\\all&gt; java -jar yourfilename.jar\n</code></pre>\n\n<p>hope this will resolve the issue :)</p>\n"},{"tags":[],"owner":{"account_id":16884978,"reputation":1,"user_id":12210023,"display_name":"angar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570980109,"creation_date":1570980109,"answer_id":58364970,"question_id":11943948,"body_markdown":"\r\nThis did not work &quot;Unable to access jarfile&quot;\r\n\r\n    &quot;C:\\Program Files\\java\\jdk-13+33-jre\\bin\\javaw.exe&quot; -jar &quot;C:\\Program Files\\Maxim Integrated Products\\1-Wire Drivers x64\\ OneWireViewer.jar&quot;\r\n\r\nThis does work\r\n\r\n    &quot;C:\\Program Files\\java\\jdk-13+33-jre\\bin\\javaw.exe&quot; -jar &quot;C:\\Program Files\\Maxim Integrated Products\\1-Wire Drivers x64\\OneWireViewer.jar&quot;\r\n\r\nThe difference is the single space in front of OneWireViewer.jar not withstanding that it is surrounded with quotes and even has other spaces.\r\n\r\n\r\n","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>This did not work \"Unable to access jarfile\"</p>\n\n<pre><code>\"C:\\Program Files\\java\\jdk-13+33-jre\\bin\\javaw.exe\" -jar \"C:\\Program Files\\Maxim Integrated Products\\1-Wire Drivers x64\\ OneWireViewer.jar\"\n</code></pre>\n\n<p>This does work</p>\n\n<pre><code>\"C:\\Program Files\\java\\jdk-13+33-jre\\bin\\javaw.exe\" -jar \"C:\\Program Files\\Maxim Integrated Products\\1-Wire Drivers x64\\OneWireViewer.jar\"\n</code></pre>\n\n<p>The difference is the single space in front of OneWireViewer.jar not withstanding that it is surrounded with quotes and even has other spaces.</p>\n"},{"tags":[],"owner":{"account_id":17526660,"reputation":11,"user_id":12711608,"display_name":"Michaela Burns"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579014286,"creation_date":1579014286,"answer_id":59736464,"question_id":11943948,"body_markdown":"I finally pasted my jar file into the same folder as my JDK so I didn&#39;t have to include the paths.  I also had to open the command prompt as an admin.\r\n\r\n1. Right click Command Prompt and &quot;Run as administrator&quot;\r\n2. Navigate to the directory where you saved your jdk to\r\n3. In the command prompt type:  ````java.exe -jar &lt;jar file name&gt;.jar````","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>I finally pasted my jar file into the same folder as my JDK so I didn't have to include the paths.  I also had to open the command prompt as an admin.</p>\n\n<ol>\n<li>Right click Command Prompt and \"Run as administrator\"</li>\n<li>Navigate to the directory where you saved your jdk to</li>\n<li>In the command prompt type:  <code>java.exe -jar &lt;jar file name&gt;.jar</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11195912,"reputation":71,"user_id":8214550,"display_name":"Aishwary joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579659515,"creation_date":1579659515,"answer_id":59851744,"question_id":11943948,"body_markdown":"Keep the file in same directory where you are extracting it. That worked for me.","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>Keep the file in same directory where you are extracting it. That worked for me.</p>\n"},{"tags":[],"owner":{"account_id":8139998,"reputation":1398,"user_id":6130501,"display_name":"Adir Dayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581275954,"creation_date":1581275954,"answer_id":60140408,"question_id":11943948,"body_markdown":"For me it happen because i run it with default java version (7) and not with compiled java version (8) used to create this jar.\r\n\r\nSo i used:\r\n\r\n    %Java8_64%\\bin\\java -jar myjar.jar\r\n\r\nInstead of java 7 version:\r\n\r\n    java -jar myjar.jar","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>For me it happen because i run it with default java version (7) and not with compiled java version (8) used to create this jar.</p>\n\n<p>So i used:</p>\n\n<pre><code>%Java8_64%\\bin\\java -jar myjar.jar\n</code></pre>\n\n<p>Instead of java 7 version:</p>\n\n<pre><code>java -jar myjar.jar\n</code></pre>\n"},{"comments":[{"owner":{"account_id":197142,"reputation":16848,"user_id":441016,"accept_rate":69,"display_name":"1.21 gigawatts"},"score":0,"creation_date":1680749468,"post_id":61345604,"comment_id":133952172,"body_markdown":"What is wsl?   about","body":"What is wsl?   about"},{"owner":{"account_id":1077413,"reputation":7308,"user_id":1075247,"accept_rate":92,"display_name":"AncientSwordRage"},"score":1,"creation_date":1680771714,"post_id":61345604,"comment_id":133955708,"body_markdown":"@1.21gigawatts I&#39;ve edited to explain","body":"@1.21gigawatts I&#39;ve edited to explain"}],"tags":[],"owner":{"account_id":1077413,"reputation":7308,"user_id":1075247,"accept_rate":92,"display_name":"AncientSwordRage"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680770735,"creation_date":1587478223,"answer_id":61345604,"question_id":11943948,"body_markdown":"If you are on WSL (Windows Subsystem for Linux), and following a guide which say, says this: \r\n\r\n    java -Djava.library.path=./DynamoDBLocal_lib -jar DynamoDBLocal.jar -sharedDb\r\n\r\nYou actually need to specify the full path, even though you&#39;ve provided it in the `java.library.path` part.\r\n\r\n    java -Djava.library.path=/mnt/c/dynamodb_local/DynamoDBLocal_lib -jar /mnt/c/dynamodb_local/DynamoDBLocal.jar -sharedDb","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>If you are on WSL (Windows Subsystem for Linux), and following a guide which say, says this:</p>\n<pre><code>java -Djava.library.path=./DynamoDBLocal_lib -jar DynamoDBLocal.jar -sharedDb\n</code></pre>\n<p>You actually need to specify the full path, even though you've provided it in the <code>java.library.path</code> part.</p>\n<pre><code>java -Djava.library.path=/mnt/c/dynamodb_local/DynamoDBLocal_lib -jar /mnt/c/dynamodb_local/DynamoDBLocal.jar -sharedDb\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2633840,"reputation":795,"user_id":2279082,"display_name":"ArielGro"},"score":0,"creation_date":1590474718,"post_id":62015695,"comment_id":109684596,"body_markdown":"Not sure why the `java -version` is needed here? Also, running `java -jar Calculator.jar` is what the OP did and didn&#39;t work....","body":"Not sure why the <code>java -version</code> is needed here? Also, running <code>java -jar Calculator.jar</code> is what the OP did and didn&#39;t work...."}],"tags":[],"owner":{"account_id":18681508,"reputation":1,"user_id":13617922,"display_name":"Sruthy"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1590486898,"creation_date":1590473311,"answer_id":62015695,"question_id":11943948,"body_markdown":"First run: `java -version`\r\n\r\nand then run: `java -jar Calculator.jar`\r\n\r\nThis worked for me.","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>First run: <code>java -version</code></p>\n\n<p>and then run: <code>java -jar Calculator.jar</code></p>\n\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":2588640,"reputation":1163,"user_id":2243775,"display_name":"Dimitrios"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596200749,"creation_date":1596200749,"answer_id":63192428,"question_id":11943948,"body_markdown":"This is permission issue, see if the directory is under your User.\r\nThat&#39;s why is working in another folder! ","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>This is permission issue, see if the directory is under your User.\nThat's why is working in another folder!</p>\n"},{"tags":[],"owner":{"account_id":10394479,"reputation":65,"user_id":7664624,"display_name":"Sainath Pabba"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596463937,"creation_date":1596463937,"answer_id":63231053,"question_id":11943948,"body_markdown":"**Rename the jar file and try** \r\n\r\nExplanation :\r\nyes, I know there are many answers still I want to add one point here which I faced.\r\n\r\nI built the jar and I moved it into the server where I deploy (This is the normal process)\r\nhere the file name which I moved already existed in the server, here the file will override obviously right. In this case, I faced this issue.\r\nmaybe at the time of overriding there can be a permission copy issue.\r\n\r\nHope this will help someone.\r\n","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p><strong>Rename the jar file and try</strong></p>\n<p>Explanation :\nyes, I know there are many answers still I want to add one point here which I faced.</p>\n<p>I built the jar and I moved it into the server where I deploy (This is the normal process)\nhere the file name which I moved already existed in the server, here the file will override obviously right. In this case, I faced this issue.\nmaybe at the time of overriding there can be a permission copy issue.</p>\n<p>Hope this will help someone.</p>\n"},{"tags":[],"owner":{"account_id":3506599,"reputation":357,"user_id":2932012,"accept_rate":35,"display_name":"nikhil udgirkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597768529,"creation_date":1597768529,"answer_id":63472971,"question_id":11943948,"body_markdown":"For me the problem got resolved after accessing the folder in which the jar was placed\r\nearlier I was giving command on D: drive, but when I navigated to the folder in which that jar was placed this problem got resolved","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>For me the problem got resolved after accessing the folder in which the jar was placed\nearlier I was giving command on D: drive, but when I navigated to the folder in which that jar was placed this problem got resolved</p>\n"},{"tags":[],"owner":{"account_id":17969343,"reputation":31,"user_id":14302310,"display_name":"Ihar Pak"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658343152,"creation_date":1600453531,"answer_id":63960984,"question_id":11943948,"body_markdown":"You can specify the full path to your `java.exe` file, for example:\r\n\r\n`&quot;c:\\Program Files\\Java\\jdk-9.0.4\\bin\\java.exe&quot; -jar path_to_your_jar_file.jar`\r\n\r\nit helped me.\r\n\r\nOr check what `java.exe` file runs for default in your system, especially if you have many versions of JDK/JRE.\r\n","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>You can specify the full path to your <code>java.exe</code> file, for example:</p>\n<p><code>&quot;c:\\Program Files\\Java\\jdk-9.0.4\\bin\\java.exe&quot; -jar path_to_your_jar_file.jar</code></p>\n<p>it helped me.</p>\n<p>Or check what <code>java.exe</code> file runs for default in your system, especially if you have many versions of JDK/JRE.</p>\n"},{"tags":[],"owner":{"account_id":4015460,"reputation":4364,"user_id":3307767,"accept_rate":60,"display_name":"twhb"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1611741031,"creation_date":1611741031,"answer_id":65916626,"question_id":11943948,"body_markdown":"None of the provided answers worked for me on macOS 11 Big Sur. The problem turned out to be that programs require special permission to access the Desktop, Documents, and Downloads folders, and Java breaks both the exception for directly opened files and the permission request popup.\r\n\r\nFixes:\r\n\r\n- Move the .jar into a folder that isn’t (and isn’t under) Documents, Desktop, or Downloads.\r\n- Manually grant the permission. Go to System Preferences → Security and Privacy → Privacy → Files and Folders → java, and check the appropriate folders.","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>None of the provided answers worked for me on macOS 11 Big Sur. The problem turned out to be that programs require special permission to access the Desktop, Documents, and Downloads folders, and Java breaks both the exception for directly opened files and the permission request popup.</p>\n<p>Fixes:</p>\n<ul>\n<li>Move the .jar into a folder that isn’t (and isn’t under) Documents, Desktop, or Downloads.</li>\n<li>Manually grant the permission. Go to System Preferences → Security and Privacy → Privacy → Files and Folders → java, and check the appropriate folders.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19614415,"reputation":662,"user_id":14393584,"display_name":"rishi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661146927,"creation_date":1661146927,"answer_id":73440625,"question_id":11943948,"body_markdown":"If you&#39;re working with shared folders on a virtual machine (in my case virtualbox), it seems all my permission were missing to access the file. Additionally, it required elevated privileges to chmod the file.\r\n\r\n```bash\r\nsudo chmod +rwx filename.jar\r\n```\r\n\r\nAfter this you should be able to access the jarfile normally.","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>If you're working with shared folders on a virtual machine (in my case virtualbox), it seems all my permission were missing to access the file. Additionally, it required elevated privileges to chmod the file.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo chmod +rwx filename.jar\n</code></pre>\n<p>After this you should be able to access the jarfile normally.</p>\n"},{"tags":[],"owner":{"account_id":15236453,"reputation":1,"user_id":10993970,"display_name":"Herohero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661539471,"creation_date":1661539471,"answer_id":73505315,"question_id":11943948,"body_markdown":"In my case, the / of the jar&#39;s path pointed to the root directory of the filesystem, not the root of the project. \r\n\r\nThe path was fixed by replacing / by ./ to get the current working directory instead of the root directory.\r\n\r\nThis is possible if you&#39;re running the command on another filesystem like with heroku: heroku local web for example.","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>In my case, the / of the jar's path pointed to the root directory of the filesystem, not the root of the project.</p>\n<p>The path was fixed by replacing / by ./ to get the current working directory instead of the root directory.</p>\n<p>This is possible if you're running the command on another filesystem like with heroku: heroku local web for example.</p>\n"},{"comments":[{"owner":{"account_id":7610784,"reputation":3405,"user_id":5771669,"accept_rate":100,"display_name":"Serge V."},"score":0,"creation_date":1692218431,"post_id":75504200,"comment_id":135595489,"body_markdown":"still doesn&#39;t work, it would fail as &quot; Error: Unable to access jarfile /opt/ords/ords.war&quot;","body":"still doesn&#39;t work, it would fail as &quot; Error: Unable to access jarfile /opt/ords/ords.war&quot;"}],"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676850640,"creation_date":1676850640,"answer_id":75504200,"question_id":11943948,"body_markdown":"Try specifying the full path to the `.jar` file 0 That was a likely cause of the [Accepted Answer](https://stackoverflow.com/questions/11943948/what-causes-unable-to-access-jarfile-error?page=1&amp;tab=trending#comment101068439_11963966).\r\n\r\nSo for example (if executing from the root of the project):\r\n`java -jar target/Calculator.jar`","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>Try specifying the full path to the <code>.jar</code> file 0 That was a likely cause of the <a href=\"https://stackoverflow.com/questions/11943948/what-causes-unable-to-access-jarfile-error?page=1&amp;tab=trending#comment101068439_11963966\">Accepted Answer</a>.</p>\n<p>So for example (if executing from the root of the project):\n<code>java -jar target/Calculator.jar</code></p>\n"},{"tags":[],"owner":{"account_id":10388625,"reputation":761,"user_id":7660727,"display_name":"Mohammad Atif Aftab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693203160,"creation_date":1693203160,"answer_id":76990387,"question_id":11943948,"body_markdown":"Just need to provide exact location of the jar file in quotation &quot;&quot;\r\n\r\ninstead\r\n\r\n    java -jar -Dspring.profiles.active=local compass.jar\r\n\r\nyou have to provide (if it is inside target folder)\r\n\r\n    java -jar -Dspring.profiles.active=local &quot;target/compass.jar&quot;\r\n\r\n","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>Just need to provide exact location of the jar file in quotation &quot;&quot;</p>\n<p>instead</p>\n<pre><code>java -jar -Dspring.profiles.active=local compass.jar\n</code></pre>\n<p>you have to provide (if it is inside target folder)</p>\n<pre><code>java -jar -Dspring.profiles.active=local &quot;target/compass.jar&quot;\n</code></pre>\n"}],"owner":{"account_id":1436908,"reputation":3313,"user_id":1358079,"accept_rate":50,"display_name":"Joseph Smith"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1140739,"favorite_count":0,"down_vote_count":1,"up_vote_count":202,"accepted_answer_id":11963966,"answer_count":40,"score":201,"last_activity_date":1700658336,"creation_date":1344902504,"question_id":11943948,"body_markdown":"I want to execute my program without using an IDE. \r\nI&#39;ve created a jar file and an exectuable jar file. When \r\nI double click the exe jar file, nothing happens, and when I try to use the command in cmd it gives me this: \r\n\r\n    Error: Unable to access jarfile &lt;path&gt;\r\n\r\nI use the command: `java -jar Calculator.jar`\r\n\r\nHow I created the jar:\r\n\r\n 1. Right click on project folder (Calculator)        \r\n 2. Select\r\n 3. Click on Java Folder and select &quot;Exectuable Jar File&quot;, then select next\r\n 4. Launch Configuration: Main - Calculator\r\n 5. Create Export Destination\r\n 6. Hit &quot;Finish&quot; and profit! Well, not really.","title":"What causes &quot;Unable to access jarfile&quot; error?","body":"<p>I want to execute my program without using an IDE. \nI've created a jar file and an exectuable jar file. When \nI double click the exe jar file, nothing happens, and when I try to use the command in cmd it gives me this: </p>\n\n<pre><code>Error: Unable to access jarfile &lt;path&gt;\n</code></pre>\n\n<p>I use the command: <code>java -jar Calculator.jar</code></p>\n\n<p>How I created the jar:</p>\n\n<ol>\n<li>Right click on project folder (Calculator)        </li>\n<li>Select</li>\n<li>Click on Java Folder and select \"Exectuable Jar File\", then select next</li>\n<li>Launch Configuration: Main - Calculator</li>\n<li>Create Export Destination</li>\n<li>Hit \"Finish\" and profit! Well, not really.</li>\n</ol>\n"},{"tags":["java","spring-boot","keycloak"],"answers":[{"comments":[{"owner":{"account_id":21827419,"reputation":105,"user_id":16122714,"display_name":"Viraj Shetty"},"score":0,"creation_date":1700657760,"post_id":77528118,"comment_id":136681174,"body_markdown":"OAuth [Client](https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html#oauth2-client) doc does make a distinction between &quot;login&quot; versus &quot;authorization&quot; and that&#39;s what I am doing. The first (login) goes ahead and sets the Authentication object in the SecurityContextHolder. The second one (authorization) does not. I am using below code for authorization `@RegisteredOAuth2AuthorizedClient(&quot;gitlab-oidc&quot;) OAuth2AuthorizedClient client` Everything works fine except that the login page also shows gitlab. But I think there should be a way to mark a client as &quot;not for log in&quot;","body":"OAuth <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html#oauth2-client\" rel=\"nofollow noreferrer\">Client</a> doc does make a distinction between &quot;login&quot; versus &quot;authorization&quot; and that&#39;s what I am doing. The first (login) goes ahead and sets the Authentication object in the SecurityContextHolder. The second one (authorization) does not. I am using below code for authorization <code>@RegisteredOAuth2AuthorizedClient(&quot;gitlab-oidc&quot;) OAuth2AuthorizedClient client</code> Everything works fine except that the login page also shows gitlab. But I think there should be a way to mark a client as &quot;not for log in&quot;"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1700663577,"post_id":77528118,"comment_id":136682352,"body_markdown":"An authorized client is a client with valid tokens, whatever the flow. Once **the user** logged in on authorization server using authorization_code, **the client** is authorized. The client can also run client_credentials by itself and get tokens from the authorization server without the help of a user. Just have a closer look at `AuthorizedClient` and flows definitions if you don&#39;t belive me.","body":"An authorized client is a client with valid tokens, whatever the flow. Once <b>the user</b> logged in on authorization server using authorization_code, <b>the client</b> is authorized. The client can also run client_credentials by itself and get tokens from the authorization server without the help of a user. Just have a closer look at <code>AuthorizedClient</code> and flows definitions if you don&#39;t belive me."},{"owner":{"account_id":21827419,"reputation":105,"user_id":16122714,"display_name":"Viraj Shetty"},"score":0,"creation_date":1700669424,"post_id":77528118,"comment_id":136683627,"body_markdown":"Appreciate your response. I can&#39;t use client credentials here (it needs to be the logged in user). The point I am making is that there can be two `OAuth2AuthorizedClient` for auth flow for the same user and I can access the two tokens easily. I have it running currently. its just that the login page is not right. Not sure why you are saying its a problem. BTW - I am using latest Spring Boot 3.2","body":"Appreciate your response. I can&#39;t use client credentials here (it needs to be the logged in user). The point I am making is that there can be two <code>OAuth2AuthorizedClient</code> for auth flow for the same user and I can access the two tokens easily. I have it running currently. its just that the login page is not right. Not sure why you are saying its a problem. BTW - I am using latest Spring Boot 3.2"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1700670439,"post_id":77528118,"comment_id":136683830,"body_markdown":"How is the Gitlab client authorized if it is configured with authorization_code and you don&#39;t login?","body":"How is the Gitlab client authorized if it is configured with authorization_code and you don&#39;t login?"},{"owner":{"account_id":21827419,"reputation":105,"user_id":16122714,"display_name":"Viraj Shetty"},"score":0,"creation_date":1700671505,"post_id":77528118,"comment_id":136684082,"body_markdown":"After logging in with Keycloak, there is a button in the application for getting GitLab Projects. That will initiate an an authorization code flow with gitlab. By using  `@RegisteredOAuth2AuthorizedClient(&quot;gitlab-oidc&quot;) OAuth2AuthorizedClient client` in my handling method, it handles the oauth flow automatically. This is how GitLab authorized client is set. The redirect endpoint is `/authorize/oauth2/code/gitlab-oidc` as opposed to `login/oauth2/code/gitlab-oidc`. That&#39;s what I mean by saying - login versus Authorization. This is as per doc link I added is prev comment.","body":"After logging in with Keycloak, there is a button in the application for getting GitLab Projects. That will initiate an an authorization code flow with gitlab. By using  <code>@RegisteredOAuth2AuthorizedClient(&quot;gitlab-oidc&quot;) OAuth2AuthorizedClient client</code> in my handling method, it handles the oauth flow automatically. This is how GitLab authorized client is set. The redirect endpoint is <code>&#47;authorize&#47;oauth2&#47;code&#47;gitlab-oidc</code> as opposed to <code>login&#47;oauth2&#47;code&#47;gitlab-oidc</code>. That&#39;s what I mean by saying - login versus Authorization. This is as per doc link I added is prev comment."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1700673641,"post_id":77528118,"comment_id":136684511,"body_markdown":"Technically, a successful login leads to the creation of an authorized client, but I had missed this `/authorize/**` endpoints to add authorized client to the session of an already logged-in user and I now understand what you mean. My Bad. The default login page is generated by using all registrations with `authorization_code`. You could [override this default login page](https://docs.spring.io/spring-security/reference/servlet/oauth2/login/advanced.html#oauth2login-advanced-login-page), like you&#39;re trying to do, but mind the important note in the doc: **provide your own @Controller for it**","body":"Technically, a successful login leads to the creation of an authorized client, but I had missed this <code>&#47;authorize&#47;**</code> endpoints to add authorized client to the session of an already logged-in user and I now understand what you mean. My Bad. The default login page is generated by using all registrations with <code>authorization_code</code>. You could <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/login/advanced.html#oauth2login-advanced-login-page\" rel=\"nofollow noreferrer\">override this default login page</a>, like you&#39;re trying to do, but mind the important note in the doc: <b>provide your own @Controller for it</b>"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1700673971,"post_id":77528118,"comment_id":136684566,"body_markdown":"I have sample of such a [login @Controller here](https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials/resource-server_with_ui/src/main/java/com/c4soft/springaddons/tutorials/ui/LoginController.java). It goes with [this template](https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials/resource-server_with_ui/src/main/resources/templates/login.html) (which is a copy of Spring&#39;s default one).","body":"I have sample of such a <a href=\"https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials/resource-server_with_ui/src/main/java/com/c4soft/springaddons/tutorials/ui/LoginController.java\" rel=\"nofollow noreferrer\">login @Controller here</a>. It goes with <a href=\"https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials/resource-server_with_ui/src/main/resources/templates/login.html\" rel=\"nofollow noreferrer\">this template</a> (which is a copy of Spring&#39;s default one)."},{"owner":{"account_id":21827419,"reputation":105,"user_id":16122714,"display_name":"Viraj Shetty"},"score":0,"creation_date":1700678574,"post_id":77528118,"comment_id":136685333,"body_markdown":"Thanks for that confirmation. I created my own controller LoginController with /login. It works but there is still the problem of missing /logout. I think this is because - with new login Page change there is no DefaultLogoutPageGeneratingFilter in the filter list. Not sure why. Is there anything specific to be done to get back the /logout ?","body":"Thanks for that confirmation. I created my own controller LoginController with /login. It works but there is still the problem of missing /logout. I think this is because - with new login Page change there is no DefaultLogoutPageGeneratingFilter in the filter list. Not sure why. Is there anything specific to be done to get back the /logout ?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1700679050,"post_id":77528118,"comment_id":136685416,"body_markdown":"To be honest, I don&#39;t know. does your `oidcLogoutSuccessHandler()` return a `new OidcClientInitiatedServerLogoutSuccessHandler(clientRegistrationRepository)`?","body":"To be honest, I don&#39;t know. does your <code>oidcLogoutSuccessHandler()</code> return a <code>new OidcClientInitiatedServerLogoutSuccessHandler(clientRegistra&zwnj;&#8203;tionRepository)</code>?"},{"owner":{"account_id":21827419,"reputation":105,"user_id":16122714,"display_name":"Viraj Shetty"},"score":0,"creation_date":1700679785,"post_id":77528118,"comment_id":136685536,"body_markdown":"Yeah .. that&#39;s exactly what it does. But even after using `logout(Customizer.withDefaults())` - the /logout returns a 404","body":"Yeah .. that&#39;s exactly what it does. But even after using <code>logout(Customizer.withDefaults())</code> - the /logout returns a 404"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1700680487,"post_id":77528118,"comment_id":136685652,"body_markdown":"There must be something else in your conf that breaks logout, but without the full configuration and DEBUG logs, it&#39;s hard to tell (I don&#39;t know enough logout internal impl to make a guess).","body":"There must be something else in your conf that breaks logout, but without the full configuration and DEBUG logs, it&#39;s hard to tell (I don&#39;t know enough logout internal impl to make a guess)."},{"owner":{"account_id":21827419,"reputation":105,"user_id":16122714,"display_name":"Viraj Shetty"},"score":0,"creation_date":1700685245,"post_id":77528118,"comment_id":136686338,"body_markdown":"I had to specifically set  `logout.logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))` to get the /logout endpoint back. The only confusing part now is why spring boot does not ask for confirmation now. Thanks for the help !","body":"I had to specifically set  <code>logout.logoutRequestMatcher(new AntPathRequestMatcher(&quot;&#47;logout&quot;))</code> to get the /logout endpoint back. The only confusing part now is why spring boot does not ask for confirmation now. Thanks for the help !"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":12,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700638997,"creation_date":1700638997,"answer_id":77528118,"question_id":77527153,"body_markdown":"What defines that a client registration is used for login is the `authorization_code` flow (`authorization-grant-type`), not the scopes.\r\n\r\nIf you can declare a client with `client_credentials` on Github to make your Github API calls, then update your Spring conf. If not (if the request has to be done with an access token issued on behalf of a Github user with authorization-code flow), then you actually need to **login to both Keycloak and Github**. But you&#39;ll run into troubles because [Spring Security really isn&#39;t designed to hold multiple identities at a time][1]. If that&#39;s the case, I suggest you add comment with your use case in the ticket...\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/issues/12862","title":"Setting up Spring Boot OAuth 2 Multi Authorization correctly","body":"<p>What defines that a client registration is used for login is the <code>authorization_code</code> flow (<code>authorization-grant-type</code>), not the scopes.</p>\n<p>If you can declare a client with <code>client_credentials</code> on Github to make your Github API calls, then update your Spring conf. If not (if the request has to be done with an access token issued on behalf of a Github user with authorization-code flow), then you actually need to <strong>login to both Keycloak and Github</strong>. But you'll run into troubles because <a href=\"https://github.com/spring-projects/spring-security/issues/12862\" rel=\"nofollow noreferrer\">Spring Security really isn't designed to hold multiple identities at a time</a>. If that's the case, I suggest you add comment with your use case in the ticket...</p>\n"}],"owner":{"account_id":21827419,"reputation":105,"user_id":16122714,"display_name":"Viraj Shetty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700658146,"creation_date":1700623312,"question_id":77527153,"body_markdown":"   - Spring Boot Version - 3.2 RC2 (same behavior with RC1)  \r\n   - Keycloak as OpenID Connect server  \r\n   - GitLab as OAuth 2 Auth server\r\n\r\nI have a Spring Boot App (Client) which integrates with Keycloak for OpenID Connect. But I am also using GitLab as OAuth 2 to pull in all my GitLab projects. So, in my application.properties I have setup for both Keycloak and GitLab. The GitLab setup is NOT with openid scope because it&#39;s not intended for log in. This usecase works fine - I am able to login using keycloak and call the gitlab api by authorizing with Gitlab. SpringBoot stores both access tokens and I am able to access them.\r\n\r\nHowever, when i try to log in to my app - Spring boot shows a login page with 2 links - one for Keycloak and another for GitLab. Is there any way to NOT show the gitlab link (because i don&#39;t want to log in with this) ?  \r\n\r\nIn order to change login page,  I tried setting the login page as follows\r\n\r\n    oauth2Login.loginPage(&quot;{keycloak login url directly}&quot;)\r\n\r\nEverything works with this - except I found out that the /logout was not working. When i looked at the console, I see that the DefaultLogoutPageGeneratingFilter is missing from the list of filters. Not sure why. Why would DefaultLogoutPageGeneratingFilter be missing if oauth2Login.loginPage() is used ? \r\n\r\nThen I went and added this DefaultLogoutPageGeneratingFilter back using HttpSecurity but when logging out, it gave me a 403 error. So, I am confused. \r\n\r\nMy original problem is that the &quot;gitlab&quot; link should not be shown in the login page. \r\n\r\nAnyone has any ideas how to solve this ? \r\n\r\nMy app.properties looks like this\r\n==================================================\r\n\r\n    # KeyCloak specific OAuth 2 related properties\r\n    spring.security.oauth2.client.registration.keycloak-oidc.provider=keycloak\r\n    spring.security.oauth2.client.registration.keycloak-oidc.client-name=Keycloak\r\n    spring.security.oauth2.client.registration.keycloak-oidc.client-id=bugtracker\r\n    spring.security.oauth2.client.registration.keycloak-oidc.client-secret=***********\r\n    spring.security.oauth2.client.registration.keycloak-oidc.authorization-grant-type=authorization_code\r\n    spring.security.oauth2.client.registration.keycloak-oidc.scope=openid,profile,email\r\n    \r\n    # provider url\r\n    spring.security.oauth2.client.provider.keycloak.issuer-uri=http://127.0.0.1:9090/realms/oauthcourse\r\n    \r\n    # GitLab specific OAuth 2 related properties (GITLAB SHOWS UP IN LOGIN SCREEN)\r\n    spring.security.oauth2.client.registration.gitlab-oidc.provider=gitlab\r\n    spring.security.oauth2.client.registration.gitlab-oidc.client-name=GitLab\r\n    spring.security.oauth2.client.registration.gitlab-oidc.client-id=11ea0ce2f44a0a81a6f0e5a5f622db814c56c8c565fe36a03ca9a0ea7da99821\r\n    spring.security.oauth2.client.registration.gitlab-oidc.client-secret=******\r\n    spring.security.oauth2.client.registration.gitlab-oidc.authorization-grant-type=authorization_code\r\n    spring.security.oauth2.client.registration.gitlab-oidc.scope=read_user,api,read_api\r\n    \r\n    # provider url\r\n    spring.security.oauth2.client.provider.gitlab.issuer-uri=https://gitlab.com\r\n\r\nsecurity config \r\n====================\r\n\r\n    http.authorizeHttpRequests(authorize -&gt;\r\n             authorize.requestMatchers(&quot;/bugtracker/ui&quot;).authenticated()\r\n                  .requestMatchers(&quot;/bugtracker/ui/admin/**&quot;).hasAnyRole(&quot;bugtracker.admin&quot;)\r\n                  .requestMatchers(&quot;/bugtracker/ui/**&quot;).hasAnyRole(&lt;some list&gt;)\r\n                  .anyRequest().authenticated())\r\n        .oauth2Login(oauth2 -&gt;\r\n             oauth2.loginPage(&quot;/oauth2/authorization/keycloak-oidc&quot;) // &lt;--- PROBLEM\r\n                   .userInfoEndpoint(epConfig -&gt; epConfig.oidcUserService(...))\r\n                   .authorizationEndpoint(...))\r\n        .oauth2Client(Customizer.withDefaults())\r\n        .logout(logout -&gt; logout.logoutSuccessHandler(oidcLogoutSuccessHandler()));\r\n\r\n\r\n\r\n\r\n","title":"Setting up Spring Boot OAuth 2 Multi Authorization correctly","body":"<ul>\n<li>Spring Boot Version - 3.2 RC2 (same behavior with RC1)</li>\n<li>Keycloak as OpenID Connect server</li>\n<li>GitLab as OAuth 2 Auth server</li>\n</ul>\n<p>I have a Spring Boot App (Client) which integrates with Keycloak for OpenID Connect. But I am also using GitLab as OAuth 2 to pull in all my GitLab projects. So, in my application.properties I have setup for both Keycloak and GitLab. The GitLab setup is NOT with openid scope because it's not intended for log in. This usecase works fine - I am able to login using keycloak and call the gitlab api by authorizing with Gitlab. SpringBoot stores both access tokens and I am able to access them.</p>\n<p>However, when i try to log in to my app - Spring boot shows a login page with 2 links - one for Keycloak and another for GitLab. Is there any way to NOT show the gitlab link (because i don't want to log in with this) ?</p>\n<p>In order to change login page,  I tried setting the login page as follows</p>\n<pre><code>oauth2Login.loginPage(&quot;{keycloak login url directly}&quot;)\n</code></pre>\n<p>Everything works with this - except I found out that the /logout was not working. When i looked at the console, I see that the DefaultLogoutPageGeneratingFilter is missing from the list of filters. Not sure why. Why would DefaultLogoutPageGeneratingFilter be missing if oauth2Login.loginPage() is used ?</p>\n<p>Then I went and added this DefaultLogoutPageGeneratingFilter back using HttpSecurity but when logging out, it gave me a 403 error. So, I am confused.</p>\n<p>My original problem is that the &quot;gitlab&quot; link should not be shown in the login page.</p>\n<p>Anyone has any ideas how to solve this ?</p>\n<h1>My app.properties looks like this</h1>\n<pre><code># KeyCloak specific OAuth 2 related properties\nspring.security.oauth2.client.registration.keycloak-oidc.provider=keycloak\nspring.security.oauth2.client.registration.keycloak-oidc.client-name=Keycloak\nspring.security.oauth2.client.registration.keycloak-oidc.client-id=bugtracker\nspring.security.oauth2.client.registration.keycloak-oidc.client-secret=***********\nspring.security.oauth2.client.registration.keycloak-oidc.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.keycloak-oidc.scope=openid,profile,email\n\n# provider url\nspring.security.oauth2.client.provider.keycloak.issuer-uri=http://127.0.0.1:9090/realms/oauthcourse\n\n# GitLab specific OAuth 2 related properties (GITLAB SHOWS UP IN LOGIN SCREEN)\nspring.security.oauth2.client.registration.gitlab-oidc.provider=gitlab\nspring.security.oauth2.client.registration.gitlab-oidc.client-name=GitLab\nspring.security.oauth2.client.registration.gitlab-oidc.client-id=11ea0ce2f44a0a81a6f0e5a5f622db814c56c8c565fe36a03ca9a0ea7da99821\nspring.security.oauth2.client.registration.gitlab-oidc.client-secret=******\nspring.security.oauth2.client.registration.gitlab-oidc.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.gitlab-oidc.scope=read_user,api,read_api\n\n# provider url\nspring.security.oauth2.client.provider.gitlab.issuer-uri=https://gitlab.com\n</code></pre>\n<h1>security config</h1>\n<pre><code>http.authorizeHttpRequests(authorize -&gt;\n         authorize.requestMatchers(&quot;/bugtracker/ui&quot;).authenticated()\n              .requestMatchers(&quot;/bugtracker/ui/admin/**&quot;).hasAnyRole(&quot;bugtracker.admin&quot;)\n              .requestMatchers(&quot;/bugtracker/ui/**&quot;).hasAnyRole(&lt;some list&gt;)\n              .anyRequest().authenticated())\n    .oauth2Login(oauth2 -&gt;\n         oauth2.loginPage(&quot;/oauth2/authorization/keycloak-oidc&quot;) // &lt;--- PROBLEM\n               .userInfoEndpoint(epConfig -&gt; epConfig.oidcUserService(...))\n               .authorizationEndpoint(...))\n    .oauth2Client(Customizer.withDefaults())\n    .logout(logout -&gt; logout.logoutSuccessHandler(oidcLogoutSuccessHandler()));\n</code></pre>\n"},{"tags":["java","spring-boot","oauth-2.0","jwt","access-token"],"comments":[{"owner":{"account_id":9995852,"reputation":6086,"user_id":7393478,"display_name":"Kaddath"},"score":1,"creation_date":1700642218,"post_id":77524877,"comment_id":136678433,"body_markdown":"It looks like an XY problem to me, why would you absolutely need an empty payload? This shouldn&#39;t be because of oauth from what I know.. passing a simple string like &quot;myPayload&quot; should be a valid solution. We need more details if you want relevant help, like for example, which line causes this error in your code?","body":"It looks like an XY problem to me, why would you absolutely need an empty payload? This shouldn&#39;t be because of oauth from what I know.. passing a simple string like &quot;myPayload&quot; should be a valid solution. We need more details if you want relevant help, like for example, which line causes this error in your code?"}],"answers":[{"tags":[],"owner":{"account_id":2477504,"reputation":15766,"user_id":2157818,"accept_rate":86,"display_name":"Spomky-Labs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700646081,"creation_date":1700646081,"answer_id":77528815,"question_id":77524877,"body_markdown":"The token you share is a JWS i.e. a digitally signed JWT.\r\nThe digital signature is computed using the the header and the payload.\r\n\r\nDetached payload is not common, but still valid. It is mentioned in the [Appendix F of the RFC7515](https://datatracker.ietf.org/doc/html/rfc7515#appendix-F).\r\nThis is very useful when the payload size is too big for being transmitted over a HTTP request. It sent by other means that are out of scope of the specification.\r\nThis behaviour is more useful when combined with the [RFC7797](https://datatracker.ietf.org/doc/html/rfc7797) where the Base64 URl Safe encoding is skipped.\r\n\r\nBut in all cases, all parts (header, payload and signature) shall be provided for signature validation.\r\n\r\nThat is why we do not understand what you expect by stripping the payload. It is mandatory to provide these parts (untampered) for validating the token otherwise it will undoubtedly fail.","title":"how to verify a JWT token with empty payload","body":"<p>The token you share is a JWS i.e. a digitally signed JWT.\nThe digital signature is computed using the the header and the payload.</p>\n<p>Detached payload is not common, but still valid. It is mentioned in the <a href=\"https://datatracker.ietf.org/doc/html/rfc7515#appendix-F\" rel=\"nofollow noreferrer\">Appendix F of the RFC7515</a>.\nThis is very useful when the payload size is too big for being transmitted over a HTTP request. It sent by other means that are out of scope of the specification.\nThis behaviour is more useful when combined with the <a href=\"https://datatracker.ietf.org/doc/html/rfc7797\" rel=\"nofollow noreferrer\">RFC7797</a> where the Base64 URl Safe encoding is skipped.</p>\n<p>But in all cases, all parts (header, payload and signature) shall be provided for signature validation.</p>\n<p>That is why we do not understand what you expect by stripping the payload. It is mandatory to provide these parts (untampered) for validating the token otherwise it will undoubtedly fail.</p>\n"},{"tags":[],"owner":{"account_id":4624068,"reputation":51452,"user_id":3748349,"display_name":"Hans Z."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700657987,"creation_date":1700657987,"answer_id":77530146,"question_id":77524877,"body_markdown":"Technically the sample token that you&#39;ve provided is not a JWT: a JWT defines the payload as JSON. In your case the payload is empty, which may be considered as invalid JSON. Hence a JWT routine may not be able to verify the token.\r\n\r\nHowever, what you can do is treat it as a JWS (JSON Web Signature), which is a superset of JWT and can embed opaque content such as the payload that you&#39;ve provided here. Apparently jwt.io is able to verify JWS as well as JWT.\r\n\r\nA quick search reveals that io.jsonwebtoken does seem to have support for &quot;raw&quot; JWS as well as JWTS, see e.g.: https://javadoc.io/doc/io.jsonwebtoken/jjwt/0.9.1/io/jsonwebtoken/Jws.html\r\n\r\n&gt; B - the type of the JWS body contents, either a String or a Claims\r\n&gt; instance.\r\n\r\n so you should/may be able to use the JWS class","title":"how to verify a JWT token with empty payload","body":"<p>Technically the sample token that you've provided is not a JWT: a JWT defines the payload as JSON. In your case the payload is empty, which may be considered as invalid JSON. Hence a JWT routine may not be able to verify the token.</p>\n<p>However, what you can do is treat it as a JWS (JSON Web Signature), which is a superset of JWT and can embed opaque content such as the payload that you've provided here. Apparently jwt.io is able to verify JWS as well as JWT.</p>\n<p>A quick search reveals that io.jsonwebtoken does seem to have support for &quot;raw&quot; JWS as well as JWTS, see e.g.: <a href=\"https://javadoc.io/doc/io.jsonwebtoken/jjwt/0.9.1/io/jsonwebtoken/Jws.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/io.jsonwebtoken/jjwt/0.9.1/io/jsonwebtoken/Jws.html</a></p>\n<blockquote>\n<p>B - the type of the JWS body contents, either a String or a Claims\ninstance.</p>\n</blockquote>\n<p>so you should/may be able to use the JWS class</p>\n"}],"owner":{"account_id":26621134,"reputation":9,"user_id":20239901,"display_name":"Rahul Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1700657987,"creation_date":1700588475,"question_id":77524877,"body_markdown":"Below code works fine when payload is present .But when payload is empty i get error as\r\n**&quot;Body/Payload is missing&quot;**\r\nHow to fix the error.I am able to verify the token on jwt.io website\r\nSample JWT token with &quot;&quot; empty payload\r\n&gt; eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9..eoZhroqrfGu9P5dEeCceFZ8oG3XUlvOS6vKUSp4dwO86p_DDy_blNSvez3QLQBgxmaL_VRXxPNXBpDKIc3FHa9vmbEligItW5mrtamAlt_NrvSuXBYMhJrUkc6GHamVHYF4-g7PrrgycevIFCmoquZY1bUr0gb0Foo50oPhcA5vO2DMso6PuevdFQ2NBH5uSdHteRfClR1KjxUzguNm4a0FafMKj5oM6d1p4HVanUMyR8LJMduqrEuSfTPXxV_hVz2pYqxibQ3u9U2_BbHLt0Phmq8ENG_arxd0nY4VDnUq8WpydhR2Q8ilHEOQjG4tvkLrdstgwWJaMLJtzr-xAFw\r\n\r\n\r\n    \r\n```\r\nimport io.jsonwebtoken.*;\r\npublic static boolean verify(String jwtToken, String publicKeyString) throws Exception {\r\n     \r\n           \r\n        try {\r\n            byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyString\r\n                    .replace(&quot;-----BEGIN PUBLIC KEY-----&quot;, &quot;&quot;)\r\n                    .replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;)\r\n                    .replaceAll(&quot;\\\\s+&quot;, &quot;&quot;));\r\n\r\n            X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PublicKey publicKey = keyFactory.generatePublic(keySpec);\r\n\r\n\r\n            Jws&lt;Claims&gt; claimsJws = Jwts.parserBuilder()\r\n                    .setSigningKey(publicKey)\r\n                    .build()\r\n                    .parseClaimsJws(jwtToken);\r\n            return true;\r\n\r\n        } catch (Exception e) {\r\n           e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n```","title":"how to verify a JWT token with empty payload","body":"<p>Below code works fine when payload is present .But when payload is empty i get error as\n<strong>&quot;Body/Payload is missing&quot;</strong>\nHow to fix the error.I am able to verify the token on jwt.io website\nSample JWT token with &quot;&quot; empty payload</p>\n<blockquote>\n<p>eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9..eoZhroqrfGu9P5dEeCceFZ8oG3XUlvOS6vKUSp4dwO86p_DDy_blNSvez3QLQBgxmaL_VRXxPNXBpDKIc3FHa9vmbEligItW5mrtamAlt_NrvSuXBYMhJrUkc6GHamVHYF4-g7PrrgycevIFCmoquZY1bUr0gb0Foo50oPhcA5vO2DMso6PuevdFQ2NBH5uSdHteRfClR1KjxUzguNm4a0FafMKj5oM6d1p4HVanUMyR8LJMduqrEuSfTPXxV_hVz2pYqxibQ3u9U2_BbHLt0Phmq8ENG_arxd0nY4VDnUq8WpydhR2Q8ilHEOQjG4tvkLrdstgwWJaMLJtzr-xAFw</p>\n</blockquote>\n<pre><code>import io.jsonwebtoken.*;\npublic static boolean verify(String jwtToken, String publicKeyString) throws Exception {\n     \n           \n        try {\n            byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyString\n                    .replace(&quot;-----BEGIN PUBLIC KEY-----&quot;, &quot;&quot;)\n                    .replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;)\n                    .replaceAll(&quot;\\\\s+&quot;, &quot;&quot;));\n\n            X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes);\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n            PublicKey publicKey = keyFactory.generatePublic(keySpec);\n\n\n            Jws&lt;Claims&gt; claimsJws = Jwts.parserBuilder()\n                    .setSigningKey(publicKey)\n                    .build()\n                    .parseClaimsJws(jwtToken);\n            return true;\n\n        } catch (Exception e) {\n           e.printStackTrace();\n            return false;\n        }\n    }\n</code></pre>\n"},{"tags":["java","collections","iterator","iterable"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1414418764,"post_id":26589279,"comment_id":41793511,"body_markdown":"If you are constrained to JDK libraries, I don&#39;t believe there&#39;s a direct means of doing this.","body":"If you are constrained to JDK libraries, I don&#39;t believe there&#39;s a direct means of doing this."}],"answers":[{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1414418588,"creation_date":1414418588,"answer_id":26589314,"question_id":26589279,"body_markdown":"An `Iterator` is like a pointer/reference to an element in a collection. It is *not* the collection itself. So, you can&#39;t use `iterator.contains()`. Also, an `Iterable` interface is used to *iterate* over a collection using a *for-each* loop. A collection and Iterator / Iterable are different. ","title":"Contains method for Iterable and Iterator?","body":"<p>An <code>Iterator</code> is like a pointer/reference to an element in a collection. It is <em>not</em> the collection itself. So, you can't use <code>iterator.contains()</code>. Also, an <code>Iterable</code> interface is used to <em>iterate</em> over a collection using a <em>for-each</em> loop. A collection and Iterator / Iterable are different. </p>\n"},{"tags":[],"owner":{"account_id":3484422,"reputation":166,"user_id":2915710,"display_name":"Guy Marom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414419345,"creation_date":1414418783,"answer_id":26589363,"question_id":26589279,"body_markdown":"From the [JavaDoc for Iterable][1]:\r\n\r\n\r\n&gt; Implementing this interface allows an object to be the target of the &quot;foreach&quot; statement\r\n\r\nI&#39;m sorry to say what you&#39;re trying to do is impossible.\r\n\r\n*.contains* is a method of the interface Collection and not Iterable so maybe you can use that interface.\r\n\r\n[1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html","title":"Contains method for Iterable and Iterator?","body":"<p>From the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html\" rel=\"nofollow\">JavaDoc for Iterable</a>:</p>\n\n<blockquote>\n  <p>Implementing this interface allows an object to be the target of the \"foreach\" statement</p>\n</blockquote>\n\n<p>I'm sorry to say what you're trying to do is impossible.</p>\n\n<p><em>.contains</em> is a method of the interface Collection and not Iterable so maybe you can use that interface.</p>\n"},{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1700657852,"creation_date":1414419054,"answer_id":26589428,"question_id":26589279,"body_markdown":"Guava has the functions [Iterables.contains](https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#contains-java.lang.Iterable-java.lang.Object-) and [Iterators.contains](https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Iterators.html#contains-java.util.Iterator-java.lang.Object-) which do what you want. You can look at [the source](https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Iterators.java#L176) to see how to implement them yourself.","title":"Contains method for Iterable and Iterator?","body":"<p>Guava has the functions <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#contains-java.lang.Iterable-java.lang.Object-\" rel=\"nofollow noreferrer\">Iterables.contains</a> and <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Iterators.html#contains-java.util.Iterator-java.lang.Object-\" rel=\"nofollow noreferrer\">Iterators.contains</a> which do what you want. You can look at <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Iterators.java#L176\" rel=\"nofollow noreferrer\">the source</a> to see how to implement them yourself.</p>\n"},{"comments":[{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1414421298,"post_id":26590095,"comment_id":41795159,"body_markdown":"I get an Iterable using [Guava Splitter](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Splitter.html#split(java.lang.CharSequence)), I can&#39;t use the newer `splitToList` because we are using an older version here at the company.","body":"I get an Iterable using <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Splitter.html#split(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">Guava Splitter</a>, I can&#39;t use the newer <code>splitToList</code> because we are using an older version here at the company."},{"owner":{"account_id":4793462,"reputation":236,"user_id":3871992,"display_name":"Wolf S"},"score":1,"creation_date":1414421918,"post_id":26590095,"comment_id":41795611,"body_markdown":"Well then bad code design is by google and they realized it themselves by now ;-)","body":"Well then bad code design is by google and they realized it themselves by now ;-)"},{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1414660818,"post_id":26590095,"comment_id":41902570,"body_markdown":"I think the Collections class could add a contains method that accepts an Iterable. I&#39;m talking about Collections, not Collecion.","body":"I think the Collections class could add a contains method that accepts an Iterable. I&#39;m talking about Collections, not Collecion."},{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1471936785,"post_id":26590095,"comment_id":65536482,"body_markdown":"**If you would add methods like &quot;contains&quot; to the interface Iterable you would get a (simplified) version of the Collection interface - which already exists. So there is no need for that.**\n\nThere is a need. Consider that `Path` is `Iterable` but not a `Collection`, so it would make sense to be able to check if `Path` contains a certain element.","body":"<b>If you would add methods like &quot;contains&quot; to the interface Iterable you would get a (simplified) version of the Collection interface - which already exists. So there is no need for that.</b>  There is a need. Consider that <code>Path</code> is <code>Iterable</code> but not a <code>Collection</code>, so it would make sense to be able to check if <code>Path</code> contains a certain element."}],"tags":[],"owner":{"account_id":4793462,"reputation":236,"user_id":3871992,"display_name":"Wolf S"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1414420949,"creation_date":1414420949,"answer_id":26590095,"question_id":26589279,"body_markdown":"An iterator is a sort of cursor which can be moved over the elements of any collection of elements. So its inner state is mainly the pointer to the current element. If you would try to find out whether it &quot;contains&quot; a certain element you would have to move the cursor and therefore modify the inner state. Modifying the state by simply asking a question is surely a bad thing to do.\r\n\r\nThat is even the problem with the mentioned Guava. It will modify the iterator object by simply calling the contains method.\r\n\r\nAn iterable on the other hand is simply an interface telling the compiler that there is something to iterate over. In most cases the iterable object will be the collection itself. If you would add methods like &quot;contains&quot; to the interface Iterable you would get a (simplified) version of the Collection interface - which already exists. So there is no need for that.\r\n\r\nIf you are stuck in your code at some place where you have a reference to an iterable but need functionality of a collection you should think about refactoring your code. Either you should use the interface collection consistently or ask yourself why you should better not call collection methods at this point. So your problem is most probably a result of a suboptimal code design.\r\n\r\nOn the other hand I would consider it to be a strange thing to use Iterable as type for parameters or variables anyway. Technically you can do this but I think it is meant to be used in loops only.","title":"Contains method for Iterable and Iterator?","body":"<p>An iterator is a sort of cursor which can be moved over the elements of any collection of elements. So its inner state is mainly the pointer to the current element. If you would try to find out whether it \"contains\" a certain element you would have to move the cursor and therefore modify the inner state. Modifying the state by simply asking a question is surely a bad thing to do.</p>\n\n<p>That is even the problem with the mentioned Guava. It will modify the iterator object by simply calling the contains method.</p>\n\n<p>An iterable on the other hand is simply an interface telling the compiler that there is something to iterate over. In most cases the iterable object will be the collection itself. If you would add methods like \"contains\" to the interface Iterable you would get a (simplified) version of the Collection interface - which already exists. So there is no need for that.</p>\n\n<p>If you are stuck in your code at some place where you have a reference to an iterable but need functionality of a collection you should think about refactoring your code. Either you should use the interface collection consistently or ask yourself why you should better not call collection methods at this point. So your problem is most probably a result of a suboptimal code design.</p>\n\n<p>On the other hand I would consider it to be a strange thing to use Iterable as type for parameters or variables anyway. Technically you can do this but I think it is meant to be used in loops only.</p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1414456028,"creation_date":1414456028,"answer_id":26599043,"question_id":26589279,"body_markdown":"In Java 8, you can turn the `Iterable` into a `Stream` and use `anyMatch` on it:\r\n\r\n    String myName = ... ;\r\n    Iterable&lt;String&gt; data = getData();\r\n\r\n    return StreamSupport.stream(data.spliterator(), false)\r\n                        .anyMatch(name -&gt; myName.equals(name));\r\n\r\nor using a method reference,\r\n\r\n    return StreamSupport.stream(data.spliterator(), false)\r\n                        .anyMatch(myName::equals);\r\n","title":"Contains method for Iterable and Iterator?","body":"<p>In Java 8, you can turn the <code>Iterable</code> into a <code>Stream</code> and use <code>anyMatch</code> on it:</p>\n\n<pre><code>String myName = ... ;\nIterable&lt;String&gt; data = getData();\n\nreturn StreamSupport.stream(data.spliterator(), false)\n                    .anyMatch(name -&gt; myName.equals(name));\n</code></pre>\n\n<p>or using a method reference,</p>\n\n<pre><code>return StreamSupport.stream(data.spliterator(), false)\n                    .anyMatch(myName::equals);\n</code></pre>\n"}],"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20067,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":26599043,"answer_count":5,"score":17,"last_activity_date":1700657852,"creation_date":1414418476,"question_id":26589279,"body_markdown":"Is there a simple method to check if an element is contained in an iterable or iterator, analogous to the [Collection.contains(Object o)](https://docs.oracle.com/javase/9/docs/api/java/util/Collection.html#contains-java.lang.Object-) method?\r\n\r\nI.e. instead of having to write:\r\n\r\n    Iterable&lt;String&gt; data = getData();\r\n    for (final String name : data) {\r\n        if (name.equals(myName)) {\r\n            return true;\r\n        }\r\n    }\r\n\r\nI would like to write:\r\n\r\n    Iterable&lt;String&gt; data = getData(); \r\n    if (Collections.contains(data, myName)) {\r\n        return true;\r\n    }\r\n\r\nI&#39;m really surprised there is no such thing.","title":"Contains method for Iterable and Iterator?","body":"<p>Is there a simple method to check if an element is contained in an iterable or iterator, analogous to the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Collection.html#contains-java.lang.Object-\" rel=\"noreferrer\">Collection.contains(Object o)</a> method?</p>\n\n<p>I.e. instead of having to write:</p>\n\n<pre><code>Iterable&lt;String&gt; data = getData();\nfor (final String name : data) {\n    if (name.equals(myName)) {\n        return true;\n    }\n}\n</code></pre>\n\n<p>I would like to write:</p>\n\n<pre><code>Iterable&lt;String&gt; data = getData(); \nif (Collections.contains(data, myName)) {\n    return true;\n}\n</code></pre>\n\n<p>I'm really surprised there is no such thing.</p>\n"},{"tags":["java","sql","mysql","hibernate","jpa"],"comments":[{"owner":{"account_id":12256232,"reputation":617,"user_id":8945198,"display_name":"AP11"},"score":0,"creation_date":1700656609,"post_id":77529916,"comment_id":136680982,"body_markdown":"You should probably use `@OneToMany` annotation as one `StudentScore` has multiple `AnsweredQuestion`, meanwhile every `AnsweredQuestion` is tied to one `StudentScore`. But it is a good practice to not use unidirectional `@OneToMany`.","body":"You should probably use <code>@OneToMany</code> annotation as one <code>StudentScore</code> has multiple <code>AnsweredQuestion</code>, meanwhile every <code>AnsweredQuestion</code> is tied to one <code>StudentScore</code>. But it is a good practice to not use unidirectional <code>@OneToMany</code>."},{"owner":{"account_id":19251599,"reputation":1,"user_id":14069424,"display_name":"Pedro Hugo"},"score":0,"creation_date":1700658271,"post_id":77529916,"comment_id":136681261,"body_markdown":"What if i create a intermediate entity to store the answers and be tied one to one with `StudentScore`, and inside this intermediate class i would have the one to many relation with the questions itself","body":"What if i create a intermediate entity to store the answers and be tied one to one with <code>StudentScore</code>, and inside this intermediate class i would have the one to many relation with the questions itself"},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1700664648,"post_id":77529916,"comment_id":136682574,"body_markdown":"Please share your console error message details as well~","body":"Please share your console error message details as well~"}],"answers":[{"comments":[{"owner":{"account_id":19251599,"reputation":1,"user_id":14069424,"display_name":"Pedro Hugo"},"score":0,"creation_date":1700658300,"post_id":77530109,"comment_id":136681266,"body_markdown":"As i commented up there, what if i create a intermediate entity to store the answers and be tied one to one with StudentScore, and inside this intermediate class i would have the one to many relation with the questions itself","body":"As i commented up there, what if i create a intermediate entity to store the answers and be tied one to one with StudentScore, and inside this intermediate class i would have the one to many relation with the questions itself"},{"owner":{"account_id":4708012,"reputation":418,"user_id":3809480,"accept_rate":80,"display_name":"Evya2005"},"score":0,"creation_date":1700659490,"post_id":77530109,"comment_id":136681531,"body_markdown":"Why would you do that?","body":"Why would you do that?"},{"owner":{"account_id":4708012,"reputation":418,"user_id":3809480,"accept_rate":80,"display_name":"Evya2005"},"score":0,"creation_date":1700659648,"post_id":77530109,"comment_id":136681560,"body_markdown":"so i need to have one StudentScore tied to one list of AnsweredQuestion - one A tied to list of B - meaning One-To-Many @PedroHugo","body":"so i need to have one StudentScore tied to one list of AnsweredQuestion - one A tied to list of B - meaning One-To-Many @PedroHugo"}],"tags":[],"owner":{"account_id":4708012,"reputation":418,"user_id":3809480,"accept_rate":80,"display_name":"Evya2005"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700657630,"creation_date":1700657630,"answer_id":77530109,"question_id":77529916,"body_markdown":"You should use @OneToMany\r\nMeaning One student - Many AnsweredQuestion ","title":"Which relation should i use to store a list of an entity with hibernate?","body":"<p>You should use @OneToMany\nMeaning One student - Many AnsweredQuestion</p>\n"}],"owner":{"account_id":19251599,"reputation":1,"user_id":14069424,"display_name":"Pedro Hugo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700657630,"creation_date":1700655809,"question_id":77529916,"body_markdown":"I&#39;m building a Quiz App and i need to store the result of the user after it finishes the quiz\r\n\r\nHere&#39;s the class that represent the user result:\r\n\r\n    @Entity\r\n    public class StudentScore {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Column\r\n    private String quizId;\r\n\r\n    @Column\r\n    private String name;\r\n\r\n    @Column\r\n    private double score;\r\n    \r\n    //I don&#39;t know which relation to use\r\n    private List&lt;AnsweredQuestion&gt; answeredQuestions; \r\n    }\r\n\r\nAnd there&#39;s the entity of the `AnsweredQuestion`\r\n\r\n    @Entity\r\n    public class AnsweredQuestion {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Column\r\n    private String question;\r\n\r\n    @Column\r\n    private String answer;\r\n\r\n    @Column\r\n    private boolean correct; \r\n    }\r\n\r\nEvery `StudentScore` is different, because every try of completing the quiz could get different results, so i need to have one `StudentScore` tied to one list of `AnsweredQuestion`\r\n\r\nI&#39;ve tried the @OneToOne annotation, but i&#39;ve received some console errors about not getting the id of the AnsweredQuestion and didn&#39;t find out what was causing that.","title":"Which relation should i use to store a list of an entity with hibernate?","body":"<p>I'm building a Quiz App and i need to store the result of the user after it finishes the quiz</p>\n<p>Here's the class that represent the user result:</p>\n<pre><code>@Entity\npublic class StudentScore {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\n@Column\nprivate String quizId;\n\n@Column\nprivate String name;\n\n@Column\nprivate double score;\n\n//I don't know which relation to use\nprivate List&lt;AnsweredQuestion&gt; answeredQuestions; \n}\n</code></pre>\n<p>And there's the entity of the <code>AnsweredQuestion</code></p>\n<pre><code>@Entity\npublic class AnsweredQuestion {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\n@Column\nprivate String question;\n\n@Column\nprivate String answer;\n\n@Column\nprivate boolean correct; \n}\n</code></pre>\n<p>Every <code>StudentScore</code> is different, because every try of completing the quiz could get different results, so i need to have one <code>StudentScore</code> tied to one list of <code>AnsweredQuestion</code></p>\n<p>I've tried the @OneToOne annotation, but i've received some console errors about not getting the id of the AnsweredQuestion and didn't find out what was causing that.</p>\n"},{"tags":["java","spring","spring-data-jpa","autowired","entitymanager"],"comments":[{"owner":{"account_id":3418957,"reputation":1176,"user_id":4029174,"accept_rate":100,"display_name":"bananas"},"score":0,"creation_date":1574915383,"post_id":59081723,"comment_id":104400063,"body_markdown":"[@Order](https://stackoverflow.com/questions/30328897/what-is-the-use-of-order-annotation-in-spring)","body":"<a href=\"https://stackoverflow.com/questions/30328897/what-is-the-use-of-order-annotation-in-spring\">@Order</a>"},{"owner":{"account_id":11279246,"reputation":77,"user_id":8272322,"display_name":"Caleb"},"score":0,"creation_date":1574916373,"post_id":59081723,"comment_id":104400295,"body_markdown":"@emotionlessbananas @ Order does not change the error","body":"@emotionlessbananas @ Order does not change the error"},{"owner":{"account_id":5163994,"reputation":2550,"user_id":4134683,"display_name":"Swarit Agarwal"},"score":0,"creation_date":1574917197,"post_id":59081723,"comment_id":104400468,"body_markdown":"Use @Qualifier to obtain respective Entity Manager","body":"Use @Qualifier to obtain respective Entity Manager"},{"owner":{"account_id":11279246,"reputation":77,"user_id":8272322,"display_name":"Caleb"},"score":0,"creation_date":1574918938,"post_id":59081723,"comment_id":104400985,"body_markdown":"@SwaritAgarwal It&#39;s being autowired in the original application&#39;s jars. I don&#39;t want to have to manage my own version of those jars.","body":"@SwaritAgarwal It&#39;s being autowired in the original application&#39;s jars. I don&#39;t want to have to manage my own version of those jars."},{"owner":{"account_id":4580490,"reputation":1363,"user_id":5850195,"display_name":"ankidaemon"},"score":0,"creation_date":1574918959,"post_id":59081723,"comment_id":104400991,"body_markdown":"use @Resource instead of Autowire and give the name of the bean as @Resource(name=&quot;em1&quot;)","body":"use @Resource instead of Autowire and give the name of the bean as @Resource(name=&quot;em1&quot;)"},{"owner":{"account_id":4580490,"reputation":1363,"user_id":5850195,"display_name":"ankidaemon"},"score":0,"creation_date":1574919074,"post_id":59081723,"comment_id":104401025,"body_markdown":"also I don&#39;t see where have you defined emf reference?","body":"also I don&#39;t see where have you defined emf reference?"},{"owner":{"account_id":11279246,"reputation":77,"user_id":8272322,"display_name":"Caleb"},"score":0,"creation_date":1574919503,"post_id":59081723,"comment_id":104401139,"body_markdown":"@ankidaemon Good catch. The emf reference was at the class level and I forgot to copy it over. Fixed in code. I&#39;m trying to avoid replacing the @ Autowired as it is in a jar in the original project.","body":"@ankidaemon Good catch. The emf reference was at the class level and I forgot to copy it over. Fixed in code. I&#39;m trying to avoid replacing the @ Autowired as it is in a jar in the original project."},{"owner":{"account_id":4580490,"reputation":1363,"user_id":5850195,"display_name":"ankidaemon"},"score":0,"creation_date":1574920534,"post_id":59081723,"comment_id":104401473,"body_markdown":"@primary should be working, if you&#39;ve already taken care of all builds properly. Also check this out - https://github.com/spring-projects/spring-framework/pull/22711","body":"@primary should be working, if you&#39;ve already taken care of all builds properly. Also check this out - <a href=\"https://github.com/spring-projects/spring-framework/pull/22711\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/pull/22711</a>"}],"answers":[{"tags":[],"owner":{"account_id":13786274,"reputation":358,"user_id":9950085,"display_name":"Falcon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700657435,"creation_date":1700657435,"answer_id":77530085,"question_id":59081723,"body_markdown":"I faced with the same issue and resolve it by creating one default EntityManager marked as @Primay @Bean\r\n\r\n```\r\n    @Primary\r\n    @Bean(name = &quot;entityManager&quot;)\r\n    public EntityManager sharedEntityManager(@Qualifier(&quot;entityManagerFactory&quot;) EntityManagerFactory emf) {\r\n        return SharedEntityManagerCreator.createSharedEntityManager(emf);\r\n    }\r\n```\r\n\r\nI&#39;m using @Bean Qualified as &quot;entityManagerFactory&quot;.\r\nThe @Primary annotation forces `@Autowired EntityManager em` to use this primary EnityManager.\r\n\r\nIf I want to use other EntityManager i can use @Qulifier annotation like this: `@Autowired @Qualifier(&quot;entityManagerBeanNumberTwo&quot;) EntityManager em`\r\n\r\nSharedEntityManagerCreator: `Delegate for creating a shareable JPA EntityManager reference for a given EntityManagerFactory` \r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/orm/jpa/SharedEntityManagerCreator.html\r\n\r\nFull config:\r\n\r\n```\r\n@Primary\r\n@Configuration(proxyBeanMethods = false)\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n    entityManagerFactoryRef = &quot;entityManagerFactory&quot;,\r\n    basePackages = {&quot;my.package.domain&quot;},\r\n    transactionManagerRef = &quot;transactionManager&quot;\r\n)\r\n@Profile({&quot;test&quot;, &quot;default&quot;})\r\npublic class TestDatabaseConfiguration {\r\n    @Primary\r\n    @Bean(name = &quot;dataSource&quot;)\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n    public DataSource dataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;entityManagerFactory&quot;)\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder builder,\r\n                                                                       @Qualifier(&quot;dataSource&quot;) DataSource dataSource) {\r\n        return builder.dataSource(dataSource).packages(&quot;my.package.domain&quot;)\r\n            // with this you can make proxy injection by @PersistenceContext(unitName=&quot;domain&quot;)\r\n            .persistenceUnit(&quot;domain&quot;)\r\n            .build();\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;transactionManager&quot;)\r\n    public PlatformTransactionManager transactionManager(\r\n        @Qualifier(&quot;entityManagerFactory&quot;) @Autowired EntityManagerFactory entityManagerFactory\r\n    ) {\r\n        return new JpaTransactionManager(entityManagerFactory);\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;entityManager&quot;)\r\n    public EntityManager sharedEntityManager(@Qualifier(&quot;entityManagerFactory&quot;) EntityManagerFactory emf) {\r\n        return SharedEntityManagerCreator.createSharedEntityManager(emf);\r\n    }\r\n}\r\n```\r\n\r\nOryginal answer: \r\nhttps://stackoverflow.com/a/77070851/9950085\r\nAnd info from spring team member:\r\nhttps://github.com/spring-projects/spring-framework/issues/15076#issuecomment-1634307435\r\n","title":"How to make default EntityManager bean come from @Primary EntityManagerFactory in Spring project?","body":"<p>I faced with the same issue and resolve it by creating one default EntityManager marked as @Primay @Bean</p>\n<pre><code>    @Primary\n    @Bean(name = &quot;entityManager&quot;)\n    public EntityManager sharedEntityManager(@Qualifier(&quot;entityManagerFactory&quot;) EntityManagerFactory emf) {\n        return SharedEntityManagerCreator.createSharedEntityManager(emf);\n    }\n</code></pre>\n<p>I'm using @Bean Qualified as &quot;entityManagerFactory&quot;.\nThe @Primary annotation forces <code>@Autowired EntityManager em</code> to use this primary EnityManager.</p>\n<p>If I want to use other EntityManager i can use @Qulifier annotation like this: <code>@Autowired @Qualifier(&quot;entityManagerBeanNumberTwo&quot;) EntityManager em</code></p>\n<p>SharedEntityManagerCreator: <code>Delegate for creating a shareable JPA EntityManager reference for a given EntityManagerFactory</code>\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/orm/jpa/SharedEntityManagerCreator.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/orm/jpa/SharedEntityManagerCreator.html</a></p>\n<p>Full config:</p>\n<pre><code>@Primary\n@Configuration(proxyBeanMethods = false)\n@EnableTransactionManagement\n@EnableJpaRepositories(\n    entityManagerFactoryRef = &quot;entityManagerFactory&quot;,\n    basePackages = {&quot;my.package.domain&quot;},\n    transactionManagerRef = &quot;transactionManager&quot;\n)\n@Profile({&quot;test&quot;, &quot;default&quot;})\npublic class TestDatabaseConfiguration {\n    @Primary\n    @Bean(name = &quot;dataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\n    public DataSource dataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Primary\n    @Bean(name = &quot;entityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder builder,\n                                                                       @Qualifier(&quot;dataSource&quot;) DataSource dataSource) {\n        return builder.dataSource(dataSource).packages(&quot;my.package.domain&quot;)\n            // with this you can make proxy injection by @PersistenceContext(unitName=&quot;domain&quot;)\n            .persistenceUnit(&quot;domain&quot;)\n            .build();\n    }\n\n    @Primary\n    @Bean(name = &quot;transactionManager&quot;)\n    public PlatformTransactionManager transactionManager(\n        @Qualifier(&quot;entityManagerFactory&quot;) @Autowired EntityManagerFactory entityManagerFactory\n    ) {\n        return new JpaTransactionManager(entityManagerFactory);\n    }\n\n    @Primary\n    @Bean(name = &quot;entityManager&quot;)\n    public EntityManager sharedEntityManager(@Qualifier(&quot;entityManagerFactory&quot;) EntityManagerFactory emf) {\n        return SharedEntityManagerCreator.createSharedEntityManager(emf);\n    }\n}\n</code></pre>\n<p>Oryginal answer:\n<a href=\"https://stackoverflow.com/a/77070851/9950085\">https://stackoverflow.com/a/77070851/9950085</a>\nAnd info from spring team member:\n<a href=\"https://github.com/spring-projects/spring-framework/issues/15076#issuecomment-1634307435\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/15076#issuecomment-1634307435</a></p>\n"}],"owner":{"account_id":11279246,"reputation":77,"user_id":8272322,"display_name":"Caleb"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1301,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700657435,"creation_date":1574914936,"question_id":59081723,"body_markdown":"**Scenario:**\r\n \r\nI have an application extending another application and so it has 2 `DataSource` and 2 `EntityManagerFactory` in it. The first `EntityManagerFactory` is created for the original application, and the second one is what is created and used in my extension. The application being extended uses many of its own jars and I am not looking at modifying any of the code in the original application&#39;s jars.\r\n\r\n**Bean definitions:**\r\n```\r\n\r\n@Bean(&quot;em1&quot;)\r\n@Primary\r\n@PersistenceContext(unitName = &quot;pc1&quot;)\r\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory(\r\n        @Qualifier(&quot;ds1&quot;) DataSource dataSource) {\r\n    LocalContainerEntityManagerFactoryBean retVal = super.entityManagerFactory();\r\n    retVal.setDataSource(myDataSource);\r\n    retVal.setJpaProperties(Properties.getJpaProperties());\r\n    return retVal;\r\n}\r\n\r\n\r\n@Bean(name = &quot;em2&quot;)\r\n@PersistenceContext(unitName = &quot;pc2&quot;)\r\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory(\r\n        @Qualifier(&quot;ds2&quot;) DataSource dataSource) {\r\n    LocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\r\n    emf.setDataSource(dataSource);\r\n    emf.setPersistenceXmlLocation(&quot;classpath:persistence/persistence.xml&quot;);\r\n    return emf;\r\n}\r\n\r\n```\r\n**Issue:**\r\n\r\nI can successfully get an `EntityManager` from the second one in my classes by using \r\n```\r\n@PersistenceContext(unitName = &quot;pc2&quot;)\r\nprotected EntityManager entityManager; \r\n```\r\n\r\n\r\nHowever when the original application tries to get an `EntityManager` in one of its libraries by \r\n```\r\n@Autowired\r\nprivate EntityManager myEntityManager;\r\n```\r\nit throws a `NoUniqueBeanDefinitionException` saying it found 2 beans of type `EntityManager`\r\n\r\n**Question:**\r\n\r\nHow can I make my `@Primary` `EntityManagerFactory` create an `EntityManager` that is also used by default? Or what other solution can I do to fix these conflicting beans without modifying the original application?\r\n\r\n","title":"How to make default EntityManager bean come from @Primary EntityManagerFactory in Spring project?","body":"<p><strong>Scenario:</strong></p>\n\n<p>I have an application extending another application and so it has 2 <code>DataSource</code> and 2 <code>EntityManagerFactory</code> in it. The first <code>EntityManagerFactory</code> is created for the original application, and the second one is what is created and used in my extension. The application being extended uses many of its own jars and I am not looking at modifying any of the code in the original application's jars.</p>\n\n<p><strong>Bean definitions:</strong></p>\n\n<pre><code>\n@Bean(\"em1\")\n@Primary\n@PersistenceContext(unitName = \"pc1\")\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory(\n        @Qualifier(\"ds1\") DataSource dataSource) {\n    LocalContainerEntityManagerFactoryBean retVal = super.entityManagerFactory();\n    retVal.setDataSource(myDataSource);\n    retVal.setJpaProperties(Properties.getJpaProperties());\n    return retVal;\n}\n\n\n@Bean(name = \"em2\")\n@PersistenceContext(unitName = \"pc2\")\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory(\n        @Qualifier(\"ds2\") DataSource dataSource) {\n    LocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\n    emf.setDataSource(dataSource);\n    emf.setPersistenceXmlLocation(\"classpath:persistence/persistence.xml\");\n    return emf;\n}\n\n</code></pre>\n\n<p><strong>Issue:</strong></p>\n\n<p>I can successfully get an <code>EntityManager</code> from the second one in my classes by using </p>\n\n<pre><code>@PersistenceContext(unitName = \"pc2\")\nprotected EntityManager entityManager; \n</code></pre>\n\n<p>However when the original application tries to get an <code>EntityManager</code> in one of its libraries by </p>\n\n<pre><code>@Autowired\nprivate EntityManager myEntityManager;\n</code></pre>\n\n<p>it throws a <code>NoUniqueBeanDefinitionException</code> saying it found 2 beans of type <code>EntityManager</code></p>\n\n<p><strong>Question:</strong></p>\n\n<p>How can I make my <code>@Primary</code> <code>EntityManagerFactory</code> create an <code>EntityManager</code> that is also used by default? Or what other solution can I do to fix these conflicting beans without modifying the original application?</p>\n"},{"tags":["java","json","tostring","infinity","divide-by-zero"],"comments":[{"owner":{"account_id":5769,"reputation":55573,"user_id":9453,"display_name":"Daniel DiPaolo"},"score":0,"creation_date":1302813267,"post_id":5669318,"comment_id":6470235,"body_markdown":"If it&#39;s a class you wrote, just override the `ToString()` method appropriately.","body":"If it&#39;s a class you wrote, just override the <code>ToString()</code> method appropriately."},{"owner":{"account_id":200841,"reputation":24595,"user_id":446921,"accept_rate":98,"display_name":"Muhd"},"score":0,"creation_date":1302813324,"post_id":5669318,"comment_id":6470249,"body_markdown":"I didn&#39;t write it.  And that would take a long time to manually do it, even if I could.","body":"I didn&#39;t write it.  And that would take a long time to manually do it, even if I could."},{"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"score":2,"creation_date":1302813513,"post_id":5669318,"comment_id":6470294,"body_markdown":"possible duplicate of [Dumping a java object&#39;s properties](http://stackoverflow.com/questions/603013/dumping-a-java-objects-properties)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/603013/dumping-a-java-objects-properties\">Dumping a java object&#39;s properties</a>"},{"owner":{"account_id":183607,"reputation":33842,"user_id":419075,"accept_rate":96,"display_name":"Amir Raminfar"},"score":0,"creation_date":1302813618,"post_id":5669318,"comment_id":6470324,"body_markdown":"What do you mean by &quot;but JSON doesn&#39;t support infinity&quot;?","body":"What do you mean by &quot;but JSON doesn&#39;t support infinity&quot;?"},{"owner":{"account_id":5769,"reputation":55573,"user_id":9453,"display_name":"Daniel DiPaolo"},"score":1,"creation_date":1302813804,"post_id":5669318,"comment_id":6470368,"body_markdown":"@Amir see sec 2.4 of the spec - http://www.ietf.org/rfc/rfc4627.txt?number=4627  (NaN and infinity aren&#39;t supported by JSON officially)","body":"@Amir see sec 2.4 of the spec - <a href=\"http://www.ietf.org/rfc/rfc4627.txt?number=4627\" rel=\"nofollow noreferrer\">ietf.org/rfc/rfc4627.txt?number=4627</a>  (NaN and infinity aren&#39;t supported by JSON officially)"}],"answers":[{"comments":[{"owner":{"account_id":35502,"reputation":28362,"user_id":100565,"accept_rate":59,"display_name":"MeBigFatGuy"},"score":2,"creation_date":1302813613,"post_id":5669383,"comment_id":6470321,"body_markdown":"...which is a part of apache&#39;s commons-lang","body":"...which is a part of apache&#39;s commons-lang"},{"owner":{"account_id":128749,"reputation":21660,"user_id":326820,"accept_rate":99,"display_name":"Shamim Hafiz - MSFT"},"score":0,"creation_date":1371237408,"post_id":5669383,"comment_id":24764959,"body_markdown":"the link appears to be broken. Please verify if it has been moved to a new location.","body":"the link appears to be broken. Please verify if it has been moved to a new location."}],"tags":[],"owner":{"account_id":97762,"reputation":7689,"user_id":265022,"display_name":"lobster1234"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1371456448,"creation_date":1302813555,"answer_id":5669383,"question_id":5669318,"body_markdown":"More often than not [ToStringBuilder.reflectionToString(Object)][1] works great. It wont work when doing Maps though.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/ToStringBuilder.html","title":"Java: Printing out an object for debugging","body":"<p>More often than not <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/ToStringBuilder.html\" rel=\"noreferrer\">ToStringBuilder.reflectionToString(Object)</a> works great. It wont work when doing Maps though.</p>\n"},{"comments":[{"owner":{"account_id":200841,"reputation":24595,"user_id":446921,"accept_rate":98,"display_name":"Muhd"},"score":9,"creation_date":1303248198,"post_id":5669393,"comment_id":6544426,"body_markdown":"This works beautifully, way better than the reflection in the other answer.  I used `Gson gson = new GsonBuilder().serializeSpecialFloatingPointValues().serializeNulls().create(); System.out.println(gson.toJson(obj));` which let me see nulls, NaN and infinity values.","body":"This works beautifully, way better than the reflection in the other answer.  I used <code>Gson gson = new GsonBuilder().serializeSpecialFloatingPointValues().serializ&zwnj;&#8203;eNulls().create(); System.out.println(gson.toJson(obj));</code> which let me see nulls, NaN and infinity values."},{"owner":{"account_id":4227844,"reputation":178,"user_id":4581703,"accept_rate":75,"display_name":"hasanac"},"score":0,"creation_date":1512462313,"post_id":5669393,"comment_id":82256350,"body_markdown":"This doesn&#39;t work quite well with mocked objects or static variables","body":"This doesn&#39;t work quite well with mocked objects or static variables"}],"tags":[],"owner":{"account_id":5769,"reputation":55573,"user_id":9453,"display_name":"Daniel DiPaolo"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1302813594,"creation_date":1302813594,"answer_id":5669393,"question_id":5669318,"body_markdown":"You could use [Gson](http://code.google.com/p/google-gson/) to serialize to JSON as it [now supports NaN and +/- infinity](http://code.google.com/p/google-gson/source/detail?r=345)","title":"Java: Printing out an object for debugging","body":"<p>You could use <a href=\"http://code.google.com/p/google-gson/\">Gson</a> to serialize to JSON as it <a href=\"http://code.google.com/p/google-gson/source/detail?r=345\">now supports NaN and +/- infinity</a></p>\n"},{"tags":[],"owner":{"account_id":1227737,"reputation":853,"user_id":1192987,"display_name":"Nikita Bosik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700657228,"creation_date":1700657228,"answer_id":77530065,"question_id":5669318,"body_markdown":"One-liner using `com.fasterxml.jackson.databind.ObjectMapper`:\r\n\r\n    new ObjectMapper().writeValueAsString(myObject)\r\n\r\nBeautify:\r\n\r\n    new ObjectMapper().configure(SerializationFeature.INDENT_OUTPUT, true).writeValueAsString(myObject)\r\n","title":"Java: Printing out an object for debugging","body":"<p>One-liner using <code>com.fasterxml.jackson.databind.ObjectMapper</code>:</p>\n<pre><code>new ObjectMapper().writeValueAsString(myObject)\n</code></pre>\n<p>Beautify:</p>\n<pre><code>new ObjectMapper().configure(SerializationFeature.INDENT_OUTPUT, true).writeValueAsString(myObject)\n</code></pre>\n"}],"owner":{"account_id":200841,"reputation":24595,"user_id":446921,"accept_rate":98,"display_name":"Muhd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34264,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":5669393,"answer_count":3,"score":13,"last_activity_date":1700657228,"creation_date":1302813177,"question_id":5669318,"body_markdown":"I would like an easy way to print out a java object, or to say it another way, serialize an object as a string.  I would like to see the values of all variables contained within the object, and if there are more objects (like a list or whatever) it should print out the stuff in that object as well.  Basically, it would be something like JSON encoding, but JSON doesn&#39;t support infinity, and I need to see if there is infinity or NaN in one of the double or float values.\r\n\r\nHow can I do this?","title":"Java: Printing out an object for debugging","body":"<p>I would like an easy way to print out a java object, or to say it another way, serialize an object as a string.  I would like to see the values of all variables contained within the object, and if there are more objects (like a list or whatever) it should print out the stuff in that object as well.  Basically, it would be something like JSON encoding, but JSON doesn't support infinity, and I need to see if there is infinity or NaN in one of the double or float values.</p>\n\n<p>How can I do this?</p>\n"},{"tags":["java",".net","ignite","apacheignite"],"comments":[{"owner":{"account_id":1930456,"reputation":51,"user_id":1739940,"display_name":"zhouchen"},"score":0,"creation_date":1700572683,"post_id":77521817,"comment_id":136669036,"body_markdown":"update question","body":"update question"},{"owner":{"account_id":1930456,"reputation":51,"user_id":1739940,"display_name":"zhouchen"},"score":0,"creation_date":1700624449,"post_id":77521817,"comment_id":136676456,"body_markdown":"update question again","body":"update question again"}],"owner":{"account_id":1930456,"reputation":51,"user_id":1739940,"display_name":"zhouchen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700657033,"creation_date":1700560345,"question_id":77521817,"body_markdown":"I started three ignite nodes, but after a while, there are a lot of the following content :\r\n\r\n\r\n\tLine 20658: [17:07:01,115][WARNING][grid-nio-worker-client-listener-0-#33][ClientListenerProcessor] Client disconnected abruptly due to network connection loss or because the connection was left open on application shutdown. [cls=class o.a.i.i.util.nio.GridNioException, msg=Connection reset]\r\n\r\n\tLine 20669: [17:07:02,114][WARNING][grid-nio-worker-client-listener-1-#34][ClientListenerProcessor] Client disconnected abruptly due to network connection loss or because the connection was left open on application shutdown. [cls=class o.a.i.i.util.nio.GridNioException, msg=Connection reset]&quot;\r\nin the log.\r\n\r\n**Why is this? What impact do these logs have?** \r\n\r\n2. Occasionally, it will appear\r\n\r\n```\r\n---&gt; System.Net.Sockets.SocketException (10060):\r\n   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 count)\r\n   --- End of inner exception stack trace ---\r\n   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 count)\r\n\r\n   at Apache.Ignite.Core.Impl.Client.ClientSocket.SocketRead(Byte[] buf, Int32 pos, Int32 len)\r\n\r\n   at Apache.Ignite.Core.Impl.Client.ClientSocket.ReceiveBytes(Int32 size)\r\n\r\n   at Apache.Ignite.Core.Impl.Client.ClientSocket.ReceiveMessage()\r\n\r\n   at Apache.Ignite.Core.Impl.Client.ClientSocket.SendRequest(RequestMessage&amp; reqMsg)\r\n\r\n   at Apache.Ignite.Core.Impl.Client.ClientSocket.DoOutInOp[T](ClientOp opId, Action`1 writeAction, Func`2 readFunc, Func`3 errorFunc)\r\n\r\n   at Apache.Ignite.Core.Impl.Client.ClientFailoverSocket.DoOutInOp[T](ClientOp opId, Action`1 writeAction, Func`2 readFunc, Func`3 errorFunc)\r\n\r\n   at Apache.Ignite.Core.Impl.Client.IgniteClient.GetOrCreateCache[TK,TV](String name)\r\n   \r\nat Aurora.Server.IgniteDBProxy.SaveToCache(String cacheName, String key, Object obj) in e:\\Code\\ProjectG_SVN\\Server_Change\\Code\\Src\\Common\\DB\\IgniteDBProxy.cs:line 37\r\n\r\n   at Aurora.Server.IgniteHelper.SaveObjToIgnite(IgniteDBProxy igniteDBProxy, String key, Object obj) in e:\\Code\\ProjectG_SVN\\Server_Change\\Code\\Src\\Common\\DB\\IgniteHelper.cs:line 31\r\n\r\n   at Aurora.Game.PlayerDBComponentSystem.SaveAllHumanDataToDB(PlayerDBComponent self) in e:\\Code\\ProjectG_SVN\\Server_Change\\Code\\Src\\Server\\Components\\PlayerDBComponent.cs:line 115\r\n\r\n   at Aurora.Game.PlayerDBComponentSystem.Update(PlayerDBComponent self) in e:\\Code\\ProjectG_SVN\\Server_Change\\Code\\Src\\Server\\Components\\PlayerDBComponent.cs:line 51\r\n\r\n   at Aurora.Framework.SystemCallback`1.Invoke(Entity comp) in e:\\Code\\ProjectG_SVN\\Framework\\Framework\\Src\\Framework\\Interface\\IComponent.cs:line 63\r\n\r\n   at Aurora.Framework.EntitySystem.Update(Int32 deltaTimeMs) in e:\\Code\\ProjectG_SVN\\Framework\\Framework\\Src\\Framework\\Entity\\EntitySystem.cs:line 579, \r\n```\r\nwhy is this? \r\n\r\nNote : \r\n1. The thin client and ignite node are in the same network segment of the intranet.\r\n2. ignite version: 2.14\r\n3. thin client: .net\r\n4. My application is multi-threaded, and I have established a thin client pool (since Ignite thin client is thread-safe, so I did this).[Ignite client is thread-safe][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77252863/what-is-the-max-count-of-thin-clients-connected-to-ignite/77256233#77256233","title":"Why are there so many of &quot;Client disconnected abruptly due to network connection loss....&quot; in the log?","body":"<p>I started three ignite nodes, but after a while, there are a lot of the following content :</p>\n<pre><code>Line 20658: [17:07:01,115][WARNING][grid-nio-worker-client-listener-0-#33][ClientListenerProcessor] Client disconnected abruptly due to network connection loss or because the connection was left open on application shutdown. [cls=class o.a.i.i.util.nio.GridNioException, msg=Connection reset]\n\nLine 20669: [17:07:02,114][WARNING][grid-nio-worker-client-listener-1-#34][ClientListenerProcessor] Client disconnected abruptly due to network connection loss or because the connection was left open on application shutdown. [cls=class o.a.i.i.util.nio.GridNioException, msg=Connection reset]&quot;\n</code></pre>\n<p>in the log.</p>\n<p><strong>Why is this? What impact do these logs have?</strong></p>\n<ol start=\"2\">\n<li>Occasionally, it will appear</li>\n</ol>\n<pre><code>---&gt; System.Net.Sockets.SocketException (10060):\n   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 count)\n   --- End of inner exception stack trace ---\n   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 count)\n\n   at Apache.Ignite.Core.Impl.Client.ClientSocket.SocketRead(Byte[] buf, Int32 pos, Int32 len)\n\n   at Apache.Ignite.Core.Impl.Client.ClientSocket.ReceiveBytes(Int32 size)\n\n   at Apache.Ignite.Core.Impl.Client.ClientSocket.ReceiveMessage()\n\n   at Apache.Ignite.Core.Impl.Client.ClientSocket.SendRequest(RequestMessage&amp; reqMsg)\n\n   at Apache.Ignite.Core.Impl.Client.ClientSocket.DoOutInOp[T](ClientOp opId, Action`1 writeAction, Func`2 readFunc, Func`3 errorFunc)\n\n   at Apache.Ignite.Core.Impl.Client.ClientFailoverSocket.DoOutInOp[T](ClientOp opId, Action`1 writeAction, Func`2 readFunc, Func`3 errorFunc)\n\n   at Apache.Ignite.Core.Impl.Client.IgniteClient.GetOrCreateCache[TK,TV](String name)\n   \nat Aurora.Server.IgniteDBProxy.SaveToCache(String cacheName, String key, Object obj) in e:\\Code\\ProjectG_SVN\\Server_Change\\Code\\Src\\Common\\DB\\IgniteDBProxy.cs:line 37\n\n   at Aurora.Server.IgniteHelper.SaveObjToIgnite(IgniteDBProxy igniteDBProxy, String key, Object obj) in e:\\Code\\ProjectG_SVN\\Server_Change\\Code\\Src\\Common\\DB\\IgniteHelper.cs:line 31\n\n   at Aurora.Game.PlayerDBComponentSystem.SaveAllHumanDataToDB(PlayerDBComponent self) in e:\\Code\\ProjectG_SVN\\Server_Change\\Code\\Src\\Server\\Components\\PlayerDBComponent.cs:line 115\n\n   at Aurora.Game.PlayerDBComponentSystem.Update(PlayerDBComponent self) in e:\\Code\\ProjectG_SVN\\Server_Change\\Code\\Src\\Server\\Components\\PlayerDBComponent.cs:line 51\n\n   at Aurora.Framework.SystemCallback`1.Invoke(Entity comp) in e:\\Code\\ProjectG_SVN\\Framework\\Framework\\Src\\Framework\\Interface\\IComponent.cs:line 63\n\n   at Aurora.Framework.EntitySystem.Update(Int32 deltaTimeMs) in e:\\Code\\ProjectG_SVN\\Framework\\Framework\\Src\\Framework\\Entity\\EntitySystem.cs:line 579, \n</code></pre>\n<p>why is this?</p>\n<p>Note :</p>\n<ol>\n<li>The thin client and ignite node are in the same network segment of the intranet.</li>\n<li>ignite version: 2.14</li>\n<li>thin client: .net</li>\n<li>My application is multi-threaded, and I have established a thin client pool (since Ignite thin client is thread-safe, so I did this).<a href=\"https://stackoverflow.com/questions/77252863/what-is-the-max-count-of-thin-clients-connected-to-ignite/77256233#77256233\">Ignite client is thread-safe</a></li>\n</ol>\n"},{"tags":["javascript","java","code-translation"],"comments":[{"owner":{"account_id":503387,"reputation":30660,"user_id":975097,"accept_rate":82,"display_name":"Anderson Green"},"score":0,"creation_date":1362286523,"post_id":440302,"comment_id":21388130,"body_markdown":"This question discusses a very similar topic: compiling Java libraries to JavaScript using GWT. http://stackoverflow.com/questions/3125556/gwt-to-create-utility-javascript-library","body":"This question discusses a very similar topic: compiling Java libraries to JavaScript using GWT. <a href=\"http://stackoverflow.com/questions/3125556/gwt-to-create-utility-javascript-library\" title=\"gwt to create utility javascript library\">stackoverflow.com/questions/3125556/&hellip;</a>"},{"owner":{"account_id":56959,"reputation":9026,"user_id":170587,"accept_rate":79,"display_name":"Spina"},"score":2,"creation_date":1382706583,"post_id":440302,"comment_id":29076275,"body_markdown":"Very thorough question. You did a great job expressing what you&#39;d explored already. Nicely done.","body":"Very thorough question. You did a great job expressing what you&#39;d explored already. Nicely done."},{"owner":{"account_id":76666,"reputation":1142,"user_id":219304,"display_name":"Ruslans Uralovs"},"score":0,"creation_date":1383577353,"post_id":440302,"comment_id":29383637,"body_markdown":"You can try using Scala-js https://github.com/lampepfl/scala-js for your java project - java/scala interoperability http://www.scala-lang.org/old/faq/4)","body":"You can try using Scala-js <a href=\"https://github.com/lampepfl/scala-js\" rel=\"nofollow noreferrer\">github.com/lampepfl/scala-js</a> for your java project - java/scala interoperability <a href=\"http://www.scala-lang.org/old/faq/4\" rel=\"nofollow noreferrer\">scala-lang.org/old/faq/4</a>)"}],"answers":[{"comments":[{"owner":{"account_id":22170,"reputation":28454,"user_id":54426,"accept_rate":66,"display_name":"Rich Apodaca"},"score":0,"creation_date":1231876418,"post_id":440500,"comment_id":262583,"body_markdown":"This would be for a fairly small, non-gui java library. I hadn&#39;t seen DWR, which looks like it could be very useful for larger projects.\n\nI Didn&#39;t even see the source directory for the gwt-exporter project - thanks for pointing it out. That looks promising.","body":"This would be for a fairly small, non-gui java library. I hadn&#39;t seen DWR, which looks like it could be very useful for larger projects.  I Didn&#39;t even see the source directory for the gwt-exporter project - thanks for pointing it out. That looks promising."},{"owner":{"account_id":941,"reputation":50408,"user_id":1237,"accept_rate":95,"display_name":"Jacob Mattison"},"score":0,"creation_date":1354813435,"post_id":440500,"comment_id":18894113,"body_markdown":"Here&#39;s a new link to the sample app: http://code.google.com/p/gwt-exporter/source/browse/trunk/samples/src/main/java/exporterdemo/public/ExporterDemo.html","body":"Here&#39;s a new link to the sample app: <a href=\"http://code.google.com/p/gwt-exporter/source/browse/trunk/samples/src/main/java/exporterdemo/public/ExporterDemo.html\" rel=\"nofollow noreferrer\">code.google.com/p/gwt-exporter/source/browse/trunk/samples/s&zwnj;&#8203;rc/&hellip;</a>"},{"owner":{"account_id":503387,"reputation":30660,"user_id":975097,"accept_rate":82,"display_name":"Anderson Green"},"score":1,"creation_date":1362285296,"post_id":440500,"comment_id":21387958,"body_markdown":"The new link is also dead. :/","body":"The new link is also dead. :/"},{"owner":{"account_id":941,"reputation":50408,"user_id":1237,"accept_rate":95,"display_name":"Jacob Mattison"},"score":0,"creation_date":1362407197,"post_id":440500,"comment_id":21424854,"body_markdown":"And here&#39;s a new link: https://code.google.com/p/gwt-exporter/source/browse/samples/exporterdemo/src/main/java/exporterdemo/public/ExporterDemo.html","body":"And here&#39;s a new link: <a href=\"https://code.google.com/p/gwt-exporter/source/browse/samples/exporterdemo/src/main/java/exporterdemo/public/ExporterDemo.html\" rel=\"nofollow noreferrer\">code.google.com/p/gwt-exporter/source/browse/samples/&hellip;</a>"},{"owner":{"account_id":941,"reputation":50408,"user_id":1237,"accept_rate":95,"display_name":"Jacob Mattison"},"score":0,"creation_date":1362414608,"post_id":440500,"comment_id":21429340,"body_markdown":"Also, here&#39;s a link to the project home of gwt-exporter -- that&#39;s less likely to change (the sample app changes location when they change their directory format): https://code.google.com/p/gwt-exporter/","body":"Also, here&#39;s a link to the project home of gwt-exporter -- that&#39;s less likely to change (the sample app changes location when they change their directory format): <a href=\"https://code.google.com/p/gwt-exporter/\" rel=\"nofollow noreferrer\">code.google.com/p/gwt-exporter</a>"}],"tags":[],"owner":{"account_id":941,"reputation":50408,"user_id":1237,"accept_rate":95,"display_name":"Jacob Mattison"},"comment_count":5,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1381005295,"creation_date":1231876044,"answer_id":440500,"question_id":440302,"body_markdown":"When you use GWT, you&#39;re basically converting the UI portion into Javascript (and it assumes that you use the UI widgets provided when you write your Java).  Only some of the Java libraries are accessible within Javascript.  Typically in a GWT application anything that makes heavy use of Java libraries would run on the server side and connect to the Javascript as AJAX (which GWT handles for you).  So GWT isn&#39;t necessarily converting your full application into Javascript (though it can if you&#39;re willing to limit your use of Java libraries and some functionality).\r\n\r\nAt any rate, if this approach (calling out to Java running on a server from within Javascript) appeals to you, one nice option is [DWR][1], which basically allows your Javascript to directly call methods in Java classes running on the server (without you having to build a web service or other frontend).  Not what you asked, I know.\r\n\r\nMore relevantly, it looks like there&#39;s source code for a [sample app demonstrating the use of gwt-exporter][2].\r\n\r\n\r\n  [1]: http://directwebremoting.org/\r\n  [2]: https://code.google.com/p/gwt-exporter/source/browse/samples/exporterdemo/src/main/java/exporterdemo/public/ExporterDemo.html","title":"How to Cross-Compile Java Source Code to JavaScript?","body":"<p>When you use GWT, you're basically converting the UI portion into Javascript (and it assumes that you use the UI widgets provided when you write your Java).  Only some of the Java libraries are accessible within Javascript.  Typically in a GWT application anything that makes heavy use of Java libraries would run on the server side and connect to the Javascript as AJAX (which GWT handles for you).  So GWT isn't necessarily converting your full application into Javascript (though it can if you're willing to limit your use of Java libraries and some functionality).</p>\n\n<p>At any rate, if this approach (calling out to Java running on a server from within Javascript) appeals to you, one nice option is <a href=\"http://directwebremoting.org/\" rel=\"noreferrer\">DWR</a>, which basically allows your Javascript to directly call methods in Java classes running on the server (without you having to build a web service or other frontend).  Not what you asked, I know.</p>\n\n<p>More relevantly, it looks like there's source code for a <a href=\"https://code.google.com/p/gwt-exporter/source/browse/samples/exporterdemo/src/main/java/exporterdemo/public/ExporterDemo.html\" rel=\"noreferrer\">sample app demonstrating the use of gwt-exporter</a>.</p>\n"},{"tags":[],"owner":{"account_id":932139,"reputation":10997,"user_id":961810,"accept_rate":69,"display_name":"Brad Peabody"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1381007520,"creation_date":1381007520,"answer_id":19202781,"question_id":440302,"body_markdown":"&gt; Given a set of Java source code files, how can I compile them into one\r\n&gt; or more JavaScript files that can be used with hand-crafted\r\n&gt; JavaScript?\r\n\r\nThere is no direct correlation between both the built-in Java API and Java language features, and those of JavaScript.  So any attempt at creating a &quot;converter&quot; is going to be incomplete.  As a fundamental example, Java classes don&#39;t have a direct corresponding JavaScript idiom.\r\n\r\nWhether or not an incomplete conversion tool will work for your use case is impossible to know without the source code.\r\n\r\n----\r\n\r\nThat said, my suggestion to solving your problem would be to first attempt to use &lt;a href=&quot;http://www.gwtproject.org/&quot;&gt;GWT&lt;/a&gt;: set up a demo project, drop in the source of your library and call it from the JavaScript side and see what GWT outputs in it&#39;s .js file.  Some of the other tools suggested by other posters here are definitely worth checking out as well.\r\n\r\nIf that is fruitful and gets you part of the way, great.\r\n\r\nFrom there, you&#39;ll need/want to do the remainder of the conversion by hand.  After all, assuming you want the code to actually function correctly, a manual review would definitely be in order.  Some unit tests being converted along with it would be ideal as well.\r\n\r\nYou don&#39;t state how large the source of your project is, but if it&#39;s small (let&#39;s say less than a thousand lines of code), even a complete conversion by hand shouldn&#39;t be extremely difficult.  If it&#39;s much larger than that, I would suggest reviewing if you actually want that as JavaScript code anyway.\r\n","title":"How to Cross-Compile Java Source Code to JavaScript?","body":"<blockquote>\n  <p>Given a set of Java source code files, how can I compile them into one\n  or more JavaScript files that can be used with hand-crafted\n  JavaScript?</p>\n</blockquote>\n\n<p>There is no direct correlation between both the built-in Java API and Java language features, and those of JavaScript.  So any attempt at creating a \"converter\" is going to be incomplete.  As a fundamental example, Java classes don't have a direct corresponding JavaScript idiom.</p>\n\n<p>Whether or not an incomplete conversion tool will work for your use case is impossible to know without the source code.</p>\n\n<hr>\n\n<p>That said, my suggestion to solving your problem would be to first attempt to use <a href=\"http://www.gwtproject.org/\" rel=\"nofollow\">GWT</a>: set up a demo project, drop in the source of your library and call it from the JavaScript side and see what GWT outputs in it's .js file.  Some of the other tools suggested by other posters here are definitely worth checking out as well.</p>\n\n<p>If that is fruitful and gets you part of the way, great.</p>\n\n<p>From there, you'll need/want to do the remainder of the conversion by hand.  After all, assuming you want the code to actually function correctly, a manual review would definitely be in order.  Some unit tests being converted along with it would be ideal as well.</p>\n\n<p>You don't state how large the source of your project is, but if it's small (let's say less than a thousand lines of code), even a complete conversion by hand shouldn't be extremely difficult.  If it's much larger than that, I would suggest reviewing if you actually want that as JavaScript code anyway.</p>\n"},{"comments":[{"owner":{"account_id":2498434,"reputation":606,"user_id":2174241,"accept_rate":100,"display_name":"monacotoni"},"score":0,"creation_date":1454666242,"post_id":28491371,"comment_id":58156455,"body_markdown":"Your view of DukeScript isn&#39;t entirely correct. You can also run DukeScript applications in a Browser by using TeaVM or bck2brwsr as VM.","body":"Your view of DukeScript isn&#39;t entirely correct. You can also run DukeScript applications in a Browser by using TeaVM or bck2brwsr as VM."},{"owner":{"account_id":37853,"reputation":4899,"user_id":108350,"accept_rate":32,"display_name":"will"},"score":0,"creation_date":1454673136,"post_id":28491371,"comment_id":58160976,"body_markdown":"That&#39;s my understanding, I need a &#39;&#39;V/M plugin&quot; of some description.  That option is not &quot;doing javascript&quot; it is calling Java from Javascript.","body":"That&#39;s my understanding, I need a &#39;&#39;V/M plugin&quot; of some description.  That option is not &quot;doing javascript&quot; it is calling Java from Javascript."},{"owner":{"account_id":2498434,"reputation":606,"user_id":2174241,"accept_rate":100,"display_name":"monacotoni"},"score":1,"creation_date":1454769094,"post_id":28491371,"comment_id":58198229,"body_markdown":"bck2brwsr and TeaVM aren&#39;t *plugins*. Their main purpose is to run Java code in the browser without the need for a plugin. So it will not &quot;fall foul of a browser security policy for Java.&quot;","body":"bck2brwsr and TeaVM aren&#39;t <i>plugins</i>. Their main purpose is to run Java code in the browser without the need for a plugin. So it will not &quot;fall foul of a browser security policy for Java.&quot;"},{"owner":{"account_id":37853,"reputation":4899,"user_id":108350,"accept_rate":32,"display_name":"will"},"score":0,"creation_date":1454894873,"post_id":28491371,"comment_id":58234709,"body_markdown":"Hi -- I need to review DukeScript,  DukeScript used to require Java libraries on the target machine to run things. Or you needed to only use a limited set of methods.  [TeaVM](http://teavm.org/) looks like the idea.  It doesn&#39;t say what version of Java and the Java API are supported.  Does the references to GWT mean we are stack with the Java 1.6 profile from last century?","body":"Hi -- I need to review DukeScript,  DukeScript used to require Java libraries on the target machine to run things. Or you needed to only use a limited set of methods.  <a href=\"http://teavm.org/\" rel=\"nofollow noreferrer\">TeaVM</a> looks like the idea.  It doesn&#39;t say what version of Java and the Java API are supported.  Does the references to GWT mean we are stack with the Java 1.6 profile from last century?"},{"owner":{"account_id":2498434,"reputation":606,"user_id":2174241,"accept_rate":100,"display_name":"monacotoni"},"score":0,"creation_date":1454921290,"post_id":28491371,"comment_id":58242431,"body_markdown":"The available Java API in the Browser is indeed limited. bck2brwsr has two profiles, compact (http://hudson.apidesign.org/view/bck2brwsr/job/bck2brwsr.javadoc/lastSuccessfulBuild/artifact/rt/emul/compact/target/site/apidocs/index.html) and mini. The idea is similar to GWT, only provide core APIs that really make sense in a browser based client. If you need the full profile you have to create a desktop application.","body":"The available Java API in the Browser is indeed limited. bck2brwsr has two profiles, compact (<a href=\"http://hudson.apidesign.org/view/bck2brwsr/job/bck2brwsr.javadoc/lastSuccessfulBuild/artifact/rt/emul/compact/target/site/apidocs/index.html\" rel=\"nofollow noreferrer\">hudson.apidesign.org/view/bck2brwsr/job/bck2brwsr.javadoc/&hellip;</a>&zwnj;&#8203;) and mini. The idea is similar to GWT, only provide core APIs that really make sense in a browser based client. If you need the full profile you have to create a desktop application."}],"tags":[],"owner":{"account_id":37853,"reputation":4899,"user_id":108350,"accept_rate":32,"display_name":"will"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1423793089,"creation_date":1423793089,"answer_id":28491371,"question_id":440302,"body_markdown":"Here&#39;s two other options, things to look into and a third option not converting, just living together.\r\n\r\n 1. **[Java2Javascript][1]**\r\n\r\nI have been wanting to try this out -- Looks closer to what&#39;s been asked.  Quoting the web page:\r\n\r\n&gt; an Eclipse Java to JavaScript compiler plugin and an implementation of JavaScript version of Eclipse Standard Widget Toolkit (SWT) with other common utilities, such as java.lang.* and java.util.*. You can convert your SWT-base Rich Client Platform (RCP) into Rich Internet Application (RIA) by Java2Script Pacemaker.\r\n\r\nA limited Java in Javascript experience - You&#39;d need to port your necessary dependencies or find alternatives via tools like jQuery, etc.\r\n\r\n\r\n2. **[DukeScript][2]**\r\n\r\nAs I view DukeScript, it compiles some front-end Javascript and calls Java behind, from the browser&#39;s Javascript.  It seems more or less a hybrid approach so you can use the Java wealth of libraries from Javascript.  I will fall foul of a browser security policy for Java.\r\n\r\nA more full-Javascript on Java experience leveraging the Java-runtime.  If I wanted that outside the browser environment I&#39;d use Javascript on Java.\r\n\r\n 3. [Nashhorn][3]\r\n\r\nConsider this as an example of using Java&#39;s resources as foundation for Javascript: **[Nashorn and JavaFX][4]**, as an example for a rich Javascript operated client.  Anyway with a Javascript engine inside Java you&#39;re not needing to translate between a Javascript-VM to object-code to a Java-VM quite so much.\r\n\r\n\r\n  [1]: http://j2s.sourceforge.net/\r\n  [2]: http://www.dukescript.com/\r\n  [3]: http://docs.oracle.com/javase/8/docs/technotes/guides/scripting/nashorn/shell.html\r\n  [4]: http://docs.oracle.com/javase/8/docs/technotes/guides/scripting/nashorn/javafx.html","title":"How to Cross-Compile Java Source Code to JavaScript?","body":"<p>Here's two other options, things to look into and a third option not converting, just living together.</p>\n\n<ol>\n<li><strong><a href=\"http://j2s.sourceforge.net/\" rel=\"noreferrer\">Java2Javascript</a></strong></li>\n</ol>\n\n<p>I have been wanting to try this out -- Looks closer to what's been asked.  Quoting the web page:</p>\n\n<blockquote>\n  <p>an Eclipse Java to JavaScript compiler plugin and an implementation of JavaScript version of Eclipse Standard Widget Toolkit (SWT) with other common utilities, such as java.lang.* and java.util.*. You can convert your SWT-base Rich Client Platform (RCP) into Rich Internet Application (RIA) by Java2Script Pacemaker.</p>\n</blockquote>\n\n<p>A limited Java in Javascript experience - You'd need to port your necessary dependencies or find alternatives via tools like jQuery, etc.</p>\n\n<ol start=\"2\">\n<li><strong><a href=\"http://www.dukescript.com/\" rel=\"noreferrer\">DukeScript</a></strong></li>\n</ol>\n\n<p>As I view DukeScript, it compiles some front-end Javascript and calls Java behind, from the browser's Javascript.  It seems more or less a hybrid approach so you can use the Java wealth of libraries from Javascript.  I will fall foul of a browser security policy for Java.</p>\n\n<p>A more full-Javascript on Java experience leveraging the Java-runtime.  If I wanted that outside the browser environment I'd use Javascript on Java.</p>\n\n<ol start=\"3\">\n<li><a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/scripting/nashorn/shell.html\" rel=\"noreferrer\">Nashhorn</a></li>\n</ol>\n\n<p>Consider this as an example of using Java's resources as foundation for Javascript: <strong><a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/scripting/nashorn/javafx.html\" rel=\"noreferrer\">Nashorn and JavaFX</a></strong>, as an example for a rich Javascript operated client.  Anyway with a Javascript engine inside Java you're not needing to translate between a Javascript-VM to object-code to a Java-VM quite so much.</p>\n"},{"tags":[],"owner":{"account_id":291949,"reputation":4846,"user_id":594406,"accept_rate":29,"display_name":"Katona"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1447780474,"creation_date":1447780474,"answer_id":33763066,"question_id":440302,"body_markdown":"While the question is about compiling Java sources to JavaScript I think it&#39;s worth mentioning that there is [TeaVM][1] which compiles Java bytecode to JavaScript. I have never tried it, but it seems very promising.\r\n\r\n\r\n  [1]: https://github.com/konsoletyper/teavm &quot;TeaVM&quot;","title":"How to Cross-Compile Java Source Code to JavaScript?","body":"<p>While the question is about compiling Java sources to JavaScript I think it's worth mentioning that there is <a href=\"https://github.com/konsoletyper/teavm\" rel=\"noreferrer\" title=\"TeaVM\">TeaVM</a> which compiles Java bytecode to JavaScript. I have never tried it, but it seems very promising.</p>\n"},{"comments":[{"owner":{"account_id":294559,"reputation":12793,"user_id":1022330,"accept_rate":51,"display_name":"Oliver Watkins"},"score":0,"creation_date":1472658546,"post_id":34308838,"comment_id":65843782,"body_markdown":"this seems too strict. It says it can&#39;t find class X,Y,Z. Is there any way to make it less strict? I just need a TS approximation even, where i can fix whatever leftover errors there are by hand. I just want something i can point to a package structure, and then it spits out a TS equivalent. Can jsweet do this?","body":"this seems too strict. It says it can&#39;t find class X,Y,Z. Is there any way to make it less strict? I just need a TS approximation even, where i can fix whatever leftover errors there are by hand. I just want something i can point to a package structure, and then it spits out a TS equivalent. Can jsweet do this?"},{"owner":{"account_id":7319495,"reputation":541,"user_id":5575946,"display_name":"Renaud Pawlak"},"score":0,"creation_date":1472662511,"post_id":34308838,"comment_id":65845920,"body_markdown":"I hope that http://stackoverflow.com/questions/39253788/installed-jsweet-now-what will give enough details on that matter.","body":"I hope that <a href=\"http://stackoverflow.com/questions/39253788/installed-jsweet-now-what\" title=\"installed jsweet now what\">stackoverflow.com/questions/39253788/installed-jsweet-now-wh&zwnj;&#8203;at</a> will give enough details on that matter."}],"tags":[],"owner":{"account_id":7319495,"reputation":541,"user_id":5575946,"display_name":"Renaud Pawlak"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1465274943,"creation_date":1450259846,"answer_id":34308838,"question_id":440302,"body_markdown":"I am not sure if it fits your use case, but if you agree to drop Java APIs and use JavaScript APIs from Java, then you can use [JSweet][1], a Java to JavaScript transpiler built on the top of TypeScript. It gives you access to hundreds of well-typed JavaScript APIs (DOM, jQuery, underscore, angularjs, etc). It generates JavaScript code and you can mix it with legacy JavaScript and TypeScript code.\r\n\r\nNote: JSweet will *not* work for legacy Java code and legacy Java APIs, but your use case did not mention reusing legacy code.\r\n\r\n[UPDATE] Since version 1.1, JSweet now also supports some Java APIs such as Collections (java.util). So, it is possible to reuse legacy Java code to a certain extent. It is also quite straightforward to add your own support for Java APIs.\r\n\r\n  [1]: http://www.jsweet.org","title":"How to Cross-Compile Java Source Code to JavaScript?","body":"<p>I am not sure if it fits your use case, but if you agree to drop Java APIs and use JavaScript APIs from Java, then you can use <a href=\"http://www.jsweet.org\" rel=\"noreferrer\">JSweet</a>, a Java to JavaScript transpiler built on the top of TypeScript. It gives you access to hundreds of well-typed JavaScript APIs (DOM, jQuery, underscore, angularjs, etc). It generates JavaScript code and you can mix it with legacy JavaScript and TypeScript code.</p>\n\n<p>Note: JSweet will <em>not</em> work for legacy Java code and legacy Java APIs, but your use case did not mention reusing legacy code.</p>\n\n<p>[UPDATE] Since version 1.1, JSweet now also supports some Java APIs such as Collections (java.util). So, it is possible to reuse legacy Java code to a certain extent. It is also quite straightforward to add your own support for Java APIs.</p>\n"},{"comments":[{"owner":{"account_id":190525,"reputation":458,"user_id":430550,"display_name":"garkin"},"score":2,"creation_date":1479270050,"post_id":39306909,"comment_id":68481744,"body_markdown":"Kotlin has ~1MB runtime.","body":"Kotlin has ~1MB runtime."},{"owner":{"account_id":1009009,"reputation":11535,"user_id":1369016,"accept_rate":80,"display_name":"Bitcoin Cash - ADA enthusiast"},"score":7,"creation_date":1496099706,"post_id":39306909,"comment_id":75511174,"body_markdown":"This only works if the code is written 100% in Kotlin since Kotlin can&#39;t compile to Javascript if you are using Java libraries.","body":"This only works if the code is written 100% in Kotlin since Kotlin can&#39;t compile to Javascript if you are using Java libraries."}],"tags":[],"owner":{"account_id":138184,"reputation":5890,"user_id":342947,"accept_rate":87,"display_name":"Fabian Zeindl"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1472905913,"creation_date":1472905913,"answer_id":39306909,"question_id":440302,"body_markdown":"Not entirely on-topic, but [Kotlin][1] is a 100% Java-compatible language that can compile to JavaScript.\r\n\r\nIntelliJ IDEA can automatically convert Java to Kotlin and compile it to run on Node or the browser.\r\n\r\n\r\n  [1]: http://kotlinlang.org","title":"How to Cross-Compile Java Source Code to JavaScript?","body":"<p>Not entirely on-topic, but <a href=\"http://kotlinlang.org\" rel=\"nofollow\">Kotlin</a> is a 100% Java-compatible language that can compile to JavaScript.</p>\n\n<p>IntelliJ IDEA can automatically convert Java to Kotlin and compile it to run on Node or the browser.</p>\n"},{"tags":[],"owner":{"account_id":5595218,"reputation":5565,"user_id":4433204,"display_name":"Jaime"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1700656951,"creation_date":1531667463,"answer_id":51349655,"question_id":440302,"body_markdown":"&gt; Given a set of Java source code files, how can I compile them into one or more JavaScript files that can be used with hand-crafted JavaScript?\r\n\r\nAlthough there are many [solutions to convert Java applications to Javascript](https://github.com/jashkenas/coffeescript/wiki/List-of-languages-that-compile-to-JS#javajvm), you are interested on a solution where new javascript code may interact with the resulting code. This is an update (as 2018) of the other answers.\r\n\r\nThere are different types of tools. For instance, you may find tools that allow you (1) convert java code to javascript; (2) convert bytecode to javascript, asm.js or webassembly; (3) execute java applications directly in the browser and (4) create solutions that combine java and javascript. You must select the solution to use depending on your requirements.\r\n\r\n---\r\n**Converting Java source code to Javascript**\r\n\r\nSome solutions take java source code and produce a javascript equivalent version. Usually, these solutions transforms the Java to Javascript, but do not support all the behaviours and libraries of the Java runtime. The resulting code may not support some java standard libraries. Typically, they are used to create HTML application using  Java but not for migrating the code.  \r\n**Pros:** The resulting solution may include very small files. You can use it to reuse your own business logic classes without considering GUI or platform specific libraries.  \r\n**Cons:** it is possible that you cannot use some functionalities of the Java platform. It requires access to the source code. \r\n\r\n* [JSweet](http://www.jsweet.org/) converts Java to javascript. It includes API bindings for 1000+ javascript libraries. You can write java code that use these libraries.\r\n  * It converts java to typescript and later uses the typescript compiler to create the corresponding javascript.\r\n  * It can produce [multiple types of javascript modules and typescript definitions](http://www.jsweet.org/getting-started/#Transpiler_options). You can use the resulting code in javascript very easily.\r\n* [j2s](http://j2s.sourceforge.net/), is the compiler used by the Eclipse RAP platform to translate java code to javascript. It is used there to convert the SWT (GUI) widgets to javascript and HTML. It does not support all the Java standard libraries\r\n  * It may [convert simple Java classes](http://j2s.sourceforge.net/document.html) to be used in javascript. You must use the classes considering the [OO Java-Javascript simulation](http://j2s.sourceforge.net/articles/oop-in-js-by-j2s.html) performed by j2s.\r\n\r\n\r\n---\r\n**Converting Java bytecode to Javascript**\r\n\r\nThese solutions take compiled java code (.class files) and produces equivalent code in javascript, asm.js or webassembly. Considering that the java code may depend on java standard libraries (i.e., the JRE), these solutions typically includes ported and pre-compiled libraries.  \r\n**Pros:** you do not need to change anything in your code. You do not need the source code neither.  \r\n**Cons:** the resulting solution may require the load of a lot of files.\r\n\r\n* [Bck2Brwsr](http://wiki.apidesign.org/wiki/Bck2Brwsr), a Java VM that may compile ahead-of-time the java bytecode to javascript. It produces a javascript file for each .jar file.\r\n   * You may use the `vm` javascript object to load a class into javascript and execute static methods (using `vm.loadClass(.., function(class){..}}`). There is an example in the documentation for [the gradle plugin](https://github.com/jtulach/bck2brwsr/blob/master/docs/GRADLE.md) and [the maven task](https://github.com/jtulach/bck2brwsr/blob/master/docs/MAVEN.md).\r\n* [TeaVM](http://teavm.org/), is another Java VM that may convert ahead-of-time the code to javascript. In contrast to Bck2Brwsr, it supports threads, produces a single file for all your classes and provide better debugging support.\r\n   * You may [call java from javascript](http://teavm.org/docs/runtime/jso.html) using the `javaMethods.get(..).invoke(...)` method.\r\n* [DukeScript](http://www.dukescript.com/), transpile java code and bytecode to javascript using Bck2Brwsr or TeaVM. \r\n   * It provides [maven tasks to compile the java code](http://www.dukescript.com/best/practices/2017/06/30/TranspilePlainJavaIntoJavaScript.html). The resulting code (and technique to call java from javascript) depends on the used transpiler.\r\n* [Dragome](http://www.dragome.com/), transpile java bytecode to javascript.\r\n   * You can [annotate static methods in Java and use it in Javascript](https://groups.google.com/forum/#!topic/dragome/Yss0tRAjy_Y): e.g. you can annotate a method with `@MethodAlias(alias=&quot;windows.method1&quot;)` and invoke it from javascript using `window.method1()`\r\n* [CheerpJ](https://www.leaningtech.com/cheerpj/) *(a commercial product)* may run complete java applications using Swing and AWT. It provides a very complete javascript environment that support operating system, thread and network functionalities.\r\n  * It provides a complete [runtime API](https://github.com/leaningtech/cheerpj-meta/wiki/Runtime-API). You can run a `main` method using `cheerpjRunMain( &lt;class&gt;, &lt;jar&gt; )`. You can create objects using `cjNew( &lt;class&gt;, &lt;params&gt;...)` and invoke static methods using `cjCall( &lt;class&gt;,&lt;method&gt;,&lt;params&gt;...)`. There are many other methods you may consider.\r\n\r\n---\r\n**Running Java code in Javascript**\r\n\r\nDoppioJVM is a complete JVM written in Typescript.  \r\n**Pros:** It emulates a lot of elements of the operating system, including filesystems, TTY consoles and threads.  \r\n**Cons:** Considering that it is an interpeter, it may result slower than other solutions. (I have not tested it)\r\n\r\n* [DoppioJVM](https://plasma-umass.org/doppio-demo/) is a JVM written in Typescript\r\n  * The [documentation](https://github.com/plasma-umass/doppio/tree/master/docs) includes snippets of code to load and run the classes. You can run a static method using `jvm.runClass( &lt;class&gt;, [ &lt;args&gt;...], function(response){..})`. You can run a Jar file and perform many other tasks.\r\n\r\n---\r\n**Create applications combining Java and Javascript**\r\n\r\nSome other solutions provide, not only the tools for compiling the code, but also frameworks and solutions to create java and javascript solutions. For instance, CheerpJ has complete versions of the Swing and AWT libraries for graphical user interfaces, but they may result very slow. You may replace the user interface by using new HTML versions that run faster on the browser.  \r\n**Pros:** You can reuse existing code without changes, mainly some libraries and business logic. You may remove from your solutions libraries that run not efficiently in the browser.  \r\n**Cons:** If you wanna keep maintaining your java desktop version, you must deal with different code for the browser. \r\n\r\n* [GWT](http://www.gwtproject.org/) converts Java code to javascript but uses a different set of libraries for the user interface and client-to-server communications.\r\n  * The documentation maintains [information of differences with the JRE](http://www.gwtproject.org/doc/latest/DevGuideCodingBasicsCompatibility.html)\r\n  * You may [export Java classes](http://www.gwtproject.org/doc/latest/DevGuideCodingBasicsJsInterop.html) to be used by Javascript code. \r\n* [Dukescript](http://www.dukescript.com/) uses the conversion tools mentioned before.\r\n  * It provides a [Knockout4j](http://www.dukescript.com/knockout4j.html) library that may interact easily with HTM, DOM and additional javascript code.\r\n* [Dragome](http://www.dragome.com/) not only convert java code but also include means to interact with the HTML/DOM\r\n  * You may use annotations to [bind java objects to HTML elements](http://fpetrola.github.io/dragome-website/simple-examples.html) and to [handle the DOM](http://fpetrola.github.io/dragome-website/html-dom-tutorial.html)\r\n* [HTML/Java API](https://github.com/apache/incubator-netbeans-html4j) is an Apache project that standardize the access to HTML/DOM/javascript from transpiled code\r\n  * It was donated by [Dukescript](http://www.dukescript.com/update/2017/11/21/ApacheHtmlJava.html) and other tool providers.\r\n\r\n---\r\n**Recommendation**\r\n\r\n* If you wanna reuse few classes created by your own, you may try [JSweet](http://www.jsweet.org/). You may create javascript modules (libraries) that you can use easily with javascript and typescript.\r\n* If you wanna reuse a medium to large codebase that rely on multiple java libraries, you may try [CheerpJ](https://www.leaningtech.com/cheerpj/), [Dukescript](http://www.dukescript.com/) or [Dragome](http://www.dragome.com/). You may reuse large parts of your code and create (gradually) the user interface and client-to-server communications using technologies that are more browser-friendly.\r\n* If you wanna run complete java applications without change, you may try [CheerpJ](https://www.leaningtech.com/cheerpj/). It can run Swing and AWT user interfaces. It also provide an [Applet runner](https://chrome.google.com/webstore/detail/cheerpj-applet-runner/bbmolahhldcbngedljfadjlognfaaein).","title":"How to Cross-Compile Java Source Code to JavaScript?","body":"<blockquote>\n<p>Given a set of Java source code files, how can I compile them into one or more JavaScript files that can be used with hand-crafted JavaScript?</p>\n</blockquote>\n<p>Although there are many <a href=\"https://github.com/jashkenas/coffeescript/wiki/List-of-languages-that-compile-to-JS#javajvm\" rel=\"nofollow noreferrer\">solutions to convert Java applications to Javascript</a>, you are interested on a solution where new javascript code may interact with the resulting code. This is an update (as 2018) of the other answers.</p>\n<p>There are different types of tools. For instance, you may find tools that allow you (1) convert java code to javascript; (2) convert bytecode to javascript, asm.js or webassembly; (3) execute java applications directly in the browser and (4) create solutions that combine java and javascript. You must select the solution to use depending on your requirements.</p>\n<hr />\n<p><strong>Converting Java source code to Javascript</strong></p>\n<p>Some solutions take java source code and produce a javascript equivalent version. Usually, these solutions transforms the Java to Javascript, but do not support all the behaviours and libraries of the Java runtime. The resulting code may not support some java standard libraries. Typically, they are used to create HTML application using  Java but not for migrating the code.<br />\n<strong>Pros:</strong> The resulting solution may include very small files. You can use it to reuse your own business logic classes without considering GUI or platform specific libraries.<br />\n<strong>Cons:</strong> it is possible that you cannot use some functionalities of the Java platform. It requires access to the source code.</p>\n<ul>\n<li><a href=\"http://www.jsweet.org/\" rel=\"nofollow noreferrer\">JSweet</a> converts Java to javascript. It includes API bindings for 1000+ javascript libraries. You can write java code that use these libraries.\n<ul>\n<li>It converts java to typescript and later uses the typescript compiler to create the corresponding javascript.</li>\n<li>It can produce <a href=\"http://www.jsweet.org/getting-started/#Transpiler_options\" rel=\"nofollow noreferrer\">multiple types of javascript modules and typescript definitions</a>. You can use the resulting code in javascript very easily.</li>\n</ul>\n</li>\n<li><a href=\"http://j2s.sourceforge.net/\" rel=\"nofollow noreferrer\">j2s</a>, is the compiler used by the Eclipse RAP platform to translate java code to javascript. It is used there to convert the SWT (GUI) widgets to javascript and HTML. It does not support all the Java standard libraries\n<ul>\n<li>It may <a href=\"http://j2s.sourceforge.net/document.html\" rel=\"nofollow noreferrer\">convert simple Java classes</a> to be used in javascript. You must use the classes considering the <a href=\"http://j2s.sourceforge.net/articles/oop-in-js-by-j2s.html\" rel=\"nofollow noreferrer\">OO Java-Javascript simulation</a> performed by j2s.</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><strong>Converting Java bytecode to Javascript</strong></p>\n<p>These solutions take compiled java code (.class files) and produces equivalent code in javascript, asm.js or webassembly. Considering that the java code may depend on java standard libraries (i.e., the JRE), these solutions typically includes ported and pre-compiled libraries.<br />\n<strong>Pros:</strong> you do not need to change anything in your code. You do not need the source code neither.<br />\n<strong>Cons:</strong> the resulting solution may require the load of a lot of files.</p>\n<ul>\n<li><a href=\"http://wiki.apidesign.org/wiki/Bck2Brwsr\" rel=\"nofollow noreferrer\">Bck2Brwsr</a>, a Java VM that may compile ahead-of-time the java bytecode to javascript. It produces a javascript file for each .jar file.\n<ul>\n<li>You may use the <code>vm</code> javascript object to load a class into javascript and execute static methods (using <code>vm.loadClass(.., function(class){..}}</code>). There is an example in the documentation for <a href=\"https://github.com/jtulach/bck2brwsr/blob/master/docs/GRADLE.md\" rel=\"nofollow noreferrer\">the gradle plugin</a> and <a href=\"https://github.com/jtulach/bck2brwsr/blob/master/docs/MAVEN.md\" rel=\"nofollow noreferrer\">the maven task</a>.</li>\n</ul>\n</li>\n<li><a href=\"http://teavm.org/\" rel=\"nofollow noreferrer\">TeaVM</a>, is another Java VM that may convert ahead-of-time the code to javascript. In contrast to Bck2Brwsr, it supports threads, produces a single file for all your classes and provide better debugging support.\n<ul>\n<li>You may <a href=\"http://teavm.org/docs/runtime/jso.html\" rel=\"nofollow noreferrer\">call java from javascript</a> using the <code>javaMethods.get(..).invoke(...)</code> method.</li>\n</ul>\n</li>\n<li><a href=\"http://www.dukescript.com/\" rel=\"nofollow noreferrer\">DukeScript</a>, transpile java code and bytecode to javascript using Bck2Brwsr or TeaVM.\n<ul>\n<li>It provides <a href=\"http://www.dukescript.com/best/practices/2017/06/30/TranspilePlainJavaIntoJavaScript.html\" rel=\"nofollow noreferrer\">maven tasks to compile the java code</a>. The resulting code (and technique to call java from javascript) depends on the used transpiler.</li>\n</ul>\n</li>\n<li><a href=\"http://www.dragome.com/\" rel=\"nofollow noreferrer\">Dragome</a>, transpile java bytecode to javascript.\n<ul>\n<li>You can <a href=\"https://groups.google.com/forum/#!topic/dragome/Yss0tRAjy_Y\" rel=\"nofollow noreferrer\">annotate static methods in Java and use it in Javascript</a>: e.g. you can annotate a method with <code>@MethodAlias(alias=&quot;windows.method1&quot;)</code> and invoke it from javascript using <code>window.method1()</code></li>\n</ul>\n</li>\n<li><a href=\"https://www.leaningtech.com/cheerpj/\" rel=\"nofollow noreferrer\">CheerpJ</a> <em>(a commercial product)</em> may run complete java applications using Swing and AWT. It provides a very complete javascript environment that support operating system, thread and network functionalities.\n<ul>\n<li>It provides a complete <a href=\"https://github.com/leaningtech/cheerpj-meta/wiki/Runtime-API\" rel=\"nofollow noreferrer\">runtime API</a>. You can run a <code>main</code> method using <code>cheerpjRunMain( &lt;class&gt;, &lt;jar&gt; )</code>. You can create objects using <code>cjNew( &lt;class&gt;, &lt;params&gt;...)</code> and invoke static methods using <code>cjCall( &lt;class&gt;,&lt;method&gt;,&lt;params&gt;...)</code>. There are many other methods you may consider.</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><strong>Running Java code in Javascript</strong></p>\n<p>DoppioJVM is a complete JVM written in Typescript.<br />\n<strong>Pros:</strong> It emulates a lot of elements of the operating system, including filesystems, TTY consoles and threads.<br />\n<strong>Cons:</strong> Considering that it is an interpeter, it may result slower than other solutions. (I have not tested it)</p>\n<ul>\n<li><a href=\"https://plasma-umass.org/doppio-demo/\" rel=\"nofollow noreferrer\">DoppioJVM</a> is a JVM written in Typescript\n<ul>\n<li>The <a href=\"https://github.com/plasma-umass/doppio/tree/master/docs\" rel=\"nofollow noreferrer\">documentation</a> includes snippets of code to load and run the classes. You can run a static method using <code>jvm.runClass( &lt;class&gt;, [ &lt;args&gt;...], function(response){..})</code>. You can run a Jar file and perform many other tasks.</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><strong>Create applications combining Java and Javascript</strong></p>\n<p>Some other solutions provide, not only the tools for compiling the code, but also frameworks and solutions to create java and javascript solutions. For instance, CheerpJ has complete versions of the Swing and AWT libraries for graphical user interfaces, but they may result very slow. You may replace the user interface by using new HTML versions that run faster on the browser.<br />\n<strong>Pros:</strong> You can reuse existing code without changes, mainly some libraries and business logic. You may remove from your solutions libraries that run not efficiently in the browser.<br />\n<strong>Cons:</strong> If you wanna keep maintaining your java desktop version, you must deal with different code for the browser.</p>\n<ul>\n<li><a href=\"http://www.gwtproject.org/\" rel=\"nofollow noreferrer\">GWT</a> converts Java code to javascript but uses a different set of libraries for the user interface and client-to-server communications.\n<ul>\n<li>The documentation maintains <a href=\"http://www.gwtproject.org/doc/latest/DevGuideCodingBasicsCompatibility.html\" rel=\"nofollow noreferrer\">information of differences with the JRE</a></li>\n<li>You may <a href=\"http://www.gwtproject.org/doc/latest/DevGuideCodingBasicsJsInterop.html\" rel=\"nofollow noreferrer\">export Java classes</a> to be used by Javascript code.</li>\n</ul>\n</li>\n<li><a href=\"http://www.dukescript.com/\" rel=\"nofollow noreferrer\">Dukescript</a> uses the conversion tools mentioned before.\n<ul>\n<li>It provides a <a href=\"http://www.dukescript.com/knockout4j.html\" rel=\"nofollow noreferrer\">Knockout4j</a> library that may interact easily with HTM, DOM and additional javascript code.</li>\n</ul>\n</li>\n<li><a href=\"http://www.dragome.com/\" rel=\"nofollow noreferrer\">Dragome</a> not only convert java code but also include means to interact with the HTML/DOM\n<ul>\n<li>You may use annotations to <a href=\"http://fpetrola.github.io/dragome-website/simple-examples.html\" rel=\"nofollow noreferrer\">bind java objects to HTML elements</a> and to <a href=\"http://fpetrola.github.io/dragome-website/html-dom-tutorial.html\" rel=\"nofollow noreferrer\">handle the DOM</a></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/apache/incubator-netbeans-html4j\" rel=\"nofollow noreferrer\">HTML/Java API</a> is an Apache project that standardize the access to HTML/DOM/javascript from transpiled code\n<ul>\n<li>It was donated by <a href=\"http://www.dukescript.com/update/2017/11/21/ApacheHtmlJava.html\" rel=\"nofollow noreferrer\">Dukescript</a> and other tool providers.</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><strong>Recommendation</strong></p>\n<ul>\n<li>If you wanna reuse few classes created by your own, you may try <a href=\"http://www.jsweet.org/\" rel=\"nofollow noreferrer\">JSweet</a>. You may create javascript modules (libraries) that you can use easily with javascript and typescript.</li>\n<li>If you wanna reuse a medium to large codebase that rely on multiple java libraries, you may try <a href=\"https://www.leaningtech.com/cheerpj/\" rel=\"nofollow noreferrer\">CheerpJ</a>, <a href=\"http://www.dukescript.com/\" rel=\"nofollow noreferrer\">Dukescript</a> or <a href=\"http://www.dragome.com/\" rel=\"nofollow noreferrer\">Dragome</a>. You may reuse large parts of your code and create (gradually) the user interface and client-to-server communications using technologies that are more browser-friendly.</li>\n<li>If you wanna run complete java applications without change, you may try <a href=\"https://www.leaningtech.com/cheerpj/\" rel=\"nofollow noreferrer\">CheerpJ</a>. It can run Swing and AWT user interfaces. It also provide an <a href=\"https://chrome.google.com/webstore/detail/cheerpj-applet-runner/bbmolahhldcbngedljfadjlognfaaein\" rel=\"nofollow noreferrer\">Applet runner</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22565100,"reputation":1,"user_id":16752274,"display_name":"sbm8o"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646852090,"creation_date":1646850136,"answer_id":71414245,"question_id":440302,"body_markdown":"This question is from 13 years ago; yes, I know.  But I&#39;ll put my addition here as this is an excellent repository of answers on the topic, and as it comes up first in a Google search it is likely to have the most eyeballs on it.\r\n\r\nI&#39;m a former GWT developer.  And agree it is an excellent solution &amp; technology.  But also yes as mentioned, the cross compilation part mostly (arguably, completely) focuses on the W in its name (Google WEB Toolkit): the client-side JavaScript part of full stack SPA Web applications, its serialization &amp; communication, it&#39;s client/server logic partitioning, et al.\r\n\r\nI just stumbled onto something that is relatively new -- a 2014-2015 offshoot of GWT placed into the public domain in 2018 -- that I think is more generally focused and what was being requested in the original post (13 years ago, lol).  I&#39;m eager to try it.\r\n\r\nJ2CL: https://github.com/google/j2cl\r\n\r\nI read about it here, which to me was a good &amp; thorough intro of the technology (have a look and let me know if you agree or not):\r\n\r\nhttps://www.infoq.com/news/2019/05/j2cl-java-javascript-transpiler/\r\n\r\n","title":"How to Cross-Compile Java Source Code to JavaScript?","body":"<p>This question is from 13 years ago; yes, I know.  But I'll put my addition here as this is an excellent repository of answers on the topic, and as it comes up first in a Google search it is likely to have the most eyeballs on it.</p>\n<p>I'm a former GWT developer.  And agree it is an excellent solution &amp; technology.  But also yes as mentioned, the cross compilation part mostly (arguably, completely) focuses on the W in its name (Google WEB Toolkit): the client-side JavaScript part of full stack SPA Web applications, its serialization &amp; communication, it's client/server logic partitioning, et al.</p>\n<p>I just stumbled onto something that is relatively new -- a 2014-2015 offshoot of GWT placed into the public domain in 2018 -- that I think is more generally focused and what was being requested in the original post (13 years ago, lol).  I'm eager to try it.</p>\n<p>J2CL: <a href=\"https://github.com/google/j2cl\" rel=\"nofollow noreferrer\">https://github.com/google/j2cl</a></p>\n<p>I read about it here, which to me was a good &amp; thorough intro of the technology (have a look and let me know if you agree or not):</p>\n<p><a href=\"https://www.infoq.com/news/2019/05/j2cl-java-javascript-transpiler/\" rel=\"nofollow noreferrer\">https://www.infoq.com/news/2019/05/j2cl-java-javascript-transpiler/</a></p>\n"}],"owner":{"account_id":22170,"reputation":28454,"user_id":54426,"accept_rate":66,"display_name":"Rich Apodaca"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44206,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"answer_count":8,"score":54,"last_activity_date":1700656951,"creation_date":1231873276,"question_id":440302,"body_markdown":"Given a set of Java source code files, how can I compile them into one or more JavaScript files that can be used with hand-crafted JavaScript?\r\n\r\n[GWT](http://code.google.com/webtoolkit/) is one option, but every example I&#39;ve seen so far is aimed at building fancy websites. The simple use case of just converting Java source to Javascript that can be used together with handcrafted JavaScript [hasn&#39;t been well-documented](http://depth-first.com/articles/2009/01/06/javascript-for-cheminformatics-cross-compiling-java-to-javascript-with-gwt-revisited#comments).\r\n\r\nI started a [thread on the GWT mailing list](http://groups.google.com/group/Google-Web-Toolkit/browse_thread/thread/d9ae879cc249d2cb/b4799e0774a14c50) on this subject, but opinions seem to be mixed on whether this is even feasible.\r\n\r\nOne person gave a very useful tip, which was to check out [GWT-Exporter](http://code.google.com/p/gwt-exporter/). The problem is that neither source code nor documentation is readily available, although there&#39;s [this](http://groups.google.com/group/Google-Web-Toolkit/browse_thread/thread/201528f512c546f3) and [this](http://timepedia.blogspot.com/2008/06/gwt-exporterthe-next-generation.html).\r\n\r\nedit: GWT-Exporter source code is [here](http://code.google.com/p/gwt-exporter/source/browse/)\r\n\r\nI&#39;ve also seen [Java2Script](http://j2s.sourceforge.net/index.html). But again, I wasn&#39;t able to find examples of how to solve my simple use case.\r\n\r\nWhat&#39;s the best approach to this problem? Is there something better I&#39;m missing?\r\n\r\n","title":"How to Cross-Compile Java Source Code to JavaScript?","body":"<p>Given a set of Java source code files, how can I compile them into one or more JavaScript files that can be used with hand-crafted JavaScript?</p>\n\n<p><a href=\"http://code.google.com/webtoolkit/\" rel=\"noreferrer\">GWT</a> is one option, but every example I've seen so far is aimed at building fancy websites. The simple use case of just converting Java source to Javascript that can be used together with handcrafted JavaScript <a href=\"http://depth-first.com/articles/2009/01/06/javascript-for-cheminformatics-cross-compiling-java-to-javascript-with-gwt-revisited#comments\" rel=\"noreferrer\">hasn't been well-documented</a>.</p>\n\n<p>I started a <a href=\"http://groups.google.com/group/Google-Web-Toolkit/browse_thread/thread/d9ae879cc249d2cb/b4799e0774a14c50\" rel=\"noreferrer\">thread on the GWT mailing list</a> on this subject, but opinions seem to be mixed on whether this is even feasible.</p>\n\n<p>One person gave a very useful tip, which was to check out <a href=\"http://code.google.com/p/gwt-exporter/\" rel=\"noreferrer\">GWT-Exporter</a>. The problem is that neither source code nor documentation is readily available, although there's <a href=\"http://groups.google.com/group/Google-Web-Toolkit/browse_thread/thread/201528f512c546f3\" rel=\"noreferrer\">this</a> and <a href=\"http://timepedia.blogspot.com/2008/06/gwt-exporterthe-next-generation.html\" rel=\"noreferrer\">this</a>.</p>\n\n<p>edit: GWT-Exporter source code is <a href=\"http://code.google.com/p/gwt-exporter/source/browse/\" rel=\"noreferrer\">here</a></p>\n\n<p>I've also seen <a href=\"http://j2s.sourceforge.net/index.html\" rel=\"noreferrer\">Java2Script</a>. But again, I wasn't able to find examples of how to solve my simple use case.</p>\n\n<p>What's the best approach to this problem? Is there something better I'm missing?</p>\n"},{"tags":["java","image-processing","bufferedimage","javax.imageio"],"comments":[{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":0,"creation_date":1377076230,"post_id":18351583,"comment_id":26943037,"body_markdown":"possible duplicate http://stackoverflow.com/questions/10416378/imageio-read-illegal-argument-exception-raster-bands-colour-space-components","body":"possible duplicate <a href=\"http://stackoverflow.com/questions/10416378/imageio-read-illegal-argument-exception-raster-bands-colour-space-components\" title=\"imageio read illegal argument exception raster bands colour space components\">stackoverflow.com/questions/10416378/&hellip;</a>"},{"owner":{"account_id":379889,"reputation":689,"user_id":733561,"accept_rate":86,"display_name":"Shanaka Kuruwita"},"score":0,"creation_date":1377082703,"post_id":18351583,"comment_id":26947010,"body_markdown":"Hi Philipp please read my question well. I have clearly mentioned &quot;should not convert the image to gray scale one&quot;. The answer that you have suggest convert my colored image to a gray scale one(black and white), if you want please try it and see. And don&#39;t suggest other questions and don&#39;t give me - points with out trying it. Be responsible for your comments.","body":"Hi Philipp please read my question well. I have clearly mentioned &quot;should not convert the image to gray scale one&quot;. The answer that you have suggest convert my colored image to a gray scale one(black and white), if you want please try it and see. And don&#39;t suggest other questions and don&#39;t give me - points with out trying it. Be responsible for your comments."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1377602002,"post_id":18351583,"comment_id":27135655,"body_markdown":"@PhilippSander While similar, the problem with this image is different from the one you linked.","body":"@PhilippSander While similar, the problem with this image is different from the one you linked."}],"answers":[{"comments":[{"owner":{"account_id":379889,"reputation":689,"user_id":733561,"accept_rate":86,"display_name":"Shanaka Kuruwita"},"score":1,"creation_date":1377580473,"post_id":18400559,"comment_id":27125201,"body_markdown":"Hi Harald thanks a lot for answering. Now this error is clear to me, thanks for explaining. I tried to use your plugin, but due to some missing dependency libraries I couldn&#39;t compile it (I added some twelvemonkeys-imageio jars). So would you mind explaining the exact way to use the plugin, and it would be great if you could show the simple code sample to get a buffered for my image.","body":"Hi Harald thanks a lot for answering. Now this error is clear to me, thanks for explaining. I tried to use your plugin, but due to some missing dependency libraries I couldn&#39;t compile it (I added some twelvemonkeys-imageio jars). So would you mind explaining the exact way to use the plugin, and it would be great if you could show the simple code sample to get a buffered for my image."},{"owner":{"account_id":1035646,"reputation":1821,"user_id":1042999,"accept_rate":50,"display_name":"Sinisha Mihajlovski"},"score":3,"creation_date":1420469697,"post_id":18400559,"comment_id":43973886,"body_markdown":"Details on how to use the plugin in java apps, and servlet containers can be found here: https://github.com/haraldk/TwelveMonkeys","body":"Details on how to use the plugin in java apps, and servlet containers can be found here: <a href=\"https://github.com/haraldk/TwelveMonkeys\" rel=\"nofollow noreferrer\">github.com/haraldk/TwelveMonkeys</a>"},{"owner":{"account_id":1727343,"reputation":6404,"user_id":1581725,"accept_rate":100,"display_name":"DominikAngerer"},"score":0,"creation_date":1428251680,"post_id":18400559,"comment_id":47083013,"body_markdown":"Worked like a charm :)","body":"Worked like a charm :)"},{"owner":{"account_id":413057,"reputation":1153,"user_id":786474,"accept_rate":70,"display_name":"Carcamano"},"score":2,"creation_date":1455721958,"post_id":18400559,"comment_id":58617181,"body_markdown":"@haraldK ok, I found out that package `libimage-exiftool-perl` contains exiftool. So, I have an image with a value of `3` for colour components and `CMYK` as colour space data. IIRC, CMYK has 4 colour components and that mismatch is what causes the exception. Is that right?","body":"@haraldK ok, I found out that package <code>libimage-exiftool-perl</code> contains exiftool. So, I have an image with a value of <code>3</code> for colour components and <code>CMYK</code> as colour space data. IIRC, CMYK has 4 colour components and that mismatch is what causes the exception. Is that right?"},{"owner":{"account_id":339900,"reputation":8440,"user_id":669645,"accept_rate":91,"display_name":"Edd"},"score":3,"creation_date":1521819133,"post_id":18400559,"comment_id":85909378,"body_markdown":"Maven dependency: `&lt;dependency&gt;&lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;&lt;artifactId&gt;imageio-jpeg&lt;/artifactId&gt;&lt;version&gt;3.3.1&lt;/version&gt;&lt;/dependency&gt;`","body":"Maven dependency: <code>&lt;dependency&gt;&lt;groupId&gt;com.twelvemonkeys.imageio&lt;&#47;groupId&gt;&lt;art&zwnj;&#8203;ifactId&gt;imageio-jpeg&zwnj;&#8203;&lt;&#47;artifactId&gt;&lt;versio&zwnj;&#8203;n&gt;3.3.1&lt;&#47;version&gt;&lt;&#47;d&zwnj;&#8203;ependency&gt;</code>"},{"owner":{"account_id":1419645,"reputation":11379,"user_id":1344545,"accept_rate":59,"display_name":"mcfly soft"},"score":0,"creation_date":1572002257,"post_id":18400559,"comment_id":103434112,"body_markdown":"Is there any sample howto use this. I searched for a sample to simply read an image with twelvemonkey api.","body":"Is there any sample howto use this. I searched for a sample to simply read an image with twelvemonkey api."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1572008237,"post_id":18400559,"comment_id":103436982,"body_markdown":"@mcflysoft The point is, there is no &quot;TwelveMonkeys API&quot; for reading images. You simply use the `javax.imageio` API like you would otherwise do, but with the TwelveMonkeys ImageIO plugins installed at run time. See the [project page on GitHub](https://github.com/haraldk/TwelveMonkeys) for more details on that, and examples, or follow a generic ImageIO tutorial.","body":"@mcflysoft The point is, there is no &quot;TwelveMonkeys API&quot; for reading images. You simply use the <code>javax.imageio</code> API like you would otherwise do, but with the TwelveMonkeys ImageIO plugins installed at run time. See the <a href=\"https://github.com/haraldk/TwelveMonkeys\" rel=\"nofollow noreferrer\">project page on GitHub</a> for more details on that, and examples, or follow a generic ImageIO tutorial."},{"owner":{"account_id":11139181,"reputation":4296,"user_id":8176451,"display_name":"Shivam Sahil"},"score":0,"creation_date":1700719359,"post_id":18400559,"comment_id":136689454,"body_markdown":"For each extension we would need to add line like this right: `Maven dependency: &lt;dependency&gt;&lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;&lt;artifactId&gt;imageio-jpeg&lt;/artifactId&gt;&lt;version&gt;3.3.1&lt;/version&gt;&lt;/dependency&gt;`\nFor example for BMP we would need one more: `Maven dependency: &lt;dependency&gt;&lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;&lt;artifactId&gt;imageio-bmp&lt;/artifactId&gt;&lt;version&gt;3.3.1&lt;/version&gt;&lt;/dependency&gt;`","body":"For each extension we would need to add line like this right: <code>Maven dependency: &lt;dependency&gt;&lt;groupId&gt;com.twelvemonkeys.imageio&lt;&#47;groupId&gt;&lt;art&zwnj;&#8203;ifactId&gt;imageio-jpeg&zwnj;&#8203;&lt;&#47;artifactId&gt;&lt;versio&zwnj;&#8203;n&gt;3.3.1&lt;&#47;version&gt;&lt;&#47;d&zwnj;&#8203;ependency&gt;</code> For example for BMP we would need one more: <code>Maven dependency: &lt;dependency&gt;&lt;groupId&gt;com.twelvemonkeys.imageio&lt;&#47;groupId&gt;&lt;art&zwnj;&#8203;ifactId&gt;imageio-bmp&lt;&zwnj;&#8203;&#47;artifactId&gt;&lt;version&zwnj;&#8203;&gt;3.3.1&lt;&#47;version&gt;&lt;&#47;de&zwnj;&#8203;pendency&gt;</code>"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1700729290,"post_id":18400559,"comment_id":136690845,"body_markdown":"@ShivamSahil Yes, and that is described on the project page that I linked to in the answer and in the comment above. Please don&#39;t add new references to outdated versions.","body":"@ShivamSahil Yes, and that is described on the project page that I linked to in the answer and in the comment above. Please don&#39;t add new references to outdated versions."}],"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"comment_count":9,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1700656646,"creation_date":1377253745,"answer_id":18400559,"question_id":18351583,"body_markdown":"There&#39;s nothing wrong with your code here. I could read your image using my [JPEGImageReader](https://github.com/haraldk/TwelveMonkeys/tree/master/imageio/imageio-jpeg) plugin for ImageIO. This image reader tries to be lenient about JPEG errors, and is slightly more capable than the standard Java JPEGImageReader.\r\n\r\nHowever, your JPEG file seems to have a number of problems so it can&#39;t be read 100%: \r\n\r\n- First, the ICC color profile in the image has 4 color components, while the image data has only 3 color components (this is causing the exception you see). The root cause is probably bad conversion software. Use ExifTool or similar software to have a look at the metadata for further investigation. My reader will simply give a warning and ignore the ICC profile in this case. \r\n- Second, the JPEG stream ends prematurely (missing EOI). You&#39;ll notice that there&#39;s some garbage pixels at the lower right of the image. There&#39;s nothing you can do about that, except getting the original image (well, actually, the image contains a thumbnail and the thumbnail is undamaged; you could try to recreate the data from that if you really need to). The image returned from my reader is consistent with images read by native software.\r\n\r\nMore info on how to install the plugin can be found on the [TwelveMonkeys ImageIO project page](https://github.com/haraldk/TwelveMonkeys#installing).","title":"IllegalArgumentException: Numbers of source Raster bands and source color space components do not match For a color image Exception","body":"<p>There's nothing wrong with your code here. I could read your image using my <a href=\"https://github.com/haraldk/TwelveMonkeys/tree/master/imageio/imageio-jpeg\" rel=\"nofollow noreferrer\">JPEGImageReader</a> plugin for ImageIO. This image reader tries to be lenient about JPEG errors, and is slightly more capable than the standard Java JPEGImageReader.</p>\n<p>However, your JPEG file seems to have a number of problems so it can't be read 100%:</p>\n<ul>\n<li>First, the ICC color profile in the image has 4 color components, while the image data has only 3 color components (this is causing the exception you see). The root cause is probably bad conversion software. Use ExifTool or similar software to have a look at the metadata for further investigation. My reader will simply give a warning and ignore the ICC profile in this case.</li>\n<li>Second, the JPEG stream ends prematurely (missing EOI). You'll notice that there's some garbage pixels at the lower right of the image. There's nothing you can do about that, except getting the original image (well, actually, the image contains a thumbnail and the thumbnail is undamaged; you could try to recreate the data from that if you really need to). The image returned from my reader is consistent with images read by native software.</li>\n</ul>\n<p>More info on how to install the plugin can be found on the <a href=\"https://github.com/haraldk/TwelveMonkeys#installing\" rel=\"nofollow noreferrer\">TwelveMonkeys ImageIO project page</a>.</p>\n"}],"owner":{"account_id":379889,"reputation":689,"user_id":733561,"accept_rate":86,"display_name":"Shanaka Kuruwita"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25973,"favorite_count":0,"down_vote_count":2,"up_vote_count":20,"accepted_answer_id":18400559,"answer_count":1,"score":18,"last_activity_date":1700656646,"creation_date":1377070939,"question_id":18351583,"body_markdown":"The above answer that someone has suggest, converts my colored image to a black and white one. So it&#39;s not appropriate for my question.\r\n\r\n    File file = new File(&quot;path&quot;);          \r\n    BufferedImage bufferedImage = ImageIO.read( file );\r\n\r\nhere is the code and below is the image. Download the image and save in your pc. And try to run the above code with a correct value of path, it will throw an exception in the topic\r\n\r\nDownload image: https://skydrive.live.com/?cid=19547371C4F3B839&amp;id=19547371C4F3B839%21105\r\n\r\nSimply if someone can obtain a java.awt.image.BufferedImage object from the image given that&#39;s enough (should not convert the image to gray scale one).\r\n\r\nYou are a genius if you can answer this :D. Plz help.","title":"IllegalArgumentException: Numbers of source Raster bands and source color space components do not match For a color image Exception","body":"<p>The above answer that someone has suggest, converts my colored image to a black and white one. So it's not appropriate for my question.</p>\n\n<pre><code>File file = new File(\"path\");          \nBufferedImage bufferedImage = ImageIO.read( file );\n</code></pre>\n\n<p>here is the code and below is the image. Download the image and save in your pc. And try to run the above code with a correct value of path, it will throw an exception in the topic</p>\n\n<p>Download image: <a href=\"https://skydrive.live.com/?cid=19547371C4F3B839&amp;id=19547371C4F3B839%21105\" rel=\"noreferrer\">https://skydrive.live.com/?cid=19547371C4F3B839&amp;id=19547371C4F3B839%21105</a></p>\n\n<p>Simply if someone can obtain a java.awt.image.BufferedImage object from the image given that's enough (should not convert the image to gray scale one).</p>\n\n<p>You are a genius if you can answer this :D. Plz help.</p>\n"},{"tags":["java","spring","spring-test"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1582605721,"post_id":60375713,"comment_id":106825436,"body_markdown":"Could you please update the code for datasource creation ?  is the code as follows ?`return (DataSource) new JndiTemplate().lookup(env.getProperty(&quot;jdbc.url&quot;))`","body":"Could you please update the code for datasource creation ?  is the code as follows ?<code>return (DataSource) new JndiTemplate().lookup(env.getProperty(&quot;jdbc.url&quot;))</code>"},{"owner":{"account_id":4398661,"reputation":602,"user_id":3584984,"accept_rate":73,"display_name":"DanutClapa"},"score":0,"creation_date":1582623170,"post_id":60375713,"comment_id":106831988,"body_markdown":"it is exactly like that. As I said, at runtime i it works perfectly, because the DS is already there. When tests are executed at compile time DS is created and binded to the jndi name. But the jndi lookup is done before the DS creation and not after.","body":"it is exactly like that. As I said, at runtime i it works perfectly, because the DS is already there. When tests are executed at compile time DS is created and binded to the jndi name. But the jndi lookup is done before the DS creation and not after."},{"owner":{"account_id":6937186,"reputation":1164,"user_id":5324721,"display_name":"Kumar Ashutosh"},"score":0,"creation_date":1582623836,"post_id":60375713,"comment_id":106832366,"body_markdown":"Use Spring profiles for your test classes. Spring has a very neat approach for load the configurations as per the uses or profiles. If you want I can provide you some examples. Provide test-properties in src/test/resources dir.","body":"Use Spring profiles for your test classes. Spring has a very neat approach for load the configurations as per the uses or profiles. If you want I can provide you some examples. Provide test-properties in src/test/resources dir."}],"answers":[{"comments":[{"owner":{"account_id":4398661,"reputation":602,"user_id":3584984,"accept_rate":73,"display_name":"DanutClapa"},"score":0,"creation_date":1582547280,"post_id":60375842,"comment_id":106803061,"body_markdown":"I need both configuration classes. I cannot exclude 1 with @ComponentScan. The only thing that i need is that Spring to execute first the TestConfig.java class to create the DS and bind it to a jndi name and then execute the RealCodeConfig.java class to get the DS through jndi. And through this, assure that the DS is already there when it is called through jndi.","body":"I need both configuration classes. I cannot exclude 1 with @ComponentScan. The only thing that i need is that Spring to execute first the TestConfig.java class to create the DS and bind it to a jndi name and then execute the RealCodeConfig.java class to get the DS through jndi. And through this, assure that the DS is already there when it is called through jndi."}],"tags":[],"owner":{"account_id":16643925,"reputation":133,"user_id":12028677,"display_name":"Kampaii"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582546732,"creation_date":1582546732,"answer_id":60375842,"question_id":60375713,"body_markdown":"you should configure this with custom `@Configuration` class with `@ComponentScan` on your needed package","title":"Spring test - create first beans from test classes and then the real code","body":"<p>you should configure this with custom <code>@Configuration</code> class with <code>@ComponentScan</code> on your needed package</p>\n"},{"comments":[{"owner":{"account_id":4398661,"reputation":602,"user_id":3584984,"accept_rate":73,"display_name":"DanutClapa"},"score":0,"creation_date":1582631517,"post_id":60391795,"comment_id":106836519,"body_markdown":"Why i should have Test code into real code? The test DS should reside into a test class, so all the code will not be present when the app is packaged to be deployed","body":"Why i should have Test code into real code? The test DS should reside into a test class, so all the code will not be present when the app is packaged to be deployed"},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1582631595,"post_id":60391795,"comment_id":106836568,"body_markdown":"You can keep the test code the way you prefer. I have added a note that this is an example to understand the usage","body":"You can keep the test code the way you prefer. I have added a note that this is an example to understand the usage"},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1582631973,"post_id":60391795,"comment_id":106836782,"body_markdown":"This [document](https://spring.io/blog/2011/06/21/spring-3-1-m2-testing-with-configuration-classes-and-profiles) should give you more insight on this topic .Please refer the section _Integration Testing with Environment Profiles_","body":"This <a href=\"https://spring.io/blog/2011/06/21/spring-3-1-m2-testing-with-configuration-classes-and-profiles\" rel=\"nofollow noreferrer\">document</a> should give you more insight on this topic .Please refer the section <i>Integration Testing with Environment Profiles</i>"}],"tags":[],"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582624511,"creation_date":1582624511,"answer_id":60391795,"question_id":60375713,"body_markdown":"You may use [`@Profile`][1] \r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n    \r\n    \t@Bean\r\n    \t@Profile(&quot;test&quot;)\r\n        public DataSource dataSourceTest() throws NamingException {\r\n            return (DataSource) new JndiTemplate().lookup(env.getProperty(&quot;jdbc.test.url&quot;));\r\n        }\r\n    \t\r\n    \t@Bean\r\n    \t@Profile(&quot;!test&quot;)\r\n        public DataSource dataSource() throws NamingException {\r\n            return (DataSource) new JndiTemplate().lookup(env.getProperty(&quot;jdbc.url&quot;));\r\n        }\r\n}\r\n\r\nand from test class set the active profile as &quot;test&quot; , an example\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @ActiveProfiles({ &quot;test&quot; })\r\n    @ContextConfiguration(classes = AppConfig.class) \r\n    public class AppTest {\r\n    \r\n    }\r\n\r\nExplanation\r\n\r\nThe `@Bean` creation is associated with a profile in the configuration .  When &quot;test&quot; profile is active the datasource instance with property entry `jdbc.test.url` will be created and for any other profile an instance of datasource with property `jdbc.url` will be created.\r\n\r\nNote : You may separate out the test and prod bean configurations to different classes. The code shared is to help understand the `@Profile` usage \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Profile.html","title":"Spring test - create first beans from test classes and then the real code","body":"<p>You may use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Profile.html\" rel=\"nofollow noreferrer\"><code>@Profile</code></a> </p>\n\n<pre><code>@Configuration\npublic class AppConfig {\n\n    @Bean\n    @Profile(\"test\")\n    public DataSource dataSourceTest() throws NamingException {\n        return (DataSource) new JndiTemplate().lookup(env.getProperty(\"jdbc.test.url\"));\n    }\n\n    @Bean\n    @Profile(\"!test\")\n    public DataSource dataSource() throws NamingException {\n        return (DataSource) new JndiTemplate().lookup(env.getProperty(\"jdbc.url\"));\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>and from test class set the active profile as \"test\" , an example</p>\n\n<pre><code>@ExtendWith(SpringExtension.class)\n@ActiveProfiles({ \"test\" })\n@ContextConfiguration(classes = AppConfig.class) \npublic class AppTest {\n\n}\n</code></pre>\n\n<p>Explanation</p>\n\n<p>The <code>@Bean</code> creation is associated with a profile in the configuration .  When \"test\" profile is active the datasource instance with property entry <code>jdbc.test.url</code> will be created and for any other profile an instance of datasource with property <code>jdbc.url</code> will be created.</p>\n\n<p>Note : You may separate out the test and prod bean configurations to different classes. The code shared is to help understand the <code>@Profile</code> usage </p>\n"},{"tags":[],"owner":{"account_id":4398661,"reputation":602,"user_id":3584984,"accept_rate":73,"display_name":"DanutClapa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582639166,"creation_date":1582639166,"answer_id":60396340,"question_id":60375713,"body_markdown":"Found the answer in the end:\r\nEsentially there are 2 approaches:\r\n\r\n1. use @Profile and @ActiveProfile \r\n\r\n2. Hide the real/overide real DS though the extension of the real code config class\r\n\r\n1.\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(....)\r\n    @EntityScan(basePackages = &quot;...&quot;)\r\n    public class RepositoryConfig {\r\n    \r\n        @Value(&quot;${ds-jndi-name}&quot;)\r\n        private String dataSourceJndiname;\r\n    \r\n    \r\n        @Bean(&quot;myDs&quot;)\r\n        public DataSource dataSource() {\r\n            JndiDataSourceLookup dataSourceLookup = new JndiDataSourceLookup();\r\n            return dataSourceLookup.getDataSource(dataSourceJndiname);\r\n        }\r\n    \r\n    .....\r\n    \r\n    \r\n    }\r\n\r\n2\r\n\r\n    @Configuration\r\n    public class RepositoryConfigTest extends RepositoryConfig{\r\n    \r\n        @Value(&quot;${ds-jndi-name}&quot;)\r\n        private String dataSourceJndiname;\r\n    \r\n        @Primary\r\n        @Bean(&quot;myDs&quot;)\r\n        @SneakyThrows\r\n        public DataSource dataSource() {\r\n            EmbeddedDatabase datasource = new EmbeddedDatabaseBuilder()\r\n                    .setType(HSQL)\r\n                    .setSeparator(&quot;;&quot;)\r\n                    .addScript(&quot;classpath:/inmemorytablesdefinitions.sql&quot;)\r\n                    .build();\r\n            bindDS(datasource);\r\n            return datasource;\r\n        }\r\n     ......\r\n     }\r\n\r\nInto the repositories that you test you do:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = {RepositoryConfigTest.class})\r\n    public class AppRepositoryTest {\r\n    \r\n        private App givenApp;\r\n    \r\n        @Autowired\r\n        private AppRepository appRepository;\r\n    \r\n        @Before\r\n        public void setup() {\r\n          ... whatever code\r\n        }\r\n\r\n     @Test\r\n        public void shoudReadApp() {\r\n            //given\r\n             .....\r\n            //when\r\n               .......\r\n            //then\r\n            assert ...\r\n        }\r\n       }\r\n\r\nNow in test compile time context we have the in memory DS, at runtime we have the real DS taken through jndi lookup. \r\nThe thing that needs to be tested in + is the jndi lookup since the runtime DS is hided now.\r\n\r\nThe advantage of this is, that we are not forced to deal with maintenance of profiles. If you have yet profiles used in your code.","title":"Spring test - create first beans from test classes and then the real code","body":"<p>Found the answer in the end:\nEsentially there are 2 approaches:</p>\n\n<ol>\n<li><p>use @Profile and @ActiveProfile </p></li>\n<li><p>Hide the real/overide real DS though the extension of the real code config class</p></li>\n</ol>\n\n<p>1.</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(....)\n@EntityScan(basePackages = \"...\")\npublic class RepositoryConfig {\n\n    @Value(\"${ds-jndi-name}\")\n    private String dataSourceJndiname;\n\n\n    @Bean(\"myDs\")\n    public DataSource dataSource() {\n        JndiDataSourceLookup dataSourceLookup = new JndiDataSourceLookup();\n        return dataSourceLookup.getDataSource(dataSourceJndiname);\n    }\n\n.....\n\n\n}\n</code></pre>\n\n<p>2</p>\n\n<pre><code>@Configuration\npublic class RepositoryConfigTest extends RepositoryConfig{\n\n    @Value(\"${ds-jndi-name}\")\n    private String dataSourceJndiname;\n\n    @Primary\n    @Bean(\"myDs\")\n    @SneakyThrows\n    public DataSource dataSource() {\n        EmbeddedDatabase datasource = new EmbeddedDatabaseBuilder()\n                .setType(HSQL)\n                .setSeparator(\";\")\n                .addScript(\"classpath:/inmemorytablesdefinitions.sql\")\n                .build();\n        bindDS(datasource);\n        return datasource;\n    }\n ......\n }\n</code></pre>\n\n<p>Into the repositories that you test you do:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = {RepositoryConfigTest.class})\npublic class AppRepositoryTest {\n\n    private App givenApp;\n\n    @Autowired\n    private AppRepository appRepository;\n\n    @Before\n    public void setup() {\n      ... whatever code\n    }\n\n @Test\n    public void shoudReadApp() {\n        //given\n         .....\n        //when\n           .......\n        //then\n        assert ...\n    }\n   }\n</code></pre>\n\n<p>Now in test compile time context we have the in memory DS, at runtime we have the real DS taken through jndi lookup. \nThe thing that needs to be tested in + is the jndi lookup since the runtime DS is hided now.</p>\n\n<p>The advantage of this is, that we are not forced to deal with maintenance of profiles. If you have yet profiles used in your code.</p>\n"}],"owner":{"account_id":4398661,"reputation":602,"user_id":3584984,"accept_rate":73,"display_name":"DanutClapa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1700656386,"creation_date":1582546345,"question_id":60375713,"body_markdown":"Question: how I can assure that, the beans from the test classes are created first in Spring?\r\nSituation:\r\nI have a Data Source which is provided at runtime an it is got through jndi.\r\nAt compile time I am creating one for an in memory DB and bind it to a jndi name. the problem is that the jndi lookup from the real code is executed first.\r\n\r\nHow I can assure that the test DS is created first and then the jndi lookup from real code is executed?\r\n\r\nEdit after i found the solution.\r\nThe solution i found is:\r\n\r\nThere is RepositoryConfig.java and RepositoryTestConfig.java.\r\nBefore I was importing RepositoryConfig into RepositoryTestConfig.\r\n\r\nI changed the approach:\r\n\r\n- I made RepositoryTestConfig to extend RepositoryConfig\r\n- I hided/override the DS bean into RepositoryTestConfig\r\n- On the EntityManager I added the DS through Autowire\r\n\r\nAnd the problem is solved 100%.\r\n\r\nFor the DS took through jndi lookup i created a separate test to prove the method, since the real method is hidden/overwritten now by the DS form RepositoryConfigTest.\r\n","title":"Spring test - create first beans from test classes and then the real code","body":"<p>Question: how I can assure that, the beans from the test classes are created first in Spring?\nSituation:\nI have a Data Source which is provided at runtime an it is got through jndi.\nAt compile time I am creating one for an in memory DB and bind it to a jndi name. the problem is that the jndi lookup from the real code is executed first.</p>\n<p>How I can assure that the test DS is created first and then the jndi lookup from real code is executed?</p>\n<p>Edit after i found the solution.\nThe solution i found is:</p>\n<p>There is RepositoryConfig.java and RepositoryTestConfig.java.\nBefore I was importing RepositoryConfig into RepositoryTestConfig.</p>\n<p>I changed the approach:</p>\n<ul>\n<li>I made RepositoryTestConfig to extend RepositoryConfig</li>\n<li>I hided/override the DS bean into RepositoryTestConfig</li>\n<li>On the EntityManager I added the DS through Autowire</li>\n</ul>\n<p>And the problem is solved 100%.</p>\n<p>For the DS took through jndi lookup i created a separate test to prove the method, since the real method is hidden/overwritten now by the DS form RepositoryConfigTest.</p>\n"},{"tags":["java","image","javax.imageio"],"comments":[{"owner":{"account_id":1334061,"reputation":12962,"user_id":1277252,"accept_rate":89,"display_name":"Moritz Petersen"},"score":0,"creation_date":1335971534,"post_id":10416378,"comment_id":13439772,"body_markdown":"I get the same error (at least when using `ImageIO.read(new URL(&quot;http://i.imgur.com/rC6Jk.jpg&quot;));`). Is this the only B/W image you are processing?","body":"I get the same error (at least when using <code>ImageIO.read(new URL(&quot;http:&#47;&#47;i.imgur.com&#47;rC6Jk.jpg&quot;));</code>). Is this the only B/W image you are processing?"},{"owner":{"account_id":39281,"reputation":1327,"user_id":113197,"accept_rate":84,"display_name":"mtrc"},"score":0,"creation_date":1335972305,"post_id":10416378,"comment_id":13440128,"body_markdown":"Hard to say - the nature of the image retrieval process is very undirected (the idea is that the software is autonomous!) It&#39;s the only one with such low saturation though. Do you think that&#39;s the cause?","body":"Hard to say - the nature of the image retrieval process is very undirected (the idea is that the software is autonomous!) It&#39;s the only one with such low saturation though. Do you think that&#39;s the cause?"},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1340304402,"post_id":10416378,"comment_id":14610378,"body_markdown":"Have you found any solution for this?","body":"Have you found any solution for this?"},{"owner":{"account_id":39281,"reputation":1327,"user_id":113197,"accept_rate":84,"display_name":"mtrc"},"score":0,"creation_date":1340397465,"post_id":10416378,"comment_id":14641786,"body_markdown":"Nope. I&#39;ve had to rely on the fact that other images will be found if this error is raised.","body":"Nope. I&#39;ve had to rely on the fact that other images will be found if this error is raised."}],"answers":[{"comments":[{"owner":{"account_id":415897,"reputation":1944,"user_id":790979,"accept_rate":100,"display_name":"charleslparker"},"score":1,"creation_date":1343084913,"post_id":11571181,"comment_id":15390144,"body_markdown":"The beauty of SO:  A problem that would have taken me two hours to figure out now takes 10 minutes.  Thank you, Tate Moore.","body":"The beauty of SO:  A problem that would have taken me two hours to figure out now takes 10 minutes.  Thank you, Tate Moore."},{"owner":{"account_id":39281,"reputation":1327,"user_id":113197,"accept_rate":84,"display_name":"mtrc"},"score":0,"creation_date":1343415809,"post_id":11571181,"comment_id":15506995,"body_markdown":"Wonderful stuff! Never thought anyone would come back and knock this one down but you did! Lovely stuff.","body":"Wonderful stuff! Never thought anyone would come back and knock this one down but you did! Lovely stuff."},{"owner":{"account_id":1048477,"reputation":20,"user_id":1052958,"accept_rate":0,"display_name":"user1052958"},"score":0,"creation_date":1346186744,"post_id":11571181,"comment_id":16285555,"body_markdown":"when I use this solution after it fails with ImageIO.read(InputStream) it does not execute the rest of the code (while (iter.hasNext()) is false), but if I omit ImageIO.read(InputStream) part it does the job.\nWhat is wrong with my code?","body":"when I use this solution after it fails with ImageIO.read(InputStream) it does not execute the rest of the code (while (iter.hasNext()) is false), but if I omit ImageIO.read(InputStream) part it does the job. What is wrong with my code?"},{"owner":{"account_id":1975336,"reputation":5011,"user_id":1773233,"accept_rate":58,"display_name":"surfealokesea"},"score":0,"creation_date":1424243326,"post_id":11571181,"comment_id":45464358,"body_markdown":"+1 because it works on some gray-scale cases, not working with ImageIO.read(...). But note, this code forces image load as gray-scale, even if it&#39;s not.  Yout have to make first a ImageIO.read(...) &amp; if it fails, use this method.","body":"+1 because it works on some gray-scale cases, not working with ImageIO.read(...). But note, this code forces image load as gray-scale, even if it&#39;s not.  Yout have to make first a ImageIO.read(...) &amp; if it fails, use this method."},{"owner":{"account_id":413057,"reputation":1153,"user_id":786474,"accept_rate":70,"display_name":"Carcamano"},"score":0,"creation_date":1455821153,"post_id":11571181,"comment_id":58672713,"body_markdown":"In case anyone is wondering how to get that `stream`, if can be created by using `ImageIO.createImageInputStream(InputStream)` (this argument can be `FileInputStream`, `ByteArrayInputStream` etc).","body":"In case anyone is wondering how to get that <code>stream</code>, if can be created by using <code>ImageIO.createImageInputStream(InputStream)</code> (this argument can be <code>FileInputStream</code>, <code>ByteArrayInputStream</code> etc)."}],"tags":[],"owner":{"account_id":1673420,"reputation":136,"user_id":1539413,"display_name":"Tate Moore"},"comment_count":5,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1342743555,"creation_date":1342743555,"answer_id":11571181,"question_id":10416378,"body_markdown":"So I was having this same issue and found that the image was gray-scale and that the default ImageIO.read implementation was not figuring that out because the image metadata wasn&#39;t quite as expected.  I wrote a work around that retries the load as &#39;BufferedImage.TYPE_BYTE_GRAY&#39; if it fails the main load.\r\n\r\n    \t        Iterator&lt;ImageReader&gt; iter = ImageIO.getImageReaders(stream);\r\n\r\n\t        Exception lastException = null;\r\n\t        while (iter.hasNext()) {\r\n\t        \tImageReader reader = null;\r\n\t\t        try {\r\n\t\t\t        reader = (ImageReader)iter.next();\r\n\t\t\t        ImageReadParam param = reader.getDefaultReadParam();\r\n\t\t\t        reader.setInput(stream, true, true);\r\n\t\t\t        Iterator&lt;ImageTypeSpecifier&gt; imageTypes = reader.getImageTypes(0);\r\n\t\t\t        while (imageTypes.hasNext()) {\r\n\t\t\t        \tImageTypeSpecifier imageTypeSpecifier = imageTypes.next();\r\n\t\t\t        \tint bufferedImageType = imageTypeSpecifier.getBufferedImageType();\r\n\t\t\t        \tif (bufferedImageType == BufferedImage.TYPE_BYTE_GRAY) {\r\n\t\t\t        \t\tparam.setDestinationType(imageTypeSpecifier);\r\n\t\t\t        \t\tbreak;\r\n\t\t\t        \t}\r\n\t\t\t        }\r\n\t\t            bufferedImage = reader.read(0, param);\r\n\t\t            if (null != bufferedImage) break;\r\n\t\t        } catch (Exception e) {\r\n\t\t        \tlastException = e;\r\n\t\t\t\t} finally {\r\n\t\t            if (null != reader) reader.dispose();\t\t\t\t\r\n\t\t\t\t}\r\n\t        }\r\n\t        // If you don&#39;t have an image at the end of all readers\r\n\t        if (null == bufferedImage) {\r\n\t        \tif (null != lastException) {\r\n\t        \t\tthrow lastException;\r\n\t        \t}\r\n\t        }\r\n","title":"ImageIO.read illegal argument exception - raster bands/colour space components?","body":"<p>So I was having this same issue and found that the image was gray-scale and that the default ImageIO.read implementation was not figuring that out because the image metadata wasn't quite as expected.  I wrote a work around that retries the load as 'BufferedImage.TYPE_BYTE_GRAY' if it fails the main load.</p>\n\n<pre><code>            Iterator&lt;ImageReader&gt; iter = ImageIO.getImageReaders(stream);\n\n        Exception lastException = null;\n        while (iter.hasNext()) {\n            ImageReader reader = null;\n            try {\n                reader = (ImageReader)iter.next();\n                ImageReadParam param = reader.getDefaultReadParam();\n                reader.setInput(stream, true, true);\n                Iterator&lt;ImageTypeSpecifier&gt; imageTypes = reader.getImageTypes(0);\n                while (imageTypes.hasNext()) {\n                    ImageTypeSpecifier imageTypeSpecifier = imageTypes.next();\n                    int bufferedImageType = imageTypeSpecifier.getBufferedImageType();\n                    if (bufferedImageType == BufferedImage.TYPE_BYTE_GRAY) {\n                        param.setDestinationType(imageTypeSpecifier);\n                        break;\n                    }\n                }\n                bufferedImage = reader.read(0, param);\n                if (null != bufferedImage) break;\n            } catch (Exception e) {\n                lastException = e;\n            } finally {\n                if (null != reader) reader.dispose();               \n            }\n        }\n        // If you don't have an image at the end of all readers\n        if (null == bufferedImage) {\n            if (null != lastException) {\n                throw lastException;\n            }\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":39281,"reputation":1327,"user_id":113197,"accept_rate":84,"display_name":"mtrc"},"score":0,"creation_date":1365339232,"post_id":15653092,"comment_id":22577624,"body_markdown":"It did! Thanks. I definitely think the message is informative, it&#39;s just above my level of understanding, not their fault. Thanks for commenting :)","body":"It did! Thanks. I definitely think the message is informative, it&#39;s just above my level of understanding, not their fault. Thanks for commenting :)"}],"tags":[],"owner":{"account_id":2159535,"reputation":206,"user_id":1914030,"display_name":"Suchet"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1364366011,"creation_date":1364366011,"answer_id":15653092,"question_id":10416378,"body_markdown":"The error message is informative and indicates that the number of raster bands, as mentioned in the ICC color profile, seems to be incorrect. I used [ImageMagick][1] to strip the ICC profile from the  image. ImageIO subsequently has no problems reading the images (~1k bad images). Hope that helps.\r\n\r\n  [1]: http://www.imagemagick.org/script/index.php","title":"ImageIO.read illegal argument exception - raster bands/colour space components?","body":"<p>The error message is informative and indicates that the number of raster bands, as mentioned in the ICC color profile, seems to be incorrect. I used <a href=\"http://www.imagemagick.org/script/index.php\" rel=\"nofollow\">ImageMagick</a> to strip the ICC profile from the  image. ImageIO subsequently has no problems reading the images (~1k bad images). Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":282078,"reputation":847,"user_id":578759,"display_name":"Hok"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700656240,"creation_date":1508404850,"answer_id":46826608,"question_id":10416378,"body_markdown":"It is possible to read this image using TwelveMonkeys ImageIO, which is a more robust and forgiving replacement for the original ImageIO provided by the JRE.\r\n\r\nSee https://github.com/haraldk/TwelveMonkeys/\r\n\r\nI found this solution in the PDF Box Jira https://issues.apache.org/jira/browse/PDFBOX-3637\r\n\r\nIn order to use TwelveMonkeys, it is sufficient to add it as a maven dependency. It then registers itself before the default image processor.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\r\n        &lt;artifactId&gt;imageio-jpeg&lt;/artifactId&gt;\r\n        &lt;version&gt;3.10.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"ImageIO.read illegal argument exception - raster bands/colour space components?","body":"<p>It is possible to read this image using TwelveMonkeys ImageIO, which is a more robust and forgiving replacement for the original ImageIO provided by the JRE.</p>\n<p>See <a href=\"https://github.com/haraldk/TwelveMonkeys/\" rel=\"nofollow noreferrer\">https://github.com/haraldk/TwelveMonkeys/</a></p>\n<p>I found this solution in the PDF Box Jira <a href=\"https://issues.apache.org/jira/browse/PDFBOX-3637\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/PDFBOX-3637</a></p>\n<p>In order to use TwelveMonkeys, it is sufficient to add it as a maven dependency. It then registers itself before the default image processor.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\n    &lt;artifactId&gt;imageio-jpeg&lt;/artifactId&gt;\n    &lt;version&gt;3.10.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":39281,"reputation":1327,"user_id":113197,"accept_rate":84,"display_name":"mtrc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12719,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":11571181,"answer_count":3,"score":18,"last_activity_date":1700656240,"creation_date":1335970878,"question_id":10416378,"body_markdown":"Apologies for the somewhat vague title, I can&#39;t work out what the keywords are here. The setup&#39;s quite simple, I&#39;m opening an image with\r\n\r\n    ImageIO.read(new File(filename));\r\n\r\nThis works for most files, however for one I get an `IllegalArgumentException with the detail: &quot;numbers of source Raster bands and source color space components do not match&quot;`. This image was obtained via wget on a valid Flickr URL, and I&#39;ve used other images obtained this way, so the method for obtaining images seems sound in principle. I&#39;m not sure what&#39;s causing the exception.\r\n\r\nA workaround would be more than acceptable - I&#39;m not fussed with using `ImageIO` in particular, and the image looks fine visually. I just need to get it being read without Java freaking out!\r\n\r\nHere&#39;s the image in question, in case it&#39;s of any use: \r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/l6eR8.jpg","title":"ImageIO.read illegal argument exception - raster bands/colour space components?","body":"<p>Apologies for the somewhat vague title, I can't work out what the keywords are here. The setup's quite simple, I'm opening an image with</p>\n\n<pre><code>ImageIO.read(new File(filename));\n</code></pre>\n\n<p>This works for most files, however for one I get an <code>IllegalArgumentException with the detail: \"numbers of source Raster bands and source color space components do not match\"</code>. This image was obtained via wget on a valid Flickr URL, and I've used other images obtained this way, so the method for obtaining images seems sound in principle. I'm not sure what's causing the exception.</p>\n\n<p>A workaround would be more than acceptable - I'm not fussed with using <code>ImageIO</code> in particular, and the image looks fine visually. I just need to get it being read without Java freaking out!</p>\n\n<p>Here's the image in question, in case it's of any use: </p>\n\n<p><img src=\"https://i.stack.imgur.com/l6eR8.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","android","android-keystore"],"answers":[{"tags":[],"owner":{"account_id":4791404,"reputation":341,"user_id":3870497,"display_name":"a_m"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461865964,"creation_date":1461865964,"answer_id":36922072,"question_id":36919313,"body_markdown":"You can generate a keystore using the keytool. It should be included in your JDK -\r\n\r\n    -genkeypair {-alias alias} {-keyalg keyalg} {-keysize keysize} \r\n    {-sigalg sigalg} [-dname dname] [-keypass keypass] {-validity valDays} \r\n    {-storetype storetype} {-keystore keystore} [-storepass storepass] {-providerClass provider_class_name {-providerArg provider_arg}} \r\n    {-v} {-protected} {-Jjavaoption}\r\n\r\n[Key Tool Tutorial][1]\r\n\r\nYou can set the location of your keystore in the gradle file. For example - \r\n\r\n    ...\r\n    android {\r\n        ...\r\n        defaultConfig { ... }\r\n        signingConfigs {\r\n            release {\r\n                storeFile file(&quot;myreleasekey.keystore&quot;)\r\n                storePassword &quot;password&quot;\r\n                keyAlias &quot;MyReleaseKey&quot;\r\n                keyPassword &quot;password&quot;\r\n            }\r\n        }\r\n        buildTypes {\r\n            release {\r\n                ...\r\n                signingConfig signingConfigs.release\r\n            }\r\n        }\r\n    }\r\n    ...\r\n    \r\n[Signing Applications][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/technotes/tools/solaris/keytool.html &quot;Details&quot;\r\n  [2]: http://developer.android.com/tools/publishing/app-signing.html","title":"Android Studio issue missing missing debug.keystore","body":"<p>You can generate a keystore using the keytool. It should be included in your JDK -</p>\n\n<pre><code>-genkeypair {-alias alias} {-keyalg keyalg} {-keysize keysize} \n{-sigalg sigalg} [-dname dname] [-keypass keypass] {-validity valDays} \n{-storetype storetype} {-keystore keystore} [-storepass storepass] {-providerClass provider_class_name {-providerArg provider_arg}} \n{-v} {-protected} {-Jjavaoption}\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/6/docs/technotes/tools/solaris/keytool.html\" rel=\"nofollow\" title=\"Details\">Key Tool Tutorial</a></p>\n\n<p>You can set the location of your keystore in the gradle file. For example - </p>\n\n<pre><code>...\nandroid {\n    ...\n    defaultConfig { ... }\n    signingConfigs {\n        release {\n            storeFile file(\"myreleasekey.keystore\")\n            storePassword \"password\"\n            keyAlias \"MyReleaseKey\"\n            keyPassword \"password\"\n        }\n    }\n    buildTypes {\n        release {\n            ...\n            signingConfig signingConfigs.release\n        }\n    }\n}\n...\n</code></pre>\n\n<p><a href=\"http://developer.android.com/tools/publishing/app-signing.html\" rel=\"nofollow\">Signing Applications</a></p>\n"},{"comments":[{"owner":{"account_id":12353623,"reputation":121,"user_id":9011016,"display_name":"Stefan T"},"score":0,"creation_date":1641657679,"post_id":63064024,"comment_id":124864400,"body_markdown":"thanks dude. this saved me so much time","body":"thanks dude. this saved me so much time"},{"owner":{"account_id":18011162,"reputation":383,"user_id":13090794,"display_name":"Kasasira"},"score":0,"creation_date":1641883117,"post_id":63064024,"comment_id":124916840,"body_markdown":"Am glad you liked it","body":"Am glad you liked it"},{"owner":{"account_id":18253181,"reputation":450,"user_id":13287734,"display_name":"UNREAL"},"score":0,"creation_date":1648243112,"post_id":63064024,"comment_id":126583798,"body_markdown":"what about linux?","body":"what about linux?"},{"owner":{"account_id":17921458,"reputation":71,"user_id":13021198,"display_name":"Shruti Pahuja"},"score":0,"creation_date":1678346735,"post_id":63064024,"comment_id":133515347,"body_markdown":"this is the only thing that worked for me! thanks so much","body":"this is the only thing that worked for me! thanks so much"}],"tags":[],"owner":{"account_id":18011162,"reputation":383,"user_id":13090794,"display_name":"Kasasira"},"comment_count":4,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1700655990,"creation_date":1595543252,"answer_id":63064024,"question_id":36919313,"body_markdown":"I know this comes late, but I hope it helps those that come in the future. To generate a new keystore, do the following:\r\n\r\n 1. Type `keytool -alias &quot;AndroidDebugKey&quot; -genkeypair` in the terminal of your Android studio and give it a password of **`android`**.\r\n\r\n 2. The rest of the fields or questions asked after that don&#39;t matter, so just press **Enter**.\r\n\r\n 3. Go to your home directory (*C:\\Users\\\\&lt;YOUR USERNAME&gt;*) and look for a file named as `.keystore`.\r\n\r\n 4. Rename `.keystore` to `debug.keystore`.\r\n\r\n 5. Now copy and paste it to (*C:\\Users\\&lt;YOUR USERNAME&gt;\\\\.android*).\r\n\r\n 6. Re-run the signReport task to generate a new key for APP.","title":"Android Studio issue missing missing debug.keystore","body":"<p>I know this comes late, but I hope it helps those that come in the future. To generate a new keystore, do the following:</p>\n<ol>\n<li><p>Type <code>keytool -alias &quot;AndroidDebugKey&quot; -genkeypair</code> in the terminal of your Android studio and give it a password of <strong><code>android</code></strong>.</p>\n</li>\n<li><p>The rest of the fields or questions asked after that don't matter, so just press <strong>Enter</strong>.</p>\n</li>\n<li><p>Go to your home directory (<em>C:\\Users\\</em>) and look for a file named as <code>.keystore</code>.</p>\n</li>\n<li><p>Rename <code>.keystore</code> to <code>debug.keystore</code>.</p>\n</li>\n<li><p>Now copy and paste it to (<em>C:\\Users&lt;YOUR USERNAME&gt;\\.android</em>).</p>\n</li>\n<li><p>Re-run the signReport task to generate a new key for APP.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":8342348,"reputation":61,"user_id":6267290,"display_name":"KingMarshmellow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24799,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1700655990,"creation_date":1461857765,"question_id":36919313,"body_markdown":"Every time I want to sign my aok I get the failure `Missing debug.keystore` it says that it actually should me located under this path Store: `C:\\Users\\jamie\\.android\\debug.keystore` but there isn&#39;t any keystore file.\r\n\r\nHow can I create one ?\r\n\r\nPlease explain it for a really silly person.\r\n\r\n### Android Studio Messages Gradle Build\r\n\r\n[![enter image description here][1]][1]\r\n\r\n### File Manager\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/aN1Oq.png\r\n  [2]: http://i.stack.imgur.com/2gFuf.png","title":"Android Studio issue missing missing debug.keystore","body":"<p>Every time I want to sign my aok I get the failure <code>Missing debug.keystore</code> it says that it actually should me located under this path Store: <code>C:\\Users\\jamie\\.android\\debug.keystore</code> but there isn't any keystore file.</p>\n\n<p>How can I create one ?</p>\n\n<p>Please explain it for a really silly person.</p>\n\n<h3>Android Studio Messages Gradle Build</h3>\n\n<p><a href=\"https://i.stack.imgur.com/aN1Oq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aN1Oq.png\" alt=\"enter image description here\"></a></p>\n\n<h3>File Manager</h3>\n\n<p><a href=\"https://i.stack.imgur.com/2gFuf.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2gFuf.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","markdown","doxygen","aidl"],"comments":[{"owner":{"account_id":1824786,"reputation":8418,"user_id":1657886,"display_name":"albert"},"score":0,"creation_date":1699529277,"post_id":77448988,"comment_id":136544887,"body_markdown":"Which version of doxygen are you using? Can you please give a small complete example so we can test it? maybe setting `EXTRACT+STATIC` or `EXTRACT_PRIVATE` does help.","body":"Which version of doxygen are you using? Can you please give a small complete example so we can test it? maybe setting <code>EXTRACT+STATIC</code> or <code>EXTRACT_PRIVATE</code> does help."},{"owner":{"account_id":21551008,"reputation":33,"user_id":16690407,"display_name":"Dmitry Golubev"},"score":0,"creation_date":1699618475,"post_id":77448988,"comment_id":136557806,"body_markdown":"@albert, updated the question. EXTRACT_PRIVATE might help but I think it can lead to unpredictable issues because the project has c++/java code with public/private interfaces which shouldn&#39;t be in the doc","body":"@albert, updated the question. EXTRACT_PRIVATE might help but I think it can lead to unpredictable issues because the project has c++/java code with public/private interfaces which shouldn&#39;t be in the doc"},{"owner":{"account_id":21551008,"reputation":33,"user_id":16690407,"display_name":"Dmitry Golubev"},"score":0,"creation_date":1699618623,"post_id":77448988,"comment_id":136557827,"body_markdown":"Also, as I understand, enums and interfaces in java have public specifier by default. Why does doxygen consider it as non-public?","body":"Also, as I understand, enums and interfaces in java have public specifier by default. Why does doxygen consider it as non-public?"},{"owner":{"account_id":1824786,"reputation":8418,"user_id":1657886,"display_name":"albert"},"score":0,"creation_date":1699619122,"post_id":77448988,"comment_id":136557902,"body_markdown":"The current doxygen version is 1.9.8, maybe it is fixed there. I can understand that you cannot publish the project as it is a private project, but please try to create a small example that shows the problem. The `EXTRACT_PRIVATE` is indeed probably unwanted but was just put as test and  a way so we can get to the solution.","body":"The current doxygen version is 1.9.8, maybe it is fixed there. I can understand that you cannot publish the project as it is a private project, but please try to create a small example that shows the problem. The <code>EXTRACT_PRIVATE</code> is indeed probably unwanted but was just put as test and  a way so we can get to the solution."},{"owner":{"account_id":1824786,"reputation":8418,"user_id":1657886,"display_name":"albert"},"score":0,"creation_date":1699626157,"post_id":77448988,"comment_id":136559194,"body_markdown":"Despite a missing example, I found some code at https://www.w3schools.com/java/java_enums.asp and created a proposed patch https://github.com/doxygen/doxygen/pull/10402","body":"Despite a missing example, I found some code at <a href=\"https://www.w3schools.com/java/java_enums.asp\" rel=\"nofollow noreferrer\">w3schools.com/java/java_enums.asp</a> and created a proposed patch <a href=\"https://github.com/doxygen/doxygen/pull/10402\" rel=\"nofollow noreferrer\">github.com/doxygen/doxygen/pull/10402</a>"},{"owner":{"account_id":21551008,"reputation":33,"user_id":16690407,"display_name":"Dmitry Golubev"},"score":0,"creation_date":1700591422,"post_id":77448988,"comment_id":136672721,"body_markdown":"@albert, I have added the example on github (see Update 2). Also, checked your solution. It works for enums, but not for interfaces (can suppose that your solution is about enums). But enums with private specifier are also added to the doc. I am not sure that it is a good solution","body":"@albert, I have added the example on github (see Update 2). Also, checked your solution. It works for enums, but not for interfaces (can suppose that your solution is about enums). But enums with private specifier are also added to the doc. I am not sure that it is a good solution"},{"owner":{"account_id":1824786,"reputation":8418,"user_id":1657886,"display_name":"albert"},"score":1,"creation_date":1700652935,"post_id":77448988,"comment_id":136680395,"body_markdown":"Good to hear that the fix for the enum has the required effect on your code base. The problem with the `interface` is a new problem and is illustrated in your example on github, though it would be much better / is required to create an issue in the doxygen issue tracker (so: please create at https://github.com/doxygen/doxygen/issues a, small, self contained example (source+configuration file in a, compressed, tar or zip file) that allows us to reproduce the problem? Please don&#39;t add external links as they might not be persistent.) In the mean time I extended PR 10402 for interfaces.Please test","body":"Good to hear that the fix for the enum has the required effect on your code base. The problem with the <code>interface</code> is a new problem and is illustrated in your example on github, though it would be much better / is required to create an issue in the doxygen issue tracker (so: please create at <a href=\"https://github.com/doxygen/doxygen/issues\" rel=\"nofollow noreferrer\">github.com/doxygen/doxygen/issues</a> a, small, self contained example (source+configuration file in a, compressed, tar or zip file) that allows us to reproduce the problem? Please don&#39;t add external links as they might not be persistent.) In the mean time I extended PR 10402 for interfaces.Please test"}],"answers":[{"comments":[{"owner":{"account_id":1824786,"reputation":8418,"user_id":1657886,"display_name":"albert"},"score":1,"creation_date":1700931426,"post_id":77529919,"comment_id":136713552,"body_markdown":"The fix for the mentioned issue has been integrated in the master version of doxygen.","body":"The fix for the mentioned issue has been integrated in the master version of doxygen."}],"tags":[],"owner":{"account_id":21551008,"reputation":33,"user_id":16690407,"display_name":"Dmitry Golubev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700655833,"creation_date":1700655833,"answer_id":77529919,"question_id":77448988,"body_markdown":"Seems missed case. Based on the @albert&#39;s comment, I created an issue https://github.com/doxygen/doxygen/issues/10434","title":"Doxygen cannot include .aidl interfaces and enums to the documentation","body":"<p>Seems missed case. Based on the @albert's comment, I created an issue <a href=\"https://github.com/doxygen/doxygen/issues/10434\" rel=\"nofollow noreferrer\">https://github.com/doxygen/doxygen/issues/10434</a></p>\n"}],"owner":{"account_id":21551008,"reputation":33,"user_id":16690407,"display_name":"Dmitry Golubev"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77529919,"answer_count":1,"score":0,"last_activity_date":1700655833,"creation_date":1699478002,"question_id":77448988,"body_markdown":"I have some .aidl files with intefaces and enums and want to add them to the API doc.\r\nI added paths to INPUT and point **FILE_PATTERNS** with **.aidl** and **.java** and **EXTENSION_MAPPING** with **aidl=java**.\r\n\r\nThen, I generate the doc and see nothing. But everything is OK when I add **public** keyword before **interface/enum**.\r\n\r\nSeems doxygen expects **public** before **interface** or **enum** keywords, but this is the bad approach because android cannot parse them. I get ```&lt;interface, parcelable, enum or union&gt; or AidlTokenTypes.IMPORT_KEYWORD expected, got &#39;public&#39;``` error here.\r\n\r\nIs there any way to solve it?\r\n\r\n**Update:**\r\n\r\ndoxygen: 1.9.6\r\n\r\nCannot provide an example because of the big private project\r\n\r\n**EXTRACT_STATIC** = YES\r\n\r\n**EXTRACT_PRIVATE** = NO\r\n\r\n**Update 2**\r\n\r\nExample: [github](https://github.com/golubevdmi/stackoverflow-issues/tree/master/77448988)","title":"Doxygen cannot include .aidl interfaces and enums to the documentation","body":"<p>I have some .aidl files with intefaces and enums and want to add them to the API doc.\nI added paths to INPUT and point <strong>FILE_PATTERNS</strong> with <strong>.aidl</strong> and <strong>.java</strong> and <strong>EXTENSION_MAPPING</strong> with <strong>aidl=java</strong>.</p>\n<p>Then, I generate the doc and see nothing. But everything is OK when I add <strong>public</strong> keyword before <strong>interface/enum</strong>.</p>\n<p>Seems doxygen expects <strong>public</strong> before <strong>interface</strong> or <strong>enum</strong> keywords, but this is the bad approach because android cannot parse them. I get <code>&lt;interface, parcelable, enum or union&gt; or AidlTokenTypes.IMPORT_KEYWORD expected, got 'public'</code> error here.</p>\n<p>Is there any way to solve it?</p>\n<p><strong>Update:</strong></p>\n<p>doxygen: 1.9.6</p>\n<p>Cannot provide an example because of the big private project</p>\n<p><strong>EXTRACT_STATIC</strong> = YES</p>\n<p><strong>EXTRACT_PRIVATE</strong> = NO</p>\n<p><strong>Update 2</strong></p>\n<p>Example: <a href=\"https://github.com/golubevdmi/stackoverflow-issues/tree/master/77448988\" rel=\"nofollow noreferrer\">github</a></p>\n"},{"tags":["java","windows","http","tcp","undertow"],"answers":[{"tags":[],"owner":{"account_id":5672333,"reputation":46,"user_id":4486628,"display_name":"Jamie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700655331,"creation_date":1422016137,"answer_id":28109940,"question_id":27276899,"body_markdown":"I can&#39;t tell you how to make it perform better when running in Windows, but if you run it in Linux you can do the tuning recommended for Jetty here: https://eclipse.dev/jetty/documentation/jetty-9/index.html#high-load\r\n\r\nIn summary:\r\n```sh\r\nsysctl -w net.core.rmem_max=16777216\r\nsysctl -w net.core.wmem_max=16777216\r\nsysctl -w net.ipv4.tcp_rmem=&quot;4096 87380 16777216&quot;\r\nsysctl -w net.ipv4.tcp_wmem=&quot;4096 16384 16777216&quot;\r\nsysctl -w net.core.somaxconn=4096\r\nsysctl -w net.core.netdev_max_backlog=16384\r\nsysctl -w net.ipv4.tcp_max_syn_backlog=8192\r\nsysctl -w net.ipv4.tcp_syncookies=1\r\nsysctl -w net.ipv4.ip_local_port_range=&quot;1024 65535&quot;\r\nsysctl -w net.ipv4.tcp_tw_recycle=1\r\nsysctl -w net.ipv4.tcp_congestion_control=cubic\r\n```\r\nInclude the `-server` JVM param when you run your code.\r\n\r\nThen try:\r\n`ab -n 100000 -c 100 http://localhost:9090/test`\r\n\r\n(make 100,000 requests using 100 connections)\r\n\r\nWhen I try that in a Linux VM running in VMware Player on my Windows 7 laptop (3 years old) I get over 100,000 requests per second.","title":"What is the limiting factor of HTTP requests per seconds when running &quot;empty&quot; Undertow?","body":"<p>I can't tell you how to make it perform better when running in Windows, but if you run it in Linux you can do the tuning recommended for Jetty here: <a href=\"https://eclipse.dev/jetty/documentation/jetty-9/index.html#high-load\" rel=\"nofollow noreferrer\">https://eclipse.dev/jetty/documentation/jetty-9/index.html#high-load</a></p>\n<p>In summary:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sysctl -w net.core.rmem_max=16777216\nsysctl -w net.core.wmem_max=16777216\nsysctl -w net.ipv4.tcp_rmem=&quot;4096 87380 16777216&quot;\nsysctl -w net.ipv4.tcp_wmem=&quot;4096 16384 16777216&quot;\nsysctl -w net.core.somaxconn=4096\nsysctl -w net.core.netdev_max_backlog=16384\nsysctl -w net.ipv4.tcp_max_syn_backlog=8192\nsysctl -w net.ipv4.tcp_syncookies=1\nsysctl -w net.ipv4.ip_local_port_range=&quot;1024 65535&quot;\nsysctl -w net.ipv4.tcp_tw_recycle=1\nsysctl -w net.ipv4.tcp_congestion_control=cubic\n</code></pre>\n<p>Include the <code>-server</code> JVM param when you run your code.</p>\n<p>Then try:\n<code>ab -n 100000 -c 100 http://localhost:9090/test</code></p>\n<p>(make 100,000 requests using 100 connections)</p>\n<p>When I try that in a Linux VM running in VMware Player on my Windows 7 laptop (3 years old) I get over 100,000 requests per second.</p>\n"}],"owner":{"account_id":1434426,"reputation":5928,"user_id":1356130,"accept_rate":85,"display_name":"atok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1472,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28109940,"answer_count":1,"score":2,"last_activity_date":1700655331,"creation_date":1417624468,"question_id":27276899,"body_markdown":"I&#39;m running a very simplistic Undertow configuration. Whole code included:\r\n\r\n    public class HelloWorldUndertow {\r\n        public static void main(String[] args) {\r\n            Undertow undertow = Undertow.builder()\r\n                    .addHttpListener(9090, &quot;0.0.0.0&quot;)\r\n                    .setHandler(new HttpHandler() {\r\n                        @Override\r\n                        public void handleRequest(HttpServerExchange exchange) throws Exception {\r\n                            exchange.setResponseCode(200);\r\n                            exchange.getResponseSender().send(&quot;hello!&quot;);\r\n                        }\r\n                    }).build();\r\n            undertow.start();\r\n        }\r\n    }\r\n\r\nI try to test how many requests per second it can handle. I&#39;m using apache `ab` tool for measurements:\r\n\r\n    ab -n 100000 -c 10 http://localhost:9090/test\r\n\r\nThe biggest number I managed to get is around 10000 3/sec:\r\n\r\n    Concurrency Level:      10\r\n        Time taken for tests:   10.664 seconds\r\n        Complete requests:      100000\r\n        Failed requests:        0\r\n        Total transferred:      10000000 bytes\r\n        HTML transferred:       600000 bytes\r\n        Requests per second:    9377.69 [#/sec] (mean)\r\n        Time per request:       1.066 [ms] (mean)\r\n        Time per request:       0.107 [ms] (mean, across all concurrent requests)\r\n        Transfer rate:          915.79 [Kbytes/sec] received\r\n\r\n        Connection Times (ms)\r\n        min  mean[+/-sd] median   max\r\n        Connect:        0    0   0.2      0       1\r\n        Processing:     0    1   0.5      1      11\r\n        Waiting:        0    1   0.5      1      11\r\n        Total:          0    1   0.5      1      11\r\n\r\n        Percentage of the requests served within a certain time (ms)\r\n        50%      1\r\n        66%      1\r\n        75%      1\r\n        80%      1\r\n        90%      2\r\n        95%      2\r\n        98%      2\r\n        99%      2\r\n        100%     11 (longest request)\r\n\r\nI get that it is BIG, but I&#39;m curoius what is a limiting factor in this case. It&#39;s not processor (the app is running below 20% when sampled using Java Mission Control) and not memory. I&#39;m running it on Windows - maybe that is the reason?","title":"What is the limiting factor of HTTP requests per seconds when running &quot;empty&quot; Undertow?","body":"<p>I'm running a very simplistic Undertow configuration. Whole code included:</p>\n\n<pre><code>public class HelloWorldUndertow {\n    public static void main(String[] args) {\n        Undertow undertow = Undertow.builder()\n                .addHttpListener(9090, \"0.0.0.0\")\n                .setHandler(new HttpHandler() {\n                    @Override\n                    public void handleRequest(HttpServerExchange exchange) throws Exception {\n                        exchange.setResponseCode(200);\n                        exchange.getResponseSender().send(\"hello!\");\n                    }\n                }).build();\n        undertow.start();\n    }\n}\n</code></pre>\n\n<p>I try to test how many requests per second it can handle. I'm using apache <code>ab</code> tool for measurements:</p>\n\n<pre><code>ab -n 100000 -c 10 http://localhost:9090/test\n</code></pre>\n\n<p>The biggest number I managed to get is around 10000 3/sec:</p>\n\n<pre><code>Concurrency Level:      10\n    Time taken for tests:   10.664 seconds\n    Complete requests:      100000\n    Failed requests:        0\n    Total transferred:      10000000 bytes\n    HTML transferred:       600000 bytes\n    Requests per second:    9377.69 [#/sec] (mean)\n    Time per request:       1.066 [ms] (mean)\n    Time per request:       0.107 [ms] (mean, across all concurrent requests)\n    Transfer rate:          915.79 [Kbytes/sec] received\n\n    Connection Times (ms)\n    min  mean[+/-sd] median   max\n    Connect:        0    0   0.2      0       1\n    Processing:     0    1   0.5      1      11\n    Waiting:        0    1   0.5      1      11\n    Total:          0    1   0.5      1      11\n\n    Percentage of the requests served within a certain time (ms)\n    50%      1\n    66%      1\n    75%      1\n    80%      1\n    90%      2\n    95%      2\n    98%      2\n    99%      2\n    100%     11 (longest request)\n</code></pre>\n\n<p>I get that it is BIG, but I'm curoius what is a limiting factor in this case. It's not processor (the app is running below 20% when sampled using Java Mission Control) and not memory. I'm running it on Windows - maybe that is the reason?</p>\n"},{"tags":["java","android","smartcard","smartcard-reader"],"owner":{"account_id":12046182,"reputation":313,"user_id":8811098,"display_name":"Nadin Martini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700655096,"creation_date":1700655096,"question_id":77529844,"body_markdown":"Using the below code with **JMRTD** [JMTD Library][1], I am trying to read the card contactless with an Android device. I am getting the following error while doing **CHIP AUTHENTICATION** which I can not determine the reason for this, **PACE** and reading data groups was successfully done before this step.\r\n\r\n    service = new PassportService(cs, maxTranceiveLength, PassportService.DEFAULT_MAX_BLOCKSIZE, false, true);\r\n    \r\n    caResult = service.doEACCA(caPubKeyInfo.getKeyId(), caProtoInfo.getObjectIdentifier(), caPubKeyInfo.getSubjectPublicKey().getAlgorithm(), caPubKeyInfo.getSubjectPublicKey());\r\n\r\nnet.sf.scuba.smartcards.CardServiceException: Exception during transmission of wrapped APDU,  (SW = 0x6988: SM DATA OBJECTS INCORRECT)\r\n\r\n  [1]: https://jmrtd.org/\r\n\r\nWhat could be the reason for this error?\r\n","title":"JMRTD Doing Chip Authentication returns Invalid Data Objects","body":"<p>Using the below code with <strong>JMRTD</strong> <a href=\"https://jmrtd.org/\" rel=\"nofollow noreferrer\">JMTD Library</a>, I am trying to read the card contactless with an Android device. I am getting the following error while doing <strong>CHIP AUTHENTICATION</strong> which I can not determine the reason for this, <strong>PACE</strong> and reading data groups was successfully done before this step.</p>\n<pre><code>service = new PassportService(cs, maxTranceiveLength, PassportService.DEFAULT_MAX_BLOCKSIZE, false, true);\n\ncaResult = service.doEACCA(caPubKeyInfo.getKeyId(), caProtoInfo.getObjectIdentifier(), caPubKeyInfo.getSubjectPublicKey().getAlgorithm(), caPubKeyInfo.getSubjectPublicKey());\n</code></pre>\n<p>net.sf.scuba.smartcards.CardServiceException: Exception during transmission of wrapped APDU,  (SW = 0x6988: SM DATA OBJECTS INCORRECT)</p>\n<p>What could be the reason for this error?</p>\n"},{"tags":["java","image","javax.imageio"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1700654968,"post_id":77529375,"comment_id":136680743,"body_markdown":"Don&#39;t ignore exceptions like you&#39;re doing in the `TileSet` constructor. Also, `ImageIO.read` may return `null`, which you never check for.","body":"Don&#39;t ignore exceptions like you&#39;re doing in the <code>TileSet</code> constructor. Also, <code>ImageIO.read</code> may return <code>null</code>, which you never check for."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1700674662,"post_id":77529375,"comment_id":136684696,"body_markdown":"Like Mark said:  don’t ignore that IOException.  If you can’t read the image, your class cannot possibly function properly, so why would you want to coninue?  Your `catch` block should contain `throw new RuntimeException(e);`.","body":"Like Mark said:  don’t ignore that IOException.  If you can’t read the image, your class cannot possibly function properly, so why would you want to coninue?  Your <code>catch</code> block should contain <code>throw new RuntimeException(e);</code>."}],"owner":{"account_id":29965678,"reputation":1,"user_id":22964314,"display_name":"Mirror"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700654977,"answer_count":0,"score":0,"last_activity_date":1700654918,"creation_date":1700650966,"question_id":77529375,"body_markdown":"I am trying to code a little RPG and I&#39;m stuck at getting images to my game. I have a problem with loading a tileset. I wrote a tileSet class, but I the tileset is always null. \r\n\r\nCheck my code, maybe someone could find the problem. \r\n\r\nTileSet class: \r\n\r\n```\r\nimport java.awt.Graphics;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.*;\r\nimport javax.imageio.ImageIO;\r\n\r\npublic class TileSet {\r\n\r\npublic static final int TILEWIDTH = 64, TILEHEIGHT = 64;\r\n\r\n  private BufferedImage[] tiles;\r\n  \r\n  BufferedImage tileSet;\r\n  \r\n  public TileSet(String path, int sizeX, int sizeY) {\r\n    tiles = new BufferedImage[sizeX * sizeY];  \r\n   try {\r\n       tileSet = ImageIO.read(TileSet.class.getResource(path));\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n      return;\r\n    }\r\n\r\n    int i = 0;\r\n    for(int y = 0; y &lt; sizeY; y++) {\r\n      for(int x = 0; x &lt; sizeX; x++) {\r\n        tiles[i++] = tileSet.getSubimage(x * (TILEWIDTH + 3), y * (TILEHEIGHT + 3),\r\n              TILEWIDTH, TILEHEIGHT);\r\n      }\r\n    }\r\n  }\r\n  public void renderTile(Graphics g, int tileNum, int x, int y){\r\n    g.drawImage(tiles[tileNum], x, y, TILEWIDTH, TILEHEIGHT, null);\r\n  }\r\n}\r\n```\r\n\r\nMain class: \r\n\r\n\r\n```\r\npackage rpgame;\r\n\r\nimport java.awt.Canvas;\r\nimport java.awt.Graphics;\r\nimport java.awt.image.BufferStrategy;\r\nimport java.awt.image.BufferedImage;\r\n\r\npublic class RPGame implements Runnable {\r\n public static final int FPS = 60;\r\n public static final long maxLoopTime = 1000 / FPS;\r\n public static final int SCREEN_WIDTH = 640;\r\n public static final int SCREEN_HEIGHT = 640;\r\n  \r\n public Screen screen; \r\n\r\n  public static void main(String[] arg) {\r\n  RPGame game = new RPGame();\r\n  new Thread(game).start();\r\n }\r\n Level level;\r\n @Override\r\n public void run() {\r\n  long timestamp;\r\n  long oldTimestamp;\r\n  BufferedImage playerImages;\r\n  screen = new Screen(&quot;Game&quot;, SCREEN_WIDTH, SCREEN_HEIGHT);\r\n\r\n    TileSet tileSet = new TileSet(&quot;/tiles/rpg.webp&quot;, 12, 12);\r\n    level = new Level(&quot;/level/level1.txt&quot;, tileSet);\r\n\r\n\r\n  while(true) {\r\n   oldTimestamp = System.currentTimeMillis();\r\n   update();\r\n   timestamp = System.currentTimeMillis();\r\n   if(timestamp-oldTimestamp &gt; maxLoopTime) {\r\n    System.out.println(&quot;Wir sind zu sp&#228;t!&quot;);\r\n    continue;\r\n   }\r\n   render();\r\n   timestamp = System.currentTimeMillis();\r\n   System.out.println(maxLoopTime + &quot; : &quot; + (timestamp-oldTimestamp));\r\n   if(timestamp-oldTimestamp &lt;= maxLoopTime) {\r\n    try {\r\n     Thread.sleep(maxLoopTime - (timestamp-oldTimestamp) );\r\n    } catch (InterruptedException e) {\r\n     e.printStackTrace();\r\n    }\r\n   }\r\n  }\r\n }\r\n\r\n void update() {\r\n  try {\r\n    Thread.sleep(15);\r\n  } catch (InterruptedException e) {\r\n    e.printStackTrace();\r\n  };\r\n }\r\n BufferStrategy bs;\r\n Graphics g;\r\n void render() {\r\n  Canvas c = screen.getCanvas();\r\n  // c.setBackground(Color.blue);\r\n  bs = c.getBufferStrategy();\r\n  if(bs == null){\r\n   screen.getCanvas().createBufferStrategy(3);\r\n   return;\r\n  }\r\n  g = bs.getDrawGraphics();\r\n  //Clear Screen\r\n  g.clearRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);\r\n  level.renderMap(g);\r\n  bs.show();\r\n  g.dispose();\r\n }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI have tried to change the path of the image file / working with File class. ","title":"java.lang.NullPointerException: Cannot invoke &quot;java.awt.image.BufferedImage.getSubimage(int, int, int, int)&quot; because &quot;this.tileSet&quot; is null","body":"<p>I am trying to code a little RPG and I'm stuck at getting images to my game. I have a problem with loading a tileset. I wrote a tileSet class, but I the tileset is always null.</p>\n<p>Check my code, maybe someone could find the problem.</p>\n<p>TileSet class:</p>\n<pre><code>import java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport java.io.*;\nimport javax.imageio.ImageIO;\n\npublic class TileSet {\n\npublic static final int TILEWIDTH = 64, TILEHEIGHT = 64;\n\n  private BufferedImage[] tiles;\n  \n  BufferedImage tileSet;\n  \n  public TileSet(String path, int sizeX, int sizeY) {\n    tiles = new BufferedImage[sizeX * sizeY];  \n   try {\n       tileSet = ImageIO.read(TileSet.class.getResource(path));\n    } catch (IOException e) {\n      e.printStackTrace();\n      return;\n    }\n\n    int i = 0;\n    for(int y = 0; y &lt; sizeY; y++) {\n      for(int x = 0; x &lt; sizeX; x++) {\n        tiles[i++] = tileSet.getSubimage(x * (TILEWIDTH + 3), y * (TILEHEIGHT + 3),\n              TILEWIDTH, TILEHEIGHT);\n      }\n    }\n  }\n  public void renderTile(Graphics g, int tileNum, int x, int y){\n    g.drawImage(tiles[tileNum], x, y, TILEWIDTH, TILEHEIGHT, null);\n  }\n}\n</code></pre>\n<p>Main class:</p>\n<pre><code>package rpgame;\n\nimport java.awt.Canvas;\nimport java.awt.Graphics;\nimport java.awt.image.BufferStrategy;\nimport java.awt.image.BufferedImage;\n\npublic class RPGame implements Runnable {\n public static final int FPS = 60;\n public static final long maxLoopTime = 1000 / FPS;\n public static final int SCREEN_WIDTH = 640;\n public static final int SCREEN_HEIGHT = 640;\n  \n public Screen screen; \n\n  public static void main(String[] arg) {\n  RPGame game = new RPGame();\n  new Thread(game).start();\n }\n Level level;\n @Override\n public void run() {\n  long timestamp;\n  long oldTimestamp;\n  BufferedImage playerImages;\n  screen = new Screen(&quot;Game&quot;, SCREEN_WIDTH, SCREEN_HEIGHT);\n\n    TileSet tileSet = new TileSet(&quot;/tiles/rpg.webp&quot;, 12, 12);\n    level = new Level(&quot;/level/level1.txt&quot;, tileSet);\n\n\n  while(true) {\n   oldTimestamp = System.currentTimeMillis();\n   update();\n   timestamp = System.currentTimeMillis();\n   if(timestamp-oldTimestamp &gt; maxLoopTime) {\n    System.out.println(&quot;Wir sind zu spät!&quot;);\n    continue;\n   }\n   render();\n   timestamp = System.currentTimeMillis();\n   System.out.println(maxLoopTime + &quot; : &quot; + (timestamp-oldTimestamp));\n   if(timestamp-oldTimestamp &lt;= maxLoopTime) {\n    try {\n     Thread.sleep(maxLoopTime - (timestamp-oldTimestamp) );\n    } catch (InterruptedException e) {\n     e.printStackTrace();\n    }\n   }\n  }\n }\n\n void update() {\n  try {\n    Thread.sleep(15);\n  } catch (InterruptedException e) {\n    e.printStackTrace();\n  };\n }\n BufferStrategy bs;\n Graphics g;\n void render() {\n  Canvas c = screen.getCanvas();\n  // c.setBackground(Color.blue);\n  bs = c.getBufferStrategy();\n  if(bs == null){\n   screen.getCanvas().createBufferStrategy(3);\n   return;\n  }\n  g = bs.getDrawGraphics();\n  //Clear Screen\n  g.clearRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);\n  level.renderMap(g);\n  bs.show();\n  g.dispose();\n }\n\n}\n</code></pre>\n<p>I have tried to change the path of the image file / working with File class.</p>\n"},{"tags":["java","android-studio","android-spinner"],"owner":{"account_id":20863960,"reputation":71,"user_id":15325494,"display_name":"Dlyze I"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700654853,"creation_date":1700654853,"question_id":77529819,"body_markdown":"The method isn&#39;t running even though there isn&#39;t any errors in logcat i know there are questions like this one although none of them helped me\r\n\r\n\r\n``` \r\npublic class AddPlayerFragment extends Fragment implements View.OnClickListener,AdapterView.OnItemSelectedListener {\r\n    EditText playerName, playerAge, playerMvps, playerChampions, playerPoints;\r\n    Button addPlayer;\r\n    Spinner playerTeam;\r\n    DatabaseReference mDatabase;\r\n    ArrayList&lt;String&gt; teamNames,teamId;\r\n    String selectedId;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View v = inflater.inflate(R.layout.fragment_add_player, container, false);\r\n\r\n        mDatabase = FirebaseDatabase.getInstance(&quot;https://aminandroid-45afc-default-rtdb.europe-west1.firebasedatabase.app/&quot;).getReference();\r\n\r\n        playerName = (EditText) v.findViewById(R.id.addplayer_name);\r\n        playerAge = (EditText) v.findViewById(R.id.addplayer_age);\r\n        playerChampions = (EditText) v.findViewById(R.id.addplayer_champions);\r\n        playerPoints = (EditText) v.findViewById(R.id.addplayer_points);\r\n        playerMvps = (EditText) v.findViewById(R.id.addplayer_mvps);\r\n        playerTeam = (Spinner) v.findViewById(R.id.addplayer_team);\r\n        addPlayer = (Button) v.findViewById(R.id.addplayer_button);\r\n\r\n\r\n        addPlayer.setOnClickListener(this);\r\n        fillTeamsNameAndId();\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getContext(), android.R.layout.simple_spinner_dropdown_item, teamNames);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        playerTeam.setAdapter(adapter);\r\n        playerTeam.setOnItemSelectedListener(this);\r\n\r\n        return v;\r\n    }\r\n```\r\nThis method here fills the Array list &quot;teamName&quot; that is used in the ArrayAdapter in the spinner and the arraylist &quot;teamId&quot; that i use somewhere else in the code\r\n```\r\n    private void fillTeamsNameAndId(){\r\n        teamNames = new ArrayList&lt;String&gt;();\r\n        teamId = new ArrayList&lt;String&gt;();\r\n        mDatabase.child(&quot;Teams&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot ds : snapshot.getChildren()) {\r\n                    String name = String.valueOf(ds.child(&quot;name&quot;).getValue());\r\n                    String id = String.valueOf(ds.child(&quot;tid&quot;).getValue());\r\n                    teamNames.add(name);\r\n                    teamId.add(id);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n   \r\n```\r\nThis is the OnItemSelected Method that isn&#39;t being called i put all of the code above in case the error is there and not in the method code since i triple checked the documentation and it matches the code here\r\n```\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n        Log.d(&quot;item&quot;, &quot;dddddd&quot;);\r\n        ((TextView) adapterView.getChildAt(i)).setTextColor(Color.BLACK);\r\n        selectedId = teamId.get(i);\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n    }\r\n}\r\n ```","title":"Spinner OnItemSelected method isn&#39;t calling in a Fragment","body":"<p>The method isn't running even though there isn't any errors in logcat i know there are questions like this one although none of them helped me</p>\n<pre><code>public class AddPlayerFragment extends Fragment implements View.OnClickListener,AdapterView.OnItemSelectedListener {\n    EditText playerName, playerAge, playerMvps, playerChampions, playerPoints;\n    Button addPlayer;\n    Spinner playerTeam;\n    DatabaseReference mDatabase;\n    ArrayList&lt;String&gt; teamNames,teamId;\n    String selectedId;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View v = inflater.inflate(R.layout.fragment_add_player, container, false);\n\n        mDatabase = FirebaseDatabase.getInstance(&quot;https://aminandroid-45afc-default-rtdb.europe-west1.firebasedatabase.app/&quot;).getReference();\n\n        playerName = (EditText) v.findViewById(R.id.addplayer_name);\n        playerAge = (EditText) v.findViewById(R.id.addplayer_age);\n        playerChampions = (EditText) v.findViewById(R.id.addplayer_champions);\n        playerPoints = (EditText) v.findViewById(R.id.addplayer_points);\n        playerMvps = (EditText) v.findViewById(R.id.addplayer_mvps);\n        playerTeam = (Spinner) v.findViewById(R.id.addplayer_team);\n        addPlayer = (Button) v.findViewById(R.id.addplayer_button);\n\n\n        addPlayer.setOnClickListener(this);\n        fillTeamsNameAndId();\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getContext(), android.R.layout.simple_spinner_dropdown_item, teamNames);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        playerTeam.setAdapter(adapter);\n        playerTeam.setOnItemSelectedListener(this);\n\n        return v;\n    }\n</code></pre>\n<p>This method here fills the Array list &quot;teamName&quot; that is used in the ArrayAdapter in the spinner and the arraylist &quot;teamId&quot; that i use somewhere else in the code</p>\n<pre><code>    private void fillTeamsNameAndId(){\n        teamNames = new ArrayList&lt;String&gt;();\n        teamId = new ArrayList&lt;String&gt;();\n        mDatabase.child(&quot;Teams&quot;).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot ds : snapshot.getChildren()) {\n                    String name = String.valueOf(ds.child(&quot;name&quot;).getValue());\n                    String id = String.valueOf(ds.child(&quot;tid&quot;).getValue());\n                    teamNames.add(name);\n                    teamId.add(id);\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n   \n</code></pre>\n<p>This is the OnItemSelected Method that isn't being called i put all of the code above in case the error is there and not in the method code since i triple checked the documentation and it matches the code here</p>\n<pre><code>    @Override\n    public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n        Log.d(&quot;item&quot;, &quot;dddddd&quot;);\n        ((TextView) adapterView.getChildAt(i)).setTextColor(Color.BLACK);\n        selectedId = teamId.get(i);\n    }\n\n    @Override\n    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","http","get","okhttp"],"comments":[{"owner":{"account_id":1129364,"reputation":1044,"user_id":2768482,"accept_rate":56,"display_name":"Thamilan S"},"score":2,"creation_date":1479715371,"post_id":34072774,"comment_id":68658017,"body_markdown":"Is your emulator configured with any proxy? For I&#39;m getting this error only when enabled the proxy otherwise working fine.","body":"Is your emulator configured with any proxy? For I&#39;m getting this error only when enabled the proxy otherwise working fine."}],"answers":[{"comments":[{"owner":{"account_id":1034061,"reputation":2899,"user_id":1041802,"accept_rate":71,"display_name":"Pepa Zapletal"},"score":0,"creation_date":1449220189,"post_id":34080305,"comment_id":55921556,"body_markdown":"I&#39;m using similar code and it does not work. Url is http://th.it-bedna.cz/api/v2/event/1/user?i=8 Can you try it with this url?","body":"I&#39;m using similar code and it does not work. Url is <a href=\"http://th.it-bedna.cz/api/v2/event/1/user?i=8\" rel=\"nofollow noreferrer\">th.it-bedna.cz/api/v2/event/1/user?i=8</a> Can you try it with this url?"},{"owner":{"account_id":5439735,"reputation":24034,"user_id":4328123,"accept_rate":82,"display_name":"BNK"},"score":0,"creation_date":1449220441,"post_id":34080305,"comment_id":55921681,"body_markdown":"Working with `http://th.it-bedna.cz/api/v2/event/1/user`, the logcat `2-04 16:17:11.465 1544-1558/com.example.asyncokhttp W/OkHttp: {&quot;status&quot;:1}\n12-04 16:17:11.465 1544-1558/com.example.asyncokhttp I/OkHttp: Response{protocol=http/1.1, code=200, message=OK, url=http://th.it-bedna.cz/api/v2/event/1/user}`","body":"Working with <code>http:&#47;&#47;th.it-bedna.cz&#47;api&#47;v2&#47;event&#47;1&#47;user</code>, the logcat <code>2-04 16:17:11.465 1544-1558&#47;com.example.asyncokhttp W&#47;OkHttp: {&quot;status&quot;:1} 12-04 16:17:11.465 1544-1558&#47;com.example.asyncokhttp I&#47;OkHttp: Response{protocol=http&#47;1.1, code=200, message=OK, url=http:&#47;&#47;th.it-bedna.cz&#47;api&#47;v2&#47;event&#47;1&#47;user}</code>"},{"owner":{"account_id":5439735,"reputation":24034,"user_id":4328123,"accept_rate":82,"display_name":"BNK"},"score":0,"creation_date":1449220649,"post_id":34080305,"comment_id":55921796,"body_markdown":"Ah, I have justed test with `http://th.it-bedna.cz/api/v2/event/1/user?i=8` in my Android app, it works with the same logcat above","body":"Ah, I have justed test with <code>http:&#47;&#47;th.it-bedna.cz&#47;api&#47;v2&#47;event&#47;1&#47;user?i=8</code> in my Android app, it works with the same logcat above"},{"owner":{"account_id":1034061,"reputation":2899,"user_id":1041802,"accept_rate":71,"display_name":"Pepa Zapletal"},"score":0,"creation_date":1449222161,"post_id":34080305,"comment_id":55922629,"body_markdown":"Oh...it&#39;s weird. I will have to look at it more. Do you have some tip where can be a problem?","body":"Oh...it&#39;s weird. I will have to look at it more. Do you have some tip where can be a problem?"},{"owner":{"account_id":5439735,"reputation":24034,"user_id":4328123,"accept_rate":82,"display_name":"BNK"},"score":0,"creation_date":1449223261,"post_id":34080305,"comment_id":55923351,"body_markdown":"Not yet, pls post more code where caused that exception.","body":"Not yet, pls post more code where caused that exception."},{"owner":{"account_id":5439735,"reputation":24034,"user_id":4328123,"accept_rate":82,"display_name":"BNK"},"score":0,"creation_date":1449234630,"post_id":34080305,"comment_id":55930247,"body_markdown":"I suggest you use my code, it&#39;s working with your url (`http://th.it-bedna.cz/api/v2/event/1/user?i=8`)","body":"I suggest you use my code, it&#39;s working with your url (<code>http:&#47;&#47;th.it-bedna.cz&#47;api&#47;v2&#47;event&#47;1&#47;user?i=8</code>)"},{"owner":{"account_id":5439735,"reputation":24034,"user_id":4328123,"accept_rate":82,"display_name":"BNK"},"score":0,"creation_date":1449241621,"post_id":34080305,"comment_id":55934819,"body_markdown":"Have you set INTERNET permission in the AndroidManifest.xml file?","body":"Have you set INTERNET permission in the AndroidManifest.xml file?"},{"owner":{"account_id":1034061,"reputation":2899,"user_id":1041802,"accept_rate":71,"display_name":"Pepa Zapletal"},"score":0,"creation_date":1449243869,"post_id":34080305,"comment_id":55936393,"body_markdown":"Yes, I have INTERNET permission. I don&#39;t know where can be a problem. I tried a lot of different &quot;solutions&quot;.","body":"Yes, I have INTERNET permission. I don&#39;t know where can be a problem. I tried a lot of different &quot;solutions&quot;."},{"owner":{"account_id":1034061,"reputation":2899,"user_id":1041802,"accept_rate":71,"display_name":"Pepa Zapletal"},"score":0,"creation_date":1449244794,"post_id":34080305,"comment_id":55937014,"body_markdown":"And you added to the Gradle dependecies only &quot;compile &#39;com.squareup.okhttp:okhttp:2.6.0&#39; &quot;?","body":"And you added to the Gradle dependecies only &quot;compile &#39;com.squareup.okhttp:okhttp:2.6.0&#39; &quot;?"},{"owner":{"account_id":5439735,"reputation":24034,"user_id":4328123,"accept_rate":82,"display_name":"BNK"},"score":0,"creation_date":1449277162,"post_id":34080305,"comment_id":55951962,"body_markdown":"Yes, `dependencies {\n    compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\n    compile &#39;com.android.support:appcompat-v7:23.1.1&#39;\n    compile &#39;com.squareup.okhttp:okhttp:2.6.0&#39;\n}` have you tried in another device/emulator with different API yet? Pls post your full project to google drive/onedrive... so that I can check more","body":"Yes, <code>dependencies {     compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])     compile &#39;com.android.support:appcompat-v7:23.1.1&#39;     compile &#39;com.squareup.okhttp:okhttp:2.6.0&#39; }</code> have you tried in another device/emulator with different API yet? Pls post your full project to google drive/onedrive... so that I can check more"},{"owner":{"account_id":429232,"reputation":1740,"user_id":812013,"accept_rate":62,"display_name":"Chucky"},"score":0,"creation_date":1547734880,"post_id":34080305,"comment_id":95300381,"body_markdown":"OkHttpClient.SetRetryOnConnectionFailure(true);\n\nSource: The issue raised on Github and this answer: https://github.com/square/okhttp/issues/1517#issuecomment-144069139","body":"OkHttpClient.SetRetryOnConnectionFailure(true);  Source: The issue raised on Github and this answer: <a href=\"https://github.com/square/okhttp/issues/1517#issuecomment-144069139\" rel=\"nofollow noreferrer\">github.com/square/okhttp/issues/1517#issuecomment-144069139</a>"}],"tags":[],"owner":{"account_id":5439735,"reputation":24034,"user_id":4328123,"accept_rate":82,"display_name":"BNK"},"comment_count":11,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449198945,"creation_date":1449198945,"answer_id":34080305,"question_id":34072774,"body_markdown":"If your server is `th.it-bedna.cz` as in your logcat info, you can try the following code:\r\n\r\n            OkHttpClient client = new OkHttpClient();\r\n            // GET request\r\n            Request request = new Request.Builder()\r\n                    .url(&quot;http://th.it-bedna.cz&quot;)\r\n                    .build();\r\n            client.newCall(request).enqueue(new Callback() {\r\n                @Override\r\n                public void onFailure(Request request, IOException e) {\r\n                    Log.e(LOG_TAG, e.toString());\r\n                }\r\n                @Override\r\n                public void onResponse(Response response) throws IOException {\r\n                    Log.w(LOG_TAG, response.body().string());\r\n                    Log.i(LOG_TAG, response.toString());\r\n                }\r\n            });","title":"Android OkHttp library: GET Request - Exception EOFException: \\n not found: size=0 content=","body":"<p>If your server is <code>th.it-bedna.cz</code> as in your logcat info, you can try the following code:</p>\n\n<pre><code>        OkHttpClient client = new OkHttpClient();\n        // GET request\n        Request request = new Request.Builder()\n                .url(\"http://th.it-bedna.cz\")\n                .build();\n        client.newCall(request).enqueue(new Callback() {\n            @Override\n            public void onFailure(Request request, IOException e) {\n                Log.e(LOG_TAG, e.toString());\n            }\n            @Override\n            public void onResponse(Response response) throws IOException {\n                Log.w(LOG_TAG, response.body().string());\n                Log.i(LOG_TAG, response.toString());\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":184486,"reputation":3546,"user_id":420560,"display_name":"m-szalik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457660670,"creation_date":1457660670,"answer_id":35930776,"question_id":34072774,"body_markdown":"I had the same issue with **OkHttpClient** and **HttpURLConnection**.\r\nMy android emulator was configured to use proxy, but my proxy wasn&#39;t accepting connections.\r\n\r\nDoesn&#39;t mater if you use proxy or not if destination host refuses connection you will get that exception.\r\n\r\n","title":"Android OkHttp library: GET Request - Exception EOFException: \\n not found: size=0 content=","body":"<p>I had the same issue with <strong>OkHttpClient</strong> and <strong>HttpURLConnection</strong>.\nMy android emulator was configured to use proxy, but my proxy wasn't accepting connections.</p>\n\n<p>Doesn't mater if you use proxy or not if destination host refuses connection you will get that exception.</p>\n"}],"owner":{"account_id":1034061,"reputation":2899,"user_id":1041802,"accept_rate":71,"display_name":"Pepa Zapletal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8147,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1700654645,"creation_date":1449164768,"question_id":34072774,"body_markdown":"I&#39;m using in my app OkHttp library (http://square.github.io/okhttp/) and in one simple GET request I get this exception:\r\n\r\n    Caused by: java.io.EOFException: \\n not found: size=0 content=...\r\n       at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:201)\r\n       at com.squareup.okhttp.internal.http.HttpConnection.readResponse(HttpConnection.java:191)\r\n       ...\r\n\r\n    unexpected end of stream on Connection{th.it-bedna.cz:80, proxy=DIRECT@ hostAddress=85.118.128.42 cipherSuite=none protocol=http/1.1} (recycle count=0)\r\n\r\nOther Get requests to the same address works OK. And if I type this request to the Chrome it works also OK. Do you know where is a problem?\r\n\r\nThanks for any advice.\r\n\r\nEdit: code of the GET\r\n\r\n    public Call doGetRequest(String url, Callback callback) {\r\n        com.squareup.okhttp.Request request = new com.squareup.okhttp.Request.Builder()\r\n                .url(url)\r\n                .build();\r\n\r\n        Call call = client.newCall(request);\r\n        call.enqueue(callback);\r\n        return call;\r\n    }\r\n\r\nUsing:\r\n\r\n    void getData()\r\n    {\r\n        String url = &quot;http://th.it-bedna.cz/api/v2/event/1/user?i=8&quot;;\r\n        Singleton.getInstance().doGetRequest(url, new Callback() {\r\n            @Override\r\n            public void onFailure(Request request, IOException e) {\r\n                Log.i(&quot;CDT&quot;, &quot;onFailure: &quot; + e);\r\n            }\r\n\r\n            @Override\r\n            public void onResponse(Response response) throws IOException {\r\n            }\r\n        });\r\n    }","title":"Android OkHttp library: GET Request - Exception EOFException: \\n not found: size=0 content=","body":"<p>I'm using in my app OkHttp library (<a href=\"http://square.github.io/okhttp/\" rel=\"noreferrer\">http://square.github.io/okhttp/</a>) and in one simple GET request I get this exception:</p>\n\n<pre><code>Caused by: java.io.EOFException: \\n not found: size=0 content=...\n   at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:201)\n   at com.squareup.okhttp.internal.http.HttpConnection.readResponse(HttpConnection.java:191)\n   ...\n\nunexpected end of stream on Connection{th.it-bedna.cz:80, proxy=DIRECT@ hostAddress=85.118.128.42 cipherSuite=none protocol=http/1.1} (recycle count=0)\n</code></pre>\n\n<p>Other Get requests to the same address works OK. And if I type this request to the Chrome it works also OK. Do you know where is a problem?</p>\n\n<p>Thanks for any advice.</p>\n\n<p>Edit: code of the GET</p>\n\n<pre><code>public Call doGetRequest(String url, Callback callback) {\n    com.squareup.okhttp.Request request = new com.squareup.okhttp.Request.Builder()\n            .url(url)\n            .build();\n\n    Call call = client.newCall(request);\n    call.enqueue(callback);\n    return call;\n}\n</code></pre>\n\n<p>Using:</p>\n\n<pre><code>void getData()\n{\n    String url = \"http://th.it-bedna.cz/api/v2/event/1/user?i=8\";\n    Singleton.getInstance().doGetRequest(url, new Callback() {\n        @Override\n        public void onFailure(Request request, IOException e) {\n            Log.i(\"CDT\", \"onFailure: \" + e);\n        }\n\n        @Override\n        public void onResponse(Response response) throws IOException {\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","android-recyclerview"],"owner":{"account_id":29903027,"reputation":1,"user_id":22916292,"display_name":"Gae"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700654399,"creation_date":1699989451,"question_id":77483286,"body_markdown":"What I&#39;m trying to do is to enable drag and drop on a recyclerview when the user enter in action mode.\r\nEdit: I heavily refactored my code, however the problem persist. Whenever the list of the adapter is modified, onBindViewHolder doesn&#39;t set the imageview as visible. Here is the updated code:\r\n\r\n```\r\npublic abstract class DragAndDropListAdapter&lt;T extends Identifiable, VH extends DragAndDropViewHolder&gt;\r\n        extends ListAdapter&lt;T, VH&gt; implements ItemTouchHelperListener {\r\n\r\n    private final ItemTouchHelper itemTouchHelper;\r\n    private boolean dragEnabled;\r\n\r\n    public DragAndDropListAdapter(RecyclerView recyclerView) {\r\n        super(new DiffUtilCallback&lt;&gt;());\r\n        DragAndDropCallback callback = new DragAndDropCallback(this);\r\n        itemTouchHelper = new ItemTouchHelper(callback);\r\n        itemTouchHelper.attachToRecyclerView(recyclerView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull VH holder, int position) {\r\n        holder.bind(dragEnabled, itemTouchHelper);\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return getCurrentList().get(position).getId();\r\n    }\r\n\r\n    @Override\r\n    public void swapCards(int fromPosition, int toPosition) {\r\n        ArrayList&lt;T&gt; list = new ArrayList&lt;&gt;(getCurrentList());\r\n        Collections.swap(list, fromPosition, toPosition);\r\n        submitList(list);\r\n    }\r\n\r\n    public void setDragEnabled(boolean dragEnabled) {\r\n        this.dragEnabled = dragEnabled;\r\n        notifyItemRangeChanged(0, getItemCount());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nabstract class DragAndDropViewHolder extends RecyclerView.ViewHolder {\r\n\r\n    final ImageView handle;\r\n    private ItemTouchHelper itemTouchHelper;\r\n\r\n    public DragAndDropViewHolder(@NonNull View itemView) {\r\n        super(itemView);\r\n        handle = itemView.findViewById(R.id.item_drag_handle);\r\n        handle.setOnTouchListener(new View.OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View view, MotionEvent motionEvent) {\r\n                view.performClick();\r\n                if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {\r\n                    itemTouchHelper.startDrag(DragAndDropViewHolder.this);\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    public void bind(boolean dragEnabled, ItemTouchHelper itemTouchHelper) {\r\n        handle.setVisibility(dragEnabled ? View.VISIBLE : View.INVISIBLE);\r\n        this.itemTouchHelper = itemTouchHelper;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"onBindViewHolder doesn&#39;t change visibility of ImageView","body":"<p>What I'm trying to do is to enable drag and drop on a recyclerview when the user enter in action mode.\nEdit: I heavily refactored my code, however the problem persist. Whenever the list of the adapter is modified, onBindViewHolder doesn't set the imageview as visible. Here is the updated code:</p>\n<pre><code>public abstract class DragAndDropListAdapter&lt;T extends Identifiable, VH extends DragAndDropViewHolder&gt;\n        extends ListAdapter&lt;T, VH&gt; implements ItemTouchHelperListener {\n\n    private final ItemTouchHelper itemTouchHelper;\n    private boolean dragEnabled;\n\n    public DragAndDropListAdapter(RecyclerView recyclerView) {\n        super(new DiffUtilCallback&lt;&gt;());\n        DragAndDropCallback callback = new DragAndDropCallback(this);\n        itemTouchHelper = new ItemTouchHelper(callback);\n        itemTouchHelper.attachToRecyclerView(recyclerView);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull VH holder, int position) {\n        holder.bind(dragEnabled, itemTouchHelper);\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return getCurrentList().get(position).getId();\n    }\n\n    @Override\n    public void swapCards(int fromPosition, int toPosition) {\n        ArrayList&lt;T&gt; list = new ArrayList&lt;&gt;(getCurrentList());\n        Collections.swap(list, fromPosition, toPosition);\n        submitList(list);\n    }\n\n    public void setDragEnabled(boolean dragEnabled) {\n        this.dragEnabled = dragEnabled;\n        notifyItemRangeChanged(0, getItemCount());\n    }\n\n}\n\n</code></pre>\n<pre><code>abstract class DragAndDropViewHolder extends RecyclerView.ViewHolder {\n\n    final ImageView handle;\n    private ItemTouchHelper itemTouchHelper;\n\n    public DragAndDropViewHolder(@NonNull View itemView) {\n        super(itemView);\n        handle = itemView.findViewById(R.id.item_drag_handle);\n        handle.setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View view, MotionEvent motionEvent) {\n                view.performClick();\n                if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {\n                    itemTouchHelper.startDrag(DragAndDropViewHolder.this);\n                    return true;\n                }\n                return false;\n            }\n        });\n    }\n\n    public void bind(boolean dragEnabled, ItemTouchHelper itemTouchHelper) {\n        handle.setVisibility(dragEnabled ? View.VISIBLE : View.INVISIBLE);\n        this.itemTouchHelper = itemTouchHelper;\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","guice","byte-buddy"],"answers":[{"comments":[{"owner":{"account_id":25627830,"reputation":59,"user_id":19398668,"display_name":"Vegan Vegeta"},"score":0,"creation_date":1700695952,"post_id":77529692,"comment_id":136687667,"body_markdown":"Thanks! This helped, plus when creating the subclass I was sending the impl class when ideally it should have been the interface class because the instantiation of the proxied object was failing after removing the second line.","body":"Thanks! This helped, plus when creating the subclass I was sending the impl class when ideally it should have been the interface class because the instantiation of the proxied object was failing after removing the second line."}],"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700653737,"creation_date":1700653737,"answer_id":77529692,"question_id":77526231,"body_markdown":"You are running this code:\r\n\r\n    .subclass(target.getClass())\r\n    .implement(target.getClass())\r\n\r\nA direct type will never be an interface, so just delete the second line. ","title":"ByteBuddy Proxy instance Guice Injection Error","body":"<p>You are running this code:</p>\n<pre><code>.subclass(target.getClass())\n.implement(target.getClass())\n</code></pre>\n<p>A direct type will never be an interface, so just delete the second line.</p>\n"}],"owner":{"account_id":25627830,"reputation":59,"user_id":19398668,"display_name":"Vegan Vegeta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77529692,"answer_count":1,"score":0,"last_activity_date":1700653737,"creation_date":1700604815,"question_id":77526231,"body_markdown":"I have a service where Guice handles the dependency injection for the service. I have a use case where for one the beans being injected via Guice I have to mock/proxy one of the method calls for that bean. I am trying to do this via Byte-Buddy and its method interception. Initially I tried to proxy the method calls via CGLib and was able to make it work. But when I tried to move to Byte-Buddy since CGLib is deprecated and they recommend Byte-Buddy, the guice injector is rejecting the proxied bean for it.\r\n\r\nThis is the error I am getting - \r\n\r\n```\r\nCaused by: com.google.inject.CreationException: Unable to create injector, see the following errors:\r\n\r\n1) [Guice/ErrorInCustomProvider]: IllegalStateException: Illegal interface class DependencyClientImpl for class DependencyClientImpl$ByteBuddy$EAI3cbku\r\n  at ClientModule.getDependencyClient(ClientModule.java:146)\r\n\r\nat com.google.inject.internal.Errors.throwCreationExceptionIfErrorsExist(Unknown Source)\r\n\tat com.google.inject.internal.InternalInjectorCreator.injectDynamically(Unknown Source)\r\n\tat com.google.inject.internal.InternalInjectorCreator.build(Unknown Source)\r\n\tat com.google.inject.Guice.createInjector(Unknown Source)\r\n\tat com.google.inject.Guice.createInjector(Unknown Source)\r\n\tat com.google.inject.Guice.createInjector(Unknown Source)\r\n\tat com.vegeta.myservice.MyService.main(MyService.java:55)\r\n\t... 5 more\r\nCaused by: java.lang.IllegalStateException: Illegal interface class com.vegeta.dependencyservice.DependencyClientImplfor class com.vegeta.dependencyservice.DependencyClientImpl$ByteBuddy$EAI3cbku\r\n\tat net.bytebuddy.dynamic.scaffold.InstrumentedType$Default.validated(InstrumentedType.java:1572)\r\n\tat net.bytebuddy.dynamic.scaffold.MethodRegistry$Default.prepare(MethodRegistry.java:519)\r\n\tat net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.toTypeWriter(SubclassDynamicTypeBuilder.java:212)\r\n\tat net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.toTypeWriter(SubclassDynamicTypeBuilder.java:203)\r\n\tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$UsingTypeWriter.make(DynamicType.java:4050)\r\n\tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:3734)\r\n\tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:3986)\r\n\tat com.vegeta.myservice.bytebuddy.ProxyBuilder.createProxy(ProxyBuilder.java:19)\r\n\tat com.vegeta.myservice.module.ClientModule.getDependencyClient(ClientModule.java:160)\r\n\tat com.vegeta.myservice.module.ClientModule$$FastClassByGuice$$5d163b.GUICE$TRAMPOLINE(&lt;generated&gt;)\r\n\tat com.vegeta.myservice.module.ClientModule$$FastClassByGuice$$5d163b.apply(&lt;generated&gt;)\r\n\tat com.google.inject.internal.ProviderMethod$FastClassProviderMethod.doProvision(Unknown Source)\r\n\tat com.google.inject.internal.ProviderMethod.doProvision(Unknown Source)\r\n\tat com.google.inject.internal.InternalProviderInstanceBindingImpl$CyclicFactory.provision(Unknown Source)\r\n\tat com.google.inject.internal.InternalProviderInstanceBindingImpl$CyclicFactory.get(Unknown Source)\r\n\tat com.google.inject.internal.ProviderToInternalFactoryAdapter.get(Unknown Source)\r\n\tat com.google.inject.internal.SingletonScope$1.get(Unknown Source)\r\n\tat com.google.inject.internal.InternalFactoryToProviderAdapter.get(Unknown Source)\r\n\tat com.google.inject.internal.SingleParameterInjector.inject(Unknown Source)\r\n\tat com.google.inject.internal.SingleParameterInjector.getAll(Unknown Source)\r\n\tat com.google.inject.internal.ConstructorInjector.provision(Unknown Source)\r\n\tat com.google.inject.internal.ConstructorInjector.construct(Unknown Source)\r\n\tat com.google.inject.internal.ConstructorBindingImpl$Factory.get(Unknown Source)\r\n\tat com.google.inject.internal.FactoryProxy.get(Unknown Source)\r\n\tat com.google.inject.internal.ProviderToInternalFactoryAdapter.get(Unknown Source)\r\n\tat com.google.inject.internal.SingletonScope$1.get(Unknown Source)\r\n\tat com.google.inject.internal.InternalFactoryToProviderAdapter.get(Unknown Source)\r\n\tat com.google.inject.internal.InternalInjectorCreator.loadEagerSingletons(Unknown Source)\r\n```\r\n\r\nThe code I have written is as follows - \r\n\r\n```\r\npublic class ClientModule extends AbstractModule {\r\n    @Provides\r\n    @Singleton\r\n    DependencyClient getDependencyClient()\r\n            throws InvocationTargetException, IllegalAccessException, NoSuchMethodException, InstantiationException {\r\n        DependencyClient rawObject =  new ClientBuilder().newClient();\r\n        return ProxyBuilder.createProxy(rawObject, new DependencyInterceptorByteBuddy());\r\n    }\r\n}\r\n\r\npublic interface ProxyInterceptorByteBuddy {\r\n    Object intercept(Callable&lt;?&gt; clazz, Method method) throws Exception;\r\n}\r\n\r\n\r\npublic class DependencyInterceptorByteBuddy implements ProxyInterceptorByteBuddy {\r\n\r\n    @Override\r\n    @RuntimeType\r\n    public Object intercept(@SuperCall Callable&lt;?&gt; clazz, @Origin Method method) throws Exception {\r\n        if (&quot;foobar&quot;.equals(method.getName())) {\r\n            return 33;\r\n        } else {\r\n            return clazz.call();\r\n        }\r\n    }\r\n}\r\n\r\npublic class ProxyBuilder {\r\n\r\n    public static &lt;T&gt; T createProxy(T target, ProxyInterceptorByteBuddy interceptor) throws\r\n            IllegalAccessException, NoSuchMethodException, InvocationTargetException, InstantiationException {\r\n        return (T) new ByteBuddy()\r\n                .subclass(target.getClass())\r\n                .implement(target.getClass())\r\n                .method(ElementMatchers.any())\r\n                .intercept(MethodDelegation.to(interceptor))\r\n                .make()\r\n//                .load(ClassLoader.getSystemClassLoader())\r\n                .load(ProxyBuilder.class.getClassLoader(), ClassLoadingStrategy.Default.INJECTION)\r\n                .getLoaded()\r\n                .getDeclaredConstructor()\r\n                .newInstance();\r\n    }\r\n}\r\n\r\n// When I try to get instance of this bean via injection I get the error - \r\n\r\nfinal DependencyClient client = injector.getInstance(DependencyClient.class); \r\n```\r\n","title":"ByteBuddy Proxy instance Guice Injection Error","body":"<p>I have a service where Guice handles the dependency injection for the service. I have a use case where for one the beans being injected via Guice I have to mock/proxy one of the method calls for that bean. I am trying to do this via Byte-Buddy and its method interception. Initially I tried to proxy the method calls via CGLib and was able to make it work. But when I tried to move to Byte-Buddy since CGLib is deprecated and they recommend Byte-Buddy, the guice injector is rejecting the proxied bean for it.</p>\n<p>This is the error I am getting -</p>\n<pre><code>Caused by: com.google.inject.CreationException: Unable to create injector, see the following errors:\n\n1) [Guice/ErrorInCustomProvider]: IllegalStateException: Illegal interface class DependencyClientImpl for class DependencyClientImpl$ByteBuddy$EAI3cbku\n  at ClientModule.getDependencyClient(ClientModule.java:146)\n\nat com.google.inject.internal.Errors.throwCreationExceptionIfErrorsExist(Unknown Source)\n    at com.google.inject.internal.InternalInjectorCreator.injectDynamically(Unknown Source)\n    at com.google.inject.internal.InternalInjectorCreator.build(Unknown Source)\n    at com.google.inject.Guice.createInjector(Unknown Source)\n    at com.google.inject.Guice.createInjector(Unknown Source)\n    at com.google.inject.Guice.createInjector(Unknown Source)\n    at com.vegeta.myservice.MyService.main(MyService.java:55)\n    ... 5 more\nCaused by: java.lang.IllegalStateException: Illegal interface class com.vegeta.dependencyservice.DependencyClientImplfor class com.vegeta.dependencyservice.DependencyClientImpl$ByteBuddy$EAI3cbku\n    at net.bytebuddy.dynamic.scaffold.InstrumentedType$Default.validated(InstrumentedType.java:1572)\n    at net.bytebuddy.dynamic.scaffold.MethodRegistry$Default.prepare(MethodRegistry.java:519)\n    at net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.toTypeWriter(SubclassDynamicTypeBuilder.java:212)\n    at net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.toTypeWriter(SubclassDynamicTypeBuilder.java:203)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$UsingTypeWriter.make(DynamicType.java:4050)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:3734)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:3986)\n    at com.vegeta.myservice.bytebuddy.ProxyBuilder.createProxy(ProxyBuilder.java:19)\n    at com.vegeta.myservice.module.ClientModule.getDependencyClient(ClientModule.java:160)\n    at com.vegeta.myservice.module.ClientModule$$FastClassByGuice$$5d163b.GUICE$TRAMPOLINE(&lt;generated&gt;)\n    at com.vegeta.myservice.module.ClientModule$$FastClassByGuice$$5d163b.apply(&lt;generated&gt;)\n    at com.google.inject.internal.ProviderMethod$FastClassProviderMethod.doProvision(Unknown Source)\n    at com.google.inject.internal.ProviderMethod.doProvision(Unknown Source)\n    at com.google.inject.internal.InternalProviderInstanceBindingImpl$CyclicFactory.provision(Unknown Source)\n    at com.google.inject.internal.InternalProviderInstanceBindingImpl$CyclicFactory.get(Unknown Source)\n    at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(Unknown Source)\n    at com.google.inject.internal.SingletonScope$1.get(Unknown Source)\n    at com.google.inject.internal.InternalFactoryToProviderAdapter.get(Unknown Source)\n    at com.google.inject.internal.SingleParameterInjector.inject(Unknown Source)\n    at com.google.inject.internal.SingleParameterInjector.getAll(Unknown Source)\n    at com.google.inject.internal.ConstructorInjector.provision(Unknown Source)\n    at com.google.inject.internal.ConstructorInjector.construct(Unknown Source)\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get(Unknown Source)\n    at com.google.inject.internal.FactoryProxy.get(Unknown Source)\n    at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(Unknown Source)\n    at com.google.inject.internal.SingletonScope$1.get(Unknown Source)\n    at com.google.inject.internal.InternalFactoryToProviderAdapter.get(Unknown Source)\n    at com.google.inject.internal.InternalInjectorCreator.loadEagerSingletons(Unknown Source)\n</code></pre>\n<p>The code I have written is as follows -</p>\n<pre><code>public class ClientModule extends AbstractModule {\n    @Provides\n    @Singleton\n    DependencyClient getDependencyClient()\n            throws InvocationTargetException, IllegalAccessException, NoSuchMethodException, InstantiationException {\n        DependencyClient rawObject =  new ClientBuilder().newClient();\n        return ProxyBuilder.createProxy(rawObject, new DependencyInterceptorByteBuddy());\n    }\n}\n\npublic interface ProxyInterceptorByteBuddy {\n    Object intercept(Callable&lt;?&gt; clazz, Method method) throws Exception;\n}\n\n\npublic class DependencyInterceptorByteBuddy implements ProxyInterceptorByteBuddy {\n\n    @Override\n    @RuntimeType\n    public Object intercept(@SuperCall Callable&lt;?&gt; clazz, @Origin Method method) throws Exception {\n        if (&quot;foobar&quot;.equals(method.getName())) {\n            return 33;\n        } else {\n            return clazz.call();\n        }\n    }\n}\n\npublic class ProxyBuilder {\n\n    public static &lt;T&gt; T createProxy(T target, ProxyInterceptorByteBuddy interceptor) throws\n            IllegalAccessException, NoSuchMethodException, InvocationTargetException, InstantiationException {\n        return (T) new ByteBuddy()\n                .subclass(target.getClass())\n                .implement(target.getClass())\n                .method(ElementMatchers.any())\n                .intercept(MethodDelegation.to(interceptor))\n                .make()\n//                .load(ClassLoader.getSystemClassLoader())\n                .load(ProxyBuilder.class.getClassLoader(), ClassLoadingStrategy.Default.INJECTION)\n                .getLoaded()\n                .getDeclaredConstructor()\n                .newInstance();\n    }\n}\n\n// When I try to get instance of this bean via injection I get the error - \n\nfinal DependencyClient client = injector.getInstance(DependencyClient.class); \n</code></pre>\n"},{"tags":["java","jakarta-ee","glassfish","cluster-computing"],"answers":[{"comments":[{"owner":{"account_id":7789362,"reputation":11,"user_id":5892951,"display_name":"nickyfulls"},"score":0,"creation_date":1454958619,"post_id":35265086,"comment_id":58266197,"body_markdown":"How can I configure a database for EJB Timer running under Glassfish cluster ? I have create:\n\nasadmin create-cluster carcluster,\n\nasadmin create-instance --node localhost-domain1 --cluster carcluster Coo1 / Coo2 / Coo3,\n\nasadmin create-resource-ref --target carcluster jdbc/__default,\n\nasadmin set resources.jdbc-connection-pool.DerbyPool.property.serverName=localhost,\n\nasadmin set configs.config.cluster_name-config.ejb-container.ejb-timer-service.timer-datasource=jdbc/__default. And  create  3 JMQ Queue and 1 Topic for cluster and server","body":"How can I configure a database for EJB Timer running under Glassfish cluster ? I have create:  asadmin create-cluster carcluster,  asadmin create-instance --node localhost-domain1 --cluster carcluster Coo1 / Coo2 / Coo3,  asadmin create-resource-ref --target carcluster jdbc/__default,  asadmin set resources.jdbc-connection-pool.DerbyPool.property.serverName&zwnj;&#8203;=localhost,  asadmin set configs.config.cluster_name-config.ejb-container.ejb-timer-s&zwnj;&#8203;ervice.timer-datasou&zwnj;&#8203;rce=jdbc/__default. And  create  3 JMQ Queue and 1 Topic for cluster and server"}],"tags":[],"owner":{"account_id":73753,"reputation":4903,"user_id":212224,"display_name":"Mike"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454919804,"creation_date":1454919804,"answer_id":35265086,"question_id":35245322,"body_markdown":"Your database/datasource is not configured correctly. It currently wants to connect to the database on `localhost:1527`, but that means that each instance will try to connect to a database local to itself. Obviously this is not what you want - you want your app to always connect to the same database no matter what instance is being used.\r\n\r\nYou need to edit the datasource in your cluster config to use a proper hostname so that each instance connects to, for example, `dbserver:1527` and, if this is a production deployment, change your database from Derby to something else (e.g. MySQL, MariaDB, PostgreSQL etc). Apache Derby is not appropriate for production use.","title":"glassfish 4.1 and cluster with JMS","body":"<p>Your database/datasource is not configured correctly. It currently wants to connect to the database on <code>localhost:1527</code>, but that means that each instance will try to connect to a database local to itself. Obviously this is not what you want - you want your app to always connect to the same database no matter what instance is being used.</p>\n\n<p>You need to edit the datasource in your cluster config to use a proper hostname so that each instance connects to, for example, <code>dbserver:1527</code> and, if this is a production deployment, change your database from Derby to something else (e.g. MySQL, MariaDB, PostgreSQL etc). Apache Derby is not appropriate for production use.</p>\n"},{"comments":[{"owner":{"account_id":7789362,"reputation":11,"user_id":5892951,"display_name":"nickyfulls"},"score":0,"creation_date":1455007913,"post_id":35279841,"comment_id":58285304,"body_markdown":"My Derby Pool is http://imgur.com/cXucGiN and jdb/__default is http://imgur.com/DSnsAIi\n\nasadmin start-database\nStarting database in Network Server mode on host 0.0.0.0 and port 1527.\nVersione: CSS10100/10.10.2.0 - (1582446)  Build: 1582446  ID prodotto DRDA: CSS10100\n[...]\nServer di rete Apache Derby: 10.10.2.0","body":"My Derby Pool is <a href=\"http://imgur.com/cXucGiN\" rel=\"nofollow noreferrer\">imgur.com/cXucGiN</a> and jdb/__default is <a href=\"http://imgur.com/DSnsAIi\" rel=\"nofollow noreferrer\">imgur.com/DSnsAIi</a>  asadmin start-database Starting database in Network Server mode on host 0.0.0.0 and port 1527. Versione: CSS10100/10.10.2.0 - (1582446)  Build: 1582446  ID prodotto DRDA: CSS10100 [...] Server di rete Apache Derby: 10.10.2.0"},{"owner":{"account_id":7789362,"reputation":11,"user_id":5892951,"display_name":"nickyfulls"},"score":0,"creation_date":1455008063,"post_id":35279841,"comment_id":58285393,"body_markdown":"asadmin deploy --target carcluster Coo1.ear ,\n&quot;https://localhost:4848/management/domain/applications/application/COO1&quot; created successfully. Failure: Command disable failed on server instance Coo1: remote failure: Application not registered Failure: Command disable failed on server instance Coo2: remote failure: Application not registered Failure: Command disable failed on server instance Coo3: remote failure: Application not registered Warning: Command _deploy did not complete successfully on server instance","body":"asadmin deploy --target carcluster Coo1.ear , &quot;<a href=\"https://localhost:4848/management/domain/applications/application/COO1\" rel=\"nofollow noreferrer\">localhost:4848/management/domain/applications/application/C&zwnj;&#8203;OO1</a>&quot; created successfully. Failure: Command disable failed on server instance Coo1: remote failure: Application not registered Failure: Command disable failed on server instance Coo2: remote failure: Application not registered Failure: Command disable failed on server instance Coo3: remote failure: Application not registered Warning: Command _deploy did not complete successfully on server instance"},{"owner":{"account_id":7789362,"reputation":11,"user_id":5892951,"display_name":"nickyfulls"},"score":0,"creation_date":1455008073,"post_id":35279841,"comment_id":58285407,"body_markdown":"Coo1: remote failure: Failed to load the application on instance Coo1. The application will not run properly. Please fix your application and redeploy. Exception while loading the app : EJB Container initialization error. Please see server.log for more details. Warning: Command _deploy did not complete successfully on server instance Coo2: remote failure: Failed to load the application on instance Coo2. The application will not run properly. Please fix your application and redeploy. Exception while loading the app : EJB Co .... msg.seeServerLog","body":"Coo1: remote failure: Failed to load the application on instance Coo1. The application will not run properly. Please fix your application and redeploy. Exception while loading the app : EJB Container initialization error. Please see server.log for more details. Warning: Command _deploy did not complete successfully on server instance Coo2: remote failure: Failed to load the application on instance Coo2. The application will not run properly. Please fix your application and redeploy. Exception while loading the app : EJB Co .... msg.seeServerLog"},{"owner":{"account_id":7789362,"reputation":11,"user_id":5892951,"display_name":"nickyfulls"},"score":0,"creation_date":1455009268,"post_id":35279841,"comment_id":58286108,"body_markdown":"I added new log:  https://drive.google.com/folderview?id=0B7CqU8774DG8RGx0VkRVeEZXclE&amp;usp=sharing","body":"I added new log:  <a href=\"https://drive.google.com/folderview?id=0B7CqU8774DG8RGx0VkRVeEZXclE&amp;usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/&hellip;</a>"},{"owner":{"account_id":6883866,"reputation":304,"user_id":5289684,"display_name":"leet java"},"score":0,"creation_date":1455009983,"post_id":35279841,"comment_id":58286551,"body_markdown":"There is nothing in the logs but, looks like the servers still can&#39;t get a connection to the database on the host. There is no errors or evidence of any attempt to deploy anything in the other logs;\n  Caused by: com.sun.appserv.connectors.internal.api.PoolingException:   Connection could not be allocated because: java.net.ConnectException: Errore di connessione al server baviera1.homeunix.org sulla porta 1527 con messaggio Connessione rifiutata.","body":"There is nothing in the logs but, looks like the servers still can&#39;t get a connection to the database on the host. There is no errors or evidence of any attempt to deploy anything in the other logs;   Caused by: com.sun.appserv.connectors.internal.api.PoolingException:   Connection could not be allocated because: java.net.ConnectException: Errore di connessione al server baviera1.homeunix.org sulla porta 1527 con messaggio Connessione rifiutata."},{"owner":{"account_id":7789362,"reputation":11,"user_id":5892951,"display_name":"nickyfulls"},"score":0,"creation_date":1455011066,"post_id":35279841,"comment_id":58287242,"body_markdown":"Now I wrote:\nasadmin start-database --dbhost baviera1.homeunix.org,\n\nnetstat -a | grep 1527\ntcp6       0      0 baviera1.homeunix.:1527 [::]:*                  LISTEN     \ntcp6       0      0 baviera1.homeunix:42058 baviera1.homeunix.:1527 TIME_WAIT","body":"Now I wrote: asadmin start-database --dbhost baviera1.homeunix.org,  netstat -a | grep 1527 tcp6       0      0 baviera1.homeunix.:1527 [::]:*                  LISTEN      tcp6       0      0 baviera1.homeunix:42058 baviera1.homeunix.:1527 TIME_WAIT"},{"owner":{"account_id":7789362,"reputation":11,"user_id":5892951,"display_name":"nickyfulls"},"score":0,"creation_date":1455012315,"post_id":35279841,"comment_id":58288155,"body_markdown":"Redeploy on cluster I aways get &quot;localhost:4848/management/domain/applications/application/…; created successfully. Failure: Command disable failed on server instance Coo1: remote failure:[...] I get back log https://drive.google.com/folderview?id=0B7CqU8774DG8RGx0VkRVeEZXclE&amp;usp=sharing","body":"Redeploy on cluster I aways get &quot;localhost:4848/management/domain/applications/application/…&zwnj;&#8203;; created successfully. Failure: Command disable failed on server instance Coo1: remote failure:[...] I get back log <a href=\"https://drive.google.com/folderview?id=0B7CqU8774DG8RGx0VkRVeEZXclE&amp;usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/&hellip;</a>"},{"owner":{"account_id":7789362,"reputation":11,"user_id":5892951,"display_name":"nickyfulls"},"score":0,"creation_date":1455012459,"post_id":35279841,"comment_id":58288262,"body_markdown":"[SEVERE] [] [org.eclipse.persistence.session./file:/home/glassfish/glassfish4/glassfish/nodes/localhost-domain1/Coo1/applications/ejb-timer-service-app/WEB-INF/classes/___EJB__Timer__App.ejb] \nLocal Exception Stack: \nException [EclipseLink-4002] (Eclipse Persistence Services - 2.6.1.v20150605-31e8258): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: java.sql.SQLException: Error in allocating a connection. Cause: Connection could not be allocated because: java.net.ConnectException: Errore di connessione al server [..]","body":"[SEVERE] [] [org.eclipse.persistence.session./file:/home/glassfish/glass&zwnj;&#8203;fish4/glassfish/node&zwnj;&#8203;s/localhost-domain1/&zwnj;&#8203;Coo1/applications/ej&zwnj;&#8203;b-timer-service-app/&zwnj;&#8203;WEB-INF/classes/___E&zwnj;&#8203;JB__Timer__App.ejb]  Local Exception Stack:  Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.1.v20150605-31e8258): org.eclipse.persistence.exceptions.DatabaseException Internal Exception: java.sql.SQLException: Error in allocating a connection. Cause: Connection could not be allocated because: java.net.ConnectException: Errore di connessione al server [..]"},{"owner":{"account_id":7789362,"reputation":11,"user_id":5892951,"display_name":"nickyfulls"},"score":0,"creation_date":1455019132,"post_id":35279841,"comment_id":58292657,"body_markdown":"I get: &quot;HTTP status 404 - Not Found&quot;, each cluster instance :-((","body":"I get: &quot;HTTP status 404 - Not Found&quot;, each cluster instance :-(("}],"tags":[],"owner":{"account_id":6883866,"reputation":304,"user_id":5289684,"display_name":"leet java"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454967511,"creation_date":1454967511,"answer_id":35279841,"question_id":35245322,"body_markdown":"To start the derby database server on one of the cluster hosts or the DAS host run.\r\n\r\n    asadmin start-database\r\n\r\nYou will also need to reconfigure the URL for the jdbc/__default datasource in the administration console. Select the Additional Properties tab of the DerbyPool connection pool and change serverName from localhost to the hostname of the server you started the database on.\r\n\r\n![JDBC Settings for the DerbyPool][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/hHHNt.png","title":"glassfish 4.1 and cluster with JMS","body":"<p>To start the derby database server on one of the cluster hosts or the DAS host run.</p>\n\n<pre><code>asadmin start-database\n</code></pre>\n\n<p>You will also need to reconfigure the URL for the jdbc/__default datasource in the administration console. Select the Additional Properties tab of the DerbyPool connection pool and change serverName from localhost to the hostname of the server you started the database on.</p>\n\n<p><img src=\"https://i.stack.imgur.com/hHHNt.png\" alt=\"JDBC Settings for the DerbyPool\"></p>\n"}],"owner":{"account_id":7789362,"reputation":11,"user_id":5892951,"display_name":"nickyfulls"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1776,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700653053,"creation_date":1454786285,"question_id":35245322,"body_markdown":"I have create the cluster &quot;mycluster&quot;, two local instance and the resources jms/Queue1, jms/Queue2  and jms/Topic with target server and cluster.\r\n\r\nSo in this way I created the cluster:\r\n\r\n```\r\n- create-cluster mycluster\r\n\r\n- create-instance --node localhost-domain1 --cluster mycluster instance01\r\n\r\n- create-instance --node localhost-domain1 --cluster mycluster instance02\r\n\r\n[...]\r\n\r\n- start-cluster mycluster\r\n\r\n- deploy --target mycluster Coo.ear\r\n\r\nApplication deployed with name Coo.\r\n```\r\n\r\n```\r\nWarning: Command _deploy did not complete successfully on server instance instance01: remote failure: Failed to load the application on instance instance01. The application will not run properly. Please fix your application and redeploy.\r\n\r\nException while loading the app : EJB Container initialization error. Please see server.log for more details.\r\n\r\nWarning: Command _deploy did not complete successfully on server instance instance02: remote failure: Failed to load the application on instance instance02. The application will not run properly. Please fix your application and redeploy.\r\n \r\nException while loading the app : EJB Container initialization error. Please see server.log for more details.\r\nCommand deploy completed with warnings.\r\n\r\n[...]\r\n\r\nOn [server]: hostname:8080/FE-war/ all right.\r\n\r\nOn [instance01 the cluster] hostname:28080/FE-war\r\n\r\nand\r\n\r\nOn [instance02 the cluster] hostname:28081/FE-war\r\n```\r\n\r\nI get this desperate HTTP status 404 - Not Found ((((\r\n\r\nComplete logs file server, instance01, instance02, [...]:\r\n\r\nhttps://drive.google.com/folderview?id=0B7CqU8774DG8RGx0VkRVeEZXclE&amp;usp=sharing\r\n\r\n```\r\n2016-02-06T17:00:24.593+0100] [glassfish 4.1] [SEVERE] [] [org.eclipse.persistence.session./file:/home/glassfish/glassfish4/glassfish/nodes/localhost-domain1/Coo1/applications/ejb-timer-service-app/WEB-INF/classes/___EJB__Timer__App.ejb] [tid: _ThreadID=22 _ThreadName=RunLevelControllerThread-1454774410800] [timeMillis: 1454774424593] [levelValue: 1000] [[\r\n  \r\nLocal Exception Stack: \r\nException [EclipseLink-4002] (Eclipse Persistence Services - 2.6.1.v20150605-31e8258): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: java.sql.SQLException: Error in allocating a connection. Cause: Connection could not be allocated because: java.net.ConnectException: Errore di connessione al server localhost sulla porta 1527 con messaggio Connessione rifiutata.\r\nError Code: 0\r\n[...]\r\n```","title":"glassfish 4.1 and cluster with JMS","body":"<p>I have create the cluster &quot;mycluster&quot;, two local instance and the resources jms/Queue1, jms/Queue2  and jms/Topic with target server and cluster.</p>\n<p>So in this way I created the cluster:</p>\n<pre><code>- create-cluster mycluster\n\n- create-instance --node localhost-domain1 --cluster mycluster instance01\n\n- create-instance --node localhost-domain1 --cluster mycluster instance02\n\n[...]\n\n- start-cluster mycluster\n\n- deploy --target mycluster Coo.ear\n\nApplication deployed with name Coo.\n</code></pre>\n<pre><code>Warning: Command _deploy did not complete successfully on server instance instance01: remote failure: Failed to load the application on instance instance01. The application will not run properly. Please fix your application and redeploy.\n\nException while loading the app : EJB Container initialization error. Please see server.log for more details.\n\nWarning: Command _deploy did not complete successfully on server instance instance02: remote failure: Failed to load the application on instance instance02. The application will not run properly. Please fix your application and redeploy.\n \nException while loading the app : EJB Container initialization error. Please see server.log for more details.\nCommand deploy completed with warnings.\n\n[...]\n\nOn [server]: hostname:8080/FE-war/ all right.\n\nOn [instance01 the cluster] hostname:28080/FE-war\n\nand\n\nOn [instance02 the cluster] hostname:28081/FE-war\n</code></pre>\n<p>I get this desperate HTTP status 404 - Not Found ((((</p>\n<p>Complete logs file server, instance01, instance02, [...]:</p>\n<p><a href=\"https://drive.google.com/folderview?id=0B7CqU8774DG8RGx0VkRVeEZXclE&amp;usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/folderview?id=0B7CqU8774DG8RGx0VkRVeEZXclE&amp;usp=sharing</a></p>\n<pre><code>2016-02-06T17:00:24.593+0100] [glassfish 4.1] [SEVERE] [] [org.eclipse.persistence.session./file:/home/glassfish/glassfish4/glassfish/nodes/localhost-domain1/Coo1/applications/ejb-timer-service-app/WEB-INF/classes/___EJB__Timer__App.ejb] [tid: _ThreadID=22 _ThreadName=RunLevelControllerThread-1454774410800] [timeMillis: 1454774424593] [levelValue: 1000] [[\n  \nLocal Exception Stack: \nException [EclipseLink-4002] (Eclipse Persistence Services - 2.6.1.v20150605-31e8258): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: java.sql.SQLException: Error in allocating a connection. Cause: Connection could not be allocated because: java.net.ConnectException: Errore di connessione al server localhost sulla porta 1527 con messaggio Connessione rifiutata.\nError Code: 0\n[...]\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","webdriver-manager"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1692890267,"post_id":76970623,"comment_id":135688290,"body_markdown":"Refer this answer - https://stackoverflow.com/a/76927754/7598774","body":"Refer this answer - <a href=\"https://stackoverflow.com/a/76927754/7598774\">stackoverflow.com/a/76927754/7598774</a>"},{"owner":{"account_id":21924014,"reputation":51,"user_id":16206887,"display_name":"Mindwrap Thinker"},"score":0,"creation_date":1692894155,"post_id":76970623,"comment_id":135689298,"body_markdown":"I know they asked to upgrade the selenium version to 4.x but here my problem is I can&#39;t upgrade the selenium version. Have any solution for it","body":"I know they asked to upgrade the selenium version to 4.x but here my problem is I can&#39;t upgrade the selenium version. Have any solution for it"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1692895813,"post_id":76970623,"comment_id":135689678,"body_markdown":"Upgrade `webdrivermanager` to `v5.4.1` and see if it works.","body":"Upgrade <code>webdrivermanager</code> to <code>v5.4.1</code> and see if it works."},{"owner":{"account_id":21924014,"reputation":51,"user_id":16206887,"display_name":"Mindwrap Thinker"},"score":0,"creation_date":1692965855,"post_id":76970623,"comment_id":135700242,"body_markdown":"still no luck , facing same error","body":"still no luck , facing same error"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1692967375,"post_id":76970623,"comment_id":135700599,"body_markdown":"Check my answer, try that out.","body":"Check my answer, try that out."}],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692967201,"creation_date":1692967201,"answer_id":76977275,"question_id":76970623,"body_markdown":"Simple solution will be to upgrade selenium to `v4.11.0` as this version&#39;s `SeleniumManager` tool is compatible with chrome version `116`.\r\n\r\nSince you do not wish to upgrade selenium, download the `116` version of `chromedriver` and try to set the path of `chromedriver.exe` manually using `System.setProperty`. Refer the code below:\r\n````\r\npublic static void main(String[] args) {\t\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:/&lt;full path&gt;/chromedriver.exe&quot;);\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.get(&quot;https://www.google.com&quot;);        \r\n    System.out.println(driver.getTitle());\r\n}\r\n````\r\n\r\nLink to download latest `chromedriver` - https://googlechromelabs.github.io/chrome-for-testing/","title":"WebDriverManager Causing Mismatch ChromeDriver for Chrome Browser version 116.0.5845.111 - (Selenium version - 3.141.59)","body":"<p>Simple solution will be to upgrade selenium to <code>v4.11.0</code> as this version's <code>SeleniumManager</code> tool is compatible with chrome version <code>116</code>.</p>\n<p>Since you do not wish to upgrade selenium, download the <code>116</code> version of <code>chromedriver</code> and try to set the path of <code>chromedriver.exe</code> manually using <code>System.setProperty</code>. Refer the code below:</p>\n<pre><code>public static void main(String[] args) {    \n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:/&lt;full path&gt;/chromedriver.exe&quot;);\n    WebDriver driver = new ChromeDriver();\n    driver.get(&quot;https://www.google.com&quot;);        \n    System.out.println(driver.getTitle());\n}\n</code></pre>\n<p>Link to download latest <code>chromedriver</code> - <a href=\"https://googlechromelabs.github.io/chrome-for-testing/\" rel=\"nofollow noreferrer\">https://googlechromelabs.github.io/chrome-for-testing/</a></p>\n"},{"tags":[],"owner":{"account_id":21168406,"reputation":70,"user_id":15565242,"display_name":"Dave"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692967500,"creation_date":1692967500,"answer_id":76977307,"question_id":76970623,"body_markdown":"I had this issue and swtiched to Geckodriver with Firefox.  Geckodriver has never needed to be upgraded in 2 years, unlike the every 2 months with Chrone! ","title":"WebDriverManager Causing Mismatch ChromeDriver for Chrome Browser version 116.0.5845.111 - (Selenium version - 3.141.59)","body":"<p>I had this issue and swtiched to Geckodriver with Firefox.  Geckodriver has never needed to be upgraded in 2 years, unlike the every 2 months with Chrone!</p>\n"},{"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700652958,"creation_date":1693294979,"answer_id":76998277,"question_id":76970623,"body_markdown":"From Google Chrome v115 onwards, the chromedriver is now available from the new ```Chrome for Testing``` JSON endpoints. See the announcement here: [ChromeDriver - Version Selection][1] \r\n\r\nVersion 3.7.1 of ```io.github.bonigarcia.WebDriverManager``` does not cater for that new endpoint, so provides the project with the latest chromedriver from the old repository (hence version 114)\r\n\r\n```WebDriverManager``` catered for this change from version 5.5.0 (latest version at time of publishing this answer is 5.5.2) - see here:\r\n - [WebDriverManager Support for chromedriver 115+][2]\r\n\r\nUpdate the dependency in the pom.xml:\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n  &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n  &lt;version&gt;5.5.2&lt;/version&gt;\r\n&lt;/dependency&gt; \r\n```\r\n\r\n  [1]: https://chromedriver.chromium.org/downloads/version-selection\r\n  [2]: https://github.com/bonigarcia/webdrivermanager/blob/master/src/doc/asciidoc/index.adoc#support-for-chromedriver-115","title":"WebDriverManager Causing Mismatch ChromeDriver for Chrome Browser version 116.0.5845.111 - (Selenium version - 3.141.59)","body":"<p>From Google Chrome v115 onwards, the chromedriver is now available from the new <code>Chrome for Testing</code> JSON endpoints. See the announcement here: <a href=\"https://chromedriver.chromium.org/downloads/version-selection\" rel=\"nofollow noreferrer\">ChromeDriver - Version Selection</a></p>\n<p>Version 3.7.1 of <code>io.github.bonigarcia.WebDriverManager</code> does not cater for that new endpoint, so provides the project with the latest chromedriver from the old repository (hence version 114)</p>\n<p><code>WebDriverManager</code> catered for this change from version 5.5.0 (latest version at time of publishing this answer is 5.5.2) - see here:</p>\n<ul>\n<li><a href=\"https://github.com/bonigarcia/webdrivermanager/blob/master/src/doc/asciidoc/index.adoc#support-for-chromedriver-115\" rel=\"nofollow noreferrer\">WebDriverManager Support for chromedriver 115+</a></li>\n</ul>\n<p>Update the dependency in the pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n  &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n  &lt;version&gt;5.5.2&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n"}],"owner":{"account_id":21924014,"reputation":51,"user_id":16206887,"display_name":"Mindwrap Thinker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7476,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1700652958,"creation_date":1692889363,"question_id":76970623,"body_markdown":"**Exception**:\r\n\r\n```java\r\norg.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 114\r\nCurrent browser version is 116.0.5845.111 with binary path  \r\n```\r\n\r\n**pom.xml**\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n  &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n  &lt;version&gt;3.141.59&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n  &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n  &lt;version&gt;3.7.1&lt;/version&gt;\r\n&lt;/dependency&gt; \r\n```  \r\n\r\nCode for setting up the ```ChromeOptions``` and finally creating the webdriver:  \r\n```java\r\n\r\nWebDriverManager.chromedriver().setup();\r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;--no-sandbox&quot;);\r\noptions.addArguments(&quot;--test-type&quot;);\r\noptions.addArguments(&quot;--start-maximized&quot;);\r\nif (setBrowserUI().equals(&quot;yes&quot;)) {\r\n  options.addArguments(&quot;--headless&quot;);\r\n}\r\noptions.addArguments(&quot;Browser.setDownloadBehavior&quot;, &quot;allow&quot;);\r\noptions.addArguments(&quot;--disable-extensions&quot;);\r\noptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\noptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\r\nbase.driver = new ChromeDriver(options); \r\n```  \r\n\r\nProject restriction prevent the upgrade of the Selenium version used. Is there any other way to solve other than updating to Selenium version 4.x ? ","title":"WebDriverManager Causing Mismatch ChromeDriver for Chrome Browser version 116.0.5845.111 - (Selenium version - 3.141.59)","body":"<p><strong>Exception</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 114\nCurrent browser version is 116.0.5845.111 with binary path  \n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n  &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n  &lt;version&gt;3.141.59&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n  &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n  &lt;version&gt;3.7.1&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>Code for setting up the <code>ChromeOptions</code> and finally creating the webdriver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nWebDriverManager.chromedriver().setup();\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--no-sandbox&quot;);\noptions.addArguments(&quot;--test-type&quot;);\noptions.addArguments(&quot;--start-maximized&quot;);\nif (setBrowserUI().equals(&quot;yes&quot;)) {\n  options.addArguments(&quot;--headless&quot;);\n}\noptions.addArguments(&quot;Browser.setDownloadBehavior&quot;, &quot;allow&quot;);\noptions.addArguments(&quot;--disable-extensions&quot;);\noptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\noptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\nbase.driver = new ChromeDriver(options); \n</code></pre>\n<p>Project restriction prevent the upgrade of the Selenium version used. Is there any other way to solve other than updating to Selenium version 4.x ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1700609037,"post_id":77526448,"comment_id":136675198,"body_markdown":"I would pass a [`HikariConfig`](https://github.com/openbouquet/HikariCP/blob/master/src/main/java/com/zaxxer/hikari/HikariConfig.java) to `ds = new HikariDataSource( config );` and don&#39;t do this weird Base64 encoding of your password in the first place.","body":"I would pass a <a href=\"https://github.com/openbouquet/HikariCP/blob/master/src/main/java/com/zaxxer/hikari/HikariConfig.java\" rel=\"nofollow noreferrer\"><code>HikariConfig</code></a> to <code>ds = new HikariDataSource( config );</code> and don&#39;t do this weird Base64 encoding of your password in the first place."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700611016,"post_id":77526448,"comment_id":136675373,"body_markdown":"What is your scanner definition of this vulnerability?","body":"What is your scanner definition of this vulnerability?"},{"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"score":0,"creation_date":1700614191,"post_id":77526448,"comment_id":136675624,"body_markdown":"the definition is: stores sensitive data in a String object, making it impossible to reliably purge the data from memory. since String objects are immutable, removing the value of a String from memory can only be done by the JVM garbage collector. The garbage collector is not required to run unless the JVM is low on memory, so there is no guarantee as to when garbage collection will take place. In the event of an application crash, a memory dump of the application might reveal sensitive data.","body":"the definition is: stores sensitive data in a String object, making it impossible to reliably purge the data from memory. since String objects are immutable, removing the value of a String from memory can only be done by the JVM garbage collector. The garbage collector is not required to run unless the JVM is low on memory, so there is no guarantee as to when garbage collection will take place. In the event of an application crash, a memory dump of the application might reveal sensitive data."},{"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"score":0,"creation_date":1700615681,"post_id":77526448,"comment_id":136675755,"body_markdown":"@ElliottFrisch Base64 is not for encryption purpose. I can get rid of it. But still setPassword expect a String","body":"@ElliottFrisch Base64 is not for encryption purpose. I can get rid of it. But still setPassword expect a String"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1700615688,"post_id":77526448,"comment_id":136675758,"body_markdown":"@techie11 Base64 != [Encryption](http://www.jasypt.org/encrypting-passwords.html). Base64 is barely obfuscation.","body":"@techie11 Base64 != <a href=\"http://www.jasypt.org/encrypting-passwords.html\" rel=\"nofollow noreferrer\">Encryption</a>. Base64 is barely obfuscation."},{"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"score":0,"creation_date":1700616074,"post_id":77526448,"comment_id":136675785,"body_markdown":"@ElliottFrisch Base64 is NOT for encryption purpose. I can get rid of it. But still setPassword expect a String","body":"@ElliottFrisch Base64 is NOT for encryption purpose. I can get rid of it. But still setPassword expect a String"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1700616213,"post_id":77526448,"comment_id":136675792,"body_markdown":"@techie11 Fascinating. `public HikariConfig(Properties properties)` does **not** take a `String`. So you **could** construct a `HikariConfig` by passing in a `Properties`. And you could load the `Properties` without needing to call `setPassword` at all. Best of luck!","body":"@techie11 Fascinating. <code>public HikariConfig(Properties properties)</code> does <b>not</b> take a <code>String</code>. So you <b>could</b> construct a <code>HikariConfig</code> by passing in a <code>Properties</code>. And you could load the <code>Properties</code> without needing to call <code>setPassword</code> at all. Best of luck!"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1700617549,"post_id":77526448,"comment_id":136675927,"body_markdown":"And ... you would still passing the password (in the `Properties` object) as a `String`.  Whether or not your checker notices it.   Frankly, what this checker is doing in this case is &quot;performative security&quot;.","body":"And ... you would still passing the password (in the <code>Properties</code> object) as a <code>String</code>.  Whether or not your checker notices it.   Frankly, what this checker is doing in this case is &quot;performative security&quot;."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700641379,"post_id":77526448,"comment_id":136678301,"body_markdown":"At that rate, don&#39;t even pass it to the _Arrays_ class, just manually replace each value.  All in all, it seems like a lost cause.  I would suggest using _[VisualVM](https://en.m.wikipedia.org/wiki/VisualVM)_, to see the how effective it is.","body":"At that rate, don&#39;t even pass it to the <i>Arrays</i> class, just manually replace each value.  All in all, it seems like a lost cause.  I would suggest using <i><a href=\"https://en.m.wikipedia.org/wiki/VisualVM\" rel=\"nofollow noreferrer\">VisualVM</a></i>, to see the how effective it is."}],"answers":[{"comments":[{"owner":{"account_id":22007364,"reputation":151,"user_id":16278120,"display_name":"Roophie"},"score":0,"creation_date":1700609111,"post_id":77526461,"comment_id":136675204,"body_markdown":"thanks for you reponse, but doesn&#39;t jvm still store the password with hikari password holder variable pointing to it instead of his own dataSourcePassword?\nwill the outcome be the same or the hikari has it&#39;s own protection mechanism?","body":"thanks for you reponse, but doesn&#39;t jvm still store the password with hikari password holder variable pointing to it instead of his own dataSourcePassword? will the outcome be the same or the hikari has it&#39;s own protection mechanism?"},{"owner":{"account_id":5559246,"reputation":3573,"user_id":4409319,"accept_rate":70,"display_name":"JSelser"},"score":0,"creation_date":1700611053,"post_id":77526461,"comment_id":136675376,"body_markdown":"seems like hikari doesnt prevent heap inspection, to be honest I dont think you can prevent it anyways. at some point a string will reach the heap, you can prevent your static code analyzer from complaining though. btw [here is a nice article](https://westonal.medium.com/protecting-strings-in-jvm-memory-84c365f8f01c)","body":"seems like hikari doesnt prevent heap inspection, to be honest I dont think you can prevent it anyways. at some point a string will reach the heap, you can prevent your static code analyzer from complaining though. btw <a href=\"https://westonal.medium.com/protecting-strings-in-jvm-memory-84c365f8f01c\" rel=\"nofollow noreferrer\">here is a nice article</a>"},{"owner":{"account_id":22007364,"reputation":151,"user_id":16278120,"display_name":"Roophie"},"score":1,"creation_date":1700611633,"post_id":77526461,"comment_id":136675407,"body_markdown":"Thanks my friend, The only solution I could think of was extending the HikariConfig class and making the getPassword() method decrypt an encrypted password stored in heap with it&#39;s predefined key and return it every time it gets called.\nHope this helps to solve the problem.","body":"Thanks my friend, The only solution I could think of was extending the HikariConfig class and making the getPassword() method decrypt an encrypted password stored in heap with it&#39;s predefined key and return it every time it gets called. Hope this helps to solve the problem."}],"tags":[],"owner":{"account_id":5559246,"reputation":3573,"user_id":4409319,"accept_rate":70,"display_name":"JSelser"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700608406,"creation_date":1700608406,"answer_id":77526461,"question_id":77526448,"body_markdown":"inline it?\r\n\r\n```\r\nhikariDataSource.setPassword(new String(Base64.getDecoder().decode(dataSourcePasswdEncoded)));\r\n```","title":"&quot;Heap inspection&quot; vulnerability","body":"<p>inline it?</p>\n<pre><code>hikariDataSource.setPassword(new String(Base64.getDecoder().decode(dataSourcePasswdEncoded)));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"score":0,"creation_date":1700609012,"post_id":77526467,"comment_id":136675195,"body_markdown":"Thanks. How can I work around this?","body":"Thanks. How can I work around this?"},{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":2,"creation_date":1700611994,"post_id":77526467,"comment_id":136675443,"body_markdown":"Disable the stupid scanner that gets in the way of you doing your job.  Or, if there&#39;s some notation you can add to your code to say &#39;ignore this issue on this line&#39;, use that. You might try not using the word &#39;password&#39; anywhere, but you&#39;re probably stuck with that call to &#39;setPassword&#39; in someone else&#39;s code.","body":"Disable the stupid scanner that gets in the way of you doing your job.  Or, if there&#39;s some notation you can add to your code to say &#39;ignore this issue on this line&#39;, use that. You might try not using the word &#39;password&#39; anywhere, but you&#39;re probably stuck with that call to &#39;setPassword&#39; in someone else&#39;s code."}],"tags":[],"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700608731,"creation_date":1700608534,"answer_id":77526467,"question_id":77526448,"body_markdown":"Evidently you need to call an existing method that takes a String argument which is a password.\r\n\r\nTherefore you must give it a String argument that is a password.\r\n\r\nWhether or not you assign the String to an intermediate variable, it is still a String that is a password. There is no security difference between having a variable or not. There is one String either way.\r\n\r\nOf course, if your scanner is too stupid to notice a String that is not assigned to a variable, maybe that will work.\r\n&#39;\r\n\r\n    hikariDataSource.setPassword(new String(dataSourcePasswdDecoded));\r\n\r\n","title":"&quot;Heap inspection&quot; vulnerability","body":"<p>Evidently you need to call an existing method that takes a String argument which is a password.</p>\n<p>Therefore you must give it a String argument that is a password.</p>\n<p>Whether or not you assign the String to an intermediate variable, it is still a String that is a password. There is no security difference between having a variable or not. There is one String either way.</p>\n<p>Of course, if your scanner is too stupid to notice a String that is not assigned to a variable, maybe that will work.\n'</p>\n<pre><code>hikariDataSource.setPassword(new String(dataSourcePasswdDecoded));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1700652651,"creation_date":1700614024,"answer_id":77526744,"question_id":77526448,"body_markdown":"Yea ... base64 encoding a password is no protection at all.  Any hacker with half a brain knows how to recognize and decode base64.  So your &quot;weird base64 stuff&quot; is not helping.\r\n\r\nBut the flipside is that your vulnerability scanner is pointing out a problem that is relatively hard to exploit, AND is probably not going to be solvable anyway.  \r\n\r\nAt some point in your application (its dependencies, or somewhere) the password is going to be converted into a Java `String` ... because some API requires a `String`.  At that point you have a &quot;heap inspection&quot; vulnerability whether or not the scanner tells you about it.  For instance, if the data source uses JDBC, that password needs to be passed as a parameter to a `DriverManager.connect` call.  There are 3 overloads for `connect` ... but they all entail passing the password as a clear-text string.  Fixing that is impractical.\r\n\r\n&lt;sup&gt;(Clearly, the so-called fix suggested by Fortify is obviously not going to work.  And it fails to notice that your call to `setPassword(env.getProperty(&quot;spring.datasource.password&quot;))` is just a &quot;bad&quot; as what you are currently doing.  This is &quot;performative security&quot; ...)&lt;/sup&gt;\r\n\r\n----------------------------\r\n\r\nThe most practical solution is to tell the scanner that this is a &quot;false positive&quot;.  Then take steps to prevent hackers from being able to attach a debugger, inspect RAM, core dumps, swap disks, etc and trawl through the heap looking for String objects that might represent passwords.\r\n\r\n----------------------------\r\n\r\nThere is also a &quot;nasty&quot; solution that entails **smashing** through type abstraction on the `String` object and overwriting its backing array.  But that approach is fragile.  \r\n  \r\n  - The representation of `String` has changed a number of times over the life of Java, and each change would potentially break your `String` overwriting code.  \r\n  - In some circumstances the backing array of a `String` is shared with other `String` objects and smashing the backing array will damage those objects.  \r\n  - There is the problem of finding all of the cases where the password `String` *might* have been copied or inserted into other `String` objects.\r\n\r\nUnless you are dealing with *classified information*, this is (IMO) over the top.  And if you *are* dealing with classified information, secure your platform before you go to these lengths.  (And don&#39;t rely on dumb security scanner software to do your security audits!)","title":"&quot;Heap inspection&quot; vulnerability","body":"<p>Yea ... base64 encoding a password is no protection at all.  Any hacker with half a brain knows how to recognize and decode base64.  So your &quot;weird base64 stuff&quot; is not helping.</p>\n<p>But the flipside is that your vulnerability scanner is pointing out a problem that is relatively hard to exploit, AND is probably not going to be solvable anyway.</p>\n<p>At some point in your application (its dependencies, or somewhere) the password is going to be converted into a Java <code>String</code> ... because some API requires a <code>String</code>.  At that point you have a &quot;heap inspection&quot; vulnerability whether or not the scanner tells you about it.  For instance, if the data source uses JDBC, that password needs to be passed as a parameter to a <code>DriverManager.connect</code> call.  There are 3 overloads for <code>connect</code> ... but they all entail passing the password as a clear-text string.  Fixing that is impractical.</p>\n<p><sup>(Clearly, the so-called fix suggested by Fortify is obviously not going to work.  And it fails to notice that your call to <code>setPassword(env.getProperty(&quot;spring.datasource.password&quot;))</code> is just a &quot;bad&quot; as what you are currently doing.  This is &quot;performative security&quot; ...)</sup></p>\n<hr />\n<p>The most practical solution is to tell the scanner that this is a &quot;false positive&quot;.  Then take steps to prevent hackers from being able to attach a debugger, inspect RAM, core dumps, swap disks, etc and trawl through the heap looking for String objects that might represent passwords.</p>\n<hr />\n<p>There is also a &quot;nasty&quot; solution that entails <strong>smashing</strong> through type abstraction on the <code>String</code> object and overwriting its backing array.  But that approach is fragile.</p>\n<ul>\n<li>The representation of <code>String</code> has changed a number of times over the life of Java, and each change would potentially break your <code>String</code> overwriting code.</li>\n<li>In some circumstances the backing array of a <code>String</code> is shared with other <code>String</code> objects and smashing the backing array will damage those objects.</li>\n<li>There is the problem of finding all of the cases where the password <code>String</code> <em>might</em> have been copied or inserted into other <code>String</code> objects.</li>\n</ul>\n<p>Unless you are dealing with <em>classified information</em>, this is (IMO) over the top.  And if you <em>are</em> dealing with classified information, secure your platform before you go to these lengths.  (And don't rely on dumb security scanner software to do your security audits!)</p>\n"}],"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1700652651,"creation_date":1700608179,"question_id":77526448,"body_markdown":"I need to pass a password to a call. If I do\r\n\r\n    byte[] dataSourcePasswdDecoded = Base64.getDecoder().decode(dataSourcePasswdEncoded);\r\n    String dataSourcePasswd = new String(dataSourcePasswdDecoded);\r\n    hikariDataSource.setPassword(dataSourcePasswd);\r\n\r\nWhen the code got scanned by Fortify, it was reported the code has an vulnerability of &quot;Heap inspection&quot; due to the assignment of password to a String.\r\n\r\nFortify does not complain the original code:\r\n    \r\n \r\n     hikariDataSource.setPassword(env.getProperty(&quot;spring.datasource.password&quot;));\r\n\r\n\r\neven though env.getProperty() does return a String.\r\n\r\n\r\nWhat Fortify recommend is:\r\n\r\n    private JPasswordField pf;\r\n    ...\r\n    final char[] password = pf.getPassword();\r\n    // use the password\r\n    ...\r\n    // erase when finished\r\n    Arrays.fill(password, &#39; &#39;);\r\n\r\n\r\nBut how can you use char[] as password when the function expect a String?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"&quot;Heap inspection&quot; vulnerability","body":"<p>I need to pass a password to a call. If I do</p>\n<pre><code>byte[] dataSourcePasswdDecoded = Base64.getDecoder().decode(dataSourcePasswdEncoded);\nString dataSourcePasswd = new String(dataSourcePasswdDecoded);\nhikariDataSource.setPassword(dataSourcePasswd);\n</code></pre>\n<p>When the code got scanned by Fortify, it was reported the code has an vulnerability of &quot;Heap inspection&quot; due to the assignment of password to a String.</p>\n<p>Fortify does not complain the original code:</p>\n<pre><code> hikariDataSource.setPassword(env.getProperty(&quot;spring.datasource.password&quot;));\n</code></pre>\n<p>even though env.getProperty() does return a String.</p>\n<p>What Fortify recommend is:</p>\n<pre><code>private JPasswordField pf;\n...\nfinal char[] password = pf.getPassword();\n// use the password\n...\n// erase when finished\nArrays.fill(password, ' ');\n</code></pre>\n<p>But how can you use char[] as password when the function expect a String?</p>\n"},{"tags":["java","tomcat","apache-camel"],"answers":[{"comments":[{"owner":{"account_id":1467867,"reputation":177,"user_id":1380223,"accept_rate":67,"display_name":"rdhaundiyal"},"score":0,"creation_date":1700952833,"post_id":77529554,"comment_id":136715561,"body_markdown":"thanks @claus-ibsen , the service class however in cxfrs is just a dummy class used for route purpose only. If I have 100 resource, is it possible to avoid creating dummy classes for all and use some proxy instead","body":"thanks @claus-ibsen , the service class however in cxfrs is just a dummy class used for route purpose only. If I have 100 resource, is it possible to avoid creating dummy classes for all and use some proxy instead"}],"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700652507,"creation_date":1700652507,"answer_id":77529554,"question_id":77457872,"body_markdown":"No its not a class from Camel. It may be source code generated from Apache CXF which can do that from a WSDL file as input. The source for this class may not be stored in your source code repository and only the generated .class may end up in your WAR / JARs, and hence why you can&#39;t find the source code.","title":"Service running without bean class in Tomcat, camel","body":"<p>No its not a class from Camel. It may be source code generated from Apache CXF which can do that from a WSDL file as input. The source for this class may not be stored in your source code repository and only the generated .class may end up in your WAR / JARs, and hence why you can't find the source code.</p>\n"}],"owner":{"account_id":1467867,"reputation":177,"user_id":1380223,"accept_rate":67,"display_name":"rdhaundiyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700652507,"creation_date":1699594119,"question_id":77457872,"body_markdown":"I have limited knowledge of Java and tomcat and I am going through a service code base running on Apache tomcat, The service is using camel as the middleware integration framework. For one of the rest service api, I can see  csfrs setting as below in the config.\r\n\r\n    &lt;cxf:rsServer id=&quot;rsServer&quot; address=&quot;/v2/abc-service&quot;\r\n           serviceClass=&quot;au.com.vivaenergy.esb.service.pumpprice.v2.AbcServiceApi&quot;\r\n     loggingFeatureEnabled=&quot;true&quot;&gt;\r\n\r\nHowever, I couldnt find any class with name AbcServiceApi in the code base which is being meintioned in the above config snippet. Is it something which camel automatically create in memory as the application seems to be running fine and the endpoint is accessible\r\n\r\nIs it possible to provide a non existing class/interface in serviceClass attribute for &lt;cxf:rsServer node?","title":"Service running without bean class in Tomcat, camel","body":"<p>I have limited knowledge of Java and tomcat and I am going through a service code base running on Apache tomcat, The service is using camel as the middleware integration framework. For one of the rest service api, I can see  csfrs setting as below in the config.</p>\n<pre><code>&lt;cxf:rsServer id=&quot;rsServer&quot; address=&quot;/v2/abc-service&quot;\n       serviceClass=&quot;au.com.vivaenergy.esb.service.pumpprice.v2.AbcServiceApi&quot;\n loggingFeatureEnabled=&quot;true&quot;&gt;\n</code></pre>\n<p>However, I couldnt find any class with name AbcServiceApi in the code base which is being meintioned in the above config snippet. Is it something which camel automatically create in memory as the application seems to be running fine and the endpoint is accessible</p>\n<p>Is it possible to provide a non existing class/interface in serviceClass attribute for &lt;cxf:rsServer node?</p>\n"},{"tags":["java","spring-boot","docker","microservices","netflix-eureka"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1700655438,"post_id":77527435,"comment_id":136680811,"body_markdown":"Even if they&#39;re running on the same network, they each are their own `localhost`, so for example the `configserver` container is trying to connect to itself.","body":"Even if they&#39;re running on the same network, they each are their own <code>localhost</code>, so for example the <code>configserver</code> container is trying to connect to itself."},{"owner":{"account_id":12196215,"reputation":29,"user_id":8901771,"display_name":"Ashutosh Gupta"},"score":0,"creation_date":1700935431,"post_id":77527435,"comment_id":136713959,"body_markdown":"what changes I can make to solve it?","body":"what changes I can make to solve it?"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1700961374,"post_id":77527435,"comment_id":136716070,"body_markdown":"Have you read through [Networking in Compose](https://docs.docker.com/compose/networking/) in the Docker documentation?","body":"Have you read through <a href=\"https://docs.docker.com/compose/networking/\" rel=\"nofollow noreferrer\">Networking in Compose</a> in the Docker documentation?"},{"owner":{"account_id":12196215,"reputation":29,"user_id":8901771,"display_name":"Ashutosh Gupta"},"score":0,"creation_date":1701013562,"post_id":77527435,"comment_id":136719733,"body_markdown":"Thanks I got my mistake I have used --link to connect with my container with it","body":"Thanks I got my mistake I have used --link to connect with my container with it"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1701015884,"post_id":77527435,"comment_id":136719987,"body_markdown":"`--link` and the corresponding Compose `links:` option are obsolete artifacts of first-generation Docker networking, and you shouldn&#39;t need either.  If you aren&#39;t using Compose, [How to communicate between Docker containers via &quot;hostname&quot;](https://stackoverflow.com/questions/30545023/how-to-communicate-between-docker-containers-via-hostname) describes the plain-Docker networking setup.","body":"<code>--link</code> and the corresponding Compose <code>links:</code> option are obsolete artifacts of first-generation Docker networking, and you shouldn&#39;t need either.  If you aren&#39;t using Compose, <a href=\"https://stackoverflow.com/questions/30545023/how-to-communicate-between-docker-containers-via-hostname\">How to communicate between Docker containers via &quot;hostname&quot;</a> describes the plain-Docker networking setup."}],"owner":{"account_id":12196215,"reputation":29,"user_id":8901771,"display_name":"Ashutosh Gupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700652286,"creation_date":1700629552,"question_id":77527435,"body_markdown":"I am trying to run 2 containers containing Spring boot micro service. One is Eureka Registry server and other is config server. I am unable to register my config server to registry server. \r\n\r\nI have check also checked if I run my config server without docker its perfectly registered with my eureka server.\r\n\r\nGetting error stack on logs of my config server container log\r\n\r\n&gt; 2023-11-22 04:45:28.995  INFO 1 --- [           main] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl=&#39;http://localhost:8761/eureka/}, exception=I/O error on GET request for &quot;http://localhost:8761/eureka/apps/&quot;: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:8761/eureka/apps/&quot;: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)\r\n\r\n\r\nmy config server application.yml \r\n\r\n    server:\r\n      port: 9296\r\n\r\n    spring:\r\n      application:\r\n        name: CONFIG-SERVER\r\n      cloud:\r\n        config:\r\n          server:\r\n            git:\r\n              uri: https://github.com/Unknown-Soul/SpringAppConfig.git\r\n              clone-on-start: true\r\n\r\nand this my eureka server application.yml\r\n\r\n    server:\r\n      port: 8761\r\n    \r\n    eureka:\r\n      instance:\r\n        hostname: localhost\r\n      client:\r\n        register-with-eureka: true\r\n        fetch-registry: true\r\n\r\n\r\nthis is my docker file for config server \r\n\r\n    # Use the official OpenJDK 11 base image\r\n    FROM openjdk:11\r\n    \r\n    # Set the working directory inside the container\r\n    WORKDIR /app\r\n    \r\n    # Copy the JAR file into the container at /app/configserverlatest.jar\r\n    COPY build/libs/ConfigServer-0.0.1-SNAPSHOT.jar configserverlatest.jar\r\n    \r\n    # Expose the port that the application will run on\r\n    EXPOSE 9296\r\n    \r\n    # Define the default command to run your application\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;configserverlatest.jar&quot;]\r\n\r\n\r\nThis is my docker file for eureka server\r\n\r\n    FROM openjdk:11\r\n    \r\n    ARG JAR_FILE=build/libs/ServiceRegistry-0.0.1-SNAPSHOT.jar\r\n    \r\n    COPY ${JAR_FILE} serviceregistry.jar\r\n    \r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/serviceregistry.jar&quot;]\r\n    \r\n    EXPOSE 8761\r\n\r\nthese are commands through which I am running my images\r\n\r\n \r\n\r\n    docker run -p9296:9296 -e EUREKA_SERVER_ADDRESS=http://localhost:8761/eureka/ --name configserver ff19a68c2297\r\n    \r\n    \r\n     docker run -p8761:8761 -d  --name localhost 19a554a0dd8a\r\n\r\n\r\nI have check both of them running on same network \r\n\r\n \r\n\r\n    &quot;Containers&quot;: {\r\n                &quot;5efedfbc872e5092a23363bd1a425842c074c75d39683877ce90de06f61cbbcb&quot;: {\r\n                    &quot;Name&quot;: &quot;localhost&quot;,\r\n                    &quot;EndpointID&quot;: &quot;6fa5991743a33b8bfd2bc08f79da5e6ac694a1237205811989f7afb6a6656014&quot;,\r\n                    &quot;MacAddress&quot;: &quot;02:42:ac:11:00:02&quot;,\r\n                    &quot;IPv4Address&quot;: &quot;172.17.0.2/16&quot;,\r\n                    &quot;IPv6Address&quot;: &quot;&quot;\r\n                },\r\n                &quot;df0b3a32d10cf33bbbc4507970eac4ce3ab33d5c1d3ae73ce7d2aa35134173b4&quot;: {\r\n                    &quot;Name&quot;: &quot;configserver&quot;,\r\n                    &quot;EndpointID&quot;: &quot;e72859a13334ada963ec26266a9f4596d430840482cb3fbf291261fe60807cb5&quot;,\r\n                    &quot;MacAddress&quot;: &quot;02:42:ac:11:00:03&quot;,\r\n                    &quot;IPv4Address&quot;: &quot;172.17.0.3/16&quot;,\r\n                    &quot;IPv6Address&quot;: &quot;&quot;\r\n                }\r\n            },\r\n\r\n\r\nI am really stuck here . Any help would be appreciated . thank you in advance. ","title":"Unable to connect my container config server with container running registry service","body":"<p>I am trying to run 2 containers containing Spring boot micro service. One is Eureka Registry server and other is config server. I am unable to register my config server to registry server.</p>\n<p>I have check also checked if I run my config server without docker its perfectly registered with my eureka server.</p>\n<p>Getting error stack on logs of my config server container log</p>\n<blockquote>\n<p>2023-11-22 04:45:28.995  INFO 1 --- [           main] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on GET request for &quot;http://localhost:8761/eureka/apps/&quot;: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:8761/eureka/apps/&quot;: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)</p>\n</blockquote>\n<p>my config server application.yml</p>\n<pre><code>server:\n  port: 9296\n\nspring:\n  application:\n    name: CONFIG-SERVER\n  cloud:\n    config:\n      server:\n        git:\n          uri: https://github.com/Unknown-Soul/SpringAppConfig.git\n          clone-on-start: true\n</code></pre>\n<p>and this my eureka server application.yml</p>\n<pre><code>server:\n  port: 8761\n\neureka:\n  instance:\n    hostname: localhost\n  client:\n    register-with-eureka: true\n    fetch-registry: true\n</code></pre>\n<p>this is my docker file for config server</p>\n<pre><code># Use the official OpenJDK 11 base image\nFROM openjdk:11\n\n# Set the working directory inside the container\nWORKDIR /app\n\n# Copy the JAR file into the container at /app/configserverlatest.jar\nCOPY build/libs/ConfigServer-0.0.1-SNAPSHOT.jar configserverlatest.jar\n\n# Expose the port that the application will run on\nEXPOSE 9296\n\n# Define the default command to run your application\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;configserverlatest.jar&quot;]\n</code></pre>\n<p>This is my docker file for eureka server</p>\n<pre><code>FROM openjdk:11\n\nARG JAR_FILE=build/libs/ServiceRegistry-0.0.1-SNAPSHOT.jar\n\nCOPY ${JAR_FILE} serviceregistry.jar\n\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/serviceregistry.jar&quot;]\n\nEXPOSE 8761\n</code></pre>\n<p>these are commands through which I am running my images</p>\n<pre><code>docker run -p9296:9296 -e EUREKA_SERVER_ADDRESS=http://localhost:8761/eureka/ --name configserver ff19a68c2297\n\n\n docker run -p8761:8761 -d  --name localhost 19a554a0dd8a\n</code></pre>\n<p>I have check both of them running on same network</p>\n<pre><code>&quot;Containers&quot;: {\n            &quot;5efedfbc872e5092a23363bd1a425842c074c75d39683877ce90de06f61cbbcb&quot;: {\n                &quot;Name&quot;: &quot;localhost&quot;,\n                &quot;EndpointID&quot;: &quot;6fa5991743a33b8bfd2bc08f79da5e6ac694a1237205811989f7afb6a6656014&quot;,\n                &quot;MacAddress&quot;: &quot;02:42:ac:11:00:02&quot;,\n                &quot;IPv4Address&quot;: &quot;172.17.0.2/16&quot;,\n                &quot;IPv6Address&quot;: &quot;&quot;\n            },\n            &quot;df0b3a32d10cf33bbbc4507970eac4ce3ab33d5c1d3ae73ce7d2aa35134173b4&quot;: {\n                &quot;Name&quot;: &quot;configserver&quot;,\n                &quot;EndpointID&quot;: &quot;e72859a13334ada963ec26266a9f4596d430840482cb3fbf291261fe60807cb5&quot;,\n                &quot;MacAddress&quot;: &quot;02:42:ac:11:00:03&quot;,\n                &quot;IPv4Address&quot;: &quot;172.17.0.3/16&quot;,\n                &quot;IPv6Address&quot;: &quot;&quot;\n            }\n        },\n</code></pre>\n<p>I am really stuck here . Any help would be appreciated . thank you in advance.</p>\n"},{"tags":["java","json","avro","jsonschema"],"comments":[{"owner":{"account_id":11440915,"reputation":1,"user_id":8386537,"display_name":"Mithun Kumar"},"score":0,"creation_date":1700652053,"post_id":77529343,"comment_id":136680209,"body_markdown":"https://stackoverflow.com/questions/40499117/validate-user-provide-json-data-against-avro-schema-with-default-values","body":"<a href=\"https://stackoverflow.com/questions/40499117/validate-user-provide-json-data-against-avro-schema-with-default-values\" title=\"validate user provide json data against avro schema with default values\">stackoverflow.com/questions/40499117/&hellip;</a>"},{"owner":{"account_id":13192155,"reputation":43,"user_id":9528166,"display_name":"Rishabh"},"score":0,"creation_date":1700653163,"post_id":77529343,"comment_id":136680430,"body_markdown":"Thanks but this also gives one error at a time.","body":"Thanks but this also gives one error at a time."}],"owner":{"account_id":13192155,"reputation":43,"user_id":9528166,"display_name":"Rishabh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700651851,"creation_date":1700650738,"question_id":77529343,"body_markdown":"I am using Avro schema and want to validate my JSON message against it. I have found below for the same. But my issue is it fails as soon as it encounters the first issue, I want to get all the issues in my JSON message.\r\n\r\n```\r\npublic static boolean validateJson(String json, Schema schema) throws Exception {\r\n\r\n    InputStream input = new ByteArrayInputStream(json.getBytes());\r\n    DataInputStream din = new DataInputStream(input);\r\n\r\n    try {\r\n        DatumReader reader = new GenericDatumReader(schema);\r\n        Decoder decoder = DecoderFactory.get().jsonDecoder(schema, din);\r\n        reader.read(null, decoder);\r\n            \r\n        return true;\r\n    } catch (AvroTypeException e) {\r\n        System.out.println(e.getMessage());\r\n        return false;\r\n    }\r\n}\r\n```","title":"Validation Json Message against Avro Schema with aggregated error","body":"<p>I am using Avro schema and want to validate my JSON message against it. I have found below for the same. But my issue is it fails as soon as it encounters the first issue, I want to get all the issues in my JSON message.</p>\n<pre><code>public static boolean validateJson(String json, Schema schema) throws Exception {\n\n    InputStream input = new ByteArrayInputStream(json.getBytes());\n    DataInputStream din = new DataInputStream(input);\n\n    try {\n        DatumReader reader = new GenericDatumReader(schema);\n        Decoder decoder = DecoderFactory.get().jsonDecoder(schema, din);\n        reader.read(null, decoder);\n            \n        return true;\n    } catch (AvroTypeException e) {\n        System.out.println(e.getMessage());\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1644235498,"post_id":71018123,"comment_id":125542879,"body_markdown":"i highly doubt you can, since you probably have no control over those callbacks. add in your own callback instead","body":"i highly doubt you can, since you probably have no control over those callbacks. add in your own callback instead"}],"answers":[{"tags":[],"owner":{"account_id":14082156,"reputation":2622,"user_id":10172915,"display_name":"Akaki Kapanadze"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644247723,"creation_date":1644247723,"answer_id":71021104,"question_id":71018123,"body_markdown":"Instead of `notify()` you should call `onResponse()` like `Success.onResponse()` with `null` argument or with some `JSONObject` mapped from `error.networkResponse`. \r\n\r\nMore generalized way - create custom Response Listener (to listen to the success/error events in one place):\r\n\r\n    public abstract class ResponseListener&lt;T&gt; implements Response.Listener&lt;T&gt;,\r\n            Response.ErrorListener {\r\n    \r\n        @Override\r\n        public final void onErrorResponse(VolleyError error) {\r\n            if (error.networkResponse.statusCode == 400) {\r\n                // redirect to onResponse()\r\n                onResponse(null /* or some response T object mapped from [error.networkResponse] */);\r\n            } else {\r\n                onError(error);\r\n            }\r\n        }\r\n    \r\n        public abstract void onError(VolleyError error);\r\n    }\r\n\r\n...\r\n   \r\n\r\n     final ResponseListener&lt;JSONObject&gt; responseListener =\r\n                new ResponseListener&lt;JSONObject&gt;() {\r\n                    @Override\r\n                    public void onResponse(@Nullable JSONObject response) {\r\n                        // do something with the response\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onError(VolleyError error) {\r\n                        // operation failed, do something\r\n                    }\r\n                };\r\n        //\r\n        final JsonObjectRequest JsonRequestObject =\r\n                new JsonObjectRequest(Method, URL, J, responseListener, responseListener);\r\n        //","title":"How to call manually Response.Listener in Android?","body":"<p>Instead of <code>notify()</code> you should call <code>onResponse()</code> like <code>Success.onResponse()</code> with <code>null</code> argument or with some <code>JSONObject</code> mapped from <code>error.networkResponse</code>.</p>\n<p>More generalized way - create custom Response Listener (to listen to the success/error events in one place):</p>\n<pre><code>public abstract class ResponseListener&lt;T&gt; implements Response.Listener&lt;T&gt;,\n        Response.ErrorListener {\n\n    @Override\n    public final void onErrorResponse(VolleyError error) {\n        if (error.networkResponse.statusCode == 400) {\n            // redirect to onResponse()\n            onResponse(null /* or some response T object mapped from [error.networkResponse] */);\n        } else {\n            onError(error);\n        }\n    }\n\n    public abstract void onError(VolleyError error);\n}\n</code></pre>\n<p>...</p>\n<pre><code> final ResponseListener&lt;JSONObject&gt; responseListener =\n            new ResponseListener&lt;JSONObject&gt;() {\n                @Override\n                public void onResponse(@Nullable JSONObject response) {\n                    // do something with the response\n                }\n\n                @Override\n                public void onError(VolleyError error) {\n                    // operation failed, do something\n                }\n            };\n    //\n    final JsonObjectRequest JsonRequestObject =\n            new JsonObjectRequest(Method, URL, J, responseListener, responseListener);\n    //\n</code></pre>\n"}],"owner":{"account_id":3114014,"reputation":5534,"user_id":2635209,"accept_rate":55,"display_name":"Thomas Carlton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700651766,"creation_date":1644234744,"question_id":71018123,"body_markdown":"I have the following method that runs some web services commands in Android.\r\n\r\n        Response.Listener Success = new Response.Listener&lt;JSONObject &gt;() {@Override\r\n                    public void onResponse(JSONObject  response) {\r\n                        JSONObject  S = response;\r\n                        // do something with the response\r\n        }};\r\n\t\t\r\n        Response.ErrorListener Fail = new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                if (error.networkResponse.statusCode == 400) {\r\n                    Success.notify();  // &lt;&lt;&lt;&lt;&lt; According to some technical custom logic, this should be considered as a successful REST command. Hence run Success Response Listener\r\n                }\r\n                else {\r\n                    // operation failed, do something\r\n                }\r\n            }\r\n        };\r\n\r\n        JSONObject J = new JSONObject();        \r\n        J.put(&quot;param&quot;, some parameters);\r\n\r\n        RequestQueue queue = Volley.newRequestQueue(Act);\r\n        JsonObjectRequest JsonRequestObject = new JsonObjectRequest(Method, URL, J, Success, Fail);        \r\n        queue.add(JsonRequestObject);\r\n\r\nAccording to some custom technical logic, the requests that get 400 as a response should be considered as successful and hence run the success callback.\r\n\r\nI tried this code but it crashes at the line : \r\n\r\n                    Success.notify();  // &lt;&lt;&lt;&lt;&lt;\r\n\r\nHow can I execute the Success call back manually?\r\n","title":"How to call manually Response.Listener in Android?","body":"<p>I have the following method that runs some web services commands in Android.</p>\n<pre><code>    Response.Listener Success = new Response.Listener&lt;JSONObject &gt;() {@Override\n                public void onResponse(JSONObject  response) {\n                    JSONObject  S = response;\n                    // do something with the response\n    }};\n    \n    Response.ErrorListener Fail = new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            if (error.networkResponse.statusCode == 400) {\n                Success.notify();  // &lt;&lt;&lt;&lt;&lt; According to some technical custom logic, this should be considered as a successful REST command. Hence run Success Response Listener\n            }\n            else {\n                // operation failed, do something\n            }\n        }\n    };\n\n    JSONObject J = new JSONObject();        \n    J.put(&quot;param&quot;, some parameters);\n\n    RequestQueue queue = Volley.newRequestQueue(Act);\n    JsonObjectRequest JsonRequestObject = new JsonObjectRequest(Method, URL, J, Success, Fail);        \n    queue.add(JsonRequestObject);\n</code></pre>\n<p>According to some custom technical logic, the requests that get 400 as a response should be considered as successful and hence run the success callback.</p>\n<p>I tried this code but it crashes at the line :</p>\n<pre><code>                Success.notify();  // &lt;&lt;&lt;&lt;&lt;\n</code></pre>\n<p>How can I execute the Success call back manually?</p>\n"},{"tags":["java","apache-poi","birt","birt-emitter"],"owner":{"account_id":12645463,"reputation":1,"user_id":9191358,"display_name":"Fred H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700648149,"answer_count":0,"score":0,"last_activity_date":1700651477,"creation_date":1700648010,"question_id":77529019,"body_markdown":"I am writing a java code that will generate excel `.xlsx` file format. Using `apache poi v5.0` and birt \r\nengine runtime `v4.3.0`. Looks like `poi` doesn&#39;t have `setBoldweight()` method. Is this version dependency error or how to I solve this. Is there any other alternative to solve this?. Please help. \r\n\r\nIf it is version dependency error. Which version of birt report is compatible with `apache-poi 5`?.\r\n\r\nIt give me this error\r\n\r\n```log\r\nERROR org.eclipse.birt.report.engine.api.impl.ReportEngine:2374 - Error happened while running the report.\r\njava.lang.NoSuchMethodError: org.apache.poi.ss.usermodel.Font.setBoldweight(S)V\r\n\tat uk.co.spudsoft.birt.emitters.excel.FontManager.createFont(FontManager.java:165)\r\n\tat uk.co.spudsoft.birt.emitters.excel.FontManager.getFont(FontManager.java:230)\r\n\tat uk.co.spudsoft.birt.emitters.excel.StyleManager.createStyle(StyleManager.java:169)\r\n\tat uk.co.spudsoft.birt.emitters.excel.StyleManager.getStyle(StyleManager.java:217)\r\n....\r\n\r\n```\r\n\r\n\r\nThis is my code\r\n\r\n```Java\r\n\r\nIRunAndRenderTask task=null;\r\nbirtEngine = MSBirtEngine.getBirtEngine(null);\r\ntask = birtEngine.createRunAndRenderTask(design);\r\nByteArrayOutputStream ous = null;\r\n\r\nif(&quot;xlsx&quot;.equals(format)){\r\n\tEXCELRenderOption options = new EXCELRenderOption();\r\n\toptions.setOutputFormat(format);\r\n\tous = new ByteArrayOutputStream();\r\n\toptions.setOutputStream(ous);\r\n\ttask.setRenderOption(options);\r\n}\r\n\r\ntask.run();\r\n...\r\n```","title":"Birt Engine and Apache poi combination compatible","body":"<p>I am writing a java code that will generate excel <code>.xlsx</code> file format. Using <code>apache poi v5.0</code> and birt\nengine runtime <code>v4.3.0</code>. Looks like <code>poi</code> doesn't have <code>setBoldweight()</code> method. Is this version dependency error or how to I solve this. Is there any other alternative to solve this?. Please help.</p>\n<p>If it is version dependency error. Which version of birt report is compatible with <code>apache-poi 5</code>?.</p>\n<p>It give me this error</p>\n<pre><code>ERROR org.eclipse.birt.report.engine.api.impl.ReportEngine:2374 - Error happened while running the report.\njava.lang.NoSuchMethodError: org.apache.poi.ss.usermodel.Font.setBoldweight(S)V\n    at uk.co.spudsoft.birt.emitters.excel.FontManager.createFont(FontManager.java:165)\n    at uk.co.spudsoft.birt.emitters.excel.FontManager.getFont(FontManager.java:230)\n    at uk.co.spudsoft.birt.emitters.excel.StyleManager.createStyle(StyleManager.java:169)\n    at uk.co.spudsoft.birt.emitters.excel.StyleManager.getStyle(StyleManager.java:217)\n....\n\n</code></pre>\n<p>This is my code</p>\n<pre><code>\nIRunAndRenderTask task=null;\nbirtEngine = MSBirtEngine.getBirtEngine(null);\ntask = birtEngine.createRunAndRenderTask(design);\nByteArrayOutputStream ous = null;\n\nif(&quot;xlsx&quot;.equals(format)){\n    EXCELRenderOption options = new EXCELRenderOption();\n    options.setOutputFormat(format);\n    ous = new ByteArrayOutputStream();\n    options.setOutputStream(ous);\n    task.setRenderOption(options);\n}\n\ntask.run();\n...\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1672875,"reputation":9840,"user_id":1538986,"accept_rate":64,"display_name":"Opiatefuchs"},"score":0,"creation_date":1492084876,"post_id":43391350,"comment_id":73844316,"body_markdown":"but you are using the permissions `com.android.alarm.permission.SET_ALARM`?","body":"but you are using the permissions <code>com.android.alarm.permission.SET_ALARM</code>?"},{"owner":{"account_id":9497711,"reputation":512,"user_id":7060082,"display_name":"afarre"},"score":0,"creation_date":1492085260,"post_id":43391350,"comment_id":73844600,"body_markdown":"yes, forgot to mention it. will edit now. thanks anyways","body":"yes, forgot to mention it. will edit now. thanks anyways"}],"answers":[{"comments":[{"owner":{"account_id":9497711,"reputation":512,"user_id":7060082,"display_name":"afarre"},"score":0,"creation_date":1492167871,"post_id":43409682,"comment_id":73879308,"body_markdown":"jesus, I&#39;m so short sighted :/ Thanks for your help, been stuck with this for a couple days. Many thanks :D","body":"jesus, I&#39;m so short sighted :/ Thanks for your help, been stuck with this for a couple days. Many thanks :D"},{"owner":{"account_id":10576034,"reputation":711,"user_id":7791328,"display_name":"iVoid"},"score":0,"creation_date":1492167958,"post_id":43409682,"comment_id":73879353,"body_markdown":"It&#39;s very easy to miss such simple details in elaborate scheme of things. Happy to help. :)","body":"It&#39;s very easy to miss such simple details in elaborate scheme of things. Happy to help. :)"},{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":1,"creation_date":1509166183,"post_id":43409682,"comment_id":80919674,"body_markdown":"It&#39;s very strange that it&#39;s explicitly an `ArrayList&lt;&gt;` and not a `List&lt;&gt;`","body":"It&#39;s very strange that it&#39;s explicitly an <code>ArrayList&lt;&gt;</code> and not a <code>List&lt;&gt;</code>"}],"tags":[],"owner":{"account_id":10576034,"reputation":711,"user_id":7791328,"display_name":"iVoid"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1492165408,"creation_date":1492165408,"answer_id":43409682,"question_id":43391350,"body_markdown":"    The value is an {@code ArrayList&lt;Integer&gt;}.\r\nYou need to construct an `ArrayList&lt;Integer&gt;` from `Calendar.SATURDAY` and pass it to `putExtra()`\r\n\r\n    ArrayList&lt;Integer&gt; alarmDays= new ArrayList&lt;Integer&gt;();\r\n    alarmDays.add(Calendar.SATURDAY);\r\n    openNewAlarm.putExtra(AlarmClock.EXTRA_DAYS, alarmDays);","title":"How does AlarmClock.EXTRA_DAYS work - Android Studio","body":"<pre><code>The value is an {@code ArrayList&lt;Integer&gt;}.\n</code></pre>\n\n<p>You need to construct an <code>ArrayList&lt;Integer&gt;</code> from <code>Calendar.SATURDAY</code> and pass it to <code>putExtra()</code></p>\n\n<pre><code>ArrayList&lt;Integer&gt; alarmDays= new ArrayList&lt;Integer&gt;();\nalarmDays.add(Calendar.SATURDAY);\nopenNewAlarm.putExtra(AlarmClock.EXTRA_DAYS, alarmDays);\n</code></pre>\n"}],"owner":{"account_id":9497711,"reputation":512,"user_id":7060082,"display_name":"afarre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1624,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43409682,"answer_count":1,"score":2,"last_activity_date":1700651344,"creation_date":1492083668,"question_id":43391350,"body_markdown":"so I have a code that sets up an alarm at a specified time. I&#39;d like to specify the day of the week aswell. So far all examples I have found are using the Calendar class, however, I use AlarmClock. This is my code:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n    Intent openNewAlarm = new Intent(AlarmClock.ACTION_SET_ALARM);\r\n            openNewAlarm.putExtra(AlarmClock.EXTRA_HOUR, Integer.parseInt(time[0]));\r\n            openNewAlarm.putExtra(AlarmClock.EXTRA_MINUTES, Integer.parseInt(time[1]));\r\n            openNewAlarm.putExtra(AlarmClock.EXTRA_MESSAGE, String.valueOf(reminder.getText()));\r\n            openNewAlarm.putExtra(AlarmClock.EXTRA_DAYS, Calendar.SATURDAY);\r\n            startActivity(openNewAlarm);\r\n\r\n\r\nNotice the EXTRA_DAYS line. According to the description:\r\n\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    /**\r\n     * Bundle extra: Weekdays for repeating alarm.\r\n     * &lt;p&gt;\r\n     * Used by {@link #ACTION_SET_ALARM}.\r\n     * &lt;/p&gt;&lt;p&gt;\r\n     * The value is an {@code ArrayList&lt;Integer&gt;}. Each item can be:\r\n     * &lt;/p&gt;\r\n     * &lt;ul&gt;\r\n     * &lt;li&gt; {@link java.util.Calendar#SUNDAY},\r\n     * &lt;li&gt; {@link java.util.Calendar#MONDAY},\r\n     * &lt;li&gt; {@link java.util.Calendar#TUESDAY},\r\n     * &lt;li&gt; {@link java.util.Calendar#WEDNESDAY},\r\n     * &lt;li&gt; {@link java.util.Calendar#THURSDAY},\r\n     * &lt;li&gt; {@link java.util.Calendar#FRIDAY},\r\n     * &lt;li&gt; {@link java.util.Calendar#SATURDAY}\r\n     * &lt;/ul&gt;\r\n     */\r\n    public static final String EXTRA_DAYS = &quot;android.intent.extra.alarm.DAYS&quot;;\r\nDocumentation doesn&#39;t help me much or I&#39;m unable to understand it:\r\n\r\nhttps://developer.android.com/reference/android/provider/AlarmClock.html#EXTRA_DAYS\r\n\r\nhttps://developer.android.com/reference/java/util/Calendar.html#SUNDAY\r\n\r\n\r\nIf not mistaken, by selecting Calendar.Sunday, when setting up the alarm, sunday should be ticked in the comboBox meaning that this alarm will repeat every sunday, but it doesn&#39;t.\r\n\r\nHow do I manage to select which days of the week should my alarm repeat?\r\n\r\nAny help is welcomed and thanks for your time in advance.\r\n\r\nEDIT: I&#39;m using the \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot;/&gt;\r\n\r\non my manifest. The alarm works fine, just need to learn how to set the days of the week.","title":"How does AlarmClock.EXTRA_DAYS work - Android Studio","body":"<p>so I have a code that sets up an alarm at a specified time. I'd like to specify the day of the week aswell. So far all examples I have found are using the Calendar class, however, I use AlarmClock. This is my code:</p>\n\n<pre><code>Intent openNewAlarm = new Intent(AlarmClock.ACTION_SET_ALARM);\n        openNewAlarm.putExtra(AlarmClock.EXTRA_HOUR, Integer.parseInt(time[0]));\n        openNewAlarm.putExtra(AlarmClock.EXTRA_MINUTES, Integer.parseInt(time[1]));\n        openNewAlarm.putExtra(AlarmClock.EXTRA_MESSAGE, String.valueOf(reminder.getText()));\n        openNewAlarm.putExtra(AlarmClock.EXTRA_DAYS, Calendar.SATURDAY);\n        startActivity(openNewAlarm);\n</code></pre>\n<p>Notice the EXTRA_DAYS line. According to the description:</p>\n<pre class=\"lang-js prettyprint-override\"><code>/**\n * Bundle extra: Weekdays for repeating alarm.\n * &lt;p&gt;\n * Used by {@link #ACTION_SET_ALARM}.\n * &lt;/p&gt;&lt;p&gt;\n * The value is an {@code ArrayList&lt;Integer&gt;}. Each item can be:\n * &lt;/p&gt;\n * &lt;ul&gt;\n * &lt;li&gt; {@link java.util.Calendar#SUNDAY},\n * &lt;li&gt; {@link java.util.Calendar#MONDAY},\n * &lt;li&gt; {@link java.util.Calendar#TUESDAY},\n * &lt;li&gt; {@link java.util.Calendar#WEDNESDAY},\n * &lt;li&gt; {@link java.util.Calendar#THURSDAY},\n * &lt;li&gt; {@link java.util.Calendar#FRIDAY},\n * &lt;li&gt; {@link java.util.Calendar#SATURDAY}\n * &lt;/ul&gt;\n */\npublic static final String EXTRA_DAYS = &quot;android.intent.extra.alarm.DAYS&quot;;\n</code></pre>\n<p>Documentation doesn't help me much or I'm unable to understand it:</p>\n<p><a href=\"https://developer.android.com/reference/android/provider/AlarmClock.html#EXTRA_DAYS\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/provider/AlarmClock.html#EXTRA_DAYS</a></p>\n<p><a href=\"https://developer.android.com/reference/java/util/Calendar.html#SUNDAY\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/util/Calendar.html#SUNDAY</a></p>\n<p>If not mistaken, by selecting Calendar.Sunday, when setting up the alarm, sunday should be ticked in the comboBox meaning that this alarm will repeat every sunday, but it doesn't.</p>\n<p>How do I manage to select which days of the week should my alarm repeat?</p>\n<p>Any help is welcomed and thanks for your time in advance.</p>\n<p>EDIT: I'm using the</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot;/&gt;\n</code></pre>\n<p>on my manifest. The alarm works fine, just need to learn how to set the days of the week.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":11440915,"reputation":1,"user_id":8386537,"display_name":"Mithun Kumar"},"score":0,"creation_date":1700652141,"post_id":77529406,"comment_id":136680226,"body_markdown":"https://stackoverflow.com/questions/71452344/the-lazy-loading-property-from-entity-is-caming-in-findall-call this?","body":"<a href=\"https://stackoverflow.com/questions/71452344/the-lazy-loading-property-from-entity-is-caming-in-findall-call\" title=\"the lazy loading property from entity is caming in findall call\">stackoverflow.com/questions/71452344/&hellip;</a> this?"}],"owner":{"account_id":21069454,"reputation":143,"user_id":15485996,"display_name":"I2mNew"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700651264,"creation_date":1700651264,"question_id":77529406,"body_markdown":"I have an entity like that structure:\r\n\r\n       @Entity\r\n       @Table(name = &quot;table1&quot;)\r\n       public class XEntity implements Serializable {\r\n       // Something something\r\n\r\n       @OneToMany(\r\n        mappedBy = &quot;x&quot;,\r\n        cascade = {CascadeType.ALL},\r\n        fetch = FetchType.LAZY\r\n        )\r\n        private List&lt;Entity2&gt; entity2List;\r\n    }\r\n\r\nI don&#39;t want to join Entity2 in every query so I use `FetchType.LAZY` but when I call findAll funtion which come from QuerydslPredicateExecutor, it joins tables even predicate argument doesn&#39;t contain any condition about Entity2.\r\n\r\nWhat is the problem?","title":"Does findAll funtion of QuerydslPredicateExecutor join properies which has FetchType.LAZY","body":"<p>I have an entity like that structure:</p>\n<pre><code>   @Entity\n   @Table(name = &quot;table1&quot;)\n   public class XEntity implements Serializable {\n   // Something something\n\n   @OneToMany(\n    mappedBy = &quot;x&quot;,\n    cascade = {CascadeType.ALL},\n    fetch = FetchType.LAZY\n    )\n    private List&lt;Entity2&gt; entity2List;\n}\n</code></pre>\n<p>I don't want to join Entity2 in every query so I use <code>FetchType.LAZY</code> but when I call findAll funtion which come from QuerydslPredicateExecutor, it joins tables even predicate argument doesn't contain any condition about Entity2.</p>\n<p>What is the problem?</p>\n"},{"tags":["java","arrays","json","jackson"],"comments":[{"owner":{"account_id":3165813,"reputation":553,"user_id":2675866,"accept_rate":38,"display_name":"Smogger"},"score":0,"creation_date":1381574320,"post_id":19333106,"comment_id":28639690,"body_markdown":"why are you using jackson  if you can simply parse it with json parser","body":"why are you using jackson  if you can simply parse it with json parser"},{"owner":{"account_id":291949,"reputation":4846,"user_id":594406,"accept_rate":29,"display_name":"Katona"},"score":5,"creation_date":1381574401,"post_id":19333106,"comment_id":28639709,"body_markdown":"Your JSON string is malformed, the type of `center` is an array of invalid objects. Try to replace `[` and `]` with `{` and `}` in the JSON string around `longitude` and `latitude` so they will be objects.","body":"Your JSON string is malformed, the type of <code>center</code> is an array of invalid objects. Try to replace <code>[</code> and <code>]</code> with <code>{</code> and <code>}</code> in the JSON string around <code>longitude</code> and <code>latitude</code> so they will be objects."},{"owner":{"account_id":146433,"reputation":50504,"user_id":356895,"accept_rate":66,"display_name":"JJD"},"score":1,"creation_date":1381938424,"post_id":19333106,"comment_id":28768131,"body_markdown":"@Katona Thank you. Can you please convert your comment into an answer so I can close the question?!","body":"@Katona Thank you. Can you please convert your comment into an answer so I can close the question?!"},{"owner":{"account_id":1751674,"reputation":117,"user_id":1600619,"display_name":"codester"},"score":0,"creation_date":1601319149,"post_id":19333106,"comment_id":113364823,"body_markdown":"I had the same error, but because I had used a LocalDate class. Once i added the missing JavaTimeModule with &quot;mapper.registerModule(new JavaTimeModule());&quot; , the problem went away.","body":"I had the same error, but because I had used a LocalDate class. Once i added the missing JavaTimeModule with &quot;mapper.registerModule(new JavaTimeModule());&quot; , the problem went away."}],"answers":[{"comments":[{"owner":{"account_id":4421800,"reputation":814,"user_id":9586104,"display_name":"brebDev"},"score":2,"creation_date":1552488553,"post_id":19410946,"comment_id":97029961,"body_markdown":"The same problem I had, but it crazy since in jackson 2.6.3v there was a totally different crazy error, and with 2.9.8v everything worked. Damn it, so these serialization errors are so annoying.","body":"The same problem I had, but it crazy since in jackson 2.6.3v there was a totally different crazy error, and with 2.9.8v everything worked. Damn it, so these serialization errors are so annoying."},{"owner":{"account_id":3668693,"reputation":173,"user_id":3056361,"display_name":"Kanthishere"},"score":0,"creation_date":1601246585,"post_id":19410946,"comment_id":113339261,"body_markdown":"Atul Sharma answer Below looks more relevant for this question. Kindly review and modify. Thanks","body":"Atul Sharma answer Below looks more relevant for this question. Kindly review and modify. Thanks"}],"tags":[],"owner":{"account_id":291949,"reputation":4846,"user_id":594406,"accept_rate":29,"display_name":"Katona"},"comment_count":2,"down_vote_count":2,"up_vote_count":100,"is_accepted":true,"score":98,"last_activity_date":1381947938,"creation_date":1381947938,"answer_id":19410946,"question_id":19333106,"body_markdown":"Your JSON string is malformed: the type of `center` is an array of invalid objects. Replace `[` and `]` with `{` and `}` in the JSON string around `longitude` and `latitude` so they will be objects:\r\n\r\n    [\r\n        {\r\n            &quot;name&quot; : &quot;New York&quot;,\r\n            &quot;number&quot; : &quot;732921&quot;,\r\n            &quot;center&quot; : {\r\n                    &quot;latitude&quot; : 38.895111, \r\n                    &quot;longitude&quot; : -77.036667\r\n                }\r\n        },\r\n        {\r\n            &quot;name&quot; : &quot;San Francisco&quot;,\r\n            &quot;number&quot; : &quot;298732&quot;,\r\n            &quot;center&quot; : {\r\n                    &quot;latitude&quot; : 37.783333, \r\n                    &quot;longitude&quot; : -122.416667\r\n                }\r\n        }\r\n    ]","title":"Issue with parsing the content from JSON file with Jackson &amp; message- JsonMappingException -Cannot deserialize as out of START_ARRAY token","body":"<p>Your JSON string is malformed: the type of <code>center</code> is an array of invalid objects. Replace <code>[</code> and <code>]</code> with <code>{</code> and <code>}</code> in the JSON string around <code>longitude</code> and <code>latitude</code> so they will be objects:</p>\n\n<pre><code>[\n    {\n        \"name\" : \"New York\",\n        \"number\" : \"732921\",\n        \"center\" : {\n                \"latitude\" : 38.895111, \n                \"longitude\" : -77.036667\n            }\n    },\n    {\n        \"name\" : \"San Francisco\",\n        \"number\" : \"298732\",\n        \"center\" : {\n                \"latitude\" : 37.783333, \n                \"longitude\" : -122.416667\n            }\n    }\n]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"score":1,"creation_date":1651133373,"post_id":33515796,"comment_id":127291947,"body_markdown":"For Kotliners here is an example: val result: ResponseEntity&lt;Array&lt;BillingType&gt;&gt; = restTemplate.getForEntity(uri, Array&lt;BillingType&gt;::class.java)","body":"For Kotliners here is an example: val result: ResponseEntity&lt;Array&lt;BillingType&gt;&gt; = restTemplate.getForEntity(uri, Array&lt;BillingType&gt;::class.java)"}],"tags":[],"owner":{"account_id":204470,"reputation":8571,"user_id":452708,"accept_rate":0,"display_name":"Abhijeet"},"comment_count":1,"down_vote_count":1,"up_vote_count":188,"is_accepted":false,"score":187,"last_activity_date":1446621246,"creation_date":1446621246,"answer_id":33515796,"question_id":19333106,"body_markdown":"`JsonMappingException: out of START_ARRAY token` exception is thrown by Jackson object mapper as it&#39;s expecting an `Object {}` whereas it found an `Array [{}]` in response.\r\n\r\nThis can be solved by replacing `Object` with `Object[]` in the argument for `geForObject(&quot;url&quot;,Object[].class)`. \r\nReferences:\r\n\r\n 1. [Ref.1][1]\r\n 2. [Ref.2][2]\r\n 3. [Ref.3][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26796142/452708\r\n  [2]: https://stackoverflow.com/a/28449667/452708\r\n  [3]: https://stackoverflow.com/a/25512128/452708","title":"Issue with parsing the content from JSON file with Jackson &amp; message- JsonMappingException -Cannot deserialize as out of START_ARRAY token","body":"<p><code>JsonMappingException: out of START_ARRAY token</code> exception is thrown by Jackson object mapper as it's expecting an <code>Object {}</code> whereas it found an <code>Array [{}]</code> in response.</p>\n\n<p>This can be solved by replacing <code>Object</code> with <code>Object[]</code> in the argument for <code>geForObject(\"url\",Object[].class)</code>. \nReferences:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/a/26796142/452708\">Ref.1</a></li>\n<li><a href=\"https://stackoverflow.com/a/28449667/452708\">Ref.2</a></li>\n<li><a href=\"https://stackoverflow.com/a/25512128/452708\">Ref.3</a></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":146433,"reputation":50504,"user_id":356895,"accept_rate":66,"display_name":"JJD"},"score":1,"creation_date":1517864662,"post_id":48586306,"comment_id":84259936,"body_markdown":"Thank you for sharing this alternative implementation. Can you tell if there are advantages or disadvantages with using `CollectionType` vs. `TypeReference`?","body":"Thank you for sharing this alternative implementation. Can you tell if there are advantages or disadvantages with using <code>CollectionType</code> vs. <code>TypeReference</code>?"},{"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":1,"creation_date":1517937573,"post_id":48586306,"comment_id":84294617,"body_markdown":"`TypeReference` syntax is far shorter than the other. Not sure, if in some cases there could be a counter-indication related to the type erasure... but in my world `TypeReference` is just easier to use and understand.","body":"<code>TypeReference</code> syntax is far shorter than the other. Not sure, if in some cases there could be a counter-indication related to the type erasure... but in my world <code>TypeReference</code> is just easier to use and understand."}],"tags":[],"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1517586744,"creation_date":1517586744,"answer_id":48586306,"question_id":19333106,"body_markdown":"As said, `JsonMappingException: out of START_ARRAY token` exception is thrown by Jackson object mapper as it&#39;s expecting an `Object {}` whereas it found an `Array [{}]` in response.\r\n\r\nA simpler solution could be replacing the method `getLocations` with:\r\n\r\n    public static List&lt;Location&gt; getLocations(InputStream inputStream) {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        try {\r\n            TypeReference&lt;List&lt;Location&gt;&gt; typeReference = new TypeReference&lt;&gt;() {};\r\n            return objectMapper.readValue(inputStream, typeReference);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\nOn the other hand, if you don&#39;t have a pojo like `Location`, you could use:\r\n\r\n    TypeReference&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt; typeReference = new TypeReference&lt;&gt;() {};\r\n    return objectMapper.readValue(inputStream, typeReference);\r\n\r\n","title":"Issue with parsing the content from JSON file with Jackson &amp; message- JsonMappingException -Cannot deserialize as out of START_ARRAY token","body":"<p>As said, <code>JsonMappingException: out of START_ARRAY token</code> exception is thrown by Jackson object mapper as it's expecting an <code>Object {}</code> whereas it found an <code>Array [{}]</code> in response.</p>\n\n<p>A simpler solution could be replacing the method <code>getLocations</code> with:</p>\n\n<pre><code>public static List&lt;Location&gt; getLocations(InputStream inputStream) {\n    ObjectMapper objectMapper = new ObjectMapper();\n    try {\n        TypeReference&lt;List&lt;Location&gt;&gt; typeReference = new TypeReference&lt;&gt;() {};\n        return objectMapper.readValue(inputStream, typeReference);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n\n<p>On the other hand, if you don't have a pojo like <code>Location</code>, you could use:</p>\n\n<pre><code>TypeReference&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt; typeReference = new TypeReference&lt;&gt;() {};\nreturn objectMapper.readValue(inputStream, typeReference);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5231726,"reputation":289,"user_id":4181803,"accept_rate":43,"display_name":"Aaria"},"score":1,"creation_date":1589650012,"post_id":53940856,"comment_id":109380096,"body_markdown":"This fixed the problem I&#39;ve been having for days, no other answers made sense.\nFor anyone else having the same error. It&#39;s worth noting that if your JSON has multiple object in, you need to be returning multiple objects. I had been returning MyObject, where I should have been returning MyObject[]","body":"This fixed the problem I&#39;ve been having for days, no other answers made sense. For anyone else having the same error. It&#39;s worth noting that if your JSON has multiple object in, you need to be returning multiple objects. I had been returning MyObject, where I should have been returning MyObject[]"}],"tags":[],"owner":{"account_id":15012948,"reputation":926,"user_id":10837620,"display_name":"Atul KS"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1546459847,"creation_date":1545893067,"answer_id":53940856,"question_id":19333106,"body_markdown":"I sorted this problem as verifying the json from JSONLint.com and then, correcting it. And this is code for the same.\r\n\r\n    String jsonStr = &quot;[{\\r\\n&quot; + &quot;\\&quot;name\\&quot;:\\&quot;New York\\&quot;,\\r\\n&quot; + &quot;\\&quot;number\\&quot;: \\&quot;732921\\&quot;,\\r\\n&quot;+ &quot;\\&quot;center\\&quot;: {\\r\\n&quot; + &quot;\\&quot;latitude\\&quot;: 38.895111,\\r\\n&quot;\t+ &quot;\t\\&quot;longitude\\&quot;: -77.036667\\r\\n&quot; + &quot;}\\r\\n&quot; + &quot;},\\r\\n&quot; + &quot;\t{\\r\\n&quot;+ &quot;\\&quot;name\\&quot;: \\&quot;San Francisco\\&quot;,\\r\\n&quot; +\\&quot;number\\&quot;:\\&quot;298732\\&quot;,\\r\\n&quot;+ &quot;\\&quot;center\\&quot;: {\\r\\n&quot; + &quot;\t\\&quot;latitude\\&quot;: 37.783333,\\r\\n&quot;+ &quot;\\&quot;longitude\\&quot;: -122.416667\\r\\n&quot; + &quot;}\\r\\n&quot; + &quot;}\\r\\n&quot; + &quot;]&quot;;\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n\tMyPojo[] jsonObj = mapper.readValue(jsonStr, MyPojo[].class);\r\n\r\n\tfor (MyPojo itr : jsonObj) {\r\n    \tSystem.out.println(&quot;Val of name is: &quot; + itr.getName());\r\n    \tSystem.out.println(&quot;Val of number is: &quot; + itr.getNumber());\r\n    \tSystem.out.println(&quot;Val of latitude is: &quot; + \r\n            itr.getCenter().getLatitude());\r\n    \tSystem.out.println(&quot;Val of longitude is: &quot; + \r\n            itr.getCenter().getLongitude() + &quot;\\n&quot;);\r\n    }\r\n\r\nNote: `MyPojo[].class` is the class having getter and setter of json properties.\r\n\r\nResult:\r\n\r\n    Val of name is: New York\r\n    Val of number is: 732921\r\n    Val of latitude is: 38.895111\r\n    Val of longitude is: -77.036667\r\n    Val of name is: San Francisco\r\n    Val of number is: 298732\r\n    Val of latitude is: 37.783333\r\n    Val of longitude is: -122.416667\r\n","title":"Issue with parsing the content from JSON file with Jackson &amp; message- JsonMappingException -Cannot deserialize as out of START_ARRAY token","body":"<p>I sorted this problem as verifying the json from JSONLint.com and then, correcting it. And this is code for the same.</p>\n\n<pre><code>String jsonStr = \"[{\\r\\n\" + \"\\\"name\\\":\\\"New York\\\",\\r\\n\" + \"\\\"number\\\": \\\"732921\\\",\\r\\n\"+ \"\\\"center\\\": {\\r\\n\" + \"\\\"latitude\\\": 38.895111,\\r\\n\"  + \" \\\"longitude\\\": -77.036667\\r\\n\" + \"}\\r\\n\" + \"},\\r\\n\" + \" {\\r\\n\"+ \"\\\"name\\\": \\\"San Francisco\\\",\\r\\n\" +\\\"number\\\":\\\"298732\\\",\\r\\n\"+ \"\\\"center\\\": {\\r\\n\" + \"    \\\"latitude\\\": 37.783333,\\r\\n\"+ \"\\\"longitude\\\": -122.416667\\r\\n\" + \"}\\r\\n\" + \"}\\r\\n\" + \"]\";\n\nObjectMapper mapper = new ObjectMapper();\nMyPojo[] jsonObj = mapper.readValue(jsonStr, MyPojo[].class);\n\nfor (MyPojo itr : jsonObj) {\n    System.out.println(\"Val of name is: \" + itr.getName());\n    System.out.println(\"Val of number is: \" + itr.getNumber());\n    System.out.println(\"Val of latitude is: \" + \n        itr.getCenter().getLatitude());\n    System.out.println(\"Val of longitude is: \" + \n        itr.getCenter().getLongitude() + \"\\n\");\n}\n</code></pre>\n\n<p>Note: <code>MyPojo[].class</code> is the class having getter and setter of json properties.</p>\n\n<p>Result:</p>\n\n<pre><code>Val of name is: New York\nVal of number is: 732921\nVal of latitude is: 38.895111\nVal of longitude is: -77.036667\nVal of name is: San Francisco\nVal of number is: 298732\nVal of latitude is: 37.783333\nVal of longitude is: -122.416667\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649878680,"creation_date":1649878680,"answer_id":71863035,"question_id":19333106,"body_markdown":"For instance:\r\n\r\ndata class\r\n\r\n    data class ToDo(\r\n    var id: Int, \r\n    var text: String?, \r\n    var completed: Boolean?) {}\r\n\r\n\r\nAbove deserialization error thrown when you use ToDo::class.java but not Array&lt;ToDo&gt;::class.java for json list\r\n\r\n**DOEST NOT WORK**\r\n\r\n  \r\n\r\n        private val mapper = ObjectMapper().registerKotlinModule()\r\n        .....\r\n        val todo= mapper.readValue(response.body(), ToDo::class.java)\r\n\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\r\n&gt; deserialize value of type `com.example.api.dto.ToDo` from Array value\r\n&gt; (token `JsonToken.START_ARRAY`)  at [Source:\r\n&gt; (String)&quot;[{&quot;id&quot;:14,&quot;text&quot;:&quot;TEST&quot;,&quot;completed&quot;:true},{&quot;id&quot;:13,&quot;text&quot;:&quot;TEST&quot;,&quot;completed&quot;:true},{&quot;id&quot;:19,&quot;text&quot;:&quot;TEST&quot;,&quot;completed&quot;:true&quot;[truncated\r\n&gt; 84 chars]; line: 1, column: 1]\r\n\r\n \r\n**WORK**\r\n\r\n    private val mapper = ObjectMapper().registerKotlinModule()\r\n    .....\r\n    val todos = mapper.readValue(response.body(), Array&lt;ToDo&gt;::class.java)\r\n\r\n","title":"Issue with parsing the content from JSON file with Jackson &amp; message- JsonMappingException -Cannot deserialize as out of START_ARRAY token","body":"<p>For instance:</p>\n<p>data class</p>\n<pre><code>data class ToDo(\nvar id: Int, \nvar text: String?, \nvar completed: Boolean?) {}\n</code></pre>\n<p>Above deserialization error thrown when you use ToDo::class.java but not Array::class.java for json list</p>\n<p><strong>DOEST NOT WORK</strong></p>\n<pre><code>    private val mapper = ObjectMapper().registerKotlinModule()\n    .....\n    val todo= mapper.readValue(response.body(), ToDo::class.java)\n</code></pre>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\ndeserialize value of type <code>com.example.api.dto.ToDo</code> from Array value\n(token <code>JsonToken.START_ARRAY</code>)  at [Source:\n(String)&quot;[{&quot;id&quot;:14,&quot;text&quot;:&quot;TEST&quot;,&quot;completed&quot;:true},{&quot;id&quot;:13,&quot;text&quot;:&quot;TEST&quot;,&quot;completed&quot;:true},{&quot;id&quot;:19,&quot;text&quot;:&quot;TEST&quot;,&quot;completed&quot;:true&quot;[truncated\n84 chars]; line: 1, column: 1]</p>\n</blockquote>\n<p><strong>WORK</strong></p>\n<pre><code>private val mapper = ObjectMapper().registerKotlinModule()\n.....\nval todos = mapper.readValue(response.body(), Array&lt;ToDo&gt;::class.java)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12954074,"reputation":804,"user_id":9365478,"display_name":"martosfre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700651243,"creation_date":1700651243,"answer_id":77529404,"question_id":19333106,"body_markdown":"If you are working with web services, the problem could be in the body value. You could send the value with an array in the following way\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd obtain the error\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nTo fix it, you must change the body correctly as an object\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dWRPD.png\r\n  [2]: https://i.stack.imgur.com/UlJGq.png\r\n  [3]: https://i.stack.imgur.com/2v0vB.png\r\n\r\nGreetings","title":"Issue with parsing the content from JSON file with Jackson &amp; message- JsonMappingException -Cannot deserialize as out of START_ARRAY token","body":"<p>If you are working with web services, the problem could be in the body value. You could send the value with an array in the following way</p>\n<p><a href=\"https://i.stack.imgur.com/dWRPD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dWRPD.png\" alt=\"enter image description here\" /></a></p>\n<p>And obtain the error</p>\n<p><a href=\"https://i.stack.imgur.com/UlJGq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UlJGq.png\" alt=\"enter image description here\" /></a></p>\n<p>To fix it, you must change the body correctly as an object</p>\n<p><a href=\"https://i.stack.imgur.com/2v0vB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2v0vB.png\" alt=\"enter image description here\" /></a></p>\n<p>Greetings</p>\n"}],"owner":{"account_id":146433,"reputation":50504,"user_id":356895,"accept_rate":66,"display_name":"JJD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518905,"favorite_count":0,"down_vote_count":1,"up_vote_count":172,"accepted_answer_id":19410946,"answer_count":6,"score":171,"last_activity_date":1700651243,"creation_date":1381573342,"question_id":19333106,"body_markdown":"Given the following .json file:\r\n\r\n    [\r\n        {\r\n            &quot;name&quot; : &quot;New York&quot;,\r\n            &quot;number&quot; : &quot;732921&quot;,\r\n            &quot;center&quot; : [\r\n                    &quot;latitude&quot; : 38.895111, \r\n                    &quot;longitude&quot; : -77.036667\r\n                ]\r\n        },\r\n        {\r\n            &quot;name&quot; : &quot;San Francisco&quot;,\r\n            &quot;number&quot; : &quot;298732&quot;,\r\n            &quot;center&quot; : [\r\n                    &quot;latitude&quot; : 37.783333, \r\n                    &quot;longitude&quot; : -122.416667\r\n                ]\r\n        }\r\n    ]\r\n\r\nI prepared two classes to represent the contained data:\r\n\r\n    public class Location {\r\n        public String name;\r\n        public int number;\r\n        public GeoPoint center;\r\n    }\r\n\r\n...\r\n\r\n    public class GeoPoint {\r\n        public double latitude;\r\n        public double longitude;\r\n    }\r\n\r\nIn order to parse the content from the .json file I use [Jackson 2.2.x][1] and prepared the following method:\r\n\r\n    public static List&lt;Location&gt; getLocations(InputStream inputStream) {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        try {\r\n            TypeFactory typeFactory = objectMapper.getTypeFactory();\r\n            CollectionType collectionType = typeFactory.constructCollectionType(\r\n                                                List.class, Location.class);\r\n            return objectMapper.readValue(inputStream, collectionType);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\nAs long as I leave out the `center` property all content can be parsed. However, when I try to parse the geo-coordinates I end up with the following error message:\r\n\r\n&gt; com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of   \r\n&gt;   com.example.GeoPoint out of START_ARRAY token at [Source: android.content.res.AssetManager$AssetInputStream@416a5850; line: 5, column: 25]   \r\n&gt; (through reference chain: com.example.Location[&quot;center&quot;])\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonHome","title":"Issue with parsing the content from JSON file with Jackson &amp; message- JsonMappingException -Cannot deserialize as out of START_ARRAY token","body":"<p>Given the following .json file:</p>\n\n<pre><code>[\n    {\n        \"name\" : \"New York\",\n        \"number\" : \"732921\",\n        \"center\" : [\n                \"latitude\" : 38.895111, \n                \"longitude\" : -77.036667\n            ]\n    },\n    {\n        \"name\" : \"San Francisco\",\n        \"number\" : \"298732\",\n        \"center\" : [\n                \"latitude\" : 37.783333, \n                \"longitude\" : -122.416667\n            ]\n    }\n]\n</code></pre>\n\n<p>I prepared two classes to represent the contained data:</p>\n\n<pre><code>public class Location {\n    public String name;\n    public int number;\n    public GeoPoint center;\n}\n</code></pre>\n\n<p>...</p>\n\n<pre><code>public class GeoPoint {\n    public double latitude;\n    public double longitude;\n}\n</code></pre>\n\n<p>In order to parse the content from the .json file I use <a href=\"http://wiki.fasterxml.com/JacksonHome\">Jackson 2.2.x</a> and prepared the following method:</p>\n\n<pre><code>public static List&lt;Location&gt; getLocations(InputStream inputStream) {\n    ObjectMapper objectMapper = new ObjectMapper();\n    try {\n        TypeFactory typeFactory = objectMapper.getTypeFactory();\n        CollectionType collectionType = typeFactory.constructCollectionType(\n                                            List.class, Location.class);\n        return objectMapper.readValue(inputStream, collectionType);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n\n<p>As long as I leave out the <code>center</code> property all content can be parsed. However, when I try to parse the geo-coordinates I end up with the following error message:</p>\n\n<blockquote>\n  <p>com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of<br>\n    com.example.GeoPoint out of START_ARRAY token at [Source: android.content.res.AssetManager$AssetInputStream@416a5850; line: 5, column: 25]<br>\n  (through reference chain: com.example.Location[\"center\"])</p>\n</blockquote>\n"},{"tags":["java","spring","intellij-idea","annotations","autowired"],"comments":[{"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"score":5,"creation_date":1415806892,"post_id":26889970,"comment_id":42335524,"body_markdown":"IntelliJ sometimes gives false positive autowire errors. For example in Spring Boot applications where a lot of the configuration is hidden behind EnableAutoConfiguration. There is an open issue for that. Other cause might be incorrectly configured Spring facet. What I usually do in these situations is lowering the inspection severity so that it&#39;s less obtrusive ...","body":"IntelliJ sometimes gives false positive autowire errors. For example in Spring Boot applications where a lot of the configuration is hidden behind EnableAutoConfiguration. There is an open issue for that. Other cause might be incorrectly configured Spring facet. What I usually do in these situations is lowering the inspection severity so that it&#39;s less obtrusive ..."},{"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"score":0,"creation_date":1617033351,"post_id":26889970,"comment_id":118182024,"body_markdown":"This issue happened to me because I was mixing JUnit 4/Junit 5/Jupiter, for my @Test annotation. Switching them to Jupiter solved the autowire errors.","body":"This issue happened to me because I was mixing JUnit 4/Junit 5/Jupiter, for my @Test annotation. Switching them to Jupiter solved the autowire errors."},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":6,"creation_date":1634584599,"post_id":26889970,"comment_id":123059614,"body_markdown":"I&#39;m on IntelliJ 2021.2.3 and this is still happening.","body":"I&#39;m on IntelliJ 2021.2.3 and this is still happening."},{"owner":{"account_id":4980167,"reputation":691,"user_id":4005400,"accept_rate":67,"display_name":"JavaQuest"},"score":3,"creation_date":1650823330,"post_id":26889970,"comment_id":127208333,"body_markdown":"Still happening IntelliJ IDEA 2022.1 (Ultimate Edition). Quite frustrating.","body":"Still happening IntelliJ IDEA 2022.1 (Ultimate Edition). Quite frustrating."},{"owner":{"account_id":9060038,"reputation":90,"user_id":6746837,"display_name":"S. H."},"score":0,"creation_date":1686667835,"post_id":26889970,"comment_id":134828903,"body_markdown":"Still happening IntelliJ IDEA 2023.1.2 (Ultimate Edition), in my specific case it is a @Service annotated class I use in a test and using @Autowired(required = false) locally as a workaround because tests run fine","body":"Still happening IntelliJ IDEA 2023.1.2 (Ultimate Edition), in my specific case it is a @Service annotated class I use in a test and using @Autowired(required = false) locally as a workaround because tests run fine"}],"answers":[{"comments":[{"owner":{"account_id":2352869,"reputation":429,"user_id":2061329,"display_name":"Sourabh"},"score":1,"creation_date":1499762345,"post_id":31891805,"comment_id":77032686,"body_markdown":"The issue is fixed now with newer versions of Intellij (checked on 2017.1)","body":"The issue is fixed now with newer versions of Intellij (checked on 2017.1)"},{"owner":{"account_id":5636901,"reputation":171,"user_id":4462119,"display_name":"Thomas Carlisle"},"score":82,"creation_date":1501008375,"post_id":31891805,"comment_id":77584871,"body_markdown":"I am still getting it with 2017.2, and it is the paid for ultimate license.","body":"I am still getting it with 2017.2, and it is the paid for ultimate license."},{"owner":{"account_id":1955454,"reputation":353,"user_id":1758534,"accept_rate":80,"display_name":"danebez"},"score":1,"creation_date":1501494038,"post_id":31891805,"comment_id":77785053,"body_markdown":"I am getting it with 2017.2 and SprintBootTest outer class and SpringBootApplication static inner class as per Spring Cloud Stream testing example: https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/_testing.html","body":"I am getting it with 2017.2 and SprintBootTest outer class and SpringBootApplication static inner class as per Spring Cloud Stream testing example: <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/_testing.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-stream/docs/current/reference/ht&zwnj;&#8203;ml/&hellip;</a>"},{"owner":{"account_id":2603781,"reputation":4035,"user_id":2255436,"accept_rate":86,"display_name":"Abimbola Esuruoso"},"score":0,"creation_date":1501495859,"post_id":31891805,"comment_id":77786386,"body_markdown":"Does replacing `@SpringBootApplication` with the three separate annotations (`@Configuration, @EnableAutoConfiguration and @ComponentScan`) resolve the issue?","body":"Does replacing <code>@SpringBootApplication</code> with the three separate annotations (<code>@Configuration, @EnableAutoConfiguration and @ComponentScan</code>) resolve the issue?"},{"owner":{"account_id":6494108,"reputation":174,"user_id":5027222,"display_name":"PanHrabia"},"score":5,"creation_date":1507252043,"post_id":31891805,"comment_id":80146388,"body_markdown":"For more recent versions of IntelliJ (e.g. 2017) you have to enable the Spring Data plugin and then you don&#39;t need any of the above workarounds. There&#39;s another answer below that tells you how to do that.","body":"For more recent versions of IntelliJ (e.g. 2017) you have to enable the Spring Data plugin and then you don&#39;t need any of the above workarounds. There&#39;s another answer below that tells you how to do that."},{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":1,"creation_date":1540239378,"post_id":31891805,"comment_id":92783383,"body_markdown":"I used @EnableAutoConfiguration to address it.","body":"I used @EnableAutoConfiguration to address it."},{"owner":{"account_id":2701129,"reputation":332,"user_id":2331836,"display_name":"Dave Goodchild"},"score":5,"creation_date":1540744200,"post_id":31891805,"comment_id":92967484,"body_markdown":"With IntelliJ 2018.2, using Spring Boot 2.0.5 and `@SpringBootApplication` I was receiving this error. I followed the advice of @Ja&#245;s Matos by using the `scanBasePackages` parameter to `@SpringBootApplication` and specified the package/namespaces that should be scanned.","body":"With IntelliJ 2018.2, using Spring Boot 2.0.5 and <code>@SpringBootApplication</code> I was receiving this error. I followed the advice of @Ja&#245;s Matos by using the <code>scanBasePackages</code> parameter to <code>@SpringBootApplication</code> and specified the package/namespaces that should be scanned."},{"owner":{"account_id":5989144,"reputation":1292,"user_id":4705727,"display_name":"TabsNotSpaces"},"score":1,"creation_date":1542147569,"post_id":31891805,"comment_id":93462472,"body_markdown":"With IntelliJ 2018.1, I had `@SpringBootApplication` and was also receiving the error. It ended up being a problem with intelliJ&#39;s context not including the new configuration file where the `@Bean` was defined. After [including the new config in my context](https://www.jetbrains.com/help/idea/2018.1/spring-support.html?utm_content=2018.1&amp;utm_medium=link&amp;utm_source=product&amp;utm_campaign=IU#spring-file-set), the error went away","body":"With IntelliJ 2018.1, I had <code>@SpringBootApplication</code> and was also receiving the error. It ended up being a problem with intelliJ&#39;s context not including the new configuration file where the <code>@Bean</code> was defined. After <a href=\"https://www.jetbrains.com/help/idea/2018.1/spring-support.html?utm_content=2018.1&amp;utm_medium=link&amp;utm_source=product&amp;utm_campaign=IU#spring-file-set\" rel=\"nofollow noreferrer\">including the new config in my context</a>, the error went away"},{"owner":{"account_id":1025551,"reputation":162,"user_id":1034934,"display_name":"kimchoky"},"score":0,"creation_date":1599306848,"post_id":31891805,"comment_id":112737963,"body_markdown":"Same issue with version 2020.1.","body":"Same issue with version 2020.1."},{"owner":{"account_id":11117369,"reputation":1482,"user_id":8161309,"display_name":"Amir"},"score":1,"creation_date":1602179240,"post_id":31891805,"comment_id":113646039,"body_markdown":"I am using Intellij 2020.1 and I get the same no beans found error.  Still trying to figure out how to get it working.  When I add a @Repository annotation to my DAO object, it seems to remove that error.  But my database connectivity doesn&#39;t seem to be working.","body":"I am using Intellij 2020.1 and I get the same no beans found error.  Still trying to figure out how to get it working.  When I add a @Repository annotation to my DAO object, it seems to remove that error.  But my database connectivity doesn&#39;t seem to be working."},{"owner":{"account_id":7335563,"reputation":1202,"user_id":5587080,"accept_rate":75,"display_name":"FavorMylikes"},"score":1,"creation_date":1606819718,"post_id":31891805,"comment_id":115071279,"body_markdown":"Still with IntelliJ 2020.1, Spring boot 2 and @SpringBootTest","body":"Still with IntelliJ 2020.1, Spring boot 2 and @SpringBootTest"},{"owner":{"account_id":9224124,"reputation":474,"user_id":6852455,"display_name":"Pawel"},"score":9,"creation_date":1608219624,"post_id":31891805,"comment_id":115521576,"body_markdown":"Same in 2020.3, Spring Boot 2.3.7, Kotlin 1.4.21, for @Autowired\n    lateinit var embeddedKafka: EmbeddedKafkaBroker","body":"Same in 2020.3, Spring Boot 2.3.7, Kotlin 1.4.21, for @Autowired     lateinit var embeddedKafka: EmbeddedKafkaBroker"},{"owner":{"account_id":4449070,"reputation":71,"user_id":3621576,"display_name":"ederrafo"},"score":0,"creation_date":1623297266,"post_id":31891805,"comment_id":120040288,"body_markdown":"In IntellijIDEA right clic and check &gt; Mark Directory As &gt; Test source.","body":"In IntellijIDEA right clic and check &gt; Mark Directory As &gt; Test source."},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":10,"creation_date":1624340186,"post_id":31891805,"comment_id":120324543,"body_markdown":"Same here, version 2021.1.2 Ultimate Edition","body":"Same here, version 2021.1.2 Ultimate Edition"},{"owner":{"account_id":1360451,"reputation":111,"user_id":1297934,"display_name":"GlamSelva1297934"},"score":0,"creation_date":1625926489,"post_id":31891805,"comment_id":120760033,"body_markdown":"THis solve the problem and the reference is below:-\nhttps://www.programmersought.com/article/26636013309/\n@ Bean\n    public RestTemplate restTemplate(RestTemplateBuilder builder){\n        return builder.build();\n    }\n \n    @ Autowired\n    private RestTemplate restTemplate;","body":"THis solve the problem and the reference is below:- <a href=\"https://www.programmersought.com/article/26636013309/\" rel=\"nofollow noreferrer\">programmersought.com/article/26636013309</a> @ Bean     public RestTemplate restTemplate(RestTemplateBuilder builder){         return builder.build();     }       @ Autowired     private RestTemplate restTemplate;"},{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":0,"creation_date":1627554051,"post_id":31891805,"comment_id":121189461,"body_markdown":"Great advice to ignore IntelliJ!","body":"Great advice to ignore IntelliJ!"},{"owner":{"account_id":331146,"reputation":6710,"user_id":655667,"accept_rate":86,"display_name":"Barry Chapman"},"score":2,"creation_date":1650480699,"post_id":31891805,"comment_id":127129522,"body_markdown":"exists in 2022.1 Ultimate Edition","body":"exists in 2022.1 Ultimate Edition"},{"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"score":0,"creation_date":1652357317,"post_id":31891805,"comment_id":127589602,"body_markdown":"Same in 2021.1.4 Ultimate Edition","body":"Same in 2021.1.4 Ultimate Edition"},{"owner":{"account_id":1916452,"reputation":1764,"user_id":1728946,"accept_rate":79,"display_name":"C&#233;cile Fecherolle"},"score":6,"creation_date":1659443928,"post_id":31891805,"comment_id":129291931,"body_markdown":"Sad to say this still happens in 2022.2 Ultimate Edition","body":"Sad to say this still happens in 2022.2 Ultimate Edition"},{"owner":{"account_id":1636706,"reputation":196,"user_id":1510006,"display_name":"user1510006"},"score":0,"creation_date":1673203732,"post_id":31891805,"comment_id":132440697,"body_markdown":"https://youtrack.jetbrains.com/issue/IDEA-281454/Could-not-autowire.-No-beans-of-XXX-type-found-IntelliJ-2021.2.3-Spring-2.5.6","body":"<a href=\"https://youtrack.jetbrains.com/issue/IDEA-281454/Could-not-autowire.-No-beans-of-XXX-type-found-IntelliJ-2021.2.3-Spring-2.5.6\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-281454/&hellip;</a>"},{"owner":{"account_id":4271071,"reputation":81,"user_id":3492865,"display_name":"Lungelo"},"score":0,"creation_date":1683097904,"post_id":31891805,"comment_id":134312466,"body_markdown":"Works for me in 2022.1.4 (Ultimate Edition)","body":"Works for me in 2022.1.4 (Ultimate Edition)"},{"owner":{"account_id":5295180,"reputation":192,"user_id":4226541,"display_name":"ad3luc"},"score":1,"creation_date":1686296204,"post_id":31891805,"comment_id":134782172,"body_markdown":"Still present the error for me with [IntelliJ IDEA 2023.1.2 (Ultimate Edition)]","body":"Still present the error for me with [IntelliJ IDEA 2023.1.2 (Ultimate Edition)]"},{"owner":{"account_id":15187657,"reputation":122,"user_id":10959131,"display_name":"NickNgn"},"score":1,"creation_date":1690507811,"post_id":31891805,"comment_id":135367125,"body_markdown":"Added 3 annotations to root configuration file: `Configuration`, `@EnableAutoConfiguration` and `@ComponentScan` explicitly, and all those warnings disappeared.","body":"Added 3 annotations to root configuration file: <code>Configuration</code>, <code>@EnableAutoConfiguration</code> and <code>@ComponentScan</code> explicitly, and all those warnings disappeared."},{"owner":{"account_id":27412974,"reputation":142,"user_id":20912639,"display_name":"Martin Maťovč&#237;k"},"score":0,"creation_date":1695301455,"post_id":31891805,"comment_id":136008199,"body_markdown":"I got the same error also in IntelliJ 2023.2. Ultimate. However, the error was presented only in Tests so I switched from @SpringBootTest to your suggested anotations and it works. Thanks.","body":"I got the same error also in IntelliJ 2023.2. Ultimate. However, the error was presented only in Tests so I switched from @SpringBootTest to your suggested anotations and it works. Thanks."}],"tags":[],"owner":{"account_id":2603781,"reputation":4035,"user_id":2255436,"accept_rate":86,"display_name":"Abimbola Esuruoso"},"comment_count":24,"down_vote_count":4,"up_vote_count":293,"is_accepted":true,"score":289,"last_activity_date":1519726832,"creation_date":1439027163,"answer_id":31891805,"question_id":26889970,"body_markdown":"I had this same issue when creating a *Spring Boot* application using their `@SpringBootApplication` annotation. This annotation represents `@Configuration`, `@EnableAutoConfiguration` and `@ComponentScan` according to the [spring reference][1].\r\n\r\nAs expected, the new annotation worked properly and my application ran smoothly but, **Intellij** kept complaining about unfulfilled `@Autowire` dependencies. As soon as I changed back to using `@Configuration`, `@EnableAutoConfiguration` and `@ComponentScan` separately, the errors ceased. It seems **Intellij 14.0.3** (and most likely, earlier versions too) is not yet configured to recognise the `@SpringBootApplication` annotation.\r\n\r\nFor now, if the errors disturb you that much, then revert back to those three separate annotations. Otherwise, ignore **Intellij**...your dependency resolution is correctly configured, since your test passes.\r\n\r\nAlways remember...\r\n&gt; Man is always greater than machine.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-using-springbootapplication-annotation.html","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>I had this same issue when creating a <em>Spring Boot</em> application using their <code>@SpringBootApplication</code> annotation. This annotation represents <code>@Configuration</code>, <code>@EnableAutoConfiguration</code> and <code>@ComponentScan</code> according to the <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-using-springbootapplication-annotation.html\" rel=\"noreferrer\">spring reference</a>.</p>\n\n<p>As expected, the new annotation worked properly and my application ran smoothly but, <strong>Intellij</strong> kept complaining about unfulfilled <code>@Autowire</code> dependencies. As soon as I changed back to using <code>@Configuration</code>, <code>@EnableAutoConfiguration</code> and <code>@ComponentScan</code> separately, the errors ceased. It seems <strong>Intellij 14.0.3</strong> (and most likely, earlier versions too) is not yet configured to recognise the <code>@SpringBootApplication</code> annotation.</p>\n\n<p>For now, if the errors disturb you that much, then revert back to those three separate annotations. Otherwise, ignore <strong>Intellij</strong>...your dependency resolution is correctly configured, since your test passes.</p>\n\n<p>Always remember...</p>\n\n<blockquote>\n  <p>Man is always greater than machine.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3288199,"reputation":1,"user_id":2767080,"display_name":"Alpha"},"comment_count":0,"down_vote_count":23,"up_vote_count":1,"is_accepted":false,"score":-22,"last_activity_date":1442300828,"creation_date":1442300828,"answer_id":32579782,"question_id":26889970,"body_markdown":"I encountered this issue too, and resolved it by the removing Spring Facet:\r\n\r\n - File -&gt; Project Structure \r\n - Select `Facets`\r\n - Remove Spring\r\n\r\n\r\nGood luck!","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>I encountered this issue too, and resolved it by the removing Spring Facet:</p>\n\n<ul>\n<li>File -> Project Structure </li>\n<li>Select <code>Facets</code></li>\n<li>Remove Spring</li>\n</ul>\n\n<p>Good luck!</p>\n"},{"comments":[{"owner":{"account_id":2797099,"reputation":163,"user_id":2406123,"accept_rate":20,"display_name":"ismoore999"},"score":3,"creation_date":1455010625,"post_id":34823996,"comment_id":58286958,"body_markdown":"According to this https://youtrack.jetbrains.com/issue/IDEA-148113 it is fixed in version 16... (holds breath)","body":"According to this <a href=\"https://youtrack.jetbrains.com/issue/IDEA-148113\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-148113</a> it is fixed in version 16... (holds breath)"},{"owner":{"account_id":63717,"reputation":8625,"user_id":188474,"accept_rate":95,"display_name":"Brett"},"score":0,"creation_date":1456432865,"post_id":34823996,"comment_id":58957160,"body_markdown":"@Component also seems to work.  Looks like one just needs to force the interface / class to be scanned","body":"@Component also seems to work.  Looks like one just needs to force the interface / class to be scanned"},{"owner":{"account_id":2934583,"reputation":4941,"user_id":2513872,"display_name":"Shin Kim"},"score":0,"creation_date":1554275102,"post_id":34823996,"comment_id":97685826,"body_markdown":"You don&#39;t need to add @Repository anymore. Just on Spring Data plugin.","body":"You don&#39;t need to add @Repository anymore. Just on Spring Data plugin."},{"owner":{"account_id":368094,"reputation":812,"user_id":714693,"accept_rate":58,"display_name":"garyM"},"score":19,"creation_date":1577635816,"post_id":34823996,"comment_id":105213019,"body_markdown":"Three years later and it&#39;s broken again","body":"Three years later and it&#39;s broken again"},{"owner":{"account_id":12606630,"reputation":105,"user_id":9167310,"display_name":"bzuo"},"score":0,"creation_date":1594359317,"post_id":34823996,"comment_id":111103583,"body_markdown":"I used /@Mapper for my mapper interface (mybatis). IDEA throw this warning. I changed it to /@Repository the warning gone.","body":"I used /@Mapper for my mapper interface (mybatis). IDEA throw this warning. I changed it to /@Repository the warning gone."},{"owner":{"account_id":3315377,"reputation":475,"user_id":2787886,"accept_rate":0,"display_name":"spyro"},"score":1,"creation_date":1610559682,"post_id":34823996,"comment_id":116175043,"body_markdown":"Still same error in 2020.3.1 (Kotlin with default parameter value, runs fine but IntelliJ displays an error)","body":"Still same error in 2020.3.1 (Kotlin with default parameter value, runs fine but IntelliJ displays an error)"}],"tags":[],"owner":{"account_id":2842936,"reputation":2530,"user_id":2442133,"accept_rate":57,"display_name":"mkczyk"},"comment_count":6,"down_vote_count":0,"up_vote_count":99,"is_accepted":false,"score":99,"last_activity_date":1653921576,"creation_date":1452923527,"answer_id":34823996,"question_id":26889970,"body_markdown":"Add Spring annotation `@Repository` over the repository class. \r\n\r\nI know it should work without this annotation. But if you add this, IntelliJ will not show error. \r\n\r\n    @Repository\r\n    public interface YourRepository ...\r\n    ...\r\n\r\nIf you use Spring Data with extending `Repository` class it will be conflict packages. Then you must indicate packages directly.\r\n\r\n    import org.springframework.data.repository.Repository;\r\n    ...\r\n    \r\n    @org.springframework.stereotype.Repository\r\n    public interface YourRepository extends Repository&lt;YourClass, Long&gt; {\r\n    \t...\r\n    }\r\n\r\nAnd next you can autowired your repository without errors.\r\n\r\n    @Autowired\r\n    YourRepository yourRepository;\r\n\r\nIt probably is not a good solution (I guess you are trying to register repository twice). But work for me and don&#39;t show errors. \r\n\r\nMaybe in the new version of IntelliJ can be fixed: https://youtrack.jetbrains.com/issue/IDEA-137023","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>Add Spring annotation <code>@Repository</code> over the repository class.</p>\n<p>I know it should work without this annotation. But if you add this, IntelliJ will not show error.</p>\n<pre><code>@Repository\npublic interface YourRepository ...\n...\n</code></pre>\n<p>If you use Spring Data with extending <code>Repository</code> class it will be conflict packages. Then you must indicate packages directly.</p>\n<pre><code>import org.springframework.data.repository.Repository;\n...\n\n@org.springframework.stereotype.Repository\npublic interface YourRepository extends Repository&lt;YourClass, Long&gt; {\n    ...\n}\n</code></pre>\n<p>And next you can autowired your repository without errors.</p>\n<pre><code>@Autowired\nYourRepository yourRepository;\n</code></pre>\n<p>It probably is not a good solution (I guess you are trying to register repository twice). But work for me and don't show errors.</p>\n<p>Maybe in the new version of IntelliJ can be fixed: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-137023\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-137023</a></p>\n"},{"tags":[],"owner":{"account_id":1459952,"reputation":612,"user_id":1374539,"display_name":"U.V."},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1459851252,"creation_date":1459851252,"answer_id":36423457,"question_id":26889970,"body_markdown":"My solution to this issue in my spring boot application was to open the spring application context and adding the class for the missing autowired bean manually!\r\n\r\n(access via Project Structure menu or spring tool window... edit &quot;Spring Application Context&quot;)\r\n\r\nSo instead of SpringApplicationContext just containing my ExampleApplication spring configuration it also contains the missing Bean:\r\n\r\nSpringApplicationContext:\r\n\r\n - ExampleApplication.java\r\n - MissingBeanClass.java\r\n\r\net voil&#224;: The error message disappeared!\r\n","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>My solution to this issue in my spring boot application was to open the spring application context and adding the class for the missing autowired bean manually!</p>\n\n<p>(access via Project Structure menu or spring tool window... edit \"Spring Application Context\")</p>\n\n<p>So instead of SpringApplicationContext just containing my ExampleApplication spring configuration it also contains the missing Bean:</p>\n\n<p>SpringApplicationContext:</p>\n\n<ul>\n<li>ExampleApplication.java</li>\n<li>MissingBeanClass.java</li>\n</ul>\n\n<p>et voilà: The error message disappeared!</p>\n"},{"tags":[],"owner":{"account_id":314179,"reputation":14010,"user_id":629222,"accept_rate":82,"display_name":"wired00"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1461204902,"creation_date":1461204902,"answer_id":36758392,"question_id":26889970,"body_markdown":"Putting `@Component` or `@configuration` in your bean config file seems to work, ie something like: \r\n\r\n    @Configuration\r\n    public class MyApplicationContext {\r\n        @Bean\r\n        public DirectoryScanner scanner() {\r\n            return new WatchServiceDirectoryScanner(&quot;/tmp/myDir&quot;);\r\n        }\r\n    }\r\n\r\n    @Component\r\n    public class MyApplicationContext {\r\n        @Bean\r\n        public DirectoryScanner scanner() {\r\n            return new WatchServiceDirectoryScanner(&quot;/tmp/myDir&quot;);\r\n        }\r\n    }\r\n\r\n ","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>Putting <code>@Component</code> or <code>@configuration</code> in your bean config file seems to work, ie something like: </p>\n\n<pre><code>@Configuration\npublic class MyApplicationContext {\n    @Bean\n    public DirectoryScanner scanner() {\n        return new WatchServiceDirectoryScanner(\"/tmp/myDir\");\n    }\n}\n\n@Component\npublic class MyApplicationContext {\n    @Bean\n    public DirectoryScanner scanner() {\n        return new WatchServiceDirectoryScanner(\"/tmp/myDir\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":428306,"reputation":1151,"user_id":810546,"accept_rate":0,"display_name":"WebComer"},"score":0,"creation_date":1488745837,"post_id":37430021,"comment_id":72356167,"body_markdown":"This makes sense and did the trick for me. Why turn off warnings? The warnings should work as expected!","body":"This makes sense and did the trick for me. Why turn off warnings? The warnings should work as expected!"}],"tags":[],"owner":{"account_id":1005397,"reputation":9269,"user_id":1019307,"accept_rate":50,"display_name":"HankCa"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1464159927,"creation_date":1464159927,"answer_id":37430021,"question_id":26889970,"body_markdown":"And one last piece of important information - add the `ComponentScan` so that the app knows about the things it needs to wire.  This is not relevant in the case of this question.  However if no `@autowiring` is being performed at all then this is likely your solution.\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackages = {\r\n        &quot;some_package&quot;,\r\n    })\r\n    public class someService {","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>And one last piece of important information - add the <code>ComponentScan</code> so that the app knows about the things it needs to wire.  This is not relevant in the case of this question.  However if no <code>@autowiring</code> is being performed at all then this is likely your solution.</p>\n\n<pre><code>@Configuration\n@ComponentScan(basePackages = {\n    \"some_package\",\n})\npublic class someService {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":251649,"reputation":11484,"user_id":529187,"accept_rate":34,"display_name":"Devs love ZenUML"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1468039603,"creation_date":1464680207,"answer_id":37539633,"question_id":26889970,"body_markdown":"If you don&#39;t want to make any change to you code just to make your IDE happy. I have solved it by adding all components to the Spring facet. \r\n\r\n1. Create a group with name &quot;Service, Processors and Routers&quot; or any name you like;\r\n2. Remove and recreate &quot;Spring Application Context&quot; use the group you created previously as a parent.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/NLiWU.png\r\n","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>If you don't want to make any change to you code just to make your IDE happy. I have solved it by adding all components to the Spring facet. </p>\n\n<ol>\n<li>Create a group with name \"Service, Processors and Routers\" or any name you like;</li>\n<li>Remove and recreate \"Spring Application Context\" use the group you created previously as a parent.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/NLiWU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NLiWU.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":8600423,"reputation":566,"user_id":6442209,"display_name":"Jensen Buck"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466485999,"creation_date":1466485999,"answer_id":37936066,"question_id":26889970,"body_markdown":"This seems to still be a bug in the latest IntelliJ and has to do with a possible caching issue? \r\n\r\nIf you add the @Repository annotation as mk321 mentioned above, save, then remove the annotation and save again, this fixes the problem. ","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>This seems to still be a bug in the latest IntelliJ and has to do with a possible caching issue? </p>\n\n<p>If you add the @Repository annotation as mk321 mentioned above, save, then remove the annotation and save again, this fixes the problem. </p>\n"},{"comments":[{"owner":{"account_id":4160602,"reputation":151,"user_id":3725221,"display_name":"Iakov Senatov"},"score":0,"creation_date":1580306218,"post_id":39481979,"comment_id":106053938,"body_markdown":"@ComponentScan(&quot;package.include.your.annotation.component&quot;) !","body":"@ComponentScan(&quot;package.include.your.annotation.component&quot;) !"}],"tags":[],"owner":{"account_id":8375830,"reputation":21,"user_id":6289322,"display_name":"sfwn"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474045105,"creation_date":1473823060,"answer_id":39481979,"question_id":26889970,"body_markdown":"What you need to do is add  \r\n\r\n`@ComponentScan(&quot;package/include/your/annotation/component&quot;)`  in `AppConfiguration.java`.  \r\n\r\nSince I think your `AppConfiguraion.java`&#39;s package is **deeper** than your annotation component (@Service, @Component...)&#39;s package,  \r\n\r\nsuch as `&quot;package/include/your/annotation/component/deeper/config&quot;`.","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>What you need to do is add  </p>\n\n<p><code>@ComponentScan(\"package/include/your/annotation/component\")</code>  in <code>AppConfiguration.java</code>.  </p>\n\n<p>Since I think your <code>AppConfiguraion.java</code>'s package is <strong>deeper</strong> than your annotation component (@Service, @Component...)'s package,  </p>\n\n<p>such as <code>\"package/include/your/annotation/component/deeper/config\"</code>.</p>\n"},{"comments":[{"owner":{"account_id":4160602,"reputation":151,"user_id":3725221,"display_name":"Iakov Senatov"},"score":0,"creation_date":1580306171,"post_id":39918770,"comment_id":106053907,"body_markdown":"only for test packages!","body":"only for test packages!"}],"tags":[],"owner":{"account_id":7935600,"reputation":1441,"user_id":5991749,"display_name":"K. Gol"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475847838,"creation_date":1475847838,"answer_id":39918770,"question_id":26889970,"body_markdown":"I had a similar problem in my application.\r\nWhen I added annotations incorrect highliting dissapeared.\r\n\r\n    @ContextConfiguration(classes = {...})","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>I had a similar problem in my application.\nWhen I added annotations incorrect highliting dissapeared.</p>\n\n<pre><code>@ContextConfiguration(classes = {...})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2701129,"reputation":332,"user_id":2331836,"display_name":"Dave Goodchild"},"score":2,"creation_date":1540744023,"post_id":41766552,"comment_id":92967430,"body_markdown":"This is definitely the better, cleaner solution, and can confirm that this removed the warning. Thanks!","body":"This is definitely the better, cleaner solution, and can confirm that this removed the warning. Thanks!"},{"owner":{"account_id":467624,"reputation":725,"user_id":1825458,"display_name":"GriffoGoes"},"score":2,"creation_date":1542055338,"post_id":41766552,"comment_id":93423310,"body_markdown":"In my case I had `@SpringBootApplication(scanBasePackages={&quot;com.a.b, com.a.c&quot;})`  and although the app worked fine, intellij didn&#39;t like it. Changing to `@SpringBootApplication(scanBasePackages={&quot;com.a.b&quot;, &quot;com.a.c&quot;})` fixed for me!","body":"In my case I had <code>@SpringBootApplication(scanBasePackages={&quot;com.a.b, com.a.c&quot;})</code>  and although the app worked fine, intellij didn&#39;t like it. Changing to <code>@SpringBootApplication(scanBasePackages={&quot;com.a.b&quot;, &quot;com.a.c&quot;})</code> fixed for me!"},{"owner":{"account_id":290055,"reputation":1699,"user_id":591374,"accept_rate":61,"display_name":"MusikPolice"},"score":1,"creation_date":1552942062,"post_id":41766552,"comment_id":97194034,"body_markdown":"This is by far the best solution, since it&#39;s portable between IDEs and clearly communicates developer intent.","body":"This is by far the best solution, since it&#39;s portable between IDEs and clearly communicates developer intent."},{"owner":{"account_id":368094,"reputation":812,"user_id":714693,"accept_rate":58,"display_name":"garyM"},"score":0,"creation_date":1577635686,"post_id":41766552,"comment_id":105212979,"body_markdown":"I&#39;m using ultimate 2019.3.1 spring boot 2.2.1 and java 11.0.4. The problem still exists in unit test files.","body":"I&#39;m using ultimate 2019.3.1 spring boot 2.2.1 and java 11.0.4. The problem still exists in unit test files."},{"owner":{"account_id":10328875,"reputation":51,"user_id":7619472,"display_name":"Juan Monsalve"},"score":2,"creation_date":1586302173,"post_id":41766552,"comment_id":108078533,"body_markdown":"what @GriffoGoes suggested fixed my problem, since i was ussing a multi module structure, that was my best solution","body":"what @GriffoGoes suggested fixed my problem, since i was ussing a multi module structure, that was my best solution"},{"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"score":1,"creation_date":1638453226,"post_id":41766552,"comment_id":124095794,"body_markdown":"this should be the accepted answer. Clearly stating the root cause and solution.","body":"this should be the accepted answer. Clearly stating the root cause and solution."},{"owner":{"account_id":1220192,"reputation":267,"user_id":1186971,"display_name":"Petr Kiritsev"},"score":0,"creation_date":1701786304,"post_id":41766552,"comment_id":136816743,"body_markdown":"thanks! It helped! I noticed that my package was wrong but Idea just marked it with yellow color!","body":"thanks! It helped! I noticed that my package was wrong but Idea just marked it with yellow color!"}],"tags":[],"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"comment_count":7,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1505725757,"creation_date":1484924445,"answer_id":41766552,"question_id":26889970,"body_markdown":"Sometimes you are required to indicate where @ComponentScan should scan for components. You can do so by passing the packages as parameter of this annotation, e.g:\r\n\r\n    @ComponentScan(basePackages={&quot;path.to.my.components&quot;,&quot;path.to.my.othercomponents&quot;})\r\n\r\nHowever, as already mentioned, @SpringBootApplication annotation replaces @ComponentScan, hence in such cases you must do the same:  \r\n\r\n    @SpringBootApplication(scanBasePackages={&quot;path.to.my.components&quot;,&quot;path.to.my.othercomponents&quot;})\r\n\r\nAt least in my case, Intellij stopped complaining. ","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>Sometimes you are required to indicate where @ComponentScan should scan for components. You can do so by passing the packages as parameter of this annotation, e.g:</p>\n\n<pre><code>@ComponentScan(basePackages={\"path.to.my.components\",\"path.to.my.othercomponents\"})\n</code></pre>\n\n<p>However, as already mentioned, @SpringBootApplication annotation replaces @ComponentScan, hence in such cases you must do the same:  </p>\n\n<pre><code>@SpringBootApplication(scanBasePackages={\"path.to.my.components\",\"path.to.my.othercomponents\"})\n</code></pre>\n\n<p>At least in my case, Intellij stopped complaining. </p>\n"},{"comments":[{"owner":{"account_id":2202222,"reputation":468,"user_id":1946345,"display_name":"Matsu Q."},"score":0,"creation_date":1519686744,"post_id":42025703,"comment_id":85002623,"body_markdown":"This fixed the issue for me as well -- It seems like this may be the real issue for anyone who otherwise has their code setup correctly!","body":"This fixed the issue for me as well -- It seems like this may be the real issue for anyone who otherwise has their code setup correctly!"},{"owner":{"account_id":412618,"reputation":253,"user_id":785772,"display_name":"brainfrozen"},"score":19,"creation_date":1524644867,"post_id":42025703,"comment_id":87051056,"body_markdown":"Doesn&#39;t work in 2017.2.7. Plugin is enabled, but the warning is still present.","body":"Doesn&#39;t work in 2017.2.7. Plugin is enabled, but the warning is still present."},{"owner":{"account_id":5010108,"reputation":1772,"user_id":4026629,"display_name":"JL_SO"},"score":0,"creation_date":1541850053,"post_id":42025703,"comment_id":93363095,"body_markdown":"Worked for me in iJ Ultimate 2018.2.5.","body":"Worked for me in iJ Ultimate 2018.2.5."},{"owner":{"account_id":4397192,"reputation":5374,"user_id":3583824,"accept_rate":75,"display_name":"axnet"},"score":0,"creation_date":1601536753,"post_id":42025703,"comment_id":113439909,"body_markdown":"Worked for intellij idea ultimate 2020","body":"Worked for intellij idea ultimate 2020"},{"owner":{"account_id":4626395,"reputation":735,"user_id":3750108,"display_name":"toucheqt"},"score":0,"creation_date":1604265312,"post_id":42025703,"comment_id":114287806,"body_markdown":"Upvoting this, worked like a charm in Idea Ultimate 2020.2","body":"Upvoting this, worked like a charm in Idea Ultimate 2020.2"},{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":4,"creation_date":1642770514,"post_id":42025703,"comment_id":125166657,"body_markdown":"This doesn&#39;t work even after enabling the plugin","body":"This doesn&#39;t work even after enabling the plugin"}],"tags":[],"owner":{"account_id":1063749,"reputation":14067,"user_id":1064809,"accept_rate":70,"display_name":"Natix"},"comment_count":6,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1486129403,"creation_date":1486129403,"answer_id":42025703,"question_id":26889970,"body_markdown":"My version of IntelliJ IDEA Ultimate (2016.3.4 Build 163) seems to support this. The trick is that you need to have enabled the Spring Data plugin.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pIdbk.png","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>My version of IntelliJ IDEA Ultimate (2016.3.4 Build 163) seems to support this. The trick is that you need to have enabled the Spring Data plugin.</p>\n\n<p><a href=\"https://i.stack.imgur.com/pIdbk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pIdbk.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":103956,"reputation":4401,"user_id":278174,"accept_rate":85,"display_name":"powder366"},"score":0,"creation_date":1503047627,"post_id":42202119,"comment_id":78462754,"body_markdown":"Thanks. By the way is there a way to see all changes made that are not default in one view in IntelliJ Settings (so you know what you have changed)?","body":"Thanks. By the way is there a way to see all changes made that are not default in one view in IntelliJ Settings (so you know what you have changed)?"},{"owner":{"account_id":192101,"reputation":1554,"user_id":433061,"accept_rate":100,"display_name":"bdetweiler"},"score":0,"creation_date":1665427746,"post_id":42202119,"comment_id":130693415,"body_markdown":"Seems to be the only solution for me to get rid of the annoying red lines. I could just ignore it, but it always catches my attention and makes me feel like I need to fix it.","body":"Seems to be the only solution for me to get rid of the annoying red lines. I could just ignore it, but it always catches my attention and makes me feel like I need to fix it."}],"tags":[],"owner":{"account_id":4120413,"reputation":9771,"user_id":3380944,"accept_rate":25,"display_name":"Imal Hasaranga Perera"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1486982637,"creation_date":1486982637,"answer_id":42202119,"question_id":26889970,"body_markdown":"As long as your tests are passing you are good, hit `alt + enter` by taking the cursor over the error and inside the submenu of the first item you will find `Disable Inspection` select that ","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>As long as your tests are passing you are good, hit <code>alt + enter</code> by taking the cursor over the error and inside the submenu of the first item you will find <code>Disable Inspection</code> select that </p>\n"},{"tags":[],"owner":{"account_id":1796398,"reputation":6836,"user_id":1635719,"accept_rate":0,"display_name":"olasammy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530543822,"creation_date":1510901137,"answer_id":47344803,"question_id":26889970,"body_markdown":"All you need to do to make this work is the following code:\r\n\r\n    @ComponentScan\r\n    public class PriceWatchTest{\r\n    \r\n        @Autowired\r\n        private PriceWatchJpaRepository priceWatchJpaRepository;\r\n    ...\r\n    ...\r\n    }","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>All you need to do to make this work is the following code:</p>\n\n<pre><code>@ComponentScan\npublic class PriceWatchTest{\n\n    @Autowired\n    private PriceWatchJpaRepository priceWatchJpaRepository;\n...\n...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4769045,"reputation":10243,"user_id":3854385,"display_name":"Loren"},"score":3,"creation_date":1536323357,"post_id":48209983,"comment_id":91393850,"body_markdown":"When autowired into a constructor it is `@SuppressWarnings(&quot;SpringJavaInjectionPointsAutowiringInspection&quot;)`","body":"When autowired into a constructor it is <code>@SuppressWarnings(&quot;SpringJavaInjectionPointsAutowiringInspec&zwnj;&#8203;tion&quot;)</code>"}],"tags":[],"owner":{"account_id":9195894,"reputation":51,"user_id":6834637,"display_name":"Miguel &#193;ngel Medina Aguilar"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1515684001,"creation_date":1515682754,"answer_id":48209983,"question_id":26889970,"body_markdown":"I am using this annotation to hide this error when it appears in IntelliJ v.14:\r\n\r\n    @SuppressWarnings(&quot;SpringJavaAutowiringInspection&quot;)\r\n","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>I am using this annotation to hide this error when it appears in IntelliJ v.14:</p>\n\n<pre><code>@SuppressWarnings(\"SpringJavaAutowiringInspection\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1862115,"reputation":4263,"user_id":1686511,"display_name":"Garry Polley"},"score":2,"creation_date":1524774681,"post_id":48421735,"comment_id":87119104,"body_markdown":"I went with this solution until a fix is made on Spring: https://youtrack.jetbrains.com/issue/IDEA-182912","body":"I went with this solution until a fix is made on Spring: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-182912\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-182912</a>"},{"owner":{"account_id":2771516,"reputation":2174,"user_id":2386040,"display_name":"Jan"},"score":5,"creation_date":1654098710,"post_id":48421735,"comment_id":128012253,"body_markdown":"In IntelliJ 2021.3 this setting has been renamed to `Incorrect injection point autowiring in Spring bean components`.","body":"In IntelliJ 2021.3 this setting has been renamed to <code>Incorrect injection point autowiring in Spring bean components</code>."}],"tags":[],"owner":{"account_id":306196,"reputation":643,"user_id":616796,"accept_rate":33,"display_name":"cristianchiess"},"comment_count":2,"down_vote_count":3,"up_vote_count":42,"is_accepted":false,"score":39,"last_activity_date":1516794322,"creation_date":1516794322,"answer_id":48421735,"question_id":26889970,"body_markdown":"I always solve this problem doing de following..\r\n***Settings&gt;Inspections&gt;Spring Core&gt;Code*** than you shift from error to warning the severity option\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9c4Xw.jpg","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>I always solve this problem doing de following..\n<strong><em>Settings>Inspections>Spring Core>Code</em></strong> than you shift from error to warning the severity option</p>\n\n<p><a href=\"https://i.stack.imgur.com/9c4Xw.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9c4Xw.jpg\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":25019,"reputation":3508,"user_id":64023,"accept_rate":86,"display_name":"Michael"},"score":29,"creation_date":1535482310,"post_id":49793605,"comment_id":91079474,"body_markdown":"This also &quot;works&quot; for me, but then intellij complains:\n\n`Redundant declaration: @SpringBootApplication already applies @EnableAutoConfiguration`\n\n&#175;\\\\_(ツ)_/&#175;","body":"This also &quot;works&quot; for me, but then intellij complains:  <code>Redundant declaration: @SpringBootApplication already applies @EnableAutoConfiguration</code>  &#175;\\_(ツ)_/&#175;"},{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1642770586,"post_id":49793605,"comment_id":125166688,"body_markdown":"This is Redundant declaration: @SpringBootApplication already applies `@EnableAutoConfiguration`","body":"This is Redundant declaration: @SpringBootApplication already applies <code>@EnableAutoConfiguration</code>"},{"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"score":0,"creation_date":1658760196,"post_id":49793605,"comment_id":129125289,"body_markdown":"@EnableAutoConfiguration on the class where IntelliJ complaining fixed the issue for me too.","body":"@EnableAutoConfiguration on the class where IntelliJ complaining fixed the issue for me too."},{"owner":{"account_id":5289100,"reputation":111,"user_id":4222173,"display_name":"Jos"},"score":0,"creation_date":1664866089,"post_id":49793605,"comment_id":130562113,"body_markdown":"@Arefe this is redundant but this fix the &quot;autowired not found&quot; error. It seems to be an intellij bug.... I&#39;ve put this annotation on another class than the `@SpringBootApplication` to fix all errors","body":"@Arefe this is redundant but this fix the &quot;autowired not found&quot; error. It seems to be an intellij bug.... I&#39;ve put this annotation on another class than the <code>@SpringBootApplication</code> to fix all errors"}],"tags":[],"owner":{"account_id":3060938,"reputation":829,"user_id":2593605,"display_name":"Kareem"},"comment_count":4,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1523527144,"creation_date":1523527144,"answer_id":49793605,"question_id":26889970,"body_markdown":"I am using spring-boot 2.0, and intellij 2018.1.1 ultimate edition and I faced the same issue.\r\n\r\nI solved by placing @EnableAutoConfiguration in the main application class\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration\r\n    class App{\r\n    /**/\r\n    }","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>I am using spring-boot 2.0, and intellij 2018.1.1 ultimate edition and I faced the same issue.</p>\n\n<p>I solved by placing @EnableAutoConfiguration in the main application class</p>\n\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration\nclass App{\n/**/\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":233150,"reputation":4218,"user_id":498457,"accept_rate":52,"display_name":"Christoph Grimmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530186784,"creation_date":1530186784,"answer_id":51082263,"question_id":26889970,"body_markdown":"Sometimes - in my case that is - the reason is a wrong import. I accidentally imported \r\n\r\n    import org.jvnet.hk2.annotations.Service\r\n\r\ninstead of \r\n    \r\n    import org.springframework.stereotype.Service\r\n\r\nby blindly accepting the first choice in Idea&#39;s suggested imports. Took me a few minutes the first time it happend :-)","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>Sometimes - in my case that is - the reason is a wrong import. I accidentally imported </p>\n\n<pre><code>import org.jvnet.hk2.annotations.Service\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>import org.springframework.stereotype.Service\n</code></pre>\n\n<p>by blindly accepting the first choice in Idea's suggested imports. Took me a few minutes the first time it happend :-)</p>\n"},{"comments":[{"owner":{"account_id":6256506,"reputation":3358,"user_id":4864870,"accept_rate":100,"display_name":"Josef Reichardt"},"score":0,"creation_date":1530712269,"post_id":51104930,"comment_id":89333323,"body_markdown":"Yes, adding `@Component` to the interface solves the issue. But I think this is not the correct way... In my opinion this is a bug in IntelliJ IDEA or to be not so hard IntelliJ IDEA is not ready for newer Feign versions. It works without `@Component` in erlier feign versions (where the `@FeignClient` annotation was in `org.springframework.cloud.netflix.feign` instead of `org.springframework.cloud.openfeign` - maybe this is the cause of the issue?). Have you found any further details (maybe a bug ticket) for this?","body":"Yes, adding <code>@Component</code> to the interface solves the issue. But I think this is not the correct way... In my opinion this is a bug in IntelliJ IDEA or to be not so hard IntelliJ IDEA is not ready for newer Feign versions. It works without <code>@Component</code> in erlier feign versions (where the <code>@FeignClient</code> annotation was in <code>org.springframework.cloud.netflix.feign</code> instead of <code>org.springframework.cloud.openfeign</code> - maybe this is the cause of the issue?). Have you found any further details (maybe a bug ticket) for this?"},{"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"score":0,"creation_date":1531113660,"post_id":51104930,"comment_id":89456078,"body_markdown":"No, I haven&#39;t, though my case (which didn&#39;t work without `@Component`) is `@FeignClient` from `org.springframework.cloud.netflix.feign`) package.","body":"No, I haven&#39;t, though my case (which didn&#39;t work without <code>@Component</code>) is <code>@FeignClient</code> from <code>org.springframework.cloud.netflix.feign</code>) package."},{"owner":{"account_id":6256506,"reputation":3358,"user_id":4864870,"accept_rate":100,"display_name":"Josef Reichardt"},"score":3,"creation_date":1534942103,"post_id":51104930,"comment_id":90884454,"body_markdown":"Issue at JetBrains bug tracker is here: https://youtrack.jetbrains.com/issue/IDEA-168155","body":"Issue at JetBrains bug tracker is here: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-168155\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-168155</a>"}],"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1530285674,"creation_date":1530285674,"answer_id":51104930,"question_id":26889970,"body_markdown":"I had similar issue in Spring Boot application. The application utilizes Feign (HTTP client synthetizing requests from annotated interfaces). Having interface `SomeClient` annotated with `@FeignClient`, Feign generates runtime proxy class implementing this interface. When some Spring component tries to autowire bean of type `SomeClient`, Idea complains no bean of type `SomeClient` found since no real class actually exists in project and Idea is not taught to understand `@FeignClient` annotation in any way.\r\n\r\nSolution: annotate interface `SomeClient` with `@Component`. (In our case, we don&#39;t use `@FeignClient` annotation on `SomeClient` directly, we rather use metaannotation `@OurProjectFeignClient` which is annotated `@FeignClient` and adding `@Component` annotation to it works as well.)","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>I had similar issue in Spring Boot application. The application utilizes Feign (HTTP client synthetizing requests from annotated interfaces). Having interface <code>SomeClient</code> annotated with <code>@FeignClient</code>, Feign generates runtime proxy class implementing this interface. When some Spring component tries to autowire bean of type <code>SomeClient</code>, Idea complains no bean of type <code>SomeClient</code> found since no real class actually exists in project and Idea is not taught to understand <code>@FeignClient</code> annotation in any way.</p>\n\n<p>Solution: annotate interface <code>SomeClient</code> with <code>@Component</code>. (In our case, we don't use <code>@FeignClient</code> annotation on <code>SomeClient</code> directly, we rather use metaannotation <code>@OurProjectFeignClient</code> which is annotated <code>@FeignClient</code> and adding <code>@Component</code> annotation to it works as well.)</p>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540239324,"creation_date":1540239324,"answer_id":52937132,"question_id":26889970,"body_markdown":"I just had to use @EnableAutoConfiguration to address it, however this error had no functional impact.","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>I just had to use @EnableAutoConfiguration to address it, however this error had no functional impact.</p>\n"},{"tags":[],"owner":{"account_id":6987823,"reputation":4269,"user_id":5358054,"display_name":"Nirbhay Rana"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543215575,"creation_date":1543215575,"answer_id":53476090,"question_id":26889970,"body_markdown":"It can be solved by placing @EnableAutoConfiguration on spring boot application main class. ","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>It can be solved by placing @EnableAutoConfiguration on spring boot application main class. </p>\n"},{"comments":[{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":0,"creation_date":1622750130,"post_id":54416903,"comment_id":119888740,"body_markdown":"I was so desperate I actually tried this :-) I needed to add the bean to my CoreApplication class","body":"I was so desperate I actually tried this :-) I needed to add the bean to my CoreApplication class"}],"tags":[],"owner":{"account_id":15221715,"reputation":79,"user_id":10983410,"display_name":"Ordash"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1548752510,"creation_date":1548751288,"answer_id":54416903,"question_id":26889970,"body_markdown":"For me the solution was to place `@EnableAutoConfiguration` in the Application class under the `@SpringBootApplication` its going to underline it because its redundant. Delete it and voila all you warnings regarding missing beans are vanished! Silly Spring...","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>For me the solution was to place <code>@EnableAutoConfiguration</code> in the Application class under the <code>@SpringBootApplication</code> its going to underline it because its redundant. Delete it and voila all you warnings regarding missing beans are vanished! Silly Spring...</p>\n"},{"tags":[],"owner":{"account_id":3845428,"reputation":2373,"user_id":3187132,"display_name":"ylev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552106588,"creation_date":1552025284,"answer_id":55057631,"question_id":26889970,"body_markdown":"Surprisingly, A Feign oriented project that successfully ran with Eclipse could not run in InteliJ.\r\nWhen started the application, InteliJ complained about the Feign client I tried to inject to the serviceImpl layer saying:\r\nfield personRestClient (my Feign client) in ... required a bean of type ... that could not be found.\r\nConsider defining a bean of type &#39;....&#39; in your configuration.\r\n\r\nI wasted a long time trying to understand what is wrong.\r\nI found a solution (for InteliJ) which I do not completely understand:\r\n\r\n1. Alt Shift F10 (or run menu)\r\n2. Select &#39;Edit configuration&#39;\r\n3. In configuration window, Check the checkbox &#39;include dependencies with \r\n   &quot;Provided&quot; scope&#39;\r\n4. Run your application\r\n\r\nOr choose Eclipse :)\r\n","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>Surprisingly, A Feign oriented project that successfully ran with Eclipse could not run in InteliJ.\nWhen started the application, InteliJ complained about the Feign client I tried to inject to the serviceImpl layer saying:\nfield personRestClient (my Feign client) in ... required a bean of type ... that could not be found.\nConsider defining a bean of type '....' in your configuration.</p>\n\n<p>I wasted a long time trying to understand what is wrong.\nI found a solution (for InteliJ) which I do not completely understand:</p>\n\n<ol>\n<li>Alt Shift F10 (or run menu)</li>\n<li>Select 'Edit configuration'</li>\n<li>In configuration window, Check the checkbox 'include dependencies with \n\"Provided\" scope'</li>\n<li>Run your application</li>\n</ol>\n\n<p>Or choose Eclipse :)</p>\n"},{"tags":[],"owner":{"account_id":6357823,"reputation":5661,"user_id":4934446,"display_name":"J&#246;cker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554235382,"creation_date":1554235382,"answer_id":55482714,"question_id":26889970,"body_markdown":"Check if the package of your bean is written correctly\r\n\r\n    //Check if this is written right \r\n    package com.package1.package2.package3\r\n\r\n\r\n    import ...\r\n\r\n    @Service\r\n    class ServiceX {\r\n\r\n      ...\r\n\r\n    }","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>Check if the package of your bean is written correctly</p>\n\n<pre><code>//Check if this is written right \npackage com.package1.package2.package3\n\n\nimport ...\n\n@Service\nclass ServiceX {\n\n  ...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13758684,"reputation":81,"user_id":9928919,"display_name":"Harshad Thombare"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561031267,"creation_date":1561031267,"answer_id":56685319,"question_id":26889970,"body_markdown":"Use @AutoConfigureMockMvc for test class.","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>Use @AutoConfigureMockMvc for test class.</p>\n"},{"comments":[{"owner":{"account_id":16735950,"reputation":437,"user_id":12097072,"display_name":"stoneshishang"},"score":0,"creation_date":1632407626,"post_id":56974548,"comment_id":122488895,"body_markdown":"This was the case for me. make sure we have &#39;@Service&#39; in the service class and &#39;@Repository&#39; in the repository class.","body":"This was the case for me. make sure we have &#39;@Service&#39; in the service class and &#39;@Repository&#39; in the repository class."}],"tags":[],"owner":{"account_id":16292879,"reputation":231,"user_id":11765928,"display_name":"yankae"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1562774326,"creation_date":1562774326,"answer_id":56974548,"question_id":26889970,"body_markdown":"Check if you missed @Service annotation in your service class, that was the case for me.\r\n","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>Check if you missed @Service annotation in your service class, that was the case for me.</p>\n"},{"tags":[],"owner":{"account_id":8062050,"reputation":91,"user_id":6077313,"display_name":"Davel_AG"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564004003,"creation_date":1564004003,"answer_id":57191555,"question_id":26889970,"body_markdown":"in my Case, the Directory I was trying to @Autowired was not at the same level,\r\n\r\nafter setting it up at the same structure level, the error disappeared\r\n\r\nhope it can helps some one!","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>in my Case, the Directory I was trying to @Autowired was not at the same level,</p>\n\n<p>after setting it up at the same structure level, the error disappeared</p>\n\n<p>hope it can helps some one!</p>\n"},{"comments":[{"owner":{"account_id":1386413,"reputation":8378,"user_id":1318367,"display_name":"Vadym Tyemirov"},"score":0,"creation_date":1601918462,"post_id":57676672,"comment_id":113549348,"body_markdown":"I had a service in multimodule project, adding Spring Application Context to the module in question has resolved the issue","body":"I had a service in multimodule project, adding Spring Application Context to the module in question has resolved the issue"},{"owner":{"account_id":12131740,"reputation":148,"user_id":8858486,"display_name":"Simon"},"score":0,"creation_date":1602402345,"post_id":57676672,"comment_id":113704460,"body_markdown":"I think in my case the problem was that I had two @SpringBootApplication annotations in one project (one for a dataloader and one for the real project).\n\nI followed your advice and defined two different application contexts explicitly as you showed it in your screenshot and then the errors were gone.\n\nThanks!","body":"I think in my case the problem was that I had two @SpringBootApplication annotations in one project (one for a dataloader and one for the real project).  I followed your advice and defined two different application contexts explicitly as you showed it in your screenshot and then the errors were gone.  Thanks!"},{"owner":{"account_id":6987338,"reputation":341,"user_id":5357735,"display_name":"ryanlee"},"score":0,"creation_date":1628756688,"post_id":57676672,"comment_id":121507703,"body_markdown":"It&#39;s useful to add the application context file in the Project setting -&gt; Facets","body":"It&#39;s useful to add the application context file in the Project setting -&gt; Facets"}],"tags":[],"owner":{"account_id":16469235,"reputation":131,"user_id":11898698,"display_name":"Arayik Harutyunyan"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1566915904,"creation_date":1566915390,"answer_id":57676672,"question_id":26889970,"body_markdown":"Configure application context and all will be ok.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[1]: https://i.stack.imgur.com/gg3BF.png","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>Configure application context and all will be ok.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gg3BF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gg3BF.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":12269892,"reputation":21,"user_id":8955328,"display_name":"Snkpty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568555586,"creation_date":1568555586,"answer_id":57944750,"question_id":26889970,"body_markdown":"I solved the problem by installing mybatis plugin in IDEA. When I installed Mybatis Plugin, it disappeared.","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>I solved the problem by installing mybatis plugin in IDEA. When I installed Mybatis Plugin, it disappeared.</p>\n"},{"comments":[{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":1,"creation_date":1572746278,"post_id":58676431,"comment_id":103654536,"body_markdown":"Explain your answer.","body":"Explain your answer."}],"tags":[],"owner":{"account_id":17019105,"reputation":81,"user_id":12312167,"display_name":"Er.Rk Yadav"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1601202599,"creation_date":1572740602,"answer_id":58676431,"question_id":26889970,"body_markdown":"simple you have to do 2 steps \r\n\r\n 1. add hibernate-core dependency\r\n 2. change `@Autowired` to `@Resource`.\r\n```\r\n==&gt;&gt; change @Autowired to  @Resource\r\n```","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>simple you have to do 2 steps</p>\n<ol>\n<li>add hibernate-core dependency</li>\n<li>change <code>@Autowired</code> to <code>@Resource</code>.</li>\n</ol>\n<pre><code>==&gt;&gt; change @Autowired to  @Resource\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5905895,"reputation":531,"user_id":4647701,"display_name":"Anton Bondarenko"},"score":0,"creation_date":1590409699,"post_id":62002382,"comment_id":109660410,"body_markdown":"It is equal to U.V. answer","body":"It is equal to U.V. answer"}],"tags":[],"owner":{"account_id":5905895,"reputation":531,"user_id":4647701,"display_name":"Anton Bondarenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590409881,"creation_date":1590409567,"answer_id":62002382,"question_id":26889970,"body_markdown":"IntelliJ IDEA Ultimate\r\n\r\nAdd your main class to IntelliJ  Spring Application Context, for example Application.java\r\n\r\n`File` -&gt; `Project Structure..`\r\n\r\nleft side:\r\nProject Setting -&gt; Modules\r\n\r\nright side: find in your package structure\r\n`Spring` and add `+` `Application.java`","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>IntelliJ IDEA Ultimate</p>\n\n<p>Add your main class to IntelliJ  Spring Application Context, for example Application.java</p>\n\n<p><code>File</code> -> <code>Project Structure..</code></p>\n\n<p>left side:\nProject Setting -> Modules</p>\n\n<p>right side: find in your package structure\n<code>Spring</code> and add <code>+</code> <code>Application.java</code></p>\n"},{"comments":[{"owner":{"account_id":1326099,"reputation":4946,"user_id":1270865,"accept_rate":50,"display_name":"cafebabe1991"},"score":0,"creation_date":1695111256,"post_id":62037307,"comment_id":135976941,"body_markdown":"removing it worked for me :O","body":"removing it worked for me :O"}],"tags":[],"owner":{"account_id":18691057,"reputation":131,"user_id":13625365,"display_name":"Shanilka Fernandopulle"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1610152666,"creation_date":1590563251,"answer_id":62037307,"question_id":26889970,"body_markdown":"Have you checked that you have used `@Service` annotation on top of your service implementation?\r\nIt worked for me.\r\n\r\n    import org.springframework.stereotype.Service;\r\n\r\n    @Service\r\n    public class UserServiceImpl implements UserServices {}\r\n","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>Have you checked that you have used <code>@Service</code> annotation on top of your service implementation?\nIt worked for me.</p>\n<pre><code>import org.springframework.stereotype.Service;\n\n@Service\npublic class UserServiceImpl implements UserServices {}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9150719,"reputation":3547,"user_id":6805392,"accept_rate":100,"display_name":"F.Mysir"},"score":0,"creation_date":1608415682,"post_id":62901348,"comment_id":115579061,"body_markdown":"Yes my kotlin file didn&#39;t have at all `package` on top that was the issue","body":"Yes my kotlin file didn&#39;t have at all <code>package</code> on top that was the issue"}],"tags":[],"owner":{"account_id":11381272,"reputation":73,"user_id":8344121,"display_name":"Master mj"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594750020,"creation_date":1594750020,"answer_id":62901348,"question_id":26889970,"body_markdown":"in my situation my class folder was in wrong address so check if your class is in correct package.","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>in my situation my class folder was in wrong address so check if your class is in correct package.</p>\n"},{"tags":[],"owner":{"account_id":19402558,"reputation":121,"user_id":14188795,"display_name":"Ajeet Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1598733149,"creation_date":1598730701,"answer_id":63651176,"question_id":26889970,"body_markdown":"Use `@EnableAutoConfiguration` annotation with `@Component` at class level. It will resolve this problem.\r\n\r\nFor example:\r\n```java    \r\n@Component\r\n@EnableAutoConfiguration  \r\npublic class ItemDataInitializer  {\r\n\r\n    @Autowired\r\n    private ItemReactiveRepository itemReactiveRepository;\r\n\r\n    @Autowired\r\n    private MongoOperations mongoOperations;\r\n}\r\n```\r\n","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>Use <code>@EnableAutoConfiguration</code> annotation with <code>@Component</code> at class level. It will resolve this problem.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@EnableAutoConfiguration  \npublic class ItemDataInitializer  {\n\n    @Autowired\n    private ItemReactiveRepository itemReactiveRepository;\n\n    @Autowired\n    private MongoOperations mongoOperations;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":472470,"reputation":101,"user_id":880969,"display_name":"Karthik"},"score":0,"creation_date":1609620846,"post_id":64998035,"comment_id":115881151,"body_markdown":"Adding @ComponentScan worked for me. Thank you. I am using version 2020.3.1","body":"Adding @ComponentScan worked for me. Thank you. I am using version 2020.3.1"}],"tags":[],"owner":{"account_id":12511931,"reputation":3963,"user_id":9106684,"display_name":"duyuanchao"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606274136,"creation_date":1606274136,"answer_id":64998035,"question_id":26889970,"body_markdown":"just add below two annotations to your POJO.\r\n\r\n    @ComponentScan\r\n    @Configuration\r\n    public class YourClass {\r\n        //TODO\r\n    }","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>just add below two annotations to your POJO.</p>\n<pre><code>@ComponentScan\n@Configuration\npublic class YourClass {\n    //TODO\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6997317,"reputation":360,"user_id":5364578,"display_name":"chris dany"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606275861,"creation_date":1606275861,"answer_id":64998232,"question_id":26889970,"body_markdown":"add the annotation `@Service`  to your Repository class and it should work.","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>add the annotation <code>@Service</code>  to your Repository class and it should work.</p>\n"},{"tags":[],"owner":{"account_id":356493,"reputation":1254,"user_id":696037,"accept_rate":0,"display_name":"davidmpaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617713622,"creation_date":1617713622,"answer_id":66969042,"question_id":26889970,"body_markdown":"As most synchronisation errors between IntelliJ (IDE) and development environments. \r\n\r\nSpecially if you have automated tests or build that pass green all the way through.\r\n\r\n**Invalidate Cache and Restart** solved my problem.","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>As most synchronisation errors between IntelliJ (IDE) and development environments.</p>\n<p>Specially if you have automated tests or build that pass green all the way through.</p>\n<p><strong>Invalidate Cache and Restart</strong> solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":20902949,"reputation":11,"user_id":15355643,"display_name":"Ron Hiner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625326646,"creation_date":1625326646,"answer_id":68237689,"question_id":26889970,"body_markdown":"I was having the same problem and solved it using &quot;Invalidate Caches...&quot; under the File menu.","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>I was having the same problem and solved it using &quot;Invalidate Caches...&quot; under the File menu.</p>\n"},{"tags":[],"owner":{"account_id":6765584,"reputation":83,"user_id":5210695,"display_name":"Meshu Deb Nath"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643960591,"creation_date":1643596357,"answer_id":70920708,"question_id":26889970,"body_markdown":"I was having the issue. Just use\r\n\r\n    @SpringBootTest\r\n    \r\n    @AutoConfigureMockMvc\r\n\r\nannotation with the test class.","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>I was having the issue. Just use</p>\n<pre><code>@SpringBootTest\n\n@AutoConfigureMockMvc\n</code></pre>\n<p>annotation with the test class.</p>\n"},{"tags":[],"owner":{"account_id":20952855,"reputation":435,"user_id":15394108,"display_name":"cng.buff"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653575914,"creation_date":1650937460,"answer_id":72007472,"question_id":26889970,"body_markdown":"I removed this code. no more errors\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t6pKV.png\r\n\r\n--------------\r\nOther way to check:\r\nadd the annotation @Service to your Repository class and it should work.\r\n\r\n","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>I removed this code. no more errors</p>\n<p><a href=\"https://i.stack.imgur.com/t6pKV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t6pKV.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>Other way to check:\nadd the annotation @Service to your Repository class and it should work.</p>\n"},{"tags":[],"owner":{"account_id":23993020,"reputation":18,"user_id":17978875,"display_name":"David Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657154695,"creation_date":1657154695,"answer_id":72891182,"question_id":26889970,"body_markdown":"As for intelliJ version 2021.2.3 (Ultimate Edition) I changed &quot;incorrect injection point autowiring in spring bean compontents to warning which works for me[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mUjin.png","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>As for intelliJ version 2021.2.3 (Ultimate Edition) I changed &quot;incorrect injection point autowiring in spring bean compontents to warning which works for me<a href=\"https://i.stack.imgur.com/mUjin.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mUjin.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5769633,"reputation":792,"user_id":4553414,"display_name":"Andrew"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1657782616,"creation_date":1657782616,"answer_id":72976564,"question_id":26889970,"body_markdown":"@Autowired(required = false)\r\nwill shut intellij up","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>@Autowired(required = false)\nwill shut intellij up</p>\n"},{"tags":[],"owner":{"account_id":981251,"reputation":691,"user_id":1000908,"accept_rate":71,"display_name":"FiruzzZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700650979,"creation_date":1663940258,"answer_id":73828597,"question_id":26889970,"body_markdown":"This and another kind of &quot;Could not autowire. No Beans of ...&quot; can be solved by installing the plugin, in my case was JobBuilderFactory from Spring Batch.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZnOKU.png","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>This and another kind of &quot;Could not autowire. No Beans of ...&quot; can be solved by installing the plugin, in my case was JobBuilderFactory from Spring Batch.</p>\n<p><a href=\"https://i.stack.imgur.com/ZnOKU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZnOKU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3663806,"reputation":189,"user_id":3052880,"display_name":"aylingumus"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1666130669,"creation_date":1666130669,"answer_id":74117931,"question_id":26889970,"body_markdown":"I have updated my Intellij IDEA version to 2022.2.3 like below:\r\n\r\n&gt; IntelliJ IDEA 2022.2.3 (Ultimate Edition)\r\n&gt;\r\n&gt; Build #IU-222.4345.14\r\n&gt;\r\n&gt; Runtime version: 17.0.4.1+7-b469.62 aarch64\r\n\r\nIt solved my problem.","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>I have updated my Intellij IDEA version to 2022.2.3 like below:</p>\n<blockquote>\n<p>IntelliJ IDEA 2022.2.3 (Ultimate Edition)</p>\n<p>Build #IU-222.4345.14</p>\n<p>Runtime version: 17.0.4.1+7-b469.62 aarch64</p>\n</blockquote>\n<p>It solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":19004101,"reputation":1105,"user_id":13871107,"display_name":"Alexander Borisov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666705603,"creation_date":1666705603,"answer_id":74195108,"question_id":26889970,"body_markdown":"Looks like you are trying to run your tests without actually activating your **WebEnvironment**.\r\n\r\nThe solution is quite simple, just add ```@SpringBootTest``` annotation with a required config. \r\n\r\nHere is an example:\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT) // Run the server for testing.\r\npublic class mockTest {\r\n\r\n    @Autowired\r\n    // Should work now\r\n}\r\n```","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>Looks like you are trying to run your tests without actually activating your <strong>WebEnvironment</strong>.</p>\n<p>The solution is quite simple, just add <code>@SpringBootTest</code> annotation with a required config.</p>\n<p>Here is an example:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT) // Run the server for testing.\npublic class mockTest {\n\n    @Autowired\n    // Should work now\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27945266,"reputation":1,"user_id":21340396,"display_name":"masudul alam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678087073,"creation_date":1678087073,"answer_id":75648041,"question_id":26889970,"body_markdown":"@ComponentScan(basePackages = &quot;com.x.y&quot;) in your desired place. That&#39;s it.","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>@ComponentScan(basePackages = &quot;com.x.y&quot;) in your desired place. That's it.</p>\n"},{"tags":[],"owner":{"account_id":19589013,"reputation":47,"user_id":16129883,"display_name":"mateo cunha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680668960,"creation_date":1680668960,"answer_id":75935654,"question_id":26889970,"body_markdown":"Yes I know, seven year later but this can help to others.\r\nThis is my Test class\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = Application.class)\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\r\n    public abstract class ApiTest\r\n\r\nEverything&#39;s fine. but the problem was my folders, for example:\r\n\r\nIf you have the next structure -&gt; main.java.com.api.service\r\n\r\nSo it&#39;s the same for the test  -&gt; test.java.com.api.service   ","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>Yes I know, seven year later but this can help to others.\nThis is my Test class</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = Application.class)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\npublic abstract class ApiTest\n</code></pre>\n<p>Everything's fine. but the problem was my folders, for example:</p>\n<p>If you have the next structure -&gt; main.java.com.api.service</p>\n<p>So it's the same for the test  -&gt; test.java.com.api.service</p>\n"},{"tags":[],"owner":{"account_id":4999034,"reputation":1880,"user_id":6722075,"display_name":"Tohid Makari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683796089,"creation_date":1683796089,"answer_id":76225924,"question_id":26889970,"body_markdown":"Try to use `@ComponentScan` with `basePackages` attribute to scan related bean like this :\r\n\r\n    @ComponentScan(basePackages={&quot;com.xxxx.yyyy.reportdistributor&quot;})\r\n\r\n","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>Try to use <code>@ComponentScan</code> with <code>basePackages</code> attribute to scan related bean like this :</p>\n<pre><code>@ComponentScan(basePackages={&quot;com.xxxx.yyyy.reportdistributor&quot;})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688661784,"creation_date":1685083023,"answer_id":76338204,"question_id":26889970,"body_markdown":"I got this error out of *Repository* layer. I missed a simple **@Component** for the class. This could be a problem. Add this annotation **@Component** on top of the corresponding Implementation class","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>I got this error out of <em>Repository</em> layer. I missed a simple <strong>@Component</strong> for the class. This could be a problem. Add this annotation <strong>@Component</strong> on top of the corresponding Implementation class</p>\n"},{"tags":[],"owner":{"account_id":17151466,"reputation":11,"user_id":12413280,"display_name":"elmrabti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685337806,"creation_date":1685337472,"answer_id":76354832,"question_id":26889970,"body_markdown":"It may happen because you didn&#39;t add spring web dependency so the IDE considers your application as Spring application not Spring boot\r\n","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>It may happen because you didn't add spring web dependency so the IDE considers your application as Spring application not Spring boot</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1696413275,"post_id":77207254,"comment_id":136148584,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77207254/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19719996,"reputation":1,"user_id":14438567,"display_name":"Sandy Samir"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696081660,"creation_date":1696081660,"answer_id":77207254,"question_id":26889970,"body_markdown":"i get the same error while i was using my first springbootapp \r\n but I solved with : \r\n   \r\n\r\n 1. @Configuration\r\n    @EnableAutoConfiguration \r\n   in java class that I used to call the implemented class \r\n2.@Repository in the interface \r\n\r\nbut if I removed it I got the same error again ","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>i get the same error while i was using my first springbootapp\nbut I solved with :</p>\n<ol>\n<li>@Configuration\n@EnableAutoConfiguration\nin java class that I used to call the implemented class\n2.@Repository in the interface</li>\n</ol>\n<p>but if I removed it I got the same error again</p>\n"}],"owner":{"account_id":1019340,"reputation":11599,"user_id":1030168,"accept_rate":87,"display_name":"Robbo_UK"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569107,"favorite_count":0,"down_vote_count":0,"up_vote_count":271,"accepted_answer_id":31891805,"answer_count":51,"score":271,"last_activity_date":1700650979,"creation_date":1415804456,"question_id":26889970,"body_markdown":"I have created a simple unit test but IntelliJ is incorrectly highlighting it red. marking it as an error\r\n\r\n\r\nNo beans?\r\n\r\n![enter image description here][1]\r\n\r\n\r\nAs you can see below it passes the test? So it must be Autowired?\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/4cCFH.png\r\n  [2]: http://i.stack.imgur.com/YFGln.png","title":"intellij incorrectly saying no beans of type found for autowired repository","body":"<p>I have created a simple unit test but IntelliJ is incorrectly highlighting it red. marking it as an error</p>\n\n<p>No beans?</p>\n\n<p><img src=\"https://i.stack.imgur.com/4cCFH.png\" alt=\"enter image description here\"></p>\n\n<p>As you can see below it passes the test? So it must be Autowired?</p>\n\n<p><img src=\"https://i.stack.imgur.com/YFGln.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1700576407,"post_id":77523406,"comment_id":136669865,"body_markdown":"What do you mean by _in the right order_?  How are the `@Entity`&#39;s defined?  How is that `Persister` interface related to jpa?","body":"What do you mean by <i>in the right order</i>?  How are the <code>@Entity</code>&#39;s defined?  How is that <code>Persister</code> interface related to jpa?"},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1700576610,"post_id":77523406,"comment_id":136669904,"body_markdown":"@AndrewS for example, it seems you can&#39;t persist a &quot;many&quot; entity before persisting a corresponding &quot;one&quot; entity. You get an exception &quot;can&#39;t find &lt;&quot;one&quot; entity&gt; with id &lt;id of the &quot;one&quot; object that you planned to persist second&gt;&quot;","body":"@AndrewS for example, it seems you can&#39;t persist a &quot;many&quot; entity before persisting a corresponding &quot;one&quot; entity. You get an exception &quot;can&#39;t find &lt;&quot;one&quot; entity&gt; with id &lt;id of the &quot;one&quot; object that you planned to persist second&gt;&quot;"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1700578232,"post_id":77523406,"comment_id":136670223,"body_markdown":"JPA providers will do this - they are required to manage an object graph for persistence, which includes ordering inserts appropriately. What exactly have you tried - maybe start with a simple (flat) object model, make it work,  and expand it until it matches your desired object graph. Just going straight into it with a complex model might be a challenge. Course, you could always serialize the entire object to a singe clob/blob DB column","body":"JPA providers will do this - they are required to manage an object graph for persistence, which includes ordering inserts appropriately. What exactly have you tried - maybe start with a simple (flat) object model, make it work,  and expand it until it matches your desired object graph. Just going straight into it with a complex model might be a challenge. Course, you could always serialize the entire object to a singe clob/blob DB column"},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1700578503,"post_id":77523406,"comment_id":136670283,"body_markdown":"@Chris I tried simply calling save() on an object with all its relations set. It didn&#39;t work. It appears you can&#39;t persist an object with a foreign key pointing to a (yet) non-existent entity","body":"@Chris I tried simply calling save() on an object with all its relations set. It didn&#39;t work. It appears you can&#39;t persist an object with a foreign key pointing to a (yet) non-existent entity"},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1700591413,"post_id":77523406,"comment_id":136672720,"body_markdown":"* transient entity, that is","body":"* transient entity, that is"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1700593813,"post_id":77523406,"comment_id":136673127,"body_markdown":"Right, if is transient. You might need to look at JPA tutorials on managed relationships and cascading the persist/merge operations through the graph, but this is a big part of where JPA shines. But you have to define those relationships in mappings. Maybe show a small example and we can help, but this does work, as any JPA tutorial with a reference (OneToOne, OneToMany, ManyToMany etc) will prove. If you&#39;ve got a circular FK in the table, that might be where there are problems, but this would be a problem in your SQL model itself as well.","body":"Right, if is transient. You might need to look at JPA tutorials on managed relationships and cascading the persist/merge operations through the graph, but this is a big part of where JPA shines. But you have to define those relationships in mappings. Maybe show a small example and we can help, but this does work, as any JPA tutorial with a reference (OneToOne, OneToMany, ManyToMany etc) will prove. If you&#39;ve got a circular FK in the table, that might be where there are problems, but this would be a problem in your SQL model itself as well."},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1700644943,"post_id":77523406,"comment_id":136678871,"body_markdown":"@Chris Please see the edit","body":"@Chris Please see the edit"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1700648859,"post_id":77523406,"comment_id":136679604,"body_markdown":"@Kodigas, it&#39;s strange that you get `EntityNotFoundException`. Do you by any chance clear EntityManager at some point? Or maybe you assign IDs manually somewhere?","body":"@Kodigas, it&#39;s strange that you get <code>EntityNotFoundException</code>. Do you by any chance clear EntityManager at some point? Or maybe you assign IDs manually somewhere?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1700666480,"post_id":77523406,"comment_id":136682977,"body_markdown":"You&#39;ve got CascadeType.MERGE on some of the relationships, but not all, and you don&#39;t have any with the CascadeType.PERSIST. If this is a new graph, &#39;save&#39; is a spring api that is likely determining your graph is new and so using EntityManager.persist. If you don&#39;t have the cascade persist option set on the graph, JPA will not cascade over the graph and pick up new entities being referenced.","body":"You&#39;ve got CascadeType.MERGE on some of the relationships, but not all, and you don&#39;t have any with the CascadeType.PERSIST. If this is a new graph, &#39;save&#39; is a spring api that is likely determining your graph is new and so using EntityManager.persist. If you don&#39;t have the cascade persist option set on the graph, JPA will not cascade over the graph and pick up new entities being referenced."},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701065518,"post_id":77523406,"comment_id":136724158,"body_markdown":"@Chris that&#39;s the thing: I don&#39;t want to get dependent on whether cascade relationships are properly configured or not. Do you think I can achieve my goal?","body":"@Chris that&#39;s the thing: I don&#39;t want to get dependent on whether cascade relationships are properly configured or not. Do you think I can achieve my goal?"},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701065665,"post_id":77523406,"comment_id":136724172,"body_markdown":"@StanislavBashkyrtsev no, to the best of my knowledge. I don&#39;t handle `EntityManager` manually, I use Spring Data. All ids in the graph are indeed set (that&#39;s the purpose of `DataGenerator`, it returns &quot;fully initialized&quot; objects, including persistence-related dependencies, entities and DTOs)","body":"@StanislavBashkyrtsev no, to the best of my knowledge. I don&#39;t handle <code>EntityManager</code> manually, I use Spring Data. All ids in the graph are indeed set (that&#39;s the purpose of <code>DataGenerator</code>, it returns &quot;fully initialized&quot; objects, including persistence-related dependencies, entities and DTOs)"},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701073583,"post_id":77523406,"comment_id":136725090,"body_markdown":"@StanislavBashkyrtsev [related](https://stackoverflow.com/questions/77555439/can-i-ever-get-my-persister-work-its-intended-to-persist-a-graph-by-a-graph-n)","body":"@StanislavBashkyrtsev <a href=\"https://stackoverflow.com/questions/77555439/can-i-ever-get-my-persister-work-its-intended-to-persist-a-graph-by-a-graph-n\">related</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1701095875,"post_id":77523406,"comment_id":136729068,"body_markdown":"I don&#39;t quite understand. Your mappings are wrong for your stated intent and the error tells you the problem - you have a CreditOrder in the model that has ID already set somehow referenced in there and you&#39;ve not told JPA how to handle it. Is it existing? Note that the only relationship you&#39;ve shown to CreditOrder is from Credit, and you&#39;ve told JPA to do nothing with the entity (no cascade persist/Merge options on it), which is likely the cause of your issue. If you don&#39;t fix that, then you have to manually save the CreditOrder instance to use it in your graph.","body":"I don&#39;t quite understand. Your mappings are wrong for your stated intent and the error tells you the problem - you have a CreditOrder in the model that has ID already set somehow referenced in there and you&#39;ve not told JPA how to handle it. Is it existing? Note that the only relationship you&#39;ve shown to CreditOrder is from Credit, and you&#39;ve told JPA to do nothing with the entity (no cascade persist/Merge options on it), which is likely the cause of your issue. If you don&#39;t fix that, then you have to manually save the CreditOrder instance to use it in your graph."},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701096274,"post_id":77523406,"comment_id":136729161,"body_markdown":"@Chris I want it to work with *any* cascade settings (I can&#39;t flex cascade rules based on what I need in tests). JPA can&#39;t do this so I asked for alternative solutions","body":"@Chris I want it to work with <i>any</i> cascade settings (I can&#39;t flex cascade rules based on what I need in tests). JPA can&#39;t do this so I asked for alternative solutions"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1701126024,"post_id":77523406,"comment_id":136734319,"body_markdown":"Then no, there isn&#39;t a solution to read your object graph and decide you want cascade persist on all mappings. I&#39;d suggest a test-only orm.xml mapping which would allow you to define cascade persist on all relationships (but it wouldn&#39;t be fun to write!), or look into your provider&#39;s native api to do something more declaratively just for the persistence unit you are using for testing if you are not able to write a class aware setup method that can persist the objects in your graph directly (ie iterate over your mappings and call save on every object).","body":"Then no, there isn&#39;t a solution to read your object graph and decide you want cascade persist on all mappings. I&#39;d suggest a test-only orm.xml mapping which would allow you to define cascade persist on all relationships (but it wouldn&#39;t be fun to write!), or look into your provider&#39;s native api to do something more declaratively just for the persistence unit you are using for testing if you are not able to write a class aware setup method that can persist the objects in your graph directly (ie iterate over your mappings and call save on every object)."},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1701228823,"post_id":77523406,"comment_id":136748630,"body_markdown":"@Kodigas I agree with Chris - this whole endeavor doesn&#39;t make sense. You&#39;re trying to replace a few simple lines of code with a complicated automagic approach Even if you do find a way to do what you want, I&#39;d replace it with the code that explicitly persists the data.","body":"@Kodigas I agree with Chris - this whole endeavor doesn&#39;t make sense. You&#39;re trying to replace a few simple lines of code with a complicated automagic approach Even if you do find a way to do what you want, I&#39;d replace it with the code that explicitly persists the data."},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701234118,"post_id":77523406,"comment_id":136749039,"body_markdown":"@StanislavBashkyrtsev what lines of code? If you mean cascade attributes, then I can&#39;t do that. In business code, we don&#39;t necessarily want to e.g. save accounts when saving a card. It&#39;s not right to let business code follow test requirements","body":"@StanislavBashkyrtsev what lines of code? If you mean cascade attributes, then I can&#39;t do that. In business code, we don&#39;t necessarily want to e.g. save accounts when saving a card. It&#39;s not right to let business code follow test requirements"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1701242392,"post_id":77523406,"comment_id":136749885,"body_markdown":"@Kodigas, no I meant writing some kind of `save()` method that accepts your high-level object and persists its dependencies in the right order.","body":"@Kodigas, no I meant writing some kind of <code>save()</code> method that accepts your high-level object and persists its dependencies in the right order."},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701255429,"post_id":77523406,"comment_id":136752162,"body_markdown":"@StanislavBashkyrtsev but then again, I need to write a separate `save()` for each entity. It also won&#39;t be able to be reused in other applications with completely different object graphs. Not nice","body":"@StanislavBashkyrtsev but then again, I need to write a separate <code>save()</code> for each entity. It also won&#39;t be able to be reused in other applications with completely different object graphs. Not nice"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1701271515,"post_id":77523406,"comment_id":136755501,"body_markdown":"@Kodigas, how many types of these large entities you have? I usually have 1-2 per project, while the rest are small and the cascades work fine. So I wonder what&#39;s your situation.","body":"@Kodigas, how many types of these large entities you have? I usually have 1-2 per project, while the rest are small and the cascades work fine. So I wonder what&#39;s your situation."},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701331789,"post_id":77523406,"comment_id":136763088,"body_markdown":"@StanislavBashkyrtsev we have more or less one graph, but I want to persist it by any of its seven nodes (or rather, six since `Product` is not linked with anything)","body":"@StanislavBashkyrtsev we have more or less one graph, but I want to persist it by any of its seven nodes (or rather, six since <code>Product</code> is not linked with anything)"}],"answers":[{"comments":[{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1700645403,"post_id":77524048,"comment_id":136678957,"body_markdown":"Thank you for your feedback. Can you please see my last edit?","body":"Thank you for your feedback. Can you please see my last edit?"}],"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700580816,"creation_date":1700580816,"answer_id":77524048,"question_id":77523406,"body_markdown":"[Here&#39;s where the discussion stems for][1]. Most of the time Hibernate can figure out the order on its own:\r\n\r\n1. It uses the information in cascades to determine what fields to store first. So if you say `ClassA.fieldB` has `cascade=&quot;persist&quot;`, then ORM knows that `fieldB` has to be `INSERT`ed before the owning object.\r\n2. Additionally, it uses the collection `inverse` / `mappedBy` in order to determine whether elements of the collection can be `INSERT`ed w/o filling the FK (which potentially could be a non-null column and this will cause errors); or maybe we should first persist the parent object, and then insert the collection element with the FK already filled.\r\n\r\nI can&#39;t think of other factors right now that could be important, but these seem to be most critical anyway. Now, if all these were set up correctly, ORM should be able to figure out the right order of persisting.\r\n\r\nHowever, in practice there will be situations where a graph of objects can&#39;t be persisted because cascades are not (and must not!) be set up. E.g. if you have a User who lives in some Country, then your user can&#39;t be responsible for persisting Country, and vice versa.\r\n\r\nI think it&#39;s also possible to create a conflicting situation, like circular dependency, where ORMs will persist entities not in the order you hoped for. But I can&#39;t remember if in my practice that was the case or I simply was too lazy to find the cause :)\r\n\r\nAll in all, I don&#39;t think that this problem _can_ be solved for a general case (with ORM or not). Instead of persisting the graph dynamically, I&#39;d fall back to explicitly persisting the objects in the right order if your graph is so complex.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77485657/hibernate-swaps-columns-around-when-creating-a-table-why-on-earth-does-it-do-it?noredirect=1#comment136669631_77485657","title":"Are there out of the box solutions for persisting a whole object graph by its node?","body":"<p><a href=\"https://stackoverflow.com/questions/77485657/hibernate-swaps-columns-around-when-creating-a-table-why-on-earth-does-it-do-it?noredirect=1#comment136669631_77485657\">Here's where the discussion stems for</a>. Most of the time Hibernate can figure out the order on its own:</p>\n<ol>\n<li>It uses the information in cascades to determine what fields to store first. So if you say <code>ClassA.fieldB</code> has <code>cascade=&quot;persist&quot;</code>, then ORM knows that <code>fieldB</code> has to be <code>INSERT</code>ed before the owning object.</li>\n<li>Additionally, it uses the collection <code>inverse</code> / <code>mappedBy</code> in order to determine whether elements of the collection can be <code>INSERT</code>ed w/o filling the FK (which potentially could be a non-null column and this will cause errors); or maybe we should first persist the parent object, and then insert the collection element with the FK already filled.</li>\n</ol>\n<p>I can't think of other factors right now that could be important, but these seem to be most critical anyway. Now, if all these were set up correctly, ORM should be able to figure out the right order of persisting.</p>\n<p>However, in practice there will be situations where a graph of objects can't be persisted because cascades are not (and must not!) be set up. E.g. if you have a User who lives in some Country, then your user can't be responsible for persisting Country, and vice versa.</p>\n<p>I think it's also possible to create a conflicting situation, like circular dependency, where ORMs will persist entities not in the order you hoped for. But I can't remember if in my practice that was the case or I simply was too lazy to find the cause :)</p>\n<p>All in all, I don't think that this problem <em>can</em> be solved for a general case (with ORM or not). Instead of persisting the graph dynamically, I'd fall back to explicitly persisting the objects in the right order if your graph is so complex.</p>\n"}],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700650834,"creation_date":1700575195,"question_id":77523406,"body_markdown":"Is there some library that roughly speaking implements this interface?\r\n```java\r\npublic interface Persister {\r\n    /** Persists the whole graph represented by graphNode */\r\n    &lt;T&gt; void persistGraph(T graphNode);\r\n}\r\n```\r\nI want to persist all JPA entities of any given graph in the right order without doing it manually. I hoped it would replace manual `@Sql` scripts, like the following one, in my tests (trimmed for brevity). It&#39;s error-prone and not OOP\r\n```sql\r\nINSERT INTO PUBLIC.operation_type\r\nVALUES (&#39;e3376ede-920b-4f48-abda-b565dd29a102&#39;, &#39;REPLENISHMENT&#39;, true);\r\nINSERT INTO PUBLIC.operation_type\r\nVALUES (&#39;595cef39-29f3-4bf9-b9e1-30198a1d3df1&#39;, &#39;PAYMENT&#39;, false);\r\nINSERT INTO PUBLIC.operation_type\r\nVALUES (&#39;f806a8b9-82dd-444f-9e93-429e1e42d480&#39;, &#39;TRANSFER&#39;, false);\r\nINSERT INTO PUBLIC.operation_type\r\nVALUES (&#39;b02d27b1-3716-47c6-8160-d7e9ca4b6f6a&#39;, &#39;OTHER_EXPENDITURE&#39;, false);\r\n\r\nINSERT INTO PUBLIC.PRODUCT\r\nVALUES (1, &#39;product_name&#39;, 100, 100000, &#39;810&#39;, 5, 10, false, true, true, false, 1, 5, true, &#39;some_details&#39;, &#39;ANNUITY&#39;,\r\n        4, false, &#39;2&#39;, &#39;3.2&#39;, &#39;5.0&#39;, false, &#39;CONSUMER&#39;),\r\n       (2, &#39;product_name&#39;, 200, 200000, &#39;810&#39;, 2, 8, false, true, true, false, 1, 5, false, &#39;some_details&#39;, &#39;ANNUITY&#39;,\r\n        4, false, &#39;2&#39;, &#39;3.2&#39;, &#39;5.0&#39;, false, &#39;CONSUMER&#39;);\r\n\r\nINSERT INTO PUBLIC.CREDIT_ORDER\r\nVALUES (&#39;00000000-0000-0001-0000-000000000001&#39;, &#39;1&#39;, &#39;00000000-0000-0001-0000-000000000001&#39;, 1, &#39;PENDING&#39;, 100000, 12,\r\n        &#39;2020-01-02&#39;, 20000, 20000, &#39;123456&#39;);\r\nINSERT INTO PUBLIC.CREDIT_ORDER\r\nVALUES (&#39;00000000-0000-0001-0000-000000000002&#39;, &#39;2&#39;, &#39;00000000-0000-0001-0000-000000000001&#39;, 1, &#39;PENDING&#39;, 200000, 12,\r\n        &#39;2020-04-23&#39;, 20000, 40000, &#39;123456&#39;);\r\nINSERT INTO PUBLIC.CREDIT_ORDER\r\nVALUES (&#39;00000000-0000-0001-0000-000000000003&#39;, &#39;3&#39;, &#39;00000000-0000-0001-0000-000000000001&#39;, 2, &#39;PENDING&#39;, 100000, 12,\r\n        &#39;2020-10-16&#39;, 20000, 20000, &#39;123456&#39;);\r\n\r\n-- and so on\r\n```\r\nInstead, I would initialize my database with `ddl-auto=create-drop` (doing away with a &quot;schema.sql&quot;) and insert sample rows with a &quot;persister&quot; (doing away with a &quot;data.sql&quot;)\r\n```java\r\n@DataJpaTest\r\n@Import(value = BasicPersister.class)\r\nclass CardRepositoryTest {\r\n    @Autowired\r\n    private CardRepository cardRepository;\r\n    private DataGenerator dataGenerator; // this is another test utility that I wrote, it generates random entities, fully initialized\r\n    @Autowired\r\n    private Persister persister;\r\n    private Card expectedCard;\r\n    @BeforeEach\r\n    void setUp() {\r\n        dataGenerator = new BasicDataGenerator();\r\n        expectedCard = dataGenerator.generateRandomCard();\r\n        persister.persistGraph(expectedCard); // instead of all SQL inserts\r\n    }\r\n```\r\nJust to give you an understanding of what our object graph looks like, I&#39;ll paste the skeletons of our service&#39;s entities (I kept only association and id fields):\r\n```java\r\n/* I&#39;ll include these class annotations only for \r\nthe first entity to keep it short */\r\n\r\n@Entity\r\n@Table(name = &quot;card&quot;)\r\n@Getter\r\n@Setter(AccessLevel.PUBLIC)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Card {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @ManyToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;account_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Account account;\r\n}\r\n```\r\n```java\r\npublic class Account {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @OneToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;credit_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Credit credit;\r\n\r\n    @OneToMany(mappedBy = &quot;account&quot;)\r\n    private List&lt;Card&gt; cards;\r\n\r\n    @OneToMany(mappedBy = &quot;account&quot;)\r\n    private List&lt;PaymentSchedule&gt; paymentSchedules;\r\n}\r\n```\r\n```java\r\npublic class PaymentSchedule {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @ManyToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;account_id&quot;)\r\n    private Account account;\r\n}\r\n```\r\n```java\r\npublic class Credit {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @OneToOne(mappedBy = &quot;credit&quot;)\r\n    private Account account;\r\n\r\n    @OneToOne(mappedBy = &quot;credit&quot;)\r\n    private Agreement agreement;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;order_id&quot;)\r\n    private CreditOrder creditOrder;\r\n}\r\n```\r\n```java\r\npublic class Agreement {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @OneToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;credit_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Credit credit;\r\n}\r\n```\r\n```java\r\npublic class CreditOrder {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @ManyToOne(cascade = {CascadeType.MERGE, CascadeType.PERSIST})\r\n    @JoinColumn(name = &quot;product_id&quot;)\r\n    private Product product;\r\n}\r\n```\r\n```java\r\npublic class Product implements Serializable { // I have no idea why it implements Serializable\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n    \r\n    // it doesn&#39;t have any association fields\r\n}\r\n```\r\nI want to be able to persist the entire graph by persisting an object of *any* of the types above (except for `Product` which is not linked with anything). All of the following should work similarly:\r\n```java\r\n     persister.persistGraph(dataGenerator.generateRandomAgreement());\r\n     persister.persistGraph(dataGenerator.generateRandomCredit());\r\n     persister.persistGraph(dataGenerator.generateRandomAccount());\r\n```\r\nStandard JPA won&#39;t help. Things like\r\n```java\r\ncardRepository.save(dataGenerator.generateRandomCard());\r\n```\r\ncause exceptions like\r\n```\r\nCaused by: javax.persistence.EntityNotFoundException: Unable to find by.afinny.credit.entity.CreditOrder with id edbdc129-31a0-46db-a32e-fdcf472579d3\r\n```\r\nThat is, Hibernate (the ORM provider I use) can&#39;t figure out on its own the right order of object persistence\r\n\r\nFor days, I tried to implement my own solution, and I even started to believe I was making progress (I counted foreign keys), but then I discovered some limitations, tried to address them, and my code turned into a bad-smelling heap real quick. Apparently, it&#39;s a bit too complicated for me. But what if I don&#39;t have to write any code, and there&#39;s already some open-source library that deals with that?","title":"Are there out of the box solutions for persisting a whole object graph by its node?","body":"<p>Is there some library that roughly speaking implements this interface?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Persister {\n    /** Persists the whole graph represented by graphNode */\n    &lt;T&gt; void persistGraph(T graphNode);\n}\n</code></pre>\n<p>I want to persist all JPA entities of any given graph in the right order without doing it manually. I hoped it would replace manual <code>@Sql</code> scripts, like the following one, in my tests (trimmed for brevity). It's error-prone and not OOP</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO PUBLIC.operation_type\nVALUES ('e3376ede-920b-4f48-abda-b565dd29a102', 'REPLENISHMENT', true);\nINSERT INTO PUBLIC.operation_type\nVALUES ('595cef39-29f3-4bf9-b9e1-30198a1d3df1', 'PAYMENT', false);\nINSERT INTO PUBLIC.operation_type\nVALUES ('f806a8b9-82dd-444f-9e93-429e1e42d480', 'TRANSFER', false);\nINSERT INTO PUBLIC.operation_type\nVALUES ('b02d27b1-3716-47c6-8160-d7e9ca4b6f6a', 'OTHER_EXPENDITURE', false);\n\nINSERT INTO PUBLIC.PRODUCT\nVALUES (1, 'product_name', 100, 100000, '810', 5, 10, false, true, true, false, 1, 5, true, 'some_details', 'ANNUITY',\n        4, false, '2', '3.2', '5.0', false, 'CONSUMER'),\n       (2, 'product_name', 200, 200000, '810', 2, 8, false, true, true, false, 1, 5, false, 'some_details', 'ANNUITY',\n        4, false, '2', '3.2', '5.0', false, 'CONSUMER');\n\nINSERT INTO PUBLIC.CREDIT_ORDER\nVALUES ('00000000-0000-0001-0000-000000000001', '1', '00000000-0000-0001-0000-000000000001', 1, 'PENDING', 100000, 12,\n        '2020-01-02', 20000, 20000, '123456');\nINSERT INTO PUBLIC.CREDIT_ORDER\nVALUES ('00000000-0000-0001-0000-000000000002', '2', '00000000-0000-0001-0000-000000000001', 1, 'PENDING', 200000, 12,\n        '2020-04-23', 20000, 40000, '123456');\nINSERT INTO PUBLIC.CREDIT_ORDER\nVALUES ('00000000-0000-0001-0000-000000000003', '3', '00000000-0000-0001-0000-000000000001', 2, 'PENDING', 100000, 12,\n        '2020-10-16', 20000, 20000, '123456');\n\n-- and so on\n</code></pre>\n<p>Instead, I would initialize my database with <code>ddl-auto=create-drop</code> (doing away with a &quot;schema.sql&quot;) and insert sample rows with a &quot;persister&quot; (doing away with a &quot;data.sql&quot;)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DataJpaTest\n@Import(value = BasicPersister.class)\nclass CardRepositoryTest {\n    @Autowired\n    private CardRepository cardRepository;\n    private DataGenerator dataGenerator; // this is another test utility that I wrote, it generates random entities, fully initialized\n    @Autowired\n    private Persister persister;\n    private Card expectedCard;\n    @BeforeEach\n    void setUp() {\n        dataGenerator = new BasicDataGenerator();\n        expectedCard = dataGenerator.generateRandomCard();\n        persister.persistGraph(expectedCard); // instead of all SQL inserts\n    }\n</code></pre>\n<p>Just to give you an understanding of what our object graph looks like, I'll paste the skeletons of our service's entities (I kept only association and id fields):</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* I'll include these class annotations only for \nthe first entity to keep it short */\n\n@Entity\n@Table(name = &quot;card&quot;)\n@Getter\n@Setter(AccessLevel.PUBLIC)\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Card {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @ManyToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;account_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Account account;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Account {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;credit_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Credit credit;\n\n    @OneToMany(mappedBy = &quot;account&quot;)\n    private List&lt;Card&gt; cards;\n\n    @OneToMany(mappedBy = &quot;account&quot;)\n    private List&lt;PaymentSchedule&gt; paymentSchedules;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class PaymentSchedule {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @ManyToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;account_id&quot;)\n    private Account account;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Credit {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @OneToOne(mappedBy = &quot;credit&quot;)\n    private Account account;\n\n    @OneToOne(mappedBy = &quot;credit&quot;)\n    private Agreement agreement;\n\n    @OneToOne\n    @JoinColumn(name = &quot;order_id&quot;)\n    private CreditOrder creditOrder;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Agreement {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;credit_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Credit credit;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class CreditOrder {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @ManyToOne(cascade = {CascadeType.MERGE, CascadeType.PERSIST})\n    @JoinColumn(name = &quot;product_id&quot;)\n    private Product product;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Product implements Serializable { // I have no idea why it implements Serializable\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n    \n    // it doesn't have any association fields\n}\n</code></pre>\n<p>I want to be able to persist the entire graph by persisting an object of <em>any</em> of the types above (except for <code>Product</code> which is not linked with anything). All of the following should work similarly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>     persister.persistGraph(dataGenerator.generateRandomAgreement());\n     persister.persistGraph(dataGenerator.generateRandomCredit());\n     persister.persistGraph(dataGenerator.generateRandomAccount());\n</code></pre>\n<p>Standard JPA won't help. Things like</p>\n<pre class=\"lang-java prettyprint-override\"><code>cardRepository.save(dataGenerator.generateRandomCard());\n</code></pre>\n<p>cause exceptions like</p>\n<pre><code>Caused by: javax.persistence.EntityNotFoundException: Unable to find by.afinny.credit.entity.CreditOrder with id edbdc129-31a0-46db-a32e-fdcf472579d3\n</code></pre>\n<p>That is, Hibernate (the ORM provider I use) can't figure out on its own the right order of object persistence</p>\n<p>For days, I tried to implement my own solution, and I even started to believe I was making progress (I counted foreign keys), but then I discovered some limitations, tried to address them, and my code turned into a bad-smelling heap real quick. Apparently, it's a bit too complicated for me. But what if I don't have to write any code, and there's already some open-source library that deals with that?</p>\n"},{"tags":["java","firebase","oauth-2.0","firebase-cloud-messaging","google-oauth"],"owner":{"account_id":2489062,"reputation":21,"user_id":2166934,"display_name":"user2166934"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700650689,"creation_date":1700492494,"question_id":77516908,"body_markdown":"at the moment I&#39;m sending messages with a static Server-Key\r\n\r\n    conn.setRequestProperty(&quot;Authorization&quot;, SERVERKEY);\r\n\r\nNow I will send the messages with an access token via OAuth 2.0.\r\n\r\n    conn.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer ACCESSTOKEN&quot;);\r\n\r\nThe access token is valid for 1 hour.\r\nI need to retrieve a new valid access token.\r\nI&#39;m trying to implement this with the Firebase documentation.\r\nA json file was generate in the Firebase console.\r\n\r\n\r\n    private static final String MESSAGING_SCOPE = &quot;https://www.googleapis.com/auth/firebase.messaging&quot;;\r\n    private static final String[] SCOPES = { MESSAGING_SCOPE };\r\n    \r\n        private static String getAccessToken() throws IOException {\r\n            GoogleCredentials googleCredentials = GoogleCredentials\r\n                .fromStream(new FileInputStream(&quot;service.json&quot;))\r\n                .createScoped(Arrays.asList(SCOPES));\r\n            googleCredentials.refreshIfExpired();\r\n        AccessToken token = googleCredentials.getAccessToken();\r\n\r\n        return token.getTokenValue();\r\n        }\r\n\r\nBut the output after a longer time is:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.google.common.util.concurrent.Futures.getDone(Ljava/util/concurrent/Future;)Ljava/lang/Object;\r\n    \tat com.google.auth.oauth2.OAuth2Credentials.finishRefreshAsync(OAuth2Credentials.java:287)\r\n    \tat com.google.auth.oauth2.OAuth2Credentials.access$300(OAuth2Credentials.java:67)\r\n    ....\r\n\r\nI have embedded the firebase-admin lib as maven project:\r\n\t\r\n\r\n    &lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;9.2.0&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n\r\n\r\nPROBLEM SOLVED!\r\n\r\nThe above error is in Eclipse IDE.\r\n\r\nUnder IntelliJ the error output is another:\r\n\r\n    Error getting access token for service account: Connect timed out\r\n\r\nThe proxy settings in the IntelliJ IDE have no change, but in the source code:\r\n\r\n    System.setProperty(&quot;https.proxyHost&quot;, &quot;PROXYSERVER&quot;);\r\n    System.setProperty(&quot;https.proxyPort&quot;, &quot;PROXYPORT&quot;);\r\n    System.setProperty(&quot;com.google.api.client.should_use_proxy&quot;,&quot;true&quot;);\r\n\r\nI receive an access token.\r\n","title":"Send Firebase FCM HTTP v1 API with Java (SOLVED)","body":"<p>at the moment I'm sending messages with a static Server-Key</p>\n<pre><code>conn.setRequestProperty(&quot;Authorization&quot;, SERVERKEY);\n</code></pre>\n<p>Now I will send the messages with an access token via OAuth 2.0.</p>\n<pre><code>conn.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer ACCESSTOKEN&quot;);\n</code></pre>\n<p>The access token is valid for 1 hour.\nI need to retrieve a new valid access token.\nI'm trying to implement this with the Firebase documentation.\nA json file was generate in the Firebase console.</p>\n<pre><code>private static final String MESSAGING_SCOPE = &quot;https://www.googleapis.com/auth/firebase.messaging&quot;;\nprivate static final String[] SCOPES = { MESSAGING_SCOPE };\n\n    private static String getAccessToken() throws IOException {\n        GoogleCredentials googleCredentials = GoogleCredentials\n            .fromStream(new FileInputStream(&quot;service.json&quot;))\n            .createScoped(Arrays.asList(SCOPES));\n        googleCredentials.refreshIfExpired();\n    AccessToken token = googleCredentials.getAccessToken();\n\n    return token.getTokenValue();\n    }\n</code></pre>\n<p>But the output after a longer time is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.google.common.util.concurrent.Futures.getDone(Ljava/util/concurrent/Future;)Ljava/lang/Object;\n    at com.google.auth.oauth2.OAuth2Credentials.finishRefreshAsync(OAuth2Credentials.java:287)\n    at com.google.auth.oauth2.OAuth2Credentials.access$300(OAuth2Credentials.java:67)\n....\n</code></pre>\n<p>I have embedded the firebase-admin lib as maven project:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n        &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n        &lt;version&gt;9.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>PROBLEM SOLVED!</p>\n<p>The above error is in Eclipse IDE.</p>\n<p>Under IntelliJ the error output is another:</p>\n<pre><code>Error getting access token for service account: Connect timed out\n</code></pre>\n<p>The proxy settings in the IntelliJ IDE have no change, but in the source code:</p>\n<pre><code>System.setProperty(&quot;https.proxyHost&quot;, &quot;PROXYSERVER&quot;);\nSystem.setProperty(&quot;https.proxyPort&quot;, &quot;PROXYPORT&quot;);\nSystem.setProperty(&quot;com.google.api.client.should_use_proxy&quot;,&quot;true&quot;);\n</code></pre>\n<p>I receive an access token.</p>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1700584354,"post_id":77524372,"comment_id":136671430,"body_markdown":"`ModuleManager.modules` is being modified externally at the same time as you are sorting it. The only way to fix it is to find out what is modifying it, and either stop it doing so, or work out how to synchronize your sorting with it.","body":"<code>ModuleManager.modules</code> is being modified externally at the same time as you are sorting it. The only way to fix it is to find out what is modifying it, and either stop it doing so, or work out how to synchronize your sorting with it."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1700584471,"post_id":77524372,"comment_id":136671451,"body_markdown":"With that said, it seems highly dubious to be modifying the state of the other class like that - what if there is some importance to the other of that list?","body":"With that said, it seems highly dubious to be modifying the state of the other class like that - what if there is some importance to the other of that list?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1700584820,"post_id":77524372,"comment_id":136671528,"body_markdown":"Note: the ModuleComparator is not great at being a comparator, for example it will never return +1","body":"Note: the ModuleComparator is not great at being a comparator, for example it will never return +1"}],"answers":[{"tags":[],"owner":{"account_id":28671301,"reputation":11,"user_id":21954316,"display_name":"AdrianSt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700650591,"creation_date":1700650591,"answer_id":77529327,"question_id":77524372,"body_markdown":"ConcurrentModificationException is thrown when you try to modify a collection (like a list) while iterating over it. To fix this I would syncronize ModuleManager.modules.\r\n\r\n\r\n    synchronized (ModuleManager.modules) {\r\n        Collections.sort(ModuleManager.modules, new ModuleComparator());\r\n    }\r\nor:\r\n\r\n    List&lt;BaseModule&gt; modulesCopy;\r\n\r\n    synchronized (ModuleManager.modules) {\r\n        modulesCopy = new ArrayList&lt;&gt;(ModuleManager.modules);\r\n    }\r\n\r\n    Collections.sort(modulesCopy, new ModuleComparator());\r\n\r\n    synchronized (ModuleManager.modules) {\r\n        ModuleManager.modules.clear();\r\n        ModuleManager.modules.addAll(modulesCopy);\r\n    }\r\n\r\nBoth your if statements are the same btw ","title":"Java 1.8 - Collections.sort() throws ConcurrentModificationException","body":"<p>ConcurrentModificationException is thrown when you try to modify a collection (like a list) while iterating over it. To fix this I would syncronize ModuleManager.modules.</p>\n<pre><code>synchronized (ModuleManager.modules) {\n    Collections.sort(ModuleManager.modules, new ModuleComparator());\n}\n</code></pre>\n<p>or:</p>\n<pre><code>List&lt;BaseModule&gt; modulesCopy;\n\nsynchronized (ModuleManager.modules) {\n    modulesCopy = new ArrayList&lt;&gt;(ModuleManager.modules);\n}\n\nCollections.sort(modulesCopy, new ModuleComparator());\n\nsynchronized (ModuleManager.modules) {\n    ModuleManager.modules.clear();\n    ModuleManager.modules.addAll(modulesCopy);\n}\n</code></pre>\n<p>Both your if statements are the same btw</p>\n"}],"owner":{"account_id":29959202,"reputation":1,"user_id":22959385,"display_name":"nekettt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700650591,"creation_date":1700583579,"question_id":77524372,"body_markdown":"I&#39;m working on my code and getting ConcurrentModificationException. How can i fix it?\r\nMy version of jdk is `jdk1.8.0_361`\r\nBelow is my code\r\n```\r\npackage net.stroke.modules.render;\r\n\r\nimport java.util.Collections;\r\nimport java.util.Comparator;\r\n\r\nimport net.minecraft.client.Minecraft;\r\nimport net.stroke.modulesystem.BaseModule;\r\nimport net.stroke.modulesystem.ModuleCategory;\r\nimport net.stroke.modulesystem.ModuleManager;\r\n\r\npublic class Hud extends BaseModule {\r\n\tpublic Hud() {\r\n\t\tsuper(&quot;Hud&quot;, &quot;Shows enabled modules and important information&quot;, 0x00, ModuleCategory.RENDER, true);\r\n\t}\r\n\t\r\n\tpublic static class ModuleComparator implements Comparator&lt;BaseModule&gt; {\r\n\t\t@Override\r\n\t\tpublic int compare(BaseModule first, BaseModule second) {\r\n\t\t\tif(Minecraft.getMinecraft().fontRendererObj.getStringWidth(first.name) &gt; Minecraft.getMinecraft().fontRendererObj.getStringWidth(second.name)) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(Minecraft.getMinecraft().fontRendererObj.getStringWidth(first.name) &gt; Minecraft.getMinecraft().fontRendererObj.getStringWidth(second.name)) {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void onRender() {\r\n\t\tCollections.sort(ModuleManager.modules, new ModuleComparator());\r\n\t}\r\n}\r\n```\r\n\r\nI also tried sort method:\r\n```\r\nModuleManager.modules.sort(Comparator.comparingInt(module -&gt; mc.fontRendererObj.getStringWidth(((BaseModule)module).name)));\r\n```\r\n\r\nCould anyone help me on this?","title":"Java 1.8 - Collections.sort() throws ConcurrentModificationException","body":"<p>I'm working on my code and getting ConcurrentModificationException. How can i fix it?\nMy version of jdk is <code>jdk1.8.0_361</code>\nBelow is my code</p>\n<pre><code>package net.stroke.modules.render;\n\nimport java.util.Collections;\nimport java.util.Comparator;\n\nimport net.minecraft.client.Minecraft;\nimport net.stroke.modulesystem.BaseModule;\nimport net.stroke.modulesystem.ModuleCategory;\nimport net.stroke.modulesystem.ModuleManager;\n\npublic class Hud extends BaseModule {\n    public Hud() {\n        super(&quot;Hud&quot;, &quot;Shows enabled modules and important information&quot;, 0x00, ModuleCategory.RENDER, true);\n    }\n    \n    public static class ModuleComparator implements Comparator&lt;BaseModule&gt; {\n        @Override\n        public int compare(BaseModule first, BaseModule second) {\n            if(Minecraft.getMinecraft().fontRendererObj.getStringWidth(first.name) &gt; Minecraft.getMinecraft().fontRendererObj.getStringWidth(second.name)) {\n                return -1;\n            }\n            \n            if(Minecraft.getMinecraft().fontRendererObj.getStringWidth(first.name) &gt; Minecraft.getMinecraft().fontRendererObj.getStringWidth(second.name)) {\n                return 1;\n            }\n            \n            return 0;\n        }\n    }\n    \n    public void onRender() {\n        Collections.sort(ModuleManager.modules, new ModuleComparator());\n    }\n}\n</code></pre>\n<p>I also tried sort method:</p>\n<pre><code>ModuleManager.modules.sort(Comparator.comparingInt(module -&gt; mc.fontRendererObj.getStringWidth(((BaseModule)module).name)));\n</code></pre>\n<p>Could anyone help me on this?</p>\n"},{"tags":["java","spring","error-handling"],"answers":[{"comments":[{"owner":{"account_id":21334535,"reputation":13,"user_id":15705964,"display_name":"Christian Giebel"},"score":0,"creation_date":1701261618,"post_id":77528964,"comment_id":136753343,"body_markdown":"Thanks, I expected something like this. Feels a little bit doubling the work but is logical that something like this is needed","body":"Thanks, I expected something like this. Feels a little bit doubling the work but is logical that something like this is needed"}],"tags":[],"owner":{"account_id":1137729,"reputation":106,"user_id":1122523,"display_name":"goodspeed"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700647603,"creation_date":1700647603,"answer_id":77528964,"question_id":77528897,"body_markdown":"Yes, you can prevent the `@ExceptionHandler(Exception.class)` from catching ResponseStatusException by specifying it explicitly in a separate method. Here&#39;s an example:\r\n\r\n```java\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.ControllerAdvice;\r\nimport org.springframework.web.bind.annotation.ExceptionHandler;\r\nimport org.springframework.web.server.ResponseStatusException;\r\n\r\n@ControllerAdvice\r\npublic class GlobalExceptionHandler {\r\n\r\n    @ExceptionHandler(ResponseStatusException.class)\r\n    public ResponseEntity&lt;String&gt; handleResponseStatusException(ResponseStatusException ex) {\r\n        // Handle ResponseStatusException\r\n        // You can access the HttpStatus from ex.getStatus()\r\n        return new ResponseEntity&lt;&gt;(ex.getMessage(), ex.getStatus());\r\n    }\r\n\r\n    @ExceptionHandler(Exception.class)\r\n    public ResponseEntity&lt;String&gt; handleUnexpectedException(Exception ex) {\r\n        // Handle other unexpected exceptions\r\n        // Log the error or perform any other necessary actions\r\n        return new ResponseEntity&lt;&gt;(&quot;An unexpected error occurred&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n}\r\n```\r\n\r\nThis way, when a `ResponseStatusException` is thrown, it will be caught by the `handleResponseStatusException` method, and other unexpected exceptions will be caught by the `handleUnexpectedException` method.","title":"Possible to use ResponseStatusException and ControllerAdvice together?","body":"<p>Yes, you can prevent the <code>@ExceptionHandler(Exception.class)</code> from catching ResponseStatusException by specifying it explicitly in a separate method. Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.server.ResponseStatusException;\n\n@ControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(ResponseStatusException.class)\n    public ResponseEntity&lt;String&gt; handleResponseStatusException(ResponseStatusException ex) {\n        // Handle ResponseStatusException\n        // You can access the HttpStatus from ex.getStatus()\n        return new ResponseEntity&lt;&gt;(ex.getMessage(), ex.getStatus());\n    }\n\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity&lt;String&gt; handleUnexpectedException(Exception ex) {\n        // Handle other unexpected exceptions\n        // Log the error or perform any other necessary actions\n        return new ResponseEntity&lt;&gt;(&quot;An unexpected error occurred&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n<p>This way, when a <code>ResponseStatusException</code> is thrown, it will be caught by the <code>handleResponseStatusException</code> method, and other unexpected exceptions will be caught by the <code>handleUnexpectedException</code> method.</p>\n"}],"owner":{"account_id":21334535,"reputation":13,"user_id":15705964,"display_name":"Christian Giebel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77528964,"answer_count":1,"score":0,"last_activity_date":1700650508,"creation_date":1700646941,"question_id":77528897,"body_markdown":"Before the `ResponseStatusException` was introduced I always used an `@ControllerAdvice` to map exceptions(validation exceptions, custom exceptions,...) to error responses in Java Spring projects.\r\n\r\nNow with the `ResponseStatusException` I don&#39;t have to map every exception to a response and in general I don&#39;t have to create a customException for everything, I can use `ResponseStatusException` directly. I don&#39;t want to discuss if it would be better to have custom exceptions instead of `ResponseStatusException`, this is a different topic.\r\n\r\nBut when I&#39;m handling expected errors with `ResponseStatusException` I still need an `@ControllerAdvice` for handling validation exceptions (`ConstraintViolationException`, `MethodArgumentNotValidException`, ...) and every unexpected error like this.\r\n\r\n```java\r\n@ExceptionHandler(Exception.class)\r\npublic ResponseEntity&lt;String&gt; lastDefender(Exception ex)\r\n{\r\n    logger.error(&quot;Unhandled error occurred&quot;, ex.getMessage());\r\n    return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n}\r\n```\r\n\r\nBut the this `@ExceptionHandler(Exception.class)` will fetch the `ResponseStatusException` too (surprise)\r\n\r\nIs there a way to prevent this?\r\n\r\n","title":"Possible to use ResponseStatusException and ControllerAdvice together?","body":"<p>Before the <code>ResponseStatusException</code> was introduced I always used an <code>@ControllerAdvice</code> to map exceptions(validation exceptions, custom exceptions,...) to error responses in Java Spring projects.</p>\n<p>Now with the <code>ResponseStatusException</code> I don't have to map every exception to a response and in general I don't have to create a customException for everything, I can use <code>ResponseStatusException</code> directly. I don't want to discuss if it would be better to have custom exceptions instead of <code>ResponseStatusException</code>, this is a different topic.</p>\n<p>But when I'm handling expected errors with <code>ResponseStatusException</code> I still need an <code>@ControllerAdvice</code> for handling validation exceptions (<code>ConstraintViolationException</code>, <code>MethodArgumentNotValidException</code>, ...) and every unexpected error like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExceptionHandler(Exception.class)\npublic ResponseEntity&lt;String&gt; lastDefender(Exception ex)\n{\n    logger.error(&quot;Unhandled error occurred&quot;, ex.getMessage());\n    return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n}\n</code></pre>\n<p>But the this <code>@ExceptionHandler(Exception.class)</code> will fetch the <code>ResponseStatusException</code> too (surprise)</p>\n<p>Is there a way to prevent this?</p>\n"},{"tags":["java","base64"],"comments":[{"owner":{"account_id":1888905,"reputation":15363,"user_id":1707520,"accept_rate":100,"display_name":"sol4me"},"score":2,"creation_date":1418681420,"post_id":27494014,"comment_id":43419827,"body_markdown":"Do you want to do it manually or want to use 3rd party library?","body":"Do you want to do it manually or want to use 3rd party library?"},{"owner":{"account_id":2101654,"reputation":530,"user_id":1869110,"accept_rate":58,"display_name":"YazanLpizra"},"score":0,"creation_date":1418681477,"post_id":27494014,"comment_id":43419849,"body_markdown":"I would prefer manually for the purpose of understanding the inner workings","body":"I would prefer manually for the purpose of understanding the inner workings"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1418681507,"post_id":27494014,"comment_id":43419862,"body_markdown":"What that means is that you have to convert your hexadecimal string to a `byte[]`, so that a string like `8DAB11` is converted to `{ (byte)0x8D, (byte)0xAB, (byte)0x11 }` - or to a similar collection of bytes. No `StringBuilder`s.","body":"What that means is that you have to convert your hexadecimal string to a <code>byte[]</code>, so that a string like <code>8DAB11</code> is converted to <code>{ (byte)0x8D, (byte)0xAB, (byte)0x11 }</code> - or to a similar collection of bytes. No <code>StringBuilder</code>s."},{"owner":{"account_id":2101654,"reputation":530,"user_id":1869110,"accept_rate":58,"display_name":"YazanLpizra"},"score":0,"creation_date":1418681725,"post_id":27494014,"comment_id":43419973,"body_markdown":"I don&#39;t mind, I would just like to understand what is going on. I saw many implementations online with byte arrays, but I don&#39;t get whats going on","body":"I don&#39;t mind, I would just like to understand what is going on. I saw many implementations online with byte arrays, but I don&#39;t get whats going on"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1418681932,"post_id":27494014,"comment_id":43420073,"body_markdown":"So you&#39;ll need to scratch your program and start fresh. General guidelines: Write methods to convert hex to byte array, byte array to hex, and byte array to string (each byte to a char). Then write a method that converts a byte array to another byte array using the base64 algorithm. Manipulate the bits using bitwise operations like `&amp;`, `|`, `&lt;&lt;`, `&gt;&gt;` etc.","body":"So you&#39;ll need to scratch your program and start fresh. General guidelines: Write methods to convert hex to byte array, byte array to hex, and byte array to string (each byte to a char). Then write a method that converts a byte array to another byte array using the base64 algorithm. Manipulate the bits using bitwise operations like <code>&amp;</code>, <code>|</code>, <code>&lt;&lt;</code>, <code>&gt;&gt;</code> etc."},{"owner":{"account_id":2101654,"reputation":530,"user_id":1869110,"accept_rate":58,"display_name":"YazanLpizra"},"score":0,"creation_date":1418682137,"post_id":27494014,"comment_id":43420199,"body_markdown":"Ok, thank you. I will work on that. Thank you","body":"Ok, thank you. I will work on that. Thank you"}],"answers":[{"comments":[{"owner":{"account_id":1888905,"reputation":15363,"user_id":1707520,"accept_rate":100,"display_name":"sol4me"},"score":2,"creation_date":1418681559,"post_id":27494108,"comment_id":43419892,"body_markdown":"You forget to mention that Hex is from Commons Codec","body":"You forget to mention that Hex is from Commons Codec"},{"owner":{"account_id":2101654,"reputation":530,"user_id":1869110,"accept_rate":58,"display_name":"YazanLpizra"},"score":0,"creation_date":1418681771,"post_id":27494108,"comment_id":43420000,"body_markdown":"Thank you for that. But can you explain what the code does? And why does it use byte arrays?","body":"Thank you for that. But can you explain what the code does? And why does it use byte arrays?"},{"owner":{"account_id":2482826,"reputation":13761,"user_id":2161954,"accept_rate":93,"display_name":"SnakeDoc"},"score":2,"creation_date":1418682053,"post_id":27494108,"comment_id":43420144,"body_markdown":"@yazan here&#39;s the related javadoc&#39;s that explain what they do and what they return: http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Hex.html#decodeHex(char[]) -- and --  http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html#decodeBase64(byte[])","body":"@yazan here&#39;s the related javadoc&#39;s that explain what they do and what they return: <a href=\"http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Hex.html#decodeHex(char[])\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-codec/apidocs/org/apache/&hellip;</a> -- and --  <a href=\"http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html#decodeBase64(byte[])\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-codec/apidocs/org/apache/&hellip;</a>"}],"tags":[],"owner":{"account_id":3445468,"reputation":5604,"user_id":2886392,"accept_rate":81,"display_name":"JP Ventura"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1418681512,"creation_date":1418681512,"answer_id":27494108,"question_id":27494014,"body_markdown":"Extracted from this [Stack Overflow post][1], which references [Apache Commons Codec][2]\r\n\r\n    byte[] decodedHex = Hex.decodeHex(hex);\r\n    byte[] encodedHexB64 = Base64.codeBase64(decodedHex);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7372268/how-to-convert-hex-to-base64\r\n  [2]: http://commons.apache.org/proper/commons-codec/","title":"Java convert Hexadecimal to Base64","body":"<p>Extracted from this <a href=\"https://stackoverflow.com/questions/7372268/how-to-convert-hex-to-base64\">Stack Overflow post</a>, which references <a href=\"http://commons.apache.org/proper/commons-codec/\" rel=\"nofollow noreferrer\">Apache Commons Codec</a></p>\n\n<pre><code>byte[] decodedHex = Hex.decodeHex(hex);\nbyte[] encodedHexB64 = Base64.codeBase64(decodedHex);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9446144,"reputation":3019,"user_id":7024836,"accept_rate":42,"display_name":"Extreme "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498594082,"creation_date":1498594082,"answer_id":44789005,"question_id":27494014,"body_markdown":"\tString hex = &quot;00bc9d2a05ef06c79a6e972f8a36737e&quot;;\r\n\tbyte[] decodedHex = org.apache.commons.codec.binary.Hex.decodeHex(hex.toCharArray());\r\n\tString result = Base64.encodeBase64String(decodedHex);\r\n\tSystem.out.println(&quot;==&gt; &quot; + result);\r\n","title":"Java convert Hexadecimal to Base64","body":"<pre><code>String hex = \"00bc9d2a05ef06c79a6e972f8a36737e\";\nbyte[] decodedHex = org.apache.commons.codec.binary.Hex.decodeHex(hex.toCharArray());\nString result = Base64.encodeBase64String(decodedHex);\nSystem.out.println(\"==&gt; \" + result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7179535,"reputation":484,"user_id":5484072,"display_name":"jso"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700650418,"creation_date":1700650418,"answer_id":77529299,"question_id":27494014,"body_markdown":"With Java 17+ this can be done without additional dependencies:\r\n\r\n```\r\nimport java.util.Base64;\r\nimport java.util.HexFormat;\r\n\r\nString inputHex = &quot;9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08&quot;;\r\n\r\nbyte[] hexBytes = HexFormat.of().parseHex(inputHex);\r\nbyte[] base64Bytes = Base64.getEncoder().encode(hexBytes);\r\n```\r\n\r\nOr, optionally, getting it as String directly:\r\n```\r\nString base64String = Base64.getEncoder().encodeToString(hexBytes);\r\n```\r\n\r\nReferences:\r\n* https://stackoverflow.com/a/140861/5484072","title":"Java convert Hexadecimal to Base64","body":"<p>With Java 17+ this can be done without additional dependencies:</p>\n<pre><code>import java.util.Base64;\nimport java.util.HexFormat;\n\nString inputHex = &quot;9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08&quot;;\n\nbyte[] hexBytes = HexFormat.of().parseHex(inputHex);\nbyte[] base64Bytes = Base64.getEncoder().encode(hexBytes);\n</code></pre>\n<p>Or, optionally, getting it as String directly:</p>\n<pre><code>String base64String = Base64.getEncoder().encodeToString(hexBytes);\n</code></pre>\n<p>References:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/140861/5484072\">https://stackoverflow.com/a/140861/5484072</a></li>\n</ul>\n"}],"owner":{"account_id":2101654,"reputation":530,"user_id":1869110,"accept_rate":58,"display_name":"YazanLpizra"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10912,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1700650418,"creation_date":1418681121,"question_id":27494014,"body_markdown":"I am working on the Matasano CryptoChallenge, and the first one is to create a Hex to Base 64 converter.  I honestly don&#39;t know how to continue from here. My code:\r\n\r\n    public class HexToBase64 {\r\n\r\n    public static void main(String[] args) {\r\n    //        String hex  = &quot;49276d206b696c6c696e6720796f757220627261696e206c696b65206120706f69736f6e6f7573206d757368726f6f6d&quot;;\r\n        String hex = &quot;DA65A&quot;;\r\n        convertHexTo64(hex);\r\n    }\r\n \r\n    public static String convertHexTo64(String hex) {\r\n        //convert each letter in the hex string to a 4-digit binary string to create a binary representation of the hex string\r\n        StringBuilder binary = new StringBuilder();\r\n        for (int i = 0; i &lt; hex.length(); i++) {\r\n            int dec = Integer.parseInt(hex.charAt(i) + &quot;&quot;, 16);\r\n            StringBuilder bin = new StringBuilder(Integer.toBinaryString(dec));\r\n            while(bin.length() &lt; 4){\r\n                bin.insert(0,&#39;0&#39;);\r\n            }\r\n            binary.append(bin);\r\n        }\r\n        //now take 6 bits at a time and convert to a single b64 digit to create the final b64 representation\r\n        StringBuilder b64 = new StringBuilder();\r\n        for (int i = 0; i &lt; binary.length(); i++) {\r\n            String temp = binary.substring(i, i+5);\r\n            int dec = Integer.parseInt(temp, 10);\r\n            //convert dec to b64 with the lookup table here then append to b64\r\n        }\r\n\r\n        return b64.toString();\r\n    }\r\n    }\r\n\r\nSo after I separate the binary 6 bits at a time and convert to decimal, how do I map the decimal number to the corresponding digit in b64? Would a Hashmap/Hashtable implementation be efficient?\r\n\r\nAlso, this algorithm displays how I would go about doing the conversion by hand. Is there a better way of doing this? I am looking for a way to convert that will take a reasonable amount of time, so time, and implicitly efficiency, is relevant.\r\n\r\nThank you for your time\r\n\r\nEDIT: And the page also mentions that &quot;Always operate on raw bytes, never on encoded strings. Only use hex and base64 for pretty-printing.&quot; What does that mean exactly?","title":"Java convert Hexadecimal to Base64","body":"<p>I am working on the Matasano CryptoChallenge, and the first one is to create a Hex to Base 64 converter.  I honestly don't know how to continue from here. My code:</p>\n\n<pre><code>public class HexToBase64 {\n\npublic static void main(String[] args) {\n//        String hex  = \"49276d206b696c6c696e6720796f757220627261696e206c696b65206120706f69736f6e6f7573206d757368726f6f6d\";\n    String hex = \"DA65A\";\n    convertHexTo64(hex);\n}\n\npublic static String convertHexTo64(String hex) {\n    //convert each letter in the hex string to a 4-digit binary string to create a binary representation of the hex string\n    StringBuilder binary = new StringBuilder();\n    for (int i = 0; i &lt; hex.length(); i++) {\n        int dec = Integer.parseInt(hex.charAt(i) + \"\", 16);\n        StringBuilder bin = new StringBuilder(Integer.toBinaryString(dec));\n        while(bin.length() &lt; 4){\n            bin.insert(0,'0');\n        }\n        binary.append(bin);\n    }\n    //now take 6 bits at a time and convert to a single b64 digit to create the final b64 representation\n    StringBuilder b64 = new StringBuilder();\n    for (int i = 0; i &lt; binary.length(); i++) {\n        String temp = binary.substring(i, i+5);\n        int dec = Integer.parseInt(temp, 10);\n        //convert dec to b64 with the lookup table here then append to b64\n    }\n\n    return b64.toString();\n}\n}\n</code></pre>\n\n<p>So after I separate the binary 6 bits at a time and convert to decimal, how do I map the decimal number to the corresponding digit in b64? Would a Hashmap/Hashtable implementation be efficient?</p>\n\n<p>Also, this algorithm displays how I would go about doing the conversion by hand. Is there a better way of doing this? I am looking for a way to convert that will take a reasonable amount of time, so time, and implicitly efficiency, is relevant.</p>\n\n<p>Thank you for your time</p>\n\n<p>EDIT: And the page also mentions that \"Always operate on raw bytes, never on encoded strings. Only use hex and base64 for pretty-printing.\" What does that mean exactly?</p>\n"},{"tags":["java","hibernate","junit","spring-test"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1376917043,"post_id":18314281,"comment_id":26875356,"body_markdown":"http://static.springsource.org/spring/docs/3.2.x/spring-framework-reference/htmlsingle/#testcontext-tx","body":"<a href=\"http://static.springsource.org/spring/docs/3.2.x/spring-framework-reference/htmlsingle/#testcontext-tx\" rel=\"nofollow noreferrer\">static.springsource.org/spring/docs/3.2.x/&hellip;</a>"},{"owner":{"account_id":333463,"reputation":6290,"user_id":659354,"accept_rate":81,"display_name":"Raystorm"},"score":0,"creation_date":1393294197,"post_id":18314281,"comment_id":33349432,"body_markdown":"If you have a solution please mark an answer as accepted.","body":"If you have a solution please mark an answer as accepted."}],"answers":[{"comments":[{"owner":{"account_id":2927002,"reputation":271,"user_id":2508111,"display_name":"user2508111"},"score":0,"creation_date":1376917406,"post_id":18314354,"comment_id":26875570,"body_markdown":"I can&#39;t use @Transactional on myTestMethod or on class level because if I use this annotation then after getting response from server Junit become unresponsive(error occurs) because if I use this annotation here it means upper level transaction in which controller class will lie so transaction never closes in that case I have to restart our database.  Any further response will be appreciated.","body":"I can&#39;t use @Transactional on myTestMethod or on class level because if I use this annotation then after getting response from server Junit become unresponsive(error occurs) because if I use this annotation here it means upper level transaction in which controller class will lie so transaction never closes in that case I have to restart our database.  Any further response will be appreciated."},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1376917609,"post_id":18314354,"comment_id":26875678,"body_markdown":"I can&#39;t understand your comment. Are you saying that you have conflicting transaction management running? If something like this can hang your database, you have a serious configuration error on it somewhere and need to speak to a DBA.","body":"I can&#39;t understand your comment. Are you saying that you have conflicting transaction management running? If something like this can hang your database, you have a serious configuration error on it somewhere and need to speak to a DBA."}],"tags":[],"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":2,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1376916975,"creation_date":1376916975,"answer_id":18314354,"question_id":18314281,"body_markdown":"Annotate `myTestMethod` with `@Transactional` (assuming you&#39;re using annotation-based configuration).","title":"org.hibernate.LazyInitializationException: could not initialize proxy -no Session","body":"<p>Annotate <code>myTestMethod</code> with <code>@Transactional</code> (assuming you're using annotation-based configuration).</p>\n"},{"comments":[{"owner":{"account_id":2927002,"reputation":271,"user_id":2508111,"display_name":"user2508111"},"score":2,"creation_date":1376917648,"post_id":18314403,"comment_id":26875696,"body_markdown":"I can&#39;t use @Transactional on myTestMethod or on class level because if I use this annotation then after getting response from server Junit become unresponsive(error occurs) because if I use this annotation here it means upper level transaction in which controller class will lie so transaction never closes in that case I have to restart our database. Any further response will be appreciated.","body":"I can&#39;t use @Transactional on myTestMethod or on class level because if I use this annotation then after getting response from server Junit become unresponsive(error occurs) because if I use this annotation here it means upper level transaction in which controller class will lie so transaction never closes in that case I have to restart our database. Any further response will be appreciated."},{"owner":{"account_id":262192,"reputation":5128,"user_id":546888,"accept_rate":68,"display_name":"Gunjan Shah"},"score":0,"creation_date":1669734864,"post_id":18314403,"comment_id":131707150,"body_markdown":"There are two @Transactional annotation available. javax.transaction.Transactional and org.springframework.transaction.annotation.Transactional. Which one should we use here ?","body":"There are two @Transactional annotation available. javax.transaction.Transactional and org.springframework.transaction.annotation.Transactional. Which one should we use here ?"},{"owner":{"account_id":262192,"reputation":5128,"user_id":546888,"accept_rate":68,"display_name":"Gunjan Shah"},"score":0,"creation_date":1669735504,"post_id":18314403,"comment_id":131707424,"body_markdown":"I tried with org.springframework.transaction.annotation.Transactional annotation and it worked","body":"I tried with org.springframework.transaction.annotation.Transactional annotation and it worked"}],"tags":[],"owner":{"account_id":905416,"reputation":25876,"user_id":940428,"accept_rate":100,"display_name":"Prabhakaran Ramaswamy"},"comment_count":3,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1376917093,"creation_date":1376917093,"answer_id":18314403,"question_id":18314281,"body_markdown":"    @Test\r\n    @Transactional\r\n    public void myTestMethod ()\r\n    {\r\n           assertTrue(&quot;Response Validating&quot;,validate(baseEntity,perform()));\r\n    }\r\n","title":"org.hibernate.LazyInitializationException: could not initialize proxy -no Session","body":"<pre><code>@Test\n@Transactional\npublic void myTestMethod ()\n{\n       assertTrue(\"Response Validating\",validate(baseEntity,perform()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2927002,"reputation":271,"user_id":2508111,"display_name":"user2508111"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377002735,"creation_date":1377002735,"answer_id":18335419,"question_id":18314281,"body_markdown":"I got the solution for this problem. I was implementing OpenSessionInViewFilter in my testing code to overcome this problem but was doing silly mistake.\r\n\r\nPlease take a look on following code :\r\n\r\n    @Autowired\r\n    BeanFactory bf;\r\n    \r\n        @Before\r\n        \tpublic void setUp() throws Exception\r\n        \t{\r\n                 sessionFactory = (SessionFactory) bf.getBean(&quot;sessionFactory&quot;);\r\n        \t\tSession session = SessionFactoryUtils.getSession(sessionFactory, true);\r\n        \t\tsession.setFlushMode(FlushMode.NEVER);\r\n        \t\tTransactionSynchronizationManager.bindResource(sessionFactory, new SessionHolder(session));\r\n        }\r\n        \r\n        @After\r\n        \tpublic void tearDown() throws Exception\r\n        \t{\r\n        \t\tsuper.tearDown();\r\n        \t\tSessionHolder sessionHolder = (SessionHolder) TransactionSynchronizationManager.unbindResource(sessionFactory);\r\n        \t\tSession session = sessionHolder.getSession();\r\n        \t\tSessionFactoryUtils.closeSession(session);\r\n        \t\t\r\n        \t} \r\n\r\n\r\nEarlier I was not using \r\n`session.setFlushMode(FlushMode.NEVER)` this was the mistake.\r\n\r\nBTW thanks","title":"org.hibernate.LazyInitializationException: could not initialize proxy -no Session","body":"<p>I got the solution for this problem. I was implementing OpenSessionInViewFilter in my testing code to overcome this problem but was doing silly mistake.</p>\n\n<p>Please take a look on following code :</p>\n\n<pre><code>@Autowired\nBeanFactory bf;\n\n    @Before\n        public void setUp() throws Exception\n        {\n             sessionFactory = (SessionFactory) bf.getBean(\"sessionFactory\");\n            Session session = SessionFactoryUtils.getSession(sessionFactory, true);\n            session.setFlushMode(FlushMode.NEVER);\n            TransactionSynchronizationManager.bindResource(sessionFactory, new SessionHolder(session));\n    }\n\n    @After\n        public void tearDown() throws Exception\n        {\n            super.tearDown();\n            SessionHolder sessionHolder = (SessionHolder) TransactionSynchronizationManager.unbindResource(sessionFactory);\n            Session session = sessionHolder.getSession();\n            SessionFactoryUtils.closeSession(session);\n\n        } \n</code></pre>\n\n<p>Earlier I was not using \n<code>session.setFlushMode(FlushMode.NEVER)</code> this was the mistake.</p>\n\n<p>BTW thanks</p>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1700650434,"post_id":77528729,"comment_id":136679917,"body_markdown":"From the question: *&quot;we can&#39;t make initialization as EAGER as its performance issue&quot;*.","body":"From the question: <i>&quot;we can&#39;t make initialization as EAGER as its performance issue&quot;</i>."}],"tags":[],"owner":{"account_id":10132103,"reputation":666,"user_id":7485073,"display_name":"Pramuditha"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700645292,"creation_date":1700645292,"answer_id":77528729,"question_id":18314281,"body_markdown":"I also got this error due to using `(fetch = FetchType.LAZY)` in the entity. \r\n\r\nFetchType.Lazy means the object won’t be loaded to the Session context until it is accessed in code.\r\n\r\nThis error occurs when we try to fetch a lazy-loaded object from the database using a proxy object.\r\n\r\nThen I used `(fetch = FetchType.EAGER)`. After that, this issue was solved for me.","title":"org.hibernate.LazyInitializationException: could not initialize proxy -no Session","body":"<p>I also got this error due to using <code>(fetch = FetchType.LAZY)</code> in the entity.</p>\n<p>FetchType.Lazy means the object won’t be loaded to the Session context until it is accessed in code.</p>\n<p>This error occurs when we try to fetch a lazy-loaded object from the database using a proxy object.</p>\n<p>Then I used <code>(fetch = FetchType.EAGER)</code>. After that, this issue was solved for me.</p>\n"}],"owner":{"account_id":2927002,"reputation":271,"user_id":2508111,"display_name":"user2508111"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13583,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1700650359,"creation_date":1376916785,"question_id":18314281,"body_markdown":"I am getting this exception when I run a test case(Junit) for spring application.\r\n\r\nI searched for this problem and I got the information that whenever a lazy initialization occurs and my application tries to get second level data while session is closed(object become detached) then this error occurs, we can&#39;t make initialization as EAGER as its performance issue.\r\n    \r\nMy testing class contains  :\r\n    \r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    public class MyTestClass extends AbstractControllerTest {\r\n    \r\n    @Rule\r\n    public TestName testMethodName = new TestName();\r\n    \t\r\n    \t@Before\r\n    \tpublic void setUp() throws Exception\r\n    \t{\r\n               super.setUp();\r\n            }\r\n           @After\r\n    \tpublic void tearDown() throws Exception\r\n    \t{\r\n    \t\tsuper.tearDown();\r\n             }\r\n     @Test\r\n      public void myTestMethod ()\r\n     {\r\n        assertTrue(&quot;Response Validating&quot;,validate(baseEntity,perform()));\r\n     }\r\n    \r\n    }\r\n    \r\nIs there a way that can I put  method assertTrue(&quot;Response Validating&quot;,validate(baseEntity,perform())); in a transaction can bind with current session or with new session so that my detached object become persistent object and then My application can get second level data also. I searched for this problem and I found a solution on link :  http://www.jroller.com/RickHigh/entry/hibernate_spring_simulating_an_opensessioninviewfilter\r\nbut this link does not fulfil my requirement as it requires target object on which transaction is to be created.\r\n    \r\n    \r\n    ","title":"org.hibernate.LazyInitializationException: could not initialize proxy -no Session","body":"<p>I am getting this exception when I run a test case(Junit) for spring application.</p>\n<p>I searched for this problem and I got the information that whenever a lazy initialization occurs and my application tries to get second level data while session is closed(object become detached) then this error occurs, we can't make initialization as EAGER as its performance issue.</p>\n<p>My testing class contains  :</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\npublic class MyTestClass extends AbstractControllerTest {\n\n@Rule\npublic TestName testMethodName = new TestName();\n    \n    @Before\n    public void setUp() throws Exception\n    {\n           super.setUp();\n        }\n       @After\n    public void tearDown() throws Exception\n    {\n        super.tearDown();\n         }\n @Test\n  public void myTestMethod ()\n {\n    assertTrue(&quot;Response Validating&quot;,validate(baseEntity,perform()));\n }\n\n}\n</code></pre>\n<p>Is there a way that can I put  method assertTrue(&quot;Response Validating&quot;,validate(baseEntity,perform())); in a transaction can bind with current session or with new session so that my detached object become persistent object and then My application can get second level data also. I searched for this problem and I found a solution on link :  <a href=\"http://www.jroller.com/RickHigh/entry/hibernate_spring_simulating_an_opensessioninviewfilter\" rel=\"nofollow noreferrer\">http://www.jroller.com/RickHigh/entry/hibernate_spring_simulating_an_opensessioninviewfilter</a>\nbut this link does not fulfil my requirement as it requires target object on which transaction is to be created.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9873,"page":44,"page_size":100}
